From noreply at qgis.org  Sat Sep  1 00:04:17 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 01 Sep 2018 07:04:17 -0000
Subject: [QGIS-Developer] Plugin [1327] AusMap approval notification.
Message-ID: <20180901070417.11100.40956@2c6504964296>


Plugin AusMap approval by pcav.
The plugin version "[1327] AusMap 0.1" is now approved
Link: http://plugins.qgis.org/plugins/AusMap-master/

From cavallini at faunalia.it  Sat Sep  1 00:52:07 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 1 Sep 2018 09:52:07 +0200
Subject: [QGIS-Developer] GRIB not showing arrows
In-Reply-To: <CA+T_MsKg7bDwkyO_TN8iJ+DSxd8Kb9Oyw-XL7sn-d+F030KObQ@mail.gmail.com>
References: <5c7e2c5a-d594-f149-b281-f0c962fb3694@faunalia.it>
 <CA+T_MsKg7bDwkyO_TN8iJ+DSxd8Kb9Oyw-XL7sn-d+F030KObQ@mail.gmail.com>
Message-ID: <f3f94a19-b3d2-bacd-ca99-eafe3c3cb758@faunalia.it>

On 08/27/2018 07:30 AM, Peter Petrik wrote:
> Hi Paolo,
>
> when you are not able to enable vector arrows, the GRIB file could be
> incorrectly parsed by MDAL. In the general tab, there should be
> metadata section. Does it show that the dataset is vector or scalar?
Yes, confirmed. Thanks for clarifying.
All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis


From a.neumann at carto.net  Sat Sep  1 02:27:28 2018
From: a.neumann at carto.net (Andreas Neumann)
Date: Sat, 1 Sep 2018 11:27:28 +0200
Subject: [QGIS-Developer] Disappearing -180 / 180 longitude grid lines
 on certain zoom levels
In-Reply-To: <25620401.Dp6MOEh3sV@even-i700>
References: <6da490ff-e792-af49-7bf3-f270b81705d1@carto.net>
 <9745167.pVv86hFlvT@even-i700>
 <42ff9b7a-d589-c540-b873-74b5970bd878@carto.net>
 <25620401.Dp6MOEh3sV@even-i700>
Message-ID: <c2513d24-51b0-0ccc-b41b-8c4d2cfdefb3@carto.net>

Hi Even,

I just created an issue: https://issues.qgis.org/issues/19746

and assigned you - if this is ok. Feel free to remove yourself if you 
can't work on it.

I also added Richard's related issues for reference.

Thanks a lot in advance!

Andreas


Am 29.08.2018 um 21:58 schrieb Even Rouault:
> On mercredi 29 aoÃ»t 2018 21:50:25 CEST Andreas Neumann wrote:
>> Hi Even,
>>
>> Thank you very much for the detailed analysis of the spatial filter
>> issue we have here, that causes the disappearing grid lines.
>>
>> Would you be interested to work on fixing this issue on our bug fixing
>> program? This problem annoyed me for quite some time. And it appears on
>> different world projections.
> I might have a look at this, if nobody else more familiar with the relevant
> code looks at it. Is there a ticket filed about that ?
>
> Even
>
>> Thanks,
>>
>> Andreas
>>
>> Am 28.08.2018 um 22:19 schrieb Even Rouault:
>>> Yes, seems restricted to reprojection cases
>>>
>>> This seems to be an issue with the spatial filter issued to OGR
>>>
>>> At the zooms where the lines disappear, there are requests like:
>>>
>>> Thread 23 "Thread (pooled)" hit Breakpoint 2, OGR_L_SetSpatialFilterRect
>>> (hLayer=0x7f81180c90a0, dfMinX=-179.79163612932865,
>>> dfMinY=-69.446164378986353, dfMaxX=179.90530755284408,
>>> dfMaxY=78.959077253477474) at ogrlayer.cpp:1223
>>>
>>> At the zooms where that work (even when zoomed in), there are like:
>>>
>>> Thread 29 "Thread (pooled)" hit Breakpoint 2, OGR_L_SetSpatialFilterRect
>>> (hLayer=0x7f81180c90a0, dfMinX=-180, dfMinY=-90, dfMaxX=180, dfMaxY=90) at
>>> ogrlayer.cpp:1223
>>>
>>>
>>> I haven't looked at the QGIS code that computes this bounding box, but
>>> from my experience with gdalwarp which has similar challenges, it is
>>> tricky to compute a source bounding box from a target bounding box,
>>> because sometimes the coordinates in the target bounding box do not
>>> correspond to a physical point on Eath, and hence inverse projection
>>> fails. So you have to resort to a grid sampling approach, but that makes
>>> you miss the exact boundaries. So probably that a band-aid fix would be
>>> to add some ad-hoc logic, like "if the source SRS is long/lat, and the
>>> computed extent is almost worldwide, then extend it to full worlwide (or
>>> do not emit a spatial filter at all)"
>>>
>>> Even
>>>
>>>> With EPSG:4326 it does not seem to happen, but I tried EPSG:3857 and the
>>>> -180,180 grid lines do appear and disappear at different zoom levels. I
>>>> also confirm this with the Robinson projection with the addition that the
>>>> -90, 90 degree latitude lines also appear and disappear.
>>>>
>>>> Calvin
>>>>
>>>> On Tue, Aug 28, 2018 at 3:31 PM, Andreas Neumann <a.neumann at carto.net>
>>>>
>>>> wrote:
>>>>> Hi again,
>>>>>
>>>>> For some time already I noticed that, depending on the zoom level, the
>>>>> -180 / 180 degree grid lines appear / disappear in QGIS. This is
>>>>> unrelated
>>>>> to the EqualEarth projection just discussed and also appears on other
>>>>> world
>>>>> projections, like the Robinson projection.
>>>>>
>>>>> Here is the testfile I used with world (countries) and gridlines:
>>>>> http://www.carto.net/neumann/temp/gridlines.gpkg
>>>>>
>>>>> Can you reproduce this behaviour?
>>>>>
>>>>> Any idea why this happens and how this could be fixed?
>>>>>
>>>>> Thanks,
>>>>>
>>>>> Andreas
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> QGIS-Developer mailing list
>>>>> QGIS-Developer at lists.osgeo.org
>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


From nyall.dawson at gmail.com  Sat Sep  1 02:56:22 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 1 Sep 2018 19:56:22 +1000
Subject: [QGIS-Developer] What to do about WFS test failures?
Message-ID: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>

Hi devs,

Just raising the question of what we should do about the constant WFS
test failures we get on Travis. I'd estimate 1 in 3 builds fails
because of WFS related tests hanging.

I'm very reluctant to disable all these tests, because:

1. WFS is super important.
2. I think there may be a real issue here - I've got at least one
customer who is having WFS issues with 3.2 and master. BUT: on the
other hand Travis has always been flaky with any test which uses
threads, regardless of which area of code it's from. So it could just
be Travis playing up again, in which case we'd need to disable these
tests like we do most of the other thread-related tests...

The current situation is basically unworkable. Sooooo.... ideas?

Nyall

From apasotti at gmail.com  Sat Sep  1 03:18:42 2018
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sat, 1 Sep 2018 12:18:42 +0200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
Message-ID: <CAL5Q671qny65_k9cmra2xAGRaH2JMg9d_j3Akp6rgH0+bof3aQ@mail.gmail.com>

On Sat, Sep 1, 2018 at 11:56 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> Hi devs,
>
> Just raising the question of what we should do about the constant WFS
> test failures we get on Travis. I'd estimate 1 in 3 builds fails
> because of WFS related tests hanging.
>
> I'm very reluctant to disable all these tests, because:
>
> 1. WFS is super important.
> 2. I think there may be a real issue here - I've got at least one
> customer who is having WFS issues with 3.2 and master. BUT: on the
> other hand Travis has always been flaky with any test which uses
> threads, regardless of which area of code it's from. So it could just
> be Travis playing up again, in which case we'd need to disable these
> tests like we do most of the other thread-related tests...
>
> The current situation is basically unworkable. Sooooo.... ideas?
>
> Nyall
>


Sorry I do not have any solution,  the only consideration that comes up to
my mind is that if sum up all the time wasted by developers by
unrelated/random Travis failures we would probably be very badly surprised
(as I usually say Travis is basically a very slow binary entropy generator).

Talking about the tests, WFS tests, and (even for different reasons)
http-based integration tests (some auth tests, qgsfiledownloader, many
server OWS tests) are apparently more fragile than others, mainly because
they depend on (sometimes external) http services, but they have proven in
the past to be very effective in spotting out regressions on very important
feature likes WMS, WFS etc., some of them are also important because they
ensure that QGIS client can talk to its server component.

The very bad things about disabling tests are:

- their development costed a lot of time and efforts and disabling them is
not an incentive for the developers to write more tests [1]
- the tests are obviously important to prevent regressions
- before disabling a test we should make 100% sure that we are not
overlooking a real bug (or what are the tests written for in the first
place?)


So, my recommendation - not very useful in the short term I'm afraid -
would be to start exploring other more reliable options for our CI, even if
they are more expensive.

For the time being, as a temporary solution, there are no other options
than disabling though.

Maybe a good idea would be to allocate some money specifically for the
tests (a dedicated grant, a dedicated hackfest?) just an idea...

[1] of course sometimes it would just mean to write "better" and more
robust tests, but I suspect that this is not generally the case.

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180901/57a2b8c0/attachment-0001.html>

From rdmailings at duif.net  Sat Sep  1 03:37:44 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 1 Sep 2018 12:37:44 +0200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
Message-ID: <65021da5-a721-fab5-9242-7526c88d5c23@duif.net>

On 09/01/2018 11:56 AM, Nyall Dawson wrote:
> Hi devs,
> 
> Just raising the question of what we should do about the constant WFS
> test failures we get on Travis. I'd estimate 1 in 3 builds fails
> because of WFS related tests hanging.
> 
> I'm very reluctant to disable all these tests, because:
> 
> 1. WFS is super important.
> 2. I think there may be a real issue here - I've got at least one
> customer who is having WFS issues with 3.2 and master. BUT: on the
> other hand Travis has always been flaky with any test which uses
> threads, regardless of which area of code it's from. So it could just
> be Travis playing up again, in which case we'd need to disable these
> tests like we do most of the other thread-related tests...
> 
> The current situation is basically unworkable. Sooooo.... ideas?

To add: QGIS recently has some issues and list messages concerning wfs
too. I searched some:

https://issues.qgis.org/issues/19702

https://lists.osgeo.org/pipermail/qgis-user/2018-August/043237.html

https://lists.osgeo.org/pipermail/qgis-user/2018-August/043241.html

And myself I also have the feeling that WFS is less stable/usable then
in 2.18 (I release a list of national WFS/WMS/WCS's in one of my plugins).

So I think it is not only CI that has problems, it looks like changes in
WFS made it more tricky to use?

Regards,

Richard Duivenvoorde

From apasotti at gmail.com  Sat Sep  1 03:43:57 2018
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sat, 1 Sep 2018 12:43:57 +0200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <65021da5-a721-fab5-9242-7526c88d5c23@duif.net>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <65021da5-a721-fab5-9242-7526c88d5c23@duif.net>
Message-ID: <CAL5Q67031Z-4CLX_m9tfYRTok8sgStTO-5uxkFuZj9uFkd1orA@mail.gmail.com>

On Sat, Sep 1, 2018 at 12:37 PM Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> On 09/01/2018 11:56 AM, Nyall Dawson wrote:
> > Hi devs,
> >
> > Just raising the question of what we should do about the constant WFS
> > test failures we get on Travis. I'd estimate 1 in 3 builds fails
> > because of WFS related tests hanging.
> >
> > I'm very reluctant to disable all these tests, because:
> >
> > 1. WFS is super important.
> > 2. I think there may be a real issue here - I've got at least one
> > customer who is having WFS issues with 3.2 and master. BUT: on the
> > other hand Travis has always been flaky with any test which uses
> > threads, regardless of which area of code it's from. So it could just
> > be Travis playing up again, in which case we'd need to disable these
> > tests like we do most of the other thread-related tests...
> >
> > The current situation is basically unworkable. Sooooo.... ideas?
>
> To add: QGIS recently has some issues and list messages concerning wfs
> too. I searched some:
>
> https://issues.qgis.org/issues/19702
>
> https://lists.osgeo.org/pipermail/qgis-user/2018-August/043237.html
>
> https://lists.osgeo.org/pipermail/qgis-user/2018-August/043241.html
>
> And myself I also have the feeling that WFS is less stable/usable then
> in 2.18 (I release a list of national WFS/WMS/WCS's in one of my plugins).
>
> So I think it is not only CI that has problems, it looks like changes in
> WFS made it more tricky to use?
>


Richard, please let's focus on Travis in this thread.

WFS UX issues on 3.x are a complete different topic.


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180901/ec2930a6/attachment.html>

From rdmailings at duif.net  Sat Sep  1 04:25:03 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 1 Sep 2018 13:25:03 +0200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <CAL5Q67031Z-4CLX_m9tfYRTok8sgStTO-5uxkFuZj9uFkd1orA@mail.gmail.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <65021da5-a721-fab5-9242-7526c88d5c23@duif.net>
 <CAL5Q67031Z-4CLX_m9tfYRTok8sgStTO-5uxkFuZj9uFkd1orA@mail.gmail.com>
Message-ID: <f45868e9-95a9-6fa5-04f6-47e1e8ace446@duif.net>

On 09/01/2018 12:43 PM, Alessandro Pasotti wrote:

> Richard, please let's focus on Travis in this thread.
> 
> WFS UX issues on 3.x are a complete different topic.

Ok, sorry. What I just wanted to add: it looks like that 'default'-wfs
behaviour has changed, raising wfs problems .

I just wanted to raise awareness of this, thinking the CI failures could
have the same cause.

Regards,

Richard Duivenvoorde


From r.nijssen at terglobo.nl  Sun Sep  2 03:47:20 2018
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Sun, 2 Sep 2018 12:47:20 +0200
Subject: [QGIS-Developer] round function not working
In-Reply-To: <0ff75b26-3df2-2438-4368-89cb99dc7a48@gmail.com>
References: <d677bf7b-8e2e-54bd-e2b9-82259b87d603@gmail.com>
 <f0f89238-46a8-4141-9925-4339a9d3fdbe@carto.net>
 <0ff75b26-3df2-2438-4368-89cb99dc7a48@gmail.com>
Message-ID: <83343e86-04e5-50d7-00f3-be2c200e5b40@terglobo.nl>

Just discovered similar unexpected rounding behavior, but a bit 
different I think:


My expression is this one, to show lengths of tracks on my map, in km:

"etappe" || '\n (' || 
round((length(transform($geometry,'epsg:4326','epsg:31466'))/1000), 1) 
|| ' km)'


The rounding does actually work fine, but it seems the conversion from 
my rounded value to a string is the problem.

Here some examples (qgis 3.3):

round(0.99, 1) --> 1
round(1.00, 1) --> 1
round(1.01, 1) --> 1
round(1.02, 1) --> 1
round(1.03, 1) --> 1
round(1.04, 1) --> 1
round(1.05, 1) --> 1.1000000000000001
round(1.06, 1) --> 1.1000000000000001
round(1.07, 1) --> 1.1000000000000001
round(1.08, 1) --> 1.1000000000000001
round(1.09, 1) --> 1.1000000000000001
round(1.10, 1) --> 1.1000000000000001
round(1.11, 1) --> 1.1000000000000001
round(1.12, 1) --> 1.1000000000000001
round(1.13, 1) --> 1.1000000000000001
round(1.14, 1) --> 1.1000000000000001
round(1.15, 1) --> 1.2
round(1.16, 1) --> 1.2
round(1.17, 1) --> 1.2
round(1.18, 1) --> 1.2
round(1.19, 1) --> 1.2
round(1.20, 1) --> 1.2
round(1.19, 1) --> 1.2


The same works fine in 2.18.16.

Should I file a bug?

Kind regards,
Raymond



On 22-12-17 13:13, matteo wrote:
> Hi Andreas,
> 
> thanks for the testing. I'm suspecting that something is weird with my
> data....
> 
> thanks and sorry for the noise!
> 
> Cheers
> 
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Sun Sep  2 17:00:10 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 3 Sep 2018 10:00:10 +1000
Subject: [QGIS-Developer] round function not working
In-Reply-To: <83343e86-04e5-50d7-00f3-be2c200e5b40@terglobo.nl>
References: <d677bf7b-8e2e-54bd-e2b9-82259b87d603@gmail.com>
 <f0f89238-46a8-4141-9925-4339a9d3fdbe@carto.net>
 <0ff75b26-3df2-2438-4368-89cb99dc7a48@gmail.com>
 <83343e86-04e5-50d7-00f3-be2c200e5b40@terglobo.nl>
Message-ID: <CAB28AsiPKdcuB6HP-Oa7EZk_+3VFVcDvXzyz5DzQrOWp78MwMw@mail.gmail.com>

On Sun, 2 Sep 2018 at 20:47, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:
>
> Just discovered similar unexpected rounding behavior, but a bit
> different I think:
>
>
> My expression is this one, to show lengths of tracks on my map, in km:
>
> "etappe" || '\n (' ||
> round((length(transform($geometry,'epsg:4326','epsg:31466'))/1000), 1)
> || ' km)'
>
>
> The rounding does actually work fine, but it seems the conversion from
> my rounded value to a string is the problem.
>
> Here some examples (qgis 3.3):
>
> round(0.99, 1) --> 1
> round(1.00, 1) --> 1
> round(1.01, 1) --> 1
> round(1.02, 1) --> 1
> round(1.03, 1) --> 1
> round(1.04, 1) --> 1
> round(1.05, 1) --> 1.1000000000000001
> round(1.06, 1) --> 1.1000000000000001
> round(1.07, 1) --> 1.1000000000000001
> round(1.08, 1) --> 1.1000000000000001
> round(1.09, 1) --> 1.1000000000000001
> round(1.10, 1) --> 1.1000000000000001
> round(1.11, 1) --> 1.1000000000000001
> round(1.12, 1) --> 1.1000000000000001
> round(1.13, 1) --> 1.1000000000000001
> round(1.14, 1) --> 1.1000000000000001

Which Qt version is this with? Looks like bugs which we experienced with 5.6...

Nyall

From nyall.dawson at gmail.com  Sun Sep  2 17:01:46 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 3 Sep 2018 10:01:46 +1000
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <65021da5-a721-fab5-9242-7526c88d5c23@duif.net>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <65021da5-a721-fab5-9242-7526c88d5c23@duif.net>
Message-ID: <CAB28Asiuv=MAVGjzySNYdOgk5Mer1nwbANEg=oBPWm_BELPb-A@mail.gmail.com>

On Sat, 1 Sep 2018 at 20:37, Richard Duivenvoorde <rdmailings at duif.net> wrote:

> And myself I also have the feeling that WFS is less stable

This is my experience too, which is why I'm not going to 100%
attribute these errors to Travis!

Nyall

> /usable then
> in 2.18 (I release a list of national WFS/WMS/WCS's in one of my plugins).
>
> So I think it is not only CI that has problems, it looks like changes in
> WFS made it more tricky to use?
>
> Regards,
>
> Richard Duivenvoorde

From nirvn.asia at gmail.com  Sun Sep  2 18:34:08 2018
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Mon, 3 Sep 2018 08:34:08 +0700
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <CAB28Asiuv=MAVGjzySNYdOgk5Mer1nwbANEg=oBPWm_BELPb-A@mail.gmail.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <65021da5-a721-fab5-9242-7526c88d5c23@duif.net>
 <CAB28Asiuv=MAVGjzySNYdOgk5Mer1nwbANEg=oBPWm_BELPb-A@mail.gmail.com>
Message-ID: <CAC_qv=pqsJDH7e73wQhZmF0VHMs-+OVoU4EDeMBqreo9wGNMhA@mail.gmail.com>

Can these failures be reproduced locally if one repeatedly tests those
cases?

On Mon, Sep 3, 2018, 07:02 Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Sat, 1 Sep 2018 at 20:37, Richard Duivenvoorde <rdmailings at duif.net>
> wrote:
>
> > And myself I also have the feeling that WFS is less stable
>
> This is my experience too, which is why I'm not going to 100%
> attribute these errors to Travis!
>
> Nyall
>
> > /usable then
> > in 2.18 (I release a list of national WFS/WMS/WCS's in one of my
> plugins).
> >
> > So I think it is not only CI that has problems, it looks like changes in
> > WFS made it more tricky to use?
> >
> > Regards,
> >
> > Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180903/9d6af739/attachment.html>

From r.nijssen at terglobo.nl  Sun Sep  2 23:19:39 2018
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Mon, 3 Sep 2018 08:19:39 +0200
Subject: [QGIS-Developer] round function not working
In-Reply-To: <CAB28AsiPKdcuB6HP-Oa7EZk_+3VFVcDvXzyz5DzQrOWp78MwMw@mail.gmail.com>
References: <d677bf7b-8e2e-54bd-e2b9-82259b87d603@gmail.com>
 <f0f89238-46a8-4141-9925-4339a9d3fdbe@carto.net>
 <0ff75b26-3df2-2438-4368-89cb99dc7a48@gmail.com>
 <83343e86-04e5-50d7-00f3-be2c200e5b40@terglobo.nl>
 <CAB28AsiPKdcuB6HP-Oa7EZk_+3VFVcDvXzyz5DzQrOWp78MwMw@mail.gmail.com>
Message-ID: <ab94ba9c-ac94-cefc-7a76-55d08eb3a350@terglobo.nl>

On 03-09-18 02:00, Nyall Dawson wrote:
> On Sun, 2 Sep 2018 at 20:47, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:
>>
>> Just discovered similar unexpected rounding behavior, but a bit
>> different I think:
>>
>>
>> My expression is this one, to show lengths of tracks on my map, in km:
>>
>> "etappe" || '\n (' ||
>> round((length(transform($geometry,'epsg:4326','epsg:31466'))/1000), 1)
>> || ' km)'
>>
>>
>> The rounding does actually work fine, but it seems the conversion from
>> my rounded value to a string is the problem.
>>
>> Here some examples (qgis 3.3):
>>
>> round(0.99, 1) --> 1
>> round(1.00, 1) --> 1
>> round(1.01, 1) --> 1
>> round(1.02, 1) --> 1
>> round(1.03, 1) --> 1
>> round(1.04, 1) --> 1
>> round(1.05, 1) --> 1.1000000000000001
>> round(1.06, 1) --> 1.1000000000000001
>> round(1.07, 1) --> 1.1000000000000001
>> round(1.08, 1) --> 1.1000000000000001
>> round(1.09, 1) --> 1.1000000000000001
>> round(1.10, 1) --> 1.1000000000000001
>> round(1.11, 1) --> 1.1000000000000001
>> round(1.12, 1) --> 1.1000000000000001
>> round(1.13, 1) --> 1.1000000000000001
>> round(1.14, 1) --> 1.1000000000000001
> 
> Which Qt version is this with? Looks like bugs which we experienced with 5.6...
> 
> Nyall
> 

Yes, 5.5.1

Will it be solved with a newer version? I'm going to test it this week.

Raymond


From nyall.dawson at gmail.com  Sun Sep  2 23:39:57 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 3 Sep 2018 16:39:57 +1000
Subject: [QGIS-Developer] round function not working
In-Reply-To: <ab94ba9c-ac94-cefc-7a76-55d08eb3a350@terglobo.nl>
References: <d677bf7b-8e2e-54bd-e2b9-82259b87d603@gmail.com>
 <f0f89238-46a8-4141-9925-4339a9d3fdbe@carto.net>
 <0ff75b26-3df2-2438-4368-89cb99dc7a48@gmail.com>
 <83343e86-04e5-50d7-00f3-be2c200e5b40@terglobo.nl>
 <CAB28AsiPKdcuB6HP-Oa7EZk_+3VFVcDvXzyz5DzQrOWp78MwMw@mail.gmail.com>
 <ab94ba9c-ac94-cefc-7a76-55d08eb3a350@terglobo.nl>
Message-ID: <CAB28Asi9sZNr_+CUJs2wF+tYq=mBW0ZWOPvBG3eJHUppSyP7Vg@mail.gmail.com>

On Mon, 3 Sep 2018 at 16:19, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:
>
> On 03-09-18 02:00, Nyall Dawson wrote:
> > On Sun, 2 Sep 2018 at 20:47, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:
> >>
> >> Just discovered similar unexpected rounding behavior, but a bit
> >> different I think:
> >>
> >>
> >> My expression is this one, to show lengths of tracks on my map, in km:
> >>
> >> "etappe" || '\n (' ||
> >> round((length(transform($geometry,'epsg:4326','epsg:31466'))/1000), 1)
> >> || ' km)'
> >>
> >>
> >> The rounding does actually work fine, but it seems the conversion from
> >> my rounded value to a string is the problem.
> >>
> >> Here some examples (qgis 3.3):
> >>
> >> round(0.99, 1) --> 1
> >> round(1.00, 1) --> 1
> >> round(1.01, 1) --> 1
> >> round(1.02, 1) --> 1
> >> round(1.03, 1) --> 1
> >> round(1.04, 1) --> 1
> >> round(1.05, 1) --> 1.1000000000000001
> >> round(1.06, 1) --> 1.1000000000000001
> >> round(1.07, 1) --> 1.1000000000000001
> >> round(1.08, 1) --> 1.1000000000000001
> >> round(1.09, 1) --> 1.1000000000000001
> >> round(1.10, 1) --> 1.1000000000000001
> >> round(1.11, 1) --> 1.1000000000000001
> >> round(1.12, 1) --> 1.1000000000000001
> >> round(1.13, 1) --> 1.1000000000000001
> >> round(1.14, 1) --> 1.1000000000000001
> >
> > Which Qt version is this with? Looks like bugs which we experienced with 5.6...
> >
> > Nyall
> >
>
> Yes, 5.5.1
>
> Will it be solved with a newer version? I'm going to test it this week.

Yes - Qt fixed this bug in 5.7.

It caused us endless headaches during the 3.0 development cycle, but
in the end we couldn't solve it and the only fix is upgrading Qt. I'd
suggest you really want at least 5.9 now.

Nyall

From noreply at qgis.org  Mon Sep  3 01:47:06 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 03 Sep 2018 08:47:06 -0000
Subject: [QGIS-Developer] Plugin [629] Networks approval notification.
Message-ID: <20180903084706.27572.80984@2c6504964296>


Plugin Networks approval by pcav.
The plugin version "[629] Networks 2.0.3" is now approved
Link: http://plugins.qgis.org/plugins/networks/

From tom.chadwin at nnpa.org.uk  Mon Sep  3 02:35:58 2018
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Mon, 3 Sep 2018 02:35:58 -0700 (MST)
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <CAC_qv=pqsJDH7e73wQhZmF0VHMs-+OVoU4EDeMBqreo9wGNMhA@mail.gmail.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <65021da5-a721-fab5-9242-7526c88d5c23@duif.net>
 <CAB28Asiuv=MAVGjzySNYdOgk5Mer1nwbANEg=oBPWm_BELPb-A@mail.gmail.com>
 <CAC_qv=pqsJDH7e73wQhZmF0VHMs-+OVoU4EDeMBqreo9wGNMhA@mail.gmail.com>
Message-ID: <1535967358725-0.post@n6.nabble.com>

I can't offer any helpful suggestions, but just to let you know I finally had
to disable all my plugin WFS tests. I used to cope, by rerunning failed
Travis runs, but by about three months ago, it seemed no longer usable -
failure after failure.

I was using a third-party WFS, and perhaps I could have got round this by
adding a WFS provider to the test docker image, but in this plugin's case, I
didn't think it worth the significant effort to do so. The WM(T)S tests also
use third-party sources and seem stable, so perhaps this wasn't the
underlying issue anyway.

If an improvement or solution could be found, it would be great to reinstate
these tests.

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From regis.haubourg at gmail.com  Mon Sep  3 03:04:37 2018
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 3 Sep 2018 12:04:37 +0200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <1535967358725-0.post@n6.nabble.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <65021da5-a721-fab5-9242-7526c88d5c23@duif.net>
 <CAB28Asiuv=MAVGjzySNYdOgk5Mer1nwbANEg=oBPWm_BELPb-A@mail.gmail.com>
 <CAC_qv=pqsJDH7e73wQhZmF0VHMs-+OVoU4EDeMBqreo9wGNMhA@mail.gmail.com>
 <1535967358725-0.post@n6.nabble.com>
Message-ID: <CABgOYCetYCANmmiMzuUfSvdR1xYcPryOpscCQY2A2H3wYJn3jA@mail.gmail.com>

Hi all,
I very much think that the WFS client is an really bad state, and is not
really reliable, especially in WFS-T context.
The good news is that we just have been funded to refactor it !
The work should start in september and land in 3.6. I will let our dev's
come here with more technical details about the goals. I hope we will also
be able to take benefit of this to this the OGC compliancy of the client
here.
Best regards,
RÃ©gis

Le lun. 3 sept. 2018 Ã  11:36, Tom Chadwin <tom.chadwin at nnpa.org.uk> a
Ã©crit :

> I can't offer any helpful suggestions, but just to let you know I finally
> had
> to disable all my plugin WFS tests. I used to cope, by rerunning failed
> Travis runs, but by about three months ago, it seemed no longer usable -
> failure after failure.
>
> I was using a third-party WFS, and perhaps I could have got round this by
> adding a WFS provider to the test docker image, but in this plugin's case,
> I
> didn't think it worth the significant effort to do so. The WM(T)S tests
> also
> use third-party sources and seem stable, so perhaps this wasn't the
> underlying issue anyway.
>
> If an improvement or solution could be found, it would be great to
> reinstate
> these tests.
>
> Thanks
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from:
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180903/944ad185/attachment-0001.html>

From delazj at gmail.com  Mon Sep  3 05:42:12 2018
From: delazj at gmail.com (DelazJ)
Date: Mon, 3 Sep 2018 14:42:12 +0200
Subject: [QGIS-Developer] The gitter bridge doesn't support private
	messaging, or inviting to rooms.
Message-ID: <CAECJsSqZh5jE84N6oSQkarV6HGnxBf0Z8253Z-w_aGUS3hxD6Q@mail.gmail.com>

Hi,

Can someone give a look to this annoying message that floods the gitter
chat and makes it unusable and disturbing (with wrong notifications),
please?

Thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180903/845a9fbe/attachment.html>

From tom.chadwin at nnpa.org.uk  Mon Sep  3 05:58:51 2018
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Mon, 3 Sep 2018 05:58:51 -0700 (MST)
Subject: [QGIS-Developer] The gitter bridge doesn't support private
 messaging, or inviting to rooms.
In-Reply-To: <CAECJsSqZh5jE84N6oSQkarV6HGnxBf0Z8253Z-w_aGUS3hxD6Q@mail.gmail.com>
References: <CAECJsSqZh5jE84N6oSQkarV6HGnxBf0Z8253Z-w_aGUS3hxD6Q@mail.gmail.com>
Message-ID: <1535979531992-0.post@n6.nabble.com>

I was literally about to post this same message - I've left the QGIS Gitter
room because of the issue.

Thanks, Harrissou

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From adenaculture at gmail.com  Mon Sep  3 06:09:13 2018
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 3 Sep 2018 09:09:13 -0400
Subject: [QGIS-Developer] Popup window within Processing crashes QGIS
In-Reply-To: <CAB28AshUeF-gc+bAftxLgxLVi5L_22qD=O7Mu3+V-hP36nTQHg@mail.gmail.com>
References: <CABPxTTr5KNw4YmW43tOhSd9H=zG=PyUgP_K3oXW9E8-kN+Q3Zw@mail.gmail.com>
 <CAB28AsjNVvpe7tryYob9r4-r5Vz8rONNr7MACnBJ96n0LBbmqQ@mail.gmail.com>
 <CABPxTToUKH98cs-erPcOYK8qHcBuc6ji3s+0=xPm2qPw3hnxKA@mail.gmail.com>
 <CAB28AshUeF-gc+bAftxLgxLVi5L_22qD=O7Mu3+V-hP36nTQHg@mail.gmail.com>
Message-ID: <CABPxTTrDOkzfgObKdUQykABuOEts3CoZ8vuODqigmR7GHtBkcA@mail.gmail.com>

Nyall,

I have been working on an alternative KML/KMZ importing tool and a tool to
expand HTML tables within the description field containing tag/value
elements into fields in the table.  The reason for another importer is that
the GDAL implementation is in some sense too smart. The situation is that
if there are many folders in a KML, QGIS imports each as a layer and is
very slow at importing or crashes during the import if there happens to be
hundreds of layers. This also happens using ArcGIS. I am assuming that both
use GDAL and in some respects GDAL tries to do too much. Consequently, I
wrote this KML plugin to import KML/KMZ files in the way we wanted them.
The following is the capability prior to processing.

https://github.com/NationalSecurityAgency/qgis-kmltools-plugin

The biggest difference between the native import and this one is that
rather than create multiple layers for each folder of KMLs, I create one
point layer, one line layer and one polygon layer if required. I add an
additional field that contains the folder structure for each feature.This
makes the import very quick.

I have already converted this importer to processing. The second function
that expands HTML tables in the description field does a first pass to see
if there are any tables and makes note of the tags/fields to be created. It
then pops up a dialog box to allow the user to select what fields they want
expanded. They only way you could do this in processing, since I can't pop
up a selection box, is to expand all potential tags/fields, but the users
don't want to do this. They want to select which fields they want added and
they may not know which tags they want until they look at the list. This is
why I wont be able to do it in processing.

I have debated whether I should make this a separate plugin in or add the
functionality to Lat Lon Tools. I already have conversion routines such as
MGRS conversion and "Plus Codes" in Lat Lon Tools. What are your thoughts?
Should this be added to Lat Lon Tools or a separate plugin?

Calvin


On Fri, Aug 31, 2018 at 5:06 PM, Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On Fri, 31 Aug 2018 at 22:24, C Hamilton <adenaculture at gmail.com> wrote:
> >
> > Thanks Nyall!!! Unfortunately I was trying to make this a processing
> routine when I shouldn't have. It is good to know the boundaries. This
> function really requires user interactivity.
>
> Mind sharing the general function of the plugin? There may still be a
> way to make this work within Processing.
>
> Regards,
> Nyall
>
> >
> > Calvin
> >
> > On Thu, Aug 30, 2018 at 9:27 PM, Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
> >>
> >> On Thu, 30 Aug 2018 at 23:38, C Hamilton <adenaculture at gmail.com>
> wrote:
> >> >
> >> > I have an algorithm that during execution gathers information from
> the data and then pops up a window for the user to select what the user
> would like to do.
> >> >
> >> > Is this possible in the Processing framework? I have tried doing this
> in processAlgorithm and it crashes QGIS. Here is how I call the popup
> window.
> >>
> >> No - this is not supported and goes against the very fundamental
> >> design of Processing. Argggh! ;)
> >>
> >> But seriously, Processing was designed with the intention that all
> >> user choices are made up-front. This allows algorithms to be nicely
> >> executed inside of models, without the model halting mid-way waiting
> >> for user input. It also allows algorithms, scripts, models, etc to be
> >> run from headless environments such as console scripts.
> >>
> >> In this case, you're getting a crash because you're trying to create
> >> GUI components from your algorithm which is being executed in a
> >> background thread. This is a big no-no in Qt land, and usually results
> >> in a crash.
> >>
> >> Nyall
> >>
> >>
> >> >         fieldsDialog = SelectionDialog(self.tableFeatures)
> >> >         fieldsDialog.exec_()
> >> >         items = fieldsDialog.selected
> >> >
> >> > Here is the beginning of the SelectionDialong class.
> >> >
> >> > class SelectionDialog(QDialog, FIELDS_CLASS):
> >> >     def __init__(self, feat, parent=None):
> >> >         super(SelectionDialog, self).__init__(parent)
> >> >         self.setupUi(self)
> >> >
> >> > Prior to Processing I passed in iface.mainWindow() as the parent. Is
> there a proper parent in Processing to pass? Perhaps this is the reason it
> is crashing.
> >> >
> >> > class SelectionDialog(QDialog, FIELDS_CLASS):
> >> >     def __init__(self, iface, feat):
> >> >         super(SelectionDialog, self).__init__(iface.mainWindow())
> >> >         self.setupUi(self)
> >> >
> >> > Thanks,
> >> >
> >> > Calvin
> >
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180903/b24d2c50/attachment.html>

From noreply at qgis.org  Mon Sep  3 06:13:27 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 03 Sep 2018 13:13:27 -0000
Subject: [QGIS-Developer] Plugin [1246] go2mapillary approval notification.
Message-ID: <20180903131327.27571.64317@2c6504964296>


Plugin go2mapillary approval by pcav.
The plugin version "[1246] go2mapillary 2.1" is now approved
Link: http://plugins.qgis.org/plugins/go2mapillary/

From noreply at qgis.org  Mon Sep  3 06:19:32 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 03 Sep 2018 13:19:32 -0000
Subject: [QGIS-Developer] Plugin [1524] MzS Tools approval notification.
Message-ID: <20180903131932.27571.12800@2c6504964296>


Plugin MzS Tools approval by pcav.
The plugin version "[1524] MzS Tools 0.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/MzSTools/

From noreply at qgis.org  Mon Sep  3 07:43:10 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 03 Sep 2018 14:43:10 -0000
Subject: [QGIS-Developer] Plugin [537] IDECanarias approval notification.
Message-ID: <20180903144310.27570.9745@2c6504964296>


Plugin IDECanarias approval by pcav.
The plugin version "[537] IDECanarias 3.1.2" is now approved
Link: http://plugins.qgis.org/plugins/IDECanarias/

From matteo.ghetta at gmail.com  Mon Sep  3 07:52:19 2018
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 3 Sep 2018 16:52:19 +0200
Subject: [QGIS-Developer] Processing Script addLayerToLoadOnCompletion
Message-ID: <536303d5-1404-54dd-fec9-b2cc59b0e005@gmail.com>

Hi all,

I was thinking to add a small example of addLayerToLoadOnCompletion
function to the ScriptTemplate of Processing. The code is the following:

    buffered_layer = processing.run("native:buffer", parameters={
        'INPUT': dest_id,
        'DISTANCE': 10000,
        'SEGMENTS': 5,
        'END_CAP_STYLE': 0,
        'JOIN_STYLE': 0,
        'MITER_LIMIT': 2,
        'DISSOLVE': False,
        'OUTPUT': 'memory:'
    }, context=context, feedback=feedback)['OUTPUT']

    feedback.pushDebugInfo(str(dest_id))

    context.addLayerToLoadOnCompletion(buffered_layer.source(),
context.LayerDetails(
        name='new_layer',
        project=context.project()
    ))

but Processing always throws this error:

The following layers were not correctly
generated.<ul><li>Polygon?crs=EPSG:3003&field=ID:long(10)&field=fk:string(254)&field=ROTAZ:long(10)&field=DIMENS:long(10)&field=ETICHETTA:string(254)&field=VALORE:long(10)&field=T_MIN:double(20,5)&field=T_MAX:double(20,5)&field=PIOGGIA:double(20,5)&field=LARGH:double(20,5)&field=LUNG:double(20,5)&field=assex:string(254)&field=assey:string(254)&field=colore:string(38)&field=xlab:double(10,2)&field=ylab:double(10,2)&field=raster:double(23,15)&field=raster_1:double(23,15)&field=raster_2:double(23,15)&uid={685540af-711d-462b-a9d0-9b00af4c2f6a}</li></ul>You
can check the 'Log Messages Panel' in QGIS main window to find more
information about the execution of the algorithm.


Am I missing something?

Thanks for any suggestion

Matteo




From noreply at qgis.org  Mon Sep  3 08:49:14 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 03 Sep 2018 15:49:14 -0000
Subject: [QGIS-Developer] Plugin [1402] Calculate Geometry approval
	notification.
Message-ID: <20180903154914.27571.21591@2c6504964296>


Plugin Calculate Geometry approval by pcav.
The plugin version "[1402] Calculate Geometry 0.4" is now approved
Link: http://plugins.qgis.org/plugins/CalculateGeometry/

From matteo.ghetta at gmail.com  Mon Sep  3 09:11:50 2018
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 3 Sep 2018 18:11:50 +0200
Subject: [QGIS-Developer] Processing Script addLayerToLoadOnCompletion
In-Reply-To: <9161bd70-6622-1d4e-6d67-bff738a7f50c@nmbu.no>
References: <536303d5-1404-54dd-fec9-b2cc59b0e005@gmail.com>
 <9161bd70-6622-1d4e-6d67-bff738a7f50c@nmbu.no>
Message-ID: <e692b99e-00c0-c4ca-67a2-249d4e015b43@gmail.com>

Hi HÃ¥vard,

I knew that param has been replaced with parameters..

Anyway, removing parameters is not solving the problem

Thanks

Matteo

On 09/03/2018 06:07 PM, Havard Tveite wrote:
> "parameters=" should be removed in the run method.
> 
> HÃ¥vard

From martin.isenburg at gmail.com  Mon Sep  3 09:47:33 2018
From: martin.isenburg at gmail.com (Martin Isenburg)
Date: Mon, 3 Sep 2018 18:47:33 +0200
Subject: [QGIS-Developer] [Qgis-developer] OTB and LiDAR tools as
	separate plugins
In-Reply-To: <CABSWR-E3g1a6WiMKPkMUmiGa_71vGLxhujW9dxWp53TELjXrAw@mail.gmail.com>
References: <CAJsc-7y2KNe51ezox-EhPicOWZcAxif3QomK_Hw2gLYiR2ZkeA@mail.gmail.com>
 <d4952842-755c-d25c-ac8d-05fb7332dfcb@faunalia.it>
 <CAJsc-7zh=9ykisMC27HHWv9gTfeH44Ex0D4ej8UHA_Qu9BSQkA@mail.gmail.com>
 <fa7ce946f8633a3ef7e8bc7d75ce45ef@enoreth.net>
 <CABSWR-EMGbc0A1ssdZnvCOv5iX9KVKnWrder45c+JFXss0sS7g@mail.gmail.com>
 <CAJsc-7xKvQu2Ysk3ByKQgoac5bDAJuPBcgrg-vpKNdrGX79aCA@mail.gmail.com>
 <CABSWR-EuuaA=g4Pvciqe8P-ez7Xw5YiNgtSydwSquU2EoA_z0Q@mail.gmail.com>
 <CABSWR-Hqv07XDddX0OTguE=AWrc715Vn92o9+TK1u_i_inrtRQ@mail.gmail.com>
 <CALuHMPCX1Ts===wSdH8Mxx7XW=Du=8ARpaLEntvy6RrN21zQ1w@mail.gmail.com>
 <CABSWR-HReFXUmidJ-vLGuGpsKJWS3qdZQr37=pF6KZvjx9cBsw@mail.gmail.com>
 <CALuHMPArq5A=AP2CG128=xmSuGhoyRdFHmbKdhhWKh61pg7ywQ@mail.gmail.com>
 <CABSWR-ErKoy7gd0oaxBDAYAp7nmqFmPmMBMEpv1xUQC1fogWow@mail.gmail.com>
 <CABSWR-E3g1a6WiMKPkMUmiGa_71vGLxhujW9dxWp53TELjXrAw@mail.gmail.com>
Message-ID: <CABSWR-F4MfXXSHj_cG=VovhTACTKQQ8wP8u6S4bj-b3_aNV1uA@mail.gmail.com>

Hello,

my question was answered at the QGIS hackfest by Matteo Ghetta with a
DataPlotly code snippet. (-: You can add your own entries into the
"Processing Settings" menu under the "Providers" section by following the
example below in your own Provider class.

from processing.core.ProcessingConfig import Setting, ProcessingConfig

class LAStoolsProvider(QgsProcessingProvider):

    def __init__(self):
        QgsProcessingProvider.__init__(self)

    def load(self):
        ProcessingConfig.settingIcons[self.name()] = self.icon()
        ProcessingConfig.addSetting(Setting(self.name(),
'LASTOOLS_ACTIVATED', 'Activate', True))
        ProcessingConfig.addSetting(Setting(self.name(), 'LASTOOLS_FOLDER',
'LAStools folder', "C:\LAStools", valuetype=Setting.FOLDER))
        ProcessingConfig.addSetting(Setting(self.name(), 'WINE_FOLDER',
'Wine folder', "", valuetype=Setting.FOLDER))
        ProcessingConfig.readSettings()
        self.refreshAlgorithms()
        return True

    def unload(self):
        ProcessingConfig.removeSetting('LASTOOLS_ACTIVATED')
        ProcessingConfig.removeSetting('LASTOOLS_FOLDER')
        ProcessingConfig.removeSetting('WINE_FOLDER')
        pass

    def isActive(self):
        return ProcessingConfig.getSetting('LASTOOLS_ACTIVATED')

    def setActive(self, active):
        ProcessingConfig.setSettingValue('LASTOOLS_ACTIVATED', active)


    def loadAlgorithms(self):
       [...]

and you can always query those settings with code snippets such as

from processing.core.ProcessingConfig import ProcessingConfig
from processing.tools.system import isWindows

    @staticmethod
    def hasWine():
        wine_folder = ProcessingConfig.getSetting("WINE_FOLDER")
        return (wine_folder is not None) and (wine_folder != "")

    @staticmethod
    def LAStoolsPath():
        lastools_folder = ProcessingConfig.getSetting("LASTOOLS_FOLDER")
        if isWindows():
            wine_folder = ""
        else:
            wine_folder = ProcessingConfig.getSetting("WINE_FOLDER")
        if (wine_folder is None) or (wine_folder == ""):
            folder = lastools_folder
        else:
            folder = wine_folder + "/wine " + lastools_folder
        return folder

Regards,

Martin


On Fri, Aug 24, 2018 at 7:11 PM Martin Isenburg <martin.isenburg at gmail.com>
wrote:

> Hello,
>
> when the LAStools toolboxes were part of the "built-in" scripts of
> Processing I had was able to have two entries (i.e. the folder path to the
> "Wine" and the "LAStools" installation) in the "Processing Settings" menu
> under the "Providers" section. You can see as an example how GRASS still
> has such options in the attached screen shot. How can I place these two
> options back there now that I load the LAStools toolboxes as Processing
> plugins?
>
> Off for beers at the Zanzi-bar ... (-;
>
> Martin
>
> On Thu, Aug 23, 2018 at 8:26 PM, Alexander Bruy <alexander.bruy at gmail.com>
>> wrote:
>>
>>> Hi Martin,
>>>
>>> It is up to you how to distribute your plugin. You can publish it in
>>> QGIS Official
>>> plugins repository, or setup your own repository as many other
>>> developers do.
>>> It is even possible to share just a ZIP with the plugin via web-site,
>>> pretty much
>>> similar to how LAStools distributed.
>>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180903/b028d98f/attachment.html>

From martin.isenburg at gmail.com  Mon Sep  3 09:56:18 2018
From: martin.isenburg at gmail.com (Martin Isenburg)
Date: Mon, 3 Sep 2018 18:56:18 +0200
Subject: [QGIS-Developer] Python ResourceWarning: unclosed file in
	Processing Plugin
Message-ID: <CABSWR-E11G7PZm+nfeZbKs=SxZarwK3q2+h9cQva0dqfcwvvaQ@mail.gmail.com>

Hello,

as soon as I run any of my LAStools plugin scripts I get the WARNING
"ResourceWarning" about an "unclosed file" shown below in the Python
warning window. I use the call "output = subprocess.Popen(....)" to get the
stderr output from the process so I can push it to the console once the
subprocess is complete with
the feedback.pushConsoleInfo(output.decode("utf-8")). Is it bad? Can I fix
it? Should I ignore it?

Complete code:

https://github.com/rapidlasso/LAStoolsPluginQGIS3/blob/master/LAStools/LAStoolsUtils.py

Regards.

Martin

2018-09-03T18:34:08     WARNING
warning:C:/Users/isenburg/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\LAStools\LAStoolsUtils.py:60:
ResourceWarning:

             unclosed file

             traceback: File
"C:/Users/isenburg/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\LAStools\LAStoolsPipelines\flightlinesToDTMandSpikeFreeDSM.py",
line 82, in processAlgorithm
              LAStoolsUtils.runLAStools(commands, feedback)
              File
"C:/Users/isenburg/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\LAStools\LAStoolsUtils.py",
line 60, in runLAStools
              output = subprocess.Popen(commandline, shell=True,
stdout=subprocess.PIPE, stdin=open(os.devnull), stderr=subprocess.STDOUT,
universal_newlines=False).communicate()[0]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180903/0b320210/attachment.html>

From matteo.ghetta at gmail.com  Mon Sep  3 10:21:10 2018
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 3 Sep 2018 19:21:10 +0200
Subject: [QGIS-Developer] [Qgis-developer] OTB and LiDAR tools as
 separate plugins
In-Reply-To: <CABSWR-F4MfXXSHj_cG=VovhTACTKQQ8wP8u6S4bj-b3_aNV1uA@mail.gmail.com>
References: <CAJsc-7y2KNe51ezox-EhPicOWZcAxif3QomK_Hw2gLYiR2ZkeA@mail.gmail.com>
 <d4952842-755c-d25c-ac8d-05fb7332dfcb@faunalia.it>
 <CAJsc-7zh=9ykisMC27HHWv9gTfeH44Ex0D4ej8UHA_Qu9BSQkA@mail.gmail.com>
 <fa7ce946f8633a3ef7e8bc7d75ce45ef@enoreth.net>
 <CABSWR-EMGbc0A1ssdZnvCOv5iX9KVKnWrder45c+JFXss0sS7g@mail.gmail.com>
 <CAJsc-7xKvQu2Ysk3ByKQgoac5bDAJuPBcgrg-vpKNdrGX79aCA@mail.gmail.com>
 <CABSWR-EuuaA=g4Pvciqe8P-ez7Xw5YiNgtSydwSquU2EoA_z0Q@mail.gmail.com>
 <CABSWR-Hqv07XDddX0OTguE=AWrc715Vn92o9+TK1u_i_inrtRQ@mail.gmail.com>
 <CALuHMPCX1Ts===wSdH8Mxx7XW=Du=8ARpaLEntvy6RrN21zQ1w@mail.gmail.com>
 <CABSWR-HReFXUmidJ-vLGuGpsKJWS3qdZQr37=pF6KZvjx9cBsw@mail.gmail.com>
 <CALuHMPArq5A=AP2CG128=xmSuGhoyRdFHmbKdhhWKh61pg7ywQ@mail.gmail.com>
 <CABSWR-ErKoy7gd0oaxBDAYAp7nmqFmPmMBMEpv1xUQC1fogWow@mail.gmail.com>
 <CABSWR-E3g1a6WiMKPkMUmiGa_71vGLxhujW9dxWp53TELjXrAw@mail.gmail.com>
 <CABSWR-F4MfXXSHj_cG=VovhTACTKQQ8wP8u6S4bj-b3_aNV1uA@mail.gmail.com>
Message-ID: <07c387e9-d748-7d67-1832-a0408c3da43d@gmail.com>

Hi Martin,

glad that I could had helped you ;)

Cheers

Matteo

From noreply at qgis.org  Mon Sep  3 12:41:40 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 03 Sep 2018 19:41:40 -0000
Subject: [QGIS-Developer] Plugin [1526] LAStools approval notification.
Message-ID: <20180903194140.27569.12186@2c6504964296>


Plugin LAStools approval by pcav.
The plugin version "[1526] LAStools 1.0" is now approved
Link: http://plugins.qgis.org/plugins/LAStools/

From even.rouault at spatialys.com  Mon Sep  3 12:29:35 2018
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 03 Sep 2018 21:29:35 +0200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <CABgOYCetYCANmmiMzuUfSvdR1xYcPryOpscCQY2A2H3wYJn3jA@mail.gmail.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <1535967358725-0.post@n6.nabble.com>
 <CABgOYCetYCANmmiMzuUfSvdR1xYcPryOpscCQY2A2H3wYJn3jA@mail.gmail.com>
Message-ID: <2006908.A2mnh4HgtV@even-i700>

RÃ©gis,

Not that I'm against improvements, all the contrary, but just wanted to 
underline that the provider was seriously refactored already in 2.16. Clearly 
the lack of WFS-T support for 1.1 and 2.0 in the scope of those enhancements 
can be a source of confusion currently for users. What do you have in mind as 
refactoring exactly ?

Even

> Hi all,
> I very much think that the WFS client is an really bad state, and is not
> really reliable, especially in WFS-T context.
> The good news is that we just have been funded to refactor it !
> The work should start in september and land in 3.6. I will let our dev's
> come here with more technical details about the goals. I hope we will also
> be able to take benefit of this to this the OGC compliancy of the client
> here.
> Best regards,
> RÃ©gis
> 
> Le lun. 3 sept. 2018 Ã  11:36, Tom Chadwin <tom.chadwin at nnpa.org.uk> a
> 
> Ã©crit :
> > I can't offer any helpful suggestions, but just to let you know I finally
> > had
> > to disable all my plugin WFS tests. I used to cope, by rerunning failed
> > Travis runs, but by about three months ago, it seemed no longer usable -
> > failure after failure.
> > 
> > I was using a third-party WFS, and perhaps I could have got round this by
> > adding a WFS provider to the test docker image, but in this plugin's case,
> > I
> > didn't think it worth the significant effort to do so. The WM(T)S tests
> > also
> > use third-party sources and seem stable, so perhaps this wasn't the
> > underlying issue anyway.
> > 
> > If an improvement or solution could be found, it would be great to
> > reinstate
> > these tests.
> > 
> > Thanks
> > 
> > Tom
> > 
> > 
> > 
> > -----
> > Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> > --
> > Sent from:
> > http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From regis.haubourg at gmail.com  Mon Sep  3 12:51:10 2018
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 3 Sep 2018 21:51:10 +0200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <2006908.A2mnh4HgtV@even-i700>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <1535967358725-0.post@n6.nabble.com>
 <CABgOYCetYCANmmiMzuUfSvdR1xYcPryOpscCQY2A2H3wYJn3jA@mail.gmail.com>
 <2006908.A2mnh4HgtV@even-i700>
Message-ID: <CABgOYCfcTr03oKGBQR=86H-QFhcnoXgEvfCMCrrCrZUh+kG5UA@mail.gmail.com>

Hi Even, thanks for pointing that, I missed that history.
I'll ask the dev's for the detailed improvements planned, I dont' have any
detail currently (sorry for that)
RÃ©gis

Le lun. 3 sept. 2018 Ã  21:29, Even Rouault <even.rouault at spatialys.com> a
Ã©crit :

> RÃ©gis,
>
> Not that I'm against improvements, all the contrary, but just wanted to
> underline that the provider was seriously refactored already in 2.16.
> Clearly
> the lack of WFS-T support for 1.1 and 2.0 in the scope of those
> enhancements
> can be a source of confusion currently for users. What do you have in mind
> as
> refactoring exactly ?
>
> Even
>
> > Hi all,
> > I very much think that the WFS client is an really bad state, and is not
> > really reliable, especially in WFS-T context.
> > The good news is that we just have been funded to refactor it !
> > The work should start in september and land in 3.6. I will let our dev's
> > come here with more technical details about the goals. I hope we will
> also
> > be able to take benefit of this to this the OGC compliancy of the client
> > here.
> > Best regards,
> > RÃ©gis
> >
> > Le lun. 3 sept. 2018 Ã  11:36, Tom Chadwin <tom.chadwin at nnpa.org.uk> a
> >
> > Ã©crit :
> > > I can't offer any helpful suggestions, but just to let you know I
> finally
> > > had
> > > to disable all my plugin WFS tests. I used to cope, by rerunning failed
> > > Travis runs, but by about three months ago, it seemed no longer usable
> -
> > > failure after failure.
> > >
> > > I was using a third-party WFS, and perhaps I could have got round this
> by
> > > adding a WFS provider to the test docker image, but in this plugin's
> case,
> > > I
> > > didn't think it worth the significant effort to do so. The WM(T)S tests
> > > also
> > > use third-party sources and seem stable, so perhaps this wasn't the
> > > underlying issue anyway.
> > >
> > > If an improvement or solution could be found, it would be great to
> > > reinstate
> > > these tests.
> > >
> > > Thanks
> > >
> > > Tom
> > >
> > >
> > >
> > > -----
> > > Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> > > --
> > > Sent from:
> > > http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> > > _______________________________________________
> > > QGIS-Developer mailing list
> > > QGIS-Developer at lists.osgeo.org
> > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180903/ce29dc5d/attachment.html>

From palmerjnz at gmail.com  Mon Sep  3 13:01:04 2018
From: palmerjnz at gmail.com (Jeremy Palmer)
Date: Tue, 4 Sep 2018 08:01:04 +1200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <CABgOYCfcTr03oKGBQR=86H-QFhcnoXgEvfCMCrrCrZUh+kG5UA@mail.gmail.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <1535967358725-0.post@n6.nabble.com>
 <CABgOYCetYCANmmiMzuUfSvdR1xYcPryOpscCQY2A2H3wYJn3jA@mail.gmail.com>
 <2006908.A2mnh4HgtV@even-i700>
 <CABgOYCfcTr03oKGBQR=86H-QFhcnoXgEvfCMCrrCrZUh+kG5UA@mail.gmail.com>
Message-ID: <CAA5WJYn8sn8A7rQpyj8bqW-2_czJso_3C=nc=GtPc4vWqZpQWQ@mail.gmail.com>

Can I also add that the refactoring that was funded in 2.16 added tests,
paging support, filter query builder and dynamic caching. There is now a
lot of complexity in the driver due to the complexity of WFS server
implementations and the standard, plus the multi-threading code. If a
refactor is proposed I would be against anything that doesn't deal current
use cases and edge cases which have already been implemented. Maybe some
analysis of the failed tests is the first place to start. WFS-T is a side
issue to that.

Cheers,
Jeremy

On Tue, Sep 4, 2018 at 7:51 AM RÃ©gis Haubourg <regis.haubourg at gmail.com>
wrote:

> Hi Even, thanks for pointing that, I missed that history.
> I'll ask the dev's for the detailed improvements planned, I dont' have any
> detail currently (sorry for that)
> RÃ©gis
>
> Le lun. 3 sept. 2018 Ã  21:29, Even Rouault <even.rouault at spatialys.com> a
> Ã©crit :
>
>> RÃ©gis,
>>
>> Not that I'm against improvements, all the contrary, but just wanted to
>> underline that the provider was seriously refactored already in 2.16.
>> Clearly
>> the lack of WFS-T support for 1.1 and 2.0 in the scope of those
>> enhancements
>> can be a source of confusion currently for users. What do you have in
>> mind as
>> refactoring exactly ?
>>
>> Even
>>
>> > Hi all,
>> > I very much think that the WFS client is an really bad state, and is not
>> > really reliable, especially in WFS-T context.
>> > The good news is that we just have been funded to refactor it !
>> > The work should start in september and land in 3.6. I will let our dev's
>> > come here with more technical details about the goals. I hope we will
>> also
>> > be able to take benefit of this to this the OGC compliancy of the client
>> > here.
>> > Best regards,
>> > RÃ©gis
>> >
>> > Le lun. 3 sept. 2018 Ã  11:36, Tom Chadwin <tom.chadwin at nnpa.org.uk> a
>> >
>> > Ã©crit :
>> > > I can't offer any helpful suggestions, but just to let you know I
>> finally
>> > > had
>> > > to disable all my plugin WFS tests. I used to cope, by rerunning
>> failed
>> > > Travis runs, but by about three months ago, it seemed no longer
>> usable -
>> > > failure after failure.
>> > >
>> > > I was using a third-party WFS, and perhaps I could have got round
>> this by
>> > > adding a WFS provider to the test docker image, but in this plugin's
>> case,
>> > > I
>> > > didn't think it worth the significant effort to do so. The WM(T)S
>> tests
>> > > also
>> > > use third-party sources and seem stable, so perhaps this wasn't the
>> > > underlying issue anyway.
>> > >
>> > > If an improvement or solution could be found, it would be great to
>> > > reinstate
>> > > these tests.
>> > >
>> > > Thanks
>> > >
>> > > Tom
>> > >
>> > >
>> > >
>> > > -----
>> > > Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>> > > --
>> > > Sent from:
>> > > http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
>> > > _______________________________________________
>> > > QGIS-Developer mailing list
>> > > QGIS-Developer at lists.osgeo.org
>> > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>> --
>> Spatialys - Geospatial professional services
>> http://www.spatialys.com
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/ed255551/attachment.html>

From carlo.bertelli at gmail.com  Mon Sep  3 13:31:48 2018
From: carlo.bertelli at gmail.com (Carlo A. Bertelli (Charta s.r.l.))
Date: Mon, 3 Sep 2018 22:31:48 +0200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <CAA5WJYn8sn8A7rQpyj8bqW-2_czJso_3C=nc=GtPc4vWqZpQWQ@mail.gmail.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <1535967358725-0.post@n6.nabble.com>
 <CABgOYCetYCANmmiMzuUfSvdR1xYcPryOpscCQY2A2H3wYJn3jA@mail.gmail.com>
 <2006908.A2mnh4HgtV@even-i700>
 <CABgOYCfcTr03oKGBQR=86H-QFhcnoXgEvfCMCrrCrZUh+kG5UA@mail.gmail.com>
 <CAA5WJYn8sn8A7rQpyj8bqW-2_czJso_3C=nc=GtPc4vWqZpQWQ@mail.gmail.com>
Message-ID: <CALc8-VJh_8VLB_BAAo6TYreGG_NRztHv+9bxs0gCv3bX-nGRcw@mail.gmail.com>

What about starting with/focusing on WFS 3? The new version is really
cleaner and seems much more efficient.
The current WFS implementation in QGIS is much better than previous
versions, even if sometimes making a virtual OGR file il the only way to
use some services. There are really bad server implementations out there,
additionally an automated solution struggles against misleading and lazy
XML informations. This is a broken idea or at least one that asks for close
cooperation between server and client.
Just my remaining cent.
c


On Mon, Sep 3, 2018 at 10:01 PM, Jeremy Palmer <palmerjnz at gmail.com> wrote:

> Can I also add that the refactoring that was funded in 2.16 added tests,
> paging support, filter query builder and dynamic caching. There is now a
> lot of complexity in the driver due to the complexity of WFS server
> implementations and the standard, plus the multi-threading code. If a
> refactor is proposed I would be against anything that doesn't deal current
> use cases and edge cases which have already been implemented. Maybe some
> analysis of the failed tests is the first place to start. WFS-T is a side
> issue to that.
>
> Cheers,
> Jeremy
>
>
> On Tue, Sep 4, 2018 at 7:51 AM RÃ©gis Haubourg <regis.haubourg at gmail.com>
> wrote:
>
>> Hi Even, thanks for pointing that, I missed that history.
>> I'll ask the dev's for the detailed improvements planned, I dont' have
>> any detail currently (sorry for that)
>> RÃ©gis
>>
>> Le lun. 3 sept. 2018 Ã  21:29, Even Rouault <even.rouault at spatialys.com>
>> a Ã©crit :
>>
>>> RÃ©gis,
>>>
>>> Not that I'm against improvements, all the contrary, but just wanted to
>>> underline that the provider was seriously refactored already in 2.16.
>>> Clearly
>>> the lack of WFS-T support for 1.1 and 2.0 in the scope of those
>>> enhancements
>>> can be a source of confusion currently for users. What do you have in
>>> mind as
>>> refactoring exactly ?
>>>
>>> Even
>>>
>>> > Hi all,
>>> > I very much think that the WFS client is an really bad state, and is
>>> not
>>> > really reliable, especially in WFS-T context.
>>> > The good news is that we just have been funded to refactor it !
>>> > The work should start in september and land in 3.6. I will let our
>>> dev's
>>> > come here with more technical details about the goals. I hope we will
>>> also
>>> > be able to take benefit of this to this the OGC compliancy of the
>>> client
>>> > here.
>>> > Best regards,
>>> > RÃ©gis
>>> >
>>> > Le lun. 3 sept. 2018 Ã  11:36, Tom Chadwin <tom.chadwin at nnpa.org.uk> a
>>> >
>>> > Ã©crit :
>>> > > I can't offer any helpful suggestions, but just to let you know I
>>> finally
>>> > > had
>>> > > to disable all my plugin WFS tests. I used to cope, by rerunning
>>> failed
>>> > > Travis runs, but by about three months ago, it seemed no longer
>>> usable -
>>> > > failure after failure.
>>> > >
>>> > > I was using a third-party WFS, and perhaps I could have got round
>>> this by
>>> > > adding a WFS provider to the test docker image, but in this plugin's
>>> case,
>>> > > I
>>> > > didn't think it worth the significant effort to do so. The WM(T)S
>>> tests
>>> > > also
>>> > > use third-party sources and seem stable, so perhaps this wasn't the
>>> > > underlying issue anyway.
>>> > >
>>> > > If an improvement or solution could be found, it would be great to
>>> > > reinstate
>>> > > these tests.
>>> > >
>>> > > Thanks
>>> > >
>>> > > Tom
>>> > >
>>> > >
>>> > >
>>> > > -----
>>> > > Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>>> > > --
>>> > > Sent from:
>>> > > http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
>>> > > _______________________________________________
>>> > > QGIS-Developer mailing list
>>> > > QGIS-Developer at lists.osgeo.org
>>> > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>> --
>>> Spatialys - Geospatial professional services
>>> http://www.spatialys.com
>>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
--------------------------------------------------------------------------
Carlo A. Bertelli
   Charta servizi e sistemi per il territorio e la storia ambientale srl
          Dipendenze del palazzo Doria,
          vc. alla Chiesa della Maddalena 9/2 16124      Genova (Italy)
          tel./fax +39(0)10 2475439  +39 0108566195  mobile:+39 393 1590711
   e-mail: bertelli at chartasrl.eu      http://www.chartasrl.eu
--------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180903/d543e727/attachment-0001.html>

From palmerjnz at gmail.com  Mon Sep  3 13:50:13 2018
From: palmerjnz at gmail.com (Jeremy Palmer)
Date: Tue, 4 Sep 2018 08:50:13 +1200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <CALc8-VJh_8VLB_BAAo6TYreGG_NRztHv+9bxs0gCv3bX-nGRcw@mail.gmail.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <1535967358725-0.post@n6.nabble.com>
 <CABgOYCetYCANmmiMzuUfSvdR1xYcPryOpscCQY2A2H3wYJn3jA@mail.gmail.com>
 <2006908.A2mnh4HgtV@even-i700>
 <CABgOYCfcTr03oKGBQR=86H-QFhcnoXgEvfCMCrrCrZUh+kG5UA@mail.gmail.com>
 <CAA5WJYn8sn8A7rQpyj8bqW-2_czJso_3C=nc=GtPc4vWqZpQWQ@mail.gmail.com>
 <CALc8-VJh_8VLB_BAAo6TYreGG_NRztHv+9bxs0gCv3bX-nGRcw@mail.gmail.com>
Message-ID: <CAA5WJYnUfbNups_NebF9VU4mXH+PDOqfzB-Lm+6epXzUwoLPkA@mail.gmail.com>

I agree WFS 3.0 is a much better implementation and it would be great if a
implementation is started soon to track the current standards development.
However, we still have (and will have for a long time) a user need to
support WFS 1.0 and 2.0 - so this still needs to be deal with.

On Tue, Sep 4, 2018 at 8:32 AM Carlo A. Bertelli (Charta s.r.l.) <
carlo.bertelli at gmail.com> wrote:

> What about starting with/focusing on WFS 3? The new version is really
> cleaner and seems much more efficient.
> The current WFS implementation in QGIS is much better than previous
> versions, even if sometimes making a virtual OGR file il the only way to
> use some services. There are really bad server implementations out there,
> additionally an automated solution struggles against misleading and lazy
> XML informations. This is a broken idea or at least one that asks for close
> cooperation between server and client.
> Just my remaining cent.
> c
>
>
> On Mon, Sep 3, 2018 at 10:01 PM, Jeremy Palmer <palmerjnz at gmail.com>
> wrote:
>
>> Can I also add that the refactoring that was funded in 2.16 added tests,
>> paging support, filter query builder and dynamic caching. There is now a
>> lot of complexity in the driver due to the complexity of WFS server
>> implementations and the standard, plus the multi-threading code. If a
>> refactor is proposed I would be against anything that doesn't deal current
>> use cases and edge cases which have already been implemented. Maybe some
>> analysis of the failed tests is the first place to start. WFS-T is a side
>> issue to that.
>>
>> Cheers,
>> Jeremy
>>
>>
>> On Tue, Sep 4, 2018 at 7:51 AM RÃ©gis Haubourg <regis.haubourg at gmail.com>
>> wrote:
>>
>>> Hi Even, thanks for pointing that, I missed that history.
>>> I'll ask the dev's for the detailed improvements planned, I dont' have
>>> any detail currently (sorry for that)
>>> RÃ©gis
>>>
>>> Le lun. 3 sept. 2018 Ã  21:29, Even Rouault <even.rouault at spatialys.com>
>>> a Ã©crit :
>>>
>>>> RÃ©gis,
>>>>
>>>> Not that I'm against improvements, all the contrary, but just wanted to
>>>> underline that the provider was seriously refactored already in 2.16.
>>>> Clearly
>>>> the lack of WFS-T support for 1.1 and 2.0 in the scope of those
>>>> enhancements
>>>> can be a source of confusion currently for users. What do you have in
>>>> mind as
>>>> refactoring exactly ?
>>>>
>>>> Even
>>>>
>>>> > Hi all,
>>>> > I very much think that the WFS client is an really bad state, and is
>>>> not
>>>> > really reliable, especially in WFS-T context.
>>>> > The good news is that we just have been funded to refactor it !
>>>> > The work should start in september and land in 3.6. I will let our
>>>> dev's
>>>> > come here with more technical details about the goals. I hope we will
>>>> also
>>>> > be able to take benefit of this to this the OGC compliancy of the
>>>> client
>>>> > here.
>>>> > Best regards,
>>>> > RÃ©gis
>>>> >
>>>> > Le lun. 3 sept. 2018 Ã  11:36, Tom Chadwin <tom.chadwin at nnpa.org.uk> a
>>>> >
>>>> > Ã©crit :
>>>> > > I can't offer any helpful suggestions, but just to let you know I
>>>> finally
>>>> > > had
>>>> > > to disable all my plugin WFS tests. I used to cope, by rerunning
>>>> failed
>>>> > > Travis runs, but by about three months ago, it seemed no longer
>>>> usable -
>>>> > > failure after failure.
>>>> > >
>>>> > > I was using a third-party WFS, and perhaps I could have got round
>>>> this by
>>>> > > adding a WFS provider to the test docker image, but in this
>>>> plugin's case,
>>>> > > I
>>>> > > didn't think it worth the significant effort to do so. The WM(T)S
>>>> tests
>>>> > > also
>>>> > > use third-party sources and seem stable, so perhaps this wasn't the
>>>> > > underlying issue anyway.
>>>> > >
>>>> > > If an improvement or solution could be found, it would be great to
>>>> > > reinstate
>>>> > > these tests.
>>>> > >
>>>> > > Thanks
>>>> > >
>>>> > > Tom
>>>> > >
>>>> > >
>>>> > >
>>>> > > -----
>>>> > > Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>>>> > > --
>>>> > > Sent from:
>>>> > > http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
>>>> > > _______________________________________________
>>>> > > QGIS-Developer mailing list
>>>> > > QGIS-Developer at lists.osgeo.org
>>>> > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> > > Unsubscribe:
>>>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>>
>>>> --
>>>> Spatialys - Geospatial professional services
>>>> http://www.spatialys.com
>>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
> --------------------------------------------------------------------------
> Carlo A. Bertelli
>    Charta servizi e sistemi per il territorio e la storia ambientale srl
>           Dipendenze del palazzo Doria,
>           vc. alla Chiesa della Maddalena 9/2 16124      Genova (Italy)
>           tel./fax +39(0)10 2475439  +39 0108566195  mobile:+39 393 1590711
>    e-mail: bertelli at chartasrl.eu      http://www.chartasrl.eu
> --------------------------------------------------------------------------
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/01c16d9a/attachment.html>

From nyall.dawson at gmail.com  Mon Sep  3 16:03:36 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 4 Sep 2018 09:03:36 +1000
Subject: [QGIS-Developer] Python ResourceWarning: unclosed file in
 Processing Plugin
In-Reply-To: <CABSWR-E11G7PZm+nfeZbKs=SxZarwK3q2+h9cQva0dqfcwvvaQ@mail.gmail.com>
References: <CABSWR-E11G7PZm+nfeZbKs=SxZarwK3q2+h9cQva0dqfcwvvaQ@mail.gmail.com>
Message-ID: <CAB28AsgytK944284zsv2pfTXNODX8wfi4k8eukytAaYLUmd74A@mail.gmail.com>

On Tue, 4 Sep 2018 at 02:56, Martin Isenburg <martin.isenburg at gmail.com> wrote:
>
> Hello,
>
> as soon as I run any of my LAStools plugin scripts I get the WARNING "ResourceWarning" about an "unclosed file" shown below in the Python warning window. I use the call "output = subprocess.Popen(....)" to get the stderr output from the process so I can push it to the console once the subprocess is complete with the feedback.pushConsoleInfo(output.decode("utf-8")). Is it bad? Can I fix it? Should I ignore it?
>
> Complete code:
>
> https://github.com/rapidlasso/LAStoolsPluginQGIS3/blob/master/LAStools/LAStoolsUtils.py
>
> Regards.
>
> Martin
>
> 2018-09-03T18:34:08     WARNING    warning:C:/Users/isenburg/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\LAStools\LAStoolsUtils.py:60: ResourceWarning:
>
>              unclosed file
>
>              traceback: File "C:/Users/isenburg/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\LAStools\LAStoolsPipelines\flightlinesToDTMandSpikeFreeDSM.py", line 82, in processAlgorithm
>               LAStoolsUtils.runLAStools(commands, feedback)
>               File "C:/Users/isenburg/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\LAStools\LAStoolsUtils.py", line 60, in runLAStools
>               output = subprocess.Popen(commandline, shell=True, stdout=subprocess.PIPE, stdin=open(os.devnull), stderr=subprocess.STDOUT, universal_newlines=False).communicate()[0]

I think you need a:

output.wait()

after this line. See
https://stackoverflow.com/questions/23279941/closing-stdin-in-subprocess-popen

Nyall


>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Mon Sep  3 16:13:35 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 4 Sep 2018 09:13:35 +1000
Subject: [QGIS-Developer] Popup window within Processing crashes QGIS
In-Reply-To: <CABPxTTrDOkzfgObKdUQykABuOEts3CoZ8vuODqigmR7GHtBkcA@mail.gmail.com>
References: <CABPxTTr5KNw4YmW43tOhSd9H=zG=PyUgP_K3oXW9E8-kN+Q3Zw@mail.gmail.com>
 <CAB28AsjNVvpe7tryYob9r4-r5Vz8rONNr7MACnBJ96n0LBbmqQ@mail.gmail.com>
 <CABPxTToUKH98cs-erPcOYK8qHcBuc6ji3s+0=xPm2qPw3hnxKA@mail.gmail.com>
 <CAB28AshUeF-gc+bAftxLgxLVi5L_22qD=O7Mu3+V-hP36nTQHg@mail.gmail.com>
 <CABPxTTrDOkzfgObKdUQykABuOEts3CoZ8vuODqigmR7GHtBkcA@mail.gmail.com>
Message-ID: <CAB28AsgbxMEHaBsy4uFeTcqMcgcx0vNUpB_q5-MagW_x99WVsw@mail.gmail.com>

On Mon, 3 Sep 2018 at 23:09, C Hamilton <adenaculture at gmail.com> wrote:
>
> Nyall,
>
> I have been working on an alternative KML/KMZ importing tool and a tool to expand HTML tables within the description field containing tag/value elements into fields in the table.  The reason for another importer is that the GDAL implementation is in some sense too smart. The situation is that if there are many folders in a KML, QGIS imports each as a layer and is very slow at importing or crashes during the import if there happens to be hundreds of layers. This also happens using ArcGIS. I am assuming that both use GDAL and in some respects GDAL tries to do too much. Consequently, I wrote this KML plugin to import KML/KMZ files in the way we wanted them. The following is the capability prior to processing.

Sounds handy -- I've hit this in the past too. Those HTML tables
inside KML really annoy me a lot.

> I have already converted this importer to processing. The second function that expands HTML tables in the description field does a first pass to see if there are any tables and makes note of the tags/fields to be created. It then pops up a dialog box to allow the user to select what fields they want expanded. They only way you could do this in processing, since I can't pop up a selection box, is to expand all potential tags/fields, but the users don't want to do this.

Ok, so in this case I'd suggest:
- Make sure your code is nicely partitioned, separating out the core
functionality from the gui component
- Add a "callback" type argument within your converter, which is used
to select which fields to import
- Make your plugin add both a processing algorithm AND the
non-processing, interactive action
- The processing algorithm sets a callback which returns ALL fields
always, with no user interaction. The Interactive action passes a
callback which shows the field selection dialog.

This gives approach gains you:
- A single unified code base, with clear gui/logic separation (so also
easy to write unit tests for)
- Makes the users who want an interactive choice happy
- Still exposes your functionality from within Processing for users
who want everything, or want to use this function within a model OR
from another plugin/Python script.

That's the "canonical" approach to take here.

Nyall

> I have debated whether I should make this a separate plugin in or add the functionality to Lat Lon Tools. I already have conversion routines such as MGRS conversion and "Plus Codes" in Lat Lon Tools. What are your thoughts? Should this be added to Lat Lon Tools or a separate plugin?

Separate plugin -- they are very different functionalities, and
plugins work best when they expose "atomic" functions.

Nyall


>
> Calvin
>
>
> On Fri, Aug 31, 2018 at 5:06 PM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>
>> On Fri, 31 Aug 2018 at 22:24, C Hamilton <adenaculture at gmail.com> wrote:
>> >
>> > Thanks Nyall!!! Unfortunately I was trying to make this a processing routine when I shouldn't have. It is good to know the boundaries. This function really requires user interactivity.
>>
>> Mind sharing the general function of the plugin? There may still be a
>> way to make this work within Processing.
>>
>> Regards,
>> Nyall
>>
>> >
>> > Calvin
>> >
>> > On Thu, Aug 30, 2018 at 9:27 PM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>> >>
>> >> On Thu, 30 Aug 2018 at 23:38, C Hamilton <adenaculture at gmail.com> wrote:
>> >> >
>> >> > I have an algorithm that during execution gathers information from the data and then pops up a window for the user to select what the user would like to do.
>> >> >
>> >> > Is this possible in the Processing framework? I have tried doing this in processAlgorithm and it crashes QGIS. Here is how I call the popup window.
>> >>
>> >> No - this is not supported and goes against the very fundamental
>> >> design of Processing. Argggh! ;)
>> >>
>> >> But seriously, Processing was designed with the intention that all
>> >> user choices are made up-front. This allows algorithms to be nicely
>> >> executed inside of models, without the model halting mid-way waiting
>> >> for user input. It also allows algorithms, scripts, models, etc to be
>> >> run from headless environments such as console scripts.
>> >>
>> >> In this case, you're getting a crash because you're trying to create
>> >> GUI components from your algorithm which is being executed in a
>> >> background thread. This is a big no-no in Qt land, and usually results
>> >> in a crash.
>> >>
>> >> Nyall
>> >>
>> >>
>> >> >         fieldsDialog = SelectionDialog(self.tableFeatures)
>> >> >         fieldsDialog.exec_()
>> >> >         items = fieldsDialog.selected
>> >> >
>> >> > Here is the beginning of the SelectionDialong class.
>> >> >
>> >> > class SelectionDialog(QDialog, FIELDS_CLASS):
>> >> >     def __init__(self, feat, parent=None):
>> >> >         super(SelectionDialog, self).__init__(parent)
>> >> >         self.setupUi(self)
>> >> >
>> >> > Prior to Processing I passed in iface.mainWindow() as the parent. Is there a proper parent in Processing to pass? Perhaps this is the reason it is crashing.
>> >> >
>> >> > class SelectionDialog(QDialog, FIELDS_CLASS):
>> >> >     def __init__(self, iface, feat):
>> >> >         super(SelectionDialog, self).__init__(iface.mainWindow())
>> >> >         self.setupUi(self)
>> >> >
>> >> > Thanks,
>> >> >
>> >> > Calvin
>> >
>> >
>
>

From nyall.dawson at gmail.com  Mon Sep  3 17:16:28 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 4 Sep 2018 10:16:28 +1000
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <2006908.A2mnh4HgtV@even-i700>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <1535967358725-0.post@n6.nabble.com>
 <CABgOYCetYCANmmiMzuUfSvdR1xYcPryOpscCQY2A2H3wYJn3jA@mail.gmail.com>
 <2006908.A2mnh4HgtV@even-i700>
Message-ID: <CAB28AsifcUQFfMEdE0WVvGL_d8h0B4Rg_rEN1eZZWd_MszLu+w@mail.gmail.com>

On Tue, 4 Sep 2018 at 05:50, Even Rouault <even.rouault at spatialys.com> wrote:
>
> RÃ©gis,
>
> Not that I'm against improvements, all the contrary, but just wanted to
> underline that the provider was seriously refactored already in 2.16. Clearly
> the lack of WFS-T support for 1.1 and 2.0 in the scope of those enhancements
> can be a source of confusion currently for users. What do you have in mind as
> refactoring exactly ?

I'm with Even here... please, proceed with extreme caution.

We may be seeing issues with the WFS provider since 3.2, but I do not
think a full rewrite is needed/wanted here, and potentially will cause
many regressions given how finicky WFS servers are and how many
server-specific fixes have been required in the current
implementation.

Nyall


>
> Even
>
> > Hi all,
> > I very much think that the WFS client is an really bad state, and is not
> > really reliable, especially in WFS-T context.
> > The good news is that we just have been funded to refactor it !
> > The work should start in september and land in 3.6. I will let our dev's
> > come here with more technical details about the goals. I hope we will also
> > be able to take benefit of this to this the OGC compliancy of the client
> > here.
> > Best regards,
> > RÃ©gis
> >
> > Le lun. 3 sept. 2018 Ã  11:36, Tom Chadwin <tom.chadwin at nnpa.org.uk> a
> >
> > Ã©crit :
> > > I can't offer any helpful suggestions, but just to let you know I finally
> > > had
> > > to disable all my plugin WFS tests. I used to cope, by rerunning failed
> > > Travis runs, but by about three months ago, it seemed no longer usable -
> > > failure after failure.
> > >
> > > I was using a third-party WFS, and perhaps I could have got round this by
> > > adding a WFS provider to the test docker image, but in this plugin's case,
> > > I
> > > didn't think it worth the significant effort to do so. The WM(T)S tests
> > > also
> > > use third-party sources and seem stable, so perhaps this wasn't the
> > > underlying issue anyway.
> > >
> > > If an improvement or solution could be found, it would be great to
> > > reinstate
> > > these tests.
> > >
> > > Thanks
> > >
> > > Tom
> > >
> > >
> > >
> > > -----
> > > Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> > > --
> > > Sent from:
> > > http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> > > _______________________________________________
> > > QGIS-Developer mailing list
> > > QGIS-Developer at lists.osgeo.org
> > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From noreply at qgis.org  Mon Sep  3 21:44:47 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 04 Sep 2018 04:44:47 -0000
Subject: [QGIS-Developer] Plugin [1195] MPA Post-Hoc Accounting approval
	notification.
Message-ID: <20180904044447.4955.67362@2c6504964296>


Plugin MPA Post-Hoc Accounting approval by pcav.
The plugin version "[1195] MPA Post-Hoc Accounting 0.6 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/MPAPostHocAccounting/

From jonathan-lists at lightpear.com  Mon Sep  3 13:54:45 2018
From: jonathan-lists at lightpear.com (Jonathan Moules)
Date: Mon, 3 Sep 2018 22:54:45 +0200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <CABgOYCetYCANmmiMzuUfSvdR1xYcPryOpscCQY2A2H3wYJn3jA@mail.gmail.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <65021da5-a721-fab5-9242-7526c88d5c23@duif.net>
 <CAB28Asiuv=MAVGjzySNYdOgk5Mer1nwbANEg=oBPWm_BELPb-A@mail.gmail.com>
 <CAC_qv=pqsJDH7e73wQhZmF0VHMs-+OVoU4EDeMBqreo9wGNMhA@mail.gmail.com>
 <1535967358725-0.post@n6.nabble.com>
 <CABgOYCetYCANmmiMzuUfSvdR1xYcPryOpscCQY2A2H3wYJn3jA@mail.gmail.com>
Message-ID: <2181b6cc-411b-2e40-9a7c-755464b0c316@lightpear.com>

I'd suggest based on Tom's post that the work should include some sort 
of reliable way of testing the WFS client (and of course full test 
coverage) - I don't know if GeoServer is Docker-happy these days, but 
the default install in a VM should be sufficient for the task (it comes 
with test layers) - although GeoServer doesn't support WFS-T for writing.

Cheers,
Jonathan

On 03/09/2018 12:04, RÃ©gis Haubourg wrote:
> Hi all,
> I very much think that the WFS client is an really bad state, and is 
> not really reliable, especially in WFS-T context.
> The good news is that we just have been funded to refactor it !
> The work should start in september and land in 3.6. I will let our 
> dev's come here with more technical details about the goals. I hope we 
> will also be able to take benefit of this to this the OGC compliancy 
> of the client here.
> Best regards,
> RÃ©gis
>
> LeÂ lun. 3 sept. 2018 Ã Â 11:36, Tom Chadwin <tom.chadwin at nnpa.org.uk 
> <mailto:tom.chadwin at nnpa.org.uk>> a Ã©critÂ :
>
>     I can't offer any helpful suggestions, but just to let you know I
>     finally had
>     to disable all my plugin WFS tests. I used to cope, by rerunning
>     failed
>     Travis runs, but by about three months ago, it seemed no longer
>     usable -
>     failure after failure.
>
>     I was using a third-party WFS, and perhaps I could have got round
>     this by
>     adding a WFS provider to the test docker image, but in this
>     plugin's case, I
>     didn't think it worth the significant effort to do so. The WM(T)S
>     tests also
>     use third-party sources and seem stable, so perhaps this wasn't the
>     underlying issue anyway.
>
>     If an improvement or solution could be found, it would be great to
>     reinstate
>     these tests.
>
>     Thanks
>
>     Tom
>
>
>
>     -----
>     Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>     --
>     Sent from:
>     http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180903/1f2f1530/attachment.html>

From andrea.aime at geo-solutions.it  Tue Sep  4 00:23:28 2018
From: andrea.aime at geo-solutions.it (Andrea Aime)
Date: Tue, 4 Sep 2018 09:23:28 +0200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <2181b6cc-411b-2e40-9a7c-755464b0c316@lightpear.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <65021da5-a721-fab5-9242-7526c88d5c23@duif.net>
 <CAB28Asiuv=MAVGjzySNYdOgk5Mer1nwbANEg=oBPWm_BELPb-A@mail.gmail.com>
 <CAC_qv=pqsJDH7e73wQhZmF0VHMs-+OVoU4EDeMBqreo9wGNMhA@mail.gmail.com>
 <1535967358725-0.post@n6.nabble.com>
 <CABgOYCetYCANmmiMzuUfSvdR1xYcPryOpscCQY2A2H3wYJn3jA@mail.gmail.com>
 <2181b6cc-411b-2e40-9a7c-755464b0c316@lightpear.com>
Message-ID: <CA+nxMTuFb0kzG5RDQ0oPukaVxEuJ1e4-Kvp4MaFzKtfFuH=oPA@mail.gmail.com>

On Tue, Sep 4, 2018 at 8:51 AM Jonathan Moules <jonathan-lists at lightpear.com>
wrote:

> I'd suggest based on Tom's post that the work should include some sort of
> reliable way of testing the WFS client (and of course full test coverage) -
> I don't know if GeoServer is Docker-happy these days, but the default
> install in a VM should be sufficient for the task (it comes with test
> layers) - although GeoServer doesn't support WFS-T for writing.
>
"GeoServer doesn't support WFS-T for writing" ... what??? :-)

The default data directory disables writes for any user but the
administrator, you can change it, or just authenticate
as the admin to run WFS-T

Cheers
Andrea

==

GeoServer Professional Services from the experts! Visit http://goo.gl/it488V
for more information. == Ing. Andrea Aime @geowolf Technical Lead
GeoSolutions S.A.S. Via di Montramito 3/A 55054 Massarosa (LU) phone: +39
0584 962313 fax: +39 0584 1660272 mob: +39 339 8844549
http://www.geo-solutions.it http://twitter.com/geosolutions_it
------------------------------------------------------- *Con riferimento
alla normativa sul trattamento dei dati personali (Reg. UE 2016/679 -
Regolamento generale sulla protezione dei dati âGDPRâ), si precisa che ogni
circostanza inerente alla presente email (il suo contenuto, gli eventuali
allegati, etc.) Ã¨ un dato la cui conoscenza Ã¨ riservata al/i solo/i
destinatario/i indicati dallo scrivente. Se il messaggio Le Ã¨ giunto per
errore, Ã¨ tenuta/o a cancellarlo, ogni altra operazione Ã¨ illecita. Le
sarei comunque grato se potesse darmene notizia. This email is intended
only for the person or entity to which it is addressed and may contain
information that is privileged, confidential or otherwise protected from
disclosure. We remind that - as provided by European Regulation 2016/679
âGDPRâ - copying, dissemination or use of this e-mail or the information
herein by anyone other than the intended recipient is prohibited. If you
have received this email by mistake, please notify us immediately by
telephone or e-mail.*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/6e9bf4b9/attachment.html>

From regis.haubourg at gmail.com  Tue Sep  4 00:25:41 2018
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 4 Sep 2018 09:25:41 +0200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <2181b6cc-411b-2e40-9a7c-755464b0c316@lightpear.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <65021da5-a721-fab5-9242-7526c88d5c23@duif.net>
 <CAB28Asiuv=MAVGjzySNYdOgk5Mer1nwbANEg=oBPWm_BELPb-A@mail.gmail.com>
 <CAC_qv=pqsJDH7e73wQhZmF0VHMs-+OVoU4EDeMBqreo9wGNMhA@mail.gmail.com>
 <1535967358725-0.post@n6.nabble.com>
 <CABgOYCetYCANmmiMzuUfSvdR1xYcPryOpscCQY2A2H3wYJn3jA@mail.gmail.com>
 <2181b6cc-411b-2e40-9a7c-755464b0c316@lightpear.com>
Message-ID: <CABgOYCdCifxqt+O0vNoj3yKEsO8d_0P5DNUdzjw+RV5K+LWexQ@mail.gmail.com>

Hi,
I just checked the goals of the work on the WFS provider. It is not a
refactor in fat, sorry for having used that word. The work consists in
having a closer look to the WFS and snapping cache interactions because
they cause lots of problems when the distant database has triggers that
would require WFS cache reloading and then snapping cache reloading.
Maybe Vincent can tell more about that, but it's not a major change then. I
should'nt have raised the hand here, sorry for the noise.
Regards,
RÃ©gis

Le mar. 4 sept. 2018 Ã  08:51, Jonathan Moules <jonathan-lists at lightpear.com>
a Ã©crit :

> I'd suggest based on Tom's post that the work should include some sort of
> reliable way of testing the WFS client (and of course full test coverage) -
> I don't know if GeoServer is Docker-happy these days, but the default
> install in a VM should be sufficient for the task (it comes with test
> layers) - although GeoServer doesn't support WFS-T for writing.
> Cheers,
> Jonathan
>
> On 03/09/2018 12:04, RÃ©gis Haubourg wrote:
>
> Hi all,
> I very much think that the WFS client is an really bad state, and is not
> really reliable, especially in WFS-T context.
> The good news is that we just have been funded to refactor it !
> The work should start in september and land in 3.6. I will let our dev's
> come here with more technical details about the goals. I hope we will also
> be able to take benefit of this to this the OGC compliancy of the client
> here.
> Best regards,
> RÃ©gis
>
> Le lun. 3 sept. 2018 Ã  11:36, Tom Chadwin <tom.chadwin at nnpa.org.uk> a
> Ã©crit :
>
>> I can't offer any helpful suggestions, but just to let you know I finally
>> had
>> to disable all my plugin WFS tests. I used to cope, by rerunning failed
>> Travis runs, but by about three months ago, it seemed no longer usable -
>> failure after failure.
>>
>> I was using a third-party WFS, and perhaps I could have got round this by
>> adding a WFS provider to the test docker image, but in this plugin's
>> case, I
>> didn't think it worth the significant effort to do so. The WM(T)S tests
>> also
>> use third-party sources and seem stable, so perhaps this wasn't the
>> underlying issue anyway.
>>
>> If an improvement or solution could be found, it would be great to
>> reinstate
>> these tests.
>>
>> Thanks
>>
>> Tom
>>
>>
>>
>> -----
>> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>> --
>> Sent from:
>> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/39ccf9e5/attachment-0001.html>

From noreply at qgis.org  Tue Sep  4 01:20:42 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 04 Sep 2018 08:20:42 -0000
Subject: [QGIS-Developer] Plugin [1145] ClusterPoints approval notification.
Message-ID: <20180904082042.4957.69064@2c6504964296>


Plugin ClusterPoints approval by pcav.
The plugin version "[1145] ClusterPoints 3.3" is now approved
Link: http://plugins.qgis.org/plugins/ClusterPoints/

From luipir at gmail.com  Tue Sep  4 01:38:00 2018
From: luipir at gmail.com (Luigi Pirelli)
Date: Tue, 4 Sep 2018 10:38:00 +0200
Subject: [QGIS-Developer] Processing Script addLayerToLoadOnCompletion
In-Reply-To: <536303d5-1404-54dd-fec9-b2cc59b0e005@gmail.com>
References: <536303d5-1404-54dd-fec9-b2cc59b0e005@gmail.com>
Message-ID: <CAFO80_ogOodd1j4Efu8z5LSw9CojmiDR=M4R9mPSS2Q=h7sN+w@mail.gmail.com>

are you reloading processing plugin? the temporary path of processing are
statically set once (c++ static var in QgsProcessingUtils) for qgis session
=> if you reload the processing plugin without exitig processing (e.g. to
update the list of scripts), the oldtemp folder is no more available but
still referenced => generating strange errors at the end of any process.
Just rerun qgis to check if this is the problem.

There is no easy fix other that avoid static variable end method (e.g.
refactoring) of QgsProcessignUtils, bts is not a common use case errors,
but only happens to script developers => no fix is necessary.

Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
*
https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
* Hire me: http://goo.gl/BYRQKg
**************************************************************************************************


On Mon, 3 Sep 2018 at 16:52, matteo <matteo.ghetta at gmail.com> wrote:

> Hi all,
>
> I was thinking to add a small example of addLayerToLoadOnCompletion
> function to the ScriptTemplate of Processing. The code is the following:
>
>     buffered_layer = processing.run("native:buffer", parameters={
>         'INPUT': dest_id,
>         'DISTANCE': 10000,
>         'SEGMENTS': 5,
>         'END_CAP_STYLE': 0,
>         'JOIN_STYLE': 0,
>         'MITER_LIMIT': 2,
>         'DISSOLVE': False,
>         'OUTPUT': 'memory:'
>     }, context=context, feedback=feedback)['OUTPUT']
>
>     feedback.pushDebugInfo(str(dest_id))
>
>     context.addLayerToLoadOnCompletion(buffered_layer.source(),
> context.LayerDetails(
>         name='new_layer',
>         project=context.project()
>     ))
>
> but Processing always throws this error:
>
> The following layers were not correctly
>
> generated.<ul><li>Polygon?crs=EPSG:3003&field=ID:long(10)&field=fk:string(254)&field=ROTAZ:long(10)&field=DIMENS:long(10)&field=ETICHETTA:string(254)&field=VALORE:long(10)&field=T_MIN:double(20,5)&field=T_MAX:double(20,5)&field=PIOGGIA:double(20,5)&field=LARGH:double(20,5)&field=LUNG:double(20,5)&field=assex:string(254)&field=assey:string(254)&field=colore:string(38)&field=xlab:double(10,2)&field=ylab:double(10,2)&field=raster:double(23,15)&field=raster_1:double(23,15)&field=raster_2:double(23,15)&uid={685540af-711d-462b-a9d0-9b00af4c2f6a}</li></ul>You
> can check the 'Log Messages Panel' in QGIS main window to find more
> information about the execution of the algorithm.
>
>
> Am I missing something?
>
> Thanks for any suggestion
>
> Matteo
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/6790de57/attachment.html>

From matteo.ghetta at gmail.com  Tue Sep  4 01:44:03 2018
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 4 Sep 2018 10:44:03 +0200
Subject: [QGIS-Developer] Processing Script addLayerToLoadOnCompletion
In-Reply-To: <CAFO80_ogOodd1j4Efu8z5LSw9CojmiDR=M4R9mPSS2Q=h7sN+w@mail.gmail.com>
References: <536303d5-1404-54dd-fec9-b2cc59b0e005@gmail.com>
 <CAFO80_ogOodd1j4Efu8z5LSw9CojmiDR=M4R9mPSS2Q=h7sN+w@mail.gmail.com>
Message-ID: <6d126142-6b89-adec-a309-0bae14b56c6d@gmail.com>

Hi Ginetto,

well actually this is a simple script and not Processing plugin, so I
think no reloading is needed

Cheers

Matteo

From tim at kartoza.com  Tue Sep  4 01:47:00 2018
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 4 Sep 2018 10:47:00 +0200
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <2181b6cc-411b-2e40-9a7c-755464b0c316@lightpear.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
 <65021da5-a721-fab5-9242-7526c88d5c23@duif.net>
 <CAB28Asiuv=MAVGjzySNYdOgk5Mer1nwbANEg=oBPWm_BELPb-A@mail.gmail.com>
 <CAC_qv=pqsJDH7e73wQhZmF0VHMs-+OVoU4EDeMBqreo9wGNMhA@mail.gmail.com>
 <1535967358725-0.post@n6.nabble.com>
 <CABgOYCetYCANmmiMzuUfSvdR1xYcPryOpscCQY2A2H3wYJn3jA@mail.gmail.com>
 <2181b6cc-411b-2e40-9a7c-755464b0c316@lightpear.com>
Message-ID: <DD2A3805-F3D6-4574-9D62-3C29FAEFE570@kartoza.com>

Hi



> On 03 Sep 2018, at 22:54, Jonathan Moules <jonathan-lists at lightpear.com> wrote:
> 
> I'd suggest based on Tom's post that the work should include some sort of reliable way of testing the WFS client (and of course full test coverage) - I don't know if GeoServer is Docker-happy these days
> 

Kartoza publishes geoserver images here:

https://hub.docker.com/r/kartoza/geoserver/tags/ <https://hub.docker.com/r/kartoza/geoserver/tags/>

https://github.com/kartoza/docker-geoserver <https://github.com/kartoza/docker-geoserver>

Regards

Tim


> , but the default install in a VM should be sufficient for the task (it comes with test layers) - although GeoServer doesn't support WFS-T for writing.
> Cheers,
> Jonathan
> 
> On 03/09/2018 12:04, RÃ©gis Haubourg wrote:
>> Hi all,
>> I very much think that the WFS client is an really bad state, and is not really reliable, especially in WFS-T context.
>> The good news is that we just have been funded to refactor it !
>> The work should start in september and land in 3.6. I will let our dev's come here with more technical details about the goals. I hope we will also be able to take benefit of this to this the OGC compliancy of the client here.
>> Best regards,
>> RÃ©gis
>> 
>> Le lun. 3 sept. 2018 Ã  11:36, Tom Chadwin <tom.chadwin at nnpa.org.uk <mailto:tom.chadwin at nnpa.org.uk>> a Ã©crit :
>> I can't offer any helpful suggestions, but just to let you know I finally had
>> to disable all my plugin WFS tests. I used to cope, by rerunning failed
>> Travis runs, but by about three months ago, it seemed no longer usable -
>> failure after failure.
>> 
>> I was using a third-party WFS, and perhaps I could have got round this by
>> adding a WFS provider to the test docker image, but in this plugin's case, I
>> didn't think it worth the significant effort to do so. The WM(T)S tests also
>> use third-party sources and seem stable, so perhaps this wasn't the
>> underlying issue anyway.
>> 
>> If an improvement or solution could be found, it would be great to reinstate
>> these tests.
>> 
>> Thanks
>> 
>> Tom
>> 
>> 
>> 
>> -----
>> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>> --
>> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html <http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

â








Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/53a5edd7/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/53a5edd7/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: Message signed with OpenPGP
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/53a5edd7/attachment-0001.sig>

From noreply at qgis.org  Tue Sep  4 01:53:29 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 04 Sep 2018 08:53:29 -0000
Subject: [QGIS-Developer] Plugin [1531] Label to Attribute approval
	notification.
Message-ID: <20180904085329.4954.46788@2c6504964296>


Plugin Label to Attribute approval by pcav.
The plugin version "[1531] Label to Attribute 0.1" is now approved
Link: http://plugins.qgis.org/plugins/Label2Attr/

From peter.petrik at lutraconsulting.co.uk  Tue Sep  4 02:04:34 2018
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Tue, 4 Sep 2018 11:04:34 +0200
Subject: [QGIS-Developer] MAC QGIS 3.x build
Message-ID: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>

Hi,

As a (happy) Linux user, I switched to Mac (High Sierra 10.13.6) for some
QGIS development and I see that
https://github.com/qgis/QGIS/blob/master/INSTALL still suggests qt4 and
python 2.6 for Mac. Does anyone has a suggestion what to use/read to
facilitate the building of current master and get quickly up-to-speed?

Also, can you please point me to the scripts/repositories that are used for
official Mac releases?

I have found https://github.com/OSGeo/homebrew-osgeo4mac, but I am not sure
if that can be used for development?

Thanks a lot for any ideas!
Peter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/5c645dd4/attachment.html>

From denis.rouzaud at gmail.com  Tue Sep  4 02:14:05 2018
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Tue, 4 Sep 2018 11:14:05 +0200
Subject: [QGIS-Developer] MAC QGIS 3.x build
In-Reply-To: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
References: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
Message-ID: <CAMtsY+ZituVqbTww4ZG1p=MpkwasUt8V4A=sPzop_emTTEjPNA@mail.gmail.com>

Hi Peter,

You can look at current Homebrew formula:
https://github.com/OSGeo/homebrew-osgeo4mac/blob/master/Formula/qgis3.rb

You'll find a very good doc from Larry (althugh might be a bit outdated)
https://github.com/qgis/homebrew-qgisdev/tree/master/development

Otherwise, there is blog post from David on how to build using Mac ports
https://www.3liz.com/blog/rldhont/index.php?post/2017/06/01/How-to-build-qgis-on-OSX-with-MacPort

If while using one or the other, you feel like updating the readme, do not
hesitate to do so ;)

Cheers,
Denis


Le mar. 4 sept. 2018 Ã  11:04, Peter Petrik <
peter.petrik at lutraconsulting.co.uk> a Ã©crit :

> Hi,
>
> As a (happy) Linux user, I switched to Mac (High Sierra 10.13.6) for some
> QGIS development and I see that
> https://github.com/qgis/QGIS/blob/master/INSTALL still suggests qt4 and
> python 2.6 for Mac. Does anyone has a suggestion what to use/read to
> facilitate the building of current master and get quickly up-to-speed?
>
> Also, can you please point me to the scripts/repositories that are used
> for official Mac releases?
>
> I have found https://github.com/OSGeo/homebrew-osgeo4mac, but I am not
> sure if that can be used for development?
>
> Thanks a lot for any ideas!
> Peter
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 

Denis Rouzaud
denis at opengis.ch  <denis at opengis.ch>
+41 76 370 21 22
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/45f81be6/attachment.html>

From dmarteau at 3liz.com  Tue Sep  4 02:19:00 2018
From: dmarteau at 3liz.com (David Marteau)
Date: Tue, 4 Sep 2018 11:19:00 +0200
Subject: [QGIS-Developer] MAC QGIS 3.x build
In-Reply-To: <CAMtsY+ZituVqbTww4ZG1p=MpkwasUt8V4A=sPzop_emTTEjPNA@mail.gmail.com>
References: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
 <CAMtsY+ZituVqbTww4ZG1p=MpkwasUt8V4A=sPzop_emTTEjPNA@mail.gmail.com>
Message-ID: <4D561007-185A-4358-BEB2-1804F3BB6820@3liz.com>

Hi Peter,

Warning, if you are using macport: qt5.11 is installed by default and you may (or may not)  experience some display problems, instead you may choose to stick to qt5.9 by installing

the 'qt59' port

David

> Le 4 sept. 2018 Ã  11:14, Denis Rouzaud <denis.rouzaud at gmail.com> a Ã©crit :
> 
> Hi Peter,
> 
> You can look at current Homebrew formula:
> https://github.com/OSGeo/homebrew-osgeo4mac/blob/master/Formula/qgis3.rb <https://github.com/OSGeo/homebrew-osgeo4mac/blob/master/Formula/qgis3.rb>
> 
> You'll find a very good doc from Larry (althugh might be a bit outdated)
> https://github.com/qgis/homebrew-qgisdev/tree/master/development <https://github.com/qgis/homebrew-qgisdev/tree/master/development>
> 
> Otherwise, there is blog post from David on how to build using Mac ports
> https://www.3liz.com/blog/rldhont/index.php?post/2017/06/01/How-to-build-qgis-on-OSX-with-MacPort <https://www.3liz.com/blog/rldhont/index.php?post/2017/06/01/How-to-build-qgis-on-OSX-with-MacPort>
> 
> If while using one or the other, you feel like updating the readme, do not hesitate to do so ;)
> 
> Cheers,
> Denis
> 
> 
> Le mar. 4 sept. 2018 Ã  11:04, Peter Petrik <peter.petrik at lutraconsulting.co.uk <mailto:peter.petrik at lutraconsulting.co.uk>> a Ã©crit :
> Hi,
> 
> As a (happy) Linux user, I switched to Mac (High Sierra 10.13.6) for some QGIS development and I see that https://github.com/qgis/QGIS/blob/master/INSTALL <https://github.com/qgis/QGIS/blob/master/INSTALL> still suggests qt4 and python 2.6 for Mac. Does anyone has a suggestion what to use/read to facilitate the building of current master and get quickly up-to-speed? 
> 
> Also, can you please point me to the scripts/repositories that are used for official Mac releases?
> 
> I have found https://github.com/OSGeo/homebrew-osgeo4mac <https://github.com/OSGeo/homebrew-osgeo4mac>, but I am not sure if that can be used for development?
> 
> Thanks a lot for any ideas! 
> Peter
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>-- 
> Denis Rouzaud
> denis at opengis.chÂ  <mailto:denis at opengis.ch>
> +41 76 370 21 22 <>
> 
>  <>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/b9aa7416/attachment.html>

From nyall.dawson at gmail.com  Tue Sep  4 02:24:34 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 4 Sep 2018 19:24:34 +1000
Subject: [QGIS-Developer] MAC QGIS 3.x build
In-Reply-To: <4D561007-185A-4358-BEB2-1804F3BB6820@3liz.com>
References: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
 <CAMtsY+ZituVqbTww4ZG1p=MpkwasUt8V4A=sPzop_emTTEjPNA@mail.gmail.com>
 <4D561007-185A-4358-BEB2-1804F3BB6820@3liz.com>
Message-ID: <CAB28AsgvAV3VtAJqU_Dp0HdGYjwm8mU-aeh3=ZCEw-s4TMtjvg@mail.gmail.com>

On Tue, 4 Sep 2018 at 19:19, David Marteau <dmarteau at 3liz.com> wrote:
>
> Hi Peter,
>
> Warning, if you are using macport: qt5.11 is installed by default and you may (or may not)  experience some display problems, instead you may choose to stick to qt5.9 by installing
>
> the 'qt59' port

Is that the infamous "small canvas" issue?

Nyall

>
> David
>
> Le 4 sept. 2018 Ã  11:14, Denis Rouzaud <denis.rouzaud at gmail.com> a Ã©crit :
>
> Hi Peter,
>
> You can look at current Homebrew formula:
> https://github.com/OSGeo/homebrew-osgeo4mac/blob/master/Formula/qgis3.rb
>
> You'll find a very good doc from Larry (althugh might be a bit outdated)
> https://github.com/qgis/homebrew-qgisdev/tree/master/development
>
> Otherwise, there is blog post from David on how to build using Mac ports
> https://www.3liz.com/blog/rldhont/index.php?post/2017/06/01/How-to-build-qgis-on-OSX-with-MacPort
>
> If while using one or the other, you feel like updating the readme, do not hesitate to do so ;)
>
> Cheers,
> Denis
>
>
> Le mar. 4 sept. 2018 Ã  11:04, Peter Petrik <peter.petrik at lutraconsulting.co.uk> a Ã©crit :
>>
>> Hi,
>>
>> As a (happy) Linux user, I switched to Mac (High Sierra 10.13.6) for some QGIS development and I see that https://github.com/qgis/QGIS/blob/master/INSTALL still suggests qt4 and python 2.6 for Mac. Does anyone has a suggestion what to use/read to facilitate the building of current master and get quickly up-to-speed?
>>
>> Also, can you please point me to the scripts/repositories that are used for official Mac releases?
>>
>> I have found https://github.com/OSGeo/homebrew-osgeo4mac, but I am not sure if that can be used for development?
>>
>> Thanks a lot for any ideas!
>> Peter
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
>
> Denis Rouzaud
> denis at opengis.ch
> +41 76 370 21 22
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From martin.isenburg at gmail.com  Tue Sep  4 04:10:56 2018
From: martin.isenburg at gmail.com (Martin Isenburg)
Date: Tue, 4 Sep 2018 13:10:56 +0200
Subject: [QGIS-Developer] Python ResourceWarning: unclosed file in
 Processing Plugin
In-Reply-To: <CAB28AsgytK944284zsv2pfTXNODX8wfi4k8eukytAaYLUmd74A@mail.gmail.com>
References: <CABSWR-E11G7PZm+nfeZbKs=SxZarwK3q2+h9cQva0dqfcwvvaQ@mail.gmail.com>
 <CAB28AsgytK944284zsv2pfTXNODX8wfi4k8eukytAaYLUmd74A@mail.gmail.com>
Message-ID: <CABSWR-Hhtpnn_X7YMJe8DQb8+Sd7z3nKjQN1gbZ2q3=uCS-NMg@mail.gmail.com>

Hello.

thanks for the suggestion. I tried this instead:

        output = subprocess.Popen(commandline, shell=True,
stdout=subprocess.PIPE, stdin=open(os.devnull), stderr=subprocess.STDOUT,
universal_newlines=False)
        output.wait()
        feedback.pushConsoleInfo(output.communicate()[0].decode("utf-8"))

but as soon as the subprocess is started (long before it completes) this
WARNING is output to the console.

2018-09-04T13:05:31     WARNING
warning:C:/Users/isenburg/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\LAStools\LAStoolsUtils.py:60:
ResourceWarning:

             unclosed file

             traceback: File
"C:/Users/isenburg/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\LAStools\LAStools\lasview.py",
line 67, in processAlgorithm
              LAStoolsUtils.runLAStools(commands, feedback)
              File
"C:/Users/isenburg/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\LAStools\LAStoolsUtils.py",
line 60, in runLAStools
              output = subprocess.Popen(commandline, shell=True,
stdout=subprocess.PIPE, stdin=open(os.devnull), stderr=subprocess.STDOUT,
universal_newlines=False)


how do others grab the stderr output off their subprocesses for display in
the console?


Martin

On Tue, Sep 4, 2018 at 1:03 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Tue, 4 Sep 2018 at 02:56, Martin Isenburg <martin.isenburg at gmail.com>
> wrote:
> >
> > Hello,
> >
> > as soon as I run any of my LAStools plugin scripts I get the WARNING
> "ResourceWarning" about an "unclosed file" shown below in the Python
> warning window. I use the call "output = subprocess.Popen(....)" to get the
> stderr output from the process so I can push it to the console once the
> subprocess is complete with the
> feedback.pushConsoleInfo(output.decode("utf-8")). Is it bad? Can I fix it?
> Should I ignore it?
> >
> > Complete code:
> >
> >
> https://github.com/rapidlasso/LAStoolsPluginQGIS3/blob/master/LAStools/LAStoolsUtils.py
> >
> > Regards.
> >
> > Martin
> >
> > 2018-09-03T18:34:08     WARNING
> warning:C:/Users/isenburg/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\LAStools\LAStoolsUtils.py:60:
> ResourceWarning:
> >
> >              unclosed file
> >
> >              traceback: File
> "C:/Users/isenburg/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\LAStools\LAStoolsPipelines\flightlinesToDTMandSpikeFreeDSM.py",
> line 82, in processAlgorithm
> >               LAStoolsUtils.runLAStools(commands, feedback)
> >               File
> "C:/Users/isenburg/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\LAStools\LAStoolsUtils.py",
> line 60, in runLAStools
> >               output = subprocess.Popen(commandline, shell=True,
> stdout=subprocess.PIPE, stdin=open(os.devnull), stderr=subprocess.STDOUT,
> universal_newlines=False).communicate()[0]
>
> I think you need a:
>
> output.wait()
>
> after this line. See
>
> https://stackoverflow.com/questions/23279941/closing-stdin-in-subprocess-popen
>
> Nyall
>
>
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/b166d263/attachment.html>

From a.neumann at carto.net  Tue Sep  4 05:21:07 2018
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 04 Sep 2018 14:21:07 +0200
Subject: [QGIS-Developer] Some initial OpenCL feedback
Message-ID: <04b10f9a32a8a865f8ed9c3b8b00e7d3@carto.net>

Hi Alessandro, 

I just tested if the hardware acceleration (OpenCL) helps in the live
hillshade renderer. 

The good news is that it works stable so far and substantially improves
rendering time of the live hillshade renderer. My notebook on my
workplace is rather slow. Without hardware acceleration it renders the
hillshade in approx 8 seconds (large window on two screens). With OpenCL
acceleration set to on, it renders in about 1 second or even less. I
assume quite some time is also spent on reading the file. This with
resampling on (average for zooming out and bilinear for zooming in
beyond native resolution). 

Hardware is an Intel HD Graphics 4600. The CPU is also listed as
supported. 

Visually, with or without HW accelation on, there still are some
rectangular artefacts in both versions. 

Tested on Windows. 

-------------- 

One more thing: on my machine there is no restart of QGIS necessary for
the changes (HW acceleration on of off) to be applied. This is contrary
to the statement in the settings dialogue, which says, that a restart of
QGIS is necessary. 

--------------- 

Thanks a lot for your work! 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/1e807c37/attachment.html>

From peter.petrik at lutraconsulting.co.uk  Tue Sep  4 06:35:14 2018
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Tue, 4 Sep 2018 15:35:14 +0200
Subject: [QGIS-Developer] MAC QGIS 3.x build
In-Reply-To: <1440697C-78ED-449F-8ADC-053ABA0F71D2@kyngchaos.com>
References: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
 <1440697C-78ED-449F-8ADC-053ABA0F71D2@kyngchaos.com>
Message-ID: <F770450A-20E3-4E8B-A382-670BDA06E40F@lutraconsulting.co.uk>

Hi, 

Thanks for all info. That qt bug looks scary :O

Qgis 3.4 for other platforms (linux, windows) will be released with which version of Qt ? 

Cheers
Peter

> On 4 Sep 2018, at 15:09, William Kyngesburye <woklist at kyngchaos.com> wrote:
> 
> Yeah, I haven't updated the build instructions for QGIS 3.  It took me a while to get going on figuring out all the new stuff (I've had a lot of distraction the past year or so).
> 
> I don't have any published scripts for the official build.  Mostly it's just following the build instructions (what they would be when I update them), plus a bundling script for the extras bundled in the app (not necessary for anyone installing from source).
> 
> Thanks for the reminder that the instructions need updating.
> 
> Last I heard, homebrew wasn't quite ready with a 3.x build.
> 
>> On Sep 4, 2018, at 4:04 AM, Peter Petrik <peter.petrik at lutraconsulting.co.uk <mailto:peter.petrik at lutraconsulting.co.uk>> wrote:
>> 
>> Hi,
>> 
>> As a (happy) Linux user, I switched to Mac (High Sierra 10.13.6) for some QGIS development and I see that https://github.com/qgis/QGIS/blob/master/INSTALL <https://github.com/qgis/QGIS/blob/master/INSTALL> still suggests qt4 and python 2.6 for Mac. Does anyone has a suggestion what to use/read to facilitate the building of current master and get quickly up-to-speed? 
>> 
>> Also, can you please point me to the scripts/repositories that are used for official Mac releases?
>> 
>> I have found https://github.com/OSGeo/homebrew-osgeo4mac <https://github.com/OSGeo/homebrew-osgeo4mac>, but I am not sure if that can be used for development?
>> 
>> Thanks a lot for any ideas! 
>> Peter
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/ <http://www.kyngchaos.com/>
> 
> "Oh, look, I seem to have fallen down a deep, dark hole.  Now what does that remind me of?  Ah, yes - life."
> 
> - Marvin
> 
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/f6c1655f/attachment.html>

From delazj at gmail.com  Tue Sep  4 06:39:39 2018
From: delazj at gmail.com (DelazJ)
Date: Tue, 4 Sep 2018 15:39:39 +0200
Subject: [QGIS-Developer] The gitter bridge doesn't support private
 messaging, or inviting to rooms.
In-Reply-To: <1535979531992-0.post@n6.nabble.com>
References: <CAECJsSqZh5jE84N6oSQkarV6HGnxBf0Z8253Z-w_aGUS3hxD6Q@mail.gmail.com>
 <1535979531992-0.post@n6.nabble.com>
Message-ID: <CAECJsSrueFbXNjq2aZ+hd83Wt7Praee29h3NYWO_m1YJWTQiPQ@mail.gmail.com>

Hi,

Thanks to the person who fixed this issue.

Regards,
Harrissou

Le lun. 3 sept. 2018 Ã  14:58, Tom Chadwin <tom.chadwin at nnpa.org.uk> a
Ã©crit :

> I was literally about to post this same message - I've left the QGIS Gitter
> room because of the issue.
>
> Thanks, Harrissou
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from:
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/fd1cc606/attachment-0001.html>

From dmarteau at 3liz.com  Tue Sep  4 06:40:00 2018
From: dmarteau at 3liz.com (David Marteau)
Date: Tue, 4 Sep 2018 15:40:00 +0200
Subject: [QGIS-Developer] MAC QGIS 3.x build
In-Reply-To: <2DCD84BF-D6B7-4F39-89F9-6930C116304D@kyngchaos.com>
References: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
 <CAMtsY+ZituVqbTww4ZG1p=MpkwasUt8V4A=sPzop_emTTEjPNA@mail.gmail.com>
 <4D561007-185A-4358-BEB2-1804F3BB6820@3liz.com>
 <CAB28AsgvAV3VtAJqU_Dp0HdGYjwm8mU-aeh3=ZCEw-s4TMtjvg@mail.gmail.com>
 <2DCD84BF-D6B7-4F39-89F9-6930C116304D@kyngchaos.com>
Message-ID: <8CE31525-E422-491F-99BD-6874436BF496@3liz.com>



> Le 4 sept. 2018 Ã  15:12, William Kyngesburye <woklist at kyngchaos.com> a Ã©crit :
> 
> 
>> On Sep 4, 2018, at 4:24 AM, Nyall Dawson <nyall.dawson at gmail.com <mailto:nyall.dawson at gmail.com>> wrote:
>> 
>> On Tue, 4 Sep 2018 at 19:19, David Marteau <dmarteau at 3liz.com <mailto:dmarteau at 3liz.com>> wrote:
>>> 
>>> Hi Peter,
>>> 
>>> Warning, if you are using macport: qt5.11 is installed by default and you may (or may not)  experience some display problems, instead you may choose to stick to qt5.9 by installing
>>> 
>>> the 'qt59' port
>> 
>> Is that the infamous "small canvas" issue?
>> 
> I don't know about that, I use Qt 5.9 in my official build, and it has the small canvas problem.

It is more about the "slowness" problem on Mac: https://trac.macports.org/ticket/56915 <https://trac.macports.org/ticket/56915>  , https://issues.qgis.org/issues/19546

> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/ <http://www.kyngchaos.com/>
> 
> "We are at war with them. Neither in hatred nor revenge and with no particular pleasure I shall kill every ___ I can until the war is over. That is my duty."
> 
> "Don't you even hate 'em?"
> 
> "What good would it do if I did? If all the many millions of people of the allied nations devoted an entire year exclusively to hating the ____ it wouldn't kill one ___ nor shorten the war one day."
> 
> <Ha, ha> "And it might give 'em all stomach ulcers."
> 
> - Tarzan, on war
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/8e687dee/attachment.html>

From apasotti at gmail.com  Tue Sep  4 06:56:54 2018
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 4 Sep 2018 15:56:54 +0200
Subject: [QGIS-Developer] Some initial OpenCL feedback
In-Reply-To: <04b10f9a32a8a865f8ed9c3b8b00e7d3@carto.net>
References: <04b10f9a32a8a865f8ed9c3b8b00e7d3@carto.net>
Message-ID: <CAL5Q673q+mz6X6twhFDyc=nn6d3Kxm2uEG=5CGiRUq++kuwcrA@mail.gmail.com>

On Tue, Sep 4, 2018 at 2:21 PM Andreas Neumann <a.neumann at carto.net> wrote:

> Hi Alessandro,
>
> I just tested if the hardware acceleration (OpenCL) helps in the live
> hillshade renderer.
>


Hi Andreas,

thanks a lot for your feedback, I honestly am a little worried about the
possible problems on different platforms, graphic cards and driver
versions, I choose to stay on the safe side and there is a safeguard that
disables the OpenCL support at the first issue in the renderer.

The processing algs looks generally more stable (never got a single crash
myself).


The good news is that it works stable so far and substantially improves
> rendering time of the live hillshade renderer. My notebook on my workplace
> is rather slow. Without hardware acceleration it renders the hillshade in
> approx 8 seconds (large window on two screens). With OpenCL acceleration
> set to on, it renders in about 1 second or even less. I assume quite some
> time is also spent on reading the file. This with resampling on (average
> for zooming out and bilinear for zooming in beyond native resolution).
>

Yes some time is spent on reading the file and some time is spend on I/O
tranferring data to/from the graphic card, this means that the performance
gain is usually higher on larger images than on smaller images.

Hardware is an Intel HD Graphics 4600. The CPU is also listed as supported.
>

Can you also try the CPU? I'm curious about the performances.


> Visually, with or without HW accelation on, there still are some
> rectangular artefacts in both versions.
>

Yes: that does not change, the algorithm is pretty much the same in both
implementations.



> Tested on Windows.
>
> --------------
>
> One more thing: on my machine there is no restart of QGIS necessary for
> the changes (HW acceleration on of off) to be applied. This is contrary to
> the statement in the settings dialogue, which says, that a restart of QGIS
> is necessary.
>

The text can probably be improved: what needs a restart is if you change
the device, enabling and disabling OpenCL support does not require a
restart.


> ---------------
>
> Thanks a lot for your work!
>


Thank you for the feedback!




-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/b1d6713d/attachment.html>

From a.neumann at carto.net  Tue Sep  4 07:57:35 2018
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 04 Sep 2018 16:57:35 +0200
Subject: [QGIS-Developer] Some initial OpenCL feedback
In-Reply-To: <CAL5Q673q+mz6X6twhFDyc=nn6d3Kxm2uEG=5CGiRUq++kuwcrA@mail.gmail.com>
References: <04b10f9a32a8a865f8ed9c3b8b00e7d3@carto.net>
 <CAL5Q673q+mz6X6twhFDyc=nn6d3Kxm2uEG=5CGiRUq++kuwcrA@mail.gmail.com>
Message-ID: <16a0484320ece606e0ec572de6335529@carto.net>

Hi Alessandro, 

Thanks for the clarification that only the change of the OpenCL-device
needs a restart. 

I tried both - acceleration in CPU and in GPU. I had the impression that
the acceleration in the CPU was slightly faster than in the CPU - but
not a lot faster. Maybe the GPU (Intel HD Graphics 4600) is not too
powerful. It is a ThinkPad notebook, not a desktop. 

Greetings, 

Andreas 

On 2018-09-04 15:56, Alessandro Pasotti wrote:

> On Tue, Sep 4, 2018 at 2:21 PM Andreas Neumann <a.neumann at carto.net> wrote: 
> 
>> Hi Alessandro, 
>> 
>> I just tested if the hardware acceleration (OpenCL) helps in the live hillshade renderer.
> 
> Hi Andreas,  
> 
> thanks a lot for your feedback, I honestly am a little worried about the possible problems on different platforms, graphic cards and driver versions, I choose to stay on the safe side and there is a safeguard that disables the OpenCL support at the first issue in the renderer. 
> 
> The processing algs looks generally more stable (never got a single crash myself). 
> 
>> The good news is that it works stable so far and substantially improves rendering time of the live hillshade renderer. My notebook on my workplace is rather slow. Without hardware acceleration it renders the hillshade in approx 8 seconds (large window on two screens). With OpenCL acceleration set to on, it renders in about 1 second or even less. I assume quite some time is also spent on reading the file. This with resampling on (average for zooming out and bilinear for zooming in beyond native resolution).
> 
> Yes some time is spent on reading the file and some time is spend on I/O tranferring data to/from the graphic card, this means that the performance gain is usually higher on larger images than on smaller images. 
> 
>> Hardware is an Intel HD Graphics 4600. The CPU is also listed as supported.
> 
> Can you also try the CPU? I'm curious about the performances. 
> 
>> Visually, with or without HW accelation on, there still are some rectangular artefacts in both versions.
> 
> Yes: that does not change, the algorithm is pretty much the same in both implementations. 
> 
>> Tested on Windows. 
>> 
>> -------------- 
>> 
>> One more thing: on my machine there is no restart of QGIS necessary for the changes (HW acceleration on of off) to be applied. This is contrary to the statement in the settings dialogue, which says, that a restart of QGIS is necessary.
> 
> The text can probably be improved: what needs a restart is if you change the device, enabling and disabling OpenCL support does not require a restart. 
> 
>> --------------- 
>> 
>> Thanks a lot for your work!
> 
> Thank you for the feedback! 
> 
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it [1]

 

Links:
------
[1] http://www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/6f74c104/attachment-0001.html>

From apasotti at gmail.com  Tue Sep  4 08:08:52 2018
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 4 Sep 2018 17:08:52 +0200
Subject: [QGIS-Developer] Some initial OpenCL feedback
In-Reply-To: <16a0484320ece606e0ec572de6335529@carto.net>
References: <04b10f9a32a8a865f8ed9c3b8b00e7d3@carto.net>
 <CAL5Q673q+mz6X6twhFDyc=nn6d3Kxm2uEG=5CGiRUq++kuwcrA@mail.gmail.com>
 <16a0484320ece606e0ec572de6335529@carto.net>
Message-ID: <CAL5Q67199HcP-qjFtzuwUEiWGvRsu5gBJ5Go7B4XhB1CqPhjsw@mail.gmail.com>

On Tue, Sep 4, 2018 at 4:57 PM Andreas Neumann <a.neumann at carto.net> wrote:

> Hi Alessandro,
>
> Thanks for the clarification that only the change of the OpenCL-device
> needs a restart.
>
> I tried both - acceleration in CPU and in GPU. I had the impression that
> the acceleration in the CPU was slightly faster than in the CPU - but not a
> lot faster. Maybe the GPU (Intel HD Graphics 4600) is not too powerful. It
> is a ThinkPad notebook, not a desktop.
>

Thanks for the info!

Yes, maybe that the lower I/O (there is no need to transfer data to/from
the graphic card) compensates the slower processing on the CPU

Cheers

Greetings,
>
> Andreas
>
> On 2018-09-04 15:56, Alessandro Pasotti wrote:
>
>
> On Tue, Sep 4, 2018 at 2:21 PM Andreas Neumann <a.neumann at carto.net>
> wrote:
>
>> Hi Alessandro,
>>
>> I just tested if the hardware acceleration (OpenCL) helps in the live
>> hillshade renderer.
>>
>
>
> Hi Andreas,
>
> thanks a lot for your feedback, I honestly am a little worried about the
> possible problems on different platforms, graphic cards and driver
> versions, I choose to stay on the safe side and there is a safeguard that
> disables the OpenCL support at the first issue in the renderer.
>
> The processing algs looks generally more stable (never got a single crash
> myself).
>
>
>
>> The good news is that it works stable so far and substantially improves
>> rendering time of the live hillshade renderer. My notebook on my workplace
>> is rather slow. Without hardware acceleration it renders the hillshade in
>> approx 8 seconds (large window on two screens). With OpenCL acceleration
>> set to on, it renders in about 1 second or even less. I assume quite some
>> time is also spent on reading the file. This with resampling on (average
>> for zooming out and bilinear for zooming in beyond native resolution).
>>
>
> Yes some time is spent on reading the file and some time is spend on I/O
> tranferring data to/from the graphic card, this means that the performance
> gain is usually higher on larger images than on smaller images.
>
>
>> Hardware is an Intel HD Graphics 4600. The CPU is also listed as
>> supported.
>>
>
> Can you also try the CPU? I'm curious about the performances.
>
>
>> Visually, with or without HW accelation on, there still are some
>> rectangular artefacts in both versions.
>>
>
> Yes: that does not change, the algorithm is pretty much the same in both
> implementations.
>
>
>
>> Tested on Windows.
>>
>> --------------
>>
>> One more thing: on my machine there is no restart of QGIS necessary for
>> the changes (HW acceleration on of off) to be applied. This is contrary to
>> the statement in the settings dialogue, which says, that a restart of QGIS
>> is necessary.
>>
>
> The text can probably be improved: what needs a restart is if you change
> the device, enabling and disabling OpenCL support does not require a
> restart.
>
>
>> ---------------
>>
>> Thanks a lot for your work!
>>
>
>
> Thank you for the feedback!
>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
>
>

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/46b7d63f/attachment.html>

From woklist at kyngchaos.com  Tue Sep  4 06:09:33 2018
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue, 4 Sep 2018 08:09:33 -0500
Subject: [QGIS-Developer] MAC QGIS 3.x build
In-Reply-To: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
References: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
Message-ID: <1440697C-78ED-449F-8ADC-053ABA0F71D2@kyngchaos.com>

Yeah, I haven't updated the build instructions for QGIS 3.  It took me a while to get going on figuring out all the new stuff (I've had a lot of distraction the past year or so).

I don't have any published scripts for the official build.  Mostly it's just following the build instructions (what they would be when I update them), plus a bundling script for the extras bundled in the app (not necessary for anyone installing from source).

Thanks for the reminder that the instructions need updating.

Last I heard, homebrew wasn't quite ready with a 3.x build.

> On Sep 4, 2018, at 4:04 AM, Peter Petrik <peter.petrik at lutraconsulting.co.uk> wrote:
> 
> Hi,
> 
> As a (happy) Linux user, I switched to Mac (High Sierra 10.13.6) for some QGIS development and I see that https://github.com/qgis/QGIS/blob/master/INSTALL <https://github.com/qgis/QGIS/blob/master/INSTALL> still suggests qt4 and python 2.6 for Mac. Does anyone has a suggestion what to use/read to facilitate the building of current master and get quickly up-to-speed? 
> 
> Also, can you please point me to the scripts/repositories that are used for official Mac releases?
> 
> I have found https://github.com/OSGeo/homebrew-osgeo4mac <https://github.com/OSGeo/homebrew-osgeo4mac>, but I am not sure if that can be used for development?
> 
> Thanks a lot for any ideas! 
> Peter
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Oh, look, I seem to have fallen down a deep, dark hole.  Now what does that remind me of?  Ah, yes - life."

- Marvin


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/ff2a7091/attachment.html>

From woklist at kyngchaos.com  Tue Sep  4 06:12:13 2018
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue, 4 Sep 2018 08:12:13 -0500
Subject: [QGIS-Developer] MAC QGIS 3.x build
In-Reply-To: <CAB28AsgvAV3VtAJqU_Dp0HdGYjwm8mU-aeh3=ZCEw-s4TMtjvg@mail.gmail.com>
References: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
 <CAMtsY+ZituVqbTww4ZG1p=MpkwasUt8V4A=sPzop_emTTEjPNA@mail.gmail.com>
 <4D561007-185A-4358-BEB2-1804F3BB6820@3liz.com>
 <CAB28AsgvAV3VtAJqU_Dp0HdGYjwm8mU-aeh3=ZCEw-s4TMtjvg@mail.gmail.com>
Message-ID: <2DCD84BF-D6B7-4F39-89F9-6930C116304D@kyngchaos.com>


> On Sep 4, 2018, at 4:24 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> 
> On Tue, 4 Sep 2018 at 19:19, David Marteau <dmarteau at 3liz.com <mailto:dmarteau at 3liz.com>> wrote:
>> 
>> Hi Peter,
>> 
>> Warning, if you are using macport: qt5.11 is installed by default and you may (or may not)  experience some display problems, instead you may choose to stick to qt5.9 by installing
>> 
>> the 'qt59' port
> 
> Is that the infamous "small canvas" issue?
> 
I don't know about that, I use Qt 5.9 in my official build, and it has the small canvas problem.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"We are at war with them. Neither in hatred nor revenge and with no particular pleasure I shall kill every ___ I can until the war is over. That is my duty."

"Don't you even hate 'em?"

"What good would it do if I did? If all the many millions of people of the allied nations devoted an entire year exclusively to hating the ____ it wouldn't kill one ___ nor shorten the war one day."

<Ha, ha> "And it might give 'em all stomach ulcers."

- Tarzan, on war

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180904/a0344ec3/attachment.html>

From matthias at opengis.ch  Tue Sep  4 22:13:32 2018
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 5 Sep 2018 07:13:32 +0200
Subject: [QGIS-Developer] Feature freeze / exemptions
Message-ID: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>

Feature freeze is coming end of next week with a freeze window of 6
weeks. In the past, we have regularly granted freeze exemptions to some
features upon request.

I think it would be good to know, what we can expect this time to decide
on what is granted and then send them over to Loomio for review.

Myself, I would like to include Geometry Validation
(https://github.com/qgis/QGIS-Enhancement-Proposals/issues/131). I
estimate will require about 1 to maximum 2 more week to get it into a
mergeable state, which will still leave us with 4-5 weeks of bugfixing
time for this code. One part of it is, it will revisit some of the
geometry checker code which is corrected for threading and other issues,
so that can already be seen as "bugfixing of existing code" that will
land as part of it.

Thanks a lot and best regards

-- 
Matthias Kuhn
matthias at opengis.ch <mailto:matthias at opengis.ch>
+41 (0)76 435 67 63 <tel:+41764356763>
OPENGIS.ch Logo <http://www.opengis.ch>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180905/05f70fd2/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180905/05f70fd2/attachment-0001.png>

From cavallini at faunalia.it  Tue Sep  4 22:52:52 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 5 Sep 2018 07:52:52 +0200
Subject: [QGIS-Developer] Feature freeze / exemptions
In-Reply-To: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
References: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
Message-ID: <6b1628dd-e580-38d8-bc06-d18774376fcd@faunalia.it>

Hi Matthias,

Il 09/05/2018 07:13 AM, Matthias Kuhn ha scritto:
>
> Feature freeze is coming end of next week with a freeze window of 6
> weeks. In the past, we have regularly granted freeze exemptions to
> some features upon request.
>
> I think it would be good to know, what we can expect this time to
> decide on what is granted and then send them over to Loomio for review.
>
> Myself, I would like to include Geometry Validation
> (https://github.com/qgis/QGIS-Enhancement-Proposals/issues/131). I
> estimate will require about 1 to maximum 2 more week to get it into a
> mergeable state, which will still leave us with 4-5 weeks of bugfixing
> time for this code. One part of it is, it will revisit some of the
> geometry checker code which is corrected for threading and other
> issues, so that can already be seen as "bugfixing of existing code"
> that will land as part of it.
>
thanks for this request - this is indeed a gray area that has caused
some discomfort in the past, so it will be good to have more clear
guidelines. I think it will be difficult to carve them in stone however;
some ad hoc evaluation will be necessary.
Maybe we can ask three questions:
* should we set a hard limit for freeze (e.g. no exemption in the last X
weeks), or we can decide anytime based on the merit of the code submitted?
* whom should decide on this? I personally think core developers should
have a much heavier weight in this decision than PSC
* based on which (more or less objective) criteria? This could include
isolation of code,Â  i.e. likelihood that it will break other parts,
importance of the new feature for the majority of users, quality of the
code, commitment to promptly fix bugs.
All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis



From nyall.dawson at gmail.com  Tue Sep  4 22:56:22 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 5 Sep 2018 15:56:22 +1000
Subject: [QGIS-Developer] Feature freeze / exemptions
In-Reply-To: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
References: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
Message-ID: <CAB28AshPKcF+VdiJ81qP40FMx4JvVgSPfWEpP_0YVnYQDhCfZQ@mail.gmail.com>

On Wed, 5 Sep 2018 at 15:13, Matthias Kuhn <matthias at opengis.ch> wrote:
>
> Feature freeze is coming end of next week with a freeze window of 6 weeks. In the past, we have regularly granted freeze exemptions to some features upon request.
>
> I think it would be good to know, what we can expect this time to decide on what is granted and then send them over to Loomio for review.
>
> Myself, I would like to include Geometry Validation (https://github.com/qgis/QGIS-Enhancement-Proposals/issues/131). I estimate will require about 1 to maximum 2 more week to get it into a mergeable state, which will still leave us with 4-5 weeks of bugfixing time for this code. One part of it is, it will revisit some of the geometry checker code which is corrected for threading and other issues, so that can already be seen as "bugfixing of existing code" that will land as part of it.

I would also like to pre-emptively apply for a freeze exemption for
the work detailed in
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/114 and
currently the target of the crowd funding campaign at
https://north-road.com/edit-features-in-place-using-qgis-spatial-operations-campaign/

The fund raising is proceeding nicely and I believe this work will be
successfully funded, and I'd love to get it in for 3.4. I'd estimate
1-2 weeks post freeze for merge.

Nyall

From saber.razmjooei at lutraconsulting.co.uk  Tue Sep  4 23:20:26 2018
From: saber.razmjooei at lutraconsulting.co.uk (Saber Razmjooei)
Date: Wed, 5 Sep 2018 07:20:26 +0100
Subject: [QGIS-Developer] Feature freeze / exemptions
In-Reply-To: <CAB28AshPKcF+VdiJ81qP40FMx4JvVgSPfWEpP_0YVnYQDhCfZQ@mail.gmail.com>
References: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
 <CAB28AshPKcF+VdiJ81qP40FMx4JvVgSPfWEpP_0YVnYQDhCfZQ@mail.gmail.com>
Message-ID: <CAH=WbRBSqeB+vOr-gDMGWbbkdR9nP55bTM0=2XYWByJKakPwaA@mail.gmail.com>

In that case, would it be possible to postpone the feature freeze by 2
weeks and set it as a hard(ish) deadline?
Cheers
Saber


On Wed, 5 Sep 2018 at 06:56, Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Wed, 5 Sep 2018 at 15:13, Matthias Kuhn <matthias at opengis.ch> wrote:
> >
> > Feature freeze is coming end of next week with a freeze window of 6
> weeks. In the past, we have regularly granted freeze exemptions to some
> features upon request.
> >
> > I think it would be good to know, what we can expect this time to decide
> on what is granted and then send them over to Loomio for review.
> >
> > Myself, I would like to include Geometry Validation (
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/131). I
> estimate will require about 1 to maximum 2 more week to get it into a
> mergeable state, which will still leave us with 4-5 weeks of bugfixing time
> for this code. One part of it is, it will revisit some of the geometry
> checker code which is corrected for threading and other issues, so that can
> already be seen as "bugfixing of existing code" that will land as part of
> it.
>
> I would also like to pre-emptively apply for a freeze exemption for
> the work detailed in
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/114 and
> currently the target of the crowd funding campaign at
>
> https://north-road.com/edit-features-in-place-using-qgis-spatial-operations-campaign/
>
> The fund raising is proceeding nicely and I believe this work will be
> successfully funded, and I'd love to get it in for 3.4. I'd estimate
> 1-2 weeks post freeze for merge.
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Saber Razmjooei
www.lutraconsulting.co.uk
+44 (0)7568 129733
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180905/7e0e4f5a/attachment.html>

From matthias at opengis.ch  Tue Sep  4 23:35:46 2018
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 5 Sep 2018 08:35:46 +0200
Subject: [QGIS-Developer] Feature freeze / exemptions
In-Reply-To: <6b1628dd-e580-38d8-bc06-d18774376fcd@faunalia.it>
References: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
 <6b1628dd-e580-38d8-bc06-d18774376fcd@faunalia.it>
Message-ID: <6b17c0c9-1334-68fe-965e-f779f5d79406@opengis.ch>

Hi Paolo

On 09/05/2018 07:52 AM, Paolo Cavallini wrote:
> Hi Matthias,
>
> Il 09/05/2018 07:13 AM, Matthias Kuhn ha scritto:
>> Feature freeze is coming end of next week with a freeze window of 6
>> weeks. In the past, we have regularly granted freeze exemptions to
>> some features upon request.
>>
>> I think it would be good to know, what we can expect this time to
>> decide on what is granted and then send them over to Loomio for review.
>>
>> Myself, I would like to include Geometry Validation
>> (https://github.com/qgis/QGIS-Enhancement-Proposals/issues/131). I
>> estimate will require about 1 to maximum 2 more week to get it into a
>> mergeable state, which will still leave us with 4-5 weeks of bugfixing
>> time for this code. One part of it is, it will revisit some of the
>> geometry checker code which is corrected for threading and other
>> issues, so that can already be seen as "bugfixing of existing code"
>> that will land as part of it.
>>
> thanks for this request - this is indeed a gray area that has caused
> some discomfort in the past, so it will be good to have more clear
> guidelines. I think it will be difficult to carve them in stone however;
> some ad hoc evaluation will be necessary.
> Maybe we can ask three questions:
> * should we set a hard limit for freeze (e.g. no exemption in the last X
> weeks), or we can decide anytime based on the merit of the code submitted?
> * whom should decide on this? I personally think core developers should
> have a much heavier weight in this decision than PSC
> * based on which (more or less objective) criteria? This could include
> isolation of code,Â  i.e. likelihood that it will break other parts,
> importance of the new feature for the majority of users, quality of the
> code, commitment to promptly fix bugs.
> All the best.
>

I think the approach to let voting members decide as we did last time
(https://www.loomio.org/d/38Aiya0q/3-0-soft-freeze-exemptions) works fine.

Â * This committee includes several technical members
Â * Everyone is free to vote or not, based on self-evaluation of knowledge
Â * Particular questions concerning the mentioned gray area can be
formulated on a case-by-case basis

Matthias


From nyall.dawson at gmail.com  Wed Sep  5 00:00:52 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 5 Sep 2018 17:00:52 +1000
Subject: [QGIS-Developer] What to do about WFS test failures?
In-Reply-To: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
References: <CAB28AsiGYbq1LHtzPDRrC0mcC_6Gv7Q3drshJ8dZE3gVhNLMTw@mail.gmail.com>
Message-ID: <CAB28AsivC8d0c5hAPeg7kwm1a5Mu5Lt91B=-3-W8xo0DpR6Tiw@mail.gmail.com>

On Sat, 1 Sep 2018 at 19:56, Nyall Dawson <nyall.dawson at gmail.com> wrote:

> 2. I think there may be a real issue here - I've got at least one
> customer who is having WFS issues with 3.2 and master. BUT: on the
> other hand Travis has always been flaky with any test which uses
> threads, regardless of which area of code it's from. So it could just
> be Travis playing up again, in which case we'd need to disable these
> tests like we do most of the other thread-related tests...

For those following at home -- I think the underlying issue (a bug)
has been found and fixed... fingers crossed!

Nyall

From cavallini at faunalia.it  Wed Sep  5 00:02:06 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 5 Sep 2018 09:02:06 +0200
Subject: [QGIS-Developer] Feature freeze / exemptions
In-Reply-To: <6b17c0c9-1334-68fe-965e-f779f5d79406@opengis.ch>
References: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
 <6b1628dd-e580-38d8-bc06-d18774376fcd@faunalia.it>
 <6b17c0c9-1334-68fe-965e-f779f5d79406@opengis.ch>
Message-ID: <9ca6079b-8e11-c5f1-8094-8c8b7d9815ae@faunalia.it>

Hi Matthias


Il 09/05/2018 08:35 AM, Matthias Kuhn ha scritto:
>
> I think the approach to let voting members decide as we did last time
> (https://www.loomio.org/d/38Aiya0q/3-0-soft-freeze-exemptions) works fine.
>
> Â * This committee includes several technical members
> Â * Everyone is free to vote or not, based on self-evaluation of knowledge
it makes sense to me - perhaps this should be particularly stressed in
the voting question, otherwise people will feel obliged to vote (which
often means +1) even when they cannot grasp the implication.
All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis


From matthias at opengis.ch  Wed Sep  5 00:13:03 2018
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 5 Sep 2018 09:13:03 +0200
Subject: [QGIS-Developer] Feature freeze / exemptions
In-Reply-To: <9ca6079b-8e11-c5f1-8094-8c8b7d9815ae@faunalia.it>
References: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
 <6b1628dd-e580-38d8-bc06-d18774376fcd@faunalia.it>
 <6b17c0c9-1334-68fe-965e-f779f5d79406@opengis.ch>
 <9ca6079b-8e11-c5f1-8094-8c8b7d9815ae@faunalia.it>
Message-ID: <eef27b45-97e6-0e75-ab05-e810459b22ac@opengis.ch>

Thanks Paolo

On 09/05/2018 09:02 AM, Paolo Cavallini wrote:
> Hi Matthias
>
>
> Il 09/05/2018 08:35 AM, Matthias Kuhn ha scritto:
>> I think the approach to let voting members decide as we did last time
>> (https://www.loomio.org/d/38Aiya0q/3-0-soft-freeze-exemptions) works fine.
>>
>> Â * This committee includes several technical members
>> Â * Everyone is free to vote or not, based on self-evaluation of knowledge
> it makes sense to me - perhaps this should be particularly stressed in
> the voting question, otherwise people will feel obliged to vote (which
> often means +1) even when they cannot grasp the implication.

Yes, we can state that explicitly.

In the past, e.g. here
https://www.loomio.org/p/BPc3Wj6l/duplicate-feature-redigitized we had
33% participation. Not sure what the reason for abstaining was, one
assumption would be that many did not feel comfortable enough to make a
decision. Or pure lazyness or disinterest ;P

Regards



From denis.rouzaud at gmail.com  Wed Sep  5 10:39:10 2018
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Wed, 5 Sep 2018 13:39:10 -0400
Subject: [QGIS-Developer] Anyone using QGIS with high resolution screen?
Message-ID: <CAMtsY+bP0fJOJHWXBVOPj9aNgsCMo6TW+34MeJ4Yc7fzVR87BA@mail.gmail.com>

Hi list,

There is a persistent issue of slowness of QGIS on Mac.
https://issues.qgis.org/issues/19546

The last comments led to think that this comes from high resolution.
Starting from 2560x1440, it starts to be less and less usable. And
completly unsuable at 5120x2880.

I'd like to know if someone is using such resolution on another OS to be
sure that this is Mac specific (and if I need a 5K screen ;) ).

Thanks a lot,

Denis
-- 

Denis Rouzaud
denis at opengis.ch  <denis at opengis.ch>
+41 76 370 21 22
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180905/38af4eea/attachment.html>

From wal3 at mindspring.com  Wed Sep  5 05:12:18 2018
From: wal3 at mindspring.com (Worth Lutz)
Date: Wed, 5 Sep 2018 08:12:18 -0400
Subject: [QGIS-Developer] Handle Bad Layers
Message-ID: <06dcddb9-edd0-7272-d09a-f8cebbb1ec2e@mindspring.com>

Hi Devs,

I have a question about the "Handle Bad Layers" dialog. My scenario is 
working offline and loading a project with WMS layers defined. As the 
WMS is unreachable, the layers are marked as "bad". Since the layers are 
not fixable while offline, they get deleted from the project.

I would like to continue to edit the layers locally stored on my laptop 
and not lose the definitions of the WMS layers when saving the project.

I would like to see the "bad" layers marked as "disabled because bad" 
and not deleted from the project. This would keep the stored information 
about the layer in the project. When the project is next opened while 
connected to the internet these layers would be available without having 
to enter them again.

Is there currently a way to do this?Â  Or should I add an enhancement 
request issue for this idea?

-- 
*Worth Lutz*


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180905/a5a87c2b/attachment.html>

From nyall.dawson at gmail.com  Wed Sep  5 14:49:30 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 6 Sep 2018 07:49:30 +1000
Subject: [QGIS-Developer] Handle Bad Layers
In-Reply-To: <06dcddb9-edd0-7272-d09a-f8cebbb1ec2e@mindspring.com>
References: <06dcddb9-edd0-7272-d09a-f8cebbb1ec2e@mindspring.com>
Message-ID: <CAB28Asi5GHvXomeb2+9ppJguiw1dB9NErVv80wj1MSe50wBF3g@mail.gmail.com>

On Thu, 6 Sep 2018 at 05:42, Worth Lutz <wal3 at mindspring.com> wrote:
>
> Hi Devs,
>
> I have a question about the "Handle Bad Layers" dialog. My scenario is working offline and loading a project with WMS layers defined. As the WMS is unreachable, the layers are marked as "bad". Since the layers are not fixable while offline, they get deleted from the project.
>
> I would like to continue to edit the layers locally stored on my laptop and not lose the definitions of the WMS layers when saving the project.
>
> I would like to see the "bad" layers marked as "disabled because bad" and not deleted from the project. This would keep the stored information about the layer in the project. When the project is next opened while connected to the internet these layers would be available without having to enter them again.
>
> Is there currently a way to do this?  Or should I add an enhancement request issue for this idea?

I think this is a widely desired feature, and something I'd very much
like to see available "out of the box".

For 2.x there is a plugin "changeDataSource" which allows this
behavior. I don't think that plugin is available for 3.x yet.

Nyall

>
> --
> Worth Lutz
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Wed Sep  5 14:51:58 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 6 Sep 2018 07:51:58 +1000
Subject: [QGIS-Developer] Anyone using QGIS with high resolution screen?
In-Reply-To: <CAMtsY+bP0fJOJHWXBVOPj9aNgsCMo6TW+34MeJ4Yc7fzVR87BA@mail.gmail.com>
References: <CAMtsY+bP0fJOJHWXBVOPj9aNgsCMo6TW+34MeJ4Yc7fzVR87BA@mail.gmail.com>
Message-ID: <CAB28Asjkkmir-GXW=Ny_vHS0XbfKpi5HRUm9i3AKH6WJ-XRCbQ@mail.gmail.com>

On Thu, 6 Sep 2018 at 03:39, Denis Rouzaud <denis.rouzaud at gmail.com> wrote:
>
> Hi list,
>
> There is a persistent issue of slowness of QGIS on Mac.
> https://issues.qgis.org/issues/19546
>
> The last comments led to think that this comes from high resolution. Starting from 2560x1440, it starts to be less and less usable. And completly unsuable at 5120x2880.

3840x2160 here, on Linux/Win, and perfectly usable. That's the highest
res I've got available to test with.

Nyall

From olivier.dalang at gmail.com  Wed Sep  5 21:15:50 2018
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Thu, 6 Sep 2018 14:15:50 +1000
Subject: [QGIS-Developer] Export PDFs from the processing modeler
Message-ID: <CAExk7p3m5C6uYur8455L=19ntBOPC5mk_ABgDrg2TiZf157_NQ@mail.gmail.com>

Dear List,

(I took the liberty to CC in some of you that I thought may be interested
by this)

I'm dreaming of using the QGIS graphical modeler to output PDFs using print
composers. This would allow to build very interesting report generators
using our favorite tool. As far as I understand, currently, it is not
possible.

I'd be interested in working to implement it, to start with as a plugin
(prototype), and once this works see if we can integrate into core.

What I thought of so far is to be able to specify as inputs :
- a QGIS project [file] (using the current project if empty - esp. useful
in conjunction with the great new embedded models feature)
- a composer name [string] (use the first one if empty)
- N layers [layer] (I don't think we can support variable inputs count, so
could be 5)
- N layer ids [string] (id of the layer in the project to be replaced by
corresponding input)

The algorithm would replace the datasources from the file, and then export
the pdf somehow (yet to be determined how, but there seem some good
resources <https://gis.stackexchange.com/a/289228> around this).

I'm not sure it's the best way... I especially don't really like the use of
layer ids (as they are not easy to find). Maybe layer name would be better
(even if there may be duplicates, but the user has control on the QGIS
project so that may be acceptable).

Has anyone done any work that goes in that direction ?

Do you have some ideas about implementation ?

Cheers,

Olivier
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180906/14de7ff7/attachment.html>

From apasotti at gmail.com  Thu Sep  6 00:06:52 2018
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 6 Sep 2018 09:06:52 +0200
Subject: [QGIS-Developer] Anyone using QGIS with high resolution screen?
In-Reply-To: <CAB28Asjkkmir-GXW=Ny_vHS0XbfKpi5HRUm9i3AKH6WJ-XRCbQ@mail.gmail.com>
References: <CAMtsY+bP0fJOJHWXBVOPj9aNgsCMo6TW+34MeJ4Yc7fzVR87BA@mail.gmail.com>
 <CAB28Asjkkmir-GXW=Ny_vHS0XbfKpi5HRUm9i3AKH6WJ-XRCbQ@mail.gmail.com>
Message-ID: <CAL5Q6727wz3W4n1+aHpeQqc0XrW=1yL3gm5VDgjr67PWqbTVtQ@mail.gmail.com>

On Wed, Sep 5, 2018 at 11:52 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Thu, 6 Sep 2018 at 03:39, Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
> >
> > Hi list,
> >
> > There is a persistent issue of slowness of QGIS on Mac.
> > https://issues.qgis.org/issues/19546
> >
> > The last comments led to think that this comes from high resolution.
> Starting from 2560x1440, it starts to be less and less usable. And
> completly unsuable at 5120x2880.
>
> 3840x2160 here, on Linux/Win, and perfectly usable. That's the highest
> res I've got available to test with.
>


Me too: I've been using a 4k 3840x2160 screen on Linux for 3 years now
without any slowness problem.
MacBook Pro 15'' retina with Ubuntu Xenial also works very well.


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180906/53e2279c/attachment.html>

From noreply at qgis.org  Thu Sep  6 03:41:58 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 06 Sep 2018 10:41:58 -0000
Subject: [QGIS-Developer] Plugin [1535] Cartographic Line Generalization
	approval notification.
Message-ID: <20180906104158.11263.72776@2c6504964296>


Plugin Cartographic Line Generalization approval by pcav.
The plugin version "[1535] Cartographic Line Generalization 0.4" is now approved
Link: http://plugins.qgis.org/plugins/cartolinegen/

From noreply at qgis.org  Thu Sep  6 03:42:29 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 06 Sep 2018 10:42:29 -0000
Subject: [QGIS-Developer] Plugin [1535] Cartographic Line Generalization
	approval notification.
Message-ID: <20180906104229.11264.31623@2c6504964296>


Plugin Cartographic Line Generalization approval by pcav.
The plugin version "[1535] Cartographic Line Generalization 3.0" is now approved
Link: http://plugins.qgis.org/plugins/cartolinegen/

From jorgealmerio at yahoo.com.br  Thu Sep  6 05:10:40 2018
From: jorgealmerio at yahoo.com.br (Jorge Almerio)
Date: Thu, 6 Sep 2018 09:10:40 -0300
Subject: [QGIS-Developer] RES:  Handle Bad Layers
In-Reply-To: <CAB28Asi5GHvXomeb2+9ppJguiw1dB9NErVv80wj1MSe50wBF3g@mail.gmail.com>
References: <06dcddb9-edd0-7272-d09a-f8cebbb1ec2e@mindspring.com>
 <CAB28Asi5GHvXomeb2+9ppJguiw1dB9NErVv80wj1MSe50wBF3g@mail.gmail.com>
Message-ID: <002701d445da$a2ac1280$e8043780$@com.br>

Hi devs,

About the changeDataSource plugin, there is a testing working version (it can be downloaded and installed from zip) for Qgis 3.x on https://github.com/enricofer/changeDataSource/tree/qgis3-migration-test still not on oficial repository.

Regards,

Jorge Almerio

-----Mensagem original-----
De: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] Em nome de Nyall Dawson
Enviada em: quarta-feira, 5 de setembro de 2018 18:50
Para: wal3 at mindspring.com
Cc: qgis-developer
Assunto: Re: [QGIS-Developer] Handle Bad Layers

On Thu, 6 Sep 2018 at 05:42, Worth Lutz <wal3 at mindspring.com> wrote:
>
> Hi Devs,
>
> I have a question about the "Handle Bad Layers" dialog. My scenario is working offline and loading a project with WMS layers defined. As the WMS is unreachable, the layers are marked as "bad". Since the layers are not fixable while offline, they get deleted from the project.
>
> I would like to continue to edit the layers locally stored on my laptop and not lose the definitions of the WMS layers when saving the project.
>
> I would like to see the "bad" layers marked as "disabled because bad" and not deleted from the project. This would keep the stored information about the layer in the project. When the project is next opened while connected to the internet these layers would be available without having to enter them again.
>
> Is there currently a way to do this?  Or should I add an enhancement request issue for this idea?

I think this is a widely desired feature, and something I'd very much
like to see available "out of the box".

For 2.x there is a plugin "changeDataSource" which allows this
behavior. I don't think that plugin is available for 3.x yet.

Nyall

>
> --
> Worth Lutz
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From enricofer at gmail.com  Thu Sep  6 07:14:36 2018
From: enricofer at gmail.com (Enrico Ferreguti)
Date: Thu, 6 Sep 2018 16:14:36 +0200
Subject: [QGIS-Developer] Handle Bad Layers
In-Reply-To: <CAB28Asi5GHvXomeb2+9ppJguiw1dB9NErVv80wj1MSe50wBF3g@mail.gmail.com>
References: <06dcddb9-edd0-7272-d09a-f8cebbb1ec2e@mindspring.com>
 <CAB28Asi5GHvXomeb2+9ppJguiw1dB9NErVv80wj1MSe50wBF3g@mail.gmail.com>
Message-ID: <CAJy=Xtccrz02s5VCZzTN+iZXp7gztG=zNvkygzrzV6pvk3aGLg@mail.gmail.com>

Bad layer handling is not currently supported under QGIS3. for now.

Best Regards.
Enrico

Il mer 5 set 2018, 23:49 Nyall Dawson <nyall.dawson at gmail.com> ha scritto:

> On Thu, 6 Sep 2018 at 05:42, Worth Lutz <wal3 at mindspring.com> wrote:
> >
> > Hi Devs,
> >
> > I have a question about the "Handle Bad Layers" dialog. My scenario is
> working offline and loading a project with WMS layers defined. As the WMS
> is unreachable, the layers are marked as "bad". Since the layers are not
> fixable while offline, they get deleted from the project.
> >
> > I would like to continue to edit the layers locally stored on my laptop
> and not lose the definitions of the WMS layers when saving the project.
> >
> > I would like to see the "bad" layers marked as "disabled because bad"
> and not deleted from the project. This would keep the stored information
> about the layer in the project. When the project is next opened while
> connected to the internet these layers would be available without having to
> enter them again.
> >
> > Is there currently a way to do this?  Or should I add an enhancement
> request issue for this idea?
>
> I think this is a widely desired feature, and something I'd very much
> like to see available "out of the box".
>
> For 2.x there is a plugin "changeDataSource" which allows this
> behavior. I don't think that plugin is available for 3.x yet.
>
> Nyall
>
> >
> > --
> > Worth Lutz
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180906/4e305eb3/attachment.html>

From matthias at opengis.ch  Thu Sep  6 07:18:45 2018
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 6 Sep 2018 16:18:45 +0200
Subject: [QGIS-Developer] Handle Bad Layers
In-Reply-To: <CAB28Asi5GHvXomeb2+9ppJguiw1dB9NErVv80wj1MSe50wBF3g@mail.gmail.com>
References: <06dcddb9-edd0-7272-d09a-f8cebbb1ec2e@mindspring.com>
 <CAB28Asi5GHvXomeb2+9ppJguiw1dB9NErVv80wj1MSe50wBF3g@mail.gmail.com>
Message-ID: <d913ed99-2f81-e9d3-52f8-508b2779cf57@opengis.ch>

On 09/05/2018 11:49 PM, Nyall Dawson wrote:
> On Thu, 6 Sep 2018 at 05:42, Worth Lutz <wal3 at mindspring.com> wrote:
>> Hi Devs,
>>
>> I have a question about the "Handle Bad Layers" dialog. My scenario is working offline and loading a project with WMS layers defined. As the WMS is unreachable, the layers are marked as "bad". Since the layers are not fixable while offline, they get deleted from the project.
>>
>> I would like to continue to edit the layers locally stored on my laptop and not lose the definitions of the WMS layers when saving the project.
>>
>> I would like to see the "bad" layers marked as "disabled because bad" and not deleted from the project. This would keep the stored information about the layer in the project. When the project is next opened while connected to the internet these layers would be available without having to enter them again.
>>
>> Is there currently a way to do this?  Or should I add an enhancement request issue for this idea?
> I think this is a widely desired feature, and something I'd very much
> like to see available "out of the box".
>
> For 2.x there is a plugin "changeDataSource" which allows this
> behavior. I don't think that plugin is available for 3.x yet.
>
> Nyall

Just to second this statement: any contribution that works towards this
goal (especially for QGIS core) gets my full support! (for a long time
already ;)
https://gis.stackexchange.com/questions/200138/how-to-ignore-handle-bad-layers-in-qgis).

Matthias

From denis.rouzaud at gmail.com  Thu Sep  6 08:28:09 2018
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 6 Sep 2018 11:28:09 -0400
Subject: [QGIS-Developer] Anyone using QGIS with high resolution screen?
In-Reply-To: <CAL5Q6727wz3W4n1+aHpeQqc0XrW=1yL3gm5VDgjr67PWqbTVtQ@mail.gmail.com>
References: <CAMtsY+bP0fJOJHWXBVOPj9aNgsCMo6TW+34MeJ4Yc7fzVR87BA@mail.gmail.com>
 <CAB28Asjkkmir-GXW=Ny_vHS0XbfKpi5HRUm9i3AKH6WJ-XRCbQ@mail.gmail.com>
 <CAL5Q6727wz3W4n1+aHpeQqc0XrW=1yL3gm5VDgjr67PWqbTVtQ@mail.gmail.com>
Message-ID: <CAMtsY+b-EYzgTEDNvCS=BdWvW9gWFQEJfqj7_vtJDxDa0xBX8A@mail.gmail.com>

Thank you for replies.
Alessandro, on Mac, how did you installed/compiled QGIS? Homebrew, MacPorts
or KyngChaos ?

Cheers,
Denis

Le jeu. 6 sept. 2018 Ã  03:07, Alessandro Pasotti <apasotti at gmail.com> a
Ã©crit :

>
> On Wed, Sep 5, 2018 at 11:52 PM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>
>> On Thu, 6 Sep 2018 at 03:39, Denis Rouzaud <denis.rouzaud at gmail.com>
>> wrote:
>> >
>> > Hi list,
>> >
>> > There is a persistent issue of slowness of QGIS on Mac.
>> > https://issues.qgis.org/issues/19546
>> >
>> > The last comments led to think that this comes from high resolution.
>> Starting from 2560x1440, it starts to be less and less usable. And
>> completly unsuable at 5120x2880.
>>
>> 3840x2160 here, on Linux/Win, and perfectly usable. That's the highest
>> res I've got available to test with.
>>
>
>
> Me too: I've been using a 4k 3840x2160 screen on Linux for 3 years now
> without any slowness problem.
> MacBook Pro 15'' retina with Ubuntu Xenial also works very well.
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 

Denis Rouzaud
denis at opengis.ch  <denis at opengis.ch>
+41 76 370 21 22
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180906/054bd237/attachment.html>

From apasotti at gmail.com  Thu Sep  6 08:37:09 2018
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 6 Sep 2018 17:37:09 +0200
Subject: [QGIS-Developer] Anyone using QGIS with high resolution screen?
In-Reply-To: <CAMtsY+b-EYzgTEDNvCS=BdWvW9gWFQEJfqj7_vtJDxDa0xBX8A@mail.gmail.com>
References: <CAMtsY+bP0fJOJHWXBVOPj9aNgsCMo6TW+34MeJ4Yc7fzVR87BA@mail.gmail.com>
 <CAB28Asjkkmir-GXW=Ny_vHS0XbfKpi5HRUm9i3AKH6WJ-XRCbQ@mail.gmail.com>
 <CAL5Q6727wz3W4n1+aHpeQqc0XrW=1yL3gm5VDgjr67PWqbTVtQ@mail.gmail.com>
 <CAMtsY+b-EYzgTEDNvCS=BdWvW9gWFQEJfqj7_vtJDxDa0xBX8A@mail.gmail.com>
Message-ID: <CAL5Q673NVKUf-_6Rc7tnUZuABNs7AmZ8gO2=P6z6=tORWdJ++A@mail.gmail.com>

On Thu, Sep 6, 2018 at 5:28 PM Denis Rouzaud <denis.rouzaud at gmail.com>
wrote:

> Thank you for replies.
> Alessandro, on Mac, how did you installed/compiled QGIS? Homebrew,
> MacPorts or KyngChaos ?
>
>
>
Hi Denis,

Sorry if I wasn't clear: I wiped out the hard disk completely, put a QGIS
sticker on the Apple logo and I'm happily running Ubuntu on my MacBook Pro
15'' :)

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180906/9e2aa21a/attachment.html>

From regis.haubourg at gmail.com  Thu Sep  6 09:21:29 2018
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 6 Sep 2018 18:21:29 +0200
Subject: [QGIS-Developer] Feature freeze / exemptions
In-Reply-To: <eef27b45-97e6-0e75-ab05-e810459b22ac@opengis.ch>
References: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
 <6b1628dd-e580-38d8-bc06-d18774376fcd@faunalia.it>
 <6b17c0c9-1334-68fe-965e-f779f5d79406@opengis.ch>
 <9ca6079b-8e11-c5f1-8094-8c8b7d9815ae@faunalia.it>
 <eef27b45-97e6-0e75-ab05-e810459b22ac@opengis.ch>
Message-ID: <CABgOYCdfG5EgkWBKnGO=pTp29a+8yihRTs1bh0gX46nGB-A5Pw@mail.gmail.com>

Hi all,
maybe from a voter point of view, this is uncomfortable to vote for last
minute exemptions, as this does not have such sense from a democratic
perspective.
Voting is essential on strategic issues, but voting on "do you want this
now, or within 4 months" may not appear so important - except if you funded
the feature yourself.

As a user, I'd really want the two mentioned features for the next LTR,
I've wanted them for so long. But in the other hand, I think we should
really not end into a systematic feature freeze exemption process.

I know QGIS is a do-ocraty, and we owe so much to our top contributors that
we can't refuse them anything, hum... professionally speaking I mean:-)

However having work still going on while in feature freeze does not help in
dedicating fully to bugfixing and testing.

Last point, some teams have been rescheduling hard and sometimes canceling
deserved vacations to respect feature freeze deadline. Just to be clear,
this doesn't concern Oslandia this time, but this happened in the past.
Seen from this perspective, I'd like we don't repeat this at every release.
Customer usually can wait for 4 months more.

Regards,
RÃ©gis


Le mer. 5 sept. 2018 Ã  09:13, Matthias Kuhn <matthias at opengis.ch> a Ã©crit :

> Thanks Paolo
>
> On 09/05/2018 09:02 AM, Paolo Cavallini wrote:
> > Hi Matthias
> >
> >
> > Il 09/05/2018 08:35 AM, Matthias Kuhn ha scritto:
> >> I think the approach to let voting members decide as we did last time
> >> (https://www.loomio.org/d/38Aiya0q/3-0-soft-freeze-exemptions) works
> fine.
> >>
> >>  * This committee includes several technical members
> >>  * Everyone is free to vote or not, based on self-evaluation of
> knowledge
> > it makes sense to me - perhaps this should be particularly stressed in
> > the voting question, otherwise people will feel obliged to vote (which
> > often means +1) even when they cannot grasp the implication.
>
> Yes, we can state that explicitly.
>
> In the past, e.g. here
> https://www.loomio.org/p/BPc3Wj6l/duplicate-feature-redigitized we had
> 33% participation. Not sure what the reason for abstaining was, one
> assumption would be that many did not feel comfortable enough to make a
> decision. Or pure lazyness or disinterest ;P
>
> Regards
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180906/85a1b711/attachment-0001.html>

From cavallini at faunalia.it  Thu Sep  6 09:38:02 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 06 Sep 2018 18:38:02 +0200
Subject: [QGIS-Developer] Feature freeze / exemptions
In-Reply-To: <CABgOYCdfG5EgkWBKnGO=pTp29a+8yihRTs1bh0gX46nGB-A5Pw@mail.gmail.com>
References: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
 <6b1628dd-e580-38d8-bc06-d18774376fcd@faunalia.it>
 <6b17c0c9-1334-68fe-965e-f779f5d79406@opengis.ch>
 <9ca6079b-8e11-c5f1-8094-8c8b7d9815ae@faunalia.it>
 <eef27b45-97e6-0e75-ab05-e810459b22ac@opengis.ch>
 <CABgOYCdfG5EgkWBKnGO=pTp29a+8yihRTs1bh0gX46nGB-A5Pw@mail.gmail.com>
Message-ID: <61F60939-7A30-4329-A845-691449D3B145@faunalia.it>

Hi Regis,
so in short your proposal is no exemption?
All the best.

Il 6 settembre 2018 18:21:29 CEST, "RÃ©gis Haubourg" <regis.haubourg at gmail.com> ha scritto:
>Hi all,
>maybe from a voter point of view, this is uncomfortable to vote for
>last
>minute exemptions, as this does not have such sense from a democratic
>perspective.
>Voting is essential on strategic issues, but voting on "do you want
>this
>now, or within 4 months" may not appear so important - except if you
>funded
>the feature yourself.
>
>As a user, I'd really want the two mentioned features for the next LTR,
>I've wanted them for so long. But in the other hand, I think we should
>really not end into a systematic feature freeze exemption process.
>
>I know QGIS is a do-ocraty, and we owe so much to our top contributors
>that
>we can't refuse them anything, hum... professionally speaking I mean:-)
>
>However having work still going on while in feature freeze does not
>help in
>dedicating fully to bugfixing and testing.
>
>Last point, some teams have been rescheduling hard and sometimes
>canceling
>deserved vacations to respect feature freeze deadline. Just to be
>clear,
>this doesn't concern Oslandia this time, but this happened in the past.
>Seen from this perspective, I'd like we don't repeat this at every
>release.
>Customer usually can wait for 4 months more.
>
>Regards,
>RÃ©gis
>
>
>Le mer. 5 sept. 2018 Ã  09:13, Matthias Kuhn <matthias at opengis.ch> a
>Ã©crit :
>
>> Thanks Paolo
>>
>> On 09/05/2018 09:02 AM, Paolo Cavallini wrote:
>> > Hi Matthias
>> >
>> >
>> > Il 09/05/2018 08:35 AM, Matthias Kuhn ha scritto:
>> >> I think the approach to let voting members decide as we did last
>time
>> >> (https://www.loomio.org/d/38Aiya0q/3-0-soft-freeze-exemptions)
>works
>> fine.
>> >>
>> >>  * This committee includes several technical members
>> >>  * Everyone is free to vote or not, based on self-evaluation of
>> knowledge
>> > it makes sense to me - perhaps this should be particularly stressed
>in
>> > the voting question, otherwise people will feel obliged to vote
>(which
>> > often means +1) even when they cannot grasp the implication.
>>
>> Yes, we can state that explicitly.
>>
>> In the past, e.g. here
>> https://www.loomio.org/p/BPc3Wj6l/duplicate-feature-redigitized we
>had
>> 33% participation. Not sure what the reason for abstaining was, one
>> assumption would be that many did not feel comfortable enough to make
>a
>> decision. Or pure lazyness or disinterest ;P
>>
>> Regards
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Sorry for being short
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180906/c7362a8d/attachment.html>

From regis.haubourg at gmail.com  Thu Sep  6 10:30:20 2018
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 6 Sep 2018 19:30:20 +0200
Subject: [QGIS-Developer] Feature freeze / exemptions
In-Reply-To: <61F60939-7A30-4329-A845-691449D3B145@faunalia.it>
References: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
 <6b1628dd-e580-38d8-bc06-d18774376fcd@faunalia.it>
 <6b17c0c9-1334-68fe-965e-f779f5d79406@opengis.ch>
 <9ca6079b-8e11-c5f1-8094-8c8b7d9815ae@faunalia.it>
 <eef27b45-97e6-0e75-ab05-e810459b22ac@opengis.ch>
 <CABgOYCdfG5EgkWBKnGO=pTp29a+8yihRTs1bh0gX46nGB-A5Pw@mail.gmail.com>
 <61F60939-7A30-4329-A845-691449D3B145@faunalia.it>
Message-ID: <CABgOYCfy-uqyHU60RToGRBQXYPO2kkuTUnD=SGE5yo6TA9shhA@mail.gmail.com>

Well, my point is that in exceptional cases, that could be of course
discussed, but not at every release.
RÃ©gis

Le jeu. 6 sept. 2018 Ã  18:38, Paolo Cavallini <cavallini at faunalia.it> a
Ã©crit :

> Hi Regis,
> so in short your proposal is no exemption?
> All the best.
>
> Il 6 settembre 2018 18:21:29 CEST, "RÃ©gis Haubourg" <
> regis.haubourg at gmail.com> ha scritto:
>>
>> Hi all,
>> maybe from a voter point of view, this is uncomfortable to vote for last
>> minute exemptions, as this does not have such sense from a democratic
>> perspective.
>> Voting is essential on strategic issues, but voting on "do you want this
>> now, or within 4 months" may not appear so important - except if you funded
>> the feature yourself.
>>
>> As a user, I'd really want the two mentioned features for the next LTR,
>> I've wanted them for so long. But in the other hand, I think we should
>> really not end into a systematic feature freeze exemption process.
>>
>> I know QGIS is a do-ocraty, and we owe so much to our top contributors
>> that we can't refuse them anything, hum... professionally speaking I mean:-)
>>
>> However having work still going on while in feature freeze does not help
>> in dedicating fully to bugfixing and testing.
>>
>> Last point, some teams have been rescheduling hard and sometimes
>> canceling deserved vacations to respect feature freeze deadline. Just to be
>> clear, this doesn't concern Oslandia this time, but this happened in the
>> past.
>> Seen from this perspective, I'd like we don't repeat this at every
>> release. Customer usually can wait for 4 months more.
>>
>> Regards,
>> RÃ©gis
>>
>>
>> Le mer. 5 sept. 2018 Ã  09:13, Matthias Kuhn <matthias at opengis.ch> a
>> Ã©crit :
>>
>>> Thanks Paolo
>>>
>>> On 09/05/2018 09:02 AM, Paolo Cavallini wrote:
>>> > Hi Matthias
>>> >
>>> >
>>> > Il 09/05/2018 08:35 AM, Matthias Kuhn ha scritto:
>>> >> I think the approach to let voting members decide as we did last time
>>> >> (https://www.loomio.org/d/38Aiya0q/3-0-soft-freeze-exemptions) works
>>> fine.
>>> >>
>>> >>  * This committee includes several technical members
>>> >>  * Everyone is free to vote or not, based on self-evaluation of
>>> knowledge
>>> > it makes sense to me - perhaps this should be particularly stressed in
>>> > the voting question, otherwise people will feel obliged to vote (which
>>> > often means +1) even when they cannot grasp the implication.
>>>
>>> Yes, we can state that explicitly.
>>>
>>> In the past, e.g. here
>>> https://www.loomio.org/p/BPc3Wj6l/duplicate-feature-redigitized we had
>>> 33% participation. Not sure what the reason for abstaining was, one
>>> assumption would be that many did not feel comfortable enough to make a
>>> decision. Or pure lazyness or disinterest ;P
>>>
>>> Regards
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
> --
> Sorry for being short
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180906/a8d9c236/attachment.html>

From wal3 at mindspring.com  Thu Sep  6 11:08:16 2018
From: wal3 at mindspring.com (Worth Lutz)
Date: Thu, 6 Sep 2018 14:08:16 -0400
Subject: [QGIS-Developer] Handle Bad Layers - DISABLE instead of DELETE
In-Reply-To: <d913ed99-2f81-e9d3-52f8-508b2779cf57@opengis.ch>
References: <06dcddb9-edd0-7272-d09a-f8cebbb1ec2e@mindspring.com>
 <CAB28Asi5GHvXomeb2+9ppJguiw1dB9NErVv80wj1MSe50wBF3g@mail.gmail.com>
 <d913ed99-2f81-e9d3-52f8-508b2779cf57@opengis.ch>
Message-ID: <c49e2e21-4d24-b47d-57f6-8a33fd67cab6@mindspring.com>

Hi All,

I have created QGIS Feature request #19790, "Handle Bad Layers - DISABLE 
instead of DELETE" about this problem.Â  Change it to a BUG if it should 
be classified that way.

I've summarized my ideas there. Please add your suggestions so this can 
be solved in the best way possible.

Thanks,

*Worth Lutz*


On 9/6/2018 10:18 AM, Matthias Kuhn wrote:
> On 09/05/2018 11:49 PM, Nyall Dawson wrote:
>> On Thu, 6 Sep 2018 at 05:42, Worth Lutz <wal3 at mindspring.com> wrote:
>>> Hi Devs,
>>>
>>> I have a question about the "Handle Bad Layers" dialog. My scenario is working offline and loading a project with WMS layers defined. As the WMS is unreachable, the layers are marked as "bad". Since the layers are not fixable while offline, they get deleted from the project.
>>>
>>> I would like to continue to edit the layers locally stored on my laptop and not lose the definitions of the WMS layers when saving the project.
>>>
>>> I would like to see the "bad" layers marked as "disabled because bad" and not deleted from the project. This would keep the stored information about the layer in the project. When the project is next opened while connected to the internet these layers would be available without having to enter them again.
>>>
>>> Is there currently a way to do this?  Or should I add an enhancement request issue for this idea?
>> I think this is a widely desired feature, and something I'd very much
>> like to see available "out of the box".
>>
>> For 2.x there is a plugin "changeDataSource" which allows this
>> behavior. I don't think that plugin is available for 3.x yet.
>>
>> Nyall
> Just to second this statement: any contribution that works towards this
> goal (especially for QGIS core) gets my full support! (for a long time
> already ;)
> https://gis.stackexchange.com/questions/200138/how-to-ignore-handle-bad-layers-in-qgis).
>
> Matthias
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180906/e6596bfd/attachment-0001.html>

From noreply at qgis.org  Thu Sep  6 14:53:23 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 06 Sep 2018 21:53:23 -0000
Subject: [QGIS-Developer] Plugin [598] Swap Vector Direction approval
	notification.
Message-ID: <20180906215323.11264.15083@2c6504964296>


Plugin Swap Vector Direction approval by pcav.
The plugin version "[598] Swap Vector Direction 0.9" is now approved
Link: http://plugins.qgis.org/plugins/SwapVectorDirection/

From nyall.dawson at gmail.com  Thu Sep  6 16:27:35 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 7 Sep 2018 09:27:35 +1000
Subject: [QGIS-Developer] Export PDFs from the processing modeler
In-Reply-To: <CAExk7p3m5C6uYur8455L=19ntBOPC5mk_ABgDrg2TiZf157_NQ@mail.gmail.com>
References: <CAExk7p3m5C6uYur8455L=19ntBOPC5mk_ABgDrg2TiZf157_NQ@mail.gmail.com>
Message-ID: <CAB28AsheDkz2uHwsuMsrgSC=yT4Z5na38X5D=mvHsimxqWgiHw@mail.gmail.com>

On Thu, 6 Sep 2018 at 14:16, Olivier Dalang <olivier.dalang at gmail.com> wrote:
>
> Dear List,
>
> (I took the liberty to CC in some of you that I thought may be interested by this)

Count me in too -- I'm very interested here, given my history with
both Print Layout and Processing work!

> I'm dreaming of using the QGIS graphical modeler to output PDFs using print composers. This would allow to build very interesting report generators using our favorite tool. As far as I understand, currently, it is not possible.
>
> I'd be interested in working to implement it, to start with as a plugin (prototype), and once this works see if we can integrate into core.
>
> What I thought of so far is to be able to specify as inputs :
> - a QGIS project [file] (using the current project if empty - esp. useful in conjunction with the great new embedded models feature)
> - a composer name [string] (use the first one if empty)

I've got (Python) code which allows Print Layout parameter choices
(exposed as a combo box showing layouts within the current project),
and a layout "map item" parameter (links to the print layout
parameter, and shows a nice combo box of map items in the selected
layout). I can clean this up and share, but honestly my preference
would be to get this in to master as c++ code.

I think ideally the "print layout" parameter would expose both layouts
in the current project + a "..." file selector allowing choice of a
Print Layout template file (.qpt) (this should be relatively
straightforward -- basically a new temporary layout would be created
using the selected qpt). Possibly we could/should have an option in
that drop down to allow selection of a layout from a different project
file too, but this would add considerable complexity, and I'm unsure
if there's a concrete use case for this which couldn't be handled by
qpt template files alone.

> - N layers [layer] (I don't think we can support variable inputs count, so could be 5)
> - N layer ids [string] (id of the layer in the project to be replaced by corresponding input)

There's already multi layer parameters available for algorithms (which
also support layer order), so these could be reused here.

> Do you have some ideas about implementation ?

I'd see a number of ways we could expose print layouts/atlas to
Processing. Some potential algorithms could be:

Exporting algorithms
---------------------------
- Export layout. Just does a direct export of the selected layout to a
specified file. Nice and easy! [1]
- Export atlas. As above, but for a pre-existing atlas and selected
folder/file destination.
- Something like "export layout as atlas", where users select and
existing layout/qpt, map item, and "coverage layer", and the algorithm
iterates over the features in that layer just like an atlas, but using
a map layer generated elsewhere in the model as the coverage layer.

Utility algorithms
----------------------
- Create layer from layout map item extent. Creates a new polygon
layer with a polygon feature of the are currently visible within a
selected layout map item. Handy for quickly creating a polygon layer
with the exact coverage of a map item for styling or atlas creation
purposes. (I've implemented this one already as a PyQGIS alg)
- Create atlas feature template: After selecting a layout map item and
specifying a desired "scale" and "origin point", the algorithm creates
a new polygon layer with a single feature of the required size which
makes the map item match the given scale [2]. The use case here is to
create the feature, then "copy and move" it multiple times over the
area of interest for an atlas.
- Some equivalent of the ESRI "Create strip map index"  tool/QGIS
PolyStrip plugin. Select a map item, desired scale, and line feature
layer and the algorithm creates rotated template features along the
lines to allow an atlas following the line. Options for overlap
margins, max map rotation, etc.

Layout creation algorithms
-----------------------------------

We could also have algorithms for assisting with editing/creating
layouts themselves, e.g. algorithms which created grids of guides,
grided layouts, etc. I'd LOVE LOVE LOVE a layout "spell check" tool!

Anyway, count me in here. I'm interested in helping in whatever way
desired - I can either mentor someone else to code this, or would be
interested in doing it directly if there's a sponsor available.
Alternatively we could write up all the desired specs and run a crowd
funding campaign to raise funds!

Nyall

[1] Would work super-well with a potential "QGIS variable" parameter,
which displays as the QGIS variable editor and which would allow
tweaking of expression variables to inflence the map render
[2] I'd also like to see a proper parameter widget for "scale"
parameters, which uses the nice QGIS scale widget instead of just
direct number entry.

From matthias at opengis.ch  Fri Sep  7 01:06:41 2018
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 7 Sep 2018 10:06:41 +0200
Subject: [QGIS-Developer] Feature freeze / exemptions
In-Reply-To: <CABgOYCfy-uqyHU60RToGRBQXYPO2kkuTUnD=SGE5yo6TA9shhA@mail.gmail.com>
References: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
 <6b1628dd-e580-38d8-bc06-d18774376fcd@faunalia.it>
 <6b17c0c9-1334-68fe-965e-f779f5d79406@opengis.ch>
 <9ca6079b-8e11-c5f1-8094-8c8b7d9815ae@faunalia.it>
 <eef27b45-97e6-0e75-ab05-e810459b22ac@opengis.ch>
 <CABgOYCdfG5EgkWBKnGO=pTp29a+8yihRTs1bh0gX46nGB-A5Pw@mail.gmail.com>
 <61F60939-7A30-4329-A845-691449D3B145@faunalia.it>
 <CABgOYCfy-uqyHU60RToGRBQXYPO2kkuTUnD=SGE5yo6TA9shhA@mail.gmail.com>
Message-ID: <eaf8beea-fbae-9609-b93c-cb191c6a21f7@opengis.ch>

Hi RÃ©gis,

I see the point, thanks for raising this. The source of the freeze
exemption is that last-minute pull requests were merged without much
review just to get it in. In the end, this often resulted in worse code
quality because no in-depth review had been done and only issues that
surfaced and were connected to a given PR would actually be fixed. This
mostly affects the small number of developers who do the job of
reviewing pull requests, just before the release they have the double
burden of finalizing their own pull requests and reviewing other pull
requests which tend to land also just a couple of days/hours before
freeze. The exemption on request for a selection of PRs with good
reasoning is an approach to tackle this dilemma, which so far (to my
knowledge) was not under a broader discussion which I interpreted as
silent agreement.

Alternatives to this approach exist, so if this is deemed a problem and
different approaches are on the table, I would propose to raise a motion
after the release of 3.4 so we can review and discuss them with enough
time for everyone to raise their voice. Does that work for you?

Best regards
Matthias

On 09/06/2018 07:30 PM, RÃ©gis Haubourg wrote:
> Well, my point is that in exceptional cases, that could be of course
> discussed, but not at every release.Â 
> RÃ©gis
>
> LeÂ jeu. 6 sept. 2018 Ã Â 18:38, Paolo Cavallini <cavallini at faunalia.it
> <mailto:cavallini at faunalia.it>> a Ã©critÂ :
>
>     Hi Regis,
>     so in short your proposal is no exemption?
>     All the best.
>
>     Il 6 settembre 2018 18:21:29 CEST, "RÃ©gis Haubourg"
>     <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>> ha
>     scritto:
>
>         Hi all,
>         maybe from a voter point of view, this is uncomfortable to
>         vote for last minute exemptions, as this does not have such
>         sense from a democratic perspective.
>         Voting is essential on strategic issues, but voting on "do you
>         want this now, or within 4 months" may not appear so important
>         - except if you funded the feature yourself.
>
>         As a user, I'd really want the two mentioned features for the
>         next LTR, I've wanted them for so long. But in the other hand,
>         I think we should really not end into a systematic feature
>         freeze exemption process.
>
>         I know QGIS is a do-ocraty, and we owe so much to our top
>         contributors that we can't refuse them anything, hum...
>         professionally speaking I mean:-)
>
>         However having work still going on while in feature freeze
>         does not help in dedicating fully to bugfixing and testing.
>
>         Last point, some teams have been rescheduling hard and
>         sometimes canceling deserved vacations to respect feature
>         freeze deadline. Just to be clear, this doesn't concern
>         Oslandia this time, but this happened in the past.
>         Seen from this perspective, I'd like we don't repeat this at
>         every release. Customer usually can wait for 4 months more.
>
>         Regards,
>         RÃ©gis
>
>
>         LeÂ mer. 5 sept. 2018 Ã Â 09:13, Matthias Kuhn
>         <matthias at opengis.ch <mailto:matthias at opengis.ch>> a Ã©critÂ :
>
>             Thanks Paolo
>
>             On 09/05/2018 09:02 AM, Paolo Cavallini wrote:
>             > Hi Matthias
>             >
>             >
>             > Il 09/05/2018 08:35 AM, Matthias Kuhn ha scritto:
>             >> I think the approach to let voting members decide as we
>             did last time
>             >>
>             (https://www.loomio.org/d/38Aiya0q/3-0-soft-freeze-exemptions)
>             works fine.
>             >>
>             >> Â * This committee includes several technical members
>             >> Â * Everyone is free to vote or not, based on
>             self-evaluation of knowledge
>             > it makes sense to me - perhaps this should be
>             particularly stressed in
>             > the voting question, otherwise people will feel obliged
>             to vote (which
>             > often means +1) even when they cannot grasp the implication.
>
>             Yes, we can state that explicitly.
>
>             In the past, e.g. here
>             https://www.loomio.org/p/BPc3Wj6l/duplicate-feature-redigitized
>             we had
>             33% participation. Not sure what the reason for abstaining
>             was, one
>             assumption would be that many did not feel comfortable
>             enough to make a
>             decision. Or pure lazyness or disinterest ;P
>
>             Regards
>
>
>             _______________________________________________
>             QGIS-Developer mailing list
>             QGIS-Developer at lists.osgeo.org
>             <mailto:QGIS-Developer at lists.osgeo.org>
>             List info:
>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>             Unsubscribe:
>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>     -- 
>     Sorry for being short
>

-- 
Matthias Kuhn
matthias at opengis.ch <mailto:matthias at opengis.ch>
+41 (0)76 435 67 63 <tel:+41764356763>
OPENGIS.ch Logo <http://www.opengis.ch>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180907/6a2583bf/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180907/6a2583bf/attachment-0001.png>

From regis.haubourg at gmail.com  Fri Sep  7 04:14:07 2018
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Fri, 7 Sep 2018 13:14:07 +0200
Subject: [QGIS-Developer] Feature freeze / exemptions
In-Reply-To: <eaf8beea-fbae-9609-b93c-cb191c6a21f7@opengis.ch>
References: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
 <6b1628dd-e580-38d8-bc06-d18774376fcd@faunalia.it>
 <6b17c0c9-1334-68fe-965e-f779f5d79406@opengis.ch>
 <9ca6079b-8e11-c5f1-8094-8c8b7d9815ae@faunalia.it>
 <eef27b45-97e6-0e75-ab05-e810459b22ac@opengis.ch>
 <CABgOYCdfG5EgkWBKnGO=pTp29a+8yihRTs1bh0gX46nGB-A5Pw@mail.gmail.com>
 <61F60939-7A30-4329-A845-691449D3B145@faunalia.it>
 <CABgOYCfy-uqyHU60RToGRBQXYPO2kkuTUnD=SGE5yo6TA9shhA@mail.gmail.com>
 <eaf8beea-fbae-9609-b93c-cb191c6a21f7@opengis.ch>
Message-ID: <CABgOYCdPeeKRh4n-Yxx5HzyTPjn9X9zKtaA9Zk4+i-U1KgjU_A@mail.gmail.com>

> This mostly affects the small number of developers who do the job of
reviewing pull requests, just before the release they have the double
burden of finalizing their own pull requests and reviewing other pull
requests which tend to land also just a couple of days/hours before freeze

That's why I said we can't refuse you anything BTW :)

> I would propose to raise a motion after the release of 3.4 so we can
review and discuss them with enough time for everyone to raise their voice.
Does that work for you?

Perfect!


Le ven. 7 sept. 2018 Ã  10:06, Matthias Kuhn <matthias at opengis.ch> a Ã©crit :

> Hi RÃ©gis,
>
> I see the point, thanks for raising this. The source of the freeze
> exemption is that last-minute pull requests were merged without much review
> just to get it in. In the end, this often resulted in worse code quality
> because no in-depth review had been done and only issues that surfaced and
> were connected to a given PR would actually be fixed. This mostly affects
> the small number of developers who do the job of reviewing pull requests,
> just before the release they have the double burden of finalizing their own
> pull requests and reviewing other pull requests which tend to land also
> just a couple of days/hours before freeze. The exemption on request for a
> selection of PRs with good reasoning is an approach to tackle this dilemma,
> which so far (to my knowledge) was not under a broader discussion which I
> interpreted as silent agreement.
>
> Alternatives to this approach exist, so if this is deemed a problem and
> different approaches are on the table, I would propose to raise a motion
> after the release of 3.4 so we can review and discuss them with enough time
> for everyone to raise their voice. Does that work for you?
>
> Best regards
> Matthias
> On 09/06/2018 07:30 PM, RÃ©gis Haubourg wrote:
>
> Well, my point is that in exceptional cases, that could be of course
> discussed, but not at every release.
> RÃ©gis
>
> Le jeu. 6 sept. 2018 Ã  18:38, Paolo Cavallini <cavallini at faunalia.it> a
> Ã©crit :
>
>> Hi Regis,
>> so in short your proposal is no exemption?
>> All the best.
>>
>> Il 6 settembre 2018 18:21:29 CEST, "RÃ©gis Haubourg" <
>> regis.haubourg at gmail.com> ha scritto:
>>>
>>> Hi all,
>>> maybe from a voter point of view, this is uncomfortable to vote for last
>>> minute exemptions, as this does not have such sense from a democratic
>>> perspective.
>>> Voting is essential on strategic issues, but voting on "do you want this
>>> now, or within 4 months" may not appear so important - except if you funded
>>> the feature yourself.
>>>
>>> As a user, I'd really want the two mentioned features for the next LTR,
>>> I've wanted them for so long. But in the other hand, I think we should
>>> really not end into a systematic feature freeze exemption process.
>>>
>>> I know QGIS is a do-ocraty, and we owe so much to our top contributors
>>> that we can't refuse them anything, hum... professionally speaking I mean:-)
>>>
>>> However having work still going on while in feature freeze does not help
>>> in dedicating fully to bugfixing and testing.
>>>
>>> Last point, some teams have been rescheduling hard and sometimes
>>> canceling deserved vacations to respect feature freeze deadline. Just to be
>>> clear, this doesn't concern Oslandia this time, but this happened in the
>>> past.
>>> Seen from this perspective, I'd like we don't repeat this at every
>>> release. Customer usually can wait for 4 months more.
>>>
>>> Regards,
>>> RÃ©gis
>>>
>>>
>>> Le mer. 5 sept. 2018 Ã  09:13, Matthias Kuhn <matthias at opengis.ch> a
>>> Ã©crit :
>>>
>>>> Thanks Paolo
>>>>
>>>> On 09/05/2018 09:02 AM, Paolo Cavallini wrote:
>>>> > Hi Matthias
>>>> >
>>>> >
>>>> > Il 09/05/2018 08:35 AM, Matthias Kuhn ha scritto:
>>>> >> I think the approach to let voting members decide as we did last time
>>>> >> (https://www.loomio.org/d/38Aiya0q/3-0-soft-freeze-exemptions)
>>>> works fine.
>>>> >>
>>>> >>  * This committee includes several technical members
>>>> >>  * Everyone is free to vote or not, based on self-evaluation of
>>>> knowledge
>>>> > it makes sense to me - perhaps this should be particularly stressed in
>>>> > the voting question, otherwise people will feel obliged to vote (which
>>>> > often means +1) even when they cannot grasp the implication.
>>>>
>>>> Yes, we can state that explicitly.
>>>>
>>>> In the past, e.g. here
>>>> https://www.loomio.org/p/BPc3Wj6l/duplicate-feature-redigitized we had
>>>> 33% participation. Not sure what the reason for abstaining was, one
>>>> assumption would be that many did not feel comfortable enough to make a
>>>> decision. Or pure lazyness or disinterest ;P
>>>>
>>>> Regards
>>>>
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>> --
>> Sorry for being short
>>
>
> --
> Matthias Kuhn
> matthias at opengis.ch
> +41 (0)76 435 67 63 <+41764356763>
> [image: OPENGIS.ch Logo] <http://www.opengis.ch>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180907/5f0eff6e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180907/5f0eff6e/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180907/5f0eff6e/attachment-0003.png>

From matthias at opengis.ch  Fri Sep  7 04:45:50 2018
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 7 Sep 2018 13:45:50 +0200
Subject: [QGIS-Developer] Feature freeze / exemptions
In-Reply-To: <CABgOYCdPeeKRh4n-Yxx5HzyTPjn9X9zKtaA9Zk4+i-U1KgjU_A@mail.gmail.com>
References: <13560adb-e36c-da81-2420-aebc4c23d9c7@opengis.ch>
 <6b1628dd-e580-38d8-bc06-d18774376fcd@faunalia.it>
 <6b17c0c9-1334-68fe-965e-f779f5d79406@opengis.ch>
 <9ca6079b-8e11-c5f1-8094-8c8b7d9815ae@faunalia.it>
 <eef27b45-97e6-0e75-ab05-e810459b22ac@opengis.ch>
 <CABgOYCdfG5EgkWBKnGO=pTp29a+8yihRTs1bh0gX46nGB-A5Pw@mail.gmail.com>
 <61F60939-7A30-4329-A845-691449D3B145@faunalia.it>
 <CABgOYCfy-uqyHU60RToGRBQXYPO2kkuTUnD=SGE5yo6TA9shhA@mail.gmail.com>
 <eaf8beea-fbae-9609-b93c-cb191c6a21f7@opengis.ch>
 <CABgOYCdPeeKRh4n-Yxx5HzyTPjn9X9zKtaA9Zk4+i-U1KgjU_A@mail.gmail.com>
Message-ID: <df50fedb-ec82-d38e-d66e-d561d7e6dd5e@opengis.ch>

Thanks everyone.

I opened a Loomio vote for the core developers to get a clear picture of
how we proceed with the release of 3.4.

Regards, Matthias


On 09/07/2018 01:14 PM, RÃ©gis Haubourg wrote:
> > This mostly affects the small number of developers who do the job of
> reviewing pull requests, just before the release they have the double
> burden of finalizing their own pull requests and reviewing other pull
> requests which tend to land also just a couple of days/hours before
> freeze
>
> That's why I said we can't refuse you anything BTW :)
>
> > I would propose to raise a motion after the release of 3.4 so we can
> review and discuss them with enough time for everyone to raise their
> voice. Does that work for you?
>
> Perfect!
>
>

From adenaculture at gmail.com  Fri Sep  7 08:57:47 2018
From: adenaculture at gmail.com (C Hamilton)
Date: Fri, 7 Sep 2018 11:57:47 -0400
Subject: [QGIS-Developer] New KML Tools Plugin
Message-ID: <CABPxTTrVpqmRKnpjz3VJwomkPgGpat2ZWs6s_2f5Ry2pWoL8zg@mail.gmail.com>

I just released a new KML Tools plugin that includes a fast KML importing
tool and one to expand the KML description field, containing HTML tables
with name/value pairs into fields in the output layer.

Why have another KML import tool? We have had issues with importing KMLs
into QGIS. The situation is that if there are many folders in a KML, QGIS
imports each as a layer and is very slow at importing or crashes during the
import and it can generate hundreds of layers. This also happens using
ArcGIS. I am assuming they both use GDAL and in some respects GDAL tries to
do too much.

With the KML Tools importer rather than create multiple layers for each
folder in the KML, I create one point layer, one line layer and one polygon
layer as needed. I add an additional field that contains the folder
structure for each feature. This way you can still filter on the KML
folders.

The second tool is to expand an HTML table in a layer's field (presumably
from a KML although it could be any layer) into separate attribute fields.
For example if a layer has a description field containing the following, it
would create two new attribute fields named 'City' and 'State' and will
populate the contents appropriately.

<table>
     <tr><td>City</td><td>Provo</td></tr>
     <tr><td>State</td><td>Utah</td></tr>
</table>

This is a first release and I realize that it will not handle all cases,
but it works for our needs. The KML importer is not a complete KML
implementation so I am looking for your input as to what you would like to
see. As I get additional examples I can make the import better and the
'description' expansion better.

Because KMLs are so unstructured, it is impossible to handle all cases of
expansion and even within the same KML different formats may be used in the
description field that may contradict each other. The only ones that can
really be handled are the most structured cases.

Here is the new plugin:

https://plugins.qgis.org/plugins/kmltools/

Let me know if you have any suggestions.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180907/8b99a5c8/attachment.html>

From ccrook at linz.govt.nz  Fri Sep  7 23:15:01 2018
From: ccrook at linz.govt.nz (Chris Crook)
Date: Sat, 8 Sep 2018 06:15:01 +0000
Subject: [QGIS-Developer] Disable scratch layer warning on closing project
Message-ID: <A87E66F06E86F14B857F2EB047CDF9322E93C3B2@prdassexch01.ad.linz.govt.nz>

Hi

Is there a setting anywhere to disable the warning when closing a project with temporary layers (This layer contains one or more temporary scratch layers.  These layers are not saved to disk ....)

Thanks
Chris

________________________________

This message contains information, which may be in confidence and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.

From nirvn.asia at gmail.com  Sat Sep  8 02:08:50 2018
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Sat, 8 Sep 2018 16:08:50 +0700
Subject: [QGIS-Developer] Disable scratch layer warning on closing
	project
In-Reply-To: <A87E66F06E86F14B857F2EB047CDF9322E93C3B2@prdassexch01.ad.linz.govt.nz>
References: <A87E66F06E86F14B857F2EB047CDF9322E93C3B2@prdassexch01.ad.linz.govt.nz>
Message-ID: <CAC_qv=r2fOpZoZpynvw5PWVhnJQaoFpdmQ_PqUDUNb8_iWJ4Rg@mail.gmail.com>

Chris,

There is:

QgsSettings().value( QStringLiteral( "askToSaveMemoryLayers" ), true,
QgsSettings::App )

Switch that to false, that'll disable the warning.

I was wondering how long it'd take for the memory layer saver plugin to
switch that off ;)

On Sat, Sep 8, 2018, 13:15 Chris Crook <ccrook at linz.govt.nz> wrote:

> Hi
>
> Is there a setting anywhere to disable the warning when closing a project
> with temporary layers (This layer contains one or more temporary scratch
> layers.  These layers are not saved to disk ....)
>
> Thanks
> Chris
>
> ________________________________
>
> This message contains information, which may be in confidence and may be
> subject to legal privilege. If you are not the intended recipient, you must
> not peruse, use, disseminate, distribute or copy this message. If you have
> received this message in error, please notify us immediately (Phone 0800
> 665 463 or info at linz.govt.nz) and destroy the original message. LINZ
> accepts no responsibility for changes to this email, or for any
> attachments, after its transmission from LINZ. Thank You.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180908/d3e32928/attachment.html>

From nirvn.asia at gmail.com  Sat Sep  8 02:18:05 2018
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Sat, 8 Sep 2018 16:18:05 +0700
Subject: [QGIS-Developer] Disable scratch layer warning on closing
	project
In-Reply-To: <CAC_qv=r2fOpZoZpynvw5PWVhnJQaoFpdmQ_PqUDUNb8_iWJ4Rg@mail.gmail.com>
References: <A87E66F06E86F14B857F2EB047CDF9322E93C3B2@prdassexch01.ad.linz.govt.nz>
 <CAC_qv=r2fOpZoZpynvw5PWVhnJQaoFpdmQ_PqUDUNb8_iWJ4Rg@mail.gmail.com>
Message-ID: <CAC_qv=rnsVubixDg2OXoD7je8OfG1cF5v99FXBo6G3SjOjTsnA@mail.gmail.com>

That is, have your plugin set that setting to false upon loading. I wasn't
suggesting to switch the overall default to false.

On Sat, Sep 8, 2018, 16:08 Mathieu Pellerin <nirvn.asia at gmail.com> wrote:

> Chris,
>
> There is:
>
> QgsSettings().value( QStringLiteral( "askToSaveMemoryLayers" ), true,
> QgsSettings::App )
>
> Switch that to false, that'll disable the warning.
>
> I was wondering how long it'd take for the memory layer saver plugin to
> switch that off ;)
>
>
> On Sat, Sep 8, 2018, 13:15 Chris Crook <ccrook at linz.govt.nz> wrote:
>
>> Hi
>>
>> Is there a setting anywhere to disable the warning when closing a project
>> with temporary layers (This layer contains one or more temporary scratch
>> layers.  These layers are not saved to disk ....)
>>
>> Thanks
>> Chris
>>
>> ________________________________
>>
>> This message contains information, which may be in confidence and may be
>> subject to legal privilege. If you are not the intended recipient, you must
>> not peruse, use, disseminate, distribute or copy this message. If you have
>> received this message in error, please notify us immediately (Phone 0800
>> 665 463 or info at linz.govt.nz) and destroy the original message. LINZ
>> accepts no responsibility for changes to this email, or for any
>> attachments, after its transmission from LINZ. Thank You.
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180908/811d6a3d/attachment.html>

From olivier.dalang at gmail.com  Sun Sep  9 16:43:57 2018
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Mon, 10 Sep 2018 09:43:57 +1000
Subject: [QGIS-Developer] Export PDFs from the processing modeler
In-Reply-To: <CAB28AsheDkz2uHwsuMsrgSC=yT4Z5na38X5D=mvHsimxqWgiHw@mail.gmail.com>
References: <CAExk7p3m5C6uYur8455L=19ntBOPC5mk_ABgDrg2TiZf157_NQ@mail.gmail.com>
 <CAB28AsheDkz2uHwsuMsrgSC=yT4Z5na38X5D=mvHsimxqWgiHw@mail.gmail.com>
Message-ID: <CAExk7p2-yxR0g-PArVzQEH_SVFEtnd=vCAquAnou8ywGMc_CbQ@mail.gmail.com>

Thanks Nyall for you very interesting ideas.

Initially, I thought of using layouts from QGIS projects rather than
templates, as it makes it quite simple. You just create a normal QGIS
project, setup styles, layout, enable or not atlas. The processing alg
would just allows you to swap the datasource of one (or several) layers. It
would make it very straightforward when using processing models embedded in
the project file, and still relatively simple when using an external QGIS
project.

But looking at it again, it seems like it would be possible to achieve
exactly the same thing with .qpt with "lock layers" and "lock styles" is
ticked, as styles, layers and atlas settings are all saved in the .qpt.

Remains the questions of the UI on how one would match input layers to
existing layers in the qpt...

About the utility algorithms, am I right understanding there are not
directly linked to the PDF exporting algorithm (but just general helpers) ?

The way forward I see is me trying to do a prototype as a python plugin (of
course if you can help by reviewing, that would be awesome), and once
stabilized, we can see how to move this to core (I personally am more at
ease with python, but could probably try to move it to C++ if we think it's
worth it and if you can mentor a little bit). That also allows to move
forward without being too stressed by release dates / feature freezes (as
there would be the python plugin).

So it would be nice if you could share the python code you were talking
about.

Cheers,

Olivier






Le ven. 7 sept. 2018 Ã  11:27, Nyall Dawson <nyall.dawson at gmail.com> a
Ã©crit :

> On Thu, 6 Sep 2018 at 14:16, Olivier Dalang <olivier.dalang at gmail.com>
> wrote:
> >
> > Dear List,
> >
> > (I took the liberty to CC in some of you that I thought may be
> interested by this)
>
> Count me in too -- I'm very interested here, given my history with
> both Print Layout and Processing work!
>
> > I'm dreaming of using the QGIS graphical modeler to output PDFs using
> print composers. This would allow to build very interesting report
> generators using our favorite tool. As far as I understand, currently, it
> is not possible.
> >
> > I'd be interested in working to implement it, to start with as a plugin
> (prototype), and once this works see if we can integrate into core.
> >
> > What I thought of so far is to be able to specify as inputs :
> > - a QGIS project [file] (using the current project if empty - esp.
> useful in conjunction with the great new embedded models feature)
> > - a composer name [string] (use the first one if empty)
>
> I've got (Python) code which allows Print Layout parameter choices
> (exposed as a combo box showing layouts within the current project),
> and a layout "map item" parameter (links to the print layout
> parameter, and shows a nice combo box of map items in the selected
> layout). I can clean this up and share, but honestly my preference
> would be to get this in to master as c++ code.
>
> I think ideally the "print layout" parameter would expose both layouts
> in the current project + a "..." file selector allowing choice of a
> Print Layout template file (.qpt) (this should be relatively
> straightforward -- basically a new temporary layout would be created
> using the selected qpt). Possibly we could/should have an option in
> that drop down to allow selection of a layout from a different project
> file too, but this would add considerable complexity, and I'm unsure
> if there's a concrete use case for this which couldn't be handled by
> qpt template files alone.
>
> > - N layers [layer] (I don't think we can support variable inputs count,
> so could be 5)
> > - N layer ids [string] (id of the layer in the project to be replaced by
> corresponding input)
>
> There's already multi layer parameters available for algorithms (which
> also support layer order), so these could be reused here.
>
> > Do you have some ideas about implementation ?
>
> I'd see a number of ways we could expose print layouts/atlas to
> Processing. Some potential algorithms could be:
>
> Exporting algorithms
> ---------------------------
> - Export layout. Just does a direct export of the selected layout to a
> specified file. Nice and easy! [1]
> - Export atlas. As above, but for a pre-existing atlas and selected
> folder/file destination.
> - Something like "export layout as atlas", where users select and
> existing layout/qpt, map item, and "coverage layer", and the algorithm
> iterates over the features in that layer just like an atlas, but using
> a map layer generated elsewhere in the model as the coverage layer.
>
> Utility algorithms
> ----------------------
> - Create layer from layout map item extent. Creates a new polygon
> layer with a polygon feature of the are currently visible within a
> selected layout map item. Handy for quickly creating a polygon layer
> with the exact coverage of a map item for styling or atlas creation
> purposes. (I've implemented this one already as a PyQGIS alg)
> - Create atlas feature template: After selecting a layout map item and
> specifying a desired "scale" and "origin point", the algorithm creates
> a new polygon layer with a single feature of the required size which
> makes the map item match the given scale [2]. The use case here is to
> create the feature, then "copy and move" it multiple times over the
> area of interest for an atlas.
> - Some equivalent of the ESRI "Create strip map index"  tool/QGIS
> PolyStrip plugin. Select a map item, desired scale, and line feature
> layer and the algorithm creates rotated template features along the
> lines to allow an atlas following the line. Options for overlap
> margins, max map rotation, etc.
>
> Layout creation algorithms
> -----------------------------------
>
> We could also have algorithms for assisting with editing/creating
> layouts themselves, e.g. algorithms which created grids of guides,
> grided layouts, etc. I'd LOVE LOVE LOVE a layout "spell check" tool!
>
> Anyway, count me in here. I'm interested in helping in whatever way
> desired - I can either mentor someone else to code this, or would be
> interested in doing it directly if there's a sponsor available.
> Alternatively we could write up all the desired specs and run a crowd
> funding campaign to raise funds!
>
> Nyall
>
> [1] Would work super-well with a potential "QGIS variable" parameter,
> which displays as the QGIS variable editor and which would allow
> tweaking of expression variables to inflence the map render
> [2] I'd also like to see a proper parameter widget for "scale"
> parameters, which uses the nice QGIS scale widget instead of just
> direct number entry.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/4756b603/attachment.html>

From andreaerdna at libero.it  Mon Sep 10 03:04:39 2018
From: andreaerdna at libero.it (andreaerdna)
Date: Mon, 10 Sep 2018 03:04:39 -0700 (MST)
Subject: [QGIS-Developer] On precision in qgsRound() (3.3.0 master)
Message-ID: <1536573879528-0.post@n6.nabble.com>

qgsround is defined in qgis.h (since 3.0) as

 inline double qgsRound( double number, double places )
   {
    int scaleFactor = std::pow( 10, places );
    return static_cast<double>( static_cast<qlonglong>( number * scaleFactor
+ 0.5 ) ) / scaleFactor;
   }

and it seems only used by QgsUnitTypes:: scaledDistance and scaledArea which
are used in turn by QgsUnitTypes/QgsDistanceArea formatDistance/formatArea
and then by the homonymous ones of QgsMeasureDialog and QgsMapToolIdentify.

It seems to me that there is a flaw in qgsRound which leads to inconsistent
results of the Measure Tool in QGIS 3. (See the difference underlined in red
in the screenshot at
https://github.com/qgis/QGIS/pull/7836#issuecomment-419718554 between
segment length and total length values respectively rounded by
QLocale().toString() and by formatDistance through qgsRound()).

In fact, 'scaleFactor' is declared as Int and thus it can store up to the
9th power of 10, consequently the rounding provides incorrect results from
the 9th decimal place onwards.

Since it is allowed to set up to 12 as the number of decimal places in
Setting->Options->Map Tools (and moreover in Project Properties->General
there is no upper limit to the decimal places allowed to be set!), I think
'scaleFactor' should be qlonglong in order to correctly store at least the
12th power of 10 (while 'places' could be Int or less; and the
static_cast<qlonglong> could be <qulonglong>, provided that qgsRound() is
only used to round measurements, as it seems to be now).

In QGIS 2.18 this problem is not present, since both formatDistance and
formatArea rely on QString().arg(), which works similarly to
QLocale().toString(), to round measurements, instead of on qgsRound() (which
is also defined differently in 2.18 API).

I don't know if there could be a better approach to round numbers or how to
fix this flaw in a better way avoiding any overflow.

Hope this can help to improve QGIS 3.



-----
Andrea Giudiceandrea
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From cavallini at faunalia.it  Mon Sep 10 03:16:08 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 10 Sep 2018 12:16:08 +0200
Subject: [QGIS-Developer] Tickets on plugins.qgis.org
Message-ID: <9ee02fb5-a5c6-1a39-e12f-6e4195ea0084@faunalia.it>

Hi all,

I'm trying to open a ticket onÂ  plugins.qgis.org and it fails with:


Â Â Â  Category can't be blank

Unfortunately I don't see a way to select a category.

Is someone able to open a ticket?

Thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis


From tim at kartoza.com  Mon Sep 10 03:25:56 2018
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 10 Sep 2018 12:25:56 +0200
Subject: [QGIS-Developer] Tickets on plugins.qgis.org
In-Reply-To: <9ee02fb5-a5c6-1a39-e12f-6e4195ea0084@faunalia.it>
References: <9ee02fb5-a5c6-1a39-e12f-6e4195ea0084@faunalia.it>
Message-ID: <2F109170-5650-4AB9-829A-40F1F07674D1@kartoza.com>

Hi

How exactly do you mean âopen a ticketâ? Can you share a specific URL you are trying to use?

Thanks

Tim

> On 10 Sep 2018, at 12:16, Paolo Cavallini <cavallini at faunalia.it> wrote:
> 
> Hi all,
> 
> I'm trying to open a ticket on  plugins.qgis.org and it fails with:
> 
> 
>     Category can't be blank
> 
> Unfortunately I don't see a way to select a category.
> 
> Is someone able to open a ticket?
> 
> Thanks.
> 
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

â








Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/e66d0767/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/e66d0767/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: Message signed with OpenPGP
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/e66d0767/attachment-0001.sig>

From cavallini at faunalia.it  Mon Sep 10 03:41:34 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 10 Sep 2018 12:41:34 +0200
Subject: [QGIS-Developer] Tickets on plugins.qgis.org
In-Reply-To: <2F109170-5650-4AB9-829A-40F1F07674D1@kartoza.com>
References: <9ee02fb5-a5c6-1a39-e12f-6e4195ea0084@faunalia.it>
 <2F109170-5650-4AB9-829A-40F1F07674D1@kartoza.com>
Message-ID: <3c8bffa1-3658-5873-f021-ad7edbea1a40@faunalia.it>



Il 09/10/2018 12:25 PM, Tim Sutton ha scritto:
> Hi
>
> How exactly do you mean âopen a ticketâ? Can you share a specific URL
> you are trying to use?

https://issues.qgis.org/projects/qgis-django/issues
thanks

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis


From tim at kartoza.com  Mon Sep 10 04:16:24 2018
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 10 Sep 2018 13:16:24 +0200
Subject: [QGIS-Developer] Tickets on plugins.qgis.org
In-Reply-To: <3c8bffa1-3658-5873-f021-ad7edbea1a40@faunalia.it>
References: <9ee02fb5-a5c6-1a39-e12f-6e4195ea0084@faunalia.it>
 <2F109170-5650-4AB9-829A-40F1F07674D1@kartoza.com>
 <3c8bffa1-3658-5873-f021-ad7edbea1a40@faunalia.it>
Message-ID: <13EC47FB-D6A2-4D01-AC68-A063D443F72D@kartoza.com>

I made a single category called âwebsiteâ - can you try again?

T

> On 10 Sep 2018, at 12:41, Paolo Cavallini <cavallini at faunalia.it> wrote:
> 
> 
> 
> Il 09/10/2018 12:25 PM, Tim Sutton ha scritto:
>> Hi
>> 
>> How exactly do you mean âopen a ticketâ? Can you share a specific URL
>> you are trying to use?
> 
> https://issues.qgis.org/projects/qgis-django/issues
> thanks
> 
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> 

â








Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/9989364b/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/9989364b/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: Message signed with OpenPGP
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/9989364b/attachment-0001.sig>

From cavallini at faunalia.it  Mon Sep 10 05:14:52 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 10 Sep 2018 14:14:52 +0200
Subject: [QGIS-Developer] Tickets on plugins.qgis.org
In-Reply-To: <13EC47FB-D6A2-4D01-AC68-A063D443F72D@kartoza.com>
References: <9ee02fb5-a5c6-1a39-e12f-6e4195ea0084@faunalia.it>
 <2F109170-5650-4AB9-829A-40F1F07674D1@kartoza.com>
 <3c8bffa1-3658-5873-f021-ad7edbea1a40@faunalia.it>
 <13EC47FB-D6A2-4D01-AC68-A063D443F72D@kartoza.com>
Message-ID: <3299738d-db43-a5e7-ae14-3eade9623129@faunalia.it>

solved, thanks a lot.

cheers.


Il 09/10/2018 01:16 PM, Tim Sutton ha scritto:
> I made a single category called âwebsiteâ - can you try again?
>
> T
>
>> On 10 Sep 2018, at 12:41, Paolo Cavallini <cavallini at faunalia.it
>> <mailto:cavallini at faunalia.it>> wrote:
>>
>>
>>
>> Il 09/10/2018 12:25 PM, Tim Sutton ha scritto:
>>> Hi
>>>
>>> How exactly do you mean âopen a ticketâ? Can you share a specific URL
>>> you are trying to use?
>>
>> https://issues.qgis.org/projects/qgis-django/issues
>> thanks
>>
>> -- 
>> Paolo Cavallini - www.faunalia.eu
>> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
>> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
>>
>
> â
>
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:*Â Kartoza
> *Ex Project chair:*Â QGIS.org <http://QGIS.org>
>
> VisitÂ http://kartoza.com <http://kartoza.com/>Â to find out about open
> source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinuxÂ 
> *IRC:*Â timlinux on #qgis atÂ freenode.net <http://freenode.net>
>

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/2f760c4d/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/2f760c4d/attachment-0001.jpg>

From marco at opengis.ch  Mon Sep 10 10:05:33 2018
From: marco at opengis.ch (Marco Bernasocchi)
Date: Mon, 10 Sep 2018 19:05:33 +0200
Subject: [QGIS-Developer] Anyone using QGIS with high resolution screen?
In-Reply-To: <CAL5Q673NVKUf-_6Rc7tnUZuABNs7AmZ8gO2=P6z6=tORWdJ++A@mail.gmail.com>
References: <CAMtsY+bP0fJOJHWXBVOPj9aNgsCMo6TW+34MeJ4Yc7fzVR87BA@mail.gmail.com>
 <CAB28Asjkkmir-GXW=Ny_vHS0XbfKpi5HRUm9i3AKH6WJ-XRCbQ@mail.gmail.com>
 <CAL5Q6727wz3W4n1+aHpeQqc0XrW=1yL3gm5VDgjr67PWqbTVtQ@mail.gmail.com>
 <CAMtsY+b-EYzgTEDNvCS=BdWvW9gWFQEJfqj7_vtJDxDa0xBX8A@mail.gmail.com>
 <CAL5Q673NVKUf-_6Rc7tnUZuABNs7AmZ8gO2=P6z6=tORWdJ++A@mail.gmail.com>
Message-ID: <e80a2c40-717e-63d5-8520-658012c923f2@opengis.ch>

also 40" 4K here all pretty smooth running out of a x1 yoga. Next time
you come over you can play with it :)

Cheers


On 06.09.2018 17:37, Alessandro Pasotti wrote:
>
>
> On Thu, Sep 6, 2018 at 5:28 PM Denis Rouzaud <denis.rouzaud at gmail.com
> <mailto:denis.rouzaud at gmail.com>> wrote:
>
>     Thank you for replies.
>     Alessandro, on Mac, how did you installed/compiled QGIS? Homebrew,
>     MacPorts or KyngChaos ?
>
>
>
> Hi Denis,
>
> Sorry if I wasn't clear: I wiped out the hard disk completely, put a
> QGIS sticker on the Apple logo and I'm happily running Ubuntu on my
> MacBook Pro 15'' :)
>
> -- 
> Alessandro Pasotti
> w3:Â Â  www.itopen.it <http://www.itopen.it>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Marco Bernasocchi
QGIS.org Co-chair
marco at opengis.ch <mailto:marco at opengis.ch>
+41 (0)79 467 24 70 <tel:+41794672470>

OPENGIS.ch Logo <https://www.opengis.ch>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/6e45b5c8/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/6e45b5c8/attachment.png>

From luipir at gmail.com  Mon Sep 10 10:10:57 2018
From: luipir at gmail.com (Luigi Pirelli)
Date: Mon, 10 Sep 2018 19:10:57 +0200
Subject: [QGIS-Developer] Should we disable Processing modeler for the next
	3.4?
Message-ID: <CAFO80_poa8yAZqromNQao0j30f401YjjSNOtv=1-mbG9bH8g7g@mail.gmail.com>

Hi

I'm having really unreliable experience with processing modeler and grass
commands in master. Other have the same experience?

some problems has been already reported:
https://issues.qgis.org/issues/19700

IMHO there are two big problems
1) lack of test for algs in modeler... kind of integration tests whilst
other part of processing are well covered.
2) There are not so many users moving models to 3.x => many use cases are
not covered yet.

probably mine is a narrow vision based in my little experience with
modeler, and I would be happy to discover that the problem is mostly mine.

opinions?

Luigi Pirelli

p.s. my experience is mostly with compiled qgis on linux env

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
*
https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
* Hire me: http://goo.gl/BYRQKg
**************************************************************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/12b7475a/attachment.html>

From denis.rouzaud at gmail.com  Mon Sep 10 10:27:11 2018
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Mon, 10 Sep 2018 13:27:11 -0400
Subject: [QGIS-Developer] Anyone using QGIS with high resolution screen?
In-Reply-To: <e80a2c40-717e-63d5-8520-658012c923f2@opengis.ch>
References: <CAMtsY+bP0fJOJHWXBVOPj9aNgsCMo6TW+34MeJ4Yc7fzVR87BA@mail.gmail.com>
 <CAB28Asjkkmir-GXW=Ny_vHS0XbfKpi5HRUm9i3AKH6WJ-XRCbQ@mail.gmail.com>
 <CAL5Q6727wz3W4n1+aHpeQqc0XrW=1yL3gm5VDgjr67PWqbTVtQ@mail.gmail.com>
 <CAMtsY+b-EYzgTEDNvCS=BdWvW9gWFQEJfqj7_vtJDxDa0xBX8A@mail.gmail.com>
 <CAL5Q673NVKUf-_6Rc7tnUZuABNs7AmZ8gO2=P6z6=tORWdJ++A@mail.gmail.com>
 <e80a2c40-717e-63d5-8520-658012c923f2@opengis.ch>
Message-ID: <CAMtsY+Z6HsLayOOtW_ia8bpEuAi=Qw4_PGVqtLmzHJU5tWK8qQ@mail.gmail.com>

and you play with my mac to fix the mac slowness issue ? ;)

Le lun. 10 sept. 2018 Ã  13:05, Marco Bernasocchi <marco at opengis.ch> a
Ã©crit :

> also 40" 4K here all pretty smooth running out of a x1 yoga. Next time you
> come over you can play with it :)
>
> Cheers
>
> On 06.09.2018 17:37, Alessandro Pasotti wrote:
>
>
>
> On Thu, Sep 6, 2018 at 5:28 PM Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
>
>> Thank you for replies.
>> Alessandro, on Mac, how did you installed/compiled QGIS? Homebrew,
>> MacPorts or KyngChaos ?
>>
>>
>>
> Hi Denis,
>
> Sorry if I wasn't clear: I wiped out the hard disk completely, put a QGIS
> sticker on the Apple logo and I'm happily running Ubuntu on my MacBook Pro
> 15'' :)
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> --
> Marco Bernasocchi
> QGIS.org Co-chair
> marco at opengis.ch
> +41 (0)79 467 24 70 <+41794672470>
>
> [image: OPENGIS.ch Logo] <https://www.opengis.ch>
>
-- 

Denis Rouzaud
denis at opengis.ch  <denis at opengis.ch>
+41 76 370 21 22
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/4c782ea7/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/4c782ea7/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180910/4c782ea7/attachment-0003.png>

From nyall.dawson at gmail.com  Mon Sep 10 16:06:17 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 11 Sep 2018 09:06:17 +1000
Subject: [QGIS-Developer] Should we disable Processing modeler for the
 next 3.4?
In-Reply-To: <CAFO80_poa8yAZqromNQao0j30f401YjjSNOtv=1-mbG9bH8g7g@mail.gmail.com>
References: <CAFO80_poa8yAZqromNQao0j30f401YjjSNOtv=1-mbG9bH8g7g@mail.gmail.com>
Message-ID: <CAB28Ash9Ust-B_A0q1bDpFK4ujiYJESCe86a2CjoB+=ebMU4ug@mail.gmail.com>

On Tue, 11 Sep 2018 at 03:11, Luigi Pirelli <luipir at gmail.com> wrote:
>

>  Should we disable Processing modeler for the next 3.4?

Hell no! (no wait, that's not strong enough...! #$%#$% no!!!) ;)

> I'm having really unreliable experience with processing modeler and grass commands in master. Other have the same experience?

I don't have any direct experience with models using grass, so would
be keen to hear other's feedback here. My experience is generally with
using native and Python provider algorithms alone, in which case
modeler works well.*

* (Using modeler in QGIS has always been a balancing act of
frustration... I find that I'm always getting 95% of my model
implemented, before hitting some missing feature in modeler which
would allow me to do that final 5%. Maybe over time this has increased
from 80% to 95%, but we're still not at 100% yet! When all parameter
widgets are ported to the new modeler widget api this will get my
models to maybe 96%, with another 3% bump when full expression
contexts are available to modeler parameters in the "precalculated
expression" mode. But that's all feature requests anyway, not
bugs/regressions!).

> some problems has been already reported: https://issues.qgis.org/issues/19700

I do expect some short-term fallout from
https://github.com/qgis/QGIS/pull/7761, but we should easily be able
to get this in shape for 3.4 final. And the benefit of #7761 is that
each parameter which is ported is gaining 100% unit test coverage,
something widget wrappers have never had in the past. Parameters
ported so far are string, boolean and CRS parameters (the rest will
need to wait for 3.6).

> IMHO there are two big problems
> 1) lack of test for algs in modeler... kind of integration tests whilst other part of processing are well covered.

That's a good point, but conceptually there shouldn't be any
difference to an algorithm running in modeler vs outside of it. I
think the issue with grass is more to do with "running more than one
GRASS algorithm in a single qgis session".

> 2) There are not so many users moving models to 3.x => many use cases are not covered yet.

Yes, many use cases are definitely not covered yet. But I don't think
these are regressions, just missing features/functionality  (let me
know if they are regressions).

Nyall

From nyall.dawson at gmail.com  Mon Sep 10 16:07:41 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 11 Sep 2018 09:07:41 +1000
Subject: [QGIS-Developer] On precision in qgsRound() (3.3.0 master)
In-Reply-To: <1536573879528-0.post@n6.nabble.com>
References: <1536573879528-0.post@n6.nabble.com>
Message-ID: <CAB28AsjTYKmYS5mKHXQFf-U+bPDCKSALp7a-VunAjmnQU-24Ng@mail.gmail.com>

On Mon, 10 Sep 2018 at 20:04, andreaerdna <andreaerdna at libero.it> wrote:

> It seems to me that there is a flaw in qgsRound...
>  I think
> 'scaleFactor' should be qlonglong in order to correctly store at least the
> 12th power of 10 (while 'places' could be Int or less; and the
> static_cast<qlonglong> could be <qulonglong>, provided that qgsRound() is
> only used to round measurements, as it seems to be now).

Yes, that looks correct! Can you open a PR with a test case fixing this?

Nyall

From tudorbarascu at yahoo.com  Mon Sep 10 22:28:54 2018
From: tudorbarascu at yahoo.com (Tudor Barascu)
Date: Tue, 11 Sep 2018 05:28:54 +0000 (UTC)
Subject: [QGIS-Developer] Debian testing  - buster bug
References: <674544706.3353245.1536643734395.ref@mail.yahoo.com>
Message-ID: <674544706.3353245.1536643734395@mail.yahoo.com>

Hi,
It's been a day or two since upgrading the latest packages for Debian testing (buster) and I couldn't add new WMS/WMTS layers (or use any already added in the project).The bug is reported hereÂ #907774 - [libqt5network5] Requires openssl >= 1.1.1 - Debian Bug report logsÂ  and the error message in QGIS when trying to add a new layer is:Â 
"Download of capabilities failed: Error while setting the maximum protocol version". As it's written in the report, the temporary workaround is to install libqt5network5_5.11.1+dfsg-6_amd64.deb over the latestÂ libqt5network5_5.11.1+dfsg-7_amd64.deb .
I know there's some of you that are also using it, just letting you know.

All the best,
Tudor
| 
| 
|  | 
#907774 - [libqt5network5] Requires openssl >= 1.1.1 - Debian Bug report...


 |

 |

 |



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180911/00943bfe/attachment.html>

From noreply at qgis.org  Mon Sep 10 22:31:20 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 11 Sep 2018 05:31:20 -0000
Subject: [QGIS-Developer] Plugin [62] Load Them All approval notification.
Message-ID: <20180911053120.1183.43183@2c6504964296>


Plugin Load Them All approval by pcav.
The plugin version "[62] Load Them All 3.0" is now approved
Link: http://plugins.qgis.org/plugins/loadthemall/

From luipir at gmail.com  Tue Sep 11 00:43:35 2018
From: luipir at gmail.com (Luigi Pirelli)
Date: Tue, 11 Sep 2018 09:43:35 +0200
Subject: [QGIS-Developer] Should we disable Processing modeler for the
 next 3.4?
In-Reply-To: <CAB28Ash9Ust-B_A0q1bDpFK4ujiYJESCe86a2CjoB+=ebMU4ug@mail.gmail.com>
References: <CAFO80_poa8yAZqromNQao0j30f401YjjSNOtv=1-mbG9bH8g7g@mail.gmail.com>
 <CAB28Ash9Ust-B_A0q1bDpFK4ujiYJESCe86a2CjoB+=ebMU4ug@mail.gmail.com>
Message-ID: <CAFO80_oya-YsNKsn=5QnUA9N6ExpaORFYmrtOTgwb27D_nhWoQ@mail.gmail.com>

On Tue, 11 Sep 2018 at 01:06, Nyall Dawson <nyall.dawson at gmail.com> wrote:

> Hell no! (no wait, that's not strong enough...! #$%#$% no!!!) ;)
>

;) I know my mail was a bomb!


> I think the issue with grass is more to do with "running more than one
> GRASS algorithm in a single qgis session".
>

that's could be a problem... but probably not in my use case.


> > 2) There are not so many users moving models to 3.x => many use cases
> are not covered yet.
>
> Yes, many use cases are definitely not covered yet. But I don't think
> these are regressions, just missing features/functionality  (let me
> know if they are regressions).
>

I tried to avoid completely to use 2.18 version also to face all possible
issue and trying to fix them, so I can't say if it's a regression.

cheers
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180911/88d81ad5/attachment.html>

From noreply at qgis.org  Tue Sep 11 04:07:52 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 11 Sep 2018 11:07:52 -0000
Subject: [QGIS-Developer] Plugin [850] changeDataSource approval
	notification.
Message-ID: <20180911110752.1184.53795@2c6504964296>


Plugin changeDataSource approval by pcav.
The plugin version "[850] changeDataSource 3.0" is now approved
Link: http://plugins.qgis.org/plugins/changeDataSource/

From cavallini at faunalia.it  Tue Sep 11 05:29:12 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 11 Sep 2018 14:29:12 +0200
Subject: [QGIS-Developer] Debian testing - buster bug
In-Reply-To: <674544706.3353245.1536643734395@mail.yahoo.com>
References: <674544706.3353245.1536643734395.ref@mail.yahoo.com>
 <674544706.3353245.1536643734395@mail.yahoo.com>
Message-ID: <a7a65050-d8a9-601f-f2fe-e75cb5848382@faunalia.it>

I cannot download the list of plugins from qgis - could it be the same
issue?

thanks Tudor


Il 09/11/2018 07:28 AM, Tudor Barascu ha scritto:
> Hi,
>
> It's been a day or two since upgrading the latest packages for Debian
> testing (buster) and I couldn't add new WMS/WMTS layers (or use any
> already added in the project).
> The bug is reported hereÂ #907774 - [libqt5network5] Requires openssl
> >= 1.1.1 - Debian Bug report logs
> <https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=907774>Â  and the
> error message in QGIS when trying to add a new layer is:Â 
>
> "Download of capabilities failed: Error while setting the maximum
> protocol version". As it's written in the report, the temporary
> workaround is to install libqt5network5_5.11.1+dfsg-6_amd64.deb over
> the latestÂ libqt5network5_5.11.1+dfsg-7_amd64.deb .
>
> I know there's some of you that are also using it, just letting you know.
>
> All the best,
>
> Tudor
>
> 	
>
>
>     #907774 - [libqt5network5] Requires openssl >= 1.1.1 - Debian Bug
>     report...
>
> <https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=907774>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180911/7c18e1a1/attachment-0001.html>

From cavallini at faunalia.it  Tue Sep 11 06:09:34 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 11 Sep 2018 15:09:34 +0200
Subject: [QGIS-Developer] Debian testing - buster bug
In-Reply-To: <a7a65050-d8a9-601f-f2fe-e75cb5848382@faunalia.it>
References: <674544706.3353245.1536643734395.ref@mail.yahoo.com>
 <674544706.3353245.1536643734395@mail.yahoo.com>
 <a7a65050-d8a9-601f-f2fe-e75cb5848382@faunalia.it>
Message-ID: <b2a1aa6f-6627-b2b5-acce-2327c829c085@faunalia.it>

Apparently it is different:

Error while setting the maximum protocol version

Anyone has the same issue?

Thanks.


Il 09/11/2018 02:29 PM, Paolo Cavallini ha scritto:
>
> I cannot download the list of plugins from qgis - could it be the same
> issue?
>
> thanks Tudor
>
>
> Il 09/11/2018 07:28 AM, Tudor Barascu ha scritto:
>> Hi,
>>
>> It's been a day or two since upgrading the latest packages for Debian
>> testing (buster) and I couldn't add new WMS/WMTS layers (or use any
>> already added in the project).
>> The bug is reported hereÂ #907774 - [libqt5network5] Requires openssl
>> >= 1.1.1 - Debian Bug report logs
>> <https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=907774>Â  and the
>> error message in QGIS when trying to add a new layer is:Â 
>>
>> "Download of capabilities failed: Error while setting the maximum
>> protocol version". As it's written in the report, the temporary
>> workaround is to install libqt5network5_5.11.1+dfsg-6_amd64.deb over
>> the latestÂ libqt5network5_5.11.1+dfsg-7_amd64.deb .
>>
>> I know there's some of you that are also using it, just letting you know.
>>
>> All the best,
>>
>> Tudor
>>
>> 	
>>
>>
>>     #907774 - [libqt5network5] Requires openssl >= 1.1.1 - Debian Bug
>>     report...
>>
>> <https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=907774>
>>
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -- 
> Paolo Cavallini - www.faunalia.eu
> QGIS.ORG Chair:
> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180911/d7c163f9/attachment.html>

From alice.martin at tigeo.fr  Tue Sep 11 06:21:05 2018
From: alice.martin at tigeo.fr (Alice MARTIN)
Date: Tue, 11 Sep 2018 15:21:05 +0200
Subject: [QGIS-Developer] Update an intermediate table with selected
 features (many-to-many relationship)
Message-ID: <845f7d2d-f550-559b-c840-e440581c6cd8@tigeo.fr>

Hello,

I'm a QGIS user and I need information about a QGIS functionnality which 
doesn't exist yet to my knowledge. Here's my problem :

I have a PostgreSQL database with two tables :

- The first one contains geometry data defining hiking sections
- The second one contains a list of trails
One section can be linked to several trails, and a trail can be linked 
to several sections : it's a many-to-many relationship.

I then create an intermediate table to link trails with sections and use 
a QGIS project I've created to update it. I've set appropriate 
relationships in project's features. From there, when I click on a 
section with the "Identify Features" tool or in the attribute table's 
section, I can easily indicate which trail(s) is(are) linked.

However, I need to do this section by section : I can't select several 
sections at once and indicate in a few clicks which trail(s) are linked 
to the sections I've selected. Is it possible to do that with QGIS ? I 
couldn't find anything about it.

If such a feature isn't available, do you know if its under development 
or if there's a way to help to create this tool? Please let me know.

Thank you in advance for your help.

Best regards,

Alice Martin

-- 
Alice MARTIN
ChargÃ©e de missions Ã  TIGÃ©oÂ²
15, Rue de Jautzou - 81 000 ALBI
05 63 54 41 59


From matthias at opengis.ch  Tue Sep 11 06:43:17 2018
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 11 Sep 2018 15:43:17 +0200
Subject: [QGIS-Developer] Update an intermediate table with selected
 features (many-to-many relationship)
In-Reply-To: <845f7d2d-f550-559b-c840-e440581c6cd8@tigeo.fr>
References: <845f7d2d-f550-559b-c840-e440581c6cd8@tigeo.fr>
Message-ID: <a73a471f-8d1d-c300-eae5-917374792581@opengis.ch>

Hi Alice

Many-to-many functionality is available in QGIS, see here:

https://gis.stackexchange.com/a/233944/9839

usability-wise it's sometimes still a bit tricky though.

Regards
Matthias

On 09/11/2018 03:21 PM, Alice MARTIN wrote:
> Hello,
> 
> I'm a QGIS user and I need information about a QGIS functionnality which
> doesn't exist yet to my knowledge. Here's my problem :
> 
> I have a PostgreSQL database with two tables :
> 
> - The first one contains geometry data defining hiking sections
> - The second one contains a list of trails
> One section can be linked to several trails, and a trail can be linked
> to several sections : it's a many-to-many relationship.
> 
> I then create an intermediate table to link trails with sections and use
> a QGIS project I've created to update it. I've set appropriate
> relationships in project's features. From there, when I click on a
> section with the "Identify Features" tool or in the attribute table's
> section, I can easily indicate which trail(s) is(are) linked.
> 
> However, I need to do this section by section : I can't select several
> sections at once and indicate in a few clicks which trail(s) are linked
> to the sections I've selected. Is it possible to do that with QGIS ? I
> couldn't find anything about it.
> 
> If such a feature isn't available, do you know if its under development
> or if there's a way to help to create this tool? Please let me know.
> 
> Thank you in advance for your help.
> 
> Best regards,
> 
> Alice Martin
> 

From sebastic at xs4all.nl  Tue Sep 11 06:59:22 2018
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Tue, 11 Sep 2018 15:59:22 +0200
Subject: [QGIS-Developer] Debian testing - buster bug
In-Reply-To: <674544706.3353245.1536643734395@mail.yahoo.com>
References: <674544706.3353245.1536643734395.ref@mail.yahoo.com>
 <674544706.3353245.1536643734395@mail.yahoo.com>
Message-ID: <28fa653d-acbc-b492-b5d7-5fbde7e95dd9@xs4all.nl>

The underlaying issue is the removal of TLS < 1.2 support by default in
openssl 1.1.1, see: Debian Bug #875423 [0].

TLS 1.0 and/or 1.1 support needs to be enabled explicitly using
SSL_CTX_set_min_proto_version() or SSL_set_min_proto_version() as
mentioned in Message #70 [1].

There is a separate issue for Qt5 which has a workaround in the mean
time. [2]

[0] https://bugs.debian.org/875423
[1] https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=875423#70
[2] https://bugs.debian.org/908567

Kind Regards,

Bas

From sfkeller at gmail.com  Tue Sep 11 07:53:37 2018
From: sfkeller at gmail.com (Stefan Keller)
Date: Tue, 11 Sep 2018 16:53:37 +0200
Subject: [QGIS-Developer] Should we disable Processing modeler for the
 next 3.4?
In-Reply-To: <CAFO80_oya-YsNKsn=5QnUA9N6ExpaORFYmrtOTgwb27D_nhWoQ@mail.gmail.com>
References: <CAFO80_poa8yAZqromNQao0j30f401YjjSNOtv=1-mbG9bH8g7g@mail.gmail.com>
 <CAB28Ash9Ust-B_A0q1bDpFK4ujiYJESCe86a2CjoB+=ebMU4ug@mail.gmail.com>
 <CAFO80_oya-YsNKsn=5QnUA9N6ExpaORFYmrtOTgwb27D_nhWoQ@mail.gmail.com>
Message-ID: <CAFcOn2-L2fyOgeCk_xNYQVqwV4tTZ05ba_TA+r7xQ_7FABnjOQ@mail.gmail.com>

I have had problems QGIS 2.x.x versions with Processing time ago. Now
I hope to have time to test 3.4 these days.

Speaking about GRASS: It's a long time wish from me that there would
be a QGIS delivery (via Installers) where GRASS and SAGA are optional.
I've had so many experiences in teaching QGIS and I've seen so many
use cases where I wished to have a more slim QGIS without Java and
without such big sized libraries. Having said this, pls. let me add
that I'm using GRASS myself sometimes for certain analyses, and that I
appreciate GRASS and SAGA very much.

I'm chiming in with this wish because I think that this could be
related to separating adding and separating unit tests.

:Stefan


Am Di., 11. Sep. 2018 um 09:44 Uhr schrieb Luigi Pirelli <luipir at gmail.com>:
>
> On Tue, 11 Sep 2018 at 01:06, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>
>> Hell no! (no wait, that's not strong enough...! #$%#$% no!!!) ;)
>
>
> ;) I know my mail was a bomb!
>
>>
>> I think the issue with grass is more to do with "running more than one
>> GRASS algorithm in a single qgis session".
>
>
> that's could be a problem... but probably not in my use case.
>
>>
>> > 2) There are not so many users moving models to 3.x => many use cases are not covered yet.
>>
>> Yes, many use cases are definitely not covered yet. But I don't think
>> these are regressions, just missing features/functionality  (let me
>> know if they are regressions).
>
>
> I tried to avoid completely to use 2.18 version also to face all possible issue and trying to fix them, so I can't say if it's a regression.
>
> cheers
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From MAP at ramboll.dk  Tue Sep 11 08:55:47 2018
From: MAP at ramboll.dk (magerlin)
Date: Tue, 11 Sep 2018 08:55:47 -0700 (MST)
Subject: [QGIS-Developer] QGIS 3 does not allow to embed layers from qgz
	project files
Message-ID: <1536681347357-0.post@n6.nabble.com>

In Qgis 3 "Embed Layers and Groups" only allows to embed from qgs files, not
qgz:

<http://osgeo-org.1560.x6.nabble.com/file/t202356/Screenshot_2018-09-11_17.png> 

I can write *.qgz myself in the filename field and the qgz files appear but
Qgis crashes when I try to use one of them:

Crash ID: 4bbda773b0ca13ca0a43c40842995c035e0b436b


Stack Trace


QgsLayerTreeModel::index2node :
QgsLayerTreeViewIndicator::QgsLayerTreeViewIndicator :
QAbstractItemView::viewportEvent :
QCoreApplicationPrivate::sendThroughObjectEventFilters :
QApplicationPrivate::notify_helper :
QApplication::notify :
QgsApplication::notify :
QCoreApplication::notifyInternal2 :
QApplication::event :
QApplicationPrivate::notify_helper :
QApplication::notify :
QgsApplication::notify :
QCoreApplication::notifyInternal2 :
QEventDispatcherWin32Private::sendTimerEvent :
QEventDispatcherWin32::processEvents :
TranslateMessageEx :
TranslateMessage :
QEventDispatcherWin32::processEvents :
qt_plugin_query_metadata :
QEventLoop::exec :
QDialog::exec :
QgisApp::embedLayers :
QMetaObject::activate :
QAction::activate :
QMenu::actionGeometry :
QMenu::actionGeometry :
QMenu::mouseReleaseEvent :
QWidget::event :
QMenu::event :
QApplicationPrivate::notify_helper :
QApplication::notify :
QgsApplication::notify :
QCoreApplication::notifyInternal2 :
QApplicationPrivate::sendMouseEvent :
QSizePolicy::QSizePolicy :
QSizePolicy::QSizePolicy :
QApplicationPrivate::notify_helper :
QApplication::notify :
QgsApplication::notify :
QCoreApplication::notifyInternal2 :
QGuiApplicationPrivate::processMouseEvent :
QWindowSystemInterface::sendWindowSystemEvents :
QEventDispatcherWin32::processEvents :
TranslateMessageEx :
TranslateMessage :
QEventDispatcherWin32::processEvents :
qt_plugin_query_metadata :
QEventLoop::exec :
QCoreApplication::exec :
main :
BaseThreadInitThunk :
RtlUserThreadStart :




QGIS Info
QGIS Version: 3.2.2-Bonn
QGIS code revision: 26842169e9
Compiled against Qt: 5.9.2
Running against Qt: 5.9.2
Compiled against GDAL: 2.2.4
Running against GDAL: 2.2.4



System Info
CPU Type: x86_64
Kernel Type: winnt
Kernel Version: 6.1.7601






-----
Regards Morten

Currently using Qgis 2.18.23 (OSGeo4) and Qgis 3.2.2 in parrallel
Windows 7, 64bit
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From andreaerdna at libero.it  Tue Sep 11 09:04:48 2018
From: andreaerdna at libero.it (andreaerdna)
Date: Tue, 11 Sep 2018 09:04:48 -0700 (MST)
Subject: [QGIS-Developer] On precision in qgsRound() (3.3.0 master)
In-Reply-To: <CAB28AsjTYKmYS5mKHXQFf-U+bPDCKSALp7a-VunAjmnQU-24Ng@mail.gmail.com>
References: <1536573879528-0.post@n6.nabble.com>
 <CAB28AsjTYKmYS5mKHXQFf-U+bPDCKSALp7a-VunAjmnQU-24Ng@mail.gmail.com>
Message-ID: <1536681888689-0.post@n6.nabble.com>

Nyall Dawson wrote
> On Mon, 10 Sep 2018 at 20:04, andreaerdna &lt;

> andreaerdna@

> &gt; wrote:
>> 'scaleFactor' should be qlonglong in order to correctly store at least
>> the
>> 12th power of 10
> 
> Yes, that looks correct! Can you open a PR with a test case fixing this?

I'm not sure if this simple fix could completely solve the problem in the
right way, avoiding any overflow.

Taking better account of any side effects:

now in QGIS 3.3.0 master, as said,
'scaleFactor' defined as Int overflows when 'places' > 9, leading to
incorrect rounding,
while static_cast<qlonglong>((number * scaleFactor) + 0.5) and the whole
'result' already overflow when 'number', the measure to round, is at least
about:

places = 8     -> 92'233'720'369 units
places = 9     ->  9'223'372'037 units (see overflow in action [1])
places >= 10 ->  4'294'967'296 units (see [2])


instead, with the "fix" [3],
'scaleFactor' defined as qlonglong doesn't overflow at all for 'places' <=
12 (actually <=19)
but then static_cast<qulonglong>((number * scaleFactor) + 0.5) overflows
when 'number' is at least about:

places = 8     -> 184'467'440'738 units (better then now)
places = 9     ->   18'446'744'074 units (better)
places = 10   ->     1'844'674'408 units (worse)
places = 11   ->       184'467'441 units (worse)
places = 12   ->         18'446'745 units (worse)


I can not fully understand the reasons [4,5] that led to rewrite qgsRound(),
introduce scaledDistance/scaledArea and modify formatDistance/formatArea,
anywayI think now it could be better to:

- completely avoid to use qgsRound() in scaledDistance/scaledArea and rely
only on QStringLiteral().arg() in formatDistance/formatArea to correctly
round the measurements value [6]
or
- reduce to 9 (or less) the maximum precision value allowed to be set in
Setting->Options->Map Tools and in Project Properties->General [7]
or
- introduce some kind of logic in qgsRound() to handle and prevent overflows
or
- (?)

Some tests are needed, but I can not do them all by myself for now.


[1] https://agiudiceandrea.github.io/QGIS330_5.PNG
[2] https://agiudiceandrea.github.io/QGIS330_4.PNG
[3]
https://github.com/agiudiceandrea/QGIS/commit/7c16a409c911eef415f286a2af530c0163a04b26
[4] "Introduce qgsRound since std::round is available only in C++11 onwards"
https://github.com/qgis/QGIS/pull/2367
[5] "Modularize distance and area formatting"
https://github.com/qgis/QGIS/pull/4213
[6]
https://github.com/agiudiceandrea/QGIS/commit/54d719d38bc823ab5f9a2d5d47d3d52b82599b43
[7]
https://github.com/agiudiceandrea/QGIS/commit/8cc0b358a479f10edea8956700b5548691404d80



-----
Andrea Giudiceandrea
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From matteo.ghetta at faunalia.eu  Tue Sep 11 09:13:20 2018
From: matteo.ghetta at faunalia.eu (Matteo Ghetta)
Date: Tue, 11 Sep 2018 18:13:20 +0200
Subject: [QGIS-Developer] QgsAbstractProcessingParameterWidgetWrapper
	problems in Processing
Message-ID: <c2334549-d62e-0445-6cad-c2335768f030@faunalia.eu>

Hi devs,

I get his error with the random points in extent algorithm:

AttributeError: 'QgsAbstractProcessingParameterWidgetWrapper' object has
no attribute 'value'
Traceback (most recent call last):
  File
"/home/matteo/lavori/QGIS/build-qgis3-3D/output/python/plugins/processing/gui/ProcessingToolbox.py",
line 218, in executeAlgorithm
    dlg = AlgorithmDialog(alg)
  File
"/home/matteo/lavori/QGIS/build-qgis3-3D/output/python/plugins/processing/gui/AlgorithmDialog.py",
line 74, in __init__
    self.setMainWidget(self.getParametersPanel(alg, self))
  File
"/home/matteo/lavori/QGIS/build-qgis3-3D/output/python/plugins/processing/gui/AlgorithmDialog.py",
line 81, in getParametersPanel
    return ParametersPanel(parent, alg)
  File
"/home/matteo/lavori/QGIS/build-qgis3-3D/output/python/plugins/processing/gui/ParametersPanel.py",
line 100, in __init__
    self.initWidgets()
  File
"/home/matteo/lavori/QGIS/build-qgis3-3D/output/python/plugins/processing/gui/ParametersPanel.py",
line 221, in initWidgets
    wrapper.postInitialize(list(self.wrappers.values()))
  File
"/home/matteo/lavori/QGIS/build-qgis3-3D/output/python/plugins/processing/gui/wrappers.py",
line 802, in postInitialize
    self.widget.setUnitParameterValue(wrapper.value())
AttributeError: 'QgsAbstractProcessingParameterWidgetWrapper' object has
no attribute 'value'


I don't know if this happens also with other Processing algorithms

Cheers

Matteo
-- 
Matteo Ghetta - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From delazj at gmail.com  Tue Sep 11 09:42:50 2018
From: delazj at gmail.com (DelazJ)
Date: Tue, 11 Sep 2018 18:42:50 +0200
Subject: [QGIS-Developer] QgsAbstractProcessingParameterWidgetWrapper
 problems in Processing
In-Reply-To: <c2334549-d62e-0445-6cad-c2335768f030@faunalia.eu>
References: <c2334549-d62e-0445-6cad-c2335768f030@faunalia.eu>
Message-ID: <CAECJsSqgKjewGKA42hWoNHsZjODr3J6VirynU53tJYe2BvJW+w@mail.gmail.com>

Hi Matteo,

See https://issues.qgis.org/issues/19813. How recent is your build?

Regards,
Harrissou

Le mar. 11 sept. 2018 Ã  18:13, Matteo Ghetta <matteo.ghetta at faunalia.eu> a
Ã©crit :

> Hi devs,
>
> I get his error with the random points in extent algorithm:
>
> AttributeError: 'QgsAbstractProcessingParameterWidgetWrapper' object has
> no attribute 'value'
> Traceback (most recent call last):
>   File
>
> "/home/matteo/lavori/QGIS/build-qgis3-3D/output/python/plugins/processing/gui/ProcessingToolbox.py",
> line 218, in executeAlgorithm
>     dlg = AlgorithmDialog(alg)
>   File
>
> "/home/matteo/lavori/QGIS/build-qgis3-3D/output/python/plugins/processing/gui/AlgorithmDialog.py",
> line 74, in __init__
>     self.setMainWidget(self.getParametersPanel(alg, self))
>   File
>
> "/home/matteo/lavori/QGIS/build-qgis3-3D/output/python/plugins/processing/gui/AlgorithmDialog.py",
> line 81, in getParametersPanel
>     return ParametersPanel(parent, alg)
>   File
>
> "/home/matteo/lavori/QGIS/build-qgis3-3D/output/python/plugins/processing/gui/ParametersPanel.py",
> line 100, in __init__
>     self.initWidgets()
>   File
>
> "/home/matteo/lavori/QGIS/build-qgis3-3D/output/python/plugins/processing/gui/ParametersPanel.py",
> line 221, in initWidgets
>     wrapper.postInitialize(list(self.wrappers.values()))
>   File
>
> "/home/matteo/lavori/QGIS/build-qgis3-3D/output/python/plugins/processing/gui/wrappers.py",
> line 802, in postInitialize
>     self.widget.setUnitParameterValue(wrapper.value())
> AttributeError: 'QgsAbstractProcessingParameterWidgetWrapper' object has
> no attribute 'value'
>
>
> I don't know if this happens also with other Processing algorithms
>
> Cheers
>
> Matteo
> --
> Matteo Ghetta - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180911/20c3ae5a/attachment.html>

From adenaculture at gmail.com  Tue Sep 11 11:00:55 2018
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 11 Sep 2018 14:00:55 -0400
Subject: [QGIS-Developer] Can I automatically style a layer generated with a
	Processing Sink?
Message-ID: <CABPxTTqzD6C8vPTeC+3GNyL0O-5C_T6=aZSGZeMzjcPgjbqmPw@mail.gmail.com>

In a processing routine I create an output vector layer.

        self.addParameter(
            QgsProcessingParameterFeatureSink(
                self.PrmOutputLayer,
                tr('Output layer'))
            )

        (sink, dest_id) = self.parameterAsSink(parameters,
            self.PrmOutputLayer, context, fields, QgsWkbTypes.LineString,
srcCRS)

I would like to style the output layer by enabling a label based off of one
of the fields. Can I do this in Processing? I guess what I would like to
get is the actual vector layer that is created. Is that possible?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180911/c808ae52/attachment-0001.html>

From rdmailings at duif.net  Tue Sep 11 11:06:30 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 11 Sep 2018 20:06:30 +0200
Subject: [QGIS-Developer] Debian testing - buster bug
In-Reply-To: <28fa653d-acbc-b492-b5d7-5fbde7e95dd9@xs4all.nl>
References: <674544706.3353245.1536643734395.ref@mail.yahoo.com>
 <674544706.3353245.1536643734395@mail.yahoo.com>
 <28fa653d-acbc-b492-b5d7-5fbde7e95dd9@xs4all.nl>
Message-ID: <5236afa7-c655-2982-de71-7ccf533e4ab5@duif.net>

On 09/11/2018 03:59 PM, Sebastiaan Couwenberg wrote:
> The underlaying issue is the removal of TLS < 1.2 support by default in
> openssl 1.1.1, see: Debian Bug #875423 [0].
> 
> TLS 1.0 and/or 1.1 support needs to be enabled explicitly using
> SSL_CTX_set_min_proto_version() or SSL_set_min_proto_version() as
> mentioned in Message #70 [1].
> 
> There is a separate issue for Qt5 which has a workaround in the mean
> time. [2]
> 
> [0] https://bugs.debian.org/875423
> [1] https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=875423#70
> [2] https://bugs.debian.org/908567

Mmm, Debian testing user here... :-)

Anything I can do to make (self compiled) QGIS work again? It is now
more or less unusable to me as webservices and plugins are unavailable :(
Can I do anything to fix it in my local version? Do I need to enable
SSL_CTX_set_min_proto_version() or SSL_set_min_proto_version() somewhere?

We do not have power to fix apache on public services, but can I enable
ssl protocol versions on plugins.qgis.org to make that work again?

Any other option?

Regards,

Richard Duivenvoorde



From dmarteau at 3liz.com  Tue Sep 11 11:40:23 2018
From: dmarteau at 3liz.com (David Marteau)
Date: Tue, 11 Sep 2018 20:40:23 +0200
Subject: [QGIS-Developer] Can I automatically style a layer generated
	with a Processing Sink?
In-Reply-To: <CABPxTTqzD6C8vPTeC+3GNyL0O-5C_T6=aZSGZeMzjcPgjbqmPw@mail.gmail.com>
References: <CABPxTTqzD6C8vPTeC+3GNyL0O-5C_T6=aZSGZeMzjcPgjbqmPw@mail.gmail.com>
Message-ID: <623FB2AC-38C5-4C54-8CCB-8D7BA31DD0CE@3liz.com>

Hi,

In python you may check the `processing.core.Processing.RenderingStyles` that enable you to associate a style (as a qml file) to a pair (alg, output). It is also possible to 
do that from the Qgis GUI  ( but I do not remember the details ). 


> Le 11 sept. 2018 Ã  20:00, C Hamilton <adenaculture at gmail.com> a Ã©crit :
> 
> In a processing routine I create an output vector layer. 
> 
>         self.addParameter(
>             QgsProcessingParameterFeatureSink(
>                 self.PrmOutputLayer,
>                 tr('Output layer'))
>             )
> 
>         (sink, dest_id) = self.parameterAsSink(parameters,
>             self.PrmOutputLayer, context, fields, QgsWkbTypes.LineString, srcCRS)
> 
> I would like to style the output layer by enabling a label based off of one of the fields. Can I do this in Processing? I guess what I would like to get is the actual vector layer that is created. Is that possible?
> 
> Thanks,
> 
> Calvin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180911/697b3503/attachment.html>

From sebastic at xs4all.nl  Tue Sep 11 12:20:03 2018
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Tue, 11 Sep 2018 21:20:03 +0200
Subject: [QGIS-Developer] Debian testing - buster bug
In-Reply-To: <5236afa7-c655-2982-de71-7ccf533e4ab5@duif.net>
References: <674544706.3353245.1536643734395.ref@mail.yahoo.com>
 <674544706.3353245.1536643734395@mail.yahoo.com>
 <28fa653d-acbc-b492-b5d7-5fbde7e95dd9@xs4all.nl>
 <5236afa7-c655-2982-de71-7ccf533e4ab5@duif.net>
Message-ID: <97198493-7661-648e-7646-74c411551077@xs4all.nl>

On 9/11/18 8:06 PM, Richard Duivenvoorde wrote:
> On 09/11/2018 03:59 PM, Sebastiaan Couwenberg wrote:
>> The underlaying issue is the removal of TLS < 1.2 support by default in
>> openssl 1.1.1, see: Debian Bug #875423 [0].
>>
>> TLS 1.0 and/or 1.1 support needs to be enabled explicitly using
>> SSL_CTX_set_min_proto_version() or SSL_set_min_proto_version() as
>> mentioned in Message #70 [1].
>>
>> There is a separate issue for Qt5 which has a workaround in the mean
>> time. [2]
>>
>> [0] https://bugs.debian.org/875423
>> [1] https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=875423#70
>> [2] https://bugs.debian.org/908567
> 
> Mmm, Debian testing user here... :-)
> 
> Anything I can do to make (self compiled) QGIS work again? It is now
> more or less unusable to me as webservices and plugins are unavailable :(
> Can I do anything to fix it in my local version? Do I need to enable
> SSL_CTX_set_min_proto_version() or SSL_set_min_proto_version() somewhere?

AFAIK this is in done in libqt5network5 and the OpenSSL API is not
exposed through Qt to allow users to select the protocol version.

> We do not have power to fix apache on public services, but can I enable
> ssl protocol versions on plugins.qgis.org to make that work again?

It's a client side issue, all code that uses the OpenSSL API needs to
account for the TLS 1.3 changes in OpenSSL 1.1.1, which is unlikely to
migrate to testing any time soon due to the massive breakage it cause in
unstable.

If I understand the issue correctly, TLS_MAX_VERSION was changed to TLS
1.3 in OpenSSL 1.1.1, but TLS 1.3 is not available in OpenSSL 1.1.0
which is still in testing.

Applications using the OpenSSL API also need to enable the older TLS
versions (< 1.3) explicitly using the *_set_min_proto_version()
functions or they will use TLS 1.3 by default when built with OpenSSL 1.1.1.

> Any other option?

Wait for libqt5network5 (5.11.1+dfsg-8) to migrate to testing [0]. It
contains a change to not require openssl 1.1.1 in testing to fix #907774
[1].

[0] https://qa.debian.org/excuses.php?package=qtbase-opensource-src
[1] https://bugs.debian.org/907774

Kind Regards,

Bas


From rdmailings at duif.net  Tue Sep 11 12:39:13 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 11 Sep 2018 21:39:13 +0200
Subject: [QGIS-Developer] Debian testing - buster bug
In-Reply-To: <97198493-7661-648e-7646-74c411551077@xs4all.nl>
References: <674544706.3353245.1536643734395.ref@mail.yahoo.com>
 <674544706.3353245.1536643734395@mail.yahoo.com>
 <28fa653d-acbc-b492-b5d7-5fbde7e95dd9@xs4all.nl>
 <5236afa7-c655-2982-de71-7ccf533e4ab5@duif.net>
 <97198493-7661-648e-7646-74c411551077@xs4all.nl>
Message-ID: <596b0b05-1fdb-79a6-6ed2-815613ec9ad2@duif.net>

On 09/11/2018 09:20 PM, Sebastiaan Couwenberg wrote:
> Wait for libqt5network5 (5.11.1+dfsg-8) to migrate to testing [0]. It
> contains a change to not require openssl 1.1.1 in testing to fix #907774
> [1].
> 
> [0] https://qa.debian.org/excuses.php?package=qtbase-opensource-src
> [1] https://bugs.debian.org/907774

Mmm, ok. Thanks Bas for this info!

I hope and wait then; glad I have also a 2.18 build here, which still
seems to work... and some VM's in case I really need 3.x :-)

Richard

From noreply at qgis.org  Tue Sep 11 22:09:31 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 12 Sep 2018 05:09:31 -0000
Subject: [QGIS-Developer] Plugin [334] Zoom To Postcode approval
	notification.
Message-ID: <20180912050931.5421.52877@2c6504964296>


Plugin Zoom To Postcode approval by pcav.
The plugin version "[334] Zoom To Postcode 1.0" is now approved
Link: http://plugins.qgis.org/plugins/ZoomToPostcode/

From matteo.ghetta at faunalia.eu  Tue Sep 11 22:23:17 2018
From: matteo.ghetta at faunalia.eu (Matteo Ghetta)
Date: Wed, 12 Sep 2018 07:23:17 +0200
Subject: [QGIS-Developer] QgsAbstractProcessingParameterWidgetWrapper
 problems in Processing
In-Reply-To: <CAECJsSqgKjewGKA42hWoNHsZjODr3J6VirynU53tJYe2BvJW+w@mail.gmail.com>
References: <c2334549-d62e-0445-6cad-c2335768f030@faunalia.eu>
 <CAECJsSqgKjewGKA42hWoNHsZjODr3J6VirynU53tJYe2BvJW+w@mail.gmail.com>
Message-ID: <4362b54d-570d-e070-0ada-13afee864564@faunalia.eu>

Hi Harrissou,


> See https://issues.qgis.org/issues/19813. How recent is your build?

3/4 days ago, sorry for the noise and thanks for the quick reply

Cheers

Matteo

From matteo.ghetta at faunalia.eu  Tue Sep 11 22:56:59 2018
From: matteo.ghetta at faunalia.eu (Matteo Ghetta)
Date: Wed, 12 Sep 2018 07:56:59 +0200
Subject: [QGIS-Developer] Can I automatically style a layer generated
 with a Processing Sink?
In-Reply-To: <CABPxTTqzD6C8vPTeC+3GNyL0O-5C_T6=aZSGZeMzjcPgjbqmPw@mail.gmail.com>
References: <CABPxTTqzD6C8vPTeC+3GNyL0O-5C_T6=aZSGZeMzjcPgjbqmPw@mail.gmail.com>
Message-ID: <8138de7e-98f8-c28d-e869-f8146b7bd158@faunalia.eu>

Hi Calvin,

I think the way to proceed is to use the processing set style for vector
layer algorithm within the script.

You can have a look also at this thread:

https://lists.osgeo.org/pipermail/qgis-developer/2018-May/053513.html

Hope this helps

Cheers

Matteo

From nyall.dawson at gmail.com  Tue Sep 11 23:21:49 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 12 Sep 2018 16:21:49 +1000
Subject: [QGIS-Developer] Can I automatically style a layer generated
	with a Processing Sink?
In-Reply-To: <CABPxTTqzD6C8vPTeC+3GNyL0O-5C_T6=aZSGZeMzjcPgjbqmPw@mail.gmail.com>
References: <CABPxTTqzD6C8vPTeC+3GNyL0O-5C_T6=aZSGZeMzjcPgjbqmPw@mail.gmail.com>
Message-ID: <CAB28Asj5wxGZ6CZmn75rkqgBX8dKXZt98Kk4GW3qw9rhKvxPAg@mail.gmail.com>

On Wed, 12 Sep 2018 at 04:00, C Hamilton <adenaculture at gmail.com> wrote:
>
> In a processing routine I create an output vector layer.
>
>         self.addParameter(
>             QgsProcessingParameterFeatureSink(
>                 self.PrmOutputLayer,
>                 tr('Output layer'))
>             )
>
>         (sink, dest_id) = self.parameterAsSink(parameters,
>             self.PrmOutputLayer, context, fields, QgsWkbTypes.LineString, srcCRS)
>
> I would like to style the output layer by enabling a label based off of one of the fields. Can I do this in Processing? I guess what I would like to get is the actual vector layer that is created. Is that possible?

Actually the best approach is to use a layer post processor. This is
flexible and totally thread-safe :)

I don't think there's any Python examples in QGIS yet, but see

https://github.com/qgis/QGIS/blob/master/src/analysis/processing/qgsalgorithmcategorizeusingstyle.cpp#L104

and

https://github.com/qgis/QGIS/blob/master/src/analysis/processing/qgsalgorithmimportphotos.cpp#L227

for some c++ examples.

Here's a possible Python example:

https://gist.github.com/nyalldawson/26c091dd48b4f8bf56f172efe22cf75f

Nyall

From rdmailings at duif.net  Wed Sep 12 00:46:59 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 12 Sep 2018 09:46:59 +0200
Subject: [QGIS-Developer] Debian testing - buster bug
In-Reply-To: <868DD51CE944AE14.913F7744-3DEE-4A0B-8CB3-2666E7A721C9@mail.outlook.com>
References: <674544706.3353245.1536643734395.ref@mail.yahoo.com>
 <674544706.3353245.1536643734395@mail.yahoo.com>
 <28fa653d-acbc-b492-b5d7-5fbde7e95dd9@xs4all.nl>
 <5236afa7-c655-2982-de71-7ccf533e4ab5@duif.net>
 <97198493-7661-648e-7646-74c411551077@xs4all.nl>
 <596b0b05-1fdb-79a6-6ed2-815613ec9ad2@duif.net>
 <868DD51CE944AE14.913F7744-3DEE-4A0B-8CB3-2666E7A721C9@mail.outlook.com>
Message-ID: <7ac7b101-3ebb-e933-b1f4-a34bed6ed430@duif.net>

On 09/11/2018 10:31 PM, Tudor barascu wrote:
> hi richard,
> 
> to quote from my first message
> âthe temporary workaround is to install
> libqt5network5_5.11.1+dfsg-6_amd64.deb over the latest
> libqt5network5_5.11.1+dfsg-7_amd64.debâ
> 
> I did this and qgis master works just fine from source.
> Why arenât you doing it?

Hi Tudor,

well, because I'm afraid to mess up my system... I do not find myself a
hardcore Debian admin. But maybe I'll try it.

Ok, I tried...

$ wget
http://http.kali.org/pool/main/q/qtbase-opensource-src/libqt5network5_5.11.1+dfsg-6_amd64.deb
$ sudo dpkg -i libqt5network5_5.11.1+dfsg-6_amd64.deb

works \o/

Thanks Tudor for the push :-)

Richard

From olivier.dalang at gmail.com  Wed Sep 12 00:48:14 2018
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Wed, 12 Sep 2018 19:48:14 +1200
Subject: [QGIS-Developer] Can I automatically style a layer generated
 with a Processing Sink?
In-Reply-To: <CAB28Asj5wxGZ6CZmn75rkqgBX8dKXZt98Kk4GW3qw9rhKvxPAg@mail.gmail.com>
References: <CABPxTTqzD6C8vPTeC+3GNyL0O-5C_T6=aZSGZeMzjcPgjbqmPw@mail.gmail.com>
 <CAB28Asj5wxGZ6CZmn75rkqgBX8dKXZt98Kk4GW3qw9rhKvxPAg@mail.gmail.com>
Message-ID: <CAExk7p1b7MVUQB4oeTis3TbrH0n=XdbSyAEKdU8iJzMNOnYCEw@mail.gmail.com>

There's the possibility to set styles to the output of a saved model by
right-clicking on it (I think it's the GUI David was mentionning).

I'm not sure but this as well as Matteo's methods rely on external .qml
files, which is not ideal for models portability. It would be a great
addition to be able to embed the styles (actually, other files as well) in
the processing models themselves.

Cheers,

Olivier

On Wed, Sep 12, 2018 at 6:22 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Wed, 12 Sep 2018 at 04:00, C Hamilton <adenaculture at gmail.com> wrote:
> >
> > In a processing routine I create an output vector layer.
> >
> >         self.addParameter(
> >             QgsProcessingParameterFeatureSink(
> >                 self.PrmOutputLayer,
> >                 tr('Output layer'))
> >             )
> >
> >         (sink, dest_id) = self.parameterAsSink(parameters,
> >             self.PrmOutputLayer, context, fields,
> QgsWkbTypes.LineString, srcCRS)
> >
> > I would like to style the output layer by enabling a label based off of
> one of the fields. Can I do this in Processing? I guess what I would like
> to get is the actual vector layer that is created. Is that possible?
>
> Actually the best approach is to use a layer post processor. This is
> flexible and totally thread-safe :)
>
> I don't think there's any Python examples in QGIS yet, but see
>
>
> https://github.com/qgis/QGIS/blob/master/src/analysis/processing/qgsalgorithmcategorizeusingstyle.cpp#L104
>
> and
>
>
> https://github.com/qgis/QGIS/blob/master/src/analysis/processing/qgsalgorithmimportphotos.cpp#L227
>
> for some c++ examples.
>
> Here's a possible Python example:
>
> https://gist.github.com/nyalldawson/26c091dd48b4f8bf56f172efe22cf75f
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180912/5e6bc936/attachment.html>

From regis.haubourg at gmail.com  Wed Sep 12 01:36:06 2018
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 12 Sep 2018 01:36:06 -0700 (MST)
Subject: [QGIS-Developer] QGIS 3 does not allow to embed layers from qgz
 project files
In-Reply-To: <1536681347357-0.post@n6.nabble.com>
References: <1536681347357-0.post@n6.nabble.com>
Message-ID: <1536741366972-0.post@n6.nabble.com>

Hi, 
could you file an issue in issues.qgis.org? 
Cheers
RÃ©gis



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From adenaculture at gmail.com  Wed Sep 12 05:03:53 2018
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 12 Sep 2018 08:03:53 -0400
Subject: [QGIS-Developer] Can I automatically style a layer generated
	with a Processing Sink?
In-Reply-To: <CAB28Asj5wxGZ6CZmn75rkqgBX8dKXZt98Kk4GW3qw9rhKvxPAg@mail.gmail.com>
References: <CABPxTTqzD6C8vPTeC+3GNyL0O-5C_T6=aZSGZeMzjcPgjbqmPw@mail.gmail.com>
 <CAB28Asj5wxGZ6CZmn75rkqgBX8dKXZt98Kk4GW3qw9rhKvxPAg@mail.gmail.com>
Message-ID: <CABPxTToVm6rDezCCUR=QgdjrX1XdjJtsqPS_3UpqnNVzbUZGXg@mail.gmail.com>

Nyall,

Thank you so much for your help. That was exactly what I needed and I don't
think I would have figured that one out.

Calvin


Actually the best approach is to use a layer post processor. This is
> flexible and totally thread-safe :)
>
> I don't think there's any Python examples in QGIS yet, but see
>
> https://github.com/qgis/QGIS/blob/master/src/analysis/processing/
> qgsalgorithmcategorizeusingstyle.cpp#L104
>
> and
>
> https://github.com/qgis/QGIS/blob/master/src/analysis/processing/
> qgsalgorithmimportphotos.cpp#L227
>
> for some c++ examples.
>
> Here's a possible Python example:
>
> https://gist.github.com/nyalldawson/26c091dd48b4f8bf56f172efe22cf75f
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180912/577714f8/attachment.html>

From a.neumann at carto.net  Wed Sep 12 07:57:40 2018
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 12 Sep 2018 16:57:40 +0200
Subject: [QGIS-Developer] Discussing default snapping and node editing
	settings
Message-ID: <23695504f4b35d8c443a20501c522c98@carto.net>

Hi, 

I noticed that by default QGIS is set to edit ALL layers and also snaps
to ALL layer by default. I do think that this is a bad default setting,
esp. with larger projects. 

We had issues because users had WFS layers in their project (read only,
as reference) and QGIS tries to index these WFS layers and to get their
vertices in order to snap to them. Then QGIS hangs and freezes and there
are network time outs. Apparently one has to kill QGIS using the task
manager. 

I think the better default is to edit and snap only in the active layer
by default. 

Opinions? 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180912/570438e9/attachment.html>

From regis.haubourg at gmail.com  Wed Sep 12 09:10:58 2018
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 12 Sep 2018 18:10:58 +0200
Subject: [QGIS-Developer] Discussing default snapping and node editing
	settings
In-Reply-To: <23695504f4b35d8c443a20501c522c98@carto.net>
References: <23695504f4b35d8c443a20501c522c98@carto.net>
Message-ID: <CABgOYCdd4kQ3UBF59KtFsHN3Aar5bhHVyrmUME5dA+OP7a+ZRA@mail.gmail.com>

Hi,
+1 !
However, I see lots of customers switching to the "Snap all layer"
settings, "because it is simpler". And then they face very slow snapping
index creation issues.
In the QWAT project, we have been thinking of exposing the indexing
strategies in the UI of the advanced snapping.

see here:
https://qgis.org/api/classQgsSnappingUtils.html#a2ea7577667b94657e14f63ba7dd0bf07
----------------------------
IndexAlwaysFull

For all layers build index of full extent. Uses more memory, but queries
are faster.
IndexNeverFull

For all layers only create temporary indexes of small extent. Low memory
usage, slower queries.
IndexHybrid

For "big" layers using IndexNeverFull, for the rest IndexAlwaysFull.
Compromise between speed and memory usage.
IndexExtent

For all layer build index of extent given in map settings.
--------------



And for WFS and any other cached provider, we may probably add some
exceptions to the global strategy to avoid fetching the remote datasource
by default. Using the local cache is better. However, when doing WFS
editing, this start to look like a can of worms.


Le mer. 12 sept. 2018 Ã  16:58, Andreas Neumann <a.neumann at carto.net> a
Ã©crit :

> Hi,
>
> I noticed that by default QGIS is set to edit ALL layers and also snaps to
> ALL layer by default. I do think that this is a bad default setting, esp.
> with larger projects.
>
> We had issues because users had WFS layers in their project (read only, as
> reference) and QGIS tries to index these WFS layers and to get their
> vertices in order to snap to them. Then QGIS hangs and freezes and there
> are network time outs. Apparently one has to kill QGIS using the task
> manager.
>
> I think the better default is to edit and snap only in the active layer by
> default.
>
> Opinions?
>
> Andreas
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180912/e2ca2b7a/attachment-0001.html>

From denis.rouzaud at gmail.com  Wed Sep 12 09:53:46 2018
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Wed, 12 Sep 2018 12:53:46 -0400
Subject: [QGIS-Developer] Discussing default snapping and node editing
	settings
In-Reply-To: <CABgOYCdd4kQ3UBF59KtFsHN3Aar5bhHVyrmUME5dA+OP7a+ZRA@mail.gmail.com>
References: <23695504f4b35d8c443a20501c522c98@carto.net>
 <CABgOYCdd4kQ3UBF59KtFsHN3Aar5bhHVyrmUME5dA+OP7a+ZRA@mail.gmail.com>
Message-ID: <CAMtsY+Zjtr=caOM_GTCqdGC304+mb37-0a1MjrjVx=82z6E=HA@mail.gmail.com>

Hi all,

Another idea would be to add a new mode 'All layers but the remote ones'.

Anyway, I agree that default mode should be 'current layer'.
Actually, we just miss a new option in main settings to define the default
mode (there is already the default type).

Denis

Le mer. 12 sept. 2018 Ã  12:11, RÃ©gis Haubourg <regis.haubourg at gmail.com> a
Ã©crit :

> Hi,
> +1 !
> However, I see lots of customers switching to the "Snap all layer"
> settings, "because it is simpler". And then they face very slow snapping
> index creation issues.
> In the QWAT project, we have been thinking of exposing the indexing
> strategies in the UI of the advanced snapping.
>
> see here:
> https://qgis.org/api/classQgsSnappingUtils.html#a2ea7577667b94657e14f63ba7dd0bf07
> ----------------------------
> IndexAlwaysFull
>
> For all layers build index of full extent. Uses more memory, but queries
> are faster.
> IndexNeverFull
>
> For all layers only create temporary indexes of small extent. Low memory
> usage, slower queries.
> IndexHybrid
>
> For "big" layers using IndexNeverFull, for the rest IndexAlwaysFull.
> Compromise between speed and memory usage.
> IndexExtent
>
> For all layer build index of extent given in map settings.
> --------------
>
>
>
> And for WFS and any other cached provider, we may probably add some
> exceptions to the global strategy to avoid fetching the remote datasource
> by default. Using the local cache is better. However, when doing WFS
> editing, this start to look like a can of worms.
>
>
> Le mer. 12 sept. 2018 Ã  16:58, Andreas Neumann <a.neumann at carto.net> a
> Ã©crit :
>
>> Hi,
>>
>> I noticed that by default QGIS is set to edit ALL layers and also snaps
>> to ALL layer by default. I do think that this is a bad default setting,
>> esp. with larger projects.
>>
>> We had issues because users had WFS layers in their project (read only,
>> as reference) and QGIS tries to index these WFS layers and to get their
>> vertices in order to snap to them. Then QGIS hangs and freezes and there
>> are network time outs. Apparently one has to kill QGIS using the task
>> manager.
>>
>> I think the better default is to edit and snap only in the active layer
>> by default.
>>
>> Opinions?
>>
>> Andreas
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 

Denis Rouzaud
denis at opengis.ch  <denis at opengis.ch>
+41 76 370 21 22
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180912/4fafd8b5/attachment.html>

From anvpires at gmail.com  Wed Sep 12 10:13:23 2018
From: anvpires at gmail.com (Aurelio Pires)
Date: Wed, 12 Sep 2018 18:13:23 +0100
Subject: [QGIS-Developer] Discussing default snapping and node editing
 settings
In-Reply-To: <23695504f4b35d8c443a20501c522c98@carto.net>
References: <23695504f4b35d8c443a20501c522c98@carto.net>
Message-ID: <effc28e7-4730-cbcd-b93b-d969878a0751@gmail.com>

Hi,

Editing the active layer is appropriate, but you may need to snap to 
another layer even if it is for reference.
The best would be for the user to be able to tell which layers to use as 
a snap.

APires

On 2018-09-12 15:57, Andreas Neumann wrote:
>
> Hi,
>
> I noticed that by default QGIS is set to edit ALL layers and also 
> snaps to ALL layer by default. I do think that this is a bad default 
> setting, esp. with larger projects.
>
> We had issues because users had WFS layers in their project (read 
> only, as reference) and QGIS tries to index these WFS layers and to 
> get their vertices in order to snap to them. Then QGIS hangs and 
> freezes and there are network time outs. Apparently one has to kill 
> QGIS using the task manager.
>
> I think the better default is to edit and snap only in the active 
> layer by default.
>
> Opinions?
>
> Andreas
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180912/1504ab88/attachment.html>

From denis.rouzaud at gmail.com  Wed Sep 12 10:25:46 2018
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Wed, 12 Sep 2018 13:25:46 -0400
Subject: [QGIS-Developer] Discussing default snapping and node editing
	settings
In-Reply-To: <effc28e7-4730-cbcd-b93b-d969878a0751@gmail.com>
References: <23695504f4b35d8c443a20501c522c98@carto.net>
 <effc28e7-4730-cbcd-b93b-d969878a0751@gmail.com>
Message-ID: <CAMtsY+Z-LX6uS4M-z6y34c=3B46vGNLR+q00aiv0UyAXZab9Nw@mail.gmail.com>

Hi Aurelio,

That's what the advanced digitizing mode is made for, you can define per
layer settings.

Denis

Le mer. 12 sept. 2018 Ã  13:13, Aurelio Pires <anvpires at gmail.com> a Ã©crit :

> Hi,
>
> Editing the active layer is appropriate, but you may need to snap to
> another layer even if it is for reference.
> The best would be for the user to be able to tell which layers to use as a
> snap.
>
> APires
>
>
> On 2018-09-12 15:57, Andreas Neumann wrote:
>
> Hi,
>
> I noticed that by default QGIS is set to edit ALL layers and also snaps to
> ALL layer by default. I do think that this is a bad default setting, esp.
> with larger projects.
>
> We had issues because users had WFS layers in their project (read only, as
> reference) and QGIS tries to index these WFS layers and to get their
> vertices in order to snap to them. Then QGIS hangs and freezes and there
> are network time outs. Apparently one has to kill QGIS using the task
> manager.
>
> I think the better default is to edit and snap only in the active layer by
> default.
>
> Opinions?
>
> Andreas
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 

Denis Rouzaud
denis at opengis.ch  <denis at opengis.ch>
+41 76 370 21 22
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180912/ecdf65ed/attachment.html>

From carlo.bertelli at gmail.com  Wed Sep 12 13:39:56 2018
From: carlo.bertelli at gmail.com (Carlo A. Bertelli (Charta s.r.l.))
Date: Wed, 12 Sep 2018 22:39:56 +0200
Subject: [QGIS-Developer] Discussing default snapping and node editing
	settings
In-Reply-To: <CAMtsY+Z-LX6uS4M-z6y34c=3B46vGNLR+q00aiv0UyAXZab9Nw@mail.gmail.com>
References: <23695504f4b35d8c443a20501c522c98@carto.net>
 <effc28e7-4730-cbcd-b93b-d969878a0751@gmail.com>
 <CAMtsY+Z-LX6uS4M-z6y34c=3B46vGNLR+q00aiv0UyAXZab9Nw@mail.gmail.com>
Message-ID: <CALc8-VJPz6QuBQcmVbTBzCg_S=Ci-Gx7o=z+Fq+G+CjLVsezeA@mail.gmail.com>

If the most frequent case is snapping to the same or to one or two other
layers, is not a good idea to ask the user to resort to advanced settings.
The proposed idea to put the choice of  layers in the basic snapping
options seems a reasonable solution IMHO.
About WFS - but this is true for remote geodatabases with slow connections
- indexing should happen on the current canvas with a clear limit on zoom
level: snapping to at little scale is dangerous, you will never understand
if you snapped to the right now or to something that is hidden behind a
simplification artefact.
A possible solution is viewing an enlarged area about three or four times
the confidence circle and indexing inside it in real time.
c

Il mer 12 set 2018, 19:26 Denis Rouzaud <denis.rouzaud at gmail.com> ha
scritto:

> Hi Aurelio,
>
> That's what the advanced digitizing mode is made for, you can define per
> layer settings.
>
> Denis
>
> Le mer. 12 sept. 2018 Ã  13:13, Aurelio Pires <anvpires at gmail.com> a
> Ã©crit :
>
>> Hi,
>>
>> Editing the active layer is appropriate, but you may need to snap to
>> another layer even if it is for reference.
>> The best would be for the user to be able to tell which layers to use as
>> a snap.
>>
>> APires
>>
>>
>> On 2018-09-12 15:57, Andreas Neumann wrote:
>>
>> Hi,
>>
>> I noticed that by default QGIS is set to edit ALL layers and also snaps
>> to ALL layer by default. I do think that this is a bad default setting,
>> esp. with larger projects.
>>
>> We had issues because users had WFS layers in their project (read only,
>> as reference) and QGIS tries to index these WFS layers and to get their
>> vertices in order to snap to them. Then QGIS hangs and freezes and there
>> are network time outs. Apparently one has to kill QGIS using the task
>> manager.
>>
>> I think the better default is to edit and snap only in the active layer
>> by default.
>>
>> Opinions?
>>
>> Andreas
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
>
> Denis Rouzaud
> denis at opengis.ch  <denis at opengis.ch>
> +41 76 370 21 22
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180912/2cdd7861/attachment.html>

From nyall.dawson at gmail.com  Wed Sep 12 16:11:40 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 13 Sep 2018 09:11:40 +1000
Subject: [QGIS-Developer] Discussing default snapping and node editing
	settings
In-Reply-To: <CAMtsY+Zjtr=caOM_GTCqdGC304+mb37-0a1MjrjVx=82z6E=HA@mail.gmail.com>
References: <23695504f4b35d8c443a20501c522c98@carto.net>
 <CABgOYCdd4kQ3UBF59KtFsHN3Aar5bhHVyrmUME5dA+OP7a+ZRA@mail.gmail.com>
 <CAMtsY+Zjtr=caOM_GTCqdGC304+mb37-0a1MjrjVx=82z6E=HA@mail.gmail.com>
Message-ID: <CAB28AsgHq0RE4q9jB0hOQb+4d5N3eZdzDQSyAGUh8KMn0O5U7A@mail.gmail.com>

On Thu, 13 Sep 2018 at 02:54, Denis Rouzaud <denis.rouzaud at gmail.com> wrote:
>
> Hi all,
>
> Another idea would be to add a new mode 'All layers but the remote ones'.

This would be my preference. I'd be concerned about exposing all the
indexing strategies in fear of much added ui complexity.

> Anyway, I agree that default mode should be 'current layer'.

Also +1

Nyall

> Actually, we just miss a new option in main settings to define the default mode (there is already the default type).
>
> Denis
>
> Le mer. 12 sept. 2018 Ã  12:11, RÃ©gis Haubourg <regis.haubourg at gmail.com> a Ã©crit :
>>
>> Hi,
>> +1 !
>> However, I see lots of customers switching to the "Snap all layer" settings, "because it is simpler". And then they face very slow snapping index creation issues.
>> In the QWAT project, we have been thinking of exposing the indexing strategies in the UI of the advanced snapping.
>>
>> see here: https://qgis.org/api/classQgsSnappingUtils.html#a2ea7577667b94657e14f63ba7dd0bf07
>> ----------------------------
>> IndexAlwaysFull
>>
>> For all layers build index of full extent. Uses more memory, but queries are faster.
>>
>> IndexNeverFull
>>
>> For all layers only create temporary indexes of small extent. Low memory usage, slower queries.
>>
>> IndexHybrid
>>
>> For "big" layers using IndexNeverFull, for the rest IndexAlwaysFull. Compromise between speed and memory usage.
>>
>> IndexExtent
>>
>> For all layer build index of extent given in map settings.
>>
>> --------------
>>
>>
>>
>> And for WFS and any other cached provider, we may probably add some exceptions to the global strategy to avoid fetching the remote datasource by default. Using the local cache is better. However, when doing WFS editing, this start to look like a can of worms.
>>
>>
>> Le mer. 12 sept. 2018 Ã  16:58, Andreas Neumann <a.neumann at carto.net> a Ã©crit :
>>>
>>> Hi,
>>>
>>> I noticed that by default QGIS is set to edit ALL layers and also snaps to ALL layer by default. I do think that this is a bad default setting, esp. with larger projects.
>>>
>>> We had issues because users had WFS layers in their project (read only, as reference) and QGIS tries to index these WFS layers and to get their vertices in order to snap to them. Then QGIS hangs and freezes and there are network time outs. Apparently one has to kill QGIS using the task manager.
>>>
>>> I think the better default is to edit and snap only in the active layer by default.
>>>
>>> Opinions?
>>>
>>> Andreas
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
>
> Denis Rouzaud
> denis at opengis.ch
> +41 76 370 21 22
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Wed Sep 12 16:12:07 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 13 Sep 2018 09:12:07 +1000
Subject: [QGIS-Developer] QgsAbstractProcessingParameterWidgetWrapper
 problems in Processing
In-Reply-To: <4362b54d-570d-e070-0ada-13afee864564@faunalia.eu>
References: <c2334549-d62e-0445-6cad-c2335768f030@faunalia.eu>
 <CAECJsSqgKjewGKA42hWoNHsZjODr3J6VirynU53tJYe2BvJW+w@mail.gmail.com>
 <4362b54d-570d-e070-0ada-13afee864564@faunalia.eu>
Message-ID: <CAB28AsjiXHsNb4c2=1RhmYgBJAxLKwqPr8o99rB_Y0xSZTW8yw@mail.gmail.com>

On Wed, 12 Sep 2018 at 15:23, Matteo Ghetta <matteo.ghetta at faunalia.eu> wrote:
>
> Hi Harrissou,
>
>
> > See https://issues.qgis.org/issues/19813. How recent is your build?
>
> 3/4 days ago, sorry for the noise and thanks for the quick reply

Should all be fixed - please report any remaining issues.

Nyall

>
> Cheers
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From olivier.dalang at gmail.com  Wed Sep 12 16:30:17 2018
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Thu, 13 Sep 2018 09:30:17 +1000
Subject: [QGIS-Developer] Export PDFs from the processing modeler
In-Reply-To: <CAExk7p2-yxR0g-PArVzQEH_SVFEtnd=vCAquAnou8ywGMc_CbQ@mail.gmail.com>
References: <CAExk7p3m5C6uYur8455L=19ntBOPC5mk_ABgDrg2TiZf157_NQ@mail.gmail.com>
 <CAB28AsheDkz2uHwsuMsrgSC=yT4Z5na38X5D=mvHsimxqWgiHw@mail.gmail.com>
 <CAExk7p2-yxR0g-PArVzQEH_SVFEtnd=vCAquAnou8ywGMc_CbQ@mail.gmail.com>
Message-ID: <CAExk7p1bqxweis5CX83W8BRXuN2+Xw5G=5AFccDZ0CVZQVWB3w@mail.gmail.com>

Hi,

I've setup together a quick prototype :
https://github.com/olivierdalang/processingpdf

It's a plugin that adds an "Export as PDF" algorithm.

You can have a look at the readme which provides a little bit more info.

There's a sample project including a processing model that uses the Export
to PDF algorithm to showcase what's possible (requires QGIS 3.3 + PR #7864)


So far, I sticked to my first intuition which was to use a project as the
starting point (rather than just a layout). The algorithm just allows to
"override" the datasource from layers in that project. The rationale is
that the project may contain relatively complex logic (atlas configuration,
table joins, etc...), and that this way, everything would (hopefully)
continue to work if it worked in the initial project.

If taking a layout as a starting point, we'd almost have to recreate
projects in the processing model, which would quickly be limiting or
over-complex. With "lock layers" and "lock styles", we could at least use
some predefined layers, but then it's much less practical to work with and
still isn't as flexible as using a whole project.


There's a few bugs in QGIS master that are a bit annoying (esp.
https://issues.qgis.org/issues/19836 that prevents the sample model to work
in batch mode), I'll try to see if I can figure out what's happening but
C++ isn't my cup of tea...

But besides this, no major technical limitation I think ! I've written down
a few ideas for next steps in the readme (short&longer term).

Let me know what you think !

Olivier




Le lun. 10 sept. 2018 Ã  11:43, Olivier Dalang <olivier.dalang at gmail.com> a
Ã©crit :

> Thanks Nyall for you very interesting ideas.
>
> Initially, I thought of using layouts from QGIS projects rather than
> templates, as it makes it quite simple. You just create a normal QGIS
> project, setup styles, layout, enable or not atlas. The processing alg
> would just allows you to swap the datasource of one (or several) layers. It
> would make it very straightforward when using processing models embedded in
> the project file, and still relatively simple when using an external QGIS
> project.
>
> But looking at it again, it seems like it would be possible to achieve
> exactly the same thing with .qpt with "lock layers" and "lock styles" is
> ticked, as styles, layers and atlas settings are all saved in the .qpt.
>
> Remains the questions of the UI on how one would match input layers to
> existing layers in the qpt...
>
> About the utility algorithms, am I right understanding there are not
> directly linked to the PDF exporting algorithm (but just general helpers) ?
>
> The way forward I see is me trying to do a prototype as a python plugin
> (of course if you can help by reviewing, that would be awesome), and once
> stabilized, we can see how to move this to core (I personally am more at
> ease with python, but could probably try to move it to C++ if we think it's
> worth it and if you can mentor a little bit). That also allows to move
> forward without being too stressed by release dates / feature freezes (as
> there would be the python plugin).
>
> So it would be nice if you could share the python code you were talking
> about.
>
> Cheers,
>
> Olivier
>
>
>
>
>
>
> Le ven. 7 sept. 2018 Ã  11:27, Nyall Dawson <nyall.dawson at gmail.com> a
> Ã©crit :
>
>> On Thu, 6 Sep 2018 at 14:16, Olivier Dalang <olivier.dalang at gmail.com>
>> wrote:
>> >
>> > Dear List,
>> >
>> > (I took the liberty to CC in some of you that I thought may be
>> interested by this)
>>
>> Count me in too -- I'm very interested here, given my history with
>> both Print Layout and Processing work!
>>
>> > I'm dreaming of using the QGIS graphical modeler to output PDFs using
>> print composers. This would allow to build very interesting report
>> generators using our favorite tool. As far as I understand, currently, it
>> is not possible.
>> >
>> > I'd be interested in working to implement it, to start with as a plugin
>> (prototype), and once this works see if we can integrate into core.
>> >
>> > What I thought of so far is to be able to specify as inputs :
>> > - a QGIS project [file] (using the current project if empty - esp.
>> useful in conjunction with the great new embedded models feature)
>> > - a composer name [string] (use the first one if empty)
>>
>> I've got (Python) code which allows Print Layout parameter choices
>> (exposed as a combo box showing layouts within the current project),
>> and a layout "map item" parameter (links to the print layout
>> parameter, and shows a nice combo box of map items in the selected
>> layout). I can clean this up and share, but honestly my preference
>> would be to get this in to master as c++ code.
>>
>> I think ideally the "print layout" parameter would expose both layouts
>> in the current project + a "..." file selector allowing choice of a
>> Print Layout template file (.qpt) (this should be relatively
>> straightforward -- basically a new temporary layout would be created
>> using the selected qpt). Possibly we could/should have an option in
>> that drop down to allow selection of a layout from a different project
>> file too, but this would add considerable complexity, and I'm unsure
>> if there's a concrete use case for this which couldn't be handled by
>> qpt template files alone.
>>
>> > - N layers [layer] (I don't think we can support variable inputs count,
>> so could be 5)
>> > - N layer ids [string] (id of the layer in the project to be replaced
>> by corresponding input)
>>
>> There's already multi layer parameters available for algorithms (which
>> also support layer order), so these could be reused here.
>>
>> > Do you have some ideas about implementation ?
>>
>> I'd see a number of ways we could expose print layouts/atlas to
>> Processing. Some potential algorithms could be:
>>
>> Exporting algorithms
>> ---------------------------
>> - Export layout. Just does a direct export of the selected layout to a
>> specified file. Nice and easy! [1]
>> - Export atlas. As above, but for a pre-existing atlas and selected
>> folder/file destination.
>> - Something like "export layout as atlas", where users select and
>> existing layout/qpt, map item, and "coverage layer", and the algorithm
>> iterates over the features in that layer just like an atlas, but using
>> a map layer generated elsewhere in the model as the coverage layer.
>>
>> Utility algorithms
>> ----------------------
>> - Create layer from layout map item extent. Creates a new polygon
>> layer with a polygon feature of the are currently visible within a
>> selected layout map item. Handy for quickly creating a polygon layer
>> with the exact coverage of a map item for styling or atlas creation
>> purposes. (I've implemented this one already as a PyQGIS alg)
>> - Create atlas feature template: After selecting a layout map item and
>> specifying a desired "scale" and "origin point", the algorithm creates
>> a new polygon layer with a single feature of the required size which
>> makes the map item match the given scale [2]. The use case here is to
>> create the feature, then "copy and move" it multiple times over the
>> area of interest for an atlas.
>> - Some equivalent of the ESRI "Create strip map index"  tool/QGIS
>> PolyStrip plugin. Select a map item, desired scale, and line feature
>> layer and the algorithm creates rotated template features along the
>> lines to allow an atlas following the line. Options for overlap
>> margins, max map rotation, etc.
>>
>> Layout creation algorithms
>> -----------------------------------
>>
>> We could also have algorithms for assisting with editing/creating
>> layouts themselves, e.g. algorithms which created grids of guides,
>> grided layouts, etc. I'd LOVE LOVE LOVE a layout "spell check" tool!
>>
>> Anyway, count me in here. I'm interested in helping in whatever way
>> desired - I can either mentor someone else to code this, or would be
>> interested in doing it directly if there's a sponsor available.
>> Alternatively we could write up all the desired specs and run a crowd
>> funding campaign to raise funds!
>>
>> Nyall
>>
>> [1] Would work super-well with a potential "QGIS variable" parameter,
>> which displays as the QGIS variable editor and which would allow
>> tweaking of expression variables to inflence the map render
>> [2] I'd also like to see a proper parameter widget for "scale"
>> parameters, which uses the nice QGIS scale widget instead of just
>> direct number entry.
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/718f9ddc/attachment-0001.html>

From delazj at gmail.com  Wed Sep 12 22:40:08 2018
From: delazj at gmail.com (DelazJ)
Date: Thu, 13 Sep 2018 07:40:08 +0200
Subject: [QGIS-Developer] Programmatically iterate over features with
	Processing in QGIS 3
In-Reply-To: <CAECJsSpr-pM7TYdJGr-viNmWwZxqScadz6+g6wMhb0C=Q_AaDw@mail.gmail.com>
References: <CAECJsSpr-pM7TYdJGr-viNmWwZxqScadz6+g6wMhb0C=Q_AaDw@mail.gmail.com>
Message-ID: <CAECJsSrC0uSPDPhVAbp+ZA9Ueqmr9_0ajh41-q4U2wBwMst8=w@mail.gmail.com>

Hi,
CCing to qgis-dev as nobody in community seems... inspired by the question
and I'd like to close that old PR and rebase other changes.

Thanks for any hint.

Harrissou

Le mar. 11 sept. 2018 Ã  18:12, DelazJ <delazj at gmail.com> a Ã©crit :

> Hi all,
>
> QGIS documentation states [0] that Processing can be used to iterate over
> features with the following code:
>
> import processingfeatures = processing.features(layer)for feature in features:
>     # do whatever you need with the feature
>
> This code no longer works in QGIS3 and needs an update [1] I fail to find.
> So anyone to suggest the right replacement, please?
>
>
> [0] https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/vector.html#iterating-over-selected-features
> [1] https://github.com/qgis/QGIS-Documentation/pull/2871
>
> Thanks,
>
> Harrissou
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/f48bf767/attachment.html>

From peter.petrik at lutraconsulting.co.uk  Thu Sep 13 01:05:16 2018
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Thu, 13 Sep 2018 10:05:16 +0200
Subject: [QGIS-Developer] MAC QGIS 3.x build
In-Reply-To: <8CE31525-E422-491F-99BD-6874436BF496@3liz.com>
References: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
 <CAMtsY+ZituVqbTww4ZG1p=MpkwasUt8V4A=sPzop_emTTEjPNA@mail.gmail.com>
 <4D561007-185A-4358-BEB2-1804F3BB6820@3liz.com>
 <CAB28AsgvAV3VtAJqU_Dp0HdGYjwm8mU-aeh3=ZCEw-s4TMtjvg@mail.gmail.com>
 <2DCD84BF-D6B7-4F39-89F9-6930C116304D@kyngchaos.com>
 <8CE31525-E422-491F-99BD-6874436BF496@3liz.com>
Message-ID: <CA+T_MsLd2gKOaMcuzf2P3Gv1moigNyD11F0CGou8LkenoAjbTw@mail.gmail.com>

Hi,

thank you for your suggestions and pointing me the to right places in
documentations.  After some struggle and frustration, I managed to setup my
MacOS environment to be able to do some productive work on QGIS. I ended up
with homebrew approach and especially
qgis/homebrew-qgisdev/development/README.md was helpful. The QGIS build
with qt 5.11.1 looks usable too.

Unfortunately I had some issues with tap qgis/homebrew-qgisdev. It is not
possible to even tap it from master and qgis3 formulae is not working. The
QGIS3 formulae in OSGeo4mac homebrew repository is updated and working. I
am wondering if qgis/homebrew-qgisdev is actively maintained and used?
Also, what is the benefit to maintain this formula over osgeo4mac/qgis3
formulae (they are very similar)?

Prepared https://github.com/qgis/homebrew-qgisdev/pull/72 with changes I
made to be able to build QGIS3 (I used the scripts, development/README.md
and followed the QT Creator path in the document). We should update
qgis/QGIS/INSTALL for OSX (that was the first doc I checked). I am happy to
help with docs and homebrew-qgisdev, but first I need to clarify the status
of qgis/homebrew-qgisdev.

Thanks,
Peter

On Tue, Sep 4, 2018 at 3:40 PM David Marteau <dmarteau at 3liz.com> wrote:

>
>
> Le 4 sept. 2018 Ã  15:12, William Kyngesburye <woklist at kyngchaos.com> a
> Ã©crit :
>
>
> On Sep 4, 2018, at 4:24 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>
> On Tue, 4 Sep 2018 at 19:19, David Marteau <dmarteau at 3liz.com> wrote:
>
>
> Hi Peter,
>
> Warning, if you are using macport: qt5.11 is installed by default and you
> may (or may not)  experience some display problems, instead you may choose
> to stick to qt5.9 by installing
>
> the 'qt59' port
>
>
> Is that the infamous "small canvas" issue?
>
> I don't know about that, I use Qt 5.9 in my official build, and it has the
> small canvas problem.
>
>
> It is more about the "slowness" problem on Mac:
> https://trac.macports.org/ticket/56915  ,
> https://issues.qgis.org/issues/19546
>
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> "We are at war with them. Neither in hatred nor revenge and with no
> particular pleasure I shall kill every ___ I can until the war is over.
> That is my duty."
>
> "Don't you even hate 'em?"
>
> "What good would it do if I did? If all the many millions of people of the
> allied nations devoted an entire year exclusively to hating the ____ it
> wouldn't kill one ___ nor shorten the war one day."
>
> <Ha, ha> "And it might give 'em all stomach ulcers."
>
> - Tarzan, on war
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/8cad2098/attachment.html>

From idan at miara.com  Thu Sep 13 03:47:25 2018
From: idan at miara.com (Idan Miara)
Date: Thu, 13 Sep 2018 13:47:25 +0300
Subject: [QGIS-Developer] Ribbon-like UI for QGIS
Message-ID: <CAEDrt38x4GwpgKBMj6HJC97RJF1mBVwsokwoQ8m2vUxD5QkUig@mail.gmail.com>

Hi,

How complicated would it be to implement (or sponsor) a Ribbon-like UI to
QGIS?
(i.e. MS-office 2007+)
Do you think people would like that kind of UI for QGIS?

Regards,
Idan.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/89b2c623/attachment.html>

From tim at kartoza.com  Thu Sep 13 04:03:36 2018
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 13 Sep 2018 13:03:36 +0200
Subject: [QGIS-Developer] Ribbon-like UI for QGIS
In-Reply-To: <CAEDrt38x4GwpgKBMj6HJC97RJF1mBVwsokwoQ8m2vUxD5QkUig@mail.gmail.com>
References: <CAEDrt38x4GwpgKBMj6HJC97RJF1mBVwsokwoQ8m2vUxD5QkUig@mail.gmail.com>
Message-ID: <64076C15-B04D-4CE6-A663-F911E40BED32@kartoza.com>

Hi Idan

Sourcepole already did a very nice ribbon implementation for QGIS for their fork of QGIS for the Swiss military. It was on GitHub somewhere

https://github.com/sourcepole?utf8=â&q=qgis&type=&language= <https://github.com/sourcepole?utf8=%E2%9C%93&q=qgis&type=&language=>

But I canât see where in their repos it is any more. There are no active plans to port this work to the official QGIS builds though.


Regards

Tim

> On 13 Sep 2018, at 12:47, Idan Miara <idan at miara.com> wrote:
> 
> Hi,
> 
> How complicated would it be to implement (or sponsor) a Ribbon-like UI to QGIS?
> (i.e. MS-office 2007+)
> Do you think people would like that kind of UI for QGIS?
> 
> Regards,
> Idan.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

â








Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/96ac3487/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/96ac3487/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: Message signed with OpenPGP
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/96ac3487/attachment-0001.sig>

From denis.rouzaud at gmail.com  Thu Sep 13 04:28:52 2018
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 13 Sep 2018 07:28:52 -0400
Subject: [QGIS-Developer] MAC QGIS 3.x build
In-Reply-To: <CA+T_MsLd2gKOaMcuzf2P3Gv1moigNyD11F0CGou8LkenoAjbTw@mail.gmail.com>
References: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
 <CAMtsY+ZituVqbTww4ZG1p=MpkwasUt8V4A=sPzop_emTTEjPNA@mail.gmail.com>
 <4D561007-185A-4358-BEB2-1804F3BB6820@3liz.com>
 <CAB28AsgvAV3VtAJqU_Dp0HdGYjwm8mU-aeh3=ZCEw-s4TMtjvg@mail.gmail.com>
 <2DCD84BF-D6B7-4F39-89F9-6930C116304D@kyngchaos.com>
 <8CE31525-E422-491F-99BD-6874436BF496@3liz.com>
 <CA+T_MsLd2gKOaMcuzf2P3Gv1moigNyD11F0CGou8LkenoAjbTw@mail.gmail.com>
Message-ID: <CAMtsY+bc6YS4pxC9MzTcoODmPt+Hi3TfdirvaN5kxVhQArS8Lg@mail.gmail.com>

Hi Peter,

At this point homebrew-qgisdev tap is not maintained anymore.
The effort is concentrated on osgeo4mac tap, you can use --HEAD to install
current master
see
https://github.com/OSGeo/homebrew-osgeo4mac/blob/master/Formula/qgis3.rb#L42

I think the most valuable things in the qgis one are the READMEs.
We should move them to the QGIS repo and we could remove homebrew-qgisdev.

I might maybe spend a bit of time cleaning this during the bugfixing.

Denis

Le jeu. 13 sept. 2018 Ã  04:05, Peter Petrik <
peter.petrik at lutraconsulting.co.uk> a Ã©crit :

> Hi,
>
> thank you for your suggestions and pointing me the to right places in
> documentations.  After some struggle and frustration, I managed to setup my
> MacOS environment to be able to do some productive work on QGIS. I ended up
> with homebrew approach and especially
> qgis/homebrew-qgisdev/development/README.md was helpful. The QGIS build
> with qt 5.11.1 looks usable too.
>
> Unfortunately I had some issues with tap qgis/homebrew-qgisdev. It is not
> possible to even tap it from master and qgis3 formulae is not working. The
> QGIS3 formulae in OSGeo4mac homebrew repository is updated and working. I
> am wondering if qgis/homebrew-qgisdev is actively maintained and used?
> Also, what is the benefit to maintain this formula over osgeo4mac/qgis3
> formulae (they are very similar)?
>
> Prepared https://github.com/qgis/homebrew-qgisdev/pull/72 with changes I
> made to be able to build QGIS3 (I used the scripts, development/README.md
> and followed the QT Creator path in the document). We should update
> qgis/QGIS/INSTALL for OSX (that was the first doc I checked). I am happy to
> help with docs and homebrew-qgisdev, but first I need to clarify the status
> of qgis/homebrew-qgisdev.
>
> Thanks,
> Peter
>
> On Tue, Sep 4, 2018 at 3:40 PM David Marteau <dmarteau at 3liz.com> wrote:
>
>>
>>
>> Le 4 sept. 2018 Ã  15:12, William Kyngesburye <woklist at kyngchaos.com> a
>> Ã©crit :
>>
>>
>> On Sep 4, 2018, at 4:24 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>
>> On Tue, 4 Sep 2018 at 19:19, David Marteau <dmarteau at 3liz.com> wrote:
>>
>>
>> Hi Peter,
>>
>> Warning, if you are using macport: qt5.11 is installed by default and you
>> may (or may not)  experience some display problems, instead you may choose
>> to stick to qt5.9 by installing
>>
>> the 'qt59' port
>>
>>
>> Is that the infamous "small canvas" issue?
>>
>> I don't know about that, I use Qt 5.9 in my official build, and it has
>> the small canvas problem.
>>
>>
>> It is more about the "slowness" problem on Mac:
>> https://trac.macports.org/ticket/56915  ,
>> https://issues.qgis.org/issues/19546
>>
>>
>> -----
>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>> http://www.kyngchaos.com/
>>
>> "We are at war with them. Neither in hatred nor revenge and with no
>> particular pleasure I shall kill every ___ I can until the war is over.
>> That is my duty."
>>
>> "Don't you even hate 'em?"
>>
>> "What good would it do if I did? If all the many millions of people of
>> the allied nations devoted an entire year exclusively to hating the ____ it
>> wouldn't kill one ___ nor shorten the war one day."
>>
>> <Ha, ha> "And it might give 'em all stomach ulcers."
>>
>> - Tarzan, on war
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 

Denis Rouzaud
denis at opengis.ch  <denis at opengis.ch>
+41 76 370 21 22
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/287204fb/attachment.html>

From denis.rouzaud at gmail.com  Thu Sep 13 04:29:36 2018
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 13 Sep 2018 07:29:36 -0400
Subject: [QGIS-Developer] MAC QGIS 3.x build
In-Reply-To: <CAMtsY+bc6YS4pxC9MzTcoODmPt+Hi3TfdirvaN5kxVhQArS8Lg@mail.gmail.com>
References: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
 <CAMtsY+ZituVqbTww4ZG1p=MpkwasUt8V4A=sPzop_emTTEjPNA@mail.gmail.com>
 <4D561007-185A-4358-BEB2-1804F3BB6820@3liz.com>
 <CAB28AsgvAV3VtAJqU_Dp0HdGYjwm8mU-aeh3=ZCEw-s4TMtjvg@mail.gmail.com>
 <2DCD84BF-D6B7-4F39-89F9-6930C116304D@kyngchaos.com>
 <8CE31525-E422-491F-99BD-6874436BF496@3liz.com>
 <CA+T_MsLd2gKOaMcuzf2P3Gv1moigNyD11F0CGou8LkenoAjbTw@mail.gmail.com>
 <CAMtsY+bc6YS4pxC9MzTcoODmPt+Hi3TfdirvaN5kxVhQArS8Lg@mail.gmail.com>
Message-ID: <CAMtsY+Y4q3BvarcSncW9D_5Nrz=OrKMPLUJFbv5We1sunHHf+A@mail.gmail.com>

But feel free to start moving things !!!

Le jeu. 13 sept. 2018 Ã  07:28, Denis Rouzaud <denis.rouzaud at gmail.com> a
Ã©crit :

> Hi Peter,
>
> At this point homebrew-qgisdev tap is not maintained anymore.
> The effort is concentrated on osgeo4mac tap, you can use --HEAD to install
> current master
> see
> https://github.com/OSGeo/homebrew-osgeo4mac/blob/master/Formula/qgis3.rb#L42
>
> I think the most valuable things in the qgis one are the READMEs.
> We should move them to the QGIS repo and we could remove homebrew-qgisdev.
>
> I might maybe spend a bit of time cleaning this during the bugfixing.
>
> Denis
>
> Le jeu. 13 sept. 2018 Ã  04:05, Peter Petrik <
> peter.petrik at lutraconsulting.co.uk> a Ã©crit :
>
>> Hi,
>>
>> thank you for your suggestions and pointing me the to right places in
>> documentations.  After some struggle and frustration, I managed to setup my
>> MacOS environment to be able to do some productive work on QGIS. I ended up
>> with homebrew approach and especially
>> qgis/homebrew-qgisdev/development/README.md was helpful. The QGIS build
>> with qt 5.11.1 looks usable too.
>>
>> Unfortunately I had some issues with tap qgis/homebrew-qgisdev. It is not
>> possible to even tap it from master and qgis3 formulae is not working. The
>> QGIS3 formulae in OSGeo4mac homebrew repository is updated and working. I
>> am wondering if qgis/homebrew-qgisdev is actively maintained and used?
>> Also, what is the benefit to maintain this formula over osgeo4mac/qgis3
>> formulae (they are very similar)?
>>
>> Prepared https://github.com/qgis/homebrew-qgisdev/pull/72 with changes I
>> made to be able to build QGIS3 (I used the scripts, development/README.md
>> and followed the QT Creator path in the document). We should update
>> qgis/QGIS/INSTALL for OSX (that was the first doc I checked). I am happy to
>> help with docs and homebrew-qgisdev, but first I need to clarify the status
>> of qgis/homebrew-qgisdev.
>>
>> Thanks,
>> Peter
>>
>> On Tue, Sep 4, 2018 at 3:40 PM David Marteau <dmarteau at 3liz.com> wrote:
>>
>>>
>>>
>>> Le 4 sept. 2018 Ã  15:12, William Kyngesburye <woklist at kyngchaos.com> a
>>> Ã©crit :
>>>
>>>
>>> On Sep 4, 2018, at 4:24 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>>
>>> On Tue, 4 Sep 2018 at 19:19, David Marteau <dmarteau at 3liz.com> wrote:
>>>
>>>
>>> Hi Peter,
>>>
>>> Warning, if you are using macport: qt5.11 is installed by default and
>>> you may (or may not)  experience some display problems, instead you may
>>> choose to stick to qt5.9 by installing
>>>
>>> the 'qt59' port
>>>
>>>
>>> Is that the infamous "small canvas" issue?
>>>
>>> I don't know about that, I use Qt 5.9 in my official build, and it has
>>> the small canvas problem.
>>>
>>>
>>> It is more about the "slowness" problem on Mac:
>>> https://trac.macports.org/ticket/56915  ,
>>> https://issues.qgis.org/issues/19546
>>>
>>>
>>> -----
>>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>>> http://www.kyngchaos.com/
>>>
>>> "We are at war with them. Neither in hatred nor revenge and with no
>>> particular pleasure I shall kill every ___ I can until the war is over.
>>> That is my duty."
>>>
>>> "Don't you even hate 'em?"
>>>
>>> "What good would it do if I did? If all the many millions of people of
>>> the allied nations devoted an entire year exclusively to hating the ____ it
>>> wouldn't kill one ___ nor shorten the war one day."
>>>
>>> <Ha, ha> "And it might give 'em all stomach ulcers."
>>>
>>> - Tarzan, on war
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
>
> Denis Rouzaud
> denis at opengis.ch  <denis at opengis.ch>
> +41 76 370 21 22
>
>
> --

Denis Rouzaud
denis at opengis.ch  <denis at opengis.ch>
+41 76 370 21 22
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/0fe7713b/attachment-0001.html>

From rdbath.regiodata at gmail.com  Thu Sep 13 04:32:02 2018
From: rdbath.regiodata at gmail.com (Thomas Baumann)
Date: Thu, 13 Sep 2018 13:32:02 +0200
Subject: [QGIS-Developer] Ribbon-like UI for QGIS
In-Reply-To: <64076C15-B04D-4CE6-A663-F911E40BED32@kartoza.com>
References: <CAEDrt38x4GwpgKBMj6HJC97RJF1mBVwsokwoQ8m2vUxD5QkUig@mail.gmail.com>
 <64076C15-B04D-4CE6-A663-F911E40BED32@kartoza.com>
Message-ID: <CAD3koGmSu6jZcUFHhqu1NU_Fep6KOvdgf1P6y7x+nA1gXbGs9g@mail.gmail.com>

Hi,
I think you mean Kadas-Albireo:

https://github.com/sourcepole/kadas-albireo

greetings,
Thomas


Am Do., 13. Sep. 2018 um 13:04 Uhr schrieb Tim Sutton <tim at kartoza.com>:

> Hi Idan
>
> Sourcepole already did a very nice ribbon implementation for QGIS for
> their fork of QGIS for the Swiss military. It was on GitHub somewhere
>
> https://github.com/sourcepole?utf8=â&q=qgis&type=&language=
>
> But I canât see where in their repos it is any more. There are no active
> plans to port this work to the official QGIS builds though.
>
>
> Regards
>
> Tim
>
> On 13 Sep 2018, at 12:47, Idan Miara <idan at miara.com> wrote:
>
> Hi,
>
> How complicated would it be to implement (or sponsor) a Ribbon-like UI to
> QGIS?
> (i.e. MS-office 2007+)
> Do you think people would like that kind of UI for QGIS?
>
> Regards,
> Idan.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> â
>
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Ex Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/73f7fd16/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/73f7fd16/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/73f7fd16/attachment-0003.jpg>

From peter.petrik at lutraconsulting.co.uk  Thu Sep 13 04:34:22 2018
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Thu, 13 Sep 2018 13:34:22 +0200
Subject: [QGIS-Developer] MAC QGIS 3.x build
In-Reply-To: <CAMtsY+Y4q3BvarcSncW9D_5Nrz=OrKMPLUJFbv5We1sunHHf+A@mail.gmail.com>
References: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
 <CAMtsY+ZituVqbTww4ZG1p=MpkwasUt8V4A=sPzop_emTTEjPNA@mail.gmail.com>
 <4D561007-185A-4358-BEB2-1804F3BB6820@3liz.com>
 <CAB28AsgvAV3VtAJqU_Dp0HdGYjwm8mU-aeh3=ZCEw-s4TMtjvg@mail.gmail.com>
 <2DCD84BF-D6B7-4F39-89F9-6930C116304D@kyngchaos.com>
 <8CE31525-E422-491F-99BD-6874436BF496@3liz.com>
 <CA+T_MsLd2gKOaMcuzf2P3Gv1moigNyD11F0CGou8LkenoAjbTw@mail.gmail.com>
 <CAMtsY+bc6YS4pxC9MzTcoODmPt+Hi3TfdirvaN5kxVhQArS8Lg@mail.gmail.com>
 <CAMtsY+Y4q3BvarcSncW9D_5Nrz=OrKMPLUJFbv5We1sunHHf+A@mail.gmail.com>
Message-ID: <CA+T_Ms+JQ32m24KHwGTiyobYauz0fwF8BMub662S0nrfL4OnJg@mail.gmail.com>

sounds good, +1 for moving READMEs to qgis/QGIS and removal/deprecation of
homebrew-qgisdev.

I do not have that much experience yet with development on the platform to
write full docs, but I can help with review/test of the new docs once
ported.

In the meantime, could someone with merge rights in homebrew-qgisdev just
add big note at the beginning that this is not maintained anymore and
osgeo4mac should be used instead?
thanks
P.

On Thu, Sep 13, 2018 at 1:29 PM Denis Rouzaud <denis.rouzaud at gmail.com>
wrote:

> But feel free to start moving things !!!
>
> Le jeu. 13 sept. 2018 Ã  07:28, Denis Rouzaud <denis.rouzaud at gmail.com> a
> Ã©crit :
>
>> Hi Peter,
>>
>> At this point homebrew-qgisdev tap is not maintained anymore.
>> The effort is concentrated on osgeo4mac tap, you can use --HEAD to
>> install current master
>> see
>> https://github.com/OSGeo/homebrew-osgeo4mac/blob/master/Formula/qgis3.rb#L42
>>
>> I think the most valuable things in the qgis one are the READMEs.
>> We should move them to the QGIS repo and we could remove homebrew-qgisdev.
>>
>> I might maybe spend a bit of time cleaning this during the bugfixing.
>>
>> Denis
>>
>> Le jeu. 13 sept. 2018 Ã  04:05, Peter Petrik <
>> peter.petrik at lutraconsulting.co.uk> a Ã©crit :
>>
>>> Hi,
>>>
>>> thank you for your suggestions and pointing me the to right places in
>>> documentations.  After some struggle and frustration, I managed to setup my
>>> MacOS environment to be able to do some productive work on QGIS. I ended up
>>> with homebrew approach and especially
>>> qgis/homebrew-qgisdev/development/README.md was helpful. The QGIS build
>>> with qt 5.11.1 looks usable too.
>>>
>>> Unfortunately I had some issues with tap qgis/homebrew-qgisdev. It is
>>> not possible to even tap it from master and qgis3 formulae is not working.
>>> The QGIS3 formulae in OSGeo4mac homebrew repository is updated and working.
>>> I am wondering if qgis/homebrew-qgisdev is actively maintained and used?
>>> Also, what is the benefit to maintain this formula over osgeo4mac/qgis3
>>> formulae (they are very similar)?
>>>
>>> Prepared https://github.com/qgis/homebrew-qgisdev/pull/72 with changes
>>> I made to be able to build QGIS3 (I used the scripts, development/README.md
>>> and followed the QT Creator path in the document). We should update
>>> qgis/QGIS/INSTALL for OSX (that was the first doc I checked). I am happy to
>>> help with docs and homebrew-qgisdev, but first I need to clarify the status
>>> of qgis/homebrew-qgisdev.
>>>
>>> Thanks,
>>> Peter
>>>
>>> On Tue, Sep 4, 2018 at 3:40 PM David Marteau <dmarteau at 3liz.com> wrote:
>>>
>>>>
>>>>
>>>> Le 4 sept. 2018 Ã  15:12, William Kyngesburye <woklist at kyngchaos.com> a
>>>> Ã©crit :
>>>>
>>>>
>>>> On Sep 4, 2018, at 4:24 AM, Nyall Dawson <nyall.dawson at gmail.com>
>>>> wrote:
>>>>
>>>> On Tue, 4 Sep 2018 at 19:19, David Marteau <dmarteau at 3liz.com> wrote:
>>>>
>>>>
>>>> Hi Peter,
>>>>
>>>> Warning, if you are using macport: qt5.11 is installed by default and
>>>> you may (or may not)  experience some display problems, instead you may
>>>> choose to stick to qt5.9 by installing
>>>>
>>>> the 'qt59' port
>>>>
>>>>
>>>> Is that the infamous "small canvas" issue?
>>>>
>>>> I don't know about that, I use Qt 5.9 in my official build, and it has
>>>> the small canvas problem.
>>>>
>>>>
>>>> It is more about the "slowness" problem on Mac:
>>>> https://trac.macports.org/ticket/56915  ,
>>>> https://issues.qgis.org/issues/19546
>>>>
>>>>
>>>> -----
>>>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>>>> http://www.kyngchaos.com/
>>>>
>>>> "We are at war with them. Neither in hatred nor revenge and with no
>>>> particular pleasure I shall kill every ___ I can until the war is over.
>>>> That is my duty."
>>>>
>>>> "Don't you even hate 'em?"
>>>>
>>>> "What good would it do if I did? If all the many millions of people of
>>>> the allied nations devoted an entire year exclusively to hating the ____ it
>>>> wouldn't kill one ___ nor shorten the war one day."
>>>>
>>>> <Ha, ha> "And it might give 'em all stomach ulcers."
>>>>
>>>> - Tarzan, on war
>>>>
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> --
>>
>> Denis Rouzaud
>> denis at opengis.ch  <denis at opengis.ch>
>> +41 76 370 21 22
>>
>>
>> --
>
> Denis Rouzaud
> denis at opengis.ch  <denis at opengis.ch>
> +41 76 370 21 22
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/7b389a5a/attachment.html>

From idan at miara.com  Thu Sep 13 04:40:59 2018
From: idan at miara.com (Idan Miara)
Date: Thu, 13 Sep 2018 14:40:59 +0300
Subject: [QGIS-Developer] Fwd:  Ribbon-like UI for QGIS
In-Reply-To: <050e5c11-be54-3407-2c3b-cc34266b1ebb@sourcepole.ch>
References: <CAEDrt38x4GwpgKBMj6HJC97RJF1mBVwsokwoQ8m2vUxD5QkUig@mail.gmail.com>
 <64076C15-B04D-4CE6-A663-F911E40BED32@kartoza.com>
 <CAEDrt3-eqp8KYrd+uNG4C0Szy0FqECjWs+4o1gs0H+WwwUYgxw@mail.gmail.com>
 <050e5c11-be54-3407-2c3b-cc34266b1ebb@sourcepole.ch>
Message-ID: <CAEDrt38Eqi81msX4dnu4Xs-jE7TGUUgS8PyrkTzZEEKvwzjX0Q@mail.gmail.com>

Hi,

Thanks you all!

Marco,
I see that kadas-albireo <https://github.com/sourcepole/kadas-albireo> it
is based on QGIS 2.8.
Are there any plans to rebase to QGIS 3 or to send changes upstream to the
official QGIS build ?

Kind regards,
Idan.


On Thu, 13 Sep 2018 at 14:26, Marco Hugentobler <marco at sourcepole.ch> wrote:

> Hi Idan
>
>
> I guess you mean the software Kadas Albireo? It is here on github:
>
> https://github.com/sourcepole/kadas-albireo
>
>
> Regards,
>
> Marco
>
> Am 13.09.2018 um 13:12 schrieb Idan Miara:
>
> Hi,
>
> Would you please advise about the QGIS Ribbon UI fork that Tim mentioned ?
>
> Kind regards,
> Idan.
>
> ---------- Forwarded message ---------
> From: Tim Sutton <tim at kartoza.com>
> Date: Thu, 13 Sep 2018 at 14:03
> Subject: Re: [QGIS-Developer] Ribbon-like UI for QGIS
> To: Idan Miara <idan at miara.com>
> Cc: QGIS Developer <qgis-developer at lists.osgeo.org>
>
>
> Hi Idan
>
> Sourcepole already did a very nice ribbon implementation for QGIS for
> their fork of QGIS for the Swiss military. It was on GitHub somewhere
>
> https://github.com/sourcepole?utf8=â&q=qgis&type=&language=
>
> But I canât see where in their repos it is any more. There are no active
> plans to port this work to the official QGIS builds though.
>
>
> Regards
>
> Tim
>
> On 13 Sep 2018, at 12:47, Idan Miara <idan at miara.com> wrote:
>
> Hi,
>
> How complicated would it be to implement (or sponsor) a Ribbon-like UI to
> QGIS?
> (i.e. MS-office 2007+)
> Do you think people would like that kind of UI for QGIS?
>
> Regards,
> Idan.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> â
>
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Ex Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/5895782b/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/5895782b/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/5895782b/attachment-0003.jpg>

From denis.rouzaud at gmail.com  Thu Sep 13 04:54:16 2018
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 13 Sep 2018 07:54:16 -0400
Subject: [QGIS-Developer] MAC QGIS 3.x build
In-Reply-To: <CA+T_Ms+JQ32m24KHwGTiyobYauz0fwF8BMub662S0nrfL4OnJg@mail.gmail.com>
References: <CA+T_MsKAdto_KbLBPJr5ZSYFnmwk0Q+sOaeQkU6MGk5yZ2yf1g@mail.gmail.com>
 <CAMtsY+ZituVqbTww4ZG1p=MpkwasUt8V4A=sPzop_emTTEjPNA@mail.gmail.com>
 <4D561007-185A-4358-BEB2-1804F3BB6820@3liz.com>
 <CAB28AsgvAV3VtAJqU_Dp0HdGYjwm8mU-aeh3=ZCEw-s4TMtjvg@mail.gmail.com>
 <2DCD84BF-D6B7-4F39-89F9-6930C116304D@kyngchaos.com>
 <8CE31525-E422-491F-99BD-6874436BF496@3liz.com>
 <CA+T_MsLd2gKOaMcuzf2P3Gv1moigNyD11F0CGou8LkenoAjbTw@mail.gmail.com>
 <CAMtsY+bc6YS4pxC9MzTcoODmPt+Hi3TfdirvaN5kxVhQArS8Lg@mail.gmail.com>
 <CAMtsY+Y4q3BvarcSncW9D_5Nrz=OrKMPLUJFbv5We1sunHHf+A@mail.gmail.com>
 <CA+T_Ms+JQ32m24KHwGTiyobYauz0fwF8BMub662S0nrfL4OnJg@mail.gmail.com>
Message-ID: <CAMtsY+aYD7X3BcANKwKnKqY89LsPE=Lw3m-++_m1kSTf3TG2bA@mail.gmail.com>

Tim,

Can you grant one of with admin rights (not only commit rights) on
homebrew-qgisdev ?

Cheers,
Denis

Le jeu. 13 sept. 2018 Ã  07:34, Peter Petrik <
peter.petrik at lutraconsulting.co.uk> a Ã©crit :

> sounds good, +1 for moving READMEs to qgis/QGIS and removal/deprecation of
> homebrew-qgisdev.
>
> I do not have that much experience yet with development on the platform to
> write full docs, but I can help with review/test of the new docs once
> ported.
>
> In the meantime, could someone with merge rights in homebrew-qgisdev just
> add big note at the beginning that this is not maintained anymore and
> osgeo4mac should be used instead?
> thanks
> P.
>
> On Thu, Sep 13, 2018 at 1:29 PM Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
>
>> But feel free to start moving things !!!
>>
>> Le jeu. 13 sept. 2018 Ã  07:28, Denis Rouzaud <denis.rouzaud at gmail.com> a
>> Ã©crit :
>>
>>> Hi Peter,
>>>
>>> At this point homebrew-qgisdev tap is not maintained anymore.
>>> The effort is concentrated on osgeo4mac tap, you can use --HEAD to
>>> install current master
>>> see
>>> https://github.com/OSGeo/homebrew-osgeo4mac/blob/master/Formula/qgis3.rb#L42
>>>
>>> I think the most valuable things in the qgis one are the READMEs.
>>> We should move them to the QGIS repo and we could remove
>>> homebrew-qgisdev.
>>>
>>> I might maybe spend a bit of time cleaning this during the bugfixing.
>>>
>>> Denis
>>>
>>> Le jeu. 13 sept. 2018 Ã  04:05, Peter Petrik <
>>> peter.petrik at lutraconsulting.co.uk> a Ã©crit :
>>>
>>>> Hi,
>>>>
>>>> thank you for your suggestions and pointing me the to right places in
>>>> documentations.  After some struggle and frustration, I managed to setup my
>>>> MacOS environment to be able to do some productive work on QGIS. I ended up
>>>> with homebrew approach and especially
>>>> qgis/homebrew-qgisdev/development/README.md was helpful. The QGIS build
>>>> with qt 5.11.1 looks usable too.
>>>>
>>>> Unfortunately I had some issues with tap qgis/homebrew-qgisdev. It is
>>>> not possible to even tap it from master and qgis3 formulae is not working.
>>>> The QGIS3 formulae in OSGeo4mac homebrew repository is updated and working.
>>>> I am wondering if qgis/homebrew-qgisdev is actively maintained and used?
>>>> Also, what is the benefit to maintain this formula over osgeo4mac/qgis3
>>>> formulae (they are very similar)?
>>>>
>>>> Prepared https://github.com/qgis/homebrew-qgisdev/pull/72 with changes
>>>> I made to be able to build QGIS3 (I used the scripts, development/README.md
>>>> and followed the QT Creator path in the document). We should update
>>>> qgis/QGIS/INSTALL for OSX (that was the first doc I checked). I am happy to
>>>> help with docs and homebrew-qgisdev, but first I need to clarify the status
>>>> of qgis/homebrew-qgisdev.
>>>>
>>>> Thanks,
>>>> Peter
>>>>
>>>> On Tue, Sep 4, 2018 at 3:40 PM David Marteau <dmarteau at 3liz.com> wrote:
>>>>
>>>>>
>>>>>
>>>>> Le 4 sept. 2018 Ã  15:12, William Kyngesburye <woklist at kyngchaos.com>
>>>>> a Ã©crit :
>>>>>
>>>>>
>>>>> On Sep 4, 2018, at 4:24 AM, Nyall Dawson <nyall.dawson at gmail.com>
>>>>> wrote:
>>>>>
>>>>> On Tue, 4 Sep 2018 at 19:19, David Marteau <dmarteau at 3liz.com> wrote:
>>>>>
>>>>>
>>>>> Hi Peter,
>>>>>
>>>>> Warning, if you are using macport: qt5.11 is installed by default and
>>>>> you may (or may not)  experience some display problems, instead you may
>>>>> choose to stick to qt5.9 by installing
>>>>>
>>>>> the 'qt59' port
>>>>>
>>>>>
>>>>> Is that the infamous "small canvas" issue?
>>>>>
>>>>> I don't know about that, I use Qt 5.9 in my official build, and it has
>>>>> the small canvas problem.
>>>>>
>>>>>
>>>>> It is more about the "slowness" problem on Mac:
>>>>> https://trac.macports.org/ticket/56915  ,
>>>>> https://issues.qgis.org/issues/19546
>>>>>
>>>>>
>>>>> -----
>>>>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>>>>> http://www.kyngchaos.com/
>>>>>
>>>>> "We are at war with them. Neither in hatred nor revenge and with no
>>>>> particular pleasure I shall kill every ___ I can until the war is over.
>>>>> That is my duty."
>>>>>
>>>>> "Don't you even hate 'em?"
>>>>>
>>>>> "What good would it do if I did? If all the many millions of people of
>>>>> the allied nations devoted an entire year exclusively to hating the ____ it
>>>>> wouldn't kill one ___ nor shorten the war one day."
>>>>>
>>>>> <Ha, ha> "And it might give 'em all stomach ulcers."
>>>>>
>>>>> - Tarzan, on war
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> QGIS-Developer mailing list
>>>>> QGIS-Developer at lists.osgeo.org
>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>> --
>>>
>>> Denis Rouzaud
>>> denis at opengis.ch  <denis at opengis.ch>
>>> +41 76 370 21 22
>>>
>>>
>>> --
>>
>> Denis Rouzaud
>> denis at opengis.ch  <denis at opengis.ch>
>> +41 76 370 21 22
>>
>>
>> --

Denis Rouzaud
denis at opengis.ch  <denis at opengis.ch>
+41 76 370 21 22
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180913/dfee5305/attachment.html>

From noreply at qgis.org  Thu Sep 13 09:20:26 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 13 Sep 2018 16:20:26 -0000
Subject: [QGIS-Developer] Plugin [87] Profile tool approval notification.
Message-ID: <20180913162026.24724.32349@2c6504964296>


Plugin Profile tool approval by pcav.
The plugin version "[87] Profile tool 4.1.3" is now approved
Link: http://plugins.qgis.org/plugins/profiletool/

From nyall.dawson at gmail.com  Thu Sep 13 16:56:52 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 14 Sep 2018 09:56:52 +1000
Subject: [QGIS-Developer] Fwd: Ribbon-like UI for QGIS
In-Reply-To: <CAEDrt38Eqi81msX4dnu4Xs-jE7TGUUgS8PyrkTzZEEKvwzjX0Q@mail.gmail.com>
References: <CAEDrt38x4GwpgKBMj6HJC97RJF1mBVwsokwoQ8m2vUxD5QkUig@mail.gmail.com>
 <64076C15-B04D-4CE6-A663-F911E40BED32@kartoza.com>
 <CAEDrt3-eqp8KYrd+uNG4C0Szy0FqECjWs+4o1gs0H+WwwUYgxw@mail.gmail.com>
 <050e5c11-be54-3407-2c3b-cc34266b1ebb@sourcepole.ch>
 <CAEDrt38Eqi81msX4dnu4Xs-jE7TGUUgS8PyrkTzZEEKvwzjX0Q@mail.gmail.com>
Message-ID: <CAB28AsgM7rwudDnSzQYfhnKzyhgs_LVUoFGjhHvQD0ZW05sLyw@mail.gmail.com>

On Thu, 13 Sep 2018 at 21:41, Idan Miara <idan at miara.com> wrote:

> I see that kadas-albireo it is based on QGIS 2.8.
> Are there any plans to rebase to QGIS 3 or to send changes upstream to the official QGIS build ?

Unfortunately I don't think that's even possible now -- the
differences between the two codebases is just too extreme, given the
HUGE amount of changes made for QGIS 3.0. I suspect the effort of
re-writing the changes made in the fork would be less than the effort
required to port them now.

Nyall

From nyall.dawson at gmail.com  Thu Sep 13 16:59:17 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 14 Sep 2018 09:59:17 +1000
Subject: [QGIS-Developer] Programmatically iterate over features with
 Processing in QGIS 3
In-Reply-To: <CAECJsSrC0uSPDPhVAbp+ZA9Ueqmr9_0ajh41-q4U2wBwMst8=w@mail.gmail.com>
References: <CAECJsSpr-pM7TYdJGr-viNmWwZxqScadz6+g6wMhb0C=Q_AaDw@mail.gmail.com>
 <CAECJsSrC0uSPDPhVAbp+ZA9Ueqmr9_0ajh41-q4U2wBwMst8=w@mail.gmail.com>
Message-ID: <CAB28Asj=X-hG5WBMykaSROP0T5DPH2vEHbUe41MNwbi9YA3_MA@mail.gmail.com>

On Thu, 13 Sep 2018 at 15:40, DelazJ <delazj at gmail.com> wrote:
>
> Hi,
> CCing to qgis-dev as nobody in community seems... inspired by the question and I'd like to close that old PR and rebase other changes.
>
> Thanks for any hint.
>
> Harrissou
>
> Le mar. 11 sept. 2018 Ã  18:12, DelazJ <delazj at gmail.com> a Ã©crit :
>>
>> Hi all,
>>
>> QGIS documentation states [0] that Processing can be used to iterate over features with the following code:
>>
>> import processing
>> features = processing.features(layer)
>> for feature in features:
>>     # do whatever you need with the feature
>>
>> This code no longer works in QGIS3 and needs an update [1] I fail to find.
>> So anyone to suggest the right replacement, please?

Just iterate directly over the features from the source. The things
which processing.features used to do is taken care of transparently
for you now.

I.e.

    source = self.parameterAsSource(parameters, 'INPUT', context)
    for f in source.getFeatures():
       # do something with f

As much as possible, Processing-specific methods were removed in QGIS
3.0 in favour of the standard PyQGIS calls. This was done to reduce
code duplication, and make the API more consistent (i.e. easier to
move code between Processing algorithms -> standalone scripts/plugins
and vice versa).

Nyall

From noreply at qgis.org  Thu Sep 13 20:07:56 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 14 Sep 2018 03:07:56 -0000
Subject: [QGIS-Developer] Plugin [900] QMetaTiles approval notification.
Message-ID: <20180914030756.24725.79726@2c6504964296>


Plugin QMetaTiles approval by pcav.
The plugin version "[900] QMetaTiles 1.3" is now approved
Link: http://plugins.qgis.org/plugins/QMetaTiles/

From idan at miara.com  Thu Sep 13 22:29:38 2018
From: idan at miara.com (Idan Miara)
Date: Fri, 14 Sep 2018 08:29:38 +0300
Subject: [QGIS-Developer] Fwd: Ribbon-like UI for QGIS
In-Reply-To: <CAB28AsgM7rwudDnSzQYfhnKzyhgs_LVUoFGjhHvQD0ZW05sLyw@mail.gmail.com>
References: <CAEDrt38x4GwpgKBMj6HJC97RJF1mBVwsokwoQ8m2vUxD5QkUig@mail.gmail.com>
 <64076C15-B04D-4CE6-A663-F911E40BED32@kartoza.com>
 <CAEDrt3-eqp8KYrd+uNG4C0Szy0FqECjWs+4o1gs0H+WwwUYgxw@mail.gmail.com>
 <050e5c11-be54-3407-2c3b-cc34266b1ebb@sourcepole.ch>
 <CAEDrt38Eqi81msX4dnu4Xs-jE7TGUUgS8PyrkTzZEEKvwzjX0Q@mail.gmail.com>
 <CAB28AsgM7rwudDnSzQYfhnKzyhgs_LVUoFGjhHvQD0ZW05sLyw@mail.gmail.com>
Message-ID: <CAEDrt38-4kZ3wccid_t+vpCK0JvFcPqeeSEMvFmw0TBRhpWO4w@mail.gmail.com>

Nyall,
Thank you for the input!
Do you think it would be relatively easy to rebase on the latest 2.18 from
2.8?



On Fri, 14 Sep 2018, 02:57 Nyall Dawson, <nyall.dawson at gmail.com> wrote:

> On Thu, 13 Sep 2018 at 21:41, Idan Miara <idan at miara.com> wrote:
>
> > I see that kadas-albireo it is based on QGIS 2.8.
> > Are there any plans to rebase to QGIS 3 or to send changes upstream to
> the official QGIS build ?
>
> Unfortunately I don't think that's even possible now -- the
> differences between the two codebases is just too extreme, given the
> HUGE amount of changes made for QGIS 3.0. I suspect the effort of
> re-writing the changes made in the fork would be less than the effort
> required to port them now.
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180914/1afaf15d/attachment.html>

From nyall.dawson at gmail.com  Thu Sep 13 22:35:43 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 14 Sep 2018 15:35:43 +1000
Subject: [QGIS-Developer] Fwd: Ribbon-like UI for QGIS
In-Reply-To: <CAEDrt38-4kZ3wccid_t+vpCK0JvFcPqeeSEMvFmw0TBRhpWO4w@mail.gmail.com>
References: <CAEDrt38x4GwpgKBMj6HJC97RJF1mBVwsokwoQ8m2vUxD5QkUig@mail.gmail.com>
 <64076C15-B04D-4CE6-A663-F911E40BED32@kartoza.com>
 <CAEDrt3-eqp8KYrd+uNG4C0Szy0FqECjWs+4o1gs0H+WwwUYgxw@mail.gmail.com>
 <050e5c11-be54-3407-2c3b-cc34266b1ebb@sourcepole.ch>
 <CAEDrt38Eqi81msX4dnu4Xs-jE7TGUUgS8PyrkTzZEEKvwzjX0Q@mail.gmail.com>
 <CAB28AsgM7rwudDnSzQYfhnKzyhgs_LVUoFGjhHvQD0ZW05sLyw@mail.gmail.com>
 <CAEDrt38-4kZ3wccid_t+vpCK0JvFcPqeeSEMvFmw0TBRhpWO4w@mail.gmail.com>
Message-ID: <CAB28AshW8FaujG5ZTsdv7JctVUdmjaX1kJYBAbGDa0+jgP05Ug@mail.gmail.com>

On Fri, 14 Sep 2018 at 15:29, Idan Miara <idan at miara.com> wrote:
>
> Nyall,
> Thank you for the input!
> Do you think it would be relatively easy to rebase on the latest 2.18 from 2.8?

No, I don't think that would be an easy task at all! Even between 2.8
-> 2.18 there's been thousands, maybe 100's thousands of lines of code
changed.

You'd probably have more luck cherry-picking individual commits
between the kadas branch and QGIS 2.18.

Nyall


>
>
>
> On Fri, 14 Sep 2018, 02:57 Nyall Dawson, <nyall.dawson at gmail.com> wrote:
>>
>> On Thu, 13 Sep 2018 at 21:41, Idan Miara <idan at miara.com> wrote:
>>
>> > I see that kadas-albireo it is based on QGIS 2.8.
>> > Are there any plans to rebase to QGIS 3 or to send changes upstream to the official QGIS build ?
>>
>> Unfortunately I don't think that's even possible now -- the
>> differences between the two codebases is just too extreme, given the
>> HUGE amount of changes made for QGIS 3.0. I suspect the effort of
>> re-writing the changes made in the fork would be less than the effort
>> required to port them now.
>>
>> Nyall

From noreply at qgis.org  Thu Sep 13 23:40:46 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 14 Sep 2018 06:40:46 -0000
Subject: [QGIS-Developer] Plugin [1539] LCCS3 Basic Coder 3 approval
	notification.
Message-ID: <20180914064046.30002.41046@2c6504964296>


Plugin LCCS3 Basic Coder 3 approval by pcav.
The plugin version "[1539] LCCS3 Basic Coder 3 1.0" is now approved
Link: http://plugins.qgis.org/plugins/LCCS3basicCoder3-v_1_0/

From rdmailings at duif.net  Fri Sep 14 01:50:10 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 14 Sep 2018 10:50:10 +0200
Subject: [QGIS-Developer] Debian testing - buster bug
In-Reply-To: <7ac7b101-3ebb-e933-b1f4-a34bed6ed430@duif.net>
References: <674544706.3353245.1536643734395.ref@mail.yahoo.com>
 <674544706.3353245.1536643734395@mail.yahoo.com>
 <28fa653d-acbc-b492-b5d7-5fbde7e95dd9@xs4all.nl>
 <5236afa7-c655-2982-de71-7ccf533e4ab5@duif.net>
 <97198493-7661-648e-7646-74c411551077@xs4all.nl>
 <596b0b05-1fdb-79a6-6ed2-815613ec9ad2@duif.net>
 <868DD51CE944AE14.913F7744-3DEE-4A0B-8CB3-2666E7A721C9@mail.outlook.com>
 <7ac7b101-3ebb-e933-b1f4-a34bed6ed430@duif.net>
Message-ID: <213a7676-0417-e17e-53f6-a5e7a611797d@duif.net>

On 09/12/2018 09:46 AM, Richard Duivenvoorde wrote:
> On 09/11/2018 10:31 PM, Tudor barascu wrote:
>> hi richard,
>>
>> to quote from my first message
>> âthe temporary workaround is to install
>> libqt5network5_5.11.1+dfsg-6_amd64.deb over the latest
>> libqt5network5_5.11.1+dfsg-7_amd64.debâ
>>
>> I did this and qgis master works just fine from source.
>> Why arenât you doing it?
> 
> Hi Tudor,
> 
> well, because I'm afraid to mess up my system... I do not find myself a
> hardcore Debian admin. But maybe I'll try it.

Hi Debian fans,

Fyi: libqt5network5_5.11.1+dfsg-8_amd64.deb is in testing and working!!

Enjoy QGIS and Debian :-)

Richard

From dave at phased.co.uk  Fri Sep 14 04:35:05 2018
From: dave at phased.co.uk (Dave Barter)
Date: Fri, 14 Sep 2018 12:35:05 +0100
Subject: [QGIS-Developer] Use QGIS API in Qt5
Message-ID: <AA22C0C3-7FF2-4813-BB54-960A30B5DE22@phased.co.uk>

I want to build a very basic desktop map application using the QGIS API. 

My development environment is currently Mac OSX High Sierra and Qt5. 

Iâm struggling to find any developer documentation to get me started and the GitHub repo suggests OSX builds of QGIS need Qt4.

Can my objective be achieved? If so can anyone point me to some docs to get me started 

-- 
Dave Barter

Web: http://www.phased.co.uk
Email:dave at phased.co.uk
Twitter:@Citizenfishy



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180914/8878a7f6/attachment-0001.html>

From dmarteau at 3liz.com  Fri Sep 14 05:04:04 2018
From: dmarteau at 3liz.com (David Marteau)
Date: Fri, 14 Sep 2018 14:04:04 +0200
Subject: [QGIS-Developer] Use QGIS API in Qt5
In-Reply-To: <AA22C0C3-7FF2-4813-BB54-960A30B5DE22@phased.co.uk>
References: <AA22C0C3-7FF2-4813-BB54-960A30B5DE22@phased.co.uk>
Message-ID: <700B367D-C9A1-452D-93DB-896246F5D542@3liz.com>

Hi,

Qgis 3 use Qt5  and Python 3.5+ , if you use Qgis 2 api then you have to use Qt4.

You have the Qgis API  documentation here: https://qgis.org/api/

How do you install qgis ? homebrew, macport, custom build or from https://www.qgis.org/fr/site/forusers/download.html ? the exact version of Qt Qgis depends on may vary with the distribution.


> Le 14 sept. 2018 Ã  13:35, Dave Barter <dave at phased.co.uk> a Ã©crit :
> 
> I want to build a very basic desktop map application using the QGIS API. 
> 
> My development environment is currently Mac OSX High Sierra and Qt5. 
> 
> Iâm struggling to find any developer documentation to get me started and the GitHub repo suggests OSX builds of QGIS need Qt4.
> 
> Can my objective be achieved? If so can anyone point me to some docs to get me started 
> 
> -- 
> Dave Barter
> 
> Web: http://www.phased.co.uk <http://www.phased.co.uk/>
> Email:dave at phased.co.uk <mailto:dave at phased.co.uk>
> Twitter:@Citizenfishy
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180914/28263a3c/attachment.html>

From peter.petrik at lutraconsulting.co.uk  Fri Sep 14 05:09:09 2018
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Fri, 14 Sep 2018 14:09:09 +0200
Subject: [QGIS-Developer] Use QGIS API in Qt5
In-Reply-To: <700B367D-C9A1-452D-93DB-896246F5D542@3liz.com>
References: <AA22C0C3-7FF2-4813-BB54-960A30B5DE22@phased.co.uk>
 <700B367D-C9A1-452D-93DB-896246F5D542@3liz.com>
Message-ID: <CA+T_MsJN6foccXfmnb-dcn=MVpDUJZ86KyiJbY_aM7aAyRNOEA@mail.gmail.com>

Hi,

look at this thread
https://lists.osgeo.org/pipermail/qgis-developer/2018-September/054398.html

I suggest to use https://github.com/OSGeo/homebrew-osgeo4mac

Kind regards,
Peter

On Fri, Sep 14, 2018 at 2:04 PM David Marteau <dmarteau at 3liz.com> wrote:

> Hi,
>
> Qgis 3 use Qt5  and Python 3.5+ , if you use Qgis 2 api then you have to
> use Qt4.
>
> You have the Qgis API  documentation here: https://qgis.org/api/
>
> How do you install qgis ? homebrew, macport, custom build or from
> https://www.qgis.org/fr/site/forusers/download.html ? the exact version
> of Qt Qgis depends on may vary with the distribution.
>
>
> Le 14 sept. 2018 Ã  13:35, Dave Barter <dave at phased.co.uk> a Ã©crit :
>
> I want to build a very basic desktop map application using the QGIS API.
>
> My development environment is currently Mac OSX High Sierra and Qt5.
>
> Iâm struggling to find any developer documentation to get me started and
> the GitHub repo suggests OSX builds of QGIS need Qt4.
>
> Can my objective be achieved? If so can anyone point me to some docs to
> get me started
>
> --
> Dave Barter
>
> Web: http://www.phased.co.uk
> Email:dave at phased.co.uk <dave at phased.co.uk>
> Twitter:@Citizenfishy
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180914/c2d77b72/attachment.html>

From adenaculture at gmail.com  Fri Sep 14 08:25:08 2018
From: adenaculture at gmail.com (C Hamilton)
Date: Fri, 14 Sep 2018 11:25:08 -0400
Subject: [QGIS-Developer] Issues with QGIS 3 rotate tool
Message-ID: <CABPxTTr8Y0wp2av7-MPvX_PjKFSTr1Uhcy+u-0sOGkcgXsHH8Q@mail.gmail.com>

If I try to rotate an EPSG:4326 vector object, I get the nice outline while
rotating, but when I click to complete it, the shape is badly misshapen


If am guessing it is because of being in 4326, but the problem is what you
see while rotating is not what you get as the final result. If I do the
same with something like a UTM projection then it works correctly.

What is the intended operation of the tool? It shouldn't show one thing
while rotating and then deliver a different result. I am guessing that the
move tool may also be distorting shapes, but I have not really looked at it.

Do I need to write a geodesic move and rotate tool as part of the Shape
Tools plugin?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180914/714d86dd/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: issue.jpg
Type: image/jpeg
Size: 3734 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180914/714d86dd/attachment.jpg>

From noreply at qgis.org  Fri Sep 14 09:14:33 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 14 Sep 2018 16:14:33 -0000
Subject: [QGIS-Developer] Plugin [1498] Extreme Value Classification for
 Polygon approval notification.
Message-ID: <20180914161433.26354.27889@2c6504964296>


Plugin Extreme Value Classification for Polygon approval by pcav.
The plugin version "[1498] Extreme Value Classification for Polygon 0.5 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/aChor/

From cavallini at faunalia.it  Fri Sep 14 23:17:19 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 15 Sep 2018 08:17:19 +0200
Subject: [QGIS-Developer] Debian testing - buster bug
In-Reply-To: <213a7676-0417-e17e-53f6-a5e7a611797d@duif.net>
References: <674544706.3353245.1536643734395.ref@mail.yahoo.com>
 <674544706.3353245.1536643734395@mail.yahoo.com>
 <28fa653d-acbc-b492-b5d7-5fbde7e95dd9@xs4all.nl>
 <5236afa7-c655-2982-de71-7ccf533e4ab5@duif.net>
 <97198493-7661-648e-7646-74c411551077@xs4all.nl>
 <596b0b05-1fdb-79a6-6ed2-815613ec9ad2@duif.net>
 <868DD51CE944AE14.913F7744-3DEE-4A0B-8CB3-2666E7A721C9@mail.outlook.com>
 <7ac7b101-3ebb-e933-b1f4-a34bed6ed430@duif.net>
 <213a7676-0417-e17e-53f6-a5e7a611797d@duif.net>
Message-ID: <2d8cc60d-8bc7-934e-9d2a-83152cb86346@faunalia.it>

Il 09/14/2018 10:50 AM, Richard Duivenvoorde ha scritto:
>
> Hi Debian fans,
>
> Fyi: libqt5network5_5.11.1+dfsg-8_amd64.deb is in testing and working!!
>
> Enjoy QGIS and Debian :-)
>
> Richard
confirmed, obviously, also on Sid. Pretty quick response thank you Debian!
Cheers.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/


From delazj at gmail.com  Fri Sep 14 23:36:17 2018
From: delazj at gmail.com (DelazJ)
Date: Sat, 15 Sep 2018 08:36:17 +0200
Subject: [QGIS-Developer] Programmatically iterate over features with
 Processing in QGIS 3
In-Reply-To: <CAB28Asj=X-hG5WBMykaSROP0T5DPH2vEHbUe41MNwbi9YA3_MA@mail.gmail.com>
References: <CAECJsSpr-pM7TYdJGr-viNmWwZxqScadz6+g6wMhb0C=Q_AaDw@mail.gmail.com>
 <CAECJsSrC0uSPDPhVAbp+ZA9Ueqmr9_0ajh41-q4U2wBwMst8=w@mail.gmail.com>
 <CAB28Asj=X-hG5WBMykaSROP0T5DPH2vEHbUe41MNwbi9YA3_MA@mail.gmail.com>
Message-ID: <CAECJsSq9NrubqqFTk3JsZseh5AOjV8tGMQ0WkWqncYOuMz3EoA@mail.gmail.com>

Hi,

Thanks Nyall. If it uses the same getFeatures method (already shown
multiple times) then I'll remove that example.

Regards,
Harrissou


Le ven. 14 sept. 2018 Ã  01:59, Nyall Dawson <nyall.dawson at gmail.com> a
Ã©crit :

> On Thu, 13 Sep 2018 at 15:40, DelazJ <delazj at gmail.com> wrote:
> >
> > Hi,
> > CCing to qgis-dev as nobody in community seems... inspired by the
> question and I'd like to close that old PR and rebase other changes.
> >
> > Thanks for any hint.
> >
> > Harrissou
> >
> > Le mar. 11 sept. 2018 Ã  18:12, DelazJ <delazj at gmail.com> a Ã©crit :
> >>
> >> Hi all,
> >>
> >> QGIS documentation states [0] that Processing can be used to iterate
> over features with the following code:
> >>
> >> import processing
> >> features = processing.features(layer)
> >> for feature in features:
> >>     # do whatever you need with the feature
> >>
> >> This code no longer works in QGIS3 and needs an update [1] I fail to
> find.
> >> So anyone to suggest the right replacement, please?
>
> Just iterate directly over the features from the source. The things
> which processing.features used to do is taken care of transparently
> for you now.
>
> I.e.
>
>     source = self.parameterAsSource(parameters, 'INPUT', context)
>     for f in source.getFeatures():
>        # do something with f
>
> As much as possible, Processing-specific methods were removed in QGIS
> 3.0 in favour of the standard PyQGIS calls. This was done to reduce
> code duplication, and make the API more consistent (i.e. easier to
> move code between Processing algorithms -> standalone scripts/plugins
> and vice versa).
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180915/d9bcbee8/attachment.html>

From cavallini at faunalia.it  Sat Sep 15 01:56:15 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 15 Sep 2018 10:56:15 +0200
Subject: [QGIS-Developer] PGRaster status
Message-ID: <f7d31e18-1a12-514d-d513-8422bae7388f@faunalia.it>

Hi all,

yesterday I completed a PostGIS course, and I realized that the PostGIS
raster support in QGIS 3.2 has become much worse, to the point of being
essentially unusable. I can provide samples to check. I think the
current situation should be corrected; if we cannot realistically
support them, perhaps better (I hate saying this) drop the support at
least for 3.4.

Is anybody interested in checking?

All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/


From cavallini at faunalia.it  Sat Sep 15 23:25:27 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun, 16 Sep 2018 08:25:27 +0200
Subject: [QGIS-Developer] qgis2web and qtwebkit?
Message-ID: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>

Hi all,

on Debian Sid the qgis2web plugin refuses to install because it cannot
import name QtWebKit.

In fact, apparently only python-pyqt5.qtwebkit is available, not pyqt4
(although libqtwebkit4 is available).

Anyone knows a workaround or a proper solution?

Thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/


From sebastic at xs4all.nl  Sat Sep 15 23:36:17 2018
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Sun, 16 Sep 2018 08:36:17 +0200
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
Message-ID: <457bad90-dcff-399d-c145-882bd52aa7a3@xs4all.nl>

On 9/16/18 8:25 AM, Paolo Cavallini wrote:
> on Debian Sid the qgis2web plugin refuses to install because it cannot
> import name QtWebKit.

Yes, see:

 https://bugs.debian.org/784514
 https://bugs.debian.org/828031
 https://bugs.debian.org/855048
 https://bugs.debian.org/882663

> In fact, apparently only python-pyqt5.qtwebkit is available, not pyqt4
> (although libqtwebkit4 is available).

Qt4 is EOL upstream, and its WebKit module is a security nightmare
because of that. Hence the removal from python-qt4.

> Anyone knows a workaround or a proper solution?

The proper solution is to port the plugin to QtWebEngine with Qt5.
That's what Qt upstream recommends over QtWebKit.

The workaround is to use the 2.x packages from qgis.org which still
build and install the QtWebKit libraries that were removed from
python-qt4 in Debian.

Kind Regards,

Bas

From jef at norbit.de  Sun Sep 16 01:15:04 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sun, 16 Sep 2018 10:15:04 +0200
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
Message-ID: <20180916081504.5vm6pfw5ebpuevxu@norbit.de>

Hi Paolo,

On Sun, 16. Sep 2018 at 08:25:27 +0200, Paolo Cavallini wrote:
> on Debian Sid the qgis2web plugin refuses to install because it cannot
> import name QtWebKit.
> 
> In fact, apparently only python-pyqt5.qtwebkit is available, not pyqt4
> (although libqtwebkit4 is available).
> 
> Anyone knows a workaround or a proper solution?

Install our packages.  The security nightmare should be libqtwebkit4, not the
bindings - but only the latter removed.  Our packages contain them.


JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180916/03e6f5eb/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180916/03e6f5eb/attachment.ksh>

From tim at kartoza.com  Sun Sep 16 13:40:09 2018
From: tim at kartoza.com (Tim Sutton)
Date: Sun, 16 Sep 2018 22:40:09 +0200
Subject: [QGIS-Developer] Build failure on macOS
Message-ID: <AC56B41D-5B6D-4F9D-9ADD-22E55BCDA97E@kartoza.com>

Hi all

Building on master 195539d7d3a594da3da6c6874773d8d3d4877551 I get this:

[4/3576 27.2/sec] Generating qgsexpression_texts.cpp
FAILED: src/core/qgsexpression_texts.cpp
cd /Users/timlinux/dev/cpp/QGIS && /usr/local/opt/python3/bin/python3.6 /Users/timlinux/dev/cpp/QGIS/scripts/process_function_template.py /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/src/core/qgsexpression_texts.cpp.temp && /usr/local/Cellar/cmake/3.9.3_1/bin/cmake -DSRC=/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/src/core/qgsexpression_texts.cpp.temp -DDST=/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/src/core/qgsexpression_texts.cpp -P /Users/timlinux/dev/cpp/QGIS/cmake/CopyIfChanged.cmake
resources/function_help/json/to_dm
Traceback (most recent call last):
File "/Users/timlinux/dev/cpp/QGIS/scripts/process_function_template.py", line 47, in <module>
json_params = json.load(function_file)
File "/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/__init__.py", line 296, in load
return loads(fp.read(),
File "/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/lib/python3.6/encodings/ascii.py", line 26, in decode
return codecs.ascii_decode(input, self.errors)[0]
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc2 in position 580: ordinal not in range(128)
[5/3576 24.4/sec] Running utility command for zzz-processing-stageinstall
[6/3576 11.1/sec] Running utility command for pyqtcompat
ninja: build stopped: subcommand failed.
22:38:16: The process "/usr/local/bin/cmake" exited with code 1.
Error while building/deploying project qgis (kit: QT5 - QGIS Build Kit)
The kit QT5 - QGIS Build Kit has configuration issues which might be the root cause for this problem.
When executing step "Make"
22:38:16: Elapsed time: 00:01.


Does anyone else have this issue?

Regards

Tim
â








Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180916/9c0178a3/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180916/9c0178a3/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: Message signed with OpenPGP
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180916/9c0178a3/attachment-0001.sig>

From jef at norbit.de  Sun Sep 16 14:28:07 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sun, 16 Sep 2018 23:28:07 +0200
Subject: [QGIS-Developer] Build failure on macOS
In-Reply-To: <AC56B41D-5B6D-4F9D-9ADD-22E55BCDA97E@kartoza.com>
References: <AC56B41D-5B6D-4F9D-9ADD-22E55BCDA97E@kartoza.com>
Message-ID: <20180916212807.ocacb6p4suvw63hj@norbit.de>

Hi Tim,

On Sun, 16. Sep 2018 at 22:40:09 +0200, Tim Sutton wrote:
> resources/function_help/json/to_dm
> Traceback (most recent call last):
> File "/Users/timlinux/dev/cpp/QGIS/scripts/process_function_template.py", line 47, in <module>
> json_params = json.load(function_file)

Apprently an issue with the UTF-8 characters in the new expression help files -
I also see that in the nightlies of master on Linux - but not on local builds.


JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180916/a8b463c6/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180916/a8b463c6/attachment.ksh>

From ricardo.garcia.silva at gmail.com  Sun Sep 16 15:10:01 2018
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Sun, 16 Sep 2018 23:10:01 +0100
Subject: [QGIS-Developer] Using embedded widgets in the layer tree on a
	python plugin
Message-ID: <CAFcNcQYZbxoxayoR=dmnmBugrFikgodu_paZJJ0Sp6PNdqBehg@mail.gmail.com>

Hi all (specially Martin Dobias)

I'm working on a plugin that will use embedded widgets in the layer tree. I
am using the following as reference:

-  Martin's PR that brought this feature into existence (thanks for that
BTW):
https://github.com/qgis/QGIS/pull/3170/files#diff-3b9be845f2ea37602ca451f18acceab4

-  This QGIS dev thread where Martin provides some more detail on how to
refresh the legend:
http://osgeo-org.1560.x6.nabble.com/QgsLayerTreeViewMenuProvider-and-default-values-tt5296424.html#a5296695

-  This stackexchange thread where the transparency slider is discussed:
https://gis.stackexchange.com/questions/232367/showing-transparency-slider-by-default-in-layers-panel-of-qgis

-  The master branch of QGIS' repo

I'm starting out by just showing a simple QLabel in the layer's legend,
just as a proof of concept. I want my plugin to work with OGC services
layers (WMS, WFS, etc), meaning it shall only try to add widgets to layers
that are of these types.

I have roughly the following python code:

```
logger = partial(qgis.utils.QgsMessageLog.logMessage, tag=__name__)

class MyWidgetProvider(
        qgis.gui.QgsLayerTreeEmbeddedWidgetProvider):

    SUPPORTED_DATA_PROVIDERS = [
        "wms",
    ]

    def __init__(self, *args, **kwargs):
        logger("Instantiating provider...")
        super().__init__(*args, **kwargs)
        self.creation_timestamp = int(time.time())

    def id(self):
        logger("id called")
        return "{}_{}".format(self.__class__.__name__,
self.creation_timestamp)

    def name(self):
        logger("name called")
        return "My Widgetss"

    def createWidget(self, map_layer, widget_index):
        logger("createWidget called")
        widget = widgets.QLabel("hi world!")
        widget.setAutoFillBackground(True)
        return widget

    def supportsLayer(self, map_layer):
        logger("supportsLayer called")
        provider = map_layer.dataProvider()
        name = provider.name()
        result = True if name in self.SUPPORTED_DATA_PROVIDERS else False
        logger("supportsLayer: {}".format(result),
level=qgis.core.Qgis.Debug)
        return result
```


This code kind of works, but I'm facing two problems at the moment:

1. The `MyWidgetProvider.supportsLayer()` method is never called. The
logging call does not show up on the console and I also see that my
provider is offered on WMS layers, but also on some local vector layers
(which is not what I intend). grep'ping around the QGIS' source code I
could not find some place where this method would be called and used, so
I'm wondering if this is implemented. I would expect this method to be
called when the layer properties dialog is opened, so that my provider
would get filtered out for layers that were of the wrong type;

2. This code does not update the legend for the layer, UNLESS it is a
vector layer. If I try to add this provider to a WMS layer, the legend is
not updated. If I add it to a shapefile, it works as expected. In order to
get my QLabel to show up on WMS layers, I have to manually run this in the
QGIS python shell:

```
view = iface.layerTreeView()
view.model().refreshLayerLegend(view.currentNode())
```

However, I am not seeing where in my plugin's code can I add this snippet.
I only want the layer tree to be updated AFTER my provider creates the
widget, but this moment seems to be out of my control. Also, I am puzzled
by the fact that vector layers work just fine while my raster (WMS) does
not.


Thanks in advance for your help :)


Best regards

-- 
___________________________ ___ __
Ricardo Garcia Silva
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180916/2ef04f71/attachment.html>

From noreply at qgis.org  Sun Sep 16 23:08:33 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 17 Sep 2018 06:08:33 -0000
Subject: [QGIS-Developer] Plugin [1538] Land Survey Codes Import approval
	notification.
Message-ID: <20180917060833.8980.73670@2c6504964296>


Plugin Land Survey Codes Import approval by pcav.
The plugin version "[1538] Land Survey Codes Import 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/LandSurveyCodesImport/

From cavallini at faunalia.it  Sun Sep 16 23:13:28 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 17 Sep 2018 08:13:28 +0200
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <20180916081504.5vm6pfw5ebpuevxu@norbit.de>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
 <20180916081504.5vm6pfw5ebpuevxu@norbit.de>
Message-ID: <3dbbc179-dfa2-452b-dc88-2322927b10a2@faunalia.it>

Il 09/16/2018 10:15 AM, JÃ¼rgen E. Fischer ha scritto:
> Hi Paolo,
>
> On Sun, 16. Sep 2018 at 08:25:27 +0200, Paolo Cavallini wrote:
>> on Debian Sid the qgis2web plugin refuses to install because it cannot
>> import name QtWebKit.
>>
>> In fact, apparently only python-pyqt5.qtwebkit is available, not pyqt4
>> (although libqtwebkit4 is available).
>>
>> Anyone knows a workaround or a proper solution?
> Install our packages.  The security nightmare should be libqtwebkit4, not the
> bindings - but only the latter removed.  Our packages contain them.

Thanks. Where can I find the package?

cat /etc/apt/sources.list | grep qgis
#qgis
debÂ Â Â  https://qgis.org/debian-ltr buster main

aptitude search qtwebkit | grep 4
i A libqtwebkit4 - libreria per motore di contenuti web per Qt
pÂ  libqtwebkit4-dbg - libreria per motore di contenuti web per Qt -
simboli di debug

Cheers.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 195 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/7b18db3b/attachment.sig>

From noreply at qgis.org  Sun Sep 16 23:32:20 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 17 Sep 2018 06:32:20 -0000
Subject: [QGIS-Developer] Plugin [1377] TlugProcessing approval notification.
Message-ID: <20180917063220.8980.21272@2c6504964296>


Plugin TlugProcessing approval by pcav.
The plugin version "[1377] TlugProcessing 2.1" is now approved
Link: http://plugins.qgis.org/plugins/TlugProcessing/

From jef at norbit.de  Sun Sep 16 23:40:04 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 17 Sep 2018 08:40:04 +0200
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <3dbbc179-dfa2-452b-dc88-2322927b10a2@faunalia.it>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
 <20180916081504.5vm6pfw5ebpuevxu@norbit.de>
 <3dbbc179-dfa2-452b-dc88-2322927b10a2@faunalia.it>
Message-ID: <20180917064004.co6gbq7sf5uzvsso@norbit.de>

Hi Paolo,

On Mon, 17. Sep 2018 at 08:13:28 +0200, Paolo Cavallini wrote:
> Thanks. Where can I find the package?

$ dpkg -S python*QtWebKit*.so
python-qgis: /usr/lib/python2.7/dist-packages/PyQt4/QtWebKit.x86_64-linux-gnu.so


JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/df8cf353/attachment-0001.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/df8cf353/attachment-0001.ksh>

From cavallini at faunalia.it  Mon Sep 17 00:15:26 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 17 Sep 2018 09:15:26 +0200
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <20180917064004.co6gbq7sf5uzvsso@norbit.de>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
 <20180916081504.5vm6pfw5ebpuevxu@norbit.de>
 <3dbbc179-dfa2-452b-dc88-2322927b10a2@faunalia.it>
 <20180917064004.co6gbq7sf5uzvsso@norbit.de>
Message-ID: <7a1cb5f0-c88e-1ee9-4dcc-2f74c4b82238@faunalia.it>

Il 09/17/2018 08:40 AM, JÃ¼rgen E. Fischer ha scritto:
> Hi Paolo,
>
> On Mon, 17. Sep 2018 at 08:13:28 +0200, Paolo Cavallini wrote:
>> Thanks. Where can I find the package?
> $ dpkg -S python*QtWebKit*.so
> python-qgis: /usr/lib/python2.7/dist-packages/PyQt4/QtWebKit.x86_64-linux-gnu.so
Thanks. The problem stemmed out from the fact that I am using 3.2 from
package, and 2.18 from self compiled.
All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 195 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/1712db13/attachment.sig>

From jef at norbit.de  Mon Sep 17 00:36:50 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 17 Sep 2018 09:36:50 +0200
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <7a1cb5f0-c88e-1ee9-4dcc-2f74c4b82238@faunalia.it>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
 <20180916081504.5vm6pfw5ebpuevxu@norbit.de>
 <3dbbc179-dfa2-452b-dc88-2322927b10a2@faunalia.it>
 <20180917064004.co6gbq7sf5uzvsso@norbit.de>
 <7a1cb5f0-c88e-1ee9-4dcc-2f74c4b82238@faunalia.it>
Message-ID: <20180917073650.atsbjgaid5lrqrch@norbit.de>

Hi Paolo,

On Mon, 17. Sep 2018 at 09:15:26 +0200, Paolo Cavallini wrote:
> Thanks. The problem stemmed out from the fact that I am using 3.2 from
> package, and 2.18 from self compiled.

So now you built with -DWITH_INTERNAL_WEBKIT_BINDINGS=TRUE?


JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/f02c884a/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/f02c884a/attachment.ksh>

From cavallini at faunalia.it  Mon Sep 17 00:39:41 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 17 Sep 2018 09:39:41 +0200
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <20180917073650.atsbjgaid5lrqrch@norbit.de>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
 <20180916081504.5vm6pfw5ebpuevxu@norbit.de>
 <3dbbc179-dfa2-452b-dc88-2322927b10a2@faunalia.it>
 <20180917064004.co6gbq7sf5uzvsso@norbit.de>
 <7a1cb5f0-c88e-1ee9-4dcc-2f74c4b82238@faunalia.it>
 <20180917073650.atsbjgaid5lrqrch@norbit.de>
Message-ID: <24d399b2-903f-8fa2-771f-7f03ad571cca@faunalia.it>

Il 09/17/2018 09:36 AM, JÃ¼rgen E. Fischer ha scritto:
> Hi Paolo,
>
> On Mon, 17. Sep 2018 at 09:15:26 +0200, Paolo Cavallini wrote:
>> Thanks. The problem stemmed out from the fact that I am using 3.2 from
>> package, and 2.18 from self compiled.
> So now you built with -DWITH_INTERNAL_WEBKIT_BINDINGS=TRUE?
>
good idea, trying now
thanks a lot

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 195 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/71f05d95/attachment.sig>

From cavallini at faunalia.it  Mon Sep 17 00:56:11 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 17 Sep 2018 09:56:11 +0200
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <24d399b2-903f-8fa2-771f-7f03ad571cca@faunalia.it>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
 <20180916081504.5vm6pfw5ebpuevxu@norbit.de>
 <3dbbc179-dfa2-452b-dc88-2322927b10a2@faunalia.it>
 <20180917064004.co6gbq7sf5uzvsso@norbit.de>
 <7a1cb5f0-c88e-1ee9-4dcc-2f74c4b82238@faunalia.it>
 <20180917073650.atsbjgaid5lrqrch@norbit.de>
 <24d399b2-903f-8fa2-771f-7f03ad571cca@faunalia.it>
Message-ID: <966e3b66-c53d-0644-ad72-2df6346d8c73@faunalia.it>

> Il 09/17/2018 09:36 AM, JÃ¼rgen E. Fischer ha scritto:
>>
>> So now you built with -DWITH_INTERNAL_WEBKIT_BINDINGS=TRUE?
>>
Now I get a previously unseen error:

CMake Error at python/CMakeLists.txt:345 (INSTALL):
Â  INSTALL FILES given no DESTINATION!

but I do not find the corresponding option in cmake.
Thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 195 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/09366c49/attachment.sig>

From tom.chadwin at nnpa.org.uk  Mon Sep 17 01:24:10 2018
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Mon, 17 Sep 2018 01:24:10 -0700 (MST)
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <457bad90-dcff-399d-c145-882bd52aa7a3@xs4all.nl>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
 <457bad90-dcff-399d-c145-882bd52aa7a3@xs4all.nl>
Message-ID: <1537172650067-0.post@n6.nabble.com>

Hello all


Sebastiaan Couwenberg wrote
> The proper solution is to port the plugin to QtWebEngine with Qt5.
> That's what Qt upstream recommends over QtWebKit.

The QtWebkit issue has caused problems with qgis2web many times:

https://github.com/tomchadwin/qgis2web/issues?utf8=%E2%9C%93&q=is%3Aissue+qtwebkit+

I've never done any work toward removing QtWebkit from qgis2web, for three
main reasons:

- as a Windows user, I don't fully understand the underlying issues (eg is
it QtWebkit itself or its Python bindings?)

- my belief was that QGIS itself depended on QtWebkit (possibly for HTML
support in labels or some such)

- QtWebEngine has lagged behind QtWebkit in functionality (I don't know if
that is still the case)

I guess my questions arising are:

- is the problem only with Qt4, and hence QGIS 2? If so, with 3.4 becoming
LTR next spring, my strong inclination is not to bother attempting to
migrate to WebEngine

- does QGIS core still use Webkit?

- are there any other reasons that migrating from Webkit is required under
Qt5?

Thanks for any pointers

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From tim at kartoza.com  Mon Sep 17 01:25:50 2018
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 17 Sep 2018 10:25:50 +0200
Subject: [QGIS-Developer] Build failure on macOS
In-Reply-To: <20180916212807.ocacb6p4suvw63hj@norbit.de>
References: <AC56B41D-5B6D-4F9D-9ADD-22E55BCDA97E@kartoza.com>
 <20180916212807.ocacb6p4suvw63hj@norbit.de>
Message-ID: <E88A2953-27A9-478D-BB71-B5CA020E6865@kartoza.com>

Thanks for the fixes â¦. It compiles cleanly again now here on macOS.

Regards

Tim

> On 16 Sep 2018, at 23:28, JÃ¼rgen E. Fischer <jef at norbit.de> wrote:
> 
> Signed PGP part
> Hi Tim,
> 
> On Sun, 16. Sep 2018 at 22:40:09 +0200, Tim Sutton wrote:
>> resources/function_help/json/to_dm
>> Traceback (most recent call last):
>> File "/Users/timlinux/dev/cpp/QGIS/scripts/process_function_template.py", line 47, in <module>
>> json_params = json.load(function_file)
> 
> Apprently an issue with the UTF-8 characters in the new expression help files -
> I also see that in the nightlies of master on Linux - but not on local builds.
> 
> 
> JÃ¼rgen
> 
> --
> JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden             http://www.norbit.de
> 
> 

â








Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/a9c17d03/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/a9c17d03/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: Message signed with OpenPGP
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/a9c17d03/attachment-0001.sig>

From sebastic at xs4all.nl  Mon Sep 17 01:41:18 2018
From: sebastic at xs4all.nl (Bas Couwenberg)
Date: Mon, 17 Sep 2018 10:41:18 +0200
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <1537172650067-0.post@n6.nabble.com>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
 <457bad90-dcff-399d-c145-882bd52aa7a3@xs4all.nl>
 <1537172650067-0.post@n6.nabble.com>
Message-ID: <7014d177ba31a2ca6be9b20e3e071820@xs4all.nl>

On 2018-09-17 10:24, Tom Chadwin wrote:
> - are there any other reasons that migrating from Webkit is required 
> under
> Qt5?

Qt upstream stopped developing QtWebKit and switched its focus to 
QtWebEngine, the former will most likely be removed from Qt5 at some 
point, see:

  http://blog.qt.io/blog/2013/09/12/introducing-the-qt-webengine/

Kind Regards,

Bas

From jef at norbit.de  Mon Sep 17 02:07:13 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 17 Sep 2018 11:07:13 +0200
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <7014d177ba31a2ca6be9b20e3e071820@xs4all.nl>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
 <457bad90-dcff-399d-c145-882bd52aa7a3@xs4all.nl>
 <1537172650067-0.post@n6.nabble.com>
 <7014d177ba31a2ca6be9b20e3e071820@xs4all.nl>
Message-ID: <20180917090713.kr3ebtynroxzkwba@norbit.de>

Hi Bas,

On Mon, 17. Sep 2018 at 10:41:18 +0200, Bas Couwenberg wrote:
> Qt upstream stopped developing QtWebKit and switched its focus to
> QtWebEngine, the former will most likely be removed from Qt5 at some point,
> see:
> 
>  http://blog.qt.io/blog/2013/09/12/introducing-the-qt-webengine/

Isn't that outdated information?

https://lists.osgeo.org/pipermail//qgis-developer/2016-June/043360.html



JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/42015fe7/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/42015fe7/attachment.ksh>

From jef at norbit.de  Mon Sep 17 02:16:36 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 17 Sep 2018 11:16:36 +0200
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <1537172650067-0.post@n6.nabble.com>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
 <457bad90-dcff-399d-c145-882bd52aa7a3@xs4all.nl>
 <1537172650067-0.post@n6.nabble.com>
Message-ID: <20180917091636.qo5xgsgzgm6aqcjx@norbit.de>

Hi Tom,

On Mon, 17. Sep 2018 at 01:24:10 -0700, Tom Chadwin wrote:
> - as a Windows user, I don't fully understand the underlying issues (eg is
> it QtWebkit itself or its Python bindings?)

>From the distance past: The python bindings for webkit were removed for Qt4
from Debian as the underlying library was going to be removed, because of it
being unmaintained upstream and it therefore becoming an security headache
eventually.

For the affected versions of Debian (and Ubuntu) the QGIS package includes the
bindings for the still existing library.

So it's not an issue for plugins if our packages are used.


JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/21b5e142/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180917/21b5e142/attachment.ksh>

From cavallini at faunalia.it  Mon Sep 17 02:30:26 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 17 Sep 2018 11:30:26 +0200
Subject: [QGIS-Developer] Documentation writing
Message-ID: <12de22d1-a8fe-f20c-3c79-603731d6fb4f@faunalia.it>

Hi all,

as you know, next LTR (3.4) is coming soon. Its documentation is lagging
behind, so the PSC decided to invest in updating it. Those of you who
are interested in writing it please reply to this message stating;

* which part of documentation you are interested in updating

* if you can take the responsibility for completing it, or if it's just
for a part of it

* for how many hours (approx) you are available.

This will allow us to correctly budget this task. We welcome anyone, and
will give priority to those who already wrote substantial parts of the
current docs.

All the best, and thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/



From noreply at qgis.org  Mon Sep 17 02:35:16 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 17 Sep 2018 09:35:16 -0000
Subject: [QGIS-Developer] Plugin [1380] Batch Hillshader approval
	notification.
Message-ID: <20180917093516.8981.42331@2c6504964296>


Plugin Batch Hillshader approval by pcav.
The plugin version "[1380] Batch Hillshader 2.2.69" is now approved
Link: http://plugins.qgis.org/plugins/batch_hillshader-master/

From nyall.dawson at gmail.com  Mon Sep 17 15:37:01 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 18 Sep 2018 08:37:01 +1000
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <1537172650067-0.post@n6.nabble.com>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
 <457bad90-dcff-399d-c145-882bd52aa7a3@xs4all.nl>
 <1537172650067-0.post@n6.nabble.com>
Message-ID: <CAB28AsikuLfjzr8Zj2CN7+HVmcS0LCS4y2Y4WHtcCjb1XUQ_vw@mail.gmail.com>

On Mon, 17 Sep 2018 at 18:24, Tom Chadwin <tom.chadwin at nnpa.org.uk> wrote:

Some more answers:

> - my belief was that QGIS itself depended on QtWebkit (possibly for HTML
> support in labels or some such)

Correct. Layout HTML items, HTML annotations and Resource Widget with
integrated viewer all depend on QtWebkit, and will not be ported to
QtWebEngine for the foreseeable future. (It's just not possible --
QtWebEngine is missing required functionality.)

> - QtWebEngine has lagged behind QtWebkit in functionality (I don't know if
> that is still the case)

Very much so. QtWebEngine seems targeted at the simple use case of an
integrated web page viewer, vs QtWebkit which has a much more powerful
API. Specifically, the big blocker is that QtWebkit allows rendering
of webpages AS VECTORS onto a QPainter. Last I checked (maybe ~6
months ago) discussion at Qt channels was that this was
non-trivial/impossible to implement in QtWebEngine and was not being
actively worked on.

Nyall

From nyall.dawson at gmail.com  Mon Sep 17 15:38:40 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 18 Sep 2018 08:38:40 +1000
Subject: [QGIS-Developer] PGRaster status
In-Reply-To: <f7d31e18-1a12-514d-d513-8422bae7388f@faunalia.it>
References: <f7d31e18-1a12-514d-d513-8422bae7388f@faunalia.it>
Message-ID: <CAB28AshkM-_qEDh4S5P4PGMMm1oSGks_TXnPkdenwGDSR2Q86A@mail.gmail.com>

On Sat, 15 Sep 2018 at 18:56, Paolo Cavallini <cavallini at faunalia.it> wrote:
>
> Hi all,
>
> yesterday I completed a PostGIS course, and I realized that the PostGIS
> raster support in QGIS 3.2 has become much worse, to the point of being
> essentially unusable. I can provide samples to check. I think the
> current situation should be corrected; if we cannot realistically
> support them, perhaps better (I hate saying this) drop the support at
> least for 3.4.

*Tagging as "feedback required"*

Please post specific steps to reproduce this issue and attach sample
data/projects. ;)

(But seriously, can you open a ticket(s) with specifics?)

Nyall

From cavallini at faunalia.it  Mon Sep 17 22:47:16 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 18 Sep 2018 07:47:16 +0200
Subject: [QGIS-Developer] PGRaster status
In-Reply-To: <CAB28AshkM-_qEDh4S5P4PGMMm1oSGks_TXnPkdenwGDSR2Q86A@mail.gmail.com>
References: <f7d31e18-1a12-514d-d513-8422bae7388f@faunalia.it>
 <CAB28AshkM-_qEDh4S5P4PGMMm1oSGks_TXnPkdenwGDSR2Q86A@mail.gmail.com>
Message-ID: <30266398-249c-9f18-ff96-f9e0a93be331@faunalia.it>

Hi Nyall,


Il 09/18/2018 12:38 AM, Nyall Dawson ha scritto:
>
> *Tagging as "feedback required"*
>
> Please post specific steps to reproduce this issue and attach sample
> data/projects. ;)
>
> (But seriously, can you open a ticket(s) with specifics?)
>
sure, I'm working on it, with the help of other users. Not easy because
of different versions of many libs. Main objective of this mail was to
check if it's a local issue, and there are tons of happy PGRaster users
around. My impression is that they are not widely used.
All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/


From noreply at qgis.org  Mon Sep 17 22:46:01 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 18 Sep 2018 05:46:01 -0000
Subject: [QGIS-Developer] Plugin [1516] QGIS Full Motion Video approval
	notification.
Message-ID: <20180918054601.5969.38929@2c6504964296>


Plugin QGIS Full Motion Video approval by pcav.
The plugin version "[1516] QGIS Full Motion Video 1.3" is now approved
Link: http://plugins.qgis.org/plugins/QGIS_FMV/

From tom.chadwin at nnpa.org.uk  Tue Sep 18 00:51:35 2018
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 18 Sep 2018 00:51:35 -0700 (MST)
Subject: [QGIS-Developer] qgis2web and qtwebkit?
In-Reply-To: <CAB28AsikuLfjzr8Zj2CN7+HVmcS0LCS4y2Y4WHtcCjb1XUQ_vw@mail.gmail.com>
References: <6f32a71b-5096-6a81-565e-26ead74a0f76@faunalia.it>
 <457bad90-dcff-399d-c145-882bd52aa7a3@xs4all.nl>
 <1537172650067-0.post@n6.nabble.com>
 <CAB28AsikuLfjzr8Zj2CN7+HVmcS0LCS4y2Y4WHtcCjb1XUQ_vw@mail.gmail.com>
Message-ID: <1537257095078-0.post@n6.nabble.com>

Thanks for all the info and clarification, both. OK, so it's not worth
looking at QWE yet. Seems like a suboptimal situation, to say the least.



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From regis.haubourg at gmail.com  Tue Sep 18 03:01:20 2018
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 18 Sep 2018 12:01:20 +0200
Subject: [QGIS-Developer] Ubuntu 16.04 xenial broken dependency for
	qml-module-qtcharts
Message-ID: <CABgOYCcoi9KTBD_BQmOMMjndc7y2Z+ZrCKFBDSHz8J+YKsFTvw@mail.gmail.com>

Hi all,
My nightly packages updates just fell broken today because of a missing
dependency for qml-module-qtcharts .
I suppose this is related to https://github.com/qgis/QGIS/pull/7801
It seems it is not packaged in Ubuntu 16.04. Does that mean that QGIS won't
support anymore ubuntu xenial for 3.4 ?
RÃ©gis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180918/29f53125/attachment.html>

From jef at norbit.de  Tue Sep 18 04:26:14 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue, 18 Sep 2018 13:26:14 +0200
Subject: [QGIS-Developer] Ubuntu 16.04 xenial broken dependency for
 qml-module-qtcharts
In-Reply-To: <CABgOYCcoi9KTBD_BQmOMMjndc7y2Z+ZrCKFBDSHz8J+YKsFTvw@mail.gmail.com>
References: <CABgOYCcoi9KTBD_BQmOMMjndc7y2Z+ZrCKFBDSHz8J+YKsFTvw@mail.gmail.com>
Message-ID: <20180918112614.rut5b2ktlvr3k7ti@norbit.de>

Hi RÃ©gis,

On Tue, 18. Sep 2018 at 12:01:20 +0200, RÃ©gis Haubourg wrote:
> My nightly packages updates just fell broken today because of a missing
> dependency for qml-module-qtcharts .
> I suppose this is related to https://github.com/qgis/QGIS/pull/7801
> It seems it is not packaged in Ubuntu 16.04. Does that mean that QGIS won't
> support anymore ubuntu xenial for 3.4 ?

The next build will not have that dependency (see cab5fe02d).  I suppose that
only affects bar and pie charts in forms.


JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180918/cee99c73/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180918/cee99c73/attachment.ksh>

From regis.haubourg at gmail.com  Tue Sep 18 04:50:40 2018
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 18 Sep 2018 13:50:40 +0200
Subject: [QGIS-Developer] Ubuntu 16.04 xenial broken dependency for
	qml-module-qtcharts
In-Reply-To: <20180918112614.rut5b2ktlvr3k7ti@norbit.de>
References: <CABgOYCcoi9KTBD_BQmOMMjndc7y2Z+ZrCKFBDSHz8J+YKsFTvw@mail.gmail.com>
 <20180918112614.rut5b2ktlvr3k7ti@norbit.de>
Message-ID: <CABgOYCeewwsqHaDCW+2FR=dmhu=BsvjV33VJEr2wuX9qV2X3zw@mail.gmail.com>

Thanks JÃ¼rgen,
I'll check that tomorrow then.
Cheers
RÃ©gis

Le mar. 18 sept. 2018 Ã  13:27, JÃ¼rgen E. Fischer <jef at norbit.de> a Ã©crit :

> Hi RÃ©gis,
>
> On Tue, 18. Sep 2018 at 12:01:20 +0200, RÃ©gis Haubourg wrote:
> > My nightly packages updates just fell broken today because of a missing
> > dependency for qml-module-qtcharts .
> > I suppose this is related to https://github.com/qgis/QGIS/pull/7801
> > It seems it is not packaged in Ubuntu 16.04. Does that mean that QGIS
> won't
> > support anymore ubuntu xenial for 3.4 ?
>
> The next build will not have that dependency (see cab5fe02d).  I suppose
> that
> only affects bar and pie charts in forms.
>
>
> JÃ¼rgen
>
> --
> JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden
> http://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180918/225540ab/attachment-0001.html>

From enrico.chiaradia at yahoo.it  Tue Sep 18 06:13:28 2018
From: enrico.chiaradia at yahoo.it (enrico chiaradia)
Date: Tue, 18 Sep 2018 15:13:28 +0200
Subject: [QGIS-Developer] Python QGIS 3 and the list of all visible layer in
	the map
In-Reply-To: <CABgOYCeewwsqHaDCW+2FR=dmhu=BsvjV33VJEr2wuX9qV2X3zw@mail.gmail.com>
References: <CABgOYCcoi9KTBD_BQmOMMjndc7y2Z+ZrCKFBDSHz8J+YKsFTvw@mail.gmail.com>
 <20180918112614.rut5b2ktlvr3k7ti@norbit.de>
 <CABgOYCeewwsqHaDCW+2FR=dmhu=BsvjV33VJEr2wuX9qV2X3zw@mail.gmail.com>
Message-ID: <c931c686-5022-02c0-203d-e2a95e4b00d4@yahoo.it>

Hi list,

I'm working on my plugin (IOGeopaparazzi) in order to make it available 
also for QGIS 3.

I have troubles converting this function 
"iface.legendInterface().isLayerVisible(layer)" that checks the layer 
visibility in a loop of all loaded layers in the map.

What I want to do is to make a list of only visible layers loaded in the 
map.

legendInterface was completely deleted from the QGSI 3 API. How can I 
reproduce the same function in QGIS 3? Any suggestions?

Thanks,

enrico

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180918/6cefdd46/attachment.html>

From tom.chadwin at nnpa.org.uk  Tue Sep 18 06:42:28 2018
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 18 Sep 2018 06:42:28 -0700 (MST)
Subject: [QGIS-Developer] Python QGIS 3 and the list of all visible
 layer in the map
In-Reply-To: <c931c686-5022-02c0-203d-e2a95e4b00d4@yahoo.it>
References: <CABgOYCcoi9KTBD_BQmOMMjndc7y2Z+ZrCKFBDSHz8J+YKsFTvw@mail.gmail.com>
 <20180918112614.rut5b2ktlvr3k7ti@norbit.de>
 <CABgOYCeewwsqHaDCW+2FR=dmhu=BsvjV33VJEr2wuX9qV2X3zw@mail.gmail.com>
 <c931c686-5022-02c0-203d-e2a95e4b00d4@yahoo.it>
Message-ID: <1537278148047-0.post@n6.nabble.com>

Hi Enrico

You can use the Layer Tree API. Something like:

project.layerTreeRoot().findLayer(layer.id()).isVisible()

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From enrico.chiaradia at yahoo.it  Tue Sep 18 11:43:53 2018
From: enrico.chiaradia at yahoo.it (enrico chiaradia)
Date: Tue, 18 Sep 2018 20:43:53 +0200
Subject: [QGIS-Developer] Python QGIS 3 and the list of all visible
 layer in the map
In-Reply-To: <1537278148047-0.post@n6.nabble.com>
References: <CABgOYCcoi9KTBD_BQmOMMjndc7y2Z+ZrCKFBDSHz8J+YKsFTvw@mail.gmail.com>
 <20180918112614.rut5b2ktlvr3k7ti@norbit.de>
 <CABgOYCeewwsqHaDCW+2FR=dmhu=BsvjV33VJEr2wuX9qV2X3zw@mail.gmail.com>
 <c931c686-5022-02c0-203d-e2a95e4b00d4@yahoo.it>
 <1537278148047-0.post@n6.nabble.com>
Message-ID: <6b68046a-df2a-51f3-9b62-a78a12462293@yahoo.it>

Thanks Tom!

for those who need, this is a working snippet for processing alghorithm:

 Â Â Â  Â Â Â  layermap = iface.mapCanvas().layers()
 Â Â Â  Â Â Â  layers = []
 Â Â Â  Â Â Â  # add only visible layers
 Â Â Â  Â Â Â  layTreeRoot = QgsProject.instance().layerTreeRoot()
 Â Â Â  Â Â Â  for layer in layermap:
 Â Â Â  Â Â Â  Â Â Â  if layTreeRoot.findLayer(layer.id()).isVisible():
 Â Â Â  Â Â Â  Â Â Â  Â Â Â  layers.append(layer)


Il 18/09/2018 15:42, Tom Chadwin ha scritto:
> Hi Enrico
>
> You can use the Layer Tree API. Something like:
>
> project.layerTreeRoot().findLayer(layer.id()).isVisible()
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180918/b0761a82/attachment.html>

From adenaculture at gmail.com  Tue Sep 18 12:57:48 2018
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 18 Sep 2018 15:57:48 -0400
Subject: [QGIS-Developer] New Features in Shape Tools 3.2.0
Message-ID: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>

The latest version of Shape Tools has several nice new features.

1) *Geodesic Measurement Layer *will take a line or polygon layer and for
each of the geometries calculate the geodesic distances of each feature.
The user can choose whether each line segment is measured and output as a
line measurement or whether the entire line/polygon geometry is measured.
It outputs a new layer of styled lines that display the measured distances.
Here is an example of the results processing a polygon layer.

 measure-polygon.jpg
<https://drive.google.com/file/d/1lr1HsPPRs_sSR6Hz93f06xfsv0T2Z5Dk/view?usp=drive_web>

2) *Azimuth Distance Sequence Digitizer* - This provides the ability to
click on the map as a starting point and then give a series of bearings and
distances in the order of 'bearing 1, distance 1, bearing 2, distance 2,
... bearing N, distance N' and it will create a path.

3) All shape creation has been ported to the processing toolbox.

4) Additional ellipsoids are now supported.

*So what is next?*

Here are some possible next steps.

1. *Interactive drawing *of the shapes that are not already a part of the
QGIS interface. If a polygon or line layer is selected and editable then
the user would select a shape, parameters, and then click on the map and
draw, rotate, and size the shape.

2. *Geodesic Move and Rotate tools*. It appears that the QGIS vector move
and rotate tools work using the layer's projection so if it happens to be
in degrees you get some strange results especially when rotating. There is
a need for true rotate and move tools that preserves the area and size of
the object.

If you have any suggestions I would welcome them.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180918/96ba65b1/attachment.html>

From noreply at qgis.org  Tue Sep 18 13:46:09 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 18 Sep 2018 20:46:09 -0000
Subject: [QGIS-Developer] Plugin [1526] LAStools approval notification.
Message-ID: <20180918204609.13218.14126@2c6504964296>


Plugin LAStools approval by pcav.
The plugin version "[1526] LAStools 1.1" is now approved
Link: http://plugins.qgis.org/plugins/LAStools/

From noreply at qgis.org  Tue Sep 18 13:47:04 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 18 Sep 2018 20:47:04 -0000
Subject: [QGIS-Developer] Plugin [288] Distribution Map Generator approval
	notification.
Message-ID: <20180918204704.13218.95527@2c6504964296>


Plugin Distribution Map Generator approval by pcav.
The plugin version "[288] Distribution Map Generator 1.0.0" is now approved
Link: http://plugins.qgis.org/plugins/DistroMap/

From noreply at qgis.org  Tue Sep 18 21:58:50 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 19 Sep 2018 04:58:50 -0000
Subject: [QGIS-Developer] Plugin [1542] Geoscience approval notification.
Message-ID: <20180919045850.21217.59070@2c6504964296>


Plugin Geoscience approval by pcav.
The plugin version "[1542] Geoscience 0.6 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/geoscience/

From noreply at qgis.org  Wed Sep 19 00:52:39 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 19 Sep 2018 07:52:39 -0000
Subject: [QGIS-Developer] Plugin [1491] GIS4WRF approval notification.
Message-ID: <20180919075239.21217.71104@2c6504964296>


Plugin GIS4WRF approval by pcav.
The plugin version "[1491] GIS4WRF 0.11.0" is now approved
Link: http://plugins.qgis.org/plugins/gis4wrf/

From delazj at gmail.com  Wed Sep 19 01:28:36 2018
From: delazj at gmail.com (DelazJ)
Date: Wed, 19 Sep 2018 10:28:36 +0200
Subject: [QGIS-Developer] Missing translated strings in localized master
Message-ID: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>

Hi,

I've been reported some missing translations we have in the French
interface of QGIS: there are some strings that are translated in Transifex
(for weeks, months now) that do not appear in localized QGIS.
See for example the attached screenshots where some strings are still in
English though no untranslated occurrences is available on Transifex, as
shown with the "Print Layout..." example.

Are these issues only french ones? And could that be fixed to improve our
translators experience and expect a full translation of the next LTR,
please?

Thanks.
Regards,
Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/3ba5e207/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pkibahpklmcghkeh.png
Type: image/png
Size: 12377 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/3ba5e207/attachment-0001.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ZHmUu6lj.png.part
Type: application/octet-stream
Size: 9526 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/3ba5e207/attachment-0001.obj>

From delazj at gmail.com  Wed Sep 19 01:42:42 2018
From: delazj at gmail.com (DelazJ)
Date: Wed, 19 Sep 2018 10:42:42 +0200
Subject: [QGIS-Developer] Unable to get QGIS interface in another laguage
 than the system's - broken feature?
Message-ID: <CAECJsSq4rM56xMMQeBpfX+2v29NK5WAQA4-Vq=wzWUrPpspA0Q@mail.gmail.com>

Hi,

I don't know if it's a local issue nor how I can get it sorted but I'm
unable to change the language in which QGIS interface is displayed. I can
get access to the Options --> General but whatever language I choose,
reopening QGIS results in the same French interface. Creating new profile,
changing the language and reopening QGIS changes nothing. All my profiles
use the same language. The menu "User Interface Translation" still shows
the language I select in the combobox but that language is applied nowhere.

Regards,
Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/157787e1/attachment.html>

From apasotti at gmail.com  Wed Sep 19 01:46:05 2018
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 19 Sep 2018 10:46:05 +0200
Subject: [QGIS-Developer] Unable to get QGIS interface in another
 laguage than the system's - broken feature?
In-Reply-To: <CAECJsSq4rM56xMMQeBpfX+2v29NK5WAQA4-Vq=wzWUrPpspA0Q@mail.gmail.com>
References: <CAECJsSq4rM56xMMQeBpfX+2v29NK5WAQA4-Vq=wzWUrPpspA0Q@mail.gmail.com>
Message-ID: <CAL5Q6725Wi=-bFHCNU-9-TbYjVhMM-=A0uBDV+BTDzu3pnZbYg@mail.gmail.com>

See https://issues.qgis.org/issues/19879

I didn't have time yet to look into it but I've been able to reproduce on
Windows, it looks more like a CMake/installation issue, maybe Juergen would
be the best candidate for a quick fix.




On Wed, Sep 19, 2018 at 10:42 AM DelazJ <delazj at gmail.com> wrote:

> Hi,
>
> I don't know if it's a local issue nor how I can get it sorted but I'm
> unable to change the language in which QGIS interface is displayed. I can
> get access to the Options --> General but whatever language I choose,
> reopening QGIS results in the same French interface. Creating new profile,
> changing the language and reopening QGIS changes nothing. All my profiles
> use the same language. The menu "User Interface Translation" still shows
> the language I select in the combobox but that language is applied nowhere.
>
> Regards,
> Harrissou
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/c1db4b05/attachment.html>

From regis.haubourg at gmail.com  Wed Sep 19 01:46:01 2018
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 19 Sep 2018 10:46:01 +0200
Subject: [QGIS-Developer] Ubuntu 16.04 xenial broken dependency for
	qml-module-qtcharts
In-Reply-To: <20180918112614.rut5b2ktlvr3k7ti@norbit.de>
References: <CABgOYCcoi9KTBD_BQmOMMjndc7y2Z+ZrCKFBDSHz8J+YKsFTvw@mail.gmail.com>
 <20180918112614.rut5b2ktlvr3k7ti@norbit.de>
Message-ID: <CABgOYCedTu0b3CtXDAx9qYH13kdBrkXdGREJ6kPjpTxH5K=fXg@mail.gmail.com>

Hi JÃ¼rgen,
Still the same dependency today. Did the build succeed this night?
Cheers
RÃ©gis

Le mar. 18 sept. 2018 Ã  13:27, JÃ¼rgen E. Fischer <jef at norbit.de> a Ã©crit :

> Hi RÃ©gis,
>
> On Tue, 18. Sep 2018 at 12:01:20 +0200, RÃ©gis Haubourg wrote:
> > My nightly packages updates just fell broken today because of a missing
> > dependency for qml-module-qtcharts .
> > I suppose this is related to https://github.com/qgis/QGIS/pull/7801
> > It seems it is not packaged in Ubuntu 16.04. Does that mean that QGIS
> won't
> > support anymore ubuntu xenial for 3.4 ?
>
> The next build will not have that dependency (see cab5fe02d).  I suppose
> that
> only affects bar and pie charts in forms.
>
>
> JÃ¼rgen
>
> --
> JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden
> http://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/3126299a/attachment.html>

From jef at norbit.de  Wed Sep 19 02:25:38 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed, 19 Sep 2018 11:25:38 +0200
Subject: [QGIS-Developer] Unable to get QGIS interface in another
 laguage than the system's - broken feature?
In-Reply-To: <CAL5Q6725Wi=-bFHCNU-9-TbYjVhMM-=A0uBDV+BTDzu3pnZbYg@mail.gmail.com>
References: <CAECJsSq4rM56xMMQeBpfX+2v29NK5WAQA4-Vq=wzWUrPpspA0Q@mail.gmail.com>
 <CAL5Q6725Wi=-bFHCNU-9-TbYjVhMM-=A0uBDV+BTDzu3pnZbYg@mail.gmail.com>
Message-ID: <20180919092538.bq7rhx2l3gzkoocn@norbit.de>

Hi Alessandro,

On Wed, 19. Sep 2018 at 10:46:05 +0200, Alessandro Pasotti wrote:
> See https://issues.qgis.org/issues/19879
 
> I didn't have time yet to look into it but I've been able to reproduce on
> Windows, it looks more like a CMake/installation issue, maybe Juergen would
> be the best candidate for a quick fix.

Um, I started, but rolled back my work once I noticed that you already assigned
it to you - and just linked #19853 with which's fix I probably introduced the
problem.

The problem was that the translation was initialized too late and now it's
probably an issue with the two QgsSettings (settings & mySettings) in main.cpp
("Should be cleaned up in future to make this cleaner." - I agree ;))â¦


JÃ¼rgen

-- 
JÃ¼rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-31
Dipl.-Inf. (FH)           RheinstraÃe 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/ec49248f/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/ec49248f/attachment.ksh>

From noreply at qgis.org  Wed Sep 19 02:26:24 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 19 Sep 2018 09:26:24 -0000
Subject: [QGIS-Developer] Plugin [629] Networks approval notification.
Message-ID: <20180919092624.21217.37979@2c6504964296>


Plugin Networks approval by pcav.
The plugin version "[629] Networks 2.1.0" is now approved
Link: http://plugins.qgis.org/plugins/networks/

From apasotti at gmail.com  Wed Sep 19 02:31:59 2018
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 19 Sep 2018 11:31:59 +0200
Subject: [QGIS-Developer] Unable to get QGIS interface in another
 laguage than the system's - broken feature?
In-Reply-To: <20180919092538.bq7rhx2l3gzkoocn@norbit.de>
References: <CAECJsSq4rM56xMMQeBpfX+2v29NK5WAQA4-Vq=wzWUrPpspA0Q@mail.gmail.com>
 <CAL5Q6725Wi=-bFHCNU-9-TbYjVhMM-=A0uBDV+BTDzu3pnZbYg@mail.gmail.com>
 <20180919092538.bq7rhx2l3gzkoocn@norbit.de>
Message-ID: <CAL5Q671xtrO4-gHGP35=-nvcwsWs0fwszHvo0VGqCFZUBK0oXA@mail.gmail.com>

On Wed, Sep 19, 2018 at 11:26 AM JÃ¼rgen E. Fischer <jef at norbit.de> wrote:

> Hi Alessandro,
>
> On Wed, 19. Sep 2018 at 10:46:05 +0200, Alessandro Pasotti wrote:
> > See https://issues.qgis.org/issues/19879
>
> > I didn't have time yet to look into it but I've been able to reproduce on
> > Windows, it looks more like a CMake/installation issue, maybe Juergen
> would
> > be the best candidate for a quick fix.
>
> Um, I started, but rolled back my work once I noticed that you already
> assigned
> it to you - and just linked #19853 with which's fix I probably introduced
> the
> problem.
>

Thanks JÃ¼rgen! I'm more than happy to leave it to you :)

I thought it might be related with my recent changes with QLocale, that's
why I started looking at that bug but I run out of time yesterday and I was
just able to confirm it on windows.

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/ebf1504c/attachment-0001.html>

From jef at norbit.de  Wed Sep 19 02:36:33 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed, 19 Sep 2018 11:36:33 +0200
Subject: [QGIS-Developer] [Qgis-tr] Missing translated strings in
	localized master
In-Reply-To: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
References: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
Message-ID: <20180919093633.k5jmmtsecu5aiue2@norbit.de>

Hi,

On Wed, 19. Sep 2018 at 10:28:36 +0200, DelazJ wrote:
> See for example the attached screenshots where some strings are still in
> English though no untranslated occurrences is available on Transifex, as
> shown with the "Print Layout..." example.

If it was "Print Layout..." there wouldn't be a problem - but it's "Print
Layoutâ¦" and that's apparently an issue on Windows (at least with Qt 5.9).
On Linux it works and I hope that it will solve itself with a Qt update.


JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/d3fcc7ce/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/d3fcc7ce/attachment.ksh>

From delazj at gmail.com  Wed Sep 19 03:20:21 2018
From: delazj at gmail.com (DelazJ)
Date: Wed, 19 Sep 2018 12:20:21 +0200
Subject: [QGIS-Developer] [Qgis-tr] Missing translated strings in
 localized master
In-Reply-To: <20180919093633.k5jmmtsecu5aiue2@norbit.de>
References: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
 <20180919093633.k5jmmtsecu5aiue2@norbit.de>
Message-ID: <CAECJsSrsKMQtyg6YSqE8HOKbHDUOh1q72AaSFrtfVnOwvsj-KQ@mail.gmail.com>

Oh yes, that's it. Thanks JÃ¼rgen. Browsing the dialogs/menus, I agree that
the use of ellipsis instead of 3 dots is the problem: whenever the original
label is with ellipsis, the translation is not used. And given how spread
those characters are used in the application, I'm afraid this is a big
issue for Windows non-English users (would be a pity for a LTR release).

Harrissou


Le mer. 19 sept. 2018 Ã  11:37, JÃ¼rgen E. Fischer <jef at norbit.de> a Ã©crit :

> Hi,
>
> On Wed, 19. Sep 2018 at 10:28:36 +0200, DelazJ wrote:
> > See for example the attached screenshots where some strings are still in
> > English though no untranslated occurrences is available on Transifex, as
> > shown with the "Print Layout..." example.
>
> If it was "Print Layout..." there wouldn't be a problem - but it's "Print
> Layoutâ¦" and that's apparently an issue on Windows (at least with Qt 5.9).
> On Linux it works and I hope that it will solve itself with a Qt update.
>
>
> JÃ¼rgen
>
> --
> JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden
> http://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/321616e2/attachment.html>

From skampus at gmail.com  Wed Sep 19 03:22:44 2018
From: skampus at gmail.com (Stefano Campus)
Date: Wed, 19 Sep 2018 12:22:44 +0200
Subject: [QGIS-Developer] [Qgis-tr] Missing translated strings in
	localized master
In-Reply-To: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
References: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
Message-ID: <CAHw6TZc+Lh6CgX+Xs6N5PJh2ywr=e+nCAZtjJKcW161cZLrzYA@mail.gmail.com>

I see similar problems problems in Italian version of QGIS 2.18.x.
There are some strings that appear in english but they are not present in
original .qm file.
these strings are not translated in other languages, for example in Spanish.

Some of these strings are (thx TotÃ² Fiandaca for the picture):

http://osgeo-org.1560.x6.nabble.com/file/t378656/traduzione.png

I think that Transifex should be contain all version of QGIS that are still
supported and not only the Master version.
For example, during this period of coexistence between the QGIS 2.18.x LTR
version and the 3.x versions, the two transifex projects should remain
active for the master and for the 2.18 that is still released with updates.

ciao

s.




Il giorno mer 19 set 2018 alle ore 10:29 DelazJ <delazj at gmail.com> ha
scritto:

> Transifex Webtranslation page for QGIS is on
> https://www.transifex.com/qgis/
>
> Hi,
>
> I've been reported some missing translations we have in the French
> interface of QGIS: there are some strings that are translated in Transifex
> (for weeks, months now) that do not appear in localized QGIS.
> See for example the attached screenshots where some strings are still in
> English though no untranslated occurrences is available on Transifex, as
> shown with the "Print Layout..." example.
>
> Are these issues only french ones? And could that be fixed to improve our
> translators experience and expect a full translation of the next LTR,
> please?
>
> Thanks.
> Regards,
> Harrissou
>
> _______________________________________________
> QGIS-Translators mailing list
> Qgis-tr at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-tr
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/28ca4d9a/attachment.html>

From skampus at gmail.com  Wed Sep 19 04:37:20 2018
From: skampus at gmail.com (skampus)
Date: Wed, 19 Sep 2018 04:37:20 -0700 (MST)
Subject: [QGIS-Developer] Missing translated strings in localized master
In-Reply-To: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
References: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
Message-ID: <1537357040036-0.post@n6.nabble.com>

I see similar problems problems in Italian version of QGIS 2.18.x.
There are some strings that appear in english but they are not present in
original .qm file.
these strings are not translated in other languages, for example in Spanish.

Some of these strings are (thx TotÃ² Fiandaca for the picture):

http://osgeo-org.1560.x6.nabble.com/file/t378656/traduzione.png

I think that Transifex should be contain all version of QGIS that are still
supported and not only the Master version.
For example, during this period of coexistence between the QGIS 2.18.x LTR
version and the 3.x versions, the two transifex projects should remain
active for the master and for the 2.18 that is still released with updates.

ciao

s.







--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From jef at norbit.de  Wed Sep 19 05:17:18 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed, 19 Sep 2018 14:17:18 +0200
Subject: [QGIS-Developer] [Qgis-tr] Missing translated strings in
 localized master
In-Reply-To: <CAHw6TZc+Lh6CgX+Xs6N5PJh2ywr=e+nCAZtjJKcW161cZLrzYA@mail.gmail.com>
References: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
 <CAHw6TZc+Lh6CgX+Xs6N5PJh2ywr=e+nCAZtjJKcW161cZLrzYA@mail.gmail.com>
Message-ID: <20180919121717.sovjop2lebuopiow@norbit.de>

Hi Stefano,

On Wed, 19. Sep 2018 at 12:22:44 +0200, Stefano Campus wrote:
> I see similar problems problems in Italian version of QGIS 2.18.x.  There are
> some strings that appear in english but they are not present in original .qm
> file.
> these strings are not translated in other languages, for example in Spanish.
> Some of these strings are (thx TotÃ² Fiandaca for the picture):
> http://osgeo-org.1560.x6.nabble.com/file/t378656/traduzione.png
> I think that Transifex should be contain all version of QGIS that are still
> supported and not only the Master version.
> For example, during this period of coexistence between the QGIS 2.18.x LTR
> version and the 3.x versions, the two transifex projects should remain
> active for the master and for the 2.18 that is still released with updates.

Currently we only have master in transifex.  For the release branches it's
handled like it's used to (ie. scripts/update_ts.sh and linguist).


JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/bf560b85/attachment-0001.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/bf560b85/attachment-0001.ksh>

From siki at agt.bme.hu  Wed Sep 19 05:14:22 2018
From: siki at agt.bme.hu (Siki Zoltan)
Date: Wed, 19 Sep 2018 14:14:22 +0200 (CEST)
Subject: [QGIS-Developer] [Qgis-tr] Missing translated strings in
	localized master
In-Reply-To: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
References: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
Message-ID: <Pine.LNX.4.64.1809191410490.12256@bme-geod>

Hi,

it is the same for the Hungarian translation.
In QGIS 3.2.x some menu options are shown in English, but those are 
translated from the very beginnig (version 0.9).

Regards,
Zoltan

On Wed, 19 Sep 2018, DelazJ wrote:

> Transifex Webtranslation page for QGIS is on https://www.transifex.com/qgis/

From lists at borysjurgiel.pl  Wed Sep 19 06:14:09 2018
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Wed, 19 Sep 2018 15:14:09 +0200
Subject: [QGIS-Developer] [Qgis-tr] Missing translated strings in
	localized master
In-Reply-To: <CAECJsSrsKMQtyg6YSqE8HOKbHDUOh1q72AaSFrtfVnOwvsj-KQ@mail.gmail.com>
References: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
 <20180919093633.k5jmmtsecu5aiue2@norbit.de>
 <CAECJsSrsKMQtyg6YSqE8HOKbHDUOh1q72AaSFrtfVnOwvsj-KQ@mail.gmail.com>
Message-ID: <1831561.vYk0dfWZmO@debian>

As far as I remember, when I've built the .qm file in Linux and installed 
manually in Windows, it worked fine. So looks like a build issue. 

It doesn't help to solve the issue, but at least it's a workaround for power 
users / support providers...

B.


Dnia Åroda, 19 wrzeÅnia 2018 12:20:21 CEST DelazJ pisze:

> Oh yes, that's it. Thanks JÃ¼rgen. Browsing the dialogs/menus, I agree that
> the use of ellipsis instead of 3 dots is the problem: whenever the original
> label is with ellipsis, the translation is not used. And given how spread
> those characters are used in the application, I'm afraid this is a big issue
> for Windows non-English users (would be a pity for a LTR release). 



From delazj at gmail.com  Wed Sep 19 06:40:42 2018
From: delazj at gmail.com (DelazJ)
Date: Wed, 19 Sep 2018 15:40:42 +0200
Subject: [QGIS-Developer] [Qgis-tr] Missing translated strings in
 localized master
In-Reply-To: <1831561.vYk0dfWZmO@debian>
References: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
 <20180919093633.k5jmmtsecu5aiue2@norbit.de>
 <CAECJsSrsKMQtyg6YSqE8HOKbHDUOh1q72AaSFrtfVnOwvsj-KQ@mail.gmail.com>
 <1831561.vYk0dfWZmO@debian>
Message-ID: <CAECJsSrGmFf5Huhu3m+qfkEVs4=8XO-o0UG3SKt3mDGAc3n_og@mail.gmail.com>

Seems like this ellipsis issue have been reported/discussed a while ago:
https://lists.osgeo.org/pipermail/qgis-tr/2018-February/000884.html

H

Le mer. 19 sept. 2018 Ã  15:14, Borys Jurgiel <lists at borysjurgiel.pl> a
Ã©crit :

> As far as I remember, when I've built the .qm file in Linux and installed
> manually in Windows, it worked fine. So looks like a build issue.
>
> It doesn't help to solve the issue, but at least it's a workaround for
> power
> users / support providers...
>
> B.
>
>
> Dnia Åroda, 19 wrzeÅnia 2018 12:20:21 CEST DelazJ pisze:
>
> > Oh yes, that's it. Thanks JÃ¼rgen. Browsing the dialogs/menus, I agree
> that
> > the use of ellipsis instead of 3 dots is the problem: whenever the
> original
> > label is with ellipsis, the translation is not used. And given how spread
> > those characters are used in the application, I'm afraid this is a big
> issue
> > for Windows non-English users (would be a pity for a LTR release).
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/20d79983/attachment.html>

From jef at norbit.de  Wed Sep 19 06:50:38 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed, 19 Sep 2018 15:50:38 +0200
Subject: [QGIS-Developer] [Qgis-tr] Missing translated strings in
 localized master
In-Reply-To: <1831561.vYk0dfWZmO@debian>
References: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
 <20180919093633.k5jmmtsecu5aiue2@norbit.de>
 <CAECJsSrsKMQtyg6YSqE8HOKbHDUOh1q72AaSFrtfVnOwvsj-KQ@mail.gmail.com>
 <1831561.vYk0dfWZmO@debian>
Message-ID: <20180919135038.ei7tl4gg6qjyixml@norbit.de>

Hi Borys,

On Wed, 19. Sep 2018 at 15:14:09 +0200, Borys Jurgiel wrote:
> As far as I remember, when I've built the .qm file in Linux and installed 
> manually in Windows, it worked fine. So looks like a build issue. 

I didn't try that.  Good catch.  The qm from the linux nightly works fine with
the windows nightly.  So it's apparently just something about lrelease on
Windowsâ¦


JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/66e819d0/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/66e819d0/attachment.ksh>

From tom.chadwin at nnpa.org.uk  Wed Sep 19 07:06:07 2018
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Wed, 19 Sep 2018 07:06:07 -0700 (MST)
Subject: [QGIS-Developer] Travis for plugin: "Processing(2): Error:
 Algorithm gdal:warpreproject not found"
Message-ID: <1537365967626-0.post@n6.nabble.com>

Hello all

I've never managed to get tests of Processing GDAL algorithms to run under
Travis for qgis2web. It returns:

Processing(2): Error: Algorithm gdal:warpreproject not found

(eg https://travis-ci.org/tomchadwin/qgis2web/jobs/430529787#L874)

Someone (possibly Nyall?) must have realized this was an issue some time
ago, and added the following to some tests:

@unittest.skipIf(int(gdal.VersionInfo('VERSION_NUM')) >=
GDAL_COMPUTE_VERSION(2, 0, 0), 'Test requires updating for GDAL 2.0')

These ones are indeed skipped (eg
https://travis-ci.org/tomchadwin/qgis2web/jobs/430529787#L1021)

Can I get this working? I'm only testing against release and dev (not LTR).

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From etienne.trimaille at gmail.com  Wed Sep 19 07:22:50 2018
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Wed, 19 Sep 2018 10:22:50 -0400
Subject: [QGIS-Developer] Travis for plugin: "Processing(2): Error:
 Algorithm gdal:warpreproject not found"
In-Reply-To: <1537365967626-0.post@n6.nabble.com>
References: <1537365967626-0.post@n6.nabble.com>
Message-ID: <CAMtDFLJzUUKCo3v7TC6oyR_wJxsNumg9etMm-p32mgOcas3eLA@mail.gmail.com>

I can't help you too much. But maybe have a look to what has been done by
Nyall in InaSAFE:
https://github.com/inasafe/inasafe/blob/develop/safe/gis/processing_tools.py#L21
There is one GDAL algorithm, running on travis.

Le mer. 19 sept. 2018 Ã  10:06, Tom Chadwin <tom.chadwin at nnpa.org.uk> a
Ã©crit :

> Hello all
>
> I've never managed to get tests of Processing GDAL algorithms to run under
> Travis for qgis2web. It returns:
>
> Processing(2): Error: Algorithm gdal:warpreproject not found
>
> (eg https://travis-ci.org/tomchadwin/qgis2web/jobs/430529787#L874)
>
> Someone (possibly Nyall?) must have realized this was an issue some time
> ago, and added the following to some tests:
>
> @unittest.skipIf(int(gdal.VersionInfo('VERSION_NUM')) >=
> GDAL_COMPUTE_VERSION(2, 0, 0), 'Test requires updating for GDAL 2.0')
>
> These ones are indeed skipped (eg
> https://travis-ci.org/tomchadwin/qgis2web/jobs/430529787#L1021)
>
> Can I get this working? I'm only testing against release and dev (not LTR).
>
> Thanks
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from:
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/7c7a3494/attachment.html>

From jef at norbit.de  Wed Sep 19 10:26:31 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed, 19 Sep 2018 19:26:31 +0200
Subject: [QGIS-Developer] [Qgis-tr] Missing translated strings in
 localized master
In-Reply-To: <20180919135038.ei7tl4gg6qjyixml@norbit.de>
References: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
 <20180919093633.k5jmmtsecu5aiue2@norbit.de>
 <CAECJsSrsKMQtyg6YSqE8HOKbHDUOh1q72AaSFrtfVnOwvsj-KQ@mail.gmail.com>
 <1831561.vYk0dfWZmO@debian>
 <20180919135038.ei7tl4gg6qjyixml@norbit.de>
Message-ID: <20180919172631.dyy2vqbnnjdawcuk@norbit.de>

Hi,

On Wed, 19. Sep 2018 at 15:50:38 +0200, JÃ¼rgen E. Fischer wrote:
> I didn't try that.  Good catch.  The qm from the linux nightly works fine with
> the windows nightly.  So it's apparently just something about lrelease on
> Windowsâ¦

Ouch.  Actually it was neither a windows nor a Qt issue - just the old Qt4
lrelease was usedâ¦


JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/f87e1ade/attachment-0001.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180919/f87e1ade/attachment-0001.ksh>

From delazj at gmail.com  Thu Sep 20 01:58:04 2018
From: delazj at gmail.com (DelazJ)
Date: Thu, 20 Sep 2018 10:58:04 +0200
Subject: [QGIS-Developer] [Qgis-tr] Missing translated strings in
 localized master
In-Reply-To: <20180919172631.dyy2vqbnnjdawcuk@norbit.de>
References: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
 <20180919093633.k5jmmtsecu5aiue2@norbit.de>
 <CAECJsSrsKMQtyg6YSqE8HOKbHDUOh1q72AaSFrtfVnOwvsj-KQ@mail.gmail.com>
 <1831561.vYk0dfWZmO@debian> <20180919135038.ei7tl4gg6qjyixml@norbit.de>
 <20180919172631.dyy2vqbnnjdawcuk@norbit.de>
Message-ID: <CAECJsSqqpPMh-OJFr-UQRO5GFJZDzr5kSSGrnsfxB73F95RkuA@mail.gmail.com>

Hi all,

Thank you, JÃ¼rgen. I confirm that translations are back.

Regards,
Harrissou

Le mer. 19 sept. 2018 Ã  19:27, JÃ¼rgen E. Fischer <jef at norbit.de> a Ã©crit :

> Hi,
>
> On Wed, 19. Sep 2018 at 15:50:38 +0200, JÃ¼rgen E. Fischer wrote:
> > I didn't try that.  Good catch.  The qm from the linux nightly works
> fine with
> > the windows nightly.  So it's apparently just something about lrelease on
> > Windowsâ¦
>
> Ouch.  Actually it was neither a windows nor a Qt issue - just the old Qt4
> lrelease was usedâ¦
>
>
> JÃ¼rgen
>
> --
> JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden
> http://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180920/5576d67a/attachment.html>

From adam.borczyk at gis-support.pl  Thu Sep 20 05:19:14 2018
From: adam.borczyk at gis-support.pl (Adam Borczyk)
Date: Thu, 20 Sep 2018 14:19:14 +0200
Subject: [QGIS-Developer] QGIS Server QGIS_PROJECT_FILE ignoring MAP
	parameter?
Message-ID: <CA+qEb=0JW4bAejr=+zP9GyL8Z3VQ_CcaO+Nyn5Ov_Tm-M84MOw@mail.gmail.com>

Hi everyone,
is it expected behaviour for QGIS Server 2.18 to ignore MAP parameter in
URL when QGIS_PROJECT_FILE environment variable is set?

I have QGIS_PROJECT_FILE set, so my endpoint "/wms" serves default project,
but I'd like to access another project from the same endpoint - I'm trying
here with just specifying MAP parameter, but changing it's value does not
affect response in any way. In fact, I can do "&MAP=asdfasdf" and still get
default project, while changing other parameters works normally.

I though Environment Variable works as default option that you can
override, but it seems it doesn't?

Best regards
Adam Borczyk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180920/dd24119a/attachment.html>

From adam.borczyk at gis-support.pl  Thu Sep 20 05:22:39 2018
From: adam.borczyk at gis-support.pl (Adam Borczyk)
Date: Thu, 20 Sep 2018 14:22:39 +0200
Subject: [QGIS-Developer] QGIS Server QGIS_PROJECT_FILE ignoring MAP
	parameter?
In-Reply-To: <CA+qEb=0JW4bAejr=+zP9GyL8Z3VQ_CcaO+Nyn5Ov_Tm-M84MOw@mail.gmail.com>
References: <CA+qEb=0JW4bAejr=+zP9GyL8Z3VQ_CcaO+Nyn5Ov_Tm-M84MOw@mail.gmail.com>
Message-ID: <CA+qEb=3hj76MH41003ciMD8xPgARRV5EALY2RrhuTYNPqi=_LA@mail.gmail.com>

Forgot my config if it matters:
- Ubuntu server 18.04
- QGIS Server 2.18
- Apache 2.4.29 (config: https://pastebin.com/QnTc19Gj )


On Thu, 20 Sep 2018 at 14:19, Adam Borczyk <adam.borczyk at gis-support.pl>
wrote:

> Hi everyone,
> is it expected behaviour for QGIS Server 2.18 to ignore MAP parameter in
> URL when QGIS_PROJECT_FILE environment variable is set?
>
> I have QGIS_PROJECT_FILE set, so my endpoint "/wms" serves default
> project, but I'd like to access another project from the same endpoint -
> I'm trying here with just specifying MAP parameter, but changing it's value
> does not affect response in any way. In fact, I can do "&MAP=asdfasdf" and
> still get default project, while changing other parameters works normally.
>
> I though Environment Variable works as default option that you can
> override, but it seems it doesn't?
>
> Best regards
> Adam Borczyk
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180920/b76d97eb/attachment.html>

From stephane.brunner at camptocamp.com  Thu Sep 20 05:26:08 2018
From: stephane.brunner at camptocamp.com (=?UTF-8?Q?St=C3=A9phane_Brunner?=)
Date: Thu, 20 Sep 2018 14:26:08 +0200
Subject: [QGIS-Developer] QGIS Server QGIS_PROJECT_FILE ignoring MAP
	parameter?
In-Reply-To: <CA+qEb=3hj76MH41003ciMD8xPgARRV5EALY2RrhuTYNPqi=_LA@mail.gmail.com>
References: <CA+qEb=0JW4bAejr=+zP9GyL8Z3VQ_CcaO+Nyn5Ov_Tm-M84MOw@mail.gmail.com>
 <CA+qEb=3hj76MH41003ciMD8xPgARRV5EALY2RrhuTYNPqi=_LA@mail.gmail.com>
Message-ID: <CAChDcoT7nKy_ctpJGBP4eWcKsCjFX9c1aZrQdDyUV8JOxaWReQ@mail.gmail.com>

Hello,

2018-09-20 14:22 GMT+02:00 Adam Borczyk <adam.borczyk at gis-support.pl>:

> Forgot my config if it matters:
> - Ubuntu server 18.04
> - QGIS Server 2.18
> - Apache 2.4.29 (config: https://pastebin.com/QnTc19Gj )
>
>
> On Thu, 20 Sep 2018 at 14:19, Adam Borczyk <adam.borczyk at gis-support.pl>
> wrote:
>
>> Hi everyone,
>> is it expected behaviour for QGIS Server 2.18 to ignore MAP parameter in
>> URL when QGIS_PROJECT_FILE environment variable is set?
>>
>
Yes, because I want to publish only one project, we don't want that a user
can build a request to access to an other project...

Sincerely
StÃ©phane



>
>> I have QGIS_PROJECT_FILE set, so my endpoint "/wms" serves default
>> project, but I'd like to access another project from the same endpoint -
>> I'm trying here with just specifying MAP parameter, but changing it's value
>> does not affect response in any way. In fact, I can do "&MAP=asdfasdf" and
>> still get default project, while changing other parameters works normally.
>>
>> I though Environment Variable works as default option that you can
>> override, but it seems it doesn't?
>>
>> Best regards
>> Adam Borczyk
>>
>>
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 

*StÃ©phane Brunner*
Geospatial Solutions
Software Developer

*camptocamp*
INNOVATIVE SOLUTIONS
BY OPEN SOURCE EXPERTS

camptocamp.com
mapfish.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180920/1f8e08f2/attachment-0001.html>

From noreply at qgis.org  Thu Sep 20 05:44:33 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 20 Sep 2018 12:44:33 -0000
Subject: [QGIS-Developer] Plugin [1377] TlugProcessing approval notification.
Message-ID: <20180920124433.10857.32148@2c6504964296>


Plugin TlugProcessing approval by pcav.
The plugin version "[1377] TlugProcessing 2.2" is now approved
Link: http://plugins.qgis.org/plugins/TlugProcessing/

From adam.borczyk at gis-support.pl  Thu Sep 20 07:03:48 2018
From: adam.borczyk at gis-support.pl (Adam Borczyk)
Date: Thu, 20 Sep 2018 16:03:48 +0200
Subject: [QGIS-Developer] QGIS Server QGIS_PROJECT_FILE ignoring MAP
	parameter?
In-Reply-To: <CAChDcoT7nKy_ctpJGBP4eWcKsCjFX9c1aZrQdDyUV8JOxaWReQ@mail.gmail.com>
References: <CA+qEb=0JW4bAejr=+zP9GyL8Z3VQ_CcaO+Nyn5Ov_Tm-M84MOw@mail.gmail.com>
 <CA+qEb=3hj76MH41003ciMD8xPgARRV5EALY2RrhuTYNPqi=_LA@mail.gmail.com>
 <CAChDcoT7nKy_ctpJGBP4eWcKsCjFX9c1aZrQdDyUV8JOxaWReQ@mail.gmail.com>
Message-ID: <CA+qEb=2UYut3_6VNdGXA1_u7JhQ-EbD9b=Mi5-X52qfj_CnkDw@mail.gmail.com>

Hi,

On Thu, 20 Sep 2018 at 14:26, StÃ©phane Brunner <
stephane.brunner at camptocamp.com> wrote:

> Hello,
>
> 2018-09-20 14:22 GMT+02:00 Adam Borczyk <adam.borczyk at gis-support.pl>:
>
>> Forgot my config if it matters:
>> - Ubuntu server 18.04
>> - QGIS Server 2.18
>> - Apache 2.4.29 (config: https://pastebin.com/QnTc19Gj )
>>
>>
>> On Thu, 20 Sep 2018 at 14:19, Adam Borczyk <adam.borczyk at gis-support.pl>
>> wrote:
>>
>>> Hi everyone,
>>> is it expected behaviour for QGIS Server 2.18 to ignore MAP parameter in
>>> URL when QGIS_PROJECT_FILE environment variable is set?
>>>
>>
> Yes, because I want to publish only one project, we don't want that a user
> can build a request to access to an other project...
>

I think this could be written more explicitly in the documentation that it
is the purpose of setting environment variable and that it cannot be
overriden. Anyway, thanks for your help, thing is clear now.

Best regards
Adam


>
> Sincerely
> StÃ©phane
>
>
>
>>
>>> I have QGIS_PROJECT_FILE set, so my endpoint "/wms" serves default
>>> project, but I'd like to access another project from the same endpoint -
>>> I'm trying here with just specifying MAP parameter, but changing it's value
>>> does not affect response in any way. In fact, I can do "&MAP=asdfasdf" and
>>> still get default project, while changing other parameters works normally.
>>>
>>> I though Environment Variable works as default option that you can
>>> override, but it seems it doesn't?
>>>
>>> Best regards
>>> Adam Borczyk
>>>
>>>
>>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
>
> *StÃ©phane Brunner*
> Geospatial Solutions
> Software Developer
>
> *camptocamp*
> INNOVATIVE SOLUTIONS
> BY OPEN SOURCE EXPERTS
>
> camptocamp.com
> mapfish.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180920/9d7a3f7b/attachment.html>

From tom.chadwin at nnpa.org.uk  Thu Sep 20 07:24:28 2018
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Thu, 20 Sep 2018 07:24:28 -0700 (MST)
Subject: [QGIS-Developer] Edit widget browse button crashes QGIS (hub:#19118)
Message-ID: <1537453468526-0.post@n6.nabble.com>

Hello all

Has anyone been able to make any progress with
https://issues.qgis.org/issues/19118? It seems severe to me, but perhaps the
fact that ?only Windows users have reproduced the issue means it hasn't had
much attention? If I can help with debugging or testing, let me know.

I'm specifically interested, as that edit widget is what allows images in
info popups in qgis2web exports, so I've been unable to investigate and
solve issues such as https://github.com/tomchadwin/qgis2web/issues/661.

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From nyall.dawson at gmail.com  Thu Sep 20 15:26:20 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 21 Sep 2018 08:26:20 +1000
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
Message-ID: <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>

On Wed, 19 Sep 2018 at 05:58, C Hamilton <adenaculture at gmail.com> wrote:

> If you have any suggestions I would welcome them.

Shape Tools is fantastic, and plugs a much needed gap in QGIS core
functionality. Lovely work!

Can I strongly encourage you to investigate porting some of these
features/fixes over to QGIS core? You've obviously got the talent and
knowledge to do so, and it'd be great to offer this functionality
out-of-the-box. I'm available for mentoring if you need assistance
with QGIS core development/build setup/general c++ help!

Nyall

From denis.rouzaud at gmail.com  Thu Sep 20 17:52:18 2018
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 20 Sep 2018 20:52:18 -0400
Subject: [QGIS-Developer] redmine having delays to send issue activity
Message-ID: <CAMtsY+aKh23PGjYb2u6DeQQb6hZzREogP1D7a_mMhEHjt8yzsw@mail.gmail.com>

Hi all,

I have been noticing some delays on mail sending from our bug tracker.
It seems to be a bit random, I have been receiving mail about 1 or 3 hours
later, but I just received one 23h after the modification [0] (I have
received others in between).

Is it getting tired ? ;)

Denis

[0] https://issues.qgis.org/issues/18915#change-93050
-- 

Denis Rouzaud
denis at opengis.ch  <denis at opengis.ch>
+41 76 370 21 22
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180920/671c73f4/attachment.html>

From nyall.dawson at gmail.com  Thu Sep 20 18:49:01 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 21 Sep 2018 11:49:01 +1000
Subject: [QGIS-Developer] Export PDFs from the processing modeler
In-Reply-To: <CAExk7p1bqxweis5CX83W8BRXuN2+Xw5G=5AFccDZ0CVZQVWB3w@mail.gmail.com>
References: <CAExk7p3m5C6uYur8455L=19ntBOPC5mk_ABgDrg2TiZf157_NQ@mail.gmail.com>
 <CAB28AsheDkz2uHwsuMsrgSC=yT4Z5na38X5D=mvHsimxqWgiHw@mail.gmail.com>
 <CAExk7p2-yxR0g-PArVzQEH_SVFEtnd=vCAquAnou8ywGMc_CbQ@mail.gmail.com>
 <CAExk7p1bqxweis5CX83W8BRXuN2+Xw5G=5AFccDZ0CVZQVWB3w@mail.gmail.com>
Message-ID: <CAB28Ash=3cgTRGdOfGYsjPu_6J6pnbSwUtNqtPUXizrZU=XixA@mail.gmail.com>

On Thu, 13 Sep 2018 at 09:30, Olivier Dalang <olivier.dalang at gmail.com> wrote:

> So far, I sticked to my first intuition which was to use a project as the starting point (rather than just a layout). The algorithm just allows to "override" the datasource from layers in that project. The rationale is that the project may contain relatively complex logic (atlas configuration, table joins, etc...), and that this way, everything would (hopefully) continue to work if it worked in the initial project.
>
> If taking a layout as a starting point, we'd almost have to recreate projects in the processing model, which would quickly be limiting or over-complex. With "lock layers" and "lock styles", we could at least use some predefined layers, but then it's much less practical to work with and still isn't as flexible as using a whole project.
>
>
> There's a few bugs in QGIS master that are a bit annoying (esp. https://issues.qgis.org/issues/19836 that prevents the sample model to work in batch mode), I'll try to see if I can figure out what's happening but C++ isn't my cup of tea...
>
> But besides this, no major technical limitation I think ! I've written down a few ideas for next steps in the readme (short&longer term).
>
> Let me know what you think !

Great work!

I've uploaded my layout widgets & utility algorithms. Might be worth
pulling these in too:
https://github.com/nyalldawson/pyqgis/blob/master/processing/layout_algorithms.py

Nyall

From olivier.dalang at gmail.com  Thu Sep 20 19:59:19 2018
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Fri, 21 Sep 2018 14:59:19 +1200
Subject: [QGIS-Developer] Best way to run external command line tools
 because of overwritten system path
Message-ID: <CAExk7p2GA9hf-y_nYsvdvMhxzbveayUnhRZ-pZtnH2QNqaJgzg@mail.gmail.com>

Dear list,

In a python plugin, I need to call an external command line tool (docker)
through subprocess.

However, it seems this is not as easy as it seem, as at least on Windows,
the system path is reset on startup. I think this happens in o4w_env.bat :

REM start with clean path
set path=%OSGEO4W_ROOT%\bin;%WINDIR%\system32;%WINDIR%;%WINDIR%
\system32\WBem


I understand the idea behind this, as it probably avoids some complicated
issues of conflicting tools. But it also makes it hard to use external
tools.

What is the recommend way to do it ?

I found that old thread :
https://gis.stackexchange.com/questions/107204/system-variable-path-overwritten-in-qgis
where there's a suggestion to retrieve the path from the registry. But that
looks a bit fragile (and windows only).

Another one could be to add a setting in the plugin to specify the path of
the executable, but this is relatively technical (you need to explain to
the user where to find the executable, which will be hard especially if
it's not in a standard place).

Would it be an option to keep a copy of the original path env var, that
could be used when needed in the code ?

Thanks !!

Olivier
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180921/80f1991c/attachment.html>

From siki at agt.bme.hu  Thu Sep 20 21:49:53 2018
From: siki at agt.bme.hu (Siki Zoltan)
Date: Fri, 21 Sep 2018 06:49:53 +0200 (CEST)
Subject: [QGIS-Developer] [Qgis-tr] Missing translated strings in
 localized master
In-Reply-To: <CAECJsSqqpPMh-OJFr-UQRO5GFJZDzr5kSSGrnsfxB73F95RkuA@mail.gmail.com>
References: <CAECJsSrRRUxpe_zzrboSX3b86F0FW5A89Y-apT4sTL9tUWymeA@mail.gmail.com>
 <20180919093633.k5jmmtsecu5aiue2@norbit.de>
 <CAECJsSrsKMQtyg6YSqE8HOKbHDUOh1q72AaSFrtfVnOwvsj-KQ@mail.gmail.com>
 <1831561.vYk0dfWZmO@debian> <20180919135038.ei7tl4gg6qjyixml@norbit.de>
 <20180919172631.dyy2vqbnnjdawcuk@norbit.de>
 <CAECJsSqqpPMh-OJFr-UQRO5GFJZDzr5kSSGrnsfxB73F95RkuA@mail.gmail.com>
Message-ID: <Pine.LNX.4.64.1809210647020.26279@bme-geod>


Thanks JÃ¼rgen, in 3.2.3-Bonn the missing HUngarian translations in the 
menu came back.

Zoltan

On Thu, 20 Sep 2018, DelazJ wrote:

> Transifex Webtranslation page for QGIS is on https://www.transifex.com/qgis/

From noreply at qgis.org  Fri Sep 21 00:02:31 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 21 Sep 2018 07:02:31 -0000
Subject: [QGIS-Developer] Plugin [1066] Isogeo approval notification.
Message-ID: <20180921070231.22563.68520@2c6504964296>


Plugin Isogeo approval by pcav.
The plugin version "[1066] Isogeo 1.6.1" is now approved
Link: http://plugins.qgis.org/plugins/isogeo_search_engine/

From noreply at qgis.org  Fri Sep 21 00:51:28 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 21 Sep 2018 07:51:28 -0000
Subject: [QGIS-Developer] Plugin [1163] Plugin Load Times approval
	notification.
Message-ID: <20180921075128.22563.8231@2c6504964296>


Plugin Plugin Load Times approval by pcav.
The plugin version "[1163] Plugin Load Times 2.0.5" is now approved
Link: http://plugins.qgis.org/plugins/PluginLoadTimes/

From regis.haubourg at gmail.com  Fri Sep 21 01:15:18 2018
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Fri, 21 Sep 2018 10:15:18 +0200
Subject: [QGIS-Developer] Ubuntu 16.04 xenial broken dependency for
	qml-module-qtcharts
In-Reply-To: <CABgOYCeewwsqHaDCW+2FR=dmhu=BsvjV33VJEr2wuX9qV2X3zw@mail.gmail.com>
References: <CABgOYCcoi9KTBD_BQmOMMjndc7y2Z+ZrCKFBDSHz8J+YKsFTvw@mail.gmail.com>
 <20180918112614.rut5b2ktlvr3k7ti@norbit.de>
 <CABgOYCeewwsqHaDCW+2FR=dmhu=BsvjV33VJEr2wuX9qV2X3zw@mail.gmail.com>
Message-ID: <CABgOYCfSy-thYDi5uC0GGULyCrzy_pNGdBSqM0hkb4pWE5ViiA@mail.gmail.com>

Mmm, I'm still stuck in xenial for nightlies.

Cdash [0] doesn't show anymore builds for xenial:
https://dash.orfeo-toolbox.org/index.php?project=QGIS&date=2018-09-21

Is it just me?
RÃ©gis

2018-09-18 13:50 GMT+02:00 RÃ©gis Haubourg <regis.haubourg at gmail.com>:

> Thanks JÃ¼rgen,
> I'll check that tomorrow then.
> Cheers
> RÃ©gis
>
> Le mar. 18 sept. 2018 Ã  13:27, JÃ¼rgen E. Fischer <jef at norbit.de> a Ã©crit :
>
>> Hi RÃ©gis,
>>
>> On Tue, 18. Sep 2018 at 12:01:20 +0200, RÃ©gis Haubourg wrote:
>> > My nightly packages updates just fell broken today because of a missing
>> > dependency for qml-module-qtcharts .
>> > I suppose this is related to https://github.com/qgis/QGIS/pull/7801
>> > It seems it is not packaged in Ubuntu 16.04. Does that mean that QGIS
>> won't
>> > support anymore ubuntu xenial for 3.4 ?
>>
>> The next build will not have that dependency (see cab5fe02d).  I suppose
>> that
>> only affects bar and pie charts in forms.
>>
>>
>> JÃ¼rgen
>>
>> --
>> JÃ¼rgen E. Fischer           norBIT GmbH             Tel.
>> +49-4931-918175-31
>> Dipl.-Inf. (FH)             RheinstraÃe 13          Fax.
>> +49-4931-918175-50
>> Software Engineer           D-26506 Norden
>> http://www.norbit.de
>> QGIS release manager (PSC)  Germany                    IRC: jef on
>> FreeNode
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180921/eb1b12f0/attachment-0001.html>

From adam.borczyk at gis-support.pl  Fri Sep 21 02:40:48 2018
From: adam.borczyk at gis-support.pl (Adam Borczyk)
Date: Fri, 21 Sep 2018 11:40:48 +0200
Subject: [QGIS-Developer] QGIS Server QGIS_PROJECT_FILE ignoring MAP
	parameter?
In-Reply-To: <cbd64206e2baf9a7a4fddcd080afeedf@clermontmetropole.eu>
References: <CA+qEb=0JW4bAejr=+zP9GyL8Z3VQ_CcaO+Nyn5Ov_Tm-M84MOw@mail.gmail.com>
 <CA+qEb=3hj76MH41003ciMD8xPgARRV5EALY2RrhuTYNPqi=_LA@mail.gmail.com>
 <cbd64206e2baf9a7a4fddcd080afeedf@clermontmetropole.eu>
Message-ID: <CA+qEb=1rvA7X5Znpc5+AGXJ3gw5GGN_+xfUzV0so0HrFuawYOQ@mail.gmail.com>

Hi, the config is pasted here: https://pastebin.com/QnTc19Gj
Best regards

On Fri, 21 Sep 2018 at 08:24, Lewis Villierme puputauki <
lvilliermepuputauki at clermontmetropole.eu> wrote:

> Hi Adam,
>
> Can you paste your apache conf file ?
> best regard
>
> Le 2018-09-20 14:22, Adam Borczyk a Ã©crit :
>
> Forgot my config if it matters:
> - Ubuntu server 18.04
> - QGIS Server 2.18
> - Apache 2.4.29 (config: https://pastebin.com/QnTc19Gj )
>
>
> On Thu, 20 Sep 2018 at 14:19, Adam Borczyk <adam.borczyk at gis-support.pl>
> wrote:
>
>> Hi everyone,
>> is it expected behaviour for QGIS Server 2.18 to ignore MAP parameter in
>> URL when QGIS_PROJECT_FILE environment variable is set?
>>
>> I have QGIS_PROJECT_FILE set, so my endpoint "/wms" serves default
>> project, but I'd like to access another project from the same endpoint -
>> I'm trying here with just specifying MAP parameter, but changing it's value
>> does not affect response in any way. In fact, I can do "&MAP=asdfasdf" and
>> still get default project, while changing other parameters works normally.
>>
>> I though Environment Variable works as default option that you can
>> override, but it seems it doesn't?
>>
>> Best regards
>> Adam Borczyk
>>
>>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180921/76caa04c/attachment.html>

From jef at norbit.de  Fri Sep 21 03:10:53 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Fri, 21 Sep 2018 12:10:53 +0200
Subject: [QGIS-Developer] Ubuntu 16.04 xenial broken dependency for
 qml-module-qtcharts
In-Reply-To: <CABgOYCfSy-thYDi5uC0GGULyCrzy_pNGdBSqM0hkb4pWE5ViiA@mail.gmail.com>
References: <CABgOYCcoi9KTBD_BQmOMMjndc7y2Z+ZrCKFBDSHz8J+YKsFTvw@mail.gmail.com>
 <20180918112614.rut5b2ktlvr3k7ti@norbit.de>
 <CABgOYCeewwsqHaDCW+2FR=dmhu=BsvjV33VJEr2wuX9qV2X3zw@mail.gmail.com>
 <CABgOYCfSy-thYDi5uC0GGULyCrzy_pNGdBSqM0hkb4pWE5ViiA@mail.gmail.com>
Message-ID: <20180921101053.qdre33dmnmobf5z6@norbit.de>

Hi RÃ©gis,

On Fri, 21. Sep 2018 at 10:15:18 +0200, RÃ©gis Haubourg wrote:
> Mmm, I'm still stuck in xenial for nightlies.

Yes, we missed the window.  The "nightly" was ongoing when the build was still
busy with a version predating the fix.  And in the next iteration the "final"
sip problem was interoduced, which broke builds on xenial and stretch (ie. with
sip <4.19).

That's fixed now too and this iteration should now work again - actually 
i386 for xenial-ubuntugis is "already" finished and it's currently building
amd64.

> Is it just me?

No, there was someone else on qgis-user with the same problem (but I responded
to soon there - as I hadn't noticed the "final" issue yet).


JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180921/23f4891e/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180921/23f4891e/attachment.ksh>

From regis.haubourg at gmail.com  Fri Sep 21 03:18:27 2018
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Fri, 21 Sep 2018 12:18:27 +0200
Subject: [QGIS-Developer] Ubuntu 16.04 xenial broken dependency for
	qml-module-qtcharts
In-Reply-To: <20180921101053.qdre33dmnmobf5z6@norbit.de>
References: <CABgOYCcoi9KTBD_BQmOMMjndc7y2Z+ZrCKFBDSHz8J+YKsFTvw@mail.gmail.com>
 <20180918112614.rut5b2ktlvr3k7ti@norbit.de>
 <CABgOYCeewwsqHaDCW+2FR=dmhu=BsvjV33VJEr2wuX9qV2X3zw@mail.gmail.com>
 <CABgOYCfSy-thYDi5uC0GGULyCrzy_pNGdBSqM0hkb4pWE5ViiA@mail.gmail.com>
 <20180921101053.qdre33dmnmobf5z6@norbit.de>
Message-ID: <CABgOYCcHb1GpuwBGBwssjZFG3UXUcy+L9MQws7mko3LmM3zrCA@mail.gmail.com>

Ok cool, thanks JÃ¼rgen !

2018-09-21 12:10 GMT+02:00 JÃ¼rgen E. Fischer <jef at norbit.de>:

> Hi RÃ©gis,
>
> On Fri, 21. Sep 2018 at 10:15:18 +0200, RÃ©gis Haubourg wrote:
> > Mmm, I'm still stuck in xenial for nightlies.
>
> Yes, we missed the window.  The "nightly" was ongoing when the build was
> still
> busy with a version predating the fix.  And in the next iteration the
> "final"
> sip problem was interoduced, which broke builds on xenial and stretch (ie.
> with
> sip <4.19).
>
> That's fixed now too and this iteration should now work again - actually
> i386 for xenial-ubuntugis is "already" finished and it's currently building
> amd64.
>
> > Is it just me?
>
> No, there was someone else on qgis-user with the same problem (but I
> responded
> to soon there - as I hadn't noticed the "final" issue yet).
>
>
> JÃ¼rgen
>
> --
> JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden
> http://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.9 (GNU/Linux)
>
> iQIVAwUAW6TDqhBsJ9SQbsVUAQJ4Fw/+JbtR5xoEy0Zv7YYqfkLLNfivNgdfEX8o
> o3nPVZsX0iprCQueY+vYbQh0haCuJ7P/KXjbwY8uNlJ28rRWquTP0k9kzfMy4v/5
> IcPZyzOmbojxBVhP4U5844Niha2Nr/JpGPaM7a2eQfLpEegRu550nr1yC2zXsN9L
> xRTS1CNHE3ccyNFxpG6wrnChsqJ2QOq5R+AOSkZvGO9LmEc46FBwdbMGyF7whQ/L
> yX82wq6kYjPOlot1pD32Chb4HzXhwwHJ9LvSQu0UtGRE1YHViLO1x0mvKKvGbtuo
> t22SSb+EjPbgLcmNGuZqzIW+sr+QFd6RegyRqU1Zu3ZR+uIKj1ygoG0CYUDdgRYx
> OKd6s/rb7TvcFmG9Q3v1Fm0BbQVtl95meMOfXe3jK7FByC9WVzVbRzxYeIEuEsUT
> Bb41dY6Njh5ROMiHnxmNhEkJ2B1achHNivtS/pjN0Z36QXYfys02wqRs/WvYxvfg
> z9/o9Hu+6QJyTafSFjCWtAfx3D0fmVWz6n/npPtnrligLhtdw+xJkmJccd3TKmtk
> jZtr5y5nsaEh2aqHr+Bdmcw0qi5Bnq8gSP/1gp8AwPOKd1V4dqdZVpR9G10IfVgN
> +uYPaHOk7dKAQjCCE5KWLEhfbgv/Swo6ytaps5nAgxdkHUA2K3OP72TlZU06v/ER
> 7n3TXODeOl8=
> =UcGG
> -----END PGP SIGNATURE-----
>
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Aurich HRB 100827
> Datenschutzerklaerung: https://www.norbit.de/83/
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180921/60b270a1/attachment.html>

From noreply at qgis.org  Fri Sep 21 05:43:41 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 21 Sep 2018 12:43:41 -0000
Subject: [QGIS-Developer] Plugin [1356] ZoomToBelgium approval notification.
Message-ID: <20180921124341.22561.66714@2c6504964296>


Plugin ZoomToBelgium approval by pcav.
The plugin version "[1356] ZoomToBelgium 1.2" is now approved
Link: http://plugins.qgis.org/plugins/ZoomToBelgium/

From r.nijssen at terglobo.nl  Fri Sep 21 06:20:00 2018
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Fri, 21 Sep 2018 15:20:00 +0200
Subject: [QGIS-Developer] Has QgsLayout.itemById() changed?
Message-ID: <8766b38d-47fb-5be1-a670-623aab3c6e25@terglobo.nl>

Running this python script (in qgis 3.3):

p = QgsProject.instance()
lom = p.layoutManager()
lo = lom.layoutByName('a4')
item = lo.itemById('label_title')
print(item)


a few weeks ago, it outputed this:
<qgis._core.QgsLayoutItemLabel object at 0x7fe90b6d0318>


but today it outputs:
<qgis._core.QgsLayoutItem object at 0x7fe90b6d0318>



My next line is:

item.setText('hello')

which doesn't work anymore, because there is no setText() function on a 
QgsLayoutItem. Has anything changed recently? Does any one know a solution?

Regards,
Raymond

From apasotti at gmail.com  Fri Sep 21 06:32:37 2018
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 21 Sep 2018 15:32:37 +0200
Subject: [QGIS-Developer] Has QgsLayout.itemById() changed?
In-Reply-To: <8766b38d-47fb-5be1-a670-623aab3c6e25@terglobo.nl>
References: <8766b38d-47fb-5be1-a670-623aab3c6e25@terglobo.nl>
Message-ID: <CAL5Q673oMHdLwb9EpoKReWkHcgo_h9+n_jrowp+1Ac+wRe9yfw@mail.gmail.com>

Hi Raymond,

confirmed, there is probably something broken in the bindings, please file
a ticket.

On Fri, Sep 21, 2018 at 3:20 PM Raymond Nijssen <r.nijssen at terglobo.nl>
wrote:

> Running this python script (in qgis 3.3):
>
> p = QgsProject.instance()
> lom = p.layoutManager()
> lo = lom.layoutByName('a4')
> item = lo.itemById('label_title')
> print(item)
>
>
> a few weeks ago, it outputed this:
> <qgis._core.QgsLayoutItemLabel object at 0x7fe90b6d0318>
>
>
> but today it outputs:
> <qgis._core.QgsLayoutItem object at 0x7fe90b6d0318>
>
>
>
> My next line is:
>
> item.setText('hello')
>
> which doesn't work anymore, because there is no setText() function on a
> QgsLayoutItem. Has anything changed recently? Does any one know a solution?
>
> Regards,
> Raymond
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180921/1cd95fac/attachment.html>

From r.nijssen at terglobo.nl  Fri Sep 21 06:47:20 2018
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Fri, 21 Sep 2018 15:47:20 +0200
Subject: [QGIS-Developer] Has QgsLayout.itemById() changed?
In-Reply-To: <CAL5Q673oMHdLwb9EpoKReWkHcgo_h9+n_jrowp+1Ac+wRe9yfw@mail.gmail.com>
References: <8766b38d-47fb-5be1-a670-623aab3c6e25@terglobo.nl>
 <CAL5Q673oMHdLwb9EpoKReWkHcgo_h9+n_jrowp+1Ac+wRe9yfw@mail.gmail.com>
Message-ID: <d1d65a49-e187-f29f-5203-26560ee60e17@terglobo.nl>

Will do so. Thank you Alessandro!



On 21-09-18 15:32, Alessandro Pasotti wrote:
> Hi Raymond,
> 
> confirmed, there is probably something broken in the bindings, please 
> file a ticket.
> 
> On Fri, Sep 21, 2018 at 3:20 PM Raymond Nijssen <r.nijssen at terglobo.nl 
> <mailto:r.nijssen at terglobo.nl>> wrote:
> 
>     Running this python script (in qgis 3.3):
> 
>     p = QgsProject.instance()
>     lom = p.layoutManager()
>     lo = lom.layoutByName('a4')
>     item = lo.itemById('label_title')
>     print(item)
> 
> 
>     a few weeks ago, it outputed this:
>     <qgis._core.QgsLayoutItemLabel object at 0x7fe90b6d0318>
> 
> 
>     but today it outputs:
>     <qgis._core.QgsLayoutItem object at 0x7fe90b6d0318>
> 
> 
> 
>     My next line is:
> 
>     item.setText('hello')
> 
>     which doesn't work anymore, because there is no setText() function on a
>     QgsLayoutItem. Has anything changed recently? Does any one know a
>     solution?
> 
>     Regards,
>     Raymond
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 
> -- 
> Alessandro Pasotti
> w3: www.itopen.it <http://www.itopen.it>

-- 
Terglobo
Fahrenheitstraat 1
5223 BJ 's-Hertogenbosch
The Netherlands
+31 (0) 6 25 31 49 83

From apasotti at gmail.com  Fri Sep 21 07:29:58 2018
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 21 Sep 2018 16:29:58 +0200
Subject: [QGIS-Developer] Has QgsLayout.itemById() changed?
In-Reply-To: <d1d65a49-e187-f29f-5203-26560ee60e17@terglobo.nl>
References: <8766b38d-47fb-5be1-a670-623aab3c6e25@terglobo.nl>
 <CAL5Q673oMHdLwb9EpoKReWkHcgo_h9+n_jrowp+1Ac+wRe9yfw@mail.gmail.com>
 <d1d65a49-e187-f29f-5203-26560ee60e17@terglobo.nl>
Message-ID: <CAL5Q673WmP_W-Kp-h1-EtTV4Pkhhw-Bxtf1EkLL03qyc6EYGcg@mail.gmail.com>

Hi Raymond,

You know what? I've just rebased and rebuilt current master and I cannot
reproduce it anymore :(
I checked the bindings code and it looks fine, can you check latest master?


On Fri, Sep 21, 2018 at 3:47 PM Raymond Nijssen <r.nijssen at terglobo.nl>
wrote:

> Will do so. Thank you Alessandro!
>
>
>
> On 21-09-18 15:32, Alessandro Pasotti wrote:
> > Hi Raymond,
> >
> > confirmed, there is probably something broken in the bindings, please
> > file a ticket.
> >
> > On Fri, Sep 21, 2018 at 3:20 PM Raymond Nijssen <r.nijssen at terglobo.nl
> > <mailto:r.nijssen at terglobo.nl>> wrote:
> >
> >     Running this python script (in qgis 3.3):
> >
> >     p = QgsProject.instance()
> >     lom = p.layoutManager()
> >     lo = lom.layoutByName('a4')
> >     item = lo.itemById('label_title')
> >     print(item)
> >
> >
> >     a few weeks ago, it outputed this:
> >     <qgis._core.QgsLayoutItemLabel object at 0x7fe90b6d0318>
> >
> >
> >     but today it outputs:
> >     <qgis._core.QgsLayoutItem object at 0x7fe90b6d0318>
> >
> >
> >
> >     My next line is:
> >
> >     item.setText('hello')
> >
> >     which doesn't work anymore, because there is no setText() function
> on a
> >     QgsLayoutItem. Has anything changed recently? Does any one know a
> >     solution?
> >
> >     Regards,
> >     Raymond
> >     _______________________________________________
> >     QGIS-Developer mailing list
> >     QGIS-Developer at lists.osgeo.org <mailto:
> QGIS-Developer at lists.osgeo.org>
> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> > --
> > Alessandro Pasotti
> > w3: www.itopen.it <http://www.itopen.it>
>
> --
> Terglobo
> Fahrenheitstraat 1
> 5223 BJ 's-Hertogenbosch
> The Netherlands
> +31 (0) 6 25 31 49 83
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180921/7b1cb90e/attachment.html>

From noreply at qgis.org  Fri Sep 21 09:14:57 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 21 Sep 2018 16:14:57 -0000
Subject: [QGIS-Developer] Plugin [1524] MzS Tools approval notification.
Message-ID: <20180921161457.22563.1305@2c6504964296>


Plugin MzS Tools approval by pcav.
The plugin version "[1524] MzS Tools 0.5 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/MzSTools/

From r.nijssen at terglobo.nl  Fri Sep 21 11:36:11 2018
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Fri, 21 Sep 2018 20:36:11 +0200
Subject: [QGIS-Developer] Has QgsLayout.itemById() changed?
In-Reply-To: <CAL5Q673WmP_W-Kp-h1-EtTV4Pkhhw-Bxtf1EkLL03qyc6EYGcg@mail.gmail.com>
References: <8766b38d-47fb-5be1-a670-623aab3c6e25@terglobo.nl>
 <CAL5Q673oMHdLwb9EpoKReWkHcgo_h9+n_jrowp+1Ac+wRe9yfw@mail.gmail.com>
 <d1d65a49-e187-f29f-5203-26560ee60e17@terglobo.nl>
 <CAL5Q673WmP_W-Kp-h1-EtTV4Pkhhw-Bxtf1EkLL03qyc6EYGcg@mail.gmail.com>
Message-ID: <9d82627d-5ef0-c67c-df94-43ef2f4c42a9@terglobo.nl>

Not working for me. I just built todays master (e85c09254c) and get the 
same result. What version did you build?



On 21-09-18 16:29, Alessandro Pasotti wrote:
> 
> Hi Raymond,
> 
> You know what? I've just rebased and rebuilt current master and I cannot 
> reproduce it anymore :(
> I checked the bindings code and it looks fine, can you check latest master?
> 
> 
> On Fri, Sep 21, 2018 at 3:47 PM Raymond Nijssen <r.nijssen at terglobo.nl 
> <mailto:r.nijssen at terglobo.nl>> wrote:
> 
>     Will do so. Thank you Alessandro!
> 
> 
> 
>     On 21-09-18 15:32, Alessandro Pasotti wrote:
>      > Hi Raymond,
>      >
>      > confirmed, there is probably something broken in the bindings,
>     please
>      > file a ticket.
>      >
>      > On Fri, Sep 21, 2018 at 3:20 PM Raymond Nijssen
>     <r.nijssen at terglobo.nl <mailto:r.nijssen at terglobo.nl>
>      > <mailto:r.nijssen at terglobo.nl <mailto:r.nijssen at terglobo.nl>>> wrote:
>      >
>      >Â  Â  Â Running this python script (in qgis 3.3):
>      >
>      >Â  Â  Â p = QgsProject.instance()
>      >Â  Â  Â lom = p.layoutManager()
>      >Â  Â  Â lo = lom.layoutByName('a4')
>      >Â  Â  Â item = lo.itemById('label_title')
>      >Â  Â  Â print(item)
>      >
>      >
>      >Â  Â  Â a few weeks ago, it outputed this:
>      >Â  Â  Â <qgis._core.QgsLayoutItemLabel object at 0x7fe90b6d0318>
>      >
>      >
>      >Â  Â  Â but today it outputs:
>      >Â  Â  Â <qgis._core.QgsLayoutItem object at 0x7fe90b6d0318>
>      >
>      >
>      >
>      >Â  Â  Â My next line is:
>      >
>      >Â  Â  Â item.setText('hello')
>      >
>      >Â  Â  Â which doesn't work anymore, because there is no setText()
>     function on a
>      >Â  Â  Â QgsLayoutItem. Has anything changed recently? Does any one know a
>      >Â  Â  Â solution?
>      >
>      >Â  Â  Â Regards,
>      >Â  Â  Â Raymond
>      >Â  Â  Â _______________________________________________
>      >Â  Â  Â QGIS-Developer mailing list
>      > QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>     <mailto:QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>>
>      >Â  Â  Â List info:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>      >Â  Â  Â Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>      >
>      >
>      >
>      > --
>      > Alessandro Pasotti
>      > w3: www.itopen.it <http://www.itopen.it> <http://www.itopen.it>
> 
>     -- 
>     Terglobo
>     Fahrenheitstraat 1
>     5223 BJ 's-Hertogenbosch
>     The Netherlands
>     +31 (0) 6 25 31 49 83
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 
> -- 
> Alessandro Pasotti
> w3: www.itopen.it <http://www.itopen.it>

-- 
Terglobo
Fahrenheitstraat 1
5223 BJ 's-Hertogenbosch
The Netherlands
+31 (0) 6 25 31 49 83

From arne.linlokken at inn.no  Fri Sep 21 23:03:11 2018
From: arne.linlokken at inn.no (=?iso-8859-1?Q?Arne_Linl=F8kken?=)
Date: Sat, 22 Sep 2018 06:03:11 +0000
Subject: [QGIS-Developer] plugins?
Message-ID: <3A742F8B14974542B24E284C08CC4C18B3ECE17B@ex-mb2.ad.hihm.no>

I wonder why there are so few plugins installed with the 2.18.24 version of QGIS. Where is Congedo's SCP?

Best regards

Arne LinlÃ¸kken, Ph.D.
Associate Professor, Biology
Faculty of Applied Ecology, Agricultural Sciences and Biotechnology
Inland Norway University of Applies Sciences
Post box 4010
Bedriftssenteret
N-2306 Hamar
NORWAY
Web page: https://arnelinlokken.wixsite.com/liv-ivatn

Visiting address:
Biohus, office 285
Holsetgate 22
Hamar, NORWAY

E-mail:       arne.linlokken at inn.no<mailto:arne.linlokken at inn.no>
Phone:       (+47) 62 51 78 69
Cell. phone: (+47) 41 24 70 16

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180922/5d0c61db/attachment.html>

From rdmailings at duif.net  Sat Sep 22 04:04:21 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 22 Sep 2018 13:04:21 +0200
Subject: [QGIS-Developer] plugins?
In-Reply-To: <3A742F8B14974542B24E284C08CC4C18B3ECE17B@ex-mb2.ad.hihm.no>
References: <3A742F8B14974542B24E284C08CC4C18B3ECE17B@ex-mb2.ad.hihm.no>
Message-ID: <f5aa47f5-a51c-0fef-493f-a2145820b07b@duif.net>

On 09/22/2018 08:03 AM, Arne LinlÃ¸kken wrote:
> I wonder why there are so few plugins installed with the 2.18.24 version
> of QGIS. Where is Congedoâs SCP?

Hi,

Plugins are to be installed by yourself via the Plugin Manager.

You should see the 'SCP' plugin there and install it.
There is also an online list of plugins:

http://plugins.qgis.org/plugins/

where you can search there too? Installing should be doen vai QGIS though.

Searching for scp I find:

http://plugins.qgis.org/plugins/scpplugin/

IF it does not show up in your list in QGIS, then apparently QGIS cannot
load the plugins.xml? Maybe you are behind a proxy (which you can give
in the network properties?)

Regards,

Richard Duivenvoorde

From lists at borysjurgiel.pl  Sat Sep 22 05:20:03 2018
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Sat, 22 Sep 2018 14:20:03 +0200
Subject: [QGIS-Developer] plugins?
In-Reply-To: <f5aa47f5-a51c-0fef-493f-a2145820b07b@duif.net>
References: <3A742F8B14974542B24E284C08CC4C18B3ECE17B@ex-mb2.ad.hihm.no>
 <f5aa47f5-a51c-0fef-493f-a2145820b07b@duif.net>
Message-ID: <17675159.HhEYLEuFus@debian>

Dnia sobota, 22 wrzeÅnia 2018 13:04:21 CEST Richard Duivenvoorde pisze:
> Searching for scp I find:
> 
> http://plugins.qgis.org/plugins/scpplugin/

Just to clarify, Arne meant that one:
http://plugins.qgis.org/plugins/SemiAutomaticClassificationPlugin/

As Richard said, if your QGIS can access the network, you should see ~800 
available plugins in the Plugins -> Manage and Install Plugins menu.

There is a few preinstalled plugins only, as in general plugins are meant to 
be user (or admin) installed.

Regards,
Borys



From arne.linlokken at inn.no  Sat Sep 22 06:16:48 2018
From: arne.linlokken at inn.no (=?utf-8?B?QXJuZSBMaW5sw7hra2Vu?=)
Date: Sat, 22 Sep 2018 13:16:48 +0000
Subject: [QGIS-Developer] plugins?
In-Reply-To: <13032045.rxj1uaQfzh@debian>
References: <3A742F8B14974542B24E284C08CC4C18B3ECE17B@ex-mb2.ad.hihm.no>
 <f5aa47f5-a51c-0fef-493f-a2145820b07b@duif.net> <13032045.rxj1uaQfzh@debian>
Message-ID: <3A742F8B14974542B24E284C08CC4C18B3ECE2C4@ex-mb2.ad.hihm.no>

I just downloaded QGis 3.2.3-Bonn, andthere  SCP plugin was included. Now I struggle with the "Clip multiple raster" function. I can't get hold of the input files by clicking on the [cid:image003.jpg at 01D45287.47B00E90]  though both raster and shape files are added. Earlier versions showed the selected raster, and the shape file name appeared at once when marking in âUse vector forâ¦.â. Is there a bug or am I doing something wrong. So far I havenât found an answer in the SCP manual.



Arne



[cid:image004.jpg at 01D45287.47B00E90]



-----Opprinnelig melding-----
Fra: Borys Jurgiel <info at borysjurgiel.pl>
Sendt: lÃ¸rdag 22. september 2018 14:16
Til: qgis-developer at lists.osgeo.org; richard at duif.net
Kopi: Arne LinlÃ¸kken <arne.linlokken at inn.no>
Emne: Re: [QGIS-Developer] plugins?



Dnia sobota, 22 wrzeÅnia 2018 13:04:21 CEST Richard Duivenvoorde pisze:

> Searching for scp I find:

>

> http://plugins.qgis.org/plugins/scpplugin/



Just to clarify, Arne meant that one:

http://plugins.qgis.org/plugins/SemiAutomaticClassificationPlugin/



As Richard said, if your QGIS can access the network, you should see ~800 available plugins in the Plugins -> Manage and Install Plugins menu.



Regards,

Borys




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180922/1f9f31b4/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.jpg
Type: image/jpeg
Size: 808 bytes
Desc: image003.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180922/1f9f31b4/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.jpg
Type: image/jpeg
Size: 24206 bytes
Desc: image004.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180922/1f9f31b4/attachment-0003.jpg>

From lists at borysjurgiel.pl  Sat Sep 22 06:35:43 2018
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Sat, 22 Sep 2018 15:35:43 +0200
Subject: [QGIS-Developer] plugins?
In-Reply-To: <3A742F8B14974542B24E284C08CC4C18B3ECE2C4@ex-mb2.ad.hihm.no>
References: <3A742F8B14974542B24E284C08CC4C18B3ECE17B@ex-mb2.ad.hihm.no>
 <13032045.rxj1uaQfzh@debian>
 <3A742F8B14974542B24E284C08CC4C18B3ECE2C4@ex-mb2.ad.hihm.no>
Message-ID: <2099092.juUWqBsdk5@debian>

Dnia sobota, 22 wrzeÅnia 2018 15:16:48 CEST Arne LinlÃ¸kken pisze:
> I just downloaded QGis 3.2.3-Bonn, andthere  SCP plugin was included. Now I
> struggle with the "Clip multiple raster" function. I can't get hold of the
> input files by clicking on the [cid:image003.jpg at 01D45287.47B00E90]  though
> both raster and shape files are added. Earlier versions showed the selected
> raster, and the shape file name appeared at once when marking in âUse
> vector forâ¦.â. Is there a bug or am I doing something wrong. So far I
> havenât found an answer in the SCP manual.

For external plugins please contact the plugin author or QGIS user mailing 
lists and forums. 

Regards,
Borys



From senhor.neto at gmail.com  Sat Sep 22 07:25:11 2018
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Sat, 22 Sep 2018 15:25:11 +0100
Subject: [QGIS-Developer] plugins?
In-Reply-To: <2099092.juUWqBsdk5@debian>
References: <3A742F8B14974542B24E284C08CC4C18B3ECE17B@ex-mb2.ad.hihm.no>
 <13032045.rxj1uaQfzh@debian>
 <3A742F8B14974542B24E284C08CC4C18B3ECE2C4@ex-mb2.ad.hihm.no>
 <2099092.juUWqBsdk5@debian>
Message-ID: <CA+H0G_FqaVEc6GJPV46fUiZpRr113oThF++ReHha_t0A_c2Y6w@mail.gmail.com>

For 2.18 lack of plugins, please make sure you have the "show experimental
plugins" option enabled in the plugin manager settings.

A sÃ¡b, 22/09/2018, 14:35, Borys Jurgiel <lists at borysjurgiel.pl> escreveu:

> Dnia sobota, 22 wrzeÅnia 2018 15:16:48 CEST Arne LinlÃ¸kken pisze:
> > I just downloaded QGis 3.2.3-Bonn, andthere  SCP plugin was included.
> Now I
> > struggle with the "Clip multiple raster" function. I can't get hold of
> the
> > input files by clicking on the [cid:image003.jpg at 01D45287.47B00E90]
> though
> > both raster and shape files are added. Earlier versions showed the
> selected
> > raster, and the shape file name appeared at once when marking in âUse
> > vector forâ¦.â. Is there a bug or am I doing something wrong. So far I
> > havenât found an answer in the SCP manual.
>
> For external plugins please contact the plugin author or QGIS user mailing
> lists and forums.
>
> Regards,
> Borys
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Alexandre Neto
---------------------
@AlexNetoGeo
http://sigsemgrilhetas.wordpress.com
http://gisunchained.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180922/bcf1ccbe/attachment.html>

From jgr at di.uminho.pt  Sat Sep 22 07:30:09 2018
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Sat, 22 Sep 2018 15:30:09 +0100
Subject: [QGIS-Developer] plugins?
In-Reply-To: <3A742F8B14974542B24E284C08CC4C18B3ECE2C4@ex-mb2.ad.hihm.no>
References: <3A742F8B14974542B24E284C08CC4C18B3ECE17B@ex-mb2.ad.hihm.no>
 <f5aa47f5-a51c-0fef-493f-a2145820b07b@duif.net> <13032045.rxj1uaQfzh@debian>
 <3A742F8B14974542B24E284C08CC4C18B3ECE2C4@ex-mb2.ad.hihm.no>
Message-ID: <9a69a701-2be8-0e0e-c4ec-d59632e5f45a@di.uminho.pt>

Hi Arne,

Please use the SCP issue tracker to report your problem:

https://github.com/semiautomaticgit/SemiAutomaticClassificationPlugin/issues

Please report your QGIS version (QGis 3.2.3-Bonn, as you said) and SCP
version (go to SCP â ABout, SCP version, like 6.2.3).

Add a description of the steps you take before trying "Clip multiple
rasters".

Regards,

Jorge

Ãs 14:16 de 22/09/2018, Arne LinlÃ¸kken escreveu:
> I just downloaded QGis 3.2.3-Bonn, andthere Â SCP plugin was included.
> Now I struggle with the "Clip multiple raster" function. I can't get
> hold of the input files by clicking on the Â though both raster and shape
> files are added. Earlier versions showed the selected raster, and the
> shape file name appeared at once when marking in âUse vector forâ¦.â. Is
> there a bug or am I doing something wrong. So far I havenât found an
> answer in the SCP manual.
> 
> Â 
> 
> Arne
> 
> Â 
> 
> Â 
> 
> -----Opprinnelig melding-----
> Fra: Borys Jurgiel <info at borysjurgiel.pl>
> Sendt: lÃ¸rdag 22. september 2018 14:16
> Til: qgis-developer at lists.osgeo.org; richard at duif.net
> Kopi: Arne LinlÃ¸kken <arne.linlokken at inn.no>
> Emne: Re: [QGIS-Developer] plugins?
> 
> Â 
> 
> Dnia sobota, 22 wrzeÅnia 2018 13:04:21 CEST Richard Duivenvoorde pisze:
> 
>> Searching for scp I find:
> 
>>
> 
>> http://plugins.qgis.org/plugins/scpplugin/
> 
> Â 
> 
> Just to clarify, Arne meant that one:
> 
> http://plugins.qgis.org/plugins/SemiAutomaticClassificationPlugin/
> 
> Â 
> 
> As Richard said, if your QGIS can access the network, you should see
> ~800 available plugins in the Plugins -> Manage and Install Plugins menu.
> 
> Â 
> 
> Regards,
> 
> Borys
> 
> Â 
> 
> Â 
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de InformÃ¡tica
Universidade do Minho
4710-057 Braga
Tel: +351 253604480
Fax: +351 253604471
MÃ³vel: +351 910333888
skype: nabocudnosor

From lfi at ign.ku.dk  Sat Sep 22 12:31:21 2018
From: lfi at ign.ku.dk (Lene Fischer)
Date: Sat, 22 Sep 2018 19:31:21 +0000
Subject: [QGIS-Developer] plugins?
In-Reply-To: <3A742F8B14974542B24E284C08CC4C18B3ECE2C4@ex-mb2.ad.hihm.no>
References: <3A742F8B14974542B24E284C08CC4C18B3ECE17B@ex-mb2.ad.hihm.no>
 <f5aa47f5-a51c-0fef-493f-a2145820b07b@duif.net> <13032045.rxj1uaQfzh@debian>
 <3A742F8B14974542B24E284C08CC4C18B3ECE2C4@ex-mb2.ad.hihm.no>
Message-ID: <38497AD9CA059C42AA3451EFEFF0378E0179C27B2C@P2KITMBX04WC02.unicph.domain>

You can set the band tab set to add the multiple layers
Then select the band set and click run.

Lene Fischer
Associate Professor

University of Copenhagen
Department of Geoscience and Natural Resource Management
Forest and Landscape College
NÃ¸debovej 77a
3480 Fredensborg
Denmark


MOB +45 40115084
lfi at ign.ku.dk<mailto:lfi at ign.ku.dk>


[cid:image001.gif at 01D452BB.9A7CF730]

[cid:image002.png at 01D452BB.9A7CF730]<@Lene_Fischer>



Fra: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] PÃ¥ vegne af Arne LinlÃ¸kken
Sendt: 22. september 2018 15:17
Til: Borys Jurgiel; qgis-developer at lists.osgeo.org; richard at duif.net
Emne: Re: [QGIS-Developer] plugins?


I just downloaded QGis 3.2.3-Bonn, andthere  SCP plugin was included. Now I struggle with the "Clip multiple raster" function. I can't get hold of the input files by clicking on the [cid:image003.jpg at 01D452BB.9A7CF730]  though both raster and shape files are added. Earlier versions showed the selected raster, and the shape file name appeared at once when marking in âUse vector forâ¦.â. Is there a bug or am I doing something wrong. So far I havenât found an answer in the SCP manual.



Arne



[cid:image004.jpg at 01D452BB.9A7CF730]



-----Opprinnelig melding-----
Fra: Borys Jurgiel <info at borysjurgiel.pl>
Sendt: lÃ¸rdag 22. september 2018 14:16
Til: qgis-developer at lists.osgeo.org; richard at duif.net
Kopi: Arne LinlÃ¸kken <arne.linlokken at inn.no>
Emne: Re: [QGIS-Developer] plugins?



Dnia sobota, 22 wrzeÅnia 2018 13:04:21 CEST Richard Duivenvoorde pisze:

> Searching for scp I find:

>

> http://plugins.qgis.org/plugins/scpplugin/



Just to clarify, Arne meant that one:

http://plugins.qgis.org/plugins/SemiAutomaticClassificationPlugin/



As Richard said, if your QGIS can access the network, you should see ~800 available plugins in the Plugins -> Manage and Install Plugins menu.



Regards,

Borys




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180922/14ea4cca/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.gif
Type: image/gif
Size: 4971 bytes
Desc: image001.gif
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180922/14ea4cca/attachment-0001.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 1280 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180922/14ea4cca/attachment-0001.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.jpg
Type: image/jpeg
Size: 808 bytes
Desc: image003.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180922/14ea4cca/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.jpg
Type: image/jpeg
Size: 24206 bytes
Desc: image004.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180922/14ea4cca/attachment-0003.jpg>

From noreply at qgis.org  Sat Sep 22 22:03:40 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Sun, 23 Sep 2018 05:03:40 -0000
Subject: [QGIS-Developer] Plugin [1391] Asistente LADM_COL approval
	notification.
Message-ID: <20180923050340.2931.53953@2c6504964296>


Plugin Asistente LADM_COL approval by pcav.
The plugin version "[1391] Asistente LADM_COL 0.8.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/asistente_ladm_col/

From apasotti at gmail.com  Sun Sep 23 00:49:39 2018
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sun, 23 Sep 2018 09:49:39 +0200
Subject: [QGIS-Developer] Has QgsLayout.itemById() changed?
In-Reply-To: <9d82627d-5ef0-c67c-df94-43ef2f4c42a9@terglobo.nl>
References: <8766b38d-47fb-5be1-a670-623aab3c6e25@terglobo.nl>
 <CAL5Q673oMHdLwb9EpoKReWkHcgo_h9+n_jrowp+1Ac+wRe9yfw@mail.gmail.com>
 <d1d65a49-e187-f29f-5203-26560ee60e17@terglobo.nl>
 <CAL5Q673WmP_W-Kp-h1-EtTV4Pkhhw-Bxtf1EkLL03qyc6EYGcg@mail.gmail.com>
 <9d82627d-5ef0-c67c-df94-43ef2f4c42a9@terglobo.nl>
Message-ID: <CAL5Q672o=Q4X03=_+cW=4MoqBJsuASWXczt5jW8=NR7wO-Fn8Q@mail.gmail.com>

On Fri, Sep 21, 2018 at 8:36 PM Raymond Nijssen <r.nijssen at terglobo.nl>
wrote:

> Not working for me. I just built todays master (e85c09254c) and get the
> same result. What version did you build?
>

Same as yours.

Btw, please file a ticket, I just re-tested it now and got the issue again,
this is my workflow:

- Open a project that has no layouts
- Create a new layout through the manager
- Add a label and set id = "my_label"
- Save and close the layout and the manager
- Run python code and:


In [1]: p = QgsProject.instance()

   ...: lom = p.layoutManager()

   ...: lo = lom.layoutByName('Layout 1')

   ...:




In [2]: lo

Out[2]: <qgis._core.QgsPrintLayout at 0x7f981f368d38>

In [4]: lo.itemById('my_label')

Out[4]: <qgis._core.QgsLayoutItem at 0x7f989db01dc8>


In [5]: lo.items()

Out[5]:

[<PyQt5.QtWidgets.QGraphicsRectItem at 0x7f989db01ee8>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989db01e58>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989db01f78>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da91048>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da910d8>,

<qgis._core.QgsLayoutItem at 0x7f989db01dc8>,

<PyQt5.QtWidgets.QGraphicsRectItem at 0x7f989da91168>,

<qgis._core.QgsLayoutItemPage at 0x7f989da911f8>]


In [6]: lo.items()

Out[6]:

[<PyQt5.QtWidgets.QGraphicsRectItem at 0x7f989da91318>,

<PyQt5.QtWidgets.QGraphicsRectItem at 0x7f989db01ee8>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da913a8>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da91438>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da914c8>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da91558>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989db01e58>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989db01f78>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da91048>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da910d8>,

<qgis._core.QgsLayoutItem at 0x7f989db01dc8>,

<PyQt5.QtWidgets.QGraphicsRectItem at 0x7f989da91168>,

<qgis._core.QgsLayoutItemPage at 0x7f989da911f8>]


In [7]: lo.items()

Out[7]:

[<PyQt5.QtWidgets.QGraphicsRectItem at 0x7f989da91678>,

<PyQt5.QtWidgets.QGraphicsRectItem at 0x7f989da91318>,

<PyQt5.QtWidgets.QGraphicsRectItem at 0x7f989db01ee8>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da91708>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da91798>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da91828>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da918b8>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da913a8>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da91438>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da914c8>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da91558>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989db01e58>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989db01f78>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da91048>,

<PyQt5.QtWidgets.QGraphicsLineItem at 0x7f989da910d8>,

<qgis._core.QgsLayoutItem at 0x7f989db01dc8>,

<PyQt5.QtWidgets.QGraphicsRectItem at 0x7f989da91168>,

<qgis._core.QgsLayoutItemPage at 0x7f989da911f8>]


Now, there is  another (possibly unrelated) issue: if I open the layout
again and do nothing but hit "save" and close the layout, when re-running
the code I get a brand new set of QGraphicsLineItem each time I save it.

This looks like a bug to me.




>
>
> On 21-09-18 16:29, Alessandro Pasotti wrote:
> >
> > Hi Raymond,
> >
> > You know what? I've just rebased and rebuilt current master and I cannot
> > reproduce it anymore :(
> > I checked the bindings code and it looks fine, can you check latest
> master?
> >
> >
> > On Fri, Sep 21, 2018 at 3:47 PM Raymond Nijssen <r.nijssen at terglobo.nl
> > <mailto:r.nijssen at terglobo.nl>> wrote:
> >
> >     Will do so. Thank you Alessandro!
> >
> >
> >
> >     On 21-09-18 15:32, Alessandro Pasotti wrote:
> >      > Hi Raymond,
> >      >
> >      > confirmed, there is probably something broken in the bindings,
> >     please
> >      > file a ticket.
> >      >
> >      > On Fri, Sep 21, 2018 at 3:20 PM Raymond Nijssen
> >     <r.nijssen at terglobo.nl <mailto:r.nijssen at terglobo.nl>
> >      > <mailto:r.nijssen at terglobo.nl <mailto:r.nijssen at terglobo.nl>>>
> wrote:
> >      >
> >      >     Running this python script (in qgis 3.3):
> >      >
> >      >     p = QgsProject.instance()
> >      >     lom = p.layoutManager()
> >      >     lo = lom.layoutByName('a4')
> >      >     item = lo.itemById('label_title')
> >      >     print(item)
> >      >
> >      >
> >      >     a few weeks ago, it outputed this:
> >      >     <qgis._core.QgsLayoutItemLabel object at 0x7fe90b6d0318>
> >      >
> >      >
> >      >     but today it outputs:
> >      >     <qgis._core.QgsLayoutItem object at 0x7fe90b6d0318>
> >      >
> >      >
> >      >
> >      >     My next line is:
> >      >
> >      >     item.setText('hello')
> >      >
> >      >     which doesn't work anymore, because there is no setText()
> >     function on a
> >      >     QgsLayoutItem. Has anything changed recently? Does any one
> know a
> >      >     solution?
> >      >
> >      >     Regards,
> >      >     Raymond
> >      >     _______________________________________________
> >      >     QGIS-Developer mailing list
> >      > QGIS-Developer at lists.osgeo.org
> >     <mailto:QGIS-Developer at lists.osgeo.org>
> >     <mailto:QGIS-Developer at lists.osgeo.org
> >     <mailto:QGIS-Developer at lists.osgeo.org>>
> >      >     List info:
> >     https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >      >     Unsubscribe:
> >     https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >      >
> >      >
> >      >
> >      > --
> >      > Alessandro Pasotti
> >      > w3: www.itopen.it <http://www.itopen.it> <http://www.itopen.it>
> >
> >     --
> >     Terglobo
> >     Fahrenheitstraat 1
> >     5223 BJ 's-Hertogenbosch
> >     The Netherlands
> >     +31 (0) 6 25 31 49 83
> >     _______________________________________________
> >     QGIS-Developer mailing list
> >     QGIS-Developer at lists.osgeo.org <mailto:
> QGIS-Developer at lists.osgeo.org>
> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> > --
> > Alessandro Pasotti
> > w3: www.itopen.it <http://www.itopen.it>
>
> --
> Terglobo
> Fahrenheitstraat 1
> 5223 BJ 's-Hertogenbosch
> The Netherlands
> +31 (0) 6 25 31 49 83
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180923/467ac2b0/attachment.html>

From nyall.dawson at gmail.com  Sun Sep 23 02:27:03 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sun, 23 Sep 2018 19:27:03 +1000
Subject: [QGIS-Developer] Has QgsLayout.itemById() changed?
In-Reply-To: <8766b38d-47fb-5be1-a670-623aab3c6e25@terglobo.nl>
References: <8766b38d-47fb-5be1-a670-623aab3c6e25@terglobo.nl>
Message-ID: <CAB28Asgrude4XhtB7WEFmCHzSRRaJ4SoxM=i_2AF5WNV5yYUgg@mail.gmail.com>

On Fri, 21 Sep 2018 at 23:20, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:

> which doesn't work anymore, because there is no setText() function on a
> QgsLayoutItem. Has anything changed recently? Does any one know a solution?

Nothing has changed recently -- this has always been fragile, and the
bug lies deep within the library used to create the Python bindings.

See e.g.

http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-QgsLayout-itemById-returns-wrong-object-td5350947.html

for a workaround

Nyall

Nyall

>
> Regards,
> Raymond
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From apasotti at gmail.com  Sun Sep 23 02:37:32 2018
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sun, 23 Sep 2018 11:37:32 +0200
Subject: [QGIS-Developer] Has QgsLayout.itemById() changed?
In-Reply-To: <CAB28Asgrude4XhtB7WEFmCHzSRRaJ4SoxM=i_2AF5WNV5yYUgg@mail.gmail.com>
References: <8766b38d-47fb-5be1-a670-623aab3c6e25@terglobo.nl>
 <CAB28Asgrude4XhtB7WEFmCHzSRRaJ4SoxM=i_2AF5WNV5yYUgg@mail.gmail.com>
Message-ID: <CAL5Q672usOUv+GMd6GoiBqhQaN4YAsdZFwJGRJQqqJLSj2QPcg@mail.gmail.com>

Do you have any clue about why this issue is not always reproducible?


On Sun, Sep 23, 2018, 11:27 Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Fri, 21 Sep 2018 at 23:20, Raymond Nijssen <r.nijssen at terglobo.nl>
> wrote:
>
> > which doesn't work anymore, because there is no setText() function on a
> > QgsLayoutItem. Has anything changed recently? Does any one know a
> solution?
>
> Nothing has changed recently -- this has always been fragile, and the
> bug lies deep within the library used to create the Python bindings.
>
> See e.g.
>
>
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-QgsLayout-itemById-returns-wrong-object-td5350947.html
>
> for a workaround
>
> Nyall
>
> Nyall
>
> >
> > Regards,
> > Raymond
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180923/867dfdf4/attachment.html>

From nyall.dawson at gmail.com  Sun Sep 23 02:48:12 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sun, 23 Sep 2018 19:48:12 +1000
Subject: [QGIS-Developer] Has QgsLayout.itemById() changed?
In-Reply-To: <CAL5Q672usOUv+GMd6GoiBqhQaN4YAsdZFwJGRJQqqJLSj2QPcg@mail.gmail.com>
References: <8766b38d-47fb-5be1-a670-623aab3c6e25@terglobo.nl>
 <CAB28Asgrude4XhtB7WEFmCHzSRRaJ4SoxM=i_2AF5WNV5yYUgg@mail.gmail.com>
 <CAL5Q672usOUv+GMd6GoiBqhQaN4YAsdZFwJGRJQqqJLSj2QPcg@mail.gmail.com>
Message-ID: <CAB28AsjgJiJseu-Pp21Ws9GbUD1Okgt6nqLC55v3y76MveysmQ@mail.gmail.com>

On Sun, 23 Sep 2018 at 19:37, Alessandro Pasotti <apasotti at gmail.com> wrote:
>
> Do you have any clue about why this issue is not always reproducible?

I suspect it's something to do with whether the item was created in
Python or c++.

Nyall

>
>
> On Sun, Sep 23, 2018, 11:27 Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>
>> On Fri, 21 Sep 2018 at 23:20, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:
>>
>> > which doesn't work anymore, because there is no setText() function on a
>> > QgsLayoutItem. Has anything changed recently? Does any one know a solution?
>>
>> Nothing has changed recently -- this has always been fragile, and the
>> bug lies deep within the library used to create the Python bindings.
>>
>> See e.g.
>>
>> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-QgsLayout-itemById-returns-wrong-object-td5350947.html
>>
>> for a workaround
>>
>> Nyall
>>
>> Nyall
>>
>> >
>> > Regards,
>> > Raymond
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From r.nijssen at terglobo.nl  Sun Sep 23 04:50:30 2018
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Sun, 23 Sep 2018 13:50:30 +0200
Subject: [QGIS-Developer] Has QgsLayout.itemById() changed?
In-Reply-To: <CAB28AsjgJiJseu-Pp21Ws9GbUD1Okgt6nqLC55v3y76MveysmQ@mail.gmail.com>
References: <8766b38d-47fb-5be1-a670-623aab3c6e25@terglobo.nl>
 <CAB28Asgrude4XhtB7WEFmCHzSRRaJ4SoxM=i_2AF5WNV5yYUgg@mail.gmail.com>
 <CAL5Q672usOUv+GMd6GoiBqhQaN4YAsdZFwJGRJQqqJLSj2QPcg@mail.gmail.com>
 <CAB28AsjgJiJseu-Pp21Ws9GbUD1Okgt6nqLC55v3y76MveysmQ@mail.gmail.com>
Message-ID: <225c6c99-feb3-f4e9-4b6d-2e0efec89d22@terglobo.nl>

Thank you Nyall and Allesandro.

So I don't need to file the bus anymore. But who could/would dive into 
this and fix it? And how much would it cost? I might be able to find 
some funding.

For now I will use the workaround.

Raymond



On 23-09-18 11:48, Nyall Dawson wrote:
> On Sun, 23 Sep 2018 at 19:37, Alessandro Pasotti <apasotti at gmail.com> wrote:
>>
>> Do you have any clue about why this issue is not always reproducible?
> 
> I suspect it's something to do with whether the item was created in
> Python or c++.
> 
> Nyall
> 
>>
>>
>> On Sun, Sep 23, 2018, 11:27 Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>>
>>> On Fri, 21 Sep 2018 at 23:20, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:
>>>
>>>> which doesn't work anymore, because there is no setText() function on a
>>>> QgsLayoutItem. Has anything changed recently? Does any one know a solution?
>>>
>>> Nothing has changed recently -- this has always been fragile, and the
>>> bug lies deep within the library used to create the Python bindings.
>>>
>>> See e.g.
>>>
>>> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-QgsLayout-itemById-returns-wrong-object-td5350947.html
>>>
>>> for a workaround
>>>
>>> Nyall
>>>
>>> Nyall
>>>
>>>>
>>>> Regards,
>>>> Raymond
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

-- 
Terglobo
Fahrenheitstraat 1
5223 BJ 's-Hertogenbosch
The Netherlands
+31 (0) 6 25 31 49 83

From adam.borczyk at gis-support.pl  Sun Sep 23 06:45:45 2018
From: adam.borczyk at gis-support.pl (Adam Borczyk)
Date: Sun, 23 Sep 2018 15:45:45 +0200
Subject: [QGIS-Developer] QgsRubberband
Message-ID: <CA+qEb=01Ny83of95cpCr78V3xTAm0xCD5soSE2T73W-GBO8K=A@mail.gmail.com>

Hello everyone,
I'm automating map printing in PyQGIS 3 and encountered an issue with
QgsRubberband - the rubberband is not visible on map rendered from composer.

I guess there is a good reason to not to include it, but is there a way to
do so anyway? I just need to mark a very temporary polygon on the map and
place it on exported layout, so creating a memory layer for just one, small
polygon seems to be an overkill for me.

Currently I load a QPT file into QgsLayout and have QgsLayoutItemMap item
in there. Everything renders fine except for the rubberband. I'd appreciate
any hints on that.

Best regards
Adam Borczyk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180923/fc9ba082/attachment.html>

From noreply at qgis.org  Sun Sep 23 08:42:13 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Sun, 23 Sep 2018 15:42:13 -0000
Subject: [QGIS-Developer] Plugin [1410] ImportPhotos approval notification.
Message-ID: <20180923154213.2934.53824@2c6504964296>


Plugin ImportPhotos approval by pcav.
The plugin version "[1410] ImportPhotos 1.3" is now approved
Link: http://plugins.qgis.org/plugins/ImportPhotos/

From tim at kartoza.com  Sun Sep 23 13:38:19 2018
From: tim at kartoza.com (Tim Sutton)
Date: Sun, 23 Sep 2018 22:38:19 +0200
Subject: [QGIS-Developer] QgsRubberband
In-Reply-To: <CA+qEb=01Ny83of95cpCr78V3xTAm0xCD5soSE2T73W-GBO8K=A@mail.gmail.com>
References: <CA+qEb=01Ny83of95cpCr78V3xTAm0xCD5soSE2T73W-GBO8K=A@mail.gmail.com>
Message-ID: <5C651A6F-85B5-42AF-9208-B7E34E8A171D@kartoza.com>

Hi Adam

I think the idiomatic way to do this would be to rather make (convert rubber bands to) a memory layer with some features that you need displayed for printing and then remove it again after the print is done (aka a redlining layer).

Regards

Tim

> On 23 Sep 2018, at 15:45, Adam Borczyk <adam.borczyk at gis-support.pl> wrote:
> 
> Hello everyone,
> I'm automating map printing in PyQGIS 3 and encountered an issue with QgsRubberband - the rubberband is not visible on map rendered from composer.
> 
> I guess there is a good reason to not to include it, but is there a way to do so anyway? I just need to mark a very temporary polygon on the map and place it on exported layout, so creating a memory layer for just one, small polygon seems to be an overkill for me.
> 
> Currently I load a QPT file into QgsLayout and have QgsLayoutItemMap item in there. Everything renders fine except for the rubberband. I'd appreciate any hints on that.
> 
> Best regards
> Adam Borczyk
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

â








Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180923/5a4222e2/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180923/5a4222e2/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: Message signed with OpenPGP
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180923/5a4222e2/attachment-0001.sig>

From nyall.dawson at gmail.com  Sun Sep 23 15:06:23 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 24 Sep 2018 08:06:23 +1000
Subject: [QGIS-Developer] Has QgsLayout.itemById() changed?
In-Reply-To: <225c6c99-feb3-f4e9-4b6d-2e0efec89d22@terglobo.nl>
References: <8766b38d-47fb-5be1-a670-623aab3c6e25@terglobo.nl>
 <CAB28Asgrude4XhtB7WEFmCHzSRRaJ4SoxM=i_2AF5WNV5yYUgg@mail.gmail.com>
 <CAL5Q672usOUv+GMd6GoiBqhQaN4YAsdZFwJGRJQqqJLSj2QPcg@mail.gmail.com>
 <CAB28AsjgJiJseu-Pp21Ws9GbUD1Okgt6nqLC55v3y76MveysmQ@mail.gmail.com>
 <225c6c99-feb3-f4e9-4b6d-2e0efec89d22@terglobo.nl>
Message-ID: <CAB28AsjZOo83-f0T8EK9v2Ph5YX7Xiv28gMAzAL7f2wpK7iDsg@mail.gmail.com>

On Sun, 23 Sep 2018 at 21:50, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:
>
> Thank you Nyall and Allesandro.
>
> So I don't need to file the bus anymore. But who could/would dive into
> this and fix it? And how much would it cost? I might be able to find
> some funding.

Let me kick off some discussions with PyQt upstream, just to confirm
that this is an upstream bug and if so, what would be involved in a
fix.

Nyall

>
> For now I will use the workaround.
>
> Raymond
>
>
>
> On 23-09-18 11:48, Nyall Dawson wrote:
> > On Sun, 23 Sep 2018 at 19:37, Alessandro Pasotti <apasotti at gmail.com> wrote:
> >>
> >> Do you have any clue about why this issue is not always reproducible?
> >
> > I suspect it's something to do with whether the item was created in
> > Python or c++.
> >
> > Nyall
> >
> >>
> >>
> >> On Sun, Sep 23, 2018, 11:27 Nyall Dawson <nyall.dawson at gmail.com> wrote:
> >>>
> >>> On Fri, 21 Sep 2018 at 23:20, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:
> >>>
> >>>> which doesn't work anymore, because there is no setText() function on a
> >>>> QgsLayoutItem. Has anything changed recently? Does any one know a solution?
> >>>
> >>> Nothing has changed recently -- this has always been fragile, and the
> >>> bug lies deep within the library used to create the Python bindings.
> >>>
> >>> See e.g.
> >>>
> >>> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-QgsLayout-itemById-returns-wrong-object-td5350947.html
> >>>
> >>> for a workaround
> >>>
> >>> Nyall
> >>>
> >>> Nyall
> >>>
> >>>>
> >>>> Regards,
> >>>> Raymond
> >>>> _______________________________________________
> >>>> QGIS-Developer mailing list
> >>>> QGIS-Developer at lists.osgeo.org
> >>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>> _______________________________________________
> >>> QGIS-Developer mailing list
> >>> QGIS-Developer at lists.osgeo.org
> >>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> --
> Terglobo
> Fahrenheitstraat 1
> 5223 BJ 's-Hertogenbosch
> The Netherlands
> +31 (0) 6 25 31 49 83
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From noreply at qgis.org  Sun Sep 23 21:54:51 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 24 Sep 2018 04:54:51 -0000
Subject: [QGIS-Developer] Plugin [1195] MPA Post-Hoc Accounting approval
	notification.
Message-ID: <20180924045451.14866.24919@2c6504964296>


Plugin MPA Post-Hoc Accounting approval by pcav.
The plugin version "[1195] MPA Post-Hoc Accounting 0.7 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/MPAPostHocAccounting/

From noreply at qgis.org  Sun Sep 23 21:54:58 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 24 Sep 2018 04:54:58 -0000
Subject: [QGIS-Developer] Plugin [1195] MPA Post-Hoc Accounting approval
	notification.
Message-ID: <20180924045458.14867.36120@2c6504964296>


Plugin MPA Post-Hoc Accounting approval by pcav.
The plugin version "[1195] MPA Post-Hoc Accounting 0.8 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/MPAPostHocAccounting/

From noreply at qgis.org  Sun Sep 23 22:24:07 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 24 Sep 2018 05:24:07 -0000
Subject: [QGIS-Developer] Plugin [1430] HCMGIS approval notification.
Message-ID: <20180924052407.14866.3545@2c6504964296>


Plugin HCMGIS approval by pcav.
The plugin version "[1430] HCMGIS 18.9.24" is now approved
Link: http://plugins.qgis.org/plugins/HCMGIS/

From adam.borczyk at gis-support.pl  Mon Sep 24 01:14:12 2018
From: adam.borczyk at gis-support.pl (Adam Borczyk)
Date: Mon, 24 Sep 2018 10:14:12 +0200
Subject: [QGIS-Developer] QgsRubberband
In-Reply-To: <5C651A6F-85B5-42AF-9208-B7E34E8A171D@kartoza.com>
References: <CA+qEb=01Ny83of95cpCr78V3xTAm0xCD5soSE2T73W-GBO8K=A@mail.gmail.com>
 <5C651A6F-85B5-42AF-9208-B7E34E8A171D@kartoza.com>
Message-ID: <CA+qEb=3Wcjv6BDXrViQVzdd6quq51NBwBwvuM7shX1vjtb=GmQ@mail.gmail.com>

Hi,
thanks for your answer. Seems memory layer is the only way to go.

Best regards

On Sun, 23 Sep 2018 at 22:38, Tim Sutton <tim at kartoza.com> wrote:

> Hi Adam
>
> I think the idiomatic way to do this would be to rather make (convert
> rubber bands to) a memory layer with some features that you need displayed
> for printing and then remove it again after the print is done (aka a
> redlining layer).
>
> Regards
>
> Tim
>
> On 23 Sep 2018, at 15:45, Adam Borczyk <adam.borczyk at gis-support.pl>
> wrote:
>
> Hello everyone,
> I'm automating map printing in PyQGIS 3 and encountered an issue with
> QgsRubberband - the rubberband is not visible on map rendered from composer.
>
> I guess there is a good reason to not to include it, but is there a way to
> do so anyway? I just need to mark a very temporary polygon on the map and
> place it on exported layout, so creating a memory layer for just one, small
> polygon seems to be an overkill for me.
>
> Currently I load a QPT file into QgsLayout and have QgsLayoutItemMap item
> in there. Everything renders fine except for the rubberband. I'd appreciate
> any hints on that.
>
> Best regards
> Adam Borczyk
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> â
>
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Ex Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180924/96caa0c5/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180924/96caa0c5/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180924/96caa0c5/attachment-0003.jpg>

From dassau at gbd-consult.de  Mon Sep 24 02:05:19 2018
From: dassau at gbd-consult.de (Otto Dassau)
Date: Mon, 24 Sep 2018 11:05:19 +0200
Subject: [QGIS-Developer] is_layer_active expression
Message-ID: <20180924110519.6a36d969@indien>

Dear Devs,

in QGIS 3 I found the expression "is_layer_active" within the copyright
decoration very useful. I would like to use this expression also within the
print composer, but it seems to be not available there.

Is this correct, are expressions not available all over QGIS within the
expression builder? And how can I get this expression working for the print
composer as well? 

Thanks for any hint.

Regards, Otto

From noreply at qgis.org  Mon Sep 24 05:02:21 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 24 Sep 2018 12:02:21 -0000
Subject: [QGIS-Developer] Plugin [998] Standard Deviational Ellipse approval
	notification.
Message-ID: <20180924120221.15152.85056@2c6504964296>


Plugin Standard Deviational Ellipse approval by pcav.
The plugin version "[998] Standard Deviational Ellipse 1.2.3" is now approved
Link: http://plugins.qgis.org/plugins/SDEllipse/

From noreply at qgis.org  Mon Sep 24 05:02:29 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 24 Sep 2018 12:02:29 -0000
Subject: [QGIS-Developer] Plugin [998] Standard Deviational Ellipse approval
	notification.
Message-ID: <20180924120229.15152.13718@2c6504964296>


Plugin Standard Deviational Ellipse approval by pcav.
The plugin version "[998] Standard Deviational Ellipse 3.0.3" is now approved
Link: http://plugins.qgis.org/plugins/SDEllipse/

From noreply at qgis.org  Mon Sep 24 05:09:27 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 24 Sep 2018 12:09:27 -0000
Subject: [QGIS-Developer] Plugin [407] geopunt4Qgis approval notification.
Message-ID: <20180924120927.15152.4679@2c6504964296>


Plugin geopunt4Qgis approval by pcav.
The plugin version "[407] geopunt4Qgis 2.0.2" is now approved
Link: http://plugins.qgis.org/plugins/geopunt4Qgis/

From enrico.chiaradia at yahoo.it  Mon Sep 24 09:13:01 2018
From: enrico.chiaradia at yahoo.it (enrico chiaradia)
Date: Mon, 24 Sep 2018 18:13:01 +0200
Subject: [QGIS-Developer] qgis 3: proper way to kill a long running
	processing alghorithm
In-Reply-To: <CABgOYCeewwsqHaDCW+2FR=dmhu=BsvjV33VJEr2wuX9qV2X3zw@mail.gmail.com>
References: <CABgOYCcoi9KTBD_BQmOMMjndc7y2Z+ZrCKFBDSHz8J+YKsFTvw@mail.gmail.com>
 <20180918112614.rut5b2ktlvr3k7ti@norbit.de>
 <CABgOYCeewwsqHaDCW+2FR=dmhu=BsvjV33VJEr2wuX9qV2X3zw@mail.gmail.com>
Message-ID: <a2320bf5-c39b-4551-dd1a-b7f136eaf4af@yahoo.it>

Hi list,

what is the proper way to stop a very long processing alghorithm running 
in QGIS 3 in a python plugin?
In my plugin under QGIS 2, I assigned to the GeoAlgorithm a custom 
AlgorithmDialog that stops the running thread when the "closing event" 
happens (i.e. when the user clicks on the close button in the dialog).
The long running function is in fact a new object of class QThread (not 
sure that is the best solution but it works perfectly under QGIS 2).
Is there a similar way also in QGIS 3? Are there the equivalents to 
AlgorithmDialog class and the getCustomParametersDialog function of 
GeoAlgorithm?

Thanks,

enrico

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180924/7f472a4c/attachment.html>

From adenaculture at gmail.com  Mon Sep 24 13:49:08 2018
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 24 Sep 2018 16:49:08 -0400
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
 <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
Message-ID: <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>

Nyall,

Thanks for your confidence and encouragement. I would be interested, but
don't know where to begin. Shape Tools relies on geographiclib which is
slightly more accurate than Vincinty. Geographlib is not a library that is
included with the OSGeo distribution. However, as of the past several years
Proj.4 makes use of geographiclib. I am guessing QGIS has not exposed any
of proj.4's geographiclib routines and I don't know how much of
geographiclib Proj.4 actually uses. Including geographiclib could open up
future opportunities of using some of the Earth's gravity models which are
even more accurate for measuring distances. Using the C++ geographiclib
libraries in the QGIS core would be faster than python only code.

For me to even begin, I need geographiclib as part of the QGIS core. If
there is a path to accomplish this, then we can discuss further details on
what and how to migrate Shape Tools functionality into core.

Calvin

> If you have any suggestions I would welcome them.
>
> Shape Tools is fantastic, and plugs a much needed gap in QGIS core
> functionality. Lovely work!
>
> Can I strongly encourage you to investigate porting some of these
> features/fixes over to QGIS core? You've obviously got the talent and
> knowledge to do so, and it'd be great to offer this functionality
> out-of-the-box. I'm available for mentoring if you need assistance
> with QGIS core development/build setup/general c++ help!
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180924/e71d58c6/attachment.html>

From nyall.dawson at gmail.com  Mon Sep 24 16:25:21 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 25 Sep 2018 09:25:21 +1000
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
 <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>
Message-ID: <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>

On Tue, 25 Sep 2018 at 06:49, C Hamilton <adenaculture at gmail.com> wrote:
>
> Nyall,
>
> Thanks for your confidence and encouragement. I would be interested, but don't know where to begin. Shape Tools relies on geographiclib which is slightly more accurate than Vincinty. Geographlib is not a library that is included with the OSGeo distribution. However, as of the past several years Proj.4 makes use of geographiclib. I am guessing QGIS has not exposed any of proj.4's geographiclib routines and I don't know how much of geographiclib Proj.4 actually uses. Including geographiclib could open up future opportunities of using some of the Earth's gravity models which are even more accurate for measuring distances. Using the C++ geographiclib libraries in the QGIS core would be faster than python only code.
>
> For me to even begin, I need geographiclib as part of the QGIS core. If there is a path to accomplish this, then we can discuss further details on what and how to migrate Shape Tools functionality into core.

That should be relatively straightforward. I can do this after 3.4 is
released and feature freeze is lifted. Remind me after this :)

Nyall

>
> Calvin
>
>> > If you have any suggestions I would welcome them.
>>
>> Shape Tools is fantastic, and plugs a much needed gap in QGIS core
>> functionality. Lovely work!
>>
>> Can I strongly encourage you to investigate porting some of these
>> features/fixes over to QGIS core? You've obviously got the talent and
>> knowledge to do so, and it'd be great to offer this functionality
>> out-of-the-box. I'm available for mentoring if you need assistance
>> with QGIS core development/build setup/general c++ help!
>>
>> Nyall
>
>

From noreply at qgis.org  Mon Sep 24 21:47:01 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 25 Sep 2018 04:47:01 -0000
Subject: [QGIS-Developer] Plugin [1195] MPA Post-Hoc Accounting approval
	notification.
Message-ID: <20180925044701.5270.21563@2c6504964296>


Plugin MPA Post-Hoc Accounting approval by pcav.
The plugin version "[1195] MPA Post-Hoc Accounting 0.10 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/MPAPostHocAccounting/

From noreply at qgis.org  Mon Sep 24 21:47:19 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 25 Sep 2018 04:47:19 -0000
Subject: [QGIS-Developer] Plugin [1195] MPA Post-Hoc Accounting approval
	notification.
Message-ID: <20180925044719.5272.86418@2c6504964296>


Plugin MPA Post-Hoc Accounting approval by pcav.
The plugin version "[1195] MPA Post-Hoc Accounting 0.9 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/MPAPostHocAccounting/

From kreve at sdfe.dk  Mon Sep 24 22:24:26 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Tue, 25 Sep 2018 05:24:26 +0000
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
 <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
Message-ID: <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>

Nyall,

that would be a very welcome addition to QGIS! Let me know if I can be of assistance to you in that regard (I suspect documentation might be the biggest issueâ¦).

Calvin,

The functionality that PROJ exposes from GeographicLib is seen in the geodesic.h header [0]. I am not entirely sure that itâs a one to one representation of the standalone version of the library but I think so. If thereâs is something that you need that is missing let me know and Iâll see what I can do about it for the next release of PROJ.


On a related note, I have been meaning to raise a similar issue based on QGISâs not so accurate polygon-area-on-the-ellipsoid calculations. A colleague of mine came across some differences between QGIS and CARIS LOTS while doing area calculations in relation to a border dispute at sea. After that I tested several popular closed source GIS apps and they all performed better than QGIS. I would have loved to use QGIS to solve this problem but unfortunately had to go with one of the other applications for this. Basing qgsdistancearea.[cpp|h] (probably other ones as well) on GeographicLib should sort that out and bring QGIS at the top of the game :-)

/Kristian

[0] https://github.com/OSGeo/proj.4/blob/master/src/geodesic.h

On 25 Sep 2018, at 01:25, Nyall Dawson <nyall.dawson at gmail.com<mailto:nyall.dawson at gmail.com>> wrote:

On Tue, 25 Sep 2018 at 06:49, C Hamilton <adenaculture at gmail.com<mailto:adenaculture at gmail.com>> wrote:

Nyall,

Thanks for your confidence and encouragement. I would be interested, but don't know where to begin. Shape Tools relies on geographiclib which is slightly more accurate than Vincinty. Geographlib is not a library that is included with the OSGeo distribution. However, as of the past several years Proj.4 makes use of geographiclib. I am guessing QGIS has not exposed any of proj.4's geographiclib routines and I don't know how much of geographiclib Proj.4 actually uses. Including geographiclib could open up future opportunities of using some of the Earth's gravity models which are even more accurate for measuring distances. Using the C++ geographiclib libraries in the QGIS core would be faster than python only code.

For me to even begin, I need geographiclib as part of the QGIS core. If there is a path to accomplish this, then we can discuss further details on what and how to migrate Shape Tools functionality into core.

That should be relatively straightforward. I can do this after 3.4 is
released and feature freeze is lifted. Remind me after this :)

Nyall


Calvin

If you have any suggestions I would welcome them.

Shape Tools is fantastic, and plugs a much needed gap in QGIS core
functionality. Lovely work!

Can I strongly encourage you to investigate porting some of these
features/fixes over to QGIS core? You've obviously got the talent and
knowledge to do so, and it'd be great to offer this functionality
out-of-the-box. I'm available for mentoring if you need assistance
with QGIS core development/build setup/general c++ help!

Nyall


_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180925/83699572/attachment-0001.html>

From cavallini at faunalia.it  Mon Sep 24 23:23:21 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 25 Sep 2018 08:23:21 +0200
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
 <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
Message-ID: <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>

Hi Kristian,


Il 09/25/2018 07:24 AM, Kristian Evers ha scritto:
>
>
> On a related note, I have been meaning to raise a similar issue based
> on QGISâs not so accurate polygon-area-on-the-ellipsoid calculations.
> A colleague of mine came across some differences between QGIS and
> CARIS LOTS while doing area calculations in relation to a border
> dispute at sea. After that I tested several popular closed source GIS
> apps and they all performed better than QGIS.
this is worth exploring in detail. could you please be more specific? do
you have a test case? could you share the results, or give us a way to
replicate them?
Thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/


From nyall.dawson at gmail.com  Mon Sep 24 23:37:38 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 25 Sep 2018 16:37:38 +1000
Subject: [QGIS-Developer] is_layer_active expression
In-Reply-To: <20180924110519.6a36d969@indien>
References: <20180924110519.6a36d969@indien>
Message-ID: <CAB28AshuDVVX3snoz9nJH1t6UOayuYZGJy5cxWhcXaW-hZP96A@mail.gmail.com>

On Mon, 24 Sep 2018 at 19:20, Otto Dassau <dassau at gbd-consult.de> wrote:
>
> Dear Devs,
>
> in QGIS 3 I found the expression "is_layer_active" within the copyright
> decoration very useful. I would like to use this expression also within the
> print composer, but it seems to be not available there.

Confirmed -- fix incoming!

> Is this correct, are expressions not available all over QGIS within the
> expression builder?

Some expression functions/variables are "context dependent". E.g.
is_layer_visible doesn't make any sense in expressions which aren't
directly associated with a map. So the function won't be available as
for expressions used as a field default value, or for a layout text
label (since the layout may have multiple maps, each with a different
layer set, and a label isn't linked to any map item in particular!).

> And how can I get this expression working for the print composer as well?

Wait for 3.4 ;)

Nyall

From dassau at gbd-consult.de  Mon Sep 24 23:37:38 2018
From: dassau at gbd-consult.de (Otto Dassau)
Date: Tue, 25 Sep 2018 08:37:38 +0200
Subject: [QGIS-Developer] is_layer_active expression
In-Reply-To: <CAB28AshuDVVX3snoz9nJH1t6UOayuYZGJy5cxWhcXaW-hZP96A@mail.gmail.com>
References: <20180924110519.6a36d969@indien>
 <CAB28AshuDVVX3snoz9nJH1t6UOayuYZGJy5cxWhcXaW-hZP96A@mail.gmail.com>
Message-ID: <20180925083738.0bfc984a@indien>

thanks for the info Nyall!

Regards, 
Otto

Am Tue, 25 Sep 2018 16:37:38 +1000
schrieb Nyall Dawson <nyall.dawson at gmail.com>:

> On Mon, 24 Sep 2018 at 19:20, Otto Dassau <dassau at gbd-consult.de> wrote:
> >
> > Dear Devs,
> >
> > in QGIS 3 I found the expression "is_layer_active" within the copyright
> > decoration very useful. I would like to use this expression also within
> > the print composer, but it seems to be not available there.  
> 
> Confirmed -- fix incoming!
> 
> > Is this correct, are expressions not available all over QGIS within the
> > expression builder?  
> 
> Some expression functions/variables are "context dependent". E.g.
> is_layer_visible doesn't make any sense in expressions which aren't
> directly associated with a map. So the function won't be available as
> for expressions used as a field default value, or for a layout text
> label (since the layout may have multiple maps, each with a different
> layer set, and a label isn't linked to any map item in particular!).
> 
> > And how can I get this expression working for the print composer as
> > well?  
> 
> Wait for 3.4 ;)
> 
> Nyall


From kreve at sdfe.dk  Mon Sep 24 23:59:24 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Tue, 25 Sep 2018 06:59:24 +0000
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
 <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
 <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
Message-ID: <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>

Hi Paolo,

I have some rought notes that I can try to polish up a bit and share here.
I'll see if I can find the time for that today. I didn't get to the bottom of
the problem but I am leaning towards the issue being that QGIS uses an
inferior algorithm to determine geodesics. Unfortunately I couldn't find out
from either the source code or the documentation which algorithm is used.
As far as I remember it differs from the otherwise popular algorithm by
Vincenty. That may be because a different algorithm is used or the
Implementation is wrong.

I'll get back with a better write-up later and some test data and results.

/Kristian

-----Oprindelig meddelelse-----
Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne af Paolo Cavallini
Sendt: 25. september 2018 08:23
Til: qgis-developer at lists.osgeo.org
Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0

Hi Kristian,


Il 09/25/2018 07:24 AM, Kristian Evers ha scritto:
>
>
> On a related note, I have been meaning to raise a similar issue based
> on QGISâs not so accurate polygon-area-on-the-ellipsoid calculations.
> A colleague of mine came across some differences between QGIS and
> CARIS LOTS while doing area calculations in relation to a border
> dispute at sea. After that I tested several popular closed source GIS
> apps and they all performed better than QGIS.
this is worth exploring in detail. could you please be more specific? do
you have a test case? could you share the results, or give us a way to
replicate them?
Thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Tue Sep 25 00:03:42 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 25 Sep 2018 17:03:42 +1000
Subject: [QGIS-Developer] is_layer_active expression
In-Reply-To: <20180925083738.0bfc984a@indien>
References: <20180924110519.6a36d969@indien>
 <CAB28AshuDVVX3snoz9nJH1t6UOayuYZGJy5cxWhcXaW-hZP96A@mail.gmail.com>
 <20180925083738.0bfc984a@indien>
Message-ID: <CAB28Asgj3hUx9Swh=CfcAn=qtG1h=oSGThp+VKQX6uJqLtk-Tw@mail.gmail.com>

On Tue, 25 Sep 2018 at 16:43, Otto Dassau <dassau at gbd-consult.de> wrote:
>
> thanks for the info Nyall!

Ok, PR opened. https://github.com/qgis/QGIS/pull/8016

But for reference -- I think what's going to be more useful for layout
use is the 3.4 @map_layers variable. As noted in the earlier reply,
some functions are context dependent, and is_layer_visible is one of
these. So in 3.4 it will work *within* a layout item map, it won't
allow you to e.g. have a label item outside the map change its content
based on is_layer_visible.

On the other hand, you *can* retrieve expression variables (not
functions!) from another layout item, using the item_variables
function! So you can build the expression:

   map_get( item_variables( 'Your_Map_ID' ), 'map_layers' )

To retrieve a list of map layers within the Your_Map_Id map item, and
this expression will work anywhere inside the layout! (i.e. labels,
data defined expressions, etc).

One intended use case for this is to allow labels with expressions like:

   array_to_string( array_foreach(map_get( item_variables(
'Your_Map_ID' ), 'map_layers' ), layer_property(@element, 'name')),
',' )

To get a nice comma separated list of all layers included in the map
item. (Admittedly, that expression is quite complex, but if you pick
it apart piece by piece you should be able to decipher it!).

Nyall




>
> Regards,
> Otto
>
> Am Tue, 25 Sep 2018 16:37:38 +1000
> schrieb Nyall Dawson <nyall.dawson at gmail.com>:
>
> > On Mon, 24 Sep 2018 at 19:20, Otto Dassau <dassau at gbd-consult.de> wrote:
> > >
> > > Dear Devs,
> > >
> > > in QGIS 3 I found the expression "is_layer_active" within the copyright
> > > decoration very useful. I would like to use this expression also within
> > > the print composer, but it seems to be not available there.
> >
> > Confirmed -- fix incoming!
> >
> > > Is this correct, are expressions not available all over QGIS within the
> > > expression builder?
> >
> > Some expression functions/variables are "context dependent". E.g.
> > is_layer_visible doesn't make any sense in expressions which aren't
> > directly associated with a map. So the function won't be available as
> > for expressions used as a field default value, or for a layout text
> > label (since the layout may have multiple maps, each with a different
> > layer set, and a label isn't linked to any map item in particular!).
> >
> > > And how can I get this expression working for the print composer as
> > > well?
> >
> > Wait for 3.4 ;)
> >
> > Nyall
>

From nyall.dawson at gmail.com  Tue Sep 25 00:06:41 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 25 Sep 2018 17:06:41 +1000
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
 <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
 <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
 <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>
Message-ID: <CAB28Ashz2bS4nSE0OHSQVsi_75m+igyAeeMKJ42SiceXoc3tQw@mail.gmail.com>

On Tue, 25 Sep 2018 at 16:59, Kristian Evers <kreve at sdfe.dk> wrote:
>
> Hi Paolo,
>
> I have some rought notes that I can try to polish up a bit and share here.
> I'll see if I can find the time for that today. I didn't get to the bottom of
> the problem but I am leaning towards the issue being that QGIS uses an
> inferior algorithm to determine geodesics. Unfortunately I couldn't find out
> from either the source code or the documentation which algorithm is used.
> As far as I remember it differs from the otherwise popular algorithm by
> Vincenty. That may be because a different algorithm is used or the
> Implementation is wrong.
>
> I'll get back with a better write-up later and some test data and results.

We use a direct port from GRASS:

https://github.com/qgis/QGIS/blob/master/src/core/qgsdistancearea.cpp#L690

vs GRASS upstream:

https://trac.osgeo.org/grass/browser/grass/trunk/lib/gis/area_poly1.c?rev=71260

It's not very stable for very small areas -- better to use cartesian
calculations there. Or bring in geographiclib and punt the
responsibility elsewhere ;)

Nyall



>
> /Kristian
>
> -----Oprindelig meddelelse-----
> Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne af Paolo Cavallini
> Sendt: 25. september 2018 08:23
> Til: qgis-developer at lists.osgeo.org
> Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
>
> Hi Kristian,
>
>
> Il 09/25/2018 07:24 AM, Kristian Evers ha scritto:
> >
> >
> > On a related note, I have been meaning to raise a similar issue based
> > on QGISâs not so accurate polygon-area-on-the-ellipsoid calculations.
> > A colleague of mine came across some differences between QGIS and
> > CARIS LOTS while doing area calculations in relation to a border
> > dispute at sea. After that I tested several popular closed source GIS
> > apps and they all performed better than QGIS.
> this is worth exploring in detail. could you please be more specific? do
> you have a test case? could you share the results, or give us a way to
> replicate them?
> Thanks.
>
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS.ORG Chair:
> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From kreve at sdfe.dk  Tue Sep 25 00:14:59 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Tue, 25 Sep 2018 07:14:59 +0000
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <CAB28Ashz2bS4nSE0OHSQVsi_75m+igyAeeMKJ42SiceXoc3tQw@mail.gmail.com>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
 <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
 <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
 <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>
 <CAB28Ashz2bS4nSE0OHSQVsi_75m+igyAeeMKJ42SiceXoc3tQw@mail.gmail.com>
Message-ID: <2E885BB293AF0448A0181138489E9A0EAEEC0122@S000014.PROD.SITAD.DK>

It's not a small area, that's why I have been nitpicking ellipsoid area calculation
algorithms!
I did end up doing the calculations with geographiblib to get a reference to judge
various other calculations by. It's a pain in the butt to extract the data from a
polygon shapefile (or whatever) and format it to suit the planimeter app of
geographiclib. It would be so much cooler if I could get the same results by
clicking info on a polygon in QGIS :-)

/Kristian


-----Oprindelig meddelelse-----
Fra: Nyall Dawson <nyall.dawson at gmail.com> 
Sendt: 25. september 2018 09:07
Til: Kristian Evers <kreve at sdfe.dk>
Cc: Paolo Cavallini <cavallini at faunalia.it>; qgis-developer <qgis-developer at lists.osgeo.org>
Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0

On Tue, 25 Sep 2018 at 16:59, Kristian Evers <kreve at sdfe.dk> wrote:
>
> Hi Paolo,
>
> I have some rought notes that I can try to polish up a bit and share here.
> I'll see if I can find the time for that today. I didn't get to the bottom of
> the problem but I am leaning towards the issue being that QGIS uses an
> inferior algorithm to determine geodesics. Unfortunately I couldn't find out
> from either the source code or the documentation which algorithm is used.
> As far as I remember it differs from the otherwise popular algorithm by
> Vincenty. That may be because a different algorithm is used or the
> Implementation is wrong.
>
> I'll get back with a better write-up later and some test data and results.

We use a direct port from GRASS:

https://github.com/qgis/QGIS/blob/master/src/core/qgsdistancearea.cpp#L690

vs GRASS upstream:

https://trac.osgeo.org/grass/browser/grass/trunk/lib/gis/area_poly1.c?rev=71260

It's not very stable for very small areas -- better to use cartesian
calculations there. Or bring in geographiclib and punt the
responsibility elsewhere ;)

Nyall



>
> /Kristian
>
> -----Oprindelig meddelelse-----
> Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne af Paolo Cavallini
> Sendt: 25. september 2018 08:23
> Til: qgis-developer at lists.osgeo.org
> Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
>
> Hi Kristian,
>
>
> Il 09/25/2018 07:24 AM, Kristian Evers ha scritto:
> >
> >
> > On a related note, I have been meaning to raise a similar issue based
> > on QGISâs not so accurate polygon-area-on-the-ellipsoid calculations.
> > A colleague of mine came across some differences between QGIS and
> > CARIS LOTS while doing area calculations in relation to a border
> > dispute at sea. After that I tested several popular closed source GIS
> > apps and they all performed better than QGIS.
> this is worth exploring in detail. could you please be more specific? do
> you have a test case? could you share the results, or give us a way to
> replicate them?
> Thanks.
>
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS.ORG Chair:
> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From mj10777 at googlemail.com  Tue Sep 25 00:25:54 2018
From: mj10777 at googlemail.com (Mark Johnson)
Date: Tue, 25 Sep 2018 09:25:54 +0200
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
Message-ID: <CAEEbjBgbyGVfKS+p9D8HObUizx3H45apErFhwayR_m3-aTVgPw@mail.gmail.com>

>> We use a direct port from GRASS:
This may also be caused by:

/*
 *  From original rttopo documentation:
 *  Tested against:
 *   http://mascot.gdbc.gov.bc.ca/mascot/util1b.html
 *  and
 *   http://www.ga.gov.au/nmd/geodesy/datums/vincenty_direct.jsp
 */
QgsPointXY QgsDistanceArea::computeSpheroidProject(
  const QgsPointXY &p1, double distance, double azimuth ) const

which is used in rtspheroid.c when GeographicLib is not avaliable.

Mark
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180925/95122744/attachment.html>

From noreply at qgis.org  Tue Sep 25 02:02:19 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 25 Sep 2018 09:02:19 -0000
Subject: [QGIS-Developer] Plugin [1410] ImportPhotos approval notification.
Message-ID: <20180925090219.5272.5331@2c6504964296>


Plugin ImportPhotos approval by pcav.
The plugin version "[1410] ImportPhotos 1.4" is now approved
Link: http://plugins.qgis.org/plugins/ImportPhotos/

From delazj at gmail.com  Tue Sep 25 03:01:38 2018
From: delazj at gmail.com (DelazJ)
Date: Tue, 25 Sep 2018 12:01:38 +0200
Subject: [QGIS-Developer] [Qgis-psc] Fwd:  Documentation writing
In-Reply-To: <c757469e-cb3b-0a92-6704-b02422e53af9@faunalia.it>
References: <12de22d1-a8fe-f20c-3c79-603731d6fb4f@faunalia.it>
 <9a6bc898-cd3f-bf2a-758a-2b3adfe75ea3@faunalia.it>
 <2f7795cb-8322-ae54-441d-d2154df5a931@oslandia.com>
 <c757469e-cb3b-0a92-6704-b02422e53af9@faunalia.it>
Message-ID: <CAECJsSqtnjZhe7wW+yD2KX+d92mib6eWQxwhtq3g4m9L=ySwjg@mail.gmail.com>

Hi all (sorry for the cross-posting but it's because the call was made if
I'm not wrong on all the three channels)

Thanks to those that already applied and happy to see that Documentation
repo will likely be lively in upcoming weeks.
If that can help to attract more people, these are some of the main areas I
feel the documentation is far behind (or the features I think would be
worth describing in priority in official manuals - not sorted):

* 3D formats and features: up to now no word has been written about
although I think this could be an attractive feature
* the user profiles behavior: another big change on the settings philosophy
that impact everybody and would deserve some literature
* the processing system and particularly "graphical modeler": The
algorithms, and particularly native ones, are well covered, But the
Processing options and more important the modelers are less behind imho
* the QGIS Server: can't really tell how the doc is in this area but there
are a lot of pending issues in the repo
* the print layout reporting
* attribute table and custom forms/widgets
* unfortunately as usual, the PyQGIS doc ...
* ... and the data source manager dialog (particularly some of the tabs at
the bottom of the dialog)
* and of course, any other area you think you know better...

Some ideas for those willing to apply and write docs.

Hope that helps,
Harrissou

Le mer. 19 sept. 2018 Ã  11:27, Paolo Cavallini <cavallini at faunalia.it> a
Ã©crit :

> One more:
> Frank Sokolic <sokolic at worldonline.co.za> <sokolic at worldonline.co.za>
> * I am interested in updating grammar and writing style as I am a native English speaker
> * I can take responsibility for any part of the documentation that you allocate to me
> * I am available for 20 hours to help with documentation.
>
>
> Il 09/19/2018 09:31 AM, RÃ©gis Haubourg ha scritto:
>
> Hi all,
>
> Paul Blottiere is also available to work on QGIS server documentation.
>
> Best regards
>
> RÃ©gis
>
> On 19/09/2018 07:26, Paolo Cavallini wrote:
>
> Hi all,
>
> this is what we have for now:
> Tim Sutton <tim at kartoza.com> <tim at kartoza.com>
> available to do general documentation writing and English review of
> submitted documentation
>
> Tudor barascu <tudorbarascu at yahoo.com> <tudorbarascu at yahoo.com>
> available to write and review documentation.
> At first I would like to focus and finish whatever is  left from the
> server side
>
> matteo <matteo.ghetta at gmail.com> <matteo.ghetta at gmail.com>
> Both write and review.
>
> Yves Jacolin <yjacolin at free.fr> <yjacolin at free.fr>
> review some PR
>
> Alexandre Neto <senhor.neto at gmail.com> <senhor.neto at gmail.com>
> some surgical interventions instead and some reviews when possible
>
> David Forel <davidforel at yahoo.com> <davidforel at yahoo.com>
> I am open to reviewing anyone's English text
>
> Not much in effect. Let's wait a few days and then we can start budgeting
> and assigning tasks.
> All the best.
>
> -------- Messaggio Inoltrato --------
> Oggetto: [QGIS-Developer] Documentation writing
> Data: Mon, 17 Sep 2018 11:30:26 +0200
> Mittente: Paolo Cavallini <cavallini at faunalia.it> <cavallini at faunalia.it>
> A: qgis-developer <qgis-developer at lists.osgeo.org>
> <qgis-developer at lists.osgeo.org>
>
> Hi all,
>
> as you know, next LTR (3.4) is coming soon. Its documentation is lagging
> behind, so the PSC decided to invest in updating it. Those of you who
> are interested in writing it please reply to this message stating;
>
> * which part of documentation you are interested in updating
>
> * if you can take the responsibility for completing it, or if it's just
> for a part of it
>
> * for how many hours (approx) you are available.
>
> This will allow us to correctly budget this task. We welcome anyone, and
> will give priority to those who already wrote substantial parts of the
> current docs.
>
> All the best, and thanks.
>
> --
> Paolo Cavallini - www.faunalia.euQGIS.ORG Chair:http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> Qgis-psc mailing listQgis-psc at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/qgis-psc
>
>
> --
> Open Source GIS Expert / Water management
>
> mail: regis.haubourg at oslandia.com
> tÃ©l: 0033 184 257 870
> ---------------------------------http://oslandia.com/
>
> OSLANDIA IS AN INNOVATIVE COMPANY SPECIALIZED IN GIS ARCHITECTURE. WE
> PROVIDE SERVICE ON OPEN SOURCE SOFTWARE FOR WHICH WE ARE EDITORS OR
> RECOGNIZED EXPERTS.
>
>
>
> _______________________________________________
> Qgis-psc mailing listQgis-psc at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/qgis-psc
>
>
> --
> Paolo Cavallini - www.faunalia.euQGIS.ORG Chair:http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180925/b9780bac/attachment-0001.html>

From r.nijssen at terglobo.nl  Tue Sep 25 05:35:53 2018
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Tue, 25 Sep 2018 14:35:53 +0200
Subject: [QGIS-Developer] open atlas layout, using python
Message-ID: <f37e5e4e-1eb6-d679-ac31-606cfcd51972@terglobo.nl>

1. Can I open a layout window with a python command?

2. Can I turn on "atlas preview" with a python command?

Hope anyone knows!

Kind regards,
Raymond


From kreve at sdfe.dk  Tue Sep 25 06:31:48 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Tue, 25 Sep 2018 13:31:48 +0000
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <2E885BB293AF0448A0181138489E9A0EAEEC0122@S000014.PROD.SITAD.DK>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
 <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
 <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
 <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>
 <CAB28Ashz2bS4nSE0OHSQVsi_75m+igyAeeMKJ42SiceXoc3tQw@mail.gmail.com>
 <2E885BB293AF0448A0181138489E9A0EAEEC0122@S000014.PROD.SITAD.DK>
Message-ID: <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>

Right, here are the calculated areas as returned by a number of different GIS applications and the planimeter app of GeographicLib for reference:

Caris LOTS: 14.737 km^2
ArcMap:     14.727,446 km^2
MapInfo:    14.727,352 km^2
GeoMedia:   14.726,443 km^2
Planimeter: 14.722,522 km^2
QGIS 3.2:   14.652,181 km^2
QGIS 2.8:   14.652,181 km^2

The polygon that I have used to get the numbers above can be found here: https://gist.github.com/kbevers/207b5bcb9be20e7554abe5f56742ec2c

I am quite confident that GeographicLib delivers the most accurate result (if you have doubts, this reference [0] should convince you). As can be seen from the table above all but QGIS come fairly close. I expect some variation in the results as these are numerical approximations, although I think QGIS is too far of the mark. My suspicion is that the geodesic algorithm used by QGIS (and apparently GRASS) is to blame here.

/Kristian

[0] https://arxiv.org/pdf/1102.1215.pdf 

-----Oprindelig meddelelse-----
Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne af Kristian Evers
Sendt: 25. september 2018 09:15
Til: Nyall Dawson <nyall.dawson at gmail.com>
Cc: qgis-developer <qgis-developer at lists.osgeo.org>
Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0

It's not a small area, that's why I have been nitpicking ellipsoid area calculation
algorithms!
I did end up doing the calculations with geographiblib to get a reference to judge
various other calculations by. It's a pain in the butt to extract the data from a
polygon shapefile (or whatever) and format it to suit the planimeter app of
geographiclib. It would be so much cooler if I could get the same results by
clicking info on a polygon in QGIS :-)

/Kristian


-----Oprindelig meddelelse-----
Fra: Nyall Dawson <nyall.dawson at gmail.com> 
Sendt: 25. september 2018 09:07
Til: Kristian Evers <kreve at sdfe.dk>
Cc: Paolo Cavallini <cavallini at faunalia.it>; qgis-developer <qgis-developer at lists.osgeo.org>
Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0

On Tue, 25 Sep 2018 at 16:59, Kristian Evers <kreve at sdfe.dk> wrote:
>
> Hi Paolo,
>
> I have some rought notes that I can try to polish up a bit and share here.
> I'll see if I can find the time for that today. I didn't get to the bottom of
> the problem but I am leaning towards the issue being that QGIS uses an
> inferior algorithm to determine geodesics. Unfortunately I couldn't find out
> from either the source code or the documentation which algorithm is used.
> As far as I remember it differs from the otherwise popular algorithm by
> Vincenty. That may be because a different algorithm is used or the
> Implementation is wrong.
>
> I'll get back with a better write-up later and some test data and results.

We use a direct port from GRASS:

https://github.com/qgis/QGIS/blob/master/src/core/qgsdistancearea.cpp#L690

vs GRASS upstream:

https://trac.osgeo.org/grass/browser/grass/trunk/lib/gis/area_poly1.c?rev=71260

It's not very stable for very small areas -- better to use cartesian
calculations there. Or bring in geographiclib and punt the
responsibility elsewhere ;)

Nyall



>
> /Kristian
>
> -----Oprindelig meddelelse-----
> Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne af Paolo Cavallini
> Sendt: 25. september 2018 08:23
> Til: qgis-developer at lists.osgeo.org
> Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
>
> Hi Kristian,
>
>
> Il 09/25/2018 07:24 AM, Kristian Evers ha scritto:
> >
> >
> > On a related note, I have been meaning to raise a similar issue based
> > on QGISâs not so accurate polygon-area-on-the-ellipsoid calculations.
> > A colleague of mine came across some differences between QGIS and
> > CARIS LOTS while doing area calculations in relation to a border
> > dispute at sea. After that I tested several popular closed source GIS
> > apps and they all performed better than QGIS.
> this is worth exploring in detail. could you please be more specific? do
> you have a test case? could you share the results, or give us a way to
> replicate them?
> Thanks.
>
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS.ORG Chair:
> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From adenaculture at gmail.com  Tue Sep 25 07:27:18 2018
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 25 Sep 2018 10:27:18 -0400
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
 <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
 <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
 <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>
 <CAB28Ashz2bS4nSE0OHSQVsi_75m+igyAeeMKJ42SiceXoc3tQw@mail.gmail.com>
 <2E885BB293AF0448A0181138489E9A0EAEEC0122@S000014.PROD.SITAD.DK>
 <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>
Message-ID: <CABPxTTqsEAxztnuZDh06B74zWZeG3f4KFBAb3Hj4PkgkOx++Ag@mail.gmail.com>

Kristian,

Thanks for those calculations. Before this discussion I was contemplating
doing a line and polygon measurement tool for Shape Tools by clicking on an
existing shape and using geographiclib calculate the measurements, but if
it is possible to replace the existing QGIS measuring functions and
Vincinty with geographiclib, then I will hold off. Shape Tools uses
geographiclib for all its calculations and I am pleased with it. In the
last release I included a function to measure all geometry on a layer.

I don't know who has the most accurate algorithm. I just checked Google
Earth and it measures your polygon at 14,672 km^2. I'm guessing Google
Earth is not as accurate as some of those other applications. As far as I
know geographiclib has the most accurate ellipsoid calculations. The only
thing better would be to include elevation. I'm not an expert in this area,
but would the gravity models provide more accuracy?

https://geographiclib.sourceforge.io/html/gravity.html#gravityinst

Calvin


On Tue, Sep 25, 2018 at 9:31 AM, Kristian Evers <kreve at sdfe.dk> wrote:

> Right, here are the calculated areas as returned by a number of different
> GIS applications and the planimeter app of GeographicLib for reference:
>
> Caris LOTS: 14.737 km^2
> ArcMap:     14.727,446 km^2
> MapInfo:    14.727,352 km^2
> GeoMedia:   14.726,443 km^2
> Planimeter: 14.722,522 km^2
> QGIS 3.2:   14.652,181 km^2
> QGIS 2.8:   14.652,181 km^2
>
> The polygon that I have used to get the numbers above can be found here:
> https://gist.github.com/kbevers/207b5bcb9be20e7554abe5f56742ec2c
>
> I am quite confident that GeographicLib delivers the most accurate result
> (if you have doubts, this reference [0] should convince you). As can be
> seen from the table above all but QGIS come fairly close. I expect some
> variation in the results as these are numerical approximations, although I
> think QGIS is too far of the mark. My suspicion is that the geodesic
> algorithm used by QGIS (and apparently GRASS) is to blame here.
>
> /Kristian
>
> [0] https://arxiv.org/pdf/1102.1215.pdf
>
> -----Oprindelig meddelelse-----
> Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne af
> Kristian Evers
> Sendt: 25. september 2018 09:15
> Til: Nyall Dawson <nyall.dawson at gmail.com>
> Cc: qgis-developer <qgis-developer at lists.osgeo.org>
> Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
>
> It's not a small area, that's why I have been nitpicking ellipsoid area
> calculation
> algorithms!
> I did end up doing the calculations with geographiblib to get a reference
> to judge
> various other calculations by. It's a pain in the butt to extract the data
> from a
> polygon shapefile (or whatever) and format it to suit the planimeter app of
> geographiclib. It would be so much cooler if I could get the same results
> by
> clicking info on a polygon in QGIS :-)
>
> /Kristian
>
>
> -----Oprindelig meddelelse-----
> Fra: Nyall Dawson <nyall.dawson at gmail.com>
> Sendt: 25. september 2018 09:07
> Til: Kristian Evers <kreve at sdfe.dk>
> Cc: Paolo Cavallini <cavallini at faunalia.it>; qgis-developer <
> qgis-developer at lists.osgeo.org>
> Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
>
> On Tue, 25 Sep 2018 at 16:59, Kristian Evers <kreve at sdfe.dk> wrote:
> >
> > Hi Paolo,
> >
> > I have some rought notes that I can try to polish up a bit and share
> here.
> > I'll see if I can find the time for that today. I didn't get to the
> bottom of
> > the problem but I am leaning towards the issue being that QGIS uses an
> > inferior algorithm to determine geodesics. Unfortunately I couldn't find
> out
> > from either the source code or the documentation which algorithm is used.
> > As far as I remember it differs from the otherwise popular algorithm by
> > Vincenty. That may be because a different algorithm is used or the
> > Implementation is wrong.
> >
> > I'll get back with a better write-up later and some test data and
> results.
>
> We use a direct port from GRASS:
>
> https://github.com/qgis/QGIS/blob/master/src/core/qgsdistancearea.cpp#L690
>
> vs GRASS upstream:
>
> https://trac.osgeo.org/grass/browser/grass/trunk/lib/gis/
> area_poly1.c?rev=71260
>
> It's not very stable for very small areas -- better to use cartesian
> calculations there. Or bring in geographiclib and punt the
> responsibility elsewhere ;)
>
> Nyall
>
>
>
> >
> > /Kristian
> >
> > -----Oprindelig meddelelse-----
> > Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne
> af Paolo Cavallini
> > Sendt: 25. september 2018 08:23
> > Til: qgis-developer at lists.osgeo.org
> > Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
> >
> > Hi Kristian,
> >
> >
> > Il 09/25/2018 07:24 AM, Kristian Evers ha scritto:
> > >
> > >
> > > On a related note, I have been meaning to raise a similar issue based
> > > on QGISâs not so accurate polygon-area-on-the-ellipsoid calculations.
> > > A colleague of mine came across some differences between QGIS and
> > > CARIS LOTS while doing area calculations in relation to a border
> > > dispute at sea. After that I tested several popular closed source GIS
> > > apps and they all performed better than QGIS.
> > this is worth exploring in detail. could you please be more specific? do
> > you have a test case? could you share the results, or give us a way to
> > replicate them?
> > Thanks.
> >
> > --
> > Paolo Cavallini - www.faunalia.eu
> > QGIS.ORG Chair:
> > http://planet.qgis.org/planet/user/28/tag/qgis%20board/
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180925/45e10fe6/attachment-0001.html>

From kreve at sdfe.dk  Tue Sep 25 07:50:20 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Tue, 25 Sep 2018 14:50:20 +0000
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <CABPxTTqsEAxztnuZDh06B74zWZeG3f4KFBAb3Hj4PkgkOx++Ag@mail.gmail.com>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
 <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
 <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
 <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>
 <CAB28Ashz2bS4nSE0OHSQVsi_75m+igyAeeMKJ42SiceXoc3tQw@mail.gmail.com>
 <2E885BB293AF0448A0181138489E9A0EAEEC0122@S000014.PROD.SITAD.DK>
 <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>
 <CABPxTTqsEAxztnuZDh06B74zWZeG3f4KFBAb3Hj4PkgkOx++Ag@mail.gmail.com>
Message-ID: <2E885BB293AF0448A0181138489E9A0EAEEC1741@S000014.PROD.SITAD.DK>

Calvin,

I am quite sure that Charles Karney holds an undisputed claim of the Most Accurate Geodesic Algorithmâ¢. At least I havenât come across any papers offering better accuracy.

Google Earths figure of 14.672 km^2 is very similar to MapInfos spherical area calculation of 14.670 km^2, so for now I think we can assume that Googleâs Earth is not subject to either rotation nor gravity :-)

Regarding including the gravity (geoid) models in GeographicLib I must admit that that is outside my knowledge of the library. If the library can calculate geodesics on the geoid that would be even more accurate, yes. Although you are at the mercy of the accuracy of the geoid models. For my particular application I wouldnât use one since the global models mention in the docs you link to are not that well-fitting in this area. In theory I could produce a grid from a better geoid model. While an interesting problem to handle I think it is taking it just a step too far.

/Kristian

Fra: C Hamilton <adenaculture at gmail.com>
Sendt: 25. september 2018 16:27
Til: Kristian Evers <kreve at sdfe.dk>
Cc: Nyall Dawson <nyall.dawson at gmail.com>; qgis-developer <qgis-developer at lists.osgeo.org>
Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0

Kristian,

Thanks for those calculations. Before this discussion I was contemplating doing a line and polygon measurement tool for Shape Tools by clicking on an existing shape and using geographiclib calculate the measurements, but if it is possible to replace the existing QGIS measuring functions and Vincinty with geographiclib, then I will hold off. Shape Tools uses geographiclib for all its calculations and I am pleased with it. In the last release I included a function to measure all geometry on a layer.

I don't know who has the most accurate algorithm. I just checked Google Earth and it measures your polygon at 14,672 km^2. I'm guessing Google Earth is not as accurate as some of those other applications. As far as I know geographiclib has the most accurate ellipsoid calculations. The only thing better would be to include elevation. I'm not an expert in this area, but would the gravity models provide more accuracy?

https://geographiclib.sourceforge.io/html/gravity.html#gravityinst

Calvin


On Tue, Sep 25, 2018 at 9:31 AM, Kristian Evers <kreve at sdfe.dk<mailto:kreve at sdfe.dk>> wrote:
Right, here are the calculated areas as returned by a number of different GIS applications and the planimeter app of GeographicLib for reference:

Caris LOTS: 14.737 km^2
ArcMap:     14.727,446 km^2
MapInfo:    14.727,352 km^2
GeoMedia:   14.726,443 km^2
Planimeter: 14.722,522 km^2
QGIS 3.2:   14.652,181 km^2
QGIS 2.8:   14.652,181 km^2

The polygon that I have used to get the numbers above can be found here: https://gist.github.com/kbevers/207b5bcb9be20e7554abe5f56742ec2c

I am quite confident that GeographicLib delivers the most accurate result (if you have doubts, this reference [0] should convince you). As can be seen from the table above all but QGIS come fairly close. I expect some variation in the results as these are numerical approximations, although I think QGIS is too far of the mark. My suspicion is that the geodesic algorithm used by QGIS (and apparently GRASS) is to blame here.

/Kristian

[0] https://arxiv.org/pdf/1102.1215.pdf

-----Oprindelig meddelelse-----
Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org<mailto:qgis-developer-bounces at lists.osgeo.org>> PÃ¥ vegne af Kristian Evers
Sendt: 25. september 2018 09:15
Til: Nyall Dawson <nyall.dawson at gmail.com<mailto:nyall.dawson at gmail.com>>
Cc: qgis-developer <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>>
Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0

It's not a small area, that's why I have been nitpicking ellipsoid area calculation
algorithms!
I did end up doing the calculations with geographiblib to get a reference to judge
various other calculations by. It's a pain in the butt to extract the data from a
polygon shapefile (or whatever) and format it to suit the planimeter app of
geographiclib. It would be so much cooler if I could get the same results by
clicking info on a polygon in QGIS :-)

/Kristian


-----Oprindelig meddelelse-----
Fra: Nyall Dawson <nyall.dawson at gmail.com<mailto:nyall.dawson at gmail.com>>
Sendt: 25. september 2018 09:07
Til: Kristian Evers <kreve at sdfe.dk<mailto:kreve at sdfe.dk>>
Cc: Paolo Cavallini <cavallini at faunalia.it<mailto:cavallini at faunalia.it>>; qgis-developer <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>>
Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0

On Tue, 25 Sep 2018 at 16:59, Kristian Evers <kreve at sdfe.dk<mailto:kreve at sdfe.dk>> wrote:
>
> Hi Paolo,
>
> I have some rought notes that I can try to polish up a bit and share here.
> I'll see if I can find the time for that today. I didn't get to the bottom of
> the problem but I am leaning towards the issue being that QGIS uses an
> inferior algorithm to determine geodesics. Unfortunately I couldn't find out
> from either the source code or the documentation which algorithm is used.
> As far as I remember it differs from the otherwise popular algorithm by
> Vincenty. That may be because a different algorithm is used or the
> Implementation is wrong.
>
> I'll get back with a better write-up later and some test data and results.

We use a direct port from GRASS:

https://github.com/qgis/QGIS/blob/master/src/core/qgsdistancearea.cpp#L690

vs GRASS upstream:

https://trac.osgeo.org/grass/browser/grass/trunk/lib/gis/area_poly1.c?rev=71260

It's not very stable for very small areas -- better to use cartesian
calculations there. Or bring in geographiclib and punt the
responsibility elsewhere ;)

Nyall



>
> /Kristian
>
> -----Oprindelig meddelelse-----
> Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org<mailto:qgis-developer-bounces at lists.osgeo.org>> PÃ¥ vegne af Paolo Cavallini
> Sendt: 25. september 2018 08:23
> Til: qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>
> Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
>
> Hi Kristian,
>
>
> Il 09/25/2018 07:24 AM, Kristian Evers ha scritto:
> >
> >
> > On a related note, I have been meaning to raise a similar issue based
> > on QGISâs not so accurate polygon-area-on-the-ellipsoid calculations.
> > A colleague of mine came across some differences between QGIS and
> > CARIS LOTS while doing area calculations in relation to a border
> > dispute at sea. After that I tested several popular closed source GIS
> > apps and they all performed better than QGIS.
> this is worth exploring in detail. could you please be more specific? do
> you have a test case? could you share the results, or give us a way to
> replicate them?
> Thanks.
>
> --
> Paolo Cavallini - www.faunalia.eu<http://www.faunalia.eu>
> QGIS.ORG<http://QGIS.ORG> Chair:
> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180925/ce54e420/attachment-0001.html>

From noreply at qgis.org  Tue Sep 25 08:17:27 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 25 Sep 2018 15:17:27 -0000
Subject: [QGIS-Developer] Plugin [578] Maps Printer approval notification.
Message-ID: <20180925151727.5272.41297@2c6504964296>


Plugin Maps Printer approval by delazj.
The plugin version "[578] Maps Printer 0.5" is now approved
Link: http://plugins.qgis.org/plugins/MapsPrinter/

From noreply at qgis.org  Tue Sep 25 08:24:18 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 25 Sep 2018 15:24:18 -0000
Subject: [QGIS-Developer] Plugin [1048] Another DXF Importer / DXF2Shape
 Converter approval notification.
Message-ID: <20180925152418.31797.19615@2c6504964296>


Plugin Another DXF Importer / DXF2Shape Converter approval by pcav.
The plugin version "[1048] Another DXF Importer / DXF2Shape Converter 1.0.3" is now approved
Link: http://plugins.qgis.org/plugins/AnotherDXF2Shape/

From noreply at qgis.org  Tue Sep 25 08:25:37 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 25 Sep 2018 15:25:37 -0000
Subject: [QGIS-Developer] Plugin [1491] GIS4WRF approval notification.
Message-ID: <20180925152537.5269.63001@2c6504964296>


Plugin GIS4WRF approval by pcav.
The plugin version "[1491] GIS4WRF 0.12.0" is now approved
Link: http://plugins.qgis.org/plugins/gis4wrf/

From rjwillson at gmail.com  Tue Sep 25 10:49:50 2018
From: rjwillson at gmail.com (rjwillson at gmail.com)
Date: Tue, 25 Sep 2018 13:49:50 -0400
Subject: [QGIS-Developer] Exporting from QGIS to CAD format - is it possible
	to offer DWG export
Message-ID: <003e01d454f8$292ee9f0$7b8cbdd0$@gmail.com>

Hi, 

 

The CAD import and export functions for QGIS 3x are already extremely
impressive and in several ways exceed the import/export capability of ArcGIS
desktop 10.5/6. 

 

As mentioned in a previous post the only function that the QGIS import can't
handle yet is when the CAD file (dwg or dxf) is not georeferenced
beforehand. For that scenario I regrettably have to go back to ArcGIS
desktop.

 

My question pertains to the export. 

 

Is there a proprietary licensing reason that QGIS cannot export directly to
*.dwg file format rather than only to the dxf format?

 

I have a colleague that regularly espouses the view that QGIS is not up to
par when it comes to handling CAD files, as compared to ArcGIS desktop,
simply because of Q's inability to export directly to a dwg file format. Can
this capability be added?

 

Regards

Rob

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180925/69576844/attachment.html>

From hellik at web.de  Tue Sep 25 10:52:35 2018
From: hellik at web.de (Helmut Kudrnovsky)
Date: Tue, 25 Sep 2018 10:52:35 -0700 (MST)
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>
References: <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
 <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
 <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>
 <CAB28Ashz2bS4nSE0OHSQVsi_75m+igyAeeMKJ42SiceXoc3tQw@mail.gmail.com>
 <2E885BB293AF0448A0181138489E9A0EAEEC0122@S000014.PROD.SITAD.DK>
 <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>
Message-ID: <1537897955193-0.post@n6.nabble.com>

>[...]
>Caris LOTS: 14.737 km^2
>ArcMap:     14.727,446 km^2
>MapInfo:    14.727,352 km^2
>GeoMedia:   14.726,443 km^2
>Planimeter: 14.722,522 km^2
>QGIS 3.2:   14.652,181 km^2
>QGIS 2.8:   14.652,181 km^2
>[...]
>My suspicion is that the geodesic algorithm used by QGIS (and apparently
GRASS) is to blame here.

a quick check in GRASS 7.7.svn shows :-)

|m2|km2|
|14718097678,673|14.718,097679|



-----
best regards
Helmut
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From matteo.ghetta at gmail.com  Tue Sep 25 11:20:54 2018
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 25 Sep 2018 20:20:54 +0200
Subject: [QGIS-Developer] [Qgis-psc] Fwd: Documentation writing
In-Reply-To: <CAECJsSqtnjZhe7wW+yD2KX+d92mib6eWQxwhtq3g4m9L=ySwjg@mail.gmail.com>
References: <12de22d1-a8fe-f20c-3c79-603731d6fb4f@faunalia.it>
 <9a6bc898-cd3f-bf2a-758a-2b3adfe75ea3@faunalia.it>
 <2f7795cb-8322-ae54-441d-d2154df5a931@oslandia.com>
 <c757469e-cb3b-0a92-6704-b02422e53af9@faunalia.it>
 <CAECJsSqtnjZhe7wW+yD2KX+d92mib6eWQxwhtq3g4m9L=ySwjg@mail.gmail.com>
Message-ID: <be5cf19b-2529-60d8-00dd-df04b7b19f28@gmail.com>

Hi Harrissou,

thanks for reporting your ideas, probably nobody knows better than you
"black areas" of the docs.

What do other docs people think? I don't want to put too much wood in
the fire, but maybe if we all agree, we can think to add some priority
labels depending on the lack of documented (interested) features.

QGIS doc repo already has a lot (too much?!) labels, but maybe having a
kind of hierarchy could help.

Thanks

Matteo

From nyall.dawson at gmail.com  Tue Sep 25 14:57:17 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 26 Sep 2018 07:57:17 +1000
Subject: [QGIS-Developer] open atlas layout, using python
In-Reply-To: <f37e5e4e-1eb6-d679-ac31-606cfcd51972@terglobo.nl>
References: <f37e5e4e-1eb6-d679-ac31-606cfcd51972@terglobo.nl>
Message-ID: <CAB28AsiECPucz9QipxDQ3v5S15y=mBmJ-J-=_owt2AwNh63n+Q@mail.gmail.com>

On Tue, 25 Sep 2018 at 22:36, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:
>
> 1. Can I open a layout window with a python command?

designer = iface.openLayoutDesigner( layout )

> 2. Can I turn on "atlas preview" with a python command?

You'd have to do some fragile code to do this. Basically:

- get designer window from designer.view()'s parent window
- find the mActionAtlasPreview child action in the window
- manually toggle it on

This should work, but isn't stable API - so is likely to break ;)

A better approach is to (quickly, before 3.4 final!) file a PR
exposing the toggle atlas preview behavior to
QgsLayoutDesignerInterface. Then you'll be able to just do:

designer = iface.openLayoutDesigner( layout )
designer.toggleAtlasPreview( True )

Nyall


Hope anyone knows!
>
> Kind regards,
> Raymond
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From olivier.dalang at gmail.com  Tue Sep 25 16:01:52 2018
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Wed, 26 Sep 2018 11:01:52 +1200
Subject: [QGIS-Developer] Updating a layer's datasource in python
Message-ID: <CAExk7p1HJLTHvtabrAK6ZafRZ0x_Bz+i5wV1QNu2pDrVWSxVEg@mail.gmail.com>

Dear List,

As simple as it sounds, I'm struggling with changing the datasource of
layers with python :

layer1 = QgsVectorLayer('/path/to/a.shp')
QgsProject.instance().addMapLayer(layer1)
layer1.dataProvider().setDataSourceUri('/path/to/b.shp')

The layer successfully changes on map redraw. However layer1.source() stays
to the initial layer, so that the change does not persist across saves
(save and reload, and you get a.shp again).

The exact same code with a geopackage doesn't work at all (no changes on
map redraw).

layer1 = QgsVectorLayer('/path/to/db.gpkg|layer=a')
QgsProject.instance().addMapLayer(layer1)
layer1.dataProvider().setDataSourceUri ('/path/to/db.gpkg|layer=b')

There is also an entry in the pyqgis cookbook (here
<https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/loadlayer.html#id1>,
scroll down) for QgsVectorLayer. The layer1.source() is correctly updated,
but again, it works with shapefiles, but not geopackages. And this is for
vectors only.

layer1.setDataSource('/path/to/b.shp', "b", "ogr")

Am I hitting a bug ? Or did I get confused somewhere ?

As I feel this is a fairly common need, I'd be very grateful if someone
could help me figure out the recommended way to achieve this, for both
vectors or rasters. I'll update the pyqgis cookbook in return :-)

Note that there are workarounds (like replacing with a new layer and
copying styles over or writing directly to the .qgs file, but they are not
straightforward and have limitations).

Thanks !!

Olivier
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180926/7315034c/attachment.html>

From nyall.dawson at gmail.com  Tue Sep 25 17:09:41 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 26 Sep 2018 10:09:41 +1000
Subject: [QGIS-Developer] Updating a layer's datasource in python
In-Reply-To: <CAExk7p1HJLTHvtabrAK6ZafRZ0x_Bz+i5wV1QNu2pDrVWSxVEg@mail.gmail.com>
References: <CAExk7p1HJLTHvtabrAK6ZafRZ0x_Bz+i5wV1QNu2pDrVWSxVEg@mail.gmail.com>
Message-ID: <CAB28AshyZbEbwr-qS2OJD9WeFUJRmh51GyYvjR=c0h8hE80n+w@mail.gmail.com>

On Wed, 26 Sep 2018 at 09:02, Olivier Dalang <olivier.dalang at gmail.com> wrote:
>
> Dear List,
>
> As simple as it sounds, I'm struggling with changing the datasource of layers with python :
>
> layer1 = QgsVectorLayer('/path/to/a.shp')
> QgsProject.instance().addMapLayer(layer1)
> layer1.dataProvider().setDataSourceUri('/path/to/b.shp')

This code won't work correctly -- you shouldn't be changing the data
source of the layer's provider, but rather set the layer's data source
and let it handle the required changes to the provider.

> There is also an entry in the pyqgis cookbook (here, scroll down) for QgsVectorLayer. The layer1.source() is correctly updated, but again, it works with shapefiles, but not geopackages. And this is for vectors only.

This should work for geopackage (as well as shp). Can you share your code?

And yes, there's unfortunately no equivalent for rasters yet.

Nyall

From denis.rouzaud at gmail.com  Tue Sep 25 17:13:11 2018
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Tue, 25 Sep 2018 20:13:11 -0400
Subject: [QGIS-Developer] Updating a layer's datasource in python
In-Reply-To: <CAExk7p1HJLTHvtabrAK6ZafRZ0x_Bz+i5wV1QNu2pDrVWSxVEg@mail.gmail.com>
References: <CAExk7p1HJLTHvtabrAK6ZafRZ0x_Bz+i5wV1QNu2pDrVWSxVEg@mail.gmail.com>
Message-ID: <CAMtsY+aPbhqJXomrdvaoQd-zWjvca28gQ0nkhiReqKtGERrwgg@mail.gmail.com>

Hi Olivier,

I have been playing with this and I think you should use the source on the
layer and not on the data provider.
Here is some code (which also modifies the style of the layer)
https://github.com/QGEP/customizer/blob/master/customizer.py#L129-L141

I was doing a layer.reload() after changing the source.

Hope that helps,
Denis

Le mar. 25 sept. 2018 Ã  19:02, Olivier Dalang <olivier.dalang at gmail.com> a
Ã©crit :

> Dear List,
>
> As simple as it sounds, I'm struggling with changing the datasource of
> layers with python :
>
> layer1 = QgsVectorLayer('/path/to/a.shp')
> QgsProject.instance().addMapLayer(layer1)
> layer1.dataProvider().setDataSourceUri('/path/to/b.shp')
>
> The layer successfully changes on map redraw. However layer1.source()
> stays to the initial layer, so that the change does not persist across
> saves (save and reload, and you get a.shp again).
>
> The exact same code with a geopackage doesn't work at all (no changes on
> map redraw).
>
> layer1 = QgsVectorLayer('/path/to/db.gpkg|layer=a')
> QgsProject.instance().addMapLayer(layer1)
> layer1.dataProvider().setDataSourceUri ('/path/to/db.gpkg|layer=b')
>
> There is also an entry in the pyqgis cookbook (here
> <https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/loadlayer.html#id1>,
> scroll down) for QgsVectorLayer. The layer1.source() is correctly updated,
> but again, it works with shapefiles, but not geopackages. And this is for
> vectors only.
>
> layer1.setDataSource('/path/to/b.shp', "b", "ogr")
>
> Am I hitting a bug ? Or did I get confused somewhere ?
>
> As I feel this is a fairly common need, I'd be very grateful if someone
> could help me figure out the recommended way to achieve this, for both
> vectors or rasters. I'll update the pyqgis cookbook in return :-)
>
> Note that there are workarounds (like replacing with a new layer and
> copying styles over or writing directly to the .qgs file, but they are not
> straightforward and have limitations).
>
> Thanks !!
>
> Olivier
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 

Denis Rouzaud
denis at opengis.ch  <denis at opengis.ch>
+41 76 370 21 22
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180925/7f739e76/attachment.html>

From noreply at qgis.org  Wed Sep 26 00:35:50 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 26 Sep 2018 07:35:50 -0000
Subject: [QGIS-Developer] Plugin [925] GBIF Occurrences approval
	notification.
Message-ID: <20180926073550.14499.30207@2c6504964296>


Plugin GBIF Occurrences approval by pcav.
The plugin version "[925] GBIF Occurrences 0.3.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/qgisgbifapi/

From jef at norbit.de  Wed Sep 26 05:23:08 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed, 26 Sep 2018 14:23:08 +0200
Subject: [QGIS-Developer] Exporting from QGIS to CAD format - is it
 possible to offer DWG export
In-Reply-To: <003e01d454f8$292ee9f0$7b8cbdd0$@gmail.com>
References: <003e01d454f8$292ee9f0$7b8cbdd0$@gmail.com>
Message-ID: <20180926122308.qdrv47rgw6dmtdll@norbit.de>

Hi Rob,

On Tue, 25. Sep 2018 at 13:49:50 -0400, rjwillson at gmail.com wrote:
> Is there a proprietary licensing reason that QGIS cannot export directly to
> *.dwg file format rather than only to the dxf format?

We could probably also use libdxfrw, that we use for our import, to write DWG.

But contentwise DXF and DWG are alike - and there's more software that can read
DXF than DWG.  Is using DXF not an option?  Do you require a certain
version of DWG (the format changed quite a bit, although the content
actually didn't that much).



JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180926/48253116/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180926/48253116/attachment.ksh>

From Steiger at cor-management.ch  Wed Sep 26 05:52:13 2018
From: Steiger at cor-management.ch (Stefan Steiger)
Date: Wed, 26 Sep 2018 12:52:13 +0000
Subject: [QGIS-Developer] Exporting from QGIS to CAD format - is it
 possible to offer DWG export
In-Reply-To: <20180926122308.qdrv47rgw6dmtdll@norbit.de>
References: <003e01d454f8$292ee9f0$7b8cbdd0$@gmail.com>
 <20180926122308.qdrv47rgw6dmtdll@norbit.de>
Message-ID: <454591AE08FDD64E8B82954659BC1BEA52300925@COR-EXCHANGE.cor.local>

You could use the ODA File-Converter to convert dwg to dxf and vice-versa. 
https://www.opendesign.com/guestfiles/oda_file_converter 

It can also run as batch-process. 
Runs natively on Linux/Mac/Windows, 32&64 Bit.
It's Freeware, AFAIK. 
That way you can guarantee it will always be able to read and write the latest DWGs. 


You can also use the Teigha Online File Converter, which converts .dwg/.dxf files to PDF/BMP.
https://www.opendesign.com/teigha_online_converter 


You cannot currently have a free program that reads and writes DWG on its own. 
DWG is a proprietary file format, on purpose designed to be difficult to understand, and it's encrypted. 
To be able to flawlessly read and write DWGs, you need to reverse-engineer the AutoCAD file format, by reverse-engineering AutoCAD. 
This naturally takes a lot of time, which means there are no Free-Software DWG libraries that implement a sufficiently large subset of the AutoCAD file format. 
There are currently only two software applications that offer a reliable DWG interface. 
One is ODA Teigha for C++/Java/.NET. 
The other is Woutware CADlib.

The problem with ODA-Teigha ist hat it takes royalties for each and every application deployed with Teigha. 
Which would be deadly for a free software project. 

WoutWare is better in this respect, as it requires a one-time license of currently 1'208 USD/year per developer. 
Also, Teigha is a pain in the ass to use. 
The problem with WoutWare is, that you need a new license each time you need to download a new version of WoutWare because there was a new version of AutoCAD. 
Also, WoutWare is .NET and therefore currently only works on Windows. 
There is a preview release of WoutWare for .NET Core (which works on Linux, and presumably on OSX too). 
.NET Core can be self-containedly deployed (Windows, Linux, Mac) , so there are no dependencies on a certain version of the .NET-Framwork. 

Those are the two only (working) options when you deal with DWG. 



-----UrsprÃ¼ngliche Nachricht-----
Von: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] Im Auftrag von JÃ¼rgen E. Fischer
Gesendet: Mittwoch, 26. September 2018 14:23
An: qgis-developer at lists.osgeo.org
Betreff: Re: [QGIS-Developer] Exporting from QGIS to CAD format - is it possible to offer DWG export

Hi Rob,

On Tue, 25. Sep 2018 at 13:49:50 -0400, rjwillson at gmail.com wrote:
> Is there a proprietary licensing reason that QGIS cannot export 
> directly to *.dwg file format rather than only to the dxf format?

We could probably also use libdxfrw, that we use for our import, to write DWG.

But contentwise DXF and DWG are alike - and there's more software that can read DXF than DWG.  
Is using DXF not an option?  
Do you require a certain version of DWG (the format changed quite a bit, although the content actually didn't that much).



JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode

From noreply at qgis.org  Wed Sep 26 07:59:06 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 26 Sep 2018 14:59:06 -0000
Subject: [QGIS-Developer] Plugin [440] Visibility Analysis approval
	notification.
Message-ID: <20180926145906.14499.27892@2c6504964296>


Plugin Visibility Analysis approval by pcav.
The plugin version "[440] Visibility Analysis 0.6.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/ViewshedAnalysis/

From noreply at qgis.org  Wed Sep 26 10:22:43 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 26 Sep 2018 17:22:43 -0000
Subject: [QGIS-Developer] Plugin [1544] CityJSON Loader approval
	notification.
Message-ID: <20180926172243.14497.39587@2c6504964296>


Plugin CityJSON Loader approval by pcav.
The plugin version "[1544] CityJSON Loader 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/CityJSON-loader/

From wonder.sk at gmail.com  Wed Sep 26 12:30:13 2018
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed, 26 Sep 2018 21:30:13 +0200
Subject: [QGIS-Developer] Using embedded widgets in the layer tree on a
 python plugin
In-Reply-To: <CAFcNcQYZbxoxayoR=dmnmBugrFikgodu_paZJJ0Sp6PNdqBehg@mail.gmail.com>
References: <CAFcNcQYZbxoxayoR=dmnmBugrFikgodu_paZJJ0Sp6PNdqBehg@mail.gmail.com>
Message-ID: <CAC2XbFe5+e4gpT_7FqJypcD+ux=vt2nMoMCS+e_xnHag7uhaNQ@mail.gmail.com>

Hi Ricardo

Sorry for the delayed answer...

On Mon, Sep 17, 2018 at 12:10 AM Ricardo Filipe Soares Garcia da
<ricardo.garcia.silva at gmail.com> wrote:
>
> This code kind of works, but I'm facing two problems at the moment:
>
> 1. The `MyWidgetProvider.supportsLayer()` method is never called. The logging call does not show up on the console and I also see that my provider is offered on WMS layers, but also on some local vector layers (which is not what I intend). grep'ping around the QGIS' source code I could not find some place where this method would be called and used, so I'm wondering if this is implemented. I would expect this method to be called when the layer properties dialog is opened, so that my provider would get filtered out for layers that were of the wrong type;
>
> 2. This code does not update the legend for the layer, UNLESS it is a vector layer. If I try to add this provider to a WMS layer, the legend is not updated. If I add it to a shapefile, it works as expected. In order to get my QLabel to show up on WMS layers, I have to manually run this in the QGIS python shell:

I have looked into the code and figured out that both of these issues
seem like bugs in the implementation. The supportLayer() method indeed
seems unused (my test implementation always returned true, that
explains I haven't realized it was not wired in) and the legend
refresh of vector layer is probably done by some other part within the
vector layer properties dialog, while in raster layer properties that
does not happen. Feel free to report them in the bug tracker...

Cheers
Martin

From noreply at qgis.org  Wed Sep 26 12:33:39 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 26 Sep 2018 19:33:39 -0000
Subject: [QGIS-Developer] Plugin [1491] GIS4WRF approval notification.
Message-ID: <20180926193339.14499.9236@2c6504964296>


Plugin GIS4WRF approval by pcav.
The plugin version "[1491] GIS4WRF 0.12.1" is now approved
Link: http://plugins.qgis.org/plugins/gis4wrf/

From adenaculture at gmail.com  Wed Sep 26 13:34:40 2018
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 26 Sep 2018 16:34:40 -0400
Subject: [QGIS-Developer] Circular Lines in QGIS
Message-ID: <CABPxTToDg8krrabue6xXA=iBFWES-2y+E70raxfwz7HQ9Vh8Vg@mail.gmail.com>

I had a user request Circular Lines in the Shape Tools plugin and they gave
the following example.

https://www.stayaspensnowmass.com/sites/default/files/aspenFlightMap.jpg

I don't know how one would do this type of drawing. Does anyone have any
ideas? It draws the lines trying to avoid overlapping other lines in a very
pleasing manner. Doing this is probably outside the scope of the Shape
Tools plugin, but I just wanted to ask to see if there is a relatively easy
algorithmic way of drawing these types of lines between two points.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180926/156e7c88/attachment.html>

From Stefan.Blumentrath at nina.no  Wed Sep 26 13:36:51 2018
From: Stefan.Blumentrath at nina.no (Stefan Blumentrath)
Date: Wed, 26 Sep 2018 20:36:51 +0000
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
 <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
 <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
 <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>
 <CAB28Ashz2bS4nSE0OHSQVsi_75m+igyAeeMKJ42SiceXoc3tQw@mail.gmail.com>
 <2E885BB293AF0448A0181138489E9A0EAEEC0122@S000014.PROD.SITAD.DK>
 <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>
Message-ID: <HE1PR02MB09695C34A1F4AC29414D1B499E150@HE1PR02MB0969.eurprd02.prod.outlook.com>

Hi,

Even if the discussion already moved on, for the record below some more numbers from other OSGeo tools:
PostGIS (in UTM 33N): 14727443738.0 m2
GRASS 7.4 (in WGS84): 14707741818.0911
GRASS 7.4 (in UTM33): between 14707741818.0911 m2 and 14727443738.0262 m2 (depending on how much one densifies vertices on the boundaries during reprojection, the latter value measured without boundary vertex densification)

Please see also: https://issues.qgis.org/issues/12057 for earlier discussion of area calculations in QGIS...
And https://trac.osgeo.org/grass/ticket/3356 for recent changes in area calculations in GRASS.

Cheers
Stefan

-----Original Message-----
From: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> On Behalf Of Kristian Evers
Sent: tirsdag 25. september 2018 15:32
To: Kristian Evers <kreve at sdfe.dk>; Nyall Dawson <nyall.dawson at gmail.com>
Cc: qgis-developer <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0

Right, here are the calculated areas as returned by a number of different GIS applications and the planimeter app of GeographicLib for reference:

Caris LOTS: 14.737 km^2
ArcMap:     14.727,446 km^2
MapInfo:    14.727,352 km^2
GeoMedia:   14.726,443 km^2
Planimeter: 14.722,522 km^2
QGIS 3.2:   14.652,181 km^2
QGIS 2.8:   14.652,181 km^2

The polygon that I have used to get the numbers above can be found here: https://gist.github.com/kbevers/207b5bcb9be20e7554abe5f56742ec2c

I am quite confident that GeographicLib delivers the most accurate result (if you have doubts, this reference [0] should convince you). As can be seen from the table above all but QGIS come fairly close. I expect some variation in the results as these are numerical approximations, although I think QGIS is too far of the mark. My suspicion is that the geodesic algorithm used by QGIS (and apparently GRASS) is to blame here.

/Kristian

[0] https://arxiv.org/pdf/1102.1215.pdf 

-----Oprindelig meddelelse-----
Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne af Kristian Evers
Sendt: 25. september 2018 09:15
Til: Nyall Dawson <nyall.dawson at gmail.com>
Cc: qgis-developer <qgis-developer at lists.osgeo.org>
Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0

It's not a small area, that's why I have been nitpicking ellipsoid area calculation algorithms!
I did end up doing the calculations with geographiblib to get a reference to judge various other calculations by. It's a pain in the butt to extract the data from a polygon shapefile (or whatever) and format it to suit the planimeter app of geographiclib. It would be so much cooler if I could get the same results by clicking info on a polygon in QGIS :-)

/Kristian


-----Oprindelig meddelelse-----
Fra: Nyall Dawson <nyall.dawson at gmail.com>
Sendt: 25. september 2018 09:07
Til: Kristian Evers <kreve at sdfe.dk>
Cc: Paolo Cavallini <cavallini at faunalia.it>; qgis-developer <qgis-developer at lists.osgeo.org>
Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0

On Tue, 25 Sep 2018 at 16:59, Kristian Evers <kreve at sdfe.dk> wrote:
>
> Hi Paolo,
>
> I have some rought notes that I can try to polish up a bit and share here.
> I'll see if I can find the time for that today. I didn't get to the 
> bottom of the problem but I am leaning towards the issue being that 
> QGIS uses an inferior algorithm to determine geodesics. Unfortunately 
> I couldn't find out from either the source code or the documentation which algorithm is used.
> As far as I remember it differs from the otherwise popular algorithm 
> by Vincenty. That may be because a different algorithm is used or the 
> Implementation is wrong.
>
> I'll get back with a better write-up later and some test data and results.

We use a direct port from GRASS:

https://github.com/qgis/QGIS/blob/master/src/core/qgsdistancearea.cpp#L690

vs GRASS upstream:

https://trac.osgeo.org/grass/browser/grass/trunk/lib/gis/area_poly1.c?rev=71260

It's not very stable for very small areas -- better to use cartesian calculations there. Or bring in geographiclib and punt the responsibility elsewhere ;)

Nyall



>
> /Kristian
>
> -----Oprindelig meddelelse-----
> Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne 
> af Paolo Cavallini
> Sendt: 25. september 2018 08:23
> Til: qgis-developer at lists.osgeo.org
> Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 
> 3.2.0
>
> Hi Kristian,
>
>
> Il 09/25/2018 07:24 AM, Kristian Evers ha scritto:
> >
> >
> > On a related note, I have been meaning to raise a similar issue 
> > based on QGISâs not so accurate polygon-area-on-the-ellipsoid calculations.
> > A colleague of mine came across some differences between QGIS and 
> > CARIS LOTS while doing area calculations in relation to a border 
> > dispute at sea. After that I tested several popular closed source 
> > GIS apps and they all performed better than QGIS.
> this is worth exploring in detail. could you please be more specific? 
> do you have a test case? could you share the results, or give us a way 
> to replicate them?
> Thanks.
>
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS.ORG Chair:
> http://planet.qgis.org/planet/user/28/tag/qgis%20board/
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From rjwillson at gmail.com  Wed Sep 26 14:35:47 2018
From: rjwillson at gmail.com (rjwillson at gmail.com)
Date: Wed, 26 Sep 2018 17:35:47 -0400
Subject: [QGIS-Developer] Exporting from QGIS to CAD format - is it
	possible to offer DWG export
Message-ID: <001501d455e0$e3e778a0$abb669e0$@gmail.com>

Thanks JÃ¼rgen,

I can see why DXF might be more flexible given more software can open/import it, as compared to DWG. I have even made this argument to my co-workers. However, we have to convert to and from DWG on a daily basis (to and from QGIS or ArcGIS). When we export to DXF we have the extra step of opening the DXF in a full version of AutoCAD and then saving it as a DWG so our project managers can send on to clients who forward it to engineers and planners that prefer working with AutoCAD. I have to admit that this extra time adds up.

I am fine with this extra step but our managers have used this minor extra step as a reason to recommend we continue to pay our annual ESRI licensing fees whereas I want to free up this money to support QGIS and its development. 

The format of DWG seems to change every 2 or 3 releases. For example, my AutoDesk AutoCAD 2016 saves as AutoCAD 2013 (*.dwg) format but I know the latest AutoCAD 2019 saves a new version level.

If you were able to use the libdxfrw to write DWG and there was a way to offer a choice to export as DWG or DXF than I think one could really argue that QGIS was a one stop shop for converting to and from CAD format.

Not sure if the limitations mentioned by Stefan (thanks for those) are problematic

Rob

-----Original Message-----
From: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> On Behalf Of qgis-developer-request at lists.osgeo.org
Sent: Wednesday, September 26, 2018 15:00
To: qgis-developer at lists.osgeo.org
Subject: QGIS-Developer Digest, Vol 155, Issue 76

Send QGIS-Developer mailing list submissions to
	qgis-developer at lists.osgeo.org

To subscribe or unsubscribe via the World Wide Web, visit
	https://lists.osgeo.org/mailman/listinfo/qgis-developer
or, via email, send a message with subject or body 'help' to
	qgis-developer-request at lists.osgeo.org

You can reach the person managing the list at
	qgis-developer-owner at lists.osgeo.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of QGIS-Developer digest..."


Today's Topics:

   1. Re: Exporting from QGIS to CAD format - is it possible to
      offer DWG export (JÃ¼rgen E. Fischer)
   2. Re: Exporting from QGIS to CAD format - is it possible to
      offer DWG export (Stefan Steiger)
   3. Plugin [440] Visibility Analysis approval	notification.
      (noreply at qgis.org)
   4. Plugin [1544] CityJSON Loader approval	notification.
      (noreply at qgis.org)


----------------------------------------------------------------------

Message: 1
Date: Wed, 26 Sep 2018 14:23:08 +0200
From: JÃ¼rgen E. Fischer <jef at norbit.de>
To: qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] Exporting from QGIS to CAD format - is
	it possible to offer DWG export
Message-ID: <20180926122308.qdrv47rgw6dmtdll at norbit.de>
Content-Type: text/plain; charset="iso-8859-1"

Hi Rob,

On Tue, 25. Sep 2018 at 13:49:50 -0400, rjwillson at gmail.com wrote:
> Is there a proprietary licensing reason that QGIS cannot export 
> directly to *.dwg file format rather than only to the dxf format?

We could probably also use libdxfrw, that we use for our import, to write DWG.

But contentwise DXF and DWG are alike - and there's more software that can read DXF than DWG.  Is using DXF not an option?  Do you require a certain version of DWG (the format changed quite a bit, although the content actually didn't that much).



JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180926/48253116/attachment-0001.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180926/48253116/attachment-0001.ksh>

------------------------------

Message: 2
Date: Wed, 26 Sep 2018 12:52:13 +0000
From: Stefan Steiger <Steiger at cor-management.ch>
To: JÃ¼rgen E. Fischer <jef at norbit.de>,
	"qgis-developer at lists.osgeo.org" <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] Exporting from QGIS to CAD format - is
	it possible to offer DWG export
Message-ID:
	<454591AE08FDD64E8B82954659BC1BEA52300925 at COR-EXCHANGE.cor.local>
Content-Type: text/plain; charset="iso-8859-1"

You could use the ODA File-Converter to convert dwg to dxf and vice-versa. 
https://www.opendesign.com/guestfiles/oda_file_converter 

It can also run as batch-process. 
Runs natively on Linux/Mac/Windows, 32&64 Bit.
It's Freeware, AFAIK. 
That way you can guarantee it will always be able to read and write the latest DWGs. 


You can also use the Teigha Online File Converter, which converts .dwg/.dxf files to PDF/BMP.
https://www.opendesign.com/teigha_online_converter 


You cannot currently have a free program that reads and writes DWG on its own. 
DWG is a proprietary file format, on purpose designed to be difficult to understand, and it's encrypted. 
To be able to flawlessly read and write DWGs, you need to reverse-engineer the AutoCAD file format, by reverse-engineering AutoCAD. 
This naturally takes a lot of time, which means there are no Free-Software DWG libraries that implement a sufficiently large subset of the AutoCAD file format. 
There are currently only two software applications that offer a reliable DWG interface. 
One is ODA Teigha for C++/Java/.NET. 
The other is Woutware CADlib.

The problem with ODA-Teigha ist hat it takes royalties for each and every application deployed with Teigha. 
Which would be deadly for a free software project. 

WoutWare is better in this respect, as it requires a one-time license of currently 1'208 USD/year per developer. 
Also, Teigha is a pain in the ass to use. 
The problem with WoutWare is, that you need a new license each time you need to download a new version of WoutWare because there was a new version of AutoCAD. 
Also, WoutWare is .NET and therefore currently only works on Windows. 
There is a preview release of WoutWare for .NET Core (which works on Linux, and presumably on OSX too). 
.NET Core can be self-containedly deployed (Windows, Linux, Mac) , so there are no dependencies on a certain version of the .NET-Framwork. 

Those are the two only (working) options when you deal with DWG. 



-----UrsprÃ¼ngliche Nachricht-----
Von: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] Im Auftrag von JÃ¼rgen E. Fischer
Gesendet: Mittwoch, 26. September 2018 14:23
An: qgis-developer at lists.osgeo.org
Betreff: Re: [QGIS-Developer] Exporting from QGIS to CAD format - is it possible to offer DWG export

Hi Rob,

On Tue, 25. Sep 2018 at 13:49:50 -0400, rjwillson at gmail.com wrote:
> Is there a proprietary licensing reason that QGIS cannot export 
> directly to *.dwg file format rather than only to the dxf format?

We could probably also use libdxfrw, that we use for our import, to write DWG.

But contentwise DXF and DWG are alike - and there's more software that can read DXF than DWG.  
Is using DXF not an option?  
Do you require a certain version of DWG (the format changed quite a bit, although the content actually didn't that much).



JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode


------------------------------

Message: 3
Date: Wed, 26 Sep 2018 14:59:06 -0000
From: noreply at qgis.org
To: cuckovic.zoran at gmail.com, qgis-developer at lists.osgeo.org
Subject: [QGIS-Developer] Plugin [440] Visibility Analysis approval
	notification.
Message-ID: <20180926145906.14499.27892 at 2c6504964296>
Content-Type: text/plain; charset="utf-8"


Plugin Visibility Analysis approval by pcav.
The plugin version "[440] Visibility Analysis 0.6.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/ViewshedAnalysis/


------------------------------

Message: 4
Date: Wed, 26 Sep 2018 17:22:43 -0000
From: noreply at qgis.org
To: steliosvitalis at gmail.com, qgis-developer at lists.osgeo.org
Subject: [QGIS-Developer] Plugin [1544] CityJSON Loader approval
	notification.
Message-ID: <20180926172243.14497.39587 at 2c6504964296>
Content-Type: text/plain; charset="utf-8"


Plugin CityJSON Loader approval by pcav.
The plugin version "[1544] CityJSON Loader 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/CityJSON-loader/


------------------------------

Subject: Digest Footer

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

------------------------------

End of QGIS-Developer Digest, Vol 155, Issue 76
***********************************************


From idan at miara.com  Wed Sep 26 14:53:32 2018
From: idan at miara.com (Idan Miara)
Date: Thu, 27 Sep 2018 00:53:32 +0300
Subject: [QGIS-Developer] OSGeo4W Gdal meta package and Python init
Message-ID: <CAEDrt38OYsU2UtKvCVe5deOk6HX_v+uk51W11a4FFaGpqMnN7A@mail.gmail.com>

Hi,

I'm trying to use GDAL and Python3 from OSGeo4W in my application and I
have the following questions:

1. As I'm targeting only Python3 (using python3-gdal-2.2.4-1.tar.bz2), I
was wandering if I need to provide also the Python27 for the gdal-python
scripts (gdal-python-2.2.4-2.tar.bz2) ?
Are they all the gdal-python scripts Python3 compatible? If so, why does
gdal-python-2.2.4-2.tar.bz2 include the Python27 libs/site-packages and not
in a separate file as for Python3?

2. I'm trying to figure out a way to start my app without setting an
additional mandatory env-variable (PYTHONHOME) globally or with a batch
file, so far I could only start it with the following batch file:

set OSGEO4W_ROOT=%~dp0\OSGeo4W-org
set PYTHONHOME=%OSGEO4W_ROOT%\apps\python36
myapp.exe

Otherwise my app crushes upon Python DLL initialization.

I tried to set PYTHONHOME with the SetEnvironmentVariable function but
although I get the correct value with GetEnvironmentVariable, (the same as
with the env-varialbe method), my app still crushes upon the DLL
initialization.
I understand it must be possible because somehow starting qgis-bin.exe
works (I guess it has to do with the qgis-bin.env file, but how does it
work?

I had no problem using the official Python3.6 distribution (I guess because
PYTHONHOME is the same as the python3.dll  folder)

3. I could not find GDAL/Python27/Python36 meta packages (as there is for
QGIS) to install GDAL or Python and their dependencies.
After a research I could pull out the following dependency list for GDAL
and the package list for Python3, how can I make meta packages out of them
so it would be easier to download/install?

*gdal-2.2.4-2.tar.bz2 dependency list:*
gdal-ecw-2.2.4-2.tar.bz2
gdal-mrsid-2.2.4-2.tar.bz2
gdal-oracle-2.2.4-2.tar.bz2
gdal-python-2.2.4-2.tar.bz2
gdal-sosi-2.2.4-2.tar.bz2
curl-7.60.0-1.tar.bz2
expat-2.1.0-1.tar.bz2
freexl-1.0.2-1.tar.bz2
geos-3.6.1-1.tar.bz2
hdf5-1.8.11-2.tar.bz2
iconv-1.14-1.tar.bz2
iconv-vc14-1.15-1.tar.bz2
libjpeg-6b-4.tar.bz2
liblwgeom-2.3.0-1.tar.bz2
libmysql-6.1.9-1.tar.bz2
libpng-1.6.3-1.tar.bz2
libpq-9.2.4-1.tar.bz2
libxml2-2.9.1-1.tar.bz2
msvcrt-1.0.3-1.tar.bz2
netcdf-4.4.1.1-1.tar.bz2
ogdi-3.2.1-1.tar.bz2
openjpeg-2.3.0-1.tar.bz2
openssl-1.0.2j-1.tar.bz2
proj-4.9.3-1.tar.bz2
spatialite-4.3.0-4.tar.bz2
sqlite3-3.17.0-4.tar.bz2
szip-2.1-1.tar.bz2
xerces-c-3.2.0-1.tar.bz2
xz-5.2.3-1.tar.bz2
zlib-1.2.8-1.tar.bz2

*Python3 packages:*
pyqt5-5.9-3.tar.bz2
python3-certifi-2018.1.18-1.tar.bz2
python3-chardet-3.0.4-1.tar.bz2
python3-core-3.6.0-2.tar.bz2
python3-cycler-0.10.0-1.tar.bz2
python3-decorator-4.2.1-1.tar.bz2
python3-exifread-2.1.2-1.tar.bz2
python3-future-0.16.0-1.tar.bz2
python3-httplib2-0.10.2-1.tar.bz2
python3-idna-2.6-1.tar.bz2
python3-ipython-genutils-0.2.0-1.tar.bz2
python3-jinja2-2.9.4-1.tar.bz2
python3-jsonschema-2.6.0-1.tar.bz2
python3-jupyter-core-4.4.0-1.tar.bz2
python3-markupsafe-0.23-1.tar.bz2
python3-matplotlib-2.0.0-1.tar.bz2
python3-mock-2.0.0-1.tar.bz2
python3-nbformat-4.4.0-1.tar.bz2
python3-networkx-2.0-1.tar.bz2
python3-nose2-0.6.5-1.tar.bz2
python3-numpy-1.12.0+mkl-1.tar.bz2
python3-owslib-0.14.0-1.tar.bz2
python3-pbr-1.10.0-1.tar.bz2
python3-plotly-2.5.1-1.tar.bz2
python3-psycopg2-2.7.3.2-1.tar.bz2
python3-pygments-2.2.0-1.tar.bz2
python3-pyodbc-4.0.9-1.tar.bz2
python3-pyparsing-2.1.10-1.tar.bz2
python3-pypiwin32-220-1.tar.bz2
python3-pyproj-1.9.5.1-1.tar.bz2
python3-python-dateutil-2.6.0-1.tar.bz2
python3-pytz-2018.3-1.tar.bz2
python3-pyyaml-3.12-1.tar.bz2
python3-qscintilla-2.10.1-1.tar.bz2
python3-requests-2.18.4-1.tar.bz2
python3-scipy-0.19.0rc2-1.tar.bz2
python3-shapely-1.5.17-1.tar.bz2
python3-simplejson-3.10.0-1.tar.bz2
python3-six-1.11.0-1.tar.bz2
python3-traitlets-4.3.2-1.tar.bz2
python3-urllib3-1.22-1.tar.bz2
python3-xlrd-1.0.0-1.tar.bz2
python3-xlwt-1.2.0-1.tar.bz2
sip-qt5-4.19.3-1.tar.bz2

Thanks,
Idan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180927/ad41f6f7/attachment.html>

From ricardo.garcia.silva at gmail.com  Wed Sep 26 15:03:14 2018
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Wed, 26 Sep 2018 23:03:14 +0100
Subject: [QGIS-Developer] Using embedded widgets in the layer tree on a
 python plugin
In-Reply-To: <CAC2XbFe5+e4gpT_7FqJypcD+ux=vt2nMoMCS+e_xnHag7uhaNQ@mail.gmail.com>
References: <CAFcNcQYZbxoxayoR=dmnmBugrFikgodu_paZJJ0Sp6PNdqBehg@mail.gmail.com>
 <CAC2XbFe5+e4gpT_7FqJypcD+ux=vt2nMoMCS+e_xnHag7uhaNQ@mail.gmail.com>
Message-ID: <CAFcNcQbh-jg14EsXf48aX0XdAKOX3PL97ph+QZX+i4Wey-yRwg@mail.gmail.com>

Thanks for the feedback.

I've opened the relevant tickets in the bug tracker:

https://issues.qgis.org/issues/19960
https://issues.qgis.org/issues/19964

Might take a stab at a fix myself, if I can spare some free time.


Martin Dobias <wonder.sk at gmail.com> escreveu no dia quarta, 26/09/2018 Ã (s)
20:30:

> Hi Ricardo
>
> Sorry for the delayed answer...
>
> On Mon, Sep 17, 2018 at 12:10 AM Ricardo Filipe Soares Garcia da
> <ricardo.garcia.silva at gmail.com> wrote:
> >
> > This code kind of works, but I'm facing two problems at the moment:
> >
> > 1. The `MyWidgetProvider.supportsLayer()` method is never called. The
> logging call does not show up on the console and I also see that my
> provider is offered on WMS layers, but also on some local vector layers
> (which is not what I intend). grep'ping around the QGIS' source code I
> could not find some place where this method would be called and used, so
> I'm wondering if this is implemented. I would expect this method to be
> called when the layer properties dialog is opened, so that my provider
> would get filtered out for layers that were of the wrong type;
> >
> > 2. This code does not update the legend for the layer, UNLESS it is a
> vector layer. If I try to add this provider to a WMS layer, the legend is
> not updated. If I add it to a shapefile, it works as expected. In order to
> get my QLabel to show up on WMS layers, I have to manually run this in the
> QGIS python shell:
>
> I have looked into the code and figured out that both of these issues
> seem like bugs in the implementation. The supportLayer() method indeed
> seems unused (my test implementation always returned true, that
> explains I haven't realized it was not wired in) and the legend
> refresh of vector layer is probably done by some other part within the
> vector layer properties dialog, while in raster layer properties that
> does not happen. Feel free to report them in the bug tracker...
>
> Cheers
> Martin
>


-- 
___________________________ ___ __
Ricardo Garcia Silva
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180926/0911f2a3/attachment.html>

From jef at norbit.de  Wed Sep 26 15:18:49 2018
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu, 27 Sep 2018 00:18:49 +0200
Subject: [QGIS-Developer] OSGeo4W Gdal meta package and Python init
In-Reply-To: <CAEDrt38OYsU2UtKvCVe5deOk6HX_v+uk51W11a4FFaGpqMnN7A@mail.gmail.com>
References: <CAEDrt38OYsU2UtKvCVe5deOk6HX_v+uk51W11a4FFaGpqMnN7A@mail.gmail.com>
Message-ID: <20180926221849.vu3ar4s4niscooix@norbit.de>

Hi Idan,

On Thu, 27. Sep 2018 at 00:53:32 +0300, Idan Miara wrote:
> 1. As I'm targeting only Python3 (using python3-gdal-2.2.4-1.tar.bz2), I
> was wandering if I need to provide also the Python27 for the gdal-python
> scripts (gdal-python-2.2.4-2.tar.bz2) ?
> Are they all the gdal-python scripts Python3 compatible? If so, why does
> gdal-python-2.2.4-2.tar.bz2 include the Python27 libs/site-packages and not
> in a separate file as for Python3?

gdal-python is for python2
python3-gdal for python3

Which is also what you need to install to get the bindings and the required
dependencies (except for optional parts a gdal-ecw, gdal-oracle etc.)

> I understand it must be possible because somehow starting qgis-bin.exe
> works (I guess it has to do with the qgis-bin.env file, but how does it
> work?

That is actually done by QGIS itself.  QGIS's postinstall runs the qgis*bat
with --postinstall argument, which in turn will read the qgis*.vars file, which
has a list of environment variables that are required to run qgis and dumps
them to the qgis*.env file.  The latter is then used whenever the exe is
started directly - for instance to make it pinnable (see src/app/mainwin.cpp).

To enable python3 you need to call py3_env.bat.  That will also add the scripts
directory of python3 to the path, which has the python3 versions of the gdal
scripts.  However the wrapper batch files (eg.  gdal_merge.bat) are only
generated in gdal-python and use python2.


JÃ¼rgen

-- 
JÃ¼rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             RheinstraÃe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180927/e3fbe1c5/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180927/e3fbe1c5/attachment.ksh>

From noreply at qgis.org  Wed Sep 26 22:44:16 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 27 Sep 2018 05:44:16 -0000
Subject: [QGIS-Developer] Plugin [1545] DICT approval notification.
Message-ID: <20180927054416.20128.51201@2c6504964296>


Plugin DICT approval by pcav.
The plugin version "[1545] DICT 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/DICT/

From nyall.dawson at gmail.com  Wed Sep 26 23:31:31 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 27 Sep 2018 16:31:31 +1000
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <1537897955193-0.post@n6.nabble.com>
References: <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
 <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
 <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>
 <CAB28Ashz2bS4nSE0OHSQVsi_75m+igyAeeMKJ42SiceXoc3tQw@mail.gmail.com>
 <2E885BB293AF0448A0181138489E9A0EAEEC0122@S000014.PROD.SITAD.DK>
 <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>
 <1537897955193-0.post@n6.nabble.com>
Message-ID: <CAB28AsgqFORU0r6-ONrVS4oQri0uXQG=mDMTZXT1WP-XrO-Fdw@mail.gmail.com>

On Wed, 26 Sep 2018 at 03:52, Helmut Kudrnovsky <hellik at web.de> wrote:
>
> >[...]
> >Caris LOTS: 14.737 km^2
> >ArcMap:     14.727,446 km^2
> >MapInfo:    14.727,352 km^2
> >GeoMedia:   14.726,443 km^2
> >Planimeter: 14.722,522 km^2
> >QGIS 3.2:   14.652,181 km^2
> >QGIS 2.8:   14.652,181 km^2
> >[...]
> >My suspicion is that the geodesic algorithm used by QGIS (and apparently
> GRASS) is to blame here.
>
> a quick check in GRASS 7.7.svn shows :-)
>
> |m2|km2|
> |14718097678,673|14.718,097679|

Hmm... confusing. I've double checked and the QGIS/GRASS code matches,
so we should get identical results. The cause must lie in the data
passed to the area calculation. I'll investigate.

Nyall

From kreve at sdfe.dk  Thu Sep 27 00:01:36 2018
From: kreve at sdfe.dk (Kristian Evers)
Date: Thu, 27 Sep 2018 07:01:36 +0000
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <CAB28AsgqFORU0r6-ONrVS4oQri0uXQG=mDMTZXT1WP-XrO-Fdw@mail.gmail.com>
References: <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
 <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
 <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>
 <CAB28Ashz2bS4nSE0OHSQVsi_75m+igyAeeMKJ42SiceXoc3tQw@mail.gmail.com>
 <2E885BB293AF0448A0181138489E9A0EAEEC0122@S000014.PROD.SITAD.DK>
 <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>
 <1537897955193-0.post@n6.nabble.com>
 <CAB28AsgqFORU0r6-ONrVS4oQri0uXQG=mDMTZXT1WP-XrO-Fdw@mail.gmail.com>
Message-ID: <2E885BB293AF0448A0181138489E9A0EAEEC5056@S000014.PROD.SITAD.DK>

A possible explanation could be that QGIS doesn't pick up the correct ellipsoid definition from the CRS metadata. I had a hunch that might be the problem but couldnât come up with a test to confirm it. I suspect it would be simple to test in debug mode. 

/Kristian

-----Oprindelig meddelelse-----
Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne af Nyall Dawson
Sendt: 27. september 2018 08:32
Til: hellik at web.de
Cc: qgis-developer <qgis-developer at lists.osgeo.org>
Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0

On Wed, 26 Sep 2018 at 03:52, Helmut Kudrnovsky <hellik at web.de> wrote:
>
> >[...]
> >Caris LOTS: 14.737 km^2
> >ArcMap:     14.727,446 km^2
> >MapInfo:    14.727,352 km^2
> >GeoMedia:   14.726,443 km^2
> >Planimeter: 14.722,522 km^2
> >QGIS 3.2:   14.652,181 km^2
> >QGIS 2.8:   14.652,181 km^2
> >[...]
> >My suspicion is that the geodesic algorithm used by QGIS (and apparently
> GRASS) is to blame here.
>
> a quick check in GRASS 7.7.svn shows :-)
>
> |m2|km2|
> |14718097678,673|14.718,097679|

Hmm... confusing. I've double checked and the QGIS/GRASS code matches,
so we should get identical results. The cause must lie in the data
passed to the area calculation. I'll investigate.

Nyall
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Thu Sep 27 00:35:31 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 27 Sep 2018 17:35:31 +1000
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <1537897955193-0.post@n6.nabble.com>
References: <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
 <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
 <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>
 <CAB28Ashz2bS4nSE0OHSQVsi_75m+igyAeeMKJ42SiceXoc3tQw@mail.gmail.com>
 <2E885BB293AF0448A0181138489E9A0EAEEC0122@S000014.PROD.SITAD.DK>
 <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>
 <1537897955193-0.post@n6.nabble.com>
Message-ID: <CAB28Asj6Q1F-kZ6k3jR0Jv_43Z_hwni47DndrcaQwqqXbZy+xg@mail.gmail.com>

On Wed, 26 Sep 2018 at 03:52, Helmut Kudrnovsky <hellik at web.de> wrote:
>
> >[...]
> >Caris LOTS: 14.737 km^2
> >ArcMap:     14.727,446 km^2
> >MapInfo:    14.727,352 km^2
> >GeoMedia:   14.726,443 km^2
> >Planimeter: 14.722,522 km^2
> >QGIS 3.2:   14.652,181 km^2
> >QGIS 2.8:   14.652,181 km^2
> >[...]
> >My suspicion is that the geodesic algorithm used by QGIS (and apparently
> GRASS) is to blame here.
>
> a quick check in GRASS 7.7.svn shows :-)
>
> |m2|km2|
> |14718097678,673|14.718,097679|

Hi Helmut,

I'm struggling to work out where the difference lies between the code
paths. Do you mind sharing the values from the st state struct when
G_ellipsoid_polygon_area is called for this polygon?

Nyall

>
>
>
> -----
> best regards
> Helmut
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From rajendrakumarkhatri at gmail.com  Thu Sep 27 02:35:01 2018
From: rajendrakumarkhatri at gmail.com (Rajendra Khatri)
Date: Thu, 27 Sep 2018 15:05:01 +0530
Subject: [QGIS-Developer] Build First QGIS Desktop Application using QT5
Message-ID: <CAABGu8vSZOXC2jf2-RsJfFLE4nR-NDp-AL3UTUS+eQ18Q4J0mQ@mail.gmail.com>

Hello I am new to QGIS development. I am trying to build GIS standalone
desktop application using VS2017, QT 5,11 and QGIS API. Please share, how
to link and call QGIS API in QT application.
Rajendra
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180927/d4ca723e/attachment.html>

From delazj at gmail.com  Thu Sep 27 05:37:59 2018
From: delazj at gmail.com (DelazJ)
Date: Thu, 27 Sep 2018 14:37:59 +0200
Subject: [QGIS-Developer] [Qgis-psc] Fwd: Documentation writing
In-Reply-To: <be5cf19b-2529-60d8-00dd-df04b7b19f28@gmail.com>
References: <12de22d1-a8fe-f20c-3c79-603731d6fb4f@faunalia.it>
 <9a6bc898-cd3f-bf2a-758a-2b3adfe75ea3@faunalia.it>
 <2f7795cb-8322-ae54-441d-d2154df5a931@oslandia.com>
 <c757469e-cb3b-0a92-6704-b02422e53af9@faunalia.it>
 <CAECJsSqtnjZhe7wW+yD2KX+d92mib6eWQxwhtq3g4m9L=ySwjg@mail.gmail.com>
 <be5cf19b-2529-60d8-00dd-df04b7b19f28@gmail.com>
Message-ID: <CAECJsSpiowrh=kunstGjyAGdVCunOmYgUGiWLO0pM_1xqHq-Aw@mail.gmail.com>

Hi,

Matteo, I was just listing the areas I had in mind but I agree with you: we
should prioritize the issues. I think we should use paid program to tackle
what are more relevant to the project and setting a priority of what we
think should be documented is a necessary step. This will help to
concentrate and "guide" the upcoming writers.

We already have labels to handle that (blocker, high priority, even low
priority); they just need to be applied to the retained features/areas.

Regards,
Harrissou

Le mar. 25 sept. 2018 Ã  20:21, matteo <matteo.ghetta at gmail.com> a Ã©crit :

> Hi Harrissou,
>
> thanks for reporting your ideas, probably nobody knows better than you
> "black areas" of the docs.
>
> What do other docs people think? I don't want to put too much wood in
> the fire, but maybe if we all agree, we can think to add some priority
> labels depending on the lack of documented (interested) features.
>
> QGIS doc repo already has a lot (too much?!) labels, but maybe having a
> kind of hierarchy could help.
>
> Thanks
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180927/b4f8bbf3/attachment.html>

From rdmailings at duif.net  Thu Sep 27 07:08:08 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 27 Sep 2018 16:08:08 +0200
Subject: [QGIS-Developer] form font barely readable
Message-ID: <37e56027-53b1-47b0-991d-274bbc09ce7b@duif.net>

Hi,

Using the I-tool and viewing via 'Auto open form', the attributes of a
feature are barely readable (see attached screenshot).
Making the layer editable make the font go to normal black. I understand
the idea is to make it more clear that these are NOT editable.

It is slightly better on Windows, but personally I would prefer to make
it more readable?

What do others think?

Regards,

Richard

PS I know earlier we had such a discussion about non-visible layer items
in the legend...
-------------- next part --------------
A non-text attachment was scrubbed...
Name: formfont.png
Type: image/png
Size: 5368 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180927/d1f8b9da/attachment-0001.png>

From bnhr.dev at gmail.com  Thu Sep 27 07:54:24 2018
From: bnhr.dev at gmail.com (Ben Hur Pintor)
Date: Thu, 27 Sep 2018 22:54:24 +0800
Subject: [QGIS-Developer] Buffer Algorithm (Buffer distance of output
 polygon is not equal to the Distance parameter)
Message-ID: <CAFAduOTXODexEH2dSCd9B=8fgir_B3FgyUjuQ60kosEHtpS-Og@mail.gmail.com>

Hi everyone.

I apologize if this has been asked before but I would just like to clarify
if this is how the buffer algorithm in QGIS should function.

*Issue:* The actual distance from the input layer to the buffer polygon
created by the Buffer processing tool (and v.buffer) is not equal (only
around 80%) to the Distance parameter provided in the said tool.

*Example:* My coordinate reference system is WGS84/UTM Zone 51N (EPSG:
32651). I create a 100m buffer around a point but when I measure the
resulting circle, its edge is only ~80m from the point (see buffer-point
and buffer-point-distance below).

 buffer-point.png
<https://drive.google.com/file/d/1SAptLcRKnGVc8zyESkl-sJZ23a5OWEsy/view?usp=drive_web>

 buffer-point-distance.png
<https://drive.google.com/file/d/1aQ0mfadGnEzISkPnu-GGX9SUu1GXhGMs/view?usp=drive_web>

I create a 50m buffer around a line but when I measure the resulting
buffer, its edge is only ~40m from the line (see line-buffer and
line-buffer-distance below).

 line-buffer.png
<https://drive.google.com/file/d/11cNTRNbHxB3cFCaZEhXDWqKYEdWJX31K/view?usp=drive_web>

 line-buffer-distance.png
<https://drive.google.com/file/d/1PGRabSqF-zrOCpAboncQ_yQxx_0ulByN/view?usp=drive_web>


Clarifications will be much appreciated. Maybe I just missed some part of
the documentation.

Thank you.

Sincerely,
Ben Hur

-- 
---

*Ben Hur S. Pintor*
bnhr.xyz


Consultancy Â· Training & Support Â· Development & Innovation
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180927/675e363e/attachment.html>

From delazj at gmail.com  Thu Sep 27 08:06:51 2018
From: delazj at gmail.com (DelazJ)
Date: Thu, 27 Sep 2018 17:06:51 +0200
Subject: [QGIS-Developer] [Qgis-user] Buffer Algorithm (Buffer distance
 of output polygon is not equal to the Distance parameter)
In-Reply-To: <CAFAduOTXODexEH2dSCd9B=8fgir_B3FgyUjuQ60kosEHtpS-Og@mail.gmail.com>
References: <CAFAduOTXODexEH2dSCd9B=8fgir_B3FgyUjuQ60kosEHtpS-Og@mail.gmail.com>
Message-ID: <CAECJsSrd0F3wQVG+Df16g2Zb24TVNvY3vf_6Si8t3Gx0-Dcy7A@mail.gmail.com>

Hi,
There might be more information in the *Info* drop-down menu. Expand it,
please.

Harrissou

Le jeu. 27 sept. 2018 Ã  16:55, Ben Hur Pintor <bnhr.dev at gmail.com> a Ã©crit :

> Hi everyone.
>
> I apologize if this has been asked before but I would just like to clarify
> if this is how the buffer algorithm in QGIS should function.
>
> *Issue:* The actual distance from the input layer to the buffer polygon
> created by the Buffer processing tool (and v.buffer) is not equal (only
> around 80%) to the Distance parameter provided in the said tool.
>
> *Example:* My coordinate reference system is WGS84/UTM Zone 51N (EPSG:
> 32651). I create a 100m buffer around a point but when I measure the
> resulting circle, its edge is only ~80m from the point (see buffer-point
> and buffer-point-distance below).
>
>  buffer-point.png
> <https://drive.google.com/file/d/1SAptLcRKnGVc8zyESkl-sJZ23a5OWEsy/view?usp=drive_web>
>
>  buffer-point-distance.png
> <https://drive.google.com/file/d/1aQ0mfadGnEzISkPnu-GGX9SUu1GXhGMs/view?usp=drive_web>
>
> I create a 50m buffer around a line but when I measure the resulting
> buffer, its edge is only ~40m from the line (see line-buffer and
> line-buffer-distance below).
>
>  line-buffer.png
> <https://drive.google.com/file/d/11cNTRNbHxB3cFCaZEhXDWqKYEdWJX31K/view?usp=drive_web>
>
>  line-buffer-distance.png
> <https://drive.google.com/file/d/1PGRabSqF-zrOCpAboncQ_yQxx_0ulByN/view?usp=drive_web>
>
>
> Clarifications will be much appreciated. Maybe I just missed some part of
> the documentation.
>
> Thank you.
>
> Sincerely,
> Ben Hur
>
> --
> ---
>
> *Ben Hur S. Pintor*
> bnhr.xyz
>
>
> Consultancy Â· Training & Support Â· Development & Innovation
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180927/404cd0b9/attachment.html>

From cavallini at faunalia.it  Thu Sep 27 08:09:14 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 27 Sep 2018 17:09:14 +0200
Subject: [QGIS-Developer] Lizmap cannot get the feature data with WFS
Message-ID: <05bfdc0e-8bf9-82eb-2593-319695f8fc50@faunalia.it>

Hi all,

I keep on getting the above error when editing or deleting points from
Lizmap 3.1.4 on latest qgis LTR, PostGIS 2.5.

Inserting new points works smoothly. From the error log I only get:

2018-09-27 16:45:29Â Â Â  192.168.1.118Â Â Â  noticeÂ Â Â  2018-09-27 16:45:29Â Â Â 
[8]Â Â Â  Undefined offset: 0Â Â Â 
/var/www/lizmap-web-client-3.1.14/lizmap/modules/lizmap/controllers/edition.classic.phpÂ Â Â 
179

2018-09-27 16:45:29Â Â Â  192.168.1.118Â Â Â  errorÂ Â Â  2018-09-27 16:45:29Â Â Â 
[0]Â Â Â  Call to a member function xpath() on nullÂ Â Â 
/var/www/lizmap-web-client-3.1.14/lizmap/modules/lizmap/controllers/edition.classic.phpÂ Â Â 
180

Any hint?

Thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/



From bnhr.dev at gmail.com  Thu Sep 27 08:41:59 2018
From: bnhr.dev at gmail.com (Ben Hur Pintor)
Date: Thu, 27 Sep 2018 23:41:59 +0800
Subject: [QGIS-Developer] [Qgis-user] Buffer Algorithm (Buffer distance
 of output polygon is not equal to the Distance parameter)
In-Reply-To: <CAECJsSrd0F3wQVG+Df16g2Zb24TVNvY3vf_6Si8t3Gx0-Dcy7A@mail.gmail.com>
References: <CAFAduOTXODexEH2dSCd9B=8fgir_B3FgyUjuQ60kosEHtpS-Og@mail.gmail.com>
 <CAECJsSrd0F3wQVG+Df16g2Zb24TVNvY3vf_6Si8t3Gx0-Dcy7A@mail.gmail.com>
Message-ID: <CAFAduOTR9hsVYZ4qpKabhanniJOBwGqjQ5MVw6FL5hsDRX2Okw@mail.gmail.com>

That's odd. I redid the entire thing just now (restarted QGIS, made scratch
point layer, created a 100m buffer) and the values I get are now correct.
Even the area computations were off in the first one but after redoing the
process, everything looks good.

 point-buffer2.png
<https://drive.google.com/file/d/1EmWTh3mgyOAvNRUzxMQgxVmMJZqg_-pg/view?usp=drive_web>

Weird. Maybe I missed something during the first one. Hahaha.

Anyway, sorry for bothering you all.

Cheers!

On Thu, Sep 27, 2018 at 11:07 PM DelazJ <delazj at gmail.com> wrote:

> Hi,
> There might be more information in the *Info* drop-down menu. Expand it,
> please.
>
> Harrissou
>
> Le jeu. 27 sept. 2018 Ã  16:55, Ben Hur Pintor <bnhr.dev at gmail.com> a
> Ã©crit :
>
>> Hi everyone.
>>
>> I apologize if this has been asked before but I would just like to
>> clarify if this is how the buffer algorithm in QGIS should function.
>>
>> *Issue:* The actual distance from the input layer to the buffer polygon
>> created by the Buffer processing tool (and v.buffer) is not equal (only
>> around 80%) to the Distance parameter provided in the said tool.
>>
>> *Example:* My coordinate reference system is WGS84/UTM Zone 51N (EPSG:
>> 32651). I create a 100m buffer around a point but when I measure the
>> resulting circle, its edge is only ~80m from the point (see buffer-point
>> and buffer-point-distance below).
>>
>>  buffer-point.png
>> <https://drive.google.com/file/d/1SAptLcRKnGVc8zyESkl-sJZ23a5OWEsy/view?usp=drive_web>
>>
>>  buffer-point-distance.png
>> <https://drive.google.com/file/d/1aQ0mfadGnEzISkPnu-GGX9SUu1GXhGMs/view?usp=drive_web>
>>
>> I create a 50m buffer around a line but when I measure the resulting
>> buffer, its edge is only ~40m from the line (see line-buffer and
>> line-buffer-distance below).
>>
>>  line-buffer.png
>> <https://drive.google.com/file/d/11cNTRNbHxB3cFCaZEhXDWqKYEdWJX31K/view?usp=drive_web>
>>
>>  line-buffer-distance.png
>> <https://drive.google.com/file/d/1PGRabSqF-zrOCpAboncQ_yQxx_0ulByN/view?usp=drive_web>
>>
>>
>> Clarifications will be much appreciated. Maybe I just missed some part of
>> the documentation.
>>
>> Thank you.
>>
>> Sincerely,
>> Ben Hur
>>
>> --
>> ---
>>
>> *Ben Hur S. Pintor*
>> bnhr.xyz
>>
>>
>> Consultancy Â· Training & Support Â· Development & Innovation
>> _______________________________________________
>> Qgis-user mailing list
>> Qgis-user at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>
>

-- 
---

*Ben Hur S. Pintor*
bnhr.xyz


Consultancy Â· Training & Support Â· Development & Innovation
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180927/094d1350/attachment-0001.html>

From adenaculture at gmail.com  Thu Sep 27 09:34:37 2018
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 27 Sep 2018 12:34:37 -0400
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
 <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
 <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
 <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>
 <CAB28Ashz2bS4nSE0OHSQVsi_75m+igyAeeMKJ42SiceXoc3tQw@mail.gmail.com>
 <2E885BB293AF0448A0181138489E9A0EAEEC0122@S000014.PROD.SITAD.DK>
 <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>
Message-ID: <CABPxTTqkwFKtdCuQTYr=bfte0vSNHhHAgrJLSd=V_g0WJY7y=w@mail.gmail.com>

I am resending this since I did not include everyone.

I wrote a little script that calculates the area using geographiclib in
QGIS. You need to have the Shape Tools plugin installed and then change the
path accordingly in the script. You also need to have the polygon layer
selected in QGIS because it is looking for the active layer and it only
pulls out the first polygon. You can run it from the python console. Here
are the results running it on your polygon.

num   = 4017
perim = 503.3782852369916 km
area  = -14737.935340098571 km^2

It is interesting that the area is negative. It must be the direction that
he points are added. This value corresponds to Caris LOTS.

Calvin


On Tue, Sep 25, 2018 at 9:31 AM, Kristian Evers <kreve at sdfe.dk> wrote:

> Right, here are the calculated areas as returned by a number of different
> GIS applications and the planimeter app of GeographicLib for reference:
>
> Caris LOTS: 14.737 km^2
> ArcMap:     14.727,446 km^2
> MapInfo:    14.727,352 km^2
> GeoMedia:   14.726,443 km^2
> Planimeter: 14.722,522 km^2
> QGIS 3.2:   14.652,181 km^2
> QGIS 2.8:   14.652,181 km^2
>
> The polygon that I have used to get the numbers above can be found here:
> https://gist.github.com/kbevers/207b5bcb9be20e7554abe5f56742ec2c
>
> I am quite confident that GeographicLib delivers the most accurate result
> (if you have doubts, this reference [0] should convince you). As can be
> seen from the table above all but QGIS come fairly close. I expect some
> variation in the results as these are numerical approximations, although I
> think QGIS is too far of the mark. My suspicion is that the geodesic
> algorithm used by QGIS (and apparently GRASS) is to blame here.
>
> /Kristian
>
> [0] https://arxiv.org/pdf/1102.1215.pdf
>
> -----Oprindelig meddelelse-----
> Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne af
> Kristian Evers
> Sendt: 25. september 2018 09:15
> Til: Nyall Dawson <nyall.dawson at gmail.com>
> Cc: qgis-developer <qgis-developer at lists.osgeo.org>
> Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
>
> It's not a small area, that's why I have been nitpicking ellipsoid area
> calculation
> algorithms!
> I did end up doing the calculations with geographiblib to get a reference
> to judge
> various other calculations by. It's a pain in the butt to extract the data
> from a
> polygon shapefile (or whatever) and format it to suit the planimeter app of
> geographiclib. It would be so much cooler if I could get the same results
> by
> clicking info on a polygon in QGIS :-)
>
> /Kristian
>
>
> -----Oprindelig meddelelse-----
> Fra: Nyall Dawson <nyall.dawson at gmail.com>
> Sendt: 25. september 2018 09:07
> Til: Kristian Evers <kreve at sdfe.dk>
> Cc: Paolo Cavallini <cavallini at faunalia.it>; qgis-developer <
> qgis-developer at lists.osgeo.org>
> Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
>
> On Tue, 25 Sep 2018 at 16:59, Kristian Evers <kreve at sdfe.dk> wrote:
> >
> > Hi Paolo,
> >
> > I have some rought notes that I can try to polish up a bit and share
> here.
> > I'll see if I can find the time for that today. I didn't get to the
> bottom of
> > the problem but I am leaning towards the issue being that QGIS uses an
> > inferior algorithm to determine geodesics. Unfortunately I couldn't find
> out
> > from either the source code or the documentation which algorithm is used.
> > As far as I remember it differs from the otherwise popular algorithm by
> > Vincenty. That may be because a different algorithm is used or the
> > Implementation is wrong.
> >
> > I'll get back with a better write-up later and some test data and
> results.
>
> We use a direct port from GRASS:
>
> https://github.com/qgis/QGIS/blob/master/src/core/qgsdistancearea.cpp#L690
>
> vs GRASS upstream:
>
> https://trac.osgeo.org/grass/browser/grass/trunk/lib/gis/
> area_poly1.c?rev=71260
>
> It's not very stable for very small areas -- better to use cartesian
> calculations there. Or bring in geographiclib and punt the
> responsibility elsewhere ;)
>
> Nyall
>
>
>
> >
> > /Kristian
> >
> > -----Oprindelig meddelelse-----
> > Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne
> af Paolo Cavallini
> > Sendt: 25. september 2018 08:23
> > Til: qgis-developer at lists.osgeo.org
> > Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
> >
> > Hi Kristian,
> >
> >
> > Il 09/25/2018 07:24 AM, Kristian Evers ha scritto:
> > >
> > >
> > > On a related note, I have been meaning to raise a similar issue based
> > > on QGISâs not so accurate polygon-area-on-the-ellipsoid calculations.
> > > A colleague of mine came across some differences between QGIS and
> > > CARIS LOTS while doing area calculations in relation to a border
> > > dispute at sea. After that I tested several popular closed source GIS
> > > apps and they all performed better than QGIS.
> > this is worth exploring in detail. could you please be more specific? do
> > you have a test case? could you share the results, or give us a way to
> > replicate them?
> > Thanks.
> >
> > --
> > Paolo Cavallini - www.faunalia.eu
> > QGIS.ORG Chair:
> > http://planet.qgis.org/planet/user/28/tag/qgis%20board/
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180927/c4bee0ae/attachment.html>
-------------- next part --------------
import os, sys
# Change the path to the shapetools plugin
sys.path.append(os.path.dirname('C:/Users/user/AppData/Roaming/QGIS/QGIS3/profiles/default/python/plugins/shapetools/ext-libs/geographiclib'))
from geographiclib.geodesic import Geodesic
from geographiclib.polygonarea import PolygonArea
from qgis.core import QgsCoordinateReferenceSystem, QgsCoordinateTransform, QgsProject
geod = Geodesic.WGS84
epsg4326 = QgsCoordinateReferenceSystem("EPSG:4326")

layer = iface.activeLayer()
layercrs = layer.crs()
trans = QgsCoordinateTransform(layercrs, epsg4326, QgsProject.instance())
iter = layer.getFeatures()
f = next(iter)
if f.geometry().isMultipart():
    poly = f.geometry().asMultiPolygon()[0]
else:
    poly = f.geometry().asPolygon()

gp = geod.Polygon()

for p in poly[0]:
    p = trans.transform(p)
    gp.AddPoint(p.y(), p.x())
    
num, perim, area = gp.Compute()

print( "num   = {}".format(num))
print( "perim = {}".format(perim/1000))
print( "area  = {}".format(area/1000000))


From adenaculture at gmail.com  Thu Sep 27 13:46:00 2018
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 27 Sep 2018 16:46:00 -0400
Subject: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
In-Reply-To: <HE1PR02MB09695C34A1F4AC29414D1B499E150@HE1PR02MB0969.eurprd02.prod.outlook.com>
References: <CABPxTTrsS7HyvxB4+xPDG6=x5DowW2BJXb6kNaFnn-E99KStWQ@mail.gmail.com>
 <CAB28AsgZUTWwB1FMU5qUa=jrUcWugsBvpeU8jd2mzzMyYSFP5A@mail.gmail.com>
 <CABPxTTpQyFF55XBnLLNySrv6Mnh8ST=_Fj+3js=C28GvJof9Rg@mail.gmail.com>
 <CAB28AshqY=b2CdovTUaZzOfU-ku-pL2hgw3c28cQZLg6yH9YtQ@mail.gmail.com>
 <10FD0028-9ECF-45B4-9893-79EC743AF6ED@sdfe.dk>
 <98c999b8-4d36-34a1-464e-f2589c048be4@faunalia.it>
 <2E885BB293AF0448A0181138489E9A0EAEEBF0D1@S000014.PROD.SITAD.DK>
 <CAB28Ashz2bS4nSE0OHSQVsi_75m+igyAeeMKJ42SiceXoc3tQw@mail.gmail.com>
 <2E885BB293AF0448A0181138489E9A0EAEEC0122@S000014.PROD.SITAD.DK>
 <2E885BB293AF0448A0181138489E9A0EAEEC160C@S000014.PROD.SITAD.DK>
 <HE1PR02MB09695C34A1F4AC29414D1B499E150@HE1PR02MB0969.eurprd02.prod.outlook.com>
Message-ID: <CABPxTTphSYt=APDKjty2qd6UV+uLZd80vML1MFkWm5wFbVqAzQ@mail.gmail.com>

Stefan,

You mentioned getting different results when you densify the polygon. The
results should be the same. With geographiclib all distances are based on
geodesic shortest paths between vertices to calculate the area. I tried
your experiment but used a geodesic densifier on the polygon, calculated
the area, and in both cases they were almost identical. The only difference
was way down in the noise. What this tells me is that whatever densify
algorithms you were using, they were not geodesic.

Regards

On Wed, Sep 26, 2018 at 4:36 PM Stefan Blumentrath <
Stefan.Blumentrath at nina.no> wrote:

> Hi,
>
> Even if the discussion already moved on, for the record below some more
> numbers from other OSGeo tools:
> PostGIS (in UTM 33N): 14727443738.0 m2
> GRASS 7.4 (in WGS84): 14707741818.0911
> GRASS 7.4 (in UTM33): between 14707741818.0911 m2 and 14727443738.0262 m2
> (depending on how much one densifies vertices on the boundaries during
> reprojection, the latter value measured without boundary vertex
> densification)
>
> Please see also: https://issues.qgis.org/issues/12057 for earlier
> discussion of area calculations in QGIS...
> And https://trac.osgeo.org/grass/ticket/3356 for recent changes in area
> calculations in GRASS.
>
> Cheers
> Stefan
>
> -----Original Message-----
> From: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> On Behalf
> Of Kristian Evers
> Sent: tirsdag 25. september 2018 15:32
> To: Kristian Evers <kreve at sdfe.dk>; Nyall Dawson <nyall.dawson at gmail.com>
> Cc: qgis-developer <qgis-developer at lists.osgeo.org>
> Subject: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
>
> Right, here are the calculated areas as returned by a number of different
> GIS applications and the planimeter app of GeographicLib for reference:
>
> Caris LOTS: 14.737 km^2
> ArcMap:     14.727,446 km^2
> MapInfo:    14.727,352 km^2
> GeoMedia:   14.726,443 km^2
> Planimeter: 14.722,522 km^2
> QGIS 3.2:   14.652,181 km^2
> QGIS 2.8:   14.652,181 km^2
>
> The polygon that I have used to get the numbers above can be found here:
> https://gist.github.com/kbevers/207b5bcb9be20e7554abe5f56742ec2c
>
> I am quite confident that GeographicLib delivers the most accurate result
> (if you have doubts, this reference [0] should convince you). As can be
> seen from the table above all but QGIS come fairly close. I expect some
> variation in the results as these are numerical approximations, although I
> think QGIS is too far of the mark. My suspicion is that the geodesic
> algorithm used by QGIS (and apparently GRASS) is to blame here.
>
> /Kristian
>
> [0] https://arxiv.org/pdf/1102.1215.pdf
>
> -----Oprindelig meddelelse-----
> Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne af
> Kristian Evers
> Sendt: 25. september 2018 09:15
> Til: Nyall Dawson <nyall.dawson at gmail.com>
> Cc: qgis-developer <qgis-developer at lists.osgeo.org>
> Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
>
> It's not a small area, that's why I have been nitpicking ellipsoid area
> calculation algorithms!
> I did end up doing the calculations with geographiblib to get a reference
> to judge various other calculations by. It's a pain in the butt to extract
> the data from a polygon shapefile (or whatever) and format it to suit the
> planimeter app of geographiclib. It would be so much cooler if I could get
> the same results by clicking info on a polygon in QGIS :-)
>
> /Kristian
>
>
> -----Oprindelig meddelelse-----
> Fra: Nyall Dawson <nyall.dawson at gmail.com>
> Sendt: 25. september 2018 09:07
> Til: Kristian Evers <kreve at sdfe.dk>
> Cc: Paolo Cavallini <cavallini at faunalia.it>; qgis-developer <
> qgis-developer at lists.osgeo.org>
> Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools 3.2.0
>
> On Tue, 25 Sep 2018 at 16:59, Kristian Evers <kreve at sdfe.dk> wrote:
> >
> > Hi Paolo,
> >
> > I have some rought notes that I can try to polish up a bit and share
> here.
> > I'll see if I can find the time for that today. I didn't get to the
> > bottom of the problem but I am leaning towards the issue being that
> > QGIS uses an inferior algorithm to determine geodesics. Unfortunately
> > I couldn't find out from either the source code or the documentation
> which algorithm is used.
> > As far as I remember it differs from the otherwise popular algorithm
> > by Vincenty. That may be because a different algorithm is used or the
> > Implementation is wrong.
> >
> > I'll get back with a better write-up later and some test data and
> results.
>
> We use a direct port from GRASS:
>
> https://github.com/qgis/QGIS/blob/master/src/core/qgsdistancearea.cpp#L690
>
> vs GRASS upstream:
>
>
> https://trac.osgeo.org/grass/browser/grass/trunk/lib/gis/area_poly1.c?rev=71260
>
> It's not very stable for very small areas -- better to use cartesian
> calculations there. Or bring in geographiclib and punt the responsibility
> elsewhere ;)
>
> Nyall
>
>
>
> >
> > /Kristian
> >
> > -----Oprindelig meddelelse-----
> > Fra: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> PÃ¥ vegne
> > af Paolo Cavallini
> > Sendt: 25. september 2018 08:23
> > Til: qgis-developer at lists.osgeo.org
> > Emne: Re: [QGIS-Developer] [Qgis-user] New Features in Shape Tools
> > 3.2.0
> >
> > Hi Kristian,
> >
> >
> > Il 09/25/2018 07:24 AM, Kristian Evers ha scritto:
> > >
> > >
> > > On a related note, I have been meaning to raise a similar issue
> > > based on QGISâs not so accurate polygon-area-on-the-ellipsoid
> calculations.
> > > A colleague of mine came across some differences between QGIS and
> > > CARIS LOTS while doing area calculations in relation to a border
> > > dispute at sea. After that I tested several popular closed source
> > > GIS apps and they all performed better than QGIS.
> > this is worth exploring in detail. could you please be more specific?
> > do you have a test case? could you share the results, or give us a way
> > to replicate them?
> > Thanks.
> >
> > --
> > Paolo Cavallini - www.faunalia.eu
> > QGIS.ORG Chair:
> > http://planet.qgis.org/planet/user/28/tag/qgis%20board/
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180927/6ae9533e/attachment.html>

From rldhont at gmail.com  Thu Sep 27 14:35:17 2018
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Thu, 27 Sep 2018 23:35:17 +0200
Subject: [QGIS-Developer] Lizmap cannot get the feature data with WFS
In-Reply-To: <05bfdc0e-8bf9-82eb-2593-319695f8fc50@faunalia.it>
References: <05bfdc0e-8bf9-82eb-2593-319695f8fc50@faunalia.it>
Message-ID: <0671ae1d-8110-158a-5438-a88b9a569122@gmail.com>

Hi Paolo,

Lizmap can't find the maplayer element base on layerId in the xml project.

Regards,

Le 27/09/2018 Ã  17:09, Paolo Cavallini a Ã©critÂ :
> Hi all,
>
> I keep on getting the above error when editing or deleting points from
> Lizmap 3.1.4 on latest qgis LTR, PostGIS 2.5.
>
> Inserting new points works smoothly. From the error log I only get:
>
> 2018-09-27 16:45:29Â Â Â  192.168.1.118Â Â Â  noticeÂ Â Â  2018-09-27 16:45:29
> [8]Â Â Â  Undefined offset: 0
> /var/www/lizmap-web-client-3.1.14/lizmap/modules/lizmap/controllers/edition.classic.php
> 179
>
> 2018-09-27 16:45:29Â Â Â  192.168.1.118Â Â Â  errorÂ Â Â  2018-09-27 16:45:29
> [0]Â Â Â  Call to a member function xpath() on null
> /var/www/lizmap-web-client-3.1.14/lizmap/modules/lizmap/controllers/edition.classic.php
> 180
>
> Any hint?
>
> Thanks.
>


From nyall.dawson at gmail.com  Thu Sep 27 15:07:11 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 28 Sep 2018 08:07:11 +1000
Subject: [QGIS-Developer] form font barely readable
In-Reply-To: <37e56027-53b1-47b0-991d-274bbc09ce7b@duif.net>
References: <37e56027-53b1-47b0-991d-274bbc09ce7b@duif.net>
Message-ID: <CAB28Ashvzyxp5EQtGEyqxX7yRWBtx53sHw2KtAZ_VXztLY1H=Q@mail.gmail.com>

On Fri, 28 Sep 2018 at 00:08, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>
> Hi,
>
> Using the I-tool and viewing via 'Auto open form', the attributes of a
> feature are barely readable (see attached screenshot).
> Making the layer editable make the font go to normal black. I understand
> the idea is to make it more clear that these are NOT editable.
>
> It is slightly better on Windows, but personally I would prefer to make
> it more readable?
>
> What do others think?

Oh this has bugged me a LOT too! I'd very much like to see this
changed, but I'm not sure if there's some rationale behind it I'm
missing...

Nyall



>
> Regards,
>
> Richard
>
> PS I know earlier we had such a discussion about non-visible layer items
> in the legend...
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From liyezn at outlook.com  Thu Sep 27 18:13:29 2018
From: liyezn at outlook.com (zhang liye)
Date: Fri, 28 Sep 2018 01:13:29 +0000
Subject: [QGIS-Developer] How to create QgsRasterLayer from gdal "MEM"
	dataset
In-Reply-To: <HK0PR06MB306031CE661119909B397381D1EC0@HK0PR06MB3060.apcprd06.prod.outlook.com>
References: <HK0PR06MB306031CE661119909B397381D1EC0@HK0PR06MB3060.apcprd06.prod.outlook.com>
Message-ID: <HK0PR06MB3060B7C96B24CFB2CE30102CD1EC0@HK0PR06MB3060.apcprd06.prod.outlook.com>

Hi, All

I try to visualize the numpy.array matrix 'm' as a raster layer from Qgis.  Because I have to show the matrix dynamically, I  do not want to save the raster to *.tif file.
Is there any way to do this.   I can create raster dataset using gdal library, but do not know how to create a raster layer to show on Qgis window.  The code is as follows.  Thank you so much!

def show_matrix_as_raster(self, m, lng_min, lat_min, pixelWidth, pixelHeight):
    cols = m.shape[1]
    rows = m.shape[0]

    driver = gdal.GetDriverByName('MEM')
    outRaster = driver.Create('', cols, rows, 1, gdal.GDT_Byte)   # create dataset in memory
    outRaster.SetGeoTransform((lng_min, pixelWidth, 0, lat_min, 0, pixelHeight))
   outband = outRaster.GetRasterBand(1)
    outband.WriteArray(m)
    outRasterSRS = osr.SpatialReference()
    outRasterSRS.ImportFromEPSG(4326)
    outRaster.SetProjection(outRasterSRS.ExportToWkt())
    outband.FlushCache()

   layer = QgsRasterLayer( file_name_???, layer_name)    # how to create QgsRsterLayer from 'outRaster', rather than file?
   QgsMapLayerRegistry.instance().addMapLayer( layer )

    ###### render
    ##
    myGrayRenderer = QgsSingleBandGrayRenderer(layer.dataProvider(), 1)
    layer.setRenderer(myGrayRenderer)
    renderer = layer.renderer()
    uses_band = renderer.usesBands()

    myType = renderer.dataType(uses_band[0])
    myEnhancement = QgsContrastEnhancement(myType)
    contrast_enhancement = QgsContrastEnhancement.StretchToMinimumMaximum
    myEnhancement.setContrastEnhancementAlgorithm(contrast_enhancement, True)

    myEnhancement.setMinimumValue(m.min())
    myEnhancement.setMaximumValue(m.max())

    layer.renderer().setContrastEnhancement(myEnhancement)
    layer.renderer().setOpacity(0.5)
    layer.triggerRepaint()

    if layer.isValid() is False:
        print "Unable to show the raster layer."


Best regards!
Liye,

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180928/7abf1956/attachment.html>

From cavallini at faunalia.it  Thu Sep 27 22:49:07 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 28 Sep 2018 07:49:07 +0200
Subject: [QGIS-Developer] Lizmap cannot get the feature data with WFS
In-Reply-To: <0671ae1d-8110-158a-5438-a88b9a569122@gmail.com>
References: <05bfdc0e-8bf9-82eb-2593-319695f8fc50@faunalia.it>
 <0671ae1d-8110-158a-5438-a88b9a569122@gmail.com>
Message-ID: <859ff359-127a-7ec9-ff1f-b302a23db867@faunalia.it>

Thanks RenÃ©. I don't understand why this is so.

I don't see anything particularly wrong with maplayer. The project is
very simple, just two layers. Anything I should check?

Thanks again.


Il 09/27/2018 11:35 PM, RenÃ©-Luc Dhont ha scritto:
> Hi Paolo,
>
> Lizmap can't find the maplayer element base on layerId in the xml
> project.
>
> Regards,
>
> Le 27/09/2018 Ã  17:09, Paolo Cavallini a Ã©critÂ :
>> Hi all,
>>
>> I keep on getting the above error when editing or deleting points from
>> Lizmap 3.1.4 on latest qgis LTR, PostGIS 2.5.
>>
>> Inserting new points works smoothly. From the error log I only get:
>>
>> 2018-09-27 16:45:29Â Â Â  192.168.1.118Â Â Â  noticeÂ Â Â  2018-09-27 16:45:29
>> [8]Â Â Â  Undefined offset: 0
>> /var/www/lizmap-web-client-3.1.14/lizmap/modules/lizmap/controllers/edition.classic.php
>>
>> 179
>>
>> 2018-09-27 16:45:29Â Â Â  192.168.1.118Â Â Â  errorÂ Â Â  2018-09-27 16:45:29
>> [0]Â Â Â  Call to a member function xpath() on null
>> /var/www/lizmap-web-client-3.1.14/lizmap/modules/lizmap/controllers/edition.classic.php
>>
>> 180
>>
>> Any hint?
>>
>> Thanks.
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/



From rdmailings at duif.net  Fri Sep 28 01:17:47 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 28 Sep 2018 10:17:47 +0200
Subject: [QGIS-Developer] form font barely readable
In-Reply-To: <CAB28Ashvzyxp5EQtGEyqxX7yRWBtx53sHw2KtAZ_VXztLY1H=Q@mail.gmail.com>
References: <37e56027-53b1-47b0-991d-274bbc09ce7b@duif.net>
 <CAB28Ashvzyxp5EQtGEyqxX7yRWBtx53sHw2KtAZ_VXztLY1H=Q@mail.gmail.com>
Message-ID: <2f4b55eb-90b7-bcd1-1c5f-ad6c98f792aa@duif.net>

On 09/28/2018 12:07 AM, Nyall Dawson wrote:
> On Fri, 28 Sep 2018 at 00:08, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>> Using the I-tool and viewing via 'Auto open form', the attributes of a
>> feature are barely readable (see attached screenshot).

> Oh this has bugged me a LOT too! I'd very much like to see this
> changed, but I'm not sure if there's some rationale behind it I'm
> missing...
> 
> Nyall

Looking into this a little, we use make the widget 'enabled=false' I think?

What about instead only do 'readOnly=true'?
Then you 'miss' the visual cue that a form field is read only.
There could be a message when you try to edit the field?

Or in combination with 'frame=false' you would get a form in which the
fields do not like 'input fields'.

Mmm, was trying to look into this, to find out that we use a wrapper
around the widgets:

https://github.com/qgis/QGIS/blob/master/src/gui/qgsattributeform.cpp#L1077

Removing the
ww->setEnabled( enabled );
morphs the input in the default input of QGIS
ww does not have readonly or frame anymore

So more difficult then I hoped :-(

Richard

-------------- next part --------------
A non-text attachment was scrubbed...
Name: widget.png
Type: image/png
Size: 8110 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180928/07a6edf1/attachment-0001.png>

From matthias at opengis.ch  Fri Sep 28 01:49:52 2018
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 28 Sep 2018 10:49:52 +0200
Subject: [QGIS-Developer] form font barely readable
In-Reply-To: <2f4b55eb-90b7-bcd1-1c5f-ad6c98f792aa@duif.net>
References: <37e56027-53b1-47b0-991d-274bbc09ce7b@duif.net>
 <CAB28Ashvzyxp5EQtGEyqxX7yRWBtx53sHw2KtAZ_VXztLY1H=Q@mail.gmail.com>
 <2f4b55eb-90b7-bcd1-1c5f-ad6c98f792aa@duif.net>
Message-ID: <3a574103-c3d3-99b2-f4c3-54b62316c1ab@opengis.ch>

Hi Richard

On 9/28/18 10:17 AM, Richard Duivenvoorde wrote:
> On 09/28/2018 12:07 AM, Nyall Dawson wrote:
>> On Fri, 28 Sep 2018 at 00:08, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>>> Using the I-tool and viewing via 'Auto open form', the attributes of a
>>> feature are barely readable (see attached screenshot).
>> Oh this has bugged me a LOT too! I'd very much like to see this
>> changed, but I'm not sure if there's some rationale behind it I'm
>> missing...
>>
>> Nyall
> Looking into this a little, we use make the widget 'enabled=false' I think?
>
> What about instead only do 'readOnly=true'?
> Then you 'miss' the visual cue that a form field is read only.
> There could be a message when you try to edit the field?
>
> Or in combination with 'frame=false' you would get a form in which the
> fields do not like 'input fields'.

That sounds like an idea.

Have a look here, that's the default behavior with setEnabled, where the
actual modification of the widget is done:

https://github.com/qgis/QGIS/blob/master/src/gui/editorwidgets/core/qgseditorwidgetwrapper.cpp#L65

it needs to be checked with all different widgets if they are still in a
sane and expected readonly state. If one is not, the behavior can be
finetuned in their respective wrapper, as done e.g. here
https://github.com/qgis/QGIS/blob/master/src/gui/editorwidgets/qgsrelationreferencewidgetwrapper.cpp#L136

Cheers

Matthias


>
> Mmm, was trying to look into this, to find out that we use a wrapper
> around the widgets:
>
> https://github.com/qgis/QGIS/blob/master/src/gui/qgsattributeform.cpp#L1077
>
> Removing the
> ww->setEnabled( enabled );
> morphs the input in the default input of QGIS
> ww does not have readonly or frame anymore
>
> So more difficult then I hoped :-(
>
> Richard
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-- 
Matthias Kuhn
matthias at opengis.ch <mailto:matthias at opengis.ch>
+41 (0)76 435 67 63 <tel:+41764356763>
OPENGIS.ch Logo <http://www.opengis.ch>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180928/44f44856/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180928/44f44856/attachment.png>

From rdmailings at duif.net  Fri Sep 28 03:53:03 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 28 Sep 2018 12:53:03 +0200
Subject: [QGIS-Developer] form font barely readable
In-Reply-To: <3a574103-c3d3-99b2-f4c3-54b62316c1ab@opengis.ch>
References: <37e56027-53b1-47b0-991d-274bbc09ce7b@duif.net>
 <CAB28Ashvzyxp5EQtGEyqxX7yRWBtx53sHw2KtAZ_VXztLY1H=Q@mail.gmail.com>
 <2f4b55eb-90b7-bcd1-1c5f-ad6c98f792aa@duif.net>
 <3a574103-c3d3-99b2-f4c3-54b62316c1ab@opengis.ch>
Message-ID: <06f7b912-975b-fb34-7ebc-adc5319958b0@duif.net>

On 09/28/2018 10:49 AM, Matthias Kuhn wrote:

> Have a look here, that's the default behavior with setEnabled, where the
> actual modification of the widget is done:
> 
> https://github.com/qgis/QGIS/blob/master/src/gui/editorwidgets/core/qgseditorwidgetwrapper.cpp#L65

Ok, I actually did fiddle here a little:

https://github.com/qgis/QGIS/blob/master/src/gui/editorwidgets/qgstexteditwrapper.cpp#L140

There we set a 'Disabled'-Palette on the text.
If I comment that line you get the top dialog as seen in attached
'defaultPalette2.png'.
So: a 'normal' line-edit... which could make a user try to edit it...
Though (see the bottom dialog in the same image) we have more
differences now since we use the wrappers: we show a 'clear-button' in
the lineEdit if we are editable now).

I also tried to remove the frame (see topNoFrame_bottomCurrent2.png) here:
https://github.com/qgis/QGIS/blob/master/src/gui/editorwidgets/qgstexteditwrapper.cpp#L198
In the image to me it looks a little 'naked'.
For reference in the same image the bottom dialog is current situation;
in my view badly readable....

To me it is actually ok to use the normal palette, I do not like the
view of a lineedit withouth frame I think.

So what do others think?

Regards,

Richard
-------------- next part --------------
A non-text attachment was scrubbed...
Name: defaultPalette2.png
Type: image/png
Size: 28586 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180928/4325e561/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: topNoFrame_bottomCurrent2.png
Type: image/png
Size: 23466 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180928/4325e561/attachment-0003.png>

From noreply at qgis.org  Fri Sep 28 05:09:41 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 28 Sep 2018 12:09:41 -0000
Subject: [QGIS-Developer] Plugin [1380] Batch Hillshader approval
	notification.
Message-ID: <20180928120941.2349.27598@2c6504964296>


Plugin Batch Hillshader approval by pcav.
The plugin version "[1380] Batch Hillshader 2.3.0" is now approved
Link: http://plugins.qgis.org/plugins/batch_hillshader-master/

From wonder.sk at gmail.com  Fri Sep 28 07:21:17 2018
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri, 28 Sep 2018 16:21:17 +0200
Subject: [QGIS-Developer] Python API for 3D
Message-ID: <CAC2XbFc8Fpp71N0Dddb0kCbWHR7uYQ6y+ZLCvewyrz1ESBd1dQ@mail.gmail.com>

Hi all

I have been thinking it would be good to finally have Python API also
for qgis_3d library. Until now I have kept the 3D library
intentionally without Python bindings so that it is possible to move
the code around without being blocked by the API stability
requirement.

I think for the time being we should still treat the 3D library as
having unstable API - so I wanted to check how others would feel about
having Python API for qgis_3d that would be marked as unstable, i.e.
there may be changes between 3.x releases? I think with big warnings
in the docs that the API may change we can get others to experiment
with 3D functionality while not offending anyone too much if we break
it later. The idea is that the API would get frozen at some point
later in 3.x release cycle or for QGIS 4.

Cheers
Martin

From apasotti at gmail.com  Fri Sep 28 07:24:19 2018
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 28 Sep 2018 16:24:19 +0200
Subject: [QGIS-Developer] Python API for 3D
In-Reply-To: <CAC2XbFc8Fpp71N0Dddb0kCbWHR7uYQ6y+ZLCvewyrz1ESBd1dQ@mail.gmail.com>
References: <CAC2XbFc8Fpp71N0Dddb0kCbWHR7uYQ6y+ZLCvewyrz1ESBd1dQ@mail.gmail.com>
Message-ID: <CAL5Q670ZQuGZ4NDV8c4DaRba3112P1iQ_ymBCSf-2wijMUna0g@mail.gmail.com>

On Fri, Sep 28, 2018 at 4:21 PM Martin Dobias <wonder.sk at gmail.com> wrote:

> Hi all
>
> I have been thinking it would be good to finally have Python API also
> for qgis_3d library. Until now I have kept the 3D library
> intentionally without Python bindings so that it is possible to move
> the code around without being blocked by the API stability
> requirement.
>
> I think for the time being we should still treat the 3D library as
> having unstable API - so I wanted to check how others would feel about
> having Python API for qgis_3d that would be marked as unstable, i.e.
> there may be changes between 3.x releases? I think with big warnings
> in the docs that the API may change we can get others to experiment
> with 3D functionality while not offending anyone too much if we break
> it later. The idea is that the API would get frozen at some point
> later in 3.x release cycle or for QGIS 4.
>
> Cheers
> Martin
>


Hi Martin,

I think it's a good idea!

... if the warning is big enough and not light gray over a white background
;)


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180928/89f8a5bb/attachment.html>

From wonder.sk at gmail.com  Fri Sep 28 08:09:57 2018
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri, 28 Sep 2018 17:09:57 +0200
Subject: [QGIS-Developer] Python API for 3D
In-Reply-To: <f14d6fe4-7bf4-b09c-f80e-c58ce746748b@opengis.ch>
References: <CAC2XbFc8Fpp71N0Dddb0kCbWHR7uYQ6y+ZLCvewyrz1ESBd1dQ@mail.gmail.com>
 <f14d6fe4-7bf4-b09c-f80e-c58ce746748b@opengis.ch>
Message-ID: <CAC2XbFfUX23cRzWQtg_s9sa0GaMnk=3gmj=EZCJVCXN33DZR6Q@mail.gmail.com>

Hi Matthias

On Fri, Sep 28, 2018 at 4:47 PM Matthias Kuhn <matthias at opengis.ch> wrote:

> Hi Martin,
> I think that's a good move. Having an experimental Python 3D API is better
> than not having a Python 3D API. And if it's communicated clearly, it's
> every developers choice to build something on top of an unstable API.
> Just to ask, do you have clear plans for API changes or is it more a move
> to keep the door for API modifications open in case it turns out it is
> required?
>

I don't really have any concrete plans for API changes within the 3D
library - I just feel that it may easily happen in the future as we will be
adding more functionality or refactoring existing code :-)

Anyway I would try to keep the changes in API break docs so that devs have
some guidance in case there are some breaks.

Cheers
Martin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180928/3ea40862/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180928/3ea40862/attachment.png>

From noreply at qgis.org  Fri Sep 28 16:19:51 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 28 Sep 2018 23:19:51 -0000
Subject: [QGIS-Developer] Plugin [1429] Karika approval notification.
Message-ID: <20180928231951.30631.19996@2c6504964296>


Plugin Karika approval by pcav.
The plugin version "[1429] Karika 1.5" is now approved
Link: http://plugins.qgis.org/plugins/karika/

From nyall.dawson at gmail.com  Fri Sep 28 16:36:30 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 29 Sep 2018 09:36:30 +1000
Subject: [QGIS-Developer] Python API for 3D
In-Reply-To: <CAC2XbFc8Fpp71N0Dddb0kCbWHR7uYQ6y+ZLCvewyrz1ESBd1dQ@mail.gmail.com>
References: <CAC2XbFc8Fpp71N0Dddb0kCbWHR7uYQ6y+ZLCvewyrz1ESBd1dQ@mail.gmail.com>
Message-ID: <CAB28Asg5pTJdVWz_4eH4CE5xF0bigxQ8s-bzpsg4DxX--38ShQ@mail.gmail.com>

On Sat, 29 Sep 2018 at 00:21, Martin Dobias <wonder.sk at gmail.com> wrote:

>
> I think for the time being we should still treat the 3D library as
> having unstable API - so I wanted to check how others would feel about
> having Python API for qgis_3d that would be marked as unstable, i.e.
> there may be changes between 3.x releases? I think with big warnings
> in the docs that the API may change we can get others to experiment
> with 3D functionality while not offending anyone too much if we break
> it later. The idea is that the API would get frozen at some point
> later in 3.x release cycle or for QGIS 4.

I don't see an issue with this -- there's other parts of code exposed
to PyQGIS which is also clearly marked as non-stable. Some processing
classes for instance.

Nyall

From nyall.dawson at gmail.com  Fri Sep 28 16:37:41 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 29 Sep 2018 09:37:41 +1000
Subject: [QGIS-Developer] form font barely readable
In-Reply-To: <06f7b912-975b-fb34-7ebc-adc5319958b0@duif.net>
References: <37e56027-53b1-47b0-991d-274bbc09ce7b@duif.net>
 <CAB28Ashvzyxp5EQtGEyqxX7yRWBtx53sHw2KtAZ_VXztLY1H=Q@mail.gmail.com>
 <2f4b55eb-90b7-bcd1-1c5f-ad6c98f792aa@duif.net>
 <3a574103-c3d3-99b2-f4c3-54b62316c1ab@opengis.ch>
 <06f7b912-975b-fb34-7ebc-adc5319958b0@duif.net>
Message-ID: <CAB28Ashyxm_7_WMijuktD+-W2SSMrvPFWQt9ewQRjyjXk4ieFw@mail.gmail.com>

On Fri, 28 Sep 2018 at 20:53, Richard Duivenvoorde <rdmailings at duif.net> wrote:

> To me it is actually ok to use the normal palette, I do not like the
> view of a lineedit withouth frame I think.
>
What about removing the background color too, and leaving it transparent?

Nyall

From madmanwoo at gmail.com  Fri Sep 28 21:54:15 2018
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Sat, 29 Sep 2018 14:54:15 +1000
Subject: [QGIS-Developer] Error with hdf5.dll on Windows build.
Message-ID: <CAAi8Yg-D5rmjn3T4Uu3FA5mL++1sD+W5t2wEGFRRF+3YcJuyvw@mail.gmail.com>

Hi,

Trying to build on Windows for master I'm getting the following:

C:\OSGeo4W\bin\hdf5.dll : fatal error LNK1107: invalid or corrupt file:
cannot read at 0x2B0

It looks like cmake is trying to use that in the scripts and not the lib
file but I can't see why it wants to do that.

Any thoughts?



- Nathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180929/07d2f73b/attachment.html>

From noreply at qgis.org  Fri Sep 28 23:10:22 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 29 Sep 2018 06:10:22 -0000
Subject: [QGIS-Developer] Plugin [834] GMSH approval notification.
Message-ID: <20180929061022.31265.54188@2c6504964296>


Plugin GMSH approval by pcav.
The plugin version "[834] GMSH 0.2.0" is now approved
Link: http://plugins.qgis.org/plugins/gmsh/

From rdmailings at duif.net  Sat Sep 29 02:00:50 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 29 Sep 2018 11:00:50 +0200
Subject: [QGIS-Developer] form font barely readable
In-Reply-To: <CAB28Ashyxm_7_WMijuktD+-W2SSMrvPFWQt9ewQRjyjXk4ieFw@mail.gmail.com>
References: <37e56027-53b1-47b0-991d-274bbc09ce7b@duif.net>
 <CAB28Ashvzyxp5EQtGEyqxX7yRWBtx53sHw2KtAZ_VXztLY1H=Q@mail.gmail.com>
 <2f4b55eb-90b7-bcd1-1c5f-ad6c98f792aa@duif.net>
 <3a574103-c3d3-99b2-f4c3-54b62316c1ab@opengis.ch>
 <06f7b912-975b-fb34-7ebc-adc5319958b0@duif.net>
 <CAB28Ashyxm_7_WMijuktD+-W2SSMrvPFWQt9ewQRjyjXk4ieFw@mail.gmail.com>
Message-ID: <958abe7f-59d4-9696-4f6e-7a12e43c92b8@duif.net>

On 09/29/2018 01:37 AM, Nyall Dawson wrote:
> On Fri, 28 Sep 2018 at 20:53, Richard Duivenvoorde <rdmailings at duif.net> wrote:
> 
>> To me it is actually ok to use the normal palette, I do not like the
>> view of a lineedit withouth frame I think.
>>
> What about removing the background color too, and leaving it transparent?

Did not got that working using a palette, but using

mLineEdit->setStyleSheet( QStringLiteral("background-color:
rgba(255,255,255,0%);" ) );

I got the results attached (so adding 0%, 50%, 75% alpha to a white
background).

I'm Actually pretty happy with the 75% one, as it is still clear what
the fields-values are, but it also definitely not an input field anymore.

I'll create a PR so others can test discuss or test on windows/mac...

Regards,

Richard

PS related: am I the only one which if I open the Identify Results
docked, I never see the Value because it is lined much too much to the
right? Have the pull the field-divider to the left to see the values...
Is there a possibility to for example start with 50%/50% columns instead?
-------------- next part --------------
A non-text attachment was scrubbed...
Name: white0percent.png
Type: image/png
Size: 11195 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180929/7aeb34c0/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: white50percent.png
Type: image/png
Size: 13667 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180929/7aeb34c0/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: white75percent.png
Type: image/png
Size: 11136 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180929/7aeb34c0/attachment-0005.png>

From rdmailings at duif.net  Sat Sep 29 03:13:38 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 29 Sep 2018 12:13:38 +0200
Subject: [QGIS-Developer] form font barely readable
In-Reply-To: <958abe7f-59d4-9696-4f6e-7a12e43c92b8@duif.net>
References: <37e56027-53b1-47b0-991d-274bbc09ce7b@duif.net>
 <CAB28Ashvzyxp5EQtGEyqxX7yRWBtx53sHw2KtAZ_VXztLY1H=Q@mail.gmail.com>
 <2f4b55eb-90b7-bcd1-1c5f-ad6c98f792aa@duif.net>
 <3a574103-c3d3-99b2-f4c3-54b62316c1ab@opengis.ch>
 <06f7b912-975b-fb34-7ebc-adc5319958b0@duif.net>
 <CAB28Ashyxm_7_WMijuktD+-W2SSMrvPFWQt9ewQRjyjXk4ieFw@mail.gmail.com>
 <958abe7f-59d4-9696-4f6e-7a12e43c92b8@duif.net>
Message-ID: <2a4a7055-bb50-c55e-955e-c74d46fabf20@duif.net>

On 09/29/2018 11:00 AM, Richard Duivenvoorde wrote:
> I'll create a PR so others can test discuss or test on windows/mac...

See https://github.com/qgis/QGIS/pull/8064

Regards,

Richard

From rdmailings at duif.net  Sat Sep 29 09:12:04 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 29 Sep 2018 18:12:04 +0200
Subject: [QGIS-Developer] Linux users: wanna flatpak?
Message-ID: <b53b4007-c177-acc0-45db-51fd10eaf9ce@duif.net>

Hi,

Thanks to some devs and Aleix Pol @aleixpol in particular, there is a
(for me working!) flatpak available for QGIS 3.2.x on flathub:

https://flathub.org/apps/details/org.qgis.qgis

Short intro: https://qgis.org/en/site/forusers/alldownloads.html#flatpak

Try test and create issues here https://github.com/flathub/org.qgis.qgis
if you encounter some flathub related issues..

I think it is a nice addition for fresh Linux users to easily install
and try out QGIS, independent of lib/qt/gdal/whatever versions

Regards,

Richard Duivenvoorde

From nyall.dawson at gmail.com  Sat Sep 29 23:51:24 2018
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sun, 30 Sep 2018 16:51:24 +1000
Subject: [QGIS-Developer] Python API for 3D
In-Reply-To: <CAB28Asg5pTJdVWz_4eH4CE5xF0bigxQ8s-bzpsg4DxX--38ShQ@mail.gmail.com>
References: <CAC2XbFc8Fpp71N0Dddb0kCbWHR7uYQ6y+ZLCvewyrz1ESBd1dQ@mail.gmail.com>
 <CAB28Asg5pTJdVWz_4eH4CE5xF0bigxQ8s-bzpsg4DxX--38ShQ@mail.gmail.com>
Message-ID: <CAB28AsgxX_e5Tap-7zNauu3zAGopHZOzTGA=Mmus=GvNk+d8ZQ@mail.gmail.com>

On Sat, 29 Sep 2018 at 09:36, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>
> On Sat, 29 Sep 2018 at 00:21, Martin Dobias <wonder.sk at gmail.com> wrote:
>
> >
> > I think for the time being we should still treat the 3D library as
> > having unstable API - so I wanted to check how others would feel about
> > having Python API for qgis_3d that would be marked as unstable, i.e.
> > there may be changes between 3.x releases? I think with big warnings
> > in the docs that the API may change we can get others to experiment
> > with 3D functionality while not offending anyone too much if we break
> > it later. The idea is that the API would get frozen at some point
> > later in 3.x release cycle or for QGIS 4.
>
> I don't see an issue with this -- there's other parts of code exposed
> to PyQGIS which is also clearly marked as non-stable. Some processing
> classes for instance.

Note this touches on discussion at
https://github.com/qgis/QGIS/pull/8054 too. Quoting:

"Maybe we should do qt approach and have "technology preview" classes,
before classes mature? We could even do this as a general rule - new
classes are tech previews for 2 minor releases."

Nyall

From daniele at vigano.me  Sun Sep 30 02:39:04 2018
From: daniele at vigano.me (=?UTF-8?Q?Daniele_Vigan=C3=B2?=)
Date: Sun, 30 Sep 2018 11:39:04 +0200
Subject: [QGIS-Developer] Linux users: wanna flatpak?
In-Reply-To: <b53b4007-c177-acc0-45db-51fd10eaf9ce@duif.net>
References: <b53b4007-c177-acc0-45db-51fd10eaf9ce@duif.net>
Message-ID: <CACUx=T=f2Vp2SnZTTOnfcqeZ+ZFf0otAbfa0JZv1HG6qXHDX2g@mail.gmail.com>

Thanks Aleix and the other devs for the excellent work!

I confirm that it's working well, at least on my Fedora 28 and 29beta.

I had only issues with plugins that are requiring extra Python dependencies
which are not available in the flatpak image (like scipy and matplotlib).
I was able to find a workaround which is to extract the corresponding
python wheels (for the proper python version, cp35) in the python folder
under the application user storage (which is located under $HOME/.var/);
that path is already part of sys.path.

There's any better way to address that?

Cheers,
Daniele

---
Daniele ViganÃ²
http://daniele.vigano.me

On mobile, please excuse my brevity.

On Sat, Sep 29, 2018, 18:12 Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> Hi,
>
> Thanks to some devs and Aleix Pol @aleixpol in particular, there is a
> (for me working!) flatpak available for QGIS 3.2.x on flathub:
>
> https://flathub.org/apps/details/org.qgis.qgis
>
> Short intro: https://qgis.org/en/site/forusers/alldownloads.html#flatpak
>
> Try test and create issues here https://github.com/flathub/org.qgis.qgis
> if you encounter some flathub related issues..
>
> I think it is a nice addition for fresh Linux users to easily install
> and try out QGIS, independent of lib/qt/gdal/whatever versions
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20180930/0fb6b384/attachment.html>

From madmanwoo at gmail.com  Sun Sep 30 19:13:21 2018
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Mon, 1 Oct 2018 12:13:21 +1000
Subject: [QGIS-Developer] Error with hdf5.dll on Windows build.
In-Reply-To: <CAAi8Yg-D5rmjn3T4Uu3FA5mL++1sD+W5t2wEGFRRF+3YcJuyvw@mail.gmail.com>
References: <CAAi8Yg-D5rmjn3T4Uu3FA5mL++1sD+W5t2wEGFRRF+3YcJuyvw@mail.gmail.com>
Message-ID: <CAAi8Yg-8HVmwnPV34b94kvMzav0hixhtvLfYY2VmtZZvYx1Oww@mail.gmail.com>

Jurgen,

Do you have this issue with the nightly builds?  Maybe something missing
local here?

Regards,
Nathan

On Sat, Sep 29, 2018 at 2:54 PM Nathan Woodrow <madmanwoo at gmail.com> wrote:

> Hi,
>
> Trying to build on Windows for master I'm getting the following:
>
> C:\OSGeo4W\bin\hdf5.dll : fatal error LNK1107: invalid or corrupt file:
> cannot read at 0x2B0
>
> It looks like cmake is trying to use that in the scripts and not the lib
> file but I can't see why it wants to do that.
>
> Any thoughts?
>
>
>
> - Nathan
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20181001/25781350/attachment.html>

From noreply at qgis.org  Sun Sep 30 23:02:08 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 01 Oct 2018 06:02:08 -0000
Subject: [QGIS-Developer] Plugin [121] SoilTexture approval notification.
Message-ID: <20181001060208.20567.90744@2c6504964296>


Plugin SoilTexture approval by pcav.
The plugin version "[121] SoilTexture 2.99 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/SoilTexture/

From noreply at qgis.org  Sun Sep 30 23:02:31 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 01 Oct 2018 06:02:31 -0000
Subject: [QGIS-Developer] Plugin [1491] GIS4WRF approval notification.
Message-ID: <20181001060231.20565.83508@2c6504964296>


Plugin GIS4WRF approval by pcav.
The plugin version "[1491] GIS4WRF 0.13.0" is now approved
Link: http://plugins.qgis.org/plugins/gis4wrf/

From noreply at qgis.org  Sun Sep 30 23:03:02 2018
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 01 Oct 2018 06:03:02 -0000
Subject: [QGIS-Developer] Plugin [566] SVG2ColoR approval notification.
Message-ID: <20181001060302.20567.68363@2c6504964296>


Plugin SVG2ColoR approval by pcav.
The plugin version "[566] SVG2ColoR 1.0" is now approved
Link: http://plugins.qgis.org/plugins/SVG2ColoR/

From cavallini at faunalia.it  Sun Sep 30 23:10:14 2018
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 1 Oct 2018 08:10:14 +0200
Subject: [QGIS-Developer] Linux users: wanna flatpak?
In-Reply-To: <CACUx=T=f2Vp2SnZTTOnfcqeZ+ZFf0otAbfa0JZv1HG6qXHDX2g@mail.gmail.com>
References: <b53b4007-c177-acc0-45db-51fd10eaf9ce@duif.net>
 <CACUx=T=f2Vp2SnZTTOnfcqeZ+ZFf0otAbfa0JZv1HG6qXHDX2g@mail.gmail.com>
Message-ID: <171109a0-588d-a49e-6973-c1b1b657c3b2@faunalia.it>

Right, an annoying issue. Could other flatpacks be used, or should py
libs be bundled?

Otherwise, a nice a quick way to install, thanks a lot!

All the best.


Il 09/30/2018 11:39 AM, Daniele ViganÃ² ha scritto:
> Thanks Aleix and the other devs for the excellent work!
>
> I confirm that it's working well, at least on my Fedora 28 and 29beta.
>
> I had only issues with plugins that are requiring extra Python
> dependencies which are not available in the flatpak image (like scipy
> and matplotlib).
> I was able to find a workaround which is to extract the corresponding
> python wheels (for the proper python version, cp35) in the python
> folder under the application user storage (which is located under
> $HOME/.var/); that path is already part of sys.path.
>
> There's any better way to address that?
>
> Cheers,
> Daniele
>
> ---
> Daniele ViganÃ²
> http://daniele.vigano.me
>
> On mobile, please excuse my brevity.
>
> On Sat, Sep 29, 2018, 18:12 Richard Duivenvoorde <rdmailings at duif.net
> <mailto:rdmailings at duif.net>> wrote:
>
>     Hi,
>
>     Thanks to some devs and Aleix Pol @aleixpol in particular, there is a
>     (for me working!) flatpak available for QGIS 3.2.x on flathub:
>
>     https://flathub.org/apps/details/org.qgis.qgis
>
>     Short intro:
>     https://qgis.org/en/site/forusers/alldownloads.html#flatpak
>
>     Try test and create issues here
>     https://github.com/flathub/org.qgis.qgis
>     if you encounter some flathub related issues..
>
>     I think it is a nice addition for fresh Linux users to easily install
>     and try out QGIS, independent of lib/qt/gdal/whatever versions
>
>     Regards,
>
>     Richard Duivenvoorde
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20181001/3b2fb00b/attachment.html>

From rdmailings at duif.net  Sun Sep 30 23:18:27 2018
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 1 Oct 2018 08:18:27 +0200
Subject: [QGIS-Developer] Linux users: wanna flatpak?
In-Reply-To: <171109a0-588d-a49e-6973-c1b1b657c3b2@faunalia.it>
References: <b53b4007-c177-acc0-45db-51fd10eaf9ce@duif.net>
 <CACUx=T=f2Vp2SnZTTOnfcqeZ+ZFf0otAbfa0JZv1HG6qXHDX2g@mail.gmail.com>
 <171109a0-588d-a49e-6973-c1b1b657c3b2@faunalia.it>
Message-ID: <5f18cd02-25aa-c9d7-2b0e-d249e7387b20@duif.net>

On 10/01/2018 08:10 AM, Paolo Cavallini wrote:
> Right, an annoying issue. Could other flatpacks be used, or should py
> libs be bundled?
> 
> Otherwise, a nice a quick way to install, thanks a lot!

I think flatpak is in the same boat as Windows (non osgeo4w-users) and
Mac users: different python(path) for QGIS.

Best solution I heard earlier (Ale?) is to (re)use pip. From [0]: "pip
is the preferred installer program. Starting with Python 3.4, it is
included by default with the Python binary installers."

Any Python guru's willing to dive into a plan?
Maybe a small interface to run pip from withing QGIS?
Or include a partial pip string in the metadata.txt of installers?
Taking into account already configured proxy/certs?

Regards,

Richard Duivenvoorde

[0] https://docs.python.org/3/installing/index.html

