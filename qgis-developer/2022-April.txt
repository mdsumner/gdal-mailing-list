From cavallini at faunalia.it  Fri Apr  1 01:30:51 2022
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 1 Apr 2022 10:30:51 +0200
Subject: [QGIS-Developer] [Qgis-psc] FOSS4G 2022: possible QGIS Dev
 meeting?
In-Reply-To: <CAB2ZMRAmUbzpyno_gD+Lncc2sKnHejtqHaoxrTs6w6zb4iohNw@mail.gmail.com>
References: <ad30a40c-1841-dede-51f1-75e287a49fa2@faunalia.it>
 <3c44e198931458dd509dc6355c4ec1a5@carto.net>
 <6ff37711-120a-2b8c-d842-5c0e94793933@gmx.at>
 <8702ca74-03ad-8562-8d65-1cc201d5f7cb@faunalia.it>
 <CAB2Z92ASUu3joqf+sxiE=7FuomtV5z48AYDSgkvDOM4fwdRTwQ@mail.gmail.com>
 <75932dcf-32a5-d138-7f9a-2831d2b3e4d1@faunalia.it>
 <CAB2ZMRBvK7JEVZGigYvADTMrj0HRPT-kws66pWsYXpoD2gJ1Uw@mail.gmail.com>
 <614afd3f-491e-8249-cdf5-8828f289c8e0@faunalia.it>
 <1d799beb-3c73-10aa-0cef-8b05ca343f43@faunalia.it>
 <CABgOYCd6M+CV-BbCNcZZxdStaEEV69ouOteJg_gowLbkkTBU_Q@mail.gmail.com>
 <1c0c72a8-7d35-06b0-15f7-e301451967e5@faunalia.it>
 <b54a314c-eb6b-79fc-3b5b-77eea22016f2@faunalia.it>
 <CAB2ZMRAmUbzpyno_gD+Lncc2sKnHejtqHaoxrTs6w6zb4iohNw@mail.gmail.com>
Message-ID: <c6edf376-5de7-0874-0647-155e8a4b523a@faunalia.it>

Quite right, we'll update the info.
Thanks for pointing this out.
Cheers.

Il 30/03/22 17:23, Marco Bernasocchi ha scritto:
> Hi Paolo, I added the page to the list on the main wiki.
> Do you have a bit more details on where the venue is? You
> wrote?University of Firenze on [1] but there are multiple locations
> around?the city :)
> 
> ciao
> Marco
> [1]?https://github.com/qgis/QGIS/wiki/24th-Contributors-Meeting-in-Firenze
> <https://github.com/qgis/QGIS/wiki/24th-Contributors-Meeting-in-Firenze>?
> 
> On Sat, 19 Feb 2022 at 07:55, Paolo Cavallini <cavallini at faunalia.it
> <mailto:cavallini at faunalia.it>> wrote:
> 
>     Hi all,
>     we started organizing the next Contributors meeting:
>     https://github.com/qgis/QGIS/wiki/24th-Contributors-Meeting-in-Firenze
>     <https://github.com/qgis/QGIS/wiki/24th-Contributors-Meeting-in-Firenze>
>     Help most welcome.
>     All the best.
> 
>     Il 18/02/22 09:03, Paolo Cavallini ha scritto:
>     > Hi R?gis,
>     > thanks for pointing this out. I confirm we are organizing a QGIS
>     > contributor meeting in the days preceding FOSS4G.
>     > We'll make a more detailed announcement soon.
>     > Cheers.
>     >
>     > Il 17/02/22 19:31, R?gis Haubourg ha scritto:
>     >> Hi all,
>     >> I just saw that the SOTM will take place in Firenze too, on the
>     same day
>     >> as the potential QGIS meeting:
>     >>
>     https://blog.openstreetmap.org/2022/02/16/announcing-sotm-2022-firenze-19-21-august-2022/comment-page-1/
>     <https://blog.openstreetmap.org/2022/02/16/announcing-sotm-2022-firenze-19-21-august-2022/comment-page-1/>
>     >>
>     <https://blog.openstreetmap.org/2022/02/16/announcing-sotm-2022-firenze-19-21-august-2022/comment-page-1/
>     <https://blog.openstreetmap.org/2022/02/16/announcing-sotm-2022-firenze-19-21-august-2022/comment-page-1/>>
>     >>
>     >> That's a lot of good reason to be there. Is the QGIS meeting
>     confirmed
>     >> or is there any risk the schedule collision could change our plans?
>     >> Best regards
>     >> R?gis
>     >>
>     >> Le?jeu. 13 janv. 2022 ??14:25, Paolo Cavallini
>     <cavallini at faunalia.it <mailto:cavallini at faunalia.it>
>     >> <mailto:cavallini at faunalia.it <mailto:cavallini at faunalia.it>>> a
>     ?crit?:
>     >>
>     >>? ? ?I'm told we can apply for funds from Osgeo before the next 20th.
>     >>? ? ?Could a random president investigate this? ;)
>     >>? ? ?Thanks.
>     >>
>     >>? ? ?Il 11/01/22 09:42, Paolo Cavallini ha scritto:
>     >>? ? ?> Thanks Marco and others for the encouragement!
>     >>? ? ?> I'll keep the PSC updated.
>     >>? ? ?> Cheers.
>     >>? ? ?>
>     >>? ? ?> Il 11/01/22 09:25, Marco Bernasocchi ha scritto:
>     >>? ? ?>> Thanks a lot Paolo,
>     >>? ? ?>> that makes a lot of sense, I'm sure that the Dutch team
>     will be ok in
>     >>? ? ?>> skipping "their" turn and hopefully followup?Firenze with
>     >>? ? ?>> 's-Hertogenbosch in spring 23 (unless of course we could do a
>     >>? ? ?spring 22
>     >>? ? ?>> 's-Hertogenbosch HF first...)
>     >>? ? ?>> I really hope that we can finally have a hackfest again.
>     >>? ? ?>>
>     >>? ? ?>> Cheers
>     >>? ? ?>> Marco
>     >>? ? ?>
>     >>
>     >>? ? ?--
>     >>? ? ?Paolo Cavallini
>     >>? ? ?www.faunalia.eu <http://www.faunalia.eu>
>     <http://www.faunalia.eu <http://www.faunalia.eu>> - QGIS.org
>     >>? ? ?training, support, development on QGIS, PostGIS and more
>     >>? ? ?_______________________________________________
>     >>? ? ?Qgis-psc mailing list
>     >>? ? ?Qgis-psc at lists.osgeo.org <mailto:Qgis-psc at lists.osgeo.org>
>     <mailto:Qgis-psc at lists.osgeo.org <mailto:Qgis-psc at lists.osgeo.org>>
>     >>? ? ?https://lists.osgeo.org/mailman/listinfo/qgis-psc
>     <https://lists.osgeo.org/mailman/listinfo/qgis-psc>
>     >>? ? ?<https://lists.osgeo.org/mailman/listinfo/qgis-psc
>     <https://lists.osgeo.org/mailman/listinfo/qgis-psc>>
>     >>
>     >>
>     >> _______________________________________________
>     >> Qgis-psc mailing list
>     >> Qgis-psc at lists.osgeo.org <mailto:Qgis-psc at lists.osgeo.org>
>     >> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>     <https://lists.osgeo.org/mailman/listinfo/qgis-psc>
>     >
> 
>     -- 
>     Paolo Cavallini
>     www.faunalia.eu <http://www.faunalia.eu> - QGIS.org
>     training, support, development on QGIS, PostGIS and more
>     _______________________________________________
>     Qgis-psc mailing list
>     Qgis-psc at lists.osgeo.org <mailto:Qgis-psc at lists.osgeo.org>
>     https://lists.osgeo.org/mailman/listinfo/qgis-psc
>     <https://lists.osgeo.org/mailman/listinfo/qgis-psc>
> 
> 
> 
> -- 
> Marco Bernasocchi
> 
> QGIS.org Chair
> OPENGIS.ch CEO
> http://berna.io <http://berna.io>

-- 
Paolo Cavallini
www.faunalia.eu - QGIS.org
training, support, development on QGIS, PostGIS and more

From SSchmidt at gfi-gis.de  Fri Apr  1 03:09:47 2022
From: SSchmidt at gfi-gis.de (SSchmidt at gfi-gis.de)
Date: Fri, 1 Apr 2022 12:09:47 +0200
Subject: [QGIS-Developer] How to run QGIS 3 processing tool (DISSOLVE) in c++
Message-ID: <OF0F9BDAA3.48F4603D-ONC1258817.0037B06C-C1258817.0038C939@gfi-gis.de>

Hello,

for my QGIS C++ Plugin I have to run the QgsDissolveAlgorithm- processing 
tool.
I have found an example, how to do that in python:
import processing

infn = "path/to/dissolve"
outfn2 = "output/path/value/dissolve"

#dissolve features based on values in an attribute table field
processing.run("native:dissolve", {'INPUT':infn, FIELD':['GRID_CODE'], 
'OUTPUT':outfn2})

I searched in QGIS sources and on github but found no example, how to do 
that in c++.
Has anybody an idea?

Freundliche Gr??e aus Leipzig
Susann Schmidt
Softwareentwicklung 

**************************************************************

GFI - Gesellschaft f?r Informationstechnologie mbH
Philipp-Rosenthal-Stra?e 9
D-04103 Leipzig
Gesch?ftsf?hrer: Andreas Richter
Amtsgericht Leipzig HRB 12054
USt.-IdNr.: DE179049354     Steuer-Nr.: 231/109/06412
Tel. 0341 961 3310    Fax 0341 961 3311   Mail info at gfi-gis.de
Web  www.gfi-gis.de
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220401/32412a03/attachment.html>

From apasotti at gmail.com  Fri Apr  1 05:02:58 2022
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 1 Apr 2022 14:02:58 +0200
Subject: [QGIS-Developer] Unexpected results from GPKG table query using
 executeSql()
In-Reply-To: <721efa78-e158-f7ce-f772-136878493e76@terglobo.nl>
References: <bba11f52-a64a-6502-fbce-dbc986ba9391@terglobo.nl>
 <CAL5Q670rrD--ZvEVDTtCWEqU1vZgUe7Nh+e58MLMDMQNPF9h1w@mail.gmail.com>
 <721efa78-e158-f7ce-f772-136878493e76@terglobo.nl>
Message-ID: <CAL5Q672y3hB81vDDn5h-J4nfmDQceqh1mgL8SsPT4c6TdmC3ig@mail.gmail.com>

Hi Raymond,

I'll have a look but keep in mind that for GPKG the implementation uses
GDAL/OGR to execute the queries, there might be some fid/id handling that
messes up with the returned fields.



On Fri, Apr 1, 2022 at 8:28 AM Raymond Nijssen <r.nijssen at terglobo.nl>
wrote:

> For a workaround I found that selecting this way:
>
> SELECT
>    edit_id + 0 AS edit_id,
>    timestamp,
>    name
> FROM
>    ...
>
> The +0 seem to makes QGIS (or GDAL?) unaware of edit_id being the PK
> field and it does return it. Works both in 3.10 and 3.25.
>
> Raymond
>
>
>
> On 31-03-2022 18:15, Alessandro Pasotti wrote:
> > Hi Raymond,
> >
> > your code looks good.
> >
> > Can you provide a test file?
> >
> > There are some test in core here:
> >
> https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py
> > <
> https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py
> >
> >
> >
> > On Thu, Mar 31, 2022 at 6:09 PM Raymond Nijssen via QGIS-Developer
> > <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>>
>
> > wrote:
> >
> >     Hi devs,
> >
> >     I'm working on a plugin that connects to a custom table (without
> >     geometry) in a GPKG. When I'm sending queries to it, I keep on
> getting
> >     unexpected results. Somehow the id field is missing, sometimes it
> >     appears twice (!). And this seems to be different between QGIS 3.10
> and
> >     3.25. (I think it changed since 3.22).
> >
> >     Here is a piece of my code:
> >
> >
> >     fn = '/path/to/test.gpkg'
> >     md = QgsProviderRegistry.instance().providerMetadata('ogr')
> >     conn = md.createConnection(fn, {})
> >
> >     q = 'select * from test_table;'
> >     qr = conn.executeSql(q)
> >     print(qr) # No id field in result
> >
> >
> >
> >     Before diving into the QGIS code I'd like to check if this is the
> >     way to
> >     go. Or should i use another way to query that GPKG (SQLite) db?
> >
> >
> >     Kind regards,
> >     Raymond
> >     _______________________________________________
> >     QGIS-Developer mailing list
> >     QGIS-Developer at lists.osgeo.org <mailto:
> QGIS-Developer at lists.osgeo.org>
> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >
> >
> >
> > --
> > Alessandro Pasotti
> > QCooperative: www.qcooperative.net <https://www.qcooperative.net>
> > ItOpen: www.itopen.it <http://www.itopen.it>
>


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220401/ca682339/attachment-0001.html>

From c at margo.co  Fri Apr  1 05:07:02 2022
From: c at margo.co (Pedro Camargo)
Date: Fri, 01 Apr 2022 22:07:02 +1000
Subject: [QGIS-Developer] 
 =?utf-8?q?Plugin_dependency_with_binaries=3A_?=
 =?utf-8?q?=27best=27_way_to_guide_user_to_install=3F?=
In-Reply-To: <mailman.23.1648753202.516.qgis-developer@lists.osgeo.org>
References: <mailman.23.1648753202.516.qgis-developer@lists.osgeo.org>
Message-ID: <17fe5059408.23b5bb1f5402.6947602649214067570@margo.co>

Take a look at how it is done in the AequilibraE plugin.

I basically ship the plugin without the binaries and create a menu item where the user can choose to download the binaries.

Once downloaded, restarting the plugin allows it to identify the binaries and deactivate that menu item. 

Cheers,
Pedro  ---- On Fri, 01 Apr 2022 05:00:02 +1000  qgis-developer-request at lists.osgeo.org  wrote ----Send QGIS-Developer mailing list submissions to
????qgis-developer at lists.osgeo.org

To subscribe or unsubscribe via the World Wide Web, visit
????https://lists.osgeo.org/mailman/listinfo/qgis-developer
or, via email, send a message with subject or body 'help' to
????qgis-developer-request at lists.osgeo.org

You can reach the person managing the list at
????qgis-developer-owner at lists.osgeo.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of QGIS-Developer digest..."


Today's Topics:

   1. Plugin dependency with binaries: 'best' way to guide user to
      install? (Aron Gergely)
   2. Unexpected results from GPKG table query using executeSql()
      (Raymond Nijssen)
   3. Re: Unexpected results from GPKG table query using
      executeSql() (Alessandro Pasotti)
   4. Re: Unexpected results from GPKG table query using
      executeSql() (Raymond Nijssen)


----------------------------------------------------------------------

Message: 1
Date: Thu, 31 Mar 2022 14:09:21 +0200
From: Aron Gergely <aron.gergely at rasterra.nl>
To: qgis-dev <qgis-developer at lists.osgeo.org>
Subject: [QGIS-Developer] Plugin dependency with binaries: 'best' way
????to guide user to install?
Message-ID: <5e3173ec-7b7e-64da-47d1-79d39edc1c10 at rasterra.nl>
Content-Type: text/plain; charset=UTF-8; format=flowed

Hi All,

What would be a good practice to handle 3rd party libs which can't be 
shipped together with a plugin?
I am looking for the most user-friendly way and have an idea.
But thought I would bounce it off the collective wisdom here and see if 
there are other/better ways.

If we find a 'best' method I could PR an update to the QGIS docs or 
PyQGIS cookbook, etc to preserve that knowledge.

Bit of context:
I have a plugin that uses a 3rd party python library which has binaries.
I would like to submit this plugin to the official plugin repository.
According to https://plugins.qgis.org/publish/ it's not allowed to ship 
binaries it with the plugin.
In such case the above webpage recommends telling the end user to run 
"pip.main(...)" from the python console to install missing libraries.

I thought that's not user friendly and it's a pip hack (pip.main() is 
meant to be internal).
Also, I want to handle the missing python module in my plugin 
gracefully: check on plugin load if missing, if so, guide user to 
resolve, preferably without having them write or copy any commands.

The idea:
Using python's subprocess module from within the plugin to call the pip 
CLI, which would install the package the usual pip way. Here's why:
- pip project recommends this way as best practice, warns against the 
pip.main()
- user would not need to write or copy-paste commands
- could make this user friendly: wire it in the plugin code to a push 
button and build it into a dialog e.g.;? if lib is missing on plugin load,
 ? show a QMessageBox and let user open a dialog to resolve. In that 
dialog would be the push button to trigger the pip install via subprocess.

How would this play out multi-platform via subprocess, I have no idea of 
yet - thought if the idea survived this thread, I'd go find out ;)

Do you think this subprocess + pip is a good idea?
Would it be allowed for plugins in the official repository to behave as 
such?
Anyone has other user-friendly ways of doing this?

Best regards,
Aron



------------------------------

Message: 2
Date: Thu, 31 Mar 2022 18:09:25 +0200
From: Raymond Nijssen <r.nijssen at terglobo.nl>
To: qgis-developer <qgis-developer at lists.osgeo.org>
Subject: [QGIS-Developer] Unexpected results from GPKG table query
????using executeSql()
Message-ID: <bba11f52-a64a-6502-fbce-dbc986ba9391 at terglobo.nl>
Content-Type: text/plain; charset=UTF-8; format=flowed

Hi devs,

I'm working on a plugin that connects to a custom table (without 
geometry) in a GPKG. When I'm sending queries to it, I keep on getting 
unexpected results. Somehow the id field is missing, sometimes it 
appears twice (!). And this seems to be different between QGIS 3.10 and 
3.25. (I think it changed since 3.22).

Here is a piece of my code:


fn = '/path/to/test.gpkg'
md = QgsProviderRegistry.instance().providerMetadata('ogr')
conn = md.createConnection(fn, {})

q = 'select * from test_table;'
qr = conn.executeSql(q)
print(qr) # No id field in result



Before diving into the QGIS code I'd like to check if this is the way to 
go. Or should i use another way to query that GPKG (SQLite) db?


Kind regards,
Raymond


------------------------------

Message: 3
Date: Thu, 31 Mar 2022 18:15:00 +0200
From: Alessandro Pasotti <apasotti at gmail.com>
To: Raymond Nijssen <r.nijssen at terglobo.nl>
Cc: qgis-developer <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] Unexpected results from GPKG table query
????using executeSql()
Message-ID:
????<CAL5Q670rrD--ZvEVDTtCWEqU1vZgUe7Nh+e58MLMDMQNPF9h1w at mail.gmail.com>
Content-Type: text/plain; charset="utf-8"

Hi Raymond,

your code looks good.

Can you provide a test file?

There are some test in core here:
https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py


On Thu, Mar 31, 2022 at 6:09 PM Raymond Nijssen via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi devs,
>
> I'm working on a plugin that connects to a custom table (without
> geometry) in a GPKG. When I'm sending queries to it, I keep on getting
> unexpected results. Somehow the id field is missing, sometimes it
> appears twice (!). And this seems to be different between QGIS 3.10 and
> 3.25. (I think it changed since 3.22).
>
> Here is a piece of my code:
>
>
> fn = '/path/to/test.gpkg'
> md = QgsProviderRegistry.instance().providerMetadata('ogr')
> conn = md.createConnection(fn, {})
>
> q = 'select * from test_table;'
> qr = conn.executeSql(q)
> print(qr) # No id field in result
>
>
>
> Before diving into the QGIS code I'd like to check if this is the way to
> go. Or should i use another way to query that GPKG (SQLite) db?
>
>
> Kind regards,
> Raymond
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220331/ad1ec7b7/attachment-0001.html>

------------------------------

Message: 4
Date: Thu, 31 Mar 2022 18:52:48 +0200
From: Raymond Nijssen <r.nijssen at terglobo.nl>
To: Alessandro Pasotti <apasotti at gmail.com>
Cc: qgis-developer <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] Unexpected results from GPKG table query
????using executeSql()
Message-ID: <87330c53-a8a5-6e07-dd6e-006fcdd7710f at terglobo.nl>
Content-Type: text/plain; charset=UTF-8; format=flowed

Hi Alessandro,

Thanks for your reply. Will share data and a test script with you privately.

Raymond


On 31-03-2022 18:15, Alessandro Pasotti wrote:
> Hi Raymond,
> 
> your code looks good.
> 
> Can you provide a test file?
> 
> There are some test in core here: 
> https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py 
> <https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py>
> 
> 
> On Thu, Mar 31, 2022 at 6:09 PM Raymond Nijssen via QGIS-Developer 
> <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>> 
> wrote:
> 
>     Hi devs,
> 
>     I'm working on a plugin that connects to a custom table (without
>     geometry) in a GPKG. When I'm sending queries to it, I keep on getting
>     unexpected results. Somehow the id field is missing, sometimes it
>     appears twice (!). And this seems to be different between QGIS 3.10 and
>     3.25. (I think it changed since 3.22).
> 
>     Here is a piece of my code:
> 
> 
>     fn = '/path/to/test.gpkg'
>     md = QgsProviderRegistry.instance().providerMetadata('ogr')
>     conn = md.createConnection(fn, {})
> 
>     q = 'select * from test_table;'
>     qr = conn.executeSql(q)
>     print(qr) # No id field in result
> 
> 
> 
>     Before diving into the QGIS code I'd like to check if this is the
>     way to
>     go. Or should i use another way to query that GPKG (SQLite) db?
> 
> 
>     Kind regards,
>     Raymond
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> 
> -- 
> Alessandro Pasotti
> QCooperative: www.qcooperative.net <https://www.qcooperative.net>
> ItOpen: www.itopen.it <http://www.itopen.it>


------------------------------

Subject: Digest Footer

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


------------------------------

End of QGIS-Developer Digest, Vol 197, Issue 39
***********************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220401/7809c541/attachment.html>

From apasotti at gmail.com  Fri Apr  1 08:25:25 2022
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 1 Apr 2022 17:25:25 +0200
Subject: [QGIS-Developer] QEP: Use QgsExpression to set a compiled subset
 string
Message-ID: <CAL5Q670peNdNnT_mxi=UD4FZckm_sZ=2k5BQ=9YpxAETKqw9OQ@mail.gmail.com>

Hi,

I have submitted a QEP for subset strings based on expressions, please have
a look:

https://github.com/qgis/QGIS-Enhancement-Proposals/issues/249

Comments are welcome!

Cheers

-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220401/e81c26ba/attachment-0001.html>

From hoettges at fh-aachen.de  Fri Apr  1 08:38:05 2022
From: hoettges at fh-aachen.de (=?UTF-8?B?SsO2cmcgSMO2dHRnZXM=?=)
Date: Fri, 1 Apr 2022 17:38:05 +0200
Subject: [QGIS-Developer] Fwd: [Qgis-user] Editing a multipolygon object
 changes type from Multipolygon to Polygon
In-Reply-To: <cc67d199-808f-5b91-a3c2-a4c6b4b61f63@fh-aachen.de>
References: <cc67d199-808f-5b91-a3c2-a4c6b4b61f63@fh-aachen.de>
Message-ID: <f1af6dd2-22ef-6fa6-665b-aedc2c688f09@fh-aachen.de>

Hi everyone,

I'm using QGIS 3.16 to 3.22. I created a table with multipolygon objects in a SpatiaLite database. When editing one of 
the polygons there appears a warning "Die Operation w?rden Geometrietyp ?ndern" ("The operation would change geometry 
type") and saving of the changings failes.

Following are the objects before and after the modification:

before editing:
wkt_geom: MultiPolygon (((379698.83699999999953434 5709466.37000000011175871, 379705.34999999997671694 
5709460.93499999959021807, 379703.7970000000204891 5709459.07600000035017729, 379697.34799999999813735 
5709464.77400000020861626, 379698.83699999999953434 5709466.37000000011175871)))

after adding the point (379701.02700000000186265 5709464.54299999959766865):
wkt_geom: Polygon ((379701.02700000000186265 5709464.54299999959766865, 379705.34999999997671694 
5709460.93499999959021807, 379703.7970000000204891 5709459.07600000035017729, 379697.34799999999813735 
5709464.77400000020861626, 379698.83699999999953434 5709466.37000000011175871, 379701.02700000000186265 
5709464.54299999959766865))

how can I make sure that the type does not change due to editing? The only idea i have is to remove or modify the 
geometry constraint in the Spatialite database table for the geometry column. The warning still appears but saving is 
successful.

Interesting fact: The problem didn't appear with QGIS 3.16.

Many thanks for your help!

J?rg H?ttges

-------
FH Aachen
University of Applied Sciences
Bayernallee 9
52066 Aachen | Germany
www.fh-aachen.de/menschen/hoettges

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220401/18ad3e13/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 5991 bytes
Desc: S/MIME Cryptographic Signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220401/18ad3e13/attachment.bin>

From jbpeter at outlook.com  Fri Apr  1 22:42:46 2022
From: jbpeter at outlook.com (Jean-Baptiste Peter)
Date: Sat, 2 Apr 2022 05:42:46 +0000
Subject: [QGIS-Developer] Recommended method to display a webpage in a
 plugin
In-Reply-To: <AS8P190MB120636122C5C73944CA9C9F1A21D9@AS8P190MB1206.EURP190.PROD.OUTLOOK.COM>
References: <AS8P190MB1206F4BA7E153ADAD3F47B93A2349@AS8P190MB1206.EURP190.PROD.OUTLOOK.COM>
 <AS8P190MB12067AFD567A9424C5C841DBA2349@AS8P190MB1206.EURP190.PROD.OUTLOOK.COM>
 <CAB28AsgMZZy12SqG3i6Tn15v3UY6wYwyZoCpfZEWXLA9GQ9phQ@mail.gmail.com>
 <AS8P190MB1206F11653334AD26A79538CA2359@AS8P190MB1206.EURP190.PROD.OUTLOOK.COM>
 <AS8P190MB120636122C5C73944CA9C9F1A21D9@AS8P190MB1206.EURP190.PROD.OUTLOOK.COM>
Message-ID: <AS8P190MB1206FB3A738E8040C276CB91A2E39@AS8P190MB1206.EURP190.PROD.OUTLOOK.COM>

Hi,

Following up on my previous post, I managed to get qwebengine to work within a plugin on windows 10.

I had to do the following changes :

- On QGIS side, I had to change a line in the main.cpp from core to set "Qt::AA_ShareOpenGLContexts". I already posted a PR for this :
https://github.com/qgis/QGIS/pull/47873

- I had to upgrade manually one of the dependency (python3-pyqt5-sip) to avoid the following error : ?RuntimeError: the sip module implements API v12.0 to v12.8 but the PyQt5.QtCore module requires API v12.9?

- Finally, on Pyqt side it was necessary to add an additional check during initialization to detect if "Qt::AA_ShareOpenGLContexts" has been set; I already reported the issue and this should be addressed in the next release.

After doing these modifications, it works as expected in my environment. Would it be possible to apply these fixes in master?

Best,

Jean-Baptiste Peter


----Original Message-----
From: Nyall Dawson <nyall.dawson at gmail.com>
Sent: Wednesday, February 16, 2022 1:57 AM
To: Jean-Baptiste Peter <jbpeter at outlook.com>
Cc: qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] Recommended method to display a webpage in a plugin

On Wed, 16 Feb 2022 at 06:46, Jean-Baptiste Peter <jbpeter at outlook.com> wrote:
>
> Hello,
>
> I am trying to figure what is the right way to display a webpage within a QGIS plugin and I have a few questions :
>
> Is it currently possible to use QWebEngineView class with QGIS python console? When I try to import it in QGIS python console, I get the following error :
>
>
>
> ModuleNotFoundError: No module named 'PyQt5.QtWebEngineWidgets'
>
>
>
>
>
> 2. If it is not currently possible to use QWebEngineView, does it involve major work or is there a chance it will be supported in the near future?

It's a very messy, horrible situation with no good ways forward. Right now you'll need to use QtWebKit, and there's no plans on the horizon to change this.

Nyall

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220402/f899ccf2/attachment.html>

From bo.victor.thomsen at gmail.com  Sat Apr  2 07:49:45 2022
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Sat, 2 Apr 2022 16:49:45 +0200
Subject: [QGIS-Developer] Fwd: [Qgis-user] Editing a multipolygon object
 changes type from Multipolygon to Polygon
In-Reply-To: <f1af6dd2-22ef-6fa6-665b-aedc2c688f09@fh-aachen.de>
References: <cc67d199-808f-5b91-a3c2-a4c6b4b61f63@fh-aachen.de>
 <f1af6dd2-22ef-6fa6-665b-aedc2c688f09@fh-aachen.de>
Message-ID: <6cdea235-6f02-8f33-5b85-91167ef91fd0@gmail.com>

I'll just add that? I have observed the same behaviour using a 
GeoPackage based layer. It was during a teaching session with 10-15 
students, so I can't remember exactly how and which editing tool that 
was the cause of the error.

Windows 10 / QGIS 3.22.3


Med venlig hilsen / Kind regards

Bo Victor Thomsen

Den 01-04-2022 kl. 17:38 skrev J?rg H?ttges via QGIS-Developer:
> Hi everyone,
>
> I'm using QGIS 3.16 to 3.22. I created a table with multipolygon 
> objects in a SpatiaLite database. When editing one of the polygons 
> there appears a warning "Die Operation w?rden Geometrietyp ?ndern" 
> ("The operation would change geometry type") and saving of the 
> changings failes.
>
> Following are the objects before and after the modification:
>
> before editing:
> wkt_geom: MultiPolygon (((379698.83699999999953434 
> 5709466.37000000011175871, 379705.34999999997671694 
> 5709460.93499999959021807, 379703.7970000000204891 
> 5709459.07600000035017729, 379697.34799999999813735 
> 5709464.77400000020861626, 379698.83699999999953434 
> 5709466.37000000011175871)))
>
> after adding the point (379701.02700000000186265 
> 5709464.54299999959766865):
> wkt_geom: Polygon ((379701.02700000000186265 
> 5709464.54299999959766865, 379705.34999999997671694 
> 5709460.93499999959021807, 379703.7970000000204891 
> 5709459.07600000035017729, 379697.34799999999813735 
> 5709464.77400000020861626, 379698.83699999999953434 
> 5709466.37000000011175871, 379701.02700000000186265 
> 5709464.54299999959766865))
>
> how can I make sure that the type does not change due to editing? The 
> only idea i have is to remove or modify the geometry constraint in the 
> Spatialite database table for the geometry column. The warning still 
> appears but saving is successful.
>
> Interesting fact: The problem didn't appear with QGIS 3.16.
>
> Many thanks for your help!
>
> J?rg H?ttges
>
> -------
> FH Aachen
> University of Applied Sciences
> Bayernallee 9
> 52066 Aachen | Germany
> www.fh-aachen.de/menschen/hoettges
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220402/064a8794/attachment.html>

From marco at qgis.org  Mon Apr  4 02:25:20 2022
From: marco at qgis.org (Marco Bernasocchi)
Date: Mon, 4 Apr 2022 11:25:20 +0200
Subject: [QGIS-Developer] Welcome new QGIS community voting member
Message-ID: <CAB2ZMRDNzYRsR-aHCv_zpVZDCQBvuAhno4Q=4+WHzC9bGTc3FA@mail.gmail.com>

Dear community,
It is with great pleasure that we'd like to welcome Andrea Giudiceandrea to
the community voting members!
I'd also like to thank all for voting on such an important matter.

Have a great week

Cheers
Marco

-- 
Marco Bernasocchi

QGIS.org Chair
OPENGIS.ch CEO
http://berna.io
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220404/e02806ed/attachment.html>

From Allen.Halle at lech-consulting.de  Mon Apr  4 04:57:05 2022
From: Allen.Halle at lech-consulting.de (Halle Allen I Lech-Consulting)
Date: Mon, 4 Apr 2022 11:57:05 +0000
Subject: [QGIS-Developer] Problems with MAC and OneDrive
Message-ID: <54c0f4bc1977459bab1651d56d306ef2@lech-consulting.de>

Dear Developers,

we have a Client that uses your QGis on MAC and two surfaces. The central data Storage is OneDrive.

That means that that Client works on the Surface when he is externally working comes into the "office" and works on the MAC.

While being external he cleanly sync the data into the OneDrive Cloud and then opens the synced Data with MAC. After a few day the data und the databases are completely clean like they were never used.

Could you help me out?

Greetings from Germany.

Sch?ne Gr??e

Allen Halle
Fachinformatiker f?r Systemintegration

Tel:  +49 8231 / 95 888 - 99
Fax: +49 8231 / 95 888 - 98
Mail: allen.halle at lech-consulting.de<mailto:allen.halle at lech-consulting.de>
Web: http://www.lech-consulting.de/

[cid:image001.jpg at 01D64F95.9C34B670]

Schneider & Schwandtner GbR
- Lech Consulting -
Guldenstra?e 33
86343 K?nigsbrunn

Gesch?ftsf?hrung: Michael Schneider, Roland Schwandtner
Firmensitz: K?nigsbrunn
Gerichtsstand: Augsburg
USt-IdNr: DE297850929

Damit Ihre IT fl?ssig l?uft !

Diese E-Mail enth?lt vertrauliche und/ oder rechtlich gesch?tzte Informationen und Anlagen.
Wenn Sie nicht der richtige Adressat sind oder diese E-Mail irrt?mlich erhalten haben, informieren Sie bitte sofort den Absender und vernichten Sie diese E-Mail.
Das unerlaubte Kopieren sowie die unbefugte Weitergabe dieser Mail sind nicht gestattet.

This e-mail may contain confidential and/ or privileged information. If you are not the intended recipient (or have received this e-mail in error) please notify the sender immediately and destroy this e-mail.
Any unauthorized copying, disclosure or distribution of the material in this e-mail is strictly forbidden.

Diese E-Mail enth?lt vertrauliche und/ oder rechtlich gesch?tzte Informationen und Anlagen.
Wenn Sie nicht der richtige Adressat sind oder diese E-Mail irrt?mlich erhalten haben, informieren Sie bitte sofort den Absender und vernichten Sie diese E-Mail.
Das unerlaubte Kopieren sowie die unbefugte Weitergabe dieser Mail sind nicht gestattet.

This e-mail may contain confidential and/ or privileged information. If you are not the intended recipient (or have received this e-mail in error) please notify the sender immediately and destroy this e-mail.
Any unauthorized copying, disclosure or distribution of the material in this e-mail is strictly forbidde
Diese E-Mail enth?lt vertrauliche und/ oder rechtlich gesch?tzte Informationen und Anlagen.
Wenn Sie nicht der richtige Adressat sind oder diese E-Mail irrt?mlich erhalten haben, informieren Sie bitte sofort den Absender und vernichten Sie diese E-Mail.
Das unerlaubte Kopieren sowie die unbefugte Weitergabe dieser Mail sind nicht gestattet.

This e-mail may contain confidential and/ or privileged information. If you are not the intended recipient (or have received this e-mail in error) please notify the sender immediately and destroy this e-mail.
Any unauthorized copying, disclosure or distribution of the material in this e-mail is strictly forbidden.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220404/5d068b9e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 4696 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220404/5d068b9e/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3647 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220404/5d068b9e/attachment-0001.bin>

From lior at kaplanopensource.co.il  Mon Apr  4 07:39:59 2022
From: lior at kaplanopensource.co.il (Lior Kaplan)
Date: Mon, 4 Apr 2022 17:39:59 +0300
Subject: [QGIS-Developer] File extension for GeoPackage with QGIS
 projects
In-Reply-To: <CAB28AshSFJ1uEyscCT2W1TW+3qtnCyK3Bk1mEG35tnrCnUrPag@mail.gmail.com>
References: <CAF288x6UozXm9CeyvTWRXQK+BdfYEvVchNBwRA3fSb4WnhvizA@mail.gmail.com>
 <CAB28AshSFJ1uEyscCT2W1TW+3qtnCyK3Bk1mEG35tnrCnUrPag@mail.gmail.com>
Message-ID: <CAF288x4snPg=YLxC0b=y9_L27=QPRJ4HbtMt_=-1gwM+Nij0Ag@mail.gmail.com>

+972-52-2235911
L: Lior Kaplan <https://www.linkedin.com/in/liorkaplan/>
T: @opensource_il <https://twitter.com/opensource_il>
F: @liorkaplanopensource <https://www.facebook.com/liorkaplanopensource>
https://kaplanopensource.co.il/



On Mon, Aug 30, 2021 at 6:52 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> Hey Lior!
>
> On Thu, 26 Aug 2021 at 21:02, Lior Kaplan <lior at kaplanopensource.co.il>
> wrote:
> > Along the current feature requests to notify the user that the GPKG also
> has a project layer and ask if he wants to open it?
> > https://github.com/qgis/QGIS/issues/30538
> > https://github.com/qgis/QGIS/issues/40252
> >
>
> Can you test with current master/nightly versions? These issues should
> all be fixed now, and you'll get prompted to open projects when
> dragging & dropping a GPKG.
>

This works great with 3.22 for drag & drop ( thanks (: )

Can we make it also work when opening a file directly from the OS
(e.g. double clicking on the file in the folder).

Expected result would be to get the same pop up menu as in drag & drop,
while today it just loads the tables, including the "TestProject ?
qgis_projects"
table.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220404/67f76eeb/attachment.html>

From carlo.bertelli at gmail.com  Mon Apr  4 08:33:09 2022
From: carlo.bertelli at gmail.com (Carlo A. Bertelli (Charta s.r.l.))
Date: Mon, 4 Apr 2022 17:33:09 +0200
Subject: [QGIS-Developer] Problems with MAC and OneDrive
In-Reply-To: <54c0f4bc1977459bab1651d56d306ef2@lech-consulting.de>
References: <54c0f4bc1977459bab1651d56d306ef2@lech-consulting.de>
Message-ID: <CALc8-V+gjrkx31AoZhpqA+LkF767Zh_-HYTrxppn=UVZRUOSjg@mail.gmail.com>

Could you please provide some more info about the format of the data? I
think your question does not imply using a DBMS server which I could
suggest in this case. Sharing a file that can be updated on a remote file
system involves some (risky) reaction, but cloud storage is different, it
involves syncronisation and I think it requires some planning and careful
evaluation of the consequences of the choices of every participant in the
workgroup. If you synchronise the empty file towards a non-empty version...
you get an empty file.
Maybe you can recover the work looking to all the revisions of the same
file on Onedrive. Good luck.
c

On Mon, Apr 4, 2022 at 1:57 PM Halle Allen I Lech-Consulting via
QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:

> Dear Developers,
>
>
>
> we have a Client that uses your QGis on MAC and two surfaces. The central
> data Storage is OneDrive.
>
>
>
> That means that that Client works on the Surface when he is externally
> working comes into the ?office? and works on the MAC.
>
>
>
> While being external he cleanly sync the data into the OneDrive Cloud and
> then opens the synced Data with MAC. After a few day the data und the
> databases are completely clean like they were never used.
>
>
>
> Could you help me out?
>
>
>
> Greetings from Germany.
>
>
>
> Sch?ne Gr??e
>
>
>
> Allen Halle
>
> *Fachinformatiker f?r Systemintegration*
>
>
>
> Tel:  +49 8231 / 95 888 - 99
>
> Fax: +49 8231 / 95 888 - 98
>
> Mail: allen.halle at lech-consulting.de
>
> Web: http://www.lech-consulting.de/
>
>
>
> [image: cid:image001.jpg at 01D64F95.9C34B670]
>
>
>
> *Schneider & Schwandtner GbR*
>
> - Lech Consulting -
>
> Guldenstra?e 33
>
> 86343 K?nigsbrunn
>
>
>
> Gesch?ftsf?hrung: Michael Schneider, Roland Schwandtner
>
> Firmensitz: K?nigsbrunn
>
> Gerichtsstand: Augsburg
>
> USt-IdNr: DE297850929
>
>
>
> *Damit Ihre IT fl?ssig l?uft !*
>
>
>
> Diese E-Mail enth?lt vertrauliche und/ oder rechtlich gesch?tzte
> Informationen und Anlagen.
> Wenn Sie nicht der richtige Adressat sind oder diese E-Mail irrt?mlich
> erhalten haben, informieren Sie bitte sofort den Absender und vernichten
> Sie diese E-Mail.
> Das unerlaubte Kopieren sowie die unbefugte Weitergabe dieser Mail sind
> nicht gestattet.
>
> This e-mail may contain confidential and/ or privileged information. If
> you are not the intended recipient (or have received this e-mail in error)
> please notify the sender immediately and destroy this e-mail.
> Any unauthorized copying, disclosure or distribution of the material in
> this e-mail is strictly forbidden.
>
>
>
> Diese E-Mail enth?lt vertrauliche und/ oder rechtlich gesch?tzte
> Informationen und Anlagen.
> Wenn Sie nicht der richtige Adressat sind oder diese E-Mail irrt?mlich
> erhalten haben, informieren Sie bitte sofort den Absender und vernichten
> Sie diese E-Mail.
> Das unerlaubte Kopieren sowie die unbefugte Weitergabe dieser Mail sind
> nicht gestattet.
>
> This e-mail may contain confidential and/ or privileged information. If
> you are not the intended recipient (or have received this e-mail in error)
> please notify the sender immediately and destroy this e-mail.
> Any unauthorized copying, disclosure or distribution of the material in
> this e-mail is strictly forbidde
> Diese E-Mail enth?lt vertrauliche und/ oder rechtlich gesch?tzte
> Informationen und Anlagen.
> Wenn Sie nicht der richtige Adressat sind oder diese E-Mail irrt?mlich
> erhalten haben, informieren Sie bitte sofort den Absender und vernichten
> Sie diese E-Mail.
> Das unerlaubte Kopieren sowie die unbefugte Weitergabe dieser Mail sind
> nicht gestattet.
>
> This e-mail may contain confidential and/ or privileged information. If
> you are not the intended recipient (or have received this e-mail in error)
> please notify the sender immediately and destroy this e-mail.
> Any unauthorized copying, disclosure or distribution of the material in
> this e-mail is strictly forbidden.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220404/e5b22c34/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 4696 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220404/e5b22c34/attachment.jpg>

From cavallini at faunalia.it  Mon Apr  4 10:45:55 2022
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 4 Apr 2022 19:45:55 +0200
Subject: [QGIS-Developer] [Qgis-psc] FOSS4G 2022: possible QGIS Dev
 meeting?
In-Reply-To: <CAB2ZMRAmUbzpyno_gD+Lncc2sKnHejtqHaoxrTs6w6zb4iohNw@mail.gmail.com>
References: <ad30a40c-1841-dede-51f1-75e287a49fa2@faunalia.it>
 <3c44e198931458dd509dc6355c4ec1a5@carto.net>
 <6ff37711-120a-2b8c-d842-5c0e94793933@gmx.at>
 <8702ca74-03ad-8562-8d65-1cc201d5f7cb@faunalia.it>
 <CAB2Z92ASUu3joqf+sxiE=7FuomtV5z48AYDSgkvDOM4fwdRTwQ@mail.gmail.com>
 <75932dcf-32a5-d138-7f9a-2831d2b3e4d1@faunalia.it>
 <CAB2ZMRBvK7JEVZGigYvADTMrj0HRPT-kws66pWsYXpoD2gJ1Uw@mail.gmail.com>
 <614afd3f-491e-8249-cdf5-8828f289c8e0@faunalia.it>
 <1d799beb-3c73-10aa-0cef-8b05ca343f43@faunalia.it>
 <CABgOYCd6M+CV-BbCNcZZxdStaEEV69ouOteJg_gowLbkkTBU_Q@mail.gmail.com>
 <1c0c72a8-7d35-06b0-15f7-e301451967e5@faunalia.it>
 <b54a314c-eb6b-79fc-3b5b-77eea22016f2@faunalia.it>
 <CAB2ZMRAmUbzpyno_gD+Lncc2sKnHejtqHaoxrTs6w6zb4iohNw@mail.gmail.com>
Message-ID: <1f2fedd0-4ba4-5c56-4c32-6bd257fb39ce@faunalia.it>

Done, thanks again.
cheers.
---
Quite right, we'll update the info.
Thanks for pointing this out.
Cheers.

Il 30/03/22 17:23, Marco Bernasocchi ha scritto:
> Hi Paolo, I added the page to the list on the main wiki.
> Do you have a bit more details on where the venue is? You
> wrote?University of Firenze on [1] but there are multiple locations
> around?the city :)
> 
> ciao
> Marco
> [1]?https://github.com/qgis/QGIS/wiki/24th-Contributors-Meeting-in-Firenze
> <https://github.com/qgis/QGIS/wiki/24th-Contributors-Meeting-in-Firenze>?
> 
> On Sat, 19 Feb 2022 at 07:55, Paolo Cavallini <cavallini at faunalia.it
> <mailto:cavallini at faunalia.it>> wrote:
> 
>     Hi all,
>     we started organizing the next Contributors meeting:
>     https://github.com/qgis/QGIS/wiki/24th-Contributors-Meeting-in-Firenze
>     <https://github.com/qgis/QGIS/wiki/24th-Contributors-Meeting-in-Firenze>
>     Help most welcome.
>     All the best.
> 
>     Il 18/02/22 09:03, Paolo Cavallini ha scritto:
>     > Hi R?gis,
>     > thanks for pointing this out. I confirm we are organizing a QGIS
>     > contributor meeting in the days preceding FOSS4G.
>     > We'll make a more detailed announcement soon.
>     > Cheers.
>     >
>     > Il 17/02/22 19:31, R?gis Haubourg ha scritto:
>     >> Hi all,
>     >> I just saw that the SOTM will take place in Firenze too, on the
>     same day
>     >> as the potential QGIS meeting:
>     >>
>     https://blog.openstreetmap.org/2022/02/16/announcing-sotm-2022-firenze-19-21-august-2022/comment-page-1/
>     <https://blog.openstreetmap.org/2022/02/16/announcing-sotm-2022-firenze-19-21-august-2022/comment-page-1/>
>     >>
>     <https://blog.openstreetmap.org/2022/02/16/announcing-sotm-2022-firenze-19-21-august-2022/comment-page-1/
>     <https://blog.openstreetmap.org/2022/02/16/announcing-sotm-2022-firenze-19-21-august-2022/comment-page-1/>>
>     >>
>     >> That's a lot of good reason to be there. Is the QGIS meeting
>     confirmed
>     >> or is there any risk the schedule collision could change our plans?
>     >> Best regards
>     >> R?gis
>     >>
>     >> Le?jeu. 13 janv. 2022 ??14:25, Paolo Cavallini
>     <cavallini at faunalia.it <mailto:cavallini at faunalia.it>
>     >> <mailto:cavallini at faunalia.it <mailto:cavallini at faunalia.it>>> a
>     ?crit?:
>     >>
>     >>? ? ?I'm told we can apply for funds from Osgeo before the next 20th.
>     >>? ? ?Could a random president investigate this? ;)
>     >>? ? ?Thanks.
>     >>
>     >>? ? ?Il 11/01/22 09:42, Paolo Cavallini ha scritto:
>     >>? ? ?> Thanks Marco and others for the encouragement!
>     >>? ? ?> I'll keep the PSC updated.
>     >>? ? ?> Cheers.
>     >>? ? ?>
>     >>? ? ?> Il 11/01/22 09:25, Marco Bernasocchi ha scritto:
>     >>? ? ?>> Thanks a lot Paolo,
>     >>? ? ?>> that makes a lot of sense, I'm sure that the Dutch team
>     will be ok in
>     >>? ? ?>> skipping "their" turn and hopefully followup?Firenze with
>     >>? ? ?>> 's-Hertogenbosch in spring 23 (unless of course we could do a
>     >>? ? ?spring 22
>     >>? ? ?>> 's-Hertogenbosch HF first...)
>     >>? ? ?>> I really hope that we can finally have a hackfest again.
>     >>? ? ?>>
>     >>? ? ?>> Cheers
>     >>? ? ?>> Marco
>     >>? ? ?>
>     >>
>     >>? ? ?--
>     >>? ? ?Paolo Cavallini
>     >>? ? ?www.faunalia.eu <http://www.faunalia.eu>
>     <http://www.faunalia.eu <http://www.faunalia.eu>> - QGIS.org
>     >>? ? ?training, support, development on QGIS, PostGIS and more
>     >>? ? ?_______________________________________________
>     >>? ? ?Qgis-psc mailing list
>     >>? ? ?Qgis-psc at lists.osgeo.org <mailto:Qgis-psc at lists.osgeo.org>
>     <mailto:Qgis-psc at lists.osgeo.org <mailto:Qgis-psc at lists.osgeo.org>>
>     >>? ? ?https://lists.osgeo.org/mailman/listinfo/qgis-psc
>     <https://lists.osgeo.org/mailman/listinfo/qgis-psc>
>     >>? ? ?<https://lists.osgeo.org/mailman/listinfo/qgis-psc
>     <https://lists.osgeo.org/mailman/listinfo/qgis-psc>>
>     >>
>     >>
>     >> _______________________________________________
>     >> Qgis-psc mailing list
>     >> Qgis-psc at lists.osgeo.org <mailto:Qgis-psc at lists.osgeo.org>
>     >> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>     <https://lists.osgeo.org/mailman/listinfo/qgis-psc>
>     >
> 
>     -- 
>     Paolo Cavallini
>     www.faunalia.eu <http://www.faunalia.eu> - QGIS.org
>     training, support, development on QGIS, PostGIS and more
>     _______________________________________________
>     Qgis-psc mailing list
>     Qgis-psc at lists.osgeo.org <mailto:Qgis-psc at lists.osgeo.org>
>     https://lists.osgeo.org/mailman/listinfo/qgis-psc
>     <https://lists.osgeo.org/mailman/listinfo/qgis-psc>
> 
> 
> 
> -- 
> Marco Bernasocchi
> 
> QGIS.org Chair
> OPENGIS.ch CEO
> http://berna.io <http://berna.io>

-- 
Paolo Cavallini
www.faunalia.eu - QGIS.org
training, support, development on QGIS, PostGIS and more

From enzedrailmaps at gmail.com  Mon Apr  4 15:07:29 2022
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Tue, 5 Apr 2022 10:07:29 +1200
Subject: [QGIS-Developer] Problems with MAC and OneDrive
In-Reply-To: <CALc8-V+gjrkx31AoZhpqA+LkF767Zh_-HYTrxppn=UVZRUOSjg@mail.gmail.com>
References: <54c0f4bc1977459bab1651d56d306ef2@lech-consulting.de>
 <CALc8-V+gjrkx31AoZhpqA+LkF767Zh_-HYTrxppn=UVZRUOSjg@mail.gmail.com>
Message-ID: <1683b293-d55a-2776-c001-12cc33de64be@gmail.com>

I'll endorse that plus in noting that I have seen tables wiped clean 
with geopackage where there may be multiple users. Even if there is only 
one actual user, there is a risk with multiple clients on a file based 
system because there is no inherent mechanism with the file based layers 
to handle transactions the way there would be with a DBMS server. SQLite 
is not recommend over a network for multiple clients.

That is separate from the other point which is that any one local client 
can overwrite the cloud version which is risky. Is there versioning 
control built into OneDrive?

On 5/04/22 03:33, Carlo A. Bertelli (Charta s.r.l.) via QGIS-Developer 
wrote:
> Could you please provide some more info about the format of the data? 
> I think your question does not imply using a DBMS server which I could 
> suggest in this case. Sharing a file that can be updated on a remote 
> file system involves some (risky) reaction, but cloud storage is 
> different, it involves syncronisation and I think it requires some 
> planning and careful evaluation of the consequences of the choices of 
> every participant?in the workgroup. If you?synchronise the empty file 
> towards a non-empty version... you get an empty file.
> Maybe you can recover the work looking to all the revisions of the 
> same file on Onedrive. Good luck.
> c
>
>

From carlo.bertelli at gmail.com  Mon Apr  4 15:34:28 2022
From: carlo.bertelli at gmail.com (Carlo A. Bertelli (Charta s.r.l.))
Date: Tue, 5 Apr 2022 00:34:28 +0200
Subject: [QGIS-Developer] Problems with MAC and OneDrive
In-Reply-To: <1683b293-d55a-2776-c001-12cc33de64be@gmail.com>
References: <54c0f4bc1977459bab1651d56d306ef2@lech-consulting.de>
 <CALc8-V+gjrkx31AoZhpqA+LkF767Zh_-HYTrxppn=UVZRUOSjg@mail.gmail.com>
 <1683b293-d55a-2776-c001-12cc33de64be@gmail.com>
Message-ID: <CALc8-VJHxZck_6PoPofPe-KnNeLF6rnEhNVFuWMKCTdBGk+Z4g@mail.gmail.com>

>
> Is there versioning control built into OneDrive?

Yes, as you can see here:
https://support.microsoft.com/en-us/office/restore-a-previous-version-of-a-file-stored-in-onedrive-159cad6d-d76e-4981-88ef-de6e96c93893
you can restore a previous version of a file stored in OneDrive. To what
means, I don't know, but sharing a SQLite, Spatialite or GPKG on cloud
storage is really a stress test for the concept of file sharing,
especially if it's shared (and if you are the same user on two platforms,
you have to be very very lucky.

On Tue, Apr 5, 2022 at 12:07 AM Patrick Dunford via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> I'll endorse that plus in noting that I have seen tables wiped clean
> with geopackage where there may be multiple users. Even if there is only
> one actual user, there is a risk with multiple clients on a file based
> system because there is no inherent mechanism with the file based layers
> to handle transactions the way there would be with a DBMS server. SQLite
> is not recommend over a network for multiple clients.
>
> That is separate from the other point which is that any one local client
> can overwrite the cloud version which is risky. Is there versioning
> control built into OneDrive?
>
> On 5/04/22 03:33, Carlo A. Bertelli (Charta s.r.l.) via QGIS-Developer
> wrote:
> > Could you please provide some more info about the format of the data?
> > I think your question does not imply using a DBMS server which I could
> > suggest in this case. Sharing a file that can be updated on a remote
> > file system involves some (risky) reaction, but cloud storage is
> > different, it involves syncronisation and I think it requires some
> > planning and careful evaluation of the consequences of the choices of
> > every participant in the workgroup. If you synchronise the empty file
> > towards a non-empty version... you get an empty file.
> > Maybe you can recover the work looking to all the revisions of the
> > same file on Onedrive. Good luck.
> > c
> >
> >
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220405/5cc28329/attachment.html>

From saber.razmjooei at lutraconsulting.co.uk  Mon Apr  4 23:26:12 2022
From: saber.razmjooei at lutraconsulting.co.uk (Saber Razmjooei)
Date: Tue, 5 Apr 2022 08:26:12 +0200
Subject: [QGIS-Developer] Problems with MAC and OneDrive
In-Reply-To: <CALc8-VJHxZck_6PoPofPe-KnNeLF6rnEhNVFuWMKCTdBGk+Z4g@mail.gmail.com>
References: <54c0f4bc1977459bab1651d56d306ef2@lech-consulting.de>
 <CALc8-V+gjrkx31AoZhpqA+LkF767Zh_-HYTrxppn=UVZRUOSjg@mail.gmail.com>
 <1683b293-d55a-2776-c001-12cc33de64be@gmail.com>
 <CALc8-VJHxZck_6PoPofPe-KnNeLF6rnEhNVFuWMKCTdBGk+Z4g@mail.gmail.com>
Message-ID: <CAH=WbRA-p3VhyJx0VH+9=wuQtFwA30W3yveYV_Qk61xgv1B_jQ@mail.gmail.com>

Hi Allen,

It is possible to use GeoPackages and synchronise them across multiple
devices/platforms (including mobile devices through https://inputapp.io
which is based on QGIS) using Mergin service (
https://public.cloudmergin.com/ and for your own hosting:
https://github.com/lutraconsulting/mergin). This allows you offline
editing, collaboration with other users and tracking changes.

Kind regards
Saber


On Tue, 5 Apr 2022 at 00:34, Carlo A. Bertelli (Charta s.r.l.) via
QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:

> Is there versioning control built into OneDrive?
>
> Yes, as you can see here:
>
> https://support.microsoft.com/en-us/office/restore-a-previous-version-of-a-file-stored-in-onedrive-159cad6d-d76e-4981-88ef-de6e96c93893
> you can restore a previous version of a file stored in OneDrive. To what
> means, I don't know, but sharing a SQLite, Spatialite or GPKG on cloud
> storage is really a stress test for the concept of file sharing,
> especially if it's shared (and if you are the same user on two platforms,
> you have to be very very lucky.
>
> On Tue, Apr 5, 2022 at 12:07 AM Patrick Dunford via QGIS-Developer <
> qgis-developer at lists.osgeo.org> wrote:
>
>> I'll endorse that plus in noting that I have seen tables wiped clean
>> with geopackage where there may be multiple users. Even if there is only
>> one actual user, there is a risk with multiple clients on a file based
>> system because there is no inherent mechanism with the file based layers
>> to handle transactions the way there would be with a DBMS server. SQLite
>> is not recommend over a network for multiple clients.
>>
>> That is separate from the other point which is that any one local client
>> can overwrite the cloud version which is risky. Is there versioning
>> control built into OneDrive?
>>
>> On 5/04/22 03:33, Carlo A. Bertelli (Charta s.r.l.) via QGIS-Developer
>> wrote:
>> > Could you please provide some more info about the format of the data?
>> > I think your question does not imply using a DBMS server which I could
>> > suggest in this case. Sharing a file that can be updated on a remote
>> > file system involves some (risky) reaction, but cloud storage is
>> > different, it involves syncronisation and I think it requires some
>> > planning and careful evaluation of the consequences of the choices of
>> > every participant in the workgroup. If you synchronise the empty file
>> > towards a non-empty version... you get an empty file.
>> > Maybe you can recover the work looking to all the revisions of the
>> > same file on Onedrive. Good luck.
>> > c
>> >
>> >
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Saber Razmjooei
www.lutraconsulting.co.uk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220405/21c30d8f/attachment.html>

From marco at opengis.ch  Mon Apr  4 23:30:00 2022
From: marco at opengis.ch (Marco Bernasocchi)
Date: Tue, 5 Apr 2022 08:30:00 +0200
Subject: [QGIS-Developer] QField 2.0 is here
Message-ID: <CAH7jKUVd9Whx0Q7CVp1hwGpVHhaCVxTF20vd6uKc_bQHsOc8rA@mail.gmail.com>

Dear QGIS community,
it feels like yesterday when in 2011 my inbox received the following text:
"Congratulations! Your proposal ?QGIS Mobile? as submitted to ?OSGeo ? Open
Source Geospatial Foundation? has been accepted for Google Summer of Code
2011." [0]

Back then my idea was already pretty clear, create a standard version of
QGIS that would run on android devices and later on replace the UI with
something more mobile friendly.
QGIS mobile was quickly born and thanks to the help of many of you by the
end of the GSoC I had it running.
Years and commits went by, and out of the experiment QGIS mobile a new star
was born in 2015: QField [1]

What followed was pure pleasure, a fantastic community response and a huge
uptaking of the handy fieldwork app that now counts almost half a
million downloads and is active on roughly 150K devices monthly.

That is why, it is with a heartfelt thankyou that I'd like to announce the
official availability of QField 2.0

If you are interested in more details on the release, here you'll find all
information on our latest blogpost [2]

Cheers Marco

[0] https://www.opengis.ch/2011/04/25/gsoc-2011-im-in/
[1] https://www.opengis.ch/2015/01/28/qgis-mobile-is-now-qfield/
[2] https://www.opengis.ch/2022/04/05/qfield-2-0-is-here/
-- 
Marco Bernasocchi
OPENGIS.ch CEO
QGIS.org Chair
OSGeo.org Board of directors

Find a meeting time on my calendar <https://calendly.com/mbernasocchi/30min>
!
marco at opengis.ch
+41 (0)79 467 24 70 <+41794672470>

<https://opengis.ch>

-- 
 <https://qfield.org/get>

QFIELD 2.0 IS HERE! - Hold the power of QGIS in 
your hand - learn more 
<https://www.opengis.ch/2022/04/05/qfield-2-0-is-here/> - get it now 
<https://qfield.org/get>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220405/275214e2/attachment-0001.html>

From delazj at gmail.com  Tue Apr  5 02:53:52 2022
From: delazj at gmail.com (DelazJ)
Date: Tue, 5 Apr 2022 11:53:52 +0200
Subject: [QGIS-Developer] Override System Locale user interface with
 American English by Default?
In-Reply-To: <CA+H0G_FcdtFzkiL1CFQAtTQLLRehUHc7NcofiFxLK2ZWgjBs-w@mail.gmail.com>
References: <CA+H0G_GpGOP0N+2RaEdBbLgLt=xvwDqxr1bLH-FjJKW-3NfKZg@mail.gmail.com>
 <20220324164859.rmwi7vy2o2hjmklp@norbit.de>
 <CA+H0G_GuJv6OnY8h8WPj8Nz34QY1O4hg6Q-GJSqdW+6XpzM8Yw@mail.gmail.com>
 <20220324221333.feyrzzjnl3f4slwi@norbit.de>
 <CA+H0G_FcdtFzkiL1CFQAtTQLLRehUHc7NcofiFxLK2ZWgjBs-w@mail.gmail.com>
Message-ID: <CAECJsSqRNGPu5QibktNUGWkCaMmRJ9bNHk5HLdH3BYMwM-nnWg@mail.gmail.com>

Hi,

Le jeu. 31 mars 2022 ? 11:58, Alexandre Neto via QGIS-Developer <
qgis-developer at lists.osgeo.org> a ?crit :

> Hi Jurgen,
>
> Can I delete the 3-16 and 3-20 translation resources from transifex? they
> won't be used anymore and that way we avoid people translating it in vain.
>
> FYI, Transifex removed these resources from the Desktop project.

Regards,
Harrissou

> Alexandre Neto
>
> On Thu Mar 24, 2022, 10:13 PM GMT, J?rgen E. Fischer <jef at norbit.de>
> wrote:
>
> Hi Alexandre,
>
> On Thu, 24. Mar 2022 at 18:43:24 +0000, Alexandre Neto wrote:
>
> I only have the PT_pt translation experience, but I am pretty sure the same
> should happen in other languages too.
>
>
> I doubt that. I wonder why the quality is so bad. I would expect that most
> of
> the translations are ok and only some are poor. Review can help with those,
> but should not be necessary to get usable translations at all.
>
>
> J?rgen
>
> --
> J?rgen E. Fischer norBIT GmbH Tel. +49-4931-918175-31
> Dipl.-Inf. (FH) Rheinstra?e 13 Fax. +49-4931-918175-50
> Software Engineer D-26506 Norden https://www.norbit.de
> QGIS release manager (PSC) Germany IRC: jef on Libera|OFTC
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Juergen Fischer, Nils Kutscher HR: Amtsgericht Aurich HRB 100827
> Datenschutzerklaerung: https://www.norbit.de/83/
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220405/cf388215/attachment.html>

From senhor.neto at gmail.com  Tue Apr  5 03:01:25 2022
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Tue, 5 Apr 2022 03:01:25 -0700
Subject: [QGIS-Developer] Override System Locale user interface with
 American English by Default?
In-Reply-To: <CAECJsSqRNGPu5QibktNUGWkCaMmRJ9bNHk5HLdH3BYMwM-nnWg@mail.gmail.com>
References: <CA+H0G_GpGOP0N+2RaEdBbLgLt=xvwDqxr1bLH-FjJKW-3NfKZg@mail.gmail.com>
 <20220324164859.rmwi7vy2o2hjmklp@norbit.de>
 <CA+H0G_GuJv6OnY8h8WPj8Nz34QY1O4hg6Q-GJSqdW+6XpzM8Yw@mail.gmail.com>
 <20220324221333.feyrzzjnl3f4slwi@norbit.de>
 <CA+H0G_FcdtFzkiL1CFQAtTQLLRehUHc7NcofiFxLK2ZWgjBs-w@mail.gmail.com>
 <CAECJsSqRNGPu5QibktNUGWkCaMmRJ9bNHk5HLdH3BYMwM-nnWg@mail.gmail.com>
Message-ID: <CA+H0G_HdWuyza5pWqVuWY-TBYT7_qtnKA5DMH-Ua42LJ2n5RuA@mail.gmail.com>

Great,

Thanks Harrissou,

Alex

On Tue Apr 5, 2022, 09:53 AM GMT, DelazJ <delazj at gmail.com> wrote:

Hi,

Le jeu. 31 mars 2022 ? 11:58, Alexandre Neto via QGIS-Developer <
qgis-developer at lists.osgeo.org> a ?crit :

> Hi Jurgen,
>
> Can I delete the 3-16 and 3-20 translation resources from transifex? they
> won't be used anymore and that way we avoid people translating it in vain.
>
> FYI, Transifex removed these resources from the Desktop project.

Regards,
Harrissou

> Alexandre Neto
>
> On Thu Mar 24, 2022, 10:13 PM GMT, J?rgen E. Fischer <jef at norbit.de>
> wrote:
>
> Hi Alexandre,
>
> On Thu, 24. Mar 2022 at 18:43:24 +0000, Alexandre Neto wrote:
>
> I only have the PT_pt translation experience, but I am pretty sure the same
> should happen in other languages too.
>
>
> I doubt that. I wonder why the quality is so bad. I would expect that most
> of
> the translations are ok and only some are poor. Review can help with those,
> but should not be necessary to get usable translations at all.
>
>
> J?rgen
>
> --
> J?rgen E. Fischer norBIT GmbH Tel. +49-4931-918175-31
> Dipl.-Inf. (FH) Rheinstra?e 13 Fax. +49-4931-918175-50
> Software Engineer D-26506 Norden https://www.norbit.de
> QGIS release manager (PSC) Germany IRC: jef on Libera|OFTC
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Juergen Fischer, Nils Kutscher HR: Amtsgericht Aurich HRB 100827
> Datenschutzerklaerung: https://www.norbit.de/83/
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220405/51ecf49f/attachment.html>

From jorgealmerio at yahoo.com.br  Tue Apr  5 05:36:25 2022
From: jorgealmerio at yahoo.com.br (jorgealmerio at yahoo.com.br)
Date: Tue, 5 Apr 2022 09:36:25 -0300
Subject: [QGIS-Developer] RES:  QField 2.0 is here
In-Reply-To: <CAH7jKUVd9Whx0Q7CVp1hwGpVHhaCVxTF20vd6uKc_bQHsOc8rA@mail.gmail.com>
References: <CAH7jKUVd9Whx0Q7CVp1hwGpVHhaCVxTF20vd6uKc_bQHsOc8rA@mail.gmail.com>
Message-ID: <008a01d848e9$c4c515e0$4e4f41a0$@yahoo.com.br>

GOOD NEWS!

 

Congratulations! Good Job!

 

Best regards,

 

Jorge Almerio

 

De: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> Em nome de Marco Bernasocchi via QGIS-Developer
Enviada em: ter?a-feira, 5 de abril de 2022 03:30
Para: qgis-developer at lists.osgeo.org; qgis-user at lists.osgeo.org
Assunto: [QGIS-Developer] QField 2.0 is here

 

Dear QGIS community,

it feels like yesterday when in 2011 my inbox received the following text:
"Congratulations! Your proposal ?QGIS Mobile? as submitted to ?OSGeo ? Open Source Geospatial Foundation? has been accepted for Google Summer of Code 2011." [0]

Back then my idea was already pretty clear, create a standard version of QGIS that would run on android devices and later on replace the UI with something more mobile friendly. 
QGIS mobile was quickly born and thanks to the help of many of you by the end of the GSoC I had it running. 
Years and commits went by, and out of the experiment QGIS mobile a new star was born in 2015: QField [1]

 

What followed was pure pleasure, a fantastic community response and a huge uptaking of the handy fieldwork app that now counts almost half a million downloads and is active on roughly 150K devices monthly.

 

That is why, it is with a heartfelt thankyou that I'd like to announce the official availability of QField 2.0

 

If you are interested in more details on the release, here you'll find all information on our latest blogpost [2]

Cheers Marco

 

[0] https://www.opengis.ch/2011/04/25/gsoc-2011-im-in/
[1] https://www.opengis.ch/2015/01/28/qgis-mobile-is-now-qfield/

[2] https://www.opengis.ch/2022/04/05/qfield-2-0-is-here/

-- 

Marco Bernasocchi
OPENGIS.ch CEO
QGIS.org Chair
OSGeo.org Board of directors

 

Find a meeting time on my calendar <https://calendly.com/mbernasocchi/30min> !
 <mailto:marco at opengis.ch> marco at opengis.ch
+41 (0)79 467 24 70 <tel:+41794672470> 


 <https://opengis.ch/> 

 

 <https://qfield.org/get> 

QFIELD 2.0 IS HERE! - Hold the power of QGIS in your hand - learn more <https://www.opengis.ch/2022/04/05/qfield-2-0-is-here/>  - get it now <https://qfield.org/get> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220405/6ee1f298/attachment-0001.html>

From lior at kaplanopensource.co.il  Tue Apr  5 07:08:41 2022
From: lior at kaplanopensource.co.il (Lior Kaplan)
Date: Tue, 5 Apr 2022 17:08:41 +0300
Subject: [QGIS-Developer] File extension for GeoPackage with QGIS
 projects
In-Reply-To: <CAF288x4snPg=YLxC0b=y9_L27=QPRJ4HbtMt_=-1gwM+Nij0Ag@mail.gmail.com>
References: <CAF288x6UozXm9CeyvTWRXQK+BdfYEvVchNBwRA3fSb4WnhvizA@mail.gmail.com>
 <CAB28AshSFJ1uEyscCT2W1TW+3qtnCyK3Bk1mEG35tnrCnUrPag@mail.gmail.com>
 <CAF288x4snPg=YLxC0b=y9_L27=QPRJ4HbtMt_=-1gwM+Nij0Ag@mail.gmail.com>
Message-ID: <CAF288x7A9TgAr0=4wATL8Msz-PGGxGxwkJBAMDLdnibvv725nw@mail.gmail.com>

On Mon, Apr 4, 2022 at 5:39 PM Lior Kaplan <lior at kaplanopensource.co.il>
wrote:

> On Mon, Aug 30, 2021 at 6:52 AM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>
>> Hey Lior!
>>
>> On Thu, 26 Aug 2021 at 21:02, Lior Kaplan <lior at kaplanopensource.co.il>
>> wrote:
>> > Along the current feature requests to notify the user that the GPKG
>> also has a project layer and ask if he wants to open it?
>> > https://github.com/qgis/QGIS/issues/30538
>> > https://github.com/qgis/QGIS/issues/40252
>> >
>>
>> Can you test with current master/nightly versions? These issues should
>> all be fixed now, and you'll get prompted to open projects when
>> dragging & dropping a GPKG.
>>
>
> This works great with 3.22 for drag & drop ( thanks (: )
>
> Can we make it also work when opening a file directly from the OS
> (e.g. double clicking on the file in the folder).
>
> Expected result would be to get the same pop up menu as in drag & drop,
> while today it just loads the tables, including the "TestProject ?
> qgis_projects"
> table.
>

Another option that would be nice is to have
qgis --project <gpkg> to work.

I'll be happy for feedback before opening the issues / feature requests.

Thanks,
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220405/13040f5f/attachment.html>

From adenaculture at gmail.com  Tue Apr  5 07:46:26 2022
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 5 Apr 2022 10:46:26 -0400
Subject: [QGIS-Developer] New QGIS Plugin Proposal - QGIS utilities
Message-ID: <CABPxTTojQ+Fd31efOR3m4xt+2TazPT9j9-iRJLf=jR-DnGN=bw@mail.gmail.com>

We have developed a few algorithms to work with multiple layers and I am
thinking of putting them into one plugin so I want to check with the
community to make sure these are not already being planned for the core
QGIS. Some of these include the ability to apply a filter or style on all
selected layers as well as the ability to set a random and graduated style
from a processing algorithm. Here is what I currently have.


   1. Apply a filter to all selected layers and groups of layers.
   2. Apply a style either as a .qml file or the contents on the clipboard
   to all selected layers and groups of layers.
   3. Processing toolbox algorithm to set the style to random using some
   named attribute. Of course this may give spurious results if you have
   different layer types selected, but it is for the user to select the
   correct layers to apply the style to.
   4. Processing toolbox algorithm to apply a graduated heatmap type style
   to a layer.
   5. Non processing algorithm to use a random style for all selected
   layers and selected groups. Correct me if I am wrong, but I don't see a way
   to interface with iface in a processing algorithm so I don't see a way to
   iterate through selected layers with a processing algorithm. Is that
   correct?
   6. Non processing algorithm to apply a graduated heatmap style to all
   selected layers and selected groups.

Roland recently asked for the ability to change opacity and stroke style to
all selected layers. This could also be added. As there becomes other
needed utilities I would add them.

Most of this I already have in a personal plugin so I would just polish it
up a bit. What are your thoughts and any suggestions for a plugin name?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220405/7d33a62c/attachment.html>

From aron.gergely at rasterra.nl  Tue Apr  5 10:28:09 2022
From: aron.gergely at rasterra.nl (Aron Gergely)
Date: Tue, 5 Apr 2022 19:28:09 +0200
Subject: [QGIS-Developer] Plugin dependency with binaries: 'best' way to
 guide user to install?
In-Reply-To: <17fe5059408.23b5bb1f5402.6947602649214067570@margo.co>
References: <mailman.23.1648753202.516.qgis-developer@lists.osgeo.org>
 <17fe5059408.23b5bb1f5402.6947602649214067570@margo.co>
Message-ID: <6a5c5e48-3a66-e71a-7fe7-c0f39a5ba760@rasterra.nl>

Thank you, I checked out your plugin - yes that seems also a good way.
I already had the logic to detect, throw message, guide to dialog, 
etc... implemented similar to yours.

But I wanted to let pip manage the actual package, so I went with the 
subprocess+pip route. Here is a minimum working example:

import subprocess
import sys


try:
     subprocess.check_call((sys.executable, '-m', 'pip', 'install', 'h3<=3.99'))
except subprocess.CalledProcessErroras e:
     raise e# handle any errors here instead

I connected it to a button in a dialog. And catch stdout, stderr and the 
exit code of the subprocess so I can show the user what is happening.

Have not yet tried on other platforms than Linux. But sys.executable is 
there to solve the ambiguity of python executable path.


Best regards,
Aron


On 01-04-2022 14:07, Pedro Camargo via QGIS-Developer wrote:
> Take a look at how it is done in the AequilibraE plugin.
>
> I basically ship the plugin without the binaries and create a menu 
> item where the user can choose to download the binaries.
>
> Once downloaded, restarting the plugin allows it to identify the 
> binaries and deactivate that menu item.
>
> Cheers,
> Pedro
>
> ---- On Fri, 01 Apr 2022 05:00:02 +1000 
> *qgis-developer-request at lists.osgeo.org * wrote ----
>
>     Send QGIS-Developer mailing list submissions to
>     qgis-developer at lists.osgeo.org
>
>     To subscribe or unsubscribe via the World Wide Web, visit
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     or, via email, send a message with subject or body 'help' to
>     qgis-developer-request at lists.osgeo.org
>
>     You can reach the person managing the list at
>     qgis-developer-owner at lists.osgeo.org
>
>     When replying, please edit your Subject line so it is more specific
>     than "Re: Contents of QGIS-Developer digest..."
>
>
>     Today's Topics:
>
>     1. Plugin dependency with binaries: 'best' way to guide user to
>     install? (Aron Gergely)
>     2. Unexpected results from GPKG table query using executeSql()
>     (Raymond Nijssen)
>     3. Re: Unexpected results from GPKG table query using
>     executeSql() (Alessandro Pasotti)
>     4. Re: Unexpected results from GPKG table query using
>     executeSql() (Raymond Nijssen)
>
>
>     ----------------------------------------------------------------------
>
>
>     Message: 1
>     Date: Thu, 31 Mar 2022 14:09:21 +0200
>     From: Aron Gergely <aron.gergely at rasterra.nl>
>     To: qgis-dev <qgis-developer at lists.osgeo.org>
>     Subject: [QGIS-Developer] Plugin dependency with binaries: 'best' way
>     ????to guide user to install?
>     Message-ID: <5e3173ec-7b7e-64da-47d1-79d39edc1c10 at rasterra.nl>
>     Content-Type: text/plain; charset=UTF-8; format=flowed
>
>     Hi All,
>
>     What would be a good practice to handle 3rd party libs which can't be
>     shipped together with a plugin?
>     I am looking for the most user-friendly way and have an idea.
>     But thought I would bounce it off the collective wisdom here and
>     see if
>     there are other/better ways.
>
>     If we find a 'best' method I could PR an update to the QGIS docs or
>     PyQGIS cookbook, etc to preserve that knowledge.
>
>     Bit of context:
>     I have a plugin that uses a 3rd party python library which has
>     binaries.
>     I would like to submit this plugin to the official plugin repository.
>     According to https://plugins.qgis.org/publish/ it's not allowed to
>     ship
>     binaries it with the plugin.
>     In such case the above webpage recommends telling the end user to run
>     "pip.main(...)" from the python console to install missing libraries.
>
>     I thought that's not user friendly and it's a pip hack (pip.main() is
>     meant to be internal).
>     Also, I want to handle the missing python module in my plugin
>     gracefully: check on plugin load if missing, if so, guide user to
>     resolve, preferably without having them write or copy any commands.
>
>     The idea:
>     Using python's subprocess module from within the plugin to call
>     the pip
>     CLI, which would install the package the usual pip way. Here's why:
>     - pip project recommends this way as best practice, warns against the
>     pip.main()
>     - user would not need to write or copy-paste commands
>     - could make this user friendly: wire it in the plugin code to a push
>     button and build it into a dialog e.g.;? if lib is missing on
>     plugin load,
>     ? show a QMessageBox and let user open a dialog to resolve. In that
>     dialog would be the push button to trigger the pip install via
>     subprocess.
>
>     How would this play out multi-platform via subprocess, I have no
>     idea of
>     yet - thought if the idea survived this thread, I'd go find out ;)
>
>     Do you think this subprocess + pip is a good idea?
>     Would it be allowed for plugins in the official repository to
>     behave as
>     such?
>     Anyone has other user-friendly ways of doing this?
>
>     Best regards,
>     Aron
>
>
>
>     ------------------------------
>
>     Message: 2
>     Date: Thu, 31 Mar 2022 18:09:25 +0200
>     From: Raymond Nijssen <r.nijssen at terglobo.nl>
>     To: qgis-developer <qgis-developer at lists.osgeo.org>
>     Subject: [QGIS-Developer] Unexpected results from GPKG table query
>     ????using executeSql()
>     Message-ID: <bba11f52-a64a-6502-fbce-dbc986ba9391 at terglobo.nl>
>     Content-Type: text/plain; charset=UTF-8; format=flowed
>
>     Hi devs,
>
>     I'm working on a plugin that connects to a custom table (without
>     geometry) in a GPKG. When I'm sending queries to it, I keep on
>     getting
>     unexpected results. Somehow the id field is missing, sometimes it
>     appears twice (!). And this seems to be different between QGIS
>     3.10 and
>     3.25. (I think it changed since 3.22).
>
>     Here is a piece of my code:
>
>
>     fn = '/path/to/test.gpkg'
>     md = QgsProviderRegistry.instance().providerMetadata('ogr')
>     conn = md.createConnection(fn, {})
>
>     q = 'select * from test_table;'
>     qr = conn.executeSql(q)
>     print(qr) # No id field in result
>
>
>
>     Before diving into the QGIS code I'd like to check if this is the
>     way to
>     go. Or should i use another way to query that GPKG (SQLite) db?
>
>
>     Kind regards,
>     Raymond
>
>
>     ------------------------------
>
>     Message: 3
>     Date: Thu, 31 Mar 2022 18:15:00 +0200
>     From: Alessandro Pasotti <apasotti at gmail.com>
>     To: Raymond Nijssen <r.nijssen at terglobo.nl>
>     Cc: qgis-developer <qgis-developer at lists.osgeo.org>
>     Subject: Re: [QGIS-Developer] Unexpected results from GPKG table
>     query
>     ????using executeSql()
>     Message-ID:
>     ????<CAL5Q670rrD--ZvEVDTtCWEqU1vZgUe7Nh+e58MLMDMQNPF9h1w at mail.gmail.com>
>
>     Content-Type: text/plain; charset="utf-8"
>
>     Hi Raymond,
>
>     your code looks good.
>
>     Can you provide a test file?
>
>     There are some test in core here:
>     https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py
>
>
>
>     On Thu, Mar 31, 2022 at 6:09 PM Raymond Nijssen via QGIS-Developer <
>     qgis-developer at lists.osgeo.org> wrote:
>
>     > Hi devs,
>     >
>     > I'm working on a plugin that connects to a custom table (without
>     > geometry) in a GPKG. When I'm sending queries to it, I keep on
>     getting
>     > unexpected results. Somehow the id field is missing, sometimes it
>     > appears twice (!). And this seems to be different between QGIS
>     3.10 and
>     > 3.25. (I think it changed since 3.22).
>     >
>     > Here is a piece of my code:
>     >
>     >
>     > fn = '/path/to/test.gpkg'
>     > md = QgsProviderRegistry.instance().providerMetadata('ogr')
>     > conn = md.createConnection(fn, {})
>     >
>     > q = 'select * from test_table;'
>     > qr = conn.executeSql(q)
>     > print(qr) # No id field in result
>     >
>     >
>     >
>     > Before diving into the QGIS code I'd like to check if this is
>     the way to
>     > go. Or should i use another way to query that GPKG (SQLite) db?
>     >
>     >
>     > Kind regards,
>     > Raymond
>     > _______________________________________________
>     > QGIS-Developer mailing list
>     > QGIS-Developer at lists.osgeo.org
>     > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >
>
>
>     -- 
>     Alessandro Pasotti
>     QCooperative: www.qcooperative.net
>     ItOpen: www.itopen.it
>     -------------- next part --------------
>     An HTML attachment was scrubbed...
>     URL:
>     <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220331/ad1ec7b7/attachment-0001.html>
>
>
>     ------------------------------
>
>     Message: 4
>     Date: Thu, 31 Mar 2022 18:52:48 +0200
>     From: Raymond Nijssen <r.nijssen at terglobo.nl>
>     To: Alessandro Pasotti <apasotti at gmail.com>
>     Cc: qgis-developer <qgis-developer at lists.osgeo.org>
>     Subject: Re: [QGIS-Developer] Unexpected results from GPKG table
>     query
>     ????using executeSql()
>     Message-ID: <87330c53-a8a5-6e07-dd6e-006fcdd7710f at terglobo.nl>
>     Content-Type: text/plain; charset=UTF-8; format=flowed
>
>     Hi Alessandro,
>
>     Thanks for your reply. Will share data and a test script with you
>     privately.
>
>     Raymond
>
>
>     On 31-03-2022 18:15, Alessandro Pasotti wrote:
>     > Hi Raymond,
>     >
>     > your code looks good.
>     >
>     > Can you provide a test file?
>     >
>     > There are some test in core here:
>     >
>     https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py
>
>     >
>     <https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py>
>
>     >
>     >
>     > On Thu, Mar 31, 2022 at 6:09 PM Raymond Nijssen via QGIS-Developer
>     > <qgis-developer at lists.osgeo.org
>     <mailto:qgis-developer at lists.osgeo.org>>
>     > wrote:
>     >
>     > Hi devs,
>     >
>     > I'm working on a plugin that connects to a custom table (without
>     > geometry) in a GPKG. When I'm sending queries to it, I keep on
>     getting
>     > unexpected results. Somehow the id field is missing, sometimes it
>     > appears twice (!). And this seems to be different between QGIS
>     3.10 and
>     > 3.25. (I think it changed since 3.22).
>     >
>     > Here is a piece of my code:
>     >
>     >
>     > fn = '/path/to/test.gpkg'
>     > md = QgsProviderRegistry.instance().providerMetadata('ogr')
>     > conn = md.createConnection(fn, {})
>     >
>     > q = 'select * from test_table;'
>     > qr = conn.executeSql(q)
>     > print(qr) # No id field in result
>     >
>     >
>     >
>     > Before diving into the QGIS code I'd like to check if this is the
>     > way to
>     > go. Or should i use another way to query that GPKG (SQLite) db?
>     >
>     >
>     > Kind regards,
>     > Raymond
>     > _______________________________________________
>     > QGIS-Developer mailing list
>     > QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>     > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     > Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     >
>     >
>     >
>     > --
>     > Alessandro Pasotti
>     > QCooperative: www.qcooperative.net <https://www.qcooperative.net>
>     > ItOpen: www.itopen.it <http://www.itopen.it>
>
>
>     ------------------------------
>
>     Subject: Digest Footer
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>     ------------------------------
>
>     End of QGIS-Developer Digest, Vol 197, Issue 39
>     ***********************************************
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
-- 
Email Signature Kind Regards,

Aron Gergely
+31 (0) 6 38 70 97 66

*Rasterra* | www.rasterra.nl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220405/6654bc41/attachment-0001.html>

From andreaerdna at libero.it  Tue Apr  5 14:51:53 2022
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Tue, 5 Apr 2022 23:51:53 +0200
Subject: [QGIS-Developer] [Qgis-psc] Welcome new QGIS community voting
 member
In-Reply-To: <CAB2ZMRDNzYRsR-aHCv_zpVZDCQBvuAhno4Q=4+WHzC9bGTc3FA@mail.gmail.com>
References: <CAB2ZMRDNzYRsR-aHCv_zpVZDCQBvuAhno4Q=4+WHzC9bGTc3FA@mail.gmail.com>
Message-ID: <4dbdf960-a564-af84-77ec-6656d2e89c77@libero.it>

Dear Marco, and community,
I am very honoured to be a community voting member!

Thank you to all of you!

Best regards.

Andrea Giudiceandrea

> *Marco Bernasocchi*marco at qgis.org 
> <mailto:qgis-psc%40lists.osgeo.org?Subject=Re%3A%20%5BQgis-psc%5D%20Welcome%20new%20QGIS%20community%20voting%20member&In-Reply-To=%3CCAB2ZMRDNzYRsR-aHCv_zpVZDCQBvuAhno4Q%3D4%2BWHzC9bGTc3FA%40mail.gmail.com%3E>
> /Mon Apr 4 02:25:20 PDT 2022/
> ------------------------------------------------------------------------
> Dear community,
> It is with great pleasure that we'd like to welcome Andrea Giudiceandrea to
> the community voting members!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220405/2c10107d/attachment.html>

From c at margo.co  Tue Apr  5 15:10:07 2022
From: c at margo.co (Pedro Camargo)
Date: Wed, 06 Apr 2022 08:10:07 +1000
Subject: [QGIS-Developer] Plugin dependency with binaries: 'best' way to
 guide user to install?
In-Reply-To: <6a5c5e48-3a66-e71a-7fe7-c0f39a5ba760@rasterra.nl>
References: <mailman.23.1648753202.516.qgis-developer@lists.osgeo.org>
 <17fe5059408.23b5bb1f5402.6947602649214067570@margo.co>
 <6a5c5e48-3a66-e71a-7fe7-c0f39a5ba760@rasterra.nl>
Message-ID: <17ffbc72799.86c43b9f23292.7962298494395626212@margo.co>

Hey Aron,

? ? ? ? ? ? ? ? ? ?I did explore that route, but I found out that it would fail when the user did not have administrator rights (or even if QGIS had not been ran as administrator on Windows).? Did you find it to be different?



Cheers,

Pedro







---- On Wed, 06 Apr 2022 03:28:09 +1000 Aron Gergely <aron.gergely at rasterra.nl> wrote ----



Thank you, I checked out your plugin - yes that seems also a good
      way.
 I already had the logic to detect, throw message, guide to dialog,
      etc... implemented similar to yours.
 
 But I wanted to let pip manage the actual package, so I went with
      the subprocess+pip route. Here is a minimum working example:

import subprocess
import sys


try:
    subprocess.check_call((sys.executable, '-m', 'pip', 'install', 'h3<=3.99'))
except subprocess.CalledProcessError as e:
    raise e  # handle any errors here instead


I connected it to a button in a dialog. And catch stdout, stderr
      and the exit code of the subprocess so I can show the user what is
      happening.
 
 Have not yet tried on other platforms than Linux. But
      sys.executable is there to solve the ambiguity of python
      executable path.
 
 
 Best regards,
 Aron
 
 

On 01-04-2022 14:07, Pedro Camargo via
      QGIS-Developer wrote:

Take
        a look at how it is done in the AequilibraE plugin.
 
 I basically ship the plugin without the binaries and create a
        menu item where the user can choose to download the binaries.
 
 Once downloaded, restarting the plugin allows it to identify the
        binaries and deactivate that menu item. 
 
 Cheers,
 Pedro 
 
---- On Fri, 01 Apr 2022 05:00:02 +1000 mailto:qgis-developer-request at lists.osgeo.org  wrote ----
 
 Send QGIS-Developer mailing list submissions to 
 ????mailto:qgis-developer at lists.osgeo.org 
 
 To subscribe or unsubscribe via the World Wide Web, visit 
 ????https://lists.osgeo.org/mailman/listinfo/qgis-developer 
 or, via email, send a message with subject or body 'help'
              to 
 ????mailto:qgis-developer-request at lists.osgeo.org 
 
 You can reach the person managing the list at 
 ????mailto:qgis-developer-owner at lists.osgeo.org 
 
 When replying, please edit your Subject line so it is more
              specific 
 than "Re: Contents of QGIS-Developer digest..." 
 
 
 Today's Topics: 
 
 1. Plugin dependency with binaries: 'best' way to guide
              user to 
 install? (Aron Gergely) 
 2. Unexpected results from GPKG table query using
              executeSql() 
 (Raymond Nijssen) 
 3. Re: Unexpected results from GPKG table query using 
 executeSql() (Alessandro Pasotti) 
 4. Re: Unexpected results from GPKG table query using 
 executeSql() (Raymond Nijssen) 
 
 
 ---------------------------------------------------------------------- 
 
 Message: 1 
 Date: Thu, 31 Mar 2022 14:09:21 +0200 
 From: Aron Gergely <mailto:aron.gergely at rasterra.nl> 
 To: qgis-dev <mailto:qgis-developer at lists.osgeo.org> 
 Subject: [QGIS-Developer] Plugin dependency with binaries:
              'best' way 
 ????to guide user to install? 
 Message-ID: <5e3173ec> 
 Content-Type: text/plain; charset=UTF-8; format=flowed 
 
 Hi All, 
 
 What would be a good practice to handle 3rd party libs
              which can't be 
 shipped together with a plugin? 
 I am looking for the most user-friendly way and have an
              idea. 
 But thought I would bounce it off the collective wisdom
              here and see if 
 there are other/better ways. 
 
 If we find a 'best' method I could PR an update to the
              QGIS docs or 
 PyQGIS cookbook, etc to preserve that knowledge. 
 
 Bit of context: 
 I have a plugin that uses a 3rd party python library which
              has binaries. 
 I would like to submit this plugin to the official plugin
              repository. 
 According to https://plugins.qgis.org/publish/ it's not allowed to ship 
 binaries it with the plugin. 
 In such case the above webpage recommends telling the end
              user to run 
 "pip.main(...)" from the python console to install missing
              libraries. 
 
 I thought that's not user friendly and it's a pip hack
              (pip.main() is 
 meant to be internal). 
 Also, I want to handle the missing python module in my
              plugin 
 gracefully: check on plugin load if missing, if so, guide
              user to 
 resolve, preferably without having them write or copy any
              commands. 
 
 The idea: 
 Using python's subprocess module from within the plugin to
              call the pip 
 CLI, which would install the package the usual pip way.
              Here's why: 
 - pip project recommends this way as best practice, warns
              against the 
 pip.main() 
 - user would not need to write or copy-paste commands 
 - could make this user friendly: wire it in the plugin
              code to a push 
 button and build it into a dialog e.g.;? if lib is missing
              on plugin load, 
 ? show a QMessageBox and let user open a dialog to
              resolve. In that 
 dialog would be the push button to trigger the pip install
              via subprocess. 
 
 How would this play out multi-platform via subprocess, I
              have no idea of 
 yet - thought if the idea survived this thread, I'd go
              find out ;) 
 
 Do you think this subprocess + pip is a good idea? 
 Would it be allowed for plugins in the official repository
              to behave as 
 such? 
 Anyone has other user-friendly ways of doing this? 
 
 Best regards, 
 Aron 
 
 
 
 ------------------------------ 
 
 Message: 2 
 Date: Thu, 31 Mar 2022 18:09:25 +0200 
 From: Raymond Nijssen <mailto:r.nijssen at terglobo.nl> 
 To: qgis-developer <mailto:qgis-developer at lists.osgeo.org> 
 Subject: [QGIS-Developer] Unexpected results from GPKG
              table query 
 ????using executeSql() 
 Message-ID: <bba11f52> 
 Content-Type: text/plain; charset=UTF-8; format=flowed 
 
 Hi devs, 
 
 I'm working on a plugin that connects to a custom table
              (without 
 geometry) in a GPKG. When I'm sending queries to it, I
              keep on getting 
 unexpected results. Somehow the id field is missing,
              sometimes it 
 appears twice (!). And this seems to be different between
              QGIS 3.10 and 
 3.25. (I think it changed since 3.22). 
 
 Here is a piece of my code: 
 
 
 fn = '/path/to/test.gpkg' 
 md =
              QgsProviderRegistry.instance().providerMetadata('ogr') 
 conn = md.createConnection(fn, {}) 
 
 q = 'select * from test_table;' 
 qr = conn.executeSql(q) 
 print(qr) # No id field in result 
 
 
 
 Before diving into the QGIS code I'd like to check if this
              is the way to 
 go. Or should i use another way to query that GPKG
              (SQLite) db? 
 
 
 Kind regards, 
 Raymond 
 
 
 ------------------------------ 
 
 Message: 3 
 Date: Thu, 31 Mar 2022 18:15:00 +0200 
 From: Alessandro Pasotti <mailto:apasotti at gmail.com> 
 To: Raymond Nijssen <mailto:r.nijssen at terglobo.nl> 
 Cc: qgis-developer <mailto:qgis-developer at lists.osgeo.org> 
 Subject: Re: [QGIS-Developer] Unexpected results from GPKG
              table query 
 ????using executeSql() 
 Message-ID: 
 ????<CAL5Q670rrD--ZvEVDTtCWEqU1vZgUe7Nh> 
 Content-Type: text/plain; charset="utf-8" 
 
 Hi Raymond, 
 
 your code looks good. 
 
 Can you provide a test file? 
 
 There are some test in core here: 
 https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py 
 
 
 On Thu, Mar 31, 2022 at 6:09 PM Raymond Nijssen via
              QGIS-Developer < 
 mailto:qgis-developer at lists.osgeo.org>
              wrote: 
 
 > Hi devs, 
 > 
 > I'm working on a plugin that connects to a custom
              table (without 
 > geometry) in a GPKG. When I'm sending queries to it,
              I keep on getting 
 > unexpected results. Somehow the id field is missing,
              sometimes it 
 > appears twice (!). And this seems to be different
              between QGIS 3.10 and 
 > 3.25. (I think it changed since 3.22). 
 > 
 > Here is a piece of my code: 
 > 
 > 
 > fn = '/path/to/test.gpkg' 
 > md =
              QgsProviderRegistry.instance().providerMetadata('ogr') 
 > conn = md.createConnection(fn, {}) 
 > 
 > q = 'select * from test_table;' 
 > qr = conn.executeSql(q) 
 > print(qr) # No id field in result 
 > 
 > 
 > 
 > Before diving into the QGIS code I'd like to check if
              this is the way to 
 > go. Or should i use another way to query that GPKG
              (SQLite) db? 
 > 
 > 
 > Kind regards, 
 > Raymond 
 > _______________________________________________ 
 > QGIS-Developer mailing list 
 > mailto:QGIS-Developer at lists.osgeo.org 
 > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
 > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
 > 
 
 
 -- 
 Alessandro Pasotti 
 QCooperative: http://www.qcooperative.net 
 ItOpen: http://www.itopen.it 
 -------------- next part -------------- 
 An HTML attachment was scrubbed... 
 URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220331/ad1ec7b7/attachment-0001.html> 
 
 ------------------------------ 
 
 Message: 4 
 Date: Thu, 31 Mar 2022 18:52:48 +0200 
 From: Raymond Nijssen <mailto:r.nijssen at terglobo.nl> 
 To: Alessandro Pasotti <mailto:apasotti at gmail.com> 
 Cc: qgis-developer <mailto:qgis-developer at lists.osgeo.org> 
 Subject: Re: [QGIS-Developer] Unexpected results from GPKG
              table query 
 ????using executeSql() 
 Message-ID: <87330c53> 
 Content-Type: text/plain; charset=UTF-8; format=flowed 
 
 Hi Alessandro, 
 
 Thanks for your reply. Will share data and a test script
              with you privately. 
 
 Raymond 
 
 
 On 31-03-2022 18:15, Alessandro Pasotti wrote: 
 > Hi Raymond, 
 > 
 > your code looks good. 
 > 
 > Can you provide a test file? 
 > 
 > There are some test in core here: 
 > https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py 
 > <https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py> 
 > 
 > 
 > On Thu, Mar 31, 2022 at 6:09 PM Raymond Nijssen via
              QGIS-Developer 
 > <mailto:qgis-developer at lists.osgeo.org <mailto:mailto:qgis-developer at lists.osgeo.org>> 
 > wrote: 
 > 
 > Hi devs, 
 > 
 > I'm working on a plugin that connects to a custom
              table (without 
 > geometry) in a GPKG. When I'm sending queries to it,
              I keep on getting 
 > unexpected results. Somehow the id field is missing,
              sometimes it 
 > appears twice (!). And this seems to be different
              between QGIS 3.10 and 
 > 3.25. (I think it changed since 3.22). 
 > 
 > Here is a piece of my code: 
 > 
 > 
 > fn = '/path/to/test.gpkg' 
 > md =
              QgsProviderRegistry.instance().providerMetadata('ogr') 
 > conn = md.createConnection(fn, {}) 
 > 
 > q = 'select * from test_table;' 
 > qr = conn.executeSql(q) 
 > print(qr) # No id field in result 
 > 
 > 
 > 
 > Before diving into the QGIS code I'd like to check if
              this is the 
 > way to 
 > go. Or should i use another way to query that GPKG
              (SQLite) db? 
 > 
 > 
 > Kind regards, 
 > Raymond 
 > _______________________________________________ 
 > QGIS-Developer mailing list 
 > mailto:QGIS-Developer at lists.osgeo.org <mailto:mailto:QGIS-Developer at lists.osgeo.org> 
 > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
 > <https://lists.osgeo.org/mailman/listinfo/qgis-developer> 
 > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
 > <https://lists.osgeo.org/mailman/listinfo/qgis-developer> 
 > 
 > 
 > 
 > -- 
 > Alessandro Pasotti 
 > QCooperative: http://www.qcooperative.net <https://www.qcooperative.net> 
 > ItOpen: http://www.itopen.it <http://www.itopen.it> 
 
 
 ------------------------------ 
 
 Subject: Digest Footer 
 
 _______________________________________________ 
 QGIS-Developer mailing list 
 mailto:QGIS-Developer at lists.osgeo.org 
 List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
 Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
 
 
 ------------------------------ 
 
 End of QGIS-Developer Digest, Vol 197, Issue 39 
 *********************************************** 






_______________________________________________
QGIS-Developer mailing list
mailto:QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
 Kind Regards,
 
 Aron Gergely
 +31 (0) 6 38 70 97 66
 
 Rasterra | http://www.rasterra.nl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220406/f59c1402/attachment-0001.html>

From apasotti at gmail.com  Wed Apr  6 01:14:10 2022
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 6 Apr 2022 10:14:10 +0200
Subject: [QGIS-Developer] Unexpected results from GPKG table query using
 executeSql()
In-Reply-To: <721efa78-e158-f7ce-f772-136878493e76@terglobo.nl>
References: <bba11f52-a64a-6502-fbce-dbc986ba9391@terglobo.nl>
 <CAL5Q670rrD--ZvEVDTtCWEqU1vZgUe7Nh+e58MLMDMQNPF9h1w@mail.gmail.com>
 <721efa78-e158-f7ce-f772-136878493e76@terglobo.nl>
Message-ID: <CAL5Q673f_C630uxW6rgj5RZqdnqjPVEx_kZFiVMbZAhS74T=Wg@mail.gmail.com>

Hi Raymond,

I tested your samples and I cannot reproduce the issue on QGIS master and
GDAL 3.4.

Here is the result of my query on your test file:

In [13]: md = QgsProviderRegistry.instance().providerMetadata('ogr')
    ...: conn =
md.createConnection('/home/xxxxx/Scaricati/soilext_db.gpkg', {})
    ...:
    ...: # Would expect this to return 4 columns: edit_id, timestamp, name,
can_undo
    ...: q = 'SELECT * FROM soilexc_edits ORDER BY edit_id'
    ...: qr = conn.executeSql(q)
    ...:
    ...:
    ...: # This does not return the edit_id field (Which is the PK)
    ...: for rec in qr:
    ...:     print(rec)
    ...: '''
    ...: [PyQt5.QtCore.QDateTime(2022, 3, 1, 0, 0), '', True]
    ...: [PyQt5.QtCore.QDateTime(2022, 3, 2, 0, 0), '', True]
    ...: [PyQt5.QtCore.QDateTime(2022, 3, 3, 0, 0), '', True]
    ...: '''
[1, PyQt5.QtCore.QDateTime(2022, 3, 1, 0, 0), '', True]
[2, PyQt5.QtCore.QDateTime(2022, 3, 2, 0, 0), '', True]
[3, PyQt5.QtCore.QDateTime(2022, 3, 3, 0, 0), '', True]
[4, PyQt5.QtCore.QDateTime(2022, 3, 30, 0, 0), 'purge', False]
[5, PyQt5.QtCore.QDateTime(2022, 3, 31, 0, 0), 'test_new', True]
[6, PyQt5.QtCore.QDateTime(2022, 3, 31, 0, 0), 'test_new', True]
[7, PyQt5.QtCore.QDateTime(2022, 3, 31, 0, 0), 'test_new', True]
[8, PyQt5.QtCore.QDateTime(2022, 3, 31, 0, 0), 'test_new', True]

the edit_id is actually in the results.

Cheers


On Fri, Apr 1, 2022 at 8:28 AM Raymond Nijssen <r.nijssen at terglobo.nl>
wrote:

> For a workaround I found that selecting this way:
>
> SELECT
>    edit_id + 0 AS edit_id,
>    timestamp,
>    name
> FROM
>    ...
>
> The +0 seem to makes QGIS (or GDAL?) unaware of edit_id being the PK
> field and it does return it. Works both in 3.10 and 3.25.
>
> Raymond
>
>
>
> On 31-03-2022 18:15, Alessandro Pasotti wrote:
> > Hi Raymond,
> >
> > your code looks good.
> >
> > Can you provide a test file?
> >
> > There are some test in core here:
> >
> https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py
> > <
> https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py
> >
> >
> >
> > On Thu, Mar 31, 2022 at 6:09 PM Raymond Nijssen via QGIS-Developer
> > <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>>
>
> > wrote:
> >
> >     Hi devs,
> >
> >     I'm working on a plugin that connects to a custom table (without
> >     geometry) in a GPKG. When I'm sending queries to it, I keep on
> getting
> >     unexpected results. Somehow the id field is missing, sometimes it
> >     appears twice (!). And this seems to be different between QGIS 3.10
> and
> >     3.25. (I think it changed since 3.22).
> >
> >     Here is a piece of my code:
> >
> >
> >     fn = '/path/to/test.gpkg'
> >     md = QgsProviderRegistry.instance().providerMetadata('ogr')
> >     conn = md.createConnection(fn, {})
> >
> >     q = 'select * from test_table;'
> >     qr = conn.executeSql(q)
> >     print(qr) # No id field in result
> >
> >
> >
> >     Before diving into the QGIS code I'd like to check if this is the
> >     way to
> >     go. Or should i use another way to query that GPKG (SQLite) db?
> >
> >
> >     Kind regards,
> >     Raymond
> >     _______________________________________________
> >     QGIS-Developer mailing list
> >     QGIS-Developer at lists.osgeo.org <mailto:
> QGIS-Developer at lists.osgeo.org>
> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >
> >
> >
> > --
> > Alessandro Pasotti
> > QCooperative: www.qcooperative.net <https://www.qcooperative.net>
> > ItOpen: www.itopen.it <http://www.itopen.it>
>


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220406/822c2d1b/attachment.html>

From r.nijssen at terglobo.nl  Wed Apr  6 02:06:43 2022
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Wed, 6 Apr 2022 11:06:43 +0200
Subject: [QGIS-Developer] Unexpected results from GPKG table query using
 executeSql()
In-Reply-To: <CAL5Q673f_C630uxW6rgj5RZqdnqjPVEx_kZFiVMbZAhS74T=Wg@mail.gmail.com>
References: <bba11f52-a64a-6502-fbce-dbc986ba9391@terglobo.nl>
 <CAL5Q670rrD--ZvEVDTtCWEqU1vZgUe7Nh+e58MLMDMQNPF9h1w@mail.gmail.com>
 <721efa78-e158-f7ce-f772-136878493e76@terglobo.nl>
 <CAL5Q673f_C630uxW6rgj5RZqdnqjPVEx_kZFiVMbZAhS74T=Wg@mail.gmail.com>
Message-ID: <d7400e3d-5f96-0a8f-5f02-76a374ce0f83@terglobo.nl>

Hi Alessandro,

Thanks for looking into this!
My QGIS-master + GDAL 3.0.4 returns the same result for that query.


But in QGIS-master, when I try:

q = 'SELECT *, edit_id FROM soilexc_edits ORDER BY edit_id'

I get:
[0, 1, PyQt5.QtCore.QDateTime(2022, 3, 1, 0, 0), 'test1', True]
[1, 2, PyQt5.QtCore.QDateTime(2022, 3, 2, 0, 0), 'test2', True]
[2, 3, PyQt5.QtCore.QDateTime(2022, 3, 3, 0, 0), 'test3', True]

I would expect:
[0, PyQt5.QtCore.QDateTime(2022, 3, 1, 0, 0), 'test1', True, 0]



The point is I'm building a plugin that should work in multiple QGIS 
versions (from 3.10), so I'm trying to write queries that will work for 
any version and that seems very hard.

For now the edit_id+0 workaround does the trick.

BTW, Another thing I bumped into is the QDateTime in the result always 
having the time 00:00. Is that some known limitation?

Kind regards,
Raymond


On 06-04-2022 10:14, Alessandro Pasotti wrote:
> Hi Raymond,
> 
> I tested your samples and I cannot reproduce the issue on QGIS master 
> and GDAL 3.4.
> 
> Here is the result of my query on your test file:
> 
> In [13]: md = QgsProviderRegistry.instance().providerMetadata('ogr')
>  ? ? ...: conn = 
> md.createConnection('/home/xxxxx/Scaricati/soilext_db.gpkg', {})
>  ? ? ...:
>  ? ? ...: # Would expect this to return 4 columns: edit_id, timestamp, 
> name, can_undo
>  ? ? ...: q = 'SELECT * FROM soilexc_edits ORDER BY edit_id'
>  ? ? ...: qr = conn.executeSql(q)
>  ? ? ...:
>  ? ? ...:
>  ? ? ...: # This does not return the edit_id field (Which is the PK)
>  ? ? ...: for rec in qr:
>  ? ? ...: ? ? print(rec)
>  ? ? ...: '''
>  ? ? ...: [PyQt5.QtCore.QDateTime(2022, 3, 1, 0, 0), '', True]
>  ? ? ...: [PyQt5.QtCore.QDateTime(2022, 3, 2, 0, 0), '', True]
>  ? ? ...: [PyQt5.QtCore.QDateTime(2022, 3, 3, 0, 0), '', True]
>  ? ? ...: '''
> [1, PyQt5.QtCore.QDateTime(2022, 3, 1, 0, 0), '', True]
> [2, PyQt5.QtCore.QDateTime(2022, 3, 2, 0, 0), '', True]
> [3, PyQt5.QtCore.QDateTime(2022, 3, 3, 0, 0), '', True]
> [4, PyQt5.QtCore.QDateTime(2022, 3, 30, 0, 0), 'purge', False]
> [5, PyQt5.QtCore.QDateTime(2022, 3, 31, 0, 0), 'test_new', True]
> [6, PyQt5.QtCore.QDateTime(2022, 3, 31, 0, 0), 'test_new', True]
> [7, PyQt5.QtCore.QDateTime(2022, 3, 31, 0, 0), 'test_new', True]
> [8, PyQt5.QtCore.QDateTime(2022, 3, 31, 0, 0), 'test_new', True]
> 
> the edit_id is actually in the results.
> 
> Cheers
> 
> 
> On Fri, Apr 1, 2022 at 8:28 AM Raymond Nijssen <r.nijssen at terglobo.nl 
> <mailto:r.nijssen at terglobo.nl>> wrote:
> 
>     For a workaround I found that selecting this way:
> 
>     SELECT
>      ? ?edit_id + 0 AS edit_id,
>      ? ?timestamp,
>      ? ?name
>     FROM
>      ? ?...
> 
>     The +0 seem to makes QGIS (or GDAL?) unaware of edit_id being the PK
>     field and it does return it. Works both in 3.10 and 3.25.
> 
>     Raymond
> 
> 
> 
>     On 31-03-2022 18:15, Alessandro Pasotti wrote:
>      > Hi Raymond,
>      >
>      > your code looks good.
>      >
>      > Can you provide a test file?
>      >
>      > There are some test in core here:
>      >
>     https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py
>     <https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py>
> 
>      >
>     <https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py
>     <https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsproviderconnection_ogr_gpkg.py>>
>      >
>      >
>      > On Thu, Mar 31, 2022 at 6:09 PM Raymond Nijssen via QGIS-Developer
>      > <qgis-developer at lists.osgeo.org
>     <mailto:qgis-developer at lists.osgeo.org>
>     <mailto:qgis-developer at lists.osgeo.org
>     <mailto:qgis-developer at lists.osgeo.org>>>
>      > wrote:
>      >
>      >? ? ?Hi devs,
>      >
>      >? ? ?I'm working on a plugin that connects to a custom table (without
>      >? ? ?geometry) in a GPKG. When I'm sending queries to it, I keep
>     on getting
>      >? ? ?unexpected results. Somehow the id field is missing, sometimes it
>      >? ? ?appears twice (!). And this seems to be different between
>     QGIS 3.10 and
>      >? ? ?3.25. (I think it changed since 3.22).
>      >
>      >? ? ?Here is a piece of my code:
>      >
>      >
>      >? ? ?fn = '/path/to/test.gpkg'
>      >? ? ?md = QgsProviderRegistry.instance().providerMetadata('ogr')
>      >? ? ?conn = md.createConnection(fn, {})
>      >
>      >? ? ?q = 'select * from test_table;'
>      >? ? ?qr = conn.executeSql(q)
>      >? ? ?print(qr) # No id field in result
>      >
>      >
>      >
>      >? ? ?Before diving into the QGIS code I'd like to check if this is the
>      >? ? ?way to
>      >? ? ?go. Or should i use another way to query that GPKG (SQLite) db?
>      >
>      >
>      >? ? ?Kind regards,
>      >? ? ?Raymond
>      >? ? ?_______________________________________________
>      >? ? ?QGIS-Developer mailing list
>      > QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>     <mailto:QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>>
>      >? ? ?List info:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>      >? ? ?<https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>>
>      >? ? ?Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>      >? ? ?<https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>>
>      >
>      >
>      >
>      > --
>      > Alessandro Pasotti
>      > QCooperative: www.qcooperative.net <http://www.qcooperative.net>
>     <https://www.qcooperative.net <https://www.qcooperative.net>>
>      > ItOpen: www.itopen.it <http://www.itopen.it>
>     <http://www.itopen.it <http://www.itopen.it>>
> 
> 
> 
> -- 
> Alessandro Pasotti
> QCooperative: www.qcooperative.net <https://www.qcooperative.net>
> ItOpen: www.itopen.it <http://www.itopen.it>

From johannes.kroeger at wheregroup.com  Wed Apr  6 03:12:52 2022
From: johannes.kroeger at wheregroup.com (=?UTF-8?Q?Johannes_Kr=c3=b6ger_=28WhereGroup=29?=)
Date: Wed, 6 Apr 2022 12:12:52 +0200
Subject: [QGIS-Developer] Plugin dependency with binaries: 'best' way to
 guide user to install?
In-Reply-To: <17ffbc72799.86c43b9f23292.7962298494395626212@margo.co>
References: <mailman.23.1648753202.516.qgis-developer@lists.osgeo.org>
 <17fe5059408.23b5bb1f5402.6947602649214067570@margo.co>
 <6a5c5e48-3a66-e71a-7fe7-c0f39a5ba760@rasterra.nl>
 <17ffbc72799.86c43b9f23292.7962298494395626212@margo.co>
Message-ID: <c9aa596a-dc35-f7f3-7ea5-a8eb1343ddf3@wheregroup.com>

Trying to find a smart way to install Python dependencies for the users 
that will not potentially not work or even break stuff is a very hard 
thing(tm). Check out these two QEPs for a lot of discussion and possible 
approaches:

https://github.com/qgis/QGIS-Enhancement-Proposals/issues/202
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/179

Cheers, Hannes

Am 06.04.22 um 00:10 schrieb Pedro Camargo via QGIS-Developer:
> Hey Aron,
> ? ? ? ? ? ? ? ? ? ?I did explore that route, but I found out that it 
> would fail when the user did not have administrator rights (or even if 
> QGIS had not been ran as administrator on Windows).? Did you find it 
> to be different?
>
> Cheers,
> Pedro
>
>
>
> ---- On Wed, 06 Apr 2022 03:28:09 +1000 *Aron Gergely 
> <aron.gergely at rasterra.nl>* wrote ----
>
>     Thank you, I checked out your plugin - yes that seems also a good way.
>     I already had the logic to detect, throw message, guide to dialog,
>     etc... implemented similar to yours.
>
>     But I wanted to let pip manage the actual package, so I went with
>     the subprocess+pip route. Here is a minimum working example:
>
>     import subprocess
>     import sys
>
>
>     try:
>          subprocess.check_call((sys.executable, '-m', 'pip', 'install', 'h3<=3.99'))
>     except subprocess.CalledProcessErroras e:
>          raise e# handle any errors here instead
>
>     I connected it to a button in a dialog. And catch stdout, stderr
>     and the exit code of the subprocess so I can show the user what is
>     happening.
>
>     Have not yet tried on other platforms than Linux. But
>     sys.executable is there to solve the ambiguity of python
>     executable path.
>
>
>     Best regards,
>     Aron
>
>
-- 
Johannes Kr?ger / GIS-Entwickler/-Berater

---------------------------------------------
Schon gewusst?

In unserem Blog geben wir Tipps & Tricks zu Open-Source-GIS-Software
und berichten aus unserem Experten-Alltag:
https://wheregroup.com/blog/
---------------------------------------------

WhereGroup GmbH
Grevenweg 89
20537 Hamburg
Germany

Tel: +49 (0)228 / 90 90 38 - 36
Fax: +49 (0)228 / 90 90 38 - 11

johannes.kroeger at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885
-------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220406/003ea4ea/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_0xBF7B268A77C202D5.asc
Type: application/pgp-keys
Size: 2476 bytes
Desc: OpenPGP public key
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220406/003ea4ea/attachment-0001.key>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 665 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220406/003ea4ea/attachment-0001.sig>

From SSchmidt at gfi-gis.de  Wed Apr  6 03:59:08 2022
From: SSchmidt at gfi-gis.de (SSchmidt at gfi-gis.de)
Date: Wed, 6 Apr 2022 12:59:08 +0200
Subject: [QGIS-Developer] QgsDissolveAlgorithm error LNK2001
Message-ID: <OF620D71AA.B5D64571-ONC125881C.003B2094-C125881C.003D4E3D@gfi-gis.de>

Hello to all,

for my c++ plugin I need to include the qgsalgorithmdissolve.h.

Thats why I include for linking the library 
..\..\analysis\RelWithDebInfo\qgis_analysis.lib

and give it additional library path to:
C:/Entwicklung/QuantumGIS/build/src/analysis
C:/Entwicklung/QuantumGIS/build/src/analysis/RelWithDebInfo

But anyway I get linking errors:
DlgZoomMappeSave.obj : error LNK2001: Nicht aufgel?stes externes Symbol 
""public: virtual void __cdecl QgsDissolveAlgorithm::initAlgorithm(class 
QMap<class QString,class QVariant> const &)" 
(?initAlgorithm at QgsDissolveAlgorithm@@UEAAXAEBV?$QMap at VQString@@VQVariant@@@@@Z)".
DlgZoomMappeSave.obj : error LNK2001: Nicht aufgel?stes externes Symbol 
""public: virtual class QString __cdecl 
QgsDissolveAlgorithm::name(void)const " 
(?name at QgsDissolveAlgorithm@@UEBA?AVQString@@XZ)".
DlgZoomMappeSave.obj : error LNK2001: Nicht aufgel?stes externes Symbol 
""public: virtual class QString __cdecl 
QgsDissolveAlgorithm::displayName(void)const " 
(?displayName at QgsDissolveAlgorithm@@UEBA?AVQString@@XZ)".
DlgZoomMappeSave.obj : error LNK2001: Nicht aufgel?stes externes Symbol 
""public: virtual class QStringList __cdecl 
QgsDissolveAlgorithm::tags(void)const " 
(?tags at QgsDissolveAlgorithm@@UEBA?AVQStringList@@XZ)".
DlgZoomMappeSave.obj : error LNK2001: Nicht aufgel?stes externes Symbol 
""public: virtual class QString __cdecl 
QgsDissolveAlgorithm::group(void)const " 
(?group at QgsDissolveAlgorithm@@UEBA?AVQString@@XZ)".
DlgZoomMappeSave.obj : error LNK2001: Nicht aufgel?stes externes Symbol 
""public: virtual class QString __cdecl 
QgsDissolveAlgorithm::groupId(void)const " 
(?groupId at QgsDissolveAlgorithm@@UEBA?AVQString@@XZ)".
DlgZoomMappeSave.obj : error LNK2001: Nicht aufgel?stes externes Symbol 
""public: virtual class QString __cdecl 
QgsDissolveAlgorithm::shortHelpString(void)const " 
(?shortHelpString at QgsDissolveAlgorithm@@UEBA?AVQString@@XZ)".
DlgZoomMappeSave.obj : error LNK2001: Nicht aufgel?stes externes Symbol 
""public: virtual class QgsDissolveAlgorithm * __cdecl 
QgsDissolveAlgorithm::createInstance(void)const " 
(?createInstance at QgsDissolveAlgorithm@@UEBAPEAV1 at XZ)".
DlgZoomMappeSave.obj : error LNK2001: Nicht aufgel?stes externes Symbol 
""protected: virtual class QMap<class QString,class QVariant> __cdecl 
QgsDissolveAlgorithm::processAlgorithm(class QMap<class QString,class 
QVariant> const &,class QgsProcessingContext &,class QgsProcessingFeedback 
*)" 
(?processAlgorithm at QgsDissolveAlgorithm@@MEAA?AV?$QMap at VQString@@VQVariant@@@@AEBV2 at AEAVQgsProcessingContext@@PEAVQgsProcessingFeedback@@@Z)".

What do I miss?

Freundliche Gr??e aus Leipzig
Susann Schmidt
Softwareentwicklung 

**************************************************************

GFI - Gesellschaft f?r Informationstechnologie mbH
Philipp-Rosenthal-Stra?e 9
D-04103 Leipzig
Gesch?ftsf?hrer: Andreas Richter
Amtsgericht Leipzig HRB 12054
USt.-IdNr.: DE179049354     Steuer-Nr.: 231/109/06412
Tel. 0341 961 3310    Fax 0341 961 3311   Mail info at gfi-gis.de
Web  www.gfi-gis.de
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220406/58f85607/attachment.html>

From aron.gergely at rasterra.nl  Wed Apr  6 05:01:15 2022
From: aron.gergely at rasterra.nl (Aron Gergely)
Date: Wed, 6 Apr 2022 14:01:15 +0200
Subject: [QGIS-Developer] Plugin dependency with binaries: 'best' way to
 guide user to install?
In-Reply-To: <c9aa596a-dc35-f7f3-7ea5-a8eb1343ddf3@wheregroup.com>
References: <mailman.23.1648753202.516.qgis-developer@lists.osgeo.org>
 <17fe5059408.23b5bb1f5402.6947602649214067570@margo.co>
 <6a5c5e48-3a66-e71a-7fe7-c0f39a5ba760@rasterra.nl>
 <17ffbc72799.86c43b9f23292.7962298494395626212@margo.co>
 <c9aa596a-dc35-f7f3-7ea5-a8eb1343ddf3@wheregroup.com>
Message-ID: <de695580-6c74-950c-a977-db2ba5e847ff@rasterra.nl>

@Pedro:
Tried it today on Windows w OSGeo QGIS and failed right away. But in a 
different way:

If I launch OSGeo QGIS and ask for the python executable's path 
(sys.executabe), I get 'C:/OSGeo4W/bin/qgis-bin.exe'. which looks like 
entry point is for QGIS.? So subprocess calls that and a new QGIS window 
opens.

Not feeling like tackling this and probably other cases.
So back to download+including those bins I reckon.

@Johannes:
Thank you. Yes realizing that now..


Cheers,
Aron



On 06-04-2022 12:12, Johannes Kr?ger (WhereGroup) wrote:
>
> Trying to find a smart way to install Python dependencies for the 
> users that will not potentially not work or even break stuff is a very 
> hard thing(tm). Check out these two QEPs for a lot of discussion and 
> possible approaches:
>
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/202
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/179
>
> Cheers, Hannes
>
> Am 06.04.22 um 00:10 schrieb Pedro Camargo via QGIS-Developer:
>> Hey Aron,
>> ? ? ? ? ? ? ? ? ? ?I did explore that route, but I found out that it 
>> would fail when the user did not have administrator rights (or even 
>> if QGIS had not been ran as administrator on Windows).? Did you find 
>> it to be different?
>>
>> Cheers,
>> Pedro
>>
>>
>>
>> ---- On Wed, 06 Apr 2022 03:28:09 +1000 *Aron Gergely 
>> <aron.gergely at rasterra.nl>* wrote ----
>>
>>     Thank you, I checked out your plugin - yes that seems also a good
>>     way.
>>     I already had the logic to detect, throw message, guide to
>>     dialog, etc... implemented similar to yours.
>>
>>     But I wanted to let pip manage the actual package, so I went with
>>     the subprocess+pip route. Here is a minimum working example:
>>
>>     import subprocess
>>     import sys
>>
>>
>>     try:
>>          subprocess.check_call((sys.executable, '-m', 'pip', 'install', 'h3<=3.99'))
>>     except subprocess.CalledProcessErroras e:
>>          raise e# handle any errors here instead
>>
>>     I connected it to a button in a dialog. And catch stdout, stderr
>>     and the exit code of the subprocess so I can show the user what
>>     is happening.
>>
>>     Have not yet tried on other platforms than Linux. But
>>     sys.executable is there to solve the ambiguity of python
>>     executable path.
>>
>>
>>     Best regards,
>>     Aron
>>
>>
> -- 
> Johannes Kr?ger / GIS-Entwickler/-Berater
>
> ---------------------------------------------
> Schon gewusst?

> In unserem Blog geben wir Tipps & Tricks zu Open-Source-GIS-Software
> und berichten aus unserem Experten-Alltag:
> https://wheregroup.com/blog/
> ---------------------------------------------
>
> WhereGroup GmbH
> Grevenweg 89
> 20537 Hamburg
> Germany
>
> Tel: +49 (0)228 / 90 90 38 - 36
> Fax: +49 (0)228 / 90 90 38 - 11
>
> johannes.kroeger at wheregroup.com
> www.wheregroup.com
> Gesch?ftsf?hrer:
> Olaf Knopp, Peter Stamm
> Amtsgericht Bonn, HRB 9885
> -------------------------------
-- 
Email Signature Kind Regards,

Aron Gergely
+31 (0) 6 38 70 97 66

*Rasterra* | www.rasterra.nl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220406/5b6d3a91/attachment.html>

From andreaerdna at libero.it  Wed Apr  6 05:16:54 2022
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Wed, 6 Apr 2022 14:16:54 +0200
Subject: [QGIS-Developer] Plugin dependency with binaries: 'best' way to
 guide user to install?
In-Reply-To: <de695580-6c74-950c-a977-db2ba5e847ff@rasterra.nl>
References: <mailman.23.1648753202.516.qgis-developer@lists.osgeo.org>
 <17fe5059408.23b5bb1f5402.6947602649214067570@margo.co>
 <6a5c5e48-3a66-e71a-7fe7-c0f39a5ba760@rasterra.nl>
 <17ffbc72799.86c43b9f23292.7962298494395626212@margo.co>
 <c9aa596a-dc35-f7f3-7ea5-a8eb1343ddf3@wheregroup.com>
 <de695580-6c74-950c-a977-db2ba5e847ff@rasterra.nl>
Message-ID: <bd0b2a12-0f37-0cff-285d-5f1b7476a714@libero.it>

Hi Aron,
have you already read the issue report 
https://github.com/qgis/QGIS/issues/45646 ?

Regards.

Andrea

Il 06/04/2022 14:01, Aron Gergely via QGIS-Developer ha scritto:
>
> @Pedro:
> Tried it today on Windows w OSGeo QGIS and failed right away. But in a 
> different way:
>
> If I launch OSGeo QGIS and ask for the python executable's path 
> (sys.executabe), I get 'C:/OSGeo4W/bin/qgis-bin.exe'. which looks like 
> entry point is for QGIS.? So subprocess calls that and a new QGIS 
> window opens.
>

From benjamin.jakimow at geo.hu-berlin.de  Wed Apr  6 06:17:00 2022
From: benjamin.jakimow at geo.hu-berlin.de (Benjamin Jakimow)
Date: Wed, 06 Apr 2022 15:17:00 +0200
Subject: [QGIS-Developer] Plugin dependency with binaries: 'best' way to
 guide user to install?
In-Reply-To: <de695580-6c74-950c-a977-db2ba5e847ff@rasterra.nl>
References: <mailman.23.1648753202.516.qgis-developer@lists.osgeo.org>
 <17fe5059408.23b5bb1f5402.6947602649214067570@margo.co>
 <6a5c5e48-3a66-e71a-7fe7-c0f39a5ba760@rasterra.nl>
 <17ffbc72799.86c43b9f23292.7962298494395626212@margo.co>
 <c9aa596a-dc35-f7f3-7ea5-a8eb1343ddf3@wheregroup.com>
 <de695580-6c74-950c-a977-db2ba5e847ff@rasterra.nl>
Message-ID: <b2c2323fdbb08c742d206698818bff43@geo.hu-berlin.de>



Hi Aron,

with the EnMAP-Box plugin we are confronted with missing PIP packages 
quite often. Therefore we implemented a "PIP Package Installer" 
(screenshot below, source code here: 
https://bitbucket.org/hu-geomatics/enmap-box/src/develop/enmapbox/dependencycheck.py)

In case of missing admin rights you can use the PIP "--user" argument to 
install packages to the user's home folder

D:\OSGeo4W\bin\python3.EXE -m pip install --user lightgbm

The absolute python executable path can be retrieved with 
"shutil.which('python') "

Greetings,

Benjamin

On 2022-04-06 14:01, Aron Gergely via QGIS-Developer wrote:

> @Pedro:
> Tried it today on Windows w OSGeo QGIS and failed right away. But in a 
> different way:
> 
> If I launch OSGeo QGIS and ask for the python executable's path 
> (sys.executabe), I get 'C:/OSGeo4W/bin/qgis-bin.exe'. which looks like 
> entry point is for QGIS.  So subprocess calls that and a new QGIS 
> window opens.
> 
> Not feeling like tackling this and probably other cases.
> So back to download+including those bins I reckon.
> 
> @Johannes:
> Thank you. Yes realizing that now..
> 
> Cheers,
> Aron
> 
> On 06-04-2022 12:12, Johannes Kr?ger (WhereGroup) wrote:
> 
> Trying to find a smart way to install Python dependencies for the users 
> that will not potentially not work or even break stuff is a very hard 
> thing(tm). Check out these two QEPs for a lot of discussion and 
> possible approaches:
> 
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/202
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/179
> 
> Cheers, Hannes
> 
> Am 06.04.22 um 00:10 schrieb Pedro Camargo via QGIS-Developer:
> 
> Hey Aron,
> I did explore that route, but I found out that it would fail when the 
> user did not have administrator rights (or even if QGIS had not been 
> ran as administrator on Windows).  Did you find it to be different?
> 
> Cheers,
> Pedro
> 
> ---- On Wed, 06 Apr 2022 03:28:09 +1000 Aron Gergely 
> <aron.gergely at rasterra.nl> wrote ----
> 
> Thank you, I checked out your plugin - yes that seems also a good way.
> I already had the logic to detect, throw message, guide to dialog, 
> etc... implemented similar to yours.
> 
> But I wanted to let pip manage the actual package, so I went with the 
> subprocess+pip route. Here is a minimum working example:
> 
> import subprocess
> import sys
> 
> try:
> subprocess.check_call((sys.executable, '-m', 'pip', 'install', 
> 'h3<=3.99'))
> except subprocess.CalledProcessError as e:
> raise e  # handle any errors here instead
> 
> I connected it to a button in a dialog. And catch stdout, stderr and 
> the exit code of the subprocess so I can show the user what is 
> happening.
> 
> Have not yet tried on other platforms than Linux. But sys.executable is 
> there to solve the ambiguity of python executable path.
> 
> Best regards,
> Aron

-- 
Johannes Kr?ger / GIS-Entwickler/-Berater

---------------------------------------------
Schon gewusst?

In unserem Blog geben wir Tipps & Tricks zu Open-Source-GIS-Software
und berichten aus unserem Experten-Alltag:
https://wheregroup.com/blog/
---------------------------------------------

WhereGroup GmbH
Grevenweg 89
20537 Hamburg
Germany

Tel: +49 (0)228 / 90 90 38 - 36
Fax: +49 (0)228 / 90 90 38 - 11

johannes.kroeger at wheregroup.com
www.wheregroup.com [1]
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885
-------------------------------

-- 
Kind Regards,

Aron Gergely
+31 (0) 6 38 70 97 66

Rasterra | www.rasterra.nl [2]

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
--
Benjamin Jakimow, Doctoral Researcher
Earth Observation Lab | Geography Department | Humboldt-Universit?t zu 
Berlin

e-mail: benjamin.jakimow at geo.hu-berlin.de

phone:  +49 (0) 30 2093 6894
mobile: +49 (0) 157 5656 8477
fax:    +49 (0) 30 2093 6848
mail:   Unter den Linden 6 | 10099 Berlin | Germany
room: 2'222

Links:
------
[1] http://www.wheregroup.com
[2] http://www.rasterra.nl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220406/0572bf39/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 51d6a740.png
Type: image/png
Size: 56151 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220406/0572bf39/attachment-0001.png>

From aron.gergely at rasterra.nl  Wed Apr  6 06:55:55 2022
From: aron.gergely at rasterra.nl (Aron Gergely)
Date: Wed, 6 Apr 2022 15:55:55 +0200
Subject: [QGIS-Developer] Plugin dependency with binaries: 'best' way to
 guide user to install?
In-Reply-To: <b2c2323fdbb08c742d206698818bff43@geo.hu-berlin.de>
References: <mailman.23.1648753202.516.qgis-developer@lists.osgeo.org>
 <17fe5059408.23b5bb1f5402.6947602649214067570@margo.co>
 <6a5c5e48-3a66-e71a-7fe7-c0f39a5ba760@rasterra.nl>
 <17ffbc72799.86c43b9f23292.7962298494395626212@margo.co>
 <c9aa596a-dc35-f7f3-7ea5-a8eb1343ddf3@wheregroup.com>
 <de695580-6c74-950c-a977-db2ba5e847ff@rasterra.nl>
 <b2c2323fdbb08c742d206698818bff43@geo.hu-berlin.de>
Message-ID: <40a7d104-220c-bac4-0341-948542b8a941@rasterra.nl>

@Andrea
Thank you - I posted my case to that issue.

@Benjamin
Thanks, wow this looks comprehensive.

I thought of that shutil way but dismissed it, I'd have to try then for 
'python', 'python3'. And it would not work in case
user set up a shell alias (say, python3.9) for the python executable in 
their env.
Although in that case they probably know how to install packages themselves.

I see shutil tries for the python command here: 
https://bitbucket.org/hu-geomatics/enmap-box/src/966a75ffbe903775c03f54e5dc0e663dfb98b2de/enmapbox/dependencycheck.py#lines-166:178

Did this give you any trouble when you rolled it out to the users?

Best regards,
Aron

On 06-04-2022 15:17, Benjamin Jakimow wrote:
>
> Hi Aron,
>
> with the EnMAP-Box plugin we are confronted with missing PIP packages 
> quite often. Therefore we implemented a "PIP Package Installer" 
> (screenshot below, source code here: 
> https://bitbucket.org/hu-geomatics/enmap-box/src/develop/enmapbox/dependencycheck.py)
>
> In case of missing admin rights you can use the PIP "--user" argument 
> to install packages to the user's home folder
>
> D:\OSGeo4W\bin\python3.EXE -m pip install --user lightgbm
>
> The absolute python executable path can be retrieved with 
> "shutil.which('python') "
>
>
>
> Greetings,
>
> Benjamin
>
> On 2022-04-06 14:01, Aron Gergely via QGIS-Developer wrote:
>
>> @Pedro:
>> Tried it today on Windows w OSGeo QGIS and failed right away. But in 
>> a different way:
>>
>> If I launch OSGeo QGIS and ask for the python executable's path 
>> (sys.executabe), I get 'C:/OSGeo4W/bin/qgis-bin.exe'. which looks 
>> like entry point is for QGIS.? So subprocess calls that and a new 
>> QGIS window opens.
>>
>> Not feeling like tackling this and probably other cases.
>> So back to download+including those bins I reckon.
>>
>> @Johannes:
>> Thank you. Yes realizing that now..
>>
>>
>> Cheers,
>> Aron
>>
>>
>>
>> On 06-04-2022 12:12, Johannes Kr?ger (WhereGroup) wrote:
>>>
>>> Trying to find a smart way to install Python dependencies for the 
>>> users that will not potentially not work or even break stuff is a 
>>> very hard thing(tm). Check out these two QEPs for a lot of 
>>> discussion and possible approaches:
>>>
>>> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/202 
>>> <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/202>
>>> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/179 
>>> <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/179>
>>>
>>> Cheers, Hannes
>>>
>>> Am 06.04.22 um 00:10 schrieb Pedro Camargo via QGIS-Developer:
>>>> Hey Aron,
>>>> ? ? ? ? ? ? ? ? ? ?I did explore that route, but I found out that 
>>>> it would fail when the user did not have administrator rights (or 
>>>> even if QGIS had not been ran as administrator on Windows).? Did 
>>>> you find it to be different?
>>>> Cheers,
>>>> Pedro
>>>> ---- On Wed, 06 Apr 2022 03:28:09 +1000 *Aron Gergely 
>>>> <aron.gergely at rasterra.nl> <mailto:aron.gergely at rasterra.nl>* wrote 
>>>> ----
>>>>
>>>>     Thank you, I checked out your plugin - yes that seems also a
>>>>     good way.
>>>>     I already had the logic to detect, throw message, guide to
>>>>     dialog, etc... implemented similar to yours.
>>>>
>>>>     But I wanted to let pip manage the actual package, so I went
>>>>     with the subprocess+pip route. Here is a minimum working example:
>>>>
>>>>     import subprocess
>>>>     import sys
>>>>
>>>>
>>>>     try:
>>>>          subprocess.check_call((sys.executable, '-m', 'pip', 'install', 'h3<=3.99'))
>>>>     except subprocess.CalledProcessErroras e:
>>>>          raise e# handle any errors here instead
>>>>
>>>>     I connected it to a button in a dialog. And catch stdout,
>>>>     stderr and the exit code of the subprocess so I can show the
>>>>     user what is happening.
>>>>
>>>>     Have not yet tried on other platforms than Linux. But
>>>>     sys.executable is there to solve the ambiguity of python
>>>>     executable path.
>>>>
>>>>
>>>>     Best regards,
>>>>     Aron
>>>>
>>>>
>>> -- 
>>> Johannes Kr?ger / GIS-Entwickler/-Berater
>>>
>>> ---------------------------------------------
>>> Schon gewusst?

>>> In unserem Blog geben wir Tipps & Tricks zu Open-Source-GIS-Software
>>> und berichten aus unserem Experten-Alltag:
>>> https://wheregroup.com/blog/  <https://wheregroup.com/blog/>
>>> ---------------------------------------------
>>>
>>> WhereGroup GmbH
>>> Grevenweg 89
>>> 20537 Hamburg
>>> Germany
>>>
>>> Tel: +49 (0)228 / 90 90 38 - 36
>>> Fax: +49 (0)228 / 90 90 38 - 11
>>>
>>> johannes.kroeger at wheregroup.com  <mailto:johannes.kroeger at wheregroup.com>
>>> www.wheregroup.com  <http://www.wheregroup.com>
>>> Gesch?ftsf?hrer:
>>> Olaf Knopp, Peter Stamm
>>> Amtsgericht Bonn, HRB 9885
>>> -------------------------------
>> -- 
>> Kind Regards,
>>
>> Aron Gergely
>> +31 (0) 6 38 70 97 66
>>
>> *Rasterra* | www.rasterra.nl <http://www.rasterra.nl>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> -- 
> --
> Benjamin Jakimow, Doctoral Researcher
> Earth Observation Lab | Geography Department | Humboldt-Universit?t zu 
> Berlin
>
> e-mail: benjamin.jakimow at geo.hu-berlin.de
>
> phone: ?+49 (0) 30 2093 6894
> mobile: +49 (0) 157 5656 8477
> fax: ???+49 (0) 30 2093 6848
> mail: ??Unter den Linden 6 | 10099 Berlin | Germany
> room: 2'222
-- 
Email Signature Kind Regards,

Aron Gergely
+31 (0) 6 38 70 97 66

*Rasterra* | www.rasterra.nl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220406/6baa75ca/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 51d6a740.png
Type: image/png
Size: 56151 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220406/6baa75ca/attachment-0001.png>

From c at margo.co  Wed Apr  6 15:34:01 2022
From: c at margo.co (Pedro Camargo)
Date: Thu, 07 Apr 2022 08:34:01 +1000
Subject: [QGIS-Developer] Plugin dependency with binaries: 'best' way to
 guide user to install?
In-Reply-To: <de695580-6c74-950c-a977-db2ba5e847ff@rasterra.nl>
References: <mailman.23.1648753202.516.qgis-developer@lists.osgeo.org>
 <17fe5059408.23b5bb1f5402.6947602649214067570@margo.co>
 <6a5c5e48-3a66-e71a-7fe7-c0f39a5ba760@rasterra.nl>
 <17ffbc72799.86c43b9f23292.7962298494395626212@margo.co>
 <c9aa596a-dc35-f7f3-7ea5-a8eb1343ddf3@wheregroup.com>
 <de695580-6c74-950c-a977-db2ba5e847ff@rasterra.nl>
Message-ID: <180010366b7.7837283731479.7351746473658354859@margo.co>

Hey Aron,

? ? ? ? ? ? ? ? ? This does look/feel like one of those "Been there. Done that. It's hard..." type of things.



VERY interesting proposal, @Hannes. Both would be awesome features if they ever came to fruition!



Cheers,

Pedro




---- On Wed, 06 Apr 2022 22:01:15 +1000 Aron Gergely <aron.gergely at rasterra.nl> wrote ----



@Pedro:
 Tried it today on Windows w OSGeo QGIS and failed right away. But
      in a different way:
 
 If I launch OSGeo QGIS and ask for the python executable's path
      (sys.executabe), I get 'C:/OSGeo4W/bin/qgis-bin.exe'. which looks
      like entry point is for QGIS.? So subprocess calls that and a new
      QGIS window opens.
 
 Not feeling like tackling this and probably other cases.
 So back to download+including those bins I reckon.
 
 @Johannes:
 Thank you. Yes realizing that now..
 
 
 Cheers,
 Aron
 
 
 

On 06-04-2022 12:12, Johannes Kr?ger
      (WhereGroup) wrote:

Trying to find a smart way to install Python dependencies for
        the users that will not potentially not work or even break stuff
        is a very hard thing(tm). Check out these two QEPs for a lot of
        discussion and possible approaches:
 
 https://github.com/qgis/QGIS-Enhancement-Proposals/issues/202
 https://github.com/qgis/QGIS-Enhancement-Proposals/issues/179
Cheers, Hannes

Am 06.04.22 um 00:10 schrieb Pedro
        Camargo via QGIS-Developer:

Hey Aron,

? ? ? ? ? ? ? ? ? ?I did explore that route, but I found
            out that it would fail when the user did not have
            administrator rights (or even if QGIS had not been ran as
            administrator on Windows).? Did you find it to be different?



Cheers,

Pedro







---- On Wed, 06 Apr 2022 03:28:09
              +1000 Aron Gergely mailto:aron.gergely at rasterra.nl wrote ----



Thank you, I checked out your plugin - yes that seems
                  also a good way.
 I already had the logic to detect, throw message,
                  guide to dialog, etc... implemented similar to yours.
 
 But I wanted to let pip manage the actual package, so
                  I went with the subprocess+pip route. Here is a
                  minimum working example:

import subprocess
import sys


try:
    subprocess.check_call((sys.executable, '-m', 'pip', 'install', 'h3<=3.99'))
except subprocess.CalledProcessError as e:
    raise e  # handle any errors here instead



I connected it to a button in a dialog. And catch
                  stdout, stderr and the exit code of the subprocess so
                  I can show the user what is happening.
 
 Have not yet tried on other platforms than Linux. But
                  sys.executable is there to solve the ambiguity of
                  python executable path.
 
 
 Best regards,
 Aron
 
 






-- 
Johannes Kr?ger / GIS-Entwickler/-Berater

---------------------------------------------
Schon gewusst? 
In unserem Blog geben wir Tipps & Tricks zu Open-Source-GIS-Software 
und berichten aus unserem Experten-Alltag:
https://wheregroup.com/blog/
---------------------------------------------

WhereGroup GmbH
Grevenweg 89
20537 Hamburg
Germany

Tel: +49 (0)228 / 90 90 38 - 36
Fax: +49 (0)228 / 90 90 38 - 11

mailto:johannes.kroeger at wheregroup.com
http://www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm 
Amtsgericht Bonn, HRB 9885
-------------------------------



-- 
 Kind Regards,
 
 Aron Gergely
 +31 (0) 6 38 70 97 66
 
 Rasterra | http://www.rasterra.nl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220407/08944fa4/attachment.html>

From rdmailings at duif.net  Fri Apr  8 00:16:38 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 8 Apr 2022 09:16:38 +0200
Subject: [QGIS-Developer] Review asked for Pull 46028
Message-ID: <06e139d3-ee6a-73a4-a247-40675f0258c8@duif.net>

Hi Devs,

Anybody can find some time to have a look at:

https://github.com/qgis/QGIS/pull/46028

It's a small feature (and adding some documenting the old code) for the 'GoTo-locator'.
(that is the litle 'super-search' in the lower left corner of the QGIS window'.

Normally you can GoTo (jump to) a coordinate of the project crs OR lat lon.
This PR makes it possible to use crs coordinates of layer crs's And/Or add 1 configurable crs
(little yellow gear sign in the settings of that locator)

It should not be a lot of time, unless peeps find that I made a mess of it :-)
Then just cancel the PR, and let me know, but I get a little tired to fight the github-bot every x weeks :-(

Thanks in advance,

Regards,

Richard Duivenvoorde

From robert.thomas at usda.gov  Fri Apr  8 08:06:46 2022
From: robert.thomas at usda.gov (Thomas, Robert - FS)
Date: Fri, 8 Apr 2022 15:06:46 +0000
Subject: [QGIS-Developer] [QGIS-User] VPAT/WCAG Accessibility Documents
 for QGIS?
Message-ID: <PH0PR09MB735431D9B174C5FFCE4811E097E99@PH0PR09MB7354.namprd09.prod.outlook.com>

Hi QGIS Community,
A number of years ago, there was an effort to complete the Section 508/EEN 301 549 Accessibility Conformance documentation (i.e. Voluntary Product Accessibility Template (VPAT) and Web Content Accessibility Guidelines (WCAG)) for QGIS; is there a part of the developer/tech support community interested in completing these?

My thought is if there may be some Computer Science or Geo students where their program covers testing and conformance as a part of their developer program curriculum, then they could use QGIS testing and reporting as a part of a class project?  A long term relationship with that University could make regular updates sustainable.

There is lots of good information and resources, including the Template here<https://www.section508.gov/> < Home | Section508.gov<https://www.section508.gov/>>.  The last time I posted, the message was held up by moderator approval, hopefully this time my message can reach you all.

Having compliance reports adds to QGIS and other open source software increased legitimacy and would allow the use by more governmental organization that need to meet their procurement requirements.  Other thoughts, ideals or volunteers to lead a working group??  Thanks for the consideration.

Best regards,

Robert
[Forest Service Shield]
Robert E Thomas, GISP
Geospatial IT Specialist (ITDO Business Sys Analyst)
US Forest Service
WO-CIO-MSS-Geospatial Branch
W: 801-975-3834 (Note New Number)
robert.thomas at usda.gov<mailto:robert.thomas at usda.gov>
Geospatial Technology & Application Center
125 S State Street, Ste 7105
Salt Lake City, UT 84138-1159
www.fs.fed.us<https://www.fs.fed.us/>
[USDA Logo]<https://usda.gov/> [Forest Service Twitter] <https://twitter.com/forestservice>  [USDA Facebook] <https://www.facebook.com/pages/US-Forest-Service/1431984283714112>
Caring for the land and serving people





This electronic message contains information generated by the USDA solely for the intended recipients. Any unauthorized interception of this message or the use or disclosure of the information it contains may violate the law and subject the violator to civil or criminal penalties. If you believe you have received this message in error, please notify the sender and delete the email immediately.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220408/482e3555/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 7801 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220408/482e3555/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 1701 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220408/482e3555/attachment-0005.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 1594 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220408/482e3555/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 1453 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220408/482e3555/attachment-0007.png>

From rdmailings at duif.net  Mon Apr 11 04:27:51 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 11 Apr 2022 13:27:51 +0200
Subject: [QGIS-Developer] Use of NE(SW) in the showing of (ordered)
 coordinates within QGIS
Message-ID: <a98138ae2ed259c54700e94fd9b785ec@duif.net>

Hi List(s),

Recently the (showing) order of coordinates was 'fixed': eg EPSG-4326 
coordinates LatLon(y,x) are properly shown as LatLon while other crs's 
stay being shown as x,y
You can check this by looking into master vs 3.24 and clicking on The 
Netherlands to Copy a Coordinate.

In 3.24 you will see something like "WGS84 5.2 52,3"
While in master it shows: "WGS84 52.3N 5.2E"  (note the N and E)

For WGS84 I think this is normal (to show WSEN), but for other crs's I 
think it is overkill?

In 3.24: "EPSG:28992 (150000,450000)"
In master now I see: "EPSG:28992 (150702E,466216N)"

 From comments (see screenies there too) at 
https://github.com/qgis/QGIS/pull/48156
I understand the E and N are added just to make it clear what x and y 
are...

What do others think: is that OK? I'm just not used to it.
Would it be an idea to show it as x/y, or is that just plain wrong:
"EPSG:28992 (x:150702,y:466216)"
and for EPSG:4326 then either:
"WGS84 52.3N 5.2E"
or also (?)
"WGS84 y:52.3 x:5.2"

Any input appreciated (here at the pull 48156)

Regards,

Richard Duivenvoorde


From gdt at lexort.com  Mon Apr 11 05:38:57 2022
From: gdt at lexort.com (Greg Troxel)
Date: Mon, 11 Apr 2022 08:38:57 -0400
Subject: [QGIS-Developer] Use of NE(SW) in the showing of (ordered)
 coordinates within QGIS
In-Reply-To: <a98138ae2ed259c54700e94fd9b785ec@duif.net> (Richard Duivenvoorde
 via's message of "Mon, 11 Apr 2022 13:27:51 +0200")
References: <a98138ae2ed259c54700e94fd9b785ec@duif.net>
Message-ID: <rmifsmjx09q.fsf@s1.lexort.com>


Richard Duivenvoorde via QGIS-Developer <qgis-developer at lists.osgeo.org>
writes:

> In 3.24 you will see something like "WGS84 5.2 52,3"
> While in master it shows: "WGS84 52.3N 5.2E"  (note the N and E)
>
> For WGS84 I think this is normal (to show WSEN), but for other crs's I
> think it is overkill?
>
> In 3.24: "EPSG:28992 (150000,450000)"
> In master now I see: "EPSG:28992 (150702E,466216N)"

I think the real question is if these are expected to be useful for
humans to look at, or if they are expected to be machine-processable
somehow.

And if they are for humans, what are the humans doing with them?

And if they are hints for what will be copied, but the copied string has
just numbers and a comma so that copied string is machine procesable.
Or if it's a mini geojson point object (just kidding; that seems a bit
much).

As for x and y, those are projection concepts, and for WGS84:

  using x for latitude and y for longitude is basically declaring a
  projection, and for 4326, that isn't so even that's what people often
  choose to do when displaying 4326 for nerds

  WGS84 ECEF has axes, and they aren't the same as how you are using
  them.  WGS84 geographic does not have x and y axes.

For UTM/LCC sorts of CRSes, the axes are (usually) easting and northing
and I don't see then written x and y.


There is some messiness in that if one sets a project CRS to 4326, then
the display is x=lon, y=lat, which is a projection.  Basically if you
have have a project CRS that isn't a projection, then there is further
step to relate the CRS axes to display x and y, and that's implicit.
For many things, given the dominance of north up, there is an obvious
answer, but it's still an assumption.


Part of the underlying trouble is that in qgis/proj we blur:

  datum
  projection

into

  CRS

except that some CRS are datum only, and some are datum+projection.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 194 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220411/908d0cb0/attachment.sig>

From mlechner at bfs.de  Mon Apr 11 06:22:19 2022
From: mlechner at bfs.de (Marco Lechner)
Date: Mon, 11 Apr 2022 13:22:19 +0000
Subject: [QGIS-Developer] SAML2 / Shibboleth support
Message-ID: <a23870da4bd5405eb75960d7554eb34a@bfs.de>

Hallo,

anyone interested in SAML2 support for QGIS as well? We are searching for cofounding (and may be someone willing to develop the feature).

i.A. Dr. Marco Lechner
Leiter Fachgebiet RN 1 ? Head RN 1

--
Bundesamt f?r Strahlenschutz ? Federal Office for Radiation Protection
Koordination Notfallschutzsysteme ? Coordination Emergency Systems ? RN 1
Rosastr. 9
D-79098 Freiburg

Tel.: +49 30 18333-6724
E-Mail: mlechner at bfs.de<mailto:mlechner at bfs.de>
www.bfs.de<http://www.bfs.de/>
? Besuchen<https://www.bfs.de/> Sie unsere Website, folgen Sie uns auf Twitter<https://www.twitter.com/strahlenschutz> und abonnieren<https://www.bfs.de/strahlenschutzaktuell> Sie unseren ? Newsletter.
? Informationen zum Datenschutz<https://www.bfs.de/datenschutz> gem?? Artikel 13 DSGVO
? E-Mail drucken? Lieber die Umwelt schonen!

--
Hinweis zu Anh?ngen die auf .p7m/.p7c/.p7s oder .asc/.asc.sig enden:
Die .p7?- und .asc-Dateien sind ungef?hrliche Signaturdateien (digitale Unterschriften). In E-Mail-Clients mit S/MIME Konfiguration (.p7?) oder PGP-Erweiterung (.asc) dienen sie zur:
- ?berpr?fung des Absenders
- ?berpr?fung einer evtl. Ver?nderung des Inhalts w?hrend der ?bermittlung ?ber das Internet
Die Signaturdateien k?nnen ebenso dazu verwendet werden dem Absender dieser Signatur eine E-Mail mit verschl?sseltem Inhalt zu senden. In E-Mail-Clients ohne S/MIME Konfiguration oder PGP-Erweiterung erscheinen die Dateien als Anhang und k?nnen ignoriert werden.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220411/2d733f3d/attachment.html>

From rdmailings at duif.net  Mon Apr 11 22:33:41 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 12 Apr 2022 07:33:41 +0200
Subject: [QGIS-Developer] [Plugins]: is 'plugin_dependencies' being
 enforced somewhere?
In-Reply-To: <CANaz7mxn7cfEVXsh8h3Un2Wa9AFXjvP53gVmmPe1rVjfxKqBKw@mail.gmail.com>
References: <d7592980406b8e77ac3de5b021e0e0ca@duif.net>
 <CAL5Q6733s++PBabQK5VbkmoCjstjUgb-WJ0sz9EUxVw7vBL3ZA@mail.gmail.com>
 <CANaz7mxn7cfEVXsh8h3Un2Wa9AFXjvP53gVmmPe1rVjfxKqBKw@mail.gmail.com>
Message-ID: <b66f4d95-0d68-df19-2f40-832d63d11a3e@duif.net>

Thanks Germ?n,

That helped, all is indeed still working...

Regards,

Richard

On 3/29/22 16:50, Germ?n Carrillo wrote:
> Hi Richard,
> 
> 
> see the first part of the answer to "Using QGIS plugin from another plugin" at GIS.SE <http://GIS.SE> [1]
> 
> In short, you need to use the independent plugin's name from metadata.txt (i.e., "name" field) in your dependent plugin's "plugin_dependencies" field.
> 
> 
> For instance, the plugin "LADM-COL add-on Ambiente" depends on "Asistente LADM-COL" (see name field of the latter in [2]). So I need to use "Asistete?LADM-COL" in?the plugin_dependecies field of "LADM-COL add-on Ambiente", like this [3].
> 
> 
> Note you may declare a specific version in plugin_dependencies, but keep in mind that so far this only works if the specified version is the latest stable or the latest experimental one. Older versions won't be installed by plugin installer.
> 
> 
> Let me know if it's still unclear.
> 
> 
> Regards,
> 
> Germ?n
> --------
> [1] https://gis.stackexchange.com/questions/403501/using-qgis-plugin-from-another-plugin <https://gis.stackexchange.com/questions/403501/using-qgis-plugin-from-another-plugin>
> [2] https://github.com/SwissTierrasColombia/Asistente-LADM-COL/blob/master/asistente_ladm_col/metadata.txt#L2 <https://github.com/SwissTierrasColombia/Asistente-LADM-COL/blob/master/asistente_ladm_col/metadata.txt#L2>
> [3] https://github.com/SwissTierrasColombia/LADM-COL-Add-on-Ambiente/blob/master/metadata.txt#L11 <https://github.com/SwissTierrasColombia/LADM-COL-Add-on-Ambiente/blob/master/metadata.txt#L11>
> 
> 
> El mar, 29 mar 2022 a las 2:19, Alessandro Pasotti via QGIS-Developer (<qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>>) escribi?:
> 
>     Hi Richard,
> 
>     it is (was?) enforced by the installer, AFAIK there are no checks on the plugins website.
> 
>     See: https://github.com/qgis/QGIS/blob/master/python/pyplugin_installer/plugindependencies.py <https://github.com/qgis/QGIS/blob/master/python/pyplugin_installer/plugindependencies.py>
> 
>     Cheers
> 
> 
>     On Tue, Mar 29, 2022 at 9:02 AM Richard Duivenvoorde via QGIS-Developer <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>> wrote:
> 
>         Hi Devs,
> 
>         Reading
>         https://docs.qgis.org/3.22/en/docs/pyqgis_developer_cookbook/plugins/plugins.html#plugin-metadata <https://docs.qgis.org/3.22/en/docs/pyqgis_developer_cookbook/plugins/plugins.html#plugin-metadata>
> 
>         about 'plugin_dependencies' and trying it out in a plugin locally, it
>         does not seem to be enforced or so? I added another plugin in metadata
>         (it's not clear from docs what name you need to use: plugin name or
>         module name) thinking I would see some message somewhere.
> 
>         Is there some message on plugins.qgis.org <http://plugins.qgis.org>?
> 
>         Or is it just a 'memo' for users who happen to see it in the metadata of
>         a plugin, then a dev should notify the user theirselves?
> 
>         Thanks for any info,
> 
>         Regards,
> 
>         Richard Duivenvoorde
>         _______________________________________________
>         QGIS-Developer mailing list
>         QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>         List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>         Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> 
>     -- 
>     Alessandro Pasotti
>     QCooperative: www.qcooperative.net <https://www.qcooperative.net>
>     ItOpen: www.itopen.it <http://www.itopen.it>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> --
> -----------
>  ?? |\__
> (:>__)(
>  ?? |/
> Soluciones Geoinform?ticas Libres
> http://geotux.tuxfamily.org/ <http://geotux.tuxfamily.org/>
> https://twitter.com/GeoTux2 <http://twitter.com/GeoTux2>
> 
> 
> <http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>


From rdmailings at duif.net  Mon Apr 11 23:27:09 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 12 Apr 2022 08:27:09 +0200
Subject: [QGIS-Developer] Use of NE(SW) in the showing of (ordered)
 coordinates within QGIS
In-Reply-To: <rmifsmjx09q.fsf@s1.lexort.com>
References: <a98138ae2ed259c54700e94fd9b785ec@duif.net>
 <rmifsmjx09q.fsf@s1.lexort.com>
Message-ID: <23da4a0494977af8781620beed467a27@duif.net>

On 2022-04-11 14:38, Greg Troxel via QGIS-Developer wrote:

Thanks Greg,

I think we should never copy the characters, only numbers ( well, except 
when using W/S/E/N :-) )..

I also understood from somebody that when using latlon coordinates the 
minus sign is actually redundant, as you should use the WSEN?

> Part of the underlying trouble is that in qgis/proj we blur:
>   datum
>   projection
> into
>   CRS
> except that some CRS are datum only, and some are datum+projection.

But isn't that the 'difference' in what QGIS (in the CRS dialog) calls 
'Geographic Coordinate Systems' vs 'Projected Coordinate Systems'?

So: that would make (?): if crs.isGeographic() [0] we should/could use 
WSEN, and if not then we should NOT use WSEN (and optionally x/y if that 
is more clear)... except when copying coordinates, because that would 
mess up parsers :-)

Regards,

Richard

[0] 
https://qgis.org/pyqgis/master/core/QgsCoordinateReferenceSystem.html?#qgis.core.QgsCoordinateReferenceSystem.isGeographic

From tebling at masuch.de  Tue Apr 12 02:27:27 2022
From: tebling at masuch.de (Karsten Tebling)
Date: Tue, 12 Apr 2022 11:27:27 +0200
Subject: [QGIS-Developer] documentation of QgsEditorWidgetSetup
Message-ID: <22433708-17f3-bd83-2966-9fb2c3c2033b@masuch.de>

Hello,

the types for QgsEditorWidgetSetup are not listed in the documentation ( 
https://qgis.org/pyqgis/master/core/QgsEditorWidgetSetup.html ). After 
some digging I found the following: ( 
https://github.com/qgis/QGIS/blob/d339d16456bccc97642b2723bf50f3da19f8f947/src/gui/editorwidgets/core/qgseditorwidgetregistry.cpp#L53-L70 
)

1. Are these the correct and all availables types?

2. Could someone add these types to the documentation (I can't see any 
edit-Button / how could I add them)?

3. Where can I find information about the "config(self) ? Dict[str, 
Any]" keys and values?

Cheers

Karsten


From gdt at lexort.com  Tue Apr 12 06:33:27 2022
From: gdt at lexort.com (Greg Troxel)
Date: Tue, 12 Apr 2022 09:33:27 -0400
Subject: [QGIS-Developer] Use of NE(SW) in the showing of (ordered)
 coordinates within QGIS
In-Reply-To: <23da4a0494977af8781620beed467a27@duif.net> (Richard
 Duivenvoorde's message of "Tue, 12 Apr 2022 08:27:09 +0200")
References: <a98138ae2ed259c54700e94fd9b785ec@duif.net>
 <rmifsmjx09q.fsf@s1.lexort.com>
 <23da4a0494977af8781620beed467a27@duif.net>
Message-ID: <rmilewas9y0.fsf@s1.lexort.com>


Richard Duivenvoorde <rdmailings at duif.net> writes:

> I think we should never copy the characters, only numbers ( well,
> except when using W/S/E/N :-) )..

Having thought a bit more this seems very tricky.

> I also understood from somebody that when using latlon coordinates the
> minus sign is actually redundant, as you should use the WSEN?

I don't think it's that simple, and looking at EPSG I'm sure it's not!
(qgis should not be tied to EPSG; it should follow any defined CRS,
custom or proj-provided but I understand most are from EPSG.)

Sometimes people write any of the following

  (42, -71)
  (-71, 42)
  42N 71W

for geographic.  And sometimes DM, DMS.  If we are going to try to align
with EPSG:4326, I think that means the first form.  But looking at

  https://epsg.org/crs_4326/WGS-84.html

it says that the parameter is in degrees [supplier to define
representation], and that latitude it positive north, longitude positive
east.

Degrees are given as

  https://epsg.org/unit_9122/degree-supplier-to-define-representation.html

which means that formally, we must define a representation among the
example choices of decimal, DMSH.  Other degree formats are just numbers
and numbers with hemispheres:

  https://epsg.org/unit_9102/degree.html
  https://epsg.org/unit_9116/degree-hemisphere.html

So I guess that means qgis could choose any of

  D DH DM DMH DMS DMSH

where H means no negative sign and N/S E/W, lack of H means numbers that
could be negative and no N/S/E/W.

It is pretty obvious which representation is chosen by how it's
printed.  It's clear that for cut/paste for computer use, 42,-71 is
best, and for human use it depends.

Looking beyond WGS84, I picked ITRF2014 and that is also EPSG:9122
(which I find surprising):

  https://epsg.org/crs_7912/ITRF2014.html

>> Part of the underlying trouble is that in qgis/proj we blur:
>>   datum
>>   projection
>> into
>>   CRS
>> except that some CRS are datum only, and some are datum+projection.
>
> But isn't that the 'difference' in what QGIS (in the CRS dialog) calls
> 'Geographic Coordinate Systems' vs 'Projected Coordinate Systems'?

Yes, but in opening a project and clicking around this is really not
obvious.  I know which are which, but it's really subtle.


Someone commented about in US usage Northing preceding Easting, and I
think meant for UTM, but might have also meant for State Plane
Coordinates.  I just checked a survey plan (MA SPC Mainland, which is
LCC) and sure enough N is given before E.  That doesn't mean it's right
in all cases; GIS, geodesy, surveying are all distinct subcultures.

Looking up Mass SPC, I find:

  https://epsg.org/crs_6491/NAD83-2011-Massachusetts-Mainland.html

and that is clear:

  Cartesian 2D CS. Axes: easting, northing (X,Y). Orientations: east,
  north. UoM: m.

which means easting has to come first, and the use of E and N is
non-compliant with the EPSG definition.  Use of E/N to label those also
is fundamentally different than N/S in latitude: it's a label for whcih
coordinate is which, not a replacement for a sign bit.

My impression is that while people often write xxx.xxxN, xxx.xxxE, it is
always easting, northing when used as a coordinate in a machine-readable
way.

> So: that would make (?): if crs.isGeographic() [0] we should/could use
> WSEN, and if not then we should NOT use WSEN (and optionally x/y if
> that is more clear)... except when copying coordinates, because that
> would mess up parsers :-)

It comes back to the purpose of this.  I would say:

  - By default the rules in the CRS should be followed.  That means N/S
    can be used only if the underlying degree reference is EPSG:9122.
    But then it's optional.

  - Copy coordinate is intended to produce something machine-readable.
    That means just numbers, to the extent that is reasonable.

  - The display format should match what is copied, to follow the
    Principle of Least Astonishment.

  - If someone wants a richer display of coordinates in many formats,
    that should perhaps be another right-click menu item.

My vote is for just numbers, like we have now, so the only thing
changing is making the axes compliant with the CRS definition.

And, perhaps either a preference to select a degree represenation (6
choices!), or multiple entries in the menu.  But default should be plain
decimal degrees, IMHO.

I would be ok with the chosen degree representation being used even if
the CRS specifies 9102 instead of 9122.

I would also be ok with a preference to add E/N letters to coordinates
that are defined to mean Easting and Northing by the CRS.   Default off.

Hope this helps....


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 194 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220412/156ff74b/attachment.sig>

From jean at jhemmi.eu  Wed Apr 20 04:05:14 2022
From: jean at jhemmi.eu (Jean Hemmi)
Date: Wed, 20 Apr 2022 13:05:14 +0200
Subject: [QGIS-Developer] SAGA inside processing (no more in processing/algs)
Message-ID: <CAKsx1pkS6Rj7ozORyui+A07NyBXeOwsHRkCT30R2JxfDoeDS_A@mail.gmail.com>

SAGA (otb grass) has moved (after 3.16 LTR) from
QGIS/python/plugins/processing/algs to QGIS/python/plugins/processing.
Is this change stable and final ?
Thanks
Jean Hemmi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220420/e199365e/attachment.html>

From delazj at gmail.com  Wed Apr 20 09:58:05 2022
From: delazj at gmail.com (Harrissou s.)
Date: Wed, 20 Apr 2022 18:58:05 +0200
Subject: [QGIS-Developer] Questions of a newbie starting with QGIS Server
Message-ID: <4B5AF6DD-FC7D-4948-995E-66AAFDE4D672@gmail.com>

Hi QGISers (sorry for cross-posting)

I'm trying to setup a QGIS Server... on Windows and I'd like to share some 
suggestions/issues I faced in the process and ultimately ask for help on a 
bigger issue.
I'm following the QGIS documentation instructions [0] and took the 
opportunity to update the docs[1][2], given that osgeo4w provides means to 
install apache. Review welcome, thanks.

In the docs, it is suggested to add at the end of the httpd.conf file a 
set of variables. But I notice that *most* of them are already set in the 
httpd_qgis.conf file that is #included at the end of the httpd.conf file. I 
hence ignored the addition but, Questions:
- are the GDAL_DATA and QGIS_AUTH_DB_DIR_PATH necessary for any purpose?
- If so, for what? And is it possible (does it make sense) to add them to the 
httpd_qgis.conf file also?

- Issue report: I think there is a typo in the httpd_qgis.conf file 
setting PATH and QT_PLUGIN_PATH. It mentions apps/qt5/ while it should be 
apps/Qt5/ (uppercase Q).

In my process, I didn't set the gdal or db paths above, I fixed the 
uppercase typo and when I tested I could get a reply for GetCapabilities as in 
the docs. Using the QGIS training project, I could do a GetMap which successfully returned my map canvas image. Good! My server is OP!
Well, this is where I got lost. I thought the request would output in the 
browser some image i could zoom in, pan, maybe identify... But NO, I got a 
plain, static image. What am I supposed to do next? How can I make my 
project queryable, zoomable, pannable, anythingable... in a web browser?
I might have overlooked, but the docs does not seem t provide any information for 
newbies like me, for the next step. Where should I look now? Your help to 
get out of this trouble would be much appreciated. Thanks.

Regards,
Harrissou

[0] 
https://docs.qgis.org/3.22/en/docs/server_manual/getting_started.html#installation-on-windows
[1] reading: 
https://github.com/DelazJ/QGIS-Documentation/blob/installQGISServerWindows/docs/server_manual/getting_started.rst
[2] pull-request: https://github.com/qgis/QGIS-Documentation/pull/7508
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220420/343adb98/attachment.html>

From rdmailings at duif.net  Wed Apr 20 11:23:56 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 20 Apr 2022 20:23:56 +0200
Subject: [QGIS-Developer] Questions of a newbie starting with QGIS Server
In-Reply-To: <4B5AF6DD-FC7D-4948-995E-66AAFDE4D672@gmail.com>
References: <4B5AF6DD-FC7D-4948-995E-66AAFDE4D672@gmail.com>
Message-ID: <9919cc4c-3e1a-f5b3-8367-70b9031e47e7@duif.net>

Hi Harrissou,

I think your pretty close :-)

Some remarks from the times I installed on Windows:
- I used a vanilla apache installer from https://www.apachelounge.com/
- indeed used the httpd.conf from osgeo4w to set all paths and env vars, VERY convenient
- are you sure the Qt vs qt is an issue? Thought Windows paths were not case sensitive?

The GDAL_DATA path you will need when you use for example the ECW or other drivers
QGIS_AUTH_DB_DIR_PATH is maybe only needed when you have a project which uses authentication profiles? Others?

When you have a WMS/WFS server running normally you do not have a web app yet.
You either use the WMS of WFS as datasource in QGIS (or other clients)
or you use OpenLayer/Leaflet to create an app in a browser using javascript.

Alessandro also created a landing page for WFS3/OGC API:
https://docs.qgis.org/3.22/en/docs/server_manual/services/ogcapif.html
but I found that sometimes tricky to setup...

Maybe others can share more info/experience

Regards,

Richard Duivenvoorde




On 4/20/22 18:58, Harrissou s. via QGIS-Developer wrote:
> Hi QGISers (sorry for cross-posting)
> 
> I'm trying to setup a QGIS Server... on Windows and I'd like to share some
> suggestions/issues I faced in the process and ultimately ask for help on a
> bigger issue.
> I'm following the QGIS documentation instructions [0] and took the
> opportunity to update the docs[1][2], given that osgeo4w provides means to
> install apache. Review welcome, thanks.
> 
> In the docs, it is suggested to add at the end of the httpd.conf file a
> set of variables. But I notice that *most* of them are already set in the
> httpd_qgis.conf file that is #included at the end of the httpd.conf file. I
> hence ignored the addition but, Questions:
> - are the GDAL_DATA and QGIS_AUTH_DB_DIR_PATH necessary for any purpose?
> - If so, for what? And is it possible (does it make sense) to add them to the
> httpd_qgis.conf file also?
> 
> - Issue report: I think there is a typo in the httpd_qgis.conf file
> setting PATH and QT_PLUGIN_PATH. It mentions apps/qt5/ while it should be
> apps/Qt5/ (uppercase Q).
> 
> In my process, I didn't set the gdal or db paths above, I fixed the
> uppercase typo and when I tested I could get a reply for GetCapabilities as in
> the docs. Using the QGIS training project, I could do a GetMap which successfully returned my map canvas image. Good! My server is OP!
> Well, this is where I got lost. I thought the request would output in the
> browser some image i could zoom in, pan, maybe identify... But NO, I got a
> plain, static image. What am I supposed to do next? How can I make my
> project queryable, zoomable, pannable, anythingable... in a web browser?
> I might have overlooked, but the docs does not seem t provide any information for
> newbies like me, for the next step. Where should I look now? Your help to
> get out of this trouble would be much appreciated. Thanks.
> 
> Regards,
> Harrissou
> 
> [0]
> https://docs.qgis.org/3.22/en/docs/server_manual/getting_started.html#installation-on-windows <https://docs.qgis.org/3.22/en/docs/server_manual/getting_started.html#installation-on-windows>
> [1] reading:
> https://github.com/DelazJ/QGIS-Documentation/blob/installQGISServerWindows/docs/server_manual/getting_started.rst <https://github.com/DelazJ/QGIS-Documentation/blob/installQGISServerWindows/docs/server_manual/getting_started.rst>
> [2] pull-request: https://github.com/qgis/QGIS-Documentation/pull/7508 <https://github.com/qgis/QGIS-Documentation/pull/7508>
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From antoniolocandro at hotmail.com  Wed Apr 20 07:48:49 2022
From: antoniolocandro at hotmail.com (Antonio Locandro)
Date: Wed, 20 Apr 2022 17:48:49 +0300
Subject: [QGIS-Developer] Greetings, qgis developer
Message-ID: <781007n9vd9p$0e8c8qqp$05dqm87f$@albattal.com>

Qgis
 
 
 
https://www.google.com/search?q=qgis-developer at lists.osgeo.org
 
 
Antonio
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220420/d0c237a9/attachment.html>

From r.aguilar at utwente.nl  Thu Apr 21 00:46:43 2022
From: r.aguilar at utwente.nl (Aguilar Bolivar, Rosa (UT-ITC))
Date: Thu, 21 Apr 2022 07:46:43 +0000
Subject: [QGIS-Developer] [Qgis-user] Questions of a newbie starting
 with QGIS Server
In-Reply-To: <9919cc4c-3e1a-f5b3-8367-70b9031e47e7@duif.net>
References: <4B5AF6DD-FC7D-4948-995E-66AAFDE4D672@gmail.com>
 <9919cc4c-3e1a-f5b3-8367-70b9031e47e7@duif.net>
Message-ID: <VI1P195MB0717177F03F5D7A439E4966783F49@VI1P195MB0717.EURP195.PROD.OUTLOOK.COM>

Hi, Harrisou

You could try the catalog (https://docs.qgis.org/3.22/en/docs/server_manual/catalog.html) to explore your projects.
I also used to the catalog to check the configuration of my projects, e.g., that the server had access to the sources (DB), etc.

Best regards,

Rosa



-----Original Message-----
From: Qgis-user <qgis-user-bounces at lists.osgeo.org> On Behalf Of Richard Duivenvoorde via Qgis-user
Sent: Wednesday, April 20, 2022 8:24 PM
To: Harrissou s. <delazj at gmail.com>; qgis-user at lists.osgeo.org; qgis-developer at lists.osgeo.org
Subject: Re: [Qgis-user] [QGIS-Developer] Questions of a newbie starting with QGIS Server

Hi Harrissou,

I think your pretty close :-)

Some remarks from the times I installed on Windows:
- I used a vanilla apache installer from https://www.apachelounge.com/
- indeed used the httpd.conf from osgeo4w to set all paths and env vars, VERY convenient
- are you sure the Qt vs qt is an issue? Thought Windows paths were not case sensitive?

The GDAL_DATA path you will need when you use for example the ECW or other drivers QGIS_AUTH_DB_DIR_PATH is maybe only needed when you have a project which uses authentication profiles? Others?

When you have a WMS/WFS server running normally you do not have a web app yet.
You either use the WMS of WFS as datasource in QGIS (or other clients) or you use OpenLayer/Leaflet to create an app in a browser using javascript.

Alessandro also created a landing page for WFS3/OGC API:
https://docs.qgis.org/3.22/en/docs/server_manual/services/ogcapif.html
but I found that sometimes tricky to setup...

Maybe others can share more info/experience

Regards,

Richard Duivenvoorde




On 4/20/22 18:58, Harrissou s. via QGIS-Developer wrote:
> Hi QGISers (sorry for cross-posting)
> 
> I'm trying to setup a QGIS Server... on Windows and I'd like to share 
> some suggestions/issues I faced in the process and ultimately ask for 
> help on a bigger issue.
> I'm following the QGIS documentation instructions [0] and took the 
> opportunity to update the docs[1][2], given that osgeo4w provides 
> means to install apache. Review welcome, thanks.
> 
> In the docs, it is suggested to add at the end of the httpd.conf file 
> a set of variables. But I notice that *most* of them are already set 
> in the httpd_qgis.conf file that is #included at the end of the 
> httpd.conf file. I hence ignored the addition but, Questions:
> - are the GDAL_DATA and QGIS_AUTH_DB_DIR_PATH necessary for any purpose?
> - If so, for what? And is it possible (does it make sense) to add them 
> to the httpd_qgis.conf file also?
> 
> - Issue report: I think there is a typo in the httpd_qgis.conf file 
> setting PATH and QT_PLUGIN_PATH. It mentions apps/qt5/ while it should 
> be apps/Qt5/ (uppercase Q).
> 
> In my process, I didn't set the gdal or db paths above, I fixed the 
> uppercase typo and when I tested I could get a reply for 
> GetCapabilities as in the docs. Using the QGIS training project, I could do a GetMap which successfully returned my map canvas image. Good! My server is OP!
> Well, this is where I got lost. I thought the request would output in 
> the browser some image i could zoom in, pan, maybe identify... But NO, 
> I got a plain, static image. What am I supposed to do next? How can I 
> make my project queryable, zoomable, pannable, anythingable... in a web browser?
> I might have overlooked, but the docs does not seem t provide any 
> information for newbies like me, for the next step. Where should I 
> look now? Your help to get out of this trouble would be much appreciated. Thanks.
> 
> Regards,
> Harrissou
> 
> [0]
> https://docs.qgis.org/3.22/en/docs/server_manual/getting_started.html#
> installation-on-windows 
> <https://docs.qgis.org/3.22/en/docs/server_manual/getting_started.html
> #installation-on-windows>
> [1] reading:
> https://github.com/DelazJ/QGIS-Documentation/blob/installQGISServerWin
> dows/docs/server_manual/getting_started.rst 
> <https://github.com/DelazJ/QGIS-Documentation/blob/installQGISServerWi
> ndows/docs/server_manual/getting_started.rst>
> [2] pull-request: https://github.com/qgis/QGIS-Documentation/pull/7508 
> <https://github.com/qgis/QGIS-Documentation/pull/7508>
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

_______________________________________________
Qgis-user mailing list
Qgis-user at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user

From apasotti at gmail.com  Thu Apr 21 01:10:02 2022
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 21 Apr 2022 10:10:02 +0200
Subject: [QGIS-Developer] [Qgis-user] Questions of a newbie starting
 with QGIS Server
In-Reply-To: <VI1P195MB0717177F03F5D7A439E4966783F49@VI1P195MB0717.EURP195.PROD.OUTLOOK.COM>
References: <4B5AF6DD-FC7D-4948-995E-66AAFDE4D672@gmail.com>
 <9919cc4c-3e1a-f5b3-8367-70b9031e47e7@duif.net>
 <VI1P195MB0717177F03F5D7A439E4966783F49@VI1P195MB0717.EURP195.PROD.OUTLOOK.COM>
Message-ID: <CAL5Q672vMme-F_Ov4-_pi-mRiW61-kmPeQ5ibSP1heeQK0_Fdg@mail.gmail.com>

Hi,

As Richard mentioned, the old XML-based OGC WMS/WFS/WCS & C. protocols are
plain API protocols and do not provide a full browseable website, they were
designed for machine2machine communications.

OAPIF (AKA WFS3) provides a full website though, but the protocol mandates
URL rewriting, which means that it won't work out of the box unless you
configure your web server to transform an URL to instruct QGIS server which
QGIS project you want to actually serve.

The other option, as Rosa suggestd is to use the new QGIS server catalog,
is also requires rewrite of the URL but a much simpler one because the
catalog itself takes care of creating rewrite rules for all the QGIS
projects that are listed in one of more directories or DB connections for
QGIS projects stored into a PG DB.

I'm not sure about windows, but you might also have a look at the
standalone development server, it integrates a web server and it is
supposed to work out of the box with (almost) zero configuration.

Cheers


On Thu, Apr 21, 2022 at 9:53 AM Aguilar Bolivar, Rosa (UT-ITC) via
QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:

> Hi, Harrisou
>
> You could try the catalog (
> https://docs.qgis.org/3.22/en/docs/server_manual/catalog.html) to explore
> your projects.
> I also used to the catalog to check the configuration of my projects,
> e.g., that the server had access to the sources (DB), etc.
>
> Best regards,
>
> Rosa
>
>
>
> -----Original Message-----
> From: Qgis-user <qgis-user-bounces at lists.osgeo.org> On Behalf Of Richard
> Duivenvoorde via Qgis-user
> Sent: Wednesday, April 20, 2022 8:24 PM
> To: Harrissou s. <delazj at gmail.com>; qgis-user at lists.osgeo.org;
> qgis-developer at lists.osgeo.org
> Subject: Re: [Qgis-user] [QGIS-Developer] Questions of a newbie starting
> with QGIS Server
>
> Hi Harrissou,
>
> I think your pretty close :-)
>
> Some remarks from the times I installed on Windows:
> - I used a vanilla apache installer from https://www.apachelounge.com/
> - indeed used the httpd.conf from osgeo4w to set all paths and env vars,
> VERY convenient
> - are you sure the Qt vs qt is an issue? Thought Windows paths were not
> case sensitive?
>
> The GDAL_DATA path you will need when you use for example the ECW or other
> drivers QGIS_AUTH_DB_DIR_PATH is maybe only needed when you have a project
> which uses authentication profiles? Others?
>
> When you have a WMS/WFS server running normally you do not have a web app
> yet.
> You either use the WMS of WFS as datasource in QGIS (or other clients) or
> you use OpenLayer/Leaflet to create an app in a browser using javascript.
>
> Alessandro also created a landing page for WFS3/OGC API:
> https://docs.qgis.org/3.22/en/docs/server_manual/services/ogcapif.html
> but I found that sometimes tricky to setup...
>
> Maybe others can share more info/experience
>
> Regards,
>
> Richard Duivenvoorde
>
>
>
>
> On 4/20/22 18:58, Harrissou s. via QGIS-Developer wrote:
> > Hi QGISers (sorry for cross-posting)
> >
> > I'm trying to setup a QGIS Server... on Windows and I'd like to share
> > some suggestions/issues I faced in the process and ultimately ask for
> > help on a bigger issue.
> > I'm following the QGIS documentation instructions [0] and took the
> > opportunity to update the docs[1][2], given that osgeo4w provides
> > means to install apache. Review welcome, thanks.
> >
> > In the docs, it is suggested to add at the end of the httpd.conf file
> > a set of variables. But I notice that *most* of them are already set
> > in the httpd_qgis.conf file that is #included at the end of the
> > httpd.conf file. I hence ignored the addition but, Questions:
> > - are the GDAL_DATA and QGIS_AUTH_DB_DIR_PATH necessary for any purpose?
> > - If so, for what? And is it possible (does it make sense) to add them
> > to the httpd_qgis.conf file also?
> >
> > - Issue report: I think there is a typo in the httpd_qgis.conf file
> > setting PATH and QT_PLUGIN_PATH. It mentions apps/qt5/ while it should
> > be apps/Qt5/ (uppercase Q).
> >
> > In my process, I didn't set the gdal or db paths above, I fixed the
> > uppercase typo and when I tested I could get a reply for
> > GetCapabilities as in the docs. Using the QGIS training project, I could
> do a GetMap which successfully returned my map canvas image. Good! My
> server is OP!
> > Well, this is where I got lost. I thought the request would output in
> > the browser some image i could zoom in, pan, maybe identify... But NO,
> > I got a plain, static image. What am I supposed to do next? How can I
> > make my project queryable, zoomable, pannable, anythingable... in a web
> browser?
> > I might have overlooked, but the docs does not seem t provide any
> > information for newbies like me, for the next step. Where should I
> > look now? Your help to get out of this trouble would be much
> appreciated. Thanks.
> >
> > Regards,
> > Harrissou
> >
> > [0]
> > https://docs.qgis.org/3.22/en/docs/server_manual/getting_started.html#
> > installation-on-windows
> > <https://docs.qgis.org/3.22/en/docs/server_manual/getting_started.html
> > #installation-on-windows>
> > [1] reading:
> > https://github.com/DelazJ/QGIS-Documentation/blob/installQGISServerWin
> > dows/docs/server_manual/getting_started.rst
> > <https://github.com/DelazJ/QGIS-Documentation/blob/installQGISServerWi
> > ndows/docs/server_manual/getting_started.rst>
> > [2] pull-request: https://github.com/qgis/QGIS-Documentation/pull/7508
> > <https://github.com/qgis/QGIS-Documentation/pull/7508>
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220421/7d5a8f33/attachment-0001.html>

From rdmailings at duif.net  Thu Apr 21 01:13:27 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 21 Apr 2022 10:13:27 +0200
Subject: [QGIS-Developer] [Qgis-user] Questions of a newbie starting
 with QGIS Server
In-Reply-To: <CAL5Q672vMme-F_Ov4-_pi-mRiW61-kmPeQ5ibSP1heeQK0_Fdg@mail.gmail.com>
References: <4B5AF6DD-FC7D-4948-995E-66AAFDE4D672@gmail.com>
 <9919cc4c-3e1a-f5b3-8367-70b9031e47e7@duif.net>
 <VI1P195MB0717177F03F5D7A439E4966783F49@VI1P195MB0717.EURP195.PROD.OUTLOOK.COM>
 <CAL5Q672vMme-F_Ov4-_pi-mRiW61-kmPeQ5ibSP1heeQK0_Fdg@mail.gmail.com>
Message-ID: <31e453eb-56e5-d14f-4abd-bb094e45b389@duif.net>

On 4/21/22 10:10, Alessandro Pasotti wrote:

> I'm not sure about windows, but you might also have a look at the standalone development server, it integrates a web server and it is supposed to work out of the box with (almost) zero configuration.

https://docs.qgis.org/3.22/en/docs/server_manual/development_server.html  :-)

Regards,

Richard Duivenvoorde

From delazj at gmail.com  Thu Apr 21 02:57:52 2022
From: delazj at gmail.com (DelazJ)
Date: Thu, 21 Apr 2022 11:57:52 +0200
Subject: [QGIS-Developer] Questions of a newbie starting with QGIS Server
In-Reply-To: <9919cc4c-3e1a-f5b3-8367-70b9031e47e7@duif.net>
References: <4B5AF6DD-FC7D-4948-995E-66AAFDE4D672@gmail.com>
 <9919cc4c-3e1a-f5b3-8367-70b9031e47e7@duif.net>
Message-ID: <CAECJsSri7Q5af=Z+2y_-tUn7s8gxmA5OQNwKaBy66ZGiiFpGiA@mail.gmail.com>

Hi Richard,

Le mer. 20 avr. 2022 ? 20:23, Richard Duivenvoorde <rdmailings at duif.net> a
?crit :

> Hi Harrissou,
>
> I think your pretty close :-)
>
> Some remarks from the times I installed on Windows:
> - I used a vanilla apache installer from https://www.apachelounge.com/
> - indeed used the httpd.conf from osgeo4w to set all paths and env vars,
> VERY convenient
> - are you sure the Qt vs qt is an issue? Thought Windows paths were not
> case sensitive?
>
> Probably not an issue, indeed. I must admit I didn't test, I "fixed" rigth
away. I also had mitigated my "issue" comment in an updated version of the
mail but I think I lost the changes while switching between firefox(gmail),
thunderbird, k9-mail, on various machines.


> The GDAL_DATA path you will need when you use for example the ECW or other
> drivers
> QGIS_AUTH_DB_DIR_PATH is maybe only needed when you have a project which
> uses authentication profiles? Others?
>
> So it could make sense to have them added to the default httpd_qgis.conf
file...?


> When you have a WMS/WFS server running normally you do not have a web app
> yet.
> You either use the WMS of WFS as datasource in QGIS (or other clients)
> or you use OpenLayer/Leaflet to create an app in a browser using
> javascript.
>
> Ah OK... new world to discover but not enough time... I think I will first
try the other suggested options (oapif, catalog, server development) and
let you know.

Greetings,
Thanks.
Harrissou

Alessandro also created a landing page for WFS3/OGC API:
> https://docs.qgis.org/3.22/en/docs/server_manual/services/ogcapif.html
> but I found that sometimes tricky to setup...
>
> Maybe others can share more info/experience
>
> Regards,
>
> Richard Duivenvoorde
>
>
>
>
> On 4/20/22 18:58, Harrissou s. via QGIS-Developer wrote:
> > Hi QGISers (sorry for cross-posting)
> >
> > I'm trying to setup a QGIS Server... on Windows and I'd like to share
> some
> > suggestions/issues I faced in the process and ultimately ask for help on
> a
> > bigger issue.
> > I'm following the QGIS documentation instructions [0] and took the
> > opportunity to update the docs[1][2], given that osgeo4w provides means
> to
> > install apache. Review welcome, thanks.
> >
> > In the docs, it is suggested to add at the end of the httpd.conf file a
> > set of variables. But I notice that *most* of them are already set in the
> > httpd_qgis.conf file that is #included at the end of the httpd.conf
> file. I
> > hence ignored the addition but, Questions:
> > - are the GDAL_DATA and QGIS_AUTH_DB_DIR_PATH necessary for any purpose?
> > - If so, for what? And is it possible (does it make sense) to add them
> to the
> > httpd_qgis.conf file also?
> >
> > - Issue report: I think there is a typo in the httpd_qgis.conf file
> > setting PATH and QT_PLUGIN_PATH. It mentions apps/qt5/ while it should be
> > apps/Qt5/ (uppercase Q).
> >
> > In my process, I didn't set the gdal or db paths above, I fixed the
> > uppercase typo and when I tested I could get a reply for GetCapabilities
> as in
> > the docs. Using the QGIS training project, I could do a GetMap which
> successfully returned my map canvas image. Good! My server is OP!
> > Well, this is where I got lost. I thought the request would output in the
> > browser some image i could zoom in, pan, maybe identify... But NO, I got
> a
> > plain, static image. What am I supposed to do next? How can I make my
> > project queryable, zoomable, pannable, anythingable... in a web browser?
> > I might have overlooked, but the docs does not seem t provide any
> information for
> > newbies like me, for the next step. Where should I look now? Your help to
> > get out of this trouble would be much appreciated. Thanks.
> >
> > Regards,
> > Harrissou
> >
> > [0]
> >
> https://docs.qgis.org/3.22/en/docs/server_manual/getting_started.html#installation-on-windows
> <
> https://docs.qgis.org/3.22/en/docs/server_manual/getting_started.html#installation-on-windows
> >
> > [1] reading:
> >
> https://github.com/DelazJ/QGIS-Documentation/blob/installQGISServerWindows/docs/server_manual/getting_started.rst
> <
> https://github.com/DelazJ/QGIS-Documentation/blob/installQGISServerWindows/docs/server_manual/getting_started.rst
> >
> > [2] pull-request: https://github.com/qgis/QGIS-Documentation/pull/7508 <
> https://github.com/qgis/QGIS-Documentation/pull/7508>
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220421/e53835aa/attachment.html>

From delazj at gmail.com  Thu Apr 21 03:00:32 2022
From: delazj at gmail.com (DelazJ)
Date: Thu, 21 Apr 2022 12:00:32 +0200
Subject: [QGIS-Developer] [Qgis-user] Questions of a newbie starting
 with QGIS Server
In-Reply-To: <CAL5Q672vMme-F_Ov4-_pi-mRiW61-kmPeQ5ibSP1heeQK0_Fdg@mail.gmail.com>
References: <4B5AF6DD-FC7D-4948-995E-66AAFDE4D672@gmail.com>
 <9919cc4c-3e1a-f5b3-8367-70b9031e47e7@duif.net>
 <VI1P195MB0717177F03F5D7A439E4966783F49@VI1P195MB0717.EURP195.PROD.OUTLOOK.COM>
 <CAL5Q672vMme-F_Ov4-_pi-mRiW61-kmPeQ5ibSP1heeQK0_Fdg@mail.gmail.com>
Message-ID: <CAECJsSp5Mhq1HZbjFJGKd0PQn8sGoJeO4p7NPxbaajDaQp8nNQ@mail.gmail.com>

Hi Rosa, Alessandro

Thanks for your suggestions. I will go read the docs and see what I can
output.

Regards,
Harrissou

Le jeu. 21 avr. 2022 ? 10:10, Alessandro Pasotti <apasotti at gmail.com> a
?crit :

> Hi,
>
> As Richard mentioned, the old XML-based OGC WMS/WFS/WCS & C. protocols are
> plain API protocols and do not provide a full browseable website, they were
> designed for machine2machine communications.
>
> OAPIF (AKA WFS3) provides a full website though, but the protocol mandates
> URL rewriting, which means that it won't work out of the box unless you
> configure your web server to transform an URL to instruct QGIS server which
> QGIS project you want to actually serve.
>
> The other option, as Rosa suggestd is to use the new QGIS server catalog,
> is also requires rewrite of the URL but a much simpler one because the
> catalog itself takes care of creating rewrite rules for all the QGIS
> projects that are listed in one of more directories or DB connections for
> QGIS projects stored into a PG DB.
>
> I'm not sure about windows, but you might also have a look at the
> standalone development server, it integrates a web server and it is
> supposed to work out of the box with (almost) zero configuration.
>
> Cheers
>
>
> On Thu, Apr 21, 2022 at 9:53 AM Aguilar Bolivar, Rosa (UT-ITC) via
> QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:
>
>> Hi, Harrisou
>>
>> You could try the catalog (
>> https://docs.qgis.org/3.22/en/docs/server_manual/catalog.html) to
>> explore your projects.
>> I also used to the catalog to check the configuration of my projects,
>> e.g., that the server had access to the sources (DB), etc.
>>
>> Best regards,
>>
>> Rosa
>>
>>
>>
>> -----Original Message-----
>> From: Qgis-user <qgis-user-bounces at lists.osgeo.org> On Behalf Of Richard
>> Duivenvoorde via Qgis-user
>> Sent: Wednesday, April 20, 2022 8:24 PM
>> To: Harrissou s. <delazj at gmail.com>; qgis-user at lists.osgeo.org;
>> qgis-developer at lists.osgeo.org
>> Subject: Re: [Qgis-user] [QGIS-Developer] Questions of a newbie starting
>> with QGIS Server
>>
>> Hi Harrissou,
>>
>> I think your pretty close :-)
>>
>> Some remarks from the times I installed on Windows:
>> - I used a vanilla apache installer from https://www.apachelounge.com/
>> - indeed used the httpd.conf from osgeo4w to set all paths and env vars,
>> VERY convenient
>> - are you sure the Qt vs qt is an issue? Thought Windows paths were not
>> case sensitive?
>>
>> The GDAL_DATA path you will need when you use for example the ECW or
>> other drivers QGIS_AUTH_DB_DIR_PATH is maybe only needed when you have a
>> project which uses authentication profiles? Others?
>>
>> When you have a WMS/WFS server running normally you do not have a web app
>> yet.
>> You either use the WMS of WFS as datasource in QGIS (or other clients) or
>> you use OpenLayer/Leaflet to create an app in a browser using javascript.
>>
>> Alessandro also created a landing page for WFS3/OGC API:
>> https://docs.qgis.org/3.22/en/docs/server_manual/services/ogcapif.html
>> but I found that sometimes tricky to setup...
>>
>> Maybe others can share more info/experience
>>
>> Regards,
>>
>> Richard Duivenvoorde
>>
>>
>>
>>
>> On 4/20/22 18:58, Harrissou s. via QGIS-Developer wrote:
>> > Hi QGISers (sorry for cross-posting)
>> >
>> > I'm trying to setup a QGIS Server... on Windows and I'd like to share
>> > some suggestions/issues I faced in the process and ultimately ask for
>> > help on a bigger issue.
>> > I'm following the QGIS documentation instructions [0] and took the
>> > opportunity to update the docs[1][2], given that osgeo4w provides
>> > means to install apache. Review welcome, thanks.
>> >
>> > In the docs, it is suggested to add at the end of the httpd.conf file
>> > a set of variables. But I notice that *most* of them are already set
>> > in the httpd_qgis.conf file that is #included at the end of the
>> > httpd.conf file. I hence ignored the addition but, Questions:
>> > - are the GDAL_DATA and QGIS_AUTH_DB_DIR_PATH necessary for any purpose?
>> > - If so, for what? And is it possible (does it make sense) to add them
>> > to the httpd_qgis.conf file also?
>> >
>> > - Issue report: I think there is a typo in the httpd_qgis.conf file
>> > setting PATH and QT_PLUGIN_PATH. It mentions apps/qt5/ while it should
>> > be apps/Qt5/ (uppercase Q).
>> >
>> > In my process, I didn't set the gdal or db paths above, I fixed the
>> > uppercase typo and when I tested I could get a reply for
>> > GetCapabilities as in the docs. Using the QGIS training project, I
>> could do a GetMap which successfully returned my map canvas image. Good! My
>> server is OP!
>> > Well, this is where I got lost. I thought the request would output in
>> > the browser some image i could zoom in, pan, maybe identify... But NO,
>> > I got a plain, static image. What am I supposed to do next? How can I
>> > make my project queryable, zoomable, pannable, anythingable... in a web
>> browser?
>> > I might have overlooked, but the docs does not seem t provide any
>> > information for newbies like me, for the next step. Where should I
>> > look now? Your help to get out of this trouble would be much
>> appreciated. Thanks.
>> >
>> > Regards,
>> > Harrissou
>> >
>> > [0]
>> > https://docs.qgis.org/3.22/en/docs/server_manual/getting_started.html#
>> > installation-on-windows
>> > <https://docs.qgis.org/3.22/en/docs/server_manual/getting_started.html
>> > #installation-on-windows>
>> > [1] reading:
>> > https://github.com/DelazJ/QGIS-Documentation/blob/installQGISServerWin
>> > dows/docs/server_manual/getting_started.rst
>> > <https://github.com/DelazJ/QGIS-Documentation/blob/installQGISServerWi
>> > ndows/docs/server_manual/getting_started.rst>
>> > [2] pull-request: https://github.com/qgis/QGIS-Documentation/pull/7508
>> > <https://github.com/qgis/QGIS-Documentation/pull/7508>
>> >
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> Qgis-user mailing list
>> Qgis-user at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220421/bce29131/attachment-0001.html>

From rdmailings at duif.net  Thu Apr 21 03:04:15 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 21 Apr 2022 12:04:15 +0200
Subject: [QGIS-Developer] Questions of a newbie starting with QGIS Server
In-Reply-To: <CAECJsSri7Q5af=Z+2y_-tUn7s8gxmA5OQNwKaBy66ZGiiFpGiA@mail.gmail.com>
References: <4B5AF6DD-FC7D-4948-995E-66AAFDE4D672@gmail.com>
 <9919cc4c-3e1a-f5b3-8367-70b9031e47e7@duif.net>
 <CAECJsSri7Q5af=Z+2y_-tUn7s8gxmA5OQNwKaBy66ZGiiFpGiA@mail.gmail.com>
Message-ID: <ab39139c-b483-0fa2-c8eb-e5ee7801ff20@duif.net>

On 4/21/22 11:57, DelazJ wrote:

>     The GDAL_DATA path you will need when you use for example the ECW or other drivers
>     QGIS_AUTH_DB_DIR_PATH is maybe only needed when you have a project which uses authentication profiles? Others?
> 
> So it could make sense to have them added to the default httpd_qgis.conf file...?

Probably yes, others?

Regards,

Richard

From nyall.dawson at gmail.com  Thu Apr 21 18:33:33 2022
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 22 Apr 2022 11:33:33 +1000
Subject: [QGIS-Developer] SAGA inside processing (no more in
 processing/algs)
In-Reply-To: <CAKsx1pkS6Rj7ozORyui+A07NyBXeOwsHRkCT30R2JxfDoeDS_A@mail.gmail.com>
References: <CAKsx1pkS6Rj7ozORyui+A07NyBXeOwsHRkCT30R2JxfDoeDS_A@mail.gmail.com>
Message-ID: <CAB28AsgPXMOushOEm+EYSE==Hy11OUy_Gz6ot6835M8xdJLLkw@mail.gmail.com>

On Wed, 20 Apr 2022 at 21:06, Jean Hemmi via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> SAGA (otb grass) has moved (after 3.16 LTR) from QGIS/python/plugins/processing/algs to QGIS/python/plugins/processing.
> Is this change stable and final ?

That's undecided. There's a good chance the SAGA provider will be
totally removed from the base QGIS install in future and distributed
only as a third party plugin.

Nyall

From rdmailings at duif.net  Sun Apr 24 23:46:25 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 25 Apr 2022 08:46:25 +0200
Subject: [QGIS-Developer] Possibility to see what a 'Task' is doing (AND
 double blue taskbars...)
Message-ID: <210659a2b7e3667b7c48dba878367254@duif.net>

Hi,

Not sure if others share my experience, but I occasionally have a 
'task'(?) running, showing the 'blue waiting bar' in my bottom screen, 
(when (re)loading data in a plugin), taking several seconds. It is to me 
not so clear what it taking so long, and there is also no 
message/tooltip/sign somewhere around that blue bar.

Would it be an option/possibility to show (in messages or tooltip), what 
QGIS is doing (in some general way: 'rendering', 'filtering', 'loading 
data', 'processing' ....)?

Note: it is NOT QgsTask and it's bar I'm talking about. That is a nice 
example, what I would like to see :-)  See screenshot.
I understand that it will not be possible to show a percentage for core 
tasks like rendering/filtering etcetc, but at least some title would be 
nice?

Others? Or am I the only one seeing the two 'task bars' (that is why I 
added a screendump ;-) )

Thanks for any insight,

Regards,

Richard Duivenvoorde

-------------- next part --------------
A non-text attachment was scrubbed...
Name: task-bars.png
Type: image/png
Size: 6498 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220425/d11a2eb8/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgstask.png
Type: image/png
Size: 23990 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220425/d11a2eb8/attachment-0003.png>

From quentin.coles at nasa.gov  Tue Apr 26 14:36:11 2022
From: quentin.coles at nasa.gov (Coles, Quentin (GSFC-423.0)[RAYTHEON COMPANY])
Date: Tue, 26 Apr 2022 21:36:11 +0000
Subject: [QGIS-Developer] Permission Issues during Flatpak Install on NIS
 clients
Message-ID: <53360DAE-0A59-4D51-8765-6E09602A0340@nasa.gov>

Hello All,


Has anyone had an issue installing Flatpak QGIS on Rhel 8 where the permissions on many directories show up with question marks in the permissions like the following:

# cd /view/NightlyBuild_linux/var/lib/flatpak/runtime/org.kde.Sdk/x86_64/5.15-21.08/61a7c1ac873ecbfbdae4442a28da9d1356d105c2d6f8c9c9a719012cab99fe32/files/lib

[root at i8oml01v lib]# ls -al

ls: cannot access 'os-release': Permission denied

total 136

drwxr-xr-x 20 root root  4096 Dec 31  1969 .

drwxr-xr-x 14 root root   263 Apr 25 14:56 ..

drwxr-xr-x  2 root root     6 Dec 31  1969 aarch64-linux-gnu

drwxr-xr-x  2 root root     6 Dec 31  1969 arm-linux-gnueabihf

drwxr-xr-x  2 root root    17 Dec 31  1969 debug

drwxr-xr-x  4 root root    41 Dec 31  1969 extensions

drwxr-xr-x  3 root root    38 Dec 31  1969 gcc

drwxr-xr-x  2 root root     6 Dec 31  1969 i386-linux-gnu

lrwxrwxrwx  1 root root    39 Apr 25 14:56 ld-linux-aarch64.so.1 -> aarch64-linux-gnu/ld-linux-aarch64.so.1

lrwxrwxrwx  1 root root    39 Apr 25 14:56 ld-linux-armhf.so.3 -> arm-linux-gnueabihf/ld-linux-armhf.so.3

lrwxrwxrwx  1 root root    28 Apr 25 14:56 ld-linux.so.2 -> i386-linux-gnu/ld-linux.so.2

drwxr-xr-x 36 root root 12288 Dec 31  1969 locale

drwxr-xr-x 76 root root  4096 Dec 31  1969 mkspecs

-?????????  ? ?    ?        ?            ? os-release

drwxr-xr-x  4 root root    37 Dec 31  1969 perf

drwxr-xr-x  5 root root    56 Dec 31  1969 perl5

drwxr-xr-x 40 root root  4096 Dec 31  1969 plugins

drwxr-xr-x 32 root root  8192 Dec 31  1969 python3.9

drwxr-xr-x 23 root root  4096 Dec 31  1969 qml

drwxr-xr-x  2 root root     6 Dec 31  1969 sdk

drwxr-xr-x  3 root root    20 Dec 31  1969 systemd

drwxr-xr-x  3 root root    21 Dec 31  1969 tcl8.6

lrwxrwxrwx  1 root root    17 Apr 25 14:56 terminfo -> ../share/terminfo

drwxr-xr-x  4 root root    39 Dec 31  1969 udev

drwxr-xr-x 55 root root 69632 Dec 31  1969 x86_64-linux-gnu


These type files are littered throughout the directory structure above. I think the issue is because of the NIS system where those users don?t exist locally on the server. Does anyone know what the username should be or any other workaround for this type of problem?

Thanks in advance
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20220426/fa267b07/attachment.html>

From rdmailings at duif.net  Tue Apr 26 23:15:52 2022
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 27 Apr 2022 08:15:52 +0200
Subject: [QGIS-Developer] Permission Issues during Flatpak Install on
 NIS clients
In-Reply-To: <53360DAE-0A59-4D51-8765-6E09602A0340@nasa.gov>
References: <53360DAE-0A59-4D51-8765-6E09602A0340@nasa.gov>
Message-ID: <7ca77acc-4e50-0fea-aece-54039b1aec94@duif.net>

Hi Quentin,

I think it is better to ask this in the issue tracker of the github packager:

https://github.com/flathub/org.qgis.qgis/issues

There they are probably more aware of such details.

Regards,

Richard Duivenvoorde

On 4/26/22 23:36, Coles, Quentin (GSFC-423.0)[RAYTHEON COMPANY] via QGIS-Developer wrote:
> Hello All,
> 
> Has anyone had an issue installing Flatpak QGIS on Rhel 8 where the permissions on many directories show up with question marks in the permissions like the following:
> 
> # cd /view/NightlyBuild_linux/var/lib/flatpak/runtime/org.kde.Sdk/x86_64/5.15-21.08/61a7c1ac873ecbfbdae4442a28da9d1356d105c2d6f8c9c9a719012cab99fe32/files/lib
> 
> [root at i8oml01v lib]# ls -al
> 
> ls: cannot access 'os-release': Permission denied
> 
> total 136
> 
> drwxr-xr-x 20 root root4096 Dec 311969 .
> 
> drwxr-xr-x 14 root root 263 Apr 25 14:56 ..
> 
> drwxr-xr-x2 root root 6 Dec 311969 aarch64-linux-gnu
> 
> drwxr-xr-x2 root root 6 Dec 311969 arm-linux-gnueabihf
> 
> drwxr-xr-x2 root root17 Dec 311969 debug
> 
> drwxr-xr-x4 root root41 Dec 311969 extensions
> 
> drwxr-xr-x3 root root38 Dec 311969 gcc
> 
> drwxr-xr-x2 root root 6 Dec 311969 i386-linux-gnu
> 
> lrwxrwxrwx1 root root39 Apr 25 14:56 ld-linux-aarch64.so.1-> *aarch64-linux-gnu/ld-linux-aarch64.so.1*
> 
> lrwxrwxrwx1 root root39 Apr 25 14:56 ld-linux-armhf.so.3-> *arm-linux-gnueabihf/ld-linux-armhf.so.3*
> 
> lrwxrwxrwx1 root root28 Apr 25 14:56 ld-linux.so.2-> *i386-linux-gnu/ld-linux.so.2*
> 
> drwxr-xr-x 36 root root 12288 Dec 311969 locale
> 
> drwxr-xr-x 76 root root4096 Dec 311969 mkspecs
> 
> -?????????? ???? os-release
> 
> drwxr-xr-x4 root root37 Dec 311969 perf
> 
> drwxr-xr-x5 root root56 Dec 311969 perl5
> 
> drwxr-xr-x 40 root root4096 Dec 311969 plugins
> 
> drwxr-xr-x 32 root root8192 Dec 311969 python3.9
> 
> drwxr-xr-x 23 root root4096 Dec 311969 qml
> 
> drwxr-xr-x2 root root 6 Dec 311969 sdk
> 
> drwxr-xr-x3 root root20 Dec 311969 systemd
> 
> drwxr-xr-x3 root root21 Dec 311969 tcl8.6
> 
> lrwxrwxrwx1 root root17 Apr 25 14:56 terminfo-> ../share/terminfo
> 
> drwxr-xr-x4 root root39 Dec 311969 udev
> 
> drwxr-xr-x 55 root root 69632 Dec 311969 x86_64-linux-gnu
> 
> These type files are littered throughout the directory structure above. I think the issue is because of the NIS system where those users don?t exist locally on the server. Does anyone know what the username should be or any other workaround for this type of problem?
> 
> Thanks in advance
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From Ethan.Snyder at rve.com  Thu Apr 28 06:25:03 2022
From: Ethan.Snyder at rve.com (Ethan Snyder)
Date: Thu, 28 Apr 2022 13:25:03 +0000
Subject: [QGIS-Developer] PR Review Request for Layout Scalebar Data
 Overrides
Message-ID: <BL0PR16MB2578E3609419A276914DCDD69BFD9@BL0PR16MB2578.namprd16.prod.outlook.com>

Hello Devs:

        I worked on adding data defined overrides to the layout scalebar item, and has passed all the checks and is now waiting review.

        This feature is something that I'm missing when I make map books (which I do a lot) when the atlas layer is not a regular grid (which is more often than not), and I need the scalebar fixed segment size to be very particular based off the map scale. When implementing this, I decided to add overrides for not just the single field that I needed, but the other probably common items including the number of segments to the left and right, the fixed width of a single segment (which is what I needed), and the min/max segment size settings.

        https://github.com/qgis/QGIS/pull/48314

        I look forward to working more with the QGIS code base and adding more features.
        This is only the beginning.

Thank you for your time,

Ethan Snyder
GIS/GPS Technician
Remington & Vernick Engineers, Inc.
DISCLAIMER: This message and any documents attached may contain confidential information and are intended only for the individual(s) named. If you are not the intended recipient, or the employee or agent authorized to received for the intended recipient, you should not disseminate, distribute or copy this e-mail and any attached documents. If you have received this e-mail in error, please immediately notify the sender at Remington & Vernick Engineers by replying to this e-mail and delete the original e-mail and any reply e-mail messages from your system. E-mail transmission cannot be guaranteed to be secure or error-free as information could be intercepted, corrupted, lost, destroyed, arrive late or incomplete, or contain viruses. The sender therefore does not accept liability for any errors or omissions in the contents of this message, which arise as a result of e-mail transmission. If verification is required please request a hard-copy version. Thank you.

From cavallini at faunalia.it  Fri Apr 29 01:35:46 2022
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 29 Apr 2022 10:35:46 +0200
Subject: [QGIS-Developer] 24th Contributors Meeting in Firenze
Message-ID: <ca165b2b-3cba-6bb1-3621-d9bf1e043d39@faunalia.it>

Hi all,
just before the next FOSS4G we'll have our next Contributors Meeting:
https://github.com/qgis/QGIS/wiki/24th-Contributors-Meeting-in-Firenze
Given the tourist pressure in Florence during August, it is important to
have a rather accurate idea of the number of participants in order to
find suitable accommodation. We'd be therefore be grateful if all
participants would register to the event:
https://github.com/qgis/QGIS/wiki/24th-Contributors-Meeting-in-Firenze#register
Also suggestions, contributions, and addition to the meeting page are
precious and most welcome.
All the best.
-- 
Paolo Cavallini
www.faunalia.eu - QGIS.org
training, support, development on QGIS, PostGIS and more

