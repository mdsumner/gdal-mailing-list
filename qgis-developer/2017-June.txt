From noreply at qgis.org  Thu Jun  1 01:41:27 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 01 Jun 2017 08:41:27 -0000
Subject: [QGIS-Developer] Plugin [1237] BoundaryDelineation approval
	notification.
Message-ID: <20170601084127.28620.29093@320558c5528b>


Plugin BoundaryDelineation approval by pcav.
The plugin version "[1237] BoundaryDelineation 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/BoundaryDelineation/

From noreply at qgis.org  Thu Jun  1 01:41:45 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 01 Jun 2017 08:41:45 -0000
Subject: [QGIS-Developer] Plugin [609] Temporal/Spectral Profile Tool
	approval notification.
Message-ID: <20170601084145.15103.6269@320558c5528b>


Plugin Temporal/Spectral Profile Tool approval by pcav.
The plugin version "[609] Temporal/Spectral Profile Tool 1.2.0" is now approved
Link: http://plugins.qgis.org/plugins/temporalprofiletool/

From dmarteau at 3liz.com  Thu Jun  1 02:21:58 2017
From: dmarteau at 3liz.com (David Marteau)
Date: Thu, 1 Jun 2017 11:21:58 +0200
Subject: [QGIS-Developer] Building QGIS 2.18 on OSX
In-Reply-To: <7610A942-9BCF-480B-844E-7883048F10E6@kyngchaos.com>
References: <MMXP123MB1342470140F0E098BD82C878C5F30@MMXP123MB1342.GBRP123.PROD.OUTLOOK.COM>
 <7610A942-9BCF-480B-844E-7883048F10E6@kyngchaos.com>
Message-ID: <A8789BE1-3861-47FB-B97B-CAB7D6A82C6B@3liz.com>

Hi,

You will find some information for building QGIS 2.18 and QGIS master on OSX here: 

https://www.3liz.com/blog/rldhont/index.php?post/2017/06/01/How-to-build-qgis-on-OSX-with-MacPort


> Le 31 mai 2017 à 16:49, William Kyngesburye <woklist at kyngchaos.com> a écrit :
> 
> Well, I build the OS X package.  I recently upgraded to Sierra and it messed up my development setup.  I had problems with QGIS also, but didn't want to spend time figuring it out (I need to build for older systems, and I was way behind on QGIS updates) so I used my other Mac that I kept at Yosemite.
> 
> - installing Qt4 - I had already installed Qt4 so running the installer was not a problem.  But what I have is a standard OS X installer package for Qt4, that should not crash anyways.  BUT, it installs a couple important items in /usr/lib and /usr/bin, which are protected in Sierra by SIP and will fail.  You'd have to hack those bits so they are available elsewhere in an unprotected location.  You can use Pacifist to extract installer files so you can put them in custom locations.
> 
> - compiling Qt4 - I never had much luck with this in the past, even in supported OS X versions, but it's long past supported OS X versions and you will at least get lots of warnings, if not errors.  Maybe homebrew and the like have patches to work around these, but sounds like you still had problems.
> 
> 
>> On May 29, 2017, at 9:33 AM, Helton Costa <heltucosta at hotmail.com <mailto:heltucosta at hotmail.com>> wrote:
>> 
>> Hi everybody,
>> 
>> This is my first post here and I hope there's not already a post related to this, even thought I searched through the list a little.
>> 
>> I have been trying to build QGIS 2.18 for about 3 weeks following a few step by steps I found but none of them gave me success. I'm on OSX 10.12.
>> I first followed the official step by step from QGIS, and then, other ones using homebrew, but wasn't able to finish the build for the intended version.
>> I do believe I have a polluted OS and libraries, but I invested around 6 hours cleaning it and my environments to try it all again, and still, no success.
>> 
>> Mainly, I believe my issue is regarding Qt4, which is already deprecated and I'm not able to install it properly. I already tried the .dmg from official's qt website (which crashes) and some cartr and osgeo formulaes from homebrew and still no success.
>> Somewhere along the configuration and build process I get errors regarding Qt4 or some of their python bindings libraries and even thought I did manage to fix some of them, the build was never able to finish.
>> 
>> Do you guys believe it is still possible to build non-master versions of QGIS on OSX, and if so, what would be some kind of different approach in order to be able to achieve it?
>> 
>> Kind regards, 
>> 
>> Helton Costa
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/ <http://www.kyngchaos.com/>
> 
> Earth: "Mostly harmless"
> 
> - revised entry in the HitchHiker's Guide to the Galaxy
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170601/f7fb83b5/attachment-0001.html>

From stephanebek at gmail.com  Thu Jun  1 02:22:43 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Thu, 1 Jun 2017 13:22:43 +0400
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
	unique "Add layer" tool?
In-Reply-To: <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
References: <CAECJsSq7CaO+ruszLP6hTQkf7pP=qj=TV3i3itRNsjJHWEhQOw@mail.gmail.com>
 <CA+H0G_HOsSi6=Wc+ztp1qjO3xy3fyQ9xN44Cv=Zwq8fMs52eSQ@mail.gmail.com>
 <CAK6pVBUu_QcyUX_WTo4A0SzbZ7iZvvzxbRqPEeWSy1rK0hfxNw@mail.gmail.com>
 <CAFFV8FgdocgtcHFjVUsBDdBtn7HsHb53W9Dm=6ADKSRAOhcxdA@mail.gmail.com>
 <CA+H0G_E1xsEk+E26XmOVkFmbyZRmhSY03GYwj4mihe=XKAwKCg@mail.gmail.com>
 <CA+H0G_GW1YQH6m14c2irWRvLBktg611a3oqNT-usoZg4M=hMPA@mail.gmail.com>
 <4f947712fc1a667480d2d4548050dfe4@carto.net>
 <CABgOYCcPi2bYqU=_qeQnasGz51K2uL+T1641RVWGHqREq63RRg@mail.gmail.com>
 <CA+H0G_GfeseP7kiSVk8OdeaJiK3_HFCHL0E+gkqEcuZsWVD4Uw@mail.gmail.com>
 <59eeadd0-0d1a-4d83-cba8-386a8a8e4a54@carto.net>
 <CA+H0G_FHpz626j52m0g1y-1GszagAP-aS5o3R25PZ-ccrgRnBQ@mail.gmail.com>
 <CA+H0G_Hvpmr6Gxwi=KzV8-JySB6_GuB_YhjHh+m=gk1Qr=+W6g@mail.gmail.com>
 <CAES-DZTPVwz7TePXZ1FttjfB-JiXTgZaeqM=uQ-htxrZg9s8Ww@mail.gmail.com>
 <CAB28Ashw_s=vs-b4uCNdc35xvJT8toFGK1Za9KSmkKqrNtpTbw@mail.gmail.com>
 <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
Message-ID: <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>

I really look forward to testing it :-) Thanks a lot for our involvement
here!


Le mercredi 31 mai 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :

> Hi,
>
> final update: the development of what was in phase 1 is done.
>
> Actually, a bit more than phase 1 considering that we've redesigned the
> delimited text dialog GUI and I've done quite a bit of small refactorings
> of the providers selection dialogs interfaces.
>
> There has been a lot of feed-back, thank you all!
>
> As expected, there is no complete agreement over the final GUI bits for
> the menus and toolbars, and we still miss an icon (the green plus that I've
> used was only meant as a placeholder). I tried to keep the old toolbar
> available (disabled by default) mainly because it can spare a click and
> power users might want it back. Also, the new icon is the most prominent in
> the left bar and it's the first menu item in the layers menu.
>
> I have not a strong opinion about those toolbars and menus but I think I
> should wait no more and merge it as it is, then give the people some time
> to test the actual implementation and decide how to improve it.
>
> I kept the controversial part in a single commit so that it will be very
> easy to revert and propose a different placement for menus, icons and
> toolbars.
>
>
> Any objections if I proceed?
>
>
>
> On Wed, May 24, 2017 at 2:29 PM, Alessandro Pasotti <apasotti at gmail.com
> <javascript:_e(%7B%7D,'cvml','apasotti at gmail.com');>> wrote:
>
>> Hi,
>>
>> a quick update:
>>
>> I've prepared a PR with a working prototype in
>> https://github.com/qgis/QGIS/pull/4629, I need some feed-back and some
>> help, expecially UX/UI about if we want it as a dockable dialog too (and
>> how to make it user-configurable).
>>
>> Feed-back welcome (but please keep it limited in scope to phase 1).
>>
>> Cheers
>>
>>
>>
>> On Fri, May 19, 2017 at 9:45 AM, Richard Duivenvoorde <
>> rdmailings at duif.net <javascript:_e(%7B%7D,'cvml','rdmailings at duif.net');>
>> > wrote:
>>
>>> On 19-05-17 01:23, Nyall Dawson wrote:
>>>
>>> > On this note - I've recently discovered the need for some type of
>>> > reusable layer selection widget which allows choice of existing
>>> > layers/loading new layers from the file system/loading new layers from
>>> > available db/online connections. This would be extremely valuable for
>>> > processing too!
>>> >
>>> > So I'm really glad to hear that you'll be pushing ahead with this work
>>> > - thanks Boundless!
>>>
>>> Yep, and thanks Alessandro for the screenie. Makes me want more!
>>>
>>> @Nyall in Essen the talk was to start with what Alessandro wrote in his
>>> email, so 1 dialog 'merging' all buttons/widgets/dialogs into one, reuse
>>> as much as possible. So it was possible to get it into 3.0
>>>
>>> Off course people (.../me) started brainstorming about features which
>>> w/could be added too :-)
>>>
>>> Your idea adds (I think) to the idea to make some kind of
>>> 'datamanagement-console' in near future, where you can create/copy
>>> data(!), move data around (browser part) or delete it.
>>> Your note fits in this isn't it?
>>>
>>> Regards,
>>>
>>> Richard
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> <javascript:_e(%7B%7D,'cvml','QGIS-Developer at lists.osgeo.org');>
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it
>>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>


-- 

“When you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170601/6640b624/attachment.html>

From stephanebek at gmail.com  Thu Jun  1 02:36:05 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Thu, 1 Jun 2017 13:36:05 +0400
Subject: [QGIS-Developer] Problem with "no Data value" with rasters when
 using the Layer Styling panel?
In-Reply-To: <CAK6pVBXC34jrv9XVH6xFdkOdCyc1AvXfKML4QM=K76svtojsmg@mail.gmail.com>
References: <CAK6pVBVcB0jEQN4rzMT8VUgWuAQA_DP4ZK1McCLanD_K8gz6Ew@mail.gmail.com>
 <CAK6pVBXC34jrv9XVH6xFdkOdCyc1AvXfKML4QM=K76svtojsmg@mail.gmail.com>
Message-ID: <CAK6pVBUX7AE2xfQg=AZFg7oW-s5pF61Z9jht4xiA_gN-NX+5sA@mail.gmail.com>

Hi again

in doubt, I have opened a ticket here: https://issues.qgis.org/issues/16649

Cheers
Stéphane


Le mardi 30 mai 2017, Stéphane Henriod <stephanebek at gmail.com> a écrit :

> PS: screencast to better explain the issue: https://vimeo.com/219467091
>
> Le mardi 30 mai 2017, Stéphane Henriod <stephanebek at gmail.com
> <javascript:_e(%7B%7D,'cvml','stephanebek at gmail.com');>> a écrit :
>
>> Hi
>>
>> I am testing the layer styling panel (shortcut F7) with the latest
>> Nightly build on the Ubuntu repositories.
>>
>> By default, the NoData value is -9999. If I add "10" as additional NoData
>> value, nothing happens.
>>
>> If I do the same in the layer properties, then the expected behavior
>> happens: all pixels with value "10" are not rendered.
>>
>> So it seems that the manually added NoData values in the Layer Styling
>> Panel are not considered.
>>
>> Can someone else replicate this problem? Should I open a ticket?
>>
>> Cheers
>> Stéphane
>>
>>
>> --
>>
>> “When you travel, remember that a foreign country is not designed to make
>> you comfortable. It is designed to make its own people comfortable." --
>> Clifton Fadiman
>>
>>
>
> --
>
> “When you travel, remember that a foreign country is not designed to make
> you comfortable. It is designed to make its own people comfortable." --
> Clifton Fadiman
>
>

-- 

“When you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170601/60e4734f/attachment.html>

From cavallini at faunalia.it  Thu Jun  1 02:38:22 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 1 Jun 2017 11:38:22 +0200
Subject: [QGIS-Developer] New help online
Message-ID: <6965c4d6-6dcd-d31d-1920-2b7f4f8e9d9a@faunalia.it>

Hi all,
on QGIS3 the button Help apparently searches the online manual. However
I keep on getting:
file:///usr/local/src/qgis/QGIS/doc/nohelp.html

Oops!

QGIS help is currently not available. This is likely because:

    No internet connection is available
    The offline help files are not available or the location of these
files is not properly configured
    No help content is available for the requested topic

Please check that the correct location of the offline help files is
specified in the QGIS options dialog (Settings → Options →System).

Changing the path:
http://docs.qgis.org/$qgis_short_version/$qgis_locale/docs/user_manual/
to
http://docs.qgis.org/testing/en/docs/user_manual/
I can get it working. Perhaps better, to make testing easier, to add a
new branch on the website? Or better just adding the second 'testing'
path for now?

Furthermore, I guess we have to find a solution for offline users,
without the need for them to setup the local path.
All the best, and thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From apasotti at gmail.com  Thu Jun  1 02:44:17 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 1 Jun 2017 11:44:17 +0200
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
	unique "Add layer" tool?
In-Reply-To: <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
References: <CAECJsSq7CaO+ruszLP6hTQkf7pP=qj=TV3i3itRNsjJHWEhQOw@mail.gmail.com>
 <CA+H0G_HOsSi6=Wc+ztp1qjO3xy3fyQ9xN44Cv=Zwq8fMs52eSQ@mail.gmail.com>
 <CAK6pVBUu_QcyUX_WTo4A0SzbZ7iZvvzxbRqPEeWSy1rK0hfxNw@mail.gmail.com>
 <CAFFV8FgdocgtcHFjVUsBDdBtn7HsHb53W9Dm=6ADKSRAOhcxdA@mail.gmail.com>
 <CA+H0G_E1xsEk+E26XmOVkFmbyZRmhSY03GYwj4mihe=XKAwKCg@mail.gmail.com>
 <CA+H0G_GW1YQH6m14c2irWRvLBktg611a3oqNT-usoZg4M=hMPA@mail.gmail.com>
 <4f947712fc1a667480d2d4548050dfe4@carto.net>
 <CABgOYCcPi2bYqU=_qeQnasGz51K2uL+T1641RVWGHqREq63RRg@mail.gmail.com>
 <CA+H0G_GfeseP7kiSVk8OdeaJiK3_HFCHL0E+gkqEcuZsWVD4Uw@mail.gmail.com>
 <59eeadd0-0d1a-4d83-cba8-386a8a8e4a54@carto.net>
 <CA+H0G_FHpz626j52m0g1y-1GszagAP-aS5o3R25PZ-ccrgRnBQ@mail.gmail.com>
 <CA+H0G_Hvpmr6Gxwi=KzV8-JySB6_GuB_YhjHh+m=gk1Qr=+W6g@mail.gmail.com>
 <CAES-DZTPVwz7TePXZ1FttjfB-JiXTgZaeqM=uQ-htxrZg9s8Ww@mail.gmail.com>
 <CAB28Ashw_s=vs-b4uCNdc35xvJT8toFGK1Za9KSmkKqrNtpTbw@mail.gmail.com>
 <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
 <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
Message-ID: <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>

On Thu, Jun 1, 2017 at 11:22 AM, Stéphane Henriod <stephanebek at gmail.com>
wrote:

> I really look forward to testing it :-) Thanks a lot for our involvement
> here!
>
>

Thanks to Boundless for funding the development and thanks to all of you
who participated with design, mockups, ideas, comments and reviews!

This was a nice and effective cooperation.


BTW, if you can't wait, a Docker with a nigthly build of the PR branch is
available as "boundlessgeo/qgis-testing-environment:unified-button"

Cheers


>
> Le mercredi 31 mai 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :
>
>> Hi,
>>
>> final update: the development of what was in phase 1 is done.
>>
>> Actually, a bit more than phase 1 considering that we've redesigned the
>> delimited text dialog GUI and I've done quite a bit of small refactorings
>> of the providers selection dialogs interfaces.
>>
>> There has been a lot of feed-back, thank you all!
>>
>> As expected, there is no complete agreement over the final GUI bits for
>> the menus and toolbars, and we still miss an icon (the green plus that I've
>> used was only meant as a placeholder). I tried to keep the old toolbar
>> available (disabled by default) mainly because it can spare a click and
>> power users might want it back. Also, the new icon is the most prominent in
>> the left bar and it's the first menu item in the layers menu.
>>
>> I have not a strong opinion about those toolbars and menus but I think I
>> should wait no more and merge it as it is, then give the people some time
>> to test the actual implementation and decide how to improve it.
>>
>> I kept the controversial part in a single commit so that it will be very
>> easy to revert and propose a different placement for menus, icons and
>> toolbars.
>>
>>
>> Any objections if I proceed?
>>
>>
>>
>> On Wed, May 24, 2017 at 2:29 PM, Alessandro Pasotti <apasotti at gmail.com>
>> wrote:
>>
>>> Hi,
>>>
>>> a quick update:
>>>
>>> I've prepared a PR with a working prototype in
>>> https://github.com/qgis/QGIS/pull/4629, I need some feed-back and some
>>> help, expecially UX/UI about if we want it as a dockable dialog too (and
>>> how to make it user-configurable).
>>>
>>> Feed-back welcome (but please keep it limited in scope to phase 1).
>>>
>>> Cheers
>>>
>>>
>>>
>>> On Fri, May 19, 2017 at 9:45 AM, Richard Duivenvoorde <
>>> rdmailings at duif.net> wrote:
>>>
>>>> On 19-05-17 01:23, Nyall Dawson wrote:
>>>>
>>>> > On this note - I've recently discovered the need for some type of
>>>> > reusable layer selection widget which allows choice of existing
>>>> > layers/loading new layers from the file system/loading new layers from
>>>> > available db/online connections. This would be extremely valuable for
>>>> > processing too!
>>>> >
>>>> > So I'm really glad to hear that you'll be pushing ahead with this work
>>>> > - thanks Boundless!
>>>>
>>>> Yep, and thanks Alessandro for the screenie. Makes me want more!
>>>>
>>>> @Nyall in Essen the talk was to start with what Alessandro wrote in his
>>>> email, so 1 dialog 'merging' all buttons/widgets/dialogs into one, reuse
>>>> as much as possible. So it was possible to get it into 3.0
>>>>
>>>> Off course people (.../me) started brainstorming about features which
>>>> w/could be added too :-)
>>>>
>>>> Your idea adds (I think) to the idea to make some kind of
>>>> 'datamanagement-console' in near future, where you can create/copy
>>>> data(!), move data around (browser part) or delete it.
>>>> Your note fits in this isn't it?
>>>>
>>>> Regards,
>>>>
>>>> Richard
>>>>
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>
>>>
>>>
>>> --
>>> Alessandro Pasotti
>>> w3:   www.itopen.it
>>>
>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it
>>
>
>
> --
>
> “When you travel, remember that a foreign country is not designed to make
> you comfortable. It is designed to make its own people comfortable." --
> Clifton Fadiman
>
>


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170601/b5565b8f/attachment-0001.html>

From stephanebek at gmail.com  Thu Jun  1 03:34:42 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Thu, 1 Jun 2017 14:34:42 +0400
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
	unique "Add layer" tool?
In-Reply-To: <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>
References: <CAECJsSq7CaO+ruszLP6hTQkf7pP=qj=TV3i3itRNsjJHWEhQOw@mail.gmail.com>
 <CA+H0G_HOsSi6=Wc+ztp1qjO3xy3fyQ9xN44Cv=Zwq8fMs52eSQ@mail.gmail.com>
 <CAK6pVBUu_QcyUX_WTo4A0SzbZ7iZvvzxbRqPEeWSy1rK0hfxNw@mail.gmail.com>
 <CAFFV8FgdocgtcHFjVUsBDdBtn7HsHb53W9Dm=6ADKSRAOhcxdA@mail.gmail.com>
 <CA+H0G_E1xsEk+E26XmOVkFmbyZRmhSY03GYwj4mihe=XKAwKCg@mail.gmail.com>
 <CA+H0G_GW1YQH6m14c2irWRvLBktg611a3oqNT-usoZg4M=hMPA@mail.gmail.com>
 <4f947712fc1a667480d2d4548050dfe4@carto.net>
 <CABgOYCcPi2bYqU=_qeQnasGz51K2uL+T1641RVWGHqREq63RRg@mail.gmail.com>
 <CA+H0G_GfeseP7kiSVk8OdeaJiK3_HFCHL0E+gkqEcuZsWVD4Uw@mail.gmail.com>
 <59eeadd0-0d1a-4d83-cba8-386a8a8e4a54@carto.net>
 <CA+H0G_FHpz626j52m0g1y-1GszagAP-aS5o3R25PZ-ccrgRnBQ@mail.gmail.com>
 <CA+H0G_Hvpmr6Gxwi=KzV8-JySB6_GuB_YhjHh+m=gk1Qr=+W6g@mail.gmail.com>
 <CAES-DZTPVwz7TePXZ1FttjfB-JiXTgZaeqM=uQ-htxrZg9s8Ww@mail.gmail.com>
 <CAB28Ashw_s=vs-b4uCNdc35xvJT8toFGK1Za9KSmkKqrNtpTbw@mail.gmail.com>
 <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
 <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
 <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>
Message-ID: <CAK6pVBU1WC4GWGc1dO8xE0SVy6yh=1vhcD2UQ4Pa8Zer29OYWw@mail.gmail.com>

Thanks but I will wait for the nightly builds to be available on the Ubuntu
repositories! :-)



Le jeudi 1 juin 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :

> On Thu, Jun 1, 2017 at 11:22 AM, Stéphane Henriod <stephanebek at gmail.com
> <javascript:_e(%7B%7D,'cvml','stephanebek at gmail.com');>> wrote:
>
>> I really look forward to testing it :-) Thanks a lot for our involvement
>> here!
>>
>>
>
> Thanks to Boundless for funding the development and thanks to all of you
> who participated with design, mockups, ideas, comments and reviews!
>
> This was a nice and effective cooperation.
>
>
> BTW, if you can't wait, a Docker with a nigthly build of the PR branch is
> available as "boundlessgeo/qgis-testing-environment:unified-button"
>
> Cheers
>
>
>>
>> Le mercredi 31 mai 2017, Alessandro Pasotti <apasotti at gmail.com
>> <javascript:_e(%7B%7D,'cvml','apasotti at gmail.com');>> a écrit :
>>
>>> Hi,
>>>
>>> final update: the development of what was in phase 1 is done.
>>>
>>> Actually, a bit more than phase 1 considering that we've redesigned the
>>> delimited text dialog GUI and I've done quite a bit of small refactorings
>>> of the providers selection dialogs interfaces.
>>>
>>> There has been a lot of feed-back, thank you all!
>>>
>>> As expected, there is no complete agreement over the final GUI bits for
>>> the menus and toolbars, and we still miss an icon (the green plus that I've
>>> used was only meant as a placeholder). I tried to keep the old toolbar
>>> available (disabled by default) mainly because it can spare a click and
>>> power users might want it back. Also, the new icon is the most prominent in
>>> the left bar and it's the first menu item in the layers menu.
>>>
>>> I have not a strong opinion about those toolbars and menus but I think I
>>> should wait no more and merge it as it is, then give the people some time
>>> to test the actual implementation and decide how to improve it.
>>>
>>> I kept the controversial part in a single commit so that it will be very
>>> easy to revert and propose a different placement for menus, icons and
>>> toolbars.
>>>
>>>
>>> Any objections if I proceed?
>>>
>>>
>>>
>>> On Wed, May 24, 2017 at 2:29 PM, Alessandro Pasotti <apasotti at gmail.com>
>>> wrote:
>>>
>>>> Hi,
>>>>
>>>> a quick update:
>>>>
>>>> I've prepared a PR with a working prototype in
>>>> https://github.com/qgis/QGIS/pull/4629, I need some feed-back and some
>>>> help, expecially UX/UI about if we want it as a dockable dialog too (and
>>>> how to make it user-configurable).
>>>>
>>>> Feed-back welcome (but please keep it limited in scope to phase 1).
>>>>
>>>> Cheers
>>>>
>>>>
>>>>
>>>> On Fri, May 19, 2017 at 9:45 AM, Richard Duivenvoorde <
>>>> rdmailings at duif.net> wrote:
>>>>
>>>>> On 19-05-17 01:23, Nyall Dawson wrote:
>>>>>
>>>>> > On this note - I've recently discovered the need for some type of
>>>>> > reusable layer selection widget which allows choice of existing
>>>>> > layers/loading new layers from the file system/loading new layers
>>>>> from
>>>>> > available db/online connections. This would be extremely valuable for
>>>>> > processing too!
>>>>> >
>>>>> > So I'm really glad to hear that you'll be pushing ahead with this
>>>>> work
>>>>> > - thanks Boundless!
>>>>>
>>>>> Yep, and thanks Alessandro for the screenie. Makes me want more!
>>>>>
>>>>> @Nyall in Essen the talk was to start with what Alessandro wrote in his
>>>>> email, so 1 dialog 'merging' all buttons/widgets/dialogs into one,
>>>>> reuse
>>>>> as much as possible. So it was possible to get it into 3.0
>>>>>
>>>>> Off course people (.../me) started brainstorming about features which
>>>>> w/could be added too :-)
>>>>>
>>>>> Your idea adds (I think) to the idea to make some kind of
>>>>> 'datamanagement-console' in near future, where you can create/copy
>>>>> data(!), move data around (browser part) or delete it.
>>>>> Your note fits in this isn't it?
>>>>>
>>>>> Regards,
>>>>>
>>>>> Richard
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> QGIS-Developer mailing list
>>>>> QGIS-Developer at lists.osgeo.org
>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Alessandro Pasotti
>>>> w3:   www.itopen.it
>>>>
>>>
>>>
>>>
>>> --
>>> Alessandro Pasotti
>>> w3:   www.itopen.it
>>>
>>
>>
>> --
>>
>> “When you travel, remember that a foreign country is not designed to make
>> you comfortable. It is designed to make its own people comfortable." --
>> Clifton Fadiman
>>
>>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>


-- 

“When you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170601/34729190/attachment.html>

From alexander.bruy at gmail.com  Thu Jun  1 03:36:22 2017
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Thu, 1 Jun 2017 13:36:22 +0300
Subject: [QGIS-Developer] New help online
In-Reply-To: <6965c4d6-6dcd-d31d-1920-2b7f4f8e9d9a@faunalia.it>
References: <6965c4d6-6dcd-d31d-1920-2b7f4f8e9d9a@faunalia.it>
Message-ID: <CALuHMPDX3aKc=BG5=wr-m5rLKn35XHJiV+CCwpk4eUBoY94WfA@mail.gmail.com>

Hi Paolo,

we don't have documentation for 2.99 that's why you are seeing
this nohelp.html.

2017-06-01 12:38 GMT+03:00 Paolo Cavallini <cavallini at faunalia.it>:
> Hi all,
> on QGIS3 the button Help apparently searches the online manual. However
> I keep on getting:
> file:///usr/local/src/qgis/QGIS/doc/nohelp.html
>
> Oops!
>
> QGIS help is currently not available. This is likely because:
>
>     No internet connection is available
>     The offline help files are not available or the location of these
> files is not properly configured
>     No help content is available for the requested topic
>
> Please check that the correct location of the offline help files is
> specified in the QGIS options dialog (Settings → Options →System).
>
> Changing the path:
> http://docs.qgis.org/$qgis_short_version/$qgis_locale/docs/user_manual/
> to
> http://docs.qgis.org/testing/en/docs/user_manual/
> I can get it working. Perhaps better, to make testing easier, to add a
> new branch on the website? Or better just adding the second 'testing'
> path for now?
>
> Furthermore, I guess we have to find a solution for offline users,
> without the need for them to setup the local path.
> All the best, and thanks.
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alexander Bruy

From dassau at gbd-consult.de  Thu Jun  1 03:26:43 2017
From: dassau at gbd-consult.de (Otto Dassau)
Date: Thu, 1 Jun 2017 12:26:43 +0200
Subject: [QGIS-Developer] lizmap configuration disappeared
Message-ID: <20170601122643.66bf4706@indien>

Hi,

login as admin to lizmap client (3.0.4) I cannot see the menu entry "my
account" anymore to configure the client. I only can click on "exit". I must
have set some wrong hooks somewhere during another session :( and after that
the menu disapeared. 

Can I change some values in a config file to be able to see the Lizmap
configuration as admin again?

Hope the qgis lists is the right place for such questions. I haven't found a
lizmap ml.

thanks a lot
Otto

From cavallini at faunalia.it  Thu Jun  1 03:48:28 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 1 Jun 2017 12:48:28 +0200
Subject: [QGIS-Developer] New help online
In-Reply-To: <CALuHMPDX3aKc=BG5=wr-m5rLKn35XHJiV+CCwpk4eUBoY94WfA@mail.gmail.com>
References: <6965c4d6-6dcd-d31d-1920-2b7f4f8e9d9a@faunalia.it>
 <CALuHMPDX3aKc=BG5=wr-m5rLKn35XHJiV+CCwpk4eUBoY94WfA@mail.gmail.com>
Message-ID: <5f891749-3be8-58c1-3c99-68ada20945f5@faunalia.it>

Hi Alex,
well understood, that's why I suggested, for ease of testing and for
spotting eventual missing manpages, to either add a new branch on the
website, or just adding the second 'testing' path for now.
Moreover: any idea for offline users, see below?
All the best, and thanks.

Il 01/06/2017 12:36, Alexander Bruy ha scritto:
> Hi Paolo,
> 
> we don't have documentation for 2.99 that's why you are seeing
> this nohelp.html.
> 
> 2017-06-01 12:38 GMT+03:00 Paolo Cavallini <cavallini at faunalia.it>:
>> Hi all,
>> on QGIS3 the button Help apparently searches the online manual. However
>> I keep on getting:
>> file:///usr/local/src/qgis/QGIS/doc/nohelp.html
>>
>> Oops!
>>
>> QGIS help is currently not available. This is likely because:
>>
>>     No internet connection is available
>>     The offline help files are not available or the location of these
>> files is not properly configured
>>     No help content is available for the requested topic
>>
>> Please check that the correct location of the offline help files is
>> specified in the QGIS options dialog (Settings → Options →System).
>>
>> Changing the path:
>> http://docs.qgis.org/$qgis_short_version/$qgis_locale/docs/user_manual/
>> to
>> http://docs.qgis.org/testing/en/docs/user_manual/
>> I can get it working. Perhaps better, to make testing easier, to add a
>> new branch on the website? Or better just adding the second 'testing'
>> path for now?
>>
>> Furthermore, I guess we have to find a solution for offline users,
>> without the need for them to setup the local path.
>> All the best, and thanks.
>> --
>> Paolo Cavallini - www.faunalia.eu
>> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
>> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 


-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From rdmailings at duif.net  Thu Jun  1 04:17:53 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 1 Jun 2017 13:17:53 +0200
Subject: [QGIS-Developer] New help online
In-Reply-To: <CALuHMPDX3aKc=BG5=wr-m5rLKn35XHJiV+CCwpk4eUBoY94WfA@mail.gmail.com>
References: <6965c4d6-6dcd-d31d-1920-2b7f4f8e9d9a@faunalia.it>
 <CALuHMPDX3aKc=BG5=wr-m5rLKn35XHJiV+CCwpk4eUBoY94WfA@mail.gmail.com>
Message-ID: <55f13958-fdf5-d49a-88aa-223e93bb35d1@duif.net>

On 01-06-17 12:36, Alexander Bruy wrote:
> Hi Paolo,
> 
> we don't have documentation for 2.99 that's why you are seeing
> this nohelp.html.

But 2.99 is master docs branch isn't it?

for 2.18 is the release_2.18 branch.

Redirection wasn't configured yet though...

I now added some redirections in apache config so now a link as

http://docs.qgis.org/2.99/en/docs/user_manual/print_composer/index.html

wil bring you to master version:

http://docs.qgis.org/testing/en/docs/user_manual/print_composer/index.html

Anything else we/I should do to make this work?


Regards,

Richard Duivenvoorde



From joao.f.r.gaspar at gmail.com  Thu Jun  1 04:21:53 2017
From: joao.f.r.gaspar at gmail.com (=?UTF-8?B?Sm/Do28gR2FzcGFy?=)
Date: Thu, 1 Jun 2017 12:21:53 +0100
Subject: [QGIS-Developer] lizmap configuration disappeared
In-Reply-To: <20170601122643.66bf4706@indien>
References: <20170601122643.66bf4706@indien>
Message-ID: <CAM+zXj0BZ639=PRWz4d=sqSCENd1qA-h9cDYA44=86QNqbQBOw@mail.gmail.com>

Hi,
Otto, try the github page:
https://github.com/3liz/lizmap-web-client/issues

put in the subject [Question] is more easy to track and answer.

Regards
João


2017-06-01 11:26 GMT+01:00 Otto Dassau <dassau at gbd-consult.de>:

> Hi,
>
> login as admin to lizmap client (3.0.4) I cannot see the menu entry "my
> account" anymore to configure the client. I only can click on "exit". I
> must
> have set some wrong hooks somewhere during another session :( and after
> that
> the menu disapeared.
>
> Can I change some values in a config file to be able to see the Lizmap
> configuration as admin again?
>
> Hope the qgis lists is the right place for such questions. I haven't found
> a
> lizmap ml.
>
> thanks a lot
> Otto
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170601/26bd8355/attachment.html>

From delazj at gmail.com  Thu Jun  1 04:33:54 2017
From: delazj at gmail.com (DelazJ)
Date: Thu, 1 Jun 2017 13:33:54 +0200
Subject: [QGIS-Developer] Understanding the mixed values widget option in
	multi-edit attributes
Message-ID: <CAECJsSomMQXkyxUboqUdVv6Nvg=W-+xOxuj72qKvOSjSQLc1nA@mail.gmail.com>

Hi devs,

When using the multi-edit attributes tool from the Attribute table dialog,
if a field contains different values for the selected features, the widget
beside the field is yellow and offers a drop-down button.
clicking the button shows "Set <myfield> for all selected features" option.
What does that do?
Afaict, selecting it clears the field value (set to NULL). Is that the
purpose ? in which case could the label be more explicit e.g.:
- Set <myfield> to NULL for all selected features
- Clear <myfield> for all selected features

Or did I miss something?

Thanks,
Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170601/7fd86082/attachment.html>

From cavallini at faunalia.it  Thu Jun  1 05:42:57 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 1 Jun 2017 14:42:57 +0200
Subject: [QGIS-Developer] New help online
In-Reply-To: <55f13958-fdf5-d49a-88aa-223e93bb35d1@duif.net>
References: <6965c4d6-6dcd-d31d-1920-2b7f4f8e9d9a@faunalia.it>
 <CALuHMPDX3aKc=BG5=wr-m5rLKn35XHJiV+CCwpk4eUBoY94WfA@mail.gmail.com>
 <55f13958-fdf5-d49a-88aa-223e93bb35d1@duif.net>
Message-ID: <e324774e-83d1-62ae-0215-28295bee7abd@faunalia.it>

Il 01/06/2017 13:17, Richard Duivenvoorde ha scritto:

> I now added some redirections in apache config so now a link as
> 
> http://docs.qgis.org/2.99/en/docs/user_manual/print_composer/index.html
> 
> wil bring you to master version:
> 
> http://docs.qgis.org/testing/en/docs/user_manual/print_composer/index.html
> 
> Anything else we/I should do to make this work?

Thanks Richard, a better solution indeed. It does not work for
$qgis_locale =! en, but this will be easy to fix.
What about offline usage?
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From sfkeller at gmail.com  Thu Jun  1 05:53:23 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Thu, 1 Jun 2017 14:53:23 +0200
Subject: [QGIS-Developer] How to retrieve all "virtual fields" of a
	layer?
In-Reply-To: <CAMtDFLK4zkz4Gk8ZFkhye2yDpYFEG5jWrne71Tt4WMX63xYY1A@mail.gmail.com>
References: <CAFcOn28BiPhjuxCTaPDMCDOPLKSb2fJcNqaoMG9Yqdc+K7OiSw@mail.gmail.com>
 <CAMtDFLK4zkz4Gk8ZFkhye2yDpYFEG5jWrne71Tt4WMX63xYY1A@mail.gmail.com>
Message-ID: <CAFcOn28Luk7iv6L47f3K8vskDc4nfjOV2rX=GwRbUzZq1_gc6g@mail.gmail.com>

Thanks Etienne,

But I'm looking for a list of virtual fields (not virtual C++
functions) from a PyQGIS accessor as they can be defined by the user
in the "Field Calculator".

:Stefan

2017-06-01 3:23 GMT+02:00 Etienne Trimaille <etienne.trimaille at gmail.com>:
> Hi,
>
> Both layer.fields() or layer.pendingFields() work for me. I got my virtual
> field.
>
> 2017-06-01 3:34 GMT+08:00 Stefan Keller <sfkeller at gmail.com>:
>>
>> Hi,
>>
>> In a Python plugin I want to retrieve information about all
>> attributes/fields of a layer
>> In the cookbook [1] it's described how to retrieve thems
>>   for field in layer.pendingFields():
>>       print field.name(), field.typeName()
>>
>> => But how do I get all "virtual fields" programmatically?
>>
>> :Stefan
>>
>> [1]
>> http://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/vector.html#retrieving-information-about-attributes
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>

From matthias at opengis.ch  Thu Jun  1 06:08:40 2017
From: matthias at opengis.ch (=?UTF-8?B?TWF0dGhpYXMgS3VobiDwn4yN?=)
Date: Thu, 1 Jun 2017 15:08:40 +0200
Subject: [QGIS-Developer] How to retrieve all "virtual fields" of a
	layer?
In-Reply-To: <CAFcOn28Luk7iv6L47f3K8vskDc4nfjOV2rX=GwRbUzZq1_gc6g@mail.gmail.com>
References: <CAFcOn28BiPhjuxCTaPDMCDOPLKSb2fJcNqaoMG9Yqdc+K7OiSw@mail.gmail.com>
 <CAMtDFLK4zkz4Gk8ZFkhye2yDpYFEG5jWrne71Tt4WMX63xYY1A@mail.gmail.com>
 <CAFcOn28Luk7iv6L47f3K8vskDc4nfjOV2rX=GwRbUzZq1_gc6g@mail.gmail.com>
Message-ID: <e7f4a36c-e6cf-58bd-fe49-c6c13650b542@opengis.ch>

Hi Stefan

for attr_idx in range(l.fields().count()):
    if l.fields().fieldOrigin(attr_idx) == QgsFields.OriginExpression:
        print(l.fields()[attr_idx].name())

Cheers
Matthias

On 06/01/2017 02:53 PM, Stefan Keller wrote:
> Thanks Etienne,
>
> But I'm looking for a list of virtual fields (not virtual C++
> functions) from a PyQGIS accessor as they can be defined by the user
> in the "Field Calculator".
>
> :Stefan
>
> 2017-06-01 3:23 GMT+02:00 Etienne Trimaille <etienne.trimaille at gmail.com>:
> > Hi,
> >
> > Both layer.fields() or layer.pendingFields() work for me. I got my virtual
> > field.
> >
> > 2017-06-01 3:34 GMT+08:00 Stefan Keller <sfkeller at gmail.com>:
> >>
> >> Hi,
> >>
> >> In a Python plugin I want to retrieve information about all
> >> attributes/fields of a layer
> >> In the cookbook [1] it's described how to retrieve thems
> >>   for field in layer.pendingFields():
> >>       print field.name(), field.typeName()
> >>
> >> => But how do I get all "virtual fields" programmatically?
> >>
> >> :Stefan
> >>
> >> [1]
> >> http://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/vector.html#retrieving-information-about-attributes
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


From noreply at qgis.org  Thu Jun  1 06:50:19 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 01 Jun 2017 13:50:19 -0000
Subject: [QGIS-Developer] Plugin [1152] QgisODK approval notification.
Message-ID: <20170601135019.27560.38680@320558c5528b>


Plugin QgisODK approval by pcav.
The plugin version "[1152] QgisODK 1.6" is now approved
Link: http://plugins.qgis.org/plugins/QgisODK/

From larrys at dakotacarto.com  Thu Jun  1 07:18:17 2017
From: larrys at dakotacarto.com (Larry Shaffer)
Date: Thu, 1 Jun 2017 08:18:17 -0600
Subject: [QGIS-Developer] Building QGIS 2.18 on OSX
In-Reply-To: <A8789BE1-3861-47FB-B97B-CAB7D6A82C6B@3liz.com>
References: <MMXP123MB1342470140F0E098BD82C878C5F30@MMXP123MB1342.GBRP123.PROD.OUTLOOK.COM>
 <7610A942-9BCF-480B-844E-7883048F10E6@kyngchaos.com>
 <A8789BE1-3861-47FB-B97B-CAB7D6A82C6B@3liz.com>
Message-ID: <CA+nQOR_w16u67oVRYPwNXG4JH1=7jMfpk1AKQ-cR-wek8Tx3Tw@mail.gmail.com>

Hi Helton,

A full walkthrough for building master branch using Homebrew is here:
https://github.com/qgis/homebrew-qgisdev/tree/master/development

Main Homebrew tap (formulae repo) is here:
https://github.com/qgis/homebrew-qgisdev/

For QGIS 2.18 and 2.14, you can reference the Homebrew formulae in
OSGeo4Mac tap (qgis2 and qgis2-ltr respectively):
https://github.com/OSGeo/homebrew-osgeo4mac/tree/master/Formula

So, to install 2.18, thereby ensuring all dependencies for building your
own 2.18 from source, do the following:

brew install osgeo/osgeo4mac/qgis2

or, if you only want the dependencies:

brew install osgeo/osgeo4mac/qgis2 --only-dependencies

See also: `man brew` after install Homebrew.

Regards,

Larry Shaffer
Dakota Cartography
Black Hills, South Dakota
----------------------------------
Boundless Desktop and QGIS Support/Development
Boundless Spatial - http://boundlessgeo.com
lshaffer at boundlessgeo.com

On Thu, Jun 1, 2017 at 3:21 AM, David Marteau <dmarteau at 3liz.com> wrote:

> Hi,
>
> You will find some information for building QGIS 2.18 and QGIS master on
> OSX here:
>
> https://www.3liz.com/blog/rldhont/index.php?post/2017/
> 06/01/How-to-build-qgis-on-OSX-with-MacPort
>
>
> Le 31 mai 2017 à 16:49, William Kyngesburye <woklist at kyngchaos.com> a
> écrit :
>
> Well, I build the OS X package.  I recently upgraded to Sierra and it
> messed up my development setup.  I had problems with QGIS also, but didn't
> want to spend time figuring it out (I need to build for older systems, and
> I was way behind on QGIS updates) so I used my other Mac that I kept at
> Yosemite.
>
> - installing Qt4 - I had already installed Qt4 so running the installer
> was not a problem.  But what I have is a standard OS X installer package
> for Qt4, that should not crash anyways.  BUT, it installs a couple
> important items in /usr/lib and /usr/bin, which are protected in Sierra by
> SIP and will fail.  You'd have to hack those bits so they are available
> elsewhere in an unprotected location.  You can use Pacifist to extract
> installer files so you can put them in custom locations.
>
> - compiling Qt4 - I never had much luck with this in the past, even in
> supported OS X versions, but it's long past supported OS X versions and you
> will at least get lots of warnings, if not errors.  Maybe homebrew and the
> like have patches to work around these, but sounds like you still had
> problems.
>
>
> On May 29, 2017, at 9:33 AM, Helton Costa <heltucosta at hotmail.com> wrote:
>
> Hi everybody,
>
> This is my first post here and I hope there's not already a post related
> to this, even thought I searched through the list a little.
>
> I have been trying to build QGIS 2.18 for about 3 weeks following a few
> step by steps I found but none of them gave me success. I'm on OSX 10.12.
> I first followed the official step by step from QGIS, and then, other ones
> using homebrew, but wasn't able to finish the build for the intended
> version.
> I do believe I have a polluted OS and libraries, but I invested around 6
> hours cleaning it and my environments to try it all again, and still, no
> success.
>
> Mainly, I believe my issue is regarding Qt4, which is already deprecated
> and I'm not able to install it properly. I already tried the .dmg from
> official's qt website (which crashes) and some cartr and osgeo formulaes
> from homebrew and still no success.
> Somewhere along the configuration and build process I get errors regarding
> Qt4 or some of their python bindings libraries and even thought I did
> manage to fix some of them, the build was never able to finish.
>
> Do you guys believe it is still possible to build non-master versions of
> QGIS on OSX, and if so, what would be some kind of different approach in
> order to be able to achieve it?
>
> Kind regards,
>
> *Helton Costa*
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> Earth: "Mostly harmless"
>
> - revised entry in the HitchHiker's Guide to the Galaxy
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170601/95fdccd6/attachment-0001.html>

From noreply at qgis.org  Thu Jun  1 08:56:59 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 01 Jun 2017 15:56:59 -0000
Subject: [QGIS-Developer] Plugin [1200] IO geopaparazzi approval
	notification.
Message-ID: <20170601155659.15103.83648@320558c5528b>


Plugin IO geopaparazzi approval by pcav.
The plugin version "[1200] IO geopaparazzi 0.1.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/IOGeopaparazzi/

From regis.haubourg at gmail.com  Thu Jun  1 08:59:46 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 1 Jun 2017 08:59:46 -0700 (MST)
Subject: [QGIS-Developer] issue with snapping on unchecked legend classes
Message-ID: <1496332786782-5322685.post@n6.nabble.com>

Hi, 
before raising an issue, we found that snapping index is available for
unchecked legend classes which allows to snap on invisible layers. 
Is this an issue or a feature that can be useful to some of us? 

If it's an issue we'll put that in the tracker and have someone fix it in
2.18.x and master.
Thanks for your feedback
Régis
 



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/issue-with-snapping-on-unchecked-legend-classes-tp5322685.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From radim.blazek at gmail.com  Thu Jun  1 10:31:30 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Thu, 1 Jun 2017 19:31:30 +0200
Subject: [QGIS-Developer] Drag and drop to PostGIS crash
In-Reply-To: <CAB28Asg6WhpGN8vT9xCKUPxNBZAAhV_F_=YWWxqAJy4UD1zoLA@mail.gmail.com>
References: <CAEMrtYp4XO0fKs_52q0s+vyUbSEu2VzMJV3-RQYA3V7kPSBMGw@mail.gmail.com>
 <CAB28AsjEOMHhKB=AHs0pj3aar3jhXzHO8a9bTaZHCxpEwPpnFw@mail.gmail.com>
 <20170530074032.x2tmrn5uw4zhza2s@liz>
 <CAEMrtYresJxe3ZdH5MpGD0YwAGq+TgDjnXRHbxEwVRwPHJv9Uw@mail.gmail.com>
 <20170530080157.2gultfwi4iscp4zt@liz>
 <CAEMrtYot04QPq6iBFeTwJGMyh7BNDsd9fmgjjRYxPjLgG2xzBg@mail.gmail.com>
 <CAB28Asg6WhpGN8vT9xCKUPxNBZAAhV_F_=YWWxqAJy4UD1zoLA@mail.gmail.com>
Message-ID: <CAEMrtYpyVGY=8h5s5UUYLLqJ8zARn60FPFeT5VcZmPD8p8sAvw@mail.gmail.com>

On Tue, May 30, 2017 at 11:39 PM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>> DD works within the browser now but not for layer with measures.
> I guess this has never been implemented. Looking at ...

I added Z, M and ZM types to postgres provider output and allowed
AddFeatures for layers with measures (user should be warn on
application level).

>> DD from layer tree to postgres/browser imports the layer (without measures) but:
>> - the layer is removed from layer tree - intended?
>
> Definitely not - I hit this too a week or so ago, and it's far from
> ideal! QgsDockBrowserTreeView::dragEnterEvent/dragMoveEvent/dropEvent
> has code which is supposed to force a copy action when dragging from
> the layer tree, but something's broken there. Any ideas Martin?

I found that it makes copy (showing + icon) if dragged with Ctrl. No
idea why setDropAction( Qt::CopyAction ) in QgsDockBrowserTreeView is
ignored.

I have no clear opinion if default action should be copy or move in this case.

>> One traceback below, it crashed when DD failed. I think that the
>> problem is that it is trying to show an error message which can only
>> be done on main thread?
>> The code which is run from QgsTaskManager should never interact with GUI?
>
> That shouldn't be the case (unless there's a bug somewhere). It's true
> that tasks should never interact with the GUI in their run()
> implementation, but QgsTask::finished should only ever be called from
> the main thread and it should be safe to do GUI operations there. From
> your crash below it seems like it's crashing after
> QgsVectorLayerExporterTask::errorOccurred is emitted - but that's only
> ever done from QgsVectorLayerExporterTask::finished . Could you try
> putting a temporary assert in QgsVectorLayerExporterTask::finished to
> ensure that it's working as designed and being called from the main
> thread?

You are right, errorOccurred is emitted on the main thread.
Unfortunately I cannot reproduce the crash. It may have something to
do with how the items in the browser were created, if all pushed to
main thread or deleted to early instead of deleteLater().

Thanks
Radim

From frippe12573 at hotmail.com  Thu Jun  1 00:43:24 2017
From: frippe12573 at hotmail.com (Eugenio Trumpy)
Date: Thu, 1 Jun 2017 07:43:24 +0000
Subject: [QGIS-Developer] [Qgis-user] Wrong result with Saga Raster
	calculator
In-Reply-To: <CAMCJCht+gRGG3D1ov5_F5nrx0B96iimaHrdoXuj5k6NTtpL1iw@mail.gmail.com>
References: <1496219264084-5322429.post@n6.nabble.com>
 <cfca77ff-ed7b-e10c-9a0c-af6088efa94e@faunalia.it>
 <1496222366766-5322442.post@n6.nabble.com>
 <CAMCJChtLomV3bOSFPzetDM=y+aORaZa1vmdgOC42nJ9E57GR+A@mail.gmail.com>
 <VI1P190MB030283033981B3BFD07FBC87E5F10@VI1P190MB0302.EURP190.PROD.OUTLOOK.COM>,
 <CAMCJCht+gRGG3D1ov5_F5nrx0B96iimaHrdoXuj5k6NTtpL1iw@mail.gmail.com>
Message-ID: <VI1P190MB0302DE8E3EC4CB53FA493E82E5F60@VI1P190MB0302.EURP190.PROD.OUTLOOK.COM>

Hi Pedro,


I did the same for 5 pixels in the test raster I shared with you yesterday.

The different seems to be a little bit greater.

See the attached sheet.


I don't know if the version of saga, 2.3.1 the mine vs 2.3.2 the yours could generate this error,

or if the problem is in qgis process model.


E.





________________________________
Da: Pedro Venâncio <pedrongvenancio at gmail.com>
Inviato: mercoledì 31 maggio 2017 22:16
A: Eugenio Trumpy
Cc: qgis-user; qgis-developer
Oggetto: Re: [Qgis-user] Wrong result with Saga Raster calculator

Hi Eugenio,

I've created a sample processing model (attached), that works ok, except a small error in the result (decimals).

For instance:

Raster  ID      Pixel value

Z_top_res       a       1202,03510276

t_top_res       b       53,6123428345

topo    c1      -182,584899902

SAGA Result 1   c       15,1783676147

SAGA Result 2   d       31,9437332153   Diff
Expected Result 1
        15,1783679504   0,000000335741
Expected Result 2
        31,9740872222   0,0303540069

Formula
1       ifelse(c1>0,-(0.0065*c1-16),(0.0045*c1+16))
2       ifelse(a<500,0,((b-c)/a)*1000)

Using SAGA GUI there is no error.

Could this be because of some roundings in the input / output? (I'm sending for the developer's list also).

Thanks!

Best regards,
Pedro Venâncio



2017-05-31 10:56 GMT+01:00 Eugenio Trumpy <frippe12573 at hotmail.com<mailto:frippe12573 at hotmail.com>>:


Hi Pedro,

thank you very much to have tested the computation with my test data!
You are right, I checked again the computation and actually it works.

However, I was using Saga raster calculation in a processing modeler, and one of the layer I share with you
is the resulting from a previous computation.

In other word the raster layer c=temp_recal.tif comes from a previous computation (raster calculator):
ifelse(a>0,-(0.0065*a-16),(0.0045*a+16))
where a is the layer attached, and hence c of the previous  formula is the resulting of this first computation.

E.

________________________________
Da: Pedro Venâncio <pedrongvenancio at gmail.com<mailto:pedrongvenancio at gmail.com>>
Inviato: mercoledì 31 maggio 2017 11:37
A: frippe12573; qgis-user
Oggetto: Re: [Qgis-user] Wrong result with Saga Raster calculator

Hi Eugenio,

The result with SAGA Raster Calculator seems ok here, on QGIS 2.18.9, SAGA 2.3.2, both from OSGeo4W64 (result attached).

Z_top_res.tif have values from 724.403 to 1423.553, and so, the first condition is never true. Then, it always make ((b-c)/a)*1000, and the result seems ok to me.


Pedro



2017-05-31 10:19 GMT+01:00 frippe12573 <frippe12573 at hotmail.com<mailto:frippe12573 at hotmail.com>>:
Hi Paolo,

the raster have the same size and origin.
The pixels are precisely overlapped.

I tried also r.mapcalc, but I got a worst result.
Here the output of the log:
https://pastebin.com/jNyyzHgf

E.



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Wrong-result-with-Saga-Raster-calculator-tp5322429p5322442.html
Sent from the QGIS - User mailing list archive at Nabble.com.
_______________________________________________
Qgis-user mailing list
Qgis-user at lists.osgeo.org<mailto:Qgis-user at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170601/5a302b06/attachment.html>

From nyall.dawson at gmail.com  Thu Jun  1 16:50:46 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 2 Jun 2017 09:50:46 +1000
Subject: [QGIS-Developer] Drag and drop to PostGIS crash
In-Reply-To: <CAEMrtYpyVGY=8h5s5UUYLLqJ8zARn60FPFeT5VcZmPD8p8sAvw@mail.gmail.com>
References: <CAEMrtYp4XO0fKs_52q0s+vyUbSEu2VzMJV3-RQYA3V7kPSBMGw@mail.gmail.com>
 <CAB28AsjEOMHhKB=AHs0pj3aar3jhXzHO8a9bTaZHCxpEwPpnFw@mail.gmail.com>
 <20170530074032.x2tmrn5uw4zhza2s@liz>
 <CAEMrtYresJxe3ZdH5MpGD0YwAGq+TgDjnXRHbxEwVRwPHJv9Uw@mail.gmail.com>
 <20170530080157.2gultfwi4iscp4zt@liz>
 <CAEMrtYot04QPq6iBFeTwJGMyh7BNDsd9fmgjjRYxPjLgG2xzBg@mail.gmail.com>
 <CAB28Asg6WhpGN8vT9xCKUPxNBZAAhV_F_=YWWxqAJy4UD1zoLA@mail.gmail.com>
 <CAEMrtYpyVGY=8h5s5UUYLLqJ8zARn60FPFeT5VcZmPD8p8sAvw@mail.gmail.com>
Message-ID: <CAB28AsgpuT7AbDVzzR68OVBGCQTy6HskcjvORdnoDkap-Ac06g@mail.gmail.com>

On 2 June 2017 at 03:31, Radim Blazek <radim.blazek at gmail.com> wrote:
> On Tue, May 30, 2017 at 11:39 PM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>> DD works within the browser now but not for layer with measures.
>> I guess this has never been implemented. Looking at ...
>
> I added Z, M and ZM types to postgres provider output and allowed
> AddFeatures for layers with measures (user should be warn on
> application level).

Thanks!

>>> DD from layer tree to postgres/browser imports the layer (without measures) but:
>>> - the layer is removed from layer tree - intended?
>>
>> Definitely not - I hit this too a week or so ago, and it's far from
>> ideal! QgsDockBrowserTreeView::dragEnterEvent/dragMoveEvent/dropEvent
>> has code which is supposed to force a copy action when dragging from
>> the layer tree, but something's broken there. Any ideas Martin?
>
> I found that it makes copy (showing + icon) if dragged with Ctrl. No
> idea why setDropAction( Qt::CopyAction ) in QgsDockBrowserTreeView is
> ignored.
>
> I have no clear opinion if default action should be copy or move in this case.

I think copy should definitely be the ONLY behavior here. Otherwise
there's data loss - user's styling and layer settings will be lost,
and dragging memory layers will lose all features (admittedly dragging
memory layers doesn't copy any features anyway, but that makes it
worse... the contents are irretrievably lost).

I can't work this one out. I think
QgsDockBrowserTreeView::dragEnterEvent() should be calling
QTreeView::dragEnterEvent( e ) - without that it's not drawing the
drop indicators correctly. And in
QgsDockBrowserTreeView::dragMoveEvent if I reset the drop action to
CopyAction both before *and* after calling QTreeView::dragMoveEvent( e
) then the visual appearance of the drag appears correct, and seems
ready to perform a copy action... but the actual action performed is
still a move action.

There's something very screwy here... as far as I can tell we don't
anywhere state that we accept move actions here, and my understanding
is that the default Qt implementations only accept copy actions.

Any ideas?

>
>>> One traceback below, it crashed when DD failed. I think that the
>>> problem is that it is trying to show an error message which can only
>>> be done on main thread?
>>> The code which is run from QgsTaskManager should never interact with GUI?
>>
>> That shouldn't be the case (unless there's a bug somewhere). It's true
>> that tasks should never interact with the GUI in their run()
>> implementation, but QgsTask::finished should only ever be called from
>> the main thread and it should be safe to do GUI operations there. From
>> your crash below it seems like it's crashing after
>> QgsVectorLayerExporterTask::errorOccurred is emitted - but that's only
>> ever done from QgsVectorLayerExporterTask::finished . Could you try
>> putting a temporary assert in QgsVectorLayerExporterTask::finished to
>> ensure that it's working as designed and being called from the main
>> thread?
>
> You are right, errorOccurred is emitted on the main thread.
> Unfortunately I cannot reproduce the crash. It may have something to
> do with how the items in the browser were created, if all pushed to
> main thread or deleted to early instead of deleteLater().

Hmm... I don't like unpronounceable random crashes. Thanks for your
testing though... please let me know if this continues to be an issue!

Nyall

From nyall.dawson at gmail.com  Thu Jun  1 18:12:35 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 2 Jun 2017 11:12:35 +1000
Subject: [QGIS-Developer] [Qgis-developer] Transparency/Opacity (was:
 Outline/border -> stroke? )
In-Reply-To: <CAB28AsjwKXTjVcRZb3V+qEx-G9MgP-QuDezFh-wbmVCqUbkD=A@mail.gmail.com>
References: <CAB28AshNOp0WT9ArEvM+gvNwkVfWVQadXfo9UhfGO_T5aQkTKQ@mail.gmail.com>
 <20170220141920.GZ49923@mit.edu>
 <8b2b8172-afa6-f59e-6ddd-9fcca882cedd@opengis.ch>
 <CAB28AsjwKXTjVcRZb3V+qEx-G9MgP-QuDezFh-wbmVCqUbkD=A@mail.gmail.com>
Message-ID: <CAB28Asi9znNk01JrQi_4Cueo+oA1rOcNQ6m+kmXXznG79Lwbug@mail.gmail.com>

On 28 February 2017 at 15:34, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> On 21 February 2017 at 00:31, Matthias Kuhn <matthias at opengis.ch> wrote:
>> I'd say in the API we should be closer to the data and hence use 0-255, in the slider we convert it to 0-100%.
>> We could possibly have a slider that allows for 255 positions but prints numbers from 0%-100%?
>>
>> Are you aware of systems where there are more values than 8 bits for the alpha channel (for which we should prepare)?
>> It wouldn't be a much bigger deal to go this road, but I think it shouldn't be purely prophylactic without real needs in mind.
>
>
> Here's the tricky bit - using 0-255 and storing as an int doesn't
> translate well to displaying in a slider with values from 0-100. You
> need to allow 0.1 steps in the slider to avoid loss of precision, but
> then you get the confusing behaviour for users where they set the
> slider to 91.2, and reopen to find it's changed to 91.3 (made up
> numbers).
>
> I'd like to avoid that, so I think in api we should always use a
> double with range 0-1 for storing opacity. This can be exposed to
> users on a 0-100 scale, but also converted to a 0-255 int for
> rendering/etc without issue.

For reference - this has been fixed in master. Now:

- all opacity/transparency/alpha related api is setOpacity()/opacity()
, using doubles from 0 (transparent) to 1 (opaque)
- all UI controls use a standard QgsOpacityWidget control which shows
the opacity from 0 -> 100% (allowing 0.1% increments)

Nyall

From nyall.dawson at gmail.com  Thu Jun  1 20:34:09 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 2 Jun 2017 13:34:09 +1000
Subject: [QGIS-Developer] QGIS 2.18.x Attribute Table Performance
In-Reply-To: <CACfnYnQJVf0YdkprY=34Q-JW0gjd+DD3Vg1w5pyBbmQkVNQK1A@mail.gmail.com>
References: <CACfnYnRFNG4Kb3ig-MhWmaGZgEP_eEcpqC8pMozumXnOnBVmiQ@mail.gmail.com>
 <CAC8_qeZXajWYBj=r-vwczZ+pH7KZCXLVpRkzg+BwP=0mSNU=Sw@mail.gmail.com>
 <CAB28AshUP_8hpRwnMMoDXMGX_C_b0Te=OhhT6SddgPso2dJvqw@mail.gmail.com>
 <CACfnYnQJVf0YdkprY=34Q-JW0gjd+DD3Vg1w5pyBbmQkVNQK1A@mail.gmail.com>
Message-ID: <CAB28AsiP=0gLnGKnHCLQQbAmM4YkLShLjCr6WSt+7gGY-447cw@mail.gmail.com>

On 29 May 2017 at 20:21, Giovanni Manghi <giovanni.manghi at gmail.com> wrote:
> Hi Nyall!
>
>> Thanks for the confirmation. Just to clarify, this fix was part of the
>> sponsored bug fixing effort which is funded by the project from
>> donated funds. So the real thanks here belong to everyone who has
>> donated to QGIS in the past and made this possible!
>
>
> sorry for asking again, is the loss of rendering speed performances
> (or better, time to fully load large vector layers) we see now  in
> master (at least with some datasets is quite noticeable, like 20/30%
> slower) to be considered ok (you mentioned at some point more
> stability) or to be considered an issue?

I'd call that an issue. I haven't had a chance to bisect this one yet
- I think we can wait till closer to release and if it's still and
issue I'll track it down.

Nyall

From noreply at qgis.org  Thu Jun  1 21:55:58 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 02 Jun 2017 04:55:58 -0000
Subject: [QGIS-Developer] Plugin [1230] Vector Tiles Reader approval
	notification.
Message-ID: <20170602045558.1932.2655@320558c5528b>


Plugin Vector Tiles Reader approval by pcav.
The plugin version "[1230] Vector Tiles Reader 0.12.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/vector_tiles_reader/

From nyall.dawson at gmail.com  Fri Jun  2 00:13:46 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 2 Jun 2017 17:13:46 +1000
Subject: [QGIS-Developer] =?utf-8?q?Layout_and_Reporting_Engine_Crowdfundi?=
	=?utf-8?q?ng_Campaign_=E2=80=93_a_success!?=
Message-ID: <CAB28Asjg4YSF77JC_-wrcicrpw6y3+Oa4xNenKOm1yRLGk4dyA@mail.gmail.com>

Hi all,

Just a quick update to let you know that our recent crowdfunding
campaign to rework QGIS' print composer for 3.0 was a huge success!

I'd like to thank every member of the QGIS community who assisted with
promoting this campaign and bringing it to the attention of the
campaign backers. Without your efforts we would not have been able to
reach these backers and the campaign would not have been successful.

Of course, our thanks also go to the many financial sponsors for this work:

- The Swiss QGIS User group (funded preliminary work in refactoring
how compositions are handled and stored within projects)
- The QGIS Grant Program (2016) (funded preliminary work allowing for
a flexible property framework which will be used within the project)
- Land Vorarlberg, Austria
- Tudor Bărăscu
- Oester Messtechnik GmbH, Thun, Switzerland
- Ferdinando Urbano, Italy
- Alta ehf, Reykjavik, Iceland
- Trage Wegen, Belgium
- QGIS Denmark User Group, Denmark
- Debuco Techniek B.V., Netherlands
- The QWAT Project
- QGIS Sweden User Group, Sweden
- Andreas Neumann
- Kristianstads kommun, Sweden
- City of Vevey, Switzerland
- Kanton Thurgau, Switzerland
- Ricardo Pinho, Portugal
- Portugese QGIS User Group, Portugal
- Waymotion, Portugal
- Lloyd Analytics LLC, USA
- Canton of Neuchâtel, Switzerland
- Hartmut Dickel, Switzerland

We’ve also received numerous anonymous contributions in addition to
these – please know that the QGIS community extends their gratitude
for your contributions too!

This campaign was also successful thanks to The Agency for Data Supply
and Efficiency, Denmark, who stepped up and have funded an initial
component of this project directly.

I'll be posting updates as this work progresses over at
https://north-road.com/blog/

Many thanks!
Nyall


...
(the scary bozo)

From radim.blazek at gmail.com  Fri Jun  2 01:32:23 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Fri, 2 Jun 2017 10:32:23 +0200
Subject: [QGIS-Developer] Drag and drop to PostGIS crash
In-Reply-To: <CAB28AsgpuT7AbDVzzR68OVBGCQTy6HskcjvORdnoDkap-Ac06g@mail.gmail.com>
References: <CAEMrtYp4XO0fKs_52q0s+vyUbSEu2VzMJV3-RQYA3V7kPSBMGw@mail.gmail.com>
 <CAB28AsjEOMHhKB=AHs0pj3aar3jhXzHO8a9bTaZHCxpEwPpnFw@mail.gmail.com>
 <20170530074032.x2tmrn5uw4zhza2s@liz>
 <CAEMrtYresJxe3ZdH5MpGD0YwAGq+TgDjnXRHbxEwVRwPHJv9Uw@mail.gmail.com>
 <20170530080157.2gultfwi4iscp4zt@liz>
 <CAEMrtYot04QPq6iBFeTwJGMyh7BNDsd9fmgjjRYxPjLgG2xzBg@mail.gmail.com>
 <CAB28Asg6WhpGN8vT9xCKUPxNBZAAhV_F_=YWWxqAJy4UD1zoLA@mail.gmail.com>
 <CAEMrtYpyVGY=8h5s5UUYLLqJ8zARn60FPFeT5VcZmPD8p8sAvw@mail.gmail.com>
 <CAB28AsgpuT7AbDVzzR68OVBGCQTy6HskcjvORdnoDkap-Ac06g@mail.gmail.com>
Message-ID: <CAEMrtYqip00JbZ0pcw23NJu8mwcoLW1ktABfOcq4cC29_O2yqg@mail.gmail.com>

On Fri, Jun 2, 2017 at 1:50 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> I think copy should definitely be the ONLY behavior here. Otherwise
> there's data loss - user's styling and layer settings will be lost,
> and dragging memory layers will lose all features (admittedly dragging
> memory layers doesn't copy any features anyway, but that makes it
> worse... the contents are irretrievably lost).

Grr! That is what I need. Why it does not copy memory layers? There
should not be any difference.

Radim

From nyall.dawson at gmail.com  Fri Jun  2 01:48:23 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 2 Jun 2017 18:48:23 +1000
Subject: [QGIS-Developer] Drag and drop to PostGIS crash
In-Reply-To: <CAEMrtYqip00JbZ0pcw23NJu8mwcoLW1ktABfOcq4cC29_O2yqg@mail.gmail.com>
References: <CAEMrtYp4XO0fKs_52q0s+vyUbSEu2VzMJV3-RQYA3V7kPSBMGw@mail.gmail.com>
 <CAB28AsjEOMHhKB=AHs0pj3aar3jhXzHO8a9bTaZHCxpEwPpnFw@mail.gmail.com>
 <20170530074032.x2tmrn5uw4zhza2s@liz>
 <CAEMrtYresJxe3ZdH5MpGD0YwAGq+TgDjnXRHbxEwVRwPHJv9Uw@mail.gmail.com>
 <20170530080157.2gultfwi4iscp4zt@liz>
 <CAEMrtYot04QPq6iBFeTwJGMyh7BNDsd9fmgjjRYxPjLgG2xzBg@mail.gmail.com>
 <CAB28Asg6WhpGN8vT9xCKUPxNBZAAhV_F_=YWWxqAJy4UD1zoLA@mail.gmail.com>
 <CAEMrtYpyVGY=8h5s5UUYLLqJ8zARn60FPFeT5VcZmPD8p8sAvw@mail.gmail.com>
 <CAB28AsgpuT7AbDVzzR68OVBGCQTy6HskcjvORdnoDkap-Ac06g@mail.gmail.com>
 <CAEMrtYqip00JbZ0pcw23NJu8mwcoLW1ktABfOcq4cC29_O2yqg@mail.gmail.com>
Message-ID: <CAB28AshfB40W67ukM8Fw1ZEXvG+=CWzVoPU7SBAxHoburwRGaQ@mail.gmail.com>

On 2 June 2017 at 18:32, Radim Blazek <radim.blazek at gmail.com> wrote:
> On Fri, Jun 2, 2017 at 1:50 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>> I think copy should definitely be the ONLY behavior here. Otherwise
>> there's data loss - user's styling and layer settings will be lost,
>> and dragging memory layers will lose all features (admittedly dragging
>> memory layers doesn't copy any features anyway, but that makes it
>> worse... the contents are irretrievably lost).
>
> Grr! That is what I need. Why it does not copy memory layers? There
> should not be any difference.

Didn't you write this code? ;)

QgsBrowserItem::handleDrop just gets a layer URI in the mime data -
that's enough for the other providers to be able to open a new copy of
the layer to grab the features from, but the for the memory provider
the uri only gives the table structure.... there's no features in the
newly created layer.

Nyall

From radim.blazek at gmail.com  Fri Jun  2 02:02:05 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Fri, 2 Jun 2017 11:02:05 +0200
Subject: [QGIS-Developer] Drag and drop to PostGIS crash
In-Reply-To: <CAB28AshfB40W67ukM8Fw1ZEXvG+=CWzVoPU7SBAxHoburwRGaQ@mail.gmail.com>
References: <CAEMrtYp4XO0fKs_52q0s+vyUbSEu2VzMJV3-RQYA3V7kPSBMGw@mail.gmail.com>
 <CAB28AsjEOMHhKB=AHs0pj3aar3jhXzHO8a9bTaZHCxpEwPpnFw@mail.gmail.com>
 <20170530074032.x2tmrn5uw4zhza2s@liz>
 <CAEMrtYresJxe3ZdH5MpGD0YwAGq+TgDjnXRHbxEwVRwPHJv9Uw@mail.gmail.com>
 <20170530080157.2gultfwi4iscp4zt@liz>
 <CAEMrtYot04QPq6iBFeTwJGMyh7BNDsd9fmgjjRYxPjLgG2xzBg@mail.gmail.com>
 <CAB28Asg6WhpGN8vT9xCKUPxNBZAAhV_F_=YWWxqAJy4UD1zoLA@mail.gmail.com>
 <CAEMrtYpyVGY=8h5s5UUYLLqJ8zARn60FPFeT5VcZmPD8p8sAvw@mail.gmail.com>
 <CAB28AsgpuT7AbDVzzR68OVBGCQTy6HskcjvORdnoDkap-Ac06g@mail.gmail.com>
 <CAEMrtYqip00JbZ0pcw23NJu8mwcoLW1ktABfOcq4cC29_O2yqg@mail.gmail.com>
 <CAB28AshfB40W67ukM8Fw1ZEXvG+=CWzVoPU7SBAxHoburwRGaQ@mail.gmail.com>
Message-ID: <CAEMrtYrS06gGEGEGqE_6m4dj4o-T0h2D3fBe=xK7_1MLCRVbmg@mail.gmail.com>

On Fri, Jun 2, 2017 at 10:48 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> On 2 June 2017 at 18:32, Radim Blazek <radim.blazek at gmail.com> wrote:
>> On Fri, Jun 2, 2017 at 1:50 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>> I think copy should definitely be the ONLY behavior here. Otherwise
>>> there's data loss - user's styling and layer settings will be lost,
>>> and dragging memory layers will lose all features (admittedly dragging
>>> memory layers doesn't copy any features anyway, but that makes it
>>> worse... the contents are irretrievably lost).
>>
>> Grr! That is what I need. Why it does not copy memory layers? There
>> should not be any difference.
>
> Didn't you write this code? ;)

I may be, but IIRC, originally there was DD only within the browser,
so I was pleased to see DD from layertree "working".

> QgsBrowserItem::handleDrop just gets a layer URI in the mime data -
> that's enough for the other providers to be able to open a new copy of
> the layer to grab the features from, but the for the memory provider
> the uri only gives the table structure.... there's no features in the
> newly created layer.

It should be possible to pass the layer id and open an iterator on it?

Radim

From denis.rouzaud at gmail.com  Fri Jun  2 02:17:08 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Fri, 02 Jun 2017 09:17:08 +0000
Subject: [QGIS-Developer] SIP coverage test removal and Travis
	optimization
In-Reply-To: <CAB28Ash+4YHj5zQ9tnZ4mDtM9GQeet68O3qK_nOBZ3jRU13UfQ@mail.gmail.com>
References: <CAMtsY+ZjVG4d8cFeaL=eDBN8APVcsezi93CavYcK6tV3GDS3eg@mail.gmail.com>
 <CAB28Ash+4YHj5zQ9tnZ4mDtM9GQeet68O3qK_nOBZ3jRU13UfQ@mail.gmail.com>
Message-ID: <CAMtsY+Z+z+Afcx0_9+Vx8hWp1K-9keTTUX=qfRo-sV-_7CB13g@mail.gmail.com>

Hi Nyall,

Thanks for the feedback.

Le mer. 31 mai 2017 à 23:14, Nyall Dawson <nyall.dawson at gmail.com> a écrit :

> On 31 May 2017 at 22:15, Denis Rouzaud <denis.rouzaud at gmail.com> wrote:
> > Dear all,
> >
> > Our automatic SIP files generation is almost there and I would like to
> > remove the SIP coverage test from running on Travis.
>
> > Is this acceptable?
>
> In general, but...
>
> > Is there any reason to keep the test (running on Travis)?
>
> There's 2 extra things the sip coverage test does which the sipify test
> doesn't:
>
> 1. Flags if a class is totally missing from the bindings. The sipify
> test can't detect when someone's added a new header to the project
> without adding a corresponding .sip include to the
> core/gui/server/analysis.sip files. Ideally this would be fixed with
> some cmake magic which avoids the need to even manually build the
> core.sip/gui.sip/etc files...
>

So, we have 3 types of headers in core:
1) automatic SIP file creation
2) manual SIP file creation (might be not needed anymore at some point)
3) no SIP file creation

What I would propose is to use some macro definition in the header for case
2) and 3), like:
#define SIP_MANUALLY_CREATED
or
#define SIP_NOT_GENERATED

By default, the SIP file would be automatically created.

The core/gui/etc.sip could then automatically be generated either by CMake
or by a script.

This would depend if we want to keep the SIP files in the source. I tend to
think they're quite useful there for inspection and that the sipify script
is (still?) too fragile to fully trust it.
If we keep them in source, does it make sense to use CMake to build the
core.sip file? or a script run by prepare-commit.sh as it is now?

What do you think?




>
> 2. Checks that the methods *are* actually accessible in the Python
> bindings. Occasionally there'll be weird things where even though a
> method is correctly listed in the .sip files, it just doesn't exist in
> the Python library. There's no pattern here - it happens differently
> on different platforms. But this is a sip bug, so I don't really care
> if we lose this extra check.
>
> For me 1 would need to be addressed before we can drop the test.
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170602/04e74960/attachment-0001.html>

From matthias at opengis.ch  Fri Jun  2 02:48:29 2017
From: matthias at opengis.ch (=?UTF-8?B?TWF0dGhpYXMgS3VobiDwn4yN?=)
Date: Fri, 2 Jun 2017 11:48:29 +0200
Subject: [QGIS-Developer] SIP coverage test removal and Travis
 optimization
In-Reply-To: <CAMtsY+Z+z+Afcx0_9+Vx8hWp1K-9keTTUX=qfRo-sV-_7CB13g@mail.gmail.com>
References: <CAMtsY+ZjVG4d8cFeaL=eDBN8APVcsezi93CavYcK6tV3GDS3eg@mail.gmail.com>
 <CAB28Ash+4YHj5zQ9tnZ4mDtM9GQeet68O3qK_nOBZ3jRU13UfQ@mail.gmail.com>
 <CAMtsY+Z+z+Afcx0_9+Vx8hWp1K-9keTTUX=qfRo-sV-_7CB13g@mail.gmail.com>
Message-ID: <773a462e-26ea-a71b-16f6-80a6bb6f8182@opengis.ch>

Hi Denis

On 06/02/2017 11:17 AM, Denis Rouzaud wrote:
> Hi Nyall,
> 
> Thanks for the feedback.
> 
> Le mer. 31 mai 2017 à 23:14, Nyall Dawson <nyall.dawson at gmail.com
> <mailto:nyall.dawson at gmail.com>> a écrit :
> 
>     On 31 May 2017 at 22:15, Denis Rouzaud <denis.rouzaud at gmail.com
>     <mailto:denis.rouzaud at gmail.com>> wrote:
>     > Dear all,
>     >
>     > Our automatic SIP files generation is almost there and I would like to
>     > remove the SIP coverage test from running on Travis.
> 
>     > Is this acceptable?
> 
>     In general, but...
> 
>     > Is there any reason to keep the test (running on Travis)?
> 
>     There's 2 extra things the sip coverage test does which the sipify
>     test doesn't:
> 
>     1. Flags if a class is totally missing from the bindings. The sipify
>     test can't detect when someone's added a new header to the project
>     without adding a corresponding .sip include to the
>     core/gui/server/analysis.sip files. Ideally this would be fixed with
>     some cmake magic which avoids the need to even manually build the
>     core.sip/gui.sip/etc files...
> 
> 
> So, we have 3 types of headers in core:
> 1) automatic SIP file creation
> 2) manual SIP file creation (might be not needed anymore at some point)
> 3) no SIP file creation

How do you intend to handle additional files like `conversion.sip`?

Something like this?

core.sip.template:

...
%Include conversion.sip
[auto_generated_files] // Some kind of placeholder
...

Matthias

> 
> What I would propose is to use some macro definition in the header for
> case 2) and 3), like:
> #define SIP_MANUALLY_CREATED
> or
> #define SIP_NOT_GENERATED
> 
> By default, the SIP file would be automatically created.
> 
> The core/gui/etc.sip could then automatically be generated either by
> CMake or by a script. 
> 
> This would depend if we want to keep the SIP files in the source. I tend
> to think they're quite useful there for inspection and that the sipify
> script is (still?) too fragile to fully trust it.
> If we keep them in source, does it make sense to use CMake to build the
> core.sip file? or a script run by prepare-commit.sh as it is now?
> 
> What do you think?
> 
> 
>  
> 
> 
>     2. Checks that the methods *are* actually accessible in the Python
>     bindings. Occasionally there'll be weird things where even though a
>     method is correctly listed in the .sip files, it just doesn't exist in
>     the Python library. There's no pattern here - it happens differently
>     on different platforms. But this is a sip bug, so I don't really care
>     if we lose this extra check.
> 
>     For me 1 would need to be addressed before we can drop the test.
> 
>     Nyall
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From rdmailings at duif.net  Fri Jun  2 03:28:50 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 2 Jun 2017 12:28:50 +0200
Subject: [QGIS-Developer] QGIS project (.qgs) file writing failing on
	SharePoint / WebDAV?
Message-ID: <417a84e4-b12c-ed65-e230-f4ae09c2955c@duif.net>


Hi List,

I've been asked by somebody to forward the following questions to you:

"
Several users are having the problem that their .qgs files are getting
corrupted during saving it seems. Could it be because of the technique
used (webdav)? Knowing sharepoint it has its time-outs.

The underlying storage is Sharepoint Online, a Microsoft product (hosted
by Microsoft). Data is accessed via a drive mapping, this is a Web-dav
connection (https)

https://en.wikipedia.org/wiki/WebDAV
"

For what I understand, the .qgs files are left partially truncated (and
so totally corrupted).

The do all their projects/work via Sharepoint, so making this work is
pretty important for them.

Anybody experiencing this, or hints to fix this?
Is this typical WebDAV/Sharepoint?


Regards,

Richard Duivenvoorde


From denis.rouzaud at gmail.com  Fri Jun  2 04:45:35 2017
From: denis.rouzaud at gmail.com (Rouzaud Denis)
Date: Fri, 2 Jun 2017 13:45:35 +0200
Subject: [QGIS-Developer] SIP coverage test removal and Travis
 optimization
In-Reply-To: <773a462e-26ea-a71b-16f6-80a6bb6f8182@opengis.ch>
References: <CAMtsY+ZjVG4d8cFeaL=eDBN8APVcsezi93CavYcK6tV3GDS3eg@mail.gmail.com>
 <CAB28Ash+4YHj5zQ9tnZ4mDtM9GQeet68O3qK_nOBZ3jRU13UfQ@mail.gmail.com>
 <CAMtsY+Z+z+Afcx0_9+Vx8hWp1K-9keTTUX=qfRo-sV-_7CB13g@mail.gmail.com>
 <773a462e-26ea-a71b-16f6-80a6bb6f8182@opengis.ch>
Message-ID: <81059721-577A-4209-B078-F4DA59C73A60@gmail.com>

Hi
> On 2 Jun 2017, at 11:48, Matthias Kuhn 🌍 <matthias at opengis.ch> wrote:
> 
> Hi Denis
> 
> On 06/02/2017 11:17 AM, Denis Rouzaud wrote:
>> Hi Nyall,
>> 
>> Thanks for the feedback.
>> 
>> Le mer. 31 mai 2017 à 23:14, Nyall Dawson <nyall.dawson at gmail.com <mailto:nyall.dawson at gmail.com>
>> <mailto:nyall.dawson at gmail.com <mailto:nyall.dawson at gmail.com>>> a écrit :
>> 
>>    On 31 May 2017 at 22:15, Denis Rouzaud <denis.rouzaud at gmail.com <mailto:denis.rouzaud at gmail.com>
>>    <mailto:denis.rouzaud at gmail.com <mailto:denis.rouzaud at gmail.com>>> wrote:
>>> Dear all,
>>> 
>>> Our automatic SIP files generation is almost there and I would like to
>>> remove the SIP coverage test from running on Travis.
>> 
>>> Is this acceptable?
>> 
>>    In general, but...
>> 
>>> Is there any reason to keep the test (running on Travis)?
>> 
>>    There's 2 extra things the sip coverage test does which the sipify
>>    test doesn't:
>> 
>>    1. Flags if a class is totally missing from the bindings. The sipify
>>    test can't detect when someone's added a new header to the project
>>    without adding a corresponding .sip include to the
>>    core/gui/server/analysis.sip files. Ideally this would be fixed with
>>    some cmake magic which avoids the need to even manually build the
>>    core.sip/gui.sip/etc files...
>> 
>> 
>> So, we have 3 types of headers in core:
>> 1) automatic SIP file creation
>> 2) manual SIP file creation (might be not needed anymore at some point)
>> 3) no SIP file creation
> 
> How do you intend to handle additional files like `conversion.sip`?
> 
> Something like this?
> 
> core.sip.template:
> 
> ...
> %Include conversion.sip
> [auto_generated_files] // Some kind of placeholder
> …


Or something like 
%Include auto_generated_files.sip
with a file with all of them.

Anyway, something like this, yes.

Would you prefer the CMake or the script approach?
I find it weird that CMake would output files which would be written in the source, so I would vote for the script.


> 
> Matthias
> 
>> 
>> What I would propose is to use some macro definition in the header for
>> case 2) and 3), like:
>> #define SIP_MANUALLY_CREATED
>> or
>> #define SIP_NOT_GENERATED
>> 
>> By default, the SIP file would be automatically created.
>> 
>> The core/gui/etc.sip could then automatically be generated either by
>> CMake or by a script. 
>> 
>> This would depend if we want to keep the SIP files in the source. I tend
>> to think they're quite useful there for inspection and that the sipify
>> script is (still?) too fragile to fully trust it.
>> If we keep them in source, does it make sense to use CMake to build the
>> core.sip file? or a script run by prepare-commit.sh as it is now?
>> 
>> What do you think?
>> 
>> 
>> 
>> 
>> 
>>    2. Checks that the methods *are* actually accessible in the Python
>>    bindings. Occasionally there'll be weird things where even though a
>>    method is correctly listed in the .sip files, it just doesn't exist in
>>    the Python library. There's no pattern here - it happens differently
>>    on different platforms. But this is a sip bug, so I don't really care
>>    if we lose this extra check.
>> 
>>    For me 1 would need to be addressed before we can drop the test.
>> 
>>    Nyall
>> 
>> 
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170602/52d32eee/attachment-0001.html>

From idan at miara.com  Fri Jun  2 05:35:50 2017
From: idan at miara.com (Idan Miara)
Date: Fri, 2 Jun 2017 15:35:50 +0300
Subject: [QGIS-Developer] [Qgis-developer] QGIS3 latest Windows weekly
	is 5 weeks old
In-Reply-To: <20170405124103.zivuovsjtvzlwvlo@norbit.de>
References: <CAEDrt38LXBkBfxr+XGSGiY2_4OhZuBG=eqAgfQz-L08Fm=4X+Q@mail.gmail.com>
 <1491381048831-5315822.post@n6.nabble.com>
 <CAEDrt39Xg4LnL2Ju_0Sc6wy8UxcCVLNuE1K9FqkChEuxM4WbUA@mail.gmail.com>
 <CAEDrt3_V8fdsxJhbDZ8t=rvggD66oHD7YkhGDqCy=f_GHihKqQ@mail.gmail.com>
 <20170405124103.zivuovsjtvzlwvlo@norbit.de>
Message-ID: <CAEDrt38BswazNxz4pz7c+=usgiOGZdS=fdkxdVZUHkzc=tQ3WA@mail.gmail.com>

Hi,
Is there a problem with the weekly again? Last one is from 22-May-2017

On 5 Apr 2017 15:41, "Jürgen E. Fischer" <jef at norbit.de> wrote:

> Hi Idan,
>
> On Wed, 05. Apr 2017 at 12:30:13 +0300, Idan Miara wrote:
> > Thanks for the fix, when would I see the next weekly?
>
> Now.
>
> Jürgen
>
> --
> Jürgen E. Fischer           norBIT GmbH             Tel.
> +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstraße 13          Fax.
> +49-4931-918175-50
> Software Engineer           D-26506 Norden
> http://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170602/8ca3353a/attachment.html>

From matthias at opengis.ch  Fri Jun  2 07:25:21 2017
From: matthias at opengis.ch (=?UTF-8?B?TWF0dGhpYXMgS3VobiDwn4yN?=)
Date: Fri, 2 Jun 2017 16:25:21 +0200
Subject: [QGIS-Developer] SIP coverage test removal and Travis
 optimization
In-Reply-To: <81059721-577A-4209-B078-F4DA59C73A60@gmail.com>
References: <CAMtsY+ZjVG4d8cFeaL=eDBN8APVcsezi93CavYcK6tV3GDS3eg@mail.gmail.com>
 <CAB28Ash+4YHj5zQ9tnZ4mDtM9GQeet68O3qK_nOBZ3jRU13UfQ@mail.gmail.com>
 <CAMtsY+Z+z+Afcx0_9+Vx8hWp1K-9keTTUX=qfRo-sV-_7CB13g@mail.gmail.com>
 <773a462e-26ea-a71b-16f6-80a6bb6f8182@opengis.ch>
 <81059721-577A-4209-B078-F4DA59C73A60@gmail.com>
Message-ID: <a0fe97b3-b755-bb3c-d5d1-10020451f8bc@opengis.ch>


> 
> Or something like 
> %Include auto_generated_files.sip
> with a file with all of them.

Sounds good, yes.

> 
> Anyway, something like this, yes.
> 
> Would you prefer the CMake or the script approach?
> I find it weird that CMake would output files which would be written in
> the source, so I would vote for the script.
> 

Yes, for debugging a script might be good. But I would see this as a
short-term solution. I find it strange to have CMake output files in the
source but also strange to track generated files in sip (but I
understand that it's a good thing for debugging now).

Matthias

From noreply at qgis.org  Fri Jun  2 09:27:09 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 02 Jun 2017 16:27:09 -0000
Subject: [QGIS-Developer] Plugin [1211] Settings Manager approval
	notification.
Message-ID: <20170602162709.1932.80353@320558c5528b>


Plugin Settings Manager approval by pcav.
The plugin version "[1211] Settings Manager 2.18.0" is now approved
Link: http://plugins.qgis.org/plugins/SettingsManager/

From noreply at qgis.org  Fri Jun  2 09:30:21 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 02 Jun 2017 16:30:21 -0000
Subject: [QGIS-Developer] Plugin [1137] Convert coordinate system VN2000
	approval notification.
Message-ID: <20170602163021.12138.53534@320558c5528b>


Plugin Convert coordinate system VN2000 approval by pcav.
The plugin version "[1137] Convert coordinate system VN2000 0.3" is now approved
Link: http://plugins.qgis.org/plugins/ConvertprjBatch/

From noreply at qgis.org  Fri Jun  2 09:43:25 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 02 Jun 2017 16:43:25 -0000
Subject: [QGIS-Developer] Plugin [1207] Segreg approval notification.
Message-ID: <20170602164325.12138.80173@320558c5528b>


Plugin Segreg approval by pcav.
The plugin version "[1207] Segreg 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/Segreg/

From noreply at qgis.org  Fri Jun  2 10:06:25 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 02 Jun 2017 17:06:25 -0000
Subject: [QGIS-Developer] Plugin [740] qgis2web approval notification.
Message-ID: <20170602170625.32378.7035@320558c5528b>


Plugin qgis2web approval by pcav.
The plugin version "[740] qgis2web 2.19.0" is now approved
Link: http://plugins.qgis.org/plugins/qgis2web/

From anitagraser at gmx.at  Fri Jun  2 11:31:07 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Fri, 2 Jun 2017 20:31:07 +0200
Subject: [QGIS-Developer] Processing R scripts - TypeError: cannot
 concatenate 'str' and 'NoneType' objects
Message-ID: <CAFFV8FhynZWieDbQJbSX6=2yy_1XOS5_=XKdDOaQMk=d+2Kcmw@mail.gmail.com>

Hi,

Any R script I try to run ends up with the following error (in ltr as well
as rel-dev). Is this a known issue or a problem with my system?

Uncaught error while executing algorithm

Traceback (most recent call last):

File
"C:/OSGEO4~1/apps/qgis-ltr/./python/plugins\processing\core\GeoAlgorithm.py",
line 203, in execute

self.processAlgorithm(progress)

File
"C:/OSGEO4~1/apps/qgis-ltr/./python/plugins\processing\algs\r\RAlgorithm.py",
line 308, in processAlgorithm

loglines += self.getFullSetOfRCommands()

File
"C:/OSGEO4~1/apps/qgis-ltr/./python/plugins\processing\algs\r\RAlgorithm.py",
line 363, in getFullSetOfRCommands

commands += self.getExportCommands()

File
"C:/OSGEO4~1/apps/qgis-ltr/./python/plugins\processing\algs\r\RAlgorithm.py",
line 404, in getExportCommands

commands.append('cat("##' + out.name + '",file="' + outputDataFile +
'",sep="\n",append=TRUE)')

TypeError: cannot concatenate 'str' and 'NoneType' objects


Thank you and best wishes,

Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170602/573be0ea/attachment.html>

From pedrongvenancio at gmail.com  Fri Jun  2 12:55:37 2017
From: pedrongvenancio at gmail.com (=?UTF-8?Q?Pedro_Ven=C3=A2ncio?=)
Date: Fri, 2 Jun 2017 20:55:37 +0100
Subject: [QGIS-Developer] [Qgis-user] Wrong result with Saga Raster
	calculator
In-Reply-To: <VI1P190MB0302DE8E3EC4CB53FA493E82E5F60@VI1P190MB0302.EURP190.PROD.OUTLOOK.COM>
References: <1496219264084-5322429.post@n6.nabble.com>
 <cfca77ff-ed7b-e10c-9a0c-af6088efa94e@faunalia.it>
 <1496222366766-5322442.post@n6.nabble.com>
 <CAMCJChtLomV3bOSFPzetDM=y+aORaZa1vmdgOC42nJ9E57GR+A@mail.gmail.com>
 <VI1P190MB030283033981B3BFD07FBC87E5F10@VI1P190MB0302.EURP190.PROD.OUTLOOK.COM>
 <CAMCJCht+gRGG3D1ov5_F5nrx0B96iimaHrdoXuj5k6NTtpL1iw@mail.gmail.com>
 <VI1P190MB0302DE8E3EC4CB53FA493E82E5F60@VI1P190MB0302.EURP190.PROD.OUTLOOK.COM>
Message-ID: <CAMCJChtE68RTfL+OsmDtBud=wPEi0OE2AyBq3M7QhS89xpGNnA@mail.gmail.com>

Hi Eugenio,

I've opened a ticket in QGIS bug tracker, to try to identify the source of
the problem:

https://issues.qgis.org/issues/16646

Please see the recent findings and give your feedback there.

Thanks!

Best regards,

Pedro Venâncio





2017-06-01 8:43 GMT+01:00 Eugenio Trumpy <frippe12573 at hotmail.com>:

> Hi Pedro,
>
>
> I did the same for 5 pixels in the test raster I shared with you yesterday.
>
> The different seems to be a little bit greater.
>
> See the attached sheet.
>
>
> I don't know if the version of saga, 2.3.1 the mine vs 2.3.2 the yours
> could generate this error,
>
> or if the problem is in qgis process model.
>
>
> E.
>
>
>
>
>
>
> ------------------------------
> *Da:* Pedro Venâncio <pedrongvenancio at gmail.com>
> *Inviato:* mercoledì 31 maggio 2017 22:16
> *A:* Eugenio Trumpy
> *Cc:* qgis-user; qgis-developer
> *Oggetto:* Re: [Qgis-user] Wrong result with Saga Raster calculator
>
> Hi Eugenio,
>
> I've created a sample processing model (attached), that works ok, except a
> small error in the result (decimals).
>
> For instance:
>
> *Raster* *ID* *Pixel value*
> Z_top_res a 1202,03510276
> t_top_res b 53,6123428345
> topo c1 -182,584899902
> SAGA Result 1 c 15,1783676147
> SAGA Result 2 d 31,9437332153 *Diff*
> Expected Result 1
> 15,1783679504 0,000000335741
> Expected Result 2
> 31,9740872222 0,0303540069
> *Formula*
> 1 ifelse(c1>0,-(0.0065*c1-16),(0.0045*c1+16))
> 2 ifelse(a<500,0,((b-c)/a)*1000)
> Using SAGA GUI there is no error.
>
> Could this be because of some roundings in the input / output? (I'm
> sending for the developer's list also).
>
> Thanks!
>
> Best regards,
> Pedro Venâncio
>
>
>
> 2017-05-31 10:56 GMT+01:00 Eugenio Trumpy <frippe12573 at hotmail.com>:
>
>>
>> Hi Pedro,
>>
>> thank you very much to have tested the computation with my test data!
>> You are right, I checked again the computation and actually it works.
>>
>> However, I was using Saga raster calculation in a processing modeler, and
>> one of the layer I share with you
>> is the resulting from a previous computation.
>>
>> In other word the raster layer c=temp_recal.tif comes from a previous
>> computation (raster calculator):
>> ifelse(a>0,-(0.0065*a-16),(0.0045*a+16))
>> where a is the layer attached, and hence c of the previous  formula is
>> the resulting of this first computation.
>>
>> E.
>>
>> ------------------------------
>> *Da:* Pedro Venâncio <pedrongvenancio at gmail.com>
>> *Inviato:* mercoledì 31 maggio 2017 11:37
>> *A:* frippe12573; qgis-user
>> *Oggetto:* Re: [Qgis-user] Wrong result with Saga Raster calculator
>>
>> Hi Eugenio,
>>
>> The result with SAGA Raster Calculator seems ok here, on QGIS 2.18.9,
>> SAGA 2.3.2, both from OSGeo4W64 (result attached).
>>
>> Z_top_res.tif have values from 724.403 to 1423.553, and so, the first
>> condition is never true. Then, it always make ((b-c)/a)*1000, and the
>> result seems ok to me.
>>
>>
>> Pedro
>>
>>
>>
>> 2017-05-31 10:19 GMT+01:00 frippe12573 <frippe12573 at hotmail.com>:
>>
>>> Hi Paolo,
>>>
>>> the raster have the same size and origin.
>>> The pixels are precisely overlapped.
>>>
>>> I tried also r.mapcalc, but I got a worst result.
>>> Here the output of the log:
>>> https://pastebin.com/jNyyzHgf
>>>
>>> E.
>>>
>>>
>>>
>>> --
>>> View this message in context: http://osgeo-org.1560.x6.nabbl
>>> e.com/Wrong-result-with-Saga-Raster-calculator-tp5322429p5322442.html
>>> Sent from the QGIS - User mailing list archive at Nabble.com.
>>> _______________________________________________
>>> Qgis-user mailing list
>>> Qgis-user at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170602/7c387d6e/attachment.html>

From lfi at ign.ku.dk  Fri Jun  2 23:59:11 2017
From: lfi at ign.ku.dk (Lene Fischer)
Date: Fri, 2 Jun 2017 23:59:11 -0700 (MST)
Subject: [QGIS-Developer] =?utf-8?q?QGIS_Conference_/Hackfest_2017_N=C3=B8?=
	=?utf-8?q?debo?=
Message-ID: <1496473151280-5322899.post@n6.nabble.com>

It´s time to register for the next QGIS conference and Hackfest.

It will take place in Nødebo - Denmark from August 2. - 11. 2017

Developers are supposed to register at Github
https://github.com/qgis/QGIS/wiki/18th-QGIS-User-Conference-and-Developer-Meeting-in-N%C3%B8debo,-August-2-11-2017
This time it is a prolonged event - and we have suggested you can bring you
family so they can use the summertime to see our local area.

If you are a user who want to participate please register at
https://qgis2017.wordpress.com/
If you want to become a sponsor - please contact me by mail.

We are looking forward to see you all in Denmark

Regards
Lene Fischer
Associate Professor

University of Copenhagen
Department of Geoscience and Natural Resource Management

Forest and Landscape College
Nødebovej 77a
3480
Denmark

TEL +45 40115084
lfi at ign.ku.dk




--
View this message in context: http://osgeo-org.1560.x6.nabble.com/QGIS-Conference-Hackfest-2017-N-debo-tp5322899.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From anitagraser at gmx.at  Sat Jun  3 02:10:19 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 3 Jun 2017 11:10:19 +0200
Subject: [QGIS-Developer] Processing R scripts - TypeError: cannot
 concatenate 'str' and 'NoneType' objects
In-Reply-To: <d841bf60-7983-3ce1-abbb-78b8b905467e@nmbu.no>
References: <CAFFV8FhynZWieDbQJbSX6=2yy_1XOS5_=XKdDOaQMk=d+2Kcmw@mail.gmail.com>
 <d841bf60-7983-3ce1-abbb-78b8b905467e@nmbu.no>
Message-ID: <CAFFV8FgjCdXxoD2w0Rg70kx5nNwZo9zkKcZfVPPX0Ku5tjCxPA@mail.gmail.com>

On Sat, Jun 3, 2017 at 12:25 AM, Håvard Tveite <havard.tveite at nmbu.no>
wrote:

> You are not alone.
> Same issue here with 2.18.9 on Ubuntu 14.04.  R 3.4.0.
>
​
Thank you fo
r the confirmation
​,​
Håvard
​!​

Can anyone tell me what was the last Processing version where R scripts did
work?

​Best wishes,
Anita​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170603/71efb901/attachment.html>

From anitagraser at gmx.at  Sat Jun  3 03:36:49 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 3 Jun 2017 12:36:49 +0200
Subject: [QGIS-Developer] Processing R scripts - TypeError: cannot
 concatenate 'str' and 'NoneType' objects
In-Reply-To: <CAFFV8FhynZWieDbQJbSX6=2yy_1XOS5_=XKdDOaQMk=d+2Kcmw@mail.gmail.com>
References: <CAFFV8FhynZWieDbQJbSX6=2yy_1XOS5_=XKdDOaQMk=d+2Kcmw@mail.gmail.com>
Message-ID: <CAFFV8FjEvnmrt6aY9UFA2ruK6UoTY1FUGWrRSfH6gjHRBTKipA@mail.gmail.com>

Maybe a fix ...

On Fri, Jun 2, 2017 at 8:31 PM, Anita Graser <anitagraser at gmx.at> wrote:

> File "C:/OSGEO4~1/apps/qgis-ltr/./python/plugins\processing\algs\r\RAlgorithm.py",
> line 404, in getExportCommands
>
> commands.append('cat("##' + out.name + '",file="' + outputDataFile +
> '",sep="\n",append=TRUE)')
>
> TypeError: cannot concatenate 'str' and 'NoneType' objects
>

​Not sure if it breaks anything else, but if I add

​            elif isinstance(out, OutputHTML):
                pass

before the offending

            elif out.name != RAlgorithm.R_OUTPUT_VALUES:
                commands.append('cat("##' + out.name + '",file="' +
outputDataFile + '",sep="\n",append=TRUE)')
                commands.append('cat(' + out.name + ',file="' +
outputDataFile + '",sep="\n",append=TRUE)')

Then the HTML output is created and visible in the results viewer and there
is no error.

I'm not sure what the problematic lines were supposed to do anyway ...

Best wishes,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170603/56d22546/attachment.html>

From engnfrc at gmail.com  Sat Jun  3 11:55:38 2017
From: engnfrc at gmail.com (Joshua Quesenberry)
Date: Sat, 3 Jun 2017 14:55:38 -0400
Subject: [QGIS-Developer] USNG Coordinate System
Message-ID: <01f201d2dc9a$fe17c290$fa4747b0$@gmail.com>

All,

 

Is there some way to plot USNG coordinates in QGIS? And if not, when will
support for that be added?

 

Thanks,

 

Josh Q

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170603/5bb72eba/attachment.html>

From magnus at homann.se  Sun Jun  4 07:42:02 2017
From: magnus at homann.se (Magnus Homann)
Date: Sun, 4 Jun 2017 16:42:02 +0200
Subject: [QGIS-Developer] PyQGIS: Check if layer is already loaded?
Message-ID: <d094b468-93f5-0846-440d-f0cbaed4b664@homann.se>

I'm writing a plugin that adds feature to a SHP-layer, specified as a filename.
If the layer already is loaded in Qgis, I want to check for and use the loaded
layer instead of creating a new from the same SHP-file.

Is this even possible?

From siki at agt.bme.hu  Sun Jun  4 10:45:44 2017
From: siki at agt.bme.hu (Siki Zoltan)
Date: Sun, 4 Jun 2017 19:45:44 +0200 (CEST)
Subject: [QGIS-Developer] PyQGIS: Check if layer is already loaded?
In-Reply-To: <d094b468-93f5-0846-440d-f0cbaed4b664@homann.se>
References: <d094b468-93f5-0846-440d-f0cbaed4b664@homann.se>
Message-ID: <Pine.LNX.4.64.1706041938580.13334@bme-geod>

Dear Magnus.

you can iterate through the layers:

for lay in QgsMapLayerRegistry.instance().mapLayers().values():
     if lay.name() == your_layer_name:
         your layer is loaded


Regards,
Zoltan

On Sun, 4 Jun 2017, Magnus Homann wrote:

> I'm writing a plugin that adds feature to a SHP-layer, specified as a 
> filename.
> If the layer already is loaded in Qgis, I want to check for and use the 
> loaded
> layer instead of creating a new from the same SHP-file.
>
> Is this even possible?
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From stephanebek at gmail.com  Sun Jun  4 11:14:05 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Mon, 5 Jun 2017 00:14:05 +0600
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
	unique "Add layer" tool?
In-Reply-To: <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>
References: <CAECJsSq7CaO+ruszLP6hTQkf7pP=qj=TV3i3itRNsjJHWEhQOw@mail.gmail.com>
 <CA+H0G_HOsSi6=Wc+ztp1qjO3xy3fyQ9xN44Cv=Zwq8fMs52eSQ@mail.gmail.com>
 <CAK6pVBUu_QcyUX_WTo4A0SzbZ7iZvvzxbRqPEeWSy1rK0hfxNw@mail.gmail.com>
 <CAFFV8FgdocgtcHFjVUsBDdBtn7HsHb53W9Dm=6ADKSRAOhcxdA@mail.gmail.com>
 <CA+H0G_E1xsEk+E26XmOVkFmbyZRmhSY03GYwj4mihe=XKAwKCg@mail.gmail.com>
 <CA+H0G_GW1YQH6m14c2irWRvLBktg611a3oqNT-usoZg4M=hMPA@mail.gmail.com>
 <4f947712fc1a667480d2d4548050dfe4@carto.net>
 <CABgOYCcPi2bYqU=_qeQnasGz51K2uL+T1641RVWGHqREq63RRg@mail.gmail.com>
 <CA+H0G_GfeseP7kiSVk8OdeaJiK3_HFCHL0E+gkqEcuZsWVD4Uw@mail.gmail.com>
 <59eeadd0-0d1a-4d83-cba8-386a8a8e4a54@carto.net>
 <CA+H0G_FHpz626j52m0g1y-1GszagAP-aS5o3R25PZ-ccrgRnBQ@mail.gmail.com>
 <CA+H0G_Hvpmr6Gxwi=KzV8-JySB6_GuB_YhjHh+m=gk1Qr=+W6g@mail.gmail.com>
 <CAES-DZTPVwz7TePXZ1FttjfB-JiXTgZaeqM=uQ-htxrZg9s8Ww@mail.gmail.com>
 <CAB28Ashw_s=vs-b4uCNdc35xvJT8toFGK1Za9KSmkKqrNtpTbw@mail.gmail.com>
 <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
 <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
 <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>
Message-ID: <CAK6pVBU0=oqOTdUgt41Yxgg3Y7cWxRr_QWfbYahS_7FKTyqPUw@mail.gmail.com>

Hi Alessandro

I just downloaded the latest nightly build and will make some tests in the
coming days. What would be the most efficient / useful way to give you
feedback and comments? On this thread?

Thanks and cheers

Stéphane

Le jeudi 1 juin 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :

> On Thu, Jun 1, 2017 at 11:22 AM, Stéphane Henriod <stephanebek at gmail.com
> <javascript:_e(%7B%7D,'cvml','stephanebek at gmail.com');>> wrote:
>
>> I really look forward to testing it :-) Thanks a lot for our involvement
>> here!
>>
>>
>
> Thanks to Boundless for funding the development and thanks to all of you
> who participated with design, mockups, ideas, comments and reviews!
>
> This was a nice and effective cooperation.
>
>
> BTW, if you can't wait, a Docker with a nigthly build of the PR branch is
> available as "boundlessgeo/qgis-testing-environment:unified-button"
>
> Cheers
>
>
>>
>> Le mercredi 31 mai 2017, Alessandro Pasotti <apasotti at gmail.com
>> <javascript:_e(%7B%7D,'cvml','apasotti at gmail.com');>> a écrit :
>>
>>> Hi,
>>>
>>> final update: the development of what was in phase 1 is done.
>>>
>>> Actually, a bit more than phase 1 considering that we've redesigned the
>>> delimited text dialog GUI and I've done quite a bit of small refactorings
>>> of the providers selection dialogs interfaces.
>>>
>>> There has been a lot of feed-back, thank you all!
>>>
>>> As expected, there is no complete agreement over the final GUI bits for
>>> the menus and toolbars, and we still miss an icon (the green plus that I've
>>> used was only meant as a placeholder). I tried to keep the old toolbar
>>> available (disabled by default) mainly because it can spare a click and
>>> power users might want it back. Also, the new icon is the most prominent in
>>> the left bar and it's the first menu item in the layers menu.
>>>
>>> I have not a strong opinion about those toolbars and menus but I think I
>>> should wait no more and merge it as it is, then give the people some time
>>> to test the actual implementation and decide how to improve it.
>>>
>>> I kept the controversial part in a single commit so that it will be very
>>> easy to revert and propose a different placement for menus, icons and
>>> toolbars.
>>>
>>>
>>> Any objections if I proceed?
>>>
>>>
>>>
>>> On Wed, May 24, 2017 at 2:29 PM, Alessandro Pasotti <apasotti at gmail.com>
>>> wrote:
>>>
>>>> Hi,
>>>>
>>>> a quick update:
>>>>
>>>> I've prepared a PR with a working prototype in
>>>> https://github.com/qgis/QGIS/pull/4629, I need some feed-back and some
>>>> help, expecially UX/UI about if we want it as a dockable dialog too (and
>>>> how to make it user-configurable).
>>>>
>>>> Feed-back welcome (but please keep it limited in scope to phase 1).
>>>>
>>>> Cheers
>>>>
>>>>
>>>>
>>>> On Fri, May 19, 2017 at 9:45 AM, Richard Duivenvoorde <
>>>> rdmailings at duif.net> wrote:
>>>>
>>>>> On 19-05-17 01:23, Nyall Dawson wrote:
>>>>>
>>>>> > On this note - I've recently discovered the need for some type of
>>>>> > reusable layer selection widget which allows choice of existing
>>>>> > layers/loading new layers from the file system/loading new layers
>>>>> from
>>>>> > available db/online connections. This would be extremely valuable for
>>>>> > processing too!
>>>>> >
>>>>> > So I'm really glad to hear that you'll be pushing ahead with this
>>>>> work
>>>>> > - thanks Boundless!
>>>>>
>>>>> Yep, and thanks Alessandro for the screenie. Makes me want more!
>>>>>
>>>>> @Nyall in Essen the talk was to start with what Alessandro wrote in his
>>>>> email, so 1 dialog 'merging' all buttons/widgets/dialogs into one,
>>>>> reuse
>>>>> as much as possible. So it was possible to get it into 3.0
>>>>>
>>>>> Off course people (.../me) started brainstorming about features which
>>>>> w/could be added too :-)
>>>>>
>>>>> Your idea adds (I think) to the idea to make some kind of
>>>>> 'datamanagement-console' in near future, where you can create/copy
>>>>> data(!), move data around (browser part) or delete it.
>>>>> Your note fits in this isn't it?
>>>>>
>>>>> Regards,
>>>>>
>>>>> Richard
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> QGIS-Developer mailing list
>>>>> QGIS-Developer at lists.osgeo.org
>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Alessandro Pasotti
>>>> w3:   www.itopen.it
>>>>
>>>
>>>
>>>
>>> --
>>> Alessandro Pasotti
>>> w3:   www.itopen.it
>>>
>>
>>
>> --
>>
>> “When you travel, remember that a foreign country is not designed to make
>> you comfortable. It is designed to make its own people comfortable." --
>> Clifton Fadiman
>>
>>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>


-- 

“When you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170605/f810caf3/attachment.html>

From noreply at qgis.org  Sun Jun  4 23:37:33 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 05 Jun 2017 06:37:33 -0000
Subject: [QGIS-Developer] Plugin [1072] wps4server approval notification.
Message-ID: <20170605063733.579.64947@320558c5528b>


Plugin wps4server approval by pcav.
The plugin version "[1072] wps4server 1.0.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/wps4server/

From noreply at qgis.org  Sun Jun  4 23:38:01 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 05 Jun 2017 06:38:01 -0000
Subject: [QGIS-Developer] Plugin [1242] QuickPrint approval notification.
Message-ID: <20170605063801.29030.39146@320558c5528b>


Plugin QuickPrint approval by pcav.
The plugin version "[1242] QuickPrint 0.2" is now approved
Link: http://plugins.qgis.org/plugins/QuickPrint/

From apasotti at gmail.com  Sun Jun  4 23:51:50 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 5 Jun 2017 08:51:50 +0200
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
	unique "Add layer" tool?
In-Reply-To: <CAK6pVBU0=oqOTdUgt41Yxgg3Y7cWxRr_QWfbYahS_7FKTyqPUw@mail.gmail.com>
References: <CAECJsSq7CaO+ruszLP6hTQkf7pP=qj=TV3i3itRNsjJHWEhQOw@mail.gmail.com>
 <CA+H0G_HOsSi6=Wc+ztp1qjO3xy3fyQ9xN44Cv=Zwq8fMs52eSQ@mail.gmail.com>
 <CAK6pVBUu_QcyUX_WTo4A0SzbZ7iZvvzxbRqPEeWSy1rK0hfxNw@mail.gmail.com>
 <CAFFV8FgdocgtcHFjVUsBDdBtn7HsHb53W9Dm=6ADKSRAOhcxdA@mail.gmail.com>
 <CA+H0G_E1xsEk+E26XmOVkFmbyZRmhSY03GYwj4mihe=XKAwKCg@mail.gmail.com>
 <CA+H0G_GW1YQH6m14c2irWRvLBktg611a3oqNT-usoZg4M=hMPA@mail.gmail.com>
 <4f947712fc1a667480d2d4548050dfe4@carto.net>
 <CABgOYCcPi2bYqU=_qeQnasGz51K2uL+T1641RVWGHqREq63RRg@mail.gmail.com>
 <CA+H0G_GfeseP7kiSVk8OdeaJiK3_HFCHL0E+gkqEcuZsWVD4Uw@mail.gmail.com>
 <59eeadd0-0d1a-4d83-cba8-386a8a8e4a54@carto.net>
 <CA+H0G_FHpz626j52m0g1y-1GszagAP-aS5o3R25PZ-ccrgRnBQ@mail.gmail.com>
 <CA+H0G_Hvpmr6Gxwi=KzV8-JySB6_GuB_YhjHh+m=gk1Qr=+W6g@mail.gmail.com>
 <CAES-DZTPVwz7TePXZ1FttjfB-JiXTgZaeqM=uQ-htxrZg9s8Ww@mail.gmail.com>
 <CAB28Ashw_s=vs-b4uCNdc35xvJT8toFGK1Za9KSmkKqrNtpTbw@mail.gmail.com>
 <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
 <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
 <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>
 <CAK6pVBU0=oqOTdUgt41Yxgg3Y7cWxRr_QWfbYahS_7FKTyqPUw@mail.gmail.com>
Message-ID: <CAL5Q672Hg63x6qZx0YOA=3YYZjBGiW0nwYGNY3818+zwFzekEg@mail.gmail.com>

Hi Stéphane,

Thanks for testing the new dialog!

I think that if you find a bug (a crash or something that doesn't work as
expected) you should open an issue on the hub and assign it to me.

For general feed-back or change proposal for the UI/UX you can either use
this thread or make a PR with the proposed changes and discuss them in the
the PR.

Cheers


On Sun, Jun 4, 2017 at 8:14 PM, Stéphane Henriod <stephanebek at gmail.com>
wrote:

> Hi Alessandro
>
> I just downloaded the latest nightly build and will make some tests in the
> coming days. What would be the most efficient / useful way to give you
> feedback and comments? On this thread?
>
> Thanks and cheers
>
> Stéphane
>
>
> Le jeudi 1 juin 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :
>
>> On Thu, Jun 1, 2017 at 11:22 AM, Stéphane Henriod <stephanebek at gmail.com>
>> wrote:
>>
>>> I really look forward to testing it :-) Thanks a lot for our involvement
>>> here!
>>>
>>>
>>
>> Thanks to Boundless for funding the development and thanks to all of you
>> who participated with design, mockups, ideas, comments and reviews!
>>
>> This was a nice and effective cooperation.
>>
>>
>> BTW, if you can't wait, a Docker with a nigthly build of the PR branch is
>> available as "boundlessgeo/qgis-testing-environment:unified-button"
>>
>> Cheers
>>
>>
>>>
>>> Le mercredi 31 mai 2017, Alessandro Pasotti <apasotti at gmail.com> a
>>> écrit :
>>>
>>>> Hi,
>>>>
>>>> final update: the development of what was in phase 1 is done.
>>>>
>>>> Actually, a bit more than phase 1 considering that we've redesigned the
>>>> delimited text dialog GUI and I've done quite a bit of small refactorings
>>>> of the providers selection dialogs interfaces.
>>>>
>>>> There has been a lot of feed-back, thank you all!
>>>>
>>>> As expected, there is no complete agreement over the final GUI bits for
>>>> the menus and toolbars, and we still miss an icon (the green plus that I've
>>>> used was only meant as a placeholder). I tried to keep the old toolbar
>>>> available (disabled by default) mainly because it can spare a click and
>>>> power users might want it back. Also, the new icon is the most prominent in
>>>> the left bar and it's the first menu item in the layers menu.
>>>>
>>>> I have not a strong opinion about those toolbars and menus but I think
>>>> I should wait no more and merge it as it is, then give the people some time
>>>> to test the actual implementation and decide how to improve it.
>>>>
>>>> I kept the controversial part in a single commit so that it will be
>>>> very easy to revert and propose a different placement for menus, icons and
>>>> toolbars.
>>>>
>>>>
>>>> Any objections if I proceed?
>>>>
>>>>
>>>>
>>>> On Wed, May 24, 2017 at 2:29 PM, Alessandro Pasotti <apasotti at gmail.com
>>>> > wrote:
>>>>
>>>>> Hi,
>>>>>
>>>>> a quick update:
>>>>>
>>>>> I've prepared a PR with a working prototype in
>>>>> https://github.com/qgis/QGIS/pull/4629, I need some feed-back and
>>>>> some help, expecially UX/UI about if we want it as a dockable dialog too
>>>>> (and how to make it user-configurable).
>>>>>
>>>>> Feed-back welcome (but please keep it limited in scope to phase 1).
>>>>>
>>>>> Cheers
>>>>>
>>>>>
>>>>>
>>>>> On Fri, May 19, 2017 at 9:45 AM, Richard Duivenvoorde <
>>>>> rdmailings at duif.net> wrote:
>>>>>
>>>>>> On 19-05-17 01:23, Nyall Dawson wrote:
>>>>>>
>>>>>> > On this note - I've recently discovered the need for some type of
>>>>>> > reusable layer selection widget which allows choice of existing
>>>>>> > layers/loading new layers from the file system/loading new layers
>>>>>> from
>>>>>> > available db/online connections. This would be extremely valuable
>>>>>> for
>>>>>> > processing too!
>>>>>> >
>>>>>> > So I'm really glad to hear that you'll be pushing ahead with this
>>>>>> work
>>>>>> > - thanks Boundless!
>>>>>>
>>>>>> Yep, and thanks Alessandro for the screenie. Makes me want more!
>>>>>>
>>>>>> @Nyall in Essen the talk was to start with what Alessandro wrote in
>>>>>> his
>>>>>> email, so 1 dialog 'merging' all buttons/widgets/dialogs into one,
>>>>>> reuse
>>>>>> as much as possible. So it was possible to get it into 3.0
>>>>>>
>>>>>> Off course people (.../me) started brainstorming about features which
>>>>>> w/could be added too :-)
>>>>>>
>>>>>> Your idea adds (I think) to the idea to make some kind of
>>>>>> 'datamanagement-console' in near future, where you can create/copy
>>>>>> data(!), move data around (browser part) or delete it.
>>>>>> Your note fits in this isn't it?
>>>>>>
>>>>>> Regards,
>>>>>>
>>>>>> Richard
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> QGIS-Developer mailing list
>>>>>> QGIS-Developer at lists.osgeo.org
>>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Alessandro Pasotti
>>>>> w3:   www.itopen.it
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Alessandro Pasotti
>>>> w3:   www.itopen.it
>>>>
>>>
>>>
>>> --
>>>
>>> “When you travel, remember that a foreign country is not designed to
>>> make you comfortable. It is designed to make its own people comfortable."
>>> -- Clifton Fadiman
>>>
>>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it
>>
>
>
> --
>
> “When you travel, remember that a foreign country is not designed to make
> you comfortable. It is designed to make its own people comfortable." --
> Clifton Fadiman
>
>


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170605/2e45d888/attachment.html>

From imajimatika at gmail.com  Mon Jun  5 00:50:11 2017
From: imajimatika at gmail.com (Ismail Sunni)
Date: Mon, 5 Jun 2017 14:50:11 +0700
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
 unique "Add layer" tool?
In-Reply-To: <CAL5Q672Hg63x6qZx0YOA=3YYZjBGiW0nwYGNY3818+zwFzekEg@mail.gmail.com>
References: <CAECJsSq7CaO+ruszLP6hTQkf7pP=qj=TV3i3itRNsjJHWEhQOw@mail.gmail.com>
 <CA+H0G_HOsSi6=Wc+ztp1qjO3xy3fyQ9xN44Cv=Zwq8fMs52eSQ@mail.gmail.com>
 <CAK6pVBUu_QcyUX_WTo4A0SzbZ7iZvvzxbRqPEeWSy1rK0hfxNw@mail.gmail.com>
 <CAFFV8FgdocgtcHFjVUsBDdBtn7HsHb53W9Dm=6ADKSRAOhcxdA@mail.gmail.com>
 <CA+H0G_E1xsEk+E26XmOVkFmbyZRmhSY03GYwj4mihe=XKAwKCg@mail.gmail.com>
 <CA+H0G_GW1YQH6m14c2irWRvLBktg611a3oqNT-usoZg4M=hMPA@mail.gmail.com>
 <4f947712fc1a667480d2d4548050dfe4@carto.net>
 <CABgOYCcPi2bYqU=_qeQnasGz51K2uL+T1641RVWGHqREq63RRg@mail.gmail.com>
 <CA+H0G_GfeseP7kiSVk8OdeaJiK3_HFCHL0E+gkqEcuZsWVD4Uw@mail.gmail.com>
 <59eeadd0-0d1a-4d83-cba8-386a8a8e4a54@carto.net>
 <CA+H0G_FHpz626j52m0g1y-1GszagAP-aS5o3R25PZ-ccrgRnBQ@mail.gmail.com>
 <CA+H0G_Hvpmr6Gxwi=KzV8-JySB6_GuB_YhjHh+m=gk1Qr=+W6g@mail.gmail.com>
 <CAES-DZTPVwz7TePXZ1FttjfB-JiXTgZaeqM=uQ-htxrZg9s8Ww@mail.gmail.com>
 <CAB28Ashw_s=vs-b4uCNdc35xvJT8toFGK1Za9KSmkKqrNtpTbw@mail.gmail.com>
 <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
 <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
 <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>
 <CAK6pVBU0=oqOTdUgt41Yxgg3Y7cWxRr_QWfbYahS_7FKTyqPUw@mail.gmail.com>
 <CAL5Q672Hg63x6qZx0YOA=3YYZjBGiW0nwYGNY3818+zwFzekEg@mail.gmail.com>
Message-ID: <CAEh5jtFdOp+AeHsFbos294MYTQ4t9Y+yhCu4EM-bsWQArcSWTQ@mail.gmail.com>

Hi Allesandro,

I just tried the new add layer button. It looks great! One thing that I
found, when I click the add layer button in the browser panel, there is
nothing happening.

I made a gif to show it : http://imgur.com/EPGFuEz

I build QGIS master on MacOS, for 27850fb00e

Best regards.

On Mon, Jun 5, 2017 at 1:51 PM, Alessandro Pasotti <apasotti at gmail.com>
wrote:

> Hi Stéphane,
>
> Thanks for testing the new dialog!
>
> I think that if you find a bug (a crash or something that doesn't work as
> expected) you should open an issue on the hub and assign it to me.
>
> For general feed-back or change proposal for the UI/UX you can either use
> this thread or make a PR with the proposed changes and discuss them in the
> the PR.
>
> Cheers
>
>
> On Sun, Jun 4, 2017 at 8:14 PM, Stéphane Henriod <stephanebek at gmail.com>
> wrote:
>
>> Hi Alessandro
>>
>> I just downloaded the latest nightly build and will make some tests in
>> the coming days. What would be the most efficient / useful way to give you
>> feedback and comments? On this thread?
>>
>> Thanks and cheers
>>
>> Stéphane
>>
>>
>> Le jeudi 1 juin 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :
>>
>>> On Thu, Jun 1, 2017 at 11:22 AM, Stéphane Henriod <stephanebek at gmail.com
>>> > wrote:
>>>
>>>> I really look forward to testing it :-) Thanks a lot for our
>>>> involvement here!
>>>>
>>>>
>>>
>>> Thanks to Boundless for funding the development and thanks to all of you
>>> who participated with design, mockups, ideas, comments and reviews!
>>>
>>> This was a nice and effective cooperation.
>>>
>>>
>>> BTW, if you can't wait, a Docker with a nigthly build of the PR branch
>>> is available as "boundlessgeo/qgis-testing-environment:unified-button"
>>>
>>> Cheers
>>>
>>>
>>>>
>>>> Le mercredi 31 mai 2017, Alessandro Pasotti <apasotti at gmail.com> a
>>>> écrit :
>>>>
>>>>> Hi,
>>>>>
>>>>> final update: the development of what was in phase 1 is done.
>>>>>
>>>>> Actually, a bit more than phase 1 considering that we've redesigned
>>>>> the delimited text dialog GUI and I've done quite a bit of small
>>>>> refactorings of the providers selection dialogs interfaces.
>>>>>
>>>>> There has been a lot of feed-back, thank you all!
>>>>>
>>>>> As expected, there is no complete agreement over the final GUI bits
>>>>> for the menus and toolbars, and we still miss an icon (the green plus that
>>>>> I've used was only meant as a placeholder). I tried to keep the old toolbar
>>>>> available (disabled by default) mainly because it can spare a click and
>>>>> power users might want it back. Also, the new icon is the most prominent in
>>>>> the left bar and it's the first menu item in the layers menu.
>>>>>
>>>>> I have not a strong opinion about those toolbars and menus but I think
>>>>> I should wait no more and merge it as it is, then give the people some time
>>>>> to test the actual implementation and decide how to improve it.
>>>>>
>>>>> I kept the controversial part in a single commit so that it will be
>>>>> very easy to revert and propose a different placement for menus, icons and
>>>>> toolbars.
>>>>>
>>>>>
>>>>> Any objections if I proceed?
>>>>>
>>>>>
>>>>>
>>>>> On Wed, May 24, 2017 at 2:29 PM, Alessandro Pasotti <
>>>>> apasotti at gmail.com> wrote:
>>>>>
>>>>>> Hi,
>>>>>>
>>>>>> a quick update:
>>>>>>
>>>>>> I've prepared a PR with a working prototype in
>>>>>> https://github.com/qgis/QGIS/pull/4629, I need some feed-back and
>>>>>> some help, expecially UX/UI about if we want it as a dockable dialog too
>>>>>> (and how to make it user-configurable).
>>>>>>
>>>>>> Feed-back welcome (but please keep it limited in scope to phase 1).
>>>>>>
>>>>>> Cheers
>>>>>>
>>>>>>
>>>>>>
>>>>>> On Fri, May 19, 2017 at 9:45 AM, Richard Duivenvoorde <
>>>>>> rdmailings at duif.net> wrote:
>>>>>>
>>>>>>> On 19-05-17 01:23, Nyall Dawson wrote:
>>>>>>>
>>>>>>> > On this note - I've recently discovered the need for some type of
>>>>>>> > reusable layer selection widget which allows choice of existing
>>>>>>> > layers/loading new layers from the file system/loading new layers
>>>>>>> from
>>>>>>> > available db/online connections. This would be extremely valuable
>>>>>>> for
>>>>>>> > processing too!
>>>>>>> >
>>>>>>> > So I'm really glad to hear that you'll be pushing ahead with this
>>>>>>> work
>>>>>>> > - thanks Boundless!
>>>>>>>
>>>>>>> Yep, and thanks Alessandro for the screenie. Makes me want more!
>>>>>>>
>>>>>>> @Nyall in Essen the talk was to start with what Alessandro wrote in
>>>>>>> his
>>>>>>> email, so 1 dialog 'merging' all buttons/widgets/dialogs into one,
>>>>>>> reuse
>>>>>>> as much as possible. So it was possible to get it into 3.0
>>>>>>>
>>>>>>> Off course people (.../me) started brainstorming about features which
>>>>>>> w/could be added too :-)
>>>>>>>
>>>>>>> Your idea adds (I think) to the idea to make some kind of
>>>>>>> 'datamanagement-console' in near future, where you can create/copy
>>>>>>> data(!), move data around (browser part) or delete it.
>>>>>>> Your note fits in this isn't it?
>>>>>>>
>>>>>>> Regards,
>>>>>>>
>>>>>>> Richard
>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> QGIS-Developer mailing list
>>>>>>> QGIS-Developer at lists.osgeo.org
>>>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Alessandro Pasotti
>>>>>> w3:   www.itopen.it
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Alessandro Pasotti
>>>>> w3:   www.itopen.it
>>>>>
>>>>
>>>>
>>>> --
>>>>
>>>> “When you travel, remember that a foreign country is not designed to
>>>> make you comfortable. It is designed to make its own people comfortable."
>>>> -- Clifton Fadiman
>>>>
>>>>
>>>
>>>
>>> --
>>> Alessandro Pasotti
>>> w3:   www.itopen.it
>>>
>>
>>
>> --
>>
>> “When you travel, remember that a foreign country is not designed to make
>> you comfortable. It is designed to make its own people comfortable." --
>> Clifton Fadiman
>>
>>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Ismail Sunni
ismailsunni.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170605/4d9f153d/attachment-0001.html>

From apasotti at gmail.com  Mon Jun  5 00:59:30 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 5 Jun 2017 09:59:30 +0200
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
 unique "Add layer" tool?
In-Reply-To: <CAEh5jtFdOp+AeHsFbos294MYTQ4t9Y+yhCu4EM-bsWQArcSWTQ@mail.gmail.com>
References: <CAECJsSq7CaO+ruszLP6hTQkf7pP=qj=TV3i3itRNsjJHWEhQOw@mail.gmail.com>
 <CA+H0G_HOsSi6=Wc+ztp1qjO3xy3fyQ9xN44Cv=Zwq8fMs52eSQ@mail.gmail.com>
 <CAK6pVBUu_QcyUX_WTo4A0SzbZ7iZvvzxbRqPEeWSy1rK0hfxNw@mail.gmail.com>
 <CAFFV8FgdocgtcHFjVUsBDdBtn7HsHb53W9Dm=6ADKSRAOhcxdA@mail.gmail.com>
 <CA+H0G_E1xsEk+E26XmOVkFmbyZRmhSY03GYwj4mihe=XKAwKCg@mail.gmail.com>
 <CA+H0G_GW1YQH6m14c2irWRvLBktg611a3oqNT-usoZg4M=hMPA@mail.gmail.com>
 <4f947712fc1a667480d2d4548050dfe4@carto.net>
 <CABgOYCcPi2bYqU=_qeQnasGz51K2uL+T1641RVWGHqREq63RRg@mail.gmail.com>
 <CA+H0G_GfeseP7kiSVk8OdeaJiK3_HFCHL0E+gkqEcuZsWVD4Uw@mail.gmail.com>
 <59eeadd0-0d1a-4d83-cba8-386a8a8e4a54@carto.net>
 <CA+H0G_FHpz626j52m0g1y-1GszagAP-aS5o3R25PZ-ccrgRnBQ@mail.gmail.com>
 <CA+H0G_Hvpmr6Gxwi=KzV8-JySB6_GuB_YhjHh+m=gk1Qr=+W6g@mail.gmail.com>
 <CAES-DZTPVwz7TePXZ1FttjfB-JiXTgZaeqM=uQ-htxrZg9s8Ww@mail.gmail.com>
 <CAB28Ashw_s=vs-b4uCNdc35xvJT8toFGK1Za9KSmkKqrNtpTbw@mail.gmail.com>
 <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
 <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
 <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>
 <CAK6pVBU0=oqOTdUgt41Yxgg3Y7cWxRr_QWfbYahS_7FKTyqPUw@mail.gmail.com>
 <CAL5Q672Hg63x6qZx0YOA=3YYZjBGiW0nwYGNY3818+zwFzekEg@mail.gmail.com>
 <CAEh5jtFdOp+AeHsFbos294MYTQ4t9Y+yhCu4EM-bsWQArcSWTQ@mail.gmail.com>
Message-ID: <CAL5Q673sqwr8FJiFru_hqVCZE=zgdX6YoROac4D_LA51bgCvvQ@mail.gmail.com>

On Mon, Jun 5, 2017 at 9:50 AM, Ismail Sunni <imajimatika at gmail.com> wrote:

> Hi Allesandro,
>
> I just tried the new add layer button. It looks great! One thing that I
> found, when I click the add layer button in the browser panel, there is
> nothing happening.
>
> I made a gif to show it : http://imgur.com/EPGFuEz
>


Works for me. Make sure you selected a layer before pushing that button.



> I build QGIS master on MacOS, for 27850fb00e
>
> Best regards.
>
> On Mon, Jun 5, 2017 at 1:51 PM, Alessandro Pasotti <apasotti at gmail.com>
> wrote:
>
>> Hi Stéphane,
>>
>> Thanks for testing the new dialog!
>>
>> I think that if you find a bug (a crash or something that doesn't work as
>> expected) you should open an issue on the hub and assign it to me.
>>
>> For general feed-back or change proposal for the UI/UX you can either use
>> this thread or make a PR with the proposed changes and discuss them in the
>> the PR.
>>
>> Cheers
>>
>>
>> On Sun, Jun 4, 2017 at 8:14 PM, Stéphane Henriod <stephanebek at gmail.com>
>> wrote:
>>
>>> Hi Alessandro
>>>
>>> I just downloaded the latest nightly build and will make some tests in
>>> the coming days. What would be the most efficient / useful way to give you
>>> feedback and comments? On this thread?
>>>
>>> Thanks and cheers
>>>
>>> Stéphane
>>>
>>>
>>> Le jeudi 1 juin 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :
>>>
>>>> On Thu, Jun 1, 2017 at 11:22 AM, Stéphane Henriod <
>>>> stephanebek at gmail.com> wrote:
>>>>
>>>>> I really look forward to testing it :-) Thanks a lot for our
>>>>> involvement here!
>>>>>
>>>>>
>>>>
>>>> Thanks to Boundless for funding the development and thanks to all of
>>>> you who participated with design, mockups, ideas, comments and reviews!
>>>>
>>>> This was a nice and effective cooperation.
>>>>
>>>>
>>>> BTW, if you can't wait, a Docker with a nigthly build of the PR branch
>>>> is available as "boundlessgeo/qgis-testing-environment:unified-button"
>>>>
>>>> Cheers
>>>>
>>>>
>>>>>
>>>>> Le mercredi 31 mai 2017, Alessandro Pasotti <apasotti at gmail.com> a
>>>>> écrit :
>>>>>
>>>>>> Hi,
>>>>>>
>>>>>> final update: the development of what was in phase 1 is done.
>>>>>>
>>>>>> Actually, a bit more than phase 1 considering that we've redesigned
>>>>>> the delimited text dialog GUI and I've done quite a bit of small
>>>>>> refactorings of the providers selection dialogs interfaces.
>>>>>>
>>>>>> There has been a lot of feed-back, thank you all!
>>>>>>
>>>>>> As expected, there is no complete agreement over the final GUI bits
>>>>>> for the menus and toolbars, and we still miss an icon (the green plus that
>>>>>> I've used was only meant as a placeholder). I tried to keep the old toolbar
>>>>>> available (disabled by default) mainly because it can spare a click and
>>>>>> power users might want it back. Also, the new icon is the most prominent in
>>>>>> the left bar and it's the first menu item in the layers menu.
>>>>>>
>>>>>> I have not a strong opinion about those toolbars and menus but I
>>>>>> think I should wait no more and merge it as it is, then give the people
>>>>>> some time to test the actual implementation and decide how to improve it.
>>>>>>
>>>>>> I kept the controversial part in a single commit so that it will be
>>>>>> very easy to revert and propose a different placement for menus, icons and
>>>>>> toolbars.
>>>>>>
>>>>>>
>>>>>> Any objections if I proceed?
>>>>>>
>>>>>>
>>>>>>
>>>>>> On Wed, May 24, 2017 at 2:29 PM, Alessandro Pasotti <
>>>>>> apasotti at gmail.com> wrote:
>>>>>>
>>>>>>> Hi,
>>>>>>>
>>>>>>> a quick update:
>>>>>>>
>>>>>>> I've prepared a PR with a working prototype in
>>>>>>> https://github.com/qgis/QGIS/pull/4629, I need some feed-back and
>>>>>>> some help, expecially UX/UI about if we want it as a dockable dialog too
>>>>>>> (and how to make it user-configurable).
>>>>>>>
>>>>>>> Feed-back welcome (but please keep it limited in scope to phase 1).
>>>>>>>
>>>>>>> Cheers
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> On Fri, May 19, 2017 at 9:45 AM, Richard Duivenvoorde <
>>>>>>> rdmailings at duif.net> wrote:
>>>>>>>
>>>>>>>> On 19-05-17 01:23, Nyall Dawson wrote:
>>>>>>>>
>>>>>>>> > On this note - I've recently discovered the need for some type of
>>>>>>>> > reusable layer selection widget which allows choice of existing
>>>>>>>> > layers/loading new layers from the file system/loading new layers
>>>>>>>> from
>>>>>>>> > available db/online connections. This would be extremely valuable
>>>>>>>> for
>>>>>>>> > processing too!
>>>>>>>> >
>>>>>>>> > So I'm really glad to hear that you'll be pushing ahead with this
>>>>>>>> work
>>>>>>>> > - thanks Boundless!
>>>>>>>>
>>>>>>>> Yep, and thanks Alessandro for the screenie. Makes me want more!
>>>>>>>>
>>>>>>>> @Nyall in Essen the talk was to start with what Alessandro wrote in
>>>>>>>> his
>>>>>>>> email, so 1 dialog 'merging' all buttons/widgets/dialogs into one,
>>>>>>>> reuse
>>>>>>>> as much as possible. So it was possible to get it into 3.0
>>>>>>>>
>>>>>>>> Off course people (.../me) started brainstorming about features
>>>>>>>> which
>>>>>>>> w/could be added too :-)
>>>>>>>>
>>>>>>>> Your idea adds (I think) to the idea to make some kind of
>>>>>>>> 'datamanagement-console' in near future, where you can create/copy
>>>>>>>> data(!), move data around (browser part) or delete it.
>>>>>>>> Your note fits in this isn't it?
>>>>>>>>
>>>>>>>> Regards,
>>>>>>>>
>>>>>>>> Richard
>>>>>>>>
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> QGIS-Developer mailing list
>>>>>>>> QGIS-Developer at lists.osgeo.org
>>>>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>> Unsubscribe: https://lists.osgeo.org/mailma
>>>>>>>> n/listinfo/qgis-developer
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> Alessandro Pasotti
>>>>>>> w3:   www.itopen.it
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Alessandro Pasotti
>>>>>> w3:   www.itopen.it
>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>>
>>>>> “When you travel, remember that a foreign country is not designed to
>>>>> make you comfortable. It is designed to make its own people comfortable."
>>>>> -- Clifton Fadiman
>>>>>
>>>>>
>>>>
>>>>
>>>> --
>>>> Alessandro Pasotti
>>>> w3:   www.itopen.it
>>>>
>>>
>>>
>>> --
>>>
>>> “When you travel, remember that a foreign country is not designed to
>>> make you comfortable. It is designed to make its own people comfortable."
>>> -- Clifton Fadiman
>>>
>>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
> Ismail Sunni
> ismailsunni.wordpress.com
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170605/936242d6/attachment.html>

From imajimatika at gmail.com  Mon Jun  5 01:28:19 2017
From: imajimatika at gmail.com (Ismail Sunni)
Date: Mon, 5 Jun 2017 15:28:19 +0700
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
 unique "Add layer" tool?
In-Reply-To: <CAL5Q673sqwr8FJiFru_hqVCZE=zgdX6YoROac4D_LA51bgCvvQ@mail.gmail.com>
References: <CAECJsSq7CaO+ruszLP6hTQkf7pP=qj=TV3i3itRNsjJHWEhQOw@mail.gmail.com>
 <CA+H0G_HOsSi6=Wc+ztp1qjO3xy3fyQ9xN44Cv=Zwq8fMs52eSQ@mail.gmail.com>
 <CAK6pVBUu_QcyUX_WTo4A0SzbZ7iZvvzxbRqPEeWSy1rK0hfxNw@mail.gmail.com>
 <CAFFV8FgdocgtcHFjVUsBDdBtn7HsHb53W9Dm=6ADKSRAOhcxdA@mail.gmail.com>
 <CA+H0G_E1xsEk+E26XmOVkFmbyZRmhSY03GYwj4mihe=XKAwKCg@mail.gmail.com>
 <CA+H0G_GW1YQH6m14c2irWRvLBktg611a3oqNT-usoZg4M=hMPA@mail.gmail.com>
 <4f947712fc1a667480d2d4548050dfe4@carto.net>
 <CABgOYCcPi2bYqU=_qeQnasGz51K2uL+T1641RVWGHqREq63RRg@mail.gmail.com>
 <CA+H0G_GfeseP7kiSVk8OdeaJiK3_HFCHL0E+gkqEcuZsWVD4Uw@mail.gmail.com>
 <59eeadd0-0d1a-4d83-cba8-386a8a8e4a54@carto.net>
 <CA+H0G_FHpz626j52m0g1y-1GszagAP-aS5o3R25PZ-ccrgRnBQ@mail.gmail.com>
 <CA+H0G_Hvpmr6Gxwi=KzV8-JySB6_GuB_YhjHh+m=gk1Qr=+W6g@mail.gmail.com>
 <CAES-DZTPVwz7TePXZ1FttjfB-JiXTgZaeqM=uQ-htxrZg9s8Ww@mail.gmail.com>
 <CAB28Ashw_s=vs-b4uCNdc35xvJT8toFGK1Za9KSmkKqrNtpTbw@mail.gmail.com>
 <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
 <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
 <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>
 <CAK6pVBU0=oqOTdUgt41Yxgg3Y7cWxRr_QWfbYahS_7FKTyqPUw@mail.gmail.com>
 <CAL5Q672Hg63x6qZx0YOA=3YYZjBGiW0nwYGNY3818+zwFzekEg@mail.gmail.com>
 <CAEh5jtFdOp+AeHsFbos294MYTQ4t9Y+yhCu4EM-bsWQArcSWTQ@mail.gmail.com>
 <CAL5Q673sqwr8FJiFru_hqVCZE=zgdX6YoROac4D_LA51bgCvvQ@mail.gmail.com>
Message-ID: <CAEh5jtHVDpJrNsRL1mpMc9aVW3pbQBia=dwjWuLjZEkVT+cCmg@mail.gmail.com>

Ah yes, sorry. I was thinking that button will do the same thing like in
the toolbar (I also didn't read the tooltip).

Thanks!

On Mon, Jun 5, 2017 at 2:59 PM, Alessandro Pasotti <apasotti at gmail.com>
wrote:

> On Mon, Jun 5, 2017 at 9:50 AM, Ismail Sunni <imajimatika at gmail.com>
> wrote:
>
>> Hi Allesandro,
>>
>> I just tried the new add layer button. It looks great! One thing that I
>> found, when I click the add layer button in the browser panel, there is
>> nothing happening.
>>
>> I made a gif to show it : http://imgur.com/EPGFuEz
>>
>
>
> Works for me. Make sure you selected a layer before pushing that button.
>
>
>
>> I build QGIS master on MacOS, for 27850fb00e
>>
>> Best regards.
>>
>> On Mon, Jun 5, 2017 at 1:51 PM, Alessandro Pasotti <apasotti at gmail.com>
>> wrote:
>>
>>> Hi Stéphane,
>>>
>>> Thanks for testing the new dialog!
>>>
>>> I think that if you find a bug (a crash or something that doesn't work
>>> as expected) you should open an issue on the hub and assign it to me.
>>>
>>> For general feed-back or change proposal for the UI/UX you can either
>>> use this thread or make a PR with the proposed changes and discuss them in
>>> the the PR.
>>>
>>> Cheers
>>>
>>>
>>> On Sun, Jun 4, 2017 at 8:14 PM, Stéphane Henriod <stephanebek at gmail.com>
>>> wrote:
>>>
>>>> Hi Alessandro
>>>>
>>>> I just downloaded the latest nightly build and will make some tests in
>>>> the coming days. What would be the most efficient / useful way to give you
>>>> feedback and comments? On this thread?
>>>>
>>>> Thanks and cheers
>>>>
>>>> Stéphane
>>>>
>>>>
>>>> Le jeudi 1 juin 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :
>>>>
>>>>> On Thu, Jun 1, 2017 at 11:22 AM, Stéphane Henriod <
>>>>> stephanebek at gmail.com> wrote:
>>>>>
>>>>>> I really look forward to testing it :-) Thanks a lot for our
>>>>>> involvement here!
>>>>>>
>>>>>>
>>>>>
>>>>> Thanks to Boundless for funding the development and thanks to all of
>>>>> you who participated with design, mockups, ideas, comments and reviews!
>>>>>
>>>>> This was a nice and effective cooperation.
>>>>>
>>>>>
>>>>> BTW, if you can't wait, a Docker with a nigthly build of the PR branch
>>>>> is available as "boundlessgeo/qgis-testing-environment:unified-button"
>>>>>
>>>>> Cheers
>>>>>
>>>>>
>>>>>>
>>>>>> Le mercredi 31 mai 2017, Alessandro Pasotti <apasotti at gmail.com> a
>>>>>> écrit :
>>>>>>
>>>>>>> Hi,
>>>>>>>
>>>>>>> final update: the development of what was in phase 1 is done.
>>>>>>>
>>>>>>> Actually, a bit more than phase 1 considering that we've redesigned
>>>>>>> the delimited text dialog GUI and I've done quite a bit of small
>>>>>>> refactorings of the providers selection dialogs interfaces.
>>>>>>>
>>>>>>> There has been a lot of feed-back, thank you all!
>>>>>>>
>>>>>>> As expected, there is no complete agreement over the final GUI bits
>>>>>>> for the menus and toolbars, and we still miss an icon (the green plus that
>>>>>>> I've used was only meant as a placeholder). I tried to keep the old toolbar
>>>>>>> available (disabled by default) mainly because it can spare a click and
>>>>>>> power users might want it back. Also, the new icon is the most prominent in
>>>>>>> the left bar and it's the first menu item in the layers menu.
>>>>>>>
>>>>>>> I have not a strong opinion about those toolbars and menus but I
>>>>>>> think I should wait no more and merge it as it is, then give the people
>>>>>>> some time to test the actual implementation and decide how to improve it.
>>>>>>>
>>>>>>> I kept the controversial part in a single commit so that it will be
>>>>>>> very easy to revert and propose a different placement for menus, icons and
>>>>>>> toolbars.
>>>>>>>
>>>>>>>
>>>>>>> Any objections if I proceed?
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> On Wed, May 24, 2017 at 2:29 PM, Alessandro Pasotti <
>>>>>>> apasotti at gmail.com> wrote:
>>>>>>>
>>>>>>>> Hi,
>>>>>>>>
>>>>>>>> a quick update:
>>>>>>>>
>>>>>>>> I've prepared a PR with a working prototype in
>>>>>>>> https://github.com/qgis/QGIS/pull/4629, I need some feed-back and
>>>>>>>> some help, expecially UX/UI about if we want it as a dockable dialog too
>>>>>>>> (and how to make it user-configurable).
>>>>>>>>
>>>>>>>> Feed-back welcome (but please keep it limited in scope to phase 1).
>>>>>>>>
>>>>>>>> Cheers
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> On Fri, May 19, 2017 at 9:45 AM, Richard Duivenvoorde <
>>>>>>>> rdmailings at duif.net> wrote:
>>>>>>>>
>>>>>>>>> On 19-05-17 01:23, Nyall Dawson wrote:
>>>>>>>>>
>>>>>>>>> > On this note - I've recently discovered the need for some type of
>>>>>>>>> > reusable layer selection widget which allows choice of existing
>>>>>>>>> > layers/loading new layers from the file system/loading new
>>>>>>>>> layers from
>>>>>>>>> > available db/online connections. This would be extremely
>>>>>>>>> valuable for
>>>>>>>>> > processing too!
>>>>>>>>> >
>>>>>>>>> > So I'm really glad to hear that you'll be pushing ahead with
>>>>>>>>> this work
>>>>>>>>> > - thanks Boundless!
>>>>>>>>>
>>>>>>>>> Yep, and thanks Alessandro for the screenie. Makes me want more!
>>>>>>>>>
>>>>>>>>> @Nyall in Essen the talk was to start with what Alessandro wrote
>>>>>>>>> in his
>>>>>>>>> email, so 1 dialog 'merging' all buttons/widgets/dialogs into one,
>>>>>>>>> reuse
>>>>>>>>> as much as possible. So it was possible to get it into 3.0
>>>>>>>>>
>>>>>>>>> Off course people (.../me) started brainstorming about features
>>>>>>>>> which
>>>>>>>>> w/could be added too :-)
>>>>>>>>>
>>>>>>>>> Your idea adds (I think) to the idea to make some kind of
>>>>>>>>> 'datamanagement-console' in near future, where you can create/copy
>>>>>>>>> data(!), move data around (browser part) or delete it.
>>>>>>>>> Your note fits in this isn't it?
>>>>>>>>>
>>>>>>>>> Regards,
>>>>>>>>>
>>>>>>>>> Richard
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> _______________________________________________
>>>>>>>>> QGIS-Developer mailing list
>>>>>>>>> QGIS-Developer at lists.osgeo.org
>>>>>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>>> Unsubscribe: https://lists.osgeo.org/mailma
>>>>>>>>> n/listinfo/qgis-developer
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> Alessandro Pasotti
>>>>>>>> w3:   www.itopen.it
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> Alessandro Pasotti
>>>>>>> w3:   www.itopen.it
>>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>>
>>>>>> “When you travel, remember that a foreign country is not designed to
>>>>>> make you comfortable. It is designed to make its own people comfortable."
>>>>>> -- Clifton Fadiman
>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Alessandro Pasotti
>>>>> w3:   www.itopen.it
>>>>>
>>>>
>>>>
>>>> --
>>>>
>>>> “When you travel, remember that a foreign country is not designed to
>>>> make you comfortable. It is designed to make its own people comfortable."
>>>> -- Clifton Fadiman
>>>>
>>>>
>>>
>>>
>>> --
>>> Alessandro Pasotti
>>> w3:   www.itopen.it
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>>
>>
>> --
>> Ismail Sunni
>> ismailsunni.wordpress.com
>>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>



-- 
Ismail Sunni
ismailsunni.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170605/bc3a5733/attachment-0001.html>

From giovanni.manghi at gmail.com  Mon Jun  5 03:09:45 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Mon, 5 Jun 2017 11:09:45 +0100
Subject: [QGIS-Developer] Processing R scripts - TypeError: cannot
 concatenate 'str' and 'NoneType' objects
Message-ID: <CACfnYnRvN=-aysD09qP=m5f-KBsviju-97_GGnRSDbsm5TKYyA@mail.gmail.com>

Hi,

I confirm that in previous QGIS releases (2.14/2.16 for example) R
scripts were working as expected.

So I added

https://issues.qgis.org/issues/16618

to the list of regressions that must be fixed in time for the next LTR

https://docs.google.com/spreadsheets/d/1frZQU8bwGX499WMvtOc6GDIWqEuSv3QHz3zc90TS46Q/edit?usp=sharing


cheers!

-- G --



> Maybe a fix ...
>
> On Fri, Jun 2, 2017 at 8:31 PM, Anita Graser <anitagraser at gmx.at> wrote:
>
>> File "C:/OSGEO4~1/apps/qgis-ltr/./python/plugins\processing\algs\r\RAlgorithm.py",
>> line 404, in getExportCommands
>>
>> commands.append('cat("##' + out.name + '",file="' + outputDataFile +
>> '",sep="\n",append=TRUE)')
>>
>> TypeError: cannot concatenate 'str' and 'NoneType' objects
>>
>
> Not sure if it breaks anything else, but if I add
>
>             elif isinstance(out, OutputHTML):
>                 pass
>
> before the offending
>
>             elif out.name != RAlgorithm.R_OUTPUT_VALUES:
>                 commands.append('cat("##' + out.name + '",file="' +
> outputDataFile + '",sep="\n",append=TRUE)')
>                 commands.append('cat(' + out.name + ',file="' +
> outputDataFile + '",sep="\n",append=TRUE)')
>
> Then the HTML output is created and visible in the results viewer and there
> is no error.
>
> I'm not sure what the problematic lines were supposed to do anyway ...

From noreply at qgis.org  Mon Jun  5 03:48:17 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 05 Jun 2017 10:48:17 -0000
Subject: [QGIS-Developer] Plugin [1251] Vector Transformation approval
	notification.
Message-ID: <20170605104817.27808.88055@320558c5528b>


Plugin Vector Transformation approval by pcav.
The plugin version "[1251] Vector Transformation 1.0" is now approved
Link: http://plugins.qgis.org/plugins/VectorTranformation/

From stephanebek at gmail.com  Mon Jun  5 04:54:07 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Mon, 5 Jun 2017 17:54:07 +0600
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
	unique "Add layer" tool?
In-Reply-To: <CAL5Q672Hg63x6qZx0YOA=3YYZjBGiW0nwYGNY3818+zwFzekEg@mail.gmail.com>
References: <CAECJsSq7CaO+ruszLP6hTQkf7pP=qj=TV3i3itRNsjJHWEhQOw@mail.gmail.com>
 <CA+H0G_HOsSi6=Wc+ztp1qjO3xy3fyQ9xN44Cv=Zwq8fMs52eSQ@mail.gmail.com>
 <CAK6pVBUu_QcyUX_WTo4A0SzbZ7iZvvzxbRqPEeWSy1rK0hfxNw@mail.gmail.com>
 <CAFFV8FgdocgtcHFjVUsBDdBtn7HsHb53W9Dm=6ADKSRAOhcxdA@mail.gmail.com>
 <CA+H0G_E1xsEk+E26XmOVkFmbyZRmhSY03GYwj4mihe=XKAwKCg@mail.gmail.com>
 <CA+H0G_GW1YQH6m14c2irWRvLBktg611a3oqNT-usoZg4M=hMPA@mail.gmail.com>
 <4f947712fc1a667480d2d4548050dfe4@carto.net>
 <CABgOYCcPi2bYqU=_qeQnasGz51K2uL+T1641RVWGHqREq63RRg@mail.gmail.com>
 <CA+H0G_GfeseP7kiSVk8OdeaJiK3_HFCHL0E+gkqEcuZsWVD4Uw@mail.gmail.com>
 <59eeadd0-0d1a-4d83-cba8-386a8a8e4a54@carto.net>
 <CA+H0G_FHpz626j52m0g1y-1GszagAP-aS5o3R25PZ-ccrgRnBQ@mail.gmail.com>
 <CA+H0G_Hvpmr6Gxwi=KzV8-JySB6_GuB_YhjHh+m=gk1Qr=+W6g@mail.gmail.com>
 <CAES-DZTPVwz7TePXZ1FttjfB-JiXTgZaeqM=uQ-htxrZg9s8Ww@mail.gmail.com>
 <CAB28Ashw_s=vs-b4uCNdc35xvJT8toFGK1Za9KSmkKqrNtpTbw@mail.gmail.com>
 <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
 <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
 <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>
 <CAK6pVBU0=oqOTdUgt41Yxgg3Y7cWxRr_QWfbYahS_7FKTyqPUw@mail.gmail.com>
 <CAL5Q672Hg63x6qZx0YOA=3YYZjBGiW0nwYGNY3818+zwFzekEg@mail.gmail.com>
Message-ID: <CAK6pVBXpewhmS-0Ao2K5xDQRsZ0-0MJX1ORz+=Ydjk0ez_YnMA@mail.gmail.com>

Hi Alessandro

First of all, thank you so much for this work, it looks really great
already!

Here a few comments / ideas after a few quick tests, I let you filter which
ones could actually be part of this phase and which ones should be left out
for a future phase 2

- "Raster" is not consistent: it is confusing that the file selector opens
directly. The behavior should mimick the "vector" (open the file selector
only when the user clicks on "browse")

- The "DB2" logo should be cleaned (at least add transparency)

- When I click on "Browse", the file selector window opens behind the Data
Source Manager

- I would change the order of the providers: move the "Delimited text" just
below raster (so that we have all file-based providers together). And maybe
separate (visually) the providers in sections: "Files", "Databases", "Web
services", "Virtual" (or something like this). Also,"ArcGIS Feature Server"
should probably be just after "ArcGIS Map Server"

- It would be super useful to be able to display a basemap (OSM, Google,
etc) directly from the Data Source Manager, without having to configure
"XYZ Tiles" in the browser.Would it be possible in this phase to add 1
entry in the Data source manager "Webmaps" where the user could simply pick
in a drop-down one of the most common webmaps (and could add additional XYZ
tiles)? This would be a golden feature for non-power users.

Thanks again, I will try to test it a bit deeper in the coming days

Cheers
Stéphane


Le lundi 5 juin 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :

> Hi Stéphane,
>
> Thanks for testing the new dialog!
>
> I think that if you find a bug (a crash or something that doesn't work as
> expected) you should open an issue on the hub and assign it to me.
>
> For general feed-back or change proposal for the UI/UX you can either use
> this thread or make a PR with the proposed changes and discuss them in the
> the PR.
>
> Cheers
>
>
> On Sun, Jun 4, 2017 at 8:14 PM, Stéphane Henriod <stephanebek at gmail.com
> <javascript:_e(%7B%7D,'cvml','stephanebek at gmail.com');>> wrote:
>
>> Hi Alessandro
>>
>> I just downloaded the latest nightly build and will make some tests in
>> the coming days. What would be the most efficient / useful way to give you
>> feedback and comments? On this thread?
>>
>> Thanks and cheers
>>
>> Stéphane
>>
>>
>> Le jeudi 1 juin 2017, Alessandro Pasotti <apasotti at gmail.com
>> <javascript:_e(%7B%7D,'cvml','apasotti at gmail.com');>> a écrit :
>>
>>> On Thu, Jun 1, 2017 at 11:22 AM, Stéphane Henriod <stephanebek at gmail.com
>>> > wrote:
>>>
>>>> I really look forward to testing it :-) Thanks a lot for our
>>>> involvement here!
>>>>
>>>>
>>>
>>> Thanks to Boundless for funding the development and thanks to all of you
>>> who participated with design, mockups, ideas, comments and reviews!
>>>
>>> This was a nice and effective cooperation.
>>>
>>>
>>> BTW, if you can't wait, a Docker with a nigthly build of the PR branch
>>> is available as "boundlessgeo/qgis-testing-environment:unified-button"
>>>
>>> Cheers
>>>
>>>
>>>>
>>>> Le mercredi 31 mai 2017, Alessandro Pasotti <apasotti at gmail.com> a
>>>> écrit :
>>>>
>>>>> Hi,
>>>>>
>>>>> final update: the development of what was in phase 1 is done.
>>>>>
>>>>> Actually, a bit more than phase 1 considering that we've redesigned
>>>>> the delimited text dialog GUI and I've done quite a bit of small
>>>>> refactorings of the providers selection dialogs interfaces.
>>>>>
>>>>> There has been a lot of feed-back, thank you all!
>>>>>
>>>>> As expected, there is no complete agreement over the final GUI bits
>>>>> for the menus and toolbars, and we still miss an icon (the green plus that
>>>>> I've used was only meant as a placeholder). I tried to keep the old toolbar
>>>>> available (disabled by default) mainly because it can spare a click and
>>>>> power users might want it back. Also, the new icon is the most prominent in
>>>>> the left bar and it's the first menu item in the layers menu.
>>>>>
>>>>> I have not a strong opinion about those toolbars and menus but I think
>>>>> I should wait no more and merge it as it is, then give the people some time
>>>>> to test the actual implementation and decide how to improve it.
>>>>>
>>>>> I kept the controversial part in a single commit so that it will be
>>>>> very easy to revert and propose a different placement for menus, icons and
>>>>> toolbars.
>>>>>
>>>>>
>>>>> Any objections if I proceed?
>>>>>
>>>>>
>>>>>
>>>>> On Wed, May 24, 2017 at 2:29 PM, Alessandro Pasotti <
>>>>> apasotti at gmail.com> wrote:
>>>>>
>>>>>> Hi,
>>>>>>
>>>>>> a quick update:
>>>>>>
>>>>>> I've prepared a PR with a working prototype in
>>>>>> https://github.com/qgis/QGIS/pull/4629, I need some feed-back and
>>>>>> some help, expecially UX/UI about if we want it as a dockable dialog too
>>>>>> (and how to make it user-configurable).
>>>>>>
>>>>>> Feed-back welcome (but please keep it limited in scope to phase 1).
>>>>>>
>>>>>> Cheers
>>>>>>
>>>>>>
>>>>>>
>>>>>> On Fri, May 19, 2017 at 9:45 AM, Richard Duivenvoorde <
>>>>>> rdmailings at duif.net> wrote:
>>>>>>
>>>>>>> On 19-05-17 01:23, Nyall Dawson wrote:
>>>>>>>
>>>>>>> > On this note - I've recently discovered the need for some type of
>>>>>>> > reusable layer selection widget which allows choice of existing
>>>>>>> > layers/loading new layers from the file system/loading new layers
>>>>>>> from
>>>>>>> > available db/online connections. This would be extremely valuable
>>>>>>> for
>>>>>>> > processing too!
>>>>>>> >
>>>>>>> > So I'm really glad to hear that you'll be pushing ahead with this
>>>>>>> work
>>>>>>> > - thanks Boundless!
>>>>>>>
>>>>>>> Yep, and thanks Alessandro for the screenie. Makes me want more!
>>>>>>>
>>>>>>> @Nyall in Essen the talk was to start with what Alessandro wrote in
>>>>>>> his
>>>>>>> email, so 1 dialog 'merging' all buttons/widgets/dialogs into one,
>>>>>>> reuse
>>>>>>> as much as possible. So it was possible to get it into 3.0
>>>>>>>
>>>>>>> Off course people (.../me) started brainstorming about features which
>>>>>>> w/could be added too :-)
>>>>>>>
>>>>>>> Your idea adds (I think) to the idea to make some kind of
>>>>>>> 'datamanagement-console' in near future, where you can create/copy
>>>>>>> data(!), move data around (browser part) or delete it.
>>>>>>> Your note fits in this isn't it?
>>>>>>>
>>>>>>> Regards,
>>>>>>>
>>>>>>> Richard
>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> QGIS-Developer mailing list
>>>>>>> QGIS-Developer at lists.osgeo.org
>>>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Alessandro Pasotti
>>>>>> w3:   www.itopen.it
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Alessandro Pasotti
>>>>> w3:   www.itopen.it
>>>>>
>>>>
>>>>
>>>> --
>>>>
>>>> “When you travel, remember that a foreign country is not designed to
>>>> make you comfortable. It is designed to make its own people comfortable."
>>>> -- Clifton Fadiman
>>>>
>>>>
>>>
>>>
>>> --
>>> Alessandro Pasotti
>>> w3:   www.itopen.it
>>>
>>
>>
>> --
>>
>> “When you travel, remember that a foreign country is not designed to make
>> you comfortable. It is designed to make its own people comfortable." --
>> Clifton Fadiman
>>
>>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>


-- 

“When you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170605/89cddb45/attachment.html>

From apasotti at gmail.com  Mon Jun  5 05:42:05 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 5 Jun 2017 14:42:05 +0200
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
	unique "Add layer" tool?
In-Reply-To: <CAK6pVBXpewhmS-0Ao2K5xDQRsZ0-0MJX1ORz+=Ydjk0ez_YnMA@mail.gmail.com>
References: <CAECJsSq7CaO+ruszLP6hTQkf7pP=qj=TV3i3itRNsjJHWEhQOw@mail.gmail.com>
 <CA+H0G_HOsSi6=Wc+ztp1qjO3xy3fyQ9xN44Cv=Zwq8fMs52eSQ@mail.gmail.com>
 <CAK6pVBUu_QcyUX_WTo4A0SzbZ7iZvvzxbRqPEeWSy1rK0hfxNw@mail.gmail.com>
 <CAFFV8FgdocgtcHFjVUsBDdBtn7HsHb53W9Dm=6ADKSRAOhcxdA@mail.gmail.com>
 <CA+H0G_E1xsEk+E26XmOVkFmbyZRmhSY03GYwj4mihe=XKAwKCg@mail.gmail.com>
 <CA+H0G_GW1YQH6m14c2irWRvLBktg611a3oqNT-usoZg4M=hMPA@mail.gmail.com>
 <4f947712fc1a667480d2d4548050dfe4@carto.net>
 <CABgOYCcPi2bYqU=_qeQnasGz51K2uL+T1641RVWGHqREq63RRg@mail.gmail.com>
 <CA+H0G_GfeseP7kiSVk8OdeaJiK3_HFCHL0E+gkqEcuZsWVD4Uw@mail.gmail.com>
 <59eeadd0-0d1a-4d83-cba8-386a8a8e4a54@carto.net>
 <CA+H0G_FHpz626j52m0g1y-1GszagAP-aS5o3R25PZ-ccrgRnBQ@mail.gmail.com>
 <CA+H0G_Hvpmr6Gxwi=KzV8-JySB6_GuB_YhjHh+m=gk1Qr=+W6g@mail.gmail.com>
 <CAES-DZTPVwz7TePXZ1FttjfB-JiXTgZaeqM=uQ-htxrZg9s8Ww@mail.gmail.com>
 <CAB28Ashw_s=vs-b4uCNdc35xvJT8toFGK1Za9KSmkKqrNtpTbw@mail.gmail.com>
 <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
 <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
 <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>
 <CAK6pVBU0=oqOTdUgt41Yxgg3Y7cWxRr_QWfbYahS_7FKTyqPUw@mail.gmail.com>
 <CAL5Q672Hg63x6qZx0YOA=3YYZjBGiW0nwYGNY3818+zwFzekEg@mail.gmail.com>
 <CAK6pVBXpewhmS-0Ao2K5xDQRsZ0-0MJX1ORz+=Ydjk0ez_YnMA@mail.gmail.com>
Message-ID: <CAL5Q673Mbj=LxxancnAMC=5PkEP5XTeWjFZ2ymqb+MCf7KBwzA@mail.gmail.com>

On Mon, Jun 5, 2017 at 1:54 PM, Stéphane Henriod <stephanebek at gmail.com>
wrote:

> Hi Alessandro
>
> First of all, thank you so much for this work, it looks really great
> already!
>
> Here a few comments / ideas after a few quick tests, I let you filter
> which ones could actually be part of this phase and which ones should be
> left out for a future phase 2
>

Hi,

thanks for testing!



>
> - "Raster" is not consistent: it is confusing that the file selector opens
> directly. The behavior should mimick the "vector" (open the file selector
> only when the user clicks on "browse")
>

yeah, I know,  this has been already discussed in the PR comments, please
have a look.


>
> - The "DB2" logo should be cleaned (at least add transparency)
>


Sorry, I've no graphics design skills, and this task is really something
that a not-programmer can contribute to. Changing the icons was not in
scope btw.


>
> - When I click on "Browse", the file selector window opens behind the Data
> Source Manager
>

Not sure I understand what you mean here, probably need more details, and
it seems like a bug.


>
> - I would change the order of the providers: move the "Delimited text"
> just below raster (so that we have all file-based providers together). And
> maybe separate (visually) the providers in sections: "Files", "Databases",
> "Web services", "Virtual" (or something like this). Also,"ArcGIS Feature
> Server" should probably be just after "ArcGIS Map Server"
>


If I'm not mistaken, the order is  the same order we had before for the
menu items and the icons, I did not alter the order (at least that was not
my intention).


> - It would be super useful to be able to display a basemap (OSM, Google,
> etc) directly from the Data Source Manager, without having to configure
> "XYZ Tiles" in the browser.Would it be possible in this phase to add 1
> entry in the Data source manager "Webmaps" where the user could simply pick
> in a drop-down one of the most common webmaps (and could add additional XYZ
> tiles)? This would be a golden feature for non-power users.
>


This is totally unrelated, but AFAIK there are plans to add some default
xyz maps to the mix for 3.0.



>
> Thanks again, I will try to test it a bit deeper in the coming days
>
> Cheers
> Stéphane
>
>
Thanks again for the feed-back!

Cheers.



>
> Le lundi 5 juin 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :
>
>> Hi Stéphane,
>>
>> Thanks for testing the new dialog!
>>
>> I think that if you find a bug (a crash or something that doesn't work as
>> expected) you should open an issue on the hub and assign it to me.
>>
>> For general feed-back or change proposal for the UI/UX you can either use
>> this thread or make a PR with the proposed changes and discuss them in the
>> the PR.
>>
>> Cheers
>>
>>
>> On Sun, Jun 4, 2017 at 8:14 PM, Stéphane Henriod <stephanebek at gmail.com>
>> wrote:
>>
>>> Hi Alessandro
>>>
>>> I just downloaded the latest nightly build and will make some tests in
>>> the coming days. What would be the most efficient / useful way to give you
>>> feedback and comments? On this thread?
>>>
>>> Thanks and cheers
>>>
>>> Stéphane
>>>
>>>
>>> Le jeudi 1 juin 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :
>>>
>>>> On Thu, Jun 1, 2017 at 11:22 AM, Stéphane Henriod <
>>>> stephanebek at gmail.com> wrote:
>>>>
>>>>> I really look forward to testing it :-) Thanks a lot for our
>>>>> involvement here!
>>>>>
>>>>>
>>>>
>>>> Thanks to Boundless for funding the development and thanks to all of
>>>> you who participated with design, mockups, ideas, comments and reviews!
>>>>
>>>> This was a nice and effective cooperation.
>>>>
>>>>
>>>> BTW, if you can't wait, a Docker with a nigthly build of the PR branch
>>>> is available as "boundlessgeo/qgis-testing-environment:unified-button"
>>>>
>>>> Cheers
>>>>
>>>>
>>>>>
>>>>> Le mercredi 31 mai 2017, Alessandro Pasotti <apasotti at gmail.com> a
>>>>> écrit :
>>>>>
>>>>>> Hi,
>>>>>>
>>>>>> final update: the development of what was in phase 1 is done.
>>>>>>
>>>>>> Actually, a bit more than phase 1 considering that we've redesigned
>>>>>> the delimited text dialog GUI and I've done quite a bit of small
>>>>>> refactorings of the providers selection dialogs interfaces.
>>>>>>
>>>>>> There has been a lot of feed-back, thank you all!
>>>>>>
>>>>>> As expected, there is no complete agreement over the final GUI bits
>>>>>> for the menus and toolbars, and we still miss an icon (the green plus that
>>>>>> I've used was only meant as a placeholder). I tried to keep the old toolbar
>>>>>> available (disabled by default) mainly because it can spare a click and
>>>>>> power users might want it back. Also, the new icon is the most prominent in
>>>>>> the left bar and it's the first menu item in the layers menu.
>>>>>>
>>>>>> I have not a strong opinion about those toolbars and menus but I
>>>>>> think I should wait no more and merge it as it is, then give the people
>>>>>> some time to test the actual implementation and decide how to improve it.
>>>>>>
>>>>>> I kept the controversial part in a single commit so that it will be
>>>>>> very easy to revert and propose a different placement for menus, icons and
>>>>>> toolbars.
>>>>>>
>>>>>>
>>>>>> Any objections if I proceed?
>>>>>>
>>>>>>
>>>>>>
>>>>>> On Wed, May 24, 2017 at 2:29 PM, Alessandro Pasotti <
>>>>>> apasotti at gmail.com> wrote:
>>>>>>
>>>>>>> Hi,
>>>>>>>
>>>>>>> a quick update:
>>>>>>>
>>>>>>> I've prepared a PR with a working prototype in
>>>>>>> https://github.com/qgis/QGIS/pull/4629, I need some feed-back and
>>>>>>> some help, expecially UX/UI about if we want it as a dockable dialog too
>>>>>>> (and how to make it user-configurable).
>>>>>>>
>>>>>>> Feed-back welcome (but please keep it limited in scope to phase 1).
>>>>>>>
>>>>>>> Cheers
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> On Fri, May 19, 2017 at 9:45 AM, Richard Duivenvoorde <
>>>>>>> rdmailings at duif.net> wrote:
>>>>>>>
>>>>>>>> On 19-05-17 01:23, Nyall Dawson wrote:
>>>>>>>>
>>>>>>>> > On this note - I've recently discovered the need for some type of
>>>>>>>> > reusable layer selection widget which allows choice of existing
>>>>>>>> > layers/loading new layers from the file system/loading new layers
>>>>>>>> from
>>>>>>>> > available db/online connections. This would be extremely valuable
>>>>>>>> for
>>>>>>>> > processing too!
>>>>>>>> >
>>>>>>>> > So I'm really glad to hear that you'll be pushing ahead with this
>>>>>>>> work
>>>>>>>> > - thanks Boundless!
>>>>>>>>
>>>>>>>> Yep, and thanks Alessandro for the screenie. Makes me want more!
>>>>>>>>
>>>>>>>> @Nyall in Essen the talk was to start with what Alessandro wrote in
>>>>>>>> his
>>>>>>>> email, so 1 dialog 'merging' all buttons/widgets/dialogs into one,
>>>>>>>> reuse
>>>>>>>> as much as possible. So it was possible to get it into 3.0
>>>>>>>>
>>>>>>>> Off course people (.../me) started brainstorming about features
>>>>>>>> which
>>>>>>>> w/could be added too :-)
>>>>>>>>
>>>>>>>> Your idea adds (I think) to the idea to make some kind of
>>>>>>>> 'datamanagement-console' in near future, where you can create/copy
>>>>>>>> data(!), move data around (browser part) or delete it.
>>>>>>>> Your note fits in this isn't it?
>>>>>>>>
>>>>>>>> Regards,
>>>>>>>>
>>>>>>>> Richard
>>>>>>>>
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> QGIS-Developer mailing list
>>>>>>>> QGIS-Developer at lists.osgeo.org
>>>>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>> Unsubscribe: https://lists.osgeo.org/mailma
>>>>>>>> n/listinfo/qgis-developer
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> Alessandro Pasotti
>>>>>>> w3:   www.itopen.it
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Alessandro Pasotti
>>>>>> w3:   www.itopen.it
>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>>
>>>>> “When you travel, remember that a foreign country is not designed to
>>>>> make you comfortable. It is designed to make its own people comfortable."
>>>>> -- Clifton Fadiman
>>>>>
>>>>>
>>>>
>>>>
>>>> --
>>>> Alessandro Pasotti
>>>> w3:   www.itopen.it
>>>>
>>>
>>>
>>> --
>>>
>>> “When you travel, remember that a foreign country is not designed to
>>> make you comfortable. It is designed to make its own people comfortable."
>>> -- Clifton Fadiman
>>>
>>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it
>>
>
>
> --
>
> “When you travel, remember that a foreign country is not designed to make
> you comfortable. It is designed to make its own people comfortable." --
> Clifton Fadiman
>
>


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170605/40b9d0fe/attachment-0001.html>

From noreply at qgis.org  Mon Jun  5 06:07:09 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 05 Jun 2017 13:07:09 -0000
Subject: [QGIS-Developer] Plugin [1230] Vector Tiles Reader approval
	notification.
Message-ID: <20170605130709.12138.60486@320558c5528b>


Plugin Vector Tiles Reader approval by pcav.
The plugin version "[1230] Vector Tiles Reader 0.13.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/vector_tiles_reader/

From senhor.neto at gmail.com  Mon Jun  5 06:28:56 2017
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Mon, 05 Jun 2017 13:28:56 +0000
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
 unique "Add layer" tool?
In-Reply-To: <CAEh5jtHVDpJrNsRL1mpMc9aVW3pbQBia=dwjWuLjZEkVT+cCmg@mail.gmail.com>
References: <CAECJsSq7CaO+ruszLP6hTQkf7pP=qj=TV3i3itRNsjJHWEhQOw@mail.gmail.com>
 <CA+H0G_HOsSi6=Wc+ztp1qjO3xy3fyQ9xN44Cv=Zwq8fMs52eSQ@mail.gmail.com>
 <CAK6pVBUu_QcyUX_WTo4A0SzbZ7iZvvzxbRqPEeWSy1rK0hfxNw@mail.gmail.com>
 <CAFFV8FgdocgtcHFjVUsBDdBtn7HsHb53W9Dm=6ADKSRAOhcxdA@mail.gmail.com>
 <CA+H0G_E1xsEk+E26XmOVkFmbyZRmhSY03GYwj4mihe=XKAwKCg@mail.gmail.com>
 <CA+H0G_GW1YQH6m14c2irWRvLBktg611a3oqNT-usoZg4M=hMPA@mail.gmail.com>
 <4f947712fc1a667480d2d4548050dfe4@carto.net>
 <CABgOYCcPi2bYqU=_qeQnasGz51K2uL+T1641RVWGHqREq63RRg@mail.gmail.com>
 <CA+H0G_GfeseP7kiSVk8OdeaJiK3_HFCHL0E+gkqEcuZsWVD4Uw@mail.gmail.com>
 <59eeadd0-0d1a-4d83-cba8-386a8a8e4a54@carto.net>
 <CA+H0G_FHpz626j52m0g1y-1GszagAP-aS5o3R25PZ-ccrgRnBQ@mail.gmail.com>
 <CA+H0G_Hvpmr6Gxwi=KzV8-JySB6_GuB_YhjHh+m=gk1Qr=+W6g@mail.gmail.com>
 <CAES-DZTPVwz7TePXZ1FttjfB-JiXTgZaeqM=uQ-htxrZg9s8Ww@mail.gmail.com>
 <CAB28Ashw_s=vs-b4uCNdc35xvJT8toFGK1Za9KSmkKqrNtpTbw@mail.gmail.com>
 <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
 <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
 <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>
 <CAK6pVBU0=oqOTdUgt41Yxgg3Y7cWxRr_QWfbYahS_7FKTyqPUw@mail.gmail.com>
 <CAL5Q672Hg63x6qZx0YOA=3YYZjBGiW0nwYGNY3818+zwFzekEg@mail.gmail.com>
 <CAEh5jtFdOp+AeHsFbos294MYTQ4t9Y+yhCu4EM-bsWQArcSWTQ@mail.gmail.com>
 <CAL5Q673sqwr8FJiFru_hqVCZE=zgdX6YoROac4D_LA51bgCvvQ@mail.gmail.com>
 <CAEh5jtHVDpJrNsRL1mpMc9aVW3pbQBia=dwjWuLjZEkVT+cCmg@mail.gmail.com>
Message-ID: <CA+H0G_FBuOW1PUcraCYJ952F6gKz_8LJYqXz2zEu8vLRgfKSxA@mail.gmail.com>

Ismail Sunni <imajimatika at gmail.com> escreveu no dia segunda, 5/06/2017 às
09:28:

> Ah yes, sorry. I was thinking that button will do the same thing like in
> the toolbar (I also didn't read the tooltip).
>
>
Probably a sign that a distinct Icon is needed.


> Thanks!
>
> On Mon, Jun 5, 2017 at 2:59 PM, Alessandro Pasotti <apasotti at gmail.com>
> wrote:
>
>> On Mon, Jun 5, 2017 at 9:50 AM, Ismail Sunni <imajimatika at gmail.com>
>> wrote:
>>
>>> Hi Allesandro,
>>>
>>> I just tried the new add layer button. It looks great! One thing that I
>>> found, when I click the add layer button in the browser panel, there is
>>> nothing happening.
>>>
>>> I made a gif to show it : http://imgur.com/EPGFuEz
>>>
>>
>>
>> Works for me. Make sure you selected a layer before pushing that button.
>>
>>
>>
>>> I build QGIS master on MacOS, for 27850fb00e
>>>
>>> Best regards.
>>>
>>> On Mon, Jun 5, 2017 at 1:51 PM, Alessandro Pasotti <apasotti at gmail.com>
>>> wrote:
>>>
>>>> Hi Stéphane,
>>>>
>>>> Thanks for testing the new dialog!
>>>>
>>>> I think that if you find a bug (a crash or something that doesn't work
>>>> as expected) you should open an issue on the hub and assign it to me.
>>>>
>>>> For general feed-back or change proposal for the UI/UX you can either
>>>> use this thread or make a PR with the proposed changes and discuss them in
>>>> the the PR.
>>>>
>>>> Cheers
>>>>
>>>>
>>>> On Sun, Jun 4, 2017 at 8:14 PM, Stéphane Henriod <stephanebek at gmail.com
>>>> > wrote:
>>>>
>>>>> Hi Alessandro
>>>>>
>>>>> I just downloaded the latest nightly build and will make some tests in
>>>>> the coming days. What would be the most efficient / useful way to give you
>>>>> feedback and comments? On this thread?
>>>>>
>>>>> Thanks and cheers
>>>>>
>>>>> Stéphane
>>>>>
>>>>>
>>>>> Le jeudi 1 juin 2017, Alessandro Pasotti <apasotti at gmail.com> a
>>>>> écrit :
>>>>>
>>>>>> On Thu, Jun 1, 2017 at 11:22 AM, Stéphane Henriod <
>>>>>> stephanebek at gmail.com> wrote:
>>>>>>
>>>>>>> I really look forward to testing it :-) Thanks a lot for our
>>>>>>> involvement here!
>>>>>>>
>>>>>>>
>>>>>>
>>>>>> Thanks to Boundless for funding the development and thanks to all of
>>>>>> you who participated with design, mockups, ideas, comments and reviews!
>>>>>>
>>>>>> This was a nice and effective cooperation.
>>>>>>
>>>>>>
>>>>>> BTW, if you can't wait, a Docker with a nigthly build of the PR
>>>>>> branch is available as
>>>>>> "boundlessgeo/qgis-testing-environment:unified-button"
>>>>>>
>>>>>> Cheers
>>>>>>
>>>>>>
>>>>>>>
>>>>>>> Le mercredi 31 mai 2017, Alessandro Pasotti <apasotti at gmail.com> a
>>>>>>> écrit :
>>>>>>>
>>>>>>>> Hi,
>>>>>>>>
>>>>>>>> final update: the development of what was in phase 1 is done.
>>>>>>>>
>>>>>>>> Actually, a bit more than phase 1 considering that we've redesigned
>>>>>>>> the delimited text dialog GUI and I've done quite a bit of small
>>>>>>>> refactorings of the providers selection dialogs interfaces.
>>>>>>>>
>>>>>>>> There has been a lot of feed-back, thank you all!
>>>>>>>>
>>>>>>>> As expected, there is no complete agreement over the final GUI bits
>>>>>>>> for the menus and toolbars, and we still miss an icon (the green plus that
>>>>>>>> I've used was only meant as a placeholder). I tried to keep the old toolbar
>>>>>>>> available (disabled by default) mainly because it can spare a click and
>>>>>>>> power users might want it back. Also, the new icon is the most prominent in
>>>>>>>> the left bar and it's the first menu item in the layers menu.
>>>>>>>>
>>>>>>>> I have not a strong opinion about those toolbars and menus but I
>>>>>>>> think I should wait no more and merge it as it is, then give the people
>>>>>>>> some time to test the actual implementation and decide how to improve it.
>>>>>>>>
>>>>>>>> I kept the controversial part in a single commit so that it will be
>>>>>>>> very easy to revert and propose a different placement for menus, icons and
>>>>>>>> toolbars.
>>>>>>>>
>>>>>>>>
>>>>>>>> Any objections if I proceed?
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> On Wed, May 24, 2017 at 2:29 PM, Alessandro Pasotti <
>>>>>>>> apasotti at gmail.com> wrote:
>>>>>>>>
>>>>>>>>> Hi,
>>>>>>>>>
>>>>>>>>> a quick update:
>>>>>>>>>
>>>>>>>>> I've prepared a PR with a working prototype in
>>>>>>>>> https://github.com/qgis/QGIS/pull/4629, I need some feed-back and
>>>>>>>>> some help, expecially UX/UI about if we want it as a dockable dialog too
>>>>>>>>> (and how to make it user-configurable).
>>>>>>>>>
>>>>>>>>> Feed-back welcome (but please keep it limited in scope to phase 1).
>>>>>>>>>
>>>>>>>>> Cheers
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> On Fri, May 19, 2017 at 9:45 AM, Richard Duivenvoorde <
>>>>>>>>> rdmailings at duif.net> wrote:
>>>>>>>>>
>>>>>>>>>> On 19-05-17 01:23, Nyall Dawson wrote:
>>>>>>>>>>
>>>>>>>>>> > On this note - I've recently discovered the need for some type
>>>>>>>>>> of
>>>>>>>>>> > reusable layer selection widget which allows choice of existing
>>>>>>>>>> > layers/loading new layers from the file system/loading new
>>>>>>>>>> layers from
>>>>>>>>>> > available db/online connections. This would be extremely
>>>>>>>>>> valuable for
>>>>>>>>>> > processing too!
>>>>>>>>>> >
>>>>>>>>>> > So I'm really glad to hear that you'll be pushing ahead with
>>>>>>>>>> this work
>>>>>>>>>> > - thanks Boundless!
>>>>>>>>>>
>>>>>>>>>> Yep, and thanks Alessandro for the screenie. Makes me want more!
>>>>>>>>>>
>>>>>>>>>> @Nyall in Essen the talk was to start with what Alessandro wrote
>>>>>>>>>> in his
>>>>>>>>>> email, so 1 dialog 'merging' all buttons/widgets/dialogs into
>>>>>>>>>> one, reuse
>>>>>>>>>> as much as possible. So it was possible to get it into 3.0
>>>>>>>>>>
>>>>>>>>>> Off course people (.../me) started brainstorming about features
>>>>>>>>>> which
>>>>>>>>>> w/could be added too :-)
>>>>>>>>>>
>>>>>>>>>> Your idea adds (I think) to the idea to make some kind of
>>>>>>>>>> 'datamanagement-console' in near future, where you can create/copy
>>>>>>>>>> data(!), move data around (browser part) or delete it.
>>>>>>>>>> Your note fits in this isn't it?
>>>>>>>>>>
>>>>>>>>>> Regards,
>>>>>>>>>>
>>>>>>>>>> Richard
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> _______________________________________________
>>>>>>>>>> QGIS-Developer mailing list
>>>>>>>>>> QGIS-Developer at lists.osgeo.org
>>>>>>>>>> List info:
>>>>>>>>>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>>>> Unsubscribe:
>>>>>>>>>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>> Alessandro Pasotti
>>>>>>>>> w3:   www.itopen.it
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> Alessandro Pasotti
>>>>>>>> w3:   www.itopen.it
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>>
>>>>>>> “When you travel, remember that a foreign country is not designed to
>>>>>>> make you comfortable. It is designed to make its own people comfortable."
>>>>>>> -- Clifton Fadiman
>>>>>>>
>>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Alessandro Pasotti
>>>>>> w3:   www.itopen.it
>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>>
>>>>> “When you travel, remember that a foreign country is not designed to
>>>>> make you comfortable. It is designed to make its own people comfortable."
>>>>> -- Clifton Fadiman
>>>>>
>>>>>
>>>>
>>>>
>>>> --
>>>> Alessandro Pasotti
>>>> w3:   www.itopen.it
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>
>>>
>>>
>>> --
>>> Ismail Sunni
>>> ismailsunni.wordpress.com
>>>
>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it
>>
>
>
>
> --
> Ismail Sunni
> ismailsunni.wordpress.com
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Alexandre Neto
---------------------
@AlexNetoGeo
http://sigsemgrilhetas.wordpress.com
http://gisunchained.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170605/0e67f071/attachment.html>

From andreasplesch at gmail.com  Mon Jun  5 06:49:23 2017
From: andreasplesch at gmail.com (Andreas Plesch)
Date: Mon, 5 Jun 2017 09:49:23 -0400
Subject: [QGIS-Developer] discover python executable in use
Message-ID: <CAKdk67vKsxD86Mk_Vo=P0V_NuLmJri1MSPbydvoh1R9W5D47TQ@mail.gmail.com>

Using the Python console on 2.18

import sys
sys.executable

returns

1) on Windows (2.18.9 32bit):

'C:\\PROGRA~1\\QGIS2~1.18\\bin\\qgis-bin.exe'

which unexpectedly does not appear to be a Python interpreter

and

2) on Linux (2.18.3. 64bit)

'/usr/bin/python'

which does appear to be the Python interpreter in use by the console.

Is there a cross platform way to discover the Python interpreter in current
use ? Would 1) considered to be a possible bug somewhere ?

I want to use it for

QProcess.startDetached(sys.executable, args, root_folder)

Thanks,

-Andreas


-- 
Andreas Plesch
39 Barbara Rd.
Waltham, MA 02453
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170605/77e9a313/attachment-0001.html>

From noreply at qgis.org  Mon Jun  5 06:59:57 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 05 Jun 2017 13:59:57 -0000
Subject: [QGIS-Developer] Plugin [1230] Vector Tiles Reader approval
	notification.
Message-ID: <20170605135957.579.48294@320558c5528b>


Plugin Vector Tiles Reader approval by pcav.
The plugin version "[1230] Vector Tiles Reader 0.13.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/vector_tiles_reader/

From noreply at qgis.org  Mon Jun  5 07:05:28 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 05 Jun 2017 14:05:28 -0000
Subject: [QGIS-Developer] Plugin [1251] Vector Transformation approval
	notification.
Message-ID: <20170605140528.29030.1320@320558c5528b>


Plugin Vector Transformation approval by pcav.
The plugin version "[1251] Vector Transformation 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/VectorTranformation/

From pierluigi.derosa at gfosservices.it  Mon Jun  5 08:23:06 2017
From: pierluigi.derosa at gfosservices.it (Ing. Pierluigi De Rosa)
Date: Mon, 05 Jun 2017 17:23:06 +0200
Subject: [QGIS-Developer] QgsMapLayerComboBox add None
Message-ID: <1496676186.22313.2.camel@pierluigi-Lenovo-U41-70>

Dear all,

into the QgsMapLayerComboBox is there a simple way to add the --None--
option for the list of layer?
Normally the widget is already full of all layer but I need also the
option: no layer

What is the best solution to do that?
Thanks
Pierluigi

-- 
-- 




                                    
________________________________________________________________________
Ing. Pierluigi De Rosa 
PhD in Scienze della terra 
Professore a contratto di G.I.S. presso Università di Perugia

Studio Associato GFOSSERVICES
                
Presso CAMPUS Via F.lli Cairoli 24 - 06127 Perugia (PG) 
fax: 075 7823038
cel: 3497558268
web: www.gfosservices.it
skype: pierluigi.derosa


From etienne.trimaille at gmail.com  Mon Jun  5 09:23:38 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Tue, 6 Jun 2017 00:23:38 +0800
Subject: [QGIS-Developer] QgsMapLayerComboBox add None
In-Reply-To: <1496676186.22313.2.camel@pierluigi-Lenovo-U41-70>
References: <1496676186.22313.2.camel@pierluigi-Lenovo-U41-70>
Message-ID: <CAMtDFLK73hMranv-mOPRkkh9POtgm277NbZPEVh6KNX_rZs-1g@mail.gmail.com>

Yes it's possible with the QGIS 3 API only:
https://qgis.org/api/classQgsMapLayerComboBox.html#
a3f38873230e93d6bc7d73a50671a9c5e

2017-06-05 23:23 GMT+08:00 Ing. Pierluigi De Rosa <pierluigi.derosa@
gfosservices.it>:

> Dear all,
>
> into the QgsMapLayerComboBox is there a simple way to add the --None--
> option for the list of layer?
> Normally the widget is already full of all layer but I need also the
> option: no layer
>
> What is the best solution to do that?
> Thanks
> Pierluigi
>
> --
> --
>
>
>
>
>
> ________________________________________________________________________
> Ing. Pierluigi De Rosa
> PhD in Scienze della terra
> Professore a contratto di G.I.S. presso Università di Perugia
>
> Studio Associato GFOSSERVICES
>
> Presso CAMPUS Via F.lli Cairoli 24 - 06127 Perugia (PG)
> fax: 075 7823038
> cel: 3497558268
> web: www.gfosservices.it
> skype: pierluigi.derosa
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/fca6aed2/attachment.html>

From stephanebek at gmail.com  Mon Jun  5 09:32:18 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Mon, 5 Jun 2017 22:32:18 +0600
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
	unique "Add layer" tool?
In-Reply-To: <CAL5Q673Mbj=LxxancnAMC=5PkEP5XTeWjFZ2ymqb+MCf7KBwzA@mail.gmail.com>
References: <CAECJsSq7CaO+ruszLP6hTQkf7pP=qj=TV3i3itRNsjJHWEhQOw@mail.gmail.com>
 <CA+H0G_HOsSi6=Wc+ztp1qjO3xy3fyQ9xN44Cv=Zwq8fMs52eSQ@mail.gmail.com>
 <CAK6pVBUu_QcyUX_WTo4A0SzbZ7iZvvzxbRqPEeWSy1rK0hfxNw@mail.gmail.com>
 <CAFFV8FgdocgtcHFjVUsBDdBtn7HsHb53W9Dm=6ADKSRAOhcxdA@mail.gmail.com>
 <CA+H0G_E1xsEk+E26XmOVkFmbyZRmhSY03GYwj4mihe=XKAwKCg@mail.gmail.com>
 <CA+H0G_GW1YQH6m14c2irWRvLBktg611a3oqNT-usoZg4M=hMPA@mail.gmail.com>
 <4f947712fc1a667480d2d4548050dfe4@carto.net>
 <CABgOYCcPi2bYqU=_qeQnasGz51K2uL+T1641RVWGHqREq63RRg@mail.gmail.com>
 <CA+H0G_GfeseP7kiSVk8OdeaJiK3_HFCHL0E+gkqEcuZsWVD4Uw@mail.gmail.com>
 <59eeadd0-0d1a-4d83-cba8-386a8a8e4a54@carto.net>
 <CA+H0G_FHpz626j52m0g1y-1GszagAP-aS5o3R25PZ-ccrgRnBQ@mail.gmail.com>
 <CA+H0G_Hvpmr6Gxwi=KzV8-JySB6_GuB_YhjHh+m=gk1Qr=+W6g@mail.gmail.com>
 <CAES-DZTPVwz7TePXZ1FttjfB-JiXTgZaeqM=uQ-htxrZg9s8Ww@mail.gmail.com>
 <CAB28Ashw_s=vs-b4uCNdc35xvJT8toFGK1Za9KSmkKqrNtpTbw@mail.gmail.com>
 <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
 <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
 <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>
 <CAK6pVBU0=oqOTdUgt41Yxgg3Y7cWxRr_QWfbYahS_7FKTyqPUw@mail.gmail.com>
 <CAL5Q672Hg63x6qZx0YOA=3YYZjBGiW0nwYGNY3818+zwFzekEg@mail.gmail.com>
 <CAK6pVBXpewhmS-0Ao2K5xDQRsZ0-0MJX1ORz+=Ydjk0ez_YnMA@mail.gmail.com>
 <CAL5Q673Mbj=LxxancnAMC=5PkEP5XTeWjFZ2ymqb+MCf7KBwzA@mail.gmail.com>
Message-ID: <CAK6pVBWAQ9mSB-Hn0m-A6k-8sc4=By0OLaz3bHdShVBpMWCLWA@mail.gmail.com>

Hi Alessandro

replies inline

Le lundi 5 juin 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :

> On Mon, Jun 5, 2017 at 1:54 PM, Stéphane Henriod <stephanebek at gmail.com
> <javascript:_e(%7B%7D,'cvml','stephanebek at gmail.com');>> wrote:
>
>> Hi Alessandro
>>
>> First of all, thank you so much for this work, it looks really great
>> already!
>>
>> Here a few comments / ideas after a few quick tests, I let you filter
>> which ones could actually be part of this phase and which ones should be
>> left out for a future phase 2
>>
>
> Hi,
>
> thanks for testing!
>

That's the least I can do when someone has already done the hard part, i.e.
developing :-)



>
>
>
>>
>> - "Raster" is not consistent: it is confusing that the file selector
>> opens directly. The behavior should mimick the "vector" (open the file
>> selector only when the user clicks on "browse")
>>
>
> yeah, I know,  this has been already discussed in the PR comments, please
> have a look.
>

Yes, I've seen that. But I was not sure  if a consensus has been reached.
Will it stay like this for now or is it still open for discussion? I would
favor the "extra-click" that would make it more consistent with the other
providers



>
>>
>> - The "DB2" logo should be cleaned (at least add transparency)
>>
>
>
> Sorry, I've no graphics design skills, and this task is really something
> that a not-programmer can contribute to. Changing the icons was not in
> scope btw.
>


I don't have such skills either but I'd be happy to try and at least make
the background transparent. I however don't know where to find the original
icon and how to push it back, once I have (maybe) successfully improved it.
(This had also been raised by Nyall)



>
>>
>> - When I click on "Browse", the file selector window opens behind the
>> Data Source Manager
>>
>
> Not sure I understand what you mean here, probably need more details, and
> it seems like a bug.
>

Here what I mean: https://vimeo.com/220330186

But it is not super consistent and doesn't necessarily happen everytime

I opened an issue here: https://issues.qgis.org/issues/16666



>
>
>>
>> - I would change the order of the providers: move the "Delimited text"
>> just below raster (so that we have all file-based providers together). And
>> maybe separate (visually) the providers in sections: "Files", "Databases",
>> "Web services", "Virtual" (or something like this). Also,"ArcGIS Feature
>> Server" should probably be just after "ArcGIS Map Server"
>>
>
>
> If I'm not mistaken, the order is  the same order we had before for the
> menu items and the icons, I did not alter the order (at least that was not
> my intention).
>

I indeed think that you kept the original order. But would it be out of the
scope of this first phase to clean up and make this order more intuitive?
It seems to me like a good opportunity but maybe I am underestimating the
associated workload?



>
>
>> - It would be super useful to be able to display a basemap (OSM, Google,
>> etc) directly from the Data Source Manager, without having to configure
>> "XYZ Tiles" in the browser.Would it be possible in this phase to add 1
>> entry in the Data source manager "Webmaps" where the user could simply pick
>> in a drop-down one of the most common webmaps (and could add additional XYZ
>> tiles)? This would be a golden feature for non-power users.
>>
>
>
> This is totally unrelated, but AFAIK there are plans to add some default
> xyz maps to the mix for 3.0.
>

Ok, thanks for the info!


>
>
>
>>
>> Thanks again, I will try to test it a bit deeper in the coming days
>>
>> Cheers
>> Stéphane
>>
>>
> Thanks again for the feed-back!
>
> Cheers.
>

You're very welcome!
Cheers

Stéphane


>
>
>
>>
>> Le lundi 5 juin 2017, Alessandro Pasotti <apasotti at gmail.com
>> <javascript:_e(%7B%7D,'cvml','apasotti at gmail.com');>> a écrit :
>>
>>> Hi Stéphane,
>>>
>>> Thanks for testing the new dialog!
>>>
>>> I think that if you find a bug (a crash or something that doesn't work
>>> as expected) you should open an issue on the hub and assign it to me.
>>>
>>> For general feed-back or change proposal for the UI/UX you can either
>>> use this thread or make a PR with the proposed changes and discuss them in
>>> the the PR.
>>>
>>> Cheers
>>>
>>>
>>> On Sun, Jun 4, 2017 at 8:14 PM, Stéphane Henriod <stephanebek at gmail.com>
>>> wrote:
>>>
>>>> Hi Alessandro
>>>>
>>>> I just downloaded the latest nightly build and will make some tests in
>>>> the coming days. What would be the most efficient / useful way to give you
>>>> feedback and comments? On this thread?
>>>>
>>>> Thanks and cheers
>>>>
>>>> Stéphane
>>>>
>>>>
>>>> Le jeudi 1 juin 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :
>>>>
>>>>> On Thu, Jun 1, 2017 at 11:22 AM, Stéphane Henriod <
>>>>> stephanebek at gmail.com> wrote:
>>>>>
>>>>>> I really look forward to testing it :-) Thanks a lot for our
>>>>>> involvement here!
>>>>>>
>>>>>>
>>>>>
>>>>> Thanks to Boundless for funding the development and thanks to all of
>>>>> you who participated with design, mockups, ideas, comments and reviews!
>>>>>
>>>>> This was a nice and effective cooperation.
>>>>>
>>>>>
>>>>> BTW, if you can't wait, a Docker with a nigthly build of the PR branch
>>>>> is available as "boundlessgeo/qgis-testing-environment:unified-button"
>>>>>
>>>>> Cheers
>>>>>
>>>>>
>>>>>>
>>>>>> Le mercredi 31 mai 2017, Alessandro Pasotti <apasotti at gmail.com> a
>>>>>> écrit :
>>>>>>
>>>>>>> Hi,
>>>>>>>
>>>>>>> final update: the development of what was in phase 1 is done.
>>>>>>>
>>>>>>> Actually, a bit more than phase 1 considering that we've redesigned
>>>>>>> the delimited text dialog GUI and I've done quite a bit of small
>>>>>>> refactorings of the providers selection dialogs interfaces.
>>>>>>>
>>>>>>> There has been a lot of feed-back, thank you all!
>>>>>>>
>>>>>>> As expected, there is no complete agreement over the final GUI bits
>>>>>>> for the menus and toolbars, and we still miss an icon (the green plus that
>>>>>>> I've used was only meant as a placeholder). I tried to keep the old toolbar
>>>>>>> available (disabled by default) mainly because it can spare a click and
>>>>>>> power users might want it back. Also, the new icon is the most prominent in
>>>>>>> the left bar and it's the first menu item in the layers menu.
>>>>>>>
>>>>>>> I have not a strong opinion about those toolbars and menus but I
>>>>>>> think I should wait no more and merge it as it is, then give the people
>>>>>>> some time to test the actual implementation and decide how to improve it.
>>>>>>>
>>>>>>> I kept the controversial part in a single commit so that it will be
>>>>>>> very easy to revert and propose a different placement for menus, icons and
>>>>>>> toolbars.
>>>>>>>
>>>>>>>
>>>>>>> Any objections if I proceed?
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> On Wed, May 24, 2017 at 2:29 PM, Alessandro Pasotti <
>>>>>>> apasotti at gmail.com> wrote:
>>>>>>>
>>>>>>>> Hi,
>>>>>>>>
>>>>>>>> a quick update:
>>>>>>>>
>>>>>>>> I've prepared a PR with a working prototype in
>>>>>>>> https://github.com/qgis/QGIS/pull/4629, I need some feed-back and
>>>>>>>> some help, expecially UX/UI about if we want it as a dockable dialog too
>>>>>>>> (and how to make it user-configurable).
>>>>>>>>
>>>>>>>> Feed-back welcome (but please keep it limited in scope to phase 1).
>>>>>>>>
>>>>>>>> Cheers
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> On Fri, May 19, 2017 at 9:45 AM, Richard Duivenvoorde <
>>>>>>>> rdmailings at duif.net> wrote:
>>>>>>>>
>>>>>>>>> On 19-05-17 01:23, Nyall Dawson wrote:
>>>>>>>>>
>>>>>>>>> > On this note - I've recently discovered the need for some type of
>>>>>>>>> > reusable layer selection widget which allows choice of existing
>>>>>>>>> > layers/loading new layers from the file system/loading new
>>>>>>>>> layers from
>>>>>>>>> > available db/online connections. This would be extremely
>>>>>>>>> valuable for
>>>>>>>>> > processing too!
>>>>>>>>> >
>>>>>>>>> > So I'm really glad to hear that you'll be pushing ahead with
>>>>>>>>> this work
>>>>>>>>> > - thanks Boundless!
>>>>>>>>>
>>>>>>>>> Yep, and thanks Alessandro for the screenie. Makes me want more!
>>>>>>>>>
>>>>>>>>> @Nyall in Essen the talk was to start with what Alessandro wrote
>>>>>>>>> in his
>>>>>>>>> email, so 1 dialog 'merging' all buttons/widgets/dialogs into one,
>>>>>>>>> reuse
>>>>>>>>> as much as possible. So it was possible to get it into 3.0
>>>>>>>>>
>>>>>>>>> Off course people (.../me) started brainstorming about features
>>>>>>>>> which
>>>>>>>>> w/could be added too :-)
>>>>>>>>>
>>>>>>>>> Your idea adds (I think) to the idea to make some kind of
>>>>>>>>> 'datamanagement-console' in near future, where you can create/copy
>>>>>>>>> data(!), move data around (browser part) or delete it.
>>>>>>>>> Your note fits in this isn't it?
>>>>>>>>>
>>>>>>>>> Regards,
>>>>>>>>>
>>>>>>>>> Richard
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> _______________________________________________
>>>>>>>>> QGIS-Developer mailing list
>>>>>>>>> QGIS-Developer at lists.osgeo.org
>>>>>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>>> Unsubscribe: https://lists.osgeo.org/mailma
>>>>>>>>> n/listinfo/qgis-developer
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> Alessandro Pasotti
>>>>>>>> w3:   www.itopen.it
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> Alessandro Pasotti
>>>>>>> w3:   www.itopen.it
>>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>>
>>>>>> “When you travel, remember that a foreign country is not designed to
>>>>>> make you comfortable. It is designed to make its own people comfortable."
>>>>>> -- Clifton Fadiman
>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Alessandro Pasotti
>>>>> w3:   www.itopen.it
>>>>>
>>>>
>>>>
>>>> --
>>>>
>>>> “When you travel, remember that a foreign country is not designed to
>>>> make you comfortable. It is designed to make its own people comfortable."
>>>> -- Clifton Fadiman
>>>>
>>>>
>>>
>>>
>>> --
>>> Alessandro Pasotti
>>> w3:   www.itopen.it
>>>
>>
>>
>> --
>>
>> “When you travel, remember that a foreign country is not designed to make
>> you comfortable. It is designed to make its own people comfortable." --
>> Clifton Fadiman
>>
>>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>


-- 

“When you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170605/fec10d81/attachment-0001.html>

From noreply at qgis.org  Mon Jun  5 11:39:01 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 05 Jun 2017 18:39:01 -0000
Subject: [QGIS-Developer] Plugin [1240] Geo Picker approval notification.
Message-ID: <20170605183901.27808.17933@320558c5528b>


Plugin Geo Picker approval by pcav.
The plugin version "[1240] Geo Picker 0.1.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/GeoPicker/

From woklist at kyngchaos.com  Mon Jun  5 13:46:39 2017
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Mon, 5 Jun 2017 15:46:39 -0500
Subject: [QGIS-Developer] Qt & Python version for QGIS 3
Message-ID: <12CEADF7-3894-40DC-95AE-2650BF3C86CF@kyngchaos.com>

I'm starting to look at building QGIS 3, and I'd like to know what recent versions of Qt5 and Python 3 are supported.  I see Qt is up to 5.9 and Python is up to 3.6.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

Theory of the Universe

There is a theory which states that if ever anyone discovers exactly what the universe is for and why it is here, it will instantly disappear and be replaced by something even more bizarrely inexplicable.  There is another theory which states that this has already happened.

-Hitchhiker's Guide to the Galaxy 2nd season intro



From telwertowski at comcast.net  Mon Jun  5 14:05:05 2017
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Mon, 5 Jun 2017 17:05:05 -0400
Subject: [QGIS-Developer] Qt & Python version for QGIS 3
In-Reply-To: <12CEADF7-3894-40DC-95AE-2650BF3C86CF@kyngchaos.com>
References: <12CEADF7-3894-40DC-95AE-2650BF3C86CF@kyngchaos.com>
Message-ID: <08e45951-8c2c-5598-5eed-91761ba35018@comcast.net>

I have built current QGIS using Qt 5.8 on macOS 10.12 with your 
libraries if available and commandline make for others. I use Python 3.6 
and commandline pip3 for required modules. Qt 5.9 is just out but I will 
give it a try.

Tom
LinkedIn: https://www.linkedin.com/in/thomas-elwertowski-a0886032

On 6/5/17 4:46 PM, William Kyngesburye wrote:
> I'm starting to look at building QGIS 3, and I'd like to know what recent versions of Qt5 and Python 3 are supported.  I see Qt is up to 5.9 and Python is up to 3.6.
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
> 
> Theory of the Universe
> 
> There is a theory which states that if ever anyone discovers exactly what the universe is for and why it is here, it will instantly disappear and be replaced by something even more bizarrely inexplicable.  There is another theory which states that this has already happened.
> 
> -Hitchhiker's Guide to the Galaxy 2nd season intro
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From apasotti at gmail.com  Mon Jun  5 23:35:41 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 6 Jun 2017 08:35:41 +0200
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
	unique "Add layer" tool?
In-Reply-To: <CAK6pVBWAQ9mSB-Hn0m-A6k-8sc4=By0OLaz3bHdShVBpMWCLWA@mail.gmail.com>
References: <CAECJsSq7CaO+ruszLP6hTQkf7pP=qj=TV3i3itRNsjJHWEhQOw@mail.gmail.com>
 <CA+H0G_HOsSi6=Wc+ztp1qjO3xy3fyQ9xN44Cv=Zwq8fMs52eSQ@mail.gmail.com>
 <CAK6pVBUu_QcyUX_WTo4A0SzbZ7iZvvzxbRqPEeWSy1rK0hfxNw@mail.gmail.com>
 <CAFFV8FgdocgtcHFjVUsBDdBtn7HsHb53W9Dm=6ADKSRAOhcxdA@mail.gmail.com>
 <CA+H0G_E1xsEk+E26XmOVkFmbyZRmhSY03GYwj4mihe=XKAwKCg@mail.gmail.com>
 <CA+H0G_GW1YQH6m14c2irWRvLBktg611a3oqNT-usoZg4M=hMPA@mail.gmail.com>
 <4f947712fc1a667480d2d4548050dfe4@carto.net>
 <CABgOYCcPi2bYqU=_qeQnasGz51K2uL+T1641RVWGHqREq63RRg@mail.gmail.com>
 <CA+H0G_GfeseP7kiSVk8OdeaJiK3_HFCHL0E+gkqEcuZsWVD4Uw@mail.gmail.com>
 <59eeadd0-0d1a-4d83-cba8-386a8a8e4a54@carto.net>
 <CA+H0G_FHpz626j52m0g1y-1GszagAP-aS5o3R25PZ-ccrgRnBQ@mail.gmail.com>
 <CA+H0G_Hvpmr6Gxwi=KzV8-JySB6_GuB_YhjHh+m=gk1Qr=+W6g@mail.gmail.com>
 <CAES-DZTPVwz7TePXZ1FttjfB-JiXTgZaeqM=uQ-htxrZg9s8Ww@mail.gmail.com>
 <CAB28Ashw_s=vs-b4uCNdc35xvJT8toFGK1Za9KSmkKqrNtpTbw@mail.gmail.com>
 <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
 <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
 <CAL5Q670VOeifbUt=rXG+K-6OUo0kC=NSG2t-3w+EMoe1S2piVA@mail.gmail.com>
 <CAK6pVBU0=oqOTdUgt41Yxgg3Y7cWxRr_QWfbYahS_7FKTyqPUw@mail.gmail.com>
 <CAL5Q672Hg63x6qZx0YOA=3YYZjBGiW0nwYGNY3818+zwFzekEg@mail.gmail.com>
 <CAK6pVBXpewhmS-0Ao2K5xDQRsZ0-0MJX1ORz+=Ydjk0ez_YnMA@mail.gmail.com>
 <CAL5Q673Mbj=LxxancnAMC=5PkEP5XTeWjFZ2ymqb+MCf7KBwzA@mail.gmail.com>
 <CAK6pVBWAQ9mSB-Hn0m-A6k-8sc4=By0OLaz3bHdShVBpMWCLWA@mail.gmail.com>
Message-ID: <CAL5Q670ZbiRqhGbjv8yW80MLpx4c6Uc+MwEZW5PiM9RhKgUv4g@mail.gmail.com>

On Mon, Jun 5, 2017 at 6:32 PM, Stéphane Henriod <stephanebek at gmail.com>
wrote:

> Hi Alessandro
>
> replies inline
>
> Le lundi 5 juin 2017, Alessandro Pasotti <apasotti at gmail.com> a écrit :
>
>> On Mon, Jun 5, 2017 at 1:54 PM, Stéphane Henriod <stephanebek at gmail.com>
>> wrote:
>>
>>> Hi Alessandro
>>>
>>> First of all, thank you so much for this work, it looks really great
>>> already!
>>>
>>> Here a few comments / ideas after a few quick tests, I let you filter
>>> which ones could actually be part of this phase and which ones should be
>>> left out for a future phase 2
>>>
>>
>> Hi,
>>
>> thanks for testing!
>>
>
> That's the least I can do when someone has already done the hard part,
> i.e. developing :-)
>
>
>
>>
>>
>>
>>>
>>> - "Raster" is not consistent: it is confusing that the file selector
>>> opens directly. The behavior should mimick the "vector" (open the file
>>> selector only when the user clicks on "browse")
>>>
>>
>> yeah, I know,  this has been already discussed in the PR comments, please
>> have a look.
>>
>
> Yes, I've seen that. But I was not sure  if a consensus has been reached.
> Will it stay like this for now or is it still open for discussion? I would
> favor the "extra-click" that would make it more consistent with the other
> providers
>
>
>
Nothing is carved in stones and I don't know if a consensus has been
reached (I even don't know how to judge whether consensus has been
reached), but I feel the other way: I prefer efficiency to consistency in
this particular case. But maybe the strongest reason to not spend much time
on it is that it's a temporary solution: adding a raster (or a vector file)
from the filesystem is really something that can be done right now from the
browser, but this is all in the PR discussion.



>
>>
>>>
>>> - The "DB2" logo should be cleaned (at least add transparency)
>>>
>>
>>
>> Sorry, I've no graphics design skills, and this task is really something
>> that a not-programmer can contribute to. Changing the icons was not in
>> scope btw.
>>
>
>
> I don't have such skills either but I'd be happy to try and at least make
> the background transparent. I however don't know where to find the original
> icon and how to push it back, once I have (maybe) successfully improved it.
> (This had also been raised by Nyall)
>
>
>
You can find icons here: https://github.com/qgis/QGIS/
tree/master/images/themes/default



>
>>
>>>
>>> - When I click on "Browse", the file selector window opens behind the
>>> Data Source Manager
>>>
>>
>> Not sure I understand what you mean here, probably need more details, and
>> it seems like a bug.
>>
>
> Here what I mean: https://vimeo.com/220330186
>
> But it is not super consistent and doesn't necessarily happen everytime
>
> I opened an issue here: https://issues.qgis.org/issues/16666
>


Thanks, I'll definitely have a look, you are using the dialog in modeless
mode, aren't you?


>
>
>
>>
>>
>>>
>>> - I would change the order of the providers: move the "Delimited text"
>>> just below raster (so that we have all file-based providers together). And
>>> maybe separate (visually) the providers in sections: "Files", "Databases",
>>> "Web services", "Virtual" (or something like this). Also,"ArcGIS Feature
>>> Server" should probably be just after "ArcGIS Map Server"
>>>
>>
>>
>> If I'm not mistaken, the order is  the same order we had before for the
>> menu items and the icons, I did not alter the order (at least that was not
>> my intention).
>>
>
> I indeed think that you kept the original order. But would it be out of
> the scope of this first phase to clean up and make this order more
> intuitive? It seems to me like a good opportunity but maybe I am
> underestimating the associated workload?
>
>
No, it's not a big workload, but changing the order wasn't in my plans.
Feel free to make a proposal and a PR and let's see what other people
thinks (I've not a strong opinion on this topic).

As soon as I find some time to work on this again I will focus on a small
refactoring to move the classes from app to gui (that has no impact at all
on UI/UX).

Cheers.

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/8b26ea42/attachment.html>

From paul.jobling at gmail.com  Tue Jun  6 01:43:42 2017
From: paul.jobling at gmail.com (Paul Jobling)
Date: Tue, 06 Jun 2017 08:43:42 +0000
Subject: [QGIS-Developer] MinimumRectangle implementation
Message-ID: <CAK-5bTyrv9irFokR4eUPTtFriRbJhTEPy0q2S+v-y1yLMB-jDw@mail.gmail.com>

I am implementing geo in the Kognitio WX2 database using GEOS as a backend,
though I am using my own code for many things. One of those things is
ST_MinimumRectangle, which I have implemented as the rectangle with the
smallest area that encloses the geometry. This is different to the
implementation that I see you have recently added, which extrapolates from
the MinimumDiameter property.



For example, ST_MinimumRectangle ('POLYGON((1 2, 3 0, 5 2, 3 2, 2 3, 1
2))') has an area of 9.6 (and a perimeter of 12.65) using the
MinimumDiameter implementation, whereas my implementation finds the actual
minimum – with an area of 8 (and perimeter of 11.31) - it is POLYGON ((5 2,
3 0, 1 2, 3 4, 5 2)) rather than POLYGON((1.4 3.2, 0.6 0.8, 4.2 -0.4,5 2,
1.4 3.2)).



My question is why has this implementation been decided on – is it just
that MimimumDiameter is already present? Or is there some other reason due
to some standard?


Regards,



Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/5d7bd7e2/attachment-0001.html>

From noreply at qgis.org  Tue Jun  6 02:09:27 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 06 Jun 2017 09:09:27 -0000
Subject: [QGIS-Developer] Plugin [1211] Settings Manager approval
	notification.
Message-ID: <20170606090927.29030.14551@320558c5528b>


Plugin Settings Manager approval by pcav.
The plugin version "[1211] Settings Manager 2.18.2" is now approved
Link: http://plugins.qgis.org/plugins/SettingsManager/

From stephanebek at gmail.com  Tue Jun  6 02:57:22 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Tue, 6 Jun 2017 15:57:22 +0600
Subject: [QGIS-Developer] [Qgis-developer] Adding default OSM backround
	maps
In-Reply-To: <b2028e1e-26f0-f2dd-e6f8-26368326cb64@faunalia.it>
References: <31b81df0-3712-c9c4-c09f-82e11d3b74bd@faunalia.it>
 <724a33c5-95cd-8a0c-92a0-257683e96102@di.uminho.pt>
 <20170327102550.4dfnfr3y5mfaih2c@norbit.de>
 <b3f04b60-bb2f-ac6a-e58b-8a67ed9f133b@faunalia.it>
 <957a130e-f516-24b7-b222-f83d13d818fd@faunalia.it>
 <7273a448-dd41-1327-3e16-1dd3e189390b@di.uminho.pt>
 <b2028e1e-26f0-f2dd-e6f8-26368326cb64@faunalia.it>
Message-ID: <CAK6pVBX4iKwL3h0+nantkcfZZ_2ha+LZA8m1h42gKwsVC2Py2g@mail.gmail.com>

Hi all

jumping (a bit late) on this...

I realize that this would be much heavier and much more expensive to
implement but what about developing a "QGIS style" for OSM-based tiles
(that could, e.g., be hosted on QGIS.org)? That would take care of 3 issues:

   - "Quality of the cartography": if we are not 100% happy with the
   default OSM style as a background map, we could come up with a more
   appropriate style
   - "Quality of the service":  there is a risk that OSMF once shuts down
   the service because we generate too much traffic. If "we" host the tiles
   ourselves, the risks and associated decisions remain in "our" hands
   - "Frequency of updates": same, if it lies in "our" hands, we can define
   ourselves what frequency would be appropriate

I assume that developing a new style is not a huge task (there are probably
enough people around with the necessary skills) and could be achieved
either with a "small" budget or with sufficient participation of the
community. But the long-term maintenance and hosting / serving of the tiles
is probably an issue of a different magnitude...

Would that idea be worth exploring further? Or do you think it is
completely not realistic ?

Thanks and cheers
Stéphane

Le lundi 1 mai 2017, Paolo Cavallini <cavallini at faunalia.it> a écrit :

> Il 30/04/2017 19:28, Jorge Gustavo Rocha ha scritto:
>
> > I did a PR [1], very simple. This discussion is now about the best
> > approach to handle all settings, in all platforms. I'm working on that.
>
> FYI, summarized here:
> https://issues.qgis.org/issues/16493
> Please add what is missing.
> Thanks.
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org <javascript:;>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 

“When you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/4a21d971/attachment.html>

From cavallini at faunalia.it  Tue Jun  6 03:06:50 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 6 Jun 2017 12:06:50 +0200
Subject: [QGIS-Developer] [Qgis-developer] Adding default OSM backround
	maps
In-Reply-To: <CAK6pVBX4iKwL3h0+nantkcfZZ_2ha+LZA8m1h42gKwsVC2Py2g@mail.gmail.com>
References: <31b81df0-3712-c9c4-c09f-82e11d3b74bd@faunalia.it>
 <724a33c5-95cd-8a0c-92a0-257683e96102@di.uminho.pt>
 <20170327102550.4dfnfr3y5mfaih2c@norbit.de>
 <b3f04b60-bb2f-ac6a-e58b-8a67ed9f133b@faunalia.it>
 <957a130e-f516-24b7-b222-f83d13d818fd@faunalia.it>
 <7273a448-dd41-1327-3e16-1dd3e189390b@di.uminho.pt>
 <b2028e1e-26f0-f2dd-e6f8-26368326cb64@faunalia.it>
 <CAK6pVBX4iKwL3h0+nantkcfZZ_2ha+LZA8m1h42gKwsVC2Py2g@mail.gmail.com>
Message-ID: <c2c0f8a8-82d7-1e56-387e-5f221e2c04fe@faunalia.it>

Il 06/06/2017 11:57, Stéphane Henriod ha scritto:
> Would that idea be worth exploring further? Or do you think it is
> completely not realistic ?

Hi Stéphane,
we have been thiking about this, but probably we do not have the
resources to manage it. I'd be happy if I could be proved wrong.
All the best.


-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From jgr at di.uminho.pt  Tue Jun  6 03:21:44 2017
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Tue, 6 Jun 2017 11:21:44 +0100
Subject: [QGIS-Developer] [Qgis-developer] Adding default OSM backround
 maps
In-Reply-To: <CAK6pVBX4iKwL3h0+nantkcfZZ_2ha+LZA8m1h42gKwsVC2Py2g@mail.gmail.com>
References: <31b81df0-3712-c9c4-c09f-82e11d3b74bd@faunalia.it>
 <724a33c5-95cd-8a0c-92a0-257683e96102@di.uminho.pt>
 <20170327102550.4dfnfr3y5mfaih2c@norbit.de>
 <b3f04b60-bb2f-ac6a-e58b-8a67ed9f133b@faunalia.it>
 <957a130e-f516-24b7-b222-f83d13d818fd@faunalia.it>
 <7273a448-dd41-1327-3e16-1dd3e189390b@di.uminho.pt>
 <b2028e1e-26f0-f2dd-e6f8-26368326cb64@faunalia.it>
 <CAK6pVBX4iKwL3h0+nantkcfZZ_2ha+LZA8m1h42gKwsVC2Py2g@mail.gmail.com>
Message-ID: <f6a62f47-8458-6484-f19c-af45b365a594@di.uminho.pt>

Hi Stéphane,

Your suggestion may complement or be an alternative to the default OSM
background maps.

Regarding the implementation of the initial proposal, it is not
difficult and have been done in PR#4352. It is basically one button to
add another layer to the map.

Creating a new vector tile service, provided by QGIS, seems quite more
difficult to me. We need to maintain a mirror of the planet. This means
a lot of resources (hw and ops).

Developing one style is not difficult but one that everybody likes is
much more difficult. We would end up as OSM did, with several styles,
for different users. But if the render is on the client side, there is
no problem to maintain more than one style.

In summary, providing the tile service seems more complicated to me, but
this can be further explored. If you would like to try it, I can help.

Regards,

Jorge Gustavo


Às 10:57 de 06-06-2017, Stéphane Henriod escreveu:
> Hi all
> 
> jumping (a bit late) on this...
> 
> I realize that this would be much heavier and much more expensive to
> implement but what about developing a "QGIS style" for OSM-based tiles
> (that could, e.g., be hosted on QGIS.org)? That would take care of 3 issues:
> 
>   * "Quality of the cartography": if we are not 100% happy with the
>     default OSM style as a background map, we could come up with a more
>     appropriate style
>   * "Quality of the service":  there is a risk that OSMF once shuts down
>     the service because we generate too much traffic. If "we" host the
>     tiles ourselves, the risks and associated decisions remain in "our"
>     hands
>   * "Frequency of updates": same, if it lies in "our" hands, we can
>     define ourselves what frequency would be appropriate
> 
> I assume that developing a new style is not a huge task (there are
> probably enough people around with the necessary skills) and could be
> achieved either with a "small" budget or with sufficient participation
> of the community. But the long-term maintenance and hosting / serving of
> the tiles is probably an issue of a different magnitude... 
> 
> Would that idea be worth exploring further? Or do you think it is
> completely not realistic ?
> 
> Thanks and cheers
> Stéphane
> 
> Le lundi 1 mai 2017, Paolo Cavallini <cavallini at faunalia.it
> <mailto:cavallini at faunalia.it>> a écrit :
> 
>     Il 30/04/2017 19:28, Jorge Gustavo Rocha ha scritto:
> 
>     > I did a PR [1], very simple. This discussion is now about the best
>     > approach to handle all settings, in all platforms. I'm working on
>     that.
> 
>     FYI, summarized here:
>     https://issues.qgis.org/issues/16493
>     <https://issues.qgis.org/issues/16493>
>     Please add what is missing.
>     Thanks.
>     --
>     Paolo Cavallini - www.faunalia.eu <http://www.faunalia.eu>
>     QGIS & PostGIS courses: http://www.faunalia.eu/training.html
>     <http://www.faunalia.eu/training.html>
>     https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
>     <https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis>
>     _______________________________________________
>     Qgis-developer mailing list
>     Qgis-developer at lists.osgeo.org <javascript:;>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> 
> -- 
> 
> “When you travel, remember that a foreign country is not designed to
> make you comfortable. It is designed to make its own people
> comfortable." -- Clifton Fadiman
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Informática
Universidade do Minho
4710-057 Braga
Tel: +351 253604480
Fax: +351 253604471
Móvel: +351 910333888
skype: nabocudnosor

From kimaidou at gmail.com  Tue Jun  6 04:51:54 2017
From: kimaidou at gmail.com (kimaidou)
Date: Tue, 6 Jun 2017 13:51:54 +0200
Subject: [QGIS-Developer] Use data from
Message-ID: <CAMKXKO7u7RsHxx_5fdsY=qfi=xhckFQpVH4mYvGPoTmasgFFKw@mail.gmail.com>

Hi all,

I would like to use data from the QGIS User map [1] to create a demo map
for a new Lizmap feature. Data can be accessed from [2]
I would like to know which are the terms of use.

[1] https://plugins.qgis.org/community-map/
[2] https://plugins.qgis.org/community-map/usermaps/?format=json

Regards
Michaël
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/50bf6651/attachment.html>

From kimaidou at gmail.com  Tue Jun  6 04:54:48 2017
From: kimaidou at gmail.com (kimaidou)
Date: Tue, 6 Jun 2017 13:54:48 +0200
Subject: [QGIS-Developer] Use data from
In-Reply-To: <CAMKXKO7u7RsHxx_5fdsY=qfi=xhckFQpVH4mYvGPoTmasgFFKw@mail.gmail.com>
References: <CAMKXKO7u7RsHxx_5fdsY=qfi=xhckFQpVH4mYvGPoTmasgFFKw@mail.gmail.com>
Message-ID: <CAMKXKO6NvjJ-zcFoSLTmYoE=V_LWVPszcOQ1pn6UySFuKdw1iw@mail.gmail.com>

Oups, sorry, I did not write down the whole subject, which was meant to be
"Use data from QGIS user map"

2017-06-06 13:51 GMT+02:00 kimaidou <kimaidou at gmail.com>:

> Hi all,
>
> I would like to use data from the QGIS User map [1] to create a demo map
> for a new Lizmap feature. Data can be accessed from [2]
> I would like to know which are the terms of use.
>
> [1] https://plugins.qgis.org/community-map/
> [2] https://plugins.qgis.org/community-map/usermaps/?format=json
>
> Regards
> Michaël
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/0cb34f17/attachment.html>

From stephanebek at gmail.com  Tue Jun  6 05:13:14 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Tue, 6 Jun 2017 18:13:14 +0600
Subject: [QGIS-Developer] [Qgis-developer] Adding default OSM backround
	maps
In-Reply-To: <f6a62f47-8458-6484-f19c-af45b365a594@di.uminho.pt>
References: <31b81df0-3712-c9c4-c09f-82e11d3b74bd@faunalia.it>
 <724a33c5-95cd-8a0c-92a0-257683e96102@di.uminho.pt>
 <20170327102550.4dfnfr3y5mfaih2c@norbit.de>
 <b3f04b60-bb2f-ac6a-e58b-8a67ed9f133b@faunalia.it>
 <957a130e-f516-24b7-b222-f83d13d818fd@faunalia.it>
 <7273a448-dd41-1327-3e16-1dd3e189390b@di.uminho.pt>
 <b2028e1e-26f0-f2dd-e6f8-26368326cb64@faunalia.it>
 <CAK6pVBX4iKwL3h0+nantkcfZZ_2ha+LZA8m1h42gKwsVC2Py2g@mail.gmail.com>
 <f6a62f47-8458-6484-f19c-af45b365a594@di.uminho.pt>
Message-ID: <CAK6pVBWYi6scZ=wVgY1aP8D2X=SGjpO2GpddCbjz4181PxVUeQ@mail.gmail.com>

Hi again

if some are with me on this, let's try to work first on general
requirements. Then we can assess, I guess, relatively soon if this is
realistic or not.

I started to brainstorm here:
https://docs.google.com/document/d/1f1OJtshHCPcLVEVqZjTEgI47zn61Plv5I-Yc68d2b64/edit?usp=sharing

Thanks and cheers
Stéphane


Le mardi 6 juin 2017, Jorge Gustavo Rocha <jgr at di.uminho.pt> a écrit :

> Hi Stéphane,
>
> Your suggestion may complement or be an alternative to the default OSM
> background maps.
>
> Regarding the implementation of the initial proposal, it is not
> difficult and have been done in PR#4352. It is basically one button to
> add another layer to the map.
>
> Creating a new vector tile service, provided by QGIS, seems quite more
> difficult to me. We need to maintain a mirror of the planet. This means
> a lot of resources (hw and ops).
>
> Developing one style is not difficult but one that everybody likes is
> much more difficult. We would end up as OSM did, with several styles,
> for different users. But if the render is on the client side, there is
> no problem to maintain more than one style.
>
> In summary, providing the tile service seems more complicated to me, but
> this can be further explored. If you would like to try it, I can help.
>
> Regards,
>
> Jorge Gustavo
>
>
> Às 10:57 de 06-06-2017, Stéphane Henriod escreveu:
> > Hi all
> >
> > jumping (a bit late) on this...
> >
> > I realize that this would be much heavier and much more expensive to
> > implement but what about developing a "QGIS style" for OSM-based tiles
> > (that could, e.g., be hosted on QGIS.org)? That would take care of 3
> issues:
> >
> >   * "Quality of the cartography": if we are not 100% happy with the
> >     default OSM style as a background map, we could come up with a more
> >     appropriate style
> >   * "Quality of the service":  there is a risk that OSMF once shuts down
> >     the service because we generate too much traffic. If "we" host the
> >     tiles ourselves, the risks and associated decisions remain in "our"
> >     hands
> >   * "Frequency of updates": same, if it lies in "our" hands, we can
> >     define ourselves what frequency would be appropriate
> >
> > I assume that developing a new style is not a huge task (there are
> > probably enough people around with the necessary skills) and could be
> > achieved either with a "small" budget or with sufficient participation
> > of the community. But the long-term maintenance and hosting / serving of
> > the tiles is probably an issue of a different magnitude...
> >
> > Would that idea be worth exploring further? Or do you think it is
> > completely not realistic ?
> >
> > Thanks and cheers
> > Stéphane
> >
> > Le lundi 1 mai 2017, Paolo Cavallini <cavallini at faunalia.it
> <javascript:;>
> > <mailto:cavallini at faunalia.it <javascript:;>>> a écrit :
> >
> >     Il 30/04/2017 19:28, Jorge Gustavo Rocha ha scritto:
> >
> >     > I did a PR [1], very simple. This discussion is now about the best
> >     > approach to handle all settings, in all platforms. I'm working on
> >     that.
> >
> >     FYI, summarized here:
> >     https://issues.qgis.org/issues/16493
> >     <https://issues.qgis.org/issues/16493>
> >     Please add what is missing.
> >     Thanks.
> >     --
> >     Paolo Cavallini - www.faunalia.eu <http://www.faunalia.eu>
> >     QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> >     <http://www.faunalia.eu/training.html>
> >     https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> >     <https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> >
> >     _______________________________________________
> >     Qgis-developer mailing list
> >     Qgis-developer at lists.osgeo.org <javascript:;> <javascript:;>
> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >
> >
> >
> > --
> >
> > “When you travel, remember that a foreign country is not designed to
> > make you comfortable. It is designed to make its own people
> > comfortable." -- Clifton Fadiman
> >
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org <javascript:;>
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> J. Gustavo
> --
> Jorge Gustavo Rocha
> Departamento de Informática
> Universidade do Minho
> 4710-057 Braga
> Tel: +351 253604480
> Fax: +351 253604471
> Móvel: +351 910333888
> skype: nabocudnosor
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <javascript:;>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 

“When you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/ca9caa80/attachment-0001.html>

From rldhont at gmail.com  Tue Jun  6 05:36:39 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Tue, 6 Jun 2017 14:36:39 +0200
Subject: [QGIS-Developer] Processing R scripts - TypeError: cannot
 concatenate 'str' and 'NoneType' objects
In-Reply-To: <CACfnYnRvN=-aysD09qP=m5f-KBsviju-97_GGnRSDbsm5TKYyA@mail.gmail.com>
References: <CACfnYnRvN=-aysD09qP=m5f-KBsviju-97_GGnRSDbsm5TKYyA@mail.gmail.com>
Message-ID: <d5eca4c9-5c22-c664-c204-1e09f78e4702@gmail.com>

Hi Dev,

I have fixed https://issues.qgis.org/issues/16618 in 2.18 and 2.14.

Regards,
René-Luc

Le 05/06/2017 à 12:09, Giovanni Manghi a écrit :
> Hi,
>
> I confirm that in previous QGIS releases (2.14/2.16 for example) R
> scripts were working as expected.
>
> So I added
>
> https://issues.qgis.org/issues/16618
>
> to the list of regressions that must be fixed in time for the next LTR
>
> https://docs.google.com/spreadsheets/d/1frZQU8bwGX499WMvtOc6GDIWqEuSv3QHz3zc90TS46Q/edit?usp=sharing
>
>
> cheers!
>
> -- G --
>
>
>
>> Maybe a fix ...
>>
>> On Fri, Jun 2, 2017 at 8:31 PM, Anita Graser <anitagraser at gmx.at> wrote:
>>
>>> File "C:/OSGEO4~1/apps/qgis-ltr/./python/plugins\processing\algs\r\RAlgorithm.py",
>>> line 404, in getExportCommands
>>>
>>> commands.append('cat("##' + out.name + '",file="' + outputDataFile +
>>> '",sep="\n",append=TRUE)')
>>>
>>> TypeError: cannot concatenate 'str' and 'NoneType' objects
>>>
>> Not sure if it breaks anything else, but if I add
>>
>>              elif isinstance(out, OutputHTML):
>>                  pass
>>
>> before the offending
>>
>>              elif out.name != RAlgorithm.R_OUTPUT_VALUES:
>>                  commands.append('cat("##' + out.name + '",file="' +
>> outputDataFile + '",sep="\n",append=TRUE)')
>>                  commands.append('cat(' + out.name + ',file="' +
>> outputDataFile + '",sep="\n",append=TRUE)')
>>
>> Then the HTML output is created and visible in the results viewer and there
>> is no error.
>>
>> I'm not sure what the problematic lines were supposed to do anyway ...
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From stephanebek at gmail.com  Tue Jun  6 07:28:18 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Tue, 6 Jun 2017 20:28:18 +0600
Subject: [QGIS-Developer] [Qgis-developer] Adding default OSM backround
	maps
In-Reply-To: <CAK6pVBWYi6scZ=wVgY1aP8D2X=SGjpO2GpddCbjz4181PxVUeQ@mail.gmail.com>
References: <31b81df0-3712-c9c4-c09f-82e11d3b74bd@faunalia.it>
 <724a33c5-95cd-8a0c-92a0-257683e96102@di.uminho.pt>
 <20170327102550.4dfnfr3y5mfaih2c@norbit.de>
 <b3f04b60-bb2f-ac6a-e58b-8a67ed9f133b@faunalia.it>
 <957a130e-f516-24b7-b222-f83d13d818fd@faunalia.it>
 <7273a448-dd41-1327-3e16-1dd3e189390b@di.uminho.pt>
 <b2028e1e-26f0-f2dd-e6f8-26368326cb64@faunalia.it>
 <CAK6pVBX4iKwL3h0+nantkcfZZ_2ha+LZA8m1h42gKwsVC2Py2g@mail.gmail.com>
 <f6a62f47-8458-6484-f19c-af45b365a594@di.uminho.pt>
 <CAK6pVBWYi6scZ=wVgY1aP8D2X=SGjpO2GpddCbjz4181PxVUeQ@mail.gmail.com>
Message-ID: <CAK6pVBWYL+0mKVU5VXi+NtE+jNQG08teGKni6CfUpTCZ0+J+QQ@mail.gmail.com>

As recommended by Jorge, I just opened a QEP:
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/94

But I would still suggest to keep the discussion on the Gdoc. I think it's
a more flexible place for brainstorming. If we get some kind of consensus
there, then I will fill up the QEP with more detailed info.

Would that be ok? (first time I open a QEP, so not quite sure about the
usual procedures and etiquette)

Cheers
Stéphane

Le mardi 6 juin 2017, Stéphane Henriod <stephanebek at gmail.com> a écrit :

> Hi again
>
> if some are with me on this, let's try to work first on general
> requirements. Then we can assess, I guess, relatively soon if this is
> realistic or not.
>
> I started to brainstorm here: https://docs.google.com/document/d/
> 1f1OJtshHCPcLVEVqZjTEgI47zn61Plv5I-Yc68d2b64/edit?usp=sharing
>
> Thanks and cheers
> Stéphane
>
>
> Le mardi 6 juin 2017, Jorge Gustavo Rocha <jgr at di.uminho.pt
> <javascript:_e(%7B%7D,'cvml','jgr at di.uminho.pt');>> a écrit :
>
>> Hi Stéphane,
>>
>> Your suggestion may complement or be an alternative to the default OSM
>> background maps.
>>
>> Regarding the implementation of the initial proposal, it is not
>> difficult and have been done in PR#4352. It is basically one button to
>> add another layer to the map.
>>
>> Creating a new vector tile service, provided by QGIS, seems quite more
>> difficult to me. We need to maintain a mirror of the planet. This means
>> a lot of resources (hw and ops).
>>
>> Developing one style is not difficult but one that everybody likes is
>> much more difficult. We would end up as OSM did, with several styles,
>> for different users. But if the render is on the client side, there is
>> no problem to maintain more than one style.
>>
>> In summary, providing the tile service seems more complicated to me, but
>> this can be further explored. If you would like to try it, I can help.
>>
>> Regards,
>>
>> Jorge Gustavo
>>
>>
>> Às 10:57 de 06-06-2017, Stéphane Henriod escreveu:
>> > Hi all
>> >
>> > jumping (a bit late) on this...
>> >
>> > I realize that this would be much heavier and much more expensive to
>> > implement but what about developing a "QGIS style" for OSM-based tiles
>> > (that could, e.g., be hosted on QGIS.org)? That would take care of 3
>> issues:
>> >
>> >   * "Quality of the cartography": if we are not 100% happy with the
>> >     default OSM style as a background map, we could come up with a more
>> >     appropriate style
>> >   * "Quality of the service":  there is a risk that OSMF once shuts down
>> >     the service because we generate too much traffic. If "we" host the
>> >     tiles ourselves, the risks and associated decisions remain in "our"
>> >     hands
>> >   * "Frequency of updates": same, if it lies in "our" hands, we can
>> >     define ourselves what frequency would be appropriate
>> >
>> > I assume that developing a new style is not a huge task (there are
>> > probably enough people around with the necessary skills) and could be
>> > achieved either with a "small" budget or with sufficient participation
>> > of the community. But the long-term maintenance and hosting / serving of
>> > the tiles is probably an issue of a different magnitude...
>> >
>> > Would that idea be worth exploring further? Or do you think it is
>> > completely not realistic ?
>> >
>> > Thanks and cheers
>> > Stéphane
>> >
>> > Le lundi 1 mai 2017, Paolo Cavallini <cavallini at faunalia.it
>> > <mailto:cavallini at faunalia.it>> a écrit :
>> >
>> >     Il 30/04/2017 19:28, Jorge Gustavo Rocha ha scritto:
>> >
>> >     > I did a PR [1], very simple. This discussion is now about the best
>> >     > approach to handle all settings, in all platforms. I'm working on
>> >     that.
>> >
>> >     FYI, summarized here:
>> >     https://issues.qgis.org/issues/16493
>> >     <https://issues.qgis.org/issues/16493>
>> >     Please add what is missing.
>> >     Thanks.
>> >     --
>> >     Paolo Cavallini - www.faunalia.eu <http://www.faunalia.eu>
>> >     QGIS & PostGIS courses: http://www.faunalia.eu/training.html
>> >     <http://www.faunalia.eu/training.html>
>> >     https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
>> >     <https://www.google.com/trends/explore?date=all&geo=IT&q=
>> qgis,arcgis>
>> >     _______________________________________________
>> >     Qgis-developer mailing list
>> >     Qgis-developer at lists.osgeo.org <javascript:;>
>> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> >     Unsubscribe: https://lists.osgeo.org/mailma
>> n/listinfo/qgis-developer
>> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> >
>> >
>> >
>> > --
>> >
>> > “When you travel, remember that a foreign country is not designed to
>> > make you comfortable. It is designed to make its own people
>> > comfortable." -- Clifton Fadiman
>> >
>> >
>> >
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >
>>
>> J. Gustavo
>> --
>> Jorge Gustavo Rocha
>> Departamento de Informática
>> Universidade do Minho
>> 4710-057 Braga
>> Tel: +351 253604480
>> Fax: +351 253604471
>> Móvel: +351 910333888
>> skype: nabocudnosor
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
>
> “When you travel, remember that a foreign country is not designed to make
> you comfortable. It is designed to make its own people comfortable." --
> Clifton Fadiman
>
>

-- 

“When you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/709b7505/attachment.html>

From kimaidou at gmail.com  Tue Jun  6 08:16:39 2017
From: kimaidou at gmail.com (kimaidou)
Date: Tue, 6 Jun 2017 17:16:39 +0200
Subject: [QGIS-Developer] Lizmap - "Story map" feature POC with QGIS user
	map data
Message-ID: <CAMKXKO5Fm_6fvyGkBDPeh-rvFTkS0_s6GCBTfpDYph13i=41fw@mail.gmail.com>

Hi all,

I am working on a new feature for upcoming version of Lizmap Web Client,
which allows the user
* to move from one layer object to the next , and shows:
* to see the feature information ( based on Lizmap popup)
* to see the geometry of the feature (highlighted in yellow) , optionnaly

The editor of the QGIS project will choose :
* a coverage layer (same principle as the atlas)
* a label field used to fill a combo box from the layer features
* a field used to order the layer features (usually the label field)
* buttons to move backward/forward, which means to the previous or next
feature
* a button to start an animation, with an option to set the step duration
(5 s by default)

Changing the user in the combo box will trigger the move to the
corresponding feature

I have used QGIS user map data to build a demo
https://plugins.qgis.org/community-map/
Please tell me if I have the permission to use this data. Obviously, if
using this data is not possible, I will shut down the demo !

The link is
http://dev.lizmap.3liz.com/index.php/projects/demonstration/qgis_community

Since this feature is based on a layer, you can imagine other scenarios of
use.

Cheers

Michaël
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/56d56eda/attachment-0001.html>

From pierluigi.derosa at gfosservices.it  Tue Jun  6 08:18:01 2017
From: pierluigi.derosa at gfosservices.it (Ing. Pierluigi De Rosa)
Date: Tue, 06 Jun 2017 17:18:01 +0200
Subject: [QGIS-Developer] QgsMapLayerComboBox add None
In-Reply-To: <CAMtDFLK73hMranv-mOPRkkh9POtgm277NbZPEVh6KNX_rZs-1g@mail.gmail.com>
References: <1496676186.22313.2.camel@pierluigi-Lenovo-U41-70>
 <CAMtDFLK73hMranv-mOPRkkh9POtgm277NbZPEVh6KNX_rZs-1g@mail.gmail.com>
Message-ID: <1496762281.16437.0.camel@pierluigi-Lenovo-U41-70>

Thanks

good to know.

Pierluigi

Il giorno mar, 06/06/2017 alle 00.23 +0800, Etienne Trimaille ha
scritto:
> Yes it's possible with the QGIS 3 API only:
> 
> https://qgis.org/api/classQgsMapLayerComboBox.html#a3f38873230e93d6bc7d73a50671a9c5e
> 
> 
> 
> 2017-06-05 23:23 GMT+08:00 Ing. Pierluigi De Rosa
> <pierluigi.derosa at gfosservices.it>:
> 
>         Dear all,
>         
>         into the QgsMapLayerComboBox is there a simple way to add the
>         --None--
>         option for the list of layer?
>         Normally the widget is already full of all layer but I need
>         also the
>         option: no layer
>         
>         What is the best solution to do that?
>         Thanks
>         Pierluigi
>         
>         --
>         --
>         
>         
>         
>         
>         
>         ________________________________________________________________________
>         Ing. Pierluigi De Rosa
>         PhD in Scienze della terra
>         Professore a contratto di G.I.S. presso Università di Perugia
>         
>         Studio Associato GFOSSERVICES
>         
>         Presso CAMPUS Via F.lli Cairoli 24 - 06127 Perugia (PG)
>         fax: 075 7823038
>         cel: 3497558268
>         web: www.gfosservices.it
>         skype: pierluigi.derosa
>         
>         _______________________________________________
>         QGIS-Developer mailing list
>         QGIS-Developer at lists.osgeo.org
>         List info:
>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>         Unsubscribe:
>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 

-- 
-- 





                                    
________________________________________________________________________

Ing. Pierluigi De Rosa 

PhD in Scienze della terra 
Professore a contratto di G.I.S. presso Università di Perugia

Studio Associato GFOSSERVICES
                
Presso CAMPUS Via F.lli Cairoli 24 - 06127 Perugia (PG) 

fax: 075 7823038

cel: 3497558268

web: www.gfosservices.it

skype: pierluigi.derosa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/f9f7eba7/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: logoGFOSS.png
Type: image/png
Size: 20480 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/f9f7eba7/attachment-0001.png>

From joao.f.r.gaspar at gmail.com  Tue Jun  6 08:51:00 2017
From: joao.f.r.gaspar at gmail.com (=?UTF-8?B?Sm/Do28gR2FzcGFy?=)
Date: Tue, 6 Jun 2017 16:51:00 +0100
Subject: [QGIS-Developer] Lizmap - "Story map" feature POC with QGIS
 user map data
In-Reply-To: <CAMKXKO5Fm_6fvyGkBDPeh-rvFTkS0_s6GCBTfpDYph13i=41fw@mail.gmail.com>
References: <CAMKXKO5Fm_6fvyGkBDPeh-rvFTkS0_s6GCBTfpDYph13i=41fw@mail.gmail.com>
Message-ID: <CAM+zXj0=Rd6RryjpB2yiFjqubYHVy+hxZjdOA_rTNDRFCGA5nQ@mail.gmail.com>

Hi Michaël,
great feature :)

Cheers
João

2017-06-06 16:16 GMT+01:00 kimaidou <kimaidou at gmail.com>:

> Hi all,
>
> I am working on a new feature for upcoming version of Lizmap Web Client,
> which allows the user
> * to move from one layer object to the next , and shows:
> * to see the feature information ( based on Lizmap popup)
> * to see the geometry of the feature (highlighted in yellow) , optionnaly
>
> The editor of the QGIS project will choose :
> * a coverage layer (same principle as the atlas)
> * a label field used to fill a combo box from the layer features
> * a field used to order the layer features (usually the label field)
> * buttons to move backward/forward, which means to the previous or next
> feature
> * a button to start an animation, with an option to set the step duration
> (5 s by default)
>
> Changing the user in the combo box will trigger the move to the
> corresponding feature
>
> I have used QGIS user map data to build a demo
> https://plugins.qgis.org/community-map/
> Please tell me if I have the permission to use this data. Obviously, if
> using this data is not possible, I will shut down the demo !
>
> The link is
> http://dev.lizmap.3liz.com/index.php/projects/demonstration/qgis_community
>
> Since this feature is based on a layer, you can imagine other scenarios of
> use.
>
> Cheers
>
> Michaël
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/2343d780/attachment.html>

From telwertowski at comcast.net  Tue Jun  6 09:07:42 2017
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Tue, 6 Jun 2017 12:07:42 -0400
Subject: [QGIS-Developer] Qt & Python version for QGIS 3
In-Reply-To: <12CEADF7-3894-40DC-95AE-2650BF3C86CF@kyngchaos.com>
References: <12CEADF7-3894-40DC-95AE-2650BF3C86CF@kyngchaos.com>
Message-ID: <6b4dc4da-87dd-2ef9-8f1f-13908d963dfd@comcast.net>

Hi William,

I rebuilt QGIS using Qt 5.9 and works the same as with Qt 5.8. I also 
rebuilt the Qt dependencies: QtWebKit 5.9.0, QScintilla 2.10, PyQt 
5.8.2, QCA 5f18ebc, QtKeyChain 0.8.0 and Qwt 6.1.3.

I did not update the QGIS path fixing installation scripts. Doing 
'export DYLD_LIBRARY_PATH=/Applications/Qt/5.9/clang_64/lib' and 
launching from the command line gets around this.

qt.conf must contain:
[Paths]
Prefix=/Applications/Qt/5.9/clang_64

Tom
LinkedIn: https://www.linkedin.com/in/thomas-elwertowski-a0886032


On 6/5/17 4:46 PM, William Kyngesburye wrote:
> I'm starting to look at building QGIS 3, and I'd like to know what recent versions of Qt5 and Python 3 are supported.  I see Qt is up to 5.9 and Python is up to 3.6.
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
> 
> Theory of the Universe
> 
> There is a theory which states that if ever anyone discovers exactly what the universe is for and why it is here, it will instantly disappear and be replaced by something even more bizarrely inexplicable.  There is another theory which states that this has already happened.
> 
> -Hitchhiker's Guide to the Galaxy 2nd season intro
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From anitagraser at gmx.at  Tue Jun  6 09:56:54 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Tue, 6 Jun 2017 18:56:54 +0200
Subject: [QGIS-Developer] Processing R scripts - TypeError: cannot
 concatenate 'str' and 'NoneType' objects
In-Reply-To: <d5eca4c9-5c22-c664-c204-1e09f78e4702@gmail.com>
References: <CACfnYnRvN=-aysD09qP=m5f-KBsviju-97_GGnRSDbsm5TKYyA@mail.gmail.com>
 <d5eca4c9-5c22-c664-c204-1e09f78e4702@gmail.com>
Message-ID: <CAFFV8Fi7PG282jjTxNCuDhgb-dKsWgoPQELh9i0v2PmaAw7P6g@mail.gmail.com>

On Tue, Jun 6, 2017 at 2:36 PM, René-Luc Dhont <rldhont at gmail.com> wrote:

> Hi Dev,
>
> I have fixed https://issues.qgis.org/issues/16618 in 2.18 and 2.14.
>
>
Thank you for the fix!

Do you know if tests for HTML outputs can be added like other Processing
tests?

Regards,
Anita​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/e2e35a3e/attachment.html>

From tom.chadwin at nnpa.org.uk  Tue Jun  6 11:45:47 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 6 Jun 2017 11:45:47 -0700 (MST)
Subject: [QGIS-Developer] Lizmap - "Story map" feature POC with QGIS
	user map data
In-Reply-To: <CAM+zXj0=Rd6RryjpB2yiFjqubYHVy+hxZjdOA_rTNDRFCGA5nQ@mail.gmail.com>
References: <CAMKXKO5Fm_6fvyGkBDPeh-rvFTkS0_s6GCBTfpDYph13i=41fw@mail.gmail.com>
 <CAM+zXj0=Rd6RryjpB2yiFjqubYHVy+hxZjdOA_rTNDRFCGA5nQ@mail.gmail.com>
Message-ID: <1496774747335-5323254.post@n6.nabble.com>

Hi Michaël

Have you thought of basing it on QGIS bookmarks instead? No need to dedicate
a field for the "order" property then. 

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
View this message in context: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Lizmap-Story-map-feature-POC-with-QGIS-user-map-data-tp5323217p5323254.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From andreasplesch at gmail.com  Tue Jun  6 15:18:57 2017
From: andreasplesch at gmail.com (Andreas Plesch)
Date: Tue, 6 Jun 2017 18:18:57 -0400
Subject: [QGIS-Developer] discover python executable in use
In-Reply-To: <CAKdk67vKsxD86Mk_Vo=P0V_NuLmJri1MSPbydvoh1R9W5D47TQ@mail.gmail.com>
References: <CAKdk67vKsxD86Mk_Vo=P0V_NuLmJri1MSPbydvoh1R9W5D47TQ@mail.gmail.com>
Message-ID: <CAKdk67s3vBSwbXJftQYe-cFGqzBYG7d+Mevg=NWY4QjyADEQVA@mail.gmail.com>

I think I am starting to understand bit better what is happening. Since
qgis (probably) completely embeds the python interpreter, eg. links to
libpython, the value of sys.executable does not really map to this
situation. Apparently, the interpretation differs depending on the platform.

So if I want to start a detached python process, it is not unreasonable to
have to look around for the python executable although it would be great if
there is some worked out cross-platform approach.

A pseudo-code strategy (for 2.18) could be:

on linux, use sys.executable but if sys.version is 3, warn and guess
dir(sys.executable)/python2 (check that the file exists). Actually, it
should be fine to just always use dir(sys.executable)/python2 .
on windows (sys.platform.startswith('win')), use
dir(sys.executable)/python-qgis.bat

This appears to work well enough but I suspect there are better approaches ?

Sort of similarly, killing a detached QProcess seems to require platform
specific code as well. os.kill works for linux but windows seems to require
its own system executed 'taskkill /pid'.

If this all seems to be completely off, any suggestions or ideas are
gratefully received,

Andreas

On Mon, Jun 5, 2017 at 9:49 AM, Andreas Plesch <andreasplesch at gmail.com>
wrote:

> Using the Python console on 2.18
>
> import sys
> sys.executable
>
> returns
>
> 1) on Windows (2.18.9 32bit):
>
> 'C:\\PROGRA~1\\QGIS2~1.18\\bin\\qgis-bin.exe'
>
> which unexpectedly does not appear to be a Python interpreter
>
> and
>
> 2) on Linux (2.18.3. 64bit)
>
> '/usr/bin/python'
>
> which does appear to be the Python interpreter in use by the console.
>
> Is there a cross platform way to discover the Python interpreter in
> current use ? Would 1) considered to be a possible bug somewhere ?
>
> I want to use it for
>
> QProcess.startDetached(sys.executable, args, root_folder)
>
> Thanks,
>
> -Andreas
>
>
> --
> Andreas Plesch
> 39 Barbara Rd.
> Waltham, MA 02453
>



-- 
Andreas Plesch
39 Barbara Rd.
Waltham, MA 02453
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170606/857d0251/attachment.html>

From kimaidou at gmail.com  Wed Jun  7 01:24:00 2017
From: kimaidou at gmail.com (kimaidou)
Date: Wed, 7 Jun 2017 10:24:00 +0200
Subject: [QGIS-Developer] Lizmap - "Story map" feature POC with QGIS
 user map data
In-Reply-To: <1496774747335-5323254.post@n6.nabble.com>
References: <CAMKXKO5Fm_6fvyGkBDPeh-rvFTkS0_s6GCBTfpDYph13i=41fw@mail.gmail.com>
 <CAM+zXj0=Rd6RryjpB2yiFjqubYHVy+hxZjdOA_rTNDRFCGA5nQ@mail.gmail.com>
 <1496774747335-5323254.post@n6.nabble.com>
Message-ID: <CAMKXKO5x-ZmK-RGxcU8v7-B2RG+L7vY742wiF_nGY=A-_MUW9w@mail.gmail.com>

Hi Tom

I prefer to use a layer as a source, because this way you can use it
* to zoom on somewhere (each layer feature ) -> no need to set up bookmarks
in QGIS
* display some information (title, description, photo, etc.) based on each
feature GetFeatureInfo request
I could use any other lizmap feature based on a layer to add more tools
(such as selection, filter of child data based on the active parent
feature, etc.)

If I base this tool on QGIS bookmarks, I ask the editor to create many
bookmarks, and I cannot find enough information for each bookmark item.
Basing the tool on a simple layer is more flexible in my opinion, since you
are not limited on which information you use for each feature.

Michaël

2017-06-06 20:45 GMT+02:00 Tom Chadwin <tom.chadwin at nnpa.org.uk>:

> Hi Michaël
>
> Have you thought of basing it on QGIS bookmarks instead? No need to
> dedicate
> a field for the "order" property then.
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> View this message in context: http://osgeo-org.1560.x6.
> nabble.com/QGIS-Developer-Lizmap-Story-map-feature-POC-
> with-QGIS-user-map-data-tp5323217p5323254.html
> Sent from the QGIS - Developer mailing list archive at Nabble.com.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170607/3d0594c8/attachment.html>

From domlysz at gmail.com  Wed Jun  7 06:15:43 2017
From: domlysz at gmail.com (domlysz)
Date: Wed, 7 Jun 2017 06:15:43 -0700 (MST)
Subject: [QGIS-Developer] [Qgis-developer] Are there plans to create a
 unique "Add layer" tool?
In-Reply-To: <CAL5Q670ZbiRqhGbjv8yW80MLpx4c6Uc+MwEZW5PiM9RhKgUv4g@mail.gmail.com>
References: <2ccdd97b-f982-c1e4-8ac6-35ee23f22b57@duif.net>
 <CAL5Q670SU_sk+07VB06XEUEe+pmLC8FXbV4mJHh0dz4uVAO_VA@mail.gmail.com>
 <CAL5Q671hWy5xMqz94wbyzYP=+f-hLVfTTHw7YjQwiQEk4JbVAw@mail.gmail.com>
 <CAK6pVBWTYyDy9x1ZhBS9ZqrMYchDkUFh1tCrSCih7BBZDUxTVw@mail.gmail.com>
 <CAK6pVBU0=oqOTdUgt41Yxgg3Y7cWxRr_QWfbYahS_7FKTyqPUw@mail.gmail.com>
 <CAL5Q672Hg63x6qZx0YOA=3YYZjBGiW0nwYGNY3818+zwFzekEg@mail.gmail.com>
 <CAK6pVBXpewhmS-0Ao2K5xDQRsZ0-0MJX1ORz+=Ydjk0ez_YnMA@mail.gmail.com>
 <CAL5Q673Mbj=LxxancnAMC=5PkEP5XTeWjFZ2ymqb+MCf7KBwzA@mail.gmail.com>
 <CAK6pVBWAQ9mSB-Hn0m-A6k-8sc4=By0OLaz3bHdShVBpMWCLWA@mail.gmail.com>
 <CAL5Q670ZbiRqhGbjv8yW80MLpx4c6Uc+MwEZW5PiM9RhKgUv4g@mail.gmail.com>
Message-ID: <1496841343960-5323359.post@n6.nabble.com>

Hi,

Thank you very mutch for this work.

It would be usefull to add an explicit entry for opening non spatial tabular
data like ods, xls or dbf. It's really un-intuitive to add this kind of
datasource by vector dialog and the user needs to control how the first line
will be interpreted (column header or not). Actually there is no way to
control this and adding a spreadsheet give unpredictable column headers.



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Are-there-plans-to-create-a-unique-Add-layer-tool-tp5315336p5323359.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From delazj at gmail.com  Wed Jun  7 06:59:52 2017
From: delazj at gmail.com (DelazJ)
Date: Wed, 7 Jun 2017 15:59:52 +0200
Subject: [QGIS-Developer] Exploring the new node tool: questions and bugs(?)
Message-ID: <CAECJsSoDV4AsvjDfEM7wiqH=WYo28PtCPjDV=yEg4VbgrKRb5w@mail.gmail.com>

Hi,
I'm using the new digitizing system to do a work and despite my trials, I
fail to find how to do some things and have some questions:

- Is the node editor panel gone forever? Or is it hidden, in which case how
can I enable it?

- Trying to add a vertex on a existing segment, I double-click the segment
at the place I'd like the new vertex but nothing seems to happen. And when
I move the mouse, there is also a (new) vertex being moved. I fail to
simply add the vertex without moving it (it adds it and catches it, I
presume). Am I doing something wrong?

- Click and drag  helps to select many vertices from different features.
But when I I have some features selected, I think one would expect to have
only vertices of the selected features. Otherwise, selecting vertex on a
common boundary becomes a pain, because you neve know which feature has its
vertex selected.

Are there issues/features request I should report in Redmine? Anyone to
help me find the right ways to do my edits, please?
Thanks.

Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170607/8ecf7593/attachment.html>

From engnfrc at gmail.com  Wed Jun  7 16:12:48 2017
From: engnfrc at gmail.com (Joshua Quesenberry)
Date: Wed, 7 Jun 2017 19:12:48 -0400
Subject: [QGIS-Developer] USNG Coordinate System
In-Reply-To: <01f201d2dc9a$fe17c290$fa4747b0$@gmail.com>
References: <01f201d2dc9a$fe17c290$fa4747b0$@gmail.com>
Message-ID: <00c501d2dfe3$9512e760$bf38b620$@gmail.com>

Good Evening Everyone,

 

I haven't seen any replies to my post over the weekend. Can someone take a
look?

 

Thanks,

 

Josh Q

 

From: Joshua Quesenberry [mailto:engnfrc at gmail.com] 
Sent: Saturday, June 3, 2017 2:56 PM
To: 'qgis-developer' <qgis-developer at lists.osgeo.org>
Cc: engnfrc at gmail.com
Subject: USNG Coordinate System

 

All,

 

Is there some way to plot USNG coordinates in QGIS? And if not, when will
support for that be added?

 

Thanks,

 

Josh Q

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170607/89ec1e9b/attachment.html>

From nyall.dawson at gmail.com  Wed Jun  7 16:18:36 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 8 Jun 2017 09:18:36 +1000
Subject: [QGIS-Developer] MinimumRectangle implementation
In-Reply-To: <CAK-5bTyrv9irFokR4eUPTtFriRbJhTEPy0q2S+v-y1yLMB-jDw@mail.gmail.com>
References: <CAK-5bTyrv9irFokR4eUPTtFriRbJhTEPy0q2S+v-y1yLMB-jDw@mail.gmail.com>
Message-ID: <CAB28AsgrmD81uJD+xGqJukYjf3GYGgEGUrgFps9J65qno+3RxA@mail.gmail.com>

On 6 June 2017 at 18:43, Paul Jobling <paul.jobling at gmail.com> wrote:

> I am implementing geo in the Kognitio WX2 database using GEOS as a backend,
> though I am using my own code for many things. One of those things is
> ST_MinimumRectangle, which I have implemented as the rectangle with the
> smallest area that encloses the geometry. This is different to the
> implementation that I see you have recently added, which extrapolates from
> the MinimumDiameter property.
>
>
>
> For example, ST_MinimumRectangle ('POLYGON((1 2, 3 0, 5 2, 3 2, 2 3, 1 2))')
> has an area of 9.6 (and a perimeter of 12.65) using the MinimumDiameter
> implementation, whereas my implementation finds the actual minimum – with an
> area of 8 (and perimeter of 11.31) - it is POLYGON ((5 2, 3 0, 1 2, 3 4, 5
> 2)) rather than POLYGON((1.4 3.2, 0.6 0.8, 4.2 -0.4,5 2, 1.4 3.2)).
>
>
>
> My question is why has this implementation been decided on – is it just that
> MimimumDiameter is already present? Or is there some other reason due to
> some standard?

Did you mean to post this to the GEOS mailing lists instead?

Anyway, some background from QGIS' perspective. A while ago I was
looking for a minimum rect implementation, so ported JTS'
implementation over to GEOS. I then exposed this to the QgsGeometry
API, but to my suprise found that the results were not ideal. At the
time there was some python code in processing which performed a MBR
calculation, and I found that the area of rectangles calculated by
this python code was smaller then JTS' algorithm. Additionally, I
thought it created subjectively 'more aesthetically pleasing'
rectangles (when used as atlas feature extents, and also output the
angle/width/height of these rectangles (the GEOS implementation
doesn't expose this). So I ported the Python code over to c++ as
QgsGeometry::orientedMinimumBoundingBox and updated the processing alg
to use this c++ method instead. The guts of this algorithm sits in
https://github.com/qgis/QGIS/blob/master/src/core/geometry/qgsgeometry.cpp#L890
.

Does that clarify?

Nyall

From rdmailings at duif.net  Wed Jun  7 23:40:11 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 8 Jun 2017 08:40:11 +0200
Subject: [QGIS-Developer] Exploring the new node tool: questions and
 bugs(?)
In-Reply-To: <CAECJsSoDV4AsvjDfEM7wiqH=WYo28PtCPjDV=yEg4VbgrKRb5w@mail.gmail.com>
References: <CAECJsSoDV4AsvjDfEM7wiqH=WYo28PtCPjDV=yEg4VbgrKRb5w@mail.gmail.com>
Message-ID: <bbd4cf36-d90c-2cd9-0537-faf1c02d28f4@duif.net>

On 07-06-17 15:59, DelazJ wrote:
> Hi,
> I'm using the new digitizing system to do a work and despite my trials,
> I fail to find how to do some things and have some questions:
> 
> - Is the node editor panel gone forever? Or is it hidden, in which case
> how can I enable it?
> 
> - Trying to add a vertex on a existing segment, I double-click the
> segment at the place I'd like the new vertex but nothing seems to
> happen. And when I move the mouse, there is also a (new) vertex being
> moved. I fail to simply add the vertex without moving it (it adds it and
> catches it, I presume). Am I doing something wrong?
> 
> - Click and drag  helps to select many vertices from different features.
> But when I I have some features selected, I think one would expect to
> have only vertices of the selected features. Otherwise, selecting vertex
> on a common boundary becomes a pain, because you neve know which feature
> has its vertex selected.
> 
> Are there issues/features request I should report in Redmine? Anyone to
> help me find the right ways to do my edits, please?

Hi Harrisou,

I'm with you, seeing the 'Improved geometry editing' section in Anita's
blog [0], I thought to test this too.

But (with me on Linux) I fail to get things done too. It looks like I
have to click on nodes before I can move them? While in webmaps (to
which Anita compares the editing), you just hover over them, and if you
see the cross or resized node, you can just drag them (without clicking
it first).
With me (on Linux) build of yesterday, this does not work, I get a blue
rectangle/rubberband all the time, but fail to move points untill I
click on them?

Maybe somebody can share a little screencapture/movie about it?

Regards,

Richard

[0]
https://anitagraser.com/2017/05/23/upcoming-qgis3-features-exploring-the-current-developer-version/

From tim at kartoza.com  Wed Jun  7 23:57:13 2017
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 8 Jun 2017 08:57:13 +0200
Subject: [QGIS-Developer] Lizmap - "Story map" feature POC with QGIS
 user map data
In-Reply-To: <CAMKXKO5Fm_6fvyGkBDPeh-rvFTkS0_s6GCBTfpDYph13i=41fw@mail.gmail.com>
References: <CAMKXKO5Fm_6fvyGkBDPeh-rvFTkS0_s6GCBTfpDYph13i=41fw@mail.gmail.com>
Message-ID: <CAES-DZTF8e7EU_9N6zAnJvDrm8FKpv98SWkPpysVTL3JU2Kc9g@mail.gmail.com>

Hi

On Tue, Jun 6, 2017 at 5:16 PM, kimaidou <kimaidou at gmail.com> wrote:

> Hi all,
>
> I am working on a new feature for upcoming version of Lizmap Web Client,
> which allows the user
> * to move from one layer object to the next , and shows:
> * to see the feature information ( based on Lizmap popup)
> * to see the geometry of the feature (highlighted in yellow) , optionnaly
>
> The editor of the QGIS project will choose :
> * a coverage layer (same principle as the atlas)
> * a label field used to fill a combo box from the layer features
> * a field used to order the layer features (usually the label field)
> * buttons to move backward/forward, which means to the previous or next
> feature
> * a button to start an animation, with an option to set the step duration
> (5 s by default)
>
> Changing the user in the combo box will trigger the move to the
> corresponding feature
>
> I have used QGIS user map data to build a demo
> https://plugins.qgis.org/community-map/
> Please tell me if I have the permission to use this data. Obviously, if
> using this data is not possible, I will shut down the demo !
>

​I don't see any problem with this. Thanks for making more cool things for
the world :-)

Regards

Tim​



>
> The link is
> http://dev.lizmap.3liz.com/index.php/projects/demonstration/qgis_community
>
> Since this feature is based on a layer, you can imagine other scenarios of
> use.
>
> Cheers
>
> Michaël
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
------------------------------------------------------------------------------------------
​

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
Kartoza is a merger between Linfiniti and Afrispatial
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170608/b78b02c8/attachment.html>

From havard.tveite at nmbu.no  Thu Jun  8 00:21:14 2017
From: havard.tveite at nmbu.no (Havard Tveite)
Date: Thu, 8 Jun 2017 09:21:14 +0200
Subject: [QGIS-Developer] MinimumRectangle implementation
In-Reply-To: <CAB28AsgrmD81uJD+xGqJukYjf3GYGgEGUrgFps9J65qno+3RxA@mail.gmail.com>
References: <CAK-5bTyrv9irFokR4eUPTtFriRbJhTEPy0q2S+v-y1yLMB-jDw@mail.gmail.com>
 <CAB28AsgrmD81uJD+xGqJukYjf3GYGgEGUrgFps9J65qno+3RxA@mail.gmail.com>
Message-ID: <18f32017-8d86-68bf-05b1-f58f4db5de41@nmbu.no>

The QgsGeometry::orientedMinimumBoundingBox seems to implement
the rotating calipers method.  If it does, it should produce
the correct minimum bounding rectangle.
(http://en.wikipedia.org/wiki/Minimum_bounding_box_algorithms)

Håvard

On 08. juni 2017 01:18, Nyall Dawson wrote:
> On 6 June 2017 at 18:43, Paul Jobling <paul.jobling at gmail.com> wrote:
> 
>> I am implementing geo in the Kognitio WX2 database using GEOS as a backend,
>> though I am using my own code for many things. One of those things is
>> ST_MinimumRectangle, which I have implemented as the rectangle with the
>> smallest area that encloses the geometry. This is different to the
>> implementation that I see you have recently added, which extrapolates from
>> the MinimumDiameter property.
>>
>>
>>
>> For example, ST_MinimumRectangle ('POLYGON((1 2, 3 0, 5 2, 3 2, 2 3, 1 2))')
>> has an area of 9.6 (and a perimeter of 12.65) using the MinimumDiameter
>> implementation, whereas my implementation finds the actual minimum – with an
>> area of 8 (and perimeter of 11.31) - it is POLYGON ((5 2, 3 0, 1 2, 3 4, 5
>> 2)) rather than POLYGON((1.4 3.2, 0.6 0.8, 4.2 -0.4,5 2, 1.4 3.2)).
>>
>>
>>
>> My question is why has this implementation been decided on – is it just that
>> MimimumDiameter is already present? Or is there some other reason due to
>> some standard?
> 
> Did you mean to post this to the GEOS mailing lists instead?
> 
> Anyway, some background from QGIS' perspective. A while ago I was
> looking for a minimum rect implementation, so ported JTS'
> implementation over to GEOS. I then exposed this to the QgsGeometry
> API, but to my suprise found that the results were not ideal. At the
> time there was some python code in processing which performed a MBR
> calculation, and I found that the area of rectangles calculated by
> this python code was smaller then JTS' algorithm. Additionally, I
> thought it created subjectively 'more aesthetically pleasing'
> rectangles (when used as atlas feature extents, and also output the
> angle/width/height of these rectangles (the GEOS implementation
> doesn't expose this). So I ported the Python code over to c++ as
> QgsGeometry::orientedMinimumBoundingBox and updated the processing alg
> to use this c++ method instead. The guts of this algorithm sits in
> https://github.com/qgis/QGIS/blob/master/src/core/geometry/qgsgeometry.cpp#L890
> .
> 
> Does that clarify?
> 
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

-- 
Håvard Tveite
Faculty of Sciences and Technology, NMBU
Drøbakveien 31, POBox 5003, N-1432 Ås, NORWAY
Phone: +47 67231548   Web: http://www.nmbu.no

From stephanebek at gmail.com  Thu Jun  8 00:55:55 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Thu, 8 Jun 2017 13:55:55 +0600
Subject: [QGIS-Developer] EPSG 9.0 in QGIS?
Message-ID: <CAK6pVBVAn_Nd5JYT_8CD4r3BBbxJ8V40eM+2ZkXbCO-=1ZqP3g@mail.gmail.com>

Dear all

We have, in Kyrgyzstan, a new national coordinate system (Kyrg-06) that has
been introduced in the EPSG 9.0 database. Does anyone know if / when this
will be available in QGIS?

There was an email from Even Rouault on this list on 10.01.2017 saying that
he has updated to EPSG 9.0 but, as far as I can see, this is not yet in the
nightly builds of QGIS. Or am I missing something?

Thanks a lot in advance!

Cheers
Stéphane


-- 

“When you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170608/8dc09348/attachment.html>

From rhurlin at gwdg.de  Thu Jun  8 00:24:33 2017
From: rhurlin at gwdg.de (Rainer Hurling)
Date: Thu, 8 Jun 2017 09:24:33 +0200
Subject: [QGIS-Developer] Can't find SAGA devel versions after r413c6e5
Message-ID: <809b8208-48ef-da60-5fd5-6ef74d886b5e@gwdg.de>

Hi Alex,

thanks for reworking bigger parts of the processing SAGA provider! 
Really appreciated.

I am writing you as the maintainer of the ports of SAGA GIS and QGIS for 
the FreeBSD OS[1][2].

For some reasons, we don't package our system with different versions of 
SAGA GIS. Recent FreeBSD comes with SAGA GIS version 3.0.0, I am working 
on an update to version 4.1.0.

With your latest updates to QGIS (r413c6e5), newer versions of SAGA GIS 
than 2.3.x are not recognized any more :(

I am familiar with the background, that QGIS processing only garantees 
to work well with the SAGA GIS LTR version. But there was a kind of 
tacit agreement for several years now, that QGIS processing tools also 
accepted to display (and somewhat work with) newer SAGA GIS versions.

A user of QGIS, who had installed a more recent SAGA GIS version, worked 
on his own risk, and of course it was not garanteed to work flawlessly. 
But, nevertheless it worked for many cases.


Now my request: It would be fine and at least important for FreeBSD 
users, to have the possibility to use SAGA GIS > 2.3.x with QGIS 2.18.9 
again.

As far as I can see, getSagaInstalledVersion() within 
python/plugins/processing/algs/saga/SagaUtils.py does find the correct 
version, even if it is greater than 2.3.x (the trunk version in my case):

 >>> getSagaInstalledVersion()
'5.0.0'

findSagaFolder() gives nothing back, I think, this is one main cause for 
not displaying any SAGA GIS presence here.

Another reason could be, that line 76 in SagaAlgorithmProvider.py checks 
for 2.3. ('hardcoded'):

l76: if not version.startwith('2.3.'):

I would really appreciate any changes, that would make it possible again 
to work with newer SAGA GIS versions, even with devel versions.

Thanks for any hints and/or changes. Please let me know, if I could test 
something.

Best wishes,
Rainer Hurling


[1] http://www.freshports.org/graphics/qgis
[2] http://www.freshports.org/math/saga

From regis.haubourg at gmail.com  Thu Jun  8 01:53:36 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 8 Jun 2017 10:53:36 +0200
Subject: [QGIS-Developer] Exploring the new node tool: questions and
	bugs(?)
In-Reply-To: <bbd4cf36-d90c-2cd9-0537-faf1c02d28f4@duif.net>
References: <CAECJsSoDV4AsvjDfEM7wiqH=WYo28PtCPjDV=yEg4VbgrKRb5w@mail.gmail.com>
 <bbd4cf36-d90c-2cd9-0537-faf1c02d28f4@duif.net>
Message-ID: <CABgOYCdHn+xsv3zWnziDa1_2vRMT1YjHEAVaikcuX3d-6UyM0w@mail.gmail.com>

Hi all,
the new node tool has an unofficial name : "click-click node tool".

The new behavior is to first click a node to select it and then click the
new position.

I was also surprised at start, loosing the very common click - drag -
release workflow was not natural to me, coming from Esri-Mapinfo world (a
long time ago now).

After using it in Martin's plugin prototype "CAD Node tool" I finally got
convinced that it is a lot more productive in fact, and allows to use all
the advanced digitizing options and modifiers.

The node panel is raised on demand using right click, this was annoying to
always have it before. In latest master, it indeed is broken, it just opens
and closes immediately.

It's true that the new behavior is more natural to CAD users than GIS at
start, but I think it's much more productive this way.

Double click is still here to create a node, or you can just click on the
centerline virtual node that appears when you hover the feature. (It's a
red cross rubber band)

Moving a segment is like before but still in clic-clic mode, not
clic-drag-release.

There are also some other improvements asked by some users, and any
improvement or feedback is welcome:

- add a varying symbol to confirm what snapping type is made (segment /
node / vertex)
- add a better batch vertex selection method, allowing to select all
vertices between two selected vertices
- allow to have priorities for layer snapping
- add advanced option to let user explicitly choose which layer and feature
should be actually snapped to.

I think this change is a heavy new feature that will need to be advertised
and documented .
I'm even wondering if we shouldn't even change the node tooltip until 3.2
from "node tool" to "node tool  /n new behavior, look check the doc!"



Cheers
Régis

2017-06-08 8:40 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:

> On 07-06-17 15:59, DelazJ wrote:
> > Hi,
> > I'm using the new digitizing system to do a work and despite my trials,
> > I fail to find how to do some things and have some questions:
> >
> > - Is the node editor panel gone forever? Or is it hidden, in which case
> > how can I enable it?
> >
> > - Trying to add a vertex on a existing segment, I double-click the
> > segment at the place I'd like the new vertex but nothing seems to
> > happen. And when I move the mouse, there is also a (new) vertex being
> > moved. I fail to simply add the vertex without moving it (it adds it and
> > catches it, I presume). Am I doing something wrong?
> >
> > - Click and drag  helps to select many vertices from different features.
> > But when I I have some features selected, I think one would expect to
> > have only vertices of the selected features. Otherwise, selecting vertex
> > on a common boundary becomes a pain, because you neve know which feature
> > has its vertex selected.
> >
> > Are there issues/features request I should report in Redmine? Anyone to
> > help me find the right ways to do my edits, please?
>
> Hi Harrisou,
>
> I'm with you, seeing the 'Improved geometry editing' section in Anita's
> blog [0], I thought to test this too.
>
> But (with me on Linux) I fail to get things done too. It looks like I
> have to click on nodes before I can move them? While in webmaps (to
> which Anita compares the editing), you just hover over them, and if you
> see the cross or resized node, you can just drag them (without clicking
> it first).
> With me (on Linux) build of yesterday, this does not work, I get a blue
> rectangle/rubberband all the time, but fail to move points untill I
> click on them?
>
> Maybe somebody can share a little screencapture/movie about it?
>
> Regards,
>
> Richard
>
> [0]
> https://anitagraser.com/2017/05/23/upcoming-qgis3-features-
> exploring-the-current-developer-version/
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170608/b0d43e97/attachment.html>

From wonder.sk at gmail.com  Thu Jun  8 01:56:04 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 8 Jun 2017 10:56:04 +0200
Subject: [QGIS-Developer] Exploring the new node tool: questions and
	bugs(?)
In-Reply-To: <CAECJsSoDV4AsvjDfEM7wiqH=WYo28PtCPjDV=yEg4VbgrKRb5w@mail.gmail.com>
References: <CAECJsSoDV4AsvjDfEM7wiqH=WYo28PtCPjDV=yEg4VbgrKRb5w@mail.gmail.com>
Message-ID: <CAC2XbFeb-JwfcR2+2duvQhtmCPwkf-ifFBwpqfns0Op3_FNA8w@mail.gmail.com>

Hi Harrissou

On Wed, Jun 7, 2017 at 3:59 PM, DelazJ <delazj at gmail.com> wrote:
> Hi,
> I'm using the new digitizing system to do a work and despite my trials, I
> fail to find how to do some things and have some questions:
>
> - Is the node editor panel gone forever? Or is it hidden, in which case how
> can I enable it?

It is not gone forever, it is just hidden by default. While node tool
is active, you can right-click to get a small menu to open the node
editor. It is done this way because we have eliminated the concept of
having active feature that was limiting edits only to one feature of
the current layer. I am open to suggestions on how to invoke node
editor panel if the current approach is too "hidden".


> - Trying to add a vertex on a existing segment, I double-click the segment
> at the place I'd like the new vertex but nothing seems to happen. And when I
> move the mouse, there is also a (new) vertex being moved. I fail to simply
> add the vertex without moving it (it adds it and catches it, I presume). Am
> I doing something wrong?

You are not doing anything wrong - this is currently not supported.
The assumption was that if you are creating a new vertex, you will
want to immediately place it somewhere as well. It would not be
difficult to add support for a keyboard modifier (shift/ctrl) which
would keep the new vertex at the original line segment. Just
wondering, what is the use case to keep the vertex in the original
position?


> - Click and drag  helps to select many vertices from different features. But
> when I I have some features selected, I think one would expect to have only
> vertices of the selected features. Otherwise, selecting vertex on a common
> boundary becomes a pain, because you neve know which feature has its vertex
> selected.

Hmm this is a good point, however at the same time I would not want
the default behavior to consider only selected features - it could
easily create confusion with users thinking that node tool does not
work while it considers only selected features (which may be somewhere
off screen). Maybe a toggle "only use selected features" somewhere
could help.


> Are there issues/features request I should report in Redmine? Anyone to help
> me find the right ways to do my edits, please?

Sure - feel free to add feature requests for the bits above.

Regards
Martin

From alexander.bruy at gmail.com  Thu Jun  8 02:29:17 2017
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Thu, 8 Jun 2017 12:29:17 +0300
Subject: [QGIS-Developer] Can't find SAGA devel versions after r413c6e5
In-Reply-To: <809b8208-48ef-da60-5fd5-6ef74d886b5e@gwdg.de>
References: <809b8208-48ef-da60-5fd5-6ef74d886b5e@gwdg.de>
Message-ID: <CALuHMPD8_7hb93MNPY74+24h25KMdm4H5jO3u+0asmQMcjzwQw@mail.gmail.com>

Hi Rainer,

2017-06-08 10:24 GMT+03:00 Rainer Hurling <rhurlin at gwdg.de>:
> For some reasons, we don't package our system with different versions of
> SAGA GIS. Recent FreeBSD comes with SAGA GIS version 3.0.0, I am working on
> an update to version 4.1.0.
>
> With your latest updates to QGIS (r413c6e5), newer versions of SAGA GIS than
> 2.3.x are not recognized any more :(
>
> I am familiar with the background, that QGIS processing only garantees to
> work well with the SAGA GIS LTR version. But there was a kind of tacit
> agreement for several years now, that QGIS processing tools also accepted to
> display (and somewhat work with) newer SAGA GIS versions.

Previously QGIS Processing supported multiple SAGA versions, but as SAGA
devs often changed API even between minor versions it was a real pain to
maintain compatibility and provide users with robust and working SAGA inteface.
Because for each change in SAGA API we need not only update algorithms
descriptions but also add some workaronds in the Processing source code.

After release of SAGA LTR we had several long discussions and finally decided
that better to have good support for single SAGA version that multiple partially
broken version. That's why support for all other versions was removed. We also
removed option to choose another SAGA installation, as this makes no sense
now and can lead to confusion in case when user select unsupported SAGA
version.

> Now my request: It would be fine and at least important for FreeBSD users,
> to have the possibility to use SAGA GIS > 2.3.x with QGIS 2.18.9 again.

I'm afrad this is not possible, as we have no resources to keep algorithms
descriptions and, more importantly, source code updated with numerous SAGA
API breaks in every SAGA release.

As an option I can suggest to create altenate SAGA provider plugin which will
support non-LTR SAGA versions.


-- 
Alexander Bruy

From rhurlin at gwdg.de  Thu Jun  8 02:42:37 2017
From: rhurlin at gwdg.de (Rainer Hurling)
Date: Thu, 8 Jun 2017 11:42:37 +0200
Subject: [QGIS-Developer] Can't find SAGA devel versions after r413c6e5
In-Reply-To: <CALuHMPD8_7hb93MNPY74+24h25KMdm4H5jO3u+0asmQMcjzwQw@mail.gmail.com>
References: <809b8208-48ef-da60-5fd5-6ef74d886b5e@gwdg.de>
 <CALuHMPD8_7hb93MNPY74+24h25KMdm4H5jO3u+0asmQMcjzwQw@mail.gmail.com>
Message-ID: <1d7f19c0-f5b0-3a02-f209-d222a819533f@gwdg.de>

Hi Alex,

Thanks for the quick and detailed answer.

Am 08.06.2017 um 11:29 schrieb Alexander Bruy:
> Hi Rainer,
> 
> 2017-06-08 10:24 GMT+03:00 Rainer Hurling <rhurlin at gwdg.de>:
>> For some reasons, we don't package our system with different versions of
>> SAGA GIS. Recent FreeBSD comes with SAGA GIS version 3.0.0, I am working on
>> an update to version 4.1.0.
>>
>> With your latest updates to QGIS (r413c6e5), newer versions of SAGA GIS than
>> 2.3.x are not recognized any more :(
>>
>> I am familiar with the background, that QGIS processing only garantees to
>> work well with the SAGA GIS LTR version. But there was a kind of tacit
>> agreement for several years now, that QGIS processing tools also accepted to
>> display (and somewhat work with) newer SAGA GIS versions.
> 
> Previously QGIS Processing supported multiple SAGA versions, but as SAGA
> devs often changed API even between minor versions it was a real pain to
> maintain compatibility and provide users with robust and working SAGA inteface.
> Because for each change in SAGA API we need not only update algorithms
> descriptions but also add some workaronds in the Processing source code.
> 
> After release of SAGA LTR we had several long discussions and finally decided
> that better to have good support for single SAGA version that multiple partially
> broken version. That's why support for all other versions was removed. We also
> removed option to choose another SAGA installation, as this makes no sense
> now and can lead to confusion in case when user select unsupported SAGA
> version.
> 

In principle I understand this point of view, but it makes it relatively 
difficult to identify the necessary changes for newer SAGA GIS versions.

And as I outlined before, there are constraints on some OS for the 
presence of newer SAGA GIS versions. In the past, the QGIS user was able 
to use most of the SAGA GIS functions, as only some of the functions had 
bigger API changes.

>> Now my request: It would be fine and at least important for FreeBSD users,
>> to have the possibility to use SAGA GIS > 2.3.x with QGIS 2.18.9 again.
> 
> I'm afrad this is not possible, as we have no resources to keep algorithms
> descriptions and, more importantly, source code updated with numerous SAGA
> API breaks in every SAGA release.
> 
> As an option I can suggest to create altenate SAGA provider plugin which will
> support non-LTR SAGA versions.
> 
> 

This would be a very nice option to have such an additional support. A 
provider plugin for (newer) non-LTR SAGA versions could throw a 
warnings, that this SAGA GIS version is not fully supported and the user 
has to expect problems ...

From giovanni.manghi at gmail.com  Thu Jun  8 02:44:08 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Thu, 8 Jun 2017 10:44:08 +0100
Subject: [QGIS-Developer] Exploring the new node tool: questions and
	bugs(?)
Message-ID: <CACfnYnQPSoDddMRRwGuRW3vd_Ki9776RE7qQfXXqck=i0C5EdA@mail.gmail.com>

Hi,

>> - Trying to add a vertex on a existing segment, I double-click the segment
>> at the place I'd like the new vertex but nothing seems to happen. And when I
>> move the mouse, there is also a (new) vertex being moved. I fail to simply
>> add the vertex without moving it (it adds it and catches it, I presume). Am
>> I doing something wrong?
>
> You are not doing anything wrong - this is currently not supported.
> The assumption was that if you are creating a new vertex, you will
> want to immediately place it somewhere as well. It would not be
> difficult to add support for a keyboard modifier (shift/ctrl) which
> would keep the new vertex at the original line segment. Just
> wondering, what is the use case to keep the vertex in the original
> position?


nodes may be used to represent some kind of feature along  line or a
perimeter (eventually to be later extracted as points).

One other use is about changing the shape of the border of two
adjacent parcels: in old node tool you double click and add a node (on
both segments of th two adjacent parcels), then if editing in
"topology" mode you could grab this new node (really two) and move
them to change the shape of the shared borders. But this operation is
often did at a later time, not immediately after adding the new node.
Maybe this is still possible in the new node tool, not tested yet.


cheers

-- G --

From kimaidou at gmail.com  Thu Jun  8 03:09:09 2017
From: kimaidou at gmail.com (kimaidou)
Date: Thu, 8 Jun 2017 12:09:09 +0200
Subject: [QGIS-Developer] Lizmap - "Story map" feature POC with QGIS
 user map data
In-Reply-To: <CAES-DZTF8e7EU_9N6zAnJvDrm8FKpv98SWkPpysVTL3JU2Kc9g@mail.gmail.com>
References: <CAMKXKO5Fm_6fvyGkBDPeh-rvFTkS0_s6GCBTfpDYph13i=41fw@mail.gmail.com>
 <CAES-DZTF8e7EU_9N6zAnJvDrm8FKpv98SWkPpysVTL3JU2Kc9g@mail.gmail.com>
Message-ID: <CAMKXKO53dGSqKc9n5-i-+gEXQoMUv=SZHkoP-9G7hnozETEDdQ@mail.gmail.com>

Thanks Tim !

2017-06-08 8:57 GMT+02:00 Tim Sutton <tim at kartoza.com>:

> Hi
>
> On Tue, Jun 6, 2017 at 5:16 PM, kimaidou <kimaidou at gmail.com> wrote:
>
>> Hi all,
>>
>> I am working on a new feature for upcoming version of Lizmap Web Client,
>> which allows the user
>> * to move from one layer object to the next , and shows:
>> * to see the feature information ( based on Lizmap popup)
>> * to see the geometry of the feature (highlighted in yellow) , optionnaly
>>
>> The editor of the QGIS project will choose :
>> * a coverage layer (same principle as the atlas)
>> * a label field used to fill a combo box from the layer features
>> * a field used to order the layer features (usually the label field)
>> * buttons to move backward/forward, which means to the previous or next
>> feature
>> * a button to start an animation, with an option to set the step duration
>> (5 s by default)
>>
>> Changing the user in the combo box will trigger the move to the
>> corresponding feature
>>
>> I have used QGIS user map data to build a demo
>> https://plugins.qgis.org/community-map/
>> Please tell me if I have the permission to use this data. Obviously, if
>> using this data is not possible, I will shut down the demo !
>>
>
> ​I don't see any problem with this. Thanks for making more cool things for
> the world :-)
>
> Regards
>
> Tim​
>
>
>
>>
>> The link is
>> http://dev.lizmap.3liz.com/index.php/projects/demonstration/
>> qgis_community
>>
>> Since this feature is based on a layer, you can imagine other scenarios
>> of use.
>>
>> Cheers
>>
>> Michaël
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
> ------------------------------------------------------------
> ------------------------------
> ​
>
> Tim Sutton
> Visit http://kartoza.com to find out about open source:
>  * Desktop GIS programming services
>  * Geospatial web development
> * GIS Training
> * Consulting Services
> Skype: timlinux Irc: timlinux on #qgis at freenode.net
> Tim is a member of the QGIS Project Steering Committee
> ------------------------------------------------------------
> -------------------------------
> Kartoza is a merger between Linfiniti and Afrispatial
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170608/e5c2cbd8/attachment.html>

From rhurlin at gwdg.de  Thu Jun  8 03:45:20 2017
From: rhurlin at gwdg.de (Rainer Hurling)
Date: Thu, 8 Jun 2017 12:45:20 +0200
Subject: [QGIS-Developer] Can't find SAGA devel versions after r413c6e5
In-Reply-To: <1d7f19c0-f5b0-3a02-f209-d222a819533f@gwdg.de>
References: <809b8208-48ef-da60-5fd5-6ef74d886b5e@gwdg.de>
 <CALuHMPD8_7hb93MNPY74+24h25KMdm4H5jO3u+0asmQMcjzwQw@mail.gmail.com>
 <1d7f19c0-f5b0-3a02-f209-d222a819533f@gwdg.de>
Message-ID: <944e8226-587e-2551-cc30-0782c4234e58@gwdg.de>

I forgot to mention, that if only FreeBSD users should have the problem 
with newer SAGA GIS versions and not having an LTR version, a local 
patch in the FreeBSD port is also conceivable.

Something like the following patches makes the processing tools for SAGA 
GIS, newer than version 2.3.x, 'functional' again on FreeBSD:


--- python/plugins/processing/algs/saga/SagaUtils.py.orig	2017-06-06 
19:35:06.000000000 +0200
+++ python/plugins/processing/algs/saga/SagaUtils.py	2017-06-08 
10:49:02.387866000 +0200
@@ -26,6 +26,7 @@
  __revision__ = '$Format:%H$'

  import os
+import platform
  import stat
  import subprocess
  import time
@@ -57,7 +58,7 @@

  def findSagaFolder():
      folder = None
-    if isMac():
+    if isMac() or platform.system() == 'FreeBSD':
          testfolder = os.path.join(QgsApplication.prefixPath(), 'bin')
          if os.path.exists(os.path.join(testfolder, 'saga_cmd')):
              folder = testfolder
@@ -82,7 +83,7 @@


  def sagaPath():
-    if not isWindows() and not isMac():
+    if not isWindows() and not isMac() and not platform.system() == 
'FreeBSD':
          return ''

      folder = findSagaFolder()
@@ -101,7 +102,7 @@
          fout.write('set SAGA_MLB=' + sagaPath() + os.sep +
                     'modules' + '\n')
          fout.write('PATH=%PATH%;%SAGA%;%SAGA_MLB%\n')
-    elif isMac():
+    elif isMac()  or platform.system() == 'FreeBSD':
          fout.write('export SAGA_MLB=' + sagaPath() +
                     '/../lib/saga\n')
          fout.write('export PATH=' + sagaPath() + ':$PATH\n')
@@ -130,7 +131,7 @@

      if isWindows():
          commands = [os.path.join(sagaPath(), "saga_cmd.exe"), "-v"]
-    elif isMac():
+    elif isMac() or platform.system() == 'FreeBSD':
          commands = [os.path.join(sagaPath(), "saga_cmd -v")]
      else:
          # for Linux use just one string instead of separated 
parameters as the list
@@ -146,7 +147,7 @@
              stderr=subprocess.STDOUT,
              universal_newlines=True,
          ).stdout
-        if isMac():  # This trick avoids having an uninterrupted system 
call exception if SAGA is not installed
+        if isMac() or platform.system() == 'FreeBSD':  # This trick 
avoids having an uninterrupted system call exception if SAGA is not 
installed
              time.sleep(1)
          try:
              lines = proc.readlines()


--- python/plugins/processing/algs/saga/SagaAlgorithmProvider.py.orig 
2017-06-08 02:16:08.000000000 +0200
+++ python/plugins/processing/algs/saga/SagaAlgorithmProvider.py 
2017-06-08 11:15:09.732518000 +0200
@@ -73,7 +73,7 @@
                                     self.tr('Problem with SAGA 
installation: SAGA was not found or is not correctly installed'))
              return

-        if not version.startswith('2.3.'):
+        if version < '2.3.':
              ProcessingLog.addToLog(ProcessingLog.LOG_ERROR,
                                     self.tr('Problem with SAGA 
installation: unsupported SAGA version found.'))
              return


Am 08.06.2017 um 11:42 schrieb Rainer Hurling:
> Hi Alex,
> 
> Thanks for the quick and detailed answer.
> 
> Am 08.06.2017 um 11:29 schrieb Alexander Bruy:
>> Hi Rainer,
>>
>> 2017-06-08 10:24 GMT+03:00 Rainer Hurling <rhurlin at gwdg.de>:
>>> For some reasons, we don't package our system with different versions of
>>> SAGA GIS. Recent FreeBSD comes with SAGA GIS version 3.0.0, I am 
>>> working on
>>> an update to version 4.1.0.
>>>
>>> With your latest updates to QGIS (r413c6e5), newer versions of SAGA 
>>> GIS than
>>> 2.3.x are not recognized any more :(
>>>
>>> I am familiar with the background, that QGIS processing only 
>>> garantees to
>>> work well with the SAGA GIS LTR version. But there was a kind of tacit
>>> agreement for several years now, that QGIS processing tools also 
>>> accepted to
>>> display (and somewhat work with) newer SAGA GIS versions.
>>
>> Previously QGIS Processing supported multiple SAGA versions, but as SAGA
>> devs often changed API even between minor versions it was a real pain to
>> maintain compatibility and provide users with robust and working SAGA 
>> inteface.
>> Because for each change in SAGA API we need not only update algorithms
>> descriptions but also add some workaronds in the Processing source code.
>>
>> After release of SAGA LTR we had several long discussions and finally 
>> decided
>> that better to have good support for single SAGA version that multiple 
>> partially
>> broken version. That's why support for all other versions was removed. 
>> We also
>> removed option to choose another SAGA installation, as this makes no 
>> sense
>> now and can lead to confusion in case when user select unsupported SAGA
>> version.
>>
> 
> In principle I understand this point of view, but it makes it relatively 
> difficult to identify the necessary changes for newer SAGA GIS versions.
> 
> And as I outlined before, there are constraints on some OS for the 
> presence of newer SAGA GIS versions. In the past, the QGIS user was able 
> to use most of the SAGA GIS functions, as only some of the functions had 
> bigger API changes.
> 
>>> Now my request: It would be fine and at least important for FreeBSD 
>>> users,
>>> to have the possibility to use SAGA GIS > 2.3.x with QGIS 2.18.9 again.
>>
>> I'm afrad this is not possible, as we have no resources to keep 
>> algorithms
>> descriptions and, more importantly, source code updated with numerous 
>> SAGA
>> API breaks in every SAGA release.
>>
>> As an option I can suggest to create altenate SAGA provider plugin 
>> which will
>> support non-LTR SAGA versions.
>>
>>
> 
> This would be a very nice option to have such an additional support. A 
> provider plugin for (newer) non-LTR SAGA versions could throw a 
> warnings, that this SAGA GIS version is not fully supported and the user 
> has to expect problems ...


From a.neumann at carto.net  Thu Jun  8 05:49:22 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Thu, 08 Jun 2017 14:49:22 +0200
Subject: [QGIS-Developer] QGIS 3 migration: issue with projection
Message-ID: <45cb85b69c8187bc20a9cabc7b695a42@carto.net>

Hi, 

I noticed that with the current nightly QGIS 3 builds, that my 2.18
projects open with "no projection" instead of my national projection
(EPSG:2056)  

As a result, the map scale is totally bogus and symbology messed up. 

Am I the only one having this issue? Do you have any idea how this can
be fixed? 

Thanks, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170608/91d16bdc/attachment-0001.html>

From pedrongvenancio at gmail.com  Thu Jun  8 06:14:43 2017
From: pedrongvenancio at gmail.com (=?UTF-8?Q?Pedro_Ven=C3=A2ncio?=)
Date: Thu, 8 Jun 2017 14:14:43 +0100
Subject: [QGIS-Developer] Can't find SAGA devel versions after r413c6e5
In-Reply-To: <944e8226-587e-2551-cc30-0782c4234e58@gwdg.de>
References: <809b8208-48ef-da60-5fd5-6ef74d886b5e@gwdg.de>
 <CALuHMPD8_7hb93MNPY74+24h25KMdm4H5jO3u+0asmQMcjzwQw@mail.gmail.com>
 <1d7f19c0-f5b0-3a02-f209-d222a819533f@gwdg.de>
 <944e8226-587e-2551-cc30-0782c4234e58@gwdg.de>
Message-ID: <CAMCJChsRByKWHMXfLHV-smh0Lh99-E4B1JtPSzgV2XxWG-2soQ@mail.gmail.com>

Hi Rainer,

That is not the case. The problem is that SAGA team changes very often the
sintax of the SAGA modules, even between minor updates, wich causes
problems with SAGA Processing implementation.

A big issue is the creation of models and scripts in Processing, using SAGA
algorithms. With that frequent changes, they become obsolete. For instance,
I've created a set of modules with dozens of operations, that become
unusable twice because of SAGA sintaxe changes. This prevents much people
to create Processing models and scripts, and share them.

The solution discussed and adopted was to support only a LTR version of
SAGA, and make it the default for QGIS 2.18.9+ and QGIS 3.x, so that any
user on any operation system have the same SAGA version, wich ensures that
any model created or shared is fully operational.

By other hand, is what Alexander said, there is no workforce to ensures the
check and update of descritpion files, every time SAGA releases some minor
or major version.

Hope this make sense to you.

The suggestion of Alexander, If I understood correctly, is that the group
of users from FreeBSD can always fork the Processig SAGA, and support newer
versions as a new Processing Plugin.

Best regards,
Pedro Venâncio



2017-06-08 11:45 GMT+01:00 Rainer Hurling <rhurlin at gwdg.de>:

> I forgot to mention, that if only FreeBSD users should have the problem
> with newer SAGA GIS versions and not having an LTR version, a local patch
> in the FreeBSD port is also conceivable.
>
> Something like the following patches makes the processing tools for SAGA
> GIS, newer than version 2.3.x, 'functional' again on FreeBSD:
>
>
> --- python/plugins/processing/algs/saga/SagaUtils.py.orig
>  2017-06-06 19:35:06.000000000 +0200
> +++ python/plugins/processing/algs/saga/SagaUtils.py    2017-06-08
> 10:49:02.387866000 +0200
> @@ -26,6 +26,7 @@
>  __revision__ = '$Format:%H$'
>
>  import os
> +import platform
>  import stat
>  import subprocess
>  import time
> @@ -57,7 +58,7 @@
>
>  def findSagaFolder():
>      folder = None
> -    if isMac():
> +    if isMac() or platform.system() == 'FreeBSD':
>          testfolder = os.path.join(QgsApplication.prefixPath(), 'bin')
>          if os.path.exists(os.path.join(testfolder, 'saga_cmd')):
>              folder = testfolder
> @@ -82,7 +83,7 @@
>
>
>  def sagaPath():
> -    if not isWindows() and not isMac():
> +    if not isWindows() and not isMac() and not platform.system() ==
> 'FreeBSD':
>          return ''
>
>      folder = findSagaFolder()
> @@ -101,7 +102,7 @@
>          fout.write('set SAGA_MLB=' + sagaPath() + os.sep +
>                     'modules' + '\n')
>          fout.write('PATH=%PATH%;%SAGA%;%SAGA_MLB%\n')
> -    elif isMac():
> +    elif isMac()  or platform.system() == 'FreeBSD':
>          fout.write('export SAGA_MLB=' + sagaPath() +
>                     '/../lib/saga\n')
>          fout.write('export PATH=' + sagaPath() + ':$PATH\n')
> @@ -130,7 +131,7 @@
>
>      if isWindows():
>          commands = [os.path.join(sagaPath(), "saga_cmd.exe"), "-v"]
> -    elif isMac():
> +    elif isMac() or platform.system() == 'FreeBSD':
>          commands = [os.path.join(sagaPath(), "saga_cmd -v")]
>      else:
>          # for Linux use just one string instead of separated parameters
> as the list
> @@ -146,7 +147,7 @@
>              stderr=subprocess.STDOUT,
>              universal_newlines=True,
>          ).stdout
> -        if isMac():  # This trick avoids having an uninterrupted system
> call exception if SAGA is not installed
> +        if isMac() or platform.system() == 'FreeBSD':  # This trick
> avoids having an uninterrupted system call exception if SAGA is not
> installed
>              time.sleep(1)
>          try:
>              lines = proc.readlines()
>
>
> --- python/plugins/processing/algs/saga/SagaAlgorithmProvider.py.orig
> 2017-06-08 02:16:08.000000000 +0200
> +++ python/plugins/processing/algs/saga/SagaAlgorithmProvider.py
> 2017-06-08 11:15:09.732518000 +0200
> @@ -73,7 +73,7 @@
>                                     self.tr('Problem with SAGA
> installation: SAGA was not found or is not correctly installed'))
>              return
>
> -        if not version.startswith('2.3.'):
> +        if version < '2.3.':
>              ProcessingLog.addToLog(ProcessingLog.LOG_ERROR,
>                                     self.tr('Problem with SAGA
> installation: unsupported SAGA version found.'))
>              return
>
>
>
> Am 08.06.2017 um 11:42 schrieb Rainer Hurling:
>
>> Hi Alex,
>>
>> Thanks for the quick and detailed answer.
>>
>> Am 08.06.2017 um 11:29 schrieb Alexander Bruy:
>>
>>> Hi Rainer,
>>>
>>> 2017-06-08 10:24 GMT+03:00 Rainer Hurling <rhurlin at gwdg.de>:
>>>
>>>> For some reasons, we don't package our system with different versions of
>>>> SAGA GIS. Recent FreeBSD comes with SAGA GIS version 3.0.0, I am
>>>> working on
>>>> an update to version 4.1.0.
>>>>
>>>> With your latest updates to QGIS (r413c6e5), newer versions of SAGA GIS
>>>> than
>>>> 2.3.x are not recognized any more :(
>>>>
>>>> I am familiar with the background, that QGIS processing only garantees
>>>> to
>>>> work well with the SAGA GIS LTR version. But there was a kind of tacit
>>>> agreement for several years now, that QGIS processing tools also
>>>> accepted to
>>>> display (and somewhat work with) newer SAGA GIS versions.
>>>>
>>>
>>> Previously QGIS Processing supported multiple SAGA versions, but as SAGA
>>> devs often changed API even between minor versions it was a real pain to
>>> maintain compatibility and provide users with robust and working SAGA
>>> inteface.
>>> Because for each change in SAGA API we need not only update algorithms
>>> descriptions but also add some workaronds in the Processing source code.
>>>
>>> After release of SAGA LTR we had several long discussions and finally
>>> decided
>>> that better to have good support for single SAGA version that multiple
>>> partially
>>> broken version. That's why support for all other versions was removed.
>>> We also
>>> removed option to choose another SAGA installation, as this makes no
>>> sense
>>> now and can lead to confusion in case when user select unsupported SAGA
>>> version.
>>>
>>>
>> In principle I understand this point of view, but it makes it relatively
>> difficult to identify the necessary changes for newer SAGA GIS versions.
>>
>> And as I outlined before, there are constraints on some OS for the
>> presence of newer SAGA GIS versions. In the past, the QGIS user was able to
>> use most of the SAGA GIS functions, as only some of the functions had
>> bigger API changes.
>>
>> Now my request: It would be fine and at least important for FreeBSD users,
>>>> to have the possibility to use SAGA GIS > 2.3.x with QGIS 2.18.9 again.
>>>>
>>>
>>> I'm afrad this is not possible, as we have no resources to keep
>>> algorithms
>>> descriptions and, more importantly, source code updated with numerous
>>> SAGA
>>> API breaks in every SAGA release.
>>>
>>> As an option I can suggest to create altenate SAGA provider plugin which
>>> will
>>> support non-LTR SAGA versions.
>>>
>>>
>>>
>> This would be a very nice option to have such an additional support. A
>> provider plugin for (newer) non-LTR SAGA versions could throw a warnings,
>> that this SAGA GIS version is not fully supported and the user has to
>> expect problems ...
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170608/e3e84502/attachment.html>

From a.neumann at carto.net  Thu Jun  8 06:24:21 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Thu, 08 Jun 2017 15:24:21 +0200
Subject: [QGIS-Developer] QGIS 3: feedback on Save As Image / PDF
Message-ID: <2fc0b160796b5f7c38513b6af749ba93@carto.net>

Hi, 

The new Save as Image / PDF function in the project menu in QGIS 3 is
very useful! Thanks for developing it! 

I have, however, a suggestion for improvement: it would be very useful
if the user could interactively select an extent in the map canvas. I
believe such an extent picker widget already exists in the QGIS code
base. I think it is used in the various places where users have to
select an extent, e.g. in the gdal raster clipper tool. 

And even more useful would it be if such an interactive selection could
be restricted to a certain width / height ratio. 

Use case: you want to copy map extents for a presentation. You know that
you export for a 4:3 ratio or 16:9 ratio. Wouldn't it be handy if you
could interactively choose your extent and restrict it to that ratio? It
would save us from the extra step, that I would have to open it in
Gimp/Photoshop and select the extent in there. 

Any thoughts? 

Thanks, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170608/f8846988/attachment.html>

From rhurlin at gwdg.de  Thu Jun  8 06:47:33 2017
From: rhurlin at gwdg.de (Rainer Hurling)
Date: Thu, 8 Jun 2017 15:47:33 +0200
Subject: [QGIS-Developer] Can't find SAGA devel versions after r413c6e5
In-Reply-To: <CAMCJChsRByKWHMXfLHV-smh0Lh99-E4B1JtPSzgV2XxWG-2soQ@mail.gmail.com>
References: <809b8208-48ef-da60-5fd5-6ef74d886b5e@gwdg.de>
 <CALuHMPD8_7hb93MNPY74+24h25KMdm4H5jO3u+0asmQMcjzwQw@mail.gmail.com>
 <1d7f19c0-f5b0-3a02-f209-d222a819533f@gwdg.de>
 <944e8226-587e-2551-cc30-0782c4234e58@gwdg.de>
 <CAMCJChsRByKWHMXfLHV-smh0Lh99-E4B1JtPSzgV2XxWG-2soQ@mail.gmail.com>
Message-ID: <d2e1aaf0-11ea-723e-c7bd-7e4f0282b126@gwdg.de>

Hi Pedro,

Thanks also for your explanations.

Am 08.06.2017 um 15:14 schrieb Pedro Venâncio:
> Hi Rainer,
> 
> That is not the case. The problem is that SAGA team changes very often 
> the sintax of the SAGA modules, even between minor updates, wich causes 
> problems with SAGA Processing implementation.
> 
> A big issue is the creation of models and scripts in Processing, using 
> SAGA algorithms. With that frequent changes, they become obsolete. For 
> instance, I've created a set of modules with dozens of operations, that 
> become unusable twice because of SAGA sintaxe changes. This prevents 
> much people to create Processing models and scripts, and share them.
> 
> The solution discussed and adopted was to support only a LTR version of 
> SAGA, and make it the default for QGIS 2.18.9+ and QGIS 3.x, so that any 
> user on any operation system have the same SAGA version, wich ensures 
> that any model created or shared is fully operational.
> 
> By other hand, is what Alexander said, there is no workforce to ensures 
> the check and update of descritpion files, every time SAGA releases some 
> minor or major version.
> 
> Hope this make sense to you.

Until here, I am with you and as I wrote in my initial mail, I am aware 
of the problems with changing API etc.

My point is, that there are systems without an LTR version of SAGA GIS 
and without an easy possibility for normal users to additionally install 
the LTR version. The users only have a QGIS installation without any 
SAGA GIS processing.

For systems like this (i.e. FreeBSD) it would be nice, if QGIS would 
recognize the presence of a more recent, installed version of SAGA GIS. 
In this case, QGIS could explicitely warn the user about possible API 
breakage and that he/she should expect not every SAGA module to work 
correctly.

> The suggestion of Alexander, If I understood correctly, is that the 
> group of users from FreeBSD can always fork the Processig SAGA, and 
> support newer versions as a new Processing Plugin.

Yes, this could be possible in theory. But most likely, no one with 
adequate knowledge will be found. ATM, it seems to me, that the most 
realistic option for FreeBSD is to add some extra patches into the port, 
which would allow us to use newer SAGA GIS version in a restricted way. 
Many, many of the SAGA GIS tools will work even with newer versions. 
Better than nothing ;)

So, based on some small patches, showed in my previous mail, I will 
allow this behaviour for the FreeBSD port of QGIS.

Thanks again for your explanations.

Greetings from Göttingen in Germany,
Rainer Hurling


> Best regards,
> Pedro Venâncio
> 
> 
> 
> 2017-06-08 11:45 GMT+01:00 Rainer Hurling <rhurlin at gwdg.de 
> <mailto:rhurlin at gwdg.de>>:
> 
>     I forgot to mention, that if only FreeBSD users should have the
>     problem with newer SAGA GIS versions and not having an LTR version,
>     a local patch in the FreeBSD port is also conceivable.
> 
>     Something like the following patches makes the processing tools for
>     SAGA GIS, newer than version 2.3.x, 'functional' again on FreeBSD:
> 
> 
>     --- python/plugins/processing/algs/saga/SagaUtils.py.orig     
>       2017-06-06 19:35:06.000000000 +0200
>     +++ python/plugins/processing/algs/saga/SagaUtils.py    2017-06-08
>     10:49:02.387866000 +0200
>     @@ -26,6 +26,7 @@
>       __revision__ = '$Format:%H$'
> 
>       import os
>     +import platform
>       import stat
>       import subprocess
>       import time
>     @@ -57,7 +58,7 @@
> 
>       def findSagaFolder():
>           folder = None
>     -    if isMac():
>     +    if isMac() or platform.system() == 'FreeBSD':
>               testfolder = os.path.join(QgsApplication.prefixPath(), 'bin')
>               if os.path.exists(os.path.join(testfolder, 'saga_cmd')):
>                   folder = testfolder
>     @@ -82,7 +83,7 @@
> 
> 
>       def sagaPath():
>     -    if not isWindows() and not isMac():
>     +    if not isWindows() and not isMac() and not platform.system() ==
>     'FreeBSD':
>               return ''
> 
>           folder = findSagaFolder()
>     @@ -101,7 +102,7 @@
>               fout.write('set SAGA_MLB=' + sagaPath() + os.sep +
>                          'modules' + '\n')
>               fout.write('PATH=%PATH%;%SAGA%;%SAGA_MLB%\n')
>     -    elif isMac():
>     +    elif isMac()  or platform.system() == 'FreeBSD':
>               fout.write('export SAGA_MLB=' + sagaPath() +
>                          '/../lib/saga\n')
>               fout.write('export PATH=' + sagaPath() + ':$PATH\n')
>     @@ -130,7 +131,7 @@
> 
>           if isWindows():
>               commands = [os.path.join(sagaPath(), "saga_cmd.exe"), "-v"]
>     -    elif isMac():
>     +    elif isMac() or platform.system() == 'FreeBSD':
>               commands = [os.path.join(sagaPath(), "saga_cmd -v")]
>           else:
>               # for Linux use just one string instead of separated
>     parameters as the list
>     @@ -146,7 +147,7 @@
>                   stderr=subprocess.STDOUT,
>                   universal_newlines=True,
>               ).stdout
>     -        if isMac():  # This trick avoids having an uninterrupted
>     system call exception if SAGA is not installed
>     +        if isMac() or platform.system() == 'FreeBSD':  # This trick
>     avoids having an uninterrupted system call exception if SAGA is not
>     installed
>                   time.sleep(1)
>               try:
>                   lines = proc.readlines()
> 
> 
>     ---
>     python/plugins/processing/algs/saga/SagaAlgorithmProvider.py.orig
>     2017-06-08 02:16:08.000000000 +0200
>     +++ python/plugins/processing/algs/saga/SagaAlgorithmProvider.py
>     2017-06-08 11:15:09.732518000 +0200
>     @@ -73,7 +73,7 @@
>     self.tr <http://self.tr>('Problem with SAGA installation: SAGA was
>     not found or is not correctly installed'))
>                   return
> 
>     -        if not version.startswith('2.3.'):
>     +        if version < '2.3.':
>                   ProcessingLog.addToLog(ProcessingLog.LOG_ERROR,
>     self.tr <http://self.tr>('Problem with SAGA installation:
>     unsupported SAGA version found.'))
>                   return
> 
> 
> 
>     Am 08.06.2017 um 11:42 schrieb Rainer Hurling:
> 
>         Hi Alex,
> 
>         Thanks for the quick and detailed answer.
> 
>         Am 08.06.2017 um 11:29 schrieb Alexander Bruy:
> 
>             Hi Rainer,
> 
>             2017-06-08 10:24 GMT+03:00 Rainer Hurling <rhurlin at gwdg.de
>             <mailto:rhurlin at gwdg.de>>:
> 
>                 For some reasons, we don't package our system with
>                 different versions of
>                 SAGA GIS. Recent FreeBSD comes with SAGA GIS version
>                 3.0.0, I am working on
>                 an update to version 4.1.0.
> 
>                 With your latest updates to QGIS (r413c6e5), newer
>                 versions of SAGA GIS than
>                 2.3.x are not recognized any more :(
> 
>                 I am familiar with the background, that QGIS processing
>                 only garantees to
>                 work well with the SAGA GIS LTR version. But there was a
>                 kind of tacit
>                 agreement for several years now, that QGIS processing
>                 tools also accepted to
>                 display (and somewhat work with) newer SAGA GIS versions.
> 
> 
>             Previously QGIS Processing supported multiple SAGA versions,
>             but as SAGA
>             devs often changed API even between minor versions it was a
>             real pain to
>             maintain compatibility and provide users with robust and
>             working SAGA inteface.
>             Because for each change in SAGA API we need not only update
>             algorithms
>             descriptions but also add some workaronds in the Processing
>             source code.
> 
>             After release of SAGA LTR we had several long discussions
>             and finally decided
>             that better to have good support for single SAGA version
>             that multiple partially
>             broken version. That's why support for all other versions
>             was removed. We also
>             removed option to choose another SAGA installation, as this
>             makes no sense
>             now and can lead to confusion in case when user select
>             unsupported SAGA
>             version.
> 
> 
>         In principle I understand this point of view, but it makes it
>         relatively difficult to identify the necessary changes for newer
>         SAGA GIS versions.
> 
>         And as I outlined before, there are constraints on some OS for
>         the presence of newer SAGA GIS versions. In the past, the QGIS
>         user was able to use most of the SAGA GIS functions, as only
>         some of the functions had bigger API changes.
> 
>                 Now my request: It would be fine and at least important
>                 for FreeBSD users,
>                 to have the possibility to use SAGA GIS > 2.3.x with
>                 QGIS 2.18.9 again.
> 
> 
>             I'm afrad this is not possible, as we have no resources to
>             keep algorithms
>             descriptions and, more importantly, source code updated with
>             numerous SAGA
>             API breaks in every SAGA release.
> 
>             As an option I can suggest to create altenate SAGA provider
>             plugin which will
>             support non-LTR SAGA versions.
> 
> 
> 
>         This would be a very nice option to have such an additional
>         support. A provider plugin for (newer) non-LTR SAGA versions
>         could throw a warnings, that this SAGA GIS version is not fully
>         supported and the user has to expect problems ...
> 

From noreply at qgis.org  Thu Jun  8 10:52:11 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 08 Jun 2017 17:52:11 -0000
Subject: [QGIS-Developer] Plugin [678] Multi-distance buffer approval
	notification.
Message-ID: <20170608175211.17126.73756@320558c5528b>


Plugin Multi-distance buffer approval by pcav.
The plugin version "[678] Multi-distance buffer 2.2.1" is now approved
Link: http://plugins.qgis.org/plugins/MultiDistanceBuffer/

From rdmailings at duif.net  Thu Jun  8 13:20:20 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 8 Jun 2017 22:20:20 +0200
Subject: [QGIS-Developer] Exploring the new node tool: questions and
 bugs(?)
In-Reply-To: <CABgOYCdHn+xsv3zWnziDa1_2vRMT1YjHEAVaikcuX3d-6UyM0w@mail.gmail.com>
References: <CAECJsSoDV4AsvjDfEM7wiqH=WYo28PtCPjDV=yEg4VbgrKRb5w@mail.gmail.com>
 <bbd4cf36-d90c-2cd9-0537-faf1c02d28f4@duif.net>
 <CABgOYCdHn+xsv3zWnziDa1_2vRMT1YjHEAVaikcuX3d-6UyM0w@mail.gmail.com>
Message-ID: <65238b99-e3a9-0161-b550-5db48feeb081@duif.net>

Ah, thanks, now it makes more sense.

I've been playing a little with it, some notes from me:

- I have to hover over the outline of a polygon to see the nodes, is
there a special reason to not show the nodes already when I'm hovering
over the inside of a polygon? (maybe use selection-color for it?)
MMm,thinking about this, it is probably a rubberband you use, and that
one has no fill is it? Maybe a good moment to add it )

- when I click a node, it does not change color (only shown bigger red
with me), while if I 'drag' two nodes they become blue, but upon a click
on one of those nodes I lose the clear color notice which nodes/segment
I'm actually dragging. Would it not be more clear to keep showing which
node you are changing?

- it looks like there are also some modifier keys, but I fail to
understand which

- as Harrissou is asking: without a sort of selecting them (or give them
a alternive fill color) how would you be able to distinguish what you
are going to do in case of a shared segment of two bordering polygins?
Some brainwaving:
Is it an idea to work with selections? Like if you select 1 of the
neighbouring polygons, and click on a node, you only will move the node
of selected one. So if you want to move both nodes of both polygons you
should select both polygons first?
Or: if you CLICK you always 'select' (and show it?) own polygon/node.
and if you DRAG you always 'select' tho polygons
(thinking about one layer here.... editing more layers makes it more
complex. But I think by showing selections it would become more clear?

Last feature request:
- if I edit a huge polygon and show the node-panel it would be cool if
the node that I selected to show the nodepanel would be
selected/differently colored AND the table with the coordinates would
jump to THAT node (I think now it seems I'm supposed to read the node-id
from the tooltip and go the the right record with that id?)

Thanks for all this. I'm not an experienced digitizer, so not stuck to
some kind of working yet. But I'm in favour of streamlining digitizing
with ways other 'digitizers' work, be it Esri, AutoCAD, Blender,
Inkscape or Microstation. We all have to move some points, so it is good
to harmonize that workflow...

Regards,

Richard

On 2017-06-08 10:53, Régis Haubourg wrote:
> Hi all,
> the new node tool has an unofficial name : "click-click node tool".
>
> The new behavior is to first click a node to select it and then click
> the new position.
>
> I was also surprised at start, loosing the very common click - drag -
> release workflow was not natural to me, coming from Esri-Mapinfo world
> (a long time ago now).
>
> After using it in Martin's plugin prototype "CAD Node tool" I finally
> got convinced that it is a lot more productive in fact, and allows to
> use all the advanced digitizing options and modifiers.
>
> The node panel is raised on demand using right click, this was
> annoying to always have it before. In latest master, it indeed is
> broken, it just opens and closes immediately.
>
> It's true that the new behavior is more natural to CAD users than GIS
> at start, but I think it's much more productive this way.
>
> Double click is still here to create a node, or you can just click on
> the centerline virtual node that appears when you hover the feature.
> (It's a red cross rubber band)
>
> Moving a segment is like before but still in clic-clic mode, not
> clic-drag-release.
>
> There are also some other improvements asked by some users, and any
> improvement or feedback is welcome:
>
> - add a varying symbol to confirm what snapping type is made (segment
> / node / vertex)
> - add a better batch vertex selection method, allowing to select all
> vertices between two selected vertices
> - allow to have priorities for layer snapping
> - add advanced option to let user explicitly choose which layer and
> feature should be actually snapped to.
>
> I think this change is a heavy new feature that will need to be
> advertised and documented .
> I'm even wondering if we shouldn't even change the node tooltip until
> 3.2 from "node tool" to "node tool  /n new behavior, look check the
> doc!"
>
> Cheers
> Régis

From lbartoletti at tuxfamily.org  Thu Jun  8 13:28:01 2017
From: lbartoletti at tuxfamily.org (L.Bartoletti)
Date: Thu, 8 Jun 2017 22:28:01 +0200
Subject: [QGIS-Developer] MinimumRectangle implementation
In-Reply-To: <18f32017-8d86-68bf-05b1-f58f4db5de41@nmbu.no>
References: <CAK-5bTyrv9irFokR4eUPTtFriRbJhTEPy0q2S+v-y1yLMB-jDw@mail.gmail.com>
 <CAB28AsgrmD81uJD+xGqJukYjf3GYGgEGUrgFps9J65qno+3RxA@mail.gmail.com>
 <18f32017-8d86-68bf-05b1-f58f4db5de41@nmbu.no>
Message-ID: <4895654a-b18e-08a3-491f-e5688599d6e7@tuxfamily.org>

Hello,

Yes, I have implemented this algorithm in python (processing). In my 
memories, my other template was a R source code 
<http://dwoll.de/rexrepos/posts/diagBounding.html>.

Regards.



Le 08.06.2017 à 09:21, Havard Tveite a écrit :
> The QgsGeometry::orientedMinimumBoundingBox seems to implement
> the rotating calipers method.  If it does, it should produce
> the correct minimum bounding rectangle.
> (http://en.wikipedia.org/wiki/Minimum_bounding_box_algorithms)
>
> Håvard
>
> On 08. juni 2017 01:18, Nyall Dawson wrote:
>> On 6 June 2017 at 18:43, Paul Jobling <paul.jobling at gmail.com> wrote:
>>
>>> I am implementing geo in the Kognitio WX2 database using GEOS as a 
>>> backend,
>>> though I am using my own code for many things. One of those things is
>>> ST_MinimumRectangle, which I have implemented as the rectangle with the
>>> smallest area that encloses the geometry. This is different to the
>>> implementation that I see you have recently added, which 
>>> extrapolates from
>>> the MinimumDiameter property.
>>>
>>>
>>>
>>> For example, ST_MinimumRectangle ('POLYGON((1 2, 3 0, 5 2, 3 2, 2 3, 
>>> 1 2))')
>>> has an area of 9.6 (and a perimeter of 12.65) using the MinimumDiameter
>>> implementation, whereas my implementation finds the actual minimum – 
>>> with an
>>> area of 8 (and perimeter of 11.31) - it is POLYGON ((5 2, 3 0, 1 2, 
>>> 3 4, 5
>>> 2)) rather than POLYGON((1.4 3.2, 0.6 0.8, 4.2 -0.4,5 2, 1.4 3.2)).
>>>
>>>
>>>
>>> My question is why has this implementation been decided on – is it 
>>> just that
>>> MimimumDiameter is already present? Or is there some other reason 
>>> due to
>>> some standard?
>>
>> Did you mean to post this to the GEOS mailing lists instead?
>>
>> Anyway, some background from QGIS' perspective. A while ago I was
>> looking for a minimum rect implementation, so ported JTS'
>> implementation over to GEOS. I then exposed this to the QgsGeometry
>> API, but to my suprise found that the results were not ideal. At the
>> time there was some python code in processing which performed a MBR
>> calculation, and I found that the area of rectangles calculated by
>> this python code was smaller then JTS' algorithm. Additionally, I
>> thought it created subjectively 'more aesthetically pleasing'
>> rectangles (when used as atlas feature extents, and also output the
>> angle/width/height of these rectangles (the GEOS implementation
>> doesn't expose this). So I ported the Python code over to c++ as
>> QgsGeometry::orientedMinimumBoundingBox and updated the processing alg
>> to use this c++ method instead. The guts of this algorithm sits in
>> https://github.com/qgis/QGIS/blob/master/src/core/geometry/qgsgeometry.cpp#L890 
>>
>> .
>>
>> Does that clarify?
>>
>> Nyall
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170608/6c37af3b/attachment.html>

From nyall.dawson at gmail.com  Thu Jun  8 18:42:43 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 9 Jun 2017 11:42:43 +1000
Subject: [QGIS-Developer] Exploring the new node tool: questions and
	bugs(?)
In-Reply-To: <CAC2XbFeb-JwfcR2+2duvQhtmCPwkf-ifFBwpqfns0Op3_FNA8w@mail.gmail.com>
References: <CAECJsSoDV4AsvjDfEM7wiqH=WYo28PtCPjDV=yEg4VbgrKRb5w@mail.gmail.com>
 <CAC2XbFeb-JwfcR2+2duvQhtmCPwkf-ifFBwpqfns0Op3_FNA8w@mail.gmail.com>
Message-ID: <CAB28Asg46Y2jfda+v9pyX8YS+W3kqz2KT8=AWGXsA+EGMSjMMQ@mail.gmail.com>

On 8 June 2017 at 18:56, Martin Dobias <wonder.sk at gmail.com> wrote:

>
>> - Click and drag  helps to select many vertices from different features. But
>> when I I have some features selected, I think one would expect to have only
>> vertices of the selected features. Otherwise, selecting vertex on a common
>> boundary becomes a pain, because you neve know which feature has its vertex
>> selected.
>
> Hmm this is a good point, however at the same time I would not want
> the default behavior to consider only selected features - it could
> easily create confusion with users thinking that node tool does not
> work while it considers only selected features (which may be somewhere
> off screen). Maybe a toggle "only use selected features" somewhere
> could help.

Instead of a toggle, could we use some logic like:

- no selection: edit all clicked features
- selection, but no selected features exist where clicked: edit all
clicked features
- selection, where selected features exist where clicked: edit ONLY
these selected features

This way the "only edit selected features" behavior will only kick in
when a selection is in the area being edited. It should avoid the
annoying behavior where a selected feature on the other side of the
map becomes the editing target (move tool should probably use this
approach too!).

Nyall

From noreply at qgis.org  Thu Jun  8 22:48:24 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 09 Jun 2017 05:48:24 -0000
Subject: [QGIS-Developer] Plugin [1227] AMSIMOD Support approval
	notification.
Message-ID: <20170609054824.7104.45971@320558c5528b>


Plugin AMSIMOD Support approval by pcav.
The plugin version "[1227] AMSIMOD Support 0.3 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/amsimod_support/

From cavallini at faunalia.it  Thu Jun  8 23:31:22 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 9 Jun 2017 08:31:22 +0200
Subject: [QGIS-Developer] Exploring the new node tool: questions and
 bugs(?)
In-Reply-To: <65238b99-e3a9-0161-b550-5db48feeb081@duif.net>
References: <CAECJsSoDV4AsvjDfEM7wiqH=WYo28PtCPjDV=yEg4VbgrKRb5w@mail.gmail.com>
 <bbd4cf36-d90c-2cd9-0537-faf1c02d28f4@duif.net>
 <CABgOYCdHn+xsv3zWnziDa1_2vRMT1YjHEAVaikcuX3d-6UyM0w@mail.gmail.com>
 <65238b99-e3a9-0161-b550-5db48feeb081@duif.net>
Message-ID: <a37dea30-9094-b85e-16d3-5c19cf686db6@faunalia.it>

Hi all,

Il 08/06/2017 22:20, Richard Duivenvoorde ha scritto:

> - when I click a node, it does not change color (only shown bigger red
> with me), while if I 'drag' two nodes they become blue, but upon a click
> on one of those nodes I lose the clear color notice which nodes/segment
> I'm actually dragging. Would it not be more clear to keep showing which
> node you are changing?

BTW, wouldn't this be the right time to change the colour scheme? To me
the old one (red for normal, blue for selected, green for errors, pink
for snapped) is non standard and counter-intuitive.
The normal semaphore schema (green for normal, yellow for selected, red
for errors, plus probably orange for snapped) seems better.
All the best, and thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From nyall.dawson at gmail.com  Thu Jun  8 23:54:40 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 9 Jun 2017 16:54:40 +1000
Subject: [QGIS-Developer] QGIS Grant "Add consistency to UI controls"
	complete
Message-ID: <CAB28Asi8sZMDQNcK9Xag5764HJu_y5eOLYk=UTN6MXZA8nv_gg@mail.gmail.com>

Hi all,

Just a quick notice to advise that the work sponsored by the QGIS
grant program on "adding consistency to UI controls" is now complete
and merged into master. The following tasks were done as part of this
work:

- All API regarding transparency/opacity/alpha was standardised to
setOpacity() and opacity(). The methods take a double value between 0
(transparent) and 1 (opaque), keeping consistency with the Qt API.
- A new widget QgsOpacityWidget was created, and is now used
everywhere through the UI where opacity is set. This ensures
consistent behavior and look for opacity controls everywhere.
- Rotation has been standardised in the API and UI, so now rotation is
always applied clockwise. All rotation widgets have been updated so
they accept values from -360 to 360.
- 2.x Projects with labeling using rotation and data defined rotation
are transparently upgrade upon opening in 3.0
- Scale APIs have been made consistent throughout the QGIS API. The
confusing mix of scale denominators vs real scales has been removed,
with everything now operating on scale denominators. The behaviour of
all scale range calls is standardised with a common meaning for
min/max scales (and explicit api documentation regarding this)
- All scale controls now use the standard scale widgets for
consistency across the UI
- Labeling now uses the same definition for min/max scale as the rest
of the UI, and existing projects are transparently upgraded on opening
in 3.0.
- Fixed most outstanding bugs relating to scale usage, including bugs
breaking the rule based scale limits

Thanks to the QGIS PSC and project donors for sponsoring this work and
allowing it to proceed!

Regards,
Nyall

From cavallini at faunalia.it  Fri Jun  9 00:18:51 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 9 Jun 2017 09:18:51 +0200
Subject: [QGIS-Developer] QGIS Grant "Add consistency to UI controls"
 complete
In-Reply-To: <CAB28Asi8sZMDQNcK9Xag5764HJu_y5eOLYk=UTN6MXZA8nv_gg@mail.gmail.com>
References: <CAB28Asi8sZMDQNcK9Xag5764HJu_y5eOLYk=UTN6MXZA8nv_gg@mail.gmail.com>
Message-ID: <80af08d2-2fb3-6e99-9f67-14d8b31d41ba@faunalia.it>

Il 09/06/2017 08:54, Nyall Dawson ha scritto:

> Just a quick notice to advise that the work sponsored by the QGIS
> grant program on "adding consistency to UI controls" is now complete
> and merged into master. The following tasks were done as part of this
> work:

Great stuff, thaks heaps!

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From tim at kartoza.com  Fri Jun  9 00:42:33 2017
From: tim at kartoza.com (Tim Sutton)
Date: Fri, 9 Jun 2017 09:42:33 +0200
Subject: [QGIS-Developer] QGIS Grant "Add consistency to UI controls"
	complete
In-Reply-To: <80af08d2-2fb3-6e99-9f67-14d8b31d41ba@faunalia.it>
References: <CAB28Asi8sZMDQNcK9Xag5764HJu_y5eOLYk=UTN6MXZA8nv_gg@mail.gmail.com>
 <80af08d2-2fb3-6e99-9f67-14d8b31d41ba@faunalia.it>
Message-ID: <CAES-DZQcMaaLvQVCnz+eyyRFbbvp9dqB19+ZyjD5SXbXYL-oYA@mail.gmail.com>

Thanks for the report back and the great work Nyall!

Regards

Tim

On Fri, Jun 9, 2017 at 9:18 AM, Paolo Cavallini <cavallini at faunalia.it>
wrote:

> Il 09/06/2017 08:54, Nyall Dawson ha scritto:
>
> > Just a quick notice to advise that the work sponsored by the QGIS
> > grant program on "adding consistency to UI controls" is now complete
> > and merged into master. The following tasks were done as part of this
> > work:
>
> Great stuff, thaks heaps!
>
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
------------------------------------------------------------------------------------------
​

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
Kartoza is a merger between Linfiniti and Afrispatial
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170609/59ad2e7d/attachment.html>

From alexander.bruy at gmail.com  Fri Jun  9 01:24:35 2017
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Fri, 9 Jun 2017 11:24:35 +0300
Subject: [QGIS-Developer] [otb-developers] qgis-otb-plugin repository
	moved to OTB's github
In-Reply-To: <CANNqv9d25yrbRMV5+gm=xMM+6G=Pcay9y9n4RwmUp2Z-25WXCw@mail.gmail.com>
References: <0909cb49-0d78-4f54-8071-c143c83edb67@googlegroups.com>
 <CAL2wmQeVc-Se2pkeqgiqvH7vii-0KV_5-36-FRJzAuQrSefm4g@mail.gmail.com>
 <5761ac4e-548f-46d2-8db6-fb3d9677921c@googlegroups.com>
 <8febbd9c-800c-403d-b355-b974df8417f7@googlegroups.com>
 <CALuHMPAzf8=v2ntwpjO74sRPf+mrgf840fdU9k9JNDXXv8YY1Q@mail.gmail.com>
 <CANNqv9d25yrbRMV5+gm=xMM+6G=Pcay9y9n4RwmUp2Z-25WXCw@mail.gmail.com>
Message-ID: <CALuHMPCfDWHJ1v6a3svdszYmODHJL32Xt_n-DqRykJ2EE_1MPw@mail.gmail.com>

Hi Rashad,

let's move this discussion to QGIS dev list.

2017-06-08 20:00 GMT+03:00 Rashad Kanavath <mohammedrashadkm at gmail.com>:
> With new improvements in OTB plugin there is no need to update stuff for
> each release. It work same like GRASS GIS.
> the descriptor files will be generated depending on user's OTB version. IT
> will not be inside algs/otb/descriptor/

Seems there is a misunderstanding here. Description files is a pure-Processing
thing, GRASS does not ship any description files, they were created by
Processing
devs and users and updated when necessary.

As I understand, your idea is to move description files to the OTB disctribution
and have some settings in the Processing to point to these description files.
Right?

> BTW, When you said adding new functionality and/or bugfixing will be
> problematic, you mean issues in OTB or the plugin?

I was talking about OTB plugin. For example, if you may found and fix a bug
in the plugin or implemented new feature to support new OTB functionality.
If plugin integrated into QGIS you will be tied to QGIS release cycle.

> The way I see otb plugin is a part of processing plugin and it expect data
> (descriptor file) in a specific format from OTB.
> The correct job of otb is give those data so that processing can use it.
>
> Like GRASS and others, it reads a list of descriptor file and these will be
> provided by OTB not QGIS. When user install a new otb version, descriptor is
> automatically changed with it!
> I hope that takes all the maintenance troubles from QGIS side.
>
> Finally, if we were able to remove the descriptor folder and gives a plugin
> code (OTBAlgorithm, OTBAlgorithmProvider, OTBUtils)
> which allows users to use any version of OTB package, that will be
> acceptable right?
>
> And OTB devs will be able to test OTB for compatibility with QGIS.

> Do you know about next QGIS release date and version?

Next QGIS version will be 3.0 and according to the current roadmap [0]
it is expected in the end of September

[0] http://qgis.osgeo.org/en/site/getinvolved/development/roadmap.html

-- 
Alexander Bruy

From rdmailings at duif.net  Fri Jun  9 01:32:32 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 9 Jun 2017 10:32:32 +0200
Subject: [QGIS-Developer] Exploring the new node tool: questions and
 bugs(?)
In-Reply-To: <CAB28Asg46Y2jfda+v9pyX8YS+W3kqz2KT8=AWGXsA+EGMSjMMQ@mail.gmail.com>
References: <CAECJsSoDV4AsvjDfEM7wiqH=WYo28PtCPjDV=yEg4VbgrKRb5w@mail.gmail.com>
 <CAC2XbFeb-JwfcR2+2duvQhtmCPwkf-ifFBwpqfns0Op3_FNA8w@mail.gmail.com>
 <CAB28Asg46Y2jfda+v9pyX8YS+W3kqz2KT8=AWGXsA+EGMSjMMQ@mail.gmail.com>
Message-ID: <bfc5e098-8c02-f89f-36cf-c9b474d881f2@duif.net>

On 09-06-17 03:42, Nyall Dawson wrote:
> Instead of a toggle, could we use some logic like:
> 
> - no selection: edit all clicked features
> - selection, but no selected features exist where clicked: edit all
> clicked features
> - selection, where selected features exist where clicked: edit ONLY
> these selected features
> 
> This way the "only edit selected features" behavior will only kick in
> when a selection is in the area being edited. It should avoid the
> annoying behavior where a selected feature on the other side of the
> map becomes the editing target (move tool should probably use this
> approach too!).

I'm not a digitizer guy, so I'm ok with this idea, although also a
little afraid it is a little too much 'magic' going on. Would it be a
lot of work to implement and test it in the wild?

What do other tools do (looking at users of Illustrator, Esri, AutoCAD
etc). As said earlier I think we should conform somewhat to known ways
of working...

Regards,

Richard

From regis.haubourg at gmail.com  Fri Jun  9 01:56:02 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Fri, 9 Jun 2017 10:56:02 +0200
Subject: [QGIS-Developer] Exploring the new node tool: questions and
	bugs(?)
In-Reply-To: <a37dea30-9094-b85e-16d3-5c19cf686db6@faunalia.it>
References: <CAECJsSoDV4AsvjDfEM7wiqH=WYo28PtCPjDV=yEg4VbgrKRb5w@mail.gmail.com>
 <bbd4cf36-d90c-2cd9-0537-faf1c02d28f4@duif.net>
 <CABgOYCdHn+xsv3zWnziDa1_2vRMT1YjHEAVaikcuX3d-6UyM0w@mail.gmail.com>
 <65238b99-e3a9-0161-b550-5db48feeb081@duif.net>
 <a37dea30-9094-b85e-16d3-5c19cf686db6@faunalia.it>
Message-ID: <CABgOYCciuV_2QJ7NOeZ+4cuyDYuutm6Mnv82pDQWM+U1nSrC9g@mail.gmail.com>

2017-06-09 8:31 GMT+02:00 Paolo Cavallini <cavallini at faunalia.it>:

>
>
> BTW, wouldn't this be the right time to change the colour scheme? To me
> the old one (red for normal, blue for selected, green for errors, pink
> for snapped) is non standard and counter-intuitive.
> The normal semaphore schema (green for normal, yellow for selected, red
> for errors, plus probably orange for snapped) seems better.
>

Hi,
green for normal and red for errors  seem good to me.
Yellow for selected won't play nicely with underlying selected yellow
features. ArcGIS is set to blue, I would stick to blue.
pink for snapped works for me, and orange is probably too close to red for
 colorblind people, but this might not be a problem if we use different
symbol types.

Régis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170609/f4b0c3a2/attachment.html>

From kimaidou at gmail.com  Fri Jun  9 03:28:26 2017
From: kimaidou at gmail.com (kimaidou)
Date: Fri, 9 Jun 2017 12:28:26 +0200
Subject: [QGIS-Developer] QGIS Grant "Add consistency to UI controls"
	complete
In-Reply-To: <CAES-DZQcMaaLvQVCnz+eyyRFbbvp9dqB19+ZyjD5SXbXYL-oYA@mail.gmail.com>
References: <CAB28Asi8sZMDQNcK9Xag5764HJu_y5eOLYk=UTN6MXZA8nv_gg@mail.gmail.com>
 <80af08d2-2fb3-6e99-9f67-14d8b31d41ba@faunalia.it>
 <CAES-DZQcMaaLvQVCnz+eyyRFbbvp9dqB19+ZyjD5SXbXYL-oYA@mail.gmail.com>
Message-ID: <CAMKXKO5+euCdjU7TtPhn2fNpbE8xAN0Pm+B64-jHvMaaCpxk0w@mail.gmail.com>

Thanks a lot ! No more confusion with  N or 1/N scales definition !

2017-06-09 9:42 GMT+02:00 Tim Sutton <tim at kartoza.com>:

> Thanks for the report back and the great work Nyall!
>
> Regards
>
> Tim
>
> On Fri, Jun 9, 2017 at 9:18 AM, Paolo Cavallini <cavallini at faunalia.it>
> wrote:
>
>> Il 09/06/2017 08:54, Nyall Dawson ha scritto:
>>
>> > Just a quick notice to advise that the work sponsored by the QGIS
>> > grant program on "adding consistency to UI controls" is now complete
>> > and merged into master. The following tasks were done as part of this
>> > work:
>>
>> Great stuff, thaks heaps!
>>
>> --
>> Paolo Cavallini - www.faunalia.eu
>> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
>> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
> ------------------------------------------------------------
> ------------------------------
> ​
>
> Tim Sutton
> Visit http://kartoza.com to find out about open source:
>  * Desktop GIS programming services
>  * Geospatial web development
> * GIS Training
> * Consulting Services
> Skype: timlinux Irc: timlinux on #qgis at freenode.net
> Tim is a member of the QGIS Project Steering Committee
> ------------------------------------------------------------
> -------------------------------
> Kartoza is a merger between Linfiniti and Afrispatial
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170609/59cca40b/attachment-0001.html>

From johnrobot at gmail.com  Fri Jun  9 04:56:41 2017
From: johnrobot at gmail.com (johnrobot)
Date: Fri, 9 Jun 2017 04:56:41 -0700 (MST)
Subject: [QGIS-Developer]  Parallell processing, OpenCL
Message-ID: <1497009401030-5323644.post@n6.nabble.com>

Where does QGIS stand on supporting parallel processing/OpenCL/CUDA? About a
year ago, I opened a ticket about using OpenCL/CUDA in QGIS,
https://issues.qgis.org/issues/14680, but it was closed almost immediately.
The suggestion was to solve this outside of QGIS. Is that really all there
is to it? Is there nothing that can be done in QGIS to improve the
situation? Running on a single CPU core for most cases is starting to seem a
bit out of date.

In this example, QGIS seems to be many hours slower than Manifold Radian,
http://www.georeference.org/forum/t136609.41 and https://www.mapd.com/
promises “leverages the parallelism of GPUs to achieve orders-of-magnitude
speedups over CPU solutions, powering exploration of big datasets with near
zero-latency”. That speed would be a great addition to QGIS. If I see a
funding request or a grant proposal in this direction, I will definitely
support it.

Regards,
Magnus




--
View this message in context: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Parallell-processing-OpenCL-tp5323644.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From noreply at qgis.org  Fri Jun  9 08:43:26 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 09 Jun 2017 15:43:26 -0000
Subject: [QGIS-Developer] Plugin [1193] Shape Tools approval notification.
Message-ID: <20170609154326.6262.7948@320558c5528b>


Plugin Shape Tools approval by pcav.
The plugin version "[1193] Shape Tools 0.4.1" is now approved
Link: http://plugins.qgis.org/plugins/shapetools/

From adenaculture at gmail.com  Fri Jun  9 09:30:20 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Fri, 9 Jun 2017 12:30:20 -0400
Subject: [QGIS-Developer] Geodesic Measure Tool With Bearing Information
Message-ID: <CABPxTToH+UU2aC9jG_KjY-RLmpk5-Qh63KJC=zwVNmthrNQA8A@mail.gmail.com>

Several weeks ago I had proposed a geodesic measure tool that also includes
the bearing from point A to B and bearing from B to A. Nyall suggested that
this capability be added to the QGIS measure tool. The question is would
you want this with the QGIS measure tool or should it be a separate plugin?
The changes would be as follows:

1. Where the current measure tool has 'Segments' there would be two more
columns with 'Bearing to' and 'Bearing from'.

2. I would like to see a check box or selection widget of some sort that
chooses between using Geodesic math or the current method of calculating
the distances which I am still unsure on how it is doing its calculations.

Right now it could use the Vincinty algorithms in QGIS to calculate the
distances, but eventually I would like to see the geographiclib algorithms
used.

If this is of interest then I will attempt to get a QGIS development
environment running to help make the changes to the core measure tool;
otherwise, I will just create a plugin to do this. If I create a plugin I
will use the geographiclib python library to do the calculations.

Thoughts?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170609/8a9d3f1d/attachment.html>

From cavallini at faunalia.it  Fri Jun  9 09:46:09 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 9 Jun 2017 18:46:09 +0200
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
Message-ID: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>

Hi all,
I did some testing of new Processing commands, on a freshly compiled QGIS.

* Aspect throws an error:

{'INPUT_LAYER': <qgis._core.QgsRasterLayer object at 0x7fd70c597558>,
'OUTPUT_LAYER': <qgis._core.QgsProcessingOutputLayerDefinition object at
0x7fd70c597678>, 'Z_FACTOR': 1.0}
Traceback (most recent call last):
File
"/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/gui/Postprocessing.py",
line 70, in handleAlgorithmResults
dataobjects.load(l, name, alg.crs,
AttributeError: 'Aspect' object has no attribute 'crs'

the same raster works fine with 2.x

* barplot does not return a result (result viewer is empty)

{'INPUT': <qgis._core.QgsProcessingFeatureSourceDefinition object at
0x7fd71ef1c1f8>, 'OUTPUT':
<qgis._core.QgsProcessingOutputLayerDefinition object at
0x7fd71ef1c288>, 'VALUE_FIELD': 'POP1961', 'NAME_FIELD': 'PROVINCIA'}

* both frequency analysis and Number of unique values in classes return:

This algorithm cannot be run :-(
This script has a syntax errors. Problem with line: ##Fields=Field Input

* keep n biggest parts:

This script has a syntax errors. Problem with line: ##To_keep=number 1

* basic statistics for fields:

Traceback (most recent call last):
File
"/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/algs/qgis/BasicStatistics.py",
line 152, in processAlgorithm
self.createHTML(output_file, data)
File
"/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/algs/qgis/BasicStatistics.py",
line 265, in createHTML
with codecs.open(outputFile, 'w', encoding='utf-8') as f:
File "/usr/lib/python3.5/codecs.py", line 895, in open
file = builtins.open(filename, mode, buffering)
FileNotFoundError: [Errno 2] File o directory non esistente: ''

* buffer:
  * rasters appear in the list of layers, but no result nor error is
given when chosen
  * for vector polygons, a new layer is created, but geometries are
unchanged (no buffer)

* there are two QGIS entries (I imagine one Py and one C++), confusing
for the user

* clip, check validity, polygon extent, boundary, bounding boxes,
centroids, add field, add autoincremental field, delete field seem to be
all working fine.

I know it's very early, please let me know if I better stop testing.

All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From giovanni.manghi at gmail.com  Fri Jun  9 13:46:28 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Fri, 9 Jun 2017 21:46:28 +0100
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
Message-ID: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>

> * Aspect throws an error:


is this GDAL's aspect?
is expected that -for example- all the tools, even not QGIS native
ones to be somehow fixed in processing/QGIS3 because of the overhaul
that is going on? If yes this is also true for Processing plugins that
make uses of external programs like ogr2ogr, circuitscape and many
other examples?

cheers

-- G --

From nyall.dawson at gmail.com  Fri Jun  9 16:25:15 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 10 Jun 2017 09:25:15 +1000
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
References: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
Message-ID: <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>

On 10 June 2017 at 06:46, Giovanni Manghi <giovanni.manghi at gmail.com> wrote:
>> * Aspect throws an error:
>
>
> is this GDAL's aspect?

No - native QGIS one. None of the GDAL/OGR provider is ported to the
new API yet and is not available in nightly builds.

> is expected that -for example- all the tools, even not QGIS native
> ones to be somehow fixed in processing/QGIS3 because of the overhaul
> that is going on?

Native, GDAL, grass and saga will be ported. It's low on my priority
list right now though, so if anyone wants to step forward and port
these now then it'd be much appreciated. My priorities are:

1. bringing back complete functionality in the run alg dialog
2. batch mode
3. scripts
4. modeler
5. resurrecting remaining algs
6. adding new stuff to existing algs (dynamic parameters, porting to c++, etc)

>  If yes this is also true for Processing plugins that
> make uses of external programs like ogr2ogr, circuitscape and many
> other examples?

No - processing  plugin maintainers are responsible for porting their
own code to 3.0, just like all other plugin maintainers.


We probably need to bring up a discussion sometime about how to handle
user's migrations to processing 3.0. As I see the situation:

- we have had some algs which were available in 2.x removed. This
breaks existing models which used those algorithms.
- we have a bunch of "duplicate" native algs, some of which have been
"deprecated" in 3.0. Deprecation just hides them from the toolbox - it
doesn't break existing models. This is a HUGE amount of baggage to
carry around and maintain, for little benefit.
- user scripts will be broken, because they use the old API
- the remaining algs still need a lot of cleanup. We have a lot of
duplicate functionality spread across the QGIS algs, which would be
good to address for 3.0

I'd like to raise the possibility that we break compatibility with 2.x
models in 3.0, and require that users re-create their models using the
new set of available algorithms. I personally think this is acceptable
to do, given that:

- 3.0 is a major release. Some changes to user workflows and existing
projects are expected. Better to make the break now then in 3.2/other
future 3.x releases.
- It can be installed side-by-side with 2.x, allowing users to open
existing models in 2.x and step by step recreate their models in 3.0
world.
- Any scripts inside models will be broken and need to be updated
anyway (due to new PyQGIS API in 3.0 + python3 + Qt5 - there's no way
to automatically port these)

Nyall

From giovanni.manghi at gmail.com  Fri Jun  9 17:05:18 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Sat, 10 Jun 2017 01:05:18 +0100
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
References: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
 <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
Message-ID: <CACfnYnTJBff1Db-Hq5vR1gWAQzcfW_4WZYmcbNU=fugMMdwGug@mail.gmail.com>

Hi Nyall,

On Sat, Jun 10, 2017 at 12:25 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> On 10 June 2017 at 06:46, Giovanni Manghi <giovanni.manghi at gmail.com> wrote:
>>> * Aspect throws an error:
>>
>>
>> is this GDAL's aspect?
>
> No - native QGIS one. None of the GDAL/OGR provider is ported to the
> new API yet and is not available in nightly builds.

ok



>
>> is expected that -for example- all the tools, even not QGIS native
>> ones to be somehow fixed in processing/QGIS3 because of the overhaul
>> that is going on?
>
> Native, GDAL, grass and saga will be ported. It's low on my priority
> list right now though, so if anyone wants to step forward and port
> these now then it'd be much appreciated. My priorities are:
>

I could help with gdal/ogr ones





>>  If yes this is also true for Processing plugins that
>> make uses of external programs like ogr2ogr, circuitscape and many
>> other examples?
>
> No - processing  plugin maintainers are responsible for porting their
> own code to 3.0, just like all other plugin maintainers.


sure, that wasn't my question, but never mind I got it.



> - we have had some algs which were available in 2.x removed. This
> breaks existing models which used those algorithms.


there is a list?





> We have a lot of
> duplicate functionality spread across the QGIS algs, which would be
> good to address for 3.0

true, is also true that some redundancy has helped a lot in the past.
For example the geoprocessing tools based on ogr2ogr and spatial
queries (that I plan to expand
since a long time now), in several cases have been proven faster and
more reliable than native ones.
If they are not welcome in QGIS3 no problem, I can make a Processing
plugin out of them, I'm sure
it will be anyway preferred to native tools that frequently just
return the wrong result (see several tickets
on unions, intersections, differences and the alike).

cheers!

-- G --

From cavallini at faunalia.it  Sat Jun 10 01:09:35 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 10 Jun 2017 10:09:35 +0200
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
References: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
 <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
Message-ID: <b1d0f21b-c470-a386-7b6f-5fa15ad5de25@faunalia.it>

Hi all,

Il 10/06/2017 01:25, Nyall Dawson ha scritto:

> No - native QGIS one. None of the GDAL/OGR provider is ported to the
> new API yet and is not available in nightly builds.

so it *should* work, right? should I keep on testing, reporting here or
on the PR, or?

> Native, GDAL, grass and saga will be ported. It's low on my priority
> list right now though, so if anyone wants to step forward and port
> these now then it'd be much appreciated. My priorities are:
> 
> 1. bringing back complete functionality in the run alg dialog
> 2. batch mode
> 3. scripts
> 4. modeler
> 5. resurrecting remaining algs
> 6. adding new stuff to existing algs (dynamic parameters, porting to c++, etc)

thanks for letting us know. IMHO we cannot ship Q3 without a full set of
algs (including rasters). Is anyone planning to help porting additional
algs?

> We probably need to bring up a discussion sometime about how to handle
> user's migrations to processing 3.0. As I see the situation:
> 
> - we have had some algs which were available in 2.x removed. This
> breaks existing models which used those algorithms.
> - we have a bunch of "duplicate" native algs, some of which have been
> "deprecated" in 3.0. Deprecation just hides them from the toolbox - it
> doesn't break existing models. This is a HUGE amount of baggage to
> carry around and maintain, for little benefit.
> - user scripts will be broken, because they use the old API
> - the remaining algs still need a lot of cleanup. We have a lot of
> duplicate functionality spread across the QGIS algs, which would be
> good to address for 3.0

I agree in removing duplication, but special care should be given to
reliability of the algs, and to keep the full set of options. As
Giovanni correctly pointed out, until now having several alternatives
was the only practical way of completing many tasks, given the frequent
breakages of specific modules, and the lack of important options in core
ones.

> I'd like to raise the possibility that we break compatibility with 2.x
> models in 3.0, and require that users re-create their models using the
> new set of available algorithms. I personally think this is acceptable
> to do, given that:

agreed fully.

All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From nyall.dawson at gmail.com  Sat Jun 10 01:26:37 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 10 Jun 2017 18:26:37 +1000
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CACfnYnTJBff1Db-Hq5vR1gWAQzcfW_4WZYmcbNU=fugMMdwGug@mail.gmail.com>
References: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
 <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
 <CACfnYnTJBff1Db-Hq5vR1gWAQzcfW_4WZYmcbNU=fugMMdwGug@mail.gmail.com>
Message-ID: <CAB28Asg+pBniKnzTY9NcVvznd8fsYORSW--6QjvcTw8vZXRVtQ@mail.gmail.com>

On 10 June 2017 at 10:05, Giovanni Manghi <giovanni.manghi at gmail.com> wrote:
> Hi Nyall,
>
>> Native, GDAL, grass and saga will be ported. It's low on my priority
>> list right now though, so if anyone wants to step forward and port
>> these now then it'd be much appreciated. My priorities are:
>>
>
> I could help with gdal/ogr ones

Thanks - that'd be much appreciated! I'll post a public message on
this list when I consider it's time for people to start helping out
with the alg porting. For now, I think it's better if I fix a few more
known regressions first so that the porters aren't bumping into these
bugs.

I'll write up a bit of a guide too.

>> - we have had some algs which were available in 2.x removed. This
>> breaks existing models which used those algorithms.
>
> there is a list?

I'd have to trawl back through the git history to find it. From memory
it may have been something about split or dissolve.


>> We have a lot of
>> duplicate functionality spread across the QGIS algs, which would be
>> good to address for 3.0
>
> true, is also true that some redundancy has helped a lot in the past.
> For example the geoprocessing tools based on ogr2ogr and spatial
> queries (that I plan to expand
> since a long time now), in several cases have been proven faster and
> more reliable than native ones.
> If they are not welcome in QGIS3 no problem, I can make a Processing
> plugin out of them, I'm sure

Just to clarify - I'm not referring to duplicate functionality across
providers, but rather duplicate functionality inside the QGIS
provider. For instance, there's an alg "Polygon from layer extent".
This alg has an option "Calculate extent for each feature separately",
which is redundant given that there's a dedicated alg "bounding boxes"
which does exactly this. There's lots of this kind of duplicate
functionality as a result of the organic nature of the growth in qgis
algorithms, which I think should be cleaned up to both reduce
redundant code and also make processing more usable and algorithms
more discoverable.

I'm strongly in favour of the duplicated functionality in algorithms
from *different* providers, and see the obvious benefits there.

> it will be anyway preferred to native tools that frequently just
> return the wrong result (see several tickets
> on unions, intersections, differences and the alike).

Our (hopefully friendly!) rivalry on this point continues :) I think I
can win you over for 3.0 when we widely rollout the massive benefits
which are possible only in native algs, such as the support for
dynamic parameters. But we'll see....

But on the topic of the incorrect unions/intersections/etc, I agree
this is harmful and bad for QGIS. Perhaps this should be a focus in
future pre-release bug fixing rounds?

Nyall

From nyall.dawson at gmail.com  Sat Jun 10 01:28:18 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 10 Jun 2017 18:28:18 +1000
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <b1d0f21b-c470-a386-7b6f-5fa15ad5de25@faunalia.it>
References: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
 <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
 <b1d0f21b-c470-a386-7b6f-5fa15ad5de25@faunalia.it>
Message-ID: <CAB28AshgVoNikaxbkuh8rq_GG0XZdNXZc=2MR_OxdRcofGkW2A@mail.gmail.com>

On 10 June 2017 at 18:09, Paolo Cavallini <cavallini at faunalia.it> wrote:
> Hi all,
>
> Il 10/06/2017 01:25, Nyall Dawson ha scritto:
>
>> No - native QGIS one. None of the GDAL/OGR provider is ported to the
>> new API yet and is not available in nightly builds.
>
> so it *should* work, right? should I keep on testing, reporting here or
> on the PR, or?

It should be working - the unit test is passing so it looks like
there's some breakage in the gui. I'll look into it next week.

I'll push some commits early next week to hide some of the known
broken algs, so that it should be safe to test and provide feedback on
all the visible ones. It's certainly appreciated!

Nyall

From cavallini at faunalia.it  Sat Jun 10 01:29:49 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 10 Jun 2017 10:29:49 +0200
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CAB28AshgVoNikaxbkuh8rq_GG0XZdNXZc=2MR_OxdRcofGkW2A@mail.gmail.com>
References: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
 <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
 <b1d0f21b-c470-a386-7b6f-5fa15ad5de25@faunalia.it>
 <CAB28AshgVoNikaxbkuh8rq_GG0XZdNXZc=2MR_OxdRcofGkW2A@mail.gmail.com>
Message-ID: <abf3fc0f-2ee3-8db7-b86d-c6260d8d2b4d@faunalia.it>

Il 10/06/2017 10:28, Nyall Dawson ha scritto:

> I'll push some commits early next week to hide some of the known
> broken algs, so that it should be safe to test and provide feedback on
> all the visible ones. It's certainly appreciated!

fine, so I'll keep on bothering :)
is a message on the list OK, or we risk to miss too much stuff?
thanks a lot
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From noreply at qgis.org  Sat Jun 10 01:36:00 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 10 Jun 2017 08:36:00 -0000
Subject: [QGIS-Developer] Plugin [1230] Vector Tiles Reader approval
	notification.
Message-ID: <20170610083600.6262.49042@320558c5528b>


Plugin Vector Tiles Reader approval by pcav.
The plugin version "[1230] Vector Tiles Reader 0.14.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/vector_tiles_reader/

From nyall.dawson at gmail.com  Sat Jun 10 05:11:21 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 10 Jun 2017 22:11:21 +1000
Subject: [QGIS-Developer] Postgis loading using COPY instead of INSERTS?
In-Reply-To: <1495177470334-5321038.post@n6.nabble.com>
References: <CABgOYCf5viP2cV1bhnUPD=TgcBBOcGPA_W-4Ego1MhhYN1aH5g@mail.gmail.com>
 <1495177470334-5321038.post@n6.nabble.com>
Message-ID: <CAB28AshRArLh6W-QLSoYXV85WP8sHEWtHQ=BfM1QdtDdW8sUYg@mail.gmail.com>

On 19 May 2017 at 17:04, Régis Haubourg <regis.haubourg at gmail.com> wrote:
> Forwarding Nyall tips, might be usefull for others
>
>> I tested drag and drop in browser and dbmanager (in 2.18.7 and master) and
>> couldn't find anything about that in the issues or the code base.
>
> Both of these codepaths use QgsVectorLayerExporter, which batches
> calls to QgsVectorDataProvider::addFeatures in groups of 200 features.
> So there's definitely the potential for a good speed bump here by
> moving to the COPY command.
>
>> Did I miss something? Is there someone working in that area?
>
> I don't think so. The tricky bit would be handling the "RETURNING"
> part of the INSERT command, which is used to update the add features
> with their new feature IDs/primary keys. I'm not sure that's possible
> using a COPY command.

I've been thinking here...

I think it may be worthwhile to add a "flags" argument to the vector
data provider addFeature(s) methods (i.e. add it to the base class
methods in QgsFeatureSink). Initially we could have a single available
flag - something like "SkipFidUpdates". If set, providers could then
choose to optimise the way they add features to the backend store
given that the updated feature ids aren't required. We could then
safely use COPY in the postgres provider when this flag is set.

I'd estimate 90+% of the time we are bulk adding features we don't
care about the updated feature ids, and it's only when adding small
amounts of features that this updated id is used. Definitely for
things like QgsVectorLayerExporter it's not required, so we'd get the
COPY speed boost used.

Thoughts?
Nyall

From nyall.dawson at gmail.com  Sat Jun 10 05:12:52 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 10 Jun 2017 22:12:52 +1000
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CAB28Asg+pBniKnzTY9NcVvznd8fsYORSW--6QjvcTw8vZXRVtQ@mail.gmail.com>
References: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
 <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
 <CACfnYnTJBff1Db-Hq5vR1gWAQzcfW_4WZYmcbNU=fugMMdwGug@mail.gmail.com>
 <CAB28Asg+pBniKnzTY9NcVvznd8fsYORSW--6QjvcTw8vZXRVtQ@mail.gmail.com>
Message-ID: <CAB28Asjf-FvqKboxcF=M9TLTcawj8MtifANprYaw9dxic1=KwQ@mail.gmail.com>

On 10 June 2017 at 18:26, Nyall Dawson <nyall.dawson at gmail.com> wrote:

>
>> it will be anyway preferred to native tools that frequently just
>> return the wrong result (see several tickets
>> on unions, intersections, differences and the alike).
>
> Our (hopefully friendly!) rivalry on this point continues :) I think I
> can win you over for 3.0 when we widely rollout the massive benefits
> which are possible only in native algs, such as the support for
> dynamic parameters. But we'll see....
>

By the way - I'd love to see you re-run your earlier benchtests after
of native vs non-native algs after
https://github.com/qgis/QGIS/pull/4707 is merged! For me that PR makes
a ridiculously huge improvement in using processing with memory
layers.

Nyall

From matthias at opengis.ch  Sat Jun 10 05:17:21 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Sat, 10 Jun 2017 14:17:21 +0200
Subject: [QGIS-Developer] Postgis loading using COPY instead of INSERTS?
In-Reply-To: <CAB28AshRArLh6W-QLSoYXV85WP8sHEWtHQ=BfM1QdtDdW8sUYg@mail.gmail.com>
References: <CABgOYCf5viP2cV1bhnUPD=TgcBBOcGPA_W-4Ego1MhhYN1aH5g@mail.gmail.com>
 <1495177470334-5321038.post@n6.nabble.com>
 <CAB28AshRArLh6W-QLSoYXV85WP8sHEWtHQ=BfM1QdtDdW8sUYg@mail.gmail.com>
Message-ID: <0f2aa450-761b-4de5-b677-79e08fd551f5@opengis.ch>

On 6/10/17 2:11 PM, Nyall Dawson wrote:

> On 19 May 2017 at 17:04, Régis Haubourg <regis.haubourg at gmail.com> wrote:
>> Forwarding Nyall tips, might be usefull for others
>>
>>> I tested drag and drop in browser and dbmanager (in 2.18.7 and master) and
>>> couldn't find anything about that in the issues or the code base.
>> Both of these codepaths use QgsVectorLayerExporter, which batches
>> calls to QgsVectorDataProvider::addFeatures in groups of 200 features.
>> So there's definitely the potential for a good speed bump here by
>> moving to the COPY command.
>>
>>> Did I miss something? Is there someone working in that area?
>> I don't think so. The tricky bit would be handling the "RETURNING"
>> part of the INSERT command, which is used to update the add features
>> with their new feature IDs/primary keys. I'm not sure that's possible
>> using a COPY command.
> I've been thinking here...
>
> I think it may be worthwhile to add a "flags" argument to the vector
> data provider addFeature(s) methods (i.e. add it to the base class
> methods in QgsFeatureSink). Initially we could have a single available
> flag - something like "SkipFidUpdates". If set, providers could then
> choose to optimise the way they add features to the backend store
> given that the updated feature ids aren't required. We could then
> safely use COPY in the postgres provider when this flag is set.
>
> I'd estimate 90+% of the time we are bulk adding features we don't
> care about the updated feature ids, and it's only when adding small
> amounts of features that this updated id is used. Definitely for
> things like QgsVectorLayerExporter it's not required, so we'd get the
> COPY speed boost used.
>
> Thoughts?

This would also help fixing https://issues.qgis.org/issues/16552
Sounds like a good idea to me

Matthias
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


From anitagraser at gmx.at  Sat Jun 10 06:30:36 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 10 Jun 2017 15:30:36 +0200
Subject: [QGIS-Developer] Service area error in master Processing
Message-ID: <CAFFV8FiQPh7gfCQ5qLgsHVe7CiMQMjxA1x34U7F0XxVK_O=JTQ@mail.gmail.com>

Hi,

Testing Network analysis tools in Master. Service area (from point) works
as expected but Service area (from layer) fails with:

Algorithm Service area (from layer) starting...

Loading start points...

Building graph...

Calculating service areas...


index 29 has type 'str' but 'QgsPointXY' is expected See log for more
details


... the index number changes depending on the settings.

Is it just me, or is there a bug?

Best wishes,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170610/58335336/attachment.html>

From matthias at opengis.ch  Sat Jun 10 07:09:19 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Sat, 10 Jun 2017 16:09:19 +0200
Subject: [QGIS-Developer] Service area error in master Processing
In-Reply-To: <CAFFV8FiQPh7gfCQ5qLgsHVe7CiMQMjxA1x34U7F0XxVK_O=JTQ@mail.gmail.com>
References: <CAFFV8FiQPh7gfCQ5qLgsHVe7CiMQMjxA1x34U7F0XxVK_O=JTQ@mail.gmail.com>
Message-ID: <e8bca469-2190-1366-2232-4127343f75bf@opengis.ch>

Hi Anita

does the log say anything?

does it work with the same input data in 2.18?

All the best

Matthias


On 6/10/17 3:30 PM, Anita Graser wrote:
> Hi,
>
> Testing Network analysis tools in Master. Service area (from point)
> works as expected but Service area (from layer) fails with:
>
> Algorithm Service area (from layer) starting...
>
> Loading start points...
>
> Building graph...
>
> Calculating service areas...
>
>
> index 29 has type 'str' but 'QgsPointXY' is expected See log for more
> details
>
>
> ... the index number changes depending on the settings.
>
> Is it just me, or is there a bug?
>
> Best wishes,
> Anita
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170610/eb551d47/attachment.html>

From anitagraser at gmx.at  Sat Jun 10 07:37:06 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 10 Jun 2017 16:37:06 +0200
Subject: [QGIS-Developer] Service area error in master Processing
In-Reply-To: <e8bca469-2190-1366-2232-4127343f75bf@opengis.ch>
References: <CAFFV8FiQPh7gfCQ5qLgsHVe7CiMQMjxA1x34U7F0XxVK_O=JTQ@mail.gmail.com>
 <e8bca469-2190-1366-2232-4127343f75bf@opengis.ch>
Message-ID: <CAFFV8Fhm0BQ5wNiSu3y51EcOvuVGgOVbg+Q=jaj-2A5MgBMgrw@mail.gmail.com>

Thank you for the quick response Matthias!

This is the log output

2017-06-10T16:36:02 2 Uncaught error while executing algorithm

Traceback (most recent call last):

File
"C:/OSGEO4~1/apps/qgis-dev/./python/plugins\processing\core\GeoAlgorithm.py",
line 198, in execute

self.processAlgorithm(context, feedback)

File
"C:/OSGEO4~1/apps/qgis-dev/./python/plugins\processing\algs\qgis\ServiceAreaFromLayer.py",
line 258, in processAlgorithm

geomUpper = QgsGeometry.fromMultiPoint(upperBoundary)

TypeError: index 33 has type 'str' but 'QgsPointXY' is expected

2017-06-10T16:36:02 2 <class
'processing.core.GeoAlgorithmExecutionException.GeoAlgorithmExecutionException'>



As far as I can tell, this algorithm did not exist in 2.18.


Best wishes,

Anita





On Sat, Jun 10, 2017 at 4:09 PM, Matthias Kuhn <matthias at opengis.ch> wrote:

> Hi Anita
>
> does the log say anything?
>
> does it work with the same input data in 2.18?
>
> All the best
>
> Matthias
>
> On 6/10/17 3:30 PM, Anita Graser wrote:
>
> Hi,
>
> Testing Network analysis tools in Master. Service area (from point) works
> as expected but Service area (from layer) fails with:
>
> Algorithm Service area (from layer) starting...
>
> Loading start points...
>
> Building graph...
>
> Calculating service areas...
>
>
> index 29 has type 'str' but 'QgsPointXY' is expected See log for more
> details
>
>
> ... the index number changes depending on the settings.
>
> Is it just me, or is there a bug?
>
> Best wishes,
> Anita
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170610/4f741726/attachment-0001.html>

From noreply at qgis.org  Sat Jun 10 09:54:42 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 10 Jun 2017 16:54:42 -0000
Subject: [QGIS-Developer] Plugin [1220] RS&GIS approval notification.
Message-ID: <20170610165442.28539.53073@320558c5528b>


Plugin RS&GIS approval by pcav.
The plugin version "[1220] RS&GIS 0.4" is now approved
Link: http://plugins.qgis.org/plugins/NITK_RS-GIS_17/

From regis.haubourg at gmail.com  Sat Jun 10 11:55:56 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Sat, 10 Jun 2017 20:55:56 +0200
Subject: [QGIS-Developer] Postgis loading using COPY instead of INSERTS?
In-Reply-To: <0f2aa450-761b-4de5-b677-79e08fd551f5@opengis.ch>
References: <CABgOYCf5viP2cV1bhnUPD=TgcBBOcGPA_W-4Ego1MhhYN1aH5g@mail.gmail.com>
 <1495177470334-5321038.post@n6.nabble.com>
 <CAB28AshRArLh6W-QLSoYXV85WP8sHEWtHQ=BfM1QdtDdW8sUYg@mail.gmail.com>
 <0f2aa450-761b-4de5-b677-79e08fd551f5@opengis.ch>
Message-ID: <CABgOYCdvc_Zfny7ooeEAPGodYHxeNNEXS6Oxcq0S3ZLVptfnQQ@mail.gmail.com>

2017-06-10 14:17 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:

> > I'd estimate 90+% of the time we are bulk adding features we don't
> > care about the updated feature ids, and it's only when adding small
> > amounts of features that this updated id is used. Definitely for
> > things like QgsVectorLayerExporter it's not required, so we'd get the
> > COPY speed boost used.
> >
> > Thoughts?
>

Thanks for that!
 In edit mode, except for copy-paste , I don't really see where we could
benefit from COPY instead of atomic INSERTS. What are the other use cases
for batch insert deserving a COPY boost?


> This would also help fixing https://issues.qgis.org/issues/16552
> Sounds like a good idea to me
>
>
It seems fixed by Jurgen in fact :)

Régis

> Matthias
> > Nyall
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.or <QGIS-Developer at lists.osgeo.org>
>


> g <QGIS-Developer at lists.osgeo.org>
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170610/6ff4c23a/attachment.html>

From anitagraser at gmx.at  Sat Jun 10 12:40:10 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 10 Jun 2017 21:40:10 +0200
Subject: [QGIS-Developer] [Qgis-developer] Will Processing in QGIS 3
	support parallelization?
In-Reply-To: <CAFFV8FiLPr+c7NuLo+cPO0HnUnEgWg5BtOmtGQXHjEusDavpvg@mail.gmail.com>
References: <CAFFV8FgZ9N4ETcWVXiVnHVa27=D1RNYp-NJGtE=YOFP=ZCz1ug@mail.gmail.com>
 <CAB28Asix6CWW-=P_7z6=1WWjnepJdtnkYj_+SmB+A4yHknkTXg@mail.gmail.com>
 <CAFFV8FiLPr+c7NuLo+cPO0HnUnEgWg5BtOmtGQXHjEusDavpvg@mail.gmail.com>
Message-ID: <CAFFV8Fh-ohULrpttq-PXqqv=9op-E7sz9=cnt0vza4r4Hzzrsw@mail.gmail.com>

Has there been any change to the status of parallelization support?

If nobody is working on built-in support in Processing, I'd still be
interested in working examples of custom implementations for individual
algorithms - or failing that - warnings about what won't work (so I don't
waste time trying).

Best wishes,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170610/45ce3c58/attachment.html>

From matthias at opengis.ch  Sat Jun 10 12:49:01 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Sat, 10 Jun 2017 21:49:01 +0200
Subject: [QGIS-Developer] Postgis loading using COPY instead of INSERTS?
In-Reply-To: <CABgOYCdvc_Zfny7ooeEAPGodYHxeNNEXS6Oxcq0S3ZLVptfnQQ@mail.gmail.com>
References: <CABgOYCf5viP2cV1bhnUPD=TgcBBOcGPA_W-4Ego1MhhYN1aH5g@mail.gmail.com>
 <1495177470334-5321038.post@n6.nabble.com>
 <CAB28AshRArLh6W-QLSoYXV85WP8sHEWtHQ=BfM1QdtDdW8sUYg@mail.gmail.com>
 <0f2aa450-761b-4de5-b677-79e08fd551f5@opengis.ch>
 <CABgOYCdvc_Zfny7ooeEAPGodYHxeNNEXS6Oxcq0S3ZLVptfnQQ@mail.gmail.com>
Message-ID: <6142f99f-1391-9639-b8a7-ae07a7e09a01@opengis.ch>

On 6/10/17 8:55 PM, Régis Haubourg wrote:

>
>
> 2017-06-10 14:17 GMT+02:00 Matthias Kuhn <matthias at opengis.ch
> <mailto:matthias at opengis.ch>>:
>
>     > I'd estimate 90+% of the time we are bulk adding features we don't
>     > care about the updated feature ids, and it's only when adding small
>     > amounts of features that this updated id is used. Definitely for
>     > things like QgsVectorLayerExporter it's not required, so we'd
>     get the
>     > COPY speed boost used.
>     >
>     > Thoughts?
>
>
> Thanks for that! 
>  In edit mode, except for copy-paste , I don't really see where we
> could benefit from COPY instead of atomic INSERTS. What are the other
> use cases for batch insert deserving a COPY boost?
>
>
>     This would also help fixing https://issues.qgis.org/issues/16552
>     <https://issues.qgis.org/issues/16552>
>     Sounds like a good idea to me
>
>
> It seems fixed by Jurgen in fact :)
Views created with the DB manager work now, but the related issue
https://issues.qgis.org/issues/16083 still persists.


Something else to discuss is what will be sent along with the
`featureAdded(QgsFeatureId fid)` signal if the id is generated on the DB
but not propagated back to the client.

Matthias
>
> Régis 
>
>     Matthias
>     > Nyall
>     > _______________________________________________
>     > QGIS-Developer mailing list
>     > QGIS-Developer at lists.osgeo.or
>     <mailto:QGIS-Developer at lists.osgeo.org>
>
>  
>
>     g <mailto:QGIS-Developer at lists.osgeo.org>
>     > List info:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     > Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     >
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170610/bbc927ba/attachment.html>

From nyall.dawson at gmail.com  Sat Jun 10 15:04:56 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sun, 11 Jun 2017 08:04:56 +1000
Subject: [QGIS-Developer] Postgis loading using COPY instead of INSERTS?
In-Reply-To: <6142f99f-1391-9639-b8a7-ae07a7e09a01@opengis.ch>
References: <CABgOYCf5viP2cV1bhnUPD=TgcBBOcGPA_W-4Ego1MhhYN1aH5g@mail.gmail.com>
 <1495177470334-5321038.post@n6.nabble.com>
 <CAB28AshRArLh6W-QLSoYXV85WP8sHEWtHQ=BfM1QdtDdW8sUYg@mail.gmail.com>
 <0f2aa450-761b-4de5-b677-79e08fd551f5@opengis.ch>
 <CABgOYCdvc_Zfny7ooeEAPGodYHxeNNEXS6Oxcq0S3ZLVptfnQQ@mail.gmail.com>
 <6142f99f-1391-9639-b8a7-ae07a7e09a01@opengis.ch>
Message-ID: <CAB28AsgGfdths9PHeMjat2k+G0grmF9Ai0HBXM7o5jLe7eTOFA@mail.gmail.com>

On 11 June 2017 at 05:49, Matthias Kuhn <matthias at opengis.ch> wrote:

>
> Something else to discuss is what will be sent along with the
> `featureAdded(QgsFeatureId fid)` signal if the id is generated on the DB but
> not propagated back to the client.
>

I don't think this is a big limitation - we just note it in the docs
for the fast insert flag that featureAdded won't be emitted. It's only
emitted when adding to a vector layer anyway, and most of the cases
where the fast insert flag will be used will be adding directly to a
data provider.

Nyall

From e0425926 at student.tuwien.ac.at  Sun Jun 11 07:19:27 2017
From: e0425926 at student.tuwien.ac.at (Kevin Stadler)
Date: Sun, 11 Jun 2017 15:19:27 +0100
Subject: [QGIS-Developer] GSoC: Web API plugin dev versions available
Message-ID: <CALufGK+NjUgTd3wWc9mT7GDbo1M=NBLLDery1X1oX_zecWZk0g@mail.gmail.com>

Hello,

just to let everyone know that development of the Web/Network API
plugin for QGIS Desktop (purpose described here
https://lists.osgeo.org/pipermail/qgis-developer/2017-May/048431.html)
is now well underway. So far all commits have gone into the plugin
repository itself:
https://gitlab.com/qgisapi/networkapi

For those interested, the README contains instructions on how to
install/test the current development versions of the plugin. In
contrast to Barry Rowlingson's experimental 'pqgisr' R package
(https://stat.ethz.ch/pipermail/r-sig-geo/2016-August/024817.html) the
approach taken by the GSoC project separates the 'server' side (plugin
providing programming language-independent interface to QGIS
components+data) from 'client' implementations (e.g. an R package
making use of that interface).

For the first two weeks coding has been limited to the plugin side so
there isn't much ready-to-use functionality yet, however if anyone
would be interested in testing early client versions and has any
suggestions/requests on what components/functions I should focus on,
such feedback would be most welcome!

I'm currently developing the plugin against the QGIS 2 API, but with
QGIS 3 in mind for easier conversion later on.

For more details see my OSGeo Google Summer of Code weekly reports so far:
https://lists.osgeo.org/pipermail/soc/2017-June/003617.html
https://lists.osgeo.org/pipermail/soc/2017-June/003640.html

Best!
Kevin

From tim at kartoza.com  Sun Jun 11 14:52:42 2017
From: tim at kartoza.com (Tim Sutton)
Date: Sun, 11 Jun 2017 23:52:42 +0200
Subject: [QGIS-Developer] GSoC: Web API plugin dev versions available
In-Reply-To: <CALufGK+NjUgTd3wWc9mT7GDbo1M=NBLLDery1X1oX_zecWZk0g@mail.gmail.com>
References: <CALufGK+NjUgTd3wWc9mT7GDbo1M=NBLLDery1X1oX_zecWZk0g@mail.gmail.com>
Message-ID: <D1543B20-773E-4407-9D93-E5545BFEE3CA@kartoza.com>

Hi Kevin


Thanks for the updates - keep em coming!

Regards

Tim
> On 11 Jun 2017, at 4:19 PM, Kevin Stadler <e0425926 at student.tuwien.ac.at> wrote:
> 
> Hello,
> 
> just to let everyone know that development of the Web/Network API
> plugin for QGIS Desktop (purpose described here
> https://lists.osgeo.org/pipermail/qgis-developer/2017-May/048431.html)
> is now well underway. So far all commits have gone into the plugin
> repository itself:
> https://gitlab.com/qgisapi/networkapi
> 
> For those interested, the README contains instructions on how to
> install/test the current development versions of the plugin. In
> contrast to Barry Rowlingson's experimental 'pqgisr' R package
> (https://stat.ethz.ch/pipermail/r-sig-geo/2016-August/024817.html) the
> approach taken by the GSoC project separates the 'server' side (plugin
> providing programming language-independent interface to QGIS
> components+data) from 'client' implementations (e.g. an R package
> making use of that interface).
> 
> For the first two weeks coding has been limited to the plugin side so
> there isn't much ready-to-use functionality yet, however if anyone
> would be interested in testing early client versions and has any
> suggestions/requests on what components/functions I should focus on,
> such feedback would be most welcome!
> 
> I'm currently developing the plugin against the QGIS 2 API, but with
> QGIS 3 in mind for easier conversion later on.
> 
> For more details see my OSGeo Google Summer of Code weekly reports so far:
> https://lists.osgeo.org/pipermail/soc/2017-June/003617.html
> https://lists.osgeo.org/pipermail/soc/2017-June/003640.html
> 
> Best!
> Kevin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170611/92080fd6/attachment.sig>

From nyall.dawson at gmail.com  Sun Jun 11 23:36:54 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 12 Jun 2017 16:36:54 +1000
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>
References: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>
Message-ID: <CAB28AsgOURwTQWYpdqo5vwCUCM5pjUZuA9+gRXeYgvzns5DtoQ@mail.gmail.com>

On 10 June 2017 at 02:46, Paolo Cavallini <cavallini at faunalia.it> wrote:
> Hi all,
> I did some testing of new Processing commands, on a freshly compiled QGIS.
>
> * Aspect throws an error:
> * barplot does not return a result (result viewer is empty)

Looks like this happens when you don't pick a destination file.  Can
you re-test and explicitly choose an output file.
> * both frequency analysis and Number of unique values in classes return:
>
> This algorithm cannot be run :-(
> This script has a syntax errors. Problem with line: ##Fields=Field Input

I've hidden these scripts away for now. Will restore them when script
support is back.

> * basic statistics for fields:
>
> Traceback (most recent call last):
> File
> "/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/algs/qgis/BasicStatistics.py",
> line 152, in processAlgorithm
> self.createHTML(output_file, data)
> File
> "/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/algs/qgis/BasicStatistics.py",
> line 265, in createHTML
> with codecs.open(outputFile, 'w', encoding='utf-8') as f:
> File "/usr/lib/python3.5/codecs.py", line 895, in open
> file = builtins.open(filename, mode, buffering)
> FileNotFoundError: [Errno 2] File o directory non esistente: ''

Should be fixed in master.


> * buffer:
>   * rasters appear in the list of layers, but no result nor error is
> given when chosen

Should be fixed in master.

>   * for vector polygons, a new layer is created, but geometries are
> unchanged (no buffer)

Can you retest and let me know what settings lead to this? I can't
reproduce. By the way dissolve mode in buffer alg should be fixed now.

> * there are two QGIS entries (I imagine one Py and one C++), confusing
> for the user

This will remain the case for a while - I'll fix it before release,
but for now I find it useful to split the c++ algs from the python
ones.


> * clip, check validity, polygon extent, boundary, bounding boxes,
> centroids, add field, add autoincremental field, delete field seem to be
> all working fine.

Thanks!

Nyall

From noreply at qgis.org  Sun Jun 11 23:48:05 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 12 Jun 2017 06:48:05 -0000
Subject: [QGIS-Developer] Plugin [1253] First Draft GIS approval
	notification.
Message-ID: <20170612064805.6262.94155@320558c5528b>


Plugin First Draft GIS approval by pcav.
The plugin version "[1253] First Draft GIS 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/FirstDraftGIS/

From matteo.ghetta at gmail.com  Mon Jun 12 00:41:24 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 12 Jun 2017 09:41:24 +0200
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CAB28AsgOURwTQWYpdqo5vwCUCM5pjUZuA9+gRXeYgvzns5DtoQ@mail.gmail.com>
References: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>
 <CAB28AsgOURwTQWYpdqo5vwCUCM5pjUZuA9+gRXeYgvzns5DtoQ@mail.gmail.com>
Message-ID: <424e0bf0-7d3e-e635-1248-6b351b19b423@gmail.com>

Hi Nyall,

I just have a quick question for the Processing C++ porting. Are all the
existing tests still valid for Processing and the test suite will remain
the same?

I mean, if other people would like to do some tests in the future, is
the method the same also after the porting is complete?

Thanks!

Matteo


From b.rowlingson at lancaster.ac.uk  Mon Jun 12 01:13:55 2017
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 12 Jun 2017 09:13:55 +0100
Subject: [QGIS-Developer] USNG Coordinate System
In-Reply-To: <41b83ea017084985a4f57329146802d1@EX-0-HT0.lancs.local>
References: <01f201d2dc9a$fe17c290$fa4747b0$@gmail.com>
 <41b83ea017084985a4f57329146802d1@EX-0-HT0.lancs.local>
Message-ID: <CANVKczO_RzQ_kbobzceEi8Bbso+t7u79DgHAykqNyGRbSrhoRg@mail.gmail.com>

On Thu, Jun 8, 2017 at 12:12 AM, Joshua Quesenberry <engnfrc at gmail.com> wrote:
> Good Evening Everyone,
>
>
>
> I haven’t seen any replies to my post over the weekend. Can someone take a
> look?

And still no replies! I've had a look. You might know all this already
but I'll include it for completeness, and you can correct anything
I've got wrong!

> Is there some way to plot USNG coordinates in QGIS? And if not, when will
> support for that be added?

 You could possibly have explained a bit more about what kind of
support you might need! Looking up stuff about USNG on the internet,
it seems to be a re-encoding of UTM zones but with the zones chopped
into squares, and each square getting an alphanumeric code.

https://www.ngs.noaa.gov/TOOLS/usng.shtml tells me:

"
    18SUJ20 - Locates a point with a precision of 10 km
    18SUJ2306 - Locates a point with a precision of 1 km
"

so 18SU is the south west corner of a 6x8 degree grid square, and the
point is at (20, 00) km from the origin for the first case, and (23,6)
km in the second case. Extra digits produce more precision, down to:

" 18SUJ2348306479 - Locates a point with a precision of 1 meter"

which is a point (23483, 6497) metres from the origin.

So, what might we do with these in QGIS? Because they are text, you
won't get shapefiles with USNG coordinate systems. You might get text
files (CSVs, HTML etc) with USNG coordinates in a column, and want to
read these in to QGIS and convert to a fully numeric coordinate
system. This should be a case of identifying the correct UTM zone and
latitude offset from the first four characters, then extracting the
numerics, and creating some UTM coordinates, then converting to
lat-long. If the data ends up in only one UTM zone it could be left at
that, otherwise a conversion to lat-long (like epsg: 4326) would be
sensible.


Would that be useful to you? It could be implemented as a Qgis python
function - its some string parsing and numeric manipulation.

The inverse is another possible use-case - converting coordinates in a
layer to USNG and adding the USNG text format as a new column in a
vector layer. Again that conversion is doable in Python.

Another use-case might be a Qgis function which could, for example, be
used to label points in maps with USNG coordinates by converting from
coordinates to USNG text format.

There's online converters and a fortran program (which I've just
compiled) that could be used to test any implementation. I had a quick
search in the QGIS plugin repository and didn't find anything.

If I get stuck on a train for a few hours I might play with this, but
it shouldn't be too much for someone with a bit of python competency
and some familiarity with the QGIS API.

Barry

From nyall.dawson at gmail.com  Mon Jun 12 01:24:04 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 12 Jun 2017 18:24:04 +1000
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <424e0bf0-7d3e-e635-1248-6b351b19b423@gmail.com>
References: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>
 <CAB28AsgOURwTQWYpdqo5vwCUCM5pjUZuA9+gRXeYgvzns5DtoQ@mail.gmail.com>
 <424e0bf0-7d3e-e635-1248-6b351b19b423@gmail.com>
Message-ID: <CAB28AsgXFnrFp__4d1JhCb03VPS4ZMPwi=jpd7GiB6tmvOaVow@mail.gmail.com>

On 12 June 2017 at 17:41, matteo <matteo.ghetta at gmail.com> wrote:
> Hi Nyall,
>
> I just have a quick question for the Processing C++ porting. Are all the
> existing tests still valid for Processing and the test suite will remain
> the same?
>
> I mean, if other people would like to do some tests in the future, is
> the method the same also after the porting is complete?
>

Yes, that's correct.

Nyall

From nyall.dawson at gmail.com  Mon Jun 12 01:27:59 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 12 Jun 2017 18:27:59 +1000
Subject: [QGIS-Developer] Geodesic Measure Tool With Bearing Information
In-Reply-To: <CABPxTToH+UU2aC9jG_KjY-RLmpk5-Qh63KJC=zwVNmthrNQA8A@mail.gmail.com>
References: <CABPxTToH+UU2aC9jG_KjY-RLmpk5-Qh63KJC=zwVNmthrNQA8A@mail.gmail.com>
Message-ID: <CAB28Asj4zJADEAGanYKjhwsWyDYkLnT_YdNGs-B_7jsnXi1ciA@mail.gmail.com>

On 10 June 2017 at 02:30, C Hamilton <adenaculture at gmail.com> wrote:
> Several weeks ago I had proposed a geodesic measure tool that also includes
> the bearing from point A to B and bearing from B to A. Nyall suggested that
> this capability be added to the QGIS measure tool. The question is would you
> want this with the QGIS measure tool or should it be a separate plugin?

My strong vote would be towards extending the QGIS measure tool. To me
that's a better solution then requiring users to download a plugin,
and having to reimplement all the (complex) logic of the measure tool
again in a python plugin.

>
> 1. Where the current measure tool has 'Segments' there would be two more
> columns with 'Bearing to' and 'Bearing from'.

Sounds good!

>
> 2. I would like to see a check box or selection widget of some sort that
> chooses between using Geodesic math or the current method of calculating the
> distances which I am still unsure on how it is doing its calculations.

If you expand down the info box you'll get a detailed description of
exactly how QGIS is calculating the distances. Is there something
missing there?

> Right now it could use the Vincinty algorithms in QGIS to calculate the
> distances, but eventually I would like to see the geographiclib algorithms
> used.

I'd start with the bearing changes (since they are self contained, and
the methods for calculating bearing are already present in the QGIS
api). Then using geographiclib could be discussed as a separate set of
changes, to be decided on its own merit. If you mix these two changes
it's likely to get bogged down as one or other part of the changes are
debated.

> If this is of interest then I will attempt to get a QGIS development
> environment running to help make the changes to the core measure tool;
> otherwise, I will just create a plugin to do this. If I create a plugin I
> will use the geographiclib python library to do the calculations.
>
> Thoughts?

Go the core! Let us know if you need help setting up a dev
environment. It's actually much easier for 3.0 then it was for 2.x
(especially on windows).

Nyall

From nyall.dawson at gmail.com  Mon Jun 12 01:41:43 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 12 Jun 2017 18:41:43 +1000
Subject: [QGIS-Developer] QEP notification: Break compatibility with 2.x
	processing models
Message-ID: <CAB28AsgV1rG5ikgCNZckwvCGR4HVNtFa9VBsEU2HaQR-7QvisQ@mail.gmail.com>

Hi all,

I just filed a QEP regarding dropping compatibility with QGIS 2.x
processing models in QGIS 3.0. Please see full details over at:

https://github.com/qgis/QGIS-Enhancement-Proposals/issues/95

Regards,
Nyall

From a.neumann at carto.net  Mon Jun 12 01:43:52 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Mon, 12 Jun 2017 10:43:52 +0200
Subject: [QGIS-Developer] Geodesic Measure Tool With Bearing Information
In-Reply-To: <CAB28Asj4zJADEAGanYKjhwsWyDYkLnT_YdNGs-B_7jsnXi1ciA@mail.gmail.com>
References: <CABPxTToH+UU2aC9jG_KjY-RLmpk5-Qh63KJC=zwVNmthrNQA8A@mail.gmail.com>
 <CAB28Asj4zJADEAGanYKjhwsWyDYkLnT_YdNGs-B_7jsnXi1ciA@mail.gmail.com>
Message-ID: <78ea0b8f41b681e7c3ad5e6d33e2b935@carto.net>

+1 for getting these improvements in QGIS core, rather than in a plugin.


fyi: https://map.geo.admin.ch/ has an interesting "all-in-one" measure
tool, which could server as an inspiration for QGIS. 

If you start with a new measure line, you first get a circle with
distance and bearing. It also shows markers with labels along the line
with round distances (e.g. 500m, 1000m, etc.). If you close the polygon
by going back to the first vertex, it autosnaps and shows the area. So
it is really just one single tool, but it helps to show distances,
bearings and areas - along with an elevation profile. 

Greetings, 

Andreas 

On 2017-06-12 10:27, Nyall Dawson wrote:

> On 10 June 2017 at 02:30, C Hamilton <adenaculture at gmail.com> wrote: 
> 
>> Several weeks ago I had proposed a geodesic measure tool that also includes
>> the bearing from point A to B and bearing from B to A. Nyall suggested that
>> this capability be added to the QGIS measure tool. The question is would you
>> want this with the QGIS measure tool or should it be a separate plugin?
> 
> My strong vote would be towards extending the QGIS measure tool. To me
> that's a better solution then requiring users to download a plugin,
> and having to reimplement all the (complex) logic of the measure tool
> again in a python plugin.
> 
>> 1. Where the current measure tool has 'Segments' there would be two more
>> columns with 'Bearing to' and 'Bearing from'.
> 
> Sounds good!
> 
>> 2. I would like to see a check box or selection widget of some sort that
>> chooses between using Geodesic math or the current method of calculating the
>> distances which I am still unsure on how it is doing its calculations.
> 
> If you expand down the info box you'll get a detailed description of
> exactly how QGIS is calculating the distances. Is there something
> missing there?
> 
>> Right now it could use the Vincinty algorithms in QGIS to calculate the
>> distances, but eventually I would like to see the geographiclib algorithms
>> used.
> 
> I'd start with the bearing changes (since they are self contained, and
> the methods for calculating bearing are already present in the QGIS
> api). Then using geographiclib could be discussed as a separate set of
> changes, to be decided on its own merit. If you mix these two changes
> it's likely to get bogged down as one or other part of the changes are
> debated.
> 
>> If this is of interest then I will attempt to get a QGIS development
>> environment running to help make the changes to the core measure tool;
>> otherwise, I will just create a plugin to do this. If I create a plugin I
>> will use the geographiclib python library to do the calculations.
>> 
>> Thoughts?
> 
> Go the core! Let us know if you need help setting up a dev
> environment. It's actually much easier for 3.0 then it was for 2.x
> (especially on windows).
> 
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170612/9c656229/attachment.html>

From nyall.dawson at gmail.com  Mon Jun 12 01:45:43 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 12 Jun 2017 18:45:43 +1000
Subject: [QGIS-Developer] QGIS 3: feedback on Save As Image / PDF
In-Reply-To: <2fc0b160796b5f7c38513b6af749ba93@carto.net>
References: <2fc0b160796b5f7c38513b6af749ba93@carto.net>
Message-ID: <CAB28AshBi9VGxfeaRTAfbmfxGLNQ4756KHgVTrkZSGdP2paWew@mail.gmail.com>

On 8 June 2017 at 23:24, Neumann, Andreas <a.neumann at carto.net> wrote:
> Hi,
>
> The new Save as Image / PDF function in the project menu in QGIS 3 is very
> useful! Thanks for developing it!

Full credit goes to Mathieu Pellerin here!

> I have, however, a suggestion for improvement: it would be very useful if
> the user could interactively select an extent in the map canvas. I believe
> such an extent picker widget already exists in the QGIS code base. I think
> it is used in the various places where users have to select an extent, e.g.
> in the gdal raster clipper tool.

Agreed. We have a standard UI widget for entering extents (it's the
one used in the save vector/raster dialogs, with the options for
canvas/layer extent. In 3.0 this gained the possibility to also take
the extent from any other layer too). So adding this feature to the
standard extent widget will automatically give this ability across
many areas in the UI.

Processing's extent selection widget has this. We could probably port
that implementation across to the standard widget, and then remove
processing's custom widget (since all its functionality (and more)
would be present in the standard widget).

> And even more useful would it be if such an interactive selection could be
> restricted to a certain width / height ratio.
>
> Use case: you want to copy map extents for a presentation. You know that you
> export for a 4:3 ratio or 16:9 ratio. Wouldn't it be handy if you could
> interactively choose your extent and restrict it to that ratio? It would
> save us from the extra step, that I would have to open it in Gimp/Photoshop
> and select the extent in there.
>
> Any thoughts?

Great idea! We just need someone to step up and code this :)

Nyall

From cavallini at faunalia.it  Mon Jun 12 01:59:19 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 12 Jun 2017 10:59:19 +0200
Subject: [QGIS-Developer] Geodesic Measure Tool With Bearing Information
In-Reply-To: <78ea0b8f41b681e7c3ad5e6d33e2b935@carto.net>
References: <CABPxTToH+UU2aC9jG_KjY-RLmpk5-Qh63KJC=zwVNmthrNQA8A@mail.gmail.com>
 <CAB28Asj4zJADEAGanYKjhwsWyDYkLnT_YdNGs-B_7jsnXi1ciA@mail.gmail.com>
 <78ea0b8f41b681e7c3ad5e6d33e2b935@carto.net>
Message-ID: <1325e103-1677-60d7-9330-2cc12a449c95@faunalia.it>

Il 12/06/2017 10:43, Neumann, Andreas ha scritto:
> +1 for getting these improvements in QGIS core, rather than in a plugin.

+1
thanks

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From nyall.dawson at gmail.com  Mon Jun 12 02:02:14 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 12 Jun 2017 19:02:14 +1000
Subject: [QGIS-Developer] Geodesic Measure Tool With Bearing Information
In-Reply-To: <78ea0b8f41b681e7c3ad5e6d33e2b935@carto.net>
References: <CABPxTToH+UU2aC9jG_KjY-RLmpk5-Qh63KJC=zwVNmthrNQA8A@mail.gmail.com>
 <CAB28Asj4zJADEAGanYKjhwsWyDYkLnT_YdNGs-B_7jsnXi1ciA@mail.gmail.com>
 <78ea0b8f41b681e7c3ad5e6d33e2b935@carto.net>
Message-ID: <CAB28Ash9f4yR76z3DmF+O67sc6KMcxrYPJhGkLoKAVCiA71zzg@mail.gmail.com>

On 12 June 2017 at 18:43, Neumann, Andreas <a.neumann at carto.net> wrote:
> +1 for getting these improvements in QGIS core, rather than in a plugin.
>
> fyi: https://map.geo.admin.ch/ has an interesting "all-in-one" measure tool,
> which could server as an inspiration for QGIS.
>
> If you start with a new measure line, you first get a circle with distance
> and bearing. It also shows markers with labels along the line with round
> distances (e.g. 500m, 1000m, etc.). If you close the polygon by going back
> to the first vertex, it autosnaps and shows the area. So it is really just
> one single tool, but it helps to show distances, bearings and areas - along
> with an elevation profile.

That's quite nice! I wonder why the bearing/radius circle is only
shown for the first line segment though...

Nyall

From wonder.sk at gmail.com  Mon Jun 12 02:42:45 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon, 12 Jun 2017 11:42:45 +0200
Subject: [QGIS-Developer] USNG Coordinate System
In-Reply-To: <CANVKczO_RzQ_kbobzceEi8Bbso+t7u79DgHAykqNyGRbSrhoRg@mail.gmail.com>
References: <01f201d2dc9a$fe17c290$fa4747b0$@gmail.com>
 <41b83ea017084985a4f57329146802d1@EX-0-HT0.lancs.local>
 <CANVKczO_RzQ_kbobzceEi8Bbso+t7u79DgHAykqNyGRbSrhoRg@mail.gmail.com>
Message-ID: <CAC2XbFfEjtp49N-DNBTjvKE+ETm0eaEMhQqqzXXV95qAnDggHw@mail.gmail.com>

On Mon, Jun 12, 2017 at 10:13 AM, Barry Rowlingson
<b.rowlingson at lancaster.ac.uk> wrote:
>
> Would that be useful to you? It could be implemented as a Qgis python
> function - its some string parsing and numeric manipulation.

There are few plugins that add support for some coordinate systems -
for example this plugin translates between map coordinates and OSGB
Grid Ref (e.g. SX 7511 8607):
https://github.com/mtravis/gridref-qgis

You could use that one as a reference for your translator. It could be
also a nice piece of functionality directly in QGIS where plugins
could register their converter and QGIS would handle all the GUI
related functionality (which plugins currently need to do themselves).

Cheers
Martin

From matteo.ghetta at gmail.com  Mon Jun 12 05:39:25 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 12 Jun 2017 14:39:25 +0200
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CAB28AsgXFnrFp__4d1JhCb03VPS4ZMPwi=jpd7GiB6tmvOaVow@mail.gmail.com>
References: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>
 <CAB28AsgOURwTQWYpdqo5vwCUCM5pjUZuA9+gRXeYgvzns5DtoQ@mail.gmail.com>
 <424e0bf0-7d3e-e635-1248-6b351b19b423@gmail.com>
 <CAB28AsgXFnrFp__4d1JhCb03VPS4ZMPwi=jpd7GiB6tmvOaVow@mail.gmail.com>
Message-ID: <d3429a00-e714-ae8e-c9d7-db13b64cbe2c@gmail.com>


> Yes, that's correct.
glad to hear that.

Thanks!

Matteo

From noreply at qgis.org  Mon Jun 12 06:19:57 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 12 Jun 2017 13:19:57 -0000
Subject: [QGIS-Developer] Plugin [1037] Kortforsyningen approval
	notification.
Message-ID: <20170612131957.6324.47812@320558c5528b>


Plugin Kortforsyningen approval by pcav.
The plugin version "[1037] Kortforsyningen 1.0" is now approved
Link: http://plugins.qgis.org/plugins/Kortforsyningen/

From adenaculture at gmail.com  Mon Jun 12 07:20:31 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 12 Jun 2017 10:20:31 -0400
Subject: [QGIS-Developer] Geodesic Measure Tool With Bearing Information
In-Reply-To: <CAB28Asj4zJADEAGanYKjhwsWyDYkLnT_YdNGs-B_7jsnXi1ciA@mail.gmail.com>
References: <CABPxTToH+UU2aC9jG_KjY-RLmpk5-Qh63KJC=zwVNmthrNQA8A@mail.gmail.com>
 <CAB28Asj4zJADEAGanYKjhwsWyDYkLnT_YdNGs-B_7jsnXi1ciA@mail.gmail.com>
Message-ID: <CABPxTTo+TeuNddRrorw-hZh6e8N0NeEAAWHt_b1TX70uoQ-PEg@mail.gmail.com>

> >
> > 2. I would like to see a check box or selection widget of some sort that
> > chooses between using Geodesic math or the current method of calculating
> the
> > distances which I am still unsure on how it is doing its calculations.
>
> If you expand down the info box you'll get a detailed description of
> exactly how QGIS is calculating the distances. Is there something
> missing there?
>

In some sense the measure tool is rather confusing. You can't just use it
without really reading up on how to use it and even then I am not 100% sure
I am getting the results I want, but as I look more into it I also realize
I have had a narrow view on how users might use it.

When you click the configuration button it takes you to the Map Tools
Options. What I didn't initially realize is that there are also project
properties that you also need to set as well. There is not a button on the
measure tool dialog that takes you to that dialog to change those settings.
Can this be simplified some how?

By default it appears that "None / Planimetric" is selected as the
ellipsoid. I think that for many people trying to use QGIS they are not
going to know how to get the settings set correctly to get accurate
measurements. I personally prefer to have the defaults set so that all
measurements make use of the Vincinty algorithm - projecting the
coordinates to latitude and longitudes and then doing that calculation.
This would give relative accurate measurements, but for the user that has a
local projection then they might want to select something else.

By the way there appears to be a problem with selecting Project
Properties->General Ellipsoid settings for QGIS 3. Every time I go into
these settings the Ellipsoid is set to "None / Plainimetric" and it is not
enabled. I have to click on the CRS tab and then go back for it to be
enabled.


>
> > Right now it could use the Vincinty algorithms in QGIS to calculate the
> > distances, but eventually I would like to see the geographiclib
> algorithms
> > used.
>
> I'd start with the bearing changes (since they are self contained, and
> the methods for calculating bearing are already present in the QGIS
> api). Then using geographiclib could be discussed as a separate set of
> changes, to be decided on its own merit. If you mix these two changes
> it's likely to get bogged down as one or other part of the changes are
> debated.


Ok.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170612/3bed8b4f/attachment.html>

From noreply at qgis.org  Mon Jun 12 07:23:16 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 12 Jun 2017 14:23:16 -0000
Subject: [QGIS-Developer] Plugin [1253] First Draft GIS approval
	notification.
Message-ID: <20170612142316.2499.36873@320558c5528b>


Plugin First Draft GIS approval by pcav.
The plugin version "[1253] First Draft GIS 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/FirstDraftGIS/

From saxri89 at gmail.com  Mon Jun 12 08:02:02 2017
From: saxri89 at gmail.com (xristosss20)
Date: Mon, 12 Jun 2017 08:02:02 -0700 (MST)
Subject: [QGIS-Developer] Enable composer atlas labels and styles using
	pyqgis
Message-ID: <1497279722582-5323880.post@n6.nabble.com>

 try to follow this code to create automate atlas print composer using pyqgis
:

def quick_export(self, ref, stype, scale):

    # Add all layers in map canvas to render
    myMapRenderer = self.iface.mapCanvas().mapRenderer()

    # Load template from file
    myComposition = QgsComposition(myMapRenderer)
    myFile = os.path.join(os.path.dirname(__file__), 'MMR_Template.qpt')
    myTemplateFile = file(myFile, 'rt')
    myTemplateContent = myTemplateFile.read()
    myTemplateFile.close()
    myDocument = QDomDocument()
    myDocument.setContent(myTemplateContent)
    myComposition.loadFromTemplate(myDocument)

    # Get map composition and define scale
    myAtlasMap = myComposition.getComposerMapById(0)
    myAtlasMap.setNewScale(int(scale))

    # Setup Atlas
    myAtlas = QgsAtlasComposition(myComposition)
    myAtlas.setCoverageLayer(atlas_desktop) # Atlas run from desktop_search
    myAtlas.setComposerMap(myAtlasMap)
    myAtlas.setFixedScale(True)
    myAtlas.fixedScale()
    myAtlas.setHideCoverage(False)
    myAtlas.setFilterFeatures(True)
    myAtlas.setFeatureFilter("reference = '%s'" % (str(ref)))
    myAtlas.setFilterFeatures(True)

    # Generate atlas
    myAtlas.beginRender()
    for i in range(0, myAtlas.numFeatures()):
        myAtlas.prepareForFeature( i )
        jobs = r"\\MSUKSERVER\BusinessMan Docs\Jobs"
        job_fol = os.path.join(jobs, str(ref))
        output_jpeg = os.path.join(job_fol, ref + "_BMS_plan.jpg")
        myImage = myComposition.printPageAsRaster(0)
        myImage.save(output_jpeg)
    myAtlas.endRender()

specific in atlas with same changes code say :

    myAtlasMap = myComposition.getComposerMapById(0)
    myAtlas = QgsAtlasComposition(myComposition)
    myAtlas.setCoverageLayer(atlas_desktop)
    myAtlas.setComposerMap(myAtlasMap)
    myAtlas.setFixedScale(True)
    myAtlas.fixedScale()
    myAtlas.setHideCoverage(False)
    myAtlas.setFilterFeatures(True)

this code work for my task and i take  export new 100 atlas feutures maps

but in my template.qpt i have some labels with code like this :

QGIS [%concat( "OBJECTID" )%]

that OBJECTID is the same for all new 100 atlas feutures maps. Any idea why?
If I use manual atlas export, then for any map OBJECTID change.

And the true is Does not work anything related to layer atlas in my
template.qpt i have some base styles rules or base labels rules like this :

intersects($atlasgeometry, $geometry ) 

or

$id = $atlasfeatureid

but that styles not work with this code.

i think so that code just export one by one my feutures from my atlas layer
and the atlas in me template stay False.

any idea ?i want to lern this solution is interesting question



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Enable-composer-atlas-labels-and-styles-using-pyqgis-tp5323880.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From stefano.masera at arpa.piemonte.it  Mon Jun 12 08:01:36 2017
From: stefano.masera at arpa.piemonte.it (Stefano Masera)
Date: Mon, 12 Jun 2017 17:01:36 +0200 (CEST)
Subject: [QGIS-Developer] multipartToSingleParts via code
In-Reply-To: <325453884.3489203.1497279246829.JavaMail.zimbra@arpa.piemonte.it>
Message-ID: <373741637.3491037.1497279696509.JavaMail.zimbra@arpa.piemonte.it>

Hi list, 
I want to use the 'multiPartToSinglePart' script via code for my plugin. 
I can use it importing processing like this: 

import processing 
processing.runalg("qgis:multiparttosingleparts", input, output) 

but I wan't to use it in a different way, like I already do with the 'dissolve' script: 

from qgis.analysis import * 
analyzer = QgsGeometryAnalyzer() 
analyzer.dissolve(input, output) 

(even if I could write: 
import processing 
processing.runalg("qgis:dissolve",input,output ) 
) 

Is it possible? 

Thanks. 
Stefano 



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170612/61f05d97/attachment.html>

From grossosilvio at yahoo.it  Mon Jun 12 11:04:31 2017
From: grossosilvio at yahoo.it (silvio grosso)
Date: Mon, 12 Jun 2017 18:04:31 +0000 (UTC)
Subject: [QGIS-Developer] SpatiaLite: open blob images with Qgis3
References: <996044948.13642807.1497290671230.ref@mail.yahoo.com>
Message-ID: <996044948.13642807.1497290671230@mail.yahoo.com>

Hello everyone,

At present, QGIS doesn't currently have *any* support for blob fields.

I am wondering how long would it take, in terms of *working days*, to develop a feature for Qgis 3 related to SpatiaLite ?
In short :
- You open a SpatiaLite database which contains some jpeg images (stored as blob) ;
- As soon as you connect this database, you are able to visualize your images (jpeg) with Qgis 3.

Something similar to what it is possible with many commercial Sqlite editors (e.g. SqliteMaestro).As regards open source softwares, I currently work with SqliteStudio but this feature is not available yet.

Thanks in lot in advance 

Silvio Grosso

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170612/3fe83da6/attachment.html>

From nyall.dawson at gmail.com  Mon Jun 12 14:31:57 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 13 Jun 2017 07:31:57 +1000
Subject: [QGIS-Developer] Enable composer atlas labels and styles using
	pyqgis
In-Reply-To: <1497279722582-5323880.post@n6.nabble.com>
References: <1497279722582-5323880.post@n6.nabble.com>
Message-ID: <CAB28AsiTHKe8SMoYtdac-ANoAVfsgjO2Qpa8qEXZzefr+02SLg@mail.gmail.com>

On 13 June 2017 at 01:02, xristosss20 <saxri89 at gmail.com> wrote:
>  try to follow this code to create automate atlas print composer using pyqgis
> :

> any idea ?i want to lern this solution is interesting question

For reference, which QGIS version?

Nyall

From nyall.dawson at gmail.com  Mon Jun 12 14:33:07 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 13 Jun 2017 07:33:07 +1000
Subject: [QGIS-Developer] multipartToSingleParts via code
In-Reply-To: <373741637.3491037.1497279696509.JavaMail.zimbra@arpa.piemonte.it>
References: <325453884.3489203.1497279246829.JavaMail.zimbra@arpa.piemonte.it>
 <373741637.3491037.1497279696509.JavaMail.zimbra@arpa.piemonte.it>
Message-ID: <CAB28Asig3fYyJHjEMacXtG6aE0Naxh+M1iFDLmJtwHt=SivyCw@mail.gmail.com>

On 13 June 2017 at 01:01, Stefano Masera
<stefano.masera at arpa.piemonte.it> wrote:
> Hi list,
> I want to use the 'multiPartToSinglePart' script via code for my plugin.
> I can use it importing processing like this:
>
> import processing
> processing.runalg("qgis:multiparttosingleparts", input, output)
>
> but I wan't to use it in a different way, like I already do with the
> 'dissolve' script:
>
> from qgis.analysis import *
> analyzer = QgsGeometryAnalyzer()
> analyzer.dissolve(input, output)
>
> (even if I could write:
> import processing
> processing.runalg("qgis:dissolve",input,output)
> )
>
> Is it possible?

Sorry, I don't understand exactly what it is you're wanting to do. Can
you clarify?

Nyall

From bnhr.dev at gmail.com  Mon Jun 12 20:24:38 2017
From: bnhr.dev at gmail.com (Ben Hur Pintor)
Date: Tue, 13 Jun 2017 11:24:38 +0800
Subject: [QGIS-Developer] multipartToSingleParts via code
In-Reply-To: <CAB28Asig3fYyJHjEMacXtG6aE0Naxh+M1iFDLmJtwHt=SivyCw@mail.gmail.com>
References: <325453884.3489203.1497279246829.JavaMail.zimbra@arpa.piemonte.it>
 <373741637.3491037.1497279696509.JavaMail.zimbra@arpa.piemonte.it>
 <CAB28Asig3fYyJHjEMacXtG6aE0Naxh+M1iFDLmJtwHt=SivyCw@mail.gmail.com>
Message-ID: <CAFAduOTHwu-CcHrWpd2c5F-=te2guaLfL=YDc0BuX4ZHEfH2Jg@mail.gmail.com>

Hi Stefano.

Correct me if I'm wrong but my understanding is that you want to be able to
call "multiparttosingleparts" in his code the same way you call dissolve.

Something like:

from qgis.xxx import *
xxx = YYY
xxx.multiparttosingleparts(input, output)

Have you tried looking at the API?

I haven't used the qgis processing algorithims in my Python code that way
since they already work fine the way they do now. May I know why you'd like
such a use case?


Regards,

Ben Hur

On Tue, Jun 13, 2017 at 5:33 AM, Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On 13 June 2017 at 01:01, Stefano Masera
> <stefano.masera at arpa.piemonte.it> wrote:
> > Hi list,
> > I want to use the 'multiPartToSinglePart' script via code for my plugin.
> > I can use it importing processing like this:
> >
> > import processing
> > processing.runalg("qgis:multiparttosingleparts", input, output)
> >
> > but I wan't to use it in a different way, like I already do with the
> > 'dissolve' script:
> >
> > from qgis.analysis import *
> > analyzer = QgsGeometryAnalyzer()
> > analyzer.dissolve(input, output)
> >
> > (even if I could write:
> > import processing
> > processing.runalg("qgis:dissolve",input,output)
> > )
> >
> > Is it possible?
>
> Sorry, I don't understand exactly what it is you're wanting to do. Can
> you clarify?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer




-- 
---

*Engr. Ben Hur S. Pintor*
*Research Associate*
Phil-LiDAR 2 Project 5: REMap
UP Training Center for Applied Geodesy and Photogrammetry


*Juris Doctor*
College of Law
*University of the Philippines Diliman*
Quezon City 1101, PHL
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170613/bc1ad630/attachment.html>

From a.furieri at lqt.it  Mon Jun 12 23:34:18 2017
From: a.furieri at lqt.it (a.furieri at lqt.it)
Date: Tue, 13 Jun 2017 08:34:18 +0200
Subject: [QGIS-Developer] SpatiaLite: open blob images with Qgis3
In-Reply-To: <996044948.13642807.1497290671230@mail.yahoo.com>
References: <996044948.13642807.1497290671230.ref@mail.yahoo.com>
 <996044948.13642807.1497290671230@mail.yahoo.com>
Message-ID: <7eaf3eb72b00e301bba5b32b905f3d79@lqt.it>

On Mon, 12 Jun 2017 18:04:31 +0000 (UTC), silvio grosso wrote:
> Hello everyone,
>
> At present, QGIS doesn't currently have *any* support for blob 
> fields.
>
> I am wondering how long would it take, in terms of *working days*, to
> develop a feature for Qgis 3 related to SpatiaLite ?
>
> In short :
> - You open a SpatiaLite database which contains some jpeg images
> (stored as blob) ;
> - As soon as you connect this database, you are able to visualize 
> your
> images (jpeg) with Qgis 3.
>
> Something similar to what it is possible with many commercial Sqlite
> editors (e.g. SqliteMaestro).
> As regards open source softwares, I currently work with SqliteStudio
> but this feature is not available yet.
>

Ciao Silvio,

also SpatialiteGUI has the capability to show a preview of
digital images stored as BLOBs fields within the database.

it's surely worth noting that libspatialite supports several
useful SQL functions specifically intended to quickly "sniff"
the actual payload stored within an arbitrary BLOB value:
- IsGifBlob()
- IsPngBlob()
- IsTiffBlob()
- IsJpegBlob()
- IsExifBlob()
- IsExifGpsBlob()
- IsWebpBlob()
- IsJP2Blob()
and a more generic "GetMimeType()" will return "image/png"
or "image/jpeg" and so on.

all these SQL functions just examine the internal signature
of the binary payload based on well known "magic numbers",
so they are lightweight and very fast to be computed.

an eventual practical implementation just requires few
lines of code more or less like this:

1. SELECT my_blob_column, GetMimeType(my_blob_colummn)
    FROM my_table
    WHERE GetMimeType(my_blob_column) IN (
       'image/gif', 'image/png', 'image'jpeg', 'image/tiff');

2. then unwind the returned resulset, and for each row
    directly dispatch the binary payload to the appropriate
    image decoder (libpng, libjpeg, libtiff or whatever else)
    depending on the value of "mime_type".

bye Sandro


From saxri89 at gmail.com  Tue Jun 13 00:18:27 2017
From: saxri89 at gmail.com (Xristos Xristoou)
Date: Tue, 13 Jun 2017 10:18:27 +0300
Subject: [QGIS-Developer] Enable composer atlas labels and styles using
	pyqgis
In-Reply-To: <CAB28AsiTHKe8SMoYtdac-ANoAVfsgjO2Qpa8qEXZzefr+02SLg@mail.gmail.com>
References: <1497279722582-5323880.post@n6.nabble.com>
 <CAB28AsiTHKe8SMoYtdac-ANoAVfsgjO2Qpa8qEXZzefr+02SLg@mail.gmail.com>
Message-ID: <CAGhnqHRGLKXQ6DBA9N5oLwq7ewYTd8JBu+hYoTwdBo0__A7Qfg@mail.gmail.com>

Latest Qgis version 2.18.9 and 2.18.6

Στις 13 Ιουν 2017 00:31, ο χρήστης "Nyall Dawson" <nyall.dawson at gmail.com>
έγραψε:

> On 13 June 2017 at 01:02, xristosss20 <saxri89 at gmail.com> wrote:
> >  try to follow this code to create automate atlas print composer using
> pyqgis
> > :
>
> > any idea ?i want to lern this solution is interesting question
>
> For reference, which QGIS version?
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170613/34150fc4/attachment.html>

From noreply at qgis.org  Tue Jun 13 00:24:42 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 13 Jun 2017 07:24:42 -0000
Subject: [QGIS-Developer] Plugin [1230] Vector Tiles Reader approval
	notification.
Message-ID: <20170613072442.6324.46006@320558c5528b>


Plugin Vector Tiles Reader approval by pcav.
The plugin version "[1230] Vector Tiles Reader 1.0.0" is now approved
Link: http://plugins.qgis.org/plugins/vector_tiles_reader/

From stefano.masera at arpa.piemonte.it  Tue Jun 13 00:49:27 2017
From: stefano.masera at arpa.piemonte.it (Stefano Masera)
Date: Tue, 13 Jun 2017 09:49:27 +0200 (CEST)
Subject: [QGIS-Developer] multipartToSingleParts via code
In-Reply-To: <CAB28Asig3fYyJHjEMacXtG6aE0Naxh+M1iFDLmJtwHt=SivyCw@mail.gmail.com>
References: <325453884.3489203.1497279246829.JavaMail.zimbra@arpa.piemonte.it>
 <373741637.3491037.1497279696509.JavaMail.zimbra@arpa.piemonte.it>
 <CAB28Asig3fYyJHjEMacXtG6aE0Naxh+M1iFDLmJtwHt=SivyCw@mail.gmail.com>
Message-ID: <131337031.3556765.1497340167034.JavaMail.zimbra@arpa.piemonte.it>

Hi Nyali, 
in a few words I want to do a multipartToSingleParts (for a VectorLayer) via code without using the processing module. 
Thanks! 

Stefano 




***************************** 
Stefano Masera 
Arpa Piemonte 
Via Pio VII, 9 - 10135 Torino 
www.arpa.piemonte.it 


----- Messaggio originale -----

Da: "Nyall Dawson" <nyall.dawson at gmail.com> 
A: "Stefano Masera" <stefano.masera at arpa.piemonte.it> 
Cc: "qgis-developer" <qgis-developer at lists.osgeo.org> 
Inviato: Lunedì, 12 giugno 2017 23:33:07 
Oggetto: Re: [QGIS-Developer] multipartToSingleParts via code 

On 13 June 2017 at 01:01, Stefano Masera 
<stefano.masera at arpa.piemonte.it> wrote: 
> Hi list, 
> I want to use the 'multiPartToSinglePart' script via code for my plugin. 
> I can use it importing processing like this: 
> 
> import processing 
> processing.runalg("qgis:multiparttosingleparts", input, output) 
> 
> but I wan't to use it in a different way, like I already do with the 
> 'dissolve' script: 
> 
> from qgis.analysis import * 
> analyzer = QgsGeometryAnalyzer() 
> analyzer.dissolve(input, output) 
> 
> (even if I could write: 
> import processing 
> processing.runalg("qgis:dissolve",input,output) 
> ) 
> 
> Is it possible? 

Sorry, I don't understand exactly what it is you're wanting to do. Can 
you clarify? 

Nyall 

-- 
Questo messaggio e' stato analizzato ed e' risultato non infetto. 
This message was scanned and is believed to be clean. 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170613/41ef383d/attachment-0001.html>

From SSchmidt at gfi-gis.de  Tue Jun 13 00:39:01 2017
From: SSchmidt at gfi-gis.de (SSchmidt at gfi-gis.de)
Date: Tue, 13 Jun 2017 09:39:01 +0200
Subject: [QGIS-Developer] compiling QGIS-LTR 32 Bit for Windows
Message-ID: <OFB8F1BC30.B595F149-ONC125813E.002865A9-C125813E.002A7E84@gfi-gis.de>

Hi all,

Till QGIS 2.14.13 I compiled QGIS and my plugins in VS2008 with Qt 4.8.6 
and Python 2.7. This now with QGIS LTR 2.18 doesn't work for me. I get 
errors C2039 like  'numeric_limits::quiet_NaN'.

So I set up a new pc with win7 32 bit, Qt5 and Python 3.6. But now I can't 
build a VS-project with cmake, getting error "could not find pythoninterp: 
found unsuitable version "1.4", but required 3"
I think I have problems with path of Python 2.7 and 3. But I could not 
deinstall Python 2.7 because its needed by qgis-ltr-dev and sip and other 
dependencies. 

Can anybody help me to find the correct parameters, please?

Freundliche Grüße aus Leipzig
Susann Schmidt
Softwareentwicklung 

**************************************************************

GFI - Gesellschaft für Informationstechnologie mbH
Philipp-Rosenthal-Straße 9
D-04103 Leipzig
Geschäftsführer: Andreas Richter
Amtsgericht Leipzig HRB 12054
USt.-IdNr.: DE179049354     Steuer-Nr.: 231/109/06412
ESRI Solution Partner      und       ER Mapper Reseller
Tel. 0341 961 3310    Fax 0341 961 3311   Mail info at gfi-gis.de
Web  www.gfi-gis.de  und  www.themenbrowser.de
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170613/21e5cfb3/attachment.html>

From nyall.dawson at gmail.com  Tue Jun 13 01:20:31 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 13 Jun 2017 18:20:31 +1000
Subject: [QGIS-Developer] multipartToSingleParts via code
In-Reply-To: <131337031.3556765.1497340167034.JavaMail.zimbra@arpa.piemonte.it>
References: <325453884.3489203.1497279246829.JavaMail.zimbra@arpa.piemonte.it>
 <373741637.3491037.1497279696509.JavaMail.zimbra@arpa.piemonte.it>
 <CAB28Asig3fYyJHjEMacXtG6aE0Naxh+M1iFDLmJtwHt=SivyCw@mail.gmail.com>
 <131337031.3556765.1497340167034.JavaMail.zimbra@arpa.piemonte.it>
Message-ID: <CAB28Ashgq4=+SmHWF-ZuLeT3gsWDZ9oMWBAyEM3+3CTqeqsT-Q@mail.gmail.com>

On 13 June 2017 at 17:49, Stefano Masera
<stefano.masera at arpa.piemonte.it> wrote:
> Hi Nyali,
> in a few words I want to do a multipartToSingleParts (for a VectorLayer) via
> code without using the processing module.

Any particular reason why?

In any case, I'd suggest copying the code used by processing:
https://github.com/qgis/QGIS/blob/release-2_18/python/plugins/processing/algs/qgis/MultipartToSingleparts.py#L66

Nyall

From jef at norbit.de  Tue Jun 13 01:22:23 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue, 13 Jun 2017 10:22:23 +0200
Subject: [QGIS-Developer] compiling QGIS-LTR 32 Bit for Windows
In-Reply-To: <OFB8F1BC30.B595F149-ONC125813E.002865A9-C125813E.002A7E84@gfi-gis.de>
References: <OFB8F1BC30.B595F149-ONC125813E.002865A9-C125813E.002A7E84@gfi-gis.de>
Message-ID: <20170613082223.5pqk57fjwuwvjb65@norbit.de>

Hi Susann, 

On Tue, 13. Jun 2017 at 09:39:01 +0200, SSchmidt at gfi-gis.de wrote:
> Till QGIS 2.14.13 I compiled QGIS and my plugins in VS2008 with Qt 4.8.6 and
> Python 2.7. This now with QGIS LTR 2.18 doesn't work for me. I get errors
> C2039 like  'numeric_limits::quiet_NaN'.

For 2.18 (but also 2.14) we use VS2010 - but still Python2 (see [0])


Jürgen

[0] https://github.com/qgis/QGIS/blob/release-2_18/ms-windows/osgeo4w/package.cmd

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170613/5e6c13ef/attachment.sig>

From SSchmidt at gfi-gis.de  Tue Jun 13 01:58:03 2017
From: SSchmidt at gfi-gis.de (SSchmidt at gfi-gis.de)
Date: Tue, 13 Jun 2017 10:58:03 +0200
Subject: [QGIS-Developer] WG: Re:  compiling QGIS-LTR 32 Bit for Windows
Message-ID: <OF9C804ACC.054CA3FC-ONC125813E.0031060B-C125813E.0031BAD3@gfi-gis.de>

Thank you Jürgen,

I'll check this out. Finally, I can deinstall VS2008 ;-)

Susann

----- Weitergeleitet von Susann Schmidt/gfimbh am 13.06.2017 11:00 -----

Von:    Jürgen E. Fischer <jef at norbit.de>
An:     qgis-developer at lists.osgeo.org
Datum:  13.06.2017 10:24
Betreff:        Re: [QGIS-Developer] compiling QGIS-LTR 32 Bit for Windows
Gesendet von:   "QGIS-Developer" <qgis-developer-bounces at lists.osgeo.org>



Hi Susann, 

On Tue, 13. Jun 2017 at 09:39:01 +0200, SSchmidt at gfi-gis.de wrote:
> Till QGIS 2.14.13 I compiled QGIS and my plugins in VS2008 with Qt 4.8.6 
and
> Python 2.7. This now with QGIS LTR 2.18 doesn't work for me. I get 
errors
> C2039 like  'numeric_limits::quiet_NaN'.

For 2.18 (but also 2.14) we use VS2010 - but still Python2 (see [0])


Jürgen

[0] 
https://github.com/qgis/QGIS/blob/release-2_18/ms-windows/osgeo4w/package.cmd


-- 
Jürgen E. Fischer           norBIT GmbH             Tel. 
+49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. 
+49-4931-918175-50
Software Engineer           D-26506 Norden             
http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on 
FreeNode
[Anhang "signature.asc" gelöscht von Susann Schmidt/gfimbh] 
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170613/ac5693bb/attachment.html>

From stefano.masera at arpa.piemonte.it  Tue Jun 13 02:31:56 2017
From: stefano.masera at arpa.piemonte.it (Stefano Masera)
Date: Tue, 13 Jun 2017 11:31:56 +0200 (CEST)
Subject: [QGIS-Developer] multipartToSingleParts via code
In-Reply-To: <CAB28Ashgq4=+SmHWF-ZuLeT3gsWDZ9oMWBAyEM3+3CTqeqsT-Q@mail.gmail.com>
References: <325453884.3489203.1497279246829.JavaMail.zimbra@arpa.piemonte.it>
 <373741637.3491037.1497279696509.JavaMail.zimbra@arpa.piemonte.it>
 <CAB28Asig3fYyJHjEMacXtG6aE0Naxh+M1iFDLmJtwHt=SivyCw@mail.gmail.com>
 <131337031.3556765.1497340167034.JavaMail.zimbra@arpa.piemonte.it>
 <CAB28Ashgq4=+SmHWF-ZuLeT3gsWDZ9oMWBAyEM3+3CTqeqsT-Q@mail.gmail.com>
Message-ID: <200667769.3588666.1497346316572.JavaMail.zimbra@arpa.piemonte.it>

Thanks Nyali. 
The reason is that if I use processing it doens't work correctly. 
In details, if I write: 

import processing 
processing.runalg("qgis:multiparttosingleparts", input1, output1) 

The plugin runs correctly only the FIRST time. 
Then, when it finishes, if I run again the plugin choosing an input2 vectorlayer, the processing algorithm doesn't see the input2 and my ouput remains output1. 
It's crazy! 
It's something like a bad refresh.. 

If you have another solution.... 

Thank you very much. 

Stefano 


----- Messaggio originale -----

Da: "Nyall Dawson" <nyall.dawson at gmail.com> 
A: "Stefano Masera" <stefano.masera at arpa.piemonte.it> 
Cc: "qgis-developer" <qgis-developer at lists.osgeo.org> 
Inviato: Martedì, 13 giugno 2017 10:20:31 
Oggetto: Re: [QGIS-Developer] multipartToSingleParts via code 

On 13 June 2017 at 17:49, Stefano Masera 
<stefano.masera at arpa.piemonte.it> wrote: 
> Hi Nyali, 
> in a few words I want to do a multipartToSingleParts (for a VectorLayer) via 
> code without using the processing module. 

Any particular reason why? 

In any case, I'd suggest copying the code used by processing: 
https://github.com/qgis/QGIS/blob/release-2_18/python/plugins/processing/algs/qgis/MultipartToSingleparts.py#L66 

Nyall 

-- 
Questo messaggio e' stato analizzato ed e' risultato non infetto. 
This message was scanned and is believed to be clean. 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170613/35528abb/attachment.html>

From noreply at qgis.org  Tue Jun 13 03:07:39 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 13 Jun 2017 10:07:39 -0000
Subject: [QGIS-Developer] Plugin [1252] Lizard Viewer approval notification.
Message-ID: <20170613100739.2499.65852@320558c5528b>


Plugin Lizard Viewer approval by pcav.
The plugin version "[1252] Lizard Viewer 0.6 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/LizardViewer/

From noreply at qgis.org  Tue Jun 13 05:54:52 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 13 Jun 2017 12:54:52 -0000
Subject: [QGIS-Developer] Plugin [65] Mask approval notification.
Message-ID: <20170613125452.6324.1678@320558c5528b>


Plugin Mask approval by pcav.
The plugin version "[65] Mask 1.8" is now approved
Link: http://plugins.qgis.org/plugins/mask/

From olivier.dalang at gmail.com  Tue Jun 13 06:44:50 2017
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Tue, 13 Jun 2017 13:44:50 +0000
Subject: [QGIS-Developer] native XYZ layers - zoom level
Message-ID: <CAExk7p1TYs1tgcSds8mw1T1Dubc4XGJaApNPHM-YGxAzex5adw@mail.gmail.com>

Hi !

I reported a bug some days ago about the new XYZ layers. It seems only the
first 19 zoom levels are displayed. I write here since I'm not sure the bug
gets attention in the tracker : https://issues.qgis.org/issues/16665

Here we are working with drone photography and zoom level goes up to 22 or
23. This makes the native XYZ layers unusable for us, which is sad because
it's a very convenient way to distribute large rasters to our users.

Martin Dobias, from what I understood, you implemented this in QGIS ? Many
thanks, it's an awesome feature, an works very well even with poor internet
connection. I assigned the bug to you, but am not sure it's a polite move
without asking ? I'm currently looking at the source to see if I can spot
how to fix this.

Bests,

Olivier
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170613/41c816fe/attachment.html>

From cavallini at faunalia.it  Tue Jun 13 07:55:50 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 13 Jun 2017 16:55:50 +0200
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CAB28AsgOURwTQWYpdqo5vwCUCM5pjUZuA9+gRXeYgvzns5DtoQ@mail.gmail.com>
References: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>
 <CAB28AsgOURwTQWYpdqo5vwCUCM5pjUZuA9+gRXeYgvzns5DtoQ@mail.gmail.com>
Message-ID: <71f0ce39-a531-a62c-8987-9a299ce94c97@faunalia.it>

Hi Nyall,

Il 12/06/2017 08:36, Nyall Dawson ha scritto:

>> * barplot does not return a result (result viewer is empty)
> 
> Looks like this happens when you don't pick a destination file.  Can
> you re-test and explicitly choose an output file.

tried, still empty wpanel

>> * basic statistics for fields:
>>
>> Traceback (most recent call last):
>> File
>> "/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/algs/qgis/BasicStatistics.py",
>> line 152, in processAlgorithm
>> self.createHTML(output_file, data)
>> File
>> "/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/algs/qgis/BasicStatistics.py",
>> line 265, in createHTML
>> with codecs.open(outputFile, 'w', encoding='utf-8') as f:
>> File "/usr/lib/python3.5/codecs.py", line 895, in open
>> file = builtins.open(filename, mode, buffering)
>> FileNotFoundError: [Errno 2] File o directory non esistente: ''
> 
> Should be fixed in master.

no error, but I still do not see a result

>> * buffer:
>>   * rasters appear in the list of layers, but no result nor error is
>> given when chosen
> 
> Should be fixed in master.

fix confirmed, thanks

>>   * for vector polygons, a new layer is created, but geometries are
>> unchanged (no buffer)
> 
> Can you retest and let me know what settings lead to this? I can't
> reproduce. By the way dissolve mode in buffer alg should be fixed now.

issue confired:
processing.run("native:buffer",
{'INPUT':QgsProcessingFeatureSourceDefinition('comuni_multi_45c17787_f7f8_43c2_b5b0_1c12acd87ade',
False),'DISTANCE':10,'SEGMENTS':5,'END_CAP_STYLE':0,'JOIN_STYLE':0,'MITRE_LIMIT':2,'DISSOLVE':False,'OUTPUT_LAYER':QgsProcessingOutputLayerDefinition('memory:')})

thanks

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From noreply at qgis.org  Tue Jun 13 08:26:36 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 13 Jun 2017 15:26:36 -0000
Subject: [QGIS-Developer] Plugin [183] InaSAFE approval notification.
Message-ID: <20170613152636.6262.2299@320558c5528b>


Plugin InaSAFE approval by timlinux.
The plugin version "[183] InaSAFE 4.1.0" is now approved
Link: http://plugins.qgis.org/plugins/inasafe/

From wonder.sk at gmail.com  Tue Jun 13 08:54:40 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue, 13 Jun 2017 17:54:40 +0200
Subject: [QGIS-Developer] native XYZ layers - zoom level
In-Reply-To: <CAExk7p1TYs1tgcSds8mw1T1Dubc4XGJaApNPHM-YGxAzex5adw@mail.gmail.com>
References: <CAExk7p1TYs1tgcSds8mw1T1Dubc4XGJaApNPHM-YGxAzex5adw@mail.gmail.com>
Message-ID: <CAC2XbFcrpdsgUsje9CDzPu85Li0rUQ04UmwBCX-nGHmWSPthjg@mail.gmail.com>

Hi Olivier

On Tue, Jun 13, 2017 at 3:44 PM, Olivier Dalang
<olivier.dalang at gmail.com> wrote:
> Hi !
>
> I reported a bug some days ago about the new XYZ layers. It seems only the
> first 19 zoom levels are displayed. I write here since I'm not sure the bug
> gets attention in the tracker : https://issues.qgis.org/issues/16665
>
> Here we are working with drone photography and zoom level goes up to 22 or
> 23. This makes the native XYZ layers unusable for us, which is sad because
> it's a very convenient way to distribute large rasters to our users.

Actually this is already implemented. In QGIS 3.0 there is also GUI to
configure the min/max zoom level for XYZ tiles. In QGIS 2.18 it is not
available in GUI, but it can be still configured when adding XYZ tiles
layer in Python - one just needs to specify "zmin" and/or "zmax"
parameters in data source URI.


> Martin Dobias, from what I understood, you implemented this in QGIS ? Many
> thanks, it's an awesome feature, an works very well even with poor internet
> connection. I assigned the bug to you, but am not sure it's a polite move
> without asking ? I'm currently looking at the source to see if I can spot
> how to fix this.

In general it is better not to assign developers to bugs unless they
told you so in a prior discussion. It can also confuse others to think
that a bug/feature is being actively worked on while it is not. If you
want to make someone aware of a particular bug, you could add them to
the list of watchers of a ticket, so they get notified...

Regards
Martin

From ccrook at linz.govt.nz  Tue Jun 13 13:46:18 2017
From: ccrook at linz.govt.nz (Chris Crook)
Date: Tue, 13 Jun 2017 20:46:18 +0000
Subject: [QGIS-Developer] Lost redmine wiki contents ...
Message-ID: <A87E66F06E86F14B857F2EB047CDF93203A621@prdassexch01.ad.linz.govt.nz>

Hi

Does anyone know where the content of:

https://issues.qgis.org/wiki/quantum-gis/Python_plugin_API_changes_from_18_to_20

have gone?

Thanks

________________________________

This message contains information, which may be in confidence and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.

From nyall.dawson at gmail.com  Tue Jun 13 15:41:03 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 14 Jun 2017 08:41:03 +1000
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <71f0ce39-a531-a62c-8987-9a299ce94c97@faunalia.it>
References: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>
 <CAB28AsgOURwTQWYpdqo5vwCUCM5pjUZuA9+gRXeYgvzns5DtoQ@mail.gmail.com>
 <71f0ce39-a531-a62c-8987-9a299ce94c97@faunalia.it>
Message-ID: <CAB28AsgRrSm795vMPWsBa3eQTBx7njE-_6e_D21j5p8V1E3rwA@mail.gmail.com>

On 14 June 2017 at 00:55, Paolo Cavallini <cavallini at faunalia.it> wrote:
> Hi Nyall,
>
> Il 12/06/2017 08:36, Nyall Dawson ha scritto:
>
>>> * barplot does not return a result (result viewer is empty)
>>
>> Looks like this happens when you don't pick a destination file.  Can
>> you re-test and explicitly choose an output file.
>
> tried, still empty wpanel

Could you record a screencast showing what process you're following here?

>
>>> * basic statistics for fields:
>>>
>>> Traceback (most recent call last):
>>> File
>>> "/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/algs/qgis/BasicStatistics.py",
>>> line 152, in processAlgorithm
>>> self.createHTML(output_file, data)
>>> File
>>> "/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/algs/qgis/BasicStatistics.py",
>>> line 265, in createHTML
>>> with codecs.open(outputFile, 'w', encoding='utf-8') as f:
>>> File "/usr/lib/python3.5/codecs.py", line 895, in open
>>> file = builtins.open(filename, mode, buffering)
>>> FileNotFoundError: [Errno 2] File o directory non esistente: ''
>>
>> Should be fixed in master.
>
> no error, but I still do not see a result

Same - can you please record a screencast for me?


>
>>> * buffer:
>>>   * rasters appear in the list of layers, but no result nor error is
>>> given when chosen
>>
>> Should be fixed in master.
>
> fix confirmed, thanks
>
>>>   * for vector polygons, a new layer is created, but geometries are
>>> unchanged (no buffer)
>>
>> Can you retest and let me know what settings lead to this? I can't
>> reproduce. By the way dissolve mode in buffer alg should be fixed now.
>
> issue confired:
> processing.run("native:buffer",
> {'INPUT':QgsProcessingFeatureSourceDefinition('comuni_multi_45c17787_f7f8_43c2_b5b0_1c12acd87ade',
> False),'DISTANCE':10,'SEGMENTS':5,'END_CAP_STYLE':0,'JOIN_STYLE':0,'MITRE_LIMIT':2,'DISSOLVE':False,'OUTPUT_LAYER':QgsProcessingOutputLayerDefinition('memory:')})

This too ;)

Sorry for the extra work - but I can't reproduce this at all...

Nyall

From engnfrc at gmail.com  Tue Jun 13 18:01:50 2017
From: engnfrc at gmail.com (Joshua Quesenberry)
Date: Tue, 13 Jun 2017 21:01:50 -0400
Subject: [QGIS-Developer] USNG Coordinate System
In-Reply-To: <CAC2XbFfEjtp49N-DNBTjvKE+ETm0eaEMhQqqzXXV95qAnDggHw@mail.gmail.com>
References: <01f201d2dc9a$fe17c290$fa4747b0$@gmail.com>
 <41b83ea017084985a4f57329146802d1@EX-0-HT0.lancs.local>
 <CANVKczO_RzQ_kbobzceEi8Bbso+t7u79DgHAykqNyGRbSrhoRg@mail.gmail.com>
 <CAC2XbFfEjtp49N-DNBTjvKE+ETm0eaEMhQqqzXXV95qAnDggHw@mail.gmail.com>
Message-ID: <00ae01d2e4a9$cecea1e0$6c6be5a0$@gmail.com>

Barry,

I guess the kind of support I'm looking for would be the ability to create points using USNG coordinates, importing points from a file full of USNG formatted coordinates, seeing coordinates listed in USNG format in the window at the bottom of the window, saving in a shapefile, etc. I didn't realize Shapefile's can't store USNG format, so I guess that's does present issues...

USNG is now FEMA's standardized coordinate system, which includes Search & Rescue, which I do a lot of. So imagine being in the middle of an operation where USNG is being used... a team radios in the location of a clue or a patient, the next step for the GIS person right now would have to be converting  the USNG coordinate to either UTM or Lat Lon, this all takes extra time and I haven't been able to find a good offline coordinate converter. Ideally you switch the layer to edit mode, navigate to the location, and click to add the point. If there were an "Add Point" button that pops up a dialog where you enter a USNG/UTM/LatLon coordinate would be a little better more. If I have a list of points to add right now I usually just create a csv, import the csv, and save as a shapefile.

Thanks,

Josh Q

-----Original Message-----
From: Martin Dobias [mailto:wonder.sk at gmail.com] 
Sent: Monday, June 12, 2017 5:43 AM
To: Barry Rowlingson <b.rowlingson at lancaster.ac.uk>
Cc: Joshua Quesenberry <engnfrc at gmail.com>; qgis-developer <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] USNG Coordinate System

On Mon, Jun 12, 2017 at 10:13 AM, Barry Rowlingson <b.rowlingson at lancaster.ac.uk> wrote:
>
> Would that be useful to you? It could be implemented as a Qgis python 
> function - its some string parsing and numeric manipulation.

There are few plugins that add support for some coordinate systems - for example this plugin translates between map coordinates and OSGB Grid Ref (e.g. SX 7511 8607):
https://github.com/mtravis/gridref-qgis

You could use that one as a reference for your translator. It could be also a nice piece of functionality directly in QGIS where plugins could register their converter and QGIS would handle all the GUI related functionality (which plugins currently need to do themselves).

Cheers
Martin


From rjhale at northrivergeographic.com  Tue Jun 13 18:59:21 2017
From: rjhale at northrivergeographic.com (Randal Hale)
Date: Tue, 13 Jun 2017 21:59:21 -0400
Subject: [QGIS-Developer] USNG Coordinate System
In-Reply-To: <00ae01d2e4a9$cecea1e0$6c6be5a0$@gmail.com>
References: <01f201d2dc9a$fe17c290$fa4747b0$@gmail.com>
 <41b83ea017084985a4f57329146802d1@EX-0-HT0.lancs.local>
 <CANVKczO_RzQ_kbobzceEi8Bbso+t7u79DgHAykqNyGRbSrhoRg@mail.gmail.com>
 <CAC2XbFfEjtp49N-DNBTjvKE+ETm0eaEMhQqqzXXV95qAnDggHw@mail.gmail.com>
 <00ae01d2e4a9$cecea1e0$6c6be5a0$@gmail.com>
Message-ID: <1497405561.8383.1.camel@northrivergeographic.com>

If you dig a bit this thread comes up: http://osgeo-org.1560.x6.nabble.
com/MGRS-USNG-support-td3850052.html

Which the thread was from 2006 and the USNG was a bit new (from what I
can gather). 

There is some python code that converts USNG to Coordinates and
Coordinates to USNG-> http://pydoc.net/Python/geocamUtil/0.1/geocamUtil
.usng.usng/ (I've not used it but it's on the list)

It's MIT license - so I'm not sure how that would play with a plugin in
QGIS - but it might be a way to use the OSGB plugin below. 


Randy


-----Original Message-----

Date: Tue, 13 Jun 2017 21:01:50 -0400
Subject: Re: [QGIS-Developer] USNG Coordinate System
Cc: 'qgis-developer' <qgis-developer at lists.osgeo.org>
To: 'Martin Dobias' <wonder.sk at gmail.com>, 'Barry Rowlingson' <b.rowlin
gson at lancaster.ac.uk>
From: Joshua Quesenberry <engnfrc at gmail.com>
Barry,

I guess the kind of support I'm looking for would be the ability to
create points using USNG coordinates, importing points from a file full
of USNG formatted coordinates, seeing coordinates listed in USNG format
in the window at the bottom of the window, saving in a shapefile, etc.
I didn't realize Shapefile's can't store USNG format, so I guess that's
does present issues...

USNG is now FEMA's standardized coordinate system, which includes
Search & Rescue, which I do a lot of. So imagine being in the middle of
an operation where USNG is being used... a team radios in the location
of a clue or a patient, the next step for the GIS person right now
would have to be converting  the USNG coordinate to either UTM or Lat
Lon, this all takes extra time and I haven't been able to find a good
offline coordinate converter. Ideally you switch the layer to edit
mode, navigate to the location, and click to add the point. If there
were an "Add Point" button that pops up a dialog where you enter a
USNG/UTM/LatLon coordinate would be a little better more. If I have a
list of points to add right now I usually just create a csv, import the
csv, and save as a shapefile.

Thanks,

Josh Q

-----Original Message-----
From: Martin Dobias [mailto:wonder.sk at gmail.com] 
Sent: Monday, June 12, 2017 5:43 AM
To: Barry Rowlingson <b.rowlingson at lancaster.ac.uk>
Cc: Joshua Quesenberry <engnfrc at gmail.com>; qgis-developer <qgis-develo
per at lists.osgeo.org>
Subject: Re: [QGIS-Developer] USNG Coordinate System

On Mon, Jun 12, 2017 at 10:13 AM, Barry Rowlingson <b.rowlingson at lancas
ter.ac.uk> wrote:
> Would that be useful to you? It could be implemented as a Qgis
> python 
> function - its some string parsing and numeric manipulation.

There are few plugins that add support for some coordinate systems -
for example this plugin translates between map coordinates and OSGB
Grid Ref (e.g. SX 7511 8607):
https://github.com/mtravis/gridref-qgis

You could use that one as a reference for your translator. It could be
also a nice piece of functionality directly in QGIS where plugins could
register their converter and QGIS would handle all the GUI related
functionality (which plugins currently need to do themselves).

Cheers
Martin

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-- 
Randal Hale 
rjhale at northrivergeographic.com
https://www.northrivergeographic.com
(423) 653-3611
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170613/c6841c70/attachment.html>

From rdmailings at duif.net  Tue Jun 13 23:03:15 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 14 Jun 2017 08:03:15 +0200
Subject: [QGIS-Developer] Lost redmine wiki contents ...
In-Reply-To: <A87E66F06E86F14B857F2EB047CDF93203A621@prdassexch01.ad.linz.govt.nz>
References: <A87E66F06E86F14B857F2EB047CDF93203A621@prdassexch01.ad.linz.govt.nz>
Message-ID: <fc7ec0d6-5fc8-f44f-63d6-74fad97afa8a@duif.net>

On 13-06-17 22:46, Chris Crook wrote:
> Hi
> 
> Does anyone know where the content of:
> 
> https://issues.qgis.org/wiki/quantum-gis/Python_plugin_API_changes_from_18_to_20

Hi Chris,

Yep, they are archived. We moved and upgraded Redmine from hub.qgis.org
to issues.qgis.org and retired the wiki and older projects.

If you really need it I can dig it up from the database dump we created
for the move.

Just let me know.

Regards,

Richard Duivenvoorde


From bnhr.dev at gmail.com  Tue Jun 13 23:51:17 2017
From: bnhr.dev at gmail.com (Ben Hur Pintor)
Date: Wed, 14 Jun 2017 14:51:17 +0800
Subject: [QGIS-Developer] multipartToSingleParts via code
In-Reply-To: <200667769.3588666.1497346316572.JavaMail.zimbra@arpa.piemonte.it>
References: <325453884.3489203.1497279246829.JavaMail.zimbra@arpa.piemonte.it>
 <373741637.3491037.1497279696509.JavaMail.zimbra@arpa.piemonte.it>
 <CAB28Asig3fYyJHjEMacXtG6aE0Naxh+M1iFDLmJtwHt=SivyCw@mail.gmail.com>
 <131337031.3556765.1497340167034.JavaMail.zimbra@arpa.piemonte.it>
 <CAB28Ashgq4=+SmHWF-ZuLeT3gsWDZ9oMWBAyEM3+3CTqeqsT-Q@mail.gmail.com>
 <200667769.3588666.1497346316572.JavaMail.zimbra@arpa.piemonte.it>
Message-ID: <CAFAduOQMDkFFEgZYP90BpocGbiB59guOzg-D_VA+kgeZx8bzRw@mail.gmail.com>

What do you mean by *"The plugin runs correctly only the FIRST time.*
*Then, when it finishes, if I run again the plugin choosing an input2
vectorlayer, the processing algorithm doesn't see the input2 and my ouput
remains output1."? *

Are you calling the algorithm inside a loop? May I have a look at your
code? Maybe the issue is in the Python code and not necessarily on QGIS.

I usually use *processing.runandload()* because it automatically adds the
resulting layer.

Regards,

Ben Hur

On Tue, Jun 13, 2017 at 5:31 PM, Stefano Masera <
stefano.masera at arpa.piemonte.it> wrote:

> Thanks Nyali.
> The reason is that if I use processing it doens't work correctly.
> In details, if I write:
>
> import processing
> processing.runalg("qgis:multiparttosingleparts", input1, output1)
>
> The plugin runs correctly only the FIRST time.
> Then, when it finishes, if I run again the plugin choosing an input2
> vectorlayer, the processing algorithm doesn't see the input2 and my ouput
> remains output1.
> It's crazy!
> It's something like a bad refresh..
>
> If you have another solution....
>
> Thank you very much.
>
> Stefano
>
>
> ------------------------------
> *Da: *"Nyall Dawson" <nyall.dawson at gmail.com>
> *A: *"Stefano Masera" <stefano.masera at arpa.piemonte.it>
> *Cc: *"qgis-developer" <qgis-developer at lists.osgeo.org>
> *Inviato: *Martedì, 13 giugno 2017 10:20:31
> *Oggetto: *Re: [QGIS-Developer] multipartToSingleParts via code
>
> On 13 June 2017 at 17:49, Stefano Masera
> <stefano.masera at arpa.piemonte.it> wrote:
> > Hi Nyali,
> > in a few words I want to do a multipartToSingleParts (for a VectorLayer)
> via
> > code without using the processing module.
>
> Any particular reason why?
>
> In any case, I'd suggest copying the code used by processing:
> https://github.com/qgis/QGIS/blob/release-2_18/python/
> plugins/processing/algs/qgis/MultipartToSingleparts.py#L66
>
> Nyall
>
> --
> Questo messaggio e' stato analizzato ed e' risultato non infetto.
> This message was scanned and is believed to be clean.
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
---

*Engr. Ben Hur S. Pintor*
*Research Associate*
Phil-LiDAR 2 Project 5: REMap
UP Training Center for Applied Geodesy and Photogrammetry


*Juris Doctor*
College of Law
*University of the Philippines Diliman*
Quezon City 1101, PHL
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170614/f49c5868/attachment-0001.html>

From matthias at opengis.ch  Tue Jun 13 23:52:43 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 14 Jun 2017 08:52:43 +0200
Subject: [QGIS-Developer] Lost redmine wiki contents ...
In-Reply-To: <fc7ec0d6-5fc8-f44f-63d6-74fad97afa8a@duif.net>
References: <A87E66F06E86F14B857F2EB047CDF93203A621@prdassexch01.ad.linz.govt.nz>
 <fc7ec0d6-5fc8-f44f-63d6-74fad97afa8a@duif.net>
Message-ID: <d7833d43-7d1b-1538-ca98-0ce6ede1f959@opengis.ch>

Hi


On 6/14/17 8:03 AM, Richard Duivenvoorde wrote:
> On 13-06-17 22:46, Chris Crook wrote:
>> Hi
>>
>> Does anyone know where the content of:
>>
>> https://issues.qgis.org/wiki/quantum-gis/Python_plugin_API_changes_from_18_to_20

here you go:

https://web.archive.org/web/20160623213331/https://hub.qgis.org/wiki/quantum-gis/Python_plugin_API_changes_from_18_to_20

This could be migrated to the api docs (in the qgis source code) where
we the changes from QGIS 2 to QGIS 3 are maintained as well.
Matthias


From jef at norbit.de  Tue Jun 13 23:55:10 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed, 14 Jun 2017 08:55:10 +0200
Subject: [QGIS-Developer] Lost redmine wiki contents ...
In-Reply-To: <A87E66F06E86F14B857F2EB047CDF93203A621@prdassexch01.ad.linz.govt.nz>
References: <A87E66F06E86F14B857F2EB047CDF93203A621@prdassexch01.ad.linz.govt.nz>
Message-ID: <20170614065510.rdfkd57u5mkpr5kp@norbit.de>

Hi Chris,

On Tue, 13. Jun 2017 at 20:46:18 +0000, Chris Crook wrote:
> https://issues.qgis.org/wiki/quantum-gis/Python_plugin_API_changes_from_18_to_20

https://github.com/qgis/QGIS/wiki/Python_plugin_API_changes_from_18_to_20


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170614/7c5b0251/attachment.sig>

From etienne.trimaille at gmail.com  Wed Jun 14 00:05:57 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Wed, 14 Jun 2017 09:05:57 +0200
Subject: [QGIS-Developer] [Qgis-developer] Processing UI looks strange
In-Reply-To: <6263cfa8-1c62-8929-c198-2576c4cb2f78@gmail.com>
References: <2788fa47-c4a7-eedb-edc6-510fdd30eb56@gmail.com>
 <66ebc3b9-71dc-95ae-d5d3-827dd1429e50@gmail.com>
 <af9cef3a-9d07-fe04-184f-4868bc55900f@gmail.com>
 <20fb8fdd-e3da-8218-6986-a6b055d7b071@gmail.com>
 <4af54553-7fe5-e6e8-306d-43d50017cad0@worldonline.co.za>
 <6263cfa8-1c62-8929-c198-2576c4cb2f78@gmail.com>
Message-ID: <CAMtDFLJkEsp8vWfKMM5MJsMPnvYTczGW+G3x_c4Gtgf2XWzt1A@mail.gmail.com>

Hi Matteo and others,

This issue is still no fixed, right? I still have it. We will have to git
bissect to check when this problem came.

Regards,
Etienne
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170614/e3617b5f/attachment.html>

From matteo.ghetta at gmail.com  Wed Jun 14 01:03:41 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 14 Jun 2017 10:03:41 +0200
Subject: [QGIS-Developer] [Qgis-developer] Processing UI looks strange
In-Reply-To: <CAMtDFLJkEsp8vWfKMM5MJsMPnvYTczGW+G3x_c4Gtgf2XWzt1A@mail.gmail.com>
References: <2788fa47-c4a7-eedb-edc6-510fdd30eb56@gmail.com>
 <66ebc3b9-71dc-95ae-d5d3-827dd1429e50@gmail.com>
 <af9cef3a-9d07-fe04-184f-4868bc55900f@gmail.com>
 <20fb8fdd-e3da-8218-6986-a6b055d7b071@gmail.com>
 <4af54553-7fe5-e6e8-306d-43d50017cad0@worldonline.co.za>
 <6263cfa8-1c62-8929-c198-2576c4cb2f78@gmail.com>
 <CAMtDFLJkEsp8vWfKMM5MJsMPnvYTczGW+G3x_c4Gtgf2XWzt1A@mail.gmail.com>
Message-ID: <e4aaace9-f564-cbb2-a292-47550991b095@gmail.com>

HI Etienne,

well I get some installation and reinstallation and messing things up in
my computer so I don't have this problem anymore. Here what I did.

I get some "issues" when designing UI plugins interface with Qt and
using the Qgs Widgets: every time I save the UI in QT Designer, all he
QgsWidget are saved for example as something like qgscollapsible.h and
QGIS is not able to load them.
So I have to manually enter the UI file and replace all the qgsxxxx.h
with qgis.gui

This started to happens when I removed the qgis_customwidgets.py file
from the plugins directory Qt
(/usr/lib/python2.7/dist-packages/PyQt4/uic/widget-plugins/).
Removing this file from there seems to let Processing UI looks fine
while you get this small problem with the qgs widget in QtDesigner

Hope this helps
Cheers

Matteo




From sokolic at worldonline.co.za  Wed Jun 14 00:39:09 2017
From: sokolic at worldonline.co.za (Frank Sokolic)
Date: Wed, 14 Jun 2017 09:39:09 +0200
Subject: [QGIS-Developer] [Qgis-developer] Processing UI looks strange
In-Reply-To: <CAMtDFLJkEsp8vWfKMM5MJsMPnvYTczGW+G3x_c4Gtgf2XWzt1A@mail.gmail.com>
References: <2788fa47-c4a7-eedb-edc6-510fdd30eb56@gmail.com>
 <66ebc3b9-71dc-95ae-d5d3-827dd1429e50@gmail.com>
 <af9cef3a-9d07-fe04-184f-4868bc55900f@gmail.com>
 <20fb8fdd-e3da-8218-6986-a6b055d7b071@gmail.com>
 <4af54553-7fe5-e6e8-306d-43d50017cad0@worldonline.co.za>
 <6263cfa8-1c62-8929-c198-2576c4cb2f78@gmail.com>
 <CAMtDFLJkEsp8vWfKMM5MJsMPnvYTczGW+G3x_c4Gtgf2XWzt1A@mail.gmail.com>
Message-ID: <9269865c-0e3b-f756-7d6d-e1c8913096cb@worldonline.co.za>

Hi Etienne,

Are you referring to this issue: https://issues.qgis.org/issues/16428

I have still got this problem and as a result can't use or test 
processing on Master.

Frank.

On 14/06/2017 09:05, Etienne Trimaille wrote:
> Hi Matteo and others,
>
> This issue is still no fixed, right? I still have it. We will have to 
> git bissect to check when this problem came.
>
> Regards,
> Etienne
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170614/9e96d2c0/attachment.html>

From stefano.masera at arpa.piemonte.it  Wed Jun 14 02:13:04 2017
From: stefano.masera at arpa.piemonte.it (Stefano Masera)
Date: Wed, 14 Jun 2017 11:13:04 +0200 (CEST)
Subject: [QGIS-Developer] multipartToSingleParts via code
In-Reply-To: <released-zMOlJHA4ohzqQsP+6o_gkfnh@cloudscan2.ilger.com>
References: <325453884.3489203.1497279246829.JavaMail.zimbra@arpa.piemonte.it>
 <373741637.3491037.1497279696509.JavaMail.zimbra@arpa.piemonte.it>
 <CAB28Asig3fYyJHjEMacXtG6aE0Naxh+M1iFDLmJtwHt=SivyCw@mail.gmail.com>
 <released-zMOlJHA4ohzqQsP+6o_gkfnh@cloudscan2.ilger.com>
Message-ID: <877573303.3783666.1497431584480.JavaMail.zimbra@arpa.piemonte.it>

Hi Ben and Nyall, 
thanks for your answers. 
I resolve the question with the Nyall's processing link and using a part of the code in that link. 
It's a little bit difficult for me explain better what's happened because my plugin it's articulated (for my experience), and the multiparttosinglepart is a little part of the code. 
You can see the actual version installing it from the official repository, the name is "opeNoise", but in the actual there isn't this problem because I didn't need to use multiparttosinglepart. 
Now I'm workinkg to a develop of the plugin. 
In any case now it's all ok, even if I didn't use processing algorithm in the code. 

Thank you very much! 

Bye 
Stefano 






----- Messaggio originale -----

Da: "Ben Hur Pintor" <bnhr.dev at gmail.com> 
A: "Nyall Dawson" <nyall.dawson at gmail.com> 
Cc: "Stefano Masera" <stefano.masera at arpa.piemonte.it>, "qgis-developer" <qgis-developer at lists.osgeo.org> 
Inviato: Martedì, 13 giugno 2017 5:24:38 
Oggetto: Re: [QGIS-Developer] multipartToSingleParts via code 

Hi Stefano. 

Correct me if I'm wrong but my understanding is that you want to be able to call "multiparttosingleparts" in his code the same way you call dissolve. 

Something like: 

from qgis.xxx import * 
xxx = YYY 
xxx.multiparttosingleparts(input, output) 

Have you tried looking at the API? 

I haven't used the qgis processing algorithims in my Python code that way since they already work fine the way they do now. May I know why you'd like such a use case? 


Regards, 

Ben Hur 

On Tue, Jun 13, 2017 at 5:33 AM, Nyall Dawson < nyall.dawson at gmail.com > wrote: 


On 13 June 2017 at 01:01, Stefano Masera 
< stefano.masera at arpa.piemonte.it > wrote: 
> Hi list, 
> I want to use the 'multiPartToSinglePart' script via code for my plugin. 
> I can use it importing processing like this: 
> 
> import processing 
> processing.runalg("qgis:multiparttosingleparts", input, output) 
> 
> but I wan't to use it in a different way, like I already do with the 
> 'dissolve' script: 
> 
> from qgis.analysis import * 
> analyzer = QgsGeometryAnalyzer() 
> analyzer.dissolve(input, output) 
> 
> (even if I could write: 
> import processing 
> processing.runalg("qgis:dissolve",input,output) 
> ) 
> 
> Is it possible? 

Sorry, I don't understand exactly what it is you're wanting to do. Can 
you clarify? 

Nyall 
_______________________________________________ 
QGIS-Developer mailing list 
QGIS-Developer at lists.osgeo.org 
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 






-- 
--- 

Engr. Ben Hur S. Pintor 
Research Associate 
Phil-LiDAR 2 Project 5: REMap 
UP Training Center for Applied Geodesy and Photogrammetry 

Juris Doctor 
College of Law 
University of the Philippines Diliman 
Quezon City 1101, PHL 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170614/2e1973ec/attachment-0001.html>

From olivier.dalang at gmail.com  Wed Jun 14 05:33:43 2017
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Wed, 14 Jun 2017 12:33:43 +0000
Subject: [QGIS-Developer] native XYZ layers - zoom level
In-Reply-To: <CAC2XbFcrpdsgUsje9CDzPu85Li0rUQ04UmwBCX-nGHmWSPthjg@mail.gmail.com>
References: <CAExk7p1TYs1tgcSds8mw1T1Dubc4XGJaApNPHM-YGxAzex5adw@mail.gmail.com>
 <CAC2XbFcrpdsgUsje9CDzPu85Li0rUQ04UmwBCX-nGHmWSPthjg@mail.gmail.com>
Message-ID: <CAExk7p2bTdCuUg7ZMGLYSOr2hQW4HBTJ7rZLt6r0k37X+4CmQw@mail.gmail.com>

Awesome that will perfectly do until 3.0. Thanks again. I closed the issue
and added your comment in case anyone has the smae problem.

Bests,

Olivier


2017-06-13 15:54 GMT+00:00 Martin Dobias <wonder.sk at gmail.com>:

> Hi Olivier
>
> On Tue, Jun 13, 2017 at 3:44 PM, Olivier Dalang
> <olivier.dalang at gmail.com> wrote:
> > Hi !
> >
> > I reported a bug some days ago about the new XYZ layers. It seems only
> the
> > first 19 zoom levels are displayed. I write here since I'm not sure the
> bug
> > gets attention in the tracker : https://issues.qgis.org/issues/16665
> >
> > Here we are working with drone photography and zoom level goes up to 22
> or
> > 23. This makes the native XYZ layers unusable for us, which is sad
> because
> > it's a very convenient way to distribute large rasters to our users.
>
> Actually this is already implemented. In QGIS 3.0 there is also GUI to
> configure the min/max zoom level for XYZ tiles. In QGIS 2.18 it is not
> available in GUI, but it can be still configured when adding XYZ tiles
> layer in Python - one just needs to specify "zmin" and/or "zmax"
> parameters in data source URI.
>
>
> > Martin Dobias, from what I understood, you implemented this in QGIS ?
> Many
> > thanks, it's an awesome feature, an works very well even with poor
> internet
> > connection. I assigned the bug to you, but am not sure it's a polite move
> > without asking ? I'm currently looking at the source to see if I can spot
> > how to fix this.
>
> In general it is better not to assign developers to bugs unless they
> told you so in a prior discussion. It can also confuse others to think
> that a bug/feature is being actively worked on while it is not. If you
> want to make someone aware of a particular bug, you could add them to
> the list of watchers of a ticket, so they get notified...
>
> Regards
> Martin
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170614/a8ba8e95/attachment.html>

From noreply at qgis.org  Wed Jun 14 08:02:29 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 14 Jun 2017 15:02:29 -0000
Subject: [QGIS-Developer] Plugin [1180] cartogram3 approval notification.
Message-ID: <20170614150229.7316.32806@320558c5528b>


Plugin cartogram3 approval by pcav.
The plugin version "[1180] cartogram3 2.99.5" is now approved
Link: http://plugins.qgis.org/plugins/cartogram3/

From adenaculture at gmail.com  Wed Jun 14 08:16:54 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 14 Jun 2017 11:16:54 -0400
Subject: [QGIS-Developer] Building QGIS on Windows 7
Message-ID: <CABPxTTonJayy0wS6mAqGg21xkVrrsSWARDez1bKubvXLXn=qug@mail.gmail.com>

I am attempting to build QGIS on Windows 7 and am getting errors in the
cmake-gui. I followed the general instructions found here:

https://github.com/qgis/QGIS/blob/master/INSTALL

When I run "Configure" in cmake-gui it cannot find:
Qt5Core_DIR
Qt5Gui_DIR
SPATIALINDEX_LIBRARY

This is the message:

CMake Error at CMakeLists.txt:249 (FIND_PACKAGE):
By not providing "FindQt5Gui.cmake" in CMAKE_MODULE_PATH this project has
asked CMake to find a package configuration file provided by "Qt5Gui", but
CMake did not find one.

Could not find a package configuration file provided by "Qt5Gui" with any
of the following names:

Qt5GuiConfig.cmake
qt5gui-config.cmake

Add the installation prefix of "Qt5Gui" to CMAKE_PREFIX_PATH or set
"Qt5Gui_DIR" to a directory containing one of the above files. If "Qt5Gui"
provides a separate development package or SDK, be sure it has been
installed.

Do you have any idea what I am missing? This is my environment set up
script:

@echo off
set VS90COMNTOOLS=%PROGRAMFILES(X86)%\Microsoft Visual Studio
14.0\Common7\Tools\
call "%PROGRAMFILES(X86)%\Microsoft Visual Studio 14.0\VC\vcvarsall.bat"
x86_amd64

set INCLUDE=%INCLUDE%;%PROGRAMFILES(X86)%\Microsoft
SDKs\Windows\v7.1A\include
set LIB=%LIB%;%PROGRAMFILES%\Microsoft SDKs\Windows\v7.1A\lib

set OSGEO4W_ROOT=C:\OSGeo4W64
call "%OSGEO4W_ROOT%\bin\o4w_env.bat"
path %PATH%;%PROGRAMFILES%\CMake\bin;c:\cygwin64\bin;c:\bin

@set GRASS_PREFIX=c:/OSGeo4W64/apps/grass/grass-7.2.1
@set
INCLUDE=%INCLUDE%;%OSGEO4W_ROOT%\include;%OSGEO4W_ROOT%\apps\Qt5\include
@set LIB=%LIB%;%OSGEO4W_ROOT%\lib;%OSGEO4W_ROOT%\apps\Qt5\lib

@cmd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170614/74ab9293/attachment.html>

From noreply at qgis.org  Wed Jun 14 08:26:12 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 14 Jun 2017 15:26:12 -0000
Subject: [QGIS-Developer] Plugin [788] Space Syntax Toolkit approval
	notification.
Message-ID: <20170614152612.6324.37863@320558c5528b>


Plugin Space Syntax Toolkit approval by pcav.
The plugin version "[788] Space Syntax Toolkit 0.1.7" is now approved
Link: http://plugins.qgis.org/plugins/esstoolkit/

From noreply at qgis.org  Wed Jun 14 08:27:06 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 14 Jun 2017 15:27:06 -0000
Subject: [QGIS-Developer] Plugin [1216] SPZ Builder approval notification.
Message-ID: <20170614152706.7316.15511@320558c5528b>


Plugin SPZ Builder approval by pcav.
The plugin version "[1216] SPZ Builder 1.1.0" is now approved
Link: http://plugins.qgis.org/plugins/SpzBuilder/

From abrabacabra at openmailbox.org  Wed Jun 14 09:00:52 2017
From: abrabacabra at openmailbox.org (Patrice)
Date: Wed, 14 Jun 2017 12:00:52 -0400
Subject: [QGIS-Developer] Bug with Statist plugin
Message-ID: <9b922081-569d-264d-6305-b28addb562d1@openmailbox.org>

There is a bug with the Statist plugin.

-------------------------------------------------------------

The plugin is broken. Python said:
cannot import name NavigationToolbar2QTAgg

-------------------------------------------------------------

As suggested by user'spaceof7'  on github, changing line 49

from matplotlib.backends.backend_qt4agg import NavigationToolbar2QTAgg 
as NavigationToolbar
to:
from matplotlib.backends.backend_qt4agg import NavigationToolbar2QT as 
NavigationToolbar


fixes the problem.


The git repository doesn't seem up to date (last update is from 2013.) 
and code has obviouslychanged since (when comparing sources).



Patrice




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170614/be4a56f5/attachment.html>

From ccrook at linz.govt.nz  Wed Jun 14 11:13:47 2017
From: ccrook at linz.govt.nz (Chris Crook)
Date: Wed, 14 Jun 2017 18:13:47 +0000
Subject: [QGIS-Developer] Lost redmine wiki contents ...
In-Reply-To: <20170614065510.rdfkd57u5mkpr5kp@norbit.de>
References: <A87E66F06E86F14B857F2EB047CDF93203A621@prdassexch01.ad.linz.govt.nz>,
 <20170614065510.rdfkd57u5mkpr5kp@norbit.de>
Message-ID: <A87E66F06E86F14B857F2EB047CDF93203AD3F@prdassexch01.ad.linz.govt.nz>

Thanks Jürgen and Matthias for restoring this content.  Very helpful as I have an old plugin to upgrade and have found this useful more than once for that.

Cheers
Chris
________________________________________
From: QGIS-Developer [qgis-developer-bounces at lists.osgeo.org] on behalf of Jürgen E. Fischer [jef at norbit.de]
Sent: 14 June 2017 18:55
To: qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] Lost redmine wiki contents ...

Hi Chris,

On Tue, 13. Jun 2017 at 20:46:18 +0000, Chris Crook wrote:
> https://issues.qgis.org/wiki/quantum-gis/Python_plugin_API_changes_from_18_to_20

https://github.com/qgis/QGIS/wiki/Python_plugin_API_changes_from_18_to_20


Jürgen

--
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode

________________________________

This message contains information, which may be in confidence and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.

From nyall.dawson at gmail.com  Wed Jun 14 14:41:06 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 15 Jun 2017 07:41:06 +1000
Subject: [QGIS-Developer] Geodesic Measure Tool With Bearing Information
In-Reply-To: <CABPxTTo+TeuNddRrorw-hZh6e8N0NeEAAWHt_b1TX70uoQ-PEg@mail.gmail.com>
References: <CABPxTToH+UU2aC9jG_KjY-RLmpk5-Qh63KJC=zwVNmthrNQA8A@mail.gmail.com>
 <CAB28Asj4zJADEAGanYKjhwsWyDYkLnT_YdNGs-B_7jsnXi1ciA@mail.gmail.com>
 <CABPxTTo+TeuNddRrorw-hZh6e8N0NeEAAWHt_b1TX70uoQ-PEg@mail.gmail.com>
Message-ID: <CAB28Asj=TTvj_FqEXep_+BqbD16199zGSE=4LU+C4pU48ZOBoA@mail.gmail.com>

On 13 June 2017 at 00:20, C Hamilton <adenaculture at gmail.com> wrote:

>>
>> > Right now it could use the Vincinty algorithms in QGIS to calculate the
>> > distances, but eventually I would like to see the geographiclib
>> > algorithms
>> > used.
>>
>> I'd start with the bearing changes (since they are self contained, and
>> the methods for calculating bearing are already present in the QGIS
>> api). Then using geographiclib could be discussed as a separate set of
>> changes, to be decided on its own merit. If you mix these two changes
>> it's likely to get bogged down as one or other part of the changes are
>> debated.
>
>
> Ok.

This looks relevant:

https://github.com/sourcepole/kadas-albireo/commit/df64318e5198f40f0e96d27fcf9e179fbbf682fd

There's a lot of unrelated changes in there, but it also shows the
basics for using geographiclib within the QGIS c++ code.

Nyall

From even.rouault at spatialys.com  Wed Jun 14 14:53:14 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 14 Jun 2017 23:53:14 +0200
Subject: [QGIS-Developer] Geodesic Measure Tool With Bearing Information
In-Reply-To: <CAB28Asj=TTvj_FqEXep_+BqbD16199zGSE=4LU+C4pU48ZOBoA@mail.gmail.com>
References: <CABPxTToH+UU2aC9jG_KjY-RLmpk5-Qh63KJC=zwVNmthrNQA8A@mail.gmail.com>
 <CABPxTTo+TeuNddRrorw-hZh6e8N0NeEAAWHt_b1TX70uoQ-PEg@mail.gmail.com>
 <CAB28Asj=TTvj_FqEXep_+BqbD16199zGSE=4LU+C4pU48ZOBoA@mail.gmail.com>
Message-ID: <3423122.3TymC6eQmE@even-i700>

On jeudi 15 juin 2017 07:41:06 CEST Nyall Dawson wrote:
> On 13 June 2017 at 00:20, C Hamilton <adenaculture at gmail.com> wrote:
> >> > Right now it could use the Vincinty algorithms in QGIS to calculate the
> >> > distances, but eventually I would like to see the geographiclib
> >> > algorithms
> >> > used.
> >> 
> >> I'd start with the bearing changes (since they are self contained, and
> >> the methods for calculating bearing are already present in the QGIS
> >> api). Then using geographiclib could be discussed as a separate set of
> >> changes, to be decided on its own merit. If you mix these two changes
> >> it's likely to get bogged down as one or other part of the changes are
> >> debated.
> > 
> > Ok.
> 
> This looks relevant:
> 
> https://github.com/sourcepole/kadas-albireo/commit/df64318e5198f40f0e96d27fc
> f9e179fbbf682fd
> 
> There's a lot of unrelated changes in there, but it also shows the
> basics for using geographiclib within the QGIS c++ code.
> 

Note that at least since proj 4.9.0, Charles Karney has ported its geodesic code from 
geographiclib in C (since proj.4 is C only) and the header is normally installed with proj-dev 
package (I've just checked on my Ubuntu 16.04 with proj 4.9.2. I see it is also available in 
OSGeo4W):

https://github.com/OSGeo/proj.4/blob/4.9.0/src/geodesic.h

Even
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170614/364e29ea/attachment.html>

From woklist at kyngchaos.com  Wed Jun 14 17:41:39 2017
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed, 14 Jun 2017 19:41:39 -0500
Subject: [QGIS-Developer] Qt & Python version for QGIS 3
In-Reply-To: <6b4dc4da-87dd-2ef9-8f1f-13908d963dfd@comcast.net>
References: <12CEADF7-3894-40DC-95AE-2650BF3C86CF@kyngchaos.com>
 <6b4dc4da-87dd-2ef9-8f1f-13908d963dfd@comcast.net>
Message-ID: <87E00B5F-610F-4FDA-AEF5-4B3C82D58653@kyngchaos.com>

How did you build QtWebkit 5.9, or PyQt?  I have the Qt 5.9 binaries, built QtWebkit 5.9 from the Qt project version of the source, but qmake doesn't see it when building PyQt 5.9 (dev).  qmake says:

Project ERROR: Unknown module(s) in QT: webkit
Project ERROR: Unknown module(s) in QT: webkitwidgets

and skips building the webkit parts of PyQt.

The PyQt list wasn't any help.  Other than suggesting trying the annulen source for QtWebkit, which I haven't yet.  Apparently the Qt version doesn't get webkit security updates, the annulen version does.

> On Jun 6, 2017, at 11:07 AM, Tom Elwertowski <telwertowski at comcast.net> wrote:
> 
> Hi William,
> 
> I rebuilt QGIS using Qt 5.9 and works the same as with Qt 5.8. I also rebuilt the Qt dependencies: QtWebKit 5.9.0, QScintilla 2.10, PyQt 5.8.2, QCA 5f18ebc, QtKeyChain 0.8.0 and Qwt 6.1.3.
> 
> I did not update the QGIS path fixing installation scripts. Doing 'export DYLD_LIBRARY_PATH=/Applications/Qt/5.9/clang_64/lib' and launching from the command line gets around this.
> 
> qt.conf must contain:
> [Paths]
> Prefix=/Applications/Qt/5.9/clang_64
> 
> Tom
> LinkedIn: https://www.linkedin.com/in/thomas-elwertowski-a0886032
> 
> 
> On 6/5/17 4:46 PM, William Kyngesburye wrote:
>> I'm starting to look at building QGIS 3, and I'd like to know what recent versions of Qt5 and Python 3 are supported.  I see Qt is up to 5.9 and Python is up to 3.6.
>> -----
>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>> http://www.kyngchaos.com/
>> Theory of the Universe
>> There is a theory which states that if ever anyone discovers exactly what the universe is for and why it is here, it will instantly disappear and be replaced by something even more bizarrely inexplicable.  There is another theory which states that this has already happened.
>> -Hitchhiker's Guide to the Galaxy 2nd season intro
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Time is an illusion - lunchtime doubly so."

- Ford Prefect



From woklist at kyngchaos.com  Wed Jun 14 17:48:49 2017
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed, 14 Jun 2017 19:48:49 -0500
Subject: [QGIS-Developer] Qt & Python version for QGIS 3
In-Reply-To: <87E00B5F-610F-4FDA-AEF5-4B3C82D58653@kyngchaos.com>
References: <12CEADF7-3894-40DC-95AE-2650BF3C86CF@kyngchaos.com>
 <6b4dc4da-87dd-2ef9-8f1f-13908d963dfd@comcast.net>
 <87E00B5F-610F-4FDA-AEF5-4B3C82D58653@kyngchaos.com>
Message-ID: <154C811C-D2A4-406A-82AE-E3A31BFCC631@kyngchaos.com>

Right after I sent that, I found something on stackoverflow about installing the mkspecs/modules .pri files for qtwebkit, now PyQt is building qtwebkit.

> On Jun 14, 2017, at 7:41 PM, William Kyngesburye <woklist at kyngchaos.com> wrote:
> 
> How did you build QtWebkit 5.9, or PyQt?  I have the Qt 5.9 binaries, built QtWebkit 5.9 from the Qt project version of the source, but qmake doesn't see it when building PyQt 5.9 (dev).  qmake says:
> 
> Project ERROR: Unknown module(s) in QT: webkit
> Project ERROR: Unknown module(s) in QT: webkitwidgets
> 
> and skips building the webkit parts of PyQt.
> 
> The PyQt list wasn't any help.  Other than suggesting trying the annulen source for QtWebkit, which I haven't yet.  Apparently the Qt version doesn't get webkit security updates, the annulen version does.
> 
>> On Jun 6, 2017, at 11:07 AM, Tom Elwertowski <telwertowski at comcast.net> wrote:
>> 
>> Hi William,
>> 
>> I rebuilt QGIS using Qt 5.9 and works the same as with Qt 5.8. I also rebuilt the Qt dependencies: QtWebKit 5.9.0, QScintilla 2.10, PyQt 5.8.2, QCA 5f18ebc, QtKeyChain 0.8.0 and Qwt 6.1.3.
>> 
>> I did not update the QGIS path fixing installation scripts. Doing 'export DYLD_LIBRARY_PATH=/Applications/Qt/5.9/clang_64/lib' and launching from the command line gets around this.
>> 
>> qt.conf must contain:
>> [Paths]
>> Prefix=/Applications/Qt/5.9/clang_64
>> 
>> Tom
>> LinkedIn: https://www.linkedin.com/in/thomas-elwertowski-a0886032
>> 
>> 
>> On 6/5/17 4:46 PM, William Kyngesburye wrote:
>>> I'm starting to look at building QGIS 3, and I'd like to know what recent versions of Qt5 and Python 3 are supported.  I see Qt is up to 5.9 and Python is up to 3.6.
>>> -----
>>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>>> http://www.kyngchaos.com/
>>> Theory of the Universe
>>> There is a theory which states that if ever anyone discovers exactly what the universe is for and why it is here, it will instantly disappear and be replaced by something even more bizarrely inexplicable.  There is another theory which states that this has already happened.
>>> -Hitchhiker's Guide to the Galaxy 2nd season intro
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
> 
> "Time is an illusion - lunchtime doubly so."
> 
> - Ford Prefect
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Oh, look, I seem to have fallen down a deep, dark hole.  Now what does that remind me of?  Ah, yes - life."

- Marvin


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170614/c7347e72/attachment-0001.html>

From telwertowski at comcast.net  Wed Jun 14 19:38:30 2017
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed, 14 Jun 2017 22:38:30 -0400
Subject: [QGIS-Developer] Qt & Python version for QGIS 3
In-Reply-To: <87E00B5F-610F-4FDA-AEF5-4B3C82D58653@kyngchaos.com>
References: <12CEADF7-3894-40DC-95AE-2650BF3C86CF@kyngchaos.com>
 <6b4dc4da-87dd-2ef9-8f1f-13908d963dfd@comcast.net>
 <87E00B5F-610F-4FDA-AEF5-4B3C82D58653@kyngchaos.com>
Message-ID: <5d1ad18a-5287-0467-4f6f-fe0e14d71532@comcast.net>

For QtWebKit, I created and used a build subdirectory inside the source 
directory:

export QT5DIR=/Applications/Qt/5.9/clang_64
alias qmake=$QT5DIR/bin/qmake
qmake ../WebKit.pro

For PyQt, in the source directory:

python3 configure.py --qmake=/Applications/Qt/5.9/clang_64/bin/qmake

Both followed by 'make' and 'sudo make install'

Tom

On 6/14/17 8:41 PM, William Kyngesburye wrote:
> How did you build QtWebkit 5.9, or PyQt?  I have the Qt 5.9 binaries, built QtWebkit 5.9 from the Qt project version of the source, but qmake doesn't see it when building PyQt 5.9 (dev).  qmake says:
> 
> Project ERROR: Unknown module(s) in QT: webkit
> Project ERROR: Unknown module(s) in QT: webkitwidgets
> 
> and skips building the webkit parts of PyQt.
> 
> The PyQt list wasn't any help.  Other than suggesting trying the annulen source for QtWebkit, which I haven't yet.  Apparently the Qt version doesn't get webkit security updates, the annulen version does.
> 
>> On Jun 6, 2017, at 11:07 AM, Tom Elwertowski <telwertowski at comcast.net> wrote:
>>
>> Hi William,
>>
>> I rebuilt QGIS using Qt 5.9 and works the same as with Qt 5.8. I also rebuilt the Qt dependencies: QtWebKit 5.9.0, QScintilla 2.10, PyQt 5.8.2, QCA 5f18ebc, QtKeyChain 0.8.0 and Qwt 6.1.3.
>>
>> I did not update the QGIS path fixing installation scripts. Doing 'export DYLD_LIBRARY_PATH=/Applications/Qt/5.9/clang_64/lib' and launching from the command line gets around this.
>>
>> qt.conf must contain:
>> [Paths]
>> Prefix=/Applications/Qt/5.9/clang_64
>>
>> Tom
>> LinkedIn: https://www.linkedin.com/in/thomas-elwertowski-a0886032
>>
>>
>> On 6/5/17 4:46 PM, William Kyngesburye wrote:
>>> I'm starting to look at building QGIS 3, and I'd like to know what recent versions of Qt5 and Python 3 are supported.  I see Qt is up to 5.9 and Python is up to 3.6.
>>> -----
>>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>>> http://www.kyngchaos.com/
>>> Theory of the Universe
>>> There is a theory which states that if ever anyone discovers exactly what the universe is for and why it is here, it will instantly disappear and be replaced by something even more bizarrely inexplicable.  There is another theory which states that this has already happened.
>>> -Hitchhiker's Guide to the Galaxy 2nd season intro
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
> 
> "Time is an illusion - lunchtime doubly so."
> 
> - Ford Prefect
> 
> 
> 

From nyall.dawson at gmail.com  Wed Jun 14 21:00:13 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 15 Jun 2017 14:00:13 +1000
Subject: [QGIS-Developer] Postgis loading using COPY instead of INSERTS?
In-Reply-To: <CAB28AsgGfdths9PHeMjat2k+G0grmF9Ai0HBXM7o5jLe7eTOFA@mail.gmail.com>
References: <CABgOYCf5viP2cV1bhnUPD=TgcBBOcGPA_W-4Ego1MhhYN1aH5g@mail.gmail.com>
 <1495177470334-5321038.post@n6.nabble.com>
 <CAB28AshRArLh6W-QLSoYXV85WP8sHEWtHQ=BfM1QdtDdW8sUYg@mail.gmail.com>
 <0f2aa450-761b-4de5-b677-79e08fd551f5@opengis.ch>
 <CABgOYCdvc_Zfny7ooeEAPGodYHxeNNEXS6Oxcq0S3ZLVptfnQQ@mail.gmail.com>
 <6142f99f-1391-9639-b8a7-ae07a7e09a01@opengis.ch>
 <CAB28AsgGfdths9PHeMjat2k+G0grmF9Ai0HBXM7o5jLe7eTOFA@mail.gmail.com>
Message-ID: <CAB28AsgFLTvrnyZsi=1uW6=M-t334pzpviQzCbaB2OB0s5UDhw@mail.gmail.com>

On 11 June 2017 at 08:04, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> On 11 June 2017 at 05:49, Matthias Kuhn <matthias at opengis.ch> wrote:
>
>>
>> Something else to discuss is what will be sent along with the
>> `featureAdded(QgsFeatureId fid)` signal if the id is generated on the DB but
>> not propagated back to the client.
>>
>
> I don't think this is a big limitation - we just note it in the docs
> for the fast insert flag that featureAdded won't be emitted. It's only
> emitted when adding to a vector layer anyway, and most of the cases
> where the fast insert flag will be used will be adding directly to a
> data provider.

Right, I've implemented the flag over in https://github.com/qgis/QGIS/pull/4734

This opens the possibility of using a COPY statement in the postgres
provider when FastInsert flag is set. I haven't done that, so
presuming the PR is acceptable it'd be a good time for someone else to
jump in and make this improvement. All required changes would be self
contained in QgsPostgresProvider::addFeatures.

This would be great to have for 3.0 - we've already made huge
improvements in the speed of various related operations, and
implementing COPY for FastInsert would then also have massive flow on
benefits to processing algs which are saving their results direct to a
postgres database.

Nyall

From denis.rouzaud at gmail.com  Wed Jun 14 23:19:46 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 15 Jun 2017 06:19:46 +0000
Subject: [QGIS-Developer] Let (C)Make run sipify?
Message-ID: <CAMtsY+YadiXv+BeWecq6Xs1y8Z+ZQnxXfr8gAKohuEextD2zMw@mail.gmail.com>

Dear all

I would like to discuss the way we want the sip files to be built in QGIS.

Main things to know for those not familiar with recent changes:
- A perl scrit takes care of updating the sip files. It is either run
manually (sipdiff or sipify_all.sh) or automatically (prepare-commit.sh). A
test (qgis_sip_uptodate) takes care of controlling that files are up to
date in the source.
- The file saying which file has to be sipified is updated manually
(auto_sip.blacklist). If one adds a new header, he has to add the sip files
to corresponding include file (core.sip,gui.sip, etc.).
- There are two configurations running on Travis in parallel:
  * the main build for compilation and running the core and application test
  * code_layout which takes care of running static tests (spelling,
indentation, documentation, sipify)

The sip coverage test is still running on the main build because it
requires the python bindings. To remove it (and save some time on Travis),
the missing bit in code_layout configuration is checking that a new header
got his sip file too (or was explicitly marked as non being exposed to the
python bindings).

To achieves this, I was thinking at letting cmake create the include sip
file lists (core.sip, gui.sip, …) to get a compile error whenever someone
adds a cpp header without its corresponding sip file. I gave it a try and
it works well.

Anyway I wonder if it’s really coherent to have:
* cmake creating the include files
* prepare-commit or manual trigger of a perl script to build the sip files

The choices I see:

1) scripts to create both the include and the sip files
    - need to create a new test to check that all headers have sip files
(would be run in code_layout config)

2) cmake for the include + script for the sip files
    - not really coherent to me
    - no need to add new test

3) cmake for the include + make (compile time) for the sip files
    - use CMake add_custom_command to add sipify to the compile process
    - this would require perl to build the project
    - one would have to build before pushing (or run sipify manually)
    - is it fine to push built files to source?

4) cmake for both without sip in source
    - similar to above
    - is sipify stable enough? not sure.

None of these solutions is really complicate to implement. It’s more a
matter of coherence and prevision.
I would tend to go for 3 (and 4 in a later step). My main reason to this is
to avoid relying on standalone scripts to build QGIS.

What are your thoughts on this?

Cheers,
Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170615/4d77d50e/attachment.html>

From cavallini at faunalia.it  Thu Jun 15 00:13:49 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 15 Jun 2017 09:13:49 +0200
Subject: [QGIS-Developer] Bug with Statist plugin
In-Reply-To: <9b922081-569d-264d-6305-b28addb562d1@openmailbox.org>
References: <9b922081-569d-264d-6305-b28addb562d1@openmailbox.org>
Message-ID: <9b2ce3d5-fbbe-b0dc-ad62-0bfc202cce25@faunalia.it>

Thanks, tickets added:
https://github.com/alexbruy/statist/issues
All the best.

Il 14/06/2017 18:00, Patrice ha scritto:
> There is a bug with the Statist plugin.
> 
> -------------------------------------------------------------
> 
> The plugin is broken. Python said:
> cannot import name NavigationToolbar2QTAgg
> 
> -------------------------------------------------------------
> 
> As suggested by user'spaceof7'  on github, changing line 49
> 
> from matplotlib.backends.backend_qt4agg import NavigationToolbar2QTAgg
> as NavigationToolbar
> to:
> from matplotlib.backends.backend_qt4agg import NavigationToolbar2QT as
> NavigationToolbar
> 
> 
> fixes the problem.
> 
> 
> The git repository doesn't seem up to date (last update is from 2013.)
> and code has obviouslychanged since (when comparing sources).
> 
> 
> 
> Patrice
> 
> 
> 
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From strk at kbt.io  Thu Jun 15 01:13:50 2017
From: strk at kbt.io (Sandro Santilli)
Date: Thu, 15 Jun 2017 10:13:50 +0200
Subject: [QGIS-Developer] Let (C)Make run sipify?
In-Reply-To: <CAMtsY+YadiXv+BeWecq6Xs1y8Z+ZQnxXfr8gAKohuEextD2zMw@mail.gmail.com>
References: <CAMtsY+YadiXv+BeWecq6Xs1y8Z+ZQnxXfr8gAKohuEextD2zMw@mail.gmail.com>
Message-ID: <20170615081350.jrmm5kavvfvsr4wp@liz>

On Thu, Jun 15, 2017 at 06:19:46AM +0000, Denis Rouzaud wrote:

> To achieves this, I was thinking at letting cmake create the include sip
> file lists (core.sip, gui.sip, …) to get a compile error whenever someone
> adds a cpp header without its corresponding sip file. I gave it a try and
> it works well.

I think any file that can be automatically generated is ok to be built
by running `make` (or whatever other build command cmake can produce).
So rather than a compile error, you should get an automated build of
the missing files.

Likewise, generated files should not be in the GIT repository (as they
are not things you want to edit manually).

Is the above achievable ?

--strk;

From denis.rouzaud at gmail.com  Thu Jun 15 02:00:21 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 15 Jun 2017 09:00:21 +0000
Subject: [QGIS-Developer] Let (C)Make run sipify?
In-Reply-To: <20170615081350.jrmm5kavvfvsr4wp@liz>
References: <CAMtsY+YadiXv+BeWecq6Xs1y8Z+ZQnxXfr8gAKohuEextD2zMw@mail.gmail.com>
 <20170615081350.jrmm5kavvfvsr4wp@liz>
Message-ID: <CAMtsY+ZVEJct2Utj-NvYqECo3cP2F3c0R8aZ-TgRqRuK+MBKHw@mail.gmail.com>

Thanks for the feedback.

Le jeu. 15 juin 2017 à 10:13, Sandro Santilli <strk at kbt.io> a écrit :

> On Thu, Jun 15, 2017 at 06:19:46AM +0000, Denis Rouzaud wrote:
>
> > To achieves this, I was thinking at letting cmake create the include sip
> > file lists (core.sip, gui.sip, …) to get a compile error whenever someone
> > adds a cpp header without its corresponding sip file. I gave it a try and
> > it works well.
>
> I think any file that can be automatically generated is ok to be built
> by running `make` (or whatever other build command cmake can produce).
> So rather than a compile error, you should get an automated build of
> the missing files.
>
> Likewise, generated files should not be in the GIT repository (as they
> are not things you want to edit manually).
>
> Is the above achievable ?
>

Yes this is totally achievable. That's the option 4, slightly modified.

I'm just not very keen on removing sip files from source at the moment, at
least until all files are sipified, but it should not be too long until
then.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170615/c19b25ff/attachment-0001.html>

From regis.haubourg at gmail.com  Thu Jun 15 02:10:49 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 15 Jun 2017 11:10:49 +0200
Subject: [QGIS-Developer] Postgis loading using COPY instead of INSERTS?
In-Reply-To: <CAB28AsgFLTvrnyZsi=1uW6=M-t334pzpviQzCbaB2OB0s5UDhw@mail.gmail.com>
References: <CABgOYCf5viP2cV1bhnUPD=TgcBBOcGPA_W-4Ego1MhhYN1aH5g@mail.gmail.com>
 <1495177470334-5321038.post@n6.nabble.com>
 <CAB28AshRArLh6W-QLSoYXV85WP8sHEWtHQ=BfM1QdtDdW8sUYg@mail.gmail.com>
 <0f2aa450-761b-4de5-b677-79e08fd551f5@opengis.ch>
 <CABgOYCdvc_Zfny7ooeEAPGodYHxeNNEXS6Oxcq0S3ZLVptfnQQ@mail.gmail.com>
 <6142f99f-1391-9639-b8a7-ae07a7e09a01@opengis.ch>
 <CAB28AsgGfdths9PHeMjat2k+G0grmF9Ai0HBXM7o5jLe7eTOFA@mail.gmail.com>
 <CAB28AsgFLTvrnyZsi=1uW6=M-t334pzpviQzCbaB2OB0s5UDhw@mail.gmail.com>
Message-ID: <CABgOYCei27g8Azy3jSFDpPQX3nwN_L0e1UjjWBHiXa1tRtbhXw@mail.gmail.com>

Hi Nyall,
That's great!

from a user point of view, the first two main use cases that would benefit
of implementing that would be the DB Manager drag and drop loader and the
processing postgis loader algorithm.
Cheers
Régis

2017-06-15 6:00 GMT+02:00 Nyall Dawson <nyall.dawson at gmail.com>:

> On 11 June 2017 at 08:04, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> > On 11 June 2017 at 05:49, Matthias Kuhn <matthias at opengis.ch> wrote:
> >
> >>
> >> Something else to discuss is what will be sent along with the
> >> `featureAdded(QgsFeatureId fid)` signal if the id is generated on the
> DB but
> >> not propagated back to the client.
> >>
> >
> > I don't think this is a big limitation - we just note it in the docs
> > for the fast insert flag that featureAdded won't be emitted. It's only
> > emitted when adding to a vector layer anyway, and most of the cases
> > where the fast insert flag will be used will be adding directly to a
> > data provider.
>
> Right, I've implemented the flag over in https://github.com/qgis/QGIS/
> pull/4734
>
> This opens the possibility of using a COPY statement in the postgres
> provider when FastInsert flag is set. I haven't done that, so
> presuming the PR is acceptable it'd be a good time for someone else to
> jump in and make this improvement. All required changes would be self
> contained in QgsPostgresProvider::addFeatures.
>
> This would be great to have for 3.0 - we've already made huge
> improvements in the speed of various related operations, and
> implementing COPY for FastInsert would then also have massive flow on
> benefits to processing algs which are saving their results direct to a
> postgres database.
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170615/3e6e92f1/attachment.html>

From noreply at qgis.org  Thu Jun 15 02:16:58 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 15 Jun 2017 09:16:58 -0000
Subject: [QGIS-Developer] Plugin [1236] ICSM NTv2 Transformer approval
	notification.
Message-ID: <20170615091658.23182.8394@320558c5528b>


Plugin ICSM NTv2 Transformer approval by pcav.
The plugin version "[1236] ICSM NTv2 Transformer 0.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/icsm_ntv2_transformer/

From strk at kbt.io  Thu Jun 15 04:11:10 2017
From: strk at kbt.io (Sandro Santilli)
Date: Thu, 15 Jun 2017 13:11:10 +0200
Subject: [QGIS-Developer] Let (C)Make run sipify?
In-Reply-To: <CAMtsY+ZVEJct2Utj-NvYqECo3cP2F3c0R8aZ-TgRqRuK+MBKHw@mail.gmail.com>
References: <CAMtsY+YadiXv+BeWecq6Xs1y8Z+ZQnxXfr8gAKohuEextD2zMw@mail.gmail.com>
 <20170615081350.jrmm5kavvfvsr4wp@liz>
 <CAMtsY+ZVEJct2Utj-NvYqECo3cP2F3c0R8aZ-TgRqRuK+MBKHw@mail.gmail.com>
Message-ID: <20170615111110.3agzlajb4x24g37r@liz>

On Thu, Jun 15, 2017 at 09:00:21AM +0000, Denis Rouzaud wrote:
> Le jeu. 15 juin 2017 à 10:13, Sandro Santilli <strk at kbt.io> a écrit :
> >
> > So rather than a compile error, you should get an automated build of
> > the missing files.
> >
> > Likewise, generated files should not be in the GIT repository (as they
> > are not things you want to edit manually).
> >
> > Is the above achievable ?
> 
> Yes this is totally achievable. That's the option 4, slightly modified.

So my vote goes to option 4 - inlined for easy of access:

    4) cmake for both without sip in source
        - similar to above
        - is sipify stable enough? not sure.

> I'm just not very keen on removing sip files from source at the moment, at
> least until all files are sipified, but it should not be too long until
> then.

About the "is sipify stable enough?" question, you might have noticed
my bug report: https://issues.qgis.org/issues/16710
It could maybe  be useful to have a component for issues related to
sipification, what do you think ?

--strk;

From denis.rouzaud at gmail.com  Thu Jun 15 04:39:27 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 15 Jun 2017 11:39:27 +0000
Subject: [QGIS-Developer] Let (C)Make run sipify?
In-Reply-To: <20170615111110.3agzlajb4x24g37r@liz>
References: <CAMtsY+YadiXv+BeWecq6Xs1y8Z+ZQnxXfr8gAKohuEextD2zMw@mail.gmail.com>
 <20170615081350.jrmm5kavvfvsr4wp@liz>
 <CAMtsY+ZVEJct2Utj-NvYqECo3cP2F3c0R8aZ-TgRqRuK+MBKHw@mail.gmail.com>
 <20170615111110.3agzlajb4x24g37r@liz>
Message-ID: <CAMtsY+Z9sg-zX6psnf482i3-qpb0PycAN3JVwcbBr1kK3kL_Rg@mail.gmail.com>

Le jeu. 15 juin 2017 à 13:11, Sandro Santilli <strk at kbt.io> a écrit :

> On Thu, Jun 15, 2017 at 09:00:21AM +0000, Denis Rouzaud wrote:
> > Le jeu. 15 juin 2017 à 10:13, Sandro Santilli <strk at kbt.io> a écrit :
> > >
> > > So rather than a compile error, you should get an automated build of
> > > the missing files.
> > >
> > > Likewise, generated files should not be in the GIT repository (as they
> > > are not things you want to edit manually).
> > >
> > > Is the above achievable ?
> >
> > Yes this is totally achievable. That's the option 4, slightly modified.
>
> So my vote goes to option 4 - inlined for easy of access:
>
>     4) cmake for both without sip in source
>         - similar to above
>         - is sipify stable enough? not sure.
>
> > I'm just not very keen on removing sip files from source at the moment,
> at
> > least until all files are sipified, but it should not be too long until
> > then.
>
> About the "is sipify stable enough?" question, you might have noticed
> my bug report: https://issues.qgis.org/issues/16710
> It could maybe  be useful to have a component for issues related to
> sipification, what do you think ?
>

I just created the categories in the tracker (python bindings / sipify).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170615/2771bb7c/attachment.html>

From noreply at qgis.org  Thu Jun 15 06:30:41 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 15 Jun 2017 13:30:41 -0000
Subject: [QGIS-Developer] Plugin [1230] Vector Tiles Reader approval
	notification.
Message-ID: <20170615133041.22391.38318@320558c5528b>


Plugin Vector Tiles Reader approval by pcav.
The plugin version "[1230] Vector Tiles Reader 1.0.1" is now approved
Link: http://plugins.qgis.org/plugins/vector_tiles_reader/

From nariman.hatami at inrap.fr  Thu Jun 15 07:27:39 2017
From: nariman.hatami at inrap.fr (Nariman Hatami)
Date: Thu, 15 Jun 2017 16:27:39 +0200
Subject: [QGIS-Developer] Is it possible to have pySerial library in QGIS
	Python?
Message-ID: <CAKFw0Bzhbz12O6-k8qvREdvah-w4Zsd6ujwBNNceUfFUFaNH_g@mail.gmail.com>

Hello,

I'm developing a python plugin that uses the pySerial library. Installing
external libraries in the python folder of QGIS is of course not very
complicated, especially for a programmer, but I'm not sure that this task
would be as obvious for all users. And as you know when an external library
is missing, we get an error message as soon as QGIS starts (provoked by the
"import" command) and the plugin can't be loaded.
I was wondering if it is possible to include pySerial directly in QGIS
python libs...

Sincerely yours,

Nariman Hatami

ps. I am currently using the 2.18 Las Palmas version


Ingénieur d'études

Direction des Systèmes d'Information
Inrap* - *121 rue d'Alésia - 75008 Paris
Tel : 01 40 08 81 77

www.inrap.fr

Abonnez-vous à la lettre d'information de l'Inrap :
http://www.inrap.fr/newletter.php
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170615/b4fd3ee7/attachment.html>

From matthias at opengis.ch  Thu Jun 15 13:27:40 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 15 Jun 2017 22:27:40 +0200
Subject: [QGIS-Developer] Let (C)Make run sipify?
In-Reply-To: <CAMtsY+YadiXv+BeWecq6Xs1y8Z+ZQnxXfr8gAKohuEextD2zMw@mail.gmail.com>
References: <CAMtsY+YadiXv+BeWecq6Xs1y8Z+ZQnxXfr8gAKohuEextD2zMw@mail.gmail.com>
Message-ID: <8b8cf137-23d4-37c7-d4b6-8a2030f9a2fe@opengis.ch>

Hi Denis,

On 6/15/17 8:19 AM, Denis Rouzaud wrote:
> Dear all
>
> I would like to discuss the way we want the sip files to be built in QGIS.
>
> Main things to know for those not familiar with recent changes:
> - A perl scrit takes care of updating the sip files. It is either run
> manually (sipdiff or sipify_all.sh) or automatically
> (prepare-commit.sh). A test (qgis_sip_uptodate) takes care of
> controlling that files are up to date in the source.
> - The file saying which file has to be sipified is updated manually
> (auto_sip.blacklist). If one adds a new header, he has to add the sip
> files to corresponding include file (core.sip,gui.sip, etc.).
> - There are two configurations running on Travis in parallel:
>   * the main build for compilation and running the core and
> application test
>   * code_layout which takes care of running static tests (spelling,
> indentation, documentation, sipify)
>
> The sip coverage test is still running on the main build because it
> requires the python bindings. To remove it (and save some time on
> Travis), the missing bit in code_layout configuration is checking that
> a new header got his sip file too (or was explicitly marked as non
> being exposed to the python bindings).
>
> To achieves this, I was thinking at letting cmake create the include
> sip file lists (core.sip, gui.sip, …) to get a compile error whenever
> someone adds a cpp header without its corresponding sip file. I gave
> it a try and it works well.
>
> Anyway I wonder if it’s really coherent to have:
> * cmake creating the include files
> * prepare-commit or manual trigger of a perl script to build the sip files
>
> The choices I see:
>
> 1) scripts to create both the include and the sip files
>     - need to create a new test to check that all headers have sip
> files (would be run in code_layout config)
Sounds like the logical next step while #4 is not yet an option.
>
> 2) cmake for the include + script for the sip files 
>     - not really coherent to me
>     - no need to add new test
I don't like this option too much, mostly because (if I understand
correctly) recreation of these files is triggered by a) build and b)
manual command or prepare-commit.sh. This seems a bit confusing to me.
>
> 3) cmake for the include + make (compile time) for the sip files 
>     - use CMake add_custom_command to add sipify to the compile process
>     - this would require perl to build the project
>     - one would have to build before pushing (or run sipify manually)
>     - is it fine to push built files to source?
One advantage of the current solution (w.r.t to sipify stability) is the
possibility to quickly edit the sip file without running sipify and
check if it fixes an issue (which can then lead to improvements in the
header or sipify.pl). I wonder if this workflow would still work with
this proposed approach?
>
> 4) cmake for both without sip in source 
>     - similar to above
>     - is sipify stable enough? not sure.
In the long run this is my preference, no doubt.

But all in all, I think you've got the best overview and I fully trust
you to take a good decision.

Cheers
Matthias
>
> None of these solutions is really complicate to implement. It’s more a
> matter of coherence and prevision.
> I would tend to go for 3 (and 4 in a later step). My main reason to
> this is to avoid relying on standalone scripts to build QGIS.
>
> What are your thoughts on this?
>
> Cheers,
> Denis
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170615/632b88d5/attachment.html>

From adenaculture at gmail.com  Thu Jun 15 13:36:56 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 15 Jun 2017 16:36:56 -0400
Subject: [QGIS-Developer] Geodesic Measure Tool With Bearing Information
In-Reply-To: <0c5a70688b60cda9e853283f9fb79cff.squirrel@webmail.tu-dortmund.de>
References: <CABPxTToH+UU2aC9jG_KjY-RLmpk5-Qh63KJC=zwVNmthrNQA8A@mail.gmail.com>
 <CAB28Asj4zJADEAGanYKjhwsWyDYkLnT_YdNGs-B_7jsnXi1ciA@mail.gmail.com>
 <CABPxTTo+TeuNddRrorw-hZh6e8N0NeEAAWHt_b1TX70uoQ-PEg@mail.gmail.com>
 <CAB28Asj=TTvj_FqEXep_+BqbD16199zGSE=4LU+C4pU48ZOBoA@mail.gmail.com>
 <0c5a70688b60cda9e853283f9fb79cff.squirrel@webmail.tu-dortmund.de>
Message-ID: <CABPxTTrW-Vr+7=A00y9rOagWYMc3xZktzTWoYM7d3_X5em_Q_g@mail.gmail.com>

That's nice to see someone else with the same ideas and needs. Ultimately
what I would like to see happen is for QgsDistanceArea class to be expanded
to support these better geodesic algorithms, but also support great circle
transforms as well. The advantage of simpler algorithms is their speed and
for short distances are relatively accurate, but for real accuracy
geographiclib is the way to go. ArcGIS also supports Rhumb lines. I'm not
sure if that would be needed or not.

There are several missing methods to QgsDistanceArea

1. Return the shortest path line between two points. The input would be the
two points and the maximum distance of travel before a new line segment is
added to the path. It may be good to add an attribute that is the maximum
number of line segments that the line can have.

2. Given a starting point, bearing, and distance, return the destination
point.

3. Calculate the intersection of two paths given their starting points and
bearing.






On Wed, Jun 14, 2017 at 11:21 PM, Tobias Wendorff <
tobias.wendorff at tu-dortmund.de> wrote:

> Am Mi, 14.06.2017, 23:41 schrieb Nyall Dawson:
> >
> > This looks relevant:
> >
> > https://github.com/sourcepole/kadas-albireo/commit/
> df64318e5198f40f0e96d27fcf9e179fbbf682fd
>
> Thanks, nice find. After googling a bit: that seems to be the GIS
> of the Swiss army :)
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170615/0aff848a/attachment.html>

From noreply at qgis.org  Sun Jun 18 01:02:59 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sun, 18 Jun 2017 08:02:59 -0000
Subject: [QGIS-Developer] Plugin [1102] AequilibraE approval notification.
Message-ID: <20170618080259.16697.51832@320558c5528b>


Plugin AequilibraE approval by pcav.
The plugin version "[1102] AequilibraE 0.3.5" is now approved
Link: http://plugins.qgis.org/plugins/AequilibraE/

From noreply at qgis.org  Mon Jun 19 00:58:27 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 19 Jun 2017 07:58:27 -0000
Subject: [QGIS-Developer] Plugin [788] Space Syntax Toolkit approval
	notification.
Message-ID: <20170619075827.16697.53497@320558c5528b>


Plugin Space Syntax Toolkit approval by pcav.
The plugin version "[788] Space Syntax Toolkit 0.1.8" is now approved
Link: http://plugins.qgis.org/plugins/esstoolkit/

From noreply at qgis.org  Mon Jun 19 00:59:38 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 19 Jun 2017 07:59:38 -0000
Subject: [QGIS-Developer] Plugin [850] changeDataSource approval
	notification.
Message-ID: <20170619075938.15751.95160@320558c5528b>


Plugin changeDataSource approval by pcav.
The plugin version "[850] changeDataSource 2.3" is now approved
Link: http://plugins.qgis.org/plugins/changeDataSource/

From giovanni.manghi at gmail.com  Mon Jun 19 02:19:05 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Mon, 19 Jun 2017 10:19:05 +0100
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CAB28Asjf-FvqKboxcF=M9TLTcawj8MtifANprYaw9dxic1=KwQ@mail.gmail.com>
References: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
 <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
 <CACfnYnTJBff1Db-Hq5vR1gWAQzcfW_4WZYmcbNU=fugMMdwGug@mail.gmail.com>
 <CAB28Asg+pBniKnzTY9NcVvznd8fsYORSW--6QjvcTw8vZXRVtQ@mail.gmail.com>
 <CAB28Asjf-FvqKboxcF=M9TLTcawj8MtifANprYaw9dxic1=KwQ@mail.gmail.com>
Message-ID: <CACfnYnQFRzyg_bVZVchp8knE6=tXeZuT5qk2rj4Z4uKO2KB=uA@mail.gmail.com>

Hi Nyall,

>> Our (hopefully friendly!) rivalry on this point continues :) I think I
>> can win you over for 3.0 when we widely rollout the massive benefits
>> which are possible only in native algs, such as the support for
>> dynamic parameters. But we'll see....
>>
>
> By the way - I'd love to see you re-run your earlier benchtests after
> of native vs non-native algs after
> https://github.com/qgis/QGIS/pull/4707 is merged! For me that PR makes
> a ridiculously huge improvement in using processing with memory
> layers.


I waited a Windows osgeor4w master build that included your new native
c++ dissolve tool.

I tested it (on the same platform and conditions) against qgis 2.18.9
nightly, that also write debug output.

Using
https://www.dropbox.com/s/ncj4ysh15xrnm45/caop.zip?dl=0

and dissolving by "distrito" the ogr2ogr based tool is 2/3 seconds
faster than the new native one.


Using:
https://www.dropbox.com/s/qr8md49cy5u8vrf/clip.zip?dl=0

which is a clip of a much larger and complex layer, and dissolving by
"aaaaa" (sorry for the column name), the ogr 2ogr based tool does the
job in about 20 seconds.

The new native dissolve tool runs for a split second and outputs a few
polygons in vastly incomplete result.

Trying to dissolve all polygons (and operation that the ogr2ogr based
tool does with no issues) with the native tool it results in a python
error and and infinite running hourglass.

```
An error has occurred while executing Python code:

SystemError: returned a result with an error set
Traceback (most recent call last):
  File "C:/OSGEO4~1/apps/qgis-dev/./python/plugins\processing\tools\dataobjects.py",
line 84, in raise_error
    'Features with invalid geometries found. Please fix these
geometries or specify the "Ignore invalid input features" flag'))
processing.core.GeoAlgorithmExecutionException.GeoAlgorithmExecutionException:

 Message:
  | Features with invalid geometries found. Please fix these
geometries or specify the "Ignore invalid input features" flag

 Stack:

    None

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:/OSGEO4~1/apps/qgis-dev/./python/plugins\processing\gui\AlgorithmDialog.py",
line 246, in accept
    result = executeAlgorithm(self.alg, parameters, context, feedback)
  File "C:/OSGEO4~1/apps/qgis-dev/./python/plugins\processing\core\GeoAlgorithm.py",
line 338, in executeAlgorithm
    result = alg.run(parameters, context, feedback)
SystemError:  returned a result with an error set
```

Interesting the massage

"Features with invalid geometries found. Please fix these geometries
or specify the "Ignore invalid input features" flag"

because the option is not available in the tool. I still strongly
argue that anyway -if it is really a problem of bad geometries- we
miss a clear suggestion and workflow to allow the user solve this
situation. In my point of view the option in such tools should not be
"skip the invalid geometries" but to *fix* them.

cheers!


-- G --

From cavallini at faunalia.it  Mon Jun 19 02:22:30 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 19 Jun 2017 11:22:30 +0200
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CACfnYnQFRzyg_bVZVchp8knE6=tXeZuT5qk2rj4Z4uKO2KB=uA@mail.gmail.com>
References: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
 <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
 <CACfnYnTJBff1Db-Hq5vR1gWAQzcfW_4WZYmcbNU=fugMMdwGug@mail.gmail.com>
 <CAB28Asg+pBniKnzTY9NcVvznd8fsYORSW--6QjvcTw8vZXRVtQ@mail.gmail.com>
 <CAB28Asjf-FvqKboxcF=M9TLTcawj8MtifANprYaw9dxic1=KwQ@mail.gmail.com>
 <CACfnYnQFRzyg_bVZVchp8knE6=tXeZuT5qk2rj4Z4uKO2KB=uA@mail.gmail.com>
Message-ID: <95D4C818-258D-4217-97AE-2F72D903C483@faunalia.it>

Il 19 giugno 2017 11:19:05 CEST, Giovanni Manghi <giovanni.manghi at gmail.com> ha scritto:
>Hi Nyall,
>
>>> Our (hopefully friendly!) rivalry on this point continues :) I think
>I
>>> can win you over for 3.0 when we widely rollout the massive benefits
>>> which are possible only in native algs, such as the support for
>>> dynamic parameters. But we'll see....
>>>
>>
>> By the way - I'd love to see you re-run your earlier benchtests after
>> of native vs non-native algs after
>> https://github.com/qgis/QGIS/pull/4707 is merged! For me that PR
>makes
>> a ridiculously huge improvement in using processing with memory
>> layers.
>
>
>I waited a Windows osgeor4w master build that included your new native
>c++ dissolve tool.
>
>I tested it (on the same platform and conditions) against qgis 2.18.9
>nightly, that also write debug output.
>
>Using
>https://www.dropbox.com/s/ncj4ysh15xrnm45/caop.zip?dl=0
>
>and dissolving by "distrito" the ogr2ogr based tool is 2/3 seconds
>faster than the new native one.
>
>
>Using:
>https://www.dropbox.com/s/qr8md49cy5u8vrf/clip.zip?dl=0
>
>which is a clip of a much larger and complex layer, and dissolving by
>"aaaaa" (sorry for the column name), the ogr 2ogr based tool does the
>job in about 20 seconds.
>
>The new native dissolve tool runs for a split second and outputs a few
>polygons in vastly incomplete result.
>
>Trying to dissolve all polygons (and operation that the ogr2ogr based
>tool does with no issues) with the native tool it results in a python
>error and and infinite running hourglass.
>
>```
>An error has occurred while executing Python code:
>
>SystemError: returned a result with an error set
>Traceback (most recent call last):
>File
>"C:/OSGEO4~1/apps/qgis-dev/./python/plugins\processing\tools\dataobjects.py",
>line 84, in raise_error
>    'Features with invalid geometries found. Please fix these
>geometries or specify the "Ignore invalid input features" flag'))
>processing.core.GeoAlgorithmExecutionException.GeoAlgorithmExecutionException:
>
> Message:
>  | Features with invalid geometries found. Please fix these
>geometries or specify the "Ignore invalid input features" flag
>
> Stack:
>
>    None
>
>The above exception was the direct cause of the following exception:
>
>Traceback (most recent call last):
>File
>"C:/OSGEO4~1/apps/qgis-dev/./python/plugins\processing\gui\AlgorithmDialog.py",
>line 246, in accept
>    result = executeAlgorithm(self.alg, parameters, context, feedback)
>File
>"C:/OSGEO4~1/apps/qgis-dev/./python/plugins\processing\core\GeoAlgorithm.py",
>line 338, in executeAlgorithm
>    result = alg.run(parameters, context, feedback)
>SystemError:  returned a result with an error set
>```
>
>Interesting the massage
>
>"Features with invalid geometries found. Please fix these geometries
>or specify the "Ignore invalid input features" flag"
>
>because the option is not available in the tool. I still strongly
>argue that anyway -if it is really a problem of bad geometries- we
>miss a clear suggestion and workflow to allow the user solve this
>situation. In my point of view the option in such tools should not be
>"skip the invalid geometries" but to *fix* them.
>
>cheers!
>
>
>-- G --
>_______________________________________________
>QGIS-Developer mailing list
>QGIS-Developer at lists.osgeo.org
>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

Thanks Giovanni, very interesting.
All the best.
-- 
Sent from mobile. Sorry for being short
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170619/c71937b5/attachment.html>

From noreply at qgis.org  Mon Jun 19 02:39:48 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 19 Jun 2017 09:39:48 -0000
Subject: [QGIS-Developer] Plugin [219] DirectionalSlope approval
	notification.
Message-ID: <20170619093948.15751.10984@320558c5528b>


Plugin DirectionalSlope approval by pcav.
The plugin version "[219] DirectionalSlope 1.2.1" is now approved
Link: http://plugins.qgis.org/plugins/DirectionalSlope/

From niels.k.h at gmail.com  Mon Jun 19 04:48:07 2017
From: niels.k.h at gmail.com (kjoller)
Date: Mon, 19 Jun 2017 04:48:07 -0700 (MST)
Subject: [QGIS-Developer] Use of QtWebKit in plugin
Message-ID: <1497872887031-5324658.post@n6.nabble.com>

Hi all

I have been trying to fix a bug in the "Kortforsyningen" plugin for QGIS,
which exists in Ubuntu 17.04 and Debian stretch (and probably other newer
debian based systems), due to QtWebKit not being included in PyQt4

https://github.com/Kortforsyningen/Qgis_plugin_Kortforsyningen/issues/27

The basic trouble is:
ImportError: No module named QtWebKit.QWebView

I have narrowed it down to the the (rather complex) 'About' dialog, where 

uic.loadUiType(
    os.path.join(os.path.dirname(__file__), 'aboutKortforsyningen.ui')
)

tries to run a piece of code ending with the line

from QtWebkit.QWebView import QWebView

where on my working (16.04) system, it ends with

from PyQt4 import QtWebKit

I can solve this problem, by putting qtwebkit.py from the PyQt4 source code
into /usr/lib/python2.7/dist-packages/PyQt4/uic/widget-plugins.

My question boils down to:

What is the 'best' way of solving this in other peoples systems? I have
looked at three scenarios:

* Switching to a simpler about dialog in case of QtWebkit-errors (a hacky
try,except)
* Precompiling the UI on a working system before uploading(1)
* Begging to get the widget-plugin file included in the .deb-package on
qgis.org
* ?

Thanks,
Niels

(1) When I try to use pyuic4 -o aboutKortforsyningen.py
aboutKortforsyningen.ui -d on my working system, I get 

ValueError: API 'QDate' has already been set to version 1

which I can solve buy adding sip.setapi(....) to the start of pyuic4, but is
this can't be the way to do it, can it?





--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Use-of-QtWebKit-in-plugin-tp5324658.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From a.neumann at carto.net  Mon Jun 19 04:53:55 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Mon, 19 Jun 2017 13:53:55 +0200
Subject: [QGIS-Developer] Variable syntax: $ vs @
Message-ID: <65b81b9edbfc4996004ded7e85590956@carto.net>

Hi, 

While preparing for a workshop on expressions I wonder how to explain
why some variables are referenced with the $ sign (like $geometry) while
other variables start with the @ sign, like @row_number, @layer_name. 

I know that it has historical reasons and that variables with the @ sign
are newer and are implemented using a different technology. 

But are there plans to get rid of the old $ sign notation and move
everything to the @ sign notation? 

Just wonder how I best explain this to the participants of the workshop.


Thanks for your reply, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170619/f564f808/attachment.html>

From madmanwoo at gmail.com  Mon Jun 19 05:12:07 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Mon, 19 Jun 2017 22:12:07 +1000
Subject: [QGIS-Developer] Variable syntax: $ vs @
In-Reply-To: <65b81b9edbfc4996004ded7e85590956@carto.net>
References: <65b81b9edbfc4996004ded7e85590956@carto.net>
Message-ID: <CAAi8Yg_uA737iNHe1SnstgebnD7syhR8BG+qHQWTaSCyYOMZDg@mail.gmail.com>

Hey Andreas,

They are really two different things.  $geometry is really a function that
takes no arguments. This has been deprecated in favour calling with ()
e.g geometry().
 @ is only for variables.

So you can explain it that $ used to be a shorthand way of calling a
function that took no arguments which has now been replaced with () at the
end to call it. $area = area().  This becomes important because now we
support optional arguments meaning you can take 0 to N arguments.

- Nathan

On Mon, Jun 19, 2017 at 9:53 PM, Neumann, Andreas <a.neumann at carto.net>
wrote:

> Hi,
>
> While preparing for a workshop on expressions I wonder how to explain why
> some variables are referenced with the $ sign (like $geometry) while other
> variables start with the @ sign, like @row_number, @layer_name.
>
> I know that it has historical reasons and that variables with the @ sign
> are newer and are implemented using a different technology.
>
> But are there plans to get rid of the old $ sign notation and move
> everything to the @ sign notation?
>
> Just wonder how I best explain this to the participants of the workshop.
>
> Thanks for your reply,
>
> Andreas
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170619/89199e70/attachment-0001.html>

From jef at norbit.de  Mon Jun 19 05:18:29 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 19 Jun 2017 14:18:29 +0200
Subject: [QGIS-Developer] Use of QtWebKit in plugin
In-Reply-To: <1497872887031-5324658.post@n6.nabble.com>
References: <1497872887031-5324658.post@n6.nabble.com>
Message-ID: <20170619121829.nyn3a6sfxi2dubcr@norbit.de>

Hi Niels,

On Mon, 19. Jun 2017 at 04:48:07 -0700, kjoller wrote:
> I have been trying to fix a bug in the "Kortforsyningen" plugin for QGIS,
> which exists in Ubuntu 17.04 and Debian stretch (and probably other newer
> debian based systems), due to QtWebKit not being included in PyQt4

It should be included as internal bindings in python-qgis for unstable,
stretch, yakkety and zesty.

/usr/lib/python2.7/dist-packages/PyQt4/QtWebKit.(i386|x86_64)-linux-gnu.so


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170619/67cbe583/attachment.sig>

From niels.k.h at gmail.com  Mon Jun 19 05:29:52 2017
From: niels.k.h at gmail.com (=?UTF-8?Q?Niels_Kj=C3=B8ller_Hansen?=)
Date: Mon, 19 Jun 2017 14:29:52 +0200
Subject: [QGIS-Developer] Use of QtWebKit in plugin
In-Reply-To: <20170619121829.nyn3a6sfxi2dubcr@norbit.de>
References: <1497872887031-5324658.post@n6.nabble.com>
 <20170619121829.nyn3a6sfxi2dubcr@norbit.de>
Message-ID: <CABjvV9HHaJMp84BXOwnhsrYy-hhprw2QTfoDK1d+5vg6YXbuNQ@mail.gmail.com>

Hi Jürgen

2017-06-19 14:18 GMT+02:00 Jürgen E. Fischer <jef at norbit.de>:

> Hi Niels,
>
> On Mon, 19. Jun 2017 at 04:48:07 -0700, kjoller wrote:
> > I have been trying to fix a bug in the "Kortforsyningen" plugin for QGIS,
> > which exists in Ubuntu 17.04 and Debian stretch (and probably other newer
> > debian based systems), due to QtWebKit not being included in PyQt4
>
> It should be included as internal bindings in python-qgis for unstable,
> stretch, yakkety and zesty.
>
> /usr/lib/python2.7/dist-packages/PyQt4/QtWebKit.(i386|x86_64)-linux-gnu.so
>
>
You are correct that the QtWebkit itself is included, but as far as I can
se, the "definition"-file for pyuic4 is not, as far as I can tell.

/usr/lib/python2.7/dist-packages/PyQt4/uic/widget-plugins/qtwebkit.py

It is a simple file, and stripped for comments it looks like this:

pluginType = MODULE
def moduleInformation():
    return "PyQt4.QtWebKit", ("QWebView", )
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170619/d59b1b9c/attachment.html>

From a.neumann at carto.net  Mon Jun 19 05:36:45 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Mon, 19 Jun 2017 14:36:45 +0200
Subject: [QGIS-Developer] Variable syntax: $ vs @
In-Reply-To: <CAAi8Yg_uA737iNHe1SnstgebnD7syhR8BG+qHQWTaSCyYOMZDg@mail.gmail.com>
References: <65b81b9edbfc4996004ded7e85590956@carto.net>
 <CAAi8Yg_uA737iNHe1SnstgebnD7syhR8BG+qHQWTaSCyYOMZDg@mail.gmail.com>
Message-ID: <f7ee12caf16941c94481e7dfc5f8fe73@carto.net>

Hi Nathan, 

Thank you for the explanation. Makes sense. I will pass this on in the
workshop. 

Andreas 

On 2017-06-19 14:12, Nathan Woodrow wrote:

> Hey Andreas, 
> 
> They are really two different things.  $geometry is really a function that takes no arguments. This has been deprecated in favour calling with () e.g geometry().  @ is only for variables. 
> 
> So you can explain it that $ used to be a shorthand way of calling a function that took no arguments which has now been replaced with () at the end to call it. $area = area().  This becomes important because now we support optional arguments meaning you can take 0 to N arguments. 
> 
> - Nathan  
> 
> On Mon, Jun 19, 2017 at 9:53 PM, Neumann, Andreas <a.neumann at carto.net> wrote:
> 
>> Hi, 
>> 
>> While preparing for a workshop on expressions I wonder how to explain why some variables are referenced with the $ sign (like $geometry) while other variables start with the @ sign, like @row_number, @layer_name. 
>> 
>> I know that it has historical reasons and that variables with the @ sign are newer and are implemented using a different technology. 
>> 
>> But are there plans to get rid of the old $ sign notation and move everything to the @ sign notation? 
>> 
>> Just wonder how I best explain this to the participants of the workshop. 
>> 
>> Thanks for your reply, 
>> 
>> Andreas
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]

  

Links:
------
[1] https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170619/9a0b4e46/attachment.html>

From radim.blazek at gmail.com  Mon Jun 19 05:44:16 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Mon, 19 Jun 2017 14:44:16 +0200
Subject: [QGIS-Developer] QgsHighlight disappears
Message-ID: <CAEMrtYqRNJb61wA9Bz6rmXRACk_Wdfoyyw-8_qZ8XWCw4ejFzA@mail.gmail.com>

Hi,
I found that QgsHighlight disappeares if it is created when it is
outside of canvas extent and then the extent is panned so that it
should become visible. It is visible while panning.

QGIS master, QgsHighlight created from QgsGeometry with
QgsHighlight(QgsMapCanvas *mapCanvas, const QgsGeometry &geom,
QgsVectorLayer *layer ) in Python.

Any idea?

Radim

From denis.rouzaud at gmail.com  Mon Jun 19 06:04:16 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Mon, 19 Jun 2017 13:04:16 +0000
Subject: [QGIS-Developer] QgsHighlight disappears
In-Reply-To: <CAEMrtYqRNJb61wA9Bz6rmXRACk_Wdfoyyw-8_qZ8XWCw4ejFzA@mail.gmail.com>
References: <CAEMrtYqRNJb61wA9Bz6rmXRACk_Wdfoyyw-8_qZ8XWCw4ejFzA@mail.gmail.com>
Message-ID: <CAMtsY+Zs29909pM3nbzJWKSwH_bRi9omV63bAwQ-pZ-MHCP6Xg@mail.gmail.com>

I did some changes so that QgsMapCanvasItems get updated on map pan.
But looking into QgsHightLight::updatePosition() shows nothing is done in
there.

DId it use to work?


Le lun. 19 juin 2017 à 14:44, Radim Blazek <radim.blazek at gmail.com> a
écrit :

> Hi,
> I found that QgsHighlight disappeares if it is created when it is
> outside of canvas extent and then the extent is panned so that it
> should become visible. It is visible while panning.
>
> QGIS master, QgsHighlight created from QgsGeometry with
> QgsHighlight(QgsMapCanvas *mapCanvas, const QgsGeometry &geom,
> QgsVectorLayer *layer ) in Python.
>
> Any idea?
>
> Radim
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170619/f9127e43/attachment.html>

From radim.blazek at gmail.com  Mon Jun 19 06:43:07 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Mon, 19 Jun 2017 15:43:07 +0200
Subject: [QGIS-Developer] QgsHighlight disappears
In-Reply-To: <CAMtsY+Zs29909pM3nbzJWKSwH_bRi9omV63bAwQ-pZ-MHCP6Xg@mail.gmail.com>
References: <CAEMrtYqRNJb61wA9Bz6rmXRACk_Wdfoyyw-8_qZ8XWCw4ejFzA@mail.gmail.com>
 <CAMtsY+Zs29909pM3nbzJWKSwH_bRi9omV63bAwQ-pZ-MHCP6Xg@mail.gmail.com>
Message-ID: <CAEMrtYoorf-SU220mi_qhoti+Q3=Wmph=oHHj=kCuso8xomQKg@mail.gmail.com>

On Mon, Jun 19, 2017 at 3:04 PM, Denis Rouzaud <denis.rouzaud at gmail.com> wrote:
> I did some changes so that QgsMapCanvasItems get updated on map pan.

It is not only pan, the same happens with zoom out.

It is interesting, that the highlight becomes visible after a while
(not immediately) of panning down (while still keeping mouse pressed)
but it is not visible when panning up/left/right.

It is working with a highlight created for a layer feature selecting
it in the table while outside of extent.

> But looking into QgsHightLight::updatePosition() shows nothing is done in
> there.
>
> DId it use to work?

I tried with 2.14 and it is not working either. It was working with
fc24767 (Dec 9 2013), I checked on my lrs video
https://youtu.be/3BmUIAQRc0g?t=52s where highlight is created when the
item is selected and then it zooms to hightlight.

Radim


>
> Le lun. 19 juin 2017 à 14:44, Radim Blazek <radim.blazek at gmail.com> a écrit
> :
>>
>> Hi,
>> I found that QgsHighlight disappeares if it is created when it is
>> outside of canvas extent and then the extent is panned so that it
>> should become visible. It is visible while panning.
>>
>> QGIS master, QgsHighlight created from QgsGeometry with
>> QgsHighlight(QgsMapCanvas *mapCanvas, const QgsGeometry &geom,
>> QgsVectorLayer *layer ) in Python.
>>
>> Any idea?
>>
>> Radim
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From a.wicht at gmail.com  Mon Jun 19 06:54:03 2017
From: a.wicht at gmail.com (Andreas Wicht)
Date: Mon, 19 Jun 2017 15:54:03 +0200
Subject: [QGIS-Developer] Split parts tool - invalid output
Message-ID: <CAEdR7WLv4Y5qe7eFfAkq2pQO68w38DbzY2mPRB29wqAK1Jwf6Q@mail.gmail.com>

Hi,

I would like to raise attention for an issue which was discussed in
length in the qgis-users list [1]

You can ignore the beginning of the discussion where I mixed up "Split
parts" and "Split features".

The split features tool does not produce valid geometries. This can be
easily reproduced by splitting one part of a multipart feature and
then try to split that part again (or save and check the feature with
e.g. postgis' st_isvalid()). This goes hand-in-hand with the comments
in a related, older issue [2].

This makes the workflow much more complex [see 3], if you want to have
a valid output at the end.

The discussion ended in a new Tool in the DigitizingTools (0.11.0)
plugin (thank you Bernhard), which acts much more intuitive from a
users' perspective.
- singlepart features are split and one half inserted as a new feature
- multipart features are split and the user has to choose which part
gets inserted as a new feature, while the other half stays a multipart
feature with all other parts still connected

This raises the question if and how to get that to replace the core tools.

Happy for any input :)

cheers
Andreas


[1] http://osgeo-org.1560.x6.nabble.com/Split-features-tool-behavior-td5321288.html#none
[2] https://issues.qgis.org/issues/12799
[3] http://osgeo-org.1560.x6.nabble.com/Split-features-tool-behavior-tp5321288p5322315.html

From jef at norbit.de  Mon Jun 19 07:03:45 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 19 Jun 2017 16:03:45 +0200
Subject: [QGIS-Developer] Use of QtWebKit in plugin
In-Reply-To: <CABjvV9HHaJMp84BXOwnhsrYy-hhprw2QTfoDK1d+5vg6YXbuNQ@mail.gmail.com>
References: <1497872887031-5324658.post@n6.nabble.com>
 <20170619121829.nyn3a6sfxi2dubcr@norbit.de>
 <CABjvV9HHaJMp84BXOwnhsrYy-hhprw2QTfoDK1d+5vg6YXbuNQ@mail.gmail.com>
Message-ID: <20170619140345.bcuq42qd2gkhvym5@norbit.de>

Hi Niels,

On Mon, 19. Jun 2017 at 14:29:52 +0200, Niels Kjøller Hansen wrote:
> /usr/lib/python2.7/dist-packages/PyQt4/uic/widget-plugins/qtwebkit.py
> 
> It is a simple file, and stripped for comments it looks like this:
> 
> pluginType = MODULE
> def moduleInformation():
>     return "PyQt4.QtWebKit", ("QWebView", )


Should be fixed in c39e4fcecd630655175ac996c617020357a0c065.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170619/04527c7b/attachment.sig>

From noreply at qgis.org  Mon Jun 19 08:01:24 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 19 Jun 2017 15:01:24 -0000
Subject: [QGIS-Developer] Plugin [1252] Lizard Viewer approval notification.
Message-ID: <20170619150124.16697.11481@320558c5528b>


Plugin Lizard Viewer approval by pcav.
The plugin version "[1252] Lizard Viewer 0.4" is now approved
Link: http://plugins.qgis.org/plugins/LizardViewer/

From noreply at qgis.org  Mon Jun 19 08:02:12 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 19 Jun 2017 15:02:12 -0000
Subject: [QGIS-Developer] Plugin [1216] SPZ Builder approval notification.
Message-ID: <20170619150212.16697.84748@320558c5528b>


Plugin SPZ Builder approval by pcav.
The plugin version "[1216] SPZ Builder 0.2.0" is now approved
Link: http://plugins.qgis.org/plugins/SpzBuilder/

From noreply at qgis.org  Mon Jun 19 08:02:45 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 19 Jun 2017 15:02:45 -0000
Subject: [QGIS-Developer] Plugin [740] qgis2web approval notification.
Message-ID: <20170619150245.15751.54888@320558c5528b>


Plugin qgis2web approval by pcav.
The plugin version "[740] qgis2web 2.20.0" is now approved
Link: http://plugins.qgis.org/plugins/qgis2web/

From noreply at qgis.org  Mon Jun 19 08:06:34 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 19 Jun 2017 15:06:34 -0000
Subject: [QGIS-Developer] Plugin [995] dzetsaka : Classification tool
	approval notification.
Message-ID: <20170619150634.15933.6378@320558c5528b>


Plugin dzetsaka : Classification tool approval by pcav.
The plugin version "[995] dzetsaka : Classification tool 2.5.1" is now approved
Link: http://plugins.qgis.org/plugins/dzetsaka/

From noreply at qgis.org  Mon Jun 19 08:20:37 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 19 Jun 2017 15:20:37 -0000
Subject: [QGIS-Developer] Plugin [1035] Lat Lon Tools approval notification.
Message-ID: <20170619152037.15933.95253@320558c5528b>


Plugin Lat Lon Tools approval by pcav.
The plugin version "[1035] Lat Lon Tools 0.9.2" is now approved
Link: http://plugins.qgis.org/plugins/latlontools/

From adenaculture at gmail.com  Mon Jun 19 09:18:54 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 19 Jun 2017 12:18:54 -0400
Subject: [QGIS-Developer] Print Composer Bug with Scale and Rotation
Message-ID: <CABPxTTqZFxsD0_qnvcjexdXYdJD7UhRGYGL9peEo27ssa5059w@mail.gmail.com>

I am finding real inconsistent behavior with the print composer in QGIS
2.18.9 on Windows 7. The problem manifest quickly if you start with a
QuickMapServices base layer such as OSM Standard. In print composer "Add
new map" and while the map is selected, click on "Item Properties" and try
to change the "Scale". It doesn't allow you to manually to change it nor
does "Map rotation" permit any change.

If however when you first start QGIS and then set the current CRS to 3857
first and then add the QuickMapServers base layer then you can changed the
"Scale" however "Map rotation" still does not work correctly.

I have also tried WMS services and sometimes it works and sometimes it
doesn't.

Should I add this to the QGIS issue tracker?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170619/4c2fbedd/attachment.html>

From pedrongvenancio at gmail.com  Mon Jun 19 09:46:20 2017
From: pedrongvenancio at gmail.com (=?UTF-8?Q?Pedro_Ven=C3=A2ncio?=)
Date: Mon, 19 Jun 2017 17:46:20 +0100
Subject: [QGIS-Developer] Problem with QGIS from OSGeo4W and gdal 2.2.0-5
Message-ID: <CAMCJChsX2dz+8zYHOtE-+gd_YT8hVs+kW8aAwfCCuX9rdLfKUw@mail.gmail.com>

Hi,

I've updated today QGIS from OSGeo4W64bits and it updated also gdal to
version 2.2.0-5.

It lead to a constant and inconsistent QGIS crash, sometimes at the start,
other times when openning some saved projects, and other times, with new
projects, when editing data, or simply zooming in and out.

Tested with QGIS 2.18.9-14 and 2.14.15-5, with and without GRASS plugin.
Also starting with --noplugins, I get the crash.

Then I did the downgrade of gdal to 2.2.0-3, and everything seems to work
again.

To confirm, I've installed again gdal 2.2.0-5, tested, and get the crash
right at the QGIS start. Downgraded again to gdal 2.2.0-3 and I get
everything great again.

So, seems to be something wrong with QGIS and gdal 2.2.0-5.

Anyone confirms? Should I open a ticket?

Thanks!

Best regards,
Pedro Venâncio
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170619/b95656b0/attachment.html>

From e0425926 at student.tuwien.ac.at  Mon Jun 19 14:31:40 2017
From: e0425926 at student.tuwien.ac.at (Kevin Stadler)
Date: Mon, 19 Jun 2017 22:31:40 +0100
Subject: [QGIS-Developer] PyQGIS docstrings only show the SIP wrapped
 function signature, not the actual docstring?
Message-ID: <CALufGKKiX3Dm=EAg2v3Th7o8gne7OY_iecUPU6VJc38XpnOtww@mail.gmail.com>

Hello,

I'm trying to access the docstrings of various QGIS 2.* components
from the IPython console, but instead of the actual documentation I
only seem to get dummy docstrings generated by SIP:

>>> QgsMapLayerRegistry.instance().mapLayers.__doc__
'mapLayers(self) -> object'

>>> QgsMapLayerRegistry.instance().mapLayer.__doc__
'mapLayer(self, QString) -> QgsMapLayer'

>>> QgsVectorLayer.__doc__
'QgsVectorLayer(path: QString = QString.null, baseName: QString =
QString.null, providerLib: QString = QString.null,
loadDefaultStyleFlag: bool = True)'

Using help(...) instead of .__doc__ doesn't look much different. Is
this just something wrong with my build (from the Fedora stable
repository), can somebody reproduce this on a non-Linux build?

I've looked through the mailing list archive but haven't found
anything conclusive. The flag to have SIP generate docstrings
requested here is still enabled:
http://osgeo-org.1560.x6.nabble.com/Sip-flag-to-generate-docstrings-td4485370.html

I'm thinking it might have to do with the new SIP file generation
workflow described here:
http://osgeo-org.1560.x6.nabble.com/automatic-sip-files-generation-td5314970.html
although I'm not clear on which branch this actually applies to (and
whether it might be the source or the solution of my problem)?

Best,
Kevin

From madmanwoo at gmail.com  Mon Jun 19 14:36:44 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Mon, 19 Jun 2017 21:36:44 +0000
Subject: [QGIS-Developer] PyQGIS docstrings only show the SIP wrapped
 function signature, not the actual docstring?
In-Reply-To: <CALufGKKiX3Dm=EAg2v3Th7o8gne7OY_iecUPU6VJc38XpnOtww@mail.gmail.com>
References: <CALufGKKiX3Dm=EAg2v3Th7o8gne7OY_iecUPU6VJc38XpnOtww@mail.gmail.com>
Message-ID: <CAAi8Yg_pX-Cj5rUcnV32OGToAQ1W5_Y-t6UyuBU7ni=7NJp4MQ@mail.gmail.com>

You won't be able to get the doc strings like that in 2.x as we never
included them in the sip files meaning they are never exposed to Python.
The automatic sip generation which also includes docs string is only for
3.x.

Nathan

On Tue, 20 Jun 2017, 7:31 AM Kevin Stadler <e0425926 at student.tuwien.ac.at>
wrote:

> Hello,
>
> I'm trying to access the docstrings of various QGIS 2.* components
> from the IPython console, but instead of the actual documentation I
> only seem to get dummy docstrings generated by SIP:
>
> >>> QgsMapLayerRegistry.instance().mapLayers.__doc__
> 'mapLayers(self) -> object'
>
> >>> QgsMapLayerRegistry.instance().mapLayer.__doc__
> 'mapLayer(self, QString) -> QgsMapLayer'
>
> >>> QgsVectorLayer.__doc__
> 'QgsVectorLayer(path: QString = QString.null, baseName: QString =
> QString.null, providerLib: QString = QString.null,
> loadDefaultStyleFlag: bool = True)'
>
> Using help(...) instead of .__doc__ doesn't look much different. Is
> this just something wrong with my build (from the Fedora stable
> repository), can somebody reproduce this on a non-Linux build?
>
> I've looked through the mailing list archive but haven't found
> anything conclusive. The flag to have SIP generate docstrings
> requested here is still enabled:
>
> http://osgeo-org.1560.x6.nabble.com/Sip-flag-to-generate-docstrings-td4485370.html
>
> I'm thinking it might have to do with the new SIP file generation
> workflow described here:
>
> http://osgeo-org.1560.x6.nabble.com/automatic-sip-files-generation-td5314970.html
> although I'm not clear on which branch this actually applies to (and
> whether it might be the source or the solution of my problem)?
>
> Best,
> Kevin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170619/0de6be79/attachment.html>

From nyall.dawson at gmail.com  Mon Jun 19 21:05:10 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 20 Jun 2017 14:05:10 +1000
Subject: [QGIS-Developer] Print Composer Bug with Scale and Rotation
In-Reply-To: <CABPxTTqZFxsD0_qnvcjexdXYdJD7UhRGYGL9peEo27ssa5059w@mail.gmail.com>
References: <CABPxTTqZFxsD0_qnvcjexdXYdJD7UhRGYGL9peEo27ssa5059w@mail.gmail.com>
Message-ID: <CAB28AsiprJiF91Fa-7o7W3c1s0K+H5UsANMMJ4BWc_gKNLpqGA@mail.gmail.com>

On 20 June 2017 at 02:18, C Hamilton <adenaculture at gmail.com> wrote:
> I am finding real inconsistent behavior with the print composer in QGIS
> 2.18.9 on Windows 7. The problem manifest quickly if you start with a
> QuickMapServices base layer such as OSM Standard. In print composer "Add new
> map" and while the map is selected, click on "Item Properties" and try to
> change the "Scale". It doesn't allow you to manually to change it nor does
> "Map rotation" permit any change.
>
> If however when you first start QGIS and then set the current CRS to 3857
> first and then add the QuickMapServers base layer then you can changed the
> "Scale" however "Map rotation" still does not work correctly.
>
> I have also tried WMS services and sometimes it works and sometimes it
> doesn't.
>
> Should I add this to the QGIS issue tracker?

No - it's a plugin specific bug, so should be filed with the plugin.

However, I'd strongly suggest using the native XYZ tile provider which
is present in QGIS 2.18 (see
https://www.qgis.org/en/site/forusers/visualchangelog218/index.html#feature-native-support-of-xyz-tile-layers).
It has full support for rotation in canvas and composer maps (neither
QuickMapServices nor OpenLayers plugin support this). It's also much
more responsive when navigating maps.

Nyall

From nyall.dawson at gmail.com  Mon Jun 19 21:06:42 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 20 Jun 2017 14:06:42 +1000
Subject: [QGIS-Developer] Geodesic Measure Tool With Bearing Information
In-Reply-To: <CABPxTTrW-Vr+7=A00y9rOagWYMc3xZktzTWoYM7d3_X5em_Q_g@mail.gmail.com>
References: <CABPxTToH+UU2aC9jG_KjY-RLmpk5-Qh63KJC=zwVNmthrNQA8A@mail.gmail.com>
 <CAB28Asj4zJADEAGanYKjhwsWyDYkLnT_YdNGs-B_7jsnXi1ciA@mail.gmail.com>
 <CABPxTTo+TeuNddRrorw-hZh6e8N0NeEAAWHt_b1TX70uoQ-PEg@mail.gmail.com>
 <CAB28Asj=TTvj_FqEXep_+BqbD16199zGSE=4LU+C4pU48ZOBoA@mail.gmail.com>
 <0c5a70688b60cda9e853283f9fb79cff.squirrel@webmail.tu-dortmund.de>
 <CABPxTTrW-Vr+7=A00y9rOagWYMc3xZktzTWoYM7d3_X5em_Q_g@mail.gmail.com>
Message-ID: <CAB28AshxyApVOmKN1vXOaWOH-rLCObBZkqY1S0YSn7NSFrudRg@mail.gmail.com>

On 16 June 2017 at 06:36, C Hamilton <adenaculture at gmail.com> wrote:

> There are several missing methods to QgsDistanceArea
>
> 1. Return the shortest path line between two points. The input would be the
> two points and the maximum distance of travel before a new line segment is
> added to the path. It may be good to add an attribute that is the maximum
> number of line segments that the line can have.
>
> 3. Calculate the intersection of two paths given their starting points and
> bearing.

These sound very useful! I'd love to see them implemented.

> 2. Given a starting point, bearing, and distance, return the destination
> point.

This was recently added (in master) by Mark Johnson.

Nyall

From nirvn.asia at gmail.com  Mon Jun 19 21:51:48 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Tue, 20 Jun 2017 11:51:48 +0700
Subject: [QGIS-Developer] Print Composer Bug with Scale and Rotation
In-Reply-To: <CAB28AsiprJiF91Fa-7o7W3c1s0K+H5UsANMMJ4BWc_gKNLpqGA@mail.gmail.com>
References: <CABPxTTqZFxsD0_qnvcjexdXYdJD7UhRGYGL9peEo27ssa5059w@mail.gmail.com>
 <CAB28AsiprJiF91Fa-7o7W3c1s0K+H5UsANMMJ4BWc_gKNLpqGA@mail.gmail.com>
Message-ID: <CAC_qv=rn2-djKhmvbnjYLnFm7KfN-w-4fuFQtWKM_PrTmdUeKA@mail.gmail.com>

FYI, I coincidentally spotted this nice commit (
https://github.com/nextgis/quickmapservices/commit/9ae9efd6bf2a162762262672bd93c9958cc822d1)
pushed to QuickMapServices' repository. This will make it possible to add
native XYZ layers via the QuickMapServices and therefore benefit from all
of is greatness (rotation as mentioned above, etc.)




On Tue, Jun 20, 2017 at 11:05 AM, Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On 20 June 2017 at 02:18, C Hamilton <adenaculture at gmail.com> wrote:
> > I am finding real inconsistent behavior with the print composer in QGIS
> > 2.18.9 on Windows 7. The problem manifest quickly if you start with a
> > QuickMapServices base layer such as OSM Standard. In print composer "Add
> new
> > map" and while the map is selected, click on "Item Properties" and try to
> > change the "Scale". It doesn't allow you to manually to change it nor
> does
> > "Map rotation" permit any change.
> >
> > If however when you first start QGIS and then set the current CRS to 3857
> > first and then add the QuickMapServers base layer then you can changed
> the
> > "Scale" however "Map rotation" still does not work correctly.
> >
> > I have also tried WMS services and sometimes it works and sometimes it
> > doesn't.
> >
> > Should I add this to the QGIS issue tracker?
>
> No - it's a plugin specific bug, so should be filed with the plugin.
>
> However, I'd strongly suggest using the native XYZ tile provider which
> is present in QGIS 2.18 (see
> https://www.qgis.org/en/site/forusers/visualchangelog218/
> index.html#feature-native-support-of-xyz-tile-layers).
> It has full support for rotation in canvas and composer maps (neither
> QuickMapServices nor OpenLayers plugin support this). It's also much
> more responsive when navigating maps.
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170620/3ea903f1/attachment.html>

From radim.blazek at gmail.com  Mon Jun 19 23:35:23 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Tue, 20 Jun 2017 08:35:23 +0200
Subject: [QGIS-Developer] Drag and drop to PostGIS crash
In-Reply-To: <CAEMrtYrS06gGEGEGqE_6m4dj4o-T0h2D3fBe=xK7_1MLCRVbmg@mail.gmail.com>
References: <CAEMrtYp4XO0fKs_52q0s+vyUbSEu2VzMJV3-RQYA3V7kPSBMGw@mail.gmail.com>
 <CAB28AsjEOMHhKB=AHs0pj3aar3jhXzHO8a9bTaZHCxpEwPpnFw@mail.gmail.com>
 <20170530074032.x2tmrn5uw4zhza2s@liz>
 <CAEMrtYresJxe3ZdH5MpGD0YwAGq+TgDjnXRHbxEwVRwPHJv9Uw@mail.gmail.com>
 <20170530080157.2gultfwi4iscp4zt@liz>
 <CAEMrtYot04QPq6iBFeTwJGMyh7BNDsd9fmgjjRYxPjLgG2xzBg@mail.gmail.com>
 <CAB28Asg6WhpGN8vT9xCKUPxNBZAAhV_F_=YWWxqAJy4UD1zoLA@mail.gmail.com>
 <CAEMrtYpyVGY=8h5s5UUYLLqJ8zARn60FPFeT5VcZmPD8p8sAvw@mail.gmail.com>
 <CAB28AsgpuT7AbDVzzR68OVBGCQTy6HskcjvORdnoDkap-Ac06g@mail.gmail.com>
 <CAEMrtYqip00JbZ0pcw23NJu8mwcoLW1ktABfOcq4cC29_O2yqg@mail.gmail.com>
 <CAB28AshfB40W67ukM8Fw1ZEXvG+=CWzVoPU7SBAxHoburwRGaQ@mail.gmail.com>
 <CAEMrtYrS06gGEGEGqE_6m4dj4o-T0h2D3fBe=xK7_1MLCRVbmg@mail.gmail.com>
Message-ID: <CAEMrtYq58APpZMAS7ymCPNj=vixiesDoOKApUGXZ6VHJqv3zPA@mail.gmail.com>

On Fri, Jun 2, 2017 at 11:02 AM, Radim Blazek <radim.blazek at gmail.com> wrote:
> On Fri, Jun 2, 2017 at 10:48 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>> QgsBrowserItem::handleDrop just gets a layer URI in the mime data -
>> that's enough for the other providers to be able to open a new copy of
>> the layer to grab the features from, but the for the memory provider
>> the uri only gives the table structure.... there's no features in the
>> newly created layer.
>
> It should be possible to pass the layer id and open an iterator on it?

I have implemented DD for memory layer using layer id passed in mime
data, but it is crashing in
QgsVectorLayerExporter::exportLayer()
on
QgsFeatureIterator fit = layer->getFeatures( req );

#0  0x0000000003abf980 in ?? ()
#1  0x00007fd5bd913d7d in QgsVectorLayerExporter::exportLayer
(layer=0x37f78a0, uri=..., providerKey=..., destCRS=...,
    onlySelected=false, errorMessage=0x34a5d68, options=0x34a5d50,
feedback=0x34a7f00)
    at /home/radim/devel/qgis/src/core/qgsvectorlayerexporter.cpp:332
#2  0x00007fd5bd9155e1 in QgsVectorLayerExporterTask::run (this=0x34a5cd0)
    at /home/radim/devel/qgis/src/core/qgsvectorlayerexporter.cpp:493
#3  0x00007fd5bd82e08d in QgsTask::start (this=0x34a5cd0) at
/home/radim/devel/qgis/src/core/qgstaskmanager.cpp:66
#4  0x00007fd5bd83a92c in QgsTaskRunnableWrapper::run (this=0x3793c00)
at /home/radim/devel/qgis/src/core/qgstaskmanager.cpp:335

Could it be a problem that feature iterator on memory layer is opened
from QgsVectorLayerExporterTask? Renderer also reads memory layer
features in thread.

Radim

From noreply at qgis.org  Tue Jun 20 00:16:22 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 20 Jun 2017 07:16:22 -0000
Subject: [QGIS-Developer] Plugin [1102] AequilibraE approval notification.
Message-ID: <20170620071622.16697.92177@320558c5528b>


Plugin AequilibraE approval by pcav.
The plugin version "[1102] AequilibraE 0.3.5.2" is now approved
Link: http://plugins.qgis.org/plugins/AequilibraE/

From noreply at qgis.org  Tue Jun 20 02:00:46 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 20 Jun 2017 09:00:46 -0000
Subject: [QGIS-Developer] Plugin [1050] LM Open Data WMTS approval
	notification.
Message-ID: <20170620090046.16115.38211@320558c5528b>


Plugin LM Open Data WMTS approval by pcav.
The plugin version "[1050] LM Open Data WMTS 0.4.1" is now approved
Link: http://plugins.qgis.org/plugins/LmOpenData/

From pedrongvenancio at gmail.com  Tue Jun 20 02:20:04 2017
From: pedrongvenancio at gmail.com (=?UTF-8?Q?Pedro_Ven=C3=A2ncio?=)
Date: Tue, 20 Jun 2017 10:20:04 +0100
Subject: [QGIS-Developer] Problem with QGIS from OSGeo4W and gdal 2.2.0-5
In-Reply-To: <CAMCJChsX2dz+8zYHOtE-+gd_YT8hVs+kW8aAwfCCuX9rdLfKUw@mail.gmail.com>
References: <CAMCJChsX2dz+8zYHOtE-+gd_YT8hVs+kW8aAwfCCuX9rdLfKUw@mail.gmail.com>
Message-ID: <CAMCJChs1FscUUtHqzQga1dGpLHchU+FqzsWDyS62x5VqTvLEAQ@mail.gmail.com>

Hi,

I opened a ticket here: https://trac.osgeo.org/osgeo4w/ticket/535

Best regards,
Pedro



2017-06-19 17:46 GMT+01:00 Pedro Venâncio <pedrongvenancio at gmail.com>:

> Hi,
>
> I've updated today QGIS from OSGeo4W64bits and it updated also gdal to
> version 2.2.0-5.
>
> It lead to a constant and inconsistent QGIS crash, sometimes at the start,
> other times when openning some saved projects, and other times, with new
> projects, when editing data, or simply zooming in and out.
>
> Tested with QGIS 2.18.9-14 and 2.14.15-5, with and without GRASS plugin.
> Also starting with --noplugins, I get the crash.
>
> Then I did the downgrade of gdal to 2.2.0-3, and everything seems to work
> again.
>
> To confirm, I've installed again gdal 2.2.0-5, tested, and get the crash
> right at the QGIS start. Downgraded again to gdal 2.2.0-3 and I get
> everything great again.
>
> So, seems to be something wrong with QGIS and gdal 2.2.0-5.
>
> Anyone confirms? Should I open a ticket?
>
> Thanks!
>
> Best regards,
> Pedro Venâncio
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170620/ce94350c/attachment.html>

From noreply at qgis.org  Tue Jun 20 02:32:48 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 20 Jun 2017 09:32:48 -0000
Subject: [QGIS-Developer] Plugin [970] TUFLOW approval notification.
Message-ID: <20170620093248.15751.89475@320558c5528b>


Plugin TUFLOW approval by pcav.
The plugin version "[970] TUFLOW 1.3.1" is now approved
Link: http://plugins.qgis.org/plugins/tuflow/

From nyall.dawson at gmail.com  Tue Jun 20 04:20:00 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 20 Jun 2017 21:20:00 +1000
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CACfnYnQFRzyg_bVZVchp8knE6=tXeZuT5qk2rj4Z4uKO2KB=uA@mail.gmail.com>
References: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
 <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
 <CACfnYnTJBff1Db-Hq5vR1gWAQzcfW_4WZYmcbNU=fugMMdwGug@mail.gmail.com>
 <CAB28Asg+pBniKnzTY9NcVvznd8fsYORSW--6QjvcTw8vZXRVtQ@mail.gmail.com>
 <CAB28Asjf-FvqKboxcF=M9TLTcawj8MtifANprYaw9dxic1=KwQ@mail.gmail.com>
 <CACfnYnQFRzyg_bVZVchp8knE6=tXeZuT5qk2rj4Z4uKO2KB=uA@mail.gmail.com>
Message-ID: <CAB28Asi54TqVVKoNtvb5dbYWZyVXX-5LTiTGy5ABfD6LKbdXDw@mail.gmail.com>

On 19 June 2017 at 19:19, Giovanni Manghi <giovanni.manghi at gmail.com> wrote:

> I waited a Windows osgeor4w master build that included your new native
> c++ dissolve tool.
>
> I tested it (on the same platform and conditions) against qgis 2.18.9
> nightly, that also write debug output.
>
> Using
> https://www.dropbox.com/s/ncj4ysh15xrnm45/caop.zip?dl=0
>
> and dissolving by "distrito" the ogr2ogr based tool is 2/3 seconds
> faster than the new native one.

For comparison, how long did each take in total?

> Using:
> https://www.dropbox.com/s/qr8md49cy5u8vrf/clip.zip?dl=0
>
> which is a clip of a much larger and complex layer, and dissolving by
> "aaaaa" (sorry for the column name), the ogr 2ogr based tool does the
> job in about 20 seconds.
>
> The new native dissolve tool runs for a split second and outputs a few
> polygons in vastly incomplete result.

Hmm - works fine here. Can you try turning off the invalid geometry
checking in processing options? That's a little broken at the moment
(with the error you've noted below)

> Trying to dissolve all polygons (and operation that the ogr2ogr based
> tool does with no issues) with the native tool it results in a python
> error and and infinite running hourglass.

Same as above - can you switch off the processing geometry check
option and retest?

> Traceback (most recent call last):
>   File "C:/OSGEO4~1/apps/qgis-dev/./python/plugins\processing\gui\AlgorithmDialog.py",
> line 246, in accept
>     result = executeAlgorithm(self.alg, parameters, context, feedback)
>   File "C:/OSGEO4~1/apps/qgis-dev/./python/plugins\processing\core\GeoAlgorithm.py",
> line 338, in executeAlgorithm
>     result = alg.run(parameters, context, feedback)
> SystemError:  returned a result with an error set

Yes - this error is on my list. There's a python exception being
thrown which messes with some c++ code.

> "Features with invalid geometries found. Please fix these geometries
> or specify the "Ignore invalid input features" flag"
>
> because the option is not available in the tool.

Outdated message ;) It's refering to the option in processing settings.

> I still strongly
> argue that anyway -if it is really a problem of bad geometries- we
> miss a clear suggestion and workflow to allow the user solve this
> situation. In my point of view the option in such tools should not be
> "skip the invalid geometries" but to *fix* them.

That should be really straightforward to add to the feature iterators
now. But alternatively there's a processing alg which repairs
geometries too (not in master yet, but in earlier 3.0 builds).

Nyall

From yjacolin at free.fr  Tue Jun 20 04:09:00 2017
From: yjacolin at free.fr (Yves Jacolin)
Date: Tue, 20 Jun 2017 13:09:00 +0200
Subject: [QGIS-Developer] GDAL-OGR version
Message-ID: <2235790.Md68ekQVil@tatras>

Hello,

I built QGIS with gdal-ogr version 2.2 but I get a crash with this message:
symbol lookup error: /home/yjacolin/Documents/Developpement/
qgis_install_stable/lib/libqgis_core.so.2.18.9: undefined symbol: 
OGR_F_IsFieldSetAndNotNull

Does QGIS 2.18.9 supports gdal 2.2?

Thanks,

Y.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: This is a digitally signed message part.
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170620/03d8ed6d/attachment.sig>

From even.rouault at spatialys.com  Tue Jun 20 04:28:08 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 20 Jun 2017 13:28:08 +0200
Subject: [QGIS-Developer] GDAL-OGR version
In-Reply-To: <2235790.Md68ekQVil@tatras>
References: <2235790.Md68ekQVil@tatras>
Message-ID: <2333864.K2YnbEepF6@even-i700>

On mardi 20 juin 2017 13:09:00 CEST Yves Jacolin wrote:
> Hello,
> 
> I built QGIS with gdal-ogr version 2.2 but I get a crash with this message:
> symbol lookup error: /home/yjacolin/Documents/Developpement/
> qgis_install_stable/lib/libqgis_core.so.2.18.9: undefined symbol:
> OGR_F_IsFieldSetAndNotNull
> 
> Does QGIS 2.18.9 supports gdal 2.2?

Yves,

The fact that you get this error message is a proof that latest QGIS 2.18 supports GDAL 2.2 ;-)

What likely happens here is that you have built QGIS against GDAL 2.2 header files, but at 
runtime an older libgdal is found. Check your PATH / LD_LIBRARY_PATH.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170620/121f2946/attachment.html>

From jef at norbit.de  Tue Jun 20 04:28:07 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue, 20 Jun 2017 13:28:07 +0200
Subject: [QGIS-Developer] GDAL-OGR version
In-Reply-To: <2235790.Md68ekQVil@tatras>
References: <2235790.Md68ekQVil@tatras>
Message-ID: <20170620112807.t7lw2fkyuq5f3lzk@norbit.de>

Hi Yves,

On Tue, 20. Jun 2017 at 13:09:00 +0200, Yves Jacolin wrote:
> I built QGIS with gdal-ogr version 2.2 but I get a crash with this message:
> symbol lookup error: /home/yjacolin/Documents/Developpement/
> qgis_install_stable/lib/libqgis_core.so.2.18.9: undefined symbol: 
> OGR_F_IsFieldSetAndNotNull

Are you sure you are trying with the GDAL 2.2 shared library?


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170620/ca9456dd/attachment-0001.sig>

From giovanni.manghi at gmail.com  Tue Jun 20 05:03:54 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Tue, 20 Jun 2017 13:03:54 +0100
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CAB28Asi54TqVVKoNtvb5dbYWZyVXX-5LTiTGy5ABfD6LKbdXDw@mail.gmail.com>
References: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
 <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
 <CACfnYnTJBff1Db-Hq5vR1gWAQzcfW_4WZYmcbNU=fugMMdwGug@mail.gmail.com>
 <CAB28Asg+pBniKnzTY9NcVvznd8fsYORSW--6QjvcTw8vZXRVtQ@mail.gmail.com>
 <CAB28Asjf-FvqKboxcF=M9TLTcawj8MtifANprYaw9dxic1=KwQ@mail.gmail.com>
 <CACfnYnQFRzyg_bVZVchp8knE6=tXeZuT5qk2rj4Z4uKO2KB=uA@mail.gmail.com>
 <CAB28Asi54TqVVKoNtvb5dbYWZyVXX-5LTiTGy5ABfD6LKbdXDw@mail.gmail.com>
Message-ID: <CACfnYnQBrjsbMq==3g-Rs9Gxc7rVW_XnEE7xwOZKUnDsG5pj7g@mail.gmail.com>

Hi Nyall,


>> and dissolving by "distrito" the ogr2ogr based tool is 2/3 seconds
>> faster than the new native one.
>
> For comparison, how long did each take in total?

about ~28/29 seconds ogr and ~ 31/32 native (on a testing VM with
limited resources).



> Hmm - works fine here. Can you try turning off the invalid geometry
> checking in processing options? That's a little broken at the moment
> (with the error you've noted below)

if I turn off that option then it works, both dissolving by attribute
and a full dissolve.
The speed difference is not much (ogr always a bit faster in my
testing environment).





> Outdated message ;) It's refering to the option in processing settings.

yes, i realized it later.


> That should be really straightforward to add to the feature iterators
> now. But alternatively there's a processing alg which repairs
> geometries too (not in master yet, but in earlier 3.0 builds).


both very good news! but don't forget that in the economy of a work
day of a person that do all day this kind of operations, having an
option to fix geometries on the fly while clipping/intersecting/etc is
very important and save a lot of time. Of course having the same
functionality as separate tool is as much as important.

cheers!

-- g --

From giovanni.manghi at gmail.com  Tue Jun 20 05:18:41 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Tue, 20 Jun 2017 13:18:41 +0100
Subject: [QGIS-Developer] Split parts tool - invalid output
Message-ID: <CACfnYnQrtJXW95mwD=wE0VxiZGZEpVhQU+8c1vY4RLq8g44nyA@mail.gmail.com>

Hi,


> Hi,
>
> I would like to raise attention for an issue which was discussed in
> length in the qgis-users list [1]
>
> You can ignore the beginning of the discussion where I mixed up "Split
> parts" and "Split features".
>
> The split features tool does not produce valid geometries. This can be
> easily reproduced by splitting one part of a multipart feature and
> then try to split that part again (or save and check the feature with
> e.g. postgis' st_isvalid()). This goes hand-in-hand with the comments
> in a related, older issue [2].
>
> This makes the workflow much more complex [see 3], if you want to have
> a valid output at the end.
>
> The discussion ended in a new Tool in the DigitizingTools (0.11.0)
> plugin (thank you Bernhard), which acts much more intuitive from a
> users' perspective.
> - singlepart features are split and one half inserted as a new feature
> - multipart features are split and the user has to choose which part
> gets inserted as a new feature, while the other half stays a multipart
> feature with all other parts still connected
>
> This raises the question if and how to get that to replace the core tools.
>
> Happy for any input :)



is strange this thread is seemingly not getting much traction at least
in the dev list. Having a core digitizing tool that cripples
geometries do not look good to me, and apparently a good solution has
been implemented (or had to) in a plugin. Isn't worth having core
doing it the right way?


cheers

-- G --

From nyall.dawson at gmail.com  Tue Jun 20 05:20:05 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 20 Jun 2017 22:20:05 +1000
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CACfnYnQBrjsbMq==3g-Rs9Gxc7rVW_XnEE7xwOZKUnDsG5pj7g@mail.gmail.com>
References: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
 <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
 <CACfnYnTJBff1Db-Hq5vR1gWAQzcfW_4WZYmcbNU=fugMMdwGug@mail.gmail.com>
 <CAB28Asg+pBniKnzTY9NcVvznd8fsYORSW--6QjvcTw8vZXRVtQ@mail.gmail.com>
 <CAB28Asjf-FvqKboxcF=M9TLTcawj8MtifANprYaw9dxic1=KwQ@mail.gmail.com>
 <CACfnYnQFRzyg_bVZVchp8knE6=tXeZuT5qk2rj4Z4uKO2KB=uA@mail.gmail.com>
 <CAB28Asi54TqVVKoNtvb5dbYWZyVXX-5LTiTGy5ABfD6LKbdXDw@mail.gmail.com>
 <CACfnYnQBrjsbMq==3g-Rs9Gxc7rVW_XnEE7xwOZKUnDsG5pj7g@mail.gmail.com>
Message-ID: <CAB28Asg4V__3_YOj5ibvSF0DsX4K6ta-i_VkjRwbnuMRvWmSXg@mail.gmail.com>

On 20 June 2017 at 22:03, Giovanni Manghi <giovanni.manghi at gmail.com> wrote:
> Hi Nyall,
>
>
>>> and dissolving by "distrito" the ogr2ogr based tool is 2/3 seconds
>>> faster than the new native one.
>>
>> For comparison, how long did each take in total?
>
> about ~28/29 seconds ogr and ~ 31/32 native (on a testing VM with
> limited resources).

I'm happy with that :D

>> Hmm - works fine here. Can you try turning off the invalid geometry
>> checking in processing options? That's a little broken at the moment
>> (with the error you've noted below)
>
> if I turn off that option then it works, both dissolving by attribute
> and a full dissolve.
> The speed difference is not much (ogr always a bit faster in my
> testing environment).

Also that :)

I'd love to see some tests using non-ogr sources (e.g. dissolve a
postgres layer or memory layer). I think in this case QGIS native may
be able to shave off this couple of seconds lead the OGR variant has.
(Although that's not really that important - if we can get the speed
comparable, with stable invalid geometry handling, then I'll be
satisfied).

>> That should be really straightforward to add to the feature iterators
>> now. But alternatively there's a processing alg which repairs
>> geometries too (not in master yet, but in earlier 3.0 builds).
>
>
> both very good news! but don't forget that in the economy of a work
> day of a person that do all day this kind of operations, having an
> option to fix geometries on the fly while clipping/intersecting/etc is
> very important and save a lot of time. Of course having the same
> functionality as separate tool is as much as important.

Agreed.

Thanks for this testing - it's very valuable!

Nyall

From yjacolin at free.fr  Tue Jun 20 04:56:45 2017
From: yjacolin at free.fr (Yves Jacolin)
Date: Tue, 20 Jun 2017 13:56:45 +0200
Subject: [QGIS-Developer] GDAL-OGR version
In-Reply-To: <2333864.K2YnbEepF6@even-i700>
References: <2235790.Md68ekQVil@tatras> <2333864.K2YnbEepF6@even-i700>
Message-ID: <1966616.pu0LkW3Hc2@tatras>

On mardi 20 juin 2017 13:28:08 CEST Even Rouault wrote:
> On mardi 20 juin 2017 13:09:00 CEST Yves Jacolin wrote:
> > Hello,
> > 
> > I built QGIS with gdal-ogr version 2.2 but I get a crash with this
> > message:
> > symbol lookup error: /home/yjacolin/Documents/Developpement/
> > qgis_install_stable/lib/libqgis_core.so.2.18.9: undefined symbol:
> > OGR_F_IsFieldSetAndNotNull
> > 
> > Does QGIS 2.18.9 supports gdal 2.2?
> 
> Yves,
> 
> The fact that you get this error message is a proof that latest QGIS 2.18
> supports GDAL 2.2 ;-)
> 
> What likely happens here is that you have built QGIS against GDAL 2.2 header
> files, but at runtime an older libgdal is found. Check your PATH /
> LD_LIBRARY_PATH.
> 
Even, Jürgen,

Shame on me, I renamed the path to GDAL in the past and my QGIS script was not 
uptodate :/

Many thanks to both of you,

Y.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: This is a digitally signed message part.
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170620/540e7ca5/attachment.sig>

From bernhard.stroebl at jena.de  Tue Jun 20 05:58:26 2017
From: bernhard.stroebl at jena.de (=?UTF-8?Q?Bernhard_Str=c3=b6bl?=)
Date: Tue, 20 Jun 2017 14:58:26 +0200
Subject: [QGIS-Developer] Split parts tool - invalid output
In-Reply-To: <CACfnYnQrtJXW95mwD=wE0VxiZGZEpVhQU+8c1vY4RLq8g44nyA@mail.gmail.com>
References: <CACfnYnQrtJXW95mwD=wE0VxiZGZEpVhQU+8c1vY4RLq8g44nyA@mail.gmail.com>
Message-ID: <25a14a01-3b4a-6e22-937d-8a853ac65413@jena.de>

Hi Giovanni

Am 20.06.2017 um 14:18 schrieb Giovanni Manghi:
> Hi,
>
>
>> Hi,
>>
>> I would like to raise attention for an issue which was discussed in
>> length in the qgis-users list [1]
>>
>> You can ignore the beginning of the discussion where I mixed up "Split
>> parts" and "Split features".
>>
>> The split features tool does not produce valid geometries. This can be
>> easily reproduced by splitting one part of a multipart feature and
>> then try to split that part again (or save and check the feature with
>> e.g. postgis' st_isvalid()). This goes hand-in-hand with the comments
>> in a related, older issue [2].
>>
>> This makes the workflow much more complex [see 3], if you want to have
>> a valid output at the end.
>>
>> The discussion ended in a new Tool in the DigitizingTools (0.11.0)
>> plugin (thank you Bernhard), which acts much more intuitive from a
>> users' perspective.
>> - singlepart features are split and one half inserted as a new feature
>> - multipart features are split and the user has to choose which part
>> gets inserted as a new feature, while the other half stays a multipart
>> feature with all other parts still connected
>>
>> This raises the question if and how to get that to replace the core tools.
>>
>> Happy for any input :)
>
>
>
> is strange this thread is seemingly not getting much traction at least
> in the dev list. Having a core digitizing tool that cripples
> geometries do not look good to me, and apparently a good solution has
> been implemented (or had to) in a plugin. Isn't worth having core
> doing it the right way?
>
>
> cheers
>
> -- G --

I would definitely wish to have proper tools in core but as I am not a 
C++ guy all I can do is implement things in a Python plugin :-( 
DigitizingTools is an effort to provide missing tools until there is a 
solution in core (I just abandoned a tool whose functionality has been 
implemented). I welcome any C++ dev going ahead and copying (and 
improving) the tools I provide.
You may have seen that I commented on [1]

Bernhard

[1] https://issues.qgis.org/issues/12754


__________ Information from ESET Mail Security, version of virus signature database 15614 (20170620) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From noreply at qgis.org  Tue Jun 20 13:50:19 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 20 Jun 2017 20:50:19 -0000
Subject: [QGIS-Developer] Plugin [1205] Polygon Divider approval
	notification.
Message-ID: <20170620205019.16115.77123@320558c5528b>


Plugin Polygon Divider approval by pcav.
The plugin version "[1205] Polygon Divider 0.2" is now approved
Link: http://plugins.qgis.org/plugins/Submission/

From stephanebek at gmail.com  Tue Jun 20 14:14:45 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Tue, 20 Jun 2017 23:14:45 +0200
Subject: [QGIS-Developer] [Qgis-developer] Adding default OSM backround
	maps
In-Reply-To: <CAK6pVBWYL+0mKVU5VXi+NtE+jNQG08teGKni6CfUpTCZ0+J+QQ@mail.gmail.com>
References: <31b81df0-3712-c9c4-c09f-82e11d3b74bd@faunalia.it>
 <724a33c5-95cd-8a0c-92a0-257683e96102@di.uminho.pt>
 <20170327102550.4dfnfr3y5mfaih2c@norbit.de>
 <b3f04b60-bb2f-ac6a-e58b-8a67ed9f133b@faunalia.it>
 <957a130e-f516-24b7-b222-f83d13d818fd@faunalia.it>
 <7273a448-dd41-1327-3e16-1dd3e189390b@di.uminho.pt>
 <b2028e1e-26f0-f2dd-e6f8-26368326cb64@faunalia.it>
 <CAK6pVBX4iKwL3h0+nantkcfZZ_2ha+LZA8m1h42gKwsVC2Py2g@mail.gmail.com>
 <f6a62f47-8458-6484-f19c-af45b365a594@di.uminho.pt>
 <CAK6pVBWYi6scZ=wVgY1aP8D2X=SGjpO2GpddCbjz4181PxVUeQ@mail.gmail.com>
 <CAK6pVBWYL+0mKVU5VXi+NtE+jNQG08teGKni6CfUpTCZ0+J+QQ@mail.gmail.com>
Message-ID: <CAK6pVBUqejo04GA902pVMVTw9cxicaCh=S9EZ+gc8Kdw-ySKwQ@mail.gmail.com>

Hi all

in the last 3 weeks there hasn't been any contribution on this QEP or in
the Google Doc. Should I assume that it hasn't raised lots attention
because it is not seen as a priority feature? In this case, I guess we can
remove the QEP (or change its status to "Postponed")

Or is it just that everybody is overloaded with other tasks but still
thinks this feature would be pretty damn cool? :-)

Thanks and cheers
Stéphane


Le mardi 6 juin 2017, Stéphane Henriod <stephanebek at gmail.com> a écrit :

> As recommended by Jorge, I just opened a QEP: https://github.com/qgis/
> QGIS-Enhancement-Proposals/issues/94
>
> But I would still suggest to keep the discussion on the Gdoc. I think it's
> a more flexible place for brainstorming. If we get some kind of consensus
> there, then I will fill up the QEP with more detailed info.
>
> Would that be ok? (first time I open a QEP, so not quite sure about the
> usual procedures and etiquette)
>
> Cheers
> Stéphane
>
> Le mardi 6 juin 2017, Stéphane Henriod <stephanebek at gmail.com
> <javascript:_e(%7B%7D,'cvml','stephanebek at gmail.com');>> a écrit :
>
>> Hi again
>>
>> if some are with me on this, let's try to work first on general
>> requirements. Then we can assess, I guess, relatively soon if this is
>> realistic or not.
>>
>> I started to brainstorm here: https://docs.google.com/
>> document/d/1f1OJtshHCPcLVEVqZjTEgI47zn61Plv5I-Yc68d2b64/edit?usp=sharing
>>
>> Thanks and cheers
>> Stéphane
>>
>>
>> Le mardi 6 juin 2017, Jorge Gustavo Rocha <jgr at di.uminho.pt> a écrit :
>>
>>> Hi Stéphane,
>>>
>>> Your suggestion may complement or be an alternative to the default OSM
>>> background maps.
>>>
>>> Regarding the implementation of the initial proposal, it is not
>>> difficult and have been done in PR#4352. It is basically one button to
>>> add another layer to the map.
>>>
>>> Creating a new vector tile service, provided by QGIS, seems quite more
>>> difficult to me. We need to maintain a mirror of the planet. This means
>>> a lot of resources (hw and ops).
>>>
>>> Developing one style is not difficult but one that everybody likes is
>>> much more difficult. We would end up as OSM did, with several styles,
>>> for different users. But if the render is on the client side, there is
>>> no problem to maintain more than one style.
>>>
>>> In summary, providing the tile service seems more complicated to me, but
>>> this can be further explored. If you would like to try it, I can help.
>>>
>>> Regards,
>>>
>>> Jorge Gustavo
>>>
>>>
>>> Às 10:57 de 06-06-2017, Stéphane Henriod escreveu:
>>> > Hi all
>>> >
>>> > jumping (a bit late) on this...
>>> >
>>> > I realize that this would be much heavier and much more expensive to
>>> > implement but what about developing a "QGIS style" for OSM-based tiles
>>> > (that could, e.g., be hosted on QGIS.org)? That would take care of 3
>>> issues:
>>> >
>>> >   * "Quality of the cartography": if we are not 100% happy with the
>>> >     default OSM style as a background map, we could come up with a more
>>> >     appropriate style
>>> >   * "Quality of the service":  there is a risk that OSMF once shuts
>>> down
>>> >     the service because we generate too much traffic. If "we" host the
>>> >     tiles ourselves, the risks and associated decisions remain in "our"
>>> >     hands
>>> >   * "Frequency of updates": same, if it lies in "our" hands, we can
>>> >     define ourselves what frequency would be appropriate
>>> >
>>> > I assume that developing a new style is not a huge task (there are
>>> > probably enough people around with the necessary skills) and could be
>>> > achieved either with a "small" budget or with sufficient participation
>>> > of the community. But the long-term maintenance and hosting / serving
>>> of
>>> > the tiles is probably an issue of a different magnitude...
>>> >
>>> > Would that idea be worth exploring further? Or do you think it is
>>> > completely not realistic ?
>>> >
>>> > Thanks and cheers
>>> > Stéphane
>>> >
>>> > Le lundi 1 mai 2017, Paolo Cavallini <cavallini at faunalia.it
>>> > <mailto:cavallini at faunalia.it>> a écrit :
>>> >
>>> >     Il 30/04/2017 19:28, Jorge Gustavo Rocha ha scritto:
>>> >
>>> >     > I did a PR [1], very simple. This discussion is now about the
>>> best
>>> >     > approach to handle all settings, in all platforms. I'm working on
>>> >     that.
>>> >
>>> >     FYI, summarized here:
>>> >     https://issues.qgis.org/issues/16493
>>> >     <https://issues.qgis.org/issues/16493>
>>> >     Please add what is missing.
>>> >     Thanks.
>>> >     --
>>> >     Paolo Cavallini - www.faunalia.eu <http://www.faunalia.eu>
>>> >     QGIS & PostGIS courses: http://www.faunalia.eu/training.html
>>> >     <http://www.faunalia.eu/training.html>
>>> >     https://www.google.com/trends/explore?date=all&geo=IT&q=
>>> qgis,arcgis
>>> >     <https://www.google.com/trends/explore?date=all&geo=IT&q=qg
>>> is,arcgis>
>>> >     _______________________________________________
>>> >     Qgis-developer mailing list
>>> >     Qgis-developer at lists.osgeo.org <javascript:;>
>>> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>> >     Unsubscribe: https://lists.osgeo.org/mailma
>>> n/listinfo/qgis-developer
>>> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>> >
>>> >
>>> >
>>> > --
>>> >
>>> > “When you travel, remember that a foreign country is not designed to
>>> > make you comfortable. It is designed to make its own people
>>> > comfortable." -- Clifton Fadiman
>>> >
>>> >
>>> >
>>> > _______________________________________________
>>> > QGIS-Developer mailing list
>>> > QGIS-Developer at lists.osgeo.org
>>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >
>>>
>>> J. Gustavo
>>> --
>>> Jorge Gustavo Rocha
>>> Departamento de Informática
>>> Universidade do Minho
>>> 4710-057 Braga
>>> Tel: +351 253604480
>>> Fax: +351 253604471
>>> Móvel: +351 910333888
>>> skype: nabocudnosor
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> --
>>
>> “When you travel, remember that a foreign country is not designed to make
>> you comfortable. It is designed to make its own people comfortable." --
>> Clifton Fadiman
>>
>>
>
> --
>
> “When you travel, remember that a foreign country is not designed to make
> you comfortable. It is designed to make its own people comfortable." --
> Clifton Fadiman
>
>

-- 

“When you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170620/923d97bd/attachment.html>

From stephanebek at gmail.com  Tue Jun 20 14:17:18 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Tue, 20 Jun 2017 23:17:18 +0200
Subject: [QGIS-Developer] Problem with "no Data value" with rasters when
 using the Layer Styling panel?
In-Reply-To: <CAK6pVBUX7AE2xfQg=AZFg7oW-s5pF61Z9jht4xiA_gN-NX+5sA@mail.gmail.com>
References: <CAK6pVBVcB0jEQN4rzMT8VUgWuAQA_DP4ZK1McCLanD_K8gz6Ew@mail.gmail.com>
 <CAK6pVBXC34jrv9XVH6xFdkOdCyc1AvXfKML4QM=K76svtojsmg@mail.gmail.com>
 <CAK6pVBUX7AE2xfQg=AZFg7oW-s5pF61Z9jht4xiA_gN-NX+5sA@mail.gmail.com>
Message-ID: <CAK6pVBXFwBVJnWUmimrxw=_tTv4A53ce9MAH-ONQZWQESymQiQ@mail.gmail.com>

Hi all

Apparently, this has been confirmed as a bug. Is anyone willing / able to
take care of it?

Thanks a lot and cheers

Stéphane (who really feels sorry to raise such questions, while not being
able himself to actively contribute to the resolution of such bugs)


Le jeudi 1 juin 2017, Stéphane Henriod <stephanebek at gmail.com> a écrit :

> Hi again
>
> in doubt, I have opened a ticket here: https://issues.qgis.org/
> issues/16649
>
> Cheers
> Stéphane
>
>
> Le mardi 30 mai 2017, Stéphane Henriod <stephanebek at gmail.com
> <javascript:_e(%7B%7D,'cvml','stephanebek at gmail.com');>> a écrit :
>
>> PS: screencast to better explain the issue: https://vimeo.com/219467091
>>
>> Le mardi 30 mai 2017, Stéphane Henriod <stephanebek at gmail.com> a écrit :
>>
>>> Hi
>>>
>>> I am testing the layer styling panel (shortcut F7) with the latest
>>> Nightly build on the Ubuntu repositories.
>>>
>>> By default, the NoData value is -9999. If I add "10" as additional
>>> NoData value, nothing happens.
>>>
>>> If I do the same in the layer properties, then the expected behavior
>>> happens: all pixels with value "10" are not rendered.
>>>
>>> So it seems that the manually added NoData values in the Layer Styling
>>> Panel are not considered.
>>>
>>> Can someone else replicate this problem? Should I open a ticket?
>>>
>>> Cheers
>>> Stéphane
>>>
>>>
>>> --
>>>
>>> “When you travel, remember that a foreign country is not designed to
>>> make you comfortable. It is designed to make its own people comfortable."
>>> -- Clifton Fadiman
>>>
>>>
>>
>> --
>>
>> “When you travel, remember that a foreign country is not designed to make
>> you comfortable. It is designed to make its own people comfortable." --
>> Clifton Fadiman
>>
>>
>
> --
>
> “When you travel, remember that a foreign country is not designed to make
> you comfortable. It is designed to make its own people comfortable." --
> Clifton Fadiman
>
>

-- 

“When you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170620/9ff18d1b/attachment-0001.html>

From madmanwoo at gmail.com  Tue Jun 20 14:32:07 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Wed, 21 Jun 2017 07:32:07 +1000
Subject: [QGIS-Developer] [Qgis-developer] Adding default OSM backround
	maps
In-Reply-To: <CAK6pVBUqejo04GA902pVMVTw9cxicaCh=S9EZ+gc8Kdw-ySKwQ@mail.gmail.com>
References: <31b81df0-3712-c9c4-c09f-82e11d3b74bd@faunalia.it>
 <724a33c5-95cd-8a0c-92a0-257683e96102@di.uminho.pt>
 <20170327102550.4dfnfr3y5mfaih2c@norbit.de>
 <b3f04b60-bb2f-ac6a-e58b-8a67ed9f133b@faunalia.it>
 <957a130e-f516-24b7-b222-f83d13d818fd@faunalia.it>
 <7273a448-dd41-1327-3e16-1dd3e189390b@di.uminho.pt>
 <b2028e1e-26f0-f2dd-e6f8-26368326cb64@faunalia.it>
 <CAK6pVBX4iKwL3h0+nantkcfZZ_2ha+LZA8m1h42gKwsVC2Py2g@mail.gmail.com>
 <f6a62f47-8458-6484-f19c-af45b365a594@di.uminho.pt>
 <CAK6pVBWYi6scZ=wVgY1aP8D2X=SGjpO2GpddCbjz4181PxVUeQ@mail.gmail.com>
 <CAK6pVBWYL+0mKVU5VXi+NtE+jNQG08teGKni6CfUpTCZ0+J+QQ@mail.gmail.com>
 <CAK6pVBUqejo04GA902pVMVTw9cxicaCh=S9EZ+gc8Kdw-ySKwQ@mail.gmail.com>
Message-ID: <CAAi8Yg-7bBvKEAzOgXD_=qVVayAvrCgkbj_cctegk97yZ5mYtw@mail.gmail.com>

Hey,

I think most of us are pretty busy just with the ramp up to 3.0. The idea
is fine however the proposal requires hosting map tiles, which may come at
a large cost if hit hard.  I think your best bet is to follow leads on that
front first, if you can get someone to step up to host the tiles then maybe
we can get it off the ground, I suspect we don't have the server capcatity
at qgis.org (could be wrong).  I'm also not sure we want to turn into a
tile provider yet given we already have enough on.

Regards,
Nathan

On Wed, Jun 21, 2017 at 7:14 AM, Stéphane Henriod <stephanebek at gmail.com>
wrote:

> Hi all
>
> in the last 3 weeks there hasn't been any contribution on this QEP or in
> the Google Doc. Should I assume that it hasn't raised lots attention
> because it is not seen as a priority feature? In this case, I guess we can
> remove the QEP (or change its status to "Postponed")
>
> Or is it just that everybody is overloaded with other tasks but still
> thinks this feature would be pretty damn cool? :-)
>
> Thanks and cheers
> Stéphane
>
>
> Le mardi 6 juin 2017, Stéphane Henriod <stephanebek at gmail.com> a écrit :
>
>> As recommended by Jorge, I just opened a QEP: https://github.com/qgis/Q
>> GIS-Enhancement-Proposals/issues/94
>>
>> But I would still suggest to keep the discussion on the Gdoc. I think
>> it's a more flexible place for brainstorming. If we get some kind of
>> consensus there, then I will fill up the QEP with more detailed info.
>>
>> Would that be ok? (first time I open a QEP, so not quite sure about the
>> usual procedures and etiquette)
>>
>> Cheers
>> Stéphane
>>
>> Le mardi 6 juin 2017, Stéphane Henriod <stephanebek at gmail.com> a écrit :
>>
>>> Hi again
>>>
>>> if some are with me on this, let's try to work first on general
>>> requirements. Then we can assess, I guess, relatively soon if this is
>>> realistic or not.
>>>
>>> I started to brainstorm here: https://docs.google.com/
>>> document/d/1f1OJtshHCPcLVEVqZjTEgI47zn61Plv5I-Yc68d2b64/edit?usp=sharing
>>>
>>> Thanks and cheers
>>> Stéphane
>>>
>>>
>>> Le mardi 6 juin 2017, Jorge Gustavo Rocha <jgr at di.uminho.pt> a écrit :
>>>
>>>> Hi Stéphane,
>>>>
>>>> Your suggestion may complement or be an alternative to the default OSM
>>>> background maps.
>>>>
>>>> Regarding the implementation of the initial proposal, it is not
>>>> difficult and have been done in PR#4352. It is basically one button to
>>>> add another layer to the map.
>>>>
>>>> Creating a new vector tile service, provided by QGIS, seems quite more
>>>> difficult to me. We need to maintain a mirror of the planet. This means
>>>> a lot of resources (hw and ops).
>>>>
>>>> Developing one style is not difficult but one that everybody likes is
>>>> much more difficult. We would end up as OSM did, with several styles,
>>>> for different users. But if the render is on the client side, there is
>>>> no problem to maintain more than one style.
>>>>
>>>> In summary, providing the tile service seems more complicated to me, but
>>>> this can be further explored. If you would like to try it, I can help.
>>>>
>>>> Regards,
>>>>
>>>> Jorge Gustavo
>>>>
>>>>
>>>> Às 10:57 de 06-06-2017, Stéphane Henriod escreveu:
>>>> > Hi all
>>>> >
>>>> > jumping (a bit late) on this...
>>>> >
>>>> > I realize that this would be much heavier and much more expensive to
>>>> > implement but what about developing a "QGIS style" for OSM-based tiles
>>>> > (that could, e.g., be hosted on QGIS.org)? That would take care of 3
>>>> issues:
>>>> >
>>>> >   * "Quality of the cartography": if we are not 100% happy with the
>>>> >     default OSM style as a background map, we could come up with a
>>>> more
>>>> >     appropriate style
>>>> >   * "Quality of the service":  there is a risk that OSMF once shuts
>>>> down
>>>> >     the service because we generate too much traffic. If "we" host the
>>>> >     tiles ourselves, the risks and associated decisions remain in
>>>> "our"
>>>> >     hands
>>>> >   * "Frequency of updates": same, if it lies in "our" hands, we can
>>>> >     define ourselves what frequency would be appropriate
>>>> >
>>>> > I assume that developing a new style is not a huge task (there are
>>>> > probably enough people around with the necessary skills) and could be
>>>> > achieved either with a "small" budget or with sufficient participation
>>>> > of the community. But the long-term maintenance and hosting / serving
>>>> of
>>>> > the tiles is probably an issue of a different magnitude...
>>>> >
>>>> > Would that idea be worth exploring further? Or do you think it is
>>>> > completely not realistic ?
>>>> >
>>>> > Thanks and cheers
>>>> > Stéphane
>>>> >
>>>> > Le lundi 1 mai 2017, Paolo Cavallini <cavallini at faunalia.it
>>>> > <mailto:cavallini at faunalia.it>> a écrit :
>>>> >
>>>> >     Il 30/04/2017 19:28, Jorge Gustavo Rocha ha scritto:
>>>> >
>>>> >     > I did a PR [1], very simple. This discussion is now about the
>>>> best
>>>> >     > approach to handle all settings, in all platforms. I'm working
>>>> on
>>>> >     that.
>>>> >
>>>> >     FYI, summarized here:
>>>> >     https://issues.qgis.org/issues/16493
>>>> >     <https://issues.qgis.org/issues/16493>
>>>> >     Please add what is missing.
>>>> >     Thanks.
>>>> >     --
>>>> >     Paolo Cavallini - www.faunalia.eu <http://www.faunalia.eu>
>>>> >     QGIS & PostGIS courses: http://www.faunalia.eu/training.html
>>>> >     <http://www.faunalia.eu/training.html>
>>>> >     https://www.google.com/trends/explore?date=all&geo=IT&q=qgi
>>>> s,arcgis
>>>> >     <https://www.google.com/trends/explore?date=all&geo=IT&q=qg
>>>> is,arcgis>
>>>> >     _______________________________________________
>>>> >     Qgis-developer mailing list
>>>> >     Qgis-developer at lists.osgeo.org <javascript:;>
>>>> >     List info: https://lists.osgeo.org/mailma
>>>> n/listinfo/qgis-developer
>>>> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>> >     Unsubscribe: https://lists.osgeo.org/mailma
>>>> n/listinfo/qgis-developer
>>>> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>> >
>>>> >
>>>> >
>>>> > --
>>>> >
>>>> > “When you travel, remember that a foreign country is not designed to
>>>> > make you comfortable. It is designed to make its own people
>>>> > comfortable." -- Clifton Fadiman
>>>> >
>>>> >
>>>> >
>>>> > _______________________________________________
>>>> > QGIS-Developer mailing list
>>>> > QGIS-Developer at lists.osgeo.org
>>>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> >
>>>>
>>>> J. Gustavo
>>>> --
>>>> Jorge Gustavo Rocha
>>>> Departamento de Informática
>>>> Universidade do Minho
>>>> 4710-057 Braga
>>>> Tel: +351 253604480 <+351%20253%20604%20480>
>>>> Fax: +351 253604471 <+351%20253%20604%20471>
>>>> Móvel: +351 910333888 <+351%20910%20333%20888>
>>>> skype: nabocudnosor
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>>
>>> --
>>>
>>> “When you travel, remember that a foreign country is not designed to
>>> make you comfortable. It is designed to make its own people comfortable."
>>> -- Clifton Fadiman
>>>
>>>
>>
>> --
>>
>> “When you travel, remember that a foreign country is not designed to make
>> you comfortable. It is designed to make its own people comfortable." --
>> Clifton Fadiman
>>
>>
>
> --
>
> “When you travel, remember that a foreign country is not designed to make
> you comfortable. It is designed to make its own people comfortable." --
> Clifton Fadiman
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170621/68fce45f/attachment.html>

From rdmailings at duif.net  Tue Jun 20 22:59:17 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 21 Jun 2017 07:59:17 +0200
Subject: [QGIS-Developer] [Qgis-developer] Adding default OSM backround
 maps
In-Reply-To: <CAK6pVBUqejo04GA902pVMVTw9cxicaCh=S9EZ+gc8Kdw-ySKwQ@mail.gmail.com>
References: <31b81df0-3712-c9c4-c09f-82e11d3b74bd@faunalia.it>
 <724a33c5-95cd-8a0c-92a0-257683e96102@di.uminho.pt>
 <20170327102550.4dfnfr3y5mfaih2c@norbit.de>
 <b3f04b60-bb2f-ac6a-e58b-8a67ed9f133b@faunalia.it>
 <957a130e-f516-24b7-b222-f83d13d818fd@faunalia.it>
 <7273a448-dd41-1327-3e16-1dd3e189390b@di.uminho.pt>
 <b2028e1e-26f0-f2dd-e6f8-26368326cb64@faunalia.it>
 <CAK6pVBX4iKwL3h0+nantkcfZZ_2ha+LZA8m1h42gKwsVC2Py2g@mail.gmail.com>
 <f6a62f47-8458-6484-f19c-af45b365a594@di.uminho.pt>
 <CAK6pVBWYi6scZ=wVgY1aP8D2X=SGjpO2GpddCbjz4181PxVUeQ@mail.gmail.com>
 <CAK6pVBWYL+0mKVU5VXi+NtE+jNQG08teGKni6CfUpTCZ0+J+QQ@mail.gmail.com>
 <CAK6pVBUqejo04GA902pVMVTw9cxicaCh=S9EZ+gc8Kdw-ySKwQ@mail.gmail.com>
Message-ID: <ee112e1c-3a4d-6a0c-213e-86eb898f8fec@duif.net>

On 20-06-17 23:14, Stéphane Henriod wrote:
> Hi all
> 
> in the last 3 weeks there hasn't been any contribution on this QEP or in
> the Google Doc. Should I assume that it hasn't raised lots attention
> because it is not seen as a priority feature? In this case, I guess we
> can remove the QEP (or change its status to "Postponed")
> 
> Or is it just that everybody is overloaded with other tasks but still
> thinks this feature would be pretty damn cool? :-)

Hi,

just my 2 ct (and talking about myself: yep, busy too).

It is a LOT of work, both styling and running an open server hosting
world data in a custom style. You need also quite a lot
cpu/disk/connection resources for it to perform well.

So somebody needs to put time/resources in it, AND take responsibility
to keep it run smoothly...

So I would stick with OSM tiles for now (or some other local/open tile
servers), and maybe start yourself with the styling/hosting of a smaller
part of the world, share that map and see if that makes people eager to
see more :-)

Regards,

Richard Duivenvoorde

From cavallini at faunalia.it  Wed Jun 21 00:18:50 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 21 Jun 2017 09:18:50 +0200
Subject: [QGIS-Developer] [Qgis-developer] Adding default OSM backround
 maps
In-Reply-To: <ee112e1c-3a4d-6a0c-213e-86eb898f8fec@duif.net>
References: <31b81df0-3712-c9c4-c09f-82e11d3b74bd@faunalia.it>
 <724a33c5-95cd-8a0c-92a0-257683e96102@di.uminho.pt>
 <20170327102550.4dfnfr3y5mfaih2c@norbit.de>
 <b3f04b60-bb2f-ac6a-e58b-8a67ed9f133b@faunalia.it>
 <957a130e-f516-24b7-b222-f83d13d818fd@faunalia.it>
 <7273a448-dd41-1327-3e16-1dd3e189390b@di.uminho.pt>
 <b2028e1e-26f0-f2dd-e6f8-26368326cb64@faunalia.it>
 <CAK6pVBX4iKwL3h0+nantkcfZZ_2ha+LZA8m1h42gKwsVC2Py2g@mail.gmail.com>
 <f6a62f47-8458-6484-f19c-af45b365a594@di.uminho.pt>
 <CAK6pVBWYi6scZ=wVgY1aP8D2X=SGjpO2GpddCbjz4181PxVUeQ@mail.gmail.com>
 <CAK6pVBWYL+0mKVU5VXi+NtE+jNQG08teGKni6CfUpTCZ0+J+QQ@mail.gmail.com>
 <CAK6pVBUqejo04GA902pVMVTw9cxicaCh=S9EZ+gc8Kdw-ySKwQ@mail.gmail.com>
 <ee112e1c-3a4d-6a0c-213e-86eb898f8fec@duif.net>
Message-ID: <c3490e46-981e-e0d8-92fa-291bbdef27bf@faunalia.it>

Il 21/06/2017 07:59, Richard Duivenvoorde ha scritto:

> It is a LOT of work, both styling and running an open server hosting
> world data in a custom style. You need also quite a lot
> cpu/disk/connection resources for it to perform well.
> 
> So somebody needs to put time/resources in it, AND take responsibility
> to keep it run smoothly...
> 
> So I would stick with OSM tiles for now (or some other local/open tile
> servers), and maybe start yourself with the styling/hosting of a smaller
> part of the world, share that map and see if that makes people eager to
> see more :-)

+1
what I would like to have is some default server already present in
QGIS. There is some work to do also for this, but much less, and it's
sustainable over time.
Anyone willing to help?
All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From ampouillle at gmail.com  Wed Jun 21 00:32:12 2017
From: ampouillle at gmail.com (Christophe B)
Date: Wed, 21 Jun 2017 09:32:12 +0200
Subject: [QGIS-Developer] Debug C++ QGIS plugin with VS
Message-ID: <CAFKHLxqnS72bxJkOZtUqdra0CXhNMeg5Uhmrpeb8=o_CSCcxSg@mail.gmail.com>

Hi List,


We have a problem with a QGIS plugin developed in C ++ and the developer
left us with a debug environment that did not work..

We managed to recreate an environment that allows to build the dll: it
works with version 2.18 of GIS!
When we have a bug, we do not have what it takes to develop properly.

We are therefore looking to associate QGIS with visual studio and be able
to take step by step by associating with the process.
For the moment when we build with the DLL / lib of dev it build but when
launching the plugin, QGIS crash with a message
Debug Assertion Failed! Expression: _pFirstBlock == pHead
If we try to focus on the process, in release, we can not do anything ...

We would need a tutorial that presents the best practices and prerequisites
to build this enviroment environment (on windows 😶 )
QGIS 2.18.5
VS 2013
QT 4.8.6

Do you have that?

Thank you all
(sorry for googletrad)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170621/86ad981a/attachment.html>

From noreply at qgis.org  Wed Jun 21 00:40:53 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 21 Jun 2017 07:40:53 -0000
Subject: [QGIS-Developer] Plugin [241] Crayfish approval notification.
Message-ID: <20170621074053.15751.83491@320558c5528b>


Plugin Crayfish approval by pcav.
The plugin version "[241] Crayfish 2.6.1" is now approved
Link: http://plugins.qgis.org/plugins/crayfish/

From matteo.ghetta at gmail.com  Wed Jun 21 00:43:39 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 21 Jun 2017 09:43:39 +0200
Subject: [QGIS-Developer] Processing algorithms provider and docs
Message-ID: <c44b1dd9-2774-7344-04f4-32cce292e356@gmail.com>

Hi all,
Processing is now in big reorganization but also before its porting in
C++ I noticed some differences between the number of algorithm in the UI
and those in the website.

For example, I remember that there were some algorithm in the Database
menu that involves also SpatiaLite while in the documentation here:

http://docs.qgis.org/testing/en/docs/user_manual/processing_algs/qgis/database.html

only 2 algorithms appear.


Is the documentation of he Processing providers (in the website) build
according to the algorithm number of the UI?

Thanks for any further info

Cheers

Matteo

From delazj at gmail.com  Wed Jun 21 01:04:07 2017
From: delazj at gmail.com (DelazJ)
Date: Wed, 21 Jun 2017 10:04:07 +0200
Subject: [QGIS-Developer] Processing algorithms provider and docs
In-Reply-To: <c44b1dd9-2774-7344-04f4-32cce292e356@gmail.com>
References: <c44b1dd9-2774-7344-04f4-32cce292e356@gmail.com>
Message-ID: <CAECJsSqSh8-eLbS5BQrg16unR9wvM7Qbj5romGq45n8hEGPv6Q@mail.gmail.com>

Hi Matteo,

As far as I know there is no automatic process to generate/fill a section
in the online documentation for each algorithm added to Processing. Someone
has to be aware of this new algorithm and write its description. And I'm
not sure it has often be the case untill the webhook (which currently
prevents of this new algorithm, so no longer need for manual check). So I'd
say that it's normal to have missing algorithms in the documentation.

Harrissou


2017-06-21 9:43 GMT+02:00 matteo <matteo.ghetta at gmail.com>:

> Hi all,
> Processing is now in big reorganization but also before its porting in
> C++ I noticed some differences between the number of algorithm in the UI
> and those in the website.
>
> For example, I remember that there were some algorithm in the Database
> menu that involves also SpatiaLite while in the documentation here:
>
> http://docs.qgis.org/testing/en/docs/user_manual/
> processing_algs/qgis/database.html
>
> only 2 algorithms appear.
>
>
> Is the documentation of he Processing providers (in the website) build
> according to the algorithm number of the UI?
>
> Thanks for any further info
>
> Cheers
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170621/748a0821/attachment.html>

From yjacolin at free.fr  Wed Jun 21 00:55:38 2017
From: yjacolin at free.fr (Yves Jacolin)
Date: Wed, 21 Jun 2017 09:55:38 +0200
Subject: [QGIS-Developer] Processing algorithms provider and docs
In-Reply-To: <c44b1dd9-2774-7344-04f4-32cce292e356@gmail.com>
References: <c44b1dd9-2774-7344-04f4-32cce292e356@gmail.com>
Message-ID: <5168944.31UIECrqER@tatras>

Matteo,

On mercredi 21 juin 2017 09:43:39 CEST matteo wrote:
> Is the documentation of he Processing providers (in the website) build
> according to the algorithm number of the UI?

Probably for the first import but now this is a manual task. Could you open 
ticket(s) on missing alogrithmes?

Thanks,

Y.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: This is a digitally signed message part.
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170621/7c1765b3/attachment.sig>

From matteo.ghetta at gmail.com  Wed Jun 21 02:22:33 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 21 Jun 2017 11:22:33 +0200
Subject: [QGIS-Developer] Processing algorithms provider and docs
In-Reply-To: <CAECJsSqSh8-eLbS5BQrg16unR9wvM7Qbj5romGq45n8hEGPv6Q@mail.gmail.com>
References: <c44b1dd9-2774-7344-04f4-32cce292e356@gmail.com>
 <CAECJsSqSh8-eLbS5BQrg16unR9wvM7Qbj5romGq45n8hEGPv6Q@mail.gmail.com>
Message-ID: <1fb5f325-28e0-db71-2852-083a245b3455@gmail.com>

Hi Harrissou and Yves,

ok so no webhooks or some automatic tasks that is "aware" of new
algorithms of Processing to put them in the docs.

Yves, as soon as Nyall is finished with the Processing armageddon I will
make some checks, open tickets and add the missing algorithms.


BTW isn't it possible to have some automatic webhook for new Processing
algorithms? I don't now how but maybe it wouldn't be so difficult to
achieve. I can help on this.. some ideas?

Thanks guys!

Cheers

Matteo

From delazj at gmail.com  Wed Jun 21 02:32:49 2017
From: delazj at gmail.com (DelazJ)
Date: Wed, 21 Jun 2017 11:32:49 +0200
Subject: [QGIS-Developer] Processing algorithms provider and docs
In-Reply-To: <1fb5f325-28e0-db71-2852-083a245b3455@gmail.com>
References: <c44b1dd9-2774-7344-04f4-32cce292e356@gmail.com>
 <CAECJsSqSh8-eLbS5BQrg16unR9wvM7Qbj5romGq45n8hEGPv6Q@mail.gmail.com>
 <1fb5f325-28e0-db71-2852-083a245b3455@gmail.com>
Message-ID: <CAECJsSqifuSaWCQ0QJbHG5pRfHt5H8Tjv2GzsgMyMV3nPtnXcA@mail.gmail.com>

2017-06-21 11:22 GMT+02:00 matteo <matteo.ghetta at gmail.com>:

> Hi Harrissou and Yves,
>
> ok so no webhooks or some automatic tasks that is "aware" of new
> algorithms of Processing to put them in the docs.
>
> There's. IF the committer adds the [feature] tag to the commit, then an
issue is created in the Documentation, so people are aware of the new
algorithm.
A good list at
https://github.com/qgis/QGIS-Documentation/issues?q=is%3Aissue+is%3Aopen+processing+author%3AQGIS-feature-tracker



> Yves, as soon as Nyall is finished with the Processing armageddon I will
> make some checks, open tickets and add the missing algorithms.
>
>
> BTW isn't it possible to have some automatic webhook for new Processing
> algorithms? I don't now how but maybe it wouldn't be so difficult to
> achieve. I can help on this.. some ideas?
>
> Thanks guys!
>
> Cheers
>
> Matteo
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170621/f3c91c0a/attachment-0001.html>

From giovanni.manghi at gmail.com  Wed Jun 21 03:44:38 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Wed, 21 Jun 2017 11:44:38 +0100
Subject: [QGIS-Developer] Split parts tool - invalid output
Message-ID: <CACfnYnRUUv68v0=VL2iZAZ25LL1neVPc4cvpMYKp=zRRJr7B9g@mail.gmail.com>

Hi Bernhard, thanks for the answer

> I would definitely wish to have proper tools in core but as I am not a
> C++ guy all I can do is implement things in a Python plugin :-(
> DigitizingTools is an effort to provide missing tools until there is a
> solution in core (I just abandoned a tool whose functionality has been
> implemented). I welcome any C++ dev going ahead and copying (and
> improving) the tools I provide.
> You may have seen that I commented on [1]


my message wasn't targeted to you, but rather a small rant... what I
meant is that is someone (you) had to "fix" this editing tool with a
plugin it really means that the core one has an issue (and indeed it
has it).

cheers!

-- g --

From bernhard.stroebl at jena.de  Wed Jun 21 03:51:04 2017
From: bernhard.stroebl at jena.de (=?UTF-8?Q?Bernhard_Str=c3=b6bl?=)
Date: Wed, 21 Jun 2017 12:51:04 +0200
Subject: [QGIS-Developer] Split parts tool - invalid output
In-Reply-To: <CACfnYnRUUv68v0=VL2iZAZ25LL1neVPc4cvpMYKp=zRRJr7B9g@mail.gmail.com>
References: <CACfnYnRUUv68v0=VL2iZAZ25LL1neVPc4cvpMYKp=zRRJr7B9g@mail.gmail.com>
Message-ID: <31ae9999-5d36-6c8a-ad6c-a0559d10e368@jena.de>

Giovanni,
I know you did not target at me :-)
I wanted to express that I would prefer to be able to implement this in 
C++ myself but instead of having nothing I tried to make a workaround in 
Python.

regards
Bernhard

Am 21.06.2017 um 12:44 schrieb Giovanni Manghi:
> Hi Bernhard, thanks for the answer
>
>> I would definitely wish to have proper tools in core but as I am not a
>> C++ guy all I can do is implement things in a Python plugin :-(
>> DigitizingTools is an effort to provide missing tools until there is a
>> solution in core (I just abandoned a tool whose functionality has been
>> implemented). I welcome any C++ dev going ahead and copying (and
>> improving) the tools I provide.
>> You may have seen that I commented on [1]
>
>
> my message wasn't targeted to you, but rather a small rant... what I
> meant is that is someone (you) had to "fix" this editing tool with a
> plugin it really means that the core one has an issue (and indeed it
> has it).
>
> cheers!
>
> -- g --
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>




__________ Information from ESET Mail Security, version of virus signature database 15619 (20170621) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From jef at norbit.de  Wed Jun 21 04:21:39 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed, 21 Jun 2017 13:21:39 +0200
Subject: [QGIS-Developer] Debug C++ QGIS plugin with VS
In-Reply-To: <CAFKHLxqnS72bxJkOZtUqdra0CXhNMeg5Uhmrpeb8=o_CSCcxSg@mail.gmail.com>
References: <CAFKHLxqnS72bxJkOZtUqdra0CXhNMeg5Uhmrpeb8=o_CSCcxSg@mail.gmail.com>
Message-ID: <20170621112139.xjdjlvps5qw47td4@norbit.de>

Hi Christophe,

On Wed, 21. Jun 2017 at 09:32:12 +0200, Christophe B wrote:
> We are therefore looking to associate QGIS with visual studio and be able
> to take step by step by associating with the process.
> For the moment when we build with the DLL / lib of dev it build but when
> launching the plugin, QGIS crash with a message
> Debug Assertion Failed! Expression: _pFirstBlock == pHead
> If we try to focus on the process, in release, we can not do anything ...

You shouldn't be doing Debug builds, but RelWithDebInfo builds.

> VS 2013

2.x is built with VS2010 in OSGeo4W.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170621/13b066f1/attachment.sig>

From yjacolin at free.fr  Wed Jun 21 04:03:26 2017
From: yjacolin at free.fr (Yves Jacolin)
Date: Wed, 21 Jun 2017 13:03:26 +0200
Subject: [QGIS-Developer] Processing algorithms provider and docs
In-Reply-To: <CAECJsSqifuSaWCQ0QJbHG5pRfHt5H8Tjv2GzsgMyMV3nPtnXcA@mail.gmail.com>
References: <c44b1dd9-2774-7344-04f4-32cce292e356@gmail.com>
 <1fb5f325-28e0-db71-2852-083a245b3455@gmail.com>
 <CAECJsSqifuSaWCQ0QJbHG5pRfHt5H8Tjv2GzsgMyMV3nPtnXcA@mail.gmail.com>
Message-ID: <4435397.68ZIBpmsyv@tatras>

On mercredi 21 juin 2017 11:32:49 CEST DelazJ wrote:
> 2017-06-21 11:22 GMT+02:00 matteo <matteo.ghetta at gmail.com>:
> > Hi Harrissou and Yves,
> > 
> > ok so no webhooks or some automatic tasks that is "aware" of new
> > algorithms of Processing to put them in the docs.
> > 
> > There's. IF the committer adds the [feature] tag to the commit, then an
> 
> issue is created in the Documentation, so people are aware of the new
> algorithm.
> A good list at
> https://github.com/qgis/QGIS-Documentation/issues?q=is%3Aissue+is%3Aopen+pro
> cessing+author%3AQGIS-feature-tracker
> > Yves, as soon as Nyall is finished with the Processing armageddon I will
> > make some checks, open tickets and add the missing algorithms.

Yes for new algorithmes but may be for some old algorithme we forget to create 
such tickets when it was done manually.

Y.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: This is a digitally signed message part.
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170621/a4726d9d/attachment.sig>

From radim.blazek at gmail.com  Wed Jun 21 06:31:06 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed, 21 Jun 2017 15:31:06 +0200
Subject: [QGIS-Developer] Drag and drop to PostGIS crash
In-Reply-To: <CAB28AsgpuT7AbDVzzR68OVBGCQTy6HskcjvORdnoDkap-Ac06g@mail.gmail.com>
References: <CAEMrtYp4XO0fKs_52q0s+vyUbSEu2VzMJV3-RQYA3V7kPSBMGw@mail.gmail.com>
 <CAB28AsjEOMHhKB=AHs0pj3aar3jhXzHO8a9bTaZHCxpEwPpnFw@mail.gmail.com>
 <20170530074032.x2tmrn5uw4zhza2s@liz>
 <CAEMrtYresJxe3ZdH5MpGD0YwAGq+TgDjnXRHbxEwVRwPHJv9Uw@mail.gmail.com>
 <20170530080157.2gultfwi4iscp4zt@liz>
 <CAEMrtYot04QPq6iBFeTwJGMyh7BNDsd9fmgjjRYxPjLgG2xzBg@mail.gmail.com>
 <CAB28Asg6WhpGN8vT9xCKUPxNBZAAhV_F_=YWWxqAJy4UD1zoLA@mail.gmail.com>
 <CAEMrtYpyVGY=8h5s5UUYLLqJ8zARn60FPFeT5VcZmPD8p8sAvw@mail.gmail.com>
 <CAB28AsgpuT7AbDVzzR68OVBGCQTy6HskcjvORdnoDkap-Ac06g@mail.gmail.com>
Message-ID: <CAEMrtYpE84LtCP1hchxuP7hMB4ScLtzaQknok30WzhxokTunoQ@mail.gmail.com>

On Fri, Jun 2, 2017 at 1:50 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> I think copy should definitely be the ONLY behavior here. Otherwise
> there's data loss - user's styling and layer settings will be lost,
> and dragging memory layers will lose all features (admittedly dragging
> memory layers doesn't copy any features anyway, but that makes it
> worse... the contents are irretrievably lost).
>
> I can't work this one out. I think
> QgsDockBrowserTreeView::dragEnterEvent() should be calling
> QTreeView::dragEnterEvent( e ) - without that it's not drawing the
> drop indicators correctly. And in
> QgsDockBrowserTreeView::dragMoveEvent if I reset the drop action to
> CopyAction both before *and* after calling QTreeView::dragMoveEvent( e
> ) then the visual appearance of the drag appears correct, and seems
> ready to perform a copy action... but the actual action performed is
> still a move action.

QTreeView::dragEnterEvent() and QTreeView::dropEvent() override the
action calling acceptProposedAction(). No idea what Trolls intended. I
have forced CopyAction  before and after in both dragMoveEvent AND
dropEvent and it seems to work.

I have implemented DD for memory layers for postgis and spatialite. I
don't have db2, mssql, if maintainers of them are interested, look
into fb6f181. It should be probably all rewritten because there is a
lot of similar code in providers' Qgs...Item::handleDrop(). The
handleDrop() should be implemented in QgsDataCollectionItem and
importLayer() added in items?

Memory layer is identified by pid and layerId which are appended to
uri only for this purpose. Not nice, I could not invent anything
cleaner.

Radim

From adenaculture at gmail.com  Wed Jun 21 12:37:54 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 21 Jun 2017 15:37:54 -0400
Subject: [QGIS-Developer] Authentication for QGIS 3.0 for TileServer (XYZ)
Message-ID: <CABPxTTrct3S9eSCBuW19hTrQf6vYajAuhWQ_n+kmK42QVTN1pg@mail.gmail.com>

As I look at the Browser Panel in QGIS 3.0, DB2, ArcGisFeatureServer,
ArcGisMapServer, WMS, WFS, WCS PostGIS all provide authentication, but
TileServer (XYZ) does not. Can this be added? It really needs to be there
for consistency and for usefulness when there are tile servers with
passwords.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170621/6146c9b0/attachment.html>

From apasotti at gmail.com  Wed Jun 21 13:23:18 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 21 Jun 2017 22:23:18 +0200
Subject: [QGIS-Developer] Authentication for QGIS 3.0 for TileServer
	(XYZ)
In-Reply-To: <CABPxTTrct3S9eSCBuW19hTrQf6vYajAuhWQ_n+kmK42QVTN1pg@mail.gmail.com>
References: <CABPxTTrct3S9eSCBuW19hTrQf6vYajAuhWQ_n+kmK42QVTN1pg@mail.gmail.com>
Message-ID: <CAL5Q671h+WQ_zNdJfwgQ45uPbVECY4OEauB8dYjGjcf1K3UDMA@mail.gmail.com>

Hi,

authentication support to xyz layers has been recently added to master with
https://github.com/qgis/QGIS/commit/8b0e3d8da3b98a0e6777234270a8ff02f9fc10ae
, the GUI part is still missing though.

For now you can create xyz connections only through Python (and it's
working as expected), adding the auth configuration widget to the xyz
configuration dialog will be the next step.

It's in my todo list, that it's unfortunately rather long :)



On Wed, Jun 21, 2017 at 9:37 PM, C Hamilton <adenaculture at gmail.com> wrote:

> As I look at the Browser Panel in QGIS 3.0, DB2, ArcGisFeatureServer,
> ArcGisMapServer, WMS, WFS, WCS PostGIS all provide authentication, but
> TileServer (XYZ) does not. Can this be added? It really needs to be there
> for consistency and for usefulness when there are tile servers with
> passwords.
>
> Thanks,
>
> Calvin
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170621/927dd437/attachment.html>

From nyall.dawson at gmail.com  Wed Jun 21 19:33:08 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 22 Jun 2017 12:33:08 +1000
Subject: [QGIS-Developer] Keyword args for python bindings?
Message-ID: <CAB28AsgE2eZMtZ73Bg4Tyq+hR4jSUssw62aLCF40oVP9uStgJQ@mail.gmail.com>

Hi all,

Been thinking about this lately, with all the excellent work which is
being done on sipify and improving the usability of the PyQGIS through
docstrings and such... do we want to also turn on named argument
support for PyQGIS methods?

I gather it's just a matter of adding the annotation KeywordArgs=All
to function definitions. We should be able to code this into sipify to
handle this automatically.

I'd see the big benefit here would be readability of python code - no
more someMethod( True,False, 5, None) deciphering!

The downside would be that the argument names would become part of
stable API. We've still gots lots of unhelpful argument names (things
like 's', 'c',.... ), so that's a potential downside if these get
locked in (although maybe we can fix them before freeze).

Thoughts?
Nyall

From madmanwoo at gmail.com  Wed Jun 21 19:36:19 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Thu, 22 Jun 2017 12:36:19 +1000
Subject: [QGIS-Developer] Keyword args for python bindings?
In-Reply-To: <CAB28AsgE2eZMtZ73Bg4Tyq+hR4jSUssw62aLCF40oVP9uStgJQ@mail.gmail.com>
References: <CAB28AsgE2eZMtZ73Bg4Tyq+hR4jSUssw62aLCF40oVP9uStgJQ@mail.gmail.com>
Message-ID: <CAAi8Yg_nCjWxSyCAu__gV39TjY9p37vgeqvf+ARPY2rDaVaC-Q@mail.gmail.com>

I thought I turned that on a while ago?

IMO +1 on this because it makes things nicer to read.

On Thu, Jun 22, 2017 at 12:33 PM, Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> Hi all,
>
> Been thinking about this lately, with all the excellent work which is
> being done on sipify and improving the usability of the PyQGIS through
> docstrings and such... do we want to also turn on named argument
> support for PyQGIS methods?
>
> I gather it's just a matter of adding the annotation KeywordArgs=All
> to function definitions. We should be able to code this into sipify to
> handle this automatically.
>
> I'd see the big benefit here would be readability of python code - no
> more someMethod( True,False, 5, None) deciphering!
>
> The downside would be that the argument names would become part of
> stable API. We've still gots lots of unhelpful argument names (things
> like 's', 'c',.... ), so that's a potential downside if these get
> locked in (although maybe we can fix them before freeze).
>
> Thoughts?
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170622/ac802508/attachment.html>

From nyall.dawson at gmail.com  Wed Jun 21 20:13:18 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 22 Jun 2017 13:13:18 +1000
Subject: [QGIS-Developer] Keyword args for python bindings?
In-Reply-To: <CAAi8Yg_nCjWxSyCAu__gV39TjY9p37vgeqvf+ARPY2rDaVaC-Q@mail.gmail.com>
References: <CAB28AsgE2eZMtZ73Bg4Tyq+hR4jSUssw62aLCF40oVP9uStgJQ@mail.gmail.com>
 <CAAi8Yg_nCjWxSyCAu__gV39TjY9p37vgeqvf+ARPY2rDaVaC-Q@mail.gmail.com>
Message-ID: <CAB28Ashi+nZToQB2WQvokQPM27ZiPZycng8eZuf1wyjU9Uk70w@mail.gmail.com>

On 22 June 2017 at 12:36, Nathan Woodrow <madmanwoo at gmail.com> wrote:
> I thought I turned that on a while ago?
>
> IMO +1 on this because it makes things nicer to read.

Ahh - I see what's happening here. At the module level we've enabled
keyword_arguments="Optional", which means only arguments with a
default value can be referred to by keyword. I must have tested
arguments without default values.

I'd like to change this to "All" for consistency (and readability).

Nyall

>
> On Thu, Jun 22, 2017 at 12:33 PM, Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>>
>> Hi all,
>>
>> Been thinking about this lately, with all the excellent work which is
>> being done on sipify and improving the usability of the PyQGIS through
>> docstrings and such... do we want to also turn on named argument
>> support for PyQGIS methods?
>>
>> I gather it's just a matter of adding the annotation KeywordArgs=All
>> to function definitions. We should be able to code this into sipify to
>> handle this automatically.
>>
>> I'd see the big benefit here would be readability of python code - no
>> more someMethod( True,False, 5, None) deciphering!
>>
>> The downside would be that the argument names would become part of
>> stable API. We've still gots lots of unhelpful argument names (things
>> like 's', 'c',.... ), so that's a potential downside if these get
>> locked in (although maybe we can fix them before freeze).
>>
>> Thoughts?
>> Nyall
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>

From marco at opengis.ch  Wed Jun 21 20:49:28 2017
From: marco at opengis.ch (Marco Bernasocchi)
Date: Thu, 22 Jun 2017 15:49:28 +1200
Subject: [QGIS-Developer] Keyword args for python bindings?
In-Reply-To: <CAB28Ashi+nZToQB2WQvokQPM27ZiPZycng8eZuf1wyjU9Uk70w@mail.gmail.com>
References: <CAB28AsgE2eZMtZ73Bg4Tyq+hR4jSUssw62aLCF40oVP9uStgJQ@mail.gmail.com>
 <CAAi8Yg_nCjWxSyCAu__gV39TjY9p37vgeqvf+ARPY2rDaVaC-Q@mail.gmail.com>
 <CAB28Ashi+nZToQB2WQvokQPM27ZiPZycng8eZuf1wyjU9Uk70w@mail.gmail.com>
Message-ID: <c24c853d-6336-f691-3137-b542e890b5ed@opengis.ch>

Sounds like a great idea to me!

cheers

Marco


On 22.06.2017 15:13, Nyall Dawson wrote:
> On 22 June 2017 at 12:36, Nathan Woodrow <madmanwoo at gmail.com> wrote:
>> I thought I turned that on a while ago?
>>
>> IMO +1 on this because it makes things nicer to read.
> Ahh - I see what's happening here. At the module level we've enabled
> keyword_arguments="Optional", which means only arguments with a
> default value can be referred to by keyword. I must have tested
> arguments without default values.
>
> I'd like to change this to "All" for consistency (and readability).
>
> Nyall
>
>> On Thu, Jun 22, 2017 at 12:33 PM, Nyall Dawson <nyall.dawson at gmail.com>
>> wrote:
>>> Hi all,
>>>
>>> Been thinking about this lately, with all the excellent work which is
>>> being done on sipify and improving the usability of the PyQGIS through
>>> docstrings and such... do we want to also turn on named argument
>>> support for PyQGIS methods?
>>>
>>> I gather it's just a matter of adding the annotation KeywordArgs=All
>>> to function definitions. We should be able to code this into sipify to
>>> handle this automatically.
>>>
>>> I'd see the big benefit here would be readability of python code - no
>>> more someMethod( True,False, 5, None) deciphering!
>>>
>>> The downside would be that the argument names would become part of
>>> stable API. We've still gots lots of unhelpful argument names (things
>>> like 's', 'c',.... ), so that's a potential downside if these get
>>> locked in (although maybe we can fix them before freeze).
>>>
>>> Thoughts?
>>> Nyall
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
Marco Bernasocchi
opengis.ch | berna.io


From a.neumann at carto.net  Wed Jun 21 23:33:25 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Thu, 22 Jun 2017 08:33:25 +0200
Subject: [QGIS-Developer] Keyword args for python bindings?
In-Reply-To: <CAB28AsgE2eZMtZ73Bg4Tyq+hR4jSUssw62aLCF40oVP9uStgJQ@mail.gmail.com>
References: <CAB28AsgE2eZMtZ73Bg4Tyq+hR4jSUssw62aLCF40oVP9uStgJQ@mail.gmail.com>
Message-ID: <fe50e0dd1f3656f8d6fe635d1c23206b@carto.net>

+1 

As an occasional Python developer I would welcome this improvement in
readability of the code. 

Andreas 

On 2017-06-22 04:33, Nyall Dawson wrote:

> Hi all,
> 
> Been thinking about this lately, with all the excellent work which is
> being done on sipify and improving the usability of the PyQGIS through
> docstrings and such... do we want to also turn on named argument
> support for PyQGIS methods?
> 
> I gather it's just a matter of adding the annotation KeywordArgs=All
> to function definitions. We should be able to code this into sipify to
> handle this automatically.
> 
> I'd see the big benefit here would be readability of python code - no
> more someMethod( True,False, 5, None) deciphering!
> 
> The downside would be that the argument names would become part of
> stable API. We've still gots lots of unhelpful argument names (things
> like 's', 'c',.... ), so that's a potential downside if these get
> locked in (although maybe we can fix them before freeze).
> 
> Thoughts?
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170622/aa116cce/attachment-0001.html>

From wqc0722 at gmail.com  Wed Jun 21 23:46:51 2017
From: wqc0722 at gmail.com (Wu QC)
Date: Thu, 22 Jun 2017 14:46:51 +0800
Subject: [QGIS-Developer] Help with on the fly CRS transformation
Message-ID: <CAKOjMdD+Qvog42PM-6gL1bUxFxUoKxjq208GCNBdVY05tOoi8Q@mail.gmail.com>

Hi,

I am looking for some method to reproject images without resampling, and I
realize that QGIS 'on the fly' CRS transformation (OTF) may do the trick.

so I looked into the source, not find where the code is, could anyone give
me some hints about how it works or which file I can see the source code?

many thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170622/94ed0e28/attachment.html>

From volayaf at gmail.com  Wed Jun 21 23:51:48 2017
From: volayaf at gmail.com (Victor Olaya)
Date: Thu, 22 Jun 2017 08:51:48 +0200
Subject: [QGIS-Developer] Backporting support for relative SVG paths in
	project files
Message-ID: <CAJsc-7x3qzj_1XEvKzfZBUXr9fNh_0xQw+-WGJKCU_K-Q8fFHQ@mail.gmail.com>

Hi all,

I would like to know your opinion about backporting the support for
relative paths for marker files in project files to 2.18. It's an
interesting feature that would be good to have without having to
depend on QGIS 3.

Not sure if it is supposed to be working  in 2.18 (It is not, at the
moment, but I don't know if it's a bug), so that's why I am asking

Thanks!

From luipir at gmail.com  Thu Jun 22 00:39:58 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Thu, 22 Jun 2017 09:39:58 +0200
Subject: [QGIS-Developer] Keyword args for python bindings?
In-Reply-To: <CAB28AsgE2eZMtZ73Bg4Tyq+hR4jSUssw62aLCF40oVP9uStgJQ@mail.gmail.com>
References: <CAB28AsgE2eZMtZ73Bg4Tyq+hR4jSUssw62aLCF40oVP9uStgJQ@mail.gmail.com>
Message-ID: <CAFO80_phAYsYqZ5Hfw4t+BrzJNH6mSSKXJOQyOtP909O_SsaTg@mail.gmail.com>

+++1
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 22 June 2017 at 04:33, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> Hi all,
>
> Been thinking about this lately, with all the excellent work which is
> being done on sipify and improving the usability of the PyQGIS through
> docstrings and such... do we want to also turn on named argument
> support for PyQGIS methods?
>
> I gather it's just a matter of adding the annotation KeywordArgs=All
> to function definitions. We should be able to code this into sipify to
> handle this automatically.
>
> I'd see the big benefit here would be readability of python code - no
> more someMethod( True,False, 5, None) deciphering!
>
> The downside would be that the argument names would become part of
> stable API. We've still gots lots of unhelpful argument names (things
> like 's', 'c',.... ), so that's a potential downside if these get
> locked in (although maybe we can fix them before freeze).
>
> Thoughts?
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From a.neumann at carto.net  Thu Jun 22 00:42:16 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Thu, 22 Jun 2017 09:42:16 +0200
Subject: [QGIS-Developer] Backporting support for relative SVG paths in
 project files
In-Reply-To: <CAJsc-7x3qzj_1XEvKzfZBUXr9fNh_0xQw+-WGJKCU_K-Q8fFHQ@mail.gmail.com>
References: <CAJsc-7x3qzj_1XEvKzfZBUXr9fNh_0xQw+-WGJKCU_K-Q8fFHQ@mail.gmail.com>
Message-ID: <e4f750fff49332ec362f06bca030f3fa@carto.net>

Hi Victor, 

Sounds like a useful improvement for QGIS 2.18 that I'd like to see
back-ported! I think relative-path support should be everywhere. If not,
it can be regarded a bug. 

Please make sure they don't break anything in QGIS server! 

Andreas 

On 2017-06-22 08:51, Victor Olaya wrote:

> Hi all,
> 
> I would like to know your opinion about backporting the support for
> relative paths for marker files in project files to 2.18. It's an
> interesting feature that would be good to have without having to
> depend on QGIS 3.
> 
> Not sure if it is supposed to be working  in 2.18 (It is not, at the
> moment, but I don't know if it's a bug), so that's why I am asking
> 
> Thanks!
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170622/9f704bcc/attachment.html>

From denis.rouzaud at gmail.com  Thu Jun 22 00:55:33 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 22 Jun 2017 07:55:33 +0000
Subject: [QGIS-Developer] Backporting support for relative SVG paths in
 project files
In-Reply-To: <e4f750fff49332ec362f06bca030f3fa@carto.net>
References: <CAJsc-7x3qzj_1XEvKzfZBUXr9fNh_0xQw+-WGJKCU_K-Q8fFHQ@mail.gmail.com>
 <e4f750fff49332ec362f06bca030f3fa@carto.net>
Message-ID: <CAMtsY+avR6xHRtUfOVKEuf+fbUfM0rSOXULDU3HGbwsurpKYRg@mail.gmail.com>

Hi all,

We ordered this dev to Martin, and from the discussion the effort to have
it in 2.18 was not worth it (from our point of view).
I would advise not to spend too much energy into bringing fixes which are
almost "new features" in 2.18.

Denis



Le jeu. 22 juin 2017 à 09:42, Neumann, Andreas <a.neumann at carto.net> a
écrit :

> Hi Victor,
>
> Sounds like a useful improvement for QGIS 2.18 that I'd like to see
> back-ported! I think relative-path support should be everywhere. If not, it
> can be regarded a bug.
>
> Please make sure they don't break anything in QGIS server!
>
> Andreas
>
> On 2017-06-22 08:51, Victor Olaya wrote:
>
> Hi all,
>
> I would like to know your opinion about backporting the support for
> relative paths for marker files in project files to 2.18. It's an
> interesting feature that would be good to have without having to
> depend on QGIS 3.
>
> Not sure if it is supposed to be working  in 2.18 (It is not, at the
> moment, but I don't know if it's a bug), so that's why I am asking
>
> Thanks!
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170622/80bd4caa/attachment.html>

From luipir at gmail.com  Thu Jun 22 01:07:13 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Thu, 22 Jun 2017 10:07:13 +0200
Subject: [QGIS-Developer] Backporting support for relative SVG paths in
 project files
In-Reply-To: <CAMtsY+avR6xHRtUfOVKEuf+fbUfM0rSOXULDU3HGbwsurpKYRg@mail.gmail.com>
References: <CAJsc-7x3qzj_1XEvKzfZBUXr9fNh_0xQw+-WGJKCU_K-Q8fFHQ@mail.gmail.com>
 <e4f750fff49332ec362f06bca030f3fa@carto.net>
 <CAMtsY+avR6xHRtUfOVKEuf+fbUfM0rSOXULDU3HGbwsurpKYRg@mail.gmail.com>
Message-ID: <CAFO80_pn3OKw2a6Ma-1g-WKMZu+P+vGSBZd1X0ZszPB71sYD2A@mail.gmail.com>

Was this before or after the decision to have 2.18 as LTR? As said by
Adreas it can be seen as a bug fix more than a feature

just my 2c
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 22 June 2017 at 09:55, Denis Rouzaud <denis.rouzaud at gmail.com> wrote:
>
> Hi all,
>
> We ordered this dev to Martin, and from the discussion the effort to have it
> in 2.18 was not worth it (from our point of view).
> I would advise not to spend too much energy into bringing fixes which are
> almost "new features" in 2.18.
>
> Denis
>
>
>
> Le jeu. 22 juin 2017 à 09:42, Neumann, Andreas <a.neumann at carto.net> a écrit
> :
>>
>> Hi Victor,
>>
>> Sounds like a useful improvement for QGIS 2.18 that I'd like to see
>> back-ported! I think relative-path support should be everywhere. If not, it
>> can be regarded a bug.
>>
>> Please make sure they don't break anything in QGIS server!
>>
>> Andreas
>>
>> On 2017-06-22 08:51, Victor Olaya wrote:
>>
>> Hi all,
>>
>> I would like to know your opinion about backporting the support for
>> relative paths for marker files in project files to 2.18. It's an
>> interesting feature that would be good to have without having to
>> depend on QGIS 3.
>>
>> Not sure if it is supposed to be working  in 2.18 (It is not, at the
>> moment, but I don't know if it's a bug), so that's why I am asking
>>
>> Thanks!
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From wonder.sk at gmail.com  Thu Jun 22 01:30:40 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 22 Jun 2017 10:30:40 +0200
Subject: [QGIS-Developer] Backporting support for relative SVG paths in
 project files
In-Reply-To: <CAJsc-7x3qzj_1XEvKzfZBUXr9fNh_0xQw+-WGJKCU_K-Q8fFHQ@mail.gmail.com>
References: <CAJsc-7x3qzj_1XEvKzfZBUXr9fNh_0xQw+-WGJKCU_K-Q8fFHQ@mail.gmail.com>
Message-ID: <CAC2XbFd6jTjfMNg4_77ATsnqrMc7Put1N2RjJTOmAvF25cws_g@mail.gmail.com>

Hi Victor

On Thu, Jun 22, 2017 at 8:51 AM, Victor Olaya <volayaf at gmail.com> wrote:
> Hi all,
>
> I would like to know your opinion about backporting the support for
> relative paths for marker files in project files to 2.18. It's an
> interesting feature that would be good to have without having to
> depend on QGIS 3.

Are we talking about relative paths to SVG files in _embedded_ projects?

https://github.com/qgis/QGIS/pull/4426

That pull request simply cannot be backported as it is to 2.18 - it is
full of API breaks and it depends on previous QGIS 3 project
refactoring work as well. For 2.18 we would need to completely rework
it, probably with some hacks to overcome the problem of having API
fixed.

Cheers
Martin

From volayaf at gmail.com  Thu Jun 22 02:43:21 2017
From: volayaf at gmail.com (Victor Olaya)
Date: Thu, 22 Jun 2017 11:43:21 +0200
Subject: [QGIS-Developer] Backporting support for relative SVG paths in
 project files
In-Reply-To: <CAC2XbFd6jTjfMNg4_77ATsnqrMc7Put1N2RjJTOmAvF25cws_g@mail.gmail.com>
References: <CAJsc-7x3qzj_1XEvKzfZBUXr9fNh_0xQw+-WGJKCU_K-Q8fFHQ@mail.gmail.com>
 <CAC2XbFd6jTjfMNg4_77ATsnqrMc7Put1N2RjJTOmAvF25cws_g@mail.gmail.com>
Message-ID: <CAJsc-7w_uxUMcF9WzN55FmOjVO3RfsQhVbg_N4qZM=c7aCGSVQ@mail.gmail.com>

When i say "backporting" i should have said "implementing" :-) I
understand that it might be impossible to use that PR as it is or just
cherry pick a few commits. I am just asking the community about their
opinion on adding that feature in 2.18 as well (the ability to use
relative paths for SVG files in projects). This has some interest for
us at Boundless, and we might work on it, but i would like to get some
feedback before doing anything

Thanks everyone for your comments!

2017-06-22 10:30 GMT+02:00 Martin Dobias <wonder.sk at gmail.com>:
> Hi Victor
>
> On Thu, Jun 22, 2017 at 8:51 AM, Victor Olaya <volayaf at gmail.com> wrote:
>> Hi all,
>>
>> I would like to know your opinion about backporting the support for
>> relative paths for marker files in project files to 2.18. It's an
>> interesting feature that would be good to have without having to
>> depend on QGIS 3.
>
> Are we talking about relative paths to SVG files in _embedded_ projects?
>
> https://github.com/qgis/QGIS/pull/4426
>
> That pull request simply cannot be backported as it is to 2.18 - it is
> full of API breaks and it depends on previous QGIS 3 project
> refactoring work as well. For 2.18 we would need to completely rework
> it, probably with some hacks to overcome the problem of having API
> fixed.
>
> Cheers
> Martin

From wonder.sk at gmail.com  Thu Jun 22 02:58:13 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 22 Jun 2017 11:58:13 +0200
Subject: [QGIS-Developer] Backporting support for relative SVG paths in
 project files
In-Reply-To: <CAJsc-7w_uxUMcF9WzN55FmOjVO3RfsQhVbg_N4qZM=c7aCGSVQ@mail.gmail.com>
References: <CAJsc-7x3qzj_1XEvKzfZBUXr9fNh_0xQw+-WGJKCU_K-Q8fFHQ@mail.gmail.com>
 <CAC2XbFd6jTjfMNg4_77ATsnqrMc7Put1N2RjJTOmAvF25cws_g@mail.gmail.com>
 <CAJsc-7w_uxUMcF9WzN55FmOjVO3RfsQhVbg_N4qZM=c7aCGSVQ@mail.gmail.com>
Message-ID: <CAC2XbFfsrgYM0J4YbSJZREkCX2a61d2nsrwu+=1hhCBUPuaFWg@mail.gmail.com>

On Thu, Jun 22, 2017 at 11:43 AM, Victor Olaya <volayaf at gmail.com> wrote:
> When i say "backporting" i should have said "implementing" :-) I

Ah ok cool :-)

Still not sure though if you are talking just about embedded projects
or any projects - because if the project is not embedded, relative SVG
paths should work fine in 2.18...

Cheers
Martin

From volayaf at gmail.com  Thu Jun 22 03:38:22 2017
From: volayaf at gmail.com (Victor Olaya)
Date: Thu, 22 Jun 2017 12:38:22 +0200
Subject: [QGIS-Developer] Backporting support for relative SVG paths in
 project files
In-Reply-To: <CAC2XbFfsrgYM0J4YbSJZREkCX2a61d2nsrwu+=1hhCBUPuaFWg@mail.gmail.com>
References: <CAJsc-7x3qzj_1XEvKzfZBUXr9fNh_0xQw+-WGJKCU_K-Q8fFHQ@mail.gmail.com>
 <CAC2XbFd6jTjfMNg4_77ATsnqrMc7Put1N2RjJTOmAvF25cws_g@mail.gmail.com>
 <CAJsc-7w_uxUMcF9WzN55FmOjVO3RfsQhVbg_N4qZM=c7aCGSVQ@mail.gmail.com>
 <CAC2XbFfsrgYM0J4YbSJZREkCX2a61d2nsrwu+=1hhCBUPuaFWg@mail.gmail.com>
Message-ID: <CAJsc-7y-mb_0VX8b8PT9nqWyFmxqGCCnuU8swpCQZpUNmw+0yg@mail.gmail.com>

Oh, cool! I was talking about normal projects, and last time i checked
it was not working...but i just tested now and it is working like a
charm :-) So then nothing to do here, sorry for the noise

Thanks!

2017-06-22 11:58 GMT+02:00 Martin Dobias <wonder.sk at gmail.com>:
> On Thu, Jun 22, 2017 at 11:43 AM, Victor Olaya <volayaf at gmail.com> wrote:
>> When i say "backporting" i should have said "implementing" :-) I
>
> Ah ok cool :-)
>
> Still not sure though if you are talking just about embedded projects
> or any projects - because if the project is not embedded, relative SVG
> paths should work fine in 2.18...
>
> Cheers
> Martin

From a.neumann at carto.net  Thu Jun 22 07:53:31 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Thu, 22 Jun 2017 16:53:31 +0200
Subject: [QGIS-Developer] Expression question: formatting a decimal nr to a
	defined format
Message-ID: <0617dea320ec0177d6260912d25561b3@carto.net>

Hi, 

In a QGIS expression I wanted to format a decimal nr to a fixed format:
4 digits (with leading zeros) before the decimal point and then a fixed
3 decimal places with trailing zeros if necessary. 

e.g. 

4.5 should become 0004.500 

78.45 should become 0078.450 

Is there an existing expression function for that or would I have to
create my own custom Python expression using the format() method in
Python? 

Thanks, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170622/5dbffcb2/attachment.html>

From radim.blazek at gmail.com  Thu Jun 22 10:21:43 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Thu, 22 Jun 2017 19:21:43 +0200
Subject: [QGIS-Developer] QgsHighlight disappears
In-Reply-To: <CAMtsY+Zs29909pM3nbzJWKSwH_bRi9omV63bAwQ-pZ-MHCP6Xg@mail.gmail.com>
References: <CAEMrtYqRNJb61wA9Bz6rmXRACk_Wdfoyyw-8_qZ8XWCw4ejFzA@mail.gmail.com>
 <CAMtsY+Zs29909pM3nbzJWKSwH_bRi9omV63bAwQ-pZ-MHCP6Xg@mail.gmail.com>
Message-ID: <CAEMrtYqQBm6t76BnoxZzE64MRumuX+Pcp_kfYOvN+3pysgK51Q@mail.gmail.com>

On Mon, Jun 19, 2017 at 3:04 PM, Denis Rouzaud <denis.rouzaud at gmail.com> wrote:
> I did some changes so that QgsMapCanvasItems get updated on map pan.
> But looking into QgsHightLight::updatePosition() shows nothing is done in
> there.

Fixed calling QgsMapCanvasItem::updatePosition() from
QgsHightLight::updatePosition().

Radim

From adenaculture at gmail.com  Thu Jun 22 13:35:44 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 22 Jun 2017 16:35:44 -0400
Subject: [QGIS-Developer] Authentication for QGIS 3.0 for TileServer
	(XYZ)
In-Reply-To: <CAL5Q671h+WQ_zNdJfwgQ45uPbVECY4OEauB8dYjGjcf1K3UDMA@mail.gmail.com>
References: <CABPxTTrct3S9eSCBuW19hTrQf6vYajAuhWQ_n+kmK42QVTN1pg@mail.gmail.com>
 <CAL5Q671h+WQ_zNdJfwgQ45uPbVECY4OEauB8dYjGjcf1K3UDMA@mail.gmail.com>
Message-ID: <CABPxTToUs=-LuWm63cpFgenuAe_wMaTC9umDnrW7=hKPZYFqcg@mail.gmail.com>

Awesome!!! Thanks for all your hard work. I look forward to the GUI portion
being implemented when you get the time to do it.

All the best.

On Wed, Jun 21, 2017 at 4:23 PM, Alessandro Pasotti <apasotti at gmail.com>
wrote:

> Hi,
>
> authentication support to xyz layers has been recently added to master
> with https://github.com/qgis/QGIS/commit/8b0e3d8da3b98a0e6777234270a8ff
> 02f9fc10ae , the GUI part is still missing though.
>
> For now you can create xyz connections only through Python (and it's
> working as expected), adding the auth configuration widget to the xyz
> configuration dialog will be the next step.
>
> It's in my todo list, that it's unfortunately rather long :)
>
>
>
> On Wed, Jun 21, 2017 at 9:37 PM, C Hamilton <adenaculture at gmail.com>
> wrote:
>
>> As I look at the Browser Panel in QGIS 3.0, DB2, ArcGisFeatureServer,
>> ArcGisMapServer, WMS, WFS, WCS PostGIS all provide authentication, but
>> TileServer (XYZ) does not. Can this be added? It really needs to be there
>> for consistency and for usefulness when there are tile servers with
>> passwords.
>>
>> Thanks,
>>
>> Calvin
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170622/d5290635/attachment.html>

From noreply at qgis.org  Thu Jun 22 22:30:34 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 23 Jun 2017 05:30:34 -0000
Subject: [QGIS-Developer] Plugin [1102] AequilibraE approval notification.
Message-ID: <20170623053034.18601.69344@320558c5528b>


Plugin AequilibraE approval by pcav.
The plugin version "[1102] AequilibraE 0.3.5.3" is now approved
Link: http://plugins.qgis.org/plugins/AequilibraE/

From radim.blazek at gmail.com  Fri Jun 23 02:44:04 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Fri, 23 Jun 2017 11:44:04 +0200
Subject: [QGIS-Developer] OSGeo4W setup hangs downloading setup.ini.bz2
Message-ID: <CAEMrtYrzZaBTOJvgPCGUkMfdzGSB5h3VUiMO1FqRtZs47CtgXg@mail.gmail.com>

The latest osgeo4w-setup-x86.exe on win7/32bit hangs downloading
setup.ini.bz2, usually on 98% (32k/33k) but also less, randomly. There
is no problem to download the file
http://download.osgeo.org/osgeo4w/x86/setup.ini.bz2 in a browser.

Similar problem was reported here:
http://osgeo-org.1560.x6.nabble.com/installation-problem-with-OSGeo4W-Advanced-Installer-under-windows-7-tt5079931.html#a5079942

"Launch as Administrator" does not help.

Is there any workaround?

Radim

From radim.blazek at gmail.com  Fri Jun 23 03:19:27 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Fri, 23 Jun 2017 12:19:27 +0200
Subject: [QGIS-Developer] OSGeo4W setup hangs downloading setup.ini.bz2
In-Reply-To: <CAEMrtYrzZaBTOJvgPCGUkMfdzGSB5h3VUiMO1FqRtZs47CtgXg@mail.gmail.com>
References: <CAEMrtYrzZaBTOJvgPCGUkMfdzGSB5h3VUiMO1FqRtZs47CtgXg@mail.gmail.com>
Message-ID: <CAEMrtYpqjSjdNC3j_SPFCpSRp+EG06zGivArcAKuMQhoAT2rPg@mail.gmail.com>

It works if "Use IE5 Settings" is checked instead of "Direct Connection".
But there are no particular IE5 settings AFAICT.

Radim

On Fri, Jun 23, 2017 at 11:44 AM, Radim Blazek <radim.blazek at gmail.com> wrote:
> The latest osgeo4w-setup-x86.exe on win7/32bit hangs downloading
> setup.ini.bz2, usually on 98% (32k/33k) but also less, randomly. There
> is no problem to download the file
> http://download.osgeo.org/osgeo4w/x86/setup.ini.bz2 in a browser.
>
> Similar problem was reported here:
> http://osgeo-org.1560.x6.nabble.com/installation-problem-with-OSGeo4W-Advanced-Installer-under-windows-7-tt5079931.html#a5079942
>
> "Launch as Administrator" does not help.
>
> Is there any workaround?
>
> Radim

From radim.blazek at gmail.com  Fri Jun 23 05:15:00 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Fri, 23 Jun 2017 14:15:00 +0200
Subject: [QGIS-Developer] Missing dependencies for qgis dev in OSGeo4W
Message-ID: <CAEMrtYpuT-0q_3w-3u2HTE4-om3NFTkg5fKyKzgb5UupxNsvew@mail.gmail.com>

Missing dependencies for qgis 2.99.0-107 in osgeo4w on win7/32bit:
xerces-c_3_1.dll
libpng16.dll

The libs must be selected in package list manually.


Radim

From jef at norbit.de  Fri Jun 23 11:59:11 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Fri, 23 Jun 2017 20:59:11 +0200
Subject: [QGIS-Developer] Missing dependencies for qgis dev in OSGeo4W
In-Reply-To: <CAEMrtYpuT-0q_3w-3u2HTE4-om3NFTkg5fKyKzgb5UupxNsvew@mail.gmail.com>
References: <CAEMrtYpuT-0q_3w-3u2HTE4-om3NFTkg5fKyKzgb5UupxNsvew@mail.gmail.com>
Message-ID: <20170623185911.yjc2iwyx6izlcz7i@norbit.de>

On Fri, 23. Jun 2017 at 14:15:00 +0200, Radim Blazek wrote:
> Missing dependencies for qgis 2.99.0-107 in osgeo4w on win7/32bit:
> xerces-c_3_1.dll
> libpng16.dll

Fixed.  Actually the gdal dependencies were wrong:   The 32bit package should
depend on xerces-c-vc9 (instead of xerces-c-vc10) and libpng-vc14 (instead of
libpng).


Jürgen


-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170623/37e10816/attachment.sig>

From nyall.dawson at gmail.com  Fri Jun 23 19:02:26 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 24 Jun 2017 12:02:26 +1000
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>
References: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>
Message-ID: <CAB28AsikVysx0R50dqZNEjCjph4fPQOw9x-Z9TraPqA=eQZNsA@mail.gmail.com>

On 10 June 2017 at 02:46, Paolo Cavallini <cavallini at faunalia.it> wrote:

> * there are two QGIS entries (I imagine one Py and one C++), confusing
> for the user

Fixed in master.

Modeler should be 95% functional now - I'd love testing of this too!

Nyall

From nyall.dawson at gmail.com  Fri Jun 23 19:05:10 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 24 Jun 2017 12:05:10 +1000
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CACfnYnQFRzyg_bVZVchp8knE6=tXeZuT5qk2rj4Z4uKO2KB=uA@mail.gmail.com>
References: <CACfnYnTDoBZs2e64aXLK-OzqRuitCUSs=W4CaQZ5ZycSWq8rMg@mail.gmail.com>
 <CAB28Asjuxeo2Hcm1h7T2hUd_1o-YdSz2zqNugDwEYX2LTPXSgg@mail.gmail.com>
 <CACfnYnTJBff1Db-Hq5vR1gWAQzcfW_4WZYmcbNU=fugMMdwGug@mail.gmail.com>
 <CAB28Asg+pBniKnzTY9NcVvznd8fsYORSW--6QjvcTw8vZXRVtQ@mail.gmail.com>
 <CAB28Asjf-FvqKboxcF=M9TLTcawj8MtifANprYaw9dxic1=KwQ@mail.gmail.com>
 <CACfnYnQFRzyg_bVZVchp8knE6=tXeZuT5qk2rj4Z4uKO2KB=uA@mail.gmail.com>
Message-ID: <CAB28AsiA=V8-5V0uEfikT_WP=vdNz311EQ6-0TZfZNSUOmM-Sg@mail.gmail.com>

On 19 June 2017 at 19:19, Giovanni Manghi <giovanni.manghi at gmail.com> wrote:

> Using:
>
> The new native dissolve tool runs for a split second and outputs a few
> polygons in vastly incomplete result.
>
> Trying to dissolve all polygons (and operation that the ogr2ogr based
> tool does with no issues) with the native tool it results in a python
> error and and infinite running hourglass.

Should both be fixed in master, together which a much more visible
error when invalid geometries are encountered and the processing
option is set to anything but "don't check for invalid geometries"

I'd love your testing & feedback on the new behaviour! I'm also
thinking we need another option in processing for geometry checking,
something like "check and log only". This would prominently show
errors that invalid geometries were encountered, but still allow their
use. What do you think?

Nyall

From nyall.dawson at gmail.com  Fri Jun 23 20:56:45 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 24 Jun 2017 13:56:45 +1000
Subject: [QGIS-Developer] Processing 3.0: Possible change to the "polygon
	from layer extent" algorithm
Message-ID: <CAB28AsjddK7vn9+W+UD_187Qz2U=hkmOCFkxxHnF2vFwHdA05Q@mail.gmail.com>

Hi all,

As you may be aware, I've been working on rebuilding the backend of
Processing in c++ and refining how it operates.

As part of this I'd like to clear up the list of existing algorithms
and also refine how they behave. This list of "QGIS" algorithms has
grown organically during the 2.x cycle, and there's now numerous
oddities in the selection of available algorithms and their options.

I'll raise discussion about each change I want to make separately so
that each can be discussed on its own merits.

First up, the "polygon from layer extent" algorithm. I'd like to:

1. drop the option "calculate extent for each feature separately.".
It's not obvious (based on the name of the algorithm) that this option
is present in the algorithm, and accordingly very unlikely that users
will discover it here. It's also redundant - there's a dedicated
"bounding boxes" algorithm which does this in a much more efficient
manner. I think we can safely drop this option and leave this
algorithm as a single function "create a feature for the layer's
extent" only algorithm.

2. rename the algorithm to "Layer extent" or "layer bounds". It's
simpler, and easier to understand what it does. Plus, the algorithm
doesn't really create just a polygon, it creates a new layer with a
feature with the layer's bounding box.

Thoughts?

Nyall

From regis.haubourg at gmail.com  Fri Jun 23 23:53:22 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Sat, 24 Jun 2017 08:53:22 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the
 "polygon from layer extent" algorithm
In-Reply-To: <CAB28AsjddK7vn9+W+UD_187Qz2U=hkmOCFkxxHnF2vFwHdA05Q@mail.gmail.com>
References: <CAB28AsjddK7vn9+W+UD_187Qz2U=hkmOCFkxxHnF2vFwHdA05Q@mail.gmail.com>
Message-ID: <CABgOYCeQxXWyCCRsC-fM17HhSS1zh2-DiC24vMT5+R5DDo3WDw@mail.gmail.com>

+1 consistency and better granularity is very welcome!

Le 24 juin 2017 5:56 AM, "Nyall Dawson" <nyall.dawson at gmail.com> a écrit :


Thoughts?

Nyall
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170624/c6903eed/attachment.html>

From cavallini at faunalia.it  Fri Jun 23 23:54:08 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 24 Jun 2017 08:54:08 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the
 "polygon from layer extent" algorithm
In-Reply-To: <CAB28AsjddK7vn9+W+UD_187Qz2U=hkmOCFkxxHnF2vFwHdA05Q@mail.gmail.com>
References: <CAB28AsjddK7vn9+W+UD_187Qz2U=hkmOCFkxxHnF2vFwHdA05Q@mail.gmail.com>
Message-ID: <faf9db1f-bcc5-8016-a0c3-4e46c169f32c@faunalia.it>

Hi Nyall,

Il 24/06/2017 05:56, Nyall Dawson ha scritto:

> 1. drop the option "calculate extent for each feature separately.".

+1. In general, the original approach back in GRASS plugin was to split
complex commands into several atomiic modules; I think this approach
still proves sane

> 2. rename the algorithm to "Layer extent" or "layer bounds".
+1

Thanks!
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From radim.blazek at gmail.com  Sat Jun 24 03:33:27 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Sat, 24 Jun 2017 12:33:27 +0200
Subject: [QGIS-Developer] Missing dependencies for qgis dev in OSGeo4W
In-Reply-To: <20170623185911.yjc2iwyx6izlcz7i@norbit.de>
References: <CAEMrtYpuT-0q_3w-3u2HTE4-om3NFTkg5fKyKzgb5UupxNsvew@mail.gmail.com>
 <20170623185911.yjc2iwyx6izlcz7i@norbit.de>
Message-ID: <CAEMrtYqXG6FE9uzWYZCg3hH=6PtcG0cCwkrVyMC-hZ9jFr5evA@mail.gmail.com>

On Fri, Jun 23, 2017 at 8:59 PM, Jürgen E. Fischer <jef at norbit.de> wrote:
> On Fri, 23. Jun 2017 at 14:15:00 +0200, Radim Blazek wrote:
>> Missing dependencies for qgis 2.99.0-107 in osgeo4w on win7/32bit:
>> xerces-c_3_1.dll
>> libpng16.dll
>
> Fixed.  Actually the gdal dependencies were wrong:   The 32bit package should
> depend on xerces-c-vc9 (instead of xerces-c-vc10) and libpng-vc14 (instead of
> libpng).

Thanks.

Radim

From adenaculture at gmail.com  Sat Jun 24 04:40:06 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Sat, 24 Jun 2017 07:40:06 -0400
Subject: [QGIS-Developer] Any way to back update the minimum QGIS version?
Message-ID: <CABPxTTq0GYByU_ihKb117uPEbKr2a44aE6hwZTh6gDhjC6d8Vg@mail.gmail.com>

I just found out that I introduced a function in Lat Lon Tools that should
have bumped the minimum version to 2.8. Is there any way to update that one
piece of information in the plugins repo for all the versions that were
affected?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170624/d18d60ed/attachment.html>

From tom.chadwin at nnpa.org.uk  Sat Jun 24 07:28:20 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Sat, 24 Jun 2017 07:28:20 -0700 (MST)
Subject: [QGIS-Developer] Any way to back update the minimum QGIS
 version?
In-Reply-To: <CABPxTTq0GYByU_ihKb117uPEbKr2a44aE6hwZTh6gDhjC6d8Vg@mail.gmail.com>
References: <CABPxTTq0GYByU_ihKb117uPEbKr2a44aE6hwZTh6gDhjC6d8Vg@mail.gmail.com>
Message-ID: <1498314500110-5325415.post@n6.nabble.com>

I don't know of any way, I'm afraid. It's up to you, of course, but I don't
see any reason to keep old versions up in the plugins repo. Leave the most
recent two or three, and the latest version which supported any previous
QGIS versions. You can keep every release on Github. This way saves 
QGIS.org some hosting space.

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
View this message in context: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Any-way-to-back-update-the-minimum-QGIS-version-tp5325408p5325415.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From noreply at qgis.org  Sat Jun 24 08:44:51 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 24 Jun 2017 15:44:51 -0000
Subject: [QGIS-Developer] Plugin [740] qgis2web approval notification.
Message-ID: <20170624154451.18602.88292@320558c5528b>


Plugin qgis2web approval by pcav.
The plugin version "[740] qgis2web 2.21.0" is now approved
Link: http://plugins.qgis.org/plugins/qgis2web/

From rdmailings at duif.net  Sat Jun 24 09:22:33 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 24 Jun 2017 18:22:33 +0200
Subject: [QGIS-Developer] Any way to back update the minimum QGIS
	version?
In-Reply-To: <CABPxTTq0GYByU_ihKb117uPEbKr2a44aE6hwZTh6gDhjC6d8Vg@mail.gmail.com>
References: <CABPxTTq0GYByU_ihKb117uPEbKr2a44aE6hwZTh6gDhjC6d8Vg@mail.gmail.com>
Message-ID: <8c0dd364-fe26-2009-ea7e-a0aa3a235419@duif.net>

On 24-06-17 13:40, C Hamilton wrote:
> I just found out that I introduced a function in Lat Lon Tools that
> should have bumped the minimum version to 2.8. Is there any way to
> update that one piece of information in the plugins repo for all the
> versions that were affected?

Hi C,

the plugin website is a Django website [0], which upon upload loads the
metadata.txt (or form given values), and saves them in db.

I think(!):

either upload your plugins again with the fixed metadata.txt (you can
easily download the different versions yourself)

or those with some admin/db foo could maybe update the metadata.

But in general I think 2.8 is already that old, that it's not worth the
fuzz?

Regards,

Richard Duivenvoorde

[0] https://github.com/qgis/QGIS-Django

From tom.chadwin at nnpa.org.uk  Sat Jun 24 13:47:31 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Sat, 24 Jun 2017 13:47:31 -0700 (MST)
Subject: [QGIS-Developer] Any way to back update the minimum QGIS
	version?
In-Reply-To: <8c0dd364-fe26-2009-ea7e-a0aa3a235419@duif.net>
References: <CABPxTTq0GYByU_ihKb117uPEbKr2a44aE6hwZTh6gDhjC6d8Vg@mail.gmail.com>
 <8c0dd364-fe26-2009-ea7e-a0aa3a235419@duif.net>
Message-ID: <1498337251312-5325427.post@n6.nabble.com>

@Richard Can you upload an updated zip of an existing version? Or do you have
to delete the existing version? If you have to delete it, you lose the
download stats, which is a shame. Not that I look at my download stats. At
all.

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
View this message in context: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Any-way-to-back-update-the-minimum-QGIS-version-tp5325408p5325427.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From hakufu.asano at gmail.com  Sat Jun 24 18:29:21 2017
From: hakufu.asano at gmail.com (Tao Lu)
Date: Sun, 25 Jun 2017 10:29:21 +0900
Subject: [QGIS-Developer] How to tur off "Discourage other labels from
 covering features in this layer"
Message-ID: <CAKNwoQPu2OhWMRDP1TxXsV6Lws+F+BRrprJQuSsf-NBOx5B32Q@mail.gmail.com>

Hello

I am writing a plugin to create label.
Sample code like below
        # parameters for advanced labeling -- picked up from a qgs model
file
        # generic labeling propertiesNo Labels
        layer.setCustomProperty("labeling/fieldName",  'No Labels')
        layer.setCustomProperty("labeling/fieldName",
share.field_list[0][0])  #[0][0] )
        layer.setCustomProperty("labeling","pal" ) # new gen labeling
activated
        layer.setCustomProperty("labeling/fontSize","9" ) # default value
        layer.setCustomProperty("labeling/multiLineLabels","true" ) #
default value
        layer.setCustomProperty("labeling/enabled","true" ) # default value
        # layer.setCustomProperty("labeling/displayAll", "true") # force
all labels to display
        layer.setCustomProperty("labeling/priority", "10") # puts a high
priority to labeling layer
        layer.setCustomProperty("labeling/multilineAlign","1") # multiline
align to center
        # layer.setCustomProperty("labeling/wrapChar", "%") # multiline
break symbol
        # line properties case
        layer.setCustomProperty("labeling/placement","4" )

        # data defined properties
        layer.setCustomProperty("labeling/dataDefined/PositionX",
"1~~0~~~~" + share.field_list[1][0])
        layer.setCustomProperty("labeling/dataDefined/PositionY",
"1~~0~~~~" + share.field_list[2][0])
        layer.setCustomProperty("labeling/dataDefined/Rotation" ,"1~~0~~~~"
+ share.field_list[3][0])
        layer.setCustomProperty("labeling/dataDefined/Size" ,"1~~0~~~~" +
share.field_list[4][0])
        layer.setCustomProperty("labeling/dataDefined/Hali", "1~~0~~~~" +
share.field_list[5][0])
        layer.setCustomProperty("labeling/dataDefined/Vali","1~~0~~~~" +
share.field_list[6][0])

Everything goes well.
However sometimes, when I use this to create label, the label shows
"Discourage other labels from covering features in this layer"
Is there any method to force to label?

This is my codes:http://plugins.qgis.org/plugins/SuperLabeling/

Please help me.
Thank you very much.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170625/987bd1d9/attachment.html>

From matteo.ghetta at gmail.com  Mon Jun 26 04:11:08 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 26 Jun 2017 13:11:08 +0200
Subject: [QGIS-Developer] Get data from QgsFieldExpressionWidget (QGIS
	Master)
Message-ID: <09898bb0-2f15-ff67-d3a1-13ed5f5f5e12@gmail.com>

Hi all,

I'm writing a plugin that uses QgsFieldExpressionWidget to get the field
and its attributes from a layer.

I'm really fighting to find a method to get the attributes of the field
as a list when an expression if typed.

Supposing the layer has a field called PH and n attributes:

1. if just PH (so the name of the field) is selected than it is pretty
straightforward:

# self.expBox is the name of the widget
field = self.expBox.currentText()
data = []
for i in vl.getFeatures():
    data.append(i[field])

2. if a whatever expression is typed, e.g. PH > 7, than I get some
problem on how I can retrieve the name of the field from the widget.
Knowing the field name it should be something like:

exp = QgsFeatureRequest().setFilterExpression(' PH > 7 ')
request.setSubsetOfAttributes([])

data = []
for f in vl.getFeatures(request):
    data.append(f['PH'])

so I don't understand how I can get just the PH string (so the field
name) from the widget in order to put it in the loop and get only the
required attributes .


I hope I have explained my problem...

Thanks to any feedback

Cheers

Matteo

From denis.rouzaud at gmail.com  Mon Jun 26 04:31:04 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Mon, 26 Jun 2017 11:31:04 +0000
Subject: [QGIS-Developer] Get data from QgsFieldExpressionWidget (QGIS
	Master)
In-Reply-To: <09898bb0-2f15-ff67-d3a1-13ed5f5f5e12@gmail.com>
References: <09898bb0-2f15-ff67-d3a1-13ed5f5f5e12@gmail.com>
Message-ID: <CAMtsY+aW5hnib7AE4bP8ehrRwR4FneCEKkF_EFo-hnuA2c=n9A@mail.gmail.com>

Hi Matteo,


Le lun. 26 juin 2017 à 13:11, matteo <matteo.ghetta at gmail.com> a écrit :

> Hi all,
>
> I'm writing a plugin that uses QgsFieldExpressionWidget to get the field
> and its attributes from a layer.
>
> I'm really fighting to find a method to get the attributes of the field
> as a list when an expression if typed.
>

It's a bit unclear to me the distinction you make between fields and
attributes. Can you detail what you call "attributes of the field"?

>
> Supposing the layer has a field called PH and n attributes:
>
> 1. if just PH (so the name of the field) is selected than it is pretty
> straightforward:
>
> # self.expBox is the name of the widget
> field = self.expBox.currentText()
> data = []
> for i in vl.getFeatures():
>     data.append(i[field])
>
> 2. if a whatever expression is typed, e.g. PH > 7, than I get some
> problem on how I can retrieve the name of the field from the widget.
>

Well, you don't have a field anymore as you typed an expression. There
might be ways to get fields out of an expression I guess. Not sure it's in
the public API though. Better ask experts here.


> Knowing the field name it should be something like:
>
> exp = QgsFeatureRequest().setFilterExpression(' PH > 7 ')
> request.setSubsetOfAttributes([])
>
> data = []
> for f in vl.getFeatures(request):
>     data.append(f['PH'])
>
> so I don't understand how I can get just the PH string (so the field
> name) from the widget in order to put it in the loop and get only the
> required attributes .
>

 So, if I understand well you want to retrieve the fields used in an
expression, is this correct?
Matthias or others can answer this for sure.

Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170626/e78acde9/attachment.html>

From matteo.ghetta at gmail.com  Mon Jun 26 04:34:26 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 26 Jun 2017 13:34:26 +0200
Subject: [QGIS-Developer] Get data from QgsFieldExpressionWidget (QGIS
 Master)
In-Reply-To: <CAMtsY+aW5hnib7AE4bP8ehrRwR4FneCEKkF_EFo-hnuA2c=n9A@mail.gmail.com>
References: <09898bb0-2f15-ff67-d3a1-13ed5f5f5e12@gmail.com>
 <CAMtsY+aW5hnib7AE4bP8ehrRwR4FneCEKkF_EFo-hnuA2c=n9A@mail.gmail.com>
Message-ID: <39dbb65a-5820-37ea-f015-45ef45b5be6e@gmail.com>

Hi Denis,


> It's a bit unclear to me the distinction you make between fields and
> attributes. Can you detail what you call "attributes of the field"?

I mess up thing a little bit.. sorry :)

>  So, if I understand well you want to retrieve the fields used in an
> expression, is this correct?
> Matthias or others can answer this for sure.

you get exactly the problem. I did not find any method to retrieve the
field from an expression string.

Thanks Denis

Hoping Matthias and others are reading the message

Cheers

Matteo

From tom.chadwin at nnpa.org.uk  Mon Jun 26 06:58:06 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Mon, 26 Jun 2017 06:58:06 -0700 (MST)
Subject: [QGIS-Developer] Get data from QgsFieldExpressionWidget (QGIS
	Master)
In-Reply-To: <39dbb65a-5820-37ea-f015-45ef45b5be6e@gmail.com>
References: <09898bb0-2f15-ff67-d3a1-13ed5f5f5e12@gmail.com>
 <CAMtsY+aW5hnib7AE4bP8ehrRwR4FneCEKkF_EFo-hnuA2c=n9A@mail.gmail.com>
 <39dbb65a-5820-37ea-f015-45ef45b5be6e@gmail.com>
Message-ID: <1498485486238-5325532.post@n6.nabble.com>

Hi Matteo

Take a look at Nathan's qgs2js:

https://github.com/NathanW2/qgs2js

That walks expressions and breaks them down into their individual nodes.

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
View this message in context: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Get-data-from-QgsFieldExpressionWidget-QGIS-Master-tp5325510p5325532.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From matteo.ghetta at gmail.com  Mon Jun 26 07:47:56 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 26 Jun 2017 16:47:56 +0200
Subject: [QGIS-Developer] Get data from QgsFieldExpressionWidget (QGIS
 Master)
In-Reply-To: <1498485486238-5325532.post@n6.nabble.com>
References: <09898bb0-2f15-ff67-d3a1-13ed5f5f5e12@gmail.com>
 <CAMtsY+aW5hnib7AE4bP8ehrRwR4FneCEKkF_EFo-hnuA2c=n9A@mail.gmail.com>
 <39dbb65a-5820-37ea-f015-45ef45b5be6e@gmail.com>
 <1498485486238-5325532.post@n6.nabble.com>
Message-ID: <1bf815fb-3839-68a3-04a6-8bbfac91ee70@gmail.com>

Thanks Tom, sure I'll have a look..

In the meanwhile, I get this idea as a workaround:

vl = iface.activeLayer()

request = QgsFeatureRequest().setFilterExpression(' PH > 7 ')
request.setSubsetOfAttributes([])

data = []
for f in vl.getFeatures(request):
    for j in f.attributes():
        if j is not None:
            data.append(j)


it seems working, but it'd be great to have some feedbacks from you
experts ;)

Thanks again guys!

Matteo

From nyall.dawson at gmail.com  Mon Jun 26 15:32:18 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 27 Jun 2017 08:32:18 +1000
Subject: [QGIS-Developer] Get data from QgsFieldExpressionWidget (QGIS
	Master)
In-Reply-To: <09898bb0-2f15-ff67-d3a1-13ed5f5f5e12@gmail.com>
References: <09898bb0-2f15-ff67-d3a1-13ed5f5f5e12@gmail.com>
Message-ID: <CAB28AsjWs1oEjW8w-RC3daZJXnXXdOgTyiH3X_JQLeVXRyZTUw@mail.gmail.com>

On 26 June 2017 at 21:11, matteo <matteo.ghetta at gmail.com> wrote:
> Hi all,
>
> I'm writing a plugin that uses QgsFieldExpressionWidget to get the field
> and its attributes from a layer.
>
> I'm really fighting to find a method to get the attributes of the field
> as a list when an expression if typed.

In QGIS 3.0 QgsVectorLayer::getValues will do what you want in a single call:

https://qgis.org/api/classQgsVectorLayer.html#ac8cfb12633ed536da73f42ebff095f99

That works for either a field:

layer.getValues('my_field')

or an expression:

layer.getValues('my_field * 2')

Nyall

From nyall.dawson at gmail.com  Mon Jun 26 16:28:53 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 27 Jun 2017 09:28:53 +1000
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Singlepart
	to Multipart algorithm
Message-ID: <CAB28AsgiyD6S0mxFRuzs0WXq-UWBW9R3E4X5Dc3_LF=mJfw-7Q@mail.gmail.com>

Hi all,

As you may be aware, I've been working on rebuilding the backend of
Processing in c++ and refining how it operates.

As part of this I'd like to clear up the list of existing algorithms
and also refine how they behave. This list of "QGIS" algorithms has
grown organically during the 2.x cycle, and there's now numerous
oddities in the selection of available algorithms and their options.

This discussion relates to the "Singlepart to Multipart" algorithm. I'd like to:

1. drop the option for "unique ID field". This option is used to
'collect' the geometries from features with matching ID  together into
a single output geometry. I'd like to remove this option and make the
"Singlepart to Multipart" algorithm purely upgrade geometry types from
single part to multipart, without adding any extra parts or collecting
geometries. So basically the algorithm would upgrade single parts to
collections containing just a single part - the equivalent of PostGIS'
ST_Multi function.

2. Add a new algorithm "Collect parts" which does what the option in
Singlepart to Multipart used to do. This would collect all features
with matching fields (you could select more than one field - unlike
the current Singlepart to Multipart option) and output collection
features containing these geometries. Just like dissolve, but without
the dissolving of overlapping parts.

Ideally "collect parts" would be replaced with the more powerful
"aggregate" algorithm implemented in
https://github.com/qgis/QGIS/pull/4210, but that's a separate piece of
work.

The motivations here are:

1. simplicity of algorithms - keeping the Singlepart to Multipart as
just a straightforward 'make this geometry multipart type' algorithm,
without the extra complexity and code inefficiency which comes with
the current 'unique ID field' support. (Complying with the goal of
keeping algorithms modular and focused on one particular task)

2. unlocking future performance gains. Ideally we want algorithms to
operate feature-by-feature whenever this is possible. This will allow
us (in some future piece of work) to implement feature pipes where
features pass through models having operations performed to each
feature in a chain (instead of the current approach of multiple
temporary output layers). This isn't planned work (yet), but making
this algorithm operate feature-by-feature now, while we have the
luxury of API and model break, will allow it to use these
optimisations in a future 3.x release. The "unique ID field" support
prevents this algorithm from operating feature-by-feature.

Thoughts?

Nyall

From nyall.dawson at gmail.com  Mon Jun 26 16:38:39 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 27 Jun 2017 09:38:39 +1000
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex Hull
	algorithm
Message-ID: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>

Hi all,

As you may be aware, I've been working on rebuilding the backend of
Processing in c++ and refining how it operates.

As part of this I'd like to clear up the list of existing algorithms
and also refine how they behave. This list of "QGIS" algorithms has
grown organically during the 2.x cycle, and there's now numerous
oddities in the selection of available algorithms and their options.

This discussion relates to the "Convex Hull" algorithm. I'd like to:

1. Drop the "Field (optional, only used if creating convex hulls by
classes)" option and the accompanying method choice used to set the
convex hull to 'create convex hulls based on field'.

My motivations here are:

1. Removing duplicate functionality - I believe the Convex hull should
only operate on single features, and if users need Convex Hulls
grouped by class they should first use one of the existing algorithms
for collecting classes (such as dissolve or singleparts to multiparts)
to collect the classes together.

2. Simplicity and efficiency of algorithm code - removing this option
allows us to remove a bunch of inefficient code, which is better
implemented in dissolve/singleparts to multiparts

3. Complying with the goal of keeping algorithms modular and focused
on one particular task, and performing that task well

4. unlocking future performance gains. Ideally we want algorithms to
operate feature-by-feature whenever this is possible. This will allow
us (in some future piece of work) to implement feature pipes where
features pass through models having operations performed to each
feature in a chain (instead of the current approach of multiple
temporary output layers). This isn't planned work (yet), but making
this algorithm operate feature-by-feature now, while we have the
luxury of API and model break, will allow it to use these
optimisations in a future 3.x release. The "create convex hulls based
on field" support prevents this algorithm from operating
feature-by-feature.

Thoughts?

Nyall

From nyall.dawson at gmail.com  Mon Jun 26 16:41:24 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 27 Jun 2017 09:41:24 +1000
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
	Hull algorithm
In-Reply-To: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
Message-ID: <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>

On 27 June 2017 at 09:38, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> Hi all,
>
> As you may be aware, I've been working on rebuilding the backend of
> Processing in c++ and refining how it operates.
>
> As part of this I'd like to clear up the list of existing algorithms
> and also refine how they behave. This list of "QGIS" algorithms has
> grown organically during the 2.x cycle, and there's now numerous
> oddities in the selection of available algorithms and their options.
>
> This discussion relates to the "Convex Hull" algorithm. I'd like to:
>
> 1. Drop the "Field (optional, only used if creating convex hulls by
> classes)" option and the accompanying method choice used to set the
> convex hull to 'create convex hulls based on field'.

Argh - missed off point 2 here:

2. Make the algorithm always operate on individual features. It would
take the input (multi)geometries and export convex hulls for each
input feature.

Nyall

From nirvn.asia at gmail.com  Mon Jun 26 17:18:26 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Tue, 27 Jun 2017 07:18:26 +0700
Subject: [QGIS-Developer] Processing 3.0: Possible change to the
 Singlepart to Multipart algorithm
In-Reply-To: <CAB28AsgiyD6S0mxFRuzs0WXq-UWBW9R3E4X5Dc3_LF=mJfw-7Q@mail.gmail.com>
References: <CAB28AsgiyD6S0mxFRuzs0WXq-UWBW9R3E4X5Dc3_LF=mJfw-7Q@mail.gmail.com>
Message-ID: <CAC_qv=oyzwDzSB_-x0XrBnD84sx2s-UNRaWFcrE-H7y-cA7_BA@mail.gmail.com>

+1, I'm a regular user of that alg & your proposal makes sense. It'll be
useful to have the reduced single to multi geom type within models.

On Jun 27, 2017 6:28 AM, "Nyall Dawson" <nyall.dawson at gmail.com> wrote:

> Hi all,
>
> As you may be aware, I've been working on rebuilding the backend of
> Processing in c++ and refining how it operates.
>
> As part of this I'd like to clear up the list of existing algorithms
> and also refine how they behave. This list of "QGIS" algorithms has
> grown organically during the 2.x cycle, and there's now numerous
> oddities in the selection of available algorithms and their options.
>
> This discussion relates to the "Singlepart to Multipart" algorithm. I'd
> like to:
>
> 1. drop the option for "unique ID field". This option is used to
> 'collect' the geometries from features with matching ID  together into
> a single output geometry. I'd like to remove this option and make the
> "Singlepart to Multipart" algorithm purely upgrade geometry types from
> single part to multipart, without adding any extra parts or collecting
> geometries. So basically the algorithm would upgrade single parts to
> collections containing just a single part - the equivalent of PostGIS'
> ST_Multi function.
>
> 2. Add a new algorithm "Collect parts" which does what the option in
> Singlepart to Multipart used to do. This would collect all features
> with matching fields (you could select more than one field - unlike
> the current Singlepart to Multipart option) and output collection
> features containing these geometries. Just like dissolve, but without
> the dissolving of overlapping parts.
>
> Ideally "collect parts" would be replaced with the more powerful
> "aggregate" algorithm implemented in
> https://github.com/qgis/QGIS/pull/4210, but that's a separate piece of
> work.
>
> The motivations here are:
>
> 1. simplicity of algorithms - keeping the Singlepart to Multipart as
> just a straightforward 'make this geometry multipart type' algorithm,
> without the extra complexity and code inefficiency which comes with
> the current 'unique ID field' support. (Complying with the goal of
> keeping algorithms modular and focused on one particular task)
>
> 2. unlocking future performance gains. Ideally we want algorithms to
> operate feature-by-feature whenever this is possible. This will allow
> us (in some future piece of work) to implement feature pipes where
> features pass through models having operations performed to each
> feature in a chain (instead of the current approach of multiple
> temporary output layers). This isn't planned work (yet), but making
> this algorithm operate feature-by-feature now, while we have the
> luxury of API and model break, will allow it to use these
> optimisations in a future 3.x release. The "unique ID field" support
> prevents this algorithm from operating feature-by-feature.
>
> Thoughts?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170627/c58d5f74/attachment.html>

From cavallini at faunalia.it  Mon Jun 26 22:16:10 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 27 Jun 2017 07:16:10 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the
 Singlepart to Multipart algorithm
In-Reply-To: <CAC_qv=oyzwDzSB_-x0XrBnD84sx2s-UNRaWFcrE-H7y-cA7_BA@mail.gmail.com>
References: <CAB28AsgiyD6S0mxFRuzs0WXq-UWBW9R3E4X5Dc3_LF=mJfw-7Q@mail.gmail.com>
 <CAC_qv=oyzwDzSB_-x0XrBnD84sx2s-UNRaWFcrE-H7y-cA7_BA@mail.gmail.com>
Message-ID: <b765d8fe-ad3d-6b85-dcc1-aba99942f75c@faunalia.it>

Il 27/06/2017 02:18, Mathieu Pellerin ha scritto:
> +1, I'm a regular user of that alg & your proposal makes sense. It'll be
> useful to have the reduced single to multi geom type within models.

+1
unsure it has much meaning for shapefiles though, and this may be
confusing for users.
Thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From cavallini at faunalia.it  Mon Jun 26 22:19:49 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 27 Jun 2017 07:19:49 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
Message-ID: <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>

Hi Nyall,

Il 27/06/2017 01:41, Nyall Dawson ha scritto:

>> This discussion relates to the "Convex Hull" algorithm. I'd like to:
>>
>> 1. Drop the "Field (optional, only used if creating convex hulls by
>> classes)" option and the accompanying method choice used to set the
>> convex hull to 'create convex hulls based on field'.


I understand the rationale behind this; I'm just a bit worried it will
be more complicated and less understandable for users.
Perhaps adding another module that does both commands (collect + convex
hull) in one shot would be useful?
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From matthias at opengis.ch  Mon Jun 26 22:41:07 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 27 Jun 2017 07:41:07 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the
 Singlepart to Multipart algorithm
In-Reply-To: <b765d8fe-ad3d-6b85-dcc1-aba99942f75c@faunalia.it>
References: <CAB28AsgiyD6S0mxFRuzs0WXq-UWBW9R3E4X5Dc3_LF=mJfw-7Q@mail.gmail.com>
 <CAC_qv=oyzwDzSB_-x0XrBnD84sx2s-UNRaWFcrE-H7y-cA7_BA@mail.gmail.com>
 <b765d8fe-ad3d-6b85-dcc1-aba99942f75c@faunalia.it>
Message-ID: <f3315cdd-8f89-f075-ac14-01e123b809b2@opengis.ch>

On 6/27/17 7:16 AM, Paolo Cavallini wrote:

> Il 27/06/2017 02:18, Mathieu Pellerin ha scritto:
>> +1, I'm a regular user of that alg & your proposal makes sense. It'll be
>> useful to have the reduced single to multi geom type within models.
> +1
> unsure it has much meaning for shapefiles though, and this may be
> confusing for users.
If this is a problem, a warning could be shown in the config dialog if
the layer is already multi typed (and if
https://github.com/qgis/QGIS/pull/4782 is merged)?

Thanks


From matthias at opengis.ch  Mon Jun 26 22:45:38 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 27 Jun 2017 07:45:38 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
Message-ID: <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>

On 6/27/17 7:19 AM, Paolo Cavallini wrote:

> Hi Nyall,
>
> Il 27/06/2017 01:41, Nyall Dawson ha scritto:
>
>>> This discussion relates to the "Convex Hull" algorithm. I'd like to:
>>>
>>> 1. Drop the "Field (optional, only used if creating convex hulls by
>>> classes)" option and the accompanying method choice used to set the
>>> convex hull to 'create convex hulls based on field'.
>
> I understand the rationale behind this; I'm just a bit worried it will
> be more complicated and less understandable for users.
> Perhaps adding another module that does both commands (collect + convex
> hull) in one shot would be useful?
> All the best.

Maybe there is the need to ship some often-used models by default then?
Thinking of code complexity and maintainability, it makes much sense to
modularize algorithm code as much as possible

https://en.wikipedia.org/wiki/Unix_philosophy#Do_One_Thing_and_Do_It_Well

Matthias

From cavallini at faunalia.it  Mon Jun 26 22:46:33 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 27 Jun 2017 07:46:33 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
Message-ID: <ff1542cf-323d-2a7c-f21e-e519ee58bf38@faunalia.it>

Il 27/06/2017 07:45, Matthias Kuhn ha scritto:

> Maybe there is the need to ship some often-used models by default then?
> Thinking of code complexity and maintainability, it makes much sense to
> modularize algorithm code as much as possible

agreed
thanks

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From matteo.ghetta at gmail.com  Mon Jun 26 22:52:44 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 27 Jun 2017 07:52:44 +0200
Subject: [QGIS-Developer] Get data from QgsFieldExpressionWidget (QGIS
 Master)
In-Reply-To: <CAB28AsjWs1oEjW8w-RC3daZJXnXXdOgTyiH3X_JQLeVXRyZTUw@mail.gmail.com>
References: <09898bb0-2f15-ff67-d3a1-13ed5f5f5e12@gmail.com>
 <CAB28AsjWs1oEjW8w-RC3daZJXnXXdOgTyiH3X_JQLeVXRyZTUw@mail.gmail.com>
Message-ID: <4fa4e86c-44d9-956a-1388-4db11919b6bf@gmail.com>

Hi Nyall,


> In QGIS 3.0 QgsVectorLayer::getValues will do what you want in a single call:
> 
> https://qgis.org/api/classQgsVectorLayer.html#ac8cfb12633ed536da73f42ebff095f99
> 
> That works for either a field:
> 
> layer.getValues('my_field')
> 
> or an expression:
> 
> layer.getValues('my_field * 2')

whoooooa I was not aware of that, thanks!

One further question, I tried it with the example field PH and the
expression PH > 7. This the outputs:

vl.getValues('PH')
([6.81, 6.78, 6.49, 6.72, 6.88, 7.68, 7.69, 7.38, 6.76, 6.84, 6.91,
6.74, 6.77, 6.73, 6.68, 6.94, 6.72], True)

vl.getValues('PH > 7')
([0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], True)

with the expression it seems the output is TRUE/FALSE. Any clue to
obtain also the attribute values?

Thanks again

Matteo

From havard.tveite at nmbu.no  Tue Jun 27 02:26:02 2017
From: havard.tveite at nmbu.no (Havard Tveite)
Date: Tue, 27 Jun 2017 11:26:02 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
Message-ID: <72fc991d-58e6-cf6d-d42b-982efafc7c80@nmbu.no>

It is important that convex hull is available for datasets
at the user interface level.

Håvard

On 27. juni 2017 07:19, Paolo Cavallini wrote:
> Hi Nyall,
> 
> Il 27/06/2017 01:41, Nyall Dawson ha scritto:
> 
>>> This discussion relates to the "Convex Hull" algorithm. I'd like to:
>>>
>>> 1. Drop the "Field (optional, only used if creating convex hulls by
>>> classes)" option and the accompanying method choice used to set the
>>> convex hull to 'create convex hulls based on field'.
> 
> 
> I understand the rationale behind this; I'm just a bit worried it will
> be more complicated and less understandable for users.
> Perhaps adding another module that does both commands (collect + convex
> hull) in one shot would be useful?
> All the best.

From anitagraser at gmx.at  Tue Jun 27 12:06:29 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Tue, 27 Jun 2017 21:06:29 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
Message-ID: <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>

On Tue, Jun 27, 2017 at 7:45 AM, Matthias Kuhn <matthias at opengis.ch> wrote:

> On 6/27/17 7:19 AM, Paolo Cavallini wrote:
>
> > Hi Nyall,
> >
> > Il 27/06/2017 01:41, Nyall Dawson ha scritto:
> >
> >>> This discussion relates to the "Convex Hull" algorithm. I'd like to:
> >>>
> >>> 1. Drop the "Field (optional, only used if creating convex hulls by
> >>> classes)" option and the accompanying method choice used to set the
> >>> convex hull to 'create convex hulls based on field'.
> >
> > I understand the rationale behind this; I'm just a bit worried it will
> > be more complicated and less understandable for users.
> > Perhaps adding another module that does both commands (collect + convex
> > hull) in one shot would be useful?
> > All the best.
>
> Maybe there is the need to ship some often-used models by default then?
> Thinking of code complexity and maintainability, it makes much sense to
> modularize algorithm code as much as possible
>


​I absolutely understand the reason from an engineering point. From the
user point - and as someone answering a lot of user questions - it is
predictable that end users will be confused.

Idea: Have a warning if a user tries to run the new "convex hull" on a
dataset with single part geometries?

Best wishes,
Anita​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170627/bded3d54/attachment.html>

From giohappy at gmail.com  Tue Jun 27 15:12:22 2017
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 28 Jun 2017 00:12:22 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
Message-ID: <CAB4g1=zyyEttONcgi8O_mhCqHRmppb+-MFch_-74744-uMvswA@mail.gmail.com>

I understand and agree on having "atomic" algorithms but I'm not sure if we
can always consider single features as the unique operating level. I know
this would bring benefits to the code engineering but we have to keep in
mind the end users expectations.

I agree with Mathias, probably we should have atomic/feature level core
algorithms and "processing algorithms" using them for higher level
structures (datasets) in case they fit the task better.

my 2 cents.
giovanni

Il 27 giu 2017 21:06, "Anita Graser" <anitagraser at gmx.at> ha scritto:

>
>
> On Tue, Jun 27, 2017 at 7:45 AM, Matthias Kuhn <matthias at opengis.ch>
> wrote:
>
>> On 6/27/17 7:19 AM, Paolo Cavallini wrote:
>>
>> > Hi Nyall,
>> >
>> > Il 27/06/2017 01:41, Nyall Dawson ha scritto:
>> >
>> >>> This discussion relates to the "Convex Hull" algorithm. I'd like to:
>> >>>
>> >>> 1. Drop the "Field (optional, only used if creating convex hulls by
>> >>> classes)" option and the accompanying method choice used to set the
>> >>> convex hull to 'create convex hulls based on field'.
>> >
>> > I understand the rationale behind this; I'm just a bit worried it will
>> > be more complicated and less understandable for users.
>> > Perhaps adding another module that does both commands (collect + convex
>> > hull) in one shot would be useful?
>> > All the best.
>>
>> Maybe there is the need to ship some often-used models by default then?
>> Thinking of code complexity and maintainability, it makes much sense to
>> modularize algorithm code as much as possible
>>
>
>
> ​I absolutely understand the reason from an engineering point. From the
> user point - and as someone answering a lot of user questions - it is
> predictable that end users will be confused.
>
> Idea: Have a warning if a user tries to run the new "convex hull" on a
> dataset with single part geometries?
>
> Best wishes,
> Anita​
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170628/e5af6187/attachment.html>

From matthias at opengis.ch  Tue Jun 27 15:25:51 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 28 Jun 2017 00:25:51 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAB4g1=zyyEttONcgi8O_mhCqHRmppb+-MFch_-74744-uMvswA@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB4g1=zyyEttONcgi8O_mhCqHRmppb+-MFch_-74744-uMvswA@mail.gmail.com>
Message-ID: <9d6c16ea-44d6-2e9b-4110-cc76be37b194@opengis.ch>

Thanks Giovanni and sorry for keeping my last message so short that it
was hard to follow.

Yes, indeed, the proposal was that the user experience should be the
same as now. A dedicated entry (algorithm) in the toolbox with an option
for "group by attribute".

That this "algorithm" internally is a model that calls two core
algorithms should be totally transparent to the user.

Matthias


On 6/28/17 12:12 AM, G. Allegri wrote:
> I understand and agree on having "atomic" algorithms but I'm not sure
> if we can always consider single features as the unique operating
> level. I know this would bring benefits to the code engineering but we
> have to keep in mind the end users expectations.
>
> I agree with Mathias, probably we should have atomic/feature level
> core algorithms and "processing algorithms" using them for higher
> level structures (datasets) in case they fit the task better.
>
> my 2 cents.
> giovanni
>
> Il 27 giu 2017 21:06, "Anita Graser" <anitagraser at gmx.at
> <mailto:anitagraser at gmx.at>> ha scritto:
>
>
>
>     On Tue, Jun 27, 2017 at 7:45 AM, Matthias Kuhn
>     <matthias at opengis.ch <mailto:matthias at opengis.ch>> wrote:
>
>         On 6/27/17 7:19 AM, Paolo Cavallini wrote:
>
>         > Hi Nyall,
>         >
>         > Il 27/06/2017 01:41, Nyall Dawson ha scritto:
>         >
>         >>> This discussion relates to the "Convex Hull" algorithm.
>         I'd like to:
>         >>>
>         >>> 1. Drop the "Field (optional, only used if creating convex
>         hulls by
>         >>> classes)" option and the accompanying method choice used
>         to set the
>         >>> convex hull to 'create convex hulls based on field'.
>         >
>         > I understand the rationale behind this; I'm just a bit
>         worried it will
>         > be more complicated and less understandable for users.
>         > Perhaps adding another module that does both commands
>         (collect + convex
>         > hull) in one shot would be useful?
>         > All the best.
>
>         Maybe there is the need to ship some often-used models by
>         default then?
>         Thinking of code complexity and maintainability, it makes much
>         sense to
>         modularize algorithm code as much as possible
>
>
>
>     ​I absolutely understand the reason from an engineering point.
>     From the user point - and as someone answering a lot of user
>     questions - it is predictable that end users will be confused. 
>
>     Idea: Have a warning if a user tries to run the new "convex hull"
>     on a dataset with single part geometries?
>
>     Best wishes,
>     Anita​
>
>      
>
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170628/8b850b39/attachment.html>

From nyall.dawson at gmail.com  Tue Jun 27 15:49:19 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 28 Jun 2017 08:49:19 +1000
Subject: [QGIS-Developer] Processing 3.0: Possible change to the
 Singlepart to Multipart algorithm
In-Reply-To: <b765d8fe-ad3d-6b85-dcc1-aba99942f75c@faunalia.it>
References: <CAB28AsgiyD6S0mxFRuzs0WXq-UWBW9R3E4X5Dc3_LF=mJfw-7Q@mail.gmail.com>
 <CAC_qv=oyzwDzSB_-x0XrBnD84sx2s-UNRaWFcrE-H7y-cA7_BA@mail.gmail.com>
 <b765d8fe-ad3d-6b85-dcc1-aba99942f75c@faunalia.it>
Message-ID: <CAB28AsgLNVtGiC-Sf-a-TYccPtxQeUfqCLs1HujP5JHAFbpVGA@mail.gmail.com>

On 27 June 2017 at 15:16, Paolo Cavallini <cavallini at faunalia.it> wrote:
> Il 27/06/2017 02:18, Mathieu Pellerin ha scritto:
>> +1, I'm a regular user of that alg & your proposal makes sense. It'll be
>> useful to have the reduced single to multi geom type within models.
>
> +1
> unsure it has much meaning for shapefiles though, and this may be
> confusing for users.
> Thanks.

It probably doesn't have any meaning - but is that a problem? You'd
only be using this algorithm if you had a particular requirement for
it (e.g. preparing a result for upload into a PostGIS table which
requires multi geometry types).

Nyall

From nyall.dawson at gmail.com  Tue Jun 27 15:54:02 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 28 Jun 2017 08:54:02 +1000
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
Message-ID: <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>

On 28 June 2017 at 05:06, Anita Graser <anitagraser at gmx.at> wrote:
>
>
>
> I absolutely understand the reason from an engineering point. From the user
> point - and as someone answering a lot of user questions - it is predictable
> that end users will be confused.
>
> Idea: Have a warning if a user tries to run the new "convex hull" on a
> dataset with single part geometries?
>

Ok - perhaps requiring only multipart feature inputs is too extreme. How about:

1. We drop the field group option, for the same reasons initially
described (there's better algorithms to do this)
2. Add a new boolean option for which creates as single hull for all
features in the layer

Would that work?

Alternatively we could have two algorithms:

1. Convex hull - operates per feature on just the geometry for each feature
2. Layer convex hull - generates a convex hull covering a whole input layer

(By the way - I'm not trying to go full "unix philosophy" here (since
that's a flawed premise anyway!). It's more about dropping/fixing
badly designed options when better alternatives exist).

Nyall

From nyall.dawson at gmail.com  Tue Jun 27 15:54:27 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 28 Jun 2017 08:54:27 +1000
Subject: [QGIS-Developer] Processing 3.0: Possible change to the
 "polygon from layer extent" algorithm
In-Reply-To: <faf9db1f-bcc5-8016-a0c3-4e46c169f32c@faunalia.it>
References: <CAB28AsjddK7vn9+W+UD_187Qz2U=hkmOCFkxxHnF2vFwHdA05Q@mail.gmail.com>
 <faf9db1f-bcc5-8016-a0c3-4e46c169f32c@faunalia.it>
Message-ID: <CAB28Asjad9rpv1mpwTVWZj7YQaoRjVWY+3B2fR4w-r-_-EycRQ@mail.gmail.com>

On 24 June 2017 at 16:54, Paolo Cavallini <cavallini at faunalia.it> wrote:
> Hi Nyall,
>
> Il 24/06/2017 05:56, Nyall Dawson ha scritto:
>
>> 1. drop the option "calculate extent for each feature separately.".
>
> +1. In general, the original approach back in GRASS plugin was to split
> complex commands into several atomiic modules; I think this approach
> still proves sane
>
>> 2. rename the algorithm to "Layer extent" or "layer bounds".
> +1
>

So no objections to this change?

Nyall

From giohappy at gmail.com  Tue Jun 27 16:05:19 2017
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 28 Jun 2017 01:05:19 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the
 Singlepart to Multipart algorithm
In-Reply-To: <CAB4g1=yqt2-O43e_JpmFnqBZ0tVhKGZ+7u0OvuT82Gf0eR8Gvg@mail.gmail.com>
References: <CAB28AsgiyD6S0mxFRuzs0WXq-UWBW9R3E4X5Dc3_LF=mJfw-7Q@mail.gmail.com>
 <CAC_qv=oyzwDzSB_-x0XrBnD84sx2s-UNRaWFcrE-H7y-cA7_BA@mail.gmail.com>
 <b765d8fe-ad3d-6b85-dcc1-aba99942f75c@faunalia.it>
 <CAB28AsgLNVtGiC-Sf-a-TYccPtxQeUfqCLs1HujP5JHAFbpVGA@mail.gmail.com>
 <CAB4g1=x__H5iPOhBJOXm+6LxZ1ZB+X0zUu6hQzqrYtXA52EQng@mail.gmail.com>
 <CAB4g1=yqt2-O43e_JpmFnqBZ0tVhKGZ+7u0OvuT82Gf0eR8Gvg@mail.gmail.com>
Message-ID: <CAB4g1=wwbin16M1GOgdO4BvPhLTYzfxiwq8GLHU1qJ9O70PswQ@mail.gmail.com>

+1 from me, also because "Singlepart to Multipart" means literally that.

giovanni

Il 28 giu 2017 00:49, "Nyall Dawson" <nyall.dawson at gmail.com> ha scritto:

On 27 June 2017 at 15:16, Paolo Cavallini <cavallini at faunalia.it> wrote:
> Il 27/06/2017 02:18, Mathieu Pellerin ha scritto:
>> +1, I'm a regular user of that alg & your proposal makes sense. It'll be
>> useful to have the reduced single to multi geom type within models.
>
> +1
> unsure it has much meaning for shapefiles though, and this may be
> confusing for users.
> Thanks.

It probably doesn't have any meaning - but is that a problem? You'd
only be using this algorithm if you had a particular requirement for
it (e.g. preparing a result for upload into a PostGIS table which
requires multi geometry types).

Nyall
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170628/1bde4b49/attachment.html>

From nirvn.asia at gmail.com  Tue Jun 27 19:19:07 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Wed, 28 Jun 2017 09:19:07 +0700
Subject: [QGIS-Developer] Processing 3.0: Dropping non-QgsZonalStatistics
	zonal statistics algorithm
Message-ID: <CAC_qv=p0reYLrXP_ZxFL1LWj3O_YGfpuMc31ZMGpVeFiGJoKGg@mail.gmail.com>

As part of the ongoing upgrade and cleanup done by the Nyall, we should
take the opportunity to get rid of one of the overlapping "Zonal
Statistics" and "Zonal Statistics (QGIS)" algorithms. The latter relies on
QGIS' QgsZonalStatistics.

Yesterday, I've resurrected the "Zonal Statistics (QGIS)" algorithm, and in
doing so added progress feedback + cancellation support. Would anyone
object to:
a/ rename this algorithm to "Zonal Statistics"
b/ delete the former (and obsolete) "Zonal Statistics" algorithm

Math
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170628/68768127/attachment.html>

From cavallini at faunalia.it  Tue Jun 27 21:36:23 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 28 Jun 2017 06:36:23 +0200
Subject: [QGIS-Developer] Processing 3.0: Dropping
 non-QgsZonalStatistics zonal statistics algorithm
In-Reply-To: <CAC_qv=p0reYLrXP_ZxFL1LWj3O_YGfpuMc31ZMGpVeFiGJoKGg@mail.gmail.com>
References: <CAC_qv=p0reYLrXP_ZxFL1LWj3O_YGfpuMc31ZMGpVeFiGJoKGg@mail.gmail.com>
Message-ID: <aab7e5ba-fa6b-bb18-18fb-6893d202c57c@faunalia.it>

Il 28/06/2017 04:19, Mathieu Pellerin ha scritto:
> As part of the ongoing upgrade and cleanup done by the Nyall, we should
> take the opportunity to get rid of one of the overlapping "Zonal
> Statistics" and "Zonal Statistics (QGIS)" algorithms. The latter relies
> on QGIS' QgsZonalStatistics.
> 
> Yesterday, I've resurrected the "Zonal Statistics (QGIS)" algorithm, and
> in doing so added progress feedback + cancellation support. Would anyone
> object to:
> a/ rename this algorithm to "Zonal Statistics"
> b/ delete the former (and obsolete) "Zonal Statistics" algorithm

Merci Mathieu.
Which alg are you talking about? I can only remember of a single tool.
All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From cavallini at faunalia.it  Tue Jun 27 21:42:20 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 28 Jun 2017 06:42:20 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
Message-ID: <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>

Il 28/06/2017 00:54, Nyall Dawson ha scritto:

> Ok - perhaps requiring only multipart feature inputs is too extreme. How about:
> 
> 1. We drop the field group option, for the same reasons initially
> described (there's better algorithms to do this)
> 2. Add a new boolean option for which creates as single hull for all
> features in the layer
> 
> Would that work?
> 
> Alternatively we could have two algorithms:
> 
> 1. Convex hull - operates per feature on just the geometry for each feature
> 2. Layer convex hull - generates a convex hull covering a whole input layer

In my experience, CH is mostly used for points, and multipoints are
little used, as they are problematic in several respects. So the case of
CH over multiparts is IMHO the exception rather than the role.
What happens for shp, that does not really have a multi- concept?
If we use the boolean as you suggested, I think the default should
probably be all features.
Thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From cavallini at faunalia.it  Tue Jun 27 21:48:25 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 28 Jun 2017 06:48:25 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the
 Singlepart to Multipart algorithm
In-Reply-To: <CAB28AsgLNVtGiC-Sf-a-TYccPtxQeUfqCLs1HujP5JHAFbpVGA@mail.gmail.com>
References: <CAB28AsgiyD6S0mxFRuzs0WXq-UWBW9R3E4X5Dc3_LF=mJfw-7Q@mail.gmail.com>
 <CAC_qv=oyzwDzSB_-x0XrBnD84sx2s-UNRaWFcrE-H7y-cA7_BA@mail.gmail.com>
 <b765d8fe-ad3d-6b85-dcc1-aba99942f75c@faunalia.it>
 <CAB28AsgLNVtGiC-Sf-a-TYccPtxQeUfqCLs1HujP5JHAFbpVGA@mail.gmail.com>
Message-ID: <81db24b7-6216-6ac6-e604-f41beae95cda@faunalia.it>

Il 28/06/2017 00:49, Nyall Dawson ha scritto:

> It probably doesn't have any meaning - but is that a problem? You'd
> only be using this algorithm if you had a particular requirement for
> it (e.g. preparing a result for upload into a PostGIS table which
> requires multi geometry types).

I think many users will not understand this, and it will not be easy to
communicate it.
As we go for more sophisticated algs, having a good help system will be
crucial. BTW, Alex, Matteo, what is the state of your work?
All the best, and thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From nyall.dawson at gmail.com  Tue Jun 27 22:07:25 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 28 Jun 2017 15:07:25 +1000
Subject: [QGIS-Developer] Processing 3.0: Dropping
 non-QgsZonalStatistics zonal statistics algorithm
In-Reply-To: <CAC_qv=p0reYLrXP_ZxFL1LWj3O_YGfpuMc31ZMGpVeFiGJoKGg@mail.gmail.com>
References: <CAC_qv=p0reYLrXP_ZxFL1LWj3O_YGfpuMc31ZMGpVeFiGJoKGg@mail.gmail.com>
Message-ID: <CAB28AsgYDefBjNZCKw7jUqqOvVFa9UmxfRQeaivz+hjzb4Wj=A@mail.gmail.com>

On 28 June 2017 at 12:19, Mathieu Pellerin <nirvn.asia at gmail.com> wrote:
> As part of the ongoing upgrade and cleanup done by the Nyall, we should take
> the opportunity to get rid of one of the overlapping "Zonal Statistics" and
> "Zonal Statistics (QGIS)" algorithms. The latter relies on QGIS'
> QgsZonalStatistics.
>
> Yesterday, I've resurrected the "Zonal Statistics (QGIS)" algorithm, and in
> doing so added progress feedback + cancellation support. Would anyone object
> to:
> a/ rename this algorithm to "Zonal Statistics"
> b/ delete the former (and obsolete) "Zonal Statistics" algorithm

I'm not a big user of zonal stats... but I'd like to see this
duplication removed.

Can you sum up what the differences between the tool algorithms are?
Are they any downsides to dropping the other tool, or is the Zonal
Stats (QGIS) alg better in every way?

Nyall

From nirvn.asia at gmail.com  Tue Jun 27 22:55:43 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Wed, 28 Jun 2017 12:55:43 +0700
Subject: [QGIS-Developer] Processing 3.0: Dropping
 non-QgsZonalStatistics zonal statistics algorithm
In-Reply-To: <CAB28AsgYDefBjNZCKw7jUqqOvVFa9UmxfRQeaivz+hjzb4Wj=A@mail.gmail.com>
References: <CAC_qv=p0reYLrXP_ZxFL1LWj3O_YGfpuMc31ZMGpVeFiGJoKGg@mail.gmail.com>
 <CAB28AsgYDefBjNZCKw7jUqqOvVFa9UmxfRQeaivz+hjzb4Wj=A@mail.gmail.com>
Message-ID: <CAC_qv=rywU=sXK+3QSwoXYtN1uJkC4MemofBKN7iwKO__iTmgQ@mail.gmail.com>

Here's a table showing the overlap (and unique features) of both algs:


*QgsZonalStatistics alg* *Alternate alg*
Count x x
Sum x x
Mean x x
Median x x
StDev x x
Min x x
Max x x
Range x x
Minority x
Majority x
Variety / Unique x x
Variance (i.e. numpy.var)
x
Mode (I.e.scipy.stats.mode)
x

Two statistical outputs (variance and mode) aren't available in
QgsZonalStatistics-based alg, while two outputs (minority and majority) are
missing from the alternate alg.

I'm not an intense user of zonal stats either, and I've always used the
QgsZoneStatistics one.



On Wed, Jun 28, 2017 at 12:07 PM, Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On 28 June 2017 at 12:19, Mathieu Pellerin <nirvn.asia at gmail.com> wrote:
> > As part of the ongoing upgrade and cleanup done by the Nyall, we should
> take
> > the opportunity to get rid of one of the overlapping "Zonal Statistics"
> and
> > "Zonal Statistics (QGIS)" algorithms. The latter relies on QGIS'
> > QgsZonalStatistics.
> >
> > Yesterday, I've resurrected the "Zonal Statistics (QGIS)" algorithm, and
> in
> > doing so added progress feedback + cancellation support. Would anyone
> object
> > to:
> > a/ rename this algorithm to "Zonal Statistics"
> > b/ delete the former (and obsolete) "Zonal Statistics" algorithm
>
> I'm not a big user of zonal stats... but I'd like to see this
> duplication removed.
>
> Can you sum up what the differences between the tool algorithms are?
> Are they any downsides to dropping the other tool, or is the Zonal
> Stats (QGIS) alg better in every way?
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170628/3632aa8d/attachment.html>

From nyall.dawson at gmail.com  Tue Jun 27 23:07:12 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 28 Jun 2017 16:07:12 +1000
Subject: [QGIS-Developer] Processing 3.0: Dropping
 non-QgsZonalStatistics zonal statistics algorithm
In-Reply-To: <CAC_qv=rywU=sXK+3QSwoXYtN1uJkC4MemofBKN7iwKO__iTmgQ@mail.gmail.com>
References: <CAC_qv=p0reYLrXP_ZxFL1LWj3O_YGfpuMc31ZMGpVeFiGJoKGg@mail.gmail.com>
 <CAB28AsgYDefBjNZCKw7jUqqOvVFa9UmxfRQeaivz+hjzb4Wj=A@mail.gmail.com>
 <CAC_qv=rywU=sXK+3QSwoXYtN1uJkC4MemofBKN7iwKO__iTmgQ@mail.gmail.com>
Message-ID: <CAB28AsifYAr00xb8OLvwmRVz29cvc-WL1+PhXCSoKLUsASha9g@mail.gmail.com>

On 28 June 2017 at 15:55, Mathieu Pellerin <nirvn.asia at gmail.com> wrote:
>

> Two statistical outputs (variance and mode) aren't available in QgsZonalStatistics-based alg, while two outputs (minority and majority) are missing from the alternate alg.

Thanks!

Mode = majority here, so both algs offer this value.

Variance is trivial to calculate from the standard deviation, so
that's not a significant loss.

I guess the other unknowns are speed & robustness of the two
algorithms. Is there any open bugs filed against either on hub?

Nyall

From alexander.bruy at gmail.com  Tue Jun 27 23:11:18 2017
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Wed, 28 Jun 2017 09:11:18 +0300
Subject: [QGIS-Developer] Processing 3.0: Dropping
 non-QgsZonalStatistics zonal statistics algorithm
In-Reply-To: <CAB28AsifYAr00xb8OLvwmRVz29cvc-WL1+PhXCSoKLUsASha9g@mail.gmail.com>
References: <CAC_qv=p0reYLrXP_ZxFL1LWj3O_YGfpuMc31ZMGpVeFiGJoKGg@mail.gmail.com>
 <CAB28AsgYDefBjNZCKw7jUqqOvVFa9UmxfRQeaivz+hjzb4Wj=A@mail.gmail.com>
 <CAC_qv=rywU=sXK+3QSwoXYtN1uJkC4MemofBKN7iwKO__iTmgQ@mail.gmail.com>
 <CAB28AsifYAr00xb8OLvwmRVz29cvc-WL1+PhXCSoKLUsASha9g@mail.gmail.com>
Message-ID: <CALuHMPBdjKeskePM3krktDNoQumaoQmRb=oGE1Crg3N=E5vPag@mail.gmail.com>

Hi,

alternate alg was introduced in the time, when QgsZonalStatistics offered
only some basic statistical information, e.g. min/max, count and couple of
other values and did not allow to select individual stats.

Now, when QgsZonalStatistics is much more powerful personally I (as author
if this alternate alg) see no sense in keeping other duplicated algorithm.

2017-06-28 9:07 GMT+03:00 Nyall Dawson <nyall.dawson at gmail.com>:
> On 28 June 2017 at 15:55, Mathieu Pellerin <nirvn.asia at gmail.com> wrote:
>>
>
>> Two statistical outputs (variance and mode) aren't available in QgsZonalStatistics-based alg, while two outputs (minority and majority) are missing from the alternate alg.
>
> Thanks!
>
> Mode = majority here, so both algs offer this value.
>
> Variance is trivial to calculate from the standard deviation, so
> that's not a significant loss.
>
> I guess the other unknowns are speed & robustness of the two
> algorithms. Is there any open bugs filed against either on hub?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alexander Bruy

From cavallini at faunalia.it  Tue Jun 27 23:23:37 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 28 Jun 2017 08:23:37 +0200
Subject: [QGIS-Developer] Processing 3.0: Dropping
	non-QgsZonalStatistics zonal statistics algorithm
In-Reply-To: <CAB28AsifYAr00xb8OLvwmRVz29cvc-WL1+PhXCSoKLUsASha9g@mail.gmail.com>
References: <CAC_qv=p0reYLrXP_ZxFL1LWj3O_YGfpuMc31ZMGpVeFiGJoKGg@mail.gmail.com>
 <CAB28AsgYDefBjNZCKw7jUqqOvVFa9UmxfRQeaivz+hjzb4Wj=A@mail.gmail.com>
 <CAC_qv=rywU=sXK+3QSwoXYtN1uJkC4MemofBKN7iwKO__iTmgQ@mail.gmail.com>
 <CAB28AsifYAr00xb8OLvwmRVz29cvc-WL1+PhXCSoKLUsASha9g@mail.gmail.com>
Message-ID: <BC97422B-A7D2-41F5-A9AC-D585552917A5@faunalia.it>

Il 28 giugno 2017 08:07:12 CEST, Nyall Dawson <nyall.dawson at gmail.com> ha scritto:
>On 28 June 2017 at 15:55, Mathieu Pellerin <nirvn.asia at gmail.com>
>wrote:
>>
>
>> Two statistical outputs (variance and mode) aren't available in
>QgsZonalStatistics-based alg, while two outputs (minority and majority)
>are missing from the alternate alg.
>
>Thanks!
>
>Mode = majority here, so both algs offer this value.
>
>Variance is trivial to calculate from the standard deviation, so
>that's not a significant loss.
>
>I guess the other unknowns are speed & robustness of the two
>algorithms. Is there any open bugs filed against either on hub?
>
>Nyall
>_______________________________________________
>QGIS-Developer mailing list
>QGIS-Developer at lists.osgeo.org
>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

Fine. Could we then rename from majority to mode? More understandable IMHO.
Would it be possible to also add variance?
Thanks.
-- 
Sent from mobile. Sorry for being short
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170628/65a6e27c/attachment.html>

From matteo.ghetta at gmail.com  Wed Jun 28 00:28:39 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 28 Jun 2017 09:28:39 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the
 Singlepart to Multipart algorithm
In-Reply-To: <81db24b7-6216-6ac6-e604-f41beae95cda@faunalia.it>
References: <CAB28AsgiyD6S0mxFRuzs0WXq-UWBW9R3E4X5Dc3_LF=mJfw-7Q@mail.gmail.com>
 <CAC_qv=oyzwDzSB_-x0XrBnD84sx2s-UNRaWFcrE-H7y-cA7_BA@mail.gmail.com>
 <b765d8fe-ad3d-6b85-dcc1-aba99942f75c@faunalia.it>
 <CAB28AsgLNVtGiC-Sf-a-TYccPtxQeUfqCLs1HujP5JHAFbpVGA@mail.gmail.com>
 <81db24b7-6216-6ac6-e604-f41beae95cda@faunalia.it>
Message-ID: <c1346620-a85b-dcd8-ecaf-65a597779f1c@gmail.com>

Hi,

> As we go for more sophisticated algs, having a good help system will be
> crucial. BTW, Alex, Matteo, what is the state of your work?

Alex did a great job that has already landed in the code:

https://github.com/qgis/QGIS/pull/4675

However, Processing is in big revolution right now, so before starting
to make also docs PR it is reeeeeeally better to have the final list of
algorithms that will be available there.

We are getting rid of many duplication, some algorithms will have some
parameter changed, etc.. the list of algorithms in the doc, so here for
QGIS for example:

http://docs.qgis.org/testing/en/docs/user_manual/processing_algs/qgis/

has to be updated with the algorithms that will be available in
Processing. So from the documentation part of view, I'll wait a little
bit more so to avoid useless work (although I've started to write some
docs locally that I'm sure they will be there).

>From the coding part of view, I think that the code is already there and
it is also "suffering" for the Processing refactoring but it should not
take many effort to adjust the code. But I'll let Alex comment on this

Thanks

Matteo

From nyall.dawson at gmail.com  Wed Jun 28 00:48:41 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 28 Jun 2017 17:48:41 +1000
Subject: [QGIS-Developer] Processing 3.0: Dropping
 non-QgsZonalStatistics zonal statistics algorithm
In-Reply-To: <BC97422B-A7D2-41F5-A9AC-D585552917A5@faunalia.it>
References: <CAC_qv=p0reYLrXP_ZxFL1LWj3O_YGfpuMc31ZMGpVeFiGJoKGg@mail.gmail.com>
 <CAB28AsgYDefBjNZCKw7jUqqOvVFa9UmxfRQeaivz+hjzb4Wj=A@mail.gmail.com>
 <CAC_qv=rywU=sXK+3QSwoXYtN1uJkC4MemofBKN7iwKO__iTmgQ@mail.gmail.com>
 <CAB28AsifYAr00xb8OLvwmRVz29cvc-WL1+PhXCSoKLUsASha9g@mail.gmail.com>
 <BC97422B-A7D2-41F5-A9AC-D585552917A5@faunalia.it>
Message-ID: <CAB28AsjgQh5ffmN98y+Bp3B3FjwchTbz9At3NyyC=h1nbnOTVw@mail.gmail.com>

On 28 June 2017 at 16:23, Paolo Cavallini <cavallini at faunalia.it> wrote:

>
>
> Fine. Could we then rename from majority to mode? More understandable IMHO.

We could just rename the option as "Majority (mode)" - does that work
for you? (or "Mode (majority)").

> Would it be possible to also add variance?

Should be trivial to do - it's just the square of the standard deviation.

Nyall

From nyall.dawson at gmail.com  Wed Jun 28 00:53:01 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 28 Jun 2017 17:53:01 +1000
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
Message-ID: <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>

On 28 June 2017 at 14:42, Paolo Cavallini <cavallini at faunalia.it> wrote:

> If we use the boolean as you suggested, I think the default should
> probably be all features.

That's fine by me.

Incidentally - how should we handle attributes here (and other similar
algorithms)? Take the first feature's attributes? Drop all attributes?

Nyall

From giohappy at gmail.com  Wed Jun 28 01:07:48 2017
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 28 Jun 2017 10:07:48 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
 <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
Message-ID: <CAB4g1=xRyrptp3=-FY0ZuVUDurukTByp5NS83U-GO2N_WtNhxg@mail.gmail.com>

I would set them to null. In general I wouldn't change the dataset fields
schema along the processing steps, except in case of algorithms dedicated
to this.
The same happens with Dissolve.

giovanni

Il 28 giu 2017 09:53, "Nyall Dawson" <nyall.dawson at gmail.com> ha scritto:

> On 28 June 2017 at 14:42, Paolo Cavallini <cavallini at faunalia.it> wrote:
>
> > If we use the boolean as you suggested, I think the default should
> > probably be all features.
>
> That's fine by me.
>
> Incidentally - how should we handle attributes here (and other similar
> algorithms)? Take the first feature's attributes? Drop all attributes?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170628/5b1a9810/attachment.html>

From giohappy at gmail.com  Wed Jun 28 01:10:26 2017
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 28 Jun 2017 10:10:26 +0200
Subject: [QGIS-Developer] Processing 3.0: spatial join and categorical fields
In-Reply-To: <CAB4g1=xOKbQKq9dc3eWyVpjMoqqTFJMsp6JAxiSc7emrpSwv7Q@mail.gmail.com>
References: <CAB4g1=x5rnAPZztGUM15wBBpS4s44nM5oFtbNQYxrWE3pBpvhQ@mail.gmail.com>
 <CAB4g1=xOKbQKq9dc3eWyVpjMoqqTFJMsp6JAxiSc7emrpSwv7Q@mail.gmail.com>
Message-ID: <CAB4g1=yYMrLGxJBM9ZMMx97Mxmu9jdnHEVtcUpQKcrmiAFZRbg@mail.gmail.com>

IMHO Spatial join should should provide an option to collect values in a
comma separated list of values in case of categorical (texts) values.
This is something I've been asked many times from users, and I always give
them a script to do it.

PS: This option is also available in a couple of widespread proprietary GIS
softwares.

giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170628/8d57643f/attachment.html>

From anitagraser at gmx.at  Wed Jun 28 01:16:38 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Wed, 28 Jun 2017 10:16:38 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
 <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
Message-ID: <CAFFV8FgrswhsnSBBYCCz8THG2zyd8eo0S=a1pNVT8GyCQ2G9AQ@mail.gmail.com>

On Wed, Jun 28, 2017 at 9:53 AM, Nyall Dawson <nyall.dawson at gmail.com>
wrote:
>
> Incidentally - how should we handle attributes here (and other similar
> algorithms)? Take the first feature's attributes? Drop all attributes?
>
>
​I would take the first feature's attributes because I've seen multiple
times that input datasets for aggregation algorithms (such as hulls,
dissolve, ...) are prepared in a way that the result represents a certain
class, e.g. all points where column "type" value is 'tree'. Why should we
delete the 'tree' value then ... ​

Best wishes,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170628/3e04dc4b/attachment.html>

From cavallini at faunalia.it  Wed Jun 28 01:18:38 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 28 Jun 2017 10:18:38 +0200
Subject: [QGIS-Developer] Processing 3.0: Dropping
 non-QgsZonalStatistics zonal statistics algorithm
In-Reply-To: <CAB28AsjgQh5ffmN98y+Bp3B3FjwchTbz9At3NyyC=h1nbnOTVw@mail.gmail.com>
References: <CAC_qv=p0reYLrXP_ZxFL1LWj3O_YGfpuMc31ZMGpVeFiGJoKGg@mail.gmail.com>
 <CAB28AsgYDefBjNZCKw7jUqqOvVFa9UmxfRQeaivz+hjzb4Wj=A@mail.gmail.com>
 <CAC_qv=rywU=sXK+3QSwoXYtN1uJkC4MemofBKN7iwKO__iTmgQ@mail.gmail.com>
 <CAB28AsifYAr00xb8OLvwmRVz29cvc-WL1+PhXCSoKLUsASha9g@mail.gmail.com>
 <BC97422B-A7D2-41F5-A9AC-D585552917A5@faunalia.it>
 <CAB28AsjgQh5ffmN98y+Bp3B3FjwchTbz9At3NyyC=h1nbnOTVw@mail.gmail.com>
Message-ID: <99715e06-46b6-bbf4-2b3a-c0a1720a5856@faunalia.it>

Il 28/06/2017 09:48, Nyall Dawson ha scritto:

> We could just rename the option as "Majority (mode)" - does that work
> for you? (or "Mode (majority)").

fine for me; I just think mode is much more used in stats.

>> Would it be possible to also add variance?
> 
> Should be trivial to do - it's just the square of the standard deviation.

sure - most users will find it convenient to have it ready made though.

all the best, and thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From giohappy at gmail.com  Wed Jun 28 01:23:20 2017
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 28 Jun 2017 10:23:20 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAFFV8FgrswhsnSBBYCCz8THG2zyd8eo0S=a1pNVT8GyCQ2G9AQ@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
 <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
 <CAFFV8FgrswhsnSBBYCCz8THG2zyd8eo0S=a1pNVT8GyCQ2G9AQ@mail.gmail.com>
Message-ID: <CAB4g1=wPmfCsggTVzinnXAx_DDm-wuGch95CRb+9_vnGusktkg@mail.gmail.com>

The best of two (but there would be a bit of overhead for the algorithm):
set them to null as soon as two different values are found, keep the first
encountered value otherwise (all the features with same value).

giovanni



2017-06-28 10:16 GMT+02:00 Anita Graser <anitagraser at gmx.at>:

>
>
> On Wed, Jun 28, 2017 at 9:53 AM, Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>>
>> Incidentally - how should we handle attributes here (and other similar
>> algorithms)? Take the first feature's attributes? Drop all attributes?
>>
>>
> ​I would take the first feature's attributes because I've seen multiple
> times that input datasets for aggregation algorithms (such as hulls,
> dissolve, ...) are prepared in a way that the result represents a certain
> class, e.g. all points where column "type" value is 'tree'. Why should we
> delete the 'tree' value then ... ​
>
> Best wishes,
> Anita
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170628/a9e37f7f/attachment-0001.html>

From hakufu.asano at gmail.com  Wed Jun 28 14:34:04 2017
From: hakufu.asano at gmail.com (Tao Lu)
Date: Thu, 29 Jun 2017 06:34:04 +0900
Subject: [QGIS-Developer] How long will plugin be approved?
Message-ID: <AEDBBBD7-CD9F-4E44-BE0A-7F3377DBC7AA@gmail.com>

Hi

I have uploaded a plugin 10 days ago.
http://plugins.qgis.org/plugins/SuperLabeling/
I want to know how long will the plugin be approved?

Thanks,
Tao
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170629/d5d89c6d/attachment.html>

From cavallini at faunalia.it  Wed Jun 28 14:44:36 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 28 Jun 2017 23:44:36 +0200
Subject: [QGIS-Developer] How long will plugin be approved?
In-Reply-To: <AEDBBBD7-CD9F-4E44-BE0A-7F3377DBC7AA@gmail.com>
References: <AEDBBBD7-CD9F-4E44-BE0A-7F3377DBC7AA@gmail.com>
Message-ID: <42AF69F0-22DB-464C-B486-2B2DDD529DA4@faunalia.it>

Il 28 giugno 2017 23:34:04 CEST, Tao Lu <hakufu.asano at gmail.com> ha scritto:
>Hi
>
>I have uploaded a plugin 10 days ago.
>http://plugins.qgis.org/plugins/SuperLabeling/
>I want to know how long will the plugin be approved?
>
>Thanks,
>Tao

Please have a look to the bugtracker.
Thanks.
-- 
Sent from mobile. Sorry for being short
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170628/328b3fd0/attachment.html>

From wuzzyview at gmail.com  Wed Jun 28 19:03:16 2017
From: wuzzyview at gmail.com (fasiha)
Date: Wed, 28 Jun 2017 19:03:16 -0700 (MST)
Subject: [QGIS-Developer] native XYZ layers - zoom level
In-Reply-To: <CAExk7p2bTdCuUg7ZMGLYSOr2hQW4HBTJ7rZLt6r0k37X+4CmQw@mail.gmail.com>
References: <CAExk7p1TYs1tgcSds8mw1T1Dubc4XGJaApNPHM-YGxAzex5adw@mail.gmail.com>
 <CAC2XbFcrpdsgUsje9CDzPu85Li0rUQ04UmwBCX-nGHmWSPthjg@mail.gmail.com>
 <CAExk7p2bTdCuUg7ZMGLYSOr2hQW4HBTJ7rZLt6r0k37X+4CmQw@mail.gmail.com>
Message-ID: <1498701796785-5325931.post@n6.nabble.com>

olivier wrote
> Awesome that will perfectly do until 3.0.

Olivier, could you elaborate just a bit on how to do this in 2.18? I’m a
QGIS beginner, I can bring up the Python Console in QGIS, but then what
function do I invoke that will create an XYZ tile layer where I can specify
zmin/zmax?

Thank you!



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-native-XYZ-layers-zoom-level-tp5324030p5325931.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From nirvn.asia at gmail.com  Wed Jun 28 19:55:47 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Thu, 29 Jun 2017 09:55:47 +0700
Subject: [QGIS-Developer] Processing 3.0: Dropping
 non-QgsZonalStatistics zonal statistics algorithm
In-Reply-To: <99715e06-46b6-bbf4-2b3a-c0a1720a5856@faunalia.it>
References: <CAC_qv=p0reYLrXP_ZxFL1LWj3O_YGfpuMc31ZMGpVeFiGJoKGg@mail.gmail.com>
 <CAB28AsgYDefBjNZCKw7jUqqOvVFa9UmxfRQeaivz+hjzb4Wj=A@mail.gmail.com>
 <CAC_qv=rywU=sXK+3QSwoXYtN1uJkC4MemofBKN7iwKO__iTmgQ@mail.gmail.com>
 <CAB28AsifYAr00xb8OLvwmRVz29cvc-WL1+PhXCSoKLUsASha9g@mail.gmail.com>
 <BC97422B-A7D2-41F5-A9AC-D585552917A5@faunalia.it>
 <CAB28AsjgQh5ffmN98y+Bp3B3FjwchTbz9At3NyyC=h1nbnOTVw@mail.gmail.com>
 <99715e06-46b6-bbf4-2b3a-c0a1720a5856@faunalia.it>
Message-ID: <CAC_qv=rFvGGDkZLHHR6_8n-dX+G8CrFYVS3deFuWDhQYvbzCug@mail.gmail.com>

This PR (https://github.com/qgis/QGIS/pull/4792) adds variance to
QgsZonalStatistics, and remove the duplicate processing zonal statistics
algorithm on the basis of a general consensus in this mail tread and more
importantly its author, Alexander Bruy, agreeing.

Thanks for the time spent discussing this.

On Wed, Jun 28, 2017 at 3:18 PM, Paolo Cavallini <cavallini at faunalia.it>
wrote:

> Il 28/06/2017 09:48, Nyall Dawson ha scritto:
>
> > We could just rename the option as "Majority (mode)" - does that work
> > for you? (or "Mode (majority)").
>
> fine for me; I just think mode is much more used in stats.
>
> >> Would it be possible to also add variance?
> >
> > Should be trivial to do - it's just the square of the standard deviation.
>
> sure - most users will find it convenient to have it ready made though.
>
> all the best, and thanks.
>
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170629/5adf4aea/attachment.html>

From cavallini at faunalia.it  Wed Jun 28 23:27:01 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 29 Jun 2017 08:27:01 +0200
Subject: [QGIS-Developer] Testing Q3 Processing
Message-ID: <0f57b38a-990e-7e31-6e09-fd0e96e17c05@faunalia.it>

Hi all,
I'm testing the new Processing on master. To do this with some order,
I'm following the training manual:
http://docs.qgis.org/2.18/en/docs/training_manual/processing/index.html
and I'll report any issue. Should I just send a message here, or open a
ticket?
as I go, I stumble across commands still to be ported: should I mention
them here? Is anybody available helping for the porting?
Thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From nyall.dawson at gmail.com  Wed Jun 28 23:33:24 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 29 Jun 2017 16:33:24 +1000
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAB4g1=wPmfCsggTVzinnXAx_DDm-wuGch95CRb+9_vnGusktkg@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
 <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
 <CAFFV8FgrswhsnSBBYCCz8THG2zyd8eo0S=a1pNVT8GyCQ2G9AQ@mail.gmail.com>
 <CAB4g1=wPmfCsggTVzinnXAx_DDm-wuGch95CRb+9_vnGusktkg@mail.gmail.com>
Message-ID: <CAB28Asg8ABVrmYjGg02NE+rM_jVd35g8=eW4UHa=4XtnzPdvFA@mail.gmail.com>

On 28 June 2017 at 18:23, G. Allegri <giohappy at gmail.com> wrote:
> The best of two (but there would be a bit of overhead for the algorithm):
> set them to null as soon as two different values are found, keep the first
> encountered value otherwise (all the features with same value).
>

Ok - I've actually had a bit of a change of mind here, and am backing
down from my "single function modular algorithm" stance.

I'll keep the grouping option but will refine it's behavior. I propose:

1. Allowing multiple field selection for grouping
2. Keeping attributes of first feature when grouping
3. Dropping the "mode" selection combo - if fields are selected, the
grouping occurs. If not, no grouping - per feature hull is made.

I'll leave the possible inclusion of a "whole layer" hull as a
separate future enhancement.

Nyall

From nyall.dawson at gmail.com  Wed Jun 28 23:36:43 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 29 Jun 2017 16:36:43 +1000
Subject: [QGIS-Developer] Testing Q3 Processing
In-Reply-To: <0f57b38a-990e-7e31-6e09-fd0e96e17c05@faunalia.it>
References: <0f57b38a-990e-7e31-6e09-fd0e96e17c05@faunalia.it>
Message-ID: <CAB28Ash5J4Vdk0LbS21BHM+yFkxJmQuNHg719t0o3Dfh=s2O5w@mail.gmail.com>

On 29 June 2017 at 16:27, Paolo Cavallini <cavallini at faunalia.it> wrote:
> Hi all,
> I'm testing the new Processing on master. To do this with some order,
> I'm following the training manual:
> http://docs.qgis.org/2.18/en/docs/training_manual/processing/index.html
> and I'll report any issue. Should I just send a message here, or open a
> ticket?

Just open them here initially thanks.

> as I go, I stumble across commands still to be ported: should I mention
> them here? Is anybody available helping for the porting?

It's probably not necessary. There's a large list of commented out
algorithms which need porting, which acts as the "todo" list.

Stay tuned for news soon regarding helping with porting :)

Nyall

From cavallini at faunalia.it  Thu Jun 29 00:00:50 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 29 Jun 2017 09:00:50 +0200
Subject: [QGIS-Developer] Testing Q3 Processing
In-Reply-To: <CAB28Ash5J4Vdk0LbS21BHM+yFkxJmQuNHg719t0o3Dfh=s2O5w@mail.gmail.com>
References: <0f57b38a-990e-7e31-6e09-fd0e96e17c05@faunalia.it>
 <CAB28Ash5J4Vdk0LbS21BHM+yFkxJmQuNHg719t0o3Dfh=s2O5w@mail.gmail.com>
Message-ID: <42a4cd30-0b67-609e-94c8-481897a2dba4@faunalia.it>

Il 29/06/2017 08:36, Nyall Dawson ha scritto:
> On 29 June 2017 at 16:27, Paolo Cavallini <cavallini at faunalia.it> wrote:
>> Hi all,
>> I'm testing the new Processing on master. To do this with some order,
>> I'm following the training manual:
>> http://docs.qgis.org/2.18/en/docs/training_manual/processing/index.html
>> and I'll report any issue. Should I just send a message here, or open a
>> ticket?
> 
> Just open them here initially thanks.
> 
>> as I go, I stumble across commands still to be ported: should I mention
>> them here? Is anybody available helping for the porting?
> 
> It's probably not necessary. There's a large list of commented out
> algorithms which need porting, which acts as the "todo" list.
> 
> Stay tuned for news soon regarding helping with porting :)

OK, thanks

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From cavallini at faunalia.it  Thu Jun 29 00:04:00 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 29 Jun 2017 09:04:00 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAB28Asg8ABVrmYjGg02NE+rM_jVd35g8=eW4UHa=4XtnzPdvFA@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
 <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
 <CAFFV8FgrswhsnSBBYCCz8THG2zyd8eo0S=a1pNVT8GyCQ2G9AQ@mail.gmail.com>
 <CAB4g1=wPmfCsggTVzinnXAx_DDm-wuGch95CRb+9_vnGusktkg@mail.gmail.com>
 <CAB28Asg8ABVrmYjGg02NE+rM_jVd35g8=eW4UHa=4XtnzPdvFA@mail.gmail.com>
Message-ID: <5ddd3e22-1fce-46e3-11c4-0058e0c627e7@faunalia.it>

Il 29/06/2017 08:33, Nyall Dawson ha scritto:
> On 28 June 2017 at 18:23, G. Allegri <giohappy at gmail.com> wrote:
>> The best of two (but there would be a bit of overhead for the algorithm):
>> set them to null as soon as two different values are found, keep the first
>> encountered value otherwise (all the features with same value).
>>
> 
> Ok - I've actually had a bit of a change of mind here, and am backing
> down from my "single function modular algorithm" stance.
> 
> I'll keep the grouping option but will refine it's behavior. I propose:
> 
> 1. Allowing multiple field selection for grouping
> 2. Keeping attributes of first feature when grouping
> 3. Dropping the "mode" selection combo - if fields are selected, the
> grouping occurs. If not, no grouping - per feature hull is made.
> 
> I'll leave the possible inclusion of a "whole layer" hull as a
> separate future enhancement.

IMHO this last is a far more common requirement for users compared to
one hull per feature. Or, in fact, your approach makes sense to me for
polygons and lines, not for points. Of course having two different
behaviours of the same command for two different layer types is even
more puzzling.
All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From Roberto.Poltini at gruppoiren.it  Thu Jun 29 00:54:49 2017
From: Roberto.Poltini at gruppoiren.it (Poltini Roberto)
Date: Thu, 29 Jun 2017 07:54:49 +0000
Subject: [QGIS-Developer] How to exit QGIS after running a python script ?
Message-ID: <B1BDA7B93091A044A4878A686846FDB7010E34E20D@SRVEXMB11.master.local>

Hi all,
   I would like to run a python script via qgis --code myscript.py and then immediately exit. I'm using iface.actionExit().trigger(), which kills QGIS when I run it from the python console, but not when put in the script that I pass to –code.
What's the right way to immediately exit? I'm running QGIS 2.14 on win 7.
Thanks
Roberto Poltini

________________________________
Per essere informati sulle novità del Gruppo Iren, vi invitiamo a registrarvi alla nostra mailing list, all’indirizzo "http://www.gruppoiren.it/"<http://www.gruppoiren.it/> .

È possibile, inoltre, avanzare nuove idee e progetti per il territorio e seguire quelli già attivi nei Comitati Territoriali del Gruppo Iren, consultando "http://www.Irencollabora.it"<http://www.Irencollabora.it>

You can also suggest new ideas and initiatives for the territory and view those already active in the Iren Group Territorial Committees "http://www.Irencollabora.it"<http://www.Irencollabora.it>

Le informazioni contenute nella presente comunicazione e i relativi allegati possono essere riservate e sono, comunque, destinate esclusivamente alle persone o alla Società sopraindicati. La diffusione, distribuzione e/o copiatura del documento trasmesso da parte di qualsiasi soggetto diverso dal destinatario è proibita, sia ai sensi dell’art. 616 c.p. , che ai sensi del D.Lgs. n. 196/2003. Se avete ricevuto questo messaggio per errore, vi preghiamo di distruggerlo e di informare immediatamente il mittente.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170629/4f27e4e6/attachment.html>

From denis.rouzaud at gmail.com  Thu Jun 29 01:04:25 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 29 Jun 2017 08:04:25 +0000
Subject: [QGIS-Developer] How to exit QGIS after running a python script
	?
In-Reply-To: <B1BDA7B93091A044A4878A686846FDB7010E34E20D@SRVEXMB11.master.local>
References: <B1BDA7B93091A044A4878A686846FDB7010E34E20D@SRVEXMB11.master.local>
Message-ID: <CAMtsY+amfOeVAyrfcigXwgVJZp+PYsg546mTfYxKsccWcUtkaQ@mail.gmail.com>

Hi Roberto,

I had some success with

QCoreApplication.processEvents()
QgsApplication.exitQgis()

Denis

Le jeu. 29 juin 2017 à 10:00, Poltini Roberto <Roberto.Poltini at gruppoiren.it>
a écrit :

> Hi all,
>
>    I would like to run a python script via qgis --code myscript.py and
> then immediately exit. I'm using iface.actionExit().trigger(), which
> kills QGIS when I run it from the python console, but not when put in the
> script that I pass to –code.
>
> What's the right way to immediately exit? I'm running QGIS 2.14 on win 7.
>
> Thanks
>
> Roberto Poltini
>
>
> ------------------------------
> Per essere informati sulle novità del Gruppo Iren, vi invitiamo a
> registrarvi alla nostra mailing list, all’indirizzo
> "http://www.gruppoiren.it/" <http://www.gruppoiren.it/> .
>
> È possibile, inoltre, avanzare nuove idee e progetti per il territorio e
> seguire quelli già attivi nei Comitati Territoriali del Gruppo Iren,
> consultando "http://www.Irencollabora.it" <http://www.Irencollabora.it>
>
> You can also suggest new ideas and initiatives for the territory and view
> those already active in the Iren Group Territorial Committees
> "http://www.Irencollabora.it" <http://www.Irencollabora.it>
>
> Le informazioni contenute nella presente comunicazione e i relativi
> allegati possono essere riservate e sono, comunque, destinate
> esclusivamente alle persone o alla Società sopraindicati. La diffusione,
> distribuzione e/o copiatura del documento trasmesso da parte di qualsiasi
> soggetto diverso dal destinatario è proibita, sia ai sensi dell’art. 616
> c.p. , che ai sensi del D.Lgs. n. 196/2003. Se avete ricevuto questo
> messaggio per errore, vi preghiamo di distruggerlo e di informare
> immediatamente il mittente.
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170629/9c879045/attachment.html>

From giohappy at gmail.com  Thu Jun 29 01:21:45 2017
From: giohappy at gmail.com (G. Allegri)
Date: Thu, 29 Jun 2017 10:21:45 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAB28Asg8ABVrmYjGg02NE+rM_jVd35g8=eW4UHa=4XtnzPdvFA@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
 <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
 <CAFFV8FgrswhsnSBBYCCz8THG2zyd8eo0S=a1pNVT8GyCQ2G9AQ@mail.gmail.com>
 <CAB4g1=wPmfCsggTVzinnXAx_DDm-wuGch95CRb+9_vnGusktkg@mail.gmail.com>
 <CAB28Asg8ABVrmYjGg02NE+rM_jVd35g8=eW4UHa=4XtnzPdvFA@mail.gmail.com>
Message-ID: <CAB4g1=xZEmkm53U-3dM8KCH1ta_bm8smw7JBf-+FoEp==aZYvA@mail.gmail.com>

1. Allowing multiple field selection for grouping
2. Keeping attributes of first feature when grouping


I will accept this criteria, obviously, if it's the preferred solution for
the mosts.
I just want to report that many users (partecipants to courses or
customers) say they find having the "first feature value" misleading.
I agree with them. I would set the field values only for the grouping
fields, having the same value within the group, and set null for the other
fields.

The problem raises during a long workflow. At some point you obtain a
dataset with unconsisten field values, and it's not always obvious to know
when and.which field value was set miningless.

giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170629/6c06ca17/attachment-0001.html>

From nyall.dawson at gmail.com  Thu Jun 29 01:32:54 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 29 Jun 2017 18:32:54 +1000
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAB4g1=xZEmkm53U-3dM8KCH1ta_bm8smw7JBf-+FoEp==aZYvA@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
 <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
 <CAFFV8FgrswhsnSBBYCCz8THG2zyd8eo0S=a1pNVT8GyCQ2G9AQ@mail.gmail.com>
 <CAB4g1=wPmfCsggTVzinnXAx_DDm-wuGch95CRb+9_vnGusktkg@mail.gmail.com>
 <CAB28Asg8ABVrmYjGg02NE+rM_jVd35g8=eW4UHa=4XtnzPdvFA@mail.gmail.com>
 <CAB4g1=xZEmkm53U-3dM8KCH1ta_bm8smw7JBf-+FoEp==aZYvA@mail.gmail.com>
Message-ID: <CAB28Ashg0H4vxCWV015V9jw0TxLjrcvu==k0ttUkr0sByWN1+A@mail.gmail.com>

On 29 June 2017 at 18:21, G. Allegri <giohappy at gmail.com> wrote:
>
> 1. Allowing multiple field selection for grouping
> 2. Keeping attributes of first feature when grouping
>
>
> I will accept this criteria, obviously, if it's the preferred solution for
> the mosts.
> I just want to report that many users (partecipants to courses or customers)
> say they find having the "first feature value" misleading.
> I agree with them. I would set the field values only for the grouping
> fields, having the same value within the group, and set null for the other
> fields.
>
> The problem raises during a long workflow. At some point you obtain a
> dataset with unconsisten field values, and it's not always obvious to know
> when and.which field value was set miningless.

That's fair enough reasoning. Paolo/Anita are you OK with that logic?

Nyall

From noreply at qgis.org  Thu Jun 29 01:39:37 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 29 Jun 2017 08:39:37 -0000
Subject: [QGIS-Developer] Plugin [1037] Kortforsyningen approval
	notification.
Message-ID: <20170629083937.21654.38947@320558c5528b>


Plugin Kortforsyningen approval by pcav.
The plugin version "[1037] Kortforsyningen 1.1" is now approved
Link: http://plugins.qgis.org/plugins/Kortforsyningen/

From anitagraser at gmx.at  Thu Jun 29 01:41:12 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Thu, 29 Jun 2017 10:41:12 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAB28Ashg0H4vxCWV015V9jw0TxLjrcvu==k0ttUkr0sByWN1+A@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
 <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
 <CAFFV8FgrswhsnSBBYCCz8THG2zyd8eo0S=a1pNVT8GyCQ2G9AQ@mail.gmail.com>
 <CAB4g1=wPmfCsggTVzinnXAx_DDm-wuGch95CRb+9_vnGusktkg@mail.gmail.com>
 <CAB28Asg8ABVrmYjGg02NE+rM_jVd35g8=eW4UHa=4XtnzPdvFA@mail.gmail.com>
 <CAB4g1=xZEmkm53U-3dM8KCH1ta_bm8smw7JBf-+FoEp==aZYvA@mail.gmail.com>
 <CAB28Ashg0H4vxCWV015V9jw0TxLjrcvu==k0ttUkr0sByWN1+A@mail.gmail.com>
Message-ID: <CAFFV8Fi0=Kkre8+OJ9Vg3tyGQR8jnYcN-v7v8zSx4sd4Qox22w@mail.gmail.com>

On Thu, Jun 29, 2017 at 10:32 AM, Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On 29 June 2017 at 18:21, G. Allegri <giohappy at gmail.com> wrote:
> >
> > 1. Allowing multiple field selection for grouping
> > 2. Keeping attributes of first feature when grouping
> >
> >
> > I will accept this criteria, obviously, if it's the preferred solution
> for
> > the mosts.
> > I just want to report that many users (partecipants to courses or
> customers)
> > say they find having the "first feature value" misleading.
> > I agree with them. I would set the field values only for the grouping
> > fields, having the same value within the group, and set null for the
> other
> > fields.
> >
> > The problem raises during a long workflow. At some point you obtain a
> > dataset with unconsisten field values, and it's not always obvious to
> know
> > when and.which field value was set miningless.
>
> That's fair enough reasoning. Paolo/Anita are you OK with that logic?


​Sounds OK to me if it is possible to select multiple grouping fields.

Best wishes,
Anita

​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170629/c82db03c/attachment.html>

From cavallini at faunalia.it  Thu Jun 29 01:54:32 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 29 Jun 2017 10:54:32 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAFFV8Fi0=Kkre8+OJ9Vg3tyGQR8jnYcN-v7v8zSx4sd4Qox22w@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
 <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
 <CAFFV8FgrswhsnSBBYCCz8THG2zyd8eo0S=a1pNVT8GyCQ2G9AQ@mail.gmail.com>
 <CAB4g1=wPmfCsggTVzinnXAx_DDm-wuGch95CRb+9_vnGusktkg@mail.gmail.com>
 <CAB28Asg8ABVrmYjGg02NE+rM_jVd35g8=eW4UHa=4XtnzPdvFA@mail.gmail.com>
 <CAB4g1=xZEmkm53U-3dM8KCH1ta_bm8smw7JBf-+FoEp==aZYvA@mail.gmail.com>
 <CAB28Ashg0H4vxCWV015V9jw0TxLjrcvu==k0ttUkr0sByWN1+A@mail.gmail.com>
 <CAFFV8Fi0=Kkre8+OJ9Vg3tyGQR8jnYcN-v7v8zSx4sd4Qox22w@mail.gmail.com>
Message-ID: <862db105-7746-76c3-c431-be59c711b5c0@faunalia.it>

Il 29/06/2017 10:41, Anita Graser ha scritto:

> ​Sounds OK to me if it is possible to select multiple grouping fields.

+1
thanks
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From cavallini at faunalia.it  Thu Jun 29 02:11:06 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 29 Jun 2017 11:11:06 +0200
Subject: [QGIS-Developer] Testing Q3 Processing
In-Reply-To: <42a4cd30-0b67-609e-94c8-481897a2dba4@faunalia.it>
References: <0f57b38a-990e-7e31-6e09-fd0e96e17c05@faunalia.it>
 <CAB28Ash5J4Vdk0LbS21BHM+yFkxJmQuNHg719t0o3Dfh=s2O5w@mail.gmail.com>
 <42a4cd30-0b67-609e-94c8-481897a2dba4@faunalia.it>
Message-ID: <a9092c9e-46e7-5934-8fa8-c7e53a1f3457@faunalia.it>

Il 29/06/2017 09:00, Paolo Cavallini ha scritto:
> Il 29/06/2017 08:36, Nyall Dawson ha scritto:
>> On 29 June 2017 at 16:27, Paolo Cavallini <cavallini at faunalia.it> wrote:
>>> Hi all,
>>> I'm testing the new Processing on master. To do this with some order,
>>> I'm following the training manual:
>>> http://docs.qgis.org/2.18/en/docs/training_manual/processing/index.html
>>> and I'll report any issue. Should I just send a message here, or open a
>>> ticket?
>>
>> Just open them here initially thanks.

One minor issue: in the Options, the `Default output raster layer (it
should be "file" BTW) extension` includes vector extensions.
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From cavallini at faunalia.it  Thu Jun 29 02:20:31 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 29 Jun 2017 11:20:31 +0200
Subject: [QGIS-Developer] Testing Q3 Processing
In-Reply-To: <a9092c9e-46e7-5934-8fa8-c7e53a1f3457@faunalia.it>
References: <0f57b38a-990e-7e31-6e09-fd0e96e17c05@faunalia.it>
 <CAB28Ash5J4Vdk0LbS21BHM+yFkxJmQuNHg719t0o3Dfh=s2O5w@mail.gmail.com>
 <42a4cd30-0b67-609e-94c8-481897a2dba4@faunalia.it>
 <a9092c9e-46e7-5934-8fa8-c7e53a1f3457@faunalia.it>
Message-ID: <700a4148-2922-aad5-3cd4-61e6677d63ab@faunalia.it>

> Il 29/06/2017 09:00, Paolo Cavallini ha scritto:
>> Il 29/06/2017 08:36, Nyall Dawson ha scritto:

>>>> and I'll report any issue. Should I just send a message here, or open a
>>>> ticket?
>>>
>>> Just open them here initially thanks.

One more issue: when buffering invalid geoms, the buffers are correctly
generated when choosing the "Do not filter..." option. No geom, as
expected, is generated when choosing "Ignore features...".
"Stop alg..." however, results in an error:

AttributeError: 'QgsProcessingParameterEnum' object has no attribute
'generateTemporaryDestination'
Traceback (most recent call last):
  File
"/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/gui/AlgorithmDialog.py",
line 173, in accept
    parameters = self.getParamValues()
  File
"/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/gui/AlgorithmDialog.py",
line 124, in getParamValues
    value = self.mainWidget.outputWidgets[param.name()].getValue()
  File
"/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/gui/DestinationSelectionPanel.py",
line 271, in getValue
    key = self.parameter.generateTemporaryDestination()
AttributeError: 'QgsProcessingParameterEnum' object has no attribute
'generateTemporaryDestination'


Versione Python: 3.5.3+ (default, Jun  7 2017, 23:23:48) [GCC 6.3.0
20170516]
Versione di QGIS: 2.99.0-Master Master, exported

All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From noreply at qgis.org  Thu Jun 29 03:33:34 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 29 Jun 2017 10:33:34 -0000
Subject: [QGIS-Developer] Plugin [1263] Hazard Zones by Flow approval
	notification.
Message-ID: <20170629103334.21604.97670@320558c5528b>


Plugin Hazard Zones by Flow approval by pcav.
The plugin version "[1263] Hazard Zones by Flow 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/Hazard-Zones-by-Flow-master/

From robert at szczepanek.pl  Thu Jun 29 05:36:19 2017
From: robert at szczepanek.pl (Robert Szczepanek)
Date: Thu, 29 Jun 2017 14:36:19 +0200
Subject: [QGIS-Developer] Improve icon set
Message-ID: <844ddc2b-ca0d-01c5-5780-a10b20aca888@szczepanek.pl>

With regard to upcoming QGIS 3 [1], I want to ask your for opinions and 
proposals on updating current icon set.
As proposed by Markus, we will focus however not only on icons for QGIS, 
but consider also other OSGeo projects, like GRASS.
Please write your comments in *OSGeo Graphics* mailing list [2] or 
directly in GIS-icons issues [3].

This message is cross-posted, so please open new threads in Graphics ML.

regards
Robert Szczepanek

[1] https://lists.osgeo.org/pipermail/qgis-psc/2017-June/005387.html
[2] https://lists.osgeo.org/listinfo/graphics]
[3] https://github.com/Cracert/GIS-icons

From noreply at qgis.org  Thu Jun 29 06:29:43 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 29 Jun 2017 13:29:43 -0000
Subject: [QGIS-Developer] Plugin [788] Space Syntax Toolkit approval
	notification.
Message-ID: <20170629132943.18604.31617@320558c5528b>


Plugin Space Syntax Toolkit approval by pcav.
The plugin version "[788] Space Syntax Toolkit 0.2.0" is now approved
Link: http://plugins.qgis.org/plugins/esstoolkit/

From semiautomatic.blogger at gmail.com  Thu Jun 29 12:25:06 2017
From: semiautomatic.blogger at gmail.com (Luca Congedo)
Date: Thu, 29 Jun 2017 21:25:06 +0200
Subject: [QGIS-Developer] QgsVectorFileWriter and MultiPolygon
Message-ID: <CA+1ajVvQGA9KE63W+zrvHX9qc_TcOE3qzpuvMH_ixhrX3W18mQ@mail.gmail.com>

Hello everybody,

I am using the new QGIS 3 API to create a multipolygon shapefile using the
following code in python console:

import qgis.core as qgisCore
from PyQt5.QtCore import QVariant
crs = qgisCore.QgsCoordinateReferenceSystem("epsg:4326")
fields = qgisCore.QgsFields()
fN = "field"
fields.append(qgisCore.QgsField(fN, QVariant.Int))
outputVector = '/home/user/Desktop/vector.shp'
qgisCore.QgsVectorFileWriter(str(outputVector), "CP1250", fields,
qgisCore.QgsWkbTypes.MultiPolygon, crs, "ESRI Shapefile")
v = qgisCore.QgsVectorLayer(outputVector, "vector", "ogr")
v.wkbType()
# returns type 3

Apparently the created shapefile is not multipolygon. Am I missing
something? Or should I open a ticket?

Thank you,
Luca
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170629/9b8c824f/attachment.html>

From giohappy at gmail.com  Thu Jun 29 15:27:07 2017
From: giohappy at gmail.com (G. Allegri)
Date: Fri, 30 Jun 2017 00:27:07 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <862db105-7746-76c3-c431-be59c711b5c0@faunalia.it>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
 <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
 <CAFFV8FgrswhsnSBBYCCz8THG2zyd8eo0S=a1pNVT8GyCQ2G9AQ@mail.gmail.com>
 <CAB4g1=wPmfCsggTVzinnXAx_DDm-wuGch95CRb+9_vnGusktkg@mail.gmail.com>
 <CAB28Asg8ABVrmYjGg02NE+rM_jVd35g8=eW4UHa=4XtnzPdvFA@mail.gmail.com>
 <CAB4g1=xZEmkm53U-3dM8KCH1ta_bm8smw7JBf-+FoEp==aZYvA@mail.gmail.com>
 <CAB28Ashg0H4vxCWV015V9jw0TxLjrcvu==k0ttUkr0sByWN1+A@mail.gmail.com>
 <CAFFV8Fi0=Kkre8+OJ9Vg3tyGQR8jnYcN-v7v8zSx4sd4Qox22w@mail.gmail.com>
 <862db105-7746-76c3-c431-be59c711b5c0@faunalia.it>
Message-ID: <CAB4g1=xvkAkd3Wp9ivex5qGRViBSrGuqbVqL9gU+LQM2gPpeQQ@mail.gmail.com>

Side note: I would apply the same approach to all the "grouping"
algorithms, e.g. Dissolve.

giovanni

Il 29 giu 2017 10:54, "Paolo Cavallini" <cavallini at faunalia.it> ha scritto:

> Il 29/06/2017 10:41, Anita Graser ha scritto:
>
> > ​Sounds OK to me if it is possible to select multiple grouping fields.
>
> +1
> thanks
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170630/4becebd0/attachment.html>

From noreply at qgis.org  Thu Jun 29 21:14:34 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 30 Jun 2017 04:14:34 -0000
Subject: [QGIS-Developer] Plugin [730] Line direction histogram approval
	notification.
Message-ID: <20170630041434.28854.54578@320558c5528b>


Plugin Line direction histogram approval by pcav.
The plugin version "[730] Line direction histogram 2.1" is now approved
Link: http://plugins.qgis.org/plugins/LineDirectionHistogram/

From noreply at qgis.org  Thu Jun 29 21:16:29 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 30 Jun 2017 04:16:29 -0000
Subject: [QGIS-Developer] Plugin [1257] SuperLabeling approval notification.
Message-ID: <20170630041629.18604.88556@320558c5528b>


Plugin SuperLabeling approval by pcav.
The plugin version "[1257] SuperLabeling ver.1.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/SuperLabeling/

From noreply at qgis.org  Thu Jun 29 21:16:34 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 30 Jun 2017 04:16:34 -0000
Subject: [QGIS-Developer] Plugin [1257] SuperLabeling approval notification.
Message-ID: <20170630041634.18604.34856@320558c5528b>


Plugin SuperLabeling approval by pcav.
The plugin version "[1257] SuperLabeling ver.1.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/SuperLabeling/

From noreply at qgis.org  Thu Jun 29 21:16:38 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 30 Jun 2017 04:16:38 -0000
Subject: [QGIS-Developer] Plugin [1257] SuperLabeling approval notification.
Message-ID: <20170630041638.28854.5206@320558c5528b>


Plugin SuperLabeling approval by pcav.
The plugin version "[1257] SuperLabeling ver.1.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/SuperLabeling/

From noreply at qgis.org  Thu Jun 29 21:53:48 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 30 Jun 2017 04:53:48 -0000
Subject: [QGIS-Developer] Plugin [1257] SuperLabeling approval notification.
Message-ID: <20170630045348.28854.68568@320558c5528b>


Plugin SuperLabeling approval by pcav.
The plugin version "[1257] SuperLabeling ver.1.2" is now approved
Link: http://plugins.qgis.org/plugins/SuperLabeling/

From matthias at opengis.ch  Thu Jun 29 22:47:05 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 30 Jun 2017 07:47:05 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <CAB4g1=xZEmkm53U-3dM8KCH1ta_bm8smw7JBf-+FoEp==aZYvA@mail.gmail.com>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
 <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
 <CAFFV8FgrswhsnSBBYCCz8THG2zyd8eo0S=a1pNVT8GyCQ2G9AQ@mail.gmail.com>
 <CAB4g1=wPmfCsggTVzinnXAx_DDm-wuGch95CRb+9_vnGusktkg@mail.gmail.com>
 <CAB28Asg8ABVrmYjGg02NE+rM_jVd35g8=eW4UHa=4XtnzPdvFA@mail.gmail.com>
 <CAB4g1=xZEmkm53U-3dM8KCH1ta_bm8smw7JBf-+FoEp==aZYvA@mail.gmail.com>
Message-ID: <7564f6d0-e779-34b6-58bc-2d28c5a4ab7e@opengis.ch>

On 6/29/17 10:21 AM, G. Allegri wrote:

>
>     1. Allowing multiple field selection for grouping
>     2. Keeping attributes of first feature when grouping
>
>
> I will accept this criteria, obviously, if it's the preferred solution
> for the mosts. 
> I just want to report that many users (partecipants to courses or
> customers) say they find having the "first feature value" misleading. 
> I agree with them. I would set the field values only for the grouping
> fields, having the same value within the group, and set null for the
> other fields.
>
> The problem raises during a long workflow. At some point you obtain a
> dataset with unconsisten field values, and it's not always obvious to
> know when and.which field value was set miningless.

In the long run the most flexible solution will be to allow specifying
the aggregate function applied to each field individually ("first/any",
"mean", "mode", "max"...).

No worries if it's not implemented right now, but please keep the code
modular enough to introduce this easily later down the road. Without
manually editing each algorithm that supports grouping.

A possible approach to this would be a parameter
"ParamterFieldAggregation" that offers a standard gui to configure the
aggregation behavior (fieldA: min; fieldB: mean; fieldC: any; fieldD:
mean(expression("numBirds2017 - numBirds2000")) ).

Matthias
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170630/868c44d0/attachment.html>

From a.neumann at carto.net  Thu Jun 29 23:36:30 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Fri, 30 Jun 2017 08:36:30 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <7564f6d0-e779-34b6-58bc-2d28c5a4ab7e@opengis.ch>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
 <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
 <CAFFV8FgrswhsnSBBYCCz8THG2zyd8eo0S=a1pNVT8GyCQ2G9AQ@mail.gmail.com>
 <CAB4g1=wPmfCsggTVzinnXAx_DDm-wuGch95CRb+9_vnGusktkg@mail.gmail.com>
 <CAB28Asg8ABVrmYjGg02NE+rM_jVd35g8=eW4UHa=4XtnzPdvFA@mail.gmail.com>
 <CAB4g1=xZEmkm53U-3dM8KCH1ta_bm8smw7JBf-+FoEp==aZYvA@mail.gmail.com>
 <7564f6d0-e779-34b6-58bc-2d28c5a4ab7e@opengis.ch>
Message-ID: <a49a1eb9ec5a0dbc9c02379edffcff19@carto.net>

Hi, 

I also think that the logical solution would be to aggregate the
attributes when grouping and allow the user to specify which aggregate
function to use for each attribute. 

Just randomly using the attributes of the first feature doesn't really
makes sense to me. In 99% of the  

Now that we have aggregate functionality in QGIS - are there technical
reasons for not using these aggregate functions? 

Just a hint, because about 1 year ago we paid Nyall for these aggregate
functions and of course we are interested that these are used more and
more in QGIS ;-) 

BTW: FME from safe software has an aggregate widget/functionality
available whenever something is grouped. QGIS should do the same. I
don't see why not. 

Andreas 

On 2017-06-30 07:47, Matthias Kuhn wrote:

> On 6/29/17 10:21 AM, G. Allegri wrote: 
> 
> 1. Allowing multiple field selection for grouping
> 2. Keeping attributes of first feature when grouping 
> 
> I will accept this criteria, obviously, if it's the preferred solution for the mosts.  
> I just want to report that many users (partecipants to courses or customers) say they find having the "first feature value" misleading.  
> I agree with them. I would set the field values only for the grouping fields, having the same value within the group, and set null for the other fields. 
> 
> The problem raises during a long workflow. At some point you obtain a dataset with unconsisten field values, and it's not always obvious to know when and.which field value was set miningless.

In the long run the most flexible solution will be to allow specifying
the aggregate function applied to each field individually ("first/any",
"mean", "mode", "max"...).

No worries if it's not implemented right now, but please keep the code
modular enough to introduce this easily later down the road. Without
manually editing each algorithm that supports grouping.

A possible approach to this would be a parameter
"ParamterFieldAggregation" that offers a standard gui to configure the
aggregation behavior (fieldA: min; fieldB: mean; fieldC: any; fieldD:
mean(expression("numBirds2017 - numBirds2000")) ). 

Matthias

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170630/e49177af/attachment-0001.html>

From giohappy at gmail.com  Fri Jun 30 00:04:42 2017
From: giohappy at gmail.com (G. Allegri)
Date: Fri, 30 Jun 2017 09:04:42 +0200
Subject: [QGIS-Developer] Processing 3.0: Possible change to the Convex
 Hull algorithm
In-Reply-To: <a49a1eb9ec5a0dbc9c02379edffcff19@carto.net>
References: <CAB28AsjJ7k4XmS_M+JfRrrwVpzmmW=RO2Cvb5iWLjg8P8PoNWQ@mail.gmail.com>
 <CAB28AshgFhCKUW3jruHYjGh_H59QqX=h=RzkA9B=NShv6+5qwg@mail.gmail.com>
 <3159f66a-ef68-e2e2-22af-1c843a93b05d@faunalia.it>
 <5c80bd80-1a37-e048-3204-20e66982cbd4@opengis.ch>
 <CAFFV8Fjn8E94T3Ui4q06=twVZS3KHoG0GZesk9bkN+v0iz0+-Q@mail.gmail.com>
 <CAB28AsjdQuTUQL+YL1g9sKBn5Cqq9-jy4_W_JfM8TyKa0-My_w@mail.gmail.com>
 <f5ef24f1-6b8b-cadd-2650-89777bc239f0@faunalia.it>
 <CAB28AshZ5ymvuVgAOePKxfTBd9CTEEFpfi_bDz6gaCdvgfhUog@mail.gmail.com>
 <CAFFV8FgrswhsnSBBYCCz8THG2zyd8eo0S=a1pNVT8GyCQ2G9AQ@mail.gmail.com>
 <CAB4g1=wPmfCsggTVzinnXAx_DDm-wuGch95CRb+9_vnGusktkg@mail.gmail.com>
 <CAB28Asg8ABVrmYjGg02NE+rM_jVd35g8=eW4UHa=4XtnzPdvFA@mail.gmail.com>
 <CAB4g1=xZEmkm53U-3dM8KCH1ta_bm8smw7JBf-+FoEp==aZYvA@mail.gmail.com>
 <7564f6d0-e779-34b6-58bc-2d28c5a4ab7e@opengis.ch>
 <a49a1eb9ec5a0dbc9c02379edffcff19@carto.net>
Message-ID: <CAB4g1=ygE4o5OhoGE0Cexa-0J02xdA_7r1x0n38qAYPov=7+ew@mail.gmail.com>

If you read above, the idea is to set fields *other then the ones selected
for grouping* null. So it wouldn't pick the first one, which is meaningless.

Having aggregate functions to be applied to single non-grouping fields
could be a great plus, keeping the option to leave the field set to null.

What kind of aggregate functions do we have for categorical/textual values?

giovanni

Il 30 giu 2017 08:36, "Neumann, Andreas" <a.neumann at carto.net> ha scritto:

> Hi,
>
> I also think that the logical solution would be to aggregate the
> attributes when grouping and allow the user to specify which aggregate
> function to use for each attribute.
>
> Just randomly using the attributes of the first feature doesn't really
> makes sense to me. In 99% of the
>
> Now that we have aggregate functionality in QGIS - are there technical
> reasons for not using these aggregate functions?
>
> Just a hint, because about 1 year ago we paid Nyall for these aggregate
> functions and of course we are interested that these are used more and more
> in QGIS ;-)
>
> BTW: FME from safe software has an aggregate widget/functionality
> available whenever something is grouped. QGIS should do the same. I don't
> see why not.
>
> Andreas
>
> On 2017-06-30 07:47, Matthias Kuhn wrote:
>
> On 6/29/17 10:21 AM, G. Allegri wrote:
>
>
> 1. Allowing multiple field selection for grouping
> 2. Keeping attributes of first feature when grouping
>
>
> I will accept this criteria, obviously, if it's the preferred solution for
> the mosts.
> I just want to report that many users (partecipants to courses or
> customers) say they find having the "first feature value" misleading.
> I agree with them. I would set the field values only for the grouping
> fields, having the same value within the group, and set null for the other
> fields.
>
> The problem raises during a long workflow. At some point you obtain a
> dataset with unconsisten field values, and it's not always obvious to know
> when and.which field value was set miningless.
>
>
> In the long run the most flexible solution will be to allow specifying the
> aggregate function applied to each field individually ("first/any", "mean",
> "mode", "max"...).
>
> No worries if it's not implemented right now, but please keep the code
> modular enough to introduce this easily later down the road. Without
> manually editing each algorithm that supports grouping.
>
> A possible approach to this would be a parameter
> "ParamterFieldAggregation" that offers a standard gui to configure the
> aggregation behavior (fieldA: min; fieldB: mean; fieldC: any; fieldD:
> mean(expression("numBirds2017 - numBirds2000")) ).
>
> Matthias
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170630/e40ec1cc/attachment.html>

From giohappy at gmail.com  Fri Jun 30 01:35:34 2017
From: giohappy at gmail.com (G. Allegri)
Date: Fri, 30 Jun 2017 10:35:34 +0200
Subject: [QGIS-Developer] QGIS project XSD
Message-ID: <CAB4g1=x3mWVJr5E6S=Mso6s5LxE_e7upJ74qm1xg4W0Va9GEcA@mail.gmail.com>

Hi everybody,
I know this has been discussed in the past, and maybe I missed more recent
discussions, but I think this is a point that should be considered.

Working a lot with QGIS projects parsing and processing, we have to rely on
trials and errors to validate a QGIS project and create test projects on
every QGIS release to verify our paresers to be aligned with each version.

I see that a very old (15 years) Qgis.xsd is still in the QGIS sources [1].

First of all I would get rid of it, being outdated and (I guess) unused.
Then I would remove the DOCTYPE declaration from the project XML and use a
Schema declaration instead, pointing to a versioned XSD.

XSDs could have their own versioning scheme, or keep it simple and let XSD
versions be strictly the same as QGIS's version (reported inside the
project file).


What's your opinion on this?
Giovanni

[1] https://github.com/qgis/QGIS/blob/master/src/Qgis.xsd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170630/47bd62a5/attachment.html>

From matthias at opengis.ch  Fri Jun 30 01:45:32 2017
From: matthias at opengis.ch (=?UTF-8?B?TWF0dGhpYXMgS3VobiDwn4yN?=)
Date: Fri, 30 Jun 2017 10:45:32 +0200
Subject: [QGIS-Developer] QGIS project XSD
In-Reply-To: <CAB4g1=x3mWVJr5E6S=Mso6s5LxE_e7upJ74qm1xg4W0Va9GEcA@mail.gmail.com>
References: <CAB4g1=x3mWVJr5E6S=Mso6s5LxE_e7upJ74qm1xg4W0Va9GEcA@mail.gmail.com>
Message-ID: <e5c115e4-fca7-314f-9640-d2741c176950@opengis.ch>

Hi Giovanni,

On 06/30/2017 10:35 AM, G. Allegri wrote:
> Hi everybody,
> I know this has been discussed in the past, and maybe I missed more
> recent discussions, but I think this is a point that should be considered.
> 
> Working a lot with QGIS projects parsing and processing, we have to rely
> on trials and errors to validate a QGIS project and create test projects
> on every QGIS release to verify our paresers to be aligned with each
> version.

I mostly use the API (which is much more stable than the project file
format) when I need to work with a project file.

> I see that a very old (15 years) Qgis.xsd is still in the QGIS sources [1]. 

I noticed that one as well and wouldn't mind to dump it.

> 
> First of all I would get rid of it, being outdated and (I guess) unused.
> Then I would remove the DOCTYPE declaration from the project XML and use
> a Schema declaration instead, pointing to a versioned XSD.
> 
> XSDs could have their own versioning scheme, or keep it simple and let
> XSD versions be strictly the same as QGIS's version (reported inside the
> project file).


Having an .xsd sounds like a good thing to have. What would you need to
maintain such a file?

Matthias

From rdmailings at duif.net  Fri Jun 30 02:05:50 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 30 Jun 2017 11:05:50 +0200
Subject: [QGIS-Developer] QGIS project XSD
In-Reply-To: <e5c115e4-fca7-314f-9640-d2741c176950@opengis.ch>
References: <CAB4g1=x3mWVJr5E6S=Mso6s5LxE_e7upJ74qm1xg4W0Va9GEcA@mail.gmail.com>
 <e5c115e4-fca7-314f-9640-d2741c176950@opengis.ch>
Message-ID: <f2f24172-3edd-54a5-322f-4a3f93dfa071@duif.net>

On 30-06-17 10:45, Matthias Kuhn 🌍 wrote:
> Hi Giovanni,
> 
> On 06/30/2017 10:35 AM, G. Allegri wrote:
>> Hi everybody,
>> I know this has been discussed in the past, and maybe I missed more
>> recent discussions, but I think this is a point that should be considered.
>>
>> Working a lot with QGIS projects parsing and processing, we have to rely
>> on trials and errors to validate a QGIS project and create test projects
>> on every QGIS release to verify our paresers to be aligned with each
>> version.
> 
> I mostly use the API (which is much more stable than the project file
> format) when I need to work with a project file.
> 
>> I see that a very old (15 years) Qgis.xsd is still in the QGIS sources [1]. 
> 
> I noticed that one as well and wouldn't mind to dump it.
> 
>>
>> First of all I would get rid of it, being outdated and (I guess) unused.
>> Then I would remove the DOCTYPE declaration from the project XML and use
>> a Schema declaration instead, pointing to a versioned XSD.
>>
>> XSDs could have their own versioning scheme, or keep it simple and let
>> XSD versions be strictly the same as QGIS's version (reported inside the
>> project file).
> 
> 
> Having an .xsd sounds like a good thing to have. What would you need to
> maintain such a file?

Some related historical notes:

[0]
http://osgeo-org.1560.x6.nabble.com/QGIS-Server-Enhance-http-qgis-org-wms-1-3-0-xsd-and-WMS-1-3-0-compliance-td5175785.html

[1] https://issues.qgis.org/issues/4408

Normally you start with a schema, and from that create xml. To me it
sounds pretty hard to keep a schema updated the other way around? As the
api can always add new/changed parts of xml in it?

Would it be a strange idea to move to another way of defining a project?
Not to follow follow file format hypes and go to json, yaml or so, but
if we could abstract this 'serialization' of a state of classes etc in a
different way, could make it maybe easier to cut the (becoming bigger
and bigger) project files in parts like:
- datasource info, styling info, layerorder/extent info, other

Which would then make it easier to port a project file to one datasource
to another (and keeping the id's)...

Regards,

Richard Duivenvoorde

From nyall.dawson at gmail.com  Fri Jun 30 02:31:29 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 30 Jun 2017 19:31:29 +1000
Subject: [QGIS-Developer] QGIS project XSD
In-Reply-To: <CAB4g1=x3mWVJr5E6S=Mso6s5LxE_e7upJ74qm1xg4W0Va9GEcA@mail.gmail.com>
References: <CAB4g1=x3mWVJr5E6S=Mso6s5LxE_e7upJ74qm1xg4W0Va9GEcA@mail.gmail.com>
Message-ID: <CAB28AsguBAVEXwd=UB3-DhD2v3zKeCD4jX2DGtUXgbiewXvaVA@mail.gmail.com>

On 30 June 2017 at 18:35, G. Allegri <giohappy at gmail.com> wrote:
>
> Hi everybody,
> I know this has been discussed in the past, and maybe I missed more recent discussions, but I think this is a point that should be considered.
>
> Working a lot with QGIS projects parsing and processing, we have to rely on trials and errors to validate a QGIS project and create test projects on every QGIS release to verify our paresers to be aligned with each version.
>
> I see that a very old (15 years) Qgis.xsd is still in the QGIS sources [1].
>
> First of all I would get rid of it, being outdated and (I guess) unused.
> Then I would remove the DOCTYPE declaration from the project XML and use a Schema declaration instead, pointing to a versioned XSD.
>
> XSDs could have their own versioning scheme, or keep it simple and let XSD versions be strictly the same as QGIS's version (reported inside the project file).
>
>
> What's your opinion on this?

Seems like a huge amount of administrative overhead to me. A small
change to the project format could result in massive amounts of
required changes to the xsd.

Given that now it's safe to have multiple QgsProjects at once,
couldn't you instead just load the project and retrieve the desired
information using the QGIS API directly?

Nyall

From giohappy at gmail.com  Fri Jun 30 02:32:43 2017
From: giohappy at gmail.com (G. Allegri)
Date: Fri, 30 Jun 2017 11:32:43 +0200
Subject: [QGIS-Developer] QGIS project XSD
In-Reply-To: <f2f24172-3edd-54a5-322f-4a3f93dfa071@duif.net>
References: <CAB4g1=x3mWVJr5E6S=Mso6s5LxE_e7upJ74qm1xg4W0Va9GEcA@mail.gmail.com>
 <e5c115e4-fca7-314f-9640-d2741c176950@opengis.ch>
 <f2f24172-3edd-54a5-322f-4a3f93dfa071@duif.net>
Message-ID: <CAB4g1=zr5tKPNPfDt30Sp84YdrXvrotrgfwJ=9ikTRgn7RSPfw@mail.gmail.com>

>
> Normally you start with a schema, and from that create xml. To me it
> sounds pretty hard to keep a schema updated the other way around? As the
> api can always add new/changed parts of xml in it?
>

Yes, that's hard, but it's quite odd to have a project serialization format
(in this case XML) without ever knowing how it will be until you don't
create it through some APIs. Isn't it?

Even QgsProject won't know if a project is valid until all the delegated
classes have tried to deserialize their own parts.

I think this is a weak point in QGIS, and it doesn't depend on the
serialization format obviously.

The only automatic way to obatin and XSD would be to make each contributing
class declare (somehow) what and how it will write it, and a metadata
system to let an utility grab all the declarations to build the XSD.
It's not an easy task, and it would require a lot of additions to each
class, but this would be the only strong way to obtain a (potentially)
error free and up to date schema.

Otherwise we sould manually build a test project on each release, the most
complete one, and manually check the differences...

giovanni



>
> Would it be a strange idea to move to another way of defining a project?
> Not to follow follow file format hypes and go to json, yaml or so, but
> if we could abstract this 'serialization' of a state of classes etc in a
> different way, could make it maybe easier to cut the (becoming bigger
> and bigger) project files in parts like:
> - datasource info, styling info, layerorder/extent info, other
>
>
I've done some test with GraphQL :)

giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170630/b05bc81b/attachment-0001.html>

From giohappy at gmail.com  Fri Jun 30 02:39:50 2017
From: giohappy at gmail.com (G. Allegri)
Date: Fri, 30 Jun 2017 11:39:50 +0200
Subject: [QGIS-Developer] QGIS project XSD
In-Reply-To: <CAB28AsguBAVEXwd=UB3-DhD2v3zKeCD4jX2DGtUXgbiewXvaVA@mail.gmail.com>
References: <CAB4g1=x3mWVJr5E6S=Mso6s5LxE_e7upJ74qm1xg4W0Va9GEcA@mail.gmail.com>
 <CAB28AsguBAVEXwd=UB3-DhD2v3zKeCD4jX2DGtUXgbiewXvaVA@mail.gmail.com>
Message-ID: <CAB4g1=zRnvmO4+HyEZ4hYp1N2KoJcBNHuckfwgqsyMZW_Cgg7Q@mail.gmail.com>

>
> Seems like a huge amount of administrative overhead to me. A small
> change to the project format could result in massive amounts of
> required changes to the xsd.
>
> Given that now it's safe to have multiple QgsProjects at once,
> couldn't you instead just load the project and retrieve the desired
> information using the QGIS API directly?
>

Yes Nyall, it's ok until you can use the QGIS API :)
You know that system integration often must rely on standard formats to
exchange information in a decoupled way.
QGIS is more often integrated in heterogeneous environments where it's not
always possible (or it would be an overhead) to install and use QGIS libs.


giovanni


>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170630/e86c3610/attachment.html>

From matthias at opengis.ch  Fri Jun 30 02:44:17 2017
From: matthias at opengis.ch (=?UTF-8?B?TWF0dGhpYXMgS3VobiDwn4yN?=)
Date: Fri, 30 Jun 2017 11:44:17 +0200
Subject: [QGIS-Developer] QGIS project XSD
In-Reply-To: <CAB4g1=zr5tKPNPfDt30Sp84YdrXvrotrgfwJ=9ikTRgn7RSPfw@mail.gmail.com>
References: <CAB4g1=x3mWVJr5E6S=Mso6s5LxE_e7upJ74qm1xg4W0Va9GEcA@mail.gmail.com>
 <e5c115e4-fca7-314f-9640-d2741c176950@opengis.ch>
 <f2f24172-3edd-54a5-322f-4a3f93dfa071@duif.net>
 <CAB4g1=zr5tKPNPfDt30Sp84YdrXvrotrgfwJ=9ikTRgn7RSPfw@mail.gmail.com>
Message-ID: <c4b6ee97-19cd-637b-9860-9df77d2f464a@opengis.ch>

On 06/30/2017 11:32 AM, G. Allegri wrote:
>     Normally you start with a schema, and from that create xml. To me it
>     sounds pretty hard to keep a schema updated the other way around? As the
>     api can always add new/changed parts of xml in it?
> 
> 
> Even QgsProject won't know if a project is valid until all the delegated
> classes have tried to deserialize their own parts.

Are you aware of real-world problems that were caused by this?

> 
> I think this is a weak point in QGIS, and it doesn't depend on the
> serialization format obviously.

I think it's only XML that comes with all these metadescription systems
like DTD and XSD. I haven't seen anything similar for yaml and json.

They normally just have a descriptive API doc if intended to be
handwritten or not much at all if machine-written / machine-read.


I think the main upside of XSD etc. is if it's intended to be an
interoperable standard (.sld et al) where a consortium first defines the
format and then implementations follow. The tradeoff is that development
takes much more time and innovation is decreased.

Matthias

From nyall.dawson at gmail.com  Fri Jun 30 02:45:20 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 30 Jun 2017 19:45:20 +1000
Subject: [QGIS-Developer] QGIS project XSD
In-Reply-To: <CAB4g1=zRnvmO4+HyEZ4hYp1N2KoJcBNHuckfwgqsyMZW_Cgg7Q@mail.gmail.com>
References: <CAB4g1=x3mWVJr5E6S=Mso6s5LxE_e7upJ74qm1xg4W0Va9GEcA@mail.gmail.com>
 <CAB28AsguBAVEXwd=UB3-DhD2v3zKeCD4jX2DGtUXgbiewXvaVA@mail.gmail.com>
 <CAB4g1=zRnvmO4+HyEZ4hYp1N2KoJcBNHuckfwgqsyMZW_Cgg7Q@mail.gmail.com>
Message-ID: <CAB28AsgnM9jrEZfGcaDAnEzC6sC4EHGOhHChh7wdKcf0M4xQqw@mail.gmail.com>

On 30 June 2017 at 19:39, G. Allegri <giohappy at gmail.com> wrote:
>> Seems like a huge amount of administrative overhead to me. A small
>> change to the project format could result in massive amounts of
>> required changes to the xsd.
>>
>> Given that now it's safe to have multiple QgsProjects at once,
>> couldn't you instead just load the project and retrieve the desired
>> information using the QGIS API directly?
>
>
> Yes Nyall, it's ok until you can use the QGIS API :)
> You know that system integration often must rely on standard formats to
> exchange information in a decoupled way.
> QGIS is more often integrated in heterogeneous environments where it's not
> always possible (or it would be an overhead) to install and use QGIS libs.

I'm curious to how usable this will be still - given that the project
format can vary even between minor point releases. How do you plan to
practically be able to parse QGIS files? Even server (with the source
included along with the main QGIS source) tried this approach and
found it ultimately unworkable.

Nyall

From nyall.dawson at gmail.com  Fri Jun 30 02:46:58 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 30 Jun 2017 19:46:58 +1000
Subject: [QGIS-Developer] QGIS project XSD
In-Reply-To: <c4b6ee97-19cd-637b-9860-9df77d2f464a@opengis.ch>
References: <CAB4g1=x3mWVJr5E6S=Mso6s5LxE_e7upJ74qm1xg4W0Va9GEcA@mail.gmail.com>
 <e5c115e4-fca7-314f-9640-d2741c176950@opengis.ch>
 <f2f24172-3edd-54a5-322f-4a3f93dfa071@duif.net>
 <CAB4g1=zr5tKPNPfDt30Sp84YdrXvrotrgfwJ=9ikTRgn7RSPfw@mail.gmail.com>
 <c4b6ee97-19cd-637b-9860-9df77d2f464a@opengis.ch>
Message-ID: <CAB28Ashh1fPFG=20qGWKU6om4mqvs8RGyv855UKu1uQcVdAuUA@mail.gmail.com>

On 30 June 2017 at 19:44, Matthias Kuhn 🌍 <matthias at opengis.ch> wrote:
> On 06/30/2017 11:32 AM, G. Allegri wrote:
>>     Normally you start with a schema, and from that create xml. To me it
>>     sounds pretty hard to keep a schema updated the other way around? As the
>>     api can always add new/changed parts of xml in it?
>>
>>
>> Even QgsProject won't know if a project is valid until all the delegated
>> classes have tried to deserialize their own parts.
>
> Are you aware of real-world problems that were caused by this?
>
>>
>> I think this is a weak point in QGIS, and it doesn't depend on the
>> serialization format obviously.
>
> I think it's only XML that comes with all these metadescription systems
> like DTD and XSD. I haven't seen anything similar for yaml and json.

Also, on a related note - I'd prefer to see more areas of code move to
the approach of serializing/deserialising to QVariantMaps and using
your recent work on auto converting the maps to XML. It's much less
maintenance this way :)

Nyall

From giohappy at gmail.com  Fri Jun 30 03:04:48 2017
From: giohappy at gmail.com (G. Allegri)
Date: Fri, 30 Jun 2017 12:04:48 +0200
Subject: [QGIS-Developer] QGIS project XSD
In-Reply-To: <CAB28Ashh1fPFG=20qGWKU6om4mqvs8RGyv855UKu1uQcVdAuUA@mail.gmail.com>
References: <CAB4g1=x3mWVJr5E6S=Mso6s5LxE_e7upJ74qm1xg4W0Va9GEcA@mail.gmail.com>
 <e5c115e4-fca7-314f-9640-d2741c176950@opengis.ch>
 <f2f24172-3edd-54a5-322f-4a3f93dfa071@duif.net>
 <CAB4g1=zr5tKPNPfDt30Sp84YdrXvrotrgfwJ=9ikTRgn7RSPfw@mail.gmail.com>
 <c4b6ee97-19cd-637b-9860-9df77d2f464a@opengis.ch>
 <CAB28Ashh1fPFG=20qGWKU6om4mqvs8RGyv855UKu1uQcVdAuUA@mail.gmail.com>
Message-ID: <CAB4g1=z8RNJzRNuJKb+SvV1XKe2ffmeMnbPhYMv9bQhhtMMrCA@mail.gmail.com>

(I havent followed the work on QVariantMaps, I will give it a look).

Nyall, I know that to make it error free and mantainable, we will need some
sort of metadata, which would require some work both to set it up and
mantain it.
This dicussion starts from the benfits of having a schema. If the most of
you don't consider it a valuable option, there's no need to dicuss possible
implementation :)

I have various cases where I need to parse a project but I can't rely on
QGIS libs (because of the system environment).

If I had to decide for a solution I would considera, as said before, some
kind of metadata system, even something similar to doctests/docstrings
(skipped by compilers) where every class partecipating (or willing to
partecipate) to the serialization will declare it's sub-schema, and where
it would put it (we are always in an infoset model, so it must declare it's
parent).

A utility tool could parse the code and build the final, complete, scheme.
This utility could build whatever kind of scheme (XSD, DTD, our own
selfdescribing format).

Yes, this is an overhead for those working on the parts of the code that
serialize to project, but I don't think this is so big compared to the
benfits...
For sure we can't mantain a schema manually!

giovanni



2017-06-30 11:46 GMT+02:00 Nyall Dawson <nyall.dawson at gmail.com>:

> On 30 June 2017 at 19:44, Matthias Kuhn 🌍 <matthias at opengis.ch> wrote:
> > On 06/30/2017 11:32 AM, G. Allegri wrote:
> >>     Normally you start with a schema, and from that create xml. To me it
> >>     sounds pretty hard to keep a schema updated the other way around?
> As the
> >>     api can always add new/changed parts of xml in it?
> >>
> >>
> >> Even QgsProject won't know if a project is valid until all the delegated
> >> classes have tried to deserialize their own parts.
> >
> > Are you aware of real-world problems that were caused by this?
> >
> >>
> >> I think this is a weak point in QGIS, and it doesn't depend on the
> >> serialization format obviously.
> >
> > I think it's only XML that comes with all these metadescription systems
> > like DTD and XSD. I haven't seen anything similar for yaml and json.
>
> Also, on a related note - I'd prefer to see more areas of code move to
> the approach of serializing/deserialising to QVariantMaps and using
> your recent work on auto converting the maps to XML. It's much less
> maintenance this way :)
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170630/6b706efd/attachment.html>

From sfkeller at gmail.com  Fri Jun 30 03:21:08 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Fri, 30 Jun 2017 12:21:08 +0200
Subject: [QGIS-Developer] Variable syntax: $ vs @
In-Reply-To: <f7ee12caf16941c94481e7dfc5f8fe73@carto.net>
References: <65b81b9edbfc4996004ded7e85590956@carto.net>
 <CAAi8Yg_uA737iNHe1SnstgebnD7syhR8BG+qHQWTaSCyYOMZDg@mail.gmail.com>
 <f7ee12caf16941c94481e7dfc5f8fe73@carto.net>
Message-ID: <CAFcOn2-fYP9eX_k2uQzvYk0zMS6o3Rsm8E4jJ6bMZefHz86G1Q@mail.gmail.com>

Hi Nathan

Only partially related to this thread as a shy reminder:
My intern Simran recently has made a pull request [*] for your nice
Expressions Plus Plugin QGIS plugin.

These are the proposed additional functions:
* max_incremented() - an "autoincrement" id function
* hstore - support of a key-value pair set/string
* nullif() - returns None if arg_1 equals to arg_2 otherwise arg_1
* get_env_variable() and set_env_variable()
* jitter_geometry()

These expression functions could be of interest for workshops like the
mentioned one.

Cheers, Stefan

[*] https://github.com/NathanW2/qgsexpressionsplus/pull/8


2017-06-19 14:36 GMT+02:00 Neumann, Andreas <a.neumann at carto.net>:
> Hi Nathan,
>
> Thank you for the explanation. Makes sense. I will pass this on in the
> workshop.
>
> Andreas
>
> On 2017-06-19 14:12, Nathan Woodrow wrote:
>
> Hey Andreas,
>
> They are really two different things.  $geometry is really a function that
> takes no arguments. This has been deprecated in favour calling with () e.g
> geometry().  @ is only for variables.
>
> So you can explain it that $ used to be a shorthand way of calling a
> function that took no arguments which has now been replaced with () at the
> end to call it. $area = area().  This becomes important because now we
> support optional arguments meaning you can take 0 to N arguments.
>
> - Nathan
>
> On Mon, Jun 19, 2017 at 9:53 PM, Neumann, Andreas <a.neumann at carto.net>
> wrote:
>>
>> Hi,
>>
>> While preparing for a workshop on expressions I wonder how to explain why
>> some variables are referenced with the $ sign (like $geometry) while other
>> variables start with the @ sign, like @row_number, @layer_name.
>>
>> I know that it has historical reasons and that variables with the @ sign
>> are newer and are implemented using a different technology.
>>
>> But are there plans to get rid of the old $ sign notation and move
>> everything to the @ sign notation?
>>
>> Just wonder how I best explain this to the participants of the workshop.
>>
>> Thanks for your reply,
>>
>> Andreas
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From matteo.ghetta at gmail.com  Fri Jun 30 06:00:39 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 30 Jun 2017 15:00:39 +0200
Subject: [QGIS-Developer] parameter infos algorithm of Processing with python
Message-ID: <e1b58b26-8655-2e1c-abf2-d6da7d4de140@gmail.com>

Hi devs,

I'm making some test with Processing. I have a quick question: is there
a method to know (via python) the parameter of an algorithm?

To get one algorithm available as an object, I do:

import processing

# get an algorithm of the qgis provider, no matter which one
alg = qgis_list =
QgsApplication.processingRegistry().providerById("qgis").algorithms()[0]


to run this algorithm (of course) parameters are needed. The old

processing.runalg()

has been replaced with

processing.run()

but is there a way to know which parameter and the related information
have to be added in order to run it?

Thanks for any information!

Cheers

Matteo

From osahon.gis at gmail.com  Fri Jun 30 07:06:26 2017
From: osahon.gis at gmail.com (Osahon Oduware)
Date: Fri, 30 Jun 2017 15:06:26 +0100
Subject: [QGIS-Developer] GDAL Support For PostGIS Out-DB Rasters
Message-ID: <CAGpiUShQ-j9azjYbZfZqy3yywEOmZ9RxtnCcNkWRQeDsUp551w@mail.gmail.com>

Hi All,

Currently, QGIS-GDAL seems to be only able to display rasters that are
stored in the database as it displays a black image for PostGIS Out-DB
rasters as described in my post in the link below:
http://osgeo-org.1560.x6.nabble.com/QGIS-GDAL-OUT-DB-RASTER-SUPPORT-td5318735.html

*Please, I wanted to find out if there is any ongoing work towards
providing GDAL support for PostGIS Out-DB rasters or anyway to make QGIS
display PostGIS Out-DB rasters.*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170630/405d2d24/attachment.html>

From noreply at qgis.org  Fri Jun 30 07:11:52 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 30 Jun 2017 14:11:52 -0000
Subject: [QGIS-Developer] Plugin [408] shptoobs approval notification.
Message-ID: <20170630141152.28854.26092@320558c5528b>


Plugin shptoobs approval by pcav.
The plugin version "[408] shptoobs 0.1.7 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/shp_to_obs/

From noreply at qgis.org  Fri Jun 30 07:11:55 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 30 Jun 2017 14:11:55 -0000
Subject: [QGIS-Developer] Plugin [408] shptoobs approval notification.
Message-ID: <20170630141155.28854.73245@320558c5528b>


Plugin shptoobs approval by pcav.
The plugin version "[408] shptoobs 0.1.6 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/shp_to_obs/

From noreply at qgis.org  Fri Jun 30 07:11:59 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 30 Jun 2017 14:11:59 -0000
Subject: [QGIS-Developer] Plugin [408] shptoobs approval notification.
Message-ID: <20170630141159.20832.14493@320558c5528b>


Plugin shptoobs approval by pcav.
The plugin version "[408] shptoobs 0.1.5 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/shp_to_obs/

From noreply at qgis.org  Fri Jun 30 07:12:02 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 30 Jun 2017 14:12:02 -0000
Subject: [QGIS-Developer] Plugin [408] shptoobs approval notification.
Message-ID: <20170630141202.20832.55758@320558c5528b>


Plugin shptoobs approval by pcav.
The plugin version "[408] shptoobs 0.1.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/shp_to_obs/

From noreply at qgis.org  Fri Jun 30 07:12:06 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 30 Jun 2017 14:12:06 -0000
Subject: [QGIS-Developer] Plugin [408] shptoobs approval notification.
Message-ID: <20170630141206.20832.29017@320558c5528b>


Plugin shptoobs approval by pcav.
The plugin version "[408] shptoobs 0.1.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/shp_to_obs/

From noreply at qgis.org  Fri Jun 30 07:12:09 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 30 Jun 2017 14:12:09 -0000
Subject: [QGIS-Developer] Plugin [408] shptoobs approval notification.
Message-ID: <20170630141209.18604.66114@320558c5528b>


Plugin shptoobs approval by pcav.
The plugin version "[408] shptoobs 0.1.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/shp_to_obs/

From noreply at qgis.org  Fri Jun 30 07:28:08 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 30 Jun 2017 14:28:08 -0000
Subject: [QGIS-Developer] Plugin [740] qgis2web approval notification.
Message-ID: <20170630142808.20832.9908@320558c5528b>


Plugin qgis2web approval by pcav.
The plugin version "[740] qgis2web 2.21.1" is now approved
Link: http://plugins.qgis.org/plugins/qgis2web/

From noreply at qgis.org  Fri Jun 30 07:32:27 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 30 Jun 2017 14:32:27 -0000
Subject: [QGIS-Developer] Plugin [730] Line direction histogram approval
	notification.
Message-ID: <20170630143227.28854.51426@320558c5528b>


Plugin Line direction histogram approval by pcav.
The plugin version "[730] Line direction histogram 2.2" is now approved
Link: http://plugins.qgis.org/plugins/LineDirectionHistogram/

From olivier.dalang at gmail.com  Fri Jun 30 08:32:10 2017
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Fri, 30 Jun 2017 15:32:10 +0000
Subject: [QGIS-Developer] native XYZ layers - zoom level
In-Reply-To: <1498701796785-5325931.post@n6.nabble.com>
References: <CAExk7p1TYs1tgcSds8mw1T1Dubc4XGJaApNPHM-YGxAzex5adw@mail.gmail.com>
 <CAC2XbFcrpdsgUsje9CDzPu85Li0rUQ04UmwBCX-nGHmWSPthjg@mail.gmail.com>
 <CAExk7p2bTdCuUg7ZMGLYSOr2hQW4HBTJ7rZLt6r0k37X+4CmQw@mail.gmail.com>
 <1498701796785-5325931.post@n6.nabble.com>
Message-ID: <CAExk7p1=16+QMujYYc_W0+68F69WDBoBB8eiFKW+RhUuCzrzXw@mail.gmail.com>

Fasiha I used the following steps :

- open the qgs project (xxx.qgs file) in a text editor
- find the layer definition (you can search for the URL you entered)
- add &zmin=17&zmax=22 to the URL

There are probably ways to add the parameters directly in the layer
definition in the brower, which is stored somewhere in QGIS preferences.

Bests,

Olivier


2017-06-29 2:03 GMT+00:00 fasiha <wuzzyview at gmail.com>:

> olivier wrote
> > Awesome that will perfectly do until 3.0.
>
> Olivier, could you elaborate just a bit on how to do this in 2.18? I’m a
> QGIS beginner, I can bring up the Python Console in QGIS, but then what
> function do I invoke that will create an XYZ tile layer where I can specify
> zmin/zmax?
>
> Thank you!
>
>
>
> --
> View this message in context: http://osgeo-org.1560.x6.
> nabble.com/QGIS-Developer-native-XYZ-layers-zoom-level-
> tp5324030p5325931.html
> Sent from the QGIS - Developer mailing list archive at Nabble.com.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170630/4cc50d84/attachment.html>

From noreply at qgis.org  Fri Jun 30 23:38:19 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 01 Jul 2017 06:38:19 -0000
Subject: [QGIS-Developer] Plugin [1267] AreaPrinter approval notification.
Message-ID: <20170701063819.20832.97138@320558c5528b>


Plugin AreaPrinter approval by pcav.
The plugin version "[1267] AreaPrinter 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/AreaPrinter-master/

From noreply at qgis.org  Fri Jun 30 23:38:26 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 01 Jul 2017 06:38:26 -0000
Subject: [QGIS-Developer] Plugin [1267] AreaPrinter approval notification.
Message-ID: <20170701063826.18604.10330@320558c5528b>


Plugin AreaPrinter approval by pcav.
The plugin version "[1267] AreaPrinter 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/AreaPrinter-master/

