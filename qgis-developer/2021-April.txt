From uclaros at gmail.com  Thu Apr  1 01:46:27 2021
From: uclaros at gmail.com (uclaros)
Date: Thu, 1 Apr 2021 01:46:27 -0700 (MST)
Subject: [QGIS-Developer] moderation for nabble.com
Message-ID: <1617266787040-0.post@n6.nabble.com>

Hi all,
could someone with moderation rights remove the huge spam posts from 
OSGeo.org ? OSGeo Software Projects ? QGIS
 on nabble? Browsing the lists through
http://osgeo-org.1560.x6.nabble.com/QGIS-f4099105.html has become
inconvenient!

Regards,
Stefanos





--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From foucher at datakode.fr  Thu Apr  1 05:23:09 2021
From: foucher at datakode.fr (FOUCHER, Jonathan)
Date: Thu, 1 Apr 2021 14:23:09 +0200
Subject: [QGIS-Developer] Downgrade qgis-server 3.16.5 to 3.10.14 on Ubuntu
 18.04
Message-ID: <CALw=DWALDSMTwig4b0yhGTo0Ssysuk+an0+psjs4Azo68XgLng@mail.gmail.com>

Hello, I need to downgrade my qgis-server version from 3.16 to 3.10 on an
Ubuntu 18.04 server.

However it seems the 3.10 .deb for bionic has been removed from
http://qgis.org/ubuntu-ltr

Is there maybe a mirror with older releases available?

Thanks.

-- 
Jonathan Foucher
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210401/bf4bda30/attachment.html>

From paul.wittle at dorsetcouncil.gov.uk  Thu Apr  1 06:48:21 2021
From: paul.wittle at dorsetcouncil.gov.uk (Paul Wittle)
Date: Thu, 1 Apr 2021 13:48:21 +0000
Subject: [QGIS-Developer] QGIS and opening selected feature attributes
Message-ID: <LO2P265MB3231DF7A1E6933849945D1F0C17B9@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>

Hi,

We had a problem a while back with QGIS issuing really big statements to our spatial database and I finally got round to pin pointing the issues.

If you have a really big dataset (in our case addresses) and you select say 5000 addresses and then open the attribute table with the option ?Show Selected Features? set the SQL statement issued to the database seems to be:

WHERE Primary_Key = :a OR Primary_Key =:bb etc etc

I don?t know if it only relates to Oracle or whether it is already fixed but is there a limit to the number of where clauses QGIS requests in a single statement because we hit limits in the size of the permitted SQL?
(I?m not sure if that was technically the number of where statements or just the number of characters in the SQL but it?s probably not relevant)

We would have expected the application to detect that it is asking for x rows by primary key and potentially issued the request as multiple statements in blocks of y. I have of course explained to our users that they should take care regarding the way they work as they have some responsibly but I also wanted to check what we can do in the settings to protect the spatial databases as well?

Another good example is when using the ?Join Attributes by Location? function. In here the application clearly has the concept because if you hit the settings button there is a way to limit the number of features; this is great! The trouble is that regular users in our experience are unlikely to find or use the setting and more likely to just hit go.

Would it be possible to set the limit value on a layer by layer basis?

This would mean that you could set max features to query in single statement in the layer properties and if set it would automatically fill in the limit on any function where the setting is available (such as the join by location mentioned above). I?m happy for that to be possible to override but it would be great if we could setup layers with the added protection of knowing that users need to remove the limitation to run a massive process rather than worrying that they may fail to set the option which would prevent them doing so by accident.

Perhaps it could also add a message in the info box on the tool when set automatically to draw attention to it so that users are not confused by the results?

Final point, we have configured the database to throw out dodgy commands before they crash the database as I know some will say we should just configure the database but sometimes there is a good reason to run a bigger process. We are hoping to simply improve the user experience in QGIS by allowing big processes when needed but preventing accidental large processes as these give the impression to less thoughtful users that the application is slow rather than highlighting that the request they just issued was actually inefficient.

I look forward to hearing thoughts on the subject from others and I hope I?m not re-asking an FAQ.

Thanks,

Paul Wittle
[cid:image002.jpg at 01D72706.0E97B7B0]<https://www.dorsetcouncil.gov.uk/>
Business Solutions Analyst (GIS)
ICT Operations
Dorset Council
01305 228473 <tel:01305%20228473%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20>
dorsetcouncil.gov.uk<https://www.dorsetcouncil.gov.uk>

[cid:image004.png at 01D72706.0E97B7B0]<https://www.facebook.com/DorsetCouncilUK>
[cid:image006.png at 01D72706.0E97B7B0]<https://instagram.com/DorsetCouncilUK>
[cid:image008.png at 01D72706.0E97B7B0]<https://twitter.com/DorsetCouncilUK>

This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to whom they are addressed. It may contain unclassified but sensitive or protectively marked material and should be handled accordingly. Unless you are the named addressee (or authorised to receive it for the addressee) you may not copy or use it, or disclose it to anyone else. If you have received this transmission in error please notify the sender immediately. All traffic may be subject to recording and/or monitoring in accordance with relevant legislation. Any views expressed in this message are those of the individual sender, except where the sender specifies and with authority, states them to be the views of Dorset Council. Dorset Council does not accept service of documents by fax or other electronic means. Virus checking: Whilst all reasonable steps have been taken to ensure that this electronic communication and its attachments whether encoded, encrypted or otherwise supplied are free from computer viruses, Dorset Council accepts no liability in respect of any loss, cost, damage or expense suffered as a result of accessing this message or any of its attachments. For information on how Dorset Council processes your information, please see www.dorsetcouncil.gov.uk/data-protection
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210401/6440ad77/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.jpg
Type: image/jpeg
Size: 5737 bytes
Desc: image002.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210401/6440ad77/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 3145 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210401/6440ad77/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.png
Type: image/png
Size: 6148 bytes
Desc: image006.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210401/6440ad77/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image008.png
Type: image/png
Size: 2535 bytes
Desc: image008.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210401/6440ad77/attachment-0005.png>

From matteo.ghetta at gmail.com  Thu Apr  1 23:59:18 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 2 Apr 2021 08:59:18 +0200
Subject: [QGIS-Developer] plugin metatada from zip
Message-ID: <950856e0-d265-ceed-6efb-faff56bb6c89@gmail.com>

Hi all,

it seems to me that the qgisMinimumVersion in the metadata.txt file is 
NOT taken into account when the plugin is delivered with a zip file.

I've developed a Processing Plugin and set the minimum version to 3.16 
but I'm able to install it (through the zip file installation) in a 3.10 
QGIS.

Is the qgisMinimumVersion taken into account only when installing a 
plugin with the "standard" installer?

Cheers

Matteo

From apasotti at gmail.com  Fri Apr  2 00:28:05 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 2 Apr 2021 09:28:05 +0200
Subject: [QGIS-Developer] plugin metatada from zip
In-Reply-To: <950856e0-d265-ceed-6efb-faff56bb6c89@gmail.com>
References: <950856e0-d265-ceed-6efb-faff56bb6c89@gmail.com>
Message-ID: <CAL5Q6710rk7FW3sJk4uPRXZLZm3ZQrFLwq3UYNyQOfjVqHz5pA@mail.gmail.com>

On Fri, Apr 2, 2021 at 8:59 AM matteo <matteo.ghetta at gmail.com> wrote:
>
> Hi all,
>
> it seems to me that the qgisMinimumVersion in the metadata.txt file is
> NOT taken into account when the plugin is delivered with a zip file.
>
> I've developed a Processing Plugin and set the minimum version to 3.16
> but I'm able to install it (through the zip file installation) in a 3.10
> QGIS.
>
> Is the qgisMinimumVersion taken into account only when installing a
> plugin with the "standard" installer?
>

IIRC the version bits are only used for filtering compatible plugins
when parsing the XML response from the plugin repositories.

When you install from a zip you skip all that logic and go straight to
installation (IIRC there was a warning or something about security, we
might hook into that part to add some more warnings).

But it's been a while since I looked at that code so I might be wrong.

Regards

-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From andreaerdna at libero.it  Sat Apr  3 01:54:36 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Sat, 3 Apr 2021 01:54:36 -0700 (MST)
Subject: [QGIS-Developer] random order after open attribute table
In-Reply-To: <CA+Ei1OcKu5XjmjLVffG6SdQcZKNf3TTP-nDsEb-u_bmYc8NAgw@mail.gmail.com>
References: <CA+Ei1OcKu5XjmjLVffG6SdQcZKNf3TTP-nDsEb-u_bmYc8NAgw@mail.gmail.com>
Message-ID: <1617440076504-0.post@n6.nabble.com>

Martin Landa wrote
> I found problem with strange row ordering after opening attribute
> table in QGIS3. Rows are not ordered correctly (how related features
> were written to a layer). 

Hi Martin,
finally this longstanding annoying incorrect behaviour [1] has been fixed by
Mathieu Pellerin [2].

Thank you very much Mathieu Pellerin!

Best regards.

Andrea Giudiceandrea

[1] https://issues.qgis.org/issues/19299 -
https://github.com/qgis/QGIS/issues/27127
[2] https://github.com/qgis/QGIS/pull/42600



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From alroyliz0 at gmail.com  Mon Apr  5 07:24:39 2021
From: alroyliz0 at gmail.com (Alexis R.L.)
Date: Mon, 5 Apr 2021 10:24:39 -0400
Subject: [QGIS-Developer] Repo size
Message-ID: <CAOM0XWB_9tQijDBbObZWHsWnTowxZSuaxNUWuNkKDRyRfDxf_w@mail.gmail.com>

Greetings everyone,

Maybe this point has been raised previously, but the main QGIS repo is now
quite big.

To this effect I was curious to know if it would be a good idea to lighten
the size and possibly split the test to another repo or if there are other
ways to optimize the size of the repo.

Thanks and have a nice day,

Alex
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210405/866d76a0/attachment.html>

From pathmapper at posteo.de  Wed Apr  7 00:40:09 2021
From: pathmapper at posteo.de (pathmapper)
Date: Wed, 07 Apr 2021 09:40:09 +0200
Subject: [QGIS-Developer] Disable descriptive legends for raster layers (for
 use with QGIS Server)
Message-ID: <84106405db66eccd9c33c29a8cccc5c7@posteo.de>

Hi,

https://github.com/qgis/QGIS/pull/40620 introduced more descriptive 
legends for raster layers.

While this might be useful when working with QGIS Desktop, I'm looking 
for a way to disable them for using a project with QGIS Server.

By default, QGIS server uses for the WMS legend image what is shown for 
the layer as legend in the layer widget.

Before this change, for a multiband color raster layer this was only the 
layer title.

With the more descriptive legend also the band information is added to 
the WMS legend image, which is in my use case not needed and could 
confuse the user (the WMS is used within an application which shows the 
legend image).

https://github.com/qgis/QGIS/pull/42193 introduced an option for using 
the "old" legend style, but not for multiband color raster layers.

The only solution which I can think of to have only the raster layer 
title as legend image is to create a single image with the layer name, 
upload it to a server and add it's path as LegendUrl to layer server 
settings.

This option is quite a lot of work if you are having a project with 
multiple raster layers and also you have to update these images every 
time when the layer titles are changing.

Is there currently another option to
a) disable the more descriptive legends for raster layers (to have the 
behavior before https://github.com/qgis/QGIS/pull/40620) ?
b) use only the layer title of a multiband color raster layer for the 
WMS legend image with QGIS Server?

Thanks,
Bjoern

From apasotti at gmail.com  Wed Apr  7 01:05:41 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 7 Apr 2021 10:05:41 +0200
Subject: [QGIS-Developer] Disable descriptive legends for raster layers
 (for use with QGIS Server)
In-Reply-To: <84106405db66eccd9c33c29a8cccc5c7@posteo.de>
References: <84106405db66eccd9c33c29a8cccc5c7@posteo.de>
Message-ID: <CAL5Q671CULU_5h4JrmoT14mMtrakbVLfAYxcWrh108maRkDK4w@mail.gmail.com>

On Wed, Apr 7, 2021 at 9:40 AM pathmapper <pathmapper at posteo.de> wrote:
>
> Hi,
>
> https://github.com/qgis/QGIS/pull/40620 introduced more descriptive
> legends for raster layers.
>
> While this might be useful when working with QGIS Desktop, I'm looking
> for a way to disable them for using a project with QGIS Server.
>
> By default, QGIS server uses for the WMS legend image what is shown for
> the layer as legend in the layer widget.
>
> Before this change, for a multiband color raster layer this was only the
> layer title.
>
> With the more descriptive legend also the band information is added to
> the WMS legend image, which is in my use case not needed and could
> confuse the user (the WMS is used within an application which shows the
> legend image).
>
> https://github.com/qgis/QGIS/pull/42193 introduced an option for using
> the "old" legend style, but not for multiband color raster layers.
>
> The only solution which I can think of to have only the raster layer
> title as legend image is to create a single image with the layer name,
> upload it to a server and add it's path as LegendUrl to layer server
> settings.
>
> This option is quite a lot of work if you are having a project with
> multiple raster layers and also you have to update these images every
> time when the layer titles are changing.
>
> Is there currently another option to
> a) disable the more descriptive legends for raster layers (to have the
> behavior before https://github.com/qgis/QGIS/pull/40620) ?
> b) use only the layer title of a multiband color raster layer for the
> WMS legend image with QGIS Server?
>
> Thanks,
> Bjoern


Hi Bjoern,

I'm not aware of any option, do you think that the same solution
implemented with https://github.com/qgis/QGIS/pull/42193 would work if
extended to multiband rasters?

It would make it possible to have the "old" legend style, but I don't
understand if that is exactly what you want.

In any event, you should probably file a feature request ticket.

Kind regards.

-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From pathmapper at posteo.de  Wed Apr  7 03:15:40 2021
From: pathmapper at posteo.de (pathmapper)
Date: Wed, 07 Apr 2021 12:15:40 +0200
Subject: [QGIS-Developer] Disable descriptive legends for raster layers
 (for use with QGIS Server)
In-Reply-To: <CAL5Q671CULU_5h4JrmoT14mMtrakbVLfAYxcWrh108maRkDK4w@mail.gmail.com>
References: <84106405db66eccd9c33c29a8cccc5c7@posteo.de>
 <CAL5Q671CULU_5h4JrmoT14mMtrakbVLfAYxcWrh108maRkDK4w@mail.gmail.com>
Message-ID: <2f828d1b374522c2dd1bf0b5cc286fe6@posteo.de>

Thanks Alessandro

> do you think that the same solution
> implemented with https://github.com/qgis/QGIS/pull/42193 would work if
> extended to multiband rasters?

If this results in only showing the layer title in the legend, yes.

> In any event, you should probably file a feature request ticket.

done in https://github.com/qgis/QGIS/issues/42694


From nyall.dawson at gmail.com  Wed Apr  7 15:28:23 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 8 Apr 2021 08:28:23 +1000
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
References: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
Message-ID: <CAB28AsiUqQ973HPqTWE-hK8pBLtvYrUUQ0p=oYTgwYhJ78aTrg@mail.gmail.com>

On Tue, 23 Mar 2021 at 09:06, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>
> Hi list,
>
> This is a public plea for more developers who are very familiar with
> different parts of the QGIS codebase to become actively involved in
> backport PR management.
>
> We NEED more people to be actively (i.e. daily) monitoring for
> backport PRs and then reviewing them if the backport affects code
> areas which they're knowledgeable about.
>

Well my earlier plea seems like it fell on deaf ears, and we've seen
only minimal assistance coming to maintain the PR queue since I posted
this.

I'll ask nicely once more. If you're an organisation involved in QGIS
development, you NEED to donate time to maintaining this list. It's
not enough to just ensure your own PRs get through the queue, you HAVE
to help with the shared burden of getting others PRs reviewed and
merged.

This callout applies to ALL organisations who are making money from
core QGIS development. You know who you are, and you can ALL afford to
donate 30 minutes of a staff member's time each week to helping with
this shared burden. If your boss is blocking this then you NEED to let
them know how big a risk they are running here. It's not fair to leave
this responsibility on the already burdened shoulders of a few
overworked individuals.

Nyall

From cavallini at faunalia.it  Wed Apr  7 23:17:11 2021
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 8 Apr 2021 08:17:11 +0200
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CAB28AsiUqQ973HPqTWE-hK8pBLtvYrUUQ0p=oYTgwYhJ78aTrg@mail.gmail.com>
References: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
 <CAB28AsiUqQ973HPqTWE-hK8pBLtvYrUUQ0p=oYTgwYhJ78aTrg@mail.gmail.com>
Message-ID: <edd8f257-4a6c-ea64-4af6-0fd94c305b3f@faunalia.it>

Hi Nyall,

Il 08/04/21 00:28, Nyall Dawson ha scritto:

> Well my earlier plea seems like it fell on deaf ears, and we've seen
> only minimal assistance coming to maintain the PR queue since I posted
> this.

as a PSC we have talked about this.
With my business hat on, I can assure you we have not been deaf to your
call. I have thought about how to contribute to solve this, bt I did not
find a practical way to do it. The main point (clearly outlined by
Alessandro Pasotti during our latest PSC) is that very few people are
technically able to review the PRs, and usually only for the part of
code they already know well. I think this explains the lack of response.
To improve the situation I think we should provide an easy way to
contribute, in a way that actually favours those who contribute.
All the best.
-- 
Paolo Cavallini
www.faunalia.eu - QGIS.org
training, support, development on QGIS, PostGIS and more

From marco at qgis.org  Thu Apr  8 01:14:27 2021
From: marco at qgis.org (Marco Bernasocchi)
Date: Thu, 8 Apr 2021 10:14:27 +0200
Subject: [QGIS-Developer] QGIS Usergroup day on 30 april 2021
In-Reply-To: <CAB2ZMRCX_1qvuqXyKPjXK-dBN8CONnDkdeYVNM_1pWZUzmW2ww@mail.gmail.com>
References: <CAB2ZMRCX_1qvuqXyKPjXK-dBN8CONnDkdeYVNM_1pWZUzmW2ww@mail.gmail.com>
Message-ID: <CAB2ZMRDtTgOevkgiFhd4YQep2hM5yEy34eUkjV-QcMLvKJyWHQ@mail.gmail.com>

Dear QGIS Usergroups,
This is a friendly reminder that at the end of this month we are planning
the country usersgroup QGIS OpenDay.

We're looking forward to seeing what QGIS goodness is happening in your
countries!
Please head to https://github.com/qgis/QGIS/wiki/QHF-April-2021 and add the
time you would like to present (you can choose the duration and the format).

if you do have any questions, do not hesitate to get in touch with Amy
Burness (in CC), who is in charge of running the QGIS OpenDay, or me.

Cheers and see you soon
Marco

On Mon, 22 Feb 2021 at 18:49, Marco Bernasocchi <marco at qgis.org> wrote:

> Dear QGIS Usergroups,
> you have probably heard of the QGIS Open Day and the great traction it is
> gaining.
>
> If not, It is an initiative to replace the wonderful community meetups we
> used to hold every six months when times were different. Like our in-person
> meetings, the event is organised on the principle of self-organisation and
> community participation.
>
> On April 30th, we'd like to have the various Country user groups take over
> the day and show everyone their QGIS awesomeness!
>
> Please head to https://github.com/qgis/QGIS/wiki/QHF-April-2021 and add
> the time you would like to present (you can choose the duration and the
> format).
>
> We are looking forward to a super interesting day with you all!
>
> Thanks a lot for all your help in making QGIS the world's most beloved GIS
> :)
>
> Cheers
> Marco
>
> --
> Marco Bernasocchi
>
> QGIS.org Chair
> OPENGIS.ch CEO
> http://berna.io
>


-- 
Marco Bernasocchi

QGIS.org Chair
OPENGIS.ch CEO
http://berna.io
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210408/5d5c8e75/attachment.html>

From julien.cabieces at oslandia.com  Thu Apr  8 01:26:39 2021
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Thu, 08 Apr 2021 10:26:39 +0200
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CAB28AsiUqQ973HPqTWE-hK8pBLtvYrUUQ0p=oYTgwYhJ78aTrg@mail.gmail.com>
References: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
 <CAB28AsiUqQ973HPqTWE-hK8pBLtvYrUUQ0p=oYTgwYhJ78aTrg@mail.gmail.com>
Message-ID: <87lf9tdvwg.fsf@julien-laptop.home>


Hi Nyall, 

We (at Oslandia) heard your call for more volunteers in reviewing the backports and PRs.

We are very well aware that our contribution effort for this task is not enough. I see mainly two reasons: 
- Lack of time and human ressources to fullfill this task. This is a bad reason, and a well known situation that we need to take care of internally, to free our schedule.
- A very partial knowledge of the code base in which we feel relevant to review. I try myself to review all Oracle related PRs, or take a look in some part of the code I know enough to make a good review, but it's very little compared to the QGIS code base. 

I hesitated answering your first email, saying basically that we will try to improve the situation, but it would have been just a promise, and I'm not sure that we would have been able to keep it, regarding the points I described above.

Kind regard, 
Julien

> On Tue, 23 Mar 2021 at 09:06, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>
>> Hi list,
>>
>> This is a public plea for more developers who are very familiar with
>> different parts of the QGIS codebase to become actively involved in
>> backport PR management.
>>
>> We NEED more people to be actively (i.e. daily) monitoring for
>> backport PRs and then reviewing them if the backport affects code
>> areas which they're knowledgeable about.
>>
>
> Well my earlier plea seems like it fell on deaf ears, and we've seen
> only minimal assistance coming to maintain the PR queue since I posted
> this.
>
> I'll ask nicely once more. If you're an organisation involved in QGIS
> development, you NEED to donate time to maintaining this list. It's
> not enough to just ensure your own PRs get through the queue, you HAVE
> to help with the shared burden of getting others PRs reviewed and
> merged.
>
> This callout applies to ALL organisations who are making money from
> core QGIS development. You know who you are, and you can ALL afford to
> donate 30 minutes of a staff member's time each week to helping with
> this shared burden. If your boss is blocking this then you NEED to let
> them know how big a risk they are running here. It's not fair to leave
> this responsibility on the already burdened shoulders of a few
> overworked individuals.
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From anitagraser at gmx.at  Thu Apr  8 09:52:57 2021
From: anitagraser at gmx.at (Anita Graser)
Date: Thu, 8 Apr 2021 18:52:57 +0200
Subject: [QGIS-Developer] Update on the 2021 grant programme
Message-ID: <30cecbea-dc4c-d0f3-3ea2-e85afae2b778@gmx.at>

Dear QGIS Community,

We have now compiled the 2021 grant applications summary which is
available at:

https://docs.google.com/document/d/1mQeiuVpFQNhAvoQ1LAllVhYNQM1GfxYDfvqqCGyulR8/edit?usp=sharing

This year?s programme budget is ? 25,000 and we initially received 12
applications totaling ? 42,500.

During the QEP discussion phase, QEP:214 (? 2,000) was withdrawn and
QEP:202 was reduced to a research & proof of concept proposal (? 3,000
instead of ? 12,500). The remaining 11 proposals amount to a total of ?
31,000.

The next step will be to set up the voting form and email our voting
members to review the proposals and cast their vote.

Regards,

Anita





From nyall.dawson at gmail.com  Thu Apr  8 22:44:46 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 9 Apr 2021 15:44:46 +1000
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <87lf9tdvwg.fsf@julien-laptop.home>
References: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
 <CAB28AsiUqQ973HPqTWE-hK8pBLtvYrUUQ0p=oYTgwYhJ78aTrg@mail.gmail.com>
 <87lf9tdvwg.fsf@julien-laptop.home>
Message-ID: <CAB28AshzfK4=YkiHBaZgHw7V-pb9HbQD-mGs9b7s9eP_5JQg1g@mail.gmail.com>

On Thu, 8 Apr 2021 at 18:26, Julien Cabieces
<julien.cabieces at oslandia.com> wrote:
>
>
> Hi Nyall,
>
> We (at Oslandia) heard your call for more volunteers in reviewing the backports and PRs.
>
> We are very well aware that our contribution effort for this task is not enough. I see mainly two reasons:
> - Lack of time and human ressources to fullfill this task. This is a bad reason, and a well known situation that we need to take care of internally, to free our schedule.
> - A very partial knowledge of the code base in which we feel relevant to review. I try myself to review all Oracle related PRs, or take a look in some part of the code I know enough to make a good review,

It would certainly be remiss of me not to acknowledge your hard work
in maintaining the Oracle provider over recent months -- it's
certainly very highly valued!

> but it's very little compared to the QGIS code base.

This is where things get really tricky. We do have a very small pool
of people with the required expertise to handle the reviewing process,
and it's a very fine balancing act of "opening this up to a wider
community" vs "ensure that nothing nasty gets through". I don't have
any easy answers here, but a few random thoughts:

- ANY review is appreciated, even if it's just a "I had a look at this
and the c++ code looks good to me, but I'm not familiar with the QGIS
raster api so can someone else check this part out".
- There's a lot of "chore" work in the pr review process which has a
lower barrier of entry. For instance guiding new contributors through
the QGIS processes such as the formatting scripts and CI setup. We
regularly get PRs from first-time contributors and they almost always
need some mentoring in the QGIS processes before they pass the CI
setup and are ready for an in-depth review. This is the kind of thing
which we should ideally do ASAP, as the faster we get the contributors
through the initial maze of QGIS contributions the more likely they
are to continue to contribute.
- We've discussed this before, but a quick comment from a
non-developer on new contributors PRs to say "great work, welcome
abroad, this sounds like a very valuable contribution" is enough to
give the project a positive vibe and give motivation to the submitter
to get their PR in shape to merge
- PR reviewing is a great way to learn new parts of the QGIS codebase ;)

> I hesitated answering your first email, saying basically that we will try to improve the situation, but it would have been just a promise, and I'm not sure that we would have been able to keep it, regarding the points I described above.

I really appreciate the reply, and the time you've taken to drop your
thoughts into this conversation!

Nyall




>
>
> Kind regard,
> Julien
>
> > On Tue, 23 Mar 2021 at 09:06, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> >>
> >> Hi list,
> >>
> >> This is a public plea for more developers who are very familiar with
> >> different parts of the QGIS codebase to become actively involved in
> >> backport PR management.
> >>
> >> We NEED more people to be actively (i.e. daily) monitoring for
> >> backport PRs and then reviewing them if the backport affects code
> >> areas which they're knowledgeable about.
> >>
> >
> > Well my earlier plea seems like it fell on deaf ears, and we've seen
> > only minimal assistance coming to maintain the PR queue since I posted
> > this.
> >
> > I'll ask nicely once more. If you're an organisation involved in QGIS
> > development, you NEED to donate time to maintaining this list. It's
> > not enough to just ensure your own PRs get through the queue, you HAVE
> > to help with the shared burden of getting others PRs reviewed and
> > merged.
> >
> > This callout applies to ALL organisations who are making money from
> > core QGIS development. You know who you are, and you can ALL afford to
> > donate 30 minutes of a staff member's time each week to helping with
> > this shared burden. If your boss is blocking this then you NEED to let
> > them know how big a risk they are running here. It's not fair to leave
> > this responsibility on the already burdened shoulders of a few
> > overworked individuals.
> >
> > Nyall
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From peter.petrik at lutraconsulting.co.uk  Fri Apr  9 00:21:03 2021
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Fri, 9 Apr 2021 09:21:03 +0200
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CAB28AshzfK4=YkiHBaZgHw7V-pb9HbQD-mGs9b7s9eP_5JQg1g@mail.gmail.com>
References: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
 <CAB28AsiUqQ973HPqTWE-hK8pBLtvYrUUQ0p=oYTgwYhJ78aTrg@mail.gmail.com>
 <87lf9tdvwg.fsf@julien-laptop.home>
 <CAB28AshzfK4=YkiHBaZgHw7V-pb9HbQD-mGs9b7s9eP_5JQg1g@mail.gmail.com>
Message-ID: <CA+T_MsL0V6h_SM7Xtd9wXg6VK=C4xPRPYg823FrY6=-AFN+-zg@mail.gmail.com>

Hi,

First of all, thanks Nyall for your efforts. I try to review the code that
we introduced to QGIS and I find kind-of familiar: for example QgsQuick,
MeshLayer or MacOS stuff. But as mentioned in the thread, the less you know
the particular code, the more time it takes to review it.  What I see that
I can improve is to actively at least twice per week double check the PR
queue to see if there is something in this area, since sometimes I need to
be pinged to get a notification in email that the PR is waiting for review.

What are my thoughts on other improvements not mentioned by Nyall and
others:
1. when someone introduces a new feature (and most notably coming from a
paid contract), the review process should be taken into account in the
quote and the reviewer should be notified. Proper review can take days...
2.  we may have a (partially paid?) role for the review manager, to go
through the PR queue, ping people for reviews, etc. (Alternatively) create
some github-action bot to assign the maintainers to the PRs as reviewers?
3. reintroduce the maintainers of particular QGIS code-base. For example
here the motivation for companies could be to advertise their logo in the
"sustainable member section"  or introducing some other category to
advertise their efforts.

Cheers,
Peter


On Fri, Apr 9, 2021 at 7:45 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Thu, 8 Apr 2021 at 18:26, Julien Cabieces
> <julien.cabieces at oslandia.com> wrote:
> >
> >
> > Hi Nyall,
> >
> > We (at Oslandia) heard your call for more volunteers in reviewing the
> backports and PRs.
> >
> > We are very well aware that our contribution effort for this task is not
> enough. I see mainly two reasons:
> > - Lack of time and human ressources to fullfill this task. This is a bad
> reason, and a well known situation that we need to take care of internally,
> to free our schedule.
> > - A very partial knowledge of the code base in which we feel relevant to
> review. I try myself to review all Oracle related PRs, or take a look in
> some part of the code I know enough to make a good review,
>
> It would certainly be remiss of me not to acknowledge your hard work
> in maintaining the Oracle provider over recent months -- it's
> certainly very highly valued!
>
> > but it's very little compared to the QGIS code base.
>
> This is where things get really tricky. We do have a very small pool
> of people with the required expertise to handle the reviewing process,
> and it's a very fine balancing act of "opening this up to a wider
> community" vs "ensure that nothing nasty gets through". I don't have
> any easy answers here, but a few random thoughts:
>
> - ANY review is appreciated, even if it's just a "I had a look at this
> and the c++ code looks good to me, but I'm not familiar with the QGIS
> raster api so can someone else check this part out".
> - There's a lot of "chore" work in the pr review process which has a
> lower barrier of entry. For instance guiding new contributors through
> the QGIS processes such as the formatting scripts and CI setup. We
> regularly get PRs from first-time contributors and they almost always
> need some mentoring in the QGIS processes before they pass the CI
> setup and are ready for an in-depth review. This is the kind of thing
> which we should ideally do ASAP, as the faster we get the contributors
> through the initial maze of QGIS contributions the more likely they
> are to continue to contribute.
> - We've discussed this before, but a quick comment from a
> non-developer on new contributors PRs to say "great work, welcome
> abroad, this sounds like a very valuable contribution" is enough to
> give the project a positive vibe and give motivation to the submitter
> to get their PR in shape to merge
> - PR reviewing is a great way to learn new parts of the QGIS codebase ;)
>
> > I hesitated answering your first email, saying basically that we will
> try to improve the situation, but it would have been just a promise, and
> I'm not sure that we would have been able to keep it, regarding the points
> I described above.
>
> I really appreciate the reply, and the time you've taken to drop your
> thoughts into this conversation!
>
> Nyall
>
>
>
>
> >
> >
> > Kind regard,
> > Julien
> >
> > > On Tue, 23 Mar 2021 at 09:06, Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
> > >>
> > >> Hi list,
> > >>
> > >> This is a public plea for more developers who are very familiar with
> > >> different parts of the QGIS codebase to become actively involved in
> > >> backport PR management.
> > >>
> > >> We NEED more people to be actively (i.e. daily) monitoring for
> > >> backport PRs and then reviewing them if the backport affects code
> > >> areas which they're knowledgeable about.
> > >>
> > >
> > > Well my earlier plea seems like it fell on deaf ears, and we've seen
> > > only minimal assistance coming to maintain the PR queue since I posted
> > > this.
> > >
> > > I'll ask nicely once more. If you're an organisation involved in QGIS
> > > development, you NEED to donate time to maintaining this list. It's
> > > not enough to just ensure your own PRs get through the queue, you HAVE
> > > to help with the shared burden of getting others PRs reviewed and
> > > merged.
> > >
> > > This callout applies to ALL organisations who are making money from
> > > core QGIS development. You know who you are, and you can ALL afford to
> > > donate 30 minutes of a staff member's time each week to helping with
> > > this shared burden. If your boss is blocking this then you NEED to let
> > > them know how big a risk they are running here. It's not fair to leave
> > > this responsibility on the already burdened shoulders of a few
> > > overworked individuals.
> > >
> > > Nyall
> > > _______________________________________________
> > > QGIS-Developer mailing list
> > > QGIS-Developer at lists.osgeo.org
> > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210409/ac98b120/attachment.html>

From matthias at opengis.ch  Fri Apr  9 02:09:50 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 9 Apr 2021 11:09:50 +0200
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CA+T_MsL0V6h_SM7Xtd9wXg6VK=C4xPRPYg823FrY6=-AFN+-zg@mail.gmail.com>
References: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
 <CAB28AsiUqQ973HPqTWE-hK8pBLtvYrUUQ0p=oYTgwYhJ78aTrg@mail.gmail.com>
 <87lf9tdvwg.fsf@julien-laptop.home>
 <CAB28AshzfK4=YkiHBaZgHw7V-pb9HbQD-mGs9b7s9eP_5JQg1g@mail.gmail.com>
 <CA+T_MsL0V6h_SM7Xtd9wXg6VK=C4xPRPYg823FrY6=-AFN+-zg@mail.gmail.com>
Message-ID: <CAC7zN95p0D6kbmqO=Te-wwLudUfLd4Xzs87sZo+R7EhWKtEF0A@mail.gmail.com>

Hi,

Thanks for the continued effort in reviewing. It's one of the
not-so-visible-highly-technically-and-socially-qualified-people-needed-but-very-important
aspects of (open source) software development.

I try to go over the PR queue every now and then and merge/comment/review
what's possible, but these days I find less time than in the past. While at
the same time it seems pull request activity increases it seems.
I'll make sure we raise this topic at an upcoming OPENGIS.ch meeting and
encourage people to participate.

Additionally to what has been said already, backports are easy to forget /
ignore by the original author because they have been opened by a bot and as
an author you won't receive notifications by reviewers or the stale bot. I
wonder if we could get the original author more involved if we'd mention
them in the backport comment and increase their responsibility for this
part. This might be worth some automation.

Something else is that for example for me, the process to decide which
backports get into pending backports was not obvious at first (only the LTR
or also LR? At which stage of the LTR? How exactly do they get in there?),
I'm sure for other people there are other parts of the process that are not
immediately clear. I think documenting the review process could help here
(the suggestions written by Nyall above for a lower entry barrier into the
reviewer process would already be worth mentioning).

I hope I'll find more time again for reviews myself in the future.
I actually enjoyed it a lot in the past; it has influenced my development a
lot over the years as it allowed me to discuss concepts and approaches with
experts from all over the globe, more than I had the chance before in the
SMB offices I have been employed before.

Matthias

On Fri, Apr 9, 2021 at 9:21 AM Peter Petrik <
peter.petrik at lutraconsulting.co.uk> wrote:

> Hi,
>
> First of all, thanks Nyall for your efforts. I try to review the code that
> we introduced to QGIS and I find kind-of familiar: for example QgsQuick,
> MeshLayer or MacOS stuff. But as mentioned in the thread, the less you know
> the particular code, the more time it takes to review it.  What I see that
> I can improve is to actively at least twice per week double check the PR
> queue to see if there is something in this area, since sometimes I need to
> be pinged to get a notification in email that the PR is waiting for review.
>
> What are my thoughts on other improvements not mentioned by Nyall and
> others:
> 1. when someone introduces a new feature (and most notably coming from a
> paid contract), the review process should be taken into account in the
> quote and the reviewer should be notified. Proper review can take days...
> 2.  we may have a (partially paid?) role for the review manager, to go
> through the PR queue, ping people for reviews, etc. (Alternatively) create
> some github-action bot to assign the maintainers to the PRs as reviewers?
> 3. reintroduce the maintainers of particular QGIS code-base. For example
> here the motivation for companies could be to advertise their logo in the
> "sustainable member section"  or introducing some other category to
> advertise their efforts.
>
> Cheers,
> Peter
>
>
> On Fri, Apr 9, 2021 at 7:45 AM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>
>> On Thu, 8 Apr 2021 at 18:26, Julien Cabieces
>> <julien.cabieces at oslandia.com> wrote:
>> >
>> >
>> > Hi Nyall,
>> >
>> > We (at Oslandia) heard your call for more volunteers in reviewing the
>> backports and PRs.
>> >
>> > We are very well aware that our contribution effort for this task is
>> not enough. I see mainly two reasons:
>> > - Lack of time and human ressources to fullfill this task. This is a
>> bad reason, and a well known situation that we need to take care of
>> internally, to free our schedule.
>> > - A very partial knowledge of the code base in which we feel relevant
>> to review. I try myself to review all Oracle related PRs, or take a look in
>> some part of the code I know enough to make a good review,
>>
>> It would certainly be remiss of me not to acknowledge your hard work
>> in maintaining the Oracle provider over recent months -- it's
>> certainly very highly valued!
>>
>> > but it's very little compared to the QGIS code base.
>>
>> This is where things get really tricky. We do have a very small pool
>> of people with the required expertise to handle the reviewing process,
>> and it's a very fine balancing act of "opening this up to a wider
>> community" vs "ensure that nothing nasty gets through". I don't have
>> any easy answers here, but a few random thoughts:
>>
>> - ANY review is appreciated, even if it's just a "I had a look at this
>> and the c++ code looks good to me, but I'm not familiar with the QGIS
>> raster api so can someone else check this part out".
>> - There's a lot of "chore" work in the pr review process which has a
>> lower barrier of entry. For instance guiding new contributors through
>> the QGIS processes such as the formatting scripts and CI setup. We
>> regularly get PRs from first-time contributors and they almost always
>> need some mentoring in the QGIS processes before they pass the CI
>> setup and are ready for an in-depth review. This is the kind of thing
>> which we should ideally do ASAP, as the faster we get the contributors
>> through the initial maze of QGIS contributions the more likely they
>> are to continue to contribute.
>> - We've discussed this before, but a quick comment from a
>> non-developer on new contributors PRs to say "great work, welcome
>> abroad, this sounds like a very valuable contribution" is enough to
>> give the project a positive vibe and give motivation to the submitter
>> to get their PR in shape to merge
>> - PR reviewing is a great way to learn new parts of the QGIS codebase ;)
>>
>> > I hesitated answering your first email, saying basically that we will
>> try to improve the situation, but it would have been just a promise, and
>> I'm not sure that we would have been able to keep it, regarding the points
>> I described above.
>>
>> I really appreciate the reply, and the time you've taken to drop your
>> thoughts into this conversation!
>>
>> Nyall
>>
>>
>>
>>
>> >
>> >
>> > Kind regard,
>> > Julien
>> >
>> > > On Tue, 23 Mar 2021 at 09:06, Nyall Dawson <nyall.dawson at gmail.com>
>> wrote:
>> > >>
>> > >> Hi list,
>> > >>
>> > >> This is a public plea for more developers who are very familiar with
>> > >> different parts of the QGIS codebase to become actively involved in
>> > >> backport PR management.
>> > >>
>> > >> We NEED more people to be actively (i.e. daily) monitoring for
>> > >> backport PRs and then reviewing them if the backport affects code
>> > >> areas which they're knowledgeable about.
>> > >>
>> > >
>> > > Well my earlier plea seems like it fell on deaf ears, and we've seen
>> > > only minimal assistance coming to maintain the PR queue since I posted
>> > > this.
>> > >
>> > > I'll ask nicely once more. If you're an organisation involved in QGIS
>> > > development, you NEED to donate time to maintaining this list. It's
>> > > not enough to just ensure your own PRs get through the queue, you HAVE
>> > > to help with the shared burden of getting others PRs reviewed and
>> > > merged.
>> > >
>> > > This callout applies to ALL organisations who are making money from
>> > > core QGIS development. You know who you are, and you can ALL afford to
>> > > donate 30 minutes of a staff member's time each week to helping with
>> > > this shared burden. If your boss is blocking this then you NEED to let
>> > > them know how big a risk they are running here. It's not fair to leave
>> > > this responsibility on the already burdened shoulders of a few
>> > > overworked individuals.
>> > >
>> > > Nyall
>> > > _______________________________________________
>> > > QGIS-Developer mailing list
>> > > QGIS-Developer at lists.osgeo.org
>> > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210409/7db1848c/attachment-0001.html>

From giovanni.manghi at gmail.com  Fri Apr  9 09:41:29 2021
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Fri, 9 Apr 2021 17:41:29 +0100
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <mailman.34734.1617959403.26371.qgis-developer@lists.osgeo.org>
References: <mailman.34734.1617959403.26371.qgis-developer@lists.osgeo.org>
Message-ID: <CACfnYnTbL1CJ6YULWoqzmE8b-GYxp0DnRNedhCXqbQk3zBc++w@mail.gmail.com>

Hi all,


> 2.  we may have a (partially paid?) role for the review manager, to go
> through the PR queue, ping people for reviews, etc.

Has this been considered/discussed (having 1 or more paid reviewers)?

At very least this seems a reasonable solution until we are not able
to bring in more reviewers.

cheers

-- G --

From alroyliz0 at gmail.com  Fri Apr  9 14:10:31 2021
From: alroyliz0 at gmail.com (Alexis R.L.)
Date: Fri, 9 Apr 2021 17:10:31 -0400
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CACfnYnTbL1CJ6YULWoqzmE8b-GYxp0DnRNedhCXqbQk3zBc++w@mail.gmail.com>
References: <mailman.34734.1617959403.26371.qgis-developer@lists.osgeo.org>
 <CACfnYnTbL1CJ6YULWoqzmE8b-GYxp0DnRNedhCXqbQk3zBc++w@mail.gmail.com>
Message-ID: <CAOM0XWANvhDMbWCP4aGz0Dwo3nFdu8haEfz44PfO9PMeDdjVdw@mail.gmail.com>

I agree with Gio and I was curious as to why some bugs are funded but not
reviewing. Reviewing can help prevent some bugs and has also the potential
to improve a PR.

I'd also say that improving the review pace will help losing PR to
stalebot. In my eyes bugfix are crucial, but new features are also
important, and those seem to require more time to review. New features also
help promote QGIS and compete against other software.

Funding could be done like bugs or like grants, with or without a selection
process. This would help competent devs to devote more of their time to
reviewing.

Alex


Le ven. 9 avr. 2021 ? 12:42, Giovanni Manghi <giovanni.manghi at gmail.com> a
?crit :

> Hi all,
>
>
> > 2.  we may have a (partially paid?) role for the review manager, to go
> > through the PR queue, ping people for reviews, etc.
>
> Has this been considered/discussed (having 1 or more paid reviewers)?
>
> At very least this seems a reasonable solution until we are not able
> to bring in more reviewers.
>
> cheers
>
> -- G --
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210409/d7f088d8/attachment.html>

From apasotti at gmail.com  Sat Apr 10 01:44:45 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sat, 10 Apr 2021 10:44:45 +0200
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CAOM0XWANvhDMbWCP4aGz0Dwo3nFdu8haEfz44PfO9PMeDdjVdw@mail.gmail.com>
References: <mailman.34734.1617959403.26371.qgis-developer@lists.osgeo.org>
 <CACfnYnTbL1CJ6YULWoqzmE8b-GYxp0DnRNedhCXqbQk3zBc++w@mail.gmail.com>
 <CAOM0XWANvhDMbWCP4aGz0Dwo3nFdu8haEfz44PfO9PMeDdjVdw@mail.gmail.com>
Message-ID: <CAL5Q672yqp2xgCZrBWJnDGUJzKWTm41puLr3FppjLAOjuR3xCg@mail.gmail.com>

On Fri, Apr 9, 2021 at 11:11 PM Alexis R.L. <alroyliz0 at gmail.com> wrote:
>
> I agree with Gio and I was curious as to why some bugs are funded but not reviewing. Reviewing can help prevent some bugs and has also the potential to improve a PR.
>
> I'd also say that improving the review pace will help losing PR to stalebot. In my eyes bugfix are crucial, but new features are also important, and those seem to require more time to review. New features also help promote QGIS and compete against other software.
>
> Funding could be done like bugs or like grants, with or without a selection process. This would help competent devs to devote more of their time to reviewing.
>
> Alex
>
>
> Le ven. 9 avr. 2021 ? 12:42, Giovanni Manghi <giovanni.manghi at gmail.com> a ?crit :
>>
>> Hi all,
>>
>>
>> > 2.  we may have a (partially paid?) role for the review manager, to go
>> > through the PR queue, ping people for reviews, etc.
>>
>> Has this been considered/discussed (having 1 or more paid reviewers)?
>>
>> At very least this seems a reasonable solution until we are not able
>> to bring in more reviewers.
>>


Hi,

this was discussed a few times, just to clarify where we stand now:

- during the last few year there has been a small QGIS.org budget for
PR queue management which includes reviews to some extent, see the
budget documents and financial reports
https://www.qgis.org/en/site/getinvolved/governance/finance/index.html?highlight=finances,
Matthias, Nyall and (recently, for a small part) myself have been the
recipients of the funds. I can only speak for myself but I'm pretty
sure that this stands also for Nyall and Matthias when I say that
these funds only covered a tiny fraction of the time that we spend on
PR reviews.
- most core developers that I personally know, regularly allocate
budget for doing PR reviews when they do paid work, this budget is
used for PR reviews by other QGIS core committers of the same company
(if your company is so lucky to have more than one) or on an exchange
basis, for example Nyall asks me to review his PR and I ask him to do
the same for me (which happens more often than the opposite): this
happens all the times.
- when we (core developers) work on the QGIS.org paid bugfixing
program before the releases we switch to full "QGIS dev" mode and we
also do PR reviews because it's just part of the process.

Now, my personal opinion about where the problems are and how to
possibly solve them, I'm talking about the most complex PRs, obviously
there are PRs that are really trivial and quick to review:

- PR reviews may be very hard and time consuming and are an assumption
of responsibility, I don't think that there is any single developer
who feels comfortable to do reviews on the entire (huge) QGIS code
base.
- As already mentioned by Matthias, there are blurry lines between
what is acceptable for backporting, the policy has changed a few times
and it is not yet entirely clear to me, this can slow down the PR
review process on backports.
- PR reviews require a deep understanding of the QGIS internals plus a
knowledge of the history of the project and why things have been
implemented in a certain way (that doesn't obviously mean that they
couldn't be refactored).
- The entry barriers for QGIS developments are very high, we all know
that, the code base is huge, the different technologies you need to
know are many and the QA process (CI, tests, code style, spelling,
name your favourite blocker here) is terribly complex (with a reason
because it ultimately leads to better and more robust code!).

That said, I feel that we are now in a better situation than we were a
couple of years ago when the PR queue was much longer compared to now.

But how can we speed up the process?

- the obvious solution is to increase the budget for PR reviewers and
enlarge the number of developers involved to make sure we can cover a
larger area of the code base. Ideally we should be able to pay for a
regular time slot of each involved developer (say, just for example: 4
hours a week?), this may not be evenly distributed, for example a
developer that takes care of the server PRs might require a smaller
time slot than one that works on 3D (just an example, really).
- have clear rules about what can or cannot be backported and when (do
we skip a point release now?, for LTR only?)
- all developers that are working on a funded feature/bugfix/whatever
**MUST** allocate budget for PR reviews (including backports) and take
care of that by paying another developer (if possible from a different
company).
- bring in more developers!

The last one is clearly very difficult and probably worth its own
thread, also because it cannot happen overnight.

What I am 100% sure about is that we cannot just hire some random
developer that knows little about QGIS development to do the work for
us, the burden of PR reviews must stay on the QGIS core developers
team, we must find a way to allow the core developers to **regularly**
spend more time on that activity.

And last but not least: time is a limiting resource and we all do have a life :)

-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From nyall.dawson at gmail.com  Sat Apr 10 02:42:26 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 10 Apr 2021 19:42:26 +1000
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CAB28AsiUqQ973HPqTWE-hK8pBLtvYrUUQ0p=oYTgwYhJ78aTrg@mail.gmail.com>
References: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
 <CAB28AsiUqQ973HPqTWE-hK8pBLtvYrUUQ0p=oYTgwYhJ78aTrg@mail.gmail.com>
Message-ID: <CAB28AsgXTt=0vBWJWxfvZyVE9FZzem5yXzg4Rqd0kEqm5-zpqw@mail.gmail.com>

On Thu, 8 Apr 2021 at 08:28, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>
> On Tue, 23 Mar 2021 at 09:06, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> >
> > Hi list,
> >
> > This is a public plea for more developers who are very familiar with
> > different parts of the QGIS codebase to become actively involved in
> > backport PR management.
> >
> > We NEED more people to be actively (i.e. daily) monitoring for
> > backport PRs and then reviewing them if the backport affects code
> > areas which they're knowledgeable about.
> >
>
> Well my earlier plea seems like it fell on deaf ears, and we've seen
> only minimal assistance coming to maintain the PR queue since I posted
> this.
>

Hi all -- just wanted to send out a quick "thanks" to everyone who has
replied and the valuable discussion this has kicked off. I'm going
(mostly) off grid for the next week (camping) so my replies to
incoming emails will be delayed, but I promise to reply to all the
questions sent my way when I'm back :)

Nyall

From andreas at qgis.org  Sun Apr 11 23:26:30 2021
From: andreas at qgis.org (Andreas Neumann)
Date: Mon, 12 Apr 2021 08:26:30 +0200
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CAL5Q672yqp2xgCZrBWJnDGUJzKWTm41puLr3FppjLAOjuR3xCg@mail.gmail.com>
References: <mailman.34734.1617959403.26371.qgis-developer@lists.osgeo.org>
 <CACfnYnTbL1CJ6YULWoqzmE8b-GYxp0DnRNedhCXqbQk3zBc++w@mail.gmail.com>
 <CAOM0XWANvhDMbWCP4aGz0Dwo3nFdu8haEfz44PfO9PMeDdjVdw@mail.gmail.com>
 <CAL5Q672yqp2xgCZrBWJnDGUJzKWTm41puLr3FppjLAOjuR3xCg@mail.gmail.com>
Message-ID: <CAB2Z92D0QCY=4MRQ56Tz9CKbgZuOAAC52MeGbbTzYzZ24K_W1A@mail.gmail.com>

Hi Alex, Hi all,

Thank you for this very good summary, which summarizes the problems and
potential solutions pretty well. On the financial side I can say that for
2021 we increased the budget available for Github and Travis management,
and PR reviewing from 6k in 2020 to 10k in 2021 - related projects like the
Travis to Github CI migration are not included here and have their separate
budget item.

However, as Alessandro pointed out, the main issue here is finding skilled
persons who know the QGIS project and code base good enough to be able to
help in the reviewing process.

Nevertheless, I will try to increase the budget item dedicated to CI
maintenance and PR reviewing again in 2022. Hopefully, in parallel, the
reviewing process and rules can be better formalized and more people can
join the effort.

Greetings,
Andreas



On Sat, 10 Apr 2021 at 10:44, Alessandro Pasotti <apasotti at gmail.com> wrote:

> On Fri, Apr 9, 2021 at 11:11 PM Alexis R.L. <alroyliz0 at gmail.com> wrote:
> >
> > I agree with Gio and I was curious as to why some bugs are funded but
> not reviewing. Reviewing can help prevent some bugs and has also the
> potential to improve a PR.
> >
> > I'd also say that improving the review pace will help losing PR to
> stalebot. In my eyes bugfix are crucial, but new features are also
> important, and those seem to require more time to review. New features also
> help promote QGIS and compete against other software.
> >
> > Funding could be done like bugs or like grants, with or without a
> selection process. This would help competent devs to devote more of their
> time to reviewing.
> >
> > Alex
> >
> >
> > Le ven. 9 avr. 2021 ? 12:42, Giovanni Manghi <giovanni.manghi at gmail.com>
> a ?crit :
> >>
> >> Hi all,
> >>
> >>
> >> > 2.  we may have a (partially paid?) role for the review manager, to go
> >> > through the PR queue, ping people for reviews, etc.
> >>
> >> Has this been considered/discussed (having 1 or more paid reviewers)?
> >>
> >> At very least this seems a reasonable solution until we are not able
> >> to bring in more reviewers.
> >>
>
>
> Hi,
>
> this was discussed a few times, just to clarify where we stand now:
>
> - during the last few year there has been a small QGIS.org budget for
> PR queue management which includes reviews to some extent, see the
> budget documents and financial reports
>
> https://www.qgis.org/en/site/getinvolved/governance/finance/index.html?highlight=finances
> ,
> Matthias, Nyall and (recently, for a small part) myself have been the
> recipients of the funds. I can only speak for myself but I'm pretty
> sure that this stands also for Nyall and Matthias when I say that
> these funds only covered a tiny fraction of the time that we spend on
> PR reviews.
> - most core developers that I personally know, regularly allocate
> budget for doing PR reviews when they do paid work, this budget is
> used for PR reviews by other QGIS core committers of the same company
> (if your company is so lucky to have more than one) or on an exchange
> basis, for example Nyall asks me to review his PR and I ask him to do
> the same for me (which happens more often than the opposite): this
> happens all the times.
> - when we (core developers) work on the QGIS.org paid bugfixing
> program before the releases we switch to full "QGIS dev" mode and we
> also do PR reviews because it's just part of the process.
>
> Now, my personal opinion about where the problems are and how to
> possibly solve them, I'm talking about the most complex PRs, obviously
> there are PRs that are really trivial and quick to review:
>
> - PR reviews may be very hard and time consuming and are an assumption
> of responsibility, I don't think that there is any single developer
> who feels comfortable to do reviews on the entire (huge) QGIS code
> base.
> - As already mentioned by Matthias, there are blurry lines between
> what is acceptable for backporting, the policy has changed a few times
> and it is not yet entirely clear to me, this can slow down the PR
> review process on backports.
> - PR reviews require a deep understanding of the QGIS internals plus a
> knowledge of the history of the project and why things have been
> implemented in a certain way (that doesn't obviously mean that they
> couldn't be refactored).
> - The entry barriers for QGIS developments are very high, we all know
> that, the code base is huge, the different technologies you need to
> know are many and the QA process (CI, tests, code style, spelling,
> name your favourite blocker here) is terribly complex (with a reason
> because it ultimately leads to better and more robust code!).
>
> That said, I feel that we are now in a better situation than we were a
> couple of years ago when the PR queue was much longer compared to now.
>
> But how can we speed up the process?
>
> - the obvious solution is to increase the budget for PR reviewers and
> enlarge the number of developers involved to make sure we can cover a
> larger area of the code base. Ideally we should be able to pay for a
> regular time slot of each involved developer (say, just for example: 4
> hours a week?), this may not be evenly distributed, for example a
> developer that takes care of the server PRs might require a smaller
> time slot than one that works on 3D (just an example, really).
> - have clear rules about what can or cannot be backported and when (do
> we skip a point release now?, for LTR only?)
> - all developers that are working on a funded feature/bugfix/whatever
> **MUST** allocate budget for PR reviews (including backports) and take
> care of that by paying another developer (if possible from a different
> company).
> - bring in more developers!
>
> The last one is clearly very difficult and probably worth its own
> thread, also because it cannot happen overnight.
>
> What I am 100% sure about is that we cannot just hire some random
> developer that knows little about QGIS development to do the work for
> us, the burden of PR reviews must stay on the QGIS core developers
> team, we must find a way to allow the core developers to **regularly**
> spend more time on that activity.
>
> And last but not least: time is a limiting resource and we all do have a
> life :)
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 

--
Andreas Neumann
QGIS.ORG board member (treasurer)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210412/b7c53746/attachment.html>

From tim at kartoza.com  Mon Apr 12 00:56:30 2021
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 12 Apr 2021 08:56:30 +0100
Subject: [QGIS-Developer] Missing resource compile error
Message-ID: <CAES-DZTk733AENvj6EXZpx0eJBGipyERaRqK=rmLu_PxXAKqcA@mail.gmail.com>

Hi All

Just updated to 393d60bf25651f6973d853c754a2d8a1abe60d1f and getting build
fail with:

:-1: error: No rule to make target
'/home/timlinux/dev/cpp/QGIS/resources/server/src/landingpage/src/assets/logo.png',
needed by
'output/data/resources/server/src/landingpage/src/assets/logo.png'.  Stop.


Probably not related to the above commit, but does anyone else get this?

Regards

Tim

-- 
------------------------------------------------------------------------------------------

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210412/42232949/attachment.html>

From apasotti at gmail.com  Mon Apr 12 00:59:58 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 12 Apr 2021 09:59:58 +0200
Subject: [QGIS-Developer] Missing resource compile error
In-Reply-To: <CAES-DZTk733AENvj6EXZpx0eJBGipyERaRqK=rmLu_PxXAKqcA@mail.gmail.com>
References: <CAES-DZTk733AENvj6EXZpx0eJBGipyERaRqK=rmLu_PxXAKqcA@mail.gmail.com>
Message-ID: <CAL5Q673uvBnRoEqyU0KUTw360ZBMe9wAZ3OLEUZvJgwtmUNWJg@mail.gmail.com>

On Mon, Apr 12, 2021 at 9:56 AM Tim Sutton <tim at kartoza.com> wrote:

> Hi All
>
> Just updated to 393d60bf25651f6973d853c754a2d8a1abe60d1f and getting build
> fail with:
>
> :-1: error: No rule to make target
> '/home/timlinux/dev/cpp/QGIS/resources/server/src/landingpage/src/assets/logo.png',
> needed by
> 'output/data/resources/server/src/landingpage/src/assets/logo.png'.  Stop.
>
>
> Probably not related to the above commit, but does anyone else get this?
>
>

Hi,

Did you try to re-run cmake?

That file was recently changed:
https://github.com/qgis/QGIS/pull/42736/files


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210412/ba707edb/attachment-0001.html>

From francesco.bursi at hotmail.it  Mon Apr 12 05:20:53 2021
From: francesco.bursi at hotmail.it (Francesco Bursi)
Date: Mon, 12 Apr 2021 12:20:53 +0000
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
Message-ID: <VI1P190MB038187BB910511B3B6B8B44280709@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>

Hello QGIS Dev,


I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently enrolled in a Master of Advanced Studies (Level 8 EQF) in giscience and geoinformatics at the University of Padua.

I?m really interested in the QGIS (possible) new rendering feature that involves raster calculator capabilities, I've already discussed the project with mentors Martin Tobias and Peter Petrik and possible co-mentor Roberto Marzocchi,  they gave me a lot of feedback and advice for the project.
I would like to share my proposal with you before the final submission. Don't hesitate to give me feedback and ask me question/clarification or point me out what's missing.


proposal 2021<https://docs.google.com/document/d/1u8L_L1IJjGCZ3d8Vq8duxHbsHZeyzwqOe3tXa1JcKbs/edit?usp=sharing>


I'm open to advice, remarks and criticism in order to improve.

I am looking forward to a feedback, thank you for your time.


Best regards,

Francesco Bursi

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210412/816695e5/attachment.html>

From jmarsac at azimut.fr  Mon Apr 12 05:37:04 2021
From: jmarsac at azimut.fr (Jean-Marie Arsac)
Date: Mon, 12 Apr 2021 14:37:04 +0200
Subject: [QGIS-Developer] Downgrade qgis-server 3.16.5 to 3.10.14 on
 Ubuntu 18.04
In-Reply-To: <CALw=DWALDSMTwig4b0yhGTo0Ssysuk+an0+psjs4Azo68XgLng@mail.gmail.com>
References: <CALw=DWALDSMTwig4b0yhGTo0Ssysuk+an0+psjs4Azo68XgLng@mail.gmail.com>
Message-ID: <25e8702f-d5d8-e4f8-eb55-ffcc97ef0615@azimut.fr>

Hi Jonathan,

Probably too late, but you could try Debian Sid official repository

-- 
Jean-Marie Arsac
Azimut


From apasotti at gmail.com  Mon Apr 12 06:02:22 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 12 Apr 2021 15:02:22 +0200
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
In-Reply-To: <VI1P190MB038187BB910511B3B6B8B44280709@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
References: <VI1P190MB038187BB910511B3B6B8B44280709@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
Message-ID: <CAL5Q672rxyaSV7KUOvVN8LEpALhVER+UtjattjuunK220tmY_w@mail.gmail.com>

On Mon, Apr 12, 2021 at 2:20 PM Francesco Bursi
<francesco.bursi at hotmail.it> wrote:
>
> Hello QGIS Dev,
>
>
> I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently enrolled in a Master of Advanced Studies (Level 8 EQF) in giscience and geoinformatics at the University of Padua.
>
> I?m really interested in the QGIS (possible) new rendering feature that involves raster calculator capabilities, I've already discussed the project with mentors Martin Tobias and Peter Petrik and possible co-mentor Roberto Marzocchi,  they gave me a lot of feedback and advice for the project.
> I would like to share my proposal with you before the final submission. Don't hesitate to give me feedback and ask me question/clarification or point me out what's missing.
>
>
> proposal 2021
>
>
> I'm open to advice, remarks and criticism in order to improve.
>
> I am looking forward to a feedback, thank you for your time.
>
>
> Best regards,
>
> Francesco Bursi
>


Hi Francesco,

your proposal looks very interesting to me, since the core raster
calculator does support GPU acceleration through OpenCL I think that
there are good chances that it will be also fast enough to be usable
in practice.

Have you looked at the other implementations on OTF raster renderers?
There are two I'm aware of: the contour and the hillshade, the latter
uses GPU acceleration as well.

Best of luck!


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From francesco.bursi at hotmail.it  Mon Apr 12 12:23:11 2021
From: francesco.bursi at hotmail.it (Francesco Bursi)
Date: Mon, 12 Apr 2021 19:23:11 +0000
Subject: [QGIS-Developer] R: GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
In-Reply-To: <CAL5Q672rxyaSV7KUOvVN8LEpALhVER+UtjattjuunK220tmY_w@mail.gmail.com>
References: <VI1P190MB038187BB910511B3B6B8B44280709@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>,
 <CAL5Q672rxyaSV7KUOvVN8LEpALhVER+UtjattjuunK220tmY_w@mail.gmail.com>
Message-ID: <VI1P190MB038109FFAE334A6C4C64A41280709@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>

Hi Alessandro,

First of all thank you for your feedback (let's hope for the best) and for your work.
I did not forget your comment in my previous thread and I studied (I'd rather say I read, due to limited amount of time left) the existing documentation, I saw that hillshade benefits of openCL acceleration too.
In fact, I discussed with mentors some extra features for the (possible, hopefully) new renderer (I think in the comment history you'll find openCL) but since openCL would add some extra complexities that maybe I wouldn't be able to manage in the GSoC coding time, I left it out of the proposal for the time being, and I added some possible modification and improvements to the raster calculator engine instead.
By the way, and this is besides GSoC, the use of that framework and the possible results thrilled me and I'd like to improve the existing renderer feature for example. Given my knowledge of the topic at the moment this is more of an idea than a serious commitment but I'd like to to elaborate further this subject in the near future.

Sorry for the long message, I hope my thoughts about it are clear.

Kind Regards,
Francesco Bursi
________________________________
Da: Alessandro Pasotti <apasotti at gmail.com>
Inviato: luned? 12 aprile 2021 15:02
A: Francesco Bursi <francesco.bursi at hotmail.it>
Cc: qgis-developer <qgis-developer at lists.osgeo.org>
Oggetto: Re: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator proposal draft review and feedback

On Mon, Apr 12, 2021 at 2:20 PM Francesco Bursi
<francesco.bursi at hotmail.it> wrote:
>
> Hello QGIS Dev,
>
>
> I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently enrolled in a Master of Advanced Studies (Level 8 EQF) in giscience and geoinformatics at the University of Padua.
>
> I?m really interested in the QGIS (possible) new rendering feature that involves raster calculator capabilities, I've already discussed the project with mentors Martin Tobias and Peter Petrik and possible co-mentor Roberto Marzocchi,  they gave me a lot of feedback and advice for the project.
> I would like to share my proposal with you before the final submission. Don't hesitate to give me feedback and ask me question/clarification or point me out what's missing.
>
>
> proposal 2021
>
>
> I'm open to advice, remarks and criticism in order to improve.
>
> I am looking forward to a feedback, thank you for your time.
>
>
> Best regards,
>
> Francesco Bursi
>


Hi Francesco,

your proposal looks very interesting to me, since the core raster
calculator does support GPU acceleration through OpenCL I think that
there are good chances that it will be also fast enough to be usable
in practice.

Have you looked at the other implementations on OTF raster renderers?
There are two I'm aware of: the contour and the hillshade, the latter
uses GPU acceleration as well.

Best of luck!


--
Alessandro Pasotti
QCooperative:  www.qcooperative.net<http://www.qcooperative.net>
ItOpen:   www.itopen.it<http://www.itopen.it>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210412/ac46e405/attachment.html>

From apasotti at gmail.com  Mon Apr 12 12:39:50 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 12 Apr 2021 21:39:50 +0200
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
In-Reply-To: <VI1P190MB038109FFAE334A6C4C64A41280709@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
References: <VI1P190MB038187BB910511B3B6B8B44280709@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
 <CAL5Q672rxyaSV7KUOvVN8LEpALhVER+UtjattjuunK220tmY_w@mail.gmail.com>
 <VI1P190MB038109FFAE334A6C4C64A41280709@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
Message-ID: <CAL5Q672K3BBnCq6dnZW7+w2JCKiAsXeYsErHmTjbnZomFWpbSA@mail.gmail.com>

On Mon, Apr 12, 2021 at 9:23 PM Francesco Bursi
<francesco.bursi at hotmail.it> wrote:
>
> Hi Alessandro,
>
> First of all thank you for your feedback (let's hope for the best) and for your work.
> I did not forget your comment in my previous thread and I studied (I'd rather say I read, due to limited amount of time left) the existing documentation, I saw that hillshade benefits of openCL acceleration too.
> In fact, I discussed with mentors some extra features for the (possible, hopefully) new renderer (I think in the comment history you'll find openCL) but since openCL would add some extra complexities that maybe I wouldn't be able to manage in the GSoC coding time, I left it out of the proposal for the time being, and I added some possible modification and improvements to the raster calculator engine instead.
> By the way, and this is besides GSoC, the use of that framework and the possible results thrilled me and I'd like to improve the existing renderer feature for example. Given my knowledge of the topic at the moment this is more of an idea than a serious commitment but I'd like to to elaborate further this subject in the near future.
>
> Sorry for the long message, I hope my thoughts about it are clear.
>

I see, but there are two things to take into consideration:

1. OpenCL is already implemented for the raster calculator:
https://github.com/qgis/QGIS/blob/master/src/analysis/raster/qgsrastercalculator.cpp#L361
you don't have to start from scratches
2. I doubt that using the CPU only will be fast enough for OTF
rendering with complex expressions and bigger rasters

You might also consider OpenGL compute shaders as an alternative
approach, but that would mean starting from zero and it won't work on
CPUs like OpenCL does if there is no compatible GPU, I've actually
found out that OpenCL can exploit the parallelism of multi-core CPUs
and give decent performances even without using the GPU at all (intel
i7-4770HQ 4 core 8 threads is a good example).

Anyway, whatever you will do will be warmly welcome!

Kind regards.


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From alister.hood at gmail.com  Tue Apr 13 05:10:39 2021
From: alister.hood at gmail.com (Alister Hood)
Date: Wed, 14 Apr 2021 00:10:39 +1200
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
In-Reply-To: <mailman.33.1618254002.17629.qgis-developer@lists.osgeo.org>
References: <mailman.33.1618254002.17629.qgis-developer@lists.osgeo.org>
Message-ID: <CAF6hL+U76VOhsFiarMnywYASi4nCkUDTL3xOv_Vgvr5Vp_Euzg@mail.gmail.com>

>
> Hi,
This functionality would be great, but as a user, I can't help thinking the
proposal is to implement it in the wrong way.

If implemented as a renderer, as described, you could conceivably use an
expression that uses other layers but not the layer you are supposedly
rendering.  What is displayed would not correspond in any way to the actual
layer... Bizarre.

Would it not be possible to instead implement a "virtual raster"
*provider*?  Add a checkbox in the raster calculator labelled "create as
virtual raster".  Create a new layer that can be styled using the existing
renderers and behaves in every way like a non-virtual layer - e.g. the
right values would be shown using the identify tool and the "value tool"
plugin, and you could use the layer as an input for other processing tools.

Regards, and best wishes with the proposal,
Alister

Date: Mon, 12 Apr 2021 12:20:53 +0000
> From: Francesco Bursi <francesco.bursi at hotmail.it>
> To: qgis-developer <qgis-developer at lists.osgeo.org>
> Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
>         proposal draft review and feedback
> Message-ID:
>         <
> VI1P190MB038187BB910511B3B6B8B44280709 at VI1P190MB0381.EURP190.PROD.OUTLOOK.COM
> >
>
> Content-Type: text/plain; charset="windows-1252"
>
> Hello QGIS Dev,
>
>
> I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently enrolled
> in a Master of Advanced Studies (Level 8 EQF) in giscience and
> geoinformatics at the University of Padua.
>
> I?m really interested in the QGIS (possible) new rendering feature that
> involves raster calculator capabilities, I've already discussed the project
> with mentors Martin Tobias and Peter Petrik and possible co-mentor Roberto
> Marzocchi,  they gave me a lot of feedback and advice for the project.
> I would like to share my proposal with you before the final submission.
> Don't hesitate to give me feedback and ask me question/clarification or
> point me out what's missing.
>
>
> proposal 2021<
> https://docs.google.com/document/d/1u8L_L1IJjGCZ3d8Vq8duxHbsHZeyzwqOe3tXa1JcKbs/edit?usp=sharing
> >
>
>
> I'm open to advice, remarks and criticism in order to improve.
>
> I am looking forward to a feedback, thank you for your time.
>
>
> Best regards,
>
> Francesco Bursi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210414/b7619d91/attachment.html>

From TurboGraphxBeige at runbox.com  Tue Apr 13 05:18:27 2021
From: TurboGraphxBeige at runbox.com (TurboGraphxBeige)
Date: Tue, 13 Apr 2021 05:18:27 -0700 (MST)
Subject: [QGIS-Developer] Stale Bot Closed my Pull Request
Message-ID: <1618316307021-0.post@n6.nabble.com>

Hello fellow QGIS devs!

I had a PR pending in the QGIS repository but unfortunately, the Stale Bot
closed it due to inactivity:

#41906
Custom Label checkbox in the Legend Item Properties (fixes #41384)

Can a commiter re-open it please?


Thank you!





--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From francesco.bursi at hotmail.it  Tue Apr 13 06:40:56 2021
From: francesco.bursi at hotmail.it (Francesco Bursi)
Date: Tue, 13 Apr 2021 13:40:56 +0000
Subject: [QGIS-Developer] R: GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
In-Reply-To: <CAF6hL+U76VOhsFiarMnywYASi4nCkUDTL3xOv_Vgvr5Vp_Euzg@mail.gmail.com>
References: <mailman.33.1618254002.17629.qgis-developer@lists.osgeo.org>,
 <CAF6hL+U76VOhsFiarMnywYASi4nCkUDTL3xOv_Vgvr5Vp_Euzg@mail.gmail.com>
Message-ID: <VI1P190MB03814A1D6914B9D38686290F804F9@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>

Hi Alister,

Thank you for the feedback.
Well, I imagine the new feature with some properties of the existing Raster Calculator but not exactly the same, e.g It won't be possible to set layer extent / output CRS, because this would be already pre-defined by the layer on which the renderer is applied, in the basic mockup you should not see these 2 field. The same can be said for choosing other layer. It should work like contours/hillshade renderer, where you can style only the layer you have currently selected but you can choose the band.
Besides, I think that the existing Raster Calculator in the processing toolbox (as well as the Gdal Raster Calculator) allows the creation of a temporary file, enable the addition of a layer to the project that you can style, but maybe here I misunderstood what you meant.
One of the advantage of the on-the-fly (styling) is to  avoid the need to create derived raster files and layers.

Let me know if I misunderstood something and thank you for the message.

Kind Regards,

Francesco Bursi

________________________________
Da: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> per conto di Alister Hood <alister.hood at gmail.com>
Inviato: marted? 13 aprile 2021 14:10
A: qgis-developer at lists.osgeo.org <qgis-developer at lists.osgeo.org>
Oggetto: Re: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator proposal draft review and feedback

Hi,
This functionality would be great, but as a user, I can't help thinking the proposal is to implement it in the wrong way.

If implemented as a renderer, as described, you could conceivably use an expression that uses other layers but not the layer you are supposedly rendering.  What is displayed would not correspond in any way to the actual layer... Bizarre.

Would it not be possible to instead implement a "virtual raster" *provider*?  Add a checkbox in the raster calculator labelled "create as virtual raster".  Create a new layer that can be styled using the existing renderers and behaves in every way like a non-virtual layer - e.g. the right values would be shown using the identify tool and the "value tool" plugin, and you could use the layer as an input for other processing tools.

Regards, and best wishes with the proposal,
Alister

Date: Mon, 12 Apr 2021 12:20:53 +0000
From: Francesco Bursi <francesco.bursi at hotmail.it<mailto:francesco.bursi at hotmail.it>>
To: qgis-developer <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>>
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
        proposal draft review and feedback
Message-ID:
        <VI1P190MB038187BB910511B3B6B8B44280709 at VI1P190MB0381.EURP190.PROD.OUTLOOK.COM<mailto:VI1P190MB038187BB910511B3B6B8B44280709 at VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>>

Content-Type: text/plain; charset="windows-1252"

Hello QGIS Dev,


I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently enrolled in a Master of Advanced Studies (Level 8 EQF) in giscience and geoinformatics at the University of Padua.

I?m really interested in the QGIS (possible) new rendering feature that involves raster calculator capabilities, I've already discussed the project with mentors Martin Tobias and Peter Petrik and possible co-mentor Roberto Marzocchi,  they gave me a lot of feedback and advice for the project.
I would like to share my proposal with you before the final submission. Don't hesitate to give me feedback and ask me question/clarification or point me out what's missing.


proposal 2021<https://docs.google.com/document/d/1u8L_L1IJjGCZ3d8Vq8duxHbsHZeyzwqOe3tXa1JcKbs/edit?usp=sharing>


I'm open to advice, remarks and criticism in order to improve.

I am looking forward to a feedback, thank you for your time.


Best regards,

Francesco Bursi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210413/f0035437/attachment.html>

From matthias at opengis.ch  Tue Apr 13 06:56:46 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 13 Apr 2021 15:56:46 +0200
Subject: [QGIS-Developer] R: GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
In-Reply-To: <VI1P190MB03814A1D6914B9D38686290F804F9@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
References: <mailman.33.1618254002.17629.qgis-developer@lists.osgeo.org>
 <CAF6hL+U76VOhsFiarMnywYASi4nCkUDTL3xOv_Vgvr5Vp_Euzg@mail.gmail.com>
 <VI1P190MB03814A1D6914B9D38686290F804F9@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
Message-ID: <CAC7zN94kAU8-18Pe468n-C4tmBWLf8AKyVNhsh=V2mjLV3-w5w@mail.gmail.com>

Hi Francesco,

This is a great initiative, thank you for taking on this.
I have just recently had a project where this would have been of great
value. I'm very much looking forward to this work.

Welcome on QGIS board and enjoy your GSoC.

Matthias

On Tue, Apr 13, 2021 at 3:41 PM Francesco Bursi <francesco.bursi at hotmail.it>
wrote:

> Hi Alister,
>
> Thank you for the feedback.
> Well, I imagine the new feature with some properties of the existing
> Raster Calculator but not exactly the same, e.g It won't be possible to set
> layer extent / output CRS, because this would be already pre-defined by the
> layer on which the renderer is applied, in the basic mockup you should not
> see these 2 field. The same can be said for choosing other layer. It should
> work like contours/hillshade renderer, where you can style only the layer
> you have currently selected but you can choose the band.
> Besides, I think that the existing Raster Calculator in the processing
> toolbox (as well as the Gdal Raster Calculator) allows the creation of a
> temporary file, enable the addition of a layer to the project that you can
> style, but maybe here I misunderstood what you meant.
> One of the advantage of the on-the-fly (styling) is to  * avoid the need
> to create derived raster files and layers.*
>
> Let me know if I misunderstood something and thank you for the message.
>
> Kind Regards,
>
> Francesco Bursi
>
> ------------------------------
> *Da:* QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> per conto
> di Alister Hood <alister.hood at gmail.com>
> *Inviato:* marted? 13 aprile 2021 14:10
> *A:* qgis-developer at lists.osgeo.org <qgis-developer at lists.osgeo.org>
> *Oggetto:* Re: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster
> Calculator proposal draft review and feedback
>
>
> Hi,
> This functionality would be great, but as a user, I can't help thinking
> the proposal is to implement it in the wrong way.
>
> If implemented as a renderer, as described, you could conceivably use an
> expression that uses other layers but not the layer you are supposedly
> rendering.  What is displayed would not correspond in any way to the actual
> layer... Bizarre.
>
> Would it not be possible to instead implement a "virtual raster"
> *provider*?  Add a checkbox in the raster calculator labelled "create as
> virtual raster".  Create a new layer that can be styled using the existing
> renderers and behaves in every way like a non-virtual layer - e.g. the
> right values would be shown using the identify tool and the "value tool"
> plugin, and you could use the layer as an input for other processing tools.
>
> Regards, and best wishes with the proposal,
> Alister
>
> Date: Mon, 12 Apr 2021 12:20:53 +0000
> From: Francesco Bursi <francesco.bursi at hotmail.it>
> To: qgis-developer <qgis-developer at lists.osgeo.org>
> Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
>         proposal draft review and feedback
> Message-ID:
>         <
> VI1P190MB038187BB910511B3B6B8B44280709 at VI1P190MB0381.EURP190.PROD.OUTLOOK.COM
> >
>
> Content-Type: text/plain; charset="windows-1252"
>
> Hello QGIS Dev,
>
>
> I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently enrolled
> in a Master of Advanced Studies (Level 8 EQF) in giscience and
> geoinformatics at the University of Padua.
>
> I?m really interested in the QGIS (possible) new rendering feature that
> involves raster calculator capabilities, I've already discussed the project
> with mentors Martin Tobias and Peter Petrik and possible co-mentor Roberto
> Marzocchi,  they gave me a lot of feedback and advice for the project.
> I would like to share my proposal with you before the final submission.
> Don't hesitate to give me feedback and ask me question/clarification or
> point me out what's missing.
>
>
> proposal 2021<
> https://docs.google.com/document/d/1u8L_L1IJjGCZ3d8Vq8duxHbsHZeyzwqOe3tXa1JcKbs/edit?usp=sharing
> >
>
>
> I'm open to advice, remarks and criticism in order to improve.
>
> I am looking forward to a feedback, thank you for your time.
>
>
> Best regards,
>
> Francesco Bursi
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210413/eeabfa67/attachment-0001.html>

From nirvn.asia at gmail.com  Tue Apr 13 07:06:14 2021
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Tue, 13 Apr 2021 21:06:14 +0700
Subject: [QGIS-Developer] R: GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
In-Reply-To: <CAC7zN94kAU8-18Pe468n-C4tmBWLf8AKyVNhsh=V2mjLV3-w5w@mail.gmail.com>
References: <mailman.33.1618254002.17629.qgis-developer@lists.osgeo.org>
 <CAF6hL+U76VOhsFiarMnywYASi4nCkUDTL3xOv_Vgvr5Vp_Euzg@mail.gmail.com>
 <VI1P190MB03814A1D6914B9D38686290F804F9@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
 <CAC7zN94kAU8-18Pe468n-C4tmBWLf8AKyVNhsh=V2mjLV3-w5w@mail.gmail.com>
Message-ID: <CAC_qv=pB_Ez2NCu8+D6NgeHS70iANucFWZBhVnWZrbVPNgZbWA@mail.gmail.com>

Big interest on my side too (and I'm sure countless more).

I always thought ESA's SNAP had a winning formula with their virtual raster
bands, glad we can make any move in that direction.

Math

On Tue, Apr 13, 2021, 20:57 Matthias Kuhn <matthias at opengis.ch> wrote:

> Hi Francesco,
>
> This is a great initiative, thank you for taking on this.
> I have just recently had a project where this would have been of great
> value. I'm very much looking forward to this work.
>
> Welcome on QGIS board and enjoy your GSoC.
>
> Matthias
>
> On Tue, Apr 13, 2021 at 3:41 PM Francesco Bursi <
> francesco.bursi at hotmail.it> wrote:
>
>> Hi Alister,
>>
>> Thank you for the feedback.
>> Well, I imagine the new feature with some properties of the existing
>> Raster Calculator but not exactly the same, e.g It won't be possible to set
>> layer extent / output CRS, because this would be already pre-defined by the
>> layer on which the renderer is applied, in the basic mockup you should not
>> see these 2 field. The same can be said for choosing other layer. It should
>> work like contours/hillshade renderer, where you can style only the layer
>> you have currently selected but you can choose the band.
>> Besides, I think that the existing Raster Calculator in the processing
>> toolbox (as well as the Gdal Raster Calculator) allows the creation of a
>> temporary file, enable the addition of a layer to the project that you can
>> style, but maybe here I misunderstood what you meant.
>> One of the advantage of the on-the-fly (styling) is to  * avoid the need
>> to create derived raster files and layers.*
>>
>> Let me know if I misunderstood something and thank you for the message.
>>
>> Kind Regards,
>>
>> Francesco Bursi
>>
>> ------------------------------
>> *Da:* QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> per conto
>> di Alister Hood <alister.hood at gmail.com>
>> *Inviato:* marted? 13 aprile 2021 14:10
>> *A:* qgis-developer at lists.osgeo.org <qgis-developer at lists.osgeo.org>
>> *Oggetto:* Re: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster
>> Calculator proposal draft review and feedback
>>
>>
>> Hi,
>> This functionality would be great, but as a user, I can't help thinking
>> the proposal is to implement it in the wrong way.
>>
>> If implemented as a renderer, as described, you could conceivably use an
>> expression that uses other layers but not the layer you are supposedly
>> rendering.  What is displayed would not correspond in any way to the actual
>> layer... Bizarre.
>>
>> Would it not be possible to instead implement a "virtual raster"
>> *provider*?  Add a checkbox in the raster calculator labelled "create as
>> virtual raster".  Create a new layer that can be styled using the existing
>> renderers and behaves in every way like a non-virtual layer - e.g. the
>> right values would be shown using the identify tool and the "value tool"
>> plugin, and you could use the layer as an input for other processing tools.
>>
>> Regards, and best wishes with the proposal,
>> Alister
>>
>> Date: Mon, 12 Apr 2021 12:20:53 +0000
>> From: Francesco Bursi <francesco.bursi at hotmail.it>
>> To: qgis-developer <qgis-developer at lists.osgeo.org>
>> Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
>>         proposal draft review and feedback
>> Message-ID:
>>         <
>> VI1P190MB038187BB910511B3B6B8B44280709 at VI1P190MB0381.EURP190.PROD.OUTLOOK.COM
>> >
>>
>> Content-Type: text/plain; charset="windows-1252"
>>
>> Hello QGIS Dev,
>>
>>
>> I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently
>> enrolled in a Master of Advanced Studies (Level 8 EQF) in giscience and
>> geoinformatics at the University of Padua.
>>
>> I?m really interested in the QGIS (possible) new rendering feature that
>> involves raster calculator capabilities, I've already discussed the project
>> with mentors Martin Tobias and Peter Petrik and possible co-mentor Roberto
>> Marzocchi,  they gave me a lot of feedback and advice for the project.
>> I would like to share my proposal with you before the final submission.
>> Don't hesitate to give me feedback and ask me question/clarification or
>> point me out what's missing.
>>
>>
>> proposal 2021<
>> https://docs.google.com/document/d/1u8L_L1IJjGCZ3d8Vq8duxHbsHZeyzwqOe3tXa1JcKbs/edit?usp=sharing
>> >
>>
>>
>> I'm open to advice, remarks and criticism in order to improve.
>>
>> I am looking forward to a feedback, thank you for your time.
>>
>>
>> Best regards,
>>
>> Francesco Bursi
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210413/566cdf0a/attachment.html>

From francesco.bursi at hotmail.it  Tue Apr 13 09:24:39 2021
From: francesco.bursi at hotmail.it (Francesco Bursi)
Date: Tue, 13 Apr 2021 16:24:39 +0000
Subject: [QGIS-Developer] R: R: GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
In-Reply-To: <CAC_qv=pB_Ez2NCu8+D6NgeHS70iANucFWZBhVnWZrbVPNgZbWA@mail.gmail.com>
References: <mailman.33.1618254002.17629.qgis-developer@lists.osgeo.org>
 <CAF6hL+U76VOhsFiarMnywYASi4nCkUDTL3xOv_Vgvr5Vp_Euzg@mail.gmail.com>
 <VI1P190MB03814A1D6914B9D38686290F804F9@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
 <CAC7zN94kAU8-18Pe468n-C4tmBWLf8AKyVNhsh=V2mjLV3-w5w@mail.gmail.com>,
 <CAC_qv=pB_Ez2NCu8+D6NgeHS70iANucFWZBhVnWZrbVPNgZbWA@mail.gmail.com>
Message-ID: <VI1P190MB03812DCF2BFABC606628AD97804F9@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>

Thank you Matthias and Mathieu for your for the messages! I hope and plan to obtain some valuable and usable outcome.
In fact, I don't know SNAP very well but band math + virtual raster bands could be an inspiration for some aspects.

Kind regards,
Francesco

________________________________
Da: Mathieu Pellerin <nirvn.asia at gmail.com>
Inviato: marted? 13 aprile 2021 16:06
A: Matthias Kuhn <matthias at opengis.ch>
Cc: Francesco Bursi <francesco.bursi at hotmail.it>; qgis-developer <qgis-developer at lists.osgeo.org>; Alister Hood <alister.hood at gmail.com>
Oggetto: Re: [QGIS-Developer] R: GSoC 2021 QGIS On-the-fly Raster Calculator proposal draft review and feedback

Big interest on my side too (and I'm sure countless more).

I always thought ESA's SNAP had a winning formula with their virtual raster bands, glad we can make any move in that direction.

Math

On Tue, Apr 13, 2021, 20:57 Matthias Kuhn <matthias at opengis.ch<mailto:matthias at opengis.ch>> wrote:
Hi Francesco,

This is a great initiative, thank you for taking on this.
I have just recently had a project where this would have been of great value. I'm very much looking forward to this work.

Welcome on QGIS board and enjoy your GSoC.

Matthias

On Tue, Apr 13, 2021 at 3:41 PM Francesco Bursi <francesco.bursi at hotmail.it<mailto:francesco.bursi at hotmail.it>> wrote:
Hi Alister,

Thank you for the feedback.
Well, I imagine the new feature with some properties of the existing Raster Calculator but not exactly the same, e.g It won't be possible to set layer extent / output CRS, because this would be already pre-defined by the layer on which the renderer is applied, in the basic mockup you should not see these 2 field. The same can be said for choosing other layer. It should work like contours/hillshade renderer, where you can style only the layer you have currently selected but you can choose the band.
Besides, I think that the existing Raster Calculator in the processing toolbox (as well as the Gdal Raster Calculator) allows the creation of a temporary file, enable the addition of a layer to the project that you can style, but maybe here I misunderstood what you meant.
One of the advantage of the on-the-fly (styling) is to  avoid the need to create derived raster files and layers.

Let me know if I misunderstood something and thank you for the message.

Kind Regards,

Francesco Bursi

________________________________
Da: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org<mailto:qgis-developer-bounces at lists.osgeo.org>> per conto di Alister Hood <alister.hood at gmail.com<mailto:alister.hood at gmail.com>>
Inviato: marted? 13 aprile 2021 14:10
A: qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org> <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>>
Oggetto: Re: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator proposal draft review and feedback

Hi,
This functionality would be great, but as a user, I can't help thinking the proposal is to implement it in the wrong way.

If implemented as a renderer, as described, you could conceivably use an expression that uses other layers but not the layer you are supposedly rendering.  What is displayed would not correspond in any way to the actual layer... Bizarre.

Would it not be possible to instead implement a "virtual raster" *provider*?  Add a checkbox in the raster calculator labelled "create as virtual raster".  Create a new layer that can be styled using the existing renderers and behaves in every way like a non-virtual layer - e.g. the right values would be shown using the identify tool and the "value tool" plugin, and you could use the layer as an input for other processing tools.

Regards, and best wishes with the proposal,
Alister

Date: Mon, 12 Apr 2021 12:20:53 +0000
From: Francesco Bursi <francesco.bursi at hotmail.it<mailto:francesco.bursi at hotmail.it>>
To: qgis-developer <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>>
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
        proposal draft review and feedback
Message-ID:
        <VI1P190MB038187BB910511B3B6B8B44280709 at VI1P190MB0381.EURP190.PROD.OUTLOOK.COM<mailto:VI1P190MB038187BB910511B3B6B8B44280709 at VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>>

Content-Type: text/plain; charset="windows-1252"

Hello QGIS Dev,


I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently enrolled in a Master of Advanced Studies (Level 8 EQF) in giscience and geoinformatics at the University of Padua.

I?m really interested in the QGIS (possible) new rendering feature that involves raster calculator capabilities, I've already discussed the project with mentors Martin Tobias and Peter Petrik and possible co-mentor Roberto Marzocchi,  they gave me a lot of feedback and advice for the project.
I would like to share my proposal with you before the final submission. Don't hesitate to give me feedback and ask me question/clarification or point me out what's missing.


proposal 2021<https://docs.google.com/document/d/1u8L_L1IJjGCZ3d8Vq8duxHbsHZeyzwqOe3tXa1JcKbs/edit?usp=sharing>


I'm open to advice, remarks and criticism in order to improve.

I am looking forward to a feedback, thank you for your time.


Best regards,

Francesco Bursi
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210413/a04f1872/attachment-0001.html>

From alister.hood at gmail.com  Tue Apr 13 23:55:11 2021
From: alister.hood at gmail.com (Alister Hood)
Date: Wed, 14 Apr 2021 18:55:11 +1200
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
In-Reply-To: <VI1P190MB03814A1D6914B9D38686290F804F9@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
References: <mailman.33.1618254002.17629.qgis-developer@lists.osgeo.org>
 <CAF6hL+U76VOhsFiarMnywYASi4nCkUDTL3xOv_Vgvr5Vp_Euzg@mail.gmail.com>
 <VI1P190MB03814A1D6914B9D38686290F804F9@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
Message-ID: <CAF6hL+WsAfRuhRKAi+fAgnFHuOy5eQttKyNP5PvZyutCgyHjRw@mail.gmail.com>

Hi again,

On Wed, 14 Apr 2021 at 01:40, Francesco Bursi <francesco.bursi at hotmail.it>
wrote:

> Hi Alister,
>
> Thank you for the feedback.
> Well, I imagine the new feature with some properties of the existing
> Raster Calculator but not exactly the same, e.g It won't be possible to set
> layer extent / output CRS, because this would be already pre-defined by the
> layer on which the renderer is applied, in the basic mockup you should not
> see these 2 field. The same can be said for choosing other layer. It should
> work like contours/hillshade renderer, where you can style only the layer
> you have currently selected but you can choose the band.
>

Ah, the proposed calculator renderer wouldn't be able to calculate from
more than one layer.  That's an important clarification, and it means it is
a lot less useful than I thought it might have been.

I use the raster calculator mostly to calculate the difference between two
layers, both for visualisation and to display values in the value tool
plugin.  I create the rasters as temporary files, to avoid storing lots of
large raster files that are simple to regenerate if necessary.  The
downside of doing this is that if necessary I do actually need to
regenerate them .

A "virtual raster" provider would allow me to keep them around without
eating up disk space.  I imagine use cases like this are quite common.

Besides, I think that the existing Raster Calculator in the processing
> toolbox (as well as the Gdal Raster Calculator) allows the creation of a
> temporary file, enable the addition of a layer to the project that you can
> style, but maybe here I misunderstood what you meant.
>

Yes, but temporary files are obviously inconvenient enough to motivate you
to implement an on-the-fly raster calculator renderer :)


> One of the advantage of the on-the-fly (styling) is to  * avoid the need
> to create derived raster files and layers.*
>

What I'm suggesting is that a slightly more general solution would be
useful in more situations.  In your words, it would "avoid the need to
create derived raster files" in a lot more situations.

The only downside is that the virtual raster would be created as a new
layer in the QGIS project (if you want to reduce this "clutter", you might
just be able to remove the original layer from the project, but sometimes
you would want to keep it for other reasons).  But it is normal to have
extra layers in your project just to get things to display you want - for
example I imagine it is very common for people to duplicate a raster layer
so they can display it both with the hillshade renderer and one or more
other renderers.

In any case, assuming you do follow the symbology approach rather than a
provider, as a user I'd still ask if the way you're proposing to implement
this is really the best way. Rather than adding a new render type, from a
user's perspective I think it would be a lot simpler to instead add a ?
button next to all of the "band" comboboxes, allowing you to enter a raster
calculator expression rather than selecting a band.  This approach would be
consistent with the "value" comboboxes for selecting a field from a vector
layer, which have a ? button next to them, and it could also be extended to
anywhere else in QGIS where you select a raster band.

Regards,
Alister

>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210414/905c9a79/attachment.html>

From tim at kartoza.com  Wed Apr 14 01:31:33 2021
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 14 Apr 2021 09:31:33 +0100
Subject: [QGIS-Developer] Missing resource compile error
In-Reply-To: <CAL5Q673uvBnRoEqyU0KUTw360ZBMe9wAZ3OLEUZvJgwtmUNWJg@mail.gmail.com>
References: <CAES-DZTk733AENvj6EXZpx0eJBGipyERaRqK=rmLu_PxXAKqcA@mail.gmail.com>
 <CAL5Q673uvBnRoEqyU0KUTw360ZBMe9wAZ3OLEUZvJgwtmUNWJg@mail.gmail.com>
Message-ID: <CAES-DZQrjBD0jVBi6UGh5+SEqJwvSZBW1vpk5BQe2JttJ22Hbg@mail.gmail.com>

Oh that fixed it, sorry for the noise.

Regards

Tim

On Mon, Apr 12, 2021 at 9:00 AM Alessandro Pasotti <apasotti at gmail.com>
wrote:

>
>
> On Mon, Apr 12, 2021 at 9:56 AM Tim Sutton <tim at kartoza.com> wrote:
>
>> Hi All
>>
>> Just updated to 393d60bf25651f6973d853c754a2d8a1abe60d1f and getting
>> build fail with:
>>
>> :-1: error: No rule to make target
>> '/home/timlinux/dev/cpp/QGIS/resources/server/src/landingpage/src/assets/logo.png',
>> needed by
>> 'output/data/resources/server/src/landingpage/src/assets/logo.png'.  Stop.
>>
>>
>> Probably not related to the above commit, but does anyone else get this?
>>
>>
>
> Hi,
>
> Did you try to re-run cmake?
>
> That file was recently changed:
> https://github.com/qgis/QGIS/pull/42736/files
>
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it
>


-- 
------------------------------------------------------------------------------------------
?

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210414/7d647578/attachment.html>

From julien.cabieces at oslandia.com  Wed Apr 14 05:27:19 2021
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Wed, 14 Apr 2021 14:27:19 +0200
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
In-Reply-To: <CAF6hL+U76VOhsFiarMnywYASi4nCkUDTL3xOv_Vgvr5Vp_Euzg@mail.gmail.com>
References: <mailman.33.1618254002.17629.qgis-developer@lists.osgeo.org>
 <CAF6hL+U76VOhsFiarMnywYASi4nCkUDTL3xOv_Vgvr5Vp_Euzg@mail.gmail.com>
Message-ID: <87czuxdpaw.fsf@julien-laptop.home>


Hi,

Nice proposal Francesco!

I already worked on a projet where such a feature could have been of great
values, I will follow your work with interest.

I like also the Alister proposal, and already thought about a "virtual
raster" connected to a raster processing that you run on-the-fly
according to the map extent. This way, we could run process on raster
subpart, and update it while the user move in map. It would be
interesting for raster stored on a server, like COG for instance.

Don't know if it's technically feasible though.

Regards,
Julien


>>
>> Hi,
> This functionality would be great, but as a user, I can't help thinking the
> proposal is to implement it in the wrong way.
>
> If implemented as a renderer, as described, you could conceivably use an
> expression that uses other layers but not the layer you are supposedly
> rendering.  What is displayed would not correspond in any way to the actual
> layer... Bizarre.
>
> Would it not be possible to instead implement a "virtual raster"
> *provider*?  Add a checkbox in the raster calculator labelled "create as
> virtual raster".  Create a new layer that can be styled using the existing
> renderers and behaves in every way like a non-virtual layer - e.g. the
> right values would be shown using the identify tool and the "value tool"
> plugin, and you could use the layer as an input for other processing tools.
>
> Regards, and best wishes with the proposal,
> Alister
>
> Date: Mon, 12 Apr 2021 12:20:53 +0000
>> From: Francesco Bursi <francesco.bursi at hotmail.it>
>> To: qgis-developer <qgis-developer at lists.osgeo.org>
>> Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
>>         proposal draft review and feedback
>> Message-ID:
>>         <
>> VI1P190MB038187BB910511B3B6B8B44280709 at VI1P190MB0381.EURP190.PROD.OUTLOOK.COM
>> >
>>
>> Content-Type: text/plain; charset="windows-1252"
>>
>> Hello QGIS Dev,
>>
>>
>> I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently enrolled
>> in a Master of Advanced Studies (Level 8 EQF) in giscience and
>> geoinformatics at the University of Padua.
>>
>> I?m really interested in the QGIS (possible) new rendering feature that
>> involves raster calculator capabilities, I've already discussed the project
>> with mentors Martin Tobias and Peter Petrik and possible co-mentor Roberto
>> Marzocchi,  they gave me a lot of feedback and advice for the project.
>> I would like to share my proposal with you before the final submission.
>> Don't hesitate to give me feedback and ask me question/clarification or
>> point me out what's missing.
>>
>>
>> proposal 2021<
>> https://docs.google.com/document/d/1u8L_L1IJjGCZ3d8Vq8duxHbsHZeyzwqOe3tXa1JcKbs/edit?usp=sharing
>> >
>>
>>
>> I'm open to advice, remarks and criticism in order to improve.
>>
>> I am looking forward to a feedback, thank you for your time.
>>
>>
>> Best regards,
>>
>> Francesco Bursi
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From denis.rouzaud at gmail.com  Wed Apr 14 08:02:33 2021
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Wed, 14 Apr 2021 17:02:33 +0200
Subject: [QGIS-Developer] API docs not available for 3.18
Message-ID: <CAMtsY+Y7y5KQK0_ybZDRk7dV2SzfU3ZmVLtpOBXubR-DDV327g@mail.gmail.com>

Hi all,

I just noticed that https://qgis.org/api/3.18/ is unavailable.

How is it produced?

Cheers,
Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210414/b7fac3ff/attachment-0001.html>

From jef at norbit.de  Wed Apr 14 10:24:24 2021
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Wed, 14 Apr 2021 19:24:24 +0200
Subject: [QGIS-Developer] API docs not available for 3.18
In-Reply-To: <CAMtsY+Y7y5KQK0_ybZDRk7dV2SzfU3ZmVLtpOBXubR-DDV327g@mail.gmail.com>
References: <CAMtsY+Y7y5KQK0_ybZDRk7dV2SzfU3ZmVLtpOBXubR-DDV327g@mail.gmail.com>
Message-ID: <20210414172424.a7qwxovwxortavig@norbit.de>

Hi Denis,

On Wed, 14. Apr 2021 at 17:02:33 +0200, Denis Rouzaud wrote:
> I just noticed that https://qgis.org/api/3.18/ is unavailable.
> How is it produced?

By extracting the debian package.


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210414/6f2952d2/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210414/6f2952d2/attachment.ksh>

From apasotti at gmail.com  Thu Apr 15 05:15:16 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 15 Apr 2021 14:15:16 +0200
Subject: [QGIS-Developer] Require documentation PR for new features
Message-ID: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>

Hi,

I think it would be wise to add a new policy about documentation for
new features which requires a parallel Documentation PR to be opened
and approved before we accept and merge new features into master.

This is a common policy for other open source projects: documentation
is a first class citizen of the software ecosystem and shouldn't be
left behind.

I don't need to stress out how important it is to have high quality
documentation.

Uptil now we have required the authors to provide enough information
for others to write the documentation introducing an unnecessary
burden over the shoulders of the few volunteers that are currently
maintaining the documentation.

There are good reasons to ask authors to also take care of the
documentation of the feature they write:

- authors know all the details of the new feature and how and where it
has an impact on UX and user workflows
- most of the times authors have been paid for the new feature and it
doesn't look fair to me that the documentation is left to volunteers
- while developing and testing the new feature it is easy for authors
to produce snapshots and notes that can be used directly for the
documentation, it is harder for others
- if the documentation lags behind it is difficult for testers and
users to determine how the new feature should behave and if an
apparent anomaly is a bug or not

Any opinion?

-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From cavallini at faunalia.it  Thu Apr 15 07:06:01 2021
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 15 Apr 2021 16:06:01 +0200
Subject: [QGIS-Developer] Require documentation PR for new features
In-Reply-To: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>
References: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>
Message-ID: <c5fc03a8-387a-fc42-d170-7a3556d7acfc@faunalia.it>

+1 for me
thanks Ale for raising this

Il 15/04/21 14:15, Alessandro Pasotti ha scritto:
> Hi,
> 
> I think it would be wise to add a new policy about documentation for
> new features which requires a parallel Documentation PR to be opened
> and approved before we accept and merge new features into master.
> 
> This is a common policy for other open source projects: documentation
> is a first class citizen of the software ecosystem and shouldn't be
> left behind.
> 
> I don't need to stress out how important it is to have high quality
> documentation.
> 
> Uptil now we have required the authors to provide enough information
> for others to write the documentation introducing an unnecessary
> burden over the shoulders of the few volunteers that are currently
> maintaining the documentation.
> 
> There are good reasons to ask authors to also take care of the
> documentation of the feature they write:
> 
> - authors know all the details of the new feature and how and where it
> has an impact on UX and user workflows
> - most of the times authors have been paid for the new feature and it
> doesn't look fair to me that the documentation is left to volunteers
> - while developing and testing the new feature it is easy for authors
> to produce snapshots and notes that can be used directly for the
> documentation, it is harder for others
> - if the documentation lags behind it is difficult for testers and
> users to determine how the new feature should behave and if an
> apparent anomaly is a bug or not
> 
> Any opinion?
> 

-- 
Paolo Cavallini
www.faunalia.eu - QGIS.org
training, support, development on QGIS, PostGIS and more

From adenaculture at gmail.com  Thu Apr 15 08:13:45 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 15 Apr 2021 11:13:45 -0400
Subject: [QGIS-Developer] Issue with How Selected Features are Displayed
 When Overlapping
Message-ID: <CABPxTTrzkwU1qgOOFN5G99PgjnwTbFcuieLEQDrSsAUXCPoQ6g@mail.gmail.com>

I have a user complaint with QGIS who explained that when point features
overlap and one is selected from  the attribute table but is underneath
other features, you cannot see it highlighted because it is covered by
other points. Is there any way to have it show that there is a highlighted
feature there even though it is underneath non-highlighted features? In
ArcMap the highlights are always shown on the top level of the canvas even
if they are covered by non-highlighted features.

I tested this in QGIS and the user was correct.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210415/1d887447/attachment.html>

From pathmapper at posteo.de  Thu Apr 15 09:41:32 2021
From: pathmapper at posteo.de (pathmapper)
Date: Thu, 15 Apr 2021 16:41:32 +0000
Subject: [QGIS-Developer] Require documentation PR for new features
In-Reply-To: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>
References: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>
Message-ID: <3fb286ef50ba64e5fa08172edc260e4d@posteo.de>

> Any opinion?

+1

From francesco.bursi at hotmail.it  Thu Apr 15 09:42:26 2021
From: francesco.bursi at hotmail.it (Francesco Bursi)
Date: Thu, 15 Apr 2021 16:42:26 +0000
Subject: [QGIS-Developer] R: GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
In-Reply-To: <87czuxdpaw.fsf@julien-laptop.home>
References: <mailman.33.1618254002.17629.qgis-developer@lists.osgeo.org>
 <CAF6hL+U76VOhsFiarMnywYASi4nCkUDTL3xOv_Vgvr5Vp_Euzg@mail.gmail.com>,
 <87czuxdpaw.fsf@julien-laptop.home>
Message-ID: <VI1P190MB03818768590EBAFD997D78F0804D9@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>

Hi again,

Sorry for the delay.
Julien, thank you for the message I agree with about Alister proposal!
Alister,  thank you for the explanation and for the advice!
Concerning the project and so the renderer feature, the first result I would like to achieve is to style the layer, I agree it would be useful to use other layers, but I'm not sure if it should be allowed in a styling function for the reasons you pointed out in the first message or, at least, the styled layer should be "fixed" if other layers are to be chosen.
For the addition of the ? button next to all the "band" comboboxes, the existence of the subrenderer should've done this work only in one place, but I see your point.
I will take it into account and discuss it with mentors that proposed the idea in the first place.

Concerning the enhancement that you propose, I think it's more than reasonable (well, it would be really useful) and quite interesting, but I see it more like an improvement of the virtual raster capabilities and, I would say, it's beyond the scope of my proposal.

Kind Regards,
Francesco

________________________________
Da: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> per conto di Julien Cabieces <julien.cabieces at oslandia.com>
Inviato: mercoled? 14 aprile 2021 14:27
A: qgis-developer at lists.osgeo.org <qgis-developer at lists.osgeo.org>
Oggetto: Re: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator proposal draft review and feedback


Hi,

Nice proposal Francesco!

I already worked on a projet where such a feature could have been of great
values, I will follow your work with interest.

I like also the Alister proposal, and already thought about a "virtual
raster" connected to a raster processing that you run on-the-fly
according to the map extent. This way, we could run process on raster
subpart, and update it while the user move in map. It would be
interesting for raster stored on a server, like COG for instance.

Don't know if it's technically feasible though.

Regards,
Julien


>>
>> Hi,
> This functionality would be great, but as a user, I can't help thinking the
> proposal is to implement it in the wrong way.
>
> If implemented as a renderer, as described, you could conceivably use an
> expression that uses other layers but not the layer you are supposedly
> rendering.  What is displayed would not correspond in any way to the actual
> layer... Bizarre.
>
> Would it not be possible to instead implement a "virtual raster"
> *provider*?  Add a checkbox in the raster calculator labelled "create as
> virtual raster".  Create a new layer that can be styled using the existing
> renderers and behaves in every way like a non-virtual layer - e.g. the
> right values would be shown using the identify tool and the "value tool"
> plugin, and you could use the layer as an input for other processing tools.
>
> Regards, and best wishes with the proposal,
> Alister
>
> Date: Mon, 12 Apr 2021 12:20:53 +0000
>> From: Francesco Bursi <francesco.bursi at hotmail.it>
>> To: qgis-developer <qgis-developer at lists.osgeo.org>
>> Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
>>         proposal draft review and feedback
>> Message-ID:
>>         <
>> VI1P190MB038187BB910511B3B6B8B44280709 at VI1P190MB0381.EURP190.PROD.OUTLOOK.COM
>> >
>>
>> Content-Type: text/plain; charset="windows-1252"
>>
>> Hello QGIS Dev,
>>
>>
>> I?m Francesco Bursi, an M.Sc. civil engineer from Italy currently enrolled
>> in a Master of Advanced Studies (Level 8 EQF) in giscience and
>> geoinformatics at the University of Padua.
>>
>> I?m really interested in the QGIS (possible) new rendering feature that
>> involves raster calculator capabilities, I've already discussed the project
>> with mentors Martin Tobias and Peter Petrik and possible co-mentor Roberto
>> Marzocchi,  they gave me a lot of feedback and advice for the project.
>> I would like to share my proposal with you before the final submission.
>> Don't hesitate to give me feedback and ask me question/clarification or
>> point me out what's missing.
>>
>>
>> proposal 2021<
>> https://docs.google.com/document/d/1u8L_L1IJjGCZ3d8Vq8duxHbsHZeyzwqOe3tXa1JcKbs/edit?usp=sharing
>> >
>>
>>
>> I'm open to advice, remarks and criticism in order to improve.
>>
>> I am looking forward to a feedback, thank you for your time.
>>
>>
>> Best regards,
>>
>> Francesco Bursi
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210415/63c425b2/attachment-0001.html>

From jef at norbit.de  Thu Apr 15 10:21:47 2021
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Thu, 15 Apr 2021 19:21:47 +0200
Subject: [QGIS-Developer] Require documentation PR for new features
In-Reply-To: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>
References: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>
Message-ID: <20210415172147.7ykenl63x7pd2unk@norbit.de>

Hi,

On Thu, 15. Apr 2021 at 14:15:16 +0200, Alessandro Pasotti wrote:
> - most of the times authors have been paid for the new feature and it doesn't
>   look fair to me that the documentation is left to volunteers

> Any opinion?

I'd say requiring volunteers to do anything they didn't volunteer for is
unfair.

Giving people who volunteered to write documentation new stuff to write about
doesn't fall into that category.

But requiring people who volunteered to write features to write documentation
OTOH does.

And as you said not all authors are paid for the feature.  But probably less
than there used to be as more and more hoops like this one make even little
contribution a big effort.


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
                            Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210415/a28e48b7/attachment.sig>

From adenaculture at gmail.com  Thu Apr 15 10:38:39 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 15 Apr 2021 13:38:39 -0400
Subject: [QGIS-Developer] [Qgis-user] Issue with How Selected Features
 are Displayed When Overlapping
In-Reply-To: <434D7EEE-0D58-4D63-B3C2-02EA5F6EB4DF@gmail.com>
References: <CABPxTTrzkwU1qgOOFN5G99PgjnwTbFcuieLEQDrSsAUXCPoQ6g@mail.gmail.com>
 <434D7EEE-0D58-4D63-B3C2-02EA5F6EB4DF@gmail.com>
Message-ID: <CABPxTTpS_5S77c8zDQ6M8w-JSiZhb6JF638Q4-QS2B0egs=Arw@mail.gmail.com>

If there is a large cluster of points obscuring the selected point, even
that method will not work.

Has there been any interest in changing this behavior in QGIS?

On Thu, Apr 15, 2021 at 11:46 AM Nicolas Cadieux <
njacadieux.gitlab at gmail.com> wrote:

> Hi,
> Indeed... I usually select a thicker line for feature that are below. This
> way, I can see the selection even if it?s hidden.
>
> Nicolas Cadieux
> https://gitlab.com/njacadieux
>
> Le 15 avr. 2021 ? 11:14, C Hamilton <adenaculture at gmail.com> a ?crit :
>
> ?
> I have a user complaint with QGIS who explained that when point features
> overlap and one is selected from  the attribute table but is underneath
> other features, you cannot see it highlighted because it is covered by
> other points. Is there any way to have it show that there is a highlighted
> feature there even though it is underneath non-highlighted features? In
> ArcMap the highlights are always shown on the top level of the canvas even
> if they are covered by non-highlighted features.
>
> I tested this in QGIS and the user was correct.
>
> Thanks,
>
> Calvin
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210415/9ca88664/attachment.html>

From matthias at opengis.ch  Thu Apr 15 10:49:13 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 15 Apr 2021 19:49:13 +0200
Subject: [QGIS-Developer] Require documentation PR for new features
In-Reply-To: <20210415172147.7ykenl63x7pd2unk@norbit.de>
References: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>
 <20210415172147.7ykenl63x7pd2unk@norbit.de>
Message-ID: <CAC7zN96c3YXkNU9pgUsF03czi3zLQdGUkHsXxKdO9ujdb5Z5GA@mail.gmail.com>

Hi

Thanks for raising this topic Alessandro. I agree we need better
documentation.

Some questions:

What do we do with interesting feature pull requests and no documentation?
Stale away?
Who decides if the quality of the documentation is good enough?
Who decides if documentation is required?
Will the review job (in the QGIS repository itself) be required to look up
if the attached documentation has been approved before being allowed to hit
the merge button?
Is there enough guidance around about where exactly in the doc repository
this should end up?
Did we fail to encourage people to write good enough docs in the pull
request message so far or did we fail to copy good documentation from the
pr comment into the docs?

I am torn between an apparent easy win for better docs at first sight and a
better handle on clients to sponsor docs, a better handle on devs to write
docs and an increased entry barrier to participate and continue
contributing and the review process.

Matthias

On Thu, Apr 15, 2021 at 7:21 PM J?rgen E. Fischer <jef at norbit.de> wrote:

> Hi,
>
> On Thu, 15. Apr 2021 at 14:15:16 +0200, Alessandro Pasotti wrote:
> > - most of the times authors have been paid for the new feature and it
> doesn't
> >   look fair to me that the documentation is left to volunteers
>
> > Any opinion?
>
> I'd say requiring volunteers to do anything they didn't volunteer for is
> unfair.
>
> Giving people who volunteered to write documentation new stuff to write
> about
> doesn't fall into that category.
>
> But requiring people who volunteered to write features to write
> documentation
> OTOH does.
>
> And as you said not all authors are paid for the feature.  But probably
> less
> than there used to be as more and more hoops like this one make even little
> contribution a big effort.
>
>
> J?rgen
>
> --
> J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden
> https://www.norbit.de
>                             Germany                    IRC: jef on FreeNode
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210415/d759982c/attachment.html>

From rnathreddy at sanasw.com  Thu Apr 15 11:35:30 2021
From: rnathreddy at sanasw.com (rnathreddy at sanasw.com)
Date: Thu, 15 Apr 2021 11:35:30 -0700
Subject: [QGIS-Developer] QGIS Compilation on Windows
Message-ID: <458a1b26121441047a6764335891877f@sanasw.com>

Hi,

I am trying to build the QGIS on windows and followed the instructions 
given at 
https://github.com/qgis/QGIS/blob/release-3_16/INSTALL.md#4-building-on-windows.

When the ConfigOnly.bat command issued from the command prompt I got the 
following error. I couldn't understand the error.  Can anyone help me?

When looked into the logs I understand that the

COMPILER_HAS_DEPRECATED_ATTR flag set in the compiler.

Regards
Raghunath


Messages displayed at the command prompt:

C:\OSGeo4W64\QGIS\ms-windows\osgeo4w>configonly.bat
BEGIN: 13-04-2021 22:52:57.08
CMAKE: 13-04-2021 22:52:57.17
CMake Error at CMakeLists.txt:12 (cmake_policy):
   Policy "CMP0094" is not known to this version of CMake.


-- Selecting Windows SDK version 10.0.14393.0 to target Windows 
10.0.18363.
-- QGIS version: 3.19.0 Master (31900)
-- Found OpenCL C++ headers: C:/OSGeo4W64/include
-- Found GRASS 7: C:/OSGEO4~1/apps/grass/grass78 (7.8.5, off_t size = 8)
-- Found Proj: C:/OSGeo4W64/apps/proj-dev/lib/proj.lib version 8 (8.1.0)
-- Found GEOS: C:/OSGeo4W64/lib/geos_c.lib (3.8.1)
-- Found GDAL: C:/OSGeo4W64/apps/gdal-dev/lib/gdal_i.lib (3.3.0dev)
-- Found Expat: C:/OSGeo4W64/lib/expat.lib
-- Found Spatialindex: C:/OSGeo4W64/lib/spatialindex-64.lib
-- Found Qwt: C:/OSGeo4W64/apps/Qt5/lib/qwt.lib (6.1.3)
-- Found libzip: C:/OSGeo4W64/lib/zip.lib
-- Found Sqlite3: C:/OSGeo4W64/lib/sqlite3_i.lib
-- Found Protobuf: C:/OSGeo4W64/lib/libprotobuf.lib
-- Found zlib: C:/OSGeo4W64/lib/zlib.lib
-- Found PostgreSQL: C:/OSGeo4W64/lib/libpq.lib
-- Found SpatiaLite: C:/OSGeo4W64/lib/spatialite_i.lib
-- Qt WebKit support enabled
-- Found ZSTD: C:/cygwin64/lib
-- Could NOT find LazPerf (missing: LazPerf_INCLUDE_DIR)
-- Using embedded laz-perf
-- Found Qt version: 5.11.2
-- Found QScintilla2: C:/OSGeo4W64/apps/Qt5/lib/qscintilla2.lib (2.10.8)
-- Found QtKeychain: C:/OSGeo4W64/apps/Qt5/lib/qt5keychain.lib
-- Found QCA: C:\OSGEO4~1\apps\Qt5\lib\qca-qt5.lib (2.1.3)
-- Pedantic compiler settings enabled
-- Debug output enabled
-- Found GSL: C:/OSGeo4W64/lib/gsl.lib;C:/OSGeo4W64/lib/cblas.lib
-- Found Python executable: C:/OSGeo4W64/bin/python3.exe (version 3.7.0)
-- Python library: C:/OSGeo4W64/apps/Python37/libs/python37.lib
-- Python site-packages: C:\OSGEO4~1\apps\Python37\Lib\site-packages
-- Found PyQt5 version: 5.11.3
-- Found SIP version: 4.19.14
-- Found QScintilla2 PyQt module: 2.10.8
-- Found exiv2: C:/OSGeo4W64/lib/exiv2.lib
-- Found OCI: C:/OSGeo4W64/lib/oci.lib
-- Found FCGI: C:/OSGeo4W64/lib/libfcgi.lib
-- Using PROJ >= 6 srs database.
-- Ctest Binary Directory set to: 
C:/OSGeo4W64/QGIS/ms-windows/osgeo4w/build-qgis-test-x86_64/output/bin
-- Configuring incomplete, errors occurred!
See also 
"C:/OSGeo4W64/QGIS/ms-windows/osgeo4w/build-qgis-test-x86_64/CMakeFiles/CMakeOutput.log".
See also 
"C:/OSGeo4W64/QGIS/ms-windows/osgeo4w/build-qgis-test-x86_64/CMakeFiles/CMakeError.log".
cmake failed
BUILD ERROR 1: 13-04-2021 22:53:09.00

C:\OSGeo4W64\QGIS\ms-windows\osgeo4w>

From jef at norbit.de  Thu Apr 15 12:25:59 2021
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Thu, 15 Apr 2021 21:25:59 +0200
Subject: [QGIS-Developer] QGIS Compilation on Windows
In-Reply-To: <458a1b26121441047a6764335891877f@sanasw.com>
References: <458a1b26121441047a6764335891877f@sanasw.com>
Message-ID: <20210415192559.ovjez3aqdyq57bng@norbit.de>

Hi Raghunath,

On Thu, 15. Apr 2021 at 11:35:30 -0700, rnathreddy at sanasw.com wrote:
> I am trying to build the QGIS on windows and followed the instructions given
> at https://github.com/qgis/QGIS/blob/release-3_16/INSTALL.md#4-building-on-windows.

That is not up-to-date as current master stopped building with the dependencies
of the current OSGeo4W.  3.16 and 3.18 still do, but master doesn't.

You can switch to dependencies from osgeo4w testing[0], that has the required more
up-to-date dependencies.  You also need to switch the MSVC 2019 compiler.

The build recipes for osgeo4w testing are in [1].

Unfortunately I didn't yet get the git workflows builds[2] (or some
alternative) to fly (runs out of space even w/o caches and takes ages to do
so), so it's still done locally and documentation waits for a final path to
materialize.

What's in osgeo4w testing now is built locally from a cygwin env.


J?rgen

[0] https://lists.osgeo.org/pipermail/qgis-user/2021-February/048137.html
[1] https://github.com/jef-n/OSGeo4W/blob/master/src/qgis-dev/osgeo4w/package.sh
[2] https://github.com/jef-n/OSGeo4W/tree/workflows

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210415/3adf858b/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210415/3adf858b/attachment.ksh>

From nyall.dawson at gmail.com  Thu Apr 15 13:07:51 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 16 Apr 2021 06:07:51 +1000
Subject: [QGIS-Developer] Require documentation PR for new features
In-Reply-To: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>
References: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>
Message-ID: <CAB28Asi6RsEUDOYdCuoAUSwq50SG3cDtFRJ1u6DcJ8tpeN9i-g@mail.gmail.com>

On Thu, 15 Apr 2021 at 10:15 pm, Alessandro Pasotti <apasotti at gmail.com>
wrote:

> Hi,
>
> I think it would be wise to add a new policy about documentation for
> new features which requires a parallel Documentation PR to be opened
> and approved before we accept and merge new features into master.
>
> This is a common policy for other open source projects: documentation
> is a first class citizen of the software ecosystem and shouldn't be
> left behind.
>
> I don't need to stress out how important it is to have high quality
> documentation.
>
> Uptil now we have required the authors to provide enough information
> for others to write the documentation introducing an unnecessary
> burden over the shoulders of the few volunteers that are currently
> maintaining the documentation.
>
> There are good reasons to ask authors to also take care of the
> documentation of the feature they write:
>
> - authors know all the details of the new feature and how and where it
> has an impact on UX and user workflows
> - most of the times authors have been paid for the new feature and it
> doesn't look fair to me that the documentation is left to volunteers
> - while developing and testing the new feature it is easy for authors
> to produce snapshots and notes that can be used directly for the
> documentation, it is harder for others
> - if the documentation lags behind it is difficult for testers and
> users to determine how the new feature should behave and if an
> apparent anomaly is a bug or not
>
> Any opinion?


In the past when this idea was raised the documentation team themselves
were against it. That may have changed, but we should wait for comment from
them as to whether this is now a desirable approach.

(If I recall correctly the rationale was that a well written pr message led
to less work for the team vs them mentoring badly written documentation prs
through to completion.)

Nyall


>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210416/500e0492/attachment.html>

From alroyliz0 at gmail.com  Thu Apr 15 13:41:17 2021
From: alroyliz0 at gmail.com (Alexis R.L.)
Date: Thu, 15 Apr 2021 16:41:17 -0400
Subject: [QGIS-Developer] Require documentation PR for new features
In-Reply-To: <CAC7zN96c3YXkNU9pgUsF03czi3zLQdGUkHsXxKdO9ujdb5Z5GA@mail.gmail.com>
References: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>
 <20210415172147.7ykenl63x7pd2unk@norbit.de>
 <CAC7zN96c3YXkNU9pgUsF03czi3zLQdGUkHsXxKdO9ujdb5Z5GA@mail.gmail.com>
Message-ID: <CAOM0XWAFbxugtqW=QB8oo-S7W6uMfdQRO7Tm4sLVhW1ePHXACA@mail.gmail.com>

Greetings,

Matthias there is one point that you raised that should be a non-issue. The
barrier of entry aspect, I think this is false.

Non-core contributor often need to write more documentation to showcase the
use of their work and its behaviour. In some way documenting properly
things is more of an obligation than a barrier of entry.

The only point that concerns me is that PR documentation is meant to be on
its own, this is fine for detailed changelog, but integrating this properly
to the documentation is a whole new thing.

This is why I think using PR header/posts is good to populate the changelog
when sufficiently detailed, but doing the integration part seems more
complex and may demand more time to update the figures and format things
properly.

Thanks and have a nice day,

Alex


Le jeu. 15 avr. 2021 ? 13:49, Matthias Kuhn <matthias at opengis.ch> a ?crit :

> Hi
>
> Thanks for raising this topic Alessandro. I agree we need better
> documentation.
>
> Some questions:
>
> What do we do with interesting feature pull requests and no documentation?
> Stale away?
> Who decides if the quality of the documentation is good enough?
> Who decides if documentation is required?
> Will the review job (in the QGIS repository itself) be required to look up
> if the attached documentation has been approved before being allowed to hit
> the merge button?
> Is there enough guidance around about where exactly in the doc repository
> this should end up?
> Did we fail to encourage people to write good enough docs in the pull
> request message so far or did we fail to copy good documentation from the
> pr comment into the docs?
>
> I am torn between an apparent easy win for better docs at first sight and
> a better handle on clients to sponsor docs, a better handle on devs to
> write docs and an increased entry barrier to participate and continue
> contributing and the review process.
>
> Matthias
>
> On Thu, Apr 15, 2021 at 7:21 PM J?rgen E. Fischer <jef at norbit.de> wrote:
>
>> Hi,
>>
>> On Thu, 15. Apr 2021 at 14:15:16 +0200, Alessandro Pasotti wrote:
>> > - most of the times authors have been paid for the new feature and it
>> doesn't
>> >   look fair to me that the documentation is left to volunteers
>>
>> > Any opinion?
>>
>> I'd say requiring volunteers to do anything they didn't volunteer for is
>> unfair.
>>
>> Giving people who volunteered to write documentation new stuff to write
>> about
>> doesn't fall into that category.
>>
>> But requiring people who volunteered to write features to write
>> documentation
>> OTOH does.
>>
>> And as you said not all authors are paid for the feature.  But probably
>> less
>> than there used to be as more and more hoops like this one make even
>> little
>> contribution a big effort.
>>
>>
>> J?rgen
>>
>> --
>> J?rgen E. Fischer           norBIT GmbH             Tel.
>> +49-4931-918175-31
>> Dipl.-Inf. (FH)             Rheinstra?e 13          Fax.
>> +49-4931-918175-50
>> Software Engineer           D-26506 Norden
>> https://www.norbit.de
>>                             Germany                    IRC: jef on
>> FreeNode
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210415/a64adaa6/attachment.html>

From wonder.sk at gmail.com  Thu Apr 15 14:18:49 2021
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 15 Apr 2021 23:18:49 +0200
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
In-Reply-To: <CAF6hL+WsAfRuhRKAi+fAgnFHuOy5eQttKyNP5PvZyutCgyHjRw@mail.gmail.com>
References: <mailman.33.1618254002.17629.qgis-developer@lists.osgeo.org>
 <CAF6hL+U76VOhsFiarMnywYASi4nCkUDTL3xOv_Vgvr5Vp_Euzg@mail.gmail.com>
 <VI1P190MB03814A1D6914B9D38686290F804F9@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
 <CAF6hL+WsAfRuhRKAi+fAgnFHuOy5eQttKyNP5PvZyutCgyHjRw@mail.gmail.com>
Message-ID: <CAC2XbFeaPgXjm_fy3HVuPu0_cjbhCNjBugXzzUt-Bs9jyG8Zcg@mail.gmail.com>

Hi Alister

On Wed, Apr 14, 2021 at 8:55 AM Alister Hood <alister.hood at gmail.com> wrote:

>
> What I'm suggesting is that a slightly more general solution would be
> useful in more situations.  In your words, it would "avoid the need to
> create derived raster files" in a lot more situations.
>
> The only downside is that the virtual raster would be created as a new
> layer in the QGIS project (if you want to reduce this "clutter", you might
> just be able to remove the original layer from the project, but sometimes
> you would want to keep it for other reasons).  But it is normal to have
> extra layers in your project just to get things to display you want - for
> example I imagine it is very common for people to duplicate a raster layer
> so they can display it both with the hillshade renderer and one or more
> other renderers.
>
> In any case, assuming you do follow the symbology approach rather than a
> provider, as a user I'd still ask if the way you're proposing to implement
> this is really the best way. Rather than adding a new render type, from a
> user's perspective I think it would be a lot simpler to instead add a ?
> button next to all of the "band" comboboxes, allowing you to enter a raster
> calculator expression rather than selecting a band.  This approach would be
> consistent with the "value" comboboxes for selecting a field from a vector
> layer, which have a ? button next to them, and it could also be extended to
> anywhere else in QGIS where you select a raster band.
>

I have originally suggested the approach (that Francesco took for his
project) in the GSoC ideas list and volunteered as a mentor... I was
playing with multiple ideas how this could be done: 1. new raster renderer,
2. new raster band of an existing layer, 3. new provider (as you suggest).

At the time the first option with a renderer seemed like a choice with the
least amount of hassle to add - simply reusing the concept that
hillshade/contour raster renderers already use. It seemed that the approach
with a renderer could lead to fastest feedback loop when user modifies the
raster calculator expression to immediately get results on canvas. And
contrary to what was said above, user should not be limited to raster bands
of a single input raster layer - any raster layer may be used - which may
lead to a paradox situation when the on-the-fly calculator renderer in
theory may not use any data from its layer (only the input layer's
extent+CRS may be used). The other potentially awkward thing is that raster
calculator (as of now) only supports a single output raster band, and there
would be a sub-renderer attached to actually turn output raster values to
actual colors (which I don't like that much).

For mesh layers, in recent versions of QGIS, there is support similar to
the second option (new "virtual" / "derived" raster band). This works fine,
but the feedback loop between changing the expression and seeing the
results involves much more time and clicking.

The final option with a new provider is similar to the previous option with
a virtual raster band, yet a bit more generic probably - maybe with more
room for configuration, one could possibly use not use on-the-fly raster
calculator, but also various other raster processing algorithms that would
otherwise require creation of outputs stored on disk. I guess with this
approach the raster calculator expression would be set as data provider URI
- which is cumbersome to later modify in QGIS. By the way, this option
seems to be also the approach taken in Redlands (the feature is called
"raster functions").

I can imagine either solution - raster renderer or raster data provider -
each would have some pros and cons. Many thanks for your feedback. I would
be interested to hear what other people think. The GSoC proposal is not set
in stone (and it is not accepted yet either) - if people prefer the
approach with a virtual raster, then we can think of updating the project
plan accordingly (if the project would go ahead).

Regards
Martin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210415/b7a83107/attachment-0001.html>

From rnathreddy at sanasw.com  Thu Apr 15 17:35:27 2021
From: rnathreddy at sanasw.com (rnathreddy at sanasw.com)
Date: Thu, 15 Apr 2021 17:35:27 -0700
Subject: [QGIS-Developer] QGIS Compilation on Windows
In-Reply-To: <20210415192559.ovjez3aqdyq57bng@norbit.de>
References: <458a1b26121441047a6764335891877f@sanasw.com>
 <20210415192559.ovjez3aqdyq57bng@norbit.de>
Message-ID: <5e7bc1a7b3d23b1959276a8b3042952e@sanasw.com>

Dear J?rgen,

Thank you very much for your quick reply.  I have been struggling from 
the past one month, installing multiple times on multiple machines. I 
couldn't succeed.

As I understand

   1) Use the QGIS version 3.16 repository
   2) Use Microsoft Visual Studio 2019 compiler
   3) Use the up to date Osgeo4w repositories using 
http://download.osgeo.org/osgeo4w/testing/osgeo4w-setup.exe


I will try with the above and get back to you any query.


Thank you once again. Appreciate your help in this regard.


Regards
Raghunath

On 2021-04-15 12:25, J?rgen E. Fischer wrote:
> Hi Raghunath,
> 
> On Thu, 15. Apr 2021 at 11:35:30 -0700, rnathreddy at sanasw.com wrote:
>> I am trying to build the QGIS on windows and followed the instructions 
>> given
>> at 
>> https://github.com/qgis/QGIS/blob/release-3_16/INSTALL.md#4-building-on-windows.
> 
> That is not up-to-date as current master stopped building with the 
> dependencies
> of the current OSGeo4W.  3.16 and 3.18 still do, but master doesn't.
> 
> You can switch to dependencies from osgeo4w testing[0], that has the
> required more
> up-to-date dependencies.  You also need to switch the MSVC 2019 
> compiler.
> 
> The build recipes for osgeo4w testing are in [1].
> 
> Unfortunately I didn't yet get the git workflows builds[2] (or some
> alternative) to fly (runs out of space even w/o caches and takes ages 
> to do
> so), so it's still done locally and documentation waits for a final 
> path to
> materialize.
> 
> What's in osgeo4w testing now is built locally from a cygwin env.
> 
> 
> J?rgen
> 
> [0] 
> https://lists.osgeo.org/pipermail/qgis-user/2021-February/048137.html
> [1] 
> https://github.com/jef-n/OSGeo4W/blob/master/src/qgis-dev/osgeo4w/package.sh
> [2] https://github.com/jef-n/OSGeo4W/tree/workflows

From peter.petrik at lutraconsulting.co.uk  Thu Apr 15 23:36:49 2021
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Fri, 16 Apr 2021 08:36:49 +0200
Subject: [QGIS-Developer] Require documentation PR for new features
In-Reply-To: <CAOM0XWAFbxugtqW=QB8oo-S7W6uMfdQRO7Tm4sLVhW1ePHXACA@mail.gmail.com>
References: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>
 <20210415172147.7ykenl63x7pd2unk@norbit.de>
 <CAC7zN96c3YXkNU9pgUsF03czi3zLQdGUkHsXxKdO9ujdb5Z5GA@mail.gmail.com>
 <CAOM0XWAFbxugtqW=QB8oo-S7W6uMfdQRO7Tm4sLVhW1ePHXACA@mail.gmail.com>
Message-ID: <CA+T_MsL1gxb8aLq1Q0LqUMsXOr_iPbkgyV72Dj=S8=SGY04GNA@mail.gmail.com>

Hi,

a good software developer doesn't need to be a good or even acceptable
documentation writer. It is a completely different set of skills IMHO,
starting with the language skills, ending with the  different point of view
to the problem (we developers tend to looks at the algorithm selection,
code quality, performance, ... where in docs you want to look at it from
user point of view, without burden of C++ code details) . Not talking about
the knowledge of all other parts of documentation, so the new piece fits to
the overall "style" and adds the value.

I would prefer to require a very good PR description that can be
easily translated to docs/changelog by the documentation team. Of course
when the feature is part of a paid contract, it would be more good if
documentation is agreed beforehand and budgeted in the contract.

Cheers,
Peter



On Thu, Apr 15, 2021 at 10:42 PM Alexis R.L. <alroyliz0 at gmail.com> wrote:

> Greetings,
>
> Matthias there is one point that you raised that should be a non-issue.
> The barrier of entry aspect, I think this is false.
>
> Non-core contributor often need to write more documentation to showcase
> the use of their work and its behaviour. In some way documenting properly
> things is more of an obligation than a barrier of entry.
>
> The only point that concerns me is that PR documentation is meant to be on
> its own, this is fine for detailed changelog, but integrating this properly
> to the documentation is a whole new thing.
>
> This is why I think using PR header/posts is good to populate the
> changelog when sufficiently detailed, but doing the integration part seems
> more complex and may demand more time to update the figures and format
> things properly.
>
> Thanks and have a nice day,
>
> Alex
>
>
> Le jeu. 15 avr. 2021 ? 13:49, Matthias Kuhn <matthias at opengis.ch> a
> ?crit :
>
>> Hi
>>
>> Thanks for raising this topic Alessandro. I agree we need better
>> documentation.
>>
>> Some questions:
>>
>> What do we do with interesting feature pull requests and no
>> documentation? Stale away?
>> Who decides if the quality of the documentation is good enough?
>> Who decides if documentation is required?
>> Will the review job (in the QGIS repository itself) be required to look
>> up if the attached documentation has been approved before being allowed to
>> hit the merge button?
>> Is there enough guidance around about where exactly in the doc repository
>> this should end up?
>> Did we fail to encourage people to write good enough docs in the pull
>> request message so far or did we fail to copy good documentation from the
>> pr comment into the docs?
>>
>> I am torn between an apparent easy win for better docs at first sight and
>> a better handle on clients to sponsor docs, a better handle on devs to
>> write docs and an increased entry barrier to participate and continue
>> contributing and the review process.
>>
>> Matthias
>>
>> On Thu, Apr 15, 2021 at 7:21 PM J?rgen E. Fischer <jef at norbit.de> wrote:
>>
>>> Hi,
>>>
>>> On Thu, 15. Apr 2021 at 14:15:16 +0200, Alessandro Pasotti wrote:
>>> > - most of the times authors have been paid for the new feature and it
>>> doesn't
>>> >   look fair to me that the documentation is left to volunteers
>>>
>>> > Any opinion?
>>>
>>> I'd say requiring volunteers to do anything they didn't volunteer for is
>>> unfair.
>>>
>>> Giving people who volunteered to write documentation new stuff to write
>>> about
>>> doesn't fall into that category.
>>>
>>> But requiring people who volunteered to write features to write
>>> documentation
>>> OTOH does.
>>>
>>> And as you said not all authors are paid for the feature.  But probably
>>> less
>>> than there used to be as more and more hoops like this one make even
>>> little
>>> contribution a big effort.
>>>
>>>
>>> J?rgen
>>>
>>> --
>>> J?rgen E. Fischer           norBIT GmbH             Tel.
>>> +49-4931-918175-31
>>> Dipl.-Inf. (FH)             Rheinstra?e 13          Fax.
>>> +49-4931-918175-50
>>> Software Engineer           D-26506 Norden
>>> https://www.norbit.de
>>>                             Germany                    IRC: jef on
>>> FreeNode
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210416/c59c0c38/attachment.html>

From jef at norbit.de  Fri Apr 16 01:49:08 2021
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Fri, 16 Apr 2021 10:49:08 +0200
Subject: [QGIS-Developer] QGIS Compilation on Windows
In-Reply-To: <5e7bc1a7b3d23b1959276a8b3042952e@sanasw.com>
References: <458a1b26121441047a6764335891877f@sanasw.com>
 <20210415192559.ovjez3aqdyq57bng@norbit.de>
 <5e7bc1a7b3d23b1959276a8b3042952e@sanasw.com>
Message-ID: <20210416084908.bjmk3cxvzrgisml4@norbit.de>

Hi, 

On Thu, 15. Apr 2021 at 17:35:27 -0700, rnathreddy at sanasw.com wrote:
> As I understand
> 
>   1) Use the QGIS version 3.16 repository
>   2) Use Microsoft Visual Studio 2019 compiler
>   3) Use the up to date Osgeo4w repositories using http://download.osgeo.org/osgeo4w/testing/osgeo4w-setup.exe

Only for master the new repository is required - and in turn the new compiler.
For 3.16 or 3.18 you can stick with what's documented.  But you can also
switch.


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210416/8b536f65/attachment.sig>

From apasotti at gmail.com  Mon Apr 19 00:06:21 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 19 Apr 2021 09:06:21 +0200
Subject: [QGIS-Developer] Require documentation PR for new features
In-Reply-To: <CA+T_MsL1gxb8aLq1Q0LqUMsXOr_iPbkgyV72Dj=S8=SGY04GNA@mail.gmail.com>
References: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>
 <20210415172147.7ykenl63x7pd2unk@norbit.de>
 <CAC7zN96c3YXkNU9pgUsF03czi3zLQdGUkHsXxKdO9ujdb5Z5GA@mail.gmail.com>
 <CAOM0XWAFbxugtqW=QB8oo-S7W6uMfdQRO7Tm4sLVhW1ePHXACA@mail.gmail.com>
 <CA+T_MsL1gxb8aLq1Q0LqUMsXOr_iPbkgyV72Dj=S8=SGY04GNA@mail.gmail.com>
Message-ID: <CAL5Q671Ha6_DsxFQZg3qxteUVytQVsB1TgwZkQwxc5G-8JOBGg@mail.gmail.com>

Thank you all for the feedback.

I'll try to make a QEP with a revised proposal and see if we can come
up with a solution that makes everyone happy.




On Fri, Apr 16, 2021 at 8:37 AM Peter Petrik
<peter.petrik at lutraconsulting.co.uk> wrote:
>
> Hi,
>
> a good software developer doesn't need to be a good or even acceptable documentation writer. It is a completely different set of skills IMHO, starting with the language skills, ending with the  different point of view to the problem (we developers tend to looks at the algorithm selection, code quality, performance, ... where in docs you want to look at it from user point of view, without burden of C++ code details) . Not talking about the knowledge of all other parts of documentation, so the new piece fits to the overall "style" and adds the value.
>
> I would prefer to require a very good PR description that can be easily translated to docs/changelog by the documentation team. Of course when the feature is part of a paid contract, it would be more good if documentation is agreed beforehand and budgeted in the contract.
>
> Cheers,
> Peter
>
>
>
> On Thu, Apr 15, 2021 at 10:42 PM Alexis R.L. <alroyliz0 at gmail.com> wrote:
>>
>> Greetings,
>>
>> Matthias there is one point that you raised that should be a non-issue. The barrier of entry aspect, I think this is false.
>>
>> Non-core contributor often need to write more documentation to showcase the use of their work and its behaviour. In some way documenting properly things is more of an obligation than a barrier of entry.
>>
>> The only point that concerns me is that PR documentation is meant to be on its own, this is fine for detailed changelog, but integrating this properly to the documentation is a whole new thing.
>>
>> This is why I think using PR header/posts is good to populate the changelog when sufficiently detailed, but doing the integration part seems more complex and may demand more time to update the figures and format things properly.
>>
>> Thanks and have a nice day,
>>
>> Alex
>>
>>
>> Le jeu. 15 avr. 2021 ? 13:49, Matthias Kuhn <matthias at opengis.ch> a ?crit :
>>>
>>> Hi
>>>
>>> Thanks for raising this topic Alessandro. I agree we need better documentation.
>>>
>>> Some questions:
>>>
>>> What do we do with interesting feature pull requests and no documentation? Stale away?
>>> Who decides if the quality of the documentation is good enough?
>>> Who decides if documentation is required?
>>> Will the review job (in the QGIS repository itself) be required to look up if the attached documentation has been approved before being allowed to hit the merge button?
>>> Is there enough guidance around about where exactly in the doc repository this should end up?
>>> Did we fail to encourage people to write good enough docs in the pull request message so far or did we fail to copy good documentation from the pr comment into the docs?
>>>
>>> I am torn between an apparent easy win for better docs at first sight and a better handle on clients to sponsor docs, a better handle on devs to write docs and an increased entry barrier to participate and continue contributing and the review process.
>>>
>>> Matthias
>>>
>>> On Thu, Apr 15, 2021 at 7:21 PM J?rgen E. Fischer <jef at norbit.de> wrote:
>>>>
>>>> Hi,
>>>>
>>>> On Thu, 15. Apr 2021 at 14:15:16 +0200, Alessandro Pasotti wrote:
>>>> > - most of the times authors have been paid for the new feature and it doesn't
>>>> >   look fair to me that the documentation is left to volunteers
>>>>
>>>> > Any opinion?
>>>>
>>>> I'd say requiring volunteers to do anything they didn't volunteer for is
>>>> unfair.
>>>>
>>>> Giving people who volunteered to write documentation new stuff to write about
>>>> doesn't fall into that category.
>>>>
>>>> But requiring people who volunteered to write features to write documentation
>>>> OTOH does.
>>>>
>>>> And as you said not all authors are paid for the feature.  But probably less
>>>> than there used to be as more and more hoops like this one make even little
>>>> contribution a big effort.
>>>>
>>>>
>>>> J?rgen
>>>>
>>>> --
>>>> J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
>>>> Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
>>>> Software Engineer           D-26506 Norden            https://www.norbit.de
>>>>                             Germany                    IRC: jef on FreeNode
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From cavallini at faunalia.it  Mon Apr 19 00:41:43 2021
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 19 Apr 2021 09:41:43 +0200
Subject: [QGIS-Developer] makevalid and fix geometries
Message-ID: <4ee6249c-f4bf-e0aa-59e1-053cf0e16572@faunalia.it>

Hi all,
the several methods available in QGIS for checking and cleaning up
invalid geometries always proved confusing to users. Now things are
getting even more complicated with the new FixGeometry function in GEOS.
The results of it are different from those of MakeValid.Some examples of
common cases here:
https://github.com/libgeos/geos/pull/433#issuecomment-821597724
An interesting thread here:
https://lists.osgeo.org/pipermail/postgis-devel/2021-April/028870.html
Any hope to take advantage of this to clarify the QGIS situation?
Cheers.
-- 
Paolo Cavallini
www.faunalia.eu - QGIS.org
training, support, development on QGIS, PostGIS and more

From uclaros at gmail.com  Mon Apr 19 03:14:37 2021
From: uclaros at gmail.com (uclaros)
Date: Mon, 19 Apr 2021 03:14:37 -0700 (MST)
Subject: [QGIS-Developer] Require documentation PR for new features
In-Reply-To: <CAL5Q671Ha6_DsxFQZg3qxteUVytQVsB1TgwZkQwxc5G-8JOBGg@mail.gmail.com>
References: <CAL5Q672oyZjDGoq9UzKBhB9s3EA0S+=uVfZ-o+sJ2wMZ3wdGWA@mail.gmail.com>
 <20210415172147.7ykenl63x7pd2unk@norbit.de>
 <CAC7zN96c3YXkNU9pgUsF03czi3zLQdGUkHsXxKdO9ujdb5Z5GA@mail.gmail.com>
 <CAOM0XWAFbxugtqW=QB8oo-S7W6uMfdQRO7Tm4sLVhW1ePHXACA@mail.gmail.com>
 <CA+T_MsL1gxb8aLq1Q0LqUMsXOr_iPbkgyV72Dj=S8=SGY04GNA@mail.gmail.com>
 <CAL5Q671Ha6_DsxFQZg3qxteUVytQVsB1TgwZkQwxc5G-8JOBGg@mail.gmail.com>
Message-ID: <1618827277031-0.post@n6.nabble.com>

Hi all,
just wanted to point out that tooltips are at least as useful as the docs
and while the docs may be maintained by the documentation team, the tooltips
are not. Furthermore, a missing tooltip is harder to be fixed by a
documentation contributor or a first time contributor since sometimes it has
to be added in .ui files while other times in .cpp .
That's why I think that adding tooltips should also be a requirement for the
devs.

Regards,
Stefanos




--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From uclaros at gmail.com  Tue Apr 20 08:44:53 2021
From: uclaros at gmail.com (uclaros)
Date: Tue, 20 Apr 2021 08:44:53 -0700 (MST)
Subject: [QGIS-Developer] Crash when loading Oracle layers
Message-ID: <1618933493637-0.post@n6.nabble.com>

Hi list,
on Debian Bullseye I can no longer load Oracle layers without crashing.
I have attached a stack trace on https://github.com/qgis/QGIS/issues/42857
The recent change on my system triggering this was probably upgrading qt5 to
5.15.2 before rebuilding qgis.

Anyone using Oracle on Debian Bullseye and/or qt 5.15.2 ?

Regards,
Stefanos



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From delazj at gmail.com  Tue Apr 20 14:07:37 2021
From: delazj at gmail.com (DelazJ)
Date: Tue, 20 Apr 2021 23:07:37 +0200
Subject: [QGIS-Developer] Deprecated methods in API documentation
Message-ID: <CAECJsSpsvPvsc7esD51Axi8jjeLua8s7GBDY_8ZrUw_t=ZEjmw@mail.gmail.com>

Hi devs,

Bear with me if this is a dumb question. I'm not aware of best practice in
this area.

Few days ago, we got some failure on test code in the docs and on my way to
fix it, I found out it was due to a deprecated method
QgsVectorFileWriter.writeAsVectorFormatV2 in master. Browsing the PyQGIS
docs website for the new Chosen One, I found in the same page (
https://qgis.org/pyqgis/master/core/QgsVectorFileWriter.html) :
- multiple occurrences of writeAsVectorFormat that are tagged as deprecated
and that we should be using writeAsVectorFormatV2
- writeAsVectorFormatV2 with its description, itself tagged as deprecated
and we should now use writeAsVectorFormatV3
- and description of the current valid writeAsVectorFormatV3 method to use
in master. The new hero!

It looks weird to me to have writeAsVectorFormat, writeAsVectorFormatV2,
writeAsVectorFormatV3 replacing each other in the same (version) doc.... I
guess we have to increment until the next API break but is it common to
keep listing deprecated methods releases after releases? I assume a
deprecated method is one that no longer works in the newer version. If so,
is it worth keeping it in the docs? Couldn't the deprecation information
appear only in the version that deprecates it, and the future docs only
show the new method in use? Am I saying nonsense or is there something we
need to improve to help users easily find their way in the API?

Greetings,
Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210420/5d01685d/attachment.html>

From paul.wittle at dorsetcouncil.gov.uk  Wed Apr 21 00:59:58 2021
From: paul.wittle at dorsetcouncil.gov.uk (Paul Wittle)
Date: Wed, 21 Apr 2021 07:59:58 +0000
Subject: [QGIS-Developer] Odd error
Message-ID: <LO2P265MB323124186C23EC3DCADFDDBDC1479@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>

Hi,

I have a python script that I wrote which routes from point A to B using the default tools in QGIS. If I go to the processing toolbox and open the dialog it runs fine and everything is great.

I also have a python plugin and I put a button in a toolbar to open the same script. It loads the dialog but when you try to run it the whole thing crashes out and QGIS disables my plugin.

Does anyone have any suggestions as to what I might have done wrong?

I?m assuming the issue is related to how I?m calling the script from my plugin rather than the script itself as it runs independently from the processing toolbox fine ?

Any suggestions would be appreciated.

Paul Wittle
[cid:image001.jpg at 01D7368C.B3C78E00]<https://www.dorsetcouncil.gov.uk/>
Business Solutions Analyst (GIS)
ICT Operations
Dorset Council
01305 228473 <tel:01305%20228473%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20>
dorsetcouncil.gov.uk<https://www.dorsetcouncil.gov.uk>

[cid:image002.png at 01D7368C.B3C78E00]<https://www.facebook.com/DorsetCouncilUK>
[cid:image003.png at 01D7368C.B3C78E00]<https://instagram.com/DorsetCouncilUK>
[cid:image004.png at 01D7368C.B3C78E00]<https://twitter.com/DorsetCouncilUK>

This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to whom they are addressed. It may contain unclassified but sensitive or protectively marked material and should be handled accordingly. Unless you are the named addressee (or authorised to receive it for the addressee) you may not copy or use it, or disclose it to anyone else. If you have received this transmission in error please notify the sender immediately. All traffic may be subject to recording and/or monitoring in accordance with relevant legislation. Any views expressed in this message are those of the individual sender, except where the sender specifies and with authority, states them to be the views of Dorset Council. Dorset Council does not accept service of documents by fax or other electronic means. Virus checking: Whilst all reasonable steps have been taken to ensure that this electronic communication and its attachments whether encoded, encrypted or otherwise supplied are free from computer viruses, Dorset Council accepts no liability in respect of any loss, cost, damage or expense suffered as a result of accessing this message or any of its attachments. For information on how Dorset Council processes your information, please see www.dorsetcouncil.gov.uk/data-protection
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210421/f6f9a40f/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 5739 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210421/f6f9a40f/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 3147 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210421/f6f9a40f/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 6146 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210421/f6f9a40f/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 2536 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210421/f6f9a40f/attachment-0005.png>

From bramroozen1997 at hotmail.com  Wed Apr 21 07:45:34 2021
From: bramroozen1997 at hotmail.com (Bram Roozen)
Date: Wed, 21 Apr 2021 14:45:34 +0000
Subject: [QGIS-Developer] Possibility for Raster Natural Breaks
 Reclassification in QGIS
Message-ID: <AM8P191MB113715BFA1C32FF0E2E43722D6479@AM8P191MB1137.EURP191.PROD.OUTLOOK.COM>

Dear,

I am using PyQGIS in QGIS 3.10 and I am working on a script to standardise and automate heatmap creation. Currently, the only way (by my knowledge) to reclassify rasters in QGIS (through the Processing Toolbox) is with r.reclass or the SAGA reclassify values (simple and ?not simple?). r.reclass only allows for an input text file with set numbers as intervals, which isn't optimal if an automated reclassification is desired based on data distribution. SAGA reclassify is only able to work with set values in a table. The same issue arises here with the inabilities for automated reclassification.

r.quant or r.quantiles also exists, but neither actually apply the quantiles for the raster to a new dataset.

In ArcPy, there is an option called ?slice? which exactly performs this trick. Is there a way that this can be achieved in QGIS/PyQGIS, so that automation can be achieved through the modeler, possibly with different reclassification methods (quantiles, equal intervals, natural breaks, etc)?

I hope that one will be able to answer this question. Thanks in advance.

Kind regards,
Bram Roozen


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210421/ffdd3b73/attachment.html>

From paul.wittle at dorsetcouncil.gov.uk  Thu Apr 22 01:57:13 2021
From: paul.wittle at dorsetcouncil.gov.uk (Paul Wittle)
Date: Thu, 22 Apr 2021 08:57:13 +0000
Subject: [QGIS-Developer] Odd error
In-Reply-To: <LO2P265MB32313F6CB93B06CCD75E6E80C1479@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>
References: <LO2P265MB323124186C23EC3DCADFDDBDC1479@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>
 <779495729.3163602.1618992673976@mail.yahoo.com>
 <LO2P265MB32313F6CB93B06CCD75E6E80C1479@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <LO2P265MB3231AF531DEDB8170678625BC1469@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>

Hi,

I?ve been thinking about this a bit more and I think the issue may relate specifically to the following lines:
dialog = processing.createAlgorithmDialog("script:atobroute",{})
       dialog.show()

I think the issue is that the dialog.show() opens the script dialog but that dialog then has interactive options where you can select a point from the map canvas. It is when you try to select the coordinates that QGIS crashes.

I think I tried using .exec_ instead of .show but of course the dialog opens and closes straight away. I think the issue may be that my plugin is waiting for the user to dismiss the dialog but is unhappy when it is hidden by the select from canvas tool.

I?ve slept since I wrote the script but I think the select from map is default functionality and the fields are defined as
self.addParameter(QgsProcessingParameterPoint(self.ORIG, 'Origin coordinates',None,True))

Is there a better way to open a script from a button on the toolbar. Ideally I want to simply replicate the behaviour of just double clicking the script from the processing toolbox.

Thanks,
Paul


From: Paul Wittle
Sent: 21 April 2021 09:16
To: nagyrobi_r at yahoo.com
Subject: RE: [QGIS-Developer] Odd error

Hi,

Yes I used plugin builder as a base for the plugin. Here is the code in question:

#Create the routing toolbar
        self.routebar = self.iface.addToolBar("Routing Tools")
        self.routebar.setObjectName(u'Routing Tools')

        text = QLabel(
            QCoreApplication.translate('CouncilPlugin', 'Routing Tools:')
            )
        #No action to connect to this!
        self.routebar.addWidget(text)

        route1 = QAction(
            QIcon(':/plugins/council_plugin/AtoB.png'),
            QCoreApplication.translate('CouncilPlugin', 'Route from A to B'),
            self.iface.mainWindow()
            )
        route1.triggered.connect(self.AtoB)
        self.routebar.addAction(route1)

#Routing Tools
    def AtoB(self):
        self.CheckRoutingTools() #Always check the scripts are up to date first
        dialog = processing.createAlgorithmDialog("script:atobroute",{})
        dialog.show()

I don?t think it gives an error message. QGIS just disappears and you have to re-open it.

Thanks,
Paul


From: nagyrobi_r at yahoo.com<mailto:nagyrobi_r at yahoo.com> <nagyrobi_r at yahoo.com<mailto:nagyrobi_r at yahoo.com>>
Sent: 21 April 2021 09:11
To: Paul Wittle <paul.wittle at dorsetcouncil.gov.uk<mailto:paul.wittle at dorsetcouncil.gov.uk>>
Subject: Re: [QGIS-Developer] Odd error

Hei!

Have you bilt the plugin using "plugin builder?
Could you send the error message?

Cheers,
Robert

On Wed, Apr 21, 2021 at 10:00 AM, Paul Wittle
<paul.wittle at dorsetcouncil.gov.uk<mailto:paul.wittle at dorsetcouncil.gov.uk>> wrote:

Hi,



I have a python script that I wrote which routes from point A to B using the default tools in QGIS. If I go to the processing toolbox and open the dialog it runs fine and everything is great.



I also have a python plugin and I put a button in a toolbar to open the same script. It loads the dialog but when you try to run it the whole thing crashes out and QGIS disables my plugin.



Does anyone have any suggestions as to what I might have done wrong?



I?m assuming the issue is related to how I?m calling the script from my plugin rather than the script itself as it runs independently from the processing toolbox fine ?



Any suggestions would be appreciated.



Paul Wittle

[cid:image001.jpg at 01D7375D.DD71ADE0]<https://www.dorsetcouncil.gov.uk/>

Business Solutions Analyst (GIS)

ICT Operations

Dorset Council

01305 228473

dorsetcouncil.gov.uk<https://www.dorsetcouncil.gov.uk>



[cid:image003.png at 01D7375D.DD71ADE0]<https://www.facebook.com/DorsetCouncilUK>

[cid:image005.png at 01D7375D.DD71ADE0]<https://instagram.com/DorsetCouncilUK>

[cid:image007.png at 01D7375D.DD71ADE0]<https://twitter.com/DorsetCouncilUK>


This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to whom they are addressed. It may contain unclassified but sensitive or protectively marked material and should be handled accordingly. Unless you are the named addressee (or authorised to receive it for the addressee) you may not copy or use it, or disclose it to anyone else. If you have received this transmission in error please notify the sender immediately. All traffic may be subject to recording and/or monitoring in accordance with relevant legislation. Any views expressed in this message are those of the individual sender, except where the sender specifies and with authority, states them to be the views of Dorset Council. Dorset Council does not accept service of documents by fax or other electronic means. Virus checking: Whilst all reasonable steps have been taken to ensure that this electronic communication and its attachments whether encoded, encrypted or otherwise supplied are free from computer viruses, Dorset Council accepts no liability in respect of any loss, cost, damage or expense suffered as a result of accessing this message or any of its attachments. For information on how Dorset Council processes your information, please see www.dorsetcouncil.gov.uk/data-protection<http://www.dorsetcouncil.gov.uk/data-protection>
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to whom they are addressed. It may contain unclassified but sensitive or protectively marked material and should be handled accordingly. Unless you are the named addressee (or authorised to receive it for the addressee) you may not copy or use it, or disclose it to anyone else. If you have received this transmission in error please notify the sender immediately. All traffic may be subject to recording and/or monitoring in accordance with relevant legislation. Any views expressed in this message are those of the individual sender, except where the sender specifies and with authority, states them to be the views of Dorset Council. Dorset Council does not accept service of documents by fax or other electronic means. Virus checking: Whilst all reasonable steps have been taken to ensure that this electronic communication and its attachments whether encoded, encrypted or otherwise supplied are free from computer viruses, Dorset Council accepts no liability in respect of any loss, cost, damage or expense suffered as a result of accessing this message or any of its attachments. For information on how Dorset Council processes your information, please see www.dorsetcouncil.gov.uk/data-protection
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210422/840de13d/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 5708 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210422/840de13d/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 4194 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210422/840de13d/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.png
Type: image/png
Size: 6142 bytes
Desc: image005.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210422/840de13d/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image007.png
Type: image/png
Size: 2536 bytes
Desc: image007.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210422/840de13d/attachment-0005.png>

From zacwang15 at gmail.com  Thu Apr 22 04:07:09 2021
From: zacwang15 at gmail.com (Zac Wang)
Date: Thu, 22 Apr 2021 21:07:09 +1000
Subject: [QGIS-Developer] How to transfer data between QGIS Python plugins?
Message-ID: <CAJXDtY8r0ZTXQ_Qn=dCvHNtDHCB1WrF9Y=T=CCk3LdW9iYsMdQ@mail.gmail.com>

Hi all,

Are there some ways to transfer data between different pyqgis plugins? I
hope plugins share state.

The only way I found is to make pluginA to be a child component of
QgisApp(iface.mainWindow()).

Then in another pluginB, call findChild() to get the object(pluginA) and
connect its signal.

This is a possible solution, but it's not easy to maintain because plugins
are not initiated in the same file.

Is there a better solution?

Regards,

Zac
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210422/387696de/attachment.html>

From hanwgeek at gmail.com  Thu Apr 22 04:25:18 2021
From: hanwgeek at gmail.com (Han Wang)
Date: Thu, 22 Apr 2021 19:25:18 +0800
Subject: [QGIS-Developer] How to transfer data between QGIS Python
 plugins?
In-Reply-To: <CAJXDtY8r0ZTXQ_Qn=dCvHNtDHCB1WrF9Y=T=CCk3LdW9iYsMdQ@mail.gmail.com>
References: <CAJXDtY8r0ZTXQ_Qn=dCvHNtDHCB1WrF9Y=T=CCk3LdW9iYsMdQ@mail.gmail.com>
Message-ID: <CADCmNp1J6xPB31s_m_Mv0qLhjNqKRhLqt8yvBXNZN=ezUJxbqA@mail.gmail.com>

Hi Zac,

Generally, QGIS data are stored in layers. I think it is enough for us to
transfer data in layers. Could you give a detailed example?

Best regards,

Han

Zac Wang <zacwang15 at gmail.com> ?2021?4?22??? ??7:07???

> Hi all,
>
> Are there some ways to transfer data between different pyqgis plugins? I
> hope plugins share state.
>
> The only way I found is to make pluginA to be a child component of
> QgisApp(iface.mainWindow()).
>
> Then in another pluginB, call findChild() to get the object(pluginA) and
> connect its signal.
>
> This is a possible solution, but it's not easy to maintain because plugins
> are not initiated in the same file.
>
> Is there a better solution?
>
> Regards,
>
> Zac
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210422/044a6e76/attachment.html>

From imajimatika at gmail.com  Thu Apr 22 04:28:16 2021
From: imajimatika at gmail.com (Ismail Sunni)
Date: Thu, 22 Apr 2021 13:28:16 +0200
Subject: [QGIS-Developer] How to transfer data between QGIS Python
 plugins?
In-Reply-To: <CAJXDtY8r0ZTXQ_Qn=dCvHNtDHCB1WrF9Y=T=CCk3LdW9iYsMdQ@mail.gmail.com>
References: <CAJXDtY8r0ZTXQ_Qn=dCvHNtDHCB1WrF9Y=T=CCk3LdW9iYsMdQ@mail.gmail.com>
Message-ID: <CAEh5jtFfCKf-dn9mr4z01gc5=tuD9PxfYnB3WQ_0zL7=AZP8YQ@mail.gmail.com>

Hi Zac,

In PyQGIS you can access the plugin using something like this:

the_plugin_a = qgis.utils.plugins['the_plugin_a']

After that, you can access all stuff in the plugin a.

Perhaps that can solve the problem.

Best Regards

On Thu, Apr 22, 2021 at 1:07 PM Zac Wang <zacwang15 at gmail.com> wrote:

> Hi all,
>
> Are there some ways to transfer data between different pyqgis plugins? I
> hope plugins share state.
>
> The only way I found is to make pluginA to be a child component of
> QgisApp(iface.mainWindow()).
>
> Then in another pluginB, call findChild() to get the object(pluginA) and
> connect its signal.
>
> This is a possible solution, but it's not easy to maintain because plugins
> are not initiated in the same file.
>
> Is there a better solution?
>
> Regards,
>
> Zac
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Ismail Sunni
Software Engineer
ismailsunni.id
ismailsunni.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210422/4d5bd310/attachment.html>

From r.nijssen at terglobo.nl  Thu Apr 22 04:27:40 2021
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Thu, 22 Apr 2021 13:27:40 +0200
Subject: [QGIS-Developer] How to transfer data between QGIS Python
 plugins?
In-Reply-To: <CAJXDtY8r0ZTXQ_Qn=dCvHNtDHCB1WrF9Y=T=CCk3LdW9iYsMdQ@mail.gmail.com>
References: <CAJXDtY8r0ZTXQ_Qn=dCvHNtDHCB1WrF9Y=T=CCk3LdW9iYsMdQ@mail.gmail.com>
Message-ID: <aa5685c4-2f2f-494e-e08d-66a0ad46a445@terglobo.nl>

Hi Zac,

You can use:

qgis.utils.plugins

to get a dictionary with all active plugins.



To find out if another plugin is available:

'processing' in qgis.utils.plugins



And use it like:

processing_pl = qgis.utils.plugins['processing']
processing_pl.toolbox.searchBox.setText('overlay')


Hope this helps,

Raymond


On 22-04-2021 13:07, Zac Wang wrote:
> Hi all,
> 
> Are there some ways to transfer data between different pyqgis plugins? I 
> hope plugins share state.
> 
> The only way I found is to make pluginA to be a child component of 
> QgisApp(iface.mainWindow()).
> 
> Then in another pluginB, call findChild() to get the object(pluginA) and 
> connect its?signal.
> 
> This is a possible solution, but it's not easy to maintain because 
> plugins are not initiated in the same file.
> 
> Is there a better?solution?
> 
> Regards,
> 
> Zac
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From zacwang15 at gmail.com  Thu Apr 22 05:09:09 2021
From: zacwang15 at gmail.com (Zac Wang)
Date: Thu, 22 Apr 2021 22:09:09 +1000
Subject: [QGIS-Developer] How to transfer data between QGIS Python
 plugins?
In-Reply-To: <aa5685c4-2f2f-494e-e08d-66a0ad46a445@terglobo.nl>
References: <CAJXDtY8r0ZTXQ_Qn=dCvHNtDHCB1WrF9Y=T=CCk3LdW9iYsMdQ@mail.gmail.com>
 <aa5685c4-2f2f-494e-e08d-66a0ad46a445@terglobo.nl>
Message-ID: <CAJXDtY_qMEiAQc915O9tpF88zSzk41pgmLb5ORCnWTt_+22now@mail.gmail.com>

Hi guys,

Thank you for all your replies.

'qgis.utils.plugins' really resolves my problem.

This issue obsessed me for a few days, and your advice is fantastic.

I can't understand why there is no documentation for such a useful
functionality.

Anyway, thank you for your help. Appreciate it.


Cheers,

Zac


On Thu, 22 Apr 2021 at 22:01, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:

> Hi Zac,
>
> You can use:
>
> qgis.utils.plugins
>
> to get a dictionary with all active plugins.
>
>
>
> To find out if another plugin is available:
>
> 'processing' in qgis.utils.plugins
>
>
>
> And use it like:
>
> processing_pl = qgis.utils.plugins['processing']
> processing_pl.toolbox.searchBox.setText('overlay')
>
>
> Hope this helps,
>
> Raymond
>
>
> On 22-04-2021 13:07, Zac Wang wrote:
> > Hi all,
> >
> > Are there some ways to transfer data between different pyqgis plugins? I
> > hope plugins share state.
> >
> > The only way I found is to make pluginA to be a child component of
> > QgisApp(iface.mainWindow()).
> >
> > Then in another pluginB, call findChild() to get the object(pluginA) and
> > connect its signal.
> >
> > This is a possible solution, but it's not easy to maintain because
> > plugins are not initiated in the same file.
> >
> > Is there a better solution?
> >
> > Regards,
> >
> > Zac
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210422/13b3a440/attachment-0001.html>

From joan.rebassa at imi.palma.cat  Thu Apr 22 11:08:07 2021
From: joan.rebassa at imi.palma.cat (Rebassa Oliver, Joan)
Date: Thu, 22 Apr 2021 18:08:07 +0000
Subject: [QGIS-Developer] QGIS + Cluster PostgreSQL
In-Reply-To: <AM7P191MB0663B8F2439C5B62C99E764EC1469@AM7P191MB0663.EURP191.PROD.OUTLOOK.COM>
References: <AM7P191MB0663B8F2439C5B62C99E764EC1469@AM7P191MB0663.EURP191.PROD.OUTLOOK.COM>
Message-ID: <AM7P191MB06638C7139C1A8D9F7514C77C1469@AM7P191MB0663.EURP191.PROD.OUTLOOK.COM>

Buenas tardes:

Tenemos configurado un cluster de base de datos de PostgreSQL de forma que el nodo maestro de este cluster es el que permite las operaciones de escritura en base de datos a trav?s del puerto 5432 y el resto de nodos que forman el cluster son nodos esclavos a los que se replican los cambios que se han hecho en el maestro y asumen las operaciones de lectura en base de datos por el puerto 5433, las aplicaciones que han de acceder a las bases de datos deben poder tener definidos dos datasources: uno para las operaciones de escritura por el puerto 5432 y otro para lectura por el puerto 5433, queremos saber si Qgis soporta esta configuraci?n.

Gracias.

Good afternoon:

We have configured a PostgreSQL database cluster so that the master node of this cluster is the one that allows database write operations through port 5432 and the rest of the nodes are slave nodes, the changes that have been made in the master are replicated to the slave nodes and they assume the database read operations through port 5433, the applications that have to access the databases must have two datasources configured: one for database write operations (port 5432) and another for read operartions (port 5433), we want to know if Qgis supports this configuration.

Thanks.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210422/2b5c5935/attachment.html>

From regis.haubourg at gmail.com  Thu Apr 22 12:08:19 2021
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 22 Apr 2021 21:08:19 +0200
Subject: [QGIS-Developer] QGIS + Cluster PostgreSQL
In-Reply-To: <AM7P191MB06638C7139C1A8D9F7514C77C1469@AM7P191MB0663.EURP191.PROD.OUTLOOK.COM>
References: <AM7P191MB0663B8F2439C5B62C99E764EC1469@AM7P191MB0663.EURP191.PROD.OUTLOOK.COM>
 <AM7P191MB06638C7139C1A8D9F7514C77C1469@AM7P191MB0663.EURP191.PROD.OUTLOOK.COM>
Message-ID: <CABgOYCf_40vPzbYY+WUf-Vd+UVy=7PW2gct=txx3JaW-Xu9QYA@mail.gmail.com>

Hi
I have never heard of such a setup and QGIS will not support this our of
the box. You might split qgis project for editors wired on 5432 and read
only projects on 5433. But nothing automatic to switch port when entering
edit mode.

Side question, I don't understand why you would use different ports.
I've used pgpool for replication / load balancing and fail over for years
and it works well. Even if it is often overkill and the reason for more
issues than a single node correctly sized.

I learnt that the simpler the better. And postgres is extremely forgiving,
so you may sometimes question if a cluster is really needed.
Best regards
R?gis

Le jeu. 22 avr. 2021 ? 20:08, Rebassa Oliver, Joan <
joan.rebassa at imi.palma.cat> a ?crit :

> Buenas tardes:
>
> Tenemos configurado un cluster de base de datos de PostgreSQL de forma que
> el nodo maestro de este cluster es el que permite las operaciones de
> escritura en base de datos a trav?s del puerto 5432 y el resto de nodos que
> forman el cluster son nodos esclavos a los que se replican los cambios que
> se han hecho en el maestro y asumen las operaciones de lectura en base de
> datos por el puerto 5433, las aplicaciones que han de acceder a las bases
> de datos deben poder tener definidos dos datasources: uno para las
> operaciones de escritura por el puerto 5432 y otro para lectura por el
> puerto 5433, queremos saber si Qgis soporta esta configuraci?n.
>
> Gracias.
>
> Good afternoon:
>
> We have configured a PostgreSQL database cluster so that the master node
> of this cluster is the one that allows database write operations through
> port 5432 and the rest of the nodes are slave nodes, the changes that have
> been made in the master are replicated to the slave nodes and they assume
> the database read operations through port 5433, the applications that have
> to access the databases must have two datasources configured: one for
> database write operations (port 5432) and another for read operartions
> (port 5433), we want to know if Qgis supports this configuration.
>
> Thanks.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210422/10be9944/attachment.html>

From tschmetzer at gmx.de  Thu Apr 22 14:43:31 2021
From: tschmetzer at gmx.de (Tobias Schmetzer)
Date: Thu, 22 Apr 2021 21:43:31 +0000 (UTC)
Subject: [QGIS-Developer] How to transfer data between QGIS Python
 plugins?
In-Reply-To: <CAJXDtY_qMEiAQc915O9tpF88zSzk41pgmLb5ORCnWTt_+22now@mail.gmail.com>
References: <CAJXDtY8r0ZTXQ_Qn=dCvHNtDHCB1WrF9Y=T=CCk3LdW9iYsMdQ@mail.gmail.com>
 <aa5685c4-2f2f-494e-e08d-66a0ad46a445@terglobo.nl>
 <CAJXDtY_qMEiAQc915O9tpF88zSzk41pgmLb5ORCnWTt_+22now@mail.gmail.com>
Message-ID: <3d0eff24-f720-43c9-b97c-32bb6f878145@gmx.de>

Hello Zac,

I just saw you were helped and I'm happy the functionality solved your problem!

If you feel there's a lack of documentation and you've got an idea how to improve it I think the best thing to do is to support this documentation with a contribution. This is how I started when I realised something was missing and I suggested to add this or that bit of information.

It's easy to sign up on GitHub and make a suggestion. You can't damage anything. Everything will get reviewed and maybe discussed. There's also guidelines in the docs how to contribute.

Best regards, Tobias

22.04.2021 14:09:30 Zac Wang <zacwang15 at gmail.com>:

> Hi guys,
> 
> Thank you for all your replies.?
> 
> 'qgis.utils.plugins' really resolves my problem.
> 
> This issue obsessed me for a few days, and your advice is fantastic.
> 
> I can't understand why there is no documentation for such a useful functionality.
> 
> Anyway, thank you for your help. Appreciate it.
> 
> 
> Cheers,
> 
> Zac
> 
> 
> On Thu, 22 Apr 2021 at 22:01, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:
>> Hi Zac,
>> 
>> You can use:
>> 
>> qgis.utils.plugins
>> 
>> to get a dictionary with all active plugins.
>> 
>> 
>> 
>> To find out if another plugin is available:
>> 
>> 'processing' in qgis.utils.plugins
>> 
>> 
>> 
>> And use it like:
>> 
>> processing_pl = qgis.utils.plugins['processing']
>> processing_pl.toolbox.searchBox.setText('overlay')
>> 
>> 
>> Hope this helps,
>> 
>> Raymond
>> 
>> 
>> On 22-04-2021 13:07, Zac Wang wrote:
>>> Hi all,
>>>
>>> Are there some ways to transfer data between different pyqgis plugins? I
>>> hope plugins share state.
>>>
>>> The only way I found is to make pluginA to be a child component of
>>> QgisApp(iface.mainWindow()).
>>>
>>> Then in another pluginB, call findChild() to get the object(pluginA) and
>>> connect its?signal.
>>>
>>> This is a possible solution, but it's not easy to maintain because
>>> plugins are not initiated in the same file.
>>>
>>> Is there a better?solution?
>>>
>>> Regards,
>>>
>>> Zac
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210422/c07ba74e/attachment.html>

From nyall.dawson at gmail.com  Thu Apr 22 17:00:21 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 23 Apr 2021 10:00:21 +1000
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CAC7zN95p0D6kbmqO=Te-wwLudUfLd4Xzs87sZo+R7EhWKtEF0A@mail.gmail.com>
References: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
 <CAB28AsiUqQ973HPqTWE-hK8pBLtvYrUUQ0p=oYTgwYhJ78aTrg@mail.gmail.com>
 <87lf9tdvwg.fsf@julien-laptop.home>
 <CAB28AshzfK4=YkiHBaZgHw7V-pb9HbQD-mGs9b7s9eP_5JQg1g@mail.gmail.com>
 <CA+T_MsL0V6h_SM7Xtd9wXg6VK=C4xPRPYg823FrY6=-AFN+-zg@mail.gmail.com>
 <CAC7zN95p0D6kbmqO=Te-wwLudUfLd4Xzs87sZo+R7EhWKtEF0A@mail.gmail.com>
Message-ID: <CAB28Asgm6B9ZAdC3vUnoA0qoObDSDAoczXS-OiZjbnZqA4hMqg@mail.gmail.com>

On Fri, 9 Apr 2021 at 19:10, Matthias Kuhn <matthias at opengis.ch> wrote:
>
> Hi,
>
> Thanks for the continued effort in reviewing. It's one of the not-so-visible-highly-technically-and-socially-qualified-people-needed-but-very-important aspects of (open source) software development.
>
> I try to go over the PR queue every now and then and merge/comment/review what's possible, but these days I find less time than in the past. While at the same time it seems pull request activity increases it seems.
> I'll make sure we raise this topic at an upcoming OPENGIS.ch meeting and encourage people to participate.
>
> Additionally to what has been said already, backports are easy to forget / ignore by the original author because they have been opened by a bot and as an author you won't receive notifications by reviewers or the stale bot. I wonder if we could get the original author more involved if we'd mention them in the backport comment and increase their responsibility for this part. This might be worth some automation.

I definitely think this would help. The mentality at the moment is
predominantly that "as soon as the original PR is merged, the
responsibility is no longer mine" and that "someone else" will handle
the backports. In part this is due to how easy the bot has made
backporting.. we've now all got the mentality that the bot will handle
everything for us, but that's not the case in reality. I think
tweaking the backport message so that the author is mentioned will
help here, as at least they'll get notified if we close the backport
due to merge conflicts/etc. I'd also love to see the bot fixed so that
commits are cherry-picked and the ORIGINAL author name is attributed
to the commit. I think this is very important for accountability...
currently all the backport commits are anonymous and attributed to the
bot only, which makes it hard to tell who is responsible for the
change. I wish we could keep the original author here, as I think this
helps increase burden of responsiblity for that author... A poor
quality or buggy backport will directly reflect on their reputation,
so they are more likely to self-police backport PRs and ensure they
are suitable for merge. (At least, I hope so).

The other really painful thing with backport bot is that we have to
manually close and reopen ALL automated backports in order for the
tests to run. It's a minor thing, but definitely contributes to the
"chore" and drudgery of maintaining the PR list. Especially because
only a few have permission to do this, and unless the original
contributor has merge rights they can't even close/open their own
backports to help speed things along.

Don't get me wrong - backport bot *is* great, and has simplified work
a lot. But with a bit more investment and refinement it could be
incredible and save me substantially more time!

> Something else is that for example for me, the process to decide which backports get into pending backports was not obvious at first (only the LTR or also LR? At which stage of the LTR? How exactly do they get in there?), I'm sure for other people there are other parts of the process that are not immediately clear. I think documenting the review process could help here (the suggestions written by Nyall above for a lower entry barrier into the reviewer process would already be worth mentioning).

Right, we should definitely document this better. I'd suggest you and
I get together sometime to do this, as we've been appointed this
responsibility by PSC already. Can you ping me off list so we can
arrange this?

Nyall


>
> I hope I'll find more time again for reviews myself in the future.
> I actually enjoyed it a lot in the past; it has influenced my development a lot over the years as it allowed me to discuss concepts and approaches with experts from all over the globe, more than I had the chance before in the SMB offices I have been employed before.
>
> Matthias
>
> On Fri, Apr 9, 2021 at 9:21 AM Peter Petrik <peter.petrik at lutraconsulting.co.uk> wrote:
>>
>> Hi,
>>
>> First of all, thanks Nyall for your efforts. I try to review the code that we introduced to QGIS and I find kind-of familiar: for example QgsQuick, MeshLayer or MacOS stuff. But as mentioned in the thread, the less you know the particular code, the more time it takes to review it.  What I see that I can improve is to actively at least twice per week double check the PR queue to see if there is something in this area, since sometimes I need to be pinged to get a notification in email that the PR is waiting for review.
>>
>> What are my thoughts on other improvements not mentioned by Nyall and others:
>> 1. when someone introduces a new feature (and most notably coming from a paid contract), the review process should be taken into account in the quote and the reviewer should be notified. Proper review can take days...
>> 2.  we may have a (partially paid?) role for the review manager, to go through the PR queue, ping people for reviews, etc. (Alternatively) create some github-action bot to assign the maintainers to the PRs as reviewers?
>> 3. reintroduce the maintainers of particular QGIS code-base. For example here the motivation for companies could be to advertise their logo in the "sustainable member section"  or introducing some other category to advertise their efforts.
>>
>> Cheers,
>> Peter
>>
>>
>> On Fri, Apr 9, 2021 at 7:45 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>>
>>> On Thu, 8 Apr 2021 at 18:26, Julien Cabieces
>>> <julien.cabieces at oslandia.com> wrote:
>>> >
>>> >
>>> > Hi Nyall,
>>> >
>>> > We (at Oslandia) heard your call for more volunteers in reviewing the backports and PRs.
>>> >
>>> > We are very well aware that our contribution effort for this task is not enough. I see mainly two reasons:
>>> > - Lack of time and human ressources to fullfill this task. This is a bad reason, and a well known situation that we need to take care of internally, to free our schedule.
>>> > - A very partial knowledge of the code base in which we feel relevant to review. I try myself to review all Oracle related PRs, or take a look in some part of the code I know enough to make a good review,
>>>
>>> It would certainly be remiss of me not to acknowledge your hard work
>>> in maintaining the Oracle provider over recent months -- it's
>>> certainly very highly valued!
>>>
>>> > but it's very little compared to the QGIS code base.
>>>
>>> This is where things get really tricky. We do have a very small pool
>>> of people with the required expertise to handle the reviewing process,
>>> and it's a very fine balancing act of "opening this up to a wider
>>> community" vs "ensure that nothing nasty gets through". I don't have
>>> any easy answers here, but a few random thoughts:
>>>
>>> - ANY review is appreciated, even if it's just a "I had a look at this
>>> and the c++ code looks good to me, but I'm not familiar with the QGIS
>>> raster api so can someone else check this part out".
>>> - There's a lot of "chore" work in the pr review process which has a
>>> lower barrier of entry. For instance guiding new contributors through
>>> the QGIS processes such as the formatting scripts and CI setup. We
>>> regularly get PRs from first-time contributors and they almost always
>>> need some mentoring in the QGIS processes before they pass the CI
>>> setup and are ready for an in-depth review. This is the kind of thing
>>> which we should ideally do ASAP, as the faster we get the contributors
>>> through the initial maze of QGIS contributions the more likely they
>>> are to continue to contribute.
>>> - We've discussed this before, but a quick comment from a
>>> non-developer on new contributors PRs to say "great work, welcome
>>> abroad, this sounds like a very valuable contribution" is enough to
>>> give the project a positive vibe and give motivation to the submitter
>>> to get their PR in shape to merge
>>> - PR reviewing is a great way to learn new parts of the QGIS codebase ;)
>>>
>>> > I hesitated answering your first email, saying basically that we will try to improve the situation, but it would have been just a promise, and I'm not sure that we would have been able to keep it, regarding the points I described above.
>>>
>>> I really appreciate the reply, and the time you've taken to drop your
>>> thoughts into this conversation!
>>>
>>> Nyall
>>>
>>>
>>>
>>>
>>> >
>>> >
>>> > Kind regard,
>>> > Julien
>>> >
>>> > > On Tue, 23 Mar 2021 at 09:06, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>> > >>
>>> > >> Hi list,
>>> > >>
>>> > >> This is a public plea for more developers who are very familiar with
>>> > >> different parts of the QGIS codebase to become actively involved in
>>> > >> backport PR management.
>>> > >>
>>> > >> We NEED more people to be actively (i.e. daily) monitoring for
>>> > >> backport PRs and then reviewing them if the backport affects code
>>> > >> areas which they're knowledgeable about.
>>> > >>
>>> > >
>>> > > Well my earlier plea seems like it fell on deaf ears, and we've seen
>>> > > only minimal assistance coming to maintain the PR queue since I posted
>>> > > this.
>>> > >
>>> > > I'll ask nicely once more. If you're an organisation involved in QGIS
>>> > > development, you NEED to donate time to maintaining this list. It's
>>> > > not enough to just ensure your own PRs get through the queue, you HAVE
>>> > > to help with the shared burden of getting others PRs reviewed and
>>> > > merged.
>>> > >
>>> > > This callout applies to ALL organisations who are making money from
>>> > > core QGIS development. You know who you are, and you can ALL afford to
>>> > > donate 30 minutes of a staff member's time each week to helping with
>>> > > this shared burden. If your boss is blocking this then you NEED to let
>>> > > them know how big a risk they are running here. It's not fair to leave
>>> > > this responsibility on the already burdened shoulders of a few
>>> > > overworked individuals.
>>> > >
>>> > > Nyall
>>> > > _______________________________________________
>>> > > QGIS-Developer mailing list
>>> > > QGIS-Developer at lists.osgeo.org
>>> > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >
>>> > _______________________________________________
>>> > QGIS-Developer mailing list
>>> > QGIS-Developer at lists.osgeo.org
>>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Thu Apr 22 17:04:36 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 23 Apr 2021 10:04:36 +1000
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CA+T_MsL0V6h_SM7Xtd9wXg6VK=C4xPRPYg823FrY6=-AFN+-zg@mail.gmail.com>
References: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
 <CAB28AsiUqQ973HPqTWE-hK8pBLtvYrUUQ0p=oYTgwYhJ78aTrg@mail.gmail.com>
 <87lf9tdvwg.fsf@julien-laptop.home>
 <CAB28AshzfK4=YkiHBaZgHw7V-pb9HbQD-mGs9b7s9eP_5JQg1g@mail.gmail.com>
 <CA+T_MsL0V6h_SM7Xtd9wXg6VK=C4xPRPYg823FrY6=-AFN+-zg@mail.gmail.com>
Message-ID: <CAB28Asgz2rk4Riwzw1c9-bigaOKFV9nNhsFRyp4Xhxvdwu9KQg@mail.gmail.com>

On Fri, 9 Apr 2021 at 17:21, Peter Petrik
<peter.petrik at lutraconsulting.co.uk> wrote:
>
> Hi,
>
> First of all, thanks Nyall for your efforts. I try to review the code that we introduced to QGIS and I find kind-of familiar: for example QgsQuick, MeshLayer or MacOS stuff. But as mentioned in the thread, the less you know the particular code, the more time it takes to review it.  What I see that I can improve is to actively at least twice per week double check the PR queue to see if there is something in this area, since sometimes I need to be pinged to get a notification in email that the PR is waiting for review.
>
> What are my thoughts on other improvements not mentioned by Nyall and others:
> 1. when someone introduces a new feature (and most notably coming from a paid contract), the review process should be taken into account in the quote and the reviewer should be notified. Proper review can take days...

I agree... but realistically, how often is this done? In the 10 years
I've had merge rights I've been paid **once** to review a big PR. I'd
be interested to hear other's experiences here.

(Personally I'll always include a disclaimer in my quotes that that
work has to go through peer review and may be blocked by the larger
community. And then I'll trade on social capital or trade
review-for-review in order to get my PRs reviewed as quickly as
possible. I've also never directly paid anyone external for a review.)

Nyall

From etienne.trimaille at gmail.com  Thu Apr 22 20:08:01 2021
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Fri, 23 Apr 2021 10:08:01 +0700
Subject: [QGIS-Developer] How to transfer data between QGIS Python
 plugins?
In-Reply-To: <3d0eff24-f720-43c9-b97c-32bb6f878145@gmx.de>
References: <CAJXDtY8r0ZTXQ_Qn=dCvHNtDHCB1WrF9Y=T=CCk3LdW9iYsMdQ@mail.gmail.com>
 <aa5685c4-2f2f-494e-e08d-66a0ad46a445@terglobo.nl>
 <CAJXDtY_qMEiAQc915O9tpF88zSzk41pgmLb5ORCnWTt_+22now@mail.gmail.com>
 <3d0eff24-f720-43c9-b97c-32bb6f878145@gmx.de>
Message-ID: <CAMtDFLJ60iJDzaeaHsgp_t4zYyw5MTZCX19P+a0i1XKawFt+pw@mail.gmail.com>

It also depends what you mean by "transferring data". It seems that you
mean Python code ? Not geospatial data ?
If you mean Python code, you can also have a look at the Processing
framework.
https://docs.qgis.org/3.16/en/docs/user_manual/processing/index.html
You can call Processing algorithm plugin A from plugin B by using
"processing.run("plugin_a_provider:name_of_algorithm")".

This will make you code available from the Processing graphical toolbox,
Modeler, etc as well.

Not recommended because others already gave the qgis.utils.plugins
dictionary, but you can do "from plugin_a.xxxx import yyy" from you plugin
B.

Le ven. 23 avr. 2021 ? 04:43, Tobias Schmetzer <tschmetzer at gmx.de> a ?crit :

> Hello Zac,
>
> I just saw you were helped and I'm happy the functionality solved your
> problem!
>
> If you feel there's a lack of documentation and you've got an idea how to
> improve it I think the best thing to do is to support this documentation
> with a contribution. This is how I started when I realised something was
> missing and I suggested to add this or that bit of information.
>
> It's easy to sign up on GitHub and make a suggestion. You can't damage
> anything. Everything will get reviewed and maybe discussed. There's also
> guidelines in the docs how to contribute.
>
> Best regards, Tobias
>
> 22.04.2021 14:09:30 Zac Wang <zacwang15 at gmail.com>:
>
> Hi guys,
>
> Thank you for all your replies.
>
> 'qgis.utils.plugins' really resolves my problem.
>
> This issue obsessed me for a few days, and your advice is fantastic.
>
> I can't understand why there is no documentation for such a useful
> functionality.
>
> Anyway, thank you for your help. Appreciate it.
>
>
> Cheers,
>
> Zac
>
>
> On Thu, 22 Apr 2021 at 22:01, Raymond Nijssen <r.nijssen at terglobo.nl>
> wrote:
>
>> Hi Zac,
>>
>> You can use:
>>
>> qgis.utils.plugins
>>
>> to get a dictionary with all active plugins.
>>
>>
>>
>> To find out if another plugin is available:
>>
>> 'processing' in qgis.utils.plugins
>>
>>
>>
>> And use it like:
>>
>> processing_pl = qgis.utils.plugins['processing']
>> processing_pl.toolbox.searchBox.setText('overlay')
>>
>>
>> Hope this helps,
>>
>> Raymond
>>
>>
>> On 22-04-2021 13:07, Zac Wang wrote:
>> > Hi all,
>> >
>> > Are there some ways to transfer data between different pyqgis plugins?
>> I
>> > hope plugins share state.
>> >
>> > The only way I found is to make pluginA to be a child component of
>> > QgisApp(iface.mainWindow()).
>> >
>> > Then in another pluginB, call findChild() to get the object(pluginA)
>> and
>> > connect its signal.
>> >
>> > This is a possible solution, but it's not easy to maintain because
>> > plugins are not initiated in the same file.
>> >
>> > Is there a better solution?
>> >
>> > Regards,
>> >
>> > Zac
>> >
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210423/444e1ce3/attachment.html>

From zacwang15 at gmail.com  Thu Apr 22 21:58:33 2021
From: zacwang15 at gmail.com (Zac Wang)
Date: Fri, 23 Apr 2021 14:58:33 +1000
Subject: [QGIS-Developer] How to transfer data between QGIS Python
 plugins?
In-Reply-To: <CAMtDFLJ60iJDzaeaHsgp_t4zYyw5MTZCX19P+a0i1XKawFt+pw@mail.gmail.com>
References: <CAJXDtY8r0ZTXQ_Qn=dCvHNtDHCB1WrF9Y=T=CCk3LdW9iYsMdQ@mail.gmail.com>
 <aa5685c4-2f2f-494e-e08d-66a0ad46a445@terglobo.nl>
 <CAJXDtY_qMEiAQc915O9tpF88zSzk41pgmLb5ORCnWTt_+22now@mail.gmail.com>
 <3d0eff24-f720-43c9-b97c-32bb6f878145@gmx.de>
 <CAMtDFLJ60iJDzaeaHsgp_t4zYyw5MTZCX19P+a0i1XKawFt+pw@mail.gmail.com>
Message-ID: <CAJXDtY-Cs7XFDgNuPgu6rRMrNkGD2ujRHQd2X4gHf23AzLB=2A@mail.gmail.com>

Hi Etienne,

Yes, you're right. I mean Python code.

Others' suggestions solved my problem. But it's good to know that I can
call another plugin using the Processing package.

Thank you.


Cheers,

Zac

On Fri, 23 Apr 2021 at 13:08, Etienne Trimaille <etienne.trimaille at gmail.com>
wrote:

> It also depends what you mean by "transferring data". It seems that you
> mean Python code ? Not geospatial data ?
> If you mean Python code, you can also have a look at the Processing
> framework.
> https://docs.qgis.org/3.16/en/docs/user_manual/processing/index.html
> You can call Processing algorithm plugin A from plugin B by using
> "processing.run("plugin_a_provider:name_of_algorithm")".
>
> This will make you code available from the Processing graphical toolbox,
> Modeler, etc as well.
>
> Not recommended because others already gave the qgis.utils.plugins
> dictionary, but you can do "from plugin_a.xxxx import yyy" from you plugin
> B.
>
> Le ven. 23 avr. 2021 ? 04:43, Tobias Schmetzer <tschmetzer at gmx.de> a
> ?crit :
>
>> Hello Zac,
>>
>> I just saw you were helped and I'm happy the functionality solved your
>> problem!
>>
>> If you feel there's a lack of documentation and you've got an idea how to
>> improve it I think the best thing to do is to support this documentation
>> with a contribution. This is how I started when I realised something was
>> missing and I suggested to add this or that bit of information.
>>
>> It's easy to sign up on GitHub and make a suggestion. You can't damage
>> anything. Everything will get reviewed and maybe discussed. There's also
>> guidelines in the docs how to contribute.
>>
>> Best regards, Tobias
>>
>> 22.04.2021 14:09:30 Zac Wang <zacwang15 at gmail.com>:
>>
>> Hi guys,
>>
>> Thank you for all your replies.
>>
>> 'qgis.utils.plugins' really resolves my problem.
>>
>> This issue obsessed me for a few days, and your advice is fantastic.
>>
>> I can't understand why there is no documentation for such a useful
>> functionality.
>>
>> Anyway, thank you for your help. Appreciate it.
>>
>>
>> Cheers,
>>
>> Zac
>>
>>
>> On Thu, 22 Apr 2021 at 22:01, Raymond Nijssen <r.nijssen at terglobo.nl>
>> wrote:
>>
>>> Hi Zac,
>>>
>>> You can use:
>>>
>>> qgis.utils.plugins
>>>
>>> to get a dictionary with all active plugins.
>>>
>>>
>>>
>>> To find out if another plugin is available:
>>>
>>> 'processing' in qgis.utils.plugins
>>>
>>>
>>>
>>> And use it like:
>>>
>>> processing_pl = qgis.utils.plugins['processing']
>>> processing_pl.toolbox.searchBox.setText('overlay')
>>>
>>>
>>> Hope this helps,
>>>
>>> Raymond
>>>
>>>
>>> On 22-04-2021 13:07, Zac Wang wrote:
>>> > Hi all,
>>> >
>>> > Are there some ways to transfer data between different pyqgis plugins?
>>> I
>>> > hope plugins share state.
>>> >
>>> > The only way I found is to make pluginA to be a child component of
>>> > QgisApp(iface.mainWindow()).
>>> >
>>> > Then in another pluginB, call findChild() to get the object(pluginA)
>>> and
>>> > connect its signal.
>>> >
>>> > This is a possible solution, but it's not easy to maintain because
>>> > plugins are not initiated in the same file.
>>> >
>>> > Is there a better solution?
>>> >
>>> > Regards,
>>> >
>>> > Zac
>>> >
>>> > _______________________________________________
>>> > QGIS-Developer mailing list
>>> > QGIS-Developer at lists.osgeo.org
>>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210423/42b33f29/attachment-0001.html>

From nyall.dawson at gmail.com  Thu Apr 22 22:06:37 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 23 Apr 2021 15:06:37 +1000
Subject: [QGIS-Developer] How to transfer data between QGIS Python
 plugins?
In-Reply-To: <CAMtDFLJ60iJDzaeaHsgp_t4zYyw5MTZCX19P+a0i1XKawFt+pw@mail.gmail.com>
References: <CAJXDtY8r0ZTXQ_Qn=dCvHNtDHCB1WrF9Y=T=CCk3LdW9iYsMdQ@mail.gmail.com>
 <aa5685c4-2f2f-494e-e08d-66a0ad46a445@terglobo.nl>
 <CAJXDtY_qMEiAQc915O9tpF88zSzk41pgmLb5ORCnWTt_+22now@mail.gmail.com>
 <3d0eff24-f720-43c9-b97c-32bb6f878145@gmx.de>
 <CAMtDFLJ60iJDzaeaHsgp_t4zYyw5MTZCX19P+a0i1XKawFt+pw@mail.gmail.com>
Message-ID: <CAB28AsjwLoTrboo=+02Cx7zr_vC_Tr0eNJ22eXMWuZ1X1n=t5w@mail.gmail.com>

On Fri, 23 Apr 2021 at 13:08, Etienne Trimaille
<etienne.trimaille at gmail.com> wrote:
>
> Not recommended because others already gave the qgis.utils.plugins dictionary, but you can do "from plugin_a.xxxx import yyy" from you plugin B.

Actually I would recommend avoiding both the qgis.utils.plugins
dictionary AND the from plugin.*** approach, UNLESS you maintain both
plugins. Plugin API isn't guaranteed to be stable, and if your plugin
relies on someone else's plugin to work then there's the risk that
they'll refactor and change their plugin and break yours in turn.

So unless you know that this won't happen, I would strongly suggest
going via the processing route only.

Nyall


>
> Le ven. 23 avr. 2021 ? 04:43, Tobias Schmetzer <tschmetzer at gmx.de> a ?crit :
>>
>> Hello Zac,
>>
>> I just saw you were helped and I'm happy the functionality solved your problem!
>>
>> If you feel there's a lack of documentation and you've got an idea how to improve it I think the best thing to do is to support this documentation with a contribution. This is how I started when I realised something was missing and I suggested to add this or that bit of information.
>>
>> It's easy to sign up on GitHub and make a suggestion. You can't damage anything. Everything will get reviewed and maybe discussed. There's also guidelines in the docs how to contribute.
>>
>> Best regards, Tobias
>>
>> 22.04.2021 14:09:30 Zac Wang <zacwang15 at gmail.com>:
>>
>> Hi guys,
>>
>> Thank you for all your replies.
>>
>> 'qgis.utils.plugins' really resolves my problem.
>>
>> This issue obsessed me for a few days, and your advice is fantastic.
>>
>> I can't understand why there is no documentation for such a useful functionality.
>>
>> Anyway, thank you for your help. Appreciate it.
>>
>>
>> Cheers,
>>
>> Zac
>>
>>
>> On Thu, 22 Apr 2021 at 22:01, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:
>>>
>>> Hi Zac,
>>>
>>> You can use:
>>>
>>> qgis.utils.plugins
>>>
>>> to get a dictionary with all active plugins.
>>>
>>>
>>>
>>> To find out if another plugin is available:
>>>
>>> 'processing' in qgis.utils.plugins
>>>
>>>
>>>
>>> And use it like:
>>>
>>> processing_pl = qgis.utils.plugins['processing']
>>> processing_pl.toolbox.searchBox.setText('overlay')
>>>
>>>
>>> Hope this helps,
>>>
>>> Raymond
>>>
>>>
>>> On 22-04-2021 13:07, Zac Wang wrote:
>>> > Hi all,
>>> >
>>> > Are there some ways to transfer data between different pyqgis plugins? I
>>> > hope plugins share state.
>>> >
>>> > The only way I found is to make pluginA to be a child component of
>>> > QgisApp(iface.mainWindow()).
>>> >
>>> > Then in another pluginB, call findChild() to get the object(pluginA) and
>>> > connect its signal.
>>> >
>>> > This is a possible solution, but it's not easy to maintain because
>>> > plugins are not initiated in the same file.
>>> >
>>> > Is there a better solution?
>>> >
>>> > Regards,
>>> >
>>> > Zac
>>> >
>>> > _______________________________________________
>>> > QGIS-Developer mailing list
>>> > QGIS-Developer at lists.osgeo.org
>>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From zacwang15 at gmail.com  Thu Apr 22 22:16:11 2021
From: zacwang15 at gmail.com (Zac Wang)
Date: Fri, 23 Apr 2021 15:16:11 +1000
Subject: [QGIS-Developer] How to transfer data between QGIS Python
 plugins?
In-Reply-To: <CAB28AsjwLoTrboo=+02Cx7zr_vC_Tr0eNJ22eXMWuZ1X1n=t5w@mail.gmail.com>
References: <CAJXDtY8r0ZTXQ_Qn=dCvHNtDHCB1WrF9Y=T=CCk3LdW9iYsMdQ@mail.gmail.com>
 <aa5685c4-2f2f-494e-e08d-66a0ad46a445@terglobo.nl>
 <CAJXDtY_qMEiAQc915O9tpF88zSzk41pgmLb5ORCnWTt_+22now@mail.gmail.com>
 <3d0eff24-f720-43c9-b97c-32bb6f878145@gmx.de>
 <CAMtDFLJ60iJDzaeaHsgp_t4zYyw5MTZCX19P+a0i1XKawFt+pw@mail.gmail.com>
 <CAB28AsjwLoTrboo=+02Cx7zr_vC_Tr0eNJ22eXMWuZ1X1n=t5w@mail.gmail.com>
Message-ID: <CAJXDtY-jBXvoY4wwSaq_Qz_z4wDYqOcnnXWe8ayvsc4dK0W__Q@mail.gmail.com>

Hi Nyall,

In my case, I maintain all the plugins myself for internal usage.

Thanks for your advice as well.


Regards,

Zac

On Fri, 23 Apr 2021 at 15:07, Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Fri, 23 Apr 2021 at 13:08, Etienne Trimaille
> <etienne.trimaille at gmail.com> wrote:
> >
> > Not recommended because others already gave the qgis.utils.plugins
> dictionary, but you can do "from plugin_a.xxxx import yyy" from you plugin
> B.
>
> Actually I would recommend avoiding both the qgis.utils.plugins
> dictionary AND the from plugin.*** approach, UNLESS you maintain both
> plugins. Plugin API isn't guaranteed to be stable, and if your plugin
> relies on someone else's plugin to work then there's the risk that
> they'll refactor and change their plugin and break yours in turn.
>
> So unless you know that this won't happen, I would strongly suggest
> going via the processing route only.
>
> Nyall
>
>
> >
> > Le ven. 23 avr. 2021 ? 04:43, Tobias Schmetzer <tschmetzer at gmx.de> a
> ?crit :
> >>
> >> Hello Zac,
> >>
> >> I just saw you were helped and I'm happy the functionality solved your
> problem!
> >>
> >> If you feel there's a lack of documentation and you've got an idea how
> to improve it I think the best thing to do is to support this documentation
> with a contribution. This is how I started when I realised something was
> missing and I suggested to add this or that bit of information.
> >>
> >> It's easy to sign up on GitHub and make a suggestion. You can't damage
> anything. Everything will get reviewed and maybe discussed. There's also
> guidelines in the docs how to contribute.
> >>
> >> Best regards, Tobias
> >>
> >> 22.04.2021 14:09:30 Zac Wang <zacwang15 at gmail.com>:
> >>
> >> Hi guys,
> >>
> >> Thank you for all your replies.
> >>
> >> 'qgis.utils.plugins' really resolves my problem.
> >>
> >> This issue obsessed me for a few days, and your advice is fantastic.
> >>
> >> I can't understand why there is no documentation for such a useful
> functionality.
> >>
> >> Anyway, thank you for your help. Appreciate it.
> >>
> >>
> >> Cheers,
> >>
> >> Zac
> >>
> >>
> >> On Thu, 22 Apr 2021 at 22:01, Raymond Nijssen <r.nijssen at terglobo.nl>
> wrote:
> >>>
> >>> Hi Zac,
> >>>
> >>> You can use:
> >>>
> >>> qgis.utils.plugins
> >>>
> >>> to get a dictionary with all active plugins.
> >>>
> >>>
> >>>
> >>> To find out if another plugin is available:
> >>>
> >>> 'processing' in qgis.utils.plugins
> >>>
> >>>
> >>>
> >>> And use it like:
> >>>
> >>> processing_pl = qgis.utils.plugins['processing']
> >>> processing_pl.toolbox.searchBox.setText('overlay')
> >>>
> >>>
> >>> Hope this helps,
> >>>
> >>> Raymond
> >>>
> >>>
> >>> On 22-04-2021 13:07, Zac Wang wrote:
> >>> > Hi all,
> >>> >
> >>> > Are there some ways to transfer data between different pyqgis
> plugins? I
> >>> > hope plugins share state.
> >>> >
> >>> > The only way I found is to make pluginA to be a child component of
> >>> > QgisApp(iface.mainWindow()).
> >>> >
> >>> > Then in another pluginB, call findChild() to get the object(pluginA)
> and
> >>> > connect its signal.
> >>> >
> >>> > This is a possible solution, but it's not easy to maintain because
> >>> > plugins are not initiated in the same file.
> >>> >
> >>> > Is there a better solution?
> >>> >
> >>> > Regards,
> >>> >
> >>> > Zac
> >>> >
> >>> > _______________________________________________
> >>> > QGIS-Developer mailing list
> >>> > QGIS-Developer at lists.osgeo.org
> >>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>> >
> >>> _______________________________________________
> >>> QGIS-Developer mailing list
> >>> QGIS-Developer at lists.osgeo.org
> >>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210423/d4d467a9/attachment.html>

From paul.wittle at dorsetcouncil.gov.uk  Fri Apr 23 02:14:33 2021
From: paul.wittle at dorsetcouncil.gov.uk (Paul Wittle)
Date: Fri, 23 Apr 2021 09:14:33 +0000
Subject: [QGIS-Developer] Odd error
In-Reply-To: <LO2P265MB3231AF531DEDB8170678625BC1469@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>
References: <LO2P265MB323124186C23EC3DCADFDDBDC1479@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>
 <779495729.3163602.1618992673976@mail.yahoo.com>
 <LO2P265MB32313F6CB93B06CCD75E6E80C1479@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>
 <LO2P265MB3231AF531DEDB8170678625BC1469@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <LO2P265MB3231ED6D69729BB648FF3D46C1459@LO2P265MB3231.GBRP265.PROD.OUTLOOK.COM>

Hi,

I?ve done some more checks and decided that the error can be replicated outside of my plugin so I think it might be a more general bug relating to QgsProcessingParameterPoint.

I?ve created a script that you should be able to load to see if you can replicate the issue and it can be found at Example Process - Pastebin.com<https://pastebin.com/UaS4rWFW>

I?m on Windows 10 1909 and using QGIS version 3.16.0-Hannover (64bit).

Would someone be able to try loading the script for me and let me know if you can replicate the issue?

Thanks,
Paul

From: Paul Wittle
Sent: 22 April 2021 09:57
To: nagyrobi_r at yahoo.com; qgis-developer at lists.osgeo.org
Subject: RE: [QGIS-Developer] Odd error

Hi,

I?ve been thinking about this a bit more and I think the issue may relate specifically to the following lines:
dialog = processing.createAlgorithmDialog("script:atobroute",{})
       dialog.show()

I think the issue is that the dialog.show() opens the script dialog but that dialog then has interactive options where you can select a point from the map canvas. It is when you try to select the coordinates that QGIS crashes.

I think I tried using .exec_ instead of .show but of course the dialog opens and closes straight away. I think the issue may be that my plugin is waiting for the user to dismiss the dialog but is unhappy when it is hidden by the select from canvas tool.

I?ve slept since I wrote the script but I think the select from map is default functionality and the fields are defined as
self.addParameter(QgsProcessingParameterPoint(self.ORIG, 'Origin coordinates',None,True))

Is there a better way to open a script from a button on the toolbar. Ideally I want to simply replicate the behaviour of just double clicking the script from the processing toolbox.

Thanks,
Paul


From: Paul Wittle
Sent: 21 April 2021 09:16
To: nagyrobi_r at yahoo.com<mailto:nagyrobi_r at yahoo.com>
Subject: RE: [QGIS-Developer] Odd error

Hi,

Yes I used plugin builder as a base for the plugin. Here is the code in question:

#Create the routing toolbar
        self.routebar = self.iface.addToolBar("Routing Tools")
        self.routebar.setObjectName(u'Routing Tools')

        text = QLabel(
            QCoreApplication.translate('CouncilPlugin', 'Routing Tools:')
            )
        #No action to connect to this!
        self.routebar.addWidget(text)

        route1 = QAction(
            QIcon(':/plugins/council_plugin/AtoB.png'),
            QCoreApplication.translate('CouncilPlugin', 'Route from A to B'),
            self.iface.mainWindow()
            )
        route1.triggered.connect(self.AtoB)
        self.routebar.addAction(route1)

#Routing Tools
    def AtoB(self):
        self.CheckRoutingTools() #Always check the scripts are up to date first
        dialog = processing.createAlgorithmDialog("script:atobroute",{})
        dialog.show()

I don?t think it gives an error message. QGIS just disappears and you have to re-open it.

Thanks,
Paul


From: nagyrobi_r at yahoo.com<mailto:nagyrobi_r at yahoo.com> <nagyrobi_r at yahoo.com<mailto:nagyrobi_r at yahoo.com>>
Sent: 21 April 2021 09:11
To: Paul Wittle <paul.wittle at dorsetcouncil.gov.uk<mailto:paul.wittle at dorsetcouncil.gov.uk>>
Subject: Re: [QGIS-Developer] Odd error

Hei!

Have you bilt the plugin using "plugin builder?
Could you send the error message?

Cheers,
Robert

On Wed, Apr 21, 2021 at 10:00 AM, Paul Wittle
<paul.wittle at dorsetcouncil.gov.uk<mailto:paul.wittle at dorsetcouncil.gov.uk>> wrote:

Hi,



I have a python script that I wrote which routes from point A to B using the default tools in QGIS. If I go to the processing toolbox and open the dialog it runs fine and everything is great.



I also have a python plugin and I put a button in a toolbar to open the same script. It loads the dialog but when you try to run it the whole thing crashes out and QGIS disables my plugin.



Does anyone have any suggestions as to what I might have done wrong?



I?m assuming the issue is related to how I?m calling the script from my plugin rather than the script itself as it runs independently from the processing toolbox fine ?



Any suggestions would be appreciated.



Paul Wittle

[cid:image001.jpg at 01D73829.73787E10]<https://www.dorsetcouncil.gov.uk/>

Business Solutions Analyst (GIS)

ICT Operations

Dorset Council

01305 228473

dorsetcouncil.gov.uk<https://www.dorsetcouncil.gov.uk>



[cid:image002.png at 01D73829.73787E10]<https://www.facebook.com/DorsetCouncilUK>

[cid:image003.png at 01D73829.73787E10]<https://instagram.com/DorsetCouncilUK>

[cid:image004.png at 01D73829.73787E10]<https://twitter.com/DorsetCouncilUK>


This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to whom they are addressed. It may contain unclassified but sensitive or protectively marked material and should be handled accordingly. Unless you are the named addressee (or authorised to receive it for the addressee) you may not copy or use it, or disclose it to anyone else. If you have received this transmission in error please notify the sender immediately. All traffic may be subject to recording and/or monitoring in accordance with relevant legislation. Any views expressed in this message are those of the individual sender, except where the sender specifies and with authority, states them to be the views of Dorset Council. Dorset Council does not accept service of documents by fax or other electronic means. Virus checking: Whilst all reasonable steps have been taken to ensure that this electronic communication and its attachments whether encoded, encrypted or otherwise supplied are free from computer viruses, Dorset Council accepts no liability in respect of any loss, cost, damage or expense suffered as a result of accessing this message or any of its attachments. For information on how Dorset Council processes your information, please see www.dorsetcouncil.gov.uk/data-protection<http://www.dorsetcouncil.gov.uk/data-protection>
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to whom they are addressed. It may contain unclassified but sensitive or protectively marked material and should be handled accordingly. Unless you are the named addressee (or authorised to receive it for the addressee) you may not copy or use it, or disclose it to anyone else. If you have received this transmission in error please notify the sender immediately. All traffic may be subject to recording and/or monitoring in accordance with relevant legislation. Any views expressed in this message are those of the individual sender, except where the sender specifies and with authority, states them to be the views of Dorset Council. Dorset Council does not accept service of documents by fax or other electronic means. Virus checking: Whilst all reasonable steps have been taken to ensure that this electronic communication and its attachments whether encoded, encrypted or otherwise supplied are free from computer viruses, Dorset Council accepts no liability in respect of any loss, cost, damage or expense suffered as a result of accessing this message or any of its attachments. For information on how Dorset Council processes your information, please see www.dorsetcouncil.gov.uk/data-protection
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210423/ed6dfd1e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 5701 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210423/ed6dfd1e/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 4194 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210423/ed6dfd1e/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 6142 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210423/ed6dfd1e/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 2536 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210423/ed6dfd1e/attachment-0005.png>

From adenaculture at gmail.com  Fri Apr 23 06:39:23 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Fri, 23 Apr 2021 09:39:23 -0400
Subject: [QGIS-Developer] Multiple Layer Selection
Message-ID: <CABPxTTr19yTgmW5YFXgZEJjUgaBBf77URdAZ=BOXtpe3L2PY2w@mail.gmail.com>

Am I missing something, but is there no way to select features from
multiple layers. You can select multiple layers in the layer panel, but
when I try to select features, it only selects the features from the last
layer I selected.

This seems like a fundamental capability that should be there.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210423/173112be/attachment.html>

From djes1975 at gmail.com  Fri Apr 23 07:42:31 2021
From: djes1975 at gmail.com (=?UTF-8?Q?J=C3=A9sahel_Benoist?=)
Date: Fri, 23 Apr 2021 16:42:31 +0200
Subject: [QGIS-Developer] [python] saveStyleToDatabase() bug when saving
 more than one layer to a GPKG
Message-ID: <CAOSu6ZEMbExmVqX+G4WtfW5ACE6hdHoxZYPGnoT0GFxP69gWnw@mail.gmail.com>

Hi ! I'm happy to join this list. Hope you can help with this nasty bug,
two days I'm on it...

Regards,

J?sahel

**Describe the bug**
For a plugin, I need a way to save my layers in a geopackage with their own
style, exactly like the "Package" Tool.
The problem arises when two or more layers are saved. In the destination
gpkg, the layer_styles table contains one row by layer, the styleName field
is OK but the f_table_name field contains another layer name. I'm almost
sure that the bug is in the saveStyleToDatabase() function. I've tried
everything, almost reproducing the [Package tool function](
https://github.com/qgis/QGIS/blob/master/src/analysis/processing/qgsalgorithmpackage.cpp
)

**How to Reproduce**
Create two layers with their own style named test and test 2 (or download
this one [
http://djes.free.fr/qgis/test.gpkg](http://djes.free.fr/qgis/test.gpkg)).
Adjust the script to the layers name and destination geopackage. Launch the
script for the first layer, destination file is OK. For the second, the
style is not correctly saved.

**QGIS and OS versions**
3.16.5 and 3.18.1 / Windows 10

Simplified code (or download it on
http://djes.free.fr/qgis/saveLayerWithStyle.py)
[code]
layer_name = 'test' #change me
gpkg_name = 'c:\\temp\\mytest.gpkg' #change me if needed

# First, saves the layer
src_layer = QgsProject.instance().mapLayersByName(layer_name)[0]
options = QgsVectorFileWriter.SaveVectorOptions()
options.actionOnExistingFile = QgsVectorFileWriter.CreateOrOverwriteLayer
options.layerName = layer_name
#options.SymbologyExport = QgsVectorFileWriter.FeatureSymbology
#options.driverName = "GPKG"
error = QgsVectorFileWriter.writeAsVectorFormatV2(src_layer, gpkg_name,
QgsProject.instance().transformContext(), options)

if error[0] == QgsVectorFileWriter.ErrCreateDataSource:
    print("Create mode")
    options.actionOnExistingFile =
QgsVectorFileWriter.CreateOrOverwriteFile #Create mode
    error = QgsVectorFileWriter.writeAsVectorFormatV2(src_layer, gpkg_name,
QgsProject.instance().transformContext(), options)
del options
if error[0] == QgsVectorFileWriter.NoError:
    print('Layer "' + layer_na

me + '" saved in "' + gpkg_name + '"')
else:
    print(error)
    raise Exception('Failed to save layer')

# Second, saves the style
# Load just saved layer
dst_layer = QgsVectorLayer(gpkg_name, layer_name)
if not dst_layer.isValid():
    raise Exception('Failed to load layer')
#print(dst_layer)

myDocument = QDomDocument('qgis')
src_layer.exportNamedStyle(myDocument)
#print(myDocument.toString())
success, message = dst_layer.importNamedStyle(myDocument)
dst_layer.saveStyleToDatabase(layer_name, '', True, '')
QgsProject.instance().removeMapLayer(dst_layer)
del src_layer
del dst_layer
del myDocument
[/code]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210423/bc92cd02/attachment.html>

From info at geoproc.com  Fri Apr 23 08:21:47 2021
From: info at geoproc.com (info)
Date: Fri, 23 Apr 2021 17:21:47 +0200
Subject: [QGIS-Developer] [python] saveStyleToDatabase() bug when saving
 more than one layer to a GPKG
In-Reply-To: <CAOSu6ZEMbExmVqX+G4WtfW5ACE6hdHoxZYPGnoT0GFxP69gWnw@mail.gmail.com>
References: <CAOSu6ZEMbExmVqX+G4WtfW5ACE6hdHoxZYPGnoT0GFxP69gWnw@mail.gmail.com>
Message-ID: <3b052c3f-a12d-c4af-b38b-0a3037d8b8bd@geoproc.com>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210423/419f9612/attachment.html>

From djes1975 at gmail.com  Fri Apr 23 13:25:18 2021
From: djes1975 at gmail.com (=?UTF-8?Q?J=C3=A9sahel_Benoist?=)
Date: Fri, 23 Apr 2021 22:25:18 +0200
Subject: [QGIS-Developer] [python] saveStyleToDatabase() bug when saving
 more than one layer to a GPKG
In-Reply-To: <3b052c3f-a12d-c4af-b38b-0a3037d8b8bd@geoproc.com>
References: <CAOSu6ZEMbExmVqX+G4WtfW5ACE6hdHoxZYPGnoT0GFxP69gWnw@mail.gmail.com>
 <3b052c3f-a12d-c4af-b38b-0a3037d8b8bd@geoproc.com>
Message-ID: <CAOSu6ZHtx8eA=A78c4FFdvF9C1Ja-MSAwnVB=oDUHPaVgRW7DQ@mail.gmail.com>

Hi Benoit,

Thank you for your answer ! Already tried, but this function isn't
available in Python. Anyway, the bug occurs after, vector and attributes
data are alright.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210423/88915ae0/attachment.html>

From jvenegasperu at gmail.com  Fri Apr 23 15:16:34 2021
From: jvenegasperu at gmail.com (Jose Mercedes Venegas Acevedo)
Date: Fri, 23 Apr 2021 17:16:34 -0500
Subject: [QGIS-Developer] QGIS + Cluster PostgreSQL
In-Reply-To: <AM7P191MB06638C7139C1A8D9F7514C77C1469@AM7P191MB0663.EURP191.PROD.OUTLOOK.COM>
References: <AM7P191MB0663B8F2439C5B62C99E764EC1469@AM7P191MB0663.EURP191.PROD.OUTLOOK.COM>
 <AM7P191MB06638C7139C1A8D9F7514C77C1469@AM7P191MB0663.EURP191.PROD.OUTLOOK.COM>
Message-ID: <CA+KjtGfTwhzE=t-L1DyX0ZMntQkLmbTn_RTnkeaPbZ9JdERZbw@mail.gmail.com>

Hola Joan

Pues QGIS si que soportara lo que indicas es decir en un unico proyecto
puedes tener capas de diferentes datasources sin problemas.

Tambien puedes elaborar proyectos de qgis de solo consulta y otros para
edicion, eso lo resuelves facil teniendo configurados diferentes perfiles
de conexion y listo.

Incluso podrias elaborar definiciones de capa de solo lectura que te sirvan
en cualquier proyecto tanto para lectura como escritura.

Lo que ocurrira en todos estos casos es que QGIS se conectara a un
datasource asi de simple.

saludos y exitos en el proyecto






El jue, 22 abr 2021 a las 13:08, Rebassa Oliver, Joan (<
joan.rebassa at imi.palma.cat>) escribi?:

> Buenas tardes:
>
> Tenemos configurado un cluster de base de datos de PostgreSQL de forma que
> el nodo maestro de este cluster es el que permite las operaciones de
> escritura en base de datos a trav?s del puerto 5432 y el resto de nodos que
> forman el cluster son nodos esclavos a los que se replican los cambios que
> se han hecho en el maestro y asumen las operaciones de lectura en base de
> datos por el puerto 5433, las aplicaciones que han de acceder a las bases
> de datos deben poder tener definidos dos datasources: uno para las
> operaciones de escritura por el puerto 5432 y otro para lectura por el
> puerto 5433, queremos saber si Qgis soporta esta configuraci?n.
>
> Gracias.
>
> Good afternoon:
>
> We have configured a PostgreSQL database cluster so that the master node
> of this cluster is the one that allows database write operations through
> port 5432 and the rest of the nodes are slave nodes, the changes that have
> been made in the master are replicated to the slave nodes and they assume
> the database read operations through port 5433, the applications that have
> to access the databases must have two datasources configured: one for
> database write operations (port 5432) and another for read operartions
> (port 5433), we want to know if Qgis supports this configuration.
>
> Thanks.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Jos? Mercedes Venegas Acevedo
cel Mov RPC 964185205
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210423/dfc51011/attachment.html>

From bo.victor.thomsen at gmail.com  Sat Apr 24 01:21:04 2021
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Sat, 24 Apr 2021 10:21:04 +0200
Subject: [QGIS-Developer] QGIS + Cluster PostgreSQL
In-Reply-To: <AM7P191MB06638C7139C1A8D9F7514C77C1469@AM7P191MB0663.EURP191.PROD.OUTLOOK.COM>
References: <AM7P191MB0663B8F2439C5B62C99E764EC1469@AM7P191MB0663.EURP191.PROD.OUTLOOK.COM>
 <AM7P191MB06638C7139C1A8D9F7514C77C1469@AM7P191MB0663.EURP191.PROD.OUTLOOK.COM>
Message-ID: <3f3267e5-91af-060c-2e79-ebd3cacfd38f@gmail.com>

If I understand the situation correctly:

  * You have a main database with access on port 5432 with replication
    to another database with access on port 5433. Both databases on the
    same server ??
  * The main database gives a set of users read/write access the the
    main database
  * The replication database gives (another) set of users read-only
    access to data.

I've used the same setup in some cases: You have a small number of 
editing users with read/write access to tables on a "small" main 
database server. The data is then replicated to a larger database server 
where a large number of users have read-only access to the data.


The small "main" database server is optimised for editing purposes. And 
the secondary database-server is optimised for analytical purposes. The 
performance of the "main" server will never be degraded by the - perhaps 
excessive - use from the read-only user group. The replication can even 
be delayed to times where the number of database users is minimal


However, The scenario makes only sense if the 2 databases is placed on 2 
different database servers.


Your question: The answer is yes, QGIS supports access to Postgres 
databases through different ports. However, for the QGIS user it would 
look like 2 different layers, one with read/write access to data and 
another layer with read-only access to the data. The 2 layers will 
contain the "same data" (Depending on how the replication is set up). 
That's because you have to define 2 different Data Sources, one for each 
database


It would make more sense to have 2 QGIS projects: A "editing" project 
with one read/write layer (access to the main database) and another QGIS 
project with one read-only layer (access to the replication database).



Med venlig hilsen / Kind regards

Bo Victor Thomsen

Den 22-04-2021 kl. 20:08 skrev Rebassa Oliver, Joan:
> Buenas tardes:
>
> Tenemos configurado un cluster de base de datos de PostgreSQL de forma 
> que el nodo maestro de este cluster es el que permite las operaciones 
> de escritura en base de datos a trav?s del puerto 5432 y el resto de 
> nodos que forman el cluster son nodos esclavos a los que se replican 
> los cambios que se han hecho en el maestro y asumen las operaciones de 
> lectura en base de datos por el puerto 5433, las aplicaciones que han 
> de acceder a las bases de datos deben poder tener definidos dos 
> datasources: uno para las operaciones de escritura por el puerto 5432 
> y otro para lectura por el puerto 5433, queremos saber si Qgis soporta 
> esta configuraci?n.
>
> Gracias.
>
> Good afternoon:
>
> We have configured a PostgreSQL database cluster so that the master 
> node of this cluster is the one that allows database write operations 
> through port 5432 and the rest of the nodes are slave nodes, the 
> changes that have been made in the master are replicated to the slave 
> nodes and they assume the database read operations through port 5433, 
> the applications that have to access the databases must have two 
> datasources configured: one for database write operations (port 5432) 
> and another for read operartions (port 5433), we want to know if Qgis 
> supports this configuration.
>
> Thanks.
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210424/71d1321d/attachment.html>

From tim at kartoza.com  Sat Apr 24 03:14:20 2021
From: tim at kartoza.com (Tim Sutton)
Date: Sat, 24 Apr 2021 11:14:20 +0100
Subject: [QGIS-Developer] QGIS + Cluster PostgreSQL
In-Reply-To: <3f3267e5-91af-060c-2e79-ebd3cacfd38f@gmail.com>
References: <3f3267e5-91af-060c-2e79-ebd3cacfd38f@gmail.com>
Message-ID: <F6338C8E-81B4-47FB-9A4F-8EC61E6C14A9@kartoza.com>

Though I guess through service files you could present the RW database to the editor roles and the RO database to the analyst roles. That way you would not need duplicate layers.

Regards 

Tim

Sent from my iPhone

> On 24 Apr 2021, at 09:21, Bo Victor Thomsen <bo.victor.thomsen at gmail.com> wrote:
> 
> ?
> If I understand the situation correctly:
> 
> You have a main database with access on port 5432 with replication to another database with access on port 5433. Both databases on the same server ?? 
> The main database gives a set of users read/write access the the main database
> The replication database gives (another) set of users read-only access to data.
> I've used the same setup in some cases: You have a small number of editing users with read/write access to tables on a "small" main database server. The data is then replicated to a larger database server where a large number of users have read-only access to the data. 
> 
> 
> 
> The small "main" database server is optimised for editing purposes. And the secondary database-server is optimised for analytical purposes. The performance of the "main" server will never be degraded by the - perhaps excessive - use from the read-only user group. The replication can even be delayed to times where the number of database users is minimal 
> 
> 
> 
> However, The scenario makes only sense if the 2 databases is placed on 2 different database servers.
> 
> 
> 
> Your question: The answer is yes, QGIS supports access to Postgres databases through different ports. However, for the QGIS user it would look like 2 different layers, one with read/write access to data and another layer with read-only access to the data. The 2 layers will contain the "same data" (Depending on how the replication is set up). That's because you have to define 2 different Data Sources, one for each database
> 
> 
> 
> It would make more sense to have 2 QGIS projects: A "editing" project with one read/write layer (access to the main database) and another QGIS project with one read-only layer (access to the replication database).
> 
> 
> 
> 
> 
> Med venlig hilsen / Kind regards
> 
> Bo Victor Thomsen
> Den 22-04-2021 kl. 20:08 skrev Rebassa Oliver, Joan:
>> Buenas tardes:
>> 
>> Tenemos configurado un cluster de base de datos de PostgreSQL de forma que el nodo maestro de este cluster es el que permite las operaciones de escritura en base de datos a trav?s del puerto 5432 y el resto de nodos que forman el cluster son nodos esclavos a los que se replican los cambios que se han hecho en el maestro y asumen las operaciones de lectura en base de datos por el puerto 5433, las aplicaciones que han de acceder a las bases de datos deben poder tener definidos dos datasources: uno para las operaciones de escritura por el puerto 5432 y otro para lectura por el puerto 5433, queremos saber si Qgis soporta esta configuraci?n.
>> 
>> Gracias.
>> 
>> Good afternoon:
>> 
>> We have configured a PostgreSQL database cluster so that the master node of this cluster is the one that allows database write operations through port 5432 and the rest of the nodes are slave nodes, the changes that have been made in the master are replicated to the slave nodes and they assume the database read operations through port 5433, the applications that have to access the databases must have two datasources configured: one for database write operations (port 5432) and another for read operartions (port 5433), we want to know if Qgis supports this configuration.
>> 
>> Thanks.
>> 
>> 
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210424/fff79c8d/attachment-0001.html>

From tim at kartoza.com  Sat Apr 24 12:47:59 2021
From: tim at kartoza.com (Tim Sutton)
Date: Sat, 24 Apr 2021 20:47:59 +0100
Subject: [QGIS-Developer] New book available for QGIS now available:
 Introduction to QGIS by Scott Madry
Message-ID: <CAES-DZSJN21MN_4V2_b1qRq1Qwu3B+vxLTUV1D5-zcF-Thw4Bw@mail.gmail.com>

Hi QGIS Fans

Just a quick note to let you know that there is a new book now available
for QGIS from Locate Press:


*Introduction to QGIS*
Open Source Geographic Information System

by Scott Madry Ph.D.


Get started with QGIS with this introduction covering everything needed to
get you going.

This tutorial introduces you to major concepts and techniques to get you
started with viewing data, analysis, and creating maps and reports.

With this book you'll learn about:


   - The QGIS interface
   - Creating, editing, and analyzing vector data
   - Working with raster (image) data
   - Using plugins
   - The QGIS Processing Toolbox
   - Georeferencing
   - Creating map and reports
   - Resources for further help and study


The book includes a link to all the data you'll need to follow along with
each chapter.

See for more details and where to buy: https://locatepress.com/book/itq

Regards

Tim



-- 
------------------------------------------------------------------------------------------

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210424/185b38cd/attachment.html>

From luipir at gmail.com  Sat Apr 24 13:39:10 2021
From: luipir at gmail.com (Luigi Pirelli)
Date: Sat, 24 Apr 2021 22:39:10 +0200
Subject: [QGIS-Developer] [python] saveStyleToDatabase() bug when saving
 more than one layer to a GPKG
In-Reply-To: <CAOSu6ZEMbExmVqX+G4WtfW5ACE6hdHoxZYPGnoT0GFxP69gWnw@mail.gmail.com>
References: <CAOSu6ZEMbExmVqX+G4WtfW5ACE6hdHoxZYPGnoT0GFxP69gWnw@mail.gmail.com>
Message-ID: <CAFO80_pTaFSbruVO3-iXFSJWaBKiA5iF2Mr1DzL5JLWMX4JVjA@mail.gmail.com>

Hi J?sahel
It is ok to share and verify bugs in the dev mailing list. BTW if it is
almost sure you have a bug, IMHO it is better to open an issue where to
store any info to replicate it.

Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Book: Mastering QGIS3 - 3rd Edition
<https://www.packtpub.com/eu/application-development/mastering-geospatial-development-qgis-3x-third-edition>
* Hire a team: http://www.qcooperative.net
**************************************************************************************************


On Fri, 23 Apr 2021 at 16:42, J?sahel Benoist <djes1975 at gmail.com> wrote:

> Hi ! I'm happy to join this list. Hope you can help with this nasty bug,
> two days I'm on it...
>
> Regards,
>
> J?sahel
>
> **Describe the bug**
> For a plugin, I need a way to save my layers in a geopackage with their
> own style, exactly like the "Package" Tool.
> The problem arises when two or more layers are saved. In the destination
> gpkg, the layer_styles table contains one row by layer, the styleName field
> is OK but the f_table_name field contains another layer name. I'm almost
> sure that the bug is in the saveStyleToDatabase() function. I've tried
> everything, almost reproducing the [Package tool function](
> https://github.com/qgis/QGIS/blob/master/src/analysis/processing/qgsalgorithmpackage.cpp
> )
>
> **How to Reproduce**
> Create two layers with their own style named test and test 2 (or download
> this one [
> http://djes.free.fr/qgis/test.gpkg](http://djes.free.fr/qgis/test.gpkg)).
> Adjust the script to the layers name and destination geopackage. Launch the
> script for the first layer, destination file is OK. For the second, the
> style is not correctly saved.
>
> **QGIS and OS versions**
> 3.16.5 and 3.18.1 / Windows 10
>
> Simplified code (or download it on
> http://djes.free.fr/qgis/saveLayerWithStyle.py)
> [code]
> layer_name = 'test' #change me
> gpkg_name = 'c:\\temp\\mytest.gpkg' #change me if needed
>
> # First, saves the layer
> src_layer = QgsProject.instance().mapLayersByName(layer_name)[0]
> options = QgsVectorFileWriter.SaveVectorOptions()
> options.actionOnExistingFile = QgsVectorFileWriter.CreateOrOverwriteLayer
> options.layerName = layer_name
> #options.SymbologyExport = QgsVectorFileWriter.FeatureSymbology
> #options.driverName = "GPKG"
> error = QgsVectorFileWriter.writeAsVectorFormatV2(src_layer, gpkg_name,
> QgsProject.instance().transformContext(), options)
>
> if error[0] == QgsVectorFileWriter.ErrCreateDataSource:
>     print("Create mode")
>     options.actionOnExistingFile =
> QgsVectorFileWriter.CreateOrOverwriteFile #Create mode
>     error = QgsVectorFileWriter.writeAsVectorFormatV2(src_layer,
> gpkg_name, QgsProject.instance().transformContext(), options)
> del options
> if error[0] == QgsVectorFileWriter.NoError:
>     print('Layer "' + layer_na
>
> me + '" saved in "' + gpkg_name + '"')
> else:
>     print(error)
>     raise Exception('Failed to save layer')
>
> # Second, saves the style
> # Load just saved layer
> dst_layer = QgsVectorLayer(gpkg_name, layer_name)
> if not dst_layer.isValid():
>     raise Exception('Failed to load layer')
> #print(dst_layer)
>
> myDocument = QDomDocument('qgis')
> src_layer.exportNamedStyle(myDocument)
> #print(myDocument.toString())
> success, message = dst_layer.importNamedStyle(myDocument)
> dst_layer.saveStyleToDatabase(layer_name, '', True, '')
> QgsProject.instance().removeMapLayer(dst_layer)
> del src_layer
> del dst_layer
> del myDocument
> [/code]
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210424/97944c35/attachment.html>

From djes1975 at gmail.com  Sat Apr 24 15:33:30 2021
From: djes1975 at gmail.com (=?UTF-8?Q?J=C3=A9sahel_Benoist?=)
Date: Sun, 25 Apr 2021 00:33:30 +0200
Subject: [QGIS-Developer] [python] saveStyleToDatabase() bug when saving
 more than one layer to a GPKG
In-Reply-To: <CAFO80_pTaFSbruVO3-iXFSJWaBKiA5iF2Mr1DzL5JLWMX4JVjA@mail.gmail.com>
References: <CAOSu6ZEMbExmVqX+G4WtfW5ACE6hdHoxZYPGnoT0GFxP69gWnw@mail.gmail.com>
 <CAFO80_pTaFSbruVO3-iXFSJWaBKiA5iF2Mr1DzL5JLWMX4JVjA@mail.gmail.com>
Message-ID: <CAOSu6ZEtNDwMesKQuhJHdLcb7NQyeLWwD99YfJxufcVT7pogNw@mail.gmail.com>

Hi Luigi, thank you for your answer. As it's my first post I didn't want to
make a mistake. Ok, I'll open an issue then.

Regards

J?sahel

Le sam. 24 avr. 2021 ? 22:39, Luigi Pirelli <luipir at gmail.com> a ?crit :

> Hi J?sahel
> It is ok to share and verify bugs in the dev mailing list. BTW if it is
> almost sure you have a bug, IMHO it is better to open an issue where to
> store any info to replicate it.
>
> Luigi Pirelli
>
>
> **************************************************************************************************
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * GitHub: https://github.com/luipir
> * Book: Mastering QGIS3 - 3rd Edition
> <https://www.packtpub.com/eu/application-development/mastering-geospatial-development-qgis-3x-third-edition>
> * Hire a team: http://www.qcooperative.net
>
> **************************************************************************************************
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210425/4b1ad68d/attachment.html>

From bo.victor.thomsen at gmail.com  Sun Apr 25 07:30:52 2021
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Sun, 25 Apr 2021 16:30:52 +0200
Subject: [QGIS-Developer] QGIS + Cluster PostgreSQL
In-Reply-To: <F6338C8E-81B4-47FB-9A4F-8EC61E6C14A9@kartoza.com>
References: <3f3267e5-91af-060c-2e79-ebd3cacfd38f@gmail.com>
 <F6338C8E-81B4-47FB-9A4F-8EC61E6C14A9@kartoza.com>
Message-ID: <a31010fe-1bc9-37cb-984e-7857494ada93@gmail.com>

You could do that...

However it would be another administrative job for the IT department, 
where Postgres already is like: "Whuuut ! Dat's not a database. It's not 
MS-SQLServer!!", so the KISS principle applies. It's work enough simply 
to get Postgres/PostGIS installed as a necessary component of a GIS 
infrastructure.

Anyway, most Postgres installations for GIS (that I have installed) is 
like : 1 Postgres server, database server optimizations, OGR import 
scripts and 2 user roles: "read_user" and "write_user" to administer. 
Which in many cases are perfectly fine :-)

Med venlig hilsen / Kind regards

Bo Victor Thomsen

Den 24-04-2021 kl. 12:14 skrev Tim Sutton:
> Though I guess through service files you could present the RW database 
> to the editor roles and the RO database to the analyst roles. That way 
> you would not need duplicate layers.
>
> Regards
>
> Tim
>
> Sent from my iPhone
>
>> On 24 Apr 2021, at 09:21, Bo Victor Thomsen 
>> <bo.victor.thomsen at gmail.com> wrote:
>>
>> ?
>>
>> If I understand the situation correctly:
>>
>>   * You have a main database with access on port 5432 with
>>     replication to another database with access on port 5433. Both
>>     databases on the same server ??
>>   * The main database gives a set of users read/write access the the
>>     main database
>>   * The replication database gives (another) set of users read-only
>>     access to data.
>>
>> I've used the same setup in some cases: You have a small number of 
>> editing users with read/write access to tables on a "small" main 
>> database server. The data is then replicated to a larger database 
>> server where a large number of users have read-only access to the data.
>>
>>
>> The small "main" database server is optimised for editing purposes. 
>> And the secondary database-server is optimised for analytical 
>> purposes. The performance of the "main" server will never be degraded 
>> by the - perhaps excessive - use from the read-only user group. The 
>> replication can even be delayed to times where the number of database 
>> users is minimal
>>
>>
>> However, The scenario makes only sense if the 2 databases is placed 
>> on 2 different database servers.
>>
>>
>> Your question: The answer is yes, QGIS supports access to Postgres 
>> databases through different ports. However, for the QGIS user it 
>> would look like 2 different layers, one with read/write access to 
>> data and another layer with read-only access to the data. The 2 
>> layers will contain the "same data" (Depending on how the replication 
>> is set up). That's because you have to define 2 different Data 
>> Sources, one for each database
>>
>>
>> It would make more sense to have 2 QGIS projects: A "editing" project 
>> with one read/write layer (access to the main database) and another 
>> QGIS project with one read-only layer (access to the replication 
>> database).
>>
>>
>>
>> Med venlig hilsen / Kind regards
>>
>> Bo Victor Thomsen
>> Den 22-04-2021 kl. 20:08 skrev Rebassa Oliver, Joan:
>>> Buenas tardes:
>>>
>>> Tenemos configurado un cluster de base de datos de PostgreSQL de 
>>> forma que el nodo maestro de este cluster es el que permite las 
>>> operaciones de escritura en base de datos a trav?s del puerto 5432 y 
>>> el resto de nodos que forman el cluster son nodos esclavos a los que 
>>> se replican los cambios que se han hecho en el maestro y asumen las 
>>> operaciones de lectura en base de datos por el puerto 5433, las 
>>> aplicaciones que han de acceder a las bases de datos deben poder 
>>> tener definidos dos datasources: uno para las operaciones de 
>>> escritura por el puerto 5432 y otro para lectura por el puerto 5433, 
>>> queremos saber si Qgis soporta esta configuraci?n.
>>>
>>> Gracias.
>>>
>>> Good afternoon:
>>>
>>> We have configured a PostgreSQL database cluster so that the master 
>>> node of this cluster is the one that allows database write 
>>> operations through port 5432 and the rest of the nodes are slave 
>>> nodes, the changes that have been made in the master are replicated 
>>> to the slave nodes and they assume the database read operations 
>>> through port 5433, the applications that have to access the 
>>> databases must have two datasources configured: one for database 
>>> write operations (port 5432) and another for read operartions (port 
>>> 5433), we want to know if Qgis supports this configuration.
>>>
>>> Thanks.
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210425/93b1aa84/attachment-0001.html>

From radim.blazek at gmail.com  Mon Apr 26 04:19:17 2021
From: radim.blazek at gmail.com (Radim Blazek)
Date: Mon, 26 Apr 2021 13:19:17 +0200
Subject: [QGIS-Developer] QgsO2 (OAuth2 ) crash in exitQgis() on uWSGI
Message-ID: <CAEMrtYpR7Z_Jo3Qjx91D_COjuB8gUhpoDqK_X1TcmmGkEmoUzw@mail.gmail.com>

Hi,
we are getting crash in OAuth2 plugin when QgsApplication.exitQgis()
is called from Django application running on uWSGI/nginx. We need to
call exitQgis() to cleanup temporary files. It works OK if it is run
as Django script from command line.

Unfortunately it does not print full backtrace info for
liboauth2authmethod.so and then even for libqgis_core.so. I guess it
happens in QgsO2 but there is nothing suspicious in that code.

/usr/bin/uwsgi-core(uwsgi_backtrace+0x2a) [0x560f2dbf4dda]
/usr/bin/uwsgi-core(uwsgi_segfault+0x23) [0x560f2dbf51c3]
/lib/x86_64-linux-gnu/libc.so.6(+0x37840) [0x7fb7be828840]
/lib/libqgis_core.so.3.18.1(+0x3a2496) [0x7fb782844496]
/usr/lib/qgis/plugins/liboauth2authmethod.so(+0x225c0) [0x7fb77404c5c0]
/usr/lib/qgis/plugins/liboauth2authmethod.so(+0x2b317) [0x7fb774055317]
/usr/lib/qgis/plugins/liboauth2authmethod.so(+0x2b5b9) [0x7fb7740555b9]
/lib/libqgis_core.so.3.18.1(_ZN14QgsAuthManagerD1Ev+0x437) [0x7fb782afb847]

Any idea how to fix it? Any workaround? How can i get full debug info?
We have qgis and qgis-dbg 3.18.1 installed from qgis.org/debian.

Radim

From matthias at opengis.ch  Mon Apr 26 04:20:21 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 26 Apr 2021 13:20:21 +0200
Subject: [QGIS-Developer] A plea: more volunteers needed for reviewing
 backports
In-Reply-To: <CAB28Asgm6B9ZAdC3vUnoA0qoObDSDAoczXS-OiZjbnZqA4hMqg@mail.gmail.com>
References: <CAB28Asj-JQnyZU1KREAWLdppMX2=AKWgnAKLdiy+6dBHhyOxRQ@mail.gmail.com>
 <CAB28AsiUqQ973HPqTWE-hK8pBLtvYrUUQ0p=oYTgwYhJ78aTrg@mail.gmail.com>
 <87lf9tdvwg.fsf@julien-laptop.home>
 <CAB28AshzfK4=YkiHBaZgHw7V-pb9HbQD-mGs9b7s9eP_5JQg1g@mail.gmail.com>
 <CA+T_MsL0V6h_SM7Xtd9wXg6VK=C4xPRPYg823FrY6=-AFN+-zg@mail.gmail.com>
 <CAC7zN95p0D6kbmqO=Te-wwLudUfLd4Xzs87sZo+R7EhWKtEF0A@mail.gmail.com>
 <CAB28Asgm6B9ZAdC3vUnoA0qoObDSDAoczXS-OiZjbnZqA4hMqg@mail.gmail.com>
Message-ID: <CAC7zN94rgs0-fxLHvbvV5agUYk+6KM4ggG-FbkYT=5hKR9G=hg@mail.gmail.com>

On Fri, Apr 23, 2021 at 2:00 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Fri, 9 Apr 2021 at 19:10, Matthias Kuhn <matthias at opengis.ch> wrote:
> >
> > Hi,
> >
> > Thanks for the continued effort in reviewing. It's one of the
> not-so-visible-highly-technically-and-socially-qualified-people-needed-but-very-important
> aspects of (open source) software development.
> >
> > I try to go over the PR queue every now and then and
> merge/comment/review what's possible, but these days I find less time than
> in the past. While at the same time it seems pull request activity
> increases it seems.
> > I'll make sure we raise this topic at an upcoming OPENGIS.ch meeting and
> encourage people to participate.
> >
> > Additionally to what has been said already, backports are easy to forget
> / ignore by the original author because they have been opened by a bot and
> as an author you won't receive notifications by reviewers or the stale bot.
> I wonder if we could get the original author more involved if we'd mention
> them in the backport comment and increase their responsibility for this
> part. This might be worth some automation.
>
> I definitely think this would help. The mentality at the moment is
> predominantly that "as soon as the original PR is merged, the
> responsibility is no longer mine" and that "someone else" will handle
> the backports. In part this is due to how easy the bot has made
> backporting.. we've now all got the mentality that the bot will handle
> everything for us, but that's not the case in reality. I think
> tweaking the backport message so that the author is mentioned will
> help here, as at least they'll get notified if we close the backport
> due to merge conflicts/etc. I'd also love to see the bot fixed so that
> commits are cherry-picked and the ORIGINAL author name is attributed
> to the commit. I think this is very important for accountability...
> currently all the backport commits are anonymous and attributed to the
> bot only, which makes it hard to tell who is responsible for the
> change. I wish we could keep the original author here, as I think this
> helps increase burden of responsiblity for that author... A poor
> quality or buggy backport will directly reflect on their reputation,
> so they are more likely to self-police backport PRs and ensure they
> are suitable for merge. (At least, I hope so).
>

Points addressed in an update to the backport bot. Merge commits are
"unpacked", responsibility given to the original author. (Rebase merges
still not supported).
I'm not super confident about everything I did here, if the backport bot
behaves weird in the next few days, please let me know.


>
> The other really painful thing with backport bot is that we have to
> manually close and reopen ALL automated backports in order for the
> tests to run. It's a minor thing, but definitely contributes to the
> "chore" and drudgery of maintaining the PR list. Especially because
> only a few have permission to do this, and unless the original
> contributor has merge rights they can't even close/open their own
> backports to help speed things along.
>

Not sure what's happening, any idea why?


>
> Don't get me wrong - backport bot *is* great, and has simplified work
> a lot. But with a bit more investment and refinement it could be
> incredible and save me substantially more time!
>
> > Something else is that for example for me, the process to decide which
> backports get into pending backports was not obvious at first (only the LTR
> or also LR? At which stage of the LTR? How exactly do they get in there?),
> I'm sure for other people there are other parts of the process that are not
> immediately clear. I think documenting the review process could help here
> (the suggestions written by Nyall above for a lower entry barrier into the
> reviewer process would already be worth mentioning).
>
> Right, we should definitely document this better. I'd suggest you and
> I get together sometime to do this, as we've been appointed this
> responsibility by PSC already. Can you ping me off list so we can
> arrange this?
>

Done

Matthias
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210426/a54214b5/attachment.html>

From apasotti at gmail.com  Mon Apr 26 04:25:12 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 26 Apr 2021 13:25:12 +0200
Subject: [QGIS-Developer] QgsO2 (OAuth2 ) crash in exitQgis() on uWSGI
In-Reply-To: <CAEMrtYpR7Z_Jo3Qjx91D_COjuB8gUhpoDqK_X1TcmmGkEmoUzw@mail.gmail.com>
References: <CAEMrtYpR7Z_Jo3Qjx91D_COjuB8gUhpoDqK_X1TcmmGkEmoUzw@mail.gmail.com>
Message-ID: <CAL5Q673xENK1jZE1ZyZry2ZBkX68a9DXy5L6ZS-15NvxJiFs0A@mail.gmail.com>

On Mon, Apr 26, 2021 at 1:19 PM Radim Blazek <radim.blazek at gmail.com> wrote:

> Hi,
> we are getting crash in OAuth2 plugin when QgsApplication.exitQgis()
> is called from Django application running on uWSGI/nginx. We need to
> call exitQgis() to cleanup temporary files. It works OK if it is run
> as Django script from command line.
>
> Unfortunately it does not print full backtrace info for
> liboauth2authmethod.so and then even for libqgis_core.so. I guess it
> happens in QgsO2 but there is nothing suspicious in that code.
>
> /usr/bin/uwsgi-core(uwsgi_backtrace+0x2a) [0x560f2dbf4dda]
> /usr/bin/uwsgi-core(uwsgi_segfault+0x23) [0x560f2dbf51c3]
> /lib/x86_64-linux-gnu/libc.so.6(+0x37840) [0x7fb7be828840]
> /lib/libqgis_core.so.3.18.1(+0x3a2496) [0x7fb782844496]
> /usr/lib/qgis/plugins/liboauth2authmethod.so(+0x225c0) [0x7fb77404c5c0]
> /usr/lib/qgis/plugins/liboauth2authmethod.so(+0x2b317) [0x7fb774055317]
> /usr/lib/qgis/plugins/liboauth2authmethod.so(+0x2b5b9) [0x7fb7740555b9]
> /lib/libqgis_core.so.3.18.1(_ZN14QgsAuthManagerD1Ev+0x437) [0x7fb782afb847]
>
> Any idea how to fix it? Any workaround? How can i get full debug info?
> We have qgis and qgis-dbg 3.18.1 installed from qgis.org/debian.
>
>

Hi Radim,

no clues sorry, but if you don't need the oauth2 plugin you can just rm/mv
the liboauth2authmethod.so and you should be fine.

-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210426/3b43246d/attachment.html>

From radim.blazek at gmail.com  Mon Apr 26 04:40:50 2021
From: radim.blazek at gmail.com (Radim Blazek)
Date: Mon, 26 Apr 2021 13:40:50 +0200
Subject: [QGIS-Developer] QgsO2 (OAuth2 ) crash in exitQgis() on uWSGI
In-Reply-To: <CAL5Q673xENK1jZE1ZyZry2ZBkX68a9DXy5L6ZS-15NvxJiFs0A@mail.gmail.com>
References: <CAEMrtYpR7Z_Jo3Qjx91D_COjuB8gUhpoDqK_X1TcmmGkEmoUzw@mail.gmail.com>
 <CAL5Q673xENK1jZE1ZyZry2ZBkX68a9DXy5L6ZS-15NvxJiFs0A@mail.gmail.com>
Message-ID: <CAEMrtYpu6GYkBbv3YvAH6ztp7wTrpBuXTQzhGXjxFjRsEv1TKg@mail.gmail.com>

On Mon, Apr 26, 2021 at 1:25 PM Alessandro Pasotti <apasotti at gmail.com> wrote:
> no clues sorry, but if you don't need the oauth2 plugin you can just rm/mv the liboauth2authmethod.so and you should be fine.

Hi, thanks, I found QGIS_AUTHMETHOD_FILE envar which also does the job.

Now it crashes in QgsProject.clear() and again the last qgis function
does not have name in backtrace, is it macro?

/usr/bin/uwsgi-core(uwsgi_backtrace+0x2a) [0x55c17b0eedda]
/usr/bin/uwsgi-core(uwsgi_segfault+0x23) [0x55c17b0ef1c3]
/lib/x86_64-linux-gnu/libc.so.6(+0x37840) [0x7f06e03c9840]
/lib/libqgis_core.so.3.18.1(+0x3a2504) [0x7f06a43e5504]
/lib/libqgis_core.so.3.18.1(_ZN10QgsProject5clearEv+0xaa5) [0x7f06a4d5f235]
/lib/libqgis_core.so.3.18.1(_ZN10QgsProjectD1Ev+0x47) [0x7f06a4d603c7]
/lib/libqgis_core.so.3.18.1(_ZN10QgsProjectD0Ev+0x9) [0x7f06a4d60729]
/lib/libqgis_core.so.3.18.1(_ZN14QgsApplication8exitQgisEv+0x69)
[0x7f06a4915729]

Radim

From radim.blazek at gmail.com  Mon Apr 26 07:23:42 2021
From: radim.blazek at gmail.com (Radim Blazek)
Date: Mon, 26 Apr 2021 16:23:42 +0200
Subject: [QGIS-Developer] QgsO2 (OAuth2 ) crash in exitQgis() on uWSGI
In-Reply-To: <CAEMrtYpu6GYkBbv3YvAH6ztp7wTrpBuXTQzhGXjxFjRsEv1TKg@mail.gmail.com>
References: <CAEMrtYpR7Z_Jo3Qjx91D_COjuB8gUhpoDqK_X1TcmmGkEmoUzw@mail.gmail.com>
 <CAL5Q673xENK1jZE1ZyZry2ZBkX68a9DXy5L6ZS-15NvxJiFs0A@mail.gmail.com>
 <CAEMrtYpu6GYkBbv3YvAH6ztp7wTrpBuXTQzhGXjxFjRsEv1TKg@mail.gmail.com>
Message-ID: <CAEMrtYq2y_xOP+gJpZWwpf2pg_d9Vbwm4pxNa_Yn36zXc-idMw@mail.gmail.com>

I forgot to say that QgsApplication.exitQgis() /  QgsProject.clear()
is invoked by python atexit.register. If it is called before atexit,
it works.

exitQgis() in atexit is used in TestCase, it should work?

Radim

On Mon, Apr 26, 2021 at 1:40 PM Radim Blazek <radim.blazek at gmail.com> wrote:
>
> On Mon, Apr 26, 2021 at 1:25 PM Alessandro Pasotti <apasotti at gmail.com> wrote:
> > no clues sorry, but if you don't need the oauth2 plugin you can just rm/mv the liboauth2authmethod.so and you should be fine.
>
> Hi, thanks, I found QGIS_AUTHMETHOD_FILE envar which also does the job.
>
> Now it crashes in QgsProject.clear() and again the last qgis function
> does not have name in backtrace, is it macro?
>
> /usr/bin/uwsgi-core(uwsgi_backtrace+0x2a) [0x55c17b0eedda]
> /usr/bin/uwsgi-core(uwsgi_segfault+0x23) [0x55c17b0ef1c3]
> /lib/x86_64-linux-gnu/libc.so.6(+0x37840) [0x7f06e03c9840]
> /lib/libqgis_core.so.3.18.1(+0x3a2504) [0x7f06a43e5504]
> /lib/libqgis_core.so.3.18.1(_ZN10QgsProject5clearEv+0xaa5) [0x7f06a4d5f235]
> /lib/libqgis_core.so.3.18.1(_ZN10QgsProjectD1Ev+0x47) [0x7f06a4d603c7]
> /lib/libqgis_core.so.3.18.1(_ZN10QgsProjectD0Ev+0x9) [0x7f06a4d60729]
> /lib/libqgis_core.so.3.18.1(_ZN14QgsApplication8exitQgisEv+0x69)
> [0x7f06a4915729]
>
> Radim

From Jean-Francois.Bourdon at mffp.gouv.qc.ca  Mon Apr 26 10:30:11 2021
From: Jean-Francois.Bourdon at mffp.gouv.qc.ca (=?utf-8?B?Qm91cmRvbiwgSmVhbi1GcmFuw6dvaXMgKERJRik=?=)
Date: Mon, 26 Apr 2021 17:30:11 +0000
Subject: [QGIS-Developer] [Qgis-user] Issue with How Selected Features
 are Displayed When Overlapping
In-Reply-To: <CABPxTTpS_5S77c8zDQ6M8w-JSiZhb6JF638Q4-QS2B0egs=Arw@mail.gmail.com>
References: <CABPxTTrzkwU1qgOOFN5G99PgjnwTbFcuieLEQDrSsAUXCPoQ6g@mail.gmail.com>
 <434D7EEE-0D58-4D63-B3C2-02EA5F6EB4DF@gmail.com>
 <CABPxTTpS_5S77c8zDQ6M8w-JSiZhb6JF638Q4-QS2B0egs=Arw@mail.gmail.com>
Message-ID: <QB1PR01MB2948788DA9AB2B585DEFD188B3429@QB1PR01MB2948.CANPRD01.PROD.OUTLOOK.COM>

[Intranet logo]
I'm also interested to be able to see selected features even when hiden by others. When working with polygons only represented by a contour line, you can completly miss a selected polygon if all other contiguous features are drawn after the selected one. A workaround I found for features within the same layer is to change the rendering order by using the expression is_selected() in ascending order (Layer Properties -> Symbology -> Layer Rendering -> Control feature rendering order). Hovewer, this needs to be done each time a layer is added and won't help if an other layer is on top and hide the feature you selected.

Is it possible to control the rendering order of features independently from their own layer so that all selected features from any layer could be repainted last to appear on top of everything else?

Jean-Fran?ois Bourdon, ing.f.
Analyste en t?l?d?tection
Direction des inventaires forestiers
Minist?re des For?ts, de la Faune et des Parcs
5700, 4e Avenue Ouest, local A-108
Qu?bec (Qu?bec) G1H 6R1
T?l?phone : 418 627-8669, poste 704304
jean-francois.bourdon at mffp.gouv.qc.ca
mffp.gouv.qc.ca<http://www.mffp.gouv.qc.ca/accueil.jsp>

De : QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la part de C Hamilton
Envoy? : 15 avril 2021 13:39
? : Nicolas Cadieux <njacadieux.gitlab at gmail.com>
Cc : qgis-user <qgis-user at lists.osgeo.org>; qgis-developer <qgis-developer at lists.osgeo.org>
Objet : Re: [QGIS-Developer] [Qgis-user] Issue with How Selected Features are Displayed When Overlapping

If there is a large cluster of points obscuring the selected point, even that method will not work.

Has there been any interest in changing this behavior in QGIS?

On Thu, Apr 15, 2021 at 11:46 AM Nicolas Cadieux <njacadieux.gitlab at gmail.com<mailto:njacadieux.gitlab at gmail.com>> wrote:
Hi,
Indeed... I usually select a thicker line for feature that are below. This way, I can see the selection even if it?s hidden.
Nicolas Cadieux
https://gitlab.com/njacadieux<https://can01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgitlab.com%2Fnjacadieux&data=04%7C01%7C%7C2eca7a78da3248c916a408d900355756%7C8705e97737814f4790e1c84c8b884da1%7C0%7C1%7C637541051362979687%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=%2FmyTzn9OwXB46gYQf1B2pMplGpkdubok%2B%2FkUQ0bs%2FYo%3D&reserved=0>


Le 15 avr. 2021 ? 11:14, C Hamilton <adenaculture at gmail.com<mailto:adenaculture at gmail.com>> a ?crit :
?
I have a user complaint with QGIS who explained that when point features overlap and one is selected from  the attribute table but is underneath other features, you cannot see it highlighted because it is covered by other points. Is there any way to have it show that there is a highlighted feature there even though it is underneath non-highlighted features? In ArcMap the highlights are always shown on the top level of the canvas even if they are covered by non-highlighted features.

I tested this in QGIS and the user was correct.

Thanks,

Calvin
_______________________________________________
Qgis-user mailing list
Qgis-user at lists.osgeo.org<mailto:Qgis-user at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-user<https://can01.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fqgis-user&data=04%7C01%7C%7C2eca7a78da3248c916a408d900355756%7C8705e97737814f4790e1c84c8b884da1%7C0%7C1%7C637541051362979687%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=idHuDJvr3AJdZqux0MuQPK%2BNVxZIKg2wf0ndtVVP9U4%3D&reserved=0>
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user<https://can01.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fqgis-user&data=04%7C01%7C%7C2eca7a78da3248c916a408d900355756%7C8705e97737814f4790e1c84c8b884da1%7C0%7C1%7C637541051362989680%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=6rWSgA%2FIEiVhu%2FWue3ep57916DpACY9PmAigkIq13%2Fs%3D&reserved=0>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210426/3cefbd2e/attachment.html>

From nyall.dawson at gmail.com  Mon Apr 26 21:50:59 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 27 Apr 2021 14:50:59 +1000
Subject: [QGIS-Developer] GSoC 2021 QGIS On-the-fly Raster Calculator
 proposal draft review and feedback
In-Reply-To: <CAC2XbFeaPgXjm_fy3HVuPu0_cjbhCNjBugXzzUt-Bs9jyG8Zcg@mail.gmail.com>
References: <mailman.33.1618254002.17629.qgis-developer@lists.osgeo.org>
 <CAF6hL+U76VOhsFiarMnywYASi4nCkUDTL3xOv_Vgvr5Vp_Euzg@mail.gmail.com>
 <VI1P190MB03814A1D6914B9D38686290F804F9@VI1P190MB0381.EURP190.PROD.OUTLOOK.COM>
 <CAF6hL+WsAfRuhRKAi+fAgnFHuOy5eQttKyNP5PvZyutCgyHjRw@mail.gmail.com>
 <CAC2XbFeaPgXjm_fy3HVuPu0_cjbhCNjBugXzzUt-Bs9jyG8Zcg@mail.gmail.com>
Message-ID: <CAB28Asg0wD-MTBfUJy3k=b00WZniKgEjOfXwxB+_p0S6J9ZmJQ@mail.gmail.com>

On Fri, 16 Apr 2021 at 07:20, Martin Dobias <wonder.sk at gmail.com> wrote:
>
> Hi Alister
>
> On Wed, Apr 14, 2021 at 8:55 AM Alister Hood <alister.hood at gmail.com> wrote:
>>
>>
>> What I'm suggesting is that a slightly more general solution would be useful in more situations.  In your words, it would "avoid the need to create derived raster files" in a lot more situations.
>>
>> The only downside is that the virtual raster would be created as a new layer in the QGIS project (if you want to reduce this "clutter", you might just be able to remove the original layer from the project, but sometimes you would want to keep it for other reasons).  But it is normal to have extra layers in your project just to get things to display you want - for example I imagine it is very common for people to duplicate a raster layer so they can display it both with the hillshade renderer and one or more other renderers.
>>
>> In any case, assuming you do follow the symbology approach rather than a provider, as a user I'd still ask if the way you're proposing to implement this is really the best way. Rather than adding a new render type, from a user's perspective I think it would be a lot simpler to instead add a ? button next to all of the "band" comboboxes, allowing you to enter a raster calculator expression rather than selecting a band.  This approach would be consistent with the "value" comboboxes for selecting a field from a vector layer, which have a ? button next to them, and it could also be extended to anywhere else in QGIS where you select a raster band.
>
>
> I have originally suggested the approach (that Francesco took for his project) in the GSoC ideas list and volunteered as a mentor... I was playing with multiple ideas how this could be done: 1. new raster renderer, 2. new raster band of an existing layer, 3. new provider (as you suggest).
>
> At the time the first option with a renderer seemed like a choice with the least amount of hassle to add - simply reusing the concept that hillshade/contour raster renderers already use. It seemed that the approach with a renderer could lead to fastest feedback loop when user modifies the raster calculator expression to immediately get results on canvas. And contrary to what was said above, user should not be limited to raster bands of a single input raster layer - any raster layer may be used - which may lead to a paradox situation when the on-the-fly calculator renderer in theory may not use any data from its layer (only the input layer's extent+CRS may be used). The other potentially awkward thing is that raster calculator (as of now) only supports a single output raster band, and there would be a sub-renderer attached to actually turn output raster values to actual colors (which I don't like that much).
>
> For mesh layers, in recent versions of QGIS, there is support similar to the second option (new "virtual" / "derived" raster band). This works fine, but the feedback loop between changing the expression and seeing the results involves much more time and clicking.
>
> The final option with a new provider is similar to the previous option with a virtual raster band, yet a bit more generic probably - maybe with more room for configuration, one could possibly use not use on-the-fly raster calculator, but also various other raster processing algorithms that would otherwise require creation of outputs stored on disk. I guess with this approach the raster calculator expression would be set as data provider URI - which is cumbersome to later modify in QGIS. By the way, this option seems to be also the approach taken in Redlands (the feature is called "raster functions").
>
> I can imagine either solution - raster renderer or raster data provider - each would have some pros and cons. Many thanks for your feedback. I would be interested to hear what other people think. The GSoC proposal is not set in stone (and it is not accepted yet either) - if people prefer the approach with a virtual raster, then we can think of updating the project plan accordingly (if the project would go ahead).

Apologies for the super-delayed answer (been on leave and then
catching up due to being on leave :P )

My preference would be strongly towards the virtual raster data
provider instead of a renderer. Basically the way I see it is that a
virtual renderer is a nice symbology toy to have, but can't be used
for any real in-depth analysis work. Yet a virtual provider would work
for both visualisation AND analytical work (e.g. identify tool would
give correct calculated pixel values) and takes the feature from being
of limited use to a real killer feature.

I can also see that a virtual provider could greatly speed up certain
tasks in qgis -- eg if you had to perform a raster calculation and
then use the results for a zonal statistics operation, it would be
MUCH more efficient to use a virtual raster so that you're only
performing the raster calculation for pixels inside the zones, instead
of every pixel and then ignoring everything outside the zones. This
could potentially make an operation which is prohibitively time
consuming to calculate become instead a near-instant calculation!

That's where I sit anyway :)

Nyall

From albrecht at gbd-consult.de  Tue Apr 27 02:54:59 2021
From: albrecht at gbd-consult.de (Philip Albrecht)
Date: Tue, 27 Apr 2021 11:54:59 +0200
Subject: [QGIS-Developer] No Options of QGIS Temporal Controller in 3.16
In-Reply-To: <5fd72eb5-3798-b7d1-4072-98530f546558@gbd-consult.de>
References: <5fd72eb5-3798-b7d1-4072-98530f546558@gbd-consult.de>
Message-ID: <52fdc60c-0e28-3c66-87f8-c7a4810382f7@gbd-consult.de>

Hey,

i worked with the temporal controller in QGIS 2.18. It was a separate 
Add-On. There you had some kind of options where you could choose the 
layer which will be affected of the controller. Now it's an stock Plugin 
but doesn't has the options any more. Will those options will come with 
next QGIS version?

Kind regards, Philip


From peter.petrik at lutraconsulting.co.uk  Tue Apr 27 03:11:29 2021
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Tue, 27 Apr 2021 12:11:29 +0200
Subject: [QGIS-Developer] No Options of QGIS Temporal Controller in 3.16
In-Reply-To: <52fdc60c-0e28-3c66-87f8-c7a4810382f7@gbd-consult.de>
References: <5fd72eb5-3798-b7d1-4072-98530f546558@gbd-consult.de>
 <52fdc60c-0e28-3c66-87f8-c7a4810382f7@gbd-consult.de>
Message-ID: <CA+T_Ms+YpCnzXZiNL9YtTHKk3n=CwQv8wQvfhqT6bOpvQdkZtg@mail.gmail.com>

Hi Philip,

they are already implemented in all supported QGIS version. You need to
click on the clock icon next to the layer and in the toolbar. Best to check
with QGIS documentation.

Kind regards,
Peter

On Tue, Apr 27, 2021 at 12:04 PM Philip Albrecht <albrecht at gbd-consult.de>
wrote:

> Hey,
>
> i worked with the temporal controller in QGIS 2.18. It was a separate
> Add-On. There you had some kind of options where you could choose the
> layer which will be affected of the controller. Now it's an stock Plugin
> but doesn't has the options any more. Will those options will come with
> next QGIS version?
>
> Kind regards, Philip
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210427/2c261ec3/attachment.html>

From smwltwesa6 at gmail.com  Tue Apr 27 04:35:07 2021
From: smwltwesa6 at gmail.com (Samweli)
Date: Tue, 27 Apr 2021 04:35:07 -0700 (MST)
Subject: [QGIS-Developer] No Options of QGIS Temporal Controller in 3.16
In-Reply-To: <52fdc60c-0e28-3c66-87f8-c7a4810382f7@gbd-consult.de>
References: <52fdc60c-0e28-3c66-87f8-c7a4810382f7@gbd-consult.de>
Message-ID: <1619523307703-0.post@n6.nabble.com>

Hi Philip,

To disable Temporal Controller control on a temporal layer, go to the Layer
Properties > Temporal then un-check the temporal group box, click Apply or
OK and the control will be deactivated.
Also as mentioned by Peter you can click the clock icon next to the layer to
go to the layer properties Temporal page directly.

Best,
Samweli



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From isaac.calabrese at atlasgeo.com.au  Tue Apr 27 22:20:05 2021
From: isaac.calabrese at atlasgeo.com.au (Isaac Calabrese)
Date: Wed, 28 Apr 2021 05:20:05 +0000
Subject: [QGIS-Developer] QGIS mailing list submission
Message-ID: <ME3P282MB07406A1933C84AE7BDB15037B2409@ME3P282MB0740.AUSP282.PROD.OUTLOOK.COM>

Hi all,

Toolbox alg 'Export atlas layout as PDF' has no option to export atlas features as separate PDF's.
I'm getting a single PDF file of multiple pages with no meaningful georeference as a result.

This implementation is new as far as I can tell, so it should be fairly simple to add a 'single file export' checkbox and filename expression field to the input parameters, much the same as the 'Export atlas layout as image' alg functions.

Thanks,

Isaac Calabrese
Data Processor

T: 61 8 6278 2898<tel:0862782898>
A: PO BOX 1049, MORLEY WA 6943<tel:0862782898>
W: atlasgeo.com.au<http://atlasgeo.com.au/>  W: pegair.com.au<http://pegair.com.au/>
[cid:image001.jpg at 01D73C31.3339F7A0][cid:image002.jpg at 01D73C31.3339F7A0]
[cid:image003.jpg at 01D73C31.3339F7A0]

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210428/337496f3/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 2383 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210428/337496f3/attachment.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.jpg
Type: image/jpeg
Size: 2237 bytes
Desc: image002.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210428/337496f3/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.jpg
Type: image/jpeg
Size: 2141 bytes
Desc: image003.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210428/337496f3/attachment-0002.jpg>

From michal.wloga at envirosolutions.pl  Tue Apr 27 23:11:37 2021
From: michal.wloga at envirosolutions.pl (michal.wloga at envirosolutions.pl)
Date: Wed, 28 Apr 2021 08:11:37 +0200
Subject: [QGIS-Developer] reload QGIS Server plugin
Message-ID: <001701d73bf5$590e88b0$0b2b9a10$@envirosolutions.pl>

Hello,

 

I have QGIS Server installed on ubuntu 20 with nginx + sockets. Is there a
way to reload a server plugin other than restarting the host?

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
 <mailto:coo at envirosolutions.pl> coo at envirosolutions.pl
 <http://www.envirosolutions.pl/szkolenia> www.envirosolutions.pl

 
<https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych
-GUGiK.html> Pobieracz Danych GUGiK - laureat nagrody GUGiK na najlepsze
wykorzystanie danych i us?ug GUGiK w 2020 r.

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210428/292986f2/attachment-0001.html>

From michal.wloga at envirosolutions.pl  Tue Apr 27 23:43:19 2021
From: michal.wloga at envirosolutions.pl (michal.wloga at envirosolutions.pl)
Date: Wed, 28 Apr 2021 08:43:19 +0200
Subject: [QGIS-Developer] reload QGIS Server plugin
In-Reply-To: <001701d73bf5$590e88b0$0b2b9a10$@envirosolutions.pl>
References: <001701d73bf5$590e88b0$0b2b9a10$@envirosolutions.pl>
Message-ID: <003501d73bf9$c6ebda00$54c38e00$@envirosolutions.pl>

Regarding to my question I found an answer:

The following command seems to be sufficient:

systemctl daemon-reload

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
coo at envirosolutions.pl <mailto:coo at envirosolutions.pl> 
www.envirosolutions.pl <http://www.envirosolutions.pl/szkolenia> 

 
<https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych
-GUGiK.html> Pobieracz Danych GUGiK - laureat nagrody GUGiK na najlepsze
wykorzystanie danych i us?ug GUGiK w 2020 r.

 

From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On
Behalf Of michal.wloga at envirosolutions.pl
Sent: Wednesday, April 28, 2021 8:12 AM
To: qgis-developer at lists.osgeo.org
Subject: [QGIS-Developer] reload QGIS Server plugin

 

Hello,

 

I have QGIS Server installed on ubuntu 20 with nginx + sockets. Is there a
way to reload a server plugin other than restarting the host?

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
coo at envirosolutions.pl <mailto:coo at envirosolutions.pl> 
www.envirosolutions.pl <http://www.envirosolutions.pl/szkolenia> 

 
<https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych
-GUGiK.html> Pobieracz Danych GUGiK - laureat nagrody GUGiK na najlepsze
wykorzystanie danych i us?ug GUGiK w 2020 r.

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210428/e7e3b2de/attachment.html>

From a.neumann at carto.net  Wed Apr 28 00:11:07 2021
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 28 Apr 2021 09:11:07 +0200
Subject: [QGIS-Developer] reload QGIS Server plugin
In-Reply-To: <003501d73bf9$c6ebda00$54c38e00$@envirosolutions.pl>
References: <001701d73bf5$590e88b0$0b2b9a10$@envirosolutions.pl>
 <003501d73bf9$c6ebda00$54c38e00$@envirosolutions.pl>
Message-ID: <dd68500f238c99f64924097be2707dfc@carto.net>

Hi,

No - "_systemctl daemon-reload_" is only useful and recommended if you 
change something in your daemon/service configuration, which is not the 
case when you want to reload a QGIS server plugin.

It should be enough to reload or restart your webserver:

systemctl reload nginx

or

systemctl restart nginx

or whatever the nginx webserver daemon is called on your system.

Greetings,

Andreas

On 2021-04-28 08:43, michal.wloga at envirosolutions.pl wrote:

> Regarding to my question I found an answer:
> 
> The following command seems to be sufficient:
> 
> _systemctl daemon-reload_
> 
> Regards,
> 
> EnviroSolutions Sp. z o. o.
> Micha? W?oga
> tel: +48 607 059 157
> coo at envirosolutions.pl
> www.envirosolutions.pl [1]
> 
> Pobieracz Danych GUGiK [2] - laureat nagrody GUGiK na najlepsze 
> wykorzystanie danych i us?ug GUGiK w 2020 r.
> 
> From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On 
> Behalf Of michal.wloga at envirosolutions.pl
> Sent: Wednesday, April 28, 2021 8:12 AM
> To: qgis-developer at lists.osgeo.org
> Subject: [QGIS-Developer] reload QGIS Server plugin
> 
> Hello,
> 
> I have QGIS Server installed on ubuntu 20 with nginx + sockets. Is 
> there a way to reload a server plugin other than restarting the host?
> 
> Regards,
> 
> EnviroSolutions Sp. z o. o.
> Micha? W?oga
> tel: +48 607 059 157
> coo at envirosolutions.pl
> www.envirosolutions.pl [1]
> 
> Pobieracz Danych GUGiK [2] - laureat nagrody GUGiK na najlepsze 
> wykorzystanie danych i us?ug GUGiK w 2020 r.
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



Links:
------
[1] http://www.envirosolutions.pl/szkolenia
[2] 
https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210428/d62e3b65/attachment.html>

From nicholas.sunhing at gmail.com  Wed Apr 28 05:02:32 2021
From: nicholas.sunhing at gmail.com (Nicholas Sun Hing)
Date: Wed, 28 Apr 2021 14:02:32 +0200
Subject: [QGIS-Developer] QGIS Open Day - User Groups Day 30th April 2021
Message-ID: <CAF-Lnm6ooqa2thBcW+-6=uHgyBQ8t4xu=ZP6DSFbHGyZUiCL4g@mail.gmail.com>

Dear QGIS Developers

The next QGIS Open Day is fast approaching. Please come and join the QGIS
User Group Day. This month's event is dedicated to QGIS user groups around
the world where these groups will report on their activities. Please come
and watch this line up of interesting presentations. For more information
on the presentations please click on the link below:
https://github.com/qgis/QGIS/wiki/QHF-April-2021

Please click on the respective links provided in the wiki to go to the
streams.
Colombia, Slovakia and Switzerland will have their presentations on the
QGIS channel. QGIS Brazil will be hosting their presentations on their
respective channel so please take note of this.

All of the YouTube live-streamed events will be recorded and made available
to users who couldn't make the live events and will be available via the
links on the respective channels.

Please contact Zinziswa Xakayi by email zeighxakayi at gmail.com or via the
Telegram Channel username @zinzixakayi if you have any queries or need help
setting up events.

Hope to see you there
The QGIS open day organization team
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210428/2fe239e0/attachment.html>

From rdmailings at duif.net  Wed Apr 28 06:00:22 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 28 Apr 2021 15:00:22 +0200
Subject: [QGIS-Developer] Non sharp Labels on Windows VDI displays?
Message-ID: <1042be00-0450-23fb-09df-338b0c0feb49@duif.net>

Hi All,

On a QGIS project I have point features that are labeled using a simple expression.

On my Desktop all looks fine (left on screenshot attached).
But people using the same project/style on a Windows VDI (virtual display environment/VMware) they look very unsharp (right on attached sccreenie).

I tried all fonts there (windows), but none of them look nice (anti aliassed?)...
Anybody is aware if this is typical VDI? Or do I miss some setting?
All other fonts on that desktop look fine, it is only our QGIS generated labels in the map. 

Thanks for any pointer.

Regards,

Richard Duivenvoorde

-------------- next part --------------
A non-text attachment was scrubbed...
Name: labels.png
Type: image/png
Size: 32952 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210428/67f2ee19/attachment-0001.png>

From werner.macho at gmail.com  Wed Apr 28 06:14:09 2021
From: werner.macho at gmail.com (Werner Macho)
Date: Wed, 28 Apr 2021 15:14:09 +0200
Subject: [QGIS-Developer] Non sharp Labels on Windows VDI displays?
In-Reply-To: <1042be00-0450-23fb-09df-338b0c0feb49@duif.net>
References: <1042be00-0450-23fb-09df-338b0c0feb49@duif.net>
Message-ID: <CA+3oMjvAoWGZTj7z4vyCkYzzmDLO7wfitVT3OLMAyRZukRjCRA@mail.gmail.com>

Hi Richard,

I am not sure, but I can remember that for everything working smoothly
(at least USB and such things) I had to install the Guest Tools on the
host.
Do you know if this is installed? Maybe it's worth a try.

regards
Werner

On Wed, Apr 28, 2021 at 3:10 PM Richard Duivenvoorde
<rdmailings at duif.net> wrote:
>
> Hi All,
>
> On a QGIS project I have point features that are labeled using a simple expression.
>
> On my Desktop all looks fine (left on screenshot attached).
> But people using the same project/style on a Windows VDI (virtual display environment/VMware) they look very unsharp (right on attached sccreenie).
>
> I tried all fonts there (windows), but none of them look nice (anti aliassed?)...
> Anybody is aware if this is typical VDI? Or do I miss some setting?
> All other fonts on that desktop look fine, it is only our QGIS generated labels in the map.
>
> Thanks for any pointer.
>
> Regards,
>
> Richard Duivenvoorde
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From matteo.ghetta at gmail.com  Wed Apr 28 08:55:36 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 28 Apr 2021 17:55:36 +0200
Subject: [QGIS-Developer] QgsSpatialIndex nearestNeighbor returns more than
 1 feature
Message-ID: <8143aae3-979d-abf4-e745-e05ce54d61a3@gmail.com>

Hi all,

Using nearestNeighbor of QgsSpatialIndex, even with the flag 
FlagStoreFeatureGeometries, sometimes I got more than 1 feature related 
(distance between the features is not the same, I've manually checked).

Is there a way to return only the nearest feature?

Cheers and thanks

Matteo

From radim.blazek at gmail.com  Wed Apr 28 09:14:20 2021
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed, 28 Apr 2021 18:14:20 +0200
Subject: [QGIS-Developer] QgsO2 (OAuth2 ) crash in exitQgis() on uWSGI
In-Reply-To: <CAEMrtYq2y_xOP+gJpZWwpf2pg_d9Vbwm4pxNa_Yn36zXc-idMw@mail.gmail.com>
References: <CAEMrtYpR7Z_Jo3Qjx91D_COjuB8gUhpoDqK_X1TcmmGkEmoUzw@mail.gmail.com>
 <CAL5Q673xENK1jZE1ZyZry2ZBkX68a9DXy5L6ZS-15NvxJiFs0A@mail.gmail.com>
 <CAEMrtYpu6GYkBbv3YvAH6ztp7wTrpBuXTQzhGXjxFjRsEv1TKg@mail.gmail.com>
 <CAEMrtYq2y_xOP+gJpZWwpf2pg_d9Vbwm4pxNa_Yn36zXc-idMw@mail.gmail.com>
Message-ID: <CAEMrtYrbsyinsys0dQkjSsBFtevfeX1m-vqSK_bA_+ESqufk8g@mail.gmail.com>

Promemoria,
it is crashing whenever Q_GLOBAL_STATIC variable is accessed
because uwsgi is calling C/C++ libs atexit before python atexit.
https://github.com/unbit/uwsgi/issues/859
https://github.com/unbit/uwsgi/pull/1879

This workaround can clear project aux storage tmp file
os.remove(QgsProject.instance().auxiliaryStorage().currentFileName())
but there is also QgsProjectArchive tmp dir which is private.

BTW, what happens with old QgsProject instance when a new one is set?
void QgsProject::setInstance( QgsProject *project )
{
  sProject = project;
}

Radim


On Mon, Apr 26, 2021 at 4:23 PM Radim Blazek <radim.blazek at gmail.com> wrote:
> I forgot to say that QgsApplication.exitQgis() /  QgsProject.clear()
> is invoked by python atexit.register.

> > Now it crashes in QgsProject.clear() and again the last qgis function
> > does not have name in backtrace, is it macro?

> > /lib/x86_64-linux-gnu/libc.so.6(+0x37840) [0x7f06e03c9840]
> > /lib/libqgis_core.so.3.18.1(+0x3a2504) [0x7f06a43e5504]
> > /lib/libqgis_core.so.3.18.1(_ZN10QgsProject5clearEv+0xaa5) [0x7f06a4d5f235]

From nyall.dawson at gmail.com  Wed Apr 28 18:14:17 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 29 Apr 2021 11:14:17 +1000
Subject: [QGIS-Developer] QgsSpatialIndex nearestNeighbor returns more
 than 1 feature
In-Reply-To: <8143aae3-979d-abf4-e745-e05ce54d61a3@gmail.com>
References: <8143aae3-979d-abf4-e745-e05ce54d61a3@gmail.com>
Message-ID: <CAB28AsjDfasrpE7xSREC-nQPfOPpiq80P9+VMk__NN34tDQbBg@mail.gmail.com>

On Thu, 29 Apr 2021 at 01:55, matteo <matteo.ghetta at gmail.com> wrote:
>
> Hi all,
>
> Using nearestNeighbor of QgsSpatialIndex, even with the flag
> FlagStoreFeatureGeometries, sometimes I got more than 1 feature related
> (distance between the features is not the same, I've manually checked).
>
> Is there a way to return only the nearest feature?

This definitely isn't the correct behaviour --- can you share a sample
which reproduces this issue?

Nyall

From matteo.ghetta at gmail.com  Thu Apr 29 00:45:19 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 29 Apr 2021 09:45:19 +0200
Subject: [QGIS-Developer] QgsSpatialIndex nearestNeighbor returns more
 than 1 feature
In-Reply-To: <CAB28AsjDfasrpE7xSREC-nQPfOPpiq80P9+VMk__NN34tDQbBg@mail.gmail.com>
References: <8143aae3-979d-abf4-e745-e05ce54d61a3@gmail.com>
 <CAB28AsjDfasrpE7xSREC-nQPfOPpiq80P9+VMk__NN34tDQbBg@mail.gmail.com>
Message-ID: <8cfe9dc5-2c23-c39c-c419-fb6414c55a43@gmail.com>

Thanks for the answer.

I've some border cases (like perfect angles that determines a weird 
equal distance).

Sorry for the noise and thanks for the hint

Matteo

From albtrentadue at yahoo.it  Thu Apr 29 01:23:51 2021
From: albtrentadue at yahoo.it (Alberto Trentadue)
Date: Thu, 29 Apr 2021 08:23:51 +0000 (UTC)
Subject: [QGIS-Developer] How to set individual qwc-services log levels
 (newbie question)
References: <809073975.2931455.1619684631914.ref@mail.yahoo.com>
Message-ID: <809073975.2931455.1619684631914@mail.yahoo.com>

HelloSorry for the basic question from a newbie.I am testing the qwc-services container stack deployment and I need to increase the log level for an individual service.Is there a env variable to set the log level of one single service/container?
Thank you for help
Alberto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210429/77f49590/attachment.html>

From bo.victor.thomsen at gmail.com  Thu Apr 29 05:21:43 2021
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Thu, 29 Apr 2021 14:21:43 +0200
Subject: [QGIS-Developer] Probably a stupid python question regarding
 QgsVectorlayer
Message-ID: <0711270e-cccf-b74a-a535-591009abceda@gmail.com>

Hi list -

I have a (probably totally obvious, stupid) Pyhton question:

I need the datasource URI string of a maplayer chosen by the user.

I have found? the QgsMapLayer chosen by the user. And the QgsVectorLayer 
associated with the Maplayer.

How do I find the datasource string associated with the QgsVectorLayer?

There is oodles of QGIS information about generating a vector layer from 
a specific datasource. I need the opposite to generate a virtual layer 
in Python using a join between the chosen layer with a another 
predefined layer (which I have the datasource string for).

-- 

Med venlig hilsen / Kind regards

Bo Victor Thomsen


From apasotti at gmail.com  Thu Apr 29 05:32:56 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 29 Apr 2021 14:32:56 +0200
Subject: [QGIS-Developer] Probably a stupid python question regarding
 QgsVectorlayer
In-Reply-To: <0711270e-cccf-b74a-a535-591009abceda@gmail.com>
References: <0711270e-cccf-b74a-a535-591009abceda@gmail.com>
Message-ID: <CAL5Q672BXYFRZd8fc2ET=a-_+rTXkiGS1x_xSkocr4G1SN2yYg@mail.gmail.com>

Hi Bo,

iface.activeLayer().source() should give you what you want.




On Thu, Apr 29, 2021 at 2:21 PM Bo Victor Thomsen <
bo.victor.thomsen at gmail.com> wrote:

> Hi list -
>
> I have a (probably totally obvious, stupid) Pyhton question:
>
> I need the datasource URI string of a maplayer chosen by the user.
>
> I have found  the QgsMapLayer chosen by the user. And the QgsVectorLayer
> associated with the Maplayer.
>
> How do I find the datasource string associated with the QgsVectorLayer?
>
> There is oodles of QGIS information about generating a vector layer from
> a specific datasource. I need the opposite to generate a virtual layer
> in Python using a join between the chosen layer with a another
> predefined layer (which I have the datasource string for).
>
> --
>
> Med venlig hilsen / Kind regards
>
> Bo Victor Thomsen
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210429/ec9adb39/attachment.html>

From bo.victor.thomsen at gmail.com  Thu Apr 29 06:30:50 2021
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Thu, 29 Apr 2021 15:30:50 +0200
Subject: [QGIS-Developer] Probably a stupid python question regarding
 QgsVectorlayer
In-Reply-To: <CAL5Q672BXYFRZd8fc2ET=a-_+rTXkiGS1x_xSkocr4G1SN2yYg@mail.gmail.com>
References: <0711270e-cccf-b74a-a535-591009abceda@gmail.com>
 <CAL5Q672BXYFRZd8fc2ET=a-_+rTXkiGS1x_xSkocr4G1SN2yYg@mail.gmail.com>
Message-ID: <b95d85c2-2028-fc5b-12cb-c4c84afc3484@gmail.com>

Thanks Alessandro :-)

(I need some new reading glasses, or maybe a new brain. When you read 
the /Properties/ -> /Information/ tab for the layer, the needed 
information is shown in the tab with the prefix /*Source*: /! It 
shouldn't be that hard for me to guess!!)

Med venlig hilsen / Kind regards

Bo Victor Thomsen

Den 29-04-2021 kl. 14:32 skrev Alessandro Pasotti:
> Hi Bo,
>
> iface.activeLayer().source() should give you what you want.
>
>
> On Thu, Apr 29, 2021 at 2:21 PM Bo Victor Thomsen 
> <bo.victor.thomsen at gmail.com <mailto:bo.victor.thomsen at gmail.com>> wrote:
>
>     Hi list -
>
>     I have a (probably totally obvious, stupid) Pyhton question:
>
>     I need the datasource URI string of a maplayer chosen by the user.
>
>     I have found? the QgsMapLayer chosen by the user. And the
>     QgsVectorLayer
>     associated with the Maplayer.
>
>     How do I find the datasource string associated with the
>     QgsVectorLayer?
>
>     There is oodles of QGIS information about generating a vector
>     layer from
>     a specific datasource. I need the opposite to generate a virtual
>     layer
>     in Python using a join between the chosen layer with a another
>     predefined layer (which I have the datasource string for).
>
>     -- 
>
>     Med venlig hilsen / Kind regards
>
>     Bo Victor Thomsen
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>
> -- 
> Alessandro Pasotti
> QCooperative: www.qcooperative.net <https://www.qcooperative.net>
> ItOpen: www.itopen.it <http://www.itopen.it>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210429/da399626/attachment-0001.html>

From prem.netgis at gmail.com  Thu Apr 29 06:37:48 2021
From: prem.netgis at gmail.com (Prem Kumar)
Date: Thu, 29 Apr 2021 19:07:48 +0530
Subject: [QGIS-Developer] Probably a stupid python question regarding
 QgsVectorlayer
In-Reply-To: <b95d85c2-2028-fc5b-12cb-c4c84afc3484@gmail.com>
References: <0711270e-cccf-b74a-a535-591009abceda@gmail.com>
 <CAL5Q672BXYFRZd8fc2ET=a-_+rTXkiGS1x_xSkocr4G1SN2yYg@mail.gmail.com>
 <b95d85c2-2028-fc5b-12cb-c4c84afc3484@gmail.com>
Message-ID: <CAP2_p63m5SuA0ZzGVY4T-Lwj_G1ccuD9SS1NniGMkEm=MOPnWQ@mail.gmail.com>

Hi mate,

If you still need further details of database uri, you may refer to the
skeleton code below.

obj_vl = QgsVectorLayer(in_fc,"new lyr","ogr")
datapr=obj_vl.dataProvider()
lyrUri=None
if isinstance(obj_vl, QgsVectorLayer):
    lyrUri = QgsDataSourceUri(obj_vl.dataProvider().dataSourceUri())
    if lyrUri.database() == "shapefileName" or \

os.path.splitext(os.path.basename(lyrUri.uri().split('|')[0]))[0] ==
"shapefileName":
        pass

connParams = dict()
if obj_vl.providerType() == 'postgres':
    connParams['host'] = lyrUri.host()
    connParams['port'] = lyrUri.port()
    connParams['user'] = lyrUri.username()
    connParams['password'] = lyrUri.password()
elif obj_vl.providerType() == 'spatialite':
    connParams['dbPath'] = lyrUri.database()
elif obj_vl.providerType() == 'ogr':
    connParams['dbPath'] = lyrUri.database()

-Prem

On Thu, Apr 29, 2021 at 7:01 PM Bo Victor Thomsen <
bo.victor.thomsen at gmail.com> wrote:

> Thanks Alessandro :-)
>
> (I need some new reading glasses, or maybe a new brain. When you read the
> *Properties* -> *Information* tab for the layer, the needed information
> is shown in the tab with the prefix *Source: *! It shouldn't be that hard
> for me to guess!!)
>
> Med venlig hilsen / Kind regards
>
> Bo Victor Thomsen
>
> Den 29-04-2021 kl. 14:32 skrev Alessandro Pasotti:
>
> Hi Bo,
>
> iface.activeLayer().source() should give you what you want.
>
>
> On Thu, Apr 29, 2021 at 2:21 PM Bo Victor Thomsen <
> bo.victor.thomsen at gmail.com> wrote:
>
>> Hi list -
>>
>> I have a (probably totally obvious, stupid) Pyhton question:
>>
>> I need the datasource URI string of a maplayer chosen by the user.
>>
>> I have found  the QgsMapLayer chosen by the user. And the QgsVectorLayer
>> associated with the Maplayer.
>>
>> How do I find the datasource string associated with the QgsVectorLayer?
>>
>> There is oodles of QGIS information about generating a vector layer from
>> a specific datasource. I need the opposite to generate a virtual layer
>> in Python using a join between the chosen layer with a another
>> predefined layer (which I have the datasource string for).
>>
>> --
>>
>> Med venlig hilsen / Kind regards
>>
>> Bo Victor Thomsen
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210429/61de5778/attachment.html>

From adenaculture at gmail.com  Thu Apr 29 11:09:15 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 29 Apr 2021 14:09:15 -0400
Subject: [QGIS-Developer] QGIS Date, Time and Time Zones
Message-ID: <CABPxTTovjyiXEL0A1YWKkwRawzLoG54kzeCh0ObhBfH=j8Ueuw@mail.gmail.com>

Last year there was a discussion on date, time, and timezones in QGIS. Back
then the discussion was that QGIS uses the QDateTime object which supports
timezones, but QGIS does not expose timezones anywhere. This I understand
because time zones are the ultimate pain.

I recently released a "Date/Time Tools" plugin (
https://plugins.qgis.org/plugins/datetimetools/) to start providing some
date/time/time zone conversions and support. I was thinking of
providing additional processing algorithms that would create a QDateTime
field with the timezone set, but the question I have is whether a vector
layer were saved to something like a GPKG would the timezone even be
preserved? It wouldn't be preserved with a ShapeFile. If timezones are not
preserved then the only way to provide a date, time, timezone would be as
an ISO8601 string (2007-01-14T21:05:02Z or 2007-01-14T06:55:53-0800).

Is there currently any work going on for time zone support in QGIS that I
am unaware of?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210429/0b6dfdd4/attachment.html>

From even.rouault at spatialys.com  Thu Apr 29 11:18:03 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 29 Apr 2021 20:18:03 +0200
Subject: [QGIS-Developer] QGIS Date, Time and Time Zones
In-Reply-To: <CABPxTTovjyiXEL0A1YWKkwRawzLoG54kzeCh0ObhBfH=j8Ueuw@mail.gmail.com>
References: <CABPxTTovjyiXEL0A1YWKkwRawzLoG54kzeCh0ObhBfH=j8Ueuw@mail.gmail.com>
Message-ID: <b8d8f29f-aac6-f7b5-493e-bc99e6678f41@spatialys.com>


> ?but the question I have is whether a vector layer were saved to 
> something like a GPKG would the timezone even be preserved?

Short answer: not by default

Longer answer:

- see https://github.com/opengeospatial/geopackage/issues/530

- and https://github.com/OSGeo/gdal/issues/3423#issuecomment-772405674

- and https://gdal.org/drivers/vector/gpkg.html#dataset-creation-options

So basically:

- the GeoPackage spec only supports date/time encoded as ISO 8601 with 
Zulu timezone : "YYYY-MM-DDTHH:MM:SS.SSSZ"

- on reading side, the OGR Geopackage driver can understand non-Zulu 
timezones

- on writing side, by default the OGR Geopackage driver will convert 
datetimes to the Zulu timezone (applying the appropriate shift), unless 
the DATETIME_FORMAT=WITH_TZ dataset creation option is passed at 
creation time, in which case the original timezone is preserved. Such 
datasets may not be read correctly by third party implementations.

Even


http://www.spatialys.com
My software is free, but my time generally not.


From adenaculture at gmail.com  Thu Apr 29 11:28:14 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 29 Apr 2021 14:28:14 -0400
Subject: [QGIS-Developer] QGIS Date, Time and Time Zones
In-Reply-To: <b8d8f29f-aac6-f7b5-493e-bc99e6678f41@spatialys.com>
References: <CABPxTTovjyiXEL0A1YWKkwRawzLoG54kzeCh0ObhBfH=j8Ueuw@mail.gmail.com>
 <b8d8f29f-aac6-f7b5-493e-bc99e6678f41@spatialys.com>
Message-ID: <CABPxTTqmL6ixevms5UF+7LPksoRh1=ZBw7izcWVwxfEyPuAmzA@mail.gmail.com>

Thanks for the reply. That certainly places a lot of limits on what can and
cannot be done.

Calvin

On Thu, Apr 29, 2021 at 2:18 PM Even Rouault <even.rouault at spatialys.com>
wrote:

>
> >  but the question I have is whether a vector layer were saved to
> > something like a GPKG would the timezone even be preserved?
>
> Short answer: not by default
>
> Longer answer:
>
> - see https://github.com/opengeospatial/geopackage/issues/530
>
> - and https://github.com/OSGeo/gdal/issues/3423#issuecomment-772405674
>
> - and https://gdal.org/drivers/vector/gpkg.html#dataset-creation-options
>
> So basically:
>
> - the GeoPackage spec only supports date/time encoded as ISO 8601 with
> Zulu timezone : "YYYY-MM-DDTHH:MM:SS.SSSZ"
>
> - on reading side, the OGR Geopackage driver can understand non-Zulu
> timezones
>
> - on writing side, by default the OGR Geopackage driver will convert
> datetimes to the Zulu timezone (applying the appropriate shift), unless
> the DATETIME_FORMAT=WITH_TZ dataset creation option is passed at
> creation time, in which case the original timezone is preserved. Such
> datasets may not be read correctly by third party implementations.
>
> Even
>
>
> http://www.spatialys.com
> My software is free, but my time generally not.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210429/a86bcb7b/attachment.html>

From nyall.dawson at gmail.com  Thu Apr 29 15:31:19 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 30 Apr 2021 08:31:19 +1000
Subject: [QGIS-Developer] QGIS Date, Time and Time Zones
In-Reply-To: <CABPxTTovjyiXEL0A1YWKkwRawzLoG54kzeCh0ObhBfH=j8Ueuw@mail.gmail.com>
References: <CABPxTTovjyiXEL0A1YWKkwRawzLoG54kzeCh0ObhBfH=j8Ueuw@mail.gmail.com>
Message-ID: <CAB28Asiq5-+gim5Xgixm4b6Oi2g2yzpbPwg2mcf7g16qhOQUSw@mail.gmail.com>

On Fri, 30 Apr 2021 at 04:10, C Hamilton <adenaculture at gmail.com> wrote:
>
> Last year there was a discussion on date, time, and timezones in QGIS. Back then the discussion was that QGIS uses the QDateTime object which supports timezones, but QGIS does not expose timezones anywhere. This I understand because time zones are the ultimate pain.
>
> I recently released a "Date/Time Tools" plugin (https://plugins.qgis.org/plugins/datetimetools/) to start providing some date/time/time zone conversions and support. I was thinking of providing additional processing algorithms that would create a QDateTime field with the timezone set, but the question I have is whether a vector layer were saved to something like a GPKG would the timezone even be preserved? It wouldn't be preserved with a ShapeFile. If timezones are not preserved then the only way to provide a date, time, timezone would be as an ISO8601 string (2007-01-14T21:05:02Z or 2007-01-14T06:55:53-0800).
>
> Is there currently any work going on for time zone support in QGIS that I am unaware of?

No, but it's **sorely** needed. We should start a QEP discussion to
collect thoughts here.

While (as Even has pointed out) GPKG has quite rudimentary time zone
support we support other formats and databases which have full support
for time zones (eg postgres), so there's definitely value in seeing
first class time zone support in QGIS!

Nyall

From eboni-westbury at outlook.com  Thu Apr 29 20:13:17 2021
From: eboni-westbury at outlook.com (Eboni Westbury)
Date: Fri, 30 Apr 2021 03:13:17 +0000
Subject: [QGIS-Developer] Line Density Analysis Occurring on Gradient (No
 Pic)
Message-ID: <MWHPR03MB3214391256107522B3C40EC2975E9@MWHPR03MB3214.namprd03.prod.outlook.com>

Hi there,

I need to run the Line Density Analysis; however, the results I receive are always on a gradient. All of my files are saved to the same directory, and all layers are georeferenced with the same co-ordinates. Would anyone be able to assist in rectifying this?

Thanks,
Eboni Westbury

(Re-sending without image as I received a message saying the email body was too large.)


Eboni L Westbury
PhD Candidate, u5568035
Department of Archaeology and Natural History
School of Culture, History and Language
ANU College of Asia and the Pacific
Coombs Building #9, Room 4.210
The Australian National University
Canberra, ACT, 2600,
u5568035 at anu.edu.au
CRICOS Provider: 00120C | ABN: 52 234 063 906
Secretary: Canberra Archaeological Society
https://www.canberraarchaeologicalsociety.com.au/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210430/56057e7c/attachment.html>

From matthias at opengis.ch  Thu Apr 29 22:51:04 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 30 Apr 2021 07:51:04 +0200
Subject: [QGIS-Developer] QGIS Date, Time and Time Zones
In-Reply-To: <CAB28Asiq5-+gim5Xgixm4b6Oi2g2yzpbPwg2mcf7g16qhOQUSw@mail.gmail.com>
References: <CABPxTTovjyiXEL0A1YWKkwRawzLoG54kzeCh0ObhBfH=j8Ueuw@mail.gmail.com>
 <CAB28Asiq5-+gim5Xgixm4b6Oi2g2yzpbPwg2mcf7g16qhOQUSw@mail.gmail.com>
Message-ID: <CAC7zN95A6zf4fw860NS0o7P7VkTbXi3JJT6ZB+iKuL2=Yo+2rQ@mail.gmail.com>

For what it's worth ... +1

On Fri, Apr 30, 2021 at 12:31 AM Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On Fri, 30 Apr 2021 at 04:10, C Hamilton <adenaculture at gmail.com> wrote:
> >
> > Last year there was a discussion on date, time, and timezones in QGIS.
> Back then the discussion was that QGIS uses the QDateTime object which
> supports timezones, but QGIS does not expose timezones anywhere. This I
> understand because time zones are the ultimate pain.
> >
> > I recently released a "Date/Time Tools" plugin (
> https://plugins.qgis.org/plugins/datetimetools/) to start providing some
> date/time/time zone conversions and support. I was thinking of providing
> additional processing algorithms that would create a QDateTime field with
> the timezone set, but the question I have is whether a vector layer were
> saved to something like a GPKG would the timezone even be preserved? It
> wouldn't be preserved with a ShapeFile. If timezones are not preserved then
> the only way to provide a date, time, timezone would be as an ISO8601
> string (2007-01-14T21:05:02Z or 2007-01-14T06:55:53-0800).
> >
> > Is there currently any work going on for time zone support in QGIS that
> I am unaware of?
>
> No, but it's **sorely** needed. We should start a QEP discussion to
> collect thoughts here.
>
> While (as Even has pointed out) GPKG has quite rudimentary time zone
> support we support other formats and databases which have full support
> for time zones (eg postgres), so there's definitely value in seeing
> first class time zone support in QGIS!
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210430/7ccfcd54/attachment.html>

From michal.wloga at envirosolutions.pl  Fri Apr 30 05:54:15 2021
From: michal.wloga at envirosolutions.pl (michal.wloga at envirosolutions.pl)
Date: Fri, 30 Apr 2021 14:54:15 +0200
Subject: [QGIS-Developer] reload QGIS Server plugin
In-Reply-To: <dd68500f238c99f64924097be2707dfc@carto.net>
References: <001701d73bf5$590e88b0$0b2b9a10$@envirosolutions.pl>
 <003501d73bf9$c6ebda00$54c38e00$@envirosolutions.pl>
 <dd68500f238c99f64924097be2707dfc@carto.net>
Message-ID: <029301d73dbf$eda54c40$c8efe4c0$@envirosolutions.pl>

Hi Andreas,

 

Unfortunately your approach does not work (mine also).

Some threads of QGIS Server have not updated a plugin so that I?m receiving different responses from QGIS Server when using different sockets. 

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
 <mailto:coo at envirosolutions.pl> coo at envirosolutions.pl
 <http://www.envirosolutions.pl/szkolenia> www.envirosolutions.pl

 <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html> Pobieracz Danych GUGiK ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w 2020 r.

 

From: Andreas Neumann [mailto:a.neumann at carto.net] 
Sent: Wednesday, April 28, 2021 9:11 AM
To: michal.wloga at envirosolutions.pl
Cc: qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] reload QGIS Server plugin

 

Hi,

No - "systemctl daemon-reload" is only useful and recommended if you change something in your daemon/service configuration, which is not the case when you want to reload a QGIS server plugin.

It should be enough to reload or restart your webserver:

systemctl reload nginx

or

systemctl restart nginx

or whatever the nginx webserver daemon is called on your system.

Greetings,

Andreas

On 2021-04-28 08:43, michal.wloga at envirosolutions.pl <mailto:michal.wloga at envirosolutions.pl>  wrote:

Regarding to my question I found an answer:

The following command seems to be sufficient:

systemctl daemon-reload

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
coo at envirosolutions.pl <mailto:coo at envirosolutions.pl> 
www.envirosolutions.pl <http://www.envirosolutions.pl/szkolenia> 

 <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html> Pobieracz Danych GUGiK ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w 2020 r.

 

From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On Behalf Of michal.wloga at envirosolutions.pl <mailto:michal.wloga at envirosolutions.pl> 
Sent: Wednesday, April 28, 2021 8:12 AM
To: qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org> 
Subject: [QGIS-Developer] reload QGIS Server plugin

 

Hello,

 

I have QGIS Server installed on ubuntu 20 with nginx + sockets. Is there a way to reload a server plugin other than restarting the host?

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
coo at envirosolutions.pl <mailto:coo at envirosolutions.pl> 
www.envirosolutions.pl <http://www.envirosolutions.pl/szkolenia> 

 <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html> Pobieracz Danych GUGiK ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w 2020 r.

 

 

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org> 
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210430/bbc2f433/attachment-0001.html>

From andreas at qgis.org  Fri Apr 30 06:11:02 2021
From: andreas at qgis.org (Andreas Neumann)
Date: Fri, 30 Apr 2021 15:11:02 +0200
Subject: [QGIS-Developer] reload QGIS Server plugin
In-Reply-To: <029301d73dbf$eda54c40$c8efe4c0$@envirosolutions.pl>
References: <001701d73bf5$590e88b0$0b2b9a10$@envirosolutions.pl>
 <003501d73bf9$c6ebda00$54c38e00$@envirosolutions.pl>
 <dd68500f238c99f64924097be2707dfc@carto.net>
 <029301d73dbf$eda54c40$c8efe4c0$@envirosolutions.pl>
Message-ID: <CAB2Z92Az+xidPso67v5r1riASYuNd2m9LjYxLxCzL=QzkZcT0A@mail.gmail.com>

Hi Micha?,

Which one does not work? The "reload" or the "restart" command?

The latter should definitely work - otherwise I am really puzzled ...

Greetings,
Andreas

On Fri, 30 Apr 2021 at 14:54, <michal.wloga at envirosolutions.pl> wrote:

> Hi Andreas,
>
>
>
> Unfortunately your approach does not work (mine also).
>
> Some threads of QGIS Server have not updated a plugin so that I?m
> receiving different responses from QGIS Server when using different
> sockets.
>
>
>
> Regards,
>
> EnviroSolutions Sp. z o. o.
> Micha? W?oga
> tel: +48 607 059 157
> coo at envirosolutions.pl
> www.envirosolutions.pl <http://www.envirosolutions.pl/szkolenia>
>
> Pobieracz Danych GUGiK
> <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html>
> ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w
> 2020 r.
>
>
>
> *From:* Andreas Neumann [mailto:a.neumann at carto.net]
> *Sent:* Wednesday, April 28, 2021 9:11 AM
> *To:* michal.wloga at envirosolutions.pl
> *Cc:* qgis-developer at lists.osgeo.org
> *Subject:* Re: [QGIS-Developer] reload QGIS Server plugin
>
>
>
> Hi,
>
> No - "*systemctl daemon-reload*" is only useful and recommended if you
> change something in your daemon/service configuration, which is not the
> case when you want to reload a QGIS server plugin.
>
> It should be enough to reload or restart your webserver:
>
> systemctl reload nginx
>
> or
>
> systemctl restart nginx
>
> or whatever the nginx webserver daemon is called on your system.
>
> Greetings,
>
> Andreas
>
> On 2021-04-28 08:43, michal.wloga at envirosolutions.pl wrote:
>
> Regarding to my question I found an answer:
>
> The following command seems to be sufficient:
>
> *systemctl daemon-reload*
>
>
>
> Regards,
>
> EnviroSolutions Sp. z o. o.
> Micha? W?oga
> tel: +48 607 059 157
> coo at envirosolutions.pl
> www.envirosolutions.pl <http://www.envirosolutions.pl/szkolenia>
>
> Pobieracz Danych GUGiK
> <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html>
> ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w
> 2020 r.
>
>
>
> *From:* QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org
> <qgis-developer-bounces at lists.osgeo.org>] *On Behalf Of *
> michal.wloga at envirosolutions.pl
> *Sent:* Wednesday, April 28, 2021 8:12 AM
> *To:* qgis-developer at lists.osgeo.org
> *Subject:* [QGIS-Developer] reload QGIS Server plugin
>
>
>
> Hello,
>
>
>
> I have QGIS Server installed on ubuntu 20 with nginx + sockets. Is there a
> way to reload a server plugin other than restarting the host?
>
>
>
> Regards,
>
> EnviroSolutions Sp. z o. o.
> Micha? W?oga
> tel: +48 607 059 157
> coo at envirosolutions.pl
> www.envirosolutions.pl <http://www.envirosolutions.pl/szkolenia>
>
> Pobieracz Danych GUGiK
> <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html>
> ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w
> 2020 r.
>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 

--
Andreas Neumann
QGIS.ORG board member (treasurer)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210430/ba9662e1/attachment.html>

From michal.wloga at envirosolutions.pl  Fri Apr 30 06:31:17 2021
From: michal.wloga at envirosolutions.pl (michal.wloga at envirosolutions.pl)
Date: Fri, 30 Apr 2021 15:31:17 +0200
Subject: [QGIS-Developer] reload QGIS Server plugin
In-Reply-To: <CAB2Z92Az+xidPso67v5r1riASYuNd2m9LjYxLxCzL=QzkZcT0A@mail.gmail.com>
References: <001701d73bf5$590e88b0$0b2b9a10$@envirosolutions.pl>
 <003501d73bf9$c6ebda00$54c38e00$@envirosolutions.pl>
 <dd68500f238c99f64924097be2707dfc@carto.net>
 <029301d73dbf$eda54c40$c8efe4c0$@envirosolutions.pl>
 <CAB2Z92Az+xidPso67v5r1riASYuNd2m9LjYxLxCzL=QzkZcT0A@mail.gmail.com>
Message-ID: <02db01d73dc5$196ffbe0$4c4ff3a0$@envirosolutions.pl>

Neither. Restarting/realoading nginx does not terminate active qgis server processes. At least with my nginx configuration:

 

upstream qgis-server_backend {

    server unix:/var/run/qgis-server-1.sock;

    server unix:/var/run/qgis-server-2.sock;

    server unix:/var/run/qgis-server-3.sock;

    server unix:/var/run/qgis-server-4.sock;

}

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
 <mailto:coo at envirosolutions.pl> coo at envirosolutions.pl
 <http://www.envirosolutions.pl/szkolenia> www.envirosolutions.pl

 <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html> Pobieracz Danych GUGiK ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w 2020 r.

 

From: Andreas Neumann [mailto:andreas at qgis.org] 
Sent: Friday, April 30, 2021 3:11 PM
To: michal.wloga at envirosolutions.pl
Cc: Andreas Neumann <a.neumann at carto.net>; qgis-developer <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] reload QGIS Server plugin

 

Hi Micha?,

 

Which one does not work? The "reload" or the "restart" command?

 

The latter should definitely work - otherwise I am really puzzled ...

 

Greetings,

Andreas

 

On Fri, 30 Apr 2021 at 14:54, <michal.wloga at envirosolutions.pl <mailto:michal.wloga at envirosolutions.pl> > wrote:

Hi Andreas,

 

Unfortunately your approach does not work (mine also).

Some threads of QGIS Server have not updated a plugin so that I?m receiving different responses from QGIS Server when using different sockets. 

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
 <mailto:coo at envirosolutions.pl> coo at envirosolutions.pl
 <http://www.envirosolutions.pl/szkolenia> www.envirosolutions.pl

 <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html> Pobieracz Danych GUGiK ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w 2020 r.

 

From: Andreas Neumann [mailto:a.neumann at carto.net <mailto:a.neumann at carto.net> ] 
Sent: Wednesday, April 28, 2021 9:11 AM
To: michal.wloga at envirosolutions.pl <mailto:michal.wloga at envirosolutions.pl> 
Cc: qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org> 
Subject: Re: [QGIS-Developer] reload QGIS Server plugin

 

Hi,

No - "systemctl daemon-reload" is only useful and recommended if you change something in your daemon/service configuration, which is not the case when you want to reload a QGIS server plugin.

It should be enough to reload or restart your webserver:

systemctl reload nginx

or

systemctl restart nginx

or whatever the nginx webserver daemon is called on your system.

Greetings,

Andreas

On 2021-04-28 08:43, michal.wloga at envirosolutions.pl <mailto:michal.wloga at envirosolutions.pl>  wrote:

Regarding to my question I found an answer:

The following command seems to be sufficient:

systemctl daemon-reload

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
coo at envirosolutions.pl <mailto:coo at envirosolutions.pl> 
www.envirosolutions.pl <http://www.envirosolutions.pl/szkolenia> 

 <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html> Pobieracz Danych GUGiK ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w 2020 r.

 

From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On Behalf Of michal.wloga at envirosolutions.pl <mailto:michal.wloga at envirosolutions.pl> 
Sent: Wednesday, April 28, 2021 8:12 AM
To: qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org> 
Subject: [QGIS-Developer] reload QGIS Server plugin

 

Hello,

 

I have QGIS Server installed on ubuntu 20 with nginx + sockets. Is there a way to reload a server plugin other than restarting the host?

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
coo at envirosolutions.pl <mailto:coo at envirosolutions.pl> 
www.envirosolutions.pl <http://www.envirosolutions.pl/szkolenia> 

 <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html> Pobieracz Danych GUGiK ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w 2020 r.

 

 

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org> 
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

 

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org> 
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 


--
Andreas Neumann

QGIS.ORG <http://QGIS.ORG>  board member (treasurer)

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210430/8242ce64/attachment-0001.html>

From adenaculture at gmail.com  Fri Apr 30 06:59:39 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Fri, 30 Apr 2021 09:59:39 -0400
Subject: [QGIS-Developer] QGIS Date, Time and Time Zones
In-Reply-To: <CAB28Asiq5-+gim5Xgixm4b6Oi2g2yzpbPwg2mcf7g16qhOQUSw@mail.gmail.com>
References: <CABPxTTovjyiXEL0A1YWKkwRawzLoG54kzeCh0ObhBfH=j8Ueuw@mail.gmail.com>
 <CAB28Asiq5-+gim5Xgixm4b6Oi2g2yzpbPwg2mcf7g16qhOQUSw@mail.gmail.com>
Message-ID: <CABPxTToOyWw2bkf5iJT+0wmPNo+8gLJn-Y1Py17XvP5hDU5D6Q@mail.gmail.com>

Nyall,

I have not submitted a QEP before. What is the process to do that? Also I
wonder if it would be possible to work with the GPKG developers to provide
better timezone support there as well.

Do you know what vector formats support timezones properly?

Thanks,

Calvin

On Thu, Apr 29, 2021 at 6:31 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Fri, 30 Apr 2021 at 04:10, C Hamilton <adenaculture at gmail.com> wrote:
> >
> > Last year there was a discussion on date, time, and timezones in QGIS.
> Back then the discussion was that QGIS uses the QDateTime object which
> supports timezones, but QGIS does not expose timezones anywhere. This I
> understand because time zones are the ultimate pain.
> >
> > I recently released a "Date/Time Tools" plugin (
> https://plugins.qgis.org/plugins/datetimetools/) to start providing some
> date/time/time zone conversions and support. I was thinking of providing
> additional processing algorithms that would create a QDateTime field with
> the timezone set, but the question I have is whether a vector layer were
> saved to something like a GPKG would the timezone even be preserved? It
> wouldn't be preserved with a ShapeFile. If timezones are not preserved then
> the only way to provide a date, time, timezone would be as an ISO8601
> string (2007-01-14T21:05:02Z or 2007-01-14T06:55:53-0800).
> >
> > Is there currently any work going on for time zone support in QGIS that
> I am unaware of?
>
> No, but it's **sorely** needed. We should start a QEP discussion to
> collect thoughts here.
>
> While (as Even has pointed out) GPKG has quite rudimentary time zone
> support we support other formats and databases which have full support
> for time zones (eg postgres), so there's definitely value in seeing
> first class time zone support in QGIS!
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210430/d1b6abdf/attachment.html>

From michal.wloga at envirosolutions.pl  Fri Apr 30 07:10:11 2021
From: michal.wloga at envirosolutions.pl (michal.wloga at envirosolutions.pl)
Date: Fri, 30 Apr 2021 16:10:11 +0200
Subject: [QGIS-Developer] reload QGIS Server plugin
In-Reply-To: <02db01d73dc5$196ffbe0$4c4ff3a0$@envirosolutions.pl>
References: <001701d73bf5$590e88b0$0b2b9a10$@envirosolutions.pl>
 <003501d73bf9$c6ebda00$54c38e00$@envirosolutions.pl>
 <dd68500f238c99f64924097be2707dfc@carto.net>
 <029301d73dbf$eda54c40$c8efe4c0$@envirosolutions.pl>
 <CAB2Z92Az+xidPso67v5r1riASYuNd2m9LjYxLxCzL=QzkZcT0A@mail.gmail.com>
 <02db01d73dc5$196ffbe0$4c4ff3a0$@envirosolutions.pl>
Message-ID: <02f901d73dca$8871da90$99558fb0$@envirosolutions.pl>

Dear All,
I have found a workaround. Killing all working QGIS Server processes works. Nginx will recreate new ones with refreshed resources.

>sudo pkill qgis_mapserv

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
 <mailto:coo at envirosolutions.pl> coo at envirosolutions.pl
 <http://www.envirosolutions.pl/szkolenia> www.envirosolutions.pl

 <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html> Pobieracz Danych GUGiK ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w 2020 r.

 

From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On Behalf Of michal.wloga at envirosolutions.pl
Sent: Friday, April 30, 2021 3:31 PM
To: 'Andreas Neumann' <a.neumann at carto.net>
Cc: 'qgis-developer' <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] reload QGIS Server plugin

 

Neither. Restarting/realoading nginx does not terminate active qgis server processes. At least with my nginx configuration:

 

upstream qgis-server_backend {

    server unix:/var/run/qgis-server-1.sock;

    server unix:/var/run/qgis-server-2.sock;

    server unix:/var/run/qgis-server-3.sock;

    server unix:/var/run/qgis-server-4.sock;

}

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
 <mailto:coo at envirosolutions.pl> coo at envirosolutions.pl
 <http://www.envirosolutions.pl/szkolenia> www.envirosolutions.pl

 <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html> Pobieracz Danych GUGiK ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w 2020 r.

 

From: Andreas Neumann [mailto:andreas at qgis.org] 
Sent: Friday, April 30, 2021 3:11 PM
To: michal.wloga at envirosolutions.pl <mailto:michal.wloga at envirosolutions.pl> 
Cc: Andreas Neumann <a.neumann at carto.net <mailto:a.neumann at carto.net> >; qgis-developer <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org> >
Subject: Re: [QGIS-Developer] reload QGIS Server plugin

 

Hi Micha?,

 

Which one does not work? The "reload" or the "restart" command?

 

The latter should definitely work - otherwise I am really puzzled ...

 

Greetings,

Andreas

 

On Fri, 30 Apr 2021 at 14:54, <michal.wloga at envirosolutions.pl <mailto:michal.wloga at envirosolutions.pl> > wrote:

Hi Andreas,

 

Unfortunately your approach does not work (mine also).

Some threads of QGIS Server have not updated a plugin so that I?m receiving different responses from QGIS Server when using different sockets. 

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
 <mailto:coo at envirosolutions.pl> coo at envirosolutions.pl
 <http://www.envirosolutions.pl/szkolenia> www.envirosolutions.pl

 <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html> Pobieracz Danych GUGiK ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w 2020 r.

 

From: Andreas Neumann [mailto:a.neumann at carto.net <mailto:a.neumann at carto.net> ] 
Sent: Wednesday, April 28, 2021 9:11 AM
To: michal.wloga at envirosolutions.pl <mailto:michal.wloga at envirosolutions.pl> 
Cc: qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org> 
Subject: Re: [QGIS-Developer] reload QGIS Server plugin

 

Hi,

No - "systemctl daemon-reload" is only useful and recommended if you change something in your daemon/service configuration, which is not the case when you want to reload a QGIS server plugin.

It should be enough to reload or restart your webserver:

systemctl reload nginx

or

systemctl restart nginx

or whatever the nginx webserver daemon is called on your system.

Greetings,

Andreas

On 2021-04-28 08:43, michal.wloga at envirosolutions.pl <mailto:michal.wloga at envirosolutions.pl>  wrote:

Regarding to my question I found an answer:

The following command seems to be sufficient:

systemctl daemon-reload

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
coo at envirosolutions.pl <mailto:coo at envirosolutions.pl> 
www.envirosolutions.pl <http://www.envirosolutions.pl/szkolenia> 

 <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html> Pobieracz Danych GUGiK ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w 2020 r.

 

From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On Behalf Of michal.wloga at envirosolutions.pl <mailto:michal.wloga at envirosolutions.pl> 
Sent: Wednesday, April 28, 2021 8:12 AM
To: qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org> 
Subject: [QGIS-Developer] reload QGIS Server plugin

 

Hello,

 

I have QGIS Server installed on ubuntu 20 with nginx + sockets. Is there a way to reload a server plugin other than restarting the host?

 

Regards,

EnviroSolutions Sp. z o. o.
Micha? W?oga
tel: +48 607 059 157
coo at envirosolutions.pl <mailto:coo at envirosolutions.pl> 
www.envirosolutions.pl <http://www.envirosolutions.pl/szkolenia> 

 <https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html> Pobieracz Danych GUGiK ? laureat nagrody GUGiK na najlepsze wykorzystanie danych i us?ug GUGiK w 2020 r.

 

 

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org> 
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

 

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org> 
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 


--
Andreas Neumann

QGIS.ORG <http://QGIS.ORG>  board member (treasurer)

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210430/c575c7a2/attachment-0001.html>

From a.neumann at carto.net  Fri Apr 30 07:26:29 2021
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 30 Apr 2021 16:26:29 +0200
Subject: [QGIS-Developer] reload QGIS Server plugin
In-Reply-To: <02f901d73dca$8871da90$99558fb0$@envirosolutions.pl>
References: <001701d73bf5$590e88b0$0b2b9a10$@envirosolutions.pl>
 <003501d73bf9$c6ebda00$54c38e00$@envirosolutions.pl>
 <dd68500f238c99f64924097be2707dfc@carto.net>
 <029301d73dbf$eda54c40$c8efe4c0$@envirosolutions.pl>
 <CAB2Z92Az+xidPso67v5r1riASYuNd2m9LjYxLxCzL=QzkZcT0A@mail.gmail.com>
 <02db01d73dc5$196ffbe0$4c4ff3a0$@envirosolutions.pl>
 <02f901d73dca$8871da90$99558fb0$@envirosolutions.pl>
Message-ID: <f03ceb7aff03c0e8f98a28103d5f6f64@carto.net>

No, no,  no - this is not the way to do it. You don't need to manually 
kill processes.

You need proper startup scripts to properly solve this. Did you follow 
the advice from 
https://docs.qgis.org/3.16/en/docs/server_manual/getting_started.html#nginx-http-server 
with spawn-fcgi or ?

In case of Apache FCGI is started from within the Web server, in case of 
NGINX they run independently. You need to use something like spawn-fcgi 
or fcgiwrap.

How does your complete .service file or startup script look like?

Greetings,

Andreas

On 2021-04-30 16:10, michal.wloga at envirosolutions.pl wrote:

> Dear All,
> I have found a workaround. Killing all working QGIS Server processes 
> works. Nginx will recreate new ones with refreshed resources.
> 
>> sudo pkill qgis_mapserv
> 
> Regards,
> 
> EnviroSolutions Sp. z o. o.
> Micha? W?oga
> tel: +48 607 059 157
> coo at envirosolutions.pl
> www.envirosolutions.pl [1]
> 
> Pobieracz Danych GUGiK [2] - laureat nagrody GUGiK na najlepsze 
> wykorzystanie danych i us?ug GUGiK w 2020 r.
> 
> From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On 
> Behalf Of michal.wloga at envirosolutions.pl
> Sent: Friday, April 30, 2021 3:31 PM
> To: 'Andreas Neumann' <a.neumann at carto.net>
> Cc: 'qgis-developer' <qgis-developer at lists.osgeo.org>
> Subject: Re: [QGIS-Developer] reload QGIS Server plugin
> 
> Neither. Restarting/realoading nginx does not terminate active qgis 
> server processes. At least with my nginx configuration:
> 
> upstream qgis-server_backend {
> 
> server unix:/var/run/qgis-server-1.sock;
> 
> server unix:/var/run/qgis-server-2.sock;
> 
> server unix:/var/run/qgis-server-3.sock;
> 
> server unix:/var/run/qgis-server-4.sock;
> 
> }
> 
> Regards,
> 
> EnviroSolutions Sp. z o. o.
> Micha? W?oga
> tel: +48 607 059 157
> coo at envirosolutions.pl
> www.envirosolutions.pl [1]
> 
> Pobieracz Danych GUGiK [2] - laureat nagrody GUGiK na najlepsze 
> wykorzystanie danych i us?ug GUGiK w 2020 r.
> 
> From: Andreas Neumann [mailto:andreas at qgis.org]
> Sent: Friday, April 30, 2021 3:11 PM
> To: michal.wloga at envirosolutions.pl
> Cc: Andreas Neumann <a.neumann at carto.net>; qgis-developer 
> <qgis-developer at lists.osgeo.org>
> Subject: Re: [QGIS-Developer] reload QGIS Server plugin
> 
> Hi Micha?,
> 
> Which one does not work? The "reload" or the "restart" command?
> 
> The latter should definitely work - otherwise I am really puzzled ...
> 
> Greetings,
> 
> Andreas
> 
> On Fri, 30 Apr 2021 at 14:54, <michal.wloga at envirosolutions.pl> wrote:
> 
> Hi Andreas,
> 
> Unfortunately your approach does not work (mine also).
> 
> Some threads of QGIS Server have not updated a plugin so that I'm 
> receiving different responses from QGIS Server when using different 
> sockets.
> 
> Regards,
> 
> EnviroSolutions Sp. z o. o.
> Micha? W?oga
> tel: +48 607 059 157
> coo at envirosolutions.pl
> www.envirosolutions.pl [1]
> 
> Pobieracz Danych GUGiK [2] - laureat nagrody GUGiK na najlepsze 
> wykorzystanie danych i us?ug GUGiK w 2020 r.
> 
> From: Andreas Neumann [mailto:a.neumann at carto.net]
> Sent: Wednesday, April 28, 2021 9:11 AM
> To: michal.wloga at envirosolutions.pl
> Cc: qgis-developer at lists.osgeo.org
> Subject: Re: [QGIS-Developer] reload QGIS Server plugin
> 
> Hi,
> 
> No - "_systemctl daemon-reload_" is only useful and recommended if you 
> change something in your daemon/service configuration, which is not the 
> case when you want to reload a QGIS server plugin.
> 
> It should be enough to reload or restart your webserver:
> 
> systemctl reload nginx
> 
> or
> 
> systemctl restart nginx
> 
> or whatever the nginx webserver daemon is called on your system.
> 
> Greetings,
> 
> Andreas
> 
> On 2021-04-28 08:43, michal.wloga at envirosolutions.pl wrote:
> 
> Regarding to my question I found an answer:
> 
> The following command seems to be sufficient:
> 
> _systemctl daemon-reload_
> 
> Regards,
> 
> EnviroSolutions Sp. z o. o.
> Micha? W?oga
> tel: +48 607 059 157
> coo at envirosolutions.pl
> www.envirosolutions.pl [1]
> 
> Pobieracz Danych GUGiK [2] - laureat nagrody GUGiK na najlepsze 
> wykorzystanie danych i us?ug GUGiK w 2020 r.
> 
> From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On 
> Behalf Of michal.wloga at envirosolutions.pl
> Sent: Wednesday, April 28, 2021 8:12 AM
> To: qgis-developer at lists.osgeo.org
> Subject: [QGIS-Developer] reload QGIS Server plugin
> 
> Hello,
> 
> I have QGIS Server installed on ubuntu 20 with nginx + sockets. Is 
> there a way to reload a server plugin other than restarting the host?
> 
> Regards,
> 
> EnviroSolutions Sp. z o. o.
> Micha? W?oga
> tel: +48 607 059 157
> coo at envirosolutions.pl
> www.envirosolutions.pl [1]
> 
> Pobieracz Danych GUGiK [2] - laureat nagrody GUGiK na najlepsze 
> wykorzystanie danych i us?ug GUGiK w 2020 r.
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

--

--
Andreas Neumann

QGIS.ORG [3] board member (treasurer)



Links:
------
[1] http://www.envirosolutions.pl/szkolenia
[2] 
https://www.envirosolutions.pl/news/118/129/Wtyczka-QGIS---Pobieracz-Danych-GUGiK.html
[3] http://QGIS.ORG
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210430/f331592e/attachment-0001.html>

From clemens.raffler at gmail.com  Fri Apr 30 07:54:50 2021
From: clemens.raffler at gmail.com (Clemens Raffler)
Date: Fri, 30 Apr 2021 16:54:50 +0200
Subject: [QGIS-Developer] Line Density Analysis Occurring on Gradient
 (No Pic)
Message-ID: <C51B50D8-2056-4C10-B43B-04F5DECF25C1@gmail.com>

Hi,

could you specify what you mean by the ?results are always on a gradient?? If you want, I can have a look at your screenshot - just mail it to my address.

Best regards,
Clemens



From even.rouault at spatialys.com  Fri Apr 30 08:13:18 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 30 Apr 2021 17:13:18 +0200
Subject: [QGIS-Developer] QGIS Date, Time and Time Zones
In-Reply-To: <CABPxTToOyWw2bkf5iJT+0wmPNo+8gLJn-Y1Py17XvP5hDU5D6Q@mail.gmail.com>
References: <CABPxTTovjyiXEL0A1YWKkwRawzLoG54kzeCh0ObhBfH=j8Ueuw@mail.gmail.com>
 <CAB28Asiq5-+gim5Xgixm4b6Oi2g2yzpbPwg2mcf7g16qhOQUSw@mail.gmail.com>
 <CABPxTToOyWw2bkf5iJT+0wmPNo+8gLJn-Y1Py17XvP5hDU5D6Q@mail.gmail.com>
Message-ID: <0ebc5733-b957-cf0e-b732-453fb7c753e6@spatialys.com>

| Also I wonder if it would be possible to work with the GPKG developers 
to provide better timezone support there as well.

This is more about finding how to convince the GeoPackage spec 
maintainers that it is worth adding it than a technical one. I guess 
they wouldn't want to break compatibility with the core specification, 
so a clean way forward would be to deal with that as an extension, since 
GeoPackage has a mechanism to indicate that a given file uses extensions.

The gpkg_extensions table (https://www.geopackage.org/spec/#_extensions) 
could for example have one record to declare each (layer, field) that 
uses an extended date-time format

|table_name = |||{name_of_table_using_an_extented_datetime_column}
||

||column_name = {name_of_column_using_extended_datetime}||

||extension_name = ogr_extented_datetime (if the OGC SWG would accept to 
officialize it as a registered extension, that would become 
gpkg_extended_datetime)
||

||definition = ||||||https://gdal.org/geopackage_extended_datetime.html 
(or URL to updated GeoPackage spec if officialized)
||||

||||scope = read-write||||

What would be to decide is if the extension consists in relaxing the 
constraints of the existing DATETIME data type (to accept any time zone, 
or lack of time zone), or adding a new DATETIME_EXTENDED data type.


> Do you know what vector formats support timezones properly?

For general purpose formats: FlatGeobuf, GML, GeoJSON (well there's no 
datetime data type in JSON, so this is by guessing that a string looks 
like a ISO8601 formatted datetime...), CSV (same remark as GeoJSON)


-- 
http://www.spatialys.com
My software is free, but my time generally not.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210430/1ce908cf/attachment.html>

From benjamin.jakimow at geo.hu-berlin.de  Tue Apr 20 01:33:38 2021
From: benjamin.jakimow at geo.hu-berlin.de (Benjamin Jakimow)
Date: Tue, 20 Apr 2021 08:33:38 -0000
Subject: [QGIS-Developer] Color / stylesheet problems with qgis.qch
Message-ID: <3ed9b18ef2ff5b64fe6d030b67618994@geo.hu-berlin.de>

Dear all,

I like to use the Qt Assistant to read and search the QGIS API 
documentation fast.
After the last update of the qgis.qch 
(https://qgis.org/api/3.16/qgis.qch), several parts in of the *.qch are 
shown with a dark background, that somehow does not harmonize with the 
remaining parts any more (see screenshot).

I could not find similar effects for other *.qch file, e.g. the regular 
qtgui.qch.

Do you have any idea how I can turn the dark backgrounds back into the 
white color that is used for the other parts?

Best regards,
Benjamin

-- 
--
Benjamin Jakimow, Doctoral Researcher
Earth Observation Lab | Geography Department | Humboldt-Universit?t zu 
Berlin

e-mail: benjamin.jakimow at geo.hu-berlin.de

phone:  +49 (0) 30 2093 6894
mobile: +49 (0) 157 5656 8477
fax:    +49 (0) 30 2093 6848
mail:   Unter den Linden 6 | 10099 Berlin | Germany
room: 2'222
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210420/83818225/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 6a54abb9.png
Type: image/png
Size: 172970 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210420/83818225/attachment-0001.png>

From eboni-westbury at outlook.com  Thu Apr 29 20:08:39 2021
From: eboni-westbury at outlook.com (Eboni Westbury)
Date: Fri, 30 Apr 2021 03:08:39 -0000
Subject: [QGIS-Developer] Line Density Analysis Occurring on Gradient
Message-ID: <MWHPR03MB3214AF0832F3124718A7FB10975E9@MWHPR03MB3214.namprd03.prod.outlook.com>

Hi there,

I need to run the Line Density Analysis; however, the results I receive are always on a gradient. All of my files are saved to the same directory, and all layers are georeferenced with the same co-ordinates. Would anyone be able to assist in rectifying this?

Thanks,
Eboni Westbury

[cid:image002.png at 01D73DC1.ED6D1350]



Eboni L Westbury
PhD Candidate, u5568035
Department of Archaeology and Natural History
School of Culture, History and Language
ANU College of Asia and the Pacific
Coombs Building #9, Room 4.210
The Australian National University
Canberra, ACT, 2600,
u5568035 at anu.edu.au
CRICOS Provider: 00120C | ABN: 52 234 063 906
Secretary: Canberra Archaeological Society
https://www.canberraarchaeologicalsociety.com.au/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210430/b75fab80/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 88F67D85E0EA45528F31739DB55D99CF.png
Type: image/png
Size: 228635 bytes
Desc: 88F67D85E0EA45528F31739DB55D99CF.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210430/b75fab80/attachment-0001.png>

