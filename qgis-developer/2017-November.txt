From apasotti at gmail.com  Wed Nov  1 01:30:10 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 1 Nov 2017 09:30:10 +0100
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <94cfd4b75480438eb5553bb308179147@NINSRV23.nina.no>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <2265263.hyrc3P0sfh@debian>
 <CAAi8Yg-JgVJXOEjtZDAiNRVdQ3Zq2RwOA2FOPmcBVLDqUnGB=w@mail.gmail.com>
 <1533146.oF6xj6KlLr@debian>
 <CAAi8Yg_2Y_cug5w6+U0mCrLih4B7RG6RA8UQ-XBP7P09M1+njA@mail.gmail.com>
 <94cfd4b75480438eb5553bb308179147@NINSRV23.nina.no>
Message-ID: <CAL5Q672S+TjT6MFx7B5GSDOTOZ3n0Fg_1eynhnu2_ytspd=o6A@mail.gmail.com>

Stefan, you may try to use global settings for shared user settings, you
can specify the global settings file path in several ways (and it could
even be a shared network folder).

See:
https://github.com/qgis/QGIS/blob/master/src/app/main.cpp#L131
and:
https://github.com/qgis/QGIS/blob/master/src/app/main.cpp#L831

the global settings format is exactly the same of the user settings file:
INI.

Hope this helps.



On Tue, Oct 31, 2017 at 11:19 PM, Stefan Blumentrath <
Stefan.Blumentrath at nina.no> wrote:

> Dear all,
>
>
>
> I am really looking forward to seeing all QGIS configuration in ini-files
> and that registry will be abandoned on Windows in QGIS 3!
>
> That will be a great improvement, esp. from a sys-admin perspective!
>
>
>
> In this consolidation context I was wondering I would be possible to
> prepare for:
>
> -          Use of relative path (https://issues.qgis.org/issues/12623)
>
> -          Usage of variables in the ini file
>
>
>
> I have been earlier thinking about “versioning” of ini files, so that
> updates (e.g. changes in OWS URLs) can be passed to all users as a sort of
> “diff/merge” without damaging individual adjustments they might have made.
>
> Background is that the Norwegian mapping authority provides a “Service
> feed” (https://register.geonorge.no/register/tjenestevarsler) where all
> OWS changes are announced… I would love to be able to just apply those
> changes to all our users…
>
>
>
> No idea if such a thing could be fostered by the way settings are stored
> in the ini files?
>
>
>
> Cheers
>
> Stefan
>
>
>
> *From:* QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] *On
> Behalf Of *Nathan Woodrow
> *Sent:* mandag 30. oktober 2017 15.27
> *To:* Borys Jurgiel <lists at borysjurgiel.pl>
> *Cc:* Richard Duivenvoorde <richard at duif.net>;
> qgis-developer at lists.osgeo.org
> *Subject:* Re: [QGIS-Developer] Settings migration from QGIS 2 to 3
>
>
>
> Ah right.  I'm happy with whatever there.
>
>
>
> On Tue, Oct 31, 2017 at 12:25 AM, Borys Jurgiel <lists at borysjurgiel.pl>
> wrote:
>
> Dnia wtorek, 31 października 2017 00:19:49 Nathan Woodrow pisze:
> > Hey,
> >
> > > There are over 100 keys there, are we going to migrate them all from
> >
> > Windows
> > to windows, like we did with Qgis -> qgis?
> >
> > No I don't think we need to do anything for those subgroups, dropping the
> > Windows placement between version isn't a big deal.  The main core things
> > to migrate is stuff that is a pain to setup again.
>
> Sorry I was unclear. I didn't mean migrating the values, just changing the
> section for all these keys.
>
> Regards,
> Borys
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171101/d34697bf/attachment.html>

From Stefan.Blumentrath at nina.no  Wed Nov  1 01:50:44 2017
From: Stefan.Blumentrath at nina.no (Stefan Blumentrath)
Date: Wed, 1 Nov 2017 08:50:44 +0000
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <CAL5Q672S+TjT6MFx7B5GSDOTOZ3n0Fg_1eynhnu2_ytspd=o6A@mail.gmail.com>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <2265263.hyrc3P0sfh@debian>
 <CAAi8Yg-JgVJXOEjtZDAiNRVdQ3Zq2RwOA2FOPmcBVLDqUnGB=w@mail.gmail.com>
 <1533146.oF6xj6KlLr@debian>
 <CAAi8Yg_2Y_cug5w6+U0mCrLih4B7RG6RA8UQ-XBP7P09M1+njA@mail.gmail.com>
 <94cfd4b75480438eb5553bb308179147@NINSRV23.nina.no>
 <CAL5Q672S+TjT6MFx7B5GSDOTOZ3n0Fg_1eynhnu2_ytspd=o6A@mail.gmail.com>
Message-ID: <0c79fe099e12460592b0ab6c3c5198e2@NINSRV23.nina.no>

Thanks so much Alessandro!

Having read some documentation:
https://connect.boundlessgeo.com/docs/desktop/1.1.0/system_admins/globalsettings.html
I am sure that this will be a cool new feature in QGIS 3 that will be very much appreciated by organisations!!!

Thanks again for the hint!

Cheers
Stefan

From: Alessandro Pasotti [mailto:apasotti at gmail.com]
Sent: onsdag 1. november 2017 09.30
To: Stefan Blumentrath <Stefan.Blumentrath at nina.no>
Cc: Nathan Woodrow <madmanwoo at gmail.com>; Borys Jurgiel <lists at borysjurgiel.pl>; Richard Duivenvoorde <richard at duif.net>; qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] Settings migration from QGIS 2 to 3


Stefan, you may try to use global settings for shared user settings, you can specify the global settings file path in several ways (and it could even be a shared network folder).
See:
https://github.com/qgis/QGIS/blob/master/src/app/main.cpp#L131
and:
https://github.com/qgis/QGIS/blob/master/src/app/main.cpp#L831
the global settings format is exactly the same of the user settings file: INI.
Hope this helps.


On Tue, Oct 31, 2017 at 11:19 PM, Stefan Blumentrath <Stefan.Blumentrath at nina.no<mailto:Stefan.Blumentrath at nina.no>> wrote:
Dear all,

I am really looking forward to seeing all QGIS configuration in ini-files and that registry will be abandoned on Windows in QGIS 3!
That will be a great improvement, esp. from a sys-admin perspective!

In this consolidation context I was wondering I would be possible to prepare for:

-          Use of relative path (https://issues.qgis.org/issues/12623)

-          Usage of variables in the ini file

I have been earlier thinking about “versioning” of ini files, so that updates (e.g. changes in OWS URLs) can be passed to all users as a sort of “diff/merge” without damaging individual adjustments they might have made.
Background is that the Norwegian mapping authority provides a “Service feed” (https://register.geonorge.no/register/tjenestevarsler) where all OWS changes are announced… I would love to be able to just apply those changes to all our users…

No idea if such a thing could be fostered by the way settings are stored in the ini files?

Cheers
Stefan

From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org<mailto:qgis-developer-bounces at lists.osgeo.org>] On Behalf Of Nathan Woodrow
Sent: mandag 30. oktober 2017 15.27
To: Borys Jurgiel <lists at borysjurgiel.pl<mailto:lists at borysjurgiel.pl>>
Cc: Richard Duivenvoorde <richard at duif.net<mailto:richard at duif.net>>; qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] Settings migration from QGIS 2 to 3

Ah right.  I'm happy with whatever there.

On Tue, Oct 31, 2017 at 12:25 AM, Borys Jurgiel <lists at borysjurgiel.pl<mailto:lists at borysjurgiel.pl>> wrote:
Dnia wtorek, 31 października 2017 00:19:49 Nathan Woodrow pisze:
> Hey,
>
> > There are over 100 keys there, are we going to migrate them all from
>
> Windows
> to windows, like we did with Qgis -> qgis?
>
> No I don't think we need to do anything for those subgroups, dropping the
> Windows placement between version isn't a big deal.  The main core things
> to migrate is stuff that is a pain to setup again.

Sorry I was unclear. I didn't mean migrating the values, just changing the
section for all these keys.

Regards,
Borys


_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



--
Alessandro Pasotti
w3:   www.itopen.it<http://www.itopen.it>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171101/d63ff60a/attachment-0001.html>

From vincent.ml at oslandia.com  Wed Nov  1 03:37:46 2017
From: vincent.ml at oslandia.com (Vincent Picavet (ml))
Date: Wed, 1 Nov 2017 11:37:46 +0100
Subject: [QGIS-Developer] QGIS Meeting #20 : 21-25 February 2018, Madeira
In-Reply-To: <F0E71A54-822C-4D0F-B96C-E17DBDCE9421@qgis.org>
References: <F0E71A54-822C-4D0F-B96C-E17DBDCE9421@qgis.org>
Message-ID: <26f76dd0-3641-d167-4169-92d336db964b@oslandia.com>

Hello,

Thanks for organizing this community meeting !

I would like to stress a few points.

First, would it be possible to publish the details of the program as
soon as possible ? 21th to 25th of February means 5 full days. It is not
possible for most developers to attend this whole period. In order to be
able to anticipate for plane tickets and all, having the program would
allow to focus on the most adapted days for each of us.

Second, I think we should be more careful on the dates for the community
meetings. It is the third time in a row that QGIS developer meeting
takes place during school holidays ( in France and other European
countries at least).
I know that finding dates for such a (big) event is very difficult, and
depends on a lot of external parameters. Holidays especially can be
different for different countries. But a quick check may be useful to
allow for more people to come without them having to cancel holidays
with their families.
Note that this was particularly true for the event organized on May 1st,
which is a mandatory day off in most countries in the world.

In the same spirit, please have the codesprint where you want developers
to attend on week days and not during the weekend. QGIS developers are
paid professionals, and working on weekend is an exception which should
be reduced to the minimum.

This points are probably worth discussing, and I hope we will have this
opportunity in Madeira.

Greetings,
Vincent





On 29/10/2017 23:08, Tim Sutton wrote:
> Hi All
> 
> We have a confirmed venue for the next QGIS get together - it is in
> Madeira from the 20-25 February 2018. If you plan on attending please
> head over to the wiki page and register your intention to be there:
> 
> https://github.com/qgis/QGIS/wiki/DeveloperMeetingMadeira2018
> 
> Please also note that this time we are going to try to be a little more
> organised for helping newcomers, so I have added sections to the wiki
> page for ‘Mentor streams’ - I have nominally added 4 streams but if you
> would like to host more please add a new section to the wiki page. If
> you are interested in attending one of the streams, please add your name
> to the appropriate section.
> 
> Lene will no doubt provide you with more details (via the wiki)  as we
> get closer to the event as will Duarte and Sara (our local organisers in
> Madeira).
> 
> Another important thing to note is that the cost of attending will be
> higher than usual given the more removed location and that we do not
> have very cheap accommodation available. If you intend on requesting
> travel assistance for the event, please fill out our new form
> <https://goo.gl/forms/YKm5fo7ll5GfQEJI3> as soon as possible. Also be
> aware that funds are limited so we may not be able to cover everyone’s
> costs or all costs completely - applications will be taken on merit with
> priority given to active contributors to the QGIS project.
> 
> Looking forward to seeing you all in Madeira!
> 
> Regards
> 
> 
> 
>  
> 
> 
> 
> ---
> 
> *Tim Sutton*
> QGIS Project Steering Committee Chair
> tim at qgis.org <mailto:tim at qgis.org>
> 
> 
> 
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From r.nijssen at terglobo.nl  Wed Nov  1 04:07:50 2017
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Wed, 1 Nov 2017 12:07:50 +0100
Subject: [QGIS-Developer] QGIS Meeting #20 : 20-25 February 2018, Madeira
In-Reply-To: <F0E71A54-822C-4D0F-B96C-E17DBDCE9421@qgis.org>
References: <F0E71A54-822C-4D0F-B96C-E17DBDCE9421@qgis.org>
Message-ID: <6fe01b24-3dc2-72a9-2f22-26cc0d7cb43c@terglobo.nl>

Just found out that booking a one week tourist holiday to Madeira is 
cheaper than booking rooms and flights seperately. And for me it also 
resulted in having a direct charter flight.

Hope to see you soon,
Raymond



On 29-10-17 23:08, Tim Sutton wrote:
> Hi All
> 
> We have a confirmed venue for the next QGIS get together - it is in 
> Madeira from the 20-25 February 2018. If you plan on attending please 
> head over to the wiki page and register your intention to be there:
> 
> https://github.com/qgis/QGIS/wiki/DeveloperMeetingMadeira2018
> 
> Please also note that this time we are going to try to be a little more 
> organised for helping newcomers, so I have added sections to the wiki 
> page for ‘Mentor streams’ - I have nominally added 4 streams but if you 
> would like to host more please add a new section to the wiki page. If 
> you are interested in attending one of the streams, please add your name 
> to the appropriate section.
> 
> Lene will no doubt provide you with more details (via the wiki)  as we 
> get closer to the event as will Duarte and Sara (our local organisers in 
> Madeira).
> 
> Another important thing to note is that the cost of attending will be 
> higher than usual given the more removed location and that we do not 
> have very cheap accommodation available. If you intend on requesting 
> travel assistance for the event, please fill out our new form 
> <https://goo.gl/forms/YKm5fo7ll5GfQEJI3> as soon as possible. Also be 
> aware that funds are limited so we may not be able to cover everyone’s 
> costs or all costs completely - applications will be taken on merit with 
> priority given to active contributors to the QGIS project.
> 
> Looking forward to seeing you all in Madeira!
> 
> Regards
> 
> 
> 
> 
> 
> 
> ---
> 
> *Tim Sutton*
> QGIS Project Steering Committee Chair
> tim at qgis.org <mailto:tim at qgis.org>
> 
> 
> 
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 



From jef at norbit.de  Wed Nov  1 05:52:16 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed, 1 Nov 2017 13:52:16 +0100
Subject: [QGIS-Developer] QGIS Meeting #20 : 21-25 February 2018, Madeira
In-Reply-To: <26f76dd0-3641-d167-4169-92d336db964b@oslandia.com>
References: <F0E71A54-822C-4D0F-B96C-E17DBDCE9421@qgis.org>
 <26f76dd0-3641-d167-4169-92d336db964b@oslandia.com>
Message-ID: <20171101125216.fvdkcqlwyvovxj44@norbit.de>

Hi Vincent,

On Wed, 01. Nov 2017 at 11:37:46 +0100, Vincent Picavet (ml) wrote:
> Note that this was particularly true for the event organized on May 1st,
> which is a mandatory day off in most countries in the world.

Not sure if that was in Essen.  If it was it probably was the very reason to
put it there.  The Linux hotel offer the weeks when there are holidays off
(like reunion day in germany in october) at a cheaper rates.


> In the same spirit, please have the codesprint where you want developers to
> attend on week days and not during the weekend.

Or right the opposite.  Keep having it on weekends as it interferes with our
day jobs the least.



Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171101/705cc8e2/attachment.sig>

From tim at kartoza.com  Wed Nov  1 11:47:33 2017
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 1 Nov 2017 20:47:33 +0200
Subject: [QGIS-Developer] QGIS Meeting #20 : 21-25 February 2018, Madeira
In-Reply-To: <26f76dd0-3641-d167-4169-92d336db964b@oslandia.com>
References: <F0E71A54-822C-4D0F-B96C-E17DBDCE9421@qgis.org>
 <26f76dd0-3641-d167-4169-92d336db964b@oslandia.com>
Message-ID: <EFEBCF40-B8E6-4F4A-8ADF-82B976AC9E90@kartoza.com>

Hi Vincent

Thanks for your comments. Inline replies below:

> On 01 Nov 2017, at 12:37, Vincent Picavet (ml) <vincent.ml at oslandia.com> wrote:
> 
> Hello,
> 
> Thanks for organizing this community meeting !
> 
> I would like to stress a few points.
> 
> First, would it be possible to publish the details of the program as
> soon as possible ? 21th to 25th of February means 5 full days. It is not
> possible for most developers to attend this whole period. In order to be
> able to anticipate for plane tickets and all, having the program would
> allow to focus on the most adapted days for each of us.

This will be a hackfest not a conference so I would think we follow tradition and keep formal programming to a minimum and rather provide a shared space and time that we can be in the same venue and timezone to collaborate and work together. So from that perspective it will probably be good if you identify those people that you are hoping to collaborate during the event and try to coordinate that the times overlap.

I think having one afternoon or morning could be set aside for scheduled time limited presentations (please start a section in the wiki if you are interested in presenting something) and then we should expect the rest of the time to be fairly ad-hoc.

We have a longer than usual 5 days because some people expressed interest in maximising the longer than usual travel distances. I expect the ‘core’ time when most participants are there will be the 22, 23 and 24 with people arriving and leaving on the 21st and 25.


> 
> Second, I think we should be more careful on the dates for the community
> meetings. It is the third time in a row that QGIS developer meeting
> takes place during school holidays ( in France and other European
> countries at least).
> I know that finding dates for such a (big) event is very difficult, and
> depends on a lot of external parameters. Holidays especially can be
> different for different countries. But a quick check may be useful to
> allow for more people to come without them having to cancel holidays
> with their families.

Yes you are right there are a lot of other considerations - in particular the availability of the venue and accommodation is the main driver (which is generally donated). In fact this makes holidays more optimal often because we can access university facilities or other venues that might otherwise be occupied in non-holiday times. 

> Note that this was particularly true for the event organized on May 1st,
> which is a mandatory day off in most countries in the world.
> 
> In the same spirit, please have the codesprint where you want developers
> to attend on week days and not during the weekend. QGIS developers are
> paid professionals, and working on weekend is an exception which should
> be reduced to the minimum.
> 
> This points are probably worth discussing, and I hope we will have this
> opportunity in Madeira.

Sure we can discuss it in Madeira. I don’t think it is an easy problem to solve with so many objectives.

Regards

> 
> Greetings,
> Vincent
> 
> 
> 
> 
> 
> On 29/10/2017 23:08, Tim Sutton wrote:
>> Hi All
>> 
>> We have a confirmed venue for the next QGIS get together - it is in
>> Madeira from the 20-25 February 2018. If you plan on attending please
>> head over to the wiki page and register your intention to be there:
>> 
>> https://github.com/qgis/QGIS/wiki/DeveloperMeetingMadeira2018
>> 
>> Please also note that this time we are going to try to be a little more
>> organised for helping newcomers, so I have added sections to the wiki
>> page for ‘Mentor streams’ - I have nominally added 4 streams but if you
>> would like to host more please add a new section to the wiki page. If
>> you are interested in attending one of the streams, please add your name
>> to the appropriate section.
>> 
>> Lene will no doubt provide you with more details (via the wiki)  as we
>> get closer to the event as will Duarte and Sara (our local organisers in
>> Madeira).
>> 
>> Another important thing to note is that the cost of attending will be
>> higher than usual given the more removed location and that we do not
>> have very cheap accommodation available. If you intend on requesting
>> travel assistance for the event, please fill out our new form
>> <https://goo.gl/forms/YKm5fo7ll5GfQEJI3 <https://goo.gl/forms/YKm5fo7ll5GfQEJI3>> as soon as possible. Also be
>> aware that funds are limited so we may not be able to cover everyone’s
>> costs or all costs completely - applications will be taken on merit with
>> priority given to active contributors to the QGIS project.
>> 
>> Looking forward to seeing you all in Madeira!
>> 
>> Regards
>> 
>> 
>> 
>>  
>> 
>> 
>> 
>> ---
>> 
>> *Tim Sutton*
>> QGIS Project Steering Committee Chair
>> tim at qgis.org <mailto:tim at qgis.org> <mailto:tim at qgis.org <mailto:tim at qgis.org>>
>> 
>> 
>> 
>> 
>> 
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171101/4fc874da/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171101/4fc874da/attachment-0001.jpg>

From adenaculture at gmail.com  Wed Nov  1 12:22:13 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 1 Nov 2017 15:22:13 -0400
Subject: [QGIS-Developer] Proper way to create polygons in PyQGIS
Message-ID: <CABPxTTrTWRM9qT7T-JBGHcNF52emY2A=YEWOaXoyOuFWutQMpg@mail.gmail.com>

It has come to my attention that a few of the plugins that create memory
layer polygons do not work correctly with the Geoprocessing Tools such as
Difference. Two examples include the "New Memory Layer" plugin (which is
being replaced by core) and my own Shape Tools plugin. I'm sure that others
out there have the same problem. What happens is that when you create the
polygons with these tools and you run the Geoprocessing algorithms such as
the Difference operator, you get features back that do not contain the
proper output polygons.

My question is how do I create these polygons to be valid to the new
Geoprocessing algorithms? Currently I do the following:

polygonLayer = QgsVectorLayer("Polygon?crs=epsg:4326", "Layer Name", "memory
")
ppolygon = polygonLayer.dataProvider()
...
featureout = QgsFeature()

featureout.setGeometry(QgsGeometry.fromPolygon([pts]))

# pts is an array of QgsPoints of the polygon vertices
ppolygon.addFeatures([featureout])
...
polygonLayer.updateExtents()
QgsMapLayerRegistry.instance().addMapLayer(polygonLayer)

What needs to be different? One of my concerns is that the geoprocessing
algorithms takes the data, executes, fails to generate proper results, and
doesn't give the user any warning that the results may be wrong. I sure
hope this is only a memory layer issue and not also an issue with loading
data from files or databases.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171101/a6bd17f0/attachment.html>

From matthias at opengis.ch  Wed Nov  1 12:39:46 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 1 Nov 2017 20:39:46 +0100
Subject: [QGIS-Developer] Proper way to create polygons in PyQGIS
In-Reply-To: <CABPxTTrTWRM9qT7T-JBGHcNF52emY2A=YEWOaXoyOuFWutQMpg@mail.gmail.com>
References: <CABPxTTrTWRM9qT7T-JBGHcNF52emY2A=YEWOaXoyOuFWutQMpg@mail.gmail.com>
Message-ID: <29398314-086b-e180-eb9c-3db22f320da1@opengis.ch>

Hi Hamilton,

It might be just me missing some context, in this case sorry.

What exactly does go wrong?

Would it be possible for you to generate some minimal, self-contained
python code that shows the issue? Like generating one or two memory
layers, plus an additional layer if required, invoke processing.runalg
and provide expected and real results?

This can then be integrated into our test-suite, so we can fix things
and avoid this in the future.

Thanks
Matthias


On 11/01/2017 08:22 PM, C Hamilton wrote:
> It has come to my attention that a few of the plugins that create
> memory layer polygons do not work correctly with the Geoprocessing
> Tools such as Difference. Two examples include the "New Memory Layer"
> plugin (which is being replaced by core) and my own Shape Tools
> plugin. I'm sure that others out there have the same problem. What
> happens is that when you create the polygons with these tools and you
> run the Geoprocessing algorithms such as the Difference operator, you
> get features back that do not contain the proper output polygons.
>
> My question is how do I create these polygons to be valid to the new
> Geoprocessing algorithms? Currently I do the following:
>
> polygonLayer = QgsVectorLayer("Polygon?crs=epsg:4326", "Layer Name",
> "memory")
>
> ppolygon = polygonLayer.dataProvider()
> ...
> featureout = QgsFeature()
>
> featureout.setGeometry(QgsGeometry.fromPolygon([pts]))
>
> # pts is an array of QgsPoints of the polygon vertices
>
>
> ppolygon.addFeatures([featureout])
> ...
> polygonLayer.updateExtents()
> QgsMapLayerRegistry.instance().addMapLayer(polygonLayer)
>
> What needs to be different? One of my concerns is that the
> geoprocessing algorithms takes the data, executes, fails to generate
> proper results, and doesn't give the user any warning that the results
> may be wrong. I sure hope this is only a memory layer issue and not
> also an issue with loading data from files or databases.
>
> Thanks,
>
> Calvin
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171101/dc3ca3ec/attachment.html>

From adenaculture at gmail.com  Wed Nov  1 13:15:18 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 1 Nov 2017 16:15:18 -0400
Subject: [QGIS-Developer] Proper way to create polygons in PyQGIS
In-Reply-To: <29398314-086b-e180-eb9c-3db22f320da1@opengis.ch>
References: <CABPxTTrTWRM9qT7T-JBGHcNF52emY2A=YEWOaXoyOuFWutQMpg@mail.gmail.com>
 <29398314-086b-e180-eb9c-3db22f320da1@opengis.ch>
Message-ID: <CABPxTTp8g17XCjCD-AwTaayVmqFZkjvbqBiF+iFGWRPxYQGrnw@mail.gmail.com>

I put in a ticket a while back. Here it is:

https://issues.qgis.org/issues/16524#change-83842

The problem does not happen with the "New Temporary Scratch Layer". It only
occurs with other 3rd party plugins with memory layers. You can easily
reproduce it by either using using the "New Memory Layer" plugin and create
two layers with polygons that overlap then do a geoprocessing difference or
by using the Shape Tools plugin "Create Shapes" to create a polygon. Create
two polygon layers where the polygons overlap and then run difference. I
could probably write a script that does this to show it off if you want, if
this is not sufficient.

Thanks,

Calvin

On Wed, Nov 1, 2017 at 3:39 PM, Matthias Kuhn <matthias at opengis.ch> wrote:

> Hi Hamilton,
>
> It might be just me missing some context, in this case sorry.
>
> What exactly does go wrong?
>
> Would it be possible for you to generate some minimal, self-contained
> python code that shows the issue? Like generating one or two memory layers,
> plus an additional layer if required, invoke processing.runalg and provide
> expected and real results?
>
> This can then be integrated into our test-suite, so we can fix things and
> avoid this in the future.
>
> Thanks
> Matthias
>
> On 11/01/2017 08:22 PM, C Hamilton wrote:
>
> It has come to my attention that a few of the plugins that create memory
> layer polygons do not work correctly with the Geoprocessing Tools such as
> Difference. Two examples include the "New Memory Layer" plugin (which is
> being replaced by core) and my own Shape Tools plugin. I'm sure that others
> out there have the same problem. What happens is that when you create the
> polygons with these tools and you run the Geoprocessing algorithms such as
> the Difference operator, you get features back that do not contain the
> proper output polygons.
>
> My question is how do I create these polygons to be valid to the new
> Geoprocessing algorithms? Currently I do the following:
>
> polygonLayer = QgsVectorLayer("Polygon?crs=epsg:4326", "Layer Name", "
> memory")
> ppolygon = polygonLayer.dataProvider()
> ...
> featureout = QgsFeature()
>
> featureout.setGeometry(QgsGeometry.fromPolygon([pts]))
>
> # pts is an array of QgsPoints of the polygon vertices
>
> ppolygon.addFeatures([featureout])
> ...
> polygonLayer.updateExtents()
> QgsMapLayerRegistry.instance().addMapLayer(polygonLayer)
>
> What needs to be different? One of my concerns is that the geoprocessing
> algorithms takes the data, executes, fails to generate proper results, and
> doesn't give the user any warning that the results may be wrong. I sure
> hope this is only a memory layer issue and not also an issue with loading
> data from files or databases.
>
> Thanks,
>
> Calvin
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171101/d0daa327/attachment-0001.html>

From nyall.dawson at gmail.com  Wed Nov  1 14:03:16 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 2 Nov 2017 07:03:16 +1000
Subject: [QGIS-Developer] Where can I find the Z-values?
In-Reply-To: <800A1C4B99390947B3BAA86C02CBDB2615A12330@S000014.PROD.SITAD.DK>
References: <800A1C4B99390947B3BAA86C02CBDB2615A0EFD6@S000014.PROD.SITAD.DK>
 <CANxjxapx=mw4nJnNMa_P2TcMiEuPLk7nbD4Jb3AFPG3xJTWiwQ@mail.gmail.com>
 <800A1C4B99390947B3BAA86C02CBDB2615A1226B@S000014.PROD.SITAD.DK>
 <800A1C4B99390947B3BAA86C02CBDB2615A12288@S000014.PROD.SITAD.DK>
 <CANxjxapaH91tGBRKCbHL1e6LcRcq3cnLcgYAnWGkhhKeM70gRw@mail.gmail.com>
 <800A1C4B99390947B3BAA86C02CBDB2615A122D7@S000014.PROD.SITAD.DK>
 <CANxjxao1EUoRhwZOYv_wL3_ff+i8+-aCeo9XRkYigMX+7hZDEQ@mail.gmail.com>
 <800A1C4B99390947B3BAA86C02CBDB2615A12330@S000014.PROD.SITAD.DK>
Message-ID: <CAB28AsiJCbVBTVqXncg3NZwXbpB8U2iChYeaWu0WGvyjbaztaA@mail.gmail.com>

On 31 October 2017 at 20:10, Casper Børgesen <caboe at sdfe.dk> wrote:

> I now see that it is format (driver?) dependent. I was looking at a file
> geodatabase but exporting it to SHAPE then I can see the “Closest vertex Z”
> under  derived.

This sounds odd to me - either the layer in QGIS has a Z value, or it
doesn't. Exporting to another format should not be adding z values
which QGIS could not read in other circumstances.

What do you get if you run:

[f.geometry().wkbType() for f in iface.activeLayer().getFeatures()][0]

in the Python console after selecting your geodatabase layer?

Nyall

From caboe at sdfe.dk  Thu Nov  2 00:24:01 2017
From: caboe at sdfe.dk (=?utf-8?B?Q2FzcGVyIELDuHJnZXNlbg==?=)
Date: Thu, 2 Nov 2017 07:24:01 +0000
Subject: [QGIS-Developer] Where can I find the Z-values?
In-Reply-To: <CAB28AsiJCbVBTVqXncg3NZwXbpB8U2iChYeaWu0WGvyjbaztaA@mail.gmail.com>
References: <800A1C4B99390947B3BAA86C02CBDB2615A0EFD6@S000014.PROD.SITAD.DK>
 <CANxjxapx=mw4nJnNMa_P2TcMiEuPLk7nbD4Jb3AFPG3xJTWiwQ@mail.gmail.com>
 <800A1C4B99390947B3BAA86C02CBDB2615A1226B@S000014.PROD.SITAD.DK>
 <800A1C4B99390947B3BAA86C02CBDB2615A12288@S000014.PROD.SITAD.DK>
 <CANxjxapaH91tGBRKCbHL1e6LcRcq3cnLcgYAnWGkhhKeM70gRw@mail.gmail.com>
 <800A1C4B99390947B3BAA86C02CBDB2615A122D7@S000014.PROD.SITAD.DK>
 <CANxjxao1EUoRhwZOYv_wL3_ff+i8+-aCeo9XRkYigMX+7hZDEQ@mail.gmail.com>
 <800A1C4B99390947B3BAA86C02CBDB2615A12330@S000014.PROD.SITAD.DK>
 <CAB28AsiJCbVBTVqXncg3NZwXbpB8U2iChYeaWu0WGvyjbaztaA@mail.gmail.com>
Message-ID: <800A1C4B99390947B3BAA86C02CBDB2615A14F26@S000014.PROD.SITAD.DK>

Hi Nyall

I have one of several features in an ESRI FileGDB:

MultiLineStringZ ((706969.83589982986450195 6203593.05810022354125977 46.92369999999937136, 706955.03999996185302734 6203604.32000017166137695 47.05999999999767169, 706951.05999994277954102 6203607.34000015258789062 47.05000000000291038, 706949.42999982833862305 6203608.59999990463256836 47.03999999999359716, 706934.7797999382019043 6203619.71430015563964844 46.66000000000349246))

Running your python snippet gives the following result on the FileGDB: -2147483643

Identify results on the FileGDB:
    (Derived): (clicked coordinate X), (clicked coordinate Y), Length, Part number, Parts, Feature id

Exporting the layer to SHAPE (in QGIS):

Running your python snippet gives the following result on the SHAPE: -2147483646

Identify results on the SHAPE:
    (Derived): (clicked coordinate X), (clicked coordinate Y), Closest vertex X, Closest vertex Y, Closest vertex Z, Closest vertex number, Length, Vertices, feature id, firstX, firstY, lastX, lastY 

So quite a difference between two (identical I hope) data sets.

The above is made in QGIS 2.18.14 x64, Windows 10.

Regards, Casper

-----Original Message-----
From: Nyall Dawson [mailto:nyall.dawson at gmail.com] 
Sent: 1. november 2017 22:03
To: Casper Børgesen <caboe at sdfe.dk>
Cc: Salvatore Larosa <lrssvtml at gmail.com>; qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] Where can I find the Z-values?

On 31 October 2017 at 20:10, Casper Børgesen <caboe at sdfe.dk> wrote:

> I now see that it is format (driver?) dependent. I was looking at a file
> geodatabase but exporting it to SHAPE then I can see the “Closest vertex Z”
> under  derived.

This sounds odd to me - either the layer in QGIS has a Z value, or it
doesn't. Exporting to another format should not be adding z values
which QGIS could not read in other circumstances.

What do you get if you run:

[f.geometry().wkbType() for f in iface.activeLayer().getFeatures()][0]

in the Python console after selecting your geodatabase layer?

Nyall

From tom.chadwin at nnpa.org.uk  Thu Nov  2 04:15:30 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Thu, 2 Nov 2017 04:15:30 -0700 (MST)
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
	QGIS 3.0
In-Reply-To: <CABgOYCdRuphf9QEwuhGyX0ZyMUHAtAFKJ7L75y8TpCNzJVsG_Q@mail.gmail.com>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
 <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
 <83aa7988d693b0688f71f67cd6b08aaa@carto.net>
 <CABgOYCdRuphf9QEwuhGyX0ZyMUHAtAFKJ7L75y8TpCNzJVsG_Q@mail.gmail.com>
Message-ID: <1509621330010-0.post@n6.nabble.com>

If feature freeze is definitely now in effect, is the API frozen? In other
words, can we plugin devs who have been holding off converting until the API
changes are complete now start work?

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From a.neumann at carto.net  Thu Nov  2 04:26:21 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 02 Nov 2017 12:26:21 +0100
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
 QGIS 3.0
In-Reply-To: <1509621330010-0.post@n6.nabble.com>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
 <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
 <83aa7988d693b0688f71f67cd6b08aaa@carto.net>
 <CABgOYCdRuphf9QEwuhGyX0ZyMUHAtAFKJ7L75y8TpCNzJVsG_Q@mail.gmail.com>
 <1509621330010-0.post@n6.nabble.com>
Message-ID: <ea09235707d62a35c33f11782185a7c5@carto.net>

yes, API is frozen now unless some major issue arises that really needs
a change. 

Andreas 

On 2017-11-02 12:15, Tom Chadwin wrote:

> If feature freeze is definitely now in effect, is the API frozen? In other
> words, can we plugin devs who have been holding off converting until the API
> changes are complete now start work?
> 
> Thanks
> 
> Tom
> 
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/8c0276d1/attachment.html>

From tom.chadwin at nnpa.org.uk  Thu Nov  2 04:58:37 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Thu, 2 Nov 2017 04:58:37 -0700 (MST)
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
	QGIS 3.0
In-Reply-To: <ea09235707d62a35c33f11782185a7c5@carto.net>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
 <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
 <83aa7988d693b0688f71f67cd6b08aaa@carto.net>
 <CABgOYCdRuphf9QEwuhGyX0ZyMUHAtAFKJ7L75y8TpCNzJVsG_Q@mail.gmail.com>
 <1509621330010-0.post@n6.nabble.com>
 <ea09235707d62a35c33f11782185a7c5@carto.net>
Message-ID: <1509623917313-0.post@n6.nabble.com>

Thanks, Andreas. It might be worth a PSC member or core dev just posting that
to this list: "plugin devs, go!"

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From madmanwoo at gmail.com  Thu Nov  2 05:00:40 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Thu, 02 Nov 2017 12:00:40 +0000
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
 QGIS 3.0
In-Reply-To: <1509623917313-0.post@n6.nabble.com>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
 <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
 <83aa7988d693b0688f71f67cd6b08aaa@carto.net>
 <CABgOYCdRuphf9QEwuhGyX0ZyMUHAtAFKJ7L75y8TpCNzJVsG_Q@mail.gmail.com>
 <1509621330010-0.post@n6.nabble.com>
 <ea09235707d62a35c33f11782185a7c5@carto.net>
 <1509623917313-0.post@n6.nabble.com>
Message-ID: <CAAi8Yg_ES+fpVi+agELQMgFiPZzw5eVn3u-tOSGF=kicN1hWxw@mail.gmail.com>

Before we make this call I think we need to strongly consider Nyalls layout
work. I has major impacts if we have to hold onto the old code for all of
3.0.

On Thu., 2 Nov. 2017, 9:58 pm Tom Chadwin, <tom.chadwin at nnpa.org.uk> wrote:

> Thanks, Andreas. It might be worth a PSC member or core dev just posting
> that
> to this list: "plugin devs, go!"
>
> Thanks
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from:
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/6848aeef/attachment.html>

From a.neumann at carto.net  Thu Nov  2 05:08:53 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 02 Nov 2017 13:08:53 +0100
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
 QGIS 3.0
In-Reply-To: <CAAi8Yg_ES+fpVi+agELQMgFiPZzw5eVn3u-tOSGF=kicN1hWxw@mail.gmail.com>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
 <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
 <83aa7988d693b0688f71f67cd6b08aaa@carto.net>
 <CABgOYCdRuphf9QEwuhGyX0ZyMUHAtAFKJ7L75y8TpCNzJVsG_Q@mail.gmail.com>
 <1509621330010-0.post@n6.nabble.com>
 <ea09235707d62a35c33f11782185a7c5@carto.net>
 <1509623917313-0.post@n6.nabble.com>
 <CAAi8Yg_ES+fpVi+agELQMgFiPZzw5eVn3u-tOSGF=kicN1hWxw@mail.gmail.com>
Message-ID: <24c273cf78130562b6bbb7844fd15335@carto.net>

Dear PSC and core devs, 

There is this ongoing discussion whether we could grant an exception to
the feature freeze for Nyalls code around layouts (composer replacement)
in QGIS 3. 

@PSC: can we please have a quick decision on this issue? 

@core-devs: since this is also a technical decision with technical
impacts could you core devs please speak up with your opinion if you
would like to make an exception for Nyalls layout code, so that it can
land in QGIS 3.0 

@Nyall: can you estimate when your API-relevant changes would be stable
enough to be merged into master? 

Personally, I trust Nyall, that if he thinks this could be mature enough
to land in master within the next couple of days (say e.g. mid
November), that I would agree to this exception. 

@Tim: do you think that we need a Loomio vote for this? If yes, can you
set one up? 

Thanks for your replies (PSC and core devs), 

Andreas 

On 2017-11-02 13:00, Nathan Woodrow wrote:

> Before we make this call I think we need to strongly consider Nyalls layout work. I has major impacts if we have to hold onto the old code for all of 3.0. 
> 
> On Thu., 2 Nov. 2017, 9:58 pm Tom Chadwin, <tom.chadwin at nnpa.org.uk> wrote: 
> 
>> Thanks, Andreas. It might be worth a PSC member or core dev just posting that
>> to this list: "plugin devs, go!"
>> 
>> Thanks
>> 
>> Tom
>> 
>> -----
>> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>> --
>> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/ace06e41/attachment-0001.html>

From tim at kartoza.com  Thu Nov  2 05:56:15 2017
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 2 Nov 2017 14:56:15 +0200
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
 QGIS 3.0
In-Reply-To: <24c273cf78130562b6bbb7844fd15335@carto.net>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
 <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
 <83aa7988d693b0688f71f67cd6b08aaa@carto.net>
 <CABgOYCdRuphf9QEwuhGyX0ZyMUHAtAFKJ7L75y8TpCNzJVsG_Q@mail.gmail.com>
 <1509621330010-0.post@n6.nabble.com>
 <ea09235707d62a35c33f11782185a7c5@carto.net>
 <1509623917313-0.post@n6.nabble.com>
 <CAAi8Yg_ES+fpVi+agELQMgFiPZzw5eVn3u-tOSGF=kicN1hWxw@mail.gmail.com>
 <24c273cf78130562b6bbb7844fd15335@carto.net>
Message-ID: <3AC1FD72-A03C-4713-8DAE-FA4237D7F177@kartoza.com>

Hi

> On 02 Nov 2017, at 14:08, Andreas Neumann <a.neumann at carto.net> wrote:
> 
> Dear PSC and core devs,
> 
> There is this ongoing discussion whether we could grant an exception to the feature freeze for Nyalls code around layouts (composer replacement) in QGIS 3.
> 
> @PSC: can we please have a quick decision on this issue?
> 
> 

Lets defer first to Jürgen as release manager on this.
> @core-devs: since this is also a technical decision with technical impacts could you core devs please speak up with your opinion if you would like to make an exception for Nyalls layout code, so that it can land in QGIS 3.0
> 
> 

My5c: Shipping without the composer python API for QGIS 3.0 is going to pretty disappointing for any authors who rely on it to do printing with their plugins.
> @Nyall: can you estimate when your API-relevant changes would be stable enough to be merged into master?
> 
> Personally, I trust Nyall, that if he thinks this could be mature enough to land in master within the next couple of days (say e.g. mid November), that I would agree to this exception.
> 
> @Tim: do you think that we need a Loomio vote for this? If yes, can you set one up?
> 
> 
> 
Yes I can set one up but lets first ask Jürgen to comment / say whether he has (other than the position he has already stated) any technical reasons why its not viable to do this?

Regards

Tim


> Thanks for your replies (PSC and core devs),
> 
> Andreas
> 
> On 2017-11-02 13:00, Nathan Woodrow wrote:
> 
>> Before we make this call I think we need to strongly consider Nyalls layout work. I has major impacts if we have to hold onto the old code for all of 3.0.
>> 
>> 
>> On Thu., 2 Nov. 2017, 9:58 pm Tom Chadwin, <tom.chadwin at nnpa.org.uk <mailto:tom.chadwin at nnpa.org.uk>> wrote:
>> Thanks, Andreas. It might be worth a PSC member or core dev just posting that
>> to this list: "plugin devs, go!"
>> 
>> Thanks
>> 
>> Tom
>> 
>> 
>> 
>> -----
>> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>> --
>> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html <http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/fc02b135/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/fc02b135/attachment-0001.jpg>

From bernhard.stroebl at jena.de  Thu Nov  2 06:05:09 2017
From: bernhard.stroebl at jena.de (=?UTF-8?Q?Bernhard_Str=c3=b6bl?=)
Date: Thu, 2 Nov 2017 14:05:09 +0100
Subject: [QGIS-Developer] Authentication seems broken in master
Message-ID: <4ac9e267-0556-ca0b-6082-5840446c8e71@jena.de>

Hi all,

I cannot convince freshly compiled current master 1ffc3fd to save an 
authentication database.
Furthermore the Python access to QgsAuthManager via 
QgsAuthManager.instance() seems broken, too:
"type object 'QgsAuthManager' has no attribute 'instance'"

Both already worked in a former version (compiled about 2 weeks ago)

any hints?
shall I file tickets?

regards
Bernhard


__________ Information from ESET Mail Security, version of virus signature database 16343 (20171102) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From a.neumann at carto.net  Thu Nov  2 06:19:13 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 02 Nov 2017 14:19:13 +0100
Subject: [QGIS-Developer] Authentication seems broken in master
In-Reply-To: <4ac9e267-0556-ca0b-6082-5840446c8e71@jena.de>
References: <4ac9e267-0556-ca0b-6082-5840446c8e71@jena.de>
Message-ID: <532a43628bc3cb1b38c4326afba3d7fd@carto.net>

Same for me. Very annoying. 

Bernhard please file a ticket and assign it to Alessandro or Luigi. 

Thanks, 

Andreas 

On 2017-11-02 14:05, Bernhard Ströbl wrote:

> Hi all,
> 
> I cannot convince freshly compiled current master 1ffc3fd to save an authentication database.
> Furthermore the Python access to QgsAuthManager via QgsAuthManager.instance() seems broken, too:
> "type object 'QgsAuthManager' has no attribute 'instance'"
> 
> Both already worked in a former version (compiled about 2 weeks ago)
> 
> any hints?
> shall I file tickets?
> 
> regards
> Bernhard
> 
> __________ Information from ESET Mail Security, version of virus signature database 16343 (20171102) __________
> 
> The message was checked by ESET Mail Security.
> http://www.eset.com
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/199999d3/attachment.html>

From apasotti at gmail.com  Thu Nov  2 06:38:17 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 2 Nov 2017 14:38:17 +0100
Subject: [QGIS-Developer] Authentication seems broken in master
In-Reply-To: <532a43628bc3cb1b38c4326afba3d7fd@carto.net>
References: <4ac9e267-0556-ca0b-6082-5840446c8e71@jena.de>
 <532a43628bc3cb1b38c4326afba3d7fd@carto.net>
Message-ID: <CAL5Q6735XuHxtA+hXLwPsXHZ85Bj+PF7f1reQ43dzn390GR2mA@mail.gmail.com>

On Thu, Nov 2, 2017 at 2:19 PM, Andreas Neumann <a.neumann at carto.net> wrote:

> Same for me. Very annoying.
>
> Bernhard please file a ticket and assign it to Alessandro or Luigi.
>
> Thanks,
>


> Andreas
>

Hi,
the API has changed and the singleton has been removed.

Auth manager instance is now accessible through the QgsApplication as
QgsApplication.authManager()

Please file a ticket for filling the API break document that the lazy coder
forgot to do (blame on him!).

btw, the lazy coder did not forget to fill the API break document for the
`get` removal, see

https://qgis.org/api/api_break.html#qgis_api_break_3_0_QgsAuthManager


On 2017-11-02 14:05, Bernhard Ströbl wrote:

Hi all,

I cannot convince freshly compiled current master 1ffc3fd to save an
authentication database.
Furthermore the Python access to QgsAuthManager via
QgsAuthManager.instance() seems broken, too:
"type object 'QgsAuthManager' has no attribute 'instance'"

Both already worked in a former version (compiled about 2 weeks ago)

any hints?
shall I file tickets?

regards
Bernhard


__________ Information from ESET Mail Security, version
of virus signature database 16343 (20171102) __________

The message was checked by ESET Mail Security.
http://www.eset.com


_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/b08cea37/attachment.html>

From bernhard.stroebl at jena.de  Thu Nov  2 06:41:22 2017
From: bernhard.stroebl at jena.de (=?UTF-8?Q?Bernhard_Str=c3=b6bl?=)
Date: Thu, 2 Nov 2017 14:41:22 +0100
Subject: [QGIS-Developer] Authentication seems broken in master
In-Reply-To: <532a43628bc3cb1b38c4326afba3d7fd@carto.net>
References: <4ac9e267-0556-ca0b-6082-5840446c8e71@jena.de>
 <532a43628bc3cb1b38c4326afba3d7fd@carto.net>
Message-ID: <8601677b-19e5-7da7-0d74-beaf8b348eb8@jena.de>

Hi Andreas,
thanks for your feedback.
Ticket filed.
Bernhard

Am 02.11.2017 um 14:19 schrieb Andreas Neumann:
> Same for me. Very annoying.
>
> Bernhard please file a ticket and assign it to Alessandro or Luigi.
>
> Thanks,
>
> Andreas
>
> On 2017-11-02 14:05, Bernhard Ströbl wrote:
>
>> Hi all,
>>
>> I cannot convince freshly compiled current master 1ffc3fd to save an
>> authentication database.
>> Furthermore the Python access to QgsAuthManager via
>> QgsAuthManager.instance() seems broken, too:
>> "type object 'QgsAuthManager' has no attribute 'instance'"
>>
>> Both already worked in a former version (compiled about 2 weeks ago)
>>
>> any hints?
>> shall I file tickets?
>>
>> regards
>> Bernhard
>>


__________ Information from ESET Mail Security, version of virus signature database 16344 (20171102) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From a.neumann at carto.net  Thu Nov  2 06:54:37 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 02 Nov 2017 14:54:37 +0100
Subject: [QGIS-Developer] Authentication seems broken in master
In-Reply-To: <CAL5Q6735XuHxtA+hXLwPsXHZ85Bj+PF7f1reQ43dzn390GR2mA@mail.gmail.com>
References: <4ac9e267-0556-ca0b-6082-5840446c8e71@jena.de>
 <532a43628bc3cb1b38c4326afba3d7fd@carto.net>
 <CAL5Q6735XuHxtA+hXLwPsXHZ85Bj+PF7f1reQ43dzn390GR2mA@mail.gmail.com>
Message-ID: <0bf7b02c2c155a34cb4dd589cfeaf046@carto.net>

Hi Alessandro, 

Thank you for your reply. 

I don't know what I need to do to fix the auth-db issues. I keep getting
tons of error messages like  

Auth DB query exec failed() 

for existing connections. 

This is for access through the GUI, not through Python. 

Also, when I try to create a new auth config entry, it doesn't know my
master password anymore and can't create a new one. Pretty broken
currently. 

Does this mean that my auth-db is corrupt and that I need to remove it
and create a new one? 

Thanks for your reply, 

Andreas 

On 2017-11-02 14:38, Alessandro Pasotti wrote:

> On Thu, Nov 2, 2017 at 2:19 PM, Andreas Neumann <a.neumann at carto.net> wrote:
> 
>> Same for me. Very annoying. 
>> 
>> Bernhard please file a ticket and assign it to Alessandro or Luigi. 
>> 
>> Thanks,
> 
>> Andreas
> 
> Hi, 
> the API has changed and the singleton has been removed. 
> 
> Auth manager instance is now accessible through the QgsApplication as QgsApplication.authManager() 
> 
> Please file a ticket for filling the API break document that the lazy coder forgot to do (blame on him!). 
> 
> btw, the lazy coder did not forget to fill the API break document for the `get` removal, see 
> 
> https://qgis.org/api/api_break.html#qgis_api_break_3_0_QgsAuthManager 
> 
> On 2017-11-02 14:05, Bernhard Ströbl wrote:
> 
>> Hi all,
>> 
>> I cannot convince freshly compiled current master 1ffc3fd to save an authentication database.
>> Furthermore the Python access to QgsAuthManager via QgsAuthManager.instance() seems broken, too:
>> "type object 'QgsAuthManager' has no attribute 'instance'"
>> 
>> Both already worked in a former version (compiled about 2 weeks ago)
>> 
>> any hints?
>> shall I file tickets?
>> 
>> regards
>> Bernhard
>> 
>> __________ Information from ESET Mail Security, version of virus signature database 16343 (20171102) __________
>> 
>> The message was checked by ESET Mail Security.
>> http://www.eset.com
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
> 
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it [2]

 

Links:
------
[1] https://lists.osgeo.org/mailman/listinfo/qgis-developer
[2] http://www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/25930277/attachment-0001.html>

From apasotti at gmail.com  Thu Nov  2 07:04:54 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 2 Nov 2017 15:04:54 +0100
Subject: [QGIS-Developer] Authentication seems broken in master
In-Reply-To: <0bf7b02c2c155a34cb4dd589cfeaf046@carto.net>
References: <4ac9e267-0556-ca0b-6082-5840446c8e71@jena.de>
 <532a43628bc3cb1b38c4326afba3d7fd@carto.net>
 <CAL5Q6735XuHxtA+hXLwPsXHZ85Bj+PF7f1reQ43dzn390GR2mA@mail.gmail.com>
 <0bf7b02c2c155a34cb4dd589cfeaf046@carto.net>
Message-ID: <CAL5Q670CbWXU5qM8o=yDdWBfzOiMXT4WPtGx+dUCvej7crfXrg@mail.gmail.com>

On Thu, Nov 2, 2017 at 2:54 PM, Andreas Neumann <a.neumann at carto.net> wrote:

> Hi Alessandro,
>
> Thank you for your reply.
>
> I don't know what I need to do to fix the auth-db issues. I keep getting
> tons of error messages like
>
> Auth DB query exec failed()
>
> for existing connections.
>
> This is for access through the GUI, not through Python.
>
> Also, when I try to create a new auth config entry, it doesn't know my
> master password anymore and can't create a new one. Pretty broken currently.
>
> Does this mean that my auth-db is corrupt and that I need to remove it and
> create a new one?
>


I've honestly no idea: it is not broken for me, I'm using the auth manager
right now on master with no issues and the authmanager tests are all green
(and there are quite a few).

I suggest you to file a bug report with some more details that can help to
reproduce the issue.

Thanks!


Thanks for your reply,
>
> Andreas
>
> On 2017-11-02 14:38, Alessandro Pasotti wrote:
>
>
> On Thu, Nov 2, 2017 at 2:19 PM, Andreas Neumann <a.neumann at carto.net>
> wrote:
>
>> Same for me. Very annoying.
>>
>> Bernhard please file a ticket and assign it to Alessandro or Luigi.
>>
>> Thanks,
>>
>
>
>> Andreas
>>
>
> Hi,
> the API has changed and the singleton has been removed.
>
> Auth manager instance is now accessible through the QgsApplication as
> QgsApplication.authManager()
>
> Please file a ticket for filling the API break document that the lazy
> coder forgot to do (blame on him!).
>
> btw, the lazy coder did not forget to fill the API break document for the
> `get` removal, see
>
> https://qgis.org/api/api_break.html#qgis_api_break_3_0_QgsAuthManager
>
>
> On 2017-11-02 14:05, Bernhard Ströbl wrote:
>
> Hi all,
>
> I cannot convince freshly compiled current master 1ffc3fd to save an
> authentication database.
> Furthermore the Python access to QgsAuthManager via
> QgsAuthManager.instance() seems broken, too:
> "type object 'QgsAuthManager' has no attribute 'instance'"
>
> Both already worked in a former version (compiled about 2 weeks ago)
>
> any hints?
> shall I file tickets?
>
> regards
> Bernhard
>
>
> __________ Information from ESET Mail Security, version of
> virus signature database 16343 (20171102) __________
>
> The message was checked by ESET Mail Security.
> http://www.eset.com
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
>
>


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/26e1cc34/attachment.html>

From a.neumann at carto.net  Thu Nov  2 07:18:17 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 02 Nov 2017 15:18:17 +0100
Subject: [QGIS-Developer] Authentication seems broken in master
In-Reply-To: <CAL5Q670CbWXU5qM8o=yDdWBfzOiMXT4WPtGx+dUCvej7crfXrg@mail.gmail.com>
References: <4ac9e267-0556-ca0b-6082-5840446c8e71@jena.de>
 <532a43628bc3cb1b38c4326afba3d7fd@carto.net>
 <CAL5Q6735XuHxtA+hXLwPsXHZ85Bj+PF7f1reQ43dzn390GR2mA@mail.gmail.com>
 <0bf7b02c2c155a34cb4dd589cfeaf046@carto.net>
 <CAL5Q670CbWXU5qM8o=yDdWBfzOiMXT4WPtGx+dUCvej7crfXrg@mail.gmail.com>
Message-ID: <5ae6b93dd040710637a5b76fa51cf6ee@carto.net>

Hi Alessandro, 

Already at the start of QGIS I get two times the error message: 

WARNING: Auth db query exec() FAILED 

WARNING: Auth db query exec() FAILED 

This happens during startup of QGIS without any user interaction. 

I had a look at the permissions of $HOME/.qgis3/qgis-auth.db - and they
seem fine to me. 

Perhaps, if I/we can fix this, the other subsequent error message go
away as well? 

Thanks, 

Andreas 

On 2017-11-02 15:04, Alessandro Pasotti wrote:

> On Thu, Nov 2, 2017 at 2:54 PM, Andreas Neumann <a.neumann at carto.net> wrote:
> 
>> Hi Alessandro, 
>> 
>> Thank you for your reply. 
>> 
>> I don't know what I need to do to fix the auth-db issues. I keep getting tons of error messages like  
>> 
>> Auth DB query exec failed() 
>> 
>> for existing connections. 
>> 
>> This is for access through the GUI, not through Python. 
>> 
>> Also, when I try to create a new auth config entry, it doesn't know my master password anymore and can't create a new one. Pretty broken currently. 
>> 
>> Does this mean that my auth-db is corrupt and that I need to remove it and create a new one?
> 
> I've honestly no idea: it is not broken for me, I'm using the auth manager right now on master with no issues and the authmanager tests are all green (and there are quite a few). 
> 
> I suggest you to file a bug report with some more details that can help to reproduce the issue. 
> 
> Thanks! 
> 
> Thanks for your reply, 
> 
> Andreas
> 
> On 2017-11-02 14:38, Alessandro Pasotti wrote: 
> 
> On Thu, Nov 2, 2017 at 2:19 PM, Andreas Neumann <a.neumann at carto.net> wrote:
> 
> Same for me. Very annoying. 
> 
> Bernhard please file a ticket and assign it to Alessandro or Luigi. 
> 
> Thanks, 
> 
> Andreas 
> 
> Hi, 
> the API has changed and the singleton has been removed. 
> 
> Auth manager instance is now accessible through the QgsApplication as QgsApplication.authManager() 
> 
> Please file a ticket for filling the API break document that the lazy coder forgot to do (blame on him!). 
> 
> btw, the lazy coder did not forget to fill the API break document for the `get` removal, see 
> 
> https://qgis.org/api/api_break.html#qgis_api_break_3_0_QgsAuthManager [1] 
> 
> On 2017-11-02 14:05, Bernhard Ströbl wrote: 
> Hi all,
> 
> I cannot convince freshly compiled current master 1ffc3fd to save an authentication database.
> Furthermore the Python access to QgsAuthManager via QgsAuthManager.instance() seems broken, too:
> "type object 'QgsAuthManager' has no attribute 'instance'"
> 
> Both already worked in a former version (compiled about 2 weeks ago)
> 
> any hints?
> shall I file tickets?
> 
> regards
> Bernhard
> 
> __________ Information from ESET Mail Security, version of virus signature database 16343 (20171102) __________
> 
> The message was checked by ESET Mail Security.
> http://www.eset.com
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2] 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2] 
> 
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it [3]

-- 
Alessandro Pasotti
w3:   www.itopen.it [3] 

 

Links:
------
[1]
https://qgis.org/api/api_break.html#qgis_api_break_3_0_QgsAuthManager
[2] https://lists.osgeo.org/mailman/listinfo/qgis-developer
[3] http://www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/7cc7f838/attachment.html>

From apasotti at gmail.com  Thu Nov  2 07:22:19 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 2 Nov 2017 15:22:19 +0100
Subject: [QGIS-Developer] Authentication seems broken in master
In-Reply-To: <5ae6b93dd040710637a5b76fa51cf6ee@carto.net>
References: <4ac9e267-0556-ca0b-6082-5840446c8e71@jena.de>
 <532a43628bc3cb1b38c4326afba3d7fd@carto.net>
 <CAL5Q6735XuHxtA+hXLwPsXHZ85Bj+PF7f1reQ43dzn390GR2mA@mail.gmail.com>
 <0bf7b02c2c155a34cb4dd589cfeaf046@carto.net>
 <CAL5Q670CbWXU5qM8o=yDdWBfzOiMXT4WPtGx+dUCvej7crfXrg@mail.gmail.com>
 <5ae6b93dd040710637a5b76fa51cf6ee@carto.net>
Message-ID: <CAL5Q671hadfEavMdgg8shhH_7T34fMFT5rc2TW34aeOsRS+MOg@mail.gmail.com>

Andreas,

Would you mind using the hub for bug reporting?

Also, please add all possible details, as I said, I cannot reproduce this
(and I've run  literaly hundreds of manual tests on authentication lately).


Thanks


On Thu, Nov 2, 2017 at 3:18 PM, Andreas Neumann <a.neumann at carto.net> wrote:

> Hi Alessandro,
>
> Already at the start of QGIS I get two times the error message:
>
> WARNING: Auth db query exec() FAILED
>
> WARNING: Auth db query exec() FAILED
>
> This happens during startup of QGIS without any user interaction.
>
> I had a look at the permissions of $HOME/.qgis3/qgis-auth.db - and they
> seem fine to me.
>
> Perhaps, if I/we can fix this, the other subsequent error message go away
> as well?
>
> Thanks,
>
> Andreas
>
>
> On 2017-11-02 15:04, Alessandro Pasotti wrote:
>
> On Thu, Nov 2, 2017 at 2:54 PM, Andreas Neumann <a.neumann at carto.net>
> wrote:
>
>> Hi Alessandro,
>>
>> Thank you for your reply.
>>
>> I don't know what I need to do to fix the auth-db issues. I keep getting
>> tons of error messages like
>>
>> Auth DB query exec failed()
>>
>> for existing connections.
>>
>> This is for access through the GUI, not through Python.
>>
>> Also, when I try to create a new auth config entry, it doesn't know my
>> master password anymore and can't create a new one. Pretty broken currently.
>>
>> Does this mean that my auth-db is corrupt and that I need to remove it
>> and create a new one?
>>
>
>
> I've honestly no idea: it is not broken for me, I'm using the auth manager
> right now on master with no issues and the authmanager tests are all green
> (and there are quite a few).
>
> I suggest you to file a bug report with some more details that can help to
> reproduce the issue.
>
> Thanks!
>
>
>
>> Thanks for your reply,
>>
>> Andreas
>>
>> On 2017-11-02 14:38, Alessandro Pasotti wrote:
>>
>>
>> On Thu, Nov 2, 2017 at 2:19 PM, Andreas Neumann <a.neumann at carto.net>
>> wrote:
>>
>>> Same for me. Very annoying.
>>>
>>> Bernhard please file a ticket and assign it to Alessandro or Luigi.
>>>
>>> Thanks,
>>>
>>
>>
>>> Andreas
>>>
>>
>> Hi,
>> the API has changed and the singleton has been removed.
>>
>> Auth manager instance is now accessible through the QgsApplication as
>> QgsApplication.authManager()
>>
>> Please file a ticket for filling the API break document that the lazy
>> coder forgot to do (blame on him!).
>>
>> btw, the lazy coder did not forget to fill the API break document for the
>> `get` removal, see
>>
>> https://qgis.org/api/api_break.html#qgis_api_break_3_0_QgsAuthManager
>>
>>
>> On 2017-11-02 14:05, Bernhard Ströbl wrote:
>>
>> Hi all,
>>
>> I cannot convince freshly compiled current master 1ffc3fd to save an
>> authentication database.
>> Furthermore the Python access to QgsAuthManager via
>> QgsAuthManager.instance() seems broken, too:
>> "type object 'QgsAuthManager' has no attribute 'instance'"
>>
>> Both already worked in a former version (compiled about 2 weeks ago)
>>
>> any hints?
>> shall I file tickets?
>>
>> regards
>> Bernhard
>>
>>
>> __________ Information from ESET Mail Security, version of v
>> irus signature database 16343 (20171102) __________
>>
>> The message was checked by ESET Mail Security.
>> http://www.eset.com
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it
>>
>>
>>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
>
>


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/c8c40478/attachment-0001.html>

From rdmailings at duif.net  Thu Nov  2 07:23:33 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 2 Nov 2017 15:23:33 +0100
Subject: [QGIS-Developer] Authentication seems broken in master
In-Reply-To: <5ae6b93dd040710637a5b76fa51cf6ee@carto.net>
References: <4ac9e267-0556-ca0b-6082-5840446c8e71@jena.de>
 <532a43628bc3cb1b38c4326afba3d7fd@carto.net>
 <CAL5Q6735XuHxtA+hXLwPsXHZ85Bj+PF7f1reQ43dzn390GR2mA@mail.gmail.com>
 <0bf7b02c2c155a34cb4dd589cfeaf046@carto.net>
 <CAL5Q670CbWXU5qM8o=yDdWBfzOiMXT4WPtGx+dUCvej7crfXrg@mail.gmail.com>
 <5ae6b93dd040710637a5b76fa51cf6ee@carto.net>
Message-ID: <4a801db7-deb7-5370-d5d4-4fe37255c7e2@duif.net>

On 02-11-17 15:18, Andreas Neumann wrote:

> I had a look at the permissions of $HOME/.qgis3/qgis-auth.db - and they
> seem fine to me.

I think that we are not using stuff in ~/.qgis3 anymore?
All profile stuff is now in:

~/.local/share/QGIS/QGIS3/profiles/

so I think if you run default profile it is:

~/.local/share/QGIS/QGIS3/profiles/default/qgis-auth.db

that QGIS3 is looking at?

Richard

From apasotti at gmail.com  Thu Nov  2 07:27:23 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 2 Nov 2017 15:27:23 +0100
Subject: [QGIS-Developer] Authentication seems broken in master
In-Reply-To: <4a801db7-deb7-5370-d5d4-4fe37255c7e2@duif.net>
References: <4ac9e267-0556-ca0b-6082-5840446c8e71@jena.de>
 <532a43628bc3cb1b38c4326afba3d7fd@carto.net>
 <CAL5Q6735XuHxtA+hXLwPsXHZ85Bj+PF7f1reQ43dzn390GR2mA@mail.gmail.com>
 <0bf7b02c2c155a34cb4dd589cfeaf046@carto.net>
 <CAL5Q670CbWXU5qM8o=yDdWBfzOiMXT4WPtGx+dUCvej7crfXrg@mail.gmail.com>
 <5ae6b93dd040710637a5b76fa51cf6ee@carto.net>
 <4a801db7-deb7-5370-d5d4-4fe37255c7e2@duif.net>
Message-ID: <CAL5Q672xEPGGAy26=cW4EJUOZ24vKje63Pu-2CimCSEdqB-XiQ@mail.gmail.com>

On Thu, Nov 2, 2017 at 3:23 PM, Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> On 02-11-17 15:18, Andreas Neumann wrote:
>
> > I had a look at the permissions of $HOME/.qgis3/qgis-auth.db - and they
> > seem fine to me.
>
> I think that we are not using stuff in ~/.qgis3 anymore?
> All profile stuff is now in:
>
> ~/.local/share/QGIS/QGIS3/profiles/
>
> so I think if you run default profile it is:
>
> ~/.local/share/QGIS/QGIS3/profiles/default/qgis-auth.db
>
> that QGIS3 is looking at?
>


QgsApplication.authManager().authenticationDatabasePath()

Out[4]: '/home/ale/.local/share/QGIS/QGIS3/profiles/myprofile/qgis-auth.db'

the DB path honors the profiles as expected.

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/26ade3c2/attachment.html>

From bernhard.stroebl at jena.de  Thu Nov  2 07:28:01 2017
From: bernhard.stroebl at jena.de (=?UTF-8?Q?Bernhard_Str=c3=b6bl?=)
Date: Thu, 2 Nov 2017 15:28:01 +0100
Subject: [QGIS-Developer] Authentication seems broken in master
In-Reply-To: <5ae6b93dd040710637a5b76fa51cf6ee@carto.net>
References: <4ac9e267-0556-ca0b-6082-5840446c8e71@jena.de>
 <532a43628bc3cb1b38c4326afba3d7fd@carto.net>
 <CAL5Q6735XuHxtA+hXLwPsXHZ85Bj+PF7f1reQ43dzn390GR2mA@mail.gmail.com>
 <0bf7b02c2c155a34cb4dd589cfeaf046@carto.net>
 <CAL5Q670CbWXU5qM8o=yDdWBfzOiMXT4WPtGx+dUCvej7crfXrg@mail.gmail.com>
 <5ae6b93dd040710637a5b76fa51cf6ee@carto.net>
Message-ID: <48d8920a-c3cf-73ac-4c9c-aa77ad5f3639@jena.de>

Hi Andreas,
I was under the impression that the qgis-auth.db is supposed to reside 
at $HOME/.local/share/QGIS/QGIS3/profiles/default because that is where 
QGIS3 recently installed plugins (a while ago indeed it was 
$HOME/.qgis3). I just copied my qgis-auth.db from $HOME/.qgis2 to 
$HOME/.local/share/QGIS/QGIS3/profiles/default and get "Auth db query 
exec() FAILED", too, upon opening options-cAuthentication

Bernhard

Am 02.11.2017 um 15:18 schrieb Andreas Neumann:
> Hi Alessandro,
>
> Already at the start of QGIS I get two times the error message:
>
> WARNING: Auth db query exec() FAILED
>
> WARNING: Auth db query exec() FAILED
>
> This happens during startup of QGIS without any user interaction.
>
> I had a look at the permissions of $HOME/.qgis3/qgis-auth.db - and they
> seem fine to me.
>
> Perhaps, if I/we can fix this, the other subsequent error message go
> away as well?
>
> Thanks,
>
> Andreas
>
>
> On 2017-11-02 15:04, Alessandro Pasotti wrote:
>
>> On Thu, Nov 2, 2017 at 2:54 PM, Andreas Neumann <a.neumann at carto.net
>> <mailto:a.neumann at carto.net>> wrote:
>>
>>     Hi Alessandro,
>>
>>     Thank you for your reply.
>>
>>     I don't know what I need to do to fix the auth-db issues. I keep
>>     getting tons of error messages like
>>
>>     Auth DB query exec failed()
>>
>>     for existing connections.
>>
>>     This is for access through the GUI, not through Python.
>>
>>     Also, when I try to create a new auth config entry, it doesn't
>>     know my master password anymore and can't create a new one. Pretty
>>     broken currently.
>>
>>     Does this mean that my auth-db is corrupt and that I need to
>>     remove it and create a new one?
>>
>>
>>
>> I've honestly no idea: it is not broken for me, I'm using the auth
>> manager right now on master with no issues and the authmanager tests
>> are all green (and there are quite a few).
>>
>> I suggest you to file a bug report with some more details that can
>> help to reproduce the issue.
>>
>> Thanks!
>>
>>
>>
>>     Thanks for your reply,
>>
>>     Andreas
>>
>>     On 2017-11-02 14:38, Alessandro Pasotti wrote:
>>
>>
>>         On Thu, Nov 2, 2017 at 2:19 PM, Andreas Neumann
>>         <a.neumann at carto.net <mailto:a.neumann at carto.net>> wrote:
>>
>>             Same for me. Very annoying.
>>
>>             Bernhard please file a ticket and assign it to Alessandro
>>             or Luigi.
>>
>>             Thanks,
>>
>>
>>
>>             Andreas
>>
>>
>>         Hi,
>>
>>         the API has changed and the singleton has been removed.
>>
>>         Auth manager instance is now accessible through the
>>         QgsApplication as QgsApplication.authManager()
>>
>>         Please file a ticket for filling the API break document that
>>         the lazy coder forgot to do (blame on him!).
>>
>>         btw, the lazy coder did not forget to fill the API break
>>         document for the `get` removal, see
>>
>>         https://qgis.org/api/api_break.html#qgis_api_break_3_0_QgsAuthManager
>>         <https://qgis.org/api/api_break.html#qgis_api_break_3_0_QgsAuthManager>
>>
>>
>>         On 2017-11-02 14:05, Bernhard Ströbl wrote:
>>
>>             Hi all,
>>
>>             I cannot convince freshly compiled current master 1ffc3fd
>>             to save an authentication database.
>>             Furthermore the Python access to QgsAuthManager via
>>             QgsAuthManager.instance() seems broken, too:
>>             "type object 'QgsAuthManager' has no attribute 'instance'"
>>
>>             Both already worked in a former version (compiled about 2 weeks ago)
>>
>>             any hints?
>>             shall I file tickets?
>>
>>             regards
>>             Bernhard
>>
>>
>>             __________ Information from ESET Mail Security, version of virus signature database 16343 (20171102) __________
>>
>>             The message was checked by ESET Mail Security.
>>             http://www.eset.com
>>
>>
>>             _______________________________________________
>>             QGIS-Developer mailing list
>>             QGIS-Developer at lists.osgeo.org
>>             <mailto:QGIS-Developer at lists.osgeo.org>
>>             List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>             <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>             Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>             <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>
>>
>>
>>             _______________________________________________
>>             QGIS-Developer mailing list
>>             QGIS-Developer at lists.osgeo.org
>>             <mailto:QGIS-Developer at lists.osgeo.org>
>>             List info:
>>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>             <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>             Unsubscribe:
>>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>             <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>
>>
>>
>>
>>         --
>>         Alessandro Pasotti
>>         w3:   www.itopen.it <http://www.itopen.it>
>>
>>
>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it <http://www.itopen.it>
>
>
>


__________ Information from ESET Mail Security, version of virus signature database 16344 (20171102) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From a.neumann at carto.net  Thu Nov  2 07:44:56 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 02 Nov 2017 15:44:56 +0100
Subject: [QGIS-Developer] Authentication seems broken in master
In-Reply-To: <4a801db7-deb7-5370-d5d4-4fe37255c7e2@duif.net>
References: <4ac9e267-0556-ca0b-6082-5840446c8e71@jena.de>
 <532a43628bc3cb1b38c4326afba3d7fd@carto.net>
 <CAL5Q6735XuHxtA+hXLwPsXHZ85Bj+PF7f1reQ43dzn390GR2mA@mail.gmail.com>
 <0bf7b02c2c155a34cb4dd589cfeaf046@carto.net>
 <CAL5Q670CbWXU5qM8o=yDdWBfzOiMXT4WPtGx+dUCvej7crfXrg@mail.gmail.com>
 <5ae6b93dd040710637a5b76fa51cf6ee@carto.net>
 <4a801db7-deb7-5370-d5d4-4fe37255c7e2@duif.net>
Message-ID: <84f01cb674af0ff9b0f036b74623f6f3@carto.net>

Hi all, 

Yes, you are right. Sorry for my noise. I removed the old .qgis3 stuff
now. This was from older QGIS 3 tests. 

Nevertheless, the authentication issues remain and the qgis-auth.db
exists under ~/.local/share/QGIS/QGIS3/profiles/default/qgis-auth.db and
has reasonable permissions. 

Andreas 

On 2017-11-02 15:23, Richard Duivenvoorde wrote:

> On 02-11-17 15:18, Andreas Neumann wrote:
> 
>> I had a look at the permissions of $HOME/.qgis3/qgis-auth.db - and they
>> seem fine to me.
> 
> I think that we are not using stuff in ~/.qgis3 anymore?
> All profile stuff is now in:
> 
> ~/.local/share/QGIS/QGIS3/profiles/
> 
> so I think if you run default profile it is:
> 
> ~/.local/share/QGIS/QGIS3/profiles/default/qgis-auth.db
> 
> that QGIS3 is looking at?
> 
> Richard
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/674af275/attachment.html>

From lorenzetti at gis3w.it  Thu Nov  2 09:39:56 2017
From: lorenzetti at gis3w.it (Walter Lorenzetti)
Date: Thu, 2 Nov 2017 17:39:56 +0100
Subject: [QGIS-Developer] Install QGIS 2.18 LTR on Ubuntu 16.04 LTS.
Message-ID: <82631945-0d73-6eae-6a1d-1e48957347eb@gis3w.it>

Hi list,

today I try to install QGIS 2.18 on a new Ubuntu 16.04 with ubuntugis 
dependency, but I get a error on gdal dependence.

QGIS wants gdal-abi-2-2-1, but with ubuntugis I installed gdal-abi-2-1-3.

Is there a dependence brokken on http://qgis.org/ubuntugis ?

Thanks in advance.

Walter

-- 

Walter Lorenzetti phD
email: lorenzetti at gis3w.it
skype: aiki74
twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
g+:aiki74 <https://plus.google.com/117055903318462447104/>
Tel/Cell: (+39) 347-6597931
Viale Verdi 24 - 51016 Montecatini Terme (PT)
Nuovi corsi QGIS e GFOSS 
<http://gis3w.it/it/calendario-corsi-software-geografici>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/678b3095/attachment.html>

From jef at norbit.de  Thu Nov  2 10:03:31 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu, 2 Nov 2017 18:03:31 +0100
Subject: [QGIS-Developer] Install QGIS 2.18 LTR on Ubuntu 16.04 LTS.
In-Reply-To: <82631945-0d73-6eae-6a1d-1e48957347eb@gis3w.it>
References: <82631945-0d73-6eae-6a1d-1e48957347eb@gis3w.it>
Message-ID: <20171102170331.oia2bhoaamba3mjj@norbit.de>

Hi Walter,

On Thu, 02. Nov 2017 at 17:39:56 +0100, Walter Lorenzetti wrote:
> QGIS wants gdal-abi-2-2-1, but with ubuntugis I installed gdal-abi-2-1-3.

> Is there a dependence brokken on http://qgis.org/ubuntugis ?

Apparently not - ubuntugis-unstable has GDAL 2.2.1 for xenial.

https://launchpad.net/~ubuntugis/+archive/ubuntu/ubuntugis-unstable/+packages?field.name_filter=gdal&field.status_filter=published&field.series_filter=xenial



Jürgen


-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/5969439c/attachment-0001.sig>

From lorenzetti at gis3w.it  Thu Nov  2 10:42:46 2017
From: lorenzetti at gis3w.it (Walter Lorenzetti)
Date: Thu, 2 Nov 2017 18:42:46 +0100
Subject: [QGIS-Developer] Install QGIS 2.18 LTR on Ubuntu 16.04 LTS.
In-Reply-To: <20171102170331.oia2bhoaamba3mjj@norbit.de>
References: <82631945-0d73-6eae-6a1d-1e48957347eb@gis3w.it>
 <20171102170331.oia2bhoaamba3mjj@norbit.de>
Message-ID: <b5965637-000c-3666-f86c-993ad653533b@gis3w.it>

Hi Jürgen,

thanks! I'm very busy and tired... I added ubuntugis but not unstable.

Al the best.

W


Il 02/11/2017 18:03, Jürgen E. Fischer ha scritto:
> Hi Walter,
>
> On Thu, 02. Nov 2017 at 17:39:56 +0100, Walter Lorenzetti wrote:
>> QGIS wants gdal-abi-2-2-1, but with ubuntugis I installed gdal-abi-2-1-3.
>> Is there a dependence brokken on http://qgis.org/ubuntugis ?
> Apparently not - ubuntugis-unstable has GDAL 2.2.1 for xenial.
>
> https://launchpad.net/~ubuntugis/+archive/ubuntu/ubuntugis-unstable/+packages?field.name_filter=gdal&field.status_filter=published&field.series_filter=xenial
>
>
>
> Jürgen
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 

Walter Lorenzetti phD
email: lorenzetti at gis3w.it
skype: aiki74
twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
g+:aiki74 <https://plus.google.com/117055903318462447104/>
Tel/Cell: (+39) 347-6597931
Viale Verdi 24 - 51016 Montecatini Terme (PT)
Nuovi corsi QGIS e GFOSS 
<http://gis3w.it/it/calendario-corsi-software-geografici>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171102/4b4b2721/attachment.html>

From nyall.dawson at gmail.com  Thu Nov  2 13:33:11 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 3 Nov 2017 06:33:11 +1000
Subject: [QGIS-Developer] API Freeze for 3.0 (was "Feature freeze: Paid
 developer activities for QGIS 3.0")
Message-ID: <CAB28AsjWV1wKrv+2LaMvAsOCjF2_VUjgofJt-RcqJRP-i=r59w@mail.gmail.com>

On 2 November 2017 at 21:26, Andreas Neumann <a.neumann at carto.net> wrote:
> yes, API is frozen now unless some major issue arises that really needs a
> change.
>

I don't believe this is true - I haven't seen anything official, but
personally I consider API freeze to occur no sooner than final
release!

There's still many code areas which need API clean ups, and doing this
during bug fixing is a great way to identify the weak areas and
improve them. It also makes bug fixing much easier!

Since feature freeze there's been a number of api breaks, some
extremely large [1] and others just clean ups [2]. There's also open
PRs which break API (e.g. [3]).

I wouldn't suggest digging far into upgrading PyQGIS code in plugins
until much closer to release, but I would suggest upgrading the things
which won't be changing (Python 3, Qt5, PyQt5).

Nyall

[1] https://github.com/qgis/QGIS/pull/5491
[2] https://github.com/qgis/QGIS/pull/5488
[3] https://github.com/qgis/QGIS/pull/5512

From noreply at qgis.org  Thu Nov  2 23:03:00 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 03 Nov 2017 06:03:00 -0000
Subject: [QGIS-Developer] Plugin [648] Search & format EPSG CRS Plugin
	approval notification.
Message-ID: <20171103060300.23543.5714@320558c5528b>


Plugin Search & format EPSG CRS Plugin approval by zimbogisgeek.
The plugin version "[648] Search & format EPSG CRS Plugin 0.6 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/searchEpsgCRS/

From noreply at qgis.org  Thu Nov  2 23:13:02 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 03 Nov 2017 06:13:02 -0000
Subject: [QGIS-Developer] Plugin [748] Load QSS - UI themes approval
	notification.
Message-ID: <20171103061302.1466.69468@320558c5528b>


Plugin Load QSS - UI themes approval by zimbogisgeek.
The plugin version "[748] Load QSS - UI themes 1.4.2" is now approved
Link: http://plugins.qgis.org/plugins/LoadQSS/

From noreply at qgis.org  Thu Nov  2 23:22:28 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 03 Nov 2017 06:22:28 -0000
Subject: [QGIS-Developer] Plugin [1163] Plugin Load Times approval
	notification.
Message-ID: <20171103062228.1465.84255@320558c5528b>


Plugin Plugin Load Times approval by zimbogisgeek.
The plugin version "[1163] Plugin Load Times 2.0.3" is now approved
Link: http://plugins.qgis.org/plugins/PluginLoadTimes/

From rdmailings at duif.net  Fri Nov  3 00:15:24 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 3 Nov 2017 08:15:24 +0100
Subject: [QGIS-Developer] Duplicate Features
In-Reply-To: <d610bf9e-86b6-c57f-f51c-cc5ae924b17d@opengis.ch>
References: <d610bf9e-86b6-c57f-f51c-cc5ae924b17d@opengis.ch>
Message-ID: <382bd60c-7121-eeb0-05d2-261915b94f18@duif.net>

On 31-10-17 11:44, Matthias Kuhn wrote:
> Hi list,
> 
> For QGIS 3.0 we have created a new feature "duplicate features", that
> allows duplicating features with associated children whenever a relation
> is defined as "composition" (https://github.com/qgis/QGIS/pull/5448).
> 
> There is a new configuration option in place as well as core
> functionality with unit tests.
> 
> However, this code is currently nowhere triggered inside QGIS. We have
> written custom python code for a feature action to make it work for the
> client who ordered this. Still, it is unfortunate to have a
> configuration option which has no effect without writing custom python code.
> 
> We could add this code as default action, given that this is opt-in and
> the underlying code is tested by unit tests I would feel comfortable to
> bring this in at the current state and treat this as a GUI fix.
> 
> If others feel uncomfortable, please say so and we can point the users
> towards the documentation and mention the python code for the action for
> copy pasting there, or mark the configuration option as experimental.

Hi Matthias,

It's always nice to see new 'features' :-)

But this one I think needs very clear proper documentation, can you or
the dev who wrote it please write some good documentation? Because this
option is not a trivial one to understand for an average user. Otherwise
it will take document writers time to find out. Given it is paid code,
you probably also offered to write the docs as part of the job isn't it ;-)

The dialog I see in the Pull Request definitly need a help button
pointing to some Documentation page about relations (and this 'copy be
reference/value' stuff...).

I was also wondering what happens if you delete one of those duplicate(s)?
IF you also copy the related record, what happens with that record when
you delete the referencing one (the referenced one should be deleted too?)
Or how do you clean up those copies (aka how do you manage integrity?).

Working with 'duplicates' is always tricky, I've had several problems of
people wondering why they lost features in both layers, after
'duplicating' a layer, and deleting features in one of them...

Regards,

Richard Duivenvoorde


From nyall.dawson at gmail.com  Fri Nov  3 00:52:17 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 3 Nov 2017 17:52:17 +1000
Subject: [QGIS-Developer] [Qgis-psc] Feature freeze: Paid developer
 activities for QGIS 3.0
In-Reply-To: <24c273cf78130562b6bbb7844fd15335@carto.net>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
 <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
 <83aa7988d693b0688f71f67cd6b08aaa@carto.net>
 <CABgOYCdRuphf9QEwuhGyX0ZyMUHAtAFKJ7L75y8TpCNzJVsG_Q@mail.gmail.com>
 <1509621330010-0.post@n6.nabble.com>
 <ea09235707d62a35c33f11782185a7c5@carto.net>
 <1509623917313-0.post@n6.nabble.com>
 <CAAi8Yg_ES+fpVi+agELQMgFiPZzw5eVn3u-tOSGF=kicN1hWxw@mail.gmail.com>
 <24c273cf78130562b6bbb7844fd15335@carto.net>
Message-ID: <CAB28AsjTqDh629tZ72Mang32zNh908BqDcUz3BXCnw0KCRtQAw@mail.gmail.com>

On 2 November 2017 at 22:08, Andreas Neumann <a.neumann at carto.net> wrote:
> Dear PSC and core devs,
>
> There is this ongoing discussion whether we could grant an exception to the
> feature freeze for Nyalls code around layouts (composer replacement) in QGIS
> 3.

On this discussion: Can we also include the possibility of merging
(after review) of the open PRs which restore the GRASS and SAGA
processing providers? In my view these should be strong candidates for
freeze exemptions, given:

1. PRs were in place long before freeze, it was just lack of developer
time for reviews/final fixups which prevented their merge
2. These are critical functionality for QGIS, and their omission will
make 3.0 a "no-go" for many users.
3. I consider these low-risk merges. It's all python code, on which
nothing else depends. In the worst case scenario, if SAGA or GRASS
algs are buggy and unstable in 3.0, is that any worse than shipping
without them? I don't think so. (And to be brutally honest... in the
SAGA case at least, we've never had this functionality as stable in
any release).

> @PSC: can we please have a quick decision on this issue?
>
> @core-devs: since this is also a technical decision with technical impacts
> could you core devs please speak up with your opinion if you would like to
> make an exception for Nyalls layout code, so that it can land in QGIS 3.0
>
> @Nyall: can you estimate when your API-relevant changes would be stable
> enough to be merged into master?

I estimate 2 more weeks and I'd be happy to merge that PR (I have put
it aside for now to work on bug fixing).

This is a tricky one honestly. Unlike the grass/saga exemption I've
advocated for above, swapping out composer for layouts is a high-risk
change. It's 10s (100s?) of thousands of lines of new or heavily
refactored code. And while it's heavily unit tested, there's a big
chance of regressions.

But the alternatives are:

1. Ship with composer, and keep exposing composer API. We'll be stuck
with composer for the life of 2.x, and when layouts lands in 3.2 we'll
end up with duplicate buttons for "new composer"/"new layout", or some
option to switch the print backend from composer/layouts. Ouch! Not to
mention that we'll be forced to carry around and maintain thousands of
lines of old code for the next x years.

2. Ship with composer in 3.0, but remove from bindings (e.g.
https://github.com/qgis/QGIS/pull/5486). Then after thaw I can merge
layouts and drop all the composer code. Downside is no ability to
script or have composer based plugins in 3.0. Upside is layouts lands
with the new clean api in 3.2, and we can have a clean-start then.
Another upside is the additional full cycle of testing for layouts
which means that when it's available to users in 3.2 it should be
rock-solid.

That's me laying out all the options as I see them. I'm honestly happy
to abide by whatever decision the release manager/PSC makes here. I
don't envy their position in making this call (sorry!)

Nyall

From matthias at opengis.ch  Fri Nov  3 01:18:59 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 3 Nov 2017 09:18:59 +0100
Subject: [QGIS-Developer] Duplicate Features
In-Reply-To: <382bd60c-7121-eeb0-05d2-261915b94f18@duif.net>
References: <d610bf9e-86b6-c57f-f51c-cc5ae924b17d@opengis.ch>
 <382bd60c-7121-eeb0-05d2-261915b94f18@duif.net>
Message-ID: <2dd6dffc-8120-c192-20fd-785ff9a9bd1f@opengis.ch>

Hi Richard


On 11/03/2017 08:15 AM, Richard Duivenvoorde wrote:

> The dialog I see in the Pull Request definitly need a help button
> pointing to some Documentation page about relations (and this 'copy be
> reference/value' stuff...).

The dialog in the pull request is the generic action dialog, and was not
introduced in this PR.
What's introduced in this PR is the (hard to do) part of writing the
python code to trigger this action.
Something that we plan to do once this is merged is a hint from the
"relation configuration dialog"
to the "action" dialog because it's really hard to discover.

> I was also wondering what happens if you delete one of those duplicate(s)?
> IF you also copy the related record, what happens with that record when
> you delete the referencing one (the referenced one should be deleted too?)
> Or how do you clean up those copies (aka how do you manage integrity?).

This is also something that I think is very important. I really hope to
get the chance to work on this
in a (near-)future release.

Matthias

From regis.haubourg at gmail.com  Fri Nov  3 01:38:19 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Fri, 3 Nov 2017 09:38:19 +0100
Subject: [QGIS-Developer] [Qgis-psc] Feature freeze: Paid developer
 activities for QGIS 3.0
In-Reply-To: <CAB28AsjTqDh629tZ72Mang32zNh908BqDcUz3BXCnw0KCRtQAw@mail.gmail.com>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
 <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
 <83aa7988d693b0688f71f67cd6b08aaa@carto.net>
 <CABgOYCdRuphf9QEwuhGyX0ZyMUHAtAFKJ7L75y8TpCNzJVsG_Q@mail.gmail.com>
 <1509621330010-0.post@n6.nabble.com>
 <ea09235707d62a35c33f11782185a7c5@carto.net>
 <1509623917313-0.post@n6.nabble.com>
 <CAAi8Yg_ES+fpVi+agELQMgFiPZzw5eVn3u-tOSGF=kicN1hWxw@mail.gmail.com>
 <24c273cf78130562b6bbb7844fd15335@carto.net>
 <CAB28AsjTqDh629tZ72Mang32zNh908BqDcUz3BXCnw0KCRtQAw@mail.gmail.com>
Message-ID: <CABgOYCfJA8FJOnC7z3tqw9A3pNsmpZzGSEwoNidJ9Etj_ZdcuA@mail.gmail.com>

Hi all,

2017-11-03 8:52 GMT+01:00 Nyall Dawson <nyall.dawson at gmail.com>:

> On 2 November 2017 at 22:08, Andreas Neumann <a.neumann at carto.net> wrote:
> [...]
> But the alternatives are:
>
> 1. Ship with composer, and keep exposing composer API. We'll be stuck
> with composer for the life of 2.x, and when layouts lands in 3.2 we'll
> end up with duplicate buttons for "new composer"/"new layout", or some
> option to switch the print backend from composer/layouts. Ouch! Not to
> mention that we'll be forced to carry around and maintain thousands of
> lines of old code for the next x years.
>
> 2. Ship with composer in 3.0, but remove from bindings (e.g.
> https://github.com/qgis/QGIS/pull/5486). Then after thaw I can merge
> layouts and drop all the composer code. Downside is no ability to
> script or have composer based plugins in 3.0. Upside is layouts lands
> with the new clean api in 3.2, and we can have a clean-start then.
> Another upside is the additional full cycle of testing for layouts
> which means that when it's available to users in 3.2 it should be
> rock-solid.
>
> That's me laying out all the options as I see them. I'm honestly happy
> to abide by whatever decision the release manager/PSC makes here. I
> don't envy their position in making this call (sorry!)
>
>
Is there no option 3 "drop composer totally and merge layouts " ? It was
the very first need that started QGIS3 project IIRC.

On our side, we will be severely impacted for short time project if we drop
composer, but I think the mid term option with mixed composer and layout in
QGIS will cost al lot more to all of us. Users won't understand having
both, and not having python bindings to layout in 3.0 will be a no go for
deploying applications. So that would be the same as tagging 3.0 as a
release candidate version, which is not the path we chose.

Regards
Régis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171103/6c031db0/attachment-0001.html>

From nyall.dawson at gmail.com  Fri Nov  3 01:51:30 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 3 Nov 2017 18:51:30 +1000
Subject: [QGIS-Developer] [Qgis-psc] Feature freeze: Paid developer
 activities for QGIS 3.0
In-Reply-To: <CABgOYCfJA8FJOnC7z3tqw9A3pNsmpZzGSEwoNidJ9Etj_ZdcuA@mail.gmail.com>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
 <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
 <83aa7988d693b0688f71f67cd6b08aaa@carto.net>
 <CABgOYCdRuphf9QEwuhGyX0ZyMUHAtAFKJ7L75y8TpCNzJVsG_Q@mail.gmail.com>
 <1509621330010-0.post@n6.nabble.com>
 <ea09235707d62a35c33f11782185a7c5@carto.net>
 <1509623917313-0.post@n6.nabble.com>
 <CAAi8Yg_ES+fpVi+agELQMgFiPZzw5eVn3u-tOSGF=kicN1hWxw@mail.gmail.com>
 <24c273cf78130562b6bbb7844fd15335@carto.net>
 <CAB28AsjTqDh629tZ72Mang32zNh908BqDcUz3BXCnw0KCRtQAw@mail.gmail.com>
 <CABgOYCfJA8FJOnC7z3tqw9A3pNsmpZzGSEwoNidJ9Etj_ZdcuA@mail.gmail.com>
Message-ID: <CAB28Asjkffzc_eQw=QQ+ByhgvzW6R1A==QbGCubJhdkVqHfhow@mail.gmail.com>

On 3 November 2017 at 18:38, Régis Haubourg <regis.haubourg at gmail.com> wrote:
>
> Hi all,
>
> 2017-11-03 8:52 GMT+01:00 Nyall Dawson <nyall.dawson at gmail.com>:
>>
>> On 2 November 2017 at 22:08, Andreas Neumann <a.neumann at carto.net> wrote:
>> [...]
>> But the alternatives are:
>>
>> 1. Ship with composer, and keep exposing composer API. We'll be stuck
>> with composer for the life of 2.x, and when layouts lands in 3.2 we'll
>> end up with duplicate buttons for "new composer"/"new layout", or some
>> option to switch the print backend from composer/layouts. Ouch! Not to
>> mention that we'll be forced to carry around and maintain thousands of
>> lines of old code for the next x years.
>>
>> 2. Ship with composer in 3.0, but remove from bindings (e.g.
>> https://github.com/qgis/QGIS/pull/5486). Then after thaw I can merge
>> layouts and drop all the composer code. Downside is no ability to
>> script or have composer based plugins in 3.0. Upside is layouts lands
>> with the new clean api in 3.2, and we can have a clean-start then.
>> Another upside is the additional full cycle of testing for layouts
>> which means that when it's available to users in 3.2 it should be
>> rock-solid.
>>
>> That's me laying out all the options as I see them. I'm honestly happy
>> to abide by whatever decision the release manager/PSC makes here. I
>> don't envy their position in making this call (sorry!)
>>
>
> Is there no option 3 "drop composer totally and merge layouts " ? It was the
> very first need that started QGIS3 project IIRC.

Yes - that's definitely an option! 1 and 2 were "alternatives" to doing that.

Nyall

From peter.petrik at lutraconsulting.co.uk  Fri Nov  3 02:25:54 2017
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Fri, 3 Nov 2017 10:25:54 +0100
Subject: [QGIS-Developer] QEP for QgisQuick 1.0 (QML Component Plugin)
Message-ID: <CA+T_MsJfv-Zu1ChyKsD_veEHRbDm7XZhBs1caPeNmdwWziCD6Q@mail.gmail.com>

Hi all,

I have just submitted a QEP that describes QML Components library for
mobile
applications *https://github.com/qgis/QGIS-Enhancement-Proposals/issues/109
<https://github.com/qgis/QGIS-Enhancement-Proposals/issues/109>*

Your input is very appreciated.

Regards
Peter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171103/ff2d1469/attachment.html>

From a.neumann at carto.net  Fri Nov  3 03:18:04 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 03 Nov 2017 11:18:04 +0100
Subject: [QGIS-Developer] [Qgis-psc] Feature freeze: Paid developer
 activities for QGIS 3.0
In-Reply-To: <CABgOYCfJA8FJOnC7z3tqw9A3pNsmpZzGSEwoNidJ9Etj_ZdcuA@mail.gmail.com>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
 <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
 <83aa7988d693b0688f71f67cd6b08aaa@carto.net>
 <CABgOYCdRuphf9QEwuhGyX0ZyMUHAtAFKJ7L75y8TpCNzJVsG_Q@mail.gmail.com>
 <1509621330010-0.post@n6.nabble.com>
 <ea09235707d62a35c33f11782185a7c5@carto.net>
 <1509623917313-0.post@n6.nabble.com>
 <CAAi8Yg_ES+fpVi+agELQMgFiPZzw5eVn3u-tOSGF=kicN1hWxw@mail.gmail.com>
 <24c273cf78130562b6bbb7844fd15335@carto.net>
 <CAB28AsjTqDh629tZ72Mang32zNh908BqDcUz3BXCnw0KCRtQAw@mail.gmail.com>
 <CABgOYCfJA8FJOnC7z3tqw9A3pNsmpZzGSEwoNidJ9Etj_ZdcuA@mail.gmail.com>
Message-ID: <ba37634ba4fa864449d01e8365328fbd@carto.net>

Hi all, 

I agree with Régis. It would be useful to have the layouts instead of
the old composers in QGIS 3. It would be better than the other
alternatives, even if it would mean a further delay of the QGIS 3
release. 

We just have to think about the consequences. Personally, I would
propose to delay the QGIS 3 release again a bit, e.g. release later in
December, just before Christmas - because I do think that the bug fixing
period, as it is scheduled now is too short. 

Just my personal opinion. I would prefer to have a quick decision here. 

Andreas 

On 2017-11-03 09:38, Régis Haubourg wrote:

> Hi all,  
> 
> 2017-11-03 8:52 GMT+01:00 Nyall Dawson <nyall.dawson at gmail.com>:
> 
>> On 2 November 2017 at 22:08, Andreas Neumann <a.neumann at carto.net> wrote:
>> [...]
>> But the alternatives are:
>> 
>> 1. Ship with composer, and keep exposing composer API. We'll be stuck
>> with composer for the life of 2.x, and when layouts lands in 3.2 we'll
>> end up with duplicate buttons for "new composer"/"new layout", or some
>> option to switch the print backend from composer/layouts. Ouch! Not to
>> mention that we'll be forced to carry around and maintain thousands of
>> lines of old code for the next x years.
>> 
>> 2. Ship with composer in 3.0, but remove from bindings (e.g.
>> https://github.com/qgis/QGIS/pull/5486 [1]). Then after thaw I can merge
>> layouts and drop all the composer code. Downside is no ability to
>> script or have composer based plugins in 3.0. Upside is layouts lands
>> with the new clean api in 3.2, and we can have a clean-start then.
>> Another upside is the additional full cycle of testing for layouts
>> which means that when it's available to users in 3.2 it should be
>> rock-solid.
>> 
>> That's me laying out all the options as I see them. I'm honestly happy
>> to abide by whatever decision the release manager/PSC makes here. I
>> don't envy their position in making this call (sorry!)
> 
> Is there no option 3 "drop composer totally and merge layouts " ? It was the very first need that started QGIS3 project IIRC.  
> 
> On our side, we will be severely impacted for short time project if we drop composer, but I think the mid term option with mixed composer and layout in QGIS will cost al lot more to all of us. Users won't understand having both, and not having python bindings to layout in 3.0 will be a no go for deploying applications. So that would be the same as tagging 3.0 as a release candidate version, which is not the path we chose.  
> 
> Regards 
> Régis

 

Links:
------
[1] https://github.com/qgis/QGIS/pull/5486
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171103/5f5c7b86/attachment.html>

From wonder.sk at gmail.com  Fri Nov  3 03:36:26 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri, 3 Nov 2017 11:36:26 +0100
Subject: [QGIS-Developer] [Qgis-psc] Feature freeze: Paid developer
 activities for QGIS 3.0
In-Reply-To: <ba37634ba4fa864449d01e8365328fbd@carto.net>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
 <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
 <83aa7988d693b0688f71f67cd6b08aaa@carto.net>
 <CABgOYCdRuphf9QEwuhGyX0ZyMUHAtAFKJ7L75y8TpCNzJVsG_Q@mail.gmail.com>
 <1509621330010-0.post@n6.nabble.com>
 <ea09235707d62a35c33f11782185a7c5@carto.net>
 <1509623917313-0.post@n6.nabble.com>
 <CAAi8Yg_ES+fpVi+agELQMgFiPZzw5eVn3u-tOSGF=kicN1hWxw@mail.gmail.com>
 <24c273cf78130562b6bbb7844fd15335@carto.net>
 <CAB28AsjTqDh629tZ72Mang32zNh908BqDcUz3BXCnw0KCRtQAw@mail.gmail.com>
 <CABgOYCfJA8FJOnC7z3tqw9A3pNsmpZzGSEwoNidJ9Etj_ZdcuA@mail.gmail.com>
 <ba37634ba4fa864449d01e8365328fbd@carto.net>
Message-ID: <CAC2XbFe0A9f6ArgpD+N+Ym2s-YwUEL4ZexQSpVG25q-xg_5Y2Q@mail.gmail.com>

Hi

On Fri, Nov 3, 2017 at 11:18 AM, Andreas Neumann <a.neumann at carto.net> wrote:
> Hi all,
>
> I agree with Régis. It would be useful to have the layouts instead of the
> old composers in QGIS 3. It would be better than the other alternatives,
> even if it would mean a further delay of the QGIS 3 release.

Agreed as well. The alternatives are really much, much inferior
solutions. Nyall's estimate that he would need two weeks to get
layouts replace old composer code is not that much extra time to ask
after having QGIS 3.0 in development for ~1.5 year. It would be a
shame if we missed the opportunity to get rid of the old composer code
before 3.0 -- especially after so many great cleanups in 3.0 API that
have been done. The print layouts is not just an ordinary feature - it
is a result of a hugely successful crowdfunding campaign and many
weeks of development - and something we all look forward to :-)

The stability of the new codebase is reasonable concern to have, but
Nyall is well known for delivering high quality results, and we still
have some weeks for bug fixing before the release - and also
afterwards.


> We just have to think about the consequences. Personally, I would propose to
> delay the QGIS 3 release again a bit, e.g. release later in December, just
> before Christmas - because I do think that the bug fixing period, as it is
> scheduled now is too short.

That sounds sensible to me. Free copies of QGIS 3.0 as the Christmas
present for everyone :-)

Regards
Martin

From matthias at opengis.ch  Fri Nov  3 03:39:33 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 3 Nov 2017 11:39:33 +0100
Subject: [QGIS-Developer] Fields and forms refactoring
Message-ID: <9dbc11ae-cf41-abe8-bd54-9816674e65ad@opengis.ch>

Hi all,

We have been working on a revamp of the fields and form configuration
interface the last few weeks.

It just closely didn't make it in before feature freeze. Given that this
is quite a big UI configuration change, it would make sense from a user
perspective to have this integrated in QGIS 3.0 and not bring this with
QGIS 3.2. Personally I don't have any problem postponing this to QGIS
3.2. It's mostly a question of user experience / change management.

https://github.com/qgis/QGIS/pull/5467

Thanks for feedbacks

Matthias


From matthias at opengis.ch  Fri Nov  3 03:44:59 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 3 Nov 2017 11:44:59 +0100
Subject: [QGIS-Developer] Fwd: Re: [Qgis-psc] Feature freeze: Paid developer
 activities for QGIS 3.0
In-Reply-To: <7ee35497-8b0a-5642-266b-14c203a11da7@opengis.ch>
References: <7ee35497-8b0a-5642-266b-14c203a11da7@opengis.ch>
Message-ID: <d72d517c-4cda-855e-08fd-bc4ba5aab13b@opengis.ch>

Hi

On 11/03/2017 11:36 AM, Martin Dobias wrote:
> Hi
>
> On Fri, Nov 3, 2017 at 11:18 AM, Andreas Neumann <a.neumann at carto.net> wrote:
>> Hi all,
>>
>> I agree with Régis. It would be useful to have the layouts instead of the
>> old composers in QGIS 3. It would be better than the other alternatives,
>> even if it would mean a further delay of the QGIS 3 release.
> Agreed as well. The alternatives are really much, much inferior
> solutions. Nyall's estimate that he would need two weeks to get
> layouts replace old composer code is not that much extra time to ask
> after having QGIS 3.0 in development for ~1.5 year. It would be a
> shame if we missed the opportunity to get rid of the old composer code
> before 3.0 -- especially after so many great cleanups in 3.0 API that
> have been done. The print layouts is not just an ordinary feature - it
> is a result of a hugely successful crowdfunding campaign and many
> weeks of development - and something we all look forward to :-)
>
> The stability of the new codebase is reasonable concern to have, but
> Nyall is well known for delivering high quality results, and we still
> have some weeks for bug fixing before the release - and also
> afterwards.

Count me +1 on these statements by Martin and Régis


>
>> We just have to think about the consequences. Personally, I would propose to
>> delay the QGIS 3 release again a bit, e.g. release later in December, just
>> before Christmas - because I do think that the bug fixing period, as it is
>> scheduled now is too short.
> That sounds sensible to me. Free copies of QGIS 3.0 as the Christmas
> present for everyone :-)

That sounds very sensible to me, I won't make yet another proposal to
keep the original date for a "beta" release ;-)

Matthias


From apasotti at gmail.com  Fri Nov  3 03:48:13 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 3 Nov 2017 11:48:13 +0100
Subject: [QGIS-Developer] Fwd: Re: [Qgis-psc] Feature freeze: Paid
 developer activities for QGIS 3.0
In-Reply-To: <d72d517c-4cda-855e-08fd-bc4ba5aab13b@opengis.ch>
References: <7ee35497-8b0a-5642-266b-14c203a11da7@opengis.ch>
 <d72d517c-4cda-855e-08fd-bc4ba5aab13b@opengis.ch>
Message-ID: <CAL5Q672QNsA8=T7xU8C99=Y_wn-Jev-SnxG5jxJgiPURK=-O_g@mail.gmail.com>

+1 from me too

On Fri, Nov 3, 2017 at 11:44 AM, Matthias Kuhn <matthias at opengis.ch> wrote:

> Hi
>
> On 11/03/2017 11:36 AM, Martin Dobias wrote:
> > Hi
> >
> > On Fri, Nov 3, 2017 at 11:18 AM, Andreas Neumann <a.neumann at carto.net>
> wrote:
> >> Hi all,
> >>
> >> I agree with Régis. It would be useful to have the layouts instead of
> the
> >> old composers in QGIS 3. It would be better than the other alternatives,
> >> even if it would mean a further delay of the QGIS 3 release.
> > Agreed as well. The alternatives are really much, much inferior
> > solutions. Nyall's estimate that he would need two weeks to get
> > layouts replace old composer code is not that much extra time to ask
> > after having QGIS 3.0 in development for ~1.5 year. It would be a
> > shame if we missed the opportunity to get rid of the old composer code
> > before 3.0 -- especially after so many great cleanups in 3.0 API that
> > have been done. The print layouts is not just an ordinary feature - it
> > is a result of a hugely successful crowdfunding campaign and many
> > weeks of development - and something we all look forward to :-)
> >
> > The stability of the new codebase is reasonable concern to have, but
> > Nyall is well known for delivering high quality results, and we still
> > have some weeks for bug fixing before the release - and also
> > afterwards.
>
> Count me +1 on these statements by Martin and Régis
>
>
> >
> >> We just have to think about the consequences. Personally, I would
> propose to
> >> delay the QGIS 3 release again a bit, e.g. release later in December,
> just
> >> before Christmas - because I do think that the bug fixing period, as it
> is
> >> scheduled now is too short.
> > That sounds sensible to me. Free copies of QGIS 3.0 as the Christmas
> > present for everyone :-)
>
> That sounds very sensible to me, I won't make yet another proposal to
> keep the original date for a "beta" release ;-)
>
> Matthias
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171103/47fd7987/attachment.html>

From alexander.bruy at gmail.com  Fri Nov  3 04:08:06 2017
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Fri, 3 Nov 2017 13:08:06 +0200
Subject: [QGIS-Developer] Fwd: Re: [Qgis-psc] Feature freeze: Paid
 developer activities for QGIS 3.0
In-Reply-To: <d72d517c-4cda-855e-08fd-bc4ba5aab13b@opengis.ch>
References: <7ee35497-8b0a-5642-266b-14c203a11da7@opengis.ch>
 <d72d517c-4cda-855e-08fd-bc4ba5aab13b@opengis.ch>
Message-ID: <CALuHMPB+j=0SXqgHBfMSkcVao8grX3zrHuFNCfyD3CG=LJAQrQ@mail.gmail.com>

+1 from me too

2017-11-03 12:44 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:
> Hi
>
> On 11/03/2017 11:36 AM, Martin Dobias wrote:
>> Hi
>>
>> On Fri, Nov 3, 2017 at 11:18 AM, Andreas Neumann <a.neumann at carto.net> wrote:
>>> Hi all,
>>>
>>> I agree with Régis. It would be useful to have the layouts instead of the
>>> old composers in QGIS 3. It would be better than the other alternatives,
>>> even if it would mean a further delay of the QGIS 3 release.
>> Agreed as well. The alternatives are really much, much inferior
>> solutions. Nyall's estimate that he would need two weeks to get
>> layouts replace old composer code is not that much extra time to ask
>> after having QGIS 3.0 in development for ~1.5 year. It would be a
>> shame if we missed the opportunity to get rid of the old composer code
>> before 3.0 -- especially after so many great cleanups in 3.0 API that
>> have been done. The print layouts is not just an ordinary feature - it
>> is a result of a hugely successful crowdfunding campaign and many
>> weeks of development - and something we all look forward to :-)
>>
>> The stability of the new codebase is reasonable concern to have, but
>> Nyall is well known for delivering high quality results, and we still
>> have some weeks for bug fixing before the release - and also
>> afterwards.
>
> Count me +1 on these statements by Martin and Régis
>
>
>>
>>> We just have to think about the consequences. Personally, I would propose to
>>> delay the QGIS 3 release again a bit, e.g. release later in December, just
>>> before Christmas - because I do think that the bug fixing period, as it is
>>> scheduled now is too short.
>> That sounds sensible to me. Free copies of QGIS 3.0 as the Christmas
>> present for everyone :-)
>
> That sounds very sensible to me, I won't make yet another proposal to
> keep the original date for a "beta" release ;-)
>
> Matthias
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alexander Bruy

From denis.rouzaud at gmail.com  Fri Nov  3 05:43:00 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Fri, 03 Nov 2017 12:43:00 +0000
Subject: [QGIS-Developer] Fwd: Re: [Qgis-psc] Feature freeze: Paid
 developer activities for QGIS 3.0
In-Reply-To: <CALuHMPB+j=0SXqgHBfMSkcVao8grX3zrHuFNCfyD3CG=LJAQrQ@mail.gmail.com>
References: <7ee35497-8b0a-5642-266b-14c203a11da7@opengis.ch>
 <d72d517c-4cda-855e-08fd-bc4ba5aab13b@opengis.ch>
 <CALuHMPB+j=0SXqgHBfMSkcVao8grX3zrHuFNCfyD3CG=LJAQrQ@mail.gmail.com>
Message-ID: <CAMtsY+YF28BrbBBvSiMgWprNQVj2aFNQYEVokf=CVQosw0OegQ@mail.gmail.com>

+1 from me too!
(I've been concerned by the release postpone quite some time, but having it
2 weeks or just before Christmas, won't be a huge change for organizations)

Le ven. 3 nov. 2017 à 12:08, Alexander Bruy <alexander.bruy at gmail.com> a
écrit :

> +1 from me too
>
> 2017-11-03 12:44 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:
> > Hi
> >
> > On 11/03/2017 11:36 AM, Martin Dobias wrote:
> >> Hi
> >>
> >> On Fri, Nov 3, 2017 at 11:18 AM, Andreas Neumann <a.neumann at carto.net>
> wrote:
> >>> Hi all,
> >>>
> >>> I agree with Régis. It would be useful to have the layouts instead of
> the
> >>> old composers in QGIS 3. It would be better than the other
> alternatives,
> >>> even if it would mean a further delay of the QGIS 3 release.
> >> Agreed as well. The alternatives are really much, much inferior
> >> solutions. Nyall's estimate that he would need two weeks to get
> >> layouts replace old composer code is not that much extra time to ask
> >> after having QGIS 3.0 in development for ~1.5 year. It would be a
> >> shame if we missed the opportunity to get rid of the old composer code
> >> before 3.0 -- especially after so many great cleanups in 3.0 API that
> >> have been done. The print layouts is not just an ordinary feature - it
> >> is a result of a hugely successful crowdfunding campaign and many
> >> weeks of development - and something we all look forward to :-)
> >>
> >> The stability of the new codebase is reasonable concern to have, but
> >> Nyall is well known for delivering high quality results, and we still
> >> have some weeks for bug fixing before the release - and also
> >> afterwards.
> >
> > Count me +1 on these statements by Martin and Régis
> >
> >
> >>
> >>> We just have to think about the consequences. Personally, I would
> propose to
> >>> delay the QGIS 3 release again a bit, e.g. release later in December,
> just
> >>> before Christmas - because I do think that the bug fixing period, as
> it is
> >>> scheduled now is too short.
> >> That sounds sensible to me. Free copies of QGIS 3.0 as the Christmas
> >> present for everyone :-)
> >
> > That sounds very sensible to me, I won't make yet another proposal to
> > keep the original date for a "beta" release ;-)
> >
> > Matthias
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Alexander Bruy
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171103/f0438ee4/attachment.html>

From denis.rouzaud at gmail.com  Fri Nov  3 05:54:20 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Fri, 03 Nov 2017 12:54:20 +0000
Subject: [QGIS-Developer] Fields and forms refactoring
In-Reply-To: <9dbc11ae-cf41-abe8-bd54-9816674e65ad@opengis.ch>
References: <9dbc11ae-cf41-abe8-bd54-9816674e65ad@opengis.ch>
Message-ID: <CAMtsY+bpeorwusXbR58Y6HY0Q_Yb15ukZeJQF5h+a4La1hUx8Q@mail.gmail.com>

I'm +1 on this
Considering the proposed shift of 2 weeks and the fact that Matthias is
supervising this, I think it is a safe bet.
Having such a large UI chance is much nicer for a main release.



Le ven. 3 nov. 2017 à 11:39, Matthias Kuhn <matthias at opengis.ch> a écrit :

> Hi all,
>
> We have been working on a revamp of the fields and form configuration
> interface the last few weeks.
>
> It just closely didn't make it in before feature freeze. Given that this
> is quite a big UI configuration change, it would make sense from a user
> perspective to have this integrated in QGIS 3.0 and not bring this with
> QGIS 3.2. Personally I don't have any problem postponing this to QGIS
> 3.2. It's mostly a question of user experience / change management.
>
> https://github.com/qgis/QGIS/pull/5467
>
> Thanks for feedbacks
>
> Matthias
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171103/a815fcbd/attachment-0001.html>

From matthias at opengis.ch  Fri Nov  3 06:52:22 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 3 Nov 2017 14:52:22 +0100
Subject: [QGIS-Developer] PSA: Developer docs for debugging python unit tests
Message-ID: <1c8dc7e3-fba3-b673-5826-a250e15d71ae@opengis.ch>

Fellow developers,

we all spend our precious time on writing unit tests. And we want to do
this as efficiently as possible.

One thing that can really kill fun is if a python unit test segfaults.
Mainly because there is no hint by default, where to start looking for
what's gone wrong.

I just drafted a new section in the developer docs, how to run python
unit tests from within QtCreator, to help you spend less time on
debugging python tests and have more time on writing additional tests.

https://github.com/qgis/QGIS-Website/pull/479/files

Any feedback and improvement welcome.

Thanks
Matthias

From a.neumann at carto.net  Fri Nov  3 06:53:20 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 03 Nov 2017 14:53:20 +0100
Subject: [QGIS-Developer] Fields and forms refactoring
In-Reply-To: <CAMtsY+bpeorwusXbR58Y6HY0Q_Yb15ukZeJQF5h+a4La1hUx8Q@mail.gmail.com>
References: <9dbc11ae-cf41-abe8-bd54-9816674e65ad@opengis.ch>
 <CAMtsY+bpeorwusXbR58Y6HY0Q_Yb15ukZeJQF5h+a4La1hUx8Q@mail.gmail.com>
Message-ID: <37a39bf771bc4c4d814c688bd044ba6c@carto.net>

Hi, 

I would also welcome that this would be added. it should really make the
UI much cleaner (less crowded) and easier to use. 

And it is sponsored by the Swiss QGIS user group. I guess they would
like to see it in QGIS 3. 

Andreas 

On 2017-11-03 13:54, Denis Rouzaud wrote:

> I'm +1 on this 
> Considering the proposed shift of 2 weeks and the fact that Matthias is supervising this, I think it is a safe bet. 
> Having such a large UI chance is much nicer for a main release. 
> 
> Le ven. 3 nov. 2017 à 11:39, Matthias Kuhn <matthias at opengis.ch> a écrit : 
> 
>> Hi all,
>> 
>> We have been working on a revamp of the fields and form configuration
>> interface the last few weeks.
>> 
>> It just closely didn't make it in before feature freeze. Given that this
>> is quite a big UI configuration change, it would make sense from a user
>> perspective to have this integrated in QGIS 3.0 and not bring this with
>> QGIS 3.2. Personally I don't have any problem postponing this to QGIS
>> 3.2. It's mostly a question of user experience / change management.
>> 
>> https://github.com/qgis/QGIS/pull/5467
>> 
>> Thanks for feedbacks
>> 
>> Matthias
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171103/6b44ace8/attachment.html>

From apasotti at gmail.com  Fri Nov  3 09:06:30 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 3 Nov 2017 17:06:30 +0100
Subject: [QGIS-Developer] Server and authentication tests not running on
	Travis
Message-ID: <CAL5Q673m6EzLkGnfS+Vbnya44SznVKgdS+ojy8V82KrxEEMYVA@mail.gmail.com>

Hi,

just to inform all devs that I've just discovered that all QGIS Server
tests + the vast majority of authentication system tests
+ some of the integration tests that require the server have not been
running on travis since last 4 october  when the travis docker
configuration was merged .

If you have been relying on Travis for changes on QGIS Server, WFS provider
and Authentication system during the last month, please make sure you
re-run tests locally until the tests are reactivated on Travis.


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171103/6b489d06/attachment.html>

From a.neumann at carto.net  Fri Nov  3 09:28:55 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 03 Nov 2017 17:28:55 +0100
Subject: [QGIS-Developer] QGIS3D: Caching triangulation of terrain data
Message-ID: <914bff906699d797753867b4b7459111@carto.net>

Hi, 

While exploring QGIS3D more, I noticed that my terrain is triangulated
each time I load the project. 

I wonder if it wouldn't be better to store this triangulation along with
the Geotiff storing the DEM, e.g. in a sidecar file. Terrain is pretty
static. We only get updates of our LIDAR data every 5-10 years ... it
doesn't make much sense to triangulate this data again and again. 

Is this something that could be improved in QGIS 3.2? 

Thanks, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171103/bc13878e/attachment.html>

From jrmorreale_ml at enoreth.net  Fri Nov  3 11:24:43 2017
From: jrmorreale_ml at enoreth.net (Jean-Roc Morreale (ml))
Date: Fri, 03 Nov 2017 19:24:43 +0100
Subject: [QGIS-Developer] =?iso-8859-1?q?Re=A0=3A__QGIS3D=3A_Caching_trian?=
 =?iso-8859-1?q?gulation_of_terrain_data?=
In-Reply-To: <914bff906699d797753867b4b7459111@carto.net>
References: <914bff906699d797753867b4b7459111@carto.net>
Message-ID: <1509733483.2428.15.camel@enoreth.net>

Hi Andreas,

If the point cloud data is static and used by several users, I usually
triangulate it once into its own seperate file (.ply, which seems to be
supported by Qt3DRender::QMesh) for further access.

For a generic cache, maybe 3D Tiles can fit the need for both mesh and
point cloud :
https://github.com/AnalyticalGraphicsInc/3d-tiles

Le vendredi 03 novembre 2017 à 17:28 +0100, Andreas Neumann a écrit :
> Hi,
> While exploring QGIS3D more, I noticed that my terrain is
> triangulated each time I load the project.
> I wonder if it wouldn't be better to store this triangulation along
> with the Geotiff storing the DEM, e.g. in a sidecar file. Terrain is
> pretty static. We only get updates of our LIDAR data every 5-10 years
> ... it doesn't make much sense to triangulate this data again and
> again.
> Is this something that could be improved in QGIS 3.2?
> Thanks,
> Andreas
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From giohappy at gmail.com  Fri Nov  3 13:04:33 2017
From: giohappy at gmail.com (G. Allegri)
Date: Fri, 3 Nov 2017 21:04:33 +0100
Subject: [QGIS-Developer] QgsServer and 3d tiles
In-Reply-To: <CAB4g1=zFhJTue4S55sLaWKQ+sUUEw5ugj5oh0QoMSM3Y399kMQ@mail.gmail.com>
References: <CAB4g1=y7R3PC0fpJDtuhWv7sMCLMkeawQsFj8+UzE06PT+q4iw@mail.gmail.com>
 <CAB4g1=zFhJTue4S55sLaWKQ+sUUEw5ugj5oh0QoMSM3Y399kMQ@mail.gmail.com>
Message-ID: <CAB4g1=zzh1HPAUsexA-3xemti2Yva36KKxFiOF=knq3qavLWhg@mail.gmail.com>

What if we had a QgsServer service dedicates to serving 3d tiles for Cesium
or iTown?
Is anybody working on this?

giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171103/322ac2b9/attachment.html>

From wonder.sk at gmail.com  Sat Nov  4 01:49:30 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat, 4 Nov 2017 09:49:30 +0100
Subject: [QGIS-Developer] QGIS3D: Caching triangulation of terrain data
In-Reply-To: <914bff906699d797753867b4b7459111@carto.net>
References: <914bff906699d797753867b4b7459111@carto.net>
Message-ID: <CAC2XbFeooZYjGHGeKD=mnrHUj0AMpOS1tC9-hyv6Qxobq_2H8Q@mail.gmail.com>

Hi Andreas

On Fri, Nov 3, 2017 at 5:28 PM, Andreas Neumann <a.neumann at carto.net> wrote:
>
> While exploring QGIS3D more, I noticed that my terrain is triangulated each
> time I load the project.
>
> I wonder if it wouldn't be better to store this triangulation along with the
> Geotiff storing the DEM, e.g. in a sidecar file. Terrain is pretty static.
> We only get updates of our LIDAR data every 5-10 years ... it doesn't make
> much sense to triangulate this data again and again.
>
> Is this something that could be improved in QGIS 3.2?

With terrain we actually do not do triangulation - we just take a
square 2D grid and elevate vertices according to the DEM - the
triangles are always fixed and so that is a cheap operation. If there
is anything that feels slow with terrain rendering, it may be either
fetching of blocks of raster data from DEM or rendering map images (to
be used as textures for terrain tiles).

I think we would need to do a bit of profiling of your project to see
what takes more time to avoid premature optimization. Anyway I was
thinking that it may be useful to add some Processing algorithms in
the future to support 3D rendering - to prepare data into formats that
are efficient and fast to access. For example, a DEM raster could be
processed into "quantized mesh tile" format that is used by Cesium
project.

Cheers
Martin

From luipir at gmail.com  Sat Nov  4 14:42:42 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Sat, 4 Nov 2017 22:42:42 +0100
Subject: [QGIS-Developer] PSA: Developer docs for debugging python unit
	tests
In-Reply-To: <1c8dc7e3-fba3-b673-5826-a250e15d71ae@opengis.ch>
References: <1c8dc7e3-fba3-b673-5826-a250e15d71ae@opengis.ch>
Message-ID: <CAFO80_prdc=bhMzy3WfPpyrZmyUkOZyThVG3dG3wiEs65fs+HA@mail.gmail.com>

great, I was just writing two new python tests

I'll give a look to your addition

tnx
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 3 November 2017 at 14:52, Matthias Kuhn <matthias at opengis.ch> wrote:
> Fellow developers,
>
> we all spend our precious time on writing unit tests. And we want to do
> this as efficiently as possible.
>
> One thing that can really kill fun is if a python unit test segfaults.
> Mainly because there is no hint by default, where to start looking for
> what's gone wrong.
>
> I just drafted a new section in the developer docs, how to run python
> unit tests from within QtCreator, to help you spend less time on
> debugging python tests and have more time on writing additional tests.
>
> https://github.com/qgis/QGIS-Website/pull/479/files
>
> Any feedback and improvement welcome.
>
> Thanks
> Matthias
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From wondim81 at gmail.com  Sun Nov  5 09:23:08 2017
From: wondim81 at gmail.com (Wondimagegn Tesfaye)
Date: Sun, 5 Nov 2017 20:23:08 +0300
Subject: [QGIS-Developer] Signal Categorized renderer
Message-ID: <CAGa0f9Mic3uGHgTWh3qg82+MC16LwxDf8yvmBNNbBhpOE5j8KQ@mail.gmail.com>

Dear Community,

I am looking for a signal triggered when a user clicks on the Classify
button. The objective is to update the class labels when a user clicks on
the classify button so that they see the updates early. Currently, I am
using layer.StyleChanged signal which is triggered a bit later.

-- 
Regards,
Wondimagegn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171105/13b63ec7/attachment.html>

From larrys at dakotacarto.com  Sun Nov  5 11:16:57 2017
From: larrys at dakotacarto.com (Larry Shaffer)
Date: Sun, 5 Nov 2017 12:16:57 -0700
Subject: [QGIS-Developer] Nose2 0.7.0 breaking Travis coverage test
Message-ID: <CA+nQOR8caS6Cr6+Xku+cy_pNT4Zwa5EVkpfs+dxvan9uP6iymQ@mail.gmail.com>

Hi.

As noted for the recent nose2 release 0.7.0 (released today):
https://github.com/nose-devs/nose2

"Note: As of 0.7.0 we have support for 2.6, 3.2, 3.3 and removed
nose2.compat."

The "removed nose2.compat" shows up as a failure on Travis:
https://travis-ci.org/qgis/QGIS/jobs/297642094

I just noticed this, but will be away from computer today. Just wanted
other devs to know, as it will affect all Travis builds and needs fixed.
Sorry I did not have time to look into a fix.

Regards,

Larry Shaffer
Dakota Cartography
Black Hills, South Dakota
----------------------------------
Boundless Desktop and QGIS Support/Development
Boundless Spatial - http://boundlessgeo.com
lshaffer at boundlessgeo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171105/d5319a53/attachment.html>

From matthias at opengis.ch  Sun Nov  5 14:09:35 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Sun, 5 Nov 2017 23:09:35 +0100
Subject: [QGIS-Developer] Nose2 0.7.0 breaking Travis coverage test
In-Reply-To: <CA+nQOR8caS6Cr6+Xku+cy_pNT4Zwa5EVkpfs+dxvan9uP6iymQ@mail.gmail.com>
References: <CA+nQOR8caS6Cr6+Xku+cy_pNT4Zwa5EVkpfs+dxvan9uP6iymQ@mail.gmail.com>
Message-ID: <89599a11-92e4-6aaa-345c-87d796d4c388@opengis.ch>

Thanks Larry,

The fix is quite simple

s/from nose2.compat import unittest/import unittest/

https://github.com/qgis/QGIS/pull/5540

Regards

Matthias



On 11/05/2017 08:16 PM, Larry Shaffer wrote:
> Hi.
>
> As noted for the recent nose2 release 0.7.0 (released today):
> https://github.com/nose-devs/nose2
>
> "Note: As of 0.7.0 we have support for 2.6, 3.2, 3.3 and removed
> nose2.compat."
>
> The "removed nose2.compat" shows up as a failure on Travis:
> https://travis-ci.org/qgis/QGIS/jobs/297642094
>
> I just noticed this, but will be away from computer today. Just wanted
> other devs to know, as it will affect all Travis builds and needs
> fixed. Sorry I did not have time to look into a fix.
>
> Regards,
>
> Larry Shaffer
> Dakota Cartography
> Black Hills, South Dakota
> ----------------------------------
> Boundless Desktop and QGIS Support/Development
> Boundless Spatial - http://boundlessgeo.com
> lshaffer at boundlessgeo.com <mailto:lshaffer at boundlessgeo.com>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171105/d5f61470/attachment.html>

From tisham.dhar at aerometrex.com.au  Sun Nov  5 17:06:18 2017
From: tisham.dhar at aerometrex.com.au (Tisham Dhar)
Date: Mon, 6 Nov 2017 01:06:18 +0000
Subject: [QGIS-Developer]  QgsServer and 3d tiles
Message-ID: <SYXPR01MB1232649A08E6026F88FB17EEBE500@SYXPR01MB1232.ausprd01.prod.outlook.com>

We have lot of Cesium tiles as well and would be interested in serving these into QGIS:

Here are is a tile index json: https://sample.aero3dpro.com.au/Melbourne/Scene/recon_h_3DTiles.json

We are happy to host these for development purposes. Also I3S is now an OGC standard and might be worth supporting that for 3D content as well.

We have a tile-server URL here: https://tiles.arcgis.com/tiles/0E0DF4lqgFti4ptt/arcgis/rest/services/Brisbane_geom_90pc_sample/SceneServer (Hosted on ArcGIS online)

Regards,

Tisham Dhar
Research Engineer
Aerometrex PTY LTD
59 King William St.
Kent Town SA 5067
Australia

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/d07607ad/attachment.html>

From noreply at qgis.org  Sun Nov  5 22:44:25 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 06 Nov 2017 06:44:25 -0000
Subject: [QGIS-Developer] Plugin [791] CLUZ approval notification.
Message-ID: <20171106064425.1465.83930@320558c5528b>


Plugin CLUZ approval by zimbogisgeek.
The plugin version "[791] CLUZ 2017.2.4" is now approved
Link: http://plugins.qgis.org/plugins/cluz/

From noreply at qgis.org  Sun Nov  5 22:45:39 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 06 Nov 2017 06:45:39 -0000
Subject: [QGIS-Developer] Plugin [849] AmigoCloud approval notification.
Message-ID: <20171106064539.28656.84775@320558c5528b>


Plugin AmigoCloud approval by zimbogisgeek.
The plugin version "[849] AmigoCloud 0.5" is now approved
Link: http://plugins.qgis.org/plugins/qgis-amigocloud-plugin/

From nyall.dawson at gmail.com  Mon Nov  6 00:10:33 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 6 Nov 2017 18:10:33 +1000
Subject: [QGIS-Developer] Request for freeze exemption: datum transform
	handling
Message-ID: <CAB28AsghpxmC-=8wwsAP=OOWcbjgJ893xtJL+R9oV4_cBu_Sfg@mail.gmail.com>

Hi all,

I would like to request an exemption from the feature freeze in order
to merge https://github.com/qgis/QGIS/pull/5535 and a future follow up
by Denis which will address the GUI component of that work.

Because of the heavy API breakage that this PR involves, it needs to
be merged before API freeze. I also consider this a crucial
"must-have" for QGIS 3.x, given that it sets in place a framework
which is required for features that will become highly in-demand
during the lifetime of 3.x (namely - support for dynamic datum
transforms.... without this, QGIS will become a non-option for
Australian users in 2020).

Not to put to much emphasis on this, but this is a kind of
"make-or-break" decision, where not fixing this part of the API could
really slow QGIS' current growth rate and force our users to use
alternative programs.

Nyall

From regis.haubourg at gmail.com  Mon Nov  6 00:15:09 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 6 Nov 2017 09:15:09 +0100
Subject: [QGIS-Developer] Request for freeze exemption: datum transform
	handling
In-Reply-To: <CAB28AsghpxmC-=8wwsAP=OOWcbjgJ893xtJL+R9oV4_cBu_Sfg@mail.gmail.com>
References: <CAB28AsghpxmC-=8wwsAP=OOWcbjgJ893xtJL+R9oV4_cBu_Sfg@mail.gmail.com>
Message-ID: <CABgOYCd2KLWe2RuJ7O_yLimJ5-tpJPbo8A5dEcVLbHgqrWqVPg@mail.gmail.com>

Hi Nyall,
thanks for raising that. For those who discover that work, it will fix
severe issues we currently have for instance when copy/pasting features
between two layers relying on SRS having different datum. It can severely
alter data precision, and I agree this is a much needed feature for a
professional GIS.

Cheers
Régis

2017-11-06 9:10 GMT+01:00 Nyall Dawson <nyall.dawson at gmail.com>:

> Hi all,
>
> I would like to request an exemption from the feature freeze in order
> to merge https://github.com/qgis/QGIS/pull/5535 and a future follow up
> by Denis which will address the GUI component of that work.
>
> Because of the heavy API breakage that this PR involves, it needs to
> be merged before API freeze. I also consider this a crucial
> "must-have" for QGIS 3.x, given that it sets in place a framework
> which is required for features that will become highly in-demand
> during the lifetime of 3.x (namely - support for dynamic datum
> transforms.... without this, QGIS will become a non-option for
> Australian users in 2020).
>
> Not to put to much emphasis on this, but this is a kind of
> "make-or-break" decision, where not fixing this part of the API could
> really slow QGIS' current growth rate and force our users to use
> alternative programs.
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/c2da0fdd/attachment-0001.html>

From tim at kartoza.com  Mon Nov  6 01:43:35 2017
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 6 Nov 2017 11:43:35 +0200
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
	process
Message-ID: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>

Hi All

We have our PSC meeting tonight and I have added an agenda item about feature freeze exceptions. I will respond immediately after the meeting with any decision that has been reached, or if we are not able to reach a consensus I will put it to a general members vote. 

As Jürgen is release manager, I would prefer that we have his agreement and buy-in (he has already stated a contrary opinion to lifting the freeze - http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Feature-freeze-Paid-developer-activities-for-QGIS-3-0-tp5340245p5340300.html <http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Feature-freeze-Paid-developer-activities-for-QGIS-3-0-tp5340245p5340300.html>). 

Probably more accurately I should state that Jürgen already agreed in Girona to go to a fixed release schedule in preference to a  ‘when it is ready’ schedule as was originally planned.

At the risk of severely irritating Jürgen (sorry!), why don’t we move back to a ‘release when ready’ approach which might also have the happy by-product of being less work for him since he only needs to deal with the process once when the release is deemed ready. 

One simple mechanism we could do is have a rolling voting member’s vote (e.g. at then end of each month) with a simple question “shall we freeze”? Once we have quorum on that vote, we go ahead and freeze and Jürgen can pretty much ignore 3.x in his release planning until that vote passes. We also have the by-product that we cannot tell our users / customers / fans when the release will be ready but by-and-large I think the outcome will be better since we all will be dancing to the same tune and we can make sure 3.0 has everything in it that we think it should have without compromises.

I also propose that the paid bug fixing should commence now already regardless of when the freeze will actually happen.


Our PSC meeting is at 8pm CET (sorry thats an awful time for you Nyall) and anybody is always welcome to sit in the call if you wish you raise your concerns in person (or send me any notes for things that you would like raised on your behalf).


Regards

Tim

—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/3baae6ce/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/3baae6ce/attachment-0001.jpg>

From matthias at opengis.ch  Mon Nov  6 02:00:04 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 6 Nov 2017 11:00:04 +0100
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
 process
In-Reply-To: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
Message-ID: <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>

Hi Tim,

Thanks for raising this, I think it's very important to have everyone on
board and especially have Jürgen as Release Manager agree on the plan.

For what I think, the 3.0 release is a very special release since we
have the unique possibility to work on the API and to some degree on
workflows. Actually this is in my opinion not only a possibility but an
obligation as we will severely disappoint plugin developers and users if
we break things again in the near future.

The calls for exemption that we have now are mostly backed up with the
argument that right now is the right time to do certain things. This
argument can not be repeated for future 3.x releases. I would therefore
propose not to discuss the fixed release schedule in general, it has IMO
worked out quite nicely. Instead I would like the PSC to discuss a
flexible handling of this particular major release with the very
specific requirements.

Best regards

Matthias

On 11/06/2017 10:43 AM, Tim Sutton wrote:
> Hi All
>
> We have our PSC meeting tonight and I have added an agenda item about
> feature freeze exceptions. I will respond immediately after the
> meeting with any decision that has been reached, or if we are not able
> to reach a consensus I will put it to a general members vote. 
>
> As Jürgen is release manager, I would prefer that we have his
> agreement and buy-in (he has already stated a contrary opinion to
> lifting the freeze
> - http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Feature-freeze-Paid-developer-activities-for-QGIS-3-0-tp5340245p5340300.html). 
>
> Probably more accurately I should state that Jürgen already agreed in
> Girona to go to a fixed release schedule in preference to a  ‘when it
> is ready’ schedule as was originally planned.
>
> At the risk of severely irritating Jürgen (sorry!), why don’t we move
> back to a ‘release when ready’ approach which might also have the
> happy by-product of being less work for him since he only needs to
> deal with the process once when the release is deemed ready. 
>
> One simple mechanism we could do is have a rolling voting member’s
> vote (e.g. at then end of each month) with a simple question “shall we
> freeze”? Once we have quorum on that vote, we go ahead and freeze and
> Jürgen can pretty much ignore 3.x in his release planning until that
> vote passes. We also have the by-product that we cannot tell our users
> / customers / fans when the release will be ready but by-and-large I
> think the outcome will be better since we all will be dancing to the
> same tune and we can make sure 3.0 has everything in it that we think
> it should have without compromises.
>
> I also propose that the paid bug fixing should commence now already
> regardless of when the freeze will actually happen.
>
>
> Our PSC meeting is at 8pm CET (sorry thats an awful time for you
> Nyall) and anybody is always welcome to sit in the call if you wish
> you raise your concerns in person (or send me any notes for things
> that you would like raised on your behalf).
>
>
> Regards
>
> Tim
>
> —
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Project chair:* QGIS.org <http://QGIS.org>
>
> Visit http://kartoza.com <http://kartoza.com/> to find out about open
> source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux 
> *IRC:* timlinux on #qgis at freenode.net <http://freenode.net>
>
> Kartoza is a merger between Linfiniti and Afrispatial
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/2f6b42ee/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/2f6b42ee/attachment-0001.jpg>

From regis.haubourg at gmail.com  Mon Nov  6 02:03:51 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 6 Nov 2017 11:03:51 +0100
Subject: [QGIS-Developer] [Qgis-psc] PROPOSAL: change how we manage the
	3.0 release process
In-Reply-To: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
Message-ID: <CABgOYCeTQo-Kn0ZCgFybKTJnU0uQCGf1nBjW6y5c0yaJVF4bpQ@mail.gmail.com>

Hi Tim,

 I agree QGIS 3.0 is sort of an exception, we have a lot a major
refactoring that need to land in it.

However, I think we should keep fixed date releases within major version
lifecycle, and in the same time improve our feature roadmap planning. Let
me explain why.

 - Release when ready would imply that we all can announce in advance what
feature we will bring in each version. By now, we are not structured for
that I think.
 - Fixed date releases are very good for users, developpers and funders to
plan work and anticipate. It also allows to avoid those huge delays we have
currently in QGIS3, with too much untested nex features. Release often is
the key for real user testing.

So my vote would be to allow unfixed schedule for major releases, but with
a better project management of critical features and API break we need in
it, and keep fixed date minor releases.

My two cents,
Regards
Régis

2017-11-06 10:43 GMT+01:00 Tim Sutton <tim at kartoza.com>:

> Hi All
>
> We have our PSC meeting tonight and I have added an agenda item about
> feature freeze exceptions. I will respond immediately after the meeting
> with any decision that has been reached, or if we are not able to reach a
> consensus I will put it to a general members vote.
>
> As Jürgen is release manager, I would prefer that we have his agreement
> and buy-in (he has already stated a contrary opinion to lifting the freeze
> - http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> Feature-freeze-Paid-developer-activities-for-QGIS-3-0-
> tp5340245p5340300.html).
>
> Probably more accurately I should state that Jürgen already agreed in
> Girona to go to a fixed release schedule in preference to a  ‘when it is
> ready’ schedule as was originally planned.
>
> At the risk of severely irritating Jürgen (sorry!), why don’t we move back
> to a ‘release when ready’ approach which might also have the happy
> by-product of being less work for him since he only needs to deal with the
> process once when the release is deemed ready.
>
> One simple mechanism we could do is have a rolling voting member’s vote
> (e.g. at then end of each month) with a simple question “shall we freeze”?
> Once we have quorum on that vote, we go ahead and freeze and Jürgen can
> pretty much ignore 3.x in his release planning until that vote passes. We
> also have the by-product that we cannot tell our users / customers / fans
> when the release will be ready but by-and-large I think the outcome will be
> better since we all will be dancing to the same tune and we can make sure
> 3.0 has everything in it that we think it should have without compromises.
>
> I also propose that the paid bug fixing should commence now already
> regardless of when the freeze will actually happen.
>
>
> Our PSC meeting is at 8pm CET (sorry thats an awful time for you Nyall)
> and anybody is always welcome to sit in the call if you wish you raise your
> concerns in person (or send me any notes for things that you would like
> raised on your behalf).
>
>
> Regards
>
> Tim
>
> —
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
> Kartoza is a merger between Linfiniti and Afrispatial
>
>
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/5bcbd038/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/5bcbd038/attachment-0001.jpg>

From rdmailings at duif.net  Mon Nov  6 02:05:37 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 06 Nov 2017 10:05:37 +0000
Subject: [QGIS-Developer] QgsDataProvider and caching: any defined behaviour?
Message-ID: <00cec011f68976852843dcc71f97cb16@duif.net>

Working with a rather large dataset (16M timebased points), I have 
trouble working with this in QGIS, using both the Postgis-provider OR 
the WFS-provider.

As data is properly indexed, retrieving a selected area is fine.

BUT as soon as you try to use the attribute table, I-tool or for example 
the TimeManager, QGIS stalls.

I think(!) because apparently both providers are requesting all data 
again from their datasource, sometimes even ignoring the current extent 
(WFS).

While, it seems more appropriate to 'just use what you already have': 
the dataprovider/QGIS already has all features (both geom + attributes 
in case of WFS for example), so WHY should it request all data again 
(data-freshness?)?

Are others having this problems too?

Could adding a 'Caching-option' for the QgsDataProvider be a 
reasonable/viable option:
- if 'data caching' is enabled, the data will be retrieved only once 
(per extent probably). So showing the Attribute table, I-tool info, or 
using TimeManager/Query should be relatively easy/fast as the features 
are locally (or in memory) cached.
- as soon as you want 'fresh' data you disable the caching temporarily, 
and new data will be requested (as it is doing now apparently).

Or am I missing something (I see there is an option for attributetable 
caching...)?

Not sure about other countries, but here in NL governmental institutes 
start serving huge dataset more and more, either as WMS/WCS/WFS 
services, or more and more as REST/GeoJSON services.

Anybody has some insights ideas about this?

Regards,

Richard Duivenvoorde

From apasotti at gmail.com  Mon Nov  6 02:10:20 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 6 Nov 2017 11:10:20 +0100
Subject: [QGIS-Developer] [Qgis-psc] PROPOSAL: change how we manage the
 3.0 release process
In-Reply-To: <CABgOYCeTQo-Kn0ZCgFybKTJnU0uQCGf1nBjW6y5c0yaJVF4bpQ@mail.gmail.com>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <CABgOYCeTQo-Kn0ZCgFybKTJnU0uQCGf1nBjW6y5c0yaJVF4bpQ@mail.gmail.com>
Message-ID: <CAL5Q671nfdcc5zxwc5TTE0Dm__Nd70P5ym0tP3x_2HRiqQ_skA@mail.gmail.com>

I agree with Matthias, having a fixed/predictable schedule is very
important for planning, but for QGIS3 we invested so much time and efforts
in fixing the API that it would be a pity if we miss the occasion.

I would be in favor of grant some more flexibility to this 3.0 release
while keeping the fixed release cycles.

Of course we should try harder to meet the deadlines in he future major
releases.



On Mon, Nov 6, 2017 at 11:03 AM, Régis Haubourg <regis.haubourg at gmail.com>
wrote:

> Hi Tim,
>
>  I agree QGIS 3.0 is sort of an exception, we have a lot a major
> refactoring that need to land in it.
>
> However, I think we should keep fixed date releases within major version
> lifecycle, and in the same time improve our feature roadmap planning. Let
> me explain why.
>
>  - Release when ready would imply that we all can announce in advance what
> feature we will bring in each version. By now, we are not structured for
> that I think.
>  - Fixed date releases are very good for users, developpers and funders to
> plan work and anticipate. It also allows to avoid those huge delays we have
> currently in QGIS3, with too much untested nex features. Release often is
> the key for real user testing.
>
> So my vote would be to allow unfixed schedule for major releases, but with
> a better project management of critical features and API break we need in
> it, and keep fixed date minor releases.
>
> My two cents,
> Regards
> Régis
>
> 2017-11-06 10:43 GMT+01:00 Tim Sutton <tim at kartoza.com>:
>
>> Hi All
>>
>> We have our PSC meeting tonight and I have added an agenda item about
>> feature freeze exceptions. I will respond immediately after the meeting
>> with any decision that has been reached, or if we are not able to reach a
>> consensus I will put it to a general members vote.
>>
>> As Jürgen is release manager, I would prefer that we have his agreement
>> and buy-in (he has already stated a contrary opinion to lifting the freeze
>> - http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Feature
>> -freeze-Paid-developer-activities-for-QGIS-3-0-tp5340245p5340300.html).
>>
>> Probably more accurately I should state that Jürgen already agreed in
>> Girona to go to a fixed release schedule in preference to a  ‘when it is
>> ready’ schedule as was originally planned.
>>
>> At the risk of severely irritating Jürgen (sorry!), why don’t we move
>> back to a ‘release when ready’ approach which might also have the happy
>> by-product of being less work for him since he only needs to deal with the
>> process once when the release is deemed ready.
>>
>> One simple mechanism we could do is have a rolling voting member’s vote
>> (e.g. at then end of each month) with a simple question “shall we freeze”?
>> Once we have quorum on that vote, we go ahead and freeze and Jürgen can
>> pretty much ignore 3.x in his release planning until that vote passes. We
>> also have the by-product that we cannot tell our users / customers / fans
>> when the release will be ready but by-and-large I think the outcome will be
>> better since we all will be dancing to the same tune and we can make sure
>> 3.0 has everything in it that we think it should have without compromises.
>>
>> I also propose that the paid bug fixing should commence now already
>> regardless of when the freeze will actually happen.
>>
>>
>> Our PSC meeting is at 8pm CET (sorry thats an awful time for you Nyall)
>> and anybody is always welcome to sit in the call if you wish you raise your
>> concerns in person (or send me any notes for things that you would like
>> raised on your behalf).
>>
>>
>> Regards
>>
>> Tim
>>
>> —
>>
>>
>>
>>
>>
>> *Tim Sutton*
>>
>> *Co-founder:* Kartoza
>> *Project chair:* QGIS.org
>>
>> Visit http://kartoza.com to find out about open source:
>>
>> Desktop GIS programming services
>> Geospatial web development
>> GIS Training
>> Consulting Services
>>
>> *Skype*: timlinux
>> *IRC:* timlinux on #qgis at freenode.net
>>
>> Kartoza is a merger between Linfiniti and Afrispatial
>>
>>
>> _______________________________________________
>> Qgis-psc mailing list
>> Qgis-psc at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/ab7868d5/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/ab7868d5/attachment-0001.jpg>

From madmanwoo at gmail.com  Mon Nov  6 02:12:04 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Mon, 6 Nov 2017 20:12:04 +1000
Subject: [QGIS-Developer] [Qgis-psc] PROPOSAL: change how we manage the
 3.0 release process
In-Reply-To: <CAL5Q671nfdcc5zxwc5TTE0Dm__Nd70P5ym0tP3x_2HRiqQ_skA@mail.gmail.com>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <CABgOYCeTQo-Kn0ZCgFybKTJnU0uQCGf1nBjW6y5c0yaJVF4bpQ@mail.gmail.com>
 <CAL5Q671nfdcc5zxwc5TTE0Dm__Nd70P5ym0tP3x_2HRiqQ_skA@mail.gmail.com>
Message-ID: <CAAi8Yg9_Wob4qK0SODH8naffHpS5=DMSNgKBuXR3z9Kuo7Z35g@mail.gmail.com>

I agree.  I very much like the fixed schedule normally just with 3.0 being
such a major rework of core stuff maybe just tweaking it for this release
is the best plan.  The fixed schedule has been great for clients to know
when they are going to get a new release and what will be in it.

- Nathan

On Mon, Nov 6, 2017 at 8:10 PM, Alessandro Pasotti <apasotti at gmail.com>
wrote:

> I agree with Matthias, having a fixed/predictable schedule is very
> important for planning, but for QGIS3 we invested so much time and efforts
> in fixing the API that it would be a pity if we miss the occasion.
>
> I would be in favor of grant some more flexibility to this 3.0 release
> while keeping the fixed release cycles.
>
> Of course we should try harder to meet the deadlines in he future major
> releases.
>
>
>
> On Mon, Nov 6, 2017 at 11:03 AM, Régis Haubourg <regis.haubourg at gmail.com>
> wrote:
>
>> Hi Tim,
>>
>>  I agree QGIS 3.0 is sort of an exception, we have a lot a major
>> refactoring that need to land in it.
>>
>> However, I think we should keep fixed date releases within major version
>> lifecycle, and in the same time improve our feature roadmap planning. Let
>> me explain why.
>>
>>  - Release when ready would imply that we all can announce in advance
>> what feature we will bring in each version. By now, we are not structured
>> for that I think.
>>  - Fixed date releases are very good for users, developpers and funders
>> to plan work and anticipate. It also allows to avoid those huge delays we
>> have currently in QGIS3, with too much untested nex features. Release often
>> is the key for real user testing.
>>
>> So my vote would be to allow unfixed schedule for major releases, but
>> with a better project management of critical features and API break we need
>> in it, and keep fixed date minor releases.
>>
>> My two cents,
>> Regards
>> Régis
>>
>> 2017-11-06 10:43 GMT+01:00 Tim Sutton <tim at kartoza.com>:
>>
>>> Hi All
>>>
>>> We have our PSC meeting tonight and I have added an agenda item about
>>> feature freeze exceptions. I will respond immediately after the meeting
>>> with any decision that has been reached, or if we are not able to reach a
>>> consensus I will put it to a general members vote.
>>>
>>> As Jürgen is release manager, I would prefer that we have his agreement
>>> and buy-in (he has already stated a contrary opinion to lifting the freeze
>>> - http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Feature
>>> -freeze-Paid-developer-activities-for-QGIS-3-0-tp5340245p5340300.html).
>>>
>>> Probably more accurately I should state that Jürgen already agreed in
>>> Girona to go to a fixed release schedule in preference to a  ‘when it is
>>> ready’ schedule as was originally planned.
>>>
>>> At the risk of severely irritating Jürgen (sorry!), why don’t we move
>>> back to a ‘release when ready’ approach which might also have the happy
>>> by-product of being less work for him since he only needs to deal with the
>>> process once when the release is deemed ready.
>>>
>>> One simple mechanism we could do is have a rolling voting member’s vote
>>> (e.g. at then end of each month) with a simple question “shall we freeze”?
>>> Once we have quorum on that vote, we go ahead and freeze and Jürgen can
>>> pretty much ignore 3.x in his release planning until that vote passes. We
>>> also have the by-product that we cannot tell our users / customers / fans
>>> when the release will be ready but by-and-large I think the outcome will be
>>> better since we all will be dancing to the same tune and we can make sure
>>> 3.0 has everything in it that we think it should have without compromises.
>>>
>>> I also propose that the paid bug fixing should commence now already
>>> regardless of when the freeze will actually happen.
>>>
>>>
>>> Our PSC meeting is at 8pm CET (sorry thats an awful time for you Nyall)
>>> and anybody is always welcome to sit in the call if you wish you raise your
>>> concerns in person (or send me any notes for things that you would like
>>> raised on your behalf).
>>>
>>>
>>> Regards
>>>
>>> Tim
>>>
>>> —
>>>
>>>
>>>
>>>
>>>
>>> *Tim Sutton*
>>>
>>> *Co-founder:* Kartoza
>>> *Project chair:* QGIS.org
>>>
>>> Visit http://kartoza.com to find out about open source:
>>>
>>> Desktop GIS programming services
>>> Geospatial web development
>>> GIS Training
>>> Consulting Services
>>>
>>> *Skype*: timlinux
>>> *IRC:* timlinux on #qgis at freenode.net
>>>
>>> Kartoza is a merger between Linfiniti and Afrispatial
>>>
>>>
>>> _______________________________________________
>>> Qgis-psc mailing list
>>> Qgis-psc at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/5e7dec4f/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/5e7dec4f/attachment-0001.jpg>

From jef at norbit.de  Mon Nov  6 02:17:11 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 6 Nov 2017 11:17:11 +0100
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
 process
In-Reply-To: <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
Message-ID: <20171106101711.pelcgpkwx2ugqadx@norbit.de>

Hi Matthias,

On Mon, 06. Nov 2017 at 11:00:04 +0100, Matthias Kuhn wrote:
> Instead I would like the PSC to discuss a flexible handling of this
> particular major release with the very specific requirements.

The "release when ready" policy was made for 3.0 and only for 3.0.  The plan is
to return to the original way of doing release afterwards.

That would have been my preference anyway and returning to it is ok with me.

Although IIRC the move to a fixed date was made because others argued that they
need to communicate a date to their customers.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/4715faaf/attachment.sig>

From jef at norbit.de  Mon Nov  6 02:21:39 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 6 Nov 2017 11:21:39 +0100
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
 process
In-Reply-To: <20171106101711.pelcgpkwx2ugqadx@norbit.de>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
 <20171106101711.pelcgpkwx2ugqadx@norbit.de>
Message-ID: <20171106102139.tqfv57i6euyghqy5@norbit.de>

Hi,

On Mon, 06. Nov 2017 at 11:17:11 +0100, Jürgen E. Fischer wrote:
> That would have been my preference anyway and returning to it is ok with me.

I'm referring to the "release when ready" policy for 3.0 here.

After that we will return to the regular fixed release schedule.



Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/2d4dab88/attachment.sig>

From regis.haubourg at gmail.com  Mon Nov  6 02:31:12 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 6 Nov 2017 11:31:12 +0100
Subject: [QGIS-Developer] QgsDataProvider and caching: any defined
	behaviour?
In-Reply-To: <00cec011f68976852843dcc71f97cb16@duif.net>
References: <00cec011f68976852843dcc71f97cb16@duif.net>
Message-ID: <CABgOYCcP3cKNkELOK4H1=6f8ucmb_LFgB1E_=-rXNjNGkXy=zA@mail.gmail.com>

Hi Richard,

 one guy said that once:

There are only two hard things in Computer Science: cache invalidation and
naming things.

-- Phil Karlton
Joke apart, current situation is not good for sure, especially for WFS
which has a cache, and that should be handled better in transactional WFS-T
use cases.

For Postgres, we recently hit a problem, not related to big datasets, but
to very laggy database and network, that led the client to switch back to
WFS, with a its cache giving an impression of reactive application.
Cache invalidation seems especially complicated currently when you have
some business logic inside the database (triggers), and even more when
using Transaction groups, where any action is commited on the fly in the
database. It starts to be tricky keeping in sync the snapping index cache
and the attribute table cache only for features concerned by the
transaction.
Matthias also pointed out that we don't have very specific cache
invalidation signals for attribute table, and we should have some to be
able to invalidate only the features concerned by a transaction (for
instance).

So I think we must go that way, at least to consolidate current features,
but I think should be handled very seriously by a group of dev knowing each
parts of the application. That is an excellent candidate topic for Madeyra.

Régis

2017-11-06 11:05 GMT+01:00 Richard Duivenvoorde <rdmailings at duif.net>:

> Working with a rather large dataset (16M timebased points), I have trouble
> working with this in QGIS, using both the Postgis-provider OR the
> WFS-provider.
>
> As data is properly indexed, retrieving a selected area is fine.
>
> BUT as soon as you try to use the attribute table, I-tool or for example
> the TimeManager, QGIS stalls.
>
> I think(!) because apparently both providers are requesting all data again
> from their datasource, sometimes even ignoring the current extent (WFS).
>
> While, it seems more appropriate to 'just use what you already have': the
> dataprovider/QGIS already has all features (both geom + attributes in case
> of WFS for example), so WHY should it request all data again
> (data-freshness?)?
>
> Are others having this problems too?
>
> Could adding a 'Caching-option' for the QgsDataProvider be a
> reasonable/viable option:
> - if 'data caching' is enabled, the data will be retrieved only once (per
> extent probably). So showing the Attribute table, I-tool info, or using
> TimeManager/Query should be relatively easy/fast as the features are
> locally (or in memory) cached.
> - as soon as you want 'fresh' data you disable the caching temporarily,
> and new data will be requested (as it is doing now apparently).
>
> Or am I missing something (I see there is an option for attributetable
> caching...)?
>
> Not sure about other countries, but here in NL governmental institutes
> start serving huge dataset more and more, either as WMS/WCS/WFS services,
> or more and more as REST/GeoJSON services.
>
> Anybody has some insights ideas about this?
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/594a8e95/attachment.html>

From matthias at opengis.ch  Mon Nov  6 03:23:53 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 6 Nov 2017 12:23:53 +0100
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
 process
In-Reply-To: <20171106101711.pelcgpkwx2ugqadx@norbit.de>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
 <20171106101711.pelcgpkwx2ugqadx@norbit.de>
Message-ID: <96356230-df2d-d229-a3eb-e548f4537553@opengis.ch>

Hi Jürgen,


On 11/06/2017 11:17 AM, Jürgen E. Fischer wrote:
> Hi Matthias,
>
> On Mon, 06. Nov 2017 at 11:00:04 +0100, Matthias Kuhn wrote:
>> Instead I would like the PSC to discuss a flexible handling of this
>> particular major release with the very specific requirements.
> The "release when ready" policy was made for 3.0 and only for 3.0.  The plan is
> to return to the original way of doing release afterwards.
>
> That would have been my preference anyway and returning to it is ok with me.

Nice, looks like everyone agrees.
Can we schedule a release-plan meeting with involved devs to discuss
if/when it's ready?

Thanks a lot
Matthias

> Although IIRC the move to a fixed date was made because others argued that they
> need to communicate a date to their customers.
>
>
> Jürgen
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/9c7cefd2/attachment.html>

From a.neumann at carto.net  Mon Nov  6 03:58:47 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 06 Nov 2017 12:58:47 +0100
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
 process
In-Reply-To: <96356230-df2d-d229-a3eb-e548f4537553@opengis.ch>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
 <20171106101711.pelcgpkwx2ugqadx@norbit.de>
 <96356230-df2d-d229-a3eb-e548f4537553@opengis.ch>
Message-ID: <7542805c97ab8672df266276e3ebaeaf@carto.net>

It would be nice if the core devs could agree on items that need to go
into 3.0 before feature freeze - so we don't have to delay longer than
necessary. 

The other question is how to deal with features that could also be done
in 3.2. Can they also go into 3.0 if they are ready before the feature
freeze? In other words: do we already have a feature freeze but allow
exceptions where core devs agree on? Or will the whole feature freeze be
delayed? 

Andreas 

On 2017-11-06 12:23, Matthias Kuhn wrote:

> Hi Jürgen, 
> On 11/06/2017 11:17 AM, Jürgen E. Fischer wrote: 
> 
> Hi Matthias,
> 
> On Mon, 06. Nov 2017 at 11:00:04 +0100, Matthias Kuhn wrote:
> 
> Instead I would like the PSC to discuss a flexible handling of this
> particular major release with the very specific requirements.
> 
> The "release when ready" policy was made for 3.0 and only for 3.0.  The plan is
> to return to the original way of doing release afterwards.
> 
> That would have been my preference anyway and returning to it is ok with me.

Nice, looks like everyone agrees.
Can we schedule a release-plan meeting with involved devs to discuss
if/when it's ready?

Thanks a lot
Matthias

> Although IIRC the move to a fixed date was made because others argued that they
> need to communicate a date to their customers.
> 
> Jürgen
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/1ba5c82e/attachment-0001.html>

From nirvn.asia at gmail.com  Mon Nov  6 04:17:37 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Mon, 6 Nov 2017 19:17:37 +0700
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
	process
In-Reply-To: <7542805c97ab8672df266276e3ebaeaf@carto.net>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
 <20171106101711.pelcgpkwx2ugqadx@norbit.de>
 <96356230-df2d-d229-a3eb-e548f4537553@opengis.ch>
 <7542805c97ab8672df266276e3ebaeaf@carto.net>
Message-ID: <CAC_qv=oT3cBryK+c3+pkvCiJB8jCUGeY=Zjt7m=+jeoepHgHkA@mail.gmail.com>

Hmm we just jumped from discussing feature freeze exception to delaying
release, is that correct?

Personally, I'm big +1 for feature freeze exceptions-only *if* release date
remains achievable. If not, it seems there is a consensus on adding
additional time to this dev cycle, which remains preferable to shipping 3.0
with crucial architectural changes and additions missing.

That said I'm a -1 to go into a "release whenever it's ready" mode without
a firm agreed upon (delayed) release date.

M

On Nov 6, 2017 6:59 PM, "Andreas Neumann" <a.neumann at carto.net> wrote:

> It would be nice if the core devs could agree on items that need to go
> into 3.0 before feature freeze - so we don't have to delay longer than
> necessary.
>
> The other question is how to deal with features that could also be done in
> 3.2. Can they also go into 3.0 if they are ready before the feature freeze?
> In other words: do we already have a feature freeze but allow exceptions
> where core devs agree on? Or will the whole feature freeze be delayed?
>
> Andreas
>
> On 2017-11-06 12:23, Matthias Kuhn wrote:
>
> Hi Jürgen,
>
> On 11/06/2017 11:17 AM, Jürgen E. Fischer wrote:
>
> Hi Matthias,
>
> On Mon, 06. Nov 2017 at 11:00:04 +0100, Matthias Kuhn wrote:
>
> Instead I would like the PSC to discuss a flexible handling of this
> particular major release with the very specific requirements.
>
> The "release when ready" policy was made for 3.0 and only for 3.0.  The plan is
> to return to the original way of doing release afterwards.
>
> That would have been my preference anyway and returning to it is ok with me.
>
>
> Nice, looks like everyone agrees.
> Can we schedule a release-plan meeting with involved devs to discuss
> if/when it's ready?
>
> Thanks a lot
> Matthias
>
> Although IIRC the move to a fixed date was made because others argued that they
> need to communicate a date to their customers.
>
>
> Jürgen
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/2c6d165e/attachment.html>

From a.rossi35 at campus.uniurb.it  Mon Nov  6 04:27:07 2017
From: a.rossi35 at campus.uniurb.it (Andrea Rossi)
Date: Mon, 6 Nov 2017 13:27:07 +0100
Subject: [QGIS-Developer] QgsJsonUtils usage to import data from an Android
	app
Message-ID: <CAL1bsWYxsieGT8GoY5ifeeW8fT3J8E+Nh1TbUNciboitZzFmKA@mail.gmail.com>

Hi all

I am involved in small compass android app project; my job should be to
develop a plugin capable of import bedding data (dip and dip direction of
single points) into qgis.
Which would be your choice about the data format? Would be a good idea to
use QgsJsonUtils to import a GeoJson file?
thanks in advance to any suggestion
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/a035990d/attachment.html>

From a.neumann at carto.net  Mon Nov  6 04:53:39 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 06 Nov 2017 13:53:39 +0100
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
 process
In-Reply-To: <CAC_qv=oT3cBryK+c3+pkvCiJB8jCUGeY=Zjt7m=+jeoepHgHkA@mail.gmail.com>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
 <20171106101711.pelcgpkwx2ugqadx@norbit.de>
 <96356230-df2d-d229-a3eb-e548f4537553@opengis.ch>
 <7542805c97ab8672df266276e3ebaeaf@carto.net>
 <CAC_qv=oT3cBryK+c3+pkvCiJB8jCUGeY=Zjt7m=+jeoepHgHkA@mail.gmail.com>
Message-ID: <ff63dd30fa08b609f16cf497125a18a1@carto.net>

Well - in my opinion, if we delay the feature freeze we also have to
delay the release. 

QGIS 3 still crashes several times a day (esp. if you work with editing,
complex forms and PostgreSQL transaction mode). QGIS 3 is way more
unstable than QGIS 2.18. We need at least 1.5 months, better 2 months
between feature freeze and release. If we move feature freeze, say,
until end of November, we can't release in December or we would loose
the good reputation that QGIS built in the last couple of years. 

That is just my personal opinion. I use QGIS 3 a lot - and it is not a
pleasant piece of software currently, but a major source of headaches
and grief, not because of UI or missing features, but because of all the
crashes I often experience (and are often hard to reproduce and report).


Andreas 

On 2017-11-06 13:17, Mathieu Pellerin wrote:

> Hmm we just jumped from discussing feature freeze exception to delaying release, is that correct? 
> 
> Personally, I'm big +1 for feature freeze exceptions-only *if* release date remains achievable. If not, it seems there is a consensus on adding additional time to this dev cycle, which remains preferable to shipping 3.0 with crucial architectural changes and additions missing. 
> 
> That said I'm a -1 to go into a "release whenever it's ready" mode without a firm agreed upon (delayed) release date. 
> 
> M 
> 
> On Nov 6, 2017 6:59 PM, "Andreas Neumann" <a.neumann at carto.net> wrote:
> 
> It would be nice if the core devs could agree on items that need to go into 3.0 before feature freeze - so we don't have to delay longer than necessary. 
> 
> The other question is how to deal with features that could also be done in 3.2. Can they also go into 3.0 if they are ready before the feature freeze? In other words: do we already have a feature freeze but allow exceptions where core devs agree on? Or will the whole feature freeze be delayed? 
> 
> Andreas 
> 
> On 2017-11-06 12:23, Matthias Kuhn wrote: 
> 
> Hi Jürgen, 
> On 11/06/2017 11:17 AM, Jürgen E. Fischer wrote: 
> 
> Hi Matthias,
> 
> On Mon, 06. Nov 2017 at 11:00:04 +0100, Matthias Kuhn wrote:
> 
> Instead I would like the PSC to discuss a flexible handling of this
> particular major release with the very specific requirements.
> 
> The "release when ready" policy was made for 3.0 and only for 3.0.  The plan is
> to return to the original way of doing release afterwards.
> 
> That would have been my preference anyway and returning to it is ok with me.

Nice, looks like everyone agrees.
Can we schedule a release-plan meeting with involved devs to discuss
if/when it's ready?

Thanks a lot
Matthias

> Although IIRC the move to a fixed date was made because others argued that they
> need to communicate a date to their customers.
> 
> Jürgen
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]


_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]


 

Links:
------
[1] https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/92b1f72c/attachment.html>

From tim at kartoza.com  Mon Nov  6 04:57:39 2017
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 6 Nov 2017 14:57:39 +0200
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
 process
In-Reply-To: <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
Message-ID: <D6CAE034-D1B6-4302-BCC5-F5DC1BD558B1@kartoza.com>

Hi

> On 06 Nov 2017, at 12:00, Matthias Kuhn <matthias at opengis.ch> wrote:
> 
> Hi Tim,
> 
> Thanks for raising this, I think it's very important to have everyone on board and especially have Jürgen as Release Manager agree on the plan.
> 
> For what I think, the 3.0 release is a very special release since we have the unique possibility to work on the API and to some degree on workflows. Actually this is in my opinion not only a possibility but an obligation as we will severely disappoint plugin developers and users if we break things again in the near future.
> 
> The calls for exemption that we have now are mostly backed up with the argument that right now is the right time to do certain things. This argument can not be repeated for future 3.x releases. I would therefore propose not to discuss the fixed release schedule in general, it has IMO worked out quite nicely. Instead I would like the PSC to discuss a flexible handling of this particular major release with the very specific requirements.
> 

Thanks for your reply Matthias. Sorry I was unclear - 100% agreed that we should see the regular 4 month release cycle in place - I intended ‘release when it’s ready’ to apply only to QGIS 3.0. We basically go into a mode where we are in ‘soft freeze’ - where there should be agreement before merging PR’s and when we agree (e.g. by monthly vote) that all exceptions are done, we enter a formal freeze. 

Regards

Tim

> Best regards
> 
> Matthias
> On 11/06/2017 10:43 AM, Tim Sutton wrote:
>> Hi All
>> 
>> We have our PSC meeting tonight and I have added an agenda item about feature freeze exceptions. I will respond immediately after the meeting with any decision that has been reached, or if we are not able to reach a consensus I will put it to a general members vote. 
>> 
>> As Jürgen is release manager, I would prefer that we have his agreement and buy-in (he has already stated a contrary opinion to lifting the freeze - http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Feature-freeze-Paid-developer-activities-for-QGIS-3-0-tp5340245p5340300.html <http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Feature-freeze-Paid-developer-activities-for-QGIS-3-0-tp5340245p5340300.html>). 
>> 
>> Probably more accurately I should state that Jürgen already agreed in Girona to go to a fixed release schedule in preference to a  ‘when it is ready’ schedule as was originally planned.
>> 
>> At the risk of severely irritating Jürgen (sorry!), why don’t we move back to a ‘release when ready’ approach which might also have the happy by-product of being less work for him since he only needs to deal with the process once when the release is deemed ready. 
>> 
>> One simple mechanism we could do is have a rolling voting member’s vote (e.g. at then end of each month) with a simple question “shall we freeze”? Once we have quorum on that vote, we go ahead and freeze and Jürgen can pretty much ignore 3.x in his release planning until that vote passes. We also have the by-product that we cannot tell our users / customers / fans when the release will be ready but by-and-large I think the outcome will be better since we all will be dancing to the same tune and we can make sure 3.0 has everything in it that we think it should have without compromises.
>> 
>> I also propose that the paid bug fixing should commence now already regardless of when the freeze will actually happen.
>> 
>> 
>> Our PSC meeting is at 8pm CET (sorry thats an awful time for you Nyall) and anybody is always welcome to sit in the call if you wish you raise your concerns in person (or send me any notes for things that you would like raised on your behalf).
>> 
>> 
>> Regards
>> 
>> Tim
>> 
>> —
>> 
>> 
>> <KartozaNewLogoThumbnail.jpg>
>> 
>> 
>> 
>> Tim Sutton
>> 
>> Co-founder: Kartoza
>> Project chair: QGIS.org <http://qgis.org/>
>> 
>> Visit http://kartoza.com <http://kartoza.com/> to find out about open source:
>> 
>> Desktop GIS programming services
>> Geospatial web development
>> GIS Training
>> Consulting Services
>> 
>> Skype: timlinux 
>> IRC: timlinux on #qgis at freenode.net <http://freenode.net/>
>> 
>> Kartoza is a merger between Linfiniti and Afrispatial
>> 
>> 
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/d44a6e1b/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/d44a6e1b/attachment-0001.jpg>

From nirvn.asia at gmail.com  Mon Nov  6 04:58:17 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Mon, 6 Nov 2017 19:58:17 +0700
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
	process
In-Reply-To: <ff63dd30fa08b609f16cf497125a18a1@carto.net>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
 <20171106101711.pelcgpkwx2ugqadx@norbit.de>
 <96356230-df2d-d229-a3eb-e548f4537553@opengis.ch>
 <7542805c97ab8672df266276e3ebaeaf@carto.net>
 <CAC_qv=oT3cBryK+c3+pkvCiJB8jCUGeY=Zjt7m=+jeoepHgHkA@mail.gmail.com>
 <ff63dd30fa08b609f16cf497125a18a1@carto.net>
Message-ID: <CAC_qv=prK4m=deyfQrq1AUjQNWgGFh=kTnizi59cxUqL02+HwQ@mail.gmail.com>

I still think it's worth considering feature freeze exceptions ( versus a
feature freeze delay ). It'd be a shame for this debate/discussion not to
take place.

As for stability, I've had a rather positive experience with current master
builds in terms of stability. Hope you can dissect the issues that are
haunting you in time :)

Math

On Nov 6, 2017 7:53 PM, "Andreas Neumann" <a.neumann at carto.net> wrote:

> Well - in my opinion, if we delay the feature freeze we also have to delay
> the release.
>
> QGIS 3 still crashes several times a day (esp. if you work with editing,
> complex forms and PostgreSQL transaction mode). QGIS 3 is way more unstable
> than QGIS 2.18. We need at least 1.5 months, better 2 months between
> feature freeze and release. If we move feature freeze, say, until end of
> November, we can't release in December or we would loose the good
> reputation that QGIS built in the last couple of years.
>
> That is just my personal opinion. I use QGIS 3 a lot - and it is not a
> pleasant piece of software currently, but a major source of headaches and
> grief, not because of UI or missing features, but because of all the
> crashes I often experience (and are often hard to reproduce and report).
>
> Andreas
>
> On 2017-11-06 13:17, Mathieu Pellerin wrote:
>
> Hmm we just jumped from discussing feature freeze exception to delaying
> release, is that correct?
>
> Personally, I'm big +1 for feature freeze exceptions-only *if* release
> date remains achievable. If not, it seems there is a consensus on adding
> additional time to this dev cycle, which remains preferable to shipping 3.0
> with crucial architectural changes and additions missing.
>
> That said I'm a -1 to go into a "release whenever it's ready" mode without
> a firm agreed upon (delayed) release date.
>
> M
>
> On Nov 6, 2017 6:59 PM, "Andreas Neumann" <a.neumann at carto.net> wrote:
>
>> It would be nice if the core devs could agree on items that need to go
>> into 3.0 before feature freeze - so we don't have to delay longer than
>> necessary.
>>
>> The other question is how to deal with features that could also be done
>> in 3.2. Can they also go into 3.0 if they are ready before the feature
>> freeze? In other words: do we already have a feature freeze but allow
>> exceptions where core devs agree on? Or will the whole feature freeze be
>> delayed?
>>
>> Andreas
>>
>> On 2017-11-06 12:23, Matthias Kuhn wrote:
>>
>> Hi Jürgen,
>>
>> On 11/06/2017 11:17 AM, Jürgen E. Fischer wrote:
>>
>> Hi Matthias,
>>
>> On Mon, 06. Nov 2017 at 11:00:04 +0100, Matthias Kuhn wrote:
>>
>> Instead I would like the PSC to discuss a flexible handling of this
>> particular major release with the very specific requirements.
>>
>> The "release when ready" policy was made for 3.0 and only for 3.0.  The plan is
>> to return to the original way of doing release afterwards.
>>
>> That would have been my preference anyway and returning to it is ok with me.
>>
>>
>> Nice, looks like everyone agrees.
>> Can we schedule a release-plan meeting with involved devs to discuss
>> if/when it's ready?
>>
>> Thanks a lot
>> Matthias
>>
>> Although IIRC the move to a fixed date was made because others argued that they
>> need to communicate a date to their customers.
>>
>>
>> Jürgen
>>
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/281d7e57/attachment.html>

From matthias at opengis.ch  Mon Nov  6 05:07:22 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 6 Nov 2017 14:07:22 +0100
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
 process
In-Reply-To: <ff63dd30fa08b609f16cf497125a18a1@carto.net>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
 <20171106101711.pelcgpkwx2ugqadx@norbit.de>
 <96356230-df2d-d229-a3eb-e548f4537553@opengis.ch>
 <7542805c97ab8672df266276e3ebaeaf@carto.net>
 <CAC_qv=oT3cBryK+c3+pkvCiJB8jCUGeY=Zjt7m=+jeoepHgHkA@mail.gmail.com>
 <ff63dd30fa08b609f16cf497125a18a1@carto.net>
Message-ID: <293e8a92-a3cf-024c-d1e6-4bf422bac24f@opengis.ch>

Hi,

On 11/06/2017 01:53 PM, Andreas Neumann wrote:
>
> Well - in my opinion, if we delay the feature freeze we also have to
> delay the release.
>
> QGIS 3 still crashes several times a day (esp. if you work with
> editing, complex forms and PostgreSQL transaction mode).
>
QGIS 3 is still not even released while 2.18 received more path releases
than any QGIS release before (except for 2.14). QGIS 2.99 is probably
more stable already now than QGIS 2.18.0 has been.

> QGIS 3 is way more unstable than QGIS 2.18. We need at least 1.5
> months, better 2 months between feature freeze and release. If we move
> feature freeze, say, until end of November, we can't release in
> December or we would loose the good reputation that QGIS built in the
> last couple of years.
>
I would prefer to keep feature freeze in place and only discuss for what
we need exemptions. At the same time we can already improve the quality
of the release and perform bugfixing. Based on the aforementioned
discussion we can decide how much time we need.

> That is just my personal opinion. I use QGIS 3 a lot - and it is not a
> pleasant piece of software currently, but a major source of headaches
> and grief, not because of UI or missing features, but because of all
> the crashes I often experience (and are often hard to reproduce and
> report).
>
Can you point me towards the issue reports with the information from the
crash dialog?

Thanks
Matthias

> Andreas
>
> On 2017-11-06 13:17, Mathieu Pellerin wrote:
>
>> Hmm we just jumped from discussing feature freeze exception to
>> delaying release, is that correct?
>>  
>> Personally, I'm big +1 for feature freeze exceptions-only *if*
>> release date remains achievable. If not, it seems there is a
>> consensus on adding additional time to this dev cycle, which remains
>> preferable to shipping 3.0 with crucial architectural changes and
>> additions missing.
>>  
>> That said I'm a -1 to go into a "release whenever it's ready" mode
>> without a firm agreed upon (delayed) release date.
>>  
>> M
>>
>> On Nov 6, 2017 6:59 PM, "Andreas Neumann" <a.neumann at carto.net
>> <mailto:a.neumann at carto.net>> wrote:
>>
>>     It would be nice if the core devs could agree on items that need
>>     to go into 3.0 before feature freeze - so we don't have to delay
>>     longer than necessary.
>>
>>     The other question is how to deal with features that could also
>>     be done in 3.2. Can they also go into 3.0 if they are ready
>>     before the feature freeze? In other words: do we already have a
>>     feature freeze but allow exceptions where core devs agree on? Or
>>     will the whole feature freeze be delayed?
>>
>>     Andreas
>>
>>     On 2017-11-06 12:23, Matthias Kuhn wrote:
>>
>>         Hi Jürgen,
>>
>>
>>         On 11/06/2017 11:17 AM, Jürgen E. Fischer wrote:
>>
>>             Hi Matthias,
>>
>>             On Mon, 06. Nov 2017 at 11:00:04 +0100, Matthias Kuhn wrote:
>>
>>                 Instead I would like the PSC to discuss a flexible handling of this
>>                 particular major release with the very specific requirements.
>>
>>             The "release when ready" policy was made for 3.0 and only for 3.0.  The plan is
>>             to return to the original way of doing release afterwards.
>>
>>             That would have been my preference anyway and returning to it is ok with me.
>>
>>
>>         Nice, looks like everyone agrees.
>>         Can we schedule a release-plan meeting with involved devs to
>>         discuss if/when it's ready?
>>
>>         Thanks a lot
>>         Matthias
>>
>>             Although IIRC the move to a fixed date was made because others argued that they
>>             need to communicate a date to their customers.
>>
>>
>>             Jürgen
>>
>>
>>
>>             _______________________________________________
>>             QGIS-Developer mailing list
>>             QGIS-Developer at lists.osgeo.org
>>             <mailto:QGIS-Developer at lists.osgeo.org>
>>             List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>             <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>             Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>             <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>
>>
>>
>>         _______________________________________________
>>         QGIS-Developer mailing list
>>         QGIS-Developer at lists.osgeo.org
>>         <mailto:QGIS-Developer at lists.osgeo.org>
>>         List info:
>>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>         Unsubscribe:
>>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>
>>
>>
>>     _______________________________________________
>>     QGIS-Developer mailing list
>>     QGIS-Developer at lists.osgeo.org
>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>     List info:
>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>     Unsubscribe:
>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/a9e71884/attachment-0001.html>

From a.neumann at carto.net  Mon Nov  6 05:08:24 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 06 Nov 2017 14:08:24 +0100
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
 process
In-Reply-To: <CAC_qv=prK4m=deyfQrq1AUjQNWgGFh=kTnizi59cxUqL02+HwQ@mail.gmail.com>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
 <20171106101711.pelcgpkwx2ugqadx@norbit.de>
 <96356230-df2d-d229-a3eb-e548f4537553@opengis.ch>
 <7542805c97ab8672df266276e3ebaeaf@carto.net>
 <CAC_qv=oT3cBryK+c3+pkvCiJB8jCUGeY=Zjt7m=+jeoepHgHkA@mail.gmail.com>
 <ff63dd30fa08b609f16cf497125a18a1@carto.net>
 <CAC_qv=prK4m=deyfQrq1AUjQNWgGFh=kTnizi59cxUqL02+HwQ@mail.gmail.com>
Message-ID: <96d717beeb62c5a0c2cc433f511f8fc6@carto.net>

Hi, 

That is, what I was trying to find out: are we aiming for a "soft
feature freeze" as Tim described it - meaning that every new feature or
major API change that is merged now, needs approval from some core devs
- or are we still allowing any new feature to land in QGIS 3? 

In any case - I fear that the bug fixing time is getting too short now,
if we aim at a december release. 

@Matthieu: as I said, my crashes are often happening with forms,
relations and PostgreSQL transaction mode. Just recently, QGIS crashed
every time I used the Identify tool - really scary! Matthias fixed that
particular problem (related to relation reference widgets) meanwhile -
but there are more such crashes ... 

Even more scary: QGIS is marking features as if they were manipulated /
edited (displayed as red in the side bar in the forms mode) although I
did not enter edit mode. Really scary and not trustworthy! 

Definitely QGIS 3 is nowhere near to being production ready if you need
to rely on it as a PostgreSQL editing platform with lots of relations
and complex forms and widgets. 

Andreas 

On 2017-11-06 13:58, Mathieu Pellerin wrote:

> I still think it's worth considering feature freeze exceptions ( versus a feature freeze delay ). It'd be a shame for this debate/discussion not to take place. 
> 
> As for stability, I've had a rather positive experience with current master builds in terms of stability. Hope you can dissect the issues that are haunting you in time :) 
> 
> Math 
> 
> On Nov 6, 2017 7:53 PM, "Andreas Neumann" <a.neumann at carto.net> wrote:
> 
> Well - in my opinion, if we delay the feature freeze we also have to delay the release. 
> 
> QGIS 3 still crashes several times a day (esp. if you work with editing, complex forms and PostgreSQL transaction mode). QGIS 3 is way more unstable than QGIS 2.18. We need at least 1.5 months, better 2 months between feature freeze and release. If we move feature freeze, say, until end of November, we can't release in December or we would loose the good reputation that QGIS built in the last couple of years. 
> 
> That is just my personal opinion. I use QGIS 3 a lot - and it is not a pleasant piece of software currently, but a major source of headaches and grief, not because of UI or missing features, but because of all the crashes I often experience (and are often hard to reproduce and report). 
> 
> Andreas 
> 
> On 2017-11-06 13:17, Mathieu Pellerin wrote: 
> Hmm we just jumped from discussing feature freeze exception to delaying release, is that correct? 
> 
> Personally, I'm big +1 for feature freeze exceptions-only *if* release date remains achievable. If not, it seems there is a consensus on adding additional time to this dev cycle, which remains preferable to shipping 3.0 with crucial architectural changes and additions missing. 
> 
> That said I'm a -1 to go into a "release whenever it's ready" mode without a firm agreed upon (delayed) release date. 
> 
> M 
> 
> On Nov 6, 2017 6:59 PM, "Andreas Neumann" <a.neumann at carto.net> wrote:
> 
> It would be nice if the core devs could agree on items that need to go into 3.0 before feature freeze - so we don't have to delay longer than necessary. 
> 
> The other question is how to deal with features that could also be done in 3.2. Can they also go into 3.0 if they are ready before the feature freeze? In other words: do we already have a feature freeze but allow exceptions where core devs agree on? Or will the whole feature freeze be delayed? 
> 
> Andreas 
> 
> On 2017-11-06 12:23, Matthias Kuhn wrote: 
> 
> Hi Jürgen, 
> On 11/06/2017 11:17 AM, Jürgen E. Fischer wrote: 
> 
> Hi Matthias,
> 
> On Mon, 06. Nov 2017 at 11:00:04 +0100, Matthias Kuhn wrote:
> 
> Instead I would like the PSC to discuss a flexible handling of this
> particular major release with the very specific requirements.
> 
> The "release when ready" policy was made for 3.0 and only for 3.0.  The plan is
> to return to the original way of doing release afterwards.
> 
> That would have been my preference anyway and returning to it is ok with me.

Nice, looks like everyone agrees.
Can we schedule a release-plan meeting with involved devs to discuss
if/when it's ready?

Thanks a lot
Matthias

> Although IIRC the move to a fixed date was made because others argued that they
> need to communicate a date to their customers.
> 
> Jürgen
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]


_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]


 

Links:
------
[1] https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/48547f7c/attachment.html>

From matthias at opengis.ch  Mon Nov  6 05:15:34 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 6 Nov 2017 14:15:34 +0100
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
 process
In-Reply-To: <D6CAE034-D1B6-4302-BCC5-F5DC1BD558B1@kartoza.com>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
 <D6CAE034-D1B6-4302-BCC5-F5DC1BD558B1@kartoza.com>
Message-ID: <3deffbcc-d4fe-4bea-8b66-98d64a999d24@opengis.ch>

Hi Tim

On 11/06/2017 01:57 PM, Tim Sutton wrote:
> Hi
>
>> On 06 Nov 2017, at 12:00, Matthias Kuhn <matthias at opengis.ch
>> <mailto:matthias at opengis.ch>> wrote:
>>
>> Hi Tim,
>>
>> Thanks for raising this, I think it's very important to have everyone
>> on board and especially have Jürgen as Release Manager agree on the plan.
>>
>> For what I think, the 3.0 release is a very special release since we
>> have the unique possibility to work on the API and to some degree on
>> workflows. Actually this is in my opinion not only a possibility but
>> an obligation as we will severely disappoint plugin developers and
>> users if we break things again in the near future.
>>
>> The calls for exemption that we have now are mostly backed up with
>> the argument that right now is the right time to do certain things.
>> This argument can not be repeated for future 3.x releases. I would
>> therefore propose not to discuss the fixed release schedule in
>> general, it has IMO worked out quite nicely. Instead I would like the
>> PSC to discuss a flexible handling of this particular major release
>> with the very specific requirements.
>>
>
> Thanks for your reply Matthias. Sorry I was unclear - 100% agreed that
> we should see the regular 4 month release cycle in place - I intended
> ‘release when it’s ready’ to apply only to QGIS 3.0. We basically go
> into a mode where we are in ‘soft freeze’ - where there should be
> agreement before merging PR’s and when we agree (e.g. by monthly vote)
> that all exceptions are done, we enter a formal freeze. 
>

Thanks Tim, that sounds like a good path forward. To avoid being in this
state for too long I'd prefer to go for 2 weeks instead of a month and
agree beforehand on what needs to be done. This way we also have a clear
list of criteria for decision making.

Regards
Matthias
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/6a99d6c3/attachment.html>

From a.neumann at carto.net  Mon Nov  6 05:44:00 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 06 Nov 2017 14:44:00 +0100
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
 process
In-Reply-To: <293e8a92-a3cf-024c-d1e6-4bf422bac24f@opengis.ch>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
 <20171106101711.pelcgpkwx2ugqadx@norbit.de>
 <96356230-df2d-d229-a3eb-e548f4537553@opengis.ch>
 <7542805c97ab8672df266276e3ebaeaf@carto.net>
 <CAC_qv=oT3cBryK+c3+pkvCiJB8jCUGeY=Zjt7m=+jeoepHgHkA@mail.gmail.com>
 <ff63dd30fa08b609f16cf497125a18a1@carto.net>
 <293e8a92-a3cf-024c-d1e6-4bf422bac24f@opengis.ch>
Message-ID: <cc189413f52b33d4d9f143801ea00dc4@carto.net>

Hi, 

> Can you point me towards the issue reports with the information from the crash dialog?

I will try to report the crashes better. However, the crashes are often
not so easy to reproduce and not so easy to describe what I did. But
they happen quite often. 

In general there are 22 open issues with crashes for master: 

https://issues.qgis.org/projects/qgis/issues?utf8=%E2%9C%93&set_filter=1&f%5B%5D=tracker_id&op%5Btracker_id%5D=%3D&v%5Btracker_id%5D%5B%5D=1&f%5B%5D=cf_10&op%5Bcf_10%5D=%3D&v%5Bcf_10%5D%5B%5D=1&f%5B%5D=status_id&op%5Bstatus_id%5D=o&f%5B%5D=cf_9&op%5Bcf_9%5D=%3D&v%5Bcf_9%5D%5B%5D=master&f%5B%5D=&c%5B%5D=tracker&c%5B%5D=status&c%5B%5D=priority&c%5B%5D=subject&c%5B%5D=assigned_to&c%5B%5D=updated_on&c%5B%5D=category&c%5B%5D=cf_8&group_by=


and in addition there are 47 open issues with crashes on 2.18 - many of
them are also valid for master. 

And the majority of QGIS users haven't really started testing QGIS 3. So
we should be prepared for many more issues. 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/0a9824a2/attachment-0001.html>

From matthias at opengis.ch  Mon Nov  6 06:02:54 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 6 Nov 2017 15:02:54 +0100
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
 process
In-Reply-To: <cc189413f52b33d4d9f143801ea00dc4@carto.net>
References: <9263FC3F-1273-4681-92BC-0ECD707EF9DC@kartoza.com>
 <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
 <20171106101711.pelcgpkwx2ugqadx@norbit.de>
 <96356230-df2d-d229-a3eb-e548f4537553@opengis.ch>
 <7542805c97ab8672df266276e3ebaeaf@carto.net>
 <CAC_qv=oT3cBryK+c3+pkvCiJB8jCUGeY=Zjt7m=+jeoepHgHkA@mail.gmail.com>
 <ff63dd30fa08b609f16cf497125a18a1@carto.net>
 <293e8a92-a3cf-024c-d1e6-4bf422bac24f@opengis.ch>
 <cc189413f52b33d4d9f143801ea00dc4@carto.net>
Message-ID: <d9389e82-2eba-d70c-e434-e6deca90ab55@opengis.ch>

Hi

On 11/06/2017 02:44 PM, Andreas Neumann wrote:
>
> Hi,
>
>
>> Can you point me towards the issue reports with the information from
>> the crash dialog?
>>
>>
> I will try to report the crashes better. However, the crashes are
> often not so easy to reproduce and not so easy to describe what I did.
> But they happen quite often.
>
I understand your frustration as an early adopter, please don't get me
wrong. You report a lot and with high quality Please keep this up.

I'll have a look at those crashes, but let's keep focused here and
discuss the release strategy.

I think especially with the demand for stability you raise here it's
important that we don't talk about "lifting feature freeze" but about
what can we do to ship:

a) everything we want from a code-perspective
b) a high quality, stable release (on which we can and will also improve
in subsequent patch releases)
c) within a finite timeframe

Best regards
Matthias

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/93232964/attachment.html>

From tom.chadwin at nnpa.org.uk  Mon Nov  6 06:22:12 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Mon, 6 Nov 2017 07:22:12 -0700 (MST)
Subject: [QGIS-Developer] PROPOSAL: change how we manage the 3.0 release
	process
In-Reply-To: <d9389e82-2eba-d70c-e434-e6deca90ab55@opengis.ch>
References: <7593b99d-c0a4-09c5-399c-5edf62e2e9b1@opengis.ch>
 <20171106101711.pelcgpkwx2ugqadx@norbit.de>
 <96356230-df2d-d229-a3eb-e548f4537553@opengis.ch>
 <7542805c97ab8672df266276e3ebaeaf@carto.net>
 <CAC_qv=oT3cBryK+c3+pkvCiJB8jCUGeY=Zjt7m=+jeoepHgHkA@mail.gmail.com>
 <ff63dd30fa08b609f16cf497125a18a1@carto.net>
 <293e8a92-a3cf-024c-d1e6-4bf422bac24f@opengis.ch>
 <cc189413f52b33d4d9f143801ea00dc4@carto.net>
 <d9389e82-2eba-d70c-e434-e6deca90ab55@opengis.ch>
Message-ID: <1509978132084-0.post@n6.nabble.com>

Matthias Kuhn 🌍 wrote
> I think especially with the demand for stability you raise here it's
> important that we don't talk about "lifting feature freeze" but about
> what can we do to ship:
> 
> a) everything we want from a code-perspective
> b) a high quality, stable release (on which we can and will also improve
> in subsequent patch releases)
> c) within a finite timeframe

d) with all API changes complete from 2.0 and no need for API breakage until
v4.

I'm really pleased Andreas has raised the bugfixing question so forcefully.
For me, API breakage and stability are the issues of much greater importance
over everything else. Non-API-breaking features can wait until 3.2. The more
features we introduce during soft feature-freeze, the less time *those*
features get during bugfixing.

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From landa.martin at gmail.com  Mon Nov  6 07:51:30 2017
From: landa.martin at gmail.com (Martin Landa)
Date: Mon, 6 Nov 2017 16:51:30 +0100
Subject: [QGIS-Developer] pyqgis: new sqlite layer - no records in attribute
	table
Message-ID: <CA+Ei1Od3GqXQMoAfbScbRHt1ymsgWM_MwvNgmgRdtor5HrjzUw@mail.gmail.com>

Hi,

a new SQLite layer created using Python libraries:

layer = QgsVectorLayer("test.sqlite", "test", "ogr") # empty layer
created by GDAL
layer.dataProvider().addAttributes([...])
layer.updateFields()

feats = []
for ...:
   feat=QgsFeature()
   ...
   feats.append(feat)

layer.AddFeatures(feats)

The new layer is loaded (in pyqgis code), features can be identified,
but attribute table is empty (0 filtered features), see attached
screenshot [1]. When I load created SQLite layer via GUI, attribute
table is filled.

Any idea what is missing/wrong in code? Thanks, Ma

[1] http://geo102.fsv.cvut.cz/~landa/tmp/qgis-no-attrs.png

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From jef at norbit.de  Mon Nov  6 08:17:18 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 6 Nov 2017 17:17:18 +0100
Subject: [QGIS-Developer] pyqgis: new sqlite layer - no records in
 attribute table
In-Reply-To: <CA+Ei1Od3GqXQMoAfbScbRHt1ymsgWM_MwvNgmgRdtor5HrjzUw@mail.gmail.com>
References: <CA+Ei1Od3GqXQMoAfbScbRHt1ymsgWM_MwvNgmgRdtor5HrjzUw@mail.gmail.com>
Message-ID: <20171106161718.5h7oujyaytjofl6h@norbit.de>

Hi Martin,

On Mon, 06. Nov 2017 at 16:51:30 +0100, Martin Landa wrote:
> layer = QgsVectorLayer("test.sqlite", "test", "ogr") # empty layer
> created by GDAL
> layer.dataProvider().addAttributes([...])
> layer.updateFields()

Don't use the provider directly, but the layer, ie. startEditing, addFeature,
commitChanges - or layer.reload() after changing via the provider.

Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171106/a7c53b6c/attachment.sig>

From rldhont at gmail.com  Mon Nov  6 08:23:38 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Mon, 6 Nov 2017 17:23:38 +0100
Subject: [QGIS-Developer] loadLayerDefinition does not respect relative path
	from qlr file
Message-ID: <e4456329-89aa-c4d4-17ff-c04fb3849d1f@gmail.com>

Hi Devs,

I have found a bug in 2.18 that annoy me a lot:
* I can't load a layer definition in an existing project because the 
relative path in the layer definition is interpreted from the project 
file and not the layer definition file (.qlr)

So the layer definition can only be used in an not already saved project.

Do you know, how to force the absolute path ?

Regards,


From rldhont at gmail.com  Mon Nov  6 11:50:03 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Mon, 6 Nov 2017 20:50:03 +0100
Subject: [QGIS-Developer] loadLayerDefinition does not respect relative
	path from qlr file
In-Reply-To: <e4456329-89aa-c4d4-17ff-c04fb3849d1f@gmail.com>
References: <e4456329-89aa-c4d4-17ff-c04fb3849d1f@gmail.com>
Message-ID: <80c43e53-67c4-7699-f232-c398b375c658@gmail.com>

Hi Devs,

I will propose a PR to fix it.

Regards,
René-Luc

Le 06/11/2017 à 17:23, René-Luc Dhont a écrit :
> Hi Devs,
>
> I have found a bug in 2.18 that annoy me a lot:
> * I can't load a layer definition in an existing project because the 
> relative path in the layer definition is interpreted from the project 
> file and not the layer definition file (.qlr)
>
> So the layer definition can only be used in an not already saved project.
>
> Do you know, how to force the absolute path ?
>
> Regards,
>


From landa.martin at gmail.com  Mon Nov  6 12:15:26 2017
From: landa.martin at gmail.com (Martin Landa)
Date: Mon, 6 Nov 2017 21:15:26 +0100
Subject: [QGIS-Developer] pyqgis: new sqlite layer - no records in
 attribute table
In-Reply-To: <20171106161718.5h7oujyaytjofl6h@norbit.de>
References: <CA+Ei1Od3GqXQMoAfbScbRHt1ymsgWM_MwvNgmgRdtor5HrjzUw@mail.gmail.com>
 <20171106161718.5h7oujyaytjofl6h@norbit.de>
Message-ID: <CA+Ei1OeN2SBsqxE41gKzf2-ZhCTB+-zx_YZbFOeB4WtV+hH7fg@mail.gmail.com>

Hi,

2017-11-06 17:17 GMT+01:00 Jürgen E. Fischer <jef at norbit.de>:
> Don't use the provider directly, but the layer, ie. startEditing, addFeature,
> commitChanges - or layer.reload() after changing via the provider.

thanks for quick feedback, I will try. Martin

PS: sorry for the same messages (they were blocked due limit of 80Kb)


-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From noreply at qgis.org  Mon Nov  6 12:23:55 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 06 Nov 2017 20:23:55 -0000
Subject: [QGIS-Developer] Plugin [1353] Search Layers approval notification.
Message-ID: <20171106202355.28655.28000@320558c5528b>


Plugin Search Layers approval by rduivenvoorde.
The plugin version "[1353] Search Layers 0.2" is now approved
Link: http://plugins.qgis.org/plugins/searchlayers/

From tim at kartoza.com  Mon Nov  6 14:32:16 2017
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 7 Nov 2017 00:32:16 +0200
Subject: [QGIS-Developer] Soft freeze for QGIS 3.0
Message-ID: <5502CB84-E7C3-4414-B0FB-E87E590E8F86@qgis.org>

Hi All 

As discussed earlier, we raised the issue of when and how to freeze at the PSC meeting. We tried to take on board your various comments and came out with this recommendation:

• The current master branch will be in ‘soft freeze’ with a list of allowed PR’s / Future PR’s related to these features:
	• Datum transform handling (https://github.com/qgis/QGIS/pull/5535)
	• SAGA Support (https://github.com/qgis/QGIS/pull/5155)
	• GRASS Support (https://github.com/qgis/QGIS/pull/5426)
	• Metadata write support to file system (https://github.com/qgis/QGIS/pull/5379)
	• UI Widgets for drag forms (https://github.com/qgis/QGIS/pull/5467)
	* Composer refactor ( https://github.com/qgis/QGIS/pull/5486 to drop bindings and new PR to come for composer refactor).

Please let us know if there were other ‘must merge’ features that were discussed but that I missed in the list above.

• We will hold a rolling vote put to core developer (on loomio.org) every two weeks (starting two weeks from now) with a simple question “shall we freeze”? Once we have quorum on that vote, we go ahead and freeze and Jürgen can pretty much ignore 3.x in his release planning until that vote passes. 
• The paid bug fixing should commence now already regardless of when the freeze will actually happen.


To address specifically Mathieu’s concerns about an unspecified date in the future, we do not anticipate an endless feature frenzy - the ‘soft freeze’ should keep the timelines reasonable while still giving us a chance to make sure that they API changes get a chance to land.


I hope that woks for the majority of you. If you want o make the release come faster, help by reviewing code in PR’s, testing new features and generally pointing the QGIS car towards the finish line!

Regards

Tim



 



---

Tim Sutton
QGIS Project Steering Committee Chair
tim at qgis.org




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171107/8d88d912/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis-icon-60x60.png
Type: image/png
Size: 4401 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171107/8d88d912/attachment.png>

From madmanwoo at gmail.com  Mon Nov  6 14:38:44 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Tue, 7 Nov 2017 08:38:44 +1000
Subject: [QGIS-Developer] Soft freeze for QGIS 3.0
In-Reply-To: <5502CB84-E7C3-4414-B0FB-E87E590E8F86@qgis.org>
References: <5502CB84-E7C3-4414-B0FB-E87E590E8F86@qgis.org>
Message-ID: <CAAi8Yg-mkNRi31ycpYryODj=-VZuFMOXTT84QoUbHVXrOGD9gg@mail.gmail.com>

Hey Tim,

If I can get the first run Welcome Screen to intro QGIS 3 ready soon do you
think I can sneak that one in.  No API changes mainly just a bit of nice UX
for first run when we release.

Not a major issue if no.

Regards,
Nathan

On Tue, Nov 7, 2017 at 8:32 AM, Tim Sutton <tim at kartoza.com> wrote:

> Hi All
>
> As discussed earlier, we raised the issue of when and how to freeze at the
> PSC meeting. We tried to take on board your various comments and came out
> with this recommendation:
>
> • The current master branch will be in ‘soft freeze’ with a list of
> allowed PR’s / Future PR’s related to these features:
> • Datum transform handling (https://github.com/qgis/QGIS/pull/5535)
> • SAGA Support (https://github.com/qgis/QGIS/pull/5155)
> • GRASS Support (https://github.com/qgis/QGIS/pull/5426)
> • Metadata write support to file system (https://github.com/qgis/QGIS/
> pull/5379)
> • UI Widgets for drag forms (https://github.com/qgis/QGIS/pull/5467)
> * Composer refactor ( https://github.com/qgis/QGIS/pull/5486 to drop
> bindings and new PR to come for composer refactor).
>
> Please let us know if there were other ‘must merge’ features that were
> discussed but that I missed in the list above.
>
> • We will hold a rolling vote put to core developer (on loomio.org) every
> two weeks (starting two weeks from now) with a simple question “shall we
> freeze”? Once we have quorum on that vote, we go ahead and freeze and
> Jürgen can pretty much ignore 3.x in his release planning until that vote
> passes.
> • The paid bug fixing should commence now already regardless of when the
> freeze will actually happen.
>
>
> To address specifically Mathieu’s concerns about an unspecified date in
> the future, we do not anticipate an endless feature frenzy - the ‘soft
> freeze’ should keep the timelines reasonable while still giving us a chance
> to make sure that they API changes get a chance to land.
>
>
> I hope that woks for the majority of you. If you want o make the release
> come faster, help by reviewing code in PR’s, testing new features and
> generally pointing the QGIS car towards the finish line!
>
> Regards
>
> Tim
>
>
>
>
>
>
>
> ---
>
> Tim Sutton
> QGIS Project Steering Committee Chair
> tim at qgis.org
>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171107/3a9028ed/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis-icon-60x60.png
Type: image/png
Size: 4401 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171107/3a9028ed/attachment-0001.png>

From nyall.dawson at gmail.com  Mon Nov  6 22:01:50 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 7 Nov 2017 16:01:50 +1000
Subject: [QGIS-Developer] Soft freeze for QGIS 3.0
In-Reply-To: <5502CB84-E7C3-4414-B0FB-E87E590E8F86@qgis.org>
References: <5502CB84-E7C3-4414-B0FB-E87E590E8F86@qgis.org>
Message-ID: <CAB28Asgj3dqZgkwpz-LHLKBxB6kjME5CwrjG92Fwq_AsXoTZ_g@mail.gmail.com>

On 7 November 2017 at 08:32, Tim Sutton <tim at kartoza.com> wrote:
>
> Hi All
>
> As discussed earlier, we raised the issue of when and how to freeze at the PSC meeting. We tried to take on board your various comments and came out with this recommendation:
>
> • The current master branch will be in ‘soft freeze’ with a list of allowed PR’s / Future PR’s related to these features:
> • Datum transform handling (https://github.com/qgis/QGIS/pull/5535)
> • SAGA Support (https://github.com/qgis/QGIS/pull/5155)
> • GRASS Support (https://github.com/qgis/QGIS/pull/5426)
> • Metadata write support to file system (https://github.com/qgis/QGIS/pull/5379)
> • UI Widgets for drag forms (https://github.com/qgis/QGIS/pull/5467)
> * Composer refactor ( https://github.com/qgis/QGIS/pull/5486 to drop bindings and new PR to come for composer refactor).

Hi PSC,

Many thanks for making this tricky decision. Personally I really like
the idea of a soft freeze and am glad to see that the items above will
be included in the release.

Thanks in particular to Jürgen, and my apologies for the extra work
we're causing for release!

Nyall

From tim at kartoza.com  Mon Nov  6 22:04:59 2017
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 7 Nov 2017 08:04:59 +0200
Subject: [QGIS-Developer] Soft freeze for QGIS 3.0
In-Reply-To: <CAAi8Yg-mkNRi31ycpYryODj=-VZuFMOXTT84QoUbHVXrOGD9gg@mail.gmail.com>
References: <5502CB84-E7C3-4414-B0FB-E87E590E8F86@qgis.org>
 <CAAi8Yg-mkNRi31ycpYryODj=-VZuFMOXTT84QoUbHVXrOGD9gg@mail.gmail.com>
Message-ID: <74F90F38-EB92-4001-83CD-43CA3ED93AD2@kartoza.com>

Hi

Oh yeah I meant to ask if there was anything important I missed in the list.

> On 07 Nov 2017, at 00:38, Nathan Woodrow <madmanwoo at gmail.com> wrote:
> 
> Hey Tim,
> 
> If I can get the first run Welcome Screen to intro QGIS 3 ready soon do you think I can sneak that one in.  No API changes mainly just a bit of nice UX for first run when we release.

+1 from me it will be good for our users - perhaps we can somehow link them to the visual changelog? http://changelog.qgis.org/en/qgis/version/3.0.0/ <http://changelog.qgis.org/en/qgis/version/3.0.0/> (or the  static page that Richard generates from it).

Regards

Tim

> 
> Not a major issue if no.
> 
> Regards,
> Nathan
> 
> On Tue, Nov 7, 2017 at 8:32 AM, Tim Sutton <tim at kartoza.com <mailto:tim at kartoza.com>> wrote:
> Hi All 
> 
> As discussed earlier, we raised the issue of when and how to freeze at the PSC meeting. We tried to take on board your various comments and came out with this recommendation:
> 
> • The current master branch will be in ‘soft freeze’ with a list of allowed PR’s / Future PR’s related to these features:
> 	• Datum transform handling (https://github.com/qgis/QGIS/pull/5535 <https://github.com/qgis/QGIS/pull/5535>)
> 	• SAGA Support (https://github.com/qgis/QGIS/pull/5155 <https://github.com/qgis/QGIS/pull/5155>)
> 	• GRASS Support (https://github.com/qgis/QGIS/pull/5426 <https://github.com/qgis/QGIS/pull/5426>)
> 	• Metadata write support to file system (https://github.com/qgis/QGIS/pull/5379 <https://github.com/qgis/QGIS/pull/5379>)
> 	• UI Widgets for drag forms (https://github.com/qgis/QGIS/pull/5467 <https://github.com/qgis/QGIS/pull/5467>)
> 	* Composer refactor ( https://github.com/qgis/QGIS/pull/5486 <https://github.com/qgis/QGIS/pull/5486> to drop bindings and new PR to come for composer refactor).
> 
> Please let us know if there were other ‘must merge’ features that were discussed but that I missed in the list above.
> 
> • We will hold a rolling vote put to core developer (on loomio.org <http://loomio.org/>) every two weeks (starting two weeks from now) with a simple question “shall we freeze”? Once we have quorum on that vote, we go ahead and freeze and Jürgen can pretty much ignore 3.x in his release planning until that vote passes. 
> • The paid bug fixing should commence now already regardless of when the freeze will actually happen.
> 
> 
> To address specifically Mathieu’s concerns about an unspecified date in the future, we do not anticipate an endless feature frenzy - the ‘soft freeze’ should keep the timelines reasonable while still giving us a chance to make sure that they API changes get a chance to land.
> 
> 
> I hope that woks for the majority of you. If you want o make the release come faster, help by reviewing code in PR’s, testing new features and generally pointing the QGIS car towards the finish line!
> 
> Regards
> 
> Tim
> 
> 
> 
>  <qgis-icon-60x60.png>
> 
> 
> 
> ---
> 
> Tim Sutton
> QGIS Project Steering Committee Chair
> tim at qgis.org <mailto:tim at qgis.org>
> 
> 
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 

—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171107/fd31a626/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171107/fd31a626/attachment-0001.jpg>

From rldhont at gmail.com  Tue Nov  7 00:56:44 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Tue, 7 Nov 2017 09:56:44 +0100
Subject: [QGIS-Developer] loadLayerDefinition does not respect relative
	path from qlr file
In-Reply-To: <80c43e53-67c4-7699-f232-c398b375c658@gmail.com>
References: <e4456329-89aa-c4d4-17ff-c04fb3849d1f@gmail.com>
 <80c43e53-67c4-7699-f232-c398b375c658@gmail.com>
Message-ID: <bb20a8a1-68ac-6263-445f-16d405cbaffe@gmail.com>

Hi Devs,

I have found the issue: https://issues.qgis.org/issues/15656 that has 
been closed because the issue has been fixed in master. I reopened it 
because it has not been fixed in LTRs.

I have opened a Pull Request to fix it in 2.18 
https://github.com/qgis/QGIS/pull/5553

Regards,

René-Luc


Le 06/11/2017 à 20:50, René-Luc Dhont a écrit :
> Hi Devs,
>
> I will propose a PR to fix it.
>
> Regards,
> René-Luc
>
> Le 06/11/2017 à 17:23, René-Luc Dhont a écrit :
>> Hi Devs,
>>
>> I have found a bug in 2.18 that annoy me a lot:
>> * I can't load a layer definition in an existing project because the 
>> relative path in the layer definition is interpreted from the project 
>> file and not the layer definition file (.qlr)
>>
>> So the layer definition can only be used in an not already saved 
>> project.
>>
>> Do you know, how to force the absolute path ?
>>
>> Regards,
>>
>


From a.neumann at carto.net  Tue Nov  7 05:47:12 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 07 Nov 2017 14:47:12 +0100
Subject: [QGIS-Developer] Locator questions
Message-ID: <d1064cf184485d093ba18d66c82b68ba@carto.net>

Hi, 

I am starting to explore the new locator widget (the one in the bottom
left in the status bar (thanks Nyall!)) and have some questions: 

My questions are around the feature filter of the active layer, prefixed
with "f": 

 	* In what attributes is it actually searching? In any attribute?
 	* Could I prefix in which attribute I want to search?
 	* What if I want to search in attributes that have a represent_value
(e.g. a relation reference widget) - meaning I don't want to search for
internal code, but human-readable values stored in another table? I am
specifically refering to the relation reference widget.
 	* How would I display the result of a non-spatial table? Could we, if
the layer is non-spatial, open the feature form when I click on a result
in the result list?
 	* Is there somewhere some documentation around how to best use the
locator (in general, not restricted to finding features)? I don't think
that everything is self-explanatory.

Thanks for any information around the locator and maybe for some answers
to my above questions! 

Greetings, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171107/514ee2de/attachment.html>

From wondim81 at gmail.com  Tue Nov  7 06:23:21 2017
From: wondim81 at gmail.com (Wondimagegn Tesfaye)
Date: Tue, 7 Nov 2017 17:23:21 +0300
Subject: [QGIS-Developer] Signal Categorized renderer
In-Reply-To: <CAGa0f9Mic3uGHgTWh3qg82+MC16LwxDf8yvmBNNbBhpOE5j8KQ@mail.gmail.com>
References: <CAGa0f9Mic3uGHgTWh3qg82+MC16LwxDf8yvmBNNbBhpOE5j8KQ@mail.gmail.com>
Message-ID: <CAGa0f9Ohro7fDfr=zkc4Pmk+=VENEP8arPTZULzxy9j-ZxtKzA@mail.gmail.com>

Dear Community,

Does it mean there is no Signal for Categorized renderer?

Regards,
Wondie

On Sun, Nov 5, 2017 at 8:23 PM, Wondimagegn Tesfaye <wondim81 at gmail.com>
wrote:

> Dear Community,
>
> I am looking for a signal triggered when a user clicks on the Classify
> button. The objective is to update the class labels when a user clicks on
> the classify button so that they see the updates early. Currently, I am
> using layer.StyleChanged signal which is triggered a bit later.
>
> --
> Regards,
> Wondimagegn
>



-- 
Regards,
Wondimagegn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171107/da1d32ca/attachment.html>

From rdmailings at duif.net  Tue Nov  7 06:53:38 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 7 Nov 2017 15:53:38 +0100
Subject: [QGIS-Developer] Locator questions
In-Reply-To: <d1064cf184485d093ba18d66c82b68ba@carto.net>
References: <d1064cf184485d093ba18d66c82b68ba@carto.net>
Message-ID: <9a11e47d-03da-e87a-2f28-89423cef34f7@duif.net>

On 07-11-17 14:47, Andreas Neumann wrote:
> Hi,
> 
> I am starting to explore the new locator widget (the one in the bottom
> left in the status bar (thanks Nyall!)) and have some questions:
> 
> My questions are around the feature filter of the active layer, prefixed
> with "f":
> 
>   * In what attributes is it actually searching? In any attribute?
>   * Could I prefix in which attribute I want to search?
>   * What if I want to search in attributes that have a represent_value
>     (e.g. a relation reference widget) - meaning I don't want to search
>     for internal code, but human-readable values stored in another
>     table? I am specifically refering to the relation reference widget.
>   * How would I display the result of a non-spatial table? Could we, if
>     the layer is non-spatial, open the feature form when I click on a
>     result in the result list?
>   * Is there somewhere some documentation around how to best use the
>     locator (in general, not restricted to finding features)? I don't
>     think that everything is self-explanatory.
> 
> Thanks for any information around the locator and maybe for some answers
> to my above questions!

Hi Andreas,

I've been looking around with it too, by first creating a locator for
our national geocoder-service (which has a suggest-service):

https://github.com/rduivenvoorde/pdoklocatorplugin

And added a nomatim-search after finding out how easy it was...

See:
https://github.com/rduivenvoorde/pdoklocatorplugin/blob/master/pdoklocator/plugin.py

That is the minimal stuff you need (I think).

Install http://plugins.qgis.org/plugins/pdoklocator/

It is an experimental/temporary one, I want to remove it later.

I asked Nyall some questions some weeks ago some questions too:
https://lists.osgeo.org/pipermail/qgis-developer/2017-September/049857.html
And Nyall's answers:
https://lists.osgeo.org/pipermail/qgis-developer/2017-October/049905.html

For most questions the answer is:
yes you can implement what you want :-)

We could/should write a blog about it ...

Regards,

Richard Duivenvoorde



From delazj at gmail.com  Tue Nov  7 07:25:04 2017
From: delazj at gmail.com (DelazJ)
Date: Tue, 7 Nov 2017 16:25:04 +0100
Subject: [QGIS-Developer] Locator questions
In-Reply-To: <9a11e47d-03da-e87a-2f28-89423cef34f7@duif.net>
References: <d1064cf184485d093ba18d66c82b68ba@carto.net>
 <9a11e47d-03da-e87a-2f28-89423cef34f7@duif.net>
Message-ID: <CAECJsSrDJkLaTMZHymE3f2Jjj6MHvjz_w4U9quPKRwFBZ=9R3Q@mail.gmail.com>

Hi,

2017-11-07 15:53 GMT+01:00 Richard Duivenvoorde <rdmailings at duif.net>:

>
> We could/should write a blog about it ...
>
> Don't you want to write about it (also) in the Official documentation? ;)
We could add a link to the blog but experience shows that relying to
external blog post link is not always safe for our docs (see #2011).
Giving a look to the new features in QGIS 3, this one is part of the many
new features that require a lot of practice or a complex project (with big
relations, with provider signals, layer dependencies... - things we don't
have in our repo nor day work, me at least) to be able to write what they
really do (other than saying where to find the widget/button). So it could
be nice to have it covered by those who already know... Thanks

Sorry if i digress from your request, Andreas.

Regards,
Harrissou

> Regards,
>
> Richard Duivenvoorde
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171107/5179a504/attachment.html>

From a.neumann at carto.net  Tue Nov  7 11:00:15 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 7 Nov 2017 20:00:15 +0100
Subject: [QGIS-Developer] Locator questions
In-Reply-To: <9a11e47d-03da-e87a-2f28-89423cef34f7@duif.net>
References: <d1064cf184485d093ba18d66c82b68ba@carto.net>
 <9a11e47d-03da-e87a-2f28-89423cef34f7@duif.net>
Message-ID: <f32db80e-706d-11a3-21d6-3bfe83fa9454@carto.net>

Hi Richard,

Thanks for the info. Nyall also suggested your repo to have a look at 
integrating our own search provider.

I think both a blog post and description in the manual would be helpful ;-)

I will try and will ask again if I need some help.

Thanks,

Andreas


On 07.11.2017 15:53, Richard Duivenvoorde wrote:
> On 07-11-17 14:47, Andreas Neumann wrote:
>> Hi,
>>
>> I am starting to explore the new locator widget (the one in the bottom
>> left in the status bar (thanks Nyall!)) and have some questions:
>>
>> My questions are around the feature filter of the active layer, prefixed
>> with "f":
>>
>>    * In what attributes is it actually searching? In any attribute?
>>    * Could I prefix in which attribute I want to search?
>>    * What if I want to search in attributes that have a represent_value
>>      (e.g. a relation reference widget) - meaning I don't want to search
>>      for internal code, but human-readable values stored in another
>>      table? I am specifically refering to the relation reference widget.
>>    * How would I display the result of a non-spatial table? Could we, if
>>      the layer is non-spatial, open the feature form when I click on a
>>      result in the result list?
>>    * Is there somewhere some documentation around how to best use the
>>      locator (in general, not restricted to finding features)? I don't
>>      think that everything is self-explanatory.
>>
>> Thanks for any information around the locator and maybe for some answers
>> to my above questions!
> Hi Andreas,
>
> I've been looking around with it too, by first creating a locator for
> our national geocoder-service (which has a suggest-service):
>
> https://github.com/rduivenvoorde/pdoklocatorplugin
>
> And added a nomatim-search after finding out how easy it was...
>
> See:
> https://github.com/rduivenvoorde/pdoklocatorplugin/blob/master/pdoklocator/plugin.py
>
> That is the minimal stuff you need (I think).
>
> Install http://plugins.qgis.org/plugins/pdoklocator/
>
> It is an experimental/temporary one, I want to remove it later.
>
> I asked Nyall some questions some weeks ago some questions too:
> https://lists.osgeo.org/pipermail/qgis-developer/2017-September/049857.html
> And Nyall's answers:
> https://lists.osgeo.org/pipermail/qgis-developer/2017-October/049905.html
>
> For most questions the answer is:
> yes you can implement what you want :-)
>
> We could/should write a blog about it ...
>
> Regards,
>
> Richard Duivenvoorde
>
>


From landa.martin at gmail.com  Tue Nov  7 11:49:27 2017
From: landa.martin at gmail.com (Martin Landa)
Date: Tue, 7 Nov 2017 20:49:27 +0100
Subject: [QGIS-Developer] pyqgis: new sqlite layer - no records in
 attribute table
In-Reply-To: <CA+Ei1OeN2SBsqxE41gKzf2-ZhCTB+-zx_YZbFOeB4WtV+hH7fg@mail.gmail.com>
References: <CA+Ei1Od3GqXQMoAfbScbRHt1ymsgWM_MwvNgmgRdtor5HrjzUw@mail.gmail.com>
 <20171106161718.5h7oujyaytjofl6h@norbit.de>
 <CA+Ei1OeN2SBsqxE41gKzf2-ZhCTB+-zx_YZbFOeB4WtV+hH7fg@mail.gmail.com>
Message-ID: <CA+Ei1OfqjbyUM7QkiLv4iSZMG5GLrv0E3eC4Yhc1_DtvXxCYvw@mail.gmail.com>

Hi,

2017-11-06 21:15 GMT+01:00 Martin Landa <landa.martin at gmail.com>:
> 2017-11-06 17:17 GMT+01:00 Jürgen E. Fischer <jef at norbit.de>:
>> Don't use the provider directly, but the layer, ie. startEditing, addFeature,
>> commitChanges - or layer.reload() after changing via the provider.

I changed my code to use layer.startEditing + addFeature +
commitChanges(). But unfortunately there is no change in behaviour.
The features are displayed in map cancas, identify working, but
attribute table is empty. The only difference is between QGIS 2.14
(records with NULL values, see [1]) and 2.18 (empty table). Any idea
what could be wrong?

Thanks, Ma

[1] http://geo102.fsv.cvut.cz/~landa/tmp/qgis-no-attrs-2-14.png

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From adenaculture at gmail.com  Tue Nov  7 12:24:33 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 7 Nov 2017 15:24:33 -0500
Subject: [QGIS-Developer] Deleting Plugin Versions & Download Stats
Message-ID: <CABPxTTpp6yhYLDAiCJxSD6+7UiKKwiXdi=C4f4CJYcK8vfZ8oA@mail.gmail.com>

If I delete some of my older plugin versions, does that also delete its
download stats from the overall stats?

I don't see any reason to keep some of the oldest versions of my plugins,
but I don't particularly want to reduce the overall download stats either.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171107/d9c11b49/attachment.html>

From akbargumbira at gmail.com  Tue Nov  7 13:53:37 2017
From: akbargumbira at gmail.com (Akbar Gumbira)
Date: Tue, 7 Nov 2017 22:53:37 +0100
Subject: [QGIS-Developer] Deleting Plugin Versions & Download Stats
In-Reply-To: <CABPxTTpp6yhYLDAiCJxSD6+7UiKKwiXdi=C4f4CJYcK8vfZ8oA@mail.gmail.com>
References: <CABPxTTpp6yhYLDAiCJxSD6+7UiKKwiXdi=C4f4CJYcK8vfZ8oA@mail.gmail.com>
Message-ID: <CAOnR-iKS7i9H2wEqrjfLt1ngvYeR0xXDFf4Lifzt=L=1AYy2Qw@mail.gmail.com>

Probably no. Plugin has its own counter downloads triggered from every
version download
https://github.com/qgis/QGIS-Django/blob/master/qgis-app/plugins/views.py#L882
and there is nothing to substract the number of download in that field
whenever the author delete the version (
https://github.com/qgis/QGIS-Django/blob/master/qgis-app/plugins/views.py#L796
)

Cheers

On Tue, Nov 7, 2017 at 9:24 PM, C Hamilton <adenaculture at gmail.com> wrote:

> If I delete some of my older plugin versions, does that also delete its
> download stats from the overall stats?
>
> I don't see any reason to keep some of the oldest versions of my plugins,
> but I don't particularly want to reduce the overall download stats either.
>
> Thanks,
>
> Calvin
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 

*Akbar Gumbira *
*www.akbargumbira.com <http://www.akbargumbira.com>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171107/2a33a8b3/attachment.html>

From tom.chadwin at nnpa.org.uk  Tue Nov  7 16:01:08 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 7 Nov 2017 17:01:08 -0700 (MST)
Subject: [QGIS-Developer] pyqgis: new sqlite layer - no records in
	attribute table
In-Reply-To: <CA+Ei1OfqjbyUM7QkiLv4iSZMG5GLrv0E3eC4Yhc1_DtvXxCYvw@mail.gmail.com>
References: <CA+Ei1Od3GqXQMoAfbScbRHt1ymsgWM_MwvNgmgRdtor5HrjzUw@mail.gmail.com>
 <20171106161718.5h7oujyaytjofl6h@norbit.de>
 <CA+Ei1OeN2SBsqxE41gKzf2-ZhCTB+-zx_YZbFOeB4WtV+hH7fg@mail.gmail.com>
 <CA+Ei1OfqjbyUM7QkiLv4iSZMG5GLrv0E3eC4Yhc1_DtvXxCYvw@mail.gmail.com>
Message-ID: <1510099268156-0.post@n6.nabble.com>

Is this the changed behaviour of OGR for null values? 

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From tom.chadwin at nnpa.org.uk  Tue Nov  7 16:05:57 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 7 Nov 2017 17:05:57 -0700 (MST)
Subject: [QGIS-Developer] Deleting Plugin Versions & Download Stats
In-Reply-To: <CAOnR-iKS7i9H2wEqrjfLt1ngvYeR0xXDFf4Lifzt=L=1AYy2Qw@mail.gmail.com>
References: <CABPxTTpp6yhYLDAiCJxSD6+7UiKKwiXdi=C4f4CJYcK8vfZ8oA@mail.gmail.com>
 <CAOnR-iKS7i9H2wEqrjfLt1ngvYeR0xXDFf4Lifzt=L=1AYy2Qw@mail.gmail.com>
Message-ID: <1510099557503-0.post@n6.nabble.com>

Deleting versions definitely leaves your downloads figure untouched. I'm
about to publish the 150th version of mine (I think), and I don't think the
PSC would thank me if they were all up on the repo. I try just to leave one
previous stable version up along with the latest, together with versions
which work with older QGIS versions. 

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From patrick.valsecchi at camptocamp.com  Wed Nov  8 00:22:10 2017
From: patrick.valsecchi at camptocamp.com (Patrick Valsecchi)
Date: Wed, 8 Nov 2017 09:22:10 +0100
Subject: [QGIS-Developer] Travis timeout
Message-ID: <CAKOK4jjeUUkQ8sPPhyJ5m5SzaT+aK8Pc2Z4BKtx5NMXjZYT05Q@mail.gmail.com>

Hi,

I'm trying to work on a feature in the master branch, but Travis constantly
times out on my builds <https://travis-ci.org/pvalsecc/QGIS/jobs/297999069>.

Did I miss something?

Plus, I'm trying to run UTs on my machine, but the doc must be outdated.
How do I run the tests in tests/src/python/test_qgsserver_wms.py locally?

Thanks for your help
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171108/0a1d7314/attachment.html>

From apasotti at gmail.com  Wed Nov  8 00:26:07 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 8 Nov 2017 09:26:07 +0100
Subject: [QGIS-Developer] Travis timeout
In-Reply-To: <CAKOK4jjeUUkQ8sPPhyJ5m5SzaT+aK8Pc2Z4BKtx5NMXjZYT05Q@mail.gmail.com>
References: <CAKOK4jjeUUkQ8sPPhyJ5m5SzaT+aK8Pc2Z4BKtx5NMXjZYT05Q@mail.gmail.com>
Message-ID: <CAL5Q670uheKseHDTLZT3s9dMdHgxNtGDHbcERwZUxZ9LdTB_KA@mail.gmail.com>

Hi Patrick,

to run python tests locally you can either use ctest from the build dir or
create a wrapper script that set paths and env vars before launching python
and the script.

Here is mine (you probably need to adapt it): http://dpaste.com/1C3FMZM

Recently Matthias also explained on this list how to run python tests
inside QtCreator.

Cheers


On Wed, Nov 8, 2017 at 9:22 AM, Patrick Valsecchi <
patrick.valsecchi at camptocamp.com> wrote:

> Hi,
>
> I'm trying to work on a feature in the master branch, but Travis constantly
> times out on my builds
> <https://travis-ci.org/pvalsecc/QGIS/jobs/297999069>.
>
> Did I miss something?
>
> Plus, I'm trying to run UTs on my machine, but the doc must be outdated.
> How do I run the tests in tests/src/python/test_qgsserver_wms.py locally?
>
> Thanks for your help
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171108/a4a5114a/attachment.html>

From patrick.valsecchi at camptocamp.com  Wed Nov  8 00:41:44 2017
From: patrick.valsecchi at camptocamp.com (Patrick Valsecchi)
Date: Wed, 8 Nov 2017 09:41:44 +0100
Subject: [QGIS-Developer] Travis timeout
In-Reply-To: <CAL5Q670uheKseHDTLZT3s9dMdHgxNtGDHbcERwZUxZ9LdTB_KA@mail.gmail.com>
References: <CAKOK4jjeUUkQ8sPPhyJ5m5SzaT+aK8Pc2Z4BKtx5NMXjZYT05Q@mail.gmail.com>
 <CAL5Q670uheKseHDTLZT3s9dMdHgxNtGDHbcERwZUxZ9LdTB_KA@mail.gmail.com>
Message-ID: <CAKOK4jj=6pOSD_TT9J3fEpSnz5A+fNcTQBkTWaEqazj-uKgsdw@mail.gmail.com>

OK, one step further. But I must be missing something because the tests
in tests/src/python/test_qgsserver_wms.py are just failing. From the looks
of the diff, it must be a font that is different. See the image in
attachment.
Any idea how to fix that?

On Wed, Nov 8, 2017 at 9:26 AM, Alessandro Pasotti <apasotti at gmail.com>
wrote:

> Hi Patrick,
>
> to run python tests locally you can either use ctest from the build dir or
> create a wrapper script that set paths and env vars before launching python
> and the script.
>
> Here is mine (you probably need to adapt it): http://dpaste.com/1C3FMZM
>
> Recently Matthias also explained on this list how to run python tests
> inside QtCreator.
>
> Cheers
>
>
> On Wed, Nov 8, 2017 at 9:22 AM, Patrick Valsecchi <
> patrick.valsecchi at camptocamp.com> wrote:
>
>> Hi,
>>
>> I'm trying to work on a feature in the master branch, but Travis constantly
>> times out on my builds
>> <https://travis-ci.org/pvalsecc/QGIS/jobs/297999069>.
>>
>> Did I miss something?
>>
>> Plus, I'm trying to run UTs on my machine, but the doc must be outdated.
>> How do I run the tests in tests/src/python/test_qgsserver_wms.py locally?
>>
>> Thanks for your help
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171108/ea555237/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: WMS_GetPrint_StyleDefault_result_diff.png
Type: image/png
Size: 34559 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171108/ea555237/attachment-0001.png>

From giohappy at gmail.com  Wed Nov  8 00:44:23 2017
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 8 Nov 2017 09:44:23 +0100
Subject: [QGIS-Developer] QgsServer and 3d tiles
In-Reply-To: <SYXPR01MB1232649A08E6026F88FB17EEBE500@SYXPR01MB1232.ausprd01.prod.outlook.com>
References: <SYXPR01MB1232649A08E6026F88FB17EEBE500@SYXPR01MB1232.ausprd01.prod.outlook.com>
Message-ID: <CAB4g1=xjh5M4_3dDisR2c8FUOfNOuVEriXRpGd1VSWqrHFk8dg@mail.gmail.com>

I suppose this can be discussed after 3.0 release, when eveything will
start to stabilize.

The following formats could be discussed:

* Cesium quantized mesh:
https://github.com/AnalyticalGraphicsInc/quantized-mesh

* Cesium 3D tiles spec: https://github.com/Esri/i3s-spec /
http://www.opengeospatial.org/standards/i3s
* Esri/OGC I3S spec: https://github.com/AnalyticalGraphicsInc/3d-tiles

giovanni


2017-11-06 2:06 GMT+01:00 Tisham Dhar <tisham.dhar at aerometrex.com.au>:

> We have lot of Cesium tiles as well and would be interested in serving
> these into QGIS:
>
>
>
> Here are is a tile index json: https://sample.aero3dpro.com.
> au/Melbourne/Scene/recon_h_3DTiles.json
>
>
>
> We are happy to host these for development purposes. Also I3S is now an
> OGC standard and might be worth supporting that for 3D content as well.
>
>
>
> We have a tile-server URL here: https://tiles.arcgis.com/
> tiles/0E0DF4lqgFti4ptt/arcgis/rest/services/Brisbane_geom_
> 90pc_sample/SceneServer (Hosted on ArcGIS online)
>
>
>
> Regards,
>
>
>
> Tisham Dhar
>
> Research Engineer
>
> Aerometrex PTY LTD
>
> 59 King William St.
>
> Kent Town SA 5067
>
> Australia
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171108/6f3ee4a9/attachment.html>

From giohappy at gmail.com  Wed Nov  8 00:48:16 2017
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 8 Nov 2017 09:48:16 +0100
Subject: [QGIS-Developer] QgsServer and 3d tiles
In-Reply-To: <CAB4g1=xjh5M4_3dDisR2c8FUOfNOuVEriXRpGd1VSWqrHFk8dg@mail.gmail.com>
References: <SYXPR01MB1232649A08E6026F88FB17EEBE500@SYXPR01MB1232.ausprd01.prod.outlook.com>
 <CAB4g1=xjh5M4_3dDisR2c8FUOfNOuVEriXRpGd1VSWqrHFk8dg@mail.gmail.com>
Message-ID: <CAB4g1=xpuP7mzCeGrDLojJ1WVfNN50ve2xdDpEAHCFPfiKKe8A@mail.gmail.com>

Ideally, from a user persepctive, it would be great having something like
Esri 3d scene production and serving workflow:
https://blogs.esri.com/esri/arcgis/2016/09/18/i3s-scene-layers/

giovanni

2017-11-08 9:44 GMT+01:00 G. Allegri <giohappy at gmail.com>:

> I suppose this can be discussed after 3.0 release, when eveything will
> start to stabilize.
>
> The following formats could be discussed:
>
> * Cesium quantized mesh: https://github.com/AnalyticalGraphicsInc/
> quantized-mesh
>
> * Cesium 3D tiles spec: https://github.com/Esri/i3s-spec /
> http://www.opengeospatial.org/standards/i3s
> * Esri/OGC I3S spec: https://github.com/AnalyticalGraphicsInc/3d-tiles
>
> giovanni
>
>
> 2017-11-06 2:06 GMT+01:00 Tisham Dhar <tisham.dhar at aerometrex.com.au>:
>
>> We have lot of Cesium tiles as well and would be interested in serving
>> these into QGIS:
>>
>>
>>
>> Here are is a tile index json: https://sample.aero3dpro.com.a
>> u/Melbourne/Scene/recon_h_3DTiles.json
>>
>>
>>
>> We are happy to host these for development purposes. Also I3S is now an
>> OGC standard and might be worth supporting that for 3D content as well.
>>
>>
>>
>> We have a tile-server URL here: https://tiles.arcgis.com/tiles
>> /0E0DF4lqgFti4ptt/arcgis/rest/services/Brisbane_geom_90pc_
>> sample/SceneServer (Hosted on ArcGIS online)
>>
>>
>>
>> Regards,
>>
>>
>>
>> Tisham Dhar
>>
>> Research Engineer
>>
>> Aerometrex PTY LTD
>>
>> 59 King William St.
>>
>> Kent Town SA 5067
>>
>> Australia
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171108/517a9d35/attachment.html>

From landa.martin at gmail.com  Wed Nov  8 01:47:08 2017
From: landa.martin at gmail.com (Martin Landa)
Date: Wed, 8 Nov 2017 10:47:08 +0100
Subject: [QGIS-Developer] pyqgis: new sqlite layer - no records in
 attribute table
In-Reply-To: <1510099268156-0.post@n6.nabble.com>
References: <CA+Ei1Od3GqXQMoAfbScbRHt1ymsgWM_MwvNgmgRdtor5HrjzUw@mail.gmail.com>
 <20171106161718.5h7oujyaytjofl6h@norbit.de>
 <CA+Ei1OeN2SBsqxE41gKzf2-ZhCTB+-zx_YZbFOeB4WtV+hH7fg@mail.gmail.com>
 <CA+Ei1OfqjbyUM7QkiLv4iSZMG5GLrv0E3eC4Yhc1_DtvXxCYvw@mail.gmail.com>
 <1510099268156-0.post@n6.nabble.com>
Message-ID: <CA+Ei1OcyKevauwuK2k+kbJTQMZ1b3FZj6yRA4FouhJkqEMV0+A@mail.gmail.com>

Hi,

2017-11-08 1:01 GMT+01:00 Tom Chadwin <tom.chadwin at nnpa.org.uk>:
> Is this the changed behaviour of OGR for null values?

right, it could be the answer for the difference between QGIS 2.14 and
2.18. But the origin problem remains, feature are loaded, identify is
working, attribute table empty/filled by NULLs. When I load created
SQLite layer from GUI, it works.

Thanks for pointers, Martin

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From tom.chadwin at nnpa.org.uk  Wed Nov  8 09:49:16 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Wed, 8 Nov 2017 10:49:16 -0700 (MST)
Subject: [QGIS-Developer] Import Python modules from another installed
	plugin, if present
Message-ID: <1510163356458-0.post@n6.nabble.com>

Hello all

In a Python plugin, I would like to import some modules from another QGIS
plugin, if it is installed. Is that possible?

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From rdmailings at duif.net  Wed Nov  8 10:16:04 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 8 Nov 2017 19:16:04 +0100
Subject: [QGIS-Developer] Import Python modules from another installed
 plugin, if present
In-Reply-To: <1510163356458-0.post@n6.nabble.com>
References: <1510163356458-0.post@n6.nabble.com>
Message-ID: <3d81067a-76dd-f59a-dbfd-1cfdb1f92d49@duif.net>

On 08-11-17 18:49, Tom Chadwin wrote:
> Hello all
> 
> In a Python plugin, I would like to import some modules from another QGIS
> plugin, if it is installed. Is that possible?

Hi Tim,

Yes, I use the qgis.utils.plugins module to check if TimeManager is
available:

from qgis.utils import plugins

plugins then is a dictionary with loaded plugins

You can for example check IF a plugin is loaded:
https://github.com/rduivenvoorde/jrodos/blob/master/jrodos.py#L1463

if so you can just import modules:

from timemanager.layer_settings import LayerSettings
from timemanager.timevectorlayer import TimeVectorLayer
from timemanager.raster.wmstlayer import WMSTRasterLayer

Regards,

Richard Duivenvoorde

From tom.chadwin at nnpa.org.uk  Wed Nov  8 10:19:04 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Wed, 8 Nov 2017 11:19:04 -0700 (MST)
Subject: [QGIS-Developer] Import Python modules from another installed
	plugin, if present
In-Reply-To: <3d81067a-76dd-f59a-dbfd-1cfdb1f92d49@duif.net>
References: <1510163356458-0.post@n6.nabble.com>
 <3d81067a-76dd-f59a-dbfd-1cfdb1f92d49@duif.net>
Message-ID: <1510165144929-0.post@n6.nabble.com>

> from timemanager.layer_settings import LayerSettings 

Ah, it's as simple as that! Thank you so much.

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From matthias at opengis.ch  Wed Nov  8 13:46:14 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 8 Nov 2017 22:46:14 +0100
Subject: [QGIS-Developer] Import Python modules from another installed
 plugin, if present
In-Reply-To: <1510165144929-0.post@n6.nabble.com>
References: <1510163356458-0.post@n6.nabble.com>
 <3d81067a-76dd-f59a-dbfd-1cfdb1f92d49@duif.net>
 <1510165144929-0.post@n6.nabble.com>
Message-ID: <57448c23-fb69-be56-a16e-1373666aa812@opengis.ch>

To slightly expand on that:

the qgis.utils.plugins dict lists loaded plugins, installed ones can
just be imported (and guarded with a try-except) if the loading part is
not actually a pre-requisite.

Matthias


On 11/08/2017 07:19 PM, Tom Chadwin wrote:
>> from timemanager.layer_settings import LayerSettings 
> Ah, it's as simple as that! Thank you so much.
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


From tom.chadwin at nnpa.org.uk  Wed Nov  8 15:25:44 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Wed, 8 Nov 2017 16:25:44 -0700 (MST)
Subject: [QGIS-Developer] Import Python modules from another installed
	plugin, if present
In-Reply-To: <57448c23-fb69-be56-a16e-1373666aa812@opengis.ch>
References: <1510163356458-0.post@n6.nabble.com>
 <3d81067a-76dd-f59a-dbfd-1cfdb1f92d49@duif.net>
 <1510165144929-0.post@n6.nabble.com>
 <57448c23-fb69-be56-a16e-1373666aa812@opengis.ch>
Message-ID: <1510183544492-0.post@n6.nabble.com>

Yup, wrapping in a try and setting a flag on success is all I need, I think.
I don't need qgis.utils.plugins.

Thanks again, both

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From noreply at qgis.org  Wed Nov  8 23:09:27 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 09 Nov 2017 07:09:27 -0000
Subject: [QGIS-Developer] Plugin [1352] Beeline approval notification.
Message-ID: <20171109070927.13856.46721@320558c5528b>


Plugin Beeline approval by zimbogisgeek.
The plugin version "[1352] Beeline 0.1" is now approved
Link: http://plugins.qgis.org/plugins/Beeline-master/

From noreply at qgis.org  Wed Nov  8 23:09:47 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 09 Nov 2017 07:09:47 -0000
Subject: [QGIS-Developer] Plugin [1352] Beeline unapproval notification.
Message-ID: <20171109070947.20071.59534@320558c5528b>


Plugin Beeline unapproval by zimbogisgeek.
The plugin version "[1352] Beeline 0.1" is now unapproved
Link: http://plugins.qgis.org/plugins/Beeline-master/

From noreply at qgis.org  Wed Nov  8 23:13:12 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 09 Nov 2017 07:13:12 -0000
Subject: [QGIS-Developer] Plugin [1352] Beeline approval notification.
Message-ID: <20171109071312.13856.21625@320558c5528b>


Plugin Beeline approval by zimbogisgeek.
The plugin version "[1352] Beeline 0.1" is now approved
Link: http://plugins.qgis.org/plugins/Beeline-master/

From noreply at qgis.org  Wed Nov  8 23:35:55 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 09 Nov 2017 07:35:55 -0000
Subject: [QGIS-Developer] Plugin [1354] PisteCreator approval notification.
Message-ID: <20171109073555.13856.84632@320558c5528b>


Plugin PisteCreator approval by zimbogisgeek.
The plugin version "[1354] PisteCreator 1.3 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/PisteCreator/

From noreply at qgis.org  Wed Nov  8 23:42:01 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 09 Nov 2017 07:42:01 -0000
Subject: [QGIS-Developer] Plugin [1355] QRealTime approval notification.
Message-ID: <20171109074201.20071.27500@320558c5528b>


Plugin QRealTime approval by zimbogisgeek.
The plugin version "[1355] QRealTime 1.0" is now approved
Link: http://plugins.qgis.org/plugins/QRealTime/

From noreply at qgis.org  Thu Nov  9 00:07:19 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 09 Nov 2017 08:07:19 -0000
Subject: [QGIS-Developer] Plugin [1066] Isogeo approval notification.
Message-ID: <20171109080719.22239.3882@320558c5528b>


Plugin Isogeo approval by zimbogisgeek.
The plugin version "[1066] Isogeo 1.6.0-beta2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/isogeo_search_engine/

From noreply at qgis.org  Thu Nov  9 00:08:21 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 09 Nov 2017 08:08:21 -0000
Subject: [QGIS-Developer] Plugin [1086] SEC4QGIS approval notification.
Message-ID: <20171109080821.22239.8728@320558c5528b>


Plugin SEC4QGIS approval by zimbogisgeek.
The plugin version "[1086] SEC4QGIS 1.0.5" is now approved
Link: http://plugins.qgis.org/plugins/SEC4QGIS/

From noreply at qgis.org  Thu Nov  9 00:10:44 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 09 Nov 2017 08:10:44 -0000
Subject: [QGIS-Developer] Plugin [1246] go2mapillary approval notification.
Message-ID: <20171109081044.13856.79955@320558c5528b>


Plugin go2mapillary approval by zimbogisgeek.
The plugin version "[1246] go2mapillary 1.3" is now approved
Link: http://plugins.qgis.org/plugins/go2mapillary/

From noreply at qgis.org  Thu Nov  9 00:14:00 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 09 Nov 2017 08:14:00 -0000
Subject: [QGIS-Developer] Plugin [1102] AequilibraE approval notification.
Message-ID: <20171109081400.13856.84092@320558c5528b>


Plugin AequilibraE approval by zimbogisgeek.
The plugin version "[1102] AequilibraE 0.3.5.9" is now approved
Link: http://plugins.qgis.org/plugins/AequilibraE/

From noreply at qgis.org  Thu Nov  9 00:21:42 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 09 Nov 2017 08:21:42 -0000
Subject: [QGIS-Developer] Plugin [1356] ZoomToBelgium approval notification.
Message-ID: <20171109082142.9702.44876@320558c5528b>


Plugin ZoomToBelgium approval by zimbogisgeek.
The plugin version "[1356] ZoomToBelgium 0.1.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/ZoomToBelgium/

From even.rouault at spatialys.com  Thu Nov  9 07:24:47 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 09 Nov 2017 16:24:47 +0100
Subject: [QGIS-Developer] Flaky tests
Message-ID: <4679540.yAbmIoC45Y@even-i700>

Hi,

I've had a hard time today with a pull request that changed only some python test code, but 
failures occuring in totally unrelated tests. I had to restart Travis-CI 5 times before it was 
green. Had similar issue with another PR

The various failures I got :

3 times:
	359 - PyQgsFileDownloader (Failed)		

https://dash.orfeo-toolbox.org/testDetails.php?test=63062502&build=297409
https://dash.orfeo-toolbox.org/testDetails.php?test=63061688&build=297402
https://dash.orfeo-toolbox.org/testDetails.php?test=63061722&build=297403

1 times:
	316 - PyQgsRulebasedRenderer (Failed)

https://dash.orfeo-toolbox.org/testDetails.php?test=63061748&build=297404


1 times:
	372 - PyQgsServerWMS (Failed)

https://dash.orfeo-toolbox.org/testDetails.php?test=63061792&build=297405

1 times:
	328 - PyQgsSpatialiteProvider (Failed)

https://dash.orfeo-toolbox.org/testDetails.php?test=63061783&build=297405


1 times:
	PyQgsLocator:

https://dash.orfeo-toolbox.org/testDetails.php?test=61670866&build=297397


Anybody already experimented this ?

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171109/a4eec9bf/attachment-0001.html>

From vincent.ml at oslandia.com  Thu Nov  9 07:28:57 2017
From: vincent.ml at oslandia.com (Vincent Picavet (ml))
Date: Thu, 9 Nov 2017 16:28:57 +0100
Subject: [QGIS-Developer] QgsServer and 3d tiles
In-Reply-To: <CAB4g1=zzh1HPAUsexA-3xemti2Yva36KKxFiOF=knq3qavLWhg@mail.gmail.com>
References: <CAB4g1=y7R3PC0fpJDtuhWv7sMCLMkeawQsFj8+UzE06PT+q4iw@mail.gmail.com>
 <CAB4g1=zFhJTue4S55sLaWKQ+sUUEw5ugj5oh0QoMSM3Y399kMQ@mail.gmail.com>
 <CAB4g1=zzh1HPAUsexA-3xemti2Yva36KKxFiOF=knq3qavLWhg@mail.gmail.com>
Message-ID: <4c78c763-7c03-8f29-6400-45832fd4055b@oslandia.com>

Hello,

On 03/11/2017 21:04, G. Allegri wrote:
> What if we had a QgsServer service dedicates to serving 3d tiles for
> Cesium or iTowns?
> Is anybody working on this?

At Oslandia, we work on 3D topics a lot, and 3d tiles in particular. We
are implementing 3D Tiles support in iTowns, and several components to
serve this format as webservices.

E.g. :
- https://github.com/Oslandia/building-server
- https://github.com/Oslandia/lopocs

I do not think having QGIS Server serving 3D tiles is a really good idea.

First, 3D tiles is a format ( and protocol) to serve tiles of objects in
a mostly static way. Therefore, what would be interesting is for QGIS to
have a way to export data as 3d Tiles. These tiles can then be served
with a simple HTTP server, no need for a QGIS Server component.

Moreover, there are a lot of use cases where we want to serve 3D Tiles
without using QGIS at all. Component-oriented architecture is better
than monolithic software.

What I see as best approach would be to mutualize as much code as
possible regarding 3D tiles in py3dtiles :
https://github.com/Oslandia/py3dtiles

Using this module, we can write a 3dtile exporter, as a Processing
module for example. We already have some draft code to do that for some
data sets.
Then, we could have an independant 3D tiles server reusing py3dtiles, or
integrate this as QGIS Server module if we want.

We would be happy to work on these subjects and share our experience on
all 3D-related topics. Funding is also very welcome.

But for now, I think we should focus on releasing QGIS3 in a usable
state. We have waited for too long, and there is still work to achieve
to stabilize the release.

3D features can wait a bit more, even if call for interest, needs,
funding and collaboration is welcome.

Best regards,
Vincent

From giohappy at gmail.com  Thu Nov  9 07:49:30 2017
From: giohappy at gmail.com (G. Allegri)
Date: Thu, 9 Nov 2017 16:49:30 +0100
Subject: [QGIS-Developer] QgsServer and 3d tiles
In-Reply-To: <4c78c763-7c03-8f29-6400-45832fd4055b@oslandia.com>
References: <CAB4g1=y7R3PC0fpJDtuhWv7sMCLMkeawQsFj8+UzE06PT+q4iw@mail.gmail.com>
 <CAB4g1=zFhJTue4S55sLaWKQ+sUUEw5ugj5oh0QoMSM3Y399kMQ@mail.gmail.com>
 <CAB4g1=zzh1HPAUsexA-3xemti2Yva36KKxFiOF=knq3qavLWhg@mail.gmail.com>
 <4c78c763-7c03-8f29-6400-45832fd4055b@oslandia.com>
Message-ID: <CAB4g1=wf0RKD-C5281UgwmjpxkEsNZq0oNi9e9sQh94mbuQyug@mail.gmail.com>

Hi Vincent,
I agree tiled static data can, and should, be served as static content but
what I meant was having something like Tilestache, GeoWebCache, MapCache,
etc.. They're meant to render and cache on the fly, or preseeding the
tileset.

My question raised from the fact that QGIS 3D renderer could be a common
base to produce terrain meshes (a la Cesium) and 3D tiles, both for the
desktop 3D viewer and for a cached tileset to be served through HTTP.
QgsServer could use the same code base to populate the cache, but this
doesn't prevent having a Processing tool (ore whatever) doing the work in
advance.

You're working with gltf. What about OGC I3S?

giovanni

Il 9 nov 2017 16:29, "Vincent Picavet (ml)" <vincent.ml at oslandia.com> ha
scritto:

Hello,

On 03/11/2017 21:04, G. Allegri wrote:
> What if we had a QgsServer service dedicates to serving 3d tiles for
> Cesium or iTowns?
> Is anybody working on this?

At Oslandia, we work on 3D topics a lot, and 3d tiles in particular. We
are implementing 3D Tiles support in iTowns, and several components to
serve this format as webservices.

E.g. :
- https://github.com/Oslandia/building-server
- https://github.com/Oslandia/lopocs

I do not think having QGIS Server serving 3D tiles is a really good idea.

First, 3D tiles is a format ( and protocol) to serve tiles of objects in
a mostly static way. Therefore, what would be interesting is for QGIS to
have a way to export data as 3d Tiles. These tiles can then be served
with a simple HTTP server, no need for a QGIS Server component.

Moreover, there are a lot of use cases where we want to serve 3D Tiles
without using QGIS at all. Component-oriented architecture is better
than monolithic software.

What I see as best approach would be to mutualize as much code as
possible regarding 3D tiles in py3dtiles :
https://github.com/Oslandia/py3dtiles

Using this module, we can write a 3dtile exporter, as a Processing
module for example. We already have some draft code to do that for some
data sets.
Then, we could have an independant 3D tiles server reusing py3dtiles, or
integrate this as QGIS Server module if we want.

We would be happy to work on these subjects and share our experience on
all 3D-related topics. Funding is also very welcome.

But for now, I think we should focus on releasing QGIS3 in a usable
state. We have waited for too long, and there is still work to achieve
to stabilize the release.

3D features can wait a bit more, even if call for interest, needs,
funding and collaboration is welcome.

Best regards,
Vincent
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171109/983e9e87/attachment.html>

From tom.chadwin at nnpa.org.uk  Thu Nov  9 08:21:19 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Thu, 9 Nov 2017 09:21:19 -0700 (MST)
Subject: [QGIS-Developer] Flaky tests
In-Reply-To: <4679540.yAbmIoC45Y@even-i700>
References: <4679540.yAbmIoC45Y@even-i700>
Message-ID: <1510244479950-0.post@n6.nabble.com>

I don't know if it's related, but I've had real problems over the last two or
three weeks with Travis tests for a Python plugin. Tests which use an
external resource (a remote WFS) tend to work in the morning (GMT), but fail
in the afternoon. I'm also getting segfaults which I hardly ever get (and
don't really know how to debug in this context).

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From tom.chadwin at nnpa.org.uk  Thu Nov  9 08:26:14 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Thu, 9 Nov 2017 09:26:14 -0700 (MST)
Subject: [QGIS-Developer] Convert from mapunits to pixels
Message-ID: <1510244774421-0.post@n6.nabble.com>

Hello all

I've never implemented support of any unit other than pixels in my plugin. A
particular use case (vector tiles) could really use mapunits. Can someone
explain (or point me towards) the method for converting from mapunits to
pixels for on-screen rendering?

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From apasotti at gmail.com  Thu Nov  9 08:44:00 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 9 Nov 2017 17:44:00 +0100
Subject: [QGIS-Developer] Flaky tests
In-Reply-To: <4679540.yAbmIoC45Y@even-i700>
References: <4679540.yAbmIoC45Y@even-i700>
Message-ID: <CAL5Q671MZ_HzYooarMYHDSSM=FZzzGirOpfNJLooCems0Q8nKQ@mail.gmail.com>

PyQgsLocator is failing 50% of the times for me.

Recently I've been lucky with the others.


On Thu, Nov 9, 2017 at 4:24 PM, Even Rouault <even.rouault at spatialys.com>
wrote:

> Hi,
>
>
>
> I've had a hard time today with a pull request that changed only some
> python test code, but failures occuring in totally unrelated tests. I had
> to restart Travis-CI 5 times before it was green. Had similar issue with
> another PR
>
>
>
> The various failures I got :
>
>
>
> 3 times:
>
> 359 - PyQgsFileDownloader (Failed)
>
>
>
> https://dash.orfeo-toolbox.org/testDetails.php?test=63062502&build=297409
>
> https://dash.orfeo-toolbox.org/testDetails.php?test=63061688&build=297402
>
> https://dash.orfeo-toolbox.org/testDetails.php?test=63061722&build=297403
>
>
>
> 1 times:
>
> 316 - PyQgsRulebasedRenderer (Failed)
>
>
>
> https://dash.orfeo-toolbox.org/testDetails.php?test=63061748&build=297404
>
>
>
>
>
> 1 times:
>
> 372 - PyQgsServerWMS (Failed)
>
>
>
> https://dash.orfeo-toolbox.org/testDetails.php?test=63061792&build=297405
>
>
>
> 1 times:
>
> 328 - PyQgsSpatialiteProvider (Failed)
>
>
>
> https://dash.orfeo-toolbox.org/testDetails.php?test=63061783&build=297405
>
>
>
>
>
> 1 times:
>
> PyQgsLocator:
>
>
>
> https://dash.orfeo-toolbox.org/testDetails.php?test=61670866&build=297397
>
>
>
>
>
> Anybody already experimented this ?
>
>
>
> Even
>
>
>
> --
>
> Spatialys - Geospatial professional services
>
> http://www.spatialys.com
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171109/fc2d7525/attachment-0001.html>

From matthias at opengis.ch  Thu Nov  9 08:51:07 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 9 Nov 2017 17:51:07 +0100
Subject: [QGIS-Developer] Flaky tests
In-Reply-To: <4679540.yAbmIoC45Y@even-i700>
References: <4679540.yAbmIoC45Y@even-i700>
Message-ID: <54f1e05c-1c74-047f-a011-72ee3eeb4e0b@opengis.ch>

Hi Even,

Yes, despite things settling again I experienced the same/similar issues.
I can confirm the issues with the spatialite and the locator test.

I am in favor of disabling (parts of) these, since they do more damage
than good in their current state. This will be much appreciated

To avoid this, someone will need to step up and express the requirement
to keep a certain test active for further debugging. In this case it
will be a requirement that an immediate commit follows by "someone" that
will provide more debug information the next time the test fails and
therefore justify leaving it active.

Meanwhile I started with killing any test depending on remote services
in the PyQgsFileDownloader.
https://github.com/qgis/QGIS/pull/5581

Matthias

On 11/09/2017 04:24 PM, Even Rouault wrote:
> Hi,
> 
>  
> 
> I've had a hard time today with a pull request that changed only some
> python test code, but failures occuring in totally unrelated tests. I
> had to restart Travis-CI 5 times before it was green. Had similar issue
> with another PR
> 
>  
> 
> The various failures I got :
> 
>  
> 
> 3 times:
> 
> 359 - PyQgsFileDownloader (Failed)
> 
>  
> 
> https://dash.orfeo-toolbox.org/testDetails.php?test=63062502&build=297409
> 
> https://dash.orfeo-toolbox.org/testDetails.php?test=63061688&build=297402
> 
> https://dash.orfeo-toolbox.org/testDetails.php?test=63061722&build=297403
> 
>  
> 
> 1 times:
> 
> 316 - PyQgsRulebasedRenderer (Failed)
> 
>  
> 
> https://dash.orfeo-toolbox.org/testDetails.php?test=63061748&build=297404
> 
>  
> 
>  
> 
> 1 times:
> 
> 372 - PyQgsServerWMS (Failed)
> 
>  
> 
> https://dash.orfeo-toolbox.org/testDetails.php?test=63061792&build=297405
> 
>  
> 
> 1 times:
> 
> 328 - PyQgsSpatialiteProvider (Failed)
> 
>  
> 
> https://dash.orfeo-toolbox.org/testDetails.php?test=63061783&build=297405
> 
>  
> 
>  
> 
> 1 times:
> 
> PyQgsLocator:
> 
>  
> 
> https://dash.orfeo-toolbox.org/testDetails.php?test=61670866&build=297397
> 
>  
> 
>  
> 
> Anybody already experimented this ?
> 
>  
> 
> Even
> 
>  
> 
> -- 
> 
> Spatialys - Geospatial professional services
> 
> http://www.spatialys.com
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From saxri89 at gmail.com  Thu Nov  9 09:33:07 2017
From: saxri89 at gmail.com (xristosss20)
Date: Thu, 9 Nov 2017 10:33:07 -0700 (MST)
Subject: [QGIS-Developer] =?utf-8?q?pyqgis_ImportError=3A_DLL_load_failed?=
 =?utf-8?b?OiDilIDOr86KIOKWkM6qzqzOiiDPis6rzorOrM6q4oG/IM6Kzqwgzq/Ois6q?=
 =?utf-8?b?zo7Oj8+O4omkzqrOr+KWgCDPjSDOhs6sz4vOjsKxz47iiaTOieKWjM6Kz40g?=
 =?utf-8?b?zojOr8+Ozqo=?=
Message-ID: <1510248787989-0.post@n6.nabble.com>

I try I create a pyqgis standalone script in windows 10 but I have some
errors

first I have read this post
<https://gis.stackexchange.com/questions/172741/getting-qgis-python-modules-to-work-from-pyscripter-in-windows-10>  
and I follow comment of Mr.caiohamamura but I have semi success I think,and
I don't why happen this this error .

first :

Your PYTHONHOME should be:

C:\OSGeo4W64\apps\Python27
Your PATH should include (in the beggining): 
C:\OSGeo4W64\bin; C:\OSGeo4W64\apps\qgis-ltr-dev\bin 
PYTHONPATH should have:

C:\OSGeo4W64\apps\qgis-ltr-dev\python
C:\OSGeo4W64\apps\qgis-ltr-dev\python\plugins
C:\OSGeo4W64\bin\python27.zip
C:\OSGeo4W64\apps\Python27\DLLs
C:\OSGeo4W64\apps\Python27
C:\OSGeo4W64\apps\Python27\lib
C:\OSGeo4W64\apps\Python27\lib\site-packages
and finally the test.

python in cmd prompt:

<http://osgeo-org.1560.x6.nabble.com/file/t379290/cmd.png> 

import qgis
from qgis.core import *

all import without error.

python in Osgeo shell :

<http://osgeo-org.1560.x6.nabble.com/file/t379290/osgeoshell.png> 

but if i try to import :

import qgis
from qgis.core import *

then i take ImportError: DLL load failed: ─ίΊ ▐ΪάΊ ϊΫΊάΪⁿ Ίά ίΊΪΎΏώ≤Ϊί▀ ύ
ΆάϋΎ±ώ≤Ή▌Ίύ ΈίώΪ.

why in Osgeo shell I take this error :

ImportError: DLL load failed: ─ίΊ ▐ΪάΊ ϊΫΊάΪⁿ Ίά ίΊΪΎΏώ≤Ϊί▀ ύ ΆάϋΎ±ώ≤Ή▌Ίύ
ΈίώΪ.
what I have wrong ?what is the difference?



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From saxri89 at gmail.com  Thu Nov  9 09:39:21 2017
From: saxri89 at gmail.com (xristosss20)
Date: Thu, 9 Nov 2017 10:39:21 -0700 (MST)
Subject: [QGIS-Developer] =?utf-8?q?pyqgis_ImportError=3A_DLL_load_failed?=
 =?utf-8?b?OiDilIDOr86KIOKWkM6qzqzOiiDPis6rzorOrM6q4oG/IM6Kzqwgzq/Ois6q?=
 =?utf-8?b?zo7Oj8+O4omkzqrOr+KWgCDPjSDOhs6sz4vOjsKxz47iiaTOieKWjM6Kz40g?=
 =?utf-8?b?zojOr8+Ozqo=?=
Message-ID: <1510249161306-0.post@n6.nabble.com>

I try I create a pyqgis standalone script in windows 10 but I have some
errors

first I have read this post
<https://gis.stackexchange.com/questions/172741/getting-qgis-python-modules-to-work-from-pyscripter-in-windows-10>  
and I follow comment of Mr.caiohamamura but I have semi success I think,and
I don't why happen this this error .

first :

Your PYTHONHOME should be:

C:\OSGeo4W64\apps\Python27
Your PATH should include (in the beggining): 
C:\OSGeo4W64\bin; C:\OSGeo4W64\apps\qgis-ltr-dev\bin 
PYTHONPATH should have:

C:\OSGeo4W64\apps\qgis-ltr-dev\python
C:\OSGeo4W64\apps\qgis-ltr-dev\python\plugins
C:\OSGeo4W64\bin\python27.zip
C:\OSGeo4W64\apps\Python27\DLLs
C:\OSGeo4W64\apps\Python27
C:\OSGeo4W64\apps\Python27\lib
C:\OSGeo4W64\apps\Python27\lib\site-packages
and finally the test.

python in cmd prompt:

<http://osgeo-org.1560.x6.nabble.com/file/t379290/cmd.png> 

import qgis
from qgis.core import *

all import without error.

python in Osgeo shell :

<http://osgeo-org.1560.x6.nabble.com/file/t379290/osgeoshell.png> 

but if i try to import :

import qgis
from qgis.core import *

then i take ImportError: DLL load failed: ─ίΊ ▐ΪάΊ ϊΫΊάΪⁿ Ίά ίΊΪΎΏώ≤Ϊί▀ ύ
ΆάϋΎ±ώ≤Ή▌Ίύ ΈίώΪ.

why in Osgeo shell I take this error :

ImportError: DLL load failed: ─ίΊ ▐ΪάΊ ϊΫΊάΪⁿ Ίά ίΊΪΎΏώ≤Ϊί▀ ύ ΆάϋΎ±ώ≤Ή▌Ίύ
ΈίώΪ.
what I have wrong ?what is the difference?



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From carrillo.german at gmail.com  Thu Nov  9 10:38:35 2017
From: carrillo.german at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Carrillo?=)
Date: Thu, 9 Nov 2017 13:38:35 -0500
Subject: [QGIS-Developer] Handy methods to Copy/Paste Features via
	QgisInterface
Message-ID: <CANaz7mxOLJri+=2mTW0Yk5V4kAj6X=voATo9mpEHxrKdga1_Ag@mail.gmail.com>

Hi qgis-devs,


what do you think about exposing methods to copy/paste features from/to
*given layers* through QgisInterface?

Such methods are available in qgisapp.cpp already [1], but plugin devs
cannot access them. What is exposed right now are the actionCopyFeatures
and actionPasteFeatures, which:

1) Require the layers to be loaded in the QGIS Layer Tree.
2) Require the layers to be active when the corresponding method is called.

There is really no need for those 2 GUI-related requirements.


I've created a Pull Request [2] to make it possible to use source and
target layers for copy/paste operations without loading them into the Layer
Tree, which is much more handy for people using the QGIS API.

That is, you have both layers and just pass them as parameters to the
corresponding copy/paste methods:

>> source_layer.selectAll()
>> iface.copyFeatures(source_layer)
>> target_layer.startEditing()
>> iface.pasteFeatures(target_layer)


*FYI, I'm using copy/paste features functionality to mimic an append
operation from one layer to another, which I've found difficult to achieve
with the API or  even using current Processing algorithms.*


Does it make sense for you?


Regards,

Germán
------------
[1] https://github.com/qgis/QGIS/blob/master/src/app/qgisapp.cpp#L8071-L8192
[2] https://github.com/qgis/QGIS/pull/5578


-- 
-----------
   |\__
(:>__)(
   |/
Soluciones Geoinformáticas Libres
http://geotux.tuxfamily.org/
http://twitter.com/GeoTux2
http://about.me/germancarrillo

<http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171109/cff19cf3/attachment.html>

From tim at kartoza.com  Thu Nov  9 11:28:09 2017
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 9 Nov 2017 21:28:09 +0200
Subject: [QGIS-Developer] Python error on start up from GRASS processing
Message-ID: <EED5157F-F55F-4024-A08E-710C5FF4C024@kartoza.com>

Hi

Its great to see the GRASS stuff merged now. However it gives me an error on startup:

An error has occurred while executing Python code: 
TypeError: QgsProcessingAlgorithm.addParameter(): argument 1 has unexpected type 'ParameterRaster'

Traceback (most recent call last):
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Algorithm.py", line 170, in initAlgorithm
    res = self.addParameter(p, True)
TypeError: QgsProcessingAlgorithm.addParameter(): argument 1 has unexpected type 'ParameterRaster'

Python version: 3.6.2 (default, Jul 17 2017, 16:44:45) [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)] 
QGIS version: 2.99.0-Master Master, 2c1e2014d7 
Python Path:

/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing
/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python
/Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python
/Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python/plugins
/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins
/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/bin/$PYTHONPATH
/usr/local/opt/gdal2-python/lib/python3.6/site-packages
/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python36.zip
/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6
/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload
/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages
/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pycharm-debug-py3k.egg
/Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python

Does anyone else get this?

Regards

Tim



—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171109/6eb879ef/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171109/6eb879ef/attachment-0001.jpg>

From rdmailings at duif.net  Thu Nov  9 12:31:07 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 9 Nov 2017 21:31:07 +0100
Subject: [QGIS-Developer] Python error on start up from GRASS processing
In-Reply-To: <EED5157F-F55F-4024-A08E-710C5FF4C024@kartoza.com>
References: <EED5157F-F55F-4024-A08E-710C5FF4C024@kartoza.com>
Message-ID: <c50219ca-362a-3c74-d8c5-b0541eb1a357@duif.net>

On 09-11-17 20:28, Tim Sutton wrote:
> Does anyone else get this?
> 

Yep, confirmed here

Richard

From mederic.ribreux at medspx.fr  Thu Nov  9 12:18:23 2017
From: mederic.ribreux at medspx.fr (=?UTF-8?Q?M=C3=A9d=C3=A9ric_Ribreux?=)
Date: Thu, 09 Nov 2017 21:18:23 +0100
Subject: [QGIS-Developer] Python error on start up from GRASS processing
In-Reply-To: <EED5157F-F55F-4024-A08E-710C5FF4C024@kartoza.com>
References: <EED5157F-F55F-4024-A08E-710C5FF4C024@kartoza.com>
Message-ID: <9739f591ca6ddc705d1d4bbb1d5a13a6@medspx.fr>

Le 2017-11-09 20:28, Tim Sutton a écrit :
> Hi
> 
> Its great to see the GRASS stuff merged now. However it gives me an
> error on startup:
> 
> An error has occurred while executing Python code:
> 
> TypeError: QgsProcessingAlgorithm.addParameter(): argument 1 has
> unexpected type 'ParameterRaster'
> 
> Traceback (most recent call last):
>   File
> "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Algorithm.py",
> line 170, in initAlgorithm
>     res = self.addParameter(p, True)
> TypeError: QgsProcessingAlgorithm.addParameter(): argument 1 has
> unexpected type 'ParameterRaster'
> 
> Python version: 3.6.2 (default, Jul 17 2017, 16:44:45) [GCC 4.2.1
> Compatible Apple LLVM 8.1.0 (clang-802.0.42)]
> QGIS version: 2.99.0-Master Master, 2c1e2014d7
> 
> Python Path:
> 
> 	*
> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing
>  	* /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python
>  	* /Users/timlinux/Library/Application
> Support/QGIS/QGIS3/profiles/default/python
>  	* /Users/timlinux/Library/Application
> Support/QGIS/QGIS3/profiles/default/python/plugins
>  	* /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins
>  	*
> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/bin/$PYTHONPATH
>  	* /usr/local/opt/gdal2-python/lib/python3.6/site-packages
>  	*
> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python36.zip
>  	*
> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6
>  	*
> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload
>  	*
> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages
>  	*
> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pycharm-debug-py3k.egg
>  	* /Users/timlinux/Library/Application
> Support/QGIS/QGIS3/profiles/default/python
> 
> Does anyone else get this?
> 
> Regards
> 
> Tim
> 
> —
> 
> TIM SUTTON
> 
> CO-FOUNDER: Kartoza
> PROJECT CHAIR: QGIS.org [1]
> 
> Visit http://kartoza.com [2] to find out about open source:
> 
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
> 
> SKYPE: timlinux
> IRC: timlinux on #qgis at freenode.net [3]
> 
> Kartoza is a merger between Linfiniti and Afrispatial
> 
> 
> Links:
> ------
> [1] http://QGIS.org
> [2] http://kartoza.com/
> [3] http://freenode.net
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Hello,

I can't reproduce on a fresh master build. It seems that you are using 
some old description files (ParameterRaster has been transformed to 
QgsProcessingParameterRaster).
I think you need to either start from a clean/new build directory or a 
new install directory...

Cheers,

-- 
Médéric RIBREUX
https://medspx.fr

From nyall.dawson at gmail.com  Thu Nov  9 13:24:09 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 10 Nov 2017 07:24:09 +1000
Subject: [QGIS-Developer] Crashes in qgsogrfeatureiterator.cpp:52 on master
Message-ID: <CAB28AsgpCN0zpROd6cQT1V=XG5cq-rHwfmt3DL3igFb0AQP2SQ@mail.gmail.com>

Hi all (specifically bugfixing devs)

While doing a bunch of mapping tasks yesterday on master (i.e. being a
QGIS user, not a developer!) I hit a bunch of frequent crashes on
Windows. Nathan's awesome crash report tool identified the issue as
occurring at qgsogrfeatureiterator.cpp:52.

Looking into that some more it seems that the previous line is failing
to acquire the connection to the datasource. I can't see anything
which would obviously explain this (failing a bug in Qt's
QSemaphore::tryAcquire e.g. possibly exposed by 49de489c).

So this is just a heads up for other devs/testers to be on the lookout
for this and to try and identify any common triggers to encountering
it. I suspect this bug may be the cause of the recent reports of
fragile master builds encountered by testers.

Nyall

From nyall.dawson at gmail.com  Thu Nov  9 13:29:10 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 10 Nov 2017 07:29:10 +1000
Subject: [QGIS-Developer] discuss: What's our development gameplan for 3.0
	and above?
Message-ID: <CAB28Ash-gLy6puS4q4_UmeP8v5wO_o=W6d2+pjKQhes7RE6ERg@mail.gmail.com>

Hi all,

I started a discussion at
https://github.com/qgis/QGIS/pull/5559#issuecomment-342974170 but I'd
like greater exposure for this discussion and more feedback, so that
together we can determine what our preferred development approach is
for 3.0 and up.

The question is:

****
Is it our preference to use Qt classes and methods wherever available,
or should we use std algorithms or raw library methods instead?
****

The question in that PR results from a choice of either using
QSqlDatabase methods for accessing a sqlite database OR using some
basic c++11 wrappers around the raw sqlite3 api.


In general my current preference goes something like:

1. use std implementations
2. use qt classes only when they save us work or there's no alternative

Personally I'm just slightly dubious of qt upstream's current ability
to maintain the qt core and gui libraries, and would prefer to lessen
our dependence on them (where it makes sense.. i.e. isn't causing us
more work!)

But I'd like to know everyone's thoughts here, so that we're all
coordinated with our approaches. I'm happy to go with the consensus
view here, and would prefer a common approach than a mix of approaches
across the codebase.

So what's your thoughts?

Nyall

From tim at kartoza.com  Thu Nov  9 14:00:49 2017
From: tim at kartoza.com (Tim Sutton)
Date: Fri, 10 Nov 2017 00:00:49 +0200
Subject: [QGIS-Developer] Python error on start up from GRASS processing
In-Reply-To: <9739f591ca6ddc705d1d4bbb1d5a13a6@medspx.fr>
References: <EED5157F-F55F-4024-A08E-710C5FF4C024@kartoza.com>
 <9739f591ca6ddc705d1d4bbb1d5a13a6@medspx.fr>
Message-ID: <157C5B25-655E-4AC3-83AF-2FEDEE2CF668@kartoza.com>

Hi

Thanks Médéric - cleaning out my build dir fixed the issue.

Regards

Tim

> On 09 Nov 2017, at 22:18, Médéric Ribreux <mederic.ribreux at medspx.fr> wrote:
> 
> Le 2017-11-09 20:28, Tim Sutton a écrit :
>> Hi
>> Its great to see the GRASS stuff merged now. However it gives me an
>> error on startup:
>> An error has occurred while executing Python code:
>> TypeError: QgsProcessingAlgorithm.addParameter(): argument 1 has
>> unexpected type 'ParameterRaster'
>> Traceback (most recent call last):
>>  File
>> "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Algorithm.py",
>> line 170, in initAlgorithm
>>    res = self.addParameter(p, True)
>> TypeError: QgsProcessingAlgorithm.addParameter(): argument 1 has
>> unexpected type 'ParameterRaster'
>> Python version: 3.6.2 (default, Jul 17 2017, 16:44:45) [GCC 4.2.1
>> Compatible Apple LLVM 8.1.0 (clang-802.0.42)]
>> QGIS version: 2.99.0-Master Master, 2c1e2014d7
>> Python Path:
>> 	*
>> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing
>> 	* /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python
>> 	* /Users/timlinux/Library/Application
>> Support/QGIS/QGIS3/profiles/default/python
>> 	* /Users/timlinux/Library/Application
>> Support/QGIS/QGIS3/profiles/default/python/plugins
>> 	* /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins
>> 	*
>> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/bin/$PYTHONPATH
>> 	* /usr/local/opt/gdal2-python/lib/python3.6/site-packages
>> 	*
>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python36.zip
>> 	*
>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6
>> 	*
>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload
>> 	*
>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages
>> 	*
>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pycharm-debug-py3k.egg
>> 	* /Users/timlinux/Library/Application
>> Support/QGIS/QGIS3/profiles/default/python
>> Does anyone else get this?
>> Regards
>> Tim
>> —
>> TIM SUTTON
>> CO-FOUNDER: Kartoza
>> PROJECT CHAIR: QGIS.org <http://qgis.org/> [1]
>> Visit http://kartoza.com <http://kartoza.com/> [2] to find out about open source:
>> Desktop GIS programming services
>> Geospatial web development
>> GIS Training
>> Consulting Services
>> SKYPE: timlinux
>> IRC: timlinux on #qgis at freenode.net <http://freenode.net/> [3]
>> Kartoza is a merger between Linfiniti and Afrispatial
>> Links:
>> ------
>> [1] http://QGIS.org <http://qgis.org/>
>> [2] http://kartoza.com/ <http://kartoza.com/>
>> [3] http://freenode.net <http://freenode.net/>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Hello,
> 
> I can't reproduce on a fresh master build. It seems that you are using some old description files (ParameterRaster has been transformed to QgsProcessingParameterRaster).
> I think you need to either start from a clean/new build directory or a new install directory...
> 
> Cheers,
> 
> -- 
> Médéric RIBREUX
> https://medspx.fr <https://medspx.fr/>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171110/2d2fd488/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171110/2d2fd488/attachment-0001.jpg>

From even.rouault at spatialys.com  Thu Nov  9 14:07:11 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 09 Nov 2017 23:07:11 +0100
Subject: [QGIS-Developer] Crashes in qgsogrfeatureiterator.cpp:52 on
	master
In-Reply-To: <CAB28AsgpCN0zpROd6cQT1V=XG5cq-rHwfmt3DL3igFb0AQP2SQ@mail.gmail.com>
References: <CAB28AsgpCN0zpROd6cQT1V=XG5cq-rHwfmt3DL3igFb0AQP2SQ@mail.gmail.com>
Message-ID: <2067074.Hf9SrKi1BG@even-i700>

On vendredi 10 novembre 2017 07:24:09 CET Nyall Dawson wrote:
> Hi all (specifically bugfixing devs)
> 
> While doing a bunch of mapping tasks yesterday on master (i.e. being a
> QGIS user, not a developer!) I hit a bunch of frequent crashes on
> Windows. Nathan's awesome crash report tool identified the issue as
> occurring at qgsogrfeatureiterator.cpp:52.
> 
> Looking into that some more it seems that the previous line is failing
> to acquire the connection to the datasource. I can't see anything
> which would obviously explain this (failing a bug in Qt's
> QSemaphore::tryAcquire e.g. possibly exposed by 49de489c).
> 

This hypothesis is not so impossible. I had first a look at Qt4 tryAcquire implementation, and I 
can't see how it would fail. But for Qt5,  I found
https://code.woboq.org/qt5/qtbase/src/corelib/thread/qsemaphore.cpp.html
(not sure which point version this is)

bool QSemaphore::tryAcquire(int n, int timeout)
{
    Q_ASSERT_X(n >= 0, "QSemaphore::tryAcquire", "parameter 'n' must be non-negative");
    if (futexAvailable())
        return futexSemaphoreTryAcquire<true>(u, n, timeout < 0 ? -1 : timeout);
    QDeadlineTimer timer(timeout);
    QMutexLocker locker(&d->mutex);
    qint64 remainingTime = timer.remainingTime();
    while (n > d->avail && remainingTime > 0) {
        if (!d->cond.wait(locker.mutex(), remainingTime))
            return false;
        remainingTime = timer.remainingTime();
    }
    if (n > d->avail)
        return false;
    d->avail -= n;
    return true;
}

Assuming that on Windows futexAvailable() returns false (futex are Linux things only, aren't 
they ?), then we go to to the main body

With timeout = -1, timer.remainingTime() will return -1 according to QDeadlineTimer doc, so 
the while() loop is not taken. And there, if there's not enough resources available, the 
function will return false... Bum !

Hence a Windows only bug, in the not so rare case where the pool has no free resource.

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171109/a7230971/attachment.html>

From even.rouault at spatialys.com  Thu Nov  9 14:24:55 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 09 Nov 2017 23:24:55 +0100
Subject: [QGIS-Developer] Crashes in qgsogrfeatureiterator.cpp:52 on
	master
In-Reply-To: <2067074.Hf9SrKi1BG@even-i700>
References: <CAB28AsgpCN0zpROd6cQT1V=XG5cq-rHwfmt3DL3igFb0AQP2SQ@mail.gmail.com>
 <2067074.Hf9SrKi1BG@even-i700>
Message-ID: <2795490.WWGTERUhXp@even-i700>

On jeudi 9 novembre 2017 23:07:11 CET Even Rouault wrote:
> On vendredi 10 novembre 2017 07:24:09 CET Nyall Dawson wrote:
> > Hi all (specifically bugfixing devs)
> > 
> > While doing a bunch of mapping tasks yesterday on master (i.e. being a
> > QGIS user, not a developer!) I hit a bunch of frequent crashes on
> > Windows. Nathan's awesome crash report tool identified the issue as
> > occurring at qgsogrfeatureiterator.cpp:52.
> > 
> > Looking into that some more it seems that the previous line is failing
> > to acquire the connection to the datasource. I can't see anything
> > which would obviously explain this (failing a bug in Qt's
> > QSemaphore::tryAcquire e.g. possibly exposed by 49de489c).
> 
> This hypothesis is not so impossible. I had first a look at Qt4 tryAcquire
> implementation, and I can't see how it would fail. But for Qt5,  I found
> https://code.woboq.org/qt5/qtbase/src/corelib/thread/qsemaphore.cpp.html
> (not sure which point version this is)
> 
> bool QSemaphore::tryAcquire(int n, int timeout)
> {
>     Q_ASSERT_X(n >= 0, "QSemaphore::tryAcquire", "parameter 'n' must be
> non-negative"); if (futexAvailable())
>         return futexSemaphoreTryAcquire<true>(u, n, timeout < 0 ? -1 :
> timeout); QDeadlineTimer timer(timeout);
>     QMutexLocker locker(&d->mutex);
>     qint64 remainingTime = timer.remainingTime();
>     while (n > d->avail && remainingTime > 0) {
>         if (!d->cond.wait(locker.mutex(), remainingTime))
>             return false;
>         remainingTime = timer.remainingTime();
>     }
>     if (n > d->avail)
>         return false;
>     d->avail -= n;
>     return true;
> }

Digging further this code comes from the dev branch of qt5:
https://github.com/qt/qtbase/blob/dev/src/corelib/thread/qsemaphore.cpp#L414

Released branches use a different logic:
https://github.com/qt/qtbase/blob/5.10/src/corelib/thread/qsemaphore.cpp#L217

Are you running bleeding edge Qt ?

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171109/597d9c22/attachment.html>

From tom.chadwin at nnpa.org.uk  Thu Nov  9 14:27:40 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Thu, 9 Nov 2017 15:27:40 -0700 (MST)
Subject: [QGIS-Developer] discuss: What's our development gameplan for
 3.0 and above?
In-Reply-To: <CAB28Ash-gLy6puS4q4_UmeP8v5wO_o=W6d2+pjKQhes7RE6ERg@mail.gmail.com>
References: <CAB28Ash-gLy6puS4q4_UmeP8v5wO_o=W6d2+pjKQhes7RE6ERg@mail.gmail.com>
Message-ID: <1510266460468-0.post@n6.nabble.com>

Having suffered at the hands of the QtWebkit thing, I would strongly agree,
though I guess one airways needs to evaluate the health of any dependency -
perhaps the are instances where a Qt class is better maintained than the
alternatives.

Tom 



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From nyall.dawson at gmail.com  Thu Nov  9 14:41:53 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 10 Nov 2017 08:41:53 +1000
Subject: [QGIS-Developer] Crashes in qgsogrfeatureiterator.cpp:52 on
	master
In-Reply-To: <2795490.WWGTERUhXp@even-i700>
References: <CAB28AsgpCN0zpROd6cQT1V=XG5cq-rHwfmt3DL3igFb0AQP2SQ@mail.gmail.com>
 <2067074.Hf9SrKi1BG@even-i700> <2795490.WWGTERUhXp@even-i700>
Message-ID: <CAB28Asjonatj3vYqV8q-fKatgmOY2+h153+PspV0mGDQ_VocUA@mail.gmail.com>

On 10 November 2017 at 08:24, Even Rouault <even.rouault at spatialys.com> wrote:

> Digging further this code comes from the dev branch of qt5:
> https://github.com/qt/qtbase/blob/dev/src/corelib/thread/qsemaphore.cpp#L414
>
> Released branches use a different logic:
> https://github.com/qt/qtbase/blob/5.10/src/corelib/thread/qsemaphore.cpp#L217
>
> Are you running bleeding edge Qt ?

No - this was just the osgeo4w dev release, so using 5.9.1.

Still, maybe it's safest if we just don't use tryAcquire for negative
timeouts, and instead use acquire explicitly in this case...

Nyall

From even.rouault at spatialys.com  Thu Nov  9 14:49:44 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 09 Nov 2017 23:49:44 +0100
Subject: [QGIS-Developer] Crashes in qgsogrfeatureiterator.cpp:52 on
	master
In-Reply-To: <CAB28Asjonatj3vYqV8q-fKatgmOY2+h153+PspV0mGDQ_VocUA@mail.gmail.com>
References: <CAB28AsgpCN0zpROd6cQT1V=XG5cq-rHwfmt3DL3igFb0AQP2SQ@mail.gmail.com>
 <2795490.WWGTERUhXp@even-i700>
 <CAB28Asjonatj3vYqV8q-fKatgmOY2+h153+PspV0mGDQ_VocUA@mail.gmail.com>
Message-ID: <2625863.l1WBkzvQbz@even-i700>

On vendredi 10 novembre 2017 08:41:53 CET Nyall Dawson wrote:
> On 10 November 2017 at 08:24, Even Rouault <even.rouault at spatialys.com> wrote:
> > Digging further this code comes from the dev branch of qt5:
> > https://github.com/qt/qtbase/blob/dev/src/corelib/thread/qsemaphore.cpp#L4
> > 14
> > 
> > Released branches use a different logic:
> > https://github.com/qt/qtbase/blob/5.10/src/corelib/thread/qsemaphore.cpp#L
> > 217
> > 
> > Are you running bleeding edge Qt ?
> 
> No - this was just the osgeo4w dev release, so using 5.9.1.
> 
> Still, maybe it's safest if we just don't use tryAcquire for negative
> timeouts, and instead use acquire explicitly in this case...

Yes, that seems safer

And actually what you observe is logical, since 5.9 is also buggy for a dfferent reason since
QSemaphore::tryAcquire(int n, int timeout)
https://github.com/qt/qtbase/blob/5.9/src/corelib/thread/qsemaphore.cpp#L217
calls when timeout < 0
QSemaphore::tryAcquire(int n) which returns false when no resource is free
https://github.com/qt/qtbase/blob/5.9/src/corelib/thread/qsemaphore.cpp#L188

But 5.8 is ok:
https://github.com/qt/qtbase/blob/5.8/src/corelib/thread/qsemaphore.cpp#L217

The regression went per:
https://github.com/qt/qtbase/commit/eaee1209f0ead5be786e81db8aee604ccfea85b0#diff-30e4174ed07523635a22648c06274e0e

and this should occur also on any platform running qt 5.9

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171109/4ae7d323/attachment.html>

From even.rouault at spatialys.com  Thu Nov  9 15:02:57 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 10 Nov 2017 00:02:57 +0100
Subject: [QGIS-Developer] Crashes in qgsogrfeatureiterator.cpp:52 on
	master
In-Reply-To: <2625863.l1WBkzvQbz@even-i700>
References: <CAB28AsgpCN0zpROd6cQT1V=XG5cq-rHwfmt3DL3igFb0AQP2SQ@mail.gmail.com>
 <CAB28Asjonatj3vYqV8q-fKatgmOY2+h153+PspV0mGDQ_VocUA@mail.gmail.com>
 <2625863.l1WBkzvQbz@even-i700>
Message-ID: <15414774.QC05vJGuN8@even-i700>

> and this should occur also on any platform running qt 5.9

QT bug filed per
https://bugreports.qt.io/browse/QTBUG-64413

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171110/95b3c537/attachment.html>

From madmanwoo at gmail.com  Thu Nov  9 15:17:30 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Fri, 10 Nov 2017 09:17:30 +1000
Subject: [QGIS-Developer] discuss: What's our development gameplan for
 3.0 and above?
In-Reply-To: <1510266460468-0.post@n6.nabble.com>
References: <CAB28Ash-gLy6puS4q4_UmeP8v5wO_o=W6d2+pjKQhes7RE6ERg@mail.gmail.com>
 <1510266460468-0.post@n6.nabble.com>
Message-ID: <CAAi8Yg9ADycXi_JULh5U2VYj4Z0d+4dF=T=GwqL=TdTpH-yQYA@mail.gmail.com>

Hey,

Personally, I like using the database wrapper that Qt provide and I don't
really see much risk in using it, to be honest.
We might get better speeds going to std route which is something to
consider but I prefer an easier API over raw speed unless it's massive
speed up.

Ideally, we really need to have our own database wrapper which can sit on
top of whatever implementation we choose.  This would also allow us to add
logging of all SQL commands that are run etc.

Regards,
Nathan



On Fri, Nov 10, 2017 at 8:27 AM, Tom Chadwin <tom.chadwin at nnpa.org.uk>
wrote:

> Having suffered at the hands of the QtWebkit thing, I would strongly agree,
> though I guess one airways needs to evaluate the health of any dependency -
> perhaps the are instances where a Qt class is better maintained than the
> alternatives.
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171110/8135f1e8/attachment.html>

From nyall.dawson at gmail.com  Thu Nov  9 15:18:29 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 10 Nov 2017 09:18:29 +1000
Subject: [QGIS-Developer] Crashes in qgsogrfeatureiterator.cpp:52 on
	master
In-Reply-To: <15414774.QC05vJGuN8@even-i700>
References: <CAB28AsgpCN0zpROd6cQT1V=XG5cq-rHwfmt3DL3igFb0AQP2SQ@mail.gmail.com>
 <CAB28Asjonatj3vYqV8q-fKatgmOY2+h153+PspV0mGDQ_VocUA@mail.gmail.com>
 <2625863.l1WBkzvQbz@even-i700> <15414774.QC05vJGuN8@even-i700>
Message-ID: <CAB28Asi-MJn9HGRO6Cqth_6jJ+VgDAS7YRHY_g9+z-CVWame-w@mail.gmail.com>

On 10 November 2017 at 09:02, Even Rouault <even.rouault at spatialys.com> wrote:
>> and this should occur also on any platform running qt 5.9
>
>
>
> QT bug filed per
>
> https://bugreports.qt.io/browse/QTBUG-64413

Fantastic work... I'm thinking the Qt project should contract you to
review their codebase!

PR for QGIS at https://github.com/qgis/QGIS/pull/5588

Nyall

From nyall.dawson at gmail.com  Thu Nov  9 15:22:33 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 10 Nov 2017 09:22:33 +1000
Subject: [QGIS-Developer] discuss: What's our development gameplan for
	3.0 and above?
In-Reply-To: <CAB28Ash-gLy6puS4q4_UmeP8v5wO_o=W6d2+pjKQhes7RE6ERg@mail.gmail.com>
References: <CAB28Ash-gLy6puS4q4_UmeP8v5wO_o=W6d2+pjKQhes7RE6ERg@mail.gmail.com>
Message-ID: <CAB28Asg++j1vBiUQeji5AsnroYNt9UtWdZDF-dZN8rRfWXmWug@mail.gmail.com>

On 10 November 2017 at 07:29, Nyall Dawson <nyall.dawson at gmail.com> wrote:

> Is it our preference to use Qt classes and methods wherever available,
> or should we use std algorithms or raw library methods instead?

On a related note, I'd encourage any QGIS dev to watch KDAB's
"Effective Qt (2017 edition)" presentation:

https://www.youtube.com/watch?v=uZ68dX1-sVc

Their advice from the first slide:

"Don't use the Qt containers - unless you have to".

And that's coming from KDAB, who are massive contributors to Qt and
know the framework backwards!

Nyall

From luipir at gmail.com  Thu Nov  9 15:43:26 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Fri, 10 Nov 2017 00:43:26 +0100
Subject: [QGIS-Developer] discuss: What's our development gameplan for
 3.0 and above?
In-Reply-To: <CAB28Ash-gLy6puS4q4_UmeP8v5wO_o=W6d2+pjKQhes7RE6ERg@mail.gmail.com>
References: <CAB28Ash-gLy6puS4q4_UmeP8v5wO_o=W6d2+pjKQhes7RE6ERg@mail.gmail.com>
Message-ID: <CAFO80_oUpEHLRbGAGSTH8rf87uQd-g4Nw_MwQvkXO3OFWmMojQ@mail.gmail.com>

super +1, I follow the same rule.
We should add rule for that methods that require pyqt bindings... e.g.
any API should use and return QT containers (just to simplify type
mapping)
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 9 November 2017 at 22:29, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> Hi all,
>
> I started a discussion at
> https://github.com/qgis/QGIS/pull/5559#issuecomment-342974170 but I'd
> like greater exposure for this discussion and more feedback, so that
> together we can determine what our preferred development approach is
> for 3.0 and up.
>
> The question is:
>
> ****
> Is it our preference to use Qt classes and methods wherever available,
> or should we use std algorithms or raw library methods instead?
> ****
>
> The question in that PR results from a choice of either using
> QSqlDatabase methods for accessing a sqlite database OR using some
> basic c++11 wrappers around the raw sqlite3 api.
>
>
> In general my current preference goes something like:
>
> 1. use std implementations
> 2. use qt classes only when they save us work or there's no alternative
>
> Personally I'm just slightly dubious of qt upstream's current ability
> to maintain the qt core and gui libraries, and would prefer to lessen
> our dependence on them (where it makes sense.. i.e. isn't causing us
> more work!)
>
> But I'd like to know everyone's thoughts here, so that we're all
> coordinated with our approaches. I'm happy to go with the consensus
> view here, and would prefer a common approach than a mix of approaches
> across the codebase.
>
> So what's your thoughts?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From tisham.dhar at aerometrex.com.au  Thu Nov  9 19:13:26 2017
From: tisham.dhar at aerometrex.com.au (Tisham Dhar)
Date: Fri, 10 Nov 2017 03:13:26 +0000
Subject: [QGIS-Developer] Maintainer for qgsrasterprojector.cpp
Message-ID: <SYXPR01MB1232EB0ED2DC012A2C5DAC49BE540@SYXPR01MB1232.ausprd01.prod.outlook.com>

Hi All,

I have made a small UI change to add bilinear as a reprojection option when sawing raw rasters to file (particularly with reprojection). I am adding bilinear reprojection code to "qgsrasterprojector.cpp" block method , sampling surrounding row/columns in the source raster in addition to the approximateRowCol which the reprojector currently uses. This will slow down exports with reprojection and resampling but produce visually more pleasing outputs. Could the maintainer for this section please contact me to discuss details/changes.

After release is done perhaps.

Regards,

Tisham Dhar
Research Engineer
Aerometrex PTY LTD
59 King William St.
Kent Town SA 5067
Australia

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171110/64e7ee52/attachment.html>

From noreply at qgis.org  Thu Nov  9 23:13:25 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 10 Nov 2017 07:13:25 -0000
Subject: [QGIS-Developer] Plugin [1341] AGRC Geocoding Toolbox approval
	notification.
Message-ID: <20171110071325.28951.3958@320558c5528b>


Plugin AGRC Geocoding Toolbox approval by zimbogisgeek.
The plugin version "[1341] AGRC Geocoding Toolbox 1.0.0" is now approved
Link: http://plugins.qgis.org/plugins/AGRCGeocodingToolbox/

From apasotti at gmail.com  Thu Nov  9 23:58:03 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 10 Nov 2017 08:58:03 +0100
Subject: [QGIS-Developer] discuss: What's our development gameplan for
 3.0 and above?
In-Reply-To: <CAB28Asg++j1vBiUQeji5AsnroYNt9UtWdZDF-dZN8rRfWXmWug@mail.gmail.com>
References: <CAB28Ash-gLy6puS4q4_UmeP8v5wO_o=W6d2+pjKQhes7RE6ERg@mail.gmail.com>
 <CAB28Asg++j1vBiUQeji5AsnroYNt9UtWdZDF-dZN8rRfWXmWug@mail.gmail.com>
Message-ID: <CAL5Q670aa8y-9aS_ysjEeW1dK4qoVW7PjvapwRH4j7fjFEkzxg@mail.gmail.com>

Very interesting presentation! Thanks for sharing.

One question: how would SIP behave with STL containers if we decide to use
them instead of Qt containers?

On Fri, Nov 10, 2017 at 12:22 AM, Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On 10 November 2017 at 07:29, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>
> > Is it our preference to use Qt classes and methods wherever available,
> > or should we use std algorithms or raw library methods instead?
>
> On a related note, I'd encourage any QGIS dev to watch KDAB's
> "Effective Qt (2017 edition)" presentation:
>
> https://www.youtube.com/watch?v=uZ68dX1-sVc
>
> Their advice from the first slide:
>
> "Don't use the Qt containers - unless you have to".
>
> And that's coming from KDAB, who are massive contributors to Qt and
> know the framework backwards!
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171110/eed191d8/attachment.html>

From mj10777 at googlemail.com  Fri Nov 10 00:15:08 2017
From: mj10777 at googlemail.com (Mark Johnson)
Date: Fri, 10 Nov 2017 09:15:08 +0100
Subject: [QGIS-Developer] QGis3: QgsLayerMetadata usage from QgsDataProvider
	to QgsMapLayer ?
Message-ID: <CAEEbjBjz0oL5HGZmM03WRw2rr=N=x0=dak286awJ5Y3ce6uncw@mail.gmail.com>

My assumption is that it a Provider would be a major source to gather the
needed information an set QgsLayerMetadata.
I am doing this now for the new QgsSpatiaLiteProvider.

QgsDataProvider does not contain (at present) a mMetadata; member as
QgsMapLayer does.

So when setDataProvider runs in QgsVectorLayer and QgsRasterLayer, any
Metadata gathered by a provider (in the form of QgsLayerMetadata) cannot be
set.

So the practical usage of QgsLayerMetadata is not quite complete.

https://github.com/qgis/QGIS-Enhancement-Proposals/issues/91

---
Also there seems to be, alternative and different, 'metadata' still in
place - preventing an unified way of dealing with metadata:

QgsRasterDataProvider has a QString based  metadata() function
-     virtual QString metadata() = 0;
QgsVectorDataProvider has a  QVariantMap metadata() function
-     virtual QVariantMap metadata() const { return QVariantMap(); }
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171110/b445a780/attachment.html>

From matteo.ghetta at gmail.com  Fri Nov 10 01:02:18 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 10 Nov 2017 10:02:18 +0100
Subject: [QGIS-Developer] missing *load* button in raster style?
Message-ID: <4cab4ad0-7926-b63d-f1a3-a4bc694b8034@gmail.com>

Hi devs,

I just compiled the master branch and I noticed that in the style tab
for raster layer, I can change the min/max values (with default options
+ user defined) but I cannot see the *load values* button.

even when clicking on apply the min/max values don't change.

Am I missing something?

Thanks

Matteo

From enricofer at gmail.com  Fri Nov 10 01:51:46 2017
From: enricofer at gmail.com (Enrico Ferreguti)
Date: Fri, 10 Nov 2017 10:51:46 +0100
Subject: [QGIS-Developer] Convert from mapunits to pixels
In-Reply-To: <1510244774421-0.post@n6.nabble.com>
References: <1510244774421-0.post@n6.nabble.com>
Message-ID: <CAJy=XtetbXEwLPaVb-bWrvxsJUDhKnFSMyc+8AYVB=mv78pX0w@mail.gmail.com>

Hi Tom, I'm not sure to understand your problem, I point you to the
function that downloads vector tiles from mapillary doing that conversion:
https://github.com/enricofer/go2mapillary/blob/6c452b768e8bf8264516f27db33b1e6c690ada48/mapillary_coverage.py#L139

2017-11-09 17:26 GMT+01:00 Tom Chadwin <tom.chadwin at nnpa.org.uk>:

> Hello all
>
> I've never implemented support of any unit other than pixels in my plugin.
> A
> particular use case (vector tiles) could really use mapunits. Can someone
> explain (or point me towards) the method for converting from mapunits to
> pixels for on-screen rendering?
>
> Thanks
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171110/65ca48fb/attachment-0001.html>

From tom.chadwin at nnpa.org.uk  Fri Nov 10 02:47:21 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Fri, 10 Nov 2017 03:47:21 -0700 (MST)
Subject: [QGIS-Developer] Convert from mapunits to pixels
In-Reply-To: <CAJy=XtetbXEwLPaVb-bWrvxsJUDhKnFSMyc+8AYVB=mv78pX0w@mail.gmail.com>
References: <1510244774421-0.post@n6.nabble.com>
 <CAJy=XtetbXEwLPaVb-bWrvxsJUDhKnFSMyc+8AYVB=mv78pX0w@mail.gmail.com>
Message-ID: <1510310841136-0.post@n6.nabble.com>

Thanks for the link - this looks relevant:

map_units_per_pixel = (wgs84_maximum.x() -
wgs84_minimum.x())/self.iface.mapCanvas().width()

To explain more fully, my plugin exports QGIS projects as webmaps. I am
working on Leaflet webmaps at the moment, and, as far as I can see, Leaflet
only supports styling (point feature radius, stroke width etc) in pixels.
The plugin therefore works when styling units are pixels, but fails if they
are mapunits.

I therefore need to understand how QGIS (or whatever) calculates the pixel
dimensions for something on screen when the QGIS units are mapunits. In
other words, some formula for converting map units to pixels (presumably
involving scale/zoom as a parameter).

Hope this makes sense

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From tom.chadwin at nnpa.org.uk  Fri Nov 10 03:22:58 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Fri, 10 Nov 2017 04:22:58 -0700 (MST)
Subject: [QGIS-Developer] Convert from mapunits to pixels
In-Reply-To: <CAJy=XtetbXEwLPaVb-bWrvxsJUDhKnFSMyc+8AYVB=mv78pX0w@mail.gmail.com>
References: <1510244774421-0.post@n6.nabble.com>
 <CAJy=XtetbXEwLPaVb-bWrvxsJUDhKnFSMyc+8AYVB=mv78pX0w@mail.gmail.com>
Message-ID: <1510312978613-0.post@n6.nabble.com>

By the way, I couldn't load go2mapillary in 2.18.14 via the plugin manager -
I get "cannot import name QgsDataSourceUri".

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From enricofer at gmail.com  Fri Nov 10 04:27:39 2017
From: enricofer at gmail.com (Enrico Ferreguti)
Date: Fri, 10 Nov 2017 13:27:39 +0100
Subject: [QGIS-Developer] Convert from mapunits to pixels
In-Reply-To: <CAJy=Xtct9=5V17gevSs-RsNq8tn3Eye8FwZekTxDbZY+UEzwuA@mail.gmail.com>
References: <1510244774421-0.post@n6.nabble.com>
 <CAJy=XtetbXEwLPaVb-bWrvxsJUDhKnFSMyc+8AYVB=mv78pX0w@mail.gmail.com>
 <1510312978613-0.post@n6.nabble.com>
 <CAJy=Xtct9=5V17gevSs-RsNq8tn3Eye8FwZekTxDbZY+UEzwuA@mail.gmail.com>
Message-ID: <CAJy=XtfziSyUHFkE8fP=GdPs91=o8Bwbv6nX6nTFOc03PB_b4w@mail.gmail.com>

It's a QGIS3 plugin, I have not yet understood how to exclude QGIS2 from
plugin search.

2017-11-10 13:26 GMT+01:00 Enrico Ferreguti <enricofer at gmail.com>:

> It's a QGIS3 plugin, I have not yet understood how to exclude QGIS2 from
> plugin search.
>
> 2017-11-10 12:22 GMT+01:00 Tom Chadwin <tom.chadwin at nnpa.org.uk>:
>
>> By the way, I couldn't load go2mapillary in 2.18.14 via the plugin
>> manager -
>> I get "cannot import name QgsDataSourceUri".
>>
>> Thanks
>>
>> Tom
>>
>>
>>
>> -----
>> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>> --
>> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.
>> html
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171110/6e9b646e/attachment.html>

From enricofer at gmail.com  Fri Nov 10 04:35:49 2017
From: enricofer at gmail.com (Enrico Ferreguti)
Date: Fri, 10 Nov 2017 13:35:49 +0100
Subject: [QGIS-Developer] Convert from mapunits to pixels
In-Reply-To: <CAJy=XtfziSyUHFkE8fP=GdPs91=o8Bwbv6nX6nTFOc03PB_b4w@mail.gmail.com>
References: <1510244774421-0.post@n6.nabble.com>
 <CAJy=XtetbXEwLPaVb-bWrvxsJUDhKnFSMyc+8AYVB=mv78pX0w@mail.gmail.com>
 <1510312978613-0.post@n6.nabble.com>
 <CAJy=Xtct9=5V17gevSs-RsNq8tn3Eye8FwZekTxDbZY+UEzwuA@mail.gmail.com>
 <CAJy=XtfziSyUHFkE8fP=GdPs91=o8Bwbv6nX6nTFOc03PB_b4w@mail.gmail.com>
Message-ID: <CAJy=Xtdui_8ipS92qdZ_3dCiMipj1LTmbMvGmvaMVUPE1ttBvQ@mail.gmail.com>

did you noticed QgsMapCanvas.mapUnitsPerPixel
<https://qgis.org/api/classQgsMapCanvas.html#ad381f3ff0fc3a6db6cf1441b7a6eb754>()
?
then
lenght in pixels = lenght in mapunits / mapUnitsPerPixel
<https://qgis.org/api/classQgsMapCanvas.html#ad381f3ff0fc3a6db6cf1441b7a6eb754>
()

2017-11-10 13:27 GMT+01:00 Enrico Ferreguti <enricofer at gmail.com>:

> It's a QGIS3 plugin, I have not yet understood how to exclude QGIS2 from
> plugin search.
>
> 2017-11-10 13:26 GMT+01:00 Enrico Ferreguti <enricofer at gmail.com>:
>
>> It's a QGIS3 plugin, I have not yet understood how to exclude QGIS2 from
>> plugin search.
>>
>> 2017-11-10 12:22 GMT+01:00 Tom Chadwin <tom.chadwin at nnpa.org.uk>:
>>
>>> By the way, I couldn't load go2mapillary in 2.18.14 via the plugin
>>> manager -
>>> I get "cannot import name QgsDataSourceUri".
>>>
>>> Thanks
>>>
>>> Tom
>>>
>>>
>>>
>>> -----
>>> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>>> --
>>> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.
>>> html
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171110/39942a9a/attachment.html>

From michel.stuyts at edegem.be  Fri Nov 10 04:24:50 2017
From: michel.stuyts at edegem.be (Michel Stuyts)
Date: Fri, 10 Nov 2017 12:24:50 +0000
Subject: [QGIS-Developer] Convert from mapunits to pixels
Message-ID: <027B53E50C22524F8DB7A9FA67F30A9301B234DEE4@S-Elsschot.edegem.be>

That's because it's a QGIS 3 plugin. It had a wrong qgisMinimumVersion in the metadata in the previous versions.


Michel

-----Oorspronkelijk bericht-----
Van: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] Namens Tom Chadwin
Verzonden: vrijdag 10 november 2017 12:23
Aan: qgis-developer at lists.osgeo.org
Onderwerp: Re: [QGIS-Developer] Convert from mapunits to pixels

By the way, I couldn't load go2mapillary in 2.18.14 via the plugin manager - I get "cannot import name QgsDataSourceUri".

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From noreply at qgis.org  Fri Nov 10 07:10:28 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 10 Nov 2017 15:10:28 -0000
Subject: [QGIS-Developer] Plugin [1072] wps4server approval notification.
Message-ID: <20171110151028.28949.84089@320558c5528b>


Plugin wps4server approval by pcav.
The plugin version "[1072] wps4server 1.0.7" is now approved
Link: http://plugins.qgis.org/plugins/wps4server/

From landa.martin at gmail.com  Fri Nov 10 09:29:10 2017
From: landa.martin at gmail.com (Martin Landa)
Date: Fri, 10 Nov 2017 18:29:10 +0100
Subject: [QGIS-Developer] pyqgis: adding features to SQLite layer
Message-ID: <CA+Ei1Oe0pwCFuqXi2icPC6LfKJPKuWDbDbKThLR_hZNLDLaWTQ@mail.gmail.com>

Hi,

I found difference when adding features (addFeature) to SQLite layer
in QGIS 2.14 and 2.18.

In QGIS 2.14 ogc_fid (primary key) column in not shown in attribute
table. Feature ID does not need to be set, by adding feature the
ogc_fid sequence is automatically incremented. Everything works, first
feature has ogc_fid set to 0, second to 1, etc.

In QGIS 2.18 ogc_fid column in show in attribute table. Adding feature
is failing on same ogc_fid value, in other words, the ogc_fid value is
not autoincremented. Even feature.setFeatureId() do not help. I solved
it by adding ogc_fid value to the list of values passed to
feature.setAttributes(). Then features are finally added to the layer.

Is it really needed in QGIS 2.18 to add ogc_fid value to attributes? I
would assume that this value is set by feature id or autoincremented.
And I also wonder why setFeatureId() does not work.

Thanks for clarification. Martin

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From nyall.dawson at gmail.com  Fri Nov 10 15:50:57 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 11 Nov 2017 09:50:57 +1000
Subject: [QGIS-Developer] Convert from mapunits to pixels
In-Reply-To: <1510244774421-0.post@n6.nabble.com>
References: <1510244774421-0.post@n6.nabble.com>
Message-ID: <CAB28Asgn=7rnuXzMgKOkHdKdCvuHm2Y_F1sfCqCtqyku306GKA@mail.gmail.com>

On 10 November 2017 at 02:26, Tom Chadwin <tom.chadwin at nnpa.org.uk> wrote:
> Hello all
>
> I've never implemented support of any unit other than pixels in my plugin. A
> particular use case (vector tiles) could really use mapunits. Can someone
> explain (or point me towards) the method for converting from mapunits to
> pixels for on-screen rendering?

Have you got access to a QgsRenderContext? (If not, you can create one
from a QgsMapSettings by QgsRenderContext::fromMapSettings)

After you've got the render context you can use

- QgsRenderContext::convertFromMapUnits to convert from map units to
any other unit (including pixels, mm, etc)
- QgsRenderContext::convertToMapUnits to convert from any unit
(including pixels and mm) to map units

(That's 3.0 API)

Nyall

From nyall.dawson at gmail.com  Fri Nov 10 15:53:22 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 11 Nov 2017 09:53:22 +1000
Subject: [QGIS-Developer] QGis3: QgsLayerMetadata usage from
 QgsDataProvider to QgsMapLayer ?
In-Reply-To: <CAEEbjBjz0oL5HGZmM03WRw2rr=N=x0=dak286awJ5Y3ce6uncw@mail.gmail.com>
References: <CAEEbjBjz0oL5HGZmM03WRw2rr=N=x0=dak286awJ5Y3ce6uncw@mail.gmail.com>
Message-ID: <CAB28Asj8_8Z0Ggez2Z2CmAH=3ZxW5FPnJAhJ0y00_bFu9ZGy1A@mail.gmail.com>

On 10 November 2017 at 18:15, Mark Johnson <mj10777 at googlemail.com> wrote:
> My assumption is that it a Provider would be a major source to gather the
> needed information an set QgsLayerMetadata.
> I am doing this now for the new QgsSpatiaLiteProvider.
>
> QgsDataProvider does not contain (at present) a mMetadata; member as
> QgsMapLayer does.
>
> So when setDataProvider runs in QgsVectorLayer and QgsRasterLayer, any
> Metadata gathered by a provider (in the form of QgsLayerMetadata) cannot be
> set.
>
> So the practical usage of QgsLayerMetadata is not quite complete.
>
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/91

The proper metadata storage/retrieval is not yet implemented. In
master currently there's a very limited (i.e. hack) support for
storing and loading metadata from the current project, but it's really
just a temporary measure.

See https://github.com/qgis/QGIS/pull/5379 for the first stage in real
metadata storage and retrieval. I'd see how that PR is done, and then
make your comments there.

Nyall

From nyall.dawson at gmail.com  Fri Nov 10 16:03:26 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 11 Nov 2017 10:03:26 +1000
Subject: [QGIS-Developer] discuss: What's our development gameplan for
 3.0 and above?
In-Reply-To: <CAFO80_oUpEHLRbGAGSTH8rf87uQd-g4Nw_MwQvkXO3OFWmMojQ@mail.gmail.com>
References: <CAB28Ash-gLy6puS4q4_UmeP8v5wO_o=W6d2+pjKQhes7RE6ERg@mail.gmail.com>
 <CAFO80_oUpEHLRbGAGSTH8rf87uQd-g4Nw_MwQvkXO3OFWmMojQ@mail.gmail.com>
Message-ID: <CAB28AshoMyhw6+jJ2dULD4vg9LQDtjHPdG-zjAFpUK7GAhnVWg@mail.gmail.com>

On 10 November 2017 at 09:43, Luigi Pirelli <luipir at gmail.com> wrote:
> super +1, I follow the same rule.
> We should add rule for that methods that require pyqt bindings... e.g.
> any API should use and return QT containers (just to simplify type
> mapping)

Agreed.

Also very remember to remember that in any case where the implicit
sharing is beneficial we should still return a Qt container
(preferably QVector, using only QList if the container has come from a
Qt method or needs to be consumed by a Qt method which uses QList).

The "TLDW" for interested parties:
- Qt containers (qlist, qvector, qmap, etc) are unmaintained, They
won't be removed by upstream, but you shouldn't use them if you have a
choice
- QList is absolute rubbish and should never be used, unless you're
forced to by Qt API. It's likely to be killed in Qt 6 (becoming just
an alias for QVector)

Nyall

From tom.chadwin at nnpa.org.uk  Fri Nov 10 16:43:09 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Fri, 10 Nov 2017 17:43:09 -0700 (MST)
Subject: [QGIS-Developer] Convert from mapunits to pixels
In-Reply-To: <CAB28Asgn=7rnuXzMgKOkHdKdCvuHm2Y_F1sfCqCtqyku306GKA@mail.gmail.com>
References: <1510244774421-0.post@n6.nabble.com>
 <CAB28Asgn=7rnuXzMgKOkHdKdCvuHm2Y_F1sfCqCtqyku306GKA@mail.gmail.com>
Message-ID: <1510360989163-0.post@n6.nabble.com>

Because this conversion will not take place in QGIS but elsewhere, I need the
underlying maths for the conversion, not the API method. I've now found the
formula for EPSG:3857, and a method for all projections which works in
Leaflet, here:

https://stackoverflow.com/questions/27545098/leaflet-calculating-meters-per-pixel-at-zoom-level

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From rdmailings at duif.net  Sat Nov 11 01:27:38 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 11 Nov 2017 10:27:38 +0100
Subject: [QGIS-Developer] discuss: What's our development gameplan for
 3.0 and above?
In-Reply-To: <CAB28AshoMyhw6+jJ2dULD4vg9LQDtjHPdG-zjAFpUK7GAhnVWg@mail.gmail.com>
References: <CAB28Ash-gLy6puS4q4_UmeP8v5wO_o=W6d2+pjKQhes7RE6ERg@mail.gmail.com>
 <CAFO80_oUpEHLRbGAGSTH8rf87uQd-g4Nw_MwQvkXO3OFWmMojQ@mail.gmail.com>
 <CAB28AshoMyhw6+jJ2dULD4vg9LQDtjHPdG-zjAFpUK7GAhnVWg@mail.gmail.com>
Message-ID: <0da8366e-b1d1-8991-d5f5-cc9b3968d9c9@duif.net>

On 11-11-17 01:03, Nyall Dawson wrote:
> The "TLDW" for interested parties:
> - Qt containers (qlist, qvector, qmap, etc) are unmaintained, They
> won't be removed by upstream, but you shouldn't use them if you have a
> choice
> - QList is absolute rubbish and should never be used, unless you're
> forced to by Qt API. It's likely to be killed in Qt 6 (becoming just
> an alias for QVector)

As "interested party": All core-devs: thanks for raising and discussing
this: gives me the feeling QGIS feels responsible for code health :-)

Regards,

Richard

From tisham.dhar at aerometrex.com.au  Sun Nov 12 16:07:05 2017
From: tisham.dhar at aerometrex.com.au (Tisham Dhar)
Date: Mon, 13 Nov 2017 00:07:05 +0000
Subject: [QGIS-Developer] Raster reprojection during save
Message-ID: <SYXPR01MB1232140F6315ECAC07418966BE2B0@SYXPR01MB1232.ausprd01.prod.outlook.com>

Hi All,

As per discussions with Nyall I have made some small changes to qgis app and QGIS raster save dialog to wire in bilinear/cubic resamplers. My changes are here: https://github.com/qgis/QGIS/pull/5611. The changes don't seem to have the desired effect i.e. remove jaggies in raster output, however I believe it is a step in the right direction and could use some review. The ultimate fix would be reprojector baking in resamplers.

Regards,

Tisham Dhar
Research Engineer
Aerometrex PTY LTD
59 King William St.
Kent Town SA 5067
Australia

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171113/5fc15334/attachment.html>

From nyall.dawson at gmail.com  Sun Nov 12 19:17:49 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 13 Nov 2017 13:17:49 +1000
Subject: [QGIS-Developer] Raster reprojection during save
In-Reply-To: <SYXPR01MB1232140F6315ECAC07418966BE2B0@SYXPR01MB1232.ausprd01.prod.outlook.com>
References: <SYXPR01MB1232140F6315ECAC07418966BE2B0@SYXPR01MB1232.ausprd01.prod.outlook.com>
Message-ID: <CAB28Asi4W7xtP5d8=b3BQNOfxeqKnP5fqj6B1KFOPG-rM8z0gg@mail.gmail.com>

On 13 November 2017 at 10:07, Tisham Dhar <tisham.dhar at aerometrex.com.au> wrote:
> The changes don’t seem to have
> the desired effect i.e. remove jaggies in raster output, however I believe
> it is a step in the right direction and could use some review. The ultimate
> fix would be reprojector baking in resamplers.
>

Mathieu - I vaguely recall you looking into this a while back, right?
What was your findings?

Nyall

From nirvn.asia at gmail.com  Sun Nov 12 19:26:53 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Mon, 13 Nov 2017 10:26:53 +0700
Subject: [QGIS-Developer] Raster reprojection during save
In-Reply-To: <CAB28Asi4W7xtP5d8=b3BQNOfxeqKnP5fqj6B1KFOPG-rM8z0gg@mail.gmail.com>
References: <SYXPR01MB1232140F6315ECAC07418966BE2B0@SYXPR01MB1232.ausprd01.prod.outlook.com>
 <CAB28Asi4W7xtP5d8=b3BQNOfxeqKnP5fqj6B1KFOPG-rM8z0gg@mail.gmail.com>
Message-ID: <CAC_qv=qktWqHYW3TtKCovQzj84OaAyopOefNwdWf3+b9wqHwBA@mail.gmail.com>

Off the top of my head, what I remember: the way zoomed in resampling
occurs isn't compatible with reprojected rasters. It's visible on the main
canvas as soon as your project's CRS != raster's CRS. I *think* zoomed out
resampling didn't suffer from the same issue.

On Mon, Nov 13, 2017 at 10:17 AM, Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On 13 November 2017 at 10:07, Tisham Dhar <tisham.dhar at aerometrex.com.au>
> wrote:
> > The changes don’t seem to have
> > the desired effect i.e. remove jaggies in raster output, however I
> believe
> > it is a step in the right direction and could use some review. The
> ultimate
> > fix would be reprojector baking in resamplers.
> >
>
> Mathieu - I vaguely recall you looking into this a while back, right?
> What was your findings?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171113/7873b885/attachment.html>

From apasotti at gmail.com  Mon Nov 13 00:55:23 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 13 Nov 2017 09:55:23 +0100
Subject: [QGIS-Developer] discuss: What's our development gameplan for
 3.0 and above?
In-Reply-To: <0da8366e-b1d1-8991-d5f5-cc9b3968d9c9@duif.net>
References: <CAB28Ash-gLy6puS4q4_UmeP8v5wO_o=W6d2+pjKQhes7RE6ERg@mail.gmail.com>
 <CAFO80_oUpEHLRbGAGSTH8rf87uQd-g4Nw_MwQvkXO3OFWmMojQ@mail.gmail.com>
 <CAB28AshoMyhw6+jJ2dULD4vg9LQDtjHPdG-zjAFpUK7GAhnVWg@mail.gmail.com>
 <0da8366e-b1d1-8991-d5f5-cc9b3968d9c9@duif.net>
Message-ID: <CAL5Q67069558WxEu-phY5Kit5SULxH+aFp8Qq9TPSv84eCxbgg@mail.gmail.com>

On Sat, Nov 11, 2017 at 10:27 AM, Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> On 11-11-17 01:03, Nyall Dawson wrote:
> > The "TLDW" for interested parties:
> > - Qt containers (qlist, qvector, qmap, etc) are unmaintained, They
> > won't be removed by upstream, but you shouldn't use them if you have a
> > choice
> > - QList is absolute rubbish and should never be used, unless you're
> > forced to by Qt API. It's likely to be killed in Qt 6 (becoming just
> > an alias for QVector)
>

Here are my (very subjective) reasons for choosing one or the other approach

WHY USING MAINLY/ONLY QT API
- Qt API is well documented with examples on http://doc.qt.io/qt-5/ and
using a single API instead of a mix it's a clear advantage (you don't have
to constantly ask yourself which API you need to use in a particular call)
- Qt API is simple and intuitive
- Qt API is more readable (camel case, no std:: etc.)
- Qt Containers are simple to use and cheap to copy (with caveats)
- QString has no real alternative for UTF8


WHY USING MAINLY/ONLY STL API
- Qt Containers are not for-range loop friendly (detach issues)
- Qt Containers are kind of deprecated
- STL is part of a standard, may lower barriers to entry for not-Qt devs


CONCLUSIONS
- I feel that the real motivation is to stay away from Qt containers, if it
wasn't for them we would not probably be here discussing in the first place
- I'd try as much as possible to avoid mixing two APIs: if we go for STL,
let's try to minimize Qt API usage or constraint it to certain domains (for
example: QStrings manipulation, dispatcher, GUI)
- no strong opinions here, but the greatest danger is to not decide: we'll
end up with a mixture of APIs and styles and code reviews will become
completely arbitrary, with people asked to switch API depending on who
reviews the code (and when the review is made)
- whatever we agree upon, it *must* be documented clearly in coding
guidelines

WHAT TO DO?

We have a few strong C++ coders in this community, I think that the best
way to proceed would be to let them articulate the different options that
we have and - if the don't agree - let the core devs vote on the proposals
they come out with.


Btw, thanks for binging up this discussion!

Cheers.

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171113/40651902/attachment-0001.html>

From vincent.ml at oslandia.com  Mon Nov 13 05:49:39 2017
From: vincent.ml at oslandia.com (Vincent Picavet (ml))
Date: Mon, 13 Nov 2017 14:49:39 +0100
Subject: [QGIS-Developer] QgsServer and 3d tiles
In-Reply-To: <CAB4g1=wf0RKD-C5281UgwmjpxkEsNZq0oNi9e9sQh94mbuQyug@mail.gmail.com>
References: <CAB4g1=y7R3PC0fpJDtuhWv7sMCLMkeawQsFj8+UzE06PT+q4iw@mail.gmail.com>
 <CAB4g1=zFhJTue4S55sLaWKQ+sUUEw5ugj5oh0QoMSM3Y399kMQ@mail.gmail.com>
 <CAB4g1=zzh1HPAUsexA-3xemti2Yva36KKxFiOF=knq3qavLWhg@mail.gmail.com>
 <4c78c763-7c03-8f29-6400-45832fd4055b@oslandia.com>
 <CAB4g1=wf0RKD-C5281UgwmjpxkEsNZq0oNi9e9sQh94mbuQyug@mail.gmail.com>
Message-ID: <ef783dd4-823f-ec4b-0c4b-23f1d901b65b@oslandia.com>

Hello,

On 09/11/2017 16:49, G. Allegri wrote:
> Hi Vincent,
> I agree tiled static data can, and should, be served as static content
> but what I meant was having something like Tilestache, GeoWebCache,
> MapCache, etc.. They're meant to render and cache on the fly, or
> preseeding the tileset.
> 
> My question raised from the fact that QGIS 3D renderer could be a common
> base to produce terrain meshes (a la Cesium) and 3D tiles, both for the
> desktop 3D viewer and for a cached tileset to be served through HTTP.

I would rather have a dedicated terrain mesh generator first, which
could be embedded in QGIS 3D later on. Generating a terrain mesh is a
data processing action, not a rendering one. We should tackle the
problem in this order, or we will end up with code less efficient and
less generic.

> QgsServer could use the same code base to populate the cache, but this
> doesn't prevent having a Processing tool (ore whatever) doing the work
> in advance.

I think we agree on the general issue, but have a different point of
view on the design process. We should converge at some point :-)

> You're working with gltf. What about OGC I3S?

I3S is, like other examples, a standard pushed by ESRI for ESRI
products. It has been designed by ESRI and pushed forward to OGC
community standard in a desire not to adopt 3D tiles.
I do not say that I3S is a bad technical standard. But it is just
another effort from ESRI to favor its own specific formats instead of
collaborating on a real "community" standard.

It is therefore not a strong incentive to dedicate efforts for an
opensource implementation.
If there was funding for it, we could implement it too, as the
specifications are open. But priority goes to 3DTiles as far as we are
concerned.

Regards,
Vincent




> 
> giovanni
> 
> Il 9 nov 2017 16:29, "Vincent Picavet (ml)" <vincent.ml at oslandia.com
> <mailto:vincent.ml at oslandia.com>> ha scritto:
> 
>     Hello,
> 
>     On 03/11/2017 21:04, G. Allegri wrote:
>     > What if we had a QgsServer service dedicates to serving 3d tiles for
>     > Cesium or iTowns?
>     > Is anybody working on this?
> 
>     At Oslandia, we work on 3D topics a lot, and 3d tiles in particular. We
>     are implementing 3D Tiles support in iTowns, and several components to
>     serve this format as webservices.
> 
>     E.g. :
>     - https://github.com/Oslandia/building-server
>     <https://github.com/Oslandia/building-server>
>     - https://github.com/Oslandia/lopocs
>     <https://github.com/Oslandia/lopocs>
> 
>     I do not think having QGIS Server serving 3D tiles is a really good
>     idea.
> 
>     First, 3D tiles is a format ( and protocol) to serve tiles of objects in
>     a mostly static way. Therefore, what would be interesting is for QGIS to
>     have a way to export data as 3d Tiles. These tiles can then be served
>     with a simple HTTP server, no need for a QGIS Server component.
> 
>     Moreover, there are a lot of use cases where we want to serve 3D Tiles
>     without using QGIS at all. Component-oriented architecture is better
>     than monolithic software.
> 
>     What I see as best approach would be to mutualize as much code as
>     possible regarding 3D tiles in py3dtiles :
>     https://github.com/Oslandia/py3dtiles
>     <https://github.com/Oslandia/py3dtiles>
> 
>     Using this module, we can write a 3dtile exporter, as a Processing
>     module for example. We already have some draft code to do that for some
>     data sets.
>     Then, we could have an independant 3D tiles server reusing py3dtiles, or
>     integrate this as QGIS Server module if we want.
> 
>     We would be happy to work on these subjects and share our experience on
>     all 3D-related topics. Funding is also very welcome.
> 
>     But for now, I think we should focus on releasing QGIS3 in a usable
>     state. We have waited for too long, and there is still work to achieve
>     to stabilize the release.
> 
>     3D features can wait a bit more, even if call for interest, needs,
>     funding and collaboration is welcome.
> 
>     Best regards,
>     Vincent
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 


From vincent.ml at oslandia.com  Mon Nov 13 06:04:50 2017
From: vincent.ml at oslandia.com (Vincent Picavet (ml))
Date: Mon, 13 Nov 2017 15:04:50 +0100
Subject: [QGIS-Developer] QgsServer and 3d tiles
In-Reply-To: <CAB4g1=wf0RKD-C5281UgwmjpxkEsNZq0oNi9e9sQh94mbuQyug@mail.gmail.com>
References: <CAB4g1=y7R3PC0fpJDtuhWv7sMCLMkeawQsFj8+UzE06PT+q4iw@mail.gmail.com>
 <CAB4g1=zFhJTue4S55sLaWKQ+sUUEw5ugj5oh0QoMSM3Y399kMQ@mail.gmail.com>
 <CAB4g1=zzh1HPAUsexA-3xemti2Yva36KKxFiOF=knq3qavLWhg@mail.gmail.com>
 <4c78c763-7c03-8f29-6400-45832fd4055b@oslandia.com>
 <CAB4g1=wf0RKD-C5281UgwmjpxkEsNZq0oNi9e9sQh94mbuQyug@mail.gmail.com>
Message-ID: <968e83be-f0c4-bfca-693e-bd6d90de57af@oslandia.com>

Hello,

On 09/11/2017 16:49, G. Allegri wrote:
> Hi Vincent,
> I agree tiled static data can, and should, be served as static content
> but what I meant was having something like Tilestache, GeoWebCache,
> MapCache, etc.. They're meant to render and cache on the fly, or
> preseeding the tileset.
> 
> My question raised from the fact that QGIS 3D renderer could be a common
> base to produce terrain meshes (a la Cesium) and 3D tiles, both for the
> desktop 3D viewer and for a cached tileset to be served through HTTP.

I would rather have a dedicated terrain mesh generator first, which
could be embedded in QGIS 3D later on. Generating a terrain mesh is a
data processing action, not a rendering one. We should tackle the
problem in this order, or we will end up with code less efficient and
less generic.

> QgsServer could use the same code base to populate the cache, but this
> doesn't prevent having a Processing tool (ore whatever) doing the work
> in advance.

I think we agree on the general issue, but have a different point of
view on the design process. We should converge at some point :-)

> You're working with gltf. What about OGC I3S?

I3S is, like other examples, a standard pushed by ESRI for ESRI
products. It has been designed by ESRI and pushed forward to OGC
community standard in a desire not to adopt 3D tiles.
I do not say that I3S is a bad technical standard. But it is just
another effort from ESRI to favor its own specific formats instead of
collaborating on a real "community" standard.

It is therefore not a strong incentive to dedicate efforts for an
opensource implementation.
If there was funding for it, we could implement it too, as the
specifications are open. But priority goes to 3DTiles as far as we are
concerned.

Regards,
Vincent




> 
> giovanni
> 
> Il 9 nov 2017 16:29, "Vincent Picavet (ml)" <vincent.ml at oslandia.com
> <mailto:vincent.ml at oslandia.com>> ha scritto:
> 
>     Hello,
> 
>     On 03/11/2017 21:04, G. Allegri wrote:
>     > What if we had a QgsServer service dedicates to serving 3d tiles for
>     > Cesium or iTowns?
>     > Is anybody working on this?
> 
>     At Oslandia, we work on 3D topics a lot, and 3d tiles in particular. We
>     are implementing 3D Tiles support in iTowns, and several components to
>     serve this format as webservices.
> 
>     E.g. :
>     - https://github.com/Oslandia/building-server
>     <https://github.com/Oslandia/building-server>
>     - https://github.com/Oslandia/lopocs
>     <https://github.com/Oslandia/lopocs>
> 
>     I do not think having QGIS Server serving 3D tiles is a really good
>     idea.
> 
>     First, 3D tiles is a format ( and protocol) to serve tiles of objects in
>     a mostly static way. Therefore, what would be interesting is for QGIS to
>     have a way to export data as 3d Tiles. These tiles can then be served
>     with a simple HTTP server, no need for a QGIS Server component.
> 
>     Moreover, there are a lot of use cases where we want to serve 3D Tiles
>     without using QGIS at all. Component-oriented architecture is better
>     than monolithic software.
> 
>     What I see as best approach would be to mutualize as much code as
>     possible regarding 3D tiles in py3dtiles :
>     https://github.com/Oslandia/py3dtiles
>     <https://github.com/Oslandia/py3dtiles>
> 
>     Using this module, we can write a 3dtile exporter, as a Processing
>     module for example. We already have some draft code to do that for some
>     data sets.
>     Then, we could have an independant 3D tiles server reusing py3dtiles, or
>     integrate this as QGIS Server module if we want.
> 
>     We would be happy to work on these subjects and share our experience on
>     all 3D-related topics. Funding is also very welcome.
> 
>     But for now, I think we should focus on releasing QGIS3 in a usable
>     state. We have waited for too long, and there is still work to achieve
>     to stabilize the release.
> 
>     3D features can wait a bit more, even if call for interest, needs,
>     funding and collaboration is welcome.
> 
>     Best regards,
>     Vincent
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 


From tomkralidis at gmail.com  Mon Nov 13 06:06:03 2017
From: tomkralidis at gmail.com (Tom Kralidis)
Date: Mon, 13 Nov 2017 09:06:03 -0500
Subject: [QGIS-Developer] MetaSearch provider connections in master
Message-ID: <CAFWXLWVkMwAriZ=q2h=pmjq=YgAJ7tw-18bvix_vfmbX+z019A@mail.gmail.com>

Hi devs:

Given https://issues.qgis.org/issues/17347 I'm working on fixing MetaSearch
provider connections in master. The core part of the code is currently at [1]. A
standalone example can be found at [2].  Result is that the WMS/WMTS provider
opens connecting to the selected WMS/WMTS (good).  When clicking 'Ok', 'Close',
or 'Add', the WMS/WMTS layer is added (expecting 'Close' to simply
close the dialog
and 'Ok' to add the layer and then close).  Finally clicking the 'X'
(top right) closes
the dialog as expected.

- are there other slots to call instead?
- should the Data Source Manager be used instead [3]?  Are there plans
for providing
Python binding to this?

Thanks

..Tom

[1] https://github.com/qgis/QGIS/blob/master/python/plugins/MetaSearch/dialogs/maindialog.py#L759-L792
[2] https://gist.github.com/tomkralidis/dccb49efa760a585be38ee0c3188b8b3
[3] http://qgis.org/api/classQgsDataSourceManagerDialog.html

From apasotti at gmail.com  Mon Nov 13 06:18:53 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 13 Nov 2017 15:18:53 +0100
Subject: [QGIS-Developer] MetaSearch provider connections in master
In-Reply-To: <CAFWXLWVkMwAriZ=q2h=pmjq=YgAJ7tw-18bvix_vfmbX+z019A@mail.gmail.com>
References: <CAFWXLWVkMwAriZ=q2h=pmjq=YgAJ7tw-18bvix_vfmbX+z019A@mail.gmail.com>
Message-ID: <CAL5Q673c37gJqJ5+T70m5Z0spHCE_4ZfnroKT42mzN6wi1Eb7Q@mail.gmail.com>

On Mon, Nov 13, 2017 at 3:06 PM, Tom Kralidis <tomkralidis at gmail.com> wrote:

> Hi devs:
>
> Given https://issues.qgis.org/issues/17347 I'm working on fixing
> MetaSearch
> provider connections in master. The core part of the code is currently at
> [1]. A
> standalone example can be found at [2].  Result is that the WMS/WMTS
> provider
> opens connecting to the selected WMS/WMTS (good).  When clicking 'Ok',
> 'Close',
> or 'Add', the WMS/WMTS layer is added (expecting 'Close' to simply
> close the dialog
> and 'Ok' to add the layer and then close).  Finally clicking the 'X'
> (top right) closes
> the dialog as expected.
>
> - are there other slots to call instead?
> - should the Data Source Manager be used instead [3]?  Are there plans
> for providing
> Python binding to this?
>


I can't tell if it's a good idea, but you can definitely add whatever you
want to the DataSourceManager dialog with plain python:

class ConcreteDataSourceWidget(QgsAbstractDataSourceWidget):
    pass

class ConcreteSourceSelectProvider(QgsSourceSelectProvider):

    def providerKey(self):
        return "MyTestProviderKey"

    def text(self):
        return "MyTestProviderText"

    def icon(self):
        return QIcon()

    def createDataSourceWidget(self):
        return ConcreteDataSourceWidget()

    def ordering(self):
        return 1

registry = QgsSourceSelectProviderRegistry()
registry.addProvider(ConcreteSourceSelectProvider())

Note that the DataSourceManager dialog is created when QGIS starts, you
will want to register your provider early in the startup process, for now,
there is no way to refresh the dialog after it has been constructed.





>
> Thanks
>
> ..Tom
>
> [1] https://github.com/qgis/QGIS/blob/master/python/plugins/
> MetaSearch/dialogs/maindialog.py#L759-L792
> [2] https://gist.github.com/tomkralidis/dccb49efa760a585be38ee0c3188b8b3
> [3] http://qgis.org/api/classQgsDataSourceManagerDialog.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer




-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171113/e58e0a7e/attachment.html>

From giohappy at gmail.com  Mon Nov 13 06:23:59 2017
From: giohappy at gmail.com (G. Allegri)
Date: Mon, 13 Nov 2017 15:23:59 +0100
Subject: [QGIS-Developer] QgsServer and 3d tiles
In-Reply-To: <ef783dd4-823f-ec4b-0c4b-23f1d901b65b@oslandia.com>
References: <CAB4g1=y7R3PC0fpJDtuhWv7sMCLMkeawQsFj8+UzE06PT+q4iw@mail.gmail.com>
 <CAB4g1=zFhJTue4S55sLaWKQ+sUUEw5ugj5oh0QoMSM3Y399kMQ@mail.gmail.com>
 <CAB4g1=zzh1HPAUsexA-3xemti2Yva36KKxFiOF=knq3qavLWhg@mail.gmail.com>
 <4c78c763-7c03-8f29-6400-45832fd4055b@oslandia.com>
 <CAB4g1=wf0RKD-C5281UgwmjpxkEsNZq0oNi9e9sQh94mbuQyug@mail.gmail.com>
 <ef783dd4-823f-ec4b-0c4b-23f1d901b65b@oslandia.com>
Message-ID: <CAB4g1=zvDihyxMeUapC897JrLjpj=9GGA-fOfVsQGMctuzqQpg@mail.gmail.com>

I see your point Vincent. I'm not planning to implement it and I don't have
a strong opinion on the right design. From a user point of view it doesn't
mske much difference either. So, no problem to converge :)
I agree also on I3S being an Esri oriented standard (as it's been for
GeoPackage, or KML for Google). Well the same could be said for 3D Tiles /
gtTF and AGI, don't you think? Same as before, I totally respect the
choices of who's putting resources on concrete development. It's just to
share thoughts and opinions.

giovanni


Il 13 nov 2017 2:49 PM, "Vincent Picavet (ml)" <vincent.ml at oslandia.com> ha
scritto:

Hello,

On 09/11/2017 16:49, G. Allegri wrote:
> Hi Vincent,
> I agree tiled static data can, and should, be served as static content
> but what I meant was having something like Tilestache, GeoWebCache,
> MapCache, etc.. They're meant to render and cache on the fly, or
> preseeding the tileset.
>
> My question raised from the fact that QGIS 3D renderer could be a common
> base to produce terrain meshes (a la Cesium) and 3D tiles, both for the
> desktop 3D viewer and for a cached tileset to be served through HTTP.

I would rather have a dedicated terrain mesh generator first, which
could be embedded in QGIS 3D later on. Generating a terrain mesh is a
data processing action, not a rendering one. We should tackle the
problem in this order, or we will end up with code less efficient and
less generic.

> QgsServer could use the same code base to populate the cache, but this
> doesn't prevent having a Processing tool (ore whatever) doing the work
> in advance.

I think we agree on the general issue, but have a different point of
view on the design process. We should converge at some point :-)

> You're working with gltf. What about OGC I3S?

I3S is, like other examples, a standard pushed by ESRI for ESRI
products. It has been designed by ESRI and pushed forward to OGC
community standard in a desire not to adopt 3D tiles.
I do not say that I3S is a bad technical standard. But it is just
another effort from ESRI to favor its own specific formats instead of
collaborating on a real "community" standard.

It is therefore not a strong incentive to dedicate efforts for an
opensource implementation.
If there was funding for it, we could implement it too, as the
specifications are open. But priority goes to 3DTiles as far as we are
concerned.

Regards,
Vincent




>
> giovanni
>
> Il 9 nov 2017 16:29, "Vincent Picavet (ml)" <vincent.ml at oslandia.com
> <mailto:vincent.ml at oslandia.com>> ha scritto:
>
>     Hello,
>
>     On 03/11/2017 21:04, G. Allegri wrote:
>     > What if we had a QgsServer service dedicates to serving 3d tiles for
>     > Cesium or iTowns?
>     > Is anybody working on this?
>
>     At Oslandia, we work on 3D topics a lot, and 3d tiles in particular.
We
>     are implementing 3D Tiles support in iTowns, and several components to
>     serve this format as webservices.
>
>     E.g. :
>     - https://github.com/Oslandia/building-server
>     <https://github.com/Oslandia/building-server>
>     - https://github.com/Oslandia/lopocs
>     <https://github.com/Oslandia/lopocs>
>
>     I do not think having QGIS Server serving 3D tiles is a really good
>     idea.
>
>     First, 3D tiles is a format ( and protocol) to serve tiles of objects
in
>     a mostly static way. Therefore, what would be interesting is for QGIS
to
>     have a way to export data as 3d Tiles. These tiles can then be served
>     with a simple HTTP server, no need for a QGIS Server component.
>
>     Moreover, there are a lot of use cases where we want to serve 3D Tiles
>     without using QGIS at all. Component-oriented architecture is better
>     than monolithic software.
>
>     What I see as best approach would be to mutualize as much code as
>     possible regarding 3D tiles in py3dtiles :
>     https://github.com/Oslandia/py3dtiles
>     <https://github.com/Oslandia/py3dtiles>
>
>     Using this module, we can write a 3dtile exporter, as a Processing
>     module for example. We already have some draft code to do that for
some
>     data sets.
>     Then, we could have an independant 3D tiles server reusing py3dtiles,
or
>     integrate this as QGIS Server module if we want.
>
>     We would be happy to work on these subjects and share our experience
on
>     all 3D-related topics. Funding is also very welcome.
>
>     But for now, I think we should focus on releasing QGIS3 in a usable
>     state. We have waited for too long, and there is still work to achieve
>     to stabilize the release.
>
>     3D features can wait a bit more, even if call for interest, needs,
>     funding and collaboration is welcome.
>
>     Best regards,
>     Vincent
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171113/b400e4eb/attachment-0001.html>

From tomkralidis at gmail.com  Mon Nov 13 06:59:03 2017
From: tomkralidis at gmail.com (Tom Kralidis)
Date: Mon, 13 Nov 2017 09:59:03 -0500
Subject: [QGIS-Developer] MetaSearch provider connections in master
In-Reply-To: <CAL5Q673c37gJqJ5+T70m5Z0spHCE_4ZfnroKT42mzN6wi1Eb7Q@mail.gmail.com>
References: <CAFWXLWVkMwAriZ=q2h=pmjq=YgAJ7tw-18bvix_vfmbX+z019A@mail.gmail.com>
 <CAL5Q673c37gJqJ5+T70m5Z0spHCE_4ZfnroKT42mzN6wi1Eb7Q@mail.gmail.com>
Message-ID: <CAFWXLWWB8ms9k6Az-TUDMF4T+0+7p1+h6g7Vr_VHaqWn6H=unQ@mail.gmail.com>

On Mon, Nov 13, 2017 at 9:18 AM, Alessandro Pasotti <apasotti at gmail.com> wrote:
> On Mon, Nov 13, 2017 at 3:06 PM, Tom Kralidis <tomkralidis at gmail.com> wrote:
>>
>> Hi devs:
>>
>> Given https://issues.qgis.org/issues/17347 I'm working on fixing
>> MetaSearch
>> provider connections in master. The core part of the code is currently at
>> [1]. A
>> standalone example can be found at [2].  Result is that the WMS/WMTS
>> provider
>> opens connecting to the selected WMS/WMTS (good).  When clicking 'Ok',
>> 'Close',
>> or 'Add', the WMS/WMTS layer is added (expecting 'Close' to simply
>> close the dialog
>> and 'Ok' to add the layer and then close).  Finally clicking the 'X'
>> (top right) closes
>> the dialog as expected.
>>
>> - are there other slots to call instead?
>> - should the Data Source Manager be used instead [3]?  Are there plans
>> for providing
>> Python binding to this?
>
>
>
> I can't tell if it's a good idea, but you can definitely add whatever you
> want to the DataSourceManager dialog with plain python:
>
> class ConcreteDataSourceWidget(QgsAbstractDataSourceWidget):
>     pass
>
> class ConcreteSourceSelectProvider(QgsSourceSelectProvider):
>
>     def providerKey(self):
>         return "MyTestProviderKey"
>
>     def text(self):
>         return "MyTestProviderText"
>
>     def icon(self):
>         return QIcon()
>
>     def createDataSourceWidget(self):
>         return ConcreteDataSourceWidget()
>
>     def ordering(self):
>         return 1
>
> registry = QgsSourceSelectProviderRegistry()
> registry.addProvider(ConcreteSourceSelectProvider())
>
> Note that the DataSourceManager dialog is created when QGIS starts, you will
> want to register your provider early in the startup process, for now, there
> is no way to refresh the dialog after it has been constructed.
>

Thanks Alessandro.  Is this example to add a provider type?  MetaSearch
simply wants to open a given existing provider dialog, open based on a given
provider type and let the user interact from there.

..Tom

>
>
>
>>
>>
>> Thanks
>>
>> ..Tom
>>
>> [1]
>> https://github.com/qgis/QGIS/blob/master/python/plugins/MetaSearch/dialogs/maindialog.py#L759-L792
>> [2] https://gist.github.com/tomkralidis/dccb49efa760a585be38ee0c3188b8b3
>> [3] http://qgis.org/api/classQgsDataSourceManagerDialog.html
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it

From apasotti at gmail.com  Mon Nov 13 07:17:41 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 13 Nov 2017 16:17:41 +0100
Subject: [QGIS-Developer] MetaSearch provider connections in master
In-Reply-To: <CAFWXLWWB8ms9k6Az-TUDMF4T+0+7p1+h6g7Vr_VHaqWn6H=unQ@mail.gmail.com>
References: <CAFWXLWVkMwAriZ=q2h=pmjq=YgAJ7tw-18bvix_vfmbX+z019A@mail.gmail.com>
 <CAL5Q673c37gJqJ5+T70m5Z0spHCE_4ZfnroKT42mzN6wi1Eb7Q@mail.gmail.com>
 <CAFWXLWWB8ms9k6Az-TUDMF4T+0+7p1+h6g7Vr_VHaqWn6H=unQ@mail.gmail.com>
Message-ID: <CAL5Q672ZBHDKD0EzwLPMyY90ujnby-=sYYiJXkuQ4XYGGjpZag@mail.gmail.com>

On Mon, Nov 13, 2017 at 3:59 PM, Tom Kralidis <tomkralidis at gmail.com> wrote:

> On Mon, Nov 13, 2017 at 9:18 AM, Alessandro Pasotti <apasotti at gmail.com>
> wrote:
> > On Mon, Nov 13, 2017 at 3:06 PM, Tom Kralidis <tomkralidis at gmail.com>
> wrote:
> >>
> >> Hi devs:
> >>
> >> Given https://issues.qgis.org/issues/17347 I'm working on fixing
> >> MetaSearch
> >> provider connections in master. The core part of the code is currently
> at
> >> [1]. A
> >> standalone example can be found at [2].  Result is that the WMS/WMTS
> >> provider
> >> opens connecting to the selected WMS/WMTS (good).  When clicking 'Ok',
> >> 'Close',
> >> or 'Add', the WMS/WMTS layer is added (expecting 'Close' to simply
> >> close the dialog
> >> and 'Ok' to add the layer and then close).  Finally clicking the 'X'
> >> (top right) closes
> >> the dialog as expected.
> >>
> >> - are there other slots to call instead?
> >> - should the Data Source Manager be used instead [3]?  Are there plans
> >> for providing
> >> Python binding to this?
> >
> >
> >
> > I can't tell if it's a good idea, but you can definitely add whatever you
> > want to the DataSourceManager dialog with plain python:
> >
> > class ConcreteDataSourceWidget(QgsAbstractDataSourceWidget):
> >     pass
> >
> > class ConcreteSourceSelectProvider(QgsSourceSelectProvider):
> >
> >     def providerKey(self):
> >         return "MyTestProviderKey"
> >
> >     def text(self):
> >         return "MyTestProviderText"
> >
> >     def icon(self):
> >         return QIcon()
> >
> >     def createDataSourceWidget(self):
> >         return ConcreteDataSourceWidget()
> >
> >     def ordering(self):
> >         return 1
> >
> > registry = QgsSourceSelectProviderRegistry()
> > registry.addProvider(ConcreteSourceSelectProvider())
> >
> > Note that the DataSourceManager dialog is created when QGIS starts, you
> will
> > want to register your provider early in the startup process, for now,
> there
> > is no way to refresh the dialog after it has been constructed.
> >
>
> Thanks Alessandro.  Is this example to add a provider type?  MetaSearch
> simply wants to open a given existing provider dialog, open based on a
> given
> provider type and let the user interact from there.
>
> ..Tom
>


Yes, that's the way to add a new "provider" (it does not really need to be
a provider) to the items in the data source manager dialog.

Maybe you wanted to use this:
http://qgis.org/api/classQgsDataSourceManagerDialog.html#a6b9046d38467a13ec321a70166bff289

Btw you can also get the individual source selects from provider registry:
QgsProviderRegistry.instance().createSelectionWidget('ogr').show()



Cheers.


> >
> >
> >
> >>
> >>
> >> Thanks
> >>
> >> ..Tom
> >>
> >> [1]
> >> https://github.com/qgis/QGIS/blob/master/python/plugins/
> MetaSearch/dialogs/maindialog.py#L759-L792
> >> [2] https://gist.github.com/tomkralidis/dccb49efa760a585be38ee0c3188b8
> b3
> >> [3] http://qgis.org/api/classQgsDataSourceManagerDialog.html
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> >
> > --
> > Alessandro Pasotti
> > w3:   www.itopen.it
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171113/ed322cf0/attachment.html>

From tomkralidis at gmail.com  Mon Nov 13 07:24:20 2017
From: tomkralidis at gmail.com (Tom Kralidis)
Date: Mon, 13 Nov 2017 10:24:20 -0500
Subject: [QGIS-Developer] MetaSearch provider connections in master
In-Reply-To: <CAL5Q672ZBHDKD0EzwLPMyY90ujnby-=sYYiJXkuQ4XYGGjpZag@mail.gmail.com>
References: <CAFWXLWVkMwAriZ=q2h=pmjq=YgAJ7tw-18bvix_vfmbX+z019A@mail.gmail.com>
 <CAL5Q673c37gJqJ5+T70m5Z0spHCE_4ZfnroKT42mzN6wi1Eb7Q@mail.gmail.com>
 <CAFWXLWWB8ms9k6Az-TUDMF4T+0+7p1+h6g7Vr_VHaqWn6H=unQ@mail.gmail.com>
 <CAL5Q672ZBHDKD0EzwLPMyY90ujnby-=sYYiJXkuQ4XYGGjpZag@mail.gmail.com>
Message-ID: <CAFWXLWXxr4xYJUw5O3U2O2p8R=EsaOHurucmb3CU=SOJpMoi+A@mail.gmail.com>

On Mon, Nov 13, 2017 at 10:17 AM, Alessandro Pasotti <apasotti at gmail.com> wrote:
> On Mon, Nov 13, 2017 at 3:59 PM, Tom Kralidis <tomkralidis at gmail.com> wrote:
>>
>> On Mon, Nov 13, 2017 at 9:18 AM, Alessandro Pasotti <apasotti at gmail.com>
>> wrote:
>> > On Mon, Nov 13, 2017 at 3:06 PM, Tom Kralidis <tomkralidis at gmail.com>
>> > wrote:
>> >>
>> >> Hi devs:
>> >>
>> >> Given https://issues.qgis.org/issues/17347 I'm working on fixing
>> >> MetaSearch
>> >> provider connections in master. The core part of the code is currently
>> >> at
>> >> [1]. A
>> >> standalone example can be found at [2].  Result is that the WMS/WMTS
>> >> provider
>> >> opens connecting to the selected WMS/WMTS (good).  When clicking 'Ok',
>> >> 'Close',
>> >> or 'Add', the WMS/WMTS layer is added (expecting 'Close' to simply
>> >> close the dialog
>> >> and 'Ok' to add the layer and then close).  Finally clicking the 'X'
>> >> (top right) closes
>> >> the dialog as expected.
>> >>
>> >> - are there other slots to call instead?
>> >> - should the Data Source Manager be used instead [3]?  Are there plans
>> >> for providing
>> >> Python binding to this?
>> >
>> >
>> >
>> > I can't tell if it's a good idea, but you can definitely add whatever
>> > you
>> > want to the DataSourceManager dialog with plain python:
>> >
>> > class ConcreteDataSourceWidget(QgsAbstractDataSourceWidget):
>> >     pass
>> >
>> > class ConcreteSourceSelectProvider(QgsSourceSelectProvider):
>> >
>> >     def providerKey(self):
>> >         return "MyTestProviderKey"
>> >
>> >     def text(self):
>> >         return "MyTestProviderText"
>> >
>> >     def icon(self):
>> >         return QIcon()
>> >
>> >     def createDataSourceWidget(self):
>> >         return ConcreteDataSourceWidget()
>> >
>> >     def ordering(self):
>> >         return 1
>> >
>> > registry = QgsSourceSelectProviderRegistry()
>> > registry.addProvider(ConcreteSourceSelectProvider())
>> >
>> > Note that the DataSourceManager dialog is created when QGIS starts, you
>> > will
>> > want to register your provider early in the startup process, for now,
>> > there
>> > is no way to refresh the dialog after it has been constructed.
>> >
>>
>> Thanks Alessandro.  Is this example to add a provider type?  MetaSearch
>> simply wants to open a given existing provider dialog, open based on a
>> given
>> provider type and let the user interact from there.
>>
>> ..Tom
>
>
>
> Yes, that's the way to add a new "provider" (it does not really need to be a
> provider) to the items in the data source manager dialog.
>
> Maybe you wanted to use this:
> http://qgis.org/api/classQgsDataSourceManagerDialog.html#a6b9046d38467a13ec321a70166bff289
>

Thanks Alessandro.  Is QgsDataSourceManagerDialog planned to be
available via Python?  See:

http://qgis.org/api/classQgsDataSourceManagerDialog.html (docs say not
available in Python
bindings)


> Btw you can also get the individual source selects from provider registry:
> QgsProviderRegistry.instance().createSelectionWidget('ogr').show()
>

This is exactly what MetaSearch is doing currently which results in the
issues originally mentioned.

..Tom

>
>
> Cheers.
>
>>
>> >
>> >
>> >
>> >>
>> >>
>> >> Thanks
>> >>
>> >> ..Tom
>> >>
>> >> [1]
>> >>
>> >> https://github.com/qgis/QGIS/blob/master/python/plugins/MetaSearch/dialogs/maindialog.py#L759-L792
>> >> [2]
>> >> https://gist.github.com/tomkralidis/dccb49efa760a585be38ee0c3188b8b3
>> >> [3] http://qgis.org/api/classQgsDataSourceManagerDialog.html
>> >> _______________________________________________
>> >> QGIS-Developer mailing list
>> >> QGIS-Developer at lists.osgeo.org
>> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >
>> >
>> >
>> >
>> > --
>> > Alessandro Pasotti
>> > w3:   www.itopen.it
>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it

From apasotti at gmail.com  Mon Nov 13 07:32:57 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 13 Nov 2017 16:32:57 +0100
Subject: [QGIS-Developer] MetaSearch provider connections in master
In-Reply-To: <CAFWXLWXxr4xYJUw5O3U2O2p8R=EsaOHurucmb3CU=SOJpMoi+A@mail.gmail.com>
References: <CAFWXLWVkMwAriZ=q2h=pmjq=YgAJ7tw-18bvix_vfmbX+z019A@mail.gmail.com>
 <CAL5Q673c37gJqJ5+T70m5Z0spHCE_4ZfnroKT42mzN6wi1Eb7Q@mail.gmail.com>
 <CAFWXLWWB8ms9k6Az-TUDMF4T+0+7p1+h6g7Vr_VHaqWn6H=unQ@mail.gmail.com>
 <CAL5Q672ZBHDKD0EzwLPMyY90ujnby-=sYYiJXkuQ4XYGGjpZag@mail.gmail.com>
 <CAFWXLWXxr4xYJUw5O3U2O2p8R=EsaOHurucmb3CU=SOJpMoi+A@mail.gmail.com>
Message-ID: <CAL5Q672n3hJ6UHxP1YEe5wHhxuTvaLfEVW8ULrT1v1J-N1gBpQ@mail.gmail.com>

On Mon, Nov 13, 2017 at 4:24 PM, Tom Kralidis <tomkralidis at gmail.com> wrote:

> On Mon, Nov 13, 2017 at 10:17 AM, Alessandro Pasotti <apasotti at gmail.com>
> wrote:
> > On Mon, Nov 13, 2017 at 3:59 PM, Tom Kralidis <tomkralidis at gmail.com>
> wrote:
> >>
> >> On Mon, Nov 13, 2017 at 9:18 AM, Alessandro Pasotti <apasotti at gmail.com
> >
> >> wrote:
> >> > On Mon, Nov 13, 2017 at 3:06 PM, Tom Kralidis <tomkralidis at gmail.com>
> >> > wrote:
> >> >>
> >> >> Hi devs:
> >> >>
> >> >> Given https://issues.qgis.org/issues/17347 I'm working on fixing
> >> >> MetaSearch
> >> >> provider connections in master. The core part of the code is
> currently
> >> >> at
> >> >> [1]. A
> >> >> standalone example can be found at [2].  Result is that the WMS/WMTS
> >> >> provider
> >> >> opens connecting to the selected WMS/WMTS (good).  When clicking
> 'Ok',
> >> >> 'Close',
> >> >> or 'Add', the WMS/WMTS layer is added (expecting 'Close' to simply
> >> >> close the dialog
> >> >> and 'Ok' to add the layer and then close).  Finally clicking the 'X'
> >> >> (top right) closes
> >> >> the dialog as expected.
> >> >>
> >> >> - are there other slots to call instead?
> >> >> - should the Data Source Manager be used instead [3]?  Are there
> plans
> >> >> for providing
> >> >> Python binding to this?
>
>> >
> >> >
> >> >
> >> > I can't tell if it's a good idea, but you can definitely add whatever
> >> > you
> >> > want to the DataSourceManager dialog with plain python:
> >> >
> >> > class ConcreteDataSourceWidget(QgsAbstractDataSourceWidget):
> >> >     pass
> >> >
> >> > class ConcreteSourceSelectProvider(QgsSourceSelectProvider):
> >> >
> >> >     def providerKey(self):
> >> >         return "MyTestProviderKey"
> >> >
> >> >     def text(self):
> >> >         return "MyTestProviderText"
> >> >
> >> >     def icon(self):
> >> >         return QIcon()
> >> >
> >> >     def createDataSourceWidget(self):
> >> >         return ConcreteDataSourceWidget()
> >> >
> >> >     def ordering(self):
> >> >         return 1
> >> >
> >> > registry = QgsSourceSelectProviderRegistry()
> >> > registry.addProvider(ConcreteSourceSelectProvider())
> >> >
> >> > Note that the DataSourceManager dialog is created when QGIS starts,
> you
> >> > will
> >> > want to register your provider early in the startup process, for now,
> >> > there
> >> > is no way to refresh the dialog after it has been constructed.
> >> >
> >>
> >> Thanks Alessandro.  Is this example to add a provider type?  MetaSearch
> >> simply wants to open a given existing provider dialog, open based on a
> >> given
> >> provider type and let the user interact from there.
> >>
> >> ..Tom
> >
> >
> >
> > Yes, that's the way to add a new "provider" (it does not really need to
> be a
> > provider) to the items in the data source manager dialog.
> >
> > Maybe you wanted to use this:
> > http://qgis.org/api/classQgsDataSourceManagerDialog.html#
> a6b9046d38467a13ec321a70166bff289
> >
>
> Thanks Alessandro.  Is QgsDataSourceManagerDialog planned to be
> available via Python?  See:
>
> http://qgis.org/api/classQgsDataSourceManagerDialog.html (docs say not
> available in Python
> bindings)
>
>

Yes, that was planned. The idea was to build a generic re-usable widget to
select data sources.

But you are probably talking about exposing it through iface, correct?





>
> > Btw you can also get the individual source selects from provider
> registry:
> > QgsProviderRegistry.instance().createSelectionWidget('ogr').show()
> >
>
> This is exactly what MetaSearch is doing currently which results in the
> issues originally mentioned.
>
> ..Tom
>
> >
> >
> > Cheers.
> >
> >>
> >> >
> >> >
> >> >
> >> >>
> >> >>
> >> >> Thanks
> >> >>
> >> >> ..Tom
> >> >>
> >> >> [1]
> >> >>
> >> >> https://github.com/qgis/QGIS/blob/master/python/plugins/
> MetaSearch/dialogs/maindialog.py#L759-L792
> >> >> [2]
> >> >> https://gist.github.com/tomkralidis/dccb49efa760a585be38ee0c3188b8b3
> >> >> [3] http://qgis.org/api/classQgsDataSourceManagerDialog.html
> >> >> _______________________________________________
> >> >> QGIS-Developer mailing list
> >> >> QGIS-Developer at lists.osgeo.org
> >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> >
> >> >
> >> >
> >> >
> >> > --
> >> > Alessandro Pasotti
> >> > w3:   www.itopen.it
> >
> >
> >
> >
> > --
> > Alessandro Pasotti
> > w3:   www.itopen.it
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171113/71a90904/attachment-0001.html>

From tomkralidis at gmail.com  Mon Nov 13 07:37:02 2017
From: tomkralidis at gmail.com (Tom Kralidis)
Date: Mon, 13 Nov 2017 10:37:02 -0500
Subject: [QGIS-Developer] MetaSearch provider connections in master
In-Reply-To: <CAL5Q672n3hJ6UHxP1YEe5wHhxuTvaLfEVW8ULrT1v1J-N1gBpQ@mail.gmail.com>
References: <CAFWXLWVkMwAriZ=q2h=pmjq=YgAJ7tw-18bvix_vfmbX+z019A@mail.gmail.com>
 <CAL5Q673c37gJqJ5+T70m5Z0spHCE_4ZfnroKT42mzN6wi1Eb7Q@mail.gmail.com>
 <CAFWXLWWB8ms9k6Az-TUDMF4T+0+7p1+h6g7Vr_VHaqWn6H=unQ@mail.gmail.com>
 <CAL5Q672ZBHDKD0EzwLPMyY90ujnby-=sYYiJXkuQ4XYGGjpZag@mail.gmail.com>
 <CAFWXLWXxr4xYJUw5O3U2O2p8R=EsaOHurucmb3CU=SOJpMoi+A@mail.gmail.com>
 <CAL5Q672n3hJ6UHxP1YEe5wHhxuTvaLfEVW8ULrT1v1J-N1gBpQ@mail.gmail.com>
Message-ID: <CAFWXLWUZb1dtgF6eQiOw_8mAwErUGLFuOgvFg+JR47AiZ9j-yA@mail.gmail.com>

On Mon, Nov 13, 2017 at 10:32 AM, Alessandro Pasotti <apasotti at gmail.com> wrote:
> On Mon, Nov 13, 2017 at 4:24 PM, Tom Kralidis <tomkralidis at gmail.com> wrote:
>>
>> On Mon, Nov 13, 2017 at 10:17 AM, Alessandro Pasotti <apasotti at gmail.com>
>> wrote:
>> > On Mon, Nov 13, 2017 at 3:59 PM, Tom Kralidis <tomkralidis at gmail.com>
>> > wrote:
>> >>
>> >> On Mon, Nov 13, 2017 at 9:18 AM, Alessandro Pasotti
>> >> <apasotti at gmail.com>
>> >> wrote:
>> >> > On Mon, Nov 13, 2017 at 3:06 PM, Tom Kralidis <tomkralidis at gmail.com>
>> >> > wrote:
>> >> >>
>> >> >> Hi devs:
>> >> >>
>> >> >> Given https://issues.qgis.org/issues/17347 I'm working on fixing
>> >> >> MetaSearch
>> >> >> provider connections in master. The core part of the code is
>> >> >> currently
>> >> >> at
>> >> >> [1]. A
>> >> >> standalone example can be found at [2].  Result is that the WMS/WMTS
>> >> >> provider
>> >> >> opens connecting to the selected WMS/WMTS (good).  When clicking
>> >> >> 'Ok',
>> >> >> 'Close',
>> >> >> or 'Add', the WMS/WMTS layer is added (expecting 'Close' to simply
>> >> >> close the dialog
>> >> >> and 'Ok' to add the layer and then close).  Finally clicking the 'X'
>> >> >> (top right) closes
>> >> >> the dialog as expected.
>> >> >>
>> >> >> - are there other slots to call instead?
>> >> >> - should the Data Source Manager be used instead [3]?  Are there
>> >> >> plans
>> >> >> for providing
>> >> >> Python binding to this?
>>
>> >> >
>> >> >
>> >> >
>> >> > I can't tell if it's a good idea, but you can definitely add whatever
>> >> > you
>> >> > want to the DataSourceManager dialog with plain python:
>> >> >
>> >> > class ConcreteDataSourceWidget(QgsAbstractDataSourceWidget):
>> >> >     pass
>> >> >
>> >> > class ConcreteSourceSelectProvider(QgsSourceSelectProvider):
>> >> >
>> >> >     def providerKey(self):
>> >> >         return "MyTestProviderKey"
>> >> >
>> >> >     def text(self):
>> >> >         return "MyTestProviderText"
>> >> >
>> >> >     def icon(self):
>> >> >         return QIcon()
>> >> >
>> >> >     def createDataSourceWidget(self):
>> >> >         return ConcreteDataSourceWidget()
>> >> >
>> >> >     def ordering(self):
>> >> >         return 1
>> >> >
>> >> > registry = QgsSourceSelectProviderRegistry()
>> >> > registry.addProvider(ConcreteSourceSelectProvider())
>> >> >
>> >> > Note that the DataSourceManager dialog is created when QGIS starts,
>> >> > you
>> >> > will
>> >> > want to register your provider early in the startup process, for now,
>> >> > there
>> >> > is no way to refresh the dialog after it has been constructed.
>> >> >
>> >>
>> >> Thanks Alessandro.  Is this example to add a provider type?  MetaSearch
>> >> simply wants to open a given existing provider dialog, open based on a
>> >> given
>> >> provider type and let the user interact from there.
>> >>
>> >> ..Tom
>> >
>> >
>> >
>> > Yes, that's the way to add a new "provider" (it does not really need to
>> > be a
>> > provider) to the items in the data source manager dialog.
>> >
>> > Maybe you wanted to use this:
>> >
>> > http://qgis.org/api/classQgsDataSourceManagerDialog.html#a6b9046d38467a13ec321a70166bff289
>> >
>>
>> Thanks Alessandro.  Is QgsDataSourceManagerDialog planned to be
>> available via Python?  See:
>>
>> http://qgis.org/api/classQgsDataSourceManagerDialog.html (docs say not
>> available in Python
>> bindings)
>>
>
>
> Yes, that was planned. The idea was to build a generic re-usable widget to
> select data sources.
>
> But you are probably talking about exposing it through iface, correct?
>

Would that work currently/is that possible?  At this point the main
goal is to fix MetaSearch [1]
in master given the changes to the data source/provider dialogs.

[1] https://github.com/qgis/QGIS/blob/master/python/plugins/MetaSearch/dialogs/maindialog.py#L754-L792

>
>
>
>>
>>
>> > Btw you can also get the individual source selects from provider
>> > registry:
>> > QgsProviderRegistry.instance().createSelectionWidget('ogr').show()
>> >
>>
>> This is exactly what MetaSearch is doing currently which results in the
>> issues originally mentioned.
>>
>> ..Tom
>>
>> >
>> >
>> > Cheers.
>> >
>> >>
>> >> >
>> >> >
>> >> >
>> >> >>
>> >> >>
>> >> >> Thanks
>> >> >>
>> >> >> ..Tom
>> >> >>
>> >> >> [1]
>> >> >>
>> >> >>
>> >> >> https://github.com/qgis/QGIS/blob/master/python/plugins/MetaSearch/dialogs/maindialog.py#L759-L792
>> >> >> [2]
>> >> >> https://gist.github.com/tomkralidis/dccb49efa760a585be38ee0c3188b8b3
>> >> >> [3] http://qgis.org/api/classQgsDataSourceManagerDialog.html
>> >> >> _______________________________________________
>> >> >> QGIS-Developer mailing list
>> >> >> QGIS-Developer at lists.osgeo.org
>> >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> >
>> >> >
>> >> >
>> >> >
>> >> > --
>> >> > Alessandro Pasotti
>> >> > w3:   www.itopen.it
>> >
>> >
>> >
>> >
>> > --
>> > Alessandro Pasotti
>> > w3:   www.itopen.it
>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it

From apasotti at gmail.com  Mon Nov 13 07:59:48 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 13 Nov 2017 16:59:48 +0100
Subject: [QGIS-Developer] MetaSearch provider connections in master
In-Reply-To: <CAFWXLWUZb1dtgF6eQiOw_8mAwErUGLFuOgvFg+JR47AiZ9j-yA@mail.gmail.com>
References: <CAFWXLWVkMwAriZ=q2h=pmjq=YgAJ7tw-18bvix_vfmbX+z019A@mail.gmail.com>
 <CAL5Q673c37gJqJ5+T70m5Z0spHCE_4ZfnroKT42mzN6wi1Eb7Q@mail.gmail.com>
 <CAFWXLWWB8ms9k6Az-TUDMF4T+0+7p1+h6g7Vr_VHaqWn6H=unQ@mail.gmail.com>
 <CAL5Q672ZBHDKD0EzwLPMyY90ujnby-=sYYiJXkuQ4XYGGjpZag@mail.gmail.com>
 <CAFWXLWXxr4xYJUw5O3U2O2p8R=EsaOHurucmb3CU=SOJpMoi+A@mail.gmail.com>
 <CAL5Q672n3hJ6UHxP1YEe5wHhxuTvaLfEVW8ULrT1v1J-N1gBpQ@mail.gmail.com>
 <CAFWXLWUZb1dtgF6eQiOw_8mAwErUGLFuOgvFg+JR47AiZ9j-yA@mail.gmail.com>
Message-ID: <CAL5Q672BdSa3YSdzj6JryKke2a0Jsk-cagf7W7VWLfrXTqk3tQ@mail.gmail.com>

I think you can try this first: the WMS 'on_btnConnect_clicked' slot has
been renamed to  'btnConnect_clicked'



On Mon, Nov 13, 2017 at 4:37 PM, Tom Kralidis <tomkralidis at gmail.com> wrote:

> On Mon, Nov 13, 2017 at 10:32 AM, Alessandro Pasotti <apasotti at gmail.com>
> wrote:
> > On Mon, Nov 13, 2017 at 4:24 PM, Tom Kralidis <tomkralidis at gmail.com>
> wrote:
> >>
> >> On Mon, Nov 13, 2017 at 10:17 AM, Alessandro Pasotti <
> apasotti at gmail.com>
> >> wrote:
> >> > On Mon, Nov 13, 2017 at 3:59 PM, Tom Kralidis <tomkralidis at gmail.com>
> >> > wrote:
> >> >>
> >> >> On Mon, Nov 13, 2017 at 9:18 AM, Alessandro Pasotti
> >> >> <apasotti at gmail.com>
> >> >> wrote:
> >> >> > On Mon, Nov 13, 2017 at 3:06 PM, Tom Kralidis <
> tomkralidis at gmail.com>
> >> >> > wrote:
> >> >> >>
> >> >> >> Hi devs:
> >> >> >>
> >> >> >> Given https://issues.qgis.org/issues/17347 I'm working on fixing
> >> >> >> MetaSearch
> >> >> >> provider connections in master. The core part of the code is
> >> >> >> currently
> >> >> >> at
> >> >> >> [1]. A
> >> >> >> standalone example can be found at [2].  Result is that the
> WMS/WMTS
> >> >> >> provider
> >> >> >> opens connecting to the selected WMS/WMTS (good).  When clicking
> >> >> >> 'Ok',
> >> >> >> 'Close',
> >> >> >> or 'Add', the WMS/WMTS layer is added (expecting 'Close' to simply
> >> >> >> close the dialog
> >> >> >> and 'Ok' to add the layer and then close).  Finally clicking the
> 'X'
> >> >> >> (top right) closes
> >> >> >> the dialog as expected.
> >> >> >>
> >> >> >> - are there other slots to call instead?
> >> >> >> - should the Data Source Manager be used instead [3]?  Are there
> >> >> >> plans
> >> >> >> for providing
> >> >> >> Python binding to this?
> >>
> >> >> >
> >> >> >
> >> >> >
> >> >> > I can't tell if it's a good idea, but you can definitely add
> whatever
> >> >> > you
> >> >> > want to the DataSourceManager dialog with plain python:
> >> >> >
> >> >> > class ConcreteDataSourceWidget(QgsAbstractDataSourceWidget):
> >> >> >     pass
> >> >> >
> >> >> > class ConcreteSourceSelectProvider(QgsSourceSelectProvider):
> >> >> >
> >> >> >     def providerKey(self):
> >> >> >         return "MyTestProviderKey"
> >> >> >
> >> >> >     def text(self):
> >> >> >         return "MyTestProviderText"
> >> >> >
> >> >> >     def icon(self):
> >> >> >         return QIcon()
> >> >> >
> >> >> >     def createDataSourceWidget(self):
> >> >> >         return ConcreteDataSourceWidget()
> >> >> >
> >> >> >     def ordering(self):
> >> >> >         return 1
> >> >> >
> >> >> > registry = QgsSourceSelectProviderRegistry()
> >> >> > registry.addProvider(ConcreteSourceSelectProvider())
> >> >> >
> >> >> > Note that the DataSourceManager dialog is created when QGIS starts,
> >> >> > you
> >> >> > will
> >> >> > want to register your provider early in the startup process, for
> now,
> >> >> > there
> >> >> > is no way to refresh the dialog after it has been constructed.
> >> >> >
> >> >>
> >> >> Thanks Alessandro.  Is this example to add a provider type?
> MetaSearch
> >> >> simply wants to open a given existing provider dialog, open based on
> a
> >> >> given
> >> >> provider type and let the user interact from there.
> >> >>
> >> >> ..Tom
> >> >
> >> >
> >> >
> >> > Yes, that's the way to add a new "provider" (it does not really need
> to
> >> > be a
> >> > provider) to the items in the data source manager dialog.
> >> >
> >> > Maybe you wanted to use this:
> >> >
> >> > http://qgis.org/api/classQgsDataSourceManagerDialog.html#
> a6b9046d38467a13ec321a70166bff289
> >> >
> >>
> >> Thanks Alessandro.  Is QgsDataSourceManagerDialog planned to be
> >> available via Python?  See:
> >>
> >> http://qgis.org/api/classQgsDataSourceManagerDialog.html (docs say not
> >> available in Python
> >> bindings)
> >>
> >
> >
> > Yes, that was planned. The idea was to build a generic re-usable widget
> to
> > select data sources.
> >
> > But you are probably talking about exposing it through iface, correct?
> >
>
> Would that work currently/is that possible?  At this point the main
> goal is to fix MetaSearch [1]
> in master given the changes to the data source/provider dialogs.
>
> [1] https://github.com/qgis/QGIS/blob/master/python/plugins/
> MetaSearch/dialogs/maindialog.py#L754-L792
>
> >
> >
> >
> >>
> >>
> >> > Btw you can also get the individual source selects from provider
> >> > registry:
> >> > QgsProviderRegistry.instance().createSelectionWidget('ogr').show()
> >> >
> >>
> >> This is exactly what MetaSearch is doing currently which results in the
> >> issues originally mentioned.
> >>
> >> ..Tom
> >>
> >> >
> >> >
> >> > Cheers.
> >> >
> >> >>
> >> >> >
> >> >> >
> >> >> >
> >> >> >>
> >> >> >>
> >> >> >> Thanks
> >> >> >>
> >> >> >> ..Tom
> >> >> >>
> >> >> >> [1]
> >> >> >>
> >> >> >>
> >> >> >> https://github.com/qgis/QGIS/blob/master/python/plugins/
> MetaSearch/dialogs/maindialog.py#L759-L792
> >> >> >> [2]
> >> >> >> https://gist.github.com/tomkralidis/
> dccb49efa760a585be38ee0c3188b8b3
> >> >> >> [3] http://qgis.org/api/classQgsDataSourceManagerDialog.html
> >> >> >> _______________________________________________
> >> >> >> QGIS-Developer mailing list
> >> >> >> QGIS-Developer at lists.osgeo.org
> >> >> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-
> developer
> >> >> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-
> developer
> >> >> >
> >> >> >
> >> >> >
> >> >> >
> >> >> > --
> >> >> > Alessandro Pasotti
> >> >> > w3:   www.itopen.it
> >> >
> >> >
> >> >
> >> >
> >> > --
> >> > Alessandro Pasotti
> >> > w3:   www.itopen.it
> >
> >
> >
> >
> > --
> > Alessandro Pasotti
> > w3:   www.itopen.it
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171113/cd606fb7/attachment.html>

From tomkralidis at gmail.com  Mon Nov 13 08:01:19 2017
From: tomkralidis at gmail.com (Tom Kralidis)
Date: Mon, 13 Nov 2017 11:01:19 -0500
Subject: [QGIS-Developer] MetaSearch provider connections in master
In-Reply-To: <CAL5Q672BdSa3YSdzj6JryKke2a0Jsk-cagf7W7VWLfrXTqk3tQ@mail.gmail.com>
References: <CAFWXLWVkMwAriZ=q2h=pmjq=YgAJ7tw-18bvix_vfmbX+z019A@mail.gmail.com>
 <CAL5Q673c37gJqJ5+T70m5Z0spHCE_4ZfnroKT42mzN6wi1Eb7Q@mail.gmail.com>
 <CAFWXLWWB8ms9k6Az-TUDMF4T+0+7p1+h6g7Vr_VHaqWn6H=unQ@mail.gmail.com>
 <CAL5Q672ZBHDKD0EzwLPMyY90ujnby-=sYYiJXkuQ4XYGGjpZag@mail.gmail.com>
 <CAFWXLWXxr4xYJUw5O3U2O2p8R=EsaOHurucmb3CU=SOJpMoi+A@mail.gmail.com>
 <CAL5Q672n3hJ6UHxP1YEe5wHhxuTvaLfEVW8ULrT1v1J-N1gBpQ@mail.gmail.com>
 <CAFWXLWUZb1dtgF6eQiOw_8mAwErUGLFuOgvFg+JR47AiZ9j-yA@mail.gmail.com>
 <CAL5Q672BdSa3YSdzj6JryKke2a0Jsk-cagf7W7VWLfrXTqk3tQ@mail.gmail.com>
Message-ID: <CAFWXLWU=PZ72xtkhTFxkM2V0mPsY1Pvg_R3hEbWP8OxivzScfw@mail.gmail.com>

Hi Alessandro: thanks for the info.  I tried this (see Gist in [1]) whichj
also results in the behaviour originally reported.

Thanks

..Tom


[1] https://gist.github.com/tomkralidis/dccb49efa760a585be38ee0c3188b8b3

On Mon, Nov 13, 2017 at 10:59 AM, Alessandro Pasotti <apasotti at gmail.com> wrote:
>
> I think you can try this first: the WMS 'on_btnConnect_clicked' slot has
> been renamed to  'btnConnect_clicked'
>
>
>
> On Mon, Nov 13, 2017 at 4:37 PM, Tom Kralidis <tomkralidis at gmail.com> wrote:
>>
>> On Mon, Nov 13, 2017 at 10:32 AM, Alessandro Pasotti <apasotti at gmail.com>
>> wrote:
>> > On Mon, Nov 13, 2017 at 4:24 PM, Tom Kralidis <tomkralidis at gmail.com>
>> > wrote:
>> >>
>> >> On Mon, Nov 13, 2017 at 10:17 AM, Alessandro Pasotti
>> >> <apasotti at gmail.com>
>> >> wrote:
>> >> > On Mon, Nov 13, 2017 at 3:59 PM, Tom Kralidis <tomkralidis at gmail.com>
>> >> > wrote:
>> >> >>
>> >> >> On Mon, Nov 13, 2017 at 9:18 AM, Alessandro Pasotti
>> >> >> <apasotti at gmail.com>
>> >> >> wrote:
>> >> >> > On Mon, Nov 13, 2017 at 3:06 PM, Tom Kralidis
>> >> >> > <tomkralidis at gmail.com>
>> >> >> > wrote:
>> >> >> >>
>> >> >> >> Hi devs:
>> >> >> >>
>> >> >> >> Given https://issues.qgis.org/issues/17347 I'm working on fixing
>> >> >> >> MetaSearch
>> >> >> >> provider connections in master. The core part of the code is
>> >> >> >> currently
>> >> >> >> at
>> >> >> >> [1]. A
>> >> >> >> standalone example can be found at [2].  Result is that the
>> >> >> >> WMS/WMTS
>> >> >> >> provider
>> >> >> >> opens connecting to the selected WMS/WMTS (good).  When clicking
>> >> >> >> 'Ok',
>> >> >> >> 'Close',
>> >> >> >> or 'Add', the WMS/WMTS layer is added (expecting 'Close' to
>> >> >> >> simply
>> >> >> >> close the dialog
>> >> >> >> and 'Ok' to add the layer and then close).  Finally clicking the
>> >> >> >> 'X'
>> >> >> >> (top right) closes
>> >> >> >> the dialog as expected.
>> >> >> >>
>> >> >> >> - are there other slots to call instead?
>> >> >> >> - should the Data Source Manager be used instead [3]?  Are there
>> >> >> >> plans
>> >> >> >> for providing
>> >> >> >> Python binding to this?
>> >>
>> >> >> >
>> >> >> >
>> >> >> >
>> >> >> > I can't tell if it's a good idea, but you can definitely add
>> >> >> > whatever
>> >> >> > you
>> >> >> > want to the DataSourceManager dialog with plain python:
>> >> >> >
>> >> >> > class ConcreteDataSourceWidget(QgsAbstractDataSourceWidget):
>> >> >> >     pass
>> >> >> >
>> >> >> > class ConcreteSourceSelectProvider(QgsSourceSelectProvider):
>> >> >> >
>> >> >> >     def providerKey(self):
>> >> >> >         return "MyTestProviderKey"
>> >> >> >
>> >> >> >     def text(self):
>> >> >> >         return "MyTestProviderText"
>> >> >> >
>> >> >> >     def icon(self):
>> >> >> >         return QIcon()
>> >> >> >
>> >> >> >     def createDataSourceWidget(self):
>> >> >> >         return ConcreteDataSourceWidget()
>> >> >> >
>> >> >> >     def ordering(self):
>> >> >> >         return 1
>> >> >> >
>> >> >> > registry = QgsSourceSelectProviderRegistry()
>> >> >> > registry.addProvider(ConcreteSourceSelectProvider())
>> >> >> >
>> >> >> > Note that the DataSourceManager dialog is created when QGIS
>> >> >> > starts,
>> >> >> > you
>> >> >> > will
>> >> >> > want to register your provider early in the startup process, for
>> >> >> > now,
>> >> >> > there
>> >> >> > is no way to refresh the dialog after it has been constructed.
>> >> >> >
>> >> >>
>> >> >> Thanks Alessandro.  Is this example to add a provider type?
>> >> >> MetaSearch
>> >> >> simply wants to open a given existing provider dialog, open based on
>> >> >> a
>> >> >> given
>> >> >> provider type and let the user interact from there.
>> >> >>
>> >> >> ..Tom
>> >> >
>> >> >
>> >> >
>> >> > Yes, that's the way to add a new "provider" (it does not really need
>> >> > to
>> >> > be a
>> >> > provider) to the items in the data source manager dialog.
>> >> >
>> >> > Maybe you wanted to use this:
>> >> >
>> >> >
>> >> > http://qgis.org/api/classQgsDataSourceManagerDialog.html#a6b9046d38467a13ec321a70166bff289
>> >> >
>> >>
>> >> Thanks Alessandro.  Is QgsDataSourceManagerDialog planned to be
>> >> available via Python?  See:
>> >>
>> >> http://qgis.org/api/classQgsDataSourceManagerDialog.html (docs say not
>> >> available in Python
>> >> bindings)
>> >>
>> >
>> >
>> > Yes, that was planned. The idea was to build a generic re-usable widget
>> > to
>> > select data sources.
>> >
>> > But you are probably talking about exposing it through iface, correct?
>> >
>>
>> Would that work currently/is that possible?  At this point the main
>> goal is to fix MetaSearch [1]
>> in master given the changes to the data source/provider dialogs.
>>
>> [1]
>> https://github.com/qgis/QGIS/blob/master/python/plugins/MetaSearch/dialogs/maindialog.py#L754-L792
>>
>> >
>> >
>> >
>> >>
>> >>
>> >> > Btw you can also get the individual source selects from provider
>> >> > registry:
>> >> > QgsProviderRegistry.instance().createSelectionWidget('ogr').show()
>> >> >
>> >>
>> >> This is exactly what MetaSearch is doing currently which results in the
>> >> issues originally mentioned.
>> >>
>> >> ..Tom
>> >>
>> >> >
>> >> >
>> >> > Cheers.
>> >> >
>> >> >>
>> >> >> >
>> >> >> >
>> >> >> >
>> >> >> >>
>> >> >> >>
>> >> >> >> Thanks
>> >> >> >>
>> >> >> >> ..Tom
>> >> >> >>
>> >> >> >> [1]
>> >> >> >>
>> >> >> >>
>> >> >> >>
>> >> >> >> https://github.com/qgis/QGIS/blob/master/python/plugins/MetaSearch/dialogs/maindialog.py#L759-L792
>> >> >> >> [2]
>> >> >> >>
>> >> >> >> https://gist.github.com/tomkralidis/dccb49efa760a585be38ee0c3188b8b3
>> >> >> >> [3] http://qgis.org/api/classQgsDataSourceManagerDialog.html
>> >> >> >> _______________________________________________
>> >> >> >> QGIS-Developer mailing list
>> >> >> >> QGIS-Developer at lists.osgeo.org
>> >> >> >> List info:
>> >> >> >> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> >> >> Unsubscribe:
>> >> >> >> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> >> >
>> >> >> >
>> >> >> >
>> >> >> >
>> >> >> > --
>> >> >> > Alessandro Pasotti
>> >> >> > w3:   www.itopen.it
>> >> >
>> >> >
>> >> >
>> >> >
>> >> > --
>> >> > Alessandro Pasotti
>> >> > w3:   www.itopen.it
>> >
>> >
>> >
>> >
>> > --
>> > Alessandro Pasotti
>> > w3:   www.itopen.it
>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it

From mats.elfstrom at gmail.com  Mon Nov 13 09:03:33 2017
From: mats.elfstrom at gmail.com (=?utf-8?Q?Mats_Elfstr=C3=B6m?=)
Date: Mon, 13 Nov 2017 18:03:33 +0100
Subject: [QGIS-Developer] QGIS Server test on Windows 2016 server.
Message-ID: <270E5F45-B99C-4C09-83E4-E62FD2733C43@gmail.com>

Wanted to test QGIS server on Windows 2016 server. Please advise on installation instructions. Main problem seems to be dll paths.
Postgis, Apache runs fine. 

Hälsning / Regards
Mats.E

Skickat från min / Sent from my iPad, Ursäkta att jag är kortfattad / Excuse my brevity. 

From adenaculture at gmail.com  Mon Nov 13 12:46:12 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 13 Nov 2017 15:46:12 -0500
Subject: [QGIS-Developer] Rendering of Icons
Message-ID: <CABPxTTovpfS-iBqa43ryqxFTdGzKusngjL527ciqTak-2r9Ozg@mail.gmail.com>

I was wondering how you turn the QGIS .svg icons into .png icons that are
used in the tool bars. I have been using Inkscape and the resulting icons
that I produce starting from the QGIS .svg files don't seem to be as sharp
and clear as what is distributed with QGIS. The other thing I have found is
that the QGIS .svg files are very small. If I read them into Inkscape and
save them back out they are much larger.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171113/df6ce672/attachment.html>

From robert at szczepanek.pl  Mon Nov 13 13:32:30 2017
From: robert at szczepanek.pl (Robert Szczepanek)
Date: Mon, 13 Nov 2017 22:32:30 +0100
Subject: [QGIS-Developer] Rendering of Icons
In-Reply-To: <CABPxTTovpfS-iBqa43ryqxFTdGzKusngjL527ciqTak-2r9Ozg@mail.gmail.com>
References: <CABPxTTovpfS-iBqa43ryqxFTdGzKusngjL527ciqTak-2r9Ozg@mail.gmail.com>
Message-ID: <4056ed7e-9ff4-12c2-9141-6aef47e3f13f@szczepanek.pl>

Hi Calvin,

How to render sharp icons is described in my design guidelines 
(http://robert.szczepanek.pl/gis-icons-0.1/). It depends on objects 
(lines) location on grid at target resolution.

Inkscape writes in SVG many additional tags. Our goal is to decrease SVG 
icon size, so final vector files are simply optimized by external tools.

regards
Robert

W dniu 13.11.2017 o 21:46, C Hamilton pisze:
> I was wondering how you turn the QGIS .svg icons into .png icons that 
> are used in the tool bars. I have been using Inkscape and the resulting 
> icons that I produce starting from the QGIS .svg files don't seem to be 
> as sharp and clear as what is distributed with QGIS. The other thing I 
> have found is that the QGIS .svg files are very small. If I read them 
> into Inkscape and save them back out they are much larger.
> 
> Thanks,
> 
> Calvin
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From pking at linz.govt.nz  Mon Nov 13 14:13:49 2017
From: pking at linz.govt.nz (Peter King)
Date: Mon, 13 Nov 2017 22:13:49 +0000
Subject: [QGIS-Developer] Rendering of Icons
In-Reply-To: <4056ed7e-9ff4-12c2-9141-6aef47e3f13f@szczepanek.pl>
References: <CABPxTTovpfS-iBqa43ryqxFTdGzKusngjL527ciqTak-2r9Ozg@mail.gmail.com>
 <4056ed7e-9ff4-12c2-9141-6aef47e3f13f@szczepanek.pl>
Message-ID: <d5e99935-3a26-f3e0-c2cc-cc902cd21657@linz.govt.nz>

Hi Calvin

here is the svg optimisation tool which Robert recommended to me,
https://github.com/RazrFalcon/svgcleaner-gui , and the online version
https://jakearchibald.github.io/svgomg/

Pete


On 14/11/17 10:32, Robert Szczepanek wrote:
> Hi Calvin,
>
> How to render sharp icons is described in my design guidelines
> (http://robert.szczepanek.pl/gis-icons-0.1/). It depends on objects
> (lines) location on grid at target resolution.
>
> Inkscape writes in SVG many additional tags. Our goal is to decrease
> SVG icon size, so final vector files are simply optimized by external
> tools.
>
> regards
> Robert
>
> W dniu 13.11.2017 o 21:46, C Hamilton pisze:
>> I was wondering how you turn the QGIS .svg icons into .png icons that
>> are used in the tool bars. I have been using Inkscape and the
>> resulting icons that I produce starting from the QGIS .svg files
>> don't seem to be as sharp and clear as what is distributed with QGIS.
>> The other thing I have found is that the QGIS .svg files are very
>> small. If I read them into Inkscape and save them back out they are
>> much larger.
>>
>> Thanks,
>>
>> Calvin
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

________________________________

This message contains information, which may be in confidence and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.

From noreply at qgis.org  Mon Nov 13 23:59:58 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 14 Nov 2017 07:59:58 -0000
Subject: [QGIS-Developer] Plugin [849] AmigoCloud approval notification.
Message-ID: <20171114075958.26472.23841@320558c5528b>


Plugin AmigoCloud approval by zimbogisgeek.
The plugin version "[849] AmigoCloud 0.6" is now approved
Link: http://plugins.qgis.org/plugins/qgis-amigocloud-plugin/

From noreply at qgis.org  Tue Nov 14 05:04:57 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 14 Nov 2017 13:04:57 -0000
Subject: [QGIS-Developer] Plugin [1356] ZoomToBelgium approval notification.
Message-ID: <20171114130457.26472.57783@320558c5528b>


Plugin ZoomToBelgium approval by zimbogisgeek.
The plugin version "[1356] ZoomToBelgium 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/ZoomToBelgium/

From denis.rouzaud at gmail.com  Tue Nov 14 05:30:17 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Tue, 14 Nov 2017 13:30:17 +0000
Subject: [QGIS-Developer] QGIS custom widgets badly placed in Osgeo4W install
Message-ID: <CAMtsY+ZLAQEeLtjypK3XfaBHts0QyhzW+G5QFSDQCEfC=cFYNw@mail.gmail.com>

Hi all, mainly Jürgen I guess ;)

During a course, I just realized qgis_customwidgets.py is badly placed
preventing using QGIS custom widgets within uic.loadUiType.

It is placed in
C:\OSGeo4W\apps\qgis\python\PyQt4\uic
while it should be in
C:\OSGeo4W\apps\Python27\Lib\site-packages\PyQt4\uic

Thanks a lot for fixing this :)

Cheers,
Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171114/36546756/attachment.html>

From madmanwoo at gmail.com  Tue Nov 14 05:40:51 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Tue, 14 Nov 2017 23:40:51 +1000
Subject: [QGIS-Developer] QGIS custom widgets badly placed in Osgeo4W
	install
In-Reply-To: <CAMtsY+ZLAQEeLtjypK3XfaBHts0QyhzW+G5QFSDQCEfC=cFYNw@mail.gmail.com>
References: <CAMtsY+ZLAQEeLtjypK3XfaBHts0QyhzW+G5QFSDQCEfC=cFYNw@mail.gmail.com>
Message-ID: <CAAi8Yg928NSqPOqGr17w__jJmaUOtbmW1WEHkD=gnBxUMEH1BA@mail.gmail.com>

Hey Denis,

We can't really put it in C:\OSGeo4W\apps\Python27\Lib\site-packages\PyQt4\uic
as it will conflict with different versions.  It would have to be in the
installed folder for each version and then set with a custom path which is
should already be doing.

- Nathan

On Tue, Nov 14, 2017 at 11:30 PM, Denis Rouzaud <denis.rouzaud at gmail.com>
wrote:

> Hi all, mainly Jürgen I guess ;)
>
> During a course, I just realized qgis_customwidgets.py is badly placed
> preventing using QGIS custom widgets within uic.loadUiType.
>
> It is placed in
> C:\OSGeo4W\apps\qgis\python\PyQt4\uic
> while it should be in
> C:\OSGeo4W\apps\Python27\Lib\site-packages\PyQt4\uic
>
> Thanks a lot for fixing this :)
>
> Cheers,
> Denis
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171114/f847f6fd/attachment.html>

From denis.rouzaud at gmail.com  Tue Nov 14 06:27:41 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Tue, 14 Nov 2017 14:27:41 +0000
Subject: [QGIS-Developer] QGIS custom widgets badly placed in Osgeo4W
	install
In-Reply-To: <CAAi8Yg928NSqPOqGr17w__jJmaUOtbmW1WEHkD=gnBxUMEH1BA@mail.gmail.com>
References: <CAMtsY+ZLAQEeLtjypK3XfaBHts0QyhzW+G5QFSDQCEfC=cFYNw@mail.gmail.com>
 <CAAi8Yg928NSqPOqGr17w__jJmaUOtbmW1WEHkD=gnBxUMEH1BA@mail.gmail.com>
Message-ID: <CAMtsY+b-DvVwpxk7shc1JoyA0QvZ2vd+WYLbUE+J-PHMdCQixQ@mail.gmail.com>

Hi Nathan,

Thanks for your reply.

The file is pretty invariant, even within QGIS 2 vs 3.
I would be in favor of placing it in place as it would solve quite some
issues.

Denis

Le mar. 14 nov. 2017 à 14:41, Nathan Woodrow <madmanwoo at gmail.com> a écrit :

> Hey Denis,
>
> We can't really put it in C:\OSGeo4W\apps\Python27\Lib\site-packages\PyQt4\uic
> as it will conflict with different versions.  It would have to be in the
> installed folder for each version and then set with a custom path which is
> should already be doing.
>
> - Nathan
>
> On Tue, Nov 14, 2017 at 11:30 PM, Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
>
>> Hi all, mainly Jürgen I guess ;)
>>
>> During a course, I just realized qgis_customwidgets.py is badly placed
>> preventing using QGIS custom widgets within uic.loadUiType.
>>
>> It is placed in
>> C:\OSGeo4W\apps\qgis\python\PyQt4\uic
>> while it should be in
>> C:\OSGeo4W\apps\Python27\Lib\site-packages\PyQt4\uic
>>
>> Thanks a lot for fixing this :)
>>
>> Cheers,
>> Denis
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171114/d21dc35a/attachment-0001.html>

From matteo.ghetta at gmail.com  Tue Nov 14 06:33:03 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 14 Nov 2017 15:33:03 +0100
Subject: [QGIS-Developer] Processing Split with lines algorithm broken
Message-ID: <39530ed5-26ff-94c5-88f1-dba268ddef39@gmail.com>

Hi devs,

the algorithm Split with lines seems not working. No output error but
both lines or polygons in output are not split. The same algorithm with
the same data works in QGIS 2.18

Should I open a ticket?

Thanks

Cheers


Matteo

From adenaculture at gmail.com  Tue Nov 14 08:26:07 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 14 Nov 2017 11:26:07 -0500
Subject: [QGIS-Developer] QGIS 2.18.14 - Raster Save As to New CRS Failed
Message-ID: <CABPxTTpPtGHxgfAdbJybH8dLo2A5bQpqTR_rw17gLfjM6AfcKg@mail.gmail.com>

Last night I tried to reproject a raster layer from a New York State CRS to
EPSG:3857 by right mouse clicking on the layer, selecting "Save As", and
specifying EPSG:3857 CRS. The resulting layer it created had invalid data
in it. I tried QGIS 2.14 and it worked fine.

Has this error already been reported?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171114/2202e46e/attachment.html>

From jef at norbit.de  Tue Nov 14 08:56:22 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue, 14 Nov 2017 17:56:22 +0100
Subject: [QGIS-Developer] QGIS custom widgets badly placed in Osgeo4W
 install
In-Reply-To: <CAMtsY+b-DvVwpxk7shc1JoyA0QvZ2vd+WYLbUE+J-PHMdCQixQ@mail.gmail.com>
References: <CAMtsY+ZLAQEeLtjypK3XfaBHts0QyhzW+G5QFSDQCEfC=cFYNw@mail.gmail.com>
 <CAAi8Yg928NSqPOqGr17w__jJmaUOtbmW1WEHkD=gnBxUMEH1BA@mail.gmail.com>
 <CAMtsY+b-DvVwpxk7shc1JoyA0QvZ2vd+WYLbUE+J-PHMdCQixQ@mail.gmail.com>
Message-ID: <20171114165622.nmnnxwl5l6snwoj5@norbit.de>

Hi Denis,

On Tue, 14. Nov 2017 at 14:27:41 +0000, Denis Rouzaud wrote:
> The file is pretty invariant, even within QGIS 2 vs 3.
> I would be in favor of placing it in place as it would solve quite some
> issues.

Like?  Shouldn't those be covered by including
%OSGEO4W_ROOT%\apps\%PACKAGE%\python in the PYTHONPATH.


Jürgen


-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171114/184796b0/attachment.sig>

From jef at norbit.de  Tue Nov 14 08:59:54 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue, 14 Nov 2017 17:59:54 +0100
Subject: [QGIS-Developer] QGIS custom widgets badly placed in Osgeo4W
 install
In-Reply-To: <20171114165622.nmnnxwl5l6snwoj5@norbit.de>
References: <CAMtsY+ZLAQEeLtjypK3XfaBHts0QyhzW+G5QFSDQCEfC=cFYNw@mail.gmail.com>
 <CAAi8Yg928NSqPOqGr17w__jJmaUOtbmW1WEHkD=gnBxUMEH1BA@mail.gmail.com>
 <CAMtsY+b-DvVwpxk7shc1JoyA0QvZ2vd+WYLbUE+J-PHMdCQixQ@mail.gmail.com>
 <20171114165622.nmnnxwl5l6snwoj5@norbit.de>
Message-ID: <20171114165954.6bftcxs6g73d7y6f@norbit.de>

Hi,

On Tue, 14. Nov 2017 at 17:56:22 +0100, Jürgen E. Fischer wrote:
> Like?  Shouldn't those be covered by including
> %OSGEO4W_ROOT%\apps\%PACKAGE%\python in the PYTHONPATH.

Which BTW is what among the things the
%OSGEO4W_ROOT%\bin\python-%PACKAGENAME%.bat wrappers do.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171114/08961e93/attachment.sig>

From tisham.dhar at aerometrex.com.au  Tue Nov 14 17:02:48 2017
From: tisham.dhar at aerometrex.com.au (Tisham Dhar)
Date: Wed, 15 Nov 2017 01:02:48 +0000
Subject: [QGIS-Developer] Merging raster-save dialog change and Windows
	workflow
Message-ID: <SYXPR01MB12322CA6316496A22169FF65BE290@SYXPR01MB1232.ausprd01.prod.outlook.com>

Hi All,

I have been experimenting with pre-commit hook workflows on Windows and after a few iterations I have this procedure to combine building in MSVC and pushing to git with pre-commit hooks.


1)      Checkout as standard on windows with git-bash (line endings are an issue). Will have to try a fresh clone in WLS to see what difference it makes

2)      Make pre-commit hook hardlink

3)      Add scripts to git-bash path

4)      Install Astyle binary into git-bash path somewhere

5)      Install activestate perl and ppm install YAML::Tiny

6)      Commit as usual with git



1)      I also tried WLS , line ending are less of an issue here and Travis may be happier

2)      Install astyle 3.xx from source, stock astyle is 2.xx

3)      Install dos2unix

4)      Install cpanminus and cpanm YAML::Tiny

5)      Pre-commit hook setup should work fine from here in.

Regards,

I have a chain of un-squashed commits here - https://github.com/qgis/QGIS/pull/5611 . May be worth cancelling the pull and remaking my changes. Let me know and I will make it cleaner in the future.

Tisham Dhar
Research Engineer
Aerometrex PTY LTD
59 King William St.
Kent Town SA 5067
Australia

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171115/4ebc43fa/attachment.html>

From nyall.dawson at gmail.com  Tue Nov 14 17:22:08 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 15 Nov 2017 11:22:08 +1000
Subject: [QGIS-Developer] Merging raster-save dialog change and Windows
	workflow
In-Reply-To: <SYXPR01MB12322CA6316496A22169FF65BE290@SYXPR01MB1232.ausprd01.prod.outlook.com>
References: <SYXPR01MB12322CA6316496A22169FF65BE290@SYXPR01MB1232.ausprd01.prod.outlook.com>
Message-ID: <CAB28AsjJuYNjvNwV-H5GU54jDEon+uaysb+8Afar=fmkx0gd4A@mail.gmail.com>

Hi Tisham,

If you're using WLS (which I recommend), I think you can simplify this
a fair bit. I've got a similar setup it works ok:

On 15 November 2017 at 11:02, Tisham Dhar <tisham.dhar at aerometrex.com.au> wrote:
> 3)      Add scripts to git-bash path

You shouldn't need this if you're running the scripts from the bash
console. If you move your whole workflow into bash and do all your git
work there it should work OK.

> 4)      Install Astyle binary into git-bash path somewhere

Alternatively if you turn on the "WITH_ASTYLE" option in cmake then a
recent astyle binary will automatically be built alongside QGIS and be
ready to go.

> 5)      Install activestate perl and ppm install YAML::Tiny

If you're using the WSL, you can just sudo apt-get dependencies like this.

Hope that helps! If not, I'll take a look with you if we get a spare
moment on Friday :)

(...and if not, let's make Nathan fix it for you!)

Nyall

From tisham.dhar at aerometrex.com.au  Tue Nov 14 17:56:01 2017
From: tisham.dhar at aerometrex.com.au (Tisham Dhar)
Date: Wed, 15 Nov 2017 01:56:01 +0000
Subject: [QGIS-Developer] Merging raster-save dialog change and Windows
 workflow
In-Reply-To: <CAB28AsjJuYNjvNwV-H5GU54jDEon+uaysb+8Afar=fmkx0gd4A@mail.gmail.com>
References: <SYXPR01MB12322CA6316496A22169FF65BE290@SYXPR01MB1232.ausprd01.prod.outlook.com>
 <CAB28AsjJuYNjvNwV-H5GU54jDEon+uaysb+8Afar=fmkx0gd4A@mail.gmail.com>
Message-ID: <SYXPR01MB12325545D8A77C6AE35A0CCCBE290@SYXPR01MB1232.ausprd01.prod.outlook.com>

The first section is sans WLS . Yes WLS makes everything easier and is what I will use going forward.

-----Original Message-----
From: Nyall Dawson [mailto:nyall.dawson at gmail.com] 
Sent: Wednesday, November 15, 2017 11:52 AM
To: Tisham Dhar <tisham.dhar at aerometrex.com.au>
Cc: qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] Merging raster-save dialog change and Windows workflow

Hi Tisham,

If you're using WLS (which I recommend), I think you can simplify this a fair bit. I've got a similar setup it works ok:

On 15 November 2017 at 11:02, Tisham Dhar <tisham.dhar at aerometrex.com.au> wrote:
> 3)      Add scripts to git-bash path

You shouldn't need this if you're running the scripts from the bash console. If you move your whole workflow into bash and do all your git work there it should work OK.

> 4)      Install Astyle binary into git-bash path somewhere

Alternatively if you turn on the "WITH_ASTYLE" option in cmake then a recent astyle binary will automatically be built alongside QGIS and be ready to go.

> 5)      Install activestate perl and ppm install YAML::Tiny

If you're using the WSL, you can just sudo apt-get dependencies like this.

Hope that helps! If not, I'll take a look with you if we get a spare moment on Friday :)

(...and if not, let's make Nathan fix it for you!)

Nyall

From nyall.dawson at gmail.com  Tue Nov 14 20:48:47 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 15 Nov 2017 14:48:47 +1000
Subject: [QGIS-Developer] Processing Split with lines algorithm broken
In-Reply-To: <39530ed5-26ff-94c5-88f1-dba268ddef39@gmail.com>
References: <39530ed5-26ff-94c5-88f1-dba268ddef39@gmail.com>
Message-ID: <CAB28AshSeL3DvQzbVXRgnb3rADrQ2Ok9vq3SbXj7bfPhb+oz8Q@mail.gmail.com>

On 15 November 2017 at 00:33, matteo <matteo.ghetta at gmail.com> wrote:
> Hi devs,
>
> the algorithm Split with lines seems not working. No output error but
> both lines or polygons in output are not split. The same algorithm with
> the same data works in QGIS 2.18

I suspect it's working OK, but you're hitting a change in 3.0 where
the output of this algorithm is a multi-line, with the individual
split parts still forming a single feature. You need to run multiparts
to singleparts on it afterward.

....However....

This was a change I requested in
https://github.com/qgis/QGIS/pull/3798, since it seemed like a logical
move. Having used this algorithm extensively since (and also been
confused in thinking that the algorithm was broken!) I'm not convinced
this was the right move anymore, and think that we should probably
always output single-part features from this algorithm.

What's everyone's thoughts?

Nyall

From madmanwoo at gmail.com  Tue Nov 14 21:09:51 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Wed, 15 Nov 2017 15:09:51 +1000
Subject: [QGIS-Developer] Processing Split with lines algorithm broken
In-Reply-To: <CAB28AshSeL3DvQzbVXRgnb3rADrQ2Ok9vq3SbXj7bfPhb+oz8Q@mail.gmail.com>
References: <39530ed5-26ff-94c5-88f1-dba268ddef39@gmail.com>
 <CAB28AshSeL3DvQzbVXRgnb3rADrQ2Ok9vq3SbXj7bfPhb+oz8Q@mail.gmail.com>
Message-ID: <CAAi8Yg-Y+BOXAHPR21dBQHG4hxf0k8RDmgPDsE0kREf2gaSduQ@mail.gmail.com>

IMO go with the principle of least astonishment.  I think the expected
outcome is single part features as it's not clear that you need to run
another step.

- Nathan

On Wed, Nov 15, 2017 at 2:48 PM, Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On 15 November 2017 at 00:33, matteo <matteo.ghetta at gmail.com> wrote:
> > Hi devs,
> >
> > the algorithm Split with lines seems not working. No output error but
> > both lines or polygons in output are not split. The same algorithm with
> > the same data works in QGIS 2.18
>
> I suspect it's working OK, but you're hitting a change in 3.0 where
> the output of this algorithm is a multi-line, with the individual
> split parts still forming a single feature. You need to run multiparts
> to singleparts on it afterward.
>
> ....However....
>
> This was a change I requested in
> https://github.com/qgis/QGIS/pull/3798, since it seemed like a logical
> move. Having used this algorithm extensively since (and also been
> confused in thinking that the algorithm was broken!) I'm not convinced
> this was the right move anymore, and think that we should probably
> always output single-part features from this algorithm.
>
> What's everyone's thoughts?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171115/bf698cb3/attachment.html>

From anitagraser at gmx.at  Tue Nov 14 23:37:46 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Wed, 15 Nov 2017 08:37:46 +0100
Subject: [QGIS-Developer] Processing Split with lines algorithm broken
In-Reply-To: <CAAi8Yg-Y+BOXAHPR21dBQHG4hxf0k8RDmgPDsE0kREf2gaSduQ@mail.gmail.com>
References: <39530ed5-26ff-94c5-88f1-dba268ddef39@gmail.com>
 <CAB28AshSeL3DvQzbVXRgnb3rADrQ2Ok9vq3SbXj7bfPhb+oz8Q@mail.gmail.com>
 <CAAi8Yg-Y+BOXAHPR21dBQHG4hxf0k8RDmgPDsE0kREf2gaSduQ@mail.gmail.com>
Message-ID: <CAFFV8FhJy2sxyWmwHBq+H3JPP7nD6yhu9UB=4jiG0V_4+wJDmA@mail.gmail.com>

On Wed, Nov 15, 2017 at 6:09 AM, Nathan Woodrow <madmanwoo at gmail.com> wrote:

> IMO go with the principle of least astonishment.  I think the expected
> outcome is single part features as it's not clear that you need to run
> another step.
>

​+1 Anita​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171115/d490b963/attachment.html>

From matteo.ghetta at gmail.com  Wed Nov 15 00:00:40 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 15 Nov 2017 09:00:40 +0100
Subject: [QGIS-Developer] Processing Split with lines algorithm broken
In-Reply-To: <CAB28AshSeL3DvQzbVXRgnb3rADrQ2Ok9vq3SbXj7bfPhb+oz8Q@mail.gmail.com>
References: <39530ed5-26ff-94c5-88f1-dba268ddef39@gmail.com>
 <CAB28AshSeL3DvQzbVXRgnb3rADrQ2Ok9vq3SbXj7bfPhb+oz8Q@mail.gmail.com>
Message-ID: <9423270a-3cde-357d-f189-bad73890cf4d@gmail.com>

Hi Nyall,


> I suspect it's working OK, but you're hitting a change in 3.0 where
> the output of this algorithm is a multi-line, with the individual
> split parts still forming a single feature. You need to run multiparts
> to singleparts on it afterward.

uh... sorry I missed that the multipart is now the output.

However, I think that users (me included) is expecting single part
features as output. I was really confused yesterday and as you can seen
I thought that the algorithm was broken.

So +1 for me to single part output

Thanks for the clarification

Cheers

Matteo

From matthias at opengis.ch  Wed Nov 15 00:40:17 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 15 Nov 2017 09:40:17 +0100
Subject: [QGIS-Developer] Minimum SpatiaLite version 4.2
Message-ID: <c0064d42-97db-1670-03c9-1654705d54f8@opengis.ch>

Hi devs,

I just proposed an upgrade to SpatiaLite>=4.2 requirement on QGIS 3
(https://github.com/qgis/QGIS/pull/5636)

Is there anyone requiring support for older versions? If yes, we can
also keep compatibility with 4.0/4.1 and just drop code for <4.0 (I
guess that's really outdated nowadays)

Thanks for feedback and best regards

Matthias


From jef at norbit.de  Wed Nov 15 01:01:38 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed, 15 Nov 2017 10:01:38 +0100
Subject: [QGIS-Developer] Merging raster-save dialog change and Windows
 workflow
In-Reply-To: <SYXPR01MB12322CA6316496A22169FF65BE290@SYXPR01MB1232.ausprd01.prod.outlook.com>
References: <SYXPR01MB12322CA6316496A22169FF65BE290@SYXPR01MB1232.ausprd01.prod.outlook.com>
Message-ID: <20171115090138.gzjlnhcui6idbfix@norbit.de>

Hi,

On Wed, 15. Nov 2017 at 01:02:48 +0000, Tisham Dhar wrote:
> 1)      Checkout as standard on windows with git-bash (line endings are an
>         issue). Will have to try a fresh clone in WLS to see what difference
>         it makes

Why not cygwin?  That's what I use and recommend.   WLS means WSL?


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171115/633048ae/attachment.sig>

From senhor.neto at gmail.com  Wed Nov 15 02:13:41 2017
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Wed, 15 Nov 2017 10:13:41 +0000
Subject: [QGIS-Developer] Processing Split with lines algorithm broken
In-Reply-To: <CAAi8Yg-Y+BOXAHPR21dBQHG4hxf0k8RDmgPDsE0kREf2gaSduQ@mail.gmail.com>
References: <39530ed5-26ff-94c5-88f1-dba268ddef39@gmail.com>
 <CAB28AshSeL3DvQzbVXRgnb3rADrQ2Ok9vq3SbXj7bfPhb+oz8Q@mail.gmail.com>
 <CAAi8Yg-Y+BOXAHPR21dBQHG4hxf0k8RDmgPDsE0kREf2gaSduQ@mail.gmail.com>
Message-ID: <CA+H0G_Er09zPQMN9n1MZED858Kt17RN4=qpZyaX5D3LqYWWKhA@mail.gmail.com>

+1

Nathan Woodrow <madmanwoo at gmail.com> escreveu no dia quarta, 15/11/2017 às
05:10:

> IMO go with the principle of least astonishment.  I think the expected
> outcome is single part features as it's not clear that you need to run
> another step.
>
> - Nathan
>
> On Wed, Nov 15, 2017 at 2:48 PM, Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>
>> On 15 November 2017 at 00:33, matteo <matteo.ghetta at gmail.com> wrote:
>> > Hi devs,
>> >
>> > the algorithm Split with lines seems not working. No output error but
>> > both lines or polygons in output are not split. The same algorithm with
>> > the same data works in QGIS 2.18
>>
>> I suspect it's working OK, but you're hitting a change in 3.0 where
>> the output of this algorithm is a multi-line, with the individual
>> split parts still forming a single feature. You need to run multiparts
>> to singleparts on it afterward.
>>
>> ....However....
>>
>> This was a change I requested in
>> https://github.com/qgis/QGIS/pull/3798, since it seemed like a logical
>> move. Having used this algorithm extensively since (and also been
>> confused in thinking that the algorithm was broken!) I'm not convinced
>> this was the right move anymore, and think that we should probably
>> always output single-part features from this algorithm.
>>
>> What's everyone's thoughts?
>>
>> Nyall
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Alexandre Neto
---------------------
@AlexNetoGeo
http://sigsemgrilhetas.wordpress.com
http://gisunchained.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171115/38a3453e/attachment-0001.html>

From giohappy at gmail.com  Wed Nov 15 02:27:29 2017
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 15 Nov 2017 11:27:29 +0100
Subject: [QGIS-Developer] Processing Split with lines algorithm broken
In-Reply-To: <CA+H0G_Er09zPQMN9n1MZED858Kt17RN4=qpZyaX5D3LqYWWKhA@mail.gmail.com>
References: <39530ed5-26ff-94c5-88f1-dba268ddef39@gmail.com>
 <CAB28AshSeL3DvQzbVXRgnb3rADrQ2Ok9vq3SbXj7bfPhb+oz8Q@mail.gmail.com>
 <CAAi8Yg-Y+BOXAHPR21dBQHG4hxf0k8RDmgPDsE0kREf2gaSduQ@mail.gmail.com>
 <CA+H0G_Er09zPQMN9n1MZED858Kt17RN4=qpZyaX5D3LqYWWKhA@mail.gmail.com>
Message-ID: <CAB4g1=yVFJTOiaMz=VReDkSKd-vN_48SwKdk+o7Z6LuGgAmYaw@mail.gmail.com>

I also agree to step back to single-part output.

giovanni

2017-11-15 11:13 GMT+01:00 Alexandre Neto <senhor.neto at gmail.com>:

> +1
>
> Nathan Woodrow <madmanwoo at gmail.com> escreveu no dia quarta, 15/11/2017
> às 05:10:
>
>> IMO go with the principle of least astonishment.  I think the expected
>> outcome is single part features as it's not clear that you need to run
>> another step.
>>
>> - Nathan
>>
>> On Wed, Nov 15, 2017 at 2:48 PM, Nyall Dawson <nyall.dawson at gmail.com>
>> wrote:
>>
>>> On 15 November 2017 at 00:33, matteo <matteo.ghetta at gmail.com> wrote:
>>> > Hi devs,
>>> >
>>> > the algorithm Split with lines seems not working. No output error but
>>> > both lines or polygons in output are not split. The same algorithm with
>>> > the same data works in QGIS 2.18
>>>
>>> I suspect it's working OK, but you're hitting a change in 3.0 where
>>> the output of this algorithm is a multi-line, with the individual
>>> split parts still forming a single feature. You need to run multiparts
>>> to singleparts on it afterward.
>>>
>>> ....However....
>>>
>>> This was a change I requested in
>>> https://github.com/qgis/QGIS/pull/3798, since it seemed like a logical
>>> move. Having used this algorithm extensively since (and also been
>>> confused in thinking that the algorithm was broken!) I'm not convinced
>>> this was the right move anymore, and think that we should probably
>>> always output single-part features from this algorithm.
>>>
>>> What's everyone's thoughts?
>>>
>>> Nyall
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
> Alexandre Neto
> ---------------------
> @AlexNetoGeo
> http://sigsemgrilhetas.wordpress.com
> http://gisunchained.wordpress.com
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171115/84257d1f/attachment.html>

From mj10777 at googlemail.com  Wed Nov 15 02:38:22 2017
From: mj10777 at googlemail.com (Mark Johnson)
Date: Wed, 15 Nov 2017 11:38:22 +0100
Subject: [QGIS-Developer] Minimum SpatiaLite version 4.2
Message-ID: <CAEEbjBhDjCfV_wAA27+zsxkKuB5AGfqjCUTgFgTmexoYQc15fw@mail.gmail.com>

For compiling, that should be no problem.

Since 4.3 has been out for 2 years and contains many new features, I would
even say 4.3.

But for the reading of Databases from older versions and running with older
versions is problematic.

The present QgsSpatiaLiteProvider does not deal with this well, whereas the
proposed new version (for QGis 3.2) does.

Mark Johnson, Berlin Germany
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171115/9d698fd8/attachment.html>

From even.rouault at spatialys.com  Wed Nov 15 06:56:42 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 15 Nov 2017 15:56:42 +0100
Subject: [QGIS-Developer] Preview job and slow datasources
Message-ID: <8444006.lOr4mHJqye@even-i700>

Hi,

I'm working currently on improving raster performance per
https://github.com/qgis/QGIS/pull/5632 , and while testing with a variety of GDAL 
datasources, I found that the "preview job" (*) mechanism that is currently enabled on the 
main canvas (pre-rendering the 8 zones around the canvas extent) can have adverse 
performance impact with very slow datasources. Particularly those doing network accesses, 
where the bandwidth consumed by the preview jobs prevents the main rendering job to 
being served first (due to the fact the the preview jobs of the previous interaction are not 
immediately cancelled by the next one since, because being busy in libcurl calls)

Wouldn't it make sense to offer an option to disable preview jobs on the main canvas for such 
use case ?
I guess this could also be useful for complex projects with many layers of "fast datasources", 
but where the global rendering time is large.

A clever variant would measure the execution time of those preview jobs, and if, for example, 
it is above the 250 ms delay  in which they are fired by 
QgsMapCanvas::schedulePreviewJob(), it would automatically disable it (potentially, 
temporarily, until the number of layers changes). In the case I mentionned above, each 
preview job takes several seconds to complete.

Or a simpler alternative would be to schedule the next preview job after the previous 
preview job has completed (instead of starting them every 250 ms).  This would not be 
completely ideal with my above mentionned network case, compared to completely disabling 
preview jobs, but that could be a reasonable compromise, and would limit the CPU load of 
preview jobs to at most one core (currently if the preview jobs run slowly, they can "eat" up 
to 8 cores, since they are 8 preview jobs)

Thoughts ?

Even

(*) added per
https://github.com/qgis/qgis/commit/2d531e5814c1b43a23c36d09ace9a5f5729e5bb4

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171115/3ee1cea9/attachment.html>

From matthias at opengis.ch  Wed Nov 15 07:18:29 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 15 Nov 2017 16:18:29 +0100
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <8444006.lOr4mHJqye@even-i700>
References: <8444006.lOr4mHJqye@even-i700>
Message-ID: <10b1448c-3c6d-8af3-2574-7dd6affbc06f@opengis.ch>

Hi Even,

we have shortly discussed this topic in the past and the general
consensus was, not to offer such an option (which is easy to forget and
hard to set right without deep knowledge).

Should we consider a `virtual QgsDataProvider::renderInPreview()`
method, that can be finetuned by each provider and has a default
implementation that either uses rendering times as heuristics or just
blacklists some known-expensive types?

Matthias

On 11/15/2017 03:56 PM, Even Rouault wrote:
> Hi,
> 
>  
> 
> I'm working currently on improving raster performance per
> 
> https://github.com/qgis/QGIS/pull/5632 , and while testing with a
> variety of GDAL datasources, I found that the "preview job" (*)
> mechanism that is currently enabled on the main canvas (pre-rendering
> the 8 zones around the canvas extent) can have adverse performance
> impact with very slow datasources. Particularly those doing network
> accesses, where the bandwidth consumed by the preview jobs prevents the
> main rendering job to being served first (due to the fact the the
> preview jobs of the previous interaction are not immediately cancelled
> by the next one since, because being busy in libcurl calls)
> 
>  
> 
> Wouldn't it make sense to offer an option to disable preview jobs on the
> main canvas for such use case ?
> 
> I guess this could also be useful for complex projects with many layers
> of "fast datasources", but where the global rendering time is large.
> 
>  
> 
> A clever variant would measure the execution time of those preview jobs,
> and if, for example, it is above the 250 ms delay in which they are
> fired by QgsMapCanvas::schedulePreviewJob(), it would automatically
> disable it (potentially, temporarily, until the number of layers
> changes). In the case I mentionned above, each preview job takes several
> seconds to complete.
> 
>  
> 
> Or a simpler alternative would be to schedule the next preview job after
> the previous preview job has completed (instead of starting them every
> 250 ms). This would not be completely ideal with my above mentionned
> network case, compared to completely disabling preview jobs, but that
> could be a reasonable compromise, and would limit the CPU load of
> preview jobs to at most one core (currently if the preview jobs run
> slowly, they can "eat" up to 8 cores, since they are 8 preview jobs)
> 
>  
> 
> Thoughts ?
> 
>  
> 
> Even
> 
>  
> 
> (*) added per
> 
> https://github.com/qgis/qgis/commit/2d531e5814c1b43a23c36d09ace9a5f5729e5bb4
> 
>  
> 
> -- 
> 
> Spatialys - Geospatial professional services
> 
> http://www.spatialys.com
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From even.rouault at spatialys.com  Wed Nov 15 07:55:36 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 15 Nov 2017 16:55:36 +0100
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <10b1448c-3c6d-8af3-2574-7dd6affbc06f@opengis.ch>
References: <8444006.lOr4mHJqye@even-i700>
 <10b1448c-3c6d-8af3-2574-7dd6affbc06f@opengis.ch>
Message-ID: <3074672.l4vDOQylqS@even-i700>

On mercredi 15 novembre 2017 16:18:29 CET Matthias Kuhn wrote:
> Hi Even,
> 
> we have shortly discussed this topic in the past and the general
> consensus was, not to offer such an option (which is easy to forget and
> hard to set right without deep knowledge).
> 
> Should we consider a `virtual QgsDataProvider::renderInPreview()`
> method, that can be finetuned by each provider and has a default
> implementation that either uses rendering times as heuristics 

So if the provider of one layer returns false in renderInPreview() that would disable the 
rendering of those layers in the preview images ?

> or just blacklists some known-expensive types?

The provider has not necessarily that knowledge. In my example, if you are very close to the 
server and have high bandwidth, preview jobs wouldn't be a bottleneck.
Or there are cases like JPEG2000 where the CPU speed and number of cores can make a huge 
difference, so the knowledge of the GDAL driver isn't enough.

So I'm wondering if just a per-layer timing logic in 
QgsMapRendererCustomPainterJob::doRender() wouldn't be enough.

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171115/f106e312/attachment-0001.html>

From matthias at opengis.ch  Wed Nov 15 08:11:00 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 15 Nov 2017 17:11:00 +0100
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <3074672.l4vDOQylqS@even-i700>
References: <8444006.lOr4mHJqye@even-i700>
 <10b1448c-3c6d-8af3-2574-7dd6affbc06f@opengis.ch>
 <3074672.l4vDOQylqS@even-i700>
Message-ID: <d121273d-36e6-8782-fc6c-2880b4c15713@opengis.ch>

On 11/15/2017 04:55 PM, Even Rouault wrote:
> On mercredi 15 novembre 2017 16:18:29 CET Matthias Kuhn wrote:
> 
> 
> So if the provider of one layer returns false in renderInPreview() that
> would disable the rendering of those layers in the preview images ?

Disabling only certain layers individually will help to get some cheap
layers show up to help with navigation.
 
> 
>> or just blacklists some known-expensive types?
> 
>  
> 
> The provider has not necessarily that knowledge. In my example, if you
> are very close to the server and have high bandwidth, preview jobs
> wouldn't be a bottleneck.
> 
> Or there are cases like JPEG2000 where the CPU speed and number of cores
> can make a huge difference, so the knowledge of the GDAL driver isn't
> enough.

> 
> So I'm wondering if just a per-layer timing logic in
> QgsMapRendererCustomPainterJob::doRender() wouldn't be enough.

Other factors that could be considered are things like how long it takes
to cancel an ongoing rendering job or how many free connections we have
in the pool.
E.g. in the case of a WMST, the time to build the image might be high
(as long as it's not coming from the cache) but it's worth preloading
and showing in any case.

From delazj at gmail.com  Wed Nov 15 09:09:06 2017
From: delazj at gmail.com (DelazJ)
Date: Wed, 15 Nov 2017 18:09:06 +0100
Subject: [QGIS-Developer] Is the map preview in CRS selector dialog broken?
Message-ID: <CAECJsSp=sw=0xSWMYeVx_V2w2m9JgD4re1kbOr1t6jJ1Cnb6Zg@mail.gmail.com>

Hi devs,

In QGIS 3, in the CRS Selector dialog of a layer (or global setting),
there's a map preview (thanks Nathan) [0].
Whatever CRS I select, in the first or the second table of CRSs, the map
preview always shows the whole world with a cross at the "center"[1]. I'm
on windows 10.
I'd expect it to zoom to the extent of the selected crs, lika a help tool
to select compatible crs with working zone.
Did I misunderstand? Otherwise,am i just impatient or is there a bug I
should report?

Regards,
Harrissou

[0] https://github.com/qgis/QGIS/pull/5356
[1] Actually, it shows the world when it's opened from layer properties
dialog (or options dialog) and the map canvas extent when in project
properties dialog.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171115/1de5c205/attachment.html>

From rdmailings at duif.net  Wed Nov 15 10:58:24 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 15 Nov 2017 19:58:24 +0100
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <d121273d-36e6-8782-fc6c-2880b4c15713@opengis.ch>
References: <8444006.lOr4mHJqye@even-i700>
 <10b1448c-3c6d-8af3-2574-7dd6affbc06f@opengis.ch>
 <3074672.l4vDOQylqS@even-i700>
 <d121273d-36e6-8782-fc6c-2880b4c15713@opengis.ch>
Message-ID: <f165ecbd-83a3-f8c1-5d00-2a892a58f800@duif.net>

On 15-11-17 17:11, Matthias Kuhn wrote:

> Other factors that could be considered are things like how long it takes
> to cancel an ongoing rendering job or how many free connections we have
> in the pool.
> E.g. in the case of a WMST, the time to build the image might be high
> (as long as it's not coming from the cache) but it's worth preloading
> and showing in any case.

Is it possible that these preview-jobs are responsible for the WMTS
crashes which are reported in master (and I have myself pretty often)?

https://issues.qgis.org/issues/16966#change-84394

At least for WMST I would find retrieving 8 times the number of
images/requests too much? I pretty often have several WMS or WMST layers
in the a layerlist.

Regards,

Richard Duivenvoorde


From even.rouault at spatialys.com  Wed Nov 15 12:31:50 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 15 Nov 2017 21:31:50 +0100
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <f165ecbd-83a3-f8c1-5d00-2a892a58f800@duif.net>
References: <8444006.lOr4mHJqye@even-i700>
 <d121273d-36e6-8782-fc6c-2880b4c15713@opengis.ch>
 <f165ecbd-83a3-f8c1-5d00-2a892a58f800@duif.net>
Message-ID: <2156124.WA015OlSl1@even-i700>

> Is it possible that these preview-jobs are responsible for the WMTS
> crashes which are reported in master (and I have myself pretty often)?
> 
> https://issues.qgis.org/issues/16966#change-84394
> 
> At least for WMST I would find retrieving 8 times the number of
> images/requests too much? I pretty often have several WMS or WMST layers
> in the a layerlist.

Loosely related, but that could occur without job previewing as well. Given the crash 
stack traces I got, seems to be a thread-safety issue with QgsAuthManager use.
PR https://github.com/qgis/QGIS/pull/5646 submitted


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171115/3c6dc990/attachment.html>

From nyall.dawson at gmail.com  Wed Nov 15 12:55:05 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 16 Nov 2017 06:55:05 +1000
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <f165ecbd-83a3-f8c1-5d00-2a892a58f800@duif.net>
References: <8444006.lOr4mHJqye@even-i700>
 <10b1448c-3c6d-8af3-2574-7dd6affbc06f@opengis.ch>
 <3074672.l4vDOQylqS@even-i700>
 <d121273d-36e6-8782-fc6c-2880b4c15713@opengis.ch>
 <f165ecbd-83a3-f8c1-5d00-2a892a58f800@duif.net>
Message-ID: <CAB28Asgy-YsKfZwArX_GgkjuUnOyiVK9cbwuweYHd8EQDekYnQ@mail.gmail.com>

On 16 November 2017 at 04:58, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>
> Is it possible that these preview-jobs are responsible for the WMTS
> crashes which are reported in master (and I have myself pretty often)?
>

Not responsible for them, but they may make an existing issue more
frequent by stress-testing how thread safe different code paths are.
That's why a few months back the decision was made to leave the
preview jobs as resource demanding to try and expose these issues.

But now that we're closing in on release I agree that we need to
ensure that there's no performance regressions caused by these jobs.

Nyall

From nyall.dawson at gmail.com  Wed Nov 15 13:01:56 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 16 Nov 2017 07:01:56 +1000
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <8444006.lOr4mHJqye@even-i700>
References: <8444006.lOr4mHJqye@even-i700>
Message-ID: <CAB28AsimrABEYH+iQ9Q=22CbG5sa3OC_gXGzCiuVnsqM5NCt2w@mail.gmail.com>

On 16 November 2017 at 00:56, Even Rouault <even.rouault at spatialys.com> wrote:
> Wouldn't it make sense to offer an option to disable preview jobs on the
> main canvas for such use case ?

I agree with Matthias here, in that we want to avoid adding a
user-configurable option for this. Either we can get the preview jobs
tamed and stable enough to always enable, or we ifdef them out and
leave them to a future release.

> A clever variant would measure the execution time of those preview jobs, and
> if, for example, it is above the 250 ms delay in which they are fired by
> QgsMapCanvas::schedulePreviewJob(), it would automatically disable it
> (potentially, temporarily, until the number of layers changes). In the case
> I mentionned above, each preview job takes several seconds to complete.

I like it!

> Or a simpler alternative would be to schedule the next preview job after the
> previous preview job has completed (instead of starting them every 250 ms).

I think both approaches could be done to ease the burden of these
jobs. I'm thinking that possibly there's cases were individual layer
renders take < 250ms, but all together the total render time still
exceeds the 250ms timeout (e.g. due to large number of layers being
rendered). In this case we should still avoid having multiple preview
jobs being rendered at once.

On that note, in Nodebo Martin suggested that if we had a limit of one
preview job at a time we could intelligently prioritise these too.
E.g. the first job is the done in the same direction as the last
canvas move (assuming the next move will be in the same direction - "i
didn't move far enough"), then the opposite direction ("oops, went too
far"), and then the rest of the jobs...

Nyall

From even.rouault at spatialys.com  Wed Nov 15 14:58:09 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 15 Nov 2017 23:58:09 +0100
Subject: [QGIS-Developer] On the danger of static C++ objects
Message-ID: <2771027.MgIoYV4sNX@even-i700>

Hi,

There was a frequent crash in PyQgsServerWMS on Travis that I've hopefully fixed per 
https://github.com/qgis/QGIS/commit/581d0d30ca89a213b1ba1a56a3fe2af5c896eacd

This is the opportunity to raise attention on the danger of using this pattern:

static SomeClass singletonInstance;

where ~SomeClass() does some non trivial work in its destructor, and in particular calling 
other libraries (such as in the above mentionned case). Depending on the order into which 
libraries are unloaded and objects destroyed,  ~SomeClass() might call a function of a 
library which has already been unloaded, leading to crash.

So I'd suggest rather using a pointer approach (which admitedly makes constructing the 
singleton in a thread-safe way a bit harder), and explicitly deleting the singleton at 
appropriate and explicit time.

Unless someone is aware of a better approach.

By the way, is there somewhere in the tree a developer guide where we can collect such 
knowledge ?

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171115/58f9aa6b/attachment.html>

From enzedrailmaps at gmail.com  Wed Nov 15 18:35:48 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Thu, 16 Nov 2017 15:35:48 +1300
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <8444006.lOr4mHJqye@even-i700>
References: <8444006.lOr4mHJqye@even-i700>
Message-ID: <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>

What is this "preview job" function?


On 16/11/17 03:56, Even Rouault wrote:
>
> Hi,
>
> I'm working currently on improving raster performance per
>
> https://github.com/qgis/QGIS/pull/5632 , and while testing with a 
> variety of GDAL datasources, I found that the "preview job" (*) 
> mechanism that is currently enabled on the main canvas (pre-rendering 
> the 8 zones around the canvas extent) can have adverse performance 
> impact with very slow datasources. Particularly those doing network 
> accesses, where the bandwidth consumed by the preview jobs prevents 
> the main rendering job to being served first (due to the fact the the 
> preview jobs of the previous interaction are not immediately cancelled 
> by the next one since, because being busy in libcurl calls)
>
> Wouldn't it make sense to offer an option to disable preview jobs on 
> the main canvas for such use case ?
>
> I guess this could also be useful for complex projects with many 
> layers of "fast datasources", but where the global rendering time is 
> large.
>
> A clever variant would measure the execution time of those preview 
> jobs, and if, for example, it is above the 250 ms delay in which they 
> are fired by QgsMapCanvas::schedulePreviewJob(), it would 
> automatically disable it (potentially, temporarily, until the number 
> of layers changes). In the case I mentionned above, each preview job 
> takes several seconds to complete.
>
> Or a simpler alternative would be to schedule the next preview job 
> after the previous preview job has completed (instead of starting them 
> every 250 ms). This would not be completely ideal with my above 
> mentionned network case, compared to completely disabling preview 
> jobs, but that could be a reasonable compromise, and would limit the 
> CPU load of preview jobs to at most one core (currently if the preview 
> jobs run slowly, they can "eat" up to 8 cores, since they are 8 
> preview jobs)
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/d608e02c/attachment-0001.html>

From tim at kartoza.com  Wed Nov 15 21:56:35 2017
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 16 Nov 2017 07:56:35 +0200
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>
References: <8444006.lOr4mHJqye@even-i700>
 <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>
Message-ID: <240D3348-E0F6-43AC-8AAF-41371976ED71@kartoza.com>

Hi

> On 16 Nov 2017, at 04:35, Patrick Dunford <enzedrailmaps at gmail.com> wrote:
> 
> What is this "preview job" function?
> 
> 

Its application logic to prefetch / pre-render offscreen content in anticipation of user panning the map.

Regards

Tim
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—







Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/5c46b307/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/5c46b307/attachment-0001.jpg>

From tim at kartoza.com  Wed Nov 15 22:15:25 2017
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 16 Nov 2017 08:15:25 +0200
Subject: [QGIS-Developer] On the danger of static C++ objects
In-Reply-To: <2771027.MgIoYV4sNX@even-i700>
References: <2771027.MgIoYV4sNX@even-i700>
Message-ID: <2BAB5370-D773-4AD7-B12E-82C6CFE17ECC@kartoza.com>

Hi Even

> On 16 Nov 2017, at 00:58, Even Rouault <even.rouault at spatialys.com> wrote:
> 
> Hi,
>  
> There was a frequent crash in PyQgsServerWMS on Travis that I've hopefully fixed per 
> https://github.com/qgis/QGIS/commit/581d0d30ca89a213b1ba1a56a3fe2af5c896eacd <https://github.com/qgis/QGIS/commit/581d0d30ca89a213b1ba1a56a3fe2af5c896eacd>
>  
> This is the opportunity to raise attention on the danger of using this pattern:
>  
> static SomeClass singletonInstance;
>  
> where ~SomeClass() does some non trivial work in its destructor, and in particular calling other libraries (such as in the above mentionned case). Depending on the order into which libraries are unloaded and objects destroyed,  ~SomeClass() might call a function of a library which has already been unloaded, leading to crash.
>  
> So I'd suggest rather using a pointer approach (which admitedly makes constructing the singleton in a thread-safe way a bit harder), and explicitly deleting the singleton at appropriate and explicit time.
>  
> Unless someone is aware of a better approach.
>  
> By the way, is there somewhere in the tree a developer guide where we can collect such knowledge ?

We have:

https://www.qgis.org/en/site/getinvolved/development/qgisdevelopersguide/index.html

Source for which is here:

There is a ‘fix me’ link in the bottom of each page in the guide which will take you to the sphinx sources.

Regards

Tim

>  
> Even
>  
> -- 
> Spatialys - Geospatial professional services
> http://www.spatialys.com <http://www.spatialys.com/>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
—







Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/cb91a550/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/cb91a550/attachment-0001.jpg>

From enzedrailmaps at gmail.com  Wed Nov 15 23:02:04 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Thu, 16 Nov 2017 20:02:04 +1300
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <240D3348-E0F6-43AC-8AAF-41371976ED71@kartoza.com>
References: <8444006.lOr4mHJqye@even-i700>
 <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>
 <240D3348-E0F6-43AC-8AAF-41371976ED71@kartoza.com>
Message-ID: <b03982ea-9ee2-afda-1028-1c7b15e4b259@gmail.com>

So to put it another way this is the reason why Qgis wants to use a huge 
amount of memory (40 GB) when I have a lot of raster images loaded in 
the background.


On 16/11/17 18:56, Tim Sutton wrote:
> Hi
>
>> On 16 Nov 2017, at 04:35, Patrick Dunford <enzedrailmaps at gmail.com 
>> <mailto:enzedrailmaps at gmail.com>> wrote:
>>
>> What is this "preview job" function?
>>
>>
>
> Its application logic to prefetch / pre-render offscreen content in 
> anticipation of user panning the map.
>
> Regards
>
> Tim
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> —
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:*Kartoza
> *Project chair:*QGIS.org <http://QGIS.org>
>
> Visit http://kartoza.com <http://kartoza.com/> to find out about open 
> source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:*timlinux on #qgis at freenode.net <http://freenode.net>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/4f8130bd/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/4f8130bd/attachment-0001.jpg>

From matthias at opengis.ch  Wed Nov 15 23:11:53 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 16 Nov 2017 08:11:53 +0100
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <b03982ea-9ee2-afda-1028-1c7b15e4b259@gmail.com>
References: <8444006.lOr4mHJqye@even-i700>
 <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>
 <240D3348-E0F6-43AC-8AAF-41371976ED71@kartoza.com>
 <b03982ea-9ee2-afda-1028-1c7b15e4b259@gmail.com>
Message-ID: <fd114c85-85f9-66f9-7a19-71c1f1c7ffde@opengis.ch>

Hi Patrick,

This uses some memory (~ canvas width pixels * canvas height pixels * 8
preview images * 32 bit RGBA), so let's assume 50 MB to 100 MB.

This consumption is independent from the number or type of layers.

Matthias


On 11/16/2017 08:02 AM, Patrick Dunford wrote:
>
> So to put it another way this is the reason why Qgis wants to use a
> huge amount of memory (40 GB) when I have a lot of raster images
> loaded in the background.
>
>
> On 16/11/17 18:56, Tim Sutton wrote:
>> Hi
>>
>>> On 16 Nov 2017, at 04:35, Patrick Dunford <enzedrailmaps at gmail.com
>>> <mailto:enzedrailmaps at gmail.com>> wrote:
>>>
>>> What is this "preview job" function?
>>>
>>>
>>
>> Its application logic to prefetch / pre-render offscreen content in
>> anticipation of user panning the map.
>>
>> Regards
>>
>> Tim
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> —
>>
>>
>>
>>
>>
>>
>> *Tim Sutton*
>>
>> *Co-founder:* Kartoza
>> *Project chair:* QGIS.org <http://QGIS.org>
>>
>> Visit http://kartoza.com <http://kartoza.com/> to find out about open
>> source:
>>
>> Desktop GIS programming services
>> Geospatial web development
>> GIS Training
>> Consulting Services
>>
>> *Skype*: timlinux 
>> *IRC:* timlinux on #qgis at freenode.net <http://freenode.net>
>>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/37b52b12/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/37b52b12/attachment-0001.jpg>

From enzedrailmaps at gmail.com  Wed Nov 15 23:42:56 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Thu, 16 Nov 2017 20:42:56 +1300
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <fd114c85-85f9-66f9-7a19-71c1f1c7ffde@opengis.ch>
References: <8444006.lOr4mHJqye@even-i700>
 <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>
 <240D3348-E0F6-43AC-8AAF-41371976ED71@kartoza.com>
 <b03982ea-9ee2-afda-1028-1c7b15e4b259@gmail.com>
 <fd114c85-85f9-66f9-7a19-71c1f1c7ffde@opengis.ch>
Message-ID: <d3e155bc-3719-bab3-dfbe-bbc266dc67f3@gmail.com>

In my current project using Qgis 2.99, turning off the rasters uses 16 
GB, turning them on uses 52 GB

I do not believe it is independent from the number of layers that are 
being displayed.

Previous versions of the software did not cache every single raster (the 
number of rasters actually being displayed on the canvas at any one time 
is a small fraction of the total number in the project)

On 16/11/17 20:11, Matthias Kuhn wrote:
>
> Hi Patrick,
>
> This uses some memory (~ canvas width pixels * canvas height pixels * 
> 8 preview images * 32 bit RGBA), so let's assume 50 MB to 100 MB.
>
> This consumption is independent from the number or type of layers.
>
> Matthias
>
>
> On 11/16/2017 08:02 AM, Patrick Dunford wrote:
>>
>> So to put it another way this is the reason why Qgis wants to use a 
>> huge amount of memory (40 GB) when I have a lot of raster images 
>> loaded in the background.
>>
>>
>> On 16/11/17 18:56, Tim Sutton wrote:
>>> Hi
>>>
>>>> On 16 Nov 2017, at 04:35, Patrick Dunford <enzedrailmaps at gmail.com 
>>>> <mailto:enzedrailmaps at gmail.com>> wrote:
>>>>
>>>> What is this "preview job" function?
>>>>
>>>>
>>>
>>> Its application logic to prefetch / pre-render offscreen content in 
>>> anticipation of user panning the map.
>>>
>>> Regards
>>>
>>> Tim
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>> —
>>>
>>>
>>>
>>>
>>>
>>>
>>> *Tim Sutton*
>>>
>>> *Co-founder:*Kartoza
>>> *Project chair:*QGIS.org <http://QGIS.org>
>>>
>>> Visit http://kartoza.com <http://kartoza.com/> to find out about 
>>> open source:
>>>
>>> Desktop GIS programming services
>>> Geospatial web development
>>> GIS Training
>>> Consulting Services
>>>
>>> *Skype*: timlinux
>>> *IRC:*timlinux on #qgis at freenode.net <http://freenode.net>
>>>
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/4dccbae4/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/4dccbae4/attachment-0001.jpg>

From tom.chadwin at nnpa.org.uk  Thu Nov 16 00:51:07 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Thu, 16 Nov 2017 01:51:07 -0700 (MST)
Subject: [QGIS-Developer] Parse project grid LineSymbol properties
Message-ID: <1510822267945-0.post@n6.nabble.com>

I'm retrieving the project grid line symbol properties in Python:

stroke = project.readEntry("Grid", "/LineSymbol", "")[0]

This gives me what I presume is a string of serialized XML:

<symbol alpha="1" clip_to_extent="1" type="line" name="line symbol">
 <layer pass="0" class="SimpleLine" locked="0">
  <prop k="capstyle" v="square"/>
  <prop k="customdash" v="5;2"/>
  <prop k="customdash_map_unit_scale" v="0,0,0,0,0,0"/>
  <prop k="customdash_unit" v="MM"/>
  <prop k="draw_inside_polygon" v="0"/>
  <prop k="joinstyle" v="bevel"/>
  <prop k="line_color" v="0,0,0,255"/>
  <prop k="line_style" v="solid"/>
  <prop k="line_width" v="0.26"/>
  <prop k="line_width_unit" v="MM"/>
  <prop k="offset" v="0"/>
  <prop k="offset_map_unit_scale" v="0,0,0,0,0,0"/>
  <prop k="offset_unit" v="MM"/>
  <prop k="use_custom_dash" v="0"/>
  <prop k="width_map_unit_scale" v="0,0,0,0,0,0"/>
 </layer>
</symbol>

I already have a function which reads through the properties of a line
symbol, but it works with properties retrieved via
QgsSymbolLayer.properties().

How do I convert the XML into whatever format QgsSymbolLayer.properties()
returns (a QgsStringMap, whatever that might be)?

Thanks

Tom




-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From matthias at opengis.ch  Thu Nov 16 02:15:54 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 16 Nov 2017 11:15:54 +0100
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <d3e155bc-3719-bab3-dfbe-bbc266dc67f3@gmail.com>
References: <8444006.lOr4mHJqye@even-i700>
 <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>
 <240D3348-E0F6-43AC-8AAF-41371976ED71@kartoza.com>
 <b03982ea-9ee2-afda-1028-1c7b15e4b259@gmail.com>
 <fd114c85-85f9-66f9-7a19-71c1f1c7ffde@opengis.ch>
 <d3e155bc-3719-bab3-dfbe-bbc266dc67f3@gmail.com>
Message-ID: <11d60899-1038-1229-b0a7-72d9d902c3e7@opengis.ch>

Hi Patrick,

Would be interesting to do this test with previews enabled and disabled.
Then we'll see if it's actually the previews or some other mechanism
that is causing this.

IIRC only a composite image is saved in the preview jobs and not each
layer separately, but that's just what I remember and not evidence based.

You can enable them in the python console with

    iface.mapCanvas().setPreviewJobsEnabled(True)

and disable with

    iface.mapCanvas().setPreviewJobsEnabled(False)

Thanks for a feedback

Matthias


On 11/16/2017 08:42 AM, Patrick Dunford wrote:
>
> In my current project using Qgis 2.99, turning off the rasters uses 16
> GB, turning them on uses 52 GB
>
> I do not believe it is independent from the number of layers that are
> being displayed.
>
> Previous versions of the software did not cache every single raster
> (the number of rasters actually being displayed on the canvas at any
> one time is a small fraction of the total number in the project)
>
> On 16/11/17 20:11, Matthias Kuhn wrote:
>>
>> Hi Patrick,
>>
>> This uses some memory (~ canvas width pixels * canvas height pixels *
>> 8 preview images * 32 bit RGBA), so let's assume 50 MB to 100 MB.
>>
>> This consumption is independent from the number or type of layers.
>>
>> Matthias
>>
>>
>> On 11/16/2017 08:02 AM, Patrick Dunford wrote:
>>>
>>> So to put it another way this is the reason why Qgis wants to use a
>>> huge amount of memory (40 GB) when I have a lot of raster images
>>> loaded in the background.
>>>
>>>
>>> On 16/11/17 18:56, Tim Sutton wrote:
>>>> Hi
>>>>
>>>>> On 16 Nov 2017, at 04:35, Patrick Dunford <enzedrailmaps at gmail.com
>>>>> <mailto:enzedrailmaps at gmail.com>> wrote:
>>>>>
>>>>> What is this "preview job" function?
>>>>>
>>>>>
>>>>
>>>> Its application logic to prefetch / pre-render offscreen content in
>>>> anticipation of user panning the map.
>>>>
>>>> Regards
>>>>
>>>> Tim
>>>>>
>>>>> _______________________________________________
>>>>> QGIS-Developer mailing list
>>>>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>> —
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> *Tim Sutton*
>>>>
>>>> *Co-founder:* Kartoza
>>>> *Project chair:* QGIS.org <http://QGIS.org>
>>>>
>>>> Visit http://kartoza.com <http://kartoza.com/> to find out about
>>>> open source:
>>>>
>>>> Desktop GIS programming services
>>>> Geospatial web development
>>>> GIS Training
>>>> Consulting Services
>>>>
>>>> *Skype*: timlinux 
>>>> *IRC:* timlinux on #qgis at freenode.net <http://freenode.net>
>>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/11888e71/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/11888e71/attachment-0001.jpg>

From zhangq.rhy at gmail.com  Thu Nov 16 02:33:11 2017
From: zhangq.rhy at gmail.com (Zhang Qun)
Date: Thu, 16 Nov 2017 18:33:11 +0800
Subject: [QGIS-Developer] Deploy plugin by setting QGIS_PLUGINPATH
Message-ID: <CADk-=6fPG2xO-w0+f0GAXbr3B07uh4wzzK8dMMZKiZddJ55w-w@mail.gmail.com>

Dear all,

I want to use the QGIS_PLUGINPATH environment variable to point to the
directory where my plugin are located but did not manage to get it work.

I'm on Ubuntu16.04 and running QGIS 2.18.

I set the variable in terminal by:
$ export QGIS_PLUGINPATH=~/QGIS_Plugins/rndf-editor/RNDFEditor/

and launch the QGIS in this terminal (I guess in order to get the variable
effective I have to run within the terminal right?)

$ qgis

But my plugin still did not get to show under the manu Plugin.

Can anyone advise me the correct way to do it? Thanks.

Best regards,
Zhang Qun
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/c15525da/attachment.html>

From enzedrailmaps at gmail.com  Thu Nov 16 02:47:47 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Thu, 16 Nov 2017 23:47:47 +1300
Subject: [QGIS-Developer] Deploy plugin by setting QGIS_PLUGINPATH
In-Reply-To: <CADk-=6fPG2xO-w0+f0GAXbr3B07uh4wzzK8dMMZKiZddJ55w-w@mail.gmail.com>
References: <CADk-=6fPG2xO-w0+f0GAXbr3B07uh4wzzK8dMMZKiZddJ55w-w@mail.gmail.com>
Message-ID: <29db01bf-36ea-618a-9030-fd80da81827d@gmail.com>

There are sometimes reasons why this method may not work (I think Ubuntu 
does have a particular limitation in this regard)

One option is you can create a shortcut on the menu and pass the 
variable value in that shortcut.

For example one of the Qgis shortcuts on the Whiskers menu in XFCE on my 
computer uses this command to start a version of Qgis that I built from 
source and installed to a different path:

env LD_LIBRARY_PATH=/home/patrick/apps/lib /home/patrick/apps/bin/qgis

where env is passing that variable into the environment that Qgis starts 
with.

On 16/11/17 23:33, Zhang Qun wrote:
> Dear all,
>
> I want to use the |QGIS_PLUGINPATH| environment variable to point to 
> the directory where my plugin are located but did not manage to get it 
> work.
>
> I'm on Ubuntu16.04 and running QGIS 2.18.
>
> I set the variable in terminal by:
> $ export QGIS_PLUGINPATH=~/QGIS_Plugins/rndf-editor/RNDFEditor/
>
> and launch the QGIS in this terminal (I guess in order to get the 
> variable effective I have to run within the terminal right?)
>
> $ qgis
>
> But my plugin still did not get to show under the manu Plugin.
>
> Can anyone advise me the correct way to do it? Thanks.
>
> Best regards,
> Zhang Qun
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/19bdfa39/attachment.html>

From motta.luiz at gmail.com  Thu Nov 16 03:53:30 2017
From: motta.luiz at gmail.com (Luiz Motta)
Date: Thu, 16 Nov 2017 09:53:30 -0200
Subject: [QGIS-Developer] Deploy plugin by setting QGIS_PLUGINPATH
In-Reply-To: <29db01bf-36ea-618a-9030-fd80da81827d@gmail.com>
References: <CADk-=6fPG2xO-w0+f0GAXbr3B07uh4wzzK8dMMZKiZddJ55w-w@mail.gmail.com>
 <29db01bf-36ea-618a-9030-fd80da81827d@gmail.com>
Message-ID: <CAC93zU0nLaqd3L+Qrv40hCh9NYpoxw_qUNq+6Xct6zOJWoO9-Q@mail.gmail.com>

Hi Zhang,

In my plugins, I use the '__file__' for get the path of my plugin.

Example in '__ini__.py':

import os
dirPlugin = os.path.dirname(__file__)





2017-11-16 8:47 GMT-02:00 Patrick Dunford <enzedrailmaps at gmail.com>:

> There are sometimes reasons why this method may not work (I think Ubuntu
> does have a particular limitation in this regard)
>
> One option is you can create a shortcut on the menu and pass the variable
> value in that shortcut.
> For example one of the Qgis shortcuts on the Whiskers menu in XFCE on my
> computer uses this command to start a version of Qgis that I built from
> source and installed to a different path:
>
> env LD_LIBRARY_PATH=/home/patrick/apps/lib /home/patrick/apps/bin/qgis
>
> where env is passing that variable into the environment that Qgis starts
> with.
>
>
> On 16/11/17 23:33, Zhang Qun wrote:
>
> Dear all,
>
> I want to use the QGIS_PLUGINPATH environment variable to point to the
> directory where my plugin are located but did not manage to get it work.
>
> I'm on Ubuntu16.04 and running QGIS 2.18.
>
> I set the variable in terminal by:
> $ export QGIS_PLUGINPATH=~/QGIS_Plugins/rndf-editor/RNDFEditor/
>
> and launch the QGIS in this terminal (I guess in order to get the variable
> effective I have to run within the terminal right?)
>
> $ qgis
>
> But my plugin still did not get to show under the manu Plugin.
>
> Can anyone advise me the correct way to do it? Thanks.
>
> Best regards,
> Zhang Qun
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/29473255/attachment.html>

From rdmailings at duif.net  Thu Nov 16 03:54:49 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 16 Nov 2017 12:54:49 +0100
Subject: [QGIS-Developer] Windows QGIS Installer builds
Message-ID: <43e5a3f0-51a4-225b-4ed1-fca235bff6fc@duif.net>


Hi Devs,

I see (and personally get) more and more questions about individuals or
businesses who want to create their own QGIS windows installers.
Sometimes to do some branding, sometimes to create a 'suite' with some
plugins etc etc.

Myself I do not do this, but I see people struggling.

I often point them to the INSTALL.txt but looking into that I see:
"Consider this section as example.  It tends to outdate, when OSGeo4W
and SDKs move on"

I was wondering: should we help these people by maybe let an experienced
Windows developer write a build manual (or update the INSTALL.txt?
Or do we conclude: if you are not able to build a msi with the
information in the ms-windows dir and INSTALL.txt you just should not try?

Regards,

Richard Duivenvoorde

PS: Today I received such email again, and will ask this company if they
have budget to sponsor writing such docs...

From rdmailings at duif.net  Thu Nov 16 04:25:10 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 16 Nov 2017 13:25:10 +0100
Subject: [QGIS-Developer] Deploy plugin by setting QGIS_PLUGINPATH
In-Reply-To: <29db01bf-36ea-618a-9030-fd80da81827d@gmail.com>
References: <CADk-=6fPG2xO-w0+f0GAXbr3B07uh4wzzK8dMMZKiZddJ55w-w@mail.gmail.com>
 <29db01bf-36ea-618a-9030-fd80da81827d@gmail.com>
Message-ID: <c811549c-5ed5-dfbd-6881-e47f967f7adc@duif.net>

I think what Zhang Qun is asking if he can use a custom directory to
store his plugin in.
If I grep in the source dir of QGIS I see a lot of references to
QGIS_PLUGINPATH, so it should work.
I also see in the changelog that is there since 2010 (and a lot of fixes
for windows environments....)

Do you seen the QGIS_PLUGINPATH in the Options/System tab?

Also does it not show up in the plugin list of the plugin manager?
Because if you install a plugin by copying it to the plugin dir (even
the default one), it is not enabled by default. So IF shown, enable it
in the plugin manager first.

FYI: grepping:

grep -ir QGIS_PLUGINPATH *
Binary file
build/src/python/CMakeFiles/qgispython.dir/qgspythonutilsimpl.cpp.o matches
build/doc/news:- Support for custom plugin directories using
QGIS_PLUGINPATH environment
build/doc/news.html:<LI>Support for custom plugin directories using
QGIS_PLUGINPATH environment
Binary file build/output/lib/libqgispython.so.2.18.14 matches
ChangeLog:    Fix windows path escaping for QGIS_PLUGINPATH
ChangeLog:    Fix windows path escaping for QGIS_PLUGINPATH
ChangeLog:    skip empty parts of QGIS_PLUGINPATH
ChangeLog:    don't split QGIS_PLUGINPATH at colon on windows
ChangeLog:    Additionally, plugin paths in QGIS_PLUGINPATH can be
separated by either semicolon or colon.
ChangeLog:    [FEATURE] support for custom plugin directories using
QGIS_PLUGINPATH environment variables.
doc/news.html:<LI>Support for custom plugin directories using
QGIS_PLUGINPATH environment
doc/news.t2t:- Support for custom plugin directories using
QGIS_PLUGINPATH environment
NEWS:- Support for custom plugin directories using QGIS_PLUGINPATH
environment
src/python/qgspythonutilsimpl.h:    //! return a list of extra plugins
paths passed with QGIS_PLUGINPATH environment variable
src/python/qgspythonutilsimpl.cpp:  // plugin dirs passed in
QGIS_PLUGINPATH env. variable have highest priority (usually empty)
src/python/qgspythonutilsimpl.cpp:  const char* cpaths = getenv(
"QGIS_PLUGINPATH" );
tests/src/python/test_qgsappstartup.py:            # when it is started.
if QGIS_PLUGINPATH is correctly parsed, this
tests/src/python/test_qgsappstartup.py:
env={'QGIS_PLUGINPATH': testDir})

HTH,

Richard DUivenvoorde

On 16-11-17 11:47, Patrick Dunford wrote:
> There are sometimes reasons why this method may not work (I think Ubuntu
> does have a particular limitation in this regard)
> 
> One option is you can create a shortcut on the menu and pass the
> variable value in that shortcut.
> 
> For example one of the Qgis shortcuts on the Whiskers menu in XFCE on my
> computer uses this command to start a version of Qgis that I built from
> source and installed to a different path:
> 
> env LD_LIBRARY_PATH=/home/patrick/apps/lib /home/patrick/apps/bin/qgis
> 
> where env is passing that variable into the environment that Qgis starts
> with.
> 
> On 16/11/17 23:33, Zhang Qun wrote:
>> Dear all,
>>
>> I want to use the |QGIS_PLUGINPATH| environment variable to point to
>> the directory where my plugin are located but did not manage to get it
>> work.
>>
>> I'm on Ubuntu16.04 and running QGIS 2.18.
>>
>> I set the variable in terminal by:
>> $ export QGIS_PLUGINPATH=~/QGIS_Plugins/rndf-editor/RNDFEditor/
>>
>> and launch the QGIS in this terminal (I guess in order to get the
>> variable effective I have to run within the terminal right?)
>>
>> $ qgis
>>
>> But my plugin still did not get to show under the manu Plugin.
>>
>> Can anyone advise me the correct way to do it? Thanks.
>>
>> Best regards,
>> Zhang Qun
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From kimaidou at gmail.com  Thu Nov 16 05:29:03 2017
From: kimaidou at gmail.com (kimaidou)
Date: Thu, 16 Nov 2017 14:29:03 +0100
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <11d60899-1038-1229-b0a7-72d9d902c3e7@opengis.ch>
References: <8444006.lOr4mHJqye@even-i700>
 <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>
 <240D3348-E0F6-43AC-8AAF-41371976ED71@kartoza.com>
 <b03982ea-9ee2-afda-1028-1c7b15e4b259@gmail.com>
 <fd114c85-85f9-66f9-7a19-71c1f1c7ffde@opengis.ch>
 <d3e155bc-3719-bab3-dfbe-bbc266dc67f3@gmail.com>
 <11d60899-1038-1229-b0a7-72d9d902c3e7@opengis.ch>
Message-ID: <CAMKXKO6uBapJrG--qKKcMDyzZ6uGnO3FqLRA+t0P5_xTG9TOkQ@mail.gmail.com>

Hi,

I was wondering if these preview jobs are enabled in QGIS Server context,
when requesting a GetMap from any client. I am pretty sure the context of
the preview jobs execution is related to Desktop, but I would like to be
sure.
Any hint on this ?

Regards,
Michaël

2017-11-16 11:15 GMT+01:00 Matthias Kuhn <matthias at opengis.ch>:

> Hi Patrick,
>
> Would be interesting to do this test with previews enabled and disabled.
> Then we'll see if it's actually the previews or some other mechanism that
> is causing this.
>
> IIRC only a composite image is saved in the preview jobs and not each
> layer separately, but that's just what I remember and not evidence based.
>
> You can enable them in the python console with
>
>     iface.mapCanvas().setPreviewJobsEnabled(True)
>
> and disable with
>
>     iface.mapCanvas().setPreviewJobsEnabled(False)
>
> Thanks for a feedback
>
> Matthias
>
> On 11/16/2017 08:42 AM, Patrick Dunford wrote:
>
> In my current project using Qgis 2.99, turning off the rasters uses 16 GB,
> turning them on uses 52 GB
>
> I do not believe it is independent from the number of layers that are
> being displayed.
>
> Previous versions of the software did not cache every single raster (the
> number of rasters actually being displayed on the canvas at any one time is
> a small fraction of the total number in the project)
> On 16/11/17 20:11, Matthias Kuhn wrote:
>
> Hi Patrick,
>
> This uses some memory (~ canvas width pixels * canvas height pixels * 8
> preview images * 32 bit RGBA), so let's assume 50 MB to 100 MB.
>
> This consumption is independent from the number or type of layers.
>
> Matthias
>
> On 11/16/2017 08:02 AM, Patrick Dunford wrote:
>
> So to put it another way this is the reason why Qgis wants to use a huge
> amount of memory (40 GB) when I have a lot of raster images loaded in the
> background.
>
> On 16/11/17 18:56, Tim Sutton wrote:
>
> Hi
>
> On 16 Nov 2017, at 04:35, Patrick Dunford <enzedrailmaps at gmail.com> wrote:
>
> What is this "preview job" function?
>
>
> Its application logic to prefetch / pre-render offscreen content in
> anticipation of user panning the map.
>
> Regards
>
> Tim
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> —
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/07bfac2e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/07bfac2e/attachment-0001.jpg>

From lists at borysjurgiel.pl  Thu Nov 16 06:03:02 2017
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Thu, 16 Nov 2017 15:03:02 +0100
Subject: [QGIS-Developer] Deploy plugin by setting QGIS_PLUGINPATH
In-Reply-To: <CADk-=6fPG2xO-w0+f0GAXbr3B07uh4wzzK8dMMZKiZddJ55w-w@mail.gmail.com>
References: <CADk-=6fPG2xO-w0+f0GAXbr3B07uh4wzzK8dMMZKiZddJ55w-w@mail.gmail.com>
Message-ID: <9563653.X0SPkyI3VQ@debian>

Please niote I don't remember whether the Plugin Installer (the part of Plugin 
Manager's backend responsible for e.g. listing installed and available Python 
plugins) is able to look for multiple directories.

First of all, do you really need to extend QGIS_PLUGINPATH ? Maybe it's enough 
to put a symbolic link to ~/.qgis2


On czwartek, 16 listopada 2017 18:33:11 CET Zhang Qun wrote:
> Dear all,
> 
> I want to use the QGIS_PLUGINPATH environment variable to point to the
> directory where my plugin are located but did not manage to get it work.
> 
> I'm on Ubuntu16.04 and running QGIS 2.18.
> 
> I set the variable in terminal by:
> $ export QGIS_PLUGINPATH=~/QGIS_Plugins/rndf-editor/RNDFEditor/

Please note QGIS_PLUGINPATH shouldn't contain directly the plugin directory. 
Instead it should point its parent. So if your plugin above is in the 
*RNDFEditor* directory, the proper path is:

export QGIS_PLUGINPATH=~/QGIS_Plugins/rndf-editor

Now you should be able to see your plugin in the plugin manager. 

And in order to check if QGIS sees the env var, just go to the QGIS' Python 
console and type 

qgis.utils.plugin_paths 

You should be able to see a list with three directories : 

1. the one from QGIS_PLUGINPATH, 
2. ~/.qgis2/python/plugins 
3. /usr/share/qgis/python/plugins

Regards,
Borys

From Stefan.Blumentrath at nina.no  Thu Nov 16 06:03:12 2017
From: Stefan.Blumentrath at nina.no (Stefan Blumentrath)
Date: Thu, 16 Nov 2017 14:03:12 +0000
Subject: [QGIS-Developer] Windows QGIS Installer builds
In-Reply-To: <43e5a3f0-51a4-225b-4ed1-fca235bff6fc@duif.net>
References: <43e5a3f0-51a4-225b-4ed1-fca235bff6fc@duif.net>
Message-ID: <6b3bff26a1dc42098c4be301cf0c217c@NINSRV23.nina.no>

Hi Richard,

We/I have done so earlier from OSGeo4W binaries, using creatnsis.pl (meaning without compiling stuff ourselfs) while injecting use of --configpath option in the startup batch scripts). That was a quite OK solution until the number of relevant packages grew beyond the size limit of nsis installers.
In consequence, we moved to a command-line installation based on OSGeo4W that our IT can put into Windows SoftwareCenter and only kept  some customizations of the QGIS startup batch-files.

Now with the global options in QGIS 3 (https://connect.boundlessgeo.com/docs/desktop/1.1.0/system_admins/globalsettings.html) and having all configurations in a .qgis directory, modification of the batch scripts becomes even less needed.

I can share our general recipe if that should be of interest...

Cheers
Stefan


-----Original Message-----
From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On Behalf Of Richard Duivenvoorde
Sent: torsdag 16. november 2017 12.55
To: qgis-developer <qgis-developer at lists.osgeo.org>
Subject: [QGIS-Developer] Windows QGIS Installer builds


Hi Devs,

I see (and personally get) more and more questions about individuals or businesses who want to create their own QGIS windows installers.
Sometimes to do some branding, sometimes to create a 'suite' with some plugins etc etc.

Myself I do not do this, but I see people struggling.

I often point them to the INSTALL.txt but looking into that I see:
"Consider this section as example.  It tends to outdate, when OSGeo4W and SDKs move on"

I was wondering: should we help these people by maybe let an experienced Windows developer write a build manual (or update the INSTALL.txt?
Or do we conclude: if you are not able to build a msi with the information in the ms-windows dir and INSTALL.txt you just should not try?

Regards,

Richard Duivenvoorde

PS: Today I received such email again, and will ask this company if they have budget to sponsor writing such docs...
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From lists at borysjurgiel.pl  Thu Nov 16 06:13:01 2017
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Thu, 16 Nov 2017 15:13:01 +0100
Subject: [QGIS-Developer] Deploy plugin by setting QGIS_PLUGINPATH
In-Reply-To: <9563653.X0SPkyI3VQ@debian>
References: <CADk-=6fPG2xO-w0+f0GAXbr3B07uh4wzzK8dMMZKiZddJ55w-w@mail.gmail.com>
 <9563653.X0SPkyI3VQ@debian>
Message-ID: <58110660.4ZnKsAhiZt@debian>

I'm sorry for the messy reply made by my wonderful kmail5 ;p

The first paragraph is outdated - I checked and it works. The second is an 
alternative solution, and the direct response to your question is on the end.

Regards,
Borys

From tomkralidis at gmail.com  Thu Nov 16 07:15:07 2017
From: tomkralidis at gmail.com (Tom Kralidis)
Date: Thu, 16 Nov 2017 15:15:07 +0000 (UTC)
Subject: [QGIS-Developer] using plugins from home directory
Message-ID: <alpine.DEB.2.20.1711161512380.3996@www.localdomain>

Hi devs: using master (from OSGeo4W) I have a local copy of MetaSearch in
~/.qgis3/python/plugins/MetaSearch, however MetaSearch is only recognized
from the qgis-dev install of OSGeo4W in /OSGeo4W/apps/qgis-dev/python/plugins/MetaSearch.

Any idea what I'm doing wrong here? I'd like to be able to have QGIS
work off the local plugin.

Thanks

..Tom

From anjo.weichbrodt at gmail.com  Thu Nov 16 07:21:22 2017
From: anjo.weichbrodt at gmail.com (Anjo Weichbrodt)
Date: Thu, 16 Nov 2017 16:21:22 +0100
Subject: [QGIS-Developer] Qt4 Designer - custom widgets - Manjaro
Message-ID: <CAHb8XexovOppqi_8LuzUSu510FLAEfG+LY0niFPHPDv-1Q445Q@mail.gmail.com>

Hi everyone,

I am trying to work with the Qgs custom-widgets in Qt4 Designer. I am
running Manjaro on kernel 4.14.
So far I tried to install QGIS 2.18 from the AUR compiling it with the
option -WITH_CUSTOM_WIDGETS=TRUE.

No custom widgets appeared after that in QT4 designer.

Thanks for your help,
Anjo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/f77f3f70/attachment.html>

From rdmailings at duif.net  Thu Nov 16 07:32:51 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 16 Nov 2017 16:32:51 +0100
Subject: [QGIS-Developer] using plugins from home directory
In-Reply-To: <alpine.DEB.2.20.1711161512380.3996@www.localdomain>
References: <alpine.DEB.2.20.1711161512380.3996@www.localdomain>
Message-ID: <7815afb3-2264-acd6-1120-fc56047f5843@duif.net>

On 16-11-17 16:15, Tom Kralidis wrote:
> Hi devs: using master (from OSGeo4W) I have a local copy of MetaSearch in
> ~/.qgis3/python/plugins/MetaSearch, however MetaSearch is only recognized
> from the qgis-dev install of OSGeo4W in
> /OSGeo4W/apps/qgis-dev/python/plugins/MetaSearch.
> 
> Any idea what I'm doing wrong here? I'd like to be able to have QGIS
> work off the local plugin.

Tom,

~/.qgis3 is not used anymore

look in menu settings/user profiles, you can open the directory there.

it will be something like:
~/.local/share/QGIS/QGIS3/profiles/default/

Regards,

Richard



From matthias at opengis.ch  Thu Nov 16 08:51:00 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 16 Nov 2017 17:51:00 +0100
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <CAMKXKO6uBapJrG--qKKcMDyzZ6uGnO3FqLRA+t0P5_xTG9TOkQ@mail.gmail.com>
References: <8444006.lOr4mHJqye@even-i700>
 <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>
 <240D3348-E0F6-43AC-8AAF-41371976ED71@kartoza.com>
 <b03982ea-9ee2-afda-1028-1c7b15e4b259@gmail.com>
 <fd114c85-85f9-66f9-7a19-71c1f1c7ffde@opengis.ch>
 <d3e155bc-3719-bab3-dfbe-bbc266dc67f3@gmail.com>
 <11d60899-1038-1229-b0a7-72d9d902c3e7@opengis.ch>
 <CAMKXKO6uBapJrG--qKKcMDyzZ6uGnO3FqLRA+t0P5_xTG9TOkQ@mail.gmail.com>
Message-ID: <cf698c5e-7c87-5cda-11b2-b811edc0c98f@opengis.ch>

Hi

they are triggered by QgsMapCanvas (in the gui library), so I would be
very surprised if they were triggered on the server.

Matthias


On 11/16/2017 02:29 PM, kimaidou wrote:
> Hi,
>
> I was wondering if these preview jobs are enabled in QGIS Server
> context, when requesting a GetMap from any client. I am pretty sure
> the context of the preview jobs execution is related to Desktop, but I
> would like to be sure.
> Any hint on this ?
>
> Regards,
> Michaël
>
> 2017-11-16 11:15 GMT+01:00 Matthias Kuhn <matthias at opengis.ch
> <mailto:matthias at opengis.ch>>:
>
>     Hi Patrick,
>
>     Would be interesting to do this test with previews enabled and
>     disabled. Then we'll see if it's actually the previews or some
>     other mechanism that is causing this.
>
>     IIRC only a composite image is saved in the preview jobs and not
>     each layer separately, but that's just what I remember and not
>     evidence based.
>
>     You can enable them in the python console with
>
>         iface.mapCanvas().setPreviewJobsEnabled(True)
>
>     and disable with
>
>         iface.mapCanvas().setPreviewJobsEnabled(False)
>
>     Thanks for a feedback
>
>     Matthias
>
>
>     On 11/16/2017 08:42 AM, Patrick Dunford wrote:
>>
>>     In my current project using Qgis 2.99, turning off the rasters
>>     uses 16 GB, turning them on uses 52 GB
>>
>>     I do not believe it is independent from the number of layers that
>>     are being displayed.
>>
>>     Previous versions of the software did not cache every single
>>     raster (the number of rasters actually being displayed on the
>>     canvas at any one time is a small fraction of the total number in
>>     the project)
>>
>>     On 16/11/17 20:11, Matthias Kuhn wrote:
>>>
>>>     Hi Patrick,
>>>
>>>     This uses some memory (~ canvas width pixels * canvas height
>>>     pixels * 8 preview images * 32 bit RGBA), so let's assume 50 MB
>>>     to 100 MB.
>>>
>>>     This consumption is independent from the number or type of layers.
>>>
>>>     Matthias
>>>
>>>
>>>     On 11/16/2017 08:02 AM, Patrick Dunford wrote:
>>>>
>>>>     So to put it another way this is the reason why Qgis wants to
>>>>     use a huge amount of memory (40 GB) when I have a lot of raster
>>>>     images loaded in the background.
>>>>
>>>>
>>>>     On 16/11/17 18:56, Tim Sutton wrote:
>>>>>     Hi
>>>>>
>>>>>>     On 16 Nov 2017, at 04:35, Patrick Dunford
>>>>>>     <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>> wrote:
>>>>>>
>>>>>>     What is this "preview job" function?
>>>>>>
>>>>>>
>>>>>
>>>>>     Its application logic to prefetch / pre-render offscreen
>>>>>     content in anticipation of user panning the map.
>>>>>
>>>>>     Regards
>>>>>
>>>>>     Tim
>>>>>>
>>>>>>     _______________________________________________
>>>>>>     QGIS-Developer mailing list
>>>>>>     QGIS-Developer at lists.osgeo.org
>>>>>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>>>>>     List info:
>>>>>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>>>     Unsubscribe:
>>>>>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>>
>>>>>     —
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>     *Tim Sutton*
>>>>>
>>>>>     *Co-founder:* Kartoza
>>>>>     *Project chair:* QGIS.org <http://QGIS.org>
>>>>>
>>>>>     Visit http://kartoza.com <http://kartoza.com/> to find out
>>>>>     about open source:
>>>>>
>>>>>     Desktop GIS programming services
>>>>>     Geospatial web development
>>>>>     GIS Training
>>>>>     Consulting Services
>>>>>
>>>>>     *Skype*: timlinux 
>>>>>     *IRC:* timlinux on #qgis at freenode.net <http://freenode.net>
>>>>>
>>>>
>>>>
>>>>
>>>>     _______________________________________________
>>>>     QGIS-Developer mailing list
>>>>     QGIS-Developer at lists.osgeo.org
>>>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>>>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>
>>>
>>>
>>>     _______________________________________________
>>>     QGIS-Developer mailing list
>>>     QGIS-Developer at lists.osgeo.org
>>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>
>>
>>
>>     _______________________________________________
>>     QGIS-Developer mailing list
>>     QGIS-Developer at lists.osgeo.org
>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/c6d09e30/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171116/c6d09e30/attachment-0001.jpg>

From enzedrailmaps at gmail.com  Thu Nov 16 18:53:21 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Fri, 17 Nov 2017 15:53:21 +1300
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <11d60899-1038-1229-b0a7-72d9d902c3e7@opengis.ch>
References: <8444006.lOr4mHJqye@even-i700>
 <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>
 <240D3348-E0F6-43AC-8AAF-41371976ED71@kartoza.com>
 <b03982ea-9ee2-afda-1028-1c7b15e4b259@gmail.com>
 <fd114c85-85f9-66f9-7a19-71c1f1c7ffde@opengis.ch>
 <d3e155bc-3719-bab3-dfbe-bbc266dc67f3@gmail.com>
 <11d60899-1038-1229-b0a7-72d9d902c3e7@opengis.ch>
Message-ID: <f5099a9c-4712-8abc-eb5c-87233b1172a5@gmail.com>

With the second command

iface.mapCanvas().setPreviewJobsEnabled(False)

when I run that command it drops back to 16 GB


On 16/11/17 23:15, Matthias Kuhn wrote:
>
> Hi Patrick,
>
> Would be interesting to do this test with previews enabled and 
> disabled. Then we'll see if it's actually the previews or some other 
> mechanism that is causing this.
>
> IIRC only a composite image is saved in the preview jobs and not each 
> layer separately, but that's just what I remember and not evidence based.
>
> You can enable them in the python console with
>
>     iface.mapCanvas().setPreviewJobsEnabled(True)
>
> and disable with
>
>     iface.mapCanvas().setPreviewJobsEnabled(False)
>
> Thanks for a feedback
>
> Matthias
>
>
> On 11/16/2017 08:42 AM, Patrick Dunford wrote:
>>
>> In my current project using Qgis 2.99, turning off the rasters uses 
>> 16 GB, turning them on uses 52 GB
>>
>> I do not believe it is independent from the number of layers that are 
>> being displayed.
>>
>> Previous versions of the software did not cache every single raster 
>> (the number of rasters actually being displayed on the canvas at any 
>> one time is a small fraction of the total number in the project)
>>
>> On 16/11/17 20:11, Matthias Kuhn wrote:
>>>
>>> Hi Patrick,
>>>
>>> This uses some memory (~ canvas width pixels * canvas height pixels 
>>> * 8 preview images * 32 bit RGBA), so let's assume 50 MB to 100 MB.
>>>
>>> This consumption is independent from the number or type of layers.
>>>
>>> Matthias
>>>
>>>
>>> On 11/16/2017 08:02 AM, Patrick Dunford wrote:
>>>>
>>>> So to put it another way this is the reason why Qgis wants to use a 
>>>> huge amount of memory (40 GB) when I have a lot of raster images 
>>>> loaded in the background.
>>>>
>>>>
>>>> On 16/11/17 18:56, Tim Sutton wrote:
>>>>> Hi
>>>>>
>>>>>> On 16 Nov 2017, at 04:35, Patrick Dunford 
>>>>>> <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>> wrote:
>>>>>>
>>>>>> What is this "preview job" function?
>>>>>>
>>>>>>
>>>>>
>>>>> Its application logic to prefetch / pre-render offscreen content 
>>>>> in anticipation of user panning the map.
>>>>>
>>>>> Regards
>>>>>
>>>>> Tim
>>>>>>
>>>>>> _______________________________________________
>>>>>> QGIS-Developer mailing list
>>>>>> QGIS-Developer at lists.osgeo.org 
>>>>>> <mailto:QGIS-Developer at lists.osgeo.org>
>>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>
>>>>> —
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> *Tim Sutton*
>>>>>
>>>>> *Co-founder:*Kartoza
>>>>> *Project chair:*QGIS.org <http://QGIS.org>
>>>>>
>>>>> Visit http://kartoza.com <http://kartoza.com/> to find out about 
>>>>> open source:
>>>>>
>>>>> Desktop GIS programming services
>>>>> Geospatial web development
>>>>> GIS Training
>>>>> Consulting Services
>>>>>
>>>>> *Skype*: timlinux
>>>>> *IRC:*timlinux on #qgis at freenode.net <http://freenode.net>
>>>>>
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/448c25ac/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/448c25ac/attachment-0001.jpg>

From zhangq.rhy at gmail.com  Thu Nov 16 19:15:26 2017
From: zhangq.rhy at gmail.com (Zhang Qun)
Date: Fri, 17 Nov 2017 11:15:26 +0800
Subject: [QGIS-Developer] Deploy plugin by setting QGIS_PLUGINPATH
In-Reply-To: <58110660.4ZnKsAhiZt@debian>
References: <CADk-=6fPG2xO-w0+f0GAXbr3B07uh4wzzK8dMMZKiZddJ55w-w@mail.gmail.com>
 <9563653.X0SPkyI3VQ@debian> <58110660.4ZnKsAhiZt@debian>
Message-ID: <CADk-=6emFhXYGZ7w3KSkYemcqF1NitODUpLVbuYUPFFtkg3iHQ@mail.gmail.com>

Hi Borys, thanks for your kind reply and your advice setting the variable
pointing to its parent folder of the plugin worked.

I also found I need to check the plugin manager list before my plugin can
show in the menu. The plugin manager somehow loaded the plugin while I
check the list.

Thank you a million.

Best regards,
Zhang Qun

On Thu, Nov 16, 2017 at 10:13 PM, Borys Jurgiel <lists at borysjurgiel.pl>
wrote:

> I'm sorry for the messy reply made by my wonderful kmail5 ;p
>
> The first paragraph is outdated - I checked and it works. The second is an
> alternative solution, and the direct response to your question is on the
> end.
>
> Regards,
> Borys
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/15523d5e/attachment.html>

From zhangq.rhy at gmail.com  Thu Nov 16 19:17:48 2017
From: zhangq.rhy at gmail.com (Zhang Qun)
Date: Fri, 17 Nov 2017 11:17:48 +0800
Subject: [QGIS-Developer] Deploy plugin by setting QGIS_PLUGINPATH
In-Reply-To: <c811549c-5ed5-dfbd-6881-e47f967f7adc@duif.net>
References: <CADk-=6fPG2xO-w0+f0GAXbr3B07uh4wzzK8dMMZKiZddJ55w-w@mail.gmail.com>
 <29db01bf-36ea-618a-9030-fd80da81827d@gmail.com>
 <c811549c-5ed5-dfbd-6881-e47f967f7adc@duif.net>
Message-ID: <CADk-=6fphw8OqvuqmiBhRDv0mOrf+KpNsXUKh0Sc2tzYMWSm5Q@mail.gmail.com>

Hi Richard,

Thank you for the detailed explanation. I can check the variable value in
Option/System tab and now it worked.

I found I need to set the variable to the parent folder of my plugin and
check the plugin manager list as you suggested.

Thank you.

Best regards,
Zhang Qun

On Thu, Nov 16, 2017 at 8:25 PM, Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> I think what Zhang Qun is asking if he can use a custom directory to
> store his plugin in.
> If I grep in the source dir of QGIS I see a lot of references to
> QGIS_PLUGINPATH, so it should work.
> I also see in the changelog that is there since 2010 (and a lot of fixes
> for windows environments....)
>
> Do you seen the QGIS_PLUGINPATH in the Options/System tab?
>
> Also does it not show up in the plugin list of the plugin manager?
> Because if you install a plugin by copying it to the plugin dir (even
> the default one), it is not enabled by default. So IF shown, enable it
> in the plugin manager first.
>
> FYI: grepping:
>
> grep -ir QGIS_PLUGINPATH *
> Binary file
> build/src/python/CMakeFiles/qgispython.dir/qgspythonutilsimpl.cpp.o
> matches
> build/doc/news:- Support for custom plugin directories using
> QGIS_PLUGINPATH environment
> build/doc/news.html:<LI>Support for custom plugin directories using
> QGIS_PLUGINPATH environment
> Binary file build/output/lib/libqgispython.so.2.18.14 matches
> ChangeLog:    Fix windows path escaping for QGIS_PLUGINPATH
> ChangeLog:    Fix windows path escaping for QGIS_PLUGINPATH
> ChangeLog:    skip empty parts of QGIS_PLUGINPATH
> ChangeLog:    don't split QGIS_PLUGINPATH at colon on windows
> ChangeLog:    Additionally, plugin paths in QGIS_PLUGINPATH can be
> separated by either semicolon or colon.
> ChangeLog:    [FEATURE] support for custom plugin directories using
> QGIS_PLUGINPATH environment variables.
> doc/news.html:<LI>Support for custom plugin directories using
> QGIS_PLUGINPATH environment
> doc/news.t2t:- Support for custom plugin directories using
> QGIS_PLUGINPATH environment
> NEWS:- Support for custom plugin directories using QGIS_PLUGINPATH
> environment
> src/python/qgspythonutilsimpl.h:    //! return a list of extra plugins
> paths passed with QGIS_PLUGINPATH environment variable
> src/python/qgspythonutilsimpl.cpp:  // plugin dirs passed in
> QGIS_PLUGINPATH env. variable have highest priority (usually empty)
> src/python/qgspythonutilsimpl.cpp:  const char* cpaths = getenv(
> "QGIS_PLUGINPATH" );
> tests/src/python/test_qgsappstartup.py:            # when it is started.
> if QGIS_PLUGINPATH is correctly parsed, this
> tests/src/python/test_qgsappstartup.py:
> env={'QGIS_PLUGINPATH': testDir})
>
> HTH,
>
> Richard DUivenvoorde
>
> On 16-11-17 11:47, Patrick Dunford wrote:
> > There are sometimes reasons why this method may not work (I think Ubuntu
> > does have a particular limitation in this regard)
> >
> > One option is you can create a shortcut on the menu and pass the
> > variable value in that shortcut.
> >
> > For example one of the Qgis shortcuts on the Whiskers menu in XFCE on my
> > computer uses this command to start a version of Qgis that I built from
> > source and installed to a different path:
> >
> > env LD_LIBRARY_PATH=/home/patrick/apps/lib /home/patrick/apps/bin/qgis
> >
> > where env is passing that variable into the environment that Qgis starts
> > with.
> >
> > On 16/11/17 23:33, Zhang Qun wrote:
> >> Dear all,
> >>
> >> I want to use the |QGIS_PLUGINPATH| environment variable to point to
> >> the directory where my plugin are located but did not manage to get it
> >> work.
> >>
> >> I'm on Ubuntu16.04 and running QGIS 2.18.
> >>
> >> I set the variable in terminal by:
> >> $ export QGIS_PLUGINPATH=~/QGIS_Plugins/rndf-editor/RNDFEditor/
> >>
> >> and launch the QGIS in this terminal (I guess in order to get the
> >> variable effective I have to run within the terminal right?)
> >>
> >> $ qgis
> >>
> >> But my plugin still did not get to show under the manu Plugin.
> >>
> >> Can anyone advise me the correct way to do it? Thanks.
> >>
> >> Best regards,
> >> Zhang Qun
> >>
> >>
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/7742ab59/attachment.html>

From zhangq.rhy at gmail.com  Thu Nov 16 19:19:16 2017
From: zhangq.rhy at gmail.com (Zhang Qun)
Date: Fri, 17 Nov 2017 11:19:16 +0800
Subject: [QGIS-Developer] Deploy plugin by setting QGIS_PLUGINPATH
In-Reply-To: <CAC93zU0nLaqd3L+Qrv40hCh9NYpoxw_qUNq+6Xct6zOJWoO9-Q@mail.gmail.com>
References: <CADk-=6fPG2xO-w0+f0GAXbr3B07uh4wzzK8dMMZKiZddJ55w-w@mail.gmail.com>
 <29db01bf-36ea-618a-9030-fd80da81827d@gmail.com>
 <CAC93zU0nLaqd3L+Qrv40hCh9NYpoxw_qUNq+6Xct6zOJWoO9-Q@mail.gmail.com>
Message-ID: <CADk-=6epdNQj2qZPvY0pymeNwf-jKYPzH+9dDwrjQFDc0X6-zw@mail.gmail.com>

Thanks Luiz for the alternative solution. I will try that later.

Best regards,
Zhang Qun

On Thu, Nov 16, 2017 at 7:53 PM, Luiz Motta <motta.luiz at gmail.com> wrote:

> Hi Zhang,
>
> In my plugins, I use the '__file__' for get the path of my plugin.
>
> Example in '__ini__.py':
>
> import os
> dirPlugin = os.path.dirname(__file__)
>
>
>
>
>
> 2017-11-16 8:47 GMT-02:00 Patrick Dunford <enzedrailmaps at gmail.com>:
>
>> There are sometimes reasons why this method may not work (I think Ubuntu
>> does have a particular limitation in this regard)
>>
>> One option is you can create a shortcut on the menu and pass the variable
>> value in that shortcut.
>> For example one of the Qgis shortcuts on the Whiskers menu in XFCE on my
>> computer uses this command to start a version of Qgis that I built from
>> source and installed to a different path:
>>
>> env LD_LIBRARY_PATH=/home/patrick/apps/lib /home/patrick/apps/bin/qgis
>>
>> where env is passing that variable into the environment that Qgis starts
>> with.
>>
>>
>> On 16/11/17 23:33, Zhang Qun wrote:
>>
>> Dear all,
>>
>> I want to use the QGIS_PLUGINPATH environment variable to point to the
>> directory where my plugin are located but did not manage to get it work.
>>
>> I'm on Ubuntu16.04 and running QGIS 2.18.
>>
>> I set the variable in terminal by:
>> $ export QGIS_PLUGINPATH=~/QGIS_Plugins/rndf-editor/RNDFEditor/
>>
>> and launch the QGIS in this terminal (I guess in order to get the
>> variable effective I have to run within the terminal right?)
>>
>> $ qgis
>>
>> But my plugin still did not get to show under the manu Plugin.
>>
>> Can anyone advise me the correct way to do it? Thanks.
>>
>> Best regards,
>> Zhang Qun
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/7917a412/attachment-0001.html>

From zhangq.rhy at gmail.com  Thu Nov 16 19:22:25 2017
From: zhangq.rhy at gmail.com (Zhang Qun)
Date: Fri, 17 Nov 2017 11:22:25 +0800
Subject: [QGIS-Developer] Deploy plugin by setting QGIS_PLUGINPATH
In-Reply-To: <29db01bf-36ea-618a-9030-fd80da81827d@gmail.com>
References: <CADk-=6fPG2xO-w0+f0GAXbr3B07uh4wzzK8dMMZKiZddJ55w-w@mail.gmail.com>
 <29db01bf-36ea-618a-9030-fd80da81827d@gmail.com>
Message-ID: <CADk-=6fLt65fjyJc+m8scoSYCuAU7r63Js7m3TCyBWSKqckpgA@mail.gmail.com>

Hi Patrick, thanks for the replay. It worked now if I set the env variable
to the parent folder of my plugin.

Thanks.

Best regards,
Zhang Qun

On Thu, Nov 16, 2017 at 6:47 PM, Patrick Dunford <enzedrailmaps at gmail.com>
wrote:

> There are sometimes reasons why this method may not work (I think Ubuntu
> does have a particular limitation in this regard)
>
> One option is you can create a shortcut on the menu and pass the variable
> value in that shortcut.
> For example one of the Qgis shortcuts on the Whiskers menu in XFCE on my
> computer uses this command to start a version of Qgis that I built from
> source and installed to a different path:
>
> env LD_LIBRARY_PATH=/home/patrick/apps/lib /home/patrick/apps/bin/qgis
>
> where env is passing that variable into the environment that Qgis starts
> with.
>
>
> On 16/11/17 23:33, Zhang Qun wrote:
>
> Dear all,
>
> I want to use the QGIS_PLUGINPATH environment variable to point to the
> directory where my plugin are located but did not manage to get it work.
>
> I'm on Ubuntu16.04 and running QGIS 2.18.
>
> I set the variable in terminal by:
> $ export QGIS_PLUGINPATH=~/QGIS_Plugins/rndf-editor/RNDFEditor/
>
> and launch the QGIS in this terminal (I guess in order to get the variable
> effective I have to run within the terminal right?)
>
> $ qgis
>
> But my plugin still did not get to show under the manu Plugin.
>
> Can anyone advise me the correct way to do it? Thanks.
>
> Best regards,
> Zhang Qun
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/d72cad65/attachment.html>

From zhangq.rhy at gmail.com  Thu Nov 16 19:42:44 2017
From: zhangq.rhy at gmail.com (Zhang Qun)
Date: Fri, 17 Nov 2017 11:42:44 +0800
Subject: [QGIS-Developer] Deploy plugin by setting QGIS_PLUGINPATH
In-Reply-To: <CADk-=6emFhXYGZ7w3KSkYemcqF1NitODUpLVbuYUPFFtkg3iHQ@mail.gmail.com>
References: <CADk-=6fPG2xO-w0+f0GAXbr3B07uh4wzzK8dMMZKiZddJ55w-w@mail.gmail.com>
 <9563653.X0SPkyI3VQ@debian> <58110660.4ZnKsAhiZt@debian>
 <CADk-=6emFhXYGZ7w3KSkYemcqF1NitODUpLVbuYUPFFtkg3iHQ@mail.gmail.com>
Message-ID: <CADk-=6cxzZafMYUibbH4Lh=ZuxDy0xgknN_iXgZbTif7zUTzMQ@mail.gmail.com>

Hi Borys, I found your symbolic method is quite neat and useful. In this
way I could directly start QGIS even from clicking the icon in launch bar
without worrying about setting the env variables. Thanks.

Best regards,
Zhang Qun

On Fri, Nov 17, 2017 at 11:15 AM, Zhang Qun <zhangq.rhy at gmail.com> wrote:

> Hi Borys, thanks for your kind reply and your advice setting the variable
> pointing to its parent folder of the plugin worked.
>
> I also found I need to check the plugin manager list before my plugin can
> show in the menu. The plugin manager somehow loaded the plugin while I
> check the list.
>
> Thank you a million.
>
> Best regards,
> Zhang Qun
>
> On Thu, Nov 16, 2017 at 10:13 PM, Borys Jurgiel <lists at borysjurgiel.pl>
> wrote:
>
>> I'm sorry for the messy reply made by my wonderful kmail5 ;p
>>
>> The first paragraph is outdated - I checked and it works. The second is an
>> alternative solution, and the direct response to your question is on the
>> end.
>>
>> Regards,
>> Borys
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/a9e93611/attachment.html>

From matthias at opengis.ch  Thu Nov 16 23:10:21 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 17 Nov 2017 08:10:21 +0100
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <f5099a9c-4712-8abc-eb5c-87233b1172a5@gmail.com>
References: <8444006.lOr4mHJqye@even-i700>
 <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>
 <240D3348-E0F6-43AC-8AAF-41371976ED71@kartoza.com>
 <b03982ea-9ee2-afda-1028-1c7b15e4b259@gmail.com>
 <fd114c85-85f9-66f9-7a19-71c1f1c7ffde@opengis.ch>
 <d3e155bc-3719-bab3-dfbe-bbc266dc67f3@gmail.com>
 <11d60899-1038-1229-b0a7-72d9d902c3e7@opengis.ch>
 <f5099a9c-4712-8abc-eb5c-87233b1172a5@gmail.com>
Message-ID: <4bbbf4a0-5681-8cab-bb93-1874a9a758dc@opengis.ch>

Thanks, that's an interesting information.

What datatype are your rasters?


On 11/17/2017 03:53 AM, Patrick Dunford wrote:
>
> With the second command
>
> iface.mapCanvas().setPreviewJobsEnabled(False)
>
> when I run that command it drops back to 16 GB
>
>
> On 16/11/17 23:15, Matthias Kuhn wrote:
>>
>> Hi Patrick,
>>
>> Would be interesting to do this test with previews enabled and
>> disabled. Then we'll see if it's actually the previews or some other
>> mechanism that is causing this.
>>
>> IIRC only a composite image is saved in the preview jobs and not each
>> layer separately, but that's just what I remember and not evidence based.
>>
>> You can enable them in the python console with
>>
>>     iface.mapCanvas().setPreviewJobsEnabled(True)
>>
>> and disable with
>>
>>     iface.mapCanvas().setPreviewJobsEnabled(False)
>>
>> Thanks for a feedback
>>
>> Matthias
>>
>>
>> On 11/16/2017 08:42 AM, Patrick Dunford wrote:
>>>
>>> In my current project using Qgis 2.99, turning off the rasters uses
>>> 16 GB, turning them on uses 52 GB
>>>
>>> I do not believe it is independent from the number of layers that
>>> are being displayed.
>>>
>>> Previous versions of the software did not cache every single raster
>>> (the number of rasters actually being displayed on the canvas at any
>>> one time is a small fraction of the total number in the project)
>>>
>>> On 16/11/17 20:11, Matthias Kuhn wrote:
>>>>
>>>> Hi Patrick,
>>>>
>>>> This uses some memory (~ canvas width pixels * canvas height pixels
>>>> * 8 preview images * 32 bit RGBA), so let's assume 50 MB to 100 MB.
>>>>
>>>> This consumption is independent from the number or type of layers.
>>>>
>>>> Matthias
>>>>
>>>>
>>>> On 11/16/2017 08:02 AM, Patrick Dunford wrote:
>>>>>
>>>>> So to put it another way this is the reason why Qgis wants to use
>>>>> a huge amount of memory (40 GB) when I have a lot of raster images
>>>>> loaded in the background.
>>>>>
>>>>>
>>>>> On 16/11/17 18:56, Tim Sutton wrote:
>>>>>> Hi
>>>>>>
>>>>>>> On 16 Nov 2017, at 04:35, Patrick Dunford
>>>>>>> <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>> wrote:
>>>>>>>
>>>>>>> What is this "preview job" function?
>>>>>>>
>>>>>>>
>>>>>>
>>>>>> Its application logic to prefetch / pre-render offscreen content
>>>>>> in anticipation of user panning the map.
>>>>>>
>>>>>> Regards
>>>>>>
>>>>>> Tim
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> QGIS-Developer mailing list
>>>>>>> QGIS-Developer at lists.osgeo.org
>>>>>>> <mailto:QGIS-Developer at lists.osgeo.org>
>>>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>
>>>>>> —
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> *Tim Sutton*
>>>>>>
>>>>>> *Co-founder:* Kartoza
>>>>>> *Project chair:* QGIS.org <http://QGIS.org>
>>>>>>
>>>>>> Visit http://kartoza.com <http://kartoza.com/> to find out about
>>>>>> open source:
>>>>>>
>>>>>> Desktop GIS programming services
>>>>>> Geospatial web development
>>>>>> GIS Training
>>>>>> Consulting Services
>>>>>>
>>>>>> *Skype*: timlinux 
>>>>>> *IRC:* timlinux on #qgis at freenode.net <http://freenode.net>
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> QGIS-Developer mailing list
>>>>> QGIS-Developer at lists.osgeo.org
>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/911b5de4/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/911b5de4/attachment-0001.jpg>

From enzedrailmaps at gmail.com  Thu Nov 16 23:21:48 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Fri, 17 Nov 2017 20:21:48 +1300
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <4bbbf4a0-5681-8cab-bb93-1874a9a758dc@opengis.ch>
References: <8444006.lOr4mHJqye@even-i700>
 <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>
 <240D3348-E0F6-43AC-8AAF-41371976ED71@kartoza.com>
 <b03982ea-9ee2-afda-1028-1c7b15e4b259@gmail.com>
 <fd114c85-85f9-66f9-7a19-71c1f1c7ffde@opengis.ch>
 <d3e155bc-3719-bab3-dfbe-bbc266dc67f3@gmail.com>
 <11d60899-1038-1229-b0a7-72d9d902c3e7@opengis.ch>
 <f5099a9c-4712-8abc-eb5c-87233b1172a5@gmail.com>
 <4bbbf4a0-5681-8cab-bb93-1874a9a758dc@opengis.ch>
Message-ID: <317b0348-16df-8c49-717a-93e528a0d74b@gmail.com>

Most of them are geoJpeg, there are a smaller number of geoTiff


On 17/11/17 20:10, Matthias Kuhn wrote:
>
> Thanks, that's an interesting information.
>
> What datatype are your rasters?
>
>
> On 11/17/2017 03:53 AM, Patrick Dunford wrote:
>>
>> With the second command
>>
>> iface.mapCanvas().setPreviewJobsEnabled(False)
>>
>> when I run that command it drops back to 16 GB
>>
>>
>> On 16/11/17 23:15, Matthias Kuhn wrote:
>>>
>>> Hi Patrick,
>>>
>>> Would be interesting to do this test with previews enabled and 
>>> disabled. Then we'll see if it's actually the previews or some other 
>>> mechanism that is causing this.
>>>
>>> IIRC only a composite image is saved in the preview jobs and not 
>>> each layer separately, but that's just what I remember and not 
>>> evidence based.
>>>
>>> You can enable them in the python console with
>>>
>>>     iface.mapCanvas().setPreviewJobsEnabled(True)
>>>
>>> and disable with
>>>
>>>     iface.mapCanvas().setPreviewJobsEnabled(False)
>>>
>>> Thanks for a feedback
>>>
>>> Matthias
>>>
>>>
>>> On 11/16/2017 08:42 AM, Patrick Dunford wrote:
>>>>
>>>> In my current project using Qgis 2.99, turning off the rasters uses 
>>>> 16 GB, turning them on uses 52 GB
>>>>
>>>> I do not believe it is independent from the number of layers that 
>>>> are being displayed.
>>>>
>>>> Previous versions of the software did not cache every single raster 
>>>> (the number of rasters actually being displayed on the canvas at 
>>>> any one time is a small fraction of the total number in the project)
>>>>
>>>> On 16/11/17 20:11, Matthias Kuhn wrote:
>>>>>
>>>>> Hi Patrick,
>>>>>
>>>>> This uses some memory (~ canvas width pixels * canvas height 
>>>>> pixels * 8 preview images * 32 bit RGBA), so let's assume 50 MB to 
>>>>> 100 MB.
>>>>>
>>>>> This consumption is independent from the number or type of layers.
>>>>>
>>>>> Matthias
>>>>>
>>>>>
>>>>> On 11/16/2017 08:02 AM, Patrick Dunford wrote:
>>>>>>
>>>>>> So to put it another way this is the reason why Qgis wants to use 
>>>>>> a huge amount of memory (40 GB) when I have a lot of raster 
>>>>>> images loaded in the background.
>>>>>>
>>>>>>
>>>>>> On 16/11/17 18:56, Tim Sutton wrote:
>>>>>>> Hi
>>>>>>>
>>>>>>>> On 16 Nov 2017, at 04:35, Patrick Dunford 
>>>>>>>> <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>> wrote:
>>>>>>>>
>>>>>>>> What is this "preview job" function?
>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>> Its application logic to prefetch / pre-render offscreen content 
>>>>>>> in anticipation of user panning the map.
>>>>>>>
>>>>>>> Regards
>>>>>>>
>>>>>>> Tim
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> QGIS-Developer mailing list
>>>>>>>> QGIS-Developer at lists.osgeo.org 
>>>>>>>> <mailto:QGIS-Developer at lists.osgeo.org>
>>>>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>> Unsubscribe: 
>>>>>>>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>
>>>>>>> —
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> *Tim Sutton*
>>>>>>>
>>>>>>> *Co-founder:*Kartoza
>>>>>>> *Project chair:*QGIS.org <http://QGIS.org>
>>>>>>>
>>>>>>> Visit http://kartoza.com <http://kartoza.com/> to find out about 
>>>>>>> open source:
>>>>>>>
>>>>>>> Desktop GIS programming services
>>>>>>> Geospatial web development
>>>>>>> GIS Training
>>>>>>> Consulting Services
>>>>>>>
>>>>>>> *Skype*: timlinux
>>>>>>> *IRC:*timlinux on #qgis at freenode.net <http://freenode.net>
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> QGIS-Developer mailing list
>>>>>> QGIS-Developer at lists.osgeo.org
>>>>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> QGIS-Developer mailing list
>>>>> QGIS-Developer at lists.osgeo.org
>>>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/fe9b2051/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/fe9b2051/attachment-0001.jpg>

From Steiger at cor-management.ch  Fri Nov 17 00:14:18 2017
From: Steiger at cor-management.ch (Stefan Steiger)
Date: Fri, 17 Nov 2017 08:14:18 +0000
Subject: [QGIS-Developer] QGIS-Server on Windows with IIS - missing
	methods in dlls
Message-ID: <454591AE08FDD64E8B82954659BC1BEA520C90ED@COR-EXCHANGE.cor.local>

Why not cygwin ? Because it doesn't produce Windows native executables ...

https://stackoverflow.com/questions/27678988/run-cygwin-built-exe-in-windows-without-cygwins-environment

Use MinGW + msys instead.

Strange that this still needs to be said in 2017.

This explains why qgis-server didn't run on my machine...





-----Ursprüngliche Nachricht-----

Von: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] Im Auftrag von Jürgen E. Fischer

Gesendet: Mittwoch, 15. November 2017 10:02

An: qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>

Betreff: Re: [QGIS-Developer] Merging raster-save dialog change and Windows workflow



Hi,



On Wed, 15. Nov 2017 at 01:02:48 +0000, Tisham Dhar wrote:

> 1)      Checkout as standard on windows with git-bash (line endings are an

>         issue). Will have to try a fresh clone in WLS to see what difference

>         it makes



Why not cygwin?  That's what I use and recommend.   WLS means WSL?





Jürgen



--

Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31

Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50

Software Engineer           D-26506 Norden             http://www.norbit.de

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/69acf337/attachment.html>

From madmanwoo at gmail.com  Fri Nov 17 00:49:55 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Fri, 17 Nov 2017 08:49:55 +0000
Subject: [QGIS-Developer] QGIS-Server on Windows with IIS - missing
 methods in dlls
In-Reply-To: <454591AE08FDD64E8B82954659BC1BEA520C90ED@COR-EXCHANGE.cor.local>
References: <454591AE08FDD64E8B82954659BC1BEA520C90ED@COR-EXCHANGE.cor.local>
Message-ID: <CAAi8Yg8=c9yigZUnA2onjxT0h8XiQnJRnng8QXwmKmkNT2C-oA@mail.gmail.com>

Stefan,

I think you are looking at the wrong thread. cgywin is just for running
shell scripts etc in Dev builds scripts.  We build with VS 2015

On Fri., 17 Nov. 2017, 19:22 Stefan Steiger, <Steiger at cor-management.ch>
wrote:

> Why not cygwin ? Because it doesn't produce Windows native executables ...
>
>
> https://stackoverflow.com/questions/27678988/run-cygwin-built-exe-in-windows-without-cygwins-environment
>
> Use MinGW + msys instead.
>
> Strange that this still needs to be said in 2017.
>
> This explains why qgis-server didn't run on my machine...
>
>
>
>
>
> -----Ursprüngliche Nachricht-----
>
> Von: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org
> <qgis-developer-bounces at lists.osgeo.org>] Im Auftrag von Jürgen E. Fischer
>
> Gesendet: Mittwoch, 15. November 2017 10:02
>
> An: qgis-developer at lists.osgeo.org
>
> Betreff: Re: [QGIS-Developer] Merging raster-save dialog change and
> Windows workflow
>
>
>
> Hi,
>
>
>
> On Wed, 15. Nov 2017 at 01:02:48 +0000, Tisham Dhar wrote:
>
> > 1)      Checkout as standard on windows with git-bash (line endings are
> an
>
> >         issue). Will have to try a fresh clone in WLS to see what
> difference
>
> >         it makes
>
>
>
> Why not cygwin?  That's what I use and recommend.   WLS means WSL?
>
>
>
>
>
> Jürgen
>
>
>
> --
>
> Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
>
> Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
>
> Software Engineer           D-26506 Norden
> http://www.norbit.de
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/22b8f8fd/attachment.html>

From apasotti at gmail.com  Fri Nov 17 00:56:12 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 17 Nov 2017 09:56:12 +0100
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <317b0348-16df-8c49-717a-93e528a0d74b@gmail.com>
References: <8444006.lOr4mHJqye@even-i700>
 <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>
 <240D3348-E0F6-43AC-8AAF-41371976ED71@kartoza.com>
 <b03982ea-9ee2-afda-1028-1c7b15e4b259@gmail.com>
 <fd114c85-85f9-66f9-7a19-71c1f1c7ffde@opengis.ch>
 <d3e155bc-3719-bab3-dfbe-bbc266dc67f3@gmail.com>
 <11d60899-1038-1229-b0a7-72d9d902c3e7@opengis.ch>
 <f5099a9c-4712-8abc-eb5c-87233b1172a5@gmail.com>
 <4bbbf4a0-5681-8cab-bb93-1874a9a758dc@opengis.ch>
 <317b0348-16df-8c49-717a-93e528a0d74b@gmail.com>
Message-ID: <CAL5Q670oX6DM3ZyaCo_pCp8mOen+aD1GGdC9RExsinKdBeK4+A@mail.gmail.com>

Maybe a crazy idea, but if this proves to be an issue, what about a
monitoring process that prompts the user to disable this feature when
memory goes over a certain threshold?

On Fri, Nov 17, 2017 at 8:21 AM, Patrick Dunford <enzedrailmaps at gmail.com>
wrote:

> Most of them are geoJpeg, there are a smaller number of geoTiff
>
> On 17/11/17 20:10, Matthias Kuhn wrote:
>
> Thanks, that's an interesting information.
>
> What datatype are your rasters?
>
> On 11/17/2017 03:53 AM, Patrick Dunford wrote:
>
> With the second command
>
> iface.mapCanvas().setPreviewJobsEnabled(False)
>
> when I run that command it drops back to 16 GB
>
> On 16/11/17 23:15, Matthias Kuhn wrote:
>
> Hi Patrick,
>
> Would be interesting to do this test with previews enabled and disabled.
> Then we'll see if it's actually the previews or some other mechanism that
> is causing this.
>
> IIRC only a composite image is saved in the preview jobs and not each
> layer separately, but that's just what I remember and not evidence based.
>
> You can enable them in the python console with
>
>     iface.mapCanvas().setPreviewJobsEnabled(True)
>
> and disable with
>
>     iface.mapCanvas().setPreviewJobsEnabled(False)
>
> Thanks for a feedback
>
> Matthias
>
> On 11/16/2017 08:42 AM, Patrick Dunford wrote:
>
> In my current project using Qgis 2.99, turning off the rasters uses 16 GB,
> turning them on uses 52 GB
>
> I do not believe it is independent from the number of layers that are
> being displayed.
>
> Previous versions of the software did not cache every single raster (the
> number of rasters actually being displayed on the canvas at any one time is
> a small fraction of the total number in the project)
> On 16/11/17 20:11, Matthias Kuhn wrote:
>
> Hi Patrick,
>
> This uses some memory (~ canvas width pixels * canvas height pixels * 8
> preview images * 32 bit RGBA), so let's assume 50 MB to 100 MB.
>
> This consumption is independent from the number or type of layers.
>
> Matthias
>
> On 11/16/2017 08:02 AM, Patrick Dunford wrote:
>
> So to put it another way this is the reason why Qgis wants to use a huge
> amount of memory (40 GB) when I have a lot of raster images loaded in the
> background.
>
> On 16/11/17 18:56, Tim Sutton wrote:
>
> Hi
>
> On 16 Nov 2017, at 04:35, Patrick Dunford <enzedrailmaps at gmail.com> wrote:
>
> What is this "preview job" function?
>
>
> Its application logic to prefetch / pre-render offscreen content in
> anticipation of user panning the map.
>
> Regards
>
> Tim
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> —
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/f90b9154/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/f90b9154/attachment-0001.jpg>

From enzedrailmaps at gmail.com  Fri Nov 17 02:14:19 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Fri, 17 Nov 2017 23:14:19 +1300
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <CAL5Q670oX6DM3ZyaCo_pCp8mOen+aD1GGdC9RExsinKdBeK4+A@mail.gmail.com>
References: <8444006.lOr4mHJqye@even-i700>
 <ff0b127d-4cf2-3060-b624-3be24840a214@gmail.com>
 <240D3348-E0F6-43AC-8AAF-41371976ED71@kartoza.com>
 <b03982ea-9ee2-afda-1028-1c7b15e4b259@gmail.com>
 <fd114c85-85f9-66f9-7a19-71c1f1c7ffde@opengis.ch>
 <d3e155bc-3719-bab3-dfbe-bbc266dc67f3@gmail.com>
 <11d60899-1038-1229-b0a7-72d9d902c3e7@opengis.ch>
 <f5099a9c-4712-8abc-eb5c-87233b1172a5@gmail.com>
 <4bbbf4a0-5681-8cab-bb93-1874a9a758dc@opengis.ch>
 <317b0348-16df-8c49-717a-93e528a0d74b@gmail.com>
 <CAL5Q670oX6DM3ZyaCo_pCp8mOen+aD1GGdC9RExsinKdBeK4+A@mail.gmail.com>
Message-ID: <5bc854aa-3507-8d55-6f23-6b399fb2669c@gmail.com>

I understand (especially with the other comments about the functionality 
and having to wait for images to be retrieved from servers) what you 
guys are trying to achieve with this feature, but in my project the 
rasters I have loaded cover hundreds of square kilometres, and Qgis 
caches all of them, regardless of how far they are from the particular 
point where I am working on a map.

On 17/11/17 21:56, Alessandro Pasotti wrote:
>
> Maybe a crazy idea, but if this proves to be an issue, what about a 
> monitoring process that prompts the user to disable this feature when 
> memory goes over a certain threshold?
>
> On Fri, Nov 17, 2017 at 8:21 AM, Patrick Dunford 
> <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>> wrote:
>
>     Most of them are geoJpeg, there are a smaller number of geoTiff
>
>
>     On 17/11/17 20:10, Matthias Kuhn wrote:
>>
>>     Thanks, that's an interesting information.
>>
>>     What datatype are your rasters?
>>
>>
>>     On 11/17/2017 03:53 AM, Patrick Dunford wrote:
>>>
>>>     With the second command
>>>
>>>     iface.mapCanvas().setPreviewJobsEnabled(False)
>>>
>>>     when I run that command it drops back to 16 GB
>>>
>>>
>>>     On 16/11/17 23:15, Matthias Kuhn wrote:
>>>>
>>>>     Hi Patrick,
>>>>
>>>>     Would be interesting to do this test with previews enabled and
>>>>     disabled. Then we'll see if it's actually the previews or some
>>>>     other mechanism that is causing this.
>>>>
>>>>     IIRC only a composite image is saved in the preview jobs and
>>>>     not each layer separately, but that's just what I remember and
>>>>     not evidence based.
>>>>
>>>>     You can enable them in the python console with
>>>>
>>>>         iface.mapCanvas().setPreviewJobsEnabled(True)
>>>>
>>>>     and disable with
>>>>
>>>>         iface.mapCanvas().setPreviewJobsEnabled(False)
>>>>
>>>>     Thanks for a feedback
>>>>
>>>>     Matthias
>>>>
>>>>
>>>>     On 11/16/2017 08:42 AM, Patrick Dunford wrote:
>>>>>
>>>>>     In my current project using Qgis 2.99, turning off the rasters
>>>>>     uses 16 GB, turning them on uses 52 GB
>>>>>
>>>>>     I do not believe it is independent from the number of layers
>>>>>     that are being displayed.
>>>>>
>>>>>     Previous versions of the software did not cache every single
>>>>>     raster (the number of rasters actually being displayed on the
>>>>>     canvas at any one time is a small fraction of the total number
>>>>>     in the project)
>>>>>
>>>>>     On 16/11/17 20:11, Matthias Kuhn wrote:
>>>>>>
>>>>>>     Hi Patrick,
>>>>>>
>>>>>>     This uses some memory (~ canvas width pixels * canvas height
>>>>>>     pixels * 8 preview images * 32 bit RGBA), so let's assume 50
>>>>>>     MB to 100 MB.
>>>>>>
>>>>>>     This consumption is independent from the number or type of
>>>>>>     layers.
>>>>>>
>>>>>>     Matthias
>>>>>>
>>>>>>
>>>>>>     On 11/16/2017 08:02 AM, Patrick Dunford wrote:
>>>>>>>
>>>>>>>     So to put it another way this is the reason why Qgis wants
>>>>>>>     to use a huge amount of memory (40 GB) when I have a lot of
>>>>>>>     raster images loaded in the background.
>>>>>>>
>>>>>>>
>>>>>>>     On 16/11/17 18:56, Tim Sutton wrote:
>>>>>>>>     Hi
>>>>>>>>
>>>>>>>>>     On 16 Nov 2017, at 04:35, Patrick Dunford
>>>>>>>>>     <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>>
>>>>>>>>>     wrote:
>>>>>>>>>
>>>>>>>>>     What is this "preview job" function?
>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>>     Its application logic to prefetch / pre-render offscreen
>>>>>>>>     content in anticipation of user panning the map.
>>>>>>>>
>>>>>>>>     Regards
>>>>>>>>
>>>>>>>>     Tim
>>>>>>>>>
>>>>>>>>>     _______________________________________________
>>>>>>>>>     QGIS-Developer mailing list
>>>>>>>>>     QGIS-Developer at lists.osgeo.org
>>>>>>>>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>>>>>>>>     List info:
>>>>>>>>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>>>>>>     Unsubscribe:
>>>>>>>>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>>>>>
>>>>>>>>     —
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>     *Tim Sutton*
>>>>>>>>
>>>>>>>>     *Co-founder:*Kartoza
>>>>>>>>     *Project chair:*QGIS.org <http://QGIS.org>
>>>>>>>>
>>>>>>>>     Visit http://kartoza.com <http://kartoza.com/> to find out
>>>>>>>>     about open source:
>>>>>>>>
>>>>>>>>     Desktop GIS programming services
>>>>>>>>     Geospatial web development
>>>>>>>>     GIS Training
>>>>>>>>     Consulting Services
>>>>>>>>
>>>>>>>>     *Skype*: timlinux
>>>>>>>>     *IRC:*timlinux on #qgis at freenode.net <http://freenode.net>
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>     _______________________________________________
>>>>>>>     QGIS-Developer mailing list
>>>>>>>     QGIS-Developer at lists.osgeo.org
>>>>>>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>>>>>>     List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>>>>     Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>>>
>>>>>>
>>>>>>
>>>>>>     _______________________________________________
>>>>>>     QGIS-Developer mailing list
>>>>>>     QGIS-Developer at lists.osgeo.org
>>>>>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>>>>>     List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>>>     Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>>
>>>>>
>>>>>
>>>>>     _______________________________________________
>>>>>     QGIS-Developer mailing list
>>>>>     QGIS-Developer at lists.osgeo.org
>>>>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>>>>     List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>>     Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>
>>>>
>>>>
>>>>     _______________________________________________
>>>>     QGIS-Developer mailing list
>>>>     QGIS-Developer at lists.osgeo.org
>>>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>>>     List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>     Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>
>>>
>>>
>>>     _______________________________________________
>>>     QGIS-Developer mailing list
>>>     QGIS-Developer at lists.osgeo.org
>>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>>     List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>     Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>
>>
>>
>>     _______________________________________________
>>     QGIS-Developer mailing list
>>     QGIS-Developer at lists.osgeo.org
>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>     List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>     Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>
>
> -- 
> Alessandro Pasotti
> w3: www.itopen.it <http://www.itopen.it>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/641e3b49/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/641e3b49/attachment-0001.jpg>

From even.rouault at spatialys.com  Fri Nov 17 02:38:00 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 17 Nov 2017 11:38:00 +0100
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <5bc854aa-3507-8d55-6f23-6b399fb2669c@gmail.com>
References: <8444006.lOr4mHJqye@even-i700>
 <CAL5Q670oX6DM3ZyaCo_pCp8mOen+aD1GGdC9RExsinKdBeK4+A@mail.gmail.com>
 <5bc854aa-3507-8d55-6f23-6b399fb2669c@gmail.com>
Message-ID: <1992065.4xCVGPVD3v@even-i700>

On vendredi 17 novembre 2017 23:14:19 CET Patrick Dunford wrote:
> I understand (especially with the other comments about the functionality
> and having to wait for images to be retrieved from servers) what you
> guys are trying to achieve with this feature, but in my project the
> rasters I have loaded cover hundreds of square kilometres, and Qgis
> caches all of them, regardless of how far they are from the particular
> point where I am working on a map.
> 

If your rasters are in the same projection and same resolution, did you consider building a 
virtual .VRT catalog from them ? (or group them in catalogs per projection and resolution). 
That could reduce the number of layers.

> On 17/11/17 21:56, Alessandro Pasotti wrote:
> > Maybe a crazy idea, but if this proves to be an issue, what about a
> > monitoring process that prompts the user to disable this feature when
> > memory goes over a certain threshold?
> > 
> > On Fri, Nov 17, 2017 at 8:21 AM, Patrick Dunford
> > 
> > <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>> wrote:
> >     Most of them are geoJpeg, there are a smaller number of geoTiff
> >     
> >     On 17/11/17 20:10, Matthias Kuhn wrote:
> >>     Thanks, that's an interesting information.
> >>     
> >>     What datatype are your rasters?
> >>     
> >>     On 11/17/2017 03:53 AM, Patrick Dunford wrote:
> >>>     With the second command
> >>>     
> >>>     iface.mapCanvas().setPreviewJobsEnabled(False)
> >>>     
> >>>     when I run that command it drops back to 16 GB
> >>>     
> >>>     On 16/11/17 23:15, Matthias Kuhn wrote:
> >>>>     Hi Patrick,
> >>>>     
> >>>>     Would be interesting to do this test with previews enabled and
> >>>>     disabled. Then we'll see if it's actually the previews or some
> >>>>     other mechanism that is causing this.
> >>>>     
> >>>>     IIRC only a composite image is saved in the preview jobs and
> >>>>     not each layer separately, but that's just what I remember and
> >>>>     not evidence based.
> >>>>     
> >>>>     You can enable them in the python console with
> >>>>     
> >>>>         iface.mapCanvas().setPreviewJobsEnabled(True)
> >>>>     
> >>>>     and disable with
> >>>>     
> >>>>         iface.mapCanvas().setPreviewJobsEnabled(False)
> >>>>     
> >>>>     Thanks for a feedback
> >>>>     
> >>>>     Matthias
> >>>>     
> >>>>     On 11/16/2017 08:42 AM, Patrick Dunford wrote:
> >>>>>     In my current project using Qgis 2.99, turning off the rasters
> >>>>>     uses 16 GB, turning them on uses 52 GB
> >>>>>     
> >>>>>     I do not believe it is independent from the number of layers
> >>>>>     that are being displayed.
> >>>>>     
> >>>>>     Previous versions of the software did not cache every single
> >>>>>     raster (the number of rasters actually being displayed on the
> >>>>>     canvas at any one time is a small fraction of the total number
> >>>>>     in the project)
> >>>>>     
> >>>>>     On 16/11/17 20:11, Matthias Kuhn wrote:
> >>>>>>     Hi Patrick,
> >>>>>>     
> >>>>>>     This uses some memory (~ canvas width pixels * canvas height
> >>>>>>     pixels * 8 preview images * 32 bit RGBA), so let's assume 50
> >>>>>>     MB to 100 MB.
> >>>>>>     
> >>>>>>     This consumption is independent from the number or type of
> >>>>>>     layers.
> >>>>>>     
> >>>>>>     Matthias
> >>>>>>     
> >>>>>>     On 11/16/2017 08:02 AM, Patrick Dunford wrote:
> >>>>>>>     So to put it another way this is the reason why Qgis wants
> >>>>>>>     to use a huge amount of memory (40 GB) when I have a lot of
> >>>>>>>     raster images loaded in the background.
> >>>>>>>     
> >>>>>>>     On 16/11/17 18:56, Tim Sutton wrote:
> >>>>>>>>     Hi
> >>>>>>>>     
> >>>>>>>>>     On 16 Nov 2017, at 04:35, Patrick Dunford
> >>>>>>>>>     <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>>
> >>>>>>>>>     wrote:
> >>>>>>>>>     
> >>>>>>>>>     What is this "preview job" function?
> >>>>>>>>     
> >>>>>>>>     Its application logic to prefetch / pre-render offscreen
> >>>>>>>>     content in anticipation of user panning the map.
> >>>>>>>>     
> >>>>>>>>     Regards
> >>>>>>>>     
> >>>>>>>>     Tim
> >>>>>>>>     
> >>>>>>>>>     _______________________________________________
> >>>>>>>>>     QGIS-Developer mailing list
> >>>>>>>>>     QGIS-Developer at lists.osgeo.org
> >>>>>>>>>     <mailto:QGIS-Developer at lists.osgeo.org>
> >>>>>>>>>     List info:
> >>>>>>>>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>>>>>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >>>>>>>>>     Unsubscribe:
> >>>>>>>>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>>>>>>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >>>>>>>>     
> >>>>>>>>     —
> >>>>>>>>     
> >>>>>>>>     
> >>>>>>>>     
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/6e6feee6/attachment-0001.html>

From adenaculture at gmail.com  Fri Nov 17 09:02:23 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Fri, 17 Nov 2017 12:02:23 -0500
Subject: [QGIS-Developer] How to call add feature attributes dialog from a
	plugin
Message-ID: <CABPxTTp6u1A10DKy_hNACdR8wCMg6AHL76CFMbDDhAYR=c1Tng@mail.gmail.com>

When a points vector layer is enabled for editing, and the "Add Feature"
tool is selected, when you click on the map you get a popup dialog ("Points
- Feature Attributes") that allows you to enter the vector layer attributes.

Is it possible to programmatically access this dialog from a plugin that is
going to add a point to the map, but would like an attribute dialog to pop
up for entering the attributes? I would rather make use of the existing
function and not reinvent it.

Is there a difference between these two functions when adding a feature to
a vector layer other than the first adds a single feature and the second
can add multiple features?

layer.addFeature(feature)
layer.dataProvider().addFeatures([feature])


Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/12c52b6f/attachment.html>

From matthias at opengis.ch  Fri Nov 17 11:45:59 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 17 Nov 2017 20:45:59 +0100
Subject: [QGIS-Developer] Qt4 Designer - custom widgets - Manjaro
In-Reply-To: <CAHb8XexovOppqi_8LuzUSu510FLAEfG+LY0niFPHPDv-1Q445Q@mail.gmail.com>
References: <CAHb8XexovOppqi_8LuzUSu510FLAEfG+LY0niFPHPDv-1Q445Q@mail.gmail.com>
Message-ID: <b0bb53b0-0e99-8876-78f0-698120df83d8@opengis.ch>

Hi Anjo,

Designer plugins need to be installed to the proper location, which
unfortunately isn't always straightforward and to my knowledge needs to
be manually configured by packagers.

The important thing is, that the libqgis_customwidgets.so file is in the
location where QtDesigner looks for it. On my computer (Fedora Linux)
this is /lib64/qt4/plugins/designer/libqgis_customwidgets.so.

I hope that helps

Matthias


On 11/16/2017 04:21 PM, Anjo Weichbrodt wrote:
> Hi everyone,
>
> I am trying to work with the Qgs custom-widgets in Qt4 Designer. I am
> running Manjaro on kernel 4.14.
> So far I tried to install QGIS 2.18 from the AUR compiling it with the
> option -WITH_CUSTOM_WIDGETS=TRUE.
>
> No custom widgets appeared after that in QT4 designer.
>
> Thanks for your help,
> Anjo
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171117/5852e6e3/attachment.html>

From senhor.neto at gmail.com  Fri Nov 17 16:10:06 2017
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Sat, 18 Nov 2017 00:10:06 +0000
Subject: [QGIS-Developer] How to call add feature attributes dialog from
	a plugin
In-Reply-To: <CABPxTTp6u1A10DKy_hNACdR8wCMg6AHL76CFMbDDhAYR=c1Tng@mail.gmail.com>
References: <CABPxTTp6u1A10DKy_hNACdR8wCMg6AHL76CFMbDDhAYR=c1Tng@mail.gmail.com>
Message-ID: <CA+H0G_H2Xev0sqVazrdbXgvvvL7JsWYLyuQ65QixjomRPak_dQ@mail.gmail.com>

openFeatureForm() is what you are looking for:

http://doc.qgis.org/api/2.18/classQgisInterface.html#a11b90f38afd09ac5e9f363933ee4a509

C Hamilton <adenaculture at gmail.com> escreveu no dia sexta, 17/11/2017 às
17:02:

> When a points vector layer is enabled for editing, and the "Add Feature"
> tool is selected, when you click on the map you get a popup dialog ("Points
> - Feature Attributes") that allows you to enter the vector layer attributes.
>
> Is it possible to programmatically access this dialog from a plugin that
> is going to add a point to the map, but would like an attribute dialog to
> pop up for entering the attributes? I would rather make use of the existing
> function and not reinvent it.
>
> Is there a difference between these two functions when adding a feature to
> a vector layer other than the first adds a single feature and the second
> can add multiple features?
>
> layer.addFeature(feature)
> layer.dataProvider().addFeatures([feature])
>
>
> Thanks,
>
> Calvin
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Alexandre Neto
---------------------
@AlexNetoGeo
http://sigsemgrilhetas.wordpress.com
http://gisunchained.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171118/79b39cd4/attachment.html>

From apasotti at gmail.com  Sun Nov 19 01:34:16 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sun, 19 Nov 2017 10:34:16 +0100
Subject: [QGIS-Developer] QGIS Server plugins and thread safety
Message-ID: <CAL5Q670K05S5vRbOeVv6asKq=13oUyNJ6vP2SYd-QiFHr6x4kw@mail.gmail.com>

Hi,

mi recent experiments with multi-threaded python wrappers for QGIS server
showed a critical flaw in my original implementation of the server plugins.

First, I want to stress that this is not a problem in FCGI server
implementation but only if the server is used directly from python in a
multi threaded server implementation.

The problem is that the server interface that exposes the request handler
is a static property of the interface, that is changed on every request.
This means that there is a race condition in setting/accessing the handler
from a plugin filter, and that a plugin filter might access to the handler
for a wrong request.

The solution is to pass the request handler (or the request and/or response
objects depending on the filter) to the plugin filters and leave the
interface for static properties only.

This would be a big API change for the server interface and filters and I'm
not sure we have time/resources to do that now.

As an alternative we could simply document the issue and change the testing
code to create a new server instance to server every request (to be
verified, and with consitent performance degradation).

What's your opinion about this issue?

BTW,  tomorrow I'll file a ticket for this problem.

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171119/ab99410f/attachment.html>

From luipir at gmail.com  Sun Nov 19 02:26:22 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Sun, 19 Nov 2017 11:26:22 +0100
Subject: [QGIS-Developer] QGIS Server plugins and thread safety
In-Reply-To: <CAL5Q670K05S5vRbOeVv6asKq=13oUyNJ6vP2SYd-QiFHr6x4kw@mail.gmail.com>
References: <CAL5Q670K05S5vRbOeVv6asKq=13oUyNJ6vP2SYd-QiFHr6x4kw@mail.gmail.com>
Message-ID: <CAFO80_oBNfFypbyL+Df1xJi_FfXe-TEbt7xMrnEhrfBxXswF-w@mail.gmail.com>

I didn't follow, shared cache is a solved problem for the server?
Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 19 November 2017 at 10:34, Alessandro Pasotti <apasotti at gmail.com> wrote:
> Hi,
>
> mi recent experiments with multi-threaded python wrappers for QGIS server
> showed a critical flaw in my original implementation of the server plugins.
>
> First, I want to stress that this is not a problem in FCGI server
> implementation but only if the server is used directly from python in a
> multi threaded server implementation.
>
> The problem is that the server interface that exposes the request handler is
> a static property of the interface, that is changed on every request.
> This means that there is a race condition in setting/accessing the handler
> from a plugin filter, and that a plugin filter might access to the handler
> for a wrong request.
>
> The solution is to pass the request handler (or the request and/or response
> objects depending on the filter) to the plugin filters and leave the
> interface for static properties only.
>
> This would be a big API change for the server interface and filters and I'm
> not sure we have time/resources to do that now.
>
> As an alternative we could simply document the issue and change the testing
> code to create a new server instance to server every request (to be
> verified, and with consitent performance degradation).
>
> What's your opinion about this issue?
>
> BTW,  tomorrow I'll file a ticket for this problem.
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From apasotti at gmail.com  Sun Nov 19 07:58:38 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sun, 19 Nov 2017 16:58:38 +0100
Subject: [QGIS-Developer] QGIS Server plugins and thread safety
In-Reply-To: <CAL5Q670K05S5vRbOeVv6asKq=13oUyNJ6vP2SYd-QiFHr6x4kw@mail.gmail.com>
References: <CAL5Q670K05S5vRbOeVv6asKq=13oUyNJ6vP2SYd-QiFHr6x4kw@mail.gmail.com>
Message-ID: <CAL5Q671vuvXZJ4scYWM_7Jo82D+hpAV5-n1yM2oJBpQ9E1Hz6w@mail.gmail.com>

Maybe I've found a simple and effective no-API-break solution: I'm working
on a QThreadStorage based implementation of the server iface request
handler that might be the simplest solution to this issue.

Btw this is only one of the most obvious issues in the server thread
safety, there are certainly more areas that need to be checked before we
can say that QgsServer class it thread-safe.

Happy sunday :)



On Sun, Nov 19, 2017 at 10:34 AM, Alessandro Pasotti <apasotti at gmail.com>
wrote:

> Hi,
>
> mi recent experiments with multi-threaded python wrappers for QGIS server
> showed a critical flaw in my original implementation of the server plugins.
>
> First, I want to stress that this is not a problem in FCGI server
> implementation but only if the server is used directly from python in a
> multi threaded server implementation.
>
> The problem is that the server interface that exposes the request handler
> is a static property of the interface, that is changed on every request.
> This means that there is a race condition in setting/accessing the handler
> from a plugin filter, and that a plugin filter might access to the handler
> for a wrong request.
>
> The solution is to pass the request handler (or the request and/or
> response objects depending on the filter) to the plugin filters and leave
> the interface for static properties only.
>
> This would be a big API change for the server interface and filters and
> I'm not sure we have time/resources to do that now.
>
> As an alternative we could simply document the issue and change the
> testing code to create a new server instance to server every request (to be
> verified, and with consitent performance degradation).
>
> What's your opinion about this issue?
>
> BTW,  tomorrow I'll file a ticket for this problem.
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171119/f8c28702/attachment.html>

From anjo.weichbrodt at gmail.com  Sun Nov 19 08:00:22 2017
From: anjo.weichbrodt at gmail.com (anjo.weichbrodt)
Date: Sun, 19 Nov 2017 09:00:22 -0700 (MST)
Subject: [QGIS-Developer] Qt4 Designer - custom widgets - Manjaro
In-Reply-To: <b0bb53b0-0e99-8876-78f0-698120df83d8@opengis.ch>
References: <CAHb8XexovOppqi_8LuzUSu510FLAEfG+LY0niFPHPDv-1Q445Q@mail.gmail.com>
 <b0bb53b0-0e99-8876-78f0-698120df83d8@opengis.ch>
Message-ID: <1511107222761-0.post@n6.nabble.com>

Hi Matthias,

libqgis_customwidgets.so seems to be in the right location.

[anjo at anjo-pc ~]$ cd  /lib64/qt4/plugins/designer/
[anjo at anjo-pc designer]$ ls
libpyqt4.so                       libqt3supportwidgets.so
libqdeclarativeview.so            libqwebview.so
libqgis_customwidgets.so          libqwt_designer_plugin.so
libqgis_customwidgets.so.2.18.14  libqwt_polar_designer_plugin.so
libqscintillaplugin.so

Other suggestions?
Thanks,
Anjo



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From dmarteau at 3liz.com  Sun Nov 19 08:36:48 2017
From: dmarteau at 3liz.com (David Marteau)
Date: Sun, 19 Nov 2017 17:36:48 +0100
Subject: [QGIS-Developer] QGIS Server plugins and thread safety
In-Reply-To: <CAL5Q670K05S5vRbOeVv6asKq=13oUyNJ6vP2SYd-QiFHr6x4kw@mail.gmail.com>
References: <CAL5Q670K05S5vRbOeVv6asKq=13oUyNJ6vP2SYd-QiFHr6x4kw@mail.gmail.com>
Message-ID: <C0DAD266-22B6-4FC8-9B7D-088255B855B6@3liz.com>

Hi,

IMHO, The multi process approach has to be preferred over  multi-threading

Some thought about it:

Forking sever instance for each request is imho a bad idea as it is not scalable and defeat resource  control.

I think that it is not a problem  by itself to consider the server engine as single worker process:  there is numerous cases where it is much better handled using appropriates tools:

- Use supervisor with fcgi prefork to handle a pool of server (not sure is is appropriate here)
- Embed the server in a asynchronous framework (like tornado, or python 3 asyncio) and use multiprocessing to handle your server workers.
- Embed as wsgi  application and use gunicorn mumérous options to handle requests queues and the number workers.
…


David. 


IMHO this can be handled in much better way with other tools:

> Le 19 nov. 2017 à 10:34, Alessandro Pasotti <apasotti at gmail.com> a écrit :
> 
> Hi,
> 
> mi recent experiments with multi-threaded python wrappers for QGIS server showed a critical flaw in my original implementation of the server plugins.
> 
> First, I want to stress that this is not a problem in FCGI server implementation but only if the server is used directly from python in a multi threaded server implementation.
> 
> The problem is that the server interface that exposes the request handler is a static property of the interface, that is changed on every request.
> This means that there is a race condition in setting/accessing the handler from a plugin filter, and that a plugin filter might access to the handler for a wrong request.
> 
> The solution is to pass the request handler (or the request and/or response objects depending on the filter) to the plugin filters and leave the interface for static properties only.
> 
> This would be a big API change for the server interface and filters and I'm not sure we have time/resources to do that now.
> 
> As an alternative we could simply document the issue and change the testing code to create a new server instance to server every request (to be verified, and with consitent performance degradation).
> 
> What's your opinion about this issue?
> 
> BTW,  tomorrow I'll file a ticket for this problem.
> 
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it <http://www.itopen.it/>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171119/4f8bd6a9/attachment-0001.html>

From wonder.sk at gmail.com  Sun Nov 19 08:39:02 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun, 19 Nov 2017 17:39:02 +0100
Subject: [QGIS-Developer] QGIS Server plugins and thread safety
In-Reply-To: <CAL5Q670K05S5vRbOeVv6asKq=13oUyNJ6vP2SYd-QiFHr6x4kw@mail.gmail.com>
References: <CAL5Q670K05S5vRbOeVv6asKq=13oUyNJ6vP2SYd-QiFHr6x4kw@mail.gmail.com>
Message-ID: <CAC2XbFe_SEQf7TB6URWLVfP+RwEVs2LvduXi=hX557hEaCz-iA@mail.gmail.com>

Hi Alessandro

On Sun, Nov 19, 2017 at 10:34 AM, Alessandro Pasotti <apasotti at gmail.com> wrote:
> Hi,
>
> mi recent experiments with multi-threaded python wrappers for QGIS server
> showed a critical flaw in my original implementation of the server plugins.
>
> First, I want to stress that this is not a problem in FCGI server
> implementation but only if the server is used directly from python in a
> multi threaded server implementation.
>
> The problem is that the server interface that exposes the request handler is
> a static property of the interface, that is changed on every request.
> This means that there is a race condition in setting/accessing the handler
> from a plugin filter, and that a plugin filter might access to the handler
> for a wrong request.

I think this is probably just the tip of the iceberg: most of the
classes in qgis_core are not thread-safe, and I believe the
implementation of server's services is not expected to be run in
multiple threads at once either. So even though things in theory could
work if requests are handled in multiple threads, most likely there
will be crashes. Even though map rendering was made to run safe in
multiple worker threads, there is still the assumption that the map
rendering is started from the main thread where all the objects live
(I'm talking about the QObject-based classes). Dealing with objects
like map layers or project in non-main thread is likely to end up
badly.

I would say for now we should simply stick with handling only one
request per server process at a time - just like how it is done with
the FastCGI implementation.

Cheers
Martin

From denis.rouzaud at gmail.com  Sun Nov 19 09:41:57 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Sun, 19 Nov 2017 17:41:57 +0000
Subject: [QGIS-Developer] Qt4 Designer - custom widgets - Manjaro
In-Reply-To: <1511107222761-0.post@n6.nabble.com>
References: <CAHb8XexovOppqi_8LuzUSu510FLAEfG+LY0niFPHPDv-1Q445Q@mail.gmail.com>
 <b0bb53b0-0e99-8876-78f0-698120df83d8@opengis.ch>
 <1511107222761-0.post@n6.nabble.com>
Message-ID: <CAMtsY+a6g+AaLTDYbgE4C4YtZ3GoSM-hx2stWPx-i-02VNMqfw@mail.gmail.com>

Hi Anjo,
Can you look in the about menu, there is a plugin entry, see if qgis custom
widgets are listed there as broken.
If so, can you try
ldd   /lib64/qt4/plugins/designerlibqgis_customwidgets.so

Cheers
Denis

Le dim. 19 nov. 2017 à 12:00, anjo.weichbrodt <anjo.weichbrodt at gmail.com> a
écrit :

> Hi Matthias,
>
> libqgis_customwidgets.so seems to be in the right location.
>
> [anjo at anjo-pc ~]$ cd  /lib64/qt4/plugins/designer/
> [anjo at anjo-pc designer]$ ls
> libpyqt4.so                       libqt3supportwidgets.so
> libqdeclarativeview.so            libqwebview.so
> libqgis_customwidgets.so          libqwt_designer_plugin.so
> libqgis_customwidgets.so.2.18.14  libqwt_polar_designer_plugin.so
> libqscintillaplugin.so
>
> Other suggestions?
> Thanks,
> Anjo
>
>
>
> --
> Sent from:
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171119/3d86ef16/attachment.html>

From enzedrailmaps at gmail.com  Sun Nov 19 12:44:25 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Mon, 20 Nov 2017 09:44:25 +1300
Subject: [QGIS-Developer] Preview job and slow datasources
In-Reply-To: <1992065.4xCVGPVD3v@even-i700>
References: <8444006.lOr4mHJqye@even-i700>
 <CAL5Q670oX6DM3ZyaCo_pCp8mOen+aD1GGdC9RExsinKdBeK4+A@mail.gmail.com>
 <5bc854aa-3507-8d55-6f23-6b399fb2669c@gmail.com>
 <1992065.4xCVGPVD3v@even-i700>
Message-ID: <f9e4efc7-323c-85c5-1078-8f8d23b94438@gmail.com>

I heard these suggestions, but my project has a very short life, so I 
haven't got the time to experiment really.


On 17/11/17 23:38, Even Rouault wrote:
>
> On vendredi 17 novembre 2017 23:14:19 CET Patrick Dunford wrote:
>
> > I understand (especially with the other comments about the functionality
>
> > and having to wait for images to be retrieved from servers) what you
>
> > guys are trying to achieve with this feature, but in my project the
>
> > rasters I have loaded cover hundreds of square kilometres, and Qgis
>
> > caches all of them, regardless of how far they are from the particular
>
> > point where I am working on a map.
>
> >
>
> If your rasters are in the same projection and same resolution, did 
> you consider building a virtual .VRT catalog from them ? (or group 
> them in catalogs per projection and resolution). That could reduce the 
> number of layers.
>
> > On 17/11/17 21:56, Alessandro Pasotti wrote:
>
> > > Maybe a crazy idea, but if this proves to be an issue, what about a
>
> > > monitoring process that prompts the user to disable this feature when
>
> > > memory goes over a certain threshold?
>
> > >
>
> > > On Fri, Nov 17, 2017 at 8:21 AM, Patrick Dunford
>
> > >
>
> > > <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>> wrote:
>
> > > Most of them are geoJpeg, there are a smaller number of geoTiff
>
> > >
>
> > > On 17/11/17 20:10, Matthias Kuhn wrote:
>
> > >> Thanks, that's an interesting information.
>
> > >>
>
> > >> What datatype are your rasters?
>
> > >>
>
> > >> On 11/17/2017 03:53 AM, Patrick Dunford wrote:
>
> > >>> With the second command
>
> > >>>
>
> > >>> iface.mapCanvas().setPreviewJobsEnabled(False)
>
> > >>>
>
> > >>> when I run that command it drops back to 16 GB
>
> > >>>
>
> > >>> On 16/11/17 23:15, Matthias Kuhn wrote:
>
> > >>>> Hi Patrick,
>
> > >>>>
>
> > >>>> Would be interesting to do this test with previews enabled and
>
> > >>>> disabled. Then we'll see if it's actually the previews or some
>
> > >>>> other mechanism that is causing this.
>
> > >>>>
>
> > >>>> IIRC only a composite image is saved in the preview jobs and
>
> > >>>> not each layer separately, but that's just what I remember and
>
> > >>>> not evidence based.
>
> > >>>>
>
> > >>>> You can enable them in the python console with
>
> > >>>>
>
> > >>>>     iface.mapCanvas().setPreviewJobsEnabled(True)
>
> > >>>>
>
> > >>>> and disable with
>
> > >>>>
>
> > >>>>     iface.mapCanvas().setPreviewJobsEnabled(False)
>
> > >>>>
>
> > >>>> Thanks for a feedback
>
> > >>>>
>
> > >>>> Matthias
>
> > >>>>
>
> > >>>> On 11/16/2017 08:42 AM, Patrick Dunford wrote:
>
> > >>>>> In my current project using Qgis 2.99, turning off the rasters
>
> > >>>>> uses 16 GB, turning them on uses 52 GB
>
> > >>>>>
>
> > >>>>> I do not believe it is independent from the number of layers
>
> > >>>>> that are being displayed.
>
> > >>>>>
>
> > >>>>> Previous versions of the software did not cache every single
>
> > >>>>> raster (the number of rasters actually being displayed on the
>
> > >>>>> canvas at any one time is a small fraction of the total number
>
> > >>>>> in the project)
>
> > >>>>>
>
> > >>>>> On 16/11/17 20:11, Matthias Kuhn wrote:
>
> > >>>>>> Hi Patrick,
>
> > >>>>>>
>
> > >>>>>> This uses some memory (~ canvas width pixels * canvas height
>
> > >>>>>> pixels * 8 preview images * 32 bit RGBA), so let's assume 50
>
> > >>>>>> MB to 100 MB.
>
> > >>>>>>
>
> > >>>>>> This consumption is independent from the number or type of
>
> > >>>>>> layers.
>
> > >>>>>>
>
> > >>>>>> Matthias
>
> > >>>>>>
>
> > >>>>>> On 11/16/2017 08:02 AM, Patrick Dunford wrote:
>
> > >>>>>>> So to put it another way this is the reason why Qgis wants
>
> > >>>>>>> to use a huge amount of memory (40 GB) when I have a lot of
>
> > >>>>>>> raster images loaded in the background.
>
> > >>>>>>>
>
> > >>>>>>> On 16/11/17 18:56, Tim Sutton wrote:
>
> > >>>>>>>> Hi
>
> > >>>>>>>>
>
> > >>>>>>>>> On 16 Nov 2017, at 04:35, Patrick Dunford
>
> > >>>>>>>>> <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>>
>
> > >>>>>>>>> wrote:
>
> > >>>>>>>>>
>
> > >>>>>>>>> What is this "preview job" function?
>
> > >>>>>>>>
>
> > >>>>>>>> Its application logic to prefetch / pre-render offscreen
>
> > >>>>>>>> content in anticipation of user panning the map.
>
> > >>>>>>>>
>
> > >>>>>>>> Regards
>
> > >>>>>>>>
>
> > >>>>>>>> Tim
>
> > >>>>>>>>
>
> > >>>>>>>>> _______________________________________________
>
> > >>>>>>>>> QGIS-Developer mailing list
>
> > >>>>>>>>> QGIS-Developer at lists.osgeo.org
>
> > >>>>>>>>> <mailto:QGIS-Developer at lists.osgeo.org>
>
> > >>>>>>>>> List info:
>
> > >>>>>>>>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > >>>>>>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >>>>>>>>> Unsubscribe:
>
> > >>>>>>>>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > >>>>>>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >>>>>>>>
>
> > >>>>>>>> —
>
> > >>>>>>>>
>
> > >>>>>>>>
>
> > >>>>>>>>
>
> > >>>>>>>>
>
> > >>>>>>>>
>
> > >>>>>>>>
>
> > >>>>>>>> *Tim Sutton*
>
> > >>>>>>>>
>
> > >>>>>>>> *Co-founder:*Kartoza
>
> > >>>>>>>> *Project chair:*QGIS.org <http://QGIS.org>
>
> > >>>>>>>>
>
> > >>>>>>>> Visit http://kartoza.com <http://kartoza.com/> to find out
>
> > >>>>>>>> about open source:
>
> > >>>>>>>>
>
> > >>>>>>>> Desktop GIS programming services
>
> > >>>>>>>> Geospatial web development
>
> > >>>>>>>> GIS Training
>
> > >>>>>>>> Consulting Services
>
> > >>>>>>>>
>
> > >>>>>>>> *Skype*: timlinux
>
> > >>>>>>>> *IRC:*timlinux on #qgis at freenode.net <http://freenode.net>
>
> > >>>>>>>
>
> > >>>>>>> _______________________________________________
>
> > >>>>>>> QGIS-Developer mailing list
>
> > >>>>>>> QGIS-Developer at lists.osgeo.org
>
> > >>>>>>> <mailto:QGIS-Developer at lists.osgeo.org>
>
> > >>>>>>> List
>
> > >>>>>>> info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > >>>>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >>>>>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-develo
>
> > >>>>>>> per
>
> > >>>>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >>>>>>
>
> > >>>>>> _______________________________________________
>
> > >>>>>> QGIS-Developer mailing list
>
> > >>>>>> QGIS-Developer at lists.osgeo.org
>
> > >>>>>> <mailto:QGIS-Developer at lists.osgeo.org>
>
> > >>>>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > >>>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >>>>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-develop
>
> > >>>>>> er
>
> > >>>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >>>>>
>
> > >>>>> _______________________________________________
>
> > >>>>> QGIS-Developer mailing list
>
> > >>>>> QGIS-Developer at lists.osgeo.org
>
> > >>>>> <mailto:QGIS-Developer at lists.osgeo.org>
>
> > >>>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > >>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >>>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-develope
>
> > >>>>> r
>
> > >>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >>>>
>
> > >>>> _______________________________________________
>
> > >>>> QGIS-Developer mailing list
>
> > >>>> QGIS-Developer at lists.osgeo.org
>
> > >>>> <mailto:QGIS-Developer at lists.osgeo.org>
>
> > >>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > >>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > >>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >>>
>
> > >>> _______________________________________________
>
> > >>> QGIS-Developer mailing list
>
> > >>> QGIS-Developer at lists.osgeo.org
>
> > >>> <mailto:QGIS-Developer at lists.osgeo.org>
>
> > >>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > >>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > >>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >>
>
> > >> _______________________________________________
>
> > >> QGIS-Developer mailing list
>
> > >> QGIS-Developer at lists.osgeo.org
>
> > >> <mailto:QGIS-Developer at lists.osgeo.org>
>
> > >> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > >> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > >> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > >
>
> > > _______________________________________________
>
> > > QGIS-Developer mailing list
>
> > > QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>
> > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > > <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> > > Unsubscribe:
>
> > > https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > > <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
> -- 
>
> Spatialys - Geospatial professional services
>
> http://www.spatialys.com
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171120/fdfb54f8/attachment-0001.html>

From enzedrailmaps at gmail.com  Sun Nov 19 23:18:18 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Mon, 20 Nov 2017 20:18:18 +1300
Subject: [QGIS-Developer] OTF layer reprojection not working in latest
	master ?
Message-ID: <0e38a77c-114e-33b8-7c83-656047fa7eba@gmail.com>

I have a project that (I just discovered) has some layers in EPSG 4326,

the project is EPSG 3857

When I changed the project from EPSG 4326 to EPSG 3857 these layers were
being reprojected on the fly, all the others were resaved into EPSG 3857

Everything has been working fine on 2.14, 2.16, 2.18 and all the masters
up till now, when I just installed the latest master f1c3692. these
layers are not visible in the canvas. I assume this must be an issue
with OTF reprojection. All the other layers that don't rely on OTF are
displayed.




From enzedrailmaps at gmail.com  Sun Nov 19 23:19:39 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Mon, 20 Nov 2017 20:19:39 +1300
Subject: [QGIS-Developer] AppImage packaging of Qgis?
Message-ID: <e894f130-d570-435a-e5fe-854c66a03b72@gmail.com>

Good day

Is there any consideration to using AppImage packaging for Qgis in future.

Obviously we see the ability to have multiple versions installed and be
able choose between them as a key advantage of AppImage.

Thoughts?



From a.neumann at carto.net  Sun Nov 19 23:22:10 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 20 Nov 2017 08:22:10 +0100
Subject: [QGIS-Developer] OTF layer reprojection not working in latest
 master ?
In-Reply-To: <0e38a77c-114e-33b8-7c83-656047fa7eba@gmail.com>
References: <0e38a77c-114e-33b8-7c83-656047fa7eba@gmail.com>
Message-ID: <c72cf55ef58e5f8ce991eb3281389060@carto.net>

Hi Patrick, 

Can you please file an issue report and provide some sample data and
project to demonstrate the issue? 

It would help the devs to fix this issue, if it is reproducible. 

Thanks, 

Andreas 

On 2017-11-20 08:18, Patrick Dunford wrote:

> I have a project that (I just discovered) has some layers in EPSG 4326,
> 
> the project is EPSG 3857
> 
> When I changed the project from EPSG 4326 to EPSG 3857 these layers were
> being reprojected on the fly, all the others were resaved into EPSG 3857
> 
> Everything has been working fine on 2.14, 2.16, 2.18 and all the masters
> up till now, when I just installed the latest master f1c3692. these
> layers are not visible in the canvas. I assume this must be an issue
> with OTF reprojection. All the other layers that don't rely on OTF are
> displayed.
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171120/4e981083/attachment.html>

From luca76 at gmail.com  Sun Nov 19 23:21:55 2017
From: luca76 at gmail.com (Luca Manganelli)
Date: Mon, 20 Nov 2017 08:21:55 +0100
Subject: [QGIS-Developer] AppImage packaging of Qgis?
In-Reply-To: <e894f130-d570-435a-e5fe-854c66a03b72@gmail.com>
References: <e894f130-d570-435a-e5fe-854c66a03b72@gmail.com>
Message-ID: <CAMB2qw04r7rgfOMv1YUeSL3UXw93NywPz3GSnqk-OPcAbQi=kA@mail.gmail.com>

On Mon, Nov 20, 2017 at 8:19 AM, Patrick Dunford <enzedrailmaps at gmail.com>
wrote:

> Good day
>
> Is there any consideration to using AppImage packaging for Qgis in future.
>
> Obviously we see the ability to have multiple versions installed and be
> able choose between them as a key advantage of AppImage.
>

+
​1. For me it's a fantastic idea! We should consider also flatpak, snap...​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171120/842dee0f/attachment.html>

From enzedrailmaps at gmail.com  Sun Nov 19 23:24:04 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Mon, 20 Nov 2017 20:24:04 +1300
Subject: [QGIS-Developer] OTF layer reprojection not working in latest
 master ?
In-Reply-To: <c72cf55ef58e5f8ce991eb3281389060@carto.net>
References: <0e38a77c-114e-33b8-7c83-656047fa7eba@gmail.com>
 <c72cf55ef58e5f8ce991eb3281389060@carto.net>
Message-ID: <8de1bd13-74e0-745f-d8ca-3ea509022480@gmail.com>

Oh, I'm just giving you the opportunity to say "this is not a bug, it's 
expected the project file format has changed" or something like that?


On 20/11/17 20:22, Andreas Neumann wrote:
>
> Hi Patrick,
>
> Can you please file an issue report and provide some sample data and 
> project to demonstrate the issue?
>
> It would help the devs to fix this issue, if it is reproducible.
>
> Thanks,
>
> Andreas
>
> On 2017-11-20 08:18, Patrick Dunford wrote:
>
>> I have a project that (I just discovered) has some layers in EPSG 4326,
>>
>> the project is EPSG 3857
>>
>> When I changed the project from EPSG 4326 to EPSG 3857 these layers were
>> being reprojected on the fly, all the others were resaved into EPSG 3857
>>
>> Everything has been working fine on 2.14, 2.16, 2.18 and all the masters
>> up till now, when I just installed the latest master f1c3692. these
>> layers are not visible in the canvas. I assume this must be an issue
>> with OTF reprojection. All the other layers that don't rely on OTF are
>> displayed.
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171120/9af2249b/attachment.html>

From rdmailings at duif.net  Sun Nov 19 23:26:37 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 20 Nov 2017 08:26:37 +0100
Subject: [QGIS-Developer] AppImage packaging of Qgis?
In-Reply-To: <e894f130-d570-435a-e5fe-854c66a03b72@gmail.com>
References: <e894f130-d570-435a-e5fe-854c66a03b72@gmail.com>
Message-ID: <25d9149b-659b-ad20-9342-c657f94698d4@duif.net>

On 20-11-17 08:19, Patrick Dunford wrote:
> Good day
> 
> Is there any consideration to using AppImage packaging for Qgis in future.
> 
> Obviously we see the ability to have multiple versions installed and be
> able choose between them as a key advantage of AppImage.

Matthias did some experiments:

https://github.com/qgis/QGIS/pull/3784

Regards,

Richard Duivenvoorde


From enzedrailmaps at gmail.com  Sun Nov 19 23:26:49 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Mon, 20 Nov 2017 20:26:49 +1300
Subject: [QGIS-Developer] AppImage packaging of Qgis?
In-Reply-To: <CAMB2qw04r7rgfOMv1YUeSL3UXw93NywPz3GSnqk-OPcAbQi=kA@mail.gmail.com>
References: <e894f130-d570-435a-e5fe-854c66a03b72@gmail.com>
 <CAMB2qw04r7rgfOMv1YUeSL3UXw93NywPz3GSnqk-OPcAbQi=kA@mail.gmail.com>
Message-ID: <927da212-59b9-7d5f-af5f-3e37afe51402@gmail.com>

Is there a consensus on the pros and cons of the three different systems 
mentioned so far?


On 20/11/17 20:21, Luca Manganelli wrote:
> On Mon, Nov 20, 2017 at 8:19 AM, Patrick Dunford 
> <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>> wrote:
>
>     Good day
>
>     Is there any consideration to using AppImage packaging for Qgis in
>     future.
>
>     Obviously we see the ability to have multiple versions installed
>     and be
>     able choose between them as a key advantage of AppImage.
>
>
> +
> ​1. For me it's a fantastic idea! We should consider also flatpak, 
> snap...​
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171120/fda1c926/attachment.html>

From noreply at qgis.org  Sun Nov 19 23:33:22 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 20 Nov 2017 07:33:22 -0000
Subject: [QGIS-Developer] Plugin [1287] qpals approval notification.
Message-ID: <20171120073322.23790.4610@320558c5528b>


Plugin qpals approval by zimbogisgeek.
The plugin version "[1287] qpals 1.5.1" is now approved
Link: http://plugins.qgis.org/plugins/qpals/

From anjo.weichbrodt at gmail.com  Mon Nov 20 01:18:51 2017
From: anjo.weichbrodt at gmail.com (Anjo Weichbrodt)
Date: Mon, 20 Nov 2017 10:18:51 +0100
Subject: [QGIS-Developer] Qt4 Designer - custom widgets - Manjaro
In-Reply-To: <CAMtsY+a6g+AaLTDYbgE4C4YtZ3GoSM-hx2stWPx-i-02VNMqfw@mail.gmail.com>
References: <CAHb8XexovOppqi_8LuzUSu510FLAEfG+LY0niFPHPDv-1Q445Q@mail.gmail.com>
 <b0bb53b0-0e99-8876-78f0-698120df83d8@opengis.ch>
 <1511107222761-0.post@n6.nabble.com>
 <CAMtsY+a6g+AaLTDYbgE4C4YtZ3GoSM-hx2stWPx-i-02VNMqfw@mail.gmail.com>
Message-ID: <CAHb8Xeyb7r8ke70i8mN6ZcGVP-_GCkSA86cL+YgGRgzf=dqkKg@mail.gmail.com>

Hi Denis,

before I read your message yesterday I deinstalled 2.18 and compiled and
installed 2.99 from AUR, again with the option -DWITH_CUSTOM_WIDGETS=TRUE.
And it worked. In this case Qt5 Designer contained the Qgs custom-widgets.
Wonderful!

I saw that on my system I have actually 2 folders containing access to
libqgis_customwidgets.so:
/lib64/qt5/plugins/designer/ and
/lib/qt5/plugins/designer/

My problem has been resolved using the version 2.99 of QGIS. Let me know if
it useful to dig further for why it didn't worked with 2.18.

Thanks,
Anjo

2017-11-19 18:41 GMT+01:00 Denis Rouzaud <denis.rouzaud at gmail.com>:

> Hi Anjo,
> Can you look in the about menu, there is a plugin entry, see if qgis
> custom widgets are listed there as broken.
> If so, can you try
> ldd   /lib64/qt4/plugins/designerlibqgis_customwidgets.so
>
> Cheers
> Denis
>
> Le dim. 19 nov. 2017 à 12:00, anjo.weichbrodt <anjo.weichbrodt at gmail.com>
> a écrit :
>
>> Hi Matthias,
>>
>> libqgis_customwidgets.so seems to be in the right location.
>>
>> [anjo at anjo-pc ~]$ cd  /lib64/qt4/plugins/designer/
>> [anjo at anjo-pc designer]$ ls
>> libpyqt4.so                       libqt3supportwidgets.so
>> libqdeclarativeview.so            libqwebview.so
>> libqgis_customwidgets.so          libqwt_designer_plugin.so
>> libqgis_customwidgets.so.2.18.14  libqwt_polar_designer_plugin.so
>> libqscintillaplugin.so
>>
>> Other suggestions?
>> Thanks,
>> Anjo
>>
>>
>>
>> --
>> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
>> f4099106.html
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171120/c59c5344/attachment.html>

From rdmailings at duif.net  Mon Nov 20 03:39:52 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 20 Nov 2017 11:39:52 +0000
Subject: [QGIS-Developer] WMST raster resampling is NOT resampling?
Message-ID: <d6bfd367071fc38269dcb0e8c3cb1c83@duif.net>


In QGIS when you load a raster, in the style properties there is an 
option 'Resampling'.
Which then gives the user different options, for zoomed in and zoomed 
out.
I'm not sure if the Oversampling option is used for both or only for 
out...

The corresponding docs are not very clear:
https://docs.qgis.org/testing/en/docs/user_manual/working_with_raster/raster_properties.html#resampling

Sometimes users report thatafter loading a WMTS they want to soften the 
image a little, and use these options to do so.
While this works well for aerial photo's, the provider then fetcheds the 
4 tiles from the ascending zoom level, and uses those.
BUT for non aerial photo's (like topo maps), this fails, as the map view 
actually changes (because of the change of the zoomlevel, also the 
labels and scale dependent layers etc etc change)..

If you want to test:

A public aerial:
https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?request=GetCapabilities&service=WMTS
layer: 2016_ortho25

A public topo:
https://geodata.nationaalgeoregister.nl/wmts?VERSION=1.0.0&request=GetCapabilities
layer: opentopo

Is this deliberately? Is the resampling of an actual tile image not 
doable?

Anybody has some input/insight in this?

Regards,

Richard Duivenvoorde


From apasotti at gmail.com  Mon Nov 20 04:02:47 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 20 Nov 2017 13:02:47 +0100
Subject: [QGIS-Developer] Editing buffer and commitChanges order
Message-ID: <CAL5Q6708Q=FL1+zCNXgk084TQ5WmrzxWbosSDQV9qH0n9kLh+w@mail.gmail.com>

Hi,

I'm facing a bug [1] that led me to a potential issue in the editing buffer
implementation: when commitChanges is called, different operations (change
geometry, change attrs, add features, delete features ...) are grouped and
executed in a fixed order.

So, if I wanted for example insert a feature and (after the insert has been
successful)
change the geometry of another feature I cannot do that because all
geometry editing operations are grouped and executed before all the insert
feature operations are executed [2]

This issue can lead to data loss in several scenarios, one is the bug I'm
working on here but there are more: for example when you want to merge
features you cannot delete features after you have successfully created the
merged one, just because all delete operations are performed before the
insert ones.

I guess that by grouping related commands together we probably wanted to
make it easier to optimize the operations in the back-end.

Wrapping the commitChanges into transactions would help with DB-like
backends that support it (I think that the implementation is not yet
completed), but I'm still convinced that the order of edit commands within
an editing buffer should be respected (that does not mean that certain
commands cannot be grouped if the programmer choose to do so).

I'd like to hear your opinion about the possible solutions to this problem.


[1] https://issues.qgis.org/issues/16935
[2]
https://github.com/qgis/QGIS/blob/master/src/core/qgsvectorlayereditbuffer.cpp#L300


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171120/3acdada7/attachment.html>

From noreply at qgis.org  Mon Nov 20 04:54:56 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 20 Nov 2017 12:54:56 -0000
Subject: [QGIS-Developer] Plugin [1356] ZoomToBelgium approval notification.
Message-ID: <20171120125456.31125.17685@320558c5528b>


Plugin ZoomToBelgium approval by zimbogisgeek.
The plugin version "[1356] ZoomToBelgium 0.2.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/ZoomToBelgium/

From matthias at opengis.ch  Mon Nov 20 06:35:50 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 20 Nov 2017 15:35:50 +0100
Subject: [QGIS-Developer] AppImage packaging of Qgis?
In-Reply-To: <e894f130-d570-435a-e5fe-854c66a03b72@gmail.com>
References: <e894f130-d570-435a-e5fe-854c66a03b72@gmail.com>
Message-ID: <17f939c8-70fb-39f0-2e88-d05c09a31ec6@opengis.ch>

Hi,

it has been discussed here:

https://github.com/qgis/QGIS/pull/3784

any further contributions very welcome!

Matthias


On 11/20/2017 08:19 AM, Patrick Dunford wrote:
> Good day
>
> Is there any consideration to using AppImage packaging for Qgis in
> future.
>
> Obviously we see the ability to have multiple versions installed and be
> able choose between them as a key advantage of AppImage.
>
> Thoughts?
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


From matthias at opengis.ch  Mon Nov 20 06:51:00 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 20 Nov 2017 15:51:00 +0100
Subject: [QGIS-Developer] Editing buffer and commitChanges order
In-Reply-To: <CAL5Q6708Q=FL1+zCNXgk084TQ5WmrzxWbosSDQV9qH0n9kLh+w@mail.gmail.com>
References: <CAL5Q6708Q=FL1+zCNXgk084TQ5WmrzxWbosSDQV9qH0n9kLh+w@mail.gmail.com>
Message-ID: <884bdc2c-dc02-f0a9-98c8-4d7c005441f9@opengis.ch>

Hi Alessandro,

This problem also applies to editing multiple layers in parallel
(especially with foreign keys), that was one of the drivers to introduce
transaction editing.

For individual layers, I think we can keep track of all the changes in
the local edit buffer. For issue 16935, I think the order wouldn't
actually change much, it would still fail, just in a different order?
One thing there is, the commands could be sent in a single transaction
(which doesn't necessarily need to be managed by QgsTransaction).

On the other hand, I think splitFeature should be using
QgsVectorLayer.createFeature() which should take care of unique
constraints detected on the provider. If I'm not mistaken, this works
fine on postgres, possibly there's an issue with unique constraint
detection in sqlite based providers?

Cheers

Matthias


On 11/20/2017 01:02 PM, Alessandro Pasotti wrote:
> Hi,
>
> I'm facing a bug [1] that led me to a potential issue in the editing
> buffer implementation: when commitChanges is called, different
> operations (change geometry, change attrs, add features, delete
> features ...) are grouped and executed in a fixed order.
>
> So, if I wanted for example insert a feature and (after the insert has
> been successful)
> change the geometry of another feature I cannot do that because all
> geometry editing operations are grouped and executed before all the
> insert feature operations are executed [2]
>
> This issue can lead to data loss in several scenarios, one is the bug
> I'm working on here but there are more: for example when you want to
> merge features you cannot delete features after you have successfully
> created the merged one, just because all delete operations are
> performed before the insert ones.
>
> I guess that by grouping related commands together we probably wanted
> to make it easier to optimize the operations in the back-end.
>
> Wrapping the commitChanges into transactions would help with DB-like
> backends that support it (I think that the implementation is not yet
> completed), but I'm still convinced that the order of edit commands
> within an editing buffer should be respected (that does not mean that
> certain commands cannot be grouped if the programmer choose to do so).
>
> I'd like to hear your opinion about the possible solutions to this
> problem.
>
>
> [1] https://issues.qgis.org/issues/16935
> [2]
> https://github.com/qgis/QGIS/blob/master/src/core/qgsvectorlayereditbuffer.cpp#L300
>
>
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it <http://www.itopen.it>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171120/5843c4be/attachment.html>

From matteo.ghetta at gmail.com  Mon Nov 20 06:52:03 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 20 Nov 2017 15:52:03 +0100
Subject: [QGIS-Developer] Processing "Create layer from extent" missing
	output
Message-ID: <77a73f36-ba55-8def-e236-942a95bce2d3@gmail.com>

Hi devs,

I'm testing Processing in QGIS master. The algorithm "Create layer from
extent" has perfect sense when used into a model, but when used as
standalone no outputs are created.

Or better, the output pretends to be a polygon layer but nothing is
shown in the map (attribute table contains correctly 1 feature).

Is this the expected behavior or the output must be a polygon?

Thanks for any suggestion

Cheers

Matteo

From adenaculture at gmail.com  Mon Nov 20 06:59:58 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 20 Nov 2017 09:59:58 -0500
Subject: [QGIS-Developer] How to call add feature attributes dialog from
	a plugin
In-Reply-To: <CA+H0G_H2Xev0sqVazrdbXgvvvL7JsWYLyuQ65QixjomRPak_dQ@mail.gmail.com>
References: <CABPxTTp6u1A10DKy_hNACdR8wCMg6AHL76CFMbDDhAYR=c1Tng@mail.gmail.com>
 <CA+H0G_H2Xev0sqVazrdbXgvvvL7JsWYLyuQ65QixjomRPak_dQ@mail.gmail.com>
Message-ID: <CABPxTTq=S9VbbLv6rEaZipuYQ7G9pfyHonwLxFeN0oJ3jM-H=A@mail.gmail.com>

Thank you. That was exactly what I was looking for.

On Fri, Nov 17, 2017 at 7:10 PM, Alexandre Neto <senhor.neto at gmail.com>
wrote:

> openFeatureForm() is what you are looking for:
>
> http://doc.qgis.org/api/2.18/classQgisInterface.html#
> a11b90f38afd09ac5e9f363933ee4a509
>
> C Hamilton <adenaculture at gmail.com> escreveu no dia sexta, 17/11/2017 às
> 17:02:
>
>> When a points vector layer is enabled for editing, and the "Add Feature"
>> tool is selected, when you click on the map you get a popup dialog ("Points
>> - Feature Attributes") that allows you to enter the vector layer attributes.
>>
>> Is it possible to programmatically access this dialog from a plugin that
>> is going to add a point to the map, but would like an attribute dialog to
>> pop up for entering the attributes? I would rather make use of the existing
>> function and not reinvent it.
>>
>> Is there a difference between these two functions when adding a feature
>> to a vector layer other than the first adds a single feature and the second
>> can add multiple features?
>>
>> layer.addFeature(feature)
>> layer.dataProvider().addFeatures([feature])
>>
>>
>> Thanks,
>>
>> Calvin
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
> Alexandre Neto
> ---------------------
> @AlexNetoGeo
> http://sigsemgrilhetas.wordpress.com
> http://gisunchained.wordpress.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171120/2960329e/attachment.html>

From apasotti at gmail.com  Mon Nov 20 07:10:37 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 20 Nov 2017 16:10:37 +0100
Subject: [QGIS-Developer] Editing buffer and commitChanges order
In-Reply-To: <884bdc2c-dc02-f0a9-98c8-4d7c005441f9@opengis.ch>
References: <CAL5Q6708Q=FL1+zCNXgk084TQ5WmrzxWbosSDQV9qH0n9kLh+w@mail.gmail.com>
 <884bdc2c-dc02-f0a9-98c8-4d7c005441f9@opengis.ch>
Message-ID: <CAL5Q673oqpZJ=xCe-trESzRuam5HYs59Vwku=imQmeEgGzUyNg@mail.gmail.com>

On Mon, Nov 20, 2017 at 3:51 PM, Matthias Kuhn <matthias at opengis.ch> wrote:

> Hi Alessandro,
>
> This problem also applies to editing multiple layers in parallel
> (especially with foreign keys), that was one of the drivers to introduce
> transaction editing.
>
> For individual layers, I think we can keep track of all the changes in the
> local edit buffer. For issue 16935, I think the order wouldn't actually
> change much, it would still fail, just in a different order?
>

Yes, but without data corruption. That is what we need to fix with higher
priority, if the operation fails without crippling the data I think it
would be acceptable, but if it fails with data loss that is not acceptable.


> One thing there is, the commands could be sent in a single transaction
> (which doesn't necessarily need to be managed by QgsTransaction).
>

I don't understand this part: QgsTransaction looks like the right class to
handle transactions, I think it should be used to wrap the whole
commitChanges for providers that support the transactions.

On the other hand, I think splitFeature should be using
> QgsVectorLayer.createFeature() which should take care of unique constraints
> detected on the provider. If I'm not mistaken, this works fine on postgres,
> possibly there's an issue with unique constraint detection in sqlite based
> providers?
>

It is using that class ...

Thanks! I'll look into that method, it looks like a good lead.



Cheers
>
> Matthias
>
> On 11/20/2017 01:02 PM, Alessandro Pasotti wrote:
>
> Hi,
>
> I'm facing a bug [1] that led me to a potential issue in the editing
> buffer implementation: when commitChanges is called, different operations
> (change geometry, change attrs, add features, delete features ...) are
> grouped and executed in a fixed order.
>
> So, if I wanted for example insert a feature and (after the insert has
> been successful)
> change the geometry of another feature I cannot do that because all
> geometry editing operations are grouped and executed before all the insert
> feature operations are executed [2]
>
> This issue can lead to data loss in several scenarios, one is the bug I'm
> working on here but there are more: for example when you want to merge
> features you cannot delete features after you have successfully created the
> merged one, just because all delete operations are performed before the
> insert ones.
>
> I guess that by grouping related commands together we probably wanted to
> make it easier to optimize the operations in the back-end.
>
> Wrapping the commitChanges into transactions would help with DB-like
> backends that support it (I think that the implementation is not yet
> completed), but I'm still convinced that the order of edit commands within
> an editing buffer should be respected (that does not mean that certain
> commands cannot be grouped if the programmer choose to do so).
>
> I'd like to hear your opinion about the possible solutions to this problem.
>
>
> [1] https://issues.qgis.org/issues/16935
> [2] https://github.com/qgis/QGIS/blob/master/src/core/
> qgsvectorlayereditbuffer.cpp#L300
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171120/4da969e3/attachment-0001.html>

From mats.elfstrom at gmail.com  Mon Nov 20 10:48:45 2017
From: mats.elfstrom at gmail.com (=?UTF-8?Q?Mats_Elfstr=C3=B6m?=)
Date: Mon, 20 Nov 2017 19:48:45 +0100
Subject: [QGIS-Developer] QGIS 3 Server on Windows Server platform (2012 and
	2016)
Message-ID: <CAO1MNmVmC9NQD6rQ1SDJmtOCjYMgaSf-7cDeu2jkGH7LTVZ6bA@mail.gmail.com>

Hi!
Can someone confirm that the QGIS 3 Server works on these platforms?
So far, I have been unable to even install and configure it.
______________________________________________
Mats Elfström, Väpplingvägen 21, SE-227 38 LUND, Sweden
tel: +46 46 145959 / mob: +46 70 595 39 35
alt e-mail: mats.elfstrom at giskraft.com <mats.elfstrom at telia.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171120/19e28a7e/attachment.html>

From noreply at qgis.org  Mon Nov 20 23:05:00 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 21 Nov 2017 07:05:00 -0000
Subject: [QGIS-Developer] Plugin [1236] ICSM NTv2 Transformer approval
	notification.
Message-ID: <20171121070500.7378.77001@320558c5528b>


Plugin ICSM NTv2 Transformer approval by zimbogisgeek.
The plugin version "[1236] ICSM NTv2 Transformer 0.9 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/icsm_ntv2_transformer/

From noreply at qgis.org  Mon Nov 20 23:10:49 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 21 Nov 2017 07:10:49 -0000
Subject: [QGIS-Developer] Plugin [1364] UMEP approval notification.
Message-ID: <20171121071049.16147.54462@320558c5528b>


Plugin UMEP approval by zimbogisgeek.
The plugin version "[1364] UMEP 1.0" is now approved
Link: http://plugins.qgis.org/plugins/UMEP/

From noreply at qgis.org  Mon Nov 20 23:11:39 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 21 Nov 2017 07:11:39 -0000
Subject: [QGIS-Developer] Plugin [1355] QRealTime approval notification.
Message-ID: <20171121071139.7378.9196@320558c5528b>


Plugin QRealTime approval by zimbogisgeek.
The plugin version "[1355] QRealTime 2.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/QRealTime/

From noreply at qgis.org  Mon Nov 20 23:58:22 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 21 Nov 2017 07:58:22 -0000
Subject: [QGIS-Developer] Plugin [1109] Datafordeler approval notification.
Message-ID: <20171121075822.7378.95954@320558c5528b>


Plugin Datafordeler approval by zimbogisgeek.
The plugin version "[1109] Datafordeler 0.2" is now approved
Link: http://plugins.qgis.org/plugins/Datafordeler/

From noreply at qgis.org  Tue Nov 21 00:01:55 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 21 Nov 2017 08:01:55 -0000
Subject: [QGIS-Developer] Plugin [1160] Go2NextFeature approval notification.
Message-ID: <20171121080155.7378.21798@320558c5528b>


Plugin Go2NextFeature approval by zimbogisgeek.
The plugin version "[1160] Go2NextFeature 1.12 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/go2nextfeature/

From noreply at qgis.org  Tue Nov 21 00:38:01 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 21 Nov 2017 08:38:01 -0000
Subject: [QGIS-Developer] Plugin [1360] LocalizadorCatastral approval
	notification.
Message-ID: <20171121083801.6540.82404@320558c5528b>


Plugin LocalizadorCatastral approval by zimbogisgeek.
The plugin version "[1360] LocalizadorCatastral 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/localizador/

From regis.haubourg at gmail.com  Tue Nov 21 01:13:40 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 21 Nov 2017 10:13:40 +0100
Subject: [QGIS-Developer] relation reference widget "on map identification"
	missing?
Message-ID: <CABgOYCfs1U-WCeSO+eQPhYWSUHefWe=Y84r8Pet_1fJmva21BA@mail.gmail.com>

Hi all,
I can't have the on map identification widget appear in QGIS 3, when in
qgis 2.18 it works.
I'm on ubuntu 16.04 using ubuntu-nightly, with package libqgis-customwidets
installed.
Am I missing something?

Cheers
Régis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171121/490134a3/attachment.html>

From nyall.dawson at gmail.com  Tue Nov 21 02:01:57 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 21 Nov 2017 20:01:57 +1000
Subject: [QGIS-Developer] Recordings from QGIS Australia Meetup 2017
Message-ID: <CAB28AshnxpTmju=oSCBVhDjXhGJHmJzmK1s+wrTPXP8O3qhieg@mail.gmail.com>

Hi all,

Last week we held the first ever QGIS Australia Meetup in Sydney. The
recordings from this meetup have just been released online and can all
be viewed under:

https://www.youtube.com/playlist?list=PLQbaw-XC9jWFsTbZlIyoYLGsE4iZEUjFM

There's stacks of great content available there - I encourage you all
to check it out!

Nyall

From tim at kartoza.com  Tue Nov 21 11:11:48 2017
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 21 Nov 2017 21:11:48 +0200
Subject: [QGIS-Developer] Recordings from QGIS Australia Meetup 2017
In-Reply-To: <CAB28AshnxpTmju=oSCBVhDjXhGJHmJzmK1s+wrTPXP8O3qhieg@mail.gmail.com>
References: <CAB28AshnxpTmju=oSCBVhDjXhGJHmJzmK1s+wrTPXP8O3qhieg@mail.gmail.com>
Message-ID: <5F8FC5C6-DF3B-41F2-BC5A-2DC040431199@kartoza.com>

Hi

Awesome, thanks for sharing!

Regards

Tim

> On 21 Nov 2017, at 12:01, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> 
> Hi all,
> 
> Last week we held the first ever QGIS Australia Meetup in Sydney. The
> recordings from this meetup have just been released online and can all
> be viewed under:
> 
> https://www.youtube.com/playlist?list=PLQbaw-XC9jWFsTbZlIyoYLGsE4iZEUjFM
> 
> There's stacks of great content available there - I encourage you all
> to check it out!
> 
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—







Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171121/111cb9fc/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171121/111cb9fc/attachment-0001.jpg>

From noreply at qgis.org  Tue Nov 21 19:52:03 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 22 Nov 2017 03:52:03 -0000
Subject: [QGIS-Developer] Plugin [1145] ClusterPoints approval notification.
Message-ID: <20171122035203.7330.87511@320558c5528b>


Plugin ClusterPoints approval by pcav.
The plugin version "[1145] ClusterPoints 2.1" is now approved
Link: http://plugins.qgis.org/plugins/ClusterPoints/

From a.neumann at carto.net  Wed Nov 22 02:41:11 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 22 Nov 2017 11:41:11 +0100
Subject: [QGIS-Developer] What are qgd files?
Message-ID: <0cab5f4f-6a07-41d1-c8f3-cb7235313ee7@carto.net>

Hi,

I noticed that along my .qgs (version 3) project files there are .qgd 
files with the same filename but different extension. They are always empty.

Can someone help me find out what these files are and why they are created?

Thanks a lot,

Andreas



From regis.haubourg at oslandia.com  Wed Nov 22 03:12:03 2017
From: regis.haubourg at oslandia.com (=?UTF-8?Q?R=C3=A9gis_Haubourg_?=)
Date: Wed, 22 Nov 2017 12:12:03 +0100
Subject: [QGIS-Developer] What are qgd files?
In-Reply-To: <0cab5f4f-6a07-41d1-c8f3-cb7235313ee7@carto.net>
References: <0cab5f4f-6a07-41d1-c8f3-cb7235313ee7@carto.net>
Message-ID: <CABgOYCcFRBZXoUaaR=Bn9kOAsPaLqan8NWMo_P4eL4HRJK9C2g@mail.gmail.com>

Hi Andreas,
qgd files is the associated sqlite database of qgis project when there is
some auxiliary data to store in it.

Indeed, they probably shouldn't exist when there is no data to store.

See associated QEP and blog post:

http://oslandia.com/en/2017/10/17/auxiliary-storage-support-in-qgis-3/
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/27

Regards,
Régis



2017-11-22 11:41 GMT+01:00 Andreas Neumann <a.neumann at carto.net>:

> Hi,
>
> I noticed that along my .qgs (version 3) project files there are .qgd
> files with the same filename but different extension. They are always empty.
>
> Can someone help me find out what these files are and why they are created?
>
> Thanks a lot,
>
> Andreas
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171122/afa08d33/attachment.html>

From a.neumann at carto.net  Wed Nov 22 03:21:44 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 22 Nov 2017 12:21:44 +0100
Subject: [QGIS-Developer] QGIS variables in Python code
Message-ID: <7a480b21-432c-0f12-8b3f-a56cd0ab29ed@carto.net>

Hi,

Is it possible to query the value of a QGIS variable in Python code? 
E.g. I'd like to find out in my code the full storage path to the folder 
of my current QGIS project, which would be available in the 
@project_folder variable.

Are variable values accessible through the Python API?

Thanks for any example or hint,

Andreas


From imajimatika at gmail.com  Wed Nov 22 03:33:38 2017
From: imajimatika at gmail.com (Ismail Sunni)
Date: Wed, 22 Nov 2017 18:33:38 +0700
Subject: [QGIS-Developer] QGIS variables in Python code
In-Reply-To: <7a480b21-432c-0f12-8b3f-a56cd0ab29ed@carto.net>
References: <7a480b21-432c-0f12-8b3f-a56cd0ab29ed@carto.net>
Message-ID: <CAEh5jtGKT3t0-jH_nDAGFfK_x8Ry5yajhSJui+ZTroLn+ZGNBQ@mail.gmail.com>

Hi Andreas

If you mean QGIS variable, or project variable, or layer variable, you can
do (read, set, delete) it by using
https://qgis.org/api/classQgsExpressionContextUtils.html.

Thanks

On Wed, Nov 22, 2017 at 6:21 PM, Andreas Neumann <a.neumann at carto.net>
wrote:

> Hi,
>
> Is it possible to query the value of a QGIS variable in Python code? E.g.
> I'd like to find out in my code the full storage path to the folder of my
> current QGIS project, which would be available in the @project_folder
> variable.
>
> Are variable values accessible through the Python API?
>
> Thanks for any example or hint,
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer




-- 
Ismail Sunni
ismailsunni.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171122/b5cb57e5/attachment.html>

From a.neumann at carto.net  Wed Nov 22 05:57:08 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 22 Nov 2017 14:57:08 +0100
Subject: [QGIS-Developer] What are qgd files?
In-Reply-To: <CABgOYCcFRBZXoUaaR=Bn9kOAsPaLqan8NWMo_P4eL4HRJK9C2g@mail.gmail.com>
References: <0cab5f4f-6a07-41d1-c8f3-cb7235313ee7@carto.net>
 <CABgOYCcFRBZXoUaaR=Bn9kOAsPaLqan8NWMo_P4eL4HRJK9C2g@mail.gmail.com>
Message-ID: <592f02a9-c988-a69c-bcba-ab84a74646eb@carto.net>

Hi Régis,

Thanks for your explanation.

The files have 0 bytes and I did not consciously create them. Perhaps 
they should only be created on demand?

Otherwise, it is good to have this auxiliary data storage option.

Thanks,

Andreas


On 22.11.2017 12:12, Régis Haubourg wrote:
> Hi Andreas,
> qgd files is the associated sqlite database of qgis project when there 
> is some auxiliary data to store in it.
>
> Indeed, they probably shouldn't exist when there is no data to store.
>
> See associated QEP and blog post:
>
> http://oslandia.com/en/2017/10/17/auxiliary-storage-support-in-qgis-3/
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/27
>
> Regards,
> Régis
>
>
>
> 2017-11-22 11:41 GMT+01:00 Andreas Neumann <a.neumann at carto.net 
> <mailto:a.neumann at carto.net>>:
>
>     Hi,
>
>     I noticed that along my .qgs (version 3) project files there are
>     .qgd files with the same filename but different extension. They
>     are always empty.
>
>     Can someone help me find out what these files are and why they are
>     created?
>
>     Thanks a lot,
>
>     Andreas
>
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171122/231f2094/attachment.html>

From arnaud.morvan at camptocamp.com  Wed Nov 22 06:31:20 2017
From: arnaud.morvan at camptocamp.com (Arnaud Morvan)
Date: Wed, 22 Nov 2017 15:31:20 +0100
Subject: [QGIS-Developer] QGIS Server request extra parameters as variables
	for expressions
Message-ID: <ed3bf843-e0a1-d6e0-c33f-b104635cdee6@camptocamp.com>

Hello,

With mapserver, request extra parameters are accessible as template 
variables in mapfile.

I would like to implement the same possibility in QGIS Server, extra 
parameters may be accessible in project as expression variables.

For example : I would like to pass in a GetMap request an extra 
parameter FLOOR.

This parameter could be handled by QGIS Server as a variable value, so 
this could be used in the project to filter some layers using an expression.

Do you think this could be acceptable directly in QGIS Server, or may I 
have to wrote a plugin.

Maybe this type of plugin already exists ?

Note that I'm not familiar with server part.

Best regards

-- 
Arnaud Morvan
Ingénieur logiciel
Tél: +33 (0)4 58 48 20 32

Camptocamp France SAS
18 rue du Lac Saint André
Savoie Technolac - Bâtiment Le Dauphin
F-73370 Le Bourget du Lac
http://www.camptocamp.com


From rldhont at gmail.com  Wed Nov 22 09:05:40 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Wed, 22 Nov 2017 18:05:40 +0100
Subject: [QGIS-Developer] QGIS Server request extra parameters as
 variables for expressions
In-Reply-To: <ed3bf843-e0a1-d6e0-c33f-b104635cdee6@camptocamp.com>
References: <ed3bf843-e0a1-d6e0-c33f-b104635cdee6@camptocamp.com>
Message-ID: <007d5e78-6259-912f-4b10-b0a3e1919736@gmail.com>

Hi Arnaud,

Is it like updated a QGIS project variables ?

Regards,

René-Luc


Le 22/11/2017 à 15:31, Arnaud Morvan a écrit :
> Hello,
>
> With mapserver, request extra parameters are accessible as template 
> variables in mapfile.
>
> I would like to implement the same possibility in QGIS Server, extra 
> parameters may be accessible in project as expression variables.
>
> For example : I would like to pass in a GetMap request an extra 
> parameter FLOOR.
>
> This parameter could be handled by QGIS Server as a variable value, so 
> this could be used in the project to filter some layers using an 
> expression.
>
> Do you think this could be acceptable directly in QGIS Server, or may 
> I have to wrote a plugin.
>
> Maybe this type of plugin already exists ?
>
> Note that I'm not familiar with server part.
>
> Best regards
>


From adenaculture at gmail.com  Wed Nov 22 09:44:34 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 22 Nov 2017 12:44:34 -0500
Subject: [QGIS-Developer] CRS for GeoJson Data
Message-ID: <CABPxTTrjH3qbgFeM2akC+6kOUXARjJWeUdXYccfp2SG-=isqAw@mail.gmail.com>

I am trying to parse a geojson string using the following:

                codec = QTextCodec.codecForName("UTF-8")
                fields = QgsJSONUtils.stringToFields(jsonstring, codec)
                features = QgsJSONUtils.stringToFeatureList(jsonstring,
fields, codec)

>From this I can get all the features in the string, but it does not appear
that any of the QgsJSONUtils code takes into account the CRS of the data. A
lot of the geojson data does not include the CRS, but it can.

How do I parse geojson data such that I know what the crs is of the feature
geometry? Are there other routines in QGIS that does this other than
QgsJSONUtils?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171122/72fa5c2c/attachment.html>

From tom.chadwin at nnpa.org.uk  Wed Nov 22 11:46:28 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Wed, 22 Nov 2017 12:46:28 -0700 (MST)
Subject: [QGIS-Developer] CRS for GeoJson Data
In-Reply-To: <CABPxTTrjH3qbgFeM2akC+6kOUXARjJWeUdXYccfp2SG-=isqAw@mail.gmail.com>
References: <CABPxTTrjH3qbgFeM2akC+6kOUXARjJWeUdXYccfp2SG-=isqAw@mail.gmail.com>
Message-ID: <1511379988931-0.post@n6.nabble.com>

Doesn't the GeoJSON spec mandate WGS84?

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From adenaculture at gmail.com  Wed Nov 22 12:37:51 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 22 Nov 2017 15:37:51 -0500
Subject: [QGIS-Developer] CRS for GeoJson Data
In-Reply-To: <1511379988931-0.post@n6.nabble.com>
References: <CABPxTTrjH3qbgFeM2akC+6kOUXARjJWeUdXYccfp2SG-=isqAw@mail.gmail.com>
 <1511379988931-0.post@n6.nabble.com>
Message-ID: <CABPxTTpYSz041+84KpsYDDeBCCr2+_q8YHhu5wavhmgaG53C3g@mail.gmail.com>

I don't know, but if that it the case then QGIS is exporting GeoJSON wrong.
For example if you have a layer that is say EPSG:3857 and export the points
to a GeoJSON file, you will find a crs tag specifying 3857 and the
coordinates are in 3857. They were not converted to WGS84.

On Wed, Nov 22, 2017 at 2:46 PM, Tom Chadwin <tom.chadwin at nnpa.org.uk>
wrote:

> Doesn't the GeoJSON spec mandate WGS84?
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171122/44cca1c7/attachment.html>

From sfkeller at gmail.com  Wed Nov 22 12:53:09 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Wed, 22 Nov 2017 21:53:09 +0100
Subject: [QGIS-Developer] CRS for GeoJson Data
In-Reply-To: <CABPxTTpYSz041+84KpsYDDeBCCr2+_q8YHhu5wavhmgaG53C3g@mail.gmail.com>
References: <CABPxTTrjH3qbgFeM2akC+6kOUXARjJWeUdXYccfp2SG-=isqAw@mail.gmail.com>
 <1511379988931-0.post@n6.nabble.com>
 <CABPxTTpYSz041+84KpsYDDeBCCr2+_q8YHhu5wavhmgaG53C3g@mail.gmail.com>
Message-ID: <CAFcOn2_ck5EQEHQuOyXHqnN9BheOyhynO3x551ayoKKixqtRiw@mail.gmail.com>

The current GeoJSON spec. [1] mentions in the abstract, as last of its
containing three sentences:
"GeoJSON uses a geographic coordinate reference system, World Geodetic
System 1984, and units of decimal degrees.".

[2] contains an update which says
"2008 geojson.org GeoJSON supported alternative coordinate reference
systems other than ESPG:4326, but this capability was removed in the
current GeoJSON standard."

So, it seems, that QGIS is actually following the 2008 spec. and
probably should be updated.
=> Someone files an issue?

--Stefan

1] https://tools.ietf.org/html/rfc7946
[2] https://macwright.org/2015/03/23/geojson-second-bite


2017-11-22 21:37 GMT+01:00 C Hamilton <adenaculture at gmail.com>:
> I don't know, but if that it the case then QGIS is exporting GeoJSON wrong.
> For example if you have a layer that is say EPSG:3857 and export the points
> to a GeoJSON file, you will find a crs tag specifying 3857 and the
> coordinates are in 3857. They were not converted to WGS84.
>
> On Wed, Nov 22, 2017 at 2:46 PM, Tom Chadwin <tom.chadwin at nnpa.org.uk>
> wrote:
>>
>> Doesn't the GeoJSON spec mandate WGS84?
>>
>> Tom
>>
>>
>>
>> -----
>> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>> --
>> Sent from:
>> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From tom.chadwin at nnpa.org.uk  Wed Nov 22 14:08:08 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Wed, 22 Nov 2017 15:08:08 -0700 (MST)
Subject: [QGIS-Developer] CRS for GeoJson Data
In-Reply-To: <CAFcOn2_ck5EQEHQuOyXHqnN9BheOyhynO3x551ayoKKixqtRiw@mail.gmail.com>
References: <CABPxTTrjH3qbgFeM2akC+6kOUXARjJWeUdXYccfp2SG-=isqAw@mail.gmail.com>
 <1511379988931-0.post@n6.nabble.com>
 <CABPxTTpYSz041+84KpsYDDeBCCr2+_q8YHhu5wavhmgaG53C3g@mail.gmail.com>
 <CAFcOn2_ck5EQEHQuOyXHqnN9BheOyhynO3x551ayoKKixqtRiw@mail.gmail.com>
Message-ID: <1511388488856-0.post@n6.nabble.com>

I remember irritated tweets from someone like Sean Gillies involved the spec
about how projected CRSes had no place in GeoJSON. 

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From even.rouault at spatialys.com  Wed Nov 22 14:23:42 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 22 Nov 2017 23:23:42 +0100
Subject: [QGIS-Developer] CRS for GeoJson Data
In-Reply-To: <1511388488856-0.post@n6.nabble.com>
References: <CABPxTTrjH3qbgFeM2akC+6kOUXARjJWeUdXYccfp2SG-=isqAw@mail.gmail.com>
 <CAFcOn2_ck5EQEHQuOyXHqnN9BheOyhynO3x551ayoKKixqtRiw@mail.gmail.com>
 <1511388488856-0.post@n6.nabble.com>
Message-ID: <4081727.Vgde6xvleP@even-i700>

On mercredi 22 novembre 2017 15:08:08 CET Tom Chadwin wrote:
> I remember irritated tweets from someone like Sean Gillies involved the spec
> about how projected CRSes had no place in GeoJSON.
> 

The last year standardized version of GeoJSON, IETF RFC7946, mentions in
https://tools.ietf.org/html/rfc7946#page-12

"""
  The coordinate reference system for all GeoJSON coordinates is a
   geographic coordinate reference system, using the World Geodetic
   System 1984 (WGS 84) [...]
Note: the use of alternative coordinate reference systems was
   specified in [GJ2008], but it has been removed from this version of
   the specification [...]
"""

Regarding OGR, it will support reading & writing GeoJSON files with any CRS. Unless that on 
the write side you specify RFC7946=YES as layer creation option, in which case automatic 
reprojection to WGS84 is done.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171122/de258db8/attachment.html>

From tisham.dhar at aerometrex.com.au  Wed Nov 22 19:41:59 2017
From: tisham.dhar at aerometrex.com.au (Tisham Dhar)
Date: Thu, 23 Nov 2017 03:41:59 +0000
Subject: [QGIS-Developer] Resample raster during save to file
Message-ID: <SYXPR01MB1232E416B9E22037629DDB83BE210@SYXPR01MB1232.ausprd01.prod.outlook.com>

Hi,

I have recreated my PR with rebase and less of newline hassles here: https://github.com/qgis/QGIS/pull/5667 . I would appreciate some tests and a merge if it works for everyone. I used some of the instructions here: https://github.com/qgis/QGIS/pull/4990 to update my windows build environment and this will be a very useful merge for other windows developers as well.

Tisham Dhar
Research Engineer
Aerometrex PTY LTD
59 King William St.
Kent Town SA 5067
Australia

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171123/ab65a6e2/attachment-0001.html>

From a.neumann at carto.net  Thu Nov 23 00:01:08 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 23 Nov 2017 09:01:08 +0100
Subject: [QGIS-Developer] Refactor Fields: save and load mapping
	configuration
Message-ID: <fc6a4bbb376cb01d80fb6d4141399bf9@carto.net>

Hi, 

The refactor fields algorithm is potentially very powerful. 

However, I do miss a way to save and load the configuration (or maybe I
just haven't found it). I have layers with many fields and I am adding
additional fields with expressions. 

Every time I run it, I have to do the configuration again and again. Is
there a way to save and load the mapping configuration? It would save me
a lot of time! 

Thanks,
Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171123/b354ac4d/attachment.html>

From regis.haubourg at gmail.com  Thu Nov 23 00:12:17 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 23 Nov 2017 09:12:17 +0100
Subject: [QGIS-Developer] Refactor Fields: save and load mapping
	configuration
In-Reply-To: <fc6a4bbb376cb01d80fb6d4141399bf9@carto.net>
References: <fc6a4bbb376cb01d80fb6d4141399bf9@carto.net>
Message-ID: <CABgOYCf003C+d=haLjg72FWkKe=YOnkGn791VkCdGAYw2JgruA@mail.gmail.com>

Hi Andreas,
I don't have any answer to that particular question, but in many project we
are working for, it becomes clear that we need to push processing to become
an ETL, and the field mapping component is clearly a key feature.
What do you think about opening a QEP and store in there all what's
currently missing for a clean and easy workflow?
We clearly will have some funders in 2018.

I see :

# Mapping field alg:

 - rename it to something more easy to find. What about "Field matcher" ?
 - automap fields using tolerant expression based on heuristics (unaccent,
lowercase, soundhex or whatever, field order.. )
 - save and restore config.
 - Auto restore for same table names
 - And, the key for fame,  a graphical component for field matching,
because this is what we all want :)

# database writer :
 - finely control all SQL options: drop table / recreate / truncate /
insert / update with where clause
 - add rollback option to just try without commiting
 - return all database logs in details

Opinions?

Régis


2017-11-23 9:01 GMT+01:00 Andreas Neumann <a.neumann at carto.net>:

> Hi,
>
> The refactor fields algorithm is potentially very powerful.
>
> However, I do miss a way to save and load the configuration (or maybe I
> just haven't found it). I have layers with many fields and I am adding
> additional fields with expressions.
>
> Every time I run it, I have to do the configuration again and again. Is
> there a way to save and load the mapping configuration? It would save me a
> lot of time!
>
> Thanks,
> Andreas
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171123/b34c53a0/attachment.html>

From nirvn.asia at gmail.com  Thu Nov 23 00:16:34 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Thu, 23 Nov 2017 15:16:34 +0700
Subject: [QGIS-Developer] Refactor Fields: save and load mapping
	configuration
In-Reply-To: <fc6a4bbb376cb01d80fb6d4141399bf9@carto.net>
References: <fc6a4bbb376cb01d80fb6d4141399bf9@carto.net>
Message-ID: <CAC_qv=r5my22v99=W5Q+fOFwArpzxmDQpyHfUK8LMxmgfz0SZQ@mail.gmail.com>

You could potentially use a model to save refactor fields settings. That
said, there's currently a problem (see issue
https://issues.qgis.org/issues/17421) preventing this algorithm from being
used in a model.

M

On Thu, Nov 23, 2017 at 3:01 PM, Andreas Neumann <a.neumann at carto.net>
wrote:

> Hi,
>
> The refactor fields algorithm is potentially very powerful.
>
> However, I do miss a way to save and load the configuration (or maybe I
> just haven't found it). I have layers with many fields and I am adding
> additional fields with expressions.
>
> Every time I run it, I have to do the configuration again and again. Is
> there a way to save and load the mapping configuration? It would save me a
> lot of time!
>
> Thanks,
> Andreas
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171123/731ad2c4/attachment.html>

From matthias at opengis.ch  Thu Nov 23 01:12:56 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 23 Nov 2017 10:12:56 +0100
Subject: [QGIS-Developer] Python error on start up from GRASS processing
In-Reply-To: <157C5B25-655E-4AC3-83AF-2FEDEE2CF668@kartoza.com>
References: <EED5157F-F55F-4024-A08E-710C5FF4C024@kartoza.com>
 <9739f591ca6ddc705d1d4bbb1d5a13a6@medspx.fr>
 <157C5B25-655E-4AC3-83AF-2FEDEE2CF668@kartoza.com>
Message-ID: <fa4399a1-6cb1-a3bc-048c-2f7462df3d63@opengis.ch>

Hi,

for me it wasn't just the build dir, but actually the source dir

rm -rf python/plugins/processing/algs/grass7/
git checkout -- python/plugins/processing/algs/grass7/

did the trick
Matthias

On 11/09/2017 11:00 PM, Tim Sutton wrote:
> Hi
> 
> Thanks Médéric - cleaning out my build dir fixed the issue.
> 
> Regards
> 
> Tim
> 
>> On 09 Nov 2017, at 22:18, Médéric Ribreux <mederic.ribreux at medspx.fr
>> <mailto:mederic.ribreux at medspx.fr>> wrote:
>>
>> Le 2017-11-09 20:28, Tim Sutton a écrit :
>>> Hi
>>> Its great to see the GRASS stuff merged now. However it gives me an
>>> error on startup:
>>> An error has occurred while executing Python code:
>>> TypeError: QgsProcessingAlgorithm.addParameter(): argument 1 has
>>> unexpected type 'ParameterRaster'
>>> Traceback (most recent call last):
>>>  File
>>> "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Algorithm.py",
>>> line 170, in initAlgorithm
>>>    res = self.addParameter(p, True)
>>> TypeError: QgsProcessingAlgorithm.addParameter(): argument 1 has
>>> unexpected type 'ParameterRaster'
>>> Python version: 3.6.2 (default, Jul 17 2017, 16:44:45) [GCC 4.2.1
>>> Compatible Apple LLVM 8.1.0 (clang-802.0.42)]
>>> QGIS version: 2.99.0-Master Master, 2c1e2014d7
>>> Python Path:
>>> *
>>> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing
>>> * /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python
>>> * /Users/timlinux/Library/Application
>>> Support/QGIS/QGIS3/profiles/default/python
>>> * /Users/timlinux/Library/Application
>>> Support/QGIS/QGIS3/profiles/default/python/plugins
>>> * /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins
>>> *
>>> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/bin/$PYTHONPATH
>>> * /usr/local/opt/gdal2-python/lib/python3.6/site-packages
>>> *
>>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python36.zip
>>> *
>>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6
>>> *
>>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload
>>> *
>>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages
>>> *
>>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pycharm-debug-py3k.egg
>>> * /Users/timlinux/Library/Application
>>> Support/QGIS/QGIS3/profiles/default/python
>>> Does anyone else get this?
>>> Regards
>>> Tim
>>> —
>>> TIM SUTTON
>>> CO-FOUNDER: Kartoza
>>> PROJECT CHAIR: QGIS.org <http://qgis.org/> [1]
>>> Visit http://kartoza.com <http://kartoza.com/> [2] to find out about
>>> open source:
>>> Desktop GIS programming services
>>> Geospatial web development
>>> GIS Training
>>> Consulting Services
>>> SKYPE: timlinux
>>> IRC: timlinux on #qgis at freenode.net <http://freenode.net/> [3]
>>> Kartoza is a merger between Linfiniti and Afrispatial
>>> Links:
>>> ------
>>> [1] http://QGIS.org <http://qgis.org/>
>>> [2] http://kartoza.com/
>>> [3] http://freenode.net <http://freenode.net/>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Hello,
>>
>> I can't reproduce on a fresh master build. It seems that you are using
>> some old description files (ParameterRaster has been transformed to
>> QgsProcessingParameterRaster).
>> I think you need to either start from a clean/new build directory or a
>> new install directory...
>>
>> Cheers,
>>
>> -- 
>> Médéric RIBREUX
>> https://medspx.fr <https://medspx.fr/>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> —
> 
> 
> 
> 
> 
> *Tim Sutton*
> 
> *Co-founder:* Kartoza
> *Project chair:* QGIS.org <http://QGIS.org>
> 
> Visit http://kartoza.com <http://kartoza.com/> to find out about open
> source:
> 
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
> 
> *Skype*: timlinux 
> *IRC:* timlinux on #qgis at freenode.net <http://freenode.net>
> 
> Kartoza is a merger between Linfiniti and Afrispatial
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From a.neumann at carto.net  Thu Nov 23 04:35:37 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 23 Nov 2017 13:35:37 +0100
Subject: [QGIS-Developer] Refactor Fields: save and load mapping
 configuration
In-Reply-To: <CABgOYCf003C+d=haLjg72FWkKe=YOnkGn791VkCdGAYw2JgruA@mail.gmail.com>
References: <fc6a4bbb376cb01d80fb6d4141399bf9@carto.net>
 <CABgOYCf003C+d=haLjg72FWkKe=YOnkGn791VkCdGAYw2JgruA@mail.gmail.com>
Message-ID: <6734ba48bd034cc6f2e03ca96a2bf922@carto.net>

Hi Régis, 

I agree - it would be good to brainstorm what's missing to have an
FME-like ETL environment. 

I see that you are coming to the Madeira dev meeting. Would be a good
opportunity for such discussions and then open the QEP in parallel (or
open it before and work on it). 

BTW: refactor fields isn't such a bad name in my opinion. Perhaps we
could introduce aliases for algorithms - so that they could be found
more easily? 

Greetings, 

Andreas 

On 2017-11-23 09:12, Régis Haubourg wrote:

> Hi Andreas,  
> I don't have any answer to that particular question, but in many project we are working for, it becomes clear that we need to push processing to become an ETL, and the field mapping component is clearly a key feature.  
> What do you think about opening a QEP and store in there all what's currently missing for a clean and easy workflow?  
> We clearly will have some funders in 2018.  
> 
> I see : 
> 
> # Mapping field alg: 
> 
> - rename it to something more easy to find. What about "Field matcher" ? 
> - automap fields using tolerant expression based on heuristics (unaccent, lowercase, soundhex or whatever, field order.. ) 
> - save and restore config.  
> - Auto restore for same table names 
> - And, the key for fame,  a graphical component for field matching, because this is what we all want :) 
> 
> # database writer : 
> - finely control all SQL options: drop table / recreate / truncate / insert / update with where clause  
> - add rollback option to just try without commiting 
> - return all database logs in details 
> 
> Opinions?  
> 
> Régis 
> 
> 2017-11-23 9:01 GMT+01:00 Andreas Neumann <a.neumann at carto.net>:
> 
>> Hi, 
>> 
>> The refactor fields algorithm is potentially very powerful. 
>> 
>> However, I do miss a way to save and load the configuration (or maybe I just haven't found it). I have layers with many fields and I am adding additional fields with expressions. 
>> 
>> Every time I run it, I have to do the configuration again and again. Is there a way to save and load the mapping configuration? It would save me a lot of time! 
>> 
>> Thanks,
>> Andreas 
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]

 

Links:
------
[1] https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171123/ea676ddb/attachment-0001.html>

From matthias at opengis.ch  Thu Nov 23 04:42:01 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 23 Nov 2017 13:42:01 +0100
Subject: [QGIS-Developer] Refactor Fields: save and load mapping
 configuration
In-Reply-To: <6734ba48bd034cc6f2e03ca96a2bf922@carto.net>
References: <fc6a4bbb376cb01d80fb6d4141399bf9@carto.net>
 <CABgOYCf003C+d=haLjg72FWkKe=YOnkGn791VkCdGAYw2JgruA@mail.gmail.com>
 <6734ba48bd034cc6f2e03ca96a2bf922@carto.net>
Message-ID: <7514851d-10e4-317f-fc76-7f514da09af4@opengis.ch>

Hi,

this is awesome and something I have been trying to push towards at a
lot of meetings over the last year.

It reminds me a lot of this proposal by Arnaud Morvan, with the
technical details that are required to get all your wishes working:

https://github.com/qgis/QGIS-Enhancement-Proposals/issues/89

Cheers
Matthias

On 11/23/2017 01:35 PM, Andreas Neumann wrote:
> Hi Régis,
> 
> I agree - it would be good to brainstorm what's missing to have an
> FME-like ETL environment.
> 
> I see that you are coming to the Madeira dev meeting. Would be a good
> opportunity for such discussions and then open the QEP in parallel (or
> open it before and work on it).
> 
> BTW: refactor fields isn't such a bad name in my opinion. Perhaps we
> could introduce aliases for algorithms - so that they could be found
> more easily?
> 
> Greetings,
> 
> Andreas
> 
> On 2017-11-23 09:12, Régis Haubourg wrote:
> 
>> Hi Andreas, 
>> I don't have any answer to that particular question, but in many
>> project we are working for, it becomes clear that we need to push
>> processing to become an ETL, and the field mapping component is
>> clearly a key feature. 
>> What do you think about opening a QEP and store in there all what's
>> currently missing for a clean and easy workflow? 
>> We clearly will have some funders in 2018. 
>>  
>> I see :
>>  
>> # Mapping field alg:
>>  
>>  - rename it to something more easy to find. What about "Field matcher" ?
>>  - automap fields using tolerant expression based on heuristics
>> (unaccent, lowercase, soundhex or whatever, field order.. )
>>  - save and restore config. 
>>  - Auto restore for same table names
>>  - And, the key for fame,  a graphical component for field matching,
>> because this is what we all want :)
>>  
>> # database writer :
>>  - finely control all SQL options: drop table / recreate / truncate /
>> insert / update with where clause 
>>  - add rollback option to just try without commiting
>>  - return all database logs in details
>>  
>> Opinions? 
>>  
>> Régis
>>  
>>
>> 2017-11-23 9:01 GMT+01:00 Andreas Neumann <a.neumann at carto.net
>> <mailto:a.neumann at carto.net>>:
>>
>>     Hi,
>>
>>     The refactor fields algorithm is potentially very powerful.
>>
>>     However, I do miss a way to save and load the configuration (or
>>     maybe I just haven't found it). I have layers with many fields and
>>     I am adding additional fields with expressions.
>>
>>     Every time I run it, I have to do the configuration again and
>>     again. Is there a way to save and load the mapping configuration?
>>     It would save me a lot of time!
>>
>>     Thanks,
>>     Andreas
>>
>>
>>
>>     _______________________________________________
>>     QGIS-Developer mailing list
>>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>     Unsubscribe:
>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From regis.haubourg at gmail.com  Thu Nov 23 04:48:22 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 23 Nov 2017 13:48:22 +0100
Subject: [QGIS-Developer] Refactor Fields: save and load mapping
	configuration
In-Reply-To: <6734ba48bd034cc6f2e03ca96a2bf922@carto.net>
References: <fc6a4bbb376cb01d80fb6d4141399bf9@carto.net>
 <CABgOYCf003C+d=haLjg72FWkKe=YOnkGn791VkCdGAYw2JgruA@mail.gmail.com>
 <6734ba48bd034cc6f2e03ca96a2bf922@carto.net>
Message-ID: <CABgOYCetkQw4akZfxryB9LBK9D6TXsOQcsbqKb4NpZ-vkWW_oQ@mail.gmail.com>

2017-11-23 13:35 GMT+01:00 Andreas Neumann <a.neumann at carto.net>:

> Hi Régis,
>
> I agree - it would be good to brainstorm what's missing to have an
> FME-like ETL environment.
>
> I see that you are coming to the Madeira dev meeting. Would be a good
> opportunity for such discussions and then open the QEP in parallel (or open
> it before and work on it).
>
Yep! Do we have already a place in the wiki to wirte that down ? Shall I
add a section in the madeira hackfest page?

BTW: refactor fields isn't such a bad name in my opinion. Perhaps we could
> introduce aliases for algorithms - so that they could be found more easily?
>
+1, better having many aliases than only one name !


> Greetings,
>
> Andreas
>
> On 2017-11-23 09:12, Régis Haubourg wrote:
>
> Hi Andreas,
> I don't have any answer to that particular question, but in many project
> we are working for, it becomes clear that we need to push processing to
> become an ETL, and the field mapping component is clearly a key feature.
> What do you think about opening a QEP and store in there all what's
> currently missing for a clean and easy workflow?
> We clearly will have some funders in 2018.
>
> I see :
>
> # Mapping field alg:
>
>  - rename it to something more easy to find. What about "Field matcher" ?
>  - automap fields using tolerant expression based on heuristics (unaccent,
> lowercase, soundhex or whatever, field order.. )
>  - save and restore config.
>  - Auto restore for same table names
>  - And, the key for fame,  a graphical component for field matching,
> because this is what we all want :)
>
> # database writer :
>  - finely control all SQL options: drop table / recreate / truncate /
> insert / update with where clause
>  - add rollback option to just try without commiting
>  - return all database logs in details
>
> Opinions?
>
> Régis
>
>
> 2017-11-23 9:01 GMT+01:00 Andreas Neumann <a.neumann at carto.net>:
>
>> Hi,
>>
>> The refactor fields algorithm is potentially very powerful.
>>
>> However, I do miss a way to save and load the configuration (or maybe I
>> just haven't found it). I have layers with many fields and I am adding
>> additional fields with expressions.
>>
>> Every time I run it, I have to do the configuration again and again. Is
>> there a way to save and load the mapping configuration? It would save me a
>> lot of time!
>>
>> Thanks,
>> Andreas
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171123/a757255f/attachment.html>

From regis.haubourg at gmail.com  Thu Nov 23 04:48:47 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 23 Nov 2017 13:48:47 +0100
Subject: [QGIS-Developer] Refactor Fields: save and load mapping
	configuration
In-Reply-To: <6734ba48bd034cc6f2e03ca96a2bf922@carto.net>
References: <fc6a4bbb376cb01d80fb6d4141399bf9@carto.net>
 <CABgOYCf003C+d=haLjg72FWkKe=YOnkGn791VkCdGAYw2JgruA@mail.gmail.com>
 <6734ba48bd034cc6f2e03ca96a2bf922@carto.net>
Message-ID: <CABgOYCe2uzN37GxMTwh7V0awkQTcbcWzLNxvs0nGBDSCH2pxAA@mail.gmail.com>

2017-11-23 13:35 GMT+01:00 Andreas Neumann <a.neumann at carto.net>:

> Hi Régis,
>
> I agree - it would be good to brainstorm what's missing to have an
> FME-like ETL environment.
>
> I see that you are coming to the Madeira dev meeting. Would be a good
> opportunity for such discussions and then open the QEP in parallel (or open
> it before and work on it).
>
Yep! Do we have already a place in the wiki to

> BTW: refactor fields isn't such a bad name in my opinion. Perhaps we could
> introduce aliases for algorithms - so that they could be found more easily?
>
> Greetings,
>
> Andreas
>
> On 2017-11-23 09:12, Régis Haubourg wrote:
>
> Hi Andreas,
> I don't have any answer to that particular question, but in many project
> we are working for, it becomes clear that we need to push processing to
> become an ETL, and the field mapping component is clearly a key feature.
> What do you think about opening a QEP and store in there all what's
> currently missing for a clean and easy workflow?
> We clearly will have some funders in 2018.
>
> I see :
>
> # Mapping field alg:
>
>  - rename it to something more easy to find. What about "Field matcher" ?
>  - automap fields using tolerant expression based on heuristics (unaccent,
> lowercase, soundhex or whatever, field order.. )
>  - save and restore config.
>  - Auto restore for same table names
>  - And, the key for fame,  a graphical component for field matching,
> because this is what we all want :)
>
> # database writer :
>  - finely control all SQL options: drop table / recreate / truncate /
> insert / update with where clause
>  - add rollback option to just try without commiting
>  - return all database logs in details
>
> Opinions?
>
> Régis
>
>
> 2017-11-23 9:01 GMT+01:00 Andreas Neumann <a.neumann at carto.net>:
>
>> Hi,
>>
>> The refactor fields algorithm is potentially very powerful.
>>
>> However, I do miss a way to save and load the configuration (or maybe I
>> just haven't found it). I have layers with many fields and I am adding
>> additional fields with expressions.
>>
>> Every time I run it, I have to do the configuration again and again. Is
>> there a way to save and load the mapping configuration? It would save me a
>> lot of time!
>>
>> Thanks,
>> Andreas
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171123/7eb1b633/attachment.html>

From arnaud.morvan at camptocamp.com  Thu Nov 23 05:11:16 2017
From: arnaud.morvan at camptocamp.com (Arnaud Morvan)
Date: Thu, 23 Nov 2017 14:11:16 +0100
Subject: [QGIS-Developer] QGIS Server request extra parameters as
 variables for expressions
In-Reply-To: <007d5e78-6259-912f-4b10-b0a3e1919736@gmail.com>
References: <ed3bf843-e0a1-d6e0-c33f-b104635cdee6@camptocamp.com>
 <007d5e78-6259-912f-4b10-b0a3e1919736@gmail.com>
Message-ID: <da5728d8-e2ae-a3ad-c62f-87d3db00dd88@camptocamp.com>

Hello,

I would like GetMap and GetFeature request extra parameters to be 
accessible as variables in server.

So we could define, in QGIS project, a variable "floor", used to filter 
layers.

On desktop side, we could have a desktop plugin named FloorSlider to 
change the "floor" value.

And on the server side, the floor value could be passed as extra parameter.

So it would be easy to handle multi-floor layers in a project file.


Arnaud Morvan
Ingénieur logiciel
Tél: +33 (0)4 58 48 20 32

Camptocamp France SAS
18 rue du Lac Saint André
Savoie Technolac - Bâtiment Le Dauphin
F-73370 Le Bourget du Lac
http://www.camptocamp.com

Le 22/11/2017 à 18:05, René-Luc Dhont a écrit :
> Hi Arnaud,
>
> Is it like updated a QGIS project variables ?
>
> Regards,
>
> René-Luc
>
>
> Le 22/11/2017 à 15:31, Arnaud Morvan a écrit :
>> Hello,
>>
>> With mapserver, request extra parameters are accessible as template 
>> variables in mapfile.
>>
>> I would like to implement the same possibility in QGIS Server, extra 
>> parameters may be accessible in project as expression variables.
>>
>> For example : I would like to pass in a GetMap request an extra 
>> parameter FLOOR.
>>
>> This parameter could be handled by QGIS Server as a variable value, 
>> so this could be used in the project to filter some layers using an 
>> expression.
>>
>> Do you think this could be acceptable directly in QGIS Server, or may 
>> I have to wrote a plugin.
>>
>> Maybe this type of plugin already exists ?
>>
>> Note that I'm not familiar with server part.
>>
>> Best regards
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From matthias at opengis.ch  Thu Nov 23 05:38:14 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 23 Nov 2017 14:38:14 +0100
Subject: [QGIS-Developer] QGIS Server request extra parameters as
 variables for expressions
In-Reply-To: <da5728d8-e2ae-a3ad-c62f-87d3db00dd88@camptocamp.com>
References: <ed3bf843-e0a1-d6e0-c33f-b104635cdee6@camptocamp.com>
 <007d5e78-6259-912f-4b10-b0a3e1919736@gmail.com>
 <da5728d8-e2ae-a3ad-c62f-87d3db00dd88@camptocamp.com>
Message-ID: <84f6f5dc-38e1-a161-06b5-1c9bcd6d982f@opengis.ch>

Like WMS dimension?

http://mapserver.org/ogc/wms_dimension.html

Matthias


On 11/23/17 2:11 PM, Arnaud Morvan wrote:
> Hello,
>
> I would like GetMap and GetFeature request extra parameters to be
> accessible as variables in server.
>
> So we could define, in QGIS project, a variable "floor", used to
> filter layers.
>
> On desktop side, we could have a desktop plugin named FloorSlider to
> change the "floor" value.
>
> And on the server side, the floor value could be passed as extra
> parameter.
>
> So it would be easy to handle multi-floor layers in a project file.
>
>
> Arnaud Morvan
> Ingénieur logiciel
> Tél: +33 (0)4 58 48 20 32
>
> Camptocamp France SAS
> 18 rue du Lac Saint André
> Savoie Technolac - Bâtiment Le Dauphin
> F-73370 Le Bourget du Lac
> http://www.camptocamp.com
>
> Le 22/11/2017 à 18:05, René-Luc Dhont a écrit :
>> Hi Arnaud,
>>
>> Is it like updated a QGIS project variables ?
>>
>> Regards,
>>
>> René-Luc
>>
>>
>> Le 22/11/2017 à 15:31, Arnaud Morvan a écrit :
>>> Hello,
>>>
>>> With mapserver, request extra parameters are accessible as template
>>> variables in mapfile.
>>>
>>> I would like to implement the same possibility in QGIS Server, extra
>>> parameters may be accessible in project as expression variables.
>>>
>>> For example : I would like to pass in a GetMap request an extra
>>> parameter FLOOR.
>>>
>>> This parameter could be handled by QGIS Server as a variable value,
>>> so this could be used in the project to filter some layers using an
>>> expression.
>>>
>>> Do you think this could be acceptable directly in QGIS Server, or
>>> may I have to wrote a plugin.
>>>
>>> Maybe this type of plugin already exists ?
>>>
>>> Note that I'm not familiar with server part.
>>>
>>> Best regards
>>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


From patrick.valsecchi at camptocamp.com  Thu Nov 23 05:49:35 2017
From: patrick.valsecchi at camptocamp.com (Patrick Valsecchi)
Date: Thu, 23 Nov 2017 14:49:35 +0100
Subject: [QGIS-Developer] QGIS Server request extra parameters as
 variables for expressions
In-Reply-To: <84f6f5dc-38e1-a161-06b5-1c9bcd6d982f@opengis.ch>
References: <ed3bf843-e0a1-d6e0-c33f-b104635cdee6@camptocamp.com>
 <007d5e78-6259-912f-4b10-b0a3e1919736@gmail.com>
 <da5728d8-e2ae-a3ad-c62f-87d3db00dd88@camptocamp.com>
 <84f6f5dc-38e1-a161-06b5-1c9bcd6d982f@opengis.ch>
Message-ID: <CAKOK4jjUxcpOcrt6=gNtKDmmZLPSt4cVdaniBMC_dtq15W9M7A@mail.gmail.com>

You could do that using the filter parameter with something like that:
FILTER=layer_name:"floor" = 3

On Thu, Nov 23, 2017 at 2:38 PM, Matthias Kuhn <matthias at opengis.ch> wrote:

> Like WMS dimension?
>
> http://mapserver.org/ogc/wms_dimension.html
>
> Matthias
>
>
> On 11/23/17 2:11 PM, Arnaud Morvan wrote:
> > Hello,
> >
> > I would like GetMap and GetFeature request extra parameters to be
> > accessible as variables in server.
> >
> > So we could define, in QGIS project, a variable "floor", used to
> > filter layers.
> >
> > On desktop side, we could have a desktop plugin named FloorSlider to
> > change the "floor" value.
> >
> > And on the server side, the floor value could be passed as extra
> > parameter.
> >
> > So it would be easy to handle multi-floor layers in a project file.
> >
> >
> > Arnaud Morvan
> > Ingénieur logiciel
> > Tél: +33 (0)4 58 48 20 32
> >
> > Camptocamp France SAS
> > 18 rue du Lac Saint André
> > Savoie Technolac - Bâtiment Le Dauphin
> > F-73370 Le Bourget du Lac
> > http://www.camptocamp.com
> >
> > Le 22/11/2017 à 18:05, René-Luc Dhont a écrit :
> >> Hi Arnaud,
> >>
> >> Is it like updated a QGIS project variables ?
> >>
> >> Regards,
> >>
> >> René-Luc
> >>
> >>
> >> Le 22/11/2017 à 15:31, Arnaud Morvan a écrit :
> >>> Hello,
> >>>
> >>> With mapserver, request extra parameters are accessible as template
> >>> variables in mapfile.
> >>>
> >>> I would like to implement the same possibility in QGIS Server, extra
> >>> parameters may be accessible in project as expression variables.
> >>>
> >>> For example : I would like to pass in a GetMap request an extra
> >>> parameter FLOOR.
> >>>
> >>> This parameter could be handled by QGIS Server as a variable value,
> >>> so this could be used in the project to filter some layers using an
> >>> expression.
> >>>
> >>> Do you think this could be acceptable directly in QGIS Server, or
> >>> may I have to wrote a plugin.
> >>>
> >>> Maybe this type of plugin already exists ?
> >>>
> >>> Note that I'm not familiar with server part.
> >>>
> >>> Best regards
> >>>
> >>
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171123/717c4024/attachment.html>

From arnaud.morvan at camptocamp.com  Thu Nov 23 07:46:57 2017
From: arnaud.morvan at camptocamp.com (Arnaud Morvan)
Date: Thu, 23 Nov 2017 16:46:57 +0100
Subject: [QGIS-Developer] QGIS Server request extra parameters as
 variables for expressions
In-Reply-To: <CAKOK4jjUxcpOcrt6=gNtKDmmZLPSt4cVdaniBMC_dtq15W9M7A@mail.gmail.com>
References: <ed3bf843-e0a1-d6e0-c33f-b104635cdee6@camptocamp.com>
 <007d5e78-6259-912f-4b10-b0a3e1919736@gmail.com>
 <da5728d8-e2ae-a3ad-c62f-87d3db00dd88@camptocamp.com>
 <84f6f5dc-38e1-a161-06b5-1c9bcd6d982f@opengis.ch>
 <CAKOK4jjUxcpOcrt6=gNtKDmmZLPSt4cVdaniBMC_dtq15W9M7A@mail.gmail.com>
Message-ID: <fd05f84f-1a8c-f34f-0ac9-b374afba0473@camptocamp.com>

@Patrick :

Yes, I know that it is possible to use FILTER in request, but I'm not 
sure all layers will have the same field name for "floor".

So I would prefer to define a filter in each layer definition in the 
project file using a common variable name.

And I would like to have the same behavior on desktop side (using a UI 
plugin that set the variable value and refresh the canvas).

@Mathias :

Yes after taking a look, WMS dimensions is exactly the idea I have in mind.

In mapserver documentation about WMS dimension I see that the dimension 
field is defined in each layer.

LAYER
   NAME  "lakes_elev"
   METADATA
     "wms_title"          "Lakes"
     "wms_description"    "Lakes"
     "wms_dimensionlist"  "elevation, text_dimension"
     "wms_elevation_item"  "ELEV"
     "wms_elevation_extent"  "500, 490, 480"
     "wms_elevation_units"  "meters"
     "wms_elevation_default"  "500"
     "wms_text_dimension_item"  "text_dimen"
     "wms_text_dimension_extent"  "first, second, third"
      "wms_text_dimension_units"  "my_units"
      "wms_enable_request"  "*"
   END
   TYPE  POLYGON
   ..

END


Is there something about WMS dimensions in QGIS server roadmap ?


For now we do it in mapserver using normal template variables, for 
example :

LAYER

VALIDATION

         "floor" "[+-][0-9A]+"'

     END

     DATA "geom FROM (SELECT * FROM mytable WHERE etage = '%floor%' OR 
etage IS NULL OR '%floor%' = 'NULL') AS foo USING UNIQUE id USING srid=3945"

END

Note that here the default is no filter at all (all features displayed 
when the parameter is missing), and features with etage == NULL are 
displayed on all floors.

Arnaud Morvan
Ingénieur logiciel
Tél: +33 (0)4 58 48 20 32

Camptocamp France SAS
18 rue du Lac Saint André
Savoie Technolac - Bâtiment Le Dauphin
F-73370 Le Bourget du Lac
http://www.camptocamp.com

Le 23/11/2017 à 14:49, Patrick Valsecchi a écrit :
> You could do that using the filter parameter with something like that:
> FILTER=layer_name:"floor" = 3
>
> On Thu, Nov 23, 2017 at 2:38 PM, Matthias Kuhn <matthias at opengis.ch 
> <mailto:matthias at opengis.ch>> wrote:
>
>     Like WMS dimension?
>
>     http://mapserver.org/ogc/wms_dimension.html
>     <http://mapserver.org/ogc/wms_dimension.html>
>
>     Matthias
>
>
>     On 11/23/17 2:11 PM, Arnaud Morvan wrote:
>     > Hello,
>     >
>     > I would like GetMap and GetFeature request extra parameters to be
>     > accessible as variables in server.
>     >
>     > So we could define, in QGIS project, a variable "floor", used to
>     > filter layers.
>     >
>     > On desktop side, we could have a desktop plugin named FloorSlider to
>     > change the "floor" value.
>     >
>     > And on the server side, the floor value could be passed as extra
>     > parameter.
>     >
>     > So it would be easy to handle multi-floor layers in a project file.
>     >
>     >
>     > Arnaud Morvan
>     > Ingénieur logiciel
>     > Tél: +33 (0)4 58 48 20 32 <tel:%2B33%20%280%294%2058%2048%2020%2032>
>     >
>     > Camptocamp France SAS
>     > 18 rue du Lac Saint André
>     > Savoie Technolac - Bâtiment Le Dauphin
>     > F-73370 Le Bourget du Lac
>     > http://www.camptocamp.com
>     >
>     > Le 22/11/2017 à 18:05, René-Luc Dhont a écrit :
>     >> Hi Arnaud,
>     >>
>     >> Is it like updated a QGIS project variables ?
>     >>
>     >> Regards,
>     >>
>     >> René-Luc
>     >>
>     >>
>     >> Le 22/11/2017 à 15:31, Arnaud Morvan a écrit :
>     >>> Hello,
>     >>>
>     >>> With mapserver, request extra parameters are accessible as
>     template
>     >>> variables in mapfile.
>     >>>
>     >>> I would like to implement the same possibility in QGIS Server,
>     extra
>     >>> parameters may be accessible in project as expression variables.
>     >>>
>     >>> For example : I would like to pass in a GetMap request an extra
>     >>> parameter FLOOR.
>     >>>
>     >>> This parameter could be handled by QGIS Server as a variable
>     value,
>     >>> so this could be used in the project to filter some layers
>     using an
>     >>> expression.
>     >>>
>     >>> Do you think this could be acceptable directly in QGIS Server, or
>     >>> may I have to wrote a plugin.
>     >>>
>     >>> Maybe this type of plugin already exists ?
>     >>>
>     >>> Note that I'm not familiar with server part.
>     >>>
>     >>> Best regards
>     >>>
>     >>
>     >> _______________________________________________
>     >> QGIS-Developer mailing list
>     >> QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>     >> List info:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     >> Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     >
>     > _______________________________________________
>     > QGIS-Developer mailing list
>     > QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>     > List info:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     > Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     >
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171123/840476c7/attachment-0001.html>

From engnfrc at gmail.com  Thu Nov 23 09:04:45 2017
From: engnfrc at gmail.com (Joshua Quesenberry)
Date: Thu, 23 Nov 2017 12:04:45 -0500
Subject: [QGIS-Developer] GRASS r.walk
Message-ID: <018501d3647d$2adde0b0$8099a210$@gmail.com>

Happy Thanksgiving Everyone!

 

Who's very familiar with GRASS r.walk? I'm finding some tutorials and man
pages with examples but having trouble applying what I've found. I'm trying
to create mobility models for use with lost person analytics.

 

Does is matter what format the input layers are in? Should they all be UTM
since that's in meters? Or is it smart enough to mix and match WGS84 and UTM
layers? And along the same lines, does my DEM need to have cells in meters?
Most of what I get comes native in WGS84 with altitudes in feet, so if I
don't need to add extra steps converting to UTM and cells to meters that's a
good thing.

 

For the friction layer, the example on the man page appears to use
landclass96 and only has 7 classifications. the NLCD 2011 land
classification file I have has 30-40 classifications ranging from 11 to 95,
does anyone have friction costs that can be applied to this data? Or at the
very least some idea of the best method to use to come up with those values
myself?

 

Thanks!

 

Josh Q

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171123/ac680118/attachment.html>

From rdmailings at duif.net  Thu Nov 23 11:53:07 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 23 Nov 2017 20:53:07 +0100
Subject: [QGIS-Developer] QGIS Server request extra parameters as
 variables for expressions
In-Reply-To: <fd05f84f-1a8c-f34f-0ac9-b374afba0473@camptocamp.com>
References: <ed3bf843-e0a1-d6e0-c33f-b104635cdee6@camptocamp.com>
 <007d5e78-6259-912f-4b10-b0a3e1919736@gmail.com>
 <da5728d8-e2ae-a3ad-c62f-87d3db00dd88@camptocamp.com>
 <84f6f5dc-38e1-a161-06b5-1c9bcd6d982f@opengis.ch>
 <CAKOK4jjUxcpOcrt6=gNtKDmmZLPSt4cVdaniBMC_dtq15W9M7A@mail.gmail.com>
 <fd05f84f-1a8c-f34f-0ac9-b374afba0473@camptocamp.com>
Message-ID: <ad078113-dbc4-9946-ad72-adba4ac19cee@duif.net>

On 23-11-17 16:46, Arnaud Morvan wrote:

> @Mathias :
> 
> Yes after taking a look, WMS dimensions is exactly the idea I have in mind.

Mmm,

I think Dimensions is a different case, as Dimensions are tied to WMS-T
[0] and the query parameter is defined as
&TIME=...,...
&TIME=...
etc
OR elevation:
&ELEVATION=

GeoServer has (besides dimensions) even some more use of 'variables'
which you can use in different places:

- possible variable substitutions in sld's [1]
&&env=name1:value1;name2=value2&...

- sql view parameters [2]
&viewparams=p1:v1;p2:v2;...

- format options in CQL queries [3]
&format_options=param1:value1;param2:value2;...

I think the 'expressions'-variables you are talking about are most close
to the viewparams (though if it only filters the styling itis a sld one...).

My point: let's define a 'common' param, shared between different FOSS
wms's instead of coming up with our own wheel :-)

Regards,

Richard Duivenvoorde

[0]
https://anitagraser.com/2011/06/10/wms-t-support-in-geoserver-and-mapserver/
[1]
http://docs.geoserver.org/stable/en/user/styling/sld/extensions/substitution.html
[2] http://docs.geoserver.org/latest/en/user/data/database/sqlview.html
[3] http://docs.geoserver.org/latest/en/user/services/wfs/vendor.html

From engnfrc at gmail.com  Thu Nov 23 12:50:21 2017
From: engnfrc at gmail.com (Joshua Quesenberry)
Date: Thu, 23 Nov 2017 15:50:21 -0500
Subject: [QGIS-Developer] GRASS r.walk
In-Reply-To: <018501d3647d$2adde0b0$8099a210$@gmail.com>
References: <018501d3647d$2adde0b0$8099a210$@gmail.com>
Message-ID: <01b201d3649c$ae4a0a40$0ade1ec0$@gmail.com>

Is it normal for an r.walk over an area of 10,500 acres to use up 12GB of HD
space and want more? That's using up every bit of space I have left, so it's
crashing out. I tried setting the maximum cost to 10 and I think 1 also, but
the algorithm keeps running for a long time making these really large files.

 

Thanks,

 

Josh Q

 

From: Joshua Quesenberry [mailto:engnfrc at gmail.com] 
Sent: Thursday, November 23, 2017 12:05 PM
To: qgis-developer at lists.osgeo.org
Cc: engnfrc at gmail.com
Subject: GRASS r.walk

 

Happy Thanksgiving Everyone!

 

Who's very familiar with GRASS r.walk? I'm finding some tutorials and man
pages with examples but having trouble applying what I've found. I'm trying
to create mobility models for use with lost person analytics.

 

Does is matter what format the input layers are in? Should they all be UTM
since that's in meters? Or is it smart enough to mix and match WGS84 and UTM
layers? And along the same lines, does my DEM need to have cells in meters?
Most of what I get comes native in WGS84 with altitudes in feet, so if I
don't need to add extra steps converting to UTM and cells to meters that's a
good thing.

 

For the friction layer, the example on the man page appears to use
landclass96 and only has 7 classifications. the NLCD 2011 land
classification file I have has 30-40 classifications ranging from 11 to 95,
does anyone have friction costs that can be applied to this data? Or at the
very least some idea of the best method to use to come up with those values
myself?

 

Thanks!

 

Josh Q

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171123/6c61c1dc/attachment.html>

From enzedrailmaps at gmail.com  Thu Nov 23 20:10:59 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Fri, 24 Nov 2017 17:10:59 +1300
Subject: [QGIS-Developer] Compatibility between 2.99 project files and 2.18
Message-ID: <cbbb08a4-25dd-c89f-77dd-ba6d715dbb63@gmail.com>

As of the moment I'm finding that 2.18 has difficulty correctly 
detecting the CRS from a project file saved from the latest master. 
Generally EPSG:3857 is detected as EPSG:4326

Given the master is still a development version is this considered a bug 
in 2.18 or is there still a process of defining the 3.0 project file 
format to the point where it is reasonably compatible with older versions.



From nyall.dawson at gmail.com  Thu Nov 23 20:14:20 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 24 Nov 2017 14:14:20 +1000
Subject: [QGIS-Developer] Compatibility between 2.99 project files and
	2.18
In-Reply-To: <cbbb08a4-25dd-c89f-77dd-ba6d715dbb63@gmail.com>
References: <cbbb08a4-25dd-c89f-77dd-ba6d715dbb63@gmail.com>
Message-ID: <CAB28AshzdvpBo=V=wYVo=Qk5HFPZGH8jMedThAvMN2B_VLL0ww@mail.gmail.com>

On 24 November 2017 at 14:10, Patrick Dunford <enzedrailmaps at gmail.com> wrote:
> As of the moment I'm finding that 2.18 has difficulty correctly detecting
> the CRS from a project file saved from the latest master. Generally
> EPSG:3857 is detected as EPSG:4326
>
> Given the master is still a development version is this considered a bug in
> 2.18 or is there still a process of defining the 3.0 project file format to
> the point where it is reasonably compatible with older versions.

Bad news: There is ZERO compatibility with QGIS 2.x. Moving QGIS
projects to 3.0 is a one-way street.

Nyall

From enzedrailmaps at gmail.com  Thu Nov 23 21:24:59 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Fri, 24 Nov 2017 18:24:59 +1300
Subject: [QGIS-Developer] Compatibility between 2.99 project files and
 2.18
In-Reply-To: <CAB28AshzdvpBo=V=wYVo=Qk5HFPZGH8jMedThAvMN2B_VLL0ww@mail.gmail.com>
References: <cbbb08a4-25dd-c89f-77dd-ba6d715dbb63@gmail.com>
 <CAB28AshzdvpBo=V=wYVo=Qk5HFPZGH8jMedThAvMN2B_VLL0ww@mail.gmail.com>
Message-ID: <5fbb25f5-a1bf-4586-66d8-dd4e6bf692f7@gmail.com>

Older versions can read enough of the project files to be functional, 
however. At some point someone will need to use an older version to 
resolve a bug in a newer version.


On 24/11/17 17:14, Nyall Dawson wrote:
> On 24 November 2017 at 14:10, Patrick Dunford <enzedrailmaps at gmail.com> wrote:
>> As of the moment I'm finding that 2.18 has difficulty correctly detecting
>> the CRS from a project file saved from the latest master. Generally
>> EPSG:3857 is detected as EPSG:4326
>>
>> Given the master is still a development version is this considered a bug in
>> 2.18 or is there still a process of defining the 3.0 project file format to
>> the point where it is reasonably compatible with older versions.
> Bad news: There is ZERO compatibility with QGIS 2.x. Moving QGIS
> projects to 3.0 is a one-way street.
>
> Nyall


From noreply at qgis.org  Thu Nov 23 22:53:44 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 24 Nov 2017 06:53:44 -0000
Subject: [QGIS-Developer] Plugin [638] Processing Workflows approval
	notification.
Message-ID: <20171124065344.28623.8469@320558c5528b>


Plugin Processing Workflows approval by zimbogisgeek.
The plugin version "[638] Processing Workflows 1.2.2" is now approved
Link: http://plugins.qgis.org/plugins/processing_workflow/

From nyall.dawson at gmail.com  Thu Nov 23 23:21:13 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 24 Nov 2017 17:21:13 +1000
Subject: [QGIS-Developer] Refactor Fields: save and load mapping
	configuration
In-Reply-To: <6734ba48bd034cc6f2e03ca96a2bf922@carto.net>
References: <fc6a4bbb376cb01d80fb6d4141399bf9@carto.net>
 <CABgOYCf003C+d=haLjg72FWkKe=YOnkGn791VkCdGAYw2JgruA@mail.gmail.com>
 <6734ba48bd034cc6f2e03ca96a2bf922@carto.net>
Message-ID: <CAB28AsghdMe_DxWWxXiPDjeoEdgHkX3b4PTYnPGNw6kq79PhdA@mail.gmail.com>

On 23 November 2017 at 22:35, Andreas Neumann <a.neumann at carto.net> wrote:

> BTW: refactor fields isn't such a bad name in my opinion. Perhaps we could
> introduce aliases for algorithms - so that they could be found more easily?

Algorithms have support for "tags", which I think covers the alias use
case. So in this case refactor fields should have tags for
"rename,add,edit,modify,attributes,..." etc.

Nyall

From nyall.dawson at gmail.com  Thu Nov 23 23:23:39 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 24 Nov 2017 17:23:39 +1000
Subject: [QGIS-Developer] QGIS variables in Python code
In-Reply-To: <7a480b21-432c-0f12-8b3f-a56cd0ab29ed@carto.net>
References: <7a480b21-432c-0f12-8b3f-a56cd0ab29ed@carto.net>
Message-ID: <CAB28AshXOayRY36kcopaehytf1CjvN2y78ZZs4fixp1U6BhZxQ@mail.gmail.com>

On 22 November 2017 at 21:21, Andreas Neumann <a.neumann at carto.net> wrote:
> Hi,
>
> Is it possible to query the value of a QGIS variable in Python code? E.g.
> I'd like to find out in my code the full storage path to the folder of my
> current QGIS project, which would be available in the @project_folder
> variable.
>

Yes, as Ismail said.

However, in this case it's easier to just use the PyQGIS QgsProject
API directly:

QgsProject.instance().fileName()

or

QgsProject.instance().homePath()

Nyall

From a.neumann at carto.net  Fri Nov 24 00:30:43 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 24 Nov 2017 09:30:43 +0100
Subject: [QGIS-Developer] QGIS variables in Python code
In-Reply-To: <CAB28AshXOayRY36kcopaehytf1CjvN2y78ZZs4fixp1U6BhZxQ@mail.gmail.com>
References: <7a480b21-432c-0f12-8b3f-a56cd0ab29ed@carto.net>
 <CAB28AshXOayRY36kcopaehytf1CjvN2y78ZZs4fixp1U6BhZxQ@mail.gmail.com>
Message-ID: <2bf916713bd8721af1a1414accfcc767@carto.net>

Hi, 

Thanks, Ismail and Nyall! 

Andreas 

On 2017-11-24 08:23, Nyall Dawson wrote:

> On 22 November 2017 at 21:21, Andreas Neumann <a.neumann at carto.net> wrote: 
> 
>> Hi,
>> 
>> Is it possible to query the value of a QGIS variable in Python code? E.g.
>> I'd like to find out in my code the full storage path to the folder of my
>> current QGIS project, which would be available in the @project_folder
>> variable.
> 
> Yes, as Ismail said.
> 
> However, in this case it's easier to just use the PyQGIS QgsProject
> API directly:
> 
> QgsProject.instance().fileName()
> 
> or
> 
> QgsProject.instance().homePath()
> 
> Nyall
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171124/db6c573f/attachment.html>

From lbartoletti at tuxfamily.org  Fri Nov 24 01:04:59 2017
From: lbartoletti at tuxfamily.org (lbartoletti at tuxfamily.org)
Date: Fri, 24 Nov 2017 10:04:59 +0100
Subject: [QGIS-Developer] QgsVectorXD vs QVectorXD
Message-ID: <920b50ef4450e048bbc4af54908c789f@tuxfamily.org>

Hi,

I'm trying to port in QGis a new algorithm for CAD (intersection of 3D 
lines).
So I need vectors, for my tests I used QVector3D from Qt5 GUI, but I 
wonder if it is not better to create a new QgsVector3D class in qgis 
core lib.
How do you feel about that?

Regards.

Loïc

From rldhont at gmail.com  Fri Nov 24 02:02:19 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Fri, 24 Nov 2017 11:02:19 +0100
Subject: [QGIS-Developer] QGIS Server request extra parameters as
 variables for expressions
In-Reply-To: <ad078113-dbc4-9946-ad72-adba4ac19cee@duif.net>
References: <ed3bf843-e0a1-d6e0-c33f-b104635cdee6@camptocamp.com>
 <007d5e78-6259-912f-4b10-b0a3e1919736@gmail.com>
 <da5728d8-e2ae-a3ad-c62f-87d3db00dd88@camptocamp.com>
 <84f6f5dc-38e1-a161-06b5-1c9bcd6d982f@opengis.ch>
 <CAKOK4jjUxcpOcrt6=gNtKDmmZLPSt4cVdaniBMC_dtq15W9M7A@mail.gmail.com>
 <fd05f84f-1a8c-f34f-0ac9-b374afba0473@camptocamp.com>
 <ad078113-dbc4-9946-ad72-adba4ac19cee@duif.net>
Message-ID: <0710b613-389d-d9d8-fbe1-b55a8d25be21@gmail.com>

@Arnaud:

There is no WMS dimensions in QGIS server roadmap

@Richard:

Which one of the three GeoServer implementation is the more 'common' way ?


To my point of view, having the capability to update QGIS Variables 
through HTTP parameters will be a great enhancement.

About the WMS dimensions, QGIS will need some enhancement about Raster 
data to apply filtering, changes band in style and/or use expression for 
styles.

Regards,

René-Luc


Le 23/11/2017 à 20:53, Richard Duivenvoorde a écrit :
> On 23-11-17 16:46, Arnaud Morvan wrote:
>
>> @Mathias :
>>
>> Yes after taking a look, WMS dimensions is exactly the idea I have in mind.
> Mmm,
>
> I think Dimensions is a different case, as Dimensions are tied to WMS-T
> [0] and the query parameter is defined as
> &TIME=...,...
> &TIME=...
> etc
> OR elevation:
> &ELEVATION=
>
> GeoServer has (besides dimensions) even some more use of 'variables'
> which you can use in different places:
>
> - possible variable substitutions in sld's [1]
> &&env=name1:value1;name2=value2&...
>
> - sql view parameters [2]
> &viewparams=p1:v1;p2:v2;...
>
> - format options in CQL queries [3]
> &format_options=param1:value1;param2:value2;...
>
> I think the 'expressions'-variables you are talking about are most close
> to the viewparams (though if it only filters the styling itis a sld one...).
>
> My point: let's define a 'common' param, shared between different FOSS
> wms's instead of coming up with our own wheel :-)
>
> Regards,
>
> Richard Duivenvoorde
>
> [0]
> https://anitagraser.com/2011/06/10/wms-t-support-in-geoserver-and-mapserver/
> [1]
> http://docs.geoserver.org/stable/en/user/styling/sld/extensions/substitution.html
> [2] http://docs.geoserver.org/latest/en/user/data/database/sqlview.html
> [3] http://docs.geoserver.org/latest/en/user/services/wfs/vendor.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From p.vanbreugel at gmail.com  Fri Nov 24 02:04:01 2017
From: p.vanbreugel at gmail.com (Paulo van Breugel)
Date: Fri, 24 Nov 2017 11:04:01 +0100
Subject: [QGIS-Developer] GRASS r.walk
In-Reply-To: <01b201d3649c$ae4a0a40$0ade1ec0$@gmail.com>
References: <018501d3647d$2adde0b0$8099a210$@gmail.com>
 <01b201d3649c$ae4a0a40$0ade1ec0$@gmail.com>
Message-ID: <CAGrkfcLpUQ=549DDUmVU85=Y=srJV-7-s9m8q-DqA+1nD54voQ@mail.gmail.com>

Hi Josh,

I would suggest to send questions to the grass user and/or developers list (
https://grass.osgeo.org/support/mailing-lists/).

Best wishes,

Paulo


On Thu, Nov 23, 2017 at 9:50 PM, Joshua Quesenberry <engnfrc at gmail.com>
wrote:

> Is it normal for an r.walk over an area of 10,500 acres to use up 12GB of
> HD space and want more? That’s using up every bit of space I have left, so
> it’s crashing out. I tried setting the maximum cost to 10 and I think 1
> also, but the algorithm keeps running for a long time making these really
> large files…
>
>
>
> Thanks,
>
>
>
> Josh Q
>
>
>
> *From:* Joshua Quesenberry [mailto:engnfrc at gmail.com]
> *Sent:* Thursday, November 23, 2017 12:05 PM
> *To:* qgis-developer at lists.osgeo.org
> *Cc:* engnfrc at gmail.com
> *Subject:* GRASS r.walk
>
>
>
> Happy Thanksgiving Everyone!
>
>
>
> Who’s very familiar with GRASS r.walk? I’m finding some tutorials and man
> pages with examples but having trouble applying what I’ve found. I’m trying
> to create mobility models for use with lost person analytics.
>
>
>
> Does is matter what format the input layers are in? Should they all be UTM
> since that’s in meters? Or is it smart enough to mix and match WGS84 and
> UTM layers? And along the same lines, does my DEM need to have cells in
> meters? Most of what I get comes native in WGS84 with altitudes in feet, so
> if I don’t need to add extra steps converting to UTM and cells to meters
> that’s a good thing.
>
>
>
> For the friction layer, the example on the man page appears to use
> landclass96 and only has 7 classifications… the NLCD 2011 land
> classification file I have has 30-40 classifications ranging from 11 to 95,
> does anyone have friction costs that can be applied to this data? Or at the
> very least some idea of the best method to use to come up with those values
> myself?
>
>
>
> Thanks!
>
>
>
> Josh Q
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171124/b17fa19b/attachment.html>

From matthias at opengis.ch  Fri Nov 24 02:45:11 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 24 Nov 2017 11:45:11 +0100
Subject: [QGIS-Developer] QGIS Server request extra parameters as
 variables for expressions
In-Reply-To: <0710b613-389d-d9d8-fbe1-b55a8d25be21@gmail.com>
References: <ed3bf843-e0a1-d6e0-c33f-b104635cdee6@camptocamp.com>
 <007d5e78-6259-912f-4b10-b0a3e1919736@gmail.com>
 <da5728d8-e2ae-a3ad-c62f-87d3db00dd88@camptocamp.com>
 <84f6f5dc-38e1-a161-06b5-1c9bcd6d982f@opengis.ch>
 <CAKOK4jjUxcpOcrt6=gNtKDmmZLPSt4cVdaniBMC_dtq15W9M7A@mail.gmail.com>
 <fd05f84f-1a8c-f34f-0ac9-b374afba0473@camptocamp.com>
 <ad078113-dbc4-9946-ad72-adba4ac19cee@duif.net>
 <0710b613-389d-d9d8-fbe1-b55a8d25be21@gmail.com>
Message-ID: <5d337377-276d-781e-334a-d86da5024f62@opengis.ch>

On 11/24/2017 11:02 AM, René-Luc Dhont wrote:
> @Arnaud:
>
> There is no WMS dimensions in QGIS server roadmap
>
> @Richard:
>
> Which one of the three GeoServer implementation is the more 'common'
> way ?
>
>
> To my point of view, having the capability to update QGIS Variables
> through HTTP parameters will be a great enhancement.

For the configuration part, it would be best to explicitly list
variables that are meant to be modified in the server options. Basically
adding a new Server scope to the expressions which is applied after
global and project scope. The interface would be the same table the one
already available for global, project, layer... scope, just in the OWS tab.

This should then be available to filter, style, or otherwise prepare
raster, vector or other data without further ado.

How this is then exposed to webservices is a different question, to
which I agree that it would be best to build it on top of existing
protocols (dimensions or whatever else is around).

Best regards
Matthias

>
> About the WMS dimensions, QGIS will need some enhancement about Raster
> data to apply filtering, changes band in style and/or use expression
> for styles.
>
> Regards,
>
> René-Luc
>
>
> Le 23/11/2017 à 20:53, Richard Duivenvoorde a écrit :
>> On 23-11-17 16:46, Arnaud Morvan wrote:
>>
>>> @Mathias :
>>>
>>> Yes after taking a look, WMS dimensions is exactly the idea I have
>>> in mind.
>> Mmm,
>>
>> I think Dimensions is a different case, as Dimensions are tied to WMS-T
>> [0] and the query parameter is defined as
>> &TIME=...,...
>> &TIME=...
>> etc
>> OR elevation:
>> &ELEVATION=
>>
>> GeoServer has (besides dimensions) even some more use of 'variables'
>> which you can use in different places:
>>
>> - possible variable substitutions in sld's [1]
>> &&env=name1:value1;name2=value2&...
>>
>> - sql view parameters [2]
>> &viewparams=p1:v1;p2:v2;...
>>
>> - format options in CQL queries [3]
>> &format_options=param1:value1;param2:value2;...
>>
>> I think the 'expressions'-variables you are talking about are most close
>> to the viewparams (though if it only filters the styling itis a sld
>> one...).
>>
>> My point: let's define a 'common' param, shared between different FOSS
>> wms's instead of coming up with our own wheel :-)
>>
>> Regards,
>>
>> Richard Duivenvoorde
>>
>> [0]
>> https://anitagraser.com/2011/06/10/wms-t-support-in-geoserver-and-mapserver/
>>
>> [1]
>> http://docs.geoserver.org/stable/en/user/styling/sld/extensions/substitution.html
>>
>> [2] http://docs.geoserver.org/latest/en/user/data/database/sqlview.html
>> [3] http://docs.geoserver.org/latest/en/user/services/wfs/vendor.html
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


From radim.blazek at gmail.com  Fri Nov 24 03:58:59 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Fri, 24 Nov 2017 12:58:59 +0100
Subject: [QGIS-Developer] closestSegmentWithContext() with epsilon in Python
Message-ID: <CAEMrtYp83T=s-wRwxf0hLEkcYOTqWreGJOacTYO9FuTzAuowtA@mail.gmail.com>

Hi,

I found that closestSegmentWithContext() in Python is useless for
geometries in geographic crs, because small squared distances are set
to zero because of epsilon threshold. See for example:
https://user-images.githubusercontent.com/29453443/32953189-c395d8a0-cbaf-11e7-8d71-b5869392f08b.PNG
points are not assigned to lines correctly because square distances are wrong.

Would it be possible to add epsilon as keyword argument to
closestSegmentWithContext() and possibly other methods taking epsilon
in C++?

I am not sip/python expert, no idea how to do that.

Thanks
Radim

From matthias at opengis.ch  Fri Nov 24 04:16:49 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Fri, 24 Nov 2017 13:16:49 +0100
Subject: [QGIS-Developer] closestSegmentWithContext() with epsilon in
 Python
In-Reply-To: <CAEMrtYp83T=s-wRwxf0hLEkcYOTqWreGJOacTYO9FuTzAuowtA@mail.gmail.com>
References: <CAEMrtYp83T=s-wRwxf0hLEkcYOTqWreGJOacTYO9FuTzAuowtA@mail.gmail.com>
Message-ID: <728cc5c4-f174-826e-01ff-0d2ff00ed8e3@opengis.ch>

Hi Radim,

I don't know why the epsilon is excluded from the python bindings, the
docs say nothing.
Adjusting it should be trivial, just edit qgsgeometry.h (the
prepare-commit script will do the heavy lifting)

Matthias

On 11/24/2017 12:58 PM, Radim Blazek wrote:
> Hi,
> 
> I found that closestSegmentWithContext() in Python is useless for
> geometries in geographic crs, because small squared distances are set
> to zero because of epsilon threshold. See for example:
> https://user-images.githubusercontent.com/29453443/32953189-c395d8a0-cbaf-11e7-8d71-b5869392f08b.PNG
> points are not assigned to lines correctly because square distances are wrong.
> 
> Would it be possible to add epsilon as keyword argument to
> closestSegmentWithContext() and possibly other methods taking epsilon
> in C++?
> 
> I am not sip/python expert, no idea how to do that.
> 
> Thanks
> Radim
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From noreply at qgis.org  Fri Nov 24 05:05:32 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 24 Nov 2017 13:05:32 -0000
Subject: [QGIS-Developer] Plugin [1350] Mascaret approval notification.
Message-ID: <20171124130532.29790.61714@320558c5528b>


Plugin Mascaret approval by zimbogisgeek.
The plugin version "[1350] Mascaret 0.0.3 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/Mascaret/

From noreply at qgis.org  Fri Nov 24 05:05:46 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 24 Nov 2017 13:05:46 -0000
Subject: [QGIS-Developer] Plugin [618] Processing BEAM and SNAP algorithm
 Provider approval notification.
Message-ID: <20171124130546.28623.78514@320558c5528b>


Plugin Processing BEAM and SNAP algorithm Provider approval by zimbogisgeek.
The plugin version "[618] Processing BEAM and SNAP algorithm Provider 1.4.3" is now approved
Link: http://plugins.qgis.org/plugins/processing_gpf/

From radim.blazek at gmail.com  Fri Nov 24 06:38:20 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Fri, 24 Nov 2017 15:38:20 +0100
Subject: [QGIS-Developer] closestSegmentWithContext() with epsilon in
	Python
In-Reply-To: <728cc5c4-f174-826e-01ff-0d2ff00ed8e3@opengis.ch>
References: <CAEMrtYp83T=s-wRwxf0hLEkcYOTqWreGJOacTYO9FuTzAuowtA@mail.gmail.com>
 <728cc5c4-f174-826e-01ff-0d2ff00ed8e3@opengis.ch>
Message-ID: <CAEMrtYq3JaEQYphB_wjm70cfprrBR7izseVLaxLBdo_nqrPdOw@mail.gmail.com>

It looks like this:

#ifndef SIP_RUN
    double closestSegmentWithContext( const QgsPointXY &point,
QgsPointXY &minDistPoint, int &afterVertex, double *leftOf = nullptr,
double epsilon = DEFAULT_SEGMENT_EPSILON ) const;
#else
    double closestSegmentWithContext( const QgsPointXY &point,
QgsPointXY &minDistPoint SIP_OUT, int &afterVertex SIP_OUT ) const;
#endif

maybe trivial for who knows how to do it, that is why I asked. How to
skip leftOf and make epsilon keyword argument?

Radim

On Fri, Nov 24, 2017 at 1:16 PM, Matthias Kuhn <matthias at opengis.ch> wrote:
> Hi Radim,
>
> I don't know why the epsilon is excluded from the python bindings, the
> docs say nothing.
> Adjusting it should be trivial, just edit qgsgeometry.h (the
> prepare-commit script will do the heavy lifting)
>
> Matthias
>
> On 11/24/2017 12:58 PM, Radim Blazek wrote:
>> Hi,
>>
>> I found that closestSegmentWithContext() in Python is useless for
>> geometries in geographic crs, because small squared distances are set
>> to zero because of epsilon threshold. See for example:
>> https://user-images.githubusercontent.com/29453443/32953189-c395d8a0-cbaf-11e7-8d71-b5869392f08b.PNG
>> points are not assigned to lines correctly because square distances are wrong.
>>
>> Would it be possible to add epsilon as keyword argument to
>> closestSegmentWithContext() and possibly other methods taking epsilon
>> in C++?
>>
>> I am not sip/python expert, no idea how to do that.
>>
>> Thanks
>> Radim
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From adenaculture at gmail.com  Fri Nov 24 06:54:40 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Fri, 24 Nov 2017 09:54:40 -0500
Subject: [QGIS-Developer] CRS for GeoJson Data
In-Reply-To: <4081727.Vgde6xvleP@even-i700>
References: <CABPxTTrjH3qbgFeM2akC+6kOUXARjJWeUdXYccfp2SG-=isqAw@mail.gmail.com>
 <CAFcOn2_ck5EQEHQuOyXHqnN9BheOyhynO3x551ayoKKixqtRiw@mail.gmail.com>
 <1511388488856-0.post@n6.nabble.com> <4081727.Vgde6xvleP@even-i700>
Message-ID: <CABPxTTp2kfQsYomad=ozQ9BDbPWCyD3aQkcch40txncXWZjzeA@mail.gmail.com>

Given that the GeoJSON standard specifies WGS84 shouldn't that be the
default that QGIS uses when it saves a GeoJSON file? I guess there could be
an option that would allow legacy GeoJSON files. What would it take to have
QGIS always save WGS84 by default?

For now I am updating Lat Lon Tools to support GeoJSON points. For my
purposes I will stick by the standard and not worry about alternative CRS
GeoJSON files.

Calvin

On Wed, Nov 22, 2017 at 5:23 PM, Even Rouault <even.rouault at spatialys.com>
wrote:

> On mercredi 22 novembre 2017 15:08:08 CET Tom Chadwin wrote:
>
> > I remember irritated tweets from someone like Sean Gillies involved the
> spec
>
> > about how projected CRSes had no place in GeoJSON.
>
> >
>
>
>
> The last year standardized version of GeoJSON, IETF RFC7946, mentions in
>
> https://tools.ietf.org/html/rfc7946#page-12
>
>
>
> """
>
> The coordinate reference system for all GeoJSON coordinates is a
>
> geographic coordinate reference system, using the World Geodetic
>
> System 1984 (WGS 84) [...]
>
> Note: the use of alternative coordinate reference systems was
>
> specified in [GJ2008], but it has been removed from this version of
>
> the specification [...]
>
> """
>
>
>
> Regarding OGR, it will support reading & writing GeoJSON files with any
> CRS. Unless that on the write side you specify RFC7946=YES as layer
> creation option, in which case automatic reprojection to WGS84 is done.
>
>
>
> Even
>
>
>
> --
>
> Spatialys - Geospatial professional services
>
> http://www.spatialys.com
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171124/8f58e835/attachment.html>

From engnfrc at gmail.com  Fri Nov 24 07:03:03 2017
From: engnfrc at gmail.com (Joshua Quesenberry)
Date: Fri, 24 Nov 2017 10:03:03 -0500
Subject: [QGIS-Developer] GRASS r.walk
In-Reply-To: <CAGrkfcLpUQ=549DDUmVU85=Y=srJV-7-s9m8q-DqA+1nD54voQ@mail.gmail.com>
References: <018501d3647d$2adde0b0$8099a210$@gmail.com>
 <01b201d3649c$ae4a0a40$0ade1ec0$@gmail.com>
 <CAGrkfcLpUQ=549DDUmVU85=Y=srJV-7-s9m8q-DqA+1nD54voQ@mail.gmail.com>
Message-ID: <022101d36535$541216a0$fc3643e0$@gmail.com>

Thanks Paulo, I hadn’t thought of that and will give it a try next.

 

Josh Q

 

From: Paulo van Breugel [mailto:p.vanbreugel at gmail.com] 
Sent: Friday, November 24, 2017 5:04 AM
To: Joshua Quesenberry <engnfrc at gmail.com>
Cc: qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] GRASS r.walk

 

Hi Josh,

I would suggest to send questions to the grass user and/or developers list (https://grass.osgeo.org/support/mailing-lists/).

Best wishes,

Paulo

 

 

On Thu, Nov 23, 2017 at 9:50 PM, Joshua Quesenberry <engnfrc at gmail.com <mailto:engnfrc at gmail.com> > wrote:

Is it normal for an r.walk over an area of 10,500 acres to use up 12GB of HD space and want more? That’s using up every bit of space I have left, so it’s crashing out. I tried setting the maximum cost to 10 and I think 1 also, but the algorithm keeps running for a long time making these really large files…

 

Thanks,

 

Josh Q

 

From: Joshua Quesenberry [mailto:engnfrc at gmail.com <mailto:engnfrc at gmail.com> ] 
Sent: Thursday, November 23, 2017 12:05 PM
To: qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org> 
Cc: engnfrc at gmail.com <mailto:engnfrc at gmail.com> 
Subject: GRASS r.walk

 

Happy Thanksgiving Everyone!

 

Who’s very familiar with GRASS r.walk? I’m finding some tutorials and man pages with examples but having trouble applying what I’ve found. I’m trying to create mobility models for use with lost person analytics.

 

Does is matter what format the input layers are in? Should they all be UTM since that’s in meters? Or is it smart enough to mix and match WGS84 and UTM layers? And along the same lines, does my DEM need to have cells in meters? Most of what I get comes native in WGS84 with altitudes in feet, so if I don’t need to add extra steps converting to UTM and cells to meters that’s a good thing.

 

For the friction layer, the example on the man page appears to use landclass96 and only has 7 classifications… the NLCD 2011 land classification file I have has 30-40 classifications ranging from 11 to 95, does anyone have friction costs that can be applied to this data? Or at the very least some idea of the best method to use to come up with those values myself?

 

Thanks!

 

Josh Q


_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org> 
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171124/0b7c2556/attachment-0001.html>

From etienne.trimaille at gmail.com  Fri Nov 24 07:18:27 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Fri, 24 Nov 2017 16:18:27 +0100
Subject: [QGIS-Developer] CRS for GeoJson Data
In-Reply-To: <CABPxTTp2kfQsYomad=ozQ9BDbPWCyD3aQkcch40txncXWZjzeA@mail.gmail.com>
References: <CABPxTTrjH3qbgFeM2akC+6kOUXARjJWeUdXYccfp2SG-=isqAw@mail.gmail.com>
 <CAFcOn2_ck5EQEHQuOyXHqnN9BheOyhynO3x551ayoKKixqtRiw@mail.gmail.com>
 <1511388488856-0.post@n6.nabble.com> <4081727.Vgde6xvleP@even-i700>
 <CABPxTTp2kfQsYomad=ozQ9BDbPWCyD3aQkcch40txncXWZjzeA@mail.gmail.com>
Message-ID: <CAMtDFLJ65jVbPkBObrjCzJQxh9cuPJqnNkk1EwQFQT_-FgzmCA@mail.gmail.com>

We are using GeoJSON on your plugin, with different projections, it works
well, no problem to read it in QGIS.

2017-11-24 15:54 GMT+01:00 C Hamilton <adenaculture at gmail.com>:

> Given that the GeoJSON standard specifies WGS84 shouldn't that be the
> default that QGIS uses when it saves a GeoJSON file? I guess there could be
> an option that would allow legacy GeoJSON files. What would it take to have
> QGIS always save WGS84 by default?
>
> For now I am updating Lat Lon Tools to support GeoJSON points. For my
> purposes I will stick by the standard and not worry about alternative CRS
> GeoJSON files.
>
> Calvin
>
> On Wed, Nov 22, 2017 at 5:23 PM, Even Rouault <even.rouault at spatialys.com>
> wrote:
>
>> On mercredi 22 novembre 2017 15:08:08 CET Tom Chadwin wrote:
>>
>> > I remember irritated tweets from someone like Sean Gillies involved the
>> spec
>>
>> > about how projected CRSes had no place in GeoJSON.
>>
>> >
>>
>>
>>
>> The last year standardized version of GeoJSON, IETF RFC7946, mentions in
>>
>> https://tools.ietf.org/html/rfc7946#page-12
>>
>>
>>
>> """
>>
>> The coordinate reference system for all GeoJSON coordinates is a
>>
>> geographic coordinate reference system, using the World Geodetic
>>
>> System 1984 (WGS 84) [...]
>>
>> Note: the use of alternative coordinate reference systems was
>>
>> specified in [GJ2008], but it has been removed from this version of
>>
>> the specification [...]
>>
>> """
>>
>>
>>
>> Regarding OGR, it will support reading & writing GeoJSON files with any
>> CRS. Unless that on the write side you specify RFC7946=YES as layer
>> creation option, in which case automatic reprojection to WGS84 is done.
>>
>>
>>
>> Even
>>
>>
>>
>> --
>>
>> Spatialys - Geospatial professional services
>>
>> http://www.spatialys.com
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171124/fc315202/attachment.html>

From apasotti at gmail.com  Fri Nov 24 10:59:13 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 24 Nov 2017 19:59:13 +0100
Subject: [QGIS-Developer] Scalable and themable cursor icons for all screen
	DPIs
Message-ID: <CAL5Q672rQGSx5Hoc5Og5yM6JhsmQM3kKe-KWZuEHDL7fbnJULw@mail.gmail.com>

Hi,

I was looking at https://issues.qgis.org/issues/12671

I have a working prototype and I can implement the C++ side for cursor
icons that are
- scalable
- SVG-based
- themable

but I'm not that good at SVG for creating the icons themselves any
volunteer?

we need the icons that are listed in this file:

https://github.com/qgis/QGIS/blob/master/src/gui/qgscursors.cpp#L23

Most of the icons should have a white halo (gradient-transparent) for high
visibility on both light and dark backgrounds.

For the API I was thinking at something like QgsApplication::getThemeIcon
but for cursors.


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171124/2d1fbfab/attachment.html>

From adenaculture at gmail.com  Fri Nov 24 13:16:39 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Fri, 24 Nov 2017 16:16:39 -0500
Subject: [QGIS-Developer] Plugin Lat Lon Tools 0.9.7 Update
Message-ID: <CABPxTTqDbW51BbvxeC1yswsBi_cxnroz+iZVe+a1yEkXBnBMVg@mail.gmail.com>

I just uploaded Lat Lon Tools 0.9.7. By user request, I have added a button
to the Digitizing Toolbar that creates features on a point vector layer. It
uses the same coordinate parsing as the "Zoom to Latitude Longitude" tool
meaning that is parses DMS, decimal, WKT notation. It also accepts MGRS
coordinates. Once parsed it adds a feature to the selected layer - assuming
it is in edit mode. During the process a dialog box is displayed for
editing attributes.

For those using Lat Lon Tools is this a good work flow? is anything awkward
with it? Do you have any suggestions?

Link: http://plugins.qgis.org/plugins/latlontools/

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171124/d9050acc/attachment.html>

From senhor.neto at gmail.com  Fri Nov 24 14:53:47 2017
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Fri, 24 Nov 2017 22:53:47 +0000
Subject: [QGIS-Developer] Scalable and themable cursor icons for all
 screen DPIs
In-Reply-To: <CAL5Q672rQGSx5Hoc5Og5yM6JhsmQM3kKe-KWZuEHDL7fbnJULw@mail.gmail.com>
References: <CAL5Q672rQGSx5Hoc5Og5yM6JhsmQM3kKe-KWZuEHDL7fbnJULw@mail.gmail.com>
Message-ID: <CA+H0G_FUkHy90F5KH6Zww5nkGQp1x0L1bpd+fOgvotOhyMTFpw@mail.gmail.com>

Hi Alessandro,

I can give it a try.

Alexandre Neto

A sex, 24/11/2017, 18:59, Alessandro Pasotti <apasotti at gmail.com> escreveu:

> Hi,
>
> I was looking at https://issues.qgis.org/issues/12671
>
> I have a working prototype and I can implement the C++ side for cursor
> icons that are
> - scalable
> - SVG-based
> - themable
>
> but I'm not that good at SVG for creating the icons themselves any
> volunteer?
>
> we need the icons that are listed in this file:
>
> https://github.com/qgis/QGIS/blob/master/src/gui/qgscursors.cpp#L23
>
> Most of the icons should have a white halo (gradient-transparent) for high
> visibility on both light and dark backgrounds.
>
> For the API I was thinking at something like QgsApplication::getThemeIcon
> but for cursors.
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Alexandre Neto
---------------------
@AlexNetoGeo
http://sigsemgrilhetas.wordpress.com
http://gisunchained.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171124/b7dc0b7b/attachment.html>

From engnfrc at gmail.com  Fri Nov 24 15:08:36 2017
From: engnfrc at gmail.com (Joshua Quesenberry)
Date: Fri, 24 Nov 2017 18:08:36 -0500
Subject: [QGIS-Developer] GRASS Natural Hazard Tools
Message-ID: <031901d36579$28b14230$7a13c690$@gmail.com>

All,

 

Are there any plans to implement all of the algorithms listed here?
https://grasswiki.osgeo.org/wiki/Natural_Hazards

 

In particular I'm curious about the Flood and Dam Break algorithms.

 

Thanks,

 

Josh Q

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171124/60d8414d/attachment.html>

From noreply at qgis.org  Fri Nov 24 21:34:25 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 25 Nov 2017 05:34:25 -0000
Subject: [QGIS-Developer] Plugin [829] d3 Map Renderer approval notification.
Message-ID: <20171125053425.18877.70683@320558c5528b>


Plugin d3 Map Renderer approval by pcav.
The plugin version "[829] d3 Map Renderer 0.10.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/d3MapRenderer/

From noreply at qgis.org  Sat Nov 25 00:27:25 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 25 Nov 2017 08:27:25 -0000
Subject: [QGIS-Developer] Plugin [1364] UMEP approval notification.
Message-ID: <20171125082725.18877.15870@320558c5528b>


Plugin UMEP approval by pcav.
The plugin version "[1364] UMEP 1.1" is now approved
Link: http://plugins.qgis.org/plugins/UMEP/

From noreply at qgis.org  Sat Nov 25 03:21:10 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 25 Nov 2017 11:21:10 -0000
Subject: [QGIS-Developer] Plugin [829] d3 Map Renderer approval notification.
Message-ID: <20171125112110.18877.3124@320558c5528b>


Plugin d3 Map Renderer approval by pcav.
The plugin version "[829] d3 Map Renderer 0.10.5 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/d3MapRenderer/

From sebastic at xs4all.nl  Sat Nov 25 06:10:06 2017
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Sat, 25 Nov 2017 15:10:06 +0100
Subject: [QGIS-Developer] [Qgis-developer] Qt4->Qt5 timeline: Qt4's
 status and Qt4's webkit removal in Stretch
In-Reply-To: <5ca32f22-fee1-5e42-e1ec-a18d91499c02@xs4all.nl>
References: <CAFO80_o0f3Pan6FjcmH1VK66ZSCyb1jy4rH_fJ_L7cD4fEfLPA@mail.gmail.com>
 <554DE3BD.4020707@xs4all.nl> <554E0B8F.2050601@faunalia.it>
 <554F1BF6.8020104@opengis.ch> <554F2403.8010400@xs4all.nl>
 <D583F557-C963-476B-83E4-4B1646CA55CA@faunalia.it>
 <CAFFV8FhE=w5cujpRCP32oRZaBmL7w527oYwJTvvEEEB44oZ3Yw@mail.gmail.com>
 <E5EF2510-6240-4ADC-9B7E-C01F9CA73AA5@kartoza.com>
 <20160907092634.GA24162@norbit.de>
 <5ca32f22-fee1-5e42-e1ec-a18d91499c02@xs4all.nl>
Message-ID: <f1184f30-0dc4-2715-70c7-4e26dda652ea@xs4all.nl>

On 09/07/2016 11:34 AM, Sebastiaan Couwenberg wrote:
> On 09/07/2016 11:26 AM, Jürgen E. Fischer wrote:
>> I added internal python QtWebKit bindings in master_2 (as the C++ webkit as
>> still around).
> 
> The WebKit support has so far only been removed from python-qt4 in
> Debian, but the C++ packages (from qtwebkit) will also been removed
> eventually. Most probably before the stretch freeze on January 5th 2017.

As reported in Debian Bug #882663 [0], the removal of qtwebkit from
Debian is expected in January, possibly December.

This affects Debian testing & unstable, and most likely the upcoming
Ubuntu LTS (bionic) as well unless they decide ignore the removal before
the Debian Import Freeze on March 1st. [1]

[0] http://bugs.debian.org/882663#175
[1] https://wiki.ubuntu.com/BionicBeaver/ReleaseSchedule

Kind Regards,

Bas

-- 
 GPG Key ID: 4096R/6750F10AE88D4AF1
Fingerprint: 8182 DE41 7056 408D 6146  50D1 6750 F10A E88D 4AF1

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171125/03b0d22f/attachment.sig>

From rdmailings at duif.net  Sat Nov 25 07:11:22 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 25 Nov 2017 16:11:22 +0100
Subject: [QGIS-Developer] all profile removed, still OWS connections,
	where stored?
Message-ID: <4bc9b0ae-6a1d-abf0-a961-6c8f0aa906a6@duif.net>

Hi Devs,

in my understanding all(!) settings and configuration is now moved to
the profiles? So in my case:

/home/richard/.local/share/QGIS

isn't it?

BUT if I remove that folder (= all profiles isn't it?), then I still
have the connections I had in earlier work in my Data Browser widgets?

(at the moment in my system the 'Open Profile folder' isn't working so I
cannot check the profile folder settings...)

Regards,

Richard Duivenvoorde

From madmanwoo at gmail.com  Sat Nov 25 14:58:21 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Sat, 25 Nov 2017 22:58:21 +0000
Subject: [QGIS-Developer] all profile removed, still OWS connections,
 where stored?
In-Reply-To: <4bc9b0ae-6a1d-abf0-a961-6c8f0aa906a6@duif.net>
References: <4bc9b0ae-6a1d-abf0-a961-6c8f0aa906a6@duif.net>
Message-ID: <CAAi8Yg_Oe3rfcxB=a996V0sweh9p4cwRAoq0qx7VW1jcSOj9wQ@mail.gmail.com>

Hey,

All profiles or just the default one? Because settings migration will be
bringing it over from 2 for the default.

On Sun., 26 Nov. 2017, 1:11 am Richard Duivenvoorde, <rdmailings at duif.net>
wrote:

> Hi Devs,
>
> in my understanding all(!) settings and configuration is now moved to
> the profiles? So in my case:
>
> /home/richard/.local/share/QGIS
>
> isn't it?
>
> BUT if I remove that folder (= all profiles isn't it?), then I still
> have the connections I had in earlier work in my Data Browser widgets?
>
> (at the moment in my system the 'Open Profile folder' isn't working so I
> cannot check the profile folder settings...)
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171125/788955c5/attachment.html>

From rdmailings at duif.net  Sun Nov 26 03:29:03 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sun, 26 Nov 2017 12:29:03 +0100
Subject: [QGIS-Developer] all profile removed, still OWS connections,
 where stored?
In-Reply-To: <CAAi8Yg_Oe3rfcxB=a996V0sweh9p4cwRAoq0qx7VW1jcSOj9wQ@mail.gmail.com>
References: <4bc9b0ae-6a1d-abf0-a961-6c8f0aa906a6@duif.net>
 <CAAi8Yg_Oe3rfcxB=a996V0sweh9p4cwRAoq0qx7VW1jcSOj9wQ@mail.gmail.com>
Message-ID: <c358b3cb-2324-5313-d6c8-10f9fe196eff@duif.net>


Yep, 'default QGIS3' profile:

When I removed:
~/.local/share/QGIS

I still kept (or migrated??) all kind of settings

Found also this one:
~/.local/share/qgis_help/profiles/default
not sure if this is an old help relict, but if not it should be moved to
default profiles

Then I removed
~/.qgis2
thinking that stuff was silently imported/migrated from there.

Still found stuff in QGIS3
And even (without .qgis2) QGIS 2.18 saw all recent projects (without
previews though)...

Which made me think: ah on Linux there is also:
~/.config/QGIS/QGIS2.conf
~/.config/QGIS/QGIS3.conf
which (apparently) are imported too?
(note: on Windows this is in registry)

Then I removed all those, and finally I had a clean sheat \o/

THEN my 'Open Active Profile Folder' was working again!
Ah, bummer, just one time. After that it breaks again :-(

Nor sure if this is 'our' migration stuff, or Qt is doing all this?
But in my opinion we should not 'automagically'  import all kind of
(corrupted/ing) settings into a fresh profile. I hoped to be able to
really get a fresh start when I removed the ~/.config/QGIS dir.

IF that folder is not available, we should ask the use I think if she
wants to migrate or not.

I also happened to bump onto:
Boundless' settings documentation:
https://connect.boundlessgeo.com/docs/desktop/1.1.0/system_admins/globalsettings.html
and an earlier plugin:
http://boundlessgeo.github.io/qgis-plugins-documentation/profiles/plugin.html

So there is already the notion of a 'global/corporate' style settings
file? Which you can (could?) point to by adding startup parameter:
--globalsettingsfile

Is it only me who still finds this all a little hidden/automagic?

Regards,

Richard



On 25-11-17 23:58, Nathan Woodrow wrote:
> Hey,
> 
> All profiles or just the default one? Because settings migration will be
> bringing it over from 2 for the default.
> 
> 
> On Sun., 26 Nov. 2017, 1:11 am Richard Duivenvoorde,
> <rdmailings at duif.net <mailto:rdmailings at duif.net>> wrote:
> 
>     Hi Devs,
> 
>     in my understanding all(!) settings and configuration is now moved to
>     the profiles? So in my case:
> 
>     /home/richard/.local/share/QGIS
> 
>     isn't it?
> 
>     BUT if I remove that folder (= all profiles isn't it?), then I still
>     have the connections I had in earlier work in my Data Browser widgets?
> 
>     (at the moment in my system the 'Open Profile folder' isn't working so I
>     cannot check the profile folder settings...)
> 
>     Regards,
> 
>     Richard Duivenvoorde
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From rdmailings at duif.net  Sun Nov 26 05:24:39 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sun, 26 Nov 2017 14:24:39 +0100
Subject: [QGIS-Developer] No Debug info in Debian: FIXED
Message-ID: <bb0459f7-98b7-a926-9b96-a5e32ed73c8b@duif.net>

Hi All,

Since Qt5/QGIS2.99 I did not have any debug information anymore in my
Debug builds when run from the terminal.

A pity because seeing for example the url's used for http requests for
ows services helped me a lot to debug service problems.

Found out that in Debian, but apparently also in Fedora, you now have to
have a file: qtlogging.ini in ~/.config/QtProject
So:
 touch ~/.config/QtProject/qtlogging.ini
will make your debug builds give debug information again \o/

(I think "export QGIS_DEBUG=5" is not even needed anymore when you run a
debug build)

Regards,

Richard Duivenvoorde

see:
https://forum.qt.io/topic/55645/solved-no-output-from-qdebug-why-not/10
http://doc.qt.io/qt-5/qloggingcategory.html

From anjo.weichbrodt at gmail.com  Sun Nov 26 07:09:50 2017
From: anjo.weichbrodt at gmail.com (Anjo Weichbrodt)
Date: Sun, 26 Nov 2017 16:09:50 +0100
Subject: [QGIS-Developer] QGIS crashes when installing plugin created with
	the plugin builder
Message-ID: <CAHb8Xeyr-6L1pVakFitqENHvjzjDuNu=7HY3DF0-sHEYMoyopA@mail.gmail.com>

Hi,

when I want to install a plugin created with the plugin builder QGIS
crashes.
resources.qrc is compiled.

The out put in the terminal is:

[anjo at anjo-pc ~]$ qgis-git
using qt5ct plugin
D-Bus global menu: no
D-Bus system tray: no
WARNING: Auth db query exec() FAILED
Warning: libpng warning: iCCP: known incorrect sRGB profile
Warning: libpng warning: iCCP: known incorrect sRGB profile
WARNING: Auth db query exec() FAILED
QGIS died on signal 11Aborted (core dumped)

I run QGIS 2.99 on Manjaro linux414

Thanks,
Anjo
​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171126/52ea42c0/attachment.html>

From noreply at qgis.org  Mon Nov 27 00:41:00 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 27 Nov 2017 08:41:00 -0000
Subject: [QGIS-Developer] Plugin [1365] AttributeTransfer approval
	notification.
Message-ID: <20171127084100.29074.96308@320558c5528b>


Plugin AttributeTransfer approval by zimbogisgeek.
The plugin version "[1365] AttributeTransfer 1.0" is now approved
Link: http://plugins.qgis.org/plugins/AttributeTransfer/

From lorenzetti at gis3w.it  Mon Nov 27 03:38:06 2017
From: lorenzetti at gis3w.it (Walter Lorenzetti)
Date: Mon, 27 Nov 2017 12:38:06 +0100
Subject: [QGIS-Developer] Qgis with ubuntgis dependancy broken
Message-ID: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>

Hi list,

QGIS repository for ubuntugis-unstable is broken, require gdal 2.2.1 but 
ubuntugis updated to 2.2.2.

It is correct or I'm doing a  mistake?

Thanks in advance.

W


-- 

Walter Lorenzetti phD
email: lorenzetti at gis3w.it
skype: aiki74
twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
g+:aiki74 <https://plus.google.com/117055903318462447104/>
Tel/Cell: (+39) 347-6597931
Viale Verdi 24 - 51016 Montecatini Terme (PT)
Nuovi corsi QGIS e GFOSS 
<http://gis3w.it/it/calendario-corsi-software-geografici>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171127/700de0b5/attachment.html>

From francescoboccacci at libero.it  Mon Nov 27 03:49:12 2017
From: francescoboccacci at libero.it (Francesc Boccacci)
Date: Mon, 27 Nov 2017 12:49:12 +0100
Subject: [QGIS-Developer] Qgis with ubuntgis dependancy broken
In-Reply-To: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
Message-ID: <7ca6a097-0482-80d4-613b-5077e4c7d386@libero.it>

Hi,

i have the same issue.

OS: Ubuntu 16.04 LTS

sources.list:

deb http://qgis.org/ubuntugis xenial main

...# apt-get install qgis
Reading package lists... Done
Building dependency tree
Reading state information... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
  qgis : Depends: gdal-abi-2-2-1 but it is not installable
         Depends: libqgis-analysis2.18.14 but it is not going to be 
installed
         Depends: libqgis-app2.18.14 but it is not going to be installed
         Depends: python-qgis (= 1:2.18.14+24xenial-ubuntugis) but it is 
not going to be installed
         Recommends: qgis-plugin-globe but it is not going to be installed
         Recommends: qgis-plugin-grass but it is not going to be installed
E: Unable to correct problems, you have held broken packages.

Any suggestions


Thanks


Francesco


On 27/11/2017 12:38, Walter Lorenzetti wrote:
>
> Hi list,
>
> QGIS repository for ubuntugis-unstable is broken, require gdal 2.2.1 
> but ubuntugis updated to 2.2.2.
>
> It is correct or I'm doing a  mistake?
>
> Thanks in advance.
>
> W
>
>
> -- 
>
> Walter Lorenzetti phD
> email: lorenzetti at gis3w.it
> skype: aiki74
> twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
> g+:aiki74 <https://plus.google.com/117055903318462447104/>
> Tel/Cell: (+39) 347-6597931
> Viale Verdi 24 - 51016 Montecatini Terme (PT)
> Nuovi corsi QGIS e GFOSS 
> <http://gis3w.it/it/calendario-corsi-software-geografici>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171127/74a41e8e/attachment.html>

From tom.chadwin at nnpa.org.uk  Mon Nov 27 04:03:07 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Mon, 27 Nov 2017 05:03:07 -0700 (MST)
Subject: [QGIS-Developer] Detect OpenLayers layer in Python
Message-ID: <1511784187756-0.post@n6.nabble.com>

Hello all

I thought this might have been asked before, but if so, I've failed to find
it. How do you determine in PyQGIS whether a layer is an OpenLayers plugin
layer?

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From etienne.trimaille at gmail.com  Mon Nov 27 04:19:40 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Mon, 27 Nov 2017 13:19:40 +0100
Subject: [QGIS-Developer] Detect OpenLayers layer in Python
In-Reply-To: <1511784187756-0.post@n6.nabble.com>
References: <1511784187756-0.post@n6.nabble.com>
Message-ID: <CAMtDFLLbkg7eBbFyCg6jvAeaf2Y3QRz=Lwv2R2NYZW-RwS3_EA@mail.gmail.com>

Hi Tom,

For layers such as Google Maps:
if isinstance(your_layer,QgsPluginLayer) ?

For OSM, it's still a raster layer I think.

2017-11-27 13:03 GMT+01:00 Tom Chadwin <tom.chadwin at nnpa.org.uk>:

> Hello all
>
> I thought this might have been asked before, but if so, I've failed to find
> it. How do you determine in PyQGIS whether a layer is an OpenLayers plugin
> layer?
>
> Thanks
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171127/65d93daa/attachment.html>

From tom.chadwin at nnpa.org.uk  Mon Nov 27 04:23:05 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Mon, 27 Nov 2017 05:23:05 -0700 (MST)
Subject: [QGIS-Developer] Detect OpenLayers layer in Python
In-Reply-To: <CAMtDFLLbkg7eBbFyCg6jvAeaf2Y3QRz=Lwv2R2NYZW-RwS3_EA@mail.gmail.com>
References: <1511784187756-0.post@n6.nabble.com>
 <CAMtDFLLbkg7eBbFyCg6jvAeaf2Y3QRz=Lwv2R2NYZW-RwS3_EA@mail.gmail.com>
Message-ID: <1511785385267-0.post@n6.nabble.com>

Thanks, Etienne, but it looks like I need to detect all OL layers, including
the OSM ones.

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From sigeo.agmartin at getxo.eus  Mon Nov 27 04:30:20 2017
From: sigeo.agmartin at getxo.eus (Aitor Gil Martin)
Date: Mon, 27 Nov 2017 12:30:20 +0000
Subject: [QGIS-Developer] php-cgi not found after installing QGIS Server on
	Windows
Message-ID: <04AEE41FF41CFC44BA6837497D1327ABD7F24424@EPOSTAMX1.GETXO.ORG>

I installed QGIS Server 2.18, apache, QGIS Desktop 2.18 and all their dependencies using OSGeo4w x32 setup wizard on a Windows Server 2008 R2 SP1 x64 virtual server.
After the installation I type localhost on my chrome browser to see the Apache's landing page and I am getting the following error:
Not Found
The requested URL /cgi-bin/php-cgi.exe/index.phtml was not found on this server.
I uninstalled and installed everything several times using OSGeo4w but I keep getting the same message. Something is not properly installed or missing.
Can anyone give me a clue on what might be happening?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171127/f3a911a9/attachment-0001.html>

From enzedrailmaps at gmail.com  Mon Nov 27 04:51:06 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Tue, 28 Nov 2017 01:51:06 +1300
Subject: [QGIS-Developer] Qgis with ubuntgis dependancy broken
In-Reply-To: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
Message-ID: <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>

It's a very common issue, you should search this list's archives first

Short answer: these are two different projects and are not guaranteed to 
be in sync all the time. If you need something that is, don't use ubuntugis.


On 28/11/17 00:38, Walter Lorenzetti wrote:
>
> Hi list,
>
> QGIS repository for ubuntugis-unstable is broken, require gdal 2.2.1 
> but ubuntugis updated to 2.2.2.
>
> It is correct or I'm doing a  mistake?
>
> Thanks in advance.
>
> W
>
>
> -- 
>
> Walter Lorenzetti phD
> email: lorenzetti at gis3w.it
> skype: aiki74
> twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
> g+:aiki74 <https://plus.google.com/117055903318462447104/>
> Tel/Cell: (+39) 347-6597931
> Viale Verdi 24 - 51016 Montecatini Terme (PT)
> Nuovi corsi QGIS e GFOSS 
> <http://gis3w.it/it/calendario-corsi-software-geografici>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/6248bec5/attachment.html>

From rldhont at gmail.com  Mon Nov 27 05:14:13 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Mon, 27 Nov 2017 14:14:13 +0100
Subject: [QGIS-Developer] php-cgi not found after installing QGIS Server
 on Windows
In-Reply-To: <04AEE41FF41CFC44BA6837497D1327ABD7F24424@EPOSTAMX1.GETXO.ORG>
References: <04AEE41FF41CFC44BA6837497D1327ABD7F24424@EPOSTAMX1.GETXO.ORG>
Message-ID: <27f3db6e-7d93-f0d7-fc95-148cc89d7a01@gmail.com>

Hi Aitor,

Did you use this documentation ?

https://docs.3liz.com/en/install/windows.html#qgis-server-installation

Regards,

René-Luc


Le 27/11/2017 à 13:30, Aitor Gil Martin a écrit :
>
> I installed QGIS Server 2.18, apache, QGIS Desktop 2.18 and all their 
> dependencies using OSGeo4w x32 setup wizard on a Windows Server 2008 
> R2 SP1 x64 virtual server.
>
> After the installation I type localhost on my chrome browser to see 
> the Apache's landing page and I am getting the following error:
>
> Not Found
>
> The requested URL /cgi-bin/php-cgi.exe/index.phtml was not found on 
> this server.
>
> I uninstalled and installed everything several times using OSGeo4w but 
> I keep getting the same message. Something is not properly installed 
> or missing.
>
> Can anyone give me a clue on what might be happening?
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171127/f15e0403/attachment.html>

From lorenzetti at gis3w.it  Mon Nov 27 05:23:03 2017
From: lorenzetti at gis3w.it (Walter Lorenzetti)
Date: Mon, 27 Nov 2017 14:23:03 +0100
Subject: [QGIS-Developer] Qgis with ubuntgis dependancy broken
In-Reply-To: <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
Message-ID: <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>

Thanks Patrick for replay, I user ubuntugis for other project in my work ..

W


Il 27/11/2017 13:51, Patrick Dunford ha scritto:
>
> It's a very common issue, you should search this list's archives first
>
> Short answer: these are two different projects and are not guaranteed 
> to be in sync all the time. If you need something that is, don't use 
> ubuntugis.
>
>
> On 28/11/17 00:38, Walter Lorenzetti wrote:
>>
>> Hi list,
>>
>> QGIS repository for ubuntugis-unstable is broken, require gdal 2.2.1 
>> but ubuntugis updated to 2.2.2.
>>
>> It is correct or I'm doing a  mistake?
>>
>> Thanks in advance.
>>
>> W
>>
>>
>> -- 
>>
>> Walter Lorenzetti phD
>> email: lorenzetti at gis3w.it
>> skype: aiki74
>> twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
>> g+:aiki74 <https://plus.google.com/117055903318462447104/>
>> Tel/Cell: (+39) 347-6597931
>> Viale Verdi 24 - 51016 Montecatini Terme (PT)
>> Nuovi corsi QGIS e GFOSS 
>> <http://gis3w.it/it/calendario-corsi-software-geografici>
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 

Walter Lorenzetti phD
email: lorenzetti at gis3w.it
skype: aiki74
twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
g+:aiki74 <https://plus.google.com/117055903318462447104/>
Tel/Cell: (+39) 347-6597931
Viale Verdi 24 - 51016 Montecatini Terme (PT)
Nuovi corsi QGIS e GFOSS 
<http://gis3w.it/it/calendario-corsi-software-geografici>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171127/0c6ea824/attachment.html>

From gcpp.kalxas at gmail.com  Mon Nov 27 06:00:40 2017
From: gcpp.kalxas at gmail.com (Angelos Tzotsos)
Date: Mon, 27 Nov 2017 16:00:40 +0200
Subject: [QGIS-Developer] Qgis with ubuntgis dependancy broken
In-Reply-To: <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
 <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
Message-ID: <9854956b-2a62-d5de-ffaf-9b2c4bff393a@gmail.com>

Hi all,

We are trying to synchronize as much as possible, UbuntuGIS updates are 
announced in the mailing list many days before we actually update the 
packages.

Perhaps a better solution long term would be to merge those efforts i.e. 
use common packaging sources and QGIS packages being pushed directly to 
Lauchpad.

Regards,
Angelos

On 11/27/2017 03:23 PM, Walter Lorenzetti wrote:
> Thanks Patrick for replay, I user ubuntugis for other project in my 
> work ..
>
> W
>
>
> Il 27/11/2017 13:51, Patrick Dunford ha scritto:
>>
>> It's a very common issue, you should search this list's archives first
>>
>> Short answer: these are two different projects and are not guaranteed 
>> to be in sync all the time. If you need something that is, don't use 
>> ubuntugis.
>>
>>
>> On 28/11/17 00:38, Walter Lorenzetti wrote:
>>>
>>> Hi list,
>>>
>>> QGIS repository for ubuntugis-unstable is broken, require gdal 2.2.1 
>>> but ubuntugis updated to 2.2.2.
>>>
>>> It is correct or I'm doing a  mistake?
>>>
>>> Thanks in advance.
>>>
>>> W
>>>
>>>
>>> -- 
>>>
>>> Walter Lorenzetti phD
>>> email: lorenzetti at gis3w.it
>>> skype: aiki74
>>> twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
>>> g+:aiki74 <https://plus.google.com/117055903318462447104/>
>>> Tel/Cell: (+39) 347-6597931
>>> Viale Verdi 24 - 51016 Montecatini Terme (PT)
>>> Nuovi corsi QGIS e GFOSS 
>>> <http://gis3w.it/it/calendario-corsi-software-geografici>
>>>
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 
Angelos Tzotsos, PhD
Charter Member
Open Source Geospatial Foundation
http://users.ntua.gr/tzotsos

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171127/c95451ec/attachment-0001.html>

From enzedrailmaps at gmail.com  Mon Nov 27 06:16:37 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Tue, 28 Nov 2017 03:16:37 +1300
Subject: [QGIS-Developer] Qgis with ubuntgis dependancy broken
In-Reply-To: <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
 <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
Message-ID: <eb32b223-edd8-b04a-35ff-a5172961da0d@gmail.com>

Ubuntugis is, however, not required for all editions of Qgis.


On 28/11/17 02:23, Walter Lorenzetti wrote:
>
> Thanks Patrick for replay, I user ubuntugis for other project in my 
> work ..
>
> W
>
>
> Il 27/11/2017 13:51, Patrick Dunford ha scritto:
>>
>> It's a very common issue, you should search this list's archives first
>>
>> Short answer: these are two different projects and are not guaranteed 
>> to be in sync all the time. If you need something that is, don't use 
>> ubuntugis.
>>
>>
>> On 28/11/17 00:38, Walter Lorenzetti wrote:
>>>
>>> Hi list,
>>>
>>> QGIS repository for ubuntugis-unstable is broken, require gdal 2.2.1 
>>> but ubuntugis updated to 2.2.2.
>>>
>>> It is correct or I'm doing a  mistake?
>>>
>>> Thanks in advance.
>>>
>>> W
>>>
>>>
>>> -- 
>>>
>>> Walter Lorenzetti phD
>>> email: lorenzetti at gis3w.it
>>> skype: aiki74
>>> twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
>>> g+:aiki74 <https://plus.google.com/117055903318462447104/>
>>> Tel/Cell: (+39) 347-6597931
>>> Viale Verdi 24 - 51016 Montecatini Terme (PT)
>>> Nuovi corsi QGIS e GFOSS 
>>> <http://gis3w.it/it/calendario-corsi-software-geografici>
>>>
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -- 
>
> Walter Lorenzetti phD
> email: lorenzetti at gis3w.it
> skype: aiki74
> twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
> g+:aiki74 <https://plus.google.com/117055903318462447104/>
> Tel/Cell: (+39) 347-6597931
> Viale Verdi 24 - 51016 Montecatini Terme (PT)
> Nuovi corsi QGIS e GFOSS 
> <http://gis3w.it/it/calendario-corsi-software-geografici>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/408f40e8/attachment.html>

From filipesdias at gmail.com  Mon Nov 27 06:22:09 2017
From: filipesdias at gmail.com (Filipe Dias)
Date: Mon, 27 Nov 2017 14:22:09 +0000
Subject: [QGIS-Developer] Qgis with ubuntgis dependancy broken
In-Reply-To: <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
Message-ID: <CABr3zxV8jNKkm2DO0nhYrv_2O9h8mHbmytSOgBTTcnrRcf71pA@mail.gmail.com>

Hi
Is there an estimate of when this issue will be fixed?
Thanks
Cheers
F

On Mon, Nov 27, 2017 at 12:51 PM, Patrick Dunford <enzedrailmaps at gmail.com>
wrote:

> It's a very common issue, you should search this list's archives first
>
> Short answer: these are two different projects and are not guaranteed to
> be in sync all the time. If you need something that is, don't use ubuntugis.
>
> On 28/11/17 00:38, Walter Lorenzetti wrote:
>
> Hi list,
>
> QGIS repository for ubuntugis-unstable is broken, require gdal 2.2.1 but
> ubuntugis updated to 2.2.2.
>
> It is correct or I'm doing a  mistake?
>
> Thanks in advance.
>
> W
>
>
> --
>
> Walter Lorenzetti phD
> email: lorenzetti at gis3w.it
> skype: aiki74
> twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
> g+:aiki74 <https://plus.google.com/117055903318462447104/>
> Tel/Cell: (+39) 347-6597931 <+39%20347%20659%207931>
> Viale Verdi 24 - 51016 Montecatini Terme (PT)
> Nuovi corsi QGIS e GFOSS
> <http://gis3w.it/it/calendario-corsi-software-geografici>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171127/ff7cd95b/attachment.html>

From lorenzetti at gis3w.it  Mon Nov 27 06:23:38 2017
From: lorenzetti at gis3w.it (Walter Lorenzetti)
Date: Mon, 27 Nov 2017 15:23:38 +0100
Subject: [QGIS-Developer] Qgis with ubuntgis dependancy broken
In-Reply-To: <9854956b-2a62-d5de-ffaf-9b2c4bff393a@gmail.com>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
 <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
 <9854956b-2a62-d5de-ffaf-9b2c4bff393a@gmail.com>
Message-ID: <7c45c093-bf77-82af-f497-afa24dcde1e4@gis3w.it>

Hi Angelos,

thanks lot for hard work... I can understand..

W


Il 27/11/2017 15:00, Angelos Tzotsos ha scritto:
> Hi all,
>
> We are trying to synchronize as much as possible, UbuntuGIS updates 
> are announced in the mailing list many days before we actually update 
> the packages.
>
> Perhaps a better solution long term would be to merge those efforts 
> i.e. use common packaging sources and QGIS packages being pushed 
> directly to Lauchpad.
>
> Regards,
> Angelos
>
> On 11/27/2017 03:23 PM, Walter Lorenzetti wrote:
>> Thanks Patrick for replay, I user ubuntugis for other project in my 
>> work ..
>>
>> W
>>
>>
>> Il 27/11/2017 13:51, Patrick Dunford ha scritto:
>>>
>>> It's a very common issue, you should search this list's archives first
>>>
>>> Short answer: these are two different projects and are not 
>>> guaranteed to be in sync all the time. If you need something that 
>>> is, don't use ubuntugis.
>>>
>>>
>>> On 28/11/17 00:38, Walter Lorenzetti wrote:
>>>>
>>>> Hi list,
>>>>
>>>> QGIS repository for ubuntugis-unstable is broken, require gdal 
>>>> 2.2.1 but ubuntugis updated to 2.2.2.
>>>>
>>>> It is correct or I'm doing a  mistake?
>>>>
>>>> Thanks in advance.
>>>>
>>>> W
>>>>
>>>>
>>>> -- 
>>>>
>>>> Walter Lorenzetti phD
>>>> email: lorenzetti at gis3w.it
>>>> skype: aiki74
>>>> twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
>>>> g+:aiki74 <https://plus.google.com/117055903318462447104/>
>>>> Tel/Cell: (+39) 347-6597931
>>>> Viale Verdi 24 - 51016 Montecatini Terme (PT)
>>>> Nuovi corsi QGIS e GFOSS 
>>>> <http://gis3w.it/it/calendario-corsi-software-geografici>
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> -- 
> Angelos Tzotsos, PhD
> Charter Member
> Open Source Geospatial Foundation
> http://users.ntua.gr/tzotsos
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 

Walter Lorenzetti phD
email: lorenzetti at gis3w.it
skype: aiki74
twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
g+:aiki74 <https://plus.google.com/117055903318462447104/>
Tel/Cell: (+39) 347-6597931
Viale Verdi 24 - 51016 Montecatini Terme (PT)
Nuovi corsi QGIS e GFOSS 
<http://gis3w.it/it/calendario-corsi-software-geografici>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171127/8f90e841/attachment-0001.html>

From wonder.sk at gmail.com  Mon Nov 27 07:15:53 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon, 27 Nov 2017 16:15:53 +0100
Subject: [QGIS-Developer] Detect OpenLayers layer in Python
In-Reply-To: <1511784187756-0.post@n6.nabble.com>
References: <1511784187756-0.post@n6.nabble.com>
Message-ID: <CAC2XbFc+iQM_7sMR5kJFyHtoMbcPcNjw8jbCi_xmTvbeOaGT9w@mail.gmail.com>

Hi Tom

On Mon, Nov 27, 2017 at 1:03 PM, Tom Chadwin <tom.chadwin at nnpa.org.uk> wrote:
> Hello all
>
> I thought this might have been asked before, but if so, I've failed to find
> it. How do you determine in PyQGIS whether a layer is an OpenLayers plugin
> layer?

Something like this should work: isinstance(layer, QgsPluginLayer) and
layer.pluginLayerType() == 'openlayers'

There may be other types of plugin layers (e.g. crayfish,
quickmapservices), that's why one needs to check the plugin layer type
as well.

Cheers
Martin

From noreply at qgis.org  Mon Nov 27 07:23:17 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 27 Nov 2017 15:23:17 -0000
Subject: [QGIS-Developer] Plugin [1287] qpals-nightly approval notification.
Message-ID: <20171127152317.29072.46786@320558c5528b>


Plugin qpals-nightly approval by zimbogisgeek.
The plugin version "[1287] qpals-nightly 1.5.4" is now approved
Link: http://plugins.qgis.org/plugins/qpals/

From rdmailings at duif.net  Mon Nov 27 07:30:44 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 27 Nov 2017 16:30:44 +0100
Subject: [QGIS-Developer] all provider keys lowercase
Message-ID: <6a0dbf39-b41f-e211-77f4-80ab8aea909b@duif.net>

Hi Devs,

after someone showing how to add a wms and wfs layer via PyQGIS, it
remembered again that the the provider key for wms is 'wms' and for wfs
it is 'WFS' (uppercase).

Is it an idea to homogenize this?
Grepping is see:

grep -ir "_key =" *

arcgisrest/qgsafsproviderextern.cpp:const QString AFS_KEY =
QStringLiteral( "arcgisfeatureserver" );
arcgisrest/qgsamsproviderextern.cpp:const QString AMS_KEY =
QStringLiteral( "arcgismapserver" );
db2/qgsdb2dataitems.cpp:static const QString PROVIDER_KEY =
QStringLiteral( "DB2" );
db2/qgsdb2provider.cpp:static const QString PROVIDER_KEY =
QStringLiteral( "DB2" );
delimitedtext/qgsdelimitedtextprovider.cpp:static const QString
TEXT_PROVIDER_KEY = QStringLiteral( "delimitedtext" );
gdal/qgsgdalprovider.cpp:static QString PROVIDER_KEY = QStringLiteral(
"gdal" );
gpx/qgsgpxprovider.cpp:const QString GPX_KEY = QStringLiteral( "gpx" );
grass/qgsgrassprovider.cpp:static QString GRASS_KEY = QStringLiteral(
"grass" );
mssql/qgsmssqlprovider.cpp:static const QString TEXT_PROVIDER_KEY =
QStringLiteral( "mssql" );
ogr/qgsogrprovider.cpp:static const QString TEXT_PROVIDER_KEY =
QStringLiteral( "ogr" );
oracle/qgsoracleprovider.cpp:const QString ORACLE_KEY = "oracle";
ows/qgsowsprovider.cpp:static QString PROVIDER_KEY = QStringLiteral(
"ows" );
postgres/qgspostgresprovider.cpp:const QString POSTGRES_KEY =
QStringLiteral( "postgres" );
spatialite/qgsspatialiteprovider.cpp:const QString SPATIALITE_KEY =
QStringLiteral( "spatialite" );
virtual/qgsvirtuallayerprovider.cpp:const QString VIRTUAL_LAYER_KEY =
QStringLiteral( "virtual" );
wcs/qgswcsprovider.cpp:static QString WCS_KEY = QStringLiteral( "wcs" );
wfs/qgswfsprovider.cpp:static const QString TEXT_PROVIDER_KEY =
QStringLiteral( "WFS" );
wms/qgswmsprovider.cpp:static QString WMS_KEY = QStringLiteral( "wms" );
wms/qgswmsprovider.cpp.unify_includes_modified.sortinc:static QString
WMS_KEY = QStringLiteral( "wms" );
wms/qgswmsprovider.cpp.9bfb3f31ee9c8085240eb6dc964726956e64fc26.prepare:static
QString WMS_KEY = QStringLiteral( "wms" );

So only DB2 and WFS are apparently to be changed...?

Thought this will only be beneficial to python devs though.

Too much?

Regards,

Richard

From enzedrailmaps at gmail.com  Mon Nov 27 07:33:14 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Tue, 28 Nov 2017 04:33:14 +1300
Subject: [QGIS-Developer] Qgis with ubuntgis dependancy broken
In-Reply-To: <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
 <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
Message-ID: <f620e52a-5b1b-a193-8993-e5e9275df8c7@gmail.com>

There is no mandated requirement to use the Ubuntugis repository for 
2.18. The latest edition of 2.18 is available from the non-ubuntugis 
Qgis repository for xenial.

Do you have that option available to you?

If you need the development edition (2.99) unfortunately the developers 
are not supporting this on Xenial because of a package dependency that 
is not supported by the Ubuntu repositories for Xenial, even though it 
should in theory be possible to get the required package(s) from another 
repository.

If you have used apt upgrade to update all the packages in your system 
at once, including new ubuntugis packages, don't update all the packages 
this way. Just update qgis by itself, and it won't pull the new 
ubuntugis packages if it doesn't need them.

The more technically astute might try commenting out the ubuntugis 
repository from apt's sources.list files or fragments before issuing the 
apt update command, or playing with Apt pinning settings to prioritise 
repositories.

Example: I installed Debian buster/testing and then attempted to install 
Qgis 2.99 sid/unstable. This told me it needed a package from Debian 
sid/unstable repositories. I changed the master repository for debian to 
unstable and then apt update tells me there are hundreds of new packages 
from unstable I could install. I only want it to install the packages 
needed for qgis so instead of running apt upgrade, I just run apt 
install qgis etc to only pull the unstable packages it actually needs 
for this installation, and then change the Debian master repository back 
to buster.

The above options may not suit every situation where ubuntugis has to be 
used, obviously it does not suit your particular requirement if you have 
to have the latest ubuntugis packages for other reasons, however it may 
resolve the situation for someone else.

On 28/11/17 02:23, Walter Lorenzetti wrote:
>
> Thanks Patrick for replay, I user ubuntugis for other project in my 
> work ..
>
> W
>
>


From jef at norbit.de  Mon Nov 27 07:34:46 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 27 Nov 2017 16:34:46 +0100
Subject: [QGIS-Developer] Qgis with ubuntgis dependancy broken
In-Reply-To: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
Message-ID: <20171127153446.4esb673adssajt3b@norbit.de>

Hi Walter,

On Mon, 27. Nov 2017 at 12:38:06 +0100, Walter Lorenzetti wrote:
> QGIS repository for ubuntugis-unstable is broken, require gdal 2.2.1 but
> ubuntugis updated to 2.2.2.

> It is correct or I'm doing a  mistake?

No, that's expected.  See note on
http://www.qgis.org/en/site/forusers/alldownloads.html#debian-ubuntu.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171127/6cf4dbbd/attachment.sig>

From rdmailings at duif.net  Mon Nov 27 07:56:49 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 27 Nov 2017 16:56:49 +0100
Subject: [QGIS-Developer] wfs layers in browser tree wrong icon?
Message-ID: <a7f6b8f8-1eba-8b64-a47c-5ab34d98cf24@duif.net>

Hi,

Playing with this service:

https://geodata.nationaalgeoregister.nl/bag/ows

Being both WMS and WFS, I happen to see that the layers(!) in the wfs
seem to have the 'service/endpoint' icon, while the service(!) has the
'vectorlayer' icon (compared to the WMS tree, where the service has this
'connector' icon and all layers have the little globe).

See screenshot.

Issue?
Or by design?

Regards,

Richard Duivenvoorde

(cc'ing the devs I thought have worked on this)

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Selection_223.png
Type: image/png
Size: 32029 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171127/93cd2cab/attachment-0001.png>

From noreply at qgis.org  Mon Nov 27 09:59:59 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 27 Nov 2017 17:59:59 -0000
Subject: [QGIS-Developer] Plugin [1287] qpals approval notification.
Message-ID: <20171127175959.12571.96407@320558c5528b>


Plugin qpals approval by pcav.
The plugin version "[1287] qpals 1.5.4a" is now approved
Link: http://plugins.qgis.org/plugins/qpals/

From noreply at qgis.org  Mon Nov 27 10:00:33 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 27 Nov 2017 18:00:33 -0000
Subject: [QGIS-Developer] Plugin [420] Video Uav Tracker approval
	notification.
Message-ID: <20171127180033.12571.3061@320558c5528b>


Plugin Video Uav Tracker approval by pcav.
The plugin version "[420] Video Uav Tracker 2.1" is now approved
Link: http://plugins.qgis.org/plugins/Video_UAV_Tracker/

From tom.chadwin at nnpa.org.uk  Mon Nov 27 10:26:06 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Mon, 27 Nov 2017 11:26:06 -0700 (MST)
Subject: [QGIS-Developer] Detect OpenLayers layer in Python
In-Reply-To: <CAC2XbFc+iQM_7sMR5kJFyHtoMbcPcNjw8jbCi_xmTvbeOaGT9w@mail.gmail.com>
References: <1511784187756-0.post@n6.nabble.com>
 <CAC2XbFc+iQM_7sMR5kJFyHtoMbcPcNjw8jbCi_xmTvbeOaGT9w@mail.gmail.com>
Message-ID: <1511807166759-0.post@n6.nabble.com>

Thanks, Martin, but I'm not sure that the OpenLayers OSM layers are instances
of QgsPluginLayer. I'll check again.

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From wonder.sk at gmail.com  Mon Nov 27 10:27:01 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon, 27 Nov 2017 19:27:01 +0100
Subject: [QGIS-Developer] wfs layers in browser tree wrong icon?
In-Reply-To: <a7f6b8f8-1eba-8b64-a47c-5ab34d98cf24@duif.net>
References: <a7f6b8f8-1eba-8b64-a47c-5ab34d98cf24@duif.net>
Message-ID: <CAC2XbFd=ZTdfjLzGDAX2k=_--F1RvHBowq+pOK+=gAuVrnX3TA@mail.gmail.com>

Hi Richard

On Mon, Nov 27, 2017 at 4:56 PM, Richard Duivenvoorde
<rdmailings at duif.net> wrote:
> Hi,
>
> Playing with this service:
>
> https://geodata.nationaalgeoregister.nl/bag/ows
>
> Being both WMS and WFS, I happen to see that the layers(!) in the wfs
> seem to have the 'service/endpoint' icon, while the service(!) has the
> 'vectorlayer' icon (compared to the WMS tree, where the service has this
> 'connector' icon and all layers have the little globe).

I would say it is an inconsistency bug - can't see a reason why it
should be like that intentionally.

Cheers
Martin

From pi_ml at sourcepole.com  Mon Nov 27 12:33:57 2017
From: pi_ml at sourcepole.com (Pirmin Kalberer)
Date: Mon, 27 Nov 2017 21:33:57 +0100
Subject: [QGIS-Developer] Detect OpenLayers layer in Python
In-Reply-To: <1511784187756-0.post@n6.nabble.com>
References: <1511784187756-0.post@n6.nabble.com>
Message-ID: <1716554.CCZtczEkJi@polarwind3>

Hi Tom,

Am Montag, 27. November 2017, 05.03:07 schrieb Tom Chadwin:
> 
> I thought this might have been asked before, but if so, I've failed to find
> it. How do you determine in PyQGIS whether a layer is an OpenLayers plugin
> layer?

It's an OpenLayer layer when layer.customProperty('ol_layer_type') exists.

Cheers
Pirmin

-- 
Pirmin Kalberer - @PirminKalberer
Sourcepole - http://www.sourcepole.com

From radim.blazek at gmail.com  Mon Nov 27 13:15:00 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Mon, 27 Nov 2017 22:15:00 +0100
Subject: [QGIS-Developer] Crash when Python console is opened
Message-ID: <CAEMrtYoxGsd6pH55sy4WkNMcoJx2H1Sa-hbj-Pxz2CDoN_-YNw@mail.gmail.com>

Fresh master on fresh Debian 9 crashes when I try to open Python
console. Somewhere in libqt5scintilla2.so.12.

Traceback https://gist.github.com/blazek/3ea58591a6725c8a68cdf4f17cbd9015

Any idea? I am using system packages only.

Radim

From nyall.dawson at gmail.com  Mon Nov 27 15:39:33 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 28 Nov 2017 09:39:33 +1000
Subject: [QGIS-Developer] [Qgis-psc] QGIS Soft Feature Freeze Voting
 (was Re: QGIS 3 release expectations)
In-Reply-To: <24DD9025-13B6-4366-ADB0-9E27F7EF9E2A@qgis.org>
References: <CAAi8Yg8NN7LPWdth5voEi5z-JmbVUb36aeCdfY9i4eignq5LSw@mail.gmail.com>
 <18b6a6738869730488192694175c74cd@carto.net>
 <19F6A18E-8514-41E7-BB9D-A37E47233AF5@kartoza.com>
 <24DD9025-13B6-4366-ADB0-9E27F7EF9E2A@qgis.org>
Message-ID: <CAB28AsiwgoRFKd9GLmTfwktbKaKn7CRVryB7ppXvmeiM-VXVOg@mail.gmail.com>

On 27 November 2017 at 08:32, Tim Sutton <tim at kartoza.com> wrote:
> The voting process is transparent but only qgis/QGIS core committers may vote on it. Please note that if you are eligible you should have received an invite email to join the loomio group. If you did not, please contact me with your preferred email address and I will re-add you.
>

Hi Tim,

What's the process to get exemptions for open PRs? There's a couple
I'd like to see merged if it's agreeable:

- https://github.com/qgis/QGIS/pull/5600: "Add order by expression
processing algorithm". Very low risk - it's a self contained algorithm
on which nothing else depends. Processing in 3.0 is awesome, and has
made great strides to becoming a competitive ETL tool. This algorithm
would very nicely complement the work already done in 3.0 to make
models more powerful and flexible.

- https://github.com/qgis/QGIS/pull/5430: "More output format choices
in raster save as dialog": Low risk. Changes only affect the dialog,
and an extra convenience member in QgsRasterFileWriter (which is
accompanied by unit tests)

- https://github.com/qgis/QGIS/pull/5729: "[processing] Expose dynamic
("data defined") numeric parameters to gui". Low-medium risk. Most of
the changes here are gui related, just exposing functionality which
already exists in the new processing backend (and which is covered by
stacks of unit tests). I'd love to see this included in 3.0 as it
changes some of the processing API, and I would like wider testing and
porting of algorithms to utilise this BEFORE the API is locked in
place and we're stuck with it. I'd rather identify any issues in the
related API here for 3.0. Additionally, the changes to the "set z
value" algorithm which allows the z value to be pulled from a field or
expression is extremely useful in preparing datasets for use in the
new 3d views. Plus, it's an absolute KILLER feature to have.

- https://github.com/qgis/QGIS/pull/5663: "Add a name for transactions
created from executeSql". It's marked as a feature and tagged as 3.2,
but looking over it it seems to be almost entirely api tweaks and a
unit test. I'd say this is low risk, especially given Paul's history
of stable commits and how well unit tested this are of code is
already.

Nyall

From nirvn.asia at gmail.com  Mon Nov 27 18:11:33 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Tue, 28 Nov 2017 09:11:33 +0700
Subject: [QGIS-Developer] [Qgis-psc] QGIS Soft Feature Freeze Voting
 (was Re: QGIS 3 release expectations)
In-Reply-To: <CAB28AsiwgoRFKd9GLmTfwktbKaKn7CRVryB7ppXvmeiM-VXVOg@mail.gmail.com>
References: <CAAi8Yg8NN7LPWdth5voEi5z-JmbVUb36aeCdfY9i4eignq5LSw@mail.gmail.com>
 <18b6a6738869730488192694175c74cd@carto.net>
 <19F6A18E-8514-41E7-BB9D-A37E47233AF5@kartoza.com>
 <24DD9025-13B6-4366-ADB0-9E27F7EF9E2A@qgis.org>
 <CAB28AsiwgoRFKd9GLmTfwktbKaKn7CRVryB7ppXvmeiM-VXVOg@mail.gmail.com>
Message-ID: <CAC_qv=rKKUmKaJKc3hyi741n8gu8z5Zpfu2R1Lwtu3MUYKYAXw@mail.gmail.com>

+1 to all four PRs, especially the dynamic number value for processing one
which I've tested quite a lot in the last 48 hours and couldn't detect any
problem.

On Nov 28, 2017 6:39 AM, "Nyall Dawson" <nyall.dawson at gmail.com> wrote:

> On 27 November 2017 at 08:32, Tim Sutton <tim at kartoza.com> wrote:
> > The voting process is transparent but only qgis/QGIS core committers may
> vote on it. Please note that if you are eligible you should have received
> an invite email to join the loomio group. If you did not, please contact me
> with your preferred email address and I will re-add you.
> >
>
> Hi Tim,
>
> What's the process to get exemptions for open PRs? There's a couple
> I'd like to see merged if it's agreeable:
>
> - https://github.com/qgis/QGIS/pull/5600: "Add order by expression
> processing algorithm". Very low risk - it's a self contained algorithm
> on which nothing else depends. Processing in 3.0 is awesome, and has
> made great strides to becoming a competitive ETL tool. This algorithm
> would very nicely complement the work already done in 3.0 to make
> models more powerful and flexible.
>
> - https://github.com/qgis/QGIS/pull/5430: "More output format choices
> in raster save as dialog": Low risk. Changes only affect the dialog,
> and an extra convenience member in QgsRasterFileWriter (which is
> accompanied by unit tests)
>
> - https://github.com/qgis/QGIS/pull/5729: "[processing] Expose dynamic
> ("data defined") numeric parameters to gui". Low-medium risk. Most of
> the changes here are gui related, just exposing functionality which
> already exists in the new processing backend (and which is covered by
> stacks of unit tests). I'd love to see this included in 3.0 as it
> changes some of the processing API, and I would like wider testing and
> porting of algorithms to utilise this BEFORE the API is locked in
> place and we're stuck with it. I'd rather identify any issues in the
> related API here for 3.0. Additionally, the changes to the "set z
> value" algorithm which allows the z value to be pulled from a field or
> expression is extremely useful in preparing datasets for use in the
> new 3d views. Plus, it's an absolute KILLER feature to have.
>
> - https://github.com/qgis/QGIS/pull/5663: "Add a name for transactions
> created from executeSql". It's marked as a feature and tagged as 3.2,
> but looking over it it seems to be almost entirely api tweaks and a
> unit test. I'd say this is low risk, especially given Paul's history
> of stable commits and how well unit tested this are of code is
> already.
>
> Nyall
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/65eae2fa/attachment.html>

From lorenzetti at gis3w.it  Mon Nov 27 23:59:13 2017
From: lorenzetti at gis3w.it (Walter Lorenzetti)
Date: Tue, 28 Nov 2017 08:59:13 +0100
Subject: [QGIS-Developer] Qgis with ubuntgis dependancy broken
In-Reply-To: <f620e52a-5b1b-a193-8993-e5e9275df8c7@gmail.com>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
 <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
 <f620e52a-5b1b-a193-8993-e5e9275df8c7@gmail.com>
Message-ID: <74a88d64-3413-fc71-3bb2-5267a30bdabc@gis3w.it>

Hi Patrick,

thanks for reply and suggestions.

I compile from source the development edition, but for server and 
desktop I use repository.

I'll try your example if the issue continue for long time.

W


Il 27/11/2017 16:33, Patrick Dunford ha scritto:
> There is no mandated requirement to use the Ubuntugis repository for 
> 2.18. The latest edition of 2.18 is available from the non-ubuntugis 
> Qgis repository for xenial.
>
> Do you have that option available to you?
>
> If you need the development edition (2.99) unfortunately the 
> developers are not supporting this on Xenial because of a package 
> dependency that is not supported by the Ubuntu repositories for 
> Xenial, even though it should in theory be possible to get the 
> required package(s) from another repository.
>
> If you have used apt upgrade to update all the packages in your system 
> at once, including new ubuntugis packages, don't update all the 
> packages this way. Just update qgis by itself, and it won't pull the 
> new ubuntugis packages if it doesn't need them.
>
> The more technically astute might try commenting out the ubuntugis 
> repository from apt's sources.list files or fragments before issuing 
> the apt update command, or playing with Apt pinning settings to 
> prioritise repositories.
>
> Example: I installed Debian buster/testing and then attempted to 
> install Qgis 2.99 sid/unstable. This told me it needed a package from 
> Debian sid/unstable repositories. I changed the master repository for 
> debian to unstable and then apt update tells me there are hundreds of 
> new packages from unstable I could install. I only want it to install 
> the packages needed for qgis so instead of running apt upgrade, I just 
> run apt install qgis etc to only pull the unstable packages it 
> actually needs for this installation, and then change the Debian 
> master repository back to buster.
>
> The above options may not suit every situation where ubuntugis has to 
> be used, obviously it does not suit your particular requirement if you 
> have to have the latest ubuntugis packages for other reasons, however 
> it may resolve the situation for someone else.
>
> On 28/11/17 02:23, Walter Lorenzetti wrote:
>>
>> Thanks Patrick for replay, I user ubuntugis for other project in my 
>> work ..
>>
>> W
>>
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 

Walter Lorenzetti phD
email: lorenzetti at gis3w.it
skype: aiki74
twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
g+:aiki74 <https://plus.google.com/117055903318462447104/>
Tel/Cell: (+39) 347-6597931
Viale Verdi 24 - 51016 Montecatini Terme (PT)
Nuovi corsi QGIS e GFOSS 
<http://gis3w.it/it/calendario-corsi-software-geografici>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/c3714322/attachment-0001.html>

From lorenzetti at gis3w.it  Tue Nov 28 00:01:17 2017
From: lorenzetti at gis3w.it (Walter Lorenzetti)
Date: Tue, 28 Nov 2017 09:01:17 +0100
Subject: [QGIS-Developer] Qgis with ubuntgis dependancy broken
In-Reply-To: <20171127153446.4esb673adssajt3b@norbit.de>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <20171127153446.4esb673adssajt3b@norbit.de>
Message-ID: <85a14672-003a-31a9-7da0-471b9d539a6c@gis3w.it>

Hi Jürgen,

my question was impulisive because it was the first time in many years 
of using qgis and ubuntugis.

Thanks.

W


Il 27/11/2017 16:34, Jürgen E. Fischer ha scritto:
> Hi Walter,
>
> On Mon, 27. Nov 2017 at 12:38:06 +0100, Walter Lorenzetti wrote:
>> QGIS repository for ubuntugis-unstable is broken, require gdal 2.2.1 but
>> ubuntugis updated to 2.2.2.
>> It is correct or I'm doing a  mistake?
> No, that's expected.  See note on
> http://www.qgis.org/en/site/forusers/alldownloads.html#debian-ubuntu.
>
>
> Jürgen
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 

Walter Lorenzetti phD
email: lorenzetti at gis3w.it
skype: aiki74
twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
g+:aiki74 <https://plus.google.com/117055903318462447104/>
Tel/Cell: (+39) 347-6597931
Viale Verdi 24 - 51016 Montecatini Terme (PT)
Nuovi corsi QGIS e GFOSS 
<http://gis3w.it/it/calendario-corsi-software-geografici>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/691eb21f/attachment.html>

From enzedrailmaps at gmail.com  Tue Nov 28 00:15:24 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Tue, 28 Nov 2017 21:15:24 +1300
Subject: [QGIS-Developer] Qgis with ubuntgis dependancy broken
In-Reply-To: <74a88d64-3413-fc71-3bb2-5267a30bdabc@gis3w.it>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
 <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
 <f620e52a-5b1b-a193-8993-e5e9275df8c7@gmail.com>
 <74a88d64-3413-fc71-3bb2-5267a30bdabc@gis3w.it>
Message-ID: <b16e063e-18a1-be7f-c475-01b01acfcd52@gmail.com>

I tested this last night on a VM running 2.18.13 on Ubuntu 16.04 x64.

I commented out the lines in sources.list for the PPA to the Ubuntugis 
archive and then issued the apt update command.

Checking the list, having excluded the Ubuntugis repository PPA, there 
was no GDAL in the list of packages available for upgrade.

With apt upgrade, the packages were installed then 2.18.14 works fine.

I would comment out the ubuntugis repository PPA lines in sources.list 
or its descendants (list files in sources.list.d) unless it actually 
tells you that a package isn't available, which will presumably happen 
with the next point release in about 10 days, if it has been built to 
use the new version of GDAL.


On 28/11/17 20:59, Walter Lorenzetti wrote:
>
> Hi Patrick,
>
> thanks for reply and suggestions.
>
> I compile from source the development edition, but for server and 
> desktop I use repository.
>
> I'll try your example if the issue continue for long time.
>
> W
>
>
> Il 27/11/2017 16:33, Patrick Dunford ha scritto:
>> There is no mandated requirement to use the Ubuntugis repository for 
>> 2.18. The latest edition of 2.18 is available from the non-ubuntugis 
>> Qgis repository for xenial.
>>
>> Do you have that option available to you?
>>
>> If you need the development edition (2.99) unfortunately the 
>> developers are not supporting this on Xenial because of a package 
>> dependency that is not supported by the Ubuntu repositories for 
>> Xenial, even though it should in theory be possible to get the 
>> required package(s) from another repository.
>>
>> If you have used apt upgrade to update all the packages in your 
>> system at once, including new ubuntugis packages, don't update all 
>> the packages this way. Just update qgis by itself, and it won't pull 
>> the new ubuntugis packages if it doesn't need them.
>>
>> The more technically astute might try commenting out the ubuntugis 
>> repository from apt's sources.list files or fragments before issuing 
>> the apt update command, or playing with Apt pinning settings to 
>> prioritise repositories.
>>
>> Example: I installed Debian buster/testing and then attempted to 
>> install Qgis 2.99 sid/unstable. This told me it needed a package from 
>> Debian sid/unstable repositories. I changed the master repository for 
>> debian to unstable and then apt update tells me there are hundreds of 
>> new packages from unstable I could install. I only want it to install 
>> the packages needed for qgis so instead of running apt upgrade, I 
>> just run apt install qgis etc to only pull the unstable packages it 
>> actually needs for this installation, and then change the Debian 
>> master repository back to buster.
>>
>> The above options may not suit every situation where ubuntugis has to 
>> be used, obviously it does not suit your particular requirement if 
>> you have to have the latest ubuntugis packages for other reasons, 
>> however it may resolve the situation for someone else.
>>
>> On 28/11/17 02:23, Walter Lorenzetti wrote:
>>>
>>> Thanks Patrick for replay, I user ubuntugis for other project in my 
>>> work ..
>>>
>>> W
>>>
>>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -- 
>
> Walter Lorenzetti phD
> email: lorenzetti at gis3w.it
> skype: aiki74
> twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
> g+:aiki74 <https://plus.google.com/117055903318462447104/>
> Tel/Cell: (+39) 347-6597931
> Viale Verdi 24 - 51016 Montecatini Terme (PT)
> Nuovi corsi QGIS e GFOSS 
> <http://gis3w.it/it/calendario-corsi-software-geografici>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/4f5e8750/attachment.html>

From rdmailings at duif.net  Tue Nov 28 00:17:45 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 28 Nov 2017 09:17:45 +0100
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
Message-ID: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>

Hi devs,

just a head up that currently (with me) the Spatial Bookmarks are
severely broken, both in master and 2.18.

Stuff which should have been introduced:
https://github.com/qgis/QGIS/pull/2661
do not work with me here locally.

Not even the basic adding of one bookmark.

Other issues:
https://issues.qgis.org/projects/qgis/search?utf8=%E2%9C%93&issues=1&q=bookmark

Can people confirm?

Though not that important in my view, I do not think we should ship
current implementation in a 3.0

Regards,

Richard Duivenvoorde

From tim at kartoza.com  Tue Nov 28 00:42:10 2017
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 28 Nov 2017 10:42:10 +0200
Subject: [QGIS-Developer] [Qgis-psc] QGIS Soft Feature Freeze Voting
 (was Re: QGIS 3 release expectations)
In-Reply-To: <CAB28AsiwgoRFKd9GLmTfwktbKaKn7CRVryB7ppXvmeiM-VXVOg@mail.gmail.com>
References: <CAAi8Yg8NN7LPWdth5voEi5z-JmbVUb36aeCdfY9i4eignq5LSw@mail.gmail.com>
 <18b6a6738869730488192694175c74cd@carto.net>
 <19F6A18E-8514-41E7-BB9D-A37E47233AF5@kartoza.com>
 <24DD9025-13B6-4366-ADB0-9E27F7EF9E2A@qgis.org>
 <CAB28AsiwgoRFKd9GLmTfwktbKaKn7CRVryB7ppXvmeiM-VXVOg@mail.gmail.com>
Message-ID: <AE031423-1FF9-41AC-A2B7-050AC5C3E95E@kartoza.com>

Hi


> On 28 Nov 2017, at 01:39, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> 
> On 27 November 2017 at 08:32, Tim Sutton <tim at kartoza.com> wrote:
>> The voting process is transparent but only qgis/QGIS core committers may vote on it. Please note that if you are eligible you should have received an invite email to join the loomio group. If you did not, please contact me with your preferred email address and I will re-add you.
>> 
> 
> Hi Tim,
> 
> What's the process to get exemptions for open PRs? There's a couple
> I'd like to see merged if it's agreeable:

I would propose that we just use the same mechanism - add a motion in loomio then we will have an easily trackable chain of decisions. All the users in the group should be able to raise new proposals to the soft freeze and we can collectively review them on a case by case basis. 

How does that sound?

Regards

Tim

> 
> - https://github.com/qgis/QGIS/pull/5600: "Add order by expression
> processing algorithm". Very low risk - it's a self contained algorithm
> on which nothing else depends. Processing in 3.0 is awesome, and has
> made great strides to becoming a competitive ETL tool. This algorithm
> would very nicely complement the work already done in 3.0 to make
> models more powerful and flexible.
> 
> - https://github.com/qgis/QGIS/pull/5430: "More output format choices
> in raster save as dialog": Low risk. Changes only affect the dialog,
> and an extra convenience member in QgsRasterFileWriter (which is
> accompanied by unit tests)
> 
> - https://github.com/qgis/QGIS/pull/5729: "[processing] Expose dynamic
> ("data defined") numeric parameters to gui". Low-medium risk. Most of
> the changes here are gui related, just exposing functionality which
> already exists in the new processing backend (and which is covered by
> stacks of unit tests). I'd love to see this included in 3.0 as it
> changes some of the processing API, and I would like wider testing and
> porting of algorithms to utilise this BEFORE the API is locked in
> place and we're stuck with it. I'd rather identify any issues in the
> related API here for 3.0. Additionally, the changes to the "set z
> value" algorithm which allows the z value to be pulled from a field or
> expression is extremely useful in preparing datasets for use in the
> new 3d views. Plus, it's an absolute KILLER feature to have.
> 
> - https://github.com/qgis/QGIS/pull/5663: "Add a name for transactions
> created from executeSql". It's marked as a feature and tagged as 3.2,
> but looking over it it seems to be almost entirely api tweaks and a
> unit test. I'd say this is low risk, especially given Paul's history
> of stable commits and how well unit tested this are of code is
> already.
> 
> Nyall

—







Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/16fb69bd/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/16fb69bd/attachment-0001.jpg>

From delazj at gmail.com  Tue Nov 28 00:42:51 2017
From: delazj at gmail.com (DelazJ)
Date: Tue, 28 Nov 2017 09:42:51 +0100
Subject: [QGIS-Developer] [Qgis-psc] QGIS Soft Feature Freeze Voting
 (was Re: QGIS 3 release expectations)
In-Reply-To: <CAC_qv=rKKUmKaJKc3hyi741n8gu8z5Zpfu2R1Lwtu3MUYKYAXw@mail.gmail.com>
References: <CAAi8Yg8NN7LPWdth5voEi5z-JmbVUb36aeCdfY9i4eignq5LSw@mail.gmail.com>
 <18b6a6738869730488192694175c74cd@carto.net>
 <19F6A18E-8514-41E7-BB9D-A37E47233AF5@kartoza.com>
 <24DD9025-13B6-4366-ADB0-9E27F7EF9E2A@qgis.org>
 <CAB28AsiwgoRFKd9GLmTfwktbKaKn7CRVryB7ppXvmeiM-VXVOg@mail.gmail.com>
 <CAC_qv=rKKUmKaJKc3hyi741n8gu8z5Zpfu2R1Lwtu3MUYKYAXw@mail.gmail.com>
Message-ID: <CAECJsSpoqo9=DoSyeP_GKOxy9m8ev=6L9Cc-X9keriXikk+V3A@mail.gmail.com>

Hi,
There's a pull-request i'm missing in the list since the beginning:
https://github.com/qgis/QGIS/pull/4305
I'm not sure it'd break an API, and it looks like a new feature but I think
it'd be a shame to not have it for 3.0. I don't know if Nathan has time to
work on it but this is a nice tool to help users migrate from 2.x to 3.0
easily. I'm not sure it will get enough sense in 3.2 when a lot of people
would have already (maybe) struggled to move their settings, unless I
overestimate the PR scope and there's already a migration process I did not
find.

Regards,
Harrissou

2017-11-28 3:11 GMT+01:00 Mathieu Pellerin <nirvn.asia at gmail.com>:

> +1 to all four PRs, especially the dynamic number value for processing one
> which I've tested quite a lot in the last 48 hours and couldn't detect any
> problem.
>
> On Nov 28, 2017 6:39 AM, "Nyall Dawson" <nyall.dawson at gmail.com> wrote:
>
>> On 27 November 2017 at 08:32, Tim Sutton <tim at kartoza.com> wrote:
>> > The voting process is transparent but only qgis/QGIS core committers
>> may vote on it. Please note that if you are eligible you should have
>> received an invite email to join the loomio group. If you did not, please
>> contact me with your preferred email address and I will re-add you.
>> >
>>
>> Hi Tim,
>>
>> What's the process to get exemptions for open PRs? There's a couple
>> I'd like to see merged if it's agreeable:
>>
>> - https://github.com/qgis/QGIS/pull/5600: "Add order by expression
>> processing algorithm". Very low risk - it's a self contained algorithm
>> on which nothing else depends. Processing in 3.0 is awesome, and has
>> made great strides to becoming a competitive ETL tool. This algorithm
>> would very nicely complement the work already done in 3.0 to make
>> models more powerful and flexible.
>>
>> - https://github.com/qgis/QGIS/pull/5430: "More output format choices
>> in raster save as dialog": Low risk. Changes only affect the dialog,
>> and an extra convenience member in QgsRasterFileWriter (which is
>> accompanied by unit tests)
>>
>> - https://github.com/qgis/QGIS/pull/5729: "[processing] Expose dynamic
>> ("data defined") numeric parameters to gui". Low-medium risk. Most of
>> the changes here are gui related, just exposing functionality which
>> already exists in the new processing backend (and which is covered by
>> stacks of unit tests). I'd love to see this included in 3.0 as it
>> changes some of the processing API, and I would like wider testing and
>> porting of algorithms to utilise this BEFORE the API is locked in
>> place and we're stuck with it. I'd rather identify any issues in the
>> related API here for 3.0. Additionally, the changes to the "set z
>> value" algorithm which allows the z value to be pulled from a field or
>> expression is extremely useful in preparing datasets for use in the
>> new 3d views. Plus, it's an absolute KILLER feature to have.
>>
>> - https://github.com/qgis/QGIS/pull/5663: "Add a name for transactions
>> created from executeSql". It's marked as a feature and tagged as 3.2,
>> but looking over it it seems to be almost entirely api tweaks and a
>> unit test. I'd say this is low risk, especially given Paul's history
>> of stable commits and how well unit tested this are of code is
>> already.
>>
>> Nyall
>> _______________________________________________
>> Qgis-psc mailing list
>> Qgis-psc at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>
>
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/24449a69/attachment.html>

From sigeal at sigeal.com  Tue Nov 28 02:06:23 2017
From: sigeal at sigeal.com (=?UTF-8?Q?SIG=c3=a9al?=)
Date: Tue, 28 Nov 2017 11:06:23 +0100
Subject: [QGIS-Developer] QGIS 3 getComposerItemById should return
 subclassed item
In-Reply-To: <b16e063e-18a1-be7f-c475-01b01acfcd52@gmail.com>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
 <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
 <f620e52a-5b1b-a193-8993-e5e9275df8c7@gmail.com>
 <74a88d64-3413-fc71-3bb2-5267a30bdabc@gis3w.it>
 <b16e063e-18a1-be7f-c475-01b01acfcd52@gmail.com>
Message-ID: <a0e0390c-ed02-48ab-704b-32d815932190@sigeal.com>

Hi devs,

This code used to work in QGIS 2.x.

|lblTitle =myComposition.getComposerItemById('title')|||lblTitle|.setText('New Title')|

|However, it doesn't anymore in QGIS |2.99.
Instead it returns this error :

|'QgsComposerItem' object has no attribute 'setText'|||

--
Christophe


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/39a55c0a/attachment-0001.html>

From etienne.trimaille at gmail.com  Tue Nov 28 02:22:22 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Tue, 28 Nov 2017 11:22:22 +0100
Subject: [QGIS-Developer] QGIS 3 getComposerItemById should return
 subclassed item
In-Reply-To: <a0e0390c-ed02-48ab-704b-32d815932190@sigeal.com>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
 <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
 <f620e52a-5b1b-a193-8993-e5e9275df8c7@gmail.com>
 <74a88d64-3413-fc71-3bb2-5267a30bdabc@gis3w.it>
 <b16e063e-18a1-be7f-c475-01b01acfcd52@gmail.com>
 <a0e0390c-ed02-48ab-704b-32d815932190@sigeal.com>
Message-ID: <CAMtDFLKFUyD-7SPJxeKXCnNPJvifSzbX_U8cFG+K_V74-qd54Q@mail.gmail.com>

We have this problem with QGIS 2.18 too in our plugin:
https://github.com/inasafe/inasafe/issues/4271

We could fix the problem with a hint from Martin, we have this function as
a workaround:
https://github.com/inasafe/inasafe/blob/develop/safe/report/processors/default.py#L54
It works well. It would be nice to know if it's a bug in QGIS.

Etienne

2017-11-28 11:06 GMT+01:00 SIGéal <sigeal at sigeal.com>:

> Hi devs,
>
> This code used to work in QGIS 2.x.
>
> lblTitle = myComposition.getComposerItemById('title')lblTitle.setText('New Title')
>
> However, it doesn't anymore in QGIS 2.99.
> Instead it returns this error :
>
> 'QgsComposerItem' object has no attribute 'setText'
>
> --
> Christophe
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/a2b31535/attachment.html>

From etienne.trimaille at gmail.com  Tue Nov 28 02:27:55 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Tue, 28 Nov 2017 11:27:55 +0100
Subject: [QGIS-Developer] QGIS 3 getComposerItemById should return
 subclassed item
In-Reply-To: <CAMtDFLKFUyD-7SPJxeKXCnNPJvifSzbX_U8cFG+K_V74-qd54Q@mail.gmail.com>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
 <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
 <f620e52a-5b1b-a193-8993-e5e9275df8c7@gmail.com>
 <74a88d64-3413-fc71-3bb2-5267a30bdabc@gis3w.it>
 <b16e063e-18a1-be7f-c475-01b01acfcd52@gmail.com>
 <a0e0390c-ed02-48ab-704b-32d815932190@sigeal.com>
 <CAMtDFLKFUyD-7SPJxeKXCnNPJvifSzbX_U8cFG+K_V74-qd54Q@mail.gmail.com>
Message-ID: <CAMtDFLLdWNFUZvE5vNYC=ifv5_q90MQbaNQRg4KFOXehB4Fvcg@mail.gmail.com>

The original snippet:

   @staticmethod
    def get_composition_item(comp, item_id, item_class):
        for item in comp.items():
            if isinstance(item, item_class):
                if item.id() == item_id:
                    return item

2017-11-28 11:22 GMT+01:00 Etienne Trimaille <etienne.trimaille at gmail.com>:

> We have this problem with QGIS 2.18 too in our plugin: https://github.com/
> inasafe/inasafe/issues/4271
>
> We could fix the problem with a hint from Martin, we have this function as
> a workaround:
> https://github.com/inasafe/inasafe/blob/develop/safe/
> report/processors/default.py#L54
> It works well. It would be nice to know if it's a bug in QGIS.
>
> Etienne
>
> 2017-11-28 11:06 GMT+01:00 SIGéal <sigeal at sigeal.com>:
>
>> Hi devs,
>>
>> This code used to work in QGIS 2.x.
>>
>> lblTitle = myComposition.getComposerItemById('title')lblTitle.setText('New Title')
>>
>> However, it doesn't anymore in QGIS 2.99.
>> Instead it returns this error :
>>
>> 'QgsComposerItem' object has no attribute 'setText'
>>
>> --
>> Christophe
>>
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/3eed50b0/attachment-0001.html>

From tom.chadwin at nnpa.org.uk  Tue Nov 28 02:37:34 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 28 Nov 2017 03:37:34 -0700 (MST)
Subject: [QGIS-Developer] Detect OpenLayers layer in Python
In-Reply-To: <1716554.CCZtczEkJi@polarwind3>
References: <1511784187756-0.post@n6.nabble.com>
 <1716554.CCZtczEkJi@polarwind3>
Message-ID: <1511865454377-0.post@n6.nabble.com>

Perfect. Thanks, Pirmin.

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From matthias at opengis.ch  Tue Nov 28 02:47:44 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 28 Nov 2017 11:47:44 +0100
Subject: [QGIS-Developer] QGIS 3 getComposerItemById should return
 subclassed item
In-Reply-To: <CAMtDFLKFUyD-7SPJxeKXCnNPJvifSzbX_U8cFG+K_V74-qd54Q@mail.gmail.com>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
 <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
 <f620e52a-5b1b-a193-8993-e5e9275df8c7@gmail.com>
 <74a88d64-3413-fc71-3bb2-5267a30bdabc@gis3w.it>
 <b16e063e-18a1-be7f-c475-01b01acfcd52@gmail.com>
 <a0e0390c-ed02-48ab-704b-32d815932190@sigeal.com>
 <CAMtDFLKFUyD-7SPJxeKXCnNPJvifSzbX_U8cFG+K_V74-qd54Q@mail.gmail.com>
Message-ID: <e9354e39-ef42-ec89-2c89-657d306faf25@opengis.ch>

I guess there's a problem with the %ConvertToSubClassCode in the sip file.

What does lblTitle.type() give?

Matthias


On 11/28/2017 11:22 AM, Etienne Trimaille wrote:
> We have this problem with QGIS 2.18 too in our
> plugin: https://github.com/inasafe/inasafe/issues/4271
>
> We could fix the problem with a hint from Martin, we have this
> function as a workaround:
> https://github.com/inasafe/inasafe/blob/develop/safe/report/processors/default.py#L54
> It works well. It would be nice to know if it's a bug in QGIS.
>
> Etienne
>
> 2017-11-28 11:06 GMT+01:00 SIGéal <sigeal at sigeal.com
> <mailto:sigeal at sigeal.com>>:
>
>     Hi devs,
>
>     This code used to work in QGIS 2.x.
>
>     |lblTitle =myComposition.getComposerItemById('title')|||lblTitle|.setText('New Title')|
>
>     |However, it doesn't anymore in QGIS |2.99.
>     Instead it returns this error :
>
>     |'QgsComposerItem' object has no attribute 'setText'|||
>
>     --
>     Christophe
>
>
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/3add9636/attachment.html>

From yjacolin at free.fr  Tue Nov 28 00:22:54 2017
From: yjacolin at free.fr (Yves Jacolin)
Date: Tue, 28 Nov 2017 09:22:54 +0100
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
Message-ID: <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>

Hi,

I did a quick test in my 2.18.11 instance of QGIS:

* open an existing project

* zoom somewhere and add a new bookmark, check "in project" checkbox

* close the project, open a blank new project, do something

* open again the previous project and test the spatial bookmark

All worked as expected. I zoomed in the bookmark location and the "in
project" bookmark disappear in a new project.

Y.


Le 28/11/2017 à 09:17, Richard Duivenvoorde a écrit :
> Hi devs,
>
> just a head up that currently (with me) the Spatial Bookmarks are
> severely broken, both in master and 2.18.
>
> Stuff which should have been introduced:
> https://github.com/qgis/QGIS/pull/2661
> do not work with me here locally.
>
> Not even the basic adding of one bookmark.
>
> Other issues:
> https://issues.qgis.org/projects/qgis/search?utf8=%E2%9C%93&issues=1&q=bookmark
>
> Can people confirm?
>
> Though not that important in my view, I do not think we should ship
> current implementation in a 3.0
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From a.neumann at carto.net  Tue Nov 28 04:25:42 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 28 Nov 2017 13:25:42 +0100
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
Message-ID: <d4b6f8c04eb4507a8fc25422e52ceada@carto.net>

Hi, 

In my case I could add one spatial bookmark, but not a second one. If I
click on the "New bookmark" button, after one bookmark already exists,
nothing happens. 

So it seems to be at least partially broken. 

Andreas 

On 2017-11-28 09:22, Yves Jacolin wrote:

> Hi,
> 
> I did a quick test in my 2.18.11 instance of QGIS:
> 
> * open an existing project
> 
> * zoom somewhere and add a new bookmark, check "in project" checkbox
> 
> * close the project, open a blank new project, do something
> 
> * open again the previous project and test the spatial bookmark
> 
> All worked as expected. I zoomed in the bookmark location and the "in
> project" bookmark disappear in a new project.
> 
> Y.
> 
> Le 28/11/2017 à 09:17, Richard Duivenvoorde a écrit : 
> 
>> Hi devs,
>> 
>> just a head up that currently (with me) the Spatial Bookmarks are
>> severely broken, both in master and 2.18.
>> 
>> Stuff which should have been introduced:
>> https://github.com/qgis/QGIS/pull/2661
>> do not work with me here locally.
>> 
>> Not even the basic adding of one bookmark.
>> 
>> Other issues:
>> https://issues.qgis.org/projects/qgis/search?utf8=%E2%9C%93&issues=1&q=bookmark
>> 
>> Can people confirm?
>> 
>> Though not that important in my view, I do not think we should ship
>> current implementation in a 3.0
>> 
>> Regards,
>> 
>> Richard Duivenvoorde
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/6a44c249/attachment-0001.html>

From sigeo.agmartin at getxo.eus  Tue Nov 28 04:33:23 2017
From: sigeo.agmartin at getxo.eus (Aitor Gil Martin)
Date: Tue, 28 Nov 2017 12:33:23 +0000
Subject: [QGIS-Developer] php-cgi not found after installing QGIS Server
 on Windows
In-Reply-To: <27f3db6e-7d93-f0d7-fc95-148cc89d7a01@gmail.com>
References: <04AEE41FF41CFC44BA6837497D1327ABD7F24424@EPOSTAMX1.GETXO.ORG>
 <27f3db6e-7d93-f0d7-fc95-148cc89d7a01@gmail.com>
Message-ID: <04AEE41FF41CFC44BA6837497D1327ABD7F2459D@EPOSTAMX1.GETXO.ORG>

Hi René-Luc,

I have been following your excellent guide without issues. It's hard to find on internet such a detailed guide on the geeky task of installing Qgis server + lizmap.

I installed Apache and PHP  (x64 both) succesfully so far.

I wanted to install PostgreSQL + Postgis. My doubt arrives when I see in the php properties:

[cid:image001.png at 01D3684D.760117F0]


The libpq library says PostgreSQL 9.6.2(win32).

Does this mean that I need to install a x32 PostgreSQL versión and not x64?

Can I install PostgreSQL 10 version?

Can I install PostgresQL 9.6.6 (newer than 9.6.2)?

The installation before 9.6.2 I have found is postgresql (x32) 9.5.10: https://www.enterprisedb.com/download-postgresql-binaries . Is this the one it is recommended to install?

Thank you very much for you incredible work with lizmap and your help to the community.

Regards,

Aitor

De: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] En nombre de René-Luc Dhont
Enviado el: lunes, 27 de noviembre de 2017 14:14
Para: qgis-developer at lists.osgeo.org
Asunto: Re: [QGIS-Developer] php-cgi not found after installing QGIS Server on Windows


Hi Aitor,

Did you use this documentation ?

https://docs.3liz.com/en/install/windows.html#qgis-server-installation

Regards,

René-Luc

Le 27/11/2017 à 13:30, Aitor Gil Martin a écrit :
I installed QGIS Server 2.18, apache, QGIS Desktop 2.18 and all their dependencies using OSGeo4w x32 setup wizard on a Windows Server 2008 R2 SP1 x64 virtual server.
After the installation I type localhost on my chrome browser to see the Apache's landing page and I am getting the following error:
Not Found
The requested URL /cgi-bin/php-cgi.exe/index.phtml was not found on this server.
I uninstalled and installed everything several times using OSGeo4w but I keep getting the same message. Something is not properly installed or missing.
Can anyone give me a clue on what might be happening?




_______________________________________________

QGIS-Developer mailing list

QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>

List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer

Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/67d467a3/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 39794 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/67d467a3/attachment-0001.png>

From rdmailings at duif.net  Tue Nov 28 04:40:52 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 28 Nov 2017 13:40:52 +0100
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
Message-ID: <3fcb4a66-6263-3fe1-ec03-2b72c538130e@duif.net>


Hi Yves,

I have all kind of strange behaviours. As said: in master I can only
create one bookmark. And 'In Project' I cannot check.

But in 2.18.14 (only 2.18 I have) it is behaving strange too, looks like
it is depending on if you opening an existing project or not???
- I CAN check the check-boxes if I load an existing project
BUT the bookmark checked moves to the bottom then (sorting on??)
- I can NOT check the checkbox when I create a new project, then load
some data, save the project and add a bookmark.
- some project end up with a 0 srid (and are not usable anymore after that)
- after opening an existing project I can all at a sudden check the
check-boxes again (from other projects?), but IF I check those, I
actually delete them from my global bookmarks????

Apparently the 'In Project' means something like: save it in the
project, BUT remove it from the global bookmarks?

At least to me the behavior of all this is very counter-intuitive :-(

2.18, I do not care too much about it, but in Master it should work (and
preferably work intuitive :-)  )...

Regards,

Richard



On 28-11-17 09:22, Yves Jacolin wrote:
> Hi,
> 
> I did a quick test in my 2.18.11 instance of QGIS:
> 
> * open an existing project
> 
> * zoom somewhere and add a new bookmark, check "in project" checkbox
> 
> * close the project, open a blank new project, do something
> 
> * open again the previous project and test the spatial bookmark
> 
> All worked as expected. I zoomed in the bookmark location and the "in
> project" bookmark disappear in a new project.
> 
> Y.
> 
> 
> Le 28/11/2017 à 09:17, Richard Duivenvoorde a écrit :
>> Hi devs,
>>
>> just a head up that currently (with me) the Spatial Bookmarks are
>> severely broken, both in master and 2.18.
>>
>> Stuff which should have been introduced:
>> https://github.com/qgis/QGIS/pull/2661
>> do not work with me here locally.
>>
>> Not even the basic adding of one bookmark.
>>
>> Other issues:
>> https://issues.qgis.org/projects/qgis/search?utf8=%E2%9C%93&issues=1&q=bookmark
>>
>> Can people confirm?
>>
>> Though not that important in my view, I do not think we should ship
>> current implementation in a 3.0
>>
>> Regards,
>>
>> Richard Duivenvoorde
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From yjacolin at free.fr  Tue Nov 28 05:11:45 2017
From: yjacolin at free.fr (Yves Jacolin)
Date: Tue, 28 Nov 2017 14:11:45 +0100
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <3fcb4a66-6263-3fe1-ec03-2b72c538130e@duif.net>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
 <3fcb4a66-6263-3fe1-ec03-2b72c538130e@duif.net>
Message-ID: <4d498059-768c-d1d8-0999-6a5d5f084805@free.fr>

Thanks for clarification, yes I failed some of your check, see below:

Le 28/11/2017 à 13:40, Richard Duivenvoorde a écrit :
> Hi Yves,
>
> I have all kind of strange behaviours. As said: in master I can only
> create one bookmark. And 'In Project' I cannot check.
>
> But in 2.18.14 (only 2.18 I have) it is behaving strange too, looks like
> it is depending on if you opening an existing project or not???
> - I CAN check the check-boxes if I load an existing project
> BUT the bookmark checked moves to the bottom then (sorting on??)
Confirmed. I guess in-project are grouped below.
> - I can NOT check the checkbox when I create a new project, then load
> some data, save the project and add a bookmark.
Confirmed.
> - some project end up with a 0 srid (and are not usable anymore after that)
Confirmed on my side, srid is 0 when checking in-project. But bookmarks
are still usable.
> - after opening an existing project I can all at a sudden check the
> check-boxes again (from other projects?), but IF I check those, I
> actually delete them from my global bookmarks????
>
> Apparently the 'In Project' means something like: save it in the
> project, BUT remove it from the global bookmarks?
Yes, indeed. But for me it is what I am waiting when checking such
checkbox if not I will duplicate them. But this is just my point of view :)
> At least to me the behavior of all this is very counter-intuitive :-(
>
> 2.18, I do not care too much about it, but in Master it should work (and
> preferably work intuitive :-)  )...
There is clearly a bug when creating a project and not able to create
new bookmarks. The sort of "in project" bookmark don't hurt me too much.
srid = 0 is really strange and could be seen as a bug.

Y.

From enzedrailmaps at gmail.com  Tue Nov 28 05:12:20 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Wed, 29 Nov 2017 02:12:20 +1300
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <d4b6f8c04eb4507a8fc25422e52ceada@carto.net>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
 <d4b6f8c04eb4507a8fc25422e52ceada@carto.net>
Message-ID: <6ca04644-efd6-15d0-0807-c1899c6be369@gmail.com>

I can add a second bookmark in 2.18.14, only one in the recent masters 
though. Old masters simply throw an error for adding a bookmark.


On 29/11/17 01:25, Andreas Neumann wrote:
>
> Hi,
>
> In my case I could add one spatial bookmark, but not a second one. If 
> I click on the "New bookmark" button, after one bookmark already 
> exists, nothing happens.
>
> So it seems to be at least partially broken.
>
> Andreas
>
> On 2017-11-28 09:22, Yves Jacolin wrote:
>
>> Hi,
>>
>> I did a quick test in my 2.18.11 instance of QGIS:
>>
>> * open an existing project
>>
>> * zoom somewhere and add a new bookmark, check "in project" checkbox
>>
>> * close the project, open a blank new project, do something
>>
>> * open again the previous project and test the spatial bookmark
>>
>> All worked as expected. I zoomed in the bookmark location and the "in
>> project" bookmark disappear in a new project.
>>
>> Y.
>>
>>
>> Le 28/11/2017 à 09:17, Richard Duivenvoorde a écrit :
>>> Hi devs,
>>>
>>> just a head up that currently (with me) the Spatial Bookmarks are
>>> severely broken, both in master and 2.18.
>>>
>>> Stuff which should have been introduced:
>>> https://github.com/qgis/QGIS/pull/2661
>>> do not work with me here locally.
>>>
>>> Not even the basic adding of one bookmark.
>>>
>>> Other issues:
>>> https://issues.qgis.org/projects/qgis/search?utf8=%E2%9C%93&issues=1&q=bookmark
>>>
>>> Can people confirm?
>>>
>>> Though not that important in my view, I do not think we should ship
>>> current implementation in a 3.0
>>>
>>> Regards,
>>>
>>> Richard Duivenvoorde
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/fecc98c8/attachment.html>

From yjacolin at free.fr  Tue Nov 28 04:33:59 2017
From: yjacolin at free.fr (Yves Jacolin)
Date: Tue, 28 Nov 2017 13:33:59 +0100
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <d4b6f8c04eb4507a8fc25422e52ceada@carto.net>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
 <d4b6f8c04eb4507a8fc25422e52ceada@carto.net>
Message-ID: <82c4397e-3dd0-6321-478b-b74f2ca2165a@free.fr>

Strange, I tested it again, created several new spatial bookmarks and
there is still no problem for me.

I use QGIS 2.18.11, local build.

Y.


Le 28/11/2017 à 13:25, Andreas Neumann a écrit :
>
> Hi,
>
> In my case I could add one spatial bookmark, but not a second one. If
> I click on the "New bookmark" button, after one bookmark already
> exists, nothing happens.
>
> So it seems to be at least partially broken.
>
> Andreas
>
> On 2017-11-28 09:22, Yves Jacolin wrote:
>
>> Hi,
>>
>> I did a quick test in my 2.18.11 instance of QGIS:
>>
>> * open an existing project
>>
>> * zoom somewhere and add a new bookmark, check "in project" checkbox
>>
>> * close the project, open a blank new project, do something
>>
>> * open again the previous project and test the spatial bookmark
>>
>> All worked as expected. I zoomed in the bookmark location and the "in
>> project" bookmark disappear in a new project.
>>
>> Y.
>>
>>
>> Le 28/11/2017 à 09:17, Richard Duivenvoorde a écrit :
>>> Hi devs,
>>>
>>> just a head up that currently (with me) the Spatial Bookmarks are
>>> severely broken, both in master and 2.18.
>>>
>>> Stuff which should have been introduced:
>>> https://github.com/qgis/QGIS/pull/2661
>>> do not work with me here locally.
>>>
>>> Not even the basic adding of one bookmark.
>>>
>>> Other issues:
>>> https://issues.qgis.org/projects/qgis/search?utf8=%E2%9C%93&issues=1&q=bookmark
>>>
>>> Can people confirm?
>>>
>>> Though not that important in my view, I do not think we should ship
>>> current implementation in a 3.0
>>>
>>> Regards,
>>>
>>> Richard Duivenvoorde
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/cce768d4/attachment-0001.html>

From sigeal at sigeal.com  Tue Nov 28 05:25:34 2017
From: sigeal at sigeal.com (=?UTF-8?Q?SIG=c3=a9al?=)
Date: Tue, 28 Nov 2017 14:25:34 +0100
Subject: [QGIS-Developer] QGIS 3 getComposerItemById should return
 subclassed item
In-Reply-To: <e9354e39-ef42-ec89-2c89-657d306faf25@opengis.ch>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
 <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
 <f620e52a-5b1b-a193-8993-e5e9275df8c7@gmail.com>
 <74a88d64-3413-fc71-3bb2-5267a30bdabc@gis3w.it>
 <b16e063e-18a1-be7f-c475-01b01acfcd52@gmail.com>
 <a0e0390c-ed02-48ab-704b-32d815932190@sigeal.com>
 <CAMtDFLKFUyD-7SPJxeKXCnNPJvifSzbX_U8cFG+K_V74-qd54Q@mail.gmail.com>
 <e9354e39-ef42-ec89-2c89-657d306faf25@opengis.ch>
Message-ID: <540db82d-1bca-5799-53b7-ce44b18f0a2c@sigeal.com>

Weird : lblTitle.type() returns "65639"...

--
Christophe

Le 28/11/2017 à 11:47, Matthias Kuhn a écrit :
>
> I guess there's a problem with the %ConvertToSubClassCode in the sip file.
>
> What does lblTitle.type() give?
>
> Matthias
>
>
> On 11/28/2017 11:22 AM, Etienne Trimaille wrote:
>> We have this problem with QGIS 2.18 too in our plugin: 
>> https://github.com/inasafe/inasafe/issues/4271
>>
>> We could fix the problem with a hint from Martin, we have this 
>> function as a workaround:
>> https://github.com/inasafe/inasafe/blob/develop/safe/report/processors/default.py#L54
>> It works well. It would be nice to know if it's a bug in QGIS.
>>
>> Etienne
>>
>> 2017-11-28 11:06 GMT+01:00 SIGéal <sigeal at sigeal.com 
>> <mailto:sigeal at sigeal.com>>:
>>
>>     Hi devs,
>>
>>     This code used to work in QGIS 2.x.
>>
>>     |lblTitle =myComposition.getComposerItemById('title')|||lblTitle|.setText('New Title')|
>>
>>     |However, it doesn't anymore in QGIS |2.99.
>>     Instead it returns this error :
>>
>>     |'QgsComposerItem' object has no attribute 'setText'|||
>>
>>     --
>>     Christophe
>>
>>
>>
>>     _______________________________________________
>>     QGIS-Developer mailing list
>>     QGIS-Developer at lists.osgeo.org
>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>     List info:
>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>     Unsubscribe:
>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/6a46a13b/attachment.html>

From sigeal at sigeal.com  Tue Nov 28 05:45:18 2017
From: sigeal at sigeal.com (=?UTF-8?Q?SIG=c3=a9al?=)
Date: Tue, 28 Nov 2017 14:45:18 +0100
Subject: [QGIS-Developer] QGIS 3 getComposerItemById should return
 subclassed item
In-Reply-To: <540db82d-1bca-5799-53b7-ce44b18f0a2c@sigeal.com>
References: <7863bdbc-ee6e-1beb-5136-425db34f9e0c@gis3w.it>
 <f3413ac2-ffe8-eb99-2601-ee751c757e54@gmail.com>
 <aed5721e-54d1-cc44-c073-8795ff60d8c3@gis3w.it>
 <f620e52a-5b1b-a193-8993-e5e9275df8c7@gmail.com>
 <74a88d64-3413-fc71-3bb2-5267a30bdabc@gis3w.it>
 <b16e063e-18a1-be7f-c475-01b01acfcd52@gmail.com>
 <a0e0390c-ed02-48ab-704b-32d815932190@sigeal.com>
 <CAMtDFLKFUyD-7SPJxeKXCnNPJvifSzbX_U8cFG+K_V74-qd54Q@mail.gmail.com>
 <e9354e39-ef42-ec89-2c89-657d306faf25@opengis.ch>
 <540db82d-1bca-5799-53b7-ce44b18f0a2c@sigeal.com>
Message-ID: <fc738be1-3bc0-b96e-b451-544411daf432@sigeal.com>

print(lblTitle) gives "<qgis._core.QgsComposerItem object at 
0x0000029B1435FC18>"
as suggested the error message.

--
Christophe

Le 28/11/2017 à 14:25, SIGéal a écrit :
> Weird : lblTitle.type() returns "65639"...
> --
> Christophe
>
> Le 28/11/2017 à 11:47, Matthias Kuhn a écrit :
>>
>> I guess there's a problem with the %ConvertToSubClassCode in the sip 
>> file.
>>
>> What does lblTitle.type() give?
>>
>> Matthias
>>
>>
>> On 11/28/2017 11:22 AM, Etienne Trimaille wrote:
>>> We have this problem with QGIS 2.18 too in our plugin: 
>>> https://github.com/inasafe/inasafe/issues/4271
>>>
>>> We could fix the problem with a hint from Martin, we have this 
>>> function as a workaround:
>>> https://github.com/inasafe/inasafe/blob/develop/safe/report/processors/default.py#L54
>>> It works well. It would be nice to know if it's a bug in QGIS.
>>>
>>> Etienne
>>>
>>> 2017-11-28 11:06 GMT+01:00 SIGéal <sigeal at sigeal.com 
>>> <mailto:sigeal at sigeal.com>>:
>>>
>>>     Hi devs,
>>>
>>>     This code used to work in QGIS 2.x.
>>>
>>>     |lblTitle =myComposition.getComposerItemById('title')|||lblTitle|.setText('New Title')|
>>>
>>>     |However, it doesn't anymore in QGIS |2.99.
>>>     Instead it returns this error :
>>>
>>>     |'QgsComposerItem' object has no attribute 'setText'|||
>>>
>>>     --
>>>     Christophe
>>>
>>>
>>>
>>>     _______________________________________________
>>>     QGIS-Developer mailing list
>>>     QGIS-Developer at lists.osgeo.org
>>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>>     List info:
>>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>     Unsubscribe:
>>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/1a67bb03/attachment-0001.html>

From radim.blazek at gmail.com  Tue Nov 28 07:03:30 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Tue, 28 Nov 2017 16:03:30 +0100
Subject: [QGIS-Developer] Why QgsPointXY is returned by asPoint()
Message-ID: <CAEMrtYqfY5BWe10w=mcscP_TDPPk8Qh+PVwtvuwWwR=MvFFpMw@mail.gmail.com>

Is there any reason why methods

QgsPointXY asPoint() const;
QgsPolylineXY asPolyline() const;
QgsPolygonXY asPolygon() const;
QgsMultiPointXY asMultiPoint() const;
QgsMultiPolylineXY asMultiPolyline() const;
QgsMultiPolygonXY asMultiPolygon() const;

returning Qgs...XY do not have XY at the end of name? For example

QgsPointXY asPointXY() const;
QgsPolylineXY asPolylineXY() const;
....

Radim

From radim.blazek at gmail.com  Tue Nov 28 07:21:30 2017
From: radim.blazek at gmail.com (Radim Blazek)
Date: Tue, 28 Nov 2017 16:21:30 +0100
Subject: [QGIS-Developer] closestSegmentWithContext() with epsilon in
	Python
In-Reply-To: <CAEMrtYq3JaEQYphB_wjm70cfprrBR7izseVLaxLBdo_nqrPdOw@mail.gmail.com>
References: <CAEMrtYp83T=s-wRwxf0hLEkcYOTqWreGJOacTYO9FuTzAuowtA@mail.gmail.com>
 <728cc5c4-f174-826e-01ff-0d2ff00ed8e3@opengis.ch>
 <CAEMrtYq3JaEQYphB_wjm70cfprrBR7izseVLaxLBdo_nqrPdOw@mail.gmail.com>
Message-ID: <CAEMrtYrtVAHw-jSgptVh=Xm+t2Vqz+_4xOy5vKn-TgJOOc-C5w@mail.gmail.com>

You are right, it was simple, https://github.com/qgis/QGIS/pull/5755

I have added also leftOf as Out as it can be also useful.

Radim

On Fri, Nov 24, 2017 at 3:38 PM, Radim Blazek <radim.blazek at gmail.com> wrote:
> It looks like this:
>
> #ifndef SIP_RUN
>     double closestSegmentWithContext( const QgsPointXY &point,
> QgsPointXY &minDistPoint, int &afterVertex, double *leftOf = nullptr,
> double epsilon = DEFAULT_SEGMENT_EPSILON ) const;
> #else
>     double closestSegmentWithContext( const QgsPointXY &point,
> QgsPointXY &minDistPoint SIP_OUT, int &afterVertex SIP_OUT ) const;
> #endif
>
> maybe trivial for who knows how to do it, that is why I asked. How to
> skip leftOf and make epsilon keyword argument?
>
> Radim
>
> On Fri, Nov 24, 2017 at 1:16 PM, Matthias Kuhn <matthias at opengis.ch> wrote:
>> Hi Radim,
>>
>> I don't know why the epsilon is excluded from the python bindings, the
>> docs say nothing.
>> Adjusting it should be trivial, just edit qgsgeometry.h (the
>> prepare-commit script will do the heavy lifting)
>>
>> Matthias
>>
>> On 11/24/2017 12:58 PM, Radim Blazek wrote:
>>> Hi,
>>>
>>> I found that closestSegmentWithContext() in Python is useless for
>>> geometries in geographic crs, because small squared distances are set
>>> to zero because of epsilon threshold. See for example:
>>> https://user-images.githubusercontent.com/29453443/32953189-c395d8a0-cbaf-11e7-8d71-b5869392f08b.PNG
>>> points are not assigned to lines correctly because square distances are wrong.
>>>
>>> Would it be possible to add epsilon as keyword argument to
>>> closestSegmentWithContext() and possibly other methods taking epsilon
>>> in C++?
>>>
>>> I am not sip/python expert, no idea how to do that.
>>>
>>> Thanks
>>> Radim
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From Steiger at cor-management.ch  Tue Nov 28 08:01:51 2017
From: Steiger at cor-management.ch (Stefan Steiger)
Date: Tue, 28 Nov 2017 16:01:51 +0000
Subject: [QGIS-Developer] php-cgi not found after installing QGIS Server
 on Windows
In-Reply-To: <04AEE41FF41CFC44BA6837497D1327ABD7F2459D@EPOSTAMX1.GETXO.ORG>
References: <04AEE41FF41CFC44BA6837497D1327ABD7F24424@EPOSTAMX1.GETXO.ORG>
 <27f3db6e-7d93-f0d7-fc95-148cc89d7a01@gmail.com>
 <04AEE41FF41CFC44BA6837497D1327ABD7F2459D@EPOSTAMX1.GETXO.ORG>
Message-ID: <454591AE08FDD64E8B82954659BC1BEA520C992E@COR-EXCHANGE.cor.local>

Hi Martin,

No, this means that PHP uses the 32-bit PDO-PostgreSQL-driver.
The driver accesses PostgreSQL via TCP-IP/pipes/Unix-domain-sockets, thus you can have whatever bitness-server you want.
Your PG server could just as well run on an ARM or a PPC or a MIPS-Godson/Loongson processor.
You might potentially run into problems if the PG server is > 9.6 - but since 9.6 is the most current main release, that's unlikely to happen.
For 9.6.X, this should be OK.

But if you have an x64-server, this means you should update your PHP-version to 64-bit,
because 32-bit software is usually compiled for 80-386 instead of 80-686, which means it is very slow, and could easily be much faster, if only you actually used x64...
Unless of course you use Arch Linux - they just compile 32-Bit for 80-686.  But since your screenshot says win32...

Also, if you use Windows, do yourselfs a favour and don't use Apache.
Use IIS, and if you use Linux, use nginx.
https://trends.google.com/trends/explore?date=all&q=apache,nginx
Apache is s**t, and gonna die for good.

If you need to install the latest PHP version (PHP7) on Windows, refer to my answer here:
https://stackoverflow.com/a/16427988/155077

If you have an IIS-version > 9, you need to switch
HKLM/System/CCS/Services/W3SVC/Parameters/MajorVersion
to 9 before installing PHP-Manager,  and after-installation, switch the value back.


Kind regards

Stefan


Von: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] Im Auftrag von Aitor Gil Martin
Gesendet: Dienstag, 28. November 2017 13:33
An: René-Luc Dhont <rldhont at gmail.com>; qgis-developer at lists.osgeo.org
Betreff: Re: [QGIS-Developer] php-cgi not found after installing QGIS Server on Windows

Hi René-Luc,

I have been following your excellent guide without issues. It's hard to find on internet such a detailed guide on the geeky task of installing Qgis server + lizmap.

I installed Apache and PHP  (x64 both) succesfully so far.

I wanted to install PostgreSQL + Postgis. My doubt arrives when I see in the php properties:

[cid:image001.png at 01D36867.BBB1FAC0]


The libpq library says PostgreSQL 9.6.2(win32).

Does this mean that I need to install a x32 PostgreSQL versión and not x64?

Can I install PostgreSQL 10 version?

Can I install PostgresQL 9.6.6 (newer than 9.6.2)?

The installation before 9.6.2 I have found is postgresql (x32) 9.5.10: https://www.enterprisedb.com/download-postgresql-binaries . Is this the one it is recommended to install?

Thank you very much for you incredible work with lizmap and your help to the community.

Regards,

Aitor

De: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] En nombre de René-Luc Dhont
Enviado el: lunes, 27 de noviembre de 2017 14:14
Para: qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>
Asunto: Re: [QGIS-Developer] php-cgi not found after installing QGIS Server on Windows


Hi Aitor,

Did you use this documentation ?

https://docs.3liz.com/en/install/windows.html#qgis-server-installation

Regards,

René-Luc

Le 27/11/2017 à 13:30, Aitor Gil Martin a écrit :
I installed QGIS Server 2.18, apache, QGIS Desktop 2.18 and all their dependencies using OSGeo4w x32 setup wizard on a Windows Server 2008 R2 SP1 x64 virtual server.
After the installation I type localhost on my chrome browser to see the Apache's landing page and I am getting the following error:
Not Found
The requested URL /cgi-bin/php-cgi.exe/index.phtml was not found on this server.
I uninstalled and installed everything several times using OSGeo4w but I keep getting the same message. Something is not properly installed or missing.
Can anyone give me a clue on what might be happening?





_______________________________________________

QGIS-Developer mailing list

QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>

List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer

Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/8c1e5802/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 39794 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/8c1e5802/attachment-0001.png>

From carrillo.german at gmail.com  Tue Nov 28 08:22:07 2017
From: carrillo.german at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Carrillo?=)
Date: Tue, 28 Nov 2017 11:22:07 -0500
Subject: [QGIS-Developer] Does Polyline.intersects(Point) work in QGIS
	master?
Message-ID: <CANaz7mwvpPwMwvqun9MxjfX8SdU0bFiZoS5_TjGsW400PS8L4Q@mail.gmail.com>

Hi devs,


do you know why this polyline

>>> my_line = QgsGeometry().fromWkt('0 0, 963461.42999999970197678
1077875.79199999943375587, 1 1')

and this point

>>> my_point = QgsGeometry().fromWkt("Point (963461.430 1077875.792)")

don't intersect?

>>> my_line.intersects(my_point) # returns False


I'm having such issue with points and a line captured using snapping
(vertex mode, 9 pixels of tolerance).


I'm using QGIS v2.99.0-master (4f9e2a5
<https://github.com/qgis/QGIS/commit/4f9e2a5>) running against GEOS
3.5.1-CAPI-1.9.1 r4246.


Thanks in advance,

Germán

-- 
-----------
   |\__
(:>__)(
   |/
Soluciones Geoinformáticas Libres
http://geotux.tuxfamily.org/
http://twitter.com/GeoTux2
http://about.me/germancarrillo

<http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171128/58fa5174/attachment.html>

From nyall.dawson at gmail.com  Tue Nov 28 16:25:02 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 29 Nov 2017 10:25:02 +1000
Subject: [QGIS-Developer] [Qgis-psc] QGIS Soft Feature Freeze Voting
 (was Re: QGIS 3 release expectations)
In-Reply-To: <AE031423-1FF9-41AC-A2B7-050AC5C3E95E@kartoza.com>
References: <CAAi8Yg8NN7LPWdth5voEi5z-JmbVUb36aeCdfY9i4eignq5LSw@mail.gmail.com>
 <18b6a6738869730488192694175c74cd@carto.net>
 <19F6A18E-8514-41E7-BB9D-A37E47233AF5@kartoza.com>
 <24DD9025-13B6-4366-ADB0-9E27F7EF9E2A@qgis.org>
 <CAB28AsiwgoRFKd9GLmTfwktbKaKn7CRVryB7ppXvmeiM-VXVOg@mail.gmail.com>
 <AE031423-1FF9-41AC-A2B7-050AC5C3E95E@kartoza.com>
Message-ID: <CAB28AsiX1eejH0BzLKQVOF+Nqxef2ccyo32=Wb1z7YpNKGV_zw@mail.gmail.com>

On 28 November 2017 at 18:42, Tim Sutton <tim at kartoza.com> wrote:

> What's the process to get exemptions for open PRs? There's a couple
> I'd like to see merged if it's agreeable:
>
>
> I would propose that we just use the same mechanism - add a motion in loomio then we will have an easily trackable chain of decisions. All the users in the group should be able to raise new proposals to the soft freeze and we can collectively review them on a case by case basis.
>

Ok, done at https://www.loomio.org/d/38Aiya0q/3-0-soft-freeze-exemptions

Note there's 4 separate polls in that thread, one for each PR

Nyall

From enzedrailmaps at gmail.com  Tue Nov 28 20:57:44 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Wed, 29 Nov 2017 17:57:44 +1300
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <3fcb4a66-6263-3fe1-ec03-2b72c538130e@duif.net>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
 <3fcb4a66-6263-3fe1-ec03-2b72c538130e@duif.net>
Message-ID: <6f7220f8-10e9-1fb7-a2e0-b0c009b24706@gmail.com>

I thought it would only create one in master, but when I quit and 
reopened the project it had three bookmarks in it.


On 29/11/17 01:40, Richard Duivenvoorde wrote:
> Hi Yves,
>
> I have all kind of strange behaviours. As said: in master I can only
> create one bookmark. And 'In Project' I cannot check.
>
> But in 2.18.14 (only 2.18 I have) it is behaving strange too, looks like
> it is depending on if you opening an existing project or not???
> - I CAN check the check-boxes if I load an existing project
> BUT the bookmark checked moves to the bottom then (sorting on??)
> - I can NOT check the checkbox when I create a new project, then load
> some data, save the project and add a bookmark.
> - some project end up with a 0 srid (and are not usable anymore after that)
> - after opening an existing project I can all at a sudden check the
> check-boxes again (from other projects?), but IF I check those, I
> actually delete them from my global bookmarks????
>
> Apparently the 'In Project' means something like: save it in the
> project, BUT remove it from the global bookmarks?
>
> At least to me the behavior of all this is very counter-intuitive :-(
>
> 2.18, I do not care too much about it, but in Master it should work (and
> preferably work intuitive :-)  )...
>
> Regards,
>
> Richard
>
>
>
> On 28-11-17 09:22, Yves Jacolin wrote:
>> Hi,
>>
>> I did a quick test in my 2.18.11 instance of QGIS:
>>
>> * open an existing project
>>
>> * zoom somewhere and add a new bookmark, check "in project" checkbox
>>
>> * close the project, open a blank new project, do something
>>
>> * open again the previous project and test the spatial bookmark
>>
>> All worked as expected. I zoomed in the bookmark location and the "in
>> project" bookmark disappear in a new project.
>>
>> Y.
>>
>>
>> Le 28/11/2017 à 09:17, Richard Duivenvoorde a écrit :
>>> Hi devs,
>>>
>>> just a head up that currently (with me) the Spatial Bookmarks are
>>> severely broken, both in master and 2.18.
>>>
>>> Stuff which should have been introduced:
>>> https://github.com/qgis/QGIS/pull/2661
>>> do not work with me here locally.
>>>
>>> Not even the basic adding of one bookmark.
>>>
>>> Other issues:
>>> https://issues.qgis.org/projects/qgis/search?utf8=%E2%9C%93&issues=1&q=bookmark
>>>
>>> Can people confirm?
>>>
>>> Though not that important in my view, I do not think we should ship
>>> current implementation in a 3.0
>>>
>>> Regards,
>>>
>>> Richard Duivenvoorde
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From anitagraser at gmx.at  Tue Nov 28 23:40:43 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Wed, 29 Nov 2017 08:40:43 +0100
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <6f7220f8-10e9-1fb7-a2e0-b0c009b24706@gmail.com>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
 <3fcb4a66-6263-3fe1-ec03-2b72c538130e@duif.net>
 <6f7220f8-10e9-1fb7-a2e0-b0c009b24706@gmail.com>
Message-ID: <CAFFV8Fjjww1pP5BAWzpLT2PTuMiY=g3A_j664Ao69QNtUqzXGA@mail.gmail.com>

On Wed, Nov 29, 2017 at 5:57 AM, Patrick Dunford <enzedrailmaps at gmail.com>
wrote:

> I thought it would only create one in master, but when I quit and reopened
> the project it had three bookmarks in it.
>

​All these issues remind me a lot of similar problems in adding custom CRS
https://issues.qgis.org/issues/17258

Maybe the cause of the issues is the same ....

Regards
Anita​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/a7f224b6/attachment.html>

From nyall.dawson at gmail.com  Tue Nov 28 23:46:50 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 29 Nov 2017 17:46:50 +1000
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <CAFFV8Fjjww1pP5BAWzpLT2PTuMiY=g3A_j664Ao69QNtUqzXGA@mail.gmail.com>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
 <3fcb4a66-6263-3fe1-ec03-2b72c538130e@duif.net>
 <6f7220f8-10e9-1fb7-a2e0-b0c009b24706@gmail.com>
 <CAFFV8Fjjww1pP5BAWzpLT2PTuMiY=g3A_j664Ao69QNtUqzXGA@mail.gmail.com>
Message-ID: <CAB28Asi_nHtH6YU8AkLwOhX0Tv5QiGtdBU0uph+2+jGp_2Q9fQ@mail.gmail.com>

On 29 November 2017 at 17:40, Anita Graser <anitagraser at gmx.at> wrote:
>
>
> On Wed, Nov 29, 2017 at 5:57 AM, Patrick Dunford <enzedrailmaps at gmail.com>
> wrote:
>>
>> I thought it would only create one in master, but when I quit and reopened
>> the project it had three bookmarks in it.
>
>
> All these issues remind me a lot of similar problems in adding custom CRS
> https://issues.qgis.org/issues/17258
>
> Maybe the cause of the issues is the same ....
>

The CRS issues should all be resolved - are you still seeing them on master?

Nyall

From rdmailings at duif.net  Wed Nov 29 00:30:41 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 29 Nov 2017 09:30:41 +0100
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <CAB28Asi_nHtH6YU8AkLwOhX0Tv5QiGtdBU0uph+2+jGp_2Q9fQ@mail.gmail.com>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
 <3fcb4a66-6263-3fe1-ec03-2b72c538130e@duif.net>
 <6f7220f8-10e9-1fb7-a2e0-b0c009b24706@gmail.com>
 <CAFFV8Fjjww1pP5BAWzpLT2PTuMiY=g3A_j664Ao69QNtUqzXGA@mail.gmail.com>
 <CAB28Asi_nHtH6YU8AkLwOhX0Tv5QiGtdBU0uph+2+jGp_2Q9fQ@mail.gmail.com>
Message-ID: <593026ad-c6b6-64f2-c7e6-02e6443fffd3@duif.net>

On 29-11-17 08:46, Nyall Dawson wrote:
> On 29 November 2017 at 17:40, Anita Graser <anitagraser at gmx.at> wrote:
>>
>>
>> On Wed, Nov 29, 2017 at 5:57 AM, Patrick Dunford <enzedrailmaps at gmail.com>
>> wrote:
>>>
>>> I thought it would only create one in master, but when I quit and reopened
>>> the project it had three bookmarks in it.
>>
>>
>> All these issues remind me a lot of similar problems in adding custom CRS
>> https://issues.qgis.org/issues/17258
>>
>> Maybe the cause of the issues is the same ....
>>
> 
> The CRS issues should all be resolved - are you still seeing them on master?

I tried to reproduce, but only in projects which have been created in
2.18. 2.18 shows all zero's to me with a yesterday created project. And
opening that one in 2.99 shows them too (see screenie: a 2.18 project
opened in 3)

But I fail to create a zero crs in master \o/

Regards,

Richard
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Selection_227.png
Type: image/png
Size: 38191 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/2ddad390/attachment-0001.png>

From enzedrailmaps at gmail.com  Wed Nov 29 00:56:21 2017
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Wed, 29 Nov 2017 21:56:21 +1300
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <CAB28Asi_nHtH6YU8AkLwOhX0Tv5QiGtdBU0uph+2+jGp_2Q9fQ@mail.gmail.com>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
 <3fcb4a66-6263-3fe1-ec03-2b72c538130e@duif.net>
 <6f7220f8-10e9-1fb7-a2e0-b0c009b24706@gmail.com>
 <CAFFV8Fjjww1pP5BAWzpLT2PTuMiY=g3A_j664Ao69QNtUqzXGA@mail.gmail.com>
 <CAB28Asi_nHtH6YU8AkLwOhX0Tv5QiGtdBU0uph+2+jGp_2Q9fQ@mail.gmail.com>
Message-ID: <d326c56e-d600-981c-8131-b1cb98fbefa4@gmail.com>

I only see them going between versions, as to be expected :)


On 29/11/17 20:46, Nyall Dawson wrote:
> On 29 November 2017 at 17:40, Anita Graser <anitagraser at gmx.at> wrote:
>>
>> On Wed, Nov 29, 2017 at 5:57 AM, Patrick Dunford <enzedrailmaps at gmail.com>
>> wrote:
>>> I thought it would only create one in master, but when I quit and reopened
>>> the project it had three bookmarks in it.
>>
>> All these issues remind me a lot of similar problems in adding custom CRS
>> https://issues.qgis.org/issues/17258
>>
>> Maybe the cause of the issues is the same ....
>>
> The CRS issues should all be resolved - are you still seeing them on master?
>
> Nyall


From noreply at qgis.org  Wed Nov 29 03:26:23 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 29 Nov 2017 11:26:23 -0000
Subject: [QGIS-Developer] Plugin [385] pgRoutingLayer approval notification.
Message-ID: <20171129112623.6879.47228@320558c5528b>


Plugin pgRoutingLayer approval by pcav.
The plugin version "[385] pgRoutingLayer 2.2.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/pgRoutingLayer/

From apasotti at gmail.com  Wed Nov 29 03:38:49 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 29 Nov 2017 12:38:49 +0100
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <d326c56e-d600-981c-8131-b1cb98fbefa4@gmail.com>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
 <3fcb4a66-6263-3fe1-ec03-2b72c538130e@duif.net>
 <6f7220f8-10e9-1fb7-a2e0-b0c009b24706@gmail.com>
 <CAFFV8Fjjww1pP5BAWzpLT2PTuMiY=g3A_j664Ao69QNtUqzXGA@mail.gmail.com>
 <CAB28Asi_nHtH6YU8AkLwOhX0Tv5QiGtdBU0uph+2+jGp_2Q9fQ@mail.gmail.com>
 <d326c56e-d600-981c-8131-b1cb98fbefa4@gmail.com>
Message-ID: <CAL5Q670s2=HmHoqosPHE2B+i5x2PB4UL=xMkLt-O=LE3m8kCJg@mail.gmail.com>

See PR linked in https://issues.qgis.org/issues/17539

Cheers


On Wed, Nov 29, 2017 at 9:56 AM, Patrick Dunford <enzedrailmaps at gmail.com>
wrote:

> I only see them going between versions, as to be expected :)
>
>
>
> On 29/11/17 20:46, Nyall Dawson wrote:
>
>> On 29 November 2017 at 17:40, Anita Graser <anitagraser at gmx.at> wrote:
>>
>>>
>>> On Wed, Nov 29, 2017 at 5:57 AM, Patrick Dunford <
>>> enzedrailmaps at gmail.com>
>>> wrote:
>>>
>>>> I thought it would only create one in master, but when I quit and
>>>> reopened
>>>> the project it had three bookmarks in it.
>>>>
>>>
>>> All these issues remind me a lot of similar problems in adding custom CRS
>>> https://issues.qgis.org/issues/17258
>>>
>>> Maybe the cause of the issues is the same ....
>>>
>>> The CRS issues should all be resolved - are you still seeing them on
>> master?
>>
>> Nyall
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/dbad5434/attachment.html>

From noreply at qgis.org  Wed Nov 29 04:45:56 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 29 Nov 2017 12:45:56 -0000
Subject: [QGIS-Developer] Plugin [1152] QgisODK approval notification.
Message-ID: <20171129124556.6879.5059@320558c5528b>


Plugin QgisODK approval by pcav.
The plugin version "[1152] QgisODK 1.8" is now approved
Link: http://plugins.qgis.org/plugins/QgisODK/

From regis.haubourg at gmail.com  Wed Nov 29 04:51:37 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 29 Nov 2017 05:51:37 -0700 (MST)
Subject: [QGIS-Developer] all profile removed, still OWS connections,
	where stored?
In-Reply-To: <CAAi8Yg_Oe3rfcxB=a996V0sweh9p4cwRAoq0qx7VW1jcSOj9wQ@mail.gmail.com>
References: <4bc9b0ae-6a1d-abf0-a961-6c8f0aa906a6@duif.net>
 <CAAi8Yg_Oe3rfcxB=a996V0sweh9p4cwRAoq0qx7VW1jcSOj9wQ@mail.gmail.com>
Message-ID: <1511959897795-0.post@n6.nabble.com>

Hi, 
we just realized that QGISCUSTOMIZATION2.conf is still used, it is not
creating a QGISCUSTOMIZATION3.conf. 
I suppose it's a bug? Anyone confirms?

Régis



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From rdmailings at duif.net  Wed Nov 29 05:09:38 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 29 Nov 2017 14:09:38 +0100
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <CAL5Q670s2=HmHoqosPHE2B+i5x2PB4UL=xMkLt-O=LE3m8kCJg@mail.gmail.com>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
 <3fcb4a66-6263-3fe1-ec03-2b72c538130e@duif.net>
 <6f7220f8-10e9-1fb7-a2e0-b0c009b24706@gmail.com>
 <CAFFV8Fjjww1pP5BAWzpLT2PTuMiY=g3A_j664Ao69QNtUqzXGA@mail.gmail.com>
 <CAB28Asi_nHtH6YU8AkLwOhX0Tv5QiGtdBU0uph+2+jGp_2Q9fQ@mail.gmail.com>
 <d326c56e-d600-981c-8131-b1cb98fbefa4@gmail.com>
 <CAL5Q670s2=HmHoqosPHE2B+i5x2PB4UL=xMkLt-O=LE3m8kCJg@mail.gmail.com>
Message-ID: <75d89fc5-ef42-5134-625e-59f585743200@duif.net>

Hi Ale,

Thanks!

But I reopened it, because I actually think it is still broken by design.

See my comments https://issues.qgis.org/issues/17539

Regards,

Richard Duivenvoorde


On 29-11-17 12:38, Alessandro Pasotti wrote:
> See PR linked in https://issues.qgis.org/issues/17539
> 
> Cheers
> 
> 
> On Wed, Nov 29, 2017 at 9:56 AM, Patrick Dunford
> <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>> wrote:
> 
>     I only see them going between versions, as to be expected :)
> 
> 
> 
>     On 29/11/17 20:46, Nyall Dawson wrote:
> 
>         On 29 November 2017 at 17:40, Anita Graser <anitagraser at gmx.at
>         <mailto:anitagraser at gmx.at>> wrote:
> 
> 
>             On Wed, Nov 29, 2017 at 5:57 AM, Patrick Dunford
>             <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>>
>             wrote:
> 
>                 I thought it would only create one in master, but when I
>                 quit and reopened
>                 the project it had three bookmarks in it.
> 
> 
>             All these issues remind me a lot of similar problems in
>             adding custom CRS
>             https://issues.qgis.org/issues/17258
>             <https://issues.qgis.org/issues/17258>
> 
>             Maybe the cause of the issues is the same ....
> 
>         The CRS issues should all be resolved - are you still seeing
>         them on master?
> 
>         Nyall
> 
> 
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> 
> 
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it <http://www.itopen.it>
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From apasotti at gmail.com  Wed Nov 29 05:15:44 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 29 Nov 2017 14:15:44 +0100
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <75d89fc5-ef42-5134-625e-59f585743200@duif.net>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
 <3fcb4a66-6263-3fe1-ec03-2b72c538130e@duif.net>
 <6f7220f8-10e9-1fb7-a2e0-b0c009b24706@gmail.com>
 <CAFFV8Fjjww1pP5BAWzpLT2PTuMiY=g3A_j664Ao69QNtUqzXGA@mail.gmail.com>
 <CAB28Asi_nHtH6YU8AkLwOhX0Tv5QiGtdBU0uph+2+jGp_2Q9fQ@mail.gmail.com>
 <d326c56e-d600-981c-8131-b1cb98fbefa4@gmail.com>
 <CAL5Q670s2=HmHoqosPHE2B+i5x2PB4UL=xMkLt-O=LE3m8kCJg@mail.gmail.com>
 <75d89fc5-ef42-5134-625e-59f585743200@duif.net>
Message-ID: <CAL5Q673ycoMHvuCWYJMDNBHq3-63QvTjQR0qXqt0+82G_n58RA@mail.gmail.com>

On Wed, Nov 29, 2017 at 2:09 PM, Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> Hi Ale,
>
> Thanks!
>
> But I reopened it, because I actually think it is still broken by design.
>


You should better file a new ticket: this is a completely different issue
from the one in #17539.

Thanks!


> See my comments https://issues.qgis.org/issues/17539
>
> Regards,
>
> Richard Duivenvoorde
>
>
> On 29-11-17 12:38, Alessandro Pasotti wrote:
> > See PR linked in https://issues.qgis.org/issues/17539
> >
> > Cheers
> >
> >
> > On Wed, Nov 29, 2017 at 9:56 AM, Patrick Dunford
> > <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>> wrote:
> >
> >     I only see them going between versions, as to be expected :)
> >
> >
> >
> >     On 29/11/17 20:46, Nyall Dawson wrote:
> >
> >         On 29 November 2017 at 17:40, Anita Graser <anitagraser at gmx.at
> >         <mailto:anitagraser at gmx.at>> wrote:
> >
> >
> >             On Wed, Nov 29, 2017 at 5:57 AM, Patrick Dunford
> >             <enzedrailmaps at gmail.com <mailto:enzedrailmaps at gmail.com>>
> >             wrote:
> >
> >                 I thought it would only create one in master, but when I
> >                 quit and reopened
> >                 the project it had three bookmarks in it.
> >
> >
> >             All these issues remind me a lot of similar problems in
> >             adding custom CRS
> >             https://issues.qgis.org/issues/17258
> >             <https://issues.qgis.org/issues/17258>
> >
> >             Maybe the cause of the issues is the same ....
> >
> >         The CRS issues should all be resolved - are you still seeing
> >         them on master?
> >
> >         Nyall
> >
> >
> >     _______________________________________________
> >     QGIS-Developer mailing list
> >     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.
> osgeo.org>
> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >
> >
> >
> >
> > --
> > Alessandro Pasotti
> > w3:   www.itopen.it <http://www.itopen.it>
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
>


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/6e5f80f7/attachment-0001.html>

From rdmailings at duif.net  Wed Nov 29 05:20:48 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 29 Nov 2017 14:20:48 +0100
Subject: [QGIS-Developer] all profile removed, still OWS connections,
 where stored?
In-Reply-To: <1511959897795-0.post@n6.nabble.com>
References: <4bc9b0ae-6a1d-abf0-a961-6c8f0aa906a6@duif.net>
 <CAAi8Yg_Oe3rfcxB=a996V0sweh9p4cwRAoq0qx7VW1jcSOj9wQ@mail.gmail.com>
 <1511959897795-0.post@n6.nabble.com>
Message-ID: <523e53e5-9d7e-b4eb-94d1-2e2803244bd2@duif.net>

On 29-11-17 13:51, Régis Haubourg wrote:
> Hi, 
> we just realized that QGISCUSTOMIZATION2.conf is still used, it is not
> creating a QGISCUSTOMIZATION3.conf. 
> I suppose it's a bug? Anyone confirms?
> 
> Régis

Régis,

Are you sure it is actually used or is it 'migrated'.

What I found was that if I not remove:
~/.local/share/QGIS
and from qgis2.18:
~/.qgis2
~/.config/QGIS  <= this is in registry in Windows
then I do not startup with a clean 3.0 sheet.

You will also end up with svg-paths to 2.18 qgis paths.

@nathan? would it not be nicer to ask a user if he wants to bring the
qsettings from 2.x over to 3 or not? Only the first time this migration
is done isn't it?

Regards,

Richard Duivenvoorde



From a.neumann at carto.net  Wed Nov 29 05:32:49 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 29 Nov 2017 14:32:49 +0100
Subject: [QGIS-Developer] Processing modeler GUI unusable in KDE / Plasma
Message-ID: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>

Hi,

Are there any KDE5 / Plasma users among the QGIS devs?

For me the GUI of the modeler is pretty broken - see screenshot at 
http://www.carto.net/neumann/temp/processing_modelerer_kde.png

I cannot access the list of inputs and algorithms as their screenspace 
shrinked to some minimal widget that can't be enlarged.

Am I the only one suffering from this issue?

Thanks for your reply,

Andreas


From regis.haubourg at gmail.com  Wed Nov 29 05:33:58 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 29 Nov 2017 14:33:58 +0100
Subject: [QGIS-Developer] all profile removed, still OWS connections,
 where stored?
In-Reply-To: <523e53e5-9d7e-b4eb-94d1-2e2803244bd2@duif.net>
References: <4bc9b0ae-6a1d-abf0-a961-6c8f0aa906a6@duif.net>
 <CAAi8Yg_Oe3rfcxB=a996V0sweh9p4cwRAoq0qx7VW1jcSOj9wQ@mail.gmail.com>
 <1511959897795-0.post@n6.nabble.com>
 <523e53e5-9d7e-b4eb-94d1-2e2803244bd2@duif.net>
Message-ID: <CABgOYCfKF9eiN2vQRHOGOxGg6gY2CvzK8xrqV44vNQdO03osTA@mail.gmail.com>

Huh,
what is the rationale behind keeping a V2 file in QGIS3? Migrating fromr
QGIS2 shouldn't mean using the same files.
Régis

2017-11-29 14:20 GMT+01:00 Richard Duivenvoorde <rdmailings at duif.net>:

> On 29-11-17 13:51, Régis Haubourg wrote:
> > Hi,
> > we just realized that QGISCUSTOMIZATION2.conf is still used, it is not
> > creating a QGISCUSTOMIZATION3.conf.
> > I suppose it's a bug? Anyone confirms?
> >
> > Régis
>
> Régis,
>
> Are you sure it is actually used or is it 'migrated'.
>
> What I found was that if I not remove:
> ~/.local/share/QGIS
> and from qgis2.18:
> ~/.qgis2
> ~/.config/QGIS  <= this is in registry in Windows
> then I do not startup with a clean 3.0 sheet.
>
> You will also end up with svg-paths to 2.18 qgis paths.
>
> @nathan? would it not be nicer to ask a user if he wants to bring the
> qsettings from 2.x over to 3 or not? Only the first time this migration
> is done isn't it?
>
> Regards,
>
> Richard Duivenvoorde
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/51685e0b/attachment.html>

From tim at kartoza.com  Wed Nov 29 05:48:09 2017
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 29 Nov 2017 15:48:09 +0200
Subject: [QGIS-Developer] [Qgis-psc] QGIS Soft Feature Freeze Voting
 (was Re: QGIS 3 release expectations)
In-Reply-To: <CAB28AsiX1eejH0BzLKQVOF+Nqxef2ccyo32=Wb1z7YpNKGV_zw@mail.gmail.com>
References: <CAAi8Yg8NN7LPWdth5voEi5z-JmbVUb36aeCdfY9i4eignq5LSw@mail.gmail.com>
 <18b6a6738869730488192694175c74cd@carto.net>
 <19F6A18E-8514-41E7-BB9D-A37E47233AF5@kartoza.com>
 <24DD9025-13B6-4366-ADB0-9E27F7EF9E2A@qgis.org>
 <CAB28AsiwgoRFKd9GLmTfwktbKaKn7CRVryB7ppXvmeiM-VXVOg@mail.gmail.com>
 <AE031423-1FF9-41AC-A2B7-050AC5C3E95E@kartoza.com>
 <CAB28AsiX1eejH0BzLKQVOF+Nqxef2ccyo32=Wb1z7YpNKGV_zw@mail.gmail.com>
Message-ID: <C230D016-E178-4037-B359-E903864717A9@kartoza.com>

Hi



> On 29 Nov 2017, at 02:25, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> 
> On 28 November 2017 at 18:42, Tim Sutton <tim at kartoza.com> wrote:
> 
>> What's the process to get exemptions for open PRs? There's a couple
>> I'd like to see merged if it's agreeable:
>> 
>> 
>> I would propose that we just use the same mechanism - add a motion in loomio then we will have an easily trackable chain of decisions. All the users in the group should be able to raise new proposals to the soft freeze and we can collectively review them on a case by case basis.
>> 
> 
> Ok, done at https://www.loomio.org/d/38Aiya0q/3-0-soft-freeze-exemptions
> 
> Note there's 4 separate polls in that thread, one for each PR

Thanks Nyall. One other thing that we might add in the descriptions is if the exception request is for an in-progress or a completed feature. 

Regards

Tim


> 
> Nyall

—







Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/342d5a62/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/342d5a62/attachment-0001.jpg>

From apasotti at gmail.com  Wed Nov 29 05:51:16 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 29 Nov 2017 14:51:16 +0100
Subject: [QGIS-Developer] Processing modeler GUI unusable in KDE / Plasma
In-Reply-To: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
References: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
Message-ID: <CAL5Q673NOEBLnM7diyxgeQqr7NA6B+OceSE+MHC7x4bGHZVcfg@mail.gmail.com>

Hi Andreas,

I'm on KDE and I confirm the issue, actually a bit worse than yours
screenshot https://imgur.com/a/kkSRV.

On Wed, Nov 29, 2017 at 2:32 PM, Andreas Neumann <a.neumann at carto.net>
wrote:

> Hi,
>
> Are there any KDE5 / Plasma users among the QGIS devs?
>
> For me the GUI of the modeler is pretty broken - see screenshot at
> http://www.carto.net/neumann/temp/processing_modelerer_kde.png
>
> I cannot access the list of inputs and algorithms as their screenspace
> shrinked to some minimal widget that can't be enlarged.
>
> Am I the only one suffering from this issue?
>
> Thanks for your reply,
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer




-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/dce420f9/attachment.html>

From madmanwoo at gmail.com  Wed Nov 29 05:54:23 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Wed, 29 Nov 2017 23:54:23 +1000
Subject: [QGIS-Developer] all profile removed, still OWS connections,
 where stored?
In-Reply-To: <CABgOYCfKF9eiN2vQRHOGOxGg6gY2CvzK8xrqV44vNQdO03osTA@mail.gmail.com>
References: <4bc9b0ae-6a1d-abf0-a961-6c8f0aa906a6@duif.net>
 <CAAi8Yg_Oe3rfcxB=a996V0sweh9p4cwRAoq0qx7VW1jcSOj9wQ@mail.gmail.com>
 <1511959897795-0.post@n6.nabble.com>
 <523e53e5-9d7e-b4eb-94d1-2e2803244bd2@duif.net>
 <CABgOYCfKF9eiN2vQRHOGOxGg6gY2CvzK8xrqV44vNQdO03osTA@mail.gmail.com>
Message-ID: <CAAi8Yg9OiJmuy-PMgz4jAwOqRLn+ND2Vf=2+-DV+tX0a2E-w5g@mail.gmail.com>

There are no v2 files kept. If it's named the same it's just not updated in
the code. Settings are auto migrated from 2 to 3 into the new settings
files.

There will hopefully be a first run screen if I get time to implement it
before release.

@Richard for now make a new profile and run with that as the main one.  The
default profile is always migrated to give users a nicer first-run
experience of 3 because losing all the settings sucks.

- Nathan

On Wed, Nov 29, 2017 at 11:33 PM, Régis Haubourg <regis.haubourg at gmail.com>
wrote:

> Huh,
> what is the rationale behind keeping a V2 file in QGIS3? Migrating fromr
> QGIS2 shouldn't mean using the same files.
> Régis
>
> 2017-11-29 14:20 GMT+01:00 Richard Duivenvoorde <rdmailings at duif.net>:
>
>> On 29-11-17 13:51, Régis Haubourg wrote:
>> > Hi,
>> > we just realized that QGISCUSTOMIZATION2.conf is still used, it is not
>> > creating a QGISCUSTOMIZATION3.conf.
>> > I suppose it's a bug? Anyone confirms?
>> >
>> > Régis
>>
>> Régis,
>>
>> Are you sure it is actually used or is it 'migrated'.
>>
>> What I found was that if I not remove:
>> ~/.local/share/QGIS
>> and from qgis2.18:
>> ~/.qgis2
>> ~/.config/QGIS  <= this is in registry in Windows
>> then I do not startup with a clean 3.0 sheet.
>>
>> You will also end up with svg-paths to 2.18 qgis paths.
>>
>> @nathan? would it not be nicer to ask a user if he wants to bring the
>> qsettings from 2.x over to 3 or not? Only the first time this migration
>> is done isn't it?
>>
>> Regards,
>>
>> Richard Duivenvoorde
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/596c2b00/attachment.html>

From a.neumann at carto.net  Wed Nov 29 05:55:03 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 29 Nov 2017 14:55:03 +0100
Subject: [QGIS-Developer] Processing modeler GUI unusable in KDE / Plasma
In-Reply-To: <CAL5Q673NOEBLnM7diyxgeQqr7NA6B+OceSE+MHC7x4bGHZVcfg@mail.gmail.com>
References: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
 <CAL5Q673NOEBLnM7diyxgeQqr7NA6B+OceSE+MHC7x4bGHZVcfg@mail.gmail.com>
Message-ID: <38331343-3be9-c7d3-5bf9-cd16876d7868@carto.net>

Hi Alessandro,

seems like some width/height setting in respect to the parent widget is 
broken under KDE.

Do you want to have a look at this issue? Should I report it as a bug?

Thanks,

Andreas


On 29.11.2017 14:51, Alessandro Pasotti wrote:
> Hi Andreas,
>
> I'm on KDE and I confirm the issue, actually a bit worse than yours 
> screenshot https://imgur.com/a/kkSRV.
>
> On Wed, Nov 29, 2017 at 2:32 PM, Andreas Neumann <a.neumann at carto.net 
> <mailto:a.neumann at carto.net>> wrote:
>
>     Hi,
>
>     Are there any KDE5 / Plasma users among the QGIS devs?
>
>     For me the GUI of the modeler is pretty broken - see screenshot at
>     http://www.carto.net/neumann/temp/processing_modelerer_kde.png
>     <http://www.carto.net/neumann/temp/processing_modelerer_kde.png>
>
>     I cannot access the list of inputs and algorithms as their
>     screenspace shrinked to some minimal widget that can't be enlarged.
>
>     Am I the only one suffering from this issue?
>
>     Thanks for your reply,
>
>     Andreas
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>
>
> -- 
> Alessandro Pasotti
> w3: www.itopen.it <http://www.itopen.it>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/560fe222/attachment.html>

From apasotti at gmail.com  Wed Nov 29 06:06:18 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 29 Nov 2017 15:06:18 +0100
Subject: [QGIS-Developer] Processing modeler GUI unusable in KDE / Plasma
In-Reply-To: <38331343-3be9-c7d3-5bf9-cd16876d7868@carto.net>
References: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
 <CAL5Q673NOEBLnM7diyxgeQqr7NA6B+OceSE+MHC7x4bGHZVcfg@mail.gmail.com>
 <38331343-3be9-c7d3-5bf9-cd16876d7868@carto.net>
Message-ID: <CAL5Q671TdGy89P62wVTxwckyw2LQzJgN6_mq6XPanJrt1v+c9Q@mail.gmail.com>

On Wed, Nov 29, 2017 at 2:55 PM, Andreas Neumann <a.neumann at carto.net>
wrote:

> Hi Alessandro,
>
> seems like some width/height setting in respect to the parent widget is
> broken under KDE.
>
> Do you want to have a look at this issue?
>

I'll see what I can do, now I'm focusing on the hidpi cursors and there are
still some issues with the bookmarks .

Should I report it as a bug?
>
>
Yes please.


Thanks,
>
> Andreas
>
> On 29.11.2017 14:51, Alessandro Pasotti wrote:
>
> Hi Andreas,
>
> I'm on KDE and I confirm the issue, actually a bit worse than yours
> screenshot https://imgur.com/a/kkSRV.
>
> On Wed, Nov 29, 2017 at 2:32 PM, Andreas Neumann <a.neumann at carto.net>
> wrote:
>
>> Hi,
>>
>> Are there any KDE5 / Plasma users among the QGIS devs?
>>
>> For me the GUI of the modeler is pretty broken - see screenshot at
>> http://www.carto.net/neumann/temp/processing_modelerer_kde.png
>>
>> I cannot access the list of inputs and algorithms as their screenspace
>> shrinked to some minimal widget that can't be enlarged.
>>
>> Am I the only one suffering from this issue?
>>
>> Thanks for your reply,
>>
>> Andreas
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
>
>


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/9268d41a/attachment-0001.html>

From alexander.bruy at gmail.com  Wed Nov 29 06:19:45 2017
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Wed, 29 Nov 2017 16:19:45 +0200
Subject: [QGIS-Developer] Processing modeler GUI unusable in KDE / Plasma
In-Reply-To: <CAL5Q671TdGy89P62wVTxwckyw2LQzJgN6_mq6XPanJrt1v+c9Q@mail.gmail.com>
References: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
 <CAL5Q673NOEBLnM7diyxgeQqr7NA6B+OceSE+MHC7x4bGHZVcfg@mail.gmail.com>
 <38331343-3be9-c7d3-5bf9-cd16876d7868@carto.net>
 <CAL5Q671TdGy89P62wVTxwckyw2LQzJgN6_mq6XPanJrt1v+c9Q@mail.gmail.com>
Message-ID: <CALuHMPDvSB7CY4Q=MF6a5AKngLKhsQmqSYj6+qBRcR9okcCnbg@mail.gmail.com>

Hi,

I'm also on KDE5/Plasma and can not confirm this issue.
This issue were reported about 2 weeks ago, see
https://issues.qgis.org/issues/17488

2017-11-29 16:06 GMT+02:00 Alessandro Pasotti <apasotti at gmail.com>:
>
> On Wed, Nov 29, 2017 at 2:55 PM, Andreas Neumann <a.neumann at carto.net>
> wrote:
>>
>> Hi Alessandro,
>>
>> seems like some width/height setting in respect to the parent widget is
>> broken under KDE.
>>
>> Do you want to have a look at this issue?
>
>
> I'll see what I can do, now I'm focusing on the hidpi cursors and there are
> still some issues with the bookmarks .
>
>> Should I report it as a bug?
>
>
> Yes please.
>
>
>> Thanks,
>>
>> Andreas
>>
>>
>> On 29.11.2017 14:51, Alessandro Pasotti wrote:
>>
>> Hi Andreas,
>>
>> I'm on KDE and I confirm the issue, actually a bit worse than yours
>> screenshot https://imgur.com/a/kkSRV.
>>
>> On Wed, Nov 29, 2017 at 2:32 PM, Andreas Neumann <a.neumann at carto.net>
>> wrote:
>>>
>>> Hi,
>>>
>>> Are there any KDE5 / Plasma users among the QGIS devs?
>>>
>>> For me the GUI of the modeler is pretty broken - see screenshot at
>>> http://www.carto.net/neumann/temp/processing_modelerer_kde.png
>>>
>>> I cannot access the list of inputs and algorithms as their screenspace
>>> shrinked to some minimal widget that can't be enlarged.
>>>
>>> Am I the only one suffering from this issue?
>>>
>>> Thanks for your reply,
>>>
>>> Andreas
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it
>>
>>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alexander Bruy

From carrillo.german at gmail.com  Wed Nov 29 06:25:03 2017
From: carrillo.german at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Carrillo?=)
Date: Wed, 29 Nov 2017 09:25:03 -0500
Subject: [QGIS-Developer] Does Polyline.intersects(Point) work in QGIS
	master?
In-Reply-To: <CANaz7mwvpPwMwvqun9MxjfX8SdU0bFiZoS5_TjGsW400PS8L4Q@mail.gmail.com>
References: <CANaz7mwvpPwMwvqun9MxjfX8SdU0bFiZoS5_TjGsW400PS8L4Q@mail.gmail.com>
Message-ID: <CANaz7my8rXUq5e5+=BVVLpH39h4QkHaTFiXdjCsu=MG1CY_BQg@mail.gmail.com>

Moreover, the "Select by Location" tool in QGIS Processing is also not able
to find such intersection (Point-Line or Line-Point) when using a PostGIS
layer as the first parameter (*Select features from*).

Not sure if they are related issues.

I created a couple of issues reporting that: [1] and [2].


Regards,

Germán
-----------
[1] https://issues.qgis.org/issues/17585
[2] https://issues.qgis.org/issues/17586

2017-11-28 11:22 GMT-05:00 Germán Carrillo <carrillo.german at gmail.com>:

> Hi devs,
>
>
> do you know why this polyline
>
> >>> my_line = QgsGeometry().fromWkt('0 0, 963461.42999999970197678
> 1077875.79199999943375587, 1 1')
>
> and this point
>
> >>> my_point = QgsGeometry().fromWkt("Point (963461.430 1077875.792)")
>
> don't intersect?
>
> >>> my_line.intersects(my_point) # returns False
>
>
> I'm having such issue with points and a line captured using snapping
> (vertex mode, 9 pixels of tolerance).
>
>
> I'm using QGIS v2.99.0-master (4f9e2a5
> <https://github.com/qgis/QGIS/commit/4f9e2a5>) running against GEOS
> 3.5.1-CAPI-1.9.1 r4246.
>
>
> Thanks in advance,
>
> Germán
>
> --
> -----------
>    |\__
> (:>__)(
>    |/
> Soluciones Geoinformáticas Libres
> http://geotux.tuxfamily.org/
> http://twitter.com/GeoTux2
> http://about.me/germancarrillo
>
> <http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
>



-- 
-----------
   |\__
(:>__)(
   |/
Soluciones Geoinformáticas Libres
http://geotux.tuxfamily.org/
http://twitter.com/GeoTux2
http://about.me/germancarrillo

<http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/c60d0479/attachment.html>

From tim at kartoza.com  Wed Nov 29 06:39:14 2017
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 29 Nov 2017 16:39:14 +0200
Subject: [QGIS-Developer] Python error in processing on 2.99 startup
Message-ID: <945A396E-A314-46B2-B193-FB6096730903@kartoza.com>

Hi All

Its been a few days since I pulled from master - now I am getting the error below on startup. Does anyone else get it? (Building on MacOS here):

Couldn't load plugin 'processing' due to an error when calling its initGui() method 
PermissionError: [Errno 13] Permission denied

Traceback (most recent call last):
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/qgis/utils.py", line 345, in startPlugin
    plugins[packageName].initGui()
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/ProcessingPlugin.py", line 178, in initGui
    self.toolbox = ProcessingToolbox()
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 93, in __init__
    self.fillTree()
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 317, in fillTree
    self.fillTreeUsingProviders()
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 382, in fillTreeUsingProviders
    providerItem = TreeProviderItem(provider, self.algorithmTree, self)
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 513, in __init__
    self.setToolTip(0, self.provider.longName())
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7AlgorithmProvider.py", line 122, in longName
    version = Grass7Utils.installedVersion()
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Utils.py", line 113, in installedVersion
    startupinfo=si if isWindows() else None
  File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 707, in __init__
    restore_signals, start_new_session)
  File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 1333, in _execute_child
    raise child_exception_type(errno_num, err_msg)
PermissionError: [Errno 13] Permission denied

Python version: 3.6.2 (default, Jul 17 2017, 16:44:45) [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)] 
QGIS version: 2.99.0-Master Master, e8213b8e41 
Python Path:

/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing
/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python
/Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python
/Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python/plugins
/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins
/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/bin/$PYTHONPATH
/usr/local/opt/gdal2-python/lib/python3.6/site-packages
/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python36.zip
/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6
/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload
/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages
/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pycharm-debug-py3k.egg
/Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python

—







Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/e6e5545d/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/e6e5545d/attachment-0001.jpg>

From bnhr.dev at gmail.com  Wed Nov 29 08:09:22 2017
From: bnhr.dev at gmail.com (Ben Hur Pintor)
Date: Thu, 30 Nov 2017 00:09:22 +0800
Subject: [QGIS-Developer] Queries on building QGIS 3.
Message-ID: <CAFAduOTs=z7BdozoUju3cGwkRqSnpAfh-Cw3UZOM-OGsySwL7g@mail.gmail.com>

Hi all! I built QGIS master (2a960c5) using the instructions from (a)
https://github.com/qgis/QGIS/blob/master/INSTALL supplemented by (b)
https://www.lutraconsulting.co.uk/blog/2017/08/06/qgis3d-build/ because I
wanted to try the new 3D features. My machine runs on Xubuntu 16.04. The
build works fine but I noticed a few things.

1.) Plugins are unavailable when running QGIS from ./output/bin/qgis of the
build directory. The Settings tab of "Manage and Install Plugins" says "No
Python support detected thus no settings available." Is this normal? I've
only tried building QGIS recently so I don't know if it is.

2.) After doing a ninja install, running qgis from {$HOME}/apps/bin fails
because it can't find the shared libraries that I used in (b). I tried
making simlinks to the said libraries to (b) but to no avail. Is there an
updated/better way to build QGIS with 3D support on Xubuntu 16.04 or should
I stick to running from the build directory?

3.) What's the update or plan for the Processing -> Commander function in
QGIS 3? I can't seem to find it in my build.

Thank you in advance. Cheers!

-- 

*Engr. Ben Hur S. Pintor*
Senior Science Research Specialist
*IAMBlueCECAM Project 9: WebGIS for Mapping, Supporting, Decision-making,
and Promoting Ecological Services of Blue Carbon Ecosystems (BlueWebMapS)*
UP Training Center for Applied Geodesy and Photogrammetry

MS Geomatics Engineering (GeoInformatics)
*National Graduate School of Engineering*
*University of the Philippines Diliman*
Quezon City 1101, PHL
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171130/8141b121/attachment.html>

From noreply at qgis.org  Wed Nov 29 08:21:24 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 29 Nov 2017 16:21:24 -0000
Subject: [QGIS-Developer] Plugin [1070] J.Assy - Mapa de Plantio approval
	notification.
Message-ID: <20171129162124.6878.91462@320558c5528b>


Plugin J.Assy - Mapa de Plantio approval by pcav.
The plugin version "[1070] J.Assy - Mapa de Plantio 0.5.0" is now approved
Link: http://plugins.qgis.org/plugins/visum_map_of_planting/

From tudorbarascu at yahoo.com  Wed Nov 29 08:34:26 2017
From: tudorbarascu at yahoo.com (Tudor Barascu)
Date: Wed, 29 Nov 2017 16:34:26 +0000 (UTC)
Subject: [QGIS-Developer] Queries on building QGIS 3.
In-Reply-To: <CAFAduOTs=z7BdozoUju3cGwkRqSnpAfh-Cw3UZOM-OGsySwL7g@mail.gmail.com>
References: <CAFAduOTs=z7BdozoUju3cGwkRqSnpAfh-Cw3UZOM-OGsySwL7g@mail.gmail.com>
Message-ID: <358490414.4493454.1511973266987@mail.yahoo.com>

 Hi,
The library problem can be mitigated by exporting the path to the libraries before running qgis from source.
E.g. create a  start-qgis.sh with
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/pathto/qgis-master/lib/pathto/qgis-master/bin/./qgis

Then run it..
All the best,
Tudor

    On Wednesday, November 29, 2017, 6:10:07 PM GMT+2, Ben Hur Pintor <bnhr.dev at gmail.com> wrote:  
 
 Hi all! I built QGIS master (2a960c5) using the instructions from (a) https://github.com/qgis/QGIS/ blob/master/INSTALL supplemented by (b) https://www.lutraconsulting. co.uk/blog/2017/08/06/qgis3d- build/ because I wanted to try the new 3D features. My machine runs on Xubuntu 16.04. The build works fine but I noticed a few things.
1.) Plugins are unavailable when running QGIS from ./output/bin/qgis of the build directory. The Settings tab of "Manage and Install Plugins" says "No Python support detected thus no settings available." Is this normal? I've only tried building QGIS recently so I don't know if it is.
2.) After doing a ninja install, running qgis from {$HOME}/apps/bin fails because it can't find the shared libraries that I used in (b). I tried making simlinks to the said libraries to (b) but to no avail. Is there an updated/better way to build QGIS with 3D support on Xubuntu 16.04 or should I stick to running from the build directory?
3.) What's the update or plan for the Processing -> Commander function in QGIS 3? I can't seem to find it in my build.
Thank you in advance. Cheers!
-- 

Engr. Ben Hur S. Pintor
Senior Science Research Specialist
IAMBlueCECAM Project 9: WebGIS for Mapping, Supporting, Decision-making, and Promoting Ecological Services of Blue Carbon Ecosystems (BlueWebMapS)UP Training Center for Applied Geodesy and Photogrammetry

MS Geomatics Engineering (GeoInformatics)
National Graduate School of EngineeringUniversity of the Philippines DilimanQuezon City 1101, PHL_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/ec641f2b/attachment.html>

From etienne.trimaille at gmail.com  Wed Nov 29 09:15:24 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Wed, 29 Nov 2017 18:15:24 +0100
Subject: [QGIS-Developer] Queries on building QGIS 3.
In-Reply-To: <CAFAduOTs=z7BdozoUju3cGwkRqSnpAfh-Cw3UZOM-OGsySwL7g@mail.gmail.com>
References: <CAFAduOTs=z7BdozoUju3cGwkRqSnpAfh-Cw3UZOM-OGsySwL7g@mail.gmail.com>
Message-ID: <CAMtDFLKu4ipqsr3_HnXynaoYhdkOJcko5xVAr+oRuenQXMnCYg@mail.gmail.com>

2017-11-29 17:09 GMT+01:00 Ben Hur Pintor <bnhr.dev at gmail.com>:

> 3.) What's the update or plan for the Processing -> Commander function in
> QGIS 3? I can't seem to find it in my build.
>

It has been killed. Look for the locator bar in the bottom left corner,
ctrl+k ;-)


>
> Thank you in advance. Cheers!
>
> --
>
> *Engr. Ben Hur S. Pintor*
> Senior Science Research Specialist
> *IAMBlueCECAM Project 9: WebGIS for Mapping, Supporting, Decision-making,
> and Promoting Ecological Services of Blue Carbon Ecosystems (BlueWebMapS)*
> UP Training Center for Applied Geodesy and Photogrammetry
>
> MS Geomatics Engineering (GeoInformatics)
> *National Graduate School of Engineering*
> *University of the Philippines Diliman*
> Quezon City 1101, PHL
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/4b367c09/attachment.html>

From matteo.ghetta at gmail.com  Wed Nov 29 09:18:08 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 29 Nov 2017 18:18:08 +0100
Subject: [QGIS-Developer] plugin size
Message-ID: <29d91c44-ab28-89b6-bbab-6b6662a44e97@gmail.com>

Hi devs,

I'm facing some issues with the plugin size and uploading. Currently the
maximum size is around 20 MB.

The plugin [0] comes with an html manual (all done with sphinx) together
with localization in other languages.

The problem is that when I compile the html with sphinx for all the
languages (3 at the moment) the size exceeds the 20 MB. This happens
because during the build sphinx copies all source images (images are
willingly **not** localized) in all languages build folders, something
like that:

matteo at matteo-computer:~/.local/share/QGIS/QGIS3/profiles/matteo/python/plugins/DataPlotly$
tree help/build/html/ -L 2

help/build/html/
├── en
│   ├── genindex.html
│   ├── histogram.html
│   ├── _images
│   ├── index.html
│   ├── intro.html
│   ├── objects.inv
│   ├── searchindex.js
│   ├── _sources
│   ├── _static
│   └── ternary.html
├── it
│   ├── genindex.html
│   ├── histogram.html
│   ├── _images
│   ├── index.html
│   ├── intro.html
│   ├── objects.inv
│   ├── searchindex.js
│   ├── _sources
│   ├── _static
│   └── ternary.html
└── nl
    ├── genindex.html
    ├── histogram.html
    ├── _images
    ├── index.html
    ├── intro.html
    ├── objects.inv
    ├── searchindex.js
    ├── _sources
    ├── _static
    └── ternary.html



the `_images` folder (for each language) weights 7MB so, basically that
folder is the problem.
One solution could be to copy the `_images` folder in the same directory
of the languages, but I cannot figure out how to do this with sphinx
options.

Has someone faced the same problem or has someone a workaround for that?

Thanks to all

Cheers

Matteo

[0] https://github.com/ghtmtt/DataPlotly/

From larrys at dakotacarto.com  Wed Nov 29 09:40:49 2017
From: larrys at dakotacarto.com (Larry Shaffer)
Date: Wed, 29 Nov 2017 10:40:49 -0700
Subject: [QGIS-Developer] Python error in processing on 2.99 startup
In-Reply-To: <945A396E-A314-46B2-B193-FB6096730903@kartoza.com>
References: <945A396E-A314-46B2-B193-FB6096730903@kartoza.com>
Message-ID: <CA+nQOR9N-rZ-FihN+zymuPq2O0JY89BqULBi12xxbv-V0PNafA@mail.gmail.com>

Hi Tim,

Ran into the same thing today, but with more output on the error:

PermissionError: [Errno 13] Permission denied:
'/usr/local/opt/grass7/grass-base/etc/colors/grass'

Changing line # 108 in:
python/plugins/processing/algs/grass7/Grass7Utils.py

from:
shell=False,

to:
shell=True if isMac() else False,

fixes the issue for me. Processing loads and GRASS algs open. (Not sure if
True is needed for other platforms; untested.)

Fix not pushed. Please verify on your setup first (mine is macOS 10.11.6).
Thanks!

Regards,

Larry Shaffer
Dakota Cartography
Black Hills, South Dakota
----------------------------------
Boundless Desktop and QGIS Support/Development
Boundless Spatial - http://boundlessgeo.com
lshaffer at boundlessgeo.com

On Wed, Nov 29, 2017 at 7:39 AM, Tim Sutton <tim at kartoza.com> wrote:

> Hi All
>
> Its been a few days since I pulled from master - now I am getting the
> error below on startup. Does anyone else get it? (Building on MacOS here):
>
> Couldn't load plugin 'processing' due to an error when calling its
> initGui() method
>
> PermissionError: [Errno 13] Permission denied
>
> Traceback (most recent call last):
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/qgis/utils.py", line 345, in startPlugin
>     plugins[packageName].initGui()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/ProcessingPlugin.py", line 178, in initGui
>     self.toolbox = ProcessingToolbox()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 93, in __init__
>     self.fillTree()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 317, in fillTree
>     self.fillTreeUsingProviders()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 382, in fillTreeUsingProviders
>     providerItem = TreeProviderItem(provider, self.algorithmTree, self)
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 513, in __init__
>     self.setToolTip(0, self.provider.longName())
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7AlgorithmProvider.py", line 122, in longName
>     version = Grass7Utils.installedVersion()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Utils.py", line 113, in installedVersion
>     startupinfo=si if isWindows() else None
>   File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 707, in __init__
>     restore_signals, start_new_session)
>   File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 1333, in _execute_child
>     raise child_exception_type(errno_num, err_msg)
> PermissionError: [Errno 13] Permission denied
>
>
> Python version: 3.6.2 (default, Jul 17 2017, 16:44:45) [GCC 4.2.1
> Compatible Apple LLVM 8.1.0 (clang-802.0.42)]
> QGIS version: 2.99.0-Master Master, e8213b8e41
>
> Python Path:
>
>    - /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/
>    plugins/processing
>    - /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python
>    - /Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/
>    default/python
>    - /Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/
>    default/python/plugins
>    - /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins
>    - /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/bin/$PYTHONPATH
>    - /usr/local/opt/gdal2-python/lib/python3.6/site-packages
>    - /usr/local/opt/python3/Frameworks/Python.framework/
>    Versions/3.6/lib/python36.zip
>    - /usr/local/opt/python3/Frameworks/Python.framework/
>    Versions/3.6/lib/python3.6
>    - /usr/local/opt/python3/Frameworks/Python.framework/
>    Versions/3.6/lib/python3.6/lib-dynload
>    - /usr/local/opt/python3/Frameworks/Python.framework/
>    Versions/3.6/lib/python3.6/site-packages
>    - /usr/local/opt/python3/Frameworks/Python.framework/
>    Versions/3.6/lib/python3.6/site-packages/pycharm-debug-py3k.egg
>    - /Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/
>    default/python
>
>
> —
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/fefb001a/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/fefb001a/attachment-0001.jpg>

From tim at kartoza.com  Wed Nov 29 09:49:10 2017
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 29 Nov 2017 19:49:10 +0200
Subject: [QGIS-Developer] Python error in processing on 2.99 startup
In-Reply-To: <CA+nQOR9N-rZ-FihN+zymuPq2O0JY89BqULBi12xxbv-V0PNafA@mail.gmail.com>
References: <945A396E-A314-46B2-B193-FB6096730903@kartoza.com>
 <CA+nQOR9N-rZ-FihN+zymuPq2O0JY89BqULBi12xxbv-V0PNafA@mail.gmail.com>
Message-ID: <AE44466F-0BA3-452A-920B-C1928A65BB38@kartoza.com>

Hi

Thanks for your quick reply Larry. Confirmed that your fix addresses the startup issue. When I try to run a grass processing alg on Mac I get a similar error in the log window now:

g.proj -c proj4="+proj=longlat +datum=WGS84 +no_defs"
v.external input="/Users/timlinux/gisdata/InaSAFE/Agung/Agung.shp" output="a5a1ef289ca1062" --overwrite -o
g.region n=-8.341999999999928 s=-8.341999999999928 e=115.50800000000004 w=115.50800000000004
v.buffer input=a5a1ef289ca1062 distance=100 tolerance=0.01 output=output0bddfa66df874fd7bb9e9d52a9c84228 --overwrite
v.out.ogr -c type=auto input="output0bddfa66df874fd7bb9e9d52a9c84228" output="/var/folders/g6/fnh1vyx13q728xq52nw7yx400000gn/T/processing_9b123312434544668360822a2b4cf6f0/0af610f60d9f465f9b2959fbc5442af5/output.shp" format=ESRI_Shapefile --overwrite
Traceback (most recent call last): File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Algorithm.py", line 375, in processAlgorithm Grass7Utils.executeGrass(self.commands, feedback, self.outputCommands) File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Utils.py", line 368, in executeGrass startupinfo=si if isWindows() else None File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 707, in __init__ restore_signals, start_new_session) File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 1333, in _execute_child raise child_exception_type(errno_num, err_msg) PermissionError: [Errno 13] Permission denied 
Execution failed after 0.08 seconds

Loading resulting layers
Algorithm 'v.buffer.distance - Creates a buffer around features of given type.’ finished


I guess we are going to need to search and replace all shell=False parameters and set them to True if we are on Mac….

Regards

Tim


> On 29 Nov 2017, at 19:40, Larry Shaffer <larrys at dakotacarto.com> wrote:
> 
> Hi Tim,
> 
> Ran into the same thing today, but with more output on the error:
> 
> PermissionError: [Errno 13] Permission denied: '/usr/local/opt/grass7/grass-base/etc/colors/grass'
> 
> Changing line # 108 in:
> python/plugins/processing/algs/grass7/Grass7Utils.py
> 
> from:
> shell=False,
> 
> to:
> shell=True if isMac() else False,
> 
> fixes the issue for me. Processing loads and GRASS algs open. (Not sure if True is needed for other platforms; untested.)
> 
> Fix not pushed. Please verify on your setup first (mine is macOS 10.11.6). Thanks!
> 
> Regards,
> 
> Larry Shaffer
> Dakota Cartography
> Black Hills, South Dakota
> ----------------------------------
> Boundless Desktop and QGIS Support/Development
> Boundless Spatial - http://boundlessgeo.com <http://boundlessgeo.com/>
> lshaffer at boundlessgeo.com <mailto:lshaffer at boundlessgeo.com>
> On Wed, Nov 29, 2017 at 7:39 AM, Tim Sutton <tim at kartoza.com <mailto:tim at kartoza.com>> wrote:
> Hi All
> 
> Its been a few days since I pulled from master - now I am getting the error below on startup. Does anyone else get it? (Building on MacOS here):
> 
> Couldn't load plugin 'processing' due to an error when calling its initGui() method 
> PermissionError: [Errno 13] Permission denied
> 
> Traceback (most recent call last):
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/qgis/utils.py", line 345, in startPlugin
>     plugins[packageName].initGui()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/ProcessingPlugin.py", line 178, in initGui
>     self.toolbox = ProcessingToolbox()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 93, in __init__
>     self.fillTree()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 317, in fillTree
>     self.fillTreeUsingProviders()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 382, in fillTreeUsingProviders
>     providerItem = TreeProviderItem(provider, self.algorithmTree, self)
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 513, in __init__
>     self.setToolTip(0, self.provider.longName())
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7AlgorithmProvider.py", line 122, in longName
>     version = Grass7Utils.installedVersion()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Utils.py", line 113, in installedVersion
>     startupinfo=si if isWindows() else None
>   File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 707, in __init__
>     restore_signals, start_new_session)
>   File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 1333, in _execute_child
>     raise child_exception_type(errno_num, err_msg)
> PermissionError: [Errno 13] Permission denied
> 
> Python version: 3.6.2 (default, Jul 17 2017, 16:44:45) [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)] 
> QGIS version: 2.99.0-Master Master, e8213b8e41 
> Python Path:
> 
> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing
> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python
> /Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python
> /Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python/plugins
> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins
> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/bin/$PYTHONPATH
> /usr/local/opt/gdal2-python/lib/python3.6/site-packages
> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python36.zip
> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6
> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload
> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages
> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pycharm-debug-py3k.egg
> /Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python
> 
> —
> 
> 
> <KartozaNewLogoThumbnail.jpg>
> 
> 
> 
> 
> Tim Sutton
> 
> Co-founder: Kartoza
> Project chair: QGIS.org <http://qgis.org/>
> 
> Visit http://kartoza.com <http://kartoza.com/> to find out about open source:
> 
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
> 
> Skype: timlinux 
> IRC: timlinux on #qgis at freenode.net <http://freenode.net/>
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 

—







Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/67fbcca0/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/67fbcca0/attachment-0001.jpg>

From tim at kartoza.com  Wed Nov 29 10:27:14 2017
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 29 Nov 2017 20:27:14 +0200
Subject: [QGIS-Developer] Python error in processing on 2.99 startup
In-Reply-To: <AE44466F-0BA3-452A-920B-C1928A65BB38@kartoza.com>
References: <945A396E-A314-46B2-B193-FB6096730903@kartoza.com>
 <CA+nQOR9N-rZ-FihN+zymuPq2O0JY89BqULBi12xxbv-V0PNafA@mail.gmail.com>
 <AE44466F-0BA3-452A-920B-C1928A65BB38@kartoza.com>
Message-ID: <39F65ECF-1D9C-4769-B071-E2FE4EA8CF21@kartoza.com>

Hi

OK it turns out there are only two more calls like that. I’ll make a PR with the additional changes. I still have the issue that no grass Algs will actually produce any output on Mac….but I guess that is a separate conversation….

Regards

Tim

> On 29 Nov 2017, at 19:49, Tim Sutton <tim at kartoza.com> wrote:
> 
> Hi
> 
> Thanks for your quick reply Larry. Confirmed that your fix addresses the startup issue. When I try to run a grass processing alg on Mac I get a similar error in the log window now:
> 
> g.proj -c proj4="+proj=longlat +datum=WGS84 +no_defs"
> v.external input="/Users/timlinux/gisdata/InaSAFE/Agung/Agung.shp" output="a5a1ef289ca1062" --overwrite -o
> g.region n=-8.341999999999928 s=-8.341999999999928 e=115.50800000000004 w=115.50800000000004
> v.buffer input=a5a1ef289ca1062 distance=100 tolerance=0.01 output=output0bddfa66df874fd7bb9e9d52a9c84228 --overwrite
> v.out.ogr -c type=auto input="output0bddfa66df874fd7bb9e9d52a9c84228" output="/var/folders/g6/fnh1vyx13q728xq52nw7yx400000gn/T/processing_9b123312434544668360822a2b4cf6f0/0af610f60d9f465f9b2959fbc5442af5/output.shp" format=ESRI_Shapefile --overwrite
> Traceback (most recent call last): File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Algorithm.py", line 375, in processAlgorithm Grass7Utils.executeGrass(self.commands, feedback, self.outputCommands) File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Utils.py", line 368, in executeGrass startupinfo=si if isWindows() else None File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 707, in __init__ restore_signals, start_new_session) File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 1333, in _execute_child raise child_exception_type(errno_num, err_msg) PermissionError: [Errno 13] Permission denied 
> Execution failed after 0.08 seconds
> 
> Loading resulting layers
> Algorithm 'v.buffer.distance - Creates a buffer around features of given type.’ finished
> 
> 
> I guess we are going to need to search and replace all shell=False parameters and set them to True if we are on Mac….
> 
> Regards
> 
> Tim
> 
> 
>> On 29 Nov 2017, at 19:40, Larry Shaffer <larrys at dakotacarto.com <mailto:larrys at dakotacarto.com>> wrote:
>> 
>> Hi Tim,
>> 
>> Ran into the same thing today, but with more output on the error:
>> 
>> PermissionError: [Errno 13] Permission denied: '/usr/local/opt/grass7/grass-base/etc/colors/grass'
>> 
>> Changing line # 108 in:
>> python/plugins/processing/algs/grass7/Grass7Utils.py
>> 
>> from:
>> shell=False,
>> 
>> to:
>> shell=True if isMac() else False,
>> 
>> fixes the issue for me. Processing loads and GRASS algs open. (Not sure if True is needed for other platforms; untested.)
>> 
>> Fix not pushed. Please verify on your setup first (mine is macOS 10.11.6). Thanks!
>> 
>> Regards,
>> 
>> Larry Shaffer
>> Dakota Cartography
>> Black Hills, South Dakota
>> ----------------------------------
>> Boundless Desktop and QGIS Support/Development
>> Boundless Spatial - http://boundlessgeo.com <http://boundlessgeo.com/>
>> lshaffer at boundlessgeo.com <mailto:lshaffer at boundlessgeo.com>
>> On Wed, Nov 29, 2017 at 7:39 AM, Tim Sutton <tim at kartoza.com <mailto:tim at kartoza.com>> wrote:
>> Hi All
>> 
>> Its been a few days since I pulled from master - now I am getting the error below on startup. Does anyone else get it? (Building on MacOS here):
>> 
>> Couldn't load plugin 'processing' due to an error when calling its initGui() method 
>> PermissionError: [Errno 13] Permission denied
>> 
>> Traceback (most recent call last):
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/qgis/utils.py", line 345, in startPlugin
>>     plugins[packageName].initGui()
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/ProcessingPlugin.py", line 178, in initGui
>>     self.toolbox = ProcessingToolbox()
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 93, in __init__
>>     self.fillTree()
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 317, in fillTree
>>     self.fillTreeUsingProviders()
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 382, in fillTreeUsingProviders
>>     providerItem = TreeProviderItem(provider, self.algorithmTree, self)
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 513, in __init__
>>     self.setToolTip(0, self.provider.longName())
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7AlgorithmProvider.py", line 122, in longName
>>     version = Grass7Utils.installedVersion()
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Utils.py", line 113, in installedVersion
>>     startupinfo=si if isWindows() else None
>>   File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 707, in __init__
>>     restore_signals, start_new_session)
>>   File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 1333, in _execute_child
>>     raise child_exception_type(errno_num, err_msg)
>> PermissionError: [Errno 13] Permission denied
>> 
>> Python version: 3.6.2 (default, Jul 17 2017, 16:44:45) [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)] 
>> QGIS version: 2.99.0-Master Master, e8213b8e41 
>> Python Path:
>> 
>> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing
>> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python
>> /Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python
>> /Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python/plugins
>> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins
>> /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/bin/$PYTHONPATH
>> /usr/local/opt/gdal2-python/lib/python3.6/site-packages
>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python36.zip
>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6
>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload
>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages
>> /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pycharm-debug-py3k.egg
>> /Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python
>> 
>> —
>> 
>> 
>> <KartozaNewLogoThumbnail.jpg>
>> 
>> 
>> 
>> 
>> Tim Sutton
>> 
>> Co-founder: Kartoza
>> Project chair: QGIS.org <http://qgis.org/>
>> 
>> Visit http://kartoza.com <http://kartoza.com/> to find out about open source:
>> 
>> Desktop GIS programming services
>> Geospatial web development
>> GIS Training
>> Consulting Services
>> 
>> Skype: timlinux 
>> IRC: timlinux on #qgis at freenode.net <http://freenode.net/>
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> 
> 
> —
> 
> 
> <KartozaNewLogoThumbnail.jpg>
> 
> 
> 
> 
> Tim Sutton
> 
> Co-founder: Kartoza
> Project chair: QGIS.org <http://qgis.org/>
> 
> Visit http://kartoza.com <http://kartoza.com/> to find out about open source:
> 
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
> 
> Skype: timlinux 
> IRC: timlinux on #qgis at freenode.net <http://freenode.net/>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—







Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/c6a764fe/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/c6a764fe/attachment-0001.jpg>

From lrssvtml at gmail.com  Wed Nov 29 10:44:38 2017
From: lrssvtml at gmail.com (Salvatore Larosa)
Date: Wed, 29 Nov 2017 19:44:38 +0100
Subject: [QGIS-Developer] Python error in processing on 2.99 startup
In-Reply-To: <945A396E-A314-46B2-B193-FB6096730903@kartoza.com>
References: <945A396E-A314-46B2-B193-FB6096730903@kartoza.com>
Message-ID: <CANxjxaqM-ci9_hmmnpaL-W62Dv35ZVLZvzFw-KDgaZt5cJwSKw@mail.gmail.com>

Hi,

On Wed, Nov 29, 2017 at 3:39 PM, Tim Sutton <tim at kartoza.com> wrote:

> Hi All
>
> Its been a few days since I pulled from master - now I am getting the
> error below on startup. Does anyone else get it? (Building on MacOS here):
>
> Couldn't load plugin 'processing' due to an error when calling its
> initGui() method
>
> PermissionError: [Errno 13] Permission denied
>
> Traceback (most recent call last):
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/qgis/utils.py", line 345, in startPlugin
>     plugins[packageName].initGui()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/ProcessingPlugin.py", line 178, in initGui
>     self.toolbox = ProcessingToolbox()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 93, in __init__
>     self.fillTree()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 317, in fillTree
>     self.fillTreeUsingProviders()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 382, in fillTreeUsingProviders
>     providerItem = TreeProviderItem(provider, self.algorithmTree, self)
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 513, in __init__
>     self.setToolTip(0, self.provider.longName())
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7AlgorithmProvider.py", line 122, in longName
>     version = Grass7Utils.installedVersion()
>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Utils.py", line 113, in installedVersion
>     startupinfo=si if isWindows() else None
>   File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 707, in __init__
>     restore_signals, start_new_session)
>   File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 1333, in _execute_child
>     raise child_exception_type(errno_num, err_msg)
> PermissionError: [Errno 13] Permission denied
>
>
building the latest master on OSX (10.11.6) and I do not see any error on
startup.


-- 
Salvatore Larosa
linkedIn: http://linkedin.com/in/larosasalvatore
twitter: @lrssvt
skype: s.larosa
IRC: lrssvt on freenode
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/25f64b77/attachment.html>

From tom.chadwin at nnpa.org.uk  Wed Nov 29 10:47:46 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Wed, 29 Nov 2017 11:47:46 -0700 (MST)
Subject: [QGIS-Developer] plugin size
In-Reply-To: <29d91c44-ab28-89b6-bbab-6b6662a44e97@gmail.com>
References: <29d91c44-ab28-89b6-bbab-6b6662a44e97@gmail.com>
Message-ID: <1511981266308-0.post@n6.nabble.com>

I can't help with Sphinx, but a find/replace should do the job, shouldn't if? 

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From larrys at dakotacarto.com  Wed Nov 29 11:05:57 2017
From: larrys at dakotacarto.com (Larry Shaffer)
Date: Wed, 29 Nov 2017 12:05:57 -0700
Subject: [QGIS-Developer] Python error in processing on 2.99 startup
In-Reply-To: <CANxjxaqM-ci9_hmmnpaL-W62Dv35ZVLZvzFw-KDgaZt5cJwSKw@mail.gmail.com>
References: <945A396E-A314-46B2-B193-FB6096730903@kartoza.com>
 <CANxjxaqM-ci9_hmmnpaL-W62Dv35ZVLZvzFw-KDgaZt5cJwSKw@mail.gmail.com>
Message-ID: <CA+nQOR-o4eWXih0dkU1o1YyTgcweNubgk6qow4fkoX2+6fuCJw@mail.gmail.com>

Hi Salvatore,

On Wed, Nov 29, 2017 at 11:44 AM, Salvatore Larosa <lrssvtml at gmail.com>
wrote:

> Hi,
>
> On Wed, Nov 29, 2017 at 3:39 PM, Tim Sutton <tim at kartoza.com> wrote:
>
>> Hi All
>>
>> Its been a few days since I pulled from master - now I am getting the
>> error below on startup. Does anyone else get it? (Building on MacOS here):
>>
>> Couldn't load plugin 'processing' due to an error when calling its
>> initGui() method
>>
>> PermissionError: [Errno 13] Permission denied
>>
>> Traceback (most recent call last):
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/qgis/utils.py", line 345, in startPlugin
>>     plugins[packageName].initGui()
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/ProcessingPlugin.py", line 178, in initGui
>>     self.toolbox = ProcessingToolbox()
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 93, in __init__
>>     self.fillTree()
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 317, in fillTree
>>     self.fillTreeUsingProviders()
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 382, in fillTreeUsingProviders
>>     providerItem = TreeProviderItem(provider, self.algorithmTree, self)
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 513, in __init__
>>     self.setToolTip(0, self.provider.longName())
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7AlgorithmProvider.py", line 122, in longName
>>     version = Grass7Utils.installedVersion()
>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Utils.py", line 113, in installedVersion
>>     startupinfo=si if isWindows() else None
>>   File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 707, in __init__
>>     restore_signals, start_new_session)
>>   File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 1333, in _execute_child
>>     raise child_exception_type(errno_num, err_msg)
>> PermissionError: [Errno 13] Permission denied
>>
>>
> building the latest master on OSX (10.11.6) and I do not see any error on
> startup.
>

You may not see any error if you do not have the 'GRASS7 folder' path set,
or auto-detection of that path fails, which will lead to not loading the
GRASS7 Processing provider.

Is that GRASS7 Processing provider showing up and working for you?

If so, what GRASS7 install is it using?


Regards,

Larry


> --
> Salvatore Larosa
> linkedIn: http://linkedin.com/in/larosasalvatore
> twitter: @lrssvt
> skype: s.larosa
> IRC: lrssvt on freenode
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/369527d9/attachment.html>

From lrssvtml at gmail.com  Wed Nov 29 11:21:52 2017
From: lrssvtml at gmail.com (Salvatore Larosa)
Date: Wed, 29 Nov 2017 20:21:52 +0100
Subject: [QGIS-Developer] Python error in processing on 2.99 startup
In-Reply-To: <CA+nQOR-o4eWXih0dkU1o1YyTgcweNubgk6qow4fkoX2+6fuCJw@mail.gmail.com>
References: <945A396E-A314-46B2-B193-FB6096730903@kartoza.com>
 <CANxjxaqM-ci9_hmmnpaL-W62Dv35ZVLZvzFw-KDgaZt5cJwSKw@mail.gmail.com>
 <CA+nQOR-o4eWXih0dkU1o1YyTgcweNubgk6qow4fkoX2+6fuCJw@mail.gmail.com>
Message-ID: <CANxjxao1F=r1Bhq62dyYOZEZizdLr9yp1UTCYJ2XRJc1g1ACDA@mail.gmail.com>

Hi Larry,

On Wed, Nov 29, 2017 at 8:05 PM, Larry Shaffer <larrys at dakotacarto.com>
wrote:

> Hi Salvatore,
>
> On Wed, Nov 29, 2017 at 11:44 AM, Salvatore Larosa <lrssvtml at gmail.com>
> wrote:
>
>> Hi,
>>
>> On Wed, Nov 29, 2017 at 3:39 PM, Tim Sutton <tim at kartoza.com> wrote:
>>
>>> Hi All
>>>
>>> Its been a few days since I pulled from master - now I am getting the
>>> error below on startup. Does anyone else get it? (Building on MacOS here):
>>>
>>> Couldn't load plugin 'processing' due to an error when calling its
>>> initGui() method
>>>
>>> PermissionError: [Errno 13] Permission denied
>>>
>>> Traceback (most recent call last):
>>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/qgis/utils.py", line 345, in startPlugin
>>>     plugins[packageName].initGui()
>>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/ProcessingPlugin.py", line 178, in initGui
>>>     self.toolbox = ProcessingToolbox()
>>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 93, in __init__
>>>     self.fillTree()
>>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 317, in fillTree
>>>     self.fillTreeUsingProviders()
>>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 382, in fillTreeUsingProviders
>>>     providerItem = TreeProviderItem(provider, self.algorithmTree, self)
>>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 513, in __init__
>>>     self.setToolTip(0, self.provider.longName())
>>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7AlgorithmProvider.py", line 122, in longName
>>>     version = Grass7Utils.installedVersion()
>>>   File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Utils.py", line 113, in installedVersion
>>>     startupinfo=si if isWindows() else None
>>>   File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 707, in __init__
>>>     restore_signals, start_new_session)
>>>   File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 1333, in _execute_child
>>>     raise child_exception_type(errno_num, err_msg)
>>> PermissionError: [Errno 13] Permission denied
>>>
>>>
>> building the latest master on OSX (10.11.6) and I do not see any error on
>> startup.
>>
>
> You may not see any error if you do not have the 'GRASS7 folder' path set,
> or auto-detection of that path fails, which will lead to not loading the
> GRASS7 Processing provider.
>
> Is that GRASS7 Processing provider showing up and working for you?
>
> If so, what GRASS7 install is it using?
>

I have GRASS7 folder path set to /Applications/GRASS-7.0.app/Contents/MacOS
and I can see GRASS7 algs list in processing toolbox.
The only problem is that the execution of any algorithm does not generate
any output. No error is prompted.

Also, I just saw this issue https://issues.qgis.org/issues/17555 but I
cannot confirm it on my machine.

Regards,
-SL

-- 
Salvatore Larosa
linkedIn: http://linkedin.com/in/larosasalvatore
twitter: @lrssvt
skype: s.larosa
IRC: lrssvt on freenode
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/114c87d3/attachment-0001.html>

From Stefan.Blumentrath at nina.no  Wed Nov 29 11:24:16 2017
From: Stefan.Blumentrath at nina.no (Stefan Blumentrath)
Date: Wed, 29 Nov 2017 19:24:16 +0000
Subject: [QGIS-Developer] Python error in processing on 2.99 startup
In-Reply-To: <AE44466F-0BA3-452A-920B-C1928A65BB38@kartoza.com>
References: <945A396E-A314-46B2-B193-FB6096730903@kartoza.com>
 <CA+nQOR9N-rZ-FihN+zymuPq2O0JY89BqULBi12xxbv-V0PNafA@mail.gmail.com>
 <AE44466F-0BA3-452A-920B-C1928A65BB38@kartoza.com>
Message-ID: <9c9ad620348a474b9f64bd84ba261db0@NINSRV23.nina.no>

Hi Tim,

While your at GRASS provider in Processing: I noticed that it (still) uses linked OGR data (v.external).
However, that does not work for all algorithms and particularly not for all data types. Points are less of a problem, but areas are often. See:
https://lists.osgeo.org/pipermail/grass-dev/2017-November/086601.html
and
https://lists.osgeo.org/pipermail/grass-dev/2017-November/086505.html

v.external.out (https://grass.osgeo.org/grass72/manuals/v.external.out.html) might be used though instead of v.our.ogr. But there might be drawbacks too.
For raster data and algorithms r.external.out would speed-up the algorithms significantly…

Cheers
Stefan

From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On Behalf Of Tim Sutton
Sent: onsdag 29. november 2017 18.49
To: Larry Shaffer <larrys at dakotacarto.com>
Cc: QGIS Developer <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] Python error in processing on 2.99 startup

Hi

Thanks for your quick reply Larry. Confirmed that your fix addresses the startup issue. When I try to run a grass processing alg on Mac I get a similar error in the log window now:

g.proj -c proj4="+proj=longlat +datum=WGS84 +no_defs"
v.external input="/Users/timlinux/gisdata/InaSAFE/Agung/Agung.shp" output="a5a1ef289ca1062" --overwrite -o
g.region n=-8.341999999999928 s=-8.341999999999928 e=115.50800000000004 w=115.50800000000004
v.buffer input=a5a1ef289ca1062 distance=100 tolerance=0.01 output=output0bddfa66df874fd7bb9e9d52a9c84228 --overwrite
v.out.ogr -c type=auto input="output0bddfa66df874fd7bb9e9d52a9c84228" output="/var/folders/g6/fnh1vyx13q728xq52nw7yx400000gn/T/processing_9b123312434544668360822a2b4cf6f0/0af610f60d9f465f9b2959fbc5442af5/output.shp" format=ESRI_Shapefile --overwrite
Traceback (most recent call last): File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Algorithm.py", line 375, in processAlgorithm Grass7Utils.executeGrass(self.commands, feedback, self.outputCommands) File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Utils.py", line 368, in executeGrass startupinfo=si if isWindows() else None File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 707, in __init__ restore_signals, start_new_session) File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 1333, in _execute_child raise child_exception_type(errno_num, err_msg) PermissionError: [Errno 13] Permission denied
Execution failed after 0.08 seconds

Loading resulting layers
Algorithm 'v.buffer.distance - Creates a buffer around features of given type.’ finished


I guess we are going to need to search and replace all shell=False parameters and set them to True if we are on Mac….

Regards

Tim



On 29 Nov 2017, at 19:40, Larry Shaffer <larrys at dakotacarto.com<mailto:larrys at dakotacarto.com>> wrote:

Hi Tim,

Ran into the same thing today, but with more output on the error:

PermissionError: [Errno 13] Permission denied: '/usr/local/opt/grass7/grass-base/etc/colors/grass'

Changing line # 108 in:
python/plugins/processing/algs/grass7/Grass7Utils.py

from:
shell=False,

to:
shell=True if isMac() else False,

fixes the issue for me. Processing loads and GRASS algs open. (Not sure if True is needed for other platforms; untested.)

Fix not pushed. Please verify on your setup first (mine is macOS 10.11.6). Thanks!

Regards,

Larry Shaffer
Dakota Cartography
Black Hills, South Dakota
----------------------------------
Boundless Desktop and QGIS Support/Development
Boundless Spatial - http://boundlessgeo.com<http://boundlessgeo.com/>
lshaffer at boundlessgeo.com<mailto:lshaffer at boundlessgeo.com>

On Wed, Nov 29, 2017 at 7:39 AM, Tim Sutton <tim at kartoza.com<mailto:tim at kartoza.com>> wrote:
Hi All

Its been a few days since I pulled from master - now I am getting the error below on startup. Does anyone else get it? (Building on MacOS here):

Couldn't load plugin 'processing' due to an error when calling its initGui() method
PermissionError: [Errno 13] Permission denied

Traceback (most recent call last):
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/qgis/utils.py", line 345, in startPlugin
    plugins[packageName].initGui()
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/ProcessingPlugin.py", line 178, in initGui
    self.toolbox = ProcessingToolbox()
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 93, in __init__
    self.fillTree()
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 317, in fillTree
    self.fillTreeUsingProviders()
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 382, in fillTreeUsingProviders
    providerItem = TreeProviderItem(provider, self.algorithmTree, self)
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/gui/ProcessingToolbox.py", line 513, in __init__
    self.setToolTip(0, self.provider.longName())
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7AlgorithmProvider.py", line 122, in longName
    version = Grass7Utils.installedVersion()
  File "/Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing/algs/grass7/Grass7Utils.py", line 113, in installedVersion
    startupinfo=si if isWindows() else None
  File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 707, in __init__
    restore_signals, start_new_session)
  File "/usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py", line 1333, in _execute_child
    raise child_exception_type(errno_num, err_msg)
PermissionError: [Errno 13] Permission denied

Python version: 3.6.2 (default, Jul 17 2017, 16:44:45) [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)]
QGIS version: 2.99.0-Master Master, e8213b8e41
Python Path:
· /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins/processing
· /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python
· /Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python
· /Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python/plugins
· /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/python/plugins
· /Users/timlinux/dev/cpp/QGIS-QtCreator-Build/output/bin/$PYTHONPATH
· /usr/local/opt/gdal2-python/lib/python3.6/site-packages
· /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python36.zip
· /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6
· /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload
· /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages
· /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pycharm-debug-py3k.egg
· /Users/timlinux/Library/Application Support/QGIS/QGIS3/profiles/default/python

—


<KartozaNewLogoThumbnail.jpg>



Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org<http://qgis.org/>

Visit http://kartoza.com<http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux
IRC: timlinux on #qgis at freenode.net<http://freenode.net/>


_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


—


[cid:image001.jpg at 01D3694F.3956D080]



Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org<http://QGIS.org>

Visit http://kartoza.com<http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux
IRC: timlinux on #qgis at freenode.net<http://freenode.net>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/df00f89b/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/df00f89b/attachment-0001.jpg>

From anitagraser at gmx.at  Wed Nov 29 11:43:23 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Wed, 29 Nov 2017 20:43:23 +0100
Subject: [QGIS-Developer] Bookmarks severely broken. Unusable?
In-Reply-To: <CAB28Asi_nHtH6YU8AkLwOhX0Tv5QiGtdBU0uph+2+jGp_2Q9fQ@mail.gmail.com>
References: <7170a8a5-2683-c061-927e-5c17efb7f17b@duif.net>
 <d0445ecd-3d25-ca1b-7b8c-dce6bb550755@free.fr>
 <3fcb4a66-6263-3fe1-ec03-2b72c538130e@duif.net>
 <6f7220f8-10e9-1fb7-a2e0-b0c009b24706@gmail.com>
 <CAFFV8Fjjww1pP5BAWzpLT2PTuMiY=g3A_j664Ao69QNtUqzXGA@mail.gmail.com>
 <CAB28Asi_nHtH6YU8AkLwOhX0Tv5QiGtdBU0uph+2+jGp_2Q9fQ@mail.gmail.com>
Message-ID: <CAFFV8FhafOCZjBsinzKVcWw_S2Bfg58y8FKpK7XK0NeEzJiLHA@mail.gmail.com>

On Wed, Nov 29, 2017 at 8:46 AM, Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On 29 November 2017 at 17:40, Anita Graser <anitagraser at gmx.at> wrote:
> >
> >
> > On Wed, Nov 29, 2017 at 5:57 AM, Patrick Dunford <
> enzedrailmaps at gmail.com>
> > wrote:
> >>
> >> I thought it would only create one in master, but when I quit and
> reopened
> >> the project it had three bookmarks in it.
> >
> >
> > All these issues remind me a lot of similar problems in adding custom CRS
> > https://issues.qgis.org/issues/17258
> >
> > Maybe the cause of the issues is the same ....
> >
>
> The CRS issues should all be resolved - are you still seeing them on
> master?


​The CRS issues are all resolved.

Regards,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171129/80cc248c/attachment.html>

From nyall.dawson at gmail.com  Wed Nov 29 14:42:03 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 30 Nov 2017 08:42:03 +1000
Subject: [QGIS-Developer] Processing modeler GUI unusable in KDE / Plasma
In-Reply-To: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
References: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
Message-ID: <CAB28AsjQ7f0xr_31uEMnEsZfS9KYqHJpWnjetkzbQ4F2M7Px8A@mail.gmail.com>

On 29 November 2017 at 23:32, Andreas Neumann <a.neumann at carto.net> wrote:
> Hi,
>
> Are there any KDE5 / Plasma users among the QGIS devs?
>
> For me the GUI of the modeler is pretty broken - see screenshot at
> http://www.carto.net/neumann/temp/processing_modelerer_kde.png
>
> I cannot access the list of inputs and algorithms as their screenspace
> shrinked to some minimal widget that can't be enlarged.
>
> Am I the only one suffering from this issue?
>

Have you got the custom widgets installed? I suspect we are seeing a
resurgence of an old issue.

Try removing the custom widgets, or reverting
https://github.com/qgis/QGIS/commit/5dce8edb

Nyall

From nyall.dawson at gmail.com  Wed Nov 29 14:56:18 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 30 Nov 2017 08:56:18 +1000
Subject: [QGIS-Developer] Does Polyline.intersects(Point) work in QGIS
	master?
In-Reply-To: <CANaz7mwvpPwMwvqun9MxjfX8SdU0bFiZoS5_TjGsW400PS8L4Q@mail.gmail.com>
References: <CANaz7mwvpPwMwvqun9MxjfX8SdU0bFiZoS5_TjGsW400PS8L4Q@mail.gmail.com>
Message-ID: <CAB28AshRk=9vKZOz30czHvRE9LCqQFf9-gFNmYyxdjg6Xj4iAg@mail.gmail.com>

On 29 November 2017 at 02:22, Germán Carrillo <carrillo.german at gmail.com> wrote:
>
> Hi devs,
>
>
> do you know why this polyline
>
> >>> my_line = QgsGeometry().fromWkt('0 0, 963461.42999999970197678 1077875.79199999943375587, 1 1')
>
> and this point
>
> >>> my_point = QgsGeometry().fromWkt("Point (963461.430 1077875.792)")
>
> don't intersect?
>
> >>> my_line.intersects(my_point) # returns False
>

Because we use the GEOS library to test intersects, and it performs an
exact intersection test. So 963461.42999999970197678
1077875.79199999943375587 is not the same as 963461.430 1077875.792.

This is the same behaviour in 2.x, and all other GEOS based projects
(e.g. PostGIS gives the same result).

Nyall

From a.neumann at carto.net  Wed Nov 29 15:10:07 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 30 Nov 2017 00:10:07 +0100
Subject: [QGIS-Developer] Processing modeler GUI unusable in KDE / Plasma
In-Reply-To: <CAB28AsjQ7f0xr_31uEMnEsZfS9KYqHJpWnjetkzbQ4F2M7Px8A@mail.gmail.com>
References: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
 <CAB28AsjQ7f0xr_31uEMnEsZfS9KYqHJpWnjetkzbQ4F2M7Px8A@mail.gmail.com>
Message-ID: <4b790860-b451-85d8-3fdf-bea7dc08546f@carto.net>

Hi Nyall,

Unfortunately - turning off custom widgets in ccmake and reinstalling 
did not help.

Andreas


On 29.11.2017 23:42, Nyall Dawson wrote:
> On 29 November 2017 at 23:32, Andreas Neumann <a.neumann at carto.net> wrote:
>> Hi,
>>
>> Are there any KDE5 / Plasma users among the QGIS devs?
>>
>> For me the GUI of the modeler is pretty broken - see screenshot at
>> http://www.carto.net/neumann/temp/processing_modelerer_kde.png
>>
>> I cannot access the list of inputs and algorithms as their screenspace
>> shrinked to some minimal widget that can't be enlarged.
>>
>> Am I the only one suffering from this issue?
>>
> Have you got the custom widgets installed? I suspect we are seeing a
> resurgence of an old issue.
>
> Try removing the custom widgets, or reverting
> https://github.com/qgis/QGIS/commit/5dce8edb
>
> Nyall


From bnhr.dev at gmail.com  Wed Nov 29 15:25:19 2017
From: bnhr.dev at gmail.com (Ben Hur Pintor)
Date: Thu, 30 Nov 2017 07:25:19 +0800
Subject: [QGIS-Developer] Queries on building QGIS 3.
In-Reply-To: <358490414.4493454.1511973266987@mail.yahoo.com>
References: <CAFAduOTs=z7BdozoUju3cGwkRqSnpAfh-Cw3UZOM-OGsySwL7g@mail.gmail.com>
 <358490414.4493454.1511973266987@mail.yahoo.com>
Message-ID: <CAFAduORtpVF234zU+=TqF0U_Tx-x4y3zDSLRiuNBX5ZPQYtBBg@mail.gmail.com>

Thanks! This works.

Basically, I created a bash script with the following lines:

#!/bin/bash
> export
> LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/qt59/lib/:/opt/qt59_libs/qwt-6.1.3/lib/
> ./apps/bin/qgis


Works like a charm.

I'm still getting the "No Python support detected thus no settings
available." message in the Plugins though. Any ideas why?

Cheers!

Ben Hur

On Thu, Nov 30, 2017 at 12:34 AM, Tudor Barascu <tudorbarascu at yahoo.com>
wrote:

> Hi,
>
> The library problem can be mitigated by exporting the path to the
> libraries before running qgis from source.
>
> E.g. create a  start-qgis.sh with
>
> export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/pathto/qgis-master/lib
> /pathto/qgis-master/bin/./qgis
>
> Then run it..
>
> All the best,
>
> Tudor
>
>
> On Wednesday, November 29, 2017, 6:10:07 PM GMT+2, Ben Hur Pintor <
> bnhr.dev at gmail.com> wrote:
>
>
> Hi all! I built QGIS master (2a960c5) using the instructions from (a) https://github.com/qgis/QGIS/
> blob/master/INSTALL <https://github.com/qgis/QGIS/blob/master/INSTALL>
> supplemented by (b) https://www.lutraconsulting.
> co.uk/blog/2017/08/06/qgis3d- build/
> <https://www.lutraconsulting.co.uk/blog/2017/08/06/qgis3d-build/> because
> I wanted to try the new 3D features. My machine runs on Xubuntu 16.04. The
> build works fine but I noticed a few things.
>
> 1.) Plugins are unavailable when running QGIS from ./output/bin/qgis of
> the build directory. The Settings tab of "Manage and Install Plugins" says
> "No Python support detected thus no settings available." Is this normal?
> I've only tried building QGIS recently so I don't know if it is.
>
> 2.) After doing a ninja install, running qgis from {$HOME}/apps/bin fails
> because it can't find the shared libraries that I used in (b). I tried
> making simlinks to the said libraries to (b) but to no avail. Is there an
> updated/better way to build QGIS with 3D support on Xubuntu 16.04 or should
> I stick to running from the build directory?
>
> 3.) What's the update or plan for the Processing -> Commander function in
> QGIS 3? I can't seem to find it in my build.
>
> Thank you in advance. Cheers!
>
> --
>
> *Engr. Ben Hur S. Pintor*
> Senior Science Research Specialist
> *IAMBlueCECAM Project 9: WebGIS for Mapping, Supporting, Decision-making,
> and Promoting Ecological Services of Blue Carbon Ecosystems (BlueWebMapS)*
> UP Training Center for Applied Geodesy and Photogrammetry
>
> MS Geomatics Engineering (GeoInformatics)
> *National Graduate School of Engineering*
> *University of the Philippines Diliman*
> Quezon City 1101, PHL
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
---

*Engr. Ben Hur S. Pintor*
Senior Science Research Specialist
*IAMBlueCECAM Project 9: WebGIS for Mapping, Supporting, Decision-making,
and Promoting Ecological Services of Blue Carbon Ecosystems (BlueWebMapS)*
UP Training Center for Applied Geodesy and Photogrammetry

MS Geomatics Engineering (GeoInformatics)
*National Graduate School of Engineering*
*University of the Philippines Diliman*
Quezon City 1101, PHL
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171130/c98c223d/attachment.html>

From bnhr.dev at gmail.com  Wed Nov 29 15:50:31 2017
From: bnhr.dev at gmail.com (Ben Hur Pintor)
Date: Thu, 30 Nov 2017 07:50:31 +0800
Subject: [QGIS-Developer] Queries on building QGIS 3.
In-Reply-To: <CAMtDFLKu4ipqsr3_HnXynaoYhdkOJcko5xVAr+oRuenQXMnCYg@mail.gmail.com>
References: <CAFAduOTs=z7BdozoUju3cGwkRqSnpAfh-Cw3UZOM-OGsySwL7g@mail.gmail.com>
 <CAMtDFLKu4ipqsr3_HnXynaoYhdkOJcko5xVAr+oRuenQXMnCYg@mail.gmail.com>
Message-ID: <CAFAduORbiADXMiR7ZgWz+Xjj0q1KswYSuwSDhGmo0=0iBBSjFA@mail.gmail.com>

Oh, so that's what the Locator was. Thanks!

On Thu, Nov 30, 2017 at 1:15 AM, Etienne Trimaille <
etienne.trimaille at gmail.com> wrote:

> 2017-11-29 17:09 GMT+01:00 Ben Hur Pintor <bnhr.dev at gmail.com>:
>
>> 3.) What's the update or plan for the Processing -> Commander function in
>> QGIS 3? I can't seem to find it in my build.
>>
>
> It has been killed. Look for the locator bar in the bottom left corner,
> ctrl+k ;-)
>
>
>>
>> Thank you in advance. Cheers!
>>
>> --
>>
>> *Engr. Ben Hur S. Pintor*
>> Senior Science Research Specialist
>> *IAMBlueCECAM Project 9: WebGIS for Mapping, Supporting, Decision-making,
>> and Promoting Ecological Services of Blue Carbon Ecosystems (BlueWebMapS)*
>> UP Training Center for Applied Geodesy and Photogrammetry
>>
>> MS Geomatics Engineering (GeoInformatics)
>> *National Graduate School of Engineering*
>> *University of the Philippines Diliman*
>> Quezon City 1101, PHL
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>


-- 
---

*Engr. Ben Hur S. Pintor*
Senior Science Research Specialist
*IAMBlueCECAM Project 9: WebGIS for Mapping, Supporting, Decision-making,
and Promoting Ecological Services of Blue Carbon Ecosystems (BlueWebMapS)*
UP Training Center for Applied Geodesy and Photogrammetry

MS Geomatics Engineering (GeoInformatics)
*National Graduate School of Engineering*
*University of the Philippines Diliman*
Quezon City 1101, PHL
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171130/de6ae631/attachment-0001.html>

From nirvn.asia at gmail.com  Wed Nov 29 21:13:15 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Thu, 30 Nov 2017 12:13:15 +0700
Subject: [QGIS-Developer] Processing modeler GUI unusable in KDE / Plasma
In-Reply-To: <4b790860-b451-85d8-3fdf-bea7dc08546f@carto.net>
References: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
 <CAB28AsjQ7f0xr_31uEMnEsZfS9KYqHJpWnjetkzbQ4F2M7Px8A@mail.gmail.com>
 <4b790860-b451-85d8-3fdf-bea7dc08546f@carto.net>
Message-ID: <CAC_qv=qgn++UKUH+0w5THAKbX3C2eb-heChhb-gmN3YfTMPLUg@mail.gmail.com>

There's a chance this commit (
https://github.com/qgis/QGIS/commit/f5702abae9dfeae8a73c335871375076132435de)
fixes your issue. Let me know.

On Thu, Nov 30, 2017 at 6:10 AM, Andreas Neumann <a.neumann at carto.net>
wrote:

> Hi Nyall,
>
> Unfortunately - turning off custom widgets in ccmake and reinstalling did
> not help.
>
> Andreas
>
>
>
> On 29.11.2017 23:42, Nyall Dawson wrote:
>
>> On 29 November 2017 at 23:32, Andreas Neumann <a.neumann at carto.net>
>> wrote:
>>
>>> Hi,
>>>
>>> Are there any KDE5 / Plasma users among the QGIS devs?
>>>
>>> For me the GUI of the modeler is pretty broken - see screenshot at
>>> http://www.carto.net/neumann/temp/processing_modelerer_kde.png
>>>
>>> I cannot access the list of inputs and algorithms as their screenspace
>>> shrinked to some minimal widget that can't be enlarged.
>>>
>>> Am I the only one suffering from this issue?
>>>
>>> Have you got the custom widgets installed? I suspect we are seeing a
>> resurgence of an old issue.
>>
>> Try removing the custom widgets, or reverting
>> https://github.com/qgis/QGIS/commit/5dce8edb
>>
>> Nyall
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171130/471f48b6/attachment.html>

From a.neumann at carto.net  Wed Nov 29 22:39:38 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 30 Nov 2017 07:39:38 +0100
Subject: [QGIS-Developer] Processing modeler GUI unusable in KDE / Plasma
In-Reply-To: <CAC_qv=qgn++UKUH+0w5THAKbX3C2eb-heChhb-gmN3YfTMPLUg@mail.gmail.com>
References: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
 <CAB28AsjQ7f0xr_31uEMnEsZfS9KYqHJpWnjetkzbQ4F2M7Px8A@mail.gmail.com>
 <4b790860-b451-85d8-3fdf-bea7dc08546f@carto.net>
 <CAC_qv=qgn++UKUH+0w5THAKbX3C2eb-heChhb-gmN3YfTMPLUg@mail.gmail.com>
Message-ID: <3671b235-8389-a94d-7b87-3659813b14ef@carto.net>

Hi Mathieu,

Thanks for your efforts! I just tested it - unfortunately, your commit 
does not solve my issue.

I also tested with a new virgin user profile to make sure there isn't 
some old setting causing the troubles.

Custom widgets support is also not enabled.

Thanks,

Andreas


On 30.11.2017 06:13, Mathieu Pellerin wrote:
> There's a chance this commit 
> (https://github.com/qgis/QGIS/commit/f5702abae9dfeae8a73c335871375076132435de) 
> fixes your issue. Let me know.
>
> On Thu, Nov 30, 2017 at 6:10 AM, Andreas Neumann <a.neumann at carto.net 
> <mailto:a.neumann at carto.net>> wrote:
>
>     Hi Nyall,
>
>     Unfortunately - turning off custom widgets in ccmake and
>     reinstalling did not help.
>
>     Andreas
>
>
>
>     On 29.11.2017 23:42, Nyall Dawson wrote:
>
>         On 29 November 2017 at 23:32, Andreas Neumann
>         <a.neumann at carto.net <mailto:a.neumann at carto.net>> wrote:
>
>             Hi,
>
>             Are there any KDE5 / Plasma users among the QGIS devs?
>
>             For me the GUI of the modeler is pretty broken - see
>             screenshot at
>             http://www.carto.net/neumann/temp/processing_modelerer_kde.png
>             <http://www.carto.net/neumann/temp/processing_modelerer_kde.png>
>
>             I cannot access the list of inputs and algorithms as their
>             screenspace
>             shrinked to some minimal widget that can't be enlarged.
>
>             Am I the only one suffering from this issue?
>
>         Have you got the custom widgets installed? I suspect we are
>         seeing a
>         resurgence of an old issue.
>
>         Try removing the custom widgets, or reverting
>         https://github.com/qgis/QGIS/commit/5dce8edb
>         <https://github.com/qgis/QGIS/commit/5dce8edb>
>
>         Nyall
>
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171130/aa28c8cf/attachment.html>

From nyall.dawson at gmail.com  Wed Nov 29 23:09:54 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 30 Nov 2017 17:09:54 +1000
Subject: [QGIS-Developer] Processing modeler GUI unusable in KDE / Plasma
In-Reply-To: <3671b235-8389-a94d-7b87-3659813b14ef@carto.net>
References: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
 <CAB28AsjQ7f0xr_31uEMnEsZfS9KYqHJpWnjetkzbQ4F2M7Px8A@mail.gmail.com>
 <4b790860-b451-85d8-3fdf-bea7dc08546f@carto.net>
 <CAC_qv=qgn++UKUH+0w5THAKbX3C2eb-heChhb-gmN3YfTMPLUg@mail.gmail.com>
 <3671b235-8389-a94d-7b87-3659813b14ef@carto.net>
Message-ID: <CAB28AsjQtq774kkKqUi3nO+pXiR1vM27pgcZrjLrSvje_thTpg@mail.gmail.com>

On 30 November 2017 at 16:39, Andreas Neumann <a.neumann at carto.net> wrote:
> Hi Mathieu,
>
> Thanks for your efforts! I just tested it - unfortunately, your commit does
> not solve my issue.
>
> I also tested with a new virgin user profile to make sure there isn't some
> old setting causing the troubles.
>
> Custom widgets support is also not enabled.

Can you try:
- revert https://github.com/qgis/QGIS/commit/5dce8edb
- build with custom widgets enabled and installed

I want to rule out the custom widgets, and I suspect just switching
them off in the build isn't enough to clean up the remnants of them.

Nyall

From matteo.ghetta at gmail.com  Wed Nov 29 23:17:45 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 30 Nov 2017 08:17:45 +0100
Subject: [QGIS-Developer] plugin size
In-Reply-To: <1511981266308-0.post@n6.nabble.com>
References: <29d91c44-ab28-89b6-bbab-6b6662a44e97@gmail.com>
 <1511981266308-0.post@n6.nabble.com>
Message-ID: <cafe57e4-cfa2-ab2b-ea0d-4059be41152d@gmail.com>

Hi Tom,

yes, moving the folder and running a script on every file to find and
replace the correct path is an option.

I'm sure that in some way also sphinx has some default option to handle
this.

Thanks for the hint ;)

Matteo

From a.neumann at carto.net  Wed Nov 29 23:37:04 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 30 Nov 2017 08:37:04 +0100
Subject: [QGIS-Developer] Processing modeler GUI unusable in KDE / Plasma
In-Reply-To: <CAB28AsjQtq774kkKqUi3nO+pXiR1vM27pgcZrjLrSvje_thTpg@mail.gmail.com>
References: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
 <CAB28AsjQ7f0xr_31uEMnEsZfS9KYqHJpWnjetkzbQ4F2M7Px8A@mail.gmail.com>
 <4b790860-b451-85d8-3fdf-bea7dc08546f@carto.net>
 <CAC_qv=qgn++UKUH+0w5THAKbX3C2eb-heChhb-gmN3YfTMPLUg@mail.gmail.com>
 <3671b235-8389-a94d-7b87-3659813b14ef@carto.net>
 <CAB28AsjQtq774kkKqUi3nO+pXiR1vM27pgcZrjLrSvje_thTpg@mail.gmail.com>
Message-ID: <37f00b33-b15b-9477-2cf4-c2fd45b6bc7b@carto.net>

Hi Nyall,

I reverted 5dce8edb

and built with custom widgets enabled.

Unfortunately, still the same problem.

Thanks,

Andreas


On 30.11.2017 08:09, Nyall Dawson wrote:
> On 30 November 2017 at 16:39, Andreas Neumann <a.neumann at carto.net> wrote:
>> Hi Mathieu,
>>
>> Thanks for your efforts! I just tested it - unfortunately, your commit does
>> not solve my issue.
>>
>> I also tested with a new virgin user profile to make sure there isn't some
>> old setting causing the troubles.
>>
>> Custom widgets support is also not enabled.
> Can you try:
> - revert https://github.com/qgis/QGIS/commit/5dce8edb
> - build with custom widgets enabled and installed
>
> I want to rule out the custom widgets, and I suspect just switching
> them off in the build isn't enough to clean up the remnants of them.
>
> Nyall


From etienne.trimaille at gmail.com  Thu Nov 30 00:02:15 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Thu, 30 Nov 2017 09:02:15 +0100
Subject: [QGIS-Developer] Processing modeler GUI unusable in KDE / Plasma
In-Reply-To: <37f00b33-b15b-9477-2cf4-c2fd45b6bc7b@carto.net>
References: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
 <CAB28AsjQ7f0xr_31uEMnEsZfS9KYqHJpWnjetkzbQ4F2M7Px8A@mail.gmail.com>
 <4b790860-b451-85d8-3fdf-bea7dc08546f@carto.net>
 <CAC_qv=qgn++UKUH+0w5THAKbX3C2eb-heChhb-gmN3YfTMPLUg@mail.gmail.com>
 <3671b235-8389-a94d-7b87-3659813b14ef@carto.net>
 <CAB28AsjQtq774kkKqUi3nO+pXiR1vM27pgcZrjLrSvje_thTpg@mail.gmail.com>
 <37f00b33-b15b-9477-2cf4-c2fd45b6bc7b@carto.net>
Message-ID: <CAMtDFL+PvBf+1jBYsb1JhbMQN22nk1KcAjSKA8t4zernGidUUw@mail.gmail.com>

I got the problem too for many months even if it was disabled in the cmake.
I needed to remove the qgis_customwidgets.py in the site-package folder of
Python

Maybe a `locate qgis_customwidgets.py` might help?

2017-11-30 8:37 GMT+01:00 Andreas Neumann <a.neumann at carto.net>:

> Hi Nyall,
>
> I reverted 5dce8edb
>
> and built with custom widgets enabled.
>
> Unfortunately, still the same problem.
>
> Thanks,
>
> Andreas
>
>
>
> On 30.11.2017 08:09, Nyall Dawson wrote:
>
>> On 30 November 2017 at 16:39, Andreas Neumann <a.neumann at carto.net>
>> wrote:
>>
>>> Hi Mathieu,
>>>
>>> Thanks for your efforts! I just tested it - unfortunately, your commit
>>> does
>>> not solve my issue.
>>>
>>> I also tested with a new virgin user profile to make sure there isn't
>>> some
>>> old setting causing the troubles.
>>>
>>> Custom widgets support is also not enabled.
>>>
>> Can you try:
>> - revert https://github.com/qgis/QGIS/commit/5dce8edb
>> - build with custom widgets enabled and installed
>>
>> I want to rule out the custom widgets, and I suspect just switching
>> them off in the build isn't enough to clean up the remnants of them.
>>
>> Nyall
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171130/c7e99b2f/attachment.html>

From a.neumann at carto.net  Thu Nov 30 00:14:57 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 30 Nov 2017 09:14:57 +0100
Subject: [QGIS-Developer] Processing modeler GUI unusable in KDE / Plasma
In-Reply-To: <CAMtDFL+PvBf+1jBYsb1JhbMQN22nk1KcAjSKA8t4zernGidUUw@mail.gmail.com>
References: <96f99313-c213-1f3f-018c-df39e4b13f91@carto.net>
 <CAB28AsjQ7f0xr_31uEMnEsZfS9KYqHJpWnjetkzbQ4F2M7Px8A@mail.gmail.com>
 <4b790860-b451-85d8-3fdf-bea7dc08546f@carto.net>
 <CAC_qv=qgn++UKUH+0w5THAKbX3C2eb-heChhb-gmN3YfTMPLUg@mail.gmail.com>
 <3671b235-8389-a94d-7b87-3659813b14ef@carto.net>
 <CAB28AsjQtq774kkKqUi3nO+pXiR1vM27pgcZrjLrSvje_thTpg@mail.gmail.com>
 <37f00b33-b15b-9477-2cf4-c2fd45b6bc7b@carto.net>
 <CAMtDFL+PvBf+1jBYsb1JhbMQN22nk1KcAjSKA8t4zernGidUUw@mail.gmail.com>
Message-ID: <01c8ab1c872f284ce678c3c8d7be90c1@carto.net>

Hi Etienne and Nyall, 

Indeed - removing the file "qgis_customwidgets.py" from
/usr/lib/python3/dist-packages/PyQt5/uic/widget-plugins brought the
Processing modeler back to normal! 

Cool! 

So now we at least do know that this is the culprit. 

Thanks,
Andreas 

On 2017-11-30 09:02, Etienne Trimaille wrote:

> I got the problem too for many months even if it was disabled in the cmake. 
> 
> I needed to remove the qgis_customwidgets.py in the site-package folder of Python 
> 
> Maybe a `locate qgis_customwidgets.py` might help? 
> 
> 2017-11-30 8:37 GMT+01:00 Andreas Neumann <a.neumann at carto.net>:
> Hi Nyall,
> 
> I reverted 5dce8edb
> 
> and built with custom widgets enabled.
> 
> Unfortunately, still the same problem.
> 
> Thanks,
> 
> Andreas 
> 
> On 30.11.2017 08:09, Nyall Dawson wrote:
> On 30 November 2017 at 16:39, Andreas Neumann <a.neumann at carto.net> wrote:
> Hi Mathieu,
> 
> Thanks for your efforts! I just tested it - unfortunately, your commit does
> not solve my issue.
> 
> I also tested with a new virgin user profile to make sure there isn't some
> old setting causing the troubles.
> 
> Custom widgets support is also not enabled. Can you try:
> - revert https://github.com/qgis/QGIS/commit/5dce8edb [1]
> - build with custom widgets enabled and installed
> 
> I want to rule out the custom widgets, and I suspect just switching
> them off in the build isn't enough to clean up the remnants of them.
> 
> Nyall

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]


 

Links:
------
[1] https://github.com/qgis/QGIS/commit/5dce8edb
[2] https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171130/c54aebf4/attachment.html>

From lists at borysjurgiel.pl  Thu Nov 30 02:43:17 2017
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Thu, 30 Nov 2017 11:43:17 +0100
Subject: [QGIS-Developer] A strange tooltip for GeoPackage's Create spatial
	index
Message-ID: <2041707.NLeAvnBoZ2@debian>

Hi All,

Am I right this tooltip is a common mistake or does it have a hidden meaning? 
:) Can I just remove it?

https://issues.qgis.org/attachments/download/11772/newgeopackagelayer.png

https://issues.qgis.org/issues/17578

Regards,

Borys

From matthias at opengis.ch  Thu Nov 30 03:10:30 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 30 Nov 2017 12:10:30 +0100
Subject: [QGIS-Developer] A strange tooltip for GeoPackage's Create
 spatial index
In-Reply-To: <2041707.NLeAvnBoZ2@debian>
References: <2041707.NLeAvnBoZ2@debian>
Message-ID: <7279eea6-a596-0f60-38c0-6e463a2acc51@opengis.ch>

Hi Borys,

I think it's safe to directly open a pull request for this change ;)

Matthias

On 11/30/2017 11:43 AM, Borys Jurgiel wrote:
> Hi All,
> 
> Am I right this tooltip is a common mistake or does it have a hidden meaning? 
> :) Can I just remove it?
> 
> https://issues.qgis.org/attachments/download/11772/newgeopackagelayer.png
> 
> https://issues.qgis.org/issues/17578
> 
> Regards,
> 
> Borys
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From lists at borysjurgiel.pl  Thu Nov 30 03:40:10 2017
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Thu, 30 Nov 2017 12:40:10 +0100
Subject: [QGIS-Developer] A strange tooltip for GeoPackage's Create
	spatial index
In-Reply-To: <7279eea6-a596-0f60-38c0-6e463a2acc51@opengis.ch>
References: <2041707.NLeAvnBoZ2@debian>
 <7279eea6-a596-0f60-38c0-6e463a2acc51@opengis.ch>
Message-ID: <20434170.33BqFZqHbW@debian>

PRs used to be overlooked ;) So I hope if anyone knows the hidden reason, he 
will say it here ;)

Borys

On czwartek, 30 listopada 2017 12:10:30 CET Matthias Kuhn wrote:
> Hi Borys,
> 
> I think it's safe to directly open a pull request for this change ;)
> 
> Matthias


From tim at kartoza.com  Thu Nov 30 03:51:50 2017
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 30 Nov 2017 13:51:50 +0200
Subject: [QGIS-Developer] plugin size
In-Reply-To: <29d91c44-ab28-89b6-bbab-6b6662a44e97@gmail.com>
References: <29d91c44-ab28-89b6-bbab-6b6662a44e97@gmail.com>
Message-ID: <AEF6EC8E-DD23-433B-882B-BAAD2525DDD0@kartoza.com>

Hi Matteo

You might want consider using the messaging framework we developed for InaSAFE. We used to use sphinx in the same way you do and struggled with it a) being very large to include in the plugin and b) requiring two separate translation workflows (Qt based and gettext based). The messaging package is currently bundled in InaSAFE here:

https://github.com/inasafe/inasafe/tree/develop/safe/messaging

But we could probably easily hive it of to its own pip package. The usage semantics allow for production of rich content which can be displaced in a web widget or exported to standalone pages. For example we produce http://manual.inasafe.org from the same code base we have in the plugin. Here is a simple example of how you use it to make a help page for a dialog:

https://github.com/inasafe/inasafe/blob/develop/safe/gui/tools/help/dock_help.py#L51

I would say the learning curve is not much higher than learning RsT and you have the advantage of your code and documentation all being managed in one place. I’d love to see this moved into QGIS core one day as I guess this is a really common requirement for plugin authors (and core devs…).

Regards

Tim


> On 29 Nov 2017, at 19:18, matteo <matteo.ghetta at gmail.com> wrote:
> 
> Hi devs,
> 
> I'm facing some issues with the plugin size and uploading. Currently the
> maximum size is around 20 MB.
> 
> The plugin [0] comes with an html manual (all done with sphinx) together
> with localization in other languages.
> 
> The problem is that when I compile the html with sphinx for all the
> languages (3 at the moment) the size exceeds the 20 MB. This happens
> because during the build sphinx copies all source images (images are
> willingly **not** localized) in all languages build folders, something
> like that:
> 
> matteo at matteo-computer:~/.local/share/QGIS/QGIS3/profiles/matteo/python/plugins/DataPlotly$
> tree help/build/html/ -L 2
> 
> help/build/html/
> ├── en
> │   ├── genindex.html
> │   ├── histogram.html
> │   ├── _images
> │   ├── index.html
> │   ├── intro.html
> │   ├── objects.inv
> │   ├── searchindex.js
> │   ├── _sources
> │   ├── _static
> │   └── ternary.html
> ├── it
> │   ├── genindex.html
> │   ├── histogram.html
> │   ├── _images
> │   ├── index.html
> │   ├── intro.html
> │   ├── objects.inv
> │   ├── searchindex.js
> │   ├── _sources
> │   ├── _static
> │   └── ternary.html
> └── nl
>    ├── genindex.html
>    ├── histogram.html
>    ├── _images
>    ├── index.html
>    ├── intro.html
>    ├── objects.inv
>    ├── searchindex.js
>    ├── _sources
>    ├── _static
>    └── ternary.html
> 
> 
> 
> the `_images` folder (for each language) weights 7MB so, basically that
> folder is the problem.
> One solution could be to copy the `_images` folder in the same directory
> of the languages, but I cannot figure out how to do this with sphinx
> options.
> 
> Has someone faced the same problem or has someone a workaround for that?
> 
> Thanks to all
> 
> Cheers
> 
> Matteo
> 
> [0] https://github.com/ghtmtt/DataPlotly/
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—







Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171130/9742768a/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171130/9742768a/attachment-0001.jpg>

From matteo.ghetta at gmail.com  Thu Nov 30 04:25:42 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 30 Nov 2017 13:25:42 +0100
Subject: [QGIS-Developer] plugin size
In-Reply-To: <AEF6EC8E-DD23-433B-882B-BAAD2525DDD0@kartoza.com>
References: <29d91c44-ab28-89b6-bbab-6b6662a44e97@gmail.com>
 <AEF6EC8E-DD23-433B-882B-BAAD2525DDD0@kartoza.com>
Message-ID: <946aff5a-d00e-3319-7f54-e97cef3c2eda@gmail.com>

Hi Tim,

> You might want consider using the messaging framework we developed for InaSAFE. We used to use sphinx in the same way you do and struggled with it a) being very large to include in the plugin and b) requiring two separate translation workflows (Qt based and gettext based). The messaging package is currently bundled in InaSAFE here:
> 
> https://github.com/inasafe/inasafe/tree/develop/safe/messaging
> 
> But we could probably easily hive it of to its own pip package. The usage semantics allow for production of rich content which can be displaced in a web widget or exported to standalone pages. For example we produce http://manual.inasafe.org from the same code base we have in the plugin. Here is a simple example of how you use it to make a help page for a dialog:
> 
> https://github.com/inasafe/inasafe/blob/develop/safe/gui/tools/help/dock_help.py#L51
> 
> I would say the learning curve is not much higher than learning RsT and you have the advantage of your code and documentation all being managed in one place. I’d love to see this moved into QGIS core one day as I guess this is a really common requirement for plugin authors (and core devs…).

oh, this sounds really good. I will have a look and try to dive in it.

In the meanwhile I solved the issue not directly with sphinx but with a
script that moves the images folder, removes the other ones and with sed
-i I'm replacing the correct paths in the html files (thanks Tom for the
hint)

The ugly script is here (that's maybe my second time with bash so it's
reeeealy ugly):

https://github.com/ghtmtt/DataPlotly/blob/master/help/replace_script.sh


Before with 2 languages the zip was 20 MB now with 3 languages is 16 MB.
Each language weights around 3MB. I did not try to move also the _static
folder in the same way I did for the _images one.

I know it's not the cleanest solution but (for the moment but not
forever ;) ) the problem seems solved.

Thanks again

Matteo



From carrillo.german at gmail.com  Thu Nov 30 04:44:30 2017
From: carrillo.german at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Carrillo?=)
Date: Thu, 30 Nov 2017 07:44:30 -0500
Subject: [QGIS-Developer] Does Polyline.intersects(Point) work in QGIS
	master?
In-Reply-To: <CAB28AshRk=9vKZOz30czHvRE9LCqQFf9-gFNmYyxdjg6Xj4iAg@mail.gmail.com>
References: <CANaz7mwvpPwMwvqun9MxjfX8SdU0bFiZoS5_TjGsW400PS8L4Q@mail.gmail.com>
 <CAB28AshRk=9vKZOz30czHvRE9LCqQFf9-gFNmYyxdjg6Xj4iAg@mail.gmail.com>
Message-ID: <CANaz7mzVoGjZqGONZFW2DfVf3hc-e7Un1oAbS3j12xpUSUZ0aQ@mail.gmail.com>

Thank you Nyall, that makes sense.

It would be nice to have a tolerance parameter so that this very little
discrepancies can also be found, but I guess one could snap one geometry to
the other (with such little distance as tolerance) and then run intersects.

Regards,

Germán

2017-11-29 17:56 GMT-05:00 Nyall Dawson <nyall.dawson at gmail.com>:

> On 29 November 2017 at 02:22, Germán Carrillo <carrillo.german at gmail.com>
> wrote:
> >
> > Hi devs,
> >
> >
> > do you know why this polyline
> >
> > >>> my_line = QgsGeometry().fromWkt('0 0, 963461.42999999970197678
> 1077875.79199999943375587, 1 1')
> >
> > and this point
> >
> > >>> my_point = QgsGeometry().fromWkt("Point (963461.430 1077875.792)")
> >
> > don't intersect?
> >
> > >>> my_line.intersects(my_point) # returns False
> >
>
> Because we use the GEOS library to test intersects, and it performs an
> exact intersection test. So 963461.42999999970197678
> 1077875.79199999943375587 is not the same as 963461.430 1077875.792.
>
> This is the same behaviour in 2.x, and all other GEOS based projects
> (e.g. PostGIS gives the same result).
>
> Nyall
>



-- 
-----------
   |\__
(:>__)(
   |/
Soluciones Geoinformáticas Libres
http://geotux.tuxfamily.org/
http://twitter.com/GeoTux2
http://about.me/germancarrillo

<http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171130/4153f5f4/attachment.html>

From matthias at opengis.ch  Thu Nov 30 05:00:20 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 30 Nov 2017 14:00:20 +0100
Subject: [QGIS-Developer] A strange tooltip for GeoPackage's Create
 spatial index
In-Reply-To: <20434170.33BqFZqHbW@debian>
References: <2041707.NLeAvnBoZ2@debian>
 <7279eea6-a596-0f60-38c0-6e463a2acc51@opengis.ch>
 <20434170.33BqFZqHbW@debian>
Message-ID: <098d7e4f-29f3-554e-4ba4-db5a55bb16a3@opengis.ch>

That must have been a long time ago.

On 11/30/2017 12:40 PM, Borys Jurgiel wrote:
> PRs used to be overlooked ;) So I hope if anyone knows the hidden reason, he 
> will say it here ;)
> 
> Borys
> 
> On czwartek, 30 listopada 2017 12:10:30 CET Matthias Kuhn wrote:
>> Hi Borys,
>>
>> I think it's safe to directly open a pull request for this change ;)
>>
>> Matthias
> 

From noreply at qgis.org  Thu Nov 30 06:57:47 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 30 Nov 2017 14:57:47 -0000
Subject: [QGIS-Developer] Plugin [500] Vgi2Shp approval notification.
Message-ID: <20171130145747.7569.28877@320558c5528b>


Plugin Vgi2Shp approval by pcav.
The plugin version "[500] Vgi2Shp 2.4" is now approved
Link: http://plugins.qgis.org/plugins/Vgi2ShpConverter/

From noreply at qgis.org  Thu Nov 30 23:08:43 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 01 Dec 2017 07:08:43 -0000
Subject: [QGIS-Developer] Plugin [1370] SentinelHub approval notification.
Message-ID: <20171201070843.11191.19836@320558c5528b>


Plugin SentinelHub approval by pcav.
The plugin version "[1370] SentinelHub 0.1" is now approved
Link: http://plugins.qgis.org/plugins/SentinelHub/

From noreply at qgis.org  Thu Nov 30 23:11:48 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 01 Dec 2017 07:11:48 -0000
Subject: [QGIS-Developer] Plugin [1370] SentinelHub approval notification.
Message-ID: <20171201071148.11193.39935@320558c5528b>


Plugin SentinelHub approval by zimbogisgeek.
The plugin version "[1370] SentinelHub 0.1" is now approved
Link: http://plugins.qgis.org/plugins/SentinelHub/

From noreply at qgis.org  Thu Nov 30 23:14:14 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 01 Dec 2017 07:14:14 -0000
Subject: [QGIS-Developer] Plugin [1354] PisteCreator approval notification.
Message-ID: <20171201071414.11195.85182@320558c5528b>


Plugin PisteCreator approval by zimbogisgeek.
The plugin version "[1354] PisteCreator 1.3.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/PisteCreator/

From noreply at qgis.org  Thu Nov 30 23:18:15 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 01 Dec 2017 07:18:15 -0000
Subject: [QGIS-Developer] Plugin [1366] GB Elevation approval notification.
Message-ID: <20171201071815.11190.79127@320558c5528b>


Plugin GB Elevation approval by zimbogisgeek.
The plugin version "[1366] GB Elevation 1.1" is now approved
Link: http://plugins.qgis.org/plugins/GBElevation/

