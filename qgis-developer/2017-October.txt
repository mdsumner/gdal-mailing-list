From rdmailings at duif.net  Sun Oct  1 05:08:12 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sun, 1 Oct 2017 14:08:12 +0200
Subject: [QGIS-Developer] 2.14 sip build problem?
Message-ID: <458a9732-1bac-127e-f796-507f851409fc@duif.net>

Hi Devs,

After my 'apt dist-upgrade' today (Debian Testing), all my (self build!)
qgis's segfaulted.

Luckily a clean compile was enough to resurrrect master and 2.18, but my
2.14 build still fails. To me looking like a sip problem?

Does this ring a bell to anyone?

[ 96%] Building CXX object
python/CMakeFiles/python_module_qgis__core.dir/core/sip_corepart0.cpp.o
/home/richard/dev/qgis/git/qgis214/build/python/core/sip_corepart0.cpp:15288:40:
error: conflicting declaration ‘PyObject* sipExportedExceptions__core [3]’

                                        ^
/home/richard/dev/qgis/git/qgis214/python/core/qgscoordinatetransform.sip:18:18:
note: previous declaration as ‘PyObject* sipExportedExceptions__core [2]’
 extern PyObject *sipExportedExceptions__core[2];  // workaround:
sipExportedExceptions__core is only defined in the first sip part
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~
python/CMakeFiles/python_module_qgis__core.dir/build.make:375: recipe
for target
'python/CMakeFiles/python_module_qgis__core.dir/core/sip_corepart0.cpp.o'
failed
make[2]: ***
[python/CMakeFiles/python_module_qgis__core.dir/core/sip_corepart0.cpp.o]
Error 1
CMakeFiles/Makefile2:3948: recipe for target
'python/CMakeFiles/python_module_qgis__core.dir/all' failed
make[1]: *** [python/CMakeFiles/python_module_qgis__core.dir/all] Error 2
Makefile:151: recipe for target 'all' failed
make: *** [all] Error 2

Regards,

Richard Duivenvoorde

ps note that 2.18 and master did not have this problem after rebuilding
ps2 yes I still need 2.14 sometimes for testing

From jef at norbit.de  Sun Oct  1 05:16:49 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sun, 1 Oct 2017 14:16:49 +0200
Subject: [QGIS-Developer] 2.14 sip build problem?
In-Reply-To: <458a9732-1bac-127e-f796-507f851409fc@duif.net>
References: <458a9732-1bac-127e-f796-507f851409fc@duif.net>
Message-ID: <20171001121648.fnk7wgifub4byzno@norbit.de>

Hi Richard,

On Sun, 01. Oct 2017 at 14:08:12 +0200, Richard Duivenvoorde wrote:
> Does this ring a bell to anyone?
> 
> [ 96%] Building CXX object
> python/CMakeFiles/python_module_qgis__core.dir/core/sip_corepart0.cpp.o
> /home/richard/dev/qgis/git/qgis214/build/python/core/sip_corepart0.cpp:15288:40:
> error: conflicting declaration ‘PyObject* sipExportedExceptions__core [3]’

See 2abb209d2 & b3fb4ed84


Jürgen


-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171001/7fe8f352/attachment.sig>

From noreply at qgis.org  Sun Oct  1 06:24:46 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sun, 01 Oct 2017 13:24:46 -0000
Subject: [QGIS-Developer] Plugin [796] Catalog Planet Labs approval
	notification.
Message-ID: <20171001132446.1262.41047@320558c5528b>


Plugin Catalog Planet Labs approval by pcav.
The plugin version "[796] Catalog Planet Labs 1.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/catalogpl_plugin/

From azvoleff at conservation.org  Sun Oct  1 10:02:23 2017
From: azvoleff at conservation.org (Alex Zvoleff)
Date: Sun, 1 Oct 2017 17:02:23 +0000
Subject: [QGIS-Developer] New plugin version approval
Message-ID: <MWHPR08MB28483D680D662A11E1D83DEEA87C0@MWHPR08MB2848.namprd08.prod.outlook.com>

I am currently conducting a workshop using the Land Degradation Monitoring Toolbox QGIS plugin (of which I am the developer). I am likely to need to make some updates to the plugin throughout the week as I receive comments from users. Is it possible for me to approve new versions of that plugin myself when I upload it? I seem to remember this used to be possible for a plugin I developed in the past, but I know the system has changed over the past few years. The reason I ask is that having the ability to readily update the version in the main QGIS repository (perhaps a few times this coming week) would make it easier for users at the workshop (and save the administrators of the repository from needing to approve multiple versions over the next few days).

Thanks,
Alex Zvoleff

--
Alex Zvoleff, PhD
Director, Data Science
Betty and Gordon Moore Center for Science
Conservation International
2011 Crystal Dr. Suite 500, Arlington, Virginia 22202, USA
Tel: +1-703-341-2749, Skype: azvoleff, http://www.conservation.org<http://www.conservation.org/>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171001/3ef14a95/attachment-0001.html>

From tom.chadwin at nnpa.org.uk  Sun Oct  1 11:55:31 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Sun, 1 Oct 2017 11:55:31 -0700 (MST)
Subject: [QGIS-Developer] New plugin version approval
In-Reply-To: <MWHPR08MB28483D680D662A11E1D83DEEA87C0@MWHPR08MB2848.namprd08.prod.outlook.com>
References: <MWHPR08MB28483D680D662A11E1D83DEEA87C0@MWHPR08MB2848.namprd08.prod.outlook.com>
Message-ID: <1506884131360-0.post@n6.nabble.com>

Hi Alex

Have you considered setting up your own plugin repo? I think you need some
hosting and an XML file - hopefully fairly easy to set up. 

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From tim at kartoza.com  Sun Oct  1 13:43:24 2017
From: tim at kartoza.com (Tim Sutton)
Date: Sun, 1 Oct 2017 22:43:24 +0200
Subject: [QGIS-Developer] New plugin version approval
In-Reply-To: <MWHPR08MB28483D680D662A11E1D83DEEA87C0@MWHPR08MB2848.namprd08.prod.outlook.com>
References: <MWHPR08MB28483D680D662A11E1D83DEEA87C0@MWHPR08MB2848.namprd08.prod.outlook.com>
Message-ID: <2CF89EBC-E9D0-4154-8F3A-431ABFAA0958@kartoza.com>

Hi


> On 01 Oct 2017, at 19:02, Alex Zvoleff <azvoleff at conservation.org> wrote:
> 
> I am currently conducting a workshop using the Land Degradation Monitoring Toolbox QGIS plugin (of which I am the developer). I am likely to need to make some updates to the plugin throughout the week as I receive comments from users. Is it possible for me to approve new versions of that plugin myself when I upload it? I seem to remember this used to be possible for a plugin I developed in the past, but I know the system has changed over the past few years. The reason I ask is that having the ability to readily update the version in the main QGIS repository (perhaps a few times this coming week) would make it easier for users at the workshop (and save the administrators of the repository from needing to approve multiple versions over the next few days).

You can find out more about the process here: http://blog.qgis.org/2016/08/26/what-are-trusted-plugins/ <http://blog.qgis.org/2016/08/26/what-are-trusted-plugins/> and also check the recent developer list archives there was a thread about it.

As Tom has mentioned, setting up a local repo for workshops etc. is probably preferable since we need to have sufficient time to review new publishing requests.

Regards

Tim


>  
> Thanks,
> Alex Zvoleff
>  
> -- 
> Alex Zvoleff, PhD
> Director, Data Science
> Betty and Gordon Moore Center for Science 
> Conservation International
> 2011 Crystal Dr. Suite 500, Arlington, Virginia 22202, USA
> Tel: +1-703-341-2749, Skype: azvoleff, http://www.conservation.org <http://www.conservation.org/>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171001/7c62b13d/attachment.html>

From nyall.dawson at gmail.com  Sun Oct  1 16:21:37 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 2 Oct 2017 09:21:37 +1000
Subject: [QGIS-Developer] QGIS and QLocale handling not used?
In-Reply-To: <592cf29d-1e16-bd1f-a946-7b901c09afff@duif.net>
References: <920e3554-237b-bcc5-a536-d1fd7ccaeae9@duif.net>
 <592cf29d-1e16-bd1f-a946-7b901c09afff@duif.net>
Message-ID: <CAB28AsiNptrssNgT-ORiBrTzHNomK_BwjQhJpbGrzSiS=+f9bg@mail.gmail.com>

On 30 September 2017 at 21:22, Richard Duivenvoorde <rdmailings at duif.net> wrote:
> On 30-09-17 10:18, Richard Duivenvoorde wrote:
>
>> Given QGIS is used in so many different languages/locales, I think QGIS3
>> is the right time to handle this in a proper way?
>>
>> Or is my testing just plain wrong :-)
>
> Ok, see comments at the issue [0], I think there is nothing wrong with
> the separator handling of the delimitedtextprovider.
> It would be cool though if the dialog would check the 'Decimal separator
> is comma' when the locale is european (and maybe show the locale there...)
>
> And my test was plain wrong: 1,0 will NEVER be a valid float in Python.
> '1,0' is, if you have the right locale, see [1]
> Note that this is about plain Python. In our case there is Qt in between...
>
> I think though that changing the locale and then asking for the locale
> in QGIS should show the locale used.
>
> I hope somebody can tell something about this?

I tried to clear up some of these issues during the Nodebo hackfest, but:

1. coming from a locale which uses the NORMAL "." as decimal
separator, I have no idea what the expected/proper behavior should be
for locales which use ","

2. no-one I asked from these locales could even give me a definitive
answer about what the correct behavior is

So I quickly decided to let someone else handle this mess ;)

Nyall

From nyall.dawson at gmail.com  Sun Oct  1 17:06:05 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 2 Oct 2017 10:06:05 +1000
Subject: [QGIS-Developer] Generic use of QgsLocator and friends?
In-Reply-To: <f71941de-4224-8849-3642-bebcd2a640c8@duif.net>
References: <48645ea8-f3a7-e862-cb4e-892996515245@duif.net>
 <CAB28AsienfUBk9RZ3mORN9fvh2Jf-mHtPivZVOAB+a=k9hBmHQ@mail.gmail.com>
 <f71941de-4224-8849-3642-bebcd2a640c8@duif.net>
Message-ID: <CAB28Asib4oMB=TcAoKB+JGtJmwE2BVNU5c0FMDdSUt7Wj67iMg@mail.gmail.com>

On 26 September 2017 at 17:03, Richard Duivenvoorde <rdmailings at duif.net> wrote:
> Hi Nyall,
>
> I agree with your point that multiple search-like widgets would clutter
> the interface, but I think a generic geocoder search widget could be a
> good candidate for for a second search widget
> Again plz see: https://github.com/qgis/QGIS-Enhancement-Proposals/issues/64

I (respectfully!) disagree. I think we diminish the usefulness of both
the geocoder and the locator if we split them into separate widgets,
further complexify the UI, and make things harder for plugin devs who
then need to decide between two mostly-overlapping interfaces to
utilise.

If there's issues or omissions which prevent the locator being awesome
for geocoding, let's just fix these instead of splitting things up.

> Some arguments:
> - historically I would look for it somewhere in the toolbar :-)

Problem here is that the toolbar is a very "fluid" piece of UI. Every
QGIS install I sit in front of has a different toolbar layout, and it
takes me time to locate buttons in that install. And i know EXACTLY
what I'm looking for. While this flexibility can be good, it also
presents a very real problem for people writing documentation and
training material for QGIS.

That's why I think the fixed "locator is ALWAYS in the bottom left"
rule is a valid approach for a UI component of this importance. It's
always there, regardless of what plugins and UI tweaks a user has
applied.

> - make the search a dockable widget (so free to use it in whatever toolbar)

Given the above, I'm a -1 here. BUT if the only other alternative is
two separate locator widgets, then I'll bend and compromise, and
suggest: "locator is in the bottom left. But you can turn on a
"locator" toolbar, and if you do that, the widget moves from the
bottom left up to the toolbar. Close the toolbar, and it goes back to
the lower left."

> - I hope/think that we will end up with a long list of geocoder
> implementations (as plugins I already see a LOT of different national
> versions...)

Me too!

> - the results of geocoders (like full address lines) can be pretty long.
> So I think a (dockable) widget (like a toolbar) would be most usefull
> for this

I think we just tweak the display of results in the locator to better
meet this need. There was already some discussion about this resulting
from a presentation at Nodebo, but no concrete suggestions/mockups
have emerged yet.

> - I think geocoders can be a little different beast as other locators,
> having different properties/functions too

Can you expand on this? When I wrote the locator it was with geocoders
in mind too, and there's already been some implemented for the
locator. I think it's just a refinement required here, not a restart.

> - one result list(!) of a geocoding search could be enough to navigate
> around (like searching for a street often results in different
> addresses/houses, so you can find individual houses by clicking on the
> individual addresses for some time).

I can't see any reason why this couldn't be done through the locator.
I'd suggest something like hovering over a result "flashes" the
geometry in the canvas as a quick preview (See
https://github.com/qgis/QGIS/pull/5268)

> Some features I would be happy with then:
> - make the search a dockable widget (so free to use it in whatever toolbar)

> - make the number of results a setting (now a hardcoded 30)

Configurable to users? Or plugins devs?

More implementable suggestions like these would be very welcome :)
Locator is still very young, and we've got time to tweak the API
before freeze.

Please don't read this email in the wrong way - i don't want it to
come across aggressive. Rather I'm also passionate about making
geocoding/searching better in QGIS, and I'm really glad to see this
discussion happening.

Nyall

From a.neumann at carto.net  Sun Oct  1 22:47:28 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 02 Oct 2017 07:47:28 +0200
Subject: [QGIS-Developer] QGIS and QLocale handling not used?
In-Reply-To: <CAB28AsiNptrssNgT-ORiBrTzHNomK_BwjQhJpbGrzSiS=+f9bg@mail.gmail.com>
References: <920e3554-237b-bcc5-a536-d1fd7ccaeae9@duif.net>
 <592cf29d-1e16-bd1f-a946-7b901c09afff@duif.net>
 <CAB28AsiNptrssNgT-ORiBrTzHNomK_BwjQhJpbGrzSiS=+f9bg@mail.gmail.com>
Message-ID: <48fb9d9e2e27445f0129c6a07fb3282f@carto.net>

Hi, 

It is really a mess. F.e. in Switzerland some cantons use the comma,
some the decimal point (officially). On the federal level they use the
comma - I guess this is what Switzerlands official positions is: use the
comma as decimal separator. BUT: in practice most people I know use the
point as a decimal separator. See also
https://en.wikipedia.org/wiki/Decimal_mark 

What a mess. Probably we are the only country listed in both sections:
comma and the point (depending on the province). I don't know who had
this brilliant idea that some provinces would use the one and some the
other. 

If someone works on locale changes, I would propose that there would be
a separate setting where people can choose if they want the point or the
comma as a decimal separator. 

Thanks and greetings, 

Andreas 

On 2017-10-02 01:21, Nyall Dawson wrote:

> On 30 September 2017 at 21:22, Richard Duivenvoorde <rdmailings at duif.net> wrote: On 30-09-17 10:18, Richard Duivenvoorde wrote:
> 
> Given QGIS is used in so many different languages/locales, I think QGIS3
> is the right time to handle this in a proper way?
> 
> Or is my testing just plain wrong :-) 
> Ok, see comments at the issue [0], I think there is nothing wrong with
> the separator handling of the delimitedtextprovider.
> It would be cool though if the dialog would check the 'Decimal separator
> is comma' when the locale is european (and maybe show the locale there...)
> 
> And my test was plain wrong: 1,0 will NEVER be a valid float in Python.
> '1,0' is, if you have the right locale, see [1]
> Note that this is about plain Python. In our case there is Qt in between...
> 
> I think though that changing the locale and then asking for the locale
> in QGIS should show the locale used.
> 
> I hope somebody can tell something about this?

I tried to clear up some of these issues during the Nodebo hackfest,
but:

1. coming from a locale which uses the NORMAL "." as decimal
separator, I have no idea what the expected/proper behavior should be
for locales which use ","

2. no-one I asked from these locales could even give me a definitive
answer about what the correct behavior is

So I quickly decided to let someone else handle this mess ;)

Nyall
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171002/6b588ed3/attachment-0001.html>

From noreply at qgis.org  Sun Oct  1 23:25:23 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 02 Oct 2017 06:25:23 -0000
Subject: [QGIS-Developer] Plugin [1340] ECO-Downloader approval notification.
Message-ID: <20171002062523.10783.3810@320558c5528b>


Plugin ECO-Downloader approval by zimbogisgeek.
The plugin version "[1340] ECO-Downloader 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/ECODownloader/

From phi73 at gmx.de  Sun Oct  1 23:31:17 2017
From: phi73 at gmx.de (Pat Hin)
Date: Mon, 2 Oct 2017 08:31:17 +0200
Subject: [QGIS-Developer] Adding own processing script to main menu
Message-ID: <trinity-43100f21-3dec-4253-8088-93c07b3fd161-1506925877173@3c-app-gmx-bs69>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171002/241d177b/attachment.html>

From rdmailings at duif.net  Sun Oct  1 23:58:51 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 2 Oct 2017 08:58:51 +0200
Subject: [QGIS-Developer] Generic use of QgsLocator and friends?
In-Reply-To: <CAB28Asib4oMB=TcAoKB+JGtJmwE2BVNU5c0FMDdSUt7Wj67iMg@mail.gmail.com>
References: <48645ea8-f3a7-e862-cb4e-892996515245@duif.net>
 <CAB28AsienfUBk9RZ3mORN9fvh2Jf-mHtPivZVOAB+a=k9hBmHQ@mail.gmail.com>
 <f71941de-4224-8849-3642-bebcd2a640c8@duif.net>
 <CAB28Asib4oMB=TcAoKB+JGtJmwE2BVNU5c0FMDdSUt7Wj67iMg@mail.gmail.com>
Message-ID: <9cb2dd97-46e7-bac0-8aeb-0c6cce4fa4d2@duif.net>

See inline

On 02-10-17 02:06, Nyall Dawson wrote:
> On 26 September 2017 at 17:03, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>> I agree with your point that multiple search-like widgets would clutter
>> the interface, but I think a generic geocoder search widget could be a
>> good candidate for for a second search widget
>> Again plz see: https://github.com/qgis/QGIS-Enhancement-Proposals/issues/64
> 
> I (respectfully!) disagree. I think we diminish the usefulness of both
> the geocoder and the locator if we split them into separate widgets,
> further complexify the UI, and make things harder for plugin devs who
> then need to decide between two mostly-overlapping interfaces to
> utilise.

No worries, after some rethinking I'm with you now :-)

>> - make the search a dockable widget (so free to use it in whatever toolbar)
> 
> Given the above, I'm a -1 here. BUT if the only other alternative is
> two separate locator widgets, then I'll bend and compromise, and
> suggest: "locator is in the bottom left. But you can turn on a
> "locator" toolbar, and if you do that, the widget moves from the
> bottom left up to the toolbar. Close the toolbar, and it goes back to
> the lower left."

Yes, yes! But maybe first wait for my first geocoder implementation.
I'm planning either to bring Nominatim or our national geocoder in it
(in Python first)...

>> Some features I would be happy with then:
...
>> - make the number of results a setting (now a hardcoded 30)
> 
> Configurable to users? Or plugins devs?

I think api would be fine, it could be one of the settings of a given
locator. Take the largest number from all locators?

> Please don't read this email in the wrong way - i don't want it to
> come across aggressive. Rather I'm also passionate about making
> geocoding/searching better in QGIS, and I'm really glad to see this
> discussion happening.

Again, no worries, I'm ok with some disagreement and discussion. I'm a
'meritocrat', given all your work (and thinking and communicating) you
have a lot of credits to disagree ;-)

Regards,

Richard

From lbartoletti at tuxfamily.org  Mon Oct  2 00:04:10 2017
From: lbartoletti at tuxfamily.org (lbartoletti at tuxfamily.org)
Date: Mon, 02 Oct 2017 09:04:10 +0200
Subject: [QGIS-Developer] API break: snapSegment
In-Reply-To: <CAC2XbFcJmPzUz+1moPtVzxxb012BHbmNvYwaWDVhUfycv+YMhA@mail.gmail.com>
References: <26a8143b-45da-3a0b-316c-73ff3ee2c654@tuxfamily.org>
 <CAC2XbFcJmPzUz+1moPtVzxxb012BHbmNvYwaWDVhUfycv+YMhA@mail.gmail.com>
Message-ID: <414bcbc75ef7885bea6a6a84f2cc5697@tuxfamily.org>

Hi Martin,

You rock!

Thanks.

On 2017-09-29 09:15, Martin Dobias wrote:
> Hi Loïc
> 
> On Tue, Sep 26, 2017 at 11:08 PM, L.Bartoletti
> <lbartoletti at tuxfamily.org> wrote:
>> Hi,
>> 
>> For a few days now QgsMapMouseEvent:: snapSegment is no longer usable
>> (moved). I need these tools to create circles with tangents
>> (https://github.com/qgis/QGIS/pull/4947).
>> 
>> Is there another way to get segments by snapping?
> 
> Yes - here's the code you need to snap to segments - equivalent to a
> snapSegment() call:
> 
> struct EdgesOnlyFilter : public QgsPointLocator::MatchFilter
> {
>   bool acceptMatch( const QgsPointLocator::Match &m ) override {
> return m.hasEdge(); }
> };
> 
> EdgesOnlyFilter filter;
> match = mapCanvas->snappingUtils()->snapToMap( mapPoint, &filter );
> 
> Regards
> Martin

From lbartoletti at tuxfamily.org  Mon Oct  2 00:06:20 2017
From: lbartoletti at tuxfamily.org (lbartoletti at tuxfamily.org)
Date: Mon, 02 Oct 2017 09:06:20 +0200
Subject: [QGIS-Developer] can't load plugins with QGIS custom widgets in
 windows
In-Reply-To: <CAJy=Xte=2E6iAtUf-TSbkKT69SUELLnx26mWpUg85NW6kBQ5Yg@mail.gmail.com>
References: <CAJy=XtcFF-gEwoMYvm6Ugqqub512BGA3AceLdNufBjzcXqEdbg@mail.gmail.com>
 <bff76fba-d239-82f6-0fae-36a4b13950f9@tuxfamily.org>
 <CAJy=Xte=2E6iAtUf-TSbkKT69SUELLnx26mWpUg85NW6kBQ5Yg@mail.gmail.com>
Message-ID: <186c57ff350369f97c6fbd18aea068cc@tuxfamily.org>

Hi Enrico,

Maybe add in your .ui files this snippet after the custom widgets 
section:

  <includes>
   <include location="local">qgis.gui</include>
  </includes>

Regards

Loïc

On 2017-09-29 09:43, Enrico Ferreguti wrote:
> Hi Loïc,
> I have no luck with your fix. I'm getting the same exception.
> 
> The uic module doesn't recognize the property
> QgsMapLayerProxyModel::RasterLayer of the custom widget as valid. I
> tried to remove the entire property section from .ui file and set it
> programmatically during the dialog __init__ with
> self.RasterLayer.setFilters(QgsMapLayerProxyModel.RasterLayer)
> 
> after setupUi but the widget does not load available layers...
> 
> Thanks anyway.
> 
> Enrico Ferreguti
> 
> 2017-09-28 22:12 GMT+02:00 L.Bartoletti <lbartoletti at tuxfamily.org>:
> 
>> Hi,
>> 
>> I have found the same problem on FreeBSD if custom widgets are not
>> installed.
>> 
>> My solution at least on FreeBSD and Windows (osgeo4w) use your .ui
>> (it's only a XML), search this:
>> 
>> <customwidget>
>> <class>YOUR CUSTOM WIDGET</class>
>> <extends>YOUR CUSTOM WIDGET</extends>
>> <header>YOUR CUSTOM WIDGET.h</header>
>> </customwidget>
>> 
>> and change the line containing a C++ header:
>> 
>> <header>YOUR CUSTOM WIDGET.h</header>
>> 
>> by :
>> 
>> <header>qgis.gui</header>
>> 
>> Regards.
>> 
>> Loïc
>> 
>> On 28.09.2017 16:54, Enrico Ferreguti wrote:
>> 
>> I'm getting the following exception:
>> 
>> AttributeError: unknown enum QgsMapLayerProxyModel::RasterLayer
>> 
>> loading a plugin with QGIS custom QT designer widget in windows
>> standalone QGIS 2.14 ltr and 2.18.
>> 
>> The exception doesn't affect linux and osgeo4win installations.
>> 
>> I found that this was a 2015 reported issue:
>> https://issues.qgis.org/issues/13428 [2]
>> 
>> and I solve it as suggested in
>> 
> https://lists.osgeo.org/pipermail/qgis-developer/2015-September/039196.html
>> [3] simply copying a file in the right place.
>> 
>> The fix is apparently easy and considering that Qt custom widgets
>> are widely used I can't figure why this old issue isn't yet solved.
>> 
>> Is it a qgis or an osgeo4win issue? Should I reopen a ticket?
>> 
>> Thanks. Enrico Ferreguti.
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> [1]
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> [1]
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [1]
> 
> 
> 
> Links:
> ------
> [1] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [2] https://issues.qgis.org/issues/13428
> [3] 
> https://lists.osgeo.org/pipermail/qgis-developer/2015-September/039196.html

From rdmailings at duif.net  Mon Oct  2 01:07:41 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 2 Oct 2017 10:07:41 +0200
Subject: [QGIS-Developer] QGIS and QLocale handling not used?
In-Reply-To: <48fb9d9e2e27445f0129c6a07fb3282f@carto.net>
References: <920e3554-237b-bcc5-a536-d1fd7ccaeae9@duif.net>
 <592cf29d-1e16-bd1f-a946-7b901c09afff@duif.net>
 <CAB28AsiNptrssNgT-ORiBrTzHNomK_BwjQhJpbGrzSiS=+f9bg@mail.gmail.com>
 <48fb9d9e2e27445f0129c6a07fb3282f@carto.net>
Message-ID: <19b6fef6-65e6-9f80-1934-19aaaaa2c70c@duif.net>


Yes, it always becomes messy with those different systems. Google for
'excel'-questions about number format :-)

For what I think now (after some quick research)

- internally all programming languages use point anyway
- locale is only for formatting (number and date-time strings) purposes
that you need the locale setting
Eg depending on your locale in Python, a number like 1.23e3 using
locale.atof() will be outputted as 1,230 in eu-locales and 1.230 in us ones.
- in The Netherlands most government officials have Dutch Windows
workstations: QGIS (and Office etc) will start up in dutch locale. So I
think(!) most people are then used to a comma as separator. But I also
see people struggle with the numberformat when they are sharing data in
spreadsheets etc etc.

My feeling now is that QGIS not really set the locale for Qt, but only
uses the 'language' setting to determine the gui-translations-strings.

IF people really want a localized QGIS, then QGIS should show(!!!) for
example numbers in the attribute table as localized strings (1,0 instead
of 1.0)
I'm not 100% sure others want that, myself I do NOT want comma's...
Not sure what we would have to use in expressions then though.... how
does Excel/Calc handle such things?

I need to do some more testing on different machines with different
locale, but my take now would be:
- Take system locale to know what gui language to use
- Make (2?) options for the locale:
1) a setting to tell load QGIS to be used in a certain language (what it
is now actually)
2) a true locale setting which loads the QtApplication (AND the Python
interpreter) in that locale (defaulting to system). This would make that
QGIS shows DateTime's and numbers in the chosen locale

I also wonder how other non western encodings and right-to-left writing
languages (Farsi eg) normally do these things.... Are they all
'westernized' in their computing? Or do they actually wish that things
were different?

Others?

Regards,

Richard Duivenvoorde


On 02-10-17 07:47, Andreas Neumann wrote:
> Hi,
> 
> It is really a mess. F.e. in Switzerland some cantons use the comma,
> some the decimal point (officially). On the federal level they use the
> comma - I guess this is what Switzerlands official positions is: use the
> comma as decimal separator. BUT: in practice most people I know use the
> point as a decimal separator. See
> also https://en.wikipedia.org/wiki/Decimal_mark
> 
> What a mess. Probably we are the only country listed in both sections:
> comma and the point (depending on the province). I don't know who had
> this brilliant idea that some provinces would use the one and some the
> other.
> 
> If someone works on locale changes, I would propose that there would be
> a separate setting where people can choose if they want the point or the
> comma as a decimal separator.
> 
> Thanks and greetings,
> 
> Andreas
> 
> 
> On 2017-10-02 01:21, Nyall Dawson wrote:
> 
>> On 30 September 2017 at 21:22, Richard Duivenvoorde
>> <rdmailings at duif.net <mailto:rdmailings at duif.net>> wrote:
>>> On 30-09-17 10:18, Richard Duivenvoorde wrote:
>>>
>>>> Given QGIS is used in so many different languages/locales, I think QGIS3
>>>> is the right time to handle this in a proper way?
>>>>
>>>> Or is my testing just plain wrong :-)
>>>
>>> Ok, see comments at the issue [0], I think there is nothing wrong with
>>> the separator handling of the delimitedtextprovider.
>>> It would be cool though if the dialog would check the 'Decimal separator
>>> is comma' when the locale is european (and maybe show the locale
>>> there...)
>>>
>>> And my test was plain wrong: 1,0 will NEVER be a valid float in Python.
>>> '1,0' is, if you have the right locale, see [1]
>>> Note that this is about plain Python. In our case there is Qt in
>>> between...
>>>
>>> I think though that changing the locale and then asking for the locale
>>> in QGIS should show the locale used.
>>>
>>> I hope somebody can tell something about this?
>>
>> I tried to clear up some of these issues during the Nodebo hackfest, but:
>>
>> 1. coming from a locale which uses the NORMAL "." as decimal
>> separator, I have no idea what the expected/proper behavior should be
>> for locales which use ","
>>
>> 2. no-one I asked from these locales could even give me a definitive
>> answer about what the correct behavior is
>>
>> So I quickly decided to let someone else handle this mess ;)
>>
>> Nyall
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From luipir at gmail.com  Mon Oct  2 01:37:51 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Mon, 2 Oct 2017 10:37:51 +0200
Subject: [QGIS-Developer] Call to replicate issue:
	https://issues.qgis.org/issues/16296
Message-ID: <CAFO80_qiUubGCroc30Uir-HfYsqP0YcH4ZN+PTczmp-AEDOdhA@mail.gmail.com>

Hi

I was working on issue https://issues.qgis.org/issues/16296 but I'm
not able to replicate in my
Win10- OSGeo4W qgis-rel-dev pacakge

but Giovanni Manghi is always facing this error. Detailed procedure to
replicate are in the atteched video of the issue.

Are there others facing with the same problem or it's a local issue ?

Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************

From a.neumann at carto.net  Mon Oct  2 01:58:15 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 02 Oct 2017 10:58:15 +0200
Subject: [QGIS-Developer] Can't search in QGIS issue tracker
Message-ID: <8598408acd92177ce9d90ea6ac99fc08@carto.net>

Hi, 

Currently, the search function for existing issues gives me an internal
error (redmine issue?) 

Not sure who could have a look at this issue - Richard or Jürgen? 

Anyway, I would be very grateful if you could have a look at fixing this
issue. Searching for issues is quite important during 3.0 bug fixing
period. 

Thanks a lot, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171002/f37c65d2/attachment-0001.html>

From a.neumann at carto.net  Mon Oct  2 02:05:01 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 02 Oct 2017 11:05:01 +0200
Subject: [QGIS-Developer] Can't search in QGIS issue tracker
In-Reply-To: <8598408acd92177ce9d90ea6ac99fc08@carto.net>
References: <8598408acd92177ce9d90ea6ac99fc08@carto.net>
Message-ID: <65eb972b8a5754a84965227e2cf7ec62@carto.net>

hm - file uploading also seems to be broken in Redmine. 

Perhaps the file system is full on the virtual machine? Or some other
issue with Redmine ... 

Andreas 

On 2017-10-02 10:58, Andreas Neumann wrote:

> Hi, 
> 
> Currently, the search function for existing issues gives me an internal error (redmine issue?) 
> 
> Not sure who could have a look at this issue - Richard or Jürgen? 
> 
> Anyway, I would be very grateful if you could have a look at fixing this issue. Searching for issues is quite important during 3.0 bug fixing period. 
> 
> Thanks a lot, 
> 
> Andreas 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171002/3d00dd1d/attachment.html>

From azvoleff at conservation.org  Mon Oct  2 02:25:11 2017
From: azvoleff at conservation.org (Alex Zvoleff)
Date: Mon, 2 Oct 2017 09:25:11 +0000
Subject: [QGIS-Developer] New plugin version approval
In-Reply-To: <1506884131360-0.post@n6.nabble.com>
References: <MWHPR08MB28483D680D662A11E1D83DEEA87C0@MWHPR08MB2848.namprd08.prod.outlook.com>
 <1506884131360-0.post@n6.nabble.com>
Message-ID: <MWHPR08MB28487BA7CC14804115682A8AA87D0@MWHPR08MB2848.namprd08.prod.outlook.com>

Thanks Tim, Tom and others. I hadn't considered the option of our own repo. I will keep this in mind. Thanks!

Best,
Alex

> -----Original Message-----
> From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On
> Behalf Of Tom Chadwin
> Sent: Sunday, October 01, 2017 9:56 PM
> To: qgis-developer at lists.osgeo.org
> Subject: Re: [QGIS-Developer] New plugin version approval
> 
> Hi Alex
> 
> Have you considered setting up your own plugin repo? I think you need some
> hosting and an XML file - hopefully fairly easy to set up.
> 
> Tom
> 
> 
> 
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From jef at norbit.de  Mon Oct  2 02:56:29 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 2 Oct 2017 11:56:29 +0200
Subject: [QGIS-Developer] Can't search in QGIS issue tracker
In-Reply-To: <8598408acd92177ce9d90ea6ac99fc08@carto.net>
References: <8598408acd92177ce9d90ea6ac99fc08@carto.net>
Message-ID: <20171002095629.cetxftobmb3euvod@norbit.de>

Hi Andreas,

On Mon, 02. Oct 2017 at 10:58:15 +0200, Andreas Neumann wrote:
> Currently, the search function for existing issues gives me an internal
> error (redmine issue?) 

Try again please.

Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171002/c1efa5c6/attachment.sig>

From noreply at qgis.org  Mon Oct  2 03:14:21 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 02 Oct 2017 10:14:21 -0000
Subject: [QGIS-Developer] Plugin [1338] Select by radius plus approval
	notification.
Message-ID: <20171002101421.17930.30665@320558c5528b>


Plugin Select by radius plus approval by zimbogisgeek.
The plugin version "[1338] Select by radius plus 0.1" is now approved
Link: http://plugins.qgis.org/plugins/qgis-select-by-radius-plus-plugin/

From motta.luiz at gmail.com  Mon Oct  2 03:23:59 2017
From: motta.luiz at gmail.com (Luiz Motta)
Date: Mon, 2 Oct 2017 07:23:59 -0300
Subject: [QGIS-Developer] Enable/Disable contextual menu layer
In-Reply-To: <CAC93zU2YWfRYhX04_w5C-7CHfEKZ4UMZ+mzZnMFQ3zQ6Bks+hQ@mail.gmail.com>
References: <CAC93zU2YWfRYhX04_w5C-7CHfEKZ4UMZ+mzZnMFQ3zQ6Bks+hQ@mail.gmail.com>
Message-ID: <CAC93zU2PVMPAoSzdNooKTJFMQPW6g1nMFpr+fuDV-PiDG0-1Fg@mail.gmail.com>

>
> Hi Devs,
>
> I am writing a plugin and i have this issue:
> The action inside the contextual menu of one layer when this is disabled,
> it not is show with gray color(default for disable item)
>
> Example code:
> https://pastebin.com/hSefEM7m
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171002/61dc8b5b/attachment.html>

From a.neumann at carto.net  Mon Oct  2 03:41:55 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 02 Oct 2017 12:41:55 +0200
Subject: [QGIS-Developer] Can't search in QGIS issue tracker
In-Reply-To: <20171002095629.cetxftobmb3euvod@norbit.de>
References: <8598408acd92177ce9d90ea6ac99fc08@carto.net>
 <20171002095629.cetxftobmb3euvod@norbit.de>
Message-ID: <309f1a0da7a706477480b5fa703d4ae8@carto.net>

Hi Jürgen, 

Both search and file upload work fine again. 

Thank you for fixing it! 

Andreas 

On 2017-10-02 11:56, Jürgen E. Fischer wrote:

> Hi Andreas,
> 
> On Mon, 02. Oct 2017 at 10:58:15 +0200, Andreas Neumann wrote: 
> 
>> Currently, the search function for existing issues gives me an internal
>> error (redmine issue?)
> 
> Try again please.
> 
> Jürgen 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171002/004e1a52/attachment.html>

From ricardo.garcia.silva at gmail.com  Mon Oct  2 04:41:36 2017
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Mon, 2 Oct 2017 12:41:36 +0100
Subject: [QGIS-Developer] Replacing a dialogue with another at runtime with
	Python
Message-ID: <CAFcNcQZr3BkARXENXCr1jWJPy14UqubQBCwX=SMZa69RdF5xiQ@mail.gmail.com>

Hi all

Is it possible to replace one of QGIS' dialogues with a custom one during
runtime by using Python?

My concrete goal is to replace the dialogue that shows when clicking the
'Add WMS/WMTS Layer' with something custom. I'd like to enhance the native
QGIS dialogue with additional elements for selecting additional dimensions,
like time or elevation.

Can this be done?

I'm thinking that I'd only have to replace whatever slot is currently
defined on the `iface.actionAddWmsLayer()` action with a custom function
that would load my UI instead. The problem is that I can't seem to find
where a signal's connected slots are stored with Qt.

Ideally there would be some introspection mechanism by which I'd be able to
retrieve which slots are associated with the action's `triggered` signal -
I can't seem to find it though. After knowing which slot(s) were connected
to the action's signal, I would presumably be able to `disconnect()` them
and then connect my own.

By looking at Qt's docs I thought that the QMetaObject class might be the
place to look, but I still cannot find anything that looks seems to hold
the registry of a signal's connected slots.

Thanks in advance :)



-- 
___________________________ ___ __
Ricardo Garcia Silva
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171002/ed27fa41/attachment-0001.html>

From michel.stuyts at edegem.be  Mon Oct  2 04:47:58 2017
From: michel.stuyts at edegem.be (Michel Stuyts)
Date: Mon, 2 Oct 2017 11:47:58 +0000
Subject: [QGIS-Developer] New plugin version approval
Message-ID: <027B53E50C22524F8DB7A9FA67F30A9301B234A4DE@S-Elsschot.edegem.be>

I wrote a local repo implementation in PHP a while ago, if you have a server with PHP you can use this simple script. You can find it on Github: https://github.com/mstuyts/phpQGISrepository

Michel

________________________________________
Van: QGIS-Developer [qgis-developer-bounces at lists.osgeo.org] namens Alex Zvoleff [azvoleff at conservation.org]
Verzonden: maandag 2 oktober 2017 11:25
Aan: Tom Chadwin; qgis-developer at lists.osgeo.org
Onderwerp: Re: [QGIS-Developer] New plugin version approval

Thanks Tim, Tom and others. I hadn't considered the option of our own repo. I will keep this in mind. Thanks!

Best,
Alex

> -----Original Message-----
> From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On
> Behalf Of Tom Chadwin
> Sent: Sunday, October 01, 2017 9:56 PM
> To: qgis-developer at lists.osgeo.org
> Subject: Re: [QGIS-Developer] New plugin version approval
>
> Hi Alex
>
> Have you considered setting up your own plugin repo? I think you need some
> hosting and an XML file - hopefully fairly easy to set up.
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From tim at kartoza.com  Mon Oct  2 05:05:25 2017
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 2 Oct 2017 14:05:25 +0200
Subject: [QGIS-Developer] QGIS Master freezes when pasting a feature into a
	geopackage layer
Message-ID: <29C1762A-2582-4883-8F7C-32472F6E45D4@kartoza.com>

Hi all

Does anyone else experience issues when trying to paste a feature from one layer (e.g. a shape file) into a GeoPackage vector layer? I’m getting this on MaxOS.

Regards

Tim

From noreply at qgis.org  Mon Oct  2 05:56:49 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 02 Oct 2017 12:56:49 -0000
Subject: [QGIS-Developer] Plugin [796] Catalog Planet Labs approval
	notification.
Message-ID: <20171002125649.17930.51681@320558c5528b>


Plugin Catalog Planet Labs approval by pcav.
The plugin version "[796] Catalog Planet Labs 1.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/catalogpl_plugin/

From matthias at opengis.ch  Mon Oct  2 06:56:00 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 2 Oct 2017 15:56:00 +0200
Subject: [QGIS-Developer] PSA: Travis CI / Docker / Failing Tests
Message-ID: <75f072dc-c418-4421-ac5f-ffea1305d3e6@opengis.ch>

Dear all,

we have recently been working on bringing travis ci to the next level
and moving all the testing that is done into a docker image.

This has the advantage that

- we can use newer dependencies for testing (currently Ubuntu 16.04
  repos compared to 14.04 repos before)

- tests can be run locally the same way that they are run in CI (to
  debug)

- we can upload docker images (nightlies and released versions) that can
  be used for plugin testing (only partially implemented so far)


During this process, some issues have been discovered, mostly concerning
compatibility with newer gdal versions and most of them fixed (kudos to
Even for his reactive and valuable help with this).

At the moment, we are left with 3 tests that are still failing:

- qgis_rastersublayertest
- PyQgsShapefileProvider
- PyQgsWFSProvider

The reasons that these tests fail are either because the tests
themselves are unstable and rely on very particular behavior of the
environment or because they actually point out real issues related to
newer dependencies.

It would be very welcome if the original authors of these tests or the
underlying functionality could have a look and either

- fix the tests
- fix the underlying issues that caused the tests to fail
- or disable the tests if they are no longer meaningful.

A patch has been prepared that disables parts of the tests that trigger
the failures which can be used as reference to find where things go wrong:

https://github.com/qgis/QGIS/pull/5256/commits/988aa78feded78634d8600c7baeb701558b23546

If there are no fixes in sight, this patch will be merged as part of PR
5256.

Thanks
Matthias

From noreply at qgis.org  Mon Oct  2 07:16:36 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 02 Oct 2017 14:16:36 -0000
Subject: [QGIS-Developer] Plugin [1305] Calidad-CAR approval notification.
Message-ID: <20171002141636.10783.28217@320558c5528b>


Plugin Calidad-CAR approval by pcav.
The plugin version "[1305] Calidad-CAR 0.8" is now approved
Link: http://plugins.qgis.org/plugins/CalidadCAR/

From a.neumann at carto.net  Mon Oct  2 07:54:34 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 02 Oct 2017 16:54:34 +0200
Subject: [QGIS-Developer] Question about QgsMessageBar
Message-ID: <953fd9b3b46abb4c00af22189b57c1cc@carto.net>

Hi, 

I have a Python plugin where I run a number of SQL Script that take a
bit longer. I would like to write out status messages about the progress
(not numerically, but indicating when a step is finished with a verbal
message). 

Now, when I issue three messages, QGIS waits until the whole script
finishes, then displays the last message first, and after it disappears
I can see the older messages that should have displayed before. 

Is there a way to force QGIS to actually display the message, while the
script is still running, and not wait until the script finishes? 

Thanks for your help, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171002/c43a8cbd/attachment.html>

From rdmailings at duif.net  Mon Oct  2 07:55:46 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 02 Oct 2017 14:55:46 +0000
Subject: [QGIS-Developer] Geopackage: ERROR: Too many connections: max 64 ?
Message-ID: <51b6f3444d92263294f89e37924d1da2@duif.net>


Hi Devs,

I created a geopackage from 144 individual (hourly data) shapefiles as 
individual tables (in one gpkg).

To load all those tables in QGIS I can 'load vector data', point to the 
gpkg, choose 'select all' and then OK.

BUT: it looks like both in 2.18 and in master it for every table QGIS 
(or OGR?) creates a connection?
In my Debug builds the loading takes several minutes showing me msg 
like:

src/providers/ogr/qgsogrprovider.cpp: 3196: (OGRDestroyWrapper) [167ms] 
GPKG: Trying to return to delete mode
src/providers/ogr/qgsogrprovider.cpp: 3214: (OGRDestroyWrapper) [0ms] 
Return: In ExecuteSQL(): sqlite3_step(PRAGMA journal_mode = delete):
   database is locked
src/providers/ogr/qgsogrprovider.cpp: 3224: (OGRDestroyWrapper) [3ms] 
GPKG: Trying again
ERROR: Too many connections: max 64

And when I close the project or try to create a new project this happens 
again:

src/providers/ogr/qgsogrprovider.cpp: 3224: (OGRDestroyWrapper) [4ms] 
GPKG: Trying again
src/providers/ogr/qgsogrprovider.cpp: 3242: (OGRDestroyWrapper) [163ms] 
Return: wal
src/providers/ogr/qgsogrprovider.cpp: 3196: (OGRDestroyWrapper) [5ms] 
GPKG: Trying to return to delete mode
src/providers/ogr/qgsogrprovider.cpp: 3214: (OGRDestroyWrapper) [1ms] 
Return: In ExecuteSQL(): sqlite3_step(PRAGMA journal_mode = delete):
   database is locked

In general both processes will finally end, but I think this is/will be 
a problem in the future?

Note that loading the 144 shapefiles take a lot less time.

I'm not sure if I'm stretching the usability of GeoPackage too much 
here?
(my plan is/was to create a grouplayer-player, a group(p)layer: some 
buttons for given layergroup to show/hide the next layer thereby having 
a poor-man's 'time'-manager...

Is it possible (at least for the loading of several tables at once) to 
do the opening/closin sequential over the same connections.

Or should we 'just' make 'max 64' 'max 6400' ;-)

Is there a solution thinkable for this, should I create an issue?

Regards,

Richard Duivenvoorde

PS: Happy to provide the (1.1 Gb) Geopackage I created for testing.
(note that the 144 shapefile were also almost 1Gb, BUT zipped it is 
about 250Mb).

PS2: Also trying to discuss this in the light of the future of gpkg in 
QGIS.






From even.rouault at spatialys.com  Mon Oct  2 08:18:19 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 02 Oct 2017 17:18:19 +0200
Subject: [QGIS-Developer] Geopackage: ERROR: Too many connections: max
	64 ?
In-Reply-To: <51b6f3444d92263294f89e37924d1da2@duif.net>
References: <51b6f3444d92263294f89e37924d1da2@duif.net>
Message-ID: <1549255.7v0Q3IW1RS@even-i700>

On lundi 2 octobre 2017 14:55:46 CEST Richard Duivenvoorde wrote:
> Hi Devs,
> 
> I created a geopackage from 144 individual (hourly data) shapefiles as
> individual tables (in one gpkg).
> 
> To load all those tables in QGIS I can 'load vector data', point to the
> gpkg, choose 'select all' and then OK.
> 
> BUT: it looks like both in 2.18 and in master it for every table QGIS
> (or OGR?) creates a connection?
> In my Debug builds the loading takes several minutes showing me msg
> like:
> 
> src/providers/ogr/qgsogrprovider.cpp: 3196: (OGRDestroyWrapper) [167ms]
> GPKG: Trying to return to delete mode
> src/providers/ogr/qgsogrprovider.cpp: 3214: (OGRDestroyWrapper) [0ms]
> Return: In ExecuteSQL(): sqlite3_step(PRAGMA journal_mode = delete):
>    database is locked
> src/providers/ogr/qgsogrprovider.cpp: 3224: (OGRDestroyWrapper) [3ms]
> GPKG: Trying again
> ERROR: Too many connections: max 64

Hi Richard,

After digging a bit, i found that this error comes from libspatialite. The reason is that the 
OGR GPKG driver enables spatialite for each OGR GeoPackage datasource, so as to benefit 
from spatialite functions. When you activate spatialite for a sqlite connection, you have to 
create a "spatialite context", and apparently there is a hardcoded (well a #define constants) 
limitation to 64 in spatialite.

The core of the problem is that for each geopackage layer added in your QGIS project, you 
instanciate a QgsOgrProvider object which opens a OGR datasource object, which opens a 
spatialite connection and sqlite3 resources as well. So this doesn't scale very well. Even if 
spatialite has not that limitation, at some point you would hit the default limitation of 1024 
open file descriptors on Linux (you would hit it for approximatively (1024 - some_constant) / 
3 ~= 300 layers, since in wal mode, you need to have 3 handles opened)

It would be better if that each QgsOgrProvider that refers to the same OGR datasource could 
effectively share the same OGR datasource object. But there would be issues in multi-
threaded contexts in doing so in a naive way, so (all) OGR calls to a shared datasource should 
be protected with a mutex.

So this is probably actionable, but not a 5 minute fix.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171002/9994e696/attachment-0001.html>

From strk at kbt.io  Mon Oct  2 08:23:14 2017
From: strk at kbt.io (Sandro Santilli)
Date: Mon, 2 Oct 2017 17:23:14 +0200
Subject: [QGIS-Developer] PSA: Travis CI / Docker / Failing Tests
In-Reply-To: <75f072dc-c418-4421-ac5f-ffea1305d3e6@opengis.ch>
References: <75f072dc-c418-4421-ac5f-ffea1305d3e6@opengis.ch>
Message-ID: <20171002152314.xyimgnqq72vplod3@liz>

On Mon, Oct 02, 2017 at 03:56:00PM +0200, Matthias Kuhn wrote:

> At the moment, we are left with 3 tests that are still failing:
> 
> - qgis_rastersublayertest
> - PyQgsShapefileProvider
> - PyQgsWFSProvider

[...]

> It would be very welcome if the original authors of these tests or the

I think I might be the author of qgis_rastersublayertest but could
not verify as all of these failed:

  $ find . -name qgis_rastersublayertest.c
  $ find . -name rastersublayertest.c
  $ find . -name '*rastersublayertest*'
  $ git grep qgis_rastersublayertest
  $ git grep rastersublayertest

Frustration took over and I gave up.
Does anyone have an hint about improving this situation ?
It keeps striking me everytime I'm looking for the source code
of a test...

PS: after writing this I went with `git grep rastersublayer` and
    saw the light (but the issue remain, I would not want to
    try my luck again with the other two...)

--strk;

From even.rouault at spatialys.com  Mon Oct  2 08:31:31 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 02 Oct 2017 17:31:31 +0200
Subject: [QGIS-Developer] PSA: Travis CI / Docker / Failing Tests
In-Reply-To: <75f072dc-c418-4421-ac5f-ffea1305d3e6@opengis.ch>
References: <75f072dc-c418-4421-ac5f-ffea1305d3e6@opengis.ch>
Message-ID: <1825310.Ob7ixPcv11@even-i700>

On lundi 2 octobre 2017 15:56:00 CEST Matthias Kuhn wrote:
> Dear all,
> 
> we have recently been working on bringing travis ci to the next level
> and moving all the testing that is done into a docker image.
> 
> This has the advantage that
> 
> - we can use newer dependencies for testing (currently Ubuntu 16.04
>   repos compared to 14.04 repos before)
> 
> - tests can be run locally the same way that they are run in CI (to
>   debug)
> 
> - we can upload docker images (nightlies and released versions) that can
>   be used for plugin testing (only partially implemented so far)
> 
> 
> During this process, some issues have been discovered, mostly concerning
> compatibility with newer gdal versions and most of them fixed (kudos to
> Even for his reactive and valuable help with this).
> 
> At the moment, we are left with 3 tests that are still failing:
> 
> - qgis_rastersublayertest
> - PyQgsShapefileProvider
> - PyQgsWFSProvider
> 
> The reasons that these tests fail are either because the tests
> themselves are unstable and rely on very particular behavior of the
> environment or because they actually point out real issues related to
> newer dependencies.
> 
> It would be very welcome if the original authors of these tests or the
> underlying functionality could have a look and either
> 
> - fix the tests
> - fix the underlying issues that caused the tests to fail
> - or disable the tests if they are no longer meaningful.
> 
> A patch has been prepared that disables parts of the tests that trigger
> the failures which can be used as reference to find where things go wrong:
> 
> https://github.com/qgis/QGIS/pull/5256/commits/988aa78feded78634d8600c7baeb7
> 01558b23546
> 
> If there are no fixes in sight, this patch will be merged as part of PR
> 5256.

The PyQgsWFSProvider was added by me, but I won't have time to look at that in the next 
days, so go ahead.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171002/61752019/attachment.html>

From strk at kbt.io  Mon Oct  2 08:32:06 2017
From: strk at kbt.io (Sandro Santilli)
Date: Mon, 2 Oct 2017 17:32:06 +0200
Subject: [QGIS-Developer] PSA: Travis CI / Docker / Failing Tests
In-Reply-To: <20171002152314.xyimgnqq72vplod3@liz>
References: <75f072dc-c418-4421-ac5f-ffea1305d3e6@opengis.ch>
 <20171002152314.xyimgnqq72vplod3@liz>
Message-ID: <20171002153206.6pu2eca4nxypng3h@liz>

On Mon, Oct 02, 2017 at 05:23:14PM +0200, Sandro Santilli wrote:

> I think I might be the author of qgis_rastersublayertest but could

For the record: I was not (phew!)

--strk;

From werner.macho at gmail.com  Mon Oct  2 12:47:14 2017
From: werner.macho at gmail.com (Werner Macho)
Date: Mon, 2 Oct 2017 21:47:14 +0200
Subject: [QGIS-Developer] New plugin version approval
In-Reply-To: <MWHPR08MB28487BA7CC14804115682A8AA87D0@MWHPR08MB2848.namprd08.prod.outlook.com>
References: <MWHPR08MB28483D680D662A11E1D83DEEA87C0@MWHPR08MB2848.namprd08.prod.outlook.com>
 <1506884131360-0.post@n6.nabble.com>
 <MWHPR08MB28487BA7CC14804115682A8AA87D0@MWHPR08MB2848.namprd08.prod.outlook.com>
Message-ID: <CA+3oMju=_0-MMCoKqzxQo=kTQnOSth+GdTpB_ZBLV4m_EfhrSQ@mail.gmail.com>

Hi!

Just for the records (in case you did not find it already):

https://github.com/mstuyts/phpQGISrepository

regards
Werner

On Mon, Oct 2, 2017 at 11:25 AM, Alex Zvoleff <azvoleff at conservation.org>
wrote:

> Thanks Tim, Tom and others. I hadn't considered the option of our own
> repo. I will keep this in mind. Thanks!
>
> Best,
> Alex
>
> > -----Original Message-----
> > From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On
> > Behalf Of Tom Chadwin
> > Sent: Sunday, October 01, 2017 9:56 PM
> > To: qgis-developer at lists.osgeo.org
> > Subject: Re: [QGIS-Developer] New plugin version approval
> >
> > Hi Alex
> >
> > Have you considered setting up your own plugin repo? I think you need
> some
> > hosting and an XML file - hopefully fairly easy to set up.
> >
> > Tom
> >
> >
> >
> > -----
> > Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> > --
> > Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> > f4099106.html
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171002/4574de14/attachment.html>

From noreply at qgis.org  Mon Oct  2 17:35:52 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 03 Oct 2017 00:35:52 -0000
Subject: [QGIS-Developer] Plugin [407] geopunt4Qgis approval notification.
Message-ID: <20171003003552.31537.66140@320558c5528b>


Plugin geopunt4Qgis approval by pcav.
The plugin version "[407] geopunt4Qgis 1.7.1" is now approved
Link: http://plugins.qgis.org/plugins/geopunt4Qgis/

From noreply at qgis.org  Mon Oct  2 17:36:34 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 03 Oct 2017 00:36:34 -0000
Subject: [QGIS-Developer] Plugin [796] Catalog Planet Labs approval
	notification.
Message-ID: <20171003003634.1262.46514@320558c5528b>


Plugin Catalog Planet Labs approval by pcav.
The plugin version "[796] Catalog Planet Labs 1.3 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/catalogpl_plugin/

From etienne.trimaille at gmail.com  Tue Oct  3 01:09:58 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Tue, 3 Oct 2017 10:09:58 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
Message-ID: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>

Hi devs,

We would like to start testing QGIS Server 3: OGC services and Python
plugins.

I think I read that the QGIS Server refactoring was finished and it seems
that most of OGC tests are working:
http://37.187.164.233/ogc/latest_wms_1_3_0.html

Is it possible to have the status of QGIS Server 3?
Are there some major known issues? Are Python plugins fully supported? Can
we start porting plugins to the QGIS 3 Server API? Is there some highlights
to know for Python plugins?

Thanks for the all the work which has been done!

Regards,
Etienne
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171003/6b5688c6/attachment.html>

From regis.haubourg at gmail.com  Tue Oct  3 02:19:15 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 3 Oct 2017 11:19:15 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
Message-ID: <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>

Hi Etienne,

from my point of view, this is the perfect time to start stressing QGIS
server 3! We just discussed bout starting working with it this morning on a
new project.

Maybe Alessandro and René-Luc can tell us more about the plugin side.

Paul is currently fixing issues raised by the OGC test engines. Richard,
could you find some time to expose them on a public url?

Regards,
Régis


2017-10-03 10:09 GMT+02:00 Etienne Trimaille <etienne.trimaille at gmail.com>:

> Hi devs,
>
> We would like to start testing QGIS Server 3: OGC services and Python
> plugins.
>
> I think I read that the QGIS Server refactoring was finished and it seems
> that most of OGC tests are working: http://37.187.164.
> 233/ogc/latest_wms_1_3_0.html
>
> Is it possible to have the status of QGIS Server 3?
> Are there some major known issues? Are Python plugins fully supported? Can
> we start porting plugins to the QGIS 3 Server API? Is there some highlights
> to know for Python plugins?
>
> Thanks for the all the work which has been done!
>
> Regards,
> Etienne
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171003/4fc08276/attachment.html>

From a.neumann at carto.net  Tue Oct  3 04:01:22 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 03 Oct 2017 13:01:22 +0200
Subject: [QGIS-Developer] QGIS3D in OSGeo4W
Message-ID: <7e80124f9cdc1ab8171b3229c35ff4aa@carto.net>

Hi Windows packagers - probably Jürgen? 

Now that QGIS 3D is in master - do you plan to enable this compile
option? A requirement is the upgrade of qt to version 5.9. Do you see
any blockers upgrading to qt 5.9 or can this be done? 

Thanks for the discussion, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171003/9ca12c49/attachment.html>

From anitagraser at gmx.at  Tue Oct  3 05:25:06 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Tue, 3 Oct 2017 14:25:06 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
Message-ID: <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>

On Tue, Oct 3, 2017 at 11:19 AM, Régis Haubourg <regis.haubourg at gmail.com>
wrote:

> Hi Etienne,
>
> from my point of view, this is the perfect time to start stressing QGIS
> server 3! We just discussed bout starting working with it this morning on a
> new project.
>
> Maybe Alessandro and René-Luc can tell us more about the plugin side.
>
> Paul is currently fixing issues raised by the OGC test engines. Richard,
> could you find some time to expose them on a public url?
>
>
​What would you think about publishing a QGIS Server update on blog.qgis.org
once the latest information has been gathered? I'd like to see Server
presented and advertised more ​widely.

​I'd be glad to help write the post if someone can help with the necessary
insights.

Regards,
Anita​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171003/97f3ddc5/attachment-0001.html>

From ricardo.garcia.silva at gmail.com  Tue Oct  3 07:09:22 2017
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Tue, 3 Oct 2017 15:09:22 +0100
Subject: [QGIS-Developer] Replacing a dialogue with another at runtime
	with Python
In-Reply-To: <CAFcNcQZr3BkARXENXCr1jWJPy14UqubQBCwX=SMZa69RdF5xiQ@mail.gmail.com>
References: <CAFcNcQZr3BkARXENXCr1jWJPy14UqubQBCwX=SMZa69RdF5xiQ@mail.gmail.com>
Message-ID: <CAFcNcQYM4pL=uqz2j42ZT+YXZjrMQnSmYHm1cUgLkzzKp89imQ@mail.gmail.com>

Hi all

Answering my own question for posterity

Turns out I can disconnect all slots from a signal by calling
`my_action.triggered.disconnect()` without any arguments. My goal of
replacing the native QGIS 'Add WMS/WMTS layer' dialogue with another one
can be achieved like this:

```python

def my_handler():
    print("Hello")

action = iface.actionAddWmsLayer()
action.triggered.disconnect()
action.triggered.connect(my_handler)
```

This leaves another problem to be solved: How to restore the native QGIS
dialogue when my would-be plugin is deactivated by the user. The following
seems to work on QGIS 2.18:

```
provider_registry = qgis.core.QgsProviderRegistry.instance()
add_wms_dialog = provider_registry.selectWidget("wms")
action.triggered.disconnect()
action.triggered.connect(add_wms_dialog.show)

```

Best regards



On Mon, Oct 2, 2017 at 12:41 PM, Ricardo Filipe Soares Garcia da <
ricardo.garcia.silva at gmail.com> wrote:

> Hi all
>
> Is it possible to replace one of QGIS' dialogues with a custom one during
> runtime by using Python?
>
> My concrete goal is to replace the dialogue that shows when clicking the
> 'Add WMS/WMTS Layer' with something custom. I'd like to enhance the native
> QGIS dialogue with additional elements for selecting additional dimensions,
> like time or elevation.
>
> Can this be done?
>
> I'm thinking that I'd only have to replace whatever slot is currently
> defined on the `iface.actionAddWmsLayer()` action with a custom function
> that would load my UI instead. The problem is that I can't seem to find
> where a signal's connected slots are stored with Qt.
>
> Ideally there would be some introspection mechanism by which I'd be able
> to retrieve which slots are associated with the action's `triggered` signal
> - I can't seem to find it though. After knowing which slot(s) were
> connected to the action's signal, I would presumably be able to
> `disconnect()` them and then connect my own.
>
> By looking at Qt's docs I thought that the QMetaObject class might be the
> place to look, but I still cannot find anything that looks seems to hold
> the registry of a signal's connected slots.
>
> Thanks in advance :)
>
>
>
> --
> ___________________________ ___ __
> Ricardo Garcia Silva
>



-- 
___________________________ ___ __
Ricardo Garcia Silva
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171003/e8eac490/attachment.html>

From denis.rouzaud at gmail.com  Tue Oct  3 07:21:15 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Tue, 03 Oct 2017 14:21:15 +0000
Subject: [QGIS-Developer] Replacing a dialogue with another at runtime
 with Python
In-Reply-To: <CAFcNcQYM4pL=uqz2j42ZT+YXZjrMQnSmYHm1cUgLkzzKp89imQ@mail.gmail.com>
References: <CAFcNcQZr3BkARXENXCr1jWJPy14UqubQBCwX=SMZa69RdF5xiQ@mail.gmail.com>
 <CAFcNcQYM4pL=uqz2j42ZT+YXZjrMQnSmYHm1cUgLkzzKp89imQ@mail.gmail.com>
Message-ID: <CAMtsY+Y_q8FsOK=RaN_sAOzOpt96vq1As_PaeDnvsrhbOoykAg@mail.gmail.com>

Hi Ricardo,

Sorry to bother, but I think this kind of hack should be discouraged.

This modifies QGIS behavior in a hidden way by replacing native dialogs.
And as you pointed, there is probably no way of uninstalling your plugin
properly. It will require QGIS to restart to work as expected, which is not
that bad, but still.

If you think current behavior is not optimal, I would suggest to either:
* bring your improvements into master instead of a plugin
* create a dedicated button and menu entry in your plugin for your
customized dialog

With the latter option, I think it would be possible to add your menu entry
and button in the layer menu and layer toolbar, respectively.

Just my two cents.

Denis





Le mar. 3 oct. 2017 à 16:09, Ricardo Filipe Soares Garcia da <
ricardo.garcia.silva at gmail.com> a écrit :

> Hi all
>
> Answering my own question for posterity
>
> Turns out I can disconnect all slots from a signal by calling
> `my_action.triggered.disconnect()` without any arguments. My goal of
> replacing the native QGIS 'Add WMS/WMTS layer' dialogue with another one
> can be achieved like this:
>
> ```python
>
> def my_handler():
>     print("Hello")
>
> action = iface.actionAddWmsLayer()
> action.triggered.disconnect()
> action.triggered.connect(my_handler)
> ```
>
> This leaves another problem to be solved: How to restore the native QGIS
> dialogue when my would-be plugin is deactivated by the user. The following
> seems to work on QGIS 2.18:
>
> ```
> provider_registry = qgis.core.QgsProviderRegistry.instance()
> add_wms_dialog = provider_registry.selectWidget("wms")
> action.triggered.disconnect()
> action.triggered.connect(add_wms_dialog.show)
>
> ```
>
> Best regards
>
>
>
> On Mon, Oct 2, 2017 at 12:41 PM, Ricardo Filipe Soares Garcia da <
> ricardo.garcia.silva at gmail.com> wrote:
>
>> Hi all
>>
>> Is it possible to replace one of QGIS' dialogues with a custom one during
>> runtime by using Python?
>>
>> My concrete goal is to replace the dialogue that shows when clicking the
>> 'Add WMS/WMTS Layer' with something custom. I'd like to enhance the native
>> QGIS dialogue with additional elements for selecting additional dimensions,
>> like time or elevation.
>>
>> Can this be done?
>>
>> I'm thinking that I'd only have to replace whatever slot is currently
>> defined on the `iface.actionAddWmsLayer()` action with a custom function
>> that would load my UI instead. The problem is that I can't seem to find
>> where a signal's connected slots are stored with Qt.
>>
>> Ideally there would be some introspection mechanism by which I'd be able
>> to retrieve which slots are associated with the action's `triggered` signal
>> - I can't seem to find it though. After knowing which slot(s) were
>> connected to the action's signal, I would presumably be able to
>> `disconnect()` them and then connect my own.
>>
>> By looking at Qt's docs I thought that the QMetaObject class might be the
>> place to look, but I still cannot find anything that looks seems to hold
>> the registry of a signal's connected slots.
>>
>> Thanks in advance :)
>>
>>
>>
>> --
>> ___________________________ ___ __
>> Ricardo Garcia Silva
>>
>
>
>
> --
> ___________________________ ___ __
> Ricardo Garcia Silva
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171003/cebbaa71/attachment.html>

From ricardo.garcia.silva at gmail.com  Tue Oct  3 07:48:01 2017
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Tue, 3 Oct 2017 15:48:01 +0100
Subject: [QGIS-Developer] Replacing a dialogue with another at runtime
 with Python
In-Reply-To: <CAMtsY+Y_q8FsOK=RaN_sAOzOpt96vq1As_PaeDnvsrhbOoykAg@mail.gmail.com>
References: <CAFcNcQZr3BkARXENXCr1jWJPy14UqubQBCwX=SMZa69RdF5xiQ@mail.gmail.com>
 <CAFcNcQYM4pL=uqz2j42ZT+YXZjrMQnSmYHm1cUgLkzzKp89imQ@mail.gmail.com>
 <CAMtsY+Y_q8FsOK=RaN_sAOzOpt96vq1As_PaeDnvsrhbOoykAg@mail.gmail.com>
Message-ID: <CAFcNcQbYxPYaR6pC7gifdSucTseQ53Vpnn=BomnTL9cZWLhTcA@mail.gmail.com>

Hi Dennis

On Tue, Oct 3, 2017 at 3:21 PM, Denis Rouzaud <denis.rouzaud at gmail.com>
wrote:

> Hi Ricardo,
>
> Sorry to bother, but I think this kind of hack should be discouraged.
>


No bother at all :)

I am just playing around with some ideas for improving the WMS layer
support. The whole 'hijack QGIS native dialog' thing is just a sidetrack
that is not really my main goal. It just seemed like a wacky, fun idea to
try out. just to see if it is possible!




>
> This modifies QGIS behavior in a hidden way by replacing native dialogs.
> And as you pointed, there is probably no way of uninstalling your plugin
> properly. It will require QGIS to restart to work as expected, which is not
> that bad, but still.
>
> If you think current behavior is not optimal, I would suggest to either:
> * bring your improvements into master instead of a plugin
>


That might be the plan for the long run. For now I'm just having some fun
at lunch break ;)




> * create a dedicated button and menu entry in your plugin for your
> customized dialog
>
> With the latter option, I think it would be possible to add your menu
> entry and button in the layer menu and layer toolbar, respectively.
>


Yeah I am aware there is a proper way to do this, and this is not it. This
is just toying and poking at stuff to see what is possible.
On a more "serious" tone, I agree with you 100%. This is not something that
I'd be putting out there for the world to use.




>
> Just my two cents.
>
> Denis
>
>

Cheers



>
>
>
>
> Le mar. 3 oct. 2017 à 16:09, Ricardo Filipe Soares Garcia da <
> ricardo.garcia.silva at gmail.com> a écrit :
>
>> Hi all
>>
>> Answering my own question for posterity
>>
>> Turns out I can disconnect all slots from a signal by calling
>> `my_action.triggered.disconnect()` without any arguments. My goal of
>> replacing the native QGIS 'Add WMS/WMTS layer' dialogue with another one
>> can be achieved like this:
>>
>> ```python
>>
>> def my_handler():
>>     print("Hello")
>>
>> action = iface.actionAddWmsLayer()
>> action.triggered.disconnect()
>> action.triggered.connect(my_handler)
>> ```
>>
>> This leaves another problem to be solved: How to restore the native QGIS
>> dialogue when my would-be plugin is deactivated by the user. The following
>> seems to work on QGIS 2.18:
>>
>> ```
>> provider_registry = qgis.core.QgsProviderRegistry.instance()
>> add_wms_dialog = provider_registry.selectWidget("wms")
>> action.triggered.disconnect()
>> action.triggered.connect(add_wms_dialog.show)
>>
>> ```
>>
>> Best regards
>>
>>
>>
>> On Mon, Oct 2, 2017 at 12:41 PM, Ricardo Filipe Soares Garcia da <
>> ricardo.garcia.silva at gmail.com> wrote:
>>
>>> Hi all
>>>
>>> Is it possible to replace one of QGIS' dialogues with a custom one
>>> during runtime by using Python?
>>>
>>> My concrete goal is to replace the dialogue that shows when clicking the
>>> 'Add WMS/WMTS Layer' with something custom. I'd like to enhance the native
>>> QGIS dialogue with additional elements for selecting additional dimensions,
>>> like time or elevation.
>>>
>>> Can this be done?
>>>
>>> I'm thinking that I'd only have to replace whatever slot is currently
>>> defined on the `iface.actionAddWmsLayer()` action with a custom function
>>> that would load my UI instead. The problem is that I can't seem to find
>>> where a signal's connected slots are stored with Qt.
>>>
>>> Ideally there would be some introspection mechanism by which I'd be able
>>> to retrieve which slots are associated with the action's `triggered` signal
>>> - I can't seem to find it though. After knowing which slot(s) were
>>> connected to the action's signal, I would presumably be able to
>>> `disconnect()` them and then connect my own.
>>>
>>> By looking at Qt's docs I thought that the QMetaObject class might be
>>> the place to look, but I still cannot find anything that looks seems to
>>> hold the registry of a signal's connected slots.
>>>
>>> Thanks in advance :)
>>>
>>>
>>>
>>> --
>>> ___________________________ ___ __
>>> Ricardo Garcia Silva
>>>
>>
>>
>>
>> --
>> ___________________________ ___ __
>> Ricardo Garcia Silva
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>


-- 
___________________________ ___ __
Ricardo Garcia Silva
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171003/3b33885c/attachment-0001.html>

From delazj at gmail.com  Tue Oct  3 08:09:32 2017
From: delazj at gmail.com (DelazJ)
Date: Tue, 3 Oct 2017 17:09:32 +0200
Subject: [QGIS-Developer] Customize list of algorithms shown in Vector or
	Raster menu
Message-ID: <CAECJsSowX7dqyNYtCeUHsuXQFjXRw4VQe9nDyFAziOzEMc-T_Q@mail.gmail.com>

Hi,

By default, some of the Processing algorithms have a shortcut in Vector or
Raster menu. Most of them are equivalent to the old Ftools or GDALTools
core plugins items.

Question: Is it (/will it be) possible for end users to extend these menus
with any of the other core algorithms? Or is that menu structure hardcoded
in QGIS (regardless what plugins can do)?

Thanks,
Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171003/8a0e3d34/attachment.html>

From etienne.trimaille at gmail.com  Tue Oct  3 08:22:03 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Tue, 3 Oct 2017 17:22:03 +0200
Subject: [QGIS-Developer] Customize list of algorithms shown in Vector
 or Raster menu
In-Reply-To: <CAECJsSowX7dqyNYtCeUHsuXQFjXRw4VQe9nDyFAziOzEMc-T_Q@mail.gmail.com>
References: <CAECJsSowX7dqyNYtCeUHsuXQFjXRw4VQe9nDyFAziOzEMc-T_Q@mail.gmail.com>
Message-ID: <CAMtDFL+LkTJzf=QRii9qs0xVoWLLX4WpR+M9=yhdoi3htB=cAg@mail.gmail.com>

Hi,

It's already possible in QGIS 2. In your processing options, you can setup
your own vector and raster menus.

2017-10-03 17:09 GMT+02:00 DelazJ <delazj at gmail.com>:

> Hi,
>
> By default, some of the Processing algorithms have a shortcut in Vector or
> Raster menu. Most of them are equivalent to the old Ftools or GDALTools
> core plugins items.
>
> Question: Is it (/will it be) possible for end users to extend these menus
> with any of the other core algorithms? Or is that menu structure hardcoded
> in QGIS (regardless what plugins can do)?
>
> Thanks,
> Harrissou
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171003/fb8a042c/attachment.html>

From delazj at gmail.com  Tue Oct  3 09:30:51 2017
From: delazj at gmail.com (DelazJ)
Date: Tue, 3 Oct 2017 18:30:51 +0200
Subject: [QGIS-Developer] Customize list of algorithms shown in Vector
 or Raster menu
In-Reply-To: <CAMtDFL+LkTJzf=QRii9qs0xVoWLLX4WpR+M9=yhdoi3htB=cAg@mail.gmail.com>
References: <CAECJsSowX7dqyNYtCeUHsuXQFjXRw4VQe9nDyFAziOzEMc-T_Q@mail.gmail.com>
 <CAMtDFL+LkTJzf=QRii9qs0xVoWLLX4WpR+M9=yhdoi3htB=cAg@mail.gmail.com>
Message-ID: <CAECJsSpiRjjkRo2FHXhcpb=2-fUwB6=SPWHR1HCppDP8h-A6HA@mail.gmail.com>

Merci Etienne. I find them.
Do you know if only Vector and Raster menus are allowed or could I set my
own main menu? (i know i can test but... :) )

2017-10-03 17:22 GMT+02:00 Etienne Trimaille <etienne.trimaille at gmail.com>:

> Hi,
>
> It's already possible in QGIS 2. In your processing options, you can setup
> your own vector and raster menus.
>
> 2017-10-03 17:09 GMT+02:00 DelazJ <delazj at gmail.com>:
>
>> Hi,
>>
>> By default, some of the Processing algorithms have a shortcut in Vector
>> or Raster menu. Most of them are equivalent to the old Ftools or GDALTools
>> core plugins items.
>>
>> Question: Is it (/will it be) possible for end users to extend these
>> menus with any of the other core algorithms? Or is that menu structure
>> hardcoded in QGIS (regardless what plugins can do)?
>>
>> Thanks,
>> Harrissou
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171003/4fa156a2/attachment.html>

From etienne.trimaille at gmail.com  Tue Oct  3 23:33:15 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Wed, 4 Oct 2017 08:33:15 +0200
Subject: [QGIS-Developer] Customize list of algorithms shown in Vector
 or Raster menu
In-Reply-To: <CAECJsSpiRjjkRo2FHXhcpb=2-fUwB6=SPWHR1HCppDP8h-A6HA@mail.gmail.com>
References: <CAECJsSowX7dqyNYtCeUHsuXQFjXRw4VQe9nDyFAziOzEMc-T_Q@mail.gmail.com>
 <CAMtDFL+LkTJzf=QRii9qs0xVoWLLX4WpR+M9=yhdoi3htB=cAg@mail.gmail.com>
 <CAECJsSpiRjjkRo2FHXhcpb=2-fUwB6=SPWHR1HCppDP8h-A6HA@mail.gmail.com>
Message-ID: <CAMtDFLKmAbm7qxR9UwD41sctf8MSGz-rizPM7t78DVS2cC7i5w@mail.gmail.com>

De rien ;-)

I've never tried something else than the vector or the raster menu.

2017-10-03 18:30 GMT+02:00 DelazJ <delazj at gmail.com>:

> Merci Etienne. I find them.
> Do you know if only Vector and Raster menus are allowed or could I set my
> own main menu? (i know i can test but... :) )
>
> 2017-10-03 17:22 GMT+02:00 Etienne Trimaille <etienne.trimaille at gmail.com>
> :
>
>> Hi,
>>
>> It's already possible in QGIS 2. In your processing options, you can
>> setup your own vector and raster menus.
>>
>> 2017-10-03 17:09 GMT+02:00 DelazJ <delazj at gmail.com>:
>>
>>> Hi,
>>>
>>> By default, some of the Processing algorithms have a shortcut in Vector
>>> or Raster menu. Most of them are equivalent to the old Ftools or GDALTools
>>> core plugins items.
>>>
>>> Question: Is it (/will it be) possible for end users to extend these
>>> menus with any of the other core algorithms? Or is that menu structure
>>> hardcoded in QGIS (regardless what plugins can do)?
>>>
>>> Thanks,
>>> Harrissou
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/ca93d333/attachment.html>

From blackwhitekez at gmail.com  Wed Oct  4 00:27:52 2017
From: blackwhitekez at gmail.com (Patrick Dunford)
Date: Wed, 4 Oct 2017 20:27:52 +1300
Subject: [QGIS-Developer] Building QGIS2.99 cloned from GitHub on Ubuntu
 16.10 (yakkety) 64-bit Python
Message-ID: <edb71c0c-9e01-80d0-b39c-de4fda40c803@gmail.com>

At the moment building on Xubuntu 17.10 I get this:

[ 81%] Generating ui_DlgAddGeometryColumn.py
An unexpected error occurred.
Check that you are using the latest version of PyQt5 and send an error 
report to
support at riverbankcomputing.com, including the following information:
   * your version of PyQt (5.7)
   * the UI file that caused this error
   * the debug output of pyuic5 (use the -d flag when calling pyuic5)
python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/build.make:72: 
recipe for target 'python/plugins/db_manager/ui_DlgAddGeometryColumn.py' 
failed
make[2]: *** [python/plugins/db_manager/ui_DlgAddGeometryColumn.py] Error 1
make[2]: *** Deleting file 
'python/plugins/db_manager/ui_DlgAddGeometryColumn.py'
CMakeFiles/Makefile2:4928: recipe for target 
'python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/all' 
failed
make[1]: *** 
[python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/all] 
Error 2
Makefile:162: recipe for target 'all' failed
make: *** [all] Error 2



  [Qgis-developer] Building QGIS2.99 cloned from GitHub on Ubuntu 16.10
  (yakkety) 64-bit Python

*gordon at shieldaig.com*gordon at 
shieldaig.com<mailto:qgis-developer%40lists.osgeo.org?Subject=Re%3A%20%5BQgis-developer%5D%20Building%20QGIS2.99%20cloned%20from%20GitHub%20on%20Ubuntu%0A%2016.10%20%28yakkety%29%2064-bit%20Python&In-Reply-To=%3C3e36e36f0ac4e7d7238a8586d626ec31%40shieldaig.com%3E>
/Thu Feb 9 18:26:47 PST 2017/

  * Previous message (by thread):[Qgis-developer] Building QGIS2.99
    cloned from GitHub on Ubuntu 17.04 (zesty) 64-bit Python
    <http://lists.osgeo.org/pipermail/qgis-developer/2017-February/047081.html>
  * Next message (by thread):[Qgis-developer] Building QGIS2.99 cloned
    from GitHub on Ubuntu 16.10 (yakkety) 64-bit Python
    <http://lists.osgeo.org/pipermail/qgis-developer/2017-February/047005.html>
  * *Messages sorted by:*[ date ]
    <http://lists.osgeo.org/pipermail/qgis-developer/2017-February/date.html#47004>[
    thread ]
    <http://lists.osgeo.org/pipermail/qgis-developer/2017-February/thread.html#47004>[
    subject ]
    <http://lists.osgeo.org/pipermail/qgis-developer/2017-February/subject.html#47004>[
    author ]
    <http://lists.osgeo.org/pipermail/qgis-developer/2017-February/author.html#47004>

------------------------------------------------------------------------

This is what I changed to get what I had to build on Ubuntu 16.10.  I am
using the free open source version of Qt directly from their website.

1.  I used the Qt Maintenance tool to install a local copy of Qt 5.7.1,
to be consistent with `pyqt5-dev`, `pyqt5-dev-tools` and some other
python packages, and modified `ccmake ..` to use it except for Qt5WebKit
and Qt5WebKitWidgets which remained as configured.  That means in the
ccmake I changed the path from Qt5Concurrent_DIR to Qt5Xml_DIR to
`/home/<my username>/Qt/5.7/gcc_64/lib/cmake/...`

2.  I modified `qendian.h` in the Qt 5.7 folder `include/QtCore` I made
beginning section of the Qt 5.7 file the same as Qt 5.6 for
QT_HAS_BUILTIN ie.

`#ifdef __has_builtin
#  define QT_HAS_BUILTIN(x)     __has_builtin(x)
#else
#  define QT_HAS_BUILTIN(x)     0
#endif`

3.  In folder QGIS/src/core/qgis.h I added the line `#include
<QIODevice>` before all other includes.  This eliminate a problem with a
`isTransactionStarted` missing member of IODevice Class.  I did this
because the header said must be included before any `open`.

4.  In folder QGIS/src/gui/qgisgui.h I added the line `#include
<QIODevice>` before all other includes.  This eliminate a problem with a
`isTransactionStarted` missing member of IODevice Class.

5.  In folder QGIS/src/gui/qgshelp.h I added the line `#include
<QIODevice>` before all other includes.  This eliminate a problem with a
`isTransactionStarted` missing member of IODevice Class.

Hopefully these changes will point the development team or someone to
problems building on Ubuntu 16.10 64-bit - I did a full upgraded to it
from 16.04 just a few days ago.  I did install `geos` 3.6 from source
but that probably made little difference but a fix of that issue is now
on Github.

At [ 89%] Generating ui_DlgCreateConstraint.py

`Segmentation fault (core dumped)
python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/build.make:72:
recipe for target 'python/plugins/db_manager/ui_DlgAddGeometryColumn.py'
failed
make[2]: *** [python/plugins/db_manager/ui_DlgAddGeometryColumn.py]
Error 139
make[2]: *** Waiting for unfinished jobs....
Segmentation fault (core dumped)
python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/build.make:76:
recipe for target 'python/plugins/db_manager/ui_DlgCreateConstraint.py'
failed
make[2]: *** [python/plugins/db_manager/ui_DlgCreateConstraint.py] Error
139
CMakeFiles/Makefile2:5428: recipe for target
'python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/all'
failed
make[1]: ***
[python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/all]
Error 2
make[1]: *** Waiting for unfinished jobs....`

The build continued until:
`[ 94%] Linking CXX shared library ../../output/lib/libqgis_app.so
[ 94%] Built target qgis_app`

There may have been an easier way but I didn't know what it was.  I am
not that familiar with Qt.  I haven't resolve the db_manager issue.
Anyone know how to fix that?

Gordon

On 2017-02-09 03:50, Jürgen E. Fischer wrote:
>/Hi Gordon, />//>/On Wed, 08. Feb 2017 at 18:01:52 -0500, gordon at shieldaig.com 
<https://lists.osgeo.org/mailman/listinfo/qgis-developer> wrote: />>/This is what I discovered. />>//>>/On Ubuntu 16.10 the following packages: `pyqt5-dev pyqt5-dev-tools />>/pyqt5.qsci-dev` seem to be the Qt 5.7 version. />>/I removed them and reinstalled to confirm. Then I deleted the build />>/folder and started over. />//>/As a shortcut you can also build debian packages (see INSTALL). That />/will take />/care of the dependencies (ie. complain about what's missing) and leave />/a build />/directory in debian/build. You could also interrupt the build once />/it's />/setup. />//>//>/Jürgen />//>/_______________________________________________ />/Qgis-developer mailing list />/Qgis-developer at lists.osgeo.org 
<https://lists.osgeo.org/mailman/listinfo/qgis-developer> />/List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer />/Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer /

------------------------------------------------------------------------

  * Previous message (by thread):[Qgis-developer] Building QGIS2.99
    cloned from GitHub on Ubuntu 17.04 (zesty) 64-bit Python
    <http://lists.osgeo.org/pipermail/qgis-developer/2017-February/047081.html>
  * Next message (by thread):[Qgis-developer] Building QGIS2.99 cloned
    from GitHub on Ubuntu 16.10 (yakkety) 64-bit Python
    <http://lists.osgeo.org/pipermail/qgis-developer/2017-February/047005.html>
  * *Messages sorted by:*[ date ]
    <http://lists.osgeo.org/pipermail/qgis-developer/2017-February/date.html#47004>[
    thread ]
    <http://lists.osgeo.org/pipermail/qgis-developer/2017-February/thread.html#47004>[
    subject ]
    <http://lists.osgeo.org/pipermail/qgis-developer/2017-February/subject.html#47004>[
    author ]
    <http://lists.osgeo.org/pipermail/qgis-developer/2017-February/author.html#47004>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/7c228cd5/attachment-0001.html>

From a.neumann at carto.net  Wed Oct  4 01:00:23 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 4 Oct 2017 10:00:23 +0200
Subject: [QGIS-Developer] QGIS 3 vertex editor problems
Message-ID: <e8df4061-302a-035d-7a87-cde65fd4430f@carto.net>

Hi,

In QGIS 3 the node editing on canvas was quite improved (thanks Martin 
and the sponsors!), however, the vertex editor that allowed to edit 
individual nodes in a list of exact coordinates suffered a lot.

See https://issues.qgis.org/issues/17243

Could a developer, during feature freeze, give the vertex editor some 
attention and fix the open issues?

I know that one can also use the advanced digitizin panel to edit 
vertices - but to be honest, this panel is so confusing to me - and 
probably to 90 % of the users out there as well - so I think the 
separate vertex editor panel still makes sense.

For 3.2 I would even suggest to add new features to the vertex editor 
panel, to allow adding new features or add/delete individual coordinates 
of existing features, e.g. add new points at a given position, or delete 
one or more nodes.

And of course, expose and allow editing z and m values.

@Martin: would you have time fixing the vertex editor during the bug 
fixing period, or should I ask another dev?

Thanks,

Andreas


From noreply at qgis.org  Wed Oct  4 01:17:19 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 04 Oct 2017 08:17:19 -0000
Subject: [QGIS-Developer] Plugin [1341] AGRC Geocoding Toolbox approval
	notification.
Message-ID: <20171004081719.27000.70221@320558c5528b>


Plugin AGRC Geocoding Toolbox approval by zimbogisgeek.
The plugin version "[1341] AGRC Geocoding Toolbox 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/AGRCGeocodingToolbox/

From noreply at qgis.org  Wed Oct  4 01:19:40 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 04 Oct 2017 08:19:40 -0000
Subject: [QGIS-Developer] Plugin [796] Catalog Planet Labs approval
	notification.
Message-ID: <20171004081940.1262.76267@320558c5528b>


Plugin Catalog Planet Labs approval by zimbogisgeek.
The plugin version "[796] Catalog Planet Labs 1.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/catalogpl_plugin/

From blackwhitekez at gmail.com  Wed Oct  4 01:37:33 2017
From: blackwhitekez at gmail.com (Patrick Dunford)
Date: Wed, 4 Oct 2017 21:37:33 +1300
Subject: [QGIS-Developer] Node editor: unable to drag end node to new
	position
Message-ID: <62b3f472-b675-6878-e79e-2fe8a2cc8f89@gmail.com>

In the new node editor (recent versions of Qgis 2.99) when there are 
only two nodes in a line, and I want to drag one end to a new position, 
instead it moves the whole line.

ref: https://issues.qgis.org/issues/17240


From matteo.ghetta at gmail.com  Wed Oct  4 02:39:59 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 4 Oct 2017 11:39:59 +0200
Subject: [QGIS-Developer] Empty style manager in QGIS 2.18
Message-ID: <4662adf1-199b-c71d-efe5-e12b872112a0@gmail.com>

Hi guys,

I have a problem with 2.18 version compiled from source on a Linux
machine. The style manager is completely empty. I cannot see any kind of
symbol (marker, line, etc) even from the layer properties.

It happens also with the --configpath options.

QGIS 3 works perfectly.

Someone is facing the same problem?

Thanks for any suggestions

Cheers

Matteo

From regis.haubourg at gmail.com  Wed Oct  4 02:48:28 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 4 Oct 2017 11:48:28 +0200
Subject: [QGIS-Developer] Empty style manager in QGIS 2.18
In-Reply-To: <4662adf1-199b-c71d-efe5-e12b872112a0@gmail.com>
References: <4662adf1-199b-c71d-efe5-e12b872112a0@gmail.com>
Message-ID: <CABgOYCcLGyYPGm98ZxowJTGj=C0FsXY3vXMsRomVJ6efhU5Png@mail.gmail.com>

Hi Matteo, what release or commit reference?
2.18.13 here on ubuntu and no issue..

2017-10-04 11:39 GMT+02:00 matteo <matteo.ghetta at gmail.com>:

> Hi guys,
>
> I have a problem with 2.18 version compiled from source on a Linux
> machine. The style manager is completely empty. I cannot see any kind of
> symbol (marker, line, etc) even from the layer properties.
>
> It happens also with the --configpath options.
>
> QGIS 3 works perfectly.
>
> Someone is facing the same problem?
>
> Thanks for any suggestions
>
> Cheers
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/871763a5/attachment.html>

From blackwhitekez at gmail.com  Wed Oct  4 02:54:24 2017
From: blackwhitekez at gmail.com (Patrick Dunford)
Date: Wed, 4 Oct 2017 22:54:24 +1300
Subject: [QGIS-Developer] Empty style manager in QGIS 2.18
In-Reply-To: <CABgOYCcLGyYPGm98ZxowJTGj=C0FsXY3vXMsRomVJ6efhU5Png@mail.gmail.com>
References: <4662adf1-199b-c71d-efe5-e12b872112a0@gmail.com>
 <CABgOYCcLGyYPGm98ZxowJTGj=C0FsXY3vXMsRomVJ6efhU5Png@mail.gmail.com>
Message-ID: <9ae8f2af-74cd-7ac2-2124-dab19320d5a5@gmail.com>

Were there any failures in the build process or missing modules messages 
at startup


On 04/10/17 22:48, Régis Haubourg wrote:
> Hi Matteo, what release or commit reference?
> 2.18.13 here on ubuntu and no issue..
>
> 2017-10-04 11:39 GMT+02:00 matteo <matteo.ghetta at gmail.com 
> <mailto:matteo.ghetta at gmail.com>>:
>
>     Hi guys,
>
>     I have a problem with 2.18 version compiled from source on a Linux
>     machine. The style manager is completely empty. I cannot see any
>     kind of
>     symbol (marker, line, etc) even from the layer properties.
>
>     It happens also with the --configpath options.
>
>     QGIS 3 works perfectly.
>
>     Someone is facing the same problem?
>
>     Thanks for any suggestions
>
>     Cheers
>
>     Matteo
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/d62666fb/attachment.html>

From matteo.ghetta at gmail.com  Wed Oct  4 02:59:59 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 4 Oct 2017 11:59:59 +0200
Subject: [QGIS-Developer] Empty style manager in QGIS 2.18
In-Reply-To: <9ae8f2af-74cd-7ac2-2124-dab19320d5a5@gmail.com>
References: <4662adf1-199b-c71d-efe5-e12b872112a0@gmail.com>
 <CABgOYCcLGyYPGm98ZxowJTGj=C0FsXY3vXMsRomVJ6efhU5Png@mail.gmail.com>
 <9ae8f2af-74cd-7ac2-2124-dab19320d5a5@gmail.com>
Message-ID: <2cdfd695-7cfc-274b-b930-d9ec616f9a8d@gmail.com>

Hi,

not sure but might be

7afddf26b315caea46a2858bcd3d9c12a5d82988

no error during the compilation so far. What I'm noticing is that, also
with the --config-path option the file

symbology-ng-style.db

in the new folder is empty (0 kb). Replacing this file with an old
config-path file (even of older QGIS version) seems a workaround.

But still weird isn't it?

Thanks guys

Matteo

From blackwhitekez at gmail.com  Wed Oct  4 03:01:47 2017
From: blackwhitekez at gmail.com (Patrick Dunford)
Date: Wed, 4 Oct 2017 23:01:47 +1300
Subject: [QGIS-Developer] Empty style manager in QGIS 2.18
In-Reply-To: <2cdfd695-7cfc-274b-b930-d9ec616f9a8d@gmail.com>
References: <4662adf1-199b-c71d-efe5-e12b872112a0@gmail.com>
 <CABgOYCcLGyYPGm98ZxowJTGj=C0FsXY3vXMsRomVJ6efhU5Png@mail.gmail.com>
 <9ae8f2af-74cd-7ac2-2124-dab19320d5a5@gmail.com>
 <2cdfd695-7cfc-274b-b930-d9ec616f9a8d@gmail.com>
Message-ID: <d72ca57d-358d-401a-54b3-d8e157f3f085@gmail.com>

Ha. There is not one build I have done that hasn't flagged some issue, 
even one that comes up with osgeo module missing that works perfectly 
well though.


On 04/10/17 22:59, matteo wrote:
> Hi,
>
> not sure but might be
>
> 7afddf26b315caea46a2858bcd3d9c12a5d82988
>
> no error during the compilation so far. What I'm noticing is that, also
> with the --config-path option the file
>
> symbology-ng-style.db
>
> in the new folder is empty (0 kb). Replacing this file with an old
> config-path file (even of older QGIS version) seems a workaround.
>
> But still weird isn't it?
>
> Thanks guys
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From noreply at qgis.org  Wed Oct  4 03:55:56 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 04 Oct 2017 10:55:56 -0000
Subject: [QGIS-Developer] Plugin [715] DSG Tools approval notification.
Message-ID: <20171004105556.27000.15123@320558c5528b>


Plugin DSG Tools approval by zimbogisgeek.
The plugin version "[715] DSG Tools 3.0.7" is now approved
Link: http://plugins.qgis.org/plugins/DsgTools/

From regis.haubourg at gmail.com  Wed Oct  4 04:23:48 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 4 Oct 2017 13:23:48 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
Message-ID: <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>

Hi

Yes, refactoring is now complete! see :
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74#issuecomment-334123595

Anita, I'll draft an article tonight if you still agree to review it, that
would be great!

Régis



2017-10-03 14:25 GMT+02:00 Anita Graser <anitagraser at gmx.at>:

>
>
> On Tue, Oct 3, 2017 at 11:19 AM, Régis Haubourg <regis.haubourg at gmail.com>
> wrote:
>
>> Hi Etienne,
>>
>> from my point of view, this is the perfect time to start stressing QGIS
>> server 3! We just discussed bout starting working with it this morning on a
>> new project.
>>
>> Maybe Alessandro and René-Luc can tell us more about the plugin side.
>>
>> Paul is currently fixing issues raised by the OGC test engines. Richard,
>> could you find some time to expose them on a public url?
>>
>>
> ​What would you think about publishing a QGIS Server update on
> blog.qgis.org once the latest information has been gathered? I'd like to
> see Server presented and advertised more ​widely.
>
> ​I'd be glad to help write the post if someone can help with the necessary
> insights.
>
> Regards,
> Anita​
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/d7e15bee/attachment.html>

From rldhont at gmail.com  Wed Oct  4 05:09:47 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Wed, 4 Oct 2017 14:09:47 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
Message-ID: <e3825654-0a4b-c473-b548-f2345b96f257@gmail.com>

Hi,

It seems that the QGIS refactoring is complete!
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74
https://github.com/qgis/qgis3.0_api/issues/57
https://github.com/qgis/QGIS/pull/4824

You can use QGIS Server like this in Python

from qgis.server import QgsServer, QgsServerRequest, 
QgsBufferServerRequest, QgsBufferServerResponse

server = QgsServer()

qs = "?" + "&".join(["%s=%s" % i for i in list({
             "MAP": '/tmp/qgis_project.qgs',
             "SERVICE": "WFS",
             "VERSION": "1.0.0",
             "REQUEST": "GetCapabilities"
         }.items())])
requestMethod = QgsServerRequest.GetMethod
headers = {}
data = '' #can be the xml request for requestMethod = 
QgsServerRequest.PostMethod

request = QgsBufferServerRequest(qs, requestMethod, headers, data)
response = QgsBufferServerResponse()
server.handleRequest(request, response)

headers = []
rh = response.headers()
rk = sorted(rh.keys())
for k in rk:
     headers.append(("%s: %s" % (k, rh[k])).encode('utf-8'))

body = bytes(response.body())

Now QGIS Server needs somes enhancement and cleanup.

René-Luc D'Hont
3Liz

Le 04/10/2017 à 13:23, Régis Haubourg a écrit :
> Hi
>
> Yes, refactoring is now complete! see : 
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74#issuecomment-334123595
>
> Anita, I'll draft an article tonight if you still agree to review it, 
> that would be great!
>
> Régis
>
>
>
> 2017-10-03 14:25 GMT+02:00 Anita Graser <anitagraser at gmx.at 
> <mailto:anitagraser at gmx.at>>:
>
>
>
>     On Tue, Oct 3, 2017 at 11:19 AM, Régis Haubourg
>     <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>> wrote:
>
>         Hi Etienne,
>
>         from my point of view, this is the perfect time to start
>         stressing QGIS server 3! We just discussed bout starting
>         working with it this morning on a new project.
>         Maybe Alessandro and René-Luc can tell us more about the
>         plugin side.
>
>         Paul is currently fixing issues raised by the OGC test
>         engines. Richard, could you find some time to expose them on a
>         public url?
>
>
>     ​What would you think about publishing a QGIS Server update on
>     blog.qgis.org <http://blog.qgis.org> once the latest information
>     has been gathered? I'd like to see Server presented and advertised
>     more ​widely.
>
>     ​I'd be glad to help write the post if someone can help with the
>     necessary insights.
>
>     Regards,
>     Anita​
>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/85871d11/attachment.html>

From Roberto.Poltini at gruppoiren.it  Wed Oct  4 05:05:46 2017
From: Roberto.Poltini at gruppoiren.it (Poltini Roberto)
Date: Wed, 4 Oct 2017 12:05:46 +0000
Subject: [QGIS-Developer] get the db connection of a postgis vector layer
Message-ID: <B1BDA7B93091A044A4878A686846FDB7010E35905C@SRVEXMB11.master.local>

Hi all,
   i have a qgis vector layer with postgis data. Qgis connects to the data via a complex view.
The view contains a run-time parameter which must be set by the postgresql  statement “SET parameter=value;”
Postgres SET command only affects the value used by the current session so I have to use the same db connection used by the vector layer.
I am writing a python plugin but I can’t find a way to get the db connection used by the layer (QgsDataProvider don’t provide a method to obtain the db connection)
Note that I don’t want to create another db connection to the same db (because it’d be another db session).
How can I get the same db connection used by the vector layer and run an sql statement ?

Thanks

Roberto


________________________________
Per essere informati sulle novità del Gruppo Iren, vi invitiamo a registrarvi alla nostra mailing list, all’indirizzo "http://www.gruppoiren.it/"<http://www.gruppoiren.it/> .

È possibile, inoltre, avanzare nuove idee e progetti per il territorio e seguire quelli già attivi nei Comitati Territoriali del Gruppo Iren, consultando "http://www.Irencollabora.it"<http://www.Irencollabora.it>

You can also suggest new ideas and initiatives for the territory and view those already active in the Iren Group Territorial Committees "http://www.Irencollabora.it"<http://www.Irencollabora.it>

Le informazioni contenute nella presente comunicazione e i relativi allegati possono essere riservate e sono, comunque, destinate esclusivamente alle persone o alla Società sopraindicati. La diffusione, distribuzione e/o copiatura del documento trasmesso da parte di qualsiasi soggetto diverso dal destinatario è proibita, sia ai sensi dell’art. 616 c.p. , che ai sensi del D.Lgs. n. 196/2003. Se avete ricevuto questo messaggio per errore, vi preghiamo di distruggerlo e di informare immediatamente il mittente.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/9623673d/attachment-0001.html>

From matthias at opengis.ch  Wed Oct  4 05:15:48 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 4 Oct 2017 14:15:48 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <e3825654-0a4b-c473-b548-f2345b96f257@gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <e3825654-0a4b-c473-b548-f2345b96f257@gmail.com>
Message-ID: <86242c56-d0e3-0f4d-5c5e-0e9c3d51c376@opengis.ch>

Hi,

I had some questions from people interested in performance.

I advised them to set the following

* QGIS_SERVER_PARALLEL_RENDERING=True
* Trust project flag

Apparently parallelized rendering works (system stats) but it was
reported to be slower than older versions.

Is there something else that needs to be done? Is there more information
I can ask for / give?

Thanks a lot
Matthias

On 10/04/2017 02:09 PM, René-Luc Dhont wrote:
> Hi,
> 
> It seems that the QGIS refactoring is complete!
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74
> https://github.com/qgis/qgis3.0_api/issues/57
> https://github.com/qgis/QGIS/pull/4824
> 
> You can use QGIS Server like this in Python
> 
> from qgis.server import QgsServer, QgsServerRequest,
> QgsBufferServerRequest, QgsBufferServerResponse
> 
> server = QgsServer()
> 
> qs = "?" + "&".join(["%s=%s" % i for i in list({
>             "MAP": '/tmp/qgis_project.qgs',
>             "SERVICE": "WFS",
>             "VERSION": "1.0.0",
>             "REQUEST": "GetCapabilities"
>         }.items())])
> requestMethod = QgsServerRequest.GetMethod
> headers = {}
> data = '' #can be the xml request for requestMethod =
> QgsServerRequest.PostMethod
> 
> request = QgsBufferServerRequest(qs, requestMethod, headers, data)
> response = QgsBufferServerResponse()
> server.handleRequest(request, response)
> 
> headers = []
> rh = response.headers()
> rk = sorted(rh.keys())
> for k in rk:
>     headers.append(("%s: %s" % (k, rh[k])).encode('utf-8'))
> 
> body = bytes(response.body())
> 
> Now QGIS Server needs somes enhancement and cleanup.
> 
> René-Luc D'Hont
> 3Liz
> 
> Le 04/10/2017 à 13:23, Régis Haubourg a écrit :
>> Hi 
>>
>> Yes, refactoring is now complete! see :
>> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74#issuecomment-334123595
>>
>> Anita, I'll draft an article tonight if you still agree to review it,
>> that would be great!
>>
>> Régis
>>
>>
>>
>> 2017-10-03 14:25 GMT+02:00 Anita Graser <anitagraser at gmx.at
>> <mailto:anitagraser at gmx.at>>:
>>
>>
>>
>>     On Tue, Oct 3, 2017 at 11:19 AM, Régis Haubourg
>>     <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>> wrote:
>>
>>         Hi Etienne, 
>>
>>         from my point of view, this is the perfect time to start
>>         stressing QGIS server 3! We just discussed bout starting
>>         working with it this morning on a new project. 
>>          
>>         Maybe Alessandro and René-Luc can tell us more about the
>>         plugin side. 
>>
>>         Paul is currently fixing issues raised by the OGC test
>>         engines. Richard, could you find some time to expose them on a
>>         public url? 
>>
>>
>>     ​What would you think about publishing a QGIS Server update on
>>     blog.qgis.org <http://blog.qgis.org> once the latest information
>>     has been gathered? I'd like to see Server presented and advertised
>>     more ​widely.
>>
>>     ​I'd be glad to help write the post if someone can help with the
>>     necessary insights.
>>
>>     Regards,
>>     Anita​
>>
>>
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From regis.haubourg at gmail.com  Wed Oct  4 05:38:25 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 4 Oct 2017 14:38:25 +0200
Subject: [QGIS-Developer] modifying a postgres DB connection string in
 connection manager crashes qgis
Message-ID: <CABgOYCdwt_NVXxwYJN7pMBWiMAcaBPpZktYGCgui3CCf8oy72w@mail.gmail.com>

Hi all,
title says it all. Anyone confirms that changing the name of a DB in the
connection dialog crashes QGIS?

all the best
Régis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/4a92775a/attachment.html>

From regis.haubourg at gmail.com  Wed Oct  4 05:42:02 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 4 Oct 2017 14:42:02 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <86242c56-d0e3-0f4d-5c5e-0e9c3d51c376@opengis.ch>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <e3825654-0a4b-c473-b548-f2345b96f257@gmail.com>
 <86242c56-d0e3-0f4d-5c5e-0e9c3d51c376@opengis.ch>
Message-ID: <CABgOYCcsXHEwVDMWfcKJRpe_9nUDE7oma95Ft_9tK6Ybj0YShQ@mail.gmail.com>

Hi Matthias,
in my tests that were made a few month ago, it was a lot faster on project
load and a bit faster with parallel rendering for multi layer requests.
Still I found it still slower than desktop rendering on the very same
extent. I'm not aware of additional settings.
We did not have the opportunity to deploy a performance benchmark, maybe
Yves can tell us if things have moved on this front?
Régis

2017-10-04 14:15 GMT+02:00 Matthias Kuhn <matthias at opengis.ch>:

> Hi,
>
> I had some questions from people interested in performance.
>
> I advised them to set the following
>
> * QGIS_SERVER_PARALLEL_RENDERING=True
> * Trust project flag
>
> Apparently parallelized rendering works (system stats) but it was
> reported to be slower than older versions.
>
> Is there something else that needs to be done? Is there more information
> I can ask for / give?
>
> Thanks a lot
> Matthias
>
> On 10/04/2017 02:09 PM, René-Luc Dhont wrote:
> > Hi,
> >
> > It seems that the QGIS refactoring is complete!
> > https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74
> > https://github.com/qgis/qgis3.0_api/issues/57
> > https://github.com/qgis/QGIS/pull/4824
> >
> > You can use QGIS Server like this in Python
> >
> > from qgis.server import QgsServer, QgsServerRequest,
> > QgsBufferServerRequest, QgsBufferServerResponse
> >
> > server = QgsServer()
> >
> > qs = "?" + "&".join(["%s=%s" % i for i in list({
> >             "MAP": '/tmp/qgis_project.qgs',
> >             "SERVICE": "WFS",
> >             "VERSION": "1.0.0",
> >             "REQUEST": "GetCapabilities"
> >         }.items())])
> > requestMethod = QgsServerRequest.GetMethod
> > headers = {}
> > data = '' #can be the xml request for requestMethod =
> > QgsServerRequest.PostMethod
> >
> > request = QgsBufferServerRequest(qs, requestMethod, headers, data)
> > response = QgsBufferServerResponse()
> > server.handleRequest(request, response)
> >
> > headers = []
> > rh = response.headers()
> > rk = sorted(rh.keys())
> > for k in rk:
> >     headers.append(("%s: %s" % (k, rh[k])).encode('utf-8'))
> >
> > body = bytes(response.body())
> >
> > Now QGIS Server needs somes enhancement and cleanup.
> >
> > René-Luc D'Hont
> > 3Liz
> >
> > Le 04/10/2017 à 13:23, Régis Haubourg a écrit :
> >> Hi
> >>
> >> Yes, refactoring is now complete! see :
> >> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/
> 74#issuecomment-334123595
> >>
> >> Anita, I'll draft an article tonight if you still agree to review it,
> >> that would be great!
> >>
> >> Régis
> >>
> >>
> >>
> >> 2017-10-03 14:25 GMT+02:00 Anita Graser <anitagraser at gmx.at
> >> <mailto:anitagraser at gmx.at>>:
> >>
> >>
> >>
> >>     On Tue, Oct 3, 2017 at 11:19 AM, Régis Haubourg
> >>     <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>> wrote:
> >>
> >>         Hi Etienne,
> >>
> >>         from my point of view, this is the perfect time to start
> >>         stressing QGIS server 3! We just discussed bout starting
> >>         working with it this morning on a new project.
> >>
> >>         Maybe Alessandro and René-Luc can tell us more about the
> >>         plugin side.
> >>
> >>         Paul is currently fixing issues raised by the OGC test
> >>         engines. Richard, could you find some time to expose them on a
> >>         public url?
> >>
> >>
> >>     ​What would you think about publishing a QGIS Server update on
> >>     blog.qgis.org <http://blog.qgis.org> once the latest information
> >>     has been gathered? I'd like to see Server presented and advertised
> >>     more ​widely.
> >>
> >>     ​I'd be glad to help write the post if someone can help with the
> >>     necessary insights.
> >>
> >>     Regards,
> >>     Anita​
> >>
> >>
> >>
> >>
> >>
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/d1aede80/attachment.html>

From anitagraser at gmx.at  Wed Oct  4 06:17:21 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Wed, 4 Oct 2017 15:17:21 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
Message-ID: <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>

On Wed, Oct 4, 2017 at 1:23 PM, Régis Haubourg <regis.haubourg at gmail.com>
wrote:

> Hi
>
> Yes, refactoring is now complete! see : https://github.com/qgis/QGIS-
> Enhancement-Proposals/issues/74#issuecomment-334123595
>
> Anita, I'll draft an article tonight if you still agree to review it, that
> would be great!
>


​Sure!

Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/664accf5/attachment-0001.html>

From luipir at gmail.com  Wed Oct  4 07:14:42 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Wed, 4 Oct 2017 16:14:42 +0200
Subject: [QGIS-Developer] modifying a postgres DB connection string in
 connection manager crashes qgis
In-Reply-To: <CABgOYCdwt_NVXxwYJN7pMBWiMAcaBPpZktYGCgui3CCf8oy72w@mail.gmail.com>
References: <CABgOYCdwt_NVXxwYJN7pMBWiMAcaBPpZktYGCgui3CCf8oy72w@mail.gmail.com>
Message-ID: <CAFO80_qC3Ktdp4b8-bLVX7vYhD4repm=VSOA+tnbGTZXN=+V5g@mail.gmail.com>

version?
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 4 October 2017 at 14:38, Régis Haubourg <regis.haubourg at gmail.com> wrote:
> Hi all,
> title says it all. Anyone confirms that changing the name of a DB in the
> connection dialog crashes QGIS?
>
> all the best
> Régis
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From luipir at gmail.com  Wed Oct  4 07:46:24 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Wed, 4 Oct 2017 16:46:24 +0200
Subject: [QGIS-Developer] SQLite/GPKG database locked during canvas
	refresh... is it a feature?
Message-ID: <CAFO80_qrWAoWk44Mtk4KdG4mqb11QGDUZqfULrWUTfA8L6wtsA@mail.gmail.com>

Hi

the bug described in https://issues.qgis.org/issues/15498 IMHO is a
feature instead of a regression... any opinion?

my rational is:

"""Ok, it can be a regression, but IMHO the behaviour is correct in
this way respect allowing to write during rendering.
If layer is modified during rendering, theoretically rendering have to
be invalidated. Stopping rendering is always possible with rendering
checkbox in the bottom bar => the correct procedure would be:
1) stop rendering
2) save features
3) refresh

or

1) during save => stop rendering
2) save edit
3) refresh

the above would be a new feature that is not strictly necessary
because of manual workaround.

can it be considered a low priority issue, and more, can it be
considered a fix instead of a regression"""

Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************

From luipir at gmail.com  Wed Oct  4 08:02:38 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Wed, 4 Oct 2017 17:02:38 +0200
Subject: [QGIS-Developer] Segmentation fault with 'Create raster icons' on
 and loading a WMS... opinion to remove the preview feature?
Message-ID: <CAFO80_rM1hZe7NA4tzVjZhBmjjRwDZEs5iSSP8rnb-sj8iWg5Q@mail.gmail.com>

Hi

related with issue: https://issues.qgis.org/issues/16803
I strongly agree with Nyall, Pedro Venâncio and Giovanni Manghi to
remove this feature.
The rational is:

1) fix seems hard to find (QgsRasterLayer::previewAsImage is triggered
4/6 times and at aqvery refresh => not useful)... hard bu not
impossible.
2) hard to find utility in a so little preview
3) who want to spend dev time on fixing it is welcome :)
4) Avioid crash is better than a having a not so important feature.

I'll prepare a PR to remove only the option into "Settings ->
Options... -> Canvas & Legend -> "Create raster icons (may be slow)"
default is Off.

any opinion?

Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************

From luipir at gmail.com  Wed Oct  4 08:07:17 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Wed, 4 Oct 2017 17:07:17 +0200
Subject: [QGIS-Developer] Segmentation fault with 'Create raster icons'
 on and loading a WMS... opinion to remove the preview feature?
In-Reply-To: <CAFO80_rM1hZe7NA4tzVjZhBmjjRwDZEs5iSSP8rnb-sj8iWg5Q@mail.gmail.com>
References: <CAFO80_rM1hZe7NA4tzVjZhBmjjRwDZEs5iSSP8rnb-sj8iWg5Q@mail.gmail.com>
Message-ID: <CAFO80_p3KHVqiSsxSKqRGX6mPu3fLrz+nFJtmO1HxhmXezj52A@mail.gmail.com>

or just skip preview only for WMS
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 4 October 2017 at 17:02, Luigi Pirelli <luipir at gmail.com> wrote:
> Hi
>
> related with issue: https://issues.qgis.org/issues/16803
> I strongly agree with Nyall, Pedro Venâncio and Giovanni Manghi to
> remove this feature.
> The rational is:
>
> 1) fix seems hard to find (QgsRasterLayer::previewAsImage is triggered
> 4/6 times and at aqvery refresh => not useful)... hard bu not
> impossible.
> 2) hard to find utility in a so little preview
> 3) who want to spend dev time on fixing it is welcome :)
> 4) Avioid crash is better than a having a not so important feature.
>
> I'll prepare a PR to remove only the option into "Settings ->
> Options... -> Canvas & Legend -> "Create raster icons (may be slow)"
> default is Off.
>
> any opinion?
>
> Luigi Pirelli
>
> **************************************************************************************************
> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * GitHub: https://github.com/luipir
> * Mastering QGIS 2nd Edition:
> * https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
> **************************************************************************************************

From dmarteau at 3liz.com  Wed Oct  4 08:08:03 2017
From: dmarteau at 3liz.com (David Marteau)
Date: Wed, 4 Oct 2017 17:08:03 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <86242c56-d0e3-0f4d-5c5e-0e9c3d51c376@opengis.ch>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <e3825654-0a4b-c473-b548-f2345b96f257@gmail.com>
 <86242c56-d0e3-0f4d-5c5e-0e9c3d51c376@opengis.ch>
Message-ID: <7BAF093B-2D8C-45C0-83F0-3C0EEAD009CE@3liz.com>

Hi,

Do we have metrics on this ?  Does it mean  that QGIS_SERVER_PARALLEL_RENDERING=False is also slower than previous version ?


David M.



> Le 4 oct. 2017 à 14:15, Matthias Kuhn <matthias at opengis.ch> a écrit :
> 
> Hi,
> 
> I had some questions from people interested in performance.
> 
> I advised them to set the following
> 
> * QGIS_SERVER_PARALLEL_RENDERING=True
> * Trust project flag
> 
> Apparently parallelized rendering works (system stats) but it was
> reported to be slower than older versions.
> 
> Is there something else that needs to be done? Is there more information
> I can ask for / give?
> 
> Thanks a lot
> Matthias
> 
> On 10/04/2017 02:09 PM, René-Luc Dhont wrote:
>> Hi,
>> 
>> It seems that the QGIS refactoring is complete!
>> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74
>> https://github.com/qgis/qgis3.0_api/issues/57
>> https://github.com/qgis/QGIS/pull/4824
>> 
>> You can use QGIS Server like this in Python
>> 
>> from qgis.server import QgsServer, QgsServerRequest,
>> QgsBufferServerRequest, QgsBufferServerResponse
>> 
>> server = QgsServer()
>> 
>> qs = "?" + "&".join(["%s=%s" % i for i in list({
>>            "MAP": '/tmp/qgis_project.qgs',
>>            "SERVICE": "WFS",
>>            "VERSION": "1.0.0",
>>            "REQUEST": "GetCapabilities"
>>        }.items())])
>> requestMethod = QgsServerRequest.GetMethod
>> headers = {}
>> data = '' #can be the xml request for requestMethod =
>> QgsServerRequest.PostMethod
>> 
>> request = QgsBufferServerRequest(qs, requestMethod, headers, data)
>> response = QgsBufferServerResponse()
>> server.handleRequest(request, response)
>> 
>> headers = []
>> rh = response.headers()
>> rk = sorted(rh.keys())
>> for k in rk:
>>    headers.append(("%s: %s" % (k, rh[k])).encode('utf-8'))
>> 
>> body = bytes(response.body())
>> 
>> Now QGIS Server needs somes enhancement and cleanup.
>> 
>> René-Luc D'Hont
>> 3Liz
>> 
>> Le 04/10/2017 à 13:23, Régis Haubourg a écrit :
>>> Hi 
>>> 
>>> Yes, refactoring is now complete! see :
>>> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74#issuecomment-334123595
>>> 
>>> Anita, I'll draft an article tonight if you still agree to review it,
>>> that would be great!
>>> 
>>> Régis
>>> 
>>> 
>>> 
>>> 2017-10-03 14:25 GMT+02:00 Anita Graser <anitagraser at gmx.at
>>> <mailto:anitagraser at gmx.at <mailto:anitagraser at gmx.at>>>:
>>> 
>>> 
>>> 
>>>    On Tue, Oct 3, 2017 at 11:19 AM, Régis Haubourg
>>>    <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com> <mailto:regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>>> wrote:
>>> 
>>>        Hi Etienne, 
>>> 
>>>        from my point of view, this is the perfect time to start
>>>        stressing QGIS server 3! We just discussed bout starting
>>>        working with it this morning on a new project. 
>>> 
>>>        Maybe Alessandro and René-Luc can tell us more about the
>>>        plugin side. 
>>> 
>>>        Paul is currently fixing issues raised by the OGC test
>>>        engines. Richard, could you find some time to expose them on a
>>>        public url? 
>>> 
>>> 
>>>    ​What would you think about publishing a QGIS Server update on
>>>    blog.qgis.org <http://blog.qgis.org/> <http://blog.qgis.org <http://blog.qgis.org/>> once the latest information
>>>    has been gathered? I'd like to see Server presented and advertised
>>>    more ​widely.
>>> 
>>>    ​I'd be glad to help write the post if someone can help with the
>>>    necessary insights.
>>> 
>>>    Regards,
>>>    Anita​
>>> 
>>> 
>>> 
>>> 
>>> 
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> 
>> 
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/16f8e7fb/attachment-0001.html>

From regis.haubourg at gmail.com  Wed Oct  4 08:14:57 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 4 Oct 2017 17:14:57 +0200
Subject: [QGIS-Developer] modifying a postgres DB connection string in
 connection manager crashes qgis
In-Reply-To: <CAFO80_qC3Ktdp4b8-bLVX7vYhD4repm=VSOA+tnbGTZXN=+V5g@mail.gmail.com>
References: <CABgOYCdwt_NVXxwYJN7pMBWiMAcaBPpZktYGCgui3CCf8oy72w@mail.gmail.com>
 <CAFO80_qC3Ktdp4b8-bLVX7vYhD4repm=VSOA+tnbGTZXN=+V5g@mail.gmail.com>
Message-ID: <CABgOYCezz2dcPHFOzZkvwbB5O0AAgQA6MN1qF+v9Gq_iemNbTQ@mail.gmail.com>

https://github.com/qgis/QGIS/commit/9256d00



2017-10-04 16:14 GMT+02:00 Luigi Pirelli <luipir at gmail.com>:

> version?
> Luigi Pirelli
>
> ************************************************************
> **************************************
> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * GitHub: https://github.com/luipir
> * Mastering QGIS 2nd Edition:
> * https://www.packtpub.com/big-data-and-business-
> intelligence/mastering-qgis-second-edition
> ************************************************************
> **************************************
>
>
> On 4 October 2017 at 14:38, Régis Haubourg <regis.haubourg at gmail.com>
> wrote:
> > Hi all,
> > title says it all. Anyone confirms that changing the name of a DB in the
> > connection dialog crashes QGIS?
> >
> > all the best
> > Régis
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/21f51717/attachment.html>

From luipir at gmail.com  Wed Oct  4 08:19:35 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Wed, 4 Oct 2017 17:19:35 +0200
Subject: [QGIS-Developer] modifying a postgres DB connection string in
 connection manager crashes qgis
In-Reply-To: <CABgOYCezz2dcPHFOzZkvwbB5O0AAgQA6MN1qF+v9Gq_iemNbTQ@mail.gmail.com>
References: <CABgOYCdwt_NVXxwYJN7pMBWiMAcaBPpZktYGCgui3CCf8oy72w@mail.gmail.com>
 <CAFO80_qC3Ktdp4b8-bLVX7vYhD4repm=VSOA+tnbGTZXN=+V5g@mail.gmail.com>
 <CABgOYCezz2dcPHFOzZkvwbB5O0AAgQA6MN1qF+v9Gq_iemNbTQ@mail.gmail.com>
Message-ID: <CAFO80_onKM3mX2eoiS7vrz9pbtfwt=qn+Dh+ZVntSL_4WmaGFg@mail.gmail.com>

I supposed was that the problem :)
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 4 October 2017 at 17:14, Régis Haubourg <regis.haubourg at gmail.com> wrote:
> https://github.com/qgis/QGIS/commit/9256d00
>
>
>
> 2017-10-04 16:14 GMT+02:00 Luigi Pirelli <luipir at gmail.com>:
>>
>> version?
>> Luigi Pirelli
>>
>>
>> **************************************************************************************************
>> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
>> * LinkedIn: https://www.linkedin.com/in/luigipirelli
>> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
>> * GitHub: https://github.com/luipir
>> * Mastering QGIS 2nd Edition:
>> *
>> https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
>>
>> **************************************************************************************************
>>
>>
>> On 4 October 2017 at 14:38, Régis Haubourg <regis.haubourg at gmail.com>
>> wrote:
>> > Hi all,
>> > title says it all. Anyone confirms that changing the name of a DB in the
>> > connection dialog crashes QGIS?
>> >
>> > all the best
>> > Régis
>> >
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>

From matthias at opengis.ch  Wed Oct  4 08:49:39 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 4 Oct 2017 17:49:39 +0200
Subject: [QGIS-Developer] Segmentation fault with 'Create raster icons'
 on and loading a WMS... opinion to remove the preview feature?
In-Reply-To: <CAFO80_p3KHVqiSsxSKqRGX6mPu3fLrz+nFJtmO1HxhmXezj52A@mail.gmail.com>
References: <CAFO80_rM1hZe7NA4tzVjZhBmjjRwDZEs5iSSP8rnb-sj8iWg5Q@mail.gmail.com>
 <CAFO80_p3KHVqiSsxSKqRGX6mPu3fLrz+nFJtmO1HxhmXezj52A@mail.gmail.com>
Message-ID: <66a8c6e5-747f-04ae-7d96-ebc15357b78e@opengis.ch>

Yes, kill it for WMS please

On 10/04/2017 05:07 PM, Luigi Pirelli wrote:
> or just skip preview only for WMS
> Luigi Pirelli
> 
> **************************************************************************************************
> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * GitHub: https://github.com/luipir
> * Mastering QGIS 2nd Edition:
> * https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
> **************************************************************************************************
> 
> 
> On 4 October 2017 at 17:02, Luigi Pirelli <luipir at gmail.com> wrote:
>> Hi
>>
>> related with issue: https://issues.qgis.org/issues/16803
>> I strongly agree with Nyall, Pedro Venâncio and Giovanni Manghi to
>> remove this feature.
>> The rational is:
>>
>> 1) fix seems hard to find (QgsRasterLayer::previewAsImage is triggered
>> 4/6 times and at aqvery refresh => not useful)... hard bu not
>> impossible.
>> 2) hard to find utility in a so little preview
>> 3) who want to spend dev time on fixing it is welcome :)
>> 4) Avioid crash is better than a having a not so important feature.
>>
>> I'll prepare a PR to remove only the option into "Settings ->
>> Options... -> Canvas & Legend -> "Create raster icons (may be slow)"
>> default is Off.
>>
>> any opinion?
>>
>> Luigi Pirelli
>>
>> **************************************************************************************************
>> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
>> * LinkedIn: https://www.linkedin.com/in/luigipirelli
>> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
>> * GitHub: https://github.com/luipir
>> * Mastering QGIS 2nd Edition:
>> * https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
>> **************************************************************************************************
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From matthias at opengis.ch  Wed Oct  4 08:54:16 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 4 Oct 2017 17:54:16 +0200
Subject: [QGIS-Developer] SQLite/GPKG database locked during canvas
 refresh... is it a feature?
In-Reply-To: <CAFO80_qrWAoWk44Mtk4KdG4mqb11QGDUZqfULrWUTfA8L6wtsA@mail.gmail.com>
References: <CAFO80_qrWAoWk44Mtk4KdG4mqb11QGDUZqfULrWUTfA8L6wtsA@mail.gmail.com>
Message-ID: <067165f7-b1bb-1a6c-0dfb-d24a93945dae@opengis.ch>

Hi Luigi,

It sounds like a very crappy UX the way this is described.

The second way you describe sounds like a reasonable one to go.

However, most dataprovider handle this cleanly on a different level (if
you have an iterator open on a pg layer, it will keep delivering
features from the snapshot when the query was sent, and allow to modify
in parallel). So rendering shouldn't be stopped in any case, but only
when it's really required.

Actually there may also be other code besides rendering reading from
such a format while trying to save. So in the long run we'll need
something else.
Probably schedule a task that waits for any readers to be finished and
then saves once the lock is gone (and tell the user that the save has
been deferred).

Matthias

On 10/04/2017 04:46 PM, Luigi Pirelli wrote:
> Hi
> 
> the bug described in https://issues.qgis.org/issues/15498 IMHO is a
> feature instead of a regression... any opinion?
> 
> my rational is:
> 
> """Ok, it can be a regression, but IMHO the behaviour is correct in
> this way respect allowing to write during rendering.
> If layer is modified during rendering, theoretically rendering have to
> be invalidated. Stopping rendering is always possible with rendering
> checkbox in the bottom bar => the correct procedure would be:
> 1) stop rendering
> 2) save features
> 3) refresh
> 
> or
> 
> 1) during save => stop rendering
> 2) save edit
> 3) refresh
> 
> the above would be a new feature that is not strictly necessary
> because of manual workaround.
> 
> can it be considered a low priority issue, and more, can it be
> considered a fix instead of a regression"""
> 
> Luigi Pirelli
> 
> **************************************************************************************************
> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * GitHub: https://github.com/luipir
> * Mastering QGIS 2nd Edition:
> * https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
> **************************************************************************************************
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From regis.haubourg at gmail.com  Wed Oct  4 12:42:59 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 4 Oct 2017 21:42:59 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
Message-ID: <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>

Hi again,
here is my very first draft:

 Several images can be pulled from the joined slides given at Foss4G-EU
here
https://drive.google.com/file/d/0BzatQbprJ-hjWF95VzdHbGRsVEk/view?usp=sharing


René-Luc, David, Paul, don't hesitate to amend that!

--------------------------------------------------------------------------------------------


*Qgis server refactoring is done!*
As you may know, QGIS is jumping to a new major version (yes!).
Doing so was made necessary because of the need to switch to python 3, QT5,
but also because we needed to break the QGIS API in several places.

A year ago, a tiny troll <https://github.com/qgis/qgis3.0_api/issues/63>from
switzerland rang a bell about the strong need for love server code base
required.

Indeed, the API was locked by some old methods of QGIS server. In short,
QGIS server was reparsing the qgs project file in his own way, and created
dependencies to part of QGIS we needed to drop.

As outsourcing the server code base was not an option, so we had to
refactor it.

The involved parties decided to get engaged in a code sprint
<https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in
the city of Lyon , France dedicated to sharing their vision, planning the
work and finally making all the following
<https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen :



*# Deep, complex and unrewarding tasks:*

- Remove all singleton calls

- Cut all the dependencies to the old qgis project parser

- Minimize dependencies to GUI library. Since fonts are necessary to render
maps, totally removing them was not feasable.

*# Higher level refactoring*

All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS, GetPrint
etc..) have been rewritten. Some like WMS were entirely rewritten. Kudos to
the dev's


*# New features and architecture stuff*

- QGIS Server Services as plugins like providers. (slide 10 would be a nice
figure here)

- Multi-thread rendering  <https://github.com/qgis/QGIS/pull/3886>- like in
the desktop

- A new option to trust layer metadata
<https://github.com/qgis/QGIS/pull/5094> and speed up project loading


*# Infrastructure tasks*

- Build a OGC compliancy platform
<http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/>
and
integrate it to a continuous integration platform. Conformity reports are
now pushed to tests.qgis.org *XXX waiting for Richard to expose them in the
website*

- Add unit tests... and again more unit tests

- Stress QGIS server against security leaks
<http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL
injections and other malicious attacks)

- Start profiling and bench marking performances. This work still need some
love - and funding - to be achieved


A presentation
<https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf>
was
given at FOSS4G-EU in July.

*Congratulations* to the developers who worked hard on that work.

Now this deserves to be well tested, please report back any issues!



2017-10-04 15:17 GMT+02:00 Anita Graser <anitagraser at gmx.at>:

>
>
> On Wed, Oct 4, 2017 at 1:23 PM, Régis Haubourg <regis.haubourg at gmail.com>
> wrote:
>
>> Hi
>>
>> Yes, refactoring is now complete! see : https://github.com/qgis/QGIS-E
>> nhancement-Proposals/issues/74#issuecomment-334123595
>>
>> Anita, I'll draft an article tonight if you still agree to review it,
>> that would be great!
>>
>
>
> ​Sure!
>
> Anita
>
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/bec3aa08/attachment.html>

From peter at 3xe.co.uk  Wed Oct  4 12:53:59 2017
From: peter at 3xe.co.uk (Peter Devoy)
Date: Wed, 4 Oct 2017 20:53:59 +0100
Subject: [QGIS-Developer] Qt Model-View updates blocked when Python console
	not open
Message-ID: <CABoFc_hu6e748qTTFetUqp_M_eRhJ2ZYekzy7iL7Jxrosh4U_g@mail.gmail.com>

Hi all

In my plugin I have extended QAbstractListModel to create a list of
objects; each object in the list has a 'url' property containing the
URL of an API resource.  When the user selects a feature in main QGIS
interface, each object in the list makes a HTTP request to its URL and
updates its properties from the response data.

Changes in the objects' properties are reflected in a QListView.  E.g.
a  property 'status'  is set to 'WARN' if the HTTP request fails --
this is reflected in the QListView by the respective list item's icon
turning yellow.

If I have the Python console open in QGIS the QListView items update
as the ListModel's objects update. However, if the Python console is
not open, the plugin's UI thread appears to be blocked until each item
in the list has completed its changes and all the items update at
once; please can anyone recommend a way to avoid this?

I have been developing on QGIS 2.1X.

Kind regards


Peter

From anitagraser at gmx.at  Wed Oct  4 13:18:33 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Wed, 4 Oct 2017 22:18:33 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
Message-ID: <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>

Great overview, thanks for drafting Régis!

Some additional ideas: Could we add a section with the key improvements
from an user perspective?

I'm particularly intrigued by the services / plugins part. Could you
elaborate?

Regards,
Anita



On Wed, Oct 4, 2017 at 9:42 PM, Régis Haubourg <regis.haubourg at gmail.com>
wrote:

> Hi again,
> here is my very first draft:
>
>  Several images can be pulled from the joined slides given at Foss4G-EU
> here https://drive.google.com/file/d/0BzatQbprJ-
> hjWF95VzdHbGRsVEk/view?usp=sharing
>
> René-Luc, David, Paul, don't hesitate to amend that!
>
> ------------------------------------------------------------
> --------------------------------
>
>
> *Qgis server refactoring is done!*
> As you may know, QGIS is jumping to a new major version (yes!).
> Doing so was made necessary because of the need to switch to python 3,
> QT5, but also because we needed to break the QGIS API in several places.
>
> A year ago, a tiny troll <https://github.com/qgis/qgis3.0_api/issues/63>from
> switzerland rang a bell about the strong need for love server code base
> required.
>
> Indeed, the API was locked by some old methods of QGIS server. In short,
> QGIS server was reparsing the qgs project file in his own way, and created
> dependencies to part of QGIS we needed to drop.
>
> As outsourcing the server code base was not an option, so we had to
> refactor it.
>
> The involved parties decided to get engaged in a code sprint
> <https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in
> the city of Lyon , France dedicated to sharing their vision, planning the
> work and finally making all the following
> <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen :
>
>
>
> *# Deep, complex and unrewarding tasks:*
>
> - Remove all singleton calls
>
> - Cut all the dependencies to the old qgis project parser
>
> - Minimize dependencies to GUI library. Since fonts are necessary to
> render maps, totally removing them was not feasable.
>
> *# Higher level refactoring*
>
> All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS, GetPrint
> etc..) have been rewritten. Some like WMS were entirely rewritten. Kudos to
> the dev's
>
>
> *# New features and architecture stuff*
>
> - QGIS Server Services as plugins like providers. (slide 10 would be a
> nice figure here)
>
> - Multi-thread rendering  <https://github.com/qgis/QGIS/pull/3886>- like
> in the desktop
>
> - A new option to trust layer metadata
> <https://github.com/qgis/QGIS/pull/5094> and speed up project loading
>
>
> *# Infrastructure tasks*
>
> - Build a OGC compliancy platform
> <http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/> and
> integrate it to a continuous integration platform. Conformity reports are
> now pushed to tests.qgis.org *XXX waiting for Richard to expose them in
> the website*
>
> - Add unit tests... and again more unit tests
>
> - Stress QGIS server against security leaks
> <http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL
> injections and other malicious attacks)
>
> - Start profiling and bench marking performances. This work still need
> some love - and funding - to be achieved
>
>
> A presentation
> <https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf> was
> given at FOSS4G-EU in July.
>
> *Congratulations* to the developers who worked hard on that work.
>
> Now this deserves to be well tested, please report back any issues!
>
>
>
> 2017-10-04 15:17 GMT+02:00 Anita Graser <anitagraser at gmx.at>:
>
>>
>>
>> On Wed, Oct 4, 2017 at 1:23 PM, Régis Haubourg <regis.haubourg at gmail.com>
>> wrote:
>>
>>> Hi
>>>
>>> Yes, refactoring is now complete! see : https://github.com/qgis/QGIS-E
>>> nhancement-Proposals/issues/74#issuecomment-334123595
>>>
>>> Anita, I'll draft an article tonight if you still agree to review it,
>>> that would be great!
>>>
>>
>>
>> ​Sure!
>>
>> Anita
>>
>>
>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/699af269/attachment-0001.html>

From regis.haubourg at gmail.com  Wed Oct  4 13:49:26 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 4 Oct 2017 22:49:26 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
Message-ID: <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>

Well, from a user point of view, that's a bit hard since all this is 90 %
refactoring.. which is supposed to be transparent for users.

We have the trust and multithreaded features, that should (and early
testers today found it slower today) and the ability to code new services
using python.
We can also show some numbers about OGC conformity tests and the goal of
reaching OGC certification (WMS only by now).

Alessandro, René-Luc and David, do you have some user oriented examples for
the new modular API ?



2017-10-04 22:18 GMT+02:00 Anita Graser <anitagraser at gmx.at>:

> Great overview, thanks for drafting Régis!
>
> Some additional ideas: Could we add a section with the key improvements
> from an user perspective?
>
> I'm particularly intrigued by the services / plugins part. Could you
> elaborate?
>
> Regards,
> Anita
>
>
>
> On Wed, Oct 4, 2017 at 9:42 PM, Régis Haubourg <regis.haubourg at gmail.com>
> wrote:
>
>> Hi again,
>> here is my very first draft:
>>
>>  Several images can be pulled from the joined slides given at Foss4G-EU
>> here https://drive.google.com/file/d/0BzatQbprJ-hjWF95VzdHbGRsVEk
>> /view?usp=sharing
>>
>> René-Luc, David, Paul, don't hesitate to amend that!
>>
>> ------------------------------------------------------------
>> --------------------------------
>>
>>
>> *Qgis server refactoring is done!*
>> As you may know, QGIS is jumping to a new major version (yes!).
>> Doing so was made necessary because of the need to switch to python 3,
>> QT5, but also because we needed to break the QGIS API in several places.
>>
>> A year ago, a tiny troll <https://github.com/qgis/qgis3.0_api/issues/63>from
>> switzerland rang a bell about the strong need for love server code base
>> required.
>>
>> Indeed, the API was locked by some old methods of QGIS server. In short,
>> QGIS server was reparsing the qgs project file in his own way, and created
>> dependencies to part of QGIS we needed to drop.
>>
>> As outsourcing the server code base was not an option, so we had to
>> refactor it.
>>
>> The involved parties decided to get engaged in a code sprint
>> <https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in
>> the city of Lyon , France dedicated to sharing their vision, planning the
>> work and finally making all the following
>> <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen :
>>
>>
>>
>> *# Deep, complex and unrewarding tasks:*
>>
>> - Remove all singleton calls
>>
>> - Cut all the dependencies to the old qgis project parser
>>
>> - Minimize dependencies to GUI library. Since fonts are necessary to
>> render maps, totally removing them was not feasable.
>>
>> *# Higher level refactoring*
>>
>> All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS,
>> GetPrint etc..) have been rewritten. Some like WMS were entirely rewritten.
>> Kudos to the dev's
>>
>>
>> *# New features and architecture stuff*
>>
>> - QGIS Server Services as plugins like providers. (slide 10 would be a
>> nice figure here)
>>
>> - Multi-thread rendering  <https://github.com/qgis/QGIS/pull/3886>- like
>> in the desktop
>>
>> - A new option to trust layer metadata
>> <https://github.com/qgis/QGIS/pull/5094> and speed up project loading
>>
>>
>> *# Infrastructure tasks*
>>
>> - Build a OGC compliancy platform
>> <http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/> and
>> integrate it to a continuous integration platform. Conformity reports are
>> now pushed to tests.qgis.org *XXX waiting for Richard to expose them in
>> the website*
>>
>> - Add unit tests... and again more unit tests
>>
>> - Stress QGIS server against security leaks
>> <http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL
>> injections and other malicious attacks)
>>
>> - Start profiling and bench marking performances. This work still need
>> some love - and funding - to be achieved
>>
>>
>> A presentation
>> <https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf> was
>> given at FOSS4G-EU in July.
>>
>> *Congratulations* to the developers who worked hard on that work.
>>
>> Now this deserves to be well tested, please report back any issues!
>>
>>
>>
>> 2017-10-04 15:17 GMT+02:00 Anita Graser <anitagraser at gmx.at>:
>>
>>>
>>>
>>> On Wed, Oct 4, 2017 at 1:23 PM, Régis Haubourg <regis.haubourg at gmail.com
>>> > wrote:
>>>
>>>> Hi
>>>>
>>>> Yes, refactoring is now complete! see : https://github.com/qgis/QGIS-E
>>>> nhancement-Proposals/issues/74#issuecomment-334123595
>>>>
>>>> Anita, I'll draft an article tonight if you still agree to review it,
>>>> that would be great!
>>>>
>>>
>>>
>>> ​Sure!
>>>
>>> Anita
>>>
>>>
>>>
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171004/847c570b/attachment.html>

From apasotti at gmail.com  Thu Oct  5 00:34:11 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 5 Oct 2017 09:34:11 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
Message-ID: <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>

Hi Règis,

thanks for the nice summary!

Maybe it would be interesting for python devs to stress out how QGIS server
3 brings the bindings and the plugins to a new level: while the original
filter-style python plugins, are still available, the new service-oriented
plugin-based architecture allows Python developers to create new services
(for example WPS) by implementing a new `QgsService` directly in Python.
Overriding existing services is also possible.

The server API has now full python bindings and a QGIS server can be easily
implemented directly in Python and wrapped into your favourite framework
(see this simple wsgi experiment:
https://gist.github.com/elpaso/0cd7fb6a0518dc46c45557d9133438b8 ).

For more examples of the API, I think there are some basic examples in the
official Python tests:
https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsserver_services.py#L79


Cheers





On Wed, Oct 4, 2017 at 10:49 PM, Régis Haubourg <regis.haubourg at gmail.com>
wrote:

> Well, from a user point of view, that's a bit hard since all this is 90 %
> refactoring.. which is supposed to be transparent for users.
>
> We have the trust and multithreaded features, that should (and early
> testers today found it slower today) and the ability to code new services
> using python.
> We can also show some numbers about OGC conformity tests and the goal of
> reaching OGC certification (WMS only by now).
>
> Alessandro, René-Luc and David, do you have some user oriented examples
> for the new modular API ?
>
>
>
> 2017-10-04 22:18 GMT+02:00 Anita Graser <anitagraser at gmx.at>:
>
>> Great overview, thanks for drafting Régis!
>>
>> Some additional ideas: Could we add a section with the key improvements
>> from an user perspective?
>>
>> I'm particularly intrigued by the services / plugins part. Could you
>> elaborate?
>>
>> Regards,
>> Anita
>>
>>
>>
>> On Wed, Oct 4, 2017 at 9:42 PM, Régis Haubourg <regis.haubourg at gmail.com>
>> wrote:
>>
>>> Hi again,
>>> here is my very first draft:
>>>
>>>  Several images can be pulled from the joined slides given at Foss4G-EU
>>> here https://drive.google.com/file/d/0BzatQbprJ-hjWF95VzdHbGRsVEk
>>> /view?usp=sharing
>>>
>>> René-Luc, David, Paul, don't hesitate to amend that!
>>>
>>> ------------------------------------------------------------
>>> --------------------------------
>>>
>>>
>>> *Qgis server refactoring is done!*
>>> As you may know, QGIS is jumping to a new major version (yes!).
>>> Doing so was made necessary because of the need to switch to python 3,
>>> QT5, but also because we needed to break the QGIS API in several places.
>>>
>>> A year ago, a tiny troll <https://github.com/qgis/qgis3.0_api/issues/63>from
>>> switzerland rang a bell about the strong need for love server code base
>>> required.
>>>
>>> Indeed, the API was locked by some old methods of QGIS server. In short,
>>> QGIS server was reparsing the qgs project file in his own way, and created
>>> dependencies to part of QGIS we needed to drop.
>>>
>>> As outsourcing the server code base was not an option, so we had to
>>> refactor it.
>>>
>>> The involved parties decided to get engaged in a code sprint
>>> <https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in
>>> the city of Lyon , France dedicated to sharing their vision, planning the
>>> work and finally making all the following
>>> <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen :
>>>
>>>
>>>
>>> *# Deep, complex and unrewarding tasks:*
>>>
>>> - Remove all singleton calls
>>>
>>> - Cut all the dependencies to the old qgis project parser
>>>
>>> - Minimize dependencies to GUI library. Since fonts are necessary to
>>> render maps, totally removing them was not feasable.
>>>
>>> *# Higher level refactoring*
>>>
>>> All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS,
>>> GetPrint etc..) have been rewritten. Some like WMS were entirely rewritten.
>>> Kudos to the dev's
>>>
>>>
>>> *# New features and architecture stuff*
>>>
>>> - QGIS Server Services as plugins like providers. (slide 10 would be a
>>> nice figure here)
>>>
>>> - Multi-thread rendering  <https://github.com/qgis/QGIS/pull/3886>-
>>> like in the desktop
>>>
>>> - A new option to trust layer metadata
>>> <https://github.com/qgis/QGIS/pull/5094> and speed up project loading
>>>
>>>
>>> *# Infrastructure tasks*
>>>
>>> - Build a OGC compliancy platform
>>> <http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/> and
>>> integrate it to a continuous integration platform. Conformity reports are
>>> now pushed to tests.qgis.org *XXX waiting for Richard to expose them in
>>> the website*
>>>
>>> - Add unit tests... and again more unit tests
>>>
>>> - Stress QGIS server against security leaks
>>> <http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL
>>> injections and other malicious attacks)
>>>
>>> - Start profiling and bench marking performances. This work still need
>>> some love - and funding - to be achieved
>>>
>>>
>>> A presentation
>>> <https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf> was
>>> given at FOSS4G-EU in July.
>>>
>>> *Congratulations* to the developers who worked hard on that work.
>>>
>>> Now this deserves to be well tested, please report back any issues!
>>>
>>>
>>>
>>> 2017-10-04 15:17 GMT+02:00 Anita Graser <anitagraser at gmx.at>:
>>>
>>>>
>>>>
>>>> On Wed, Oct 4, 2017 at 1:23 PM, Régis Haubourg <
>>>> regis.haubourg at gmail.com> wrote:
>>>>
>>>>> Hi
>>>>>
>>>>> Yes, refactoring is now complete! see : https://github.com/qgis/QGIS-E
>>>>> nhancement-Proposals/issues/74#issuecomment-334123595
>>>>>
>>>>> Anita, I'll draft an article tonight if you still agree to review it,
>>>>> that would be great!
>>>>>
>>>>
>>>>
>>>> ​Sure!
>>>>
>>>> Anita
>>>>
>>>>
>>>>
>>>>
>>>>
>>>
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/5ff1dd54/attachment-0001.html>

From dmarteau at 3liz.com  Thu Oct  5 01:09:35 2017
From: dmarteau at 3liz.com (David Marteau)
Date: Thu, 5 Oct 2017 10:09:35 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
Message-ID: <7DB6DC47-EBB7-4E49-ACFB-DD0504088EC3@3liz.com>

Hi,

Thanks for the overview. 

We need more examples of embedding the server in python and I plan to publish some concrete examples from our use cases asap.

David M.


> Le 5 oct. 2017 à 09:34, Alessandro Pasotti <apasotti at gmail.com> a écrit :
> 
> Hi Règis,
> 
> thanks for the nice summary!
> 
> Maybe it would be interesting for python devs to stress out how QGIS server 3 brings the bindings and the plugins to a new level: while the original filter-style python plugins, are still available, the new service-oriented plugin-based architecture allows Python developers to create new services (for example WPS) by implementing a new `QgsService` directly in Python. Overriding existing services is also possible.
> 
> The server API has now full python bindings and a QGIS server can be easily implemented directly in Python and wrapped into your favourite framework (see this simple wsgi experiment: https://gist.github.com/elpaso/0cd7fb6a0518dc46c45557d9133438b8 <https://gist.github.com/elpaso/0cd7fb6a0518dc46c45557d9133438b8> ).
> 
> For more examples of the API, I think there are some basic examples in the official Python tests: https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsserver_services.py#L79 <https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsserver_services.py#L79> 
> 
> 
> Cheers
> 
> 
> 
> 
> 
> On Wed, Oct 4, 2017 at 10:49 PM, Régis Haubourg <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>> wrote:
> Well, from a user point of view, that's a bit hard since all this is 90 % refactoring.. which is supposed to be transparent for users. 
> 
> We have the trust and multithreaded features, that should (and early testers today found it slower today) and the ability to code new services using python.   
> We can also show some numbers about OGC conformity tests and the goal of reaching OGC certification (WMS only by now). 
> 
> Alessandro, René-Luc and David, do you have some user oriented examples for the new modular API ? 
> 
> 
> 
> 2017-10-04 22:18 GMT+02:00 Anita Graser <anitagraser at gmx.at <mailto:anitagraser at gmx.at>>:
> Great overview, thanks for drafting Régis!
> 
> Some additional ideas: Could we add a section with the key improvements from an user perspective? 
> 
> I'm particularly intrigued by the services / plugins part. Could you elaborate?
> 
> Regards,
> Anita
> 
> 
> 
> On Wed, Oct 4, 2017 at 9:42 PM, Régis Haubourg <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>> wrote:
> Hi again, 
> here is my very first draft:
> 
>  Several images can be pulled from the joined slides given at Foss4G-EU here https://drive.google.com/file/d/0BzatQbprJ-hjWF95VzdHbGRsVEk/view?usp=sharing <https://drive.google.com/file/d/0BzatQbprJ-hjWF95VzdHbGRsVEk/view?usp=sharing> 
> 
> René-Luc, David, Paul, don't hesitate to amend that!
> 
> --------------------------------------------------------------------------------------------
> 
> Qgis server refactoring is done!
> 
> As you may know, QGIS is jumping to a new major version (yes!).  
> Doing so was made necessary because of the need to switch to python 3, QT5, but also because we needed to break the QGIS API in several places. 
> 
> A year ago, a tiny troll  <https://github.com/qgis/qgis3.0_api/issues/63>from switzerland rang a bell about the strong need for love server code base required. 
> 
> Indeed, the API was locked by some old methods of QGIS server. In short, QGIS server was reparsing the qgs project file in his own way, and created dependencies to part of QGIS we needed to drop.
>    
> As outsourcing the server code base was not an option, so we had to refactor it. 
> 
> The involved parties decided to get engaged in a code sprint <https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in the city of Lyon , France dedicated to sharing their vision, planning the work and finally making all the following <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen :
> 
> 
> # Deep, complex and unrewarding tasks:
> 
> - Remove all singleton calls
> 
> - Cut all the dependencies to the old qgis project parser
> 
> - Minimize dependencies to GUI library. Since fonts are necessary to render maps, totally removing them was not feasable. 
> 
> # Higher level refactoring
> 
> All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS, GetPrint etc..) have been rewritten. Some like WMS were entirely rewritten. Kudos to the dev's
> 
> 
> # New features and architecture stuff
> 
> - QGIS Server Services as plugins like providers. (slide 10 would be a nice figure here) 
> 
> - Multi-thread rendering  <https://github.com/qgis/QGIS/pull/3886>- like in the desktop
> 
> - A new option to trust layer metadata <https://github.com/qgis/QGIS/pull/5094> and speed up project loading
> 
> 
> # Infrastructure tasks
> 
> - Build a OGC compliancy platform <http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/> and integrate it to a continuous integration platform. Conformity reports are now pushed to tests.qgis.org <http://tests.qgis.org/> XXX waiting for Richard to expose them in the website
> 
> - Add unit tests... and again more unit tests
> 
> - Stress QGIS server against security leaks <http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL injections and other malicious attacks)
> 
> - Start profiling and bench marking performances. This work still need some love - and funding - to be achieved
> 
> 
> A presentation <https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf> was given at FOSS4G-EU in July. 
> 
> Congratulations to the developers who worked hard on that work. 
> 
> Now this deserves to be well tested, please report back any issues!
> 
> 
> 
> 2017-10-04 15:17 GMT+02:00 Anita Graser <anitagraser at gmx.at <mailto:anitagraser at gmx.at>>:
> 
> 
> On Wed, Oct 4, 2017 at 1:23 PM, Régis Haubourg <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>> wrote:
> Hi 
> 
> Yes, refactoring is now complete! see : https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74#issuecomment-334123595 <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74#issuecomment-334123595>
> 
> Anita, I'll draft an article tonight if you still agree to review it, that would be great!
> 
> 
> ​Sure!
> 
> Anita
> 
> 
>  
> 
> 
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> 
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it <http://www.itopen.it/>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/8a701739/attachment.html>

From wonder.sk at gmail.com  Thu Oct  5 02:01:27 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 5 Oct 2017 11:01:27 +0200
Subject: [QGIS-Developer] QGIS 3 vertex editor problems
In-Reply-To: <e8df4061-302a-035d-7a87-cde65fd4430f@carto.net>
References: <e8df4061-302a-035d-7a87-cde65fd4430f@carto.net>
Message-ID: <CAC2XbFfu-4S-tZ_fOcbZqUSQO2vWveGp6oHt2kC20WvPL1PyoA@mail.gmail.com>

Hi Andreas

On Wed, Oct 4, 2017 at 10:00 AM, Andreas Neumann <a.neumann at carto.net> wrote:
> Hi,
>
> In QGIS 3 the node editing on canvas was quite improved (thanks Martin and
> the sponsors!), however, the vertex editor that allowed to edit individual
> nodes in a list of exact coordinates suffered a lot.
>
> See https://issues.qgis.org/issues/17243
>
> Could a developer, during feature freeze, give the vertex editor some
> attention and fix the open issues?

Yeah I would happy to look into it. The issue is that as soon as node
tool was freed from the requirement of dealing with just one feature
at a time, there is not necessarily 1:1 relationship between what is
active in node tool and the vertex editor. This made me think whether
it would not be more useful to have a separation between node tool and
the vertex editor table. E.g. the vertex editor could be a standalone
dock widget with its own map tool to pick active feature. This could
probably solve all the issues listed in the bug above. I am not sure
what are the common use cases of the vertex editor - do people
commonly use numeric input of vertex coordinates together with visual
editing or are they barely used at the same time? Maybe Andreas if you
could describe your use case for vertex editor, that would help me
understand the workflow.


> I know that one can also use the advanced digitizin panel to edit vertices -
> but to be honest, this panel is so confusing to me - and probably to 90 % of
> the users out there as well - so I think the separate vertex editor panel
> still makes sense.

It is a bit difficult to grasp at first, but it is quite powerful -
maybe some tutorial videos would help to get people on board...


> For 3.2 I would even suggest to add new features to the vertex editor panel,
> to allow adding new features or add/delete individual coordinates of
> existing features, e.g. add new points at a given position, or delete one or
> more nodes.

I think this would go well together with my proposal above to make the
vertex editor independent from the node tool.


> And of course, expose and allow editing z and m values.

Editing of Z/M values should be already supported - or am I wrong?


> @Martin: would you have time fixing the vertex editor during the bug fixing
> period, or should I ask another dev?

Yeah I can handle that - of course first we need an agreement how the
vertex editor should behave...

Cheers
Martin

From matteo.ghetta at gmail.com  Thu Oct  5 02:15:57 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 5 Oct 2017 11:15:57 +0200
Subject: [QGIS-Developer] Missing next button In Website
Message-ID: <3558bfb3-df62-1aa1-dc57-beb36a49510e@gmail.com>

Hi guys,

I noticed a strange thing in the Website. It seems that there is only
the **previous** button both on the top and on the bottom of the page
and the **next** button is missing

For example here:

http://docs.qgis.org/testing/en/docs/training_manual/processing/index.html

but the same behavior is everywhere.

Someone can confirm it?

Thanks

Cheers

Matteo

From luipir at gmail.com  Thu Oct  5 02:16:03 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Thu, 5 Oct 2017 11:16:03 +0200
Subject: [QGIS-Developer] Segmentation fault with 'Create raster icons'
 on and loading a WMS... opinion to remove the preview feature?
In-Reply-To: <66a8c6e5-747f-04ae-7d96-ebc15357b78e@opengis.ch>
References: <CAFO80_rM1hZe7NA4tzVjZhBmjjRwDZEs5iSSP8rnb-sj8iWg5Q@mail.gmail.com>
 <CAFO80_p3KHVqiSsxSKqRGX6mPu3fLrz+nFJtmO1HxhmXezj52A@mail.gmail.com>
 <66a8c6e5-747f-04ae-7d96-ebc15357b78e@opengis.ch>
Message-ID: <CAFO80_pnYY=9wS0WmoJ1RG2_0iDikOc_Jy2sNCVrG7asA0824A@mail.gmail.com>

FYI
hwo complementary PR to solve the issue:
https://github.com/qgis/QGIS/pull/5299 by Mathias
https://github.com/qgis/QGIS/pull/5302 by me
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 4 October 2017 at 17:49, Matthias Kuhn <matthias at opengis.ch> wrote:
> Yes, kill it for WMS please
>
> On 10/04/2017 05:07 PM, Luigi Pirelli wrote:
>> or just skip preview only for WMS
>> Luigi Pirelli
>>
>> **************************************************************************************************
>> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
>> * LinkedIn: https://www.linkedin.com/in/luigipirelli
>> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
>> * GitHub: https://github.com/luipir
>> * Mastering QGIS 2nd Edition:
>> * https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
>> **************************************************************************************************
>>
>>
>> On 4 October 2017 at 17:02, Luigi Pirelli <luipir at gmail.com> wrote:
>>> Hi
>>>
>>> related with issue: https://issues.qgis.org/issues/16803
>>> I strongly agree with Nyall, Pedro Venâncio and Giovanni Manghi to
>>> remove this feature.
>>> The rational is:
>>>
>>> 1) fix seems hard to find (QgsRasterLayer::previewAsImage is triggered
>>> 4/6 times and at aqvery refresh => not useful)... hard bu not
>>> impossible.
>>> 2) hard to find utility in a so little preview
>>> 3) who want to spend dev time on fixing it is welcome :)
>>> 4) Avioid crash is better than a having a not so important feature.
>>>
>>> I'll prepare a PR to remove only the option into "Settings ->
>>> Options... -> Canvas & Legend -> "Create raster icons (may be slow)"
>>> default is Off.
>>>
>>> any opinion?
>>>
>>> Luigi Pirelli
>>>
>>> **************************************************************************************************
>>> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
>>> * LinkedIn: https://www.linkedin.com/in/luigipirelli
>>> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
>>> * GitHub: https://github.com/luipir
>>> * Mastering QGIS 2nd Edition:
>>> * https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
>>> **************************************************************************************************
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From delazj at gmail.com  Thu Oct  5 02:20:26 2017
From: delazj at gmail.com (DelazJ)
Date: Thu, 5 Oct 2017 11:20:26 +0200
Subject: [QGIS-Developer] Missing next button In Website
In-Reply-To: <3558bfb3-df62-1aa1-dc57-beb36a49510e@gmail.com>
References: <3558bfb3-df62-1aa1-dc57-beb36a49510e@gmail.com>
Message-ID: <CAECJsSryvD8=ebYxNJFQL6MSG=BOOOHYeKjA+po6DYmrQpwWcg@mail.gmail.com>

Hi Matteo,

https://github.com/qgis/QGIS-Documentation/issues/2073

2017-10-05 11:15 GMT+02:00 matteo <matteo.ghetta at gmail.com>:

> Hi guys,
>
> I noticed a strange thing in the Website. It seems that there is only
> the **previous** button both on the top and on the bottom of the page
> and the **next** button is missing
>
> For example here:
>
> http://docs.qgis.org/testing/en/docs/training_manual/processing/index.html
>
> but the same behavior is everywhere.
>
> Someone can confirm it?
>
> Thanks
>
> Cheers
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/19e5bd91/attachment.html>

From matteo.ghetta at gmail.com  Thu Oct  5 02:22:24 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 5 Oct 2017 11:22:24 +0200
Subject: [QGIS-Developer] Missing next button In Website
In-Reply-To: <CAECJsSryvD8=ebYxNJFQL6MSG=BOOOHYeKjA+po6DYmrQpwWcg@mail.gmail.com>
References: <3558bfb3-df62-1aa1-dc57-beb36a49510e@gmail.com>
 <CAECJsSryvD8=ebYxNJFQL6MSG=BOOOHYeKjA+po6DYmrQpwWcg@mail.gmail.com>
Message-ID: <03931823-2bc4-ae83-2930-8a10b3cd9236@gmail.com>

Thanks Harrissou,

I missed your issue. Sorry for the duplicated noise :)

Thanks!

Cheers

Matteo

From tim at kartoza.com  Thu Oct  5 02:25:57 2017
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 5 Oct 2017 11:25:57 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <7DB6DC47-EBB7-4E49-ACFB-DD0504088EC3@3liz.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <7DB6DC47-EBB7-4E49-ACFB-DD0504088EC3@3liz.com>
Message-ID: <620919DE-6226-4705-819A-D24732967CD4@kartoza.com>

Hi

> On 05 Oct 2017, at 10:09, David Marteau <dmarteau at 3liz.com> wrote:
> 
> Hi,
> 
> Thanks for the overview. 
> 
> We need more examples of embedding the server in python and I plan to publish some concrete examples from our use cases asap.

Thats great David! Looking forward to testing it out. Can you maybe publish your examples in the python cookbook?

Regards

Tim

> 
> David M.
> 
> 
>> Le 5 oct. 2017 à 09:34, Alessandro Pasotti <apasotti at gmail.com <mailto:apasotti at gmail.com>> a écrit :
>> 
>> Hi Règis,
>> 
>> thanks for the nice summary!
>> 
>> Maybe it would be interesting for python devs to stress out how QGIS server 3 brings the bindings and the plugins to a new level: while the original filter-style python plugins, are still available, the new service-oriented plugin-based architecture allows Python developers to create new services (for example WPS) by implementing a new `QgsService` directly in Python. Overriding existing services is also possible.
>> 
>> The server API has now full python bindings and a QGIS server can be easily implemented directly in Python and wrapped into your favourite framework (see this simple wsgi experiment: https://gist.github.com/elpaso/0cd7fb6a0518dc46c45557d9133438b8 <https://gist.github.com/elpaso/0cd7fb6a0518dc46c45557d9133438b8> ).
>> 
>> For more examples of the API, I think there are some basic examples in the official Python tests: https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsserver_services.py#L79 <https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsserver_services.py#L79> 
>> 
>> 
>> Cheers
>> 
>> 
>> 
>> 
>> 
>> On Wed, Oct 4, 2017 at 10:49 PM, Régis Haubourg <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>> wrote:
>> Well, from a user point of view, that's a bit hard since all this is 90 % refactoring.. which is supposed to be transparent for users. 
>> 
>> We have the trust and multithreaded features, that should (and early testers today found it slower today) and the ability to code new services using python.   
>> We can also show some numbers about OGC conformity tests and the goal of reaching OGC certification (WMS only by now). 
>> 
>> Alessandro, René-Luc and David, do you have some user oriented examples for the new modular API ? 
>> 
>> 
>> 
>> 2017-10-04 22:18 GMT+02:00 Anita Graser <anitagraser at gmx.at <mailto:anitagraser at gmx.at>>:
>> Great overview, thanks for drafting Régis!
>> 
>> Some additional ideas: Could we add a section with the key improvements from an user perspective? 
>> 
>> I'm particularly intrigued by the services / plugins part. Could you elaborate?
>> 
>> Regards,
>> Anita
>> 
>> 
>> 
>> On Wed, Oct 4, 2017 at 9:42 PM, Régis Haubourg <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>> wrote:
>> Hi again, 
>> here is my very first draft:
>> 
>>  Several images can be pulled from the joined slides given at Foss4G-EU here https://drive.google.com/file/d/0BzatQbprJ-hjWF95VzdHbGRsVEk/view?usp=sharing <https://drive.google.com/file/d/0BzatQbprJ-hjWF95VzdHbGRsVEk/view?usp=sharing> 
>> 
>> René-Luc, David, Paul, don't hesitate to amend that!
>> 
>> --------------------------------------------------------------------------------------------
>> 
>> Qgis server refactoring is done!
>> 
>> As you may know, QGIS is jumping to a new major version (yes!).  
>> Doing so was made necessary because of the need to switch to python 3, QT5, but also because we needed to break the QGIS API in several places. 
>> 
>> A year ago, a tiny troll  <https://github.com/qgis/qgis3.0_api/issues/63>from switzerland rang a bell about the strong need for love server code base required. 
>> 
>> Indeed, the API was locked by some old methods of QGIS server. In short, QGIS server was reparsing the qgs project file in his own way, and created dependencies to part of QGIS we needed to drop.
>>    
>> As outsourcing the server code base was not an option, so we had to refactor it. 
>> 
>> The involved parties decided to get engaged in a code sprint <https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in the city of Lyon , France dedicated to sharing their vision, planning the work and finally making all the following <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen :
>> 
>> 
>> # Deep, complex and unrewarding tasks:
>> 
>> - Remove all singleton calls
>> 
>> - Cut all the dependencies to the old qgis project parser
>> 
>> - Minimize dependencies to GUI library. Since fonts are necessary to render maps, totally removing them was not feasable. 
>> 
>> # Higher level refactoring
>> 
>> All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS, GetPrint etc..) have been rewritten. Some like WMS were entirely rewritten. Kudos to the dev's
>> 
>> 
>> # New features and architecture stuff
>> 
>> - QGIS Server Services as plugins like providers. (slide 10 would be a nice figure here) 
>> 
>> - Multi-thread rendering  <https://github.com/qgis/QGIS/pull/3886>- like in the desktop
>> 
>> - A new option to trust layer metadata <https://github.com/qgis/QGIS/pull/5094> and speed up project loading
>> 
>> 
>> # Infrastructure tasks
>> 
>> - Build a OGC compliancy platform <http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/> and integrate it to a continuous integration platform. Conformity reports are now pushed to tests.qgis.org <http://tests.qgis.org/> XXX waiting for Richard to expose them in the website
>> 
>> - Add unit tests... and again more unit tests
>> 
>> - Stress QGIS server against security leaks <http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL injections and other malicious attacks)
>> 
>> - Start profiling and bench marking performances. This work still need some love - and funding - to be achieved
>> 
>> 
>> A presentation <https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf> was given at FOSS4G-EU in July. 
>> 
>> Congratulations to the developers who worked hard on that work. 
>> 
>> Now this deserves to be well tested, please report back any issues!
>> 
>> 
>> 
>> 2017-10-04 15:17 GMT+02:00 Anita Graser <anitagraser at gmx.at <mailto:anitagraser at gmx.at>>:
>> 
>> 
>> On Wed, Oct 4, 2017 at 1:23 PM, Régis Haubourg <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>> wrote:
>> Hi 
>> 
>> Yes, refactoring is now complete! see : https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74#issuecomment-334123595 <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74#issuecomment-334123595>
>> 
>> Anita, I'll draft an article tonight if you still agree to review it, that would be great!
>> 
>> 
>> ​Sure!
>> 
>> Anita
>> 
>> 
>>  
>> 
>> 
>> 
>> 
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> 
>> 
>> 
>> -- 
>> Alessandro Pasotti
>> w3:   www.itopen.it <http://www.itopen.it/>_______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/2f7ea1fe/attachment-0001.html>

From regis.haubourg at gmail.com  Thu Oct  5 02:32:12 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 5 Oct 2017 11:32:12 +0200
Subject: [QGIS-Developer] QGIS 3 vertex editor problems
In-Reply-To: <CAC2XbFfu-4S-tZ_fOcbZqUSQO2vWveGp6oHt2kC20WvPL1PyoA@mail.gmail.com>
References: <e8df4061-302a-035d-7a87-cde65fd4430f@carto.net>
 <CAC2XbFfu-4S-tZ_fOcbZqUSQO2vWveGp6oHt2kC20WvPL1PyoA@mail.gmail.com>
Message-ID: <CABgOYCevGCex1hOiXr8n_iVTy0ScjTtO8mJkJMxx6NH-pVBVHg@mail.gmail.com>

Hi,
Agreed with Martin, the ergonomics changed because now we can't anymore
assume all the vertices are in the same feature.
Not being able to sub select a node without loosing previous selection is
indeed a pain. Martin is there any solution to keep a node selection, and
be able to subselect nodes from the map?

The use case I know is more typing z / m values easily than entering XY.
 X/Y typing is not so difficult using the advanced editor panel (just type
"x" then paste the X, "y" then paste) . It requires less mouse clicks for
sure than the node editor panel.
We maybe could add the z and m SpinBox with z and m shortcuts too there.

Régis





2017-10-05 11:01 GMT+02:00 Martin Dobias <wonder.sk at gmail.com>:

> Hi Andreas
>
> On Wed, Oct 4, 2017 at 10:00 AM, Andreas Neumann <a.neumann at carto.net>
> wrote:
> > Hi,
> >
> > In QGIS 3 the node editing on canvas was quite improved (thanks Martin
> and
> > the sponsors!), however, the vertex editor that allowed to edit
> individual
> > nodes in a list of exact coordinates suffered a lot.
> >
> > See https://issues.qgis.org/issues/17243
> >
> > Could a developer, during feature freeze, give the vertex editor some
> > attention and fix the open issues?
>
> Yeah I would happy to look into it. The issue is that as soon as node
> tool was freed from the requirement of dealing with just one feature
> at a time, there is not necessarily 1:1 relationship between what is
> active in node tool and the vertex editor. This made me think whether
> it would not be more useful to have a separation between node tool and
> the vertex editor table. E.g. the vertex editor could be a standalone
> dock widget with its own map tool to pick active feature. This could
> probably solve all the issues listed in the bug above. I am not sure
> what are the common use cases of the vertex editor - do people
> commonly use numeric input of vertex coordinates together with visual
> editing or are they barely used at the same time? Maybe Andreas if you
> could describe your use case for vertex editor, that would help me
> understand the workflow.
>
>
> > I know that one can also use the advanced digitizin panel to edit
> vertices -
> > but to be honest, this panel is so confusing to me - and probably to 90
> % of
> > the users out there as well - so I think the separate vertex editor panel
> > still makes sense.
>
> It is a bit difficult to grasp at first, but it is quite powerful -
> maybe some tutorial videos would help to get people on board...
>
>
> > For 3.2 I would even suggest to add new features to the vertex editor
> panel,
> > to allow adding new features or add/delete individual coordinates of
> > existing features, e.g. add new points at a given position, or delete
> one or
> > more nodes.
>
> I think this would go well together with my proposal above to make the
> vertex editor independent from the node tool.
>
>
> > And of course, expose and allow editing z and m values.
>
> Editing of Z/M values should be already supported - or am I wrong?
>
>
> > @Martin: would you have time fixing the vertex editor during the bug
> fixing
> > period, or should I ask another dev?
>
> Yeah I can handle that - of course first we need an agreement how the
> vertex editor should behave...
>
> Cheers
> Martin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/acce4e83/attachment.html>

From rdmailings at duif.net  Thu Oct  5 03:15:28 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 5 Oct 2017 12:15:28 +0200
Subject: [QGIS-Developer] Missing next button In Website
In-Reply-To: <03931823-2bc4-ae83-2930-8a10b3cd9236@gmail.com>
References: <3558bfb3-df62-1aa1-dc57-beb36a49510e@gmail.com>
 <CAECJsSryvD8=ebYxNJFQL6MSG=BOOOHYeKjA+po6DYmrQpwWcg@mail.gmail.com>
 <03931823-2bc4-ae83-2930-8a10b3cd9236@gmail.com>
Message-ID: <838abd68-ca79-f51f-9860-4b75068ef94d@duif.net>

On 05-10-17 11:22, matteo wrote:
> Thanks Harrissou,
> 
> I missed your issue. Sorry for the duplicated noise :)

Ah, missed the ping...

Will look at it. Just ping me via email if something takes too long.
Too many communication channels try to ping me...

Richard

From delazj at gmail.com  Thu Oct  5 03:26:19 2017
From: delazj at gmail.com (DelazJ)
Date: Thu, 5 Oct 2017 12:26:19 +0200
Subject: [QGIS-Developer] Missing next button In Website
In-Reply-To: <838abd68-ca79-f51f-9860-4b75068ef94d@duif.net>
References: <3558bfb3-df62-1aa1-dc57-beb36a49510e@gmail.com>
 <CAECJsSryvD8=ebYxNJFQL6MSG=BOOOHYeKjA+po6DYmrQpwWcg@mail.gmail.com>
 <03931823-2bc4-ae83-2930-8a10b3cd9236@gmail.com>
 <838abd68-ca79-f51f-9860-4b75068ef94d@duif.net>
Message-ID: <CAECJsSpu79cQBZ1nz_EjZ6oe_OuGCp1DkWK1btdGEr0jSmE=GA@mail.gmail.com>

Matteo, no problem. You don't have to be sorry.
Also, mentioning that in the list makes Richard aware of the bug. So it's
good! :-)

Harrissou

2017-10-05 12:15 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:

> On 05-10-17 11:22, matteo wrote:
> > Thanks Harrissou,
> >
> > I missed your issue. Sorry for the duplicated noise :)
>
> Ah, missed the ping...
>
> Will look at it. Just ping me via email if something takes too long.
> Too many communication channels try to ping me...
>
> Richard
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/ca1e75eb/attachment.html>

From blackwhitekez at gmail.com  Thu Oct  5 04:48:07 2017
From: blackwhitekez at gmail.com (Patrick Dunford)
Date: Fri, 6 Oct 2017 00:48:07 +1300
Subject: [QGIS-Developer] Caching of raster images
Message-ID: <107c4500-6346-5c06-3f43-9b4070310918@gmail.com>

Some time ago in a discussion of a particular bug a contributor 
expressed concern that the refresh of background rasters (aerial 
photography) in Windows was too slow.

Maybe this is the reason that recent versions of master appear to be 
loading all of the background imagery into memory (I use a master from 
January this year to work around issues with later ones, and that master 
does not have this feature).

Unfortunately if there are a lot of rasters then the memory demand is 
excessive and unsurprisingly slows down the computer negating any 
purported benefit of caching.

As an example a project I am currently working on has about 900 aerial 
photo images (GeoJpeg). When the layer is turned on for display, Qgis 
requires about 46 GB of virtual memory. Since my computer only has 24 GB 
of physical memory, it is required to dip into the swap space 
considerably. Even with 60 GB of swap space on an SSD, the swapping 
needed to refresh the canvas is substantial and dramatically reduces 
performance resulting in substantial delays. Compare with the January 
master referred to above which only requires about 7 GB of virtual 
memory total with the aerial photo layer displayed. The time needed to 
refresh the canvas is less than 1 second, most of the time.

I know that the canvas refresh in Windows with aerial photos can be 
substantially slower than in Linux. This does not affect me, because I 
don't use Windows now that I have a stable platform for running an older 
Linux master alongside the most recent one. What I do know is that the 
memory demands are making it difficult to evaluate the recent masters. I 
need some kind of setting to turn this caching off. With the aerial 
photo layer turned off, the memory usage of the current master is about 
the same as the old one, and it's much quicker to update.



From regis.haubourg at gmail.com  Thu Oct  5 05:08:17 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 5 Oct 2017 14:08:17 +0200
Subject: [QGIS-Developer] Caching of raster images
In-Reply-To: <107c4500-6346-5c06-3f43-9b4070310918@gmail.com>
References: <107c4500-6346-5c06-3f43-9b4070310918@gmail.com>
Message-ID: <CABgOYCf04XhP_70w7rP8oc84kKunZXdq8aAN_764xC757FWtFA@mail.gmail.com>

Hi Patrick ,
 did you consider using GDAL VRT to avoid opening so much files?
In my experience, this works well.
Régis


2017-10-05 13:48 GMT+02:00 Patrick Dunford <blackwhitekez at gmail.com>:

> Some time ago in a discussion of a particular bug a contributor expressed
> concern that the refresh of background rasters (aerial photography) in
> Windows was too slow.
>
> Maybe this is the reason that recent versions of master appear to be
> loading all of the background imagery into memory (I use a master from
> January this year to work around issues with later ones, and that master
> does not have this feature).
>
> Unfortunately if there are a lot of rasters then the memory demand is
> excessive and unsurprisingly slows down the computer negating any purported
> benefit of caching.
>
> As an example a project I am currently working on has about 900 aerial
> photo images (GeoJpeg). When the layer is turned on for display, Qgis
> requires about 46 GB of virtual memory. Since my computer only has 24 GB of
> physical memory, it is required to dip into the swap space considerably.
> Even with 60 GB of swap space on an SSD, the swapping needed to refresh the
> canvas is substantial and dramatically reduces performance resulting in
> substantial delays. Compare with the January master referred to above which
> only requires about 7 GB of virtual memory total with the aerial photo
> layer displayed. The time needed to refresh the canvas is less than 1
> second, most of the time.
>
> I know that the canvas refresh in Windows with aerial photos can be
> substantially slower than in Linux. This does not affect me, because I
> don't use Windows now that I have a stable platform for running an older
> Linux master alongside the most recent one. What I do know is that the
> memory demands are making it difficult to evaluate the recent masters. I
> need some kind of setting to turn this caching off. With the aerial photo
> layer turned off, the memory usage of the current master is about the same
> as the old one, and it's much quicker to update.
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/11645205/attachment-0001.html>

From blackwhitekez at gmail.com  Thu Oct  5 05:10:37 2017
From: blackwhitekez at gmail.com (Patrick Dunford)
Date: Fri, 6 Oct 2017 01:10:37 +1300
Subject: [QGIS-Developer] Caching of raster images
In-Reply-To: <CABgOYCf04XhP_70w7rP8oc84kKunZXdq8aAN_764xC757FWtFA@mail.gmail.com>
References: <107c4500-6346-5c06-3f43-9b4070310918@gmail.com>
 <CABgOYCf04XhP_70w7rP8oc84kKunZXdq8aAN_764xC757FWtFA@mail.gmail.com>
Message-ID: <d2a95348-6c0d-61e7-e040-c29209b7740c@gmail.com>

I don't know what this is.


On 06/10/17 01:08, Régis Haubourg wrote:
> Hi Patrick ,
>  did you consider using GDAL VRT to avoid opening so much files?
> In my experience, this works well.
> Régis
>
>
> 2017-10-05 13:48 GMT+02:00 Patrick Dunford <blackwhitekez at gmail.com 
> <mailto:blackwhitekez at gmail.com>>:
>
>     Some time ago in a discussion of a particular bug a contributor
>     expressed concern that the refresh of background rasters (aerial
>     photography) in Windows was too slow.
>
>     Maybe this is the reason that recent versions of master appear to
>     be loading all of the background imagery into memory (I use a
>     master from January this year to work around issues with later
>     ones, and that master does not have this feature).
>
>     Unfortunately if there are a lot of rasters then the memory demand
>     is excessive and unsurprisingly slows down the computer negating
>     any purported benefit of caching.
>
>     As an example a project I am currently working on has about 900
>     aerial photo images (GeoJpeg). When the layer is turned on for
>     display, Qgis requires about 46 GB of virtual memory. Since my
>     computer only has 24 GB of physical memory, it is required to dip
>     into the swap space considerably. Even with 60 GB of swap space on
>     an SSD, the swapping needed to refresh the canvas is substantial
>     and dramatically reduces performance resulting in substantial
>     delays. Compare with the January master referred to above which
>     only requires about 7 GB of virtual memory total with the aerial
>     photo layer displayed. The time needed to refresh the canvas is
>     less than 1 second, most of the time.
>
>     I know that the canvas refresh in Windows with aerial photos can
>     be substantially slower than in Linux. This does not affect me,
>     because I don't use Windows now that I have a stable platform for
>     running an older Linux master alongside the most recent one. What
>     I do know is that the memory demands are making it difficult to
>     evaluate the recent masters. I need some kind of setting to turn
>     this caching off. With the aerial photo layer turned off, the
>     memory usage of the current master is about the same as the old
>     one, and it's much quicker to update.
>
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171006/04c936c1/attachment.html>

From regis.haubourg at gmail.com  Thu Oct  5 05:12:59 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 5 Oct 2017 14:12:59 +0200
Subject: [QGIS-Developer] Caching of raster images
In-Reply-To: <d2a95348-6c0d-61e7-e040-c29209b7740c@gmail.com>
References: <107c4500-6346-5c06-3f43-9b4070310918@gmail.com>
 <CABgOYCf04XhP_70w7rP8oc84kKunZXdq8aAN_764xC757FWtFA@mail.gmail.com>
 <d2a95348-6c0d-61e7-e040-c29209b7740c@gmail.com>
Message-ID: <CABgOYCf2mMMFBG0u9RmLjYVEvboDR7suE4nGRH=dHE+=95TJSg@mail.gmail.com>

here it is: http://www.gdal.org/gdal_vrttut.html

you can assemble raster of vector files, apply filters, reprojections,
build pyramids to avoid fetching the lowest resolution data. This is pretty
efficient.

Cheers
Régis

2017-10-05 14:10 GMT+02:00 Patrick Dunford <blackwhitekez at gmail.com>:

> I don't know what this is.
>
> On 06/10/17 01:08, Régis Haubourg wrote:
>
> Hi Patrick ,
>  did you consider using GDAL VRT to avoid opening so much files?
> In my experience, this works well.
> Régis
>
>
> 2017-10-05 13:48 GMT+02:00 Patrick Dunford <blackwhitekez at gmail.com>:
>
>> Some time ago in a discussion of a particular bug a contributor expressed
>> concern that the refresh of background rasters (aerial photography) in
>> Windows was too slow.
>>
>> Maybe this is the reason that recent versions of master appear to be
>> loading all of the background imagery into memory (I use a master from
>> January this year to work around issues with later ones, and that master
>> does not have this feature).
>>
>> Unfortunately if there are a lot of rasters then the memory demand is
>> excessive and unsurprisingly slows down the computer negating any purported
>> benefit of caching.
>>
>> As an example a project I am currently working on has about 900 aerial
>> photo images (GeoJpeg). When the layer is turned on for display, Qgis
>> requires about 46 GB of virtual memory. Since my computer only has 24 GB of
>> physical memory, it is required to dip into the swap space considerably.
>> Even with 60 GB of swap space on an SSD, the swapping needed to refresh the
>> canvas is substantial and dramatically reduces performance resulting in
>> substantial delays. Compare with the January master referred to above which
>> only requires about 7 GB of virtual memory total with the aerial photo
>> layer displayed. The time needed to refresh the canvas is less than 1
>> second, most of the time.
>>
>> I know that the canvas refresh in Windows with aerial photos can be
>> substantially slower than in Linux. This does not affect me, because I
>> don't use Windows now that I have a stable platform for running an older
>> Linux master alongside the most recent one. What I do know is that the
>> memory demands are making it difficult to evaluate the recent masters. I
>> need some kind of setting to turn this caching off. With the aerial photo
>> layer turned off, the memory usage of the current master is about the same
>> as the old one, and it's much quicker to update.
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/e119aa8c/attachment.html>

From blackwhitekez at gmail.com  Thu Oct  5 05:19:00 2017
From: blackwhitekez at gmail.com (Patrick Dunford)
Date: Fri, 6 Oct 2017 01:19:00 +1300
Subject: [QGIS-Developer] Caching of raster images
In-Reply-To: <CABgOYCf2mMMFBG0u9RmLjYVEvboDR7suE4nGRH=dHE+=95TJSg@mail.gmail.com>
References: <107c4500-6346-5c06-3f43-9b4070310918@gmail.com>
 <CABgOYCf04XhP_70w7rP8oc84kKunZXdq8aAN_764xC757FWtFA@mail.gmail.com>
 <d2a95348-6c0d-61e7-e040-c29209b7740c@gmail.com>
 <CABgOYCf2mMMFBG0u9RmLjYVEvboDR7suE4nGRH=dHE+=95TJSg@mail.gmail.com>
Message-ID: <c340593e-9165-91de-f5ae-975aac34170d@gmail.com>

I probably don't have the technical means to use that.


On 06/10/17 01:12, Régis Haubourg wrote:
> here it is: http://www.gdal.org/gdal_vrttut.html
>
> you can assemble raster of vector files, apply filters, reprojections, 
> build pyramids to avoid fetching the lowest resolution data. This is 
> pretty efficient.
>
> Cheers
> Régis
>
> 2017-10-05 14:10 GMT+02:00 Patrick Dunford <blackwhitekez at gmail.com 
> <mailto:blackwhitekez at gmail.com>>:
>
>     I don't know what this is.
>
>
>     On 06/10/17 01:08, Régis Haubourg wrote:
>>     Hi Patrick ,
>>      did you consider using GDAL VRT to avoid opening so much files?
>>     In my experience, this works well.
>>     Régis
>>
>>
>>     2017-10-05 13:48 GMT+02:00 Patrick Dunford
>>     <blackwhitekez at gmail.com <mailto:blackwhitekez at gmail.com>>:
>>
>>         Some time ago in a discussion of a particular bug a
>>         contributor expressed concern that the refresh of background
>>         rasters (aerial photography) in Windows was too slow.
>>
>>         Maybe this is the reason that recent versions of master
>>         appear to be loading all of the background imagery into
>>         memory (I use a master from January this year to work around
>>         issues with later ones, and that master does not have this
>>         feature).
>>
>>         Unfortunately if there are a lot of rasters then the memory
>>         demand is excessive and unsurprisingly slows down the
>>         computer negating any purported benefit of caching.
>>
>>         As an example a project I am currently working on has about
>>         900 aerial photo images (GeoJpeg). When the layer is turned
>>         on for display, Qgis requires about 46 GB of virtual memory.
>>         Since my computer only has 24 GB of physical memory, it is
>>         required to dip into the swap space considerably. Even with
>>         60 GB of swap space on an SSD, the swapping needed to refresh
>>         the canvas is substantial and dramatically reduces
>>         performance resulting in substantial delays. Compare with the
>>         January master referred to above which only requires about 7
>>         GB of virtual memory total with the aerial photo layer
>>         displayed. The time needed to refresh the canvas is less than
>>         1 second, most of the time.
>>
>>         I know that the canvas refresh in Windows with aerial photos
>>         can be substantially slower than in Linux. This does not
>>         affect me, because I don't use Windows now that I have a
>>         stable platform for running an older Linux master alongside
>>         the most recent one. What I do know is that the memory
>>         demands are making it difficult to evaluate the recent
>>         masters. I need some kind of setting to turn this caching
>>         off. With the aerial photo layer turned off, the memory usage
>>         of the current master is about the same as the old one, and
>>         it's much quicker to update.
>>
>>
>>         _______________________________________________
>>         QGIS-Developer mailing list
>>         QGIS-Developer at lists.osgeo.org
>>         <mailto:QGIS-Developer at lists.osgeo.org>
>>         List info:
>>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>         Unsubscribe:
>>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>
>>
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171006/8b9abaf1/attachment-0001.html>

From regis.haubourg at gmail.com  Thu Oct  5 05:25:49 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 5 Oct 2017 14:25:49 +0200
Subject: [QGIS-Developer] Caching of raster images
In-Reply-To: <c340593e-9165-91de-f5ae-975aac34170d@gmail.com>
References: <107c4500-6346-5c06-3f43-9b4070310918@gmail.com>
 <CABgOYCf04XhP_70w7rP8oc84kKunZXdq8aAN_764xC757FWtFA@mail.gmail.com>
 <d2a95348-6c0d-61e7-e040-c29209b7740c@gmail.com>
 <CABgOYCf2mMMFBG0u9RmLjYVEvboDR7suE4nGRH=dHE+=95TJSg@mail.gmail.com>
 <c340593e-9165-91de-f5ae-975aac34170d@gmail.com>
Message-ID: <CABgOYCcDoeUMUvg3v8YDQd0W88P_mxaPPkeNarmB5M6we7rmCw@mail.gmail.com>

GDAL is probably installed on your system, you need it for QGIS :)

something like this should do the trick in a linux bash or from the osgeo4w
embedded shells (either windows or msys )
gdalbuildvrt all_ecw.vrt *.tiff -a_srs "EPSG:yourSridHere"
See
http://geoserver.geo-solutions.it/edu/en/raster_data/advanced_gdal/example1.html
for instance




2017-10-05 14:19 GMT+02:00 Patrick Dunford <blackwhitekez at gmail.com>:

> I probably don't have the technical means to use that.
>
> On 06/10/17 01:12, Régis Haubourg wrote:
>
> here it is: http://www.gdal.org/gdal_vrttut.html
>
> you can assemble raster of vector files, apply filters, reprojections,
> build pyramids to avoid fetching the lowest resolution data. This is pretty
> efficient.
>
> Cheers
> Régis
>
> 2017-10-05 14:10 GMT+02:00 Patrick Dunford <blackwhitekez at gmail.com>:
>
>> I don't know what this is.
>>
>> On 06/10/17 01:08, Régis Haubourg wrote:
>>
>> Hi Patrick ,
>>  did you consider using GDAL VRT to avoid opening so much files?
>> In my experience, this works well.
>> Régis
>>
>>
>> 2017-10-05 13:48 GMT+02:00 Patrick Dunford <blackwhitekez at gmail.com>:
>>
>>> Some time ago in a discussion of a particular bug a contributor
>>> expressed concern that the refresh of background rasters (aerial
>>> photography) in Windows was too slow.
>>>
>>> Maybe this is the reason that recent versions of master appear to be
>>> loading all of the background imagery into memory (I use a master from
>>> January this year to work around issues with later ones, and that master
>>> does not have this feature).
>>>
>>> Unfortunately if there are a lot of rasters then the memory demand is
>>> excessive and unsurprisingly slows down the computer negating any purported
>>> benefit of caching.
>>>
>>> As an example a project I am currently working on has about 900 aerial
>>> photo images (GeoJpeg). When the layer is turned on for display, Qgis
>>> requires about 46 GB of virtual memory. Since my computer only has 24 GB of
>>> physical memory, it is required to dip into the swap space considerably.
>>> Even with 60 GB of swap space on an SSD, the swapping needed to refresh the
>>> canvas is substantial and dramatically reduces performance resulting in
>>> substantial delays. Compare with the January master referred to above which
>>> only requires about 7 GB of virtual memory total with the aerial photo
>>> layer displayed. The time needed to refresh the canvas is less than 1
>>> second, most of the time.
>>>
>>> I know that the canvas refresh in Windows with aerial photos can be
>>> substantially slower than in Linux. This does not affect me, because I
>>> don't use Windows now that I have a stable platform for running an older
>>> Linux master alongside the most recent one. What I do know is that the
>>> memory demands are making it difficult to evaluate the recent masters. I
>>> need some kind of setting to turn this caching off. With the aerial photo
>>> layer turned off, the memory usage of the current master is about the same
>>> as the old one, and it's much quicker to update.
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/42e85d4e/attachment.html>

From nirvn.asia at gmail.com  Thu Oct  5 05:28:30 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Thu, 5 Oct 2017 19:28:30 +0700
Subject: [QGIS-Developer] Caching of raster images
In-Reply-To: <CABgOYCcDoeUMUvg3v8YDQd0W88P_mxaPPkeNarmB5M6we7rmCw@mail.gmail.com>
References: <107c4500-6346-5c06-3f43-9b4070310918@gmail.com>
 <CABgOYCf04XhP_70w7rP8oc84kKunZXdq8aAN_764xC757FWtFA@mail.gmail.com>
 <d2a95348-6c0d-61e7-e040-c29209b7740c@gmail.com>
 <CABgOYCf2mMMFBG0u9RmLjYVEvboDR7suE4nGRH=dHE+=95TJSg@mail.gmail.com>
 <c340593e-9165-91de-f5ae-975aac34170d@gmail.com>
 <CABgOYCcDoeUMUvg3v8YDQd0W88P_mxaPPkeNarmB5M6we7rmCw@mail.gmail.com>
Message-ID: <CAC_qv=r_ZDFF5p9toRuBPa4X_cH=x10ZJtPZ48X7q7BoXUYn2g@mail.gmail.com>

You can also build your VRT using QGIS' processing toolbox.

On Oct 5, 2017 7:26 PM, "Régis Haubourg" <regis.haubourg at gmail.com> wrote:

> GDAL is probably installed on your system, you need it for QGIS :)
>
> something like this should do the trick in a linux bash or from the
> osgeo4w embedded shells (either windows or msys )
> gdalbuildvrt all_ecw.vrt *.tiff -a_srs "EPSG:yourSridHere"
> See http://geoserver.geo-solutions.it/edu/en/raster_
> data/advanced_gdal/example1.html for instance
>
>
>
>
> 2017-10-05 14:19 GMT+02:00 Patrick Dunford <blackwhitekez at gmail.com>:
>
>> I probably don't have the technical means to use that.
>>
>> On 06/10/17 01:12, Régis Haubourg wrote:
>>
>> here it is: http://www.gdal.org/gdal_vrttut.html
>>
>> you can assemble raster of vector files, apply filters, reprojections,
>> build pyramids to avoid fetching the lowest resolution data. This is pretty
>> efficient.
>>
>> Cheers
>> Régis
>>
>> 2017-10-05 14:10 GMT+02:00 Patrick Dunford <blackwhitekez at gmail.com>:
>>
>>> I don't know what this is.
>>>
>>> On 06/10/17 01:08, Régis Haubourg wrote:
>>>
>>> Hi Patrick ,
>>>  did you consider using GDAL VRT to avoid opening so much files?
>>> In my experience, this works well.
>>> Régis
>>>
>>>
>>> 2017-10-05 13:48 GMT+02:00 Patrick Dunford <blackwhitekez at gmail.com>:
>>>
>>>> Some time ago in a discussion of a particular bug a contributor
>>>> expressed concern that the refresh of background rasters (aerial
>>>> photography) in Windows was too slow.
>>>>
>>>> Maybe this is the reason that recent versions of master appear to be
>>>> loading all of the background imagery into memory (I use a master from
>>>> January this year to work around issues with later ones, and that master
>>>> does not have this feature).
>>>>
>>>> Unfortunately if there are a lot of rasters then the memory demand is
>>>> excessive and unsurprisingly slows down the computer negating any purported
>>>> benefit of caching.
>>>>
>>>> As an example a project I am currently working on has about 900 aerial
>>>> photo images (GeoJpeg). When the layer is turned on for display, Qgis
>>>> requires about 46 GB of virtual memory. Since my computer only has 24 GB of
>>>> physical memory, it is required to dip into the swap space considerably.
>>>> Even with 60 GB of swap space on an SSD, the swapping needed to refresh the
>>>> canvas is substantial and dramatically reduces performance resulting in
>>>> substantial delays. Compare with the January master referred to above which
>>>> only requires about 7 GB of virtual memory total with the aerial photo
>>>> layer displayed. The time needed to refresh the canvas is less than 1
>>>> second, most of the time.
>>>>
>>>> I know that the canvas refresh in Windows with aerial photos can be
>>>> substantially slower than in Linux. This does not affect me, because I
>>>> don't use Windows now that I have a stable platform for running an older
>>>> Linux master alongside the most recent one. What I do know is that the
>>>> memory demands are making it difficult to evaluate the recent masters. I
>>>> need some kind of setting to turn this caching off. With the aerial photo
>>>> layer turned off, the memory usage of the current master is about the same
>>>> as the old one, and it's much quicker to update.
>>>>
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>>
>>>
>>>
>>
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/16c8dd29/attachment-0001.html>

From a.neumann at carto.net  Thu Oct  5 06:04:02 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 05 Oct 2017 15:04:02 +0200
Subject: [QGIS-Developer] QGIS Server: proposal for small change in
	GetFeatureInfo response
Message-ID: <9c75bb14af85fbe6e3078235af00f5e4@carto.net>

Hi QGIS Server devs and users, 

I have a small proposal for a change in the QGIS Server GetFeatureInfo
reponse. 

Next to the attributes that are returned for a feature, there are two
additional results: 

 	* geometry (optional, used for high-lighting in Web-GIS clients)
 	* maptip (usually the display value for the maptip in QGIS desktop or
a combination of several attributes), used by Web-GIS clients if they
want to display the most relevant information on mouse-over

The problem with these two additional result attributes, is that while
they are useful in a Web-GIS client context, both attributes are visible
in the GetFeatureInfo response of a Desktop GIS as well, such as QGIS
desktop. On these desktop GIS clients, the display of those two
attributes are unnecessary or even annoying. 

Now, my proposal is to hide these two attributes by default, unless a
client explicitly requests them. We could introduce a new
vendor-specific parameter, like WITH_GEOMETRY and WITH_MAPTIP or
something similar. 

What do you think? It would require small changes in QWC II, Lizmap or
other specific web clients who specifically use QGIS server extensions. 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/368ad69d/attachment.html>

From regis.haubourg at gmail.com  Thu Oct  5 06:18:35 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Thu, 5 Oct 2017 15:18:35 +0200
Subject: [QGIS-Developer] QGIS Server: proposal for small change in
 GetFeatureInfo response
In-Reply-To: <9c75bb14af85fbe6e3078235af00f5e4@carto.net>
References: <9c75bb14af85fbe6e3078235af00f5e4@carto.net>
Message-ID: <CABgOYCfnE0Ce_j51Z1NsyFsiT-3FS5gLQ2Jkia_7cg2DgTALbw@mail.gmail.com>

Hi Andreas,
good point.

Having two vendor-specific options is ok to me.
What I am wondering is:

- do we prefer to have them displayed by default, and we won't break
existing web client
- have them hidden by default and we stop surcharging QGIS client identify
window.

Any opinion?

Régis

2017-10-05 15:04 GMT+02:00 Andreas Neumann <a.neumann at carto.net>:

> Hi QGIS Server devs and users,
>
> I have a small proposal for a change in the QGIS Server GetFeatureInfo
> reponse.
>
> Next to the attributes that are returned for a feature, there are two
> additional results:
>
>    - geometry (optional, used for high-lighting in Web-GIS clients)
>    - maptip (usually the display value for the maptip in QGIS desktop or
>    a combination of several attributes), used by Web-GIS clients if they want
>    to display the most relevant information on mouse-over
>
> The problem with these two additional result attributes, is that while
> they are useful in a Web-GIS client context, both attributes are visible in
> the GetFeatureInfo response of a Desktop GIS as well, such as QGIS desktop.
> On these desktop GIS clients, the display of those two attributes are
> unnecessary or even annoying.
>
> Now, my proposal is to hide these two attributes by default, unless a
> client explicitly requests them. We could introduce a new vendor-specific
> parameter, like WITH_GEOMETRY and WITH_MAPTIP or something similar.
>
> What do you think? It would require small changes in QWC II, Lizmap or
> other specific web clients who specifically use QGIS server extensions.
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/d3201b26/attachment.html>

From peter at 3xe.co.uk  Thu Oct  5 06:25:22 2017
From: peter at 3xe.co.uk (Peter Devoy)
Date: Thu, 5 Oct 2017 14:25:22 +0100
Subject: [QGIS-Developer] Qt Model-View updates blocked when Python
	console not open
In-Reply-To: <CABoFc_hu6e748qTTFetUqp_M_eRhJ2ZYekzy7iL7Jxrosh4U_g@mail.gmail.com>
References: <CABoFc_hu6e748qTTFetUqp_M_eRhJ2ZYekzy7iL7Jxrosh4U_g@mail.gmail.com>
Message-ID: <CABoFc_hCD9AMOgvjVx-d0UBAi3A6r74fq2CpV0drezFGBkx7gA@mail.gmail.com>

Just a little update; it is the fact I am using print() to output
debug information upon each request which is allowing the UI to
repaint.  Also, it seems that opening and closing the Python console
once is enough.

Peter

3XE
P: 01326 567155
M: 07770 693662
A: 3XE Ltd
Tremough Innovation Centre
PENRYN
TR10 9TA
3XE Ltd · Registered in England and Wales · 9356871


On 4 October 2017 at 20:53, Peter Devoy <peter at 3xe.co.uk> wrote:
> Hi all
>
> In my plugin I have extended QAbstractListModel to create a list of
> objects; each object in the list has a 'url' property containing the
> URL of an API resource.  When the user selects a feature in main QGIS
> interface, each object in the list makes a HTTP request to its URL and
> updates its properties from the response data.
>
> Changes in the objects' properties are reflected in a QListView.  E.g.
> a  property 'status'  is set to 'WARN' if the HTTP request fails --
> this is reflected in the QListView by the respective list item's icon
> turning yellow.
>
> If I have the Python console open in QGIS the QListView items update
> as the ListModel's objects update. However, if the Python console is
> not open, the plugin's UI thread appears to be blocked until each item
> in the list has completed its changes and all the items update at
> once; please can anyone recommend a way to avoid this?
>
> I have been developing on QGIS 2.1X.
>
> Kind regards
>
>
> Peter

From apasotti at gmail.com  Thu Oct  5 06:27:03 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 5 Oct 2017 15:27:03 +0200
Subject: [QGIS-Developer] QGIS Server: proposal for small change in
 GetFeatureInfo response
In-Reply-To: <CABgOYCfnE0Ce_j51Z1NsyFsiT-3FS5gLQ2Jkia_7cg2DgTALbw@mail.gmail.com>
References: <9c75bb14af85fbe6e3078235af00f5e4@carto.net>
 <CABgOYCfnE0Ce_j51Z1NsyFsiT-3FS5gLQ2Jkia_7cg2DgTALbw@mail.gmail.com>
Message-ID: <CAL5Q671tGkOkPc3um0EyR5OT=y4ZDAykPLUNEHQyBjkX6hpo+A@mail.gmail.com>

I think we should stick to the standards as much as possible, vendor params
should be optional and disabled by default.


On Thu, Oct 5, 2017 at 3:18 PM, Régis Haubourg <regis.haubourg at gmail.com>
wrote:

> Hi Andreas,
> good point.
>
> Having two vendor-specific options is ok to me.
> What I am wondering is:
>
> - do we prefer to have them displayed by default, and we won't break
> existing web client
> - have them hidden by default and we stop surcharging QGIS client identify
> window.
>
> Any opinion?
>
> Régis
>
> 2017-10-05 15:04 GMT+02:00 Andreas Neumann <a.neumann at carto.net>:
>
>> Hi QGIS Server devs and users,
>>
>> I have a small proposal for a change in the QGIS Server GetFeatureInfo
>> reponse.
>>
>> Next to the attributes that are returned for a feature, there are two
>> additional results:
>>
>>    - geometry (optional, used for high-lighting in Web-GIS clients)
>>    - maptip (usually the display value for the maptip in QGIS desktop or
>>    a combination of several attributes), used by Web-GIS clients if they want
>>    to display the most relevant information on mouse-over
>>
>> The problem with these two additional result attributes, is that while
>> they are useful in a Web-GIS client context, both attributes are visible in
>> the GetFeatureInfo response of a Desktop GIS as well, such as QGIS desktop.
>> On these desktop GIS clients, the display of those two attributes are
>> unnecessary or even annoying.
>>
>> Now, my proposal is to hide these two attributes by default, unless a
>> client explicitly requests them. We could introduce a new vendor-specific
>> parameter, like WITH_GEOMETRY and WITH_MAPTIP or something similar.
>>
>> What do you think? It would require small changes in QWC II, Lizmap or
>> other specific web clients who specifically use QGIS server extensions.
>>
>> Andreas
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/bafb94bd/attachment.html>

From a.neumann at carto.net  Thu Oct  5 06:33:48 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 05 Oct 2017 15:33:48 +0200
Subject: [QGIS-Developer] QGIS Server: proposal for small change in
 GetFeatureInfo response
In-Reply-To: <CABgOYCfnE0Ce_j51Z1NsyFsiT-3FS5gLQ2Jkia_7cg2DgTALbw@mail.gmail.com>
References: <9c75bb14af85fbe6e3078235af00f5e4@carto.net>
 <CABgOYCfnE0Ce_j51Z1NsyFsiT-3FS5gLQ2Jkia_7cg2DgTALbw@mail.gmail.com>
Message-ID: <5bc858f259748232cabbf67d682f19bf@carto.net>

Hi Régis, 

I would prefer to have them disabled by default. It easier to change the
two existing web clients than changing any other WMS client out there. 

After the change in QGIS server (QGIS 3 would make sense for this
change), we would have to change LizMap and QWC2. I don't even know if
Lizmap uses this attribute or does a separate WFS call for highlighting,
in which case it wouldn't be much affected anyway. 

Andreas 

On 2017-10-05 15:18, Régis Haubourg wrote:

> Hi Andreas,  
> good point.  
> 
> Having two vendor-specific options is ok to me.  
> What I am wondering is: 
> 
> - do we prefer to have them displayed by default, and we won't break existing web client 
> - have them hidden by default and we stop surcharging QGIS client identify window.  
> 
> Any opinion? 
> 
> Régis 
> 
> 2017-10-05 15:04 GMT+02:00 Andreas Neumann <a.neumann at carto.net>:
> 
>> Hi QGIS Server devs and users, 
>> 
>> I have a small proposal for a change in the QGIS Server GetFeatureInfo reponse. 
>> 
>> Next to the attributes that are returned for a feature, there are two additional results: 
>> 
>> * geometry (optional, used for high-lighting in Web-GIS clients)
>> * maptip (usually the display value for the maptip in QGIS desktop or a combination of several attributes), used by Web-GIS clients if they want to display the most relevant information on mouse-over
>> 
>> The problem with these two additional result attributes, is that while they are useful in a Web-GIS client context, both attributes are visible in the GetFeatureInfo response of a Desktop GIS as well, such as QGIS desktop. On these desktop GIS clients, the display of those two attributes are unnecessary or even annoying. 
>> 
>> Now, my proposal is to hide these two attributes by default, unless a client explicitly requests them. We could introduce a new vendor-specific parameter, like WITH_GEOMETRY and WITH_MAPTIP or something similar. 
>> 
>> What do you think? It would require small changes in QWC II, Lizmap or other specific web clients who specifically use QGIS server extensions. 
>> 
>> Andreas 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]

 

Links:
------
[1] https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/3902c6d1/attachment-0001.html>

From matthias at opengis.ch  Thu Oct  5 07:18:06 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 5 Oct 2017 16:18:06 +0200
Subject: [QGIS-Developer] Qt Model-View updates blocked when Python
 console not open
In-Reply-To: <CABoFc_hCD9AMOgvjVx-d0UBAi3A6r74fq2CpV0drezFGBkx7gA@mail.gmail.com>
References: <CABoFc_hu6e748qTTFetUqp_M_eRhJ2ZYekzy7iL7Jxrosh4U_g@mail.gmail.com>
 <CABoFc_hCD9AMOgvjVx-d0UBAi3A6r74fq2CpV0drezFGBkx7gA@mail.gmail.com>
Message-ID: <5ff3f192-b8d7-74d4-8870-34d9ac760029@opengis.ch>

Hi Peter,

Have a look at this answer here, which explains how you can trigger the 
same behavior without using the print and relying on side-effects of the 
console open.

It also outlines the risks involved in using this kind of approach.

https://gis.stackexchange.com/a/257016

Cheers
Matthias

On 10/05/2017 03:25 PM, Peter Devoy wrote:
> Just a little update; it is the fact I am using print() to output
> debug information upon each request which is allowing the UI to
> repaint.  Also, it seems that opening and closing the Python console
> once is enough.
>
> Peter
>
> 3XE
> P: 01326 567155
> M: 07770 693662
> A: 3XE Ltd
> Tremough Innovation Centre
> PENRYN
> TR10 9TA
> 3XE Ltd · Registered in England and Wales · 9356871
>
>
> On 4 October 2017 at 20:53, Peter Devoy <peter at 3xe.co.uk> wrote:
>> Hi all
>>
>> In my plugin I have extended QAbstractListModel to create a list of
>> objects; each object in the list has a 'url' property containing the
>> URL of an API resource.  When the user selects a feature in main QGIS
>> interface, each object in the list makes a HTTP request to its URL and
>> updates its properties from the response data.
>>
>> Changes in the objects' properties are reflected in a QListView.  E.g.
>> a  property 'status'  is set to 'WARN' if the HTTP request fails --
>> this is reflected in the QListView by the respective list item's icon
>> turning yellow.
>>
>> If I have the Python console open in QGIS the QListView items update
>> as the ListModel's objects update. However, if the Python console is
>> not open, the plugin's UI thread appears to be blocked until each item
>> in the list has completed its changes and all the items update at
>> once; please can anyone recommend a way to avoid this?
>>
>> I have been developing on QGIS 2.1X.
>>
>> Kind regards
>>
>>
>> Peter
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


From luipir at gmail.com  Thu Oct  5 09:09:42 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Thu, 5 Oct 2017 18:09:42 +0200
Subject: [QGIS-Developer] SQLite/GPKG database locked during canvas
 refresh... is it a feature?
In-Reply-To: <067165f7-b1bb-1a6c-0dfb-d24a93945dae@opengis.ch>
References: <CAFO80_qrWAoWk44Mtk4KdG4mqb11QGDUZqfULrWUTfA8L6wtsA@mail.gmail.com>
 <067165f7-b1bb-1a6c-0dfb-d24a93945dae@opengis.ch>
Message-ID: <CAFO80_oO6C-tRJthoBRfsfyFcdjZWMV5foPKr_frMKbPAQQtcw@mail.gmail.com>

can make sense a solution like this one?
https://github.com/qgis/QGIS/pull/5305
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 4 October 2017 at 17:54, Matthias Kuhn <matthias at opengis.ch> wrote:
> Hi Luigi,
>
> It sounds like a very crappy UX the way this is described.
>
> The second way you describe sounds like a reasonable one to go.
>
> However, most dataprovider handle this cleanly on a different level (if
> you have an iterator open on a pg layer, it will keep delivering
> features from the snapshot when the query was sent, and allow to modify
> in parallel). So rendering shouldn't be stopped in any case, but only
> when it's really required.
>
> Actually there may also be other code besides rendering reading from
> such a format while trying to save. So in the long run we'll need
> something else.
> Probably schedule a task that waits for any readers to be finished and
> then saves once the lock is gone (and tell the user that the save has
> been deferred).
>
> Matthias
>
> On 10/04/2017 04:46 PM, Luigi Pirelli wrote:
>> Hi
>>
>> the bug described in https://issues.qgis.org/issues/15498 IMHO is a
>> feature instead of a regression... any opinion?
>>
>> my rational is:
>>
>> """Ok, it can be a regression, but IMHO the behaviour is correct in
>> this way respect allowing to write during rendering.
>> If layer is modified during rendering, theoretically rendering have to
>> be invalidated. Stopping rendering is always possible with rendering
>> checkbox in the bottom bar => the correct procedure would be:
>> 1) stop rendering
>> 2) save features
>> 3) refresh
>>
>> or
>>
>> 1) during save => stop rendering
>> 2) save edit
>> 3) refresh
>>
>> the above would be a new feature that is not strictly necessary
>> because of manual workaround.
>>
>> can it be considered a low priority issue, and more, can it be
>> considered a fix instead of a regression"""
>>
>> Luigi Pirelli
>>
>> **************************************************************************************************
>> * Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
>> * LinkedIn: https://www.linkedin.com/in/luigipirelli
>> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
>> * GitHub: https://github.com/luipir
>> * Mastering QGIS 2nd Edition:
>> * https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
>> **************************************************************************************************
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From anvit2a at gmail.com  Thu Oct  5 11:05:15 2017
From: anvit2a at gmail.com (Anders Vittrup)
Date: Thu, 05 Oct 2017 18:05:15 +0000
Subject: [QGIS-Developer] pyqgis - openfeatureform highlight?
In-Reply-To: <CAGLzSgsq9wA0u9C1dFVL-LDes-ZupEfMs3hMJxa71ymXpT801A@mail.gmail.com>
References: <CAGLzSgsq9wA0u9C1dFVL-LDes-ZupEfMs3hMJxa71ymXpT801A@mail.gmail.com>
Message-ID: <CAGLzSgstMtZuJckGhi08NB_aBxEHHQbJCNK_TWUrPqu20WjsXA@mail.gmail.com>

Hi,

I have now done some testing and with qgisinterface it is possible to get
the QgsAttributeDialog with getfeatureform then it is possible to use
setHighlight and assign the QgsHighlight.
Now the last problem. In the docs for QgsHighlight

QgsHighlight::QgsHighlight  ( QgsMapCanvas
<http://qgis.org/api/2.14/classQgsMapCanvas.html> *  mapCanvas,
const QgsGeometry <http://qgis.org/api/2.14/classQgsGeometry.html> *  geom,
QgsVectorLayer <http://qgis.org/api/2.14/classQgsVectorLayer.html> *  layer
)


And
QgsHighlight::QgsHighlight  ( QgsMapCanvas
<http://qgis.org/api/2.14/classQgsMapCanvas.html> *  mapCanvas,
const QgsFeature <http://qgis.org/api/2.14/classQgsFeature.html> &
feature,
QgsVectorLayer <http://qgis.org/api/2.14/classQgsVectorLayer.html> *  layer
)

It should be possible to construct a QgsHighlight with a true feature shape
based on the styling. I get an error when passing QgsFeature. It seems that
only QgsGeometry is supported?

Anyone knows if this is an error or is it possible to construct the
highlight with true feature shape?

Best regards
Anders




man. 25. sep. 2017 kl. 18.10 skrev Anders Vittrup <anvit2a at gmail.com>:

> Hi,
>
> I'm making a small plugin for a custom editorwidget and I'm using
> QgisInterface openFeatureForm from within my widget to open other feature
> forms on diffrent layers.
>
> I just cannot seem to figure out how to make the feature being highlighted
> on the map (red highlighing when using the identify feature tool).
> I already have a tool that will "flash" a feature for like half a second
> (Using QgsRubberBand) but that is not what i want for the new feature form.
> How do i get the same effect when the feature form is opened (with pyqgis)
> so it will also highlight the feature on the map. Eg. if i have two feature
> form's open an active one the feature is highlighted (exactly like identify
> feature). (when the feature form is closed or inactive the highlight should
> disappear)
>
> Best regards
> Anders
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/8fb75b73/attachment.html>

From spencergardner at gmail.com  Thu Oct  5 12:31:34 2017
From: spencergardner at gmail.com (Spencer Gardner)
Date: Thu, 5 Oct 2017 14:31:34 -0500
Subject: [QGIS-Developer] startup.py and QGIS3
Message-ID: <CAHCHdbJvHBfM=aTBBfXjCW9Zw5pzVFSM=jkMSvgBvYtEUqc8bA@mail.gmail.com>

Hi all. I have two questions:

   1.  Is there more documentation on how startup.py works? (e.g. presence
   of special variables, other quirks)
   2. Have there been any significant changes to startup.py behavior in
   QGIS3?

For context, I'm sharing maps with another user and I'd like to set a
script to automatically update PostGIS layer references when a new map
document is opened. I'm guessing startup.py is the best place to do this,
but if there are other ideas I'd love to hear them.

Thanks!

Spencer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/e592793c/attachment.html>

From ricardo.garcia.silva at gmail.com  Thu Oct  5 13:01:51 2017
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Thu, 5 Oct 2017 21:01:51 +0100
Subject: [QGIS-Developer] Qt Model-View updates blocked when Python
 console not open
In-Reply-To: <5ff3f192-b8d7-74d4-8870-34d9ac760029@opengis.ch>
References: <CABoFc_hu6e748qTTFetUqp_M_eRhJ2ZYekzy7iL7Jxrosh4U_g@mail.gmail.com>
 <CABoFc_hCD9AMOgvjVx-d0UBAi3A6r74fq2CpV0drezFGBkx7gA@mail.gmail.com>
 <5ff3f192-b8d7-74d4-8870-34d9ac760029@opengis.ch>
Message-ID: <CAFcNcQaLL0HdJY=WAgK_eRXnVJ9Ky0jFPRMyYQ0v3DsxSCsycg@mail.gmail.com>

Hi Peter

In addition to Matthias' advice perhaps try using QNetworkAccessManager[1]
and related classes in order to deal with your http requests
asynchronously. This should fix the UI blocking issues.

Best regards


[1] -
http://pyqt.sourceforge.net/Docs/PyQt4/qnetworkaccessmanager.html#details


Em 05/10/2017 15:18, "Matthias Kuhn" <matthias at opengis.ch> escreveu:

Hi Peter,

Have a look at this answer here, which explains how you can trigger the
same behavior without using the print and relying on side-effects of the
console open.

It also outlines the risks involved in using this kind of approach.

https://gis.stackexchange.com/a/257016

Cheers
Matthias


On 10/05/2017 03:25 PM, Peter Devoy wrote:

> Just a little update; it is the fact I am using print() to output
> debug information upon each request which is allowing the UI to
> repaint.  Also, it seems that opening and closing the Python console
> once is enough.
>
> Peter
>
> 3XE
> P: 01326 567155
> M: 07770 693662
> A: 3XE Ltd
> Tremough Innovation Centre
> PENRYN
> TR10 9TA
> 3XE Ltd · Registered in England and Wales · 9356871
>
>
> On 4 October 2017 at 20:53, Peter Devoy <peter at 3xe.co.uk> wrote:
>
>> Hi all
>>
>> In my plugin I have extended QAbstractListModel to create a list of
>> objects; each object in the list has a 'url' property containing the
>> URL of an API resource.  When the user selects a feature in main QGIS
>> interface, each object in the list makes a HTTP request to its URL and
>> updates its properties from the response data.
>>
>> Changes in the objects' properties are reflected in a QListView.  E.g.
>> a  property 'status'  is set to 'WARN' if the HTTP request fails --
>> this is reflected in the QListView by the respective list item's icon
>> turning yellow.
>>
>> If I have the Python console open in QGIS the QListView items update
>> as the ListModel's objects update. However, if the Python console is
>> not open, the plugin's UI thread appears to be blocked until each item
>> in the list has completed its changes and all the items update at
>> once; please can anyone recommend a way to avoid this?
>>
>> I have been developing on QGIS 2.1X.
>>
>> Kind regards
>>
>>
>> Peter
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171005/91169b02/attachment.html>

From rdmailings at duif.net  Thu Oct  5 23:41:15 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 6 Oct 2017 08:41:15 +0200
Subject: [QGIS-Developer] Qt Model-View updates blocked when Python
 console not open
In-Reply-To: <CAFcNcQaLL0HdJY=WAgK_eRXnVJ9Ky0jFPRMyYQ0v3DsxSCsycg@mail.gmail.com>
References: <CABoFc_hu6e748qTTFetUqp_M_eRhJ2ZYekzy7iL7Jxrosh4U_g@mail.gmail.com>
 <CABoFc_hCD9AMOgvjVx-d0UBAi3A6r74fq2CpV0drezFGBkx7gA@mail.gmail.com>
 <5ff3f192-b8d7-74d4-8870-34d9ac760029@opengis.ch>
 <CAFcNcQaLL0HdJY=WAgK_eRXnVJ9Ky0jFPRMyYQ0v3DsxSCsycg@mail.gmail.com>
Message-ID: <13810065-4994-d78e-cd6f-11057a085cf5@duif.net>


And to make things easier, use

https://github.com/boundlessgeo/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py

which should be core class in QGIS if you ask me. So we can get rid of
all other different blocking/nonproxying etc ways to connect QGIS to http...

Regards,

Richard Duivenvoorde

On 05-10-17 22:01, Ricardo Filipe Soares Garcia da wrote:
> Hi Peter
> 
> In addition to Matthias' advice perhaps try using
> QNetworkAccessManager[1] and related classes in order to deal with your
> http requests asynchronously. This should fix the UI blocking issues.
> 
> Best regards
> 
> 
> [1]
> - http://pyqt.sourceforge.net/Docs/PyQt4/qnetworkaccessmanager.html#details
> 
> 
> Em 05/10/2017 15:18, "Matthias Kuhn" <matthias at opengis.ch
> <mailto:matthias at opengis.ch>> escreveu:
> 
>     Hi Peter,
> 
>     Have a look at this answer here, which explains how you can trigger
>     the same behavior without using the print and relying on
>     side-effects of the console open.
> 
>     It also outlines the risks involved in using this kind of approach.
> 
>     https://gis.stackexchange.com/a/257016
>     <https://gis.stackexchange.com/a/257016>
> 
>     Cheers
>     Matthias
> 
> 
>     On 10/05/2017 03:25 PM, Peter Devoy wrote:
> 
>         Just a little update; it is the fact I am using print() to output
>         debug information upon each request which is allowing the UI to
>         repaint.  Also, it seems that opening and closing the Python console
>         once is enough.
> 
>         Peter
> 
>         3XE
>         P: 01326 567155
>         M: 07770 693662
>         A: 3XE Ltd
>         Tremough Innovation Centre
>         PENRYN
>         TR10 9TA
>         3XE Ltd · Registered in England and Wales · 9356871
> 
> 
>         On 4 October 2017 at 20:53, Peter Devoy <peter at 3xe.co.uk
>         <mailto:peter at 3xe.co.uk>> wrote:
> 
>             Hi all
> 
>             In my plugin I have extended QAbstractListModel to create a
>             list of
>             objects; each object in the list has a 'url' property
>             containing the
>             URL of an API resource.  When the user selects a feature in
>             main QGIS
>             interface, each object in the list makes a HTTP request to
>             its URL and
>             updates its properties from the response data.
> 
>             Changes in the objects' properties are reflected in a
>             QListView.  E.g.
>             a  property 'status'  is set to 'WARN' if the HTTP request
>             fails --
>             this is reflected in the QListView by the respective list
>             item's icon
>             turning yellow.
> 
>             If I have the Python console open in QGIS the QListView
>             items update
>             as the ListModel's objects update. However, if the Python
>             console is
>             not open, the plugin's UI thread appears to be blocked until
>             each item
>             in the list has completed its changes and all the items
>             update at
>             once; please can anyone recommend a way to avoid this?
> 
>             I have been developing on QGIS 2.1X.
> 
>             Kind regards
> 
> 
>             Peter
> 
>         _______________________________________________
>         QGIS-Developer mailing list
>         QGIS-Developer at lists.osgeo.org
>         <mailto:QGIS-Developer at lists.osgeo.org>
>         List info:
>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>         Unsubscribe:
>         https://lists.osgeo.org/mailman/listinfo/qgis-developer
>         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From noreply at qgis.org  Fri Oct  6 00:06:18 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 06 Oct 2017 07:06:18 -0000
Subject: [QGIS-Developer] Plugin [796] Catalog Planet Labs approval
	notification.
Message-ID: <20171006070618.16093.43991@320558c5528b>


Plugin Catalog Planet Labs approval by zimbogisgeek.
The plugin version "[796] Catalog Planet Labs 1.5 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/catalogpl_plugin/

From noreply at qgis.org  Fri Oct  6 00:07:10 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 06 Oct 2017 07:07:10 -0000
Subject: [QGIS-Developer] Plugin [1338] Select by radius plus approval
	notification.
Message-ID: <20171006070710.16093.2619@320558c5528b>


Plugin Select by radius plus approval by zimbogisgeek.
The plugin version "[1338] Select by radius plus 0.2" is now approved
Link: http://plugins.qgis.org/plugins/qgis-select-by-radius-plus-plugin/

From qgis at spam.joelbuckley.com.au  Fri Oct  6 00:46:26 2017
From: qgis at spam.joelbuckley.com.au (Joel Buckley)
Date: Fri, 6 Oct 2017 18:46:26 +1100
Subject: [QGIS-Developer] QGIS master branch fails make install on macOS
	10.12.6
Message-ID: <20171006074626.GA93431@Joels-MacBook-Pro.local>

Hi,

I am having some difficulty running `make install`, and compiling QGIS 
into a single standalone application on macOS. I can successfully run 
configuration and `make`, and can launch the `make`-d code from 
build/output/bin with no problem.

`make install` runs without complaint and returns 0 (success), but when 
I try to launch the newly create QGIS.app, it immediately crashes, and 
produces a crash report (attached for brevity).

I have googled and attempted to parse the crash log, but the errors it 
reports are beyond my capability. I'm hoping someone on the list might 
have some input on how to remedy this?

Configuration information:
QGIS version: current master branch
QT5, python 3
macOS 10.12.6

Regards,

-- 
Joel Buckley

-------------- next part --------------
Process:               QGIS [75912]
Path:                  /Users/USER/*/QGIS.app/Contents/MacOS/QGIS
Identifier:            org.qgis.qgis3
Version:               2.99.0 (2.99.0 [])
Code Type:             X86-64 (Native)
Parent Process:        ??? [1]
Responsible:           QGIS [75912]
User ID:               501

Date/Time:             2017-10-06 12:38:15.486 +1100
OS Version:            Mac OS X 10.12.6 (16G29)
Report Version:        12
Anonymous UUID:        5ADE1850-A814-40D9-A36C-EF1658CD1D5C

Sleep/Wake UUID:       707C3E84-EE82-47DC-B097-58797D72EF82

Time Awake Since Boot: 57000 seconds
Time Since Wake:       11000 seconds

System Integrity Protection: enabled

Crashed Thread:        0  Dispatch queue: com.apple.main-thread

Exception Type:        EXC_CRASH (SIGABRT)
Exception Codes:       0x0000000000000000, 0x0000000000000000
Exception Note:        EXC_CORPSE_NOTIFY

Application Specific Information:
abort() called

Thread 0 Crashed:: Dispatch queue: com.apple.main-thread
0   libsystem_kernel.dylib            0x00007fffa7865d42 __pthread_kill + 10
1   libsystem_pthread.dylib           0x00007fffa7953457 pthread_kill + 90
2   libsystem_c.dylib                 0x00007fffa77cb420 abort + 129
3   org.qgis.qgis3                    0x00000001089e5b6a myMessageOutput(QtMsgType, char const*) + 314
4   org.qt-project.QtCore             0x000000010f15d086 0x10f141000 + 114822
5   org.qt-project.QtCore             0x000000010f15725a 0x10f141000 + 90714
6   org.qt-project.QtCore             0x000000010f158bdf QMessageLogger::fatal(char const*, ...) const + 159
7   org.qt-project.QtGui              0x000000010d5649db QGuiApplicationPrivate::createPlatformIntegration() + 5387
8   org.qt-project.QtGui              0x000000010d5649fb QGuiApplicationPrivate::createEventDispatcher() + 27
9   org.qt-project.QtCore             0x000000010f328a76 QCoreApplicationPrivate::init() + 1734
10  org.qt-project.QtGui              0x000000010d560a99 QGuiApplicationPrivate::init() + 57
11  org.qt-project.QtWidgets          0x000000010cf9b3da QApplicationPrivate::init() + 26
12  org.qgis.qgis3_core               0x000000010a812cef QgsApplication::QgsApplication(int&, char**, bool, QString const&, QString const&) + 31
13  org.qgis.qgis3                    0x00000001089e7eeb main + 8955
14  libdyld.dylib                     0x00007fffa7737235 start + 1

Thread 1:
0   libsystem_kernel.dylib            0x00007fffa786644e __workq_kernreturn + 10
1   libsystem_pthread.dylib           0x00007fffa7950621 _pthread_wqthread + 1426
2   libsystem_pthread.dylib           0x00007fffa795007d start_wqthread + 13

Thread 2:
0   libsystem_kernel.dylib            0x00007fffa786644e __workq_kernreturn + 10
1   libsystem_pthread.dylib           0x00007fffa795048e _pthread_wqthread + 1023
2   libsystem_pthread.dylib           0x00007fffa795007d start_wqthread + 13

Thread 3:
0   libsystem_kernel.dylib            0x00007fffa786644e __workq_kernreturn + 10
1   libsystem_pthread.dylib           0x00007fffa7950621 _pthread_wqthread + 1426
2   libsystem_pthread.dylib           0x00007fffa795007d start_wqthread + 13

Thread 0 crashed with X86 Thread State (64-bit):
  rax: 0x0000000000000000  rbx: 0x0000000000000006  rcx: 0x00007fff572261e8  rdx: 0x0000000000000000
  rdi: 0x0000000000000307  rsi: 0x0000000000000006  rbp: 0x00007fff57226210  rsp: 0x00007fff572261e8
   r8: 0x0000000000000040   r9: 0x00007fffb0638040  r10: 0x0000000008000000  r11: 0x0000000000000206
  r12: 0x000000010f6175d0  r13: 0x00007f9baa504900  r14: 0x00007fffb06543c0  r15: 0x00007fff572263b0
  rip: 0x00007fffa7865d42  rfl: 0x0000000000000206  cr2: 0x00007fffb0636128

Logical CPU:     0
Error Code:      0x02000148
Trap Number:     133

Binary Images:
       0x1089d9000 -        0x108d23ffb +org.qgis.qgis3 (2.99.0 - 2.99.0 []) <44E32055-07C1-3B10-AA9B-329360917A67> /Users/USER/*/QGIS.app/Contents/MacOS/QGIS
       0x108d31000 -        0x10942effb +libqgis_app.2.99.0.dylib (0) <B016A095-29DE-36BC-845E-1783517CDDF1> /Users/USER/*/QGIS.app/Contents/MacOS/lib/libqgis_app.2.99.0.dylib
       0x109746000 -        0x109d58ff3 +org.qgis.qgis3_gui (2.99.0 - qgis_gui 2.99.0) <E771DFE7-6ED3-3CF9-B7F2-88D81A685E1A> /Users/USER/*/QGIS.app/Contents/Frameworks/qgis_gui.framework/Versions/2.99/qgis_gui
       0x10a0f9000 -        0x10a1b1ffb +com.yourcompany.qwt (6.1 - 6.1.3) <94058D9C-9F58-3BCF-91B7-8DD260DA3C76> /Users/USER/*/QGIS.app/Contents/Frameworks/qwt.framework/Versions/6/qwt
       0x10a21a000 -        0x10a40ffff +libqscintilla2_qt5.13.dylib (0) <B6E615CD-510C-39D9-B29A-4435866FA990> /usr/local/opt/qscintilla2/lib/libqscintilla2_qt5.13.dylib
       0x10a45b000 -        0x10a4defff +org.qgis.qgis3_analysis (2.99.0 - qgis_analysis 2.99.0) <4BEA0E4B-620D-3FF4-A6BC-CE775FA44269> /Users/USER/*/QGIS.app/Contents/Frameworks/qgis_analysis.framework/Versions/2.99/qgis_analysis
       0x10a50a000 -        0x10af53ffb +org.qgis.qgis3_core (2.99.0 - qgis_core 2.99.0) <BC578024-2847-300C-A2F3-FAEEF44ADAEE> /Users/USER/*/QGIS.app/Contents/Frameworks/qgis_core.framework/Versions/2.99/qgis_core
       0x10b39c000 -        0x10b39fff7 +org.qgis.qgis2_native (2.99.0 - qgis_native 2.99.0) <3A41C862-5151-3D4C-BB1F-9BAA95864995> /Users/USER/*/QGIS.app/Contents/Frameworks/qgis_native.framework/Versions/2.99/qgis_native
       0x10b3a5000 -        0x10b3c8fff +org.qt-project.QtSql (5.9 - 5.9.1) <9F2BE97C-1543-35DB-8E5A-127D6FE9E488> /usr/local/opt/qt/lib/QtSql.framework/Versions/5/QtSql
       0x10b3e0000 -        0x10b403fff +org.qt-project.QtWebKitWidgets (5.9 - 5.9.1) <7E3CA1DD-D41B-3024-9030-A49FF303D9DC> /usr/local/opt/qt/lib/QtWebKitWidgets.framework/Versions/5/QtWebKitWidgets
       0x10b429000 -        0x10cabdfff +org.qt-project.QtWebKit (5.9 - 5.9.1) <DCDD6BC9-6E6A-3CA8-888A-2581754BE86B> /usr/local/opt/qt/lib/QtWebKit.framework/Versions/5/QtWebKit
       0x10cd61000 -        0x10ce60ff7 +org.qt-project.QtNetwork (5.9 - 5.9.1) <0313232F-6D82-3EC3-9F40-31AB69E05E57> /usr/local/opt/qt/lib/QtNetwork.framework/Versions/5/QtNetwork
       0x10cea6000 -        0x10ced0ff3 +org.qt-project.QtXml (5.9 - 5.9.1) <D07CF101-7D6D-3A38-8CD9-4B85BC2410F6> /usr/local/opt/qt/lib/QtXml.framework/Versions/5/QtXml
       0x10cee3000 -        0x10cee7ffb +org.qt-project.QtConcurrent (5.9 - 5.9.1) <4BBCC16B-A47A-3271-90CF-DBB634A2C7B0> /usr/local/opt/qt/lib/QtConcurrent.framework/Versions/5/QtConcurrent
       0x10ceec000 -        0x10cf17ff3 +org.qt-project.QtPrintSupport (5.9 - 5.9.1) <3B98E1F9-B8CE-3A10-867B-7E4E8C2D84E0> /usr/local/opt/qt/lib/QtPrintSupport.framework/Versions/5/QtPrintSupport
       0x10cf3f000 -        0x10cf73ff3 +org.qt-project.QtSvg (5.9 - 5.9.1) <6892D91A-6A08-3253-96C8-8F1C67A68477> /usr/local/opt/qt/lib/QtSvg.framework/Versions/5/QtSvg
       0x10cf8f000 -        0x10d3d9ff3 +org.qt-project.QtWidgets (5.9 - 5.9.1) <7ADE0B98-7DB0-3713-8C57-9A523A4846E5> /usr/local/opt/qt/lib/QtWidgets.framework/Versions/5/QtWidgets
       0x10d538000 -        0x10d943ff7 +org.qt-project.QtGui (5.9 - 5.9.1) <E16C0999-47A6-3CF3-9A07-2D314F936464> /usr/local/opt/qt/lib/QtGui.framework/Versions/5/QtGui
       0x10da38000 -        0x10dab8ff3 + (??? - ???) <C0C427CA-11A5-35E4-9DC1-FEB7C14FE8AB> /usr/local/opt/qca/lib/qca-qt5.framework/Versions/2/qca-qt5
       0x10db28000 -        0x10db32ff7 +libqt5keychain.1.dylib (0) <3BEB5CCB-33E2-39C0-A9F0-F18CDB3698B6> /usr/local/lib/libqt5keychain.1.dylib
       0x10db44000 -        0x10db7eff7 +libproj.12.dylib (0) <03353D3D-9FD4-3F37-924E-F73DA7702956> /usr/local/opt/proj/lib/libproj.12.dylib
       0x10db93000 -        0x10dc7efff +org.osgeo.geos (3.6.1 - GEOS 3.6.1-1) <9253B669-680C-3E72-B1F8-4C594BFCD43E> /Library/Frameworks/GEOS.framework/Versions/3/GEOS
       0x10dd29000 -        0x10e5abff7 +libgdal.20.dylib (0) <8099DE16-59C3-372C-B13B-54EECB14CE5D> /usr/local/opt/gdal2/lib/libgdal.20.dylib
       0x10e8bb000 -        0x10e923ff3 +libspatialindex.4.dylib (0) <01483C08-E9ED-3AB0-B19D-0C337EC0B29B> /usr/local/opt/spatialindex/lib/libspatialindex.4.dylib
       0x10e963000 -        0x10e985fff +libexpat.1.dylib (0) <49282370-CD42-3153-8083-4F1E97CAC22A> /usr/local/lib/libexpat.1.dylib
       0x10e995000 -        0x10f06afff +org.sqlite.sqlite3 (3.14.1 - SQLite3 3.14.1-1) <6CE7698A-3BA9-345D-AF0B-55D47E6CD264> /Library/Frameworks/SQLite3.framework/Versions/C/SQLite3
       0x10f0d0000 -        0x10f0e2ffb +libzip.5.dylib (0) <9903E22F-9B9B-33A1-8C27-4BCE4C6BD237> /usr/local/opt/libzip/lib/libzip.5.dylib
       0x10f0ed000 -        0x10f12aff3 +org.qt-project.QtPositioning (5.9 - 5.9.1) <3241699F-62D0-3695-8344-74350ABB0C45> /usr/local/opt/qt/lib/QtPositioning.framework/Versions/5/QtPositioning
       0x10f141000 -        0x10f607ffb +org.qt-project.QtCore (5.9 - 5.9.1) <E6689F58-8720-3CE8-A171-972B53E7508C> /usr/local/opt/qt/lib/QtCore.framework/Versions/5/QtCore
       0x10f6b8000 -        0x10f6d4ff3 +libpq.5.dylib (0) <EFE80E03-C6C0-345D-978B-3BCDE990A965> /usr/local/opt/postgresql/lib/libpq.5.dylib
       0x10f6e1000 -        0x10f714ffb +org.qt-project.QtOpenGL (5.9 - 5.9.1) <6857F085-B17B-3E41-811E-DE867A69E003> /usr/local/opt/qt/lib/QtOpenGL.framework/Versions/5/QtOpenGL
       0x10f737000 -        0x10f73cff7 +libjson-c.2.dylib (0) <34C386B9-6643-33BC-BD6D-845EAB82AE2A> /usr/local/opt/json-c/lib/libjson-c.2.dylib
       0x10f745000 -        0x10f74bffb +libfreexl.1.dylib (0) <E0E43E2B-5079-3AAC-AB02-F7C098E21E91> /usr/local/opt/freexl/lib/libfreexl.1.dylib
       0x10f753000 -        0x10f771fff +libgeos_c.1.dylib (0) <695954CB-8B7F-3868-B489-6E5328D24691> /usr/local/opt/geos/lib/libgeos_c.1.dylib
       0x10f787000 -        0x10f824ff3 +libsqlite3.0.dylib (0) <27098318-FA90-30E3-85C6-F5304D3F8B9C> /usr/local/opt/sqlite/lib/libsqlite3.0.dylib
       0x10f840000 -        0x10f859ffb  libexpat.1.dylib (15) <F48F1B7B-BEB4-32EE-8C5D-0370096F3864> /usr/lib/libexpat.1.dylib
       0x10f867000 -        0x10f86cff3 +libgif.7.dylib (0) <BC32CB8A-CF8E-3F5D-A097-D808D5D7E4A9> /usr/local/opt/giflib/lib/libgif.7.dylib
       0x10f876000 -        0x10f8a2fff +libjpeg.9.dylib (0) <47169C46-6D4C-3D79-9A59-AFE1E697CF53> /usr/local/opt/jpeg/lib/libjpeg.9.dylib
       0x10f8a9000 -        0x10f8c1ff7 +libgeotiff.2.dylib (0) <B1802BBE-05D1-3D3E-B795-7AEDBBA5C091> /usr/local/opt/libgeotiff/lib/libgeotiff.2.dylib
       0x10f8d2000 -        0x10f92bff3 +libtiff.5.dylib (0) <57C7D093-4311-3042-856E-F8E22B4B28D1> /usr/local/opt/libtiff/lib/libtiff.5.dylib
       0x10f939000 -        0x10f95cffb +libpng16.16.dylib (0) <949DC3DD-DB87-3DE9-9615-FCF16DCBAC61> /usr/local/opt/libpng/lib/libpng16.16.dylib
       0x10f969000 -        0x10fe91ff7 +libspatialite.7.dylib (0) <5DD228BE-E23C-3AC1-8CB6-BC4B473CA343> /usr/local/opt/libspatialite/lib/libspatialite.7.dylib
       0x10febf000 -        0x10ff22ff3 +libpcre.1.dylib (0) <8CF3D75B-B06D-3529-8D4E-5B13034D94A8> /usr/local/opt/pcre/lib/libpcre.1.dylib
       0x10ff29000 -        0x11000fffb +libxml2.2.dylib (0) <F132A758-5113-354F-BF51-7BDEEB71EBCF> /usr/local/opt/libxml2/lib/libxml2.2.dylib
       0x110048000 -        0x1100f6ffb +libgeos-3.6.2.dylib (0) <69EDE5D2-9D9D-39AF-BDC7-6B1D75E5A37D> /usr/local/Cellar/geos/3.6.2/lib/libgeos-3.6.2.dylib
       0x11019f000 -        0x1101daffb +liblwgeom-2.1.5.dylib (0) <B0402276-4827-3C8A-AA23-946682C81AE8> /usr/local/opt/liblwgeom/lib/liblwgeom-2.1.5.dylib
       0x1101ee000 -        0x110206ff3 +org.qt-project.QtSensors (5.9 - 5.9.1) <8DD9E976-536B-3DDF-8E02-6FA5C94B0B64> /usr/local/Cellar/qt/5.9.1/lib/QtSensors.framework/Versions/5/QtSensors
       0x110227000 -        0x110238ff3 +org.qt-project.QtMultimediaWidgets (5.9 - 5.9.1) <AE0C2845-C4AB-3BAC-9362-CAFE8DFB21D3> /usr/local/Cellar/qt/5.9.1/lib/QtMultimediaWidgets.framework/Versions/5/QtMultimediaWidgets
       0x110247000 -        0x1102bcfe7 +org.qt-project.QtMultimedia (5.9 - 5.9.1) <140F39A2-7AED-31E2-9DC4-D0E1E96F6321> /usr/local/Cellar/qt/5.9.1/lib/QtMultimedia.framework/Versions/5/QtMultimedia
       0x11030d000 -        0x1105acff7 +org.qt-project.QtQuick (5.9 - 5.9.1) <1989871E-007B-347D-9A9E-325C44AA418B> /usr/local/Cellar/qt/5.9.1/lib/QtQuick.framework/Versions/5/QtQuick
       0x1106a9000 -        0x110969ff7 +org.qt-project.QtQml (5.9 - 5.9.1) <7CD82F41-56DC-324F-9B0B-66FAE6C2947B> /usr/local/Cellar/qt/5.9.1/lib/QtQml.framework/Versions/5/QtQml
       0x110a13000 -        0x110a27ffb +org.qt-project.QtWebChannel (5.9 - 5.9.1) <AF5BC57B-DA2A-3B9C-AB3F-C5EEF68CB8D7> /usr/local/Cellar/qt/5.9.1/lib/QtWebChannel.framework/Versions/5/QtWebChannel
       0x110a36000 -        0x110a74ff7 +org.maptools.proj (4.9.2 - PROJ 4.9.2-2) <6583FFD4-E70A-380F-8EC1-2518261FB968> /Library/Frameworks/PROJ.framework/Versions/4/PROJ
       0x110a82000 -        0x110a8affb +org.qt-project.QtMacExtras (5.9 - 5.9.1) <D64648DE-A595-338B-BFAA-05D8E94750E0> /usr/local/opt/qt/lib/QtMacExtras.framework/Versions/5/QtMacExtras
       0x110a91000 -        0x110ad2ff7 +libssl.1.0.0.dylib (0) <35C152E0-7168-3B99-94AB-ECA04D3B3DB5> /usr/local/opt/openssl/lib/libssl.1.0.0.dylib
       0x110ba9000 -        0x110be6dc7  dyld (433.5) <322C06B7-8878-311D-888C-C8FD2CA96FF3> /usr/lib/dyld
       0x110c34000 -        0x110d9efff +com.kyngchaos.UnixImageIO (1.5.3 - UnixImageIO 1.5.3) <ABF4E01C-CA66-3F8B-807B-ED787EEDE0F2> /Library/Frameworks/UnixImageIO.framework/Versions/E/UnixImageIO
       0x110dec000 -        0x110f5c727 +libcrypto.1.0.0.dylib (0) <11B495A9-782C-3FB0-9729-ACFCD9F4F53E> /usr/local/opt/openssl/lib/libcrypto.1.0.0.dylib
    0x7fff8e750000 -     0x7fff8e754ffb  com.apple.agl (3.3.1 - AGL-3.3.1) <752FDB92-EF67-3D04-BF40-A352BF1075CF> /System/Library/Frameworks/AGL.framework/Versions/A/AGL
    0x7fff8ea84000 -     0x7fff8ea84fff  com.apple.Accelerate (1.11 - Accelerate 1.11) <916E360F-323C-3AE1-AB3D-D1F3B284AEE9> /System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate
    0x7fff8ea9d000 -     0x7fff8efb6feb  com.apple.vImage (8.1 - ???) <B58A7937-BEE2-38FE-87F4-5D5F40D31DC9> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/vImage
    0x7fff8efb7000 -     0x7fff8f128ff3  libBLAS.dylib (1185.50.4) <4087FFE0-627E-3623-96B4-F0A9A1991E09> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib
    0x7fff8f129000 -     0x7fff8f13dffb  libBNNS.dylib (15) <254698C7-7D36-3FFF-864E-ADEEEE543076> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBNNS.dylib
    0x7fff8f13e000 -     0x7fff8f534fef  libLAPACK.dylib (1185.50.4) <C35FFB2F-A0E6-3903-8A3C-113A74BCBCA2> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib
    0x7fff8f535000 -     0x7fff8f54bfff  libLinearAlgebra.dylib (1185.50.4) <345CAACF-7263-36EF-B69B-793EA8B390AF> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLinearAlgebra.dylib
    0x7fff8f54c000 -     0x7fff8f552fff  libQuadrature.dylib (3) <EF56C8E6-DE22-3C69-B543-A8648F335FDD> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libQuadrature.dylib
    0x7fff8f553000 -     0x7fff8f567ff7  libSparseBLAS.dylib (1185.50.4) <67BA432E-FB59-3C78-A8BE-ED4274CBC359> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libSparseBLAS.dylib
    0x7fff8f568000 -     0x7fff8f6effe7  libvDSP.dylib (600.60.1) <4155F45B-41CD-3782-AE8F-7AE740FD83C3> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib
    0x7fff8f6f0000 -     0x7fff8f7a2fff  libvMisc.dylib (600.60.1) <E18365D7-DCC4-3304-A8D1-395E656D7B99> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib
    0x7fff8f7a3000 -     0x7fff8f7a3fff  com.apple.Accelerate.vecLib (3.11 - vecLib 3.11) <7C5733E7-0568-3E7D-AF61-160F19FED544> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib
    0x7fff8fa62000 -     0x7fff9083bff3  com.apple.AppKit (6.9 - 1504.83.101) <AE51ACB3-D501-3F91-B369-3D3711F24D0A> /System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
    0x7fff9084d000 -     0x7fff9084dfff  com.apple.ApplicationServices (48 - 48) <DA687F9A-7B2D-342B-8796-16E45344F853> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices
    0x7fff9084e000 -     0x7fff908bcff7  com.apple.ApplicationServices.ATS (377 - 422.2) <A31D17BE-F747-39FB-9A84-5F2F8891204C> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/ATS
    0x7fff90956000 -     0x7fff90a85ff7  libFontParser.dylib (194.12) <73C3946D-EF92-3AC1-89C3-0E75B2A85325> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontParser.dylib
    0x7fff90a86000 -     0x7fff90ad0fff  libFontRegistry.dylib (196.4) <EA96AE47-3369-3DEA-BB82-98348ADBD85B> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontRegistry.dylib
    0x7fff90bcd000 -     0x7fff90c77ff7  com.apple.ColorSync (4.12.0 - 502.2) <ACA4001E-A0E3-33F6-9CD6-EEC2AA15E322> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ColorSync.framework/Versions/A/ColorSync
    0x7fff90c78000 -     0x7fff90cc9fff  com.apple.HIServices (1.22 - 593) <045870A9-1D92-3FEF-8722-671E99A35E71> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/HIServices.framework/Versions/A/HIServices
    0x7fff90cca000 -     0x7fff90cd9ff3  com.apple.LangAnalysis (1.7.0 - 1.7.0) <2CBE7F61-2056-3F96-99A1-0D527796AFA6> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/LangAnalysis
    0x7fff90cda000 -     0x7fff90d27fff  com.apple.print.framework.PrintCore (12 - 491) <5027FD58-F0EE-33E4-8577-934CA06CD2AF> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore
    0x7fff90d28000 -     0x7fff90d63fff  com.apple.QD (3.12 - 313) <B339C41D-8CDF-3342-8414-F9717DCCADD4> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD
    0x7fff90d64000 -     0x7fff90d6ffff  com.apple.speech.synthesis.framework (6.6.2 - 6.6.2) <7853EFF4-62B9-394E-B7B8-41A645656820> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
    0x7fff90d70000 -     0x7fff90f7cff7  com.apple.audio.toolbox.AudioToolbox (1.14 - 1.14) <01518CAB-7DAD-3F09-83F8-B9FE0ABE998F> /System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox
    0x7fff90f7d000 -     0x7fff90f7dfff  com.apple.audio.units.AudioUnit (1.14 - 1.14) <B92868F8-2F15-32C0-A5BE-4ABA546B8BE1> /System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
    0x7fff910e6000 -     0x7fff914c0fff  com.apple.CFNetwork (811.5.4 - 811.5.4) <46B1227B-F38C-3F8E-B0B5-5D9861ABF36B> /System/Library/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
    0x7fff914da000 -     0x7fff914dafff  com.apple.Carbon (154 - 157) <69F403C7-F0CB-34E6-89B0-235CF4978C17> /System/Library/Frameworks/Carbon.framework/Versions/A/Carbon
    0x7fff914db000 -     0x7fff914defff  com.apple.CommonPanels (1.2.6 - 98) <BF04BB22-D54C-309E-9F5C-897D969CAF70> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CommonPanels.framework/Versions/A/CommonPanels
    0x7fff914df000 -     0x7fff917e8fff  com.apple.HIToolbox (2.1.1 - 857.8) <5367366E-747E-32CF-8E76-93CD8E7424C7> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox
    0x7fff917e9000 -     0x7fff917ecff7  com.apple.help (1.3.5 - 49) <B1A930E3-5907-3677-BACD-858EF68B172D> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/Versions/A/Help
    0x7fff917ed000 -     0x7fff917f2fff  com.apple.ImageCapture (9.0 - 9.0) <341252B4-E082-361A-B756-6A330259C741> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageCapture.framework/Versions/A/ImageCapture
    0x7fff917f3000 -     0x7fff9188aff3  com.apple.ink.framework (10.9 - 219) <1BD40B45-FD33-3177-A935-565EE5FC79D7> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.framework/Versions/A/Ink
    0x7fff9188b000 -     0x7fff918a5fff  com.apple.openscripting (1.7 - 172) <31CFBB35-24BD-3E12-9B6B-1FA842FB605B> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenScripting.framework/Versions/A/OpenScripting
    0x7fff918a6000 -     0x7fff918a7ff3  com.apple.print.framework.Print (12 - 267) <E2F82F1F-DC27-3EF0-9F75-B354F701450A> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/A/Print
    0x7fff918a8000 -     0x7fff918aaff7  com.apple.securityhi (9.0 - 55006) <DBD65629-535D-3669-8218-7F074D61638C> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SecurityHI.framework/Versions/A/SecurityHI
    0x7fff918ab000 -     0x7fff918b1ff7  com.apple.speech.recognition.framework (6.0.1 - 6.0.1) <082895DC-3AC7-3DEF-ADCA-5B018C19C9D3> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition
    0x7fff91adc000 -     0x7fff91b69fff  com.apple.audio.CoreAudio (4.3.0 - 4.3.0) <78767F88-91D4-31CE-AAC6-1F9407F479BB> /System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
    0x7fff91b6a000 -     0x7fff91b7dfff  com.apple.CoreBluetooth (1.0 - 1) <BCB78777-76F0-3CC1-8443-9E61AEF7EF63> /System/Library/Frameworks/CoreBluetooth.framework/Versions/A/CoreBluetooth
    0x7fff91b7e000 -     0x7fff91e79fff  com.apple.CoreData (120 - 754.2) <4C9CAB2C-60D4-3694-A0A0-5B04B14BD14E> /System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
    0x7fff91e7a000 -     0x7fff91f27ff7  com.apple.CoreDisplay (1.0 - 1) <53D1EAFE-23A4-398D-BF52-E4299E670DB6> /System/Library/Frameworks/CoreDisplay.framework/Versions/A/CoreDisplay
    0x7fff91f28000 -     0x7fff923c1ff7  com.apple.CoreFoundation (6.9 - 1349.8) <09ED473E-5DE8-307F-B55C-16F6419236D5> /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation
    0x7fff923c2000 -     0x7fff92a44fff  com.apple.CoreGraphics (2.0 - 1070.22) <FAB476BB-B5CD-3936-8AFC-41229DBDF0E8> /System/Library/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
    0x7fff92a45000 -     0x7fff92c88ffb  com.apple.CoreImage (12.4.0 - 451.4.9) <BE4303C9-C9D9-361D-AC94-DBE40EB6700E> /System/Library/Frameworks/CoreImage.framework/Versions/A/CoreImage
    0x7fff92ded000 -     0x7fff92dedfff  com.apple.CoreServices (775.19 - 775.19) <7255917D-EFBB-3BE2-A8FD-DAD631BC0949> /System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
    0x7fff92dee000 -     0x7fff92e3ffff  com.apple.AE (712.5 - 712.5) <61F2AE2C-E04E-3FDF-9E88-201325136C83> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE
    0x7fff92e40000 -     0x7fff9311bff7  com.apple.CoreServices.CarbonCore (1159.6 - 1159.6) <08AC074C-965B-3EDF-8E45-0707C8DE9EAD> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore
    0x7fff9311c000 -     0x7fff9314ffff  com.apple.DictionaryServices (1.2 - 274) <D23866E2-F7C8-3984-A9D4-96552CCDE573> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/DictionaryServices.framework/Versions/A/DictionaryServices
    0x7fff93150000 -     0x7fff93158ff3  com.apple.CoreServices.FSEvents (1230.50.1 - 1230.50.1) <2AD1B0E5-7214-37C4-8D11-A27C9CAC0F74> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/FSEvents.framework/Versions/A/FSEvents
    0x7fff93159000 -     0x7fff932c5ff7  com.apple.LaunchServices (775.19 - 775.19) <B75A0C49-E376-358C-81EE-6EFB0F605801> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices
    0x7fff932c6000 -     0x7fff93376ffb  com.apple.Metadata (10.7.0 - 1075.40) <B2FFCC10-5A9E-396B-B495-3D6C867669EE> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata
    0x7fff93377000 -     0x7fff933d6fff  com.apple.CoreServices.OSServices (775.19 - 775.19) <4140569A-1848-3765-A52B-BB61C35CF88F> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices
    0x7fff933d7000 -     0x7fff93447fff  com.apple.SearchKit (1.4.0 - 1.4.0) <7A6DDA2B-03F1-3137-BA9E-1CC211973E26> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit
    0x7fff93448000 -     0x7fff9348dff7  com.apple.coreservices.SharedFileList (38 - 38) <DA096678-93AB-3291-BDE2-482F1D544589> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SharedFileList.framework/Versions/A/SharedFileList
    0x7fff93516000 -     0x7fff93663ffb  com.apple.CoreText (352.0 - 544.15) <BF0EE575-BB7E-3BF9-9029-232B4ADC24E4> /System/Library/Frameworks/CoreText.framework/Versions/A/CoreText
    0x7fff93664000 -     0x7fff93699ff3  com.apple.CoreVideo (1.8 - 235.3) <AC11D5FB-C77B-34F5-B942-F698E84C229F> /System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo
    0x7fff9369a000 -     0x7fff9370bffb  com.apple.framework.CoreWLAN (11.0 - 1200.31) <E47C0568-E37B-3052-9E77-F0F371DCDE7F> /System/Library/Frameworks/CoreWLAN.framework/Versions/A/CoreWLAN
    0x7fff93809000 -     0x7fff9380efff  com.apple.DiskArbitration (2.7 - 2.7) <70F56042-EF04-3BAF-9E04-90F423FB2BCC> /System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration
    0x7fff939a0000 -     0x7fff93d46fff  com.apple.Foundation (6.9 - 1349.91) <A37CB4EC-0730-3DD6-9358-60491BF40EF2> /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
    0x7fff93d72000 -     0x7fff93da3ff7  com.apple.GSS (4.0 - 2.0) <6FADED0B-0425-3567-A75A-040C5A4638EB> /System/Library/Frameworks/GSS.framework/Versions/A/GSS
    0x7fff93e63000 -     0x7fff93f06fff  com.apple.Bluetooth (5.0.5 - 5.0.5f1) <913B97A6-9E18-3F15-992D-D522AA22EDE9> /System/Library/Frameworks/IOBluetooth.framework/Versions/A/IOBluetooth
    0x7fff93f07000 -     0x7fff93f9dff7  com.apple.framework.IOKit (2.0.2 - 1324.60.3) <7CE4C98B-107C-3AAA-B49A-F2ACFCBBF526> /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
    0x7fff93f9e000 -     0x7fff93fa4ffb  com.apple.IOSurface (159.9 - 159.9) <08F1A246-1367-32EC-B3CE-724379409729> /System/Library/Frameworks/IOSurface.framework/Versions/A/IOSurface
    0x7fff93ff7000 -     0x7fff94157fef  com.apple.ImageIO.framework (3.3.0 - 1599.12) <E54ADBF0-6001-3DEB-AEB0-3F857A781E06> /System/Library/Frameworks/ImageIO.framework/Versions/A/ImageIO
    0x7fff94158000 -     0x7fff9415cfff  libGIF.dylib (1599.12) <A0836C44-9566-32A3-ACCF-82A5BAF2E521> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib
    0x7fff9415d000 -     0x7fff9424dff7  libJP2.dylib (1599.12) <0DB4F152-B36D-365C-97B1-34F1C114982B> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libJP2.dylib
    0x7fff9424e000 -     0x7fff94271ffb  libJPEG.dylib (1599.12) <2F66BA16-D569-35AD-A4BB-7A1909F1BF11> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib
    0x7fff94272000 -     0x7fff94299ff7  libPng.dylib (1599.12) <A068239E-7DB3-33AD-BEA9-499D8DEF771B> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dylib
    0x7fff9429a000 -     0x7fff9429cff3  libRadiance.dylib (1599.12) <D26D6FC9-1175-38AB-ACAA-0CA073FD3978> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib
    0x7fff9429d000 -     0x7fff942ebffb  libTIFF.dylib (1599.12) <5D161E6A-D279-37A0-9F5F-A71A4C13BB09> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib
    0x7fff95054000 -     0x7fff9506dff7  com.apple.Kerberos (3.0 - 1) <B9D242EB-E325-3A21-9812-C77CBBFB0D51> /System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos
    0x7fff9506e000 -     0x7fff950a4fff  com.apple.LDAPFramework (2.4.28 - 194.5) <492ACA22-373E-3DD9-BAEB-9EF6AA962FD5> /System/Library/Frameworks/LDAP.framework/Versions/A/LDAP
    0x7fff9584d000 -     0x7fff958a8fff  com.apple.Metal (87.18 - 87.18) <E3618B54-C728-34CA-9E8A-9BD33A295D31> /System/Library/Frameworks/Metal.framework/Versions/A/Metal
    0x7fff96191000 -     0x7fff96199fff  com.apple.NetFS (6.0 - 4.0) <14A24D00-5673-330A-959D-87F72040DEFF> /System/Library/Frameworks/NetFS.framework/Versions/A/NetFS
    0x7fff96379000 -     0x7fff963c7ff3  com.apple.opencl (2.8.6 - 2.8.6) <E78463D3-73B6-3002-BD71-9CC1D6722968> /System/Library/Frameworks/OpenCL.framework/Versions/A/OpenCL
    0x7fff963c8000 -     0x7fff963e1ffb  com.apple.CFOpenDirectory (10.12 - 194) <A64E9A01-3F6E-36EA-9C10-88C564A68C9D> /System/Library/Frameworks/OpenDirectory.framework/Versions/A/Frameworks/CFOpenDirectory.framework/Versions/A/CFOpenDirectory
    0x7fff963e2000 -     0x7fff963edff7  com.apple.OpenDirectory (10.12 - 194) <4298FFD0-B1A7-3064-AF5B-708B3FA38671> /System/Library/Frameworks/OpenDirectory.framework/Versions/A/OpenDirectory
    0x7fff963ee000 -     0x7fff963f0fff  libCVMSPluginSupport.dylib (14.0.16) <9E12EB67-6630-39A0-AB93-77405F5EC2A7> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCVMSPluginSupport.dylib
    0x7fff963f1000 -     0x7fff963f4ff7  libCoreFSCache.dylib (156.3) <687C4CC3-6537-344B-8BE1-5234C8CB2864> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCoreFSCache.dylib
    0x7fff963f5000 -     0x7fff963f9fff  libCoreVMClient.dylib (156.3) <E7AEFCBE-B6BF-3C7C-9A4E-E78CB04DB794> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCoreVMClient.dylib
    0x7fff963fa000 -     0x7fff96403ff7  libGFXShared.dylib (14.0.16) <D10C7A01-8A11-3A42-A9FA-C411AE453B27> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGFXShared.dylib
    0x7fff96404000 -     0x7fff9640ffff  libGL.dylib (14.0.16) <0801F3B9-A525-32BB-9BC0-478947CE21D9> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
    0x7fff96410000 -     0x7fff9644cff7  libGLImage.dylib (14.0.16) <FE39C57B-056C-3CBF-B653-A8F2005631C1> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib
    0x7fff965c4000 -     0x7fff96605ff7  libGLU.dylib (14.0.16) <B285EAD6-B3AA-3753-BB85-75864BD6E76C> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dylib
    0x7fff96f6d000 -     0x7fff96f7bfff  com.apple.opengl (14.0.16 - 14.0.16) <167C9883-A79E-3B7F-AFED-8CD6683B291D> /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL
    0x7fff97acd000 -     0x7fff97ccdfff  com.apple.QuartzCore (1.11 - 453.39.4) <A45AFBC4-87D4-3533-A0AC-1D6629C77984> /System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore
    0x7fff98235000 -     0x7fff98537ff7  com.apple.security (7.0 - 57740.60.18) <005E8C96-40B6-35E3-B58B-888A5F5957C2> /System/Library/Frameworks/Security.framework/Versions/A/Security
    0x7fff98538000 -     0x7fff985adfff  com.apple.securityfoundation (6.0 - 55132.50.7) <15C53957-A9DE-31AE-A192-949244F47CD7> /System/Library/Frameworks/SecurityFoundation.framework/Versions/A/SecurityFoundation
    0x7fff985d8000 -     0x7fff985dbff3  com.apple.xpc.ServiceManagement (1.0 - 1) <BE0F9708-0B55-3E78-A15E-C287B8ED13BA> /System/Library/Frameworks/ServiceManagement.framework/Versions/A/ServiceManagement
    0x7fff98962000 -     0x7fff989d1ff7  com.apple.SystemConfiguration (1.14 - 1.14) <3FFD3930-B307-3E31-9FA6-12221EB0F969> /System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration
    0x7fff9b252000 -     0x7fff9b274ffb  com.apple.framework.Apple80211 (12.0 - 1200.47) <C3033EEE-771A-3664-BBDD-BE1F6D075FC7> /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Apple80211
    0x7fff9b275000 -     0x7fff9b284feb  com.apple.AppleFSCompression (88.50.3 - 1.0) <478E8BFF-8BA2-375E-BE02-BA27F115C15A> /System/Library/PrivateFrameworks/AppleFSCompression.framework/Versions/A/AppleFSCompression
    0x7fff9b371000 -     0x7fff9b3fc97f  com.apple.AppleJPEG (1.0 - 1) <B9E9570D-04A4-34E4-B756-D200043B25B8> /System/Library/PrivateFrameworks/AppleJPEG.framework/Versions/A/AppleJPEG
    0x7fff9b42c000 -     0x7fff9b434ffb  com.apple.AppleSRP (5.0 - 1) <6AAE93B6-9816-35B2-9C59-D5C3218065AF> /System/Library/PrivateFrameworks/AppleSRP.framework/Versions/A/AppleSRP
    0x7fff9b82f000 -     0x7fff9b8adff7  com.apple.backup.framework (1.8.5 - 1.8.5) <CC679891-E8F5-3166-8EB6-AEA06954A52D> /System/Library/PrivateFrameworks/Backup.framework/Versions/A/Backup
    0x7fff9c538000 -     0x7fff9c55fff3  com.apple.ChunkingLibrary (173 - 173) <FC2165F9-FC93-39C0-8323-C2F43A5E00A3> /System/Library/PrivateFrameworks/ChunkingLibrary.framework/Versions/A/ChunkingLibrary
    0x7fff9ce84000 -     0x7fff9ce8dffb  com.apple.CommonAuth (4.0 - 2.0) <216950CB-269F-3476-BA17-D6363AC49FBC> /System/Library/PrivateFrameworks/CommonAuth.framework/Versions/A/CommonAuth
    0x7fff9d4bd000 -     0x7fff9d4c5ffb  com.apple.frameworks.CoreDaemon (1.3 - 1.3) <2AB86FAF-37B3-3323-9EF0-CA591B6E357C> /System/Library/PrivateFrameworks/CoreDaemon.framework/Versions/B/CoreDaemon
    0x7fff9d5d6000 -     0x7fff9d5e6fff  com.apple.CoreEmoji (1.0 - 40.3.3) <E9A28301-2D79-3A97-A046-028258A6ABE5> /System/Library/PrivateFrameworks/CoreEmoji.framework/Versions/A/CoreEmoji
    0x7fff9d921000 -     0x7fff9d951ff3  com.apple.CoreServicesInternal (276.2 - 276.2) <05EB7D45-DD4C-3A0F-AC63-A0C2A68E6481> /System/Library/PrivateFrameworks/CoreServicesInternal.framework/Versions/A/CoreServicesInternal
    0x7fff9dbe2000 -     0x7fff9dc71ff7  com.apple.CoreSymbolication (62046) <7839CD8E-011D-3567-88DE-3D472C661136> /System/Library/PrivateFrameworks/CoreSymbolication.framework/Versions/A/CoreSymbolication
    0x7fff9dc72000 -     0x7fff9ddb1fe7  com.apple.coreui (2.1 - 431.3) <2E8FEC10-FC5B-3782-92DA-A85C24B7BF7C> /System/Library/PrivateFrameworks/CoreUI.framework/Versions/A/CoreUI
    0x7fff9ddb2000 -     0x7fff9de82ff3  com.apple.CoreUtils (5.1 - 510.31) <E68BB8ED-8874-36EC-A7C5-1017C0E727CB> /System/Library/PrivateFrameworks/CoreUtils.framework/Versions/A/CoreUtils
    0x7fff9ded2000 -     0x7fff9df37ff3  com.apple.framework.CoreWiFi (12.0 - 1200.31) <DF0972EF-F817-3FD3-8C00-2D57B8738D8C> /System/Library/PrivateFrameworks/CoreWiFi.framework/Versions/A/CoreWiFi
    0x7fff9df38000 -     0x7fff9df46ff7  com.apple.CrashReporterSupport (10.12 - 827) <802A9B81-E349-348B-90AB-10E40B654250> /System/Library/PrivateFrameworks/CrashReporterSupport.framework/Versions/A/CrashReporterSupport
    0x7fff9dfb8000 -     0x7fff9dfc2ffb  com.apple.framework.DFRFoundation (1.0 - 104.25) <7CFF896C-EF22-3941-BB3D-F3615CE4C908> /System/Library/PrivateFrameworks/DFRFoundation.framework/Versions/A/DFRFoundation
    0x7fff9dfc3000 -     0x7fff9dfc7ff3  com.apple.DSExternalDisplay (3.1 - 380) <4B5E3FF0-E8C3-38CC-BF72-418C928956AB> /System/Library/PrivateFrameworks/DSExternalDisplay.framework/Versions/A/DSExternalDisplay
    0x7fff9dffd000 -     0x7fff9e072ffb  com.apple.datadetectorscore (7.0 - 539.1) <74595F6C-8283-3C73-9F56-C6FA957F8B94> /System/Library/PrivateFrameworks/DataDetectorsCore.framework/Versions/A/DataDetectorsCore
    0x7fff9e0ae000 -     0x7fff9e0edfff  com.apple.DebugSymbols (137 - 137) <58A70B66-2628-3CFE-B103-2200D95FC5F7> /System/Library/PrivateFrameworks/DebugSymbols.framework/Versions/A/DebugSymbols
    0x7fff9e0ee000 -     0x7fff9e1fffff  com.apple.desktopservices (1.11.5 - 1.11.5) <46A9D4F3-1EF8-373C-98A4-AD48D285E484> /System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/DesktopServicesPriv
    0x7fff9e4e7000 -     0x7fff9e918ff7  com.apple.vision.FaceCore (3.3.2 - 3.3.2) <9391D5A3-738C-3136-9D07-518CB43DBADA> /System/Library/PrivateFrameworks/FaceCore.framework/Versions/A/FaceCore
    0x7fff9fc6f000 -     0x7fff9fc6ffff  libmetal_timestamp.dylib (600.0.49.9) <E5EED927-1671-3390-BCBB-D76201D63C73> /System/Library/PrivateFrameworks/GPUCompiler.framework/libmetal_timestamp.dylib
    0x7fff9ff40000 -     0x7fff9ff5cfff  com.apple.GenerationalStorage (2.0 - 267.1) <3DE1C580-D089-362D-8582-8DE68A3C5F13> /System/Library/PrivateFrameworks/GenerationalStorage.framework/Versions/A/GenerationalStorage
    0x7fffa066d000 -     0x7fffa06e3ff3  com.apple.Heimdal (4.0 - 2.0) <8F9C9041-66D5-36C9-8A4C-1658035C311D> /System/Library/PrivateFrameworks/Heimdal.framework/Versions/A/Heimdal
    0x7fffa0cfe000 -     0x7fffa0d05ffb  com.apple.IOAccelerator (311.14 - 311.14) <278124AF-02DC-3785-9FA9-14EDB8E5FD56> /System/Library/PrivateFrameworks/IOAccelerator.framework/Versions/A/IOAccelerator
    0x7fffa0d07000 -     0x7fffa0d1bff7  com.apple.IOPresentment (1.0 - 29.10) <30DF04EE-10E2-353F-845F-A97B87DF3207> /System/Library/PrivateFrameworks/IOPresentment.framework/Versions/A/IOPresentment
    0x7fffa0d1c000 -     0x7fffa0d3efff  com.apple.IconServices (74.4 - 74.4) <218DDD05-35F4-3833-B98D-471ED0EBC031> /System/Library/PrivateFrameworks/IconServices.framework/Versions/A/IconServices
    0x7fffa0e25000 -     0x7fffa0fdcfff  com.apple.LanguageModeling (1.0 - 123.2.5) <A8CA965F-0399-310D-91C3-B93DDDE9A442> /System/Library/PrivateFrameworks/LanguageModeling.framework/Versions/A/LanguageModeling
    0x7fffa18fd000 -     0x7fffa1976ff7  com.apple.MetalPerformanceShaders.MetalPerformanceShaders (1.0 - 1) <C323FC94-FFA5-3EE6-B2AC-7E61EA92F304> /System/Library/PrivateFrameworks/MetalPerformanceShaders.framework/Versions/A/MetalPerformanceShaders
    0x7fffa1af9000 -     0x7fffa1b21ff7  com.apple.MultitouchSupport.framework (368.16 - 368.16) <9E602B4A-22CD-3CF3-B284-78D5123C9AE8> /System/Library/PrivateFrameworks/MultitouchSupport.framework/Versions/A/MultitouchSupport
    0x7fffa1bd3000 -     0x7fffa1bdefff  com.apple.NetAuth (6.2 - 6.2) <97F487D6-8089-31A8-B68C-6C1EAC6ED1B5> /System/Library/PrivateFrameworks/NetAuth.framework/Versions/A/NetAuth
    0x7fffa24b6000 -     0x7fffa24f7ff3  com.apple.PerformanceAnalysis (1.148.3 - 148.3) <4E468BC7-F863-3674-909D-417231EB8C28> /System/Library/PrivateFrameworks/PerformanceAnalysis.framework/Versions/A/PerformanceAnalysis
    0x7fffa2bdf000 -     0x7fffa2bf9fff  com.apple.ProtocolBuffer (1 - 249.1) <A1F1B0F3-078F-378F-A9A9-0DEEA70E816A> /System/Library/PrivateFrameworks/ProtocolBuffer.framework/Versions/A/ProtocolBuffer
    0x7fffa2c12000 -     0x7fffa2c35ff3  com.apple.RemoteViewServices (2.0 - 124) <6B967FDA-6591-302C-BA0A-76C4856E584E> /System/Library/PrivateFrameworks/RemoteViewServices.framework/Versions/A/RemoteViewServices
    0x7fffa3991000 -     0x7fffa3a1efff  com.apple.Sharing (696.2.67 - 696.2.67) <F681EE28-153F-3216-97A6-6F5E4148AB2E> /System/Library/PrivateFrameworks/Sharing.framework/Versions/A/Sharing
    0x7fffa3a3f000 -     0x7fffa3ca5feb  com.apple.SkyLight (1.600.0 - 170.3) <38AC05EF-3A9E-3E3E-9849-04E0223DF7B9> /System/Library/PrivateFrameworks/SkyLight.framework/Versions/A/SkyLight
    0x7fffa3e84000 -     0x7fffa3e90ff7  com.apple.SpeechRecognitionCore (3.3.2 - 3.3.2) <684BD1EA-8268-331C-A5A9-080EB375C658> /System/Library/PrivateFrameworks/SpeechRecognitionCore.framework/Versions/A/SpeechRecognitionCore
    0x7fffa457c000 -     0x7fffa45f0fdf  com.apple.Symbolication (62048.1) <1A30ED19-7532-3F46-9DD3-9879A973D0CF> /System/Library/PrivateFrameworks/Symbolication.framework/Versions/A/Symbolication
    0x7fffa4a2f000 -     0x7fffa4a35ff7  com.apple.TCC (1.0 - 1) <911B534B-4AC7-34E4-935E-E42ECD008CBC> /System/Library/PrivateFrameworks/TCC.framework/Versions/A/TCC
    0x7fffa4ac1000 -     0x7fffa4b87ff7  com.apple.TextureIO (2.8 - 2.8) <3D61E533-4156-3B21-B7ED-CB823E680DFC> /System/Library/PrivateFrameworks/TextureIO.framework/Versions/A/TextureIO
    0x7fffa4bfd000 -     0x7fffa4d8dff3  com.apple.UIFoundation (1.0 - 490.7) <2A3063FE-1790-3510-8A0E-AEC581D42B7E> /System/Library/PrivateFrameworks/UIFoundation.framework/Versions/A/UIFoundation
    0x7fffa5e3e000 -     0x7fffa5e40ffb  com.apple.loginsupport (1.0 - 1) <F3140B97-12C3-35A7-9D3D-43DA2D13C113> /System/Library/PrivateFrameworks/login.framework/Versions/A/Frameworks/loginsupport.framework/Versions/A/loginsupport
    0x7fffa5e95000 -     0x7fffa5eb0ff7  libCRFSuite.dylib (34) <F78B7F5F-0B4F-35C6-AA2F-84EE9CB22137> /usr/lib/libCRFSuite.dylib
    0x7fffa5eb1000 -     0x7fffa5ebcfff  libChineseTokenizer.dylib (21) <0886E908-A825-36AF-B94B-2361FD8BC2A1> /usr/lib/libChineseTokenizer.dylib
    0x7fffa5f4e000 -     0x7fffa5f4fff3  libDiagnosticMessagesClient.dylib (102) <84A04D24-0E60-3810-A8C0-90A65E2DF61A> /usr/lib/libDiagnosticMessagesClient.dylib
    0x7fffa5f50000 -     0x7fffa6163fff  libFosl_dynamic.dylib (16.39) <E22A4243-D148-3C74-BA15-2D906A3D1F9E> /usr/lib/libFosl_dynamic.dylib
    0x7fffa6187000 -     0x7fffa6187fff  libOpenScriptingUtil.dylib (172) <90743888-C1E8-34E3-924E-1A754B2B63B9> /usr/lib/libOpenScriptingUtil.dylib
    0x7fffa6188000 -     0x7fffa618cffb  libScreenReader.dylib (477.40.6) <CBE6420C-EF60-3ACD-A0B6-7CBE936BA3B8> /usr/lib/libScreenReader.dylib
    0x7fffa618d000 -     0x7fffa618effb  libSystem.B.dylib (1238.60.2) <F18AC1E7-C6F1-34B1-8069-BE571B3231D4> /usr/lib/libSystem.B.dylib
    0x7fffa61fa000 -     0x7fffa6225ff3  libarchive.2.dylib (41.70.1) <A3FA7D6E-3D68-3524-8B48-EB2ECA44B13B> /usr/lib/libarchive.2.dylib
    0x7fffa6226000 -     0x7fffa62a2fc7  libate.dylib (1.12.13) <D0767875-D02E-3377-84D8-5F174C27BEA9> /usr/lib/libate.dylib
    0x7fffa62a6000 -     0x7fffa62a6ff3  libauto.dylib (187) <34388D0B-C539-3C1B-9408-2BC152162E43> /usr/lib/libauto.dylib
    0x7fffa62a7000 -     0x7fffa62b7ff3  libbsm.0.dylib (34) <20084796-B04D-3B35-A003-EA11459557A9> /usr/lib/libbsm.0.dylib
    0x7fffa62b8000 -     0x7fffa62c6ff7  libbz2.1.0.dylib (38) <ADFA329A-DCE7-356D-8F09-A3168DFC6610> /usr/lib/libbz2.1.0.dylib
    0x7fffa62c7000 -     0x7fffa631dff7  libc++.1.dylib (307.5) <0B43BB5D-E6EB-3464-8DE9-B41AC8ED9D1C> /usr/lib/libc++.1.dylib
    0x7fffa631e000 -     0x7fffa6347ff7  libc++abi.dylib (307.4) <BC271AD3-831B-362A-9DA7-E8C51F285FE4> /usr/lib/libc++abi.dylib
    0x7fffa6348000 -     0x7fffa6358ffb  libcmph.dylib (6) <2B5D405E-2D0B-3320-ABD6-622934C86ABE> /usr/lib/libcmph.dylib
    0x7fffa6359000 -     0x7fffa636ffcf  libcompression.dylib (39) <F2726F95-F54E-3B21-BCB5-F7151DEFDC2F> /usr/lib/libcompression.dylib
    0x7fffa6370000 -     0x7fffa6370ff7  libcoretls.dylib (121.50.4) <64B1001E-10F6-3542-A3B2-C4B49F51817F> /usr/lib/libcoretls.dylib
    0x7fffa6371000 -     0x7fffa6372ff3  libcoretls_cfhelpers.dylib (121.50.4) <1A10303E-5EB0-3C7C-9165-021FCDFD934D> /usr/lib/libcoretls_cfhelpers.dylib
    0x7fffa66af000 -     0x7fffa6702ff7  libcups.2.dylib (450) <9950BFCB-7882-33C9-9ECF-CE66773C5657> /usr/lib/libcups.2.dylib
    0x7fffa6703000 -     0x7fffa6755fff  libcurl.4.dylib (95.70.1) <8987EFA8-0BF6-3E2A-8F04-7BD5803B9A37> /usr/lib/libcurl.4.dylib
    0x7fffa677f000 -     0x7fffa677ffff  libenergytrace.dylib (15) <A1B040A2-7977-3097-9ADF-34FF181EB970> /usr/lib/libenergytrace.dylib
    0x7fffa678f000 -     0x7fffa6794ff7  libheimdal-asn1.dylib (498.50.8) <A40E3196-235E-34CE-AD9A-8D1AFC5DE004> /usr/lib/libheimdal-asn1.dylib
    0x7fffa6795000 -     0x7fffa6887ff7  libiconv.2.dylib (50) <42125B35-81D7-3FC4-9475-A26DBE10884D> /usr/lib/libiconv.2.dylib
    0x7fffa6888000 -     0x7fffa6aadffb  libicucore.A.dylib (57166.0.1) <CCD2ED24-3071-383B-925D-8D763BB12A6F> /usr/lib/libicucore.A.dylib
    0x7fffa6ab3000 -     0x7fffa6ab4fff  liblangid.dylib (126) <2085E7A7-9A34-3735-87F4-F174EF8EABF0> /usr/lib/liblangid.dylib
    0x7fffa6ab5000 -     0x7fffa6aceffb  liblzma.5.dylib (10) <44BD0279-99DD-36B5-8A6E-C11432E2098D> /usr/lib/liblzma.5.dylib
    0x7fffa6acf000 -     0x7fffa6ae5ff7  libmarisa.dylib (5) <9030D214-5D0F-30CB-AC03-902C63909362> /usr/lib/libmarisa.dylib
    0x7fffa6ae6000 -     0x7fffa6d8eff7  libmecabra.dylib (744.8) <D429FCC9-42A4-38B3-8784-44024BC859EF> /usr/lib/libmecabra.dylib
    0x7fffa6dc1000 -     0x7fffa6e3bff3  libnetwork.dylib (856.60.1) <191E99F5-4723-3180-8013-02AF2F9AE4B8> /usr/lib/libnetwork.dylib
    0x7fffa6e3c000 -     0x7fffa720e047  libobjc.A.dylib (709.1) <70614861-0340-32E2-85ED-FE65759CDFFA> /usr/lib/libobjc.A.dylib
    0x7fffa7211000 -     0x7fffa7215fff  libpam.2.dylib (21.30.1) <71EB0D88-DE84-3C8D-A2C5-58AA282BC5BC> /usr/lib/libpam.2.dylib
    0x7fffa7216000 -     0x7fffa7247fff  libpcap.A.dylib (67.60.1) <F6BC6ED6-AEE4-3520-B248-0C342636E2B0> /usr/lib/libpcap.A.dylib
    0x7fffa7264000 -     0x7fffa7280ffb  libresolv.9.dylib (64) <A244AE4C-00B0-396C-98FF-97FE4DB3DA30> /usr/lib/libresolv.9.dylib
    0x7fffa72bb000 -     0x7fffa72cdffb  libsasl2.2.dylib (209) <32107C59-22C6-3049-B86E-9C2F85FF549B> /usr/lib/libsasl2.2.dylib
    0x7fffa72d0000 -     0x7fffa741eff7  libsqlite3.dylib (254.8) <1ECF7DF7-7A07-3B4B-A63B-F4EFF6BC7ACF> /usr/lib/libsqlite3.dylib
    0x7fffa747a000 -     0x7fffa74cafff  libstdc++.6.dylib (104.1) <A980E08C-A511-3D19-9881-1D79B7CFF2BA> /usr/lib/libstdc++.6.dylib
    0x7fffa7513000 -     0x7fffa7520fff  libxar.1.dylib (357) <69547C64-E811-326F-BBED-490C6361BDCB> /usr/lib/libxar.1.dylib
    0x7fffa7521000 -     0x7fffa7610fff  libxml2.2.dylib (30.17) <D4C3E467-37C6-34DE-8A1B-E7BFC29985E9> /usr/lib/libxml2.2.dylib
    0x7fffa7611000 -     0x7fffa763afff  libxslt.1.dylib (15.9) <00735AD5-B62D-3E83-86AC-5533E4E2B102> /usr/lib/libxslt.1.dylib
    0x7fffa763b000 -     0x7fffa764cff3  libz.1.dylib (67) <46E3FFA2-4328-327A-8D34-A03E20BFFB8E> /usr/lib/libz.1.dylib
    0x7fffa765b000 -     0x7fffa765fff7  libcache.dylib (79) <093A4DAB-8385-3D47-A350-E20CB7CCF7BF> /usr/lib/system/libcache.dylib
    0x7fffa7660000 -     0x7fffa766afff  libcommonCrypto.dylib (60092.50.5) <8A64D1B0-C70E-385C-92F0-E669079FDA90> /usr/lib/system/libcommonCrypto.dylib
    0x7fffa766b000 -     0x7fffa7672fff  libcompiler_rt.dylib (62) <55D47421-772A-32AB-B529-1A46C2F43B4D> /usr/lib/system/libcompiler_rt.dylib
    0x7fffa7673000 -     0x7fffa767bfff  libcopyfile.dylib (138) <819BEA3C-DF11-3E3D-A1A1-5A51C5BF1961> /usr/lib/system/libcopyfile.dylib
    0x7fffa767c000 -     0x7fffa76fffdf  libcorecrypto.dylib (442.50.19) <65D7165E-2E71-335D-A2D6-33F78E2DF0C1> /usr/lib/system/libcorecrypto.dylib
    0x7fffa7700000 -     0x7fffa7731fff  libdispatch.dylib (703.50.37) <6582BAD6-ED27-3B30-B620-90B1C5A4AE3C> /usr/lib/system/libdispatch.dylib
    0x7fffa7732000 -     0x7fffa7737ffb  libdyld.dylib (433.5) <9B2AC56D-107C-3541-A127-9094A751F2C9> /usr/lib/system/libdyld.dylib
    0x7fffa7738000 -     0x7fffa7738ffb  libkeymgr.dylib (28) <7AA011A9-DC21-3488-BF73-3B5B14D1FDD6> /usr/lib/system/libkeymgr.dylib
    0x7fffa7739000 -     0x7fffa7745fff  libkxld.dylib (3789.70.16) <BD02EF3F-6E09-3A64-AB21-553D5B1D2859> /usr/lib/system/libkxld.dylib
    0x7fffa7746000 -     0x7fffa7746fff  liblaunch.dylib (972.70.1) <B856ABD2-896E-3DE0-B2C8-146A6AF8E2A7> /usr/lib/system/liblaunch.dylib
    0x7fffa7747000 -     0x7fffa774cff3  libmacho.dylib (898) <17D5D855-F6C3-3B04-B680-E9BF02EF8AED> /usr/lib/system/libmacho.dylib
    0x7fffa774d000 -     0x7fffa774fff3  libquarantine.dylib (85.50.1) <12448CC2-378E-35F3-BE33-9DC395A5B970> /usr/lib/system/libquarantine.dylib
    0x7fffa7750000 -     0x7fffa7751ffb  libremovefile.dylib (45) <38D4CB9C-10CD-30D3-8B7B-A515EC75FE85> /usr/lib/system/libremovefile.dylib
    0x7fffa7752000 -     0x7fffa776aff7  libsystem_asl.dylib (349.50.5) <096E4228-3B7C-30A6-8B13-EC909A64499A> /usr/lib/system/libsystem_asl.dylib
    0x7fffa776b000 -     0x7fffa776bff7  libsystem_blocks.dylib (67) <10DC5404-73AB-35B3-A277-A8AFECB476EB> /usr/lib/system/libsystem_blocks.dylib
    0x7fffa776c000 -     0x7fffa77f9fef  libsystem_c.dylib (1158.50.2) <E5AE5244-7D0C-36AC-8BB6-C7AE7EA52A4B> /usr/lib/system/libsystem_c.dylib
    0x7fffa77fa000 -     0x7fffa77fdffb  libsystem_configuration.dylib (888.60.2) <BECC01A2-CA8D-31E6-BCDF-D452965FA976> /usr/lib/system/libsystem_configuration.dylib
    0x7fffa77fe000 -     0x7fffa7801fff  libsystem_coreservices.dylib (41.4) <7D26DE79-B424-3450-85E1-F7FAB32714AB> /usr/lib/system/libsystem_coreservices.dylib
    0x7fffa7802000 -     0x7fffa781afff  libsystem_coretls.dylib (121.50.4) <EC6FCF07-DCFB-3A03-9CC9-6DD3709974C6> /usr/lib/system/libsystem_coretls.dylib
    0x7fffa781b000 -     0x7fffa7821fff  libsystem_dnssd.dylib (765.50.9) <CC960215-0B1B-3822-A13A-3DDE96FA796F> /usr/lib/system/libsystem_dnssd.dylib
    0x7fffa7822000 -     0x7fffa784bff7  libsystem_info.dylib (503.50.4) <611DB84C-BF70-3F92-8702-B9F28A900920> /usr/lib/system/libsystem_info.dylib
    0x7fffa784c000 -     0x7fffa786eff7  libsystem_kernel.dylib (3789.70.16) <34B1F16C-BC9C-3C5F-9045-0CAE91CB5914> /usr/lib/system/libsystem_kernel.dylib
    0x7fffa786f000 -     0x7fffa78b6fe7  libsystem_m.dylib (3121.6) <86D499B5-BBDC-3D3B-8A4E-97AE8E6672A4> /usr/lib/system/libsystem_m.dylib
    0x7fffa78b7000 -     0x7fffa78d5ff7  libsystem_malloc.dylib (116.50.8) <A3D15F17-99A6-3367-8C7E-4280E8619C95> /usr/lib/system/libsystem_malloc.dylib
    0x7fffa78d6000 -     0x7fffa792fffb  libsystem_network.dylib (856.60.1) <369D0221-56CA-3C3E-9EDE-94B41CAE77B7> /usr/lib/system/libsystem_network.dylib
    0x7fffa7930000 -     0x7fffa7939ff3  libsystem_networkextension.dylib (563.60.2) <B021F2B3-8A75-3633-ABB0-FC012B8E9B0C> /usr/lib/system/libsystem_networkextension.dylib
    0x7fffa793a000 -     0x7fffa7943ff3  libsystem_notify.dylib (165.20.1) <B8160190-A069-3B3A-BDF6-2AA408221FAE> /usr/lib/system/libsystem_notify.dylib
    0x7fffa7944000 -     0x7fffa794cfe7  libsystem_platform.dylib (126.50.8) <897462FD-B318-321B-A554-E61982630F7E> /usr/lib/system/libsystem_platform.dylib
    0x7fffa794d000 -     0x7fffa7957ff7  libsystem_pthread.dylib (218.60.3) <B8FB5E20-3295-39E2-B5EB-B464D1D4B104> /usr/lib/system/libsystem_pthread.dylib
    0x7fffa7958000 -     0x7fffa795bff7  libsystem_sandbox.dylib (592.70.1) <4B92EC49-ACD0-36AE-B07A-A2B8152EAF9D> /usr/lib/system/libsystem_sandbox.dylib
    0x7fffa795c000 -     0x7fffa795dff3  libsystem_secinit.dylib (24.50.4) <F78B847B-3565-3E4B-98A6-F7AD40392E2D> /usr/lib/system/libsystem_secinit.dylib
    0x7fffa795e000 -     0x7fffa7965ffb  libsystem_symptoms.dylib (532.50.47) <3390E07C-C1CE-348F-ADBD-2C5440B45EAA> /usr/lib/system/libsystem_symptoms.dylib
    0x7fffa7966000 -     0x7fffa7979ff7  libsystem_trace.dylib (518.70.1) <AC63A7FE-50D9-3A30-96E6-F6B7FF16E465> /usr/lib/system/libsystem_trace.dylib
    0x7fffa797a000 -     0x7fffa797fffb  libunwind.dylib (35.3) <3D50D8A8-C460-334D-A519-2DA841102C6B> /usr/lib/system/libunwind.dylib
    0x7fffa7980000 -     0x7fffa79a9ff7  libxpc.dylib (972.70.1) <BF896DF0-D8E9-31A8-A4B3-01120BFEEE52> /usr/lib/system/libxpc.dylib

External Modification Summary:
  Calls made by other processes targeting this process:
    task_for_pid: 0
    thread_create: 0
    thread_set_state: 0
  Calls made by this process:
    task_for_pid: 0
    thread_create: 0
    thread_set_state: 0
  Calls made by all processes on this machine:
    task_for_pid: 393972
    thread_create: 0
    thread_set_state: 0

VM Region Summary:
ReadOnly portion of Libraries: Total=363.3M resident=0K(0%) swapped_out_or_unallocated=363.3M(100%)
Writable regions: Total=60.7M written=0K(0%) resident=0K(0%) swapped_out=0K(0%) unallocated=60.7M(100%)

                                VIRTUAL   REGION 
REGION TYPE                        SIZE    COUNT (non-coalesced) 
===========                     =======  ======= 
Activity Tracing                   256K        2 
Kernel Alloc Once                    8K        2 
MALLOC                            50.4M       18 
MALLOC guard page                   32K        7 
STACK GUARD                       56.0M        5 
Stack                             9752K        5 
VM_ALLOCATE                          4K        2 
__DATA                            26.8M      276 
__IMAGE                            528K        2 
__LINKEDIT                       134.8M       60 
__TEXT                           228.5M      265 
__UNICODE                          556K        2 
mapped file                       24.7M        2 
shared memory                      848K        9 
===========                     =======  ======= 
TOTAL                            533.0M      643 

From noreply at qgis.org  Fri Oct  6 00:54:26 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 06 Oct 2017 07:54:26 -0000
Subject: [QGIS-Developer] Plugin [1163] Plugin Load Times approval
	notification.
Message-ID: <20171006075426.3569.51580@320558c5528b>


Plugin Plugin Load Times approval by zimbogisgeek.
The plugin version "[1163] Plugin Load Times 2.0.2" is now approved
Link: http://plugins.qgis.org/plugins/PluginLoadTimes/

From noreply at qgis.org  Fri Oct  6 01:40:57 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 06 Oct 2017 08:40:57 -0000
Subject: [QGIS-Developer] Plugin [92] Midvatten approval notification.
Message-ID: <20171006084057.16093.36911@320558c5528b>


Plugin Midvatten approval by zimbogisgeek.
The plugin version "[92] Midvatten 1.4.6" is now approved
Link: http://plugins.qgis.org/plugins/midvatten/

From noreply at qgis.org  Fri Oct  6 01:42:39 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 06 Oct 2017 08:42:39 -0000
Subject: [QGIS-Developer] Plugin [1305] Calidad-CAR approval notification.
Message-ID: <20171006084239.27074.58216@320558c5528b>


Plugin Calidad-CAR approval by zimbogisgeek.
The plugin version "[1305] Calidad-CAR 0.9" is now approved
Link: http://plugins.qgis.org/plugins/CalidadCAR/

From blackwhitekez at gmail.com  Fri Oct  6 02:01:33 2017
From: blackwhitekez at gmail.com (Patrick Dunford)
Date: Fri, 6 Oct 2017 22:01:33 +1300
Subject: [QGIS-Developer] Question over capability of adding to or editing a
	filtered shapefile
Message-ID: <9eb5b897-e202-5ea9-0bd1-8c6f6d9d7b01@gmail.com>

Good evening

It seems there may be some point of contention over whether a shapefile 
that is filtered should be capable of having new features added.

I have recently begun filtering my shapefiles (to enable me to produce 
different views of the same map) and did not understand there might be a 
question over adding new features to a table that is filtered for 
display. To me this is like a discussion about live queries as opposed 
to static views of database queries, and whether the dataset should be 
capable of being updated for display when changes are made to it. It 
would seem the case is the same for editing filtered shapefile data, 
since this also involves a change to the source dataset.

There seems to be a design assumption that it shouldn't be possible to 
edit filtered shapefiles. Nevertheless, it is possible. I would like to 
ask for the rationale to be justified that it shouldn't be possible to 
edit a filtered shapefile. This seems to revolve around the question of 
whether the filtered view is meant to be read only or updateable.

In some of my maps I use filtering to present different (historical 
eras) views of the same geographical location, by filtering on a 
specific field, but this is also useful when editing the map, and this 
is what I am using at present with some maps I am working on. Currently 
the software appears to be geared around attempting to block edits or 
updates to a filtered shapefile dataset, but if present, this feature 
has only been introduced this year in Qgis 3.0.


From giovanni.manghi at gmail.com  Fri Oct  6 02:06:06 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Fri, 6 Oct 2017 10:06:06 +0100
Subject: [QGIS-Developer] QGIS 3 vertex editor problems
Message-ID: <CACfnYnSPHNcU1YMOVvwkRdPb3pTUqySFFBJX5SWuKARYw4ygKQ@mail.gmail.com>

Hi Martin,


>> And of course, expose and allow editing z and m values.
>
> Editing of Z/M values should be already supported - or am I wrong?

yes, but is broken in 2.18 (changing the value does not stick, works
in 2.14 and master) and broken is as well moving nodes/features of
postgis 3d lines and polygons.

The problem of editing z values in master is the following:

when selecting a vertex the vertex editor panel does not open
automatically and when you open it manually the focus is not on the
select vertex (as it happens in 2.14 and 2.18).

cheers!

-- G --

From etienne.trimaille at gmail.com  Fri Oct  6 03:45:32 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Fri, 6 Oct 2017 12:45:32 +0200
Subject: [QGIS-Developer] QGIS master branch fails make install on macOS
	10.12.6
In-Reply-To: <20171006074626.GA93431@Joels-MacBook-Pro.local>
References: <20171006074626.GA93431@Joels-MacBook-Pro.local>
Message-ID: <CAMtDFL+i7UZqUtCm1ATQ7Cy2+_U5Y74GjfiKTuScnEKCo5FMHw@mail.gmail.com>

Hi Joel,

I'm far away able to answer your problem. But I can compile perfectly using
brew with https://github.com/qgis/homebrew-qgisdev

My 2 cents,
Etienne

2017-10-06 9:46 GMT+02:00 Joel Buckley <qgis at spam.joelbuckley.com.au>:

> Hi,
>
> I am having some difficulty running `make install`, and compiling QGIS
> into a single standalone application on macOS. I can successfully run
> configuration and `make`, and can launch the `make`-d code from
> build/output/bin with no problem.
>
> `make install` runs without complaint and returns 0 (success), but when I
> try to launch the newly create QGIS.app, it immediately crashes, and
> produces a crash report (attached for brevity).
>
> I have googled and attempted to parse the crash log, but the errors it
> reports are beyond my capability. I'm hoping someone on the list might have
> some input on how to remedy this?
>
> Configuration information:
> QGIS version: current master branch
> QT5, python 3
> macOS 10.12.6
>
> Regards,
>
> --
> Joel Buckley
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171006/a6ba94db/attachment.html>

From dmarteau at 3liz.com  Fri Oct  6 04:59:30 2017
From: dmarteau at 3liz.com (David Marteau)
Date: Fri, 6 Oct 2017 13:59:30 +0200
Subject: [QGIS-Developer] QGIS master branch fails make install on macOS
	10.12.6
In-Reply-To: <20171006074626.GA93431@Joels-MacBook-Pro.local>
References: <20171006074626.GA93431@Joels-MacBook-Pro.local>
Message-ID: <818D5CE4-71CD-4B2E-B12A-DCC8CCA965D8@3liz.com>

Hi

Try to define the environment variable QT_QPA_PLATFORM_PLUGIN_PATH=/opt/local/libexec/qt5/plugins/platforms (it may depends on how is your qt5 installation - this path is ok for Macport installation)

According to my experience (see https://www.3liz.com/blog/rldhont/index.php?post/2017/06/01/How-to-build-qgis-on-OSX-with-MacPort) : If this variable is not defined then QGIS will crash at startup. 


> Le 6 oct. 2017 à 09:46, Joel Buckley <qgis at spam.joelbuckley.com.au> a écrit :
> 
> Hi,
> 
> I am having some difficulty running `make install`, and compiling QGIS into a single standalone application on macOS. I can successfully run configuration and `make`, and can launch the `make`-d code from build/output/bin with no problem.
> 
> `make install` runs without complaint and returns 0 (success), but when I try to launch the newly create QGIS.app, it immediately crashes, and produces a crash report (attached for brevity).
> 
> I have googled and attempted to parse the crash log, but the errors it reports are beyond my capability. I'm hoping someone on the list might have some input on how to remedy this?
> 
> Configuration information:
> QGIS version: current master branch
> QT5, python 3
> macOS 10.12.6
> 
> Regards,
> 
> -- 
> Joel Buckley
> 
> <crash.txt>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171006/3e397def/attachment.html>

From matteo.ghetta at gmail.com  Fri Oct  6 05:27:01 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 6 Oct 2017 14:27:01 +0200
Subject: [QGIS-Developer] Processing random extract within subset
Message-ID: <170b9607-8aec-47db-6b35-a1f32e6e22c6@gmail.com>

Hi guys,

I'm working with 2.18.3 and with the Processing algorithm "random
extract within subset". It seems that something is broken here.

The algorithm stops at the first subset found.

Same layer, same field and same algorithm in QGIS master works perfectly.

Should I open an issue for that?

Thanks

Cheers

Matteo

From werner.macho at gmail.com  Fri Oct  6 09:35:26 2017
From: werner.macho at gmail.com (Werner Macho)
Date: Fri, 6 Oct 2017 18:35:26 +0200
Subject: [QGIS-Developer] We need mentors for Google Code-In
Message-ID: <ef344cf4-63cd-cc4e-c982-5b0400cb588f@gmail.com>

Hi Developers and Users (Sorry for crossposting, but there is not much
time left)

Google starts a new competition for Students. Google Code in.

GCI is a competition addressed to high-school students aged 13-17, as an
introduction to the open source world. They are supposed to complete as
much tasks as possible to win the contest. These tasks should be short
simple stuff (3-5 hours) from beginner stuff such as installing the
software and displaying a map to more advanced things such as proposing
a patch of code to fix a bug. However, since the students have to
complete several tasks to win, we need to plan lots of them and be
available to review what the students submit rather quickly, so they can
start with a new one. For that reason, it is better if we are more
mentors. Since the tasks do not involve only code stuff, everyone
interested is invited to propose tasks and join as mentor!

Extra info about GCI and examples of tasks might be found in the
dedicated OSGeo wikis:
- https://wiki.osgeo.org/wiki/Google_Code_In_2017
- https://wiki.osgeo.org/wiki/Google_Code_In_2017_Tasks

Kind regards
Werner

From anitagraser at gmx.at  Fri Oct  6 10:46:36 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Fri, 6 Oct 2017 19:46:36 +0200
Subject: [QGIS-Developer] Custom CRS broken in master?
Message-ID: <CAFFV8FgtdS4qttQUaLDzdVisuBn7xZzJnSfeRKnDMvp0ePxXfQ@mail.gmail.com>

Hi,

I'm experiencing a couple of issues related to custom / generated CRS in
master (tested using OSGeo4W):

1. In Processing: If the input layer uses a generated / custom CRS, the
output layer is loaded in a wrong CRS. In my case, the layers were wrongly
assigned WGS84. (Note that, in settings, I've configured that QGIS should
"prompt for CRS" if a layer without CRS info is loaded.) --> Reported
https://issues.qgis.org/issues/17254

2. I have a project with a custom CRS used as the project CRS. It was
created with 2.14. When I open it in master, a different CRS is assigned.
Could be the one with the same random generated ID that custom CRS get.

3. The Custom CRS Definition dialog is a mess. Most of the time, I cannot
make it save the new CRS I'm trying to add. At the same time, existing
entries are duplicated on opening & closing the dialog.

Anyone else having these issues? Or is my local install just really broken?

Regards
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171006/f2565af0/attachment.html>

From jmckenna at gatewaygeomatics.com  Fri Oct  6 12:24:56 2017
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Fri, 6 Oct 2017 16:24:56 -0300
Subject: [QGIS-Developer] We need mentors for Google Code-In
In-Reply-To: <ef344cf4-63cd-cc4e-c982-5b0400cb588f@gmail.com>
References: <ef344cf4-63cd-cc4e-c982-5b0400cb588f@gmail.com>
Message-ID: <5f4c76bc-4a64-0d8e-3bf4-63d9731ad09d@gatewaygeomatics.com>

Thanks Werner.  Please note that if you are interested to be a mentor, 
it is important that you fill out the Google form mentioned at 
https://wiki.osgeo.org/wiki/Google_Code_In_2017_Mentors   thanks all!  -jeff



On 2017-10-06 1:35 PM, Werner Macho wrote:
> Hi Developers and Users (Sorry for crossposting, but there is not much
> time left)
> 
> Google starts a new competition for Students. Google Code in.
> 
> GCI is a competition addressed to high-school students aged 13-17, as an
> introduction to the open source world. They are supposed to complete as
> much tasks as possible to win the contest. These tasks should be short
> simple stuff (3-5 hours) from beginner stuff such as installing the
> software and displaying a map to more advanced things such as proposing
> a patch of code to fix a bug. However, since the students have to
> complete several tasks to win, we need to plan lots of them and be
> available to review what the students submit rather quickly, so they can
> start with a new one. For that reason, it is better if we are more
> mentors. Since the tasks do not involve only code stuff, everyone
> interested is invited to propose tasks and join as mentor!
> 
> Extra info about GCI and examples of tasks might be found in the
> dedicated OSGeo wikis:
> - https://wiki.osgeo.org/wiki/Google_Code_In_2017
> - https://wiki.osgeo.org/wiki/Google_Code_In_2017_Tasks
> 
> Kind regards
> Werner
> _____

From stephanebek at gmail.com  Fri Oct  6 23:45:43 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Sat, 7 Oct 2017 11:45:43 +0500
Subject: [QGIS-Developer] Problem with "no Data value" with rasters when
 using the Layer Styling panel?
In-Reply-To: <20170928214355.GA2772@Amalthea>
References: <CAK6pVBVcB0jEQN4rzMT8VUgWuAQA_DP4ZK1McCLanD_K8gz6Ew@mail.gmail.com>
 <CAK6pVBXC34jrv9XVH6xFdkOdCyc1AvXfKML4QM=K76svtojsmg@mail.gmail.com>
 <CAK6pVBUX7AE2xfQg=AZFg7oW-s5pF61Z9jht4xiA_gN-NX+5sA@mail.gmail.com>
 <CAK6pVBXFwBVJnWUmimrxw=_tTv4A53ce9MAH-ONQZWQESymQiQ@mail.gmail.com>
 <CAK6pVBVLa_WahbqC1oukPoM-6qp0fYitDx7hEH6yY+09F-Ji+w@mail.gmail.com>
 <20170928214355.GA2772@Amalthea>
Message-ID: <CAK6pVBWvBTOSw0E=KBNv01FCAGOshO8P7ZSoJBqk1bgACTmOEw@mail.gmail.com>

Hi James!

Just to know if you had a chance to look at this and if you need some help
withe testing or whatever!

THanks
Stéphane


Le vendredi 29 septembre 2017, James Shaeffer <james at shaeffer.co> a écrit :

> I'll stab at fixing this.
>
> James Shaeffer
>
> On Thu, Sep 28, 2017 at 09:55:14PM +0600, Stéphane Henriod wrote:
> > Hi all
> >
> > just trying one last time to get attention on this bug :-)
> >
> > The bug is still present on the last 2.99
> >
> > As usual, I apologize for complaining while not being able to take care
> of
> > it myself...
> >
> > Easiest way to understand what is currently wrong is this screencast:
> > https://vimeo.com/219467091
> >
> > With my little understanding, I would assume that the correction of this
> > bug is not a "big thing"? But maybe I am overlooking something
> >
> > Thanks!
> >
> > Stéphane
> >
> >
> > Le mercredi 21 juin 2017, Stéphane Henriod <stephanebek at gmail.com
> <javascript:;>> a écrit :
> >
> > > Hi all
> > >
> > > Apparently, this has been confirmed as a bug. Is anyone willing / able
> to
> > > take care of it?
> > >
> > > Thanks a lot and cheers
> > >
> > > Stéphane (who really feels sorry to raise such questions, while not
> being
> > > able himself to actively contribute to the resolution of such bugs)
> > >
> > >
> > > Le jeudi 1 juin 2017, Stéphane Henriod <stephanebek at gmail.com
> <javascript:;>
> > > <javascript:_e(%7B%7D,'cvml','stephanebek at gmail.com <javascript:;>');>>
> a écrit :
> > >
> > >> Hi again
> > >>
> > >> in doubt, I have opened a ticket here: https://issues.qgis.org/
> > >> issues/16649
> > >>
> > >> Cheers
> > >> Stéphane
> > >>
> > >>
> > >> Le mardi 30 mai 2017, Stéphane Henriod <stephanebek at gmail.com
> <javascript:;>> a écrit :
> > >>
> > >>> PS: screencast to better explain the issue:
> https://vimeo.com/219467091
> > >>>
> > >>> Le mardi 30 mai 2017, Stéphane Henriod <stephanebek at gmail.com
> <javascript:;>> a écrit :
> > >>>
> > >>>> Hi
> > >>>>
> > >>>> I am testing the layer styling panel (shortcut F7) with the latest
> > >>>> Nightly build on the Ubuntu repositories.
> > >>>>
> > >>>> By default, the NoData value is -9999. If I add "10" as additional
> > >>>> NoData value, nothing happens.
> > >>>>
> > >>>> If I do the same in the layer properties, then the expected behavior
> > >>>> happens: all pixels with value "10" are not rendered.
> > >>>>
> > >>>> So it seems that the manually added NoData values in the Layer
> Styling
> > >>>> Panel are not considered.
> > >>>>
> > >>>> Can someone else replicate this problem? Should I open a ticket?
> > >>>>
> > >>>> Cheers
> > >>>> Stéphane
> > >>>>
> > >>>>
> > >>>> --
> > >>>>
> > >>>> “When you travel, remember that a foreign country is not designed to
> > >>>> make you comfortable. It is designed to make its own people
> comfortable."
> > >>>> -- Clifton Fadiman
> > >>>>
> > >>>>
> > >>>
> > >>> --
> > >>>
> > >>> “When you travel, remember that a foreign country is not designed to
> > >>> make you comfortable. It is designed to make its own people
> comfortable."
> > >>> -- Clifton Fadiman
> > >>>
> > >>>
> > >>
> > >> --
> > >>
> > >> “When you travel, remember that a foreign country is not designed to
> make
> > >> you comfortable. It is designed to make its own people comfortable."
> --
> > >> Clifton Fadiman
> > >>
> > >>
> > >
> > > --
> > >
> > > “When you travel, remember that a foreign country is not designed to
> make
> > > you comfortable. It is designed to make its own people comfortable." --
> > > Clifton Fadiman
> > >
> > >
> >
> > --
> >
> > “When you travel, remember that a foreign country is not designed to make
> > you comfortable. It is designed to make its own people comfortable." --
> > Clifton Fadiman
>
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org <javascript:;>
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171007/565c1a52/attachment.html>

From alberti.m65 at gmail.com  Sat Oct  7 00:55:33 2017
From: alberti.m65 at gmail.com (Mauro Alberti)
Date: Sat, 7 Oct 2017 09:55:33 +0200
Subject: [QGIS-Developer] Failure in uploading plugin
Message-ID: <CAALdH9X0rza5td5s=P=0rPDx8M1cLnf25GZYd58BKxXitANm4Q@mail.gmail.com>

Hi,
I am receiving errors when I try to upload a new version of qProf plugin.
I've checked the metadata, but after trying the upload I always get the
message:

*There were errors reading plugin package (please check also your plugin's
metadata). Could not unzip file.*
and I am not sure where the problem could be. I have tested the manual
installation from unzipping the file and there were no problems
Are there alternative ways to submit a new plugin version?

thanks,
mauro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171007/32176312/attachment.html>

From tom.chadwin at nnpa.org.uk  Sat Oct  7 03:13:57 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Sat, 7 Oct 2017 03:13:57 -0700 (MST)
Subject: [QGIS-Developer] Failure in uploading plugin
In-Reply-To: <CAALdH9X0rza5td5s=P=0rPDx8M1cLnf25GZYd58BKxXitANm4Q@mail.gmail.com>
References: <CAALdH9X0rza5td5s=P=0rPDx8M1cLnf25GZYd58BKxXitANm4Q@mail.gmail.com>
Message-ID: <1507371237765-0.post@n6.nabble.com>

How are you creating the zip? 

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From alberti.m65 at gmail.com  Sat Oct  7 04:23:24 2017
From: alberti.m65 at gmail.com (Mauro Alberti)
Date: Sat, 7 Oct 2017 13:23:24 +0200
Subject: [QGIS-Developer] Failure in uploading plugin
In-Reply-To: <1507371237765-0.post@n6.nabble.com>
References: <CAALdH9X0rza5td5s=P=0rPDx8M1cLnf25GZYd58BKxXitANm4Q@mail.gmail.com>
 <1507371237765-0.post@n6.nabble.com>
Message-ID: <CAALdH9Ue3-yL6geAwrEC6tit-YGphVk92cspHKG+u8yrG6rUdw@mail.gmail.com>

zipping the folder name 'qProf' in Linux. Are there any particular
assumption/requirement about the uploaded zip structure?

Il 07/Ott/2017 12:14, "Tom Chadwin" <tom.chadwin at nnpa.org.uk> ha scritto:

> How are you creating the zip?
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171007/b81133e4/attachment.html>

From anitagraser at gmx.at  Sat Oct  7 05:07:50 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 7 Oct 2017 14:07:50 +0200
Subject: [QGIS-Developer] Custom CRS broken in master?
In-Reply-To: <CAFFV8FgtdS4qttQUaLDzdVisuBn7xZzJnSfeRKnDMvp0ePxXfQ@mail.gmail.com>
References: <CAFFV8FgtdS4qttQUaLDzdVisuBn7xZzJnSfeRKnDMvp0ePxXfQ@mail.gmail.com>
Message-ID: <CAFFV8FjLStHFWsf0m+4SBgXF=zEjkB9bY_XUAhAiU-FvMq+C1w@mail.gmail.com>

I've now tested this on another machine and the issues are same.

I open separate tickets or one with all three issues?

Regards,
Anita

On Fri, Oct 6, 2017 at 7:46 PM, Anita Graser <anitagraser at gmx.at> wrote:

> Hi,
>
> I'm experiencing a couple of issues related to custom / generated CRS in
> master (tested using OSGeo4W):
>
> 1. In Processing: If the input layer uses a generated / custom CRS, the
> output layer is loaded in a wrong CRS. In my case, the layers were wrongly
> assigned WGS84. (Note that, in settings, I've configured that QGIS should
> "prompt for CRS" if a layer without CRS info is loaded.) --> Reported
> https://issues.qgis.org/issues/17254
>
> 2. I have a project with a custom CRS used as the project CRS. It was
> created with 2.14. When I open it in master, a different CRS is assigned.
> Could be the one with the same random generated ID that custom CRS get.
>
> 3. The Custom CRS Definition dialog is a mess. Most of the time, I cannot
> make it save the new CRS I'm trying to add. At the same time, existing
> entries are duplicated on opening & closing the dialog.
>
> Anyone else having these issues? Or is my local install just really broken?
>
> Regards
> Anita
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171007/cb5eeb75/attachment-0001.html>

From matthias at opengis.ch  Sat Oct  7 05:40:20 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Sat, 7 Oct 2017 14:40:20 +0200
Subject: [QGIS-Developer] Custom CRS broken in master?
In-Reply-To: <CAFFV8FjLStHFWsf0m+4SBgXF=zEjkB9bY_XUAhAiU-FvMq+C1w@mail.gmail.com>
References: <CAFFV8FgtdS4qttQUaLDzdVisuBn7xZzJnSfeRKnDMvp0ePxXfQ@mail.gmail.com>
 <CAFFV8FjLStHFWsf0m+4SBgXF=zEjkB9bY_XUAhAiU-FvMq+C1w@mail.gmail.com>
Message-ID: <5fb24d8c-0043-895a-6a09-54a940a3dfd0@opengis.ch>

Hi Anita,

Just reading through the tickets and without much context: they very 
much look like individual issues without any overlap, so I would go for 
different tickets.

Thanks

Matthias


On 10/07/2017 02:07 PM, Anita Graser wrote:
> I've now tested this on another machine and the issues are same.
>
> I open separate tickets or one with all three issues?
>
> Regards,
> Anita
>
> On Fri, Oct 6, 2017 at 7:46 PM, Anita Graser <anitagraser at gmx.at 
> <mailto:anitagraser at gmx.at>> wrote:
>
>     Hi,
>
>     I'm experiencing a couple of issues related to custom / generated
>     CRS in master (tested using OSGeo4W):
>
>     1. In Processing: If the input layer uses a generated / custom
>     CRS, the output layer is loaded in a wrong CRS. In my case, the
>     layers were wrongly assigned WGS84. (Note that, in settings, I've
>     configured that QGIS should "prompt for CRS" if a layer without
>     CRS info is loaded.) --> Reported
>     https://issues.qgis.org/issues/17254
>     <https://issues.qgis.org/issues/17254>
>
>     2. I have a project with a custom CRS used as the project CRS. It
>     was created with 2.14. When I open it in master, a different CRS
>     is assigned. Could be the one with the same random generated ID
>     that custom CRS get.
>
>     3. The Custom CRS Definition dialog is a mess. Most of the time, I
>     cannot make it save the new CRS I'm trying to add. At the same
>     time, existing entries are duplicated on opening & closing the dialog.
>
>     Anyone else having these issues? Or is my local install just
>     really broken?
>
>     Regards
>     Anita
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171007/252f558d/attachment.html>

From anitagraser at gmx.at  Sat Oct  7 07:11:27 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 7 Oct 2017 16:11:27 +0200
Subject: [QGIS-Developer] Custom CRS broken in master?
In-Reply-To: <5fb24d8c-0043-895a-6a09-54a940a3dfd0@opengis.ch>
References: <CAFFV8FgtdS4qttQUaLDzdVisuBn7xZzJnSfeRKnDMvp0ePxXfQ@mail.gmail.com>
 <CAFFV8FjLStHFWsf0m+4SBgXF=zEjkB9bY_XUAhAiU-FvMq+C1w@mail.gmail.com>
 <5fb24d8c-0043-895a-6a09-54a940a3dfd0@opengis.ch>
Message-ID: <CAFFV8FjeVw3AY3-v+70Xzmd8r12bndMe0o3XQfGOjZsPgM0JEw@mail.gmail.com>

Thanks Matthias,

On Sat, Oct 7, 2017 at 2:40 PM, Matthias Kuhn <matthias at opengis.ch> wrote:
>
> Just reading through the tickets and without much context: they very much
> look like individual issues without any overlap, so I would go for
> different tickets.
> ​
>
> ​Here they are:

1. Wrong output CRS when input layer uses generated CRShttps://
issues.qgis.org/issues/17254

​2. ​
Cu
​​
stom project CRS is not restored correctly on project load
​ ​
https://issues.qgis.org/issues/17257

​3.​Custom CRS Definition dialog is unusable
https://issues.qgis.org/issues/17258

Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171007/f97f17d3/attachment.html>

From delazj at gmail.com  Sat Oct  7 09:35:59 2017
From: delazj at gmail.com (DelazJ)
Date: Sat, 7 Oct 2017 18:35:59 +0200
Subject: [QGIS-Developer] Customize list of algorithms shown in Vector
 or Raster menu
In-Reply-To: <CAMtDFLKmAbm7qxR9UwD41sctf8MSGz-rizPM7t78DVS2cC7i5w@mail.gmail.com>
References: <CAECJsSowX7dqyNYtCeUHsuXQFjXRw4VQe9nDyFAziOzEMc-T_Q@mail.gmail.com>
 <CAMtDFL+LkTJzf=QRii9qs0xVoWLLX4WpR+M9=yhdoi3htB=cAg@mail.gmail.com>
 <CAECJsSpiRjjkRo2FHXhcpb=2-fUwB6=SPWHR1HCppDP8h-A6HA@mail.gmail.com>
 <CAMtDFLKmAbm7qxR9UwD41sctf8MSGz-rizPM7t78DVS2cC7i5w@mail.gmail.com>
Message-ID: <CAECJsSo07HdtS2aMU5B+Ghx-BTfHRYvtXS_hHoAUX23T2fusyw@mail.gmail.com>

Hi,
Just to mention that i gave it a try and it works with anything you write
(not only Raster and Vector)

H.

2017-10-04 8:33 GMT+02:00 Etienne Trimaille <etienne.trimaille at gmail.com>:

> De rien ;-)
>
> I've never tried something else than the vector or the raster menu.
>
> 2017-10-03 18:30 GMT+02:00 DelazJ <delazj at gmail.com>:
>
>> Merci Etienne. I find them.
>> Do you know if only Vector and Raster menus are allowed or could I set my
>> own main menu? (i know i can test but... :) )
>>
>> 2017-10-03 17:22 GMT+02:00 Etienne Trimaille <etienne.trimaille at gmail.com
>> >:
>>
>>> Hi,
>>>
>>> It's already possible in QGIS 2. In your processing options, you can
>>> setup your own vector and raster menus.
>>>
>>> 2017-10-03 17:09 GMT+02:00 DelazJ <delazj at gmail.com>:
>>>
>>>> Hi,
>>>>
>>>> By default, some of the Processing algorithms have a shortcut in Vector
>>>> or Raster menu. Most of them are equivalent to the old Ftools or GDALTools
>>>> core plugins items.
>>>>
>>>> Question: Is it (/will it be) possible for end users to extend these
>>>> menus with any of the other core algorithms? Or is that menu structure
>>>> hardcoded in QGIS (regardless what plugins can do)?
>>>>
>>>> Thanks,
>>>> Harrissou
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171007/29241c5e/attachment.html>

From tom.chadwin at nnpa.org.uk  Sat Oct  7 13:04:39 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Sat, 7 Oct 2017 13:04:39 -0700 (MST)
Subject: [QGIS-Developer] Failure in uploading plugin
In-Reply-To: <CAALdH9Ue3-yL6geAwrEC6tit-YGphVk92cspHKG+u8yrG6rUdw@mail.gmail.com>
References: <CAALdH9X0rza5td5s=P=0rPDx8M1cLnf25GZYd58BKxXitANm4Q@mail.gmail.com>
 <1507371237765-0.post@n6.nabble.com>
 <CAALdH9Ue3-yL6geAwrEC6tit-YGphVk92cspHKG+u8yrG6rUdw@mail.gmail.com>
Message-ID: <1507406679780-0.post@n6.nabble.com>

That's it. A single root folder whose name matches the plugin, and the plugin
files within that, including metadata.txt. I'm therefore not sure what's
causing your issue. 

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From blackwhitekez at gmail.com  Sat Oct  7 16:46:04 2017
From: blackwhitekez at gmail.com (Patrick Dunford)
Date: Sun, 8 Oct 2017 12:46:04 +1300
Subject: [QGIS-Developer] Custom CRS broken in master?
In-Reply-To: <CAFFV8FjLStHFWsf0m+4SBgXF=zEjkB9bY_XUAhAiU-FvMq+C1w@mail.gmail.com>
References: <CAFFV8FgtdS4qttQUaLDzdVisuBn7xZzJnSfeRKnDMvp0ePxXfQ@mail.gmail.com>
 <CAFFV8FjLStHFWsf0m+4SBgXF=zEjkB9bY_XUAhAiU-FvMq+C1w@mail.gmail.com>
Message-ID: <c01863bc-785c-4fbc-88f0-71f2f74c35e4@gmail.com>

There are some circumstances in which you have to re-enter your CRS when 
opening a project in a development master, this is just an issue with 
importing project files with some of the development versions.


On 08/10/17 01:07, Anita Graser wrote:
> I've now tested this on another machine and the issues are same.
>
> I open separate tickets or one with all three issues?
>
> Regards,
> Anita
>
> On Fri, Oct 6, 2017 at 7:46 PM, Anita Graser <anitagraser at gmx.at 
> <mailto:anitagraser at gmx.at>> wrote:
>
>     Hi,
>
>     I'm experiencing a couple of issues related to custom / generated
>     CRS in master (tested using OSGeo4W):
>
>     1. In Processing: If the input layer uses a generated / custom
>     CRS, the output layer is loaded in a wrong CRS. In my case, the
>     layers were wrongly assigned WGS84. (Note that, in settings, I've
>     configured that QGIS should "prompt for CRS" if a layer without
>     CRS info is loaded.) --> Reported
>     https://issues.qgis.org/issues/17254
>     <https://issues.qgis.org/issues/17254>
>
>     2. I have a project with a custom CRS used as the project CRS. It
>     was created with 2.14. When I open it in master, a different CRS
>     is assigned. Could be the one with the same random generated ID
>     that custom CRS get.
>
>     3. The Custom CRS Definition dialog is a mess. Most of the time, I
>     cannot make it save the new CRS I'm trying to add. At the same
>     time, existing entries are duplicated on opening & closing the dialog.
>
>     Anyone else having these issues? Or is my local install just
>     really broken?
>
>     Regards
>     Anita
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171008/6e244f2d/attachment.html>

From anitagraser at gmx.at  Sun Oct  8 04:00:17 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Sun, 8 Oct 2017 13:00:17 +0200
Subject: [QGIS-Developer] Custom CRS broken in master?
In-Reply-To: <c01863bc-785c-4fbc-88f0-71f2f74c35e4@gmail.com>
References: <CAFFV8FgtdS4qttQUaLDzdVisuBn7xZzJnSfeRKnDMvp0ePxXfQ@mail.gmail.com>
 <CAFFV8FjLStHFWsf0m+4SBgXF=zEjkB9bY_XUAhAiU-FvMq+C1w@mail.gmail.com>
 <c01863bc-785c-4fbc-88f0-71f2f74c35e4@gmail.com>
Message-ID: <CAFFV8Fii5On4c_iETV5C6n8ibZiR+kBjJ_txQ9yakun5Cyy2-w@mail.gmail.com>

Thanks Patrick!

On Sun, Oct 8, 2017 at 1:46 AM, Patrick Dunford <blackwhitekez at gmail.com>
wrote:

> There are some circumstances in which you have to re-enter your CRS when
> opening a project in a development master, this is just an issue with
> importing project files with some of the development versions.
>
​So https://issues.qgis.org/issues/17257 is just a temporary issue?

Regards,
Antia​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171008/28245bfc/attachment.html>

From blackwhitekez at gmail.com  Sun Oct  8 04:26:55 2017
From: blackwhitekez at gmail.com (Patrick Dunford)
Date: Mon, 9 Oct 2017 00:26:55 +1300
Subject: [QGIS-Developer] Custom CRS broken in master?
In-Reply-To: <CAFFV8Fii5On4c_iETV5C6n8ibZiR+kBjJ_txQ9yakun5Cyy2-w@mail.gmail.com>
References: <CAFFV8FgtdS4qttQUaLDzdVisuBn7xZzJnSfeRKnDMvp0ePxXfQ@mail.gmail.com>
 <CAFFV8FjLStHFWsf0m+4SBgXF=zEjkB9bY_XUAhAiU-FvMq+C1w@mail.gmail.com>
 <c01863bc-785c-4fbc-88f0-71f2f74c35e4@gmail.com>
 <CAFFV8Fii5On4c_iETV5C6n8ibZiR+kBjJ_txQ9yakun5Cyy2-w@mail.gmail.com>
Message-ID: <7c750808-2a92-4b48-c244-86c3ed89b3cc@gmail.com>

I just saw it with projects in some fairly recent builds of the master, 
opening project files saved in earlier master builds.


On 09/10/17 00:00, Anita Graser wrote:
> Thanks Patrick!
>
> On Sun, Oct 8, 2017 at 1:46 AM, Patrick Dunford 
> <blackwhitekez at gmail.com <mailto:blackwhitekez at gmail.com>> wrote:
>
>     There are some circumstances in which you have to re-enter your
>     CRS when opening a project in a development master, this is just
>     an issue with importing project files with some of the development
>     versions.
>
> ​So https://issues.qgis.org/issues/17257 is just a temporary issue?
>
> Regards,
> Antia​
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171009/d5ac6608/attachment.html>

From alberti.m65 at gmail.com  Sun Oct  8 04:36:54 2017
From: alberti.m65 at gmail.com (Mauro Alberti)
Date: Sun, 8 Oct 2017 13:36:54 +0200
Subject: [QGIS-Developer] Failure in uploading plugin
In-Reply-To: <1507406679780-0.post@n6.nabble.com>
References: <CAALdH9X0rza5td5s=P=0rPDx8M1cLnf25GZYd58BKxXitANm4Q@mail.gmail.com>
 <1507371237765-0.post@n6.nabble.com>
 <CAALdH9Ue3-yL6geAwrEC6tit-YGphVk92cspHKG+u8yrG6rUdw@mail.gmail.com>
 <1507406679780-0.post@n6.nabble.com>
Message-ID: <CAALdH9Va1z3dzmPgPH7y5f0ArCCNd5S-fiEUxC-VPg+X4P0n8Q@mail.gmail.com>

Changing PC, always Linux Mint (more recent version) and same zip creation
procedure, the upload worked.
Possibly a zip format incompatibility.

Thanks,
mauro

On Sat, Oct 7, 2017 at 10:04 PM, Tom Chadwin <tom.chadwin at nnpa.org.uk>
wrote:

> That's it. A single root folder whose name matches the plugin, and the
> plugin
> files within that, including metadata.txt. I'm therefore not sure what's
> causing your issue.
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171008/3244abc5/attachment-0001.html>

From phi73 at gmx.de  Sun Oct  8 08:02:35 2017
From: phi73 at gmx.de (Pat Hin)
Date: Sun, 8 Oct 2017 17:02:35 +0200
Subject: [QGIS-Developer] Setting path to an icon
Message-ID: <trinity-d05e410a-725f-472c-a0ed-03293f865041-1507474955647@msvc-mesg-gmx005>

Hello,

i have successfully linked my self written script for the processing toolbox as a button
to the main menu.
Now i would like to link a an own image/icon to this button. Under general options for
the processing toolbox there is a field for "icon" so i suppose in this field i could
set sth. for this.

So my questions :
a.. is this right?
b.. what exactly do i have to enter in this field?
c.. what are the restrictions for an own icon? pixel, size etc?

many thanks
pat


From tim at kartoza.com  Sun Oct  8 13:47:59 2017
From: tim at kartoza.com (Tim Sutton)
Date: Sun, 8 Oct 2017 22:47:59 +0200
Subject: [QGIS-Developer] Value relation trying to insert / update value
	rather than key
Message-ID: <FA1FCF0D-C837-4948-817F-ED82440A7FBC@kartoza.com>

Hi

Does anyone else experience a problem with value relation widget which tries to insert/update the value rather than the key for the related table (pg backend)?

I made a ticket here:

https://issues.qgis.org/issues/17261 <https://issues.qgis.org/issues/17261>


Or am I doing something wrong?

Regards

Tim
—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171008/53915421/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171008/53915421/attachment.jpg>

From blackwhitekez at gmail.com  Sun Oct  8 14:13:10 2017
From: blackwhitekez at gmail.com (Patrick Dunford)
Date: Mon, 9 Oct 2017 10:13:10 +1300
Subject: [QGIS-Developer] Custom CRS broken in master?
In-Reply-To: <7c750808-2a92-4b48-c244-86c3ed89b3cc@gmail.com>
References: <CAFFV8FgtdS4qttQUaLDzdVisuBn7xZzJnSfeRKnDMvp0ePxXfQ@mail.gmail.com>
 <CAFFV8FjLStHFWsf0m+4SBgXF=zEjkB9bY_XUAhAiU-FvMq+C1w@mail.gmail.com>
 <c01863bc-785c-4fbc-88f0-71f2f74c35e4@gmail.com>
 <CAFFV8Fii5On4c_iETV5C6n8ibZiR+kBjJ_txQ9yakun5Cyy2-w@mail.gmail.com>
 <7c750808-2a92-4b48-c244-86c3ed89b3cc@gmail.com>
Message-ID: <03dceb55-0ce4-e08c-dcd1-88578736cbc9@gmail.com>

I keep haviing issues with projects which lose the CRS settings between 
saves, that are being edited with 2.99 editions. However as the masters 
are built nightly and so there are new versions coming out all the time, 
it is difficult to keep track of which was the edition that was 
previously being used to work on the project.


On 09/10/17 00:26, Patrick Dunford wrote:
>
> I just saw it with projects in some fairly recent builds of the 
> master, opening project files saved in earlier master builds.
>
>
> On 09/10/17 00:00, Anita Graser wrote:
>> Thanks Patrick!
>>
>> On Sun, Oct 8, 2017 at 1:46 AM, Patrick Dunford 
>> <blackwhitekez at gmail.com <mailto:blackwhitekez at gmail.com>> wrote:
>>
>>     There are some circumstances in which you have to re-enter your
>>     CRS when opening a project in a development master, this is just
>>     an issue with importing project files with some of the
>>     development versions.
>>
>> ​So https://issues.qgis.org/issues/17257 is just a temporary issue?
>>
>> Regards,
>> Antia​
>>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171009/e82ccb65/attachment-0001.html>

From qgis at spam.joelbuckley.com.au  Sun Oct  8 16:20:02 2017
From: qgis at spam.joelbuckley.com.au (Joel Buckley)
Date: Mon, 9 Oct 2017 10:20:02 +1100
Subject: [QGIS-Developer] QGIS master branch fails make install on macOS
 10.12.6
In-Reply-To: <818D5CE4-71CD-4B2E-B12A-DCC8CCA965D8@3liz.com>
References: <20171006074626.GA93431@Joels-MacBook-Pro.local>
 <818D5CE4-71CD-4B2E-B12A-DCC8CCA965D8@3liz.com>
Message-ID: <20171008232002.GA42021@delap.wg.dir.telstra.com>

Thanks, this helped. I'm now able to launch it from the command line
without a problem.

One thing I've noticed though, is `open -a ~/Applications/QGIS.app` will
actually invoke the binary created in QGIS/build/output/ - my `make`
output (if you ⌘-click on the application in the Dock, you will be shown
the location of the running application).  I imagined a standalone
binary would be created at `make install`.  Is there a separate set of
steps to create a standalone binary? I'm trying to make some changes and
distribute to a few others for them to try.

Thanks again for the QT_QPA_PLATFORM_PLUGIN_PATH tip.

Regards,

-- 
Joel Buckley

On Fri, Oct 06, 2017 at 01:59:30PM +0200, David Marteau wrote:
>Hi
>
>Try to define the environment variable QT_QPA_PLATFORM_PLUGIN_PATH=/opt/local/libexec/qt5/plugins/platforms (it may depends on how is your qt5 installation - this path is ok for Macport installation)
>
>According to my experience (see https://www.3liz.com/blog/rldhont/index.php?post/2017/06/01/How-to-build-qgis-on-OSX-with-MacPort) : If this variable is not defined then QGIS will crash at startup.
>
>
>> Le 6 oct. 2017 à 09:46, Joel Buckley <qgis at spam.joelbuckley.com.au> a écrit :
>>
>> Hi,
>>
>> I am having some difficulty running `make install`, and compiling QGIS into a single standalone application on macOS. I can successfully run configuration and `make`, and can launch the `make`-d code from build/output/bin with no problem.
>>
>> `make install` runs without complaint and returns 0 (success), but when I try to launch the newly create QGIS.app, it immediately crashes, and produces a crash report (attached for brevity).
>>
>> I have googled and attempted to parse the crash log, but the errors it reports are beyond my capability. I'm hoping someone on the list might have some input on how to remedy this?
>>
>> Configuration information:
>> QGIS version: current master branch
>> QT5, python 3
>> macOS 10.12.6
>>
>> Regards,
>>
>> --
>> Joel Buckley
>>
>> <crash.txt>_______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

From noreply at qgis.org  Sun Oct  8 23:24:01 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 09 Oct 2017 06:24:01 -0000
Subject: [QGIS-Developer] Plugin [1343] PaPRIKa Toolbox approval
	notification.
Message-ID: <20171009062401.14993.57599@320558c5528b>


Plugin PaPRIKa Toolbox approval by zimbogisgeek.
The plugin version "[1343] PaPRIKa Toolbox 1.0" is now approved
Link: http://plugins.qgis.org/plugins/Paprika/

From noreply at qgis.org  Sun Oct  8 23:26:28 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 09 Oct 2017 06:26:28 -0000
Subject: [QGIS-Developer] Plugin [796] Catalog Planet Labs approval
	notification.
Message-ID: <20171009062628.3551.37773@320558c5528b>


Plugin Catalog Planet Labs approval by zimbogisgeek.
The plugin version "[796] Catalog Planet Labs 1.6 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/catalogpl_plugin/

From noreply at qgis.org  Sun Oct  8 23:29:01 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 09 Oct 2017 06:29:01 -0000
Subject: [QGIS-Developer] Plugin [606] Azimuth and Distance Calculator
	approval notification.
Message-ID: <20171009062901.3569.1900@320558c5528b>


Plugin Azimuth and Distance Calculator approval by zimbogisgeek.
The plugin version "[606] Azimuth and Distance Calculator 1.1.2" is now approved
Link: http://plugins.qgis.org/plugins/AzimuthDistanceCalculator/

From noreply at qgis.org  Sun Oct  8 23:30:39 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 09 Oct 2017 06:30:39 -0000
Subject: [QGIS-Developer] Plugin [1232] OSM Tools approval notification.
Message-ID: <20171009063039.3551.58028@320558c5528b>


Plugin OSM Tools approval by zimbogisgeek.
The plugin version "[1232] OSM Tools 0.3.4" is now approved
Link: http://plugins.qgis.org/plugins/OSMtools/

From noreply at qgis.org  Sun Oct  8 23:31:40 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 09 Oct 2017 06:31:40 -0000
Subject: [QGIS-Developer] Plugin [294] qProf approval notification.
Message-ID: <20171009063140.3569.7014@320558c5528b>


Plugin qProf approval by zimbogisgeek.
The plugin version "[294] qProf 0.3.4" is now approved
Link: http://plugins.qgis.org/plugins/qProf/

From noreply at qgis.org  Sun Oct  8 23:32:41 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 09 Oct 2017 06:32:41 -0000
Subject: [QGIS-Developer] Plugin [1342] ShapeOrientation approval
	notification.
Message-ID: <20171009063241.14993.30273@320558c5528b>


Plugin ShapeOrientation approval by zimbogisgeek.
The plugin version "[1342] ShapeOrientation 0.1" is now approved
Link: http://plugins.qgis.org/plugins/ShapeOrientation/

From noreply at qgis.org  Sun Oct  8 23:35:32 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 09 Oct 2017 06:35:32 -0000
Subject: [QGIS-Developer] Plugin [1342] ShapeOrientation unapproval
	notification.
Message-ID: <20171009063532.14993.85835@320558c5528b>


Plugin ShapeOrientation unapproval by zimbogisgeek.
The plugin version "[1342] ShapeOrientation 0.1" is now unapproved
Link: http://plugins.qgis.org/plugins/ShapeOrientation/

From dmarteau at 3liz.com  Mon Oct  9 01:51:04 2017
From: dmarteau at 3liz.com (David Marteau)
Date: Mon, 9 Oct 2017 10:51:04 +0200
Subject: [QGIS-Developer] QGIS master branch fails make install on macOS
	10.12.6
In-Reply-To: <20171008232002.GA42021@delap.wg.dir.telstra.com>
References: <20171006074626.GA93431@Joels-MacBook-Pro.local>
 <818D5CE4-71CD-4B2E-B12A-DCC8CCA965D8@3liz.com>
 <20171008232002.GA42021@delap.wg.dir.telstra.com>
Message-ID: <541C44B1-7B41-4F0A-8E03-5BD4D7C07060@3liz.com>

Hi

Sorry but the 'make install' seems to work correctly for me on OSX 10.11.6: I have a stand alone binary installed at the location specified by CMAKE_INSTALL_PREFIX - I'm running several versions of QGIS and then
nee to have different install paths. Is your ~/Applications/QGIS.app a link ? 

David.

> Le 9 oct. 2017 à 01:20, Joel Buckley <qgis at spam.joelbuckley.com.au> a écrit :
> 
> Thanks, this helped. I'm now able to launch it from the command line
> without a problem.
> 
> One thing I've noticed though, is `open -a ~/Applications/QGIS.app` will
> actually invoke the binary created in QGIS/build/output/ - my `make`
> output (if you ⌘-click on the application in the Dock, you will be shown
> the location of the running application).  I imagined a standalone
> binary would be created at `make install`.  Is there a separate set of
> steps to create a standalone binary? I'm trying to make some changes and
> distribute to a few others for them to try.
> 
> Thanks again for the QT_QPA_PLATFORM_PLUGIN_PATH tip.
> 
> Regards,
> 
> -- 
> Joel Buckley
> 
> On Fri, Oct 06, 2017 at 01:59:30PM +0200, David Marteau wrote:
>> Hi
>> 
>> Try to define the environment variable QT_QPA_PLATFORM_PLUGIN_PATH=/opt/local/libexec/qt5/plugins/platforms (it may depends on how is your qt5 installation - this path is ok for Macport installation)
>> 
>> According to my experience (see https://www.3liz.com/blog/rldhont/index.php?post/2017/06/01/How-to-build-qgis-on-OSX-with-MacPort) : If this variable is not defined then QGIS will crash at startup.
>> 
>> 
>>> Le 6 oct. 2017 à 09:46, Joel Buckley <qgis at spam.joelbuckley.com.au> a écrit :
>>> 
>>> Hi,
>>> 
>>> I am having some difficulty running `make install`, and compiling QGIS into a single standalone application on macOS. I can successfully run configuration and `make`, and can launch the `make`-d code from build/output/bin with no problem.
>>> 
>>> `make install` runs without complaint and returns 0 (success), but when I try to launch the newly create QGIS.app, it immediately crashes, and produces a crash report (attached for brevity).
>>> 
>>> I have googled and attempted to parse the crash log, but the errors it reports are beyond my capability. I'm hoping someone on the list might have some input on how to remedy this?
>>> 
>>> Configuration information:
>>> QGIS version: current master branch
>>> QT5, python 3
>>> macOS 10.12.6
>>> 
>>> Regards,
>>> 
>>> --
>>> Joel Buckley
>>> 
>>> <crash.txt>_______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From Burghardt.Scholle at stadt.wolfsburg.de  Mon Oct  9 02:53:23 2017
From: Burghardt.Scholle at stadt.wolfsburg.de (Burghardt.Scholle at stadt.wolfsburg.de)
Date: Mon, 9 Oct 2017 09:53:23 +0000
Subject: [QGIS-Developer] QGIS Server 3 status
Message-ID: <fb50a026387c4b72b57cdec25b646a10@WINMAIL1.stadt.wolfsburg.de>

Hi David,

I will answer you directly and give you the desired information. I've done some tests with a sample application, which you can see under the URL https://lxgis1.stadt.wolfsburg.de/qgis_wcl/index.html.
The map topic "Stadtplan" is based on the qgis server 2.14.19, the "Stadtplan (Dev)"-topic is based on qgis server 2.99 (codeversion 825a323). Subsequent tests I've done with the layers "Luftbilder" and "Infrastruktur". The former are geotiff's, the latter are generated from a PostGIS database. As client I use a customized version of the "OL3 Mobile Client" from Sourcepole.

If I look at the access times in the developer tools of the Firefox, they speak a clear language:
- Topic "Stadtplan" -> moving the map, zoom in / zoom out takes about 0.5 s on the intranet (!)
- Topic "Stadtplan (Dev)" -> moving the map, zoom in / zoom out takes about 1.2 s with the setting "FcgidInitialEnv QGIS_SERVER_PARALLEL_RENDERING False" in my apache config
- Without setting "FcgidInitialEnv QGIS_SERVER_PARALLEL_RENDERING False" the access takes about 0.7 s
Result: without using multiprocessing / multithreading, the QGIS server is faster under these test conditions, but still clearly slower than the older version!

Hope this description helps

Burghardt

***************

Burghardt Scholle
mailto:burghardt.scholle at stadt.wolfsburg.de

>Hi,
>
>Do we have metrics on this ?  Does it mean  that QGIS_SERVER_PARALLEL_RENDERING=False is also slower than previous version ?
>
>
>David M.
>
>
>
>> Le 4 oct. 2017 à 14:15, Matthias Kuhn <matthias at opengis.ch> a écrit :
>> 
>> Hi,
>> 
>> I had some questions from people interested in performance.
>> 
>> I advised them to set the following
>> 
>> * QGIS_SERVER_PARALLEL_RENDERING=True
>> * Trust project flag
>> 
>> Apparently parallelized rendering works (system stats) but it was
>> reported to be slower than older versions.
>> 
>> Is there something else that needs to be done? Is there more information
>> I can ask for / give?
>> 
>> Thanks a lot
>> Matthias
>



From dmarteau at 3liz.com  Mon Oct  9 03:18:38 2017
From: dmarteau at 3liz.com (David Marteau)
Date: Mon, 9 Oct 2017 12:18:38 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <fb50a026387c4b72b57cdec25b646a10@WINMAIL1.stadt.wolfsburg.de>
References: <fb50a026387c4b72b57cdec25b646a10@WINMAIL1.stadt.wolfsburg.de>
Message-ID: <F7CC8681-C20E-4B73-9C9A-1FCE339656A0@3liz.com>

Hi

According to the source https://github.com/qgis/QGIS/blob/master/src/server/qgsserversettings.cpp#L47: setting QGIS_SERVER_PARALLEL_RENDERING to False or not setting QGIS_SERVER_PARALLEL_RENDERING is the same thing as the default value is 'false'.

Using the appropriate log level you can get metric on the rendering time from qgis: imho, comparing this metric would be a good starting point putting aside external configuration (except for the postgres connection) and isolate any bottleneck. 

David.

> Le 9 oct. 2017 à 11:53, <Burghardt.Scholle at stadt.wolfsburg.de> <Burghardt.Scholle at stadt.wolfsburg.de> a écrit :
> 
> Hi David,
> 
> I will answer you directly and give you the desired information. I've done some tests with a sample application, which you can see under the URL https://lxgis1.stadt.wolfsburg.de/qgis_wcl/index.html.
> The map topic "Stadtplan" is based on the qgis server 2.14.19, the "Stadtplan (Dev)"-topic is based on qgis server 2.99 (codeversion 825a323). Subsequent tests I've done with the layers "Luftbilder" and "Infrastruktur". The former are geotiff's, the latter are generated from a PostGIS database. As client I use a customized version of the "OL3 Mobile Client" from Sourcepole.
> 
> If I look at the access times in the developer tools of the Firefox, they speak a clear language:
> - Topic "Stadtplan" -> moving the map, zoom in / zoom out takes about 0.5 s on the intranet (!)
> - Topic "Stadtplan (Dev)" -> moving the map, zoom in / zoom out takes about 1.2 s with the setting "FcgidInitialEnv QGIS_SERVER_PARALLEL_RENDERING False" in my apache config
> - Without setting "FcgidInitialEnv QGIS_SERVER_PARALLEL_RENDERING False" the access takes about 0.7 s
> Result: without using multiprocessing / multithreading, the QGIS server is faster under these test conditions, but still clearly slower than the older version!
> 
> Hope this description helps
> 
> Burghardt
> 
> ***************
> 
> Burghardt Scholle
> mailto:burghardt.scholle at stadt.wolfsburg.de
> 
>> Hi,
>> 
>> Do we have metrics on this ?  Does it mean  that QGIS_SERVER_PARALLEL_RENDERING=False is also slower than previous version ?
>> 
>> 
>> David M.
>> 
>> 
>> 
>>> Le 4 oct. 2017 à 14:15, Matthias Kuhn <matthias at opengis.ch> a écrit :
>>> 
>>> Hi,
>>> 
>>> I had some questions from people interested in performance.
>>> 
>>> I advised them to set the following
>>> 
>>> * QGIS_SERVER_PARALLEL_RENDERING=True
>>> * Trust project flag
>>> 
>>> Apparently parallelized rendering works (system stats) but it was
>>> reported to be slower than older versions.
>>> 
>>> Is there something else that needs to be done? Is there more information
>>> I can ask for / give?
>>> 
>>> Thanks a lot
>>> Matthias
>> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From Burghardt.Scholle at stadt.wolfsburg.de  Mon Oct  9 03:27:19 2017
From: Burghardt.Scholle at stadt.wolfsburg.de (Burghardt.Scholle at stadt.wolfsburg.de)
Date: Mon, 9 Oct 2017 10:27:19 +0000
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <F7CC8681-C20E-4B73-9C9A-1FCE339656A0@3liz.com>
References: <fb50a026387c4b72b57cdec25b646a10@WINMAIL1.stadt.wolfsburg.de>
 <F7CC8681-C20E-4B73-9C9A-1FCE339656A0@3liz.com>
Message-ID: <5c0fb603b4f54154979d1e9e2429066e@WINMAIL1.stadt.wolfsburg.de>

Hi,

oh, shame on me. Of course I meant "FcgidInitialEnv QGIS_SERVER_PARALLEL_RENDERING True"! 
Please excuse me and thank you for the hint with the log level. I will try it.

Burghardt

> -----Ursprüngliche Nachricht-----
> Von: David Marteau [mailto:dmarteau at 3liz.com]
> Gesendet: Montag, 9. Oktober 2017 12:19
> An: Scholle, Burghardt (15-3 GIS)
> Cc: qgis-developer at lists.osgeo.org
> Betreff: Re: [QGIS-Developer] QGIS Server 3 status
> 
> Hi
> 
> According to the source
> https://github.com/qgis/QGIS/blob/master/src/server/qgsserversettings.cp
> p#L47: setting QGIS_SERVER_PARALLEL_RENDERING to False or not setting
> QGIS_SERVER_PARALLEL_RENDERING is the same thing as the default value
> is 'false'.
> 
> Using the appropriate log level you can get metric on the rendering time
> from qgis: imho, comparing this metric would be a good starting point putting
> aside external configuration (except for the postgres connection) and isolate
> any bottleneck.
> 
> David.
> 
> > Le 9 oct. 2017 à 11:53, <Burghardt.Scholle at stadt.wolfsburg.de>
> <Burghardt.Scholle at stadt.wolfsburg.de> a écrit :
> >
> > Hi David,
> >
> > I will answer you directly and give you the desired information. I've done
> some tests with a sample application, which you can see under the URL
> https://lxgis1.stadt.wolfsburg.de/qgis_wcl/index.html.
> > The map topic "Stadtplan" is based on the qgis server 2.14.19, the
> "Stadtplan (Dev)"-topic is based on qgis server 2.99 (codeversion 825a323).
> Subsequent tests I've done with the layers "Luftbilder" and "Infrastruktur".
> The former are geotiff's, the latter are generated from a PostGIS database.
> As client I use a customized version of the "OL3 Mobile Client" from
> Sourcepole.
> >
> > If I look at the access times in the developer tools of the Firefox, they
> speak a clear language:
> > - Topic "Stadtplan" -> moving the map, zoom in / zoom out takes about
> > 0.5 s on the intranet (!)
> > - Topic "Stadtplan (Dev)" -> moving the map, zoom in / zoom out takes
> > about 1.2 s with the setting "FcgidInitialEnv
> > QGIS_SERVER_PARALLEL_RENDERING False" in my apache config
> > - Without setting "FcgidInitialEnv QGIS_SERVER_PARALLEL_RENDERING
> > False" the access takes about 0.7 s
> > Result: without using multiprocessing / multithreading, the QGIS server is
> faster under these test conditions, but still clearly slower than the older
> version!
> >
> > Hope this description helps
> >
> > Burghardt
> >
> > ***************
> >
> > Burghardt Scholle
> > mailto:burghardt.scholle at stadt.wolfsburg.de
> >
> >> Hi,
> >>
> >> Do we have metrics on this ?  Does it mean  that
> QGIS_SERVER_PARALLEL_RENDERING=False is also slower than previous
> version ?
> >>
> >>
> >> David M.
> >>
> >>
> >>
> >>> Le 4 oct. 2017 à 14:15, Matthias Kuhn <matthias at opengis.ch> a écrit :
> >>>
> >>> Hi,
> >>>
> >>> I had some questions from people interested in performance.
> >>>
> >>> I advised them to set the following
> >>>
> >>> * QGIS_SERVER_PARALLEL_RENDERING=True
> >>> * Trust project flag
> >>>
> >>> Apparently parallelized rendering works (system stats) but it was
> >>> reported to be slower than older versions.
> >>>
> >>> Is there something else that needs to be done? Is there more
> >>> information I can ask for / give?
> >>>
> >>> Thanks a lot
> >>> Matthias
> >>
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From rdmailings at duif.net  Mon Oct  9 06:10:11 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 9 Oct 2017 15:10:11 +0200
Subject: [QGIS-Developer] Generic use of QgsLocator and friends?
In-Reply-To: <CAB28Asib4oMB=TcAoKB+JGtJmwE2BVNU5c0FMDdSUt7Wj67iMg@mail.gmail.com>
References: <48645ea8-f3a7-e862-cb4e-892996515245@duif.net>
 <CAB28AsienfUBk9RZ3mORN9fvh2Jf-mHtPivZVOAB+a=k9hBmHQ@mail.gmail.com>
 <f71941de-4224-8849-3642-bebcd2a640c8@duif.net>
 <CAB28Asib4oMB=TcAoKB+JGtJmwE2BVNU5c0FMDdSUt7Wj67iMg@mail.gmail.com>
Message-ID: <cb295053-78aa-3aae-20fa-d8de5df19fc2@duif.net>

On 02-10-17 02:06, Nyall Dawson wrote:
> More implementable suggestions like these would be very welcome :)
> Locator is still very young, and we've got time to tweak the API
> before freeze.

Hi Nyall & other QGIS devs,

(sorry for long email and lot of questions...
tldr; I think qlocator is UBERCOOL!!!! and want to use if for everything)
for a screenie, see:
http://pix.toile-libre.org/upload/original/1507554555.png

I just uploaded a simple Python plugin, initially created to use our
national Geocoder service (PDOK), but for fun also added the Nominatim
(note: end with space, suggest service is not allowed):
http://plugins.qgis.org/plugins/pdoklocator/
and
https://github.com/rduivenvoorde/pdoklocatorplugin
(add http://a.tile.openstreetmap.org/{z}/{x}/{y}.png as xyz layer to
have a nice basemap if you not have it)

I was tempted to add the Google geocoder service too, as that makes it
possible to search for 'kartoza', en you will be sent to the right place
:-)  But I think we first have to take some decisions.

Please install and search for somehwere in The Netherlands ('haarlem',
'2022zj 23') or in the world ('sint maarten'). Note that you need QGIS3
and 'show experimental plugins' checked.

So while doing this a lot of questions popped up, I just share them here
hoping others chime in....

# QUESTION: should we create base (geocoder)classes for the
GeocoderLocator and GeocoderFilter (in cpp or python):
- I created a baseclass for my 2 geocoders, thinking it would be
helpfull to have something like 'mapToResult', but after some initial
tests I think it is maybe only usefull to define some scale presets
(like in current version of this plugin)
- these baseclasses could be python or cpp...

# QUESTION: IF a service does not have a suggest-service (like
Nominatim) adding a space ' ' at the end to force a search
- Nominatim is not supposed to be used as a suggest service (see [0]) in
contrast to the PDOK geocoder), so I decided to do the actual
GET-request as soon as the user added a space in the end to let us know
a searchstring was ended. This is just an idea, if others have better
idea's just let us know

# QUESTION: should we have a (cpp/python?) NetworkAccessManager(factory)
somewhere?
- I took Boundless networkaccessmanager.py to do the HTTP requests. The
advantage of this class is that it mimics http2 lib interface, BUT
actually uses the Qt/QgsNetworking classings...
I think we (as in QGIS) should have such a class in core (be it cpp or
python)

# QUESTION: having different geocoder locators running:
synchron/blocking or asynchron/non-blocking networking?
Because of the fast suggest service of I used the blocking way, but I'm
not sure what the preferred way is here. Also it is not fully clear to
me what to do with running requests (if you type very fast....)

# QUESTION: is a normal plugin the right thing to do?
- in the implementation you actually have to do 2 things:
1) register and deregister the LocatorFilter
2) create and implement the actual QgsLocatorFilter
It is easy to do this as a plugin too (as you can see). I'm ok with
every country implementing its QLocator (do we need a 'term/word' for
it?) and add it as plugin

# QUESTION: should a Filter already have a NetworkAccessManager and an iface
- if implemented as a plugin, you have the iface to actually get a
handle to the mapcanvas etc etc. (you need it so check crs or let themap
zoom/pan) I was wondering if a QgsLocator should not actually be able to
get to the mapcanvas (directly, or via current QgsProject)
Same with an actual NetworkAccessManager...

# QUESTION: why only 3 chars for prefix? (better make this configurable?)
- I think it would be best if a user can decide him/herself to which
locators to use, and thus decide what prefixes to use for them. In my
case I would do: p (for pdok), f (for features), o (for osm/nomanitim)
and g (for google). Others are not so interesting to e...
I think only having the possibility to use 3 character prefixes is not
very usefull?

#    would be cool to be able to have a object-type to scale mapping for
all geocoders, so  you determine for every object type on which z-level
(exact) you want to come... I tried to do that by doing:
    ADDRESS = 750
    STREET = 1500
    ZIP = 3000
    PLACE = 30000
    CITY = 120000
    ISLAND = 250000
    COUNTRY = 4000000
But not sure if this is the best way.

# QUESTION: why short result texts with osm (missing the 'types' of the
object)
- the results (of osm) seem to be cut of rather short?

# QUESTION: should the BaseGeocoderLocator set a point or label? As Option?
- Alesandro's geocoder plugin (for 2.x) put's a point/label in the map.
I was wondering if this should maybe be an (optional) thing in a base
class too? Maybe adding all properties that you receive from the geocoder

# QUESTION: during loading/reloading of the plugin I had a LOT of crashes:
^[QGIS died on signal 11[New LWP 26919]
[New LWP 26920]
[New LWP 26921]
etc
Not sure if this is my install, or has something to do with this plugin,
or the combi of network-threads and application threads...
Please confirm.

Let me now your thoughts/opinions

Ok, that is enough for now, let me know if you reached this sentence :-)

Regards,

Richard Duivenvoorde

[0] https://operations.osmfoundation.org/policies/nominatim/

From theunsheydenrych at gmail.com  Mon Oct  9 06:12:15 2017
From: theunsheydenrych at gmail.com (Theuns Heydenrych)
Date: Mon, 09 Oct 2017 13:12:15 +0000
Subject: [QGIS-Developer] QGIS master build on Ubuntu 16.04 with python
	support
Message-ID: <CABWZyyocurx_DSAthnBU6emEcLNrye-MUJOqYj6N1QJ4iNziQg@mail.gmail.com>

Hi
I am building QGIS master on Ubuntu 16.04 with python support and the build
fails at 99%

This is the error message I get.

*[ 99%] Generating ui_DlgVersioning.py*
*cd
/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/python/plugins/db_manager/db_plugins/postgis/plugins/versioning
&& /home/dev/code/QGIS/scripts/pyuic-wrapper.sh /usr/bin/pyuic5
/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/output/lib
/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/output/python
/usr/bin/python3
/home/dev/code/QGIS/python/plugins/db_manager/db_plugins/postgis/plugins/versioning/DlgVersioning.ui
-o
/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/python/plugins/db_manager/db_plugins/postgis/plugins/versioning/ui_DlgVersioning.py*
*Traceback (most recent call last):*
*  File "/home/dev/code/QGIS/scripts/pyuic-wrapper.py", line 26, in
<module>*
*    import qgis.PyQt.uic.pyuic*
*  File
"/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/output/python/qgis/__init__.py",
line 72, in <module>*
*    from qgis.core import QgsFeature, QgsGeometry*
*  File
"/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/output/python/qgis/core/__init__.py",
line 34, in <module>*
*    from qgis._core import **
*ImportError: /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5: undefined symbol:
_Z10qAllocMoreii*
*python/plugins/db_manager/db_plugins/postgis/plugins/versioning/CMakeFiles/zzz-db_manager-5-depend.dir/build.make:62:
recipe for target
'python/plugins/db_manager/db_plugins/postgis/plugins/versioning/ui_DlgVersioning.py'
failed*
*make[2]: ***
[python/plugins/db_manager/db_plugins/postgis/plugins/versioning/ui_DlgVersioning.py]
Error 1*
*make[2]: Leaving directory
'/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python'*
*CMakeFiles/Makefile2:3920: recipe for target
'python/plugins/db_manager/db_plugins/postgis/plugins/versioning/CMakeFiles/zzz-db_manager-5-depend.dir/all'
failed*
*make[1]: ***
[python/plugins/db_manager/db_plugins/postgis/plugins/versioning/CMakeFiles/zzz-db_manager-5-depend.dir/all]
Error 2*
*make[1]: Leaving directory
'/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python'*
*Makefile:149: recipe for target 'all' failed*
*make: *** [all] Error 2*

Seems like ImportError: /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5: undefined
symbol: _Z10qAllocMoreii is the issue.
I have checked with:
*nm -D /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5 | grep _Z10qAllocMoreii*
and the out put is:
* U _Z10qAllocMoreii*
Which show it is undefined. If I
check  /usr/lib/x86_64-linux-gnu/libQt5Core.so.5 I can see that the
function id defined.
*nm -D /usr/lib/x86_64-linux-gnu/libQt5Core.so.5 | grep _Z10qAllocMoreii*
and the output is:
*00000000000a8c80 T _Z10qAllocMoreii*

So I dont know exactly how to fix this, it seems like the
/usr/lib/x86_64-linux-gnu/libQt5Core.so.5 should be visible to the complier
or python at this build step?
Any thoughts how to handle this?

Regards
Theuns Heydenrych
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171009/99176186/attachment.html>

From jgr at di.uminho.pt  Mon Oct  9 06:32:31 2017
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Mon, 9 Oct 2017 14:32:31 +0100
Subject: [QGIS-Developer] QGIS master build on Ubuntu 16.04 with python
 support
In-Reply-To: <CABWZyyocurx_DSAthnBU6emEcLNrye-MUJOqYj6N1QJ4iNziQg@mail.gmail.com>
References: <CABWZyyocurx_DSAthnBU6emEcLNrye-MUJOqYj6N1QJ4iNziQg@mail.gmail.com>
Message-ID: <7a21876c-35ee-0f57-b622-60105527f1f0@di.uminho.pt>

Hi Theuns,

Can you check which python/QT5 modules you have installed?

In my Ubuntu 16.04:

jgr at dusseldorf:~$ dpkg -l | grep pyqt5 | awk '{print $2}'
pyqt5-dev
pyqt5-dev-tools
pyqt5.qsci-dev
python-pyqt5
python-pyqt5.qtsvg
python-pyqt5.qtwebkit
python3-pyqt5
python3-pyqt5.qsci
python3-pyqt5.qtsql
python3-pyqt5.qtsvg

Regards,

Jorge

On 09-10-2017 14:12, Theuns Heydenrych wrote:
> Hi
> I am building QGIS master on Ubuntu 16.04 with python support and the
> build fails at 99%
> 
> This is the error message I get.
>  
> /[ 99%] Generating ui_DlgVersioning.py/
> /cd
> /home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/python/plugins/db_manager/db_plugins/postgis/plugins/versioning
> && /home/dev/code/QGIS/scripts/pyuic-wrapper.sh /usr/bin/pyuic5
> /home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/output/lib
> /home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/output/python
> /usr/bin/python3
> /home/dev/code/QGIS/python/plugins/db_manager/db_plugins/postgis/plugins/versioning/DlgVersioning.ui
> -o
> /home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/python/plugins/db_manager/db_plugins/postgis/plugins/versioning/ui_DlgVersioning.py/
> /Traceback (most recent call last):/
> /  File "/home/dev/code/QGIS/scripts/pyuic-wrapper.py", line 26, in
> <module>/
> /    import qgis.PyQt.uic.pyuic/
> /  File
> "/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/output/python/qgis/__init__.py",
> line 72, in <module>/
> /    from qgis.core import QgsFeature, QgsGeometry/
> /  File
> "/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/output/python/qgis/core/__init__.py",
> line 34, in <module>/
> /    from qgis._core import */
> /ImportError: /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5: undefined
> symbol: _Z10qAllocMoreii/
> /python/plugins/db_manager/db_plugins/postgis/plugins/versioning/CMakeFiles/zzz-db_manager-5-depend.dir/build.make:62:
> recipe for target
> 'python/plugins/db_manager/db_plugins/postgis/plugins/versioning/ui_DlgVersioning.py'
> failed/
> /make[2]: ***
> [python/plugins/db_manager/db_plugins/postgis/plugins/versioning/ui_DlgVersioning.py]
> Error 1/
> /make[2]: Leaving directory
> '/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python'/
> /CMakeFiles/Makefile2:3920: recipe for target
> 'python/plugins/db_manager/db_plugins/postgis/plugins/versioning/CMakeFiles/zzz-db_manager-5-depend.dir/all'
> failed/
> /make[1]: ***
> [python/plugins/db_manager/db_plugins/postgis/plugins/versioning/CMakeFiles/zzz-db_manager-5-depend.dir/all]
> Error 2/
> /make[1]: Leaving directory
> '/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python'/
> /Makefile:149: recipe for target 'all' failed/
> /make: *** [all] Error 2/
> 
> Seems like ImportError: /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5:
> undefined symbol: _Z10qAllocMoreii is the issue.
> I have checked with: 
> /nm -D /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5 | grep _Z10qAllocMoreii/
> and the out put is:
> / U _Z10qAllocMoreii/
> Which show it is undefined. If I
> check  /usr/lib/x86_64-linux-gnu/libQt5Core.so.5 I can see that the
> function id defined.
> /nm -D /usr/lib/x86_64-linux-gnu/libQt5Core.so.5 | grep
> _Z10qAllocMoreii/ and the output is:
> /00000000000a8c80 T _Z10qAllocMoreii/
> /
> /
> So I dont know exactly how to fix this, it seems like the 
> /usr/lib/x86_64-linux-gnu/libQt5Core.so.5 should be visible to the
> complier or python at this build step?
> Any thoughts how to handle this?
> 
> Regards
> Theuns Heydenrych
> 
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Informática
Universidade do Minho
4710-057 Braga
Tel: +351 253604480
Fax: +351 253604471
Móvel: +351 910333888
skype: nabocudnosor

From theunsheydenrych at gmail.com  Mon Oct  9 06:59:42 2017
From: theunsheydenrych at gmail.com (Theuns Heydenrych)
Date: Mon, 09 Oct 2017 13:59:42 +0000
Subject: [QGIS-Developer] QGIS master build on Ubuntu 16.04 with python
	support
In-Reply-To: <7a21876c-35ee-0f57-b622-60105527f1f0@di.uminho.pt>
References: <CABWZyyocurx_DSAthnBU6emEcLNrye-MUJOqYj6N1QJ4iNziQg@mail.gmail.com>
 <7a21876c-35ee-0f57-b622-60105527f1f0@di.uminho.pt>
Message-ID: <CABWZyyq6=zgwqiNRNOiAC5HOAYNErqnZWUXFfjLuyCN-V8v-CQ@mail.gmail.com>

HI Jorge, thank you for the reply.
My out for dpkg -l | grep pyqt5 | awk '{print $2}'  is:

pyqt5-dev
pyqt5-dev-tools
pyqt5.qsci-dev
python-pyqt5
python-pyqt5.qsci
python3-pyqt5
python3-pyqt5.qsci
python3-pyqt5.qtsql
python3-pyqt5.qtsvg

My WITH_QTWEBKIT is set to false.

Regards
Theuns Heydenrych


On Mon, 9 Oct 2017 at 15:33 Jorge Gustavo Rocha <jgr at di.uminho.pt> wrote:

> Hi Theuns,
>
> Can you check which python/QT5 modules you have installed?
>
> In my Ubuntu 16.04:
>
> jgr at dusseldorf:~$ dpkg -l | grep pyqt5 | awk '{print $2}'
> pyqt5-dev
> pyqt5-dev-tools
> pyqt5.qsci-dev
> python-pyqt5
> python-pyqt5.qtsvg
> python-pyqt5.qtwebkit
> python3-pyqt5
> python3-pyqt5.qsci
> python3-pyqt5.qtsql
> python3-pyqt5.qtsvg
>
> Regards,
>
> Jorge
>
> On 09-10-2017 14:12, Theuns Heydenrych wrote:
> > Hi
> > I am building QGIS master on Ubuntu 16.04 with python support and the
> > build fails at 99%
> >
> > This is the error message I get.
> >
> > /[ 99%] Generating ui_DlgVersioning.py/
> > /cd
> >
> /home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/python/plugins/db_manager/db_plugins/postgis/plugins/versioning
> > && /home/dev/code/QGIS/scripts/pyuic-wrapper.sh /usr/bin/pyuic5
> >
> /home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/output/lib
> >
> /home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/output/python
> > /usr/bin/python3
> >
> /home/dev/code/QGIS/python/plugins/db_manager/db_plugins/postgis/plugins/versioning/DlgVersioning.ui
> > -o
> >
> /home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/python/plugins/db_manager/db_plugins/postgis/plugins/versioning/ui_DlgVersioning.py/
> > /Traceback (most recent call last):/
> > /  File "/home/dev/code/QGIS/scripts/pyuic-wrapper.py", line 26, in
> > <module>/
> > /    import qgis.PyQt.uic.pyuic/
> > /  File
> >
> "/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/output/python/qgis/__init__.py",
> > line 72, in <module>/
> > /    from qgis.core import QgsFeature, QgsGeometry/
> > /  File
> >
> "/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python/output/python/qgis/core/__init__.py",
> > line 34, in <module>/
> > /    from qgis._core import */
> > /ImportError: /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5: undefined
> > symbol: _Z10qAllocMoreii/
> >
> /python/plugins/db_manager/db_plugins/postgis/plugins/versioning/CMakeFiles/zzz-db_manager-5-depend.dir/build.make:62:
> > recipe for target
> >
> 'python/plugins/db_manager/db_plugins/postgis/plugins/versioning/ui_DlgVersioning.py'
> > failed/
> > /make[2]: ***
> >
> [python/plugins/db_manager/db_plugins/postgis/plugins/versioning/ui_DlgVersioning.py]
> > Error 1/
> > /make[2]: Leaving directory
> > '/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python'/
> > /CMakeFiles/Makefile2:3920: recipe for target
> >
> 'python/plugins/db_manager/db_plugins/postgis/plugins/versioning/CMakeFiles/zzz-db_manager-5-depend.dir/all'
> > failed/
> > /make[1]: ***
> >
> [python/plugins/db_manager/db_plugins/postgis/plugins/versioning/CMakeFiles/zzz-db_manager-5-depend.dir/all]
> > Error 2/
> > /make[1]: Leaving directory
> > '/home/dev/code/build-QGIS-Desktop_Qt_5_5_1_GCC_64bit-Debug-Python'/
> > /Makefile:149: recipe for target 'all' failed/
> > /make: *** [all] Error 2/
> >
> > Seems like ImportError: /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5:
> > undefined symbol: _Z10qAllocMoreii is the issue.
> > I have checked with:
> > /nm -D /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5 | grep _Z10qAllocMoreii/
> > and the out put is:
> > / U _Z10qAllocMoreii/
> > Which show it is undefined. If I
> > check  /usr/lib/x86_64-linux-gnu/libQt5Core.so.5 I can see that the
> > function id defined.
> > /nm -D /usr/lib/x86_64-linux-gnu/libQt5Core.so.5 | grep
> > _Z10qAllocMoreii/ and the output is:
> > /00000000000a8c80 T _Z10qAllocMoreii/
> > /
> > /
> > So I dont know exactly how to fix this, it seems like the
> > /usr/lib/x86_64-linux-gnu/libQt5Core.so.5 should be visible to the
> > complier or python at this build step?
> > Any thoughts how to handle this?
> >
> > Regards
> > Theuns Heydenrych
> >
> >
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> J. Gustavo
> --
> Jorge Gustavo Rocha
> Departamento de Informática
> Universidade do Minho
> 4710-057 Braga
> Tel: +351 253604480 <+351%20253%20604%20480>
> Fax: +351 253604471 <+351%20253%20604%20471>
> Móvel: +351 910333888 <+351%20910%20333%20888>
> skype: nabocudnosor
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171009/115af08b/attachment.html>

From giohappy at gmail.com  Mon Oct  9 09:13:42 2017
From: giohappy at gmail.com (G. Allegri)
Date: Mon, 9 Oct 2017 18:13:42 +0200
Subject: [QGIS-Developer] set and export FID with OGR provider
Message-ID: <CAB4g1=zivPHRy508LVhiLHr-szJPmLYTJHTyWZM8maQGzo0k2Q@mail.gmail.com>

HI all,
GeoJSON RFC7946 states that "If a Feature has a commonly used identifier,
that identifier SHOULD be included as a member of the Feature object with
the name "id", and the value of this member is either a JSON string or
number". For example OpenLayers tries to parse the id field to uniquely
identify the features inside a GeoJSON feature collection.
I've digged how OGR GeoJSON driver treats FIDs during serialization and it
seems that it will write it if the OGrFeature has the FID field set [2],
but AFAICS QIGS OGR provider doesn't set it unless "the first attribute is
the FID and the user has set it". Well, this condition depends on [4], and
now I odn't understand how this applies to a QGIS layer being exported to
GeoJSON.

Questions:
 - is there a way to force the OGR provider setting the FID?
 - could the OGR provider have an option to force it from the export
window, like Mapserver does with the USE_FEATUREID option for its output
format

*?*
giovanni

[1] https://tools.ietf.org/html/rfc7946#page-11
[2]
https://github.com/OSGeo/gdal/blob/trunk/gdal/ogr/ogrsf_frmts/geojson/ogrgeojsonwriter.cpp#L601
[3]
https://github.com/qgis/QGIS/blob/master/src/providers/ogr/qgsogrprovider.cpp#L1269
[4]
https://github.com/qgis/QGIS/blob/master/src/providers/ogr/qgsogrprovider.cpp#L894
[5] http://mapserver.org/output/ogr_output.html#table-of-contents
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171009/750d2bc8/attachment.html>

From giohappy at gmail.com  Mon Oct  9 09:24:39 2017
From: giohappy at gmail.com (G. Allegri)
Date: Mon, 9 Oct 2017 18:24:39 +0200
Subject: [QGIS-Developer] set and export FID with OGR provider
In-Reply-To: <CAB4g1=zivPHRy508LVhiLHr-szJPmLYTJHTyWZM8maQGzo0k2Q@mail.gmail.com>
References: <CAB4g1=zivPHRy508LVhiLHr-szJPmLYTJHTyWZM8maQGzo0k2Q@mail.gmail.com>
Message-ID: <CAB4g1=ykvZBjWD50xaqwr+f8zkUe5rnOaWsjW1W3cscZve0AzQ@mail.gmail.com>

PS: QGIS server adds the id when creating the GeoJSON for a GetFeature
request [1].

giovanni

[1]
https://github.com/qgis/QGIS/blob/master/src/server/services/wfs/qgswfsgetfeature.cpp#L994

Il 9 ott 2017 18:13, "G. Allegri" <giohappy at gmail.com> ha scritto:

> HI all,
> GeoJSON RFC7946 states that "If a Feature has a commonly used identifier,
> that identifier SHOULD be included as a member of the Feature object with
> the name "id", and the value of this member is either a JSON string or
> number". For example OpenLayers tries to parse the id field to uniquely
> identify the features inside a GeoJSON feature collection.
> I've digged how OGR GeoJSON driver treats FIDs during serialization and it
> seems that it will write it if the OGrFeature has the FID field set [2],
> but AFAICS QIGS OGR provider doesn't set it unless "the first attribute
> is the FID and the user has set it". Well, this condition depends on [4],
> and now I odn't understand how this applies to a QGIS layer being exported
> to GeoJSON.
>
> Questions:
>  - is there a way to force the OGR provider setting the FID?
>  - could the OGR provider have an option to force it from the export
> window, like Mapserver does with the USE_FEATUREID option for its output
> format
>
> *?*
> giovanni
>
> [1] https://tools.ietf.org/html/rfc7946#page-11
> [2] https://github.com/OSGeo/gdal/blob/trunk/gdal/ogr/ogrsf_frmts/geojson/
> ogrgeojsonwriter.cpp#L601
> [3] https://github.com/qgis/QGIS/blob/master/src/providers/ogr/
> qgsogrprovider.cpp#L1269
> [4] https://github.com/qgis/QGIS/blob/master/src/providers/ogr/
> qgsogrprovider.cpp#L894
> [5] http://mapserver.org/output/ogr_output.html#table-of-contents
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171009/c4ef2f01/attachment.html>

From even.rouault at spatialys.com  Mon Oct  9 09:48:39 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 09 Oct 2017 18:48:39 +0200
Subject: [QGIS-Developer] set and export FID with OGR provider
In-Reply-To: <CAB4g1=zivPHRy508LVhiLHr-szJPmLYTJHTyWZM8maQGzo0k2Q@mail.gmail.com>
References: <CAB4g1=zivPHRy508LVhiLHr-szJPmLYTJHTyWZM8maQGzo0k2Q@mail.gmail.com>
Message-ID: <12792951.LGATSzj1X7@even-i700>

On lundi 9 octobre 2017 18:13:42 CEST G. Allegri wrote:
> HI all,
> GeoJSON RFC7946 states that "If a Feature has a commonly used identifier,
> that identifier SHOULD be included as a member of the Feature object with
> the name "id", and the value of this member is either a JSON string or
> number". For example OpenLayers tries to parse the id field to uniquely
> identify the features inside a GeoJSON feature collection.
> I've digged how OGR GeoJSON driver treats FIDs during serialization and it
> seems that it will write it if the OGrFeature has the FID field set [2],
> but AFAICS QIGS OGR provider doesn't set it unless "the first attribute is
> the FID and the user has set it". Well, this condition depends on [4], and
> now I odn't understand how this applies to a QGIS layer being exported to
> GeoJSON.
> 
> Questions:
>  - is there a way to force the OGR provider setting the FID?

None that I can think ok

>  - could the OGR provider have an option to force it from the export
> window, like Mapserver does with the USE_FEATUREID option for its output
> format

Possibly, but are sure your use case involve the OGR provider at all ? "Save a layer as"
normally involves the QgsVectorFileWriter class. But the issue will be the same. By the way when looking at it, I saw
https://github.com/qgis/QGIS/blob/master/src/core/qgsvectorfilewriter.cpp#L1987 whose
logic is completely broken: OGR_F_SetFID() would only be called for QGIS feature ids > INT_MAX.
This weird stuff comes from https://github.com/qgis/QGIS/commit/891e66523fdf21283ca15533684a57dd8c27f955
I guess only the debug message makes sense in this test.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171009/52ff9fc7/attachment-0001.html>

From noreply at qgis.org  Mon Oct  9 10:39:47 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 09 Oct 2017 17:39:47 -0000
Subject: [QGIS-Developer] Plugin [715] DSG Tools approval notification.
Message-ID: <20171009173947.27074.82646@320558c5528b>


Plugin DSG Tools approval by timlinux.
The plugin version "[715] DSG Tools 3.0.8" is now approved
Link: http://plugins.qgis.org/plugins/DsgTools/

From rdmailings at duif.net  Mon Oct  9 13:33:31 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 9 Oct 2017 22:33:31 +0200
Subject: [QGIS-Developer] first steps 3D rendering
Message-ID: <75957bde-8620-25d3-40f2-e781a5f04676@duif.net>

Hi,

Just successfully compiled Martin's 3D work in Master on Debian testing

\o/

Thanks to all QGIS & Debian dev's for making this so 'easy' !!!

https://www.duif.net/amsterdam.mp4 for my first steps 3d rendering.

Wanna play yourself: this is the gpkg file:

https://www.duif.net/3dAmsterdam.gpkg

Next question (as I have actually the height of those buildings): how to
render the actual height?

Anybody?

Regards,

Richard Duivenvoorde

ps sorry for providing mp4 here, I'm not so much into video, and my WebM
trial was not working...


From tim at kartoza.com  Mon Oct  9 13:46:49 2017
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 9 Oct 2017 22:46:49 +0200
Subject: [QGIS-Developer] first steps 3D rendering
In-Reply-To: <75957bde-8620-25d3-40f2-e781a5f04676@duif.net>
References: <75957bde-8620-25d3-40f2-e781a5f04676@duif.net>
Message-ID: <DD45278A-C0D5-41F1-AB69-B8437443F8D0@kartoza.com>

Hi

> On 09 Oct 2017, at 22:33, Richard Duivenvoorde <rdmailings at duif.net> wrote:
> 
> Hi,
> 
> Just successfully compiled Martin's 3D work in Master on Debian testing
> 
> \o/
> 
> Thanks to all QGIS & Debian dev's for making this so 'easy' !!!
> 
> https://www.duif.net/amsterdam.mp4 for my first steps 3d rendering.
> 
> Wanna play yourself: this is the gpkg file:
> 
> https://www.duif.net/3dAmsterdam.gpkg
> 
> Next question (as I have actually the height of those buildings): how to
> render the actual height?


Welcome to the 3d happy user fanclub :-) You can extrude buildings but only to a common height, not to a height based on a building attribute. When in 3D mode, open the style dock for your buildings layer and use the new 3D symbology tab you find there to set the extrusion height etc.

Regards

Tim
> 
> Anybody?
> 
> Regards,
> 
> Richard Duivenvoorde
> 
> ps sorry for providing mp4 here, I'm not so much into video, and my WebM
> trial was not working...
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From tim at kartoza.com  Mon Oct  9 13:48:19 2017
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 9 Oct 2017 22:48:19 +0200
Subject: [QGIS-Developer] first steps 3D rendering
In-Reply-To: <DD45278A-C0D5-41F1-AB69-B8437443F8D0@kartoza.com>
References: <75957bde-8620-25d3-40f2-e781a5f04676@duif.net>
 <DD45278A-C0D5-41F1-AB69-B8437443F8D0@kartoza.com>
Message-ID: <65E67378-B126-4D49-B41A-9EA660B7691C@kartoza.com>

Hi


> On 09 Oct 2017, at 22:46, Tim Sutton <tim at kartoza.com> wrote:
> 
> Hi
> 
>> On 09 Oct 2017, at 22:33, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>> 
>> Hi,
>> 
>> Just successfully compiled Martin's 3D work in Master on Debian testing
>> 
>> \o/
>> 
>> Thanks to all QGIS & Debian dev's for making this so 'easy' !!!
>> 
>> https://www.duif.net/amsterdam.mp4 for my first steps 3d rendering.
>> 
>> Wanna play yourself: this is the gpkg file:
>> 
>> https://www.duif.net/3dAmsterdam.gpkg
>> 
>> Next question (as I have actually the height of those buildings): how to
>> render the actual height?
> 
> 
> Welcome to the 3d happy user fanclub :-) You can extrude buildings but only to a common height, not to a height based on a building attribute. When in 3D mode, open the style dock for your buildings layer and use the new 3D symbology tab you find there to set the extrusion height etc.

Oh! I should have watched your vid *first* - seems you already found the above bits. Per building height extrusion is hopefully coming sometime in the future…

Regards

Tim


> 
> Regards
> 
> Tim
>> 
>> Anybody?
>> 
>> Regards,
>> 
>> Richard Duivenvoorde
>> 
>> ps sorry for providing mp4 here, I'm not so much into video, and my WebM
>> trial was not working...
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171009/ba730bee/attachment.html>

From qgis at spam.joelbuckley.com.au  Mon Oct  9 21:29:30 2017
From: qgis at spam.joelbuckley.com.au (Joel Buckley)
Date: Tue, 10 Oct 2017 15:29:30 +1100
Subject: [QGIS-Developer] QGIS master branch fails make install on macOS
 10.12.6
In-Reply-To: <541C44B1-7B41-4F0A-8E03-5BD4D7C07060@3liz.com>
References: <20171006074626.GA93431@Joels-MacBook-Pro.local>
 <818D5CE4-71CD-4B2E-B12A-DCC8CCA965D8@3liz.com>
 <20171008232002.GA42021@delap.wg.dir.telstra.com>
 <541C44B1-7B41-4F0A-8E03-5BD4D7C07060@3liz.com>
Message-ID: <20171010042930.GA70880@Joels-Work-MacBook-Pro.local>

You're right, running `make clean` and starting the process again had it
all working. Thanks!

So the only remain hang-up I have, is that upon launch (of either the
standalone binary, or the `make`d launcher), I get the following error:
---
Couldn't load PyQGIS.
Python support will be disabled.


Traceback (most recent call last):
  File "", line 1, in
  File "/Users/joel/Documents/QGIS/build/output/python/qgis/gui/__init__.py", line 27, in
    from qgis._gui import *
ModuleNotFoundError: No module named 'PyQt5.Qsci'
---

I have searched on this, and tried reinstalling Qscintilla2 (via
homebrew). I've tried grepping for Qsci to determine if it's not being
picked up, but I'm not familiar enough with the build process just yet
to tell why it mightn't be compiled in.

Thanks for your help so far, and I hope this is my last query for now -
any suggestions on this error?

If it helps, I am running the following cmake:
cmake -D CMAKE_INSTALL_PREFIX=~/Applications \
-D CMAKE_BUILD_TYPE=MINSIZEREL \
-D ENABLE_TESTS=TRUE \
-D SPATIALINDEX_LIBRARY=/usr/local/lib/libspatialindex.dylib \
-D SPATIALINDEX_INCLUDE_DIR=/usr/local/include/spatialindex \
-D QWT_LIBRARY=/usr/local/Cellar/qwt/6.1.3_4/lib/qwt.framework \
-D QWT_INCLUDE_DIR=/usr/local/Cellar/qwt/6.1.3_4/lib/qwt.framework/Headers \
-D BISON_EXECUTABLE=/usr/local/bin/bison \
-D PYTHON_EXECUTABLE=/usr/local/bin/python3 \
-D CMAKE_PREFIX_PATH=/usr/local/opt/qt \
-D WITH_BINDINGS=TRUE \
-D WITH_SERVER=TRUE \
-D QSCINTILLA_INCLUDE_DIR=/usr/local/Cellar/qscintilla2/2.10.1_1/include \
-D QSCINTILLA_LIBRARY=/usr/local/Cellar/qscintilla2/2.10.1_1/lib/libqscintilla2_qt5.dylib \
-D GRASS_INCLUDE_DIR7=/usr/local/Cellar/grass7/7.2.1/grass-base/include \
-D GRASS_PREFIX7=/usr/local/Cellar/grass7/7.2.1/grass-base/ \
-D QSCINTILLA_LIBRARY=/usr/local/lib/libqscintilla2_qt5.dylib \
-D QSCINTILLA_INCLUDE_DIR:PATH=/usr/local/include \
..

Regards,

-- 
Joel Buckley

On Mon, Oct 09, 2017 at 10:51:04AM +0200, David Marteau wrote:
>Hi
>
>Sorry but the 'make install' seems to work correctly for me on OSX 10.11.6: I have a stand alone binary installed at the location specified by CMAKE_INSTALL_PREFIX - I'm running several versions of QGIS and then
>nee to have different install paths. Is your ~/Applications/QGIS.app a link ?
>
>David.
>
>> Le 9 oct. 2017 à 01:20, Joel Buckley <qgis at spam.joelbuckley.com.au> a écrit :
>>
>> Thanks, this helped. I'm now able to launch it from the command line
>> without a problem.
>>
>> One thing I've noticed though, is `open -a ~/Applications/QGIS.app` will
>> actually invoke the binary created in QGIS/build/output/ - my `make`
>> output (if you ⌘-click on the application in the Dock, you will be shown
>> the location of the running application).  I imagined a standalone
>> binary would be created at `make install`.  Is there a separate set of
>> steps to create a standalone binary? I'm trying to make some changes and
>> distribute to a few others for them to try.
>>
>> Thanks again for the QT_QPA_PLATFORM_PLUGIN_PATH tip.
>>
>> Regards,
>>
>> --
>> Joel Buckley
>>
>> On Fri, Oct 06, 2017 at 01:59:30PM +0200, David Marteau wrote:
>>> Hi
>>>
>>> Try to define the environment variable QT_QPA_PLATFORM_PLUGIN_PATH=/opt/local/libexec/qt5/plugins/platforms (it may depends on how is your qt5 installation - this path is ok for Macport installation)
>>>
>>> According to my experience (see https://www.3liz.com/blog/rldhont/index.php?post/2017/06/01/How-to-build-qgis-on-OSX-with-MacPort) : If this variable is not defined then QGIS will crash at startup.
>>>
>>>
>>>> Le 6 oct. 2017 à 09:46, Joel Buckley <qgis at spam.joelbuckley.com.au> a écrit :
>>>>
>>>> Hi,
>>>>
>>>> I am having some difficulty running `make install`, and compiling QGIS into a single standalone application on macOS. I can successfully run configuration and `make`, and can launch the `make`-d code from build/output/bin with no problem.
>>>>
>>>> `make install` runs without complaint and returns 0 (success), but when I try to launch the newly create QGIS.app, it immediately crashes, and produces a crash report (attached for brevity).
>>>>
>>>> I have googled and attempted to parse the crash log, but the errors it reports are beyond my capability. I'm hoping someone on the list might have some input on how to remedy this?
>>>>
>>>> Configuration information:
>>>> QGIS version: current master branch
>>>> QT5, python 3
>>>> macOS 10.12.6
>>>>
>>>> Regards,
>>>>
>>>> --
>>>> Joel Buckley
>>>>
>>>> <crash.txt>_______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

From rdmailings at duif.net  Tue Oct 10 00:04:46 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 10 Oct 2017 09:04:46 +0200
Subject: [QGIS-Developer] first steps 3D rendering
In-Reply-To: <65E67378-B126-4D49-B41A-9EA660B7691C@kartoza.com>
References: <75957bde-8620-25d3-40f2-e781a5f04676@duif.net>
 <DD45278A-C0D5-41F1-AB69-B8437443F8D0@kartoza.com>
 <65E67378-B126-4D49-B41A-9EA660B7691C@kartoza.com>
Message-ID: <a63c9eb5-3dc9-7113-3321-02e6fc5431e3@duif.net>

On 09-10-17 22:48, Tim Sutton wrote:

> Oh! I should have watched your vid *first* - seems you already found the
> above bits. Per building height extrusion is hopefully coming sometime
> in the future…

Ah, ok...

And what about 3d geometries? I just added a z-value to the buildings...
Should that work already?

Or am I a little too excited/impatient :-)

Regards,

Richard

From tim at kartoza.com  Tue Oct 10 00:53:30 2017
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 10 Oct 2017 09:53:30 +0200
Subject: [QGIS-Developer] first steps 3D rendering
In-Reply-To: <a63c9eb5-3dc9-7113-3321-02e6fc5431e3@duif.net>
References: <75957bde-8620-25d3-40f2-e781a5f04676@duif.net>
 <DD45278A-C0D5-41F1-AB69-B8437443F8D0@kartoza.com>
 <65E67378-B126-4D49-B41A-9EA660B7691C@kartoza.com>
 <a63c9eb5-3dc9-7113-3321-02e6fc5431e3@duif.net>
Message-ID: <F0F08858-8AB2-4352-A01D-584001A54812@kartoza.com>

Hi

> On 10 Oct 2017, at 09:04, Richard Duivenvoorde <rdmailings at duif.net> wrote:
> 
> On 09-10-17 22:48, Tim Sutton wrote:
> 
>> Oh! I should have watched your vid *first* - seems you already found the
>> above bits. Per building height extrusion is hopefully coming sometime
>> in the future…
> 
> Ah, ok...
> 
> And what about 3d geometries? I just added a z-value to the buildings...
> Should that work already?
> 
> Or am I a little too excited/impatient :-)

Yes also something for the next grant proposal from Martin I guess :-)

Regards

Tim

> 
> Regards,
> 
> Richard


From noreply at qgis.org  Tue Oct 10 01:17:30 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 10 Oct 2017 08:17:30 -0000
Subject: [QGIS-Developer] Plugin [730] Line direction histogram approval
	notification.
Message-ID: <20171010081730.3569.82632@320558c5528b>


Plugin Line direction histogram approval by zimbogisgeek.
The plugin version "[730] Line direction histogram 2.4" is now approved
Link: http://plugins.qgis.org/plugins/LineDirectionHistogram/

From noreply at qgis.org  Tue Oct 10 01:18:12 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 10 Oct 2017 08:18:12 -0000
Subject: [QGIS-Developer] Plugin [880] Physiocap approval notification.
Message-ID: <20171010081812.3569.38605@320558c5528b>


Plugin Physiocap approval by zimbogisgeek.
The plugin version "[880] Physiocap 1.8.3" is now approved
Link: http://plugins.qgis.org/plugins/PhysiocapAnalyseur/

From giohappy at gmail.com  Tue Oct 10 03:02:00 2017
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 10 Oct 2017 12:02:00 +0200
Subject: [QGIS-Developer] set and export FID with OGR provider
In-Reply-To: <12792951.LGATSzj1X7@even-i700>
References: <CAB4g1=zivPHRy508LVhiLHr-szJPmLYTJHTyWZM8maQGzo0k2Q@mail.gmail.com>
 <12792951.LGATSzj1X7@even-i700>
Message-ID: <CAB4g1=xP3q=A6Rr6-FQCHZ_TWaK-xdEdOHSzKFGgFYSQ1AJ6EA@mail.gmail.com>

Hi Even,
I thought file writing path went through the OGR provider, while it simply
uses QgsFileWriter.
Is there any reason not having OGR_F_SetFID be used? If there isn't any
side effect could we use it by default?

giovanni

2017-10-09 18:48 GMT+02:00 Even Rouault <even.rouault at spatialys.com>:

> On lundi 9 octobre 2017 18:13:42 CEST G. Allegri wrote:
>
> > HI all,
>
> > GeoJSON RFC7946 states that "If a Feature has a commonly used identifier,
>
> > that identifier SHOULD be included as a member of the Feature object with
>
> > the name "id", and the value of this member is either a JSON string or
>
> > number". For example OpenLayers tries to parse the id field to uniquely
>
> > identify the features inside a GeoJSON feature collection.
>
> > I've digged how OGR GeoJSON driver treats FIDs during serialization and
> it
>
> > seems that it will write it if the OGrFeature has the FID field set [2],
>
> > but AFAICS QIGS OGR provider doesn't set it unless "the first attribute
> is
>
> > the FID and the user has set it". Well, this condition depends on [4],
> and
>
> > now I odn't understand how this applies to a QGIS layer being exported to
>
> > GeoJSON.
>
> >
>
> > Questions:
>
> > - is there a way to force the OGR provider setting the FID?
>
>
>
> None that I can think ok
>
>
>
> > - could the OGR provider have an option to force it from the export
>
> > window, like Mapserver does with the USE_FEATUREID option for its output
>
> > format
>
>
>
> Possibly, but are sure your use case involve the OGR provider at all ?
> "Save a layer as"
>
> normally involves the QgsVectorFileWriter class. But the issue will be the
> same. By the way when looking at it, I saw
>
> https://github.com/qgis/QGIS/blob/master/src/core/
> qgsvectorfilewriter.cpp#L1987 whose
>
> logic is completely broken: OGR_F_SetFID() would only be called for QGIS
> feature ids > INT_MAX.
>
> This weird stuff comes from https://github.com/qgis/QGIS/commit/
> 891e66523fdf21283ca15533684a57dd8c27f955
>
> I guess only the debug message makes sense in this test.
>
>
>
> Even
>
>
>
> --
>
> Spatialys - Geospatial professional services
>
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/96d21fe7/attachment.html>

From even.rouault at spatialys.com  Tue Oct 10 03:08:19 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 10 Oct 2017 12:08:19 +0200
Subject: [QGIS-Developer] set and export FID with OGR provider
In-Reply-To: <CAB4g1=xP3q=A6Rr6-FQCHZ_TWaK-xdEdOHSzKFGgFYSQ1AJ6EA@mail.gmail.com>
References: <CAB4g1=zivPHRy508LVhiLHr-szJPmLYTJHTyWZM8maQGzo0k2Q@mail.gmail.com>
 <12792951.LGATSzj1X7@even-i700>
 <CAB4g1=xP3q=A6Rr6-FQCHZ_TWaK-xdEdOHSzKFGgFYSQ1AJ6EA@mail.gmail.com>
Message-ID: <36788419.7SgmzRi9Cm@even-i700>

On mardi 10 octobre 2017 12:02:00 CEST G. Allegri wrote:
> Hi Even,
> I thought file writing path went through the OGR provider, while it simply
> uses QgsFileWriter.
> Is there any reason not having OGR_F_SetFID be used? If there isn't any
> side effect could we use it by default?

Apparently
https://github.com/qgis/QGIS/commit/891e66523fdf21283ca15533684a57dd8c27f955
was done to avoid issues with DXF output (AFAIR, some ids are reserved by the DXF template 
used, and if you use them for features you write, readers will be confused).

But besides this bug, for drivers that support assigning a FID on creation, this will change 
their output. And I can imagine there are situations where you want a "clean" sequence of 
ids, and others where you really need to preserve the source fids. So it would make sense to 
have an option to control whether you set or not the FID before creation.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/61bf0f2a/attachment.html>

From giohappy at gmail.com  Tue Oct 10 03:12:54 2017
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 10 Oct 2017 12:12:54 +0200
Subject: [QGIS-Developer] set and export FID with OGR provider
In-Reply-To: <36788419.7SgmzRi9Cm@even-i700>
References: <CAB4g1=zivPHRy508LVhiLHr-szJPmLYTJHTyWZM8maQGzo0k2Q@mail.gmail.com>
 <12792951.LGATSzj1X7@even-i700>
 <CAB4g1=xP3q=A6Rr6-FQCHZ_TWaK-xdEdOHSzKFGgFYSQ1AJ6EA@mail.gmail.com>
 <36788419.7SgmzRi9Cm@even-i700>
Message-ID: <CAB4g1=xHTRFjYkdY3-BjKxyEx9v_p_BjH3f9DxVDRcM7KE-qSQ@mail.gmail.com>

Ok, i will open a ticket to suggest the creation of a flag inside the Save
file window.
thanks Even.

giovanni

2017-10-10 12:08 GMT+02:00 Even Rouault <even.rouault at spatialys.com>:

> On mardi 10 octobre 2017 12:02:00 CEST G. Allegri wrote:
>
> > Hi Even,
>
> > I thought file writing path went through the OGR provider, while it
> simply
>
> > uses QgsFileWriter.
>
> > Is there any reason not having OGR_F_SetFID be used? If there isn't any
>
> > side effect could we use it by default?
>
>
>
> Apparently
>
> https://github.com/qgis/QGIS/commit/891e66523fdf21283ca15533684a57
> dd8c27f955
>
> was done to avoid issues with DXF output (AFAIR, some ids are reserved by
> the DXF template used, and if you use them for features you write, readers
> will be confused).
>
>
>
> But besides this bug, for drivers that support assigning a FID on
> creation, this will change their output. And I can imagine there are
> situations where you want a "clean" sequence of ids, and others where you
> really need to preserve the source fids. So it would make sense to have an
> option to control whether you set or not the FID before creation.
>
>
>
> Even
>
>
>
> --
>
> Spatialys - Geospatial professional services
>
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/5472fdf9/attachment-0001.html>

From giohappy at gmail.com  Tue Oct 10 03:20:48 2017
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 10 Oct 2017 12:20:48 +0200
Subject: [QGIS-Developer] set and export FID with OGR provider
In-Reply-To: <CAB4g1=xHTRFjYkdY3-BjKxyEx9v_p_BjH3f9DxVDRcM7KE-qSQ@mail.gmail.com>
References: <CAB4g1=zivPHRy508LVhiLHr-szJPmLYTJHTyWZM8maQGzo0k2Q@mail.gmail.com>
 <12792951.LGATSzj1X7@even-i700>
 <CAB4g1=xP3q=A6Rr6-FQCHZ_TWaK-xdEdOHSzKFGgFYSQ1AJ6EA@mail.gmail.com>
 <36788419.7SgmzRi9Cm@even-i700>
 <CAB4g1=xHTRFjYkdY3-BjKxyEx9v_p_BjH3f9DxVDRcM7KE-qSQ@mail.gmail.com>
Message-ID: <CAB4g1=y67Mxhp67Gm18KF3=DB0DsHRjZ1=5EdCMucEeL3f0aWQ@mail.gmail.com>

On second thought maybe this flag could be a creation option os the OGR
GeoJSON driver. The driver writes the "id" property only if a FID is set.
Maybe a SET_ID flag (or something more miningful) could force the driver
creating the "id" with a sequential integer even if a FID is not set for
the features.
What's your opinion? In case I will open a ticket for OGR.

giovanni

2017-10-10 12:12 GMT+02:00 G. Allegri <giohappy at gmail.com>:

> Ok, i will open a ticket to suggest the creation of a flag inside the Save
> file window.
> thanks Even.
>
> giovanni
>
> 2017-10-10 12:08 GMT+02:00 Even Rouault <even.rouault at spatialys.com>:
>
>> On mardi 10 octobre 2017 12:02:00 CEST G. Allegri wrote:
>>
>> > Hi Even,
>>
>> > I thought file writing path went through the OGR provider, while it
>> simply
>>
>> > uses QgsFileWriter.
>>
>> > Is there any reason not having OGR_F_SetFID be used? If there isn't any
>>
>> > side effect could we use it by default?
>>
>>
>>
>> Apparently
>>
>> https://github.com/qgis/QGIS/commit/891e66523fdf21283ca15533
>> 684a57dd8c27f955
>>
>> was done to avoid issues with DXF output (AFAIR, some ids are reserved by
>> the DXF template used, and if you use them for features you write, readers
>> will be confused).
>>
>>
>>
>> But besides this bug, for drivers that support assigning a FID on
>> creation, this will change their output. And I can imagine there are
>> situations where you want a "clean" sequence of ids, and others where you
>> really need to preserve the source fids. So it would make sense to have an
>> option to control whether you set or not the FID before creation.
>>
>>
>>
>> Even
>>
>>
>>
>> --
>>
>> Spatialys - Geospatial professional services
>>
>> http://www.spatialys.com
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/e39d0ab0/attachment.html>

From giohappy at gmail.com  Tue Oct 10 03:23:09 2017
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 10 Oct 2017 12:23:09 +0200
Subject: [QGIS-Developer] Osgeo4W libraries build?
Message-ID: <CAB4g1=wuh+Oz525SEt=b9p2mcYwcw19V6dOn5cC7fi8fPRq_ig@mail.gmail.com>

Hi Jurgen,
do you build the Osgeo4W (dev) libraries personally? AFAIR they're built
with the VS compiler, right? Is there a build bot somewhere for each of
them?

All the best,
giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/e5ecd4a0/attachment.html>

From even.rouault at spatialys.com  Tue Oct 10 03:26:37 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 10 Oct 2017 12:26:37 +0200
Subject: [QGIS-Developer] set and export FID with OGR provider
In-Reply-To: <CAB4g1=y67Mxhp67Gm18KF3=DB0DsHRjZ1=5EdCMucEeL3f0aWQ@mail.gmail.com>
References: <CAB4g1=zivPHRy508LVhiLHr-szJPmLYTJHTyWZM8maQGzo0k2Q@mail.gmail.com>
 <CAB4g1=xHTRFjYkdY3-BjKxyEx9v_p_BjH3f9DxVDRcM7KE-qSQ@mail.gmail.com>
 <CAB4g1=y67Mxhp67Gm18KF3=DB0DsHRjZ1=5EdCMucEeL3f0aWQ@mail.gmail.com>
Message-ID: <1638062.lvDzMQ6VU6@even-i700>

On mardi 10 octobre 2017 12:20:48 CEST G. Allegri wrote:
> On second thought maybe this flag could be a creation option os the OGR
> GeoJSON driver. The driver writes the "id" property only if a FID is set.
> Maybe a SET_ID flag (or something more miningful) could force the driver
> creating the "id" with a sequential integer even if a FID is not set for
> the features.
> What's your opinion? In case I will open a ticket for OGR.

I don't think this control should be done at the driver level. I'd say that if the GeoJSON 
CreateFeature() API is called with a feature with a FID set, it should write it.
The logic to decide whether you create a new sequence, re-use source FID or don't set a 
FID at all belongs to the upper layers (in that case, QGIS. or ogr2ogr which has -
preserve_fid or -unsetFid flags).

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/91752178/attachment.html>

From jef at norbit.de  Tue Oct 10 03:27:48 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue, 10 Oct 2017 12:27:48 +0200
Subject: [QGIS-Developer] Osgeo4W libraries build?
In-Reply-To: <CAB4g1=wuh+Oz525SEt=b9p2mcYwcw19V6dOn5cC7fi8fPRq_ig@mail.gmail.com>
References: <CAB4g1=wuh+Oz525SEt=b9p2mcYwcw19V6dOn5cC7fi8fPRq_ig@mail.gmail.com>
Message-ID: <20171010102748.b6jluaszzkgud3sn@norbit.de>

Hi Giovanni,

On Tue, 10. Oct 2017 at 12:23:09 +0200, G. Allegri wrote:
> do you build the Osgeo4W (dev) libraries personally?

Most of them.

> AFAIR they're built with the VS compiler, right?

Yes (except GRASS - which Martin Landa builds).

> Is there a build bot somewhere for each of them?

No.  Just the recipes in the -src.tar.bz2


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/4f0dadba/attachment.sig>

From giohappy at gmail.com  Tue Oct 10 03:58:36 2017
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 10 Oct 2017 12:58:36 +0200
Subject: [QGIS-Developer] set and export FID with OGR provider
In-Reply-To: <1638062.lvDzMQ6VU6@even-i700>
References: <CAB4g1=zivPHRy508LVhiLHr-szJPmLYTJHTyWZM8maQGzo0k2Q@mail.gmail.com>
 <CAB4g1=xHTRFjYkdY3-BjKxyEx9v_p_BjH3f9DxVDRcM7KE-qSQ@mail.gmail.com>
 <CAB4g1=y67Mxhp67Gm18KF3=DB0DsHRjZ1=5EdCMucEeL3f0aWQ@mail.gmail.com>
 <1638062.lvDzMQ6VU6@even-i700>
Message-ID: <CAB4g1=zTQYMLnpJzh33AgkRqcK_E0shtmRbvJpzj-CAvhjLn8Q@mail.gmail.com>

Well, you almost convinced me, but for what I can see from the ogr2ogr
docs, if -preserve-fid is not set the output driver is expected to create
the FIDs [1]. This means that if a a FID is not set (and not preserved) the
GeoJSON output driver should write it.
Anyway, don't ant to stress it more. I will open the ticket for a flag on
QGIS.

giovanni

[1] "Use the FID of the source features instead of letting the output
driver to automatically assign a new one"

2017-10-10 12:26 GMT+02:00 Even Rouault <even.rouault at spatialys.com>:

> On mardi 10 octobre 2017 12:20:48 CEST G. Allegri wrote:
>
> > On second thought maybe this flag could be a creation option os the OGR
>
> > GeoJSON driver. The driver writes the "id" property only if a FID is set.
>
> > Maybe a SET_ID flag (or something more miningful) could force the driver
>
> > creating the "id" with a sequential integer even if a FID is not set for
>
> > the features.
>
> > What's your opinion? In case I will open a ticket for OGR.
>
>
>
> I don't think this control should be done at the driver level. I'd say
> that if the GeoJSON CreateFeature() API is called with a feature with a FID
> set, it should write it.
>
> The logic to decide whether you create a new sequence, re-use source FID
> or don't set a FID at all belongs to the upper layers (in that case, QGIS.
> or ogr2ogr which has -preserve_fid or -unsetFid flags).
>
>
>
> Even
>
>
>
> --
>
> Spatialys - Geospatial professional services
>
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/afeb87eb/attachment-0001.html>

From giohappy at gmail.com  Tue Oct 10 04:02:20 2017
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 10 Oct 2017 13:02:20 +0200
Subject: [QGIS-Developer] Osgeo4W libraries build?
In-Reply-To: <20171010102748.b6jluaszzkgud3sn@norbit.de>
References: <CAB4g1=wuh+Oz525SEt=b9p2mcYwcw19V6dOn5cC7fi8fPRq_ig@mail.gmail.com>
 <20171010102748.b6jluaszzkgud3sn@norbit.de>
Message-ID: <CAB4g1=zu0TssHb5fXjMXochpdT60jEcnpb2+3UK9W6vaop7cMw@mail.gmail.com>

>
> > Is there a build bot somewhere for each of them?
>
> No.  Just the recipes in the -src.tar.bz2
>

Thanks Jurgen,
so you mean the -src.tar.bz2 of each lib?
http://download.osgeo.org/osgeo4w/x86_64/release/

giovanni


>
>
> Jürgen
>
> --
> Jürgen E. Fischer           norBIT GmbH             Tel.
> +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstraße 13          Fax.
> +49-4931-918175-50
> Software Engineer           D-26506 Norden
> http://www.norbit.de
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/fb5baea3/attachment.html>

From even.rouault at spatialys.com  Tue Oct 10 04:08:51 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 10 Oct 2017 13:08:51 +0200
Subject: [QGIS-Developer] set and export FID with OGR provider
In-Reply-To: <CAB4g1=zTQYMLnpJzh33AgkRqcK_E0shtmRbvJpzj-CAvhjLn8Q@mail.gmail.com>
References: <CAB4g1=zivPHRy508LVhiLHr-szJPmLYTJHTyWZM8maQGzo0k2Q@mail.gmail.com>
 <1638062.lvDzMQ6VU6@even-i700>
 <CAB4g1=zTQYMLnpJzh33AgkRqcK_E0shtmRbvJpzj-CAvhjLn8Q@mail.gmail.com>
Message-ID: <2798566.JHYseMkfhx@even-i700>

On mardi 10 octobre 2017 12:58:36 CEST G. Allegri wrote:
> Well, you almost convinced me, but for what I can see from the ogr2ogr
> docs, if -preserve-fid is not set the output driver is expected to create
> the FIDs [1]. This means that if a a FID is not set (and not preserved) the
> GeoJSON output driver should write it.

Ah the doc of -preserve_fid is not completely accurate. In the specific case of 
GeoJSON, it doesn't need to create a FID if none is provided to it, so it doesn't create 
one. But for drivers like shapefile, PG, etc... the output driver needs to assign a FID to 
the new feature.

I've just changed the doc to:
"Use the FID of the source features instead ofletting the output driver to 
automatically assign a new one (when it needs to assign a FID. Some formats, like 
GeoJSON, have optional FID)"

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/ff3be433/attachment.html>

From jef at norbit.de  Tue Oct 10 04:13:08 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue, 10 Oct 2017 13:13:08 +0200
Subject: [QGIS-Developer] Osgeo4W libraries build?
In-Reply-To: <CAB4g1=zu0TssHb5fXjMXochpdT60jEcnpb2+3UK9W6vaop7cMw@mail.gmail.com>
References: <CAB4g1=wuh+Oz525SEt=b9p2mcYwcw19V6dOn5cC7fi8fPRq_ig@mail.gmail.com>
 <20171010102748.b6jluaszzkgud3sn@norbit.de>
 <CAB4g1=zu0TssHb5fXjMXochpdT60jEcnpb2+3UK9W6vaop7cMw@mail.gmail.com>
Message-ID: <20171010111308.v5o5j7jq5dlfbcrk@norbit.de>

Hi Giovanni,

On Tue, 10. Oct 2017 at 13:02:20 +0200, G. Allegri wrote:
> > > Is there a build bot somewhere for each of them?

> > No.  Just the recipes in the -src.tar.bz2

> so you mean the -src.tar.bz2 of each lib?
> http://download.osgeo.org/osgeo4w/x86_64/release/

Yes.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/6e4ade67/attachment.sig>

From giohappy at gmail.com  Tue Oct 10 05:03:06 2017
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 10 Oct 2017 14:03:06 +0200
Subject: [QGIS-Developer] set and export FID with OGR provider
In-Reply-To: <2798566.JHYseMkfhx@even-i700>
References: <CAB4g1=zivPHRy508LVhiLHr-szJPmLYTJHTyWZM8maQGzo0k2Q@mail.gmail.com>
 <1638062.lvDzMQ6VU6@even-i700>
 <CAB4g1=zTQYMLnpJzh33AgkRqcK_E0shtmRbvJpzj-CAvhjLn8Q@mail.gmail.com>
 <2798566.JHYseMkfhx@even-i700>
Message-ID: <CAB4g1=yGQTZqTEr6=psjHd_wAP5bZeBURFLQhCyDJi8Y7jtcNQ@mail.gmail.com>

Thanks Even.

2017-10-10 13:08 GMT+02:00 Even Rouault <even.rouault at spatialys.com>:

> On mardi 10 octobre 2017 12:58:36 CEST G. Allegri wrote:
>
> > Well, you almost convinced me, but for what I can see from the ogr2ogr
>
> > docs, if -preserve-fid is not set the output driver is expected to create
>
> > the FIDs [1]. This means that if a a FID is not set (and not preserved)
> the
>
> > GeoJSON output driver should write it.
>
>
>
> Ah the doc of -preserve_fid is not completely accurate. In the specific
> case of GeoJSON, it doesn't need to create a FID if none is provided to it,
> so it doesn't create one. But for drivers like shapefile, PG, etc... the
> output driver needs to assign a FID to the new feature.
>
>
>
> I've just changed the doc to:
>
> "Use the FID of the source features instead ofletting the output driver to
> automatically assign a new one (when it needs to assign a FID. Some
> formats, like GeoJSON, have optional FID)"
>
>
>
> --
>
> Spatialys - Geospatial professional services
>
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/7dc3648b/attachment.html>

From giohappy at gmail.com  Tue Oct 10 05:56:21 2017
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 10 Oct 2017 14:56:21 +0200
Subject: [QGIS-Developer] QT 5.9 in Osgeo4W?
Message-ID: <CAB4g1=yW2x6b2znxQ7XponKGVNCXmvjWQXUa0LA0wGh22=vXcg@mail.gmail.com>

Yet another question for Jurgen :)
Do you plans to release Qt 5.9 inside Osgeo4W soon? Ia sk it maonly for
QGIS nightly builds and QGIS 3D.

giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/9689a1a7/attachment.html>

From adenaculture at gmail.com  Tue Oct 10 07:06:26 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 10 Oct 2017 10:06:26 -0400
Subject: [QGIS-Developer] first steps 3D rendering
In-Reply-To: <75957bde-8620-25d3-40f2-e781a5f04676@duif.net>
References: <75957bde-8620-25d3-40f2-e781a5f04676@duif.net>
Message-ID: <CABPxTTqFYr=LTgea_CaV8YwBPF-3ud9qXpKx0SUDJOZM358Dtg@mail.gmail.com>

Has this been compiled into the Windows nightly gqis-dev branch. If so
where do I find it? If not when are you planning on having it there?

Thanks,

Calvin Hamilton

On Mon, Oct 9, 2017 at 4:33 PM, Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> Hi,
>
> Just successfully compiled Martin's 3D work in Master on Debian testing
>
> \o/
>
> Thanks to all QGIS & Debian dev's for making this so 'easy' !!!
>
> https://www.duif.net/amsterdam.mp4 for my first steps 3d rendering.
>
> Wanna play yourself: this is the gpkg file:
>
> https://www.duif.net/3dAmsterdam.gpkg
>
> Next question (as I have actually the height of those buildings): how to
> render the actual height?
>
> Anybody?
>
> Regards,
>
> Richard Duivenvoorde
>
> ps sorry for providing mp4 here, I'm not so much into video, and my WebM
> trial was not working...
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/8d99e5e2/attachment-0001.html>

From giohappy at gmail.com  Tue Oct 10 08:21:53 2017
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 10 Oct 2017 17:21:53 +0200
Subject: [QGIS-Developer] first steps 3D rendering
In-Reply-To: <CABPxTTqFYr=LTgea_CaV8YwBPF-3ud9qXpKx0SUDJOZM358Dtg@mail.gmail.com>
References: <75957bde-8620-25d3-40f2-e781a5f04676@duif.net>
 <CABPxTTqFYr=LTgea_CaV8YwBPF-3ud9qXpKx0SUDJOZM358Dtg@mail.gmail.com>
Message-ID: <CAB4g1=xRKLbTW_aaue+rs+W2Gta9r3Q3_C36HQmHqvv33x9WvA@mail.gmail.com>

Has this been compiled into the Windows nightly gqis-dev branch. If so
where do I find it? If not when are you planning on having it there?


Not yet because Windows builds don't ship with Qt 5.9 which are required by
QGIS 3D.
I guess Jurgen is working on this.

giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171010/c171760a/attachment.html>

From qgis at spam.joelbuckley.com.au  Tue Oct 10 22:39:22 2017
From: qgis at spam.joelbuckley.com.au (Joel Buckley)
Date: Wed, 11 Oct 2017 16:39:22 +1100
Subject: [QGIS-Developer] QGIS master branch fails make install on macOS
 10.12.6
In-Reply-To: <20171010042930.GA70880@Joels-Work-MacBook-Pro.local>
References: <20171006074626.GA93431@Joels-MacBook-Pro.local>
 <818D5CE4-71CD-4B2E-B12A-DCC8CCA965D8@3liz.com>
 <20171008232002.GA42021@delap.wg.dir.telstra.com>
 <541C44B1-7B41-4F0A-8E03-5BD4D7C07060@3liz.com>
 <20171010042930.GA70880@Joels-Work-MacBook-Pro.local>
Message-ID: <20171011053922.GA29378@delap.wg.dir.telstra.com>

To close the loop on this, the problem was that though qscintilla2 was 
installed on my system (OS X), it was not called simply 
'libqscintilla2.dylib' in /usr/local/lib.

The fix is:
$ cd /usr/local/lib
$ ln -s libqscintilla2_qt5.dylib libqscintilla2.dylib

Regards,

-- 
Joel Buckley

On Tue, Oct 10, 2017 at 03:29:30PM +1100, Joel Buckley wrote:
>You're right, running `make clean` and starting the process again had it
>all working. Thanks!
>
>So the only remain hang-up I have, is that upon launch (of either the
>standalone binary, or the `make`d launcher), I get the following error:
>---
>Couldn't load PyQGIS.
>Python support will be disabled.
>
>
>Traceback (most recent call last):
> File "", line 1, in
> File "/Users/joel/Documents/QGIS/build/output/python/qgis/gui/__init__.py", line 27, in
>   from qgis._gui import *
>ModuleNotFoundError: No module named 'PyQt5.Qsci'
>---
>
>I have searched on this, and tried reinstalling Qscintilla2 (via
>homebrew). I've tried grepping for Qsci to determine if it's not being
>picked up, but I'm not familiar enough with the build process just yet
>to tell why it mightn't be compiled in.
>
>Thanks for your help so far, and I hope this is my last query for now -
>any suggestions on this error?
>
>If it helps, I am running the following cmake:
>cmake -D CMAKE_INSTALL_PREFIX=~/Applications \
>-D CMAKE_BUILD_TYPE=MINSIZEREL \
>-D ENABLE_TESTS=TRUE \
>-D SPATIALINDEX_LIBRARY=/usr/local/lib/libspatialindex.dylib \
>-D SPATIALINDEX_INCLUDE_DIR=/usr/local/include/spatialindex \
>-D QWT_LIBRARY=/usr/local/Cellar/qwt/6.1.3_4/lib/qwt.framework \
>-D QWT_INCLUDE_DIR=/usr/local/Cellar/qwt/6.1.3_4/lib/qwt.framework/Headers \
>-D BISON_EXECUTABLE=/usr/local/bin/bison \
>-D PYTHON_EXECUTABLE=/usr/local/bin/python3 \
>-D CMAKE_PREFIX_PATH=/usr/local/opt/qt \
>-D WITH_BINDINGS=TRUE \
>-D WITH_SERVER=TRUE \
>-D QSCINTILLA_INCLUDE_DIR=/usr/local/Cellar/qscintilla2/2.10.1_1/include \
>-D QSCINTILLA_LIBRARY=/usr/local/Cellar/qscintilla2/2.10.1_1/lib/libqscintilla2_qt5.dylib \
>-D GRASS_INCLUDE_DIR7=/usr/local/Cellar/grass7/7.2.1/grass-base/include \
>-D GRASS_PREFIX7=/usr/local/Cellar/grass7/7.2.1/grass-base/ \
>-D QSCINTILLA_LIBRARY=/usr/local/lib/libqscintilla2_qt5.dylib \
>-D QSCINTILLA_INCLUDE_DIR:PATH=/usr/local/include \
>..
>
>Regards,
>
>-- 
>Joel Buckley
>
>On Mon, Oct 09, 2017 at 10:51:04AM +0200, David Marteau wrote:
>>Hi
>>
>>Sorry but the 'make install' seems to work correctly for me on OSX 10.11.6: I have a stand alone binary installed at the location specified by CMAKE_INSTALL_PREFIX - I'm running several versions of QGIS and then
>>nee to have different install paths. Is your ~/Applications/QGIS.app a link ?
>>
>>David.
>>
>>>Le 9 oct. 2017 à 01:20, Joel Buckley <qgis at spam.joelbuckley.com.au> a écrit :
>>>
>>>Thanks, this helped. I'm now able to launch it from the command line
>>>without a problem.
>>>
>>>One thing I've noticed though, is `open -a ~/Applications/QGIS.app` will
>>>actually invoke the binary created in QGIS/build/output/ - my `make`
>>>output (if you ⌘-click on the application in the Dock, you will be shown
>>>the location of the running application).  I imagined a standalone
>>>binary would be created at `make install`.  Is there a separate set of
>>>steps to create a standalone binary? I'm trying to make some changes and
>>>distribute to a few others for them to try.
>>>
>>>Thanks again for the QT_QPA_PLATFORM_PLUGIN_PATH tip.
>>>
>>>Regards,
>>>
>>>--
>>>Joel Buckley
>>>
>>>On Fri, Oct 06, 2017 at 01:59:30PM +0200, David Marteau wrote:
>>>>Hi
>>>>
>>>>Try to define the environment variable QT_QPA_PLATFORM_PLUGIN_PATH=/opt/local/libexec/qt5/plugins/platforms (it may depends on how is your qt5 installation - this path is ok for Macport installation)
>>>>
>>>>According to my experience (see https://www.3liz.com/blog/rldhont/index.php?post/2017/06/01/How-to-build-qgis-on-OSX-with-MacPort) : If this variable is not defined then QGIS will crash at startup.
>>>>
>>>>
>>>>>Le 6 oct. 2017 à 09:46, Joel Buckley <qgis at spam.joelbuckley.com.au> a écrit :
>>>>>
>>>>>Hi,
>>>>>
>>>>>I am having some difficulty running `make install`, and compiling QGIS into a single standalone application on macOS. I can successfully run configuration and `make`, and can launch the `make`-d code from build/output/bin with no problem.
>>>>>
>>>>>`make install` runs without complaint and returns 0 (success), but when I try to launch the newly create QGIS.app, it immediately crashes, and produces a crash report (attached for brevity).
>>>>>
>>>>>I have googled and attempted to parse the crash log, but the errors it reports are beyond my capability. I'm hoping someone on the list might have some input on how to remedy this?
>>>>>
>>>>>Configuration information:
>>>>>QGIS version: current master branch
>>>>>QT5, python 3
>>>>>macOS 10.12.6
>>>>>
>>>>>Regards,
>>>>>
>>>>>--
>>>>>Joel Buckley
>>>>>
>>>>><crash.txt>_______________________________________________
>>>>>QGIS-Developer mailing list
>>>>>QGIS-Developer at lists.osgeo.org
>>>>>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>_______________________________________________
>>>QGIS-Developer mailing list
>>>QGIS-Developer at lists.osgeo.org
>>>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>_______________________________________________
>QGIS-Developer mailing list
>QGIS-Developer at lists.osgeo.org
>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From noreply at qgis.org  Tue Oct 10 23:48:12 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 11 Oct 2017 06:48:12 -0000
Subject: [QGIS-Developer] Plugin [1345] FastVersion approval notification.
Message-ID: <20171011064812.10019.30663@320558c5528b>


Plugin FastVersion approval by zimbogisgeek.
The plugin version "[1345] FastVersion 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/FastVersion/

From noreply at qgis.org  Wed Oct 11 00:49:57 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 11 Oct 2017 07:49:57 -0000
Subject: [QGIS-Developer] Plugin [1342] ShapeOrientation approval
	notification.
Message-ID: <20171011074957.5889.84603@320558c5528b>


Plugin ShapeOrientation approval by zimbogisgeek.
The plugin version "[1342] ShapeOrientation 0.1" is now approved
Link: http://plugins.qgis.org/plugins/ShapeOrientation/

From jef at norbit.de  Wed Oct 11 02:49:47 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed, 11 Oct 2017 11:49:47 +0200
Subject: [QGIS-Developer] QGIS3D in OSGeo4W
In-Reply-To: <CAB4g1=yW2x6b2znxQ7XponKGVNCXmvjWQXUa0LA0wGh22=vXcg@mail.gmail.com>
 <7e80124f9cdc1ab8171b3229c35ff4aa@carto.net>
Message-ID: <20171011094947.sw6a6tcp4e3hmw7k@norbit.de>

Hi Giovanni and QGIS treasurers, probably Andreas?,

On Tue, 03. Oct 2017 at 13:01:22 +0200, Andreas Neumann wrote:
> Hi Windows packagers - probably Jürgen? 

> Do you see any blockers upgrading to qt 5.9 or can this be done? 

Except for the usual 24h per day limit - none.


On Tue, 10. Oct 2017 at 14:56:21 +0200, G. Allegri wrote:
> Do you plans to release Qt 5.9 inside Osgeo4W soon?

I might have Qt 5.9.2, qtkeychain, qca, qwt and sip packaged.  qtwebkit
underway.  PyQt5 (and whatnot) pending.  And of course the qgis builds to
verify that all those actually work.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171011/f3092825/attachment.sig>

From larrys at dakotacarto.com  Wed Oct 11 09:40:42 2017
From: larrys at dakotacarto.com (Larry Shaffer)
Date: Wed, 11 Oct 2017 10:40:42 -0600
Subject: [QGIS-Developer] QGIS master branch fails make install on macOS
	10.12.6
In-Reply-To: <20171011053922.GA29378@delap.wg.dir.telstra.com>
References: <20171006074626.GA93431@Joels-MacBook-Pro.local>
 <818D5CE4-71CD-4B2E-B12A-DCC8CCA965D8@3liz.com>
 <20171008232002.GA42021@delap.wg.dir.telstra.com>
 <541C44B1-7B41-4F0A-8E03-5BD4D7C07060@3liz.com>
 <20171010042930.GA70880@Joels-Work-MacBook-Pro.local>
 <20171011053922.GA29378@delap.wg.dir.telstra.com>
Message-ID: <CA+nQOR_0nToXzDwUOxBr_SzL+LBB1PF33m-30up8_W6ykXH69g@mail.gmail.com>

Hi Joel,

On Tue, Oct 10, 2017 at 11:39 PM, Joel Buckley <qgis at spam.joelbuckley.com.au
> wrote:

> To close the loop on this, the problem was that though qscintilla2 was
> installed on my system (OS X), it was not called simply
> 'libqscintilla2.dylib' in /usr/local/lib.
>
> The fix is:
> $ cd /usr/local/lib
> $ ln -s libqscintilla2_qt5.dylib libqscintilla2.dylib
>

You should avoid this, as the symlink ends up spoofing that library's Qt4
naming convention. Better to make sure the FindQScintilla.cmake module
properly locates the name (which doesn't have any issues with finding it
here on macOS 10.11.6 using Homebrew).

Try adding libqscintilla2_qt5 to QSCINTILLA_LIBRARY_NAMES in:
https://github.com/qgis/QGIS/blob/master/cmake/FindQScintilla.cmake

and see if that helps.

Regards,

Larry Shaffer
Dakota Cartography
Black Hills, South Dakota
----------------------------------
Boundless Desktop and QGIS Support/Development
Boundless Spatial - http://boundlessgeo.com
lshaffer at boundlessgeo.com

Regards,
>
> --
> Joel Buckley
>
>
> On Tue, Oct 10, 2017 at 03:29:30PM +1100, Joel Buckley wrote:
>
>> You're right, running `make clean` and starting the process again had it
>> all working. Thanks!
>>
>> So the only remain hang-up I have, is that upon launch (of either the
>> standalone binary, or the `make`d launcher), I get the following error:
>> ---
>> Couldn't load PyQGIS.
>> Python support will be disabled.
>>
>>
>> Traceback (most recent call last):
>> File "", line 1, in
>> File "/Users/joel/Documents/QGIS/build/output/python/qgis/gui/__init__.py",
>> line 27, in
>>   from qgis._gui import *
>> ModuleNotFoundError: No module named 'PyQt5.Qsci'
>> ---
>>
>> I have searched on this, and tried reinstalling Qscintilla2 (via
>> homebrew). I've tried grepping for Qsci to determine if it's not being
>> picked up, but I'm not familiar enough with the build process just yet
>> to tell why it mightn't be compiled in.
>>
>> Thanks for your help so far, and I hope this is my last query for now -
>> any suggestions on this error?
>>
>> If it helps, I am running the following cmake:
>> cmake -D CMAKE_INSTALL_PREFIX=~/Applications \
>> -D CMAKE_BUILD_TYPE=MINSIZEREL \
>> -D ENABLE_TESTS=TRUE \
>> -D SPATIALINDEX_LIBRARY=/usr/local/lib/libspatialindex.dylib \
>> -D SPATIALINDEX_INCLUDE_DIR=/usr/local/include/spatialindex \
>> -D QWT_LIBRARY=/usr/local/Cellar/qwt/6.1.3_4/lib/qwt.framework \
>> -D QWT_INCLUDE_DIR=/usr/local/Cellar/qwt/6.1.3_4/lib/qwt.framework/Headers
>> \
>> -D BISON_EXECUTABLE=/usr/local/bin/bison \
>> -D PYTHON_EXECUTABLE=/usr/local/bin/python3 \
>> -D CMAKE_PREFIX_PATH=/usr/local/opt/qt \
>> -D WITH_BINDINGS=TRUE \
>> -D WITH_SERVER=TRUE \
>> -D QSCINTILLA_INCLUDE_DIR=/usr/local/Cellar/qscintilla2/2.10.1_1/include
>> \
>> -D QSCINTILLA_LIBRARY=/usr/local/Cellar/qscintilla2/2.10.1_1/lib/libqscintilla2_qt5.dylib
>> \
>> -D GRASS_INCLUDE_DIR7=/usr/local/Cellar/grass7/7.2.1/grass-base/include \
>> -D GRASS_PREFIX7=/usr/local/Cellar/grass7/7.2.1/grass-base/ \
>> -D QSCINTILLA_LIBRARY=/usr/local/lib/libqscintilla2_qt5.dylib \
>> -D QSCINTILLA_INCLUDE_DIR:PATH=/usr/local/include \
>> ..
>>
>> Regards,
>>
>> --
>> Joel Buckley
>>
>> On Mon, Oct 09, 2017 at 10:51:04AM +0200, David Marteau wrote:
>>
>>> Hi
>>>
>>> Sorry but the 'make install' seems to work correctly for me on OSX
>>> 10.11.6: I have a stand alone binary installed at the location specified by
>>> CMAKE_INSTALL_PREFIX - I'm running several versions of QGIS and then
>>> nee to have different install paths. Is your ~/Applications/QGIS.app a
>>> link ?
>>>
>>> David.
>>>
>>> Le 9 oct. 2017 à 01:20, Joel Buckley <qgis at spam.joelbuckley.com.au> a
>>>> écrit :
>>>>
>>>> Thanks, this helped. I'm now able to launch it from the command line
>>>> without a problem.
>>>>
>>>> One thing I've noticed though, is `open -a ~/Applications/QGIS.app` will
>>>> actually invoke the binary created in QGIS/build/output/ - my `make`
>>>> output (if you ⌘-click on the application in the Dock, you will be shown
>>>> the location of the running application).  I imagined a standalone
>>>> binary would be created at `make install`.  Is there a separate set of
>>>> steps to create a standalone binary? I'm trying to make some changes and
>>>> distribute to a few others for them to try.
>>>>
>>>> Thanks again for the QT_QPA_PLATFORM_PLUGIN_PATH tip.
>>>>
>>>> Regards,
>>>>
>>>> --
>>>> Joel Buckley
>>>>
>>>> On Fri, Oct 06, 2017 at 01:59:30PM +0200, David Marteau wrote:
>>>>
>>>>> Hi
>>>>>
>>>>> Try to define the environment variable QT_QPA_PLATFORM_PLUGIN_PATH=/o
>>>>> pt/local/libexec/qt5/plugins/platforms (it may depends on how is your
>>>>> qt5 installation - this path is ok for Macport installation)
>>>>>
>>>>> According to my experience (see https://www.3liz.com/blog/rldh
>>>>> ont/index.php?post/2017/06/01/How-to-build-qgis-on-OSX-with-MacPort)
>>>>> : If this variable is not defined then QGIS will crash at startup.
>>>>>
>>>>>
>>>>> Le 6 oct. 2017 à 09:46, Joel Buckley <qgis at spam.joelbuckley.com.au> a
>>>>>> écrit :
>>>>>>
>>>>>> Hi,
>>>>>>
>>>>>> I am having some difficulty running `make install`, and compiling
>>>>>> QGIS into a single standalone application on macOS. I can successfully run
>>>>>> configuration and `make`, and can launch the `make`-d code from
>>>>>> build/output/bin with no problem.
>>>>>>
>>>>>> `make install` runs without complaint and returns 0 (success), but
>>>>>> when I try to launch the newly create QGIS.app, it immediately crashes, and
>>>>>> produces a crash report (attached for brevity).
>>>>>>
>>>>>> I have googled and attempted to parse the crash log, but the errors
>>>>>> it reports are beyond my capability. I'm hoping someone on the list might
>>>>>> have some input on how to remedy this?
>>>>>>
>>>>>> Configuration information:
>>>>>> QGIS version: current master branch
>>>>>> QT5, python 3
>>>>>> macOS 10.12.6
>>>>>>
>>>>>> Regards,
>>>>>>
>>>>>> --
>>>>>> Joel Buckley
>>>>>>
>>>>>> <crash.txt>_______________________________________________
>>>>>> QGIS-Developer mailing list
>>>>>> QGIS-Developer at lists.osgeo.org
>>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>
>>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171011/aba9ff24/attachment-0001.html>

From peter at 3xe.co.uk  Wed Oct 11 10:08:52 2017
From: peter at 3xe.co.uk (Peter Devoy)
Date: Wed, 11 Oct 2017 18:08:52 +0100
Subject: [QGIS-Developer] Qt Model-View updates blocked when Python
 console not open
In-Reply-To: <13810065-4994-d78e-cd6f-11057a085cf5@duif.net>
References: <CABoFc_hu6e748qTTFetUqp_M_eRhJ2ZYekzy7iL7Jxrosh4U_g@mail.gmail.com>
 <CABoFc_hCD9AMOgvjVx-d0UBAi3A6r74fq2CpV0drezFGBkx7gA@mail.gmail.com>
 <5ff3f192-b8d7-74d4-8870-34d9ac760029@opengis.ch>
 <CAFcNcQaLL0HdJY=WAgK_eRXnVJ9Ky0jFPRMyYQ0v3DsxSCsycg@mail.gmail.com>
 <13810065-4994-d78e-cd6f-11057a085cf5@duif.net>
Message-ID: <CABoFc_gNvprcMwuLj_=+QRgBd7OpKSrOVGSyT0mtmhuBQomWWw@mail.gmail.com>

Hi guys

Thank you all for your suggestions.   Calls to print() triggering
QCoreAppliation::processEvents() explains the phenomena and I was able
to fix using the Boundless's QNetworkAccessManager wrapper instead of
the requests library.

Thanks again!


Peter

On 6 October 2017 at 07:41, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>
>
> And to make things easier, use
>
> https://github.com/boundlessgeo/lib-qgis-commons/blob/master/qgiscommons2/network/networkaccessmanager.py
>
> which should be core class in QGIS if you ask me. So we can get rid of
> all other different blocking/nonproxying etc ways to connect QGIS to http...
>
> Regards,
>
> Richard Duivenvoorde
>
> On 05-10-17 22:01, Ricardo Filipe Soares Garcia da wrote:
> > Hi Peter
> >
> > In addition to Matthias' advice perhaps try using
> > QNetworkAccessManager[1] and related classes in order to deal with your
> > http requests asynchronously. This should fix the UI blocking issues.
> >
> > Best regards
> >
> >
> > [1]
> > - http://pyqt.sourceforge.net/Docs/PyQt4/qnetworkaccessmanager.html#details
> >
> >
> > Em 05/10/2017 15:18, "Matthias Kuhn" <matthias at opengis.ch
> > <mailto:matthias at opengis.ch>> escreveu:
> >
> >     Hi Peter,
> >
> >     Have a look at this answer here, which explains how you can trigger
> >     the same behavior without using the print and relying on
> >     side-effects of the console open.
> >
> >     It also outlines the risks involved in using this kind of approach.
> >
> >     https://gis.stackexchange.com/a/257016
> >     <https://gis.stackexchange.com/a/257016>
> >
> >     Cheers
> >     Matthias
> >
> >
> >     On 10/05/2017 03:25 PM, Peter Devoy wrote:
> >
> >         Just a little update; it is the fact I am using print() to output
> >         debug information upon each request which is allowing the UI to
> >         repaint.  Also, it seems that opening and closing the Python console
> >         once is enough.
> >
> >         Peter
> >
> >         3XE
> >         P: 01326 567155
> >         M: 07770 693662
> >         A: 3XE Ltd
> >         Tremough Innovation Centre
> >         PENRYN
> >         TR10 9TA
> >         3XE Ltd · Registered in England and Wales · 9356871
> >
> >
> >         On 4 October 2017 at 20:53, Peter Devoy <peter at 3xe.co.uk
> >         <mailto:peter at 3xe.co.uk>> wrote:
> >
> >             Hi all
> >
> >             In my plugin I have extended QAbstractListModel to create a
> >             list of
> >             objects; each object in the list has a 'url' property
> >             containing the
> >             URL of an API resource.  When the user selects a feature in
> >             main QGIS
> >             interface, each object in the list makes a HTTP request to
> >             its URL and
> >             updates its properties from the response data.
> >
> >             Changes in the objects' properties are reflected in a
> >             QListView.  E.g.
> >             a  property 'status'  is set to 'WARN' if the HTTP request
> >             fails --
> >             this is reflected in the QListView by the respective list
> >             item's icon
> >             turning yellow.
> >
> >             If I have the Python console open in QGIS the QListView
> >             items update
> >             as the ListModel's objects update. However, if the Python
> >             console is
> >             not open, the plugin's UI thread appears to be blocked until
> >             each item
> >             in the list has completed its changes and all the items
> >             update at
> >             once; please can anyone recommend a way to avoid this?
> >
> >             I have been developing on QGIS 2.1X.
> >
> >             Kind regards
> >
> >
> >             Peter
> >
> >         _______________________________________________
> >         QGIS-Developer mailing list
> >         QGIS-Developer at lists.osgeo.org
> >         <mailto:QGIS-Developer at lists.osgeo.org>
> >         List info:
> >         https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >         Unsubscribe:
> >         https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >         <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >
> >
> >     _______________________________________________
> >     QGIS-Developer mailing list
> >     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >
> >
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From wonder.sk at gmail.com  Wed Oct 11 11:33:11 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed, 11 Oct 2017 20:33:11 +0200
Subject: [QGIS-Developer] first steps 3D rendering
In-Reply-To: <75957bde-8620-25d3-40f2-e781a5f04676@duif.net>
References: <75957bde-8620-25d3-40f2-e781a5f04676@duif.net>
Message-ID: <CAC2XbFdMKr8qhP5LMYej4i-RoRB6mRO1Tz0_My4YvhGKk+mZzw@mail.gmail.com>

Hi Richard!

On Mon, Oct 9, 2017 at 10:33 PM, Richard Duivenvoorde
<rdmailings at duif.net> wrote:
> Hi,
>
> Just successfully compiled Martin's 3D work in Master on Debian testing
>
> \o/
>
> Thanks to all QGIS & Debian dev's for making this so 'easy' !!!
>
> https://www.duif.net/amsterdam.mp4 for my first steps 3d rendering.

Nice!


> Wanna play yourself: this is the gpkg file:
>
> https://www.duif.net/3dAmsterdam.gpkg
>
> Next question (as I have actually the height of those buildings): how to
> render the actual height?

https://github.com/qgis/QGIS/pull/5347
On the way ;-)

Cheers
Martin

From giohappy at gmail.com  Wed Oct 11 11:33:58 2017
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 11 Oct 2017 20:33:58 +0200
Subject: [QGIS-Developer] QGIS3D in OSGeo4W
In-Reply-To: <20171011094947.sw6a6tcp4e3hmw7k@norbit.de>
References: <CAB4g1=yW2x6b2znxQ7XponKGVNCXmvjWQXUa0LA0wGh22=vXcg@mail.gmail.com>
 <7e80124f9cdc1ab8171b3229c35ff4aa@carto.net>
 <20171011094947.sw6a6tcp4e3hmw7k@norbit.de>
Message-ID: <CAB4g1=ySWm+4DkPUHQtaWWG-kGvZji5DxaDaXYKJPF75SEv4Mg@mail.gmail.com>

Thx Jurgen!
No hurry, just to know how to answer people asking ;)

giovanni

Il 11 ott 2017 11:50, "Jürgen E. Fischer" <jef at norbit.de> ha scritto:

> Hi Giovanni and QGIS treasurers, probably Andreas?,
>
> On Tue, 03. Oct 2017 at 13:01:22 +0200, Andreas Neumann wrote:
> > Hi Windows packagers - probably Jürgen?
>
> > Do you see any blockers upgrading to qt 5.9 or can this be done?
>
> Except for the usual 24h per day limit - none.
>
>
> On Tue, 10. Oct 2017 at 14:56:21 +0200, G. Allegri wrote:
> > Do you plans to release Qt 5.9 inside Osgeo4W soon?
>
> I might have Qt 5.9.2, qtkeychain, qca, qwt and sip packaged.  qtwebkit
> underway.  PyQt5 (and whatnot) pending.  And of course the qgis builds to
> verify that all those actually work.
>
>
> Jürgen
>
> --
> Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden
> http://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171011/a2762415/attachment.html>

From qgis at spam.joelbuckley.com.au  Wed Oct 11 16:25:32 2017
From: qgis at spam.joelbuckley.com.au (Joel Buckley)
Date: Thu, 12 Oct 2017 10:25:32 +1100
Subject: [QGIS-Developer] QGIS master branch fails make install on macOS
 10.12.6
In-Reply-To: <CA+nQOR_0nToXzDwUOxBr_SzL+LBB1PF33m-30up8_W6ykXH69g@mail.gmail.com>
References: <20171006074626.GA93431@Joels-MacBook-Pro.local>
 <818D5CE4-71CD-4B2E-B12A-DCC8CCA965D8@3liz.com>
 <20171008232002.GA42021@delap.wg.dir.telstra.com>
 <541C44B1-7B41-4F0A-8E03-5BD4D7C07060@3liz.com>
 <20171010042930.GA70880@Joels-Work-MacBook-Pro.local>
 <20171011053922.GA29378@delap.wg.dir.telstra.com>
 <CA+nQOR_0nToXzDwUOxBr_SzL+LBB1PF33m-30up8_W6ykXH69g@mail.gmail.com>
Message-ID: <20171011232532.GA5636@wus200.planit.cdn.telstra.com.au>

Thanks Larry, that's interesting. libqscintilla2_qt5 is already in 
cmake/FindQScintilla.cmake. The output of my cmake command also tells me 
that it's finding QScintilla2 in 
/usr/local/lib/libqscintilla2_qt5.dylib.

The problem seems to be that upon compilation, Qsci.so expects it to be 
called libqscintilla2.dylib.  If I remove the symlink I've created after 
compilation, but before runtime, I get:

Couldn't load PyQGIS.
Python support will be disabled.


Traceback (most recent call last):
  File "", line 1, in 
  File "/Users/joel/Applications/QGIS.app/Contents/MacOS/../Resources/python/qgis/gui/__init__.py", line 27, in 
    from qgis._gui import *
ImportError: dlopen(/Users/joel/Applications/QGIS.app/Contents/MacOS/../Resources/python/PyQt5/Qsci.so, 2): Library not loaded: @loader_path/../../../MacOS/lib/libqscintilla2.dylib
  Referenced from: /Users/joel/Applications/QGIS.app/Contents/Resources/python/PyQt5/Qsci.so
  Reason: image not found

So it seems to me that Qsci expects it to be in /usr/local/lib, called 
just libqscintilla2.dylib. If I move the symlink back and don't 
recompile, the application launches without error.

Regards,

-- 
Joel Buckley

On Wed, Oct 11, 2017 at 10:40:42AM -0600, Larry Shaffer wrote:
>Hi Joel,
>
>On Tue, Oct 10, 2017 at 11:39 PM, Joel Buckley <qgis at spam.joelbuckley.com.au
>> wrote:
>
>> To close the loop on this, the problem was that though qscintilla2 was
>> installed on my system (OS X), it was not called simply
>> 'libqscintilla2.dylib' in /usr/local/lib.
>>
>> The fix is:
>> $ cd /usr/local/lib
>> $ ln -s libqscintilla2_qt5.dylib libqscintilla2.dylib
>>
>
>You should avoid this, as the symlink ends up spoofing that library's Qt4
>naming convention. Better to make sure the FindQScintilla.cmake module
>properly locates the name (which doesn't have any issues with finding it
>here on macOS 10.11.6 using Homebrew).
>
>Try adding libqscintilla2_qt5 to QSCINTILLA_LIBRARY_NAMES in:
>https://github.com/qgis/QGIS/blob/master/cmake/FindQScintilla.cmake
>
>and see if that helps.
>
>Regards,
>
>Larry Shaffer
>Dakota Cartography
>Black Hills, South Dakota
>----------------------------------
>Boundless Desktop and QGIS Support/Development
>Boundless Spatial - http://boundlessgeo.com
>lshaffer at boundlessgeo.com
>
>Regards,
>>
>> --
>> Joel Buckley
>>
>>
>> On Tue, Oct 10, 2017 at 03:29:30PM +1100, Joel Buckley wrote:
>>
>>> You're right, running `make clean` and starting the process again had it
>>> all working. Thanks!
>>>
>>> So the only remain hang-up I have, is that upon launch (of either the
>>> standalone binary, or the `make`d launcher), I get the following error:
>>> ---
>>> Couldn't load PyQGIS.
>>> Python support will be disabled.
>>>
>>>
>>> Traceback (most recent call last):
>>> File "", line 1, in
>>> File "/Users/joel/Documents/QGIS/build/output/python/qgis/gui/__init__.py",
>>> line 27, in
>>>   from qgis._gui import *
>>> ModuleNotFoundError: No module named 'PyQt5.Qsci'
>>> ---
>>>
>>> I have searched on this, and tried reinstalling Qscintilla2 (via
>>> homebrew). I've tried grepping for Qsci to determine if it's not being
>>> picked up, but I'm not familiar enough with the build process just yet
>>> to tell why it mightn't be compiled in.
>>>
>>> Thanks for your help so far, and I hope this is my last query for now -
>>> any suggestions on this error?
>>>
>>> If it helps, I am running the following cmake:
>>> cmake -D CMAKE_INSTALL_PREFIX=~/Applications \
>>> -D CMAKE_BUILD_TYPE=MINSIZEREL \
>>> -D ENABLE_TESTS=TRUE \
>>> -D SPATIALINDEX_LIBRARY=/usr/local/lib/libspatialindex.dylib \
>>> -D SPATIALINDEX_INCLUDE_DIR=/usr/local/include/spatialindex \
>>> -D QWT_LIBRARY=/usr/local/Cellar/qwt/6.1.3_4/lib/qwt.framework \
>>> -D QWT_INCLUDE_DIR=/usr/local/Cellar/qwt/6.1.3_4/lib/qwt.framework/Headers
>>> \
>>> -D BISON_EXECUTABLE=/usr/local/bin/bison \
>>> -D PYTHON_EXECUTABLE=/usr/local/bin/python3 \
>>> -D CMAKE_PREFIX_PATH=/usr/local/opt/qt \
>>> -D WITH_BINDINGS=TRUE \
>>> -D WITH_SERVER=TRUE \
>>> -D QSCINTILLA_INCLUDE_DIR=/usr/local/Cellar/qscintilla2/2.10.1_1/include
>>> \
>>> -D QSCINTILLA_LIBRARY=/usr/local/Cellar/qscintilla2/2.10.1_1/lib/libqscintilla2_qt5.dylib
>>> \
>>> -D GRASS_INCLUDE_DIR7=/usr/local/Cellar/grass7/7.2.1/grass-base/include \
>>> -D GRASS_PREFIX7=/usr/local/Cellar/grass7/7.2.1/grass-base/ \
>>> -D QSCINTILLA_LIBRARY=/usr/local/lib/libqscintilla2_qt5.dylib \
>>> -D QSCINTILLA_INCLUDE_DIR:PATH=/usr/local/include \
>>> ..
>>>
>>> Regards,
>>>
>>> --
>>> Joel Buckley
>>>
>>> On Mon, Oct 09, 2017 at 10:51:04AM +0200, David Marteau wrote:
>>>
>>>> Hi
>>>>
>>>> Sorry but the 'make install' seems to work correctly for me on OSX
>>>> 10.11.6: I have a stand alone binary installed at the location specified by
>>>> CMAKE_INSTALL_PREFIX - I'm running several versions of QGIS and then
>>>> nee to have different install paths. Is your ~/Applications/QGIS.app a
>>>> link ?
>>>>
>>>> David.
>>>>
>>>> Le 9 oct. 2017 à 01:20, Joel Buckley <qgis at spam.joelbuckley.com.au> a
>>>>> écrit :
>>>>>
>>>>> Thanks, this helped. I'm now able to launch it from the command line
>>>>> without a problem.
>>>>>
>>>>> One thing I've noticed though, is `open -a ~/Applications/QGIS.app` will
>>>>> actually invoke the binary created in QGIS/build/output/ - my `make`
>>>>> output (if you ⌘-click on the application in the Dock, you will be shown
>>>>> the location of the running application).  I imagined a standalone
>>>>> binary would be created at `make install`.  Is there a separate set of
>>>>> steps to create a standalone binary? I'm trying to make some changes and
>>>>> distribute to a few others for them to try.
>>>>>
>>>>> Thanks again for the QT_QPA_PLATFORM_PLUGIN_PATH tip.
>>>>>
>>>>> Regards,
>>>>>
>>>>> --
>>>>> Joel Buckley
>>>>>
>>>>> On Fri, Oct 06, 2017 at 01:59:30PM +0200, David Marteau wrote:
>>>>>
>>>>>> Hi
>>>>>>
>>>>>> Try to define the environment variable QT_QPA_PLATFORM_PLUGIN_PATH=/o
>>>>>> pt/local/libexec/qt5/plugins/platforms (it may depends on how is your
>>>>>> qt5 installation - this path is ok for Macport installation)
>>>>>>
>>>>>> According to my experience (see https://www.3liz.com/blog/rldh
>>>>>> ont/index.php?post/2017/06/01/How-to-build-qgis-on-OSX-with-MacPort)
>>>>>> : If this variable is not defined then QGIS will crash at startup.
>>>>>>
>>>>>>
>>>>>> Le 6 oct. 2017 à 09:46, Joel Buckley <qgis at spam.joelbuckley.com.au> a
>>>>>>> écrit :
>>>>>>>
>>>>>>> Hi,
>>>>>>>
>>>>>>> I am having some difficulty running `make install`, and compiling
>>>>>>> QGIS into a single standalone application on macOS. I can successfully run
>>>>>>> configuration and `make`, and can launch the `make`-d code from
>>>>>>> build/output/bin with no problem.
>>>>>>>
>>>>>>> `make install` runs without complaint and returns 0 (success), but
>>>>>>> when I try to launch the newly create QGIS.app, it immediately crashes, and
>>>>>>> produces a crash report (attached for brevity).
>>>>>>>
>>>>>>> I have googled and attempted to parse the crash log, but the errors
>>>>>>> it reports are beyond my capability. I'm hoping someone on the list might
>>>>>>> have some input on how to remedy this?
>>>>>>>
>>>>>>> Configuration information:
>>>>>>> QGIS version: current master branch
>>>>>>> QT5, python 3
>>>>>>> macOS 10.12.6
>>>>>>>
>>>>>>> Regards,
>>>>>>>
>>>>>>> --
>>>>>>> Joel Buckley
>>>>>>>
>>>>>>> <crash.txt>_______________________________________________
>>>>>>> QGIS-Developer mailing list
>>>>>>> QGIS-Developer at lists.osgeo.org
>>>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>> QGIS-Developer mailing list
>>>>> QGIS-Developer at lists.osgeo.org
>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>
>>>>
>>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>

>_______________________________________________
>QGIS-Developer mailing list
>QGIS-Developer at lists.osgeo.org
>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Wed Oct 11 21:28:56 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 12 Oct 2017 14:28:56 +1000
Subject: [QGIS-Developer] Moving qgsnativealgorithms to analysis lib?
Message-ID: <CAB28AsjXjPTiZP+SuPy1ZTfsUQobEf0fv-dtCQg=u0WEXHcL4Q@mail.gmail.com>

Hi all,

Just after some opinions on whether or not the native c++ processing
algorithm implementations (qgsnativealgorithms.cpp/.h) should
ultimately reside in core or analysis.

Up till 3.0 analysis has been a bit of a funny library, since it mixed
up the logic for the analysis methods with their ui interface
(requiring progress dialogs and the like). So it kind of sat above
both core and gui, but below app.

That's all been cleaned up now for 3.0, so analysis no longer has any
use of gui methods. Now it could potentially sit just above the core
library, and be used in non-gui situations like qgis server and
qfield. Accordingly, I think it's the right place for these c++
processing algorithms to ultimately sit.

But I don't want to restrict ourselves by doing this...

So, qfield and qgis server maintainers: would moving these
implementations to analysis prevent you from using them in future? Do
you have issues with linking in analysis to your applications?

Nyall

From qgis at spam.joelbuckley.com.au  Wed Oct 11 21:34:00 2017
From: qgis at spam.joelbuckley.com.au (Joel Buckley)
Date: Thu, 12 Oct 2017 15:34:00 +1100
Subject: [QGIS-Developer] QGIS master branch fails make install on macOS
 10.12.6
In-Reply-To: <20171011232532.GA5636@wus200.planit.cdn.telstra.com.au>
References: <20171006074626.GA93431@Joels-MacBook-Pro.local>
 <818D5CE4-71CD-4B2E-B12A-DCC8CCA965D8@3liz.com>
 <20171008232002.GA42021@delap.wg.dir.telstra.com>
 <541C44B1-7B41-4F0A-8E03-5BD4D7C07060@3liz.com>
 <20171010042930.GA70880@Joels-Work-MacBook-Pro.local>
 <20171011053922.GA29378@delap.wg.dir.telstra.com>
 <CA+nQOR_0nToXzDwUOxBr_SzL+LBB1PF33m-30up8_W6ykXH69g@mail.gmail.com>
 <20171011232532.GA5636@wus200.planit.cdn.telstra.com.au>
Message-ID: <20171012043400.GA67670@wus200.planit.cdn.telstra.com.au>

Further, to clearly catalogue the changes I've found I'm required to 
make:
1. I have found that I am also having to copy the folder 
/usr/local/lib/python3.6/site-packages/PyQt5 to 
/Users/joel/Documents/QGIS/build/output/python/ (for `make` and `make 
install`)
2. I need to add 'QtWidgets QtPrintSupport' to QTLISTQG and PYQTLIST in 
mac/cmake/1qt.cmake.in (for `make install` only)
3. The symlink in the previous email is required only for `make install`

Regards,

-- 
Joel Buckley

On Thu, Oct 12, 2017 at 10:25:32AM +1100, Joel Buckley wrote:
>Thanks Larry, that's interesting. libqscintilla2_qt5 is already in 
>cmake/FindQScintilla.cmake. The output of my cmake command also tells 
>me that it's finding QScintilla2 in 
>/usr/local/lib/libqscintilla2_qt5.dylib.
>
>The problem seems to be that upon compilation, Qsci.so expects it to 
>be called libqscintilla2.dylib.  If I remove the symlink I've created 
>after compilation, but before runtime, I get:
>
>Couldn't load PyQGIS.
>Python support will be disabled.
>
>
>Traceback (most recent call last):
> File "", line 1, in  File "/Users/joel/Applications/QGIS.app/Contents/MacOS/../Resources/python/qgis/gui/__init__.py", 
>line 27, in    from qgis._gui import *
>ImportError: dlopen(/Users/joel/Applications/QGIS.app/Contents/MacOS/../Resources/python/PyQt5/Qsci.so, 2): Library not loaded: @loader_path/../../../MacOS/lib/libqscintilla2.dylib
> Referenced from: /Users/joel/Applications/QGIS.app/Contents/Resources/python/PyQt5/Qsci.so
> Reason: image not found
>
>So it seems to me that Qsci expects it to be in /usr/local/lib, called 
>just libqscintilla2.dylib. If I move the symlink back and don't 
>recompile, the application launches without error.
>
>Regards,
>
>-- 
>Joel Buckley
>
>On Wed, Oct 11, 2017 at 10:40:42AM -0600, Larry Shaffer wrote:
>>Hi Joel,
>>
>>On Tue, Oct 10, 2017 at 11:39 PM, Joel Buckley <qgis at spam.joelbuckley.com.au
>>>wrote:
>>
>>>To close the loop on this, the problem was that though qscintilla2 was
>>>installed on my system (OS X), it was not called simply
>>>'libqscintilla2.dylib' in /usr/local/lib.
>>>
>>>The fix is:
>>>$ cd /usr/local/lib
>>>$ ln -s libqscintilla2_qt5.dylib libqscintilla2.dylib
>>>
>>
>>You should avoid this, as the symlink ends up spoofing that library's Qt4
>>naming convention. Better to make sure the FindQScintilla.cmake module
>>properly locates the name (which doesn't have any issues with finding it
>>here on macOS 10.11.6 using Homebrew).
>>
>>Try adding libqscintilla2_qt5 to QSCINTILLA_LIBRARY_NAMES in:
>>https://github.com/qgis/QGIS/blob/master/cmake/FindQScintilla.cmake
>>
>>and see if that helps.
>>
>>Regards,
>>
>>Larry Shaffer
>>Dakota Cartography
>>Black Hills, South Dakota
>>----------------------------------
>>Boundless Desktop and QGIS Support/Development
>>Boundless Spatial - http://boundlessgeo.com
>>lshaffer at boundlessgeo.com
>>
>>Regards,
>>>
>>>--
>>>Joel Buckley
>>>
>>>
>>>On Tue, Oct 10, 2017 at 03:29:30PM +1100, Joel Buckley wrote:
>>>
>>>>You're right, running `make clean` and starting the process again had it
>>>>all working. Thanks!
>>>>
>>>>So the only remain hang-up I have, is that upon launch (of either the
>>>>standalone binary, or the `make`d launcher), I get the following error:
>>>>---
>>>>Couldn't load PyQGIS.
>>>>Python support will be disabled.
>>>>
>>>>
>>>>Traceback (most recent call last):
>>>>File "", line 1, in
>>>>File "/Users/joel/Documents/QGIS/build/output/python/qgis/gui/__init__.py",
>>>>line 27, in
>>>>  from qgis._gui import *
>>>>ModuleNotFoundError: No module named 'PyQt5.Qsci'
>>>>---
>>>>
>>>>I have searched on this, and tried reinstalling Qscintilla2 (via
>>>>homebrew). I've tried grepping for Qsci to determine if it's not being
>>>>picked up, but I'm not familiar enough with the build process just yet
>>>>to tell why it mightn't be compiled in.
>>>>
>>>>Thanks for your help so far, and I hope this is my last query for now -
>>>>any suggestions on this error?
>>>>
>>>>If it helps, I am running the following cmake:
>>>>cmake -D CMAKE_INSTALL_PREFIX=~/Applications \
>>>>-D CMAKE_BUILD_TYPE=MINSIZEREL \
>>>>-D ENABLE_TESTS=TRUE \
>>>>-D SPATIALINDEX_LIBRARY=/usr/local/lib/libspatialindex.dylib \
>>>>-D SPATIALINDEX_INCLUDE_DIR=/usr/local/include/spatialindex \
>>>>-D QWT_LIBRARY=/usr/local/Cellar/qwt/6.1.3_4/lib/qwt.framework \
>>>>-D QWT_INCLUDE_DIR=/usr/local/Cellar/qwt/6.1.3_4/lib/qwt.framework/Headers
>>>>\
>>>>-D BISON_EXECUTABLE=/usr/local/bin/bison \
>>>>-D PYTHON_EXECUTABLE=/usr/local/bin/python3 \
>>>>-D CMAKE_PREFIX_PATH=/usr/local/opt/qt \
>>>>-D WITH_BINDINGS=TRUE \
>>>>-D WITH_SERVER=TRUE \
>>>>-D QSCINTILLA_INCLUDE_DIR=/usr/local/Cellar/qscintilla2/2.10.1_1/include
>>>>\
>>>>-D QSCINTILLA_LIBRARY=/usr/local/Cellar/qscintilla2/2.10.1_1/lib/libqscintilla2_qt5.dylib
>>>>\
>>>>-D GRASS_INCLUDE_DIR7=/usr/local/Cellar/grass7/7.2.1/grass-base/include \
>>>>-D GRASS_PREFIX7=/usr/local/Cellar/grass7/7.2.1/grass-base/ \
>>>>-D QSCINTILLA_LIBRARY=/usr/local/lib/libqscintilla2_qt5.dylib \
>>>>-D QSCINTILLA_INCLUDE_DIR:PATH=/usr/local/include \
>>>>..
>>>>
>>>>Regards,
>>>>
>>>>--
>>>>Joel Buckley
>>>>
>>>>On Mon, Oct 09, 2017 at 10:51:04AM +0200, David Marteau wrote:
>>>>
>>>>>Hi
>>>>>
>>>>>Sorry but the 'make install' seems to work correctly for me on OSX
>>>>>10.11.6: I have a stand alone binary installed at the location specified by
>>>>>CMAKE_INSTALL_PREFIX - I'm running several versions of QGIS and then
>>>>>nee to have different install paths. Is your ~/Applications/QGIS.app a
>>>>>link ?
>>>>>
>>>>>David.
>>>>>
>>>>>Le 9 oct. 2017 à 01:20, Joel Buckley <qgis at spam.joelbuckley.com.au> a
>>>>>>écrit :
>>>>>>
>>>>>>Thanks, this helped. I'm now able to launch it from the command line
>>>>>>without a problem.
>>>>>>
>>>>>>One thing I've noticed though, is `open -a ~/Applications/QGIS.app` will
>>>>>>actually invoke the binary created in QGIS/build/output/ - my `make`
>>>>>>output (if you ⌘-click on the application in the Dock, you will be shown
>>>>>>the location of the running application).  I imagined a standalone
>>>>>>binary would be created at `make install`.  Is there a separate set of
>>>>>>steps to create a standalone binary? I'm trying to make some changes and
>>>>>>distribute to a few others for them to try.
>>>>>>
>>>>>>Thanks again for the QT_QPA_PLATFORM_PLUGIN_PATH tip.
>>>>>>
>>>>>>Regards,
>>>>>>
>>>>>>--
>>>>>>Joel Buckley
>>>>>>
>>>>>>On Fri, Oct 06, 2017 at 01:59:30PM +0200, David Marteau wrote:
>>>>>>
>>>>>>>Hi
>>>>>>>
>>>>>>>Try to define the environment variable QT_QPA_PLATFORM_PLUGIN_PATH=/o
>>>>>>>pt/local/libexec/qt5/plugins/platforms (it may depends on how is your
>>>>>>>qt5 installation - this path is ok for Macport installation)
>>>>>>>
>>>>>>>According to my experience (see https://www.3liz.com/blog/rldh
>>>>>>>ont/index.php?post/2017/06/01/How-to-build-qgis-on-OSX-with-MacPort)
>>>>>>>: If this variable is not defined then QGIS will crash at startup.
>>>>>>>
>>>>>>>
>>>>>>>Le 6 oct. 2017 à 09:46, Joel Buckley <qgis at spam.joelbuckley.com.au> a
>>>>>>>>écrit :
>>>>>>>>
>>>>>>>>Hi,
>>>>>>>>
>>>>>>>>I am having some difficulty running `make install`, and compiling
>>>>>>>>QGIS into a single standalone application on macOS. I can successfully run
>>>>>>>>configuration and `make`, and can launch the `make`-d code from
>>>>>>>>build/output/bin with no problem.
>>>>>>>>
>>>>>>>>`make install` runs without complaint and returns 0 (success), but
>>>>>>>>when I try to launch the newly create QGIS.app, it immediately crashes, and
>>>>>>>>produces a crash report (attached for brevity).
>>>>>>>>
>>>>>>>>I have googled and attempted to parse the crash log, but the errors
>>>>>>>>it reports are beyond my capability. I'm hoping someone on the list might
>>>>>>>>have some input on how to remedy this?
>>>>>>>>
>>>>>>>>Configuration information:
>>>>>>>>QGIS version: current master branch
>>>>>>>>QT5, python 3
>>>>>>>>macOS 10.12.6
>>>>>>>>
>>>>>>>>Regards,
>>>>>>>>
>>>>>>>>--
>>>>>>>>Joel Buckley
>>>>>>>>
>>>>>>>><crash.txt>_______________________________________________
>>>>>>>>QGIS-Developer mailing list
>>>>>>>>QGIS-Developer at lists.osgeo.org
>>>>>>>>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>>>
>>>>>>>
>>>>>>>_______________________________________________
>>>>>>QGIS-Developer mailing list
>>>>>>QGIS-Developer at lists.osgeo.org
>>>>>>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>>
>>>>>
>>>>>_______________________________________________
>>>>QGIS-Developer mailing list
>>>>QGIS-Developer at lists.osgeo.org
>>>>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>_______________________________________________
>>>QGIS-Developer mailing list
>>>QGIS-Developer at lists.osgeo.org
>>>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>
>>_______________________________________________
>>QGIS-Developer mailing list
>>QGIS-Developer at lists.osgeo.org
>>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>_______________________________________________
>QGIS-Developer mailing list
>QGIS-Developer at lists.osgeo.org
>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Wed Oct 11 22:42:52 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 12 Oct 2017 15:42:52 +1000
Subject: [QGIS-Developer] Generic use of QgsLocator and friends?
In-Reply-To: <cb295053-78aa-3aae-20fa-d8de5df19fc2@duif.net>
References: <48645ea8-f3a7-e862-cb4e-892996515245@duif.net>
 <CAB28AsienfUBk9RZ3mORN9fvh2Jf-mHtPivZVOAB+a=k9hBmHQ@mail.gmail.com>
 <f71941de-4224-8849-3642-bebcd2a640c8@duif.net>
 <CAB28Asib4oMB=TcAoKB+JGtJmwE2BVNU5c0FMDdSUt7Wj67iMg@mail.gmail.com>
 <cb295053-78aa-3aae-20fa-d8de5df19fc2@duif.net>
Message-ID: <CAB28AsgMtCt477c6LDCtJvFfZmCTrTXVTj4b1bgjsq5eSz6hzQ@mail.gmail.com>

Hi Richard,

On 9 October 2017 at 23:10, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>
> (sorry for long email and lot of questions...
> tldr; I think qlocator is UBERCOOL!!!! and want to use if for everything)
> for a screenie, see:
> http://pix.toile-libre.org/upload/original/1507554555.png

Awesome... that's what we like to see!


> # QUESTION: should we create base (geocoder)classes for the
> GeocoderLocator and GeocoderFilter (in cpp or python):
> - I created a baseclass for my 2 geocoders, thinking it would be
> helpfull to have something like 'mapToResult', but after some initial
> tests I think it is maybe only usefull to define some scale presets
> (like in current version of this plugin)
> - these baseclasses could be python or cpp...

I'd say not yet. I think in future we'll need these, but at the moment
I don't believe we know enough about what we require from such a base
class. I'd rather we let things "settle" and then see what the common
functionality is across the various geocoder implementations.

> # QUESTION: IF a service does not have a suggest-service (like
> Nominatim) adding a space ' ' at the end to force a search
> - Nominatim is not supposed to be used as a suggest service (see [0]) in
> contrast to the PDOK geocoder), so I decided to do the actual
> GET-request as soon as the user added a space in the end to let us know
> a searchstring was ended. This is just an idea, if others have better
> idea's just let us know

I'm not sure how to handle this situation. Right now I can't think of
a nicer approach than what you've taken.


> # QUESTION: should we have a (cpp/python?) NetworkAccessManager(factory)
> somewhere?
> - I took Boundless networkaccessmanager.py to do the HTTP requests. The
> advantage of this class is that it mimics http2 lib interface, BUT
> actually uses the Qt/QgsNetworking classings...
> I think we (as in QGIS) should have such a class in core (be it cpp or
> python)

No objections here... but I'll let boundless take the lead here, if
they think it's suitable for inclusion in master/the stable API.

> # QUESTION: having different geocoder locators running:
> synchron/blocking or asynchron/non-blocking networking?
> Because of the fast suggest service of I used the blocking way, but I'm
> not sure what the preferred way is here. Also it is not fully clear to
> me what to do with running requests (if you type very fast....)

The locator should handle this situation fine. What happens is that:

1. as a search string is entered, that string is passed to every
filter's "fetchResults" method, each of which runs in a different
thread.
2. results are added to the list as soon as a filter reports each one
- it doesn't wait until the individual filter is finished, or any
other filters are finished.

So a slow filter will not block the results coming back from a fast filter.

However - when a new string is entered (or a few extra characters
added to the string), the locator won't fire up a new search until all
the filters have finished the last request. So an individual filter
will only EVER have a single request happening at a time. This does
mean that filters which are slow to return can potential delay new
searches from occurring. To avoid this, well behaved filters should
use the passed QgsFeedback and check for cancelation (or attach to
it's canceled signal) and abort a running request as soon as possible.

> # QUESTION: is a normal plugin the right thing to do?
> - in the implementation you actually have to do 2 things:
> 1) register and deregister the LocatorFilter
> 2) create and implement the actual QgsLocatorFilter
> It is easy to do this as a plugin too (as you can see). I'm ok with
> every country implementing its QLocator (do we need a 'term/word' for
> it?) and add it as plugin

Yep, I think that's the best approach. Then users can install whatever
search plugins they find useful for their own particular workflow.

> # QUESTION: should a Filter already have a NetworkAccessManager and an iface
> - if implemented as a plugin, you have the iface to actually get a
> handle to the mapcanvas etc etc. (you need it so check crs or let themap
> zoom/pan) I was wondering if a QgsLocator should not actually be able to
> get to the mapcanvas (directly, or via current QgsProject)
> Same with an actual NetworkAccessManager...

I think your approach is fine here (using iface to get the canvas).
Locator filters are purely a core class, so can't rely on gui widgets
like the canvas.

> # QUESTION: why only 3 chars for prefix? (better make this configurable?)
> - I think it would be best if a user can decide him/herself to which
> locators to use, and thus decide what prefixes to use for them. In my
> case I would do: p (for pdok), f (for features), o (for osm/nomanitim)
> and g (for google). Others are not so interesting to e...
> I think only having the possibility to use 3 character prefixes is not
> very usefull?

Ok - so the rationale here is that we DON'T want plugins to "steal"
all the best key combinations and prevent us from using these for
future core locator uses. E.g. if we allow a plugin to use the "o"
shortcut for OSM search, we'll never be able to take that back and use
"o" for "open file" (or something else). That's why I took the
somewhat harsh approach of restricting plugins to a minimum 3
character shortcut. I think in future (as we see greater use of
locator and have a better idea of how it's being used) we could
potentially grant widely used 3rd party plugins access to the
whitelist to avoid this restriction.

But for now, I'd rather play it safe and keep this restriction in place.

Of course, we could also potentially allow users to configure the
shortcuts (Qt Creator does this) so they can do whatever the want.

> #    would be cool to be able to have a object-type to scale mapping for
> all geocoders, so  you determine for every object type on which z-level
> (exact) you want to come... I tried to do that by doing:
>     ADDRESS = 750
>     STREET = 1500
>     ZIP = 3000
>     PLACE = 30000
>     CITY = 120000
>     ISLAND = 250000
>     COUNTRY = 4000000
> But not sure if this is the best way.

That's a good idea! We could use the feature bounding box for
non-point features, and then fall back to some predefined scales like
this for point results.

> # QUESTION: why short result texts with osm (missing the 'types' of the
> object)
> - the results (of osm) seem to be cut of rather short?

I don't understand... have you got an example?


> # QUESTION: should the BaseGeocoderLocator set a point or label? As Option?
> - Alesandro's geocoder plugin (for 2.x) put's a point/label in the map.
> I was wondering if this should maybe be an (optional) thing in a base
> class too? Maybe adding all properties that you receive from the geocoder

We could also flash the point/line/polygon match geometry... I've no
strong opinions here yet.


> # QUESTION: during loading/reloading of the plugin I had a LOT of crashes:
> ^[QGIS died on signal 11[New LWP 26919]
> [New LWP 26920]
> [New LWP 26921]
> etc
> Not sure if this is my install, or has something to do with this plugin,
> or the combi of network-threads and application threads...
> Please confirm.

Run a debug build, and get a backtrace. Then we'll talk ;)

Nyall

From tim at kartoza.com  Wed Oct 11 23:43:12 2017
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 12 Oct 2017 08:43:12 +0200
Subject: [QGIS-Developer] Generic use of QgsLocator and friends?
In-Reply-To: <CAB28AsgMtCt477c6LDCtJvFfZmCTrTXVTj4b1bgjsq5eSz6hzQ@mail.gmail.com>
References: <48645ea8-f3a7-e862-cb4e-892996515245@duif.net>
 <CAB28AsienfUBk9RZ3mORN9fvh2Jf-mHtPivZVOAB+a=k9hBmHQ@mail.gmail.com>
 <f71941de-4224-8849-3642-bebcd2a640c8@duif.net>
 <CAB28Asib4oMB=TcAoKB+JGtJmwE2BVNU5c0FMDdSUt7Wj67iMg@mail.gmail.com>
 <cb295053-78aa-3aae-20fa-d8de5df19fc2@duif.net>
 <CAB28AsgMtCt477c6LDCtJvFfZmCTrTXVTj4b1bgjsq5eSz6hzQ@mail.gmail.com>
Message-ID: <91627743-023E-48E0-A128-AF129DA88BF7@kartoza.com>

Hi


> On 12 Oct 2017, at 07:42, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> 
>> # QUESTION: should we create base (geocoder)classes for the
>> GeocoderLocator and GeocoderFilter (in cpp or python):
>> - I created a baseclass for my 2 geocoders, thinking it would be
>> helpfull to have something like 'mapToResult', but after some initial
>> tests I think it is maybe only usefull to define some scale presets
>> (like in current version of this plugin)
>> - these baseclasses could be python or cpp...
> 
> I'd say not yet. I think in future we'll need these, but at the moment
> I don't believe we know enough about what we require from such a base
> class. I'd rather we let things "settle" and then see what the common
> functionality is across the various geocoder implementations.

Also a reminder of the work that Septima did in QGIS 2 which they were thinking of building a standardised approach for geocoding (see the section under ’search’ here http://blog.qgis.org/2017/08/15/report-back-on-the-3rd-qgis-conference-in-nodebo-denmark/). And there is also work from Lutra and others so it would be good to maybe pull in the different interested parties and compare notes…

Regards

Tim



—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171012/7662865c/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171012/7662865c/attachment-0001.jpg>

From noreply at qgis.org  Wed Oct 11 23:49:25 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 12 Oct 2017 06:49:25 -0000
Subject: [QGIS-Developer] Plugin [385] pgRoutingLayer approval notification.
Message-ID: <20171012064925.10019.19266@320558c5528b>


Plugin pgRoutingLayer approval by zimbogisgeek.
The plugin version "[385] pgRoutingLayer 2.2.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/pgRoutingLayer/

From rdmailings at duif.net  Wed Oct 11 23:54:06 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 12 Oct 2017 08:54:06 +0200
Subject: [QGIS-Developer] Generic use of QgsLocator and friends?
In-Reply-To: <CAB28AsgMtCt477c6LDCtJvFfZmCTrTXVTj4b1bgjsq5eSz6hzQ@mail.gmail.com>
References: <48645ea8-f3a7-e862-cb4e-892996515245@duif.net>
 <CAB28AsienfUBk9RZ3mORN9fvh2Jf-mHtPivZVOAB+a=k9hBmHQ@mail.gmail.com>
 <f71941de-4224-8849-3642-bebcd2a640c8@duif.net>
 <CAB28Asib4oMB=TcAoKB+JGtJmwE2BVNU5c0FMDdSUt7Wj67iMg@mail.gmail.com>
 <cb295053-78aa-3aae-20fa-d8de5df19fc2@duif.net>
 <CAB28AsgMtCt477c6LDCtJvFfZmCTrTXVTj4b1bgjsq5eSz6hzQ@mail.gmail.com>
Message-ID: <2c8d9bc0-e1dd-6665-55b9-f198bf7900da@duif.net>

Hi Nyall,

First a big Thanks for looking and answering!
I was wondering why nobody was so excited as I was :-)

I agree/can live with most of your clarifications.
Some remarks:

- about the networkaccesmanager-like class (cc'ing to Boundless). I
think that IF we create this, we should do it in 3.0.
But Boundless, let me know if you need help/incentives...
Now for every QgsLocator I have to bring in the NetworkAccessManagerClass?
A QgsLocator Base class (which would for example have these object-type
to scale mapping (ADDRESS=750 etc), or the 'set a label' functionality
would also be in this common classes. If anybody else is interested in
this, please let's discuss and do it.

- about the osm short strings, see in the earlier picture:
http://pix.toile-libre.org/upload/original/1507554555.png
Even in very wide screens, it looks like the result is always using 50%
of the width of the result window. And I'm trying to show the type of
object found and put it in brackets behind the result (eg: address or
road). And in the Nominatim Geocoder result you just siee:
Riouwstraat, Haarlem North Holland, ...
The information I have put in the QgsLocatorResult.displayString
contains more info. As said it looks like the result is always using 50%
of the width of the result window

- about the crashes, is info below helpfull? Else I'll start a session
with gdb. Crux is that I used the offical plugin reloader to reload the
plugin, and clicked on an old result. It is probably the problem that
the cpp world is not aware of the fact that the python world has been
reloaded, and is trying to call some non excisting python signal now or
so? Myself I can 'fix' this by cleaning up the results in the unload of
the plugin (if I can do that via the api...)

Regards,

Richard Duivenvoorde

QGIS died on signal 11[New LWP 2082]
[New LWP 2083]
[New LWP 2084]
[New LWP 2085]
[New LWP 2086]
[New LWP 2087]
[New LWP 2090]
[New LWP 2091]
[New LWP 2092]
[New LWP 2093]
[New LWP 2094]
[New LWP 2329]
[New LWP 2330]
[New LWP 2331]
[New LWP 2332]
[New LWP 2333]
[New LWP 2334]
[New LWP 2335]
[New LWP 2337]
[New LWP 2338]
[New LWP 2339]
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
0x00007f3fbade403a in __GI___waitpid (pid=2343, stat_loc=0x7ffdffb1d194,
options=0) at ../sysdeps/unix/sysv/linux/waitpid.c:29
29	../sysdeps/unix/sysv/linux/waitpid.c: No such file or directory.
[Current thread is 1 (Thread 0x7f3fc87d1380 (LWP 2081))]
#0  0x00007f3fbade403a in __GI___waitpid (pid=2343,
stat_loc=0x7ffdffb1d194, options=0) at
../sysdeps/unix/sysv/linux/waitpid.c:29
        resultvar = 18446744073709551104
        sc_cancel_oldtype = 0
#1  0x000055d59c111f7a in qgisCrash (signal=11) at
/home/richard/dev/qgis/git/qgis/src/app/main.cpp:323
        status = 32765
        pidstr =
"--pid=2081\000\300?\177\000\000\200\203ҝ\325U\000\000\224z\253\300?\177\000"
        gdbpid = 2343
        exename =
"/home/richard/bin/qgis_all/master/debug/bin/qgis\000ѱ\377\r\000\000\000\350ϱ\377\375\177\000\000\360ϱ\377\375\177\000\000\001.w\235\325U\000\000\001\000\000\000\000\000\000\000Ђ;\243\325U\000\000\240>\271\235\325U\000\000\377\377\377\377\000\000\000\000p縝\325U\000\000\300?\177\000\000\000k\021\236\325U\000\000\000.w\235\325U\000\000\060.w\235\325U\000\000\031\225\343\273?\177\000\000\000\000\000\000\000\000\000\000\230 at g\273?\177\000\000Hѱ\377\375\177\000\000\000;\f\273?\177\000\000\030\000\000\000\000\000\000\000\001\000\000\000\000\000\000\000\220"...
        len = 48
#2  <signal handler called>
No locals.
#3  0x0000000000000000 in ?? ()
No symbol table info available.
#4  0x00007f3fc6ef31d3 in QgsLocatorWidget::acceptCurrentEntry
(this=0x55d59e05c030) at
/home/richard/dev/qgis/git/qgis/src/gui/locator/qgslocatorwidget.cpp:331
        index = {r = 18, c = 0, i = 94375961540352, m = 0x55d59e0630d0}
        result = {filter = 0x55d59ec8d650, displayString = {static null
= {<No data fields>}, d = 0x7f3f00005830}, description = {static null =
{<No data fields>}, d = 0x7f3fbbf23360 <QArrayData::shared_null>},
userData = {d = {data = {c = 48 '0', uc = 48 '0', s = -32464, sc = 48
'0', us = 33072, i = 33072, u = 33072, l = 139908559700272, ul =
139908559700272, b = 48, d = 6.9124012907033485e-310, f =
4.63437428e-41, real = 6.9124012907033485e-310, ll = 139908559700272,
ull = 139908559700272, o = 0x7f3f00008130, ptr = 0x7f3f00008130, shared
= 0x7f3f00008130}, type = 8, is_shared = 0, is_null = 0}}, icon = {d =
0x0}, score = 0.5}
#5  0x00007f3fc6ef5501 in
QtPrivate::FunctorCall<QtPrivate::IndexesList<>, QtPrivate::List<>,
void, void (QgsLocatorWidget::*)()>::call(void (QgsLocatorWidget::*)(),
QgsLocatorWidget*, void**) (f=(void
(QgsLocatorWidget::*)(QgsLocatorWidget * const)) 0x7f3fc6ef30c2
<QgsLocatorWidget::acceptCurrentEntry()>, o=0x55d59e05c030,
arg=0x7ffdffb1dae0) at
/usr/include/x86_64-linux-gnu/qt5/QtCore/qobjectdefs_impl.h:136
No locals.
#6  0x00007f3fc6ef526d in QtPrivate::FunctionPointer<void
(QgsLocatorWidget::*)()>::call<QtPrivate::List<>, void>(void
(QgsLocatorWidget::*)(), QgsLocatorWidget*, void**) (f=(void
(QgsLocatorWidget::*)(QgsLocatorWidget * const)) 0x7f3fc6ef30c2
<QgsLocatorWidget::acceptCurrentEntry()>, o=0x55d59e05c030,
arg=0x7ffdffb1dae0) at
/usr/include/x86_64-linux-gnu/qt5/QtCore/qobjectdefs_impl.h:169
No locals.
#7  0x00007f3fc6ef5095 in QtPrivate::QSlotObject<void
(QgsLocatorWidget::*)(), QtPrivate::List<>, void>::impl(int,
QtPrivate::QSlotObjectBase*, QObject*, void**, bool*) (which=1,
this_=0x55d59d98f5e0, r=0x55d59e05c030, a=0x7ffdffb1dae0, ret=0x0) at
/usr/include/x86_64-linux-gnu/qt5/QtCore/qobject_impl.h:120
No locals.
#8  0x00007f3fbbe6497f in QMetaObject::activate(QObject*, int, int,
void**) () from /lib/x86_64-linux-gnu/libQt5Core.so.5
No symbol table info available.
#9  0x00007f3fc0cddd95 in QAbstractItemView::activated(QModelIndex
const&) () from /lib/x86_64-linux-gnu/libQt5Widgets.so.5
No symbol table info available.
#10 0x00007f3fc0d25e87 in QTreeView::mouseDoubleClickEvent(QMouseEvent*)
() from /lib/x86_64-linux-gnu/libQt5Widgets.so.5
No symbol table info available.
#11 0x00007f3fc0ad96cf in QWidget::event(QEvent*) () from
/lib/x86_64-linux-gnu/libQt5Widgets.so.5
No symbol table info available.
#12 0x00007f3fc0bb82ce in QFrame::event(QEvent*) () from
/lib/x86_64-linux-gnu/libQt5Widgets.so.5
No symbol table info available.
#13 0x00007f3fc0ce9c3b in QAbstractItemView::viewportEvent(QEvent*) ()
from /lib/x86_64-linux-gnu/libQt5Widgets.so.5
No symbol table info available.
#14 0x00007f3fc0d27d0c in QTreeView::viewportEvent(QEvent*) () from
/lib/x86_64-linux-gnu/libQt5Widgets.so.5
No symbol table info available.
#15 0x00007f3fbbe35a4c in
QCoreApplicationPrivate::sendThroughObjectEventFilters(QObject*,
QEvent*) () from /lib/x86_64-linux-gnu/libQt5Core.so.5
No symbol table info available.
#16 0x00007f3fc0a98445 in QApplicationPrivate::notify_helper(QObject*,
QEvent*) () from /lib/x86_64-linux-gnu/libQt5Widgets.so.5
No symbol table info available.
#17 0x00007f3fc0aa028f in QApplication::notify(QObject*, QEvent*) ()
from /lib/x86_64-linux-gnu/libQt5Widgets.so.5
No symbol table info available.
#18 0x00007f3fc4c30a6b in QgsApplication::notify (this=0x7ffdffb1ec30,
receiver=0x55d59e05d7c0, event=0x7ffdffb1e2f0) at
/home/richard/dev/qgis/git/qgis/src/core/qgsapplication.cpp:315
        done = true
        __FUNCTION__ = "notify"
#19 0x00007f3fbbe35d68 in QCoreApplication::notifyInternal2(QObject*,
QEvent*) () from /lib/x86_64-linux-gnu/libQt5Core.so.5
No symbol table info available.
#20 0x00007f3fc0a9f262 in QApplicationPrivate::sendMouseEvent(QWidget*,
QMouseEvent*, QWidget*, QWidget*, QWidget**, QPointer<QWidget>&, bool)
() from /lib/x86_64-linux-gnu/libQt5Widgets.so.5
No symbol table info available.
#21 0x00007f3fc0af393b in ?? () from
/lib/x86_64-linux-gnu/libQt5Widgets.so.5
No symbol table info available.
#22 0x00007f3fc0af5faa in ?? () from
/lib/x86_64-linux-gnu/libQt5Widgets.so.5
No symbol table info available.
#23 0x00007f3fc0a9846c in QApplicationPrivate::notify_helper(QObject*,
QEvent*) () from /lib/x86_64-linux-gnu/libQt5Widgets.so.5
No symbol table info available.
#24 0x00007f3fc0a9fd34 in QApplication::notify(QObject*, QEvent*) ()
from /lib/x86_64-linux-gnu/libQt5Widgets.so.5
No symbol table info available.
#25 0x00007f3fc4c30a6b in QgsApplication::notify (this=0x7ffdffb1ec30,
receiver=0x55d5a31889c0, event=0x7ffdffb1e830) at
/home/richard/dev/qgis/git/qgis/src/core/qgsapplication.cpp:315
        done = true
        __FUNCTION__ = "notify"
#26 0x00007f3fbbe35d68 in QCoreApplication::notifyInternal2(QObject*,
QEvent*) () from /lib/x86_64-linux-gnu/libQt5Core.so.5
No symbol table info available.
#27 0x00007f3fbc7800e0 in
QGuiApplicationPrivate::processMouseEvent(QWindowSystemInterfacePrivate::MouseEvent*)
() from /lib/x86_64-linux-gnu/libQt5Gui.so.5
No symbol table info available.
#28 0x00007f3fbc781a25 in
QGuiApplicationPrivate::processWindowSystemEvent(QWindowSystemInterfacePrivate::WindowSystemEvent*)
() from /lib/x86_64-linux-gnu/libQt5Gui.so.5
No symbol table info available.
#29 0x00007f3fbc759cab in
QWindowSystemInterface::sendWindowSystemEvents(QFlags<QEventLoop::ProcessEventsFlag>)
() from /lib/x86_64-linux-gnu/libQt5Gui.so.5
No symbol table info available.
#30 0x00007f3f9f45c5a0 in ?? () from /lib/x86_64-linux-gnu/libQt5XcbQpa.so.5
No symbol table info available.
#31 0x00007f3fb8b09f67 in g_main_context_dispatch () from
/lib/x86_64-linux-gnu/libglib-2.0.so.0
No symbol table info available.
#32 0x00007f3fb8b0a1a0 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
No symbol table info available.
#33 0x00007f3fb8b0a22c in g_main_context_iteration () from
/lib/x86_64-linux-gnu/libglib-2.0.so.0
No symbol table info available.
#34 0x00007f3fbbe8e3ff in
QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>)
() from /lib/x86_64-linux-gnu/libQt5Core.so.5
No symbol table info available.
#35 0x00007f3fbbe33dba in
QEventLoop::exec(QFlags<QEventLoop::ProcessEventsFlag>) () from
/lib/x86_64-linux-gnu/libQt5Core.so.5
No symbol table info available.
#36 0x00007f3fbbe3cd24 in QCoreApplication::exec() () from
/lib/x86_64-linux-gnu/libQt5Core.so.5
No symbol table info available.
#37 0x000055d59c117bc9 in main (argc=1, argv=0x7ffdffb1ffb8) at
/home/richard/dev/qgis/git/qgis/src/app/main.cpp:1345
        profile = 0x55d59d7384e0
        presetStyle = {static null = {<No data fields>}, d = 0x55d59d966600}
        rootProfileFolder = {static null = {<No data fields>}, d =
0x55d59d784ab0}
        myLocaleOverrideFlag = false
        qgistor = <incomplete type>
        w = 600
        mySplashPath = {static null = {<No data fields>}, d =
0x7f3fc52f01c0 <QgsApplication::splashPath()::{lambda()#1}::operator()()
const::qstring_literal>}
        h = 300
        mypSplash = 0x55d59d97fd30
        qgis = 0x55d59db93ea0
        retval = -5112256
        manager = {<QObject> = {<No data fields>}, static
staticMetaObject = {d = {superdata = 0x7f3fbc2e5a00
<QObject::staticMetaObject>, stringdata = 0x7f3fc53e3680
<qt_meta_stringdata_QgsUserProfileManager>, data = 0x7f3fc53e3700
<qt_meta_data_QgsUserProfileManager>, static_metacall = 0x7f3fc5283a70
<QgsUserProfileManager::qt_static_metacall(QObject*, QMetaObject::Call,
int, void**)>, relatedMetaObjects = 0x0, extradata = 0x0}},
mWatchProfiles = false, mWatcher = std::unique_ptr<QFileSystemWatcher>
containing 0x0, mRootProfilePath = {static null = {<No data fields>}, d
= 0x55d59d784ab0}, mUserProfile = std::unique_ptr<QgsUserProfile>
containing 0x0, mSettings = std::unique_ptr<QSettings> containing
0x55d59d7847a0}
        profileFolder = {static null = {<No data fields>}, d =
0x55d59d784e10}
        mySettings = {<QObject> = {<No data fields>}, static
staticMetaObject = {d = {superdata = 0x7f3fbc2e5a00
<QObject::staticMetaObject>, stringdata = 0x7f3fc53d4900
<qt_meta_stringdata_QgsSettings>, data = 0x7f3fc53d4940
<qt_meta_data_QgsSettings>, static_metacall = 0x7f3fc526f9a8
<QgsSettings::qt_static_metacall(QObject*, QMetaObject::Call, int,
void**)>, relatedMetaObjects = 0x0, extradata = 0x0}}, static
sGlobalSettingsPath = {static null = {<No data fields>}, d =
0x55d59d98d0f0}, mUserSettings = 0x55d59d944f70, mGlobalSettings =
0x55d59d874120, mUsingGlobalArray = false}
        systemEnvVars = {d = 0x55d59d86ad90}
        activeStyleName = {static null = {<No data fields>}, d =
0x55d59d9973c0}
        i18nPath = {static null = {<No data fields>}, d = 0x55d59dbbd2c0}
        myUserLocale = {static null = {<No data fields>}, d =
0x55d59d997360}
        qttor = <incomplete type>
        myApp = {<QApplication> = {<No data fields>}, static
staticMetaObject = {d = {superdata = 0x7f3fc1159020
<QApplication::staticMetaObject>, stringdata = 0x7f3fc53c3920
<qt_meta_stringdata_QgsApplication>, data = 0x7f3fc53c3a80
<qt_meta_data_QgsApplication>, static_metacall = 0x7f3fc52582d6
<QgsApplication::qt_static_metacall(QObject*, QMetaObject::Call, int,
void**)>, relatedMetaObjects = 0x0, extradata = 0x0}}, static
QGIS_ORGANIZATION_NAME = 0x7f3fc52ef7c8 "QGIS", static
QGIS_ORGANIZATION_DOMAIN = 0x7f3fc52ef7cd "qgis.org", static
QGIS_APPLICATION_NAME = 0x7f3fc52ef7d6 "QGIS3", static
mFileOpenEventReceiver29900 = 0x55d59db93ea0, static
mFileOpenEventList29900 = {<QList<QString>> =
{<QListSpecialMethods<QString>> = {<No data fields>}, {p = {static
shared_null = {ref = {atomic = {_q_value = {<std::__atomic_base<int>> =
{static _S_alignment = 4, _M_i = -1}, <No data fields>}}}, alloc = 0,
begin = 0, end = 0, array = {0x0}}, d = 0x7f3fbbf25960
<QListData::shared_null>}, d = 0x7f3fbbf25960
<QListData::shared_null>}}, <No data fields>}, static mUIThemeName29900
= {static null = {<No data fields>}, d = 0x7f3fbbf23360
<QArrayData::shared_null>}, static mPrefixPath29900 = {static null =
<same as static member of an already seen type>, d = 0x55d59d976ca0},
static mPluginPath29900 = {static null = <same as static member of an
already seen type>, d = 0x55d59d973600}, static mPkgDataPath29900 =
{static null = <same as static member of an already seen type>, d =
0x55d59d98d360}, static mLibraryPath29900 = {static null = <same as
static member of an already seen type>, d = 0x55d59d973820}, static
mLibexecPath29900 = {static null = <same as static member of an already
seen type>, d = 0x55d59d9738b0}, static mThemeName29900 = {static null =
<same as static member of an already seen type>, d = 0x7f3fc52efd60
<QgsApplication::setUITheme(QString const&)::{lambda()#2}::operator()()
const::qstring_literal>}, static mDefaultSvgPaths29900 =
{<QList<QString>> = {<QListSpecialMethods<QString>> = {<No data
fields>}, {p = {static shared_null = {ref = {atomic = {_q_value =
{<std::__atomic_base<int>> = {static _S_alignment = 4, _M_i = -1}, <No
data fields>}}}, alloc = 0, begin = 0, end = 0, array = {0x0}}, d =
0x55d59d86adc0}, d = 0x55d59d86adc0}}, <No data fields>}, static
mSystemEnvVars29900 = {d = 0x55d59d86ad90}, static mConfigPath29900 =
{static null = {<No data fields>}, d = 0x55d59d98d220}, static
mRunningFromBuildDir29900 = false, static mBuildSourcePath29900 =
{static null = <same as static member of an already seen type>, d =
0x7f3fbbf23360 <QArrayData::shared_null>}, static mBuildOutputPath29900
= {static null = <same as static member of an already seen type>, d =
0x7f3fbbf23360 <QArrayData::shared_null>}, static mGdalSkipList29900 =
{<QList<QString>> = {<QListSpecialMethods<QString>> = {<No data
fields>}, {p = {static shared_null = {ref = {atomic = {_q_value =
{<std::__atomic_base<int>> = {static _S_alignment = 4, _M_i = -1}, <No
data fields>}}}, alloc = 0, begin = 0, end = 0, array = {0x0}}, d =
0x7f3fbbf25960 <QListData::shared_null>}, d = 0x7f3fbbf25960
<QListData::shared_null>}}, <No data fields>}, static mMaxThreads29900 =
4, static mAuthDbDirPath29900 = {static null = {<No data fields>}, d =
0x55d59d98d220}, static sUserName = {static null = <same as static
member of an already seen type>, d = 0x55d59d8dab20}, static
sUserFullName = {static null = <same as static member of an already seen
type>, d = 0x55d59df6b870}, static sPlatformName = {static null = <same
as static member of an already seen type>, d = 0x55d59d7860a0},
mIconCache = {d = 0x55d59d871fe0}, mDataItemProviderRegistry =
0x55d59e4dbbf0, mApplicationMembers = 0x55d59d866e20, static
sApplicationMembers = 0x0}
        customizationsettings = 0x55d59d944f90
        useCustomVars = false
        myPixmap = <incomplete type>
        __FUNCTION__ = "main"
        mySnapshotFileName = {static null = {<No data fields>}, d =
0x7f3fbbf23360 <QArrayData::shared_null>}
        configLocalStorageLocation = {static null = {<No data fields>},
d = 0x55d59d784930}
        profileName = {static null = {<No data fields>}, d = 0x55d59d7860d0}
        mySnapshotWidth = 800
        mySnapshotHeight = 600
        myHideSplash = false
        mySkipVersionCheck = false
        myRestoreDefaultWindowState = false
        myRestorePlugins = true
        myCustomization = true
        dxfOutputFile = {static null = {<No data fields>}, d =
0x7f3fbbf23360 <QArrayData::shared_null>}
        dxfSymbologyMode = QgsDxfExport::SymbolLayerSymbology
        dxfScale = 50000
        dxfEncoding = {static null = {<No data fields>}, d =
0x55d59c11f580 <main::{lambda()#1}::operator()() const::qstring_literal>}
        dxfPreset = {static null = {<No data fields>}, d =
0x7f3fbbf23360 <QArrayData::shared_null>}
        dxfExtent = {mXmin = 0, mYmin = 0, mXmax = 0, mYmax = 0}
        myInitialExtent = {static null = {<No data fields>}, d =
0x55d59c11f5c0 <main::{lambda()#2}::operator()() const::qstring_literal>}
        myTranslationCode = {static null = {<No data fields>}, d =
0x55d59d998dd0}
        configpath = {static null = {<No data fields>}, d =
0x7f3fbbf23360 <QArrayData::shared_null>}
        authdbdirectory = {static null = {<No data fields>}, d =
0x7f3fbbf23360 <QArrayData::shared_null>}
        pythonfile = {static null = {<No data fields>}, d =
0x7f3fbbf23360 <QArrayData::shared_null>}
        customizationfile = {static null = {<No data fields>}, d =
0x7f3fbbf23360 <QArrayData::shared_null>}
        globalsettingsfile = {static null = {<No data fields>}, d =
0x55d59d98d0f0}
        args = {<QList<QString>> = {<QListSpecialMethods<QString>> =
{<No data fields>}, {p = {static shared_null = {ref = {atomic =
{_q_value = {<std::__atomic_base<int>> = {static _S_alignment = 4, _M_i
= -1}, <No data fields>}}}, alloc = 0, begin = 0, end = 0, array =
{0x0}}, d = 0x55d59d738250}, d = 0x55d59d738250}}, <No data fields>}
        myUseGuiFlag = true
        settings = {<QObject> = {<No data fields>}, static
staticMetaObject = {d = {superdata = 0x7f3fbc2e5a00
<QObject::staticMetaObject>, stringdata = 0x7f3fc53d4900
<qt_meta_stringdata_QgsSettings>, data = 0x7f3fc53d4940
<qt_meta_data_QgsSettings>, static_metacall = 0x7f3fc526f9a8
<QgsSettings::qt_static_metacall(QObject*, QMetaObject::Call, int,
void**)>, relatedMetaObjects = 0x0, extradata = 0x0}}, static
sGlobalSettingsPath = {static null = {<No data fields>}, d =
0x55d59d98d0f0}, mUserSettings = 0x55d59d737e30, mGlobalSettings = 0x0,
mUsingGlobalArray = false}
gdb returned 0



On 12-10-17 07:42, Nyall Dawson wrote:
> Hi Richard,
> 
> On 9 October 2017 at 23:10, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>>
>> (sorry for long email and lot of questions...
>> tldr; I think qlocator is UBERCOOL!!!! and want to use if for everything)
>> for a screenie, see:
>> http://pix.toile-libre.org/upload/original/1507554555.png
> 
> Awesome... that's what we like to see!
> 
> 
>> # QUESTION: should we create base (geocoder)classes for the
>> GeocoderLocator and GeocoderFilter (in cpp or python):
>> - I created a baseclass for my 2 geocoders, thinking it would be
>> helpfull to have something like 'mapToResult', but after some initial
>> tests I think it is maybe only usefull to define some scale presets
>> (like in current version of this plugin)
>> - these baseclasses could be python or cpp...
> 
> I'd say not yet. I think in future we'll need these, but at the moment
> I don't believe we know enough about what we require from such a base
> class. I'd rather we let things "settle" and then see what the common
> functionality is across the various geocoder implementations.
> 
>> # QUESTION: IF a service does not have a suggest-service (like
>> Nominatim) adding a space ' ' at the end to force a search
>> - Nominatim is not supposed to be used as a suggest service (see [0]) in
>> contrast to the PDOK geocoder), so I decided to do the actual
>> GET-request as soon as the user added a space in the end to let us know
>> a searchstring was ended. This is just an idea, if others have better
>> idea's just let us know
> 
> I'm not sure how to handle this situation. Right now I can't think of
> a nicer approach than what you've taken.
> 
> 
>> # QUESTION: should we have a (cpp/python?) NetworkAccessManager(factory)
>> somewhere?
>> - I took Boundless networkaccessmanager.py to do the HTTP requests. The
>> advantage of this class is that it mimics http2 lib interface, BUT
>> actually uses the Qt/QgsNetworking classings...
>> I think we (as in QGIS) should have such a class in core (be it cpp or
>> python)
> 
> No objections here... but I'll let boundless take the lead here, if
> they think it's suitable for inclusion in master/the stable API.
> 
>> # QUESTION: having different geocoder locators running:
>> synchron/blocking or asynchron/non-blocking networking?
>> Because of the fast suggest service of I used the blocking way, but I'm
>> not sure what the preferred way is here. Also it is not fully clear to
>> me what to do with running requests (if you type very fast....)
> 
> The locator should handle this situation fine. What happens is that:
> 
> 1. as a search string is entered, that string is passed to every
> filter's "fetchResults" method, each of which runs in a different
> thread.
> 2. results are added to the list as soon as a filter reports each one
> - it doesn't wait until the individual filter is finished, or any
> other filters are finished.
> 
> So a slow filter will not block the results coming back from a fast filter.
> 
> However - when a new string is entered (or a few extra characters
> added to the string), the locator won't fire up a new search until all
> the filters have finished the last request. So an individual filter
> will only EVER have a single request happening at a time. This does
> mean that filters which are slow to return can potential delay new
> searches from occurring. To avoid this, well behaved filters should
> use the passed QgsFeedback and check for cancelation (or attach to
> it's canceled signal) and abort a running request as soon as possible.
> 
>> # QUESTION: is a normal plugin the right thing to do?
>> - in the implementation you actually have to do 2 things:
>> 1) register and deregister the LocatorFilter
>> 2) create and implement the actual QgsLocatorFilter
>> It is easy to do this as a plugin too (as you can see). I'm ok with
>> every country implementing its QLocator (do we need a 'term/word' for
>> it?) and add it as plugin
> 
> Yep, I think that's the best approach. Then users can install whatever
> search plugins they find useful for their own particular workflow.
> 
>> # QUESTION: should a Filter already have a NetworkAccessManager and an iface
>> - if implemented as a plugin, you have the iface to actually get a
>> handle to the mapcanvas etc etc. (you need it so check crs or let themap
>> zoom/pan) I was wondering if a QgsLocator should not actually be able to
>> get to the mapcanvas (directly, or via current QgsProject)
>> Same with an actual NetworkAccessManager...
> 
> I think your approach is fine here (using iface to get the canvas).
> Locator filters are purely a core class, so can't rely on gui widgets
> like the canvas.
> 
>> # QUESTION: why only 3 chars for prefix? (better make this configurable?)
>> - I think it would be best if a user can decide him/herself to which
>> locators to use, and thus decide what prefixes to use for them. In my
>> case I would do: p (for pdok), f (for features), o (for osm/nomanitim)
>> and g (for google). Others are not so interesting to e...
>> I think only having the possibility to use 3 character prefixes is not
>> very usefull?
> 
> Ok - so the rationale here is that we DON'T want plugins to "steal"
> all the best key combinations and prevent us from using these for
> future core locator uses. E.g. if we allow a plugin to use the "o"
> shortcut for OSM search, we'll never be able to take that back and use
> "o" for "open file" (or something else). That's why I took the
> somewhat harsh approach of restricting plugins to a minimum 3
> character shortcut. I think in future (as we see greater use of
> locator and have a better idea of how it's being used) we could
> potentially grant widely used 3rd party plugins access to the
> whitelist to avoid this restriction.
> 
> But for now, I'd rather play it safe and keep this restriction in place.
> 
> Of course, we could also potentially allow users to configure the
> shortcuts (Qt Creator does this) so they can do whatever the want.
> 
>> #    would be cool to be able to have a object-type to scale mapping for
>> all geocoders, so  you determine for every object type on which z-level
>> (exact) you want to come... I tried to do that by doing:
>>     ADDRESS = 750
>>     STREET = 1500
>>     ZIP = 3000
>>     PLACE = 30000
>>     CITY = 120000
>>     ISLAND = 250000
>>     COUNTRY = 4000000
>> But not sure if this is the best way.
> 
> That's a good idea! We could use the feature bounding box for
> non-point features, and then fall back to some predefined scales like
> this for point results.
> 
>> # QUESTION: why short result texts with osm (missing the 'types' of the
>> object)
>> - the results (of osm) seem to be cut of rather short?
> 
> I don't understand... have you got an example?
> 
> 
>> # QUESTION: should the BaseGeocoderLocator set a point or label? As Option?
>> - Alesandro's geocoder plugin (for 2.x) put's a point/label in the map.
>> I was wondering if this should maybe be an (optional) thing in a base
>> class too? Maybe adding all properties that you receive from the geocoder
> 
> We could also flash the point/line/polygon match geometry... I've no
> strong opinions here yet.
> 
> 
>> # QUESTION: during loading/reloading of the plugin I had a LOT of crashes:
>> ^[QGIS died on signal 11[New LWP 26919]
>> [New LWP 26920]
>> [New LWP 26921]
>> etc
>> Not sure if this is my install, or has something to do with this plugin,
>> or the combi of network-threads and application threads...
>> Please confirm.
> 
> Run a debug build, and get a backtrace. Then we'll talk ;)
> 
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From noreply at qgis.org  Wed Oct 11 23:55:21 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 12 Oct 2017 06:55:21 -0000
Subject: [QGIS-Developer] Plugin [1325] inSALMO CellFileMaker approval
	notification.
Message-ID: <20171012065521.22328.19057@320558c5528b>


Plugin inSALMO CellFileMaker approval by zimbogisgeek.
The plugin version "[1325] inSALMO CellFileMaker 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/CellFileMaker/

From noreply at qgis.org  Wed Oct 11 23:56:08 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 12 Oct 2017 06:56:08 -0000
Subject: [QGIS-Developer] Plugin [1326] inSALMO HydroFileMaker approval
	notification.
Message-ID: <20171012065608.16920.90984@320558c5528b>


Plugin inSALMO HydroFileMaker approval by zimbogisgeek.
The plugin version "[1326] inSALMO HydroFileMaker 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/HydroFileMaker/

From noreply at qgis.org  Thu Oct 12 00:02:42 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 12 Oct 2017 07:02:42 -0000
Subject: [QGIS-Developer] Plugin [1346] Geodesic Densifier approval
	notification.
Message-ID: <20171012070242.22328.77198@320558c5528b>


Plugin Geodesic Densifier approval by zimbogisgeek.
The plugin version "[1346] Geodesic Densifier 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/GeodesicDensifier/

From noreply at qgis.org  Thu Oct 12 00:08:01 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 12 Oct 2017 07:08:01 -0000
Subject: [QGIS-Developer] Plugin [1349] GeoHey Toolbox approval notification.
Message-ID: <20171012070801.16086.99976@320558c5528b>


Plugin GeoHey Toolbox approval by zimbogisgeek.
The plugin version "[1349] GeoHey Toolbox 0.1" is now approved
Link: http://plugins.qgis.org/plugins/GeoHey-Toolbox/

From noreply at qgis.org  Thu Oct 12 00:08:03 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 12 Oct 2017 07:08:03 -0000
Subject: [QGIS-Developer] Plugin [1349] GeoHey Toolbox approval notification.
Message-ID: <20171012070803.22328.10561@320558c5528b>


Plugin GeoHey Toolbox approval by zimbogisgeek.
The plugin version "[1349] GeoHey Toolbox 0.1" is now approved
Link: http://plugins.qgis.org/plugins/GeoHey-Toolbox/

From apasotti at gmail.com  Thu Oct 12 00:10:29 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 12 Oct 2017 09:10:29 +0200
Subject: [QGIS-Developer] Moving qgsnativealgorithms to analysis lib?
In-Reply-To: <CAB28AsjXjPTiZP+SuPy1ZTfsUQobEf0fv-dtCQg=u0WEXHcL4Q@mail.gmail.com>
References: <CAB28AsjXjPTiZP+SuPy1ZTfsUQobEf0fv-dtCQg=u0WEXHcL4Q@mail.gmail.com>
Message-ID: <CAL5Q670=-X9gG09VwoHmrC+ZkSyYLsrT6bdfr-o1k1D=K=j2iQ@mail.gmail.com>

On Thu, Oct 12, 2017 at 6:28 AM, Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> Hi all,
>
> Just after some opinions on whether or not the native c++ processing
> algorithm implementations (qgsnativealgorithms.cpp/.h) should
> ultimately reside in core or analysis.
>
> Up till 3.0 analysis has been a bit of a funny library, since it mixed
> up the logic for the analysis methods with their ui interface
> (requiring progress dialogs and the like). So it kind of sat above
> both core and gui, but below app.
>
> That's all been cleaned up now for 3.0, so analysis no longer has any
> use of gui methods. Now it could potentially sit just above the core
> library, and be used in non-gui situations like qgis server and
> qfield. Accordingly, I think it's the right place for these c++
> processing algorithms to ultimately sit.
>
> But I don't want to restrict ourselves by doing this...
>
> So, qfield and qgis server maintainers: would moving these
> implementations to analysis prevent you from using them in future? Do
> you have issues with linking in analysis to your applications?
>
> Nyall
>


Hi Nyall,

thanks for this cleanup, as long as GUI is not required, I don't expect any
problem in linking it from server in the future.


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171012/040492bb/attachment.html>

From noreply at qgis.org  Thu Oct 12 00:09:20 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 12 Oct 2017 07:09:20 -0000
Subject: [QGIS-Developer] Plugin [1102] AequilibraE approval notification.
Message-ID: <20171012070920.10019.23858@320558c5528b>


Plugin AequilibraE approval by zimbogisgeek.
The plugin version "[1102] AequilibraE 0.3.5.8" is now approved
Link: http://plugins.qgis.org/plugins/AequilibraE/

From wonder.sk at gmail.com  Thu Oct 12 01:10:25 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 12 Oct 2017 10:10:25 +0200
Subject: [QGIS-Developer] Moving qgsnativealgorithms to analysis lib?
In-Reply-To: <CAB28AsjXjPTiZP+SuPy1ZTfsUQobEf0fv-dtCQg=u0WEXHcL4Q@mail.gmail.com>
References: <CAB28AsjXjPTiZP+SuPy1ZTfsUQobEf0fv-dtCQg=u0WEXHcL4Q@mail.gmail.com>
Message-ID: <CAC2XbFfioX506iUUHZW41YrxsnNZg1+k4YR6XtkTR8bBQ1fB5w@mail.gmail.com>

Hi Nyall

On Thu, Oct 12, 2017 at 6:28 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> Hi all,
>
> Just after some opinions on whether or not the native c++ processing
> algorithm implementations (qgsnativealgorithms.cpp/.h) should
> ultimately reside in core or analysis.
>
> Up till 3.0 analysis has been a bit of a funny library, since it mixed
> up the logic for the analysis methods with their ui interface
> (requiring progress dialogs and the like). So it kind of sat above
> both core and gui, but below app.
>
> That's all been cleaned up now for 3.0, so analysis no longer has any
> use of gui methods. Now it could potentially sit just above the core
> library, and be used in non-gui situations like qgis server and
> qfield. Accordingly, I think it's the right place for these c++
> processing algorithms to ultimately sit.

+1 for moving algorithm implementations to the analysis lib - I think
that was always the idea :-) And many thanks for the cleanups!

Cheers
Martin

From wonder.sk at gmail.com  Thu Oct 12 01:20:27 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 12 Oct 2017 10:20:27 +0200
Subject: [QGIS-Developer] Future of OSM integration
Message-ID: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>

Hi

What do people think about the OpenStreetMap integration in Vector >
OpenStreetMap menu?

My original plan for it was to have a convenient way of downloading
and viewing of OSM data as background maps for project, however I have
a feeling that the implementation somehow stayed far behind my grand
plans :-)

The GUI is quite clunky and weird to use (it is really just a thin
wrapper of underlying classes), there are some bugs, it does not
support the less verbose .pbf format of OSM data... Also there is more
than a dozen of other OSM-related plugins now and I have not really
done much to improve the existing code.

So my question really is - shall we just get rid of it? Would anyone
miss it? :-)

Cheers
Martin

From tim at kartoza.com  Thu Oct 12 01:26:29 2017
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 12 Oct 2017 10:26:29 +0200
Subject: [QGIS-Developer] Future of OSM integration
In-Reply-To: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>
References: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>
Message-ID: <74306526-F41A-42A0-A787-4F0584621106@kartoza.com>

Hi

> On 12 Oct 2017, at 10:20, Martin Dobias <wonder.sk at gmail.com> wrote:
> 
> Hi
> 
> What do people think about the OpenStreetMap integration in Vector >
> OpenStreetMap menu?
> 
> My original plan for it was to have a convenient way of downloading
> and viewing of OSM data as background maps for project, however I have
> a feeling that the implementation somehow stayed far behind my grand
> plans :-)
> 
> The GUI is quite clunky and weird to use (it is really just a thin
> wrapper of underlying classes), there are some bugs, it does not
> support the less verbose .pbf format of OSM data... Also there is more
> than a dozen of other OSM-related plugins now and I have not really
> done much to improve the existing code.
> 
> So my question really is - shall we just get rid of it? Would anyone
> miss it? :-)

Sorry to say I wont miss it :-( There is quick-osm and InaSAFE also has a downloader and I think if we were going to have something in core, Quick OSM would be a better choice. So +1 from me to clean house. Let’s see if others have different ideas…

Regards

Tim


> 
> Cheers
> Martin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From madmanwoo at gmail.com  Thu Oct 12 01:28:59 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Thu, 12 Oct 2017 08:28:59 +0000
Subject: [QGIS-Developer] Future of OSM integration
In-Reply-To: <74306526-F41A-42A0-A787-4F0584621106@kartoza.com>
References: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>
 <74306526-F41A-42A0-A787-4F0584621106@kartoza.com>
Message-ID: <CAAi8Yg8V-rkS74R-EQ=2U2bv8h7jUw7XLmDzTgntrjkUjN5RvA@mail.gmail.com>

Does quick OSM give us the same download as local dataset feature. I have
never looked.

On Thu., 12 Oct. 2017, 6:26 pm Tim Sutton, <tim at kartoza.com> wrote:

> Hi
>
> > On 12 Oct 2017, at 10:20, Martin Dobias <wonder.sk at gmail.com> wrote:
> >
> > Hi
> >
> > What do people think about the OpenStreetMap integration in Vector >
> > OpenStreetMap menu?
> >
> > My original plan for it was to have a convenient way of downloading
> > and viewing of OSM data as background maps for project, however I have
> > a feeling that the implementation somehow stayed far behind my grand
> > plans :-)
> >
> > The GUI is quite clunky and weird to use (it is really just a thin
> > wrapper of underlying classes), there are some bugs, it does not
> > support the less verbose .pbf format of OSM data... Also there is more
> > than a dozen of other OSM-related plugins now and I have not really
> > done much to improve the existing code.
> >
> > So my question really is - shall we just get rid of it? Would anyone
> > miss it? :-)
>
> Sorry to say I wont miss it :-( There is quick-osm and InaSAFE also has a
> downloader and I think if we were going to have something in core, Quick
> OSM would be a better choice. So +1 from me to clean house. Let’s see if
> others have different ideas…
>
> Regards
>
> Tim
>
>
> >
> > Cheers
> > Martin
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171012/6d12f892/attachment-0001.html>

From lbartoletti at tuxfamily.org  Thu Oct 12 01:29:44 2017
From: lbartoletti at tuxfamily.org (Lbartoletti)
Date: Thu, 12 Oct 2017 10:29:44 +0200
Subject: [QGIS-Developer] Future of OSM integration
In-Reply-To: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>
References: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>
Message-ID: <20171012082944.5378130.23366.7749@tuxfamily.org>

Hi,

I can't write a solution but, personnally (and others I think ;)) , my little ‎dream is that QGIS replace JOSM to edit OSM data.

Loïc.

Envoyé de mon smartphone BlackBerry 10.
  Message d'origine  
De: Martin Dobias
Envoyé: jeudi 12 octobre 2017 10:20
À: qgis-dev
Objet: [QGIS-Developer] Future of OSM integration

Hi

What do people think about the OpenStreetMap integration in Vector >
OpenStreetMap menu?

My original plan for it was to have a convenient way of downloading
and viewing of OSM data as background maps for project, however I have
a feeling that the implementation somehow stayed far behind my grand
plans :-)

The GUI is quite clunky and weird to use (it is really just a thin
wrapper of underlying classes), there are some bugs, it does not
support the less verbose .pbf format of OSM data... Also there is more
than a dozen of other OSM-related plugins now and I have not really
done much to improve the existing code.

So my question really is - shall we just get rid of it? Would anyone
miss it? :-)

Cheers
Martin
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From sfkeller at gmail.com  Thu Oct 12 02:30:44 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Thu, 12 Oct 2017 11:30:44 +0200
Subject: [QGIS-Developer] Future of OSM integration
In-Reply-To: <20171012082944.5378130.23366.7749@tuxfamily.org>
References: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>
 <20171012082944.5378130.23366.7749@tuxfamily.org>
Message-ID: <CAFcOn28hwHYVSpmf-xvcam7QbsNzP4NjHVLTeiDMuUkUgy10Ag@mail.gmail.com>

Hi,

2017-10-12 10:29 GMT+02:00 Lbartoletti <lbartoletti at tuxfamily.org>:
> I can't write a solution but, personnally (and others I think ;)) , my little ‎dream is that QGIS replace JOSM to edit OSM data.

Well, that will stay a dream, since OSM has a topology/no schema data
model. QGIS perhap can serve as an editor for very specialized use
cases (while being careful not to destroy OSM structures).


2017-10-12 10:20 GMT+02:00 Martin Dobias <wonder.sk at gmail.com>:
> Hi
>
> What do people think about the OpenStreetMap integration in Vector >
> OpenStreetMap menu?
>
> My original plan for it was to have a convenient way of downloading
> and viewing of OSM data as background maps for project, however I have
> a feeling that the implementation somehow stayed far behind my grand
> plans :-)

We really should differenciate the use cases:
* OSM as base map.
* OSM vector data (inc. POIs) for spatial analytics
* QGIS as OSM Editor

Use case 3.: is out of discussion currently.

Use case 1: QGIS has raster support of OSM data (WMS, WMTS, QMS etc.).
Thinking of OSM as vector base map I would like to point to vector
tiles. Theres e.g. my Vector Tiles Reader plugin which is still in
active development (at leasst until end of this year!).

Use case 2: Thats also needed. Its about mapping OSM data (= topol.
geometries and key-value pairs) to relational layers (=
point/line/polygon and attributes plus ev. a tag attribute containing
a string with comma separated key/values).

Martins plugin seems to be one of those.

> So my question really is - shall we just get rid of it? Would anyone
> miss it? :-)

Surely OGR is/would be a good import library.
But I don't have an overview of the state of other plugins.
Anyone?

:Stefan

From hugo.mercier at oslandia.com  Thu Oct 12 02:43:28 2017
From: hugo.mercier at oslandia.com (Hugo Mercier)
Date: Thu, 12 Oct 2017 11:43:28 +0200
Subject: [QGIS-Developer] Future of OSM integration
In-Reply-To: <CAFcOn28hwHYVSpmf-xvcam7QbsNzP4NjHVLTeiDMuUkUgy10Ag@mail.gmail.com>
References: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>
 <20171012082944.5378130.23366.7749@tuxfamily.org>
 <CAFcOn28hwHYVSpmf-xvcam7QbsNzP4NjHVLTeiDMuUkUgy10Ag@mail.gmail.com>
Message-ID: <0e24be94-9266-a102-0ed9-a5b6d55f9061@oslandia.com>

Hi,

On 12/10/2017 11:30, Stefan Keller wrote:
> Hi,
> 
> 2017-10-12 10:29 GMT+02:00 Lbartoletti <lbartoletti at tuxfamily.org>:
>> I can't write a solution but, personnally (and others I think ;)) , my little ‎dream is that QGIS replace JOSM to edit OSM data.
> 
> Well, that will stay a dream, since OSM has a topology/no schema data
> model. QGIS perhap can serve as an editor for very specialized use
> cases (while being careful not to destroy OSM structures).
> 

Yeah, OSM data model is hard to fit into QGIS layer model, but we are
not that far I guess.
Support for hstore columns in qgis 3 for example could be reused in some
way for OSM tags.
And we would have to find a smart way to handle OSM relations.

It's a bit challenging, but that would be a very nice thing :)

From nirvn.asia at gmail.com  Thu Oct 12 02:50:53 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Thu, 12 Oct 2017 16:50:53 +0700
Subject: [QGIS-Developer] Future of OSM integration
In-Reply-To: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>
References: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>
Message-ID: <CAC_qv=oe-wv5wJpmZNvndSZ033yCDv750i+grn5ZLROoObDTuQ@mail.gmail.com>

Martin,

I was a pretty heavy user of this feature/plugin until a few months ago
when it stopped working under master. I moved to loading OSM through the
OGR provider (customized via osmconf.ini) and never looked back. I would
love for QGIS to regain some sort of native OSM data import, maybe through
processing, but ATM it seems the best path forward is to get rid of it.

Math

On Thu, Oct 12, 2017 at 3:20 PM, Martin Dobias <wonder.sk at gmail.com> wrote:

> Hi
>
> What do people think about the OpenStreetMap integration in Vector >
> OpenStreetMap menu?
>
> My original plan for it was to have a convenient way of downloading
> and viewing of OSM data as background maps for project, however I have
> a feeling that the implementation somehow stayed far behind my grand
> plans :-)
>
> The GUI is quite clunky and weird to use (it is really just a thin
> wrapper of underlying classes), there are some bugs, it does not
> support the less verbose .pbf format of OSM data... Also there is more
> than a dozen of other OSM-related plugins now and I have not really
> done much to improve the existing code.
>
> So my question really is - shall we just get rid of it? Would anyone
> miss it? :-)
>
> Cheers
> Martin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171012/da09b2e9/attachment.html>

From sfkeller at gmail.com  Thu Oct 12 05:27:10 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Thu, 12 Oct 2017 14:27:10 +0200
Subject: [QGIS-Developer] Future of OSM integration
In-Reply-To: <0e24be94-9266-a102-0ed9-a5b6d55f9061@oslandia.com>
References: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>
 <20171012082944.5378130.23366.7749@tuxfamily.org>
 <CAFcOn28hwHYVSpmf-xvcam7QbsNzP4NjHVLTeiDMuUkUgy10Ag@mail.gmail.com>
 <0e24be94-9266-a102-0ed9-a5b6d55f9061@oslandia.com>
Message-ID: <CAFcOn28ak9dVRqHA2d7+7auP9Yq40UB1rimhXiKXeGkrra2bXg@mail.gmail.com>

2017-10-12 11:43 GMT+02:00 Hugo Mercier <hugo.mercier at oslandia.com>:
> On 12/10/2017 11:30, Stefan Keller wrote:
...
> Support for hstore columns in qgis 3 for example could be reused in some

Yes, I'm excited to hear that hstore type is part of QGIS 3.

> And we would have to find a smart way to handle OSM relations.

Agreed. BUT: there is still the topology to handle:
Importers convert certain ways and relations to lines and polygons
and throw away the node-id just keeping the coordinates/support points.
How would you store these node-ids?

:Stefan

2017-10-12 11:43 GMT+02:00 Hugo Mercier <hugo.mercier at oslandia.com>:
> Hi,
>
> On 12/10/2017 11:30, Stefan Keller wrote:
>> Hi,
>>
>> 2017-10-12 10:29 GMT+02:00 Lbartoletti <lbartoletti at tuxfamily.org>:
>>> I can't write a solution but, personnally (and others I think ;)) , my little ‎dream is that QGIS replace JOSM to edit OSM data.
>>
>> Well, that will stay a dream, since OSM has a topology/no schema data
>> model. QGIS perhap can serve as an editor for very specialized use
>> cases (while being careful not to destroy OSM structures).
>>
>
> Yeah, OSM data model is hard to fit into QGIS layer model, but we are
> not that far I guess.
> Support for hstore columns in qgis 3 for example could be reused in some
> way for OSM tags.
> And we would have to find a smart way to handle OSM relations.
>
> It's a bit challenging, but that would be a very nice thing :)
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From sfkeller at gmail.com  Thu Oct 12 05:31:57 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Thu, 12 Oct 2017 14:31:57 +0200
Subject: [QGIS-Developer] Future of OSM integration
In-Reply-To: <CAC_qv=oe-wv5wJpmZNvndSZ033yCDv750i+grn5ZLROoObDTuQ@mail.gmail.com>
References: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>
 <CAC_qv=oe-wv5wJpmZNvndSZ033yCDv750i+grn5ZLROoObDTuQ@mail.gmail.com>
Message-ID: <CAFcOn2-xRwrvGOPRTqZph8Ls+ce06D=OHcRnd+Za9g+K2VFtoQ@mail.gmail.com>

2017-10-12 11:50 GMT+02:00 Mathieu Pellerin <nirvn.asia at gmail.com>:
> I was a pretty heavy user of this feature/plugin until a few months ago when
> it stopped working under master. I moved to loading OSM through the OGR
> provider (customized via osmconf.ini) and never looked back. I would love
> for QGIS to regain some sort of native OSM data import, maybe through
> processing, but ATM it seems the best path forward is to get rid of it.

That's IMHO not a bad strategy for QGIS.

:Stefan

P.S. Just in case  - and another shameless plug (besides Vector Tiles
Reader): There exists the HOT Export Tool (https://export.hotosm.org/)
and my OSMaxx tool (https://osmaxx.hsr.ch/) to export arbitrary
regions in "normalized" GIS formats (including aka hstore attribute
"tag"), like GeoPackage.



2017-10-12 11:50 GMT+02:00 Mathieu Pellerin <nirvn.asia at gmail.com>:
> Martin,
>
> I was a pretty heavy user of this feature/plugin until a few months ago when
> it stopped working under master. I moved to loading OSM through the OGR
> provider (customized via osmconf.ini) and never looked back. I would love
> for QGIS to regain some sort of native OSM data import, maybe through
> processing, but ATM it seems the best path forward is to get rid of it.
>
> Math
>
> On Thu, Oct 12, 2017 at 3:20 PM, Martin Dobias <wonder.sk at gmail.com> wrote:
>>
>> Hi
>>
>> What do people think about the OpenStreetMap integration in Vector >
>> OpenStreetMap menu?
>>
>> My original plan for it was to have a convenient way of downloading
>> and viewing of OSM data as background maps for project, however I have
>> a feeling that the implementation somehow stayed far behind my grand
>> plans :-)
>>
>> The GUI is quite clunky and weird to use (it is really just a thin
>> wrapper of underlying classes), there are some bugs, it does not
>> support the less verbose .pbf format of OSM data... Also there is more
>> than a dozen of other OSM-related plugins now and I have not really
>> done much to improve the existing code.
>>
>> So my question really is - shall we just get rid of it? Would anyone
>> miss it? :-)
>>
>> Cheers
>> Martin
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From andrea.aime at geo-solutions.it  Thu Oct 12 05:42:06 2017
From: andrea.aime at geo-solutions.it (Andrea Aime)
Date: Thu, 12 Oct 2017 14:42:06 +0200
Subject: [QGIS-Developer] Cleanup of SLD related issues
Message-ID: <CA+nxMTt6GfLQ6M4pS-7BL8AF_gkrfyPXCi2MvxLuQh8aK0i9uQ@mail.gmail.com>

Hi,
the ticket tracker contains a number of SLD related tickets in "open" state:
https://issues.qgis.org/projects/qgis/issues?utf8=%E2%9C%93&set_filter=1&f%5B%5D=status_id&op%5Bstatus_id%5D=o&f%5B%5D=subject&op%5Bsubject%5D=~&v%5Bsubject%5D%5B%5D=SLD&f%5B%5D=&c%5B%5D=tracker&c%5B%5D=status&c%5B%5D=priority&c%5B%5D=subject&c%5B%5D=assigned_to&c%5B%5D=updated_on&group_by=

At least a few of them have been fixed and should be closed.
Given that I had some interest in the topic lately and provided pull
requests fixing some of the above
tickets, I was wondering if it makes sense for me to get the right to close
tickets, so that I can do a bit of cleanup?

If that's not appropriate, I was wondering if someone with access could
close the tickets,
assuming I provide a list of course.

Cheers
Andrea

==
GeoServer Professional Services from the experts! Visit http://goo.gl/it488V
for more information.
==

Ing. Andrea Aime
@geowolf
Technical Lead

GeoSolutions S.A.S.
Via di Montramito 3/A
55054  Massarosa (LU)
phone: +39 0584 962313
fax: +39 0584 1660272
mob: +39  339 8844549

http://www.geo-solutions.it
http://twitter.com/geosolutions_it

AVVERTENZE AI SENSI DEL D.Lgs. 196/2003

Le informazioni contenute in questo messaggio di posta elettronica e/o
nel/i file/s allegato/i sono da considerarsi strettamente riservate. Il
loro utilizzo è consentito esclusivamente al destinatario del messaggio,
per le finalità indicate nel messaggio stesso. Qualora riceviate questo
messaggio senza esserne il destinatario, Vi preghiamo cortesemente di
darcene notizia via e-mail e di procedere alla distruzione del messaggio
stesso, cancellandolo dal Vostro sistema. Conservare il messaggio stesso,
divulgarlo anche in parte, distribuirlo ad altri soggetti, copiarlo, od
utilizzarlo per finalità diverse, costituisce comportamento contrario ai
principi dettati dal D.Lgs. 196/2003.

The information in this message and/or attachments, is intended solely for
the attention and use of the named addressee(s) and may be confidential or
proprietary in nature or covered by the provisions of privacy act
(Legislative Decree June, 30 2003, no.196 - Italy's New Data Protection
Code).Any use not in accord with its purpose, any disclosure, reproduction,
copying, distribution, or either dissemination, either whole or partial, is
strictly forbidden except previous formal approval of the named
addressee(s). If you are not the intended recipient, please contact
immediately the sender by telephone, fax or e-mail and delete the
information in this message that has been received in error. The sender
does not give any warranty or accept liability as the content, accuracy or
completeness of sent messages and accepts no responsibility  for changes
made after they were sent or for other risks which arise as a result of
e-mail transmission, viruses, etc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171012/804e3c59/attachment-0001.html>

From hugo.mercier at oslandia.com  Thu Oct 12 05:52:39 2017
From: hugo.mercier at oslandia.com (Hugo Mercier)
Date: Thu, 12 Oct 2017 14:52:39 +0200
Subject: [QGIS-Developer] Future of OSM integration
In-Reply-To: <CAFcOn28ak9dVRqHA2d7+7auP9Yq40UB1rimhXiKXeGkrra2bXg@mail.gmail.com>
References: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>
 <20171012082944.5378130.23366.7749@tuxfamily.org>
 <CAFcOn28hwHYVSpmf-xvcam7QbsNzP4NjHVLTeiDMuUkUgy10Ag@mail.gmail.com>
 <0e24be94-9266-a102-0ed9-a5b6d55f9061@oslandia.com>
 <CAFcOn28ak9dVRqHA2d7+7auP9Yq40UB1rimhXiKXeGkrra2bXg@mail.gmail.com>
Message-ID: <c715e4fc-8b56-fa3c-189f-7ca619e23d15@oslandia.com>



On 12/10/2017 14:27, Stefan Keller wrote:
> 2017-10-12 11:43 GMT+02:00 Hugo Mercier <hugo.mercier at oslandia.com>:
>> On 12/10/2017 11:30, Stefan Keller wrote:
> ...
>> Support for hstore columns in qgis 3 for example could be reused in some
> 
> Yes, I'm excited to hear that hstore type is part of QGIS 3.
> 
>> And we would have to find a smart way to handle OSM relations.
> 
> Agreed. BUT: there is still the topology to handle:
> Importers convert certain ways and relations to lines and polygons
> and throw away the node-id just keeping the coordinates/support points.
> How would you store these node-ids?

If I had a RDBMS, I'll use editable views for that. On-the-fly
geometries generated from nodes, ways and relations and triggers to make
sure the whole topology is always respected.

I don't have a solid solution yet, but virtual layers and/or geometry
generators and/or a SQLite db may be a base for a first implementation.

From adenaculture at gmail.com  Thu Oct 12 06:34:36 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 12 Oct 2017 09:34:36 -0400
Subject: [QGIS-Developer] Plugin [1346] Geodesic Densifier approval
	notification.
In-Reply-To: <20171012070242.22328.77198@320558c5528b>
References: <20171012070242.22328.77198@320558c5528b>
Message-ID: <CABPxTToqoVgQcqB5yfwzbpCMdHS6_W0xYSoZgKpHuJYqrt9ftg@mail.gmail.com>

I have not looked at this code, but from the description this tool is the
same as ShapeTools "Line to Geodesic Line" tool. Additionally ShapeTools
has a polygon to geodesic polygon tool which is a geodesic polygon
densifier tool. Perhaps I could have better named them to avoid confusion.

I have been thinking of renaming "Shape Tools" to "Geodesic Tools" because
it is focused on everything Geodesic. It doesn't really matter to me who is
developing what, but we probably shouldn't be duplicating efforts. It also
doesn't matter to me if there is some large organization who wants to take
on Geodesic tool work. I would be happy to merge Shape Tools into something
larger. What is important is that the functionality is there and those who
are maintaining it are committed to actively working on it and keeping it
up to date.

If anyone is doing anything with geodesic tools I would like to know about
it. It would be much better to work together than to work separately and
duplicate the same tools. I am currently working with Victor to make Shape
Tools work with processing. I am also working on a geodesic line measuring
tool and have been contemplating a suite of interactive geodesic shape
drawing tools. If anyone is also interested in this please let me know.

For the community, is there any problem with renaming "Shape Tools"
to"Geodesic Tools?" I think that would better clarify what it is about.

Thanks,

Calvin Hamilton



On Thu, Oct 12, 2017 at 3:02 AM, <noreply at qgis.org> wrote:

>
> Plugin Geodesic Densifier approval by zimbogisgeek.
> The plugin version "[1346] Geodesic Densifier 0.1 Experimental" is now
> approved
> Link: http://plugins.qgis.org/plugins/GeodesicDensifier/
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171012/a4b018b1/attachment.html>

From etienne.trimaille at gmail.com  Thu Oct 12 06:42:44 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Thu, 12 Oct 2017 15:42:44 +0200
Subject: [QGIS-Developer] Future of OSM integration
In-Reply-To: <c715e4fc-8b56-fa3c-189f-7ca619e23d15@oslandia.com>
References: <CAC2XbFeg5fP==KUeEj3CUYWakJLUpSqm3L_vn=Dw-c0S744FjA@mail.gmail.com>
 <20171012082944.5378130.23366.7749@tuxfamily.org>
 <CAFcOn28hwHYVSpmf-xvcam7QbsNzP4NjHVLTeiDMuUkUgy10Ag@mail.gmail.com>
 <0e24be94-9266-a102-0ed9-a5b6d55f9061@oslandia.com>
 <CAFcOn28ak9dVRqHA2d7+7auP9Yq40UB1rimhXiKXeGkrra2bXg@mail.gmail.com>
 <c715e4fc-8b56-fa3c-189f-7ca619e23d15@oslandia.com>
Message-ID: <CAMtDFLL7A4ASgnfQFB=gBG=OziADd6KOXDzwRsGxi5jkqNmW7g@mail.gmail.com>

Editing OSM data in QGIS looks quite difficult. The OSM data format is
quite far away from any GIS format. And relations are totally not
supported. I think it's out of scope for now

> Does quick OSM give us the same download as local dataset feature. I have
never looked.

Yes it does. You can either use the Overpass API to query the OSM database
or you can open a local OSM file (PBF or XML) using your custom osmconf.ini.

I think QGIS should provide a way to :
* download an OSM dataset from overpass and save it to a local file. It was
only XML format, but it seems PBF is supported since a few months only
http://gis.19327.n8.nabble.com/PBF-output-prototype-available-for-testing-td5884534.html
so I might be good to load the PBF file with OGR now.
* load this file in QGIS, without having the "other_tags" column (or having
hstore as mentioned). QuickOSM is doing a first loop to determine every
field which are needed in the vector layer, it's quite time-consuming.

2017-10-12 14:52 GMT+02:00 Hugo Mercier <hugo.mercier at oslandia.com>:

>
>
> On 12/10/2017 14:27, Stefan Keller wrote:
> > 2017-10-12 11:43 GMT+02:00 Hugo Mercier <hugo.mercier at oslandia.com>:
> >> On 12/10/2017 11:30, Stefan Keller wrote:
> > ...
> >> Support for hstore columns in qgis 3 for example could be reused in some
> >
> > Yes, I'm excited to hear that hstore type is part of QGIS 3.
> >
> >> And we would have to find a smart way to handle OSM relations.
> >
> > Agreed. BUT: there is still the topology to handle:
> > Importers convert certain ways and relations to lines and polygons
> > and throw away the node-id just keeping the coordinates/support points.
> > How would you store these node-ids?
>
> If I had a RDBMS, I'll use editable views for that. On-the-fly
> geometries generated from nodes, ways and relations and triggers to make
> sure the whole topology is always respected.
>
> I don't have a solid solution yet, but virtual layers and/or geometry
> generators and/or a SQLite db may be a base for a first implementation.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171012/03384c81/attachment.html>

From andre+joost at nurfuerspam.de  Thu Oct 12 07:37:45 2017
From: andre+joost at nurfuerspam.de (Andre Joost)
Date: Thu, 12 Oct 2017 16:37:45 +0200
Subject: [QGIS-Developer] Future of OSM integration
Message-ID: <trinity-59f557ab-ba67-4c17-b4b5-11864297c3d3-1507819065310@3c-app-gmx-bs75>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171012/0015e17a/attachment.html>

From luipir at gmail.com  Thu Oct 12 13:54:46 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Thu, 12 Oct 2017 22:54:46 +0200
Subject: [QGIS-Developer] Cleanup of SLD related issues
In-Reply-To: <CA+nxMTt6GfLQ6M4pS-7BL8AF_gkrfyPXCi2MvxLuQh8aK0i9uQ@mail.gmail.com>
References: <CA+nxMTt6GfLQ6M4pS-7BL8AF_gkrfyPXCi2MvxLuQh8aK0i9uQ@mail.gmail.com>
Message-ID: <CAFO80_rGKNtEU=JG-W=u-mhct2MNxha6Bro05g-Yi7_uzGNP2A@mail.gmail.com>

+1 to give you right access for cleanup... no one better then you on SLD matter.

chhers
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 12 October 2017 at 14:42, Andrea Aime <andrea.aime at geo-solutions.it> wrote:
> Hi,
> the ticket tracker contains a number of SLD related tickets in "open" state:
> https://issues.qgis.org/projects/qgis/issues?utf8=%E2%9C%93&set_filter=1&f%5B%5D=status_id&op%5Bstatus_id%5D=o&f%5B%5D=subject&op%5Bsubject%5D=~&v%5Bsubject%5D%5B%5D=SLD&f%5B%5D=&c%5B%5D=tracker&c%5B%5D=status&c%5B%5D=priority&c%5B%5D=subject&c%5B%5D=assigned_to&c%5B%5D=updated_on&group_by=
>
> At least a few of them have been fixed and should be closed.
> Given that I had some interest in the topic lately and provided pull
> requests fixing some of the above
> tickets, I was wondering if it makes sense for me to get the right to close
> tickets, so that I can do a bit of cleanup?
>
> If that's not appropriate, I was wondering if someone with access could
> close the tickets,
> assuming I provide a list of course.
>
> Cheers
> Andrea
>
> ==
> GeoServer Professional Services from the experts! Visit http://goo.gl/it488V
> for more information.
> ==
>
> Ing. Andrea Aime
> @geowolf
> Technical Lead
>
> GeoSolutions S.A.S.
> Via di Montramito 3/A
> 55054  Massarosa (LU)
> phone: +39 0584 962313
> fax: +39 0584 1660272
> mob: +39  339 8844549
>
> http://www.geo-solutions.it
> http://twitter.com/geosolutions_it
>
> AVVERTENZE AI SENSI DEL D.Lgs. 196/2003
>
> Le informazioni contenute in questo messaggio di posta elettronica e/o nel/i
> file/s allegato/i sono da considerarsi strettamente riservate. Il loro
> utilizzo è consentito esclusivamente al destinatario del messaggio, per le
> finalità indicate nel messaggio stesso. Qualora riceviate questo messaggio
> senza esserne il destinatario, Vi preghiamo cortesemente di darcene notizia
> via e-mail e di procedere alla distruzione del messaggio stesso,
> cancellandolo dal Vostro sistema. Conservare il messaggio stesso, divulgarlo
> anche in parte, distribuirlo ad altri soggetti, copiarlo, od utilizzarlo per
> finalità diverse, costituisce comportamento contrario ai principi dettati
> dal D.Lgs. 196/2003.
>
> The information in this message and/or attachments, is intended solely for
> the attention and use of the named addressee(s) and may be confidential or
> proprietary in nature or covered by the provisions of privacy act
> (Legislative Decree June, 30 2003, no.196 - Italy's New Data Protection
> Code).Any use not in accord with its purpose, any disclosure, reproduction,
> copying, distribution, or either dissemination, either whole or partial, is
> strictly forbidden except previous formal approval of the named
> addressee(s). If you are not the intended recipient, please contact
> immediately the sender by telephone, fax or e-mail and delete the
> information in this message that has been received in error. The sender does
> not give any warranty or accept liability as the content, accuracy or
> completeness of sent messages and accepts no responsibility  for changes
> made after they were sent or for other risks which arise as a result of
> e-mail transmission, viruses, etc.
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From anitagraser at gmx.at  Thu Oct 12 13:56:24 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Thu, 12 Oct 2017 22:56:24 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
Message-ID: <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>

Thanks everyone so far! Please keep the info coming. I'll draft a blog post
on the weekend.

Regards,
Anita

On Thu, Oct 5, 2017 at 9:34 AM, Alessandro Pasotti <apasotti at gmail.com>
wrote:

> Hi Règis,
>
> thanks for the nice summary!
>
> Maybe it would be interesting for python devs to stress out how QGIS
> server 3 brings the bindings and the plugins to a new level: while the
> original filter-style python plugins, are still available, the new
> service-oriented plugin-based architecture allows Python developers to
> create new services (for example WPS) by implementing a new `QgsService`
> directly in Python. Overriding existing services is also possible.
>
> The server API has now full python bindings and a QGIS server can be
> easily implemented directly in Python and wrapped into your favourite
> framework (see this simple wsgi experiment: https://gist.github.com/
> elpaso/0cd7fb6a0518dc46c45557d9133438b8 ).
>
> For more examples of the API, I think there are some basic examples in the
> official Python tests: https://github.com/qgis/QGIS/
> blob/master/tests/src/python/test_qgsserver_services.py#L79
>
>
> Cheers
>
>
>
>
>
> On Wed, Oct 4, 2017 at 10:49 PM, Régis Haubourg <regis.haubourg at gmail.com>
> wrote:
>
>> Well, from a user point of view, that's a bit hard since all this is 90 %
>> refactoring.. which is supposed to be transparent for users.
>>
>> We have the trust and multithreaded features, that should (and early
>> testers today found it slower today) and the ability to code new services
>> using python.
>> We can also show some numbers about OGC conformity tests and the goal of
>> reaching OGC certification (WMS only by now).
>>
>> Alessandro, René-Luc and David, do you have some user oriented examples
>> for the new modular API ?
>>
>>
>>
>> 2017-10-04 22:18 GMT+02:00 Anita Graser <anitagraser at gmx.at>:
>>
>>> Great overview, thanks for drafting Régis!
>>>
>>> Some additional ideas: Could we add a section with the key improvements
>>> from an user perspective?
>>>
>>> I'm particularly intrigued by the services / plugins part. Could you
>>> elaborate?
>>>
>>> Regards,
>>> Anita
>>>
>>>
>>>
>>> On Wed, Oct 4, 2017 at 9:42 PM, Régis Haubourg <regis.haubourg at gmail.com
>>> > wrote:
>>>
>>>> Hi again,
>>>> here is my very first draft:
>>>>
>>>>  Several images can be pulled from the joined slides given at Foss4G-EU
>>>> here https://drive.google.com/file/d/0BzatQbprJ-hjWF95VzdHbGRsVEk
>>>> /view?usp=sharing
>>>>
>>>> René-Luc, David, Paul, don't hesitate to amend that!
>>>>
>>>> ------------------------------------------------------------
>>>> --------------------------------
>>>>
>>>>
>>>> *Qgis server refactoring is done!*
>>>> As you may know, QGIS is jumping to a new major version (yes!).
>>>> Doing so was made necessary because of the need to switch to python 3,
>>>> QT5, but also because we needed to break the QGIS API in several places.
>>>>
>>>> A year ago, a tiny troll
>>>> <https://github.com/qgis/qgis3.0_api/issues/63>from switzerland rang a
>>>> bell about the strong need for love server code base required.
>>>>
>>>> Indeed, the API was locked by some old methods of QGIS server. In
>>>> short, QGIS server was reparsing the qgs project file in his own way, and
>>>> created dependencies to part of QGIS we needed to drop.
>>>>
>>>> As outsourcing the server code base was not an option, so we had to
>>>> refactor it.
>>>>
>>>> The involved parties decided to get engaged in a code sprint
>>>> <https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in
>>>> the city of Lyon , France dedicated to sharing their vision, planning the
>>>> work and finally making all the following
>>>> <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen :
>>>>
>>>>
>>>>
>>>> *# Deep, complex and unrewarding tasks:*
>>>>
>>>> - Remove all singleton calls
>>>>
>>>> - Cut all the dependencies to the old qgis project parser
>>>>
>>>> - Minimize dependencies to GUI library. Since fonts are necessary to
>>>> render maps, totally removing them was not feasable.
>>>>
>>>> *# Higher level refactoring*
>>>>
>>>> All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS,
>>>> GetPrint etc..) have been rewritten. Some like WMS were entirely rewritten.
>>>> Kudos to the dev's
>>>>
>>>>
>>>> *# New features and architecture stuff*
>>>>
>>>> - QGIS Server Services as plugins like providers. (slide 10 would be a
>>>> nice figure here)
>>>>
>>>> - Multi-thread rendering  <https://github.com/qgis/QGIS/pull/3886>-
>>>> like in the desktop
>>>>
>>>> - A new option to trust layer metadata
>>>> <https://github.com/qgis/QGIS/pull/5094> and speed up project loading
>>>>
>>>>
>>>> *# Infrastructure tasks*
>>>>
>>>> - Build a OGC compliancy platform
>>>> <http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/> and
>>>> integrate it to a continuous integration platform. Conformity reports are
>>>> now pushed to tests.qgis.org *XXX waiting for Richard to expose them
>>>> in the website*
>>>>
>>>> - Add unit tests... and again more unit tests
>>>>
>>>> - Stress QGIS server against security leaks
>>>> <http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL
>>>> injections and other malicious attacks)
>>>>
>>>> - Start profiling and bench marking performances. This work still need
>>>> some love - and funding - to be achieved
>>>>
>>>>
>>>> A presentation
>>>> <https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf> was
>>>> given at FOSS4G-EU in July.
>>>>
>>>> *Congratulations* to the developers who worked hard on that work.
>>>>
>>>> Now this deserves to be well tested, please report back any issues!
>>>>
>>>>
>>>>
>>>> 2017-10-04 15:17 GMT+02:00 Anita Graser <anitagraser at gmx.at>:
>>>>
>>>>>
>>>>>
>>>>> On Wed, Oct 4, 2017 at 1:23 PM, Régis Haubourg <
>>>>> regis.haubourg at gmail.com> wrote:
>>>>>
>>>>>> Hi
>>>>>>
>>>>>> Yes, refactoring is now complete! see :
>>>>>> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74
>>>>>> #issuecomment-334123595
>>>>>>
>>>>>> Anita, I'll draft an article tonight if you still agree to review it,
>>>>>> that would be great!
>>>>>>
>>>>>
>>>>>
>>>>> ​Sure!
>>>>>
>>>>> Anita
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>
>>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171012/97737544/attachment-0001.html>

From anitagraser at gmx.at  Thu Oct 12 13:59:57 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Thu, 12 Oct 2017 22:59:57 +0200
Subject: [QGIS-Developer] Cleanup of SLD related issues
In-Reply-To: <CA+nxMTt6GfLQ6M4pS-7BL8AF_gkrfyPXCi2MvxLuQh8aK0i9uQ@mail.gmail.com>
References: <CA+nxMTt6GfLQ6M4pS-7BL8AF_gkrfyPXCi2MvxLuQh8aK0i9uQ@mail.gmail.com>
Message-ID: <CAFFV8FhnzsZ=bSyj6bmx=yp5HVtsmnJ11VsN6Lm9AEhxBia5_Q@mail.gmail.com>

On Thu, Oct 12, 2017 at 2:42 PM, Andrea Aime <andrea.aime at geo-solutions.it>
wrote:
>
> Given that I had some interest in the topic lately and provided pull
> requests fixing some of the above
> tickets, I was wondering if it makes sense for me to get the right to
> close tickets, so that I can do a bit of cleanup?
>

​+1 That is to be the best approach in my opinion since it enables a direct
communication between ticket issuer and developer.

Thanks for your work!

Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171012/f45cce3b/attachment.html>

From tim at kartoza.com  Thu Oct 12 15:08:36 2017
From: tim at kartoza.com (Tim Sutton)
Date: Fri, 13 Oct 2017 00:08:36 +0200
Subject: [QGIS-Developer] Cleanup of SLD related issues
In-Reply-To: <CAFFV8FhnzsZ=bSyj6bmx=yp5HVtsmnJ11VsN6Lm9AEhxBia5_Q@mail.gmail.com>
References: <CA+nxMTt6GfLQ6M4pS-7BL8AF_gkrfyPXCi2MvxLuQh8aK0i9uQ@mail.gmail.com>
 <CAFFV8FhnzsZ=bSyj6bmx=yp5HVtsmnJ11VsN6Lm9AEhxBia5_Q@mail.gmail.com>
Message-ID: <184B1627-CDD1-4F1F-9466-B9055D3FD3F4@kartoza.com>

+1 from me too (and thanks for all the SLD tweaks Andrea). Richard or Giovanni can you give the needed access rights to Andrea?

Regards

Tim

> On 12 Oct 2017, at 22:59, Anita Graser <anitagraser at gmx.at> wrote:
> 
> 
> 
> On Thu, Oct 12, 2017 at 2:42 PM, Andrea Aime <andrea.aime at geo-solutions.it <mailto:andrea.aime at geo-solutions.it>> wrote:
> Given that I had some interest in the topic lately and provided pull requests fixing some of the above
> tickets, I was wondering if it makes sense for me to get the right to close tickets, so that I can do a bit of cleanup?
> 
> ​+1 That is to be the best approach in my opinion since it enables a direct communication between ticket issuer and developer. 
> 
> Thanks for your work!
> 
> Anita
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171013/819f664c/attachment.html>

From noreply at qgis.org  Thu Oct 12 23:55:40 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 13 Oct 2017 06:55:40 -0000
Subject: [QGIS-Developer] Plugin [1324] Ungenerate approval notification.
Message-ID: <20171013065540.17496.28051@320558c5528b>


Plugin Ungenerate approval by zimbogisgeek.
The plugin version "[1324] Ungenerate 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/Ungenerate/

From regis.haubourg at gmail.com  Thu Oct 12 23:58:49 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Fri, 13 Oct 2017 08:58:49 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
Message-ID: <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>

Hi Anita,

among the news, Paul is currently tackling OGC conformity issues.
see :
https://github.com/qgis/QGIS/pull/5044
https://github.com/qgis/QGIS/pull/5084
https://github.com/qgis/QGIS/pull/5145
https://github.com/qgis/QGIS/pull/5150
https://github.com/qgis/QGIS/pull/5157
https://github.com/qgis/QGIS/pull/5303

We still have some harder issues due to crashes of the OGC testing
platform.

All tests are made using the "basic" level test (see
http://cite.opengeospatial.org/teamengine/about/wms/1.3.0/site/)

When all will be green at this level, we'll run the platform with the other
testing levels so that we have a good overview of our path for a full
conformity of WMS 1.3.

We'll prepare a dedicated blog post toi describe what were the issues and
what we did to fix them.

Cheers!
Régis

2017-10-12 22:56 GMT+02:00 Anita Graser <anitagraser at gmx.at>:

> Thanks everyone so far! Please keep the info coming. I'll draft a blog
> post on the weekend.
>
> Regards,
> Anita
>
> On Thu, Oct 5, 2017 at 9:34 AM, Alessandro Pasotti <apasotti at gmail.com>
> wrote:
>
>> Hi Règis,
>>
>> thanks for the nice summary!
>>
>> Maybe it would be interesting for python devs to stress out how QGIS
>> server 3 brings the bindings and the plugins to a new level: while the
>> original filter-style python plugins, are still available, the new
>> service-oriented plugin-based architecture allows Python developers to
>> create new services (for example WPS) by implementing a new `QgsService`
>> directly in Python. Overriding existing services is also possible.
>>
>> The server API has now full python bindings and a QGIS server can be
>> easily implemented directly in Python and wrapped into your favourite
>> framework (see this simple wsgi experiment:
>> https://gist.github.com/elpaso/0cd7fb6a0518dc46c45557d9133438b8 ).
>>
>> For more examples of the API, I think there are some basic examples in
>> the official Python tests: https://github.com/qgis/QGIS/b
>> lob/master/tests/src/python/test_qgsserver_services.py#L79
>>
>>
>> Cheers
>>
>>
>>
>>
>>
>> On Wed, Oct 4, 2017 at 10:49 PM, Régis Haubourg <regis.haubourg at gmail.com
>> > wrote:
>>
>>> Well, from a user point of view, that's a bit hard since all this is 90
>>> % refactoring.. which is supposed to be transparent for users.
>>>
>>> We have the trust and multithreaded features, that should (and early
>>> testers today found it slower today) and the ability to code new services
>>> using python.
>>> We can also show some numbers about OGC conformity tests and the goal of
>>> reaching OGC certification (WMS only by now).
>>>
>>> Alessandro, René-Luc and David, do you have some user oriented examples
>>> for the new modular API ?
>>>
>>>
>>>
>>> 2017-10-04 22:18 GMT+02:00 Anita Graser <anitagraser at gmx.at>:
>>>
>>>> Great overview, thanks for drafting Régis!
>>>>
>>>> Some additional ideas: Could we add a section with the key improvements
>>>> from an user perspective?
>>>>
>>>> I'm particularly intrigued by the services / plugins part. Could you
>>>> elaborate?
>>>>
>>>> Regards,
>>>> Anita
>>>>
>>>>
>>>>
>>>> On Wed, Oct 4, 2017 at 9:42 PM, Régis Haubourg <
>>>> regis.haubourg at gmail.com> wrote:
>>>>
>>>>> Hi again,
>>>>> here is my very first draft:
>>>>>
>>>>>  Several images can be pulled from the joined slides given at
>>>>> Foss4G-EU here https://drive.google.com/file/
>>>>> d/0BzatQbprJ-hjWF95VzdHbGRsVEk/view?usp=sharing
>>>>>
>>>>> René-Luc, David, Paul, don't hesitate to amend that!
>>>>>
>>>>> ------------------------------------------------------------
>>>>> --------------------------------
>>>>>
>>>>>
>>>>> *Qgis server refactoring is done!*
>>>>> As you may know, QGIS is jumping to a new major version (yes!).
>>>>> Doing so was made necessary because of the need to switch to python 3,
>>>>> QT5, but also because we needed to break the QGIS API in several places.
>>>>>
>>>>> A year ago, a tiny troll
>>>>> <https://github.com/qgis/qgis3.0_api/issues/63>from switzerland rang
>>>>> a bell about the strong need for love server code base required.
>>>>>
>>>>> Indeed, the API was locked by some old methods of QGIS server. In
>>>>> short, QGIS server was reparsing the qgs project file in his own way, and
>>>>> created dependencies to part of QGIS we needed to drop.
>>>>>
>>>>> As outsourcing the server code base was not an option, so we had to
>>>>> refactor it.
>>>>>
>>>>> The involved parties decided to get engaged in a code sprint
>>>>> <https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in
>>>>> the city of Lyon , France dedicated to sharing their vision, planning the
>>>>> work and finally making all the following
>>>>> <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen
>>>>> :
>>>>>
>>>>>
>>>>>
>>>>> *# Deep, complex and unrewarding tasks:*
>>>>>
>>>>> - Remove all singleton calls
>>>>>
>>>>> - Cut all the dependencies to the old qgis project parser
>>>>>
>>>>> - Minimize dependencies to GUI library. Since fonts are necessary to
>>>>> render maps, totally removing them was not feasable.
>>>>>
>>>>> *# Higher level refactoring*
>>>>>
>>>>> All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS,
>>>>> GetPrint etc..) have been rewritten. Some like WMS were entirely rewritten.
>>>>> Kudos to the dev's
>>>>>
>>>>>
>>>>> *# New features and architecture stuff*
>>>>>
>>>>> - QGIS Server Services as plugins like providers. (slide 10 would be
>>>>> a nice figure here)
>>>>>
>>>>> - Multi-thread rendering  <https://github.com/qgis/QGIS/pull/3886>-
>>>>> like in the desktop
>>>>>
>>>>> - A new option to trust layer metadata
>>>>> <https://github.com/qgis/QGIS/pull/5094> and speed up project loading
>>>>>
>>>>>
>>>>> *# Infrastructure tasks*
>>>>>
>>>>> - Build a OGC compliancy platform
>>>>> <http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/> and
>>>>> integrate it to a continuous integration platform. Conformity reports are
>>>>> now pushed to tests.qgis.org *XXX waiting for Richard to expose them
>>>>> in the website*
>>>>>
>>>>> - Add unit tests... and again more unit tests
>>>>>
>>>>> - Stress QGIS server against security leaks
>>>>> <http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL
>>>>> injections and other malicious attacks)
>>>>>
>>>>> - Start profiling and bench marking performances. This work still need
>>>>> some love - and funding - to be achieved
>>>>>
>>>>>
>>>>> A presentation
>>>>> <https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf> was
>>>>> given at FOSS4G-EU in July.
>>>>>
>>>>> *Congratulations* to the developers who worked hard on that work.
>>>>>
>>>>> Now this deserves to be well tested, please report back any issues!
>>>>>
>>>>>
>>>>>
>>>>> 2017-10-04 15:17 GMT+02:00 Anita Graser <anitagraser at gmx.at>:
>>>>>
>>>>>>
>>>>>>
>>>>>> On Wed, Oct 4, 2017 at 1:23 PM, Régis Haubourg <
>>>>>> regis.haubourg at gmail.com> wrote:
>>>>>>
>>>>>>> Hi
>>>>>>>
>>>>>>> Yes, refactoring is now complete! see :
>>>>>>> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74
>>>>>>> #issuecomment-334123595
>>>>>>>
>>>>>>> Anita, I'll draft an article tonight if you still agree to review
>>>>>>> it, that would be great!
>>>>>>>
>>>>>>
>>>>>>
>>>>>> ​Sure!
>>>>>>
>>>>>> Anita
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>>
>>
>> --
>> Alessandro Pasotti
>> w3:   www.itopen.it
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171013/d7f7b60e/attachment-0001.html>

From noreply at qgis.org  Thu Oct 12 23:58:15 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 13 Oct 2017 06:58:15 -0000
Subject: [QGIS-Developer] Plugin [1086] SEC4QGIS approval notification.
Message-ID: <20171013065815.17496.91186@320558c5528b>


Plugin SEC4QGIS approval by zimbogisgeek.
The plugin version "[1086] SEC4QGIS 1.0.4" is now approved
Link: http://plugins.qgis.org/plugins/SEC4QGIS/

From rdmailings at duif.net  Fri Oct 13 00:02:28 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 13 Oct 2017 09:02:28 +0200
Subject: [QGIS-Developer] Cleanup of SLD related issues
In-Reply-To: <184B1627-CDD1-4F1F-9466-B9055D3FD3F4@kartoza.com>
References: <CA+nxMTt6GfLQ6M4pS-7BL8AF_gkrfyPXCi2MvxLuQh8aK0i9uQ@mail.gmail.com>
 <CAFFV8FhnzsZ=bSyj6bmx=yp5HVtsmnJ11VsN6Lm9AEhxBia5_Q@mail.gmail.com>
 <184B1627-CDD1-4F1F-9466-B9055D3FD3F4@kartoza.com>
Message-ID: <9fdbd7ba-4e0a-5948-d481-a0db5dea01f0@duif.net>

Andrea,

I've added you to a group who should able to close issues.

Can you please check, and let me know if NOT working?

Regards,

Richard Duivenvoorde

On 13-10-17 00:08, Tim Sutton wrote:
> +1 from me too (and thanks for all the SLD tweaks Andrea). Richard or Giovanni can you give the needed access rights to Andrea?
> 
> Regards
> 
> Tim
> 
>> On 12 Oct 2017, at 22:59, Anita Graser <anitagraser at gmx.at> wrote:
>>
>>
>>
>> On Thu, Oct 12, 2017 at 2:42 PM, Andrea Aime <andrea.aime at geo-solutions.it <mailto:andrea.aime at geo-solutions.it>> wrote:
>> Given that I had some interest in the topic lately and provided pull requests fixing some of the above
>> tickets, I was wondering if it makes sense for me to get the right to close tickets, so that I can do a bit of cleanup?
>>
>> ​+1 That is to be the best approach in my opinion since it enables a direct communication between ticket issuer and developer. 
>>
>> Thanks for your work!
>>
>> Anita
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From rldhont at gmail.com  Fri Oct 13 00:50:26 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Fri, 13 Oct 2017 09:50:26 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
Message-ID: <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>

And I'm waiting to add WFS 1.1.0 support:
https://github.com/qgis/QGIS/pull/5297

Regards,
René-Luc

Le 13/10/2017 à 08:58, Régis Haubourg a écrit :
> Hi Anita,
>
> among the news, Paul is currently tackling OGC conformity issues.
> see :
> https://github.com/qgis/QGIS/pull/5044
> https://github.com/qgis/QGIS/pull/5084
> https://github.com/qgis/QGIS/pull/5145
> https://github.com/qgis/QGIS/pull/5150
> https://github.com/qgis/QGIS/pull/5157
> https://github.com/qgis/QGIS/pull/5303
>
> We still have some harder issues due to crashes of the OGC testing 
> platform.
>
> All tests are made using the "basic" level test (see 
> http://cite.opengeospatial.org/teamengine/about/wms/1.3.0/site/)
>
> When all will be green at this level, we'll run the platform with the 
> other testing levels so that we have a good overview of our path for a 
> full conformity of WMS 1.3.
>
> We'll prepare a dedicated blog post toi describe what were the issues 
> and what we did to fix them.
>
> Cheers!
> Régis
>
> 2017-10-12 22:56 GMT+02:00 Anita Graser <anitagraser at gmx.at 
> <mailto:anitagraser at gmx.at>>:
>
>     Thanks everyone so far! Please keep the info coming. I'll draft a
>     blog post on the weekend.
>
>     Regards,
>     Anita
>
>     On Thu, Oct 5, 2017 at 9:34 AM, Alessandro Pasotti
>     <apasotti at gmail.com <mailto:apasotti at gmail.com>> wrote:
>
>         Hi Règis,
>
>         thanks for the nice summary!
>
>         Maybe it would be interesting for python devs to stress out
>         how QGIS server 3 brings the bindings and the plugins to a new
>         level: while the original filter-style python plugins, are
>         still available, the new service-oriented plugin-based
>         architecture allows Python developers to create new services
>         (for example WPS) by implementing a new `QgsService` directly
>         in Python. Overriding existing services is also possible.
>
>         The server API has now full python bindings and a QGIS server
>         can be easily implemented directly in Python and wrapped into
>         your favourite framework (see this simple wsgi experiment:
>         https://gist.github.com/elpaso/0cd7fb6a0518dc46c45557d9133438b8
>         <https://gist.github.com/elpaso/0cd7fb6a0518dc46c45557d9133438b8>
>         ).
>
>         For more examples of the API, I think there are some basic
>         examples in the official Python tests:
>         https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsserver_services.py#L79
>         <https://github.com/qgis/QGIS/blob/master/tests/src/python/test_qgsserver_services.py#L79>
>
>
>
>         Cheers
>
>
>
>
>
>         On Wed, Oct 4, 2017 at 10:49 PM, Régis Haubourg
>         <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>>
>         wrote:
>
>             Well, from a user point of view, that's a bit hard since
>             all this is 90 % refactoring.. which is supposed to be
>             transparent for users.
>
>             We have the trust and multithreaded features, that should
>             (and early testers today found it slower today) and the
>             ability to code new services using python.
>             We can also show some numbers about OGC conformity tests
>             and the goal of reaching OGC certification (WMS only by now).
>
>             Alessandro, René-Luc and David, do you have some user
>             oriented examples for the new modular API ?
>
>
>
>             2017-10-04 22:18 GMT+02:00 Anita Graser
>             <anitagraser at gmx.at <mailto:anitagraser at gmx.at>>:
>
>                 Great overview, thanks for drafting Régis!
>
>                 Some additional ideas: Could we add a section with the
>                 key improvements from an user perspective?
>
>                 I'm particularly intrigued by the services / plugins
>                 part. Could you elaborate?
>
>                 Regards,
>                 Anita
>
>
>
>                 On Wed, Oct 4, 2017 at 9:42 PM, Régis Haubourg
>                 <regis.haubourg at gmail.com
>                 <mailto:regis.haubourg at gmail.com>> wrote:
>
>                     Hi again,
>                     here is my very first draft:
>
>                      Several images can be pulled from the joined
>                     slides given at Foss4G-EU here
>                     https://drive.google.com/file/d/0BzatQbprJ-hjWF95VzdHbGRsVEk/view?usp=sharing
>                     <https://drive.google.com/file/d/0BzatQbprJ-hjWF95VzdHbGRsVEk/view?usp=sharing>
>
>
>                     René-Luc, David, Paul, don't hesitate to amend that!
>
>                     --------------------------------------------------------------------------------------------
>
>                     *Qgis server refactoring is done!
>                     *
>                     As you may know, QGIS is jumping to a new major
>                     version (yes!).
>                     Doing so was made necessary because of the need to
>                     switch to python 3, QT5, but also because we
>                     needed to break the QGIS API in several places.
>
>                     A year ago, a tiny troll
>                     <https://github.com/qgis/qgis3.0_api/issues/63>from
>                     switzerland rang a bell about the strong need for
>                     love server code base required.
>
>                     Indeed, the API was locked by some old methods of
>                     QGIS server. In short, QGIS server was reparsing
>                     the qgs project file in his own way, and created
>                     dependencies to part of QGIS we needed to drop.
>
>                     As outsourcing the server code base was not an
>                     option, so we had to refactor it.
>
>                     The involved parties decided to get engaged in a
>                     code sprint
>                     <https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in
>                     the city of Lyon , France dedicated to sharing
>                     their vision, planning the work and finally making
>                     all the following
>                     <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen
>                     :
>
>
>                     *# Deep, complex and unrewarding tasks:
>                     *
>
>                     - Remove all singleton calls
>
>                     - Cut all the dependencies to the old qgis project
>                     parser
>
>                     - Minimize dependencies to GUI library. Since
>                     fonts are necessary to render maps, totally
>                     removing them was not feasable.
>
>                     *# Higher level refactoring*
>
>                     All services (WMS GetMap, WFS GetFeature,
>                     GetLegendGraphics, WCS, GetPrint etc..) have been
>                     rewritten. Some like WMS were entirely rewritten.
>                     Kudos to the dev's
>
>
>                     *# New features and architecture stuff*
>
>                     - QGIS Server Services as plugins like providers.
>                     (slide 10 would be a nice figure here)
>
>                     - Multi-thread rendering
>                     <https://github.com/qgis/QGIS/pull/3886>- like in
>                     the desktop
>
>                     - A new option to trust layer metadata
>                     <https://github.com/qgis/QGIS/pull/5094> and speed
>                     up project loading
>
>
>                     *# Infrastructure tasks*
>
>                     - Build a OGC compliancy platform
>                     <http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/> and
>                     integrate it to a continuous integration platform.
>                     Conformity reports are now pushed to
>                     tests.qgis.org <http://tests.qgis.org> /XXX
>                     waiting for Richard to expose them in the website/
>                     /
>                     /
>                     - Add unit tests... and again more unit tests
>
>                     - Stress QGIS server against security leaks
>                     <http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL
>                     injections and other malicious attacks)
>
>                     - Start profiling and bench marking performances.
>                     This work still need some love - and funding - to
>                     be achieved
>
>
>                     A presentation
>                     <https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf> was
>                     given at FOSS4G-EU in July.
>
>                     *Congratulations* to the developers who worked
>                     hard on that work.
>
>                     Now this deserves to be well tested, please report
>                     back any issues!
>
>
>
>                     2017-10-04 15:17 GMT+02:00 Anita Graser
>                     <anitagraser at gmx.at <mailto:anitagraser at gmx.at>>:
>
>
>
>                         On Wed, Oct 4, 2017 at 1:23 PM, Régis Haubourg
>                         <regis.haubourg at gmail.com
>                         <mailto:regis.haubourg at gmail.com>> wrote:
>
>                             Hi
>
>                             Yes, refactoring is now complete! see :
>                             https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74#issuecomment-334123595
>                             <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74#issuecomment-334123595>
>
>                             Anita, I'll draft an article tonight if
>                             you still agree to review it, that would
>                             be great!
>
>
>
>                         ​Sure!
>
>                         Anita
>
>
>
>
>
>
>
>             _______________________________________________
>             QGIS-Developer mailing list
>             QGIS-Developer at lists.osgeo.org
>             <mailto:QGIS-Developer at lists.osgeo.org>
>             List info:
>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>             <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>             Unsubscribe:
>             https://lists.osgeo.org/mailman/listinfo/qgis-developer
>             <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>
>
>         -- 
>         Alessandro Pasotti
>         w3: www.itopen.it <http://www.itopen.it>
>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171013/82455b78/attachment-0001.html>

From noreply at qgis.org  Fri Oct 13 01:36:39 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 13 Oct 2017 08:36:39 -0000
Subject: [QGIS-Developer] Plugin [1329] FREEWAT approval notification.
Message-ID: <20171013083639.10159.66323@320558c5528b>


Plugin FREEWAT approval by zimbogisgeek.
The plugin version "[1329] FREEWAT 1.0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/freewat/

From rdmailings at duif.net  Fri Oct 13 01:55:21 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 13 Oct 2017 10:55:21 +0200
Subject: [QGIS-Developer] UI discussion?
Message-ID: <a46a8dae-bf0f-b525-453f-5a012fe6c8d0@duif.net>

Hi Dev's,

Should/can we plan some ui discussion maybe before QGIS3 freeze?

I know only discussion is not very helpfull, as it does not DO it, but I
think we should use the big 3 release as a handle to cleanup/fix some ui
too. As we add so much things, in my opinion you should not be afraid to
also remove (non used/important) things.

Some low hanging fruit I would like to do/discuss:
- move 'Plugins/Install plugin from zip' to the dialog
- remove overview panel (and menu actions)
- remove Help toolbar (we have helpbuttons and a menu item)
- move stuff (which I think clutter menu's but personally never use) to
'menu groups' (like all Save Map as.. and DXF import/export (and rename
those)
- merge Project New and New from Template to one 'menu group'-action

(with menu group I mean a button/action with a little dropdown next to
it, like you have for the select tools)

Opinions? Anybody interested?

Regards,

Richard Duivenvoorde


From madmanwoo at gmail.com  Fri Oct 13 01:56:30 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Fri, 13 Oct 2017 08:56:30 +0000
Subject: [QGIS-Developer] UI discussion?
In-Reply-To: <a46a8dae-bf0f-b525-453f-5a012fe6c8d0@duif.net>
References: <a46a8dae-bf0f-b525-453f-5a012fe6c8d0@duif.net>
Message-ID: <CAAi8Yg9y9MzNEuWbRr4A2K-G2QeJti+Z00ksG0-BvLSvWYNQ2w@mail.gmail.com>

Remove overview panel?

On Fri., 13 Oct. 2017, 6:55 pm Richard Duivenvoorde, <rdmailings at duif.net>
wrote:

> Hi Dev's,
>
> Should/can we plan some ui discussion maybe before QGIS3 freeze?
>
> I know only discussion is not very helpfull, as it does not DO it, but I
> think we should use the big 3 release as a handle to cleanup/fix some ui
> too. As we add so much things, in my opinion you should not be afraid to
> also remove (non used/important) things.
>
> Some low hanging fruit I would like to do/discuss:
> - move 'Plugins/Install plugin from zip' to the dialog
> - remove overview panel (and menu actions)
> - remove Help toolbar (we have helpbuttons and a menu item)
> - move stuff (which I think clutter menu's but personally never use) to
> 'menu groups' (like all Save Map as.. and DXF import/export (and rename
> those)
> - merge Project New and New from Template to one 'menu group'-action
>
> (with menu group I mean a button/action with a little dropdown next to
> it, like you have for the select tools)
>
> Opinions? Anybody interested?
>
> Regards,
>
> Richard Duivenvoorde
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171013/d4de15e9/attachment.html>

From rdmailings at duif.net  Fri Oct 13 02:10:55 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 13 Oct 2017 11:10:55 +0200
Subject: [QGIS-Developer] UI discussion?
In-Reply-To: <CAAi8Yg9y9MzNEuWbRr4A2K-G2QeJti+Z00ksG0-BvLSvWYNQ2w@mail.gmail.com>
References: <a46a8dae-bf0f-b525-453f-5a012fe6c8d0@duif.net>
 <CAAi8Yg9y9MzNEuWbRr4A2K-G2QeJti+Z00ksG0-BvLSvWYNQ2w@mail.gmail.com>
Message-ID: <5bb7f3be-9c11-afa0-6668-a40b92c5d4e2@duif.net>

On 13-10-17 10:56, Nathan Woodrow wrote:
> Remove overview panel?

I just asked on the user list this morning...

I tried to make a minimal QGIS ui via 'Customization' and hit those
actions, which I honestly never used/mention.

But as said: discussion :-)
If people see this as an essential panel: keep it..

Regards,

Richard

From sfkeller at gmail.com  Fri Oct 13 02:12:52 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Fri, 13 Oct 2017 11:12:52 +0200
Subject: [QGIS-Developer] QGIS error when connected to signal
	newProjectCreated
Message-ID: <CAFcOn28dh1uvMfQLV8Ceo3+4A2OvLbiDCz7ZKxpw2MVb+acM5Q@mail.gmail.com>

This message was sent by Martin Boos (but seems to have been rejected
currently):

Hi devs

I’m trying to handle the signal ‘newProjectCreated’ in my python
plugin. Unfortunately, every time this event occurs, a python error is
thrown:

Traceback (most recent call last):
File "C:/Users/Martin/.qgis2/python/plugins\Vector-Tiles-Reader-QGIS-Plugin\vtr_plugin.py",
line 88, in _on_new_qgis_project_created
pass
TypeError: 'NoneType' object is not callable

Funny thing is, this happens even if my handler is empty:

    def _on_new_qgis_project_created(self):
        pass


Any ideas how to solve this?

Thanks and best regards
Martin

From rdmailings at duif.net  Fri Oct 13 02:24:26 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 13 Oct 2017 11:24:26 +0200
Subject: [QGIS-Developer] QGIS error when connected to signal
 newProjectCreated
In-Reply-To: <CAFcOn28dh1uvMfQLV8Ceo3+4A2OvLbiDCz7ZKxpw2MVb+acM5Q@mail.gmail.com>
References: <CAFcOn28dh1uvMfQLV8Ceo3+4A2OvLbiDCz7ZKxpw2MVb+acM5Q@mail.gmail.com>
Message-ID: <51a8a728-6ee2-3a33-0c6c-8b19170c8fdd@duif.net>

Can you show some more code, and in what version of QGIS?

If I run the following in the python console (2.18.13 and master), it
just works?:

def test():
    print('yes')

iface.newProjectCreated.connect(test)

Regards,

Richard Duivenvoorde


On 13-10-17 11:12, Stefan Keller wrote:
> This message was sent by Martin Boos (but seems to have been rejected
> currently):
> 
> Hi devs
> 
> I’m trying to handle the signal ‘newProjectCreated’ in my python
> plugin. Unfortunately, every time this event occurs, a python error is
> thrown:
> 
> Traceback (most recent call last):
> File "C:/Users/Martin/.qgis2/python/plugins\Vector-Tiles-Reader-QGIS-Plugin\vtr_plugin.py",
> line 88, in _on_new_qgis_project_created
> pass
> TypeError: 'NoneType' object is not callable
> 
> Funny thing is, this happens even if my handler is empty:
> 
>     def _on_new_qgis_project_created(self):
>         pass
> 
> 
> Any ideas how to solve this?
> 
> Thanks and best regards
> Martin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From tim at kartoza.com  Fri Oct 13 05:24:44 2017
From: tim at kartoza.com (Tim Sutton)
Date: Fri, 13 Oct 2017 14:24:44 +0200
Subject: [QGIS-Developer] UI discussion?
In-Reply-To: <CAAi8Yg9y9MzNEuWbRr4A2K-G2QeJti+Z00ksG0-BvLSvWYNQ2w@mail.gmail.com>
References: <a46a8dae-bf0f-b525-453f-5a012fe6c8d0@duif.net>
 <CAAi8Yg9y9MzNEuWbRr4A2K-G2QeJti+Z00ksG0-BvLSvWYNQ2w@mail.gmail.com>
Message-ID: <6D70AA15-7DBD-4447-A2D2-41152AD25D43@kartoza.com>

Hi



> On 13 Oct 2017, at 10:56, Nathan Woodrow <madmanwoo at gmail.com> wrote:
> 
> Remove overview panel?
> 
> 

Yeah it is basically duplicated by multi canvas support now (except for AOI rectangle). +1 from me to remove it. Remember we must also remove the ‘hide/show in overview’ menu actions for legend items.

Regards

Tim

> 
> On Fri., 13 Oct. 2017, 6:55 pm Richard Duivenvoorde, <rdmailings at duif.net <mailto:rdmailings at duif.net>> wrote:
> Hi Dev's,
> 
> Should/can we plan some ui discussion maybe before QGIS3 freeze?
> 
> I know only discussion is not very helpfull, as it does not DO it, but I
> think we should use the big 3 release as a handle to cleanup/fix some ui
> too. As we add so much things, in my opinion you should not be afraid to
> also remove (non used/important) things.
> 
> Some low hanging fruit I would like to do/discuss:
> - move 'Plugins/Install plugin from zip' to the dialog
> - remove overview panel (and menu actions)
> - remove Help toolbar (we have helpbuttons and a menu item)
> - move stuff (which I think clutter menu's but personally never use) to
> 'menu groups' (like all Save Map as.. and DXF import/export (and rename
> those)
> - merge Project New and New from Template to one 'menu group'-action
> 
> (with menu group I mean a button/action with a little dropdown next to
> it, like you have for the select tools)
> 
> Opinions? Anybody interested?
> 
> Regards,
> 
> Richard Duivenvoorde
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171013/df94a098/attachment-0001.html>

From delazj at gmail.com  Fri Oct 13 08:15:42 2017
From: delazj at gmail.com (DelazJ)
Date: Fri, 13 Oct 2017 17:15:42 +0200
Subject: [QGIS-Developer] UI discussion?
In-Reply-To: <6D70AA15-7DBD-4447-A2D2-41152AD25D43@kartoza.com>
References: <a46a8dae-bf0f-b525-453f-5a012fe6c8d0@duif.net>
 <CAAi8Yg9y9MzNEuWbRr4A2K-G2QeJti+Z00ksG0-BvLSvWYNQ2w@mail.gmail.com>
 <6D70AA15-7DBD-4447-A2D2-41152AD25D43@kartoza.com>
Message-ID: <CAECJsSotPuNVzRruQcrm+gNzAuMSgPvGVz2BuYBdt=A31WZeFQ@mail.gmail.com>

Hi Richard,

>
> On Fri., 13 Oct. 2017, 6:55 pm Richard Duivenvoorde, <rdmailings at duif.net>
> wrote:
>
>> Hi Dev's,
>>
>> Should/can we plan some ui discussion maybe before QGIS3 freeze?
>>
>> I know only discussion is not very helpfull, as it does not DO it, but I
>> think we should use the big 3 release as a handle to cleanup/fix some ui
>> too. As we add so much things, in my opinion you should not be afraid to
>> also remove (non used/important) things.
>>
>>  While we are at UI/UX discussion, may I recall that we created months
ago an ad hoc repository (https://github.com/qgis/
qgis3_UIX_discussion/issues) and that repository is full of issues waiting
for pickers/opinions? And to paraphrase someone, "Freeze is coming"...

> Some low hanging fruit I would like to do/discuss:
>> - move 'Plugins/Install plugin from zip' to the dialog
>>
> Keen to see how this can integrate the Plugin manager and stays obvious
for user but why not

> - remove overview panel (and menu actions)
>> - remove Help toolbar (we have helpbuttons and a menu item)
>>
> No strong opinion for above. I neither use them.

> - move stuff (which I think clutter menu's but personally never use) to
>> 'menu groups' (like all Save Map as.. and DXF import/export (and rename
>> those)
>>
> Why not. What could be nice if we group buttons is to provide default
shortcut for those that often use them.

> - merge Project New and New from Template to one 'menu group'-action
>>
>> -1 from me. New project is a normal and expected button directly under
Project menu. I don't know how the group would be called but merging anyway
adds another click (for a basic action).
Question: are there many people around using template project?

According to another thread/comment from you, if you are trying to
customize and simplify QGIS interface, isn't it easier to deal with direct
and single button from a menu than buttons within a "menu group" under a
menu? There could be a risk to end up with a sub-menu with a single item.
Hope that i'm clear :)

Regards,
Harrissou

> (with menu group I mean a button/action with a little dropdown next to
>> it, like you have for the select tools)
>>
>> Opinions? Anybody interested?
>>
>> Regards,
>>
>> Richard Duivenvoorde
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171013/d2cbda30/attachment.html>

From nyall.dawson at gmail.com  Fri Oct 13 21:11:37 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 14 Oct 2017 14:11:37 +1000
Subject: [QGIS-Developer] UI discussion?
In-Reply-To: <6D70AA15-7DBD-4447-A2D2-41152AD25D43@kartoza.com>
References: <a46a8dae-bf0f-b525-453f-5a012fe6c8d0@duif.net>
 <CAAi8Yg9y9MzNEuWbRr4A2K-G2QeJti+Z00ksG0-BvLSvWYNQ2w@mail.gmail.com>
 <6D70AA15-7DBD-4447-A2D2-41152AD25D43@kartoza.com>
Message-ID: <CAB28AsiBEZJv+xSEkq+VdkCXNDPn+YkxSxzskcj4=nrZiSU3ew@mail.gmail.com>

On 13 October 2017 at 22:24, Tim Sutton <tim at kartoza.com> wrote:
> Hi
>
>
>
> On 13 Oct 2017, at 10:56, Nathan Woodrow <madmanwoo at gmail.com> wrote:
>
> Remove overview panel?
>
>
>
> Yeah it is basically duplicated by multi canvas support now (except for AOI
> rectangle). +1 from me to remove it. Remember we must also remove the
> ‘hide/show in overview’ menu actions for legend items.


I think in the long term we should do this, but there's a few features
missing which we should address first:

1. Make the layer context menu entries work with multi canvas type overviews.

2. Add the overview style navigation (it works the opposite to the
canvas navigation).

Nyall

From tim at kartoza.com  Sat Oct 14 00:55:31 2017
From: tim at kartoza.com (Tim Sutton)
Date: Sat, 14 Oct 2017 09:55:31 +0200
Subject: [QGIS-Developer] UI discussion?
In-Reply-To: <CAB28AsiBEZJv+xSEkq+VdkCXNDPn+YkxSxzskcj4=nrZiSU3ew@mail.gmail.com>
References: <a46a8dae-bf0f-b525-453f-5a012fe6c8d0@duif.net>
 <CAAi8Yg9y9MzNEuWbRr4A2K-G2QeJti+Z00ksG0-BvLSvWYNQ2w@mail.gmail.com>
 <6D70AA15-7DBD-4447-A2D2-41152AD25D43@kartoza.com>
 <CAB28AsiBEZJv+xSEkq+VdkCXNDPn+YkxSxzskcj4=nrZiSU3ew@mail.gmail.com>
Message-ID: <162234C9-B62E-4229-BC05-FD1D97E33974@kartoza.com>

Hi

> On 14 Oct 2017, at 06:11, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> 
> On 13 October 2017 at 22:24, Tim Sutton <tim at kartoza.com <mailto:tim at kartoza.com>> wrote:
>> Hi
>> 
>> 
>> 
>> On 13 Oct 2017, at 10:56, Nathan Woodrow <madmanwoo at gmail.com> wrote:
>> 
>> Remove overview panel?
>> 
>> 
>> 
>> Yeah it is basically duplicated by multi canvas support now (except for AOI
>> rectangle). +1 from me to remove it. Remember we must also remove the
>> ‘hide/show in overview’ menu actions for legend items.
> 
> 
> I think in the long term we should do this, but there's a few features
> missing which we should address first:
> 
> 1. Make the layer context menu entries work with multi canvas type overviews.

Can’t we just encourage people to use map themes instead and then strip out all the overviews code?

> 
> 2. Add the overview style navigation (it works the opposite to the
> canvas navigation).

Yeah that would be nice to add to secondary canvases. 

Regards

Tim

> 
> Nyall

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171014/9bd77264/attachment.html>

From rdmailings at duif.net  Sat Oct 14 04:33:33 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 14 Oct 2017 13:33:33 +0200
Subject: [QGIS-Developer] UI discussion?
In-Reply-To: <CAECJsSotPuNVzRruQcrm+gNzAuMSgPvGVz2BuYBdt=A31WZeFQ@mail.gmail.com>
References: <a46a8dae-bf0f-b525-453f-5a012fe6c8d0@duif.net>
 <CAAi8Yg9y9MzNEuWbRr4A2K-G2QeJti+Z00ksG0-BvLSvWYNQ2w@mail.gmail.com>
 <6D70AA15-7DBD-4447-A2D2-41152AD25D43@kartoza.com>
 <CAECJsSotPuNVzRruQcrm+gNzAuMSgPvGVz2BuYBdt=A31WZeFQ@mail.gmail.com>
Message-ID: <45f6dce6-60d8-06a1-e61c-01843c888d7d@duif.net>

On 13-10-17 17:15, DelazJ wrote:

>  While we are at UI/UX discussion, may I recall that we created months
> ago an ad hoc repository
> (https://github.com/qgis/qgis3_UIX_discussion/issues
> <https://github.com/qgis/qgis3_UIX_discussion/issues>) and that
> repository is full of issues waiting for pickers/opinions? And to
> paraphrase someone, "Freeze is coming"...

Yes, thanks Harrissou!!, for reminding. I've a short memory for these
things. Keep pointing to those, at is a great helpfull list!

>>         Some low hanging fruit I would like to do/discuss:
>>         - move 'Plugins/Install plugin from zip' to the dialog
> 
> Keen to see how this can integrate the Plugin manager and stays obvious
> for user but why not

My 'problem' is that when I show QGIS to people, they get crazy from all
the options we have. Options which are either used rarely, or only used
when you are a more advanced person.
This 'install from zip' is (I think...) most usefull for dev's, not for
normal/average users.
Just a better icon and then in the manager like this?
http://pix.toile-libre.org/upload/original/1507974073.png

>>         - remove overview panel (and menu actions)

See rest of thread, I will create an issue for it at:
https://github.com/qgis/qgis3_UIX_discussion/issues/47

>>         - merge Project New and New from Template to one 'menu
>>         group'-action
>>
> -1 from me. New project is a normal and expected button directly under
> Project menu. I don't know how the group would be called but merging
> anyway adds another click (for a basic action).
> Question: are there many people around using template project?
> 
> According to another thread/comment from you, if you are trying to
> customize and simplify QGIS interface, isn't it easier to deal with
> direct and single button from a menu than buttons within a "menu group"
> under a menu? There could be a risk to end up with a sub-menu with a
> single item. Hope that i'm clear :)

Yeah, maybe you are right. But another argument is that IF I think the
new concept of a 'profile' is about the same as 'default project' so I
thought to 'merge' these concepts, and then thought: ok template,
profile, configuration... isn't that all about the  same...

Thanks for the input all, and let's continue with these issues at:
https://github.com/qgis/qgis3_UIX_discussion

Regards,

Richard

From rdmailings at duif.net  Sat Oct 14 04:44:43 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 14 Oct 2017 13:44:43 +0200
Subject: [QGIS-Developer] UI discussion?
In-Reply-To: <162234C9-B62E-4229-BC05-FD1D97E33974@kartoza.com>
References: <a46a8dae-bf0f-b525-453f-5a012fe6c8d0@duif.net>
 <CAAi8Yg9y9MzNEuWbRr4A2K-G2QeJti+Z00ksG0-BvLSvWYNQ2w@mail.gmail.com>
 <6D70AA15-7DBD-4447-A2D2-41152AD25D43@kartoza.com>
 <CAB28AsiBEZJv+xSEkq+VdkCXNDPn+YkxSxzskcj4=nrZiSU3ew@mail.gmail.com>
 <162234C9-B62E-4229-BC05-FD1D97E33974@kartoza.com>
Message-ID: <d619552d-3c8e-7489-a615-05b469dc0584@duif.net>

On 14-10-17 09:55, Tim Sutton wrote:
> Yeah that would be nice to add to secondary canvases. 

see:

https://github.com/qgis/qgis3_UIX_discussion/issues/47

From andrea.aime at geo-solutions.it  Sat Oct 14 06:05:24 2017
From: andrea.aime at geo-solutions.it (Andrea Aime)
Date: Sat, 14 Oct 2017 15:05:24 +0200
Subject: [QGIS-Developer] Cleanup of SLD related issues
In-Reply-To: <9fdbd7ba-4e0a-5948-d481-a0db5dea01f0@duif.net>
References: <CA+nxMTt6GfLQ6M4pS-7BL8AF_gkrfyPXCi2MvxLuQh8aK0i9uQ@mail.gmail.com>
 <CAFFV8FhnzsZ=bSyj6bmx=yp5HVtsmnJ11VsN6Lm9AEhxBia5_Q@mail.gmail.com>
 <184B1627-CDD1-4F1F-9466-B9055D3FD3F4@kartoza.com>
 <9fdbd7ba-4e0a-5948-d481-a0db5dea01f0@duif.net>
Message-ID: <CA+nxMTti=ozkrk7hUL6VuB=auzWcC60Fvqes2Y2rEMTJpMMLAg@mail.gmail.com>

Hi all,
thanks I got access, it's working, and I've done the cleanup :-)

Cheers
Andrea

On Fri, Oct 13, 2017 at 9:02 AM, Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> Andrea,
>
> I've added you to a group who should able to close issues.
>
> Can you please check, and let me know if NOT working?
>
> Regards,
>
> Richard Duivenvoorde
>
> On 13-10-17 00:08, Tim Sutton wrote:
> > +1 from me too (and thanks for all the SLD tweaks Andrea). Richard or
> Giovanni can you give the needed access rights to Andrea?
> >
> > Regards
> >
> > Tim
> >
> >> On 12 Oct 2017, at 22:59, Anita Graser <anitagraser at gmx.at> wrote:
> >>
> >>
> >>
> >> On Thu, Oct 12, 2017 at 2:42 PM, Andrea Aime <
> andrea.aime at geo-solutions.it <mailto:andrea.aime at geo-solutions.it>> wrote:
> >> Given that I had some interest in the topic lately and provided pull
> requests fixing some of the above
> >> tickets, I was wondering if it makes sense for me to get the right to
> close tickets, so that I can do a bit of cleanup?
> >>
> >> ​+1 That is to be the best approach in my opinion since it enables a
> direct communication between ticket issuer and developer.
> >>
> >> Thanks for your work!
> >>
> >> Anita
> >>
> >>
> >>
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
>


-- 

Regards,

Andrea Aime

==
GeoServer Professional Services from the experts! Visit http://goo.gl/it488V
for more information.
==

Ing. Andrea Aime
@geowolf
Technical Lead

GeoSolutions S.A.S.
Via di Montramito 3/A
55054  Massarosa (LU)
phone: +39 0584 962313
fax: +39 0584 1660272
mob: +39  339 8844549

http://www.geo-solutions.it
http://twitter.com/geosolutions_it

AVVERTENZE AI SENSI DEL D.Lgs. 196/2003

Le informazioni contenute in questo messaggio di posta elettronica e/o
nel/i file/s allegato/i sono da considerarsi strettamente riservate. Il
loro utilizzo è consentito esclusivamente al destinatario del messaggio,
per le finalità indicate nel messaggio stesso. Qualora riceviate questo
messaggio senza esserne il destinatario, Vi preghiamo cortesemente di
darcene notizia via e-mail e di procedere alla distruzione del messaggio
stesso, cancellandolo dal Vostro sistema. Conservare il messaggio stesso,
divulgarlo anche in parte, distribuirlo ad altri soggetti, copiarlo, od
utilizzarlo per finalità diverse, costituisce comportamento contrario ai
principi dettati dal D.Lgs. 196/2003.

The information in this message and/or attachments, is intended solely for
the attention and use of the named addressee(s) and may be confidential or
proprietary in nature or covered by the provisions of privacy act
(Legislative Decree June, 30 2003, no.196 - Italy's New Data Protection
Code).Any use not in accord with its purpose, any disclosure, reproduction,
copying, distribution, or either dissemination, either whole or partial, is
strictly forbidden except previous formal approval of the named
addressee(s). If you are not the intended recipient, please contact
immediately the sender by telephone, fax or e-mail and delete the
information in this message that has been received in error. The sender
does not give any warranty or accept liability as the content, accuracy or
completeness of sent messages and accepts no responsibility  for changes
made after they were sent or for other risks which arise as a result of
e-mail transmission, viruses, etc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171014/673542a8/attachment-0001.html>

From rdmailings at duif.net  Sat Oct 14 07:51:36 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 14 Oct 2017 16:51:36 +0200
Subject: [QGIS-Developer] OsmAnd obf data + styling ?
Message-ID: <0c38f569-6a11-80d6-25d4-a55a8ee256a2@duif.net>

As OsmAnd (for Android and Iphone) [0][1] is getting better and better,
I wonder if we/QGIS can (re)use/handle their data source and styling.

The format is a binary .obf file in (protobuf apparently? [2])?
Is this some kind of vector tiling?

Anybody interested, or has some more info about this?

Regards,

Richard Duivenvoorde


[0] http://osmand.net/
[1] https://github.com/osmandapp/Osmand
[2] https://github.com/osmandapp/OsmAnd-tools/tree/master/OsmAndMapCreator

From sfkeller at gmail.com  Sat Oct 14 14:44:51 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Sat, 14 Oct 2017 23:44:51 +0200
Subject: [QGIS-Developer] OsmAnd obf data + styling ?
In-Reply-To: <0c38f569-6a11-80d6-25d4-a55a8ee256a2@duif.net>
References: <0c38f569-6a11-80d6-25d4-a55a8ee256a2@duif.net>
Message-ID: <CAFcOn29Zm4=yd4Gc43RRZ2s7p1qaJXbiLeoqsuuWL-P6XA_-mQ@mail.gmail.com>

2017-10-14 16:51 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:
> As OsmAnd (for Android and Iphone) [0][1] is getting better and better,
> I wonder if we/QGIS can (re)use/handle their data source and styling.

According to [1] the 'obf' file has a complex structure and consists
of 4 multiple parts:
(vector) map tiles, transport (routing), POI, adresses.
The OsmAnd styling seems to come with the Java binaries.

What is your use case to read such a specialized format into QGIS?

It's using OSM data, so why not taking the data directly from OSM e.g.
using HOT Export [2] or OSMaxx tools [3]?

:Stefan

[1] http://osmand.net/help/MapAddressDataStructure.html
[2] https://export.hotosm.org/
[3] https://osmaxx.hsr.ch/


2017-10-14 16:51 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:
> As OsmAnd (for Android and Iphone) [0][1] is getting better and better,
> I wonder if we/QGIS can (re)use/handle their data source and styling.
>
> The format is a binary .obf file in (protobuf apparently? [2])?
> Is this some kind of vector tiling?
>
> Anybody interested, or has some more info about this?
>
> Regards,
>
> Richard Duivenvoorde
>
>
> [0] http://osmand.net/
> [1] https://github.com/osmandapp/Osmand
> [2] https://github.com/osmandapp/OsmAnd-tools/tree/master/OsmAndMapCreator
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From sfkeller at gmail.com  Sat Oct 14 15:19:07 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Sun, 15 Oct 2017 00:19:07 +0200
Subject: [QGIS-Developer] OsmAnd obf data + styling ?
In-Reply-To: <CAFcOn29Zm4=yd4Gc43RRZ2s7p1qaJXbiLeoqsuuWL-P6XA_-mQ@mail.gmail.com>
References: <0c38f569-6a11-80d6-25d4-a55a8ee256a2@duif.net>
 <CAFcOn29Zm4=yd4Gc43RRZ2s7p1qaJXbiLeoqsuuWL-P6XA_-mQ@mail.gmail.com>
Message-ID: <CAFcOn2891PuVght-86BpZc6Erg7+EoPg1mAUb9NfrVyCQ-YBLg@mail.gmail.com>

2017-10-14 23:44 GMT+02:00 Stefan Keller <sfkeller at gmail.com>:
> It's using OSM data, so why not taking the data directly from OSM e.g.
> using HOT Export [2] or OSMaxx tools [3]?
...
> [1] http://osmand.net/help/MapAddressDataStructure.html
> [2] https://export.hotosm.org/
> [3] https://osmaxx.hsr.ch/

... and for base maps I hope the Vector Tiles Reader [4] plugin
becomes better and better...

:Stefan

[4] http://plugins.qgis.org/plugins/vector_tiles_reader/

2017-10-14 23:44 GMT+02:00 Stefan Keller <sfkeller at gmail.com>:
> 2017-10-14 16:51 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:
>> As OsmAnd (for Android and Iphone) [0][1] is getting better and better,
>> I wonder if we/QGIS can (re)use/handle their data source and styling.
>
> According to [1] the 'obf' file has a complex structure and consists
> of 4 multiple parts:
> (vector) map tiles, transport (routing), POI, adresses.
> The OsmAnd styling seems to come with the Java binaries.
>
> What is your use case to read such a specialized format into QGIS?
>
> It's using OSM data, so why not taking the data directly from OSM e.g.
> using HOT Export [2] or OSMaxx tools [3]?
>
> :Stefan
>
> [1] http://osmand.net/help/MapAddressDataStructure.html
> [2] https://export.hotosm.org/
> [3] https://osmaxx.hsr.ch/
>
>
> 2017-10-14 16:51 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:
>> As OsmAnd (for Android and Iphone) [0][1] is getting better and better,
>> I wonder if we/QGIS can (re)use/handle their data source and styling.
>>
>> The format is a binary .obf file in (protobuf apparently? [2])?
>> Is this some kind of vector tiling?
>>
>> Anybody interested, or has some more info about this?
>>
>> Regards,
>>
>> Richard Duivenvoorde
>>
>>
>> [0] http://osmand.net/
>> [1] https://github.com/osmandapp/Osmand
>> [2] https://github.com/osmandapp/OsmAnd-tools/tree/master/OsmAndMapCreator
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From noreply at qgis.org  Sun Oct 15 01:16:45 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sun, 15 Oct 2017 08:16:45 -0000
Subject: [QGIS-Developer] Plugin [1345] FastVersion approval notification.
Message-ID: <20171015081645.16853.14666@320558c5528b>


Plugin FastVersion approval by zimbogisgeek.
The plugin version "[1345] FastVersion 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/FastVersion/

From noreply at qgis.org  Sun Oct 15 01:17:29 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sun, 15 Oct 2017 08:17:29 -0000
Subject: [QGIS-Developer] Plugin [947] ImportEpanetInpFiles approval
	notification.
Message-ID: <20171015081729.10159.12170@320558c5528b>


Plugin ImportEpanetInpFiles approval by zimbogisgeek.
The plugin version "[947] ImportEpanetInpFiles 0.7" is now approved
Link: http://plugins.qgis.org/plugins/ImportEpanetInpFiles/

From rdmailings at duif.net  Sun Oct 15 23:44:56 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 16 Oct 2017 08:44:56 +0200
Subject: [QGIS-Developer] OsmAnd obf data + styling ?
In-Reply-To: <CAFcOn29Zm4=yd4Gc43RRZ2s7p1qaJXbiLeoqsuuWL-P6XA_-mQ@mail.gmail.com>
References: <0c38f569-6a11-80d6-25d4-a55a8ee256a2@duif.net>
 <CAFcOn29Zm4=yd4Gc43RRZ2s7p1qaJXbiLeoqsuuWL-P6XA_-mQ@mail.gmail.com>
Message-ID: <c1d1d19c-2409-b05a-b622-e73157694ae5@duif.net>

On 14-10-17 23:44, Stefan Keller wrote:
> 2017-10-14 16:51 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:
>> As OsmAnd (for Android and Iphone) [0][1] is getting better and better,
>> I wonder if we/QGIS can (re)use/handle their data source and styling.
> 
> According to [1] the 'obf' file has a complex structure and consists
> of 4 multiple parts:
> (vector) map tiles, transport (routing), POI, adresses.
> The OsmAnd styling seems to come with the Java binaries.
> 
> What is your use case to read such a specialized format into QGIS?
> 
> It's using OSM data, so why not taking the data directly from OSM e.g.
> using HOT Export [2] or OSMaxx tools [3]?

Hi Stefan,

Thanks for your reply! Will try both export tools and the plugin again...

My 'use case' is just the fact that I'm impressed with the speed and
ease of use of OsmAnd, and I like the ability to share OFFLINE data
(formats) and styles. But IF as you say the styling is in Java binaries,
it is indeed better to just use one of the export tools.

My aims is just to make it easier to have for example a local reference
map for offline users. The ability to do routing on it was also a nice
feature of their format...

Are you aware of a nice (QGIS) styling for that data model then?
(lines, multipolygons, planet_osm_lines/_points/_polygons, points)

Regards,

Richard Duivenvoorde



From rdmailings at duif.net  Mon Oct 16 00:03:47 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 16 Oct 2017 09:03:47 +0200
Subject: [QGIS-Developer] QGIS3 and profiles starting in terminal
Message-ID: <fc604719-bc0d-16c7-24ce-c8f2f394aacd@duif.net>

Hi Dev's,

If I start a qgis session from the terminal and see debug info.

Then start a new profile, and quit the old session.

Then the terminal session 'returns' to my prompt, but the debug
information from the second sessions sometimes sneaks in...

Is this supposed to work like this? Or is there a cleaner way possible?

Regards,

Richard Duivenvoorde

From sylvain.pierre at bas-rhin.fr  Mon Oct 16 01:22:32 2017
From: sylvain.pierre at bas-rhin.fr (PIERRE Sylvain)
Date: Mon, 16 Oct 2017 08:22:32 +0000
Subject: [QGIS-Developer] OsmAnd obf data + styling ?
In-Reply-To: <CAFcOn2891PuVght-86BpZc6Erg7+EoPg1mAUb9NfrVyCQ-YBLg@mail.gmail.com>
References: <0c38f569-6a11-80d6-25d4-a55a8ee256a2@duif.net>
 <CAFcOn29Zm4=yd4Gc43RRZ2s7p1qaJXbiLeoqsuuWL-P6XA_-mQ@mail.gmail.com>
 <CAFcOn2891PuVght-86BpZc6Erg7+EoPg1mAUb9NfrVyCQ-YBLg@mail.gmail.com>
Message-ID: <88a3cd38791b4024a046467ebd07014b@EXCHMBX-21.cg67.fr>

I'm interest in OSMAND rendering too.
XML ressources for styling are here : 
https://github.com/osmandapp/OsmAnd-resources/tree/master/rendering_styles 

Question is: how can I apply one OSMAND style to OSM data?

Sylvain

-----Message d'origine-----
De : QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] De la part de Stefan Keller
Envoyé : dimanche 15 octobre 2017 00:19
À : qgis-developer
Cc : richard at duif.net
Objet : Re: [QGIS-Developer] OsmAnd obf data + styling ?

2017-10-14 23:44 GMT+02:00 Stefan Keller <sfkeller at gmail.com>:
> It's using OSM data, so why not taking the data directly from OSM e.g.
> using HOT Export [2] or OSMaxx tools [3]?
...
> [1] http://osmand.net/help/MapAddressDataStructure.html
> [2] https://export.hotosm.org/
> [3] https://osmaxx.hsr.ch/

... and for base maps I hope the Vector Tiles Reader [4] plugin becomes better and better...

:Stefan

[4] http://plugins.qgis.org/plugins/vector_tiles_reader/

2017-10-14 23:44 GMT+02:00 Stefan Keller <sfkeller at gmail.com>:
> 2017-10-14 16:51 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:
>> As OsmAnd (for Android and Iphone) [0][1] is getting better and 
>> better, I wonder if we/QGIS can (re)use/handle their data source and styling.
>
> According to [1] the 'obf' file has a complex structure and consists 
> of 4 multiple parts:
> (vector) map tiles, transport (routing), POI, adresses.
> The OsmAnd styling seems to come with the Java binaries.
>
> What is your use case to read such a specialized format into QGIS?
>
> It's using OSM data, so why not taking the data directly from OSM e.g.
> using HOT Export [2] or OSMaxx tools [3]?
>
> :Stefan
>
> [1] http://osmand.net/help/MapAddressDataStructure.html
> [2] https://export.hotosm.org/
> [3] https://osmaxx.hsr.ch/
>
>
> 2017-10-14 16:51 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:
>> As OsmAnd (for Android and Iphone) [0][1] is getting better and 
>> better, I wonder if we/QGIS can (re)use/handle their data source and styling.
>>
>> The format is a binary .obf file in (protobuf apparently? [2])?
>> Is this some kind of vector tiling?
>>
>> Anybody interested, or has some more info about this?
>>
>> Regards,
>>
>> Richard Duivenvoorde
>>
>>
>> [0] http://osmand.net/
>> [1] https://github.com/osmandapp/Osmand
>> [2] 
>> https://github.com/osmandapp/OsmAnd-tools/tree/master/OsmAndMapCreato
>> r _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From matthias at opengis.ch  Mon Oct 16 03:10:20 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 16 Oct 2017 12:10:20 +0200
Subject: [QGIS-Developer] Moving qgsnativealgorithms to analysis lib?
In-Reply-To: <CAB28AsjXjPTiZP+SuPy1ZTfsUQobEf0fv-dtCQg=u0WEXHcL4Q@mail.gmail.com>
References: <CAB28AsjXjPTiZP+SuPy1ZTfsUQobEf0fv-dtCQg=u0WEXHcL4Q@mail.gmail.com>
Message-ID: <01cd6bc2-ac89-8474-bd5a-4a1b7e8d8a91@opengis.ch>

Hi Nyall,

I think this move would make perfect sense.

Analysis should not have any dependency on gui, while it certainly needs
to depend on core.

+1 and thanks for the cleanup!

Matthias


On 10/12/2017 06:28 AM, Nyall Dawson wrote:
> Hi all,
>
> Just after some opinions on whether or not the native c++ processing
> algorithm implementations (qgsnativealgorithms.cpp/.h) should
> ultimately reside in core or analysis.
>
> Up till 3.0 analysis has been a bit of a funny library, since it mixed
> up the logic for the analysis methods with their ui interface
> (requiring progress dialogs and the like). So it kind of sat above
> both core and gui, but below app.
>
> That's all been cleaned up now for 3.0, so analysis no longer has any
> use of gui methods. Now it could potentially sit just above the core
> library, and be used in non-gui situations like qgis server and
> qfield. Accordingly, I think it's the right place for these c++
> processing algorithms to ultimately sit.
>
> But I don't want to restrict ourselves by doing this...
>
> So, qfield and qgis server maintainers: would moving these
> implementations to analysis prevent you from using them in future? Do
> you have issues with linking in analysis to your applications?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


From matthias at opengis.ch  Mon Oct 16 07:44:31 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 16 Oct 2017 16:44:31 +0200
Subject: [QGIS-Developer] Development / HiDPI / Linux
Message-ID: <92896344-96bb-0501-aa36-9632d7ab200d@opengis.ch>

Hi developers,

Just for a couple of days I'm a happy owner of a HiDPI device on which I
immediately setup Fedora 27 which ships with Gnome 3.26, wayland, Qt 5.9
and all the other nice new libraries and stuff.

Trying to develop (and use the system otherwise) I failed terribly to
get a satisfactory configuration for QGIS development (and also
otherwise). There are a few knobs to "finetune" DPI, but I just seem not
to be able to get things right. Each variable I set somewhere has
side-effects somewhere else.

* Gnome itself already has a scale setting which at 100% makes things
very, very tiny and at 200% (the only other option) makes everything
grandma mode.

* Then there is also the environment variable
QT_AUTO_SCREEN_SCALE_FACTOR which seems to make Qt Creator a bit more
usable. (Qt Creator internally actually seems to be using two different
dpi's - probably QML vs. QWidget issues) But with this env variable set,
the QGIS interface seems to be scaled up twice.

* Then there are various other variables for Thunderbird, Firefox, ...
that again allow to scale contents for specific applications

* And I read somewhere about xrandr for additional zooming, but I'm
neither convinced that this is a good approach since some mouse setting
apparently needs to compensate for this, nor does this seem to have any
effect (probably because of Wayland) Source:
https://wiki.archlinux.org/index.php/HiDPI


So apart from a rant for the mess by GUI frameworks and window managers,
there's also a question: did anyone succeed to set things up properly?


Thanks

Matthias


From apasotti at gmail.com  Mon Oct 16 08:05:14 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 16 Oct 2017 17:05:14 +0200
Subject: [QGIS-Developer] Development / HiDPI / Linux
In-Reply-To: <92896344-96bb-0501-aa36-9632d7ab200d@opengis.ch>
References: <92896344-96bb-0501-aa36-9632d7ab200d@opengis.ch>
Message-ID: <CAL5Q671GwE70+5CH7wCwtDNW5nd-V_OW+QTpp+YD8CFfz60t=Q@mail.gmail.com>

Hi Mathias,

My only real problem now is with PgAdmin 3, all other applications that I
use are running just fine on HiDPI.

The apps I uses more often are: QGIS, various browsers, thunderbird, Qt
creator 4 and they are all ok.

What I usually do to fine-tune all is to force dpi in the display section
of the system config panel (I think it goes directly to X through xrandr).

But I'm on Kubuntu xenial, perhaps that makes a difference.



On Mon, Oct 16, 2017 at 4:44 PM, Matthias Kuhn <matthias at opengis.ch> wrote:

> Hi developers,
>
> Just for a couple of days I'm a happy owner of a HiDPI device on which I
> immediately setup Fedora 27 which ships with Gnome 3.26, wayland, Qt 5.9
> and all the other nice new libraries and stuff.
>
> Trying to develop (and use the system otherwise) I failed terribly to
> get a satisfactory configuration for QGIS development (and also
> otherwise). There are a few knobs to "finetune" DPI, but I just seem not
> to be able to get things right. Each variable I set somewhere has
> side-effects somewhere else.
>
> * Gnome itself already has a scale setting which at 100% makes things
> very, very tiny and at 200% (the only other option) makes everything
> grandma mode.
>
> * Then there is also the environment variable
> QT_AUTO_SCREEN_SCALE_FACTOR which seems to make Qt Creator a bit more
> usable. (Qt Creator internally actually seems to be using two different
> dpi's - probably QML vs. QWidget issues) But with this env variable set,
> the QGIS interface seems to be scaled up twice.
>
> * Then there are various other variables for Thunderbird, Firefox, ...
> that again allow to scale contents for specific applications
>
> * And I read somewhere about xrandr for additional zooming, but I'm
> neither convinced that this is a good approach since some mouse setting
> apparently needs to compensate for this, nor does this seem to have any
> effect (probably because of Wayland) Source:
> https://wiki.archlinux.org/index.php/HiDPI
>
>
> So apart from a rant for the mess by GUI frameworks and window managers,
> there's also a question: did anyone succeed to set things up properly?
>
>
> Thanks
>
> Matthias
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer




-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171016/3815b086/attachment.html>

From giohappy at gmail.com  Mon Oct 16 08:19:47 2017
From: giohappy at gmail.com (G. Allegri)
Date: Mon, 16 Oct 2017 17:19:47 +0200
Subject: [QGIS-Developer] Development / HiDPI / Linux
In-Reply-To: <CAL5Q671GwE70+5CH7wCwtDNW5nd-V_OW+QTpp+YD8CFfz60t=Q@mail.gmail.com>
References: <92896344-96bb-0501-aa36-9632d7ab200d@opengis.ch>
 <CAL5Q671GwE70+5CH7wCwtDNW5nd-V_OW+QTpp+YD8CFfz60t=Q@mail.gmail.com>
Message-ID: <CAB4g1=z+vpHAa9FqGe5+4r8toaqpv=cw0rwMbLYwiEiTaBnX4A@mail.gmail.com>

With Lubuntu I've got good results setting "Xft.dpi:150" within my
.Xresources file.

giovanni

Il 16 ott 2017 17:05, "Alessandro Pasotti" <apasotti at gmail.com> ha scritto:

> Hi Mathias,
>
> My only real problem now is with PgAdmin 3, all other applications that I
> use are running just fine on HiDPI.
>
> The apps I uses more often are: QGIS, various browsers, thunderbird, Qt
> creator 4 and they are all ok.
>
> What I usually do to fine-tune all is to force dpi in the display section
> of the system config panel (I think it goes directly to X through xrandr).
>
> But I'm on Kubuntu xenial, perhaps that makes a difference.
>
>
>
> On Mon, Oct 16, 2017 at 4:44 PM, Matthias Kuhn <matthias at opengis.ch>
> wrote:
>
>> Hi developers,
>>
>> Just for a couple of days I'm a happy owner of a HiDPI device on which I
>> immediately setup Fedora 27 which ships with Gnome 3.26, wayland, Qt 5.9
>> and all the other nice new libraries and stuff.
>>
>> Trying to develop (and use the system otherwise) I failed terribly to
>> get a satisfactory configuration for QGIS development (and also
>> otherwise). There are a few knobs to "finetune" DPI, but I just seem not
>> to be able to get things right. Each variable I set somewhere has
>> side-effects somewhere else.
>>
>> * Gnome itself already has a scale setting which at 100% makes things
>> very, very tiny and at 200% (the only other option) makes everything
>> grandma mode.
>>
>> * Then there is also the environment variable
>> QT_AUTO_SCREEN_SCALE_FACTOR which seems to make Qt Creator a bit more
>> usable. (Qt Creator internally actually seems to be using two different
>> dpi's - probably QML vs. QWidget issues) But with this env variable set,
>> the QGIS interface seems to be scaled up twice.
>>
>> * Then there are various other variables for Thunderbird, Firefox, ...
>> that again allow to scale contents for specific applications
>>
>> * And I read somewhere about xrandr for additional zooming, but I'm
>> neither convinced that this is a good approach since some mouse setting
>> apparently needs to compensate for this, nor does this seem to have any
>> effect (probably because of Wayland) Source:
>> https://wiki.archlinux.org/index.php/HiDPI
>>
>>
>> So apart from a rant for the mess by GUI frameworks and window managers,
>> there's also a question: did anyone succeed to set things up properly?
>>
>>
>> Thanks
>>
>> Matthias
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171016/9c7faa7d/attachment-0001.html>

From sfkeller at gmail.com  Mon Oct 16 08:38:47 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Mon, 16 Oct 2017 17:38:47 +0200
Subject: [QGIS-Developer] QGIS error when connected to signal
	newProjectCreated
In-Reply-To: <51a8a728-6ee2-3a33-0c6c-8b19170c8fdd@duif.net>
References: <CAFcOn28dh1uvMfQLV8Ceo3+4A2OvLbiDCz7ZKxpw2MVb+acM5Q@mail.gmail.com>
 <51a8a728-6ee2-3a33-0c6c-8b19170c8fdd@duif.net>
Message-ID: <CAFcOn2_zR+4tM1563V+JQx4w6m=RwXEaaHeK1xv0ggVqAhMaxQ@mail.gmail.com>

Hi Richard,

Many thanks for engaging here.
It seems, that the error is issued by another signal which we
connected at start/reload of the plugin, but forgot to disconnect.

:Stefan


2017-10-13 11:24 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:
> Can you show some more code, and in what version of QGIS?
>
> If I run the following in the python console (2.18.13 and master), it
> just works?:
>
> def test():
>     print('yes')
>
> iface.newProjectCreated.connect(test)
>
> Regards,
>
> Richard Duivenvoorde
>
>
> On 13-10-17 11:12, Stefan Keller wrote:
>> This message was sent by Martin Boos (but seems to have been rejected
>> currently):
>>
>> Hi devs
>>
>> I’m trying to handle the signal ‘newProjectCreated’ in my python
>> plugin. Unfortunately, every time this event occurs, a python error is
>> thrown:
>>
>> Traceback (most recent call last):
>> File "C:/Users/Martin/.qgis2/python/plugins\Vector-Tiles-Reader-QGIS-Plugin\vtr_plugin.py",
>> line 88, in _on_new_qgis_project_created
>> pass
>> TypeError: 'NoneType' object is not callable
>>
>> Funny thing is, this happens even if my handler is empty:
>>
>>     def _on_new_qgis_project_created(self):
>>         pass
>>
>>
>> Any ideas how to solve this?
>>
>> Thanks and best regards
>> Martin
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From rdmailings at duif.net  Mon Oct 16 10:48:37 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 16 Oct 2017 19:48:37 +0200
Subject: [QGIS-Developer] Development / HiDPI / Linux
In-Reply-To: <92896344-96bb-0501-aa36-9632d7ab200d@opengis.ch>
References: <92896344-96bb-0501-aa36-9632d7ab200d@opengis.ch>
Message-ID: <351cfdb0-7731-d2d1-1fc0-2c889d8e9ced@duif.net>

If on GNOME 3.26, I reas something about an experimental features recently:

https://www.maketecheasier.com/enable-fractional-scaling-gnome/

Regards,

Richard Duivenvoorde


On 16-10-17 16:44, Matthias Kuhn wrote:
> Hi developers,
> 
> Just for a couple of days I'm a happy owner of a HiDPI device on which I
> immediately setup Fedora 27 which ships with Gnome 3.26, wayland, Qt 5.9
> and all the other nice new libraries and stuff.
> 
> Trying to develop (and use the system otherwise) I failed terribly to
> get a satisfactory configuration for QGIS development (and also
> otherwise). There are a few knobs to "finetune" DPI, but I just seem not
> to be able to get things right. Each variable I set somewhere has
> side-effects somewhere else.
> 
> * Gnome itself already has a scale setting which at 100% makes things
> very, very tiny and at 200% (the only other option) makes everything
> grandma mode.
> 
> * Then there is also the environment variable
> QT_AUTO_SCREEN_SCALE_FACTOR which seems to make Qt Creator a bit more
> usable. (Qt Creator internally actually seems to be using two different
> dpi's - probably QML vs. QWidget issues) But with this env variable set,
> the QGIS interface seems to be scaled up twice.
> 
> * Then there are various other variables for Thunderbird, Firefox, ...
> that again allow to scale contents for specific applications
> 
> * And I read somewhere about xrandr for additional zooming, but I'm
> neither convinced that this is a good approach since some mouse setting
> apparently needs to compensate for this, nor does this seem to have any
> effect (probably because of Wayland) Source:
> https://wiki.archlinux.org/index.php/HiDPI
> 
> 
> So apart from a rant for the mess by GUI frameworks and window managers,
> there's also a question: did anyone succeed to set things up properly?
> 
> 
> Thanks
> 
> Matthias
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From adenaculture at gmail.com  Mon Oct 16 14:06:02 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 16 Oct 2017 17:06:02 -0400
Subject: [QGIS-Developer] Search Layers Plugin
Message-ID: <CABPxTTqUcDBBjHg4btKqS3d9N25unic6ihNDwCpO2NWLW-j2zQ@mail.gmail.com>

I just reuploaded this plugin to the QGIS repo.

http://plugins.qgis.org/plugins/layersearch/

Last year I uploaded this, but I was asked to see if some of the other
search projects and in particular the Quick Finder folks would include this
type of search capability; however, I found that Quick Finder developers
really were not interested as this search does not follow their way of
searching. They either use remote services or preindex local layers. When
searching on layers I certainly don't want to pre-index unless I am doing
the same thing daily. Eventually, I deleted this plugin from the repo.

The reason I decided to resubmit it is because it is just plain useful and
there was a user over the weekend who requested this capability. I pointed
him to where my code was located at and it did just what he needed.

Given that there is not a plugin that does a search like this and can allow
examination of the results while the search is operating I just think it
should be included and in the event that some other developer decides to
enhance their searching to the point that it is as easy as this plugin,
then I would be happy to have it deprecated, but until then people might as
well make use of it.

I went back through the code and simplified it some what and made it a
little better.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171016/c97d769d/attachment.html>

From sfkeller at gmail.com  Mon Oct 16 14:20:26 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Mon, 16 Oct 2017 23:20:26 +0200
Subject: [QGIS-Developer] OsmAnd obf data + styling ?
In-Reply-To: <88a3cd38791b4024a046467ebd07014b@EXCHMBX-21.cg67.fr>
References: <0c38f569-6a11-80d6-25d4-a55a8ee256a2@duif.net>
 <CAFcOn29Zm4=yd4Gc43RRZ2s7p1qaJXbiLeoqsuuWL-P6XA_-mQ@mail.gmail.com>
 <CAFcOn2891PuVght-86BpZc6Erg7+EoPg1mAUb9NfrVyCQ-YBLg@mail.gmail.com>
 <88a3cd38791b4024a046467ebd07014b@EXCHMBX-21.cg67.fr>
Message-ID: <CAFcOn2-aPsn9t5ZAgq1B0RXMcjiOoxRFL7aomj6V+uo4dc1ACg@mail.gmail.com>

Hi,

2017-10-16 10:22 GMT+02:00 PIERRE Sylvain <sylvain.pierre at bas-rhin.fr>:
> I'm interest in OSMAND rendering too.
> XML ressources for styling are here :
> https://github.com/osmandapp/OsmAnd-resources/tree/master/rendering_styles
>
> Question is: how can I apply one OSMAND style to OSM data?

Let me explain it like this: Every style (e.g. OsmAnd default style)
is written in a style language, which maps a data object (e.g. an OSM
tree) to a symbol (e.g. pine.svg), perhaps with a data filter, like
filtering only OSM trees with tag "pine" and given a certain scale
range.
OsmAnd has a fixed OsmAnd specific data schema (derived from OSM
data), an OsmAnd specific styling language, an OsmAnd specific default
style written in this language (in XML) and an OsmAnd specific Java
renderer.
Given QGIS would be able to read the fixed OsmAnd specific data schema
and format, we still face the problem that there is no software which
would translate an OsmAnd style to QGIS styles (remember: the only
existing software is the OsmAnd app which interprets OsmAnd styles).
And even if we would have such a OsmAnd style interpreter, we always
would be dependent of OsmAnd tools and every time we want to include
another OSM object (say a bench) ,we would have to convince OsmAnd
devs that this also belongs into OsmAnd.

That's why I suggest another approach: Let's use the new 2D vector
tiles technology with the de-facto standard specified by Mapbox. This
mainly consists of the MVT spec. plus metadata. There is even a file
format - mbtiles for vector tiles, which is not yet a standard (there
are GeoPackage Extensions under way) but it's already usable for
offline use, e.g. in the Vector Tiles Reader plugin.

There exist free vector tiles services e.g. from OpenMapTiles.org and
MapZen (both with different data schematas) and downloadable (mbtiles)
data e.g. from OpenMapTiles.org. And there exist even vector tiles
generators, like tilemaker or t-rex to produce vector tiles (mbtiles
format) on your own.

What still remains to be resolved is the question of nice open base map styles:

2017-10-16 8:44 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:
> ...
> My aims is just to make it easier to have for example a local reference
> map for offline users. The ability to do routing on it was also a nice
> feature of their format...
>
> Are you aware of a nice (QGIS) styling for that data model then?
> (lines, multipolygons, planet_osm_lines/_points/_polygons, points)

What you cite here as data model/schema is the "osm2pgsql schema"
which is typically used together with mapnik styles (XML/CartoCSS) and
renderer.
Given this data schema you could use also the QGIS styling language
and there is at least one nice QGIS style I'm aware of:
https://github.com/yannos/beautiful_osm_in_qgis/
This is a nice starting point - but it will inevitably become slow for
larger areas since planet osm_points is a huge table which needs to be
fully scanned several times for every zoom/pan.

Now coming back to my vector tiles approach: The Vector Tiles Reader
plugin comes with a simple base map style made for OpenMapTiles
(service or offline mbtiles):
https://github.com/geometalab/Vector-Tiles-Reader-QGIS-Plugin/tree/master/styles
. These .QML files need some love and everyone is invited to enhance
this style and submit pull requests to this repo.

Looking at OpenMapTiles.org you'll see many nice base map styles with
an open license. These styles are written in the MapBox GL JS styling
language which is something QGIS can not read. So my plans with the
Vector Tiles Reader plugin are to get e.g. a converter which
translates them to MapBox GL JS => QGIS QML. But don't expect too much
from such a software since I'd dare to say that no style language
(QML, SLD/SE, MapServer, MapBox GL JS, OsmAnd, Mapnik XML/CartoCSS,
ArcGIS) can be converted to another without information loss.

So good thing is, that there's already a basic reference map style
available in the Vector Tiles Reader (QML as mentioned above) which
can be tested and enhanced already now.

:Stefan


P.S. The OSM export sites I gave you (HOT Export and OSMaxx) have
different data schematas and I'm only aware of an OSMaxx default style
which fits to the OSMaxx schema - but it's not yet a really "nice
style" nor is it as nifty like vector tiles. They are rather OSM data
for thematic maps or spatial analysis.


2017-10-16 10:22 GMT+02:00 PIERRE Sylvain <sylvain.pierre at bas-rhin.fr>:
> I'm interest in OSMAND rendering too.
> XML ressources for styling are here :
> https://github.com/osmandapp/OsmAnd-resources/tree/master/rendering_styles
>
> Question is: how can I apply one OSMAND style to OSM data?
>
> Sylvain
>
> -----Message d'origine-----
> De : QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] De la part de Stefan Keller
> Envoyé : dimanche 15 octobre 2017 00:19
> À : qgis-developer
> Cc : richard at duif.net
> Objet : Re: [QGIS-Developer] OsmAnd obf data + styling ?
>
> 2017-10-14 23:44 GMT+02:00 Stefan Keller <sfkeller at gmail.com>:
>> It's using OSM data, so why not taking the data directly from OSM e.g.
>> using HOT Export [2] or OSMaxx tools [3]?
> ...
>> [1] http://osmand.net/help/MapAddressDataStructure.html
>> [2] https://export.hotosm.org/
>> [3] https://osmaxx.hsr.ch/
>
> ... and for base maps I hope the Vector Tiles Reader [4] plugin becomes better and better...
>
> :Stefan
>
> [4] http://plugins.qgis.org/plugins/vector_tiles_reader/
>
> 2017-10-14 23:44 GMT+02:00 Stefan Keller <sfkeller at gmail.com>:
>> 2017-10-14 16:51 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:
>>> As OsmAnd (for Android and Iphone) [0][1] is getting better and
>>> better, I wonder if we/QGIS can (re)use/handle their data source and styling.
>>
>> According to [1] the 'obf' file has a complex structure and consists
>> of 4 multiple parts:
>> (vector) map tiles, transport (routing), POI, adresses.
>> The OsmAnd styling seems to come with the Java binaries.
>>
>> What is your use case to read such a specialized format into QGIS?
>>
>> It's using OSM data, so why not taking the data directly from OSM e.g.
>> using HOT Export [2] or OSMaxx tools [3]?
>>
>> :Stefan
>>
>> [1] http://osmand.net/help/MapAddressDataStructure.html
>> [2] https://export.hotosm.org/
>> [3] https://osmaxx.hsr.ch/
>>
>>
>> 2017-10-14 16:51 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:
>>> As OsmAnd (for Android and Iphone) [0][1] is getting better and
>>> better, I wonder if we/QGIS can (re)use/handle their data source and styling.
>>>
>>> The format is a binary .obf file in (protobuf apparently? [2])?
>>> Is this some kind of vector tiling?
>>>
>>> Anybody interested, or has some more info about this?
>>>
>>> Regards,
>>>
>>> Richard Duivenvoorde
>>>
>>>
>>> [0] http://osmand.net/
>>> [1] https://github.com/osmandapp/Osmand
>>> [2]
>>> https://github.com/osmandapp/OsmAnd-tools/tree/master/OsmAndMapCreato
>>> r _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From lbartoletti at tuxfamily.org  Mon Oct 16 14:54:33 2017
From: lbartoletti at tuxfamily.org (L.Bartoletti)
Date: Mon, 16 Oct 2017 23:54:33 +0200
Subject: [QGIS-Developer] Handling "complex" geometries
Message-ID: <feaeab3a-e317-6c69-5560-a17fefaed36e@tuxfamily.org>

Hi,

I'm working on an AutoCAD to QGis migration topic for town planners and 
landscapers that made me think about something that I would like your 
opinion.

I recently committed new features to draw and I have just proposed QEPs 
to improve the drawing "a la" CAD in QGis, but I'm wondering about the 
representation of some geometries and how to manage them well.

There is no known method to transform an ellipse into an arc, so 
geometry is always segmented. Similarly, a circle is represented by 
several arcs which, when a node is modified, can deform the circle.
I've often seen landscapers or town planners (like me) drawings with 
splines. We don't yet have the possibility to draw it (TODO ;) ) but 
clearly, how to manage it in QGis afterwards?

Even if it's boring to take up again, a circle or ellipse is simple to 
redraw if you want to modify them, but a spline is more complex.

Apart from DXF/DWG formats, I am not aware of the direct support of 
these geometries in GIS formats (maybe GML 3 and those compliant with 
ISO 19107:2003? I didn't know this standard until today), in any case, 
they don't exist in the standard OGC "simple feature access" which seems 
to be our basis, right? Thus, we must convert them: arcs or segments for 
circles, segments for splines and ellipses.

So, how can we keep track of the originals geometries without having to 
convert them?
Here are some thoughts mixed up ...

- Never mind, we stay with primitive types
- Added support for existing geometries (circles, ellipses) when formats 
offer it. There is maybe a link to do with GDAL/OGR.
- We try to be full ISO and we develop all the geometries in QGis :D

For formats that do not support these types, we record at best (arc, 
segments) but for editing:
- The action is stored in memory and until the editing session is 
finished, the geometry can be modified by moving the quadrants (circles, 
ellipses) or control points (splines)
- Information is stored in an auxiliary or base file for RDBMS. Thus, 
when it is opened in QGis you can find the information and modify the 
geometries correctly, otherwise it remains open as it is today in arc or 
segmented. It's like an external/"proprietary" feature.

How do you feel about that?

Regards.

Loïc


From nyall.dawson at gmail.com  Mon Oct 16 16:19:43 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 17 Oct 2017 09:19:43 +1000
Subject: [QGIS-Developer] Development / HiDPI / Linux
In-Reply-To: <92896344-96bb-0501-aa36-9632d7ab200d@opengis.ch>
References: <92896344-96bb-0501-aa36-9632d7ab200d@opengis.ch>
Message-ID: <CAB28AsjVjz3pp8Y6b1cqFQwX8x5NK+WfKnRy9-waT65r8HXm8g@mail.gmail.com>

On 17 October 2017 at 00:44, Matthias Kuhn <matthias at opengis.ch> wrote:
> Hi developers,
>
> Just for a couple of days I'm a happy owner of a HiDPI device on which I
> immediately setup Fedora 27 which ships with Gnome 3.26, wayland, Qt 5.9
> and all the other nice new libraries and stuff.
>
> Trying to develop (and use the system otherwise) I failed terribly to
> get a satisfactory configuration for QGIS development (and also
> otherwise). There are a few knobs to "finetune" DPI, but I just seem not
> to be able to get things right. Each variable I set somewhere has
> side-effects somewhere else.

Thanks for bringing up this discussion! I suffer with this too (Dell
xps 15 - what's yours?).

Honestly I don't think the hidpi is worth the hassle it causes, and if
it were possible I'd just run it in a lower resolution, and let
Qt/Gnome/Wayland/some other QGIS developer/etc deal with the issues
for now. Unfortunately my laptop doesn't support any lower resolutions
with the correct aspect ratio. grr. So let's try to solve this
correctly!

> * Gnome itself already has a scale setting which at 100% makes things
> very, very tiny and at 200% (the only other option) makes everything
> grandma mode.

Is this the "window scaling" setting under tweak tool? For me a
scaling of 2 works nicely for all gnome applications. Fonts and
spacing are certainly larger than i'd ideally like, but that's gnome
for you (and i see this on my low-dpi desktop too).

My experience (fedora 26, gnome, windows scaling of 2) is that this
makes Qt Creator almost unusable (although you get used to clicking
tiny tiny buttons.... at least the font size can be fixed). QGIS works
generally OK like this. There's some tiny icons in tree views and
various widget chrome, but I don't think any of this is our fault or
indeed anything wrong at QGIS' end. On the plus side, the map canvas
and composer are fully hidpi and look super-smooth. Oh, we do have
some issues in QGIS too, like https://issues.qgis.org/issues/12671.

> * Then there is also the environment variable
> QT_AUTO_SCREEN_SCALE_FACTOR which seems to make Qt Creator a bit more
> usable. (Qt Creator internally actually seems to be using two different
> dpi's - probably QML vs. QWidget issues) But with this env variable set,
> the QGIS interface seems to be scaled up twice.

This makes QGIS a bit more usable, but for me results in low-dpi
scaled up canvas and composer. Also there's an issue in the color
dialogs (can't find it on hub, but it's there somewhere) where the
sliders have "gaps" in the color ramps. I suspect this is because we
need to use the qreal painter methods instead of int, but haven't
checked this.

> * And I read somewhere about xrandr for additional zooming, but I'm
> neither convinced that this is a good approach since some mouse setting
> apparently needs to compensate for this, nor does this seem to have any
> effect (probably because of Wayland) Source:
> https://wiki.archlinux.org/index.php/HiDPI

I use xorg. Not sure if that has a big effect here, but I found
various bits of Qt just didn't work correctly under Wayland. I also
got lots of hangs with Qt Creator. That was > 6 months ago though, so
maybe they've been fixed in the meantime.

> So apart from a rant for the mess by GUI frameworks and window managers,
> there's also a question: did anyone succeed to set things up properly?

No. At least, not me.

Just to throw this in... Windows is also a mess, so this isn't a linux
specific issue ;) E.g. libreoffice is totally unusable for me under
windows in hidpi.

Nyall

From a.neumann at carto.net  Mon Oct 16 23:46:07 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 17 Oct 2017 08:46:07 +0200
Subject: [QGIS-Developer] Handling "complex" geometries
In-Reply-To: <feaeab3a-e317-6c69-5560-a17fefaed36e@tuxfamily.org>
References: <feaeab3a-e317-6c69-5560-a17fefaed36e@tuxfamily.org>
Message-ID: <820f4324ad8adefea584f8c54cff0a36@carto.net>

Hi Loïc, 

As a cartographer and QGIS user I'd love to see spline or nurbs support
in QGIS. But from a developer point of view (and data format point of
view) it probably opens a can of worms. I do hope that we can get there
eventually. 

As you have discovered, besides GML3 and DXF/DWG and ESRI FGDB no other
format seems to support spline/nurbs. 

We would have to enhance Postgis as well to handle them - and the
geometry libraries (or we segment them as we do with circular arcs) as
an intermediate step. 

I am sure that other devs (e.g. Marco Hugentobler, Nyall, Martin and
others) would have more thoughts on that topic. And maybe Even could
comment from a OGR point of view - what would have to be done to support
splines/nurbs. 

Good to see discussion starting on that topic! 

Andreas 

On 2017-10-16 23:54, L.Bartoletti wrote:

> Hi,
> 
> I'm working on an AutoCAD to QGis migration topic for town planners and landscapers that made me think about something that I would like your opinion.
> 
> I recently committed new features to draw and I have just proposed QEPs to improve the drawing "a la" CAD in QGis, but I'm wondering about the representation of some geometries and how to manage them well.
> 
> There is no known method to transform an ellipse into an arc, so geometry is always segmented. Similarly, a circle is represented by several arcs which, when a node is modified, can deform the circle.
> I've often seen landscapers or town planners (like me) drawings with splines. We don't yet have the possibility to draw it (TODO ;) ) but clearly, how to manage it in QGis afterwards?
> 
> Even if it's boring to take up again, a circle or ellipse is simple to redraw if you want to modify them, but a spline is more complex.
> 
> Apart from DXF/DWG formats, I am not aware of the direct support of these geometries in GIS formats (maybe GML 3 and those compliant with ISO 19107:2003? I didn't know this standard until today), in any case, they don't exist in the standard OGC "simple feature access" which seems to be our basis, right? Thus, we must convert them: arcs or segments for circles, segments for splines and ellipses.
> 
> So, how can we keep track of the originals geometries without having to convert them?
> Here are some thoughts mixed up ...
> 
> - Never mind, we stay with primitive types
> - Added support for existing geometries (circles, ellipses) when formats offer it. There is maybe a link to do with GDAL/OGR.
> - We try to be full ISO and we develop all the geometries in QGis :D
> 
> For formats that do not support these types, we record at best (arc, segments) but for editing:
> - The action is stored in memory and until the editing session is finished, the geometry can be modified by moving the quadrants (circles, ellipses) or control points (splines)
> - Information is stored in an auxiliary or base file for RDBMS. Thus, when it is opened in QGis you can find the information and modify the geometries correctly, otherwise it remains open as it is today in arc or segmented. It's like an external/"proprietary" feature.
> 
> How do you feel about that?
> 
> Regards.
> 
> Loïc
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171017/e2411172/attachment-0001.html>

From a.neumann at carto.net  Tue Oct 17 01:47:02 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 17 Oct 2017 10:47:02 +0200
Subject: [QGIS-Developer] PDF output and transparencies/blend modes
Message-ID: <c34262eb84d144112e3d6a6eaf65ce89@carto.net>

Hi, 

QGIS 2x and qt 4.8 had the limitation, that as soon as the user
introduced transparencies or blend modes, that the PDF output had to be
rasterized. 

Is this still the case with qt 5.9x or did something improve along these
lines? As far as I know, PDF supports both transparencies and blend
modes also for vector objects. 

Thanks for a reply if someone knows, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171017/180913c4/attachment.html>

From tom.chadwin at nnpa.org.uk  Tue Oct 17 02:37:55 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 17 Oct 2017 02:37:55 -0700 (MST)
Subject: [QGIS-Developer] OsmAnd obf data + styling ?
In-Reply-To: <CAFcOn2-aPsn9t5ZAgq1B0RXMcjiOoxRFL7aomj6V+uo4dc1ACg@mail.gmail.com>
References: <0c38f569-6a11-80d6-25d4-a55a8ee256a2@duif.net>
 <CAFcOn29Zm4=yd4Gc43RRZ2s7p1qaJXbiLeoqsuuWL-P6XA_-mQ@mail.gmail.com>
 <CAFcOn2891PuVght-86BpZc6Erg7+EoPg1mAUb9NfrVyCQ-YBLg@mail.gmail.com>
 <88a3cd38791b4024a046467ebd07014b@EXCHMBX-21.cg67.fr>
 <CAFcOn2-aPsn9t5ZAgq1B0RXMcjiOoxRFL7aomj6V+uo4dc1ACg@mail.gmail.com>
Message-ID: <1508233075252-0.post@n6.nabble.com>

Stefan Keller wrote
> And there exist even vector tiles
> generators, like tilemaker or t-rex to produce vector tiles (mbtiles
> format) on your own.

And PostGIS recently implemented a native vector tile output:

https://postgis.net/docs/manual-dev/ST_AsMVT.html

I think that, plus this QGIS Vector Tile Reader could work together
incredibly well, though I've not yet tried it myself.

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From tom.chadwin at nnpa.org.uk  Tue Oct 17 03:20:51 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 17 Oct 2017 03:20:51 -0700 (MST)
Subject: [QGIS-Developer] Handling "complex" geometries
In-Reply-To: <820f4324ad8adefea584f8c54cff0a36@carto.net>
References: <feaeab3a-e317-6c69-5560-a17fefaed36e@tuxfamily.org>
 <820f4324ad8adefea584f8c54cff0a36@carto.net>
Message-ID: <1508235651071-0.post@n6.nabble.com>

Andreas Neumann-4 wrote
> I am sure that other devs (e.g. Marco Hugentobler, Nyall, Martin and
> others) would have more thoughts on that topic. And maybe Even could
> comment from a OGR point of view - what would have to be done to support
> splines/nurbs. 

Is this dependent on support in geos - strk/Bas?

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From a.neumann at carto.net  Tue Oct 17 07:07:18 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 17 Oct 2017 16:07:18 +0200
Subject: [QGIS-Developer] Overwriting env vars fails to work in master
Message-ID: <accb763c8928a62913ac0a1154db4ab8@carto.net>

Hi, 

I discovered that overwriting env vars (user defined) in master fails to
work in QGIS master. 

See issue https://issues.qgis.org/issues/17297 

This happens at least in Windows 7. 

Can someone confirm if this issue is reproducible? 

Thanks, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171017/c641100a/attachment.html>

From adenaculture at gmail.com  Tue Oct 17 07:48:20 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 17 Oct 2017 10:48:20 -0400
Subject: [QGIS-Developer] QGIS 2.99 Vector/Raster import Browse button
	garbled
Message-ID: <CABPxTTp6YRN=XC4oA9feNJDXZHzgGuif8yzcT8S5ukc-jhmyQg@mail.gmail.com>

Just an FYI. I don't know if this has already been reported or not, but the
file browse button is garbled for the Vector & Raster "Open Data Source
Manager" tabs. Here is what I am seeing.

[image: Inline image 1]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171017/bed08676/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: garbled.jpg
Type: image/jpeg
Size: 13343 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171017/bed08676/attachment-0001.jpg>

From wonder.sk at gmail.com  Tue Oct 17 07:54:48 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue, 17 Oct 2017 16:54:48 +0200
Subject: [QGIS-Developer] Development / HiDPI / Linux
In-Reply-To: <92896344-96bb-0501-aa36-9632d7ab200d@opengis.ch>
References: <92896344-96bb-0501-aa36-9632d7ab200d@opengis.ch>
Message-ID: <CAC2XbFdaaQHjis3AtGfiJvPqLgqQe1oa_dAnxQdz9Fm_1ya08Q@mail.gmail.com>

Hi Matthias

On Mon, Oct 16, 2017 at 4:44 PM, Matthias Kuhn <matthias at opengis.ch> wrote:
>
> So apart from a rant for the mess by GUI frameworks and window managers,
> there's also a question: did anyone succeed to set things up properly?

I have a HiDPI laptop as well and my experience is quite similar to
Nyall's. I am using KDE as the desktop environment instead of Gnome.
Had to do some tweaks here and there and some glitches are still there
in some apps. Over a couple of system upgrades the situation is
getting slowly better.

Still the super crisp text is worth the trouble :-)

Cheers
Martin

From tom.chadwin at nnpa.org.uk  Tue Oct 17 08:30:29 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Tue, 17 Oct 2017 08:30:29 -0700 (MST)
Subject: [QGIS-Developer] QGIS 2.99 Vector/Raster import Browse button
 garbled
In-Reply-To: <CABPxTTp6YRN=XC4oA9feNJDXZHzgGuif8yzcT8S5ukc-jhmyQg@mail.gmail.com>
References: <CABPxTTp6YRN=XC4oA9feNJDXZHzgGuif8yzcT8S5ukc-jhmyQg@mail.gmail.com>
Message-ID: <1508254229142-0.post@n6.nabble.com>

Thanks for reminding me. I'm seeing that for all "Browse" buttons in the
nightly. I assume it's a wrongly encoded ellipsis, or something like that?

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From giohappy at gmail.com  Tue Oct 17 09:07:44 2017
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 17 Oct 2017 18:07:44 +0200
Subject: [QGIS-Developer] Measurement weirdness
Message-ID: <CAB4g1=wo_n1AU2zX+2oMpFka837EkO283dtQU4m2vzj2TYceXA@mail.gmail.com>

Recently I had to verify some measurements and I decided to test QGIS
master for this. Aside from facing various issues with the Measurement
options dropdowns [1] I noticed thar OTF has disappeared, so I suppose that
measurements are always done on the ellipsoid of the project CRS, unless a
non-projected SR has been chosen, right?
I did some tests on 3003 and 3857, both with the measurement tool and the
$length function, and I got weird behavious and incorrect results (compared
to QGIS 2.18 and some truth sources).

Is the measurement machinery considered stable and ready for release, or is
it under active development?

All the best,
Giovanni

[1] https://issues.qgis.org/issues/17296
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171017/99cd0ab6/attachment.html>

From engnfrc at gmail.com  Tue Oct 17 09:22:14 2017
From: engnfrc at gmail.com (Joshua Quesenberry)
Date: Tue, 17 Oct 2017 12:22:14 -0400
Subject: [QGIS-Developer] Need Help Programmatically Creating a New
	Composition
Message-ID: <020801d34764$186c5190$4944f4b0$@gmail.com>

All,

 

Issue #1

 

Im trying to create a Composer Layout using Python and Im having issues
with addComposerHtmlFrame. I currently have QGIS 2.16.2 installed so the API
documentation Im finding online doesnt always match up with what Im
having to actually do. At this point when I add a Composer HTML Frame I see
the frame in the layout, but the HTML isnt rendered, even if I click on
Refresh HTML.

 

Ive tried a few variations of my code, heres the current variation:

 

----------------------------------------------------------------------------
------------------

 

comp = self.iface.createNewComposer('Map_Layout')

c = comp.composition()

paper_w = 279.4

paper_h = 215.9 

c.setPaperSize(paper_w, paper_h)

c.setPlotStyle(QgsComposition.Print)

 

# Add Mag Decl / Datum Info

info1 = QgsComposerHtml(c, False)

info1.setContentMode(QgsComposerHtml.ManualHtml)

info1.setHtml('''Mag Decl: 8.16° W<br>

Horz. Datum: WGS84''')

frame1 = QgsComposerFrame(c, info1, 27., 195., 42., 12.)

frame1.setId('Info 1')

c.addComposerHtmlFrame(info1, frame1)

 

# Add Map Name / Scale / Print Date / Contour Interval Info

info2 = QgsComposerHtml(c, False)

info2.setContentMode(QgsComposerHtml.ManualHtml)

info2.setHtml('''<table>

<tr>

<td width="68%">

Map Name: STUART (VA)

</td>

<td>

Scale: 1 inch = 2,000 ft

</td>

</tr>

<tr>

<td>

Print Date: Thu Oct 17 07:34:36 2013

</td>

<td>

Contour Interval: 20 Feet

</td>

</tr>

</table>''')

frame2 = QgsComposerFrame(c, info2, 73., 193., 125., 15.)

frame2.setFrameEnabled(True)

frame2.setId('Info 2')

c.addComposerHtmlFrame(info2, frame2)

 

----------------------------------------------------------------------------
------------------

 

The documentation says that the 2nd parameter to QgsComposerFrame needs to
be a QgsComposerMultiFrame. Since QgsComposerMultiFrame is an abstract class
the only two options I know to try are either setting this parameter to None
(variation 1) or setting it to the QgsComposerHtml item itself (variation
2), where the latter is what Im doing above.

 

Are there any ideas why the contents of the QgsComposerHtml never appear?
Also, if I save my project, close QGIS, and then re-open QGIS and the
project, the QgsComposerHtml elements are missing.

 

Issue #2

 

Is there any way to create a new Composer without opening the Composer
window? I tried hiding the window after creating the new Composer, but that
just gave me a Composer window that was in a somewhat odd state.

 

Issue #3

 

Whats the recommended way to pull in magnetic declination? Is this possible
offline?

 

Thanks in advance!

 

Josh Q

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171017/c489f143/attachment.html>

From rdmailings at duif.net  Tue Oct 17 12:34:43 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 17 Oct 2017 21:34:43 +0200
Subject: [QGIS-Developer] Nice dynamic maps
Message-ID: <ab46088f-8282-d202-bec6-9189ef607485@duif.net>

Just because it looks cool:

https://earth.nullschool.net/#current/wind/surface/level/orthographic=0.27,53.27,2767

So we know we have something to work on, after we have 3D working
perfectly: dynamic maps :-) ...

Regards,

Richard Duivenvoorde

From adenaculture at gmail.com  Tue Oct 17 13:29:40 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 17 Oct 2017 16:29:40 -0400
Subject: [QGIS-Developer] Request for your opinion for the Shape Tools
	plugin name
Message-ID: <CABPxTTrQjgNOjVM9Up0n7XSJX-39JRH=2pFBypLSYPRb=JpFTw@mail.gmail.com>

I wanted your opinion on renaming the Shape Tools plugin - at least what it
is named in the QGIS menus.

http://plugins.qgis.org/plugins/shapetools/

If I had thought it through in the beginning I probably would have named it
Geodesic Tools or something like that. The plugin is about creating shapes
where all distances are measured using shortest geodesic paths, densifying
lines and polygons using geodesic points on the line, and geodesic
measuring. I have other geodesic functions in the works. Its measurements
are based on geographiclib.

Right now it installs itself in the Vector menu as "Shape Tools." Do you
see any problem renaming this to "Geodesic Tools" or is there a better name
for people who may not know what Geodesic means?

Thanks for your input.

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171017/127d3e28/attachment.html>

From anitagraser at gmx.at  Tue Oct 17 13:36:46 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Tue, 17 Oct 2017 22:36:46 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
Message-ID: <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>

I've extended Régis' draft with some of the more recent information. Please
let me know what you think. I'll try to publish in a couple of days.

-- start --


*QGIS server refactoring is done!*
As you may know, QGIS is jumping to a new major version (yes!). Doing so
was made necessary because of the need to switch to python 3, QT5, but also
because we needed to break the QGIS API in several places. (
http://blog.qgis.org/2016/02/10/qgis-3-0-plans/)

A year ago, a tiny troll  <https://github.com/qgis/qgis3.0_api/issues/63>from
switzerland rang a bell about the strong need for love server code base
required. Indeed, the API was locked by some old methods of QGIS server. In
short, QGIS server was reparsing the qgs project file in his own way, and
created dependencies to part of QGIS we needed to drop.

As outsourcing the server code base was not an option, so we had to
refactor it. The involved parties decided to get engaged in a code sprint
<https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in
the city of Lyon , France dedicated to sharing their vision, planning the
work and finally making all the following
<https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen:

*Higher level refactoring*

All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS, GetPrint
etc..) have been rewritten. Some like WMS were entirely rewritten. Kudos to
the devs!

*New features*

- Multi-thread rendering <https://github.com/qgis/QGIS/pull/3886> like in
the desktop

- A new option to trust layer metadata
<https://github.com/qgis/QGIS/pull/5094> and thus speed up project loading

- WFS 1.1 support https://github.com/qgis/QGIS/pull/5297

- Full Python bindings for the server API

- Server Services as plugins like providers



*Deep, complex and unrewarding tasks*

- Remove all singleton calls

- Cut all the dependencies to the old QGIS project file parser

- Minimize dependencies to GUI library. Since fonts are necessary to render
maps, totally removing them was not feasable.

*Infrastructure tasks*

- Build a OGC compliancy platform
<http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/>
and
integrate it to a continuous integration platform. Conformity reports are
now pushed to tests.qgis.org

- Add unit tests ... and again more unit tests

- Stress QGIS server against security leaks
<http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL
injections and other malicious attacks)

- Start profiling and bench marking performances. This work still need some
love - and funding - to be achieved


A presentation
<https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf>
was
given at FOSS4G-EU in July.

*Congratulations* to the developers who worked hard on that work.

Now this deserves to be well tested, please report back any issues!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171017/f03fcf3c/attachment.html>

From tim at kartoza.com  Tue Oct 17 13:59:42 2017
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 17 Oct 2017 22:59:42 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
 <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
Message-ID: <C5FF8338-15D5-4610-BC4C-2815EFAB6832@kartoza.com>

Hi Anita

Are you going to put it on the QGIS blog? Could you share the draft then it is on WP so I can make some edits?

For now I also put your text as a placeholder in the changelog for 3.0 here

changelog.qgis.org/en/qgis/version/3.0.0/#qgis-server-overhaul <http://changelog.qgis.org/en/qgis/version/3.0.0/#qgis-server-overhaul>

By the way I’d love it if non-coders (and of course coders also welcome) out there who are looking for a way to contribute to QGIS could contact me and help to write up the changelog for 3.0….Its going to be a massive job since our developer community have been rather busy adding lots of new features and tweaks in QGIS 3.0!

Regards

Tim

> On 17 Oct 2017, at 22:36, Anita Graser <anitagraser at gmx.at> wrote:
> 
> I've extended Régis' draft with some of the more recent information. Please let me know what you think. I'll try to publish in a couple of days.
> 
> -- start --
> 
> QGIS server refactoring is done!
> 
> As you may know, QGIS is jumping to a new major version (yes!). Doing so was made necessary because of the need to switch to python 3, QT5, but also because we needed to break the QGIS API in several places. (http://blog.qgis.org/2016/02/10/qgis-3-0-plans/ <http://blog.qgis.org/2016/02/10/qgis-3-0-plans/>) 
> 
> A year ago, a tiny troll  <https://github.com/qgis/qgis3.0_api/issues/63>from switzerland rang a bell about the strong need for love server code base required. Indeed, the API was locked by some old methods of QGIS server. In short, QGIS server was reparsing the qgs project file in his own way, and created dependencies to part of QGIS we needed to drop.
>    
> As outsourcing the server code base was not an option, so we had to refactor it. The involved parties decided to get engaged in a code sprint <https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in the city of Lyon , France dedicated to sharing their vision, planning the work and finally making all the following <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen:
> 
> Higher level refactoring
> 
> All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS, GetPrint etc..) have been rewritten. Some like WMS were entirely rewritten. Kudos to the devs!
> 
> New features
> 
> - Multi-thread rendering <https://github.com/qgis/QGIS/pull/3886> like in the desktop
> 
> - A new option to trust layer metadata <https://github.com/qgis/QGIS/pull/5094> and thus speed up project loading
> 
> - WFS 1.1 support https://github.com/qgis/QGIS/pull/5297 <https://github.com/qgis/QGIS/pull/5297> 
> 
> - Full Python bindings for the server API
> 
> - Server Services as plugins like providers
> 
> 
> Deep, complex and unrewarding tasks
> 
> - Remove all singleton calls
> 
> - Cut all the dependencies to the old QGIS project file parser
> 
> - Minimize dependencies to GUI library. Since fonts are necessary to render maps, totally removing them was not feasable. 
> 
> Infrastructure tasks
> 
> - Build a OGC compliancy platform <http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/> and integrate it to a continuous integration platform. Conformity reports are now pushed to tests.qgis.org <http://tests.qgis.org/> 
> 
> - Add unit tests ... and again more unit tests
> 
> - Stress QGIS server against security leaks <http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL injections and other malicious attacks)
> 
> - Start profiling and bench marking performances. This work still need some love - and funding - to be achieved
> 
> 
> A presentation <https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf> was given at FOSS4G-EU in July. 
> 
> Congratulations to the developers who worked hard on that work. 
> 
> Now this deserves to be well tested, please report back any issues!
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171017/d5032e0c/attachment-0001.html>

From regis.haubourg at gmail.com  Tue Oct 17 14:01:19 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 17 Oct 2017 23:01:19 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
 <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
Message-ID: <CABgOYCdsGsUpPHQ8LiG__v1_BBDDfyXU2zYc4fcq214tFK59Kg@mail.gmail.com>

Hi Anita,
 since today, qgis server reaches OGC compliancy for wms 1.3.0 on basic and
queryable levels. We have a blog post ready for that. There are 5 tests
missing for a full compliancy and we are just trying to evaluate how much
work this is.
We already could start a certification process in the current state, but I
guess a full compliancy would be a much better message to the world 😀.
Anyway posting right now seems a good idea! We need more folks testing the
beast.
Régis

Le 17 oct. 2017 22:36, "Anita Graser" <anitagraser at gmx.at> a écrit :

> I've extended Régis' draft with some of the more recent information.
> Please let me know what you think. I'll try to publish in a couple of days.
>
> -- start --
>
>
> *QGIS server refactoring is done!*
> As you may know, QGIS is jumping to a new major version (yes!). Doing so
> was made necessary because of the need to switch to python 3, QT5, but also
> because we needed to break the QGIS API in several places. (
> http://blog.qgis.org/2016/02/10/qgis-3-0-plans/)
>
> A year ago, a tiny troll  <https://github.com/qgis/qgis3.0_api/issues/63>from
> switzerland rang a bell about the strong need for love server code base
> required. Indeed, the API was locked by some old methods of QGIS server.
> In short, QGIS server was reparsing the qgs project file in his own way,
> and created dependencies to part of QGIS we needed to drop.
>
> As outsourcing the server code base was not an option, so we had to
> refactor it. The involved parties decided to get engaged in a code sprint
> <https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in
> the city of Lyon , France dedicated to sharing their vision, planning the
> work and finally making all the following
> <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen:
>
> *Higher level refactoring*
>
> All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS, GetPrint
> etc..) have been rewritten. Some like WMS were entirely rewritten. Kudos to
> the devs!
>
> *New features*
>
> - Multi-thread rendering <https://github.com/qgis/QGIS/pull/3886> like in
> the desktop
>
> - A new option to trust layer metadata
> <https://github.com/qgis/QGIS/pull/5094> and thus speed up project loading
>
> - WFS 1.1 support https://github.com/qgis/QGIS/pull/5297
>
> - Full Python bindings for the server API
>
> - Server Services as plugins like providers
>
>
>
> *Deep, complex and unrewarding tasks*
>
> - Remove all singleton calls
>
> - Cut all the dependencies to the old QGIS project file parser
>
> - Minimize dependencies to GUI library. Since fonts are necessary to
> render maps, totally removing them was not feasable.
>
> *Infrastructure tasks*
>
> - Build a OGC compliancy platform
> <http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/> and
> integrate it to a continuous integration platform. Conformity reports are
> now pushed to tests.qgis.org
>
> - Add unit tests ... and again more unit tests
>
> - Stress QGIS server against security leaks
> <http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL
> injections and other malicious attacks)
>
> - Start profiling and bench marking performances. This work still need
> some love - and funding - to be achieved
>
>
> A presentation
> <https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf> was
> given at FOSS4G-EU in July.
>
> *Congratulations* to the developers who worked hard on that work.
>
> Now this deserves to be well tested, please report back any issues!
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171017/a5000dbd/attachment.html>

From nyall.dawson at gmail.com  Tue Oct 17 14:30:15 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 18 Oct 2017 07:30:15 +1000
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
 <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
Message-ID: <CAB28AsiF3HefvZUq93vuBMcN_vZSrtfJNkVORqaipmpB=eO9kA@mail.gmail.com>

On 18 October 2017 at 06:36, Anita Graser <anitagraser at gmx.at> wrote:

Nice work Anita!

> - Build a OGC compliancy platform and integrate it to a continuous
> integration platform. Conformity reports are now pushed to tests.qgis.org

For me tests.qgis.org just redirects to the homepage. Is this link correct?

Nyall

From tim at kartoza.com  Tue Oct 17 15:26:41 2017
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 18 Oct 2017 00:26:41 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAB28AsiF3HefvZUq93vuBMcN_vZSrtfJNkVORqaipmpB=eO9kA@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
 <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
 <CAB28AsiF3HefvZUq93vuBMcN_vZSrtfJNkVORqaipmpB=eO9kA@mail.gmail.com>
Message-ID: <2B617B3D-DD4C-4E37-AC3D-2F8FA7D3B54D@kartoza.com>

Hi



> On 17 Oct 2017, at 23:30, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> 
> On 18 October 2017 at 06:36, Anita Graser <anitagraser at gmx.at> wrote:
> 
> Nice work Anita!
> 
>> - Build a OGC compliancy platform and integrate it to a continuous
>> integration platform. Conformity reports are now pushed to tests.qgis.org
> 
> For me tests.qgis.org just redirects to the homepage. Is this link correct?
> 


That must have broken today / yesterday as we were looking at the test page at our PSC meeting on monday night - Richard do you know what is going on? I redirects for me too….

Regards

Tim

> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171018/d7578d1b/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171018/d7578d1b/attachment-0001.jpg>

From blackwhitekez at gmail.com  Tue Oct 17 15:58:13 2017
From: blackwhitekez at gmail.com (Patrick Dunford)
Date: Wed, 18 Oct 2017 11:58:13 +1300
Subject: [QGIS-Developer] QGIS 2.99 Vector/Raster import Browse button
 garbled
In-Reply-To: <CABPxTTp6YRN=XC4oA9feNJDXZHzgGuif8yzcT8S5ukc-jhmyQg@mail.gmail.com>
References: <CABPxTTp6YRN=XC4oA9feNJDXZHzgGuif8yzcT8S5ukc-jhmyQg@mail.gmail.com>
Message-ID: <df2f5c0e-d69d-c099-4c91-12b1466dadae@gmail.com>

What is the version number and OS platform?


On 18/10/17 03:48, C Hamilton wrote:
> Just an FYI. I don't know if this has already been reported or not, 
> but the file browse button is garbled for the Vector & Raster "Open 
> Data Source Manager" tabs. Here is what I am seeing.
>
> Inline image 1
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171018/663ec2a7/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: garbled.jpg
Type: image/jpeg
Size: 13343 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171018/663ec2a7/attachment.jpg>

From blackwhitekez at gmail.com  Tue Oct 17 16:12:52 2017
From: blackwhitekez at gmail.com (Patrick Dunford)
Date: Wed, 18 Oct 2017 12:12:52 +1300
Subject: [QGIS-Developer] QGIS 2.99 Vector/Raster import Browse button
 garbled
In-Reply-To: <1508254229142-0.post@n6.nabble.com>
References: <CABPxTTp6YRN=XC4oA9feNJDXZHzgGuif8yzcT8S5ukc-jhmyQg@mail.gmail.com>
 <1508254229142-0.post@n6.nabble.com>
Message-ID: <f529251a-bfbd-9412-6c66-5ab3c9c1d106@gmail.com>

I can't reproduce this on Linux

Do you want to file a bug report?


On 18/10/17 04:30, Tom Chadwin wrote:
> Thanks for reminding me. I'm seeing that for all "Browse" buttons in the
> nightly. I assume it's a wrongly encoded ellipsis, or something like that?
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From nyall.dawson at gmail.com  Tue Oct 17 17:30:01 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 18 Oct 2017 10:30:01 +1000
Subject: [QGIS-Developer] QGIS 2.99 Vector/Raster import Browse button
	garbled
In-Reply-To: <CABPxTTp6YRN=XC4oA9feNJDXZHzgGuif8yzcT8S5ukc-jhmyQg@mail.gmail.com>
References: <CABPxTTp6YRN=XC4oA9feNJDXZHzgGuif8yzcT8S5ukc-jhmyQg@mail.gmail.com>
Message-ID: <CAB28Asia6KN=Raizj_5SL=NNjvoKVTz+iF2qpdU5Er+5uiNOSg@mail.gmail.com>

On 18 October 2017 at 00:48, C Hamilton <adenaculture at gmail.com> wrote:
>
> Just an FYI. I don't know if this has already been reported or not, but the file browse button is garbled for the Vector & Raster "Open Data Source Manager" tabs. Here is what I am seeing.


Should be fixed now.

Nyall

From a.neumann at carto.net  Tue Oct 17 23:22:35 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 18 Oct 2017 08:22:35 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
 <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
Message-ID: <8db02374-bc79-457b-a76c-09ef485f4bb1@carto.net>

Hi Anita,

Maybe you could add a section about "testing wanted / needed" at the end 
of the blog post?

I think after such a lot of refactoring, users can expect 
incompatibilities with the previous 2x version. Thats why a call for 
testing should be included. Otherwise existing QGIS server users maybe 
just upgrade without noticing and run into issues.

We just recently came across an incompatibility in the 
GetProjectSettings command where the new version behaves differently 
than the old version regarding the visibility state of groups - issue 
report still pending. Issue was discovered by Eric Lemoine (Camptocamp).

Greetings,

Andreas


On 17.10.2017 22:36, Anita Graser wrote:
> I've extended Régis' draft with some of the more recent information. 
> Please let me know what you think. I'll try to publish in a couple of 
> days.
>
> -- start --
> *
> *
> *QGIS server refactoring is done!
> *
> As you may know, QGIS is jumping to a new major version (yes!). Doing 
> so was made necessary because of the need to switch to python 3, QT5, 
> but also because we needed to break the QGIS API in several places. 
> (http://blog.qgis.org/2016/02/10/qgis-3-0-plans/ 
> <http://blog.qgis.org/2016/02/10/qgis-3-0-plans/>)
>
> A year ago, a tiny troll 
> <https://github.com/qgis/qgis3.0_api/issues/63>from switzerland rang a 
> bell about the strong need for love server code base required. Indeed, 
> the API was locked by some old methods of QGIS server. In short, QGIS 
> server was reparsing the qgs project file in his own way, and created 
> dependencies to part of QGIS we needed to drop.
>
> As outsourcing the server code base was not an option, so we had to 
> refactor it. The involved parties decided to get engaged in a code 
> sprint 
> <https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in 
> the city of Lyon , France dedicated to sharing their vision, planning 
> the work and finally making all the following 
> <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen:
>
> *Higher level refactoring*
>
> All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS, 
> GetPrint etc..) have been rewritten. Some like WMS were entirely 
> rewritten. Kudos to the devs!
>
> *New features*
>
> - Multi-thread rendering <https://github.com/qgis/QGIS/pull/3886> like 
> in the desktop
>
> - A new option to trust layer metadata 
> <https://github.com/qgis/QGIS/pull/5094> and thus speed up project loading
>
> - WFS 1.1 support https://github.com/qgis/QGIS/pull/5297 
> <https://github.com/qgis/QGIS/pull/5297>
>
> - Full Python bindings for the server API
>
> - Server Services as plugins like providers
>
>
> *Deep, complex and unrewarding tasks
> *
>
> - Remove all singleton calls
>
> - Cut all the dependencies to the old QGIS project file parser
>
> - Minimize dependencies to GUI library. Since fonts are necessary to 
> render maps, totally removing them was not feasable.
>
> *Infrastructure tasks*
>
> - Build a OGC compliancy platform 
> <http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/> and 
> integrate it to a continuous integration platform. Conformity reports 
> are now pushed to tests.qgis.org <http://tests.qgis.org/>
> /
> /
> - Add unit tests ... and again more unit tests
>
> - Stress QGIS server against security leaks 
> <http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL 
> injections and other malicious attacks)
>
> - Start profiling and bench marking performances. This work still need 
> some love - and funding - to be achieved
>
>
> A presentation 
> <https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf> was 
> given at FOSS4G-EU in July.
>
> *Congratulations* to the developers who worked hard on that work.
>
> Now this deserves to be well tested, please report back any issues!
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171018/954c17fd/attachment.html>

From luca76 at gmail.com  Tue Oct 17 23:33:43 2017
From: luca76 at gmail.com (Luca Manganelli)
Date: Wed, 18 Oct 2017 08:33:43 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
 <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
Message-ID: <CAMB2qw36inJmWPNdNM8dkstzyK=jOparqiRk9=jmyLW+-D==cA@mail.gmail.com>

On Tue, Oct 17, 2017 at 10:36 PM, Anita Graser <anitagraser at gmx.at> wrote:

> - Remove all singleton calls
>
>
>
​what are singleton calls? (could be explained in the web page, too) :-)​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171018/9ca6877e/attachment.html>

From anitagraser at gmx.at  Tue Oct 17 23:38:03 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Wed, 18 Oct 2017 08:38:03 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <C5FF8338-15D5-4610-BC4C-2815EFAB6832@kartoza.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
 <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
 <C5FF8338-15D5-4610-BC4C-2815EFAB6832@kartoza.com>
Message-ID: <CAFFV8FhxZWpo2Znv8C94nzyz27sQTBwr_O-G1usJpYQ7x2PDAg@mail.gmail.com>

On Tue, Oct 17, 2017 at 10:59 PM, Tim Sutton <tim at kartoza.com> wrote:

> Hi Anita
>
> Are you going to put it on the QGIS blog? Could you share the draft then
> it is on WP so I can make some edits?
>

S
​ure, I'll do that in the evening.

Regards,
Anita​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171018/54973a07/attachment.html>

From giohappy at gmail.com  Wed Oct 18 00:19:29 2017
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 18 Oct 2017 09:19:29 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAFFV8FhxZWpo2Znv8C94nzyz27sQTBwr_O-G1usJpYQ7x2PDAg@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
 <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
 <C5FF8338-15D5-4610-BC4C-2815EFAB6832@kartoza.com>
 <CAFFV8FhxZWpo2Znv8C94nzyz27sQTBwr_O-G1usJpYQ7x2PDAg@mail.gmail.com>
Message-ID: <CAB4g1=w2Lmt67JbXm=rfxCVPO4r=+NyYqjFysJRQpKof0X8vsQ@mail.gmail.com>

I will take part to the testing in the next days. i will ask my collegues
at Gis3W to test it too, having a quite complex application (G3WSuite)
built on QGIS Server 2.x

giovanni

<https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
Mail
priva di virus. www.avast.com
<https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
<#DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>

2017-10-18 8:38 GMT+02:00 Anita Graser <anitagraser at gmx.at>:

>
>
> On Tue, Oct 17, 2017 at 10:59 PM, Tim Sutton <tim at kartoza.com> wrote:
>
>> Hi Anita
>>
>> Are you going to put it on the QGIS blog? Could you share the draft then
>> it is on WP so I can make some edits?
>>
>
> S
> ​ure, I'll do that in the evening.
>
> Regards,
> Anita​
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171018/af1b5547/attachment-0001.html>

From regis.haubourg at gmail.com  Wed Oct 18 00:22:51 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 18 Oct 2017 09:22:51 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAB28AsiF3HefvZUq93vuBMcN_vZSrtfJNkVORqaipmpB=eO9kA@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
 <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
 <CAB28AsiF3HefvZUq93vuBMcN_vZSrtfJNkVORqaipmpB=eO9kA@mail.gmail.com>
Message-ID: <CABgOYCc7kZZHz5MtQoZ-_Qot_Mkyjesf-HEpPjiJROa+LoUcqA@mail.gmail.com>

Hi,
in fact it is test.qgis.org with no "s". My bad, sorry.

Richard, what do you think of our proposal to add a subdirectory like "
http://test.qgis.org/ogc_cite" ? In case we get one day other reports like
performance benchmark, that would avoid to have to move it afterwards.

Tim, I'd be please to help you build the huge changelog. Did you create a
projecta instance for qgis 3.0 already?

Cheers,
Régis


2017-10-17 23:30 GMT+02:00 Nyall Dawson <nyall.dawson at gmail.com>:

> On 18 October 2017 at 06:36, Anita Graser <anitagraser at gmx.at> wrote:
>
> Nice work Anita!
>
> > - Build a OGC compliancy platform and integrate it to a continuous
> > integration platform. Conformity reports are now pushed to
> tests.qgis.org
>
> For me tests.qgis.org just redirects to the homepage. Is this link
> correct?
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171018/87e19c7d/attachment.html>

From tom.chadwin at nnpa.org.uk  Wed Oct 18 01:30:44 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Wed, 18 Oct 2017 01:30:44 -0700 (MST)
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CABgOYCc7kZZHz5MtQoZ-_Qot_Mkyjesf-HEpPjiJROa+LoUcqA@mail.gmail.com>
References: <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
 <CAB28AsiF3HefvZUq93vuBMcN_vZSrtfJNkVORqaipmpB=eO9kA@mail.gmail.com>
 <CABgOYCc7kZZHz5MtQoZ-_Qot_Mkyjesf-HEpPjiJROa+LoUcqA@mail.gmail.com>
Message-ID: <1508315444098-0.post@n6.nabble.com>

I'd be very happy to help out with proofing the changelog - I don't think I
know enough to help write it in the first place, but I'll happily fix some
typos.

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From yjacolin at free.fr  Wed Oct 18 00:40:51 2017
From: yjacolin at free.fr (Yves Jacolin)
Date: Wed, 18 Oct 2017 09:40:51 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CABgOYCc7kZZHz5MtQoZ-_Qot_Mkyjesf-HEpPjiJROa+LoUcqA@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CAB28AsiF3HefvZUq93vuBMcN_vZSrtfJNkVORqaipmpB=eO9kA@mail.gmail.com>
 <CABgOYCc7kZZHz5MtQoZ-_Qot_Mkyjesf-HEpPjiJROa+LoUcqA@mail.gmail.com>
Message-ID: <2479474.EvYIzS5Z8t@tatras>

Le mercredi 18 octobre 2017, 09:22:51 CEST Régis Haubourg a écrit :
> Richard, what do you think of our proposal to add a subdirectory like "
> http://test.qgis.org/ogc_cite" ? In case we get one day other reports like
> performance benchmark, that would avoid to have to move it afterwards.

Régis, All,

We are late but we are still working on the HTML report in QGIS Benchmark (a 
first work a little buggy is already in the source code). Currently the 
benchmark runs on our own server but we other GeoMapfish applications (demo, 
test) so it is not a perfect benchmark as you can't really compare with older 
benchmark (who knows if new applications has been deploied on the server?).

Patrick will take care of the final work next week. I should be able to test 
the week after.

Y.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: This is a digitally signed message part.
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171018/eccc0846/attachment.sig>

From rdmailings at duif.net  Wed Oct 18 02:13:49 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 18 Oct 2017 11:13:49 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CABgOYCc7kZZHz5MtQoZ-_Qot_Mkyjesf-HEpPjiJROa+LoUcqA@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
 <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
 <CAB28AsiF3HefvZUq93vuBMcN_vZSrtfJNkVORqaipmpB=eO9kA@mail.gmail.com>
 <CABgOYCc7kZZHz5MtQoZ-_Qot_Mkyjesf-HEpPjiJROa+LoUcqA@mail.gmail.com>
Message-ID: <f76cf5cb-4fae-13ed-722f-fc735b9dbd9a@duif.net>

On 18-10-17 09:22, Régis Haubourg wrote:
> Hi, 
> in fact it is test.qgis.org <http://test.qgis.org> with no "s". My bad,
> sorry.  

I added an ServerAlias now: so test and tests should work

> Richard, what do you think of our proposal to add a subdirectory like
> "http://test.qgis.org/ogc_cite" ? In case we get one day other reports
> like performance benchmark, that would avoid to have to move it afterwards. 

Done, and renamed all html's to the naming convention

@Paul: so you will scp them into the right dir yes?

I think it is maybe best if we create a (translatable) rst page into the
web page with some more information about the tests, and add a link
there to the test.qgis.org site (and maybe to the 'latest').

I'll also try to add the travis and docker build widgets in it.
Anything else we have on Continues testing?
@Juergen: do we have a page for debian/windows builds?

> Tim, I'd be please to help you build the huge changelog. Did you create
> a projecta instance for qgis 3.0 already?

See: http://changelog.qgis.org/en/qgis/version/3.0.0/ for work in progress

Regards,

Richard

From saber.razmjooei at lutraconsulting.co.uk  Wed Oct 18 02:25:03 2017
From: saber.razmjooei at lutraconsulting.co.uk (Saber Razmjooei)
Date: Wed, 18 Oct 2017 10:25:03 +0100
Subject: [QGIS-Developer] Nice dynamic maps
In-Reply-To: <ab46088f-8282-d202-bec6-9189ef607485@duif.net>
References: <ab46088f-8282-d202-bec6-9189ef607485@duif.net>
Message-ID: <CAH=WbRDqcED3nSX=bGTVOomGCvJEpYOv+bGDRD48RTeAyqrb_A@mail.gmail.com>

Hi Richard,

This is already possible in Crayfish plugin through live refreshing of the
screen, without a need to export to animation:
https://www.youtube.com/watch?v=OlV9ucHLE_g

Let me know if you need to help using the feature...

Cheers
Saber

On 17 October 2017 at 20:34, Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> Just because it looks cool:
>
> https://earth.nullschool.net/#current/wind/surface/level/
> orthographic=0.27,53.27,2767
>
> So we know we have something to work on, after we have 3D working
> perfectly: dynamic maps :-) ...
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer




-- 
Saber Razmjooei
www.lutraconsulting.co.uk
+44 (0)7568 129733
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171018/47b7d460/attachment.html>

From giohappy at gmail.com  Wed Oct 18 02:30:06 2017
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 18 Oct 2017 11:30:06 +0200
Subject: [QGIS-Developer] QuickMapServices plugin for QGIS master?
Message-ID: <CAB4g1=xXrZWawjunCLJTHQ+0UbxKZ_78TKD+CO8ruc=ek=jZoA@mail.gmail.com>

A question to NextGIS: will QuickMapServices be upgraded for QGIS 3? Is
there any ongoing development? I ask it because I can't find any trace of
it inside the plugin repo.

giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171018/82b764bc/attachment.html>

From rdmailings at duif.net  Wed Oct 18 05:20:59 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 18 Oct 2017 14:20:59 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <f76cf5cb-4fae-13ed-722f-fc735b9dbd9a@duif.net>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
 <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
 <CAB28AsiF3HefvZUq93vuBMcN_vZSrtfJNkVORqaipmpB=eO9kA@mail.gmail.com>
 <CABgOYCc7kZZHz5MtQoZ-_Qot_Mkyjesf-HEpPjiJROa+LoUcqA@mail.gmail.com>
 <f76cf5cb-4fae-13ed-722f-fc735b9dbd9a@duif.net>
Message-ID: <acea80fe-6773-20db-93e6-1266e00e4f6a@duif.net>

On 18-10-17 11:13, Richard Duivenvoorde wrote:
> I think it is maybe best if we create a (translatable) rst page into the
> web page with some more information about the tests, and add a link
> there to the test.qgis.org site (and maybe to the 'latest').

Ok, done

https://github.com/qgis/QGIS-Website/commit/4aa5654e75e32a755a857c09bf2140d4024aec37

later see:

http://qgis.org/en/site/getinvolved/tests.html

please add text or more tests

Regards,

Richard

From anitagraser at gmx.at  Wed Oct 18 10:22:43 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Wed, 18 Oct 2017 19:22:43 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAFFV8FhxZWpo2Znv8C94nzyz27sQTBwr_O-G1usJpYQ7x2PDAg@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
 <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>
 <CAFFV8FhuvGGCLukkrFqo5JQq4As5PVT4vb1FPbHWSfWcGXtFkQ@mail.gmail.com>
 <C5FF8338-15D5-4610-BC4C-2815EFAB6832@kartoza.com>
 <CAFFV8FhxZWpo2Znv8C94nzyz27sQTBwr_O-G1usJpYQ7x2PDAg@mail.gmail.com>
Message-ID: <CAFFV8FjKQuAp4NCbyW9WDTuqeFwYh51nxCo=1G0bVyUR24OECA@mail.gmail.com>

On Wed, Oct 18, 2017 at 8:38 AM, Anita Graser <anitagraser at gmx.at> wrote:

>
>
> On Tue, Oct 17, 2017 at 10:59 PM, Tim Sutton <tim at kartoza.com> wrote:
>
>> Hi Anita
>>
>> Are you going to put it on the QGIS blog? Could you share the draft then
>> it is on WP so I can make some edits?
>>
>
> S
> ​ure, I'll do that in the evening.
>

​Done!

Feel free to hit publish once you've checked it Tim!

Regards,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171018/8f60eea1/attachment.html>

From jrmorreale_ml at enoreth.net  Wed Oct 18 11:53:48 2017
From: jrmorreale_ml at enoreth.net (Jean-Roc Morreale (ml))
Date: Wed, 18 Oct 2017 20:53:48 +0200
Subject: [QGIS-Developer] =?iso-8859-1?q?Re=A0=3A__PDF_output_and_transpar?=
 =?iso-8859-1?q?encies/blend_modes?=
In-Reply-To: <c34262eb84d144112e3d6a6eaf65ce89@carto.net>
References: <c34262eb84d144112e3d6a6eaf65ce89@carto.net>
Message-ID: <1508352828.2426.4.camel@enoreth.net>

Hi,

If this limit is still present, maybe the composer should ask the user
if he wants to defaut to a blendless export ? It would be similar to
the text option (glyph/shape) and avoid to the user to track down which
symbology level is using one.

regards,
jean-roc

Le mardi 17 octobre 2017 à 10:47 +0200, Andreas Neumann a écrit :
> Hi,
> QGIS 2x and qt 4.8 had the limitation, that as soon as the user
> introduced transparencies or blend modes, that the PDF output had to
> be rasterized.
> Is this still the case with qt 5.9x or did something improve along
> these lines? As far as I know, PDF supports both transparencies and
> blend modes also for vector objects.
> Thanks for a reply if someone knows,
> Andreas
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From giohappy at gmail.com  Thu Oct 19 02:01:11 2017
From: giohappy at gmail.com (G. Allegri)
Date: Thu, 19 Oct 2017 11:01:11 +0200
Subject: [QGIS-Developer] problems with IGNF:ELG ellipsoids in srs.db
Message-ID: <CAB4g1=y4cd1FkYSOMBRnZS9JTyp-T_rXJKN0k4vzSVm39paeEQ@mail.gmail.com>

Some measurement testing on QGIS 3.0 revealed that
https://issues.qgis.org/issues/13957 issue is still there, and it's quite
subtle because we have very similar elliposid names, with similar
definitions except IGNF:ELG ones have trailing zeros.

For example WGS84:

id     acronym            name      radius                     parameter2
--------------------------------------------------------------------------------------------------
41 WGS84             WGS 84  a=6378137.0          rf=298.257223563
51 IGNF:ELG053   WGS84   a=6378137.0000    rf=298.2572235630000

This is quite misleading for the user whene selecting the elliposid for
Measurements.
Anyway, it could be accepted if they both worked but in case ellispoid #51
is selected two problems appear:

1 - the selected ellipsoid is not retained in the dropdown box. If you
reopen project properties "Clarke 1866" is selected instead of "WGS84"
2 - (maybe related to the latter) measure values are completely wrong

Everything works fine if "WGS 84" (ellipsoid #41) is selected.

Giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171019/f9923593/attachment.html>

From tom.chadwin at nnpa.org.uk  Thu Oct 19 09:38:06 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Thu, 19 Oct 2017 09:38:06 -0700 (MST)
Subject: [QGIS-Developer] Odd output from QgsSymbolV2.symbolLayerCount() on
	Mac
Message-ID: <1508431086032-0.post@n6.nabble.com>

Hello all

QgsSymbolV2.symbolLayerCount() gives the correct output for me for a given
project (in this case 1). However, a Mac user gets differing large negative
numbers each time he tries with the same project (eg -4555056). We're both
using 2.18.13. Any ideas what could cause this? (Issue is here:
https://github.com/tomchadwin/qgis2web/issues/559).

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From noreply at qgis.org  Fri Oct 20 00:06:04 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 20 Oct 2017 07:06:04 -0000
Subject: [QGIS-Developer] Plugin [385] pgRoutingLayer approval notification.
Message-ID: <20171020070604.1650.58465@320558c5528b>


Plugin pgRoutingLayer approval by zimbogisgeek.
The plugin version "[385] pgRoutingLayer 2.2.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/pgRoutingLayer/

From noreply at qgis.org  Fri Oct 20 01:29:35 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 20 Oct 2017 08:29:35 -0000
Subject: [QGIS-Developer] Plugin [1252] Lizard Viewer approval notification.
Message-ID: <20171020082935.1650.63758@320558c5528b>


Plugin Lizard Viewer approval by zimbogisgeek.
The plugin version "[1252] Lizard Viewer 0.10 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/LizardViewer/

From rldhont at gmail.com  Fri Oct 20 02:13:27 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Fri, 20 Oct 2017 11:13:27 +0200
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
Message-ID: <0743618a-e12b-0caa-3782-bf782ad3f83f@gmail.com>

Hi Devs,

Here is a new feature for embbeding QGIS Server in Python application!
https://github.com/qgis/QGIS/pull/5408

Etienne, you can probably used it in GeoNodes to dynamically build Web 
Services.

Regards,
René-Luc

Le 03/10/2017 à 10:09, Etienne Trimaille a écrit :
> Hi devs,
>
> We would like to start testing QGIS Server 3: OGC services and Python 
> plugins.
>
> I think I read that the QGIS Server refactoring was finished and it 
> seems that most of OGC tests are working: 
> http://37.187.164.233/ogc/latest_wms_1_3_0.html
>
> Is it possible to have the status of QGIS Server 3?
> Are there some major known issues? Are Python plugins fully supported? 
> Can we start porting plugins to the QGIS 3 Server API? Is there some 
> highlights to know for Python plugins?
>
> Thanks for the all the work which has been done!
>
> Regards,
> Etienne
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171020/76faa77b/attachment.html>

From noreply at qgis.org  Fri Oct 20 05:07:05 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 20 Oct 2017 12:07:05 -0000
Subject: [QGIS-Developer] Plugin [1349] GeoHey Toolbox approval notification.
Message-ID: <20171020120705.21072.72349@320558c5528b>


Plugin GeoHey Toolbox approval by zimbogisgeek.
The plugin version "[1349] GeoHey Toolbox 0.2" is now approved
Link: http://plugins.qgis.org/plugins/GeoHey-Toolbox/

From nyall.dawson at gmail.com  Fri Oct 20 17:10:14 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 21 Oct 2017 10:10:14 +1000
Subject: [QGIS-Developer] problems with IGNF:ELG ellipsoids in srs.db
In-Reply-To: <CAB4g1=y4cd1FkYSOMBRnZS9JTyp-T_rXJKN0k4vzSVm39paeEQ@mail.gmail.com>
References: <CAB4g1=y4cd1FkYSOMBRnZS9JTyp-T_rXJKN0k4vzSVm39paeEQ@mail.gmail.com>
Message-ID: <CAB28Asi259PFsCP+Hk+vJ0B=HGihWMUUo_K0owwEof23eLy0mQ@mail.gmail.com>

On 19 October 2017 at 19:01, G. Allegri <giohappy at gmail.com> wrote:
> Some measurement testing on QGIS 3.0 revealed that
> https://issues.qgis.org/issues/13957 issue is still there, and it's quite
> subtle because we have very similar elliposid names, with similar
> definitions except IGNF:ELG ones have trailing zeros.
>
> For example WGS84:
>
> id     acronym            name      radius                     parameter2
> --------------------------------------------------------------------------------------------------
> 41 WGS84             WGS 84  a=6378137.0          rf=298.257223563
> 51 IGNF:ELG053   WGS84   a=6378137.0000    rf=298.2572235630000
>
> This is quite misleading for the user whene selecting the elliposid for
> Measurements.
> Anyway, it could be accepted if they both worked but in case ellispoid #51
> is selected two problems appear:
>
> 1 - the selected ellipsoid is not retained in the dropdown box. If you
> reopen project properties "Clarke 1866" is selected instead of "WGS84"
> 2 - (maybe related to the latter) measure values are completely wrong
>
> Everything works fine if "WGS 84" (ellipsoid #41) is selected.

I'm also curious about this  -  has anyone got any background on how
the ellipsoid list has been generated and the rationale behind these
inclusions?

Nyall

From regis.haubourg at gmail.com  Sat Oct 21 11:47:25 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Sat, 21 Oct 2017 20:47:25 +0200
Subject: [QGIS-Developer] problems with IGNF:ELG ellipsoids in srs.db
In-Reply-To: <CAB28Asi259PFsCP+Hk+vJ0B=HGihWMUUo_K0owwEof23eLy0mQ@mail.gmail.com>
References: <CAB4g1=y4cd1FkYSOMBRnZS9JTyp-T_rXJKN0k4vzSVm39paeEQ@mail.gmail.com>
 <CAB28Asi259PFsCP+Hk+vJ0B=HGihWMUUo_K0owwEof23eLy0mQ@mail.gmail.com>
Message-ID: <CABgOYCdqNLwdPsuDe3haD_NTZXhOL_oJ5gjLtG5TYF0vizcwXA@mail.gmail.com>

Hi Nyall, a partial answer maybe.
IGNF is a registry from French National Geographic Institute. They have
brought their own registry into proj4, which is perfectly valid an
authorized, but obviously creates confusions for the same SRS available in
the EPSG registry. Moreove, most definitions are identical, except that the
IGNF adds a nad grid for a better precision.
>From what I see in the issue, some non IGNF definition also causes trouble,
when a and b parameter are set to zero. I think that this is more a QGIS
(or proj4?) issue than a problem with the projection list.
I would really like to know too when and how are the srs lists loaded in
QGIS.

Cheers
Régis

2017-10-21 2:10 GMT+02:00 Nyall Dawson <nyall.dawson at gmail.com>:

> On 19 October 2017 at 19:01, G. Allegri <giohappy at gmail.com> wrote:
> > Some measurement testing on QGIS 3.0 revealed that
> > https://issues.qgis.org/issues/13957 issue is still there, and it's
> quite
> > subtle because we have very similar elliposid names, with similar
> > definitions except IGNF:ELG ones have trailing zeros.
> >
> > For example WGS84:
> >
> > id     acronym            name      radius                     parameter2
> > ------------------------------------------------------------
> --------------------------------------
> > 41 WGS84             WGS 84  a=6378137.0          rf=298.257223563
> > 51 IGNF:ELG053   WGS84   a=6378137.0000    rf=298.2572235630000
> >
> > This is quite misleading for the user whene selecting the elliposid for
> > Measurements.
> > Anyway, it could be accepted if they both worked but in case ellispoid
> #51
> > is selected two problems appear:
> >
> > 1 - the selected ellipsoid is not retained in the dropdown box. If you
> > reopen project properties "Clarke 1866" is selected instead of "WGS84"
> > 2 - (maybe related to the latter) measure values are completely wrong
> >
> > Everything works fine if "WGS 84" (ellipsoid #41) is selected.
>
> I'm also curious about this  -  has anyone got any background on how
> the ellipsoid list has been generated and the rationale behind these
> inclusions?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171021/448d2cd2/attachment.html>

From giohappy at gmail.com  Sat Oct 21 12:48:49 2017
From: giohappy at gmail.com (G. Allegri)
Date: Sat, 21 Oct 2017 21:48:49 +0200
Subject: [QGIS-Developer] problems with IGNF:ELG ellipsoids in srs.db
In-Reply-To: <CABgOYCdqNLwdPsuDe3haD_NTZXhOL_oJ5gjLtG5TYF0vizcwXA@mail.gmail.com>
References: <CAB4g1=y4cd1FkYSOMBRnZS9JTyp-T_rXJKN0k4vzSVm39paeEQ@mail.gmail.com>
 <CAB28Asi259PFsCP+Hk+vJ0B=HGihWMUUo_K0owwEof23eLy0mQ@mail.gmail.com>
 <CABgOYCdqNLwdPsuDe3haD_NTZXhOL_oJ5gjLtG5TYF0vizcwXA@mail.gmail.com>
Message-ID: <CAB4g1=y6g7TeND+544dsjC7dXvCXCAMP6BgtiJ9ENh3yYjD9Hg@mail.gmail.com>

I think we should normalize the list to avoid duplicated ellipsoids, which
is misleading to the user.

I guess multiple issues are crossing.

1 - problems with the ellipsoid definition causing wrong measurements
2 - problems with the list making the combo box not behaving correctly
(select WGS84 but Clark 1866 appears when reopening peoject properties)

giovanni


Il 21 ott 2017 20:47, "Régis Haubourg" <regis.haubourg at gmail.com> ha
scritto:

> Hi Nyall, a partial answer maybe.
> IGNF is a registry from French National Geographic Institute. They have
> brought their own registry into proj4, which is perfectly valid an
> authorized, but obviously creates confusions for the same SRS available in
> the EPSG registry. Moreove, most definitions are identical, except that the
> IGNF adds a nad grid for a better precision.
> From what I see in the issue, some non IGNF definition also causes
> trouble, when a and b parameter are set to zero. I think that this is more
> a QGIS (or proj4?) issue than a problem with the projection list.
> I would really like to know too when and how are the srs lists loaded in
> QGIS.
>
> Cheers
> Régis
>
> 2017-10-21 2:10 GMT+02:00 Nyall Dawson <nyall.dawson at gmail.com>:
>
>> On 19 October 2017 at 19:01, G. Allegri <giohappy at gmail.com> wrote:
>> > Some measurement testing on QGIS 3.0 revealed that
>> > https://issues.qgis.org/issues/13957 issue is still there, and it's
>> quite
>> > subtle because we have very similar elliposid names, with similar
>> > definitions except IGNF:ELG ones have trailing zeros.
>> >
>> > For example WGS84:
>> >
>> > id     acronym            name      radius
>>  parameter2
>> > ------------------------------------------------------------
>> --------------------------------------
>> > 41 WGS84             WGS 84  a=6378137.0          rf=298.257223563
>> > 51 IGNF:ELG053   WGS84   a=6378137.0000    rf=298.2572235630000
>> >
>> > This is quite misleading for the user whene selecting the elliposid for
>> > Measurements.
>> > Anyway, it could be accepted if they both worked but in case ellispoid
>> #51
>> > is selected two problems appear:
>> >
>> > 1 - the selected ellipsoid is not retained in the dropdown box. If you
>> > reopen project properties "Clarke 1866" is selected instead of "WGS84"
>> > 2 - (maybe related to the latter) measure values are completely wrong
>> >
>> > Everything works fine if "WGS 84" (ellipsoid #41) is selected.
>>
>> I'm also curious about this  -  has anyone got any background on how
>> the ellipsoid list has been generated and the rationale behind these
>> inclusions?
>>
>> Nyall
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171021/230c12a1/attachment.html>

From noreply at qgis.org  Sun Oct 22 23:58:49 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 23 Oct 2017 06:58:49 -0000
Subject: [QGIS-Developer] Plugin [1081] AutoFields approval notification.
Message-ID: <20171023065849.1612.40404@320558c5528b>


Plugin AutoFields approval by zimbogisgeek.
The plugin version "[1081] AutoFields 0.5.1" is now approved
Link: http://plugins.qgis.org/plugins/AutoFields/

From noreply at qgis.org  Mon Oct 23 00:01:20 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 23 Oct 2017 07:01:20 -0000
Subject: [QGIS-Developer] Plugin [1205] Polygon Divider approval
	notification.
Message-ID: <20171023070120.1611.26956@320558c5528b>


Plugin Polygon Divider approval by zimbogisgeek.
The plugin version "[1205] Polygon Divider 0.4" is now approved
Link: http://plugins.qgis.org/plugins/Submission/

From a.neumann at carto.net  Mon Oct 23 00:43:26 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 23 Oct 2017 09:43:26 +0200
Subject: [QGIS-Developer] Initialization of virtual fields
Message-ID: <524415d89c158aeafa1577fdc8096a6a@carto.net>

Hi, 

I have a virtual field that shows the length of the geometry of a
feature. It is an important attribute for us in this project, as we are
dealing with river networks and need to know the length as soon as
possible, because other manual attribute fields depend on this value. 

When I create a new feature, I frist create the geometry and the the
attribute form is opened. However, despite the fact that the geometry
already exists, the virtual field still doesn't display the length of
the geometry. It only updates when I close the form and then reopen it. 

Is there something we could do about this problem that virtual fields
could be calculated / initialized earlier? 

Thanks, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171023/eb5da493/attachment.html>

From gislars+list at gmail.com  Mon Oct 23 03:34:54 2017
From: gislars+list at gmail.com (lars lingner)
Date: Mon, 23 Oct 2017 12:34:54 +0200
Subject: [QGIS-Developer] QGis rendering anti-aliasing, subpixel
Message-ID: <e8fd2157-2ae7-63d6-e0be-ba3b311101b7@gmail.com>

Hello QGis developers,

In one of my QGis projects the mapstyle is using map units (meter,
epsg:3857) to style roads. But the lines are looking somehow blurred. On
nearly horizontal or vertical lines, you can also see hachures. I
collected some images [1].

The results are consistent, whether I view it in QGis desktop, the
result as an WMS request from QGis Server or as output from QGis composer.

In a discussion on German FOSSGIS list [2] there was a hint that using a
other unit in mapstyle e.g. millimeters, the result should look better.
And indeed, if the lines are at least 1 pixel, the rendered image is
looking much better.

How does the QGis rendering engine compare to MapServer or Mapnik in
regards of smooth rendering, anti-aliasing, sub-pixel-rendering?

I know MapServer and Mapnik are using AGG [3] for rendering. QGis is
using QT. Are there any options, either in QGis or QT, I can play with
to influence the render quality? Would QGis in general be able to render
objects with tiny pixel width?

Should I prefer millimeter over mapunits is my map styles from now on?

I'm using QGis 2.18.13 on linux/ubuntu, but also latest QGis3 is showing
the same result.


Thanks for listening,

Lars


[1] https://imgur.com/a/QINrq
[2]
https://lists.fossgis.de/pipermail/fossgis-talk-liste/2017-October/008843.html
[3] http://www.antigrain.com/

From carrillo.german at gmail.com  Mon Oct 23 15:02:27 2017
From: carrillo.german at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Carrillo?=)
Date: Mon, 23 Oct 2017 17:02:27 -0500
Subject: [QGIS-Developer] Is PySpatiaLite needed for QGIS v3?
Message-ID: <CANaz7mxjZpKzH6aEjKGpwLcpCKPP_7N6hG2KL5i+VQK=d48Fkg@mail.gmail.com>

Hi devs,


there are known issues using pyspatialite that lead to QGIS v3 crashes (see
[1] and [2]). In fact, using DB Manager these days to explore a SpatiaLite
database leads to a QGIS crash on Windows. :(

The easy fix for such issue could be to avoid pyspatialite (see why [3])
and use sqlite3 instead, loading the SpatiaLite module (see [4]). Avoiding
pyspatialite is possible adjusting qgis.utils.spatialite_connect().
However, loading the SpatiaLite module doesn't seem to be simple depending
on the Operating System. I've attempted to do so on Windows with no success
(several combinations, giving full path to the module, etc.).

Does anybody know how to load the SpatiaLite module for sqlite3 on Windows?
Apart from that, is there any problem if QGIS v3 switches to sqlite3 for
SpatiaLite connections?


Regards,

Germán
---------------------
[1] https://issues.qgis.org/issues/16720
[2]
https://lists.osgeo.org/pipermail/qgis-developer/2017-September/049776.html
[3]
https://groups.google.com/d/msg/spatialite-users/o0jUwMUqx_g/OEat2JTUAAAJ
[4] https://github.com/qgis/QGIS/blob/master/python/utils.py#L602-L609



-- 
-----------
   |\__
(:>__)(
   |/
Soluciones Geoinformáticas Libres
http://geotux.tuxfamily.org/
http://twitter.com/GeoTux2
http://about.me/germancarrillo

<http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171023/353e2439/attachment.html>

From nyall.dawson at gmail.com  Mon Oct 23 15:33:16 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 24 Oct 2017 08:33:16 +1000
Subject: [QGIS-Developer] Feature freeze vs the growing PR queue...
Message-ID: <CAB28AsiJRMBNgt1s+FXdKODCvPPR+4SYPXwcnVs-F5+Qd2vVQg@mail.gmail.com>

Hi all,

Just wanted to raise discussion about what we should do regarding the
100+ open PRs currently sitting in the request queue, especially with
regards to the looming freeze.

I can see two options:

1. freeze = freeze, no exceptions. But then we run the risk of people
merging PRs and commits prematurely without full peer review just to
get them in for 3.0 (it becomes a rush of "quick merge in whatever
state because it's a cool feature!!). Or alternatively we may miss
open PRs which are important (crucial?) to have in place for 3.0 (e.g.
processing SAGA/GRASS providers, Nathan's settings migrations, etc).

2. Allow open PRs to be merged after freeze on a case-by-case basis,
up to a suitable cut-off date (when?).


(FULL DISCLAIMER: I fully acknowledge that my views are biased and I'm
invested here, since I've about to open a PR which ports much of the
remaining missing functionality from composer->layouts, but is not
(yet) 100% complete, and will likely not be by the feature freeze cut
off. It's SO SO close though, and I'd hate it to miss 3.0 and force us
to carry around 10ks of lines of outdated code just to keep api
compatibility with composer for the life of 3.x)

Nyall

From tisham.dhar at aerometrex.com.au  Mon Oct 23 21:30:04 2017
From: tisham.dhar at aerometrex.com.au (Tisham Dhar)
Date: Tue, 24 Oct 2017 04:30:04 +0000
Subject: [QGIS-Developer] Issue:15686
Message-ID: <SYXPR01MB12323545096F2F17A7A763D9BE470@SYXPR01MB1232.ausprd01.prod.outlook.com>

Hi All,

I am working on this issue: https://issues.qgis.org/issues/15686 . The enhancement I am proposing will add / replicated GDAL's warp features as part of QGIS raster chain. Ideally I would like to re-use tried and tested GDAL resample code rather than the simple approximate block reprojection QGIS currently uses for on-the-fly reprojection purposes. Any feedback on this and paths to proceed on appreciated. I should have a sample implementation over the next few weeks.

Regards,

Tisham Dhar
Research Engineer
Aerometrex PTY LTD
59 King William St.
Kent Town SA 5067
Australia

Tisham.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171024/303ae2bf/attachment.html>

From a.neumann at carto.net  Mon Oct 23 22:41:02 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 24 Oct 2017 07:41:02 +0200
Subject: [QGIS-Developer] Feature freeze vs the growing PR queue...
In-Reply-To: <CAB28AsiJRMBNgt1s+FXdKODCvPPR+4SYPXwcnVs-F5+Qd2vVQg@mail.gmail.com>
References: <CAB28AsiJRMBNgt1s+FXdKODCvPPR+4SYPXwcnVs-F5+Qd2vVQg@mail.gmail.com>
Message-ID: <3c25eac1f95bbee50a1b3f1b02785a0f@carto.net>

Hi Nyall, 

I knew this discussion would come up soon ;-) 

How about: your option 2) with a cut-off date - but only for PRs that
need/trigger an API change and without the merge would have to wait for
QGIS 4. 

In my opinion, new features can wait for QGIS 3.2, but PRs that
introduce an API break should be reviewed by a knowledgeable dev and
decided on a case-by-case basis. 

What would be a reasonable cut-off date? One additional week? 

Greetings, 

Andreas 

On 2017-10-24 00:33, Nyall Dawson wrote:

> Hi all,
> 
> Just wanted to raise discussion about what we should do regarding the
> 100+ open PRs currently sitting in the request queue, especially with
> regards to the looming freeze.
> 
> I can see two options:
> 
> 1. freeze = freeze, no exceptions. But then we run the risk of people
> merging PRs and commits prematurely without full peer review just to
> get them in for 3.0 (it becomes a rush of "quick merge in whatever
> state because it's a cool feature!!). Or alternatively we may miss
> open PRs which are important (crucial?) to have in place for 3.0 (e.g.
> processing SAGA/GRASS providers, Nathan's settings migrations, etc).
> 
> 2. Allow open PRs to be merged after freeze on a case-by-case basis,
> up to a suitable cut-off date (when?).
> 
> (FULL DISCLAIMER: I fully acknowledge that my views are biased and I'm
> invested here, since I've about to open a PR which ports much of the
> remaining missing functionality from composer->layouts, but is not
> (yet) 100% complete, and will likely not be by the feature freeze cut
> off. It's SO SO close though, and I'd hate it to miss 3.0 and force us
> to carry around 10ks of lines of outdated code just to keep api
> compatibility with composer for the life of 3.x)
> 
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171024/6dd68205/attachment.html>

From rdmailings at duif.net  Mon Oct 23 23:36:31 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 24 Oct 2017 08:36:31 +0200
Subject: [QGIS-Developer] Feature freeze vs the growing PR queue...
In-Reply-To: <CAB28AsiJRMBNgt1s+FXdKODCvPPR+4SYPXwcnVs-F5+Qd2vVQg@mail.gmail.com>
References: <CAB28AsiJRMBNgt1s+FXdKODCvPPR+4SYPXwcnVs-F5+Qd2vVQg@mail.gmail.com>
Message-ID: <9a3cc541-3b0c-5189-e294-264e6ecbaba6@duif.net>

On 24-10-17 00:33, Nyall Dawson wrote:
> Hi all,
> 
> Just wanted to raise discussion about what we should do regarding the
> 100+ open PRs currently sitting in the request queue, especially with
> regards to the looming freeze.
> 
> I can see two options:
> 
> 1. freeze = freeze, no exceptions. But then we run the risk of people
> merging PRs and commits prematurely without full peer review just to
> get them in for 3.0 (it becomes a rush of "quick merge in whatever
> state because it's a cool feature!!). Or alternatively we may miss
> open PRs which are important (crucial?) to have in place for 3.0 (e.g.
> processing SAGA/GRASS providers, Nathan's settings migrations, etc).
> 
> 2. Allow open PRs to be merged after freeze on a case-by-case basis,
> up to a suitable cut-off date (when?).

Yep, my preference would be *2* too,
in combination with further cleanup.

But I also think we need to start working on stability. I try to use
both version in daily testing/work, and QGIS3 is at this moment more
crashing to end a session, then being stopped by me :-(
So I think we really need to work/test before being able to release a
stable version....

Regards,

Richard Duivenvoorde



From giohappy at gmail.com  Mon Oct 23 23:56:15 2017
From: giohappy at gmail.com (G. Allegri)
Date: Tue, 24 Oct 2017 08:56:15 +0200
Subject: [QGIS-Developer] Feature freeze vs the growing PR queue...
In-Reply-To: <9a3cc541-3b0c-5189-e294-264e6ecbaba6@duif.net>
References: <CAB28AsiJRMBNgt1s+FXdKODCvPPR+4SYPXwcnVs-F5+Qd2vVQg@mail.gmail.com>
 <9a3cc541-3b0c-5189-e294-264e6ecbaba6@duif.net>
Message-ID: <CAB4g1=z4RBCxtzO8FR_-Kc-ncW-ooFaerBhi3_4qL9seK0knNA@mail.gmail.com>

My two cents, I also agree with option 2. PRs affecting the API brekage
should be included.
I guess the first round of QGIS3 won't be without issues. I tell my
customers to wait at lear some minor release before moving to it! :)

giovanni

Il 24 ott 2017 8:36 AM, "Richard Duivenvoorde" <rdmailings at duif.net> ha
scritto:

> On 24-10-17 00:33, Nyall Dawson wrote:
> > Hi all,
> >
> > Just wanted to raise discussion about what we should do regarding the
> > 100+ open PRs currently sitting in the request queue, especially with
> > regards to the looming freeze.
> >
> > I can see two options:
> >
> > 1. freeze = freeze, no exceptions. But then we run the risk of people
> > merging PRs and commits prematurely without full peer review just to
> > get them in for 3.0 (it becomes a rush of "quick merge in whatever
> > state because it's a cool feature!!). Or alternatively we may miss
> > open PRs which are important (crucial?) to have in place for 3.0 (e.g.
> > processing SAGA/GRASS providers, Nathan's settings migrations, etc).
> >
> > 2. Allow open PRs to be merged after freeze on a case-by-case basis,
> > up to a suitable cut-off date (when?).
>
> Yep, my preference would be *2* too,
> in combination with further cleanup.
>
> But I also think we need to start working on stability. I try to use
> both version in daily testing/work, and QGIS3 is at this moment more
> crashing to end a session, then being stopped by me :-(
> So I think we really need to work/test before being able to release a
> stable version....
>
> Regards,
>
> Richard Duivenvoorde
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171024/c2c98a5a/attachment.html>

From a.furieri at lqt.it  Mon Oct 23 23:59:07 2017
From: a.furieri at lqt.it (a.furieri at lqt.it)
Date: Tue, 24 Oct 2017 08:59:07 +0200
Subject: [QGIS-Developer]
 =?utf-8?q?Is_PySpatiaLite_needed_for_QGIS_v3=3F?=
In-Reply-To: <CANaz7mxjZpKzH6aEjKGpwLcpCKPP_7N6hG2KL5i+VQK=d48Fkg@mail.gmail.com>
References: <CANaz7mxjZpKzH6aEjKGpwLcpCKPP_7N6hG2KL5i+VQK=d48Fkg@mail.gmail.com>
Message-ID: <18b5caab899b395106abacc3f5eb4b20@lqt.it>

On Mon, 23 Oct 2017 17:02:27 -0500, Germán Carrillo wrote:
> The easy fix for such issue could be to avoid pyspatialite ...
> and use sqlite3 instead, loading the SpatiaLite module ...
> However, loading the SpatiaLite module doesn't seem to be simple
> depending on the Operating System.
> I've attempted to do so on Windows with no success (several
> combinations, giving full path to the module, etc.).
>
> Does anybody know how to load the SpatiaLite module for sqlite3 on
> Windows?
>

Hi Germán,

SQLite has the intrinsic capability to dynamically load at run time
extension modules just by executing an SQL statement like this:

SELECT load_extension('mod_spatialite');

note: the sqlite's Python connector specifically requires to explicitly
grant an authorization for loading dynamic modules:

con.enable_load_extension(True)
con.execute("SELECT load_extension('mod_spatialite')")

it works exactly in the same way on all operating systems: the module
to be loaded will be searched within all directories covered by the
currently set searching rules for binary executable objects.
there is no need at all to explicitly specify a suffix (as e.g. .DLL
or .so or .dylib); sqlite itself will automatically add to the bare
module name ('mod_spatialite' in our case) the specific 
platform-related
suffix.

unhappily the above mentioned searching rules are platform specific;
they are clear and rational on Linux, but they are a nasty chaos on
Windows. you can anyway define your own searching rules for each
processes by appropriately setting %LD_LIBRARY_PATH on Linux or
%PATH% on Windows.
and once %PATH% is correctly set "load_extension" will successfully
work even on Windows, if all required modules (DLLs or shared
libraries or whatever else) are correctly installed.

================

most common pitfalls emerging from several post on the spatialite's
own mailing list:

- badly mixing 32 and 64 bit code: Python 32 bit strictly requires
   32 bit extension modules, exactly as Python 64 bit requires
   64 bit extensions.
- mod_spatialite depends on several further libraries: libgeos,
   libproj, libxml2 etc. if just one of these dependencies remains
   unsatisfied loading mod_spatialite will consequently fail.
- a badly set %PATH% (or badly installed dependencies) always is
   the most  probable failure cause.

bye Sandro

From matthias at opengis.ch  Tue Oct 24 00:17:37 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 24 Oct 2017 09:17:37 +0200
Subject: [QGIS-Developer] Is PySpatiaLite needed for QGIS v3?
In-Reply-To: <18b5caab899b395106abacc3f5eb4b20@lqt.it>
References: <CANaz7mxjZpKzH6aEjKGpwLcpCKPP_7N6hG2KL5i+VQK=d48Fkg@mail.gmail.com>
 <18b5caab899b395106abacc3f5eb4b20@lqt.it>
Message-ID: <e81cfccc-2ddf-1394-46b8-f9b46e478317@opengis.ch>

Hi,

On 10/24/2017 08:59 AM, a.furieri at lqt.it wrote:
> On Mon, 23 Oct 2017 17:02:27 -0500, Germán Carrillo wrote:
> 
> most common pitfalls emerging from several post on the spatialite's
> own mailing list:
> 
> - badly mixing 32 and 64 bit code: Python 32 bit strictly requires
>   32 bit extension modules, exactly as Python 64 bit requires
>   64 bit extensions.
> - mod_spatialite depends on several further libraries: libgeos,
>   libproj, libxml2 etc. if just one of these dependencies remains
>   unsatisfied loading mod_spatialite will consequently fail.
> - a badly set %PATH% (or badly installed dependencies) always is
>   the most  probable failure cause.
> 

IIRC there was also the requirement that a compile-time-switch
SQLITE_ENABLE_LOAD_EXTENSION needs to be set which unfortunately isn't
enabled by default on some builds (but I cannot recall the details).

Matthias

> bye Sandro
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From luipir at gmail.com  Tue Oct 24 00:22:50 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Tue, 24 Oct 2017 09:22:50 +0200
Subject: [QGIS-Developer] Is PySpatiaLite needed for QGIS v3?
In-Reply-To: <CANaz7mxjZpKzH6aEjKGpwLcpCKPP_7N6hG2KL5i+VQK=d48Fkg@mail.gmail.com>
References: <CANaz7mxjZpKzH6aEjKGpwLcpCKPP_7N6hG2KL5i+VQK=d48Fkg@mail.gmail.com>
Message-ID: <CAFO80_pVSQ9GYtjNajZ9QEzbJuF5b4G7vZ0VOFuJmLJqFHmeZg@mail.gmail.com>

+1 to use sqlite3+loadExtension.... tnx to rise up the problem.

Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
*
https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************

On 24 October 2017 at 00:02, Germán Carrillo <carrillo.german at gmail.com>
wrote:

> Hi devs,
>
>
> there are known issues using pyspatialite that lead to QGIS v3 crashes
> (see [1] and [2]). In fact, using DB Manager these days to explore a
> SpatiaLite database leads to a QGIS crash on Windows. :(
>
> The easy fix for such issue could be to avoid pyspatialite (see why [3])
> and use sqlite3 instead, loading the SpatiaLite module (see [4]). Avoiding
> pyspatialite is possible adjusting qgis.utils.spatialite_connect().
> However, loading the SpatiaLite module doesn't seem to be simple depending
> on the Operating System. I've attempted to do so on Windows with no success
> (several combinations, giving full path to the module, etc.).
>
> Does anybody know how to load the SpatiaLite module for sqlite3 on
> Windows? Apart from that, is there any problem if QGIS v3 switches to
> sqlite3 for SpatiaLite connections?
>
>
> Regards,
>
> Germán
> ---------------------
> [1] https://issues.qgis.org/issues/16720
> [2] https://lists.osgeo.org/pipermail/qgis-developer/2017-
> September/049776.html
> [3] https://groups.google.com/d/msg/spatialite-users/
> o0jUwMUqx_g/OEat2JTUAAAJ
> [4] https://github.com/qgis/QGIS/blob/master/python/utils.py#L602-L609
>
>
>
> --
> -----------
>    |\__
> (:>__)(
>    |/
> Soluciones Geoinformáticas Libres
> http://geotux.tuxfamily.org/
> http://twitter.com/GeoTux2
> http://about.me/germancarrillo
>
> <http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171024/cbe4ca34/attachment.html>

From mj10777 at googlemail.com  Tue Oct 24 00:26:51 2017
From: mj10777 at googlemail.com (Mark Johnson)
Date: Tue, 24 Oct 2017 09:26:51 +0200
Subject: [QGIS-Developer] Is PySpatiaLite needed for QGIS v3?
Message-ID: <CAEEbjBhZWv3kCVNA56Jy50AMKPgT=oTGFcUhFfmZF0LKEL32EQ@mail.gmail.com>

This was discussed in the spatialite forum about 3 weeks ago.

https://groups.google.com/forum/#!searchin/spatialite-users/pyspatialite%7Csort:relevance/spatialite-users/o0jUwMUqx_g/F_VksdzpBgAJ

Also for Spatialite 4.5.0 with RasterLite2 and Topology, a general overall
of the QgsSpatiaLiteProvider and adding a QgsRasterLite2Provider is needed.

https://groups.google.com/forum/#!topic/spatialite-users/xC65HkmUbPw

The pull request for these changes has not yet been reviewed.

Mark Johnson, Berlin Germany
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171024/bec808a8/attachment-0001.html>

From jef at norbit.de  Tue Oct 24 00:46:16 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue, 24 Oct 2017 09:46:16 +0200
Subject: [QGIS-Developer] Is PySpatiaLite needed for QGIS v3?
In-Reply-To: <18b5caab899b395106abacc3f5eb4b20@lqt.it>
References: <CANaz7mxjZpKzH6aEjKGpwLcpCKPP_7N6hG2KL5i+VQK=d48Fkg@mail.gmail.com>
 <18b5caab899b395106abacc3f5eb4b20@lqt.it>
Message-ID: <20171024074616.cx3eav4wdcmmff2m@norbit.de>

Hi Sandro,

On Tue, 24. Oct 2017 at 08:59:07 +0200, a.furieri at lqt.it wrote:
> con.enable_load_extension(True)
> con.execute("SELECT load_extension('mod_spatialite')")

Are there instructions how to build mod_spatialite with MSVC?  IIRC last time I
checked I couldn't only find some for mingw.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171024/1e4c7206/attachment.sig>

From a.furieri at lqt.it  Tue Oct 24 03:31:03 2017
From: a.furieri at lqt.it (a.furieri at lqt.it)
Date: Tue, 24 Oct 2017 12:31:03 +0200
Subject: [QGIS-Developer]
 =?utf-8?q?Is_PySpatiaLite_needed_for_QGIS_v3=3F?=
In-Reply-To: <20171024074616.cx3eav4wdcmmff2m@norbit.de>
References: <CANaz7mxjZpKzH6aEjKGpwLcpCKPP_7N6hG2KL5i+VQK=d48Fkg@mail.gmail.com>
 <18b5caab899b395106abacc3f5eb4b20@lqt.it>
 <20171024074616.cx3eav4wdcmmff2m@norbit.de>
Message-ID: <f7b5f2c611b146dedb461d45e95ebb68@lqt.it>

On Tue, 24 Oct 2017 09:46:16 +0200, Jürgen E. Fischer wrote:
> Hi Sandro,
>
> On Tue, 24. Oct 2017 at 08:59:07 +0200, a.furieri at lqt.it wrote:
>> con.enable_load_extension(True)
>> con.execute("SELECT load_extension('mod_spatialite')")
>
> Are there instructions how to build mod_spatialite with MSVC?  IIRC
> last time I
> checked I couldn't only find some for mingw.
>

Hi Jürgen,

the current development version (4.5.0) supports the following
Makefiles specifically intended for MSVC:
- makefile.vc
- makefile64.vc
- makefile_mod.vc
- makefile_mod64.vc

the first two will create the standard libspatialite, and
the second two will create mod_spatialite (the *64.vc
makefiles are intended for the 64 bit compiler).

you can download such MSVC makefiles directly from the
Fossil repository:

https://www.gaia-gis.it/fossil/libspatialite/dir?ci=tip

adapting the MSVC makefiles to previous versions shouldn't
be too much difficult (you'll probably have to just remove
few C sources introduced by 4.5.0)

bye Sandro

From noreply at qgis.org  Tue Oct 24 23:12:46 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 25 Oct 2017 06:12:46 -0000
Subject: [QGIS-Developer] Plugin [1193] Shape Tools approval notification.
Message-ID: <20171025061246.15025.6996@320558c5528b>


Plugin Shape Tools approval by zimbogisgeek.
The plugin version "[1193] Shape Tools 0.6.1" is now approved
Link: http://plugins.qgis.org/plugins/shapetools/

From noreply at qgis.org  Wed Oct 25 01:42:12 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 25 Oct 2017 08:42:12 -0000
Subject: [QGIS-Developer] Plugin [1346] Geodesic Densifier approval
	notification.
Message-ID: <20171025084212.15026.68381@320558c5528b>


Plugin Geodesic Densifier approval by zimbogisgeek.
The plugin version "[1346] Geodesic Densifier 0.3 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/GeodesicDensifier/

From noreply at qgis.org  Wed Oct 25 01:43:13 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 25 Oct 2017 08:43:13 -0000
Subject: [QGIS-Developer] Plugin [1320] Geodesic2shape approval notification.
Message-ID: <20171025084313.15025.86600@320558c5528b>


Plugin Geodesic2shape approval by zimbogisgeek.
The plugin version "[1320] Geodesic2shape 1.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/geodesic2shape-master/

From giohappy at gmail.com  Wed Oct 25 02:53:11 2017
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 25 Oct 2017 11:53:11 +0200
Subject: [QGIS-Developer] QgsPluginLayer in QGIS3
Message-ID: <CAB4g1=xOe1QnkNZTo0t0TxH26t0OLeEc0RwJ1mBE7pfu=J_o6A@mail.gmail.com>

I'm analyzing QuickMapService to see how much work it would need toport it
to QGIS 3 (it would a big loss not having it!).

The first thing I see is that QgsPluginLayer doesn't offer the draw()
method anymore. i guess the only way to substitute it is defining a custom
QgsMapLayerRenderer and implementing its render() method. Can you confirm
this is the only way to do the actual rendering?

giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171025/8c12e3a3/attachment.html>

From wonder.sk at gmail.com  Wed Oct 25 03:29:41 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed, 25 Oct 2017 12:29:41 +0200
Subject: [QGIS-Developer] QgsPluginLayer in QGIS3
In-Reply-To: <CAB4g1=xOe1QnkNZTo0t0TxH26t0OLeEc0RwJ1mBE7pfu=J_o6A@mail.gmail.com>
References: <CAB4g1=xOe1QnkNZTo0t0TxH26t0OLeEc0RwJ1mBE7pfu=J_o6A@mail.gmail.com>
Message-ID: <CAC2XbFde+Eq_tuftH=TmA_wfE2MfyhMpUJV0VUOCvWQGk6K1Bw@mail.gmail.com>

Hi Giovanni

On Wed, Oct 25, 2017 at 11:53 AM, G. Allegri <giohappy at gmail.com> wrote:
> I'm analyzing QuickMapService to see how much work it would need toport it
> to QGIS 3 (it would a big loss not having it!).
>
> The first thing I see is that QgsPluginLayer doesn't offer the draw() method
> anymore. i guess the only way to substitute it is defining a custom
> QgsMapLayerRenderer and implementing its render() method. Can you confirm
> this is the only way to do the actual rendering?

Yes that's correct. It is not a big change though - the drawing code
just moves to a new renderer class.

By the way, the support for XYZ/TMS tile layers within WMS provider
(since 2.18) should already cover requirements for most of the data
sources, so the need for a custom plugin layer in QMS is there just
for layers using a CRS / tiling different from standard Web Mercator.
The more recent versions of QMS already use the standard raster layer
for many sources instead of the plugin layer:
https://github.com/nextgis/quickmapservices/issues/110

Cheers
Martin

From giohappy at gmail.com  Wed Oct 25 04:24:56 2017
From: giohappy at gmail.com (G. Allegri)
Date: Wed, 25 Oct 2017 13:24:56 +0200
Subject: [QGIS-Developer] QgsPluginLayer in QGIS3
In-Reply-To: <CAC2XbFde+Eq_tuftH=TmA_wfE2MfyhMpUJV0VUOCvWQGk6K1Bw@mail.gmail.com>
References: <CAB4g1=xOe1QnkNZTo0t0TxH26t0OLeEc0RwJ1mBE7pfu=J_o6A@mail.gmail.com>
 <CAC2XbFde+Eq_tuftH=TmA_wfE2MfyhMpUJV0VUOCvWQGk6K1Bw@mail.gmail.com>
Message-ID: <CAB4g1=ya1b5AHGuk7PafLRj5xja_9tc_bdsEHQxgQQEwAL4VAQ@mail.gmail.com>

Thanks Martin. I asked it in general.
I know QMS uses native layers for most (all?) the sources. Actually we
could make without the plugin layer, at least in the first porting.

giovanni

Il 25 ott 2017 12:29 PM, "Martin Dobias" <wonder.sk at gmail.com> ha scritto:

> Hi Giovanni
>
> On Wed, Oct 25, 2017 at 11:53 AM, G. Allegri <giohappy at gmail.com> wrote:
> > I'm analyzing QuickMapService to see how much work it would need toport
> it
> > to QGIS 3 (it would a big loss not having it!).
> >
> > The first thing I see is that QgsPluginLayer doesn't offer the draw()
> method
> > anymore. i guess the only way to substitute it is defining a custom
> > QgsMapLayerRenderer and implementing its render() method. Can you confirm
> > this is the only way to do the actual rendering?
>
> Yes that's correct. It is not a big change though - the drawing code
> just moves to a new renderer class.
>
> By the way, the support for XYZ/TMS tile layers within WMS provider
> (since 2.18) should already cover requirements for most of the data
> sources, so the need for a custom plugin layer in QMS is there just
> for layers using a CRS / tiling different from standard Web Mercator.
> The more recent versions of QMS already use the standard raster layer
> for many sources instead of the plugin layer:
> https://github.com/nextgis/quickmapservices/issues/110
>
> Cheers
> Martin
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171025/6e68fb85/attachment.html>

From etienne.trimaille at gmail.com  Wed Oct 25 04:42:37 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Wed, 25 Oct 2017 13:42:37 +0200
Subject: [QGIS-Developer] QgsPluginLayer in QGIS3
In-Reply-To: <CAB4g1=ya1b5AHGuk7PafLRj5xja_9tc_bdsEHQxgQQEwAL4VAQ@mail.gmail.com>
References: <CAB4g1=xOe1QnkNZTo0t0TxH26t0OLeEc0RwJ1mBE7pfu=J_o6A@mail.gmail.com>
 <CAC2XbFde+Eq_tuftH=TmA_wfE2MfyhMpUJV0VUOCvWQGk6K1Bw@mail.gmail.com>
 <CAB4g1=ya1b5AHGuk7PafLRj5xja_9tc_bdsEHQxgQQEwAL4VAQ@mail.gmail.com>
Message-ID: <CAMtDFL+nY_1emw3j2hx-wrY1ZJhtwL8zR2a1hFAxjzDBsKXgaw@mail.gmail.com>

A quick note for people working on the porting to QGIS 3, inverted Y axes
are supported in QGIS 3 now. (Thanks Alessandro)

2017-10-25 13:24 GMT+02:00 G. Allegri <giohappy at gmail.com>:

> Thanks Martin. I asked it in general.
> I know QMS uses native layers for most (all?) the sources. Actually we
> could make without the plugin layer, at least in the first porting.
>
> giovanni
>
> Il 25 ott 2017 12:29 PM, "Martin Dobias" <wonder.sk at gmail.com> ha scritto:
>
>> Hi Giovanni
>>
>> On Wed, Oct 25, 2017 at 11:53 AM, G. Allegri <giohappy at gmail.com> wrote:
>> > I'm analyzing QuickMapService to see how much work it would need toport
>> it
>> > to QGIS 3 (it would a big loss not having it!).
>> >
>> > The first thing I see is that QgsPluginLayer doesn't offer the draw()
>> method
>> > anymore. i guess the only way to substitute it is defining a custom
>> > QgsMapLayerRenderer and implementing its render() method. Can you
>> confirm
>> > this is the only way to do the actual rendering?
>>
>> Yes that's correct. It is not a big change though - the drawing code
>> just moves to a new renderer class.
>>
>> By the way, the support for XYZ/TMS tile layers within WMS provider
>> (since 2.18) should already cover requirements for most of the data
>> sources, so the need for a custom plugin layer in QMS is there just
>> for layers using a CRS / tiling different from standard Web Mercator.
>> The more recent versions of QMS already use the standard raster layer
>> for many sources instead of the plugin layer:
>> https://github.com/nextgis/quickmapservices/issues/110
>>
>> Cheers
>> Martin
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171025/01e59b4d/attachment.html>

From a.neumann at carto.net  Wed Oct 25 06:03:38 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 25 Oct 2017 15:03:38 +0200
Subject: [QGIS-Developer] Lots of crashes with "Add layers" dialogue when
 adding new connections
Message-ID: <31ab2bc75425c568c96c0aa6b3512ad5@carto.net>

Hi, 

With the new combined "Add Layers" dialogue in QGIS master I get lots of
crashes when creating new connections. This happens reproducably for
new: 

 	* WMS
 	* WFS
 	* Postgis

connections. 

After adding the connection, QGIS crashes, but the new connection is at
least stored and can be used when after the new start of QGIS. When I
add another new connection, QGIS crashes again. 

Can someone confirm that behaviour? 

For me it happens both on Windows and Linux. 

Thanks for your confirmation. If no issue report exists, I can create
one. 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171025/46f6383e/attachment-0001.html>

From adenaculture at gmail.com  Wed Oct 25 06:13:00 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 25 Oct 2017 09:13:00 -0400
Subject: [QGIS-Developer] Geodesic Measure Tool
Message-ID: <CABPxTTo29K6ju5Sr276Jd+q_p3rAxDfXdH0nrd7h8AhQK1cY=A@mail.gmail.com>

All,

The "Shape Tools" plugin (http://plugins.qgis.org/plugins/shapetools/)
contains a Geodesic Measure Tool that produces results that are the same as
Google Earth. In addition to distance it displays the bearing or heading
between each pair of points. It also rubber bands the geodesic path being
measured. I am hoping that eventually what is in the Geodesic Measure Tool
will be coded into the QGIS measure tool.

The rational for the Geodesic Measure Tool was that I needed the heading
angle, but additionally I really did not like the results I was seeing from
the QGIS measure tool. It is very confusing on how to set the right
ellipsoid to get the proper results. The first challenge is how you even
set the ellipsoid and when you find it, there is a "WGS 84" ellipsoid and a
"WGS84" ellipsoid and the latter one I have no idea what it is producing.
Its measurements are not correct. Personally I think the QGIS measure tool
should have a pull down to be able to select the ellipsoid and a check box
to set it to the most accurate ellipsoid. I spent a lot of time trying to
find where to set the ellipsoid. The Configuration button does not take you
there.

The Geodesic Measure Tool is based on geographiclib which produces the most
accurate results - better than Vincinty and which I hope geographiclib will
eventually be used in QGIS. I consider the Geodesic Measure Tool to be the
gold standard for earth measurements without taking elevation into
consideration.

I have seen a number of posts about measurements in QGIS that has led to a
fair amount of confusion. Somehow the measuring tool need to be made
clearer as to what it is doing. I'm not exactly sure how to do that. Having
too much flexibility can cause issues and in part is why the Geodesic
Measure Tool was produced. It is simple to use for Google Earth like
results.

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171025/7a6985c1/attachment.html>

From adenaculture at gmail.com  Wed Oct 25 09:09:45 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 25 Oct 2017 12:09:45 -0400
Subject: [QGIS-Developer] QGIS 3 - QgsPoint vs. QgsPointXY
Message-ID: <CABPxTToqVKes1bE46oQsaM_v2kvxZoucGzKT2jGvF8p8xniUMA@mail.gmail.com>

Did the QGIS 3 API just go back to QgsPoint rather than the QgsPointXY for

QgsGeometry.fromPolyline()

I had to switch over to QgsPointXY a while back because of an API change,
but now with the latest daily release (as of today) it is giving me a
python error and is telling me I need to use QgsPoint again.

When do you expect to have the QGIS 3 API stable? I have only ported one
plugin over to QGIS 3 because of these occasional API breaks.

Thanks!!!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171025/96fad02a/attachment.html>

From rdmailings at duif.net  Wed Oct 25 10:55:11 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 25 Oct 2017 19:55:11 +0200
Subject: [QGIS-Developer] Lots of crashes with "Add layers" dialogue
 when adding new connections
In-Reply-To: <31ab2bc75425c568c96c0aa6b3512ad5@carto.net>
References: <31ab2bc75425c568c96c0aa6b3512ad5@carto.net>
Message-ID: <115fa179-e502-702a-07c6-655aa562568e@duif.net>

On 25-10-17 15:03, Andreas Neumann wrote:

> After adding the connection, QGIS crashes, but the new connection is at
> least stored and can be used when after the new start of QGIS. When I
> add another new connection, QGIS crashes again.
> 
> Can someone confirm that behaviour?

Yep, confirmed. I have exact the same experience.

I added some stacktraces here:

https://issues.qgis.org/issues/17279

Somebody thought it could have something todo with the different worker
threads which are used to 'open/search' for layers?

Regards,

Richard Duivenvoorde

From adenaculture at gmail.com  Wed Oct 25 12:30:35 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 25 Oct 2017 15:30:35 -0400
Subject: [QGIS-Developer] QGIS 3 API - QgsVertexMarker and QgsRubberBand
	Inconsistency
Message-ID: <CABPxTTqqci4YXr36Qq-=vYm_Sq2Murse4o8Z=WAfzsKGHu7=ag@mail.gmail.com>

I just found that an API changed made a break with Lat Lon Tools which  is
OK because I understand it is in flux.

A while back a change was made to use QgsPointXY with QgsVertexMarker and
QgsRubberBand through QgsGeometry.fromPolyline(). In looking at the
documentation there is now a fromPolylineXY(), but from the API breaks
documentation it seems like the use of fromPolyline is preferred.

It seems to me that QgsVertexMarker and QgsRubberBand are kind of the same
creating temporary drawing elements on the canvas, but with these latest
changes QgsRubberBand needs QgsPoint objects but QgsVertexMarker needs
QgsPointXY objects. This just seems inconsistent.

-- Just thinking out loud here and perhaps more changes are in the works
that will sort this out anyway.

Thanks!!!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171025/8077ecc3/attachment.html>

From nyall.dawson at gmail.com  Wed Oct 25 14:30:03 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 26 Oct 2017 07:30:03 +1000
Subject: [QGIS-Developer] QGIS 3 - QgsPoint vs. QgsPointXY
In-Reply-To: <CABPxTToqVKes1bE46oQsaM_v2kvxZoucGzKT2jGvF8p8xniUMA@mail.gmail.com>
References: <CABPxTToqVKes1bE46oQsaM_v2kvxZoucGzKT2jGvF8p8xniUMA@mail.gmail.com>
Message-ID: <CAB28AshdYdqHEnStxR-vvs+3msYi3+bMhj3zha4_-aphRhkgVQ@mail.gmail.com>

On 26 October 2017 at 02:09, C Hamilton <adenaculture at gmail.com> wrote:
> Did the QGIS 3 API just go back to QgsPoint rather than the QgsPointXY for
>
> QgsGeometry.fromPolyline()

Yes, see [1]. From the PR:


"Rename QgsGeometry::fromPolyline as QgsGeometry::fromPolylineXY
...and add new QgsGeometry::fromPolyline which uses QgsPoint

We want to encourage people not to use the QgsPointXY method, as it
drops Z/M values. So it's moved across to a different name to make way
for a new QgsGeometry::fromPolyline which uses a QgsPoint list instead
of QgsPointXY, thus keeping Z/M values intact.
Similarly, QgsPolyline now is a list of QgsPoint (keeping z/m values)
and the old 2d QgsPolyline type was renamed to QgsPolylineXY.
Making the QgsPoint method the "preferred" method and making
linestrings just as easy to create from z/m dimensioned points as 2d
points is important to push people to write code which does not
discard these important dimensions.

As a bonus, the QgsPoint methods are more efficient anyway, since they
don't require creation of a temporary list."

So you could do a quick change of fromPolyline -> fromPolylineXY. But
if you're working with existing geometries/points, use the QgsPoint
based fromPolyline instead, and all users with Z/M dimensioned data
will thank you!

> When do you expect to have the QGIS 3 API stable?

No sooner than the final release... We'll be stuck with the 3.0 API
for a LOOOOOONG time, so we need to ensure it's as good as we can get
before we hit the final release deadline.

Nyall

From nyall.dawson at gmail.com  Wed Oct 25 14:30:30 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 26 Oct 2017 07:30:30 +1000
Subject: [QGIS-Developer] QGIS 3 - QgsPoint vs. QgsPointXY
In-Reply-To: <CAB28AshdYdqHEnStxR-vvs+3msYi3+bMhj3zha4_-aphRhkgVQ@mail.gmail.com>
References: <CABPxTToqVKes1bE46oQsaM_v2kvxZoucGzKT2jGvF8p8xniUMA@mail.gmail.com>
 <CAB28AshdYdqHEnStxR-vvs+3msYi3+bMhj3zha4_-aphRhkgVQ@mail.gmail.com>
Message-ID: <CAB28AsgRJTh_0syhPVOycO2BqU8Vs4fNfm-Hzj9=z18iUV0jWw@mail.gmail.com>

On 26 October 2017 at 07:30, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> On 26 October 2017 at 02:09, C Hamilton <adenaculture at gmail.com> wrote:
>> Did the QGIS 3 API just go back to QgsPoint rather than the QgsPointXY for
>>
>> QgsGeometry.fromPolyline()
>
> Yes, see [1]. From the PR:

Oops - forgot the link: https://github.com/qgis/QGIS/pull/5418

Nyall

>
>
> "Rename QgsGeometry::fromPolyline as QgsGeometry::fromPolylineXY
> ...and add new QgsGeometry::fromPolyline which uses QgsPoint
>
> We want to encourage people not to use the QgsPointXY method, as it
> drops Z/M values. So it's moved across to a different name to make way
> for a new QgsGeometry::fromPolyline which uses a QgsPoint list instead
> of QgsPointXY, thus keeping Z/M values intact.
> Similarly, QgsPolyline now is a list of QgsPoint (keeping z/m values)
> and the old 2d QgsPolyline type was renamed to QgsPolylineXY.
> Making the QgsPoint method the "preferred" method and making
> linestrings just as easy to create from z/m dimensioned points as 2d
> points is important to push people to write code which does not
> discard these important dimensions.
>
> As a bonus, the QgsPoint methods are more efficient anyway, since they
> don't require creation of a temporary list."
>
> So you could do a quick change of fromPolyline -> fromPolylineXY. But
> if you're working with existing geometries/points, use the QgsPoint
> based fromPolyline instead, and all users with Z/M dimensioned data
> will thank you!
>
>> When do you expect to have the QGIS 3 API stable?
>
> No sooner than the final release... We'll be stuck with the 3.0 API
> for a LOOOOOONG time, so we need to ensure it's as good as we can get
> before we hit the final release deadline.
>
> Nyall

From nyall.dawson at gmail.com  Wed Oct 25 15:05:58 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 26 Oct 2017 08:05:58 +1000
Subject: [QGIS-Developer] QGIS 3 API - QgsVertexMarker and QgsRubberBand
	Inconsistency
In-Reply-To: <CABPxTTqqci4YXr36Qq-=vYm_Sq2Murse4o8Z=WAfzsKGHu7=ag@mail.gmail.com>
References: <CABPxTTqqci4YXr36Qq-=vYm_Sq2Murse4o8Z=WAfzsKGHu7=ag@mail.gmail.com>
Message-ID: <CAB28AsgFo557M0kX6BZG-u+7m6cwROC2S5PdJC4u_1qNmd5HeA@mail.gmail.com>

On 26 October 2017 at 05:30, C Hamilton <adenaculture at gmail.com> wrote:
> I just found that an API changed made a break with Lat Lon Tools which  is
> OK because I understand it is in flux.
>
> A while back a change was made to use QgsPointXY with QgsVertexMarker and
> QgsRubberBand through QgsGeometry.fromPolyline(). In looking at the
> documentation there is now a fromPolylineXY(), but from the API breaks
> documentation it seems like the use of fromPolyline is preferred.
>

This is a perfectly valid use of fromPolylineXY - since the created
geometry is only for display and presence of Z/M will have no effect.

I think most of the purely-gui classes are now working with QgsPointXY
(unless they've explicitly added overrides for QgsPoint objects). If
you find a GUI/canvas class which *only* works with QgsPoint I'd say
that's a bug and should be fixed in the API.

Basically the rationale here is that we needed a really lightweight 2d
point class (since QgsPoint is a QgsAbstractGeometry and comes with
the associated overhead + complex api). Ideally we'd just use QPointF,
but unfortunately QPointF uses qreal which is float on some platforms
(and we need to be guaranteed a double for some use cases).

Nyall

From a.neumann at carto.net  Thu Oct 26 00:05:06 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 26 Oct 2017 09:05:06 +0200
Subject: [QGIS-Developer] Lots of crashes with "Add layers" dialogue
 when adding new connections
In-Reply-To: <115fa179-e502-702a-07c6-655aa562568e@duif.net>
References: <31ab2bc75425c568c96c0aa6b3512ad5@carto.net>
 <115fa179-e502-702a-07c6-655aa562568e@duif.net>
Message-ID: <b0ae3bf31b3420ac1c3acc99a323cad1@carto.net>

Hi Richard, 

Thanks for the confirmation and also for opening an issue request
already. 

I added my findings to your issue. 

Andreas 

On 2017-10-25 19:55, Richard Duivenvoorde wrote:

> On 25-10-17 15:03, Andreas Neumann wrote:
> 
>> After adding the connection, QGIS crashes, but the new connection is at
>> least stored and can be used when after the new start of QGIS. When I
>> add another new connection, QGIS crashes again.
>> 
>> Can someone confirm that behaviour?
> 
> Yep, confirmed. I have exact the same experience.
> 
> I added some stacktraces here:
> 
> https://issues.qgis.org/issues/17279
> 
> Somebody thought it could have something todo with the different worker
> threads which are used to 'open/search' for layers?
> 
> Regards,
> 
> Richard Duivenvoorde
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171026/741a84f8/attachment.html>

From arnaud.morvan at camptocamp.com  Thu Oct 26 02:44:45 2017
From: arnaud.morvan at camptocamp.com (Arnaud Morvan)
Date: Thu, 26 Oct 2017 11:44:45 +0200
Subject: [QGIS-Developer] =?utf-8?q?=5Bprocessing=5D_Allow_to_use_expressi?=
 =?utf-8?q?ons_on_g=C3=A9om=C3=A9tries_in_RefactorFields?=
Message-ID: <0fa972ad-ba0e-dc43-48a7-7babead46707@camptocamp.com>

Hello,

A customer ask us to allow, in refactor fields, the use of an expression 
to calculate the output geometry.

I know that the orientation in QGIS 3.0 is to have simple algorithms 
instead of having complex ones,
it that direction, it should make sense to create another algorithm to 
do that.

But another side, having this functionnality in refactorfields allow 
doing complex things without need to create a model.

Does anyone has an opinion on this ?

Regards

-- 
Arnaud Morvan
Ingénieur logiciel
Tél: +33 (0)4 58 48 20 32

Camptocamp France SAS
18 rue du Lac Saint André
Savoie Technolac - Bâtiment Le Dauphin
F-73370 Le Bourget du Lac
http://www.camptocamp.com


From matthias at opengis.ch  Thu Oct 26 02:51:49 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 26 Oct 2017 11:51:49 +0200
Subject: [QGIS-Developer]
 =?utf-8?q?=5Bprocessing=5D_Allow_to_use_expressi?=
 =?utf-8?q?ons_on_g=C3=A9om=C3=A9tries_in_RefactorFields?=
In-Reply-To: <0fa972ad-ba0e-dc43-48a7-7babead46707@camptocamp.com>
References: <0fa972ad-ba0e-dc43-48a7-7babead46707@camptocamp.com>
Message-ID: <9733baab-15ce-5ac5-1f9a-ed8f501d7b7d@opengis.ch>

Hi,

I wouldn't have any problem with having one algorithm for all of this.
Personally I tend to think of geometry as just another attribute (in
good old database manner).

The only thing I would be worried about is the naming which will make it
hard to discover for people looking to only modify the geometry. A
possibility would be to rename it to "refactor feature", "refactor
fields and geometry" or expose multiple algorithms (based on the same
code internally), "refactor fields", "refactor feature", "refactor
geometry".

Cheers
Matthias

On 10/26/2017 11:44 AM, Arnaud Morvan wrote:
> Hello,
> 
> A customer ask us to allow, in refactor fields, the use of an expression
> to calculate the output geometry.
> 
> I know that the orientation in QGIS 3.0 is to have simple algorithms
> instead of having complex ones,
> it that direction, it should make sense to create another algorithm to
> do that.
> 
> But another side, having this functionnality in refactorfields allow
> doing complex things without need to create a model.
> 
> Does anyone has an opinion on this ?
> 
> Regards
> 

From giohappy at gmail.com  Thu Oct 26 03:03:08 2017
From: giohappy at gmail.com (G. Allegri)
Date: Thu, 26 Oct 2017 12:03:08 +0200
Subject: [QGIS-Developer] QGIS master, Qt Creator 4.4.1 and Qt 5.9
Message-ID: <CAB4g1=yJSZ5uhsd7oB606Khc7xf1rdfOfcSvquBjP2OVLvnfLQ@mail.gmail.com>

In the past I could easily use Qt Creator to open the QGIS CmakeLists as a
project and navigate sources and headers inside the editor.
Today I've setup a fresh Qt Creator (latest with Qt 5.9). While it can open
CmakeLists as usual and configure it, the editor shows only the CmakeLists
file but note the src files tree.

I know this isn't strictly related to QGIS but given that Qt Creator is one
of the preferred options to build/debug QGIS, I wondered if anyone else had
the same problem and if you have suggestions to setup the environment.

Thanks,
giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171026/b7cc9547/attachment.html>

From nyall.dawson at gmail.com  Thu Oct 26 03:41:05 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 26 Oct 2017 20:41:05 +1000
Subject: [QGIS-Developer]
	=?utf-8?q?=5Bprocessing=5D_Allow_to_use_expressi?=
	=?utf-8?q?ons_on_g=C3=A9om=C3=A9tries_in_RefactorFields?=
In-Reply-To: <9733baab-15ce-5ac5-1f9a-ed8f501d7b7d@opengis.ch>
References: <0fa972ad-ba0e-dc43-48a7-7babead46707@camptocamp.com>
 <9733baab-15ce-5ac5-1f9a-ed8f501d7b7d@opengis.ch>
Message-ID: <CAB28AsgFgnvUyeoditGoyvRWBN6nt6=3TEinumU6W0CV9FCxbw@mail.gmail.com>

On 26 October 2017 at 19:51, Matthias Kuhn <matthias at opengis.ch> wrote:
> Hi,
>
> I wouldn't have any problem with having one algorithm for all of this.
> Personally I tend to think of geometry as just another attribute (in
> good old database manner).
>
> The only thing I would be worried about is the naming which will make it
> hard to discover for people looking to only modify the geometry. A
> possibility would be to rename it to "refactor feature", "refactor
> fields and geometry" or expose multiple algorithms (based on the same
> code internally), "refactor fields", "refactor feature", "refactor
> geometry".

Note that there's already a separate "geometry by expression"
algorithm in master, so I'm not sure it makes sense to add this to the
"refactor fields" algorithm.

However - I do think there'd be LOTS of use in adding this to the new
"aggregate" algorithm.

Nyall

>
> Cheers
> Matthias
>
> On 10/26/2017 11:44 AM, Arnaud Morvan wrote:
>> Hello,
>>
>> A customer ask us to allow, in refactor fields, the use of an expression
>> to calculate the output geometry.
>>
>> I know that the orientation in QGIS 3.0 is to have simple algorithms
>> instead of having complex ones,
>> it that direction, it should make sense to create another algorithm to
>> do that.
>>
>> But another side, having this functionnality in refactorfields allow
>> doing complex things without need to create a model.
>>
>> Does anyone has an opinion on this ?
>>
>> Regards
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From peter.petrik at lutraconsulting.co.uk  Thu Oct 26 03:56:04 2017
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Thu, 26 Oct 2017 12:56:04 +0200
Subject: [QGIS-Developer] QGIS master, Qt Creator 4.4.1 and Qt 5.9
In-Reply-To: <CAB4g1=yJSZ5uhsd7oB606Khc7xf1rdfOfcSvquBjP2OVLvnfLQ@mail.gmail.com>
References: <CAB4g1=yJSZ5uhsd7oB606Khc7xf1rdfOfcSvquBjP2OVLvnfLQ@mail.gmail.com>
Message-ID: <CA+T_MsJAfFTu-SMf6TYcenw5DYBdSBrF09GG=LfkyXSLk_bomA@mail.gmail.com>

Hi,

I experienced similar behavior. I have updated to CMake 3.9.4 and QtCreator
4.4.1 and it now works nicely.

Kind regards,
Peter


On Thu, Oct 26, 2017 at 12:03 PM, G. Allegri <giohappy at gmail.com> wrote:

> In the past I could easily use Qt Creator to open the QGIS CmakeLists as a
> project and navigate sources and headers inside the editor.
> Today I've setup a fresh Qt Creator (latest with Qt 5.9). While it can
> open CmakeLists as usual and configure it, the editor shows only the
> CmakeLists file but note the src files tree.
>
> I know this isn't strictly related to QGIS but given that Qt Creator is
> one of the preferred options to build/debug QGIS, I wondered if anyone else
> had the same problem and if you have suggestions to setup the environment.
>
> Thanks,
> giovanni
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171026/a8cce6a7/attachment.html>

From giohappy at gmail.com  Thu Oct 26 03:59:28 2017
From: giohappy at gmail.com (G. Allegri)
Date: Thu, 26 Oct 2017 12:59:28 +0200
Subject: [QGIS-Developer] QGIS master, Qt Creator 4.4.1 and Qt 5.9
In-Reply-To: <CA+T_MsJAfFTu-SMf6TYcenw5DYBdSBrF09GG=LfkyXSLk_bomA@mail.gmail.com>
References: <CAB4g1=yJSZ5uhsd7oB606Khc7xf1rdfOfcSvquBjP2OVLvnfLQ@mail.gmail.com>
 <CA+T_MsJAfFTu-SMf6TYcenw5DYBdSBrF09GG=LfkyXSLk_bomA@mail.gmail.com>
Message-ID: <CAB4g1=xt5NkRbZvduR_09_R6b4j1u0b+Rpk=FswmdJQFjpQdEA@mail.gmail.com>

Thanks Peter, i will try updateing CMale.

2017-10-26 12:56 GMT+02:00 Peter Petrik <peter.petrik at lutraconsulting.co.uk>
:

> Hi,
>
> I experienced similar behavior. I have updated to CMake 3.9.4 and
> QtCreator 4.4.1 and it now works nicely.
>
> Kind regards,
> Peter
>
>
> On Thu, Oct 26, 2017 at 12:03 PM, G. Allegri <giohappy at gmail.com> wrote:
>
>> In the past I could easily use Qt Creator to open the QGIS CmakeLists as
>> a project and navigate sources and headers inside the editor.
>> Today I've setup a fresh Qt Creator (latest with Qt 5.9). While it can
>> open CmakeLists as usual and configure it, the editor shows only the
>> CmakeLists file but note the src files tree.
>>
>> I know this isn't strictly related to QGIS but given that Qt Creator is
>> one of the preferred options to build/debug QGIS, I wondered if anyone else
>> had the same problem and if you have suggestions to setup the environment.
>>
>> Thanks,
>> giovanni
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171026/1b61861a/attachment.html>

From gisdsh at gmail.com  Thu Oct 26 04:40:42 2017
From: gisdsh at gmail.com (Diego Sartori)
Date: Thu, 26 Oct 2017 08:40:42 -0300
Subject: [QGIS-Developer] MSSQL Spatial vector features not showing up in
	QGIS 2.18 up
Message-ID: <CAJQskNTusz763COs9qR5XLXHLyMc4JHtGFWPR2EOAiTQfOqxTg@mail.gmail.com>

I'm importing a MSSQL 2008 Spatial layer in QGIS. In version 2.14 it works
OK, I can see the vector features and interact with the associated
attribute tables. But in versions 2.18 and 2.99, though the connection is
OK (I can see the attribute tables), the features are not showing up in the
map canvas. I can even modify the data in the tables but I can't
graphically select the features for editing.
I'm using a Windows 10 PC. The 3 versions of QGIS are runnig in the same
machine, at the same time, with the same configuration. I've tried with the
standalone installer and with the OSGEO4W installer (32 bit).
¿Anything changed from version 2.14 to newer versions that I can't get the
features drawn on the map in version 2.18.13 and 2.99.0?
This is my first post here and I'd like to add some screen captures, ¿how
should I poceed?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171026/c67552f3/attachment.html>

From jef at norbit.de  Thu Oct 26 04:49:18 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu, 26 Oct 2017 13:49:18 +0200
Subject: [QGIS-Developer] MSSQL Spatial vector features not showing up
 in QGIS 2.18 up
In-Reply-To: <CAJQskNTusz763COs9qR5XLXHLyMc4JHtGFWPR2EOAiTQfOqxTg@mail.gmail.com>
References: <CAJQskNTusz763COs9qR5XLXHLyMc4JHtGFWPR2EOAiTQfOqxTg@mail.gmail.com>
Message-ID: <20171026114918.qtc7u7keiosgienz@norbit.de>

Hi Diego,

On Thu, 26. Oct 2017 at 08:40:42 -0300, Diego Sartori wrote:
> I've tried with the standalone installer and with the OSGEO4W installer (32 bit).

BTW those are the same builds.  The standalone is a snapshot of qgis and
dependencies in OSGeo4W.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171026/8aff1773/attachment-0001.sig>

From madmanwoo at gmail.com  Thu Oct 26 04:54:56 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Thu, 26 Oct 2017 21:54:56 +1000
Subject: [QGIS-Developer] MSSQL Spatial vector features not showing up
 in QGIS 2.18 up
In-Reply-To: <CAJQskNTusz763COs9qR5XLXHLyMc4JHtGFWPR2EOAiTQfOqxTg@mail.gmail.com>
References: <CAJQskNTusz763COs9qR5XLXHLyMc4JHtGFWPR2EOAiTQfOqxTg@mail.gmail.com>
Message-ID: <CAAi8Yg-cG5MJuLuZUj07fOoJ8ceLe-=3TWB+QFEPcW2f2hny8w@mail.gmail.com>

You need to have a unique int based column QGIS can use as a row id at the
moment.  That might be why.

On Thu, Oct 26, 2017 at 9:40 PM, Diego Sartori <gisdsh at gmail.com> wrote:

> I'm importing a MSSQL 2008 Spatial layer in QGIS. In version 2.14 it works
> OK, I can see the vector features and interact with the associated
> attribute tables. But in versions 2.18 and 2.99, though the connection is
> OK (I can see the attribute tables), the features are not showing up in the
> map canvas. I can even modify the data in the tables but I can't
> graphically select the features for editing.
> I'm using a Windows 10 PC. The 3 versions of QGIS are runnig in the same
> machine, at the same time, with the same configuration. I've tried with the
> standalone installer and with the OSGEO4W installer (32 bit).
> ¿Anything changed from version 2.14 to newer versions that I can't get the
> features drawn on the map in version 2.18.13 and 2.99.0?
> This is my first post here and I'd like to add some screen captures, ¿how
> should I poceed?
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171026/9f8cdd7c/attachment.html>

From gisdsh at gmail.com  Thu Oct 26 06:40:17 2017
From: gisdsh at gmail.com (Diego Sartori)
Date: Thu, 26 Oct 2017 10:40:17 -0300
Subject: [QGIS-Developer] MSSQL Spatial vector features not showing up
 in QGIS 2.18 up
In-Reply-To: <CAJQskNQ8ZddzjNiiRmFQ3Xo6AEp=ZViKKQa36-HEzaOayF1XUg@mail.gmail.com>
References: <CAJQskNTusz763COs9qR5XLXHLyMc4JHtGFWPR2EOAiTQfOqxTg@mail.gmail.com>
 <CAAi8Yg-cG5MJuLuZUj07fOoJ8ceLe-=3TWB+QFEPcW2f2hny8w@mail.gmail.com>
 <CAJQskNRk0K4QcA2DfHO0bTh8ixDMKm0WPo1tKt5PFUUKNG3C8g@mail.gmail.com>
 <CAJQskNQ8ZddzjNiiRmFQ3Xo6AEp=ZViKKQa36-HEzaOayF1XUg@mail.gmail.com>
Message-ID: <CAJQskNTtm3sxyyifXutazSskZSUCKVcHRthqyAcu5ROy4YB5Lw@mail.gmail.com>

The MSSQL table has a int primary key (unique, no nulls), and a geography
colmumn. The question is ¿why it works OK in 2.14 and doesn't work in 2.18
and 2.99 with the same setup?
I have some screenshots but I don't know how to post them.

On Thu, Oct 26, 2017 at 9:16 AM, Diego Sartori <gisdsh at gmail.com> wrote:

> Sorry Nathan, I've sent the email back to you. I dont't know how to use
> the mailing list.
> Should I send the mail back it to QGIS-Developer at lists.osgeo.org ?
> Hoy do I continue with the thread ?
>
> On Thu, Oct 26, 2017 at 9:10 AM, Diego Sartori <gisdsh at gmail.com> wrote:
>
>> The MSSQL table has a int primary key (unique, no nulls), and a geography
>> colmumn. The question is ¿why it works OK in 2.14 and doesn't work in 2.18
>> and 2.99 with the same setup?
>> I have some screenshots but I don't know how to post them.
>>
>> On Thu, Oct 26, 2017 at 8:54 AM, Nathan Woodrow <madmanwoo at gmail.com>
>> wrote:
>>
>>> You need to have a unique int based column QGIS can use as a row id at
>>> the moment.  That might be why.
>>>
>>> On Thu, Oct 26, 2017 at 9:40 PM, Diego Sartori <gisdsh at gmail.com> wrote:
>>>
>>>> I'm importing a MSSQL 2008 Spatial layer in QGIS. In version 2.14 it
>>>> works OK, I can see the vector features and interact with the associated
>>>> attribute tables. But in versions 2.18 and 2.99, though the connection is
>>>> OK (I can see the attribute tables), the features are not showing up in the
>>>> map canvas. I can even modify the data in the tables but I can't
>>>> graphically select the features for editing.
>>>> I'm using a Windows 10 PC. The 3 versions of QGIS are runnig in the
>>>> same machine, at the same time, with the same configuration. I've tried
>>>> with the standalone installer and with the OSGEO4W installer (32 bit).
>>>> ¿Anything changed from version 2.14 to newer versions that I can't get
>>>> the features drawn on the map in version 2.18.13 and 2.99.0?
>>>> This is my first post here and I'd like to add some screen captures,
>>>> ¿how should I poceed?
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171026/dc5bafe2/attachment.html>

From giohappy at gmail.com  Thu Oct 26 09:41:09 2017
From: giohappy at gmail.com (G. Allegri)
Date: Thu, 26 Oct 2017 18:41:09 +0200
Subject: [QGIS-Developer] QGIS master, Qt Creator 4.4.1 and Qt 5.9
In-Reply-To: <CAB4g1=xt5NkRbZvduR_09_R6b4j1u0b+Rpk=FswmdJQFjpQdEA@mail.gmail.com>
References: <CAB4g1=yJSZ5uhsd7oB606Khc7xf1rdfOfcSvquBjP2OVLvnfLQ@mail.gmail.com>
 <CA+T_MsJAfFTu-SMf6TYcenw5DYBdSBrF09GG=LfkyXSLk_bomA@mail.gmail.com>
 <CAB4g1=xt5NkRbZvduR_09_R6b4j1u0b+Rpk=FswmdJQFjpQdEA@mail.gmail.com>
Message-ID: <CAB4g1=zU-RDS3-hFHt0jwAwZ8GqeoPvJRMmUZp=2VVO8UXyfKg@mail.gmail.com>

No way. I've just tested with cmake 3.10. I fear there's something wrong
with Qt, because my build dir contains only moc files with a .cpp_parametes
extension. No *.cpp and no *.h :(

giovanni

2017-10-26 12:59 GMT+02:00 G. Allegri <giohappy at gmail.com>:

> Thanks Peter, i will try updateing CMale.
>
> 2017-10-26 12:56 GMT+02:00 Peter Petrik <peter.petrik at lutraconsulting.
> co.uk>:
>
>> Hi,
>>
>> I experienced similar behavior. I have updated to CMake 3.9.4 and
>> QtCreator 4.4.1 and it now works nicely.
>>
>> Kind regards,
>> Peter
>>
>>
>> On Thu, Oct 26, 2017 at 12:03 PM, G. Allegri <giohappy at gmail.com> wrote:
>>
>>> In the past I could easily use Qt Creator to open the QGIS CmakeLists as
>>> a project and navigate sources and headers inside the editor.
>>> Today I've setup a fresh Qt Creator (latest with Qt 5.9). While it can
>>> open CmakeLists as usual and configure it, the editor shows only the
>>> CmakeLists file but note the src files tree.
>>>
>>> I know this isn't strictly related to QGIS but given that Qt Creator is
>>> one of the preferred options to build/debug QGIS, I wondered if anyone else
>>> had the same problem and if you have suggestions to setup the environment.
>>>
>>> Thanks,
>>> giovanni
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171026/5f2d3428/attachment.html>

From giohappy at gmail.com  Thu Oct 26 10:12:11 2017
From: giohappy at gmail.com (G. Allegri)
Date: Thu, 26 Oct 2017 19:12:11 +0200
Subject: [QGIS-Developer] QGIS master, Qt Creator 4.4.1 and Qt 5.9
In-Reply-To: <CAB4g1=zU-RDS3-hFHt0jwAwZ8GqeoPvJRMmUZp=2VVO8UXyfKg@mail.gmail.com>
References: <CAB4g1=yJSZ5uhsd7oB606Khc7xf1rdfOfcSvquBjP2OVLvnfLQ@mail.gmail.com>
 <CA+T_MsJAfFTu-SMf6TYcenw5DYBdSBrF09GG=LfkyXSLk_bomA@mail.gmail.com>
 <CAB4g1=xt5NkRbZvduR_09_R6b4j1u0b+Rpk=FswmdJQFjpQdEA@mail.gmail.com>
 <CAB4g1=zU-RDS3-hFHt0jwAwZ8GqeoPvJRMmUZp=2VVO8UXyfKg@mail.gmail.com>
Message-ID: <CAB4g1=yYH9+Kud1bZZhR-ydYjK=Arrx5AHa4AHGS12Rz=oO5yA@mail.gmail.com>

I confirm that upgrading solved the problem, thanks Peter!
I needed to tell QtCreator kit to use the upgraded version...

giovanni

2017-10-26 18:41 GMT+02:00 G. Allegri <giohappy at gmail.com>:

> No way. I've just tested with cmake 3.10. I fear there's something wrong
> with Qt, because my build dir contains only moc files with a .cpp_parametes
> extension. No *.cpp and no *.h :(
>
> giovanni
>
> 2017-10-26 12:59 GMT+02:00 G. Allegri <giohappy at gmail.com>:
>
>> Thanks Peter, i will try updateing CMale.
>>
>> 2017-10-26 12:56 GMT+02:00 Peter Petrik <peter.petrik at lutraconsulting.
>> co.uk>:
>>
>>> Hi,
>>>
>>> I experienced similar behavior. I have updated to CMake 3.9.4 and
>>> QtCreator 4.4.1 and it now works nicely.
>>>
>>> Kind regards,
>>> Peter
>>>
>>>
>>> On Thu, Oct 26, 2017 at 12:03 PM, G. Allegri <giohappy at gmail.com> wrote:
>>>
>>>> In the past I could easily use Qt Creator to open the QGIS CmakeLists
>>>> as a project and navigate sources and headers inside the editor.
>>>> Today I've setup a fresh Qt Creator (latest with Qt 5.9). While it can
>>>> open CmakeLists as usual and configure it, the editor shows only the
>>>> CmakeLists file but note the src files tree.
>>>>
>>>> I know this isn't strictly related to QGIS but given that Qt Creator is
>>>> one of the preferred options to build/debug QGIS, I wondered if anyone else
>>>> had the same problem and if you have suggestions to setup the environment.
>>>>
>>>> Thanks,
>>>> giovanni
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171026/ae36ee07/attachment-0001.html>

From noreply at qgis.org  Fri Oct 27 01:06:38 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 27 Oct 2017 08:06:38 -0000
Subject: [QGIS-Developer] Plugin [1035] Lat Lon Tools approval notification.
Message-ID: <20171027080638.31808.29870@320558c5528b>


Plugin Lat Lon Tools approval by zimbogisgeek.
The plugin version "[1035] Lat Lon Tools 3.0.3" is now approved
Link: http://plugins.qgis.org/plugins/latlontools/

From madmanwoo at gmail.com  Fri Oct 27 03:49:18 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Fri, 27 Oct 2017 20:49:18 +1000
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
Message-ID: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>

Hi all,

Just a heads up that I just merged something to migrate settings and styles
from 2 .qgis2 and config locations into QGIS 3 settings.  It will currently
only take a selection of things that I know we can port over but I would
like some help to grow that list before release.

Notes on how it works:

Edit the following file:
https://github.com/qgis/QGIS/blob/90857b2b18b69ac195d152db269f18a23c0ab95f/resources/2to3migration.txt

Syntax is:

oldkey;newkey

* means match key and /* means copy everything under this group:

Qgis/connections-xyz/*;qgis/connections-xyz/*

Will copy and Qgis/connections-xyz/ to gis/connections-xyz/ and everything
under it.

browser/favourites;*

Will copy the full key browser/favourites to the same key in QGIS 3.

If you change the file you must change # version=1 at the top to be a
higher number
or else the migration won't run again, however, we can leave it at 1 for
now until release
and just bump it at the end just before release once all the keys are
added.

If you want to add stuff to and have troubles let me know.   I would like
to see if we can get all the important stuff to come over before release,
connection strings, etc.  Anything that is a pain to setup for users.

If you don't want to lose any settings you are currently using in QGIS 3
dev I would make a new profile (Settings -> User Profile) and run with that
one while default takes everything from the migration steps.  Pro tip: Just
copy the default copy in the profiles\ folder to have a copy.

Regards,
Nathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171027/de5e6909/attachment.html>

From tim at kartoza.com  Fri Oct 27 04:14:06 2017
From: tim at kartoza.com (Tim Sutton)
Date: Fri, 27 Oct 2017 13:14:06 +0200
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
Message-ID: <77CA4457-D270-47B7-94BA-3BF5E358C4CF@kartoza.com>

Hi

Tim Sutton 
Co-founder of Kartoza 
QGIS project chairman 

> On 27 Oct 2017, at 12:49, Nathan Woodrow <madmanwoo at gmail.com> wrote:
> 
> Hi all,
> 
> Just a heads up that I just merged something to migrate settings and styles from 2 .qgis2 and config locations into QGIS 3 settings.  It will currently only take a selection of things that I know we can port over but I would like some help to grow that list before release.
> 
> Notes on how it works:
> 
> Edit the following file: https://github.com/qgis/QGIS/blob/90857b2b18b69ac195d152db269f18a23c0ab95f/resources/2to3migration.txt
> 
> Syntax is:
> 
> oldkey;newkey
> 
> * means match key and /* means copy everything under this group:
> 
> Qgis/connections-xyz/*;qgis/connections-xyz/*
> 
> Will copy and Qgis/connections-xyz/ to gis/connections-xyz/ and everything under it.
> 
> browser/favourites;* 
> 
> Will copy the full key browser/favourites to the same key in QGIS 3.
> 
> If you change the file you must change # version=1 at the top to be a higher number
> or else the migration won't run again, however, we can leave it at 1 for now until release
> and just bump it at the end just before release once all the keys are added. 
> 
> If you want to add stuff to and have troubles let me know.   I would like to see if we can get all the important stuff to come over before release, connection strings, etc.  Anything that is a pain to setup for users.
> 
> If you don't want to lose any settings you are currently using in QGIS 3 dev I would make a new profile (Settings -> User Profile) and run with that one while default takes everything from the migration steps.  Pro tip: Just copy the default copy in the profiles\ folder to have a copy.


Ah brilliant thanks so much for doing this Nathan!

Regards 

Tim 


> 
> Regards,
> Nathan
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171027/7650aa30/attachment.html>

From rdmailings at duif.net  Fri Oct 27 07:13:06 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 27 Oct 2017 16:13:06 +0200
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
Message-ID: <b2433590-fdb5-b4bc-8e1d-358c4f3aecf4@duif.net>

On 27-10-17 12:49, Nathan Woodrow wrote:

> If you want to add stuff to and have troubles let me know.   I would
> like to see if we can get all the important stuff to come over before
> release, connection strings, etc.  Anything that is a pain to setup for
> users.

Hi Nathan,

I fixed some code already related to that, see:

https://github.com/qgis/QGIS/pull/4586

Regards,

Richard Duivenvoorde

From madmanwoo at gmail.com  Fri Oct 27 07:15:49 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Fri, 27 Oct 2017 14:15:49 +0000
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <b2433590-fdb5-b4bc-8e1d-358c4f3aecf4@duif.net>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <b2433590-fdb5-b4bc-8e1d-358c4f3aecf4@duif.net>
Message-ID: <CAAi8Yg_qtC5BUt68ptNs43FQq+Cztn+uyHokzpspsTsK-a0TCA@mail.gmail.com>

Sorry I'm not sure I follow what you mean?

On Sat., 28 Oct. 2017, 12:13 am Richard Duivenvoorde, <rdmailings at duif.net>
wrote:

> On 27-10-17 12:49, Nathan Woodrow wrote:
>
> > If you want to add stuff to and have troubles let me know.   I would
> > like to see if we can get all the important stuff to come over before
> > release, connection strings, etc.  Anything that is a pain to setup for
> > users.
>
> Hi Nathan,
>
> I fixed some code already related to that, see:
>
> https://github.com/qgis/QGIS/pull/4586
>
> Regards,
>
> Richard Duivenvoorde
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171027/b7c23796/attachment.html>

From tim at kartoza.com  Fri Oct 27 08:01:19 2017
From: tim at kartoza.com (Tim Sutton)
Date: Fri, 27 Oct 2017 17:01:19 +0200
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for QGIS
	3.0
Message-ID: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>

Hi all

According to our release schedule we now hit feature freeze:

2.99 in feature freeze since 10/27/2017, 2:00:00 PM

I am wondering what we will do with all the Pull Requests sitting in the queue (currently 98) if people put PR’s into the queue and nobody reviewed them / ok'd applying them? For example we (Kartoza) have https://github.com/qgis/QGIS/pull/5379 <https://github.com/qgis/QGIS/pull/5379> which I think is important to apply for 3.0. I am sure there are many others in the queue that didn’t make it the code base before feature freeze.

My long term vision for QGIS is that we (QGIS.ORG <http://qgis.org/>) eventually hire some professional (as in paid, not volunteers) developers, documenters etc. to take care of house keeping things like reviewing PRs, fixing bugs on a more sustained basis, maintaining the web site, infrastructure etc. For the short term we have already earmarked 54 days of paid effort for bug fixing leading up to the QGIS 3.0 release which is really great. Andreas will correct me if I am wrong but I am sure we still have budget to support more than 54 days of paid effort by core developers and it would be really great to also include people like Giovanni Manghi (bug triaging), Yves Jacolin, Harrisou (documentation) and other contributors into the paid contributor programme leading up to the release.

But what about the PR queue? Is someone interested and capable of devoting some days (on a for-pay basis) to go through and apply all the ‘obvious’ PRs and dig in to the less trivial ones? Andreas can we support this as well via our budget?

Regards

Tim

—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171027/536f19a8/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171027/536f19a8/attachment-0001.jpg>

From rdmailings at duif.net  Fri Oct 27 08:13:41 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 27 Oct 2017 17:13:41 +0200
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <CAAi8Yg_qtC5BUt68ptNs43FQq+Cztn+uyHokzpspsTsK-a0TCA@mail.gmail.com>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <b2433590-fdb5-b4bc-8e1d-358c4f3aecf4@duif.net>
 <CAAi8Yg_qtC5BUt68ptNs43FQq+Cztn+uyHokzpspsTsK-a0TCA@mail.gmail.com>
Message-ID: <054a172e-26cd-7f61-4052-e6cadb87c0ce@duif.net>

On 27-10-17 16:15, Nathan Woodrow wrote:
> Sorry I'm not sure I follow what you mean?

This pull fixed some WCS related changes, please see comments in the PR:

https://github.com/qgis/QGIS/pull/4586

I also grepped (at that time) some other key's which contained Qgis with
a capital Q (again see PR):

python/pyplugin_installer/installer_data.py:reposGroup =
"/Qgis/plugin-repos"
python/pyplugin_installer/installer_data.py:settingsGroup =
"/Qgis/plugin-installer"
python/pyplugin_installer/installer_data.py:seenPluginGroup =
"/Qgis/plugin-seen"
python/pyplugin_installer/installer_data.py:    ("Barry Rowlingson's
Repository",
"http://www.maths.lancs.ac.uk/~rowlings/Qgis/Plugins/plugins.xml"),
python/pyplugin_installer/installer.py:        lastDirectory =
settings.value('/Qgis/plugin-installer/lastZipDirectory', '.')
python/pyplugin_installer/installer.py:
settings.setValue('/Qgis/plugin-installer/lastZipDirectory',
python/qsci_apis/PyQGIS-2.0.api:qgis.gui.QgsNewHttpConnection?1(QWidget
parent=None, QString baseKey="/Qgis/connections-wms/", QString
connName=QString.null, Qt.WindowFlags fl=QgisGui.ModalDialogFlags)
python/qsci_apis/PyQGIS-2.0.api:qgis.gui.QgsNewHttpConnection.__init__?1(self,
QWidget parent=None, QString baseKey="/Qgis/connections-wms/", QString
connName=QString.null, Qt.WindowFlags fl=QgisGui.ModalDialogFlags)
python/qsci_apis/PyQGIS-2.2.api:qgis.gui.QgsNewHttpConnection?1(QWidget
parent=None, QString baseKey="/Qgis/connections-wms/", QString
connName=QString.null, Qt.WindowFlags fl=QgisGui.ModalDialogFlags)
python/qsci_apis/PyQGIS-2.2.api:qgis.gui.QgsNewHttpConnection.__init__?1(self,
QWidget parent=None, QString baseKey="/Qgis/connections-wms/", QString
connName=QString.null, Qt.WindowFlags fl=QgisGui.ModalDialogFlags)
python/gui/qgsnewhttpconnection.sip:    QgsNewHttpConnection( QWidget
*parent /TransferThis/ = 0, const QString &baseKey =
"/Qgis/connections-wms/", const QString &connName = QString::null, const
Qt::WindowFlags &fl = QgsGuiUtils::ModalDialogFlags );
python/plugins/MetaSearch/dialogs/maindialog.py:        # stype = human
name,/Qgis/connections-%s,providername
python/plugins/MetaSearch/dialogs/maindialog.py:
self.settings.beginGroup('/Qgis/connections-%s' % stype[2])
python/plugins/MetaSearch/dialogs/maindialog.py:
self.settings.beginGroup('/Qgis/connections-%s' % stype[1])
python/plugins/MetaSearch/dialogs/maindialog.py:
self.settings.beginGroup('/Qgis/connections-%s' % stype[2])
python/plugins/MetaSearch/dialogs/maindialog.py:
self.settings.beginGroup('/Qgis/connections-%s' % stype[1])

But I understand now that yours is just about settings object/file, NOT
so much about the code that creates that settings?

Richard

From a.neumann at carto.net  Fri Oct 27 08:58:05 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri, 27 Oct 2017 17:58:05 +0200
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
 QGIS 3.0
In-Reply-To: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
Message-ID: <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>

Hi Tim and all,

Documentation of the manual, documentation of Python API and managing 
the bug queue (Giovanni) have separate items in the budget. So far it 
hasn't been used at all - and the end of the year is coming rather 
quickly. I believe it is more a lack of time than a lack of money - the 
issue around documentation.

For managing the bug queue we have a budget of 1k € per release. Perhaps 
this is not enough - I don't know how much time and effort Giovanni puts 
into the issues management. I am happy to increase this amount a bit, 
esp. since we did not have as many releases this year as usual.

As to reviewing the PR queue: no idea how much effort would mean, but it 
would have to be done quickly (e.g. within the next week). Jürgen has to 
comment on that. We can spend some money on getting the PRs reviewed, 
but I would need an estimate (e.g. x days).

Greetings,

Andreas



On 27.10.2017 17:01, Tim Sutton wrote:
> Hi all
>
> According to our release schedule we now hit feature freeze:
>
> 2.99 in feature freeze since 10/27/2017, 2:00:00 PM
>
> I am wondering what we will do with all the Pull Requests sitting in 
> the queue (currently 98) if people put PR’s into the queue and nobody 
> reviewed them / ok'd applying them? For example we (Kartoza) have 
> https://github.com/qgis/QGIS/pull/5379 which I think is important to 
> apply for 3.0. I am sure there are many others in the queue that 
> didn’t make it the code base before feature freeze.
>
> My long term vision for QGIS is that we (QGIS.ORG <http://QGIS.ORG>) 
> eventually hire some professional (as in paid, not volunteers) 
> developers, documenters etc. to take care of house keeping things like 
> reviewing PRs, fixing bugs on a more sustained basis, maintaining the 
> web site, infrastructure etc. For the short term we have already 
> earmarked 54 days of paid effort for bug fixing leading up to the QGIS 
> 3.0 release which is really great. Andreas will correct me if I am 
> wrong but I am sure we still have budget to support more than 54 days 
> of paid effort by core developers and it would be really great to also 
> include people like Giovanni Manghi (bug triaging), Yves Jacolin, 
> Harrisou (documentation) and other contributors into the paid 
> contributor programme leading up to the release.
>
> But what about the PR queue? Is someone interested and capable of 
> devoting some days (on a for-pay basis) to go through and apply all 
> the ‘obvious’ PRs and dig in to the less trivial ones? Andreas can we 
> support this as well via our budget?
>
> Regards
>
> Tim
>
> —
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:*Kartoza
> *Project chair:*QGIS.org <http://QGIS.org>
>
> Visit http://kartoza.com <http://kartoza.com/> to find out about open 
> source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:*timlinux on #qgis at freenode.net <http://freenode.net>
>
> Kartoza is a merger between Linfiniti and Afrispatial
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171027/334b729c/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171027/334b729c/attachment-0001.jpg>

From jef at norbit.de  Fri Oct 27 14:25:52 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Fri, 27 Oct 2017 23:25:52 +0200
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
 QGIS 3.0
In-Reply-To: <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
Message-ID: <20171027212552.m6462cjbvnwfmorv@norbit.de>

Hi Andreas,

On Fri, 27. Oct 2017 at 17:58:05 +0200, Andreas Neumann wrote:
> As to reviewing the PR queue: no idea how much effort would mean, but it
> would have to be done quickly (e.g. within the next week). Jürgen has to
> comment on that. We can spend some money on getting the PRs reviewed, but I
> would need an estimate (e.g. x days).

Not sure how.  The rule is clear - feature freeze means no new features.  So
all features have to be in (committed to master) prior to the freeze.  There is
no rule for exceptions - or one that makes it my buck.  I just fix the dates
after we discussed them, make the release (and package it).

Core committers can commit anything they see fit prior to the freeze (they got
that privilege because we trust them).  It's not required to run commits it
through PRs first or have PRs reviewed and/or merged by and other core
committer.  If they still use a PR and get noone interested to review and
merge, they can still merge it themselves (no news is good news).

If other contributors want PRs merged, they have to find a core committer to
merge it for them (rub them the right way, advertize it and get users to cheer,
hire them, whatever helps).  We're not obligated to merge anything - or pay
someone to review them.  But if it's a feature PR, it shall not be merged in
freeze.  When the PR was filed doesn't matter.

I didn't arbitrarily set the freeze date - actually originally 3.0 should be
released when ready and not on a fixed schedule.  The date was requested and
suggested by the key people doing the work - and even already moved once as
their estimation was apparently too optimistic.

The point of the freeze is to give us time to stabilize and fix bugs before the
release.  We also discussed how much time is needed for that.  Merging PRs
after the freeze would also require to discuss it's impact on the release date.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171027/4c5f7c9d/attachment.sig>

From tim at kartoza.com  Fri Oct 27 15:25:58 2017
From: tim at kartoza.com (Tim Sutton)
Date: Sat, 28 Oct 2017 00:25:58 +0200
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
 QGIS 3.0
In-Reply-To: <20171027212552.m6462cjbvnwfmorv@norbit.de>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
Message-ID: <1BCAFBBB-BC87-4004-9AA3-424F595D47F5@qgis.org>

Hi

> On 27 Oct 2017, at 23:25, Jürgen E. Fischer <jef at norbit.de> wrote:
> 
> Hi Andreas,
> 
> On Fri, 27. Oct 2017 at 17:58:05 +0200, Andreas Neumann wrote:
>> As to reviewing the PR queue: no idea how much effort would mean, but it
>> would have to be done quickly (e.g. within the next week). Jürgen has to
>> comment on that. We can spend some money on getting the PRs reviewed, but I
>> would need an estimate (e.g. x days).
> 
> Not sure how.  The rule is clear - feature freeze means no new features.  So
> all features have to be in (committed to master) prior to the freeze.  There is
> no rule for exceptions - or one that makes it my buck.  I just fix the dates
> after we discussed them, make the release (and package it).
> 
> Core committers can commit anything they see fit prior to the freeze (they got
> that privilege because we trust them).  It's not required to run commits it
> through PRs first or have PRs reviewed and/or merged by and other core
> committer.  If they still use a PR and get noone interested to review and
> merge, they can still merge it themselves (no news is good news).
> 
> If other contributors want PRs merged, they have to find a core committer to
> merge it for them (rub them the right way, advertize it and get users to cheer,
> hire them, whatever helps).  We're not obligated to merge anything - or pay
> someone to review them.  But if it's a feature PR, it shall not be merged in
> freeze.  When the PR was filed doesn't matter.
> 
> I didn't arbitrarily set the freeze date - actually originally 3.0 should be
> released when ready and not on a fixed schedule.  The date was requested and
> suggested by the key people doing the work - and even already moved once as
> their estimation was apparently too optimistic.
> 
> The point of the freeze is to give us time to stabilize and fix bugs before the
> release.  We also discussed how much time is needed for that.  Merging PRs
> after the freeze would also require to discuss it's impact on the release date.

I agree with what you say above (and I apologise if my original message sounded like I was trying to shift the freeze goal posts again).  I’ll cope if our PR is not merged but I wonder in the longer term if the '(rub them the right way, advertize it and get users to cheer hire them, whatever helps)’ is working for us? Tthe fact that our PR queue is so long makes me think it would be worthwhile to treat managing the PR queue as a paid effort from QGIS side (after the freeze is lifted) - or otherwise come up with a system to deal with it more effectively….maybe a topic for Madeira anyway….bring on the freeze!

Regards

Tim


> 
> 
> Jürgen
> 
> -- 
> Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden             http://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

 



---

Tim Sutton
QGIS Project Steering Committee Chair
tim at qgis.org




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171028/504367f8/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis-icon-60x60.png
Type: image/png
Size: 4401 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171028/504367f8/attachment.png>

From madmanwoo at gmail.com  Fri Oct 27 15:47:57 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Sat, 28 Oct 2017 08:47:57 +1000
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <054a172e-26cd-7f61-4052-e6cadb87c0ce@duif.net>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <b2433590-fdb5-b4bc-8e1d-358c4f3aecf4@duif.net>
 <CAAi8Yg_qtC5BUt68ptNs43FQq+Cztn+uyHokzpspsTsK-a0TCA@mail.gmail.com>
 <054a172e-26cd-7f61-4052-e6cadb87c0ce@duif.net>
Message-ID: <CAAi8Yg_UjHjQFx1_q7nfKO6kRO1Ufzp3=FmLYXNqLgDZFJ1ggA@mail.gmail.com>

Hey Richard,

Leave it with me I will take a look.  I don't mind what we go with but we
should have a standard used over the whole app.

Your PR is fine if /qgis/connections-wms s used in QGIS 3 and
Qgis/connections-wms was
in 2.x the translation framework will pick it up ok.

Regards,
Nathan

On Sat, Oct 28, 2017 at 1:13 AM, Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> On 27-10-17 16:15, Nathan Woodrow wrote:
> > Sorry I'm not sure I follow what you mean?
>
> This pull fixed some WCS related changes, please see comments in the PR:
>
> https://github.com/qgis/QGIS/pull/4586
>
> I also grepped (at that time) some other key's which contained Qgis with
> a capital Q (again see PR):
>
> python/pyplugin_installer/installer_data.py:reposGroup =
> "/Qgis/plugin-repos"
> python/pyplugin_installer/installer_data.py:settingsGroup =
> "/Qgis/plugin-installer"
> python/pyplugin_installer/installer_data.py:seenPluginGroup =
> "/Qgis/plugin-seen"
> python/pyplugin_installer/installer_data.py:    ("Barry Rowlingson's
> Repository",
> "http://www.maths.lancs.ac.uk/~rowlings/Qgis/Plugins/plugins.xml"),
> python/pyplugin_installer/installer.py:        lastDirectory =
> settings.value('/Qgis/plugin-installer/lastZipDirectory', '.')
> python/pyplugin_installer/installer.py:
> settings.setValue('/Qgis/plugin-installer/lastZipDirectory',
> python/qsci_apis/PyQGIS-2.0.api:qgis.gui.QgsNewHttpConnection?1(QWidget
> parent=None, QString baseKey="/Qgis/connections-wms/", QString
> connName=QString.null, Qt.WindowFlags fl=QgisGui.ModalDialogFlags)
> python/qsci_apis/PyQGIS-2.0.api:qgis.gui.QgsNewHttpConnection.__init__?
> 1(self,
> QWidget parent=None, QString baseKey="/Qgis/connections-wms/", QString
> connName=QString.null, Qt.WindowFlags fl=QgisGui.ModalDialogFlags)
> python/qsci_apis/PyQGIS-2.2.api:qgis.gui.QgsNewHttpConnection?1(QWidget
> parent=None, QString baseKey="/Qgis/connections-wms/", QString
> connName=QString.null, Qt.WindowFlags fl=QgisGui.ModalDialogFlags)
> python/qsci_apis/PyQGIS-2.2.api:qgis.gui.QgsNewHttpConnection.__init__?
> 1(self,
> QWidget parent=None, QString baseKey="/Qgis/connections-wms/", QString
> connName=QString.null, Qt.WindowFlags fl=QgisGui.ModalDialogFlags)
> python/gui/qgsnewhttpconnection.sip:    QgsNewHttpConnection( QWidget
> *parent /TransferThis/ = 0, const QString &baseKey =
> "/Qgis/connections-wms/", const QString &connName = QString::null, const
> Qt::WindowFlags &fl = QgsGuiUtils::ModalDialogFlags );
> python/plugins/MetaSearch/dialogs/maindialog.py:        # stype = human
> name,/Qgis/connections-%s,providername
> python/plugins/MetaSearch/dialogs/maindialog.py:
> self.settings.beginGroup('/Qgis/connections-%s' % stype[2])
> python/plugins/MetaSearch/dialogs/maindialog.py:
> self.settings.beginGroup('/Qgis/connections-%s' % stype[1])
> python/plugins/MetaSearch/dialogs/maindialog.py:
> self.settings.beginGroup('/Qgis/connections-%s' % stype[2])
> python/plugins/MetaSearch/dialogs/maindialog.py:
> self.settings.beginGroup('/Qgis/connections-%s' % stype[1])
>
> But I understand now that yours is just about settings object/file, NOT
> so much about the code that creates that settings?
>
> Richard
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171028/d9f08597/attachment-0001.html>

From jef at norbit.de  Sat Oct 28 04:08:41 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sat, 28 Oct 2017 13:08:41 +0200
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
 QGIS 3.0
In-Reply-To: <1BCAFBBB-BC87-4004-9AA3-424F595D47F5@qgis.org>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <1BCAFBBB-BC87-4004-9AA3-424F595D47F5@qgis.org>
Message-ID: <20171028110841.xju7plsrnx5zjnha@norbit.de>

Hi Tim,

On Sat, 28. Oct 2017 at 00:25:58 +0200, Tim Sutton wrote:
> I’ll cope if our PR is not merged but I wonder in the longer term if the
> '(rub them the right way, advertize it and get users to cheer hire them,
> whatever helps)’ is working for us?

Does it have to?  It doesn't apply to you as you are a core committer.


Jürgen

-- 
Jürgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-31
Dipl.-Inf. (FH)           Rheinstraße 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171028/54aa35c9/attachment.sig>

From lists at borysjurgiel.pl  Sat Oct 28 04:58:26 2017
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Sat, 28 Oct 2017 13:58:26 +0200
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
	QGIS 3.0
In-Reply-To: <1BCAFBBB-BC87-4004-9AA3-424F595D47F5@qgis.org>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <1BCAFBBB-BC87-4004-9AA3-424F595D47F5@qgis.org>
Message-ID: <3057398.8nyeIVWZMI@debian>

Dnia sobota, 28 października 2017 00:25:58 Tim Sutton pisze:

> Tthe fact that our PR queue is so long makes me
> think it would be worthwhile to treat managing the PR queue as a paid
> effort from QGIS side (after the freeze is lifted) - or otherwise come up
> with a system to deal with it more effectively….maybe a topic for Madeira
> anyway….bring on the freeze!

I'd be happy to see all the PRs merged in 3.2, so +1 for trying to review them 
before Madeira (the 3.2 freeze is February 23) :)

Regards,

Borys

From pierre.loicq at univ-tours.fr  Sat Oct 28 08:12:17 2017
From: pierre.loicq at univ-tours.fr (Pierre_Loicq)
Date: Sat, 28 Oct 2017 08:12:17 -0700 (MST)
Subject: [QGIS-Developer] Speed up building time after git checkout
Message-ID: <1509203537772-0.post@n6.nabble.com>

Hello,

Does anyone know how to speed up my building time after a checkout ? It
takes me 30 sec when I change just a file, with "ninja qgis"
(https://nathanw.net/2016/05/26/speeding-up-qgis-build-times-with-ninja/)
but when I checkout it takes like more than 1 hour, with my 2 cores  at
100%. 

Thank you
Pierre



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From regis.haubourg at gmail.com  Sat Oct 28 08:22:58 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Sat, 28 Oct 2017 17:22:58 +0200
Subject: [QGIS-Developer] Speed up building time after git checkout
In-Reply-To: <1509203537772-0.post@n6.nabble.com>
References: <1509203537772-0.post@n6.nabble.com>
Message-ID: <CABgOYCdG1eUfdmuj3W+_Q9cxZBMQ_6ncvg6hv5TVWMT-PXXZ0w@mail.gmail.com>

Hi Pierre,
up to now, I only reach the conclusion "buy more cores" !
But I think there are possibilities using --share option in git as stated
here:
https://stackoverflow.com/questions/10356165/avoid-recompilation-with-git-and-make

Cheers
Régis

2017-10-28 17:12 GMT+02:00 Pierre_Loicq <pierre.loicq at univ-tours.fr>:

> Hello,
>
> Does anyone know how to speed up my building time after a checkout ? It
> takes me 30 sec when I change just a file, with "ninja qgis"
> (https://nathanw.net/2016/05/26/speeding-up-qgis-build-times-with-ninja/)
> but when I checkout it takes like more than 1 hour, with my 2 cores  at
> 100%.
>
> Thank you
> Pierre
>
>
>
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171028/a14b244d/attachment.html>

From delazj at gmail.com  Sat Oct 28 10:12:42 2017
From: delazj at gmail.com (delazj at gmail.com)
Date: Sat, 28 Oct 2017 19:12:42 +0200
Subject: [QGIS-Developer] Speed up building time after git checkout
Message-ID: <59f4ba8c.76b8500a.d22c0.3c09@mx.google.com>

Hi, 

I wrote almost the same message few days ago and forgot to send it. I'm really interested in the answer of this, fed up with waiting so long anytime i checkout a new branch, regardless the diff.
I didn't know the ˋninja qgisˋ command (used to ˋninja -j8ˋ as stated in the install doc). Will give it a try.
Thanks to anyone who would help us... Le 28 oct. 2017 5:12 PM, Pierre_Loicq <pierre.loicq at univ-tours.fr> a écrit :
>
> Hello,
>
> Does anyone know how to speed up my building time after a checkout ? It
> takes me 30 sec when I change just a file, with "ninja qgis"
> (https://nathanw.net/2016/05/26/speeding-up-qgis-build-times-with-ninja/)
> but when I checkout it takes like more than 1 hour, with my 2 cores  at
> 100%.
>
> Thank you
> Pierre
>
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From apasotti at gmail.com  Sat Oct 28 11:48:31 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sat, 28 Oct 2017 20:48:31 +0200
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <CAAi8Yg_UjHjQFx1_q7nfKO6kRO1Ufzp3=FmLYXNqLgDZFJ1ggA@mail.gmail.com>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <b2433590-fdb5-b4bc-8e1d-358c4f3aecf4@duif.net>
 <CAAi8Yg_qtC5BUt68ptNs43FQq+Cztn+uyHokzpspsTsK-a0TCA@mail.gmail.com>
 <054a172e-26cd-7f61-4052-e6cadb87c0ce@duif.net>
 <CAAi8Yg_UjHjQFx1_q7nfKO6kRO1Ufzp3=FmLYXNqLgDZFJ1ggA@mail.gmail.com>
Message-ID: <CAL5Q670V2kNCzd999ApRnAcR9QG=niecqb1cWnvYF2irJ5pvVg@mail.gmail.com>

The QgsSettings::Section was an attempt to standardize. But applying it the
whole code requires some more work.

Perhaps we should dedicate some bugfixing time to that (boring) task.

What do you think about that?

On Oct 28, 2017 00:48, "Nathan Woodrow" <madmanwoo at gmail.com> wrote:

> Hey Richard,
>
> Leave it with me I will take a look.  I don't mind what we go with but we
> should have a standard used over the whole app.
>
> Your PR is fine if /qgis/connections-wms s used in QGIS 3 and Qgis/connections-wms was
> in 2.x the translation framework will pick it up ok.
>
> Regards,
> Nathan
>
> On Sat, Oct 28, 2017 at 1:13 AM, Richard Duivenvoorde <rdmailings at duif.net
> > wrote:
>
>> On 27-10-17 16:15, Nathan Woodrow wrote:
>> > Sorry I'm not sure I follow what you mean?
>>
>> This pull fixed some WCS related changes, please see comments in the PR:
>>
>> https://github.com/qgis/QGIS/pull/4586
>>
>> I also grepped (at that time) some other key's which contained Qgis with
>> a capital Q (again see PR):
>>
>> python/pyplugin_installer/installer_data.py:reposGroup =
>> "/Qgis/plugin-repos"
>> python/pyplugin_installer/installer_data.py:settingsGroup =
>> "/Qgis/plugin-installer"
>> python/pyplugin_installer/installer_data.py:seenPluginGroup =
>> "/Qgis/plugin-seen"
>> python/pyplugin_installer/installer_data.py:    ("Barry Rowlingson's
>> Repository",
>> "http://www.maths.lancs.ac.uk/~rowlings/Qgis/Plugins/plugins.xml"),
>> python/pyplugin_installer/installer.py:        lastDirectory =
>> settings.value('/Qgis/plugin-installer/lastZipDirectory', '.')
>> python/pyplugin_installer/installer.py:
>> settings.setValue('/Qgis/plugin-installer/lastZipDirectory',
>> python/qsci_apis/PyQGIS-2.0.api:qgis.gui.QgsNewHttpConnection?1(QWidget
>> parent=None, QString baseKey="/Qgis/connections-wms/", QString
>> connName=QString.null, Qt.WindowFlags fl=QgisGui.ModalDialogFlags)
>> python/qsci_apis/PyQGIS-2.0.api:qgis.gui.QgsNewHttpConnectio
>> n.__init__?1(self,
>> QWidget parent=None, QString baseKey="/Qgis/connections-wms/", QString
>> connName=QString.null, Qt.WindowFlags fl=QgisGui.ModalDialogFlags)
>> python/qsci_apis/PyQGIS-2.2.api:qgis.gui.QgsNewHttpConnection?1(QWidget
>> parent=None, QString baseKey="/Qgis/connections-wms/", QString
>> connName=QString.null, Qt.WindowFlags fl=QgisGui.ModalDialogFlags)
>> python/qsci_apis/PyQGIS-2.2.api:qgis.gui.QgsNewHttpConnectio
>> n.__init__?1(self,
>> QWidget parent=None, QString baseKey="/Qgis/connections-wms/", QString
>> connName=QString.null, Qt.WindowFlags fl=QgisGui.ModalDialogFlags)
>> python/gui/qgsnewhttpconnection.sip:    QgsNewHttpConnection( QWidget
>> *parent /TransferThis/ = 0, const QString &baseKey =
>> "/Qgis/connections-wms/", const QString &connName = QString::null, const
>> Qt::WindowFlags &fl = QgsGuiUtils::ModalDialogFlags );
>> python/plugins/MetaSearch/dialogs/maindialog.py:        # stype = human
>> name,/Qgis/connections-%s,providername
>> python/plugins/MetaSearch/dialogs/maindialog.py:
>> self.settings.beginGroup('/Qgis/connections-%s' % stype[2])
>> python/plugins/MetaSearch/dialogs/maindialog.py:
>> self.settings.beginGroup('/Qgis/connections-%s' % stype[1])
>> python/plugins/MetaSearch/dialogs/maindialog.py:
>> self.settings.beginGroup('/Qgis/connections-%s' % stype[2])
>> python/plugins/MetaSearch/dialogs/maindialog.py:
>> self.settings.beginGroup('/Qgis/connections-%s' % stype[1])
>>
>> But I understand now that yours is just about settings object/file, NOT
>> so much about the code that creates that settings?
>>
>> Richard
>>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171028/51f1f50b/attachment-0001.html>

From madmanwoo at gmail.com  Sat Oct 28 16:27:10 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Sat, 28 Oct 2017 23:27:10 +0000
Subject: [QGIS-Developer] Speed up building time after git checkout
In-Reply-To: <59f4ba8c.76b8500a.d22c0.3c09@mx.google.com>
References: <59f4ba8c.76b8500a.d22c0.3c09@mx.google.com>
Message-ID: <CAAi8Yg_BTkLUW09tSbJumFd9eqyGy5cpTbPxzAeLyO7+cgSGUA@mail.gmail.com>

Using ccache? That normally cuts down build times.

On Sun., 29 Oct. 2017, 3:12 am , <delazj at gmail.com> wrote:

> Hi,
>
> I wrote almost the same message few days ago and forgot to send it. I'm
> really interested in the answer of this, fed up with waiting so long
> anytime i checkout a new branch, regardless the diff.
> I didn't know the ˋninja qgisˋ command (used to ˋninja -j8ˋ as stated in
> the install doc). Will give it a try.
> Thanks to anyone who would help us... Le 28 oct. 2017 5:12 PM,
> Pierre_Loicq <pierre.loicq at univ-tours.fr> a écrit :
> >
> > Hello,
> >
> > Does anyone know how to speed up my building time after a checkout ? It
> > takes me 30 sec when I change just a file, with "ninja qgis"
> > (https://nathanw.net/2016/05/26/speeding-up-qgis-build-times-with-ninja/
> )
> > but when I checkout it takes like more than 1 hour, with my 2 cores  at
> > 100%.
> >
> > Thank you
> > Pierre
> >
> > --
> > Sent from:
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171028/107be793/attachment.html>

From a.neumann at carto.net  Sun Oct 29 04:31:37 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Sun, 29 Oct 2017 12:31:37 +0100
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
 QGIS 3.0
In-Reply-To: <20171027212552.m6462cjbvnwfmorv@norbit.de>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
Message-ID: <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>

Hi Jürgen,

You are right. The rules are clear and we should not add exceptions all 
the time. The dates are clearly communicated to everyone.

I agree with Tim that it makes sense to discuss how we can improve the 
situation with the PR queue - to get more PRs reviewed that were 
submitted by non-core committers.

Andreas


On 27.10.2017 23:25, Jürgen E. Fischer wrote:
> Hi Andreas,
>
> On Fri, 27. Oct 2017 at 17:58:05 +0200, Andreas Neumann wrote:
>> As to reviewing the PR queue: no idea how much effort would mean, but it
>> would have to be done quickly (e.g. within the next week). Jürgen has to
>> comment on that. We can spend some money on getting the PRs reviewed, but I
>> would need an estimate (e.g. x days).
> Not sure how.  The rule is clear - feature freeze means no new features.  So
> all features have to be in (committed to master) prior to the freeze.  There is
> no rule for exceptions - or one that makes it my buck.  I just fix the dates
> after we discussed them, make the release (and package it).
>
> Core committers can commit anything they see fit prior to the freeze (they got
> that privilege because we trust them).  It's not required to run commits it
> through PRs first or have PRs reviewed and/or merged by and other core
> committer.  If they still use a PR and get noone interested to review and
> merge, they can still merge it themselves (no news is good news).
>
> If other contributors want PRs merged, they have to find a core committer to
> merge it for them (rub them the right way, advertize it and get users to cheer,
> hire them, whatever helps).  We're not obligated to merge anything - or pay
> someone to review them.  But if it's a feature PR, it shall not be merged in
> freeze.  When the PR was filed doesn't matter.
>
> I didn't arbitrarily set the freeze date - actually originally 3.0 should be
> released when ready and not on a fixed schedule.  The date was requested and
> suggested by the key people doing the work - and even already moved once as
> their estimation was apparently too optimistic.
>
> The point of the freeze is to give us time to stabilize and fix bugs before the
> release.  We also discussed how much time is needed for that.  Merging PRs
> after the freeze would also require to discuss it's impact on the release date.
>
>
> Jürgen
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171029/d2882a4a/attachment.html>

From matthias at opengis.ch  Sun Oct 29 11:57:16 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Sun, 29 Oct 2017 19:57:16 +0100
Subject: [QGIS-Developer] PSA: Travis build times down to 15-20 minutes again
Message-ID: <81967440-7581-3388-73a2-949517fe1f90@opengis.ch>

Today they said announced rain, so I stayed at home and had a chat with
Mr Travis, while we agreed that he is taking too long recently, it
wasn't quite clear from the beginning what exactly we need to discuss.
But in the end I found, that he just needed some more space to put his
files. So after increasing the available size for ccache from 500MB to
1GB he was happy and promised to try his best to continue this way.

In the end it didn't rain. But since I had some time left I still went
to climb a bit.


From tim at kartoza.com  Sun Oct 29 13:25:30 2017
From: tim at kartoza.com (Tim Sutton)
Date: Sun, 29 Oct 2017 22:25:30 +0200
Subject: [QGIS-Developer] PSA: Travis build times down to 15-20 minutes
 again
In-Reply-To: <81967440-7581-3388-73a2-949517fe1f90@opengis.ch>
References: <81967440-7581-3388-73a2-949517fe1f90@opengis.ch>
Message-ID: <7AA302EC-2AF9-4FAE-914F-49595E7E1217@kartoza.com>

Thank goodness for quasi-rainy days! Thanks Matthias!

Regards

Tim

> On 29 Oct 2017, at 20:57, Matthias Kuhn <matthias at opengis.ch> wrote:
> 
> Today they said announced rain, so I stayed at home and had a chat with
> Mr Travis, while we agreed that he is taking too long recently, it
> wasn't quite clear from the beginning what exactly we need to discuss.
> But in the end I found, that he just needed some more space to put his
> files. So after increasing the available size for ccache from 500MB to
> 1GB he was happy and promised to try his best to continue this way.
> 
> In the end it didn't rain. But since I had some time left I still went
> to climb a bit.
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171029/475ee94e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171029/475ee94e/attachment-0001.jpg>

From tim at kartoza.com  Sun Oct 29 15:08:00 2017
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 30 Oct 2017 00:08:00 +0200
Subject: [QGIS-Developer] QGIS Meeting #20  : 20-25 February 2018, Madeira
Message-ID: <F0E71A54-822C-4D0F-B96C-E17DBDCE9421@qgis.org>

Hi All

We have a confirmed venue for the next QGIS get together - it is in Madeira from the 20-25 February 2018. If you plan on attending please head over to the wiki page and register your intention to be there:

https://github.com/qgis/QGIS/wiki/DeveloperMeetingMadeira2018

Please also note that this time we are going to try to be a little more organised for helping newcomers, so I have added sections to the wiki page for ‘Mentor streams’ - I have nominally added 4 streams but if you would like to host more please add a new section to the wiki page. If you are interested in attending one of the streams, please add your name to the appropriate section.

Lene will no doubt provide you with more details (via the wiki)  as we get closer to the event as will Duarte and Sara (our local organisers in Madeira).

Another important thing to note is that the cost of attending will be higher than usual given the more removed location and that we do not have very cheap accommodation available. If you intend on requesting travel assistance for the event, please fill out our new form <https://goo.gl/forms/YKm5fo7ll5GfQEJI3> as soon as possible. Also be aware that funds are limited so we may not be able to cover everyone’s costs or all costs completely - applications will be taken on merit with priority given to active contributors to the QGIS project.

Looking forward to seeing you all in Madeira!

Regards



 



---

Tim Sutton
QGIS Project Steering Committee Chair
tim at qgis.org




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/d2394bdb/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis-icon-60x60.png
Type: image/png
Size: 4401 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/d2394bdb/attachment.png>

From tim at kartoza.com  Sun Oct 29 15:20:26 2017
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 30 Oct 2017 00:20:26 +0200
Subject: [QGIS-Developer] Feature freeze vs the growing PR queue...
In-Reply-To: <CAB4g1=z4RBCxtzO8FR_-Kc-ncW-ooFaerBhi3_4qL9seK0knNA@mail.gmail.com>
References: <CAB28AsiJRMBNgt1s+FXdKODCvPPR+4SYPXwcnVs-F5+Qd2vVQg@mail.gmail.com>
 <9a3cc541-3b0c-5189-e294-264e6ecbaba6@duif.net>
 <CAB4g1=z4RBCxtzO8FR_-Kc-ncW-ooFaerBhi3_4qL9seK0knNA@mail.gmail.com>
Message-ID: <3761EAE5-541D-4F80-B64A-F560542DC7C9@kartoza.com>

Hi 

Sorry I missed this thread before and posted a similar one - please see : 

https://lists.osgeo.org/pipermail/qgis-developer/2017-October/050248.html

For further discussion on this.

Regards

Tim

> On 24 Oct 2017, at 08:56, G. Allegri <giohappy at gmail.com> wrote:
> 
> My two cents, I also agree with option 2. PRs affecting the API brekage should be included. 
> I guess the first round of QGIS3 won't be without issues. I tell my customers to wait at lear some minor release before moving to it! :)
> 
> giovanni
> 
> Il 24 ott 2017 8:36 AM, "Richard Duivenvoorde" <rdmailings at duif.net <mailto:rdmailings at duif.net>> ha scritto:
> On 24-10-17 00:33, Nyall Dawson wrote:
> > Hi all,
> >
> > Just wanted to raise discussion about what we should do regarding the
> > 100+ open PRs currently sitting in the request queue, especially with
> > regards to the looming freeze.
> >
> > I can see two options:
> >
> > 1. freeze = freeze, no exceptions. But then we run the risk of people
> > merging PRs and commits prematurely without full peer review just to
> > get them in for 3.0 (it becomes a rush of "quick merge in whatever
> > state because it's a cool feature!!). Or alternatively we may miss
> > open PRs which are important (crucial?) to have in place for 3.0 (e.g.
> > processing SAGA/GRASS providers, Nathan's settings migrations, etc).
> >
> > 2. Allow open PRs to be merged after freeze on a case-by-case basis,
> > up to a suitable cut-off date (when?).
> 
> Yep, my preference would be *2* too,
> in combination with further cleanup.
> 
> But I also think we need to start working on stability. I try to use
> both version in daily testing/work, and QGIS3 is at this moment more
> crashing to end a session, then being stopped by me :-(
> So I think we really need to work/test before being able to release a
> stable version....
> 
> Regards,
> 
> Richard Duivenvoorde
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/ffe8c880/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/ffe8c880/attachment-0001.jpg>

From giovanni.manghi at gmail.com  Sun Oct 29 16:13:57 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Sun, 29 Oct 2017 23:13:57 +0000
Subject: [QGIS-Developer] QGIS Meeting #20 : 20-25 February 2018, Madeira
Message-ID: <CACfnYnRoZ+ievbgp9oFMNXCqgTtX00F4caZp6Y=3T4ymSBCoDQ@mail.gmail.com>

Hi Tim!

> We have a confirmed venue for the next QGIS get together - it is in Madeira from the 20-25 February 2018. If you plan on attending please head over to the wiki page and register your intention to be there:
>
> https://github.com/qgis/QGIS/wiki/DeveloperMeetingMadeira2018

dates would be 21 to 25 Feb (Wed to Sun). Before (Mon and Tue) we are
planning do some QGIS workshop for local interested people on the
island.

Cheers!

From nyall.dawson at gmail.com  Sun Oct 29 17:45:28 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 30 Oct 2017 10:45:28 +1000
Subject: [QGIS-Developer] PSA: Travis build times down to 15-20 minutes
	again
In-Reply-To: <81967440-7581-3388-73a2-949517fe1f90@opengis.ch>
References: <81967440-7581-3388-73a2-949517fe1f90@opengis.ch>
Message-ID: <CAB28AsgsPXDDebzawY2j572fNnV1qMpVnDYfvPw=5QnN7Tx5Dg@mail.gmail.com>

On 30 October 2017 at 04:57, Matthias Kuhn <matthias at opengis.ch> wrote:
> Today they said announced rain, so I stayed at home and had a chat with
> Mr Travis, while we agreed that he is taking too long recently, it
> wasn't quite clear from the beginning what exactly we need to discuss.
> But in the end I found, that he just needed some more space to put his
> files. So after increasing the available size for ccache from 500MB to
> 1GB he was happy and promised to try his best to continue this way.

Thank you for these valuable insights into the inner workings of a
QGIS developer...

...but more importantly, thanks for the fix! It had certainly become
painful waiting 90 minutes for a result!

Nyall

From denis.rouzaud at gmail.com  Sun Oct 29 22:40:38 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Mon, 30 Oct 2017 05:40:38 +0000
Subject: [QGIS-Developer] PSA: Travis build times down to 15-20 minutes
	again
In-Reply-To: <CAB28AsgsPXDDebzawY2j572fNnV1qMpVnDYfvPw=5QnN7Tx5Dg@mail.gmail.com>
References: <81967440-7581-3388-73a2-949517fe1f90@opengis.ch>
 <CAB28AsgsPXDDebzawY2j572fNnV1qMpVnDYfvPw=5QnN7Tx5Dg@mail.gmail.com>
Message-ID: <CAMtsY+Zg+DtWrxBUN3NuiaEUU9S_TWbdsTSXBH707=_xSV+ttg@mail.gmail.com>

Awesome Matthias.
As we say in French, it's the cherry on top of the cake!

Le lun. 30 oct. 2017 à 01:45, Nyall Dawson <nyall.dawson at gmail.com> a
écrit :

> On 30 October 2017 at 04:57, Matthias Kuhn <matthias at opengis.ch> wrote:
> > Today they said announced rain, so I stayed at home and had a chat with
> > Mr Travis, while we agreed that he is taking too long recently, it
> > wasn't quite clear from the beginning what exactly we need to discuss.
> > But in the end I found, that he just needed some more space to put his
> > files. So after increasing the available size for ccache from 500MB to
> > 1GB he was happy and promised to try his best to continue this way.
>
> Thank you for these valuable insights into the inner workings of a
> QGIS developer...
>
> ...but more importantly, thanks for the fix! It had certainly become
> painful waiting 90 minutes for a result!
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/2e376013/attachment.html>

From tim at kartoza.com  Sun Oct 29 23:04:31 2017
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 30 Oct 2017 08:04:31 +0200
Subject: [QGIS-Developer] QGIS Meeting #20 : 20-25 February 2018, Madeira
In-Reply-To: <CACfnYnRoZ+ievbgp9oFMNXCqgTtX00F4caZp6Y=3T4ymSBCoDQ@mail.gmail.com>
References: <CACfnYnRoZ+ievbgp9oFMNXCqgTtX00F4caZp6Y=3T4ymSBCoDQ@mail.gmail.com>
Message-ID: <7DDE789A-63D5-4ECB-82D0-5C6199D49B12@kartoza.com>

Hi

> On 30 Oct 2017, at 01:13, Giovanni Manghi <giovanni.manghi at gmail.com> wrote:
> 
> Hi Tim!
> 
>> We have a confirmed venue for the next QGIS get together - it is in Madeira from the 20-25 February 2018. If you plan on attending please head over to the wiki page and register your intention to be there:
>> 
>> https://github.com/qgis/QGIS/wiki/DeveloperMeetingMadeira2018
> 
> dates would be 21 to 25 Feb (Wed to Sun). Before (Mon and Tue) we are
> planning do some QGIS workshop for local interested people on the
> island.


Ok thanks - there was an email from Duarte mentioning the 20th, but for now I have updated to the 21st on the wiki page. Are the workshops going to be open to anyone? If so can you update the wiki page to include the relevant dates for the workshop part and the process to register?

Regards

Tim

> 
> Cheers!
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—






Tim Sutton

Co-founder: Kartoza
Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

Kartoza is a merger between Linfiniti and Afrispatial

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/39bb89c4/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/39bb89c4/attachment-0001.jpg>

From peter.petrik at lutraconsulting.co.uk  Mon Oct 30 00:20:53 2017
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Mon, 30 Oct 2017 08:20:53 +0100
Subject: [QGIS-Developer] QGIS Meeting #20 : 20-25 February 2018, Madeira
In-Reply-To: <7DDE789A-63D5-4ECB-82D0-5C6199D49B12@kartoza.com>
References: <CACfnYnRoZ+ievbgp9oFMNXCqgTtX00F4caZp6Y=3T4ymSBCoDQ@mail.gmail.com>
 <7DDE789A-63D5-4ECB-82D0-5C6199D49B12@kartoza.com>
Message-ID: <CA+T_Ms+ZpyGGoFpTS6fXGebYOcXqQtLbvKVfgnMs5=ZmMp7Npw@mail.gmail.com>

Hi,

I am confused with the dates. In the mail, we have 21 to 25 Feb, but
https://github.com/qgis/QGIS/wiki/DeveloperMeetingMadeira2018 states  21 to
25 of March, 2018...

Regards,
Peter

On Mon, Oct 30, 2017 at 7:04 AM, Tim Sutton <tim at kartoza.com> wrote:

> Hi
>
> On 30 Oct 2017, at 01:13, Giovanni Manghi <giovanni.manghi at gmail.com>
> wrote:
>
> Hi Tim!
>
> We have a confirmed venue for the next QGIS get together - it is in
> Madeira from the 20-25 February 2018. If you plan on attending please head
> over to the wiki page and register your intention to be there:
>
> https://github.com/qgis/QGIS/wiki/DeveloperMeetingMadeira2018
>
>
> dates would be 21 to 25 Feb (Wed to Sun). Before (Mon and Tue) we are
> planning do some QGIS workshop for local interested people on the
> island.
>
>
>
> Ok thanks - there was an email from Duarte mentioning the 20th, but for
> now I have updated to the 21st on the wiki page. Are the workshops going to
> be open to anyone? If so can you update the wiki page to include the
> relevant dates for the workshop part and the process to register?
>
> Regards
>
> Tim
>
>
> Cheers!
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> —
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
> Kartoza is a merger between Linfiniti and Afrispatial
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/178abc05/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/178abc05/attachment.jpg>

From a.neumann at carto.net  Mon Oct 30 00:23:40 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 30 Oct 2017 08:23:40 +0100
Subject: [QGIS-Developer] QGIS Meeting #20 : 20-25 February 2018, Madeira
In-Reply-To: <CA+T_Ms+ZpyGGoFpTS6fXGebYOcXqQtLbvKVfgnMs5=ZmMp7Npw@mail.gmail.com>
References: <CACfnYnRoZ+ievbgp9oFMNXCqgTtX00F4caZp6Y=3T4ymSBCoDQ@mail.gmail.com>
 <7DDE789A-63D5-4ECB-82D0-5C6199D49B12@kartoza.com>
 <CA+T_Ms+ZpyGGoFpTS6fXGebYOcXqQtLbvKVfgnMs5=ZmMp7Npw@mail.gmail.com>
Message-ID: <36556b27cab80c6ea108627e67fec67d@carto.net>

Hi Peter, 

The correct dates are: Wed, 21 to Sun 25th of February. 

I just corrected the Wiki. 

Andreas 

On 2017-10-30 08:20, Peter Petrik wrote:

> Hi, 
> 
> I am confused with the dates. In the mail, we have 21 to 25 Feb, but https://github.com/qgis/QGIS/wiki/DeveloperMeetingMadeira2018 states  21 to 25 of March, 2018... 
> 
> Regards, 
> Peter 
> 
> On Mon, Oct 30, 2017 at 7:04 AM, Tim Sutton <tim at kartoza.com> wrote:
> 
> Hi
> 
> On 30 Oct 2017, at 01:13, Giovanni Manghi <giovanni.manghi at gmail.com> wrote: 
> 
> Hi Tim!
> 
> We have a confirmed venue for the next QGIS get together - it is in Madeira from the 20-25 February 2018. If you plan on attending please head over to the wiki page and register your intention to be there:
> 
> https://github.com/qgis/QGIS/wiki/DeveloperMeetingMadeira2018 [1] 
> dates would be 21 to 25 Feb (Wed to Sun). Before (Mon and Tue) we are
> planning do some QGIS workshop for local interested people on the
> island.

Ok thanks - there was an email from Duarte mentioning the 20th, but for
now I have updated to the 21st on the wiki page. Are the workshops going
to be open to anyone? If so can you update the wiki page to include the
relevant dates for the workshop part and the process to register? 

Regards 

Tim 

> Cheers!
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]

-- 

TIM SUTTON 

CO-FOUNDER: Kartoza 
PROJECT CHAIR: QGIS.org [3] 

Visit http://kartoza.com [4] to find out about open source: 

Desktop GIS programming services 
Geospatial web development 
GIS Training 
Consulting Services 

SKYPE: timlinux  
IRC: timlinux on #qgis at freenode.net [5] 

Kartoza is a merger between Linfiniti and Afrispatial 
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 

 

Links:
------
[1] https://github.com/qgis/QGIS/wiki/DeveloperMeetingMadeira2018
[2] https://lists.osgeo.org/mailman/listinfo/qgis-developer
[3] http://QGIS.org
[4] http://kartoza.com/
[5] http://freenode.net
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/76462f49/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/76462f49/attachment-0001.jpg>

From frippe12573 at hotmail.com  Mon Oct 30 03:04:55 2017
From: frippe12573 at hotmail.com (Eugenio Trumpy)
Date: Mon, 30 Oct 2017 10:04:55 +0000
Subject: [QGIS-Developer] Crash launching Qgis 2.99.0
Message-ID: <AM5P190MB04201B8501B6776623A49DD6E5590@AM5P190MB0420.EURP190.PROD.OUTLOOK.COM>

Hi all,


I have just compiled QGIS master in my Ubuntu 17.10.

Once I run qgis I have a core dump:


https://paste.ubuntu.com/25850822/


any hints on this regards?


Eugenio
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/2c2be925/attachment.html>

From matthias at opengis.ch  Mon Oct 30 03:06:46 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 30 Oct 2017 11:06:46 +0100
Subject: [QGIS-Developer] Crash launching Qgis 2.99.0
In-Reply-To: <AM5P190MB04201B8501B6776623A49DD6E5590@AM5P190MB0420.EURP190.PROD.OUTLOOK.COM>
References: <AM5P190MB04201B8501B6776623A49DD6E5590@AM5P190MB0420.EURP190.PROD.OUTLOOK.COM>
Message-ID: <85909d9b-02da-c608-191d-7435d2fcb044@opengis.ch>

Hi,

Looks like an issue with some python code.
Try starting without any plugins.

Matthias

On 10/30/2017 11:04 AM, Eugenio Trumpy wrote:
> Hi all,
> 
> 
> I have just compiled QGIS master in my Ubuntu 17.10.
> 
> Once I run qgis I have a core dump:
> 
> 
> https://paste.ubuntu.com/25850822/
> 
> 
> any hints on this regards?
> 
> 
> Eugenio
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From regis.haubourg at gmail.com  Mon Oct 30 03:29:35 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 30 Oct 2017 11:29:35 +0100
Subject: [QGIS-Developer] Speed up building time after git checkout
In-Reply-To: <CAAi8Yg_BTkLUW09tSbJumFd9eqyGy5cpTbPxzAeLyO7+cgSGUA@mail.gmail.com>
References: <59f4ba8c.76b8500a.d22c0.3c09@mx.google.com>
 <CAAi8Yg_BTkLUW09tSbJumFd9eqyGy5cpTbPxzAeLyO7+cgSGUA@mail.gmail.com>
Message-ID: <CABgOYCc8YaTuWASwhU2xWA9CBRxDadBJR_SJKHF=ajubzzQxCg@mail.gmail.com>

Huh thanks Nathan,
I realize that ccache was not installed even if I had created the symlinks
described in the INSTALL guide. I pushed a PR
https://github.com/qgis/QGIS/pull/5496

Cheers,
Régis

2017-10-29 1:27 GMT+02:00 Nathan Woodrow <madmanwoo at gmail.com>:

> Using ccache? That normally cuts down build times.
>
> On Sun., 29 Oct. 2017, 3:12 am , <delazj at gmail.com> wrote:
>
>> Hi,
>>
>> I wrote almost the same message few days ago and forgot to send it. I'm
>> really interested in the answer of this, fed up with waiting so long
>> anytime i checkout a new branch, regardless the diff.
>> I didn't know the ˋninja qgisˋ command (used to ˋninja -j8ˋ as stated in
>> the install doc). Will give it a try.
>> Thanks to anyone who would help us... Le 28 oct. 2017 5:12 PM,
>> Pierre_Loicq <pierre.loicq at univ-tours.fr> a écrit :
>> >
>> > Hello,
>> >
>> > Does anyone know how to speed up my building time after a checkout ? It
>> > takes me 30 sec when I change just a file, with "ninja qgis"
>> > (https://nathanw.net/2016/05/26/speeding-up-qgis-build-
>> times-with-ninja/)
>> > but when I checkout it takes like more than 1 hour, with my 2 cores  at
>> > 100%.
>> >
>> > Thank you
>> > Pierre
>> >
>> > --
>> > Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
>> f4099106.html
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/aa62790f/attachment.html>

From a.neumann at carto.net  Mon Oct 30 03:47:41 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 30 Oct 2017 11:47:41 +0100
Subject: [QGIS-Developer] Can't build with GRASS currently
Message-ID: <37c1bb12-4e0a-ac6c-ce66-6a1e1046d09d@carto.net>

Hi,

I currently have to disable GRASS in order to build QGIS master.

Seems like the very recent API changes from Matthias triggered the issue:

----------------------

../src/providers/grass/qgis.v.in.cpp: In function ‘int main(int, char**)’:
../src/providers/grass/qgis.v.in.cpp:282:9: error: ‘QgsPolygonXYpolygon’ 
was not declared in this scope
          QgsPolygonXYpolygon = geometry.asPolygon();
          ^~~~~~~~~~~~~~~~~~~
../src/providers/grass/qgis.v.in.cpp:282:9: note: suggested alternative: 
‘QgsPolygonXY’
          QgsPolygonXYpolygon = geometry.asPolygon();
          ^~~~~~~~~~~~~~~~~~~
          QgsPolygonXY
In file included from 
/usr/include/x86_64-linux-gnu/qt5/QtCore/qatomic.h:41:0,
                  from 
/usr/include/x86_64-linux-gnu/qt5/QtCore/qrefcount.h:43,
                  from 
/usr/include/x86_64-linux-gnu/qt5/QtCore/qbytearray.h:44,
                  from 
/usr/include/x86_64-linux-gnu/qt5/QtCore/QByteArray:1,
                  from ../src/providers/grass/qgis.v.in.cpp:33:
../src/providers/grass/qgis.v.in.cpp:283:52: error: ‘polygon’ was not 
declared in this scope
          Q_FOREACH ( const QgsPolylineXY &polyline, polygon )
                                                     ^
../src/providers/grass/qgis.v.in.cpp:283:52: note: suggested 
alternative: ‘QPolygon’
[2830/4390] Generating core/sip_corepart0.cpp, core/sip_corepart1.cpp, 
core/sip_corepart2.cpp, core/sip_corepart3.cpp

[2831/4390] Generating gui/sip_guipart0.cpp, gui/sip_guipart1.cpp, 
gui/sip_guipart2.cpp, gui/sip_guipart3.cpp

ninja: build stopped: subcommand failed.

--------------------------------

Greetings,

Andreas


From matthias at opengis.ch  Mon Oct 30 03:50:00 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 30 Oct 2017 11:50:00 +0100
Subject: [QGIS-Developer] Can't build with GRASS currently
In-Reply-To: <37c1bb12-4e0a-ac6c-ce66-6a1e1046d09d@carto.net>
References: <37c1bb12-4e0a-ac6c-ce66-6a1e1046d09d@carto.net>
Message-ID: <665b8a1c-0d8c-1cb8-c7a5-f4875f6f6be4@opengis.ch>

Thanks Andreas

Should be fixed, sorry for the trouble

Matthias

On 10/30/2017 11:47 AM, Andreas Neumann wrote:
> Hi,
> 
> I currently have to disable GRASS in order to build QGIS master.
> 
> Seems like the very recent API changes from Matthias triggered the issue:
> 
> ----------------------
> 
> ../src/providers/grass/qgis.v.in.cpp: In function ‘int main(int, char**)’:
> ../src/providers/grass/qgis.v.in.cpp:282:9: error: ‘QgsPolygonXYpolygon’
> was not declared in this scope
>          QgsPolygonXYpolygon = geometry.asPolygon();
>          ^~~~~~~~~~~~~~~~~~~
> ../src/providers/grass/qgis.v.in.cpp:282:9: note: suggested alternative:
> ‘QgsPolygonXY’
>          QgsPolygonXYpolygon = geometry.asPolygon();
>          ^~~~~~~~~~~~~~~~~~~
>          QgsPolygonXY
> In file included from
> /usr/include/x86_64-linux-gnu/qt5/QtCore/qatomic.h:41:0,
>                  from
> /usr/include/x86_64-linux-gnu/qt5/QtCore/qrefcount.h:43,
>                  from
> /usr/include/x86_64-linux-gnu/qt5/QtCore/qbytearray.h:44,
>                  from
> /usr/include/x86_64-linux-gnu/qt5/QtCore/QByteArray:1,
>                  from ../src/providers/grass/qgis.v.in.cpp:33:
> ../src/providers/grass/qgis.v.in.cpp:283:52: error: ‘polygon’ was not
> declared in this scope
>          Q_FOREACH ( const QgsPolylineXY &polyline, polygon )
>                                                     ^
> ../src/providers/grass/qgis.v.in.cpp:283:52: note: suggested
> alternative: ‘QPolygon’
> [2830/4390] Generating core/sip_corepart0.cpp, core/sip_corepart1.cpp,
> core/sip_corepart2.cpp, core/sip_corepart3.cpp
> 
> [2831/4390] Generating gui/sip_guipart0.cpp, gui/sip_guipart1.cpp,
> gui/sip_guipart2.cpp, gui/sip_guipart3.cpp
> 
> ninja: build stopped: subcommand failed.
> 
> --------------------------------
> 
> Greetings,
> 
> Andreas
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From tom.chadwin at nnpa.org.uk  Mon Oct 30 04:10:25 2017
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Mon, 30 Oct 2017 04:10:25 -0700 (MST)
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
	QGIS 3.0
In-Reply-To: <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
Message-ID: <1509361825142-0.post@n6.nabble.com>

Hello all

This point has been raised in the other "PR queue/feature freeze thread",
but I wanted to make sure it's here in this one, too: I strongly favour
honouring the feature freeze and pushing further merges to 3.2. BUT, we do
need to evaluate whether an exception needs to be made for any API-breaking
changes. QGIS2 has lasted something close to five years, so we would hope
for a long wait for QGIS4.

I know everyone knows this - I just wanted to add it to this thread as well.

Thanks

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From theunsheydenrych at gmail.com  Mon Oct 30 04:26:56 2017
From: theunsheydenrych at gmail.com (Theuns Heydenrych)
Date: Mon, 30 Oct 2017 11:26:56 +0000
Subject: [QGIS-Developer] QGIS 3 API - QgsVertexMarker and QgsRubberBand
	Inconsistency
In-Reply-To: <CAB28AsgFo557M0kX6BZG-u+7m6cwROC2S5PdJC4u_1qNmd5HeA@mail.gmail.com>
References: <CABPxTTqqci4YXr36Qq-=vYm_Sq2Murse4o8Z=WAfzsKGHu7=ag@mail.gmail.com>
 <CAB28AsgFo557M0kX6BZG-u+7m6cwROC2S5PdJC4u_1qNmd5HeA@mail.gmail.com>
Message-ID: <CABWZyyq67b1BKnm1xM+bm8QzrCBA-9Tj6d2+coN=xkLjAMmvFg@mail.gmail.com>

Just a quick question.
Is QgsGeometry::asPolyline() and  QgsGeometry::asPoint() also going to
change to return QgsPoint?

Regards
Theuns Heydenrych

On Thu, 26 Oct 2017 at 00:06 Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On 26 October 2017 at 05:30, C Hamilton <adenaculture at gmail.com> wrote:
> > I just found that an API changed made a break with Lat Lon Tools which
> is
> > OK because I understand it is in flux.
> >
> > A while back a change was made to use QgsPointXY with QgsVertexMarker and
> > QgsRubberBand through QgsGeometry.fromPolyline(). In looking at the
> > documentation there is now a fromPolylineXY(), but from the API breaks
> > documentation it seems like the use of fromPolyline is preferred.
> >
>
> This is a perfectly valid use of fromPolylineXY - since the created
> geometry is only for display and presence of Z/M will have no effect.
>
> I think most of the purely-gui classes are now working with QgsPointXY
> (unless they've explicitly added overrides for QgsPoint objects). If
> you find a GUI/canvas class which *only* works with QgsPoint I'd say
> that's a bug and should be fixed in the API.
>
> Basically the rationale here is that we needed a really lightweight 2d
> point class (since QgsPoint is a QgsAbstractGeometry and comes with
> the associated overhead + complex api). Ideally we'd just use QPointF,
> but unfortunately QPointF uses qreal which is float on some platforms
> (and we need to be guaranteed a double for some use cases).
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/bb9e3506/attachment.html>

From lists at borysjurgiel.pl  Mon Oct 30 06:08:01 2017
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Mon, 30 Oct 2017 14:08:01 +0100
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <CAL5Q670V2kNCzd999ApRnAcR9QG=niecqb1cWnvYF2irJ5pvVg@mail.gmail.com>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <CAAi8Yg_UjHjQFx1_q7nfKO6kRO1Ufzp3=FmLYXNqLgDZFJ1ggA@mail.gmail.com>
 <CAL5Q670V2kNCzd999ApRnAcR9QG=niecqb1cWnvYF2irJ5pvVg@mail.gmail.com>
Message-ID: <2265263.hyrc3P0sfh@debian>

Hi,

I was updating and migrating plugin installer's settings when Alessandro 
suggested to create a new QgsSettings::Section::Windows enum value for all the 
window geometries, currently placed in the [Windows] section (capitalized) [1]

There are over 100 keys there, are we going to migrate them all from Windows 
to windows, like we did with Qgis -> qgis?

If so, I'll create the new enum value and port a few keys there, but I don't 
want to mess if other keys are going to stay in the capitalized [Windows].

Regards,
Borys

[1] https://github.com/qgis/QGIS/pull/5494#discussion_r147628437

From lists at borysjurgiel.pl  Mon Oct 30 06:15:02 2017
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Mon, 30 Oct 2017 14:15:02 +0100
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <2265263.hyrc3P0sfh@debian>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <CAL5Q670V2kNCzd999ApRnAcR9QG=niecqb1cWnvYF2irJ5pvVg@mail.gmail.com>
 <2265263.hyrc3P0sfh@debian>
Message-ID: <1566455.Ox9FHdH3C6@debian>

By the way, do we have a standard for the section naming? Now I don't mean the 
enumeration, just other top-level sections, like [PluginInstaller]. Should I 
drop the camel case?

Sorry for such detailed question, sometimes I'm too pedantic ;)

Regards,
Borys

Dnia poniedziałek, 30 października 2017 14:08:01 Borys Jurgiel pisze:
> Hi,
> 
> I was updating and migrating plugin installer's settings when Alessandro
> suggested to create a new QgsSettings::Section::Windows enum value for all
> the window geometries, currently placed in the [Windows] section
> (capitalized) [1]
> 
> There are over 100 keys there, are we going to migrate them all from Windows
> to windows, like we did with Qgis -> qgis?
> 
> If so, I'll create the new enum value and port a few keys there, but I don't
> want to mess if other keys are going to stay in the capitalized [Windows].
> 
> Regards,
> Borys
> 
> [1] https://github.com/qgis/QGIS/pull/5494#discussion_r147628437
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From apasotti at gmail.com  Mon Oct 30 06:57:52 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 30 Oct 2017 14:57:52 +0100
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <1566455.Ox9FHdH3C6@debian>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <CAL5Q670V2kNCzd999ApRnAcR9QG=niecqb1cWnvYF2irJ5pvVg@mail.gmail.com>
 <2265263.hyrc3P0sfh@debian> <1566455.Ox9FHdH3C6@debian>
Message-ID: <CAL5Q673QUMcRzgyhJcqg-jB9V854sZqvHB6vrRjdBzAtkHUkZg@mail.gmail.com>

On Mon, Oct 30, 2017 at 2:15 PM, Borys Jurgiel <lists at borysjurgiel.pl>
wrote:

> By the way, do we have a standard for the section naming? Now I don't mean
> the
> enumeration, just other top-level sections, like [PluginInstaller]. Should
> I
> drop the camel case?
>
> Sorry for such detailed question, sometimes I'm too pedantic ;)
>

On the contrary: thank you for  raising this point!

This is what I suggest (but no strong opinions so feel free to suggest a
better/alternative approach):

ideally the main Sections should be kept to minimum, that's why I added
just a few of them, we can always create all the sub-sections we want
instead of overcrowding the sections enum.

For anything related to application that is not purely Gui, I would just
use the "App" section.



> Regards,
> Borys
>
> Dnia poniedziałek, 30 października 2017 14:08:01 Borys Jurgiel pisze:
> > Hi,
> >
> > I was updating and migrating plugin installer's settings when Alessandro
> > suggested to create a new QgsSettings::Section::Windows enum value for
> all
> > the window geometries, currently placed in the [Windows] section
> > (capitalized) [1]
> >
> > There are over 100 keys there, are we going to migrate them all from
> Windows
> > to windows, like we did with Qgis -> qgis?
>


Here, I would follow the Qt recommendations about naming of the setting:
the bottom line is that you cannot rely on capitalization because of
differences in the platforms, even if by using the "ini" file like we are
doing now after Nathan's profile implementation will probably overcome this
issue (reason: The Windows registry and INI files use case-insensitive
keys).

So, I'd vote for sticking to an all-lowercase underscore-separated syntax
but as I said there is not anymore a technical reason for doing so.

see: http://doc.qt.io/qt-5/qsettings.html#section-and-key-syntax




> >
> > If so, I'll create the new enum value and port a few keys there, but I
> don't
> > want to mess if other keys are going to stay in the capitalized
> [Windows].
> >
> > Regards,
> > Borys
> >
> > [1] https://github.com/qgis/QGIS/pull/5494#discussion_r147628437
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/59ac294b/attachment.html>

From madmanwoo at gmail.com  Mon Oct 30 07:19:49 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Tue, 31 Oct 2017 00:19:49 +1000
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <2265263.hyrc3P0sfh@debian>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <CAAi8Yg_UjHjQFx1_q7nfKO6kRO1Ufzp3=FmLYXNqLgDZFJ1ggA@mail.gmail.com>
 <CAL5Q670V2kNCzd999ApRnAcR9QG=niecqb1cWnvYF2irJ5pvVg@mail.gmail.com>
 <2265263.hyrc3P0sfh@debian>
Message-ID: <CAAi8Yg-JgVJXOEjtZDAiNRVdQ3Zq2RwOA2FOPmcBVLDqUnGB=w@mail.gmail.com>

Hey,

> There are over 100 keys there, are we going to migrate them all from
Windows
to windows, like we did with Qgis -> qgis?

No I don't think we need to do anything for those subgroups, dropping the
Windows placement between version isn't a big deal.  The main core things
to migrate is stuff that is a pain to setup again.

- Natha

On Mon, Oct 30, 2017 at 11:08 PM, Borys Jurgiel <lists at borysjurgiel.pl>
wrote:

> Hi,
>
> I was updating and migrating plugin installer's settings when Alessandro
> suggested to create a new QgsSettings::Section::Windows enum value for all
> the
> window geometries, currently placed in the [Windows] section (capitalized)
> [1]
>
> There are over 100 keys there, are we going to migrate them all from
> Windows
> to windows, like we did with Qgis -> qgis?
>
> If so, I'll create the new enum value and port a few keys there, but I
> don't
> want to mess if other keys are going to stay in the capitalized [Windows].
>
> Regards,
> Borys
>
> [1] https://github.com/qgis/QGIS/pull/5494#discussion_r147628437
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/889c3e5e/attachment-0001.html>

From madmanwoo at gmail.com  Mon Oct 30 07:21:18 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Tue, 31 Oct 2017 00:21:18 +1000
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <CAL5Q673QUMcRzgyhJcqg-jB9V854sZqvHB6vrRjdBzAtkHUkZg@mail.gmail.com>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <CAL5Q670V2kNCzd999ApRnAcR9QG=niecqb1cWnvYF2irJ5pvVg@mail.gmail.com>
 <2265263.hyrc3P0sfh@debian> <1566455.Ox9FHdH3C6@debian>
 <CAL5Q673QUMcRzgyhJcqg-jB9V854sZqvHB6vrRjdBzAtkHUkZg@mail.gmail.com>
Message-ID: <CAAi8Yg-8iM=m-fXmL5FFWaHOdGUNCjs=cuk92AUgz27_htB1pw@mail.gmail.com>

> the bottom line is that you cannot rely on capitalization because of
differences in the platforms, even if by using the "ini" file like we are
doing now after Nathan's profile implementation will probably overcome this
issue (reason: The Windows registry and INI files use case-insensitive
keys).

All the platforms should now be case-insensitive I suspect given we are
using ini for everything.

On Mon, Oct 30, 2017 at 11:57 PM, Alessandro Pasotti <apasotti at gmail.com>
wrote:

> On Mon, Oct 30, 2017 at 2:15 PM, Borys Jurgiel <lists at borysjurgiel.pl>
> wrote:
>
>> By the way, do we have a standard for the section naming? Now I don't
>> mean the
>> enumeration, just other top-level sections, like [PluginInstaller].
>> Should I
>> drop the camel case?
>>
>> Sorry for such detailed question, sometimes I'm too pedantic ;)
>>
>
> On the contrary: thank you for  raising this point!
>
> This is what I suggest (but no strong opinions so feel free to suggest a
> better/alternative approach):
>
> ideally the main Sections should be kept to minimum, that's why I added
> just a few of them, we can always create all the sub-sections we want
> instead of overcrowding the sections enum.
>
> For anything related to application that is not purely Gui, I would just
> use the "App" section.
>
>
>
>> Regards,
>> Borys
>>
>> Dnia poniedziałek, 30 października 2017 14:08:01 Borys Jurgiel pisze:
>> > Hi,
>> >
>> > I was updating and migrating plugin installer's settings when Alessandro
>> > suggested to create a new QgsSettings::Section::Windows enum value for
>> all
>> > the window geometries, currently placed in the [Windows] section
>> > (capitalized) [1]
>> >
>> > There are over 100 keys there, are we going to migrate them all from
>> Windows
>> > to windows, like we did with Qgis -> qgis?
>>
>
>
> Here, I would follow the Qt recommendations about naming of the setting:
> the bottom line is that you cannot rely on capitalization because of
> differences in the platforms, even if by using the "ini" file like we are
> doing now after Nathan's profile implementation will probably overcome this
> issue (reason: The Windows registry and INI files use case-insensitive
> keys).
>
> So, I'd vote for sticking to an all-lowercase underscore-separated syntax
> but as I said there is not anymore a technical reason for doing so.
>
> see: http://doc.qt.io/qt-5/qsettings.html#section-and-key-syntax
>
>
>
>
>> >
>> > If so, I'll create the new enum value and port a few keys there, but I
>> don't
>> > want to mess if other keys are going to stay in the capitalized
>> [Windows].
>> >
>> > Regards,
>> > Borys
>> >
>> > [1] https://github.com/qgis/QGIS/pull/5494#discussion_r147628437
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/a18c64e9/attachment.html>

From lists at borysjurgiel.pl  Mon Oct 30 07:25:46 2017
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Mon, 30 Oct 2017 15:25:46 +0100
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <CAAi8Yg-JgVJXOEjtZDAiNRVdQ3Zq2RwOA2FOPmcBVLDqUnGB=w@mail.gmail.com>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <2265263.hyrc3P0sfh@debian>
 <CAAi8Yg-JgVJXOEjtZDAiNRVdQ3Zq2RwOA2FOPmcBVLDqUnGB=w@mail.gmail.com>
Message-ID: <1533146.oF6xj6KlLr@debian>

Dnia wtorek, 31 października 2017 00:19:49 Nathan Woodrow pisze:
> Hey,
> 
> > There are over 100 keys there, are we going to migrate them all from
> 
> Windows
> to windows, like we did with Qgis -> qgis?
> 
> No I don't think we need to do anything for those subgroups, dropping the
> Windows placement between version isn't a big deal.  The main core things
> to migrate is stuff that is a pain to setup again.

Sorry I was unclear. I didn't mean migrating the values, just changing the 
section for all these keys.

Regards,
Borys

From madmanwoo at gmail.com  Mon Oct 30 07:27:26 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Tue, 31 Oct 2017 00:27:26 +1000
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <1533146.oF6xj6KlLr@debian>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <2265263.hyrc3P0sfh@debian>
 <CAAi8Yg-JgVJXOEjtZDAiNRVdQ3Zq2RwOA2FOPmcBVLDqUnGB=w@mail.gmail.com>
 <1533146.oF6xj6KlLr@debian>
Message-ID: <CAAi8Yg_2Y_cug5w6+U0mCrLih4B7RG6RA8UQ-XBP7P09M1+njA@mail.gmail.com>

Ah right.  I'm happy with whatever there.

On Tue, Oct 31, 2017 at 12:25 AM, Borys Jurgiel <lists at borysjurgiel.pl>
wrote:

> Dnia wtorek, 31 października 2017 00:19:49 Nathan Woodrow pisze:
> > Hey,
> >
> > > There are over 100 keys there, are we going to migrate them all from
> >
> > Windows
> > to windows, like we did with Qgis -> qgis?
> >
> > No I don't think we need to do anything for those subgroups, dropping the
> > Windows placement between version isn't a big deal.  The main core things
> > to migrate is stuff that is a pain to setup again.
>
> Sorry I was unclear. I didn't mean migrating the values, just changing the
> section for all these keys.
>
> Regards,
> Borys
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/a8c3c0df/attachment.html>

From caboe at sdfe.dk  Mon Oct 30 08:05:32 2017
From: caboe at sdfe.dk (=?iso-8859-1?Q?Casper_B=F8rgesen?=)
Date: Mon, 30 Oct 2017 15:05:32 +0000
Subject: [QGIS-Developer] Where can I find the Z-values?
Message-ID: <800A1C4B99390947B3BAA86C02CBDB2615A0EFD6@S000014.PROD.SITAD.DK>

Hi devs.

I used to be able to sample the z-value of the nearest vertex when using "identify features" on a feature (identify results -> (Derived)).

Is this functionality gone?

Using the GetWKT plugin on the selected feature verifies that the selected feature indeed has z-values.

Regards, Casper
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/f7d158c0/attachment.html>

From frippe12573 at hotmail.com  Mon Oct 30 08:23:01 2017
From: frippe12573 at hotmail.com (Eugenio Trumpy)
Date: Mon, 30 Oct 2017 15:23:01 +0000
Subject: [QGIS-Developer] Crash launching Qgis 2.99.0
In-Reply-To: <mailman.13557.1509361827.21183.qgis-developer@lists.osgeo.org>
References: <mailman.13557.1509361827.21183.qgis-developer@lists.osgeo.org>
Message-ID: <AM5P190MB0420FBF3D8133A8987CEAEB1E5590@AM5P190MB0420.EURP190.PROD.OUTLOOK.COM>

>Looks like an issue with some python code.

>Try starting without any plugins.
>
>Matthias

Hi Matthias,

I tried to launch qgis with --noplugins but I had:

https://paste.ubuntu.com/25852320/

which points more or less the same issues of before.

Other hints?

E.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/19f21d16/attachment-0001.html>

From saber.razmjooei at lutraconsulting.co.uk  Mon Oct 30 10:24:41 2017
From: saber.razmjooei at lutraconsulting.co.uk (Saber Razmjooei)
Date: Mon, 30 Oct 2017 17:24:41 +0000
Subject: [QGIS-Developer] Where can I find the Z-values?
In-Reply-To: <800A1C4B99390947B3BAA86C02CBDB2615A0EFD6@S000014.PROD.SITAD.DK>
References: <800A1C4B99390947B3BAA86C02CBDB2615A0EFD6@S000014.PROD.SITAD.DK>
Message-ID: <CAH=WbRAQQLsCoq9W8mzgWCX6uWmmAOsJLvV=z+x7EEDn9eOwog@mail.gmail.com>

You should be able to view the z and m values when in Node Tool.

Cheers
Saber

On 30 Oct 2017 3:14 pm, "Casper Børgesen" <caboe at sdfe.dk> wrote:

> Hi devs.
>
>
>
> I used to be able to sample the z-value of the nearest vertex when using
> “identify features” on a feature (identify results -> (Derived)).
>
>
>
> Is this functionality gone?
>
>
>
> Using the GetWKT plugin on the selected feature verifies that the selected
> feature indeed has z-values.
>
>
>
> Regards, Casper
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171030/653590e6/attachment.html>

From nihcas.c76 at gmail.com  Mon Oct 30 20:09:43 2017
From: nihcas.c76 at gmail.com (nihcas)
Date: Mon, 30 Oct 2017 20:09:43 -0700 (MST)
Subject: [QGIS-Developer] Increase the size of validateCoordinates box
In-Reply-To: <1505312054473-0.post@n6.nabble.com>
References: <1505302827573-0.post@n6.nabble.com>
 <1505312054473-0.post@n6.nabble.com>
Message-ID: <1509419383851-0.post@n6.nabble.com>

thanks tom. sorry for late reply.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From nihcas.c76 at gmail.com  Mon Oct 30 20:13:45 2017
From: nihcas.c76 at gmail.com (nihcas)
Date: Mon, 30 Oct 2017 20:13:45 -0700 (MST)
Subject: [QGIS-Developer] building project zzz-db_manager-15-depend.vcxproj
	- FAILED
Message-ID: <1509419625107-0.post@n6.nabble.com>

Hi,
I am try to build qgis master in windows 10 with visual studio 2017 with
RelwithDebInfo and getting error while building zzz-db_manager-15-depend.

3>------ Build started: Project: zzz-db_manager-15-depend, Configuration:
RelWithDebInfo x64 ------
3>Building Custom Rule
D:/qgis-master-source/python/plugins/db_manager/CMakeLists.txt
3>CMake does not need to re-run because
D:/Qgis-master-build/try1/python/plugins/db_manager/CMakeFiles/generate.stamp
is up-to-date.
3>Generating ui_DlgAddGeometryColumn.py
3>Traceback (most recent call last):
3>  File "D:\qgis-master-source\scripts\\pyuic-wrapper.py", line 26, in
<module>
3>    import qgis.PyQt.uic.pyuic
3>  File "D:\Qgis-master-build\try1\output\python\qgis\__init__.py", line
72, in <module>
3>    from qgis.core import QgsFeature, QgsGeometry
3>  File "D:\Qgis-master-build\try1\output\python\qgis\core\__init__.py",
line 34, in <module>
3>    from qgis._core import *
3>ImportError: DLL load failed: The specified module could not be found.
3>C:\Program Files (x86)\Microsoft Visual
Studio\2017\Community\Common7\IDE\VC\VCTargets\Microsoft.CppCommon.targets(171,5):
error MSB6006: "cmd.exe" exited with code 1.
3>Done building project "zzz-db_manager-15-depend.vcxproj" -- FAILED.
========== Build: 2 succeeded, 1 failed, 10 up-to-date, 0 skipped ==========


Can any one help out this.

Regards



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From caboe at sdfe.dk  Tue Oct 31 01:50:24 2017
From: caboe at sdfe.dk (=?utf-8?B?Q2FzcGVyIELDuHJnZXNlbg==?=)
Date: Tue, 31 Oct 2017 08:50:24 +0000
Subject: [QGIS-Developer] Where can I find the Z-values?
In-Reply-To: <CAH=WbRAQQLsCoq9W8mzgWCX6uWmmAOsJLvV=z+x7EEDn9eOwog@mail.gmail.com>
References: <800A1C4B99390947B3BAA86C02CBDB2615A0EFD6@S000014.PROD.SITAD.DK>
 <CAH=WbRAQQLsCoq9W8mzgWCX6uWmmAOsJLvV=z+x7EEDn9eOwog@mail.gmail.com>
Message-ID: <800A1C4B99390947B3BAA86C02CBDB2615A1220B@S000014.PROD.SITAD.DK>

Yes, but that only applies to layers that I can actually edit. If the layer doesn’t have edit capabilities, then I would think the node tool would be unavailable?

Regards, Casper

From: Saber Razmjooei [mailto:saber.razmjooei at lutraconsulting.co.uk]
Sent: 30. oktober 2017 18:25
To: Casper Børgesen <caboe at sdfe.dk>
Cc: qgis-developer <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] Where can I find the Z-values?

You should be able to view the z and m values when in Node Tool.

Cheers
Saber

On 30 Oct 2017 3:14 pm, "Casper Børgesen" <caboe at sdfe.dk<mailto:caboe at sdfe.dk>> wrote:
Hi devs.

I used to be able to sample the z-value of the nearest vertex when using “identify features” on a feature (identify results -> (Derived)).

Is this functionality gone?

Using the GetWKT plugin on the selected feature verifies that the selected feature indeed has z-values.

Regards, Casper

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/4c929a1c/attachment.html>

From lrssvtml at gmail.com  Tue Oct 31 02:06:17 2017
From: lrssvtml at gmail.com (Salvatore Larosa)
Date: Tue, 31 Oct 2017 10:06:17 +0100
Subject: [QGIS-Developer] Where can I find the Z-values?
In-Reply-To: <800A1C4B99390947B3BAA86C02CBDB2615A0EFD6@S000014.PROD.SITAD.DK>
References: <800A1C4B99390947B3BAA86C02CBDB2615A0EFD6@S000014.PROD.SITAD.DK>
Message-ID: <CANxjxapx=mw4nJnNMa_P2TcMiEuPLk7nbD4Jb3AFPG3xJTWiwQ@mail.gmail.com>

On Mon, Oct 30, 2017 at 4:05 PM, Casper Børgesen <caboe at sdfe.dk> wrote:

> Hi devs.
>
>
>
> I used to be able to sample the z-value of the nearest vertex when using
> “identify features” on a feature (identify results -> (Derived)).
>
>
>
> Is this functionality gone?
>

Which QGIS version?
Just tested on 2.18.14 and I can see the Z value in the identify results
dialog.
[image: Inline image 1]



-- 
Salvatore Larosa
linkedIn: http://linkedin.com/in/larosasalvatore
twitter: @lrssvt
skype: s.larosa
IRC: lrssvt on freenode
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/361e6ca6/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Schermata 2017-10-31 alle 10.03.18.png
Type: image/png
Size: 38533 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/361e6ca6/attachment-0001.png>

From caboe at sdfe.dk  Tue Oct 31 02:16:21 2017
From: caboe at sdfe.dk (=?utf-8?B?Q2FzcGVyIELDuHJnZXNlbg==?=)
Date: Tue, 31 Oct 2017 09:16:21 +0000
Subject: [QGIS-Developer] Where can I find the Z-values?
In-Reply-To: <800A1C4B99390947B3BAA86C02CBDB2615A1226B@S000014.PROD.SITAD.DK>
References: <800A1C4B99390947B3BAA86C02CBDB2615A0EFD6@S000014.PROD.SITAD.DK>
 <CANxjxapx=mw4nJnNMa_P2TcMiEuPLk7nbD4Jb3AFPG3xJTWiwQ@mail.gmail.com>
 <800A1C4B99390947B3BAA86C02CBDB2615A1226B@S000014.PROD.SITAD.DK>
Message-ID: <800A1C4B99390947B3BAA86C02CBDB2615A12288@S000014.PROD.SITAD.DK>

Hi Salvatore

For points I get the coordinate of the point under derived, but for linestrings I only get the clicked coordinated for x and y.

I have tested 2.14.20, 2.18.14 and a very recent 2.99.

Regards, Casper

From: Salvatore Larosa [mailto:lrssvtml at gmail.com]
Sent: 31. oktober 2017 10:06
To: Casper Børgesen <caboe at sdfe.dk<mailto:caboe at sdfe.dk>>
Cc: qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] Where can I find the Z-values?

On Mon, Oct 30, 2017 at 4:05 PM, Casper Børgesen <caboe at sdfe.dk<mailto:caboe at sdfe.dk>> wrote:
Hi devs.

I used to be able to sample the z-value of the nearest vertex when using “identify features” on a feature (identify results -> (Derived)).

Is this functionality gone?

Which QGIS version?
Just tested on 2.18.14 and I can see the Z value in the identify results dialog.


--
Salvatore Larosa
linkedIn: http://linkedin.com/in/larosasalvatore
twitter: @lrssvt
skype: s.larosa
IRC: lrssvt on freenode
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/785513e2/attachment.html>

From lrssvtml at gmail.com  Tue Oct 31 02:32:48 2017
From: lrssvtml at gmail.com (Salvatore Larosa)
Date: Tue, 31 Oct 2017 10:32:48 +0100
Subject: [QGIS-Developer] Where can I find the Z-values?
In-Reply-To: <800A1C4B99390947B3BAA86C02CBDB2615A12288@S000014.PROD.SITAD.DK>
References: <800A1C4B99390947B3BAA86C02CBDB2615A0EFD6@S000014.PROD.SITAD.DK>
 <CANxjxapx=mw4nJnNMa_P2TcMiEuPLk7nbD4Jb3AFPG3xJTWiwQ@mail.gmail.com>
 <800A1C4B99390947B3BAA86C02CBDB2615A1226B@S000014.PROD.SITAD.DK>
 <800A1C4B99390947B3BAA86C02CBDB2615A12288@S000014.PROD.SITAD.DK>
Message-ID: <CANxjxapaH91tGBRKCbHL1e6LcRcq3cnLcgYAnWGkhhKeM70gRw@mail.gmail.com>

On Tue, Oct 31, 2017 at 10:16 AM, Casper Børgesen <caboe at sdfe.dk> wrote:

> Hi Salvatore
>
>
>
> For points I get the coordinate of the point under derived, but for
> linestrings I only get the clicked coordinated for x and y.
>

For Linestring type you have to use the vertex editor in order to visualize
z values. I don't remember a such functionality.
I guess that for line with a lot of vertices it is pretty complicated to
display all the z values inside the identify results.

Anyway, fpr linestring you should be able to see the z value of closest
vertex at the clicked coordinate.

Regards,
-SL

-- 
Salvatore Larosa
linkedIn: http://linkedin.com/in/larosasalvatore
twitter: @lrssvt
skype: s.larosa
IRC: lrssvt on freenode
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/f24fe8ad/attachment.html>

From caboe at sdfe.dk  Tue Oct 31 02:37:06 2017
From: caboe at sdfe.dk (=?utf-8?B?Q2FzcGVyIELDuHJnZXNlbg==?=)
Date: Tue, 31 Oct 2017 09:37:06 +0000
Subject: [QGIS-Developer] Where can I find the Z-values?
In-Reply-To: <CANxjxapaH91tGBRKCbHL1e6LcRcq3cnLcgYAnWGkhhKeM70gRw@mail.gmail.com>
References: <800A1C4B99390947B3BAA86C02CBDB2615A0EFD6@S000014.PROD.SITAD.DK>
 <CANxjxapx=mw4nJnNMa_P2TcMiEuPLk7nbD4Jb3AFPG3xJTWiwQ@mail.gmail.com>
 <800A1C4B99390947B3BAA86C02CBDB2615A1226B@S000014.PROD.SITAD.DK>
 <800A1C4B99390947B3BAA86C02CBDB2615A12288@S000014.PROD.SITAD.DK>
 <CANxjxapaH91tGBRKCbHL1e6LcRcq3cnLcgYAnWGkhhKeM70gRw@mail.gmail.com>
Message-ID: <800A1C4B99390947B3BAA86C02CBDB2615A122D7@S000014.PROD.SITAD.DK>

Hi Salvatore

“Anyway, fpr linestring you should be able to see the z value of closest vertex at the clicked coordinate.”

This is exactly what I’m looking for and I have used that functionality in the past. But I can’t see it anymore.

Regards, Casper
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/71c80255/attachment.html>

From lrssvtml at gmail.com  Tue Oct 31 02:50:57 2017
From: lrssvtml at gmail.com (Salvatore Larosa)
Date: Tue, 31 Oct 2017 10:50:57 +0100
Subject: [QGIS-Developer] Where can I find the Z-values?
In-Reply-To: <800A1C4B99390947B3BAA86C02CBDB2615A122D7@S000014.PROD.SITAD.DK>
References: <800A1C4B99390947B3BAA86C02CBDB2615A0EFD6@S000014.PROD.SITAD.DK>
 <CANxjxapx=mw4nJnNMa_P2TcMiEuPLk7nbD4Jb3AFPG3xJTWiwQ@mail.gmail.com>
 <800A1C4B99390947B3BAA86C02CBDB2615A1226B@S000014.PROD.SITAD.DK>
 <800A1C4B99390947B3BAA86C02CBDB2615A12288@S000014.PROD.SITAD.DK>
 <CANxjxapaH91tGBRKCbHL1e6LcRcq3cnLcgYAnWGkhhKeM70gRw@mail.gmail.com>
 <800A1C4B99390947B3BAA86C02CBDB2615A122D7@S000014.PROD.SITAD.DK>
Message-ID: <CANxjxao1EUoRhwZOYv_wL3_ff+i8+-aCeo9XRkYigMX+7hZDEQ@mail.gmail.com>

Hi Casper

On Tue, Oct 31, 2017 at 10:37 AM, Casper Børgesen <caboe at sdfe.dk> wrote:

> Hi Salvatore
>
>
>
> “Anyway, fpr linestring you should be able to see the z value of closest
> vertex at the clicked coordinate.”
>
>
>
> This is exactly what I’m looking for and I have used that functionality in
> the past. But I can’t see it anymore.
>
>
>
> Regards, Casper
>

works for me on 2.18.14 (OSX). :-(

[image: Inline image 1]

-- 
Salvatore Larosa
linkedIn: http://linkedin.com/in/larosasalvatore
twitter: @lrssvt
skype: s.larosa
IRC: lrssvt on freenode
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/f0a2e2ae/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Schermata 2017-10-31 alle 10.48.55.png
Type: image/png
Size: 54981 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/f0a2e2ae/attachment-0001.png>

From caboe at sdfe.dk  Tue Oct 31 03:10:16 2017
From: caboe at sdfe.dk (=?utf-8?B?Q2FzcGVyIELDuHJnZXNlbg==?=)
Date: Tue, 31 Oct 2017 10:10:16 +0000
Subject: [QGIS-Developer] Where can I find the Z-values?
In-Reply-To: <CANxjxao1EUoRhwZOYv_wL3_ff+i8+-aCeo9XRkYigMX+7hZDEQ@mail.gmail.com>
References: <800A1C4B99390947B3BAA86C02CBDB2615A0EFD6@S000014.PROD.SITAD.DK>
 <CANxjxapx=mw4nJnNMa_P2TcMiEuPLk7nbD4Jb3AFPG3xJTWiwQ@mail.gmail.com>
 <800A1C4B99390947B3BAA86C02CBDB2615A1226B@S000014.PROD.SITAD.DK>
 <800A1C4B99390947B3BAA86C02CBDB2615A12288@S000014.PROD.SITAD.DK>
 <CANxjxapaH91tGBRKCbHL1e6LcRcq3cnLcgYAnWGkhhKeM70gRw@mail.gmail.com>
 <800A1C4B99390947B3BAA86C02CBDB2615A122D7@S000014.PROD.SITAD.DK>
 <CANxjxao1EUoRhwZOYv_wL3_ff+i8+-aCeo9XRkYigMX+7hZDEQ@mail.gmail.com>
Message-ID: <800A1C4B99390947B3BAA86C02CBDB2615A12330@S000014.PROD.SITAD.DK>

Hi Salvatore,

works for me on 2.18.14 (OSX). :-(

I now see that it is format (driver?) dependent. I was looking at a file geodatabase but exporting it to SHAPE then I can see the “Closest vertex Z” under  derived.

Thanks for your help ☺

Regards, Casper
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/0b71817e/attachment.html>

From matthias at opengis.ch  Tue Oct 31 03:44:19 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 31 Oct 2017 11:44:19 +0100
Subject: [QGIS-Developer] Duplicate Features
Message-ID: <d610bf9e-86b6-c57f-f51c-cc5ae924b17d@opengis.ch>

Hi list,

For QGIS 3.0 we have created a new feature "duplicate features", that
allows duplicating features with associated children whenever a relation
is defined as "composition" (https://github.com/qgis/QGIS/pull/5448).

There is a new configuration option in place as well as core
functionality with unit tests.

However, this code is currently nowhere triggered inside QGIS. We have
written custom python code for a feature action to make it work for the
client who ordered this. Still, it is unfortunate to have a
configuration option which has no effect without writing custom python code.

We could add this code as default action, given that this is opt-in and
the underlying code is tested by unit tests I would feel comfortable to
bring this in at the current state and treat this as a GUI fix.

If others feel uncomfortable, please say so and we can point the users
towards the documentation and mention the python code for the action for
copy pasting there, or mark the configuration option as experimental.

Thanks
Matthias

From regis.haubourg at gmail.com  Tue Oct 31 08:19:47 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 31 Oct 2017 16:19:47 +0100
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
 QGIS 3.0
In-Reply-To: <1509361825142-0.post@n6.nabble.com>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
Message-ID: <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>

Hi,
I probably missed the right message. Do we have a clearance to start the
debugging sprint right now?
Did Giovanni produced a spreasheet for 3.0 similar to the one he uses in
2.18 [0] ?


 [0]
https://docs.google.com/spreadsheets/d/1frZQU8bwGX499WMvtOc6GDIWqEuSv3QHz3zc90TS46Q/edit#gid=0

Thanks for your lights !

Régis

2017-10-30 12:10 GMT+01:00 Tom Chadwin <tom.chadwin at nnpa.org.uk>:

> Hello all
>
> This point has been raised in the other "PR queue/feature freeze thread",
> but I wanted to make sure it's here in this one, too: I strongly favour
> honouring the feature freeze and pushing further merges to 3.2. BUT, we do
> need to evaluate whether an exception needs to be made for any API-breaking
> changes. QGIS2 has lasted something close to five years, so we would hope
> for a long wait for QGIS4.
>
> I know everyone knows this - I just wanted to add it to this thread as
> well.
>
> Thanks
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-
> f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/167d4b59/attachment.html>

From a.neumann at carto.net  Tue Oct 31 08:30:09 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 31 Oct 2017 16:30:09 +0100
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
 QGIS 3.0
In-Reply-To: <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
 <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
Message-ID: <83aa7988d693b0688f71f67cd6b08aaa@carto.net>

Hi Régis, 

Yes - you can start right away until you reach the discussed max nr of
days. If you have more time than max days and would like to contribute
more than these days, please contact me to see if sufficient funds are
available. I don't want to overcommit! 

I am not aware about a spreadsheet for 3.0 from Giovanni, but Giovanni
manages the queue and labels regressions, crashes, etc. - so you should
be able to filter out issues based on these categories, labels.
Giovanni: feel free to provide again such a spreadsheet if it helps the
process. 

If you decide to work on an issue, please assign yourself from the
start, to avoid that another dev works on the same issue - but I guess
that is clear ;-) 

Thanks, 

Andreas 

On 2017-10-31 16:19, Régis Haubourg wrote:

> Hi,  
> I probably missed the right message. Do we have a clearance to start the debugging sprint right now? 
> Did Giovanni produced a spreasheet for 3.0 similar to the one he uses in 2.18 [0] ? 
> 
> [0] https://docs.google.com/spreadsheets/d/1frZQU8bwGX499WMvtOc6GDIWqEuSv3QHz3zc90TS46Q/edit#gid=0 
> 
> Thanks for your lights ! 
> 
> Régis 
> 
> 2017-10-30 12:10 GMT+01:00 Tom Chadwin <tom.chadwin at nnpa.org.uk>:
> 
>> Hello all
>> 
>> This point has been raised in the other "PR queue/feature freeze thread",
>> but I wanted to make sure it's here in this one, too: I strongly favour
>> honouring the feature freeze and pushing further merges to 3.2. BUT, we do
>> need to evaluate whether an exception needs to be made for any API-breaking
>> changes. QGIS2 has lasted something close to five years, so we would hope
>> for a long wait for QGIS4.
>> 
>> I know everyone knows this - I just wanted to add it to this thread as well.
>> 
>> Thanks
>> 
>> Tom
>> 
>> -----
>> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>> --
>> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html [1]
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [2]
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

 

Links:
------
[1] http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
[2] https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/fba9f58d/attachment.html>

From regis.haubourg at gmail.com  Tue Oct 31 08:49:17 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 31 Oct 2017 16:49:17 +0100
Subject: [QGIS-Developer] Feature freeze: Paid developer activities for
 QGIS 3.0
In-Reply-To: <83aa7988d693b0688f71f67cd6b08aaa@carto.net>
References: <B43CA41A-2D1E-48F9-BF8C-67B6C2D780F0@kartoza.com>
 <d15a0f2a-8607-733d-7387-7fee37fa4fba@carto.net>
 <20171027212552.m6462cjbvnwfmorv@norbit.de>
 <2608a388-d673-4df4-adf5-9db32e6e2ef2@carto.net>
 <1509361825142-0.post@n6.nabble.com>
 <CABgOYCfPz72oWSRHVAnRLoLubo+ber+wFRmKx-qG11dVrbjTug@mail.gmail.com>
 <83aa7988d693b0688f71f67cd6b08aaa@carto.net>
Message-ID: <CABgOYCdRuphf9QEwuhGyX0ZyMUHAtAFKJ7L75y8TpCNzJVsG_Q@mail.gmail.com>

Great, thanks!

Regards
Régis

Le 31 oct. 2017 4:30 PM, "Andreas Neumann" <a.neumann at carto.net> a écrit :

> Hi Régis,
>
> Yes - you can start right away until you reach the discussed max nr of
> days. If you have more time than max days and would like to contribute more
> than these days, please contact me to see if sufficient funds are
> available. I don't want to overcommit!
>
> I am not aware about a spreadsheet for 3.0 from Giovanni, but Giovanni
> manages the queue and labels regressions, crashes, etc. - so you should be
> able to filter out issues based on these categories, labels. Giovanni: feel
> free to provide again such a spreadsheet if it helps the process.
>
> If you decide to work on an issue, please assign yourself from the start,
> to avoid that another dev works on the same issue - but I guess that is
> clear ;-)
>
> Thanks,
>
> Andreas
>
> On 2017-10-31 16:19, Régis Haubourg wrote:
>
> Hi,
> I probably missed the right message. Do we have a clearance to start the
> debugging sprint right now?
> Did Giovanni produced a spreasheet for 3.0 similar to the one he uses in
> 2.18 [0] ?
>
>
>  [0] https://docs.google.com/spreadsheets/d/1frZQU8bwGX499WMvtOc6GDIWqEuSv
> 3QHz3zc90TS46Q/edit#gid=0
>
> Thanks for your lights !
>
> Régis
>
> 2017-10-30 12:10 GMT+01:00 Tom Chadwin <tom.chadwin at nnpa.org.uk>:
>
>> Hello all
>>
>> This point has been raised in the other "PR queue/feature freeze thread",
>> but I wanted to make sure it's here in this one, too: I strongly favour
>> honouring the feature freeze and pushing further merges to 3.2. BUT, we do
>> need to evaluate whether an exception needs to be made for any
>> API-breaking
>> changes. QGIS2 has lasted something close to five years, so we would hope
>> for a long wait for QGIS4.
>>
>> I know everyone knows this - I just wanted to add it to this thread as
>> well.
>>
>> Thanks
>>
>> Tom
>>
>>
>>
>> -----
>> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
>> --
>> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.
>> html
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/5692b944/attachment-0001.html>

From bernd.vogelgesang at gmx.de  Tue Oct 31 13:35:09 2017
From: bernd.vogelgesang at gmx.de (Bernd Vogelgesang)
Date: Tue, 31 Oct 2017 21:35:09 +0100
Subject: [QGIS-Developer] Debugging models?
Message-ID: <op.y8zp4vb0l2i25i@bernd-pc>

Hi folks,

I have to admit: I gave up using the modeller a while ago cause it was too  
buggy and with version changes, the models often did not load or were  
broken.

So most of the time it was an investment of time which did not turn out at  
all (besides that by re-re-recreating the models, I learned my workflows  
by heart).

Now I gave it a new try by trying to help someone else who has quite big  
model, which does not work any more:

"The selected model could not be loaded. See log for more information"

Questions:
Where can I find more detailed information about how the modeller works?
Does anyone know the mechanism how the model is inspected before being  
loaded?
Where do I find the mentioned log for the details?

I tried to look for something obvious in the file using jedit and the  
sidekick plugin where a json parser for the first time gave me an idea  
about how those files are structured in a human readable way.

Web searches did not give me any answers. Seems most people solve those  
issues silently or simply give up like I did a while ago.

So, anyone with only the smallest knowledge about toubleshooting models,  
please step up.

P.S. Model in a zip

Cheers
Bernd

-- 
Bernd Vogelgesang
Siedlerstraße 2
91083 Baiersdorf/Igelsdorf
Tel: 09133-825374
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 20161219_jakatVerarbeitung_beab.model.zip
Type: application/zip
Size: 5695 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/8ecba19b/attachment.zip>

From Stefan.Blumentrath at nina.no  Tue Oct 31 15:19:58 2017
From: Stefan.Blumentrath at nina.no (Stefan Blumentrath)
Date: Tue, 31 Oct 2017 22:19:58 +0000
Subject: [QGIS-Developer] Settings migration from QGIS 2 to 3
In-Reply-To: <CAAi8Yg_2Y_cug5w6+U0mCrLih4B7RG6RA8UQ-XBP7P09M1+njA@mail.gmail.com>
References: <CAAi8Yg8Si5zkt5QSK-BG6rpi5cMs3i50TR+_xmUQGUF+2Tp7OA@mail.gmail.com>
 <2265263.hyrc3P0sfh@debian>
 <CAAi8Yg-JgVJXOEjtZDAiNRVdQ3Zq2RwOA2FOPmcBVLDqUnGB=w@mail.gmail.com>
 <1533146.oF6xj6KlLr@debian>
 <CAAi8Yg_2Y_cug5w6+U0mCrLih4B7RG6RA8UQ-XBP7P09M1+njA@mail.gmail.com>
Message-ID: <94cfd4b75480438eb5553bb308179147@NINSRV23.nina.no>

Dear all,

I am really looking forward to seeing all QGIS configuration in ini-files and that registry will be abandoned on Windows in QGIS 3!
That will be a great improvement, esp. from a sys-admin perspective!

In this consolidation context I was wondering I would be possible to prepare for:

-          Use of relative path (https://issues.qgis.org/issues/12623)

-          Usage of variables in the ini file

I have been earlier thinking about “versioning” of ini files, so that updates (e.g. changes in OWS URLs) can be passed to all users as a sort of “diff/merge” without damaging individual adjustments they might have made.
Background is that the Norwegian mapping authority provides a “Service feed” (https://register.geonorge.no/register/tjenestevarsler) where all OWS changes are announced… I would love to be able to just apply those changes to all our users…

No idea if such a thing could be fostered by the way settings are stored in the ini files?

Cheers
Stefan

From: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] On Behalf Of Nathan Woodrow
Sent: mandag 30. oktober 2017 15.27
To: Borys Jurgiel <lists at borysjurgiel.pl>
Cc: Richard Duivenvoorde <richard at duif.net>; qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] Settings migration from QGIS 2 to 3

Ah right.  I'm happy with whatever there.

On Tue, Oct 31, 2017 at 12:25 AM, Borys Jurgiel <lists at borysjurgiel.pl<mailto:lists at borysjurgiel.pl>> wrote:
Dnia wtorek, 31 października 2017 00:19:49 Nathan Woodrow pisze:
> Hey,
>
> > There are over 100 keys there, are we going to migrate them all from
>
> Windows
> to windows, like we did with Qgis -> qgis?
>
> No I don't think we need to do anything for those subgroups, dropping the
> Windows placement between version isn't a big deal.  The main core things
> to migrate is stuff that is a pain to setup again.

Sorry I was unclear. I didn't mean migrating the values, just changing the
section for all these keys.

Regards,
Borys

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171031/991de7f3/attachment-0001.html>

From saxri89 at gmail.com  Tue Oct 31 15:41:27 2017
From: saxri89 at gmail.com (Xristos Xristoou)
Date: Wed, 1 Nov 2017 00:41:27 +0200
Subject: [QGIS-Developer] pyqgis standalone script Unable to execute
 algorithm Input layers do not have the same grid extent
Message-ID: <CAGhnqHR+DwN6PC3h-qkdwfvMZ=njdQ-We=daJgaVKTJQ0N=inQ@mail.gmail.com>

hello I create a simple pyqgis standalone script and I have some errors
with some datasets and I don't know why some times script work fine some
times script show me error :

TypeError: 'NoneType' object has no attribute '__getitem__'

that is because SAGA algorithm SAGA FLOW WIDTH AND SPECIFIC CATCHMENT AREA 1
don't work correct for some datasets for other raster datasets work fine
and I don't know why with the half dataset work and other not working.

and specific message in pycharm :

..\..\..\..\..\src\core\qgsmessagelog.cpp(45) :
(QgsMessageLog::logMessage) [31ms] 2017-11-01T00:03:06 Processing[1]
Unable to execute algorithmInput layers do not have the same grid
extent.Unable to execute algorithmInput layers do not have the same
grid extent.

all dataset is in some srs.

I think so and for other SAGA algorithm I have similar problem .

here code :

from __future__ import unicode_literalsimport qgisfrom qgis.core
import QgsApplication,QgsRasterLayerimport sys
qgs = QgsApplication([],
False)QgsApplication.setPrefixPath("C:/OSGeo4W64/apps/qgis-ltr",
True)QgsApplication.initQgis()
sys.path.append('C:/OSGeo4W64/apps/qgis-ltr/python/plugins')import
processingfrom processing.core.Processing import
ProcessingProcessing.initialize()
rasterLyr = QgsRasterLayer(dem_uri, 'spi')
rasterLyr.isValid()
outputs_GDALOGRSLOPE_1 = processing.runalg('gdalogr:slope', rasterLyr,
1.0, True, True, False, 1.0, None)
rasterLyr1 = QgsRasterLayer(outputs_GDALOGRSLOPE_1['OUTPUT'], 'spi1')
rasterLyr1.isValid().....................................
outputs_SAGAFLOWWIDTHANDSPECIFICCATCHMENTAREA_1 = processing.runalg
('saga:flowwidthandspecificcatchmentarea',rasterLyr,outputs_SAGACATCHMENTAREA_1
 ['CAREA'],0, None, None).....................................

some messages in pycharm editor :

Parameters
Grids: No objectsFiles: "C:path/to/image.tif"Transformation:
yesInterpolation: Nearest Neighbor


loading: C:path/to/image.tif
Driver: GTiffBands: 1Rows: 2523Columns: 3864


Transformation:

x' = 393.147600 + x * 15.000000 + y * 0.000000

y' = 4564.500000 + x * 0.000000 + y * -15.000000

warning: top-to-bottom and left-to-right cell sizes differ.
using cellsize: 15.000000

C:\Users\username\PycharmProjects\ungdal>saga_cmd ta_hydrology
"Catchment Area (Parallel)"  -ELEVATION
"C:\Users\usernamen\AppData\Local\Temp\processing7d1c790b04654237b47a304b19a97535\dec292515b8d4b25864383e8cd17f368\C:pathtoimagetif.sgrd"
-Method 0 -CAREA
"C:\Users\username\AppData\Local\Temp\processing7d1c790b04654237b47a304b19a97535\ece26af68ad042bc8a77aa7665ec6cff\CAREA.sdat"


_____________________________________________
library path:   C:\OSGeo4W64\apps\saga\modules\ta_hydrology.dll
library name:   Terrain Analysis - Hydrology
tool name   :   Catchment Area (Parallel)
author      :   O.Conrad (c) 2001-2010, T.Grabs portions (c) 2010
_____________________________________________
Load grid: C:\Users\username\AppData\Local\Temp\processing7d1c790b04654237b47a304b19a97535\dec292515b8d4b25864383e8cd17f368\
C:pathtoimagetif.sgrd...



Parameters

Grid system: 15; 252x 385y; 3933.647600x 4506.000000yElevation:
C:pathtoimagetifSink Routes: <not set>Weight: <not set>Material: <not
set>Target: <not set>Catchment Area: Catchment AreaCatchment Height:
<not set>Catchment Slope: <not set>Total accumulated Material: <not
set>Accumulated Material from _left_ side: <not set>Accumulated
Material from _right_ side: <not set>Step: 1Catchment Aspect: <not
set>Flow Path Length: <not set>Method: Deterministic 8Linear Flow:
noLinear Flow Threshold: 500.000000Linear Flow Threshold Grid: <not
set>Channel Direction: <not set>Convergence: 1.100000

error message:

..\..\..\..\..\src\core\qgsmessagelog.cpp(45) :
(QgsMessageLog::logMessage) [31ms] 2017-11-01T00:03:06 Processing[1]
Unable to execute algorithmInput layers do not have the same grid
extent.Unable to execute algorithmInput layers do not have the same
grid extent.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171101/c9ae86dd/attachment-0001.html>

From AdamT at sigmaconsult.co.nz  Tue Oct 31 20:32:57 2017
From: AdamT at sigmaconsult.co.nz (Adam Tokelove)
Date: Wed, 1 Nov 2017 03:32:57 +0000
Subject: [QGIS-Developer] Crash launching Qgis 2.99.0
Message-ID: <1509507177.908.2.camel@sigmaconsult.co.nz>

Hi

I think I have the same problem, on Antergos (arch) with qgis-2.99 from the aur nightly build (qgis-git).

I updated on Friday, and have had the problem since then. I've updated a couple of times since (most recently about an hour ago with aur/qgis-git 2.99.0.r42636.ac7e041a4c-1) to see if that solved it, but not so much.

The program opens fine, I can open a project, but as soon as the project layers have finished opening, it aborts with:

QGIS died on signal 11Aborted (core dumped)


Cheers

Adam Tokelove

>Looks like an issue with some python code.
>Try starting without any plugins.
>
>Matthias

Hi Matthias,

I tried to launch qgis with --noplugins but I had:

https://paste.ubuntu.com/25852320/

which points more or less the same issues of before.

Other hints?

E.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171101/b4bcc828/attachment.html>

From anitagraser at gmx.at  Tue Oct 17 12:19:22 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Tue, 17 Oct 2017 19:19:22 -0000
Subject: [QGIS-Developer] QGIS Server 3 status
In-Reply-To: <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
References: <CAMtDFLJvS3s-E38H8M9xzbbEQ_A+r0K6=GjxhKsjWJq7f4b6qQ@mail.gmail.com>
 <CABgOYCeJNiyYcYDpmd8arvn5Hx_ob=F5FdF+9d1O6+7F3_iwcQ@mail.gmail.com>
 <CAFFV8FgV7G=nGXRW1dUV8XyAe2qMAUT5YGL8LsDfSswtErzPjA@mail.gmail.com>
 <CABgOYCcBiNZy9wiDPbaDPKhsh0TVDVoGcOeYyX2_OOxYGCiAww@mail.gmail.com>
 <CAFFV8FjwRgjxRpA79NsiMH7AwHmhFu_XyVM68292-Ns28Skcpw@mail.gmail.com>
 <CABgOYCfWHNtyNgzBt88xa8x_nhPOr17T5OQCdT9QX_zH5qEMwA@mail.gmail.com>
 <CAFFV8FiK=qPiQhgFS9a89HjCFkg+TXmh3T5_JNkYcd4EVoPBTA@mail.gmail.com>
 <CABgOYCcBvYa8z0JdkC3whD+KhCgoSDuW=v8weGnMHcEQR3270g@mail.gmail.com>
 <CAL5Q671cGR+ZsaF-Ss_KmE_1O6XTDi37YmNo17yKnHikEpcKFw@mail.gmail.com>
 <CAFFV8FiZp=TuBXA=k=U3HNvkowNoDHT4Bv6Ffyjyde2t5nvw1g@mail.gmail.com>
 <CABgOYCfrK+ybzV9DR434azsWzqD8utEvTSJH2Oos9E4+a=uKkQ@mail.gmail.com>
 <70423941-fd1f-e6b7-fd56-37eddc1cf12e@gmail.com>
Message-ID: <CAFFV8FipoBNpWs5VHNvdLM+mpe6hh=0S5knLOc6Cf1rwmUD18g@mail.gmail.com>

I've extended Régis' draft with some of the more recent information. Please
let me know what you think. I'll try to publish in a couple of days.

-- start --


*QGIS server refactoring is done!*
As you may know, QGIS is jumping to a new major version (yes!). Doing so
was made necessary because of the need to switch to python 3, QT5, but also
because we needed to break the QGIS API in several places. (
http://blog.qgis.org/2016/02/10/qgis-3-0-plans/)

A year ago, a tiny troll  <https://github.com/qgis/qgis3.0_api/issues/63>from
switzerland rang a bell about the strong need for love server code base
required. Indeed, the API was locked by some old methods of QGIS server. In
short, QGIS server was reparsing the qgs project file in his own way, and
created dependencies to part of QGIS we needed to drop.

As outsourcing the server code base was not an option, so we had to
refactor it. The involved parties decided to get engaged in a code sprint
<https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in
the city of Lyon , France dedicated to sharing their vision, planning the
work and finally making all the following
<https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen:

*Higher level refactoring*

All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS, GetPrint
etc..) have been rewritten. Some like WMS were entirely rewritten. Kudos to
the devs!

*New features*

- Multi-thread rendering <https://github.com/qgis/QGIS/pull/3886> like in
the desktop

- A new option to trust layer metadata
<https://github.com/qgis/QGIS/pull/5094> and thus speed up project loading

- WFS 1.1 support https://github.com/qgis/QGIS/pull/5297

- Full Python bindings for the server API

- Server Services as plugins like providers

[image: Inline image 1]


*Deep, complex and unrewarding tasks*

- Remove all singleton calls

- Cut all the dependencies to the old QGIS project file parser

- Minimize dependencies to GUI library. Since fonts are necessary to render
maps, totally removing them was not feasable.

*Infrastructure tasks*

- Build a OGC compliancy platform
<http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/>
and
integrate it to a continuous integration platform. Conformity reports are
now pushed to tests.qgis.org

- Add unit tests ... and again more unit tests

- Stress QGIS server against security leaks
<http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL
injections and other malicious attacks)

- Start profiling and bench marking performances. This work still need some
love - and funding - to be achieved


A presentation
<https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf>
was
given at FOSS4G-EU in July.

*Congratulations* to the developers who worked hard on that work.

Now this deserves to be well tested, please report back any issues!

On Fri, Oct 13, 2017 at 9:50 AM, René-Luc Dhont <rldhont at gmail.com> wrote:

> And I'm waiting to add WFS 1.1.0 support:
> https://github.com/qgis/QGIS/pull/5297
>
> Regards,
> René-Luc
>
>
> Le 13/10/2017 à 08:58, Régis Haubourg a écrit :
>
> Hi Anita,
>
> among the news, Paul is currently tackling OGC conformity issues.
> see :
> https://github.com/qgis/QGIS/pull/5044
> https://github.com/qgis/QGIS/pull/5084
> https://github.com/qgis/QGIS/pull/5145
> https://github.com/qgis/QGIS/pull/5150
> https://github.com/qgis/QGIS/pull/5157
> https://github.com/qgis/QGIS/pull/5303
>
> We still have some harder issues due to crashes of the OGC testing
> platform.
>
> All tests are made using the "basic" level test (see http://cite.
> opengeospatial.org/teamengine/about/wms/1.3.0/site/)
>
> When all will be green at this level, we'll run the platform with the
> other testing levels so that we have a good overview of our path for a full
> conformity of WMS 1.3.
>
> We'll prepare a dedicated blog post toi describe what were the issues and
> what we did to fix them.
>
> Cheers!
> Régis
>
> 2017-10-12 22:56 GMT+02:00 Anita Graser <anitagraser at gmx.at>:
>
>> Thanks everyone so far! Please keep the info coming. I'll draft a blog
>> post on the weekend.
>>
>> Regards,
>> Anita
>>
>> On Thu, Oct 5, 2017 at 9:34 AM, Alessandro Pasotti <apasotti at gmail.com>
>> wrote:
>>
>>> Hi Règis,
>>>
>>> thanks for the nice summary!
>>>
>>> Maybe it would be interesting for python devs to stress out how QGIS
>>> server 3 brings the bindings and the plugins to a new level: while the
>>> original filter-style python plugins, are still available, the new
>>> service-oriented plugin-based architecture allows Python developers to
>>> create new services (for example WPS) by implementing a new `QgsService`
>>> directly in Python. Overriding existing services is also possible.
>>>
>>> The server API has now full python bindings and a QGIS server can be
>>> easily implemented directly in Python and wrapped into your favourite
>>> framework (see this simple wsgi experiment:
>>> https://gist.github.com/elpaso/0cd7fb6a0518dc46c45557d9133438b8 ).
>>>
>>> For more examples of the API, I think there are some basic examples in
>>> the official Python tests: https://github.com/qgis/QGIS/b
>>> lob/master/tests/src/python/test_qgsserver_services.py#L79
>>>
>>>
>>> Cheers
>>>
>>>
>>>
>>>
>>>
>>> On Wed, Oct 4, 2017 at 10:49 PM, Régis Haubourg <
>>> regis.haubourg at gmail.com> wrote:
>>>
>>>> Well, from a user point of view, that's a bit hard since all this is 90
>>>> % refactoring.. which is supposed to be transparent for users.
>>>>
>>>> We have the trust and multithreaded features, that should (and early
>>>> testers today found it slower today) and the ability to code new services
>>>> using python.
>>>> We can also show some numbers about OGC conformity tests and the goal
>>>> of reaching OGC certification (WMS only by now).
>>>>
>>>> Alessandro, René-Luc and David, do you have some user oriented examples
>>>> for the new modular API ?
>>>>
>>>>
>>>>
>>>> 2017-10-04 22:18 GMT+02:00 Anita Graser <anitagraser at gmx.at>:
>>>>
>>>>> Great overview, thanks for drafting Régis!
>>>>>
>>>>> Some additional ideas: Could we add a section with the key
>>>>> improvements from an user perspective?
>>>>>
>>>>> I'm particularly intrigued by the services / plugins part. Could you
>>>>> elaborate?
>>>>>
>>>>> Regards,
>>>>> Anita
>>>>>
>>>>>
>>>>>
>>>>> On Wed, Oct 4, 2017 at 9:42 PM, Régis Haubourg <
>>>>> regis.haubourg at gmail.com> wrote:
>>>>>
>>>>>> Hi again,
>>>>>> here is my very first draft:
>>>>>>
>>>>>>  Several images can be pulled from the joined slides given at
>>>>>> Foss4G-EU here https://drive.google.com/file/
>>>>>> d/0BzatQbprJ-hjWF95VzdHbGRsVEk/view?usp=sharing
>>>>>>
>>>>>> René-Luc, David, Paul, don't hesitate to amend that!
>>>>>>
>>>>>> ------------------------------------------------------------
>>>>>> --------------------------------
>>>>>>
>>>>>>
>>>>>> *Qgis server refactoring is done! *
>>>>>> As you may know, QGIS is jumping to a new major version (yes!).
>>>>>> Doing so was made necessary because of the need to switch to python
>>>>>> 3, QT5, but also because we needed to break the QGIS API in several places.
>>>>>>
>>>>>> A year ago, a tiny troll
>>>>>> <https://github.com/qgis/qgis3.0_api/issues/63>from switzerland rang
>>>>>> a bell about the strong need for love server code base required.
>>>>>>
>>>>>> Indeed, the API was locked by some old methods of QGIS server. In
>>>>>> short, QGIS server was reparsing the qgs project file in his own way, and
>>>>>> created dependencies to part of QGIS we needed to drop.
>>>>>>
>>>>>> As outsourcing the server code base was not an option, so we had to
>>>>>> refactor it.
>>>>>>
>>>>>> The involved parties decided to get engaged in a code sprint
>>>>>> <https://github.com/qgis/QGIS/wiki/QGIS3---QGIS-Server-code-sprint-Notes> in
>>>>>> the city of Lyon , France dedicated to sharing their vision, planning the
>>>>>> work and finally making all the following
>>>>>> <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74> happen
>>>>>> :
>>>>>>
>>>>>>
>>>>>>
>>>>>> *# Deep, complex and unrewarding tasks: *
>>>>>>
>>>>>> - Remove all singleton calls
>>>>>>
>>>>>> - Cut all the dependencies to the old qgis project parser
>>>>>>
>>>>>> - Minimize dependencies to GUI library. Since fonts are necessary to
>>>>>> render maps, totally removing them was not feasable.
>>>>>>
>>>>>> *# Higher level refactoring*
>>>>>>
>>>>>> All services (WMS GetMap, WFS GetFeature, GetLegendGraphics, WCS,
>>>>>> GetPrint etc..) have been rewritten. Some like WMS were entirely rewritten.
>>>>>> Kudos to the dev's
>>>>>>
>>>>>>
>>>>>> *# New features and architecture stuff*
>>>>>>
>>>>>> - QGIS Server Services as plugins like providers. (slide 10 would be
>>>>>> a nice figure here)
>>>>>>
>>>>>> - Multi-thread rendering  <https://github.com/qgis/QGIS/pull/3886>-
>>>>>> like in the desktop
>>>>>>
>>>>>> - A new option to trust layer metadata
>>>>>> <https://github.com/qgis/QGIS/pull/5094> and speed up project loading
>>>>>>
>>>>>>
>>>>>> *# Infrastructure tasks*
>>>>>>
>>>>>> - Build a OGC compliancy platform
>>>>>> <http://oslandia.com/en/2017/06/16/qgis-server-ogc-cite-compliance-testing/> and
>>>>>> integrate it to a continuous integration platform. Conformity reports are
>>>>>> now pushed to tests.qgis.org *XXX waiting for Richard to expose them
>>>>>> in the website*
>>>>>>
>>>>>> - Add unit tests... and again more unit tests
>>>>>>
>>>>>> - Stress QGIS server against security leaks
>>>>>> <http://oslandia.com/en/2017/06/14/qgis-server-security-aspect/> (SQL
>>>>>> injections and other malicious attacks)
>>>>>>
>>>>>> - Start profiling and bench marking performances. This work still
>>>>>> need some love - and funding - to be achieved
>>>>>>
>>>>>>
>>>>>> A presentation
>>>>>> <https://git.osgeo.org/gogs/foss4g-europe/foss4g-europe-2017-paris/src/master/presentations/2017-07-20/general_track/foss4g-europe-2017-QGIS_3_Refactoring_and_enhancement-DMarteau-PBlottiere.pdf> was
>>>>>> given at FOSS4G-EU in July.
>>>>>>
>>>>>> *Congratulations* to the developers who worked hard on that work.
>>>>>>
>>>>>> Now this deserves to be well tested, please report back any issues!
>>>>>>
>>>>>>
>>>>>>
>>>>>> 2017-10-04 15:17 GMT+02:00 Anita Graser <anitagraser at gmx.at>:
>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> On Wed, Oct 4, 2017 at 1:23 PM, Régis Haubourg <
>>>>>>> regis.haubourg at gmail.com> wrote:
>>>>>>>
>>>>>>>> Hi
>>>>>>>>
>>>>>>>> Yes, refactoring is now complete! see :
>>>>>>>> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/74
>>>>>>>> #issuecomment-334123595
>>>>>>>>
>>>>>>>> Anita, I'll draft an article tonight if you still agree to review
>>>>>>>> it, that would be great!
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> ​Sure!
>>>>>>>
>>>>>>> Anita
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>
>>>
>>>
>>> --
>>> Alessandro Pasotti
>>> w3:   www.itopen.it
>>>
>>
>>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171017/e0d1f330/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 221578 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20171017/e0d1f330/attachment-0001.png>

