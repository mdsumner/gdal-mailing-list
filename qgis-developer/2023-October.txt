From groechenig at zt-gis.at  Sun Oct  1 22:05:05 2023
From: groechenig at zt-gis.at (=?iso-8859-1?Q?Simon_Gr=F6chenig?=)
Date: Mon, 2 Oct 2023 05:05:05 +0000
Subject: [QGIS-Developer] Reading current measurement with python
Message-ID: <DU0P251MB067368DFC1A04B2EC6C177548EC5A@DU0P251MB0673.EURP251.PROD.OUTLOOK.COM>

Hi list,

is it possible to get the current line/area measurement with Python?

Simon

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231002/13cd526e/attachment.htm>

From jacky.volpes at oslandia.com  Sun Oct  1 23:56:58 2023
From: jacky.volpes at oslandia.com (Jacky Volpes)
Date: Mon, 2 Oct 2023 08:56:58 +0200
Subject: [QGIS-Developer] Reading current measurement with python
In-Reply-To: <DU0P251MB067368DFC1A04B2EC6C177548EC5A@DU0P251MB0673.EURP251.PROD.OUTLOOK.COM>
References: <DU0P251MB067368DFC1A04B2EC6C177548EC5A@DU0P251MB0673.EURP251.PROD.OUTLOOK.COM>
Message-ID: <352a9e94-9010-4f39-8738-89323a87a15a@oslandia.com>

Hi,

You can have a look at this snippet: 
https://lists.osgeo.org/pipermail/qgis-developer/2023-May/065789.html

Regards,

--

Jacky Volpes

Ing?nieur SIG - Oslandia

--

Le 02/10/2023 ? 07:05, Simon Gr?chenig via QGIS-Developer a ?crit?:
>
> Hi list,
>
> is it possible to get the current line/area measurement with Python?
>
> Simon
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231002/ce6f1c41/attachment.htm>

From Raffael.Meier at geo-online-bs.ch  Mon Oct  2 06:57:07 2023
From: Raffael.Meier at geo-online-bs.ch (Raffael Meier)
Date: Mon, 2 Oct 2023 13:57:07 +0000
Subject: [QGIS-Developer] Next QGIS LTR and its compatibility with older
 versions
Message-ID: <ZR0P278MB025009EC1C04AD74DD566BEA8FC5A@ZR0P278MB0250.CHEP278.PROD.OUTLOOK.COM>

Hello

I would like to know if this is correct, that the next long term release of a stable QGIS version (3.34.0) will be at the end of October 2023?
If this is correct I would like to know if I worked with an older version and I want to continue working on this project with the upcoming LTR what ist he oldest QGIS version files that
I can still use with the new LTR (3.34.0).

Best regards,
Raffael


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231002/21fd90e5/attachment-0001.htm>

From a.neumann at carto.net  Mon Oct  2 07:07:39 2023
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 02 Oct 2023 16:07:39 +0200
Subject: [QGIS-Developer] Next QGIS LTR and its compatibility with older
 versions
In-Reply-To: <ZR0P278MB025009EC1C04AD74DD566BEA8FC5A@ZR0P278MB0250.CHEP278.PROD.OUTLOOK.COM>
References: <ZR0P278MB025009EC1C04AD74DD566BEA8FC5A@ZR0P278MB0250.CHEP278.PROD.OUTLOOK.COM>
Message-ID: <f55b7af45def60811e76766803d61258@carto.net>



Hi Raffael,

3.34 will be the next LTR, but not yet in October 2023, but only 
starting from end of February 2024. In the table 
https://qgis.org/en/site/getinvolved/development/roadmap.html#release-schedule 
you can check the third column labeled "Long-Term Repo" to see at what 
time frame which version is LTR.

About your second question: don't nail me down on this but all 3.x 
versions should open with the newest 3.x version - it should be even 
possible to open version 2 files with the latest 3.x version.

Greetings,

Andreas

On 2023-10-02 15:57, Raffael Meier via QGIS-Developer wrote:

> Hello
> 
> I would like to know if this is correct, that the next long term 
> release of a stable QGIS version (3.34.0) will be at the end of October 
> 2023?
> 
> If this is correct I would like to know if I worked with an older 
> version and I want to continue working on this project with the 
> upcoming LTR what ist he oldest QGIS version files that
> 
> I can still use with the new LTR (3.34.0).
> 
> Best regards,
> 
> Raffael
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231002/ef293076/attachment.htm>

From gdt at lexort.com  Mon Oct  2 07:45:37 2023
From: gdt at lexort.com (Greg Troxel)
Date: Mon, 02 Oct 2023 10:45:37 -0400
Subject: [QGIS-Developer] Next QGIS LTR and its compatibility with older
 versions
In-Reply-To: <f55b7af45def60811e76766803d61258@carto.net> (Andreas Neumann
 via's message of "Mon, 02 Oct 2023 16:07:39 +0200")
References: <ZR0P278MB025009EC1C04AD74DD566BEA8FC5A@ZR0P278MB0250.CHEP278.PROD.OUTLOOK.COM>
 <f55b7af45def60811e76766803d61258@carto.net>
Message-ID: <rmi8r8lccby.fsf@s1.lexort.com>

Andreas Neumann via QGIS-Developer <qgis-developer at lists.osgeo.org>
writes:

> 3.34 will be the next LTR, but not yet in October 2023, but only
> starting from end of February 2024. In the table
> https://qgis.org/en/site/getinvolved/development/roadmap.html#release-schedule
> you can check the third column labeled "Long-Term Repo" to see at what
> time frame which version is LTR.

While we are on the subject, I have a packaging question.  I maintain
the qgis package in pkgsrc, a packaging system supporting multiple
operating systems, releases of those systems, and CPU types.  Currently
qgis is at 3.28.11, because I am tracking LTR.

I have avoided trying to have both LTR and non-LTR in pgksrc.   I have
guessed that LTR is more in the interest of random users.  But I am not
the least bit sure if that's right.

(Also, qgis LTR is nowhere near what LTS packaging needs.  LTS packaging
is generally 5 years.  I am not criticizing qgis for this, just being
clear; my view is that people who want to run old code for 5+ years with
fixes should pay for that maintenance and not ask open source project
volunteers to do it for them).

I understand that the non-LTR branches have limited support lifetimes,
but pkgsrc has no aspect of LTS (we have releases every quarter and no
support for old releases at all).  So the fact that 3.32 will become
unsupported when (3.34.0 is out | 3.34 is recommended for general use)
is not important to us.

My impression is also that 3.30, 3.32 are stable and entirely usable for
users.  It's merely that one jumps branches 3 times as often.  Of course
this is more difficult in a multiplatform environment as qgis saves
projects in the current version, not the version that was opened, so
everybody needs to be on the same version.

So, assuming our users are mostly individuals (if they are companies
they should have an IT shop and help with maintenance :-), is there any
reason I shouldn't have pkgsrc track the most recent
generally-recommended version?

What do other packaging systems do, that aren't explicitly LTS?   LTR
only, stable only, both?  I would appreciate hearing what you do and why.

> About your second question: don't nail me down on this but all 3.x
> versions should open with the newest 3.x version - it should be even
> possible to open version 2 files with the latest 3.x version.

As a data point, I have been tracking LTR via pkgsrc and never had an
issue opening.

However, every time a project is saved, it is written with the version
currently running, so once you do that, I expect it would be at least
some trouble to try to read it with the older version.  However, I have
never tried to do that.

From nick at geospatialtrainingsolutions.co.uk  Mon Oct  2 08:44:44 2023
From: nick at geospatialtrainingsolutions.co.uk (Nick Bearman)
Date: Mon, 2 Oct 2023 16:44:44 +0100
Subject: [QGIS-Developer] Download troubles? Download in the background?
In-Reply-To: <QB1PR01MB2948AB3818E29C5AE339901FB9F8A@QB1PR01MB2948.CANPRD01.PROD.OUTLOOK.COM>
References: <CAB2Z92D73adhy=VLffqb4r0RNP4zJFWy1HD6T03Q9Zjnv3woRg@mail.gmail.com>
 <92bf0e75-e320-8823-7793-4de8058a015a@wheregroup.com>
 <9a0c1635-dcac-46a1-8cda-f636571e33fa@geospatialtrainingsolutions.co.uk>
 <CACGKw0b-B5aceq2PsJpQq-1qGPp2kNeqED=3Y+=ZxMHQ+bSqCg@mail.gmail.com>
 <QB1PR01MB2948AB3818E29C5AE339901FB9F8A@QB1PR01MB2948.CANPRD01.PROD.OUTLOOK.COM>
Message-ID: <bcdfc0b8-ae58-9ac3-42d2-990eb5856048@geospatialtrainingsolutions.co.uk>

Thanks everyone, and thanks Harrissou for making those changes.

In terms of how we explain support, perhaps Selma might have some 
thoughts (with her work on documentation).

Selma - see thread below, but briefly some people are getting very poor 
download speeds. They are then donating and asking 'why are the download 
speeds slow even though I have donated?'. There are various things to 
unpack here, but would be really interested in your thoughts on the 
changes to the text we have made on the download page and what we are 
proposing on the 'donate' page.

Feel free to email if you have questions and/or contact me off list.

Best wishes,
Nick.

On 21/09/2023 2:18 pm, Bourdon, Jean-Fran?ois (DIF) via QGIS-Developer 
wrote:
> Intranet logo
>
> To continue on the topic of donation and support, although I find it 
> strange that someone doing a donation is expecting at the same time to 
> receive special support (donation != license), maybe a precision 
> should be made on the donation page (https://donate.qgis.org/) like:
>
> ?Please note that making a donation doesn?t grant any additional 
> support than what can be found at the support page 
> (https://www.qgis.org/en/site/forusers/support.html). For any specific 
> need, you might contact one of the numerous companies offering 
> commercial support 
> (https://www.qgis.org/en/site/forusers/commercial_support.html#qgis-commercial-support).?
>
> Maybe this same text could be add to the section ?What is your benefit 
> supporting the QGIS Development?? for the Sustaining Membership Program.
>
> *Jean-Fran?ois Bourdon, ing.f.*
>
> *Analyste en t?l?d?tection*
> *Direction des inventaires forestiers*
> *Minist?re des Ressources naturelles et des For?ts*
> 5700, 4^e Avenue Ouest, local A-108
> Qu?bec (Qu?bec) G1H 6R1
> T?l?phone : 418 627-8669, poste 704304
> *_jean-francois.bourdon at mrnf.gouv.qc.ca_*
> *mrnf.gouv.qc.ca* <http://www.mrnf.gouv.qc.ca/>
>
> *De?:*QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> *De la 
> part de* Emma Hain via QGIS-Developer
> *Envoy??:* 20 septembre 2023 20:57
> *??:* Nick Bearman <nick at geospatialtrainingsolutions.co.uk>
> *Cc?:* qgis-developer at lists.osgeo.org
> *Objet?:* Re: [QGIS-Developer] Download troubles? Download in the 
> background?
>
> I think this looks good Nick, could we also put in a link to the QGIS 
> hub page and to where our links to the users groups are so that sorta 
> provides some 'support'.
>
> Sorta off topic:
>
> I recently got contacted by someone letting me know they donated so 
> they could get support - they thought I was the help desk for 
> QGIS...Maybe this is an indication of some UX/UI is required to send 
> people to our support pages???
>
> Cheers
>
> Em
>
> On Thu, 21 Sept 2023 at 01:07, Nick Bearman via QGIS-Developer 
> <qgis-developer at lists.osgeo.org> wrote:
>
>     Thanks for highlighting this Andreas.
>
>     If I might suggest a tweak to the popup layout:
>
>     Thank you!
>
>     Your freshly baked copy of QGIS is downloading. (Make this line
>     bold and add a paragraph before the next bit)
>
>     QGIS is free of charge, and will always be free of charge if
>     downloaded from QGIS.org. (and another break here)
>
>     If you can afford to support the project and people making this
>     software, please consider making a small donation to support our
>     efforts. Whether you choose to donate or not, we hope that you
>     enjoy using our labour of love and encourage you to share and
>     spread your downloaded copy far and wide so that others may enjoy
>     it too. Our very best regards!
>
>     The QGIS Team
>
>     This might make it a bit more obvious. What do you think?
>
>     (I will leave those who are more technical than me to discuss
>     download speed issues).
>
>     Best wishes,
>     Nick.
>
>     On 9/20/23 08:19, Johannes Kr?ger (WhereGroup) via QGIS-Developer
>     wrote:
>
>         Hi Andreas,
>
>         ouch!
>
>         Javascript is not required for the download. If it is
>         disabled, all OS options are expanded and the big green
>         buttons directly point to the files anyways. The "donate"
>         popup is only triggered in addition to the normal link click
>         (if javascript is enabled).
>
>         If the users really just not realise that a download has
>         started, maybe making the text that says that QGIS is being
>         downloaded bold on the "donate" popup might help? The popup
>         might just be too intrusive and distracting even.
>
>         Some sites use images to point their users towards the
>         browser's download manager, maybe there is a freely available
>         library that does this for all kinds of browsers and screens?
>
>         Downloads are often painfully slow though and might even time
>         out in bad cases I guess. Having some more/faster download
>         mirrors might help. The osgeo.org <http://osgeo.org/> mirror
>         is often unusable (I think it is that mirror that most often
>         causes issues, norbit.de <http://norbit.de/> usually seems
>         fine for me - from Germany though...). Here is one story of a
>         user in South Korea:
>         https://fosstodon.org/@ianthetechie/110943928875054838
>
>         Maybe users see super slow or failing downloads and think that
>         it is a matter of donation.
>
>         I am aware of download.osgeo.org <http://download.osgeo.org/>
>         and norbit.de <http://norbit.de/> mirrors, are there more? It
>         would probably be a good idea to have one in Asia and maybe
>         one in Africa, depending on the routing. At least for Asia OVH
>         has cheap offers that might just be good enough.
>
>         PS, if a CDN (probably overkill) would be considered: I am
>         strongly against using Cloudflare as they are a global
>         surveillance opportunity for the US and we would all be stupid
>         not to assume that any traffic going through them is logged by
>         three letter agencies. We should not participate in that kind
>         of centralisation. There are alternatives like
>         https://european-alternatives.eu/alternative-to/cloudflare . I
>         would happily research a good choice.
>
>         Could you try to find out more details about why they get so
>         confused?
>
>         Cheers, Hannes
>
>         Am 20.09.23 um 08:50 schrieb Andreas Neumann via QGIS-Developer:
>
>             Hi all,
>
>             Recently (past 1-4 months) I get a lot of emails at
>             finance at qgis.org from people who say that they donated but
>             then could not download QGIS. I think I got at least 40-50
>             such emails until now.
>
>             Sometimes they ask: how many times do I have to donate
>             until I can download QGIS?
>
>             I then explain them that donations are optional, often
>             direct them to the direct download page - and I tell them
>             that downloads may take longer.
>
>             I believe that many users aren't aware that QGIS is
>             downloading "in the background". Because the QGIS
>             downloads are rather large this can take several minutes ...
>
>             Or may there be other problems with downloads? Does it
>             require Javascript to be enabled?
>
>             I wonder if we can display some hint that QGIS is
>             downloaded "in the background" and can take a while to
>             download ....
>
>             I believe this is because many users don't know how their
>             browsers work with the downloads of large files ...
>
>             Is there anything we can do to inform users and enhance
>             the download experience - so that I don't get that many
>             emails?
>
>             Thank you for your replies,
>
>             Andreas
>
>
>             --
>             Andreas Neumann
>
>             QGIS.ORG <http://qgis.org/> board member (treasurer)
>
>             _______________________________________________
>
>             QGIS-Developer mailing list
>
>             QGIS-Developer at lists.osgeo.org
>
>             List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>             Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>         -- 
>
>         Johannes Kr?ger / GIS-Entwickler/-Berater
>
>         ---------------------------------------------
>
>         Aufwind durch Wissen!
>
>         Web-Seminare und Online-Schulungen
>
>         bei derwww.foss-academy.com  <http://www.foss-academy.com/>
>
>         ---------------------------------------------
>
>         WhereGroup GmbH
>
>         c/o KK03 GmbH
>
>         Lange Reihe 29
>
>         20099 Hamburg
>
>         Germany
>
>         Tel: +49 (0)228 / 90 90 38 - 36
>
>         Fax: +49 (0)228 / 90 90 38 - 11
>
>         johannes.kroeger at wheregroup.com
>
>         www.wheregroup.com  <http://www.wheregroup.com/>
>
>         Gesch?ftsf?hrer:
>
>         Olaf Knopp, Peter Stamm
>
>         Amtsgericht Bonn, HRB 9885
>
>         -------------------------------
>
>         _______________________________________________
>
>         QGIS-Developer mailing list
>
>         QGIS-Developer at lists.osgeo.org
>
>         List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>         Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>     -- 
>
>     Nick Bearman
>
>     +44 (0) 7717745715
>
>     nick at geospatialtrainingsolutions.co.uk
>
>     Due to my own life/work balance, you may get emails from me outside of normal working hours. Please do not feel any pressure to respond outside of your own working pattern.
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> -- 
>
> Emma Hain ? Product Manager/Senior GIS Analyst
> emma at north-road.com <mailto:emma at north-road.com> / 0414 512 782
>
> 	
>
> *North Road*
> Cartography???Development???Spatial Analysis
>
> ------------------------------------------------------------------------
>
> *north-road.com* <http://north-road.com/>
> <https://twitter.com/northroadgeo><https://www.linkedin.com/company/north-road-studios><https://www.facebook.com/North-Road-997236690392419/home>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Nick Bearman
+44 (0) 7717745715
nick at geospatialtrainingsolutions.co.uk

Due to my own life/work balance, you may get emails from me outside of normal working hours. Please do not feel any pressure to respond outside of your own working pattern.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231002/e7b67d1e/attachment-0001.htm>

From nyall.dawson at gmail.com  Mon Oct  2 17:39:12 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 3 Oct 2023 10:39:12 +1000
Subject: [QGIS-Developer] Next QGIS LTR and its compatibility with older
 versions
In-Reply-To: <f55b7af45def60811e76766803d61258@carto.net>
References: <ZR0P278MB025009EC1C04AD74DD566BEA8FC5A@ZR0P278MB0250.CHEP278.PROD.OUTLOOK.COM>
 <f55b7af45def60811e76766803d61258@carto.net>
Message-ID: <CAB28Asi0GmkxSQ9UX+NvaedtY5KjYfsZCAayUMq-mEWrhoP9Ew@mail.gmail.com>

On Tue, 3 Oct 2023 at 00:16, Andreas Neumann via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:

> About your second question: don't nail me down on this but all 3.x versions should open with the newest 3.x version - it should be even possible to open version 2 files with the latest 3.x version.

It's definite! If you run into issues opening a project made in an
older 3.x version in a newer QGIS version, then it's a bug which must
be fixed!

Nyall


>
> Greetings,
>
> Andreas
>
> On 2023-10-02 15:57, Raffael Meier via QGIS-Developer wrote:
>
> Hello
>
>
>
> I would like to know if this is correct, that the next long term release of a stable QGIS version (3.34.0) will be at the end of October 2023?
>
> If this is correct I would like to know if I worked with an older version and I want to continue working on this project with the upcoming LTR what ist he oldest QGIS version files that
>
> I can still use with the new LTR (3.34.0).
>
>
>
> Best regards,
>
> Raffael
>
>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Mon Oct  2 17:40:51 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 3 Oct 2023 10:40:51 +1000
Subject: [QGIS-Developer] Next QGIS LTR and its compatibility with older
 versions
In-Reply-To: <rmi8r8lccby.fsf@s1.lexort.com>
References: <ZR0P278MB025009EC1C04AD74DD566BEA8FC5A@ZR0P278MB0250.CHEP278.PROD.OUTLOOK.COM>
 <f55b7af45def60811e76766803d61258@carto.net> <rmi8r8lccby.fsf@s1.lexort.com>
Message-ID: <CAB28AsjM7fEmLcHKqOtCFQHD5opFGfibzBqDZkYfMoMy+7C0_g@mail.gmail.com>

On Tue, 3 Oct 2023 at 00:45, Greg Troxel via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> Andreas Neumann via QGIS-Developer <qgis-developer at lists.osgeo.org>
> writes:

>
> My impression is also that 3.30, 3.32 are stable and entirely usable for
> users.

Small clarification here: the 3.x.0 releases AREN'T considered stable,
you should wait for 3.x.1 before targeting the newer release.

Nyall

From Luke.A.Catania at erdc.dren.mil  Mon Oct  2 15:47:58 2023
From: Luke.A.Catania at erdc.dren.mil (Catania, Luke A ERDC-RDE-GRL-VA CIV)
Date: Mon, 2 Oct 2023 22:47:58 +0000
Subject: [QGIS-Developer] Loading DXF in QGIS?
Message-ID: <451a2c04fca84d44980ad3867195859c@erdc.dren.mil>

I have a DXF in both AC1027 and AC1032 format.  Original file was a DWG.  I converted to DXF using ODA File Converter.  I am trying to load in QGIS and dragging and dropping or using the Data Source Manager results in a layer with the name "entities appended to it and nothing shows up.  When looking at the properties there is not much there. The layer type is a dataset.  I am trying to display all the lines of the dxf.

[cid:image001.png at 01D9F560.C7213C90]

[cid:image004.png at 01D9F560.F598D600]

[cid:image003.png at 01D9F560.C7213C90]

Now I can use the Project/Import/Export/Import Layers from DWG/DXF to import, but I am looking to do this programmatically in python and I am using ezdxf to assist.

Ideas?





-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231002/50adfb68/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 6904 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231002/50adfb68/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 47885 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231002/50adfb68/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 62713 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231002/50adfb68/attachment-0005.png>

From gdt at lexort.com  Tue Oct  3 05:41:43 2023
From: gdt at lexort.com (Greg Troxel)
Date: Tue, 03 Oct 2023 08:41:43 -0400
Subject: [QGIS-Developer] Next QGIS LTR and its compatibility with older
 versions
In-Reply-To: <CAB28AsjM7fEmLcHKqOtCFQHD5opFGfibzBqDZkYfMoMy+7C0_g@mail.gmail.com>
 (Nyall Dawson's message of "Tue, 3 Oct 2023 10:40:51 +1000")
References: <ZR0P278MB025009EC1C04AD74DD566BEA8FC5A@ZR0P278MB0250.CHEP278.PROD.OUTLOOK.COM>
 <f55b7af45def60811e76766803d61258@carto.net>
 <rmi8r8lccby.fsf@s1.lexort.com>
 <CAB28AsjM7fEmLcHKqOtCFQHD5opFGfibzBqDZkYfMoMy+7C0_g@mail.gmail.com>
Message-ID: <rmibkdfaneg.fsf@s1.lexort.com>

Nyall Dawson <nyall.dawson at gmail.com> writes:

>> My impression is also that 3.30, 3.32 are stable and entirely usable for
>> users.
>
> Small clarification here: the 3.x.0 releases AREN'T considered stable,
> you should wait for 3.x.1 before targeting the newer release.

Thanks; I had figured that out over the years, but great to say it
again.

This ".0" isn't considered stable, while reasonable, is pretty unusual.
Perhaps the only other example is gcc.  It might be a clue that beta/rc
don't get used, and you need a release to get feedback -- having
maintained other projects, I get that.

It would be good for all .0 releases to carry a Big Scary Warning, and
to specifically request that packages not be updated to them.  Maybe you
are already doing that; I am hazy on when and where I see release
announcements -- I am assuming there is email to the users list.

(My bias is that qgis the project releases sources and packaging systems
package and provide binaries, and that qgis the project doing binaries
is remedial because the (mostly windows) packaging world is not working
well.  Hence source announcements being the standard path and the most
important thing.)

(A packaging system might have packages for each branch, in which case a
.0 package is fine.  But a packaging system with one package should not
update.)

From paolo.tormene at globalquakemodel.org  Tue Oct  3 08:07:41 2023
From: paolo.tormene at globalquakemodel.org (Paolo Tormene)
Date: Tue, 3 Oct 2023 17:07:41 +0200
Subject: [QGIS-Developer] SpatialJoinSummary
Message-ID: <CADQ4pmBsVz2_t0Qnfu=J63_YXxXqpr4n4BFWqJfWCycc226qjQ@mail.gmail.com>

Hello. I noticed that the processing algorithm
https://github.com/qgis/QGIS/blob/release-3_32/python/plugins/processing/algs/qgis/SpatialJoinSummary.py
is not present in master (see
https://github.com/qgis/QGIS/blob/master/python/plugins/processing/algs/qgis/SpatialJoinSummary.py).
Was it intentionally removed? If so, was it replaced by anything similar?
Thank you in advance,
Paolo

-- 

*PAOLO TORMENE* senior software developer +39 0382 5169882

*GLOBAL EARTHQUAKE MODEL * working together to assess risk

*GEM -* globalquakemodel.org <http://www.globalquakemodel.org> *T -*
@GEMwrld <http://twitter.com/GEMwrld> *F -* GEMwrld
<http://www.facebook.com/GEMwrld>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/b6f21e16/attachment.htm>

From delazj at gmail.com  Tue Oct  3 08:15:34 2023
From: delazj at gmail.com (DelazJ)
Date: Tue, 3 Oct 2023 17:15:34 +0200
Subject: [QGIS-Developer] SpatialJoinSummary
In-Reply-To: <CADQ4pmBsVz2_t0Qnfu=J63_YXxXqpr4n4BFWqJfWCycc226qjQ@mail.gmail.com>
References: <CADQ4pmBsVz2_t0Qnfu=J63_YXxXqpr4n4BFWqJfWCycc226qjQ@mail.gmail.com>
Message-ID: <CAECJsSre-Qn++VmyHfg5OM8jomo8mNmKrhbM2AQx+JV+HE8Zog@mail.gmail.com>

Hi Paolo
It was ported to c++: https://github.com/qgis/QGIS/pull/54783

Regards,
Harrissou

Le mar. 3 oct. 2023 ? 17:08, Paolo Tormene via QGIS-Developer <
qgis-developer at lists.osgeo.org> a ?crit :

> Hello. I noticed that the processing algorithm
> https://github.com/qgis/QGIS/blob/release-3_32/python/plugins/processing/algs/qgis/SpatialJoinSummary.py
> is not present in master (see
> https://github.com/qgis/QGIS/blob/master/python/plugins/processing/algs/qgis/SpatialJoinSummary.py).
> Was it intentionally removed? If so, was it replaced by anything similar?
> Thank you in advance,
> Paolo
>
> --
>
> *PAOLO TORMENE* senior software developer +39 0382 5169882
>
> *GLOBAL EARTHQUAKE MODEL * working together to assess risk
>
> *GEM -* globalquakemodel.org <http://www.globalquakemodel.org> *T -*
> @GEMwrld <http://twitter.com/GEMwrld> *F -* GEMwrld
> <http://www.facebook.com/GEMwrld>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/b7a219ef/attachment.htm>

From anitagraser at gmx.at  Tue Oct  3 09:15:12 2023
From: anitagraser at gmx.at (Anita Graser)
Date: Tue, 03 Oct 2023 16:15:12 +0000
Subject: [QGIS-Developer] Contributor meeting at BIDS23 Vienna
Message-ID: <1696349592672.1778667875.118918207@gmx.at>

Hi,

This is a friendly reminder that we will have the 26th Contributor Meeting
in Vienna next month:

https://blog.qgis.org/2023/07/26/qgis-contributor-meeting-at-bids-23-vienna/


Please check out the blog post for details and sign up. We're looking
forward to seeing you there.

Regards,
Anita

--
Anita Graser
Home: http://anitagraser.com
Mastodon: @underdarkgis at fosstodon.org

From selma at kartoza.com  Tue Oct  3 09:40:00 2023
From: selma at kartoza.com (Selma Vidimlic)
Date: Tue, 3 Oct 2023 18:40:00 +0200
Subject: [QGIS-Developer] Download troubles? Download in the background?
In-Reply-To: <bcdfc0b8-ae58-9ac3-42d2-990eb5856048@geospatialtrainingsolutions.co.uk>
References: <CAB2Z92D73adhy=VLffqb4r0RNP4zJFWy1HD6T03Q9Zjnv3woRg@mail.gmail.com>
 <92bf0e75-e320-8823-7793-4de8058a015a@wheregroup.com>
 <9a0c1635-dcac-46a1-8cda-f636571e33fa@geospatialtrainingsolutions.co.uk>
 <CACGKw0b-B5aceq2PsJpQq-1qGPp2kNeqED=3Y+=ZxMHQ+bSqCg@mail.gmail.com>
 <QB1PR01MB2948AB3818E29C5AE339901FB9F8A@QB1PR01MB2948.CANPRD01.PROD.OUTLOOK.COM>
 <bcdfc0b8-ae58-9ac3-42d2-990eb5856048@geospatialtrainingsolutions.co.uk>
Message-ID: <CALarpe5inNGcGRYDde3wkWxjzs-hWWGGLjBXYZ4HdbQJxYL3qA@mail.gmail.com>

Hello,

In my opinion, the recent improvements made to the download page appear to
be quite user-friendly and I don't have anything to add on that.

Now moving on to the support page
<https://www.qgis.org/en/site/forusers/support.html>, it would be helpful
to begin with a friendly introduction to clarify the nature of support
within QGIS.org. In my opinion, it's important to emphasize that QGIS.org,
as a part of the open-source ethos, primarily relies on community
collaboration and does not offer direct, individualized support. Instead,
we encourage users to actively engage with our community through mailing
lists and communication channels...

So, my suggestion for the text would be:

"Welcome to our support page! At QGIS.org, we're all about fostering a
collaborative and supportive community for our users. While we don't offer
direct, one-on-one support ourselves, we've created a space where you can
connect with others who share your passion for QGIS.

We've set up mailing lists and various communication channels where you can
engage with fellow users and our dedicated developers. However, we
understand that there may be times when you require personalized assistance
or wish to explore more comprehensive support options. For such cases, you
can contact one of the support providers offering commercial support
<https://www.qgis.org/en/site/forusers/commercial_support.html#>."

I believe clarification of QGIS.org support will reduce questions about
donations and expected support...

Regarding the donation page, the description provided by Jean-Fran?ois
Bourdon seems clear and effective.

Greetings,

Selma.

On Mon, 2 Oct 2023 at 17:44, Nick Bearman <
nick at geospatialtrainingsolutions.co.uk> wrote:

> Thanks everyone, and thanks Harrissou for making those changes.
>
> In terms of how we explain support, perhaps Selma might have some thoughts
> (with her work on documentation).
>
> Selma - see thread below, but briefly some people are getting very poor
> download speeds. They are then donating and asking 'why are the download
> speeds slow even though I have donated?'. There are various things to
> unpack here, but would be really interested in your thoughts on the changes
> to the text we have made on the download page and what we are proposing on
> the 'donate' page.
>
> Feel free to email if you have questions and/or contact me off list.
>
> Best wishes,
> Nick.
> On 21/09/2023 2:18 pm, Bourdon, Jean-Fran?ois (DIF) via QGIS-Developer
> wrote:
>
> [image: Intranet logo]
>
> To continue on the topic of donation and support, although I find it
> strange that someone doing a donation is expecting at the same time to
> receive special support (donation != license), maybe a precision should be
> made on the donation page (https://donate.qgis.org/) like:
>
>
>
> ?Please note that making a donation doesn?t grant any additional support
> than what can be found at the support page (
> https://www.qgis.org/en/site/forusers/support.html). For any specific
> need, you might contact one of the numerous companies offering commercial
> support (
> https://www.qgis.org/en/site/forusers/commercial_support.html#qgis-commercial-support)
> .?
>
>
>
> Maybe this same text could be add to the section ?What is your benefit
> supporting the QGIS Development?? for the Sustaining Membership Program.
>
>
>
>
>
>
>
> *Jean-Fran?ois Bourdon, ing.f.*
>
> *Analyste en t?l?d?tection*
> *Direction des inventaires forestiers*
> *Minist?re des Ressources naturelles et des For?ts*
> 5700, 4e Avenue Ouest, local A-108
> Qu?bec (Qu?bec) G1H 6R1
> T?l?phone : 418 627-8669, poste 704304
> *jean-francois.bourdon at mrnf.gouv.qc.ca
> <jean-francois.bourdon at mrnf.gouv.qc.ca>*
> *mrnf.gouv.qc.ca* <http://www.mrnf.gouv.qc.ca/>
>
>
>
> *De :* QGIS-Developer <qgis-developer-bounces at lists.osgeo.org>
> <qgis-developer-bounces at lists.osgeo.org> *De la part de* Emma Hain via
> QGIS-Developer
> *Envoy? :* 20 septembre 2023 20:57
> *? :* Nick Bearman <nick at geospatialtrainingsolutions.co.uk>
> <nick at geospatialtrainingsolutions.co.uk>
> *Cc :* qgis-developer at lists.osgeo.org
> *Objet :* Re: [QGIS-Developer] Download troubles? Download in the
> background?
>
>
>
> I think this looks good Nick, could we also put in a link to the QGIS hub
> page and to where our links to the users groups are so that sorta provides
> some 'support'.
>
> Sorta off topic:
>
> I recently got contacted by someone letting me know they donated so they
> could get support - they thought I was the help desk for QGIS...Maybe this
> is an indication of some UX/UI is required to send people to our support
> pages???
>
>
>
> Cheers
>
> Em
>
>
>
> On Thu, 21 Sept 2023 at 01:07, Nick Bearman via QGIS-Developer <
> qgis-developer at lists.osgeo.org> wrote:
>
> Thanks for highlighting this Andreas.
>
> If I might suggest a tweak to the popup layout:
>
> Thank you!
>
> Your freshly baked copy of QGIS is downloading. (Make this line bold and
> add a paragraph before the next bit)
>
> QGIS is free of charge, and will always be free of charge if downloaded
> from QGIS.org. (and another break here)
>
> If you can afford to support the project and people making this software,
> please consider making a small donation to support our efforts. Whether you
> choose to donate or not, we hope that you enjoy using our labour of love
> and encourage you to share and spread your downloaded copy far and wide so
> that others may enjoy it too. Our very best regards!
>
> The QGIS Team
>
> This might make it a bit more obvious. What do you think?
>
> (I will leave those who are more technical than me to discuss download
> speed issues).
>
> Best wishes,
> Nick.
>
> On 9/20/23 08:19, Johannes Kr?ger (WhereGroup) via QGIS-Developer wrote:
>
> Hi Andreas,
>
> ouch!
>
> Javascript is not required for the download. If it is disabled, all OS
> options are expanded and the big green buttons directly point to the files
> anyways. The "donate" popup is only triggered in addition to the normal
> link click (if javascript is enabled).
>
> If the users really just not realise that a download has started, maybe
> making the text that says that QGIS is being downloaded bold on the
> "donate" popup might help? The popup might just be too intrusive and
> distracting even.
>
> Some sites use images to point their users towards the browser's download
> manager, maybe there is a freely available library that does this for all
> kinds of browsers and screens?
>
> Downloads are often painfully slow though and might even time out in bad
> cases I guess. Having some more/faster download mirrors might help. The
> osgeo.org mirror is often unusable (I think it is that mirror that most
> often causes issues, norbit.de usually seems fine for me - from Germany
> though...). Here is one story of a user in South Korea:
> https://fosstodon.org/@ianthetechie/110943928875054838
>
> Maybe users see super slow or failing downloads and think that it is a
> matter of donation.
>
> I am aware of download.osgeo.org and norbit.de mirrors, are there more?
> It would probably be a good idea to have one in Asia and maybe one in
> Africa, depending on the routing. At least for Asia OVH has cheap offers
> that might just be good enough.
>
> PS, if a CDN (probably overkill) would be considered: I am strongly
> against using Cloudflare as they are a global surveillance opportunity for
> the US and we would all be stupid not to assume that any traffic going
> through them is logged by three letter agencies. We should not participate
> in that kind of centralisation. There are alternatives like
> https://european-alternatives.eu/alternative-to/cloudflare . I would
> happily research a good choice.
>
>
>
> Could you try to find out more details about why they get so confused?
>
> Cheers, Hannes
>
>
>
> Am 20.09.23 um 08:50 schrieb Andreas Neumann via QGIS-Developer:
>
> Hi all,
>
>
>
> Recently (past 1-4 months) I get a lot of emails at finance at qgis.org from
> people who say that they donated but then could not download QGIS. I think
> I got at least 40-50 such emails until now.
>
>
>
> Sometimes they ask: how many times do I have to donate until I can
> download QGIS?
>
>
>
> I then explain them that donations are optional, often direct them to the
> direct download page - and I tell them that downloads may take longer.
>
>
>
> I believe that many users aren't aware that QGIS is downloading "in the
> background". Because the QGIS downloads are rather large this can take
> several minutes ...
>
> Or may there be other problems with downloads? Does it require Javascript
> to be enabled?
>
>
>
> I wonder if we can display some hint that QGIS is downloaded "in the
> background" and can take a while to download ....
>
>
>
> I believe this is because many users don't know how their browsers work
> with the downloads of large files ...
>
>
>
> Is there anything we can do to inform users and enhance the download
> experience - so that I don't get that many emails?
>
>
>
> Thank you for your replies,
>
> Andreas
>
>
> --
> Andreas Neumann
>
> QGIS.ORG <http://qgis.org/> board member (treasurer)
>
>
>
> _______________________________________________
>
> QGIS-Developer mailing list
>
> QGIS-Developer at lists.osgeo.org
>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
>
> Johannes Kr?ger / GIS-Entwickler/-Berater
>
>
>
> ---------------------------------------------
>
> Aufwind durch Wissen!
>
> Web-Seminare und Online-Schulungen
>
> bei der www.foss-academy.com
>
> ---------------------------------------------
>
>
>
> WhereGroup GmbH
>
> c/o KK03 GmbH
>
> Lange Reihe 29
>
> 20099 Hamburg
>
> Germany
>
>
>
> Tel: +49 (0)228 / 90 90 38 - 36
>
> Fax: +49 (0)228 / 90 90 38 - 11
>
>
>
> johannes.kroeger at wheregroup.com
>
> www.wheregroup.com
>
> Gesch?ftsf?hrer:
>
> Olaf Knopp, Peter Stamm
>
> Amtsgericht Bonn, HRB 9885
>
> -------------------------------
>
>
>
> _______________________________________________
>
> QGIS-Developer mailing list
>
> QGIS-Developer at lists.osgeo.org
>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
>
> Nick Bearman
>
> +44 (0) 7717745715
>
> nick at geospatialtrainingsolutions.co.uk
>
>
>
> Due to my own life/work balance, you may get emails from me outside of normal working hours. Please do not feel any pressure to respond outside of your own working pattern.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
>
> Emma Hain ? Product Manager/Senior GIS Analyst
> emma at north-road.com / 0414 512 782
>
> *North Road*
> Cartography ? Development ? Spatial Analysis
> ------------------------------
>
> *north-road.com* <http://north-road.com/>
> <https://twitter.com/northroadgeo>
> <https://www.linkedin.com/company/north-road-studios>
> <https://www.facebook.com/North-Road-997236690392419/home>
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
> Nick Bearman
> +44 (0) 7717745715nick at geospatialtrainingsolutions.co.uk
>
> Due to my own life/work balance, you may get emails from me outside of normal working hours. Please do not feel any pressure to respond outside of your own working pattern.
>
>

-- 
Selma Vidimlic Husic
QGIS Documentation Writer
Visit http://kartoza.com to find out about open source:
* Desktop GIS programming services
* Geospatial web development
* GIS Training
* Consulting Services
Phone: +387 61 933 651
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/2b434a81/attachment-0001.htm>

From stefan.giese at wheregroup.com  Mon Oct  2 23:59:19 2023
From: stefan.giese at wheregroup.com (Stefan Giese (WhereGroup))
Date: Tue, 3 Oct 2023 08:59:19 +0200
Subject: [QGIS-Developer] Loading DXF in QGIS?
In-Reply-To: <451a2c04fca84d44980ad3867195859c@erdc.dren.mil>
References: <451a2c04fca84d44980ad3867195859c@erdc.dren.mil>
Message-ID: <14d8a5c8-bae7-4201-87eb-e05126becbfe@wheregroup.com>

Hi,

with ezdxf you can do the job. The following snippet shows how it works:

/......
/

/#Reading the dxf and get the modelspace
 ??? dwg = ezdxf.readfile(filepath)
 ??? msp = dwg.modelspace()

 ??? #loop through all Polylines of the DXF
 ??? polylines = msp.query('POLYLINE')
 ??? for polyline in polylines:/

/?? ? ? # for example converts a dxf Polyline to a QgsGeometry (Polygon)
 ?? ? ? points = []
 ?? ? ? for i, location in enumerate(polyline.points()):
 ?????????? points.append(QgsPointXY(location[0],location[1]))
 ?? ?? polygon = QgsGeometry.fromPolygonXY([points])/

/.....
/

hope this will be a starting point for you...

Mit freundlichen Gr??en
Stefan Giese
Projektleiter/Consultant
---------------------------------------------
Aufwind durch Wissen!
Web-Seminare und Online-Schulungen
bei derwww.foss-academy.com
---------------------------------------------
WhereGroup GmbH
Schwimmbadstr. 2
79100 Freiburg
Germany

Tel.: +49 (0)761 / 519 102 - 61
Fax: +49 (0)761 / 519 102 - 11

stefan.giese at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885

Am 03.10.2023 um 00:47 schrieb Catania, Luke A ERDC-RDE-GRL-VA CIV via 
QGIS-Developer:
>
> I have a DXF in both AC1027 and AC1032 format.? Original file was a 
> DWG.? I converted to DXF using ODA File Converter.? I am trying to 
> load in QGIS and dragging and dropping or using the Data Source 
> Manager results in a layer with the name ?entities appended to it and 
> nothing shows up.? When looking at the properties there is not much 
> there. The layer type is a dataset.? I am trying to display all the 
> lines of the dxf.
>
> Now I can use the Project/Import/Export/Import Layers from DWG/DXF to 
> import, but I am looking to do this programmatically in python and I 
> am using ezdxf to assist.
>
> Ideas?
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/bf4ee5e4/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 6904 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/bf4ee5e4/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 62713 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/bf4ee5e4/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 47885 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/bf4ee5e4/attachment-0005.png>

From Luke.A.Catania at erdc.dren.mil  Tue Oct  3 13:29:52 2023
From: Luke.A.Catania at erdc.dren.mil (Catania, Luke A ERDC-RDE-GRL-VA CIV)
Date: Tue, 3 Oct 2023 20:29:52 +0000
Subject: [QGIS-Developer] Loading DXF in QGIS?
In-Reply-To: <14d8a5c8-bae7-4201-87eb-e05126becbfe@wheregroup.com>
References: <451a2c04fca84d44980ad3867195859c@erdc.dren.mil>
 <14d8a5c8-bae7-4201-87eb-e05126becbfe@wheregroup.com>
Message-ID: <c249e4f738e94885be118aa55d6c93f8@erdc.dren.mil>

Assume though the shown variable dwg I am really reading a dxf since readfile did not work on my DWG.  I converted it to DXF using ODA file converter.

I tried it with my dxf but it never went through the loop, so it did not find POLYLINES.  When I bring the dxf  in using QGIS?s Project/Import/Export/Import Layers from DWG/DXF, I see it shows several named layers, but I tried searching on the ones that showed up in the QGIS layer panel  of these and nothing was found.

[cid:image004.png at 01D9F616.D36F2410]

[cid:image005.png at 01D9F616.D36F2410]

From: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> On Behalf Of Stefan Giese (WhereGroup) via QGIS-Developer
Sent: Tuesday, October 3, 2023 2:59 AM
To: qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] Loading DXF in QGIS?


Hi,

with ezdxf you can do the job. The following snippet shows how it works:

......

#Reading the dxf and get the modelspace
    dwg = ezdxf.readfile(filepath)
    msp = dwg.modelspace()

    #loop through all Polylines of the DXF
    polylines = msp.query('POLYLINE')
    for polyline in polylines:

       # for example converts a dxf Polyline to a QgsGeometry (Polygon)
       points = []
       for i, location in enumerate(polyline.points()):
           points.append(QgsPointXY(location[0],location[1]))
      polygon = QgsGeometry.fromPolygonXY([points])

.....

hope this will be a starting point for you...

Mit freundlichen Gr??en

Stefan Giese

Projektleiter/Consultant

---------------------------------------------

Aufwind durch Wissen!

Web-Seminare und Online-Schulungen

bei der Blockedwww.foss-academy.comBlocked<Blockedhttp://www.foss-academy.comBlocked>

---------------------------------------------

WhereGroup GmbH

Schwimmbadstr. 2

79100 Freiburg

Germany



Tel.: +49 (0)761 / 519 102 - 61

Fax: +49 (0)761 / 519 102 - 11



stefan.giese at wheregroup.com<mailto:stefan.giese at wheregroup.com>

Blockedwww.wheregroup.comBlocked<Blockedhttp://www.wheregroup.comBlocked>

Gesch?ftsf?hrer:

Olaf Knopp, Peter Stamm

Amtsgericht Bonn, HRB 9885
Am 03.10.2023 um 00:47 schrieb Catania, Luke A ERDC-RDE-GRL-VA CIV via QGIS-Developer:
I have a DXF in both AC1027 and AC1032 format.  Original file was a DWG.  I converted to DXF using ODA File Converter.  I am trying to load in QGIS and dragging and dropping or using the Data Source Manager results in a layer with the name ?entities appended to it and nothing shows up.  When looking at the properties there is not much there. The layer type is a dataset.  I am trying to display all the lines of the dxf.

[cid:image001.png at 01D9F614.283AA0D0]

[cid:image002.png at 01D9F614.283AA0D0]

[cid:image003.png at 01D9F614.283AA0D0]

Now I can use the Project/Import/Export/Import Layers from DWG/DXF to import, but I am looking to do this programmatically in python and I am using ezdxf to assist.

Ideas?








_______________________________________________

QGIS-Developer mailing list

QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>

List info: Blockedhttps://lists.osgeo.org/mailman/listinfo/qgis-developerBlocked

Unsubscribe: Blockedhttps://lists.osgeo.org/mailman/listinfo/qgis-developerBlocked

--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/52a6c54f/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 6904 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/52a6c54f/attachment-0005.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 62713 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/52a6c54f/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 47885 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/52a6c54f/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 57429 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/52a6c54f/attachment-0008.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.png
Type: image/png
Size: 122154 bytes
Desc: image005.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/52a6c54f/attachment-0009.png>

From Luke.A.Catania at erdc.dren.mil  Tue Oct  3 14:30:22 2023
From: Luke.A.Catania at erdc.dren.mil (Catania, Luke A ERDC-RDE-GRL-VA CIV)
Date: Tue, 3 Oct 2023 21:30:22 +0000
Subject: [QGIS-Developer] Loading DXF in QGIS?
In-Reply-To: <14d8a5c8-bae7-4201-87eb-e05126becbfe@wheregroup.com>
References: <451a2c04fca84d44980ad3867195859c@erdc.dren.mil>
 <14d8a5c8-bae7-4201-87eb-e05126becbfe@wheregroup.com>
Message-ID: <e68b9be8308d4e169cd0ddf4d3daf81a@erdc.dren.mil>

I tried the code but it never went through the loop, since it did not find POLYLINES.  When I bring the dxf  in using QGIS?s Project/Import/Export/Import Layers from DWG/DXF, I see it shows several named layers, but I tried searching on the ones that showed up in the QGIS layer panel  of these and nothing was found.

When those imported there were three groups 0, MP.RSRC.CONDAIR, MP.SL and those respectively have layers polylines, hatches, polylines.  I tried searching on the group names as well as the lower case polylines layer and the query did not return anything.


From: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> On Behalf Of Stefan Giese (WhereGroup) via QGIS-Developer
Sent: Tuesday, October 3, 2023 2:59 AM
To: qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] Loading DXF in QGIS?


Hi,

with ezdxf you can do the job. The following snippet shows how it works:

......

#Reading the dxf and get the modelspace
    dwg = ezdxf.readfile(filepath)
    msp = dwg.modelspace()

    #loop through all Polylines of the DXF
    polylines = msp.query('POLYLINE')
    for polyline in polylines:

       # for example converts a dxf Polyline to a QgsGeometry (Polygon)
       points = []
       for i, location in enumerate(polyline.points()):
           points.append(QgsPointXY(location[0],location[1]))
      polygon = QgsGeometry.fromPolygonXY([points])

.....

hope this will be a starting point for you...

Mit freundlichen Gr??en

Stefan Giese

Projektleiter/Consultant

---------------------------------------------

Aufwind durch Wissen!

Web-Seminare und Online-Schulungen

bei der Blockedwww.foss-academy.comBlocked<Blockedhttp://www.foss-academy.comBlocked>

---------------------------------------------

WhereGroup GmbH

Schwimmbadstr. 2

79100 Freiburg

Germany



Tel.: +49 (0)761 / 519 102 - 61

Fax: +49 (0)761 / 519 102 - 11



stefan.giese at wheregroup.com<mailto:stefan.giese at wheregroup.com>

Blockedwww.wheregroup.comBlocked<Blockedhttp://www.wheregroup.comBlocked>

Gesch?ftsf?hrer:

Olaf Knopp, Peter Stamm

Amtsgericht Bonn, HRB 9885
Am 03.10.2023 um 00:47 schrieb Catania, Luke A ERDC-RDE-GRL-VA CIV via QGIS-Developer:
I have a DXF in both AC1027 and AC1032 format.  Original file was a DWG.  I converted to DXF using ODA File Converter.  I am trying to load in QGIS and dragging and dropping or using the Data Source Manager results in a layer with the name ?entities appended to it and nothing shows up.  When looking at the properties there is not much there. The layer type is a dataset.  I am trying to display all the lines of the dxf.

[cid:image001.png at 01D9F61D.2858E820]

[cid:image002.png at 01D9F61D.2858E820]

[cid:image003.png at 01D9F61D.2858E820]

Now I can use the Project/Import/Export/Import Layers from DWG/DXF to import, but I am looking to do this programmatically in python and I am using ezdxf to assist.

Ideas?








_______________________________________________

QGIS-Developer mailing list

QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>

List info: Blockedhttps://lists.osgeo.org/mailman/listinfo/qgis-developerBlocked

Unsubscribe: Blockedhttps://lists.osgeo.org/mailman/listinfo/qgis-developerBlocked

--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/3e888add/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 6904 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/3e888add/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 62713 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/3e888add/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 47885 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231003/3e888add/attachment-0005.png>

From groechenig at zt-gis.at  Wed Oct  4 01:15:16 2023
From: groechenig at zt-gis.at (=?iso-8859-1?Q?Simon_Gr=F6chenig?=)
Date: Wed, 4 Oct 2023 08:15:16 +0000
Subject: [QGIS-Developer] Reading current measurement with python
In-Reply-To: <mailman.120476.1696255031.32175.qgis-developer@lists.osgeo.org>
References: <mailman.120476.1696255031.32175.qgis-developer@lists.osgeo.org>
Message-ID: <DU0P251MB06730EDD57589F47D32266368ECBA@DU0P251MB0673.EURP251.PROD.OUTLOOK.COM>

Hi Jacky,

thanks for your help and for pointing me to this code snippet.

However, I see that the measurement tools are instances of QgsMapTool with an QAction (and not QgsMapToolDigitizeFeature) and therefore mapTool().pointsZM() is not available.

Now I wonder if I can utilize the QgsRubberBand

Best regards
Simon


------------------------------

Message: 2
Date: Mon, 2 Oct 2023 08:56:58 +0200
From: Jacky Volpes <jacky.volpes at oslandia.com>
To: qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] Reading current measurement with python
Message-ID: <352a9e94-9010-4f39-8738-89323a87a15a at oslandia.com>
Content-Type: text/plain; charset="utf-8"; Format="flowed"

Hi,

You can have a look at this snippet: 
https://lists.osgeo.org/pipermail/qgis-developer/2023-May/065789.html

Regards,

--

Jacky Volpes

Ing?nieur SIG - Oslandia

--

Le 02/10/2023 ? 07:05, Simon Gr?chenig via QGIS-Developer a ?crit?:
>
> Hi list,
>
> is it possible to get the current line/area measurement with Python?
>
> Simon
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231002/ce6f1c41/attachment-0001.htm>


From guillaume.boursinhac at kermap.com  Wed Oct  4 03:32:25 2023
From: guillaume.boursinhac at kermap.com (Guillaume Boursinhac)
Date: Wed, 4 Oct 2023 12:32:25 +0200
Subject: [QGIS-Developer] Mistake on folder name plugin
Message-ID: <CAMa082d9f5VN9ms48-9mOyL+3Sku=BFLzgCHs0OLmYq0J7ryeg@mail.gmail.com>

Hi everyone,

I published a module for Qgis a couple of days ago (plugin [3087] Nimbo
Earth).
It works fine but i made a mistake on the name folder when i uploaded the
zip file. The name of my folder was "assets".
Now, the plugin page url is "https://plugins.qgis.org/plugins/assets/". Not
very understanding...

Is it possible to change this url by "
https://plugins.qgis.org/plugins/nimbo_earth" ?
Of course, when I change the folder name in the zip file and try to
replace it,  I get the error message "Plugin name mismatch".

Does anyone have any clues to resolve this issue ?

Thanks a lot,
best regards,

Guillaume

-- 
Cordialement,

Guillaume Boursinhac

Developpeur

02.30.96.07.66

www.kermap.com

KERMAP - Digital Square

1137a Avenue des Champs Blancs

35510 Cesson-S?vign?, France
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231004/0b4666a2/attachment.htm>

From jacky.volpes at oslandia.com  Fri Oct  6 06:00:09 2023
From: jacky.volpes at oslandia.com (Jacky Volpes)
Date: Fri, 6 Oct 2023 15:00:09 +0200
Subject: [QGIS-Developer] Reading current measurement with python
In-Reply-To: <DU0P251MB06730EDD57589F47D32266368ECBA@DU0P251MB0673.EURP251.PROD.OUTLOOK.COM>
References: <mailman.120476.1696255031.32175.qgis-developer@lists.osgeo.org>
 <DU0P251MB06730EDD57589F47D32266368ECBA@DU0P251MB0673.EURP251.PROD.OUTLOOK.COM>
Message-ID: <f8d3e758-c198-4b0e-991d-7531953bf0b9@oslandia.com>

Hi Simon,

Ok, I understand your question now.

Unfortunately, the measurement tool is not accessible with the python API.

As I don't have the context explaining why you need this, I can propose 
you to find another way for your process, or, if you really need to get 
the measurement value, here is a code snippet that finds the text within 
the measurement dialog (I don't recommend you to use this in a 
production environment though, or you might have unexpected behaviors if 
something changes in the dialog implementation).


measurementDialogs = [d for d in 
iface.mainWindow().findChildren(QDialog, "QgsMeasureBase") if d.isVisible()]
if len(measurementDialogs) == 1:
 ??? measurementDialog = measurementDialogs[0]
 ??? totalTextLineEdit = measurementDialog.findChild(QLineEdit, "editTotal")
 ??? if totalTextLineEdit is not None:
 ??????? print(totalTextLineEdit.text())


Best regards,

Jacky Volpes

Ing?nieur SIG - Oslandia

--

Le 04/10/2023 ? 10:15, Simon Gr?chenig a ?crit?:
> Hi Jacky,
>
> thanks for your help and for pointing me to this code snippet.
>
> However, I see that the measurement tools are instances of QgsMapTool with an QAction (and not QgsMapToolDigitizeFeature) and therefore mapTool().pointsZM() is not available.
>
> Now I wonder if I can utilize the QgsRubberBand
>
> Best regards
> Simon
>
>
> ------------------------------
>
> Message: 2
> Date: Mon, 2 Oct 2023 08:56:58 +0200
> From: Jacky Volpes <jacky.volpes at oslandia.com>
> To: qgis-developer at lists.osgeo.org
> Subject: Re: [QGIS-Developer] Reading current measurement with python
> Message-ID: <352a9e94-9010-4f39-8738-89323a87a15a at oslandia.com>
> Content-Type: text/plain; charset="utf-8"; Format="flowed"
>
> Hi,
>
> You can have a look at this snippet:
> https://lists.osgeo.org/pipermail/qgis-developer/2023-May/065789.html
>
> Regards,
>
> --
>
> Jacky Volpes
>
> Ing?nieur SIG - Oslandia
>
> --
>
> Le 02/10/2023 ? 07:05, Simon Gr?chenig via QGIS-Developer a ?crit?:
>> Hi list,
>>
>> is it possible to get the current line/area measurement with Python?
>>
>> Simon
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231002/ce6f1c41/attachment-0001.htm>
>

From selma at kartoza.com  Fri Oct  6 09:00:56 2023
From: selma at kartoza.com (Selma Vidimlic)
Date: Fri, 6 Oct 2023 18:00:56 +0200
Subject: [QGIS-Developer] QGIS Documentation Writer Report
In-Reply-To: <CALarpe7FQojbCfa+cpv+nh4fMYS1xBrpDQGQ44so1+crQr1DDQ@mail.gmail.com>
References: <CALarpe7FQojbCfa+cpv+nh4fMYS1xBrpDQGQ44so1+crQr1DDQ@mail.gmail.com>
Message-ID: <CALarpe5iZKjqdhuLyjf2o3OGVbA03RfcKJRMVosjRHn2r1D07A@mail.gmail.com>

Hi all,

This week, I dedicated my efforts to gaining a deeper understanding of the
QGIS project and community, as well as exploring ways to enhance our
documentation workflow.
I recognized the need for faster communication among active contributors
within the context of QGIS documentation. To address this, I created a
chatroom on Fluffy Chat (Matrix). If you'd like to join the chatroom,
please add me (@selmaaa:matrix.org), and I will manually invite you. Fluffy
Chat does not allow sending a single invite to all, so this step is
necessary...

Although I did not create new PRs this week, I was actively involved in the
following issue:

   - https://github.com/qgis/QGIS-Documentation/issues/7802

This issue focuses on expression functions, a topic that I had not explored
extensively in QGIS before. I dedicated a significant amount of time to
understand and create visual examples for expression functions.

I was also fixing screenshots for this PR:

   - https://github.com/qgis/QGIS-Documentation/pull/8483

Have a nice weekend,
Selma.


On Fri, 29 Sept 2023 at 19:35, Selma Vidimlic <selma at kartoza.com> wrote:

>   Hi all,
>
> Open pull requests:
>
>    - https://github.com/qgis/QGIS-Documentation/pull/8541
>    - https://github.com/qgis/QGIS-Documentation/pull/8537 (I will
>    continue to work on this one together with Harrissou so it is not ready to
>    be merged yet)
>    - https://github.com/qgis/QGIS-Documentation/pull/8531 (this one also,
>    Harrissou started to update Elevation profile, so we will continue
>    together)
>    - https://github.com/qgis/QGIS-Documentation/pull/8522 (same as
>    previous)
>    - https://github.com/qgis/QGIS-Documentation/pull/8530 (same as
>    previous)
>    - https://github.com/qgis/QGIS-Documentation/pull/8491 ( this one
>    needs feedback from Nyall Dawson or anybody else who is familiar with "Add
>    GIS File" action)
>    - https://github.com/qgis/QGIS-Documentation/pull/8483 (will be done
>    by the end of the weekend)
>
> Merged PRs:
>
>    - https://github.com/qgis/QGIS-Documentation/pull/8507
>
> From this week I will send this report in a single thread so we can all
> follow the progress easier.
>
> Have a nice weekend,
> Selma.
>
>
> --
> Selma Vidimlic Husic
> QGIS Documentation Writer
> Visit http://kartoza.com to find out about open source:
> * Desktop GIS programming services
> * Geospatial web development
> * GIS Training
> * Consulting Services
> Phone: +387 61 933 651
>


-- 
Selma Vidimlic Husic
QGIS Documentation Writer
Visit http://kartoza.com to find out about open source:
* Desktop GIS programming services
* Geospatial web development
* GIS Training
* Consulting Services
Phone: +387 61 933 651
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231006/ba190a15/attachment.htm>

From groechenig at zt-gis.at  Mon Oct  9 00:45:34 2023
From: groechenig at zt-gis.at (=?utf-8?B?U2ltb24gR3LDtmNoZW5pZw==?=)
Date: Mon, 9 Oct 2023 07:45:34 +0000
Subject: [QGIS-Developer] Reading current measurement with python
In-Reply-To: <f8d3e758-c198-4b0e-991d-7531953bf0b9@oslandia.com>
References: <mailman.120476.1696255031.32175.qgis-developer@lists.osgeo.org>
 <DU0P251MB06730EDD57589F47D32266368ECBA@DU0P251MB0673.EURP251.PROD.OUTLOOK.COM>
 <f8d3e758-c198-4b0e-991d-7531953bf0b9@oslandia.com>
Message-ID: <DU0P251MB067381226464536FE195B3F98ECEA@DU0P251MB0673.EURP251.PROD.OUTLOOK.COM>

Hi,

> As I don't have the context explaining why you need this

I try to "save" measurements as annotation or linestring/area layer in order to see measurements in layouts.

Currently, I copy (linear) measurements and use the coordinates from QGuiApplication.clipboard() to draw a temporary linestring. I would like to skip copying the measurements. Also, I would like to "save" area measurements where copy is not supported by the measurement gui.

Any ideas?

Simon


-----Urspr?ngliche Nachricht-----
Von: Jacky Volpes <jacky.volpes at oslandia.com> 
Gesendet: Freitag, 6. Oktober 2023 15:00
An: qgis-developer at lists.osgeo.org
Cc: Simon Gr?chenig <groechenig at zt-gis.at>
Betreff: Re: [QGIS-Developer] Reading current measurement with python

Hi Simon,

Ok, I understand your question now.

Unfortunately, the measurement tool is not accessible with the python API.

As I don't have the context explaining why you need this, I can propose you to find another way for your process, or, if you really need to get the measurement value, here is a code snippet that finds the text within the measurement dialog (I don't recommend you to use this in a production environment though, or you might have unexpected behaviors if something changes in the dialog implementation).


measurementDialogs = [d for d in
iface.mainWindow().findChildren(QDialog, "QgsMeasureBase") if d.isVisible()] if len(measurementDialogs) == 1:
 ??? measurementDialog = measurementDialogs[0]
 ??? totalTextLineEdit = measurementDialog.findChild(QLineEdit, "editTotal")
 ??? if totalTextLineEdit is not None:
 ??????? print(totalTextLineEdit.text())


Best regards,

Jacky Volpes

Ing?nieur SIG - Oslandia

--

Le 04/10/2023 ? 10:15, Simon Gr?chenig a ?crit?:
> Hi Jacky,
>
> thanks for your help and for pointing me to this code snippet.
>
> However, I see that the measurement tools are instances of QgsMapTool with an QAction (and not QgsMapToolDigitizeFeature) and therefore mapTool().pointsZM() is not available.
>
> Now I wonder if I can utilize the QgsRubberBand
>
> Best regards
> Simon
>
>
> ------------------------------
>
> Message: 2
> Date: Mon, 2 Oct 2023 08:56:58 +0200
> From: Jacky Volpes <jacky.volpes at oslandia.com>
> To: qgis-developer at lists.osgeo.org
> Subject: Re: [QGIS-Developer] Reading current measurement with python
> Message-ID: <352a9e94-9010-4f39-8738-89323a87a15a at oslandia.com>
> Content-Type: text/plain; charset="utf-8"; Format="flowed"
>
> Hi,
>
> You can have a look at this snippet:
> https://lists.osgeo.org/pipermail/qgis-developer/2023-May/065789.html
>
> Regards,
>
> --
>
> Jacky Volpes
>
> Ing?nieur SIG - Oslandia
>
> --
>
> Le 02/10/2023 ? 07:05, Simon Gr?chenig via QGIS-Developer a ?crit?:
>> Hi list,
>>
>> is it possible to get the current line/area measurement with Python?
>>
>> Simon
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231002/ce6f1c41/attachment-0001.htm>
>

From andreas at qgis.org  Tue Oct 10 01:04:31 2023
From: andreas at qgis.org (Andreas Neumann)
Date: Tue, 10 Oct 2023 10:04:31 +0200
Subject: [QGIS-Developer] QGIS-CH mini workshop on QGIS installations,
 file locations, profiles, shared resources, etc.
Message-ID: <CAB2Z92AafS_8hSP05GdhCQc5FXkSq3zNCOuLhN_RW-f8aeiKaw@mail.gmail.com>

Dear QGIS developers and contributors,

The Swiss QGIS user group organizes mini workshops and demos for its
members. These meetings are online on Google Meet (guests from other
countries are welcome). Several of the devs and contributors on this list
had instructed such workshops in the past.

One idea that came up is to organize a mini workshop around QGIS
installations (what different options are around, what are the
differences), explanation of the file systems (where are all the binaries
and config files), profiles, shared resources, what is centralized and what
is configure per user, etc.

Thank you for your replies in case you could volunteer to help instruct
such a workshop,
Andreas

--
Andreas Neumann
QGIS.ORG board member (treasurer)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231010/f8d59f6e/attachment.htm>

From johannes.kroeger at wheregroup.com  Tue Oct 10 03:56:59 2023
From: johannes.kroeger at wheregroup.com (=?UTF-8?Q?Johannes_Kr=C3=B6ger_=28WhereGroup=29?=)
Date: Tue, 10 Oct 2023 12:56:59 +0200
Subject: [QGIS-Developer] QGIS 3D and Graphics Card Requirements
In-Reply-To: <CAC2XbFcn57512Cd3ZtVTtf0jVMfOhcqmk09nWedyjL2DgebKaw@mail.gmail.com>
References: <73a9c4f3248d4ff69ec0c6a6d5718240@erdc.dren.mil>
 <CAC2XbFcn57512Cd3ZtVTtf0jVMfOhcqmk09nWedyjL2DgebKaw@mail.gmail.com>
Message-ID: <879b5589-5ebd-4930-ab31-2f1e4e8f8f65@wheregroup.com>

Hi all,

the two ridiculously expensive and high-end graphics cards mentioned by 
Luke sound like complete overkill. Surely reading and preparing the 
geodata for 3D display (from data providers, via storage, on the CPU?) 
would be the bigger performance/usability issue of the 3D views, right? 
I am sure that for reasonable reasons QGIS would choke waaaay earlier 
than what those cards would be capable of. The potential benefit of 
those cards for QGIS 3D definitely is not worth paying *1200-2500?* extra.

Martin/Jean, is there any change that you could provide a more detailed 
specification of the hardware and software requirements for QGIS 3D? It 
comes up again and again and I've just been searching again without 
success. I step up to add it to the QGIS documentation in early November.

Esri provides for example infos on the required OpenGL version and 
extensions on 
https://pro.arcgis.com/en/pro-app/latest/get-started/arcgis-pro-system-requirements.htm

E.g.: What is the minimum amount of GPU RAM necessary? How does it scale 
with more complex 3D scenes and what happens if there is not enough RAM? 
Does it get slow (maybe with a message) or does it crash? Which renderer 
does it use on which platforms (I guess always OpenGL?). Which OpenGL 
version is needed? Which extensions are needed? Could missing extensions 
get logged prominently to the user to avoid the "my 3D canvas is 
white/blank" issue (I guess that is the reason) that often comes up? 
Which features depend on which extensions and what happens if they are 
not available?

All the best, Hannes

Am 21.09.23 um 09:56 schrieb Martin Dobias via QGIS-Developer:
> Hey Luke
>
> Low end graphics cards should work fine as well. If your coworker 
> could not run 3D on his laptop, it could have been some other problem 
> - it would be good to have more details (hardware spec, operating 
> system, in what way things did not work) so that we can fix such 
> issues. For example, my laptop has 2GB of GPU memory and things work 
> just fine. So both of the suggested graphics cards should give you 
> much more power for QGIS 3D than you would normally need.
>
> Cheers
> Martin
>
>
> On Wed, Sep 20, 2023 at 11:20?PM Catania, Luke A ERDC-RDE-GRL-VA CIV 
> via QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:
>
>     Anyone out there working with QGIS 3D?
>
>     I am looking to get a new Dell laptop with i9 processor and 64GB
>     memory and wondering what the minimum requirements for working
>     with QGIS 3D is.? I had a coworker who could not run 3D on his
>     laptop assume due to his lower end graphics card.? I don?t offhand
>     know what the spec?s on his machine are.
>
>     I am looking at a Dell 7780 or 7680 with either *NVIDIA RTX 5000
>     Ada 16GB GDDR6 video card *or the*RTX 4000 Ada* *12GB GDDR6 video
>     card.*
>
>     **
>
>     Wondering if the higher end card buys me much better performance
>     and is worth the hit on battery life.
>
>     **
>
>     Luke
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231010/69406f20/attachment.htm>

From julien.moura at oslandia.com  Tue Oct 10 04:55:30 2023
From: julien.moura at oslandia.com (Julien Moura)
Date: Tue, 10 Oct 2023 13:55:30 +0200
Subject: [QGIS-Developer] QGIS-CH mini workshop on QGIS installations,
 file locations, profiles, shared resources, etc.
In-Reply-To: <CAB2Z92AafS_8hSP05GdhCQc5FXkSq3zNCOuLhN_RW-f8aeiKaw@mail.gmail.com>
References: <CAB2Z92AafS_8hSP05GdhCQc5FXkSq3zNCOuLhN_RW-f8aeiKaw@mail.gmail.com>
Message-ID: <8155d8db-8fba-4c4c-beeb-53210c3647ec@oslandia.com>

Hi Andreas,

It's good to know that the Swiss QGIS user group organizes common times 
for sharing experience and practice. It seems to be a great collective 
dynamic!

About the next mini-workshop on QGIS installations and deployment, this 
is a topic we're trying to be quite active on at Oslandia by working on 
custom packaging for the OSGeo4W installer, un/install workflow 
automations (PowerShell) and especially on deployment strategies for 
QGIS profiles and customizations. We're relying on QDT (QGIS Deployment 
Toolbelt) 
<https://guts.github.io/qgis-deployment-cli/misc/credits.html>, a tool 
we're developing on a community basis according to customer needs. It is 
based on the same synchronization mechanism as the Resource Sharing 
plugin <https://github.com/QGIS-Contribution/QGIS-ResourceSharing> 
(pseudo-git), a deployment scenario (inspired from ansible) and on an 
abstraction of the QGIS profile via a 'profile.json' file.

In addition, there's the Profile Manager plugin, which we recommend 
using and to which we plan to contribute to make it capable of exporting 
to the QDT formalism.

Regards,

Julien

Le 10/10/2023 ? 10:04, Andreas Neumann via QGIS-Developer a ?crit?:
> Dear QGIS developers and contributors,
>
> The Swiss QGIS user group organizes mini workshops and demos for its 
> members. These meetings are online on Google Meet (guests from other 
> countries are welcome). Several of the devs and contributors on this 
> list had instructed such workshops in the past.
>
> One idea that came up is to organize a mini workshop around QGIS 
> installations (what different options are around, what are the 
> differences), explanation of the file systems (where are all the 
> binaries and config files), profiles, shared resources, what is 
> centralized and what is configure per user, etc.
>
> Thank you for your replies in case you could volunteer to help 
> instruct such a workshop,
> Andreas
>
> --
> Andreas Neumann
> QGIS.ORG <http://QGIS.ORG> board member (treasurer)
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231010/bf2a9ca4/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: julien_moura.vcf
Type: text/vcard
Size: 233 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231010/bf2a9ca4/attachment.vcf>

From adenaculture at gmail.com  Tue Oct 10 10:04:01 2023
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 10 Oct 2023 13:04:01 -0400
Subject: [QGIS-Developer] QGIS 3D and Graphics Card Requirements
In-Reply-To: <879b5589-5ebd-4930-ab31-2f1e4e8f8f65@wheregroup.com>
References: <73a9c4f3248d4ff69ec0c6a6d5718240@erdc.dren.mil>
 <CAC2XbFcn57512Cd3ZtVTtf0jVMfOhcqmk09nWedyjL2DgebKaw@mail.gmail.com>
 <879b5589-5ebd-4930-ab31-2f1e4e8f8f65@wheregroup.com>
Message-ID: <CABPxTTr4UX1V6T2RgjPqP8yp4cYkCdE=9QkE2UFRjNGRAhLBXQ@mail.gmail.com>

I just noticed this thread. For what it's worth, many of my users are
running QGIS on virtual machines. I don't advertise the QGIS 3D
capabilities because it performs badly in the VM environment or not at all.
Even on my personal laptop which is a fast machine with a decent video
card, but does not have a high end graphics card, I find the 3D
performance to be slow enough that I don't use it. I have played around a
little bit with Blender 3D and it wasn't slow.

Calvin

On Tue, Oct 10, 2023 at 6:57?AM Johannes Kr?ger (WhereGroup) via
QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:

> Hi all,
>
> the two ridiculously expensive and high-end graphics cards mentioned by
> Luke sound like complete overkill. Surely reading and preparing the geodata
> for 3D display (from data providers, via storage, on the CPU?) would be the
> bigger performance/usability issue of the 3D views, right? I am sure that
> for reasonable reasons QGIS would choke waaaay earlier than what those
> cards would be capable of. The potential benefit of those cards for QGIS 3D
> definitely is not worth paying *1200-2500?* extra.
>
> Martin/Jean, is there any change that you could provide a more detailed
> specification of the hardware and software requirements for QGIS 3D? It
> comes up again and again and I've just been searching again without
> success. I step up to add it to the QGIS documentation in early November.
>
> Esri provides for example infos on the required OpenGL version and
> extensions on
> https://pro.arcgis.com/en/pro-app/latest/get-started/arcgis-pro-system-requirements.htm
>
> E.g.: What is the minimum amount of GPU RAM necessary? How does it scale
> with more complex 3D scenes and what happens if there is not enough RAM?
> Does it get slow (maybe with a message) or does it crash? Which renderer
> does it use on which platforms (I guess always OpenGL?). Which OpenGL
> version is needed? Which extensions are needed? Could missing extensions
> get logged prominently to the user to avoid the "my 3D canvas is
> white/blank" issue (I guess that is the reason) that often comes up? Which
> features depend on which extensions and what happens if they are not
> available?
>
> All the best, Hannes
> Am 21.09.23 um 09:56 schrieb Martin Dobias via QGIS-Developer:
>
> Hey Luke
>
> Low end graphics cards should work fine as well. If your coworker could
> not run 3D on his laptop, it could have been some other problem - it would
> be good to have more details (hardware spec, operating system, in what way
> things did not work) so that we can fix such issues. For example, my laptop
> has 2GB of GPU memory and things work just fine. So both of the suggested
> graphics cards should give you much more power for QGIS 3D than you would
> normally need.
>
> Cheers
> Martin
>
>
> On Wed, Sep 20, 2023 at 11:20?PM Catania, Luke A ERDC-RDE-GRL-VA CIV via
> QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:
>
>> Anyone out there working with QGIS 3D?
>>
>>
>>
>> I am looking to get a new Dell laptop with i9 processor and 64GB memory
>> and wondering what the minimum requirements for working with QGIS 3D is.  I
>> had a coworker who could not run 3D on his laptop assume due to his lower
>> end graphics card.  I don?t offhand know what the spec?s on his machine are.
>>
>>
>>
>> I am looking at a Dell 7780 or 7680 with either *NVIDIA RTX 5000 Ada
>> 16GB GDDR6 video card *or the* RTX 4000 Ada* *12GB GDDR6 video card.*
>>
>>
>>
>> Wondering if the higher end card buys me much better performance and is
>> worth the hit on battery life.
>>
>>
>>
>> Luke
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231010/5e744f76/attachment-0001.htm>

From Luke.A.Catania at erdc.dren.mil  Tue Oct 10 20:20:46 2023
From: Luke.A.Catania at erdc.dren.mil (Catania, Luke A ERDC-RDE-GRL-VA CIV)
Date: Wed, 11 Oct 2023 03:20:46 +0000
Subject: [QGIS-Developer] Windows fatal exception: access violation running
 a processing tool
Message-ID: <d5d3d50687d240b4871a651fc53d5c3d@erdc.dren.mil>

I am executing

processing.run("gdal:convertformat", {'INPUT':'D:/Site Selection/Data/MP/ezdxf/32111/dxf_out/32111.dxf','OPTIONS':'','OUTPUT': 'D:/Site Selection/Data/MP/ezdxf/32111/gpkg_out/32111.gpkg})'

which I copied from the QGIS processing toolbox history and I get the error:

Windows fatal exception: access violation

Current thread 0x000069f8 (most recent call first):
  File "C:\PROGRA~1\QGIS32~1.9\apps\qgis-ltr\python\plugins\processing\algs\gdal\GdalUtils.py", line 146 in runGdal
  File "C:\PROGRA~1\QGIS32~1.9\apps\qgis-ltr\python\plugins\processing\algs\gdal\GdalAlgorithm.py", line 135 in processAlgorithm
  File "C:\PROGRA~1\QGIS32~1.9\apps\qgis-ltr\python\plugins\processing\gui\AlgorithmExecutor.py", line 72 in execute
  File "C:\PROGRA~1\QGIS32~1.9\apps\qgis-ltr\python\plugins\processing\core\Processing.py", line 187 in runAlgorithm
  File "C:\PROGRA~1\QGIS32~1.9\apps\qgis-ltr\python\plugins\processing\tools\general.py", line 108 in run

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231011/0591b2c7/attachment.htm>

From Luke.A.Catania at erdc.dren.mil  Tue Oct 10 22:15:17 2023
From: Luke.A.Catania at erdc.dren.mil (Catania, Luke A ERDC-RDE-GRL-VA CIV)
Date: Wed, 11 Oct 2023 05:15:17 +0000
Subject: [QGIS-Developer] pygdaltools library documentation sparce
Message-ID: <58148a5506bc4e2d859daf7cf41430e6@erdc.dren.mil>

I am running simple code to convert dxf to gpkg and I get the error below.  -am an trying to figure eout how to add a bunch of options ( -f GPKG -append -update --config DXF_ENCODING CP1252 --config DXF_INCLUDE_RAW_CODE_VALUES TRUE --config DXF_TRANSLATE_ESCAPE_SEQUENCES FALSE --config DXF_MERGE_BLOCK_GEOMETRIES FALSE --config DXF_INLINE_BLOCKS TRUE -nlt LINESTRING -nln 32111_F

But can't even figure out how to add the recommended skipfailures.  I tried adding

gdal_tools.config_options("-skipfailures")

but I get pyling tells me it is not callable.

Anyone use pygdaltools?


import gdaltools
gdal_tools = gdaltools.ogr2ogr()
gdal_tools.BASEPATH = r"C:\Program Files\QGIS 3.16.16\bin"

gdal_tools.set_encoding("UTF-8")
gdal_tools.set_input(self.dxf_out_path)
gdal_tools.set_output(self.gpkg_out)
gdal_tools.execute()

And I get the ERROR:root:b"Warning 1: Layer creation options ignored since an existing layer is\r\n         being appended to.\r\nWarning 6: Normalized/laundered field name: 'EntityHandle' to 'EntityHa_2'\r\nERROR 1: Attempt to write non-linestring (GEOMETRYCOLLECTION) geometry to ARC type shapefile.\r\nERROR 1: Unable to write feature 0 from layer entities.\r\nERROR 1: Terminating translation prematurely after failed\r\ntranslation of layer entities (use -skipfailures to skip errors)\r\n"
Traceback (most recent call last):
  File "c:\Users\RDTECLAC\AppData\Roaming\QGIS\QGIS3\profiles\default\python\plugins\site_selection\tools\master_planning\load_mp_designs.py", line 227, in <module>
    main()
  File "c:\Users\RDTECLAC\AppData\Roaming\QGIS\QGIS3\profiles\default\python\plugins\site_selection\tools\master_planning\load_mp_designs.py", line 196, in main
    mp_designs.gdal_convert()
  File "c:\Users\RDTECLAC\AppData\Roaming\QGIS\QGIS3\profiles\default\python\plugins\site_selection\tools\master_planning\load_mp_designs.py", line 185, in gdal_convert
    gdal_tools.execute()
  File "C:\Users\RDTECLAC\AppData\Roaming\Python\Python39\site-packages\gdaltools\ogr2ogrcmd.py", line 330, in execute
    return self._do_execute(args)
  File "C:\Users\RDTECLAC\AppData\Roaming\Python\Python39\site-packages\gdaltools\basetypes.py", line 108, in _do_execute
    raise GdalToolsError(rc, err)
gdaltools.basetypes.GdalToolsError: (1, b"Warning 1: Layer creation options ignored since an existing layer is\r\n         being appended to.\r\nWarning 6: Normalized/laundered field name: 'EntityHandle' to 'EntityHa_2'\r\nERROR 1: Attempt to write non-linestring (GEOMETRYCOLLECTION) geometry to ARC type shapefile.\r\nERROR 1: Unable to write feature 0 from layer entities.\r\nERROR 1: Terminating translation prematurely after failed\r\ntranslation of layer entities (use -skipfailures to skip errors)\r\n")error:


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231011/64c9d7a7/attachment.htm>

From nyall.dawson at gmail.com  Tue Oct 10 22:18:46 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 11 Oct 2023 15:18:46 +1000
Subject: [QGIS-Developer] pygdaltools library documentation sparce
In-Reply-To: <58148a5506bc4e2d859daf7cf41430e6@erdc.dren.mil>
References: <58148a5506bc4e2d859daf7cf41430e6@erdc.dren.mil>
Message-ID: <CAB28AsiZVV0PiB_mkXBMB_Q6nme8But7J7wbx2Rh1RR50b2NYw@mail.gmail.com>

On Wed, 11 Oct 2023 at 15:15, Catania, Luke A ERDC-RDE-GRL-VA CIV via
QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:

>
> Anyone use pygdaltools?

You're better off asking this on the GDAL-Dev list, rather than QGIS-Dev.

Nyall

>
>
>
>
>
> import gdaltools
>
> gdal_tools = gdaltools.ogr2ogr()
>
> gdal_tools.BASEPATH = r"C:\Program Files\QGIS 3.16.16\bin"
>
>
>
> gdal_tools.set_encoding("UTF-8")
>
> gdal_tools.set_input(self.dxf_out_path)
>
> gdal_tools.set_output(self.gpkg_out)
>
> gdal_tools.execute()
>
>
>
> And I get the ERROR:root:b"Warning 1: Layer creation options ignored since an existing layer is\r\n         being appended to.\r\nWarning 6: Normalized/laundered field name: 'EntityHandle' to 'EntityHa_2'\r\nERROR 1: Attempt to write non-linestring (GEOMETRYCOLLECTION) geometry to ARC type shapefile.\r\nERROR 1: Unable to write feature 0 from layer entities.\r\nERROR 1: Terminating translation prematurely after failed\r\ntranslation of layer entities (use -skipfailures to skip errors)\r\n"
>
> Traceback (most recent call last):
>
>   File "c:\Users\RDTECLAC\AppData\Roaming\QGIS\QGIS3\profiles\default\python\plugins\site_selection\tools\master_planning\load_mp_designs.py", line 227, in <module>
>
>     main()
>
>   File "c:\Users\RDTECLAC\AppData\Roaming\QGIS\QGIS3\profiles\default\python\plugins\site_selection\tools\master_planning\load_mp_designs.py", line 196, in main
>
>     mp_designs.gdal_convert()
>
>   File "c:\Users\RDTECLAC\AppData\Roaming\QGIS\QGIS3\profiles\default\python\plugins\site_selection\tools\master_planning\load_mp_designs.py", line 185, in gdal_convert
>
>     gdal_tools.execute()
>
>   File "C:\Users\RDTECLAC\AppData\Roaming\Python\Python39\site-packages\gdaltools\ogr2ogrcmd.py", line 330, in execute
>
>     return self._do_execute(args)
>
>   File "C:\Users\RDTECLAC\AppData\Roaming\Python\Python39\site-packages\gdaltools\basetypes.py", line 108, in _do_execute
>
>     raise GdalToolsError(rc, err)
>
> gdaltools.basetypes.GdalToolsError: (1, b"Warning 1: Layer creation options ignored since an existing layer is\r\n         being appended to.\r\nWarning 6: Normalized/laundered field name: 'EntityHandle' to 'EntityHa_2'\r\nERROR 1: Attempt to write non-linestring (GEOMETRYCOLLECTION) geometry to ARC type shapefile.\r\nERROR 1: Unable to write feature 0 from layer entities.\r\nERROR 1: Terminating translation prematurely after failed\r\ntranslation of layer entities (use -skipfailures to skip errors)\r\n")error:
>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From Luke.A.Catania at erdc.dren.mil  Tue Oct 10 22:20:33 2023
From: Luke.A.Catania at erdc.dren.mil (Catania, Luke A ERDC-RDE-GRL-VA CIV)
Date: Wed, 11 Oct 2023 05:20:33 +0000
Subject: [QGIS-Developer] pygdaltools library documentation sparce
In-Reply-To: <CAB28AsiZVV0PiB_mkXBMB_Q6nme8But7J7wbx2Rh1RR50b2NYw@mail.gmail.com>
References: <58148a5506bc4e2d859daf7cf41430e6@erdc.dren.mil>
 <CAB28AsiZVV0PiB_mkXBMB_Q6nme8But7J7wbx2Rh1RR50b2NYw@mail.gmail.com>
Message-ID: <94ebbae06a90419e8c4fc40cc28351a6@erdc.dren.mil>

OK.  I am doing a bunch of GDAL commands in my QGIS plugin so opted for this forum.

-----Original Message-----
From: Nyall Dawson <nyall.dawson at gmail.com> 
Sent: Wednesday, October 11, 2023 1:19 AM
To: Catania, Luke A ERDC-RDE-GRL-VA CIV <Luke.A.Catania at erdc.dren.mil>
Cc: qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] pygdaltools library documentation sparce

On Wed, 11 Oct 2023 at 15:15, Catania, Luke A ERDC-RDE-GRL-VA CIV via QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:

>
> Anyone use pygdaltools?

You're better off asking this on the GDAL-Dev list, rather than QGIS-Dev.

Nyall

>
>
>
>
>
> import gdaltools
>
> gdal_tools = gdaltools.ogr2ogr()
>
> gdal_tools.BASEPATH = r"C:\Program Files\QGIS 3.16.16\bin"
>
>
>
> gdal_tools.set_encoding("UTF-8")
>
> gdal_tools.set_input(self.dxf_out_path)
>
> gdal_tools.set_output(self.gpkg_out)
>
> gdal_tools.execute()
>
>
>
> And I get the ERROR:root:b"Warning 1: Layer creation options ignored since an existing layer is\r\n         being appended to.\r\nWarning 6: Normalized/laundered field name: 'EntityHandle' to 'EntityHa_2'\r\nERROR 1: Attempt to write non-linestring (GEOMETRYCOLLECTION) geometry to ARC type shapefile.\r\nERROR 1: Unable to write feature 0 from layer entities.\r\nERROR 1: Terminating translation prematurely after failed\r\ntranslation of layer entities (use -skipfailures to skip errors)\r\n"
>
> Traceback (most recent call last):
>
>   File 
> "c:\Users\RDTECLAC\AppData\Roaming\QGIS\QGIS3\profiles\default\python\
> plugins\site_selection\tools\master_planning\load_mp_designs.py", line 
> 227, in <module>
>
>     main()
>
>   File 
> "c:\Users\RDTECLAC\AppData\Roaming\QGIS\QGIS3\profiles\default\python\
> plugins\site_selection\tools\master_planning\load_mp_designs.py", line 
> 196, in main
>
>     mp_designs.gdal_convert()
>
>   File 
> "c:\Users\RDTECLAC\AppData\Roaming\QGIS\QGIS3\profiles\default\python\
> plugins\site_selection\tools\master_planning\load_mp_designs.py", line 
> 185, in gdal_convert
>
>     gdal_tools.execute()
>
>   File 
> "C:\Users\RDTECLAC\AppData\Roaming\Python\Python39\site-packages\gdalt
> ools\ogr2ogrcmd.py", line 330, in execute
>
>     return self._do_execute(args)
>
>   File 
> "C:\Users\RDTECLAC\AppData\Roaming\Python\Python39\site-packages\gdalt
> ools\basetypes.py", line 108, in _do_execute
>
>     raise GdalToolsError(rc, err)
>
> gdaltools.basetypes.GdalToolsError: (1, b"Warning 1: Layer creation options ignored since an existing layer is\r\n         being appended to.\r\nWarning 6: Normalized/laundered field name: 'EntityHandle' to 'EntityHa_2'\r\nERROR 1: Attempt to write non-linestring (GEOMETRYCOLLECTION) geometry to ARC type shapefile.\r\nERROR 1: Unable to write feature 0 from layer entities.\r\nERROR 1: Terminating translation prematurely after failed\r\ntranslation of layer entities (use -skipfailures to skip errors)\r\n")error:
>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: 
> Blockedhttps://lists.osgeo.org/mailman/listinfo/qgis-developerBlocked
> Unsubscribe: 
> Blockedhttps://lists.osgeo.org/mailman/listinfo/qgis-developerBlocked


From strk at kbt.io  Fri Oct 13 02:18:00 2023
From: strk at kbt.io (Sandro Santilli)
Date: Fri, 13 Oct 2023 11:18:00 +0200
Subject: [QGIS-Developer] Merging MinGW CI workflows ?
Message-ID: <ZSkLSBDlFbs5FJms@c19>

As I got failure in a MingW workflow [1] and could not figure out what
the problem was due to the huge size of CI step logs, I'm trying to find
a way to reduce that log size and stumbled upon the fact that two
different windows-related workflows are using two different approaches:

  - .github/workflows/mingw64.yml (the problematic one)

    Uses a single "Build QGIS Application" step doing build
    configuration (ccache, cmake), build (verbose) and install.
    Additional steps create a portable .zip and upload the artifacts.

  - .github/workflows/mingw-w64-msys2.yml

    Uses separate steps for build configuration and build
    (non-verbose). Does not install. Does not create or upload
    artifacts.

I think the multi-step approach would be easier to use because each
step runs in its own container and produces its own logs, thus letting
you (the developer) only download the log of interest, so I'm thinking
to adapt the problematic one to a multi-step approach too.

But then I wondered: do we really need two separate workflows ?
Would it make sense to merge them into a single one ?


[1] https://github.com/qgis/QGIS/actions/runs/6493640195/job/17634987561?pr=54923
[2] https://github.com/qgis/QGIS/pull/54924

--strk; 

  Libre GIS consultant/developer
  https://strk.kbt.io/services.html

From selma at kartoza.com  Fri Oct 13 07:41:57 2023
From: selma at kartoza.com (Selma Vidimlic)
Date: Fri, 13 Oct 2023 16:41:57 +0200
Subject: [QGIS-Developer] QGIS Documentation Writer Report
In-Reply-To: <CALarpe5iZKjqdhuLyjf2o3OGVbA03RfcKJRMVosjRHn2r1D07A@mail.gmail.com>
References: <CALarpe7FQojbCfa+cpv+nh4fMYS1xBrpDQGQ44so1+crQr1DDQ@mail.gmail.com>
 <CALarpe5iZKjqdhuLyjf2o3OGVbA03RfcKJRMVosjRHn2r1D07A@mail.gmail.com>
Message-ID: <CALarpe5UeurgJJ-JTVFERVTfUx+qpkqpdLGrEcAH1YP7qruMfQ@mail.gmail.com>

Hello everyone,

PRs open or fixed this week:

   - Calculate expressions algorithm
   <https://github.com/qgis/QGIS-Documentation/pull/8550>
   - Recent project update
   <https://github.com/qgis/QGIS-Documentation/pull/8541> ( including this
   issue https://github.com/qgis/QGIS-Documentation/issues/2833 )

PRs merged this week:

   - https://github.com/qgis/QGIS-Documentation/pull/8531
   - https://github.com/qgis/QGIS-Documentation/pull/8530
   - https://github.com/qgis/QGIS-Documentation/pull/8483

Still working on:

   - https://github.com/qgis/QGIS-Documentation/issues/7802 (
   https://github.com/qgis/QGIS-Documentation/issues/8547 )


Have a nice weekend,
Selma.

On Fri, 6 Oct 2023 at 18:00, Selma Vidimlic <selma at kartoza.com> wrote:

> Hi all,
>
> This week, I dedicated my efforts to gaining a deeper understanding of the
> QGIS project and community, as well as exploring ways to enhance our
> documentation workflow.
> I recognized the need for faster communication among active contributors
> within the context of QGIS documentation. To address this, I created a
> chatroom on Fluffy Chat (Matrix). If you'd like to join the chatroom,
> please add me (@selmaaa:matrix.org), and I will manually invite you.
> Fluffy Chat does not allow sending a single invite to all, so this step is
> necessary...
>
> Although I did not create new PRs this week, I was actively involved in
> the following issue:
>
>    - https://github.com/qgis/QGIS-Documentation/issues/7802
>
> This issue focuses on expression functions, a topic that I had not
> explored extensively in QGIS before. I dedicated a significant amount of
> time to understand and create visual examples for expression functions.
>
> I was also fixing screenshots for this PR:
>
>    - https://github.com/qgis/QGIS-Documentation/pull/8483
>
> Have a nice weekend,
> Selma.
>
>
> On Fri, 29 Sept 2023 at 19:35, Selma Vidimlic <selma at kartoza.com> wrote:
>
>>   Hi all,
>>
>> Open pull requests:
>>
>>    - https://github.com/qgis/QGIS-Documentation/pull/8541
>>    - https://github.com/qgis/QGIS-Documentation/pull/8537 (I will
>>    continue to work on this one together with Harrissou so it is not ready to
>>    be merged yet)
>>    - https://github.com/qgis/QGIS-Documentation/pull/8531 (this one
>>    also, Harrissou started to update Elevation profile, so we will continue
>>    together)
>>    - https://github.com/qgis/QGIS-Documentation/pull/8522 (same as
>>    previous)
>>    - https://github.com/qgis/QGIS-Documentation/pull/8530 (same as
>>    previous)
>>    - https://github.com/qgis/QGIS-Documentation/pull/8491 ( this one
>>    needs feedback from Nyall Dawson or anybody else who is familiar with "Add
>>    GIS File" action)
>>    - https://github.com/qgis/QGIS-Documentation/pull/8483 (will be done
>>    by the end of the weekend)
>>
>> Merged PRs:
>>
>>    - https://github.com/qgis/QGIS-Documentation/pull/8507
>>
>> From this week I will send this report in a single thread so we can all
>> follow the progress easier.
>>
>> Have a nice weekend,
>> Selma.
>>
>>
>> --
>> Selma Vidimlic Husic
>> QGIS Documentation Writer
>> Visit http://kartoza.com to find out about open source:
>> * Desktop GIS programming services
>> * Geospatial web development
>> * GIS Training
>> * Consulting Services
>> Phone: +387 61 933 651
>>
>
>
> --
> Selma Vidimlic Husic
> QGIS Documentation Writer
> Visit http://kartoza.com to find out about open source:
> * Desktop GIS programming services
> * Geospatial web development
> * GIS Training
> * Consulting Services
> Phone: +387 61 933 651
>


-- 
Selma Vidimlic Husic
QGIS Documentation Writer
Visit http://kartoza.com to find out about open source:
* Desktop GIS programming services
* Geospatial web development
* GIS Training
* Consulting Services
Phone: +387 61 933 651
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231013/918e6d35/attachment.htm>

From strk at kbt.io  Fri Oct 13 09:42:51 2023
From: strk at kbt.io (Sandro Santilli)
Date: Fri, 13 Oct 2023 18:42:51 +0200
Subject: [QGIS-Developer] QGIS repository management
Message-ID: <ZSlzi4Ixy/AY9kGp@c19>

Hello all,
today I was finally able to more clearly see the problem that frustrates
me everytime a take part to a new QGIS bugfixing drive, and I would like
to share it hoping to find a solution togheter.

The main problem:

  - Despite having been granted write access to the QGIS repository in 2012
    [1], I cannot effectively use that power today

It's not just me, I think, but I cannot tell for sure because the configuration
of the infrastructure currently in use (github) is not available for me to see
and the governance page on the official QGIS website does not contain this
information [2]. This being blind of course adds up to my frustration.

>From experience, I know that the reason why I cannot write to the QGIS
repository is because "branch protection" is active (for the master branch
at least) and a set of conditions are required to merge a PR, namely:

  - All CI tests need to pass.

  - Someone else (I don't know from which group of people) needs to
    approve the proposed change.

While I do the above condition being a useful indication for "QGIS
core developers" to decide whether to accept or not a change request,
I find them representing an obstacle way more often than a service,
and in particular:

1. CI is often broken for reasons that are independent from the proposed
   change.

2. An aberration of the "review" condition is that a change proposed by a
   contributor and approved by me can be merged but a change proposed by
   me and approved by the same contributor can not be merged, effectively
   giving me ("core QGIS committer") less power than the power of a random
   contributor.

The rules described above are not found from the governance page [2]
so it isn't easy for me to propose changes because I don't have a clear
picture of current rules (like, I believe some people in QGIS can
self-approve PRs but dunno how to tell who and why).

I would personally welcome (and be able to help taking) the following actions:

  1. Clearly document the roles and rules on the website

  2. Allow those with "write access" to self-approve PRs

  3. Define rules by which "write access" privileges to the repository
     are revoked

Thanks for having read this in full, and I hope to hear your position
on the matter.  Happy hacking !


[1] https://lists.osgeo.org/pipermail/qgis-developer/2012-October/022715.html
[2] https://qgis.org/en/site/getinvolved/governance/governance.html

--strk;

  Libre GIS consultant/developer
  https://strk.kbt.io/services.html

From apasotti at gmail.com  Sat Oct 14 02:17:27 2023
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sat, 14 Oct 2023 11:17:27 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <ZSlzi4Ixy/AY9kGp@c19>
References: <ZSlzi4Ixy/AY9kGp@c19>
Message-ID: <CAL5Q672y7YF2=DouiiG868vmGkK9E_GhApQOdvGNaSVy2bSxcg@mail.gmail.com>

Hi Sandro,

Disclaimer: these are my personal opinions and not the official PSC position.

I understand your frustration, CI is often failing for no reason and
we are wasting a lot of time (and CPU power) to re-run the failing
workflows, any effort to fix these issues is greatly appreciated.

About the merge constraints, I think that they are important and
useful because CI failing tests have proven to be a sign of a real
problem in the past, and also because peer review (PR approval) is
almost always useful to prevent mistakes and ultimately leads to a
better and safer code.

Coming to your questions, AFAIK whoever has commit rights can approve
someone else's PR but cannot self approve (see the exceptions below
about bypassing the blocks).

The QGIS organization has a budget for PR queue management (triage)
and a separate entry for reviews (budget is public
https://www.qgis.org/en/site/getinvolved/governance/finance/index.html)
, in the past this has been working well while I agree that recently
PRs have been pending without review for a (too) long time.

If I am not mistaken, everyone with commit rights can still push to
master directly without opening a PR, this is not generally
recommended (I think I have been doing this only once or twice in the
last few years), however a direct push to master is acceptable for a
few cases (e.g. to fix an one-liner change issue where the developer
is fixing his/hers own mess and is 100% sure there will not be side
effects, fix a typo in a comment, for last minute fixes done by the
package maintainers when making the releases etc.).

A small group of us (3-4 developers including me) have admin access to
all QGIS repositories and we can bypass any check and merge all PRs
without approval.

I admit that I have been using these superpowers more and more often
(IIRC three or four times) in the last year while I have never felt
the need to use them before, in an ideal world it should not be
necessary except for the same use cases I have pointed out for the
direct pushes to master.

The bottom line is that the situation is not perfect and can certainly
be improved but at the end of the day we are all doing our best to
keep the process running as smoothly as we can.

Thank you for raising this point, you are absolutely right that it
should be clearly documented, this has been in our TODO list for a
long time.

Best regards.


On Fri, Oct 13, 2023 at 6:42?PM Sandro Santilli via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> Hello all,
> today I was finally able to more clearly see the problem that frustrates
> me everytime a take part to a new QGIS bugfixing drive, and I would like
> to share it hoping to find a solution togheter.
>
> The main problem:
>
>   - Despite having been granted write access to the QGIS repository in 2012
>     [1], I cannot effectively use that power today
>
> It's not just me, I think, but I cannot tell for sure because the configuration
> of the infrastructure currently in use (github) is not available for me to see
> and the governance page on the official QGIS website does not contain this
> information [2]. This being blind of course adds up to my frustration.
>
> From experience, I know that the reason why I cannot write to the QGIS
> repository is because "branch protection" is active (for the master branch
> at least) and a set of conditions are required to merge a PR, namely:
>
>   - All CI tests need to pass.
>
>   - Someone else (I don't know from which group of people) needs to
>     approve the proposed change.
>
> While I do the above condition being a useful indication for "QGIS
> core developers" to decide whether to accept or not a change request,
> I find them representing an obstacle way more often than a service,
> and in particular:
>
> 1. CI is often broken for reasons that are independent from the proposed
>    change.
>
> 2. An aberration of the "review" condition is that a change proposed by a
>    contributor and approved by me can be merged but a change proposed by
>    me and approved by the same contributor can not be merged, effectively
>    giving me ("core QGIS committer") less power than the power of a random
>    contributor.
>
> The rules described above are not found from the governance page [2]
> so it isn't easy for me to propose changes because I don't have a clear
> picture of current rules (like, I believe some people in QGIS can
> self-approve PRs but dunno how to tell who and why).
>
> I would personally welcome (and be able to help taking) the following actions:
>
>   1. Clearly document the roles and rules on the website
>
>   2. Allow those with "write access" to self-approve PRs
>
>   3. Define rules by which "write access" privileges to the repository
>      are revoked
>
> Thanks for having read this in full, and I hope to hear your position
> on the matter.  Happy hacking !
>
>
> [1] https://lists.osgeo.org/pipermail/qgis-developer/2012-October/022715.html
> [2] https://qgis.org/en/site/getinvolved/governance/governance.html
>
> --strk;
>
>   Libre GIS consultant/developer
>   https://strk.kbt.io/services.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



--
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From strk at kbt.io  Sat Oct 14 06:54:07 2023
From: strk at kbt.io (Sandro Santilli)
Date: Sat, 14 Oct 2023 15:54:07 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAL5Q672y7YF2=DouiiG868vmGkK9E_GhApQOdvGNaSVy2bSxcg@mail.gmail.com>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAL5Q672y7YF2=DouiiG868vmGkK9E_GhApQOdvGNaSVy2bSxcg@mail.gmail.com>
Message-ID: <ZSqdf2K2Soh6eyML@c19>

Hi Alessandro, replies inline

On Sat, Oct 14, 2023 at 11:17:27AM +0200, Alessandro Pasotti wrote:

> I understand your frustration, CI is often failing for no reason and
> we are wasting a lot of time (and CPU power) to re-run the failing
> workflows, any effort to fix these issues is greatly appreciated.

Indeed. It's not always possible to fix them though,
as sometimes they just do not depend on us. For example:
https://github.com/qgis/QGIS/actions/runs/6509998580/job/17687048243?pr=54923#step:14:12

> Coming to your questions, AFAIK whoever has commit rights can approve
> someone else's PR but cannot self approve

Do you see how this makes PR coming from non-committers easier to
merge ? They basically require 1 committer approval, whereas PR
coming from committers require 2 committer approval (the proponent
and another reviewer).

Beside, is there an official place from which we can read the list
of people with "commit rights" ? The term is not in the name or
description of any of the github teams:
https://github.com/orgs/qgis/teams

That term "committer", btw, should probably be changed nowadays as
with git it doesnt' make much sense.

> The QGIS organization has a budget for PR queue management (triage)
> and a separate entry for reviews (budget is public
> https://www.qgis.org/en/site/getinvolved/governance/finance/index.html)
> , in the past this has been working well while I agree that recently
> PRs have been pending without review for a (too) long time.

The bugfixing spreadsheet has a column to report reviewer names,
but it looks like I'm the only one filling it at the moment.
You may notice I've also reported reviews from non-committers
( Lauren?iu Nicola, in Cc ).

Is there another document (or git commandline) that can be used to
track how the review budget is being spent ?

> If I am not mistaken, everyone with commit rights can still push to
> master directly without opening a PR

Unfortunately this is not the case:

	[strk at c19:/usr/local/src/qgis/qgis/src/master(master)] git push
	...
	remote: error: GH006: Protected branch update failed for refs/heads/master.
	remote: error: Changes must be made through a pull request. 20 of 20 required status checks are expected.
	To github.com:qgis/QGIS.git
	 ! [remote rejected]         master -> master (protected branch hook declined)
	error: failed to push some refs to 'github.com:qgis/QGIS.git'

> , this is not generally
> recommended (I think I have been doing this only once or twice in the
> last few years), however a direct push to master is acceptable for a
> few cases (e.g. to fix an one-liner change issue where the developer
> is fixing his/hers own mess and is 100% sure there will not be side
> effects, fix a typo in a comment, for last minute fixes done by the
> package maintainers when making the releases etc.).

I agree about the usefulness of both reviews and CI in some cases.
For GEOS and PostGIS, where we do NOT have enforcement of this rule,
we all very often use branches or pull requests or merge requests for
the purpose of getting CI and/or peer reviews on our code. It's the
enforcement of the rule that's blocking.

> A small group of us (3-4 developers including me) have admin access to
> all QGIS repositories and we can bypass any check and merge all PRs
> without approval.

(where) is the composition of this group visible ? Are there documented
procedures describing how a "committer" can be added to or removed from
this group ?

> I admit that I have been using these superpowers more and more often
> (IIRC three or four times) in the last year while I have never felt
> the need to use them before, in an ideal world it should not be
> necessary except for the same use cases I have pointed out for the
> direct pushes to master.

The world is not ideal. In my ideal world we would not even need to
write software, let alone fix bugs !  :P

> The bottom line is that the situation is not perfect and can certainly
> be improved but at the end of the day we are all doing our best to
> keep the process running as smoothly as we can.

Be assured I trust the QGIS developers and PSC members to all have good
intentions and hope this mail of mine is taken for what it is: a genuine
attempt at finding _toghether_ a solution to a problem I see with the
currently implemented approval mechanism (unbalanced, in my opinion,
toward non-committers).

--strk;

From wonder.sk at gmail.com  Sun Oct 15 04:08:56 2023
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun, 15 Oct 2023 13:08:56 +0200
Subject: [QGIS-Developer] QGIS 3D and Graphics Card Requirements
In-Reply-To: <879b5589-5ebd-4930-ab31-2f1e4e8f8f65@wheregroup.com>
References: <73a9c4f3248d4ff69ec0c6a6d5718240@erdc.dren.mil>
 <CAC2XbFcn57512Cd3ZtVTtf0jVMfOhcqmk09nWedyjL2DgebKaw@mail.gmail.com>
 <879b5589-5ebd-4930-ab31-2f1e4e8f8f65@wheregroup.com>
Message-ID: <CAC2XbFeP6JcEPTAkDOBbm_O=METZYKV=cTJu2oYTNoyJp6Vyfw@mail.gmail.com>

Hi Hannes


the two ridiculously expensive and high-end graphics cards mentioned by
> Luke sound like complete overkill. Surely reading and preparing the geodata
> for 3D display (from data providers, via storage, on the CPU?) would be the
> bigger performance/usability issue of the 3D views, right? I am sure that
> for reasonable reasons QGIS would choke waaaay earlier than what those
> cards would be capable of. The potential benefit of those cards for QGIS 3D
> definitely is not worth paying *1200-2500?* extra.
>
I have not had a chance to try QGIS 3D with such high-end cards yet, but
you're right, users would be probably hitting performance issues elsewhere
when working with large amounts of data (but this also depends on data
types, formats, styling etc.)


> Martin/Jean, is there any change that you could provide a more detailed
> specification of the hardware and software requirements for QGIS 3D? It
> comes up again and again and I've just been searching again without
> success. I step up to add it to the QGIS documentation in early November.
>
Okay, great, let me try... there are very few firm requirements for QGIS
3D, so it's hard to answer some of the questions exactly.


> Esri provides for example infos on the required OpenGL version and
> extensions on
> https://pro.arcgis.com/en/pro-app/latest/get-started/arcgis-pro-system-requirements.htm
>
> E.g.: What is the minimum amount of GPU RAM necessary? How does it scale
> with more complex 3D scenes and what happens if there is not enough RAM?
>
There's no strict minimum really, but I would say 1 GB GPU memory should be
enough for many use cases. When dealing with large amounts of 3D data -
e.g. point clouds or tiled scenes (3D tiles), it won't hurt to have more
memory, although with default settings QGIS probably would not go over 2 GB
GPU memory usage. All layers use tiling, so with increased distance of 3D
data from camera, there's less detail displayed, which limits GPU memory
usage and GPU processing power needed.

Each map layer gets up 500 MB GPU memory, but only few that are memory
intense (like point clouds or tiled scene) would normally use all of it.
When a map layer gets to the limit, it will unload data (that are currently
not being displayed) from GPU memory to get under the 500 MB limit. In the
QGIS release 3.34 it will be possible to configure the per-layer limit (and
QGIS 3D views will show a warning if the limit has been reached and none of
the tiles can be unloaded).

Does it get slow (maybe with a message) or does it crash?
>
Any slowness should be caused by displaying too many triangles/points in
the 3D view (or possibly there could be something in QGIS code that runs on
CPU that is slow and affecting 3D performance for example when the 3D scene
is getting updated as the camera moves, scheduling loads of tiles).

To be honest I don't really know what happens if there's not enough GPU
memory - in theory there could be crashes, or the scene would be just
missing some data - or maybe something else, like freeze. It is worth
trying - it may depend on the operating system and the graphical drivers as
well.

Which renderer does it use on which platforms (I guess always OpenGL?).
> Which OpenGL version is needed?
>
Yes it is always using OpenGL. Our 3D window requests OpenGL 4.3 core
profile. Shaders of materials that we use only need OpenGL 3.2 or 3.3.

I am not 100% sure how things are on Windows and macOS. Apparently, Windows
by default only provides very old OpenGL 1.1, and users need to install
dedicated graphics drivers to get more recent OpenGL. But Qt also comes
with ANGLE library (that translates OpenGL calls to DirectX) which can be
used as a fallback option, and there's also software rasterizer as a last
resort. There's even QT_OPENGL env variable to pick an option explicitly
[1]. I think QGIS 3D will not work with ANGLE though, because it uses
desktop OpenGL, not OpenGL ES which ANGLE is meant to support.

All this is related to Qt5 which has been very OpenGL-centric. In Qt6
things will be different again, because Qt departed from being
OpenGL-centric and embraced Direct3D, Metal and Vulkan, and introduced
their own abstraction on top of those APIs called RHI. (They also stopped
using ANGLE.) So in Qt6, Qt3D has two options - either use the new RHI
renderer (default) or use the existing OpenGL renderer. We use the latter,
because we would need to migrate our materials/shaders to be RHI
compatible, and also stop using some features that RHI does not support,
like geometry shaders. Given that QGIS does not support Qt6 officially yet,
this is not something to worry about too much for now, only something to be
aware of for the future.

Which extensions are needed?
>
I am not aware of any OpenGL extensions that we would need in QGIS 3D (I
may be wrong though).

Could missing extensions get logged prominently to the user to avoid the
> "my 3D canvas is white/blank" issue (I guess that is the reason) that often
> comes up?
>
Blank canvas may have multiple sources of problems - it could be that
OpenGL failed to initialize for some reason, or that the graphics driver
did not like something in our shaders or rendering pipeline or geometries,
or it could be even as simple as us misplacing camera in the initial zoom
and all the actual content is actually behind the camera.

For any of the issues with white/blank canvas we would need to investigate
them thoroughly - what kind of data and 3d symbology was used, what is the
OS, graphics drivers etc - I am sure we can get to the bottom of that with
enough effort. I would like to go through the existing tickets about 3D
issues and try to address those that can be replicated.

Which features depend on which extensions and what happens if they are not
> available?
>
As I said, I am not aware of any extensions that we could be using, but I
could be wrong...

Hopefully this helps a bit...

Regards
Martin

[1] https://doc.qt.io/qt-5/windows-requirements.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231015/4e5b4da7/attachment.htm>

From bernd.vogelgesang at gmx.de  Sun Oct 15 05:08:10 2023
From: bernd.vogelgesang at gmx.de (Bernd Vogelgesang)
Date: Sun, 15 Oct 2023 14:08:10 +0200
Subject: [QGIS-Developer] QGIS 3D and Graphics Card Requirements
In-Reply-To: <CAC2XbFeP6JcEPTAkDOBbm_O=METZYKV=cTJu2oYTNoyJp6Vyfw@mail.gmail.com>
References: <73a9c4f3248d4ff69ec0c6a6d5718240@erdc.dren.mil>
 <CAC2XbFcn57512Cd3ZtVTtf0jVMfOhcqmk09nWedyjL2DgebKaw@mail.gmail.com>
 <879b5589-5ebd-4930-ab31-2f1e4e8f8f65@wheregroup.com>
 <CAC2XbFeP6JcEPTAkDOBbm_O=METZYKV=cTJu2oYTNoyJp6Vyfw@mail.gmail.com>
Message-ID: <07c4bba2-abe0-4047-980a-c987c289233f@gmx.de>

Hi,

my 2 cents from a 3D-interested (not yet experienced) user:
1. doing GIS-stuff on a notebook, no matter how performant it is, for me
is a PITA.
Clumsy keyboards, overpriced hardware. GIS-work without a large or 2
screens is useless -> so whats the point of a mobile computer then?

2. Had a 10 year old mid-range gaming computer so far (i7 4770k, 16GGB
RAM, 2GB Graphics card).
For any usage in 2D this was still more than sufficient.
Native QGIS 3D crashed.
Sniffed a bit into Blender, which had much better performance, but the
workflow to use it efficiently with real world data is still unclear to me.

3. As my pockets are full, I am in the process to order a NVIDIA RTX
4090 and will be reporting back about the finding.

4. What I would wish for the 3D-future of QGIS: Somehow wire into the
Blender 3D capabilities.
Usecase: For planning processes of construction (Windmills, solar farms,
Buildings, bridges etc.):
(Semi-)realistic landscapes based on geodata and aerial images, but
pimped up with 3D-model bushes, trees etc based on semi-automatic
classification of aerial images and underlying geodata.

Seeing such processes in "reality" will bring much better understand for
planners, authorities, population etc. than the best crafted 2D maps
ever will.

Cheers,
Bernd

Am 15.10.23 um 13:08 schrieb Martin Dobias via QGIS-Developer:
> Hi Hannes
>
>
>     __
>
>     the two ridiculously expensive and high-end graphics cards mentioned
>     by Luke sound like complete overkill. Surely reading and preparing
>     the geodata for 3D display (from data providers, via storage, on the
>     CPU?) would be the bigger performance/usability issue of the 3D
>     views, right? I am sure that for reasonable reasons QGIS would choke
>     waaaay earlier than what those cards would be capable of. The
>     potential benefit of those cards for QGIS 3D definitely is not worth
>     paying *1200-2500?* extra.
>
> I have not had a chance to try QGIS 3D with such high-end cards yet, but
> you're right, users would be probably hitting performance issues
> elsewhere when working with large amounts of data (but this also depends
> on data types, formats, styling etc.)
>
>     Martin/Jean, is there any change that you could provide a more
>     detailed specification of the hardware and software requirements for
>     QGIS 3D? It comes up again and again and I've just been searching
>     again without success. I step up to add it to the QGIS documentation
>     in early November.
>
> Okay, great, let me try... there are very few firm requirements for QGIS
> 3D, so it's hard to answer some of the questions exactly.
>
>     Esri provides for example infos on the required OpenGL version and
>     extensions on
>     https://pro.arcgis.com/en/pro-app/latest/get-started/arcgis-pro-system-requirements.htm <https://pro.arcgis.com/en/pro-app/latest/get-started/arcgis-pro-system-requirements.htm>
>
>     E.g.: What is the minimum amount of GPU RAM necessary? How does it
>     scale with more complex 3D scenes and what happens if there is not
>     enough RAM?
>
> There's no strict minimum really, but I would say 1 GB GPU memory should
> be enough for many use cases. When dealing with large amounts of 3D data
> - e.g. point clouds or tiled scenes (3D tiles), it won't hurt to have
> more memory, although with default settings QGIS probably would not go
> over 2 GB GPU memory usage. All layers use tiling, so with increased
> distance of 3D data from camera, there's less detail displayed, which
> limits GPU memory usage and GPU processing power needed.
>
> Each map layer gets up 500 MB GPU memory, but only few that are memory
> intense (like point clouds or tiled scene) would normally use all of it.
> When a map layer gets to the limit, it will unload data (that are
> currently not being displayed) from GPU memory to get under the 500 MB
> limit. In the QGIS release 3.34 it will be possible to configure the
> per-layer limit (and QGIS 3D views will show a warning if the limit has
> been reached and none of the tiles can be unloaded).
>
>     Does it get slow (maybe with a message) or does it crash?
>
> Any slowness should be caused by displaying too many triangles/points in
> the 3D view (or possibly there could be something in QGIS code that runs
> on CPU that is slow and affecting 3D performance for example when the 3D
> scene is getting updated as the camera moves, scheduling loads of tiles).
>
> To be honest I don't really know what happens if there's not enough GPU
> memory - in theory there could be crashes, or the scene would be just
> missing some data - or maybe something else, like freeze. It is worth
> trying - it may depend on the operating system and the graphical drivers
> as well.
>
>     Which renderer does it use on which platforms (I guess always
>     OpenGL?). Which OpenGL version is needed?
>
> Yes it is always using OpenGL. Our 3D window requests OpenGL 4.3 core
> profile. Shaders of materials that we use only need OpenGL 3.2 or 3.3.
>
> I am not 100% sure how things are on Windows and macOS. Apparently,
> Windows by default only provides very old OpenGL 1.1, and users need to
> install dedicated graphics drivers to get more recent OpenGL. But Qt
> also comes with ANGLE library (that translates OpenGL calls to DirectX)
> which can be used as a fallback option, and there's also software
> rasterizer as a last resort. There's even QT_OPENGL env variable to pick
> an option explicitly [1]. I think QGIS 3D will not work with ANGLE
> though, because it uses desktop OpenGL, not OpenGL ES which ANGLE is
> meant to support.
>
> All this is related to Qt5 which has been very OpenGL-centric. In Qt6
> things will be different again, because Qt departed from being
> OpenGL-centric and embraced Direct3D, Metal and Vulkan, and introduced
> their own abstraction on top of those APIs called RHI. (They also
> stopped using ANGLE.) So in Qt6, Qt3D has two options - either use the
> new RHI renderer (default) or use the existing OpenGL renderer. We use
> the latter, because we would need to migrate our materials/shaders to be
> RHI compatible, and also stop using some features that RHI does not
> support, like geometry shaders. Given that QGIS does not support Qt6
> officially yet, this is not something to worry about too much for now,
> only something to be aware of for the future.
>
>     Which extensions are needed?
>
> I am not aware of any OpenGL extensions that we would need in QGIS 3D (I
> may be wrong though).
>
>     Could missing extensions get logged prominently to the user to avoid
>     the "my 3D canvas is white/blank" issue (I guess that is the reason)
>     that often comes up?
>
> Blank canvas may have multiple sources of problems - it could be that
> OpenGL failed to initialize for some reason, or that the graphics driver
> did not like something in our shaders or rendering pipeline or
> geometries, or it could be even as simple as us misplacing camera in the
> initial zoom and all the actual content is actually behind the camera.
>
> For any of the issues with white/blank canvas we would need to
> investigate them thoroughly - what kind of data and 3d symbology was
> used, what is the OS, graphics drivers etc - I am sure we can get to the
> bottom of that with enough effort. I would like to go through the
> existing tickets about 3D issues and try to address those that can be
> replicated.
>
>     Which features depend on which extensions and what happens if they
>     are not available?
>
> As I said, I am not aware of any extensions that we could be using, but
> I could be wrong...
>
> Hopefully this helps a bit...
>
> Regards
> Martin
>
> [1] https://doc.qt.io/qt-5/windows-requirements.html
> <https://doc.qt.io/qt-5/windows-requirements.html>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Sun Oct 15 12:30:10 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 16 Oct 2023 08:30:10 +1300
Subject: [QGIS-Developer] Dropping "render" checkbox from status bar
Message-ID: <CAB28Asgw3OrvCX+8DxST5YubYFCaQ+cuXEpOdb_gLHVv=rcugA@mail.gmail.com>

Hi list,

Question: are there still any valid use cases for the "render"
checkbox in the status bar? It's been around forever, and DID have a
strong use case when map rendering used to block the QGIS interface.
But is there any reason to keep this around in modern QGIS versions?

Nyall

From phidrho at gmail.com  Sun Oct 15 12:39:11 2023
From: phidrho at gmail.com (=?UTF-8?Q?Vedran_Stojnovi=C4=87?=)
Date: Sun, 15 Oct 2023 21:39:11 +0200
Subject: [QGIS-Developer] Dropping "render" checkbox from status bar
In-Reply-To: <CAB28Asgw3OrvCX+8DxST5YubYFCaQ+cuXEpOdb_gLHVv=rcugA@mail.gmail.com>
References: <CAB28Asgw3OrvCX+8DxST5YubYFCaQ+cuXEpOdb_gLHVv=rcugA@mail.gmail.com>
Message-ID: <CAL9iSMHinEx6L_dXy=u=_3CTTtg=JrJPb7mzmVOD+XxbhZxWiA@mail.gmail.com>

Hi Nyall,

I find it useful from time to time with complex layer rendering when it
takes several seconds or more to render a map canvas and I want to
investigate attributes currently shown on screen.

My procedure is as follows:
1) zoom at the appropriate level and lock rendering
2) open the attribute table and set it to display items visible on the map
3) move around the map zooming in and out and analyzing the results


ned, 15. lis 2023. u 21:30 Nyall Dawson via QGIS-Developer <
qgis-developer at lists.osgeo.org> napisao je:

> Hi list,
>
> Question: are there still any valid use cases for the "render"
> checkbox in the status bar? It's been around forever, and DID have a
> strong use case when map rendering used to block the QGIS interface.
> But is there any reason to keep this around in modern QGIS versions?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Srda?an pozdrav / Kind regards,
Vedran Stojnovi?.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231015/2da45334/attachment.htm>

From nyall.dawson at gmail.com  Sun Oct 15 12:58:30 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 16 Oct 2023 08:58:30 +1300
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <ZSlzi4Ixy/AY9kGp@c19>
References: <ZSlzi4Ixy/AY9kGp@c19>
Message-ID: <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>

Hi Sandro,

Thanks for raising this discussion. I'll add my knowledge inline below.

But please keep in mind that all this stuff has just been set over time in
a reactionary/evolutionary process to keep things running smoothly, rather
than something which was designed and formalised by a committee in advance.
There's always room for improvement and revision to match current needs! ?

On Sat, 14 Oct 2023 at 05:43, Sandro Santilli via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:
>
> It's not just me, I think, but I cannot tell for sure because the
configuration
> of the infrastructure currently in use (github) is not available for me
to see
> and the governance page on the official QGIS website does not contain this
> information [2]. This being blind of course adds up to my frustration.

This page **definetly** needs an update. There's information on that page
which is ~decades out of date (eg Larry Shaffer hasn't been involved in the
project for around 10 years, the OSX packaging team is incorrect, and the
whole "testing" team is non-existent, etc).

I'm happy to help out here with removing old content. My gut feeling is
that a more exhaustive rework is needed and repository / process related
information doesn't belong on this page, and the page should be left to the
"organisation" level governance information alone.

> From experience, I know that the reason why I cannot write to the QGIS
> repository is because "branch protection" is active (for the master branch
> at least) and a set of conditions are required to merge a PR, namely:
>
>   - All CI tests need to pass.
>
>   - Someone else (I don't know from which group of people) needs to
>     approve the proposed change.

Correct. And I would argue that both of these requirements are a valid
**MINIMUM** protection choice for introducing code into a project which has
real world cost impacts for users exceeding millions and potentially
impacting the lives and safety of others.

> 1. CI is often broken for reasons that are independent from the proposed
>    change.

Definitely a valid issue, and a real PITA. I'm probably restarting that
mingw workflow ~20x a day for everyone's(!) PRs to keep it limping along.

That said, I'd still rather limp this workflow along vs removing it,
because I do believe that it adds value to our tests and gives end users an
easy way to test PRs prior to merge. I feel the same about the noisy
clang-tidy check: it has a LOT of false positives, but around 1 in 10
failures in that workflow is a valid bug which has been flagged prior to
introducing the code. That's still a net win in my view.

> 2. An aberration of the "review" condition is that a change proposed by a
>    contributor and approved by me can be merged but a change proposed by
>    me and approved by the same contributor can not be merged, effectively
>    giving me ("core QGIS committer") less power than the power of a random
>    contributor.

Maybe -- but I would argue that you're looking at the "core contributor"
privilege incorrectly. It's no longer a "you are trusted to put whatever
code you want into the project" vs a "you are trusted to peer review and
approve code proposed for introduction into the project".

Ie **everyone** is on the same level wrt to submitting code for review, but
only the trusted group of core committers are permitted to approve this
code for introduction to QGIS.

>   1. Clearly document the roles and rules on the website

+1

>   2. Allow those with "write access" to self-approve PRs

-1. What's the real motivation here? Why the urgency to get unreviewed code
into QGIS? Again, I am strongly of the opinion that more exhaustive code
merging policies protects our users and their trust in QGIS.

>   3. Define rules by which "write access" privileges to the repository
>      are revoked

+1

Nyall
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231016/2fb95570/attachment.htm>

From stevendkay at gmail.com  Sun Oct 15 12:59:31 2023
From: stevendkay at gmail.com (steven kay)
Date: Sun, 15 Oct 2023 20:59:31 +0100
Subject: [QGIS-Developer] Dropping "render" checkbox from status bar
In-Reply-To: <CAL9iSMHinEx6L_dXy=u=_3CTTtg=JrJPb7mzmVOD+XxbhZxWiA@mail.gmail.com>
References: <CAB28Asgw3OrvCX+8DxST5YubYFCaQ+cuXEpOdb_gLHVv=rcugA@mail.gmail.com>
 <CAL9iSMHinEx6L_dXy=u=_3CTTtg=JrJPb7mzmVOD+XxbhZxWiA@mail.gmail.com>
Message-ID: <CAC0k_QTik2cFY7RtBbuqxWjT1+6ex1Wj9Tx9sZ3yKy7J5tj-oQ@mail.gmail.com>

Yes! I find this useful, sometimes.

Use case: Sometimes I'll use the Db manager to write a query which I add as
a view. With a few million points. Said layer is created dynamically, so it
takes a while to render with the default symbology.

If I can turn off rendering, I don't need to wait for ages for it to
render, I can select the layer and export it as a GPKG, and then import it.

At no point does QGIS GUI become unresponsive - I can just uncheck the box.

I just don't want to wait around for a render I don't need

I hope that makes sense! I'm sure there's a better way in QGIS I'm not
aware of :)

Steven

On Sun, Oct 15, 2023 at 8:39?PM Vedran Stojnovi? via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi Nyall,
>
> I find it useful from time to time with complex layer rendering when it
> takes several seconds or more to render a map canvas and I want to
> investigate attributes currently shown on screen.
>
> My procedure is as follows:
> 1) zoom at the appropriate level and lock rendering
> 2) open the attribute table and set it to display items visible on the map
> 3) move around the map zooming in and out and analyzing the results
>
>
> ned, 15. lis 2023. u 21:30 Nyall Dawson via QGIS-Developer <
> qgis-developer at lists.osgeo.org> napisao je:
>
>> Hi list,
>>
>> Question: are there still any valid use cases for the "render"
>> checkbox in the status bar? It's been around forever, and DID have a
>> strong use case when map rendering used to block the QGIS interface.
>> But is there any reason to keep this around in modern QGIS versions?
>>
>> Nyall
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
> --
> Srda?an pozdrav / Kind regards,
> Vedran Stojnovi?.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231015/d8cdf0f7/attachment.htm>

From nyall.dawson at gmail.com  Sun Oct 15 13:04:38 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 16 Oct 2023 09:04:38 +1300
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAL5Q672y7YF2=DouiiG868vmGkK9E_GhApQOdvGNaSVy2bSxcg@mail.gmail.com>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAL5Q672y7YF2=DouiiG868vmGkK9E_GhApQOdvGNaSVy2bSxcg@mail.gmail.com>
Message-ID: <CAB28AsgHphp_4LgFmwX+ctZKLdjKHEeaCKPYU1dAq_1UqKknAA@mail.gmail.com>

> A small group of us (3-4 developers including me) have admin access to
> all QGIS repositories and we can bypass any check and merge all PRs
> without approval.

I have this power too -- and I use it on a daily basis to keep the whole CI
setup flowing (ie restarting workflows in other's PRs, merging approved PRs
when an unrelated workflow failure has blocked a merge, etc).

I'd like to point out that it's only used to keep the project humming along
for EVERYONE's benefit -- it's not a conspiracy to create a set of "super
committers" with extra power ? .

Nyall


>
> I admit that I have been using these superpowers more and more often
> (IIRC three or four times) in the last year while I have never felt
> the need to use them before, in an ideal world it should not be
> necessary except for the same use cases I have pointed out for the
> direct pushes to master.
>
> The bottom line is that the situation is not perfect and can certainly
> be improved but at the end of the day we are all doing our best to
> keep the process running as smoothly as we can.
>
> Thank you for raising this point, you are absolutely right that it
> should be clearly documented, this has been in our TODO list for a
> long time.
>
> Best regards.
>
>
> On Fri, Oct 13, 2023 at 6:42?PM Sandro Santilli via QGIS-Developer
> <qgis-developer at lists.osgeo.org> wrote:
> >
> > Hello all,
> > today I was finally able to more clearly see the problem that frustrates
> > me everytime a take part to a new QGIS bugfixing drive, and I would like
> > to share it hoping to find a solution togheter.
> >
> > The main problem:
> >
> >   - Despite having been granted write access to the QGIS repository in
2012
> >     [1], I cannot effectively use that power today
> >
> > It's not just me, I think, but I cannot tell for sure because the
configuration
> > of the infrastructure currently in use (github) is not available for me
to see
> > and the governance page on the official QGIS website does not contain
this
> > information [2]. This being blind of course adds up to my frustration.
> >
> > From experience, I know that the reason why I cannot write to the QGIS
> > repository is because "branch protection" is active (for the master
branch
> > at least) and a set of conditions are required to merge a PR, namely:
> >
> >   - All CI tests need to pass.
> >
> >   - Someone else (I don't know from which group of people) needs to
> >     approve the proposed change.
> >
> > While I do the above condition being a useful indication for "QGIS
> > core developers" to decide whether to accept or not a change request,
> > I find them representing an obstacle way more often than a service,
> > and in particular:
> >
> > 1. CI is often broken for reasons that are independent from the proposed
> >    change.
> >
> > 2. An aberration of the "review" condition is that a change proposed by
a
> >    contributor and approved by me can be merged but a change proposed by
> >    me and approved by the same contributor can not be merged,
effectively
> >    giving me ("core QGIS committer") less power than the power of a
random
> >    contributor.
> >
> > The rules described above are not found from the governance page [2]
> > so it isn't easy for me to propose changes because I don't have a clear
> > picture of current rules (like, I believe some people in QGIS can
> > self-approve PRs but dunno how to tell who and why).
> >
> > I would personally welcome (and be able to help taking) the following
actions:
> >
> >   1. Clearly document the roles and rules on the website
> >
> >   2. Allow those with "write access" to self-approve PRs
> >
> >   3. Define rules by which "write access" privileges to the repository
> >      are revoked
> >
> > Thanks for having read this in full, and I hope to hear your position
> > on the matter.  Happy hacking !
> >
> >
> > [1]
https://lists.osgeo.org/pipermail/qgis-developer/2012-October/022715.html
> > [2] https://qgis.org/en/site/getinvolved/governance/governance.html
> >
> > --strk;
> >
> >   Libre GIS consultant/developer
> >   https://strk.kbt.io/services.html
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231016/26f6d199/attachment-0001.htm>

From nyall.dawson at gmail.com  Sun Oct 15 13:15:53 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 16 Oct 2023 09:15:53 +1300
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <ZSqdf2K2Soh6eyML@c19>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAL5Q672y7YF2=DouiiG868vmGkK9E_GhApQOdvGNaSVy2bSxcg@mail.gmail.com>
 <ZSqdf2K2Soh6eyML@c19>
Message-ID: <CAB28AsiSLAvVymb7RBSQ2FYAGbt+MYRk5KmdoMn9peVQKeiKtQ@mail.gmail.com>

On Sun, 15 Oct 2023 at 02:54, Sandro Santilli via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:
>
> That term "committer", btw, should probably be changed nowadays as
> with git it doesnt' make much sense.

+1. Maybe we should go with "review approver" to reflect exactly what this
privilege means today...

>
> > The QGIS organization has a budget for PR queue management (triage)
> > and a separate entry for reviews (budget is public
> > https://www.qgis.org/en/site/getinvolved/governance/finance/index.html)
> > , in the past this has been working well while I agree that recently
> > PRs have been pending without review for a (too) long time.
>
> The bugfixing spreadsheet has a column to report reviewer names,
> but it looks like I'm the only one filling it at the moment.
> You may notice I've also reported reviews from non-committers
> ( Lauren?iu Nicola, in Cc ).

I think everyone is trying to reduce paperwork and that's why that column
is unpopulated ?

Nyall
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231016/3f548a00/attachment.htm>

From strk at kbt.io  Sun Oct 15 13:44:32 2023
From: strk at kbt.io (Sandro Santilli)
Date: Sun, 15 Oct 2023 22:44:32 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
Message-ID: <ZSxPMMl2AnsPgk30@c19>

On Mon, Oct 16, 2023 at 08:58:30AM +1300, Nyall Dawson wrote:
> On Sat, 14 Oct 2023 at 05:43, Sandro Santilli wrote:
>
> >   2. Allow those with "write access" to self-approve PRs
> 
> -1. What's the real motivation here? Why the urgency to get unreviewed code
>     into QGIS?

A recent example of urgency: I broke the pre-commit hook for most
developers, I could have pushed the fix earlier if I didn't have
to wait for a review.

The other motivation is not about urgency but about a conflicting policy:

  - I can be the _only_ reviewer approving a complete stranger's
    proposed change.

  - I can NOT be the _only_ reviewer approving my proposed change.

Is trust given to _me_ as a "reviewer" or not ?
It is in the first case, it isn't in the second case.

> Again, I am strongly of the opinion that more exhaustive code
> merging policies protects our users and their trust in QGIS.

I'm not against policies per-se. For example I'm strongly of the
opinion that those who propose changes should run as many tests
as possible to verify the effects of those changes, and would give
high priority to tasks that aim at making this test runs as smooth
as possible.

Another policy I believe in is that whoever is allowed to apply
changes to the repository should take on the responsibility of
fixing bugs introduced by those changes.

--strk;

From strk at kbt.io  Sun Oct 15 13:56:57 2023
From: strk at kbt.io (Sandro Santilli)
Date: Sun, 15 Oct 2023 22:56:57 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAB28AsgHphp_4LgFmwX+ctZKLdjKHEeaCKPYU1dAq_1UqKknAA@mail.gmail.com>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAL5Q672y7YF2=DouiiG868vmGkK9E_GhApQOdvGNaSVy2bSxcg@mail.gmail.com>
 <CAB28AsgHphp_4LgFmwX+ctZKLdjKHEeaCKPYU1dAq_1UqKknAA@mail.gmail.com>
Message-ID: <ZSxSGb6WlklBA1gp@c19>

On Mon, Oct 16, 2023 at 09:04:38AM +1300, Nyall Dawson wrote:

> I have this power too -- and I use it on a daily basis to keep the whole CI
> setup flowing (ie restarting workflows in other's PRs, merging approved PRs
> when an unrelated workflow failure has blocked a merge, etc).
> 
> I'd like to point out that it's only used to keep the project humming along
> for EVERYONE's benefit -- it's not a conspiracy to create a set of "super
> committers" with extra power ? .

I know you're not doing any evil, I just find it useful to know who
has those powers so I know who to ask to if I need them :)

--strk;

From nyall.dawson at gmail.com  Sun Oct 15 13:59:35 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 16 Oct 2023 09:59:35 +1300
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <ZSxPMMl2AnsPgk30@c19>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
Message-ID: <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>

On Mon, 16 Oct 2023 at 09:44, Sandro Santilli <strk at kbt.io> wrote:
>
> On Mon, Oct 16, 2023 at 08:58:30AM +1300, Nyall Dawson wrote:
> > On Sat, 14 Oct 2023 at 05:43, Sandro Santilli wrote:
> >
> > >   2. Allow those with "write access" to self-approve PRs
> >
> > -1. What's the real motivation here? Why the urgency to get unreviewed code
> >     into QGIS?
>
> A recent example of urgency: I broke the pre-commit hook for most
> developers, I could have pushed the fix earlier if I didn't have
> to wait for a review.

That's a fair example, I'll concede that point! I wonder if tagging
the commit with "[skip ci]" would still permit the merge request to be
merged? It's worth a test.

>
> The other motivation is not about urgency but about a conflicting policy:
>
>   - I can be the _only_ reviewer approving a complete stranger's
>     proposed change.
>
>   - I can NOT be the _only_ reviewer approving my proposed change.
>
> Is trust given to _me_ as a "reviewer" or not ?
> It is in the first case, it isn't in the second case.

If you flip the situation, you'll see that yes, you do have trust!

- a complete stranger CANNOT approve their own changes
- a complete stranger CANNOT approve other stranger's changes
- a complete stranger CANNOT approve an approved member's changes

vs

- an approved member CANNOT approve their own changes
- an approved member CAN approve a complete stranger's changes
- an approved member CAN approve a another approved member's changes

I think the misunderstanding is all about naming. If we drop the
confusing "core committer" label and change it to "approved reviewer",
then everything becomes clear.

(and then we have a separate "super user" group with repo admin level
privileges, which should be kept as SMALL as possibly needed to keep
the repository and CI working, and is unrelated to
code/trust/experience/etc...)

> Another policy I believe in is that whoever is allowed to apply
> changes to the repository should take on the responsibility of
> fixing bugs introduced by those changes.

I'm a hesitant +0 to this. I do think we've all got a good track
record of fixing our own mistakes within reasonable expectations. I'd
be concerned that formalising this would put a lot of unreasonable
expectations on developers (where's the limit? If it's found that I
broke some esoteric workflow not covered by unit tests 3 years later,
am I still responsible for fixing that? I'd argue not).

Nyall
>
> --strk;

From nyall.dawson at gmail.com  Sun Oct 15 14:03:40 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 16 Oct 2023 10:03:40 +1300
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
Message-ID: <CAB28Asix1byKd-0LE81CmtpR_MGtahjZU2QDOE25aoo4n-1zNA@mail.gmail.com>

For completeness:

> - an approved member CANNOT approve their own changes
> - an approved member CAN approve a complete stranger's changes
> - an approved member CAN approve a another approved member's changes

A potential issue which has popped up a couple of times is whether
it's acceptable for another staff member from the same organisation to
approve their colleague's PRs. Is this acceptable or not? Is it a
conflict of interest? Does it lean toward lenient reviews and getting
a speedy merge? Or is it good practice because the organisation isn't
placing any burden on others outside of their organization? ? Who
knows! But definitely work discussing if we are writing up formal
policies...

Nyall






>
> I think the misunderstanding is all about naming. If we drop the
> confusing "core committer" label and change it to "approved reviewer",
> then everything becomes clear.
>
> (and then we have a separate "super user" group with repo admin level
> privileges, which should be kept as SMALL as possibly needed to keep
> the repository and CI working, and is unrelated to
> code/trust/experience/etc...)
>
> > Another policy I believe in is that whoever is allowed to apply
> > changes to the repository should take on the responsibility of
> > fixing bugs introduced by those changes.
>
> I'm a hesitant +0 to this. I do think we've all got a good track
> record of fixing our own mistakes within reasonable expectations. I'd
> be concerned that formalising this would put a lot of unreasonable
> expectations on developers (where's the limit? If it's found that I
> broke some esoteric workflow not covered by unit tests 3 years later,
> am I still responsible for fixing that? I'd argue not).
>
> Nyall
> >
> > --strk;

From njacadieux.gitlab at gmail.com  Sun Oct 15 14:39:34 2023
From: njacadieux.gitlab at gmail.com (Nicolas Cadieux)
Date: Sun, 15 Oct 2023 17:39:34 -0400
Subject: [QGIS-Developer] Dropping "render" checkbox from status bar
In-Reply-To: <CAB28Asgw3OrvCX+8DxST5YubYFCaQ+cuXEpOdb_gLHVv=rcugA@mail.gmail.com>
References: <CAB28Asgw3OrvCX+8DxST5YubYFCaQ+cuXEpOdb_gLHVv=rcugA@mail.gmail.com>
Message-ID: <66EFB117-1EF2-48CA-9350-466ACC910167@gmail.com>

Hi,

Still useful on my side when rendering very heavy stuff and then decide to zoom to another part of the map? 

Nicolas Cadieux

> Le 15 oct. 2023 ? 15:30, Nyall Dawson via QGIS-Developer <qgis-developer at lists.osgeo.org> a ?crit :
> 
> ?Hi list,
> 
> Question: are there still any valid use cases for the "render"
> checkbox in the status bar? It's been around forever, and DID have a
> strong use case when map rendering used to block the QGIS interface.
> But is there any reason to keep this around in modern QGIS versions?
> 
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From pablogabrieldeluca at gmail.com  Sun Oct 15 19:01:07 2023
From: pablogabrieldeluca at gmail.com (Gabriel De Luca)
Date: Sun, 15 Oct 2023 23:01:07 -0300
Subject: [QGIS-Developer] Best practices for storing plugin settings
Message-ID: <CAB-dfs0Fc8i7XEumWroR9Y2GfF6mKCrp0WLhf1u==Ce6ewUDGQ@mail.gmail.com>

Hello everyone,

  I'm developing a plugin and I'm not sure where to write the settings.

  Should I create the settings object with my own organization and
application? I would expect a plugin's settings to be stored in the profile
folder where the plugin is installed, within the same qgis configurations
file, so it doesn't seem like a good option to me.

  If I write the settings under the same organization and application as
QGIS, is it appropriate to create a root group for my plugin? All the
plugins I have installed did that, but for some reason they are hidden when
viewing the advanced settings with the new tree widget.

  Is the "plugins" group appropriate to create a sub-group/key with the
name of my plugin?

  The only email I found in the archive referring to the settings structure
is [1], I'll keep it in mind when it comes to group/key names, but any
other recommendations on good practices for third-party plugins are welcome.


Regards,
Gabriel

[1] https://lists.osgeo.org/pipermail/qgis-developer/2017-March/047487.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231015/caf26b3a/attachment-0001.htm>

From regis.haubourg at gmail.com  Sun Oct 15 23:47:01 2023
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 16 Oct 2023 08:47:01 +0200
Subject: [QGIS-Developer] Dropping "render" checkbox from status bar
In-Reply-To: <66EFB117-1EF2-48CA-9350-466ACC910167@gmail.com>
References: <CAB28Asgw3OrvCX+8DxST5YubYFCaQ+cuXEpOdb_gLHVv=rcugA@mail.gmail.com>
 <66EFB117-1EF2-48CA-9350-466ACC910167@gmail.com>
Message-ID: <CABgOYCfJBrgM84oSF-7vj-6OgWzaQXZ-cs0tvc6bd-HuBKX44w@mail.gmail.com>

Same here. I use this when playing with huge datasets.
Cheers
R?gis

Le dim. 15 oct. 2023, 23:39, Nicolas Cadieux via QGIS-Developer <
qgis-developer at lists.osgeo.org> a ?crit :

> Hi,
>
> Still useful on my side when rendering very heavy stuff and then decide to
> zoom to another part of the map?
>
> Nicolas Cadieux
>
> > Le 15 oct. 2023 ? 15:30, Nyall Dawson via QGIS-Developer <
> qgis-developer at lists.osgeo.org> a ?crit :
> >
> > ?Hi list,
> >
> > Question: are there still any valid use cases for the "render"
> > checkbox in the status bar? It's been around forever, and DID have a
> > strong use case when map rendering used to block the QGIS interface.
> > But is there any reason to keep this around in modern QGIS versions?
> >
> > Nyall
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231016/5b05413a/attachment.htm>

From gdt at lexort.com  Mon Oct 16 05:29:38 2023
From: gdt at lexort.com (Greg Troxel)
Date: Mon, 16 Oct 2023 08:29:38 -0400
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 (Nyall Dawson via's message of "Mon, 16 Oct 2023 08:58:30 +1300")
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
Message-ID: <rmi4jiqyclp.fsf@s1.lexort.com>

As someone on the outside of the committer set (which is fine!) for
qgis, but familiar with the larger issues (and a packager):

  I'm going to use the word committer.  git has renamed things, but the
  point is of course placing state in the branch that matters in the
  repo that matters.

  There's a question about how the rules evolved, and how they change,
  and that's hard to answer, but it's not really a big issue.

  The rules not being written down and understandable is a big
  issue with an easy fix.
  It is quite easy for someone who knows them to just put them in a
  HACKING.md <humor> or CONTRIBUTING.md if you lean to github vs GNU</>.

  Sandro's point about 1 committer approving a stranger's change has
  some merit, but I think we have to separate:
    - review to avoid bugs
    - review to avoid injection of malware
  Presumably, one would only approve/merge a chagne if it is clean,
  neat, meets standards, works, etc., and if it were more complicated a
  committer should ask others/wait/etc.

  If we're going to insist on CI passing to merge, then it really needs
  to pass essentially all the time.  This means disabling parts of it if
  they are flaky, or demoting them to a 2nd workflow that is not
  considered a failure.
  

From nick at geospatialtrainingsolutions.co.uk  Mon Oct 16 06:40:17 2023
From: nick at geospatialtrainingsolutions.co.uk (Nick Bearman)
Date: Mon, 16 Oct 2023 14:40:17 +0100
Subject: [QGIS-Developer] Dropping "render" checkbox from status bar
In-Reply-To: <CABgOYCfJBrgM84oSF-7vj-6OgWzaQXZ-cs0tvc6bd-HuBKX44w@mail.gmail.com>
References: <CAB28Asgw3OrvCX+8DxST5YubYFCaQ+cuXEpOdb_gLHVv=rcugA@mail.gmail.com>
 <66EFB117-1EF2-48CA-9350-466ACC910167@gmail.com>
 <CABgOYCfJBrgM84oSF-7vj-6OgWzaQXZ-cs0tvc6bd-HuBKX44w@mail.gmail.com>
Message-ID: <107d61b0-5392-be10-5b89-0a1917a839be@geospatialtrainingsolutions.co.uk>

Hi Nyall / all,

You might be interested that the Ordnance Survey documentation for OS 
Features API makes use of the "render" check box in the setup when 
pulling data from their API. See 
https://osdatahub.os.uk/docs/wfs/gettingStarted under QGIS and search 
for "render".

Whether or not this is a good idea or is needed I don't know but I 
thought you might be interested that it is used here.

For the record - I am not linked with Ordnance Survey and didn't write 
the instructions, I just used them a couple of times!

Best wishes,
Nick.

On 16/10/2023 07:47, R?gis Haubourg via QGIS-Developer wrote:
> Same here. I use this when playing with huge datasets.
> Cheers
> R?gis
>
> Le dim. 15 oct. 2023, 23:39, Nicolas Cadieux via QGIS-Developer 
> <qgis-developer at lists.osgeo.org> a ?crit?:
>
>     Hi,
>
>     Still useful on my side when rendering very heavy stuff and then
>     decide to zoom to another part of the map?
>
>     Nicolas Cadieux
>
>     > Le 15 oct. 2023 ? 15:30, Nyall Dawson via QGIS-Developer
>     <qgis-developer at lists.osgeo.org> a ?crit :
>     >
>     > ?Hi list,
>     >
>     > Question: are there still any valid use cases for the "render"
>     > checkbox in the status bar? It's been around forever, and DID have a
>     > strong use case when map rendering used to block the QGIS interface.
>     > But is there any reason to keep this around in modern QGIS versions?
>     >
>     > Nyall
>     > _______________________________________________
>     > QGIS-Developer mailing list
>     > QGIS-Developer at lists.osgeo.org
>     > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Nick Bearman
+44 (0) 7717745715
nick at geospatialtrainingsolutions.co.uk

Due to my own life/work balance, you may get emails from me outside of normal working hours. Please do not feel any pressure to respond outside of your own working pattern.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231016/a37a25c9/attachment.htm>

From strk at kbt.io  Mon Oct 16 07:41:42 2023
From: strk at kbt.io (Sandro Santilli)
Date: Mon, 16 Oct 2023 16:41:42 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
Message-ID: <ZS1LphPlGIi58Orq@c19>

On Mon, Oct 16, 2023 at 09:59:35AM +1300, Nyall Dawson via QGIS-Developer wrote:

> If you flip the situation, you'll see that yes, you do have trust!
> 
> - a complete stranger CANNOT approve their own changes
> - a complete stranger CANNOT approve other stranger's changes
> - a complete stranger CANNOT approve an approved member's changes
> 
> vs
> 
> - an approved member CANNOT approve their own changes
> - an approved member CAN approve a complete stranger's changes
> - an approved member CAN approve a another approved member's changes

That's partial trust. I'm trusted to be able to judge someone else's
work but not to judge my own work !

Beside the same-company reviews things, consider I could always ask a
friend to file PRs for the sole purpose of me being able to merge them
in (I cannot merge my own...). The policy is flawed to me.

--strk;

From strk at kbt.io  Mon Oct 16 07:56:43 2023
From: strk at kbt.io (Sandro Santilli)
Date: Mon, 16 Oct 2023 16:56:43 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <ZS1LphPlGIi58Orq@c19>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19>
Message-ID: <ZS1PK/AhfiYc3swG@c19>

On Mon, Oct 16, 2023 at 04:41:42PM +0200, Sandro Santilli via QGIS-Developer wrote:
> On Mon, Oct 16, 2023 at 09:59:35AM +1300, Nyall Dawson via QGIS-Developer wrote:
> 
> > If you flip the situation, you'll see that yes, you do have trust!
> > 
> > - a complete stranger CANNOT approve their own changes
> > - a complete stranger CANNOT approve other stranger's changes
> > - a complete stranger CANNOT approve an approved member's changes
> > 
> > vs
> > 
> > - an approved member CANNOT approve their own changes
> > - an approved member CAN approve a complete stranger's changes
> > - an approved member CAN approve a another approved member's changes
> 
> That's partial trust. I'm trusted to be able to judge someone else's
> work but not to judge my own work !
> 
> Beside the same-company reviews things, consider I could always ask a
> friend to file PRs for the sole purpose of me being able to merge them
> in (I cannot merge my own...). The policy is flawed to me.

My suggestion here is that having given someone "write privileges" status
means the community trusts that individual to know the rules and be able
to apply them, in a way that does not striclty requires someone else
to guard after his/her work.

This isn't to say that reviews aren't important and that all of use
should always aim at having reviews, but that the judgement abilities
of the "writers" should be trusted, and if that trust is not hold
anymore the "write privileges" should be revoked, following a documented
procedure.

--strk;

From Jean-Francois.Bourdon at mrnf.gouv.qc.ca  Mon Oct 16 12:57:39 2023
From: Jean-Francois.Bourdon at mrnf.gouv.qc.ca (=?iso-8859-1?Q?Bourdon=2C_Jean-Fran=E7ois_=28DIF=29?=)
Date: Mon, 16 Oct 2023 19:57:39 +0000
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <ZS1PK/AhfiYc3swG@c19>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19> <ZS1PK/AhfiYc3swG@c19>
Message-ID: <QB1PR01MB294813BE87CE25250F5FF9CBB9D7A@QB1PR01MB2948.CANPRD01.PROD.OUTLOOK.COM>

[Intranet logo]

I'm far from a regular contributor to QGIS and thus not affected by this issue, but I see this review process the same way I see how peer-reviewed research papers get published (but a bit less stringent). In research, your manuscript is sent to 3 or 4 reviewers that will give comments, then you make corrections and resend the manuscript for a final review before getting published. This workflow is valid for every researcher that want to publish in a peer-reviewed journal, even for those that are also reviewer. It can be slow and frustrating at times, but having an other set of eyes on your work usually result in a better overall paper.

Software development is different than peer-reviewed research publication but getting inspiration by this centuries old process is certainly appropriate. Going back to QGIS, I see the value in having the PR of a reviewer reviewed by an other reviewer in this second fresh set of eyes that can improve on an already fine job. Every reviewer can be trusted for their expertise and judgement... but needing someone else to review your code shouldn't be seen as distrustful.

As for the conflict of interest if the reviewer works for the same company, in the academia world, the reviewer would be in conflict of interest (real or not) and would need to withdraw (the equivalent of a company being the same department of a research institute or a close collaborator). Considering that in academia this constrain has a lot to do with avoiding an idea being pushed without criticism, it might be overkill in software development where the ideas/orientations are not decided on a PR basis, but more at the PSC and with the general consensus between the devs (that's how I see it, I might be wrong).



Jean-Fran?ois Bourdon, ing.f.
Analyste en t?l?d?tection
Direction des inventaires forestiers
Minist?re des Ressources naturelles et des For?ts
5700, 4e Avenue Ouest, local A-108
Qu?bec (Qu?bec) G1H 6R1
T?l?phone : 418 627-8669, poste 704304
jean-francois.bourdon at mrnf.gouv.qc.ca
mrnf.gouv.qc.ca

-----Message d'origine-----
De : QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la part de Sandro Santilli via QGIS-Developer
Envoy? : 16 octobre 2023 10:57
? : Nyall Dawson <nyall.dawson at gmail.com>; qgis-developer at lists.osgeo.org
Objet : Re: [QGIS-Developer] QGIS repository management

On Mon, Oct 16, 2023 at 04:41:42PM +0200, Sandro Santilli via QGIS-Developer wrote:
> On Mon, Oct 16, 2023 at 09:59:35AM +1300, Nyall Dawson via QGIS-Developer wrote:
>
> > If you flip the situation, you'll see that yes, you do have trust!
> >
> > - a complete stranger CANNOT approve their own changes
> > - a complete stranger CANNOT approve other stranger's changes
> > - a complete stranger CANNOT approve an approved member's changes
> >
> > vs
> >
> > - an approved member CANNOT approve their own changes
> > - an approved member CAN approve a complete stranger's changes
> > - an approved member CAN approve a another approved member's changes
>
> That's partial trust. I'm trusted to be able to judge someone else's
> work but not to judge my own work !
>
> Beside the same-company reviews things, consider I could always ask a
> friend to file PRs for the sole purpose of me being able to merge them
> in (I cannot merge my own...). The policy is flawed to me.

My suggestion here is that having given someone "write privileges" status means the community trusts that individual to know the rules and be able to apply them, in a way that does not striclty requires someone else to guard after his/her work.

This isn't to say that reviews aren't important and that all of use should always aim at having reviews, but that the judgement abilities of the "writers" should be trusted, and if that trust is not hold anymore the "write privileges" should be revoked, following a documented procedure.

--strk;
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Mon Oct 16 19:08:34 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 17 Oct 2023 15:08:34 +1300
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <ZS1LphPlGIi58Orq@c19>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19>
Message-ID: <CAB28AsjS4AZWNOyp5u8U7ArP1DZKZJHU2+ZNDUCfsJmDwN6K7Q@mail.gmail.com>

On Tue, 17 Oct 2023 at 03:41, Sandro Santilli <strk at kbt.io> wrote:
>
> On Mon, Oct 16, 2023 at 09:59:35AM +1300, Nyall Dawson via QGIS-Developer wrote:
>
> > If you flip the situation, you'll see that yes, you do have trust!
> >
> > - a complete stranger CANNOT approve their own changes
> > - a complete stranger CANNOT approve other stranger's changes
> > - a complete stranger CANNOT approve an approved member's changes
> >
> > vs
> >
> > - an approved member CANNOT approve their own changes
> > - an approved member CAN approve a complete stranger's changes
> > - an approved member CAN approve a another approved member's changes
>
> That's partial trust. I'm trusted to be able to judge someone else's
> work but not to judge my own work !

Ok, it's partial trust. What's wrong with that? I wouldn't trust
myself not to make accidental mistakes, or do something inefficient,
or that I'm not duplicating code which is present elsewhere in QGIS. A
second set of eyes over a pull request definitely reduces that risk.
QGIS is MASSIVE, and none of us can keep a complete picture of the
impact of code changes in our heads.

Some real world examples, picked at semi-random (because they are recent):

https://github.com/qgis/QGIS/pull/54941 : Submitted by a core
developer. I reviewed, and it looked good to me. But then a third (!)
set of eyes over the code has revealed a massive potential performance
regression caused by the change (thanks Even!).

https://github.com/qgis/QGIS/pull/54670: Submitted by a very
experienced core developer. Code looks good at first pass, no visible
bugs. But it's introducing a partial duplication of another utility
function implemented elsewhere and exhaustively tested. The review
identified that and as a result we avoided introducing an unnecessary,
non trivial duplication of code.

That's two examples. I'd very conservatively estimate that 1 in 10
approved PRs submitted by core committers have at least one set of
changes suggested and implemented. Let's (pessimistically!) write half
of those off as non-bugs, such as optimisation suggestions or changes
relating to documentation/comments/code style. That's still **AT
BEST** 1 in 20 pull requests submitted by core committers which needed
fixes.

In short: I'm more than OK with only partial trusting everyone. We ALL
make mistakes, so let's stick with the processes we have which reduce
the risk of these mistakes hitting end users..

Nyall


>
> Beside the same-company reviews things, consider I could always ask a
> friend to file PRs for the sole purpose of me being able to merge them
> in (I cannot merge my own...). The policy is flawed to me.
>
> --strk;

From strk at kbt.io  Tue Oct 17 00:46:51 2023
From: strk at kbt.io (Sandro Santilli)
Date: Tue, 17 Oct 2023 09:46:51 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAB28AsjS4AZWNOyp5u8U7ArP1DZKZJHU2+ZNDUCfsJmDwN6K7Q@mail.gmail.com>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19>
 <CAB28AsjS4AZWNOyp5u8U7ArP1DZKZJHU2+ZNDUCfsJmDwN6K7Q@mail.gmail.com>
Message-ID: <ZS4769ztE0DFHK/f@c19>

On Tue, Oct 17, 2023 at 03:08:34PM +1300, Nyall Dawson via QGIS-Developer wrote:
> On Tue, 17 Oct 2023 at 03:41, Sandro Santilli <strk at kbt.io> wrote:
> >
> > On Mon, Oct 16, 2023 at 09:59:35AM +1300, Nyall Dawson via QGIS-Developer wrote:
> >
> > > If you flip the situation, you'll see that yes, you do have trust!
> > >
> > > - a complete stranger CANNOT approve their own changes
> > > - a complete stranger CANNOT approve other stranger's changes
> > > - a complete stranger CANNOT approve an approved member's changes
> > >
> > > vs
> > >
> > > - an approved member CANNOT approve their own changes
> > > - an approved member CAN approve a complete stranger's changes
> > > - an approved member CAN approve a another approved member's changes
> >
> > That's partial trust. I'm trusted to be able to judge someone else's
> > work but not to judge my own work !
> 
> Ok, it's partial trust. What's wrong with that?

I feel I'm not explaining myself correctly.
I do believe in peer review, and I'm happy for others to look at the
changes I propose. I'd love everyone to look at them!

The word "partial" was not appropriate, probably, it's more about
"inconsistency". 

> In short: I'm more than OK with only partial trusting everyone. We ALL
> make mistakes, so let's stick with the processes we have which reduce
> the risk of these mistakes hitting end users..

I know I make mistakes, but I'm able to merge changes proposed by a
random contributor, where my own review is enough.

I'm FULLY trusted in that case, and this is conflicting with not
being so when it's me proposing the changes.

Why should I be able to merge in that case then ? Is it because
2 people review the code ? Me and the proponent ? Then why the
random contributor review would not count on MY prs ?

I hope you see the discrepancy here.

--strk;

  Libre GIS consultant/developer
  https://strk.kbt.io/services.html

From lova at kartoza.com  Tue Oct 17 01:17:28 2023
From: lova at kartoza.com (Lova Andriarimalala)
Date: Tue, 17 Oct 2023 08:17:28 +0000
Subject: [QGIS-Developer] QGIS Developer - Introduction
Message-ID: <DU2PR02MB755824C879B6ABCCC24ABBCDFBD6A@DU2PR02MB7558.eurprd02.prod.outlook.com>

Hello to everyone.

My name is Lova, and I would like to introduce myself as a QGIS funded developer. I studied geography at the University of Antananarivo where I started using QGIS Desktop. I have a background in cartography, GIS Analysis and Web-GIS Developement. I have been a QGIS user for almost 10 years and I enjoy making beautiful maps with it.

My intention is to forward a weekly report to you every Friday, detailing my latest contributions. I kindly request your concurrence on this matter; however, if you hold dissenting views, I would appreciate your prompt notification. Furthermore, should you possess any recommendations, I welcome your input and kindly ask that you transmit them to me.

Currently, I am working on the QGIS Home Page News Feed website. Hopefully, I will send you a report on Friday describing all changes and updates that I made.

I always believe in the power of QGIS not only as a FOSS tool but also as a project that aim various sectors. I am delighted to contribute to the project.

Kind regards,
Lova
--
[image.png][X]

Lova Andriarimalala

QGIS Full Stack Developer

Visit http://kartoza.com<http://kartoza.com/> to find out about open source:

* Desktop GIS programming services

* Geospatial web development

* GIS Training

* Consulting Services

Office: +261(0)34 09 524 73



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231017/60079f3c/attachment-0001.htm>

From apasotti at gmail.com  Tue Oct 17 01:26:10 2023
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 17 Oct 2023 10:26:10 +0200
Subject: [QGIS-Developer] QGIS Developer - Introduction
In-Reply-To: <DU2PR02MB755824C879B6ABCCC24ABBCDFBD6A@DU2PR02MB7558.eurprd02.prod.outlook.com>
References: <DU2PR02MB755824C879B6ABCCC24ABBCDFBD6A@DU2PR02MB7558.eurprd02.prod.outlook.com>
Message-ID: <CAL5Q6707VHPFmrwKfsr-UdLjuNc01XNzT0Ht1FRa_UZKc5mqQA@mail.gmail.com>

Welcome Lova!

Looking forward to seeing your reports!

Kind regards

On Tue, Oct 17, 2023 at 10:17?AM Lova Andriarimalala via
QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:
>
> Hello to everyone.
>
> My name is Lova, and I would like to introduce myself as a QGIS funded developer. I studied geography at the University of Antananarivo where I started using QGIS Desktop. I have a background in cartography, GIS Analysis and Web-GIS Developement. I have been a QGIS user for almost 10 years and I enjoy making beautiful maps with it.
>
> My intention is to forward a weekly report to you every Friday, detailing my latest contributions. I kindly request your concurrence on this matter; however, if you hold dissenting views, I would appreciate your prompt notification. Furthermore, should you possess any recommendations, I welcome your input and kindly ask that you transmit them to me.
>
> Currently, I am working on the QGIS Home Page News Feed website. Hopefully, I will send you a report on Friday describing all changes and updates that I made.
>
> I always believe in the power of QGIS not only as a FOSS tool but also as a project that aim various sectors. I am delighted to contribute to the project.
>
> Kind regards,
> Lova
> --
>
> Lova Andriarimalala
>
> QGIS Full Stack Developer
>
> Visit http://kartoza.com to find out about open source:
>
> * Desktop GIS programming services
>
> * Geospatial web development
>
> * GIS Training
>
> * Consulting Services
>
> Office: +261(0)34 09 524 73
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From matthias at opengis.ch  Tue Oct 17 02:38:18 2023
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 17 Oct 2023 11:38:18 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <ZS4769ztE0DFHK/f@c19>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19>
 <CAB28AsjS4AZWNOyp5u8U7ArP1DZKZJHU2+ZNDUCfsJmDwN6K7Q@mail.gmail.com>
 <ZS4769ztE0DFHK/f@c19>
Message-ID: <CAC7zN97xFLiG3OJ_SkwbAVH8pCnfKbbj9_gm4rYDe9fFdBxgyw@mail.gmail.com>

In my experience, the peer reviews have proven to be an effective tool to
improve the code quality.
I think it can be explained with a four eyes principle. The first two eyes
are involved in writing the code, the second pair of eyes that validates
needs to be a trusted pair.
For a code base of the maturity of QGIS, this seems to me to be justified
and reasonable.

As for who can do a review, a potential conflict of interest has been
raised. This arises most noticeable within a single company, but can also
very well be the case whenever a collaboration occurs between multiple
individuals or if a well-connected client is involved. In my experience, in
most cases people will first ask the person that they trust to be most
qualified to review a specific area of the code, regardless the
organisation they work for. In some cases, this may be your colleagues.
What I and others have done in the past in such cases, is to leave an
additional review window of a couple of days before merging to give
everyone the opportunity to jump in if they wanted to, just to be sure to
play it fair. In my experience, this worked quite nicely, but I am also
open to other approaches.

As for failing tests, I think one possibly low hanging fruit would be to
switch all CI workflows to be based on non-rolling distributions. And we
could potentially also be a bit more strict with disabling flaky tests or
making them optional.

Best wishes
Matthias

On Tue, Oct 17, 2023 at 9:47?AM Sandro Santilli via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> On Tue, Oct 17, 2023 at 03:08:34PM +1300, Nyall Dawson via QGIS-Developer
> wrote:
> > On Tue, 17 Oct 2023 at 03:41, Sandro Santilli <strk at kbt.io> wrote:
> > >
> > > On Mon, Oct 16, 2023 at 09:59:35AM +1300, Nyall Dawson via
> QGIS-Developer wrote:
> > >
> > > > If you flip the situation, you'll see that yes, you do have trust!
> > > >
> > > > - a complete stranger CANNOT approve their own changes
> > > > - a complete stranger CANNOT approve other stranger's changes
> > > > - a complete stranger CANNOT approve an approved member's changes
> > > >
> > > > vs
> > > >
> > > > - an approved member CANNOT approve their own changes
> > > > - an approved member CAN approve a complete stranger's changes
> > > > - an approved member CAN approve a another approved member's changes
> > >
> > > That's partial trust. I'm trusted to be able to judge someone else's
> > > work but not to judge my own work !
> >
> > Ok, it's partial trust. What's wrong with that?
>
> I feel I'm not explaining myself correctly.
> I do believe in peer review, and I'm happy for others to look at the
> changes I propose. I'd love everyone to look at them!
>
> The word "partial" was not appropriate, probably, it's more about
> "inconsistency".
>
> > In short: I'm more than OK with only partial trusting everyone. We ALL
> > make mistakes, so let's stick with the processes we have which reduce
> > the risk of these mistakes hitting end users..
>
> I know I make mistakes, but I'm able to merge changes proposed by a
> random contributor, where my own review is enough.
>
> I'm FULLY trusted in that case, and this is conflicting with not
> being so when it's me proposing the changes.
>
> Why should I be able to merge in that case then ? Is it because
> 2 people review the code ? Me and the proponent ? Then why the
> random contributor review would not count on MY prs ?
>
> I hope you see the discrepancy here.
>
> --strk;
>
>   Libre GIS consultant/developer
>   https://strk.kbt.io/services.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231017/a5e1632f/attachment.htm>

From julien.cabieces at oslandia.com  Tue Oct 17 08:42:25 2023
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Tue, 17 Oct 2023 17:42:25 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAC7zN97xFLiG3OJ_SkwbAVH8pCnfKbbj9_gm4rYDe9fFdBxgyw@mail.gmail.com>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19>
 <CAB28AsjS4AZWNOyp5u8U7ArP1DZKZJHU2+ZNDUCfsJmDwN6K7Q@mail.gmail.com>
 <ZS4769ztE0DFHK/f@c19>
 <CAC7zN97xFLiG3OJ_SkwbAVH8pCnfKbbj9_gm4rYDe9fFdBxgyw@mail.gmail.com>
Message-ID: <87v8b5uu3a.fsf@julienlaptop.home>


Hi,


Even if it's sometime painful to wait for a review, I completely suscribe
to the actual processus of review by another peer for the reasons
well explained by others.

IMHO, the main issue here is that the CI is too often broken for no
reasons related to the PR content. And most of the time recently, it's
because of one of the mingw jobs.

Like proposed by Matthias, I would be very much in favor in modifying
our CI jobs to rely on non-rolling release distribution.

Regards,
Julien


> In my experience, the peer reviews have proven to be an effective tool to improve the code quality.
> I think it can be explained with a four eyes principle. The first two eyes are involved in writing the code, the second pair of eyes that validates
> needs to be a trusted pair.
> For a code base of the maturity of QGIS, this seems to me to be justified and reasonable.
>
> As for who can do a review, a potential conflict of interest has been raised. This arises most noticeable within a single company, but can also
> very well be the case whenever a collaboration occurs between multiple individuals or if a well-connected client is involved. In my experience, in
> most cases people will first ask the person that they trust to be most qualified to review a specific area of the code, regardless the organisation
> they work for. In some cases, this may be your colleagues. What I and others have done in the past in such cases, is to leave an additional review
> window of a couple of days before merging to give everyone the opportunity to jump in if they wanted to, just to be sure to play it fair. In my
> experience, this worked quite nicely, but I am also open to other approaches.
>
> As for failing tests, I think one possibly low hanging fruit would be to switch all CI workflows to be based on non-rolling distributions. And we
> could potentially also be a bit more strict with disabling flaky tests or making them optional.
>
> Best wishes
> Matthias
>
> On Tue, Oct 17, 2023 at 9:47?AM Sandro Santilli via QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:
>
>  On Tue, Oct 17, 2023 at 03:08:34PM +1300, Nyall Dawson via QGIS-Developer wrote:
>  > On Tue, 17 Oct 2023 at 03:41, Sandro Santilli <strk at kbt.io> wrote:
>  > >
>  > > On Mon, Oct 16, 2023 at 09:59:35AM +1300, Nyall Dawson via QGIS-Developer wrote:
>  > >
>  > > > If you flip the situation, you'll see that yes, you do have trust!
>  > > >
>  > > > - a complete stranger CANNOT approve their own changes
>  > > > - a complete stranger CANNOT approve other stranger's changes
>  > > > - a complete stranger CANNOT approve an approved member's changes
>  > > >
>  > > > vs
>  > > >
>  > > > - an approved member CANNOT approve their own changes
>  > > > - an approved member CAN approve a complete stranger's changes
>  > > > - an approved member CAN approve a another approved member's changes
>  > >
>  > > That's partial trust. I'm trusted to be able to judge someone else's
>  > > work but not to judge my own work !
>  > 
>  > Ok, it's partial trust. What's wrong with that?
>
>  I feel I'm not explaining myself correctly.
>  I do believe in peer review, and I'm happy for others to look at the
>  changes I propose. I'd love everyone to look at them!
>
>  The word "partial" was not appropriate, probably, it's more about
>  "inconsistency". 
>
>  > In short: I'm more than OK with only partial trusting everyone. We ALL
>  > make mistakes, so let's stick with the processes we have which reduce
>  > the risk of these mistakes hitting end users..
>
>  I know I make mistakes, but I'm able to merge changes proposed by a
>  random contributor, where my own review is enough.
>
>  I'm FULLY trusted in that case, and this is conflicting with not
>  being so when it's me proposing the changes.
>
>  Why should I be able to merge in that case then ? Is it because
>  2 people review the code ? Me and the proponent ? Then why the
>  random contributor review would not count on MY prs ?
>
>  I hope you see the discrepancy here.
>
>  --strk;
>
>    Libre GIS consultant/developer
>    https://strk.kbt.io/services.html
>  _______________________________________________
>  QGIS-Developer mailing list
>  QGIS-Developer at lists.osgeo.org
>  List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 

Julien Cabieces
Senior Developer at Oslandia
julien.cabieces at oslandia.com

From nyall.dawson at gmail.com  Tue Oct 17 12:18:46 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 18 Oct 2023 08:18:46 +1300
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <87v8b5uu3a.fsf@julienlaptop.home>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19>
 <CAB28AsjS4AZWNOyp5u8U7ArP1DZKZJHU2+ZNDUCfsJmDwN6K7Q@mail.gmail.com>
 <ZS4769ztE0DFHK/f@c19>
 <CAC7zN97xFLiG3OJ_SkwbAVH8pCnfKbbj9_gm4rYDe9fFdBxgyw@mail.gmail.com>
 <87v8b5uu3a.fsf@julienlaptop.home>
Message-ID: <CAB28Ash-WeAvAyV5Qd33aBp7hUgaeKe_eEPOfQdVrLL7cKTuOg@mail.gmail.com>

>
> IMHO, the main issue here is that the CI is too often broken for no
> reasons related to the PR content. And most of the time recently, it's
> because of one of the mingw jobs.

I suggest we move this conversation into more practical areas and
focus instead on the actual CI issues.

In my experience there's a couple of main issues here:

1. The mingw build fails often with the error:

cd /__w/QGIS/QGIS/build_mingw64/resources && /usr/bin/cmake -E copy
/__w/QGIS/QGIS/resources/srs6.db
/__w/QGIS/QGIS/build_mingw64/resources/srs.db
make[2]: write error: stdout

It always succeeds if you restart the job though. I don't know what's
causing this... a disk space issue? (but then why would it succeed on
the following attempt?)

2. The msys2 build can take HOURS (5+ in some cases). The qt 5/ qt6
builds also see occasional extremely slow builds.

I think the root cause of this is that we've exhausted all the
available space allowed for caching objects on github. All the builds
are trying to cache things to speed up the workflows, but the
different caches are randomly getting deleted because together they've
well exceeded the total allowed size. The solutions I could see here
are:

- approaching github to ask nicely for more space
- dropping one or more workflows. Maybe we could combine the msys2 and
mingw workflow into one to cut out one workflow. But that's blocked
because the msys2 workflow currently has a lot of things disabled
(including python), so it's currently not a suitable replacement for
the mingw builds which give end users an easy way to test PRs on
windows.

3. Random test failures. Main culprits are:
- ept provider test (but I **think** I've fixed this with
improvements/fixes made over the 3.34 bug fixing period). At least, I
don't recall seeing this in the last week, when it used to be a daily
random fail.
- raster file writer test: randomly fails for an unknown reason. The
test passes valgrind/asan fine, so I suspect the random failures are
caused by some interplay with other tests modifying data in the test
data folder. More work is needed.
- raster analysis utils test: same as above.
- network access manager test: depends on the badssl external website,
which goes down occasionally. We could potentially run this site
ourselves as part of the CI setup, but that's trading the dependence
on an external service for added CI maintenance burden on ourselves.

4. Docker/ubuntu repository fails. This happens occasionally -- the
external repos will have transient connectivity issues. Not much we
can do here except manually re-running the jobs.

Is there anything I've missed?

Nyall









>
> Like proposed by Matthias, I would be very much in favor in modifying
> our CI jobs to rely on non-rolling release distribution.
>
> Regards,
> Julien
>
>
> > In my experience, the peer reviews have proven to be an effective tool to improve the code quality.
> > I think it can be explained with a four eyes principle. The first two eyes are involved in writing the code, the second pair of eyes that validates
> > needs to be a trusted pair.
> > For a code base of the maturity of QGIS, this seems to me to be justified and reasonable.
> >
> > As for who can do a review, a potential conflict of interest has been raised. This arises most noticeable within a single company, but can also
> > very well be the case whenever a collaboration occurs between multiple individuals or if a well-connected client is involved. In my experience, in
> > most cases people will first ask the person that they trust to be most qualified to review a specific area of the code, regardless the organisation
> > they work for. In some cases, this may be your colleagues. What I and others have done in the past in such cases, is to leave an additional review
> > window of a couple of days before merging to give everyone the opportunity to jump in if they wanted to, just to be sure to play it fair. In my
> > experience, this worked quite nicely, but I am also open to other approaches.
> >
> > As for failing tests, I think one possibly low hanging fruit would be to switch all CI workflows to be based on non-rolling distributions. And we
> > could potentially also be a bit more strict with disabling flaky tests or making them optional.
> >
> > Best wishes
> > Matthias
> >
> > On Tue, Oct 17, 2023 at 9:47?AM Sandro Santilli via QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:
> >
> >  On Tue, Oct 17, 2023 at 03:08:34PM +1300, Nyall Dawson via QGIS-Developer wrote:
> >  > On Tue, 17 Oct 2023 at 03:41, Sandro Santilli <strk at kbt.io> wrote:
> >  > >
> >  > > On Mon, Oct 16, 2023 at 09:59:35AM +1300, Nyall Dawson via QGIS-Developer wrote:
> >  > >
> >  > > > If you flip the situation, you'll see that yes, you do have trust!
> >  > > >
> >  > > > - a complete stranger CANNOT approve their own changes
> >  > > > - a complete stranger CANNOT approve other stranger's changes
> >  > > > - a complete stranger CANNOT approve an approved member's changes
> >  > > >
> >  > > > vs
> >  > > >
> >  > > > - an approved member CANNOT approve their own changes
> >  > > > - an approved member CAN approve a complete stranger's changes
> >  > > > - an approved member CAN approve a another approved member's changes
> >  > >
> >  > > That's partial trust. I'm trusted to be able to judge someone else's
> >  > > work but not to judge my own work !
> >  >
> >  > Ok, it's partial trust. What's wrong with that?
> >
> >  I feel I'm not explaining myself correctly.
> >  I do believe in peer review, and I'm happy for others to look at the
> >  changes I propose. I'd love everyone to look at them!
> >
> >  The word "partial" was not appropriate, probably, it's more about
> >  "inconsistency".
> >
> >  > In short: I'm more than OK with only partial trusting everyone. We ALL
> >  > make mistakes, so let's stick with the processes we have which reduce
> >  > the risk of these mistakes hitting end users..
> >
> >  I know I make mistakes, but I'm able to merge changes proposed by a
> >  random contributor, where my own review is enough.
> >
> >  I'm FULLY trusted in that case, and this is conflicting with not
> >  being so when it's me proposing the changes.
> >
> >  Why should I be able to merge in that case then ? Is it because
> >  2 people review the code ? Me and the proponent ? Then why the
> >  random contributor review would not count on MY prs ?
> >
> >  I hope you see the discrepancy here.
> >
> >  --strk;
> >
> >    Libre GIS consultant/developer
> >    https://strk.kbt.io/services.html
> >  _______________________________________________
> >  QGIS-Developer mailing list
> >  QGIS-Developer at lists.osgeo.org
> >  List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >  Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> --
>
> Julien Cabieces
> Senior Developer at Oslandia
> julien.cabieces at oslandia.com
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From strk at kbt.io  Tue Oct 17 15:35:54 2023
From: strk at kbt.io (Sandro Santilli)
Date: Wed, 18 Oct 2023 00:35:54 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAB28Ash-WeAvAyV5Qd33aBp7hUgaeKe_eEPOfQdVrLL7cKTuOg@mail.gmail.com>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19>
 <CAB28AsjS4AZWNOyp5u8U7ArP1DZKZJHU2+ZNDUCfsJmDwN6K7Q@mail.gmail.com>
 <ZS4769ztE0DFHK/f@c19>
 <CAC7zN97xFLiG3OJ_SkwbAVH8pCnfKbbj9_gm4rYDe9fFdBxgyw@mail.gmail.com>
 <87v8b5uu3a.fsf@julienlaptop.home>
 <CAB28Ash-WeAvAyV5Qd33aBp7hUgaeKe_eEPOfQdVrLL7cKTuOg@mail.gmail.com>
Message-ID: <ZS8MSozesgzoa2PP@c19>

On Wed, Oct 18, 2023 at 08:18:46AM +1300, Nyall Dawson via QGIS-Developer wrote:
> >
> > IMHO, the main issue here is that the CI is too often broken for no
> > reasons related to the PR content. And most of the time recently, it's
> > because of one of the mingw jobs.
> 
> I suggest we move this conversation into more practical areas and
> focus instead on the actual CI issues.

CI was only 50% of the issue I raised, the other 50% was government
issues, which practically is acted upon by:

  1. Make roles clearly documented:
     - who can change github configuration in case of problems
     - who is allowed to push to which branches
     - who can apply labels to issues/PRs
     - how the above privileges are granted and revoked

> In my experience there's a couple of main issues here:
> 
> 1. The mingw build fails often with the error:
> 2. The msys2 build can take HOURS (5+ in some cases)
> 3. Random test failures. Main culprits are:
> 4. Docker/ubuntu repository fails
>
> Is there anything I've missed?

Lauren?iu (grayshade in Matrix) noticed the Ubuntu-22.04
matrix build is far slower than the Fedora 38 (one), I didn't
dig that up.

Another thing I hit was layout failures in CI that could have
been prevented by having those tests run locally by pre-commit
hooks, like with this 3-days old and green PR:
https://github.com/qgis/QGIS/pull/54936

Each PR triggers 28 workflows, and I looks like a failure in a
layout workflow does not stop the others which contend resources
with other PRs. Today I've seen up to 44 workflows running in
parallel, which slow down each one of them. The more tests developers
can run locally, the lighter we are on the central infrastructure.

In general, I think it's easier if each of these issues we find
is filed as a ticket and labeled with "testsuite" [1] and/or
"CI/GitHub-Actions" [2] as appropriate. 

[1] https://github.com/qgis/QGIS/issues?q=is%3Aopen+is%3Aissue+label%3Atestsuite
[2] https://github.com/qgis/QGIS/issues?q=is%3Aopen+is%3Aissue+label%3ACI%2FGitHub-Actions

--strk;

From matthias at opengis.ch  Tue Oct 17 23:24:51 2023
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 18 Oct 2023 08:24:51 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAB28Ash-WeAvAyV5Qd33aBp7hUgaeKe_eEPOfQdVrLL7cKTuOg@mail.gmail.com>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19>
 <CAB28AsjS4AZWNOyp5u8U7ArP1DZKZJHU2+ZNDUCfsJmDwN6K7Q@mail.gmail.com>
 <ZS4769ztE0DFHK/f@c19>
 <CAC7zN97xFLiG3OJ_SkwbAVH8pCnfKbbj9_gm4rYDe9fFdBxgyw@mail.gmail.com>
 <87v8b5uu3a.fsf@julienlaptop.home>
 <CAB28Ash-WeAvAyV5Qd33aBp7hUgaeKe_eEPOfQdVrLL7cKTuOg@mail.gmail.com>
Message-ID: <CAC7zN96S4r4wkBVsx9pBmuNvXjcNcmpjw-0LzWtwEGTu7G9-3Q@mail.gmail.com>

On Tue, Oct 17, 2023 at 9:19?PM Nyall Dawson via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> >
> > IMHO, the main issue here is that the CI is too often broken for no
> > reasons related to the PR content. And most of the time recently, it's
> > because of one of the mingw jobs.
>
> I suggest we move this conversation into more practical areas and
> focus instead on the actual CI issues.
>
> In my experience there's a couple of main issues here:
>
> 1. The mingw build fails often with the error:
>
> cd /__w/QGIS/QGIS/build_mingw64/resources && /usr/bin/cmake -E copy
> /__w/QGIS/QGIS/resources/srs6.db
> /__w/QGIS/QGIS/build_mingw64/resources/srs.db
> make[2]: write error: stdout
>
> It always succeeds if you restart the job though. I don't know what's
> causing this... a disk space issue? (but then why would it succeed on
> the following attempt?)
>

mingw runs on ubuntu-latest within a fedora container. ubuntu images come
with plenty of bloat preinstalled that can be easily deleted.
cf.
https://github.com/easimon/maximize-build-space/blob/master/action.yml#L114-L130
I just don't know how to do that if a "container" is specified as the
delete action will need to happen on the base system.


>
> 2. The msys2 build can take HOURS (5+ in some cases). The qt 5/ qt6
> builds also see occasional extremely slow builds.
>
> I think the root cause of this is that we've exhausted all the
> available space allowed for caching objects on github. All the builds
> are trying to cache things to speed up the workflows, but the
> different caches are randomly getting deleted because together they've
> well exceeded the total allowed size. The solutions I could see here
> are:
>
> - approaching github to ask nicely for more space
> - dropping one or more workflows. Maybe we could combine the msys2 and
> mingw workflow into one to cut out one workflow. But that's blocked
> because the msys2 workflow currently has a lot of things disabled
> (including python), so it's currently not a suitable replacement for
> the mingw builds which give end users an easy way to test PRs on
> windows.
>

What is the advantage of the msys2 workflow?
It does "some build on windows" but IIUC does not replicate the actual
windows build using OSGEO4W. Is there something else that it brings to the
mix?


>
> 3. Random test failures. Main culprits are:
> - ept provider test (but I **think** I've fixed this with
> improvements/fixes made over the 3.34 bug fixing period). At least, I
> don't recall seeing this in the last week, when it used to be a daily
> random fail.
> - raster file writer test: randomly fails for an unknown reason. The
> test passes valgrind/asan fine, so I suspect the random failures are
> caused by some interplay with other tests modifying data in the test
> data folder. More work is needed.
> - raster analysis utils test: same as above.
> - network access manager test: depends on the badssl external website,
> which goes down occasionally. We could potentially run this site
> ourselves as part of the CI setup, but that's trading the dependence
> on an external service for added CI maintenance burden on ourselves.
>
> 4. Docker/ubuntu repository fails. This happens occasionally -- the
> external repos will have transient connectivity issues. Not much we
> can do here except manually re-running the jobs.
>
> Is there anything I've missed?
>

There is also the occasional "QGIS is not compatible with the bleeding edge
[sip, name your dependency] version that [rolling distro] has decided to
start shipping today".

Matthias


>
> Nyall
>
>
>
>
>
>
>
>
>
> >
> > Like proposed by Matthias, I would be very much in favor in modifying
> > our CI jobs to rely on non-rolling release distribution.
> >
> > Regards,
> > Julien
> >
> >
> > > In my experience, the peer reviews have proven to be an effective tool
> to improve the code quality.
> > > I think it can be explained with a four eyes principle. The first two
> eyes are involved in writing the code, the second pair of eyes that
> validates
> > > needs to be a trusted pair.
> > > For a code base of the maturity of QGIS, this seems to me to be
> justified and reasonable.
> > >
> > > As for who can do a review, a potential conflict of interest has been
> raised. This arises most noticeable within a single company, but can also
> > > very well be the case whenever a collaboration occurs between multiple
> individuals or if a well-connected client is involved. In my experience, in
> > > most cases people will first ask the person that they trust to be most
> qualified to review a specific area of the code, regardless the organisation
> > > they work for. In some cases, this may be your colleagues. What I and
> others have done in the past in such cases, is to leave an additional review
> > > window of a couple of days before merging to give everyone the
> opportunity to jump in if they wanted to, just to be sure to play it fair.
> In my
> > > experience, this worked quite nicely, but I am also open to other
> approaches.
> > >
> > > As for failing tests, I think one possibly low hanging fruit would be
> to switch all CI workflows to be based on non-rolling distributions. And we
> > > could potentially also be a bit more strict with disabling flaky tests
> or making them optional.
> > >
> > > Best wishes
> > > Matthias
> > >
> > > On Tue, Oct 17, 2023 at 9:47?AM Sandro Santilli via QGIS-Developer <
> qgis-developer at lists.osgeo.org> wrote:
> > >
> > >  On Tue, Oct 17, 2023 at 03:08:34PM +1300, Nyall Dawson via
> QGIS-Developer wrote:
> > >  > On Tue, 17 Oct 2023 at 03:41, Sandro Santilli <strk at kbt.io> wrote:
> > >  > >
> > >  > > On Mon, Oct 16, 2023 at 09:59:35AM +1300, Nyall Dawson via
> QGIS-Developer wrote:
> > >  > >
> > >  > > > If you flip the situation, you'll see that yes, you do have
> trust!
> > >  > > >
> > >  > > > - a complete stranger CANNOT approve their own changes
> > >  > > > - a complete stranger CANNOT approve other stranger's changes
> > >  > > > - a complete stranger CANNOT approve an approved member's
> changes
> > >  > > >
> > >  > > > vs
> > >  > > >
> > >  > > > - an approved member CANNOT approve their own changes
> > >  > > > - an approved member CAN approve a complete stranger's changes
> > >  > > > - an approved member CAN approve a another approved member's
> changes
> > >  > >
> > >  > > That's partial trust. I'm trusted to be able to judge someone
> else's
> > >  > > work but not to judge my own work !
> > >  >
> > >  > Ok, it's partial trust. What's wrong with that?
> > >
> > >  I feel I'm not explaining myself correctly.
> > >  I do believe in peer review, and I'm happy for others to look at the
> > >  changes I propose. I'd love everyone to look at them!
> > >
> > >  The word "partial" was not appropriate, probably, it's more about
> > >  "inconsistency".
> > >
> > >  > In short: I'm more than OK with only partial trusting everyone. We
> ALL
> > >  > make mistakes, so let's stick with the processes we have which
> reduce
> > >  > the risk of these mistakes hitting end users..
> > >
> > >  I know I make mistakes, but I'm able to merge changes proposed by a
> > >  random contributor, where my own review is enough.
> > >
> > >  I'm FULLY trusted in that case, and this is conflicting with not
> > >  being so when it's me proposing the changes.
> > >
> > >  Why should I be able to merge in that case then ? Is it because
> > >  2 people review the code ? Me and the proponent ? Then why the
> > >  random contributor review would not count on MY prs ?
> > >
> > >  I hope you see the discrepancy here.
> > >
> > >  --strk;
> > >
> > >    Libre GIS consultant/developer
> > >    https://strk.kbt.io/services.html
> > >  _______________________________________________
> > >  QGIS-Developer mailing list
> > >  QGIS-Developer at lists.osgeo.org
> > >  List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > >  Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > >
> > > _______________________________________________
> > > QGIS-Developer mailing list
> > > QGIS-Developer at lists.osgeo.org
> > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> > --
> >
> > Julien Cabieces
> > Senior Developer at Oslandia
> > julien.cabieces at oslandia.com
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231018/b4134eb5/attachment-0001.htm>

From julien.cabieces at oslandia.com  Wed Oct 18 00:01:38 2023
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Wed, 18 Oct 2023 09:01:38 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAC7zN96S4r4wkBVsx9pBmuNvXjcNcmpjw-0LzWtwEGTu7G9-3Q@mail.gmail.com>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19>
 <CAB28AsjS4AZWNOyp5u8U7ArP1DZKZJHU2+ZNDUCfsJmDwN6K7Q@mail.gmail.com>
 <ZS4769ztE0DFHK/f@c19>
 <CAC7zN97xFLiG3OJ_SkwbAVH8pCnfKbbj9_gm4rYDe9fFdBxgyw@mail.gmail.com>
 <87v8b5uu3a.fsf@julienlaptop.home>
 <CAB28Ash-WeAvAyV5Qd33aBp7hUgaeKe_eEPOfQdVrLL7cKTuOg@mail.gmail.com>
 <CAC7zN96S4r4wkBVsx9pBmuNvXjcNcmpjw-0LzWtwEGTu7G9-3Q@mail.gmail.com>
Message-ID: <87lec0v203.fsf@julienlaptop.home>


> Is there anything I've missed?


A missing external ressource (OTB, oracle binaries...) that we get with curl. This one for
instance recently :
https://github.com/qgis/QGIS/actions/runs/6549790513/job/17793674746?pr=54963

Maybe we could store those ressources somewhere (a github repository for
instance?) to avoid those errors.

> network access manager test: depends on the badssl external website,
>  which goes down occasionally. We could potentially run this site
>  ourselves as part of the CI setup, but that's trading the dependence
>  on an external service for added CI maintenance burden on ourselves.
>

That's what we do for webdav and minio tests :
https://github.com/qgis/QGIS/blob/master/.docker/docker-compose-testing.yml#L14

I don't know much about bad ssl returned response but is it that much
complicated to configure ?

Regards,
Julien


> On Tue, Oct 17, 2023 at 9:19?PM Nyall Dawson via QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:
>
>  >
>  > IMHO, the main issue here is that the CI is too often broken for no
>  > reasons related to the PR content. And most of the time recently, it's
>  > because of one of the mingw jobs.
>
>  I suggest we move this conversation into more practical areas and
>  focus instead on the actual CI issues.
>
>  In my experience there's a couple of main issues here:
>
>  1. The mingw build fails often with the error:
>
>  cd /__w/QGIS/QGIS/build_mingw64/resources && /usr/bin/cmake -E copy
>  /__w/QGIS/QGIS/resources/srs6.db
>  /__w/QGIS/QGIS/build_mingw64/resources/srs.db
>  make[2]: write error: stdout
>
>  It always succeeds if you restart the job though. I don't know what's
>  causing this... a disk space issue? (but then why would it succeed on
>  the following attempt?)
>
> mingw runs on ubuntu-latest within a fedora container. ubuntu images come with plenty of bloat preinstalled that can be easily deleted.
> cf. https://github.com/easimon/maximize-build-space/blob/master/action.yml#L114-L130
> I just don't know how to do that if a "container" is specified as the delete action will need to happen on the base system.
>  
>  
>  2. The msys2 build can take HOURS (5+ in some cases). The qt 5/ qt6
>  builds also see occasional extremely slow builds.
>
>  I think the root cause of this is that we've exhausted all the
>  available space allowed for caching objects on github. All the builds
>  are trying to cache things to speed up the workflows, but the
>  different caches are randomly getting deleted because together they've
>  well exceeded the total allowed size. The solutions I could see here
>  are:
>
>  - approaching github to ask nicely for more space
>  - dropping one or more workflows. Maybe we could combine the msys2 and
>  mingw workflow into one to cut out one workflow. But that's blocked
>  because the msys2 workflow currently has a lot of things disabled
>  (including python), so it's currently not a suitable replacement for
>  the mingw builds which give end users an easy way to test PRs on
>  windows.
>
> What is the advantage of the msys2 workflow?
> It does "some build on windows" but IIUC does not replicate the actual windows build using OSGEO4W. Is there something else that it brings to
> the mix?
>  
>  
>  3. Random test failures. Main culprits are:
>  - ept provider test (but I **think** I've fixed this with
>  improvements/fixes made over the 3.34 bug fixing period). At least, I
>  don't recall seeing this in the last week, when it used to be a daily
>  random fail.
>  - raster file writer test: randomly fails for an unknown reason. The
>  test passes valgrind/asan fine, so I suspect the random failures are
>  caused by some interplay with other tests modifying data in the test
>  data folder. More work is needed.
>  - raster analysis utils test: same as above.
>  - network access manager test: depends on the badssl external website,
>  which goes down occasionally. We could potentially run this site
>  ourselves as part of the CI setup, but that's trading the dependence
>  on an external service for added CI maintenance burden on ourselves.
>
>  4. Docker/ubuntu repository fails. This happens occasionally -- the
>  external repos will have transient connectivity issues. Not much we
>  can do here except manually re-running the jobs.
>
>  Is there anything I've missed?
>
> There is also the occasional "QGIS is not compatible with the bleeding edge [sip, name your dependency] version that [rolling distro] has
> decided to start shipping today".
>
> Matthias
>  
>  
>  Nyall
>
>  >
>  > Like proposed by Matthias, I would be very much in favor in modifying
>  > our CI jobs to rely on non-rolling release distribution.
>  >
>  > Regards,
>  > Julien
>  >
>  >
>  > > In my experience, the peer reviews have proven to be an effective tool to improve the code quality.
>  > > I think it can be explained with a four eyes principle. The first two eyes are involved in writing the code, the second pair of eyes that
>  validates
>  > > needs to be a trusted pair.
>  > > For a code base of the maturity of QGIS, this seems to me to be justified and reasonable.
>  > >
>  > > As for who can do a review, a potential conflict of interest has been raised. This arises most noticeable within a single company, but can
>  also
>  > > very well be the case whenever a collaboration occurs between multiple individuals or if a well-connected client is involved. In my
>  experience, in
>  > > most cases people will first ask the person that they trust to be most qualified to review a specific area of the code, regardless the
>  organisation
>  > > they work for. In some cases, this may be your colleagues. What I and others have done in the past in such cases, is to leave an
>  additional review
>  > > window of a couple of days before merging to give everyone the opportunity to jump in if they wanted to, just to be sure to play it fair.
>  In my
>  > > experience, this worked quite nicely, but I am also open to other approaches.
>  > >
>  > > As for failing tests, I think one possibly low hanging fruit would be to switch all CI workflows to be based on non-rolling distributions.
>  And we
>  > > could potentially also be a bit more strict with disabling flaky tests or making them optional.
>  > >
>  > > Best wishes
>  > > Matthias
>  > >
>  > > On Tue, Oct 17, 2023 at 9:47?AM Sandro Santilli via QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:
>  > >
>  > >  On Tue, Oct 17, 2023 at 03:08:34PM +1300, Nyall Dawson via QGIS-Developer wrote:
>  > >  > On Tue, 17 Oct 2023 at 03:41, Sandro Santilli <strk at kbt.io> wrote:
>  > >  > >
>  > >  > > On Mon, Oct 16, 2023 at 09:59:35AM +1300, Nyall Dawson via QGIS-Developer wrote:
>  > >  > >
>  > >  > > > If you flip the situation, you'll see that yes, you do have trust!
>  > >  > > >
>  > >  > > > - a complete stranger CANNOT approve their own changes
>  > >  > > > - a complete stranger CANNOT approve other stranger's changes
>  > >  > > > - a complete stranger CANNOT approve an approved member's changes
>  > >  > > >
>  > >  > > > vs
>  > >  > > >
>  > >  > > > - an approved member CANNOT approve their own changes
>  > >  > > > - an approved member CAN approve a complete stranger's changes
>  > >  > > > - an approved member CAN approve a another approved member's changes
>  > >  > >
>  > >  > > That's partial trust. I'm trusted to be able to judge someone else's
>  > >  > > work but not to judge my own work !
>  > >  >
>  > >  > Ok, it's partial trust. What's wrong with that?
>  > >
>  > >  I feel I'm not explaining myself correctly.
>  > >  I do believe in peer review, and I'm happy for others to look at the
>  > >  changes I propose. I'd love everyone to look at them!
>  > >
>  > >  The word "partial" was not appropriate, probably, it's more about
>  > >  "inconsistency".
>  > >
>  > >  > In short: I'm more than OK with only partial trusting everyone. We ALL
>  > >  > make mistakes, so let's stick with the processes we have which reduce
>  > >  > the risk of these mistakes hitting end users..
>  > >
>  > >  I know I make mistakes, but I'm able to merge changes proposed by a
>  > >  random contributor, where my own review is enough.
>  > >
>  > >  I'm FULLY trusted in that case, and this is conflicting with not
>  > >  being so when it's me proposing the changes.
>  > >
>  > >  Why should I be able to merge in that case then ? Is it because
>  > >  2 people review the code ? Me and the proponent ? Then why the
>  > >  random contributor review would not count on MY prs ?
>  > >
>  > >  I hope you see the discrepancy here.
>  > >
>  > >  --strk;
>  > >
>  > >    Libre GIS consultant/developer
>  > >    https://strk.kbt.io/services.html
>  > >  _______________________________________________
>  > >  QGIS-Developer mailing list
>  > >  QGIS-Developer at lists.osgeo.org
>  > >  List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > >  Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > >
>  > > _______________________________________________
>  > > QGIS-Developer mailing list
>  > > QGIS-Developer at lists.osgeo.org
>  > > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  >
>  >
>  > --
>  >
>  > Julien Cabieces
>  > Senior Developer at Oslandia
>  > julien.cabieces at oslandia.com
>  > _______________________________________________
>  > QGIS-Developer mailing list
>  > QGIS-Developer at lists.osgeo.org
>  > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  _______________________________________________
>  QGIS-Developer mailing list
>  QGIS-Developer at lists.osgeo.org
>  List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 

Julien Cabieces
Senior Developer at Oslandia
julien.cabieces at oslandia.com

From matthias at opengis.ch  Wed Oct 18 01:11:11 2023
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 18 Oct 2023 10:11:11 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <87lec0v203.fsf@julienlaptop.home>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19>
 <CAB28AsjS4AZWNOyp5u8U7ArP1DZKZJHU2+ZNDUCfsJmDwN6K7Q@mail.gmail.com>
 <ZS4769ztE0DFHK/f@c19>
 <CAC7zN97xFLiG3OJ_SkwbAVH8pCnfKbbj9_gm4rYDe9fFdBxgyw@mail.gmail.com>
 <87v8b5uu3a.fsf@julienlaptop.home>
 <CAB28Ash-WeAvAyV5Qd33aBp7hUgaeKe_eEPOfQdVrLL7cKTuOg@mail.gmail.com>
 <CAC7zN96S4r4wkBVsx9pBmuNvXjcNcmpjw-0LzWtwEGTu7G9-3Q@mail.gmail.com>
 <87lec0v203.fsf@julienlaptop.home>
Message-ID: <CAC7zN94ByzRML_rsHdOZYTYh0sdefyVSrynjCE1MnKTn+SgQoA@mail.gmail.com>

On Wed, Oct 18, 2023 at 9:11?AM Julien Cabieces <
julien.cabieces at oslandia.com> wrote:

>
> > Is there anything I've missed?
>
>
> A missing external ressource (OTB, oracle binaries...) that we get with
> curl. This one for
> instance recently :
>
> https://github.com/qgis/QGIS/actions/runs/6549790513/job/17793674746?pr=54963
>
> Maybe we could store those ressources somewhere (a github repository for
> instance?) to avoid those errors.
>

It looks like this is a docker container, this could possibly be cached in
the ghcr?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231018/3e7bf700/attachment.htm>

From julien.cabieces at oslandia.com  Wed Oct 18 07:30:24 2023
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Wed, 18 Oct 2023 16:30:24 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAC7zN94ByzRML_rsHdOZYTYh0sdefyVSrynjCE1MnKTn+SgQoA@mail.gmail.com>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19>
 <CAB28AsjS4AZWNOyp5u8U7ArP1DZKZJHU2+ZNDUCfsJmDwN6K7Q@mail.gmail.com>
 <ZS4769ztE0DFHK/f@c19>
 <CAC7zN97xFLiG3OJ_SkwbAVH8pCnfKbbj9_gm4rYDe9fFdBxgyw@mail.gmail.com>
 <87v8b5uu3a.fsf@julienlaptop.home>
 <CAB28Ash-WeAvAyV5Qd33aBp7hUgaeKe_eEPOfQdVrLL7cKTuOg@mail.gmail.com>
 <CAC7zN96S4r4wkBVsx9pBmuNvXjcNcmpjw-0LzWtwEGTu7G9-3Q@mail.gmail.com>
 <87lec0v203.fsf@julienlaptop.home>
 <CAC7zN94ByzRML_rsHdOZYTYh0sdefyVSrynjCE1MnKTn+SgQoA@mail.gmail.com>
Message-ID: <87edhsuheu.fsf@julienlaptop.home>


> It looks like this is a docker container, this could possibly be cached in the ghcr?

It's part of the qgis3-qt5-build-deps.dockerfile [0] which is built with a
cache github action [1]. But looking at the log, it doesn't look like cache
is at work, everything seems to be downloaded and built inside the
docker.

Is it what you are refering to? or is it something else?

[0]
https://github.com/qgis/QGIS/blob/master/.docker/qgis3-qt5-build-deps.dockerfile#L165
[1] https://github.com/qgis/QGIS/blob/master/.github/workflows/run-tests.yml#L117

> On Wed, Oct 18, 2023 at 9:11?AM Julien Cabieces <julien.cabieces at oslandia.com> wrote:
>
>  > Is there anything I've missed?
>
>  A missing external ressource (OTB, oracle binaries...) that we get with curl. This one for
>  instance recently :
>  https://github.com/qgis/QGIS/actions/runs/6549790513/job/17793674746?pr=54963
>
>  Maybe we could store those ressources somewhere (a github repository for
>  instance?) to avoid those errors.
>
> It looks like this is a docker container, this could possibly be cached in the ghcr?


-- 

Julien Cabieces
Senior Developer at Oslandia
julien.cabieces at oslandia.com

From matthias at opengis.ch  Wed Oct 18 07:47:30 2023
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 18 Oct 2023 16:47:30 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <87edhsuheu.fsf@julienlaptop.home>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19>
 <CAB28AsjS4AZWNOyp5u8U7ArP1DZKZJHU2+ZNDUCfsJmDwN6K7Q@mail.gmail.com>
 <ZS4769ztE0DFHK/f@c19>
 <CAC7zN97xFLiG3OJ_SkwbAVH8pCnfKbbj9_gm4rYDe9fFdBxgyw@mail.gmail.com>
 <87v8b5uu3a.fsf@julienlaptop.home>
 <CAB28Ash-WeAvAyV5Qd33aBp7hUgaeKe_eEPOfQdVrLL7cKTuOg@mail.gmail.com>
 <CAC7zN96S4r4wkBVsx9pBmuNvXjcNcmpjw-0LzWtwEGTu7G9-3Q@mail.gmail.com>
 <87lec0v203.fsf@julienlaptop.home>
 <CAC7zN94ByzRML_rsHdOZYTYh0sdefyVSrynjCE1MnKTn+SgQoA@mail.gmail.com>
 <87edhsuheu.fsf@julienlaptop.home>
Message-ID: <CAC7zN97V3=yFXm2qQQ6tuu3JS4vJRU=MRHq-=ZcZ-W+LeehdHw@mail.gmail.com>

Yes, pretty much.
Interesting is, that for the other job based on fedora 38 the cache works,
see e.g.
working:
https://github.com/qgis/QGIS/actions/runs/6560633128/job/17818675001#step:7:117
not working:
https://github.com/qgis/QGIS/actions/runs/6560633128/job/17818674503#step:7:182

Matthias

On Wed, Oct 18, 2023 at 4:36?PM Julien Cabieces <
julien.cabieces at oslandia.com> wrote:

>
> > It looks like this is a docker container, this could possibly be cached
> in the ghcr?
>
> It's part of the qgis3-qt5-build-deps.dockerfile [0] which is built with a
> cache github action [1]. But looking at the log, it doesn't look like cache
> is at work, everything seems to be downloaded and built inside the
> docker.
>
> Is it what you are refering to? or is it something else?
>
> [0]
>
> https://github.com/qgis/QGIS/blob/master/.docker/qgis3-qt5-build-deps.dockerfile#L165
> [1]
> https://github.com/qgis/QGIS/blob/master/.github/workflows/run-tests.yml#L117
>
> > On Wed, Oct 18, 2023 at 9:11?AM Julien Cabieces <
> julien.cabieces at oslandia.com> wrote:
> >
> >  > Is there anything I've missed?
> >
> >  A missing external ressource (OTB, oracle binaries...) that we get with
> curl. This one for
> >  instance recently :
> >
> https://github.com/qgis/QGIS/actions/runs/6549790513/job/17793674746?pr=54963
> >
> >  Maybe we could store those ressources somewhere (a github repository for
> >  instance?) to avoid those errors.
> >
> > It looks like this is a docker container, this could possibly be cached
> in the ghcr?
>
>
> --
>
> Julien Cabieces
> Senior Developer at Oslandia
> julien.cabieces at oslandia.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231018/de32ee12/attachment.htm>

From julien.cabieces at oslandia.com  Wed Oct 18 23:53:38 2023
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Thu, 19 Oct 2023 08:53:38 +0200
Subject: [QGIS-Developer] QGIS repository management
In-Reply-To: <CAC7zN97V3=yFXm2qQQ6tuu3JS4vJRU=MRHq-=ZcZ-W+LeehdHw@mail.gmail.com>
References: <ZSlzi4Ixy/AY9kGp@c19>
 <CAB28AshcyfCbhLZQp8j5p9kSjtK_twah6p1cFMB_tWcwhH0SVw@mail.gmail.com>
 <ZSxPMMl2AnsPgk30@c19>
 <CAB28AsgZ=sp+3TVfyxpTD=WngDPLPEN_9RnXiDmjY+ykhYKYug@mail.gmail.com>
 <ZS1LphPlGIi58Orq@c19>
 <CAB28AsjS4AZWNOyp5u8U7ArP1DZKZJHU2+ZNDUCfsJmDwN6K7Q@mail.gmail.com>
 <ZS4769ztE0DFHK/f@c19>
 <CAC7zN97xFLiG3OJ_SkwbAVH8pCnfKbbj9_gm4rYDe9fFdBxgyw@mail.gmail.com>
 <87v8b5uu3a.fsf@julienlaptop.home>
 <CAB28Ash-WeAvAyV5Qd33aBp7hUgaeKe_eEPOfQdVrLL7cKTuOg@mail.gmail.com>
 <CAC7zN96S4r4wkBVsx9pBmuNvXjcNcmpjw-0LzWtwEGTu7G9-3Q@mail.gmail.com>
 <87lec0v203.fsf@julienlaptop.home>
 <CAC7zN94ByzRML_rsHdOZYTYh0sdefyVSrynjCE1MnKTn+SgQoA@mail.gmail.com>
 <87edhsuheu.fsf@julienlaptop.home>
 <CAC7zN97V3=yFXm2qQQ6tuu3JS4vJRU=MRHq-=ZcZ-W+LeehdHw@mail.gmail.com>
Message-ID: <877cnjumnn.fsf@julienlaptop.home>



Interesting indeed. Maybe its because of the the multistage build when
it comes to the non working job. That's the only big difference I see
between the 2.

> Yes, pretty much.
> Interesting is, that for the other job based on fedora 38 the cache works, see e.g.
> working: https://github.com/qgis/QGIS/actions/runs/6560633128/job/17818675001#step:7:117
> not working: https://github.com/qgis/QGIS/actions/runs/6560633128/job/17818674503#step:7:182
>
> Matthias
>
> On Wed, Oct 18, 2023 at 4:36?PM Julien Cabieces <julien.cabieces at oslandia.com> wrote:
>
>  > It looks like this is a docker container, this could possibly be cached in the ghcr?
>
>  It's part of the qgis3-qt5-build-deps.dockerfile [0] which is built with a
>  cache github action [1]. But looking at the log, it doesn't look like cache
>  is at work, everything seems to be downloaded and built inside the
>  docker.
>
>  Is it what you are refering to? or is it something else?
>
>  [0]
>  https://github.com/qgis/QGIS/blob/master/.docker/qgis3-qt5-build-deps.dockerfile#L165
>  [1] https://github.com/qgis/QGIS/blob/master/.github/workflows/run-tests.yml#L117
>
>  > On Wed, Oct 18, 2023 at 9:11?AM Julien Cabieces <julien.cabieces at oslandia.com> wrote:
>  >
>  >  > Is there anything I've missed?
>  >
>  >  A missing external ressource (OTB, oracle binaries...) that we get with curl. This one for
>  >  instance recently :
>  >  https://github.com/qgis/QGIS/actions/runs/6549790513/job/17793674746?pr=54963
>  >
>  >  Maybe we could store those ressources somewhere (a github repository for
>  >  instance?) to avoid those errors.
>  >
>  > It looks like this is a docker container, this could possibly be cached in the ghcr?
>
>  -- 
>
>  Julien Cabieces
>  Senior Developer at Oslandia
>  julien.cabieces at oslandia.com


-- 

Julien Cabieces
Senior Developer at Oslandia
julien.cabieces at oslandia.com

From rhea.moubarak at gmail.com  Thu Oct 19 02:23:34 2023
From: rhea.moubarak at gmail.com (Rhea)
Date: Thu, 19 Oct 2023 11:23:34 +0200
Subject: [QGIS-Developer] Enhancing QGIS Development and Security Features
 Proposition
Message-ID: <ADAEFA03-076F-4B1A-A636-0FC753B7B24D@gmail.com>

To whom it may concern,

Here?s my proposition for an enhancement in QGIS that i wish to do for my client:

Title: Enhancing QGIS Development and Security Features 
Introduction: 
My name is Rhea and I am a Project Manager in a consulting firm and I'm in charge of an Open-Source Service for some clients in Paris, France. 
One of my clients, one of the world leaders in renewable energy is asking me for a development on QGIS.  
This development is very important for my client and its subsidiary company for the following reasons: 
- QGIS is an important client which will be deployed on Windows user stations.  
- In addition to the tool monitoring service for security breaches and others, my client needs us to develop a QGIS CLIENT strain that meets their security requirements: no call on the internet for the recovery of extensions, recovery of certain strategic extensions to place them on the client's repository. 
We will oversee the development, and we would like to propose it to you so you can integrate it to keep it alive. 

Proposal: 
Here are the main tasks to develop: 
 
1. Stop QGIS Calls on the Internet: 
- There's a need to be able to control internet access for QGIS versions and extensions. 
- For security and stability benefits. 
- This implementation can be developed as a feature to enable/disable internet access in QGIS settings. 
2, Integration of Useful QGIS Extensions: 
- A specific list of 40 extensions that my client finds valuable. 
- These extensions can enhance QGIS functionality for our client 
- We can offer to collaborate in integrating these extensions into the QGIS core or provide guidance on how users can easily install them. 
3. Python Console Restrictions: 
- The need to restrict the Python console for security and stability reasons. 
- Proposition would be a feature that allows users to limit Python console functionality based on their needs. 
4. Community Collaboration: 
- We are willing to collaborate with the QGIS community on these developments. 
- We encourage feedback, suggestions, and contributions from the community. 

Conclusion: 
1. Summarizing the key points of my proposal: 
- Stop QGIS Calls on the Internet 
- Integration of Useful QGIS Extensions 
- Python Console Restrictions 
2. The benefits of these developments for the broader QGIS user base: 
- More security and stability benefits 
- More flexibility and options 

My client wouldn?t wish to continue with this development if the community is not willing to integrate it and keep it alive as it will require a lot of work to keep it going in newer versions of QGIS.

We would like to extend our sincere gratitude to the QGIS community for taking the time to consider our proposal. Your expertise and collaboration are essential to enhancing QGIS for users worldwide. We eagerly anticipate the opportunity to work.

Best,
Rhea
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231019/b81a4813/attachment-0001.htm>

From pablogabrieldeluca at gmail.com  Thu Oct 19 05:46:21 2023
From: pablogabrieldeluca at gmail.com (Gabriel De Luca)
Date: Thu, 19 Oct 2023 09:46:21 -0300
Subject: [QGIS-Developer] pyqgis QgsGeometrySnapper does not snap to a
 source created inside a function
Message-ID: <CAB-dfs2KEG6jGUAuA3ma=iG+mKCruqL_RQ4--dEpqMSMyNkRrg@mail.gmail.com>

Hello all,

  I am working with the QgsGeometrySnapper pyqgis class, and have a problem
to snap to a reference layer which is created inside a function (and
returned by it).

  The code shared at [1] prints:

result = <QgsGeometry: Polygon ((0.10000000000000001 -0.10000000000000001,
10.09999999999999964 0, 9.90000000000000036 10.09999999999999964, 0 10,
0.10000000000000001 -0.10000000000000001))>

  Which means that the geomPolygon was not snapped to the reference layer.
  But, if uncomment the line 41, which adds the reference layer to the
project, the code prints:

result = <QgsGeometry: Polygon ((0 0, 10 0, 10 10, 0 10, 0 0))>

  So, for some reason, adding the reference layer to the project makes the
snapper to work.

  I want to ask you if you know why is this happening. Maybe I need to add
something to make it work consistently.


Regards,
Gabriel

[1] https://pastebin.com/raw/Y9v51ZMq
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231019/0690540a/attachment.htm>

From carrillo.german at gmail.com  Thu Oct 19 09:03:47 2023
From: carrillo.german at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Carrillo?=)
Date: Thu, 19 Oct 2023 18:03:47 +0200
Subject: [QGIS-Developer] pyqgis QgsGeometrySnapper does not snap to a
 source created inside a function
In-Reply-To: <CAB-dfs2KEG6jGUAuA3ma=iG+mKCruqL_RQ4--dEpqMSMyNkRrg@mail.gmail.com>
References: <CAB-dfs2KEG6jGUAuA3ma=iG+mKCruqL_RQ4--dEpqMSMyNkRrg@mail.gmail.com>
Message-ID: <CANaz7myrVs0gChAn2AH0+SCqV83vTxwXA7ytnFNUxRqM2ybNkA@mail.gmail.com>

Hi Gabriel,

Does the result change if you first create a Python variable for storing
your new layer?
I mean:


*referenceSource = create_scratch_reference_layer()*
*snapper = QgsGeometrySnapper(referenceSource)*

instead of:

*snapper = QgsGeometrySnapper(*
*    referenceSource=create_scratch_reference_layer()*
*)*

Regards,

Germ?n


El jue, 19 oct 2023 a las 14:46, Gabriel De Luca via QGIS-Developer (<
qgis-developer at lists.osgeo.org>) escribi?:

> Hello all,
>
>   I am working with the QgsGeometrySnapper pyqgis class, and have a
> problem to snap to a reference layer which is created inside a function
> (and returned by it).
>
>   The code shared at [1] prints:
>
> result = <QgsGeometry: Polygon ((0.10000000000000001 -0.10000000000000001,
> 10.09999999999999964 0, 9.90000000000000036 10.09999999999999964, 0 10,
> 0.10000000000000001 -0.10000000000000001))>
>
>   Which means that the geomPolygon was not snapped to the reference layer.
>   But, if uncomment the line 41, which adds the reference layer to the
> project, the code prints:
>
> result = <QgsGeometry: Polygon ((0 0, 10 0, 10 10, 0 10, 0 0))>
>
>   So, for some reason, adding the reference layer to the project makes the
> snapper to work.
>
>   I want to ask you if you know why is this happening. Maybe I need to add
> something to make it work consistently.
>
>
> Regards,
> Gabriel
>
> [1] https://pastebin.com/raw/Y9v51ZMq
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
-----------
   |\__
(:>__)(
   |/
Soluciones Geoinform?ticas Libres
http://geotux.tuxfamily.org/
https://twitter.com/GeoTux2 <http://twitter.com/GeoTux2>

<http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231019/24ed614d/attachment.htm>

From pablogabrieldeluca at gmail.com  Thu Oct 19 09:32:31 2023
From: pablogabrieldeluca at gmail.com (Gabriel De Luca)
Date: Thu, 19 Oct 2023 13:32:31 -0300
Subject: [QGIS-Developer] pyqgis QgsGeometrySnapper does not snap to a
 source created inside a function
In-Reply-To: <CANaz7myrVs0gChAn2AH0+SCqV83vTxwXA7ytnFNUxRqM2ybNkA@mail.gmail.com>
References: <CAB-dfs2KEG6jGUAuA3ma=iG+mKCruqL_RQ4--dEpqMSMyNkRrg@mail.gmail.com>
 <CANaz7myrVs0gChAn2AH0+SCqV83vTxwXA7ytnFNUxRqM2ybNkA@mail.gmail.com>
Message-ID: <CAB-dfs3Uu9mHznBQ0NV5ba0O4u1eFREs2LsXLPnEzM8Frzw+WA@mail.gmail.com>

Hi German,

  Thanks. Yes, it works that way. Do you know why?


Regards,
Gabriel

El jue, 19 oct 2023 a la(s) 13:04, Germ?n Carrillo (
carrillo.german at gmail.com) escribi?:

> Hi Gabriel,
>
> Does the result change if you first create a Python variable for storing
> your new layer?
> I mean:
>
>
> *referenceSource = create_scratch_reference_layer()*
> *snapper = QgsGeometrySnapper(referenceSource)*
>
> instead of:
>
> *snapper = QgsGeometrySnapper(*
> *    referenceSource=create_scratch_reference_layer()*
> *)*
>
> Regards,
>
> Germ?n
>
>
> El jue, 19 oct 2023 a las 14:46, Gabriel De Luca via QGIS-Developer (<
> qgis-developer at lists.osgeo.org>) escribi?:
>
>> Hello all,
>>
>>   I am working with the QgsGeometrySnapper pyqgis class, and have a
>> problem to snap to a reference layer which is created inside a function
>> (and returned by it).
>>
>>   The code shared at [1] prints:
>>
>> result = <QgsGeometry: Polygon ((0.10000000000000001
>> -0.10000000000000001, 10.09999999999999964 0, 9.90000000000000036
>> 10.09999999999999964, 0 10, 0.10000000000000001 -0.10000000000000001))>
>>
>>   Which means that the geomPolygon was not snapped to the reference layer.
>>   But, if uncomment the line 41, which adds the reference layer to the
>> project, the code prints:
>>
>> result = <QgsGeometry: Polygon ((0 0, 10 0, 10 10, 0 10, 0 0))>
>>
>>   So, for some reason, adding the reference layer to the project makes
>> the snapper to work.
>>
>>   I want to ask you if you know why is this happening. Maybe I need to
>> add something to make it work consistently.
>>
>>
>> Regards,
>> Gabriel
>>
>> [1] https://pastebin.com/raw/Y9v51ZMq
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
> --
> -----------
>    |\__
> (:>__)(
>    |/
> Soluciones Geoinform?ticas Libres
> http://geotux.tuxfamily.org/
> https://twitter.com/GeoTux2 <http://twitter.com/GeoTux2>
>
> <http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231019/d1e2359e/attachment.htm>

From qgis-dev at stripfamily.net  Thu Oct 19 20:39:52 2023
From: qgis-dev at stripfamily.net (David Strip)
Date: Thu, 19 Oct 2023 21:39:52 -0600
Subject: [QGIS-Developer] pyqgis QgsGeometrySnapper does not snap to a
 source created inside a function
In-Reply-To: <CAB-dfs3Uu9mHznBQ0NV5ba0O4u1eFREs2LsXLPnEzM8Frzw+WA@mail.gmail.com>
References: <CAB-dfs2KEG6jGUAuA3ma=iG+mKCruqL_RQ4--dEpqMSMyNkRrg@mail.gmail.com>
 <CANaz7myrVs0gChAn2AH0+SCqV83vTxwXA7ytnFNUxRqM2ybNkA@mail.gmail.com>
 <CAB-dfs3Uu9mHznBQ0NV5ba0O4u1eFREs2LsXLPnEzM8Frzw+WA@mail.gmail.com>
Message-ID: <ddc3fc90-cef2-4b9d-bd3d-b9a1a6ea8475@stripfamily.net>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231019/a679073f/attachment.htm>

From strk at kbt.io  Fri Oct 20 01:26:31 2023
From: strk at kbt.io (Sandro Santilli)
Date: Fri, 20 Oct 2023 10:26:31 +0200
Subject: [QGIS-Developer] Empty space geometries: do we have a policy ?
Message-ID: <ZTI5t9RUQt40dsiZ@c19>

During my road to re-evaluation of the 0,0,0,0 rectangle I stumbled
upon a bug in QgsRectangle::fromRect( <null rectangle> ) returning
a Polygon with min/max ordinate values being the double min/max
limits, which is clearly wrong and filed a PR to fix it:

    https://github.com/qgis/QGIS/pull/54954

My fix was to have that function return a "POLYGON EMPTY", which
passed existing tests, but Nyall expressed his preference toward
a "NULL geometry" instead, which triggers failure in the testuite:

    https://github.com/qgis/QGIS/actions/runs/6551411071/job/17798252800?pr=54954#step:13:725

Now, given there seem to be  multiple ways to express emptyness:
is there a written policy about how to deal with them in QGIS ?

What I'm trying to understand is if fixing the failing test is
worth the time it takes, given that PR is just one of the many
PR spun when we stop considering QgsRectangle(0,0,0,0)
a "null rectangle".

Thanks for your advice.

--strk; 

  Libre GIS consultant/developer
  https://strk.kbt.io/services.html

From lova at kartoza.com  Fri Oct 20 04:54:44 2023
From: lova at kartoza.com (Lova Andriarimalala)
Date: Fri, 20 Oct 2023 11:54:44 +0000
Subject: [QGIS-Developer] QGIS Full Stack Web Developer Report
Message-ID: <DU2PR02MB75587BEDE21BD2DBCEFB272CFBDBA@DU2PR02MB7558.eurprd02.prod.outlook.com>

Hello everyone,

Currently, I am working on the website that administers the feeds displayed in the news area of QGIS. The website's repository is available on GitHub: https://github.com/qgis/qgis-feed

Please find below the report for the past two weeks.
PRs open:

     *   Feeds list page with filter and sorting<https://github.com/qgis/qgis-feed/pull/30>
     *   Feed item form with preview<https://github.com/qgis/qgis-feed/pull/32>
     *   Feed form review step<https://github.com/qgis/qgis-feed/pull/33>

PR merged:

     *   Create a login page, add test cases, configure GH actions<https://github.com/qgis/qgis-feed/pull/28>

Still working on:

     *   Use web pack for bulma CSS<https://github.com/qgis/qgis-feed/issues/29>

Please do not hesitate to provide any feedback regarding the report structure or layout. Your suggestions are highly appreciated, as they will enable us to improve the report's quality and readability. Thank you for taking the time to review the report.

Have a great weekend,
Lova

?

[image.png]

Lova Andriarimalala

QGIS Full Stack Web Developer

Visit http://kartoza.com<http://kartoza.com/> to find out about open source:

* Desktop GIS programming services

* Geospatial web development

* GIS Training

* Consulting Services

Office: +261(0)34 09 524 73



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231020/8577270a/attachment.htm>

From carrillo.german at gmail.com  Fri Oct 20 06:23:46 2023
From: carrillo.german at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Carrillo?=)
Date: Fri, 20 Oct 2023 15:23:46 +0200
Subject: [QGIS-Developer] pyqgis QgsGeometrySnapper does not snap to a
 source created inside a function
In-Reply-To: <f717c0e1-5a47-4e89-8ff1-1286c677ac45@stripfamily.net>
References: <CAB-dfs2KEG6jGUAuA3ma=iG+mKCruqL_RQ4--dEpqMSMyNkRrg@mail.gmail.com>
 <CANaz7myrVs0gChAn2AH0+SCqV83vTxwXA7ytnFNUxRqM2ybNkA@mail.gmail.com>
 <CAB-dfs3Uu9mHznBQ0NV5ba0O4u1eFREs2LsXLPnEzM8Frzw+WA@mail.gmail.com>
 <f717c0e1-5a47-4e89-8ff1-1286c677ac45@stripfamily.net>
Message-ID: <CANaz7my2wG56C2PBCdZd57fxBBGH5HT44nM4V3JdKDFKOk3QcA@mail.gmail.com>

*> The underlying C++ code expects a pointer to the reference layer. If the
python wrapper just passes the pointer of the object that was created in
the call, the object will be out of scope after the function call returns
and will be garbage collected. Someone who actually knows the code details
can verify or contradict this.*

This makes sense to me.
In fact, the original code makes QGIS crash (using v3.28.6) with a
Segmentation Fault, indicating that the underlying C++ object has been
deleted.
That's why you should first create a Python variable to make it clear that
the layer object should persist in the outer scope.

Regards,

Germ?n


El vie, 20 oct 2023 a las 5:30, David Strip (<qgis-user at stripfamily.net>)
escribi?:

> On 10/19/2023 10:32 AM, Gabriel De Luca via QGIS-Developer wrote:
>
> Hi German,
>
>   Thanks. Yes, it works that way. Do you know why?
>
>
> Regards,
> Gabriel
>
>
> Since nobody who really knows the code has responded yet, I'll conjecture
> it's a scoping issue. The underlying C++ code expects a pointer to the
> reference layer. If the python wrapper just passes the pointer of the
> object that was created in the call, the object will be out of scope after
> the function call returns and will be garbage collected. Someone who
> actually knows the code details can verify or contradict this.
>


-- 
-----------
   |\__
(:>__)(
   |/
Soluciones Geoinform?ticas Libres
http://geotux.tuxfamily.org/
https://twitter.com/GeoTux2 <http://twitter.com/GeoTux2>

<http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231020/6733d6ee/attachment.htm>

From pablogabrieldeluca at gmail.com  Fri Oct 20 06:32:43 2023
From: pablogabrieldeluca at gmail.com (Gabriel De Luca)
Date: Fri, 20 Oct 2023 10:32:43 -0300
Subject: [QGIS-Developer] pyqgis QgsGeometrySnapper does not snap to a
 source created inside a function
In-Reply-To: <CANaz7my2wG56C2PBCdZd57fxBBGH5HT44nM4V3JdKDFKOk3QcA@mail.gmail.com>
References: <CAB-dfs2KEG6jGUAuA3ma=iG+mKCruqL_RQ4--dEpqMSMyNkRrg@mail.gmail.com>
 <CANaz7myrVs0gChAn2AH0+SCqV83vTxwXA7ytnFNUxRqM2ybNkA@mail.gmail.com>
 <CAB-dfs3Uu9mHznBQ0NV5ba0O4u1eFREs2LsXLPnEzM8Frzw+WA@mail.gmail.com>
 <f717c0e1-5a47-4e89-8ff1-1286c677ac45@stripfamily.net>
 <CANaz7my2wG56C2PBCdZd57fxBBGH5HT44nM4V3JdKDFKOk3QcA@mail.gmail.com>
Message-ID: <CAB-dfs01UsMef7bb5ST+dn+5QUjPgNH9Nw+t_6njcF=0K0Dpxw@mail.gmail.com>

Thank you both Germ?n and David,

  Original code didn't crashed a QGIS 3.28.11 here, but it seemed to work
silently with an empty reference layer.


Regards,
Gabriel

El vie, 20 oct 2023 a la(s) 10:23, Germ?n Carrillo (
carrillo.german at gmail.com) escribi?:

> *> The underlying C++ code expects a pointer to the reference layer. If
> the python wrapper just passes the pointer of the object that was created
> in the call, the object will be out of scope after the function call
> returns and will be garbage collected. Someone who actually knows the code
> details can verify or contradict this.*
>
> This makes sense to me.
> In fact, the original code makes QGIS crash (using v3.28.6) with a
> Segmentation Fault, indicating that the underlying C++ object has been
> deleted.
> That's why you should first create a Python variable to make it clear that
> the layer object should persist in the outer scope.
>
> Regards,
>
> Germ?n
>
>
> El vie, 20 oct 2023 a las 5:30, David Strip (<qgis-user at stripfamily.net>)
> escribi?:
>
>> On 10/19/2023 10:32 AM, Gabriel De Luca via QGIS-Developer wrote:
>>
>> Hi German,
>>
>>   Thanks. Yes, it works that way. Do you know why?
>>
>>
>> Regards,
>> Gabriel
>>
>>
>> Since nobody who really knows the code has responded yet, I'll conjecture
>> it's a scoping issue. The underlying C++ code expects a pointer to the
>> reference layer. If the python wrapper just passes the pointer of the
>> object that was created in the call, the object will be out of scope after
>> the function call returns and will be garbage collected. Someone who
>> actually knows the code details can verify or contradict this.
>>
>
>
> --
> -----------
>    |\__
> (:>__)(
>    |/
> Soluciones Geoinform?ticas Libres
> http://geotux.tuxfamily.org/
> https://twitter.com/GeoTux2 <http://twitter.com/GeoTux2>
>
> <http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231020/3bfaa482/attachment-0001.htm>

From johannes.kroeger at wheregroup.com  Fri Oct 20 07:05:25 2023
From: johannes.kroeger at wheregroup.com (=?UTF-8?Q?Johannes_Kr=C3=B6ger_=28WhereGroup=29?=)
Date: Fri, 20 Oct 2023 16:05:25 +0200
Subject: [QGIS-Developer] Best practices for storing plugin settings
In-Reply-To: <CAB-dfs0Fc8i7XEumWroR9Y2GfF6mKCrp0WLhf1u==Ce6ewUDGQ@mail.gmail.com>
References: <CAB-dfs0Fc8i7XEumWroR9Y2GfF6mKCrp0WLhf1u==Ce6ewUDGQ@mail.gmail.com>
Message-ID: <8f8c43fa-c619-4357-8066-4d66500379f3@wheregroup.com>

Hi Gabriel,

there are no fixed standards but it might be a great project to evaluate 
the plugin landscape and see how people do it in the wild, to see if 
there are some defacto standards or best practises.

I tried to document some variations I found recently in 
https://hannes.enjoys.it/blog/2023/07/plugins-in-qgis3-ini/

There should also be a post to a QGIS mailing list where I asked about 
standards but I cannot find it again because mailing lists. Iirc the 
answer was "there are no rules".

Cheers, Hannes

Am 16.10.23 um 04:01 schrieb Gabriel De Luca via QGIS-Developer:
> Hello everyone,
>
> I'm developing a plugin and I'm not sure where to write the settings.
>
> Should I create the settings object with my own organization and 
> application? I would expect a plugin's settings to be stored in the 
> profile folder where the plugin is installed, within the same qgis 
> configurations file, so it doesn't seem like a good option to me.
>
> If I write the settings under the same organization and application as 
> QGIS, is it appropriate to create a root group for my plugin? All the 
> plugins I have installed did that, but for some reason they are hidden 
> when viewing the advanced settings with the new tree widget.
>
> Is the "plugins" group appropriate to create a sub-group/key with the 
> name of my plugin?
>
> The only email I found in the archive referring to the settings 
> structure is [1], I'll keep it in mind when it comes to group/key 
> names, but any other recommendations on good practices for third-party 
> plugins are welcome.
>
>
> Regards,
> Gabriel
>
> [1] 
> https://lists.osgeo.org/pipermail/qgis-developer/2017-March/047487.html
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Johannes Kr?ger / GIS-Entwickler/-Berater

---------------------------------------------
Aufwind durch Wissen!
Web-Seminare und Online-Schulungen
bei der www.foss-academy.com
---------------------------------------------

WhereGroup GmbH
c/o KK03 GmbH
Lange Reihe 29
20099 Hamburg
Germany

Tel: +49 (0)228 / 90 90 38 - 36
Fax: +49 (0)228 / 90 90 38 - 11

johannes.kroeger at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885
-------------------------------


From selma at kartoza.com  Fri Oct 20 09:18:48 2023
From: selma at kartoza.com (Selma Vidimlic)
Date: Fri, 20 Oct 2023 18:18:48 +0200
Subject: [QGIS-Developer] QGIS Documentation Writer Report
In-Reply-To: <CALarpe5UeurgJJ-JTVFERVTfUx+qpkqpdLGrEcAH1YP7qruMfQ@mail.gmail.com>
References: <CALarpe7FQojbCfa+cpv+nh4fMYS1xBrpDQGQ44so1+crQr1DDQ@mail.gmail.com>
 <CALarpe5iZKjqdhuLyjf2o3OGVbA03RfcKJRMVosjRHn2r1D07A@mail.gmail.com>
 <CALarpe5UeurgJJ-JTVFERVTfUx+qpkqpdLGrEcAH1YP7qruMfQ@mail.gmail.com>
Message-ID: <CALarpe5mZ4e8e1DXa53dtf6vZ9M6JV1ren6rHnEocm8Pai=rzw@mail.gmail.com>

Hello everyone,

This week's report:

Open PRs:
Animated marker <https://github.com/qgis/QGIS-Documentation/pull/8568>
Animation settings <https://github.com/qgis/QGIS-Documentation/pull/8569>
Add GIS FILE <https://github.com/qgis/QGIS-Documentation/pull/8491> ( Can I
merge this pull request if no one has anything to add?)

Merged PRs:
https://github.com/qgis/QGIS-Documentation/pull/8550
https://github.com/qgis/QGIS-Documentation/pull/8522

Working on:
https://github.com/qgis/QGIS-Documentation/issues/7545
https://github.com/qgis/QGIS-Documentation/issues/7802
https://github.com/qgis/QGIS-Documentation/issues/7568
https://github.com/qgis/QGIS-Documentation/issues/4696

Have a nice weekend,
Selma.

On Fri, 13 Oct 2023 at 16:41, Selma Vidimlic <selma at kartoza.com> wrote:

> Hello everyone,
>
> PRs open or fixed this week:
>
>    - Calculate expressions algorithm
>    <https://github.com/qgis/QGIS-Documentation/pull/8550>
>    - Recent project update
>    <https://github.com/qgis/QGIS-Documentation/pull/8541> ( including
>    this issue https://github.com/qgis/QGIS-Documentation/issues/2833 )
>
> PRs merged this week:
>
>    - https://github.com/qgis/QGIS-Documentation/pull/8531
>    - https://github.com/qgis/QGIS-Documentation/pull/8530
>    - https://github.com/qgis/QGIS-Documentation/pull/8483
>
> Still working on:
>
>    - https://github.com/qgis/QGIS-Documentation/issues/7802 (
>    https://github.com/qgis/QGIS-Documentation/issues/8547 )
>
>
> Have a nice weekend,
> Selma.
>
> On Fri, 6 Oct 2023 at 18:00, Selma Vidimlic <selma at kartoza.com> wrote:
>
>> Hi all,
>>
>> This week, I dedicated my efforts to gaining a deeper understanding of
>> the QGIS project and community, as well as exploring ways to enhance our
>> documentation workflow.
>> I recognized the need for faster communication among active contributors
>> within the context of QGIS documentation. To address this, I created a
>> chatroom on Fluffy Chat (Matrix). If you'd like to join the chatroom,
>> please add me (@selmaaa:matrix.org), and I will manually invite you.
>> Fluffy Chat does not allow sending a single invite to all, so this step is
>> necessary...
>>
>> Although I did not create new PRs this week, I was actively involved in
>> the following issue:
>>
>>    - https://github.com/qgis/QGIS-Documentation/issues/7802
>>
>> This issue focuses on expression functions, a topic that I had not
>> explored extensively in QGIS before. I dedicated a significant amount of
>> time to understand and create visual examples for expression functions.
>>
>> I was also fixing screenshots for this PR:
>>
>>    - https://github.com/qgis/QGIS-Documentation/pull/8483
>>
>> Have a nice weekend,
>> Selma.
>>
>>
>> On Fri, 29 Sept 2023 at 19:35, Selma Vidimlic <selma at kartoza.com> wrote:
>>
>>>   Hi all,
>>>
>>> Open pull requests:
>>>
>>>    - https://github.com/qgis/QGIS-Documentation/pull/8541
>>>    - https://github.com/qgis/QGIS-Documentation/pull/8537 (I will
>>>    continue to work on this one together with Harrissou so it is not ready to
>>>    be merged yet)
>>>    - https://github.com/qgis/QGIS-Documentation/pull/8531 (this one
>>>    also, Harrissou started to update Elevation profile, so we will continue
>>>    together)
>>>    - https://github.com/qgis/QGIS-Documentation/pull/8522 (same as
>>>    previous)
>>>    - https://github.com/qgis/QGIS-Documentation/pull/8530 (same as
>>>    previous)
>>>    - https://github.com/qgis/QGIS-Documentation/pull/8491 ( this one
>>>    needs feedback from Nyall Dawson or anybody else who is familiar with "Add
>>>    GIS File" action)
>>>    - https://github.com/qgis/QGIS-Documentation/pull/8483 (will be done
>>>    by the end of the weekend)
>>>
>>> Merged PRs:
>>>
>>>    - https://github.com/qgis/QGIS-Documentation/pull/8507
>>>
>>> From this week I will send this report in a single thread so we can all
>>> follow the progress easier.
>>>
>>> Have a nice weekend,
>>> Selma.
>>>
>>>
>>> --
>>> Selma Vidimlic Husic
>>> QGIS Documentation Writer
>>> Visit http://kartoza.com to find out about open source:
>>> * Desktop GIS programming services
>>> * Geospatial web development
>>> * GIS Training
>>> * Consulting Services
>>> Phone: +387 61 933 651
>>>
>>
>>
>> --
>> Selma Vidimlic Husic
>> QGIS Documentation Writer
>> Visit http://kartoza.com to find out about open source:
>> * Desktop GIS programming services
>> * Geospatial web development
>> * GIS Training
>> * Consulting Services
>> Phone: +387 61 933 651
>>
>
>
> --
> Selma Vidimlic Husic
> QGIS Documentation Writer
> Visit http://kartoza.com to find out about open source:
> * Desktop GIS programming services
> * Geospatial web development
> * GIS Training
> * Consulting Services
> Phone: +387 61 933 651
>


-- 
Selma Vidimlic Husic
QGIS Documentation Writer
Visit http://kartoza.com to find out about open source:
* Desktop GIS programming services
* Geospatial web development
* GIS Training
* Consulting Services
Phone: +387 61 933 651
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231020/51f2d762/attachment.htm>

From paolo.tormene at globalquakemodel.org  Mon Oct 23 01:31:23 2023
From: paolo.tormene at globalquakemodel.org (Paolo Tormene)
Date: Mon, 23 Oct 2023 10:31:23 +0200
Subject: [QGIS-Developer] Plugin publication
Message-ID: <CADQ4pmCPsWtyhrB2cs7s_h9_8JZMXY-CZJGNa_TW1ZX=Uk7wKg@mail.gmail.com>

Hello. I'm writing to notify you that on October 11 I uploaded to
https://plugins.qgis.org/plugins/svir/ a "stable" and an "experimental"
version of my plugin and so far only the experimental one has been approved
and made available for downloading. I suppose the other version was
neglected by accident. May you check, please?
Thank you in advance,
Paolo
-- 

*PAOLO TORMENE* senior software developer +39 0382 5169882

*GLOBAL EARTHQUAKE MODEL * working together to assess risk

*GEM -* globalquakemodel.org <http://www.globalquakemodel.org> *T -*
@GEMwrld <http://twitter.com/GEMwrld> *F -* GEMwrld
<http://www.facebook.com/GEMwrld>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231023/2dfc1d67/attachment.htm>

From tebling at masuch.de  Mon Oct 23 01:51:00 2023
From: tebling at masuch.de (Karsten Tebling)
Date: Mon, 23 Oct 2023 10:51:00 +0200
Subject: [QGIS-Developer] loading projects in startup.py
Message-ID: <94693222-8160-495a-8f3f-ae0d4fbd8e0c@masuch.de>

Hello,

I'm trying to load different projects depending on some parameters in 
startup.py but I can't get it to work. If I try to load the projects 
directly via QgsProject.instance().read(), nothing happens at all at 
startup. If I try to change the "qgis/projOpenAtLaunch"-setting, the 
change only affects the next start of QGIS, not the current start, which 
is kind of confusing.

Any suggestions?

Cheers,

Karsten


From denis.rouzaud at gmail.com  Tue Oct 24 00:34:49 2023
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Tue, 24 Oct 2023 09:34:49 +0200
Subject: [QGIS-Developer] Best practices for storing plugin settings
In-Reply-To: <CAB-dfs0Fc8i7XEumWroR9Y2GfF6mKCrp0WLhf1u==Ce6ewUDGQ@mail.gmail.com>
References: <CAB-dfs0Fc8i7XEumWroR9Y2GfF6mKCrp0WLhf1u==Ce6ewUDGQ@mail.gmail.com>
Message-ID: <CAMtsY+a=rU0SS3=b=ufUPw6fdfr7bmmDZLfmAushq9g4VupQUw@mail.gmail.com>

Hi Gabriel,

There has been an introduction of a new settings API.
There has been 2 QEP and 4 main PRs, but the main interesting changes for
settings registration are in https://github.com/qgis/QGIS/pull/51295

You can refer to the coding standards documentation:
https://docs.qgis.org/testing/en/docs/developers_guide/codingstandards.html#settings

First thing, is to register a settings node for you plugin:
https://www.qgis.org/pyqgis/master/core/QgsSettingsTree.html#qgis.core.QgsSettingsTree.createPluginTreeNode

Then you can use one of the settings type to create the settings (and give
it the node as parameter):
https://qgis.org/pyqgis/master/core/QgsSettingsEntryString.html

You can also create the setting without creating the node first by giving a
plugin name (see the different constructors).

One interesting thing is that you can then easily create editors for
settings by using QgsSettingsEditorWidgetRegistry
QgsGui.settingsEditorWidgetRegistry()->createEditor(my_setting)
see https://qgis.org/pyqgis/master/gui/QgsSettingsEditorWidgetRegistry.html

The Python cookbook is outdated, I will try to suggest a change to it.

Kind regards,
Denis










Le lun. 16 oct. 2023 ? 04:01, Gabriel De Luca via QGIS-Developer <
qgis-developer at lists.osgeo.org> a ?crit :

> Hello everyone,
>
>   I'm developing a plugin and I'm not sure where to write the settings.
>
>   Should I create the settings object with my own organization and
> application? I would expect a plugin's settings to be stored in the
> profile folder where the plugin is installed, within the same qgis
> configurations file, so it doesn't seem like a good option to me.
>
>   If I write the settings under the same organization and application as
> QGIS, is it appropriate to create a root group for my plugin? All the
> plugins I have installed did that, but for some reason they are hidden when
> viewing the advanced settings with the new tree widget.
>
>   Is the "plugins" group appropriate to create a sub-group/key with the
> name of my plugin?
>
>   The only email I found in the archive referring to the settings
> structure is [1], I'll keep it in mind when it comes to group/key names,
> but any other recommendations on good practices for third-party plugins are
> welcome.
>
>
> Regards,
> Gabriel
>
> [1]
> https://lists.osgeo.org/pipermail/qgis-developer/2017-March/047487.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231024/f0c71f76/attachment.htm>

From delazj at gmail.com  Tue Oct 24 04:28:04 2023
From: delazj at gmail.com (DelazJ)
Date: Tue, 24 Oct 2023 13:28:04 +0200
Subject: [QGIS-Developer] QGIS-Documentation fails to build
In-Reply-To: <CAB2Z92CG7-G-dkU8=kkXqFuncCSAPgnX=TQa=2akc0U_JxcN2g@mail.gmail.com>
References: <CAECJsSpVuRkS-ZVz72Z0uVwZP0w54YsV0ohLS-KfgKuj3mC4tg@mail.gmail.com>
 <CAL5Q6736oDiLZX0ahKEcmUYK3zx3feW=YbFRybYPjdmZ+_MkNw@mail.gmail.com>
 <CAECJsSpo0Z6p6HrCjuU4m4va7+qkxomFNv55J2b6CBD5Trt0Mw@mail.gmail.com>
 <d5a528a8-1f2a-d98f-ab3a-867df01dbe93@gmail.com>
 <CAECJsSp0s-8_sKeqEciu_Sn_yB-Z1Lxjj5h934TkqNE-USwqtg@mail.gmail.com>
 <CAL5Q672xsMtVJsgYitdz67yAqVjcGrmUuXxsUyMcEDfq0bRsWA@mail.gmail.com>
 <98323947-8b62-bcd7-9dcf-790e1e012085@gmail.com>
 <CAECJsSrjyYXv=bxAi8eA9hN1AuO4Sk+RjPYJ7JxSq+if2fa7NQ@mail.gmail.com>
 <5bfeed43-dda0-bf7b-47f1-e1dd3c6d8d57@duif.net>
 <CAECJsSqjFEkERja+B9AVwQsZy6DQjFDf_8fTFzGYt8NFg+U=ag@mail.gmail.com>
 <CAECJsSqHZuuDvZY4ZWeyp4=4X3t1REVn4PrNOJbQ0ErNJBHMsA@mail.gmail.com>
 <CAL5Q672Miynco+vUOFCkhvE4Y28J8-WiyG4nvfhNeHAbN7FbFQ@mail.gmail.com>
 <CAB2Z92CG7-G-dkU8=kkXqFuncCSAPgnX=TQa=2akc0U_JxcN2g@mail.gmail.com>
Message-ID: <71ebed41-2ec8-445a-a050-ce886e5b9fb3@gmail.com>

Hello devs,

It did not happen for a moment but ... QGIS documentation build is 
failing today, due to a "No styles available in DB" [0] issue while 
running doctest. Maybe it has to do with PR 54978 [1]? I don't have idea 
nor time to look for a fix, and would welcome your help.

Thanks.

[0] 
https://github.com/qgis/QGIS-Documentation/actions/runs/6623049639/job/17991561077#step:8:991

[1] https://github.com/qgis/QGIS/pull/54978

Greetings,

Harrissou

Le 19/05/2022 ? 16:10, Andreas Neumann a ?crit?:
> Hi Alessandro,
>
> Fine with me - if you spend some dev hours on fixing this.
>
> Andreas
>
> On Thu, 19 May 2022 at 12:09, Alessandro Pasotti via QGIS-Developer 
> <qgis-developer at lists.osgeo.org> wrote:
>
>     Hi,
>
>     I cannot make promises, but if I'm allowed to spend the paid bugfixing
>     hours to fix this I think I could have a look.
>
>     Cheers
>
>     On Thu, May 19, 2022 at 12:06 PM DelazJ via QGIS-Developer
>     <qgis-developer at lists.osgeo.org> wrote:
>     >
>     > Hi,
>     > well...
>     > For your information, I disabled the doctest github action, to
>     stop getting annoyed by (unrelated) failure messages for each
>     interaction with the repository.
>     > That also means no more checks for the PyQGIS Cookbook changes
>     (which includes this recent pull request), until we get a fix.
>     >
>     > Greetings,
>     > Harrissou
>     >
>     > Le lun. 9 mai 2022 ? 16:35, DelazJ <delazj at gmail.com> a ?crit :
>     >>
>     >> Hi,
>     >> Thanks again Richard for testing.
>     >> Any chance someone else gives it a look, please? Thanks.
>     >>
>     >> Regards,
>     >> Harrissou
>     >>
>     >> Le mar. 3 mai 2022 ? 20:44, Richard Duivenvoorde via
>     QGIS-Developer <qgis-developer at lists.osgeo.org> a ?crit :
>     >>>
>     >>> On 5/3/22 11:35, DelazJ via QGIS-Developer wrote:
>     >>> > Hi devs,
>     >>> > The "doctest" workflow in QGIS-Documentation repository is
>     again broken. We are getting a segmentation fault [0]. This might
>     have begun at least 5 days ago, only on master branch. The 3.22
>     doctest passes.
>     >>> > If someone can give it a look, it will be much appreciated.
>     Thanks.
>     >>>
>     >>> Hi Harrissou,
>     >>>
>     >>> I tried looking into it...
>     >>>
>     >>> A normal local build is fine... (so in a VENV with the
>     REQUIREMENTS.txt of QGIS-Website, calling "make html")
>     >>> But that does not build the doc tests (the python code in the
>     cookbook is tested in that)
>     >>>
>     >>> Then? I tried on my local machine, what I see in the CI log:
>     >>>
>     >>> make -f docker.mk <http://docker.mk> doctest
>     >>>
>     >>> and that fails with exact the same messages, except it looks
>     like it crashes on random parts of the cookbook tests
>     >>>
>     >>> @devs can anybody of you make something from the stacktrace?
>     >>>
>     >>> SIP related?
>     >>>
>     >>> Missing dependency?
>     >>>
>     >>> Any hints appreciated
>     >>>
>     >>> Regards,
>     >>>
>     >>> Richard Duivenvoorde
>     >>>
>     >>> _______________________________________________
>     >>> QGIS-Developer mailing list
>     >>> QGIS-Developer at lists.osgeo.org
>     >>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >>> Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >
>     > _______________________________________________
>     > QGIS-Developer mailing list
>     > QGIS-Developer at lists.osgeo.org
>     > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>     -- 
>     Alessandro Pasotti
>     QCooperative: www.qcooperative.net <http://www.qcooperative.net>
>     ItOpen: www.itopen.it <http://www.itopen.it>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> -- 
>
> --
> Andreas Neumann
> QGIS.ORG <http://QGIS.ORG> board member (treasurer)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231024/5a64a6d0/attachment.htm>

From jacky.volpes at oslandia.com  Wed Oct 25 03:11:28 2023
From: jacky.volpes at oslandia.com (Jacky Volpes)
Date: Wed, 25 Oct 2023 12:11:28 +0200
Subject: [QGIS-Developer] Reading current measurement with python
In-Reply-To: <DU0P251MB067381226464536FE195B3F98ECEA@DU0P251MB0673.EURP251.PROD.OUTLOOK.COM>
References: <mailman.120476.1696255031.32175.qgis-developer@lists.osgeo.org>
 <DU0P251MB06730EDD57589F47D32266368ECBA@DU0P251MB0673.EURP251.PROD.OUTLOOK.COM>
 <f8d3e758-c198-4b0e-991d-7531953bf0b9@oslandia.com>
 <DU0P251MB067381226464536FE195B3F98ECEA@DU0P251MB0673.EURP251.PROD.OUTLOOK.COM>
Message-ID: <c640d9f3-4503-4d6d-b97f-36056eca72e9@oslandia.com>

Hi,

If I understand well, it's possible that a styled layer could be 
sufficient...?
See "Description" section on this style 
<https://plugins.qgis.org/styles/5/>.
Import the style 
<https://docs.qgis.org/3.28/en/docs/user_manual/style_library/style_manager.html#importing-items> 
in QGIS style manager.

Regards,

Jacky Volpes

Ing?nieur SIG - Oslandia

Le 09/10/2023 ? 09:45, Simon Gr?chenig a ?crit?:
> Hi,
>
>> As I don't have the context explaining why you need this
> I try to "save" measurements as annotation or linestring/area layer in order to see measurements in layouts.
>
> Currently, I copy (linear) measurements and use the coordinates from QGuiApplication.clipboard() to draw a temporary linestring. I would like to skip copying the measurements. Also, I would like to "save" area measurements where copy is not supported by the measurement gui.
>
> Any ideas?
>
> Simon
>
>
> -----Urspr?ngliche Nachricht-----
> Von: Jacky Volpes<jacky.volpes at oslandia.com>  
> Gesendet: Freitag, 6. Oktober 2023 15:00
> An:qgis-developer at lists.osgeo.org
> Cc: Simon Gr?chenig<groechenig at zt-gis.at>
> Betreff: Re: [QGIS-Developer] Reading current measurement with python
>
> Hi Simon,
>
> Ok, I understand your question now.
>
> Unfortunately, the measurement tool is not accessible with the python API.
>
> As I don't have the context explaining why you need this, I can propose you to find another way for your process, or, if you really need to get the measurement value, here is a code snippet that finds the text within the measurement dialog (I don't recommend you to use this in a production environment though, or you might have unexpected behaviors if something changes in the dialog implementation).
>
>
> measurementDialogs = [d for d in
> iface.mainWindow().findChildren(QDialog, "QgsMeasureBase") if d.isVisible()] if len(measurementDialogs) == 1:
>   ??? measurementDialog = measurementDialogs[0]
>   ??? totalTextLineEdit = measurementDialog.findChild(QLineEdit, "editTotal")
>   ??? if totalTextLineEdit is not None:
>   ??????? print(totalTextLineEdit.text())
>
>
> Best regards,
>
> Jacky Volpes
>
> Ing?nieur SIG - Oslandia
>
> --
>
> Le 04/10/2023 ? 10:15, Simon Gr?chenig a ?crit?:
>> Hi Jacky,
>>
>> thanks for your help and for pointing me to this code snippet.
>>
>> However, I see that the measurement tools are instances of QgsMapTool with an QAction (and not QgsMapToolDigitizeFeature) and therefore mapTool().pointsZM() is not available.
>>
>> Now I wonder if I can utilize the QgsRubberBand
>>
>> Best regards
>> Simon
>>
>>
>> ------------------------------
>>
>> Message: 2
>> Date: Mon, 2 Oct 2023 08:56:58 +0200
>> From: Jacky Volpes<jacky.volpes at oslandia.com>
>> To:qgis-developer at lists.osgeo.org
>> Subject: Re: [QGIS-Developer] Reading current measurement with python
>> Message-ID:<352a9e94-9010-4f39-8738-89323a87a15a at oslandia.com>
>> Content-Type: text/plain; charset="utf-8"; Format="flowed"
>>
>> Hi,
>>
>> You can have a look at this snippet:
>> https://lists.osgeo.org/pipermail/qgis-developer/2023-May/065789.html
>>
>> Regards,
>>
>> --
>>
>> Jacky Volpes
>>
>> Ing?nieur SIG - Oslandia
>>
>> --
>>
>> Le 02/10/2023 ? 07:05, Simon Gr?chenig via QGIS-Developer a ?crit?:
>>> Hi list,
>>>
>>> is it possible to get the current line/area measurement with Python?
>>>
>>> Simon
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> Listinfo:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> -------------- next part --------------
>> An HTML attachment was scrubbed...
>> URL:<http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231002/ce6f1c41/attachment-0001.htm>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231025/12bcd798/attachment.htm>

From jeremy.bernard at zaclys.net  Wed Oct 25 05:57:17 2023
From: jeremy.bernard at zaclys.net (=?UTF-8?Q?J=C3=A9r=C3=A9my_Bernard?=)
Date: Wed, 25 Oct 2023 14:57:17 +0200
Subject: [QGIS-Developer] Error when try to upload a plugin
Message-ID: <d6742378-9c07-47f7-9481-248c26b5af9b@zaclys.net>

Dear QGIS developpers,

I have tried to upload a new plugin at: 
https://plugins.qgis.org/plugins/add/

However, I get the following error:

"There were errors reading plugin package (please check also your 
plugin's metadata). For security reasons, zip file cannot contain 
'__pycache__' directory."

I have tried to check the problem but I have no more ideas what is wrong 
with my zip file since there is no explanation of the problem (except 
the __pycache__, metadata and other tips and tricks described here: 
https://plugins.qgis.org/publish/).

I can enclose the plugin zip for those willing to investigate this bug.

Best regards,

J?r?my


From silke.kaemmerer at rapidlasso.de  Thu Oct 26 14:41:48 2023
From: silke.kaemmerer at rapidlasso.de (=?iso-8859-1?Q?Silke_K=E4mmerer?=)
Date: Thu, 26 Oct 2023 21:41:48 +0000
Subject: [QGIS-Developer] LAStools QGIS plugin, transfer of ownership
In-Reply-To: <BEZP281MB2103A74521F21E0815516E8CE0DDA@BEZP281MB2103.DEUP281.PROD.OUTLOOK.COM>
References: <BEZP281MB2103A74521F21E0815516E8CE0DDA@BEZP281MB2103.DEUP281.PROD.OUTLOOK.COM>
Message-ID: <BEZP281MB2103ED0517ED9F09B69B66B3E0DDA@BEZP281MB2103.DEUP281.PROD.OUTLOOK.COM>

Hi there,

I hope this email finds you well. I'm contacting you because we need help with our LAStools QGIS plugin:

https://plugins.qgis.org/plugins/LAStools/

Since Martin Isenburg (main owner of the plugin) passed away, and the author (Victor Olaya) is not available to maintain the plugin, I wanted to ask if you could transfer the ownership of the plugin to our new userid 'rapidlasso' so that we can update the plugin, but ensure that all records remain (such as versions, number of downloads, ..) ?

Can you please let us know what we need to do?

Many thanks,
Silke
___________________________

Silke K?mmerer | CEO
Phone: +49 172 65 43 209
E-Mail: silke.kaemmerer at rapidlasso.de<mailto:silke.kaemmerer at rapidlasso.de>
[cid:image003.png at 01DA0864.11F2D650]
rapidlasso GmbH
Friedrichshafener Stra?e 1
82205 Gilching - Germany
www.rapidlasso.de<http://www.rapidlasso.de/>

This electronic message and any attached documents are intended only for the named addressee(s). This communication from rapidlasso GmbH may contain information that is privileged, confidential or otherwise protected from disclosure and it must not be disclosed, copied, forwarded or distributed without authorization. If you have received this message in error, please notify me immediately and delete the original message. Thank you.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231026/8d024bc7/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 9443 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231026/8d024bc7/attachment.png>

From lova at kartoza.com  Fri Oct 27 06:53:08 2023
From: lova at kartoza.com (Lova Andriarimalala)
Date: Fri, 27 Oct 2023 13:53:08 +0000
Subject: [QGIS-Developer] QGIS Full Stack Web Developer Report
In-Reply-To: <DU2PR02MB75587BEDE21BD2DBCEFB272CFBDBA@DU2PR02MB7558.eurprd02.prod.outlook.com>
References: <DU2PR02MB75587BEDE21BD2DBCEFB272CFBDBA@DU2PR02MB7558.eurprd02.prod.outlook.com>
Message-ID: <DU2PR02MB7558C9283FBEE649A800DA9BFBDCA@DU2PR02MB7558.eurprd02.prod.outlook.com>

Hello everyone,

I'm grateful for your warm welcome, and I'm truly thrilled to join this wonderful community.
Here is the report summarizing the progress on the feed site development for this week.
PRs open:

     *   Form submission management<https://github.com/qgis/qgis-feed/pull/39>

PR merged:

     *   Feeds list page with filter and sorting<https://github.com/qgis/qgis-feed/pull/30>
     *   Feed item form with preview<https://github.com/qgis/qgis-feed/pull/32>
     *   Feed form review step<https://github.com/qgis/qgis-feed/pull/33>
     *   Implement webpack and use it for Bulma CSS<https://github.com/qgis/qgis-feed/pull/34>

Still working on:

     *   Improve feed item form: Check data validity<https://github.com/qgis/qgis-feed/issues/25>

Have a great weekend,
Lova


?

[image.png]

Lova Andriarimalala

QGIS Full Stack Web Developer

Visit http://kartoza.com<http://kartoza.com/> to find out about open source:

* Desktop GIS programming services

* Geospatial web development

* GIS Training

* Consulting Services

Office: +261(0)34 09 524 73



From: Lova Andriarimalala <lova at kartoza.com>
Date: Friday, 20 October 2023 at 2:54 PM
To: qgis-developer at lists.osgeo.org <qgis-developer at lists.osgeo.org>
Subject: QGIS Full Stack Web Developer Report

Hello everyone,

Currently, I am working on the website that administers the feeds displayed in the news area of QGIS. The website's repository is available on GitHub: https://github.com/qgis/qgis-feed

Please find below the report for the past two weeks.
PRs open:

     *   Feeds list page with filter and sorting<https://github.com/qgis/qgis-feed/pull/30>
     *   Feed item form with preview<https://github.com/qgis/qgis-feed/pull/32>
     *   Feed form review step<https://github.com/qgis/qgis-feed/pull/33>

PR merged:

     *   Create a login page, add test cases, configure GH actions<https://github.com/qgis/qgis-feed/pull/28>

Still working on:

     *   Use web pack for bulma CSS<https://github.com/qgis/qgis-feed/issues/29>

Please do not hesitate to provide any feedback regarding the report structure or layout. Your suggestions are highly appreciated, as they will enable us to improve the report's quality and readability. Thank you for taking the time to review the report.

Have a great weekend,
Lova

?

[image.png]

Lova Andriarimalala

QGIS Full Stack Web Developer

Visit http://kartoza.com<http://kartoza.com/> to find out about open source:

* Desktop GIS programming services

* Geospatial web development

* GIS Training

* Consulting Services

Office: +261(0)34 09 524 73



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231027/c6544481/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 16340 bytes
Desc: image.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231027/c6544481/attachment-0001.png>

From selma at kartoza.com  Fri Oct 27 08:34:58 2023
From: selma at kartoza.com (Selma Vidimlic)
Date: Fri, 27 Oct 2023 17:34:58 +0200
Subject: [QGIS-Developer] QGIS Documentation Writer Report
In-Reply-To: <CALarpe5mZ4e8e1DXa53dtf6vZ9M6JV1ren6rHnEocm8Pai=rzw@mail.gmail.com>
References: <CALarpe7FQojbCfa+cpv+nh4fMYS1xBrpDQGQ44so1+crQr1DDQ@mail.gmail.com>
 <CALarpe5iZKjqdhuLyjf2o3OGVbA03RfcKJRMVosjRHn2r1D07A@mail.gmail.com>
 <CALarpe5UeurgJJ-JTVFERVTfUx+qpkqpdLGrEcAH1YP7qruMfQ@mail.gmail.com>
 <CALarpe5mZ4e8e1DXa53dtf6vZ9M6JV1ren6rHnEocm8Pai=rzw@mail.gmail.com>
Message-ID: <CALarpe60dBf2ZrrdVbHwR5T-X7J19s6TBMpB9ou8YRKF15dF1w@mail.gmail.com>

Hello everyone,

Here is the report for this week.

Open PRs:

   - Animation settings
   <https://github.com/qgis/QGIS-Documentation/pull/8569>

Merged PRs:

   - Animated marker <https://github.com/qgis/QGIS-Documentation/pull/8568>
   - https://github.com/qgis/QGIS-Documentation/pull/8491

Still working on:

   - https://github.com/qgis/QGIS-Documentation/issues/7802 (I really hope
   it will be done next week)
   - https://github.com/qgis/QGIS-Documentation/issues/7545


Have a nice weekend,
Selma.


On Fri, 20 Oct 2023 at 18:18, Selma Vidimlic <selma at kartoza.com> wrote:

> Hello everyone,
>
> This week's report:
>
> Open PRs:
> Animated marker <https://github.com/qgis/QGIS-Documentation/pull/8568>
> Animation settings <https://github.com/qgis/QGIS-Documentation/pull/8569>
> Add GIS FILE <https://github.com/qgis/QGIS-Documentation/pull/8491> ( Can
> I merge this pull request if no one has anything to add?)
>
> Merged PRs:
> https://github.com/qgis/QGIS-Documentation/pull/8550
> https://github.com/qgis/QGIS-Documentation/pull/8522
>
> Working on:
> https://github.com/qgis/QGIS-Documentation/issues/7545
> https://github.com/qgis/QGIS-Documentation/issues/7802
> https://github.com/qgis/QGIS-Documentation/issues/7568
> https://github.com/qgis/QGIS-Documentation/issues/4696
>
> Have a nice weekend,
> Selma.
>
> On Fri, 13 Oct 2023 at 16:41, Selma Vidimlic <selma at kartoza.com> wrote:
>
>> Hello everyone,
>>
>> PRs open or fixed this week:
>>
>>    - Calculate expressions algorithm
>>    <https://github.com/qgis/QGIS-Documentation/pull/8550>
>>    - Recent project update
>>    <https://github.com/qgis/QGIS-Documentation/pull/8541> ( including
>>    this issue https://github.com/qgis/QGIS-Documentation/issues/2833 )
>>
>> PRs merged this week:
>>
>>    - https://github.com/qgis/QGIS-Documentation/pull/8531
>>    - https://github.com/qgis/QGIS-Documentation/pull/8530
>>    - https://github.com/qgis/QGIS-Documentation/pull/8483
>>
>> Still working on:
>>
>>    - https://github.com/qgis/QGIS-Documentation/issues/7802 (
>>    https://github.com/qgis/QGIS-Documentation/issues/8547 )
>>
>>
>> Have a nice weekend,
>> Selma.
>>
>> On Fri, 6 Oct 2023 at 18:00, Selma Vidimlic <selma at kartoza.com> wrote:
>>
>>> Hi all,
>>>
>>> This week, I dedicated my efforts to gaining a deeper understanding of
>>> the QGIS project and community, as well as exploring ways to enhance our
>>> documentation workflow.
>>> I recognized the need for faster communication among active contributors
>>> within the context of QGIS documentation. To address this, I created a
>>> chatroom on Fluffy Chat (Matrix). If you'd like to join the chatroom,
>>> please add me (@selmaaa:matrix.org), and I will manually invite you.
>>> Fluffy Chat does not allow sending a single invite to all, so this step is
>>> necessary...
>>>
>>> Although I did not create new PRs this week, I was actively involved in
>>> the following issue:
>>>
>>>    - https://github.com/qgis/QGIS-Documentation/issues/7802
>>>
>>> This issue focuses on expression functions, a topic that I had not
>>> explored extensively in QGIS before. I dedicated a significant amount of
>>> time to understand and create visual examples for expression functions.
>>>
>>> I was also fixing screenshots for this PR:
>>>
>>>    - https://github.com/qgis/QGIS-Documentation/pull/8483
>>>
>>> Have a nice weekend,
>>> Selma.
>>>
>>>
>>> On Fri, 29 Sept 2023 at 19:35, Selma Vidimlic <selma at kartoza.com> wrote:
>>>
>>>>   Hi all,
>>>>
>>>> Open pull requests:
>>>>
>>>>    - https://github.com/qgis/QGIS-Documentation/pull/8541
>>>>    - https://github.com/qgis/QGIS-Documentation/pull/8537 (I will
>>>>    continue to work on this one together with Harrissou so it is not ready to
>>>>    be merged yet)
>>>>    - https://github.com/qgis/QGIS-Documentation/pull/8531 (this one
>>>>    also, Harrissou started to update Elevation profile, so we will continue
>>>>    together)
>>>>    - https://github.com/qgis/QGIS-Documentation/pull/8522 (same as
>>>>    previous)
>>>>    - https://github.com/qgis/QGIS-Documentation/pull/8530 (same as
>>>>    previous)
>>>>    - https://github.com/qgis/QGIS-Documentation/pull/8491 ( this one
>>>>    needs feedback from Nyall Dawson or anybody else who is familiar with "Add
>>>>    GIS File" action)
>>>>    - https://github.com/qgis/QGIS-Documentation/pull/8483 (will be
>>>>    done by the end of the weekend)
>>>>
>>>> Merged PRs:
>>>>
>>>>    - https://github.com/qgis/QGIS-Documentation/pull/8507
>>>>
>>>> From this week I will send this report in a single thread so we can all
>>>> follow the progress easier.
>>>>
>>>> Have a nice weekend,
>>>> Selma.
>>>>
>>>>
>>>> --
>>>> Selma Vidimlic Husic
>>>> QGIS Documentation Writer
>>>> Visit http://kartoza.com to find out about open source:
>>>> * Desktop GIS programming services
>>>> * Geospatial web development
>>>> * GIS Training
>>>> * Consulting Services
>>>> Phone: +387 61 933 651
>>>>
>>>
>>>
>>> --
>>> Selma Vidimlic Husic
>>> QGIS Documentation Writer
>>> Visit http://kartoza.com to find out about open source:
>>> * Desktop GIS programming services
>>> * Geospatial web development
>>> * GIS Training
>>> * Consulting Services
>>> Phone: +387 61 933 651
>>>
>>
>>
>> --
>> Selma Vidimlic Husic
>> QGIS Documentation Writer
>> Visit http://kartoza.com to find out about open source:
>> * Desktop GIS programming services
>> * Geospatial web development
>> * GIS Training
>> * Consulting Services
>> Phone: +387 61 933 651
>>
>
>
> --
> Selma Vidimlic Husic
> QGIS Documentation Writer
> Visit http://kartoza.com to find out about open source:
> * Desktop GIS programming services
> * Geospatial web development
> * GIS Training
> * Consulting Services
> Phone: +387 61 933 651
>


-- 
Selma Vidimlic Husic
QGIS Documentation Writer
Visit http://kartoza.com to find out about open source:
* Desktop GIS programming services
* Geospatial web development
* GIS Training
* Consulting Services
Phone: +387 61 933 651
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231027/1fb4ab9a/attachment.htm>

From etienne.trimaille at gmail.com  Fri Oct 27 09:39:25 2023
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Fri, 27 Oct 2023 18:39:25 +0200
Subject: [QGIS-Developer] LAStools QGIS plugin, transfer of ownership
In-Reply-To: <BEZP281MB2103ED0517ED9F09B69B66B3E0DDA@BEZP281MB2103.DEUP281.PROD.OUTLOOK.COM>
References: <BEZP281MB2103A74521F21E0815516E8CE0DDA@BEZP281MB2103.DEUP281.PROD.OUTLOOK.COM>
 <BEZP281MB2103ED0517ED9F09B69B66B3E0DDA@BEZP281MB2103.DEUP281.PROD.OUTLOOK.COM>
Message-ID: <CAMtDFLJbWNWstOshtC8v_QjDinEQZzWB1iEbV15NLQxOY_Axbg@mail.gmail.com>

Hi,

Done, it should be alright now ?

Regards,

Le jeu. 26 oct. 2023 ? 23:42, Silke K?mmerer via QGIS-Developer <
qgis-developer at lists.osgeo.org> a ?crit :

> Hi there,
>
>
>
> I hope this email finds you well. I'm contacting you because we need help
> with our LAStools QGIS plugin:
>
>
>
> https://plugins.qgis.org/plugins/LAStools/
>
>
>
> Since Martin Isenburg (main owner of the plugin) passed away, and the
> author (Victor Olaya) is not available to maintain the plugin, I wanted to
> ask if you could transfer the ownership of the plugin to our new userid
> 'rapidlasso' so that we can update the plugin, but ensure that all records
> remain (such as versions, number of downloads, ..) ?
>
>
>
> Can you please let us know what we need to do?
>
>
>
> Many thanks,
>
> Silke
>
> ___________________________
>
>
>
> *Silke K?mmerer | CEO*
>
> Phone: +49 172 65 43 209
>
> E-Mail: silke.kaemmerer at rapidlasso.de
>
> *rapidlasso GmbH*
>
> Friedrichshafener Stra?e 1
>
> 82205 Gilching - Germany
>
> www.rapidlasso.de
>
>
>
> *This electronic message and any attached documents are intended only for
> the named addressee(s). This communication from rapidlasso GmbH may contain
> information that is privileged, confidential or otherwise protected from
> disclosure and it must not be disclosed, copied, forwarded or distributed
> without authorization. If you have received this message in error, please
> notify me immediately and delete the original message. **Thank you.*
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231027/0809dbb9/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 9443 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231027/0809dbb9/attachment-0001.png>

From silke.kaemmerer at rapidlasso.de  Sun Oct 29 03:40:00 2023
From: silke.kaemmerer at rapidlasso.de (=?utf-8?B?U2lsa2UgS8OkbW1lcmVy?=)
Date: Sun, 29 Oct 2023 10:40:00 +0000
Subject: [QGIS-Developer] LAStools QGIS plugin, transfer of ownership
In-Reply-To: <CAMtDFLJbWNWstOshtC8v_QjDinEQZzWB1iEbV15NLQxOY_Axbg@mail.gmail.com>
References: <BEZP281MB2103A74521F21E0815516E8CE0DDA@BEZP281MB2103.DEUP281.PROD.OUTLOOK.COM>
 <BEZP281MB2103ED0517ED9F09B69B66B3E0DDA@BEZP281MB2103.DEUP281.PROD.OUTLOOK.COM>
 <CAMtDFLJbWNWstOshtC8v_QjDinEQZzWB1iEbV15NLQxOY_Axbg@mail.gmail.com>
Message-ID: <BEZP281MB210310877C0FAB4DAE4EBF7DE0A2A@BEZP281MB2103.DEUP281.PROD.OUTLOOK.COM>

Hi,

Perfect - thanks a lot!

Cheers,
Silke

Von: Etienne Trimaille <etienne.trimaille at gmail.com>
Gesendet: Freitag, 27. Oktober 2023 18:39
An: Silke K?mmerer <silke.kaemmerer at rapidlasso.de>
Cc: qgis-developer at lists.osgeo.org
Betreff: Re: [QGIS-Developer] LAStools QGIS plugin, transfer of ownership

Hi,

Done, it should be alright now ?

Regards,

Le jeu. 26 oct. 2023 ? 23:42, Silke K?mmerer via QGIS-Developer <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>> a ?crit :
Hi there,

I hope this email finds you well. I'm contacting you because we need help with our LAStools QGIS plugin:

https://plugins.qgis.org/plugins/LAStools/

Since Martin Isenburg (main owner of the plugin) passed away, and the author (Victor Olaya) is not available to maintain the plugin, I wanted to ask if you could transfer the ownership of the plugin to our new userid 'rapidlasso' so that we can update the plugin, but ensure that all records remain (such as versions, number of downloads, ..) ?

Can you please let us know what we need to do?

Many thanks,
Silke
___________________________

Silke K?mmerer | CEO
Phone: +49 172 65 43 209
E-Mail: silke.kaemmerer at rapidlasso.de<mailto:silke.kaemmerer at rapidlasso.de>
[cid:image001.png at 01DA0A5C.A4B475D0]
rapidlasso GmbH
Friedrichshafener Stra?e 1
82205 Gilching - Germany
www.rapidlasso.de<http://www.rapidlasso.de/>

This electronic message and any attached documents are intended only for the named addressee(s). This communication from rapidlasso GmbH may contain information that is privileged, confidential or otherwise protected from disclosure and it must not be disclosed, copied, forwarded or distributed without authorization. If you have received this message in error, please notify me immediately and delete the original message. Thank you.


_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231029/067a7d61/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 9443 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231029/067a7d61/attachment-0001.png>

From rdmailings at duif.net  Sun Oct 29 03:56:42 2023
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sun, 29 Oct 2023 11:56:42 +0100
Subject: [QGIS-Developer] VisualChangelog in qgis.org please check/fix
Message-ID: <9c3ec895-c854-4c40-833c-4bc073c4cc5d@duif.net>

Hi,

Just pulled the Visual Changelog from the edit site into the website:
https://qgis.org/en/site/forusers/visualchangelog334/index.html
(English, but other languages building!)

Please check and let us know if there is stuff to fix.

Regards,

Richard Duivenvoorde

From valentin.buira at gmail.com  Mon Oct 30 16:27:29 2023
From: valentin.buira at gmail.com (Valentin BUIRA)
Date: Tue, 31 Oct 2023 00:27:29 +0100
Subject: [QGIS-Developer] VisualChangelog in qgis.org please check/fix
Message-ID: <CANrSSZ=+=u-p57zoHbUBR0cz=sfzKKk9XoXSAR-i=d0mDdgwfA@mail.gmail.com>

Hi Richard,

I'm super happy and quite surprised that the feature I developed (Create
Grid row_index and col_index fields) made it to the visual changelog !

However, the credit still uses my old github display name and I changed my
display name in the meantime

Do you think I could be credited as Valentin Buira instead of "Poulpator" ?

Regards,
Valentin Buira
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20231031/708ef4c6/attachment.htm>

From rdmailings at duif.net  Tue Oct 31 00:03:54 2023
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 31 Oct 2023 08:03:54 +0100
Subject: [QGIS-Developer] VisualChangelog in qgis.org please check/fix
In-Reply-To: <CANrSSZ=+=u-p57zoHbUBR0cz=sfzKKk9XoXSAR-i=d0mDdgwfA@mail.gmail.com>
References: <CANrSSZ=+=u-p57zoHbUBR0cz=sfzKKk9XoXSAR-i=d0mDdgwfA@mail.gmail.com>
Message-ID: <6ee46e46-e5c6-4c56-bc04-481e99d1f4d3@duif.net>

On 10/31/23 00:27, Valentin BUIRA via QGIS-Developer wrote:

> Do you think I could be credited as Valentin Buira instead of "Poulpator" ?

https://github.com/qgis/QGIS-Website/commit/f4b67fb512d10cd28a7198d6043e8c2ec30e33a3

Regards,

Richard Duivenvoorde


