From cavallini at faunalia.it  Fri Feb  1 01:10:31 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] first issues with rc1
In-Reply-To: <045E2B0D-8E21-4ED9-8AFA-5720525E72B1@mrcc.com>
References: <47A1C609.9090007@faunalia.it>
	<045E2B0D-8E21-4ED9-8AFA-5720525E72B1@mrcc.com>
Message-ID: <47A2B7D7.4090603@faunalia.it>

Gary Sherman ha scritto:

> What is the spqr plugin and where did you get it?

http://www.maths.lancs.ac.uk/~rowlings/Software/Spqr/
Nice stuff, still rough.
All the ebst.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc

From apasotti at gmail.com  Fri Feb  1 02:43:18 2008
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] Couldn't load QGIS bindings.
In-Reply-To: <e8e7199c0801311517t364c91f7id4217c508e98535e@mail.gmail.com>
References: <e579e76c0801310841u69db5d34u389f110ba24d2e33@mail.gmail.com>
	<e8e7199c0801311517t364c91f7id4217c508e98535e@mail.gmail.com>
Message-ID: <e579e76c0801312343i3db23870q54165add61ecc9d9@mail.gmail.com>

2008/2/1, Martin Dobias <wonder.sk@gmail.com>:
> On Jan 31, 2008 5:41 PM, Alessandro Pasotti <apasotti@gmail.com> wrote:
> > Hi all,
> > The build went fine, but now I see this message in a popup at startup:
> >
> > Couldn't load QGIS bindings.
> > Python support will be disabled.
> >
> > From a pyton console this works fine:
> >
> > >>> from qgis import *
>
> Hi,
>
> I don't understand this well... if QGIS says that it couldn't load
> bindings, you can't open python console in it. Or are you referring to
> python console run from shell?


Yes, from a shell.


>
>
> > Please note that qgis python bindings were working fine with svn built
> > just before christmas.
> >
> > Any hint?
>
> Well, for me it works :)
> Can you give some more details? like what installation path you use
> for QGIS, what version of python (haven't you installed a newer
> version recently?) etc.

No, I'm pretty sure python is the same, paths are the same etc. I just
did a new build after updating the svn.

ale@toshiba-u300:~/public_html/parconord$ python
Python 2.5.1 (r251:54863, Oct  5 2007, 13:50:07)
[GCC 4.1.3 20070929 (prerelease) (Ubuntu 4.1.2-16ubuntu2)] on linux2


Here is the output of cmake..

ale@toshiba-u300:~/dev/cpp/qgis/build$ cmake ..
-- Found Proj: /usr/lib/libproj.so
-- Found Sqlite3: /usr/lib/libsqlite3.so
-- Found GEOS: /usr/local/lib/libgeos.so
-- Found GDAL: /usr/lib/libgdal1.4.0.so
-- Found PostgreSQL: /usr/lib/libpq.so
-- Found Expat: /usr/lib/libexpat.so
-- Using GSL from /usr
-- Found GRASS: /usr/lib/grass (6.2.2)
-- Python libraries found
-- Python bindings enabled
-- Found Qt-Version 4.3.2
-- Configuring done
-- Generating done
-- Build files have been written to: /home/ale/dev/cpp/qgis/build


The path is /usr/local/
ale@toshiba-u300:~/dev/cpp/qgis/build$ which qgis
/usr/local/bin/qgis


Thanks for your help.

-- 
Alessandro Pasotti
w3:   www.itopen.it

From tutey at o2.pl  Fri Feb  1 03:10:03 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI
	in	Python
In-Reply-To: <6AE62838-97D9-4CA4-AF53-D67CD666750D@mrcc.com>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>	<47A1FD3D.90509@lancaster.ac.uk>
	<47A2300A.1040609@o2.pl> <47A26A66.7010808@o2.pl>
	<6AE62838-97D9-4CA4-AF53-D67CD666750D@mrcc.com>
Message-ID: <47A2D3DB.5090108@o2.pl>

Gary Sherman pisze:
> A question -
> Why reimplement  the entire postgis dialog in Python? It would be easier 
> to create a plugin that creates a new layer rather than duplicate 
> functionality already in the application.

In order to create, delete or modify a PostGIS layer one has to connect 
to a database and choose a schema first anyway. My plugin at least must 
have the connection chooser, "connect" button and schema/table selector. 
The "search options" button from the "Add Postgis Table" would be very 
usefull too. These all are implemented in the "Add Postgis Table" 
already and constitute the most of it. An option to create, delete, 
modify PostGIS tables fits rigth there, and should be there.

Since I don't know C++ and can't extend the "Add Postgis Table" like it 
is, I have to recreate it in Python, then add desired extra functionality.

Maciek

From tutey at o2.pl  Fri Feb  1 03:23:04 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS
	GUI	in	Python
In-Reply-To: <47A2D3DB.5090108@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>	<47A1FD3D.90509@lancaster.ac.uk>	<47A2300A.1040609@o2.pl>
	<47A26A66.7010808@o2.pl>	<6AE62838-97D9-4CA4-AF53-D67CD666750D@mrcc.com>
	<47A2D3DB.5090108@o2.pl>
Message-ID: <47A2D6E8.3050707@o2.pl>

Maciej Sieczka pisze:

> Since I don't know C++ and can't extend the "Add Postgis Table" like it 
> is, I have to recreate it in Python, then add desired extra functionality.

OK, I don't know Python either. Yet there are more chances I can learn 
some of it enough to complete the task, than in case of C++. But I need 
help.

Getting back to my question - what do I do to call the 
qgsdbsourceselectbase.py (created with pyuic4) and spawn it's GUI, from 
a QGIS Python script? Details in my other email in the thread.

Maciek

From apasotti at gmail.com  Fri Feb  1 07:26:31 2008
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A2D6E8.3050707@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A2300A.1040609@o2.pl>
	<47A26A66.7010808@o2.pl>
	<6AE62838-97D9-4CA4-AF53-D67CD666750D@mrcc.com>
	<47A2D3DB.5090108@o2.pl> <47A2D6E8.3050707@o2.pl>
Message-ID: <e579e76c0802010426i6b8f0ac7wbaaf937a9721e6dd@mail.gmail.com>

2008/2/1, Maciej Sieczka <tutey@o2.pl>:
> Maciej Sieczka pisze:
>
> > Since I don't know C++ and can't extend the "Add Postgis Table" like it
> > is, I have to recreate it in Python, then add desired extra functionality.
>
> OK, I don't know Python either. Yet there are more chances I can learn
> some of it enough to complete the task, than in case of C++. But I need
> help.
>
> Getting back to my question - what do I do to call the
> qgsdbsourceselectbase.py (created with pyuic4) and spawn it's GUI, from
> a QGIS Python script? Details in my other email in the thread.
>
> Maciek


Hey, it's a pity I joined the list just yesterday, I'm also in the
process of writing such plugin.

Before making it a plugin I wanted to make it work standalone and I
was half-way to do it when I decided to buy the PyQT book. Now I
paused the development while I study python and QT.

If you want I can send you the (GPL'd)  code I've written so far, the
GUI is somewhat complete, the functionality is mostly missing.


-- 
Alessandro Pasotti
w3:   www.itopen.it

From tutey at o2.pl  Fri Feb  1 08:15:53 2008
From: tutey at o2.pl (=?UTF-8?Q?tutey?=)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer]
	=?utf-8?q?please_help_me_write_a_QGIS-PostGIS_GU?=
	=?utf-8?q?I_in_Python?=
In-Reply-To: <e579e76c0802010426i6b8f0ac7wbaaf937a9721e6dd@mail.gmail.com>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl> <47A2D3DB.5090108@o2.pl>
	<47A2D6E8.3050707@o2.pl>
	<e579e76c0802010426i6b8f0ac7wbaaf937a9721e6dd@mail.gmail.com>
Message-ID: <187d18c8.627bda04.47a31b89.3eaea@o2.pl>

Dnia 1 lutego 2008 13:26 "Alessandro Pasotti" <apasotti@gmail.com> napisa?(a):

> Hey, it's a pity I joined the list just yesterday, I'm also in the
> process of writing such plugin.
> 
> Before making it a plugin I wanted to make it work standalone and I
> was half-way to do it when I decided to buy the PyQT book. Now I
> paused the development while I study python and QT.
> 
> If you want I can send you the (GPL'd)  code I've written so far, the
> GUI is somewhat complete, the functionality is mostly missing.

Hi Allessandro

I have just (at last) got the "Add PostGIS Table(s)" menu start from a Python plugin. The code is in the attachment. I have modelled it after the Copyright plugin Python version from [1].

Now I have to make use of Barry's hints on how to assign the existing actions to buttons, then on to the new functionality. Working on the connestion selector now. Don't hesitate to drop me a line if you have something to add/notice. I'd be glad to look at your code too.

[1]http://spatialserver.net:3001/python_plugins/list

Maciek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: =?UTF-8?Q?qgis=5Fpostgis=5Fv2.tar.bz2?=
Type: application/x-bzip
Size: 6281 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080201/a6e66456/UTF-8Qqgis5Fpostgis5Fv2.tar.bin
From apasotti at gmail.com  Fri Feb  1 09:41:12 2008
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <187d18c8.627bda04.47a31b89.3eaea@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl> <47A2D3DB.5090108@o2.pl>
	<47A2D6E8.3050707@o2.pl>
	<e579e76c0802010426i6b8f0ac7wbaaf937a9721e6dd@mail.gmail.com>
	<187d18c8.627bda04.47a31b89.3eaea@o2.pl>
Message-ID: <e579e76c0802010641n3a5b28c4k72f34543b39838c@mail.gmail.com>

2008/2/1, tutey <tutey@o2.pl>:
> Dnia 1 lutego 2008 13:26 "Alessandro Pasotti" <apasotti@gmail.com> napisa?(a):
>
> > Hey, it's a pity I joined the list just yesterday, I'm also in the
> > process of writing such plugin.
> >
> > Before making it a plugin I wanted to make it work standalone and I
> > was half-way to do it when I decided to buy the PyQT book. Now I
> > paused the development while I study python and QT.
> >
> > If you want I can send you the (GPL'd)  code I've written so far, the
> > GUI is somewhat complete, the functionality is mostly missing.
>
> Hi Allessandro
>
> line if you have something to add/notice. I'd be glad to look at your code too.


Here is it!

http://www.itopen.it/wp-content/uploads/newpostgislayer.tar.bz2


forget about the Makefile, there is an eric IDE project file, use it.

It's not yet a plugin, just run it standalone.

Cheers


-- 
Alessandro Pasotti
w3:   www.itopen.it
From stefie10 at media.mit.edu  Fri Feb  1 12:11:04 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] arrows on line strings?
In-Reply-To: <e8e7199c0801311530v3f074149y4c1866b353d82fe0@mail.gmail.com>
References: <47A1FC01.1020400@media.mit.edu>
	<e8e7199c0801311530v3f074149y4c1866b353d82fe0@mail.gmail.com>
Message-ID: <47A352A8.10105@media.mit.edu>

Hi,

The attached patch against R8092 draws arrows on all linestrings 
everywhere, no matter what, using code swiped from this GPL v2.0 
licensed file: 
http://doc.trolltech.com/4.3/graphicsview-diagramscene-arrow-cpp.html

What's the best way to control arrow drawing so it only shows up on 
particular layers? Seems like it should be written to the xml file also, 
in which case it might be better to just wait until better rendering 
happens, and live with patching QGIS myself until then...?

There's also a bug on multi-line-strings where an arrow line gets drawn 
to some random coordinate in the upper left hand corner which I'm not 
motivated to fix since I only need arrows on line-strings...

Stefanie

Martin Dobias wrote:
> On Jan 31, 2008 5:49 PM, Stefanie Tellex <stefie10@media.mit.edu> wrote:
>> Hi,
>>
>> I would like to draw arrows on line strings, since they represent
>> movement vectors and I want to show the direction of movement.  I
>> couldn't find any way to do that in the gui or any obvious way in the
>> programmatic API.  What's the best way to add this feature or is it
>> there already somewhere?
> 
> Currently QGIS renderers work in a way that they just set some
> properties for painting and let the vector layer to draw the polyline,
> so it's not possible to create a renderer which would e.g. render
> arrows in the direction of the flow. We should allow renderers to do
> arbitrary drawing in future.
> 
> Now it will be more complicated to acquire this effect: you can
> generate some points (e.g. in the middle of every line segment) and
> determine the angle of direction. Such generated vector layer with
> points you can load to map canvas and for rendering set a SVG symbol
> with an arrow and set rotation field appropriately to the field you've
> generated.
> 
> Martin

-------------- next part --------------
Index: src/core/qgsvectorlayer.cpp
===================================================================
--- src/core/qgsvectorlayer.cpp	(revision 8092)
+++ src/core/qgsvectorlayer.cpp	(working copy)
@@ -425,6 +425,7 @@
   // 255 = opaque
   //
   QPen myTransparentPen = p->pen(); // store current pen
+  QBrush brush = p->brush(); //to be kept as original
   QColor myColor = myTransparentPen.color();
   //only set transparency from layer level if renderer does not provide
   //transparency on class level
@@ -433,7 +434,9 @@
       myColor.setAlpha(mTransparencyLevel);
     }
   myTransparentPen.setColor(myColor);
+
   p->setPen(myTransparentPen);
+  
   p->drawPolyline(pa);
 
   // draw vertex markers if in editing mode, but only to the main canvas
@@ -449,9 +452,43 @@
 	  drawVertexMarker((int)(*xIt), (int)(*yIt), *p);
 	}
     }
+  // draw arrows
+#define PI 3.14159
+  p->setBrush(QBrush(myColor, Qt::SolidPattern));
+  
+  for (int i = 0; i < pa.size(); ++i)
+    {
+      if (i > 0) 
+	{
+	  QPointF p1 = pa[i];
+	  QPointF p2 = pa[i-1];
 
+	  QLineF line = QLineF(p1, p2);
+	  double angle = ::acos(line.dx() / line.length());
+	  if (line.dy() >= 0)
+	    {
+	    angle = (PI * 2) - angle;
+	    }
+
+	  float arrowSize = 10;
+	  QPointF arrowP1 = 
+	    line.p1() + QPointF(sin(angle + PI / 3) * arrowSize,
+				cos(angle + PI / 3) * arrowSize);
+	  QPointF arrowP2 = 
+	    line.p1() + QPointF(sin(angle + PI - PI / 3) * arrowSize,
+				cos(angle + PI - PI / 3) * arrowSize);
+	  QPolygonF arrowHead;
+	  arrowHead << line.p1() << arrowP1 << arrowP2;
+	  p->drawPolygon(arrowHead);
+
+	
+	}
+      QgsDebugMsgLevel("pa" + QString::number(pa.point(i).x()), 2);
+      QgsDebugMsgLevel("pa" + QString::number(pa.point(i).y()), 2);
+    }
   //restore the pen
   p->setPen(pen);
+  p->setBrush(brush);
   
   return ptr;
 }
From otto.dassau at gmx.de  Fri Feb  1 12:13:48 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] QGIS 0.9.2rc1 branched - call for packaging
In-Reply-To: <d368056f0801282028m68ce2644g8b5654b64faeb211@mail.gmail.com>
References: <d368056f0801282028m68ce2644g8b5654b64faeb211@mail.gmail.com>
Message-ID: <20080201181348.04fa6e71@nature>

Hi, 

the openSuSE repository (10.2/10.3) is also updated, please test and report.
http://download.opensuse.org/repositories/Application:/Geo/

Note: The "opensuse build service" only keeps the latest qgis rpms and
removes any "older" versions, that's why I copied all 0.9.1 packages here 
(no repo!): 
http://www.nature-consult.de/dassau/qgis/0.9.1/rpm/

Regards,
 Otto

On Tue, 29 Jan 2008 02:28:36 -0200
"Tim Sutton" <tim@linfiniti.com> wrote:

> Dear QGIS devs & packagers
> 
> Tonight I have branched 0.9.2rc1. It would be great if you can assist
> by making packages for your preferred platform. The branch can be
> checked out at:
> 
> svn co https://svn.qgis.org/repos/qgis/branches/Release-0.9.2rc1 qgis-0.9.2rc1
> 
> Please do not commit anything to the branch except packaging related tweaks.
> 
> The release checklist at :
> 
> http://wiki.qgis.org/qgiswiki/ReleaseChecklist0.9.2rc1
> 
> Has a list of people who have previously made packages. If you make a
> package for 0.9.1rc1 please be so kind as to add the url to that wiki
> page in the section provided so that we can gather all the url
> packages in a systematic way. If you are able to make packages for
> unlisted platforms / distros please let me know so that we can avoid
> duplication of effort.
> 
> I would like to make the release announcement within the next week or
> so, so it will be great to have all packages ready by then.
> 
> 
> SVN Trunk is open again for general commits but please not that we are
> aiming to do the 0.9.2 final release within a month or so (timetable
> to be determined) and you should not make any major feature changes
> without prior discussion with PSC and Dev list.
> 
> Many thanks to all the developers, testers, bug fixers, bug reporters,
> document writers, translators and users that help to make QGIS a
> reality.
> 
> Best regards
> 
> 
> 

From b.rowlingson at lancaster.ac.uk  Fri Feb  1 12:21:48 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] arrows on line strings?
In-Reply-To: <47A352A8.10105@media.mit.edu>
References: <47A1FC01.1020400@media.mit.edu>	<e8e7199c0801311530v3f074149y4c1866b353d82fe0@mail.gmail.com>
	<47A352A8.10105@media.mit.edu>
Message-ID: <47A3552C.10608@lancaster.ac.uk>

Stefanie Tellex wrote:
> Hi,
> 
> The attached patch against R8092 draws arrows on all linestrings 
> everywhere, no matter what, using code swiped from this GPL v2.0 
> licensed file: 
> http://doc.trolltech.com/4.3/graphicsview-diagramscene-arrow-cpp.html
> 
> What's the best way to control arrow drawing so it only shows up on 
> particular layers? Seems like it should be written to the xml file also, 
> in which case it might be better to just wait until better rendering 
> happens, and live with patching QGIS myself until then...?

  Couldn't you just have a point layer of the endpoints of your 
linestrings with a 'direction' attribute corresponding to the direction 
of the last line segment, and then draw that using a rotating symbol?

Barry


From tim at linfiniti.com  Fri Feb  1 13:31:57 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] arrows on line strings?
In-Reply-To: <47A352A8.10105@media.mit.edu>
References: <47A1FC01.1020400@media.mit.edu>
	<e8e7199c0801311530v3f074149y4c1866b353d82fe0@mail.gmail.com>
	<47A352A8.10105@media.mit.edu>
Message-ID: <d368056f0802011031l50ad4ed9s7da203097f9f212e@mail.gmail.com>

Hi Stefanie

I tried to apply your patch:

[qgis] svn update -r 8092
Na revis?o 8092.
[qgis] patch -p0 < ~/tmp/line_arrows.diff
patching file src/core/qgsvectorlayer.cpp
Hunk #1 FAILED at 425.
Hunk #2 FAILED at 434.
Hunk #3 FAILED at 452.
3 out of 3 hunks FAILED -- saving rejects to file
src/core/qgsvectorlayer.cpp.rej


I didnt have time to manually resolve the rejected but perhaps
regenerating it off trunk might help. I can add a simple checkbox
option to the vector props dialog and do the associated xml
(de)serialisation. This would probably only happen in a month or so
since we are in feature freeze for getting 0.9.2 final out (so I would
target it for 0.9.3). I would suggest to go with your approach for now
since we are trying to get 1.0 out and implementing the renderers
approach described by Magnus will only happen post 1.0. On the other
hand I have often been asked about the ability to show direction on
lines so adding your basic implementation for now seems like a good
way to go for 1.0 relase. If anyone vigorously disagrees let me know,
otherwise I'll incorporate your patch in 0.9.3 with some additions
from myself to enabled or disable line arrows via the layer props
dialog, the vector api and the layer properties serialisation
mechanism.

Best regards

Tim

2008/2/1, Stefanie Tellex <stefie10@media.mit.edu>:
> Hi,
>
> The attached patch against R8092 draws arrows on all linestrings
> everywhere, no matter what, using code swiped from this GPL v2.0
> licensed file:
> http://doc.trolltech.com/4.3/graphicsview-diagramscene-arrow-cpp.html
>
> What's the best way to control arrow drawing so it only shows up on
> particular layers? Seems like it should be written to the xml file also,
> in which case it might be better to just wait until better rendering
> happens, and live with patching QGIS myself until then...?
>
> There's also a bug on multi-line-strings where an arrow line gets drawn
> to some random coordinate in the upper left hand corner which I'm not
> motivated to fix since I only need arrows on line-strings...
>
> Stefanie
>
> Martin Dobias wrote:
> > On Jan 31, 2008 5:49 PM, Stefanie Tellex <stefie10@media.mit.edu> wrote:
> >> Hi,
> >>
> >> I would like to draw arrows on line strings, since they represent
> >> movement vectors and I want to show the direction of movement.  I
> >> couldn't find any way to do that in the gui or any obvious way in the
> >> programmatic API.  What's the best way to add this feature or is it
> >> there already somewhere?
> >
> > Currently QGIS renderers work in a way that they just set some
> > properties for painting and let the vector layer to draw the polyline,
> > so it's not possible to create a renderer which would e.g. render
> > arrows in the direction of the flow. We should allow renderers to do
> > arbitrary drawing in future.
> >
> > Now it will be more complicated to acquire this effect: you can
> > generate some points (e.g. in the middle of every line segment) and
> > determine the angle of direction. Such generated vector layer with
> > points you can load to map canvas and for rendering set a SVG symbol
> > with an arrow and set rotation field appropriately to the field you've
> > generated.
> >
> > Martin
>
>
> Index: src/core/qgsvectorlayer.cpp
> ===================================================================
> --- src/core/qgsvectorlayer.cpp (revision 8092)
> +++ src/core/qgsvectorlayer.cpp (working copy)
> @@ -425,6 +425,7 @@
>    // 255 = opaque
>    //
>    QPen myTransparentPen = p->pen(); // store current pen
> +  QBrush brush = p->brush(); //to be kept as original
>    QColor myColor = myTransparentPen.color();
>    //only set transparency from layer level if renderer does not provide
>    //transparency on class level
> @@ -433,7 +434,9 @@
>        myColor.setAlpha(mTransparencyLevel);
>      }
>    myTransparentPen.setColor(myColor);
> +
>    p->setPen(myTransparentPen);
> +
>    p->drawPolyline(pa);
>
>    // draw vertex markers if in editing mode, but only to the main canvas
> @@ -449,9 +452,43 @@
>           drawVertexMarker((int)(*xIt), (int)(*yIt), *p);
>         }
>      }
> +  // draw arrows
> +#define PI 3.14159
> +  p->setBrush(QBrush(myColor, Qt::SolidPattern));
> +
> +  for (int i = 0; i < pa.size(); ++i)
> +    {
> +      if (i > 0)
> +       {
> +         QPointF p1 = pa[i];
> +         QPointF p2 = pa[i-1];
>
> +         QLineF line = QLineF(p1, p2);
> +         double angle = ::acos(line.dx() / line.length());
> +         if (line.dy() >= 0)
> +           {
> +           angle = (PI * 2) - angle;
> +           }
> +
> +         float arrowSize = 10;
> +         QPointF arrowP1 =
> +           line.p1() + QPointF(sin(angle + PI / 3) * arrowSize,
> +                               cos(angle + PI / 3) * arrowSize);
> +         QPointF arrowP2 =
> +           line.p1() + QPointF(sin(angle + PI - PI / 3) * arrowSize,
> +                               cos(angle + PI - PI / 3) * arrowSize);
> +         QPolygonF arrowHead;
> +         arrowHead << line.p1() << arrowP1 << arrowP2;
> +         p->drawPolygon(arrowHead);
> +
> +
> +       }
> +      QgsDebugMsgLevel("pa" + QString::number(pa.point(i).x()), 2);
> +      QgsDebugMsgLevel("pa" + QString::number(pa.point(i).y()), 2);
> +    }
>    //restore the pen
>    p->setPen(pen);
> +  p->setBrush(brush);
>
>    return ptr;
>  }
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Fri Feb  1 14:58:08 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] [Qgis-user] QGIS 0.9.2rc1 branched - call for
	packaging
In-Reply-To: <20080201181348.04fa6e71@nature>
References: <d368056f0801282028m68ce2644g8b5654b64faeb211@mail.gmail.com>
	<20080201181348.04fa6e71@nature>
Message-ID: <d368056f0802011158s213eb1dfqa94fd2a95ce77d4b@mail.gmail.com>

Hi

Many thanks for that Otto! Gary can you update teh 0.9.1 download page
to reflect the change?

Thanks

Tim

2008/2/1, Otto Dassau <otto.dassau@gmx.de>:
> Hi,
>
> the openSuSE repository (10.2/10.3) is also updated, please test and report.
> http://download.opensuse.org/repositories/Application:/Geo/
>
> Note: The "opensuse build service" only keeps the latest qgis rpms and
> removes any "older" versions, that's why I copied all 0.9.1 packages here
> (no repo!):
> http://www.nature-consult.de/dassau/qgis/0.9.1/rpm/
>
> Regards,
>  Otto
>
> On Tue, 29 Jan 2008 02:28:36 -0200
> "Tim Sutton" <tim@linfiniti.com> wrote:
>
> > Dear QGIS devs & packagers
> >
> > Tonight I have branched 0.9.2rc1. It would be great if you can assist
> > by making packages for your preferred platform. The branch can be
> > checked out at:
> >
> > svn co https://svn.qgis.org/repos/qgis/branches/Release-0.9.2rc1 qgis-0.9.2rc1
> >
> > Please do not commit anything to the branch except packaging related tweaks.
> >
> > The release checklist at :
> >
> > http://wiki.qgis.org/qgiswiki/ReleaseChecklist0.9.2rc1
> >
> > Has a list of people who have previously made packages. If you make a
> > package for 0.9.1rc1 please be so kind as to add the url to that wiki
> > page in the section provided so that we can gather all the url
> > packages in a systematic way. If you are able to make packages for
> > unlisted platforms / distros please let me know so that we can avoid
> > duplication of effort.
> >
> > I would like to make the release announcement within the next week or
> > so, so it will be great to have all packages ready by then.
> >
> >
> > SVN Trunk is open again for general commits but please not that we are
> > aiming to do the 0.9.2 final release within a month or so (timetable
> > to be determined) and you should not make any major feature changes
> > without prior discussion with PSC and Dev list.
> >
> > Many thanks to all the developers, testers, bug fixers, bug reporters,
> > document writers, translators and users that help to make QGIS a
> > reality.
> >
> > Best regards
> >
> >
> >
> _______________________________________________
> Qgis-user mailing list
> Qgis-user@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tutey at o2.pl  Fri Feb  1 15:41:55 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A1FD3D.90509@lancaster.ac.uk>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk>
Message-ID: <47A38413.3020809@o2.pl>

Barry Rowlingson pisze:

>  For example, there's a bunch of 'autoconnected' slots which are 
> connected to GUI objects (buttons and so on) such as:
> 
> // Slot for adding a new connection
> void QgsDbSourceSelect::on_btnNew_clicked()
> {
>   addNewConnection();
> }
> 
>  - so that when the 'New' button is clicked it calls the 
> addNewConnection method. In Python code this would be a method in the 
> Dialog class above, like:
> 
>   def on_btnNew_clicked(self):
>     self.addNewConnection()
> 
>  and then you have to write the addNewConnection method as well.
> 
> Now, I'm not sure if this autoconnected slot business works in Python...

I can't make the "Connect" button call the addNewConnection from Python. 
Can you, or anybody, give a working example of how to do this? My code 
actually looks like in the attachment. It's enough to spawn the main 
plugin GUI, but I can't figure out how to to make it's buttons call the 
existing QGIS C++ functionality, besides that which is already available 
in *.sip files.

For example, it's easy to do:

from qgis.core import QgsContextHelp

   def on_pbnHelp_clicked(self):
     QgsContextHelp.run(32338213)

but how do I call addNewConnection? Or is it impossible, when the given 
C++ functionality is not in *.sip?

Maciek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis_postgis_v2.tar.bz2
Type: application/x-bzip
Size: 6281 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080201/f4b08b84/qgis_postgis_v2.tar.bin
From b.rowlingson at lancaster.ac.uk  Fri Feb  1 16:02:25 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A38413.3020809@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
Message-ID: <47A388E1.6090805@lancaster.ac.uk>


Maciej Sieczka wrote:

 > I can't make the "Connect" button call the addNewConnection from Python.

  That's because you haven't written the addNewConnection method!

  When the button is clicked, the on_btnNew_clicked method is called - 
you then have to write the code you want it to do when you click it. So 
inside the class QgsDbSourceSelectBase you need to do:

    def addNewConnection(self):
      # create a new connection...

      # insert your code here..


typically your code will read the state of various widgets in the UI and 
then add a new connection...

get writing!

Barry

From tutey at o2.pl  Fri Feb  1 16:32:00 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A388E1.6090805@lancaster.ac.uk>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk>
Message-ID: <47A38FD0.8070002@o2.pl>

Barry Rowlingson pisze:
> Maciej Sieczka wrote:

>> I can't make the "Connect" button call the addNewConnection from Python.

>  That's because you haven't written the addNewConnection method!
> 
>  When the button is clicked, the on_btnNew_clicked method is called - 
> you then have to write the code you want it to do when you click it. So 
> inside the class QgsDbSourceSelectBase you need to do:
> 
>    def addNewConnection(self):
>      # create a new connection...
> 
>      # insert your code here..

Barry,

Sorry I'm slow. I thought, that since this code is already there in 
src/app/qgsdbsourceselect.cpp, I just have to call it from Python.

> get writing!

:). So do I need to translate the:

void QgsDbSourceSelect::addNewConnection()
{
   QgsNewConnection *nc = new QgsNewConnection(this);

   if (nc->exec())
   {
     populateConnectionList();
   }
}

into Python? Thus the whole src/app/qgsnewconnection.cpp too?

These question propably are dumb. I hope you can stand them...

Maciek

From b.rowlingson at lancaster.ac.uk  Fri Feb  1 16:45:13 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A38FD0.8070002@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>
Message-ID: <47A392E9.5010005@lancaster.ac.uk>

Maciej Sieczka wrote:
> Barry Rowlingson pisze:
>> Maciej Sieczka wrote:

> Sorry I'm slow. I thought, that since this code is already there in 
> src/app/qgsdbsourceselect.cpp, I just have to call it from Python.

  No - what you are writing now is a complete new class. You can't call 
the method from the C code directly.


> void QgsDbSourceSelect::addNewConnection()
> {
>   QgsNewConnection *nc = new QgsNewConnection(this);
> 
>   if (nc->exec())
>   {
>     populateConnectionList();
>   }
> }
> 
> into Python? Thus the whole src/app/qgsnewconnection.cpp too?

  Well, as much as you need for your dialog to have the functionality 
you need. You might want to simplify things if possible...

Barry


From tutey at o2.pl  Fri Feb  1 17:16:37 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A392E9.5010005@lancaster.ac.uk>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>
	<47A392E9.5010005@lancaster.ac.uk>
Message-ID: <47A39A45.9090907@o2.pl>

Barry Rowlingson pisze:
> Maciej Sieczka wrote:
>> Barry Rowlingson pisze:
>>> Maciej Sieczka wrote:

>> Sorry I'm slow. I thought, that since this code is already there in 
>> src/app/qgsdbsourceselect.cpp, I just have to call it from Python.

>  No - what you are writing now is a complete new class. You can't call 
> the method from the C code directly.

>> into Python? Thus the whole src/app/qgsnewconnection.cpp too?

>  Well, as much as you need for your dialog to have the functionality you 
> need. You might want to simplify things if possible...

Thanks Barry. You are a patient man, really. I certainly underestimated 
how much work this would take. Seems I'll give in, at least for now.

Maciek


From sherman at mrcc.com  Fri Feb  1 17:50:31 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A39A45.9090907@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>
Message-ID: <D593DAF5-5AFD-4A48-A5C7-6D14EB2DC5C2@mrcc.com>

On Feb 1, 2008, at 1:16 PM, Maciej Sieczka wrote:

>
> Thanks Barry. You are a patient man, really. I certainly  
> underestimated
> how much work this would take. Seems I'll give in, at least for now.

I think you could approach this project differently. For one, you can  
use
the connections stored in the user preferences and offer them up in your
own dialog. If you need to create a new connection, you could instruct  
the
user to use the other PostGIS dialog, or you could implement your own  
using the
.ui file for the add new connection dialog. Creating a new connection  
amounts
to collecting the required parameters, optionally testing to see if  
you can
connect, and storing them in the user's preferences.

You can save and restore settings using the QSettings object with  
Python. The
"Zoom to Point" plugin does this---see it for an example.

By now you've realized you have to write your own code to manipulate  
dialogs
and fetch/process user input. I'm working on a tutorial for writing a  
plugin
but don't expect it to be done for a while.

-gary


-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-


From tutey at o2.pl  Fri Feb  1 18:34:02 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <D593DAF5-5AFD-4A48-A5C7-6D14EB2DC5C2@mrcc.com>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>
	<D593DAF5-5AFD-4A48-A5C7-6D14EB2DC5C2@mrcc.com>
Message-ID: <47A3AC6A.70506@o2.pl>

Gary Sherman pisze:

Thanks for the tips. Some "thoughts" below.

> I think you could approach this project differently. For one, you can
> use the connections stored in the user preferences and offer them up
> in your own dialog.

Hmm, still I'd need to write my own schema and table selector. While
it's already there in C++, only I can't use it (I'm lazy, ain't I).

> If you need to create a new connection, you could instruct the user
> to use the other PostGIS dialog,

That would do.

> or you could implement your own using the .ui file for the add new
> connection dialog. Creating a new connection amounts to collecting
> the required parameters, optionally testing to see if you can 
> connect, and storing them in the user's preferences.
> 
> You can save and restore settings using the QSettings object with 
> Python. The "Zoom to Point" plugin does this---see it for an example.
> 
> 
> By now you've realized you have to write your own code to manipulate
>  dialogs and fetch/process user input. I'm working on a tutorial for
> writing a plugin but don't expect it to be done for a while.

Are SIP wrappers for QGIS C++ PostGIS functionality not present for a 
reason? If they were there, could I call PostGIS-related methods easily 
like this:


from qgis.core import QgsContextHelp

   def on_pbnHelp_clicked(self):
     QgsContextHelp.run(32338213)

?

Cheers,
Maciek


From wonder.sk at gmail.com  Fri Feb  1 19:26:24 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A3AC6A.70506@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>
	<D593DAF5-5AFD-4A48-A5C7-6D14EB2DC5C2@mrcc.com> <47A3AC6A.70506@o2.pl>
Message-ID: <e8e7199c0802011626o245e212fi72971c48b6db524@mail.gmail.com>

On Feb 2, 2008 12:34 AM, Maciej Sieczka <tutey@o2.pl> wrote:
> > By now you've realized you have to write your own code to manipulate
> >  dialogs and fetch/process user input. I'm working on a tutorial for
> > writing a plugin but don't expect it to be done for a while.
>
> Are SIP wrappers for QGIS C++ PostGIS functionality not present for a
> reason? If they were there, could I call PostGIS-related methods easily
> like this:
>
>
> from qgis.core import QgsContextHelp
>
>    def on_pbnHelp_clicked(self):
>      QgsContextHelp.run(32338213)
>

One reason is that PostGIS support is just optional part of QGIS.
Other reason is that QGIS libraries (core and gui) are meant to be a
collection of reusable classes - for example QgsDbSourceSelect class
definitely is not a reusable class, that's why it's also not included
in the libraries.

Martin

From tim at linfiniti.com  Fri Feb  1 19:27:32 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A3AC6A.70506@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>
	<D593DAF5-5AFD-4A48-A5C7-6D14EB2DC5C2@mrcc.com> <47A3AC6A.70506@o2.pl>
Message-ID: <d368056f0802011627s4eaad6cuc81cb401fc1c5ecb@mail.gmail.com>

The postres ui stuff is part of app which is not part of the python
bindings. It would make more sense to me if we turned the postgres db
selector ui into a widget and stuck it into libqgis_gui that could
then be used by python apps.....no time to do that at the moment
myself though...

Regards

Tim

2008/2/1, Maciej Sieczka <tutey@o2.pl>:
> Gary Sherman pisze:
>
> Thanks for the tips. Some "thoughts" below.
>
> > I think you could approach this project differently. For one, you can
> > use the connections stored in the user preferences and offer them up
> > in your own dialog.
>
> Hmm, still I'd need to write my own schema and table selector. While
> it's already there in C++, only I can't use it (I'm lazy, ain't I).
>
> > If you need to create a new connection, you could instruct the user
> > to use the other PostGIS dialog,
>
> That would do.
>
> > or you could implement your own using the .ui file for the add new
> > connection dialog. Creating a new connection amounts to collecting
> > the required parameters, optionally testing to see if you can
> > connect, and storing them in the user's preferences.
> >
> > You can save and restore settings using the QSettings object with
> > Python. The "Zoom to Point" plugin does this---see it for an example.
> >
> >
> > By now you've realized you have to write your own code to manipulate
> >  dialogs and fetch/process user input. I'm working on a tutorial for
> > writing a plugin but don't expect it to be done for a while.
>
> Are SIP wrappers for QGIS C++ PostGIS functionality not present for a
> reason? If they were there, could I call PostGIS-related methods easily
> like this:
>
>
> from qgis.core import QgsContextHelp
>
>    def on_pbnHelp_clicked(self):
>      QgsContextHelp.run(32338213)
>
> ?
>
> Cheers,
> Maciek
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From stefie10 at media.mit.edu  Fri Feb  1 23:37:48 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] arrows on line strings?
In-Reply-To: <d368056f0802011031l50ad4ed9s7da203097f9f212e@mail.gmail.com>
References: <47A1FC01.1020400@media.mit.edu>	
	<e8e7199c0801311530v3f074149y4c1866b353d82fe0@mail.gmail.com>	
	<47A352A8.10105@media.mit.edu>
	<d368056f0802011031l50ad4ed9s7da203097f9f212e@mail.gmail.com>
Message-ID: <47A3F39C.9050304@media.mit.edu>

Hi Tim,

Not sure what went wrong.  Here's another one against -R8098.

I generated it by running  svn diff > patch  from a checkout of 
https://svn.qgis.org/repos/qgis/trunk/qgis .  Did I generate it wrong?

This version adds an argument to drawLineString called drawArrows that 
defaults to false.  I called it with that argument only when the 
geometry is a linestring.  So arrows no longer appear on polygons or 
multi line strings, but appear on all line strings.

Stefanie

Tim Sutton wrote:
> Hi Stefanie
> 
> I tried to apply your patch:
> 
> [qgis] svn update -r 8092
> Na revis?o 8092.
> [qgis] patch -p0 < ~/tmp/line_arrows.diff
> patching file src/core/qgsvectorlayer.cpp
> Hunk #1 FAILED at 425.
> Hunk #2 FAILED at 434.
> Hunk #3 FAILED at 452.
> 3 out of 3 hunks FAILED -- saving rejects to file
> src/core/qgsvectorlayer.cpp.rej
> 
> 
> I didnt have time to manually resolve the rejected but perhaps
> regenerating it off trunk might help. I can add a simple checkbox
> option to the vector props dialog and do the associated xml
> (de)serialisation. This would probably only happen in a month or so
> since we are in feature freeze for getting 0.9.2 final out (so I would
> target it for 0.9.3). I would suggest to go with your approach for now
> since we are trying to get 1.0 out and implementing the renderers
> approach described by Magnus will only happen post 1.0. On the other
> hand I have often been asked about the ability to show direction on
> lines so adding your basic implementation for now seems like a good
> way to go for 1.0 relase. If anyone vigorously disagrees let me know,
> otherwise I'll incorporate your patch in 0.9.3 with some additions
> from myself to enabled or disable line arrows via the layer props
> dialog, the vector api and the layer properties serialisation
> mechanism.
> 
> Best regards
> 
> Tim
> 
> 2008/2/1, Stefanie Tellex <stefie10@media.mit.edu>:
>> Hi,
>>
>> The attached patch against R8092 draws arrows on all linestrings
>> everywhere, no matter what, using code swiped from this GPL v2.0
>> licensed file:
>> http://doc.trolltech.com/4.3/graphicsview-diagramscene-arrow-cpp.html
>>
>> What's the best way to control arrow drawing so it only shows up on
>> particular layers? Seems like it should be written to the xml file also,
>> in which case it might be better to just wait until better rendering
>> happens, and live with patching QGIS myself until then...?
>>
>> There's also a bug on multi-line-strings where an arrow line gets drawn
>> to some random coordinate in the upper left hand corner which I'm not
>> motivated to fix since I only need arrows on line-strings...
>>
>> Stefanie
>>
>> Martin Dobias wrote:
>>> On Jan 31, 2008 5:49 PM, Stefanie Tellex <stefie10@media.mit.edu> wrote:
>>>> Hi,
>>>>
>>>> I would like to draw arrows on line strings, since they represent
>>>> movement vectors and I want to show the direction of movement.  I
>>>> couldn't find any way to do that in the gui or any obvious way in the
>>>> programmatic API.  What's the best way to add this feature or is it
>>>> there already somewhere?
>>> Currently QGIS renderers work in a way that they just set some
>>> properties for painting and let the vector layer to draw the polyline,
>>> so it's not possible to create a renderer which would e.g. render
>>> arrows in the direction of the flow. We should allow renderers to do
>>> arbitrary drawing in future.
>>>
>>> Now it will be more complicated to acquire this effect: you can
>>> generate some points (e.g. in the middle of every line segment) and
>>> determine the angle of direction. Such generated vector layer with
>>> points you can load to map canvas and for rendering set a SVG symbol
>>> with an arrow and set rotation field appropriately to the field you've
>>> generated.
>>>
>>> Martin
>>
>> Index: src/core/qgsvectorlayer.cpp
>> ===================================================================
>> --- src/core/qgsvectorlayer.cpp (revision 8092)
>> +++ src/core/qgsvectorlayer.cpp (working copy)
>> @@ -425,6 +425,7 @@
>>    // 255 = opaque
>>    //
>>    QPen myTransparentPen = p->pen(); // store current pen
>> +  QBrush brush = p->brush(); //to be kept as original
>>    QColor myColor = myTransparentPen.color();
>>    //only set transparency from layer level if renderer does not provide
>>    //transparency on class level
>> @@ -433,7 +434,9 @@
>>        myColor.setAlpha(mTransparencyLevel);
>>      }
>>    myTransparentPen.setColor(myColor);
>> +
>>    p->setPen(myTransparentPen);
>> +
>>    p->drawPolyline(pa);
>>
>>    // draw vertex markers if in editing mode, but only to the main canvas
>> @@ -449,9 +452,43 @@
>>           drawVertexMarker((int)(*xIt), (int)(*yIt), *p);
>>         }
>>      }
>> +  // draw arrows
>> +#define PI 3.14159
>> +  p->setBrush(QBrush(myColor, Qt::SolidPattern));
>> +
>> +  for (int i = 0; i < pa.size(); ++i)
>> +    {
>> +      if (i > 0)
>> +       {
>> +         QPointF p1 = pa[i];
>> +         QPointF p2 = pa[i-1];
>>
>> +         QLineF line = QLineF(p1, p2);
>> +         double angle = ::acos(line.dx() / line.length());
>> +         if (line.dy() >= 0)
>> +           {
>> +           angle = (PI * 2) - angle;
>> +           }
>> +
>> +         float arrowSize = 10;
>> +         QPointF arrowP1 =
>> +           line.p1() + QPointF(sin(angle + PI / 3) * arrowSize,
>> +                               cos(angle + PI / 3) * arrowSize);
>> +         QPointF arrowP2 =
>> +           line.p1() + QPointF(sin(angle + PI - PI / 3) * arrowSize,
>> +                               cos(angle + PI - PI / 3) * arrowSize);
>> +         QPolygonF arrowHead;
>> +         arrowHead << line.p1() << arrowP1 << arrowP2;
>> +         p->drawPolygon(arrowHead);
>> +
>> +
>> +       }
>> +      QgsDebugMsgLevel("pa" + QString::number(pa.point(i).x()), 2);
>> +      QgsDebugMsgLevel("pa" + QString::number(pa.point(i).y()), 2);
>> +    }
>>    //restore the pen
>>    p->setPen(pen);
>> +  p->setBrush(brush);
>>
>>    return ptr;
>>  }
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.qgis.org
>> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>>
>>
> 
> 

-------------- next part --------------
Index: src/core/qgsvectorlayer.cpp
===================================================================
--- src/core/qgsvectorlayer.cpp	(revision 8098)
+++ src/core/qgsvectorlayer.cpp	(working copy)
@@ -353,7 +353,8 @@
     QPainter* p,
     QgsMapToPixel* mtp,
     QgsCoordinateTransform* ct,
-    bool drawingToEditingCanvas)
+    bool drawingToEditingCanvas,
+    bool drawArrows)
 {
   unsigned char *ptr = feature + 5;
   unsigned int wkbType = *((int*)(feature+1));
@@ -425,6 +426,7 @@
   // 255 = opaque
   //
   QPen myTransparentPen = p->pen(); // store current pen
+  QBrush brush = p->brush(); //to be kept as original
   QColor myColor = myTransparentPen.color();
   //only set transparency from layer level if renderer does not provide
   //transparency on class level
@@ -433,7 +435,9 @@
       myColor.setAlpha(mTransparencyLevel);
     }
   myTransparentPen.setColor(myColor);
+
   p->setPen(myTransparentPen);
+  
   p->drawPolyline(pa);
 
   // draw vertex markers if in editing mode, but only to the main canvas
@@ -449,9 +453,45 @@
 	  drawVertexMarker((int)(*xIt), (int)(*yIt), *p);
 	}
     }
-
+  // draw arrows
+  if (drawArrows) {
+#define PI 3.14159
+    p->setBrush(QBrush(myColor, Qt::SolidPattern));
+    
+    for (int i = 0; i < pa.size(); ++i)
+      {
+	if (i > 0) 
+	  {
+	    QPointF p1 = pa[i];
+	    QPointF p2 = pa[i-1];
+	    
+	    QLineF line = QLineF(p1, p2);
+	    double angle = ::acos(line.dx() / line.length());
+	    if (line.dy() >= 0)
+	      {
+		angle = (PI * 2) - angle;
+	      }
+	    
+	    float arrowSize = 10;
+	    QPointF arrowP1 = 
+	      line.p1() + QPointF(sin(angle + PI / 3) * arrowSize,
+				  cos(angle + PI / 3) * arrowSize);
+	    QPointF arrowP2 = 
+	      line.p1() + QPointF(sin(angle + PI - PI / 3) * arrowSize,
+				  cos(angle + PI - PI / 3) * arrowSize);
+	    QPolygonF arrowHead;
+	    arrowHead << line.p1() << arrowP1 << arrowP2;
+	    p->drawPolygon(arrowHead);
+	    
+	    
+	  }
+	QgsDebugMsgLevel("pa" + QString::number(pa.point(i).x()), 2);
+	QgsDebugMsgLevel("pa" + QString::number(pa.point(i).y()), 2);
+      }
+  }
   //restore the pen
   p->setPen(pen);
+  p->setBrush(brush);
   
   return ptr;
 }
@@ -3035,7 +3075,7 @@
                        p,
                        theMapToPixelTransform,
                        ct,
-                       drawingToEditingCanvas);
+                       drawingToEditingCanvas, TRUE);
         break;
       }
     case QGis::WKBMultiLineString:
Index: src/core/qgsvectorlayer.h
===================================================================
--- src/core/qgsvectorlayer.h	(revision 8098)
+++ src/core/qgsvectorlayer.h	(working copy)
@@ -459,7 +459,8 @@
                                 QPainter* p,
                                 QgsMapToPixel* mtp,
                                 QgsCoordinateTransform* ct,
-                                bool drawingToEditingCanvas);
+                                bool drawingToEditingCanvas,
+				bool drawArrows=FALSE);
 
   /** Draw the polygon as given in the WKB format. Returns a pointer to
    *  the byte after the end of the polygon binary data stream (WKB).
From tutey at o2.pl  Sat Feb  2 03:37:07 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <d368056f0802011627s4eaad6cuc81cb401fc1c5ecb@mail.gmail.com>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>	
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>	
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>	
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>	
	<D593DAF5-5AFD-4A48-A5C7-6D14EB2DC5C2@mrcc.com>
	<47A3AC6A.70506@o2.pl>
	<d368056f0802011627s4eaad6cuc81cb401fc1c5ecb@mail.gmail.com>
Message-ID: <47A42BB3.6040508@o2.pl>

Tim Sutton pisze:
> The postres ui stuff is part of app which is not part of the python
> bindings.

Is there a list of QGIS functionality accessible/not accessible from 
Python? So I don't expect impossible again.

> It would make more sense to me if we turned the postgres db
> selector ui into a widget and stuck it into libqgis_gui that could
> then be used by python apps...

That'd be great.

>..no time to do that at the moment myself though...

Maciek

From apasotti at gmail.com  Sat Feb  2 03:47:20 2008
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A39A45.9090907@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>
Message-ID: <e579e76c0802020047o77d6d4a7mdb8f3878039e35a1@mail.gmail.com>

2008/2/1, Maciej Sieczka <tutey@o2.pl>:
> Barry Rowlingson pisze:
> Thanks Barry. You are a patient man, really. I certainly underestimated
> how much work this would take. Seems I'll give in, at least for now.


Did you take a look to my code?

The callbacks are already in place, to complete the plugin you just
have to add the final sql (fix the additional fields configuration and
do some more testing....

Planned features were:
* srid selection from a select box
* geometry column name input box (the_geom is the default)
* additional fields configuration (the tricky part, this is where I
got stuck and I rushed to buy QT book)
* layer type (point, poly etc.)

Take a look to the GUI:
http://www.itopen.it/wp-content/uploads/new_postgis_layer.png

Cheers
-- 
Alessandro Pasotti
w3:   www.itopen.it

From otto.dassau at gmx.de  Sat Feb  2 04:51:04 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] too big attachments for the qgis lists
Message-ID: <20080202105104.4d77d9f6@nature>

Hi,

within the last days several messages with big attachments didn't make it on the
qgis lists. Please check again, put your attachments somewhere else and only
use a link in your emails. 

The current limits are:
qgis-user: 	100 KB
qgis-developer	80 KB

Regards,
 Otto



From wonder.sk at gmail.com  Sat Feb  2 06:02:28 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A42BB3.6040508@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>
	<D593DAF5-5AFD-4A48-A5C7-6D14EB2DC5C2@mrcc.com> <47A3AC6A.70506@o2.pl>
	<d368056f0802011627s4eaad6cuc81cb401fc1c5ecb@mail.gmail.com>
	<47A42BB3.6040508@o2.pl>
Message-ID: <e8e7199c0802020302o35745dbu68c3fe181e365f0f@mail.gmail.com>

On Feb 2, 2008 9:37 AM, Maciej Sieczka <tutey@o2.pl> wrote:
> Tim Sutton pisze:
> > The postres ui stuff is part of app which is not part of the python
> > bindings.
>
> Is there a list of QGIS functionality accessible/not accessible from
> Python? So I don't expect impossible again.

All available classes are under src/core and src/gui directories. Here
you can see a list of them and a brief description (though might be a
bit outdated):
http://wiki.qgis.org/qgiswiki/Splitting_Into_Libraries

Martin

From rdmailings at duif.net  Sat Feb  2 08:08:19 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] std output in windows?
Message-ID: <47A46B43.5030402@duif.net>

Hi list,
starting qgis from the commandline in windows XP closes the command, 
without further showing any (qgis) output tot standard output.
Starting it on linux, you can do python printouts and see them in your 
commandbox. This is very usefull developing python plugins.
Question: is there a special windows option available to see this 
(debug) output also?
Or is it possible to pack qgis in a way it's possible to see this using 
some startup option (or maybe it's already available?)?

TIA
Richard Duivenvoorde

From tim at linfiniti.com  Sat Feb  2 09:05:49 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:22 2008
Subject: [Qgis-developer] std output in windows?
In-Reply-To: <47A46B43.5030402@duif.net>
References: <47A46B43.5030402@duif.net>
Message-ID: <d368056f0802020605k581930adg9682bc4bec9b1f53@mail.gmail.com>

Hi

The windows binary needs to be compiled n debug mode to see the std::out...

Regards

Tim

2008/2/2, Richard Duivenvoorde <rdmailings@duif.net>:
> Hi list,
> starting qgis from the commandline in windows XP closes the command,
> without further showing any (qgis) output tot standard output.
> Starting it on linux, you can do python printouts and see them in your
> commandbox. This is very usefull developing python plugins.
> Question: is there a special windows option available to see this
> (debug) output also?
> Or is it possible to pack qgis in a way it's possible to see this using
> some startup option (or maybe it's already available?)?
>
> TIA
> Richard Duivenvoorde
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tutey at o2.pl  Sat Feb  2 12:41:52 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <D593DAF5-5AFD-4A48-A5C7-6D14EB2DC5C2@mrcc.com>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>
	<D593DAF5-5AFD-4A48-A5C7-6D14EB2DC5C2@mrcc.com>
Message-ID: <47A4AB60.1020908@o2.pl>

Gary Sherman pisze:
> On Feb 1, 2008, at 1:16 PM, Maciej Sieczka wrote:
> 
>>
>> Thanks Barry. You are a patient man, really. I certainly underestimated
>> how much work this would take. Seems I'll give in, at least for now.

> I think you could approach this project differently. For one, you can use
> the connections stored in the user preferences and offer them up in your
> own dialog.

Done that. Python plugin installer was a good example. Now I have to 
learn how to extract connection parameters for psycopg.

Question: would there be a benefit in using psycopg2 instead of psycopg? 
There are both in the Kubuntu Gutsy repo.

Maciek

From sherman at mrcc.com  Sat Feb  2 13:28:03 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A4AB60.1020908@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>
	<D593DAF5-5AFD-4A48-A5C7-6D14EB2DC5C2@mrcc.com>
	<47A4AB60.1020908@o2.pl>
Message-ID: <9C697D1A-E3AF-4BEE-AA42-9F9966A062C3@mrcc.com>

On Feb 2, 2008, at 8:41 AM, Maciej Sieczka wrote:

> Gary Sherman pisze:
>> On Feb 1, 2008, at 1:16 PM, Maciej Sieczka wrote:
>>>
>>> Thanks Barry. You are a patient man, really. I certainly  
>>> underestimated
>>> how much work this would take. Seems I'll give in, at least for now.
>
>> I think you could approach this project differently. For one, you  
>> can use
>> the connections stored in the user preferences and offer them up in  
>> your
>> own dialog.
>
> Done that. Python plugin installer was a good example. Now I have to  
> learn how to extract connection parameters for psycopg.
>
> Question: would there be a benefit in using psycopg2 instead of  
> psycopg? There are both in the Kubuntu Gutsy repo.
>
Sure---I only used psycopg for my sample plugin because it was what  
was on the LiveCD for my workshop at FOSS4G2007.
To get connection parameters use QSettings. ZoomToPoint uses it to  
store some info so you could use it as an example.

-gary


-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-


From tutey at o2.pl  Sat Feb  2 17:26:30 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <e579e76c0802020047o77d6d4a7mdb8f3878039e35a1@mail.gmail.com>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>	
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>	
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>	
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>
	<e579e76c0802020047o77d6d4a7mdb8f3878039e35a1@mail.gmail.com>
Message-ID: <47A4EE16.1030807@o2.pl>

Alessandro Pasotti pisze:

> Did you take a look to my code?

Yes. It helps. Thanks a lot!

We have slightly different approaches I see. You don't seem to be 
allowing for schemas other than default "public". Thus your GUI does not 
have a way to select a schema. I think it is important to not to assume 
everyone uses public schema always. Thus I think trying to follow the 
"add postgis layers" QGIS GUI, which supports different schemas, is a 
more robust approach.

I have progressed a bit. Code attached. I've got the Postgres 
connections selector working, know how to connect actions to buttons, 
parse connection parameters and pass them to psycopg.

My current problem is how to get the TreeView, which provides schemas 
and tables list, to work from python. It's the 'self.mTablesTreeView' 
bit from ui_plugingui.py. C++ implementation is in 
src/app/qgsdbsourceselect.cpp.

The aim is to fetch schemas and tables list according to psycopg command 
and populate the plugin's window with them, letting the user to select 
schemas and tables for further actions. If you or anybody could help me 
with this it'd be great.

Maciek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis_postgis_gui_v3.tar.bz2
Type: application/x-bzip
Size: 6854 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080202/b907a571/qgis_postgis_gui_v3.tar.bin
From apasotti at gmail.com  Sat Feb  2 17:49:11 2008
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A4EE16.1030807@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>
	<e579e76c0802020047o77d6d4a7mdb8f3878039e35a1@mail.gmail.com>
	<47A4EE16.1030807@o2.pl>
Message-ID: <e579e76c0802021449u6813f27codee20544ed636e81@mail.gmail.com>

2008/2/2, Maciej Sieczka <tutey@o2.pl>:
> Alessandro Pasotti pisze:
>
> > Did you take a look to my code?
>
> Yes. It helps. Thanks a lot!
>
> We have slightly different approaches I see. You don't seem to be
> allowing for schemas other than default "public". Thus your GUI does not
> have a way to select a schema. I think it is important to not to assume
> everyone uses public schema always. Thus I think trying to follow the
> "add postgis layers" QGIS GUI, which supports different schemas, is a
> more robust approach.
>

Yes, you're absolutely right, much better approach.

> The aim is to fetch schemas and tables list according to psycopg command
> and populate the plugin's window with them, letting the user to select
> schemas and tables for further actions. If you or anybody could help me
> with this it'd be great.
>
> Maciek
>
>

I'm sorry, but I must first study some more python and QT before
working again on QGIS plugins. I hope that in a couple of weeks I will
be back and ready.

In the meantime, I will read this list and give help if I can.

Goof luck!

-- 
Alessandro Pasotti
w3:   www.itopen.it

From rdmailings at duif.net  Sun Feb  3 06:01:53 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] std output in windows?
In-Reply-To: <d368056f0802020605k581930adg9682bc4bec9b1f53@mail.gmail.com>
References: <47A46B43.5030402@duif.net>
	<d368056f0802020605k581930adg9682bc4bec9b1f53@mail.gmail.com>
Message-ID: <47A59F21.6060804@duif.net>


Hi Tim,
how much trouble is it to add these kind of builds on the download page 
(or some 'other/old builds' page, not troubling normal users...)?
I think I will use the debug build then...
TIA
Richard Duivenvoorde

Tim Sutton wrote:
> Hi
> 
> The windows binary needs to be compiled n debug mode to see the std::out...
> 
> Regards
> 
> Tim
> 
> 2008/2/2, Richard Duivenvoorde <rdmailings@duif.net>:
>> Hi list,
>> starting qgis from the commandline in windows XP closes the command,
>> without further showing any (qgis) output tot standard output.
>> Starting it on linux, you can do python printouts and see them in your
>> commandbox. This is very usefull developing python plugins.
>> Question: is there a special windows option available to see this
>> (debug) output also?
>> Or is it possible to pack qgis in a way it's possible to see this using
>> some startup option (or maybe it's already available?)?
>>
>> TIA
>> Richard Duivenvoorde
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.qgis.org
>> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>>
> 
> 


From marco.hugentobler at karto.baug.ethz.ch  Sun Feb  3 08:14:40 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] arrows on line strings?
In-Reply-To: <d368056f0802011031l50ad4ed9s7da203097f9f212e@mail.gmail.com>
References: <47A1FC01.1020400@media.mit.edu> <47A352A8.10105@media.mit.edu>
	<d368056f0802011031l50ad4ed9s7da203097f9f212e@mail.gmail.com>
Message-ID: <200802031414.40285.marco.hugentobler@karto.baug.ethz.ch>

Hi Stefanie and Tim,

+1 for adding the patch to svn.
A comment on detail level: you could use M_PI from the standard library 
(#include <cmath>) instead of defining your own PI.

Regards,
Marco

Am Freitag 01 Februar 2008 19:31:57 schrieb Tim Sutton:
> Hi Stefanie
>
> I tried to apply your patch:
>
> [qgis] svn update -r 8092
> Na revis?o 8092.
> [qgis] patch -p0 < ~/tmp/line_arrows.diff
> patching file src/core/qgsvectorlayer.cpp
> Hunk #1 FAILED at 425.
> Hunk #2 FAILED at 434.
> Hunk #3 FAILED at 452.
> 3 out of 3 hunks FAILED -- saving rejects to file
> src/core/qgsvectorlayer.cpp.rej
>
>
> I didnt have time to manually resolve the rejected but perhaps
> regenerating it off trunk might help. I can add a simple checkbox
> option to the vector props dialog and do the associated xml
> (de)serialisation. This would probably only happen in a month or so
> since we are in feature freeze for getting 0.9.2 final out (so I would
> target it for 0.9.3). I would suggest to go with your approach for now
> since we are trying to get 1.0 out and implementing the renderers
> approach described by Magnus will only happen post 1.0. On the other
> hand I have often been asked about the ability to show direction on
> lines so adding your basic implementation for now seems like a good
> way to go for 1.0 relase. If anyone vigorously disagrees let me know,
> otherwise I'll incorporate your patch in 0.9.3 with some additions
> from myself to enabled or disable line arrows via the layer props
> dialog, the vector api and the layer properties serialisation
> mechanism.
>
> Best regards
>
> Tim
>
> 2008/2/1, Stefanie Tellex <stefie10@media.mit.edu>:
> > Hi,
> >
> > The attached patch against R8092 draws arrows on all linestrings
> > everywhere, no matter what, using code swiped from this GPL v2.0
> > licensed file:
> > http://doc.trolltech.com/4.3/graphicsview-diagramscene-arrow-cpp.html
> >
> > What's the best way to control arrow drawing so it only shows up on
> > particular layers? Seems like it should be written to the xml file also,
> > in which case it might be better to just wait until better rendering
> > happens, and live with patching QGIS myself until then...?
> >
> > There's also a bug on multi-line-strings where an arrow line gets drawn
> > to some random coordinate in the upper left hand corner which I'm not
> > motivated to fix since I only need arrows on line-strings...
> >
> > Stefanie
> >
> > Martin Dobias wrote:
> > > On Jan 31, 2008 5:49 PM, Stefanie Tellex <stefie10@media.mit.edu> wrote:
> > >> Hi,
> > >>
> > >> I would like to draw arrows on line strings, since they represent
> > >> movement vectors and I want to show the direction of movement.  I
> > >> couldn't find any way to do that in the gui or any obvious way in the
> > >> programmatic API.  What's the best way to add this feature or is it
> > >> there already somewhere?
> > >
> > > Currently QGIS renderers work in a way that they just set some
> > > properties for painting and let the vector layer to draw the polyline,
> > > so it's not possible to create a renderer which would e.g. render
> > > arrows in the direction of the flow. We should allow renderers to do
> > > arbitrary drawing in future.
> > >
> > > Now it will be more complicated to acquire this effect: you can
> > > generate some points (e.g. in the middle of every line segment) and
> > > determine the angle of direction. Such generated vector layer with
> > > points you can load to map canvas and for rendering set a SVG symbol
> > > with an arrow and set rotation field appropriately to the field you've
> > > generated.
> > >
> > > Martin
> >
> > Index: src/core/qgsvectorlayer.cpp
> > ===================================================================
> > --- src/core/qgsvectorlayer.cpp (revision 8092)
> > +++ src/core/qgsvectorlayer.cpp (working copy)
> > @@ -425,6 +425,7 @@
> >    // 255 = opaque
> >    //
> >    QPen myTransparentPen = p->pen(); // store current pen
> > +  QBrush brush = p->brush(); //to be kept as original
> >    QColor myColor = myTransparentPen.color();
> >    //only set transparency from layer level if renderer does not provide
> >    //transparency on class level
> > @@ -433,7 +434,9 @@
> >        myColor.setAlpha(mTransparencyLevel);
> >      }
> >    myTransparentPen.setColor(myColor);
> > +
> >    p->setPen(myTransparentPen);
> > +
> >    p->drawPolyline(pa);
> >
> >    // draw vertex markers if in editing mode, but only to the main canvas
> > @@ -449,9 +452,43 @@
> >           drawVertexMarker((int)(*xIt), (int)(*yIt), *p);
> >         }
> >      }
> > +  // draw arrows
> > +#define PI 3.14159
> > +  p->setBrush(QBrush(myColor, Qt::SolidPattern));
> > +
> > +  for (int i = 0; i < pa.size(); ++i)
> > +    {
> > +      if (i > 0)
> > +       {
> > +         QPointF p1 = pa[i];
> > +         QPointF p2 = pa[i-1];
> >
> > +         QLineF line = QLineF(p1, p2);
> > +         double angle = ::acos(line.dx() / line.length());
> > +         if (line.dy() >= 0)
> > +           {
> > +           angle = (PI * 2) - angle;
> > +           }
> > +
> > +         float arrowSize = 10;
> > +         QPointF arrowP1 =
> > +           line.p1() + QPointF(sin(angle + PI / 3) * arrowSize,
> > +                               cos(angle + PI / 3) * arrowSize);
> > +         QPointF arrowP2 =
> > +           line.p1() + QPointF(sin(angle + PI - PI / 3) * arrowSize,
> > +                               cos(angle + PI - PI / 3) * arrowSize);
> > +         QPolygonF arrowHead;
> > +         arrowHead << line.p1() << arrowP1 << arrowP2;
> > +         p->drawPolygon(arrowHead);
> > +
> > +
> > +       }
> > +      QgsDebugMsgLevel("pa" + QString::number(pa.point(i).x()), 2);
> > +      QgsDebugMsgLevel("pa" + QString::number(pa.point(i).y()), 2);
> > +    }
> >    //restore the pen
> >    p->setPen(pen);
> > +  p->setBrush(brush);
> >
> >    return ptr;
> >  }
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee

From wonder.sk at gmail.com  Sun Feb  3 08:44:19 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] arrows on line strings?
In-Reply-To: <d368056f0802011031l50ad4ed9s7da203097f9f212e@mail.gmail.com>
References: <47A1FC01.1020400@media.mit.edu>
	<e8e7199c0801311530v3f074149y4c1866b353d82fe0@mail.gmail.com>
	<47A352A8.10105@media.mit.edu>
	<d368056f0802011031l50ad4ed9s7da203097f9f212e@mail.gmail.com>
Message-ID: <e8e7199c0802030544g2f32d403ud0f1b4cfbfbf0783@mail.gmail.com>

On Feb 1, 2008 7:31 PM, Tim Sutton <tim@linfiniti.com> wrote:
> way to go for 1.0 relase. If anyone vigorously disagrees let me know,
> otherwise I'll incorporate your patch in 0.9.3 with some additions
> from myself to enabled or disable line arrows via the layer props
> dialog, the vector api and the layer properties serialisation
> mechanism.

-0 for me (I don't like it but won't get in the way).

The reason is that changes like this miss some concept and is just a
hack to make something work. Change like this should be done in two
steps: 1. improve renderers interface to support some additional
drawing 2. add the feature.

Some more observations:
- magic numbers in code like arrowSize=10 are not good
- when dividing add test whether line.length() is not 0, this can happen

IMO we should have some plan how to add new features. Adding them
ad-hoc is not good even if they are useful additions if the
implementation is not in the direction we'd like to go.

Martin

From marco.pasetti at alice.it  Mon Feb  4 04:42:12 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] cmake setup problems (windows)
Message-ID: <FBCMMO02xpAOAkK5LqN0000193a@FBCMMO02.fbc.local>

Hi,
 
I still have problems building qgis on windows; it's more than a week now, without any solutions! cmakesetup seems to find all dependencies:
 
C:\msys\local\src\qgis-0.9.1\build>cmake .
-- Found Proj: c:/msys/local/lib/libproj.dll
-- Found Sqlite3: c:/msys/local/lib/sqlite3.dll
-- Found GEOS: c:/msys/local/lib/libgeos.dll.a
-- Found GDAL: c:/msys/local/lib/libgdal.dll
-- Found PostgreSQL: c:/msys/local/bin/libpq.dll
-- Found Expat: c:/msys/local/lib/libexpat.dll.a
-- Using GSL from
-- Found GRASS: c:/msys/local/grass-6.3.0RC4 (6.3.0RC4)
-- Python libraries found
-- Python bindings enabled
-- Found Qt-Version 4.3.3
-- Configuring done
-- Generating done
-- Build files have been written to: C:/msys/local/src/qgis-0.9.1/build
 
but when i make and install, and then try to launch qgis, it reports the following error:
 
procedure entry point X509_STORE_set_flags could not be located in the dynamic link library libeay32.dll
 
I tryed to check qgis.exe with dependencies walker, and it reports some errors, but I don't know why.
With cmakesetup I have the following blank entries:
 
CMAKE_EXE_LINKER_FLAGS_*
CMAKE_MODULE_LINKER_FLAGS_*
CMAKE_SHARED_LINKER_FLAGS_*
 
EXECUTABLE_OUTPUT_PATH
LIBRARY_OUPUT_PATH
 
and it doesn't find QT_QTNSPLUGIN
 
all the rest seems to be OK.
 
Thank you for your support,
 
Marco
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080204/b8cc99ea/attachment.html
From cavallini at faunalia.it  Mon Feb  4 10:34:51 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] OSM
Message-ID: <47A7309B.4020102@faunalia.it>

Hi all.
OpenStreetMap[1] has now reached a reasonable mass, and extremely
interesting results.
It would be good to have a plugin dowloading their data (useful eg as a
background), and even better if it could also upload tracks and points.
It should not be too difficult, as the API [2] and the xml [3] are well
documented, and already in use by a number of clients.
I believe this would make both OSM and QGIS more usable and powerful.
All the best.
pc

[1] http://www.openstreetmap.org/
[2] http://wiki.openstreetmap.org/index.php/Protocol
[3]
http://wiki.openstreetmap.org/index.php/OSM_Protocol_Version_0.5#Returned_XML_data
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc

From tisham at apogee.com.au  Mon Feb  4 22:29:08 2008
From: tisham at apogee.com.au (tisham@apogee.com.au)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] 0.9.2rc1 Windows Installer
Message-ID: <20080205132908.q8oyft66g4g8g0co@webmail.apogee.com.au>

Hi All,

I have managed to make an installer through my head-cold haze. I hope  
it works for you. Nice updates on icons ... The dependencies used here  
are same as in the last release build.
http://whatnick.dyndns.org:8080/tisham/qgis_setup0.9.2rc1_05_02_2008.exe

Slightly older gdal
grass6.3.0rc3
Qt 4.3.1

I did not have the energy to update dependencies. Please let me know  
if there is anything critical. Thank you for your patience.

Regards,

Tisham.

----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.




From marco.pasetti at alice.it  Tue Feb  5 04:40:34 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] Building GRASS/QGIS with MSYS
Message-ID: <FBCMMO02ohIi6YEFmsQ00003dad@FBCMMO02.fbc.local>

Hi Tisham,
 
>There are some issues with GDAL support on MINGW so the little 'sed' line hacks the libtool to work properly.
>Please let me know if you need help with any particular steps.
>Regards,
>Tishampati Dhar
 
I built all following the wiki, using Paul Kelly's prebuilt extralibs and your suggestions about gdal, grass-6.3.0RC4 and qgis 0.9.1, but I have linking problems (procedure entry point X509_STORE_set_flags could not be located in the dynamic link library libeay32.dll), so I decided to restart to build all. Probably I found some "things to change" in the wiki, but I don't want to overbalance since I check everithing is working...
 
Now the question: is with-libtool necessary for gdal? because there are some things not clear to me about this passage.. after building gdal level one, it says:
 
./configure --with-ngpython --with-xerces=/local/ --with-jasper=/local/ --with-grass=/local/grass-6.3.cvs/ --with-pg=/local/pgsql/bin/pg_config.exe
 
1) neither python nor grass and postgresql are install at this step of the guide; how could that be? do I really need this "line" and the following "sed"?
2) the same problem comes at the end of gdal level two... same questions ;-)
 
after that... I configured grass as follow:
 
export PATH="/usr/local/bin:/usr/local/lib:$PATH"
./configure --prefix=/usr/local --bindir=/usr/local \
--with-includes=/usr/local/include --with-libs=/usr/local/lib \
--with-cxx --without-jpeg --without-tiff \
--with-postgres --with-postgres-includes=/usr/local/pgsql/include --with-postgres-libs=/usr/local/pgsql/lib \
--with-opengl=windows --with-fftw \
--with-freetype --with-freetype-includes=/usr/local/include/freetype2 \
--without-x \
--with-tcltk --with-tcltk-includes=/c/programmi/tcl/include --with-tcltk-libs=/c/programmi/tcl/bin \
--enable-x11=no --enable-shared=yes --with-proj-share=/usr/local/share/proj \
--with-sqlite --with-sqlite-includes=/usr/local/include --with-sqlite-libs=/usr/local/lib
 
with this result:
 
GRASS is now configured for:  i686-pc-mingw32
 Source directory:            /usr/local/src/grass-6.3.0RC4
 Build directory:             /usr/local/src/grass-6.3.0RC4
 Installation directory:      ${prefix}/grass-6.3.0RC4
 Startup script in directory: /usr/local
 C compiler:                  gcc -g -O2 
 C++ compiler:                c++ -g -O2
 Building shared libraries:   yes
 64bit support:               no
 OpenGL platform:             Windows
  NVIZ:                       yes
  BLAS support:               no
  C++ support:                yes
  DWG support:                no
  FFMPEG support:             no
  FFTW support:               yes
  FreeType support:           yes
  GDAL support:               yes
  GLw support:                no
  JPEG support:               no
  LAPACK support:             no
  Large File Support (LFS):   yes
  Motif support:              no
  MySQL support:              no
  NLS support:                no
  ODBC support:               no
  OGR support:                yes
  OpenGL support:             yes
  PNG support:                yes
  PostgreSQL support:         yes
  Python support:             no
  Readline support:           no
  SQLite support:             yes
  Tcl/Tk support:             yes
  TIFF support:               no
  X11 support:                no
  MacOSX application:         no

But also with the following warnings:
 
configure: warning: *** Unable to locate iconv() function.
configure: warning: *** Unable to locate socket() function.
configure: warning: *** --with-opengl=windows is untested.

I decided to add Tcl/Tk support to be able to test some new grass modules I added before to be "qgis ready";
 
Thanks for your support,
 
Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080205/fe4a36c8/attachment.html
From piklas at gmail.com  Tue Feb  5 05:52:34 2008
From: piklas at gmail.com (Nicolas B.)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] launch r.stats with python ?!
Message-ID: <180c4dbd0802050252j61cbec18v52c52160a6c5af66@mail.gmail.com>

Hi list
I'm trying to call r.stats grasstools from a python plugin
( doing a r.stats -1gn automatically in fact)
this python code is based on qgsgrassmodule.cpp, wich is used to launch
grasstools in QGIS.
I get the grass environment by opening a mapset manually before running the
python code.
Then i'm using a QProcess and appending the flag and options.
Got NO ERRORS in python console, but the output file isn't created.
May be there's a problem with args in the last line ??
Is there a python developer in the place ?

--------------------------------------------------------------------------------------------------
    arg=['C:\Program Files\Quantum GIS\grass\bin\r.stats.exe'];
    process = QProcess()
    env = process.systemEnvironment()
    env.append("GIS_FLAG_1=1")
    env.append("GIS_FLAG_G=1")
    env.append("GIS_FLAG_N=1")
    env.append("GIS_OPT_INPUT=input=mnt10m")
    env.append("GIS_OPT_OUTPUT=output=C:\testxyz")
    env.append("GIS_OPT_FS=fs=;")
    arg.append("@ARGS_PARSED@")
    process.setEnvironment(env)
    process.start(arg[0],arg)
--------------------------------------------------------------------------------------------------
Any Ideas ?
Thanks 4 any hints

PikOBoZ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080205/4b6a1c36/attachment.html
From marco.pasetti at alice.it  Tue Feb  5 06:22:28 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] R: [GRASS-dev] Re: Building GRASS/QGIS with MSYS
References: <FBCMMO02ohIi6YEFmsQ00003dad@FBCMMO02.fbc.local>
	<47A83CF4.3040802@ufg.uni-kiel.de>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D5025D96EA@FBCMST06V02.fbc.local>

Thanks Benjamin,
 
>It's not. In fact, the GDAL developers recommend turning it off for
>MSYS. As a consequence, you have to re-link the GDAL library files
>after successful compilation in order to get shared Win32 DLLs.
 
Perfect!
 
>I guess the guide assumes some software to be available in your MSYS
>installation already. Do you require postgresql and python support?
 
It's a guide bug, I suppose. The guide tells to install postgresql just at the end of msys environment building (after gdal, grass, and other steps...), but it fails!
To correctly build grass I installed postgresql, sqlite and tcl/tk before compiling it.
But, also, the guide tells:
 
Since Quantum GIS needs GDAL with GRASS support, we need to compile GDAL from source - Paul Kelly's package doesn't include GRASS support in GDAL. The idea is following:
 
1. compile GDAL without GRASS
2. compile GRASS
3. compile GDAL with GRASS
 
In step 1 the guide suggests to configure GDAL as follows:
 
./configure --prefix=/usr/local --enable-shared --without-libtool --disable-static --with-libz=/usr/local --with-png=/usr/local
 
Then it tells:
GDAL build procedure can be greatly simplified to use libtool with a libtool line patch: configure gdal as below:
./configure --with-ngpython --with-xerces=/local/ --with-jasper=/local/ --with-grass=/local/grass-6.3.cvs/ --with-pg=/local/pgsql/bin/pg_config.exe
 
Then fix libtool with: mv libtool libtool.orig cat libtool.orig | sed 's/max_cmd_len=8192/max_cmd_len=32768/g' > libtool 

Libtool on windows assumes a line length limit of 8192 for some reason and tries to page the linking and fails miserably. This is a work around. Make and make install should be hassle free after this.

Probably last "./configure" and "sed" lines are supposed to be done if you set ./configure --with-libtool in the first step?

So the real question is: does GDAL need ngpython, xerces, jasper and postresql? (I know grass is needed, but the guide suggest to build GDAL first without it, and then rebuild it with grass support enabled).

Thanks,

MP

________________________________

Da: grass-dev-bounces@lists.osgeo.org per conto di Benjamin Ducke
Inviato: mar 05/02/2008 11.39
Cc: grass-dev@lists.osgeo.org
Oggetto: Re: [GRASS-dev] Re: Building GRASS/QGIS with MSYS



> 
> Now the question: is with-libtool necessary for gdal? because there are

It's not. In fact, the GDAL developers recommend turning it off for
MSYS. As a consequence, you have to re-link the GDAL library files
after successful compilation in order to get shared Win32 DLLs.

> some things not clear to me about this passage.. after building gdal
> level one, it says:
> 
> ./configure --with-ngpython --with-xerces=/local/ --with-jasper=/local/
> --with-grass=/local/grass-6.3.cvs/ --with-pg=/local/pgsql/bin/pg_config.exe
> 
> 1) neither python nor grass and postgresql are install at this step of
> the guide; how could that be? do I really need this "line" and the
> following "sed"?

I guess the guide assumes some software to be available in your MSYS
installation already. Do you require postgresql and python support?

> But also with the following warnings:
> 
> configure: warning: *** Unable to locate iconv() function.
> configure: warning: *** Unable to locate socket() function.
> configure: warning: *** --with-opengl=windows is untested.
> I decided to add Tcl/Tk support to be able to test some new grass
> modules I added before to be "qgis ready";

Those are harmless as long as you don't need internationalized messages
in GRASS.

Benjamin
--
Benjamin Ducke, M.A.
Arch?oinformatik
(Archaeoinformation Science)
Institut f?r Ur- und Fr?hgeschichte
(Inst. of Prehistoric and Historic Archaeology)
Christian-Albrechts-Universit?t zu Kiel
Johanna-Mestorf-Stra?e 2-6
D 24098 Kiel
Germany

Tel.: ++49 (0)431 880-3378 / -3379
Fax : ++49 (0)431 880-7300
www.uni-kiel.de/ufg

_______________________________________________
grass-dev mailing list
grass-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/grass-dev


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080205/60cfd72f/attachment.html
From wonder.sk at gmail.com  Tue Feb  5 12:36:32 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] cmake setup problems (windows)
In-Reply-To: <FBCMMO02xpAOAkK5LqN0000193a@FBCMMO02.fbc.local>
References: <FBCMMO02xpAOAkK5LqN0000193a@FBCMMO02.fbc.local>
Message-ID: <e8e7199c0802050936s27189826g13e091e0e25e9ae5@mail.gmail.com>

On Feb 4, 2008 10:42 AM, <marco.pasetti@alice.it> wrote:
>
>
> Hi,
>
> I still have problems building qgis on windows; it's more than a week now, without any solutions! cmakesetup seems to find all dependencies:
>
> C:\msys\local\src\qgis-0.9.1\build>cmake .
> -- Found Proj: c:/msys/local/lib/libproj.dll
> -- Found Sqlite3: c:/msys/local/lib/sqlite3.dll
> -- Found GEOS: c:/msys/local/lib/libgeos.dll.a
> -- Found GDAL: c:/msys/local/lib/libgdal.dll
> -- Found PostgreSQL: c:/msys/local/bin/libpq.dll
> -- Found Expat: c:/msys/local/lib/libexpat.dll.a
> -- Using GSL from
> -- Found GRASS: c:/msys/local/grass-6.3.0RC4 (6.3.0RC4)
> -- Python libraries found
> -- Python bindings enabled
> -- Found Qt-Version 4.3.3
> -- Configuring done
> -- Generating done
> -- Build files have been written to: C:/msys/local/src/qgis-0.9.1/build
>
> but when i make and install, and then try to launch qgis, it reports the following error:
>
> procedure entry point X509_STORE_set_flags could not be located in the dynamic link library libeay32.dll

So in that case there's nothing wrong with the build and installation,
you must have some error with libeay32.dll.
I've never seen such problem, so I can't help. I would suggest to
search on net some other version or something similar.

> I tryed to check qgis.exe with dependencies walker, and it reports some errors, but I don't know why.

What does "some errors" mean?

> With cmakesetup I have the following blank entries:
>
> CMAKE_EXE_LINKER_FLAGS_*
> CMAKE_MODULE_LINKER_FLAGS_*
> CMAKE_SHARED_LINKER_FLAGS_*
>
> EXECUTABLE_OUTPUT_PATH
> LIBRARY_OUPUT_PATH

You don't have to care about these variables. Basically, you should
avoid modifying any variable in CMake marked as advanced if you don't
know what you're doing (otherwise you risk that you can get some
strange problems).

Martin

From wonder.sk at gmail.com  Tue Feb  5 13:43:52 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] Couldn't load QGIS bindings.
In-Reply-To: <e579e76c0801312343i3db23870q54165add61ecc9d9@mail.gmail.com>
References: <e579e76c0801310841u69db5d34u389f110ba24d2e33@mail.gmail.com>
	<e8e7199c0801311517t364c91f7id4217c508e98535e@mail.gmail.com>
	<e579e76c0801312343i3db23870q54165add61ecc9d9@mail.gmail.com>
Message-ID: <e8e7199c0802051043n688124b4te576a31b4fa254d8@mail.gmail.com>

On Feb 1, 2008 8:43 AM, Alessandro Pasotti <apasotti@gmail.com> wrote:
> >
> > Well, for me it works :)
> > Can you give some more details? like what installation path you use
> > for QGIS, what version of python (haven't you installed a newer
> > version recently?) etc.
>
> No, I'm pretty sure python is the same, paths are the same etc. I just
> did a new build after updating the svn.
>
> ale@toshiba-u300:~/public_html/parconord$ python
> Python 2.5.1 (r251:54863, Oct  5 2007, 13:50:07)
> [GCC 4.1.3 20070929 (prerelease) (Ubuntu 4.1.2-16ubuntu2)] on linux2
>
>
> Here is the output of cmake..
>
> ale@toshiba-u300:~/dev/cpp/qgis/build$ cmake ..
> -- Found Proj: /usr/lib/libproj.so
> -- Found Sqlite3: /usr/lib/libsqlite3.so
> -- Found GEOS: /usr/local/lib/libgeos.so
> -- Found GDAL: /usr/lib/libgdal1.4.0.so
> -- Found PostgreSQL: /usr/lib/libpq.so
> -- Found Expat: /usr/lib/libexpat.so
> -- Using GSL from /usr
> -- Found GRASS: /usr/lib/grass (6.2.2)
> -- Python libraries found
> -- Python bindings enabled
> -- Found Qt-Version 4.3.2
> -- Configuring done
> -- Generating done
> -- Build files have been written to: /home/ale/dev/cpp/qgis/build
>
>
> The path is /usr/local/
> ale@toshiba-u300:~/dev/cpp/qgis/build$ which qgis
> /usr/local/bin/qgis

Hmmmm.... this all looks fine. I wonder what might be the problem...
- when starting the Python interpreter, do you also set PYTHONPATH
environment variable?
- haven't you ever installed QGIS with variable
BINDINGS_GLOBAL_INSTALL (if so, there could be an old python module)
- can you paste here listing of following directories?
  - ~/.qgis/python/plugins
  - /usr/local/qgis/share/python
  - /usr/local/qgis/share/python/plugins

Let's see whether I'll be a bit wiser from this information :)

Martin

From tim at linfiniti.com  Tue Feb  5 14:14:46 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] 0.9.2rc1 Windows Installer
In-Reply-To: <20080205132908.q8oyft66g4g8g0co@webmail.apogee.com.au>
References: <20080205132908.q8oyft66g4g8g0co@webmail.apogee.com.au>
Message-ID: <d368056f0802051114g229b02f8h148487540f3244b6@mail.gmail.com>

Hi

Great stuff Tisham! Hope that cold disappears soon :-(

Regards

Tim

2008/2/5, tisham@apogee.com.au <tisham@apogee.com.au>:
> Hi All,
>
> I have managed to make an installer through my head-cold haze. I hope
> it works for you. Nice updates on icons ... The dependencies used here
> are same as in the last release build.
> http://whatnick.dyndns.org:8080/tisham/qgis_setup0.9.2rc1_05_02_2008.exe
>
> Slightly older gdal
> grass6.3.0rc3
> Qt 4.3.1
>
> I did not have the energy to update dependencies. Please let me know
> if there is anything critical. Thank you for your patience.
>
> Regards,
>
> Tisham.
>
> ----------------------------------------------------------------
> This message was sent using IMP, the Internet Messaging Program.
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Tue Feb  5 14:17:34 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] std output in windows?
In-Reply-To: <47A59F21.6060804@duif.net>
References: <47A46B43.5030402@duif.net>
	<d368056f0802020605k581930adg9682bc4bec9b1f53@mail.gmail.com>
	<47A59F21.6060804@duif.net>
Message-ID: <d368056f0802051117t1c3e8fe4m4510f5bd325e16a0@mail.gmail.com>

Hi Richard

Tisham is our windows build guy so lets see if he is willing to make a
debug build too. In the longer term we could also look at adding an
advanced option to display a log tab in qgis itself and redirect
QgisDebugMsg outputs to there. Please add a change request to trac if
the latter idea strikes you as worthwhile.

Regards

Tim

2008/2/3, Richard Duivenvoorde <rdmailings@duif.net>:
>
> Hi Tim,
> how much trouble is it to add these kind of builds on the download page
> (or some 'other/old builds' page, not troubling normal users...)?
> I think I will use the debug build then...
> TIA
> Richard Duivenvoorde
>
> Tim Sutton wrote:
> > Hi
> >
> > The windows binary needs to be compiled n debug mode to see the std::out...
> >
> > Regards
> >
> > Tim
> >
> > 2008/2/2, Richard Duivenvoorde <rdmailings@duif.net>:
> >> Hi list,
> >> starting qgis from the commandline in windows XP closes the command,
> >> without further showing any (qgis) output tot standard output.
> >> Starting it on linux, you can do python printouts and see them in your
> >> commandbox. This is very usefull developing python plugins.
> >> Question: is there a special windows option available to see this
> >> (debug) output also?
> >> Or is it possible to pack qgis in a way it's possible to see this using
> >> some startup option (or maybe it's already available?)?
> >>
> >> TIA
> >> Richard Duivenvoorde
> >> _______________________________________________
> >> Qgis-developer mailing list
> >> Qgis-developer@lists.qgis.org
> >> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> >>
> >
> >
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tutey at o2.pl  Tue Feb  5 14:51:52 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A4EE16.1030807@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>	
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>	
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>	
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>
	<e579e76c0802020047o77d6d4a7mdb8f3878039e35a1@mail.gmail.com>
	<47A4EE16.1030807@o2.pl>
Message-ID: <47A8BE58.5090004@o2.pl>

Hi

I've made the whole thing functional enough to use it I think. I can't 
make the TreeView selector work, but anyway. The outline of current 
functionality of the attached code:

1. Re-use PostgreSQL connections defined from the QGIS "Add PostGIS 
Table(s)" dialog.
2. Support schemas available within the database, skipping PostgreSQL 
reserved ones.
3. Create a new layer. Let setting the layer name, index column name 
(forces "serial" datatype), geometry column name, geometry type (only 
multi-point,-line,-polygon as of now; are their "simple" counterparts 
and GEOMETRYCOLLECTION neccessary, please extend the script) and SRID. 
Create a GiST index on the new layer (hardcoded; modify if neccesary).

I didn't make it on time to let columns be removed/added. Luckily this 
can be done from the "table editor" after one adds the newly created 
PostGIS layer to his project.

I wish to extend the plugin with this functionality. As well as allowing 
for removing tables, managing database connections and letting choose 
coordinate system from the QGIS projection dialog instead of giving a 
plain SRID number.

PROBLEMS:

1. I don't know why actions tied to my GUI buttons are performed twice 
most of the times (always?). There is sane error handling underneath 
(within the script and PostgreSQL itself) so nothing nasty takes place, 
but it's very annoying. Ideas why and how to solve this are welcome.

2. How to catch non-PostgreSQL compliant table and column names in the 
script best? Currently only psycopg catches them at it's own and returns 
the error from Postgres, but is not informative enough sometimes for an 
average user.

Lot's of thanks to Alessandro for sharing his code, which was a great 
support, Barry and Gary for their help and patience.

Maciek

-------------- next part --------------
A non-text attachment was scrubbed...
Name: create_postgis_layer.tar.bz2
Type: application/x-bzip
Size: 9378 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080205/b43c1ffd/create_postgis_layer.tar.bin
From tim at linfiniti.com  Tue Feb  5 15:18:48 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] Help Wanted : Release assistants (no rocket
	science required)
Message-ID: <d368056f0802051218u5bed18c0vdfc01f7b80af340@mail.gmail.com>

Hi all

As you have probably noticed we are embarking on a more aggressive
release schedule in the run up to the 1.0 release of QGIS. Making a
release takes a lot of time so I'm looking for some helpers! you dont
have to know anything about programming. A little knowledge of html
would be useful. I'm in particular looking for people to help
publicising the releases as they come out. In particular:

 - updating the qgis wiki where relevant
 - updating qgis.org where relevant
 - posting a blog entry to qgis.org
 - posting news announcements to key sites
 - regional helpers to post to language specific sites in their own language

If you are able to help in this regard please contact me.

Many thanks

Regards


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From apasotti at gmail.com  Tue Feb  5 15:39:49 2008
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A8BE58.5090004@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>
	<e579e76c0802020047o77d6d4a7mdb8f3878039e35a1@mail.gmail.com>
	<47A4EE16.1030807@o2.pl> <47A8BE58.5090004@o2.pl>
Message-ID: <e579e76c0802051239j78da7f00n63ccae0933e69041@mail.gmail.com>

2008/2/5, Maciej Sieczka <tutey@o2.pl>:
> Hi
>
> I've made the whole thing functional enough to use it I think. I can't
> make the TreeView selector work, but anyway. The outline of current
> functionality of the attached code:
>
>
> I wish to extend the plugin with this functionality. As well as allowing
> for removing tables, managing database connections and letting choose
> coordinate system from the QGIS projection dialog instead of giving a
> plain SRID number.
>

You could also use pieces of my code that creates a combo from a query
on spatial_ref_sys and let the user choose from the list.

> PROBLEMS:
>
> 2. How to catch non-PostgreSQL compliant table and column names in the
> script best? Currently only psycopg catches them at it's own and returns
> the error from Postgres, but is not informative enough sometimes for an
> average user.

Perhaps you could add a on_YOURWIDGET_textChanged() callback and
remove wierd characters from the field? Ugly, but it should work.



-- 
Alessandro Pasotti
w3:   www.itopen.it

From apasotti at gmail.com  Tue Feb  5 15:46:26 2008
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] Couldn't load QGIS bindings.
In-Reply-To: <e8e7199c0802051043n688124b4te576a31b4fa254d8@mail.gmail.com>
References: <e579e76c0801310841u69db5d34u389f110ba24d2e33@mail.gmail.com>
	<e8e7199c0801311517t364c91f7id4217c508e98535e@mail.gmail.com>
	<e579e76c0801312343i3db23870q54165add61ecc9d9@mail.gmail.com>
	<e8e7199c0802051043n688124b4te576a31b4fa254d8@mail.gmail.com>
Message-ID: <e579e76c0802051246n3a75bd65r887751f3e88b461@mail.gmail.com>

2008/2/5, Martin Dobias <wonder.sk@gmail.com>:
> On Feb 1, 2008 8:43 AM, Alessandro Pasotti <apasotti@gmail.com> wrote:
> > >
>
> Hmmmm.... this all looks fine. I wonder what might be the problem...
> - when starting the Python interpreter, do you also set PYTHONPATH
> environment variable?
>
> Let's see whether I'll be a bit wiser from this information :)
>
> Martin
>

Thanks Martin for your help, In the meantime I've found the
pre-compiled 0.9.2 binaries for gutsy 64bit and I chose the easy
apt-get way :)

-- 
Alessandro Pasotti
w3:   www.itopen.it

From wonder.sk at gmail.com  Tue Feb  5 16:10:55 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI in
	Python
In-Reply-To: <47A8BE58.5090004@o2.pl>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>
	<47A1FD3D.90509@lancaster.ac.uk> <47A38413.3020809@o2.pl>
	<47A388E1.6090805@lancaster.ac.uk> <47A38FD0.8070002@o2.pl>
	<47A392E9.5010005@lancaster.ac.uk> <47A39A45.9090907@o2.pl>
	<e579e76c0802020047o77d6d4a7mdb8f3878039e35a1@mail.gmail.com>
	<47A4EE16.1030807@o2.pl> <47A8BE58.5090004@o2.pl>
Message-ID: <e8e7199c0802051310v1ba537dag78e3dedd0b08807@mail.gmail.com>

On Feb 5, 2008 8:51 PM, Maciej Sieczka <tutey@o2.pl> wrote:
> PROBLEMS:
>
> 1. I don't know why actions tied to my GUI buttons are performed twice
> most of the times (always?). There is sane error handling underneath
> (within the script and PostgreSQL itself) so nothing nasty takes place,
> but it's very annoying. Ideas why and how to solve this are welcome.

I've seen this also in my programs that when using autoconnecting of
slots on_*_clicked() then the function is fired twice. Now I don't
remember what's the reason. But you can always avoid it by renaming
the function and connecting it to a signal manually:
self.connect(button, SIGNAL("clicked()"), function)

Martin

From rdmailings at duif.net  Tue Feb  5 17:08:51 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI
	in	Python
In-Reply-To: <e8e7199c0802051310v1ba537dag78e3dedd0b08807@mail.gmail.com>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>	<47A1FD3D.90509@lancaster.ac.uk>
	<47A38413.3020809@o2.pl>	<47A388E1.6090805@lancaster.ac.uk>
	<47A38FD0.8070002@o2.pl>	<47A392E9.5010005@lancaster.ac.uk>
	<47A39A45.9090907@o2.pl>	<e579e76c0802020047o77d6d4a7mdb8f3878039e35a1@mail.gmail.com>	<47A4EE16.1030807@o2.pl>
	<47A8BE58.5090004@o2.pl>
	<e8e7199c0802051310v1ba537dag78e3dedd0b08807@mail.gmail.com>
Message-ID: <47A8DE73.6090105@duif.net>

>> 1. I don't know why actions tied to my GUI buttons are performed twice
>> most of the times (always?). There is sane error handling underneath

> I've seen this also in my programs that when using autoconnecting of
> slots on_*_clicked() then the function is fired twice. Now I don't
> remember what's the reason. But you can always avoid it by renaming
> the function and connecting it to a signal manually:
> self.connect(button, SIGNAL("clicked()"), function)

Hi Martin,
I've seen this too, and found something in the pyqt docs:
http://www.riverbankcomputing.com/Docs/PyQt4/pyqt4ref.html#connecting-signals-and-slots:
... without this  @pyqtSignature magic, the on_btnOk_clicked will be 
called two times, ont time for clicked() and one time for clicked(bool 
checked)

the magic is to add the signature you want to use. An example:

@pyqtSignature("on_btnBrowse_clicked()")
def on_btnBrowse_clicked(self):
     # do something
     fileName = "foo"
     self.txtFileName.setText(fileName)

Hope this is helpfull to somebody.

Regards,
Richard Duivenvoorde




From tutey at o2.pl  Wed Feb  6 04:28:24 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] please help me write a QGIS-PostGIS GUI
	in	Python
In-Reply-To: <47A8DE73.6090105@duif.net>
References: <5184a7d6.7d9b2557.47a1eca8.3ae32@o2.pl>	<47A1FD3D.90509@lancaster.ac.uk>
	<47A38413.3020809@o2.pl>	<47A388E1.6090805@lancaster.ac.uk>
	<47A38FD0.8070002@o2.pl>	<47A392E9.5010005@lancaster.ac.uk>
	<47A39A45.9090907@o2.pl>	<e579e76c0802020047o77d6d4a7mdb8f3878039e35a1@mail.gmail.com>	<47A4EE16.1030807@o2.pl>
	<47A8BE58.5090004@o2.pl>
	<e8e7199c0802051310v1ba537dag78e3dedd0b08807@mail.gmail.com>
	<47A8DE73.6090105@duif.net>
Message-ID: <47A97DB8.1020802@o2.pl>

Richard Duivenvoorde pisze:
>>> 1. I don't know why actions tied to my GUI buttons are performed twice
>>> most of the times (always?). There is sane error handling underneath

>> I've seen this also in my programs that when using autoconnecting of
>> slots on_*_clicked() then the function is fired twice. Now I don't
>> remember what's the reason. But you can always avoid it by renaming
>> the function and connecting it to a signal manually:
>> self.connect(button, SIGNAL("clicked()"), function)

> I've seen this too, and found something in the pyqt docs:
> http://www.riverbankcomputing.com/Docs/PyQt4/pyqt4ref.html#connecting-signals-and-slots: 
> 
> ... without this  @pyqtSignature magic, the on_btnOk_clicked will be 
> called two times, ont time for clicked() and one time for clicked(bool 
> checked)
> 
> the magic is to add the signature you want to use. An example:
> 
> @pyqtSignature("on_btnBrowse_clicked()")
> def on_btnBrowse_clicked(self):
>     # do something
>     fileName = "foo"
>     self.txtFileName.setText(fileName)

It helped! Thank you Richard.

Maciek

From marco.pasetti at alice.it  Wed Feb  6 05:37:41 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] Tcl/Tk GRASS Enabling & QGIS
Message-ID: <FBCMMO02kge0yAEWopc00006484@FBCMMO02.fbc.local>

Goodmorning,
 
Does enabling Tcl/Tk in GRASS could produce erros for GRASS integration in QGIS?
I know that Tcl/Tk GRASS support is not needed for QGIS, but I want to enable it in order to let me test GRASS standalone building and QGIS+GRASS without making two diffrent builds (one for GRASS standalone, with Tcl/Tk, and the other for QGIS+GRASS, without Tcl/Tk).
 
Thanks
 
MP
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080206/7b9d229d/attachment.html
From sherman at mrcc.com  Wed Feb  6 14:57:27 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] Tcl/Tk GRASS Enabling & QGIS
In-Reply-To: <FBCMMO02kge0yAEWopc00006484@FBCMMO02.fbc.local>
References: <FBCMMO02kge0yAEWopc00006484@FBCMMO02.fbc.local>
Message-ID: <C6419B0E-48C1-46F9-ACA0-D07E1B5541E1@mrcc.com>

On Feb 6, 2008, at 1:37 AM, <marco.pasetti@alice.it> <marco.pasetti@alice.it 
 > wrote:

> Goodmorning,
>
> Does enabling Tcl/Tk in GRASS could produce erros for GRASS  
> integration in QGIS?
> I know that Tcl/Tk GRASS support is not needed for QGIS, but I want  
> to enable it in order to let me test GRASS standalone building and  
> QGIS+GRASS without making two diffrent builds (one for GRASS  
> standalone, with Tcl/Tk, and the other for QGIS+GRASS, without Tcl/ 
> Tk).
>
This is no problem. Having Tcl/Tk support in GRASS won't interfere  
with the QGIS-GRASS plugin.
>
> Thanks
>
> MP
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-







From warmerdam at pobox.com  Wed Feb  6 21:01:51 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Feb  6 23:25:23 2008
Subject: [Qgis-developer] QGIS and use of GDAL C++ vs. C API
Message-ID: <47AA668F.8080307@pobox.com>

PeteE, and others,

I had a discussion last night with Tisham, and one thing we realized
is that because QGIS is using the GDAL C++ API and it normally built on
windows with MSYS it is not possible to use the GDAL DLLs built using
Visual Studio.  While MSYS and Visual Studio binaries can be shared at
the C API level, this is not the case at the C++ level due to different
C++ name mangling.

Because of this specific case, and because in general the GDAL C API is
more stable, and more loosely coupled, I believe it is desirable to migrate
QGIS to the C API from the GDAL C++ API.  We have already taken this step
in MapServer, and it is my general advice for applications that don't want
to be overly tightly bound to a specific version of GDAL.

I'm planning to go ahead and do this migration in the raster branch if
there is no objection.  However, it will make it hard to merge partial
changes from the raster branch into trunk for future stable releases if
that is an issue (since there will be little changes all over the place
in the raster code).

Anyways, warning given.  I'll hold off for a day or two before I start
in case there are objections.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From tim at linfiniti.com  Wed Feb  6 23:41:53 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:41:56 2008
Subject: [Qgis-developer] QGIS Admin notice - SVN server migration
Message-ID: <d368056f0802062041mb48f19cy76a266b1e3600fcf@mail.gmail.com>

Dear all

Tonight we have embarked on the first step of the planned migration of
services to OSGEO by migrating SVN, trac and the mailing lists to a
new server (with many thanks to Howard Butler and Frank Warmerdam who
facilitated the process).

This migration will have some impact on everyone using QGIS svn:

1) The 'old' server is still online but is now read only

2) Your existing checkouts will need to be 'switched'. Details on how
to do this will be sent shortly in a follow up email. Existing
checkouts should still work in read only mode.

3) Your trac user account will need to be created. This is now
(thankfully) a self help process - simply go to

https://www.osgeo.org/cgi-bin/ldap_create_user.py

and recreate your account. We suggest using the same login as
previously used so that bug feedback and assignment will continue as
normal.

** Note: ** if you already have an OSGEO user id there is no need to
create a new one.

** Note: ** if you already have an OSGEO user id and it is different
to your SVN committer user id, your write privileges will not work
until you contact with details of your QGIS id and your OSGEO id so we
can reconcile them.


4) Trac is now available at:

http://svn.qgis.org/trac (i.e. the original url should continue to work)
or
https://trac.osgeo.org/qgis

5) The mailing list addresses will change with immediate effect to:

"qgis-developer" <qgis-developer@lists.osgeo.org>,
"qgis-user" <qgis-user@lists.osgeo.org>,
"qgis-doc" <qgis-doc@lists.osgeo.org>.
"qgis-commit" <qgis-commit@lists.osgeo.org>,
"qgis-trac" <qgis-trac@lists.osgeo.org>

6) After some consideration we decided not to keep the mailing list
archives for qgis-commits and qgis-trac since this info is readily
available in SVN and the trac web interface.

Over the coming weeks we will be working to migrate the
http://qgis.org web site and wiki too. No doubt there will be some
small hiccups as we carry out these changes. We will try to keep the
disruptions to a minimum and trust that you will find the updated
service offerings reliable and easier to use.

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From sherman at mrcc.com  Thu Feb  7 00:33:54 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Thu Feb  7 00:34:01 2008
Subject: [Qgis-developer] IMPORTANT: svn relocate information
Message-ID: <12494840-AA29-4875-97CA-D9E10DCDBC53@mrcc.com>

To relocate your working copy to the osgeo-hosted repository:
1. Change to the working directory
2. svn switch --relocate https://svn.qgis.org/repos/qgis https://svn.osgeo.org/qgis

A reminder:
Before you can commit you will need an OSGeo id (see http://www.osgeo.org/osgeo_userid 
  )
You should use the same username you currently use to keep the names  
consistent in the repository as commits are made. Once you have an  
OSGeo id, email either Tim or me so we can grant you commit privileges  
to the new repository.

If you have an OSGeo id, you don't need to create a new one.

-gary

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From otto.dassau at gmx.de  Thu Feb  7 08:48:14 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Thu Feb  7 08:48:13 2008
Subject: [Qgis-developer] IMPORTANT: svn relocate information
In-Reply-To: <12494840-AA29-4875-97CA-D9E10DCDBC53@mrcc.com>
References: <12494840-AA29-4875-97CA-D9E10DCDBC53@mrcc.com>
Message-ID: <20080207144814.1ce31a38@nature>

On Wed, 6 Feb 2008 20:33:54 -0900
Gary Sherman <sherman@mrcc.com> wrote:

> To relocate your working copy to the osgeo-hosted repository:
> 1. Change to the working directory
> 2. svn switch --relocate https://svn.qgis.org/repos/qgis
> https://svn.osgeo.org/qgis

Hi, 

I would like to add some changes to the qgis-doc repository. Is it also
migrated to https://svn.osgeo.org/qgis_docs? I haven't found it.

I tried to use the "old" one but only got errors: 
svn: MKACTIVITY von ?
/repos/qgis_docs/!svn/act/a3e868d8-5709-4247-93e9-be9769919e21?: 500 Internal
Server Error (https://svn.qgis.org)

can you tell me, how to proceed?

thanks a lot
 Otto

From sherman at mrcc.com  Thu Feb  7 10:06:54 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Thu Feb  7 10:07:03 2008
Subject: [Qgis-developer] Last call for PSC nominations
Message-ID: <4E161B6D-2F22-4F9E-986A-8FD691938F18@mrcc.com>

Nominations for the QGIS PSC close in about 9 hours. For details and  
to nominate someone, see:

http://wiki.qgis.org/qgiswiki/Call_for_Nominations_January_2008

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From cavallini at faunalia.it  Fri Feb  8 01:35:46 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri Feb  8 01:35:52 2008
Subject: [Qgis-developer] Re: [Qgis-doc] QGIS Admin notice - SVN server
	migration
In-Reply-To: <d368056f0802062041mb48f19cy76a266b1e3600fcf@mail.gmail.com>
References: <d368056f0802062041mb48f19cy76a266b1e3600fcf@mail.gmail.com>
Message-ID: <47ABF842.8060405@faunalia.it>

Tim Sutton ha scritto:

> 4) Trac is now available at:
> 
> http://svn.qgis.org/trac (i.e. the original url should continue to work)
> or
> https://trac.osgeo.org/qgis

Hi Tim.
The home page for
https://trac.osgeo.org/qgis/
should be modified, as some links point to incorrect destinations, eg.
https://svn.qgis.org/trac/query?status=new&status=assigned&status=reopened&milestone=Version+0.9.2&order=priority
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
From Horst.Duester at bd.so.ch  Fri Feb  8 04:08:34 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Fri Feb  8 04:08:40 2008
Subject: [Qgis-developer] Compilation error rev. 8117
Message-ID: <H00002eb0239f34f.1202461714.srsofaioi6145.ktso.ch@MHS>

I do have problems to compile QGIS rev. 8117. The compilation process
crashes with the following error message

[ 75%] Building CXX object
src/plugins/grid_maker/CMakeFiles/gridmakerplugin.dir/graticulecreator.o
In Datei, eingef?gt von
/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/graticul
ecreator.cpp:17:
/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../co
re/qgsgeometry.h:25:26: geos/version.h: File or directory not found

I believe, that GEOS is installed correctly with ccmake. The mentioned
file exists under GEOS_INCLUDE_PATH/geos/version.h

What goes wrong.

Regards
Horst
------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080208/0b823a81/attachment.html
From marco.hugentobler at karto.baug.ethz.ch  Fri Feb  8 05:03:11 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri Feb  8 05:01:58 2008
Subject: [Qgis-developer] Compilation error rev. 8117
In-Reply-To: <H00002eb0239f34f.1202461714.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb0239f34f.1202461714.srsofaioi6145.ktso.ch@MHS>
Message-ID: <200802081103.11231.marco.hugentobler@karto.baug.ethz.ch>

Horst,

The compilation works for me with rev. 8117. 

Could you set the cmake variable 'CMAKE_VERBOSE_MAKEFILE' to true and then 
post the compiler output when trying to compile graticulcreator.cpp? Ideally, 
there should be -I<GEOS_INCLUDE_PATH> in the compiler command line.

Regards,
Marco

Am Freitag 08 Februar 2008 10:08:34 schrieb D?ster Horst:
> I do have problems to compile QGIS rev. 8117. The compilation process
> crashes with the following error message
>
> [ 75%] Building CXX object
> src/plugins/grid_maker/CMakeFiles/gridmakerplugin.dir/graticulecreator.o
> In Datei, eingef?gt von
> /usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/graticul
> ecreator.cpp:17:
> /usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../co
> re/qgsgeometry.h:25:26: geos/version.h: File or directory not found
>
> I believe, that GEOS is installed correctly with ccmake. The mentioned
> file exists under GEOS_INCLUDE_PATH/geos/version.h
>
> What goes wrong.
>
> Regards
> Horst
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tim at linfiniti.com  Fri Feb  8 05:17:20 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Feb  8 05:17:21 2008
Subject: [Qgis-developer] Re: [Qgis-doc] QGIS Admin notice - SVN server
	migration
In-Reply-To: <47ABF842.8060405@faunalia.it>
References: <d368056f0802062041mb48f19cy76a266b1e3600fcf@mail.gmail.com>
	<47ABF842.8060405@faunalia.it>
Message-ID: <d368056f0802080217u10b76db8ga115a09934b47379@mail.gmail.com>

Hi Paolo

Thanks will do.

Regards

Tim

2008/2/8, Paolo Cavallini <cavallini@faunalia.it>:
> Tim Sutton ha scritto:
>
> > 4) Trac is now available at:
> >
> > http://svn.qgis.org/trac (i.e. the original url should continue to work)
> > or
> > https://trac.osgeo.org/qgis
>
> Hi Tim.
> The home page for
> https://trac.osgeo.org/qgis/
> should be modified, as some links point to incorrect destinations, eg.
> https://svn.qgis.org/trac/query?status=new&status=assigned&status=reopened&milestone=Version+0.9.2&order=priority
> All the best.
> pc
> --
> Paolo Cavallini, see: http://www.faunalia.it/pc
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From marco.hugentobler at karto.baug.ethz.ch  Fri Feb  8 05:50:23 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri Feb  8 05:49:10 2008
Subject: Fwd: Re: AW: Re: [Qgis-developer] Compilation error rev. 8117
Message-ID: <200802081150.23619.marco.hugentobler@karto.baug.ethz.ch>


Forgot to cc this to the list...

----------  Weitergeleitete Nachricht  ----------

Betreff: Re: AW: Re: [Qgis-developer] Compilation error rev. 8117
Datum: Freitag 08 Februar 2008
Von: Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
An: D?ster Horst <Horst.Duester@bd.so.ch>

Oh, that's right. Even though my (geos3) installation is not in the standard 
include path, qgis seems to take the (geos2) includes from /usr/lib.

Try to add the following line to grid_maker/CMakeLists.txt

INCLUDE_DIRECTORIES(
     ${CMAKE_CURRENT_BINARY_DIR}
+     ${GEOS_INCLUDE_DIR}
     ../../core 
     ../../core/raster 
     ../../core/renderer 
     ../../core/symbology
     ../../gui
     ..
)

Regards,
Marco

Am Freitag 08 Februar 2008 11:18:21 schrieben Sie:
> Marco
>
> Here the compiler output. I can't see any GEOS include path. In my
> installation GEOS is resided outside of /usr/local/include. Perhaps
> thats the reason why GEOS works for you
>
> /usr/bin/c++   -Dgridmakerplugin_EXPORTS   -fPIC
> -I/usr/local/qt4/include -I/usr/local/qt4/include/Qt3Support
> -I/usr/local/qt4/include/QtSvg -I/usr/local/qt4/include/QtGui
> -I/usr/local/qt4/include/QtXml -I/usr/local/qt4/include/QtNetwork
> -I/usr/local/qt4/include/QtCore
> -I/usr/local/src/sogis/qgis_src/qgis_trunc
> -I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker
> -I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../
> core
> -I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../
> core/raster
> -I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../
> core/renderer
> -I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../
> core/symbology
> -I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../
> gui -I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/..
> -DQT_SHARED -DQT_3SUPPORT_LIB -DQT3_SUPPORT -DQT_SVG_LIB -DQT_GUI_LIB
> -DQT_XML_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB
> -DPREFIX=\"/usr/local/qgis_devel\" -DCORE_EXPORT= -DGUI_EXPORT= -o
> src/plugins/grid_maker/CMakeFiles/gridmakerplugin.dir/graticulecreator.o
> -c
> /usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/graticul
> ecreator.cpp
>
>
> Horst
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch
>
>
>
> -----Urspr?ngliche Nachricht-----
> Von: Marco Hugentobler [mailto:marco.hugentobler@karto.baug.ethz.ch]
> Gesendet am: Freitag, 8. Februar 2008 11:03
> An: qgis-developer@lists.osgeo.org
> Betreff: Re: [Qgis-developer] Compilation error rev. 8117
>
> Horst,
>
> The compilation works for me with rev. 8117.
>
> Could you set the cmake variable 'CMAKE_VERBOSE_MAKEFILE' to true and
> then
> post the compiler output when trying to compile graticulcreator.cpp?
> Ideally,
> there should be -I<GEOS_INCLUDE_PATH> in the compiler command line.
>
> Regards,
> Marco
>
> Am Freitag 08 Februar 2008 10:08:34 schrieb D?ster Horst:
> > I do have problems to compile QGIS rev. 8117. The compilation process
> > crashes with the following error message
> >
> > [ 75%] Building CXX object
>
> src/plugins/grid_maker/CMakeFiles/gridmakerplugin.dir/graticulecreator.o
>
> > In Datei, eingef?gt von
>
> /usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/graticul
>
> > ecreator.cpp:17:
>
> /usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../co
>
> > re/qgsgeometry.h:25:26: geos/version.h: File or directory not found
> >
> > I believe, that GEOS is installed correctly with ccmake. The mentioned
> > file exists under GEOS_INCLUDE_PATH/geos/version.h
> >
> > What goes wrong.
> >
> > Regards
> > Horst
> > ------------------------------------------------
> >
> > Dr. Horst D?ster
> > GIS-Koordinator, Stv. Amtschef
> >
> > Kanton Solothurn
> > Bau- und Justizdepartement
> > Amt f?r Geoinformation
> > SO!GIS Koordination
> > R?tistrasse 4
> > CH-4501 Solothurn
> >
> > Telefon ++41(0)32 627 25 32
> > Telefax ++41(0)32 627 22 14
> >
> > mailto:horst.duester@bd.so.ch
> > http://www.agi.so.ch



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee

-------------------------------------------------------

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From Horst.Duester at bd.so.ch  Fri Feb  8 05:52:39 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Fri Feb  8 05:52:46 2008
Subject: AW: Re: AW: Re: [Qgis-developer] Compilation error rev. 8117
Message-ID: <H00002eb023a269b.1202467958.srsofaioi6145.ktso.ch@MHS>

Yes that's it now it works.

Thank you very much.

Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch



-----Urspr?ngliche Nachricht-----
Von: Marco Hugentobler [mailto:marco.hugentobler@karto.baug.ethz.ch]
Gesendet am: Freitag, 8. Februar 2008 11:40
An: D?ster Horst
Betreff: Re: AW: Re: [Qgis-developer] Compilation error rev. 8117

Oh, that's right. Even though my (geos3) installation is not in the
standard 
include path, qgis seems to take the (geos2) includes from /usr/lib.

Try to add the following line to grid_maker/CMakeLists.txt

INCLUDE_DIRECTORIES(
     ${CMAKE_CURRENT_BINARY_DIR}
+     ${GEOS_INCLUDE_DIR}
     ../../core 
     ../../core/raster 
     ../../core/renderer 
     ../../core/symbology
     ../../gui
     ..
)

Regards,
Marco

Am Freitag 08 Februar 2008 11:18:21 schrieben Sie:
> Marco
>
> Here the compiler output. I can't see any GEOS include path. In my
> installation GEOS is resided outside of /usr/local/include. Perhaps
> thats the reason why GEOS works for you
>
> /usr/bin/c++   -Dgridmakerplugin_EXPORTS   -fPIC
> -I/usr/local/qt4/include -I/usr/local/qt4/include/Qt3Support
> -I/usr/local/qt4/include/QtSvg -I/usr/local/qt4/include/QtGui
> -I/usr/local/qt4/include/QtXml -I/usr/local/qt4/include/QtNetwork
> -I/usr/local/qt4/include/QtCore
> -I/usr/local/src/sogis/qgis_src/qgis_trunc
> -I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker
>
-I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../
> core
>
-I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../
> core/raster
>
-I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../
> core/renderer
>
-I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../
> core/symbology
>
-I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../
> gui
-I/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/..
> -DQT_SHARED -DQT_3SUPPORT_LIB -DQT3_SUPPORT -DQT_SVG_LIB -DQT_GUI_LIB
> -DQT_XML_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB
> -DPREFIX=\"/usr/local/qgis_devel\" -DCORE_EXPORT= -DGUI_EXPORT= -o
>
src/plugins/grid_maker/CMakeFiles/gridmakerplugin.dir/graticulecreator.o
> -c
>
/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/graticul
> ecreator.cpp
>
>
> Horst
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch
>
>
>
> -----Urspr?ngliche Nachricht-----
> Von: Marco Hugentobler [mailto:marco.hugentobler@karto.baug.ethz.ch]
> Gesendet am: Freitag, 8. Februar 2008 11:03
> An: qgis-developer@lists.osgeo.org
> Betreff: Re: [Qgis-developer] Compilation error rev. 8117
>
> Horst,
>
> The compilation works for me with rev. 8117.
>
> Could you set the cmake variable 'CMAKE_VERBOSE_MAKEFILE' to true and
> then
> post the compiler output when trying to compile graticulcreator.cpp?
> Ideally,
> there should be -I<GEOS_INCLUDE_PATH> in the compiler command line.
>
> Regards,
> Marco
>
> Am Freitag 08 Februar 2008 10:08:34 schrieb D?ster Horst:
> > I do have problems to compile QGIS rev. 8117. The compilation
process
> > crashes with the following error message
> >
> > [ 75%] Building CXX object
>
>
src/plugins/grid_maker/CMakeFiles/gridmakerplugin.dir/graticulecreator.o
>
> > In Datei, eingef?gt von
>
>
/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/graticul
>
> > ecreator.cpp:17:
>
>
/usr/local/src/sogis/qgis_src/qgis_trunc/src/plugins/grid_maker/../../co
>
> > re/qgsgeometry.h:25:26: geos/version.h: File or directory not found
> >
> > I believe, that GEOS is installed correctly with ccmake. The
mentioned
> > file exists under GEOS_INCLUDE_PATH/geos/version.h
> >
> > What goes wrong.
> >
> > Regards
> > Horst
> > ------------------------------------------------
> >
> > Dr. Horst D?ster
> > GIS-Koordinator, Stv. Amtschef
> >
> > Kanton Solothurn
> > Bau- und Justizdepartement
> > Amt f?r Geoinformation
> > SO!GIS Koordination
> > R?tistrasse 4
> > CH-4501 Solothurn
> >
> > Telefon ++41(0)32 627 25 32
> > Telefax ++41(0)32 627 22 14
> >
> > mailto:horst.duester@bd.so.ch
> > http://www.agi.so.ch



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080208/2a7c1f2d/attachment-0001.html
From Horst.Duester at bd.so.ch  Fri Feb  8 06:02:19 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Fri Feb  8 06:02:23 2008
Subject: [Qgis-developer] Next compiling issue
Message-ID: <H00002eb023a6ce2.1202468539.srsofaioi6145.ktso.ch@MHS>

The quick_print GUI seems to be build with designer 4.3.x. It is not
possible to compile quick_print with QT 4.2.3

Regards 
Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080208/4ff4e8c4/attachment.html
From cavallini at faunalia.it  Fri Feb  8 06:13:12 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri Feb  8 06:13:26 2008
Subject: [Qgis-developer] Next compiling issue
In-Reply-To: <H00002eb023a6ce2.1202468539.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb023a6ce2.1202468539.srsofaioi6145.ktso.ch@MHS>
Message-ID: <47AC3948.2020004@faunalia.it>

D?ster Horst ha scritto:
> The quick_print GUI seems to be build with designer 4.3.x. It is not
> possible to compile quick_print with QT 4.2.3

Wouldn't it be reasonable to depend on qt4.3 for 0.9.2?
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
From Horst.Duester at bd.so.ch  Fri Feb  8 06:17:37 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Fri Feb  8 06:17:41 2008
Subject: AW: Re: [Qgis-developer] Next compiling issue
Message-ID: <H00002eb023a6ce6.1202469456.srsofaioi6145.ktso.ch@MHS>

>Wouldn't it be reasonable to depend on qt4.3 for 0.9.2?
Unfortunately no. I'm not able to migrate to QT4.3 due to some
dependencies to the IT of our government.

Regards
Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch



-----Urspr?ngliche Nachricht-----
Von: Paolo Cavallini [mailto:cavallini@faunalia.it]
Gesendet am: Freitag, 8. Februar 2008 12:13
An: D?ster Horst
Cc: qgis-developer
Betreff: Re: [Qgis-developer] Next compiling issue

D?ster Horst ha scritto:
> The quick_print GUI seems to be build with designer 4.3.x. It is not
> possible to compile quick_print with QT 4.2.3

Wouldn't it be reasonable to depend on qt4.3 for 0.9.2?
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080208/08eab8f5/attachment.html
From tim at linfiniti.com  Fri Feb  8 06:18:12 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Feb  8 06:18:15 2008
Subject: [Qgis-developer] Next compiling issue
In-Reply-To: <H00002eb023a6ce2.1202468539.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb023a6ce2.1202468539.srsofaioi6145.ktso.ch@MHS>
Message-ID: <d368056f0802080318i2f98a8cbh28318e24cf28d13f@mail.gmail.com>

Hi

Thats an oversight I fixed it in r8119.

Regards

Tim

2008/2/8, D?ster Horst <Horst.Duester@bd.so.ch>:
>
>
> The quick_print GUI seems to be build with designer 4.3.x. It is not
> possible to compile quick_print with QT 4.2.3
>
> Regards
> Horst
>
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From sherman at mrcc.com  Fri Feb  8 16:34:19 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Fri Feb  8 16:36:36 2008
Subject: [Qgis-developer] New PSC Member
Message-ID: <D5B18FF3-8C81-403D-A1CA-97E53ED6C0EB@mrcc.com>

Congratulations to Paolo Cavallini for being appointed the new QGIS  
PSC Financial/Marketing Advisor.

Paolo brings considerable experience from his efforts on the Italian  
FOSS4G (or GFOSS) scene. Please welcome him aboard.

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From tim at linfiniti.com  Fri Feb  8 17:12:42 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Feb  8 17:12:44 2008
Subject: [Qgis-developer] New PSC Member
In-Reply-To: <D5B18FF3-8C81-403D-A1CA-97E53ED6C0EB@mrcc.com>
References: <D5B18FF3-8C81-403D-A1CA-97E53ED6C0EB@mrcc.com>
Message-ID: <d368056f0802081412u7d202b7boaaae38f07eed696d@mail.gmail.com>

Hi

Welcome to the PSC Paolo! We are very pleased to have you aboard!

Best regards

Tim

2008/2/8, Gary Sherman <sherman@mrcc.com>:
> Congratulations to Paolo Cavallini for being appointed the new QGIS
> PSC Financial/Marketing Advisor.
>
> Paolo brings considerable experience from his efforts on the Italian
> FOSS4G (or GFOSS) scene. Please welcome him aboard.
>
> -gary
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>    *Geospatial Hosting
>    *Web Site Hosting
> -Desktop GIS Book:
>    *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
>
>
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From cavallini at faunalia.it  Fri Feb  8 17:43:21 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri Feb  8 17:43:26 2008
Subject: [Qgis-developer] New PSC Member
In-Reply-To: <d368056f0802081412u7d202b7boaaae38f07eed696d@mail.gmail.com>
References: <D5B18FF3-8C81-403D-A1CA-97E53ED6C0EB@mrcc.com>
	<d368056f0802081412u7d202b7boaaae38f07eed696d@mail.gmail.com>
Message-ID: <47ACDB09.8060208@faunalia.it>

Tim Sutton ha scritto:

> Welcome to the PSC Paolo! We are very pleased to have you aboard!

Thanks, I'll be happy if I can be of help!
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
From otto.dassau at gmx.de  Sat Feb  9 03:06:36 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Sat Feb  9 03:06:36 2008
Subject: [Qgis-developer] New PSC Member
In-Reply-To: <D5B18FF3-8C81-403D-A1CA-97E53ED6C0EB@mrcc.com>
References: <D5B18FF3-8C81-403D-A1CA-97E53ED6C0EB@mrcc.com>
Message-ID: <20080209090636.1f10c472@nature>

Welcome Paolo! 

Congratulations! Good to have you in the PSC! 

kind regards,
 Otto

On Fri, 8 Feb 2008 12:34:19 -0900
Gary Sherman <sherman@mrcc.com> wrote:

> Congratulations to Paolo Cavallini for being appointed the new QGIS  
> PSC Financial/Marketing Advisor.
> 
> Paolo brings considerable experience from his efforts on the Italian  
> FOSS4G (or GFOSS) scene. Please welcome him aboard.
From david.a.riggs at gmail.com  Sat Feb  9 18:52:25 2008
From: david.a.riggs at gmail.com (David A. Riggs)
Date: Sat Feb  9 18:52:27 2008
Subject: [Qgis-developer] 0.9.2rc1 Bugs
Message-ID: <d8169c660802091552n5039f627tfd3661dd4dd8703c@mail.gmail.com>

I've observed a few bugs with the 0.9.2 release candidate and have
created trac tickets for them, but wanted to post here for discussion.

1. When setting "Custom Min Max Value" for a Grayscale raster layer,
the Min and Max value aren't persisted when the project is saved and
re-loaded.

   https://trac.osgeo.org/qgis/ticket/945

2. New projects don't seem to get the projection of their first loaded
layer. For me, all new projects are WGS84 until I manually change them
to something else.

   https://trac.osgeo.org/qgis/ticket/946

3. When switching a project's Map Units from meters to feet, the
conversion (scalebar and ruler measurement tool) appears to calculate
the wrong values.

   https://trac.osgeo.org/qgis/ticket/947

Despite these issues, 0.9.2 looks to be a great release and one of the
most significant in quite a while. The raster changes make QGIS a very
strong GIS tool! Nice work!

- DR

-- 
David A. Riggs <david.a.riggs@gmail.com>
From tim at linfiniti.com  Sat Feb  9 19:34:33 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Feb  9 19:34:37 2008
Subject: [Qgis-developer] 0.9.2rc1 Bugs
In-Reply-To: <d8169c660802091552n5039f627tfd3661dd4dd8703c@mail.gmail.com>
References: <d8169c660802091552n5039f627tfd3661dd4dd8703c@mail.gmail.com>
Message-ID: <d368056f0802091634s14b12db3mab73b5b98907d46a@mail.gmail.com>

Hi David

Thanks for the feedback! We will try to address these issues for the
final 0.9.2 release. Many thanks for your feedback & bug reports.

Regards

Tim

2008/2/9, David A. Riggs <david.a.riggs@gmail.com>:
> I've observed a few bugs with the 0.9.2 release candidate and have
> created trac tickets for them, but wanted to post here for discussion.
>
> 1. When setting "Custom Min Max Value" for a Grayscale raster layer,
> the Min and Max value aren't persisted when the project is saved and
> re-loaded.
>
>    https://trac.osgeo.org/qgis/ticket/945
>
> 2. New projects don't seem to get the projection of their first loaded
> layer. For me, all new projects are WGS84 until I manually change them
> to something else.
>
>    https://trac.osgeo.org/qgis/ticket/946
>
> 3. When switching a project's Map Units from meters to feet, the
> conversion (scalebar and ruler measurement tool) appears to calculate
> the wrong values.
>
>    https://trac.osgeo.org/qgis/ticket/947
>
> Despite these issues, 0.9.2 looks to be a great release and one of the
> most significant in quite a while. The raster changes make QGIS a very
> strong GIS tool! Nice work!
>
> - DR
>
> --
> David A. Riggs <david.a.riggs@gmail.com>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From marco.hugentobler at karto.baug.ethz.ch  Sun Feb 10 10:04:33 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Sun Feb 10 10:03:11 2008
Subject: [Qgis-developer] composer redesign branch
Message-ID: <200802101604.33706.marco.hugentobler@karto.baug.ethz.ch>

Hi

I remember from the mailing list that there have been some conflicting changes 
in renderer branch(now in trunk) and print composer redesign branch. I'd like 
to bring these in synchronisation again such that development of composer 
branch may continue.

As far as I remember, the conflicting point is the rendering of point symbols. 
The composer redesign branch does no caching to QImage, but uses QSvgRenderer 
for rendering the svg symbols. The advantage is that the resolution is 
perfect on all output devices, the disadvantage is the increased rendering 
time (by a factor 4). I wonder what the way to go is and like to discuss this 
here. I see two solutions:

- The solution of trunk is taken because of better performance and adapted 
such that the resolution of the output device is considered when 
caching/retrieving point symbols.

- The solution of the composer branch is taken and adapted to point symbol 
rotation to fit with trunk. 

In my opinion, factor 4 is much performance difference and so I'm inclined to 
prefer the first option. What do you think?

Regards,
Marco

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From botsnlinux at gmail.com  Sun Feb 10 15:59:43 2008
From: botsnlinux at gmail.com (Steven Bell)
Date: Sun Feb 10 15:59:46 2008
Subject: [Qgis-developer] Re: composer redesign branch
Message-ID: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>

For now, I suggest just merging the angular renderer changes into the
composer redesign branch, keeping the non-caching behavior.  I have been
very busy the last month or so, but I expect to have some time in about a
week to work on it.  If others want to do it, go ahead.
I'd like to do some more testing of the speed of the different branches.
Ultimately, a combination may be best - caching when working with data, and
full rendering when printing.
Steven


> Date: Sun, 10 Feb 2008 16:04:33 +0100
> From: Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
> Subject: [Qgis-developer] composer redesign branch
> To: qgis-developer@lists.osgeo.org
> Message-ID: <200802101604.33706.marco.hugentobler@karto.baug.ethz.ch>
> Content-Type: text/plain;  charset="us-ascii"
>
> Hi
>
> I remember from the mailing list that there have been some conflicting
> changes
> in renderer branch(now in trunk) and print composer redesign branch. I'd
> like
> to bring these in synchronisation again such that development of composer
> branch may continue.
>
> As far as I remember, the conflicting point is the rendering of point
> symbols.
> The composer redesign branch does no caching to QImage, but uses
> QSvgRenderer
> for rendering the svg symbols. The advantage is that the resolution is
> perfect on all output devices, the disadvantage is the increased rendering
> time (by a factor 4). I wonder what the way to go is and like to discuss
> this
> here. I see two solutions:
>
> - The solution of trunk is taken because of better performance and adapted
> such that the resolution of the output device is considered when
> caching/retrieving point symbols.
>
> - The solution of the composer branch is taken and adapted to point symbol
> rotation to fit with trunk.
>
> In my opinion, factor 4 is much performance difference and so I'm inclined
> to
> prefer the first option. What do you think?
>
> Regards,
> Marco
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080210/7082aa67/attachment.html
From wonder.sk at gmail.com  Sun Feb 10 16:35:09 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun Feb 10 16:35:12 2008
Subject: [Qgis-developer] Next compiling issue
In-Reply-To: <47AC3948.2020004@faunalia.it>
References: <H00002eb023a6ce2.1202468539.srsofaioi6145.ktso.ch@MHS>
	<47AC3948.2020004@faunalia.it>
Message-ID: <e8e7199c0802101335g9881405xd024ff207163d932@mail.gmail.com>

On Feb 8, 2008 12:13 PM, Paolo Cavallini <cavallini@faunalia.it> wrote:
> D?ster Horst ha scritto:
> > The quick_print GUI seems to be build with designer 4.3.x. It is not
> > possible to compile quick_print with QT 4.2.3
>
> Wouldn't it be reasonable to depend on qt4.3 for 0.9.2?

In my opinion it will be reasonable to switch to Qt4.3 for the next
release, since the code of 0.9.2 doesn't need any features from Qt4.3,
but next release could contain improved map composer with new Svg
renderer.

Martin
From tim at linfiniti.com  Sun Feb 10 20:58:57 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Feb 10 20:58:59 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
Message-ID: <d368056f0802101758y5956f2c2n93318d1b4611c90e@mail.gmail.com>

Hi

Guys also bear in mind that Gavin was looking at getting a commercial
developer to implement improvements to map composer so be sure to
consult with him before doing any changes.

Regards

Tim

2008/2/10, Steven Bell <botsnlinux@gmail.com>:
>
> For now, I suggest just merging the angular renderer changes into the
> composer redesign branch, keeping the non-caching behavior.  I have been
> very busy the last month or so, but I expect to have some time in about a
> week to work on it.  If others want to do it, go ahead.
>  I'd like to do some more testing of the speed of the different branches.
> Ultimately, a combination may be best - caching when working with data, and
> full rendering when printing.
> Steven
>
> > Date: Sun, 10 Feb 2008 16:04:33 +0100
> > From: Marco Hugentobler
> <marco.hugentobler@karto.baug.ethz.ch>
> > Subject: [Qgis-developer] composer redesign branch
> > To: qgis-developer@lists.osgeo.org
> > Message-ID:
> <200802101604.33706.marco.hugentobler@karto.baug.ethz.ch>
> > Content-Type: text/plain;  charset="us-ascii"
> >
> > Hi
> >
> > I remember from the mailing list that there have been some conflicting
> changes
> > in renderer branch(now in trunk) and print composer redesign branch. I'd
> like
> > to bring these in synchronisation again such that development of composer
> > branch may continue.
> >
> > As far as I remember, the conflicting point is the rendering of point
> symbols.
> > The composer redesign branch does no caching to QImage, but uses
> QSvgRenderer
> > for rendering the svg symbols. The advantage is that the resolution is
> > perfect on all output devices, the disadvantage is the increased rendering
> > time (by a factor 4). I wonder what the way to go is and like to discuss
> this
> > here. I see two solutions:
> >
> > - The solution of trunk is taken because of better performance and adapted
> > such that the resolution of the output device is considered when
> > caching/retrieving point symbols.
> >
> > - The solution of the composer branch is taken and adapted to point symbol
> > rotation to fit with trunk.
> >
> > In my opinion, factor 4 is much performance difference and so I'm inclined
> to
> > prefer the first option. What do you think?
> >
> > Regards,
> > Marco
> >
> > --
> > Dr. Marco Hugentobler
> > Institute of Cartography
> > ETH Zurich
> > Technical Advisor QGIS Project Steering Committee
> >
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From marco.hugentobler at karto.baug.ethz.ch  Mon Feb 11 01:34:24 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon Feb 11 01:32:53 2008
Subject: [Qgis-developer] New PSC Member
In-Reply-To: <D5B18FF3-8C81-403D-A1CA-97E53ED6C0EB@mrcc.com>
References: <D5B18FF3-8C81-403D-A1CA-97E53ED6C0EB@mrcc.com>
Message-ID: <200802110734.24714.marco.hugentobler@karto.baug.ethz.ch>

Hi Paolo,

Good to see that you complete the psc team!

All the best,
Marco

Am Freitag 08 Februar 2008 22:34:19 schrieb Gary Sherman:
> Congratulations to Paolo Cavallini for being appointed the new QGIS
> PSC Financial/Marketing Advisor.
>
> Paolo brings considerable experience from his efforts on the Italian
> FOSS4G (or GFOSS) scene. Please welcome him aboard.
>
> -gary
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> -Micro Resources: http://mrcc.com
>    *Geospatial Hosting
>    *Web Site Hosting
> -Desktop GIS Book:
>    *http://desktopgisbook.com
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
>
>
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From wonder.sk at gmail.com  Mon Feb 11 13:14:58 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Feb 11 13:15:01 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
Message-ID: <e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>

On Feb 10, 2008 9:59 PM, Steven Bell <botsnlinux@gmail.com> wrote:
>
> For now, I suggest just merging the angular renderer changes into the
> composer redesign branch, keeping the non-caching behavior.  I have been
> very busy the last month or so, but I expect to have some time in about a
> week to work on it.  If others want to do it, go ahead.
>  I'd like to do some more testing of the speed of the different branches.
> Ultimately, a combination may be best - caching when working with data, and
> full rendering when printing.
> Steven

Guys,

when talking about improvements with composer, what are your plans -
do the changes as small as possible or are you open for some more
improvements? Generally I'd like to see these features:
- introduce "map rendering context" which will contain information
about rendering (we've talked about that already on the list)
- improve renderers' interface so that renderer itself will do the
drawing (instead of letting QgsVectorLayer do the real drawing). This
will help renderer to decide whether to draw and cache pixmaps
depending on the rendering context (i.e. drawing to a pixmap or
drawing to vector output). Moreover this will enable clean
implementation of advanced renderers like drawing arrows etc.
- separate map composer frontend and backend, so the backend will be
moved to core library and could be used in plugins / 3rd party apps

If you like these things (or at least some of them :-) I'll be happy
to cooperate.

Regards
Martin
From tim at linfiniti.com  Tue Feb 12 04:36:11 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Feb 12 04:36:14 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>
Message-ID: <d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>

Hi Martin and others

Martin I agree your listed options will be a better design. Im just
worried about time scales (we need to get 1.0 out this year - and
ideally before sept in time for FOSS4GEO2008) and about the fact that
Gavin may be off at sea, having set some contractors to work on
composer stuff. The other nice thing about the design change is that
raster and vector will work in similar way (both using renderers) if I
understand things right.  So the questions are I guess:

a) how long will it take
b) who is willing to work on this
c) do others agree to trying to get this implemented in 1.0

One important thing is to really try to consider render performance in
any redisign. QGIS has been steadily getting slower at rendering
vectors over the last few years and it would be good to try to address
this before 1.0 goes out.

Best Regards

Tim


> Guys,
>
> when talking about improvements with composer, what are your plans -
> do the changes as small as possible or are you open for some more
> improvements? Generally I'd like to see these features:
> - introduce "map rendering context" which will contain information
> about rendering (we've talked about that already on the list)
> - improve renderers' interface so that renderer itself will do the
> drawing (instead of letting QgsVectorLayer do the real drawing). This
> will help renderer to decide whether to draw and cache pixmaps
> depending on the rendering context (i.e. drawing to a pixmap or
> drawing to vector output). Moreover this will enable clean
> implementation of advanced renderers like drawing arrows etc.
> - separate map composer frontend and backend, so the backend will be
> moved to core library and could be used in plugins / 3rd party apps
>
> If you like these things (or at least some of them :-) I'll be happy
> to cooperate.
>
> Regards
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From Horst.Duester at bd.so.ch  Tue Feb 12 05:02:35 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Tue Feb 12 05:02:40 2008
Subject: [Qgis-developer] QgeFeature.setAttributeMap()
Message-ID: <H00002eb023da69c.1202810555.srsofaioi6145.ktso.ch@MHS>

I do have some trouble with QgsFeatures and attributeMaps. The following
Python code works in former times for me. Unfortunately I don't know
with which rev. it changed. 

...
provider.getNextFeature(feat):
attrib = feat.attributeMap()    

fet = QgsFeature()
fet.setAttributeMap(attrib)
...

Now when I run the plugin I get the error:

fet.setAttributeMap(attrib)
AttributeError: setAttributeMap


The content of attrib printed with "print attrib" looks well:
{0: <PyQt4.QtCore.QVariant object at 0xb7ad1b6c>, 1:
<PyQt4.QtCore.QVariant object at 0xb7ad1bac>}


Were there made changes in the setAttributeMap method??

Regards
Horst
------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080212/d86559b8/attachment.html
From wonder.sk at gmail.com  Tue Feb 12 05:53:59 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Feb 12 05:54:02 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>
	<d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>
Message-ID: <e8e7199c0802120253l1f64da3bg83885bb1afe93824@mail.gmail.com>

Hi Tim

On Feb 12, 2008 10:36 AM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi Martin and others
>
> Martin I agree your listed options will be a better design. Im just
> worried about time scales (we need to get 1.0 out this year - and
> ideally before sept in time for FOSS4GEO2008)

Well, since I haven't seen any release plan, I wasn't worried about
time scales... but getting 1.0 out in september doesn't look like a
challenge - depending on what all should be included in it. Tim, as
release manager, would you mind preparing such thing? (e.g. what
releases are planned, when, and possibly what features should be
targeted)

> and about the fact that
> Gavin may be off at sea, having set some contractors to work on
> composer stuff.

Hm, I didn't know anything about Gavin's plans for the map composer...
is the coding already taking place or what's the phase?


> The other nice thing about the design change is that
> raster and vector will work in similar way (both using renderers) if I
> understand things right.

Actually I've been talking mainly about vector renderers, although
rasters should be easy to do too.

> a) how long will it take

I guess the longest part will be the design stage (so that we won't
have to do the changes to it in longer time). If I start with coding I
expect to finish it in two weeks or so. In fact the code changes for
this stuff are not going to be that great as it might look like. The
changes should be done in following order:
1. rendering context - this is just matter of packing the arguments
for rendering to a class
2. renderers - time for this depends on final design
3. map composer changes - consists of separating frontend and backend
and then moving backend to core library


> b) who is willing to work on this

I will be happy to participate, don't know so far about others...

> c) do others agree to trying to get this implemented in 1.0

The question for others...


> One important thing is to really try to consider render performance in
> any redisign. QGIS has been steadily getting slower at rendering
> vectors over the last few years and it would be good to try to address
> this before 1.0 goes out.

Yes I completely agree, I don't want to do any changes that would make
QGIS slower.

Martin
From marco.hugentobler at karto.baug.ethz.ch  Tue Feb 12 16:35:29 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Tue Feb 12 16:35:31 2008
Subject: AW: [Qgis-developer] Re: composer redesign branch
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com><e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com><d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>
	<e8e7199c0802120253l1f64da3bg83885bb1afe93824@mail.gmail.com>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF7F7@EX6.d.ethz.ch>

Hi Martin, Tim and others

In my opinion, the proposed design changes are very important and I would like to see them in 1.0. I think it is important that proper printing is possible in 1.0. Furthermore, the rendering context is also important for the possibility to stop map rendering for large datasets. As development is taking place in a branch, there should be no risk for 1.0 if it is not ready and tested in time (but I'm quite optimistic that it will be :-) ).

>> b) who is willing to work on this

> I will be happy to participate, don't know so far about others...

I'm also offering my help.

>> and about the fact that
>> Gavin may be off at sea, having set some contractors to work on
>> composer stuff.

>Hm, I didn't know anything about Gavin's plans for the map composer...
>is the coding already taking place or what's the phase?

Good to know Gavin plans to support the print composer development. 
Actually one of my oncoming projects is also about improvements of the printing capabilities. I'm therefore very interested in a clean solution of the map composer's basic problems and of course I'm happy to help with coding and testing. 

>> One important thing is to really try to consider render performance in
>> any redisign. QGIS has been steadily getting slower at rendering
>> vectors over the last few years and it would be good to try to address
>> this before 1.0 goes out.

>Yes I completely agree, I don't want to do any changes that would make
>QGIS slower.  

This is a good point. So far I couldn't see any points in the current discussion that I would expect to have an impact on rendering performance (so no slowlyness by design).

Regards,
Marco

---------------------
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical advisor QGIS Project Steering Committee

-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Martin Dobias
Gesendet: Di 12.02.2008 11:53
An: Tim Sutton
Cc: Steven Bell; qgis-developer@lists.osgeo.org
Betreff: Re: [Qgis-developer] Re: composer redesign branch
 
Hi Tim

On Feb 12, 2008 10:36 AM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi Martin and others
>
> Martin I agree your listed options will be a better design. Im just
> worried about time scales (we need to get 1.0 out this year - and
> ideally before sept in time for FOSS4GEO2008)

Well, since I haven't seen any release plan, I wasn't worried about
time scales... but getting 1.0 out in september doesn't look like a
challenge - depending on what all should be included in it. Tim, as
release manager, would you mind preparing such thing? (e.g. what
releases are planned, when, and possibly what features should be
targeted)

> and about the fact that
> Gavin may be off at sea, having set some contractors to work on
> composer stuff.

Hm, I didn't know anything about Gavin's plans for the map composer...
is the coding already taking place or what's the phase?


> The other nice thing about the design change is that
> raster and vector will work in similar way (both using renderers) if I
> understand things right.

Actually I've been talking mainly about vector renderers, although
rasters should be easy to do too.

> a) how long will it take

I guess the longest part will be the design stage (so that we won't
have to do the changes to it in longer time). If I start with coding I
expect to finish it in two weeks or so. In fact the code changes for
this stuff are not going to be that great as it might look like. The
changes should be done in following order:
1. rendering context - this is just matter of packing the arguments
for rendering to a class
2. renderers - time for this depends on final design
3. map composer changes - consists of separating frontend and backend
and then moving backend to core library


> b) who is willing to work on this

I will be happy to participate, don't know so far about others...

> c) do others agree to trying to get this implemented in 1.0

The question for others...


> One important thing is to really try to consider render performance in
> any redisign. QGIS has been steadily getting slower at rendering
> vectors over the last few years and it would be good to try to address
> this before 1.0 goes out.

Yes I completely agree, I don't want to do any changes that would make
QGIS slower.

Martin
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From tim at linfiniti.com  Tue Feb 12 22:00:48 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Feb 12 22:00:50 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF7F7@EX6.d.ethz.ch>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>
	<d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>
	<e8e7199c0802120253l1f64da3bg83885bb1afe93824@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF7F7@EX6.d.ethz.ch>
Message-ID: <d368056f0802121900m64a332a9i7ae41d876458f772@mail.gmail.com>

Hi all

My aplogies for writing general notes instead of adressing specific
points....its late....

Maybe its time to resurrect the rfc process we started on, get it
properly planned and then do it. It would be nice to start by having a
plain english (with simple diagrams) description of what is planned.

It would be good also in the process to try to accommodate some kind
of 'overpainting' technique so that we can better symbolise things
like freeways  and other line over line type symbologies (beyond the
simple line styles offered by Qt).

I'll pitch in where I can by writing unit tests etc (although I
encourage others to write tests too and follow test driven development
principles).


> Tim, as
> release manager, would you mind preparing such thing? (e.g. what
> releases are planned, when, and possibly what features should be
> targeted)

There is already a feature spec on the wiki.

http://wiki.qgis.org/qgiswiki/Features_For_QGIS_Version_1.0

The spec should probably be revised at our next dev meeting as some
things are probably no longer on the table. I think its futile for me
to try to prescribe dates and scehdule for release of 1.0 and make a
release programme for that without first getting some committment /
buy in from developers to actually try to meet that date. If everyone
agrees to  work hard to achieve 1.0 release by September I will draw
up a release schedule accordingly, but otherwise I think its better to
stick with the 2-month fixed interval release cycle that I have been
trying to get into place and we declare 1.0 release at some
unspecified point in the (hopefully 2008!) year.


Regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From cavallini at faunalia.it  Wed Feb 13 02:17:38 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb 13 02:17:44 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <d368056f0802121900m64a332a9i7ae41d876458f772@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>	<d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>	<e8e7199c0802120253l1f64da3bg83885bb1afe93824@mail.gmail.com>	<04DA676AA276F045B32D0F95783D78440AF7F7@EX6.d.ethz.ch>
	<d368056f0802121900m64a332a9i7ae41d876458f772@mail.gmail.com>
Message-ID: <47B29992.8090402@faunalia.it>

Tim Sutton ha scritto:

> There is already a feature spec on the wiki.
> 
> http://wiki.qgis.org/qgiswiki/Features_For_QGIS_Version_1.0
> 
> The spec should probably be revised at our next dev meeting as some
> things are probably no longer on the table.

I think this is very much true. One thing that I believe it is very
important is proper labelling, with collision detection, angle_follow,
etc. Speed is becoming important, as noted, as well as stability (avoid
crashing). Also thematic mapping has scope for improvement.
I guess it's all on the wishes (on the trac), but it should be properly
prioritized.
To me, geoprocessing is far less important, as this can be easily done
with grass.
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
From wonder.sk at gmail.com  Wed Feb 13 05:10:39 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb 13 05:10:41 2008
Subject: [Qgis-developer] QgeFeature.setAttributeMap()
In-Reply-To: <H00002eb023da69c.1202810555.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb023da69c.1202810555.srsofaioi6145.ktso.ch@MHS>
Message-ID: <e8e7199c0802130210l1157d0cfm6faf5121babe0f6b@mail.gmail.com>

On Feb 12, 2008 11:02 AM, D?ster Horst <Horst.Duester@bd.so.ch> wrote:
>
>
> I do have some trouble with QgsFeatures and attributeMaps. The following
> Python code works in former times for me. Unfortunately I don't know with
> which rev. it changed.
>
> ...
> provider.getNextFeature(feat):
> attrib = feat.attributeMap()
>
> fet = QgsFeature()
> fet.setAttributeMap(attrib)
> ...
>
> Now when I run the plugin I get the error:
>
> fet.setAttributeMap(attrib)
> AttributeError: setAttributeMap

Hi,

searching in SVN reveals that setAttributeMap() has been added 4
months ago, however adding python wrapper has been omitted :-/
I've fixed this in r8152.

COMMITERS: when commiting any changes in header files for CORE and GUI
libraries please make sure that you've updated also .sip wrappers
accordingly.

Martin
From wonder.sk at gmail.com  Wed Feb 13 05:30:43 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb 13 05:30:46 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <d368056f0802121900m64a332a9i7ae41d876458f772@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>
	<d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>
	<e8e7199c0802120253l1f64da3bg83885bb1afe93824@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF7F7@EX6.d.ethz.ch>
	<d368056f0802121900m64a332a9i7ae41d876458f772@mail.gmail.com>
Message-ID: <e8e7199c0802130230j7f6e081ap3b0b28f4a9bf0e8d@mail.gmail.com>

On Feb 13, 2008 4:00 AM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi all
>
> My aplogies for writing general notes instead of adressing specific
> points....its late....
>
> Maybe its time to resurrect the rfc process we started on, get it
> properly planned and then do it. It would be nice to start by having a
> plain english (with simple diagrams) description of what is planned.

I completely agree with RFC process and will respect it. The problem I
see with RFCs is that they get nearly no feedback. Geometry handling
RFC which I've created several months ago got comments only from
Marco, voting has been postponed and then forgotten :-/ I'm wondering
what's the reason - is it written unclear? Or is that just lack of
time of others?


> It would be good also in the process to try to accommodate some kind
> of 'overpainting' technique so that we can better symbolise things
> like freeways  and other line over line type symbologies (beyond the
> simple line styles offered by Qt).

Yes, I've been thinking about that too...


> > Tim, as
> > release manager, would you mind preparing such thing? (e.g. what
> > releases are planned, when, and possibly what features should be
> > targeted)
>
> There is already a feature spec on the wiki.
>
> http://wiki.qgis.org/qgiswiki/Features_For_QGIS_Version_1.0
>
> The spec should probably be revised at our next dev meeting as some
> things are probably no longer on the table. I think its futile for me
> to try to prescribe dates and scehdule for release of 1.0 and make a
> release programme for that without first getting some committment /
> buy in from developers to actually try to meet that date. If everyone
> agrees to  work hard to achieve 1.0 release by September I will draw
> up a release schedule accordingly, but otherwise I think its better to
> stick with the 2-month fixed interval release cycle that I have been
> trying to get into place and we declare 1.0 release at some
> unspecified point in the (hopefully 2008!) year.

Actually I was thinking more of a roadmap for near, middle and distant
future so that we know where we're heading to. Of course any dates
can't be assured but it's still interesting to put some estimations at
least. I'm more interested what should happen before releasing 1.0 and
after releasing 1.0...

Martin
From Horst.Duester at bd.so.ch  Wed Feb 13 05:30:47 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Wed Feb 13 05:30:52 2008
Subject: [Qgis-developer] Compilation error in Rev. 8152
Message-ID: <H00002eb023f8663.1202898646.srsofaioi6145.ktso.ch@MHS>

I do get the following error when I compile Rev 8152

[ 66%] Generating core/core.so
/usr/local/src/sogis/qgis_src/qgis_trunc/python/core/conversions.sip: In
function `PyObject*
convertFrom_QMultiMap_2400_0200QgsSnappingResult(void*, PyObject*)':
/usr/local/src/sogis/qgis_src/qgis_trunc/python/core/conversions.sip:545
: Fehler: Ung?ltige Umformung von ?const void*? in ?void*?
gmake[3]: *** [sipcoreQMultiMap.o] Fehler 1
make[2]: *** [python/core/core.so] Fehler 2
make[1]: *** [python/CMakeFiles/python.dir/all] Fehler 2
make: *** [all] Fehler 2


Regards
Horst
------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080213/e8eea257/attachment.html
From wonder.sk at gmail.com  Wed Feb 13 05:46:15 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb 13 05:46:19 2008
Subject: [Qgis-developer] Compilation error in Rev. 8152
In-Reply-To: <H00002eb023f8663.1202898646.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb023f8663.1202898646.srsofaioi6145.ktso.ch@MHS>
Message-ID: <e8e7199c0802130246m3ea23310xa0adaac0a25bca0a@mail.gmail.com>

Try r8153, hope it will work :)

Martin

On Feb 13, 2008 11:30 AM, D?ster Horst <Horst.Duester@bd.so.ch> wrote:
>
>
> I do get the following error when I compile Rev 8152
>
> [ 66%] Generating core/core.so
> /usr/local/src/sogis/qgis_src/qgis_trunc/python/core/conversions.sip: In
> function `PyObject* convertFrom_QMultiMap_2400_0200QgsSnappingResult(void*,
> PyObject*)':
> /usr/local/src/sogis/qgis_src/qgis_trunc/python/core/conversions.sip:545:
> Fehler: Ung?ltige Umformung von ?const void*? in ?void*?
> gmake[3]: *** [sipcoreQMultiMap.o] Fehler 1
> make[2]: *** [python/core/core.so] Fehler 2
> make[1]: *** [python/CMakeFiles/python.dir/all] Fehler 2
> make: *** [all] Fehler 2
>
> Regards
> Horst
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
From tim at linfiniti.com  Wed Feb 13 05:59:43 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb 13 05:59:47 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <47B29992.8090402@faunalia.it>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>
	<d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>
	<e8e7199c0802120253l1f64da3bg83885bb1afe93824@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF7F7@EX6.d.ethz.ch>
	<d368056f0802121900m64a332a9i7ae41d876458f772@mail.gmail.com>
	<47B29992.8090402@faunalia.it>
Message-ID: <d368056f0802130259x5d308d16n83e5b0b71bcafd1a@mail.gmail.com>

Hi

2008/2/13, Paolo Cavallini <cavallini@faunalia.it>:
> Tim Sutton ha scritto:
>
> > There is already a feature spec on the wiki.
> >
> > http://wiki.qgis.org/qgiswiki/Features_For_QGIS_Version_1.0
> >
> > The spec should probably be revised at our next dev meeting as some
> > things are probably no longer on the table.
>
> I think this is very much true. One thing that I believe it is very
> important is proper labelling, with collision detection, angle_follow,
> etc. Speed is becoming important, as noted, as well as stability (avoid
> crashing). Also thematic mapping has scope for improvement.
> I guess it's all on the wishes (on the trac), but it should be properly
> prioritized.

Yes I think basically printing and labelling are the two things
holding up 1.0 going out (beyond stabilisation and performance
improvements).


> To me, geoprocessing is far less important, as this can be easily done
> with grass.

For 1.0 I agree. In the long term however I think its important to
implement geoprocessing tools in QGIS. My typical use case for QGIS is
using the libraries to embed GIS support into 3rd party applications -
and increasingly others will be doing the same now that we have
Martins python bindings in play. GRASS is problematic in this case in
that it is a) incredibly difficult to package an application that
makes use of some GIS functionality and then have to resolve all the
packaging issues of bundling GRASS with it too, and b) the model of
importing and exporting data to and from GRASS in order to perform
analysis is onerous. There are many other reasons why I think its good
for us to embark on implementing our own geoprocessing functionality
(on top of GEOS etc where appropriate).

Regards

Tim

> All the best.
> pc
> --
> Paolo Cavallini, see: http://www.faunalia.it/pc
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Wed Feb 13 06:04:50 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb 13 06:04:53 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <e8e7199c0802130230j7f6e081ap3b0b28f4a9bf0e8d@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>
	<d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>
	<e8e7199c0802120253l1f64da3bg83885bb1afe93824@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF7F7@EX6.d.ethz.ch>
	<d368056f0802121900m64a332a9i7ae41d876458f772@mail.gmail.com>
	<e8e7199c0802130230j7f6e081ap3b0b28f4a9bf0e8d@mail.gmail.com>
Message-ID: <d368056f0802130304s3ad2c0a0lab5365fe33702a6b@mail.gmail.com>

Hi

2008/2/13, Martin Dobias <wonder.sk@gmail.com>:
> On Feb 13, 2008 4:00 AM, Tim Sutton <tim@linfiniti.com> wrote:
> > Hi all
> >
> > My aplogies for writing general notes instead of adressing specific
> > points....its late....
> >
> > Maybe its time to resurrect the rfc process we started on, get it
> > properly planned and then do it. It would be nice to start by having a
> > plain english (with simple diagrams) description of what is planned.
>
> I completely agree with RFC process and will respect it. The problem I
> see with RFCs is that they get nearly no feedback. Geometry handling
> RFC which I've created several months ago got comments only from
> Marco, voting has been postponed and then forgotten :-/ I'm wondering
> what's the reason - is it written unclear? Or is that just lack of
> time of others?

Yes this is a similar problem to many other areas of the project (e.g.
so far we got only me writing unit tests for new features going into
core even though it was agreed that any new code going into core would
be accompanied by tests, e.g. so far the idea of committing code with
no warnings didnt take etc). However lets not give up yet - sometimes
it takes a while for new ways of working to 'settle in'...


>
> 8<------snip
>
> Actually I was thinking more of a roadmap for near, middle and distant
> future so that we know where we're heading to. Of course any dates
> can't be assured but it's still interesting to put some estimations at
> least. I'm more interested what should happen before releasing 1.0 and
> after releasing 1.0...

Ok I will draw up something for discussion at our next meeting.

Regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From Horst.Duester at bd.so.ch  Wed Feb 13 06:14:29 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Wed Feb 13 06:14:33 2008
Subject: [Qgis-developer] provider.getNextFeature(fet) with PostGIS
Message-ID: <H00002eb023f8667.1202901269.srsofaioi6145.ktso.ch@MHS>

Martin

Thank you for Rev. 8153 now setAttributeMap() works fine. But now I'm
faced with the next problem. 

provider.getNextFeature() 

doesn't work no more with PostGIS layers. It works fine with *.shp
layers.

Maybe the same issue like setAttributeMap()???

Geoprocessing Plugin:
>In my opinion you can put your plugin to the repository, maybe some
>people would like to join your efforts!

How can I put the plugin to the repository??

Regards
Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080213/bd8ae2d7/attachment.html
From cavallini at faunalia.it  Wed Feb 13 06:33:08 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb 13 06:33:16 2008
Subject: towards qgis 1.0 (was:Re: [Qgis-developer] Re: composer redesign
	branch)
In-Reply-To: <d368056f0802130259x5d308d16n83e5b0b71bcafd1a@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>	
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>	
	<d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>	
	<e8e7199c0802120253l1f64da3bg83885bb1afe93824@mail.gmail.com>	
	<04DA676AA276F045B32D0F95783D78440AF7F7@EX6.d.ethz.ch>	
	<d368056f0802121900m64a332a9i7ae41d876458f772@mail.gmail.com>	
	<47B29992.8090402@faunalia.it>
	<d368056f0802130259x5d308d16n83e5b0b71bcafd1a@mail.gmail.com>
Message-ID: <47B2D574.602@faunalia.it>

Tim Sutton ha scritto:

> Martins python bindings in play. GRASS is problematic in this case in
> that it is a) incredibly difficult to package an application that
> makes use of some GIS functionality and then have to resolve all the
> packaging issues of bundling GRASS with it too, and b) the model of
> importing and exporting data to and from GRASS in order to perform
> analysis is onerous. There are many other reasons why I think its good
> for us to embark on implementing our own geoprocessing functionality
> (on top of GEOS etc where appropriate).

I generally agree with you. Please note, however, that converting vector
data into grass format is not always necessary, thanks to v.external. I
understand next grass should be able to do the same also with raster
(sort of r.external).
But of course having at least some geoprocessing would be nice, just do
not stop the path towards 1.0 because of this...
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
From marco.hugentobler at karto.baug.ethz.ch  Wed Feb 13 06:38:37 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb 13 06:38:39 2008
Subject: [Qgis-developer] provider.getNextFeature(fet) with PostGIS
In-Reply-To: <H00002eb023f8667.1202901269.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb023f8667.1202901269.srsofaioi6145.ktso.ch@MHS>
Message-ID: <200802131238.37913.marco.hugentobler@karto.baug.ethz.ch>

I recently did some changes in the postgres provider to enhance efficiency. 
Maybe this is a side-effect of my changes? It would therefore be interesting 
to know what exactly does not work. Is the geometry empty? Or the attribute 
information missing? Also, it would be good to know the arguments you passed 
to 'getNextFeature'.

As it works with .shp layers, I think it is very unlikely that it is a python 
bindings problem.

Regards,
Marco 


Am Mittwoch 13 Februar 2008 12:14:29 schrieb D?ster Horst:
> Martin
>
> Thank you for Rev. 8153 now setAttributeMap() works fine. But now I'm
> faced with the next problem.
>
> provider.getNextFeature()
>
> doesn't work no more with PostGIS layers. It works fine with *.shp
> layers.
>
> Maybe the same issue like setAttributeMap()???
>
> Geoprocessing Plugin:
> >In my opinion you can put your plugin to the repository, maybe some
> >people would like to join your efforts!
>
> How can I put the plugin to the repository??
>
> Regards
> Horst
>
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From Horst.Duester at bd.so.ch  Wed Feb 13 06:52:34 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Wed Feb 13 06:52:38 2008
Subject: AW: Re: [Qgis-developer] provider.getNextFeature(fet) with PostGIS
Message-ID: <H00002eb023facb5.1202903554.srsofaioi6145.ktso.ch@MHS>

Code and corresponding outputs with respect to an example postgis layer:


...
    print "N-Features: "+str(provider.featureCount())
# Output: "N-Features: 4 "

    provider.getNextFeature(feat)
    attrib = feat.attributeMap()
    geom = feat.geometry()

    print "Geomtry: "+geom.exportToWkt()
# Error message: AttributeError: 'NoneType' object has no attribute
'exportToWkt'
    print "AttributeMap: "+str(attrib)    
# Output: "AttributeMap: {}"
...

The number of features is correct but no geometry and no attributeMap

Regards
Horst
------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch



-----Urspr?ngliche Nachricht-----
Von: Marco Hugentobler [mailto:marco.hugentobler@karto.baug.ethz.ch]
Gesendet am: Mittwoch, 13. Februar 2008 12:39
An: qgis-developer@lists.osgeo.org
Cc: D?ster Horst
Betreff: Re: [Qgis-developer] provider.getNextFeature(fet) with PostGIS

I recently did some changes in the postgres provider to enhance
efficiency. 
Maybe this is a side-effect of my changes? It would therefore be
interesting 
to know what exactly does not work. Is the geometry empty? Or the
attribute 
information missing? Also, it would be good to know the arguments you
passed 
to 'getNextFeature'.

As it works with .shp layers, I think it is very unlikely that it is a
python 
bindings problem.

Regards,
Marco 


Am Mittwoch 13 Februar 2008 12:14:29 schrieb D?ster Horst:
> Martin
>
> Thank you for Rev. 8153 now setAttributeMap() works fine. But now I'm
> faced with the next problem.
>
> provider.getNextFeature()
>
> doesn't work no more with PostGIS layers. It works fine with *.shp
> layers.
>
> Maybe the same issue like setAttributeMap()???
>
> Geoprocessing Plugin:
> >In my opinion you can put your plugin to the repository, maybe some
> >people would like to join your efforts!
>
> How can I put the plugin to the repository??
>
> Regards
> Horst
>
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080213/60e5770a/attachment-0001.html
From marco.hugentobler at karto.baug.ethz.ch  Wed Feb 13 07:00:12 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb 13 07:00:13 2008
Subject: AW: Re: [Qgis-developer] provider.getNextFeature(fet) with PostGIS
In-Reply-To: <H00002eb023facb5.1202903554.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb023facb5.1202903554.srsofaioi6145.ktso.ch@MHS>
Message-ID: <200802131300.12360.marco.hugentobler@karto.baug.ethz.ch>

And what were the arguments you provided for the select() call of the 
provider? 

Marco 

Am Mittwoch 13 Februar 2008 12:52:34 schrieb D?ster Horst:
> Code and corresponding outputs with respect to an example postgis layer:
>
>
> ...
>     print "N-Features: "+str(provider.featureCount())
> # Output: "N-Features: 4 "
>
>     provider.getNextFeature(feat)
>     attrib = feat.attributeMap()
>     geom = feat.geometry()
>
>     print "Geomtry: "+geom.exportToWkt()
> # Error message: AttributeError: 'NoneType' object has no attribute
> 'exportToWkt'
>     print "AttributeMap: "+str(attrib)
> # Output: "AttributeMap: {}"
> ...
>
> The number of features is correct but no geometry and no attributeMap
>
> Regards
> Horst
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch
>
>
>
> -----Urspr?ngliche Nachricht-----
> Von: Marco Hugentobler [mailto:marco.hugentobler@karto.baug.ethz.ch]
> Gesendet am: Mittwoch, 13. Februar 2008 12:39
> An: qgis-developer@lists.osgeo.org
> Cc: D?ster Horst
> Betreff: Re: [Qgis-developer] provider.getNextFeature(fet) with PostGIS
>
> I recently did some changes in the postgres provider to enhance
> efficiency.
> Maybe this is a side-effect of my changes? It would therefore be
> interesting
> to know what exactly does not work. Is the geometry empty? Or the
> attribute
> information missing? Also, it would be good to know the arguments you
> passed
> to 'getNextFeature'.
>
> As it works with .shp layers, I think it is very unlikely that it is a
> python
> bindings problem.
>
> Regards,
> Marco
>
> Am Mittwoch 13 Februar 2008 12:14:29 schrieb D?ster Horst:
> > Martin
> >
> > Thank you for Rev. 8153 now setAttributeMap() works fine. But now I'm
> > faced with the next problem.
> >
> > provider.getNextFeature()
> >
> > doesn't work no more with PostGIS layers. It works fine with *.shp
> > layers.
> >
> > Maybe the same issue like setAttributeMap()???
> >
> > Geoprocessing Plugin:
> > >In my opinion you can put your plugin to the repository, maybe some
> > >people would like to join your efforts!
> >
> > How can I put the plugin to the repository??
> >
> > Regards
> > Horst
> >
> > ------------------------------------------------
> >
> > Dr. Horst D?ster
> > GIS-Koordinator, Stv. Amtschef
> >
> > Kanton Solothurn
> > Bau- und Justizdepartement
> > Amt f?r Geoinformation
> > SO!GIS Koordination
> > R?tistrasse 4
> > CH-4501 Solothurn
> >
> > Telefon ++41(0)32 627 25 32
> > Telefax ++41(0)32 627 22 14
> >
> > mailto:horst.duester@bd.so.ch
> > http://www.agi.so.ch



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From wonder.sk at gmail.com  Wed Feb 13 07:13:50 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb 13 07:13:52 2008
Subject: [Qgis-developer] Re: provider.getNextFeature(fet) with PostGIS
In-Reply-To: <H00002eb023f8667.1202901269.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb023f8667.1202901269.srsofaioi6145.ktso.ch@MHS>
Message-ID: <e8e7199c0802130413v5cec9f28q86ce2ab61edacb44@mail.gmail.com>

On Feb 13, 2008 12:14 PM, D?ster Horst <Horst.Duester@bd.so.ch> wrote:
> provider.getNextFeature()
>
> doesn't work no more with PostGIS layers. It works fine with *.shp layers.
>
> Maybe the same issue like setAttributeMap()???

No, calls to providers are handled in a generic way using
QgsVectorDataProvider, your problem must be elsewhere.


> Geoprocessing Plugin:
> >In my opinion you can put your plugin to the repository, maybe some
> >people would like to join your efforts!
>
> How can I put the plugin to the repository??

Here's the plugin repository home:
http://www.spatialserver.net:3001/
You can register there and upload the plugin, later plugin installer
will be able to download and install it.

Martin
From wonder.sk at gmail.com  Wed Feb 13 07:24:52 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb 13 07:24:54 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <d368056f0802130304s3ad2c0a0lab5365fe33702a6b@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>
	<d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>
	<e8e7199c0802120253l1f64da3bg83885bb1afe93824@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF7F7@EX6.d.ethz.ch>
	<d368056f0802121900m64a332a9i7ae41d876458f772@mail.gmail.com>
	<e8e7199c0802130230j7f6e081ap3b0b28f4a9bf0e8d@mail.gmail.com>
	<d368056f0802130304s3ad2c0a0lab5365fe33702a6b@mail.gmail.com>
Message-ID: <e8e7199c0802130424l510e765eofda745cb2ae40193@mail.gmail.com>

On Feb 13, 2008 12:04 PM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi
>
> 2008/2/13, Martin Dobias <wonder.sk@gmail.com>:
> > I completely agree with RFC process and will respect it. The problem I
> > see with RFCs is that they get nearly no feedback. Geometry handling
> > RFC which I've created several months ago got comments only from
> > Marco, voting has been postponed and then forgotten :-/ I'm wondering
> > what's the reason - is it written unclear? Or is that just lack of
> > time of others?
>
> Yes this is a similar problem to many other areas of the project (e.g.
> so far we got only me writing unit tests for new features going into
> core even though it was agreed that any new code going into core would
> be accompanied by tests, e.g. so far the idea of committing code with
> no warnings didnt take etc). However lets not give up yet - sometimes
> it takes a while for new ways of working to 'settle in'...

Ok, I understand. I just thought that it's better to participate a bit
during design stage than later be surprised of the changes :-)
Regarding the other areas... unit tests are also important to keep
some level of quality, to ensure that tests get written why not deny
merging of new branches if they're not accompanied by tests? Finally,
I don't see warnings in code that important - since you can't assure
that new code will compile without warnings on all platformas,
moreover fixing a warning is usually one minute issue. However,
remembering our conversation on IRC some time ago, we probably look at
it from different sides :-)

Bye
Martin
From tim at linfiniti.com  Wed Feb 13 07:42:09 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb 13 07:42:11 2008
Subject: towards qgis 1.0 (was:Re: [Qgis-developer] Re: composer redesign
	branch)
In-Reply-To: <47B2D574.602@faunalia.it>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>
	<d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>
	<e8e7199c0802120253l1f64da3bg83885bb1afe93824@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF7F7@EX6.d.ethz.ch>
	<d368056f0802121900m64a332a9i7ae41d876458f772@mail.gmail.com>
	<47B29992.8090402@faunalia.it>
	<d368056f0802130259x5d308d16n83e5b0b71bcafd1a@mail.gmail.com>
	<47B2D574.602@faunalia.it>
Message-ID: <d368056f0802130442r55e50162u8e39f81f9c5cb0bb@mail.gmail.com>

Hi

2008/2/13, Paolo Cavallini <cavallini@faunalia.it>:
> Tim Sutton ha scritto:
>
> > Martins python bindings in play. GRASS is problematic in this case in
> > that it is a) incredibly difficult to package an application that
> > makes use of some GIS functionality and then have to resolve all the
> > packaging issues of bundling GRASS with it too, and b) the model of
> > importing and exporting data to and from GRASS in order to perform
> > analysis is onerous. There are many other reasons why I think its good
> > for us to embark on implementing our own geoprocessing functionality
> > (on top of GEOS etc where appropriate).
>
> I generally agree with you. Please note, however, that converting vector
> data into grass format is not always necessary, thanks to v.external. I
> understand next grass should be able to do the same also with raster
> (sort of r.external).
> But of course having at least some geoprocessing would be nice, just do
> not stop the path towards 1.0 because of this...

These are all post 1.0 release considerations...

Regards

Tim

> All the best.
> pc
> --
> Paolo Cavallini, see: http://www.faunalia.it/pc
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From Horst.Duester at bd.so.ch  Wed Feb 13 07:45:26 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Wed Feb 13 07:45:30 2008
Subject: AW: Re: AW: Re: [Qgis-developer] provider.getNextFeature(fet) with
	PostGIS
Message-ID: <H00002eb023facbc.1202906725.srsofaioi6145.ktso.ch@MHS>

Here is the complete code:


  def makeIntersection(self, writer, vlayerA, vlayerB):
    providerA = vlayerA.getDataProvider()
    providerB = vlayerB.getDataProvider()  

    featA = QgsFeature()
    featB = QgsFeature()
        
    allAttrsA = providerA.allAttributesList()
    allAttrsB = providerB.allAttributesList()    

#select only to the intersection square of the bounding boxes
    combinedExtent = vlayerB.extent().intersect(vlayerA.extent())
    
    providerA.select(allAttrsA, combinedExtent)
    providerB.select(allAttrsB, combinedExtent)    

# Detect the number of all involved objects for later use
# with progressbar (nFeat)    
    tmpIndexA = self.createIndex(providerA)
    tmpIntersectsA = tmpIndexA.intersects(vlayerB.extent())
    tmpIndexB = self.createIndex(providerB)
    tmpIntersectsB = tmpIndexB.intersects(vlayerA.extent())
    nFeat = len(tmpIntersectsA) + len(tmpIntersectsB)    

    index = self.createIndex(providerB) 
    nElement = 0
    
    self.geo_ctrl.progressBar.setValue(0)
    self.geo_ctrl.progressBar.setRange(0, nFeat)    
    
    providerA.getNextFeature(featA)
    attribA = featA.attributeMap()
    geomA = featA.geometry()
    print "N-Features: "+str(providerA.featureCount())
    print "Geomtry: "+geomA.exportToWkt()
    print "AttributeMap: "+str(attribA)    
    return 0


Regards
Horst
------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch



-----Urspr?ngliche Nachricht-----
Von: Marco Hugentobler [mailto:marco.hugentobler@karto.baug.ethz.ch]
Gesendet am: Mittwoch, 13. Februar 2008 13:00
An: D?ster Horst
Cc: qgis-developer
Betreff: Re: AW: Re: [Qgis-developer] provider.getNextFeature(fet) with
PostGIS

And what were the arguments you provided for the select() call of the 
provider? 

Marco 

Am Mittwoch 13 Februar 2008 12:52:34 schrieb D?ster Horst:
> Code and corresponding outputs with respect to an example postgis
layer:
>
>
> ...
>     print "N-Features: "+str(provider.featureCount())
> # Output: "N-Features: 4 "
>
>     provider.getNextFeature(feat)
>     attrib = feat.attributeMap()
>     geom = feat.geometry()
>
>     print "Geomtry: "+geom.exportToWkt()
> # Error message: AttributeError: 'NoneType' object has no attribute
> 'exportToWkt'
>     print "AttributeMap: "+str(attrib)
> # Output: "AttributeMap: {}"
> ...
>
> The number of features is correct but no geometry and no attributeMap
>
> Regards
> Horst
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch
>
>
>
> -----Urspr?ngliche Nachricht-----
> Von: Marco Hugentobler [mailto:marco.hugentobler@karto.baug.ethz.ch]
> Gesendet am: Mittwoch, 13. Februar 2008 12:39
> An: qgis-developer@lists.osgeo.org
> Cc: D?ster Horst
> Betreff: Re: [Qgis-developer] provider.getNextFeature(fet) with
PostGIS
>
> I recently did some changes in the postgres provider to enhance
> efficiency.
> Maybe this is a side-effect of my changes? It would therefore be
> interesting
> to know what exactly does not work. Is the geometry empty? Or the
> attribute
> information missing? Also, it would be good to know the arguments you
> passed
> to 'getNextFeature'.
>
> As it works with .shp layers, I think it is very unlikely that it is a
> python
> bindings problem.
>
> Regards,
> Marco
>
> Am Mittwoch 13 Februar 2008 12:14:29 schrieb D?ster Horst:
> > Martin
> >
> > Thank you for Rev. 8153 now setAttributeMap() works fine. But now
I'm
> > faced with the next problem.
> >
> > provider.getNextFeature()
> >
> > doesn't work no more with PostGIS layers. It works fine with *.shp
> > layers.
> >
> > Maybe the same issue like setAttributeMap()???
> >
> > Geoprocessing Plugin:
> > >In my opinion you can put your plugin to the repository, maybe some
> > >people would like to join your efforts!
> >
> > How can I put the plugin to the repository??
> >
> > Regards
> > Horst
> >
> > ------------------------------------------------
> >
> > Dr. Horst D?ster
> > GIS-Koordinator, Stv. Amtschef
> >
> > Kanton Solothurn
> > Bau- und Justizdepartement
> > Amt f?r Geoinformation
> > SO!GIS Koordination
> > R?tistrasse 4
> > CH-4501 Solothurn
> >
> > Telefon ++41(0)32 627 25 32
> > Telefax ++41(0)32 627 22 14
> >
> > mailto:horst.duester@bd.so.ch
> > http://www.agi.so.ch



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080213/e804072c/attachment-0001.html
From bud at comune.grosseto.it  Wed Feb 13 09:24:18 2008
From: bud at comune.grosseto.it (Bud P. Bruegger)
Date: Wed Feb 13 09:24:26 2008
Subject: [Qgis-developer] custom attribute inserting/editing
Message-ID: <20080213152418.35c29b2e.bud@comune.grosseto.it>

Hello everyone,

I'm new to the list, so please forgive my possible ignorance.

I am looking into the possibility of custom attribute editing, i.e.,
to customize how the attributes for a certain feature type are
presented.  Customizations could include combo boxes/option selectors
with a predifined set of possible values (possibly taken from a postgres
table; using a code but presenting a full label; etc.), some constraint
checks on an attribute fields, etc.

It seems to me that adding all that functionality to qGIS would require
to basically re-implement a dmbs client that allows the definition of
custom forms. So instead of taking on something so ambitious, I was
wondering whether it would be possible to delegate attribute input and
editing to an existing external program (incl. Open Office Base) in a
customizable way.  

So my questions are:
* is this feasible?
* is this something a python programmer without GUI experience can do
(i.e., I)?
* if so, where would I start?

many thanks and kind regards

-bud

-- 
Bud P. Bruegger, Ph.D.          +39-0564-488577 (voice),  -21139 (fax) 
   European Chair, Global Collaboration Forum on eID
   Chair, Porvoo Subgroup on collab. govs/operating systems
   Leader of the Permanent eID Status Observatory (PESO) project
Servizio Elaborazione Dati       e-mail:  bud@comune.grosseto.it
Comune di Grosseto               jabber:  bud@jabber.no
Via Ginori, 43                   http://www.comune.grosseto.it/
58100 Grosseto (Tuscany, Italy)
http://www.comune.grosseto.it/interopEID/
From tim at linfiniti.com  Wed Feb 13 12:06:52 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb 13 12:06:54 2008
Subject: [Qgis-developer] custom attribute inserting/editing
In-Reply-To: <20080213152418.35c29b2e.bud@comune.grosseto.it>
References: <20080213152418.35c29b2e.bud@comune.grosseto.it>
Message-ID: <d368056f0802130906g332ec352oaf5a0c788763a831@mail.gmail.com>

Hi

If you are up for a bit of coding, I would suggest rather to look at
the Qt classes that facilitat this kind of thing (one day we need to
get this into core QGIS too).

eg http://doc.trolltech.com/4.3/qsqlrelationaltablemodel.html

Regards

Tim

2008/2/13, Bud P. Bruegger <bud@comune.grosseto.it>:
> Hello everyone,
>
> I'm new to the list, so please forgive my possible ignorance.
>
> I am looking into the possibility of custom attribute editing, i.e.,
> to customize how the attributes for a certain feature type are
> presented.  Customizations could include combo boxes/option selectors
> with a predifined set of possible values (possibly taken from a postgres
> table; using a code but presenting a full label; etc.), some constraint
> checks on an attribute fields, etc.
>
> It seems to me that adding all that functionality to qGIS would require
> to basically re-implement a dmbs client that allows the definition of
> custom forms. So instead of taking on something so ambitious, I was
> wondering whether it would be possible to delegate attribute input and
> editing to an existing external program (incl. Open Office Base) in a
> customizable way.
>
> So my questions are:
> * is this feasible?
> * is this something a python programmer without GUI experience can do
> (i.e., I)?
> * if so, where would I start?
>
> many thanks and kind regards
>
> -bud
>
> --
> Bud P. Bruegger, Ph.D.          +39-0564-488577 (voice),  -21139 (fax)
>    European Chair, Global Collaboration Forum on eID
>    Chair, Porvoo Subgroup on collab. govs/operating systems
>    Leader of the Permanent eID Status Observatory (PESO) project
> Servizio Elaborazione Dati       e-mail:  bud@comune.grosseto.it
> Comune di Grosseto               jabber:  bud@jabber.no
> Via Ginori, 43                   http://www.comune.grosseto.it/
> 58100 Grosseto (Tuscany, Italy)
> http://www.comune.grosseto.it/interopEID/
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From john.tull at wildnevada.org  Wed Feb 13 12:27:41 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed Feb 13 12:27:46 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <d368056f0802130259x5d308d16n83e5b0b71bcafd1a@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>
	<d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>
	<e8e7199c0802120253l1f64da3bg83885bb1afe93824@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF7F7@EX6.d.ethz.ch>
	<d368056f0802121900m64a332a9i7ae41d876458f772@mail.gmail.com>
	<47B29992.8090402@faunalia.it>
	<d368056f0802130259x5d308d16n83e5b0b71bcafd1a@mail.gmail.com>
Message-ID: <F2B39A30-B796-44EF-85FF-5773F846A230@wildnevada.org>

On Feb 13, 2008, at 2:59 AM, Tim Sutton wrote:

>> To me, geoprocessing is far less important, as this can be easily  
>> done
>> with grass.
>
> For 1.0 I agree. In the long term however I think its important to
> implement geoprocessing tools in QGIS. My typical use case for QGIS is
> using the libraries to embed GIS support into 3rd party applications -
> and increasingly others will be doing the same now that we have
> Martins python bindings in play. GRASS is problematic in this case in
> that it is a) incredibly difficult to package an application that
> makes use of some GIS functionality and then have to resolve all the
> packaging issues of bundling GRASS with it too, and b) the model of
> importing and exporting data to and from GRASS in order to perform
> analysis is onerous. There are many other reasons why I think its good
> for us to embark on implementing our own geoprocessing functionality
> (on top of GEOS etc where appropriate).
>
> Regards
>
> Tim

Just a user perspective here, but I agree with Tim 100% on his part b  
assessment. The import export model works, and I am grateful to have  
the GRASS plugin, but this process creates a lot of redundancy in data  
files between the two systems (grass/qgis) that quickly can quickly  
become unmanageable. Workflow would be greatly improved greatly with  
geoprocessing tools available in qgis. Also, I do think that better  
map printing is much higher priority than geoprocessing at this point.  
It is a bit problematic that it takes me a full day to create a map  
that approaches the visual quality that my colleague can complete in  
15 minutes using Arc/ESRI.

Thanks,
John
From john.tull at wildnevada.org  Wed Feb 13 12:30:35 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed Feb 13 12:30:40 2008
Subject: towards qgis 1.0 (was:Re: [Qgis-developer] Re: composer redesign
	branch)
In-Reply-To: <47B2D574.602@faunalia.it>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>	
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>	
	<d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>	
	<e8e7199c0802120253l1f64da3bg83885bb1afe93824@mail.gmail.com>	
	<04DA676AA276F045B32D0F95783D78440AF7F7@EX6.d.ethz.ch>	
	<d368056f0802121900m64a332a9i7ae41d876458f772@mail.gmail.com>	
	<47B29992.8090402@faunalia.it>
	<d368056f0802130259x5d308d16n83e5b0b71bcafd1a@mail.gmail.com>
	<47B2D574.602@faunalia.it>
Message-ID: <4FB17B38-22B6-4DA4-94D6-51F69A604B4C@wildnevada.org>

On Feb 13, 2008, at 3:33 AM, Paolo Cavallini wrote:

> Tim Sutton ha scritto:
>
>> Martins python bindings in play. GRASS is problematic in this case in
>> that it is a) incredibly difficult to package an application that
>> makes use of some GIS functionality and then have to resolve all the
>> packaging issues of bundling GRASS with it too, and b) the model of
>> importing and exporting data to and from GRASS in order to perform
>> analysis is onerous. There are many other reasons why I think its  
>> good
>> for us to embark on implementing our own geoprocessing functionality
>> (on top of GEOS etc where appropriate).
>
> I generally agree with you. Please note, however, that converting  
> vector
> data into grass format is not always necessary, thanks to  
> v.external. I
> understand next grass should be able to do the same also with raster
> (sort of r.external).
> But of course having at least some geoprocessing would be nice, just  
> do
> not stop the path towards 1.0 because of this...
> All the best.
> pc

Paolo,

I will have to investigate using v.external as this may help reduce  
the redundancy problem, although it is unclear how at this point. Are  
you referring to running v.external from the grass shell? Perhaps a  
quick example of your workflow would be good (a tutorial?).

Cheers,
John
From cavallini at faunalia.it  Wed Feb 13 13:24:45 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb 13 13:24:59 2008
Subject: [Qgis-developer] Re: towards qgis 1.0
In-Reply-To: <4FB17B38-22B6-4DA4-94D6-51F69A604B4C@wildnevada.org>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>	
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>	
	<d368056f0802120136y4636c128u5a5bd03689cbafed@mail.gmail.com>	
	<e8e7199c0802120253l1f64da3bg83885bb1afe93824@mail.gmail.com>	
	<04DA676AA276F045B32D0F95783D78440AF7F7@EX6.d.ethz.ch>	
	<d368056f0802121900m64a332a9i7ae41d876458f772@mail.gmail.com>	
	<47B29992.8090402@faunalia.it>
	<d368056f0802130259x5d308d16n83e5b0b71bcafd1a@mail.gmail.com>
	<47B2D574.602@faunalia.it>
	<4FB17B38-22B6-4DA4-94D6-51F69A604B4C@wildnevada.org>
Message-ID: <47B335ED.5090007@faunalia.it>

John C. Tull ha scritto:

> Paolo,
> 
> I will have to investigate using v.external as this may help reduce the
> redundancy problem, although it is unclear how at this point. Are you
> referring to running v.external from the grass shell? Perhaps a quick
> example of your workflow would be good (a tutorial?).

We use grass extensively, so many of the data are already in grass, and
we're happy to convert them (especially vectors).
I just mentioned this possibility for casual grass users.
Anyway, including additional grass modules in qgis is rather easy and quick.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
From wonder.sk at gmail.com  Fri Feb 15 05:29:59 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri Feb 15 05:30:02 2008
Subject: [Qgis-developer] custom attribute inserting/editing
In-Reply-To: <20080213152418.35c29b2e.bud@comune.grosseto.it>
References: <20080213152418.35c29b2e.bud@comune.grosseto.it>
Message-ID: <e8e7199c0802150229s71365289je79c203f53f8776d@mail.gmail.com>

On Wed, Feb 13, 2008 at 3:24 PM, Bud P. Bruegger <bud@comune.grosseto.it> wrote:
>  I am looking into the possibility of custom attribute editing, i.e.,
>  to customize how the attributes for a certain feature type are
>  presented.  Customizations could include combo boxes/option selectors
>  with a predifined set of possible values (possibly taken from a postgres
>  table; using a code but presenting a full label; etc.), some constraint
>  checks on an attribute fields, etc.
>
>  [...]
>
>  So my questions are:
>  * is this feasible?

Yes, I think so. If I understand correctly what you want is to show a
dialog for a feature which will show the fields with according
(customized) editing widgets.
With Qt there's no problem to create dialogs on the fly, for example
in GRASS plugin QGIS shows forms for GRASS modules in such way - the
definition of the form is always stored in an XML file which is read
and the form is created accordingly.

>  * is this something a python programmer without GUI experience can do
>  (i.e., I)?

Indeed. Progamming with Qt (or PyQt in your case) is not very hard.
You'll just need some time to poke in their API, look at the examples
etc.

>  * if so, where would I start?

Start learning Qt, particularly take look at classes like QWidget,
QLayout and other UI related stuff.

Martin
From apasotti at gmail.com  Fri Feb 15 09:09:47 2008
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri Feb 15 09:09:50 2008
Subject: [Qgis-developer] custom attribute inserting/editing
In-Reply-To: <e8e7199c0802150229s71365289je79c203f53f8776d@mail.gmail.com>
References: <20080213152418.35c29b2e.bud@comune.grosseto.it>
	<e8e7199c0802150229s71365289je79c203f53f8776d@mail.gmail.com>
Message-ID: <e579e76c0802150609j4b16b04g8749bda84511d19c@mail.gmail.com>

2008/2/15, Martin Dobias <wonder.sk@gmail.com>:
> On Wed, Feb 13, 2008 at 3:24 PM, Bud P. Bruegger <bud@comune.grosseto.it> wrote:
>  >  I am looking into the possibility of custom attribute editing, i.e.,
> >
>  >  So my questions are:
>  >  * is this feasible?
>
>
> Yes, I think so. If I understand correctly what you want is to show a
>  dialog for a feature which will show the fields with according
>  (customized) editing widgets.
>  With Qt there's no problem to create dialogs on the fly, for example
>  in GRASS plugin QGIS shows forms for GRASS modules in such way - the
>  definition of the form is always stored in an XML file which is read
>  and the form is created accordingly.
>
>
>  >  * is this something a python programmer without GUI experience can do
>  >  (i.e., I)?
>


Hi, if I understand correctly, you are saying that it is possible
right now to substitute the default attribute editing window (that
contains a simple table) whit a custom one written in pyQT, if yes,
how?

Typical use case 1: a user inserts a new postgis feature and a causotm
editing form is displayed instead of the default one
use case 2: using the identify tool on a postgis layer feature, to
display a custom form into which the user can view/edit the
attributes.


It would be really great if it were already possible.

Regards.

-- 
Alessandro Pasotti
w3:   www.itopen.it
From wonder.sk at gmail.com  Fri Feb 15 13:32:33 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri Feb 15 13:32:35 2008
Subject: [Qgis-developer] custom attribute inserting/editing
In-Reply-To: <e579e76c0802150609j4b16b04g8749bda84511d19c@mail.gmail.com>
References: <20080213152418.35c29b2e.bud@comune.grosseto.it>
	<e8e7199c0802150229s71365289je79c203f53f8776d@mail.gmail.com>
	<e579e76c0802150609j4b16b04g8749bda84511d19c@mail.gmail.com>
Message-ID: <e8e7199c0802151032g46cf35dco1669509a1407a6e7@mail.gmail.com>

On Fri, Feb 15, 2008 at 3:09 PM, Alessandro Pasotti <apasotti@gmail.com> wrote:
> 2008/2/15, Martin Dobias <wonder.sk@gmail.com>:
>
> > On Wed, Feb 13, 2008 at 3:24 PM, Bud P. Bruegger <bud@comune.grosseto.it> wrote:
>  >  >  I am looking into the possibility of custom attribute editing, i.e.,
>  > >
>
> >  >  So my questions are:
>  >  >  * is this feasible?
>  >
>  >
>  > Yes, I think so. If I understand correctly what you want is to show a
>  >  dialog for a feature which will show the fields with according
>  >  (customized) editing widgets.
>  >  With Qt there's no problem to create dialogs on the fly, for example
>  >  in GRASS plugin QGIS shows forms for GRASS modules in such way - the
>  >  definition of the form is always stored in an XML file which is read
>  >  and the form is created accordingly.
>  >
>  >
>  >  >  * is this something a python programmer without GUI experience can do
>  >  >  (i.e., I)?
>  >
>
>
>  Hi, if I understand correctly, you are saying that it is possible
>  right now to substitute the default attribute editing window (that
>  contains a simple table) whit a custom one written in pyQT, if yes,
>  how?
>
>  Typical use case 1: a user inserts a new postgis feature and a causotm
>  editing form is displayed instead of the default one
>  use case 2: using the identify tool on a postgis layer feature, to
>  display a custom form into which the user can view/edit the
>  attributes.

No, you can't substitute it with default attribute editing window,
however you can (relatively easily) create your own map tool which
will open your custom dialog.

Btw. I'll be offline for about a week from now, so don't feel offended
if I'm not responding :-)

Martin
From marco.hugentobler at karto.baug.ethz.ch  Sat Feb 16 02:34:09 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Sat Feb 16 02:33:52 2008
Subject: [Qgis-developer] GDAL/OGR C API Port
In-Reply-To: <47B6559A.5070307@pobox.com>
References: <47B6559A.5070307@pobox.com>
Message-ID: <200802160834.09912.marco.hugentobler@karto.baug.ethz.ch>

Hi Frank,

Many thanks for doing the C++ -> C-api port!
My suggestion is that we should wait one or two weeks to give developers the 
possibility to test.
 
http://wiki.qgis.org/qgiswiki/DevelopersManual#head-a09fe76302fc8576558e3e2b3f206165f1b0302c 
describes the procedure for merging branches. It's also written that binary 
packages should be built to let non-developers test. Tim, is it possible for 
the release team to make binary builds or do you think that this would be 
overkill in this case? 

Regards,
Marco

Am Samstag 16 Februar 2008 04:16:42 schrieb Frank Warmerdam:
> Folks,
>
> I believe I have completed the port of QGIS to the GDAL/OGR C API in
> the gdalogr-capi-branch.  Due to limited familiarity with QGIS it is hard
> for me to be sure things are working right.  I've loaded some raster and
> vector data through GDAL and OGR in QGIS and it seems to work ok.
>
> Is there a regression test suite that will meaningfully help for this?
>
> How/when do I get the changes ported back into trunk?
>
> Best regards,



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From marco.hugentobler at karto.baug.ethz.ch  Sat Feb 16 02:54:15 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Sat Feb 16 02:53:58 2008
Subject: [Qgis-developer] patch to draw selected features on top
In-Reply-To: <47B4449E.4030700@media.mit.edu>
References: <47B4449E.4030700@media.mit.edu>
Message-ID: <200802160854.15181.marco.hugentobler@karto.baug.ethz.ch>

Hi Stefanie,

Thanks for sending this patch. I think it is good to know about modifications 
people make to the code, even if not all of them can go to svn. 

In this particular case, my suggestion is to not apply it to svn. As you 
mention, selected features are drawn twice. Ok, it would be possible to skip 
them in the first drawing loop. But even then getFeatureAtId is not very fast 
for data providers that don't provide fast random access (e.g. gpx, delimited 
text, wfs).

Regards,
Marco

Am Donnerstag 14 Februar 2008 14:39:42 schrieb Stefanie Tellex:
> Hi,
>
> I wanted to draw selected features on top so you can clearly see them
> when they're selected, rather than being obscured by other features that
> happen to come out first in the database.
>
> The patch works by adding an extra draw for selected features, after the
> normal draw.  I did it that way because the normal draw was doing
> various event handling stuff that I didn't want to break, and I'm
> ignorant of the performance ramifications so I didn't want to try
> something more elegant like making a list of all the feature ids and
> then loading each one instead of doing a cursor and a group select as it
> does now.
>
> I'm not sure you'll be interested in this patch at all, but I find it
> very useful.
>
>
> Tim, I've always been attaching my patches as a file rather than
> inlining them.  I use thunderbird... maybe it's messing up somehow?
> This time I both attached it as a file and inlined it at the end of this
> email.  I'm also mailing you directly, in addition to mailing the list,
> to see if any of that helps.
>
> Stefanie
>
>
> Index: src/core/qgsvectorlayer.cpp
> ===================================================================
> --- src/core/qgsvectorlayer.cpp	(revision 8155)
> +++ src/core/qgsvectorlayer.cpp	(working copy)
> @@ -859,7 +859,15 @@
>             drawFeature(p,*it,theMapToPixelTransform,ct, &marker,scale,
> drawingToEditingCanvas);
>           }
>         }
> +      for(QgsFeatureIds::iterator iter = mSelectedFeatureIds.begin();
> iter != mSelectedFeatureIds.end(); ++iter)
> +	{
> +	  mDataProvider->getFeatureAtId(*iter, fet);
> +	  mRenderer->renderFeature(p,fet, &marker, &markerScaleFactor, TRUE,
> widthScale );
> +	  double scale = symbolScale / markerScaleFactor;
> +	  drawFeature(p,fet,theMapToPixelTransform,ct, &marker, scale,
> drawingToEditingCanvas);
>
> +	}
> +
>       }
>       catch (QgsCsException &cse)
>       {



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From warmerdam at pobox.com  Sat Feb 16 10:46:22 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Feb 16 10:46:46 2008
Subject: [Qgis-developer] GDAL/OGR C API Port
In-Reply-To: <200802160834.09912.marco.hugentobler@karto.baug.ethz.ch>
References: <47B6559A.5070307@pobox.com>
	<200802160834.09912.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47B7054E.80300@pobox.com>

Marco Hugentobler wrote:
> Hi Frank,
> 
> Many thanks for doing the C++ -> C-api port!
> My suggestion is that we should wait one or two weeks to give developers the 
> possibility to test.

Marco,

Sounds good.  I'll also try to merge any work in trunk since I split off the
branch earlier this week into my branch.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From tim at linfiniti.com  Sun Feb 17 14:48:05 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Feb 17 14:48:07 2008
Subject: [Qgis-developer] GDAL/OGR C API Port
In-Reply-To: <47B7054E.80300@pobox.com>
References: <47B6559A.5070307@pobox.com>
	<200802160834.09912.marco.hugentobler@karto.baug.ethz.ch>
	<47B7054E.80300@pobox.com>
Message-ID: <d368056f0802171148j29e2d163y1288a789f12dbee2@mail.gmail.com>

Hi

Yes I can make at least ubuntu gutsy debs for testing and probably win
MSVC build (sans grass and python) installer.

One concern I have is that people reintroduce c++ calls later and undo
Franks good work. I wonder if its possible via cmake to restrict the
build to use only the C api?

We do have some tests for raster which I will run on the branch, but
vector testing is still a twinkle in my eye (new contributions to test
framework are always welcomed if anyone out there feels like
contributing).

Regards

Tim

2008/2/16, Frank Warmerdam <warmerdam@pobox.com>:
> Marco Hugentobler wrote:
> > Hi Frank,
> >
> > Many thanks for doing the C++ -> C-api port!
> > My suggestion is that we should wait one or two weeks to give developers the
> > possibility to test.
>
> Marco,
>
> Sounds good.  I'll also try to merge any work in trunk since I split off the
> branch earlier this week into my branch.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From nleverin at gmail.com  Sun Feb 17 19:14:42 2008
From: nleverin at gmail.com (nathan leverington)
Date: Sun Feb 17 19:14:45 2008
Subject: [Qgis-developer] Adding Attributes to Vector Layor (QGIS 0.9.1)
Message-ID: <163a16b20802171614x6cc8ce75tde041886d0e55c73@mail.gmail.com>

Hi all,

Im new qgis and gis in general so sorry for the newbie question.

im currently having a problem with adding attributes to the vector layor.

Im using qgis 0.9.1 development libraries and creating my own application
using Open Suse 10.3.  I was following Tim Sutton tutorial 6 to implement
this but have noticed that QgsFeatureAttribute class has been removed from
the 0.9.1 release.

I have changed the the tutorial code:

*    while ((mypFeature = mypProvider->getNextFeature**(true)))
    {
      //get the attributes of this feature
      const std::vector < QgsFeatureAttribute >& myAttributes =
mypFeature->attributeMap();

      for (int i = 0; i < myAttributes.size(); i++)*


with the following:

*    //now iterate through each feature
    while (mypProvider->getNextFeature(mypFeature))
    {
      //get the attributes of this feature
      // const std::vector < QgsFeatureAttribute >& myAttributes =
mypFeature->attributeMap();
      const QgsAttributeMap& myAttributes = mypFeature.attributeMap();

      if( myAttributes.isEmpty() ) cout << "attribute map is empty " <<
endl;*


Iv tried replacing the  QgsFeatureAttribute with the QgsAttributeMap, but
when calling the attributeMap() function i do not seem to be pulling in the
attribute data.

Is this a problem with the shapefile datastore.  (i.e. i am using the same
source shapefile data that was used for Tim's tutorial 6)

thanks in advance,

nlev.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080218/75a1a748/attachment.html
From warmerdam at pobox.com  Sun Feb 17 23:54:14 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Feb 17 23:54:37 2008
Subject: [Qgis-developer] GDAL/OGR C API Port
In-Reply-To: <d368056f0802171148j29e2d163y1288a789f12dbee2@mail.gmail.com>
References: <47B6559A.5070307@pobox.com>
	<200802160834.09912.marco.hugentobler@karto.baug.ethz.ch>
	<47B7054E.80300@pobox.com>
	<d368056f0802171148j29e2d163y1288a789f12dbee2@mail.gmail.com>
Message-ID: <47B90F76.5060405@pobox.com>

Tim Sutton wrote:
> Hi
> 
> Yes I can make at least ubuntu gutsy debs for testing and probably win
> MSVC build (sans grass and python) installer.
> 
> One concern I have is that people reintroduce c++ calls later and undo
> Franks good work. I wonder if its possible via cmake to restrict the
> build to use only the C api?

Tim,

I have stripped out use of the C++ include files, so adding calls
to the C++ API will require adding new #includes, not just an
inadvertent method call or anything like that.

It is also reasonable easy to verify by doing grepping the "nm"
output all all the .so files for OGR, GDAL and CPL.  If only the
C API all that should show up in nice undecorated function names.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From john.tull at wildnevada.org  Mon Feb 18 12:22:22 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Mon Feb 18 12:22:28 2008
Subject: [Qgis-developer] Python Geprocessing Plugin
In-Reply-To: <14972779.261203244254762.JavaMail.root@srsofaioi11506.ktso.ch>
References: <14972779.261203244254762.JavaMail.root@srsofaioi11506.ktso.ch>
Message-ID: <F006BC8D-3F4F-492D-9CC7-07C49E44DAAC@wildnevada.org>

D?ster,

Great work. I will certainly be testing and using this plugin. Thanks  
for the coding effort!

John

On Feb 17, 2008, at 2:30 AM, D?ster Horst wrote:

> A new Geoprocressing Python plugin is available in the Python Plugin  
> Repository.
>
> http://spatialserver.net:3001
>
>
> This plugin  is under developement and offers vector analysis  
> functions for ogr and postgis vector data.
>
> The following functions are available:
>  - Buffer
>  - Convex Hull
>  - Difference A - B
>  - Dissolve
>  - Intersection
>
> under developement:
>  - SymDifference
>  - Union
>
>
> The plugin needs QGIS Rev. 8153 or higher!
>
> The plugin uses the GEOS library. I recommend the use of GEOS-3.0.0.
>
> Unfortunately there are some issues with GEOS. In some cases GEOS  
> throws topology exceptions when you try to dissolve large datasets  
> => QGIS crashes.
>
> I hope that this plugin can be helpful for you and I look forward  
> for your comments and ideas.
>
> Regards
> Horst
>
>
>
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

From marco.hugentobler at karto.baug.ethz.ch  Tue Feb 19 04:01:49 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Tue Feb 19 04:01:35 2008
Subject: [Qgis-developer] compiling GDAL/OGR C API Port
In-Reply-To: <47B90F76.5060405@pobox.com>
References: <47B6559A.5070307@pobox.com>
	<d368056f0802171148j29e2d163y1288a789f12dbee2@mail.gmail.com>
	<47B90F76.5060405@pobox.com>
Message-ID: <200802191001.49908.marco.hugentobler@karto.baug.ethz.ch>


Hi,

I compiled the qgis_gdal_c branch and noticed there are some compiler errors 
with debug enabled. All related to sections that print out some debugging 
messages to the console. Here my compiler output:

/home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp: In static 
member function ?static void 
QgsRasterLayer::buildSupportedRasterFileFilter(QString&)?:
/home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp:174: 
Fehler: ?void*? ist kein Zeiger auf Objekt
/home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp: In member 
function ?const QgsRasterBandStats QgsRasterLayer::getRasterBandStats(int)?:
/home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp:2496: 
Fehler: ?void*? ist kein Zeiger auf Objekt
/home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp:2503: 
Fehler: ?void*? ist kein Zeiger auf Objekt
/home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp:2510: 
Fehler: ?void*? ist kein Zeiger auf Objekt
make[2]: *** [src/core/CMakeFiles/qgis_core.dir/raster/qgsrasterlayer.o] 
Fehler 1

Regards,
Marco

Am Montag 18 Februar 2008 05:54:14 schrieb Frank Warmerdam:
> Tim Sutton wrote:
> > Hi
> >
> > Yes I can make at least ubuntu gutsy debs for testing and probably win
> > MSVC build (sans grass and python) installer.
> >
> > One concern I have is that people reintroduce c++ calls later and undo
> > Franks good work. I wonder if its possible via cmake to restrict the
> > build to use only the C api?
>
> Tim,
>
> I have stripped out use of the C++ include files, so adding calls
> to the C++ API will require adding new #includes, not just an
> inadvertent method call or anything like that.
>
> It is also reasonable easy to verify by doing grepping the "nm"
> output all all the .so files for OGR, GDAL and CPL.  If only the
> C API all that should show up in nice undecorated function names.
>
> Best regards,



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From marco.hugentobler at karto.baug.ethz.ch  Tue Feb 19 05:04:14 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Tue Feb 19 05:05:00 2008
Subject: [Qgis-developer] compiling GDAL/OGR C API Port
In-Reply-To: <200802191001.49908.marco.hugentobler@karto.baug.ethz.ch>
References: <47B6559A.5070307@pobox.com> <47B90F76.5060405@pobox.com>
	<200802191001.49908.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <200802191104.14984.marco.hugentobler@karto.baug.ethz.ch>

Hi,

In general, the branch works fine for me.

I noticed one problem when I tried to create a new vector layer (Layer -> New 
Vector Layer). QGIS crashed with the following backtrace:

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread -1268041520 (LWP 30535)]
0xb6356ac9 in strcasecmp () from /lib/tls/i686/cmov/libc.so.6
(gdb) bt
#0  0xb6356ac9 in strcasecmp () from /lib/tls/i686/cmov/libc.so.6
#1  0xb68a297e in OGRSpatialReference::CopyGeogCSFrom () 
from /usr/lib/libgdal1.4.0.so.1
#2  0xb68a335a in OGRSpatialReference::SetWellKnownGeogCS () 
from /usr/lib/libgdal1.4.0.so.1
#3  0xb68aee69 in OGRSpatialReference::importFromProj4 () 
from /usr/lib/libgdal1.4.0.so.1
#4  0xb68b1224 in OSRImportFromProj4 () from /usr/lib/libgdal1.4.0.so.1
#5  0xb6eaef12 in QgsSpatialRefSys::toWkt (this=0xbfc1a9c8) 
at /home/marco/src/qgis_gdal_c/src/core/qgsspatialrefsys.cpp:1152
#6  0xb27b2a2f in createEmptyDataSource (uri=@0xbfc1ab48, format=@0xbfc1ab50, 
encoding=@0xbfc1ab4c, vectortype=QGis::WKBPolygon, attributes=@0xbfc1ab2c)
    at /home/marco/src/qgis_gdal_c/src/providers/ogr/qgsogrprovider.cpp:1141
#7  0x0810a7ce in QgisApp::newVectorLayer (this=0x83a2900) 
at /home/marco/src/qgis_gdal_c/src/app/qgisapp.cpp:2640
#8  0x082a30f9 in QgisApp::qt_metacall (this=0x83a2900, 
_c=QMetaObject::InvokeMetaMethod, _id=36, _a=0xbfc1b17c) 
at /home/marco/src/qgis_gdal_c/build/src/app/moc_qgisapp.cxx:281
#9  0xb7106c04 in QMetaObject::activate () from /usr/lib/libQtCore.so.4
#10 0xb7106e00 in QMetaObject::activate () from /usr/lib/libQtCore.so.4
#11 0xb7592878 in QAction::triggered () from /usr/lib/libQtGui.so.4
#12 0xb75945e6 in QAction::activate () from /usr/lib/libQtGui.so.4
#13 0xb797fabf in ?? () from /usr/lib/libQtGui.so.4
#14 0x085d0028 in ?? ()
#15 0x00000000 in ?? ()
(gdb)       

Thanks,
Marco                  

Am Dienstag 19 Februar 2008 10:01:49 schrieb Marco Hugentobler:
> Hi,
>
> I compiled the qgis_gdal_c branch and noticed there are some compiler
> errors with debug enabled. All related to sections that print out some
> debugging messages to the console. Here my compiler output:
>
> /home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp: In static
> member function ?static void
> QgsRasterLayer::buildSupportedRasterFileFilter(QString&)?:
> /home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp:174:
> Fehler: ?void*? ist kein Zeiger auf Objekt
> /home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp: In member
> function ?const QgsRasterBandStats
> QgsRasterLayer::getRasterBandStats(int)?:
> /home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp:2496:
> Fehler: ?void*? ist kein Zeiger auf Objekt
> /home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp:2503:
> Fehler: ?void*? ist kein Zeiger auf Objekt
> /home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp:2510:
> Fehler: ?void*? ist kein Zeiger auf Objekt
> make[2]: *** [src/core/CMakeFiles/qgis_core.dir/raster/qgsrasterlayer.o]
> Fehler 1
>
> Regards,
> Marco
>
> Am Montag 18 Februar 2008 05:54:14 schrieb Frank Warmerdam:
> > Tim Sutton wrote:
> > > Hi
> > >
> > > Yes I can make at least ubuntu gutsy debs for testing and probably win
> > > MSVC build (sans grass and python) installer.
> > >
> > > One concern I have is that people reintroduce c++ calls later and undo
> > > Franks good work. I wonder if its possible via cmake to restrict the
> > > build to use only the C api?
> >
> > Tim,
> >
> > I have stripped out use of the C++ include files, so adding calls
> > to the C++ API will require adding new #includes, not just an
> > inadvertent method call or anything like that.
> >
> > It is also reasonable easy to verify by doing grepping the "nm"
> > output all all the .so files for OGR, GDAL and CPL.  If only the
> > C API all that should show up in nice undecorated function names.
> >
> > Best regards,



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From warmerdam at pobox.com  Tue Feb 19 08:17:54 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Feb 19 08:18:13 2008
Subject: [Qgis-developer] compiling GDAL/OGR C API Port
In-Reply-To: <200802191104.14984.marco.hugentobler@karto.baug.ethz.ch>
References: <47B6559A.5070307@pobox.com> <47B90F76.5060405@pobox.com>
	<200802191001.49908.marco.hugentobler@karto.baug.ethz.ch>
	<200802191104.14984.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47BAD702.7060904@pobox.com>

Marco Hugentobler wrote:
> Hi,
> 
> In general, the branch works fine for me.
> 
> I noticed one problem when I tried to create a new vector layer (Layer -> New 
> Vector Layer). QGIS crashed with the following backtrace:

Marco,

I have confirmed this at my end and am investigating.

Thanks!
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Feb 19 09:48:47 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Feb 19 09:49:08 2008
Subject: [Qgis-developer] Re: compiling GDAL/OGR C API Port
In-Reply-To: <200802191001.49908.marco.hugentobler@karto.baug.ethz.ch>
References: <47B6559A.5070307@pobox.com>
	<d368056f0802171148j29e2d163y1288a789f12dbee2@mail.gmail.com>
	<47B90F76.5060405@pobox.com>
	<200802191001.49908.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47BAEC4F.9040502@pobox.com>

Marco Hugentobler wrote:
> Hi,
> 
> I compiled the qgis_gdal_c branch and noticed there are some compiler errors 
> with debug enabled. All related to sections that print out some debugging 
> messages to the console. Here my compiler output:
> 
> /home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp: In static 
> member function ?static void 
> QgsRasterLayer::buildSupportedRasterFileFilter(QString&)?:
> /home/marco/src/qgis_gdal_c/src/core/raster/qgsrasterlayer.cpp:174: 
> Fehler: ?void*? ist kein Zeiger auf Objekt

Marco,

I have corrected this problems (missed in my port since I didn't build with
Debug), and also the crash you reported in the other message.  Both fixes are
in svn in the branch if you are interested in trying again.

Thank you very much for your help.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From john.tull at wildnevada.org  Tue Feb 19 12:03:43 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Tue Feb 19 12:03:51 2008
Subject: AW: Re: [Qgis-developer] Python Geprocessing Plugin
In-Reply-To: <H00002eb024635e2.1203405098.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb024635e2.1203405098.srsofaioi6145.ktso.ch@MHS>
Message-ID: <348EDFD4-4228-4867-A905-FBBB03EAE6D6@wildnevada.org>

Here is a debug message from trying out the plugin in a debug build  
with two shapefiles:

2/19/08 8:59:43 AM [0x0-0x13d13d].org.qgis.qgis[93141] An error has  
occured while executing Python code:

Traceback (most recent call last):
	File "/Users/jctull/.qgis//python/plugins/geoprocessing/ 
geoprocessing.py", line 187, in manageGui
		myListA = self.getLayerNames("all")
	File "/Users/jctull/.qgis//python/plugins/geoprocessing/ 
geoprocessing.py", line 424, in getLayerNames
		if layer.type() == QgsMapLayer.VECTOR and layer.vectorType() >=  
myType and not layer.name() in layerNamesList:
AttributeError: 'NoneType' object has no attribute 'type'


On Feb 18, 2008, at 11:11 PM, D?ster Horst wrote:

> John,
>
> I can't test your point 2 due to missing access to a Mac Box.  
> Perhaps someone else can take a look at John's porblem?
>
> Regards
> Horst
>
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch
>
> -----Urspr?ngliche Nachricht-----
> Von: John C. Tull [mailto:john.tull@wildnevada.org]
> Gesendet am: Montag, 18. Februar 2008 21:29
> An: D?ster Horst
> Cc: qgis-developer@qgis.org; qgis-user
> Betreff: Re: [Qgis-developer] Python Geprocessing Plugin
>
> Horst,
>
> The first problem below was resolved by Gary Sherman. I had an older
> version of the Plugin Installer in the plugin folder. Removing that
> allowed the built-in installer plugin to run, and that fixed the
> permissions problem.
>
> Still no luck with problem 2 at this point. I tried on my ubuntu vm
> and the menu worked as expected, so this may be a mac-specific issue.
>
> Cheers,
> John
>
> On Feb 18, 2008, at 11:24 AM, John C. Tull wrote:
>
> > Horst,
> >
> > I tried on OS X. Here are my observations and issues so far:
> >
> > 1) The installer does not work. I get a permissions error when
> > trying to use the python installer. Manual installation works ok.
> >
> > 2) When I run the plugin in a project with available vectors, the
> > drop-down menu for selecting a vector to geoprocess does not
> > populate with anything. So I am unable to perform any geoprocessing
> > because there are not vectors available to work on in the gui.
> >
> > Because of problem 2), I am unable to get very far in testing this.
> > I will be around on the irc channel today and off-and-on this week
> > if you want to try and work out some things online.
> >
> > Thanks,
> > John
> >
> > On Feb 17, 2008, at 2:30 AM, D?ster Horst wrote:
> >
> >> A new Geoprocressing Python plugin is available in the Python
> >> Plugin Repository.
> >>
> >> http://spatialserver.net:3001
> >>
> >>
> >> This plugin is under developement and offers vector analysis
> >> functions for ogr and postgis vector data.
> >>
> >> The following functions are available:
> >> - Buffer
> >> - Convex Hull
> >> - Difference A - B
> >> - Dissolve
> >> - Intersection
> >>
> >> under developement:
> >> - SymDifference
> >> - Union
> >>
> >>
> >> The plugin needs QGIS Rev. 8153 or higher!
> >>
> >> The plugin uses the GEOS library. I recommend the use of  
> GEOS-3.0.0.
> >>
> >> Unfortunately there are some issues with GEOS. In some cases GEOS
> >> throws topology exceptions when you try to dissolve large datasets
> >> => QGIS crashes.
> >>
> >> I hope that this plugin can be helpful for you and I look forward
> >> for your comments and ideas.
> >>
> >> Regards
> >> Horst
> >>
> >>
> >>
> >> ------------------------------------------------
> >>
> >> Dr. Horst D?ster
> >> GIS-Koordinator, Stv. Amtschef
> >>
> >> Kanton Solothurn
> >> Bau- und Justizdepartement
> >> Amt f?r Geoinformation
> >> SO!GIS Koordination
> >> R?tistrasse 4
> >> CH-4501 Solothurn
> >>
> >> Telefon ++41(0)32 627 25 32
> >> Telefax ++41(0)32 627 22 14
> >>
> >> mailto:horst.duester@bd.so.ch
> >> http://www.agi.so.ch
> >> _______________________________________________
> >> Qgis-developer mailing list
> >> Qgis-developer@lists.qgis.org
> >> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> >

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080219/2e75b4ae/attachment.html
From Horst.Duester at bd.so.ch  Wed Feb 20 02:15:02 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Wed Feb 20 02:15:37 2008
Subject: AW: Re: AW: Re: [Qgis-developer] Python Geprocessing Plugin
Message-ID: <H00002eb02482207.1203491701.srsofaioi6145.ktso.ch@MHS>

mmmm....
 
Which Revision of QGIS do you use?
 
Horst
 

------------------------------------------------ 

Dr. Horst D?ster 
GIS-Koordinator, Stv. Amtschef 

Kanton Solothurn 
Bau- und Justizdepartement 
Amt f?r Geoinformation 
SO!GIS Koordination 
R?tistrasse 4 
CH-4501 Solothurn 

Telefon ++41(0)32 627 25 32 
Telefax ++41(0)32 627 22 14 

mailto:horst.duester@bd.so.ch 
http://www.agi.so.ch 

 

   -----Urspr?ngliche Nachricht-----
   Von: John C. Tull [mailto:john.tull@wildnevada.org]
   Gesendet am: Dienstag, 19. Februar 2008 18:04
   An: D?ster Horst
   Cc: qgis-developer@lists.osgeo.org
   Betreff: Re: AW: Re: [Qgis-developer] Python Geprocessing Plugin
   

   Here is a debug message from trying out the plugin in a debug build
   with two shapefiles:


   2/19/08 8:59:43 AM [0x0-0x13d13d].org.qgis.qgis[93141] An error has
   occured while executing Python code:

   Traceback (most recent call last):
   File
   "/Users/jctull/.qgis//python/plugins/geoprocessing/geoprocessing.py",
   line 187, in manageGui
   myListA = self.getLayerNames("all")
   File
   "/Users/jctull/.qgis//python/plugins/geoprocessing/geoprocessing.py",
   line 424, in getLayerNames
   if layer.type() == QgsMapLayer.VECTOR and layer.vectorType() >=
   myType and not layer.name() in layerNamesList:
   AttributeError: 'NoneType' object has no attribute 'type'


   On Feb 18, 2008, at 11:11 PM, D?ster Horst wrote:


      
      John,

      I can't test your point 2 due to missing access to a Mac Box.
      Perhaps someone else can take a look at John's porblem?

      Regards 
      Horst

      ------------------------------------------------

      Dr. Horst D?ster
      GIS-Koordinator, Stv. Amtschef

      Kanton Solothurn
      Bau- und Justizdepartement
      Amt f?r Geoinformation
      SO!GIS Koordination
      R?tistrasse 4
      CH-4501 Solothurn

      Telefon ++41(0)32 627 25 32
      Telefax ++41(0)32 627 22 14

      mailto:horst.duester@bd.so.ch
      http://www.agi.so.ch

      -----Urspr?ngliche Nachricht-----
      Von: John C. Tull [ mailto:john.tull@wildnevada.org]
      Gesendet am: Montag, 18. Februar 2008 21:29
      An: D?ster Horst
      Cc:  qgis-developer@qgis.org; qgis-user
      Betreff: Re: [Qgis-developer] Python Geprocessing Plugin

      Horst,

      The first problem below was resolved by Gary Sherman. I had an
      older 
      version of the Plugin Installer in the plugin folder. Removing
      that 
      allowed the built-in installer plugin to run, and that fixed the 
      permissions problem.

      Still no luck with problem 2 at this point. I tried on my ubuntu
      vm 
      and the menu worked as expected, so this may be a mac-specific
      issue.

      Cheers,
      John

      On Feb 18, 2008, at 11:24 AM, John C. Tull wrote:

      > Horst,
      >
      > I tried on OS X. Here are my observations and issues so far:
      >
      > 1) The installer does not work. I get a permissions error when 
      > trying to use the python installer. Manual installation works
      ok.
      >
      > 2) When I run the plugin in a project with available vectors,
      the 
      > drop-down menu for selecting a vector to geoprocess does not 
      > populate with anything. So I am unable to perform any
      geoprocessing 
      > because there are not vectors available to work on in the gui.
      >
      > Because of problem 2), I am unable to get very far in testing
      this. 
      > I will be around on the irc channel today and off-and-on this
      week 
      > if you want to try and work out some things online.
      >
      > Thanks,
      > John
      >
      > On Feb 17, 2008, at 2:30 AM, D?ster Horst wrote:
      >
      >> A new Geoprocressing Python plugin is available in the Python 
      >> Plugin Repository.
      >>
      >>  http://spatialserver.net:3001
      >>
      >>
      >> This plugin is under developement and offers vector analysis 
      >> functions for ogr and postgis vector data.
      >>
      >> The following functions are available:
      >> - Buffer
      >> - Convex Hull
      >> - Difference A - B
      >> - Dissolve
      >> - Intersection
      >>
      >> under developement:
      >> - SymDifference
      >> - Union
      >>
      >>
      >> The plugin needs QGIS Rev. 8153 or higher!
      >>
      >> The plugin uses the GEOS library. I recommend the use of
      GEOS-3.0.0.
      >>
      >> Unfortunately there are some issues with GEOS. In some cases
      GEOS 
      >> throws topology exceptions when you try to dissolve large
      datasets 
      >> => QGIS crashes.
      >>
      >> I hope that this plugin can be helpful for you and I look
      forward 
      >> for your comments and ideas.
      >>
      >> Regards
      >> Horst
      >>
      >>
      >>
      >> ------------------------------------------------
      >>
      >> Dr. Horst D?ster
      >> GIS-Koordinator, Stv. Amtschef
      >>
      >> Kanton Solothurn
      >> Bau- und Justizdepartement
      >> Amt f?r Geoinformation
      >> SO!GIS Koordination
      >> R?tistrasse 4
      >> CH-4501 Solothurn
      >>
      >> Telefon ++41(0)32 627 25 32
      >> Telefax ++41(0)32 627 22 14
      >>
      >>  mailto:horst.duester@bd.so.ch
      >>  http://www.agi.so.ch
      >> _______________________________________________
      >> Qgis-developer mailing list
      >>  Qgis-developer@lists.qgis.org
      >>  http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
      >


   


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080220/823edf1e/attachment-0001.html
From john.tull at wildnevada.org  Thu Feb 21 00:12:00 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Thu Feb 21 00:12:06 2008
Subject: AW: Re: AW: Re: [Qgis-developer] Python Geprocessing Plugin
In-Reply-To: <H00002eb02482207.1203491701.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb02482207.1203491701.srsofaioi6145.ktso.ch@MHS>
Message-ID: <72DF8E44-DFC7-47AD-83FF-A53B9E888D03@wildnevada.org>

Horst,

That was built from svn 8169.

John

On Feb 19, 2008, at 11:15 PM, D?ster Horst wrote:

> mmmm....
>
> Which Revision of QGIS do you use?
>
> Horst
>
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch
>
>
> -----Urspr?ngliche Nachricht-----
> Von: John C. Tull [mailto:john.tull@wildnevada.org]
> Gesendet am: Dienstag, 19. Februar 2008 18:04
> An: D?ster Horst
> Cc: qgis-developer@lists.osgeo.org
> Betreff: Re: AW: Re: [Qgis-developer] Python Geprocessing Plugin
> Here is a debug message from trying out the plugin in a debug build  
> with two shapefiles:
>
>
> 2/19/08 8:59:43 AM [0x0-0x13d13d].org.qgis.qgis[93141] An error has  
> occured while executing Python code:
>
> Traceback (most recent call last):
> File "/Users/jctull/.qgis//python/plugins/geoprocessing/ 
> geoprocessing.py", line 187, in manageGui
> myListA = self.getLayerNames("all")
> File "/Users/jctull/.qgis//python/plugins/geoprocessing/ 
> geoprocessing.py", line 424, in getLayerNames
> if layer.type() == QgsMapLayer.VECTOR and layer.vectorType() >=  
> myType and not layer.name() in layerNamesList:
> AttributeError: 'NoneType' object has no attribute 'type'
>
>
> On Feb 18, 2008, at 11:11 PM, D?ster Horst wrote:
>
>> John,
>>
>> I can't test your point 2 due to missing access to a Mac Box.  
>> Perhaps someone else can take a look at John's porblem?
>>
>> Regards
>> Horst
>>
>> ------------------------------------------------
>>
>> Dr. Horst D?ster
>> GIS-Koordinator, Stv. Amtschef
>>
>> Kanton Solothurn
>> Bau- und Justizdepartement
>> Amt f?r Geoinformation
>> SO!GIS Koordination
>> R?tistrasse 4
>> CH-4501 Solothurn
>>
>> Telefon ++41(0)32 627 25 32
>> Telefax ++41(0)32 627 22 14
>>
>> mailto:horst.duester@bd.so.ch
>> http://www.agi.so.ch
>>
>> -----Urspr?ngliche Nachricht-----
>> Von: John C. Tull [mailto:john.tull@wildnevada.org]
>> Gesendet am: Montag, 18. Februar 2008 21:29
>> An: D?ster Horst
>> Cc: qgis-developer@qgis.org; qgis-user
>> Betreff: Re: [Qgis-developer] Python Geprocessing Plugin
>>
>> Horst,
>>
>> The first problem below was resolved by Gary Sherman. I had an older
>> version of the Plugin Installer in the plugin folder. Removing that
>> allowed the built-in installer plugin to run, and that fixed the
>> permissions problem.
>>
>> Still no luck with problem 2 at this point. I tried on my ubuntu vm
>> and the menu worked as expected, so this may be a mac-specific issue.
>>
>> Cheers,
>> John
>>
>> On Feb 18, 2008, at 11:24 AM, John C. Tull wrote:
>>
>> > Horst,
>> >
>> > I tried on OS X. Here are my observations and issues so far:
>> >
>> > 1) The installer does not work. I get a permissions error when
>> > trying to use the python installer. Manual installation works ok.
>> >
>> > 2) When I run the plugin in a project with available vectors, the
>> > drop-down menu for selecting a vector to geoprocess does not
>> > populate with anything. So I am unable to perform any geoprocessing
>> > because there are not vectors available to work on in the gui.
>> >
>> > Because of problem 2), I am unable to get very far in testing this.
>> > I will be around on the irc channel today and off-and-on this week
>> > if you want to try and work out some things online.
>> >
>> > Thanks,
>> > John
>> >
>> > On Feb 17, 2008, at 2:30 AM, D?ster Horst wrote:
>> >
>> >> A new Geoprocressing Python plugin is available in the Python
>> >> Plugin Repository.
>> >>
>> >> http://spatialserver.net:3001
>> >>
>> >>
>> >> This plugin is under developement and offers vector analysis
>> >> functions for ogr and postgis vector data.
>> >>
>> >> The following functions are available:
>> >> - Buffer
>> >> - Convex Hull
>> >> - Difference A - B
>> >> - Dissolve
>> >> - Intersection
>> >>
>> >> under developement:
>> >> - SymDifference
>> >> - Union
>> >>
>> >>
>> >> The plugin needs QGIS Rev. 8153 or higher!
>> >>
>> >> The plugin uses the GEOS library. I recommend the use of  
>> GEOS-3.0.0.
>> >>
>> >> Unfortunately there are some issues with GEOS. In some cases GEOS
>> >> throws topology exceptions when you try to dissolve large datasets
>> >> => QGIS crashes.
>> >>
>> >> I hope that this plugin can be helpful for you and I look forward
>> >> for your comments and ideas.
>> >>
>> >> Regards
>> >> Horst
>> >>
>> >>
>> >>
>> >> ------------------------------------------------
>> >>
>> >> Dr. Horst D?ster
>> >> GIS-Koordinator, Stv. Amtschef
>> >>
>> >> Kanton Solothurn
>> >> Bau- und Justizdepartement
>> >> Amt f?r Geoinformation
>> >> SO!GIS Koordination
>> >> R?tistrasse 4
>> >> CH-4501 Solothurn
>> >>
>> >> Telefon ++41(0)32 627 25 32
>> >> Telefax ++41(0)32 627 22 14
>> >>
>> >> mailto:horst.duester@bd.so.ch
>> >> http://www.agi.so.ch
>> >> _______________________________________________
>> >> Qgis-developer mailing list
>> >> Qgis-developer@lists.qgis.org
>> >> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>> >
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080220/4d950dd5/attachment.html
From Horst.Duester at bd.so.ch  Thu Feb 21 03:06:49 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Thu Feb 21 03:06:56 2008
Subject: [Qgis-developer] Geoprocessing Plugin
Message-ID: <H00002eb024a3b61.1203581209.srsofaioi6145.ktso.ch@MHS>

I just published Rev. 0.13 of the Geoprocessing Plugin. With this
Revision in conjunction of QGIS Rev. 8171 the dissolve issues are
solved. Now QGIS shouldn't crash when GEOS throws topology exceptions.

Regards
Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080221/f8f952f7/attachment-0001.html
From Horst.Duester at bd.so.ch  Fri Feb 22 11:31:47 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Fri Feb 22 11:31:52 2008
Subject: [Qgis-developer] Geoprocessing V 0.3
Message-ID: <H00002eb024cf0fd.1203697906.srsofaioi6145.ktso.ch@MHS>

Today I made some enhancements of the Geoprocessing plugin:

- Dissolve or aggregate via dissolve Item is now available
- New Function Union to combine two Layer 


You can download it from the Python Plugin repository. 

http://spatialserver.net:3001/python_plugins/list


Best regards
Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080222/0e7d9b18/attachment.html
From cdavilam at jemila.jazztel.es  Fri Feb 22 12:21:35 2008
From: cdavilam at jemila.jazztel.es (=?ISO-8859-1?Q?Carlos_D=E1vila?=)
Date: Fri Feb 22 13:20:14 2008
Subject: [Qgis-developer] Geoprocessing V 0.3
In-Reply-To: <H00002eb024cf0fd.1203697906.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb024cf0fd.1203697906.srsofaioi6145.ktso.ch@MHS>
Message-ID: <47BF049F.1010702@jemila.jazztel.es>

D?ster Horst escribi?:
> Today I made some enhancements of the Geoprocessing plugin:
>
> - Dissolve or aggregate via dissolve Item is now available
> - New Function Union to combine two Layer
I downloaded and installed it, can use new functions, but plugin manager 
still shows version 0.1
Apart from this minor issue, it's a great plugin.
Greetings
Carlos
From nikos.alexandris at felis.uni-freiburg.de  Sun Feb 24 13:08:07 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Sun Feb 24 13:08:02 2008
Subject: [Qgis-developer] Just an idea about the layer checkbox "sensitivity"
Message-ID: <1203876487.28414.6.camel@vertical>

Dear developers,
        
using the latest version(s) of QGIS I 've noticed that enabling a layer
in the legend is "smoother" than it was in earlier versions. (Hope this
isn't my imagination!)
        
I kindly propose to have an even larger "activation" area when one
"checks" a layer box. Frankly speaking, why not almost matching the
"activation" area with the "checkbox". Whaa could be the negative
effects?
        
I am not a programmer and have no idea how this is implemented at all.
        
        
Thank you for your attention,
        
Nikos
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080224/94784c91/attachment.bin
From marco.hugentobler at karto.baug.ethz.ch  Tue Feb 26 08:45:01 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Tue Feb 26 08:43:58 2008
Subject: [Qgis-developer] GDAL/OGR C API Port
In-Reply-To: <47B6559A.5070307@pobox.com>
References: <47B6559A.5070307@pobox.com>
Message-ID: <200802261445.02149.marco.hugentobler@karto.baug.ethz.ch>

Hi Frank,

I'm using the gdalogr-capi-branch for quite some time now and it works 
perfectly. So my suggestion is that you go ahead and merge the branch to 
trunk if there is no objection on the devel list in the next two days.

cheers,
Marco

Am Samstag 16 Februar 2008 04:16:42 schrieb Frank Warmerdam:
> Folks,
>
> I believe I have completed the port of QGIS to the GDAL/OGR C API in
> the gdalogr-capi-branch.  Due to limited familiarity with QGIS it is hard
> for me to be sure things are working right.  I've loaded some raster and
> vector data through GDAL and OGR in QGIS and it seems to work ok.
>
> Is there a regression test suite that will meaningfully help for this?
>
> How/when do I get the changes ported back into trunk?
>
> Best regards,



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From cdavilam at jemila.jazztel.es  Tue Feb 26 12:55:11 2008
From: cdavilam at jemila.jazztel.es (=?ISO-8859-15?Q?Carlos_D=E1vila?=)
Date: Tue Feb 26 12:55:09 2008
Subject: [Qgis-developer] Problem with python bindings
Message-ID: <47C4527F.4020906@jemila.jazztel.es>

Hello all
Trying to install qgis from source I see 'python bindings disabled due 
to dependency problems' while ccmake configures, but no other 
information about what is missing. Can anybody tell me what can it be? 
Does ccmake save a log file somewhere?
Thanks for any hint
Carlos


From wonder.sk at gmail.com  Tue Feb 26 13:31:16 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Feb 26 13:31:18 2008
Subject: [Qgis-developer] Problem with python bindings
In-Reply-To: <47C4527F.4020906@jemila.jazztel.es>
References: <47C4527F.4020906@jemila.jazztel.es>
Message-ID: <e8e7199c0802261031x167cdab9u734f3c1718ea2f86@mail.gmail.com>

On Tue, Feb 26, 2008 at 6:55 PM, Carlos D?vila
<cdavilam@jemila.jazztel.es> wrote:
> Hello all
>  Trying to install qgis from source I see 'python bindings disabled due
>  to dependency problems' while ccmake configures, but no other
>  information about what is missing. Can anybody tell me what can it be?
>  Does ccmake save a log file somewhere?

Carlos,

I'm not aware of any log file that ccmake would left. However you can
see all the messages if you run the cmake command instead of ccmake.

The reason of dependency problems might be that SIP or PyQt4 are
missing, are in some old version or some parts of these tools are
missing. In case that until now you've used packaged version of QGIS I
guess you'll be missing packages with SIP and PyQt4 development files.

Martin
From wonder.sk at gmail.com  Tue Feb 26 13:38:02 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Feb 26 13:38:04 2008
Subject: [Qgis-developer] Adding Attributes to Vector Layor (QGIS 0.9.1)
In-Reply-To: <163a16b20802171614x6cc8ce75tde041886d0e55c73@mail.gmail.com>
References: <163a16b20802171614x6cc8ce75tde041886d0e55c73@mail.gmail.com>
Message-ID: <e8e7199c0802261038v7ba8305fu5d53505f8fb6bf40@mail.gmail.com>

Hi,

in case you're still stuck, here's my explanation - Tim's tutorials
have been done for 0.8.x series, however in meanwhile we've been doing
some modifications to vector layers handling. To get it working, you
must first call select() function of the provider. You can pass it
some arguments that will tell it what data you need - whether to fetch
attributes, whether to fetch geometries etc. Since by default
attributes are not being fetched, this should be the source of your
problems.

Adding this before the while cycle should help you (it will return you
all attributes for every feature):

allAttrs = mypProvider->allAttributesList()
mypProvider->select(allAttrs)

Regards
Martin

On Mon, Feb 18, 2008 at 1:14 AM, nathan leverington <nleverin@gmail.com> wrote:
> Hi all,
>
> Im new qgis and gis in general so sorry for the newbie question.
>
> im currently having a problem with adding attributes to the vector layor.
>
> Im using qgis 0.9.1 development libraries and creating my own application
> using Open Suse 10.3.  I was following Tim Sutton tutorial 6 to implement
> this but have noticed that QgsFeatureAttribute class has been removed from
> the 0.9.1 release.
>
> I have changed the the tutorial code:
>  while ((mypFeature = mypProvider->getNextFeature(true)))
>  {
>  //get the attributes of this feature
>  const std::vector < QgsFeatureAttribute >& myAttributes =
> mypFeature->attributeMap();
>
>
>  for (int i = 0; i < myAttributes.size(); i++)
>
>
> with the following:
>
>     //now iterate through each feature
>     while (mypProvider->getNextFeature(mypFeature))
>     {
>       //get the attributes of this feature
>       // const std::vector < QgsFeatureAttribute >& myAttributes =
> mypFeature->attributeMap();
>        const QgsAttributeMap& myAttributes = mypFeature.attributeMap();
>
>       if( myAttributes.isEmpty() ) cout << "attribute map is empty " <<
> endl;
>
>
> Iv tried replacing the  QgsFeatureAttribute with the QgsAttributeMap, but
> when calling the attributeMap() function i do not seem to be pulling in the
> attribute data.
>
> Is this a problem with the shapefile datastore.  (i.e. i am using the same
> source shapefile data that was used for Tim's tutorial 6)
>
> thanks in advance,
>
> nlev.
>
>
> _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
From mauricio.dev at gmail.com  Tue Feb 26 19:48:17 2008
From: mauricio.dev at gmail.com (Mauricio)
Date: Tue Feb 26 19:52:04 2008
Subject: [Qgis-developer] Wrote a FindByAttribute python plugin
Message-ID: <200802262148.17821.mauricio.dev@gmail.com>

	Hi everybody,
	Well, I know that it can be done using the attribute table. It was just an 
exercise and i found it rather usefull because it's a quick tool for 
something trivial.
	It's located on the geoprocess menu.
	Here's the download link.

http://www.4shared.com/file/39055290/6795d020/qgis_findbyattrtar.html


	I hope you liked it as much as i liked making it. :D
	See you next mail,
	Maur?cio de Paulo - Cartographer Engineer
From cavallini at faunalia.it  Wed Feb 27 02:18:35 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb 27 02:18:55 2008
Subject: [Qgis-developer] Wrote a FindByAttribute python plugin
In-Reply-To: <200802262148.17821.mauricio.dev@gmail.com>
References: <200802262148.17821.mauricio.dev@gmail.com>
Message-ID: <47C50ECB.7070808@faunalia.it>

Mauricio ha scritto:

> 	Well, I know that it can be done using the attribute table. It was just an 
> exercise and i found it rather usefull because it's a quick tool for 
> something trivial.
> 	It's located on the geoprocess menu.
> 	Here's the download link.
> 
> http://www.4shared.com/file/39055290/6795d020/qgis_findbyattrtar.html

Hi Mauricio.
Why not setting up a custom repo, or asking for inclusion in the main
repo? Would you mind if I include it in our repo, for easy installation?
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
From ersts at amnh.org  Wed Feb 27 09:35:11 2008
From: ersts at amnh.org (Peter Ersts)
Date: Wed Feb 27 09:35:29 2008
Subject: [Qgis-developer] GDAL/OGR C API Port
In-Reply-To: <200802261445.02149.marco.hugentobler@karto.baug.ethz.ch>
References: <47B6559A.5070307@pobox.com>
	<200802261445.02149.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47C5751F.6080105@amnh.org>

Marco and Frank,

I have been testing the raster functionality the last couple of days and 
everything seems to be running smoothly.

I did run across one little glitch when trying to display an image as 
pseudo color (it displayed as all white) but I cannot seem to replicate 
it. Tim mentioned that he experienced a similar problem. It is quite 
possible that this is an issue totally unrelated to the  C API port. 
Unless Tim has any objections or if someone else can regularly reproduce 
the white pseudo color issue I think (from a raster perspective) the API 
port  could be considered ready for merge back into the trunk.

-pete

Marco Hugentobler wrote:
> Hi Frank,
>
> I'm using the gdalogr-capi-branch for quite some time now and it works 
> perfectly. So my suggestion is that you go ahead and merge the branch to 
> trunk if there is no objection on the devel list in the next two days.
>
> cheers,
> Marco
>
> Am Samstag 16 Februar 2008 04:16:42 schrieb Frank Warmerdam:
>   
>> Folks,
>>
>> I believe I have completed the port of QGIS to the GDAL/OGR C API in
>> the gdalogr-capi-branch.  Due to limited familiarity with QGIS it is hard
>> for me to be sure things are working right.  I've loaded some raster and
>> vector data through GDAL and OGR in QGIS and it seems to work ok.
>>
>> Is there a regression test suite that will meaningfully help for this?
>>
>> How/when do I get the changes ported back into trunk?
>>
>> Best regards,
>>     
>
>
>
>   


-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit

From tim at linfiniti.com  Wed Feb 27 11:59:52 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb 27 11:59:55 2008
Subject: [Qgis-developer] GDAL/OGR C API Port
In-Reply-To: <47C5751F.6080105@amnh.org>
References: <47B6559A.5070307@pobox.com>
	<200802261445.02149.marco.hugentobler@karto.baug.ethz.ch>
	<47C5751F.6080105@amnh.org>
Message-ID: <d368056f0802270859n35a64a50n6f0a5b44e0b3e40e@mail.gmail.com>

Hi

I think this is unrelated to the c api branch since I encountered the
problem using libqgis from trunk.

Regards

Tim

2008/2/27, Peter Ersts <ersts@amnh.org>:
> Marco and Frank,
>
>  I have been testing the raster functionality the last couple of days and
>  everything seems to be running smoothly.
>
>  I did run across one little glitch when trying to display an image as
>  pseudo color (it displayed as all white) but I cannot seem to replicate
>  it. Tim mentioned that he experienced a similar problem. It is quite
>  possible that this is an issue totally unrelated to the  C API port.
>  Unless Tim has any objections or if someone else can regularly reproduce
>  the white pseudo color issue I think (from a raster perspective) the API
>  port  could be considered ready for merge back into the trunk.
>
>  -pete
>
>
>  Marco Hugentobler wrote:
>  > Hi Frank,
>  >
>  > I'm using the gdalogr-capi-branch for quite some time now and it works
>  > perfectly. So my suggestion is that you go ahead and merge the branch to
>  > trunk if there is no objection on the devel list in the next two days.
>  >
>  > cheers,
>  > Marco
>  >
>  > Am Samstag 16 Februar 2008 04:16:42 schrieb Frank Warmerdam:
>  >
>  >> Folks,
>  >>
>  >> I believe I have completed the port of QGIS to the GDAL/OGR C API in
>  >> the gdalogr-capi-branch.  Due to limited familiarity with QGIS it is hard
>  >> for me to be sure things are working right.  I've loaded some raster and
>  >> vector data through GDAL and OGR in QGIS and it seems to work ok.
>  >>
>  >> Is there a regression test suite that will meaningfully help for this?
>  >>
>  >> How/when do I get the changes ported back into trunk?
>  >>
>  >> Best regards,
>  >>
>  >
>  >
>  >
>  >
>
>
>  --
>
> ====================================
>  Peter J. Ersts, Project Specialist
>  American Museum of Natural History
>  Center for Biodiversity and Conservation
>  Central Park West at 79th Street
>  New York, New York 10024
>  Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
>  Web: http://biodiversityinformatics.amnh.org
>  Web: http://cbc.amnh.org
>
>  Quantum GIS Raster Development Team. Visit http://www.qgis.org
>  to learn more about QGIS, a free and open source desktop GIS
>
>  Open Source,
>  ...evolving through community cooperation to change the world bit by bit
>
>
>  _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From mauricio.dev at gmail.com  Wed Feb 27 13:00:49 2008
From: mauricio.dev at gmail.com (=?ISO-8859-1?Q?Maur=EDcio_de_Paulo?=)
Date: Wed Feb 27 13:00:52 2008
Subject: [Qgis-developer] Wrote a FindByAttribute python plugin
Message-ID: <f0f9bf090802271000n30ed2c43w88691319144567c2@mail.gmail.com>

Ok, can someone tell me how can i propose it to the official repository? I'm
inserting the gpl license in the code as i forgot to attach it.
:D
Maur?cio de Paulo - Cartographer Engineer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080227/a9157430/attachment.html
From mauricio.dev at gmail.com  Wed Feb 27 13:04:55 2008
From: mauricio.dev at gmail.com (=?ISO-8859-1?Q?Maur=EDcio_de_Paulo?=)
Date: Wed Feb 27 13:04:57 2008
Subject: [Qgis-developer] Raster layer datasource
Message-ID: <f0f9bf090802271004m52b6eb2bw347a34e83d188848@mail.gmail.com>

Ok, i'm new at qgis api but i only found a protected mDataSource property in
the QgsRasterLayer class. I hoped i could get access to the actual pixel
matrix inside qgis so i could write some image processing simple plugins
(IHS, raster band).
Am i missing something?
Thanks for reading.
Maur?cio de Paulo - Cartographer Engineer.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080227/5027a06e/attachment.html
From ersts at amnh.org  Wed Feb 27 13:43:22 2008
From: ersts at amnh.org (Peter Ersts)
Date: Wed Feb 27 13:43:38 2008
Subject: [Qgis-developer] Raster Development Wiki Page
Message-ID: <47C5AF4A.9010807@amnh.org>

Tim and Frank,

I started a new wiki page where we can keep a running list of 
modifications and their status, and users can see what mod are on the 
horizon:

http://wiki.qgis.org/qgiswiki/Raster_Development_Page

Right now it is just a dump of a lot of smaller lists and a migration of 
outstanding things from the raster transparency page. The tasks there 
now need to be flushed out still and eventually prioritized.

It would also be nice to get some feedback from the other developers 
regarding additional functionality that is desired or modification that 
need to happen.

-pete

-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit

From ersts at amnh.org  Wed Feb 27 14:07:26 2008
From: ersts at amnh.org (Peter Ersts)
Date: Wed Feb 27 14:07:39 2008
Subject: [Qgis-developer] Raster layer datasource
In-Reply-To: <f0f9bf090802271004m52b6eb2bw347a34e83d188848@mail.gmail.com>
References: <f0f9bf090802271004m52b6eb2bw347a34e83d188848@mail.gmail.com>
Message-ID: <47C5B4EE.3050209@amnh.org>

Maur?cio de Paulo,

Currently there are no public methods in QgsRasterLayer class that 
provide access to pixel level data; the class right now is really not 
much more than a rendered. This is something that has been discussed but 
will likely not be available in the immediate future. Your best approach 
right now would be to open the image with GDAL yourself, process, write 
our a new image, pass that to qgis to load; not idea but all possible 
from within a plugin without too much hassle.

One option that we may consider is to move the GDALDataSetH from private 
to protected so that you could at least inherit QgsRasterLayer to extend 
it yourself.

Please keep us up to date with what you are working on. There are a 
number of users who are interested in similar functionality and it would 
be nice to see some joint effort putting together a nifty raster 
manipulation plugin; components of which can be consider at a later time 
for inclusion to the raster core.

-pete

Maur?cio de Paulo wrote:
> Ok, i'm new at qgis api but i only found a protected mDataSource 
> property in the QgsRasterLayer class. I hoped i could get access to 
> the actual pixel matrix inside qgis so i could write some image 
> processing simple plugins (IHS, raster band).
> Am i missing something?
> Thanks for reading.
> Maur?cio de Paulo - Cartographer Engineer.
> ------------------------------------------------------------------------
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>   


-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit

From warmerdam at pobox.com  Wed Feb 27 15:38:00 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Feb 27 15:38:48 2008
Subject: [Qgis-developer] Raster layer datasource
In-Reply-To: <47C5B4EE.3050209@amnh.org>
References: <f0f9bf090802271004m52b6eb2bw347a34e83d188848@mail.gmail.com>
	<47C5B4EE.3050209@amnh.org>
Message-ID: <47C5CA28.1050405@pobox.com>

Peter Ersts wrote:
> Maur?cio de Paulo,
> 
> Currently there are no public methods in QgsRasterLayer class that 
> provide access to pixel level data; the class right now is really not 
> much more than a rendered. This is something that has been discussed but 
> will likely not be available in the immediate future. Your best approach 
> right now would be to open the image with GDAL yourself, process, write 
> our a new image, pass that to qgis to load; not idea but all possible 
> from within a plugin without too much hassle.
> 
> One option that we may consider is to move the GDALDataSetH from private 
> to protected so that you could at least inherit QgsRasterLayer to extend 
> it yourself.
> 
> Please keep us up to date with what you are working on. There are a 
> number of users who are interested in similar functionality and it would 
> be nice to see some joint effort putting together a nifty raster 
> manipulation plugin; components of which can be consider at a later time 
> for inclusion to the raster core.

Folks,

I would add there are mechanisms in GDAL to apply arbitrary processing
algorithms to imagery as it is read using virtual files.  For some applications
this might be appropriate.  I gather there is also some work going on for
pixel processing functions within the qgis raster renderer that might be
applicable for other purposes.

However, for the particular one mentioned, I think Pete's suggestion of
opening the file yourself is best.  I would note that datasets are normally
opened in readonly mode for the QgsRasterLayer, so it will be hard to use
this dataset handle to update files.  Opening an existing file for update
access, when it is already open for read access in another part of QGIS
could result in errors or even crashes in some circumstances.  So if you
want to do a sort of batch processing, writing the results to a new file
is the most safe approach.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Wed Feb 27 15:53:46 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Feb 27 15:54:20 2008
Subject: [Qgis-developer] Raster Development Wiki Page
In-Reply-To: <47C5AF4A.9010807@amnh.org>
References: <47C5AF4A.9010807@amnh.org>
Message-ID: <47C5CDDA.4030403@pobox.com>

Peter Ersts wrote:
> Tim and Frank,
> 
> I started a new wiki page where we can keep a running list of 
> modifications and their status, and users can see what mod are on the 
> horizon:
> 
> http://wiki.qgis.org/qgiswiki/Raster_Development_Page
> 
> Right now it is just a dump of a lot of smaller lists and a migration of 
> outstanding things from the raster transparency page. The tasks there 
> now need to be flushed out still and eventually prioritized.
> 
> It would also be nice to get some feedback from the other developers 
> regarding additional functionality that is desired or modification that 
> need to happen.

Pete,

I have reviewed the page, but I haven't worked out how to edit it.

Regarding:

"Segfault protection at the start of each method - is the raster band valid"

The GDAL 1.5.0 C API includes NULL checking for dataset, band and other
objects, so this is not really necessary at the QGIS layer anymore.

"Store raster stats in a xml file so they are not recalculated each time
a layer is loaded."

GDAL has a mechanism for writing stuff like this to an associated .aux.xml
file and I would like to see us utilize this.  It *should* be automatic
if we are using GDAL 1.5. and the normal histogram/stats request methods
in GDAL. I'm happy to help with this aspect.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From mauricio.dev at gmail.com  Wed Feb 27 16:28:16 2008
From: mauricio.dev at gmail.com (Mauricio)
Date: Wed Feb 27 16:28:58 2008
Subject: [Qgis-developer] Raster layer datasource
In-Reply-To: <47C5CA28.1050405@pobox.com>
References: <f0f9bf090802271004m52b6eb2bw347a34e83d188848@mail.gmail.com>
	<47C5B4EE.3050209@amnh.org> <47C5CA28.1050405@pobox.com>
Message-ID: <200802271828.17117.mauricio.dev@gmail.com>

	Ok. I'll just use gdal the bindings then. But it is kind of breaking qgis' 
software engineering as they already have a layer abstraction to this kind of 
data. :/
	Hum... Is there any known effort to make raster tools for qgis that i could 
join?
	Thanks for the replies!
	Maur?cio de Paulo - Cartographer Engineer

Em Wednesday 27 February 2008 17:38:00 Frank Warmerdam escreveu:
> Peter Ersts wrote:
> > Maur?cio de Paulo,
> >
> > Currently there are no public methods in QgsRasterLayer class that
> > provide access to pixel level data; the class right now is really not
> > much more than a rendered. This is something that has been discussed but
> > will likely not be available in the immediate future. Your best approach
> > right now would be to open the image with GDAL yourself, process, write
> > our a new image, pass that to qgis to load; not idea but all possible
> > from within a plugin without too much hassle.
> >
> > One option that we may consider is to move the GDALDataSetH from private
> > to protected so that you could at least inherit QgsRasterLayer to extend
> > it yourself.
> >
> > Please keep us up to date with what you are working on. There are a
> > number of users who are interested in similar functionality and it would
> > be nice to see some joint effort putting together a nifty raster
> > manipulation plugin; components of which can be consider at a later time
> > for inclusion to the raster core.
>
> Folks,
>
> I would add there are mechanisms in GDAL to apply arbitrary processing
> algorithms to imagery as it is read using virtual files.  For some
> applications this might be appropriate.  I gather there is also some work
> going on for pixel processing functions within the qgis raster renderer
> that might be applicable for other purposes.
>
> However, for the particular one mentioned, I think Pete's suggestion of
> opening the file yourself is best.  I would note that datasets are normally
> opened in readonly mode for the QgsRasterLayer, so it will be hard to use
> this dataset handle to update files.  Opening an existing file for update
> access, when it is already open for read access in another part of QGIS
> could result in errors or even crashes in some circumstances.  So if you
> want to do a sort of batch processing, writing the results to a new file
> is the most safe approach.
>
> Best regards,


From tutey at o2.pl  Wed Feb 27 17:00:02 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb 27 17:01:35 2008
Subject: [Qgis-developer] vector editing in QGIS - questions and issues
	(PostGIS biased)
Message-ID: <47C5DD62.5050408@o2.pl>

Hi

QUESTIONS:

What do the "Enable topological editing" and "Avoid intersections of new 
polygons" in Project Properties exactly do? What is the "Search radius 
for vertex edits" in Options>Digitizing? I can't find them covered in 
QGIS manual, website and WIKI. I'd be grateful for explaining them to me 
as I have to explain them to few other folks on Saturday :).


ISSUES:

1. Once I enter the "Project properties" and press "Apply" (without or 
with modifying any setting, with or without any layer added to project - 
doesn't matter), the "Default Snapping Tolerance", which I set in 
Option>Digitizing to "5", is not respected anymore when editing PostGIS 
layers from then on (like if set to 0). To enable sanpping I have to set 
it separately for each layer in Project Properties, which is tedious and 
was hard to guess what's going on. Looks like a bug, does it?

2. After "Avoid intersections of new polygons" is enabled, and the 
individual snapping for the layer is set in the Project Properties, 
following errors crop out:

a) During digitising PostGIS multipolygons an error "Could not remove 
polygon intersection" pops up from time to time. I can't see what is the 
pattern for that. A bug?

b) At saving changes to a PostGIS multipolygon layer, if a polygon 
touching another one is digitised, an "INSERT error" pops up: "ERROR: 
new row for relation "test_polygons" violates check constraint 
"enforce_geotype_the_geom"", and I cannot save changes. Seems a bug for 
sure.

Here's the metadata of an example "test_polygons" layer. Issues are 
reproducible with any multipolygon though AFAICT:

Storage type of this layer : Generic vector file
Source for this layer : dbname=topsecret host=topsecret port=topsecret 
user=topsecret table="topsecret"."test_polygons" (the_geom) sql=
Geometry type of the features in this layer : Polygon
The number of features in this layer : 3
Editing capabilities of this layer : Add Features, Delete Features, 
Change Attribute Values, Add Attributes, Delete Attributes, Change 
Geometries, Select Geometries by ID (unknown access method)
Extents:
In layer spatial reference system units : xMin,yMin 594842,5.68402e+06 : 
xMax,yMax 598419,5.68746e+06
Layer Spatial Reference System:
+proj=utm +zone=33 +ellps=WGS84 +datum=WGS84 +units=m +no_defs

Takes place on QGIS r8182 built and running against QT 4.3.2, GEOS 3.0, 
PgSQL 8.2.6, PostGIS 1.3.2, on amd64 Ubuntu Gutsy. Same happened in 
r8171. Please fix if possible.

Maciek
From tim at linfiniti.com  Wed Feb 27 19:25:57 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb 27 19:25:59 2008
Subject: [Qgis-developer] Raster Development Wiki Page
In-Reply-To: <47C5CDDA.4030403@pobox.com>
References: <47C5AF4A.9010807@amnh.org> <47C5CDDA.4030403@pobox.com>
Message-ID: <d368056f0802271625w15d059b6y3c3cd3eb7141cd04@mail.gmail.com>

Hi Frank

Due to historical abuse by spammers, you need to register to write to
the wiki. Create your account here:

http://wiki.qgis.org/qgiswiki/UserPreferences

then pass me your username (typically we prefer FirstnameLastname),
and Ill give you write access.

Regards

Tim

2008/2/27, Frank Warmerdam <warmerdam@pobox.com>:
> Peter Ersts wrote:
>  > Tim and Frank,
>  >
>  > I started a new wiki page where we can keep a running list of
>  > modifications and their status, and users can see what mod are on the
>  > horizon:
>  >
>  > http://wiki.qgis.org/qgiswiki/Raster_Development_Page
>  >
>  > Right now it is just a dump of a lot of smaller lists and a migration of
>  > outstanding things from the raster transparency page. The tasks there
>  > now need to be flushed out still and eventually prioritized.
>  >
>  > It would also be nice to get some feedback from the other developers
>  > regarding additional functionality that is desired or modification that
>  > need to happen.
>
>
> Pete,
>
>  I have reviewed the page, but I haven't worked out how to edit it.
>
>  Regarding:
>
>  "Segfault protection at the start of each method - is the raster band valid"
>
>  The GDAL 1.5.0 C API includes NULL checking for dataset, band and other
>  objects, so this is not really necessary at the QGIS layer anymore.
>
>  "Store raster stats in a xml file so they are not recalculated each time
>  a layer is loaded."
>
>  GDAL has a mechanism for writing stuff like this to an associated .aux.xml
>  file and I would like to see us utilize this.  It *should* be automatic
>  if we are using GDAL 1.5. and the normal histogram/stats request methods
>  in GDAL. I'm happy to help with this aspect.
>
>  Best regards,
>
> --
>  ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>  light and sound - activate the windows | http://pobox.com/~warmerdam
>  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
>  _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From wonder.sk at gmail.com  Thu Feb 28 07:41:21 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu Feb 28 07:41:24 2008
Subject: [Qgis-developer] Wrote a FindByAttribute python plugin
In-Reply-To: <f0f9bf090802271000n30ed2c43w88691319144567c2@mail.gmail.com>
References: <f0f9bf090802271000n30ed2c43w88691319144567c2@mail.gmail.com>
Message-ID: <e8e7199c0802280441v39b79269w85f3b0360a84d360@mail.gmail.com>

On Wed, Feb 27, 2008 at 7:00 PM, Maur?cio de Paulo
<mauricio.dev@gmail.com> wrote:
> Ok, can someone tell me how can i propose it to the official repository? I'm
> inserting the gpl license in the code as i forgot to attach it.
> :D

Here's the plugin repository located:
http://pyqgis.spatialserver.net/

You can register and upload the plugin there. There are also packaging
guidelines how to create the package for your plugin.

Martin
From marco.hugentobler at karto.baug.ethz.ch  Fri Feb 29 04:12:52 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri Feb 29 04:11:32 2008
Subject: [Qgis-developer] Re: [Qgis-user] vector editing in QGIS - questions
	and issues (PostGIS biased)
In-Reply-To: <47C5DD62.5050408@o2.pl>
References: <47C5DD62.5050408@o2.pl>
Message-ID: <200802291012.52480.marco.hugentobler@karto.baug.ethz.ch>

Hi Maciej

 The option "Enable topological editing" is for editing and maintaining common 
boundaries in polygon mosaics. If you enable it and move boundary vertices 
afterwards, it should be moved for all adjacent polygons. Similar for 
insertion of new feature, delete vertex, add vertex and even split feature.

The option "Avoid intersection of new polygons" is to quickly digitise 
adjacent polygons. If you already have one polygon, it is possible with this 
option to digitise the second one such that both intersect and qgis then cuts 
the second polygon to the common boundary. The advantage is that users don't 
have to digitize all vertices of the common boundary.

The 'search radius for vertex edits' is important if you move/add/delete 
vertex. It is the distance from the click point where qgis looks for the 
nearest matching vertex

Issue 1: The default snapping tolerance applies to the current layer if 
nothing has been saved into the project. As soon as you press 'apply' in the 
project properties, qgis takes the (more detailed) project settings which can 
be differentiated by layer. So this is a feature, not a bug :-)

Issue 2:  a) Could be a bug, I have to check that.
b) Possibly qgis makes a polygon during intersection removal where postgis 
enforces a multipolygon.

Regards,
Marco
  

Am Mittwoch 27 Februar 2008 23:00:02 schrieb Maciej Sieczka:
> Hi
>
> QUESTIONS:
>
> What do the "Enable topological editing" and "Avoid intersections of new
> polygons" in Project Properties exactly do? What is the "Search radius
> for vertex edits" in Options>Digitizing? I can't find them covered in
> QGIS manual, website and WIKI. I'd be grateful for explaining them to me
> as I have to explain them to few other folks on Saturday :).
>
>
> ISSUES:
>
> 1. Once I enter the "Project properties" and press "Apply" (without or
> with modifying any setting, with or without any layer added to project -
> doesn't matter), the "Default Snapping Tolerance", which I set in
> Option>Digitizing to "5", is not respected anymore when editing PostGIS
> layers from then on (like if set to 0). To enable sanpping I have to set
> it separately for each layer in Project Properties, which is tedious and
> was hard to guess what's going on. Looks like a bug, does it?
>
> 2. After "Avoid intersections of new polygons" is enabled, and the
> individual snapping for the layer is set in the Project Properties,
> following errors crop out:
>
> a) During digitising PostGIS multipolygons an error "Could not remove
> polygon intersection" pops up from time to time. I can't see what is the
> pattern for that. A bug?
>
> b) At saving changes to a PostGIS multipolygon layer, if a polygon
> touching another one is digitised, an "INSERT error" pops up: "ERROR:
> new row for relation "test_polygons" violates check constraint
> "enforce_geotype_the_geom"", and I cannot save changes. Seems a bug for
> sure.
>
> Here's the metadata of an example "test_polygons" layer. Issues are
> reproducible with any multipolygon though AFAICT:
>
> Storage type of this layer : Generic vector file
> Source for this layer : dbname=topsecret host=topsecret port=topsecret
> user=topsecret table="topsecret"."test_polygons" (the_geom) sql=
> Geometry type of the features in this layer : Polygon
> The number of features in this layer : 3
> Editing capabilities of this layer : Add Features, Delete Features,
> Change Attribute Values, Add Attributes, Delete Attributes, Change
> Geometries, Select Geometries by ID (unknown access method)
> Extents:
> In layer spatial reference system units : xMin,yMin 594842,5.68402e+06 :
> xMax,yMax 598419,5.68746e+06
> Layer Spatial Reference System:
> +proj=utm +zone=33 +ellps=WGS84 +datum=WGS84 +units=m +no_defs
>
> Takes place on QGIS r8182 built and running against QT 4.3.2, GEOS 3.0,
> PgSQL 8.2.6, PostGIS 1.3.2, on amd64 Ubuntu Gutsy. Same happened in
> r8171. Please fix if possible.
>
> Maciek
> _______________________________________________
> Qgis-user mailing list
> Qgis-user@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-user



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tutey at o2.pl  Fri Feb 29 13:52:33 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Fri Feb 29 13:54:14 2008
Subject: [Qgis-developer] Re: [Qgis-user] vector editing in QGIS - questions
 and issues (PostGIS biased)
In-Reply-To: <200802291012.52480.marco.hugentobler@karto.baug.ethz.ch>
References: <47C5DD62.5050408@o2.pl>
	<200802291012.52480.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47C85471.9050809@o2.pl>

Hi Marco

Marco Hugentobler pisze:
>  The option "Enable topological editing" is for editing and maintaining common 
> boundaries in polygon mosaics. If you enable it and move boundary vertices 
> afterwards, it should be moved for all adjacent polygons. Similar for 
> insertion of new feature, delete vertex, add vertex and even split feature.
 >
> The option "Avoid intersection of new polygons" is to quickly digitise 
> adjacent polygons. If you already have one polygon, it is possible with this 
> option to digitise the second one such that both intersect and qgis then cuts 
> the second polygon to the common boundary. The advantage is that users don't 
> have to digitize all vertices of the common boundary.
 >
> The 'search radius for vertex edits' is important if you move/add/delete 
> vertex. It is the distance from the click point where qgis looks for the 
> nearest matching vertex

Cool. Thanks for clarifying these.

> Issue 1: The default snapping tolerance applies to the current layer if 
> nothing has been saved into the project. As soon as you press 'apply' in the 
> project properties, qgis takes the (more detailed) project settings which can 
> be differentiated by layer. So this is a feature, not a bug :-)

But no layer in the project has the individual snapping set - no layer 
is checked in the "Project Properties>Snapping options"! The default, 
QGIS-wide snapping setting should take effect for layers which don't 
have an individual snapping set - but it doesn't. This does look like a 
bug to me. If it isn't, what is the point of default project-independent 
snapping setting?

> Issue 2:  a) Could be a bug, I have to check that.

> b) Possibly qgis makes a polygon during intersection removal where postgis 
> enforces a multipolygon.

Should QGIS enforce *polygon* then, instead of obeying the layer's 
*multipolygon* geometry type? I think it shouldn't.

Maciek
