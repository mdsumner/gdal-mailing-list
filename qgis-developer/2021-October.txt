From jonathan.piraux at sibelga.be  Fri Oct  1 00:32:32 2021
From: jonathan.piraux at sibelga.be (jonathan.piraux at sibelga.be)
Date: Fri, 1 Oct 2021 07:32:32 +0000
Subject: [QGIS-Developer] duplicate oracle views displayed in the layer list
In-Reply-To: <cab7dd2f368340e5b51ab6a4ae5ed353@sibelga.be>
References: <cab7dd2f368340e5b51ab6a4ae5ed353@sibelga.be>
Message-ID: <9112446fa65648af8101e3eaa6c56c75@sibelga.be>

Hello,

I can't figure out how I should configure my oracle db to avoid qgis to duplicate oracle views in the layer manager. Like shown in the following link:

https://i.stack.imgur.com/esjuI.png

On this image we can see that all oracle views are displayed 3 times:


  *   Once as an attribute table
  *   Once as a layer with a known primary key
  *   Once as a layer without a known primary key

I though that the issue was link to the fact that the views had no primary keys. This as I saw in the oracle provider code (qgsoracleprovider.cpp)  that there is logic to select a column of the view/table that could be a primary key.

Therefore, I tried to set a primary key on one view as Oracle allows it (in disabled mode). But without any success.

As any one a suggestion? An idea how I could correctly define my oracle views?

I am using Qgis 3.16.9

Thanks

Jonathan








Disclaimer

Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.

Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.

Sibelga<https://www.sibelga.be>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211001/02b33ea2/attachment.html>

From andreaerdna at libero.it  Sat Oct  2 00:49:49 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Sat, 2 Oct 2021 09:49:49 +0200
Subject: [QGIS-Developer] CI broken (MinGW64)
In-Reply-To: <b5861533-c200-57da-0707-6ebe40e2c24e@gmail.com>
References: <b5861533-c200-57da-0707-6ebe40e2c24e@gmail.com>
Message-ID: <9eec6016-b0bf-8de6-7653-5359e454d673@libero.it>

> Will be fixed with this: https://github.com/qgis/QGIS/pull/45303

Hi Sandro,
probably this is related... while, now, the MinGW64 Windows build 
succeeds, QGIS from the MinGW64 build doesn't run properly and the 
Python support results disabled.

Running a recent QGIS (5a572dac) from MinGW64 Windows build artifact, 
the following error is reported at the beginning and QGIS doesn't have 
the Python support:

Couldn't load SIP module.
Python support will be disabled.

Traceback (most recent call last):
   File "", line 1, in
   File 
"C:\Users\giudiceandrea\Downloads\QGIS-Portable_4\lib\python3.10\site-packages\qgis\__init__.py", 
line 78, in
     from qgis.PyQt import QtCore
   File 
"C:\Users\giudiceandrea\Downloads\QGIS-Portable_4\lib\python3.10\site-packages\qgis\PyQt\QtCore.py", 
line 24, in
     from PyQt5.QtCore import *
ModuleNotFoundError: No module named 'PyQt5.sip'


Python version:
3.10.0rc2 (default, Sep 14 2021, 00:00:00) [GCC 11.2.1 20210728 (Fedora 
MinGW 11.2.1-3.fc35)]

QGIS version:
3.21.0-Master 'Master', 5a572dac

From anitagraser at gmx.at  Sat Oct  2 04:02:22 2021
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 2 Oct 2021 13:02:22 +0200
Subject: [QGIS-Developer] [Qgis-psc] Developer support channels
In-Reply-To: <460bfb56-1cbd-23c3-90c2-d9b8891d16c5@duif.net>
References: <CAB28Asj8Vpd-aj0V6ewSGLutP2DgL1bP--f4WsUk+SabRdKsgg@mail.gmail.com>
 <20210920084145.usfosv6mm2rkigkj@norbit.de>
 <CAB28Asg6pRe18yMjbmzCgvpsJtsanro-_Zyx9oOBY+qvRRjMTg@mail.gmail.com>
 <460bfb56-1cbd-23c3-90c2-d9b8891d16c5@duif.net>
Message-ID: <36458cfc-c64e-d215-1976-e805753d2b8e@gmx.at>

Hi Richard,

On 21.09.2021 07:55, Richard Duivenvoorde wrote:
> I would be ok with both IRC, but I think a #qgis-dev channel on either
> matrix.org or matrix.osgeo.org would do.
> There are proper matrix clients for web and phones ( even for Linux phones ;-) ).

Do you have an overview of matrix activities?

https://qgis.org/en/site/forusers/support.html says "point your browser
to (https://matrix.to/#qgis:osgeo.org
<https://matrix.to/#qgis:osgeo.org>)" which is an invalid link.

https://app.element.io/#/room/#qgis:osgeo.org says "QGIS.org QGIS
Official Matrix room | bridged to IRC and Gitter" but it does not bridge
to Gitter.

Instead, https://app.element.io/#/room/#qgis_QGIS:gitter.im is the one
that does bridge to Gitter but has pretty much no traffic.

Looks like some consolidation might be helpful but I'm not sure how / if
that is possible.

Regards,

Anita

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211002/07871a04/attachment.html>

From manisandro at gmail.com  Sat Oct  2 04:06:48 2021
From: manisandro at gmail.com (Sandro Mani)
Date: Sat, 2 Oct 2021 13:06:48 +0200
Subject: [QGIS-Developer] CI broken (MinGW64)
In-Reply-To: <9eec6016-b0bf-8de6-7653-5359e454d673@libero.it>
References: <b5861533-c200-57da-0707-6ebe40e2c24e@gmail.com>
 <9eec6016-b0bf-8de6-7653-5359e454d673@libero.it>
Message-ID: <ea5aab1e-8528-514c-85a2-dd243647aaaa@gmail.com>


On 02.10.21 09:49, Andrea Giudiceandrea wrote:
>> Will be fixed with this: https://github.com/qgis/QGIS/pull/45303
>
> Hi Sandro,
> probably this is related... while, now, the MinGW64 Windows build 
> succeeds, QGIS from the MinGW64 build doesn't run properly and the 
> Python support results disabled.
>
> Running a recent QGIS (5a572dac) from MinGW64 Windows build artifact, 
> the following error is reported at the beginning and QGIS doesn't have 
> the Python support:
>
> Couldn't load SIP module.
> Python support will be disabled.
>
> Traceback (most recent call last):
> ? File "", line 1, in
> ? File 
> "C:\Users\giudiceandrea\Downloads\QGIS-Portable_4\lib\python3.10\site-packages\qgis\__init__.py", 
> line 78, in
> ??? from qgis.PyQt import QtCore
> ? File 
> "C:\Users\giudiceandrea\Downloads\QGIS-Portable_4\lib\python3.10\site-packages\qgis\PyQt\QtCore.py", 
> line 24, in
> ??? from PyQt5.QtCore import *
> ModuleNotFoundError: No module named 'PyQt5.sip'

Hi Andrea

This is fixed in mingw-python-qt5-5.15.4-2.fc36, which adds a dependency 
on mingw-python3-PyQt5_sip. So this should be fixed as soon as 
mingw-python-qt5-5.15.4-2.fc36 has propagated to the repos.

Sandro


From anitagraser at gmx.at  Sat Oct  2 04:10:26 2021
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 2 Oct 2021 13:10:26 +0200
Subject: [QGIS-Developer] FOSS4G Community Sprint
Message-ID: <b4515a13-4f70-1dcb-aeb4-9e11852cf614@gmx.at>

FOSS4G is not over yet. Today is Community Sprint day.

No ticket needed. Just
visit:https://play.workadventu.re/@/osgeo/foss4g/codesprint

More information: https://wiki.osgeo.org/wiki/FOSS4G_2021/Community_sprint

Regards,

Anita


From andreaerdna at libero.it  Sat Oct  2 04:33:25 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Sat, 2 Oct 2021 13:33:25 +0200
Subject: [QGIS-Developer] CI broken (MinGW64)
In-Reply-To: <ea5aab1e-8528-514c-85a2-dd243647aaaa@gmail.com>
References: <b5861533-c200-57da-0707-6ebe40e2c24e@gmail.com>
 <9eec6016-b0bf-8de6-7653-5359e454d673@libero.it>
 <ea5aab1e-8528-514c-85a2-dd243647aaaa@gmail.com>
Message-ID: <493d57f3-0707-68fe-a9a1-eaa729c15ccb@libero.it>

Il 02/10/2021 13:06, Sandro Mani ha scritto:
> This is fixed in mingw-python-qt5-5.15.4-2.fc36, which adds a dependency 
> on mingw-python3-PyQt5_sip. So this should be fixed as soon as 
> mingw-python-qt5-5.15.4-2.fc36 has propagated to the repos.

Thank you!

Beast regards.

Andrea


From rdmailings at duif.net  Sat Oct  2 06:34:42 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 2 Oct 2021 15:34:42 +0200
Subject: [QGIS-Developer] [Qgis-psc] Developer support channels
In-Reply-To: <36458cfc-c64e-d215-1976-e805753d2b8e@gmx.at>
References: <CAB28Asj8Vpd-aj0V6ewSGLutP2DgL1bP--f4WsUk+SabRdKsgg@mail.gmail.com>
 <20210920084145.usfosv6mm2rkigkj@norbit.de>
 <CAB28Asg6pRe18yMjbmzCgvpsJtsanro-_Zyx9oOBY+qvRRjMTg@mail.gmail.com>
 <460bfb56-1cbd-23c3-90c2-d9b8891d16c5@duif.net>
 <36458cfc-c64e-d215-1976-e805753d2b8e@gmx.at>
Message-ID: <25a5fa2b-d9a8-22ed-6250-280ad2f838ff@duif.net>

On 10/2/21 1:02 PM, Anita Graser wrote:

> Do you have an overview of matrix activities?
> 
> https://qgis.org/en/site/forusers/support.html says "point your browser to (https://matrix.to/#qgis:osgeo.org <https://matrix.to/#qgis:osgeo.org>)" which is an invalid link.

Mmm, ok that url (that I created) is apparently now broken: Apparently that should now be:

https://matrix.to/#/!qgis:osgeo.org (fixed in website)

> https://app.element.io/#/room/#qgis:osgeo.org says "QGIS.org QGIS Official Matrix room | bridged to IRC and Gitter" but it does not bridge to Gitter.

> Instead, https://app.element.io/#/room/#qgis_QGIS:gitter.im is the one that does bridge to Gitter but has pretty much no traffic.
> 
> Looks like some consolidation might be helpful but I'm not sure how / if that is possible.

I did not set up those (I think, at least I'm not an Admin there)... I think strk or Tim did?

But indeed it would be nice to set up 1 'official' room which is bridged to irc or gitter.
To be honest the Matrix system with aliasses etc is not fully clear to me either...

Regards,

Richard Duivenvoorde


From rdmailings at duif.net  Sun Oct  3 23:06:56 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 4 Oct 2021 08:06:56 +0200
Subject: [QGIS-Developer] Fwd: Future of PDAL in Debian
In-Reply-To: <81b0165c-2a40-c529-aaeb-a12550d057f4@xs4all.nl>
References: <81b0165c-2a40-c529-aaeb-a12550d057f4@xs4all.nl>
Message-ID: <d59e6f0d-e93b-d5a1-770b-f2b689efbb0e@duif.net>

FYI, see below: anybody using PDAL and able to help packaging PDAL in Debian?

Regards,

Richard Duivenvoorde


-------- Forwarded Message --------
Subject: Future of PDAL in Debian
Resent-Date: Mon,  4 Oct 2021 03:37:35 +0000 (UTC)
Resent-From: debian-gis at lists.debian.org
Date: Mon, 4 Oct 2021 05:37:18 +0200
From: Sebastiaan Couwenberg <sebastic at xs4all.nl>
To: Debian GIS Project <debian-gis at lists.debian.org>

PDAL 2.4 is going to require lazperf instead of laszip, this will hinder
adoption in Debian because lazperf is not packaged (yet).

I don't intend to package lazperf, getting laszip into Debian was far to
much effort already. If you care about LAZ support in PDAL, please help
to package and maintain lazperf in Debian.

From julien.cabieces at oslandia.com  Mon Oct  4 01:15:47 2021
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Mon, 04 Oct 2021 10:15:47 +0200
Subject: [QGIS-Developer] duplicate oracle views displayed in the layer
 list
In-Reply-To: <9112446fa65648af8101e3eaa6c56c75@sibelga.be>
References: <cab7dd2f368340e5b51ab6a4ae5ed353@sibelga.be>
 <9112446fa65648af8101e3eaa6c56c75@sibelga.be>
Message-ID: <87lf392ojw.fsf@julien-laptop.home>


Hi,

Regarding the primary key in disabled mode, it should work since this
PR: https://github.com/qgis/QGIS/pull/35112

Take a look about the test requests in the PR, maybe it'll give you an
hint about why it doesn't work on your side. 

If not, could you please open an issue here: https://github.com/qgis/QGIS/issues/

Kind regards,
Julien

> Hello,
>
> I can't figure out how I should configure my oracle db to avoid qgis to duplicate oracle views in the layer manager. Like shown in the following link:
>
> https://i.stack.imgur.com/esjuI.png
>
> On this image we can see that all oracle views are displayed 3 times:
>
>
>   *   Once as an attribute table
>   *   Once as a layer with a known primary key
>   *   Once as a layer without a known primary key
>
> I though that the issue was link to the fact that the views had no primary keys. This as I saw in the oracle provider code (qgsoracleprovider.cpp)  that there is logic to select a column of the view/table that could be a primary key.
>
> Therefore, I tried to set a primary key on one view as Oracle allows it (in disabled mode). But without any success.
>
> As any one a suggestion? An idea how I could correctly define my oracle views?
>
> I am using Qgis 3.16.9
>
> Thanks
>
> Jonathan
>
>
>
>
>
>
>
>
> Disclaimer
>
> Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.
>
> Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.
>
> Sibelga<https://www.sibelga.be>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From jef at norbit.de  Mon Oct  4 01:58:28 2021
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Mon, 4 Oct 2021 10:58:28 +0200
Subject: [QGIS-Developer] Fwd: Future of PDAL in Debian
In-Reply-To: <d59e6f0d-e93b-d5a1-770b-f2b689efbb0e@duif.net>
Message-ID: <20211004085828.tu3uqfo6l65ub6cp@norbit.de>

Hi,

On Mon, 04. Oct 2021 at 08:06:56 +0200, Richard Duivenvoorde wrote:
> FYI, see below: anybody using PDAL and able to help packaging PDAL in Debian?

I think frankie just voluntered:

On Mon, 4 Oct 2021 09:34:21 +0200, Francesco P. Lovergine" <frankie at debian.org> wrote:
> On Mon, Oct 04, 2021 at 05:37:18AM +0200, Sebastiaan Couwenberg wrote:
> > PDAL 2.4 is going to require lazperf instead of laszip, this will hinder
> > adoption in Debian because lazperf is not packaged (yet).

> > I don't intend to package lazperf, getting laszip into Debian was far to
> > much effort already. If you care about LAZ support in PDAL, please help
> > to package and maintain lazperf in Debian.

> > Kind Regards,

> Annotated, due ASAP on my side along with new GDAL Perl support via FFI.

> -cheers


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-31
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden              https://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211004/13e25e2e/attachment.sig>

From sokolic at worldonline.co.za  Mon Oct  4 03:51:07 2021
From: sokolic at worldonline.co.za (Frank Sokolic)
Date: Mon, 4 Oct 2021 12:51:07 +0200
Subject: [QGIS-Developer] Changelog Time for 3.22
In-Reply-To: <CAES-DZS3a0=-apD+A=mUxAeOtjSm88Q9p1RHtMBkCUcm1VVwdQ@mail.gmail.com>
References: <CAES-DZS3a0=-apD+A=mUxAeOtjSm88Q9p1RHtMBkCUcm1VVwdQ@mail.gmail.com>
Message-ID: <2e8d7fda-0542-b650-ed26-c523f59a05d4@worldonline.co.za>

Hi changelog contributors,

I've been reading through the changelog entries, checking grammar and 
readability, and noticed that many entries refer to PR. Given that the 
target audience of the changelog is more than just developers / 
contributors, would anybody be unhappy if I changed PR to something like 
"feature" or "function"? So an entry that currently reads "This PR 
allows users to ..." would change to "This feature allows users to ...".

Regards, Frank.


On 2021/09/26 11:51, Tim Sutton wrote:
> Hi All
>
> Since we are in feature freeze now,? can I ask you all (especially 
> contributors of new features to) please clean up your entries in the 
> changelog - lots of them need tidy ups to be presentable for the 
> changelog.
>
> https://changelog.qgis.org/en/qgis/version/3.22/ 
> <https://changelog.qgis.org/en/qgis/version/3.22/>
>
> Even if you didn't develop features, it would be great if you are able 
> to contribute improvements to make the changelog readable. If you need 
> any help, contact myself or Charles (charles at kartoza.com 
> <mailto:charles at kartoza.com>).
>
> Thanks!
>
> Regards
>
> Tim
>
> -- 
> ------------------------------------------------------------------------------------------
>
> Tim Sutton
> Visit http://kartoza.com <http://kartoza.com/>?to find out about open 
> source:
> ?* Desktop GIS programming services
> ?* Geospatial web development
> * GIS Training
> * Consulting Services
> Tim is a member of the QGIS Project Steering Committee
> -------------------------------------------------------------------------------------------
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211004/a1aaf612/attachment.html>

From senhor.neto at gmail.com  Mon Oct  4 05:00:33 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Mon, 4 Oct 2021 13:00:33 +0100
Subject: [QGIS-Developer] Fail compiing WITH_3D on ubuntu 20.04 -
 Qt53DExtras config files missing
Message-ID: <CA+H0G_GBZtZPiGVkME9xY1eER00FWm5PSHkF29X+ZtoNt5u7vw@mail.gmail.com>

Hi,

I have been having problems compiling QGIS with 3D support on Kubuntu
20.04. This is the CCMAKE configuration error:

CMake Error at /usr/lib/x86_64-linux-gnu/cmake/Qt5/Qt5Config.cmake:28
(find_package):
  Could not find a package configuration file provided by "Qt53DExtras"
with
  any of the following names:

    Qt53DExtrasConfig.cmake
    qt53dextras-config.cmake

  Add the installation prefix of "Qt53DExtras" to CMAKE_PREFIX_PATH or set
  "Qt53DExtras_DIR" to a directory containing one of the above files.  If
  "Qt53DExtras" provides a separate development package or SDK, be sure it
  has been installed.
Call Stack (most recent call first):
  CMakeLists.txt:455 (find_package)

I have libQt53DExtras installed, but there are no configuration files like
for other QT5 libraries. I tried to follow the suggestion and add the
installation prefix to CMAKE_PREFIX_PATH as suggested, but either it does
not work, or I am doing it wrong:

ccmake -G Ninja .. -DMAKE_PREFIX_PATH=/usr/lib/x86_64-linux-gnu/

Anyone is facing similar problems? any hint?

Thanks,

Alexandre Neto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211004/96f2432b/attachment-0001.html>

From denis.rouzaud at gmail.com  Mon Oct  4 05:09:35 2021
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Mon, 4 Oct 2021 14:09:35 +0200
Subject: [QGIS-Developer] Fail compiing WITH_3D on ubuntu 20.04 -
 Qt53DExtras config files missing
In-Reply-To: <CA+H0G_GBZtZPiGVkME9xY1eER00FWm5PSHkF29X+ZtoNt5u7vw@mail.gmail.com>
References: <CA+H0G_GBZtZPiGVkME9xY1eER00FWm5PSHkF29X+ZtoNt5u7vw@mail.gmail.com>
Message-ID: <CAMtsY+Z+aTbm8gqppp1RWbM7HH4UyxhfH8BZyfZ8-Li1Kibe=A@mail.gmail.com>

I believe you have to set this on 20.04

-DQT5_3DEXTRA_LIBRARY=/usr/lib/x86_64-linux-gnu/libQt53DExtras.so
-DQT5_3DEXTRA_INCLUDE_DIR=/root/QGIS/external/qt3dextra-headers
-DCMAKE_PREFIX_PATH=/root/QGIS/external/qt3dextra-headers/cmake
-DQt53DExtras_DIR=/root/QGIS/external/qt3dextra-headers/cmake/Qt53DExtras

https://github.com/qgis/QGIS/blob/master/.docker/docker-qgis-build.sh#L48-L51

for reference
https://qgis-developer.osgeo.narkive.com/xMSz0lbQ/building-master-with-3d-on-debian-testing-buster

Ciao,
Denis

Le lun. 4 oct. 2021 ? 14:00, Alexandre Neto <senhor.neto at gmail.com> a
?crit :

> Hi,
>
> I have been having problems compiling QGIS with 3D support on Kubuntu
> 20.04. This is the CCMAKE configuration error:
>
> CMake Error at /usr/lib/x86_64-linux-gnu/cmake/Qt5/Qt5Config.cmake:28
> (find_package):
>   Could not find a package configuration file provided by "Qt53DExtras"
> with
>   any of the following names:
>
>     Qt53DExtrasConfig.cmake
>     qt53dextras-config.cmake
>
>   Add the installation prefix of "Qt53DExtras" to CMAKE_PREFIX_PATH or set
>   "Qt53DExtras_DIR" to a directory containing one of the above files.  If
>   "Qt53DExtras" provides a separate development package or SDK, be sure it
>   has been installed.
> Call Stack (most recent call first):
>   CMakeLists.txt:455 (find_package)
>
> I have libQt53DExtras installed, but there are no configuration files like
> for other QT5 libraries. I tried to follow the suggestion and add the
> installation prefix to CMAKE_PREFIX_PATH as suggested, but either it does
> not work, or I am doing it wrong:
>
> ccmake -G Ninja .. -DMAKE_PREFIX_PATH=/usr/lib/x86_64-linux-gnu/
>
> Anyone is facing similar problems? any hint?
>
> Thanks,
>
> Alexandre Neto
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211004/2c8b0bbd/attachment.html>

From matteo.ghetta at gmail.com  Mon Oct  4 05:26:30 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 4 Oct 2021 14:26:30 +0200
Subject: [QGIS-Developer] Algorithms in python
Message-ID: <141aa304-5da8-1078-e750-b088369b3fab@gmail.com>

Hi devs,

recently I've made a PR to add an algorithm to the core, written in python:

https://github.com/qgis/QGIS/pull/44680

from the comments I get that from now on additional algorithms are 
accepted only in C++ and not in python anymore.

Is this an official statement?

My super personal opinion: while I perfectly understand devs position on 
C++, I think we might miss some useful contributions from python only 
devs (like me :) ) and we lack of a "straight" way to add useful 
algorithms to QGIS.

I see 2 options:

* development of Processing plugins with algorithms that can lead to 
many plugins and difficulties to find them
* have a "straight" way to add additional algorithms to QGIS, like the 
"Download scripts from collections" of QGIS 2

What is a general opinion about this topic?

Cheers and thanks

Matteo

From apasotti at gmail.com  Mon Oct  4 05:33:49 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 4 Oct 2021 14:33:49 +0200
Subject: [QGIS-Developer] Algorithms in python
In-Reply-To: <141aa304-5da8-1078-e750-b088369b3fab@gmail.com>
References: <141aa304-5da8-1078-e750-b088369b3fab@gmail.com>
Message-ID: <CAL5Q672a090gpQW9wEG97Mz71PSqS7sHOQCaB5j1Xqutn7QJBA@mail.gmail.com>

On Mon, Oct 4, 2021 at 2:26 PM matteo <matteo.ghetta at gmail.com> wrote:

> Hi devs,
>
> recently I've made a PR to add an algorithm to the core, written in python:
>
> https://github.com/qgis/QGIS/pull/44680
>
> from the comments I get that from now on additional algorithms are
> accepted only in C++ and not in python anymore.
>
> Is this an official statement?
>

Yes, kind of: many developers (myself included) agree to that.


> My super personal opinion: while I perfectly understand devs position on
> C++, I think we might miss some useful contributions from python only
> devs (like me :) ) and we lack of a "straight" way to add useful
> algorithms to QGIS.
>
> I see 2 options:
>
> * development of Processing plugins with algorithms that can lead to
> many plugins and difficulties to find them
> * have a "straight" way to add additional algorithms to QGIS, like the
> "Download scripts from collections" of QGIS 2
>
> What is a general opinion about this topic?
>

I don't know about "general" but we do have the resource sharing plugin
(not sure about the current status of it though) and a "standard" python
plugin would also allow us to distribute processing plugins.

Kind regards.

-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211004/bf7bb615/attachment.html>

From senhor.neto at gmail.com  Mon Oct  4 06:04:31 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Mon, 4 Oct 2021 14:04:31 +0100
Subject: [QGIS-Developer] Fail compiing WITH_3D on ubuntu 20.04 -
 Qt53DExtras config files missing
In-Reply-To: <CAMtsY+Z+aTbm8gqppp1RWbM7HH4UyxhfH8BZyfZ8-Li1Kibe=A@mail.gmail.com>
References: <CA+H0G_GBZtZPiGVkME9xY1eER00FWm5PSHkF29X+ZtoNt5u7vw@mail.gmail.com>
 <CAMtsY+Z+aTbm8gqppp1RWbM7HH4UyxhfH8BZyfZ8-Li1Kibe=A@mail.gmail.com>
Message-ID: <CA+H0G_Fyjb6Ztgr=H8zWJxbRi+FPpGxf=85Ugxvk8cCgAddLcQ@mail.gmail.com>

It worked!

Thanks Denis

On Mon, Oct 4, 2021 at 1:09 PM Denis Rouzaud <denis.rouzaud at gmail.com>
wrote:

> I believe you have to set this on 20.04
>
> -DQT5_3DEXTRA_LIBRARY=/usr/lib/x86_64-linux-gnu/libQt53DExtras.so
> -DQT5_3DEXTRA_INCLUDE_DIR=/root/QGIS/external/qt3dextra-headers
> -DCMAKE_PREFIX_PATH=/root/QGIS/external/qt3dextra-headers/cmake
> -DQt53DExtras_DIR=/root/QGIS/external/qt3dextra-headers/cmake/Qt53DExtras
>
>
> https://github.com/qgis/QGIS/blob/master/.docker/docker-qgis-build.sh#L48-L51
>
> for reference
> https://qgis-developer.osgeo.narkive.com/xMSz0lbQ/building-master-with-3d-on-debian-testing-buster
>
> Ciao,
> Denis
>
> Le lun. 4 oct. 2021 ? 14:00, Alexandre Neto <senhor.neto at gmail.com> a
> ?crit :
>
>> Hi,
>>
>> I have been having problems compiling QGIS with 3D support on Kubuntu
>> 20.04. This is the CCMAKE configuration error:
>>
>> CMake Error at /usr/lib/x86_64-linux-gnu/cmake/Qt5/Qt5Config.cmake:28
>> (find_package):
>>   Could not find a package configuration file provided by "Qt53DExtras"
>> with
>>   any of the following names:
>>
>>     Qt53DExtrasConfig.cmake
>>     qt53dextras-config.cmake
>>
>>   Add the installation prefix of "Qt53DExtras" to CMAKE_PREFIX_PATH or
>> set
>>   "Qt53DExtras_DIR" to a directory containing one of the above files.  If
>>   "Qt53DExtras" provides a separate development package or SDK, be sure
>> it
>>   has been installed.
>> Call Stack (most recent call first):
>>   CMakeLists.txt:455 (find_package)
>>
>> I have libQt53DExtras installed, but there are no configuration files
>> like for other QT5 libraries. I tried to follow the suggestion and add the
>> installation prefix to CMAKE_PREFIX_PATH as suggested, but either it does
>> not work, or I am doing it wrong:
>>
>> ccmake -G Ninja .. -DMAKE_PREFIX_PATH=/usr/lib/x86_64-linux-gnu/
>>
>> Anyone is facing similar problems? any hint?
>>
>> Thanks,
>>
>> Alexandre Neto
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211004/4b31a967/attachment.html>

From kuazhangxiaoai at sina.com  Mon Oct  4 06:42:05 2021
From: kuazhangxiaoai at sina.com (=?utf-8?Q?=E6=9D=A8=E5=88=9A?=)
Date: Mon, 4 Oct 2021 21:42:05 +0800
Subject: [QGIS-Developer] Building Error with Windows10 and VS2019
Message-ID: <mailman.2.1633354930.1885.qgis-developer@lists.osgeo.org>

I have tried to build qgis from source code, and generated qgis.sln file successfully. But errors came as follow:



? Windows ?????

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211004/c6ef7557/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 8948780E0E3D4568B6558A540085FB1F.png
Type: image/png
Size: 60003 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211004/c6ef7557/attachment.png>

From senhor.neto at gmail.com  Mon Oct  4 07:47:37 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Mon, 4 Oct 2021 15:47:37 +0100
Subject: [QGIS-Developer] Boundless (docs) & Central provisioning of
 QGIS plugins...
In-Reply-To: <CA+H0G_EwRiFhprA5AJEZZJ-K3MifqD2yBptcexEhyGFmZscVrg@mail.gmail.com>
References: <b0406948-f12e-75eb-afe0-7436495c4f21@duif.net>
 <66e1b438-d0e9-2f6d-493c-9a52c1c24371@stripfamily.net>
 <CALHQADX0LsVjUSFNx9ixcOy_o3K4DzRmJu2Uox+MHg84OFSyeg@mail.gmail.com>
 <CA+H0G_EwRiFhprA5AJEZZJ-K3MifqD2yBptcexEhyGFmZscVrg@mail.gmail.com>
Message-ID: <CA+H0G_GMXmdjRb81SmOfFY_btZopbOwkFhaj18OhmVA2UhrrXA@mail.gmail.com>

Regarding this subject,

I have found this on PyQGIS Cookbook:

Note

By setting QGIS_PLUGINPATH to an existing directory path, you can add this
path to the list of paths that are searched for plugins.


So, I am guessing that one could set a folder with plugins in a network
location and then setup this environment variable in each machine to have
all the plugins available on all machines.

Just guessing, I didn't have the time to test it out.


Alexandre Neto

On Wed, Sep 15, 2021 at 6:55 PM Alexandre Neto <senhor.neto at gmail.com>
wrote:

> Hi Richard,
>
> Several core commiters were working at BoundlessGeo back in those days,
> some are still there, in Planet Federal.
>
> I was there too, and I was responsible for the documentation. Moving part
> of this documentation to QGIS Docs has been in my to do list for a while,
> but it never reached the top :-(
>
> Sometime ago, I asked Alessandro Pasoti if those two settings were still
> valid, and he said that "AFAIK they were valid", but I abandoned the task
> before even trying it.
>
> I still have the original rst files. In case anyone wants to jump on that
> task and try it out, I can share it.
>
> Best regards,
>
> Alexandre Neto
>
> A quarta, 15/09/2021, 16:39, Andrea Aime <andrea.aime at geo-solutions.it>
> escreveu:
>
>> On Wed, Sep 15, 2021 at 5:21 PM David Strip <qgis-dev at stripfamily.net>
>> wrote:
>>
>>> according to Crunchbase
>>> <https://www.crunchbase.com/acquisition/planet-labs-acquires-boundlessgeo--320fb5e0>,
>>> Boundless Spatial was acquired by Planet in 2018. Planet
>>> <https://www.planet.com/>still exists - I think it used to be called
>>> Planet Labs. It operates a constellation of small earth imaging satellites.
>>> I would guess that Boundless Spatial was absorbed into the mapping team
>>> <https://www.planet.com/markets/mapping/>.  But that's in
>>> information-free guess.
>>>
>>
>> It actually became a new division, "Planet Federal":
>> https://www.planet.com/pulse/planet-to-acquire-boundless/
>>
>> Cheers
>> Andrea
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211004/8f0f0a93/attachment.html>

From jonathan.piraux at sibelga.be  Mon Oct  4 07:49:31 2021
From: jonathan.piraux at sibelga.be (jonathan.piraux at sibelga.be)
Date: Mon, 4 Oct 2021 14:49:31 +0000
Subject: [QGIS-Developer] duplicate oracle views displayed in the layer
 list
In-Reply-To: <87lf392ojw.fsf@julien-laptop.home>
References: <cab7dd2f368340e5b51ab6a4ae5ed353@sibelga.be>
 <9112446fa65648af8101e3eaa6c56c75@sibelga.be>
 <87lf392ojw.fsf@julien-laptop.home>
Message-ID: <5a9a6ca18037453aa0531245d77abe9c@sibelga.be>

Hello,

Thanks for your feedback. Is this PR integrated in qgis 3.16.9? I guess it is but I am not 100% sure.

I took your unit test in order to test if the PR was working. But the result is still the same. My QGIS can't figure out what is the primary key of the view whereas Qgis can manage to detect the primary key on the table.

Here is my sql script:

CREATE TABLE "ATLAS"."TABLE_TESTPKS" (pk1 INTEGER, DESCRIPTION VARCHAR2(25), pk2 NUMBER, CONSTRAINT cons_pk PRIMARY KEY(pk1, pk2));
INSERT INTO ALTAS.TABLE_TESTPKS VALUES(1000,'Desc for 1st record', 1);
INSERT INTO ATLAS.TABLE_TESTPKS VALUES(2000,'Desc for 2nd record', 2);
CREATE OR REPLACE VIEW "ATLAS"."VIEW_TESTPKS" AS SELECT * FROM ATLAS.TABLE_TESTPKS;
COMMIT;
ALTER VIEW ATLAS.VIEW_TESTPKS ADD CONSTRAINT const_view_pks PRIMARY KEY (pk1,pk2) DISABLE;

I also tried with only one primary key on the view:

CREATE TABLE "ATLAS"."TABLE_TESTPKS3" (pk1 INTEGER, DESCRIPTION VARCHAR2(25), pk2 NUMBER, CONSTRAINT cons_pk3 PRIMARY KEY(pk1, pk2));
COMMIT;
INSERT INTO TABLE_TESTPKS3 VALUES(1000,'Desc for 1st record', 1);
INSERT INTO ATLAS.TABLE_TESTPKS3 VALUES(2000,'Desc for 2nd record', 2);
CREATE OR REPLACE VIEW "ATLAS"."VIEW_TESTPKS3" AS SELECT * FROM ATLAS.TABLE_TESTPKS3 ;
COMMIT;
ALTER VIEW ATLAS.VIEW_TESTPKS3 ADD CONSTRAINT const_view_pks3 PRIMARY KEY (pk1) DISABLE;


Then for both, I checked in the layer manager if qgis can recognize the id but qgis still offer me the possibility to define the primary key.

Should open an issue? Or something is wrong in my way to test qgis?

Jonathan







-----Message d'origine-----
De : Julien Cabieces <julien.cabieces at oslandia.com>
Envoy? : lundi 4 octobre 2021 10:16
? : Piraux Jonathan <jonathan.piraux at sibelga.be>
Cc : qgis-developer at lists.osgeo.org
Objet : Re: [QGIS-Developer] duplicate oracle views displayed in the layer list


Hi,

Regarding the primary key in disabled mode, it should work since this
PR: https://smex-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fgithub.com%2fqgis%2fQGIS%2fpull%2f35112&umid=0b5dbc0e-6bdc-453a-91ec-8a660054db2a&auth=7f6fc31f18215669cf004d4797887d3e13de5b8d-c69e27dc0d3ac43d988d40510ffd17c7f0be14f0

Take a look about the test requests in the PR, maybe it'll give you an hint about why it doesn't work on your side.

If not, could you please open an issue here: https://smex-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fgithub.com%2fqgis%2fQGIS%2fissues%2f&umid=0b5dbc0e-6bdc-453a-91ec-8a660054db2a&auth=7f6fc31f18215669cf004d4797887d3e13de5b8d-5948a851307fe8df3701542c3952384de944f1c0

Kind regards,
Julien

> Hello,
>
> I can't figure out how I should configure my oracle db to avoid qgis to duplicate oracle views in the layer manager. Like shown in the following link:
>
> https://i.stack.imgur.com/esjuI.png
>
> On this image we can see that all oracle views are displayed 3 times:
>
>
>   *   Once as an attribute table
>   *   Once as a layer with a known primary key
>   *   Once as a layer without a known primary key
>
> I though that the issue was link to the fact that the views had no primary keys. This as I saw in the oracle provider code (qgsoracleprovider.cpp)  that there is logic to select a column of the view/table that could be a primary key.
>
> Therefore, I tried to set a primary key on one view as Oracle allows it (in disabled mode). But without any success.
>
> As any one a suggestion? An idea how I could correctly define my oracle views?
>
> I am using Qgis 3.16.9
>
> Thanks
>
> Jonathan
>
>
>
>
>
>
>
>
> Disclaimer
>
> Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.
>
> Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.
>
> Sibelga<https://www.sibelga.be>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


Disclaimer

Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.

Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.

Sibelga<https://www.sibelga.be>


From charles at kartoza.com  Mon Oct  4 08:43:09 2021
From: charles at kartoza.com (Charles Dixon-Paver)
Date: Mon, 4 Oct 2021 17:43:09 +0200
Subject: [QGIS-Developer] Changelog Time for 3.22
In-Reply-To: <2e8d7fda-0542-b650-ed26-c523f59a05d4@worldonline.co.za>
References: <CAES-DZS3a0=-apD+A=mUxAeOtjSm88Q9p1RHtMBkCUcm1VVwdQ@mail.gmail.com>
 <2e8d7fda-0542-b650-ed26-c523f59a05d4@worldonline.co.za>
Message-ID: <CAK2KqidjS-EHZHt975+cmaMAKxL4=u5gXbeds-Pis3ZDLw3i0g@mail.gmail.com>

Hi, and thanks for raising this Frank.

I've noticed a bunch of the entries have just been tagged with a category
rather than undergoing a full edit from the PR text, which we need to try
to make more "user friendly" and less "developer-centric". The technical
details of each PR are still available on github and I think the changelog
targets a different audience.

We have set up a list of expected conventions for entries here:

https://github.com/qgis/QGIS/wiki/Changelog-Workflows#conventions-for-changelog-entries

Feel free to contribute changes there as well.

Whilst I think the contextual and writing style stuff is not of critical
concern, there are a couple major red flags we need to try eliminate before
publication, including:


   - Headers - The records should not contain any headers (in HTMl or
   markdown) in the content section as this interferes with the ToC generated
   in the Visual Changelog. This is critical because I think the PR template
   or convention includes a description header etc.
   - Tags - Some PRs use [tag-id]Title syntax to try and automatically tag
   pull requests, which need to be removed
   - PRs and Links - There are commonly a bunch of references
   - List and content formatting - Sometimes pushing from git does not end
   up with nicely rendered markdown, so we should try and fix it
   - Entry title - Often a developer will write a sentence for describing
   the functionality, which is certainly helpful for the review process. For
   changelogs we can move this to the description and use a simple 3 - 8 word
   (there's no real rule) title so that it's rendered nicely and without too
   much wrapping in the ToC
   - Extraneous details - I think it's better to be concise and we can
   remove some content from a lot of the entries. Many PRs justify what, why,
   and how some functionality was developed and introduced, whereas for the
   changelog we just need to know what it does.

I would ask that contributors rather refrain from simply tagging entries
until they have gone through some form of editing, as it makes it difficult
to track what has been reviewed fully and what has not - I prefer to work
through the entries methodically and if need be I am happy run through all
the entries and simply tag them before the final release date. Certainly
review the entries available in the general section, and feel free to edit
them if you would like, but don't move them into a category until they're
"publishing-ready". Also, anybody can feel free to ping me if they see a
feature missing!

Regards

On Mon, 4 Oct 2021 at 13:13, Frank Sokolic <sokolic at worldonline.co.za>
wrote:

> Hi changelog contributors,
>
> I've been reading through the changelog entries, checking grammar and
> readability, and noticed that many entries refer to PR. Given that the
> target audience of the changelog is more than just developers /
> contributors, would anybody be unhappy if I changed PR to something like
> "feature" or "function"? So an entry that currently reads "This PR allows
> users to ..." would change to "This feature allows users to ...".
>
> Regards, Frank.
>
>
> On 2021/09/26 11:51, Tim Sutton wrote:
>
> Hi All
>
> Since we are in feature freeze now,  can I ask you all (especially
> contributors of new features to) please clean up your entries in the
> changelog - lots of them need tidy ups to be presentable for the changelog.
>
> https://changelog.qgis.org/en/qgis/version/3.22/
>
> Even if you didn't develop features, it would be great if you are able to
> contribute improvements to make the changelog readable. If you need any
> help, contact myself or Charles (charles at kartoza.com).
>
> Thanks!
>
> Regards
>
> Tim
>
> --
>
> ------------------------------------------------------------------------------------------
>
> Tim Sutton
> Visit http://kartoza.com to find out about open source:
>  * Desktop GIS programming services
>  * Geospatial web development
> * GIS Training
> * Consulting Services
> Tim is a member of the QGIS Project Steering Committee
>
> -------------------------------------------------------------------------------------------
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211004/7bebf404/attachment-0001.html>

From Jean-Francois.Bourdon at mffp.gouv.qc.ca  Mon Oct  4 10:19:18 2021
From: Jean-Francois.Bourdon at mffp.gouv.qc.ca (=?iso-8859-1?Q?Bourdon=2C_Jean-Fran=E7ois_=28DIF=29?=)
Date: Mon, 4 Oct 2021 17:19:18 +0000
Subject: [QGIS-Developer] Boundless (docs) & Central provisioning of
 QGIS plugins...
In-Reply-To: <CA+H0G_GMXmdjRb81SmOfFY_btZopbOwkFhaj18OhmVA2UhrrXA@mail.gmail.com>
References: <b0406948-f12e-75eb-afe0-7436495c4f21@duif.net>
 <66e1b438-d0e9-2f6d-493c-9a52c1c24371@stripfamily.net>
 <CALHQADX0LsVjUSFNx9ixcOy_o3K4DzRmJu2Uox+MHg84OFSyeg@mail.gmail.com>
 <CA+H0G_EwRiFhprA5AJEZZJ-K3MifqD2yBptcexEhyGFmZscVrg@mail.gmail.com>
 <CA+H0G_GMXmdjRb81SmOfFY_btZopbOwkFhaj18OhmVA2UhrrXA@mail.gmail.com>
Message-ID: <QB1PR01MB2948A5681F63C27D81006A1CB3AE9@QB1PR01MB2948.CANPRD01.PROD.OUTLOOK.COM>

[Intranet logo]
It works like a charm! It also works when calling qgis_process so it means there is a way to use plugins outside the default profile (see https://github.com/qgis/QGIS/issues/44783). You made my day!

It seems that if there is any duplicated plugin (same name) in the default profile location and in the directory specified by QGIS_PLUGINPATH, only the latter will be loaded. It don't think it's bad, but I think this behaviour should be noted.

Jean-Fran?ois Bourdon, ing.f.
Analyste en t?l?d?tection
Direction des inventaires forestiers
Minist?re des For?ts, de la Faune et des Parcs
5700, 4e Avenue Ouest, local A-108
Qu?bec (Qu?bec) G1H 6R1
T?l?phone : 418 627-8669, poste 704304
jean-francois.bourdon at mffp.gouv.qc.ca
mffp.gouv.qc.ca<http://www.mffp.gouv.qc.ca/accueil.jsp>

De : QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la part de Alexandre Neto
Envoy? : 4 octobre 2021 10:48
? : Andrea Aime <andrea.aime at geo-solutions.it>; Richard Duivenvoorde <rdmailings at duif.net>; Bo Victor Thomsen <bo.victor.thomsen at gmail.com>
Cc : qgis-dev <Qgis-developer at lists.osgeo.org>
Objet : Re: [QGIS-Developer] Boundless (docs) & Central provisioning of QGIS plugins...

Regarding this subject,

I have found this on PyQGIS Cookbook:

Note

By setting QGIS_PLUGINPATH to an existing directory path, you can add this path to the list of paths that are searched for plugins.



So, I am guessing that one could set a folder with plugins in a network location and then setup this environment variable in each machine to have all the plugins available on all machines.

Just guessing, I didn't have the time to test it out.



Alexandre Neto

On Wed, Sep 15, 2021 at 6:55 PM Alexandre Neto <senhor.neto at gmail.com<mailto:senhor.neto at gmail.com>> wrote:
Hi Richard,

Several core commiters were working at BoundlessGeo back in those days, some are still there, in Planet Federal.

I was there too, and I was responsible for the documentation. Moving part of this documentation to QGIS Docs has been in my to do list for a while, but it never reached the top :-(

Sometime ago, I asked Alessandro Pasoti if those two settings were still valid, and he said that "AFAIK they were valid", but I abandoned the task before even trying it.

I still have the original rst files. In case anyone wants to jump on that task and try it out, I can share it.

Best regards,

Alexandre Neto

A quarta, 15/09/2021, 16:39, Andrea Aime <andrea.aime at geo-solutions.it<mailto:andrea.aime at geo-solutions.it>> escreveu:
On Wed, Sep 15, 2021 at 5:21 PM David Strip <qgis-dev at stripfamily.net<mailto:qgis-dev at stripfamily.net>> wrote:
according to Crunchbase<https://can01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.crunchbase.com%2Facquisition%2Fplanet-labs-acquires-boundlessgeo--320fb5e0&data=04%7C01%7C%7C554acea0f44a4108d37308d98745f23e%7C8705e97737814f4790e1c84c8b884da1%7C0%7C1%7C637689556748173971%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=QL0Ml9tmb2r46OKFHQWNGZrT7n7HCc2ovhitE4hN5EE%3D&reserved=0>, Boundless Spatial was acquired by Planet in 2018. Planet <https://can01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.planet.com%2F&data=04%7C01%7C%7C554acea0f44a4108d37308d98745f23e%7C8705e97737814f4790e1c84c8b884da1%7C0%7C1%7C637689556748183967%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=X5GLaAEIViqpAuJyBhPcP9oXkRMqwwi0gEvrZTMr8kI%3D&reserved=0> still exists - I think it used to be called Planet Labs. It operates a constellation of small earth imaging satellites. I would guess that Boundless Spatial was absorbed into the mapping team<https://can01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.planet.com%2Fmarkets%2Fmapping%2F&data=04%7C01%7C%7C554acea0f44a4108d37308d98745f23e%7C8705e97737814f4790e1c84c8b884da1%7C0%7C1%7C637689556748193958%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=y96XlPrpnhma3PWrKmhoVPnDOvTq%2FPzqZfQBbowtQlU%3D&reserved=0>.  But that's in information-free guess.

It actually became a new division, "Planet Federal": https://www.planet.com/pulse/planet-to-acquire-boundless/<https://can01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.planet.com%2Fpulse%2Fplanet-to-acquire-boundless%2F&data=04%7C01%7C%7C554acea0f44a4108d37308d98745f23e%7C8705e97737814f4790e1c84c8b884da1%7C0%7C1%7C637689556748193958%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=gZiULY8cy8rmNo45mXyerrhX%2FljrE7YfUlQvyx0%2Bucw%3D&reserved=0>

Cheers
Andrea
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer<https://can01.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fqgis-developer&data=04%7C01%7C%7C554acea0f44a4108d37308d98745f23e%7C8705e97737814f4790e1c84c8b884da1%7C0%7C1%7C637689556748203956%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=M38dKknFhwIYbADZTfnM8INOXrRuQvDzRIv7oOYS2j4%3D&reserved=0>
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer<https://can01.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fqgis-developer&data=04%7C01%7C%7C554acea0f44a4108d37308d98745f23e%7C8705e97737814f4790e1c84c8b884da1%7C0%7C1%7C637689556748203956%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=M38dKknFhwIYbADZTfnM8INOXrRuQvDzRIv7oOYS2j4%3D&reserved=0>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211004/2f06db89/attachment.html>

From senhor.neto at gmail.com  Mon Oct  4 11:46:46 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Mon, 4 Oct 2021 19:46:46 +0100
Subject: [QGIS-Developer] Boundless (docs) & Central provisioning of
 QGIS plugins...
In-Reply-To: <QB1PR01MB2948A5681F63C27D81006A1CB3AE9@QB1PR01MB2948.CANPRD01.PROD.OUTLOOK.COM>
References: <b0406948-f12e-75eb-afe0-7436495c4f21@duif.net>
 <66e1b438-d0e9-2f6d-493c-9a52c1c24371@stripfamily.net>
 <CALHQADX0LsVjUSFNx9ixcOy_o3K4DzRmJu2Uox+MHg84OFSyeg@mail.gmail.com>
 <CA+H0G_EwRiFhprA5AJEZZJ-K3MifqD2yBptcexEhyGFmZscVrg@mail.gmail.com>
 <CA+H0G_GMXmdjRb81SmOfFY_btZopbOwkFhaj18OhmVA2UhrrXA@mail.gmail.com>
 <QB1PR01MB2948A5681F63C27D81006A1CB3AE9@QB1PR01MB2948.CANPRD01.PROD.OUTLOOK.COM>
Message-ID: <CA+H0G_EVJnAPaJRaE8kdaBvOfoRLFET=ivg6CKgpks+HBMNVLQ@mail.gmail.com>

Hi,

Yes, I have tested also and the plugins on that folder be one magically
installed on all profiles. Didn't test on a network folder, but should work.

A segunda, 4/10/2021, 18:19, Bourdon, Jean-Fran?ois (DIF) <
Jean-Francois.Bourdon at mffp.gouv.qc.ca> escreveu:

>
> It seems that if there is any duplicated plugin (same name) in the default
> profile location and in the directory specified by QGIS_PLUGINPATH, only
> the latter will be loaded. It don't think it's bad, but I think this
> behaviour should be noted.
>

I believe there's a reason for this. The QGIS_PLUGINPATH main idea is for
developer automatically load plugins under development, so if you are
developing a already installed plugin, the dev one would take precedence.

Alexandre Neto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211004/431f1fc4/attachment-0001.html>

From strk at kbt.io  Mon Oct  4 13:41:41 2021
From: strk at kbt.io (Sandro Santilli)
Date: Mon, 4 Oct 2021 22:41:41 +0200
Subject: [QGIS-Developer] [Qgis-psc] Developer support channels
In-Reply-To: <36458cfc-c64e-d215-1976-e805753d2b8e@gmx.at>
References: <CAB28Asj8Vpd-aj0V6ewSGLutP2DgL1bP--f4WsUk+SabRdKsgg@mail.gmail.com>
 <20210920084145.usfosv6mm2rkigkj@norbit.de>
 <CAB28Asg6pRe18yMjbmzCgvpsJtsanro-_Zyx9oOBY+qvRRjMTg@mail.gmail.com>
 <460bfb56-1cbd-23c3-90c2-d9b8891d16c5@duif.net>
 <36458cfc-c64e-d215-1976-e805753d2b8e@gmx.at>
Message-ID: <20211004204141.GF2236@c19>

On Sat, Oct 02, 2021 at 01:02:22PM +0200, Anita Graser wrote:
> Hi Richard,
> 
> On 21.09.2021 07:55, Richard Duivenvoorde wrote:
> > I would be ok with both IRC, but I think a #qgis-dev channel on either
> > matrix.org or matrix.osgeo.org would do.
> > There are proper matrix clients for web and phones ( even for Linux phones ;-) ).
> 
> Do you have an overview of matrix activities?
> 
> https://qgis.org/en/site/forusers/support.html says "point your browser
> to (https://matrix.to/#qgis:osgeo.org
> <https://matrix.to/#qgis:osgeo.org>)" which is an invalid link.

That's probably my fault, the actual link is probably:

  https://matrix.to/#/#qgis:osgeo.org

Note the double hash. I remember one day one client failed to accept
the double hash as a valid URL so I tried the single-hash version and
it worked, and I assumed it would keep working, which was evidently
wrong.

> https://app.element.io/#/room/#qgis:osgeo.org says "QGIS.org QGIS
> Official Matrix room | bridged to IRC and Gitter" but it does not bridge
> to Gitter.

I can take a look at the Gitter bridge, could be a temporary issue.

> Instead, https://app.element.io/#/room/#qgis_QGIS:gitter.im is the one
> that does bridge to Gitter but has pretty much no traffic.

That's not a "plumbed" bridge, but rather a "portal" to gitter.
Matrix also supports "portals" to IRC, with links like:

  https://matrix.to/#/#qgis:libera.chat

The difference is that "portals" will obey to access control list
defined by the target, while "plumbed" rooms would obay to rules
defined on Matrix itself. I know, it is confusing :)

> Looks like some consolidation might be helpful but I'm not sure how / if
> that is possible.

Yes it is possible

--strk;

From strk at kbt.io  Mon Oct  4 13:43:47 2021
From: strk at kbt.io (Sandro Santilli)
Date: Mon, 4 Oct 2021 22:43:47 +0200
Subject: [QGIS-Developer] [Qgis-psc] Developer support channels
In-Reply-To: <25a5fa2b-d9a8-22ed-6250-280ad2f838ff@duif.net>
References: <CAB28Asj8Vpd-aj0V6ewSGLutP2DgL1bP--f4WsUk+SabRdKsgg@mail.gmail.com>
 <20210920084145.usfosv6mm2rkigkj@norbit.de>
 <CAB28Asg6pRe18yMjbmzCgvpsJtsanro-_Zyx9oOBY+qvRRjMTg@mail.gmail.com>
 <460bfb56-1cbd-23c3-90c2-d9b8891d16c5@duif.net>
 <36458cfc-c64e-d215-1976-e805753d2b8e@gmx.at>
 <25a5fa2b-d9a8-22ed-6250-280ad2f838ff@duif.net>
Message-ID: <20211004204347.GG2236@c19>

On Sat, Oct 02, 2021 at 03:34:42PM +0200, Richard Duivenvoorde wrote:
> On 10/2/21 1:02 PM, Anita Graser wrote:
> 
> > Do you have an overview of matrix activities?
> > 
> > https://qgis.org/en/site/forusers/support.html says "point your browser to (https://matrix.to/#qgis:osgeo.org <https://matrix.to/#qgis:osgeo.org>)" which is an invalid link.
> 
> Mmm, ok that url (that I created) is apparently now broken: Apparently that should now be:
> 
> https://matrix.to/#/!qgis:osgeo.org (fixed in website)
> 
> > https://app.element.io/#/room/#qgis:osgeo.org says "QGIS.org QGIS Official Matrix room | bridged to IRC and Gitter" but it does not bridge to Gitter.
> 
> > Instead, https://app.element.io/#/room/#qgis_QGIS:gitter.im is the one that does bridge to Gitter but has pretty much no traffic.
> > 
> > Looks like some consolidation might be helpful but I'm not sure how / if that is possible.
> 
> I did not set up those (I think, at least I'm not an Admin there)... I think strk or Tim did?

Maybe I did, with help of Tim, as it takes an admin on both sides.
Anyway, before I try to set it back up... if NOBODY is in Gitter, we
could just NOT BOTHER setting up a bridge, one less proprietary system
to deal with ?

--strk;

From tim at kartoza.com  Mon Oct  4 15:02:14 2021
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 4 Oct 2021 23:02:14 +0100
Subject: [QGIS-Developer] [Qgis-psc] Developer support channels
In-Reply-To: <20211004204347.GG2236@c19>
References: <CAB28Asj8Vpd-aj0V6ewSGLutP2DgL1bP--f4WsUk+SabRdKsgg@mail.gmail.com>
 <20210920084145.usfosv6mm2rkigkj@norbit.de>
 <CAB28Asg6pRe18yMjbmzCgvpsJtsanro-_Zyx9oOBY+qvRRjMTg@mail.gmail.com>
 <460bfb56-1cbd-23c3-90c2-d9b8891d16c5@duif.net>
 <36458cfc-c64e-d215-1976-e805753d2b8e@gmx.at>
 <25a5fa2b-d9a8-22ed-6250-280ad2f838ff@duif.net> <20211004204347.GG2236@c19>
Message-ID: <CAES-DZS5bOt78jbhFE0j4bo4KY_0Ub+rmq3M0SBNkzBcrupj6Q@mail.gmail.com>

Hi

On Mon, Oct 4, 2021 at 9:43 PM Sandro Santilli <strk at kbt.io> wrote:

>
> >
> > I did not set up those (I think, at least I'm not an Admin there)... I
> think strk or Tim did?
>
> Maybe I did, with help of Tim, as it takes an admin on both sides.
> Anyway, before I try to set it back up... if NOBODY is in Gitter, we
> could just NOT BOTHER setting up a bridge, one less proprietary system
> to deal with ?
>
> Yup we did that together a while back. Yes let's ditch the Gitter bridge.

Regards

Tim




> --strk;
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
------------------------------------------------------------------------------------------

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211004/99d171f8/attachment.html>

From nyall.dawson at gmail.com  Mon Oct  4 17:20:08 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 5 Oct 2021 10:20:08 +1000
Subject: [QGIS-Developer] Algorithms in python
In-Reply-To: <CAL5Q672a090gpQW9wEG97Mz71PSqS7sHOQCaB5j1Xqutn7QJBA@mail.gmail.com>
References: <141aa304-5da8-1078-e750-b088369b3fab@gmail.com>
 <CAL5Q672a090gpQW9wEG97Mz71PSqS7sHOQCaB5j1Xqutn7QJBA@mail.gmail.com>
Message-ID: <CAB28AsiOVZNVEef2wxmYYDPmhZjoSXZUO1cU4qqQx3ed_Pro-Q@mail.gmail.com>

On Mon, 4 Oct 2021 at 22:34, Alessandro Pasotti <apasotti at gmail.com> wrote:
>
>
> On Mon, Oct 4, 2021 at 2:26 PM matteo <matteo.ghetta at gmail.com> wrote:
>>
>> Hi devs,
>>
>> recently I've made a PR to add an algorithm to the core, written in python:
>>
>> https://github.com/qgis/QGIS/pull/44680
>>
>> from the comments I get that from now on additional algorithms are
>> accepted only in C++ and not in python anymore.
>>
>> Is this an official statement?
>
>
> Yes, kind of: many developers (myself included) agree to that.

I'd say it's official, given that both @alexbruy and myself (who
currently maintain most of this code) agree. that it's the way we want
to see things go forward.

>
>>
>> My super personal opinion: while I perfectly understand devs position on
>> C++, I think we might miss some useful contributions from python only
>> devs (like me :) ) and we lack of a "straight" way to add useful
>> algorithms to QGIS.
>>
>> I see 2 options:
>>
>> * development of Processing plugins with algorithms that can lead to
>> many plugins and difficulties to find them
>> * have a "straight" way to add additional algorithms to QGIS, like the
>> "Download scripts from collections" of QGIS 2
>>
>> What is a general opinion about this topic?
>
>
> I don't know about "general" but we do have the resource sharing plugin (not sure about the current status of it though) and a "standard" python plugin would also allow us to distribute processing plugins.

+1 for a standard python plugin.

If it's something you feel should definitely be available in qgis
installs, then I'd say making the python version as a prototype and
then opening a feature request for a c++ port is a good approach. Both
Alex Bruy and myself have a history of adopting tickets like this and
porting useful tools on a voluntary basis!

Nyall


>
> Kind regards.
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From julien.cabieces at oslandia.com  Mon Oct  4 22:44:21 2021
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Tue, 05 Oct 2021 07:44:21 +0200
Subject: [QGIS-Developer] duplicate oracle views displayed in the layer
 list
In-Reply-To: <5a9a6ca18037453aa0531245d77abe9c@sibelga.be>
References: <cab7dd2f368340e5b51ab6a4ae5ed353@sibelga.be>
 <9112446fa65648af8101e3eaa6c56c75@sibelga.be>
 <87lf392ojw.fsf@julien-laptop.home>
 <5a9a6ca18037453aa0531245d77abe9c@sibelga.be>
Message-ID: <87bl44gh56.fsf@julien-laptop.home>


Hi,

I take a quick look and there is something to be improved in data source
manager [1]. Could you open an issue? I'll fix it when I get a
bit of time.

Though, if you select your layer from browser and add it directly (not
going through data source manager), the primary keys will be
autmatically detected.

Kind regards,
Julien

[1] https://github.com/qgis/QGIS/blob/master/src/providers/oracle/qgsoraclesourceselect.cpp#L79


> Hello,
>
> Thanks for your feedback. Is this PR integrated in qgis 3.16.9? I guess it is but I am not 100% sure.
>
> I took your unit test in order to test if the PR was working. But the result is still the same. My QGIS can't figure out what is the primary key of the view whereas Qgis can manage to detect the primary key on the table.
>
> Here is my sql script:
>
> CREATE TABLE "ATLAS"."TABLE_TESTPKS" (pk1 INTEGER, DESCRIPTION VARCHAR2(25), pk2 NUMBER, CONSTRAINT cons_pk PRIMARY KEY(pk1, pk2));
> INSERT INTO ALTAS.TABLE_TESTPKS VALUES(1000,'Desc for 1st record', 1);
> INSERT INTO ATLAS.TABLE_TESTPKS VALUES(2000,'Desc for 2nd record', 2);
> CREATE OR REPLACE VIEW "ATLAS"."VIEW_TESTPKS" AS SELECT * FROM ATLAS.TABLE_TESTPKS;
> COMMIT;
> ALTER VIEW ATLAS.VIEW_TESTPKS ADD CONSTRAINT const_view_pks PRIMARY KEY (pk1,pk2) DISABLE;
>
> I also tried with only one primary key on the view:
>
> CREATE TABLE "ATLAS"."TABLE_TESTPKS3" (pk1 INTEGER, DESCRIPTION VARCHAR2(25), pk2 NUMBER, CONSTRAINT cons_pk3 PRIMARY KEY(pk1, pk2));
> COMMIT;
> INSERT INTO TABLE_TESTPKS3 VALUES(1000,'Desc for 1st record', 1);
> INSERT INTO ATLAS.TABLE_TESTPKS3 VALUES(2000,'Desc for 2nd record', 2);
> CREATE OR REPLACE VIEW "ATLAS"."VIEW_TESTPKS3" AS SELECT * FROM ATLAS.TABLE_TESTPKS3 ;
> COMMIT;
> ALTER VIEW ATLAS.VIEW_TESTPKS3 ADD CONSTRAINT const_view_pks3 PRIMARY KEY (pk1) DISABLE;
>
>
> Then for both, I checked in the layer manager if qgis can recognize the id but qgis still offer me the possibility to define the primary key.
>
> Should open an issue? Or something is wrong in my way to test qgis?
>
> Jonathan
>
>
>
>
>
>
>
> -----Message d'origine-----
> De : Julien Cabieces <julien.cabieces at oslandia.com>
> Envoy? : lundi 4 octobre 2021 10:16
> ? : Piraux Jonathan <jonathan.piraux at sibelga.be>
> Cc : qgis-developer at lists.osgeo.org
> Objet : Re: [QGIS-Developer] duplicate oracle views displayed in the layer list
>
>
> Hi,
>
> Regarding the primary key in disabled mode, it should work since this
> PR: https://smex-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fgithub.com%2fqgis%2fQGIS%2fpull%2f35112&umid=0b5dbc0e-6bdc-453a-91ec-8a660054db2a&auth=7f6fc31f18215669cf004d4797887d3e13de5b8d-c69e27dc0d3ac43d988d40510ffd17c7f0be14f0
>
> Take a look about the test requests in the PR, maybe it'll give you an hint about why it doesn't work on your side.
>
> If not, could you please open an issue here: https://smex-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fgithub.com%2fqgis%2fQGIS%2fissues%2f&umid=0b5dbc0e-6bdc-453a-91ec-8a660054db2a&auth=7f6fc31f18215669cf004d4797887d3e13de5b8d-5948a851307fe8df3701542c3952384de944f1c0
>
> Kind regards,
> Julien
>
>> Hello,
>>
>> I can't figure out how I should configure my oracle db to avoid qgis to duplicate oracle views in the layer manager. Like shown in the following link:
>>
>> https://i.stack.imgur.com/esjuI.png
>>
>> On this image we can see that all oracle views are displayed 3 times:
>>
>>
>>   *   Once as an attribute table
>>   *   Once as a layer with a known primary key
>>   *   Once as a layer without a known primary key
>>
>> I though that the issue was link to the fact that the views had no primary keys. This as I saw in the oracle provider code (qgsoracleprovider.cpp)  that there is logic to select a column of the view/table that could be a primary key.
>>
>> Therefore, I tried to set a primary key on one view as Oracle allows it (in disabled mode). But without any success.
>>
>> As any one a suggestion? An idea how I could correctly define my oracle views?
>>
>> I am using Qgis 3.16.9
>>
>> Thanks
>>
>> Jonathan
>>
>>
>>
>>
>>
>>
>>
>>
>> Disclaimer
>>
>> Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.
>>
>> Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.
>>
>> Sibelga<https://www.sibelga.be>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> Disclaimer
>
> Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.
>
> Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.
>
> Sibelga<https://www.sibelga.be>


From matteo.ghetta at gmail.com  Mon Oct  4 23:52:04 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 5 Oct 2021 08:52:04 +0200
Subject: [QGIS-Developer] Algorithms in python
In-Reply-To: <CAB28AsiOVZNVEef2wxmYYDPmhZjoSXZUO1cU4qqQx3ed_Pro-Q@mail.gmail.com>
References: <141aa304-5da8-1078-e750-b088369b3fab@gmail.com>
 <CAL5Q672a090gpQW9wEG97Mz71PSqS7sHOQCaB5j1Xqutn7QJBA@mail.gmail.com>
 <CAB28AsiOVZNVEef2wxmYYDPmhZjoSXZUO1cU4qqQx3ed_Pro-Q@mail.gmail.com>
Message-ID: <796ba029-25e8-0959-9fdf-5a926f57a667@gmail.com>

Hi,

> +1 for a standard python plugin.
> 
> If it's something you feel should definitely be available in qgis
> installs, then I'd say making the python version as a prototype and
> then opening a feature request for a c++ port is a good approach. Both
> Alex Bruy and myself have a history of adopting tickets like this and
> porting useful tools on a voluntary basis!

yes I think this algorithm can be very useful to have in core :) OK so 
should I reopen the PR?

I didn't quite get the workflow: PR opened with a python algorithm, it 
is accepted, merged and tagged as "to be ported to C++"?

Cheers and thanks

Matteo

From strk at kbt.io  Tue Oct  5 01:30:57 2021
From: strk at kbt.io (Sandro Santilli)
Date: Tue, 5 Oct 2021 10:30:57 +0200
Subject: [QGIS-Developer] [Qgis-psc] Developer support channels
In-Reply-To: <CAES-DZS5bOt78jbhFE0j4bo4KY_0Ub+rmq3M0SBNkzBcrupj6Q@mail.gmail.com>
References: <CAB28Asj8Vpd-aj0V6ewSGLutP2DgL1bP--f4WsUk+SabRdKsgg@mail.gmail.com>
 <20210920084145.usfosv6mm2rkigkj@norbit.de>
 <CAB28Asg6pRe18yMjbmzCgvpsJtsanro-_Zyx9oOBY+qvRRjMTg@mail.gmail.com>
 <460bfb56-1cbd-23c3-90c2-d9b8891d16c5@duif.net>
 <36458cfc-c64e-d215-1976-e805753d2b8e@gmx.at>
 <25a5fa2b-d9a8-22ed-6250-280ad2f838ff@duif.net>
 <20211004204347.GG2236@c19>
 <CAES-DZS5bOt78jbhFE0j4bo4KY_0Ub+rmq3M0SBNkzBcrupj6Q@mail.gmail.com>
Message-ID: <20211005083057.GA2268@c19>

On Mon, Oct 04, 2021 at 11:02:14PM +0100, Tim Sutton wrote:
> 
> Yup we did that together a while back. Yes let's ditch the Gitter bridge.

Done: kicked the "Gitter Badger" user from the matrix room.

So, next: the "Developer support channel", invite-only.
I might have found a possible (although not very easy) way to bridge
that to an invite-only IRC channel. To try that we would need to
temporarely set the matrix room as public, then setup the bridge and
then toggle back to invite-only. It takes a room administrator to
do that, but as I left the room I'm unable to re-join (invites are
not sticking?).

Could anyone re-invite me for testing this ?

--strk;

From strk at kbt.io  Tue Oct  5 07:30:56 2021
From: strk at kbt.io (Sandro Santilli)
Date: Tue, 5 Oct 2021 16:30:56 +0200
Subject: [QGIS-Developer] [Qgis-psc] Developer support channels
In-Reply-To: <20211005083057.GA2268@c19>
References: <CAB28Asj8Vpd-aj0V6ewSGLutP2DgL1bP--f4WsUk+SabRdKsgg@mail.gmail.com>
 <20210920084145.usfosv6mm2rkigkj@norbit.de>
 <CAB28Asg6pRe18yMjbmzCgvpsJtsanro-_Zyx9oOBY+qvRRjMTg@mail.gmail.com>
 <460bfb56-1cbd-23c3-90c2-d9b8891d16c5@duif.net>
 <36458cfc-c64e-d215-1976-e805753d2b8e@gmx.at>
 <25a5fa2b-d9a8-22ed-6250-280ad2f838ff@duif.net>
 <20211004204347.GG2236@c19>
 <CAES-DZS5bOt78jbhFE0j4bo4KY_0Ub+rmq3M0SBNkzBcrupj6Q@mail.gmail.com>
 <20211005083057.GA2268@c19>
Message-ID: <20211005143056.GB2268@c19>

On Tue, Oct 05, 2021 at 10:30:57AM +0200, Sandro Santilli wrote:

> I might have found a possible (although not very easy) way to bridge
> that to an invite-only IRC channel. To try that we would need to
> temporarely set the matrix room as public, then setup the bridge and
> then toggle back to invite-only. It takes a room administrator to
> do that, but as I left the room I'm unable to re-join (invites are
> not sticking?).
> 
> Could anyone re-invite me for testing this ?

I got the invite and was able to set things up, so now the
invite-only Matrix room - aliased as #qgis.dev:osgeo.org -
is bridged to the invite-only IRC channel #qgis-private on
libera.chat network.

People who don't want/can't use Matrix but want to partecipate
via IRC can do so by obtaining an invitation (/invite <nickname>)
which is lost after leaving the channel or by obtaining a permanent
invitation excempt, for which I recommend only trusting *registered*
IRC users. Adding an excempt (example: /mode #qgis-private +I $a:jef )

The current list of registered Libera IRC users who have access
to the channel is: jef, strk, duiv. Anyone else wanting to use IRC
please just ask (maybe on the public channel). How to decide whether
to grant invites - though - is still not clear to me :)

--strk;

From raywu2001 at gmail.com  Tue Oct  5 13:11:30 2021
From: raywu2001 at gmail.com (Ray Wu)
Date: Tue, 5 Oct 2021 16:11:30 -0400
Subject: [QGIS-Developer] Error building QGIS 3.16 from source on Windows
Message-ID: <CAMD2WN5Qv1R__n0DR48C2ZOvtsK-qLhJ7j3ONnVzaWA9hMK_-A@mail.gmail.com>

Hello,

I am trying to build QGIS 3.16 from source on Windows. I followed the steps
as specified in the document below but it failed.
https://github.com/qgis/QGIS/blob/release-3_16/INSTALL.md.

I followed all the steps in the document. When running "4.1.4.1 Using
configonly.bat to create the MSVC solution file", it failed with errors.
The first error is "'gdal-dev-env.bat' is not recognized as an internal or
external command". I searched "gdal-dev-env.bat" under "C:\OSGeo4W64" but
the file is not there. I wonder how to fix this or what I miss or need to
install?

Thanks,
Ray
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211005/917ee2f2/attachment.html>

From jef at norbit.de  Tue Oct  5 15:34:33 2021
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Wed, 6 Oct 2021 00:34:33 +0200
Subject: [QGIS-Developer] Error building QGIS 3.16 from source on Windows
In-Reply-To: <CAMD2WN5Qv1R__n0DR48C2ZOvtsK-qLhJ7j3ONnVzaWA9hMK_-A@mail.gmail.com>
References: <CAMD2WN5Qv1R__n0DR48C2ZOvtsK-qLhJ7j3ONnVzaWA9hMK_-A@mail.gmail.com>
Message-ID: <20211005223433.yyp2aytjgbtuudrz@norbit.de>

Hi Ray,

On Tue, 05. Oct 2021 at 16:11:30 -0400, Ray Wu wrote:
> I am trying to build QGIS 3.16 from source on Windows. I followed the steps
> as specified in the document below but it failed.
> https://github.com/qgis/QGIS/blob/release-3_16/INSTALL.md.
> 
> I followed all the steps in the document. When running "4.1.4.1 Using
> configonly.bat to create the MSVC solution file", it failed with errors.
> The first error is "'gdal-dev-env.bat' is not recognized as an internal or
> external command". I searched "gdal-dev-env.bat" under "C:\OSGeo4W64" but
> the file is not there. I wonder how to fix this or what I miss or need to
> install?

That's targeted for the old osgeo4w and gdal-dev-env.bat is in gdal-dev (GDAL
nightlies).

The recipes for osgeo4w v2 are
https://github.com/jef-n/OSGeo4W/tree/master/src/qgis-ltr/osgeo4w.


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                 IRC: jef on Libera|OFTC
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211006/861e14e5/attachment.sig>

From jonathan.piraux at sibelga.be  Tue Oct  5 15:37:45 2021
From: jonathan.piraux at sibelga.be (jonathan.piraux at sibelga.be)
Date: Tue, 5 Oct 2021 22:37:45 +0000
Subject: [QGIS-Developer] duplicate oracle views displayed in the layer
 list
In-Reply-To: <87bl44gh56.fsf@julien-laptop.home>
References: <cab7dd2f368340e5b51ab6a4ae5ed353@sibelga.be>
 <9112446fa65648af8101e3eaa6c56c75@sibelga.be>
 <87lf392ojw.fsf@julien-laptop.home>
 <5a9a6ca18037453aa0531245d77abe9c@sibelga.be>
 <87bl44gh56.fsf@julien-laptop.home>
Message-ID: <a429c2dfa8b74509bdfcf156521c1924@sibelga.be>

Hello,

I created the issue here:

https://github.com/qgis/QGIS/issues/45419


You a right the primary key is recognized as primary key if I add it from the browser.

Nevertheless, I still have the issue that views are visible 2 times. Therefore I suspect that there is an another issue that make view appearing 3 time in the browser as well ass in the source manager. But I don't know if it is a an oracle issue or if it is a qgis issue.

Here is what I have in my browser:

https://ibb.co/ncfB5ZT

How does the browser construct the layer tree?
I saw in the code that if the table/view has multiple geometry column then it create 2 layer. One by geometry column.
But apart from that. Is there any other qgis logic that might create multiple layer from out the same oracle table/view?

I saw in the log that qgis execute 2 times the same query like:

2021-10-06T00:12:41     WARNING    SQL: SELECT DISTINCT t."GEOSCHEMATIQUE".SDO_GTYPE FROM (SELECT "GEOSCHEMATIQUE" FROM "ATLAS"."V_GIS_REGLETTEBT" WHERE "GEOSCHEMATIQUE" IS NOT NULL AND rownum             Erreur: ORA-00904: "GEOSCHEMATIQUE": invalid identifier

2021-10-06T00:12:41     WARNING    SQL: SELECT DISTINCT t."GEOSCHEMATIQUE".SDO_GTYPE FROM (SELECT "GEOSCHEMATIQUE" FROM "ATLAS"."V_GIS_REGLETTEBT" WHERE "GEOSCHEMATIQUE" IS NOT NULL AND rownum             Erreur: ORA-00904: "GEOSCHEMATIQUE": invalid identifier
(please ignore the invalid identifier error, this come from the fact that the geometry column name in my view is not the same the one recorder in the all_sdo_geom_metadate view, I have to fix this)


Could it be that qgis execute 2 times the same code?

Thanks

Jonathan




-----Message d'origine-----
De : Julien Cabieces <julien.cabieces at oslandia.com>
Envoy? : mardi 5 octobre 2021 07:44
? : Piraux Jonathan <jonathan.piraux at sibelga.be>
Cc : qgis-developer at lists.osgeo.org
Objet : Re: [QGIS-Developer] duplicate oracle views displayed in the layer list


Hi,

I take a quick look and there is something to be improved in data source manager [1]. Could you open an issue? I'll fix it when I get a bit of time.

Though, if you select your layer from browser and add it directly (not going through data source manager), the primary keys will be autmatically detected.

Kind regards,
Julien

[1] https://smex-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fgithub.com%2fqgis%2fQGIS%2fblob%2fmaster%2fsrc%2fproviders%2foracle%2fqgsoraclesourceselect.cpp%23L79&umid=780a0b5f-df07-47e0-9067-f0d12d136c07&auth=36d1d20e74f91a1e26e6349f2f53f5bb05fa2020-145d981027346e5624c2dcd38adcf23f407df85f


> Hello,
>
> Thanks for your feedback. Is this PR integrated in qgis 3.16.9? I guess it is but I am not 100% sure.
>
> I took your unit test in order to test if the PR was working. But the result is still the same. My QGIS can't figure out what is the primary key of the view whereas Qgis can manage to detect the primary key on the table.
>
> Here is my sql script:
>
> CREATE TABLE "ATLAS"."TABLE_TESTPKS" (pk1 INTEGER, DESCRIPTION
> VARCHAR2(25), pk2 NUMBER, CONSTRAINT cons_pk PRIMARY KEY(pk1, pk2));
> INSERT INTO ALTAS.TABLE_TESTPKS VALUES(1000,'Desc for 1st record', 1);
> INSERT INTO ATLAS.TABLE_TESTPKS VALUES(2000,'Desc for 2nd record', 2);
> CREATE OR REPLACE VIEW "ATLAS"."VIEW_TESTPKS" AS SELECT * FROM
> ATLAS.TABLE_TESTPKS; COMMIT; ALTER VIEW ATLAS.VIEW_TESTPKS ADD
> CONSTRAINT const_view_pks PRIMARY KEY (pk1,pk2) DISABLE;
>
> I also tried with only one primary key on the view:
>
> CREATE TABLE "ATLAS"."TABLE_TESTPKS3" (pk1 INTEGER, DESCRIPTION
> VARCHAR2(25), pk2 NUMBER, CONSTRAINT cons_pk3 PRIMARY KEY(pk1, pk2));
> COMMIT; INSERT INTO TABLE_TESTPKS3 VALUES(1000,'Desc for 1st record',
> 1); INSERT INTO ATLAS.TABLE_TESTPKS3 VALUES(2000,'Desc for 2nd
> record', 2); CREATE OR REPLACE VIEW "ATLAS"."VIEW_TESTPKS3" AS SELECT
> * FROM ATLAS.TABLE_TESTPKS3 ; COMMIT; ALTER VIEW ATLAS.VIEW_TESTPKS3
> ADD CONSTRAINT const_view_pks3 PRIMARY KEY (pk1) DISABLE;
>
>
> Then for both, I checked in the layer manager if qgis can recognize the id but qgis still offer me the possibility to define the primary key.
>
> Should open an issue? Or something is wrong in my way to test qgis?
>
> Jonathan
>
>
>
>
>
>
>
> -----Message d'origine-----
> De : Julien Cabieces <julien.cabieces at oslandia.com> Envoy? : lundi 4
> octobre 2021 10:16 ? : Piraux Jonathan <jonathan.piraux at sibelga.be> Cc
> : qgis-developer at lists.osgeo.org Objet : Re: [QGIS-Developer]
> duplicate oracle views displayed in the layer list
>
>
> Hi,
>
> Regarding the primary key in disabled mode, it should work since this
> PR:
> https://smex-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=https%3
> a%2f%2fgithub.com%2fqgis%2fQGIS%2fpull%2f35112&umid=0b5dbc0e-6bdc-453a
> -91ec-8a660054db2a&auth=7f6fc31f18215669cf004d4797887d3e13de5b8d-c69e2
> 7dc0d3ac43d988d40510ffd17c7f0be14f0
>
> Take a look about the test requests in the PR, maybe it'll give you an hint about why it doesn't work on your side.
>
> If not, could you please open an issue here:
> https://smex-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=https%3
> a%2f%2fgithub.com%2fqgis%2fQGIS%2fissues%2f&umid=0b5dbc0e-6bdc-453a-91
> ec-8a660054db2a&auth=7f6fc31f18215669cf004d4797887d3e13de5b8d-5948a851
> 307fe8df3701542c3952384de944f1c0
>
> Kind regards,
> Julien
>
>> Hello,
>>
>> I can't figure out how I should configure my oracle db to avoid qgis to duplicate oracle views in the layer manager. Like shown in the following link:
>>
>> https://i.stack.imgur.com/esjuI.png
>>
>> On this image we can see that all oracle views are displayed 3 times:
>>
>>
>>   *   Once as an attribute table
>>   *   Once as a layer with a known primary key
>>   *   Once as a layer without a known primary key
>>
>> I though that the issue was link to the fact that the views had no primary keys. This as I saw in the oracle provider code (qgsoracleprovider.cpp)  that there is logic to select a column of the view/table that could be a primary key.
>>
>> Therefore, I tried to set a primary key on one view as Oracle allows it (in disabled mode). But without any success.
>>
>> As any one a suggestion? An idea how I could correctly define my oracle views?
>>
>> I am using Qgis 3.16.9
>>
>> Thanks
>>
>> Jonathan
>>
>>
>>
>>
>>
>>
>>
>>
>> Disclaimer
>>
>> Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.
>>
>> Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.
>>
>> Sibelga<https://www.sibelga.be>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> Disclaimer
>
> Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.
>
> Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.
>
> Sibelga<https://www.sibelga.be>


Disclaimer

Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.

Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.

Sibelga<https://www.sibelga.be>


From rdmailings at duif.net  Tue Oct  5 22:54:57 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 6 Oct 2021 07:54:57 +0200
Subject: [QGIS-Developer] duplicate oracle views displayed in the layer
 list
In-Reply-To: <a429c2dfa8b74509bdfcf156521c1924@sibelga.be>
References: <cab7dd2f368340e5b51ab6a4ae5ed353@sibelga.be>
 <9112446fa65648af8101e3eaa6c56c75@sibelga.be>
 <87lf392ojw.fsf@julien-laptop.home>
 <5a9a6ca18037453aa0531245d77abe9c@sibelga.be>
 <87bl44gh56.fsf@julien-laptop.home>
 <a429c2dfa8b74509bdfcf156521c1924@sibelga.be>
Message-ID: <cd8945ab-d3f5-f99b-d6da-af3ffd210389@duif.net>

/me wildly guessing here: if QGIS 'sees' different geom types, it is shown multiple in the browser isn't it, or am I mixing up things here..? Like if a layer has both points and lines?
Is it possible that (because of the wrong metadata in your view?) that QGIS both 'guesses' a type and get's another type from your sdo_metadata? OR that you really have different types in your table?

As said: just guessing :-)

What about creating this view with another name and just a few records?

Regards,

Richard Duivenvoorde


On 10/6/21 12:37 AM, jonathan.piraux at sibelga.be wrote:
> Hello,
> 
> I created the issue here:
> 
> https://github.com/qgis/QGIS/issues/45419
> 
> 
> You a right the primary key is recognized as primary key if I add it from the browser.
> 
> Nevertheless, I still have the issue that views are visible 2 times. Therefore I suspect that there is an another issue that make view appearing 3 time in the browser as well ass in the source manager. But I don't know if it is a an oracle issue or if it is a qgis issue.
> 
> Here is what I have in my browser:
> 
> https://ibb.co/ncfB5ZT
> 
> How does the browser construct the layer tree?
> I saw in the code that if the table/view has multiple geometry column then it create 2 layer. One by geometry column.
> But apart from that. Is there any other qgis logic that might create multiple layer from out the same oracle table/view?
> 
> I saw in the log that qgis execute 2 times the same query like:
> 
> 2021-10-06T00:12:41     WARNING    SQL: SELECT DISTINCT t."GEOSCHEMATIQUE".SDO_GTYPE FROM (SELECT "GEOSCHEMATIQUE" FROM "ATLAS"."V_GIS_REGLETTEBT" WHERE "GEOSCHEMATIQUE" IS NOT NULL AND rownum             Erreur: ORA-00904: "GEOSCHEMATIQUE": invalid identifier
> 
> 2021-10-06T00:12:41     WARNING    SQL: SELECT DISTINCT t."GEOSCHEMATIQUE".SDO_GTYPE FROM (SELECT "GEOSCHEMATIQUE" FROM "ATLAS"."V_GIS_REGLETTEBT" WHERE "GEOSCHEMATIQUE" IS NOT NULL AND rownum             Erreur: ORA-00904: "GEOSCHEMATIQUE": invalid identifier
> (please ignore the invalid identifier error, this come from the fact that the geometry column name in my view is not the same the one recorder in the all_sdo_geom_metadate view, I have to fix this)
> 
> 
> Could it be that qgis execute 2 times the same code?
> 
> Thanks
> 
> Jonathan
> 
> 
> 
> 
> -----Message d'origine-----
> De : Julien Cabieces <julien.cabieces at oslandia.com>
> Envoy? : mardi 5 octobre 2021 07:44
> ? : Piraux Jonathan <jonathan.piraux at sibelga.be>
> Cc : qgis-developer at lists.osgeo.org
> Objet : Re: [QGIS-Developer] duplicate oracle views displayed in the layer list
> 
> 
> Hi,
> 
> I take a quick look and there is something to be improved in data source manager [1]. Could you open an issue? I'll fix it when I get a bit of time.
> 
> Though, if you select your layer from browser and add it directly (not going through data source manager), the primary keys will be autmatically detected.
> 
> Kind regards,
> Julien
> 
> [1] https://smex-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fgithub.com%2fqgis%2fQGIS%2fblob%2fmaster%2fsrc%2fproviders%2foracle%2fqgsoraclesourceselect.cpp%23L79&umid=780a0b5f-df07-47e0-9067-f0d12d136c07&auth=36d1d20e74f91a1e26e6349f2f53f5bb05fa2020-145d981027346e5624c2dcd38adcf23f407df85f
> 
> 
>> Hello,
>>
>> Thanks for your feedback. Is this PR integrated in qgis 3.16.9? I guess it is but I am not 100% sure.
>>
>> I took your unit test in order to test if the PR was working. But the result is still the same. My QGIS can't figure out what is the primary key of the view whereas Qgis can manage to detect the primary key on the table.
>>
>> Here is my sql script:
>>
>> CREATE TABLE "ATLAS"."TABLE_TESTPKS" (pk1 INTEGER, DESCRIPTION
>> VARCHAR2(25), pk2 NUMBER, CONSTRAINT cons_pk PRIMARY KEY(pk1, pk2));
>> INSERT INTO ALTAS.TABLE_TESTPKS VALUES(1000,'Desc for 1st record', 1);
>> INSERT INTO ATLAS.TABLE_TESTPKS VALUES(2000,'Desc for 2nd record', 2);
>> CREATE OR REPLACE VIEW "ATLAS"."VIEW_TESTPKS" AS SELECT * FROM
>> ATLAS.TABLE_TESTPKS; COMMIT; ALTER VIEW ATLAS.VIEW_TESTPKS ADD
>> CONSTRAINT const_view_pks PRIMARY KEY (pk1,pk2) DISABLE;
>>
>> I also tried with only one primary key on the view:
>>
>> CREATE TABLE "ATLAS"."TABLE_TESTPKS3" (pk1 INTEGER, DESCRIPTION
>> VARCHAR2(25), pk2 NUMBER, CONSTRAINT cons_pk3 PRIMARY KEY(pk1, pk2));
>> COMMIT; INSERT INTO TABLE_TESTPKS3 VALUES(1000,'Desc for 1st record',
>> 1); INSERT INTO ATLAS.TABLE_TESTPKS3 VALUES(2000,'Desc for 2nd
>> record', 2); CREATE OR REPLACE VIEW "ATLAS"."VIEW_TESTPKS3" AS SELECT
>> * FROM ATLAS.TABLE_TESTPKS3 ; COMMIT; ALTER VIEW ATLAS.VIEW_TESTPKS3
>> ADD CONSTRAINT const_view_pks3 PRIMARY KEY (pk1) DISABLE;
>>
>>
>> Then for both, I checked in the layer manager if qgis can recognize the id but qgis still offer me the possibility to define the primary key.
>>
>> Should open an issue? Or something is wrong in my way to test qgis?
>>
>> Jonathan
>>
>>
>>
>>
>>
>>
>>
>> -----Message d'origine-----
>> De : Julien Cabieces <julien.cabieces at oslandia.com> Envoy? : lundi 4
>> octobre 2021 10:16 ? : Piraux Jonathan <jonathan.piraux at sibelga.be> Cc
>> : qgis-developer at lists.osgeo.org Objet : Re: [QGIS-Developer]
>> duplicate oracle views displayed in the layer list
>>
>>
>> Hi,
>>
>> Regarding the primary key in disabled mode, it should work since this
>> PR:
>> https://smex-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=https%3
>> a%2f%2fgithub.com%2fqgis%2fQGIS%2fpull%2f35112&umid=0b5dbc0e-6bdc-453a
>> -91ec-8a660054db2a&auth=7f6fc31f18215669cf004d4797887d3e13de5b8d-c69e2
>> 7dc0d3ac43d988d40510ffd17c7f0be14f0
>>
>> Take a look about the test requests in the PR, maybe it'll give you an hint about why it doesn't work on your side.
>>
>> If not, could you please open an issue here:
>> https://smex-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=https%3
>> a%2f%2fgithub.com%2fqgis%2fQGIS%2fissues%2f&umid=0b5dbc0e-6bdc-453a-91
>> ec-8a660054db2a&auth=7f6fc31f18215669cf004d4797887d3e13de5b8d-5948a851
>> 307fe8df3701542c3952384de944f1c0
>>
>> Kind regards,
>> Julien
>>
>>> Hello,
>>>
>>> I can't figure out how I should configure my oracle db to avoid qgis to duplicate oracle views in the layer manager. Like shown in the following link:
>>>
>>> https://i.stack.imgur.com/esjuI.png
>>>
>>> On this image we can see that all oracle views are displayed 3 times:
>>>
>>>
>>>   *   Once as an attribute table
>>>   *   Once as a layer with a known primary key
>>>   *   Once as a layer without a known primary key
>>>
>>> I though that the issue was link to the fact that the views had no primary keys. This as I saw in the oracle provider code (qgsoracleprovider.cpp)  that there is logic to select a column of the view/table that could be a primary key.
>>>
>>> Therefore, I tried to set a primary key on one view as Oracle allows it (in disabled mode). But without any success.
>>>
>>> As any one a suggestion? An idea how I could correctly define my oracle views?
>>>
>>> I am using Qgis 3.16.9
>>>
>>> Thanks
>>>
>>> Jonathan
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> Disclaimer
>>>
>>> Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.
>>>
>>> Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.
>>>
>>> Sibelga<https://www.sibelga.be>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>> Disclaimer
>>
>> Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.
>>
>> Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.
>>
>> Sibelga<https://www.sibelga.be>
> 
> 
> Disclaimer
> 
> Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.
> 
> Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.
> 
> Sibelga<https://www.sibelga.be>
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From jef at norbit.de  Wed Oct  6 00:52:04 2021
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Wed, 6 Oct 2021 09:52:04 +0200
Subject: [QGIS-Developer] duplicate oracle views displayed in the layer
 list
In-Reply-To: <cd8945ab-d3f5-f99b-d6da-af3ffd210389@duif.net>
References: <cab7dd2f368340e5b51ab6a4ae5ed353@sibelga.be>
 <9112446fa65648af8101e3eaa6c56c75@sibelga.be>
 <87lf392ojw.fsf@julien-laptop.home>
 <5a9a6ca18037453aa0531245d77abe9c@sibelga.be>
 <87bl44gh56.fsf@julien-laptop.home>
 <a429c2dfa8b74509bdfcf156521c1924@sibelga.be>
 <cd8945ab-d3f5-f99b-d6da-af3ffd210389@duif.net>
Message-ID: <20211006075203.57kjdextchuzu3ew@norbit.de>

Hi Richard,

On Wed, 06. Oct 2021 at 07:54:57 +0200, Richard Duivenvoorde wrote:
> /me wildly guessing here: if QGIS 'sees' different geom types, it is shown
> multiple in the browser isn't it, or am I mixing up things here..? Like if a
> layer has both points and lines?

There is no geometry type constraint in Oracle, so you can have any geometry
type - even ones that don't yet exists.  So you get one line for each existing
geometry type (point, line, area) and one where you have to select the geometry
type in case you want to add a not yet existing geometry type.

Same happens for GEOMETRY columns (instead limited to POINT, LINESTRING or
POLYGON) in postgres.


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                 IRC: jef on Libera|OFTC
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211006/945ca5d7/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211006/945ca5d7/attachment.ksh>

From jonathan.piraux at sibelga.be  Wed Oct  6 04:56:10 2021
From: jonathan.piraux at sibelga.be (jonathan.piraux at sibelga.be)
Date: Wed, 6 Oct 2021 11:56:10 +0000
Subject: [QGIS-Developer] duplicate oracle views displayed in the layer
 list
In-Reply-To: <20211006075203.57kjdextchuzu3ew@norbit.de>
References: <cab7dd2f368340e5b51ab6a4ae5ed353@sibelga.be>
 <9112446fa65648af8101e3eaa6c56c75@sibelga.be>
 <87lf392ojw.fsf@julien-laptop.home>
 <5a9a6ca18037453aa0531245d77abe9c@sibelga.be>
 <87bl44gh56.fsf@julien-laptop.home>
 <a429c2dfa8b74509bdfcf156521c1924@sibelga.be>
 <cd8945ab-d3f5-f99b-d6da-af3ffd210389@duif.net>
 <20211006075203.57kjdextchuzu3ew@norbit.de>
Message-ID: <c9964f66d186495ea04cd6f4cb1c88bc@sibelga.be>

Hello,

Thanks for your support.

I am happy that the original author of the oracle provider joined the conversation.

Regarding the hypothesis of Richard. My views can contain multiple geometry column (it is not always the case, most of the time it is one geom. column) BUT each of them only contains one sort of geometry.

If there is 2 geometry column. I get the following result in the qgis browser:

One layer for the first geometry column
A second layer for the second geometry column

---> This is expected

But also :

A third layer also representing the first geometry column
a Fourth layer also representing the second geometry column
An attribute layer without any geometry.

Here is an example:

https://ibb.co/FJ1HGGG

So if I take back Richard's hypothesis. One option could be that the way how I create my record in user_SDO_GEOM_METADATATABLE is not correct and therefore QGIS detect a difference between what is imputed in the diminfo column of the  user_SDO_GEOM_METADATATABLE view and the analysis done on the 100 first record of one geometry column (I am using the option estimate metadata ) of  the view when qgis analyse each view to estimate the geometry type.

Here how I do my insert in user_sdo_geom_metadata:

INSERT INTO MDSYS.USER_SDO_GEOM_METADATA (table_name, column_name,diminfo,srid)
VALUES (''' || VIEW_NAME || ''',''' || VIEW_FIELD_NAME || ''',
MDSYS.SDO_DIM_ARRAY(MDSYS.SDO_DIM_ELEMENT(''X'',133000,168000,0.00005),
MDSYS.SDO_DIM_ELEMENT(''Y'',155000,184000,0.00005),
MDSYS.SDO_DIM_ELEMENT(''Z'',-1000,1000,0.00005)),31370)

(this is executed in the framework of a psql script).

Do I have to change something in my insert statement? Is my diminfo correct?


Jonathan




-----Message d'origine-----
De : QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la part de J?rgen E. Fischer
Envoy? : mercredi 6 octobre 2021 09:52
? : Richard Duivenvoorde <rdmailings at duif.net>
Cc : qgis-developer at lists.osgeo.org
Objet : Re: [QGIS-Developer] duplicate oracle views displayed in the layer list

Hi Richard,

On Wed, 06. Oct 2021 at 07:54:57 +0200, Richard Duivenvoorde wrote:
> /me wildly guessing here: if QGIS 'sees' different geom types, it is
> shown multiple in the browser isn't it, or am I mixing up things
> here..? Like if a layer has both points and lines?

There is no geometry type constraint in Oracle, so you can have any geometry type - even ones that don't yet exists.  So you get one line for each existing geometry type (point, line, area) and one where you have to select the geometry type in case you want to add a not yet existing geometry type.

Same happens for GEOMETRY columns (instead limited to POINT, LINESTRING or
POLYGON) in postgres.


J?rgen

--
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                 IRC: jef on Libera|OFTC



On 10/6/21 12:37 AM, jonathan.piraux at sibelga.be wrote:
> Hello,
>
> I created the issue here:
>
> https://github.com/qgis/QGIS/issues/45419
>
>
> You a right the primary key is recognized as primary key if I add it from the browser.
>
> Nevertheless, I still have the issue that views are visible 2 times. Therefore I suspect that there is an another issue that make view appearing 3 time in the browser as well ass in the source manager. But I don't know if it is a an oracle issue or if it is a qgis issue.
>
> Here is what I have in my browser:
>
> https://ibb.co/ncfB5ZT
>
> How does the browser construct the layer tree?
> I saw in the code that if the table/view has multiple geometry column then it create 2 layer. One by geometry column.
> But apart from that. Is there any other qgis logic that might create multiple layer from out the same oracle table/view?
>
> I saw in the log that qgis execute 2 times the same query like:
>
> 2021-10-06T00:12:41     WARNING    SQL: SELECT DISTINCT t."GEOSCHEMATIQUE".SDO_GTYPE FROM (SELECT "GEOSCHEMATIQUE" FROM "ATLAS"."V_GIS_REGLETTEBT" WHERE "GEOSCHEMATIQUE" IS NOT NULL AND rownum             Erreur: ORA-00904: "GEOSCHEMATIQUE": invalid identifier
>
> 2021-10-06T00:12:41     WARNING    SQL: SELECT DISTINCT t."GEOSCHEMATIQUE".SDO_GTYPE FROM (SELECT "GEOSCHEMATIQUE" FROM "ATLAS"."V_GIS_REGLETTEBT" WHERE "GEOSCHEMATIQUE" IS NOT NULL AND rownum             Erreur: ORA-00904: "GEOSCHEMATIQUE": invalid identifier
> (please ignore the invalid identifier error, this come from the fact
> that the geometry column name in my view is not the same the one
> recorder in the all_sdo_geom_metadate view, I have to fix this)
>
>
> Could it be that qgis execute 2 times the same code?
>
> Thanks
>
> Jonathan
>

Disclaimer

Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.

Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.

Sibelga<https://www.sibelga.be>


From jonathan.piraux at sibelga.be  Wed Oct  6 14:00:25 2021
From: jonathan.piraux at sibelga.be (jonathan.piraux at sibelga.be)
Date: Wed, 6 Oct 2021 21:00:25 +0000
Subject: [QGIS-Developer] ARE: duplicate oracle views displayed in the layer
 list
Message-ID: <2b6b9d0f264b4a91ae159aa18e0183e3@sibelga.be>

Hello,

I think I finally found why QGIS display 2 times the same layer in the browser and the layer manager. The first query done by QGIS when opening an oracle connexion is

SELECT
       c.table_name,
       c.column_name,
       c.srid,
       o.object_type     AS TYPE
  FROM all_sdo_geom_metadata  c
       JOIN all_objects o
           ON     c.table_name = o.object_name
              AND o.object_type IN ('TABLE', 'VIEW', 'SYNONYM')
              AND c.owner = 'ATLAS'

This query return ,in my case, two records about the same table/view. But one time with the type table/view and one time the type synonym.

Here is an example

|TABLE_NAME   |COLUMN_NAME   |SRID |TYPE   |
|-------------|--------------|-----|-------|
|V_GIS_CABLEBT|PLAN_DE_POSE  |31370|SYNONYM|
|V_GIS_CABLEBT|PLAN_DE_POSE  |31370|VIEW   |

Why does qgis include the synonym object type into consideration?

Remove the synonym is not an option for me.
Do you have an alternative?
At QGIS level could we change this ?

Thanks

Jonathan



-----Message d'origine-----
De : Piraux Jonathan
Envoy? : mercredi 6 octobre 2021 13:56
? : 'J?rgen E. Fischer' <jef at norbit.de>; Richard Duivenvoorde <rdmailings at duif.net>
Cc : qgis-developer at lists.osgeo.org
Objet : RE: [QGIS-Developer] duplicate oracle views displayed in the layer list

Hello,

Thanks for your support.

I am happy that the original author of the oracle provider joined the conversation.

Regarding the hypothesis of Richard. My views can contain multiple geometry column (it is not always the case, most of the time it is one geom. column) BUT each of them only contains one sort of geometry.

If there is 2 geometry column. I get the following result in the qgis browser:

One layer for the first geometry column
A second layer for the second geometry column

---> This is expected

But also :

A third layer also representing the first geometry column a Fourth layer also representing the second geometry column An attribute layer without any geometry.

Here is an example:

https://ibb.co/FJ1HGGG

So if I take back Richard's hypothesis. One option could be that the way how I create my record in user_SDO_GEOM_METADATATABLE is not correct and therefore QGIS detect a difference between what is imputed in the diminfo column of the  user_SDO_GEOM_METADATATABLE view and the analysis done on the 100 first record of one geometry column (I am using the option estimate metadata ) of  the view when qgis analyse each view to estimate the geometry type.

Here how I do my insert in user_sdo_geom_metadata:

INSERT INTO MDSYS.USER_SDO_GEOM_METADATA (table_name, column_name,diminfo,srid) VALUES (''' || VIEW_NAME || ''',''' || VIEW_FIELD_NAME || ''', MDSYS.SDO_DIM_ARRAY(MDSYS.SDO_DIM_ELEMENT(''X'',133000,168000,0.00005),
MDSYS.SDO_DIM_ELEMENT(''Y'',155000,184000,0.00005),
MDSYS.SDO_DIM_ELEMENT(''Z'',-1000,1000,0.00005)),31370)

(this is executed in the framework of a psql script).

Do I have to change something in my insert statement? Is my diminfo correct?


Jonathan




-----Message d'origine-----
De : QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la part de J?rgen E. Fischer Envoy? : mercredi 6 octobre 2021 09:52 ? : Richard Duivenvoorde <rdmailings at duif.net> Cc : qgis-developer at lists.osgeo.org Objet : Re: [QGIS-Developer] duplicate oracle views displayed in the layer list

Hi Richard,

On Wed, 06. Oct 2021 at 07:54:57 +0200, Richard Duivenvoorde wrote:
> /me wildly guessing here: if QGIS 'sees' different geom types, it is
> shown multiple in the browser isn't it, or am I mixing up things
> here..? Like if a layer has both points and lines?

There is no geometry type constraint in Oracle, so you can have any geometry type - even ones that don't yet exists.  So you get one line for each existing geometry type (point, line, area) and one where you have to select the geometry type in case you want to add a not yet existing geometry type.

Same happens for GEOMETRY columns (instead limited to POINT, LINESTRING or
POLYGON) in postgres.


J?rgen

--
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                 IRC: jef on Libera|OFTC



On 10/6/21 12:37 AM, jonathan.piraux at sibelga.be wrote:
> Hello,
>
> I created the issue here:
>
> https://github.com/qgis/QGIS/issues/45419
>
>
> You a right the primary key is recognized as primary key if I add it from the browser.
>
> Nevertheless, I still have the issue that views are visible 2 times. Therefore I suspect that there is an another issue that make view appearing 3 time in the browser as well ass in the source manager. But I don't know if it is a an oracle issue or if it is a qgis issue.
>
> Here is what I have in my browser:
>
> https://ibb.co/ncfB5ZT
>
> How does the browser construct the layer tree?
> I saw in the code that if the table/view has multiple geometry column then it create 2 layer. One by geometry column.
> But apart from that. Is there any other qgis logic that might create multiple layer from out the same oracle table/view?
>
> I saw in the log that qgis execute 2 times the same query like:
>
> 2021-10-06T00:12:41     WARNING    SQL: SELECT DISTINCT t."GEOSCHEMATIQUE".SDO_GTYPE FROM (SELECT "GEOSCHEMATIQUE" FROM "ATLAS"."V_GIS_REGLETTEBT" WHERE "GEOSCHEMATIQUE" IS NOT NULL AND rownum             Erreur: ORA-00904: "GEOSCHEMATIQUE": invalid identifier
>
> 2021-10-06T00:12:41     WARNING    SQL: SELECT DISTINCT t."GEOSCHEMATIQUE".SDO_GTYPE FROM (SELECT "GEOSCHEMATIQUE" FROM "ATLAS"."V_GIS_REGLETTEBT" WHERE "GEOSCHEMATIQUE" IS NOT NULL AND rownum             Erreur: ORA-00904: "GEOSCHEMATIQUE": invalid identifier
> (please ignore the invalid identifier error, this come from the fact
> that the geometry column name in my view is not the same the one
> recorder in the all_sdo_geom_metadate view, I have to fix this)
>
>
> Could it be that qgis execute 2 times the same code?
>
> Thanks
>
> Jonathan
>

Disclaimer

Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.

Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.

Sibelga<https://www.sibelga.be>


From nyall.dawson at gmail.com  Wed Oct  6 16:39:58 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 7 Oct 2021 09:39:58 +1000
Subject: [QGIS-Developer] QEP: Render layers as groups
Message-ID: <CAB28AsiJMHmAiGZq=1nY5DUd7H0bPtAxrfgN-8P0aYaB+N=FXw@mail.gmail.com>

Hi lists,

Please see the following QEP for a proposal concerning rendering
layers as groups, as a means to achieve symbology and cartography
effects which are currently not possible in QGIS:

https://github.com/qgis/QGIS-Enhancement-Proposals/issues/235

Comments/discussion/questions are welcome, but please keep these on
the QEP page in order to keep discussion centralised.

Regards,
Nyall

From julien.cabieces at oslandia.com  Thu Oct  7 10:01:24 2021
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Thu, 07 Oct 2021 19:01:24 +0200
Subject: [QGIS-Developer] ARE: duplicate oracle views displayed in the
 layer list
In-Reply-To: <2b6b9d0f264b4a91ae159aa18e0183e3@sibelga.be>
References: <2b6b9d0f264b4a91ae159aa18e0183e3@sibelga.be>
Message-ID: <871r4whiqj.fsf@julien-laptop.home>


Hi,

I think this is legit to load the table and its synonym, it's 2
different object. Imagine if your synonym refers to a table in a
different schema/owner, we would have to display the synonym.

You could argue that we could display only one instance of the same
table, but one could expect to see both. So IMHO, there is nothing
to be fixed in QGIS.

I can't see any easy alternative, except developing a python plugin to
have your own specific display.

Kind regards,
Julien


> Hello,
>
> I think I finally found why QGIS display 2 times the same layer in the browser and the layer manager. The first query done by QGIS when opening an oracle connexion is
>
> SELECT
>        c.table_name,
>        c.column_name,
>        c.srid,
>        o.object_type     AS TYPE
>   FROM all_sdo_geom_metadata  c
>        JOIN all_objects o
>            ON     c.table_name = o.object_name
>               AND o.object_type IN ('TABLE', 'VIEW', 'SYNONYM')
>               AND c.owner = 'ATLAS'
>
> This query return ,in my case, two records about the same table/view. But one time with the type table/view and one time the type synonym.
>
> Here is an example
>
> |TABLE_NAME   |COLUMN_NAME   |SRID |TYPE   |
> |-------------|--------------|-----|-------|
> |V_GIS_CABLEBT|PLAN_DE_POSE  |31370|SYNONYM|
> |V_GIS_CABLEBT|PLAN_DE_POSE  |31370|VIEW   |
>
> Why does qgis include the synonym object type into consideration?
>
> Remove the synonym is not an option for me.
> Do you have an alternative?
> At QGIS level could we change this ?
>
> Thanks
>
> Jonathan
>
>
>
> -----Message d'origine-----
> De : Piraux Jonathan
> Envoy? : mercredi 6 octobre 2021 13:56
> ? : 'J?rgen E. Fischer' <jef at norbit.de>; Richard Duivenvoorde <rdmailings at duif.net>
> Cc : qgis-developer at lists.osgeo.org
> Objet : RE: [QGIS-Developer] duplicate oracle views displayed in the layer list
>
> Hello,
>
> Thanks for your support.
>
> I am happy that the original author of the oracle provider joined the conversation.
>
> Regarding the hypothesis of Richard. My views can contain multiple geometry column (it is not always the case, most of the time it is one geom. column) BUT each of them only contains one sort of geometry.
>
> If there is 2 geometry column. I get the following result in the qgis browser:
>
> One layer for the first geometry column
> A second layer for the second geometry column
>
> ---> This is expected
>
> But also :
>
> A third layer also representing the first geometry column a Fourth layer also representing the second geometry column An attribute layer without any geometry.
>
> Here is an example:
>
> https://ibb.co/FJ1HGGG
>
> So if I take back Richard's hypothesis. One option could be that the way how I create my record in user_SDO_GEOM_METADATATABLE is not correct and therefore QGIS detect a difference between what is imputed in the diminfo column of the  user_SDO_GEOM_METADATATABLE view and the analysis done on the 100 first record of one geometry column (I am using the option estimate metadata ) of  the view when qgis analyse each view to estimate the geometry type.
>
> Here how I do my insert in user_sdo_geom_metadata:
>
> INSERT INTO MDSYS.USER_SDO_GEOM_METADATA (table_name, column_name,diminfo,srid) VALUES (''' || VIEW_NAME || ''',''' || VIEW_FIELD_NAME || ''', MDSYS.SDO_DIM_ARRAY(MDSYS.SDO_DIM_ELEMENT(''X'',133000,168000,0.00005),
> MDSYS.SDO_DIM_ELEMENT(''Y'',155000,184000,0.00005),
> MDSYS.SDO_DIM_ELEMENT(''Z'',-1000,1000,0.00005)),31370)
>
> (this is executed in the framework of a psql script).
>
> Do I have to change something in my insert statement? Is my diminfo correct?
>
>
> Jonathan
>
>
>
>
> -----Message d'origine-----
> De : QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la part de J?rgen E. Fischer Envoy? : mercredi 6 octobre 2021 09:52 ? : Richard Duivenvoorde <rdmailings at duif.net> Cc : qgis-developer at lists.osgeo.org Objet : Re: [QGIS-Developer] duplicate oracle views displayed in the layer list
>
> Hi Richard,
>
> On Wed, 06. Oct 2021 at 07:54:57 +0200, Richard Duivenvoorde wrote:
>> /me wildly guessing here: if QGIS 'sees' different geom types, it is
>> shown multiple in the browser isn't it, or am I mixing up things
>> here..? Like if a layer has both points and lines?
>
> There is no geometry type constraint in Oracle, so you can have any geometry type - even ones that don't yet exists.  So you get one line for each existing geometry type (point, line, area) and one where you have to select the geometry type in case you want to add a not yet existing geometry type.
>
> Same happens for GEOMETRY columns (instead limited to POINT, LINESTRING or
> POLYGON) in postgres.
>
>
> J?rgen


From jorgealmerio at yahoo.com.br  Mon Oct 11 08:09:03 2021
From: jorgealmerio at yahoo.com.br (jorgealmerio at yahoo.com.br)
Date: Mon, 11 Oct 2021 12:09:03 -0300
Subject: [QGIS-Developer] Qgis 3.20.3 grass not working
References: <003601d7beb1$f020cfd0$d0626f70$.ref@yahoo.com.br>
Message-ID: <003601d7beb1$f020cfd0$d0626f70$@yahoo.com.br>

Hi every one,

 

I installed Qgis 3.20.3 Network option and Grass is not available in the
processing tools !

 

I do not know if it is the right place to ask, but does anyone can help me?

 

I got this message from processing Messages:

CRITICAL Problem installing GRASS: GRASS not found or not installed
correctly

 

I got the same message to SAGA, but I do not mind now because I am not using
it.

 

I have already tried to execute "qgis.bat" and many other options found in
the internet without success!

 

When using Qgis 3.18.3, I can make it to work by opening
"C:\OSGeo4W64\bin\qgis-bin-g7.exe" directly,

but there is no such file in Qgis 3.20.3 folder "C:\OSGeo4W\bin\"

 

Thanks in advance!

 

Jorge Almerio

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211011/8354bcd4/attachment.html>

From jonathan.piraux at sibelga.be  Mon Oct 11 14:40:15 2021
From: jonathan.piraux at sibelga.be (jonathan.piraux at sibelga.be)
Date: Mon, 11 Oct 2021 21:40:15 +0000
Subject: [QGIS-Developer] ARE: duplicate oracle views displayed in the
 layer list
In-Reply-To: <871r4whiqj.fsf@julien-laptop.home>
References: <2b6b9d0f264b4a91ae159aa18e0183e3@sibelga.be>
 <871r4whiqj.fsf@julien-laptop.home>
Message-ID: <d5d579a8378248758117fde50c6411cf@sibelga.be>

Hello,

After a few days thinking about it, I came to the conclusion that it could be nice to have an extra option in the qgis oracle connection settings that let the user control if he want to see synonym as layer.

In my case qgis use another user than the schema owner (atlas). That user was granted to have right on a set of tables on this  schema to improve the relevance of the displayed table/view and the qgis performance. To avoid to precise the schema each time we do a query, a related synonym was also created. But then you have to deal with this duplicate layer issue.

If this is not the way to go when another user has to be able to use table/view from another schema. What are the alternative (if any)?


Jonathan
-----Message d'origine-----
De : Julien Cabieces <julien.cabieces at oslandia.com>
Envoy? : jeudi 7 octobre 2021 19:01
? : Piraux Jonathan <jonathan.piraux at sibelga.be>
Cc : J?rgen E. Fischer <jef at norbit.de>; Richard Duivenvoorde <rdmailings at duif.net>; qgis-developer at lists.osgeo.org
Objet : Re: ARE: [QGIS-Developer] duplicate oracle views displayed in the layer list


Hi,

I think this is legit to load the table and its synonym, it's 2 different object. Imagine if your synonym refers to a table in a different schema/owner, we would have to display the synonym.

You could argue that we could display only one instance of the same table, but one could expect to see both. So IMHO, there is nothing to be fixed in QGIS.

I can't see any easy alternative, except developing a python plugin to have your own specific display.

Kind regards,
Julien


> Hello,
>
> I think I finally found why QGIS display 2 times the same layer in the
> browser and the layer manager. The first query done by QGIS when
> opening an oracle connexion is
>
> SELECT
>        c.table_name,
>        c.column_name,
>        c.srid,
>        o.object_type     AS TYPE
>   FROM all_sdo_geom_metadata  c
>        JOIN all_objects o
>            ON     c.table_name = o.object_name
>               AND o.object_type IN ('TABLE', 'VIEW', 'SYNONYM')
>               AND c.owner = 'ATLAS'
>
> This query return ,in my case, two records about the same table/view. But one time with the type table/view and one time the type synonym.
>
> Here is an example
>
> |TABLE_NAME   |COLUMN_NAME   |SRID |TYPE   |
> |-------------|--------------|-----|-------|
> |V_GIS_CABLEBT|PLAN_DE_POSE  |31370|SYNONYM|
> |V_GIS_CABLEBT|PLAN_DE_POSE  |31370|VIEW   |
>
> Why does qgis include the synonym object type into consideration?
>
> Remove the synonym is not an option for me.
> Do you have an alternative?
> At QGIS level could we change this ?
>
> Thanks
>
> Jonathan
>
>
>
> -----Message d'origine-----
> De : Piraux Jonathan
> Envoy? : mercredi 6 octobre 2021 13:56 ? : 'J?rgen E. Fischer'
> <jef at norbit.de>; Richard Duivenvoorde <rdmailings at duif.net> Cc :
> qgis-developer at lists.osgeo.org Objet : RE: [QGIS-Developer] duplicate
> oracle views displayed in the layer list
>
> Hello,
>
> Thanks for your support.
>
> I am happy that the original author of the oracle provider joined the conversation.
>
> Regarding the hypothesis of Richard. My views can contain multiple geometry column (it is not always the case, most of the time it is one geom. column) BUT each of them only contains one sort of geometry.
>
> If there is 2 geometry column. I get the following result in the qgis browser:
>
> One layer for the first geometry column A second layer for the second
> geometry column
>
> ---> This is expected
>
> But also :
>
> A third layer also representing the first geometry column a Fourth layer also representing the second geometry column An attribute layer without any geometry.
>
> Here is an example:
>
> https://ibb.co/FJ1HGGG
>
> So if I take back Richard's hypothesis. One option could be that the way how I create my record in user_SDO_GEOM_METADATATABLE is not correct and therefore QGIS detect a difference between what is imputed in the diminfo column of the  user_SDO_GEOM_METADATATABLE view and the analysis done on the 100 first record of one geometry column (I am using the option estimate metadata ) of  the view when qgis analyse each view to estimate the geometry type.
>
> Here how I do my insert in user_sdo_geom_metadata:
>
> INSERT INTO MDSYS.USER_SDO_GEOM_METADATA (table_name,
> column_name,diminfo,srid) VALUES (''' || VIEW_NAME || ''',''' ||
> VIEW_FIELD_NAME || ''',
> MDSYS.SDO_DIM_ARRAY(MDSYS.SDO_DIM_ELEMENT(''X'',133000,168000,0.00005)
> , MDSYS.SDO_DIM_ELEMENT(''Y'',155000,184000,0.00005),
> MDSYS.SDO_DIM_ELEMENT(''Z'',-1000,1000,0.00005)),31370)
>
> (this is executed in the framework of a psql script).
>
> Do I have to change something in my insert statement? Is my diminfo correct?
>
>
> Jonathan
>
>
>
>
> -----Message d'origine-----
> De : QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la
> part de J?rgen E. Fischer Envoy? : mercredi 6 octobre 2021 09:52 ? :
> Richard Duivenvoorde <rdmailings at duif.net> Cc :
> qgis-developer at lists.osgeo.org Objet : Re: [QGIS-Developer] duplicate
> oracle views displayed in the layer list
>
> Hi Richard,
>
> On Wed, 06. Oct 2021 at 07:54:57 +0200, Richard Duivenvoorde wrote:
>> /me wildly guessing here: if QGIS 'sees' different geom types, it is
>> shown multiple in the browser isn't it, or am I mixing up things
>> here..? Like if a layer has both points and lines?
>
> There is no geometry type constraint in Oracle, so you can have any geometry type - even ones that don't yet exists.  So you get one line for each existing geometry type (point, line, area) and one where you have to select the geometry type in case you want to add a not yet existing geometry type.
>
> Same happens for GEOMETRY columns (instead limited to POINT,
> LINESTRING or
> POLYGON) in postgres.
>
>
> J?rgen


Disclaimer

Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.

Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.

Sibelga<https://www.sibelga.be>


From julien.cabieces at oslandia.com  Tue Oct 12 05:17:12 2021
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Tue, 12 Oct 2021 14:17:12 +0200
Subject: [QGIS-Developer] ARE: duplicate oracle views displayed in the
 layer list
In-Reply-To: <d5d579a8378248758117fde50c6411cf@sibelga.be>
References: <2b6b9d0f264b4a91ae159aa18e0183e3@sibelga.be>
 <871r4whiqj.fsf@julien-laptop.home>
 <d5d579a8378248758117fde50c6411cf@sibelga.be>
Message-ID: <871r4qfnef.fsf@julien-laptop.home>


Hi,

I'm not sure adding a new extra option for this is a good thing, it
looks like a little bit too specific to a use case. Another user could
want to display only synonym, or display table if there is not already a
synonym...

Why do you bother seeing both table name and synonym? Is it really a
problem?

Kind regards,
Julien


> Hello,
>
> After a few days thinking about it, I came to the conclusion that it could be nice to have an extra option in the qgis oracle connection settings that let the user control if he want to see synonym as layer.
>
> In my case qgis use another user than the schema owner (atlas). That user was granted to have right on a set of tables on this  schema to improve the relevance of the displayed table/view and the qgis performance. To avoid to precise the schema each time we do a query, a related synonym was also created. But then you have to deal with this duplicate layer issue.
>
> If this is not the way to go when another user has to be able to use table/view from another schema. What are the alternative (if any)?
>
>
> Jonathan
> -----Message d'origine-----
> De : Julien Cabieces <julien.cabieces at oslandia.com>
> Envoy? : jeudi 7 octobre 2021 19:01
> ? : Piraux Jonathan <jonathan.piraux at sibelga.be>
> Cc : J?rgen E. Fischer <jef at norbit.de>; Richard Duivenvoorde <rdmailings at duif.net>; qgis-developer at lists.osgeo.org
> Objet : Re: ARE: [QGIS-Developer] duplicate oracle views displayed in the layer list
>
>
> Hi,
>
> I think this is legit to load the table and its synonym, it's 2 different object. Imagine if your synonym refers to a table in a different schema/owner, we would have to display the synonym.
>
> You could argue that we could display only one instance of the same table, but one could expect to see both. So IMHO, there is nothing to be fixed in QGIS.
>
> I can't see any easy alternative, except developing a python plugin to have your own specific display.
>
> Kind regards,
> Julien
>
>
>> Hello,
>>
>> I think I finally found why QGIS display 2 times the same layer in the
>> browser and the layer manager. The first query done by QGIS when
>> opening an oracle connexion is
>>
>> SELECT
>>        c.table_name,
>>        c.column_name,
>>        c.srid,
>>        o.object_type     AS TYPE
>>   FROM all_sdo_geom_metadata  c
>>        JOIN all_objects o
>>            ON     c.table_name = o.object_name
>>               AND o.object_type IN ('TABLE', 'VIEW', 'SYNONYM')
>>               AND c.owner = 'ATLAS'
>>
>> This query return ,in my case, two records about the same table/view. But one time with the type table/view and one time the type synonym.
>>
>> Here is an example
>>
>> |TABLE_NAME   |COLUMN_NAME   |SRID |TYPE   |
>> |-------------|--------------|-----|-------|
>> |V_GIS_CABLEBT|PLAN_DE_POSE  |31370|SYNONYM|
>> |V_GIS_CABLEBT|PLAN_DE_POSE  |31370|VIEW   |
>>
>> Why does qgis include the synonym object type into consideration?
>>
>> Remove the synonym is not an option for me.
>> Do you have an alternative?
>> At QGIS level could we change this ?
>>
>> Thanks
>>
>> Jonathan
>>
>>
>>
>> -----Message d'origine-----
>> De : Piraux Jonathan
>> Envoy? : mercredi 6 octobre 2021 13:56 ? : 'J?rgen E. Fischer'
>> <jef at norbit.de>; Richard Duivenvoorde <rdmailings at duif.net> Cc :
>> qgis-developer at lists.osgeo.org Objet : RE: [QGIS-Developer] duplicate
>> oracle views displayed in the layer list
>>
>> Hello,
>>
>> Thanks for your support.
>>
>> I am happy that the original author of the oracle provider joined the conversation.
>>
>> Regarding the hypothesis of Richard. My views can contain multiple geometry column (it is not always the case, most of the time it is one geom. column) BUT each of them only contains one sort of geometry.
>>
>> If there is 2 geometry column. I get the following result in the qgis browser:
>>
>> One layer for the first geometry column A second layer for the second
>> geometry column
>>
>> ---> This is expected
>>
>> But also :
>>
>> A third layer also representing the first geometry column a Fourth layer also representing the second geometry column An attribute layer without any geometry.
>>
>> Here is an example:
>>
>> https://ibb.co/FJ1HGGG
>>
>> So if I take back Richard's hypothesis. One option could be that the way how I create my record in user_SDO_GEOM_METADATATABLE is not correct and therefore QGIS detect a difference between what is imputed in the diminfo column of the  user_SDO_GEOM_METADATATABLE view and the analysis done on the 100 first record of one geometry column (I am using the option estimate metadata ) of  the view when qgis analyse each view to estimate the geometry type.
>>
>> Here how I do my insert in user_sdo_geom_metadata:
>>
>> INSERT INTO MDSYS.USER_SDO_GEOM_METADATA (table_name,
>> column_name,diminfo,srid) VALUES (''' || VIEW_NAME || ''',''' ||
>> VIEW_FIELD_NAME || ''',
>> MDSYS.SDO_DIM_ARRAY(MDSYS.SDO_DIM_ELEMENT(''X'',133000,168000,0.00005)
>> , MDSYS.SDO_DIM_ELEMENT(''Y'',155000,184000,0.00005),
>> MDSYS.SDO_DIM_ELEMENT(''Z'',-1000,1000,0.00005)),31370)
>>
>> (this is executed in the framework of a psql script).
>>
>> Do I have to change something in my insert statement? Is my diminfo correct?
>>
>>
>> Jonathan
>>
>>
>>
>>
>> -----Message d'origine-----
>> De : QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la
>> part de J?rgen E. Fischer Envoy? : mercredi 6 octobre 2021 09:52 ? :
>> Richard Duivenvoorde <rdmailings at duif.net> Cc :
>> qgis-developer at lists.osgeo.org Objet : Re: [QGIS-Developer] duplicate
>> oracle views displayed in the layer list
>>
>> Hi Richard,
>>
>> On Wed, 06. Oct 2021 at 07:54:57 +0200, Richard Duivenvoorde wrote:
>>> /me wildly guessing here: if QGIS 'sees' different geom types, it is
>>> shown multiple in the browser isn't it, or am I mixing up things
>>> here..? Like if a layer has both points and lines?
>>
>> There is no geometry type constraint in Oracle, so you can have any geometry type - even ones that don't yet exists.  So you get one line for each existing geometry type (point, line, area) and one where you have to select the geometry type in case you want to add a not yet existing geometry type.
>>
>> Same happens for GEOMETRY columns (instead limited to POINT,
>> LINESTRING or
>> POLYGON) in postgres.
>>
>>
>> J?rgen
>
>
> Disclaimer
>
> Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.
>
> Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.
>
> Sibelga<https://www.sibelga.be>


From jonathan.piraux at sibelga.be  Tue Oct 12 05:30:46 2021
From: jonathan.piraux at sibelga.be (jonathan.piraux at sibelga.be)
Date: Tue, 12 Oct 2021 12:30:46 +0000
Subject: [QGIS-Developer] ARE: duplicate oracle views displayed in the
 layer list
In-Reply-To: <871r4qfnef.fsf@julien-laptop.home>
References: <2b6b9d0f264b4a91ae159aa18e0183e3@sibelga.be>
 <871r4whiqj.fsf@julien-laptop.home>
 <d5d579a8378248758117fde50c6411cf@sibelga.be>
 <871r4qfnef.fsf@julien-laptop.home>
Message-ID: <7bbf58a79741405cbfd033bbb9d9f14a@sibelga.be>

Well,

It is not only a display issue. It is also a performance issue as QGIS execute 2 times the same set of queries on the same table/view in order to get the  mandatory data to display each layer . One time directly on the table/view and one time by using the synonym.

If you have a large number of tables/view in your db this can have a large performance impact.

My solution is maybe too restrictive I do agree. But it could be nice if the user could define the content of the "in" clause of the query retrieving all usable table/view/synonym

Best regards

Jonathan

-----Message d'origine-----
De : Julien Cabieces <julien.cabieces at oslandia.com>
Envoy? : mardi 12 octobre 2021 14:17
? : Piraux Jonathan <jonathan.piraux at sibelga.be>
Cc : J?rgen E. Fischer <jef at norbit.de>; Richard Duivenvoorde <rdmailings at duif.net>; qgis-developer at lists.osgeo.org
Objet : Re: ARE: [QGIS-Developer] duplicate oracle views displayed in the layer list


Hi,

I'm not sure adding a new extra option for this is a good thing, it looks like a little bit too specific to a use case. Another user could want to display only synonym, or display table if there is not already a synonym...

Why do you bother seeing both table name and synonym? Is it really a problem?

Kind regards,
Julien


> Hello,
>
> After a few days thinking about it, I came to the conclusion that it could be nice to have an extra option in the qgis oracle connection settings that let the user control if he want to see synonym as layer.
>
> In my case qgis use another user than the schema owner (atlas). That user was granted to have right on a set of tables on this  schema to improve the relevance of the displayed table/view and the qgis performance. To avoid to precise the schema each time we do a query, a related synonym was also created. But then you have to deal with this duplicate layer issue.
>
> If this is not the way to go when another user has to be able to use table/view from another schema. What are the alternative (if any)?
>
>
> Jonathan
> -----Message d'origine-----
> De : Julien Cabieces <julien.cabieces at oslandia.com> Envoy? : jeudi 7
> octobre 2021 19:01 ? : Piraux Jonathan <jonathan.piraux at sibelga.be> Cc
> : J?rgen E. Fischer <jef at norbit.de>; Richard Duivenvoorde
> <rdmailings at duif.net>; qgis-developer at lists.osgeo.org Objet : Re: ARE:
> [QGIS-Developer] duplicate oracle views displayed in the layer list
>
>
> Hi,
>
> I think this is legit to load the table and its synonym, it's 2 different object. Imagine if your synonym refers to a table in a different schema/owner, we would have to display the synonym.
>
> You could argue that we could display only one instance of the same table, but one could expect to see both. So IMHO, there is nothing to be fixed in QGIS.
>
> I can't see any easy alternative, except developing a python plugin to have your own specific display.
>
> Kind regards,
> Julien
>
>
>> Hello,
>>
>> I think I finally found why QGIS display 2 times the same layer in
>> the browser and the layer manager. The first query done by QGIS when
>> opening an oracle connexion is
>>
>> SELECT
>>        c.table_name,
>>        c.column_name,
>>        c.srid,
>>        o.object_type     AS TYPE
>>   FROM all_sdo_geom_metadata  c
>>        JOIN all_objects o
>>            ON     c.table_name = o.object_name
>>               AND o.object_type IN ('TABLE', 'VIEW', 'SYNONYM')
>>               AND c.owner = 'ATLAS'
>>
>> This query return ,in my case, two records about the same table/view. But one time with the type table/view and one time the type synonym.
>>
>> Here is an example
>>
>> |TABLE_NAME   |COLUMN_NAME   |SRID |TYPE   |
>> |-------------|--------------|-----|-------|
>> |V_GIS_CABLEBT|PLAN_DE_POSE  |31370|SYNONYM|
>> |V_GIS_CABLEBT|PLAN_DE_POSE  |31370|VIEW   |
>>
>> Why does qgis include the synonym object type into consideration?
>>
>> Remove the synonym is not an option for me.
>> Do you have an alternative?
>> At QGIS level could we change this ?
>>
>> Thanks
>>
>> Jonathan
>>
>>
>>
>> -----Message d'origine-----
>> De : Piraux Jonathan
>> Envoy? : mercredi 6 octobre 2021 13:56 ? : 'J?rgen E. Fischer'
>> <jef at norbit.de>; Richard Duivenvoorde <rdmailings at duif.net> Cc :
>> qgis-developer at lists.osgeo.org Objet : RE: [QGIS-Developer] duplicate
>> oracle views displayed in the layer list
>>
>> Hello,
>>
>> Thanks for your support.
>>
>> I am happy that the original author of the oracle provider joined the conversation.
>>
>> Regarding the hypothesis of Richard. My views can contain multiple geometry column (it is not always the case, most of the time it is one geom. column) BUT each of them only contains one sort of geometry.
>>
>> If there is 2 geometry column. I get the following result in the qgis browser:
>>
>> One layer for the first geometry column A second layer for the second
>> geometry column
>>
>> ---> This is expected
>>
>> But also :
>>
>> A third layer also representing the first geometry column a Fourth layer also representing the second geometry column An attribute layer without any geometry.
>>
>> Here is an example:
>>
>> https://smex-ctp.trendmicro.com:443/wis/clicktime/v1/query?url=https%
>> 3a%2f%2fibb.co%2fFJ1HGGG&umid=9050e2b0-9d10-4a49-8ab8-61d63b665965&au
>> th=673acf85e98fff45d14cef891e0f56ff223b75bc-334af17edf8cf1bca082c9c53
>> 3fc30634c004a6f
>>
>> So if I take back Richard's hypothesis. One option could be that the way how I create my record in user_SDO_GEOM_METADATATABLE is not correct and therefore QGIS detect a difference between what is imputed in the diminfo column of the  user_SDO_GEOM_METADATATABLE view and the analysis done on the 100 first record of one geometry column (I am using the option estimate metadata ) of  the view when qgis analyse each view to estimate the geometry type.
>>
>> Here how I do my insert in user_sdo_geom_metadata:
>>
>> INSERT INTO MDSYS.USER_SDO_GEOM_METADATA (table_name,
>> column_name,diminfo,srid) VALUES (''' || VIEW_NAME || ''',''' ||
>> VIEW_FIELD_NAME || ''',
>> MDSYS.SDO_DIM_ARRAY(MDSYS.SDO_DIM_ELEMENT(''X'',133000,168000,0.00005
>> ) , MDSYS.SDO_DIM_ELEMENT(''Y'',155000,184000,0.00005),
>> MDSYS.SDO_DIM_ELEMENT(''Z'',-1000,1000,0.00005)),31370)
>>
>> (this is executed in the framework of a psql script).
>>
>> Do I have to change something in my insert statement? Is my diminfo correct?
>>
>>
>> Jonathan
>>
>>
>>
>>
>> -----Message d'origine-----
>> De : QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la
>> part de J?rgen E. Fischer Envoy? : mercredi 6 octobre 2021 09:52 ? :
>> Richard Duivenvoorde <rdmailings at duif.net> Cc :
>> qgis-developer at lists.osgeo.org Objet : Re: [QGIS-Developer] duplicate
>> oracle views displayed in the layer list
>>
>> Hi Richard,
>>
>> On Wed, 06. Oct 2021 at 07:54:57 +0200, Richard Duivenvoorde wrote:
>>> /me wildly guessing here: if QGIS 'sees' different geom types, it is
>>> shown multiple in the browser isn't it, or am I mixing up things
>>> here..? Like if a layer has both points and lines?
>>
>> There is no geometry type constraint in Oracle, so you can have any geometry type - even ones that don't yet exists.  So you get one line for each existing geometry type (point, line, area) and one where you have to select the geometry type in case you want to add a not yet existing geometry type.
>>
>> Same happens for GEOMETRY columns (instead limited to POINT,
>> LINESTRING or
>> POLYGON) in postgres.
>>
>>
>> J?rgen
>
>
> Disclaimer
>
> Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.
>
> Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.
>
> Sibelga<https://www.sibelga.be>


Disclaimer

Le pr?sent courriel ainsi que ses annexes ?ventuelles peuvent contenir des informations confidentielles et/ou prot?g?es par des droits de propri?t? intellectuelle et sont destin?s ? l'usage exclusif du (des) destinataire(s) susmentionn?(s). Toute utilisation - notamment, mais non exclusivement, pour la reproduction, la communication ou la distribution totale ou partielle sous quelque forme que ce soit - de leur contenu par des personnes autres que le(s) destinataire(s) d?sign?(s) est interdite. Si vous avez re?u ce courriel par erreur, veuillez en informer l'exp?diteur soit par t?l?phone soit par courriel, et supprimer de tout ordinateur les donn?es y aff?rentes. Merci de votre collaboration. En d?pit des pr?cautions prises, des courriels peuvent ?tre intercept?s, modifi?s, perdus, d?truits ou contenir des virus. Nous d?clinons toute responsabilit? quant aux ?ventuels dommages ?ventuellement caus?s dans cette ?ventualit?. Toute personne qui communique avec SIBELGA par courriel est suppos?e accepter ce risque.

Deze mail en zijn eventuele bijlagen kunnen informatie bevatten die vertrouwelijk is en/of beschermd door intellectuele-eigendomsrechten en zijn bestemd voor exclusief gebruik door voormelde geadresseerde(n). Elk gebruik - onder meer, maar niet exclusief, voor volledige of gedeeltelijke reproductie, communicatie of distributie, onder welke vorm ook - van de inhoud ervan door andere personen dan de aangeduide geadresseerde(n), is verboden. Hebt u deze mail per vergissing ontvangen, gelieve de verzender daarvan per telefoon of mail te verwittigen, en de eraan gekoppelde gegevens van elke computer te verwijderen. Met dank voor uw medewerking. Ondanks de genomen voorzorgen, kunnen er mails worden onderschept, gewijzigd, verloren, vernietigd of kunnen zij virussen bevatten. Wij wijzen elke verantwoordelijkheid af met betrekking tot eventuele schade die in die hypothese zou zijn veroorzaakt. Elke persoon die via mail met SIBELGA communiceert, wordt geacht dat risico te aanvaarden.

Sibelga<https://www.sibelga.be>


From denis.rouzaud at gmail.com  Tue Oct 12 06:10:54 2021
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Tue, 12 Oct 2021 15:10:54 +0200
Subject: [QGIS-Developer] qgis.utils module not available in pyqgis docs
 ?
In-Reply-To: <5a223dc8-84e6-c547-94cd-0da47e417c71@duif.net>
References: <5a223dc8-84e6-c547-94cd-0da47e417c71@duif.net>
Message-ID: <CAMtsY+Y+D-Q0pMHH__-oWbFH5Zwni0OumjKgT9_1-dLJmdg4Lg@mail.gmail.com>

Hi Richard,

I gave it a shot at adding utils, but this is not very concluant, see
https://qgis.org/pyqgis/master_PR80/utils/index.html

Many methods are listed as classes (like showException) and some classes
are just copies of the original ones (utils.QgsMessageBar =
qgis.core.QgsMessageBar).

Thoughts?

Denis

Le mer. 15 sept. 2021 ? 14:59, Richard Duivenvoorde <rdmailings at duif.net> a
?crit :

> Hi Devs,
>
> Searching for a way to programmatically find out which version of a plugin
> is installed and if there was some interface for it, I used
>
> dir(qgis.utils)
>
> in the Python Console.
>
> And seeing 'metadataParser', I thought to look for it in our pyqgis docs:
> https://qgis.org/pyqgis/master/
>
> But... cannot find any qgis.utils methods or module?
>
> Any (obvious) reason for this?
> Or did we forgot to include it in the building machinery?
>
> Thanks for any info.
>
> Ah...
>
> https://gis.stackexchange.com/questions/203842/seeking-documentation-for-qgis-utils-module
>
> so  help(qgis.utils.pluginMetadata) shows me enough to find out:
>
> qgis.utils.pluginMetadata('myplugin', 'version')
> ('myplugin' string found via qgis.utils.plugins)
>
>
> Regards,
>
> Richard Duivenvoorde
>
> PS didn't I already ask this earlier??????
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211012/5834fef5/attachment.html>

From strk at kbt.io  Tue Oct 12 09:50:17 2021
From: strk at kbt.io (Sandro Santilli)
Date: Tue, 12 Oct 2021 18:50:17 +0200
Subject: [QGIS-Developer] testing processing algorithms with PostgreSQL
 provider
Message-ID: <20211012165017.GA51974@c19>

While working on improved heuristics with ExtractWithinDistance
processing algorithm [1] I stumbled upon a possible bug [2] and
trying to find a good way to add a test for it.

My understanding of the "Processing Algorithms Testing" page [3]
is that the yaml files used for testing can only use FILES as inputs
to the processing algorithm, but in order for the bug I found to be
exposed I need them to use the PostgreSQL provider.

My questions are:

  - Do you confirm only files can be used as input ?

  - What's the best way to test the functionality of
    src/analysis/processing/qgsalgorithmdistancewithin.cpp
    when used against different providers ?

[1] https://github.com/qgis/QGIS/pull/45339
[2] https://github.com/qgis/QGIS/issues/45352
[3] https://docs.qgis.org/3.16/en/docs/developers_guide/processingtesting.html

--strk;

  Libre GIS consultant/developer
  https://strk.kbt.io/services.html

From nyall.dawson at gmail.com  Tue Oct 12 19:08:07 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 13 Oct 2021 12:08:07 +1000
Subject: [QGIS-Developer] Core committer status for Stefanos Natsis (uclaros)
Message-ID: <CAB28AsiiKcP3OM_fxXyc4nL7nE4bjWtvmF9mkjoYkoJy6w_UDQ@mail.gmail.com>

Hi PSC, dev list,

I would like to formally propose that we grant core committer status
to Stefanos Natsis (https://github.com/uclaros).

Stefanos has proven to be a very valuable contributor to QGIS, with a
great history of careful, well designed work. He brings some much
needed skills and insight to the QGIS project, and I'm always very
happy to see his pull requests flow in, as they consistently address
important bugs, paper cuts, and functionality gaps in the QGIS
application.

I'd love to see us formally recognise the value he brings to the
project by granting Stefanos a core committer status.

Thanks for your consideration!
Nyall

From andreaerdna at libero.it  Tue Oct 12 22:54:31 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Wed, 13 Oct 2021 07:54:31 +0200
Subject: [QGIS-Developer] Qgis 3.20.3 grass not working
In-Reply-To: <003601d7beb1$f020cfd0$d0626f70$@yahoo.com.br>
References: <003601d7beb1$f020cfd0$d0626f70$.ref@yahoo.com.br>
 <003601d7beb1$f020cfd0$d0626f70$@yahoo.com.br>
Message-ID: <b66eecde-155f-8600-4d43-840bb094ae46@libero.it>

Il 11/10/2021 17:09, jorgealmerio at yahoo.com.br ha scritto:
> I installed Qgis 3.20.3 Network option and Grass is not available in the 
> processing tools !

> *CRITICAL Problem installing GRASS: GRASS not found or not installed 
> correctly*

Hi Jorge Almerio,
what option have you used? The Express Install or the Advanced Install? 
What package have you select in order to be installed?
Are you sure the "grass" package is installed?

Regards.

Andrea

From matthias at opengis.ch  Wed Oct 13 00:47:00 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 13 Oct 2021 09:47:00 +0200
Subject: [QGIS-Developer] [Qgis-psc] Core committer status for Stefanos
 Natsis (uclaros)
In-Reply-To: <b3fce3ad-e8b6-460e-98ed-3f568f28adf7@email.android.com>
References: <CAB28AsiiKcP3OM_fxXyc4nL7nE4bjWtvmF9mkjoYkoJy6w_UDQ@mail.gmail.com>
 <b3fce3ad-e8b6-460e-98ed-3f568f28adf7@email.android.com>
Message-ID: <CAC7zN95QX16Ryp2TXLGUZkjZEHZ0iTQW9sPMTe-8-tP_C0tPjg@mail.gmail.com>

A well deserved +1 for Stefanos, great contributions and stream of
involvement.

On Wed, Oct 13, 2021 at 8:54 AM Alessandro Pasotti <elpaso at itopen.it> wrote:

> Warm +1 from me!
>
> Il 13 ott 2021 04:08, Nyall Dawson <nyall.dawson at gmail.com> ha scritto:
>
> Hi PSC, dev list,
>
> I would like to formally propose that we grant core committer status
> to Stefanos Natsis (https://github.com/uclaros).
>
> Stefanos has proven to be a very valuable contributor to QGIS, with a
> great history of careful, well designed work. He brings some much
> needed skills and insight to the QGIS project, and I'm always very
> happy to see his pull requests flow in, as they consistently address
> important bugs, paper cuts, and functionality gaps in the QGIS
> application.
>
> I'd love to see us formally recognise the value he brings to the
> project by granting Stefanos a core committer status.
>
> Thanks for your consideration!
> Nyall
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>
>
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211013/6127106e/attachment.html>

From pierluigi.derosa at gmail.com  Wed Oct 13 02:50:17 2021
From: pierluigi.derosa at gmail.com (pierluigi de rosa)
Date: Wed, 13 Oct 2021 11:50:17 +0200
Subject: [QGIS-Developer] projected CRS
Message-ID: <CAAgsrZiRdh_TiRcC7exudsEGGU=uxixeHAUqtJHb07z8pU464g@mail.gmail.com>

Dear all,

mayble a very simple question.
Is it possible to check quickly if a layer has a projected CRS or not?
in QgsCoordinateReferenceSystem I have not found a method able to do that
check.
Thanks for your attention
Pierluigi

-- 
Ing. Pierluigi De Rosa (PhD in Earth Science)
Contract Professor of Geographic Information System at University of Perugia
cel: 3497558268 / fax: 075 7823038
skype: pierluigi.derosa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211013/20789aea/attachment.html>

From etienne.trimaille at gmail.com  Wed Oct 13 03:09:10 2021
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Wed, 13 Oct 2021 12:09:10 +0200
Subject: [QGIS-Developer] projected CRS
In-Reply-To: <CAAgsrZiRdh_TiRcC7exudsEGGU=uxixeHAUqtJHb07z8pU464g@mail.gmail.com>
References: <CAAgsrZiRdh_TiRcC7exudsEGGU=uxixeHAUqtJHb07z8pU464g@mail.gmail.com>
Message-ID: <CAMtDFLJvhw+=+yL0KqxQCFT8zzp1d_v=YNcfSLbvEFRJsDc4Pg@mail.gmail.com>

Hi
On the CRS object, isGeographic() and mapUnits() might help you.

Le mer. 13 oct. 2021 ? 11:50, pierluigi de rosa <pierluigi.derosa at gmail.com>
a ?crit :

> Dear all,
>
> mayble a very simple question.
> Is it possible to check quickly if a layer has a projected CRS or not?
> in QgsCoordinateReferenceSystem I have not found a method able to do that
> check.
> Thanks for your attention
> Pierluigi
>
> --
> Ing. Pierluigi De Rosa (PhD in Earth Science)
> Contract Professor of Geographic Information System at University of
> Perugia
> cel: 3497558268 / fax: 075 7823038
> skype: pierluigi.derosa
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211013/eab7f7d3/attachment.html>

From stefan.giese at wheregroup.com  Wed Oct 13 03:10:12 2021
From: stefan.giese at wheregroup.com (Stefan Giese (WhereGroup))
Date: Wed, 13 Oct 2021 12:10:12 +0200
Subject: [QGIS-Developer] projected CRS
In-Reply-To: <CAAgsrZiRdh_TiRcC7exudsEGGU=uxixeHAUqtJHb07z8pU464g@mail.gmail.com>
References: <CAAgsrZiRdh_TiRcC7exudsEGGU=uxixeHAUqtJHb07z8pU464g@mail.gmail.com>
Message-ID: <b81ed543-c901-84b8-53ea-f5905913d508@wheregroup.com>

in python I would do it like this one:

/l = iface.activeLayer()//
//if l.crs().authid() != ""://
//??? print(l.crs().authid ())//
//else://
//??? print("No projection")/

Am 13.10.2021 um 11:50 schrieb pierluigi de rosa:
> Dear all,
>
> mayble a very simple question.
> Is it possible to check quickly if a layer has a projected CRS or not?
> in?QgsCoordinateReferenceSystem I have not found a method able to do 
> that check.
> Thanks for your attention
> Pierluigi
>
> -- 
> Ing. Pierluigi De Rosa (PhD in Earth Science)
> Contract Professor of Geographic Information System at University of 
> Perugia
> cel: 3497558268 / fax: 075 7823038
> skype: pierluigi.derosa
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Mit freundlichen Gr??en
Stefan Giese
Projektleiter/Consultant

---------------------------------------------
Schon gewusst?
In unserem Blog geben wir Tipps & Tricks zu
Open-Source-GIS-Software und berichten aus unserem Experten-Alltag:
https://wheregroup.com/blog/
---------------------------------------------

WhereGroup GmbH
Schwimmbadstr. 2
79100 Freiburg
Germany

Fon: +49 (0)761 / 519 102 - 61
Fax: +49 (0)761 / 519 102 - 11

stefan.giese at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211013/b1cd3fac/attachment-0001.html>

From pierluigi.derosa at gmail.com  Wed Oct 13 03:15:14 2021
From: pierluigi.derosa at gmail.com (pierluigi de rosa)
Date: Wed, 13 Oct 2021 12:15:14 +0200
Subject: [QGIS-Developer] projected CRS
In-Reply-To: <CAMtDFLJvhw+=+yL0KqxQCFT8zzp1d_v=YNcfSLbvEFRJsDc4Pg@mail.gmail.com>
References: <CAAgsrZiRdh_TiRcC7exudsEGGU=uxixeHAUqtJHb07z8pU464g@mail.gmail.com>
 <CAMtDFLJvhw+=+yL0KqxQCFT8zzp1d_v=YNcfSLbvEFRJsDc4Pg@mail.gmail.com>
Message-ID: <CAAgsrZgSG4ACOvibX--gRSb44_UVPc9SOTivHyL2dvpm5aVeXw@mail.gmail.com>

Thanks Etienne.
isGeographic() is what I need for.

Pierluigi

Il giorno mer 13 ott 2021 alle ore 12:09 Etienne Trimaille <
etienne.trimaille at gmail.com> ha scritto:

> Hi
> On the CRS object, isGeographic() and mapUnits() might help you.
>
> Le mer. 13 oct. 2021 ? 11:50, pierluigi de rosa <
> pierluigi.derosa at gmail.com> a ?crit :
>
>> Dear all,
>>
>> mayble a very simple question.
>> Is it possible to check quickly if a layer has a projected CRS or not?
>> in QgsCoordinateReferenceSystem I have not found a method able to do that
>> check.
>> Thanks for your attention
>> Pierluigi
>>
>> --
>> Ing. Pierluigi De Rosa (PhD in Earth Science)
>> Contract Professor of Geographic Information System at University of
>> Perugia
>> cel: 3497558268 / fax: 075 7823038
>> skype: pierluigi.derosa
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>

-- 
Ing. Pierluigi De Rosa (PhD in Earth Science)
Contract Professor of Geographic Information System at University of Perugia
cel: 3497558268 / fax: 075 7823038
skype: pierluigi.derosa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211013/1d234092/attachment.html>

From jorgealmerio at yahoo.com.br  Wed Oct 13 08:52:28 2021
From: jorgealmerio at yahoo.com.br (jorgealmerio at yahoo.com.br)
Date: Wed, 13 Oct 2021 12:52:28 -0300
Subject: [QGIS-Developer] RES:  Qgis 3.20.3 grass not working
In-Reply-To: <b66eecde-155f-8600-4d43-840bb094ae46@libero.it>
References: <003601d7beb1$f020cfd0$d0626f70$.ref@yahoo.com.br>
 <003601d7beb1$f020cfd0$d0626f70$@yahoo.com.br>
 <b66eecde-155f-8600-4d43-840bb094ae46@libero.it>
Message-ID: <013601d7c04a$55e98840$01bc98c0$@yahoo.com.br>

Hi Andrea,

 

I have used Advanced Install option.

and I selected (see picture below):

                Desktop: 

                                grass: GRASS GIS

                Libs:

                               qgis-grass-plugin: GRASS plugin for QGIS

 



 

 

Thanks for your attention,

 

Jorge Almerio

 

-----Mensagem original-----

De: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] Em nome
de Andrea Giudiceandrea

Enviada em: Wednesday, October 13, 2021 2:55 AM

Para: qgis-developer at lists.osgeo.org

Assunto: Re: [QGIS-Developer] Qgis 3.20.3 grass not working

 

Il 11/10/2021 17:09, jorgealmerio at yahoo.com.br ha scritto:

> I installed Qgis 3.20.3 Network option and Grass is not available in 

> the processing tools !

 

> *CRITICAL Problem installing GRASS: GRASS not found or not installed

> correctly*

 

Hi Jorge Almerio,

what option have you used? The Express Install or the Advanced Install? 

What package have you select in order to be installed?

Are you sure the "grass" package is installed?

 

Regards.

 

Andrea

_______________________________________________

QGIS-Developer mailing list

QGIS-Developer at lists.osgeo.org

List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer

Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211013/c4de570f/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 35518 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211013/c4de570f/attachment-0001.png>

From Anton.Bakker at kadaster.nl  Wed Oct 13 13:24:43 2021
From: Anton.Bakker at kadaster.nl (Bakker, Anton)
Date: Wed, 13 Oct 2021 20:24:43 +0000
Subject: [QGIS-Developer] QGIS not respecting WMTS cap tilematrixset
Message-ID: <AM9P192MB1139DAE0568BC2BD98BC1E3789B79@AM9P192MB1139.EURP192.PROD.OUTLOOK.COM>

Hi all,

I submitted an issue (https://github.com/qgis/QGIS/issues/45460) on the issue tracker which is about QGIS not respecting the WMTS capabilities tilematrixset.  @gioman On Github suggested to write to the mailing list. Considering it is a usability issue the developers mailing list seemed appropriate.

I do not think the current behaviour of QGIS is necessarily a bug, it might work as intended. But it does not  match my expectation of how it ideally should work.

So the issue I ran into is the following:

I have a WMTS which only serves tiles for specific zoomlevels. So in the WMTS capabilities document we have a tilematrixset that starts from zoomlevel 05 (zoomlevels/tilematrices 00 - 04 are omitted), see the github issue for the full capabilities document to reproduce:

<TileMatrixSet>
  <ows:Identifier>EPSG:28992</ows:Identifier>
  <ows:SupportedCRS>urn:ogc:def:crs:EPSG::28992</ows:SupportedCRS>
  <TileMatrix>
    <ows:Identifier>05</ows:Identifier>
    <ScaleDenominator>384000.0</ScaleDenominator>
    <TopLeftCorner>-285401.92 903401.92</TopLeftCorner>
    <TileWidth>256</TileWidth>
    <TileHeight>256</TileHeight>
    <MatrixWidth>32</MatrixWidth>
    <MatrixHeight>32</MatrixHeight>
  </TileMatrix>
  <TileMatrix>
    <ows:Identifier>06</ows:Identifier>


When adding this WMTS to the map in QGIS, QGIS zooms to the bounding box advertised in the capabilities (which corresponds to the extent of the Netherlands, and z0 in the Dutch national tiling scheme) and starts immediately loading tiles from the first available zoom level.

While I would expect QGIS to respect the service capabilities by default and only show tiles starting from the scale of the first available zoomlevel (which in this case is z05 which corresponds to a scale of 1:384000).

https://imgur.com/a/d31pEgU

My expectation is somewhat biased, since as a servicerpovider I would like to be in control of how our services are rendered in QGIS. The current situation does not allow for this, therefore I would like to propose the following :

QGIS by default respects  the visibility of the WMTS layer as defined by the available tilematrixsets in the cap doc (I suppose this should be the case for all tiled resources, that make use of tilematrixsets). There are options on these layers to override this behaviour for both


-          Lowerbound zoomlevels, configure from what zoomlevel tiles will be "underzoomed"

-          Upperbound zoomlevels, configure till what zoomlevel tilles will be "overzoomed"


So I am curious what the community thinks, looking forward to the discussion.


Met vriendelijke groet,

Anton Bakker



Disclaimer:
De inhoud van deze e-mail is vertrouwelijk en uitsluitend bestemd voor de geadresseerde(n).
Gebruik, openbaarmaking, vermenigvuldiging, verspreiding en/of verstrekking van deze informatie aan derden is niet toegestaan.
Op al onze producten en diensten zijn onze algemene leveringsvoorwaarden van toepassing
[https://www.kadaster.nl/algemene-leveringsvoorwaarden].

Disclaimer:
This email and any files transmitted with it are confidential and intended solely for the use of the individual or entity to whom they are addressed.
If you are not the intended recipient, you are notified that disclosing, copying, distributing or taking any action in reliance on the contents of this information is strictly prohibited.
Our general terms and conditions of delivery apply to all our products and services
[https://www.kadaster.com/general-terms-and-conditions].
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211013/ae99767a/attachment.html>

From uclaros at gmail.com  Wed Oct 13 15:31:57 2021
From: uclaros at gmail.com (Stefanos Natsis)
Date: Thu, 14 Oct 2021 01:31:57 +0300
Subject: [QGIS-Developer] [Qgis-psc] Core committer status for Stefanos
 Natsis (uclaros)
In-Reply-To: <CAC7zN95QX16Ryp2TXLGUZkjZEHZ0iTQW9sPMTe-8-tP_C0tPjg@mail.gmail.com>
References: <CAB28AsiiKcP3OM_fxXyc4nL7nE4bjWtvmF9mkjoYkoJy6w_UDQ@mail.gmail.com>
 <b3fce3ad-e8b6-460e-98ed-3f568f28adf7@email.android.com>
 <CAC7zN95QX16Ryp2TXLGUZkjZEHZ0iTQW9sPMTe-8-tP_C0tPjg@mail.gmail.com>
Message-ID: <CADBCwLaMhbpKLOPBuEwiqmjeLax=DNUjN2RLj9cHp_Kv_RD4EQ@mail.gmail.com>

Wow! That would be a great honor for me! Thank you Nyall for the
proposition and the kind words and thank you all for supporting and
reviewing my work!
It's been a real pleasure contributing!
Stefanos

On Wed, 13 Oct 2021 at 10:47, Matthias Kuhn <matthias at opengis.ch> wrote:

> A well deserved +1 for Stefanos, great contributions and stream of
> involvement.
>
> On Wed, Oct 13, 2021 at 8:54 AM Alessandro Pasotti <elpaso at itopen.it>
> wrote:
>
>> Warm +1 from me!
>>
>> Il 13 ott 2021 04:08, Nyall Dawson <nyall.dawson at gmail.com> ha scritto:
>>
>> Hi PSC, dev list,
>>
>> I would like to formally propose that we grant core committer status
>> to Stefanos Natsis (https://github.com/uclaros).
>>
>> Stefanos has proven to be a very valuable contributor to QGIS, with a
>> great history of careful, well designed work. He brings some much
>> needed skills and insight to the QGIS project, and I'm always very
>> happy to see his pull requests flow in, as they consistently address
>> important bugs, paper cuts, and functionality gaps in the QGIS
>> application.
>>
>> I'd love to see us formally recognise the value he brings to the
>> project by granting Stefanos a core committer status.
>>
>> Thanks for your consideration!
>> Nyall
>> _______________________________________________
>> Qgis-psc mailing list
>> Qgis-psc at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>
>>
>> _______________________________________________
>> Qgis-psc mailing list
>> Qgis-psc at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211014/8a40b041/attachment-0001.html>

From nyall.dawson at gmail.com  Wed Oct 13 17:49:19 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 14 Oct 2021 10:49:19 +1000
Subject: [QGIS-Developer] projected CRS
In-Reply-To: <b81ed543-c901-84b8-53ea-f5905913d508@wheregroup.com>
References: <CAAgsrZiRdh_TiRcC7exudsEGGU=uxixeHAUqtJHb07z8pU464g@mail.gmail.com>
 <b81ed543-c901-84b8-53ea-f5905913d508@wheregroup.com>
Message-ID: <CAB28AsgRc1kciK1A-BG_LNLAZYNRK=fDg2KU0nQDUvh0QWR7_g@mail.gmail.com>

On Wed, 13 Oct 2021 at 20:10, Stefan Giese (WhereGroup)
<stefan.giese at wheregroup.com> wrote:
>
> in python I would do it like this one:
>
> l = iface.activeLayer()
> if l.crs().authid() != "":
>     print(l.crs().authid ())
> else:
>     print("No projection")

This isn't quite right -- e.g. a geographic CRS like WGS 84 will still
have an authid ("EPSG:4326"). As Etienne pointed out .isGeographic()
is the correct way to test that.

I think here you might be trying to check instead if the layer has a
valid CRS set (as opposed to "no CRS set"), which should be tested
instead by:

if not l.crs().isValid():
     print("No CRS set")

(Also noting that a perfectly valid CRS may not have an authid if it
came from a custom wkt definition and isn't matched to any official
registry entry)... phew!

Nyall


>
> Am 13.10.2021 um 11:50 schrieb pierluigi de rosa:
>
> Dear all,
>
> mayble a very simple question.
> Is it possible to check quickly if a layer has a projected CRS or not?
> in QgsCoordinateReferenceSystem I have not found a method able to do that check.
> Thanks for your attention
> Pierluigi
>
> --
> Ing. Pierluigi De Rosa (PhD in Earth Science)
> Contract Professor of Geographic Information System at University of Perugia
> cel: 3497558268 / fax: 075 7823038
> skype: pierluigi.derosa
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
> Mit freundlichen Gr??en
> Stefan Giese
> Projektleiter/Consultant
>
> ---------------------------------------------
> Schon gewusst?
> In unserem Blog geben wir Tipps & Tricks zu
> Open-Source-GIS-Software und berichten aus unserem Experten-Alltag:
> https://wheregroup.com/blog/
> ---------------------------------------------
>
> WhereGroup GmbH
> Schwimmbadstr. 2
> 79100 Freiburg
> Germany
>
> Fon: +49 (0)761 / 519 102 - 61
> Fax: +49 (0)761 / 519 102 - 11
>
> stefan.giese at wheregroup.com
> www.wheregroup.com
> Gesch?ftsf?hrer:
> Olaf Knopp, Peter Stamm
> Amtsgericht Bonn, HRB 9885
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From stefan.giese at wheregroup.com  Wed Oct 13 21:31:45 2021
From: stefan.giese at wheregroup.com (Stefan Giese (WhereGroup))
Date: Thu, 14 Oct 2021 06:31:45 +0200
Subject: [QGIS-Developer] projected CRS
In-Reply-To: <CAB28AsgRc1kciK1A-BG_LNLAZYNRK=fDg2KU0nQDUvh0QWR7_g@mail.gmail.com>
References: <CAAgsrZiRdh_TiRcC7exudsEGGU=uxixeHAUqtJHb07z8pU464g@mail.gmail.com>
 <b81ed543-c901-84b8-53ea-f5905913d508@wheregroup.com>
 <CAB28AsgRc1kciK1A-BG_LNLAZYNRK=fDg2KU0nQDUvh0QWR7_g@mail.gmail.com>
Message-ID: <22246ed2-6f72-95a6-94f1-8ae1d699ab94@wheregroup.com>

Thank you Nyall

for clarifying. After sending my answer I realized that there can be 
projection which are not registered and have an official code

Best

Stefan

Am 14.10.2021 um 02:49 schrieb Nyall Dawson:
> On Wed, 13 Oct 2021 at 20:10, Stefan Giese (WhereGroup)
> <stefan.giese at wheregroup.com> wrote:
>> in python I would do it like this one:
>>
>> l = iface.activeLayer()
>> if l.crs().authid() != "":
>>      print(l.crs().authid ())
>> else:
>>      print("No projection")
> This isn't quite right -- e.g. a geographic CRS like WGS 84 will still
> have an authid ("EPSG:4326"). As Etienne pointed out .isGeographic()
> is the correct way to test that.
>
> I think here you might be trying to check instead if the layer has a
> valid CRS set (as opposed to "no CRS set"), which should be tested
> instead by:
>
> if not l.crs().isValid():
>       print("No CRS set")
>
> (Also noting that a perfectly valid CRS may not have an authid if it
> came from a custom wkt definition and isn't matched to any official
> registry entry)... phew!
>
> Nyall
>
>
>> Am 13.10.2021 um 11:50 schrieb pierluigi de rosa:
>>
>> Dear all,
>>
>> mayble a very simple question.
>> Is it possible to check quickly if a layer has a projected CRS or not?
>> in QgsCoordinateReferenceSystem I have not found a method able to do that check.
>> Thanks for your attention
>> Pierluigi
>>
>> --
>> Ing. Pierluigi De Rosa (PhD in Earth Science)
>> Contract Professor of Geographic Information System at University of Perugia
>> cel: 3497558268 / fax: 075 7823038
>> skype: pierluigi.derosa
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> --
>> Mit freundlichen Gr??en
>> Stefan Giese
>> Projektleiter/Consultant
>>
>> ---------------------------------------------
>> Schon gewusst?
>> In unserem Blog geben wir Tipps & Tricks zu
>> Open-Source-GIS-Software und berichten aus unserem Experten-Alltag:
>> https://wheregroup.com/blog/
>> ---------------------------------------------
>>
>> WhereGroup GmbH
>> Schwimmbadstr. 2
>> 79100 Freiburg
>> Germany
>>
>> Fon: +49 (0)761 / 519 102 - 61
>> Fax: +49 (0)761 / 519 102 - 11
>>
>> stefan.giese at wheregroup.com
>> www.wheregroup.com
>> Gesch?ftsf?hrer:
>> Olaf Knopp, Peter Stamm
>> Amtsgericht Bonn, HRB 9885
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Mit freundlichen Gr??en
Stefan Giese
Projektleiter/Consultant
------------------------------------------------------
Aufwind durch Wissen!
Jetzt neu: Webinare und Online-Schulungen
bei der www.foss-academy.com
------------------------------------------------------

WhereGroup GmbH
Schwimmbadstr. 2
79100 Freiburg
Germany

Fon: +49 (0)761 / 519 102 - 61
Fax: +49 (0)761 / 519 102 - 11

stefan.giese at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885


-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 495 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211014/51557f3c/attachment.sig>

From apasotti at gmail.com  Thu Oct 14 00:23:44 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 14 Oct 2021 09:23:44 +0200
Subject: [QGIS-Developer] [Qgis-psc] Core committer status for Stefanos
 Natsis (uclaros)
In-Reply-To: <CADBCwLaMhbpKLOPBuEwiqmjeLax=DNUjN2RLj9cHp_Kv_RD4EQ@mail.gmail.com>
References: <CAB28AsiiKcP3OM_fxXyc4nL7nE4bjWtvmF9mkjoYkoJy6w_UDQ@mail.gmail.com>
 <b3fce3ad-e8b6-460e-98ed-3f568f28adf7@email.android.com>
 <CAC7zN95QX16Ryp2TXLGUZkjZEHZ0iTQW9sPMTe-8-tP_C0tPjg@mail.gmail.com>
 <CADBCwLaMhbpKLOPBuEwiqmjeLax=DNUjN2RLj9cHp_Kv_RD4EQ@mail.gmail.com>
Message-ID: <CAL5Q673tX4QXB=YmPg0M40uMDFjiFVBcE3rBLsXJBTfkaFn5iA@mail.gmail.com>

Hi Stefanos,

would you please send an email to the PSC stating that you have read and
agreed with the following documents:

   -

   Read and agree to the Code of Conduct
   <https://qgis.org/en/site/getinvolved/governance/codeofconduct/codeofconduct.html#codeofconduct>
   .
   -

   Read and agree to the Coding Standards
   <https://docs.qgis.org/testing/en/docs/developers_guide/codingstandards.html>
   .
   -

   Read and agree to the Diversity statement
   <https://qgis.org/en/site/getinvolved/governance/codeofconduct/diversitystatement.html#diversitystatement>
   .

They are from the page:
https://qgis.org/en/site/getinvolved/development/contributor_requirements.html

Kind regards.



On Thu, Oct 14, 2021 at 12:32 AM Stefanos Natsis <uclaros at gmail.com> wrote:

> Wow! That would be a great honor for me! Thank you Nyall for the
> proposition and the kind words and thank you all for supporting and
> reviewing my work!
> It's been a real pleasure contributing!
> Stefanos
>
> On Wed, 13 Oct 2021 at 10:47, Matthias Kuhn <matthias at opengis.ch> wrote:
>
>> A well deserved +1 for Stefanos, great contributions and stream of
>> involvement.
>>
>> On Wed, Oct 13, 2021 at 8:54 AM Alessandro Pasotti <elpaso at itopen.it>
>> wrote:
>>
>>> Warm +1 from me!
>>>
>>> Il 13 ott 2021 04:08, Nyall Dawson <nyall.dawson at gmail.com> ha scritto:
>>>
>>> Hi PSC, dev list,
>>>
>>> I would like to formally propose that we grant core committer status
>>> to Stefanos Natsis (https://github.com/uclaros).
>>>
>>> Stefanos has proven to be a very valuable contributor to QGIS, with a
>>> great history of careful, well designed work. He brings some much
>>> needed skills and insight to the QGIS project, and I'm always very
>>> happy to see his pull requests flow in, as they consistently address
>>> important bugs, paper cuts, and functionality gaps in the QGIS
>>> application.
>>>
>>> I'd love to see us formally recognise the value he brings to the
>>> project by granting Stefanos a core committer status.
>>>
>>> Thanks for your consideration!
>>> Nyall
>>> _______________________________________________
>>> Qgis-psc mailing list
>>> Qgis-psc at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>>
>>>
>>> _______________________________________________
>>> Qgis-psc mailing list
>>> Qgis-psc at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>>
>> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211014/1e29d12a/attachment.html>

From jacopocinosi at yahoo.it  Thu Oct 14 07:58:36 2021
From: jacopocinosi at yahoo.it (Jacopo Cinosi)
Date: Thu, 14 Oct 2021 16:58:36 +0200
Subject: [QGIS-Developer] Stream Digitizing Tool
References: <A96DC6FC-7EC4-4336-93E3-9FBBFB2FAC70.ref@yahoo.it>
Message-ID: <A96DC6FC-7EC4-4336-93E3-9FBBFB2FAC70@yahoo.it>

Dear Sirs,

I am writing in relation to the stream digitizing tool introduced in Qgis v. 3.2.
I think it is a very useful tool which will increase the productivity of all users and also the graphic quality of the maps obtained with Qgis.
I was wondering if you could consider implementing the possibility of activating the drawing only when the left mouse button is pressed. This would allow greater usability with graphics tablets.

I would like to thank you for the work you do to make Qgis better and better.

Best Regards
Jacopo Cinosi


From andreaerdna at libero.it  Thu Oct 14 08:45:01 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Thu, 14 Oct 2021 17:45:01 +0200
Subject: [QGIS-Developer] RES:  Qgis 3.20.3 grass not working
In-Reply-To: <013601d7c04a$55e98840$01bc98c0$@yahoo.com.br>
References: <003601d7beb1$f020cfd0$d0626f70$.ref@yahoo.com.br>
 <003601d7beb1$f020cfd0$d0626f70$@yahoo.com.br>
 <b66eecde-155f-8600-4d43-840bb094ae46@libero.it>
 <013601d7c04a$55e98840$01bc98c0$@yahoo.com.br>
Message-ID: <a61a3e85-ffef-e9ed-bb64-7e0590b7e1bb@libero.it>

Hi Jorge,
I've used right now the OSGeo4W Network Installer with the "Advanced 
Install" option selecting to install the packages "qgis" version 
3.20.3-1 and "grass" version 7.8.6-1 in a clean "C:\OSGeo4W\" folder.
(The "qgis-grass-plugin" needs to be installed only if the "GRASS 7" 
core plugin is needed.)

After the installation procedure, launching QGIS from the Start menu 
shortcut link then QGIS doesn't show any issue about GRASS and the GRASS 
algorithms are available in the Processing Toolbox.

There is only a "CRITICAL Problem installing SAGA: SAGA not found or not 
installed" message, but it is normal since I've not installed SAGA.

Maybe you just need to use a new QGIS user profile or to install QGIS 
and GRASS again in a clean folder.

Hope you could fix the issue.

Anyway, if you continue to experience such issue, probably it would be 
better to open a new ticket in the OSGeo4W issue reporting system at 
https://trac.osgeo.org/osgeo4w/

Best regards.

Andrea


Il 13/10/2021 17:52, jorgealmerio at yahoo.com.br ha scritto:
> Hi Andrea,
> 
> I have used Advanced Install option.
> 
> and I selected (see picture below):
> 
>  ??????????????? Desktop:
> 
>  ??????????????? ??????????????? grass: GRASS GIS
> 
>  ??????????????? Libs:
> 
>  ?????????????????????????????? qgis-grass-plugin: GRASS plugin for QGIS

From jorgealmerio at yahoo.com.br  Thu Oct 14 12:24:50 2021
From: jorgealmerio at yahoo.com.br (jorgealmerio at yahoo.com.br)
Date: Thu, 14 Oct 2021 16:24:50 -0300
Subject: [QGIS-Developer] RES:  RES:  Qgis 3.20.3 grass not working
In-Reply-To: <a61a3e85-ffef-e9ed-bb64-7e0590b7e1bb@libero.it>
References: <003601d7beb1$f020cfd0$d0626f70$.ref@yahoo.com.br>
 <003601d7beb1$f020cfd0$d0626f70$@yahoo.com.br>
 <b66eecde-155f-8600-4d43-840bb094ae46@libero.it>
 <013601d7c04a$55e98840$01bc98c0$@yahoo.com.br>
 <a61a3e85-ffef-e9ed-bb64-7e0590b7e1bb@libero.it>
Message-ID: <019c01d7c131$2a44cff0$7ece6fd0$@yahoo.com.br>

Hi Andrea,

You are totally right!

As I have Qgis 3.18.3 and 3.20.3 installed, and they have different
"Setups", I think I made some confusion.

Now When I chosed to reinstall 'grass' for the right qgis version,
everything has solved!

Thank you and sorry for this noise!

Jorge Almerio



-----Mensagem original-----
De: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] Em nome
de Andrea Giudiceandrea
Enviada em: quinta-feira, 14 de outubro de 2021 12:45
Para: qgis-developer at lists.osgeo.org
Assunto: Re: [QGIS-Developer] RES: Qgis 3.20.3 grass not working

Hi Jorge,
I've used right now the OSGeo4W Network Installer with the "Advanced
Install" option selecting to install the packages "qgis" version
3.20.3-1 and "grass" version 7.8.6-1 in a clean "C:\OSGeo4W\" folder.
(The "qgis-grass-plugin" needs to be installed only if the "GRASS 7" 
core plugin is needed.)

After the installation procedure, launching QGIS from the Start menu
shortcut link then QGIS doesn't show any issue about GRASS and the GRASS
algorithms are available in the Processing Toolbox.

There is only a "CRITICAL Problem installing SAGA: SAGA not found or not
installed" message, but it is normal since I've not installed SAGA.

Maybe you just need to use a new QGIS user profile or to install QGIS and
GRASS again in a clean folder.

Hope you could fix the issue.

Anyway, if you continue to experience such issue, probably it would be
better to open a new ticket in the OSGeo4W issue reporting system at
https://trac.osgeo.org/osgeo4w/

Best regards.

Andrea


Il 13/10/2021 17:52, jorgealmerio at yahoo.com.br ha scritto:
> Hi Andrea,
> 
> I have used Advanced Install option.
> 
> and I selected (see picture below):
> 
>  ??????????????? Desktop:
> 
>  ??????????????? ??????????????? grass: GRASS GIS
> 
>  ??????????????? Libs:
> 
>  ?????????????????????????????? qgis-grass-plugin: GRASS plugin for 
> QGIS
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From strk at kbt.io  Fri Oct 15 01:34:48 2021
From: strk at kbt.io (Sandro Santilli)
Date: Fri, 15 Oct 2021 10:34:48 +0200
Subject: [QGIS-Developer] Default QgsFeatureFid ?
Message-ID: <20211015083448.GA12865@c19>

While writing unit test for QgsFeatureRequest in core I found
that the filterFid() method for the default-constructed
QgsFeatureRequest returns -1 rather than what a default-constructed
QgsFeatureId() would return (0)

So I've been wondering: *should* a QgsFeatureFid have a default
value of -1 instead ? More generically: does QGIS make any assumption
about *which* special value of QgsFeatureFid means "no fid" ?

If there's no such notion as an "unspecified FID" then I wonder
why QgsFeatureRequest is taking the effort of specifying a default
value of it different from the default, and if there's a good reason
it should probably be documented there.

--strk; 

  Libre GIS consultant/developer
  https://strk.kbt.io/services.html

From apasotti at gmail.com  Fri Oct 15 01:45:52 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 15 Oct 2021 10:45:52 +0200
Subject: [QGIS-Developer] Default QgsFeatureFid ?
In-Reply-To: <20211015083448.GA12865@c19>
References: <20211015083448.GA12865@c19>
Message-ID: <CAL5Q670vy-dXm_+av=9q5tMvCuMbuki3K6pzUyvpXxKGU5HMZA@mail.gmail.com>

Hi,

maybe you can use

#define FID_NULL            std::numeric_limits<QgsFeatureId>::min()



On Fri, Oct 15, 2021 at 10:40 AM Sandro Santilli <strk at kbt.io> wrote:

> While writing unit test for QgsFeatureRequest in core I found
> that the filterFid() method for the default-constructed
> QgsFeatureRequest returns -1 rather than what a default-constructed
> QgsFeatureId() would return (0)
>
> So I've been wondering: *should* a QgsFeatureFid have a default
> value of -1 instead ? More generically: does QGIS make any assumption
> about *which* special value of QgsFeatureFid means "no fid" ?
>
> If there's no such notion as an "unspecified FID" then I wonder
> why QgsFeatureRequest is taking the effort of specifying a default
> value of it different from the default, and if there's a good reason
> it should probably be documented there.
>
> --strk;
>
>   Libre GIS consultant/developer
>   https://strk.kbt.io/services.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211015/2070840e/attachment.html>

From strk at kbt.io  Fri Oct 15 02:50:00 2021
From: strk at kbt.io (Sandro Santilli)
Date: Fri, 15 Oct 2021 11:50:00 +0200
Subject: [QGIS-Developer] Default QgsFeatureFid ?
In-Reply-To: <CAL5Q670vy-dXm_+av=9q5tMvCuMbuki3K6pzUyvpXxKGU5HMZA@mail.gmail.com>
References: <20211015083448.GA12865@c19>
 <CAL5Q670vy-dXm_+av=9q5tMvCuMbuki3K6pzUyvpXxKGU5HMZA@mail.gmail.com>
Message-ID: <20211015095000.GE12865@c19>

On Fri, Oct 15, 2021 at 10:45:52AM +0200, Alessandro Pasotti wrote:
> Hi,
> 
> maybe you can use
> 
> #define FID_NULL            std::numeric_limits<QgsFeatureId>::min()

Maybe, but the question is more generic: *should* a QgsFeatureId have
a default value ? In that case maybe we could change its definition
from a typedef to a class and define such default value ? OR keep
it a typedef and consider 0 (the current typedefe'd type default)
as meaning NULL (can we ensure no *real* feature would ever have a
fid value of 0, from every provider?).

--strk;


From apasotti at gmail.com  Fri Oct 15 03:03:40 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 15 Oct 2021 12:03:40 +0200
Subject: [QGIS-Developer] Default QgsFeatureFid ?
In-Reply-To: <20211015095000.GE12865@c19>
References: <20211015083448.GA12865@c19>
 <CAL5Q670vy-dXm_+av=9q5tMvCuMbuki3K6pzUyvpXxKGU5HMZA@mail.gmail.com>
 <20211015095000.GE12865@c19>
Message-ID: <CAL5Q671PPF=4h03XADh9VH_mx-oG874cLm_EoEuSmqFNvy1_qw@mail.gmail.com>

IMO the default value should be FID_NULL, IIRC 0 is a valid fid for some
providers.

On Fri, Oct 15, 2021 at 11:50 AM Sandro Santilli <strk at kbt.io> wrote:

> On Fri, Oct 15, 2021 at 10:45:52AM +0200, Alessandro Pasotti wrote:
> > Hi,
> >
> > maybe you can use
> >
> > #define FID_NULL            std::numeric_limits<QgsFeatureId>::min()
>
> Maybe, but the question is more generic: *should* a QgsFeatureId have
> a default value ? In that case maybe we could change its definition
> from a typedef to a class and define such default value ? OR keep
> it a typedef and consider 0 (the current typedefe'd type default)
> as meaning NULL (can we ensure no *real* feature would ever have a
> fid value of 0, from every provider?).
>
> --strk;
>
>

-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211015/d775d305/attachment.html>

From gdt at lexort.com  Fri Oct 15 05:12:07 2021
From: gdt at lexort.com (Greg Troxel)
Date: Fri, 15 Oct 2021 08:12:07 -0400
Subject: [QGIS-Developer] Default QgsFeatureFid ?
In-Reply-To: <20211015095000.GE12865@c19> (Sandro Santilli's message of "Fri, 
 15 Oct 2021 11:50:00 +0200")
References: <20211015083448.GA12865@c19>
 <CAL5Q670vy-dXm_+av=9q5tMvCuMbuki3K6pzUyvpXxKGU5HMZA@mail.gmail.com>
 <20211015095000.GE12865@c19>
Message-ID: <rmio87qh4h4.fsf@s1.lexort.com>


Sandro Santilli <strk at kbt.io> writes:

> On Fri, Oct 15, 2021 at 10:45:52AM +0200, Alessandro Pasotti wrote:
>> Hi,
>> 
>> maybe you can use
>> 
>> #define FID_NULL            std::numeric_limits<QgsFeatureId>::min()
>
> Maybe, but the question is more generic: *should* a QgsFeatureId have
> a default value ?

There's a larger question lurking behind that, which is something about
if tables in SQL can have NULL values and how that NULL is mapped into
qgis's main internal representation and then back out to various
formats.  (I know there's a great CJ Date rant about NULL not belonging
in SQL and how it is a symptom of denormalized data, but it is how it is
these days.)

That said, it seems obvious that SQL NULL should map to FID_NULL on
reading.

About

  std:numeric_limits<std::numeric_limits<QgsFeatureId>::min()

that would seem to end up with a different value on different systems,
although if QgsFeatureId is a fixed-width type that might require 2s vs
1s complement.

I guess something like FeatureId really does need to have a reserved
NULL value, or we need a rule that it can't be.

Not about qgis, but in an unusual corner Home Assistant I have run into
a problem with varying representations of the same semantics, leading to
incorrect behavior.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 194 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211015/893780c0/attachment.sig>

From strk at kbt.io  Fri Oct 15 07:56:50 2021
From: strk at kbt.io (Sandro Santilli)
Date: Fri, 15 Oct 2021 16:56:50 +0200
Subject: [QGIS-Developer] Default QgsFeatureFid ?
In-Reply-To: <rmio87qh4h4.fsf@s1.lexort.com>
References: <20211015083448.GA12865@c19>
 <CAL5Q670vy-dXm_+av=9q5tMvCuMbuki3K6pzUyvpXxKGU5HMZA@mail.gmail.com>
 <20211015095000.GE12865@c19> <rmio87qh4h4.fsf@s1.lexort.com>
Message-ID: <20211015145650.GF12865@c19>

On Fri, Oct 15, 2021 at 08:12:07AM -0400, Greg Troxel wrote:

> There's a larger question lurking behind that, which is something about
> if tables in SQL can have NULL values and how that NULL is mapped into
> qgis's main internal representation and then back out to various
> formats.  (I know there's a great CJ Date rant about NULL not belonging
> in SQL and how it is a symptom of denormalized data, but it is how it is
> these days.)

I don't think QGIS needs to support "null" values for feature id.
Features *need* to have an not-null identifier.

--strk;

From strk at kbt.io  Fri Oct 15 08:32:14 2021
From: strk at kbt.io (Sandro Santilli)
Date: Fri, 15 Oct 2021 17:32:14 +0200
Subject: [QGIS-Developer] QgsFeatureSource::getFeatures - why returning
 Iterator by value instead of pointer ?
Message-ID: <20211015153214.GH12865@c19>

I'm still trying to understand why a QgsFeatureRequest that's being
built with a DistanceWithin filter ends up loosing that at some point
and reached the point in which:

    QgsFeatureIterator QgsPostgresFeatureSource::getFeatures( const QgsFeatureRequest &request )

Is returning:

      return QgsFeatureIterator( new QgsPostgresFeatureIterator( this, false, request ) );

My question is: why is a QgsFeatureIterator being constructed here,
just for returning it as a value ? Why not returning a pointer
instead, to allow subclasses to return whatever derived class they want ?

--strk; 

  Libre GIS consultant/developer
  https://strk.kbt.io/services.html

From gdt at lexort.com  Fri Oct 15 10:41:59 2021
From: gdt at lexort.com (Greg Troxel)
Date: Fri, 15 Oct 2021 13:41:59 -0400
Subject: [QGIS-Developer] Default QgsFeatureFid ?
In-Reply-To: <20211015145650.GF12865@c19> (Sandro Santilli's message of "Fri, 
 15 Oct 2021 16:56:50 +0200")
References: <20211015083448.GA12865@c19>
 <CAL5Q670vy-dXm_+av=9q5tMvCuMbuki3K6pzUyvpXxKGU5HMZA@mail.gmail.com>
 <20211015095000.GE12865@c19> <rmio87qh4h4.fsf@s1.lexort.com>
 <20211015145650.GF12865@c19>
Message-ID: <rmi4k9igp7c.fsf@s1.lexort.com>


Sandro Santilli <strk at kbt.io> writes:

> On Fri, Oct 15, 2021 at 08:12:07AM -0400, Greg Troxel wrote:
>
>> There's a larger question lurking behind that, which is something about
>> if tables in SQL can have NULL values and how that NULL is mapped into
>> qgis's main internal representation and then back out to various
>> formats.  (I know there's a great CJ Date rant about NULL not belonging
>> in SQL and how it is a symptom of denormalized data, but it is how it is
>> these days.)
>
> I don't think QGIS needs to support "null" values for feature id.
> Features *need* to have an not-null identifier.

Sounds perfectly reasonable, but in that case I would expect that it is
a non-optional argument to a constructor, and there should not be a way
to have a default value.

There might also be a non-duplicate integrity constraint.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 194 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211015/59e58869/attachment.sig>

From strk at kbt.io  Fri Oct 15 12:07:35 2021
From: strk at kbt.io (Sandro Santilli)
Date: Fri, 15 Oct 2021 21:07:35 +0200
Subject: [QGIS-Developer] Default QgsFeatureFid ?
In-Reply-To: <rmi4k9igp7c.fsf@s1.lexort.com>
References: <20211015083448.GA12865@c19>
 <CAL5Q670vy-dXm_+av=9q5tMvCuMbuki3K6pzUyvpXxKGU5HMZA@mail.gmail.com>
 <20211015095000.GE12865@c19> <rmio87qh4h4.fsf@s1.lexort.com>
 <20211015145650.GF12865@c19> <rmi4k9igp7c.fsf@s1.lexort.com>
Message-ID: <20211015190735.GC518160@c19>

On Fri, Oct 15, 2021 at 01:41:59PM -0400, Greg Troxel wrote:
> 
> Sandro Santilli <strk at kbt.io> writes:
> 
> > On Fri, Oct 15, 2021 at 08:12:07AM -0400, Greg Troxel wrote:
> >
> >> There's a larger question lurking behind that, which is something about
> >> if tables in SQL can have NULL values and how that NULL is mapped into
> >> qgis's main internal representation and then back out to various
> >> formats.  (I know there's a great CJ Date rant about NULL not belonging
> >> in SQL and how it is a symptom of denormalized data, but it is how it is
> >> these days.)
> >
> > I don't think QGIS needs to support "null" values for feature id.
> > Features *need* to have an not-null identifier.
> 
> Sounds perfectly reasonable, but in that case I would expect that it is
> a non-optional argument to a constructor, and there should not be a way
> to have a default value.

The need inside QGIS is for an "unknown"/"not used"/"don't care"
situation, which is what I found in a class. There is probably
an "optional" kind of support in C++-11 but I'm not sure it's worth
the cost of adding an additional member to a class just to mean
the optionality since we can already express it with the existing FID_NULL

--strk;

From andreaerdna at libero.it  Sat Oct 16 15:26:45 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Sun, 17 Oct 2021 00:26:45 +0200
Subject: [QGIS-Developer] Inconsistent results using length(),
 perimeter() and area() expression functions and Identify Features
 map tool
Message-ID: <e23e9daa-c92f-9eb6-6bb4-bdf8adac2dd2@libero.it>

Hi Devs,
I noticed that the expression functions length(), perimeter() and area() 
use the QgsGeometry length() and area() functions to calculate the 
Cartesian length of lines and perimeter and area of polygons.

The Identify Features map tool uses instead the QgsAbstractGeometry 
class length() and perimeter() functions for the Cartesian length of 
lines and the perimeter of polygons and the QgsGeometry area() function 
for the Cartesian area.

This leads to inconsistent results when the geometries contain 
CircularStrings or CurvePolygons.
In this case the QgsAbstractGeometry class functions are more accurate 
then the QgsGeometry ones.

Is there any reason or contraindication why not to use the 
QgsAbstractGeometry class functions also for the expression functions 
length(), perimeter() and area() and for the Identify Features map tool 
measurement of polygons area?

Best regards.

Andrea Giudiceandrea

From wonder.sk at gmail.com  Sun Oct 17 12:13:10 2021
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun, 17 Oct 2021 21:13:10 +0200
Subject: [QGIS-Developer] QgsFeatureSource::getFeatures - why returning
 Iterator by value instead of pointer ?
In-Reply-To: <20211015153214.GH12865@c19>
References: <20211015153214.GH12865@c19>
Message-ID: <CAC2XbFcPKHcws=7S58gBvkz1DfkiH+VS3MqJNS7BeHWGeEu6OA@mail.gmail.com>

Hi Sandro

On Fri, Oct 15, 2021 at 5:32 PM Sandro Santilli <strk at kbt.io> wrote:

> My question is: why is a QgsFeatureIterator being constructed here,
> just for returning it as a value ?


If I remember correctly, that's mainly for convenience in the client code,
no need to deal with raw pointers that need to be deleted afterwards.
QgsFeatureIterator also adds implicit sharing, just like many other Qt
classes do (e.g. QString).


> Why not returning a pointer
> instead, to allow subclasses to return whatever derived class they want ?
>

Well, in that code snippet we are already in a subclass that returns the
derived class as wanted, so I am not sure if I understand your concern...

Regards
Martin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211017/98154551/attachment.html>

From nyall.dawson at gmail.com  Sun Oct 17 15:54:47 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 18 Oct 2021 08:54:47 +1000
Subject: [QGIS-Developer] Cleaning up the QGIS Developers/QGIS Community
 groups
Message-ID: <CAB28AshAxu2CZCe7wZGrKPzA+3kBatCMObXEqMZQpjFpz4dnbg@mail.gmail.com>

Hi lists,

Given that we've recently granted membership to the github QGIS
Developers group to a bunch of new members, I think it's timely that
we also take the opportunity to clean up the membership and drop some
members.

What I specifically mean here is that we should (hopefully
temporarily!!) remove developers/contributors from the groups if they
haven't been active in the project for say, the last 24 months. While
it's obviously sad to see once regular contributors move on, it's a
perfectly natural thing as people's work/life situations evolve and
change.

Leaving these users with access to the repos is ultimately a security
risk to QGIS. I'm concerned that there's github accounts with
absolutely no Github activity at all in recent years who still have
direct commit access to the QGIS repository (e.g.
https://github.com/homann ).

So I would propose that we set some policy regarding "temporary
hiatus/removal" from the QGIS Developers/QGIS Community groups for
users who aren't currently active in the project. Something like "if
the user shows no activity on the QGIS repositories for 24 months,
then that user will be temporarily removed from the security groups.
The user is still considered a core contributor/community member, and
can have these access rights revived at any time via emailing the QGIS
PSC".

Thoughts?

Nyall

From nyall.dawson at gmail.com  Sun Oct 17 15:57:59 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 18 Oct 2021 08:57:59 +1000
Subject: [QGIS-Developer] Inconsistent results using length(),
 perimeter() and area() expression functions and Identify Features
 map tool
In-Reply-To: <e23e9daa-c92f-9eb6-6bb4-bdf8adac2dd2@libero.it>
References: <e23e9daa-c92f-9eb6-6bb4-bdf8adac2dd2@libero.it>
Message-ID: <CAB28AshdscOhHw0WF2EEv6HhusR+=cJBZKzqQ+JUemFeCdXg3A@mail.gmail.com>

On Sun, 17 Oct 2021 at 08:27, Andrea Giudiceandrea
<andreaerdna at libero.it> wrote:
>
> Hi Devs,
> I noticed that the expression functions length(), perimeter() and area()
> use the QgsGeometry length() and area() functions to calculate the
> Cartesian length of lines and perimeter and area of polygons.
>
> The Identify Features map tool uses instead the QgsAbstractGeometry
> class length() and perimeter() functions for the Cartesian length of
> lines and the perimeter of polygons and the QgsGeometry area() function
> for the Cartesian area.
>
> This leads to inconsistent results when the geometries contain
> CircularStrings or CurvePolygons.
> In this case the QgsAbstractGeometry class functions are more accurate
> then the QgsGeometry ones.
>
> Is there any reason or contraindication why not to use the
> QgsAbstractGeometry class functions also for the expression functions
> length(), perimeter() and area() and for the Identify Features map tool
> measurement of polygons area?

It's really just a historical artefact, for outdated reasons. We
should definitely change the QgsGeometry methods to use the
QgsAbstractGeometry ones. Aside from the accuracy of curved vs
segmentized representations it's likely that the native calculations
will be much faster then the QGIS representation -> GEOS
representation -> GEOS calculation trip.

Nyall


>
> Best regards.
>
> Andrea Giudiceandrea
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From abhishek.rana at mapmyindia.com  Sun Oct 17 21:13:15 2021
From: abhishek.rana at mapmyindia.com (Abhishek Kumar Rana)
Date: Mon, 18 Oct 2021 09:43:15 +0530
Subject: [QGIS-Developer] Compile qGis
Message-ID: <CAEmL286psZz=BqqkkKO3-kBzEe8xVv_T-oCmYK1B+j=no-zYzw@mail.gmail.com>

Dear Devs,
I tried to compile qGis for Windows . I have Successfully created a
Solution file for Visual studio ( Community version 2015 ) .When I opened
the Solution file  after that I found so many errors in the code. Please
give me a better solution to successfully compile qGis.

Cheers
Abhishek Rana

-- 
Leading organisations trust MapmyIndia maps, location and IoT technologies. 
To learn why, visit?*mapmyindia.com 
<https://www.mapmyindia.com/?utm_source=Email&utm_medium=MMI-Signature&utm_campaign=MMI-Email-Signature>*.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211018/abdfab7a/attachment.html>

From apasotti at gmail.com  Mon Oct 18 00:46:25 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 18 Oct 2021 09:46:25 +0200
Subject: [QGIS-Developer] Cleaning up the QGIS Developers/QGIS Community
 groups
In-Reply-To: <CAB28AshAxu2CZCe7wZGrKPzA+3kBatCMObXEqMZQpjFpz4dnbg@mail.gmail.com>
References: <CAB28AshAxu2CZCe7wZGrKPzA+3kBatCMObXEqMZQpjFpz4dnbg@mail.gmail.com>
Message-ID: <CAL5Q6724tV9xaZ6O2sAH1u1NKQ9Lm9HZOswjUU-qhmJ-Yf-zrA@mail.gmail.com>

On Mon, Oct 18, 2021 at 12:55 AM Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> Hi lists,
>
> Given that we've recently granted membership to the github QGIS
> Developers group to a bunch of new members, I think it's timely that
> we also take the opportunity to clean up the membership and drop some
> members.
>
> What I specifically mean here is that we should (hopefully
> temporarily!!) remove developers/contributors from the groups if they
> haven't been active in the project for say, the last 24 months. While
> it's obviously sad to see once regular contributors move on, it's a
> perfectly natural thing as people's work/life situations evolve and
> change.
>
> Leaving these users with access to the repos is ultimately a security
> risk to QGIS. I'm concerned that there's github accounts with
> absolutely no Github activity at all in recent years who still have
> direct commit access to the QGIS repository (e.g.
> https://github.com/homann ).
>
> So I would propose that we set some policy regarding "temporary
> hiatus/removal" from the QGIS Developers/QGIS Community groups for
> users who aren't currently active in the project. Something like "if
> the user shows no activity on the QGIS repositories for 24 months,
> then that user will be temporarily removed from the security groups.
> The user is still considered a core contributor/community member, and
> can have these access rights revived at any time via emailing the QGIS
> PSC".
>
> Thoughts?
>
> Nyall
>

Hi Nyall,

To summarize:

1. QGIS core contributor status is for life
2. github core committer rights will be revoked after 24 months of
inactivity
3. github core committer rights will be given back if the contributor
restarts to contribute

This makes total sense to me, we discussed this briefly in the PSC but we
didn't decide anything yet.

We can put it in the agenda for the following meeting but I think that if
there are no objections from the qgis-dev ML I guess it will be approved
right away.

Kind regards.

-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211018/af6af04d/attachment.html>

From nyall.dawson at gmail.com  Mon Oct 18 00:49:10 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 18 Oct 2021 17:49:10 +1000
Subject: [QGIS-Developer] Cleaning up the QGIS Developers/QGIS Community
 groups
In-Reply-To: <CAL5Q6724tV9xaZ6O2sAH1u1NKQ9Lm9HZOswjUU-qhmJ-Yf-zrA@mail.gmail.com>
References: <CAB28AshAxu2CZCe7wZGrKPzA+3kBatCMObXEqMZQpjFpz4dnbg@mail.gmail.com>
 <CAL5Q6724tV9xaZ6O2sAH1u1NKQ9Lm9HZOswjUU-qhmJ-Yf-zrA@mail.gmail.com>
Message-ID: <CAB28AsitY_DWgUsciYc_qrh09Y7rE1DNe_s=ad_LDNyCGWBFmw@mail.gmail.com>

On Mon, 18 Oct 2021 at 17:46, Alessandro Pasotti <apasotti at gmail.com> wrote:
>
> Hi Nyall,
>
> To summarize:
>
> 1. QGIS core contributor status is for life
> 2. github core committer rights will be revoked after 24 months of inactivity
> 3. github core committer rights will be given back if the contributor restarts to contribute

Exactly. (So the main distinction here is that core contributor status
=== QGIS.org implicitly trusts a PERSON, not a "github user account").

Nyall

>
> This makes total sense to me, we discussed this briefly in the PSC but we didn't decide anything yet.
>
> We can put it in the agenda for the following meeting but I think that if there are no objections from the qgis-dev ML I guess it will be approved right away.
>
> Kind regards.
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it

From strk at kbt.io  Mon Oct 18 08:04:35 2021
From: strk at kbt.io (Sandro Santilli)
Date: Mon, 18 Oct 2021 17:04:35 +0200
Subject: [QGIS-Developer] QgsFeatureSource::getFeatures - why returning
 Iterator by value instead of pointer ?
In-Reply-To: <CAC2XbFcPKHcws=7S58gBvkz1DfkiH+VS3MqJNS7BeHWGeEu6OA@mail.gmail.com>
References: <20211015153214.GH12865@c19>
 <CAC2XbFcPKHcws=7S58gBvkz1DfkiH+VS3MqJNS7BeHWGeEu6OA@mail.gmail.com>
Message-ID: <20211018150435.GB5151@c19>

On Sun, Oct 17, 2021 at 09:13:10PM +0200, Martin Dobias wrote:
> Hi Sandro
> 
> On Fri, Oct 15, 2021 at 5:32 PM Sandro Santilli <strk at kbt.io> wrote:
> 
> > My question is: why is a QgsFeatureIterator being constructed here,
> > just for returning it as a value ?
> 
> If I remember correctly, that's mainly for convenience in the client code,
> no need to deal with raw pointers that need to be deleted afterwards.
> QgsFeatureIterator also adds implicit sharing, just like many other Qt
> classes do (e.g. QString).
> 
> > Why not returning a pointer
> > instead, to allow subclasses to return whatever derived class they want ?
> 
> Well, in that code snippet we are already in a subclass that returns the
> derived class as wanted, so I am not sure if I understand your concern...

My problem is that I'm debug-printing properties of the
QgsFeatureRequest as passed to QgsFeatureProvider::getFeatures
and while the value passed to it has one kind of SpatialFilter
the value seen by QgsPostgresFeatureIterator (subclass of
QgsAbstractFeatureIterator) has a *different* SpatialFilter:

  XXXX request 0x7fe2f27fa4e0 for target source someData has spatialFilterType 2
  XXX QgsFeatureRequest::setFilterRect called on request 0x7fe2d40129a8 having spatialFilterType == 2
  XXX QgsPostgresFeatureSource::getFeatures called, request 0x7fe2d4012b18 has spatialFilterType 1

I'm printing the *pointer* value to try at following *when* things are
changing but as you see the pointer value keeps changing due to
copies...

Anyway, I'll fire a debugger and break on QgsFeatureRequest::setFilterRect,
which might be the problem here.

--strk;

From strk at kbt.io  Mon Oct 18 11:05:22 2021
From: strk at kbt.io (Sandro Santilli)
Date: Mon, 18 Oct 2021 20:05:22 +0200
Subject: [QGIS-Developer] Empty vs. Null rectangle, bogus ?
Message-ID: <20211018180522.GC5151@c19>

Still chasing bug
QgsVectorLayerFeatureIterator::QgsVectorLayerFeatureIterator
I reached QgsRectangle, whose "Null" or "Empty" nature changes
behavior of QgsFeatureVectorFeatureIterator in a way that prevents
proper WithinDistance filter from working.

Details are written in
https://github.com/qgis/QGIS/issues/45352
but what I wanted to ask here is:

According to the comments Empty means that some information is still
available (bounding box of a point) but the unit test for QgsRectangle
(and the isEmpty method implementation) seem to check for Max < Min,
which would NOT be the case for the bounding box of a point,
so is puzzling.

I'm not sure how to proceed for fixing the bug I'm seeing because
one simple fix would be avoiding to call setRectangle on a QgsRequest
if the iterator's mFilterRect is Empty, but a more complex solution
could be to *allow* those QgsRequests to have multiple filters, rather
than one excluding the other.

Also I've yet to understand WHY at construction time a
QgsAbstractFeatureIterator shoul dhave an Empty rather than Null
rectangle, which brings back to the first question (is the distinction
really defined?).

--strk; 

  Libre GIS consultant/developer
  https://strk.kbt.io/services.html

From delazj at gmail.com  Mon Oct 18 14:18:33 2021
From: delazj at gmail.com (Delaz J)
Date: Mon, 18 Oct 2021 23:18:33 +0200
Subject: [QGIS-Developer] Enable github actions in QGIS-Training-Data
 repository
Message-ID: <9c59b3c6-0f9e-c14a-5b5f-76d713c9a61d@gmail.com>

Hi Devs,

Can someone with admin rights in the https://qgis/QGIS-Training-Data 
repository either enables github actions in the repo or provide me with 
enough access to do so, please? I'd like to add (at least) the backport bot.

Thanks.

Harrissou


From delazj at gmail.com  Mon Oct 18 15:19:29 2021
From: delazj at gmail.com (Delaz J)
Date: Tue, 19 Oct 2021 00:19:29 +0200
Subject: [QGIS-Developer] Enable github actions in QGIS-Training-Data
 repository
In-Reply-To: <9c59b3c6-0f9e-c14a-5b5f-76d713c9a61d@gmail.com>
References: <9c59b3c6-0f9e-c14a-5b5f-76d713c9a61d@gmail.com>
Message-ID: <0c3c40b4-d51b-7465-aa9f-dc1853d3b646@gmail.com>

I meant https://github.com/qgis/QGIS-Training-Data repository of course

Le 18/10/2021 ? 23:18, Delaz J a ?crit?:
> Hi Devs,
>
> Can someone with admin rights in the https://qgis/QGIS-Training-Data 
> repository either enables github actions in the repo or provide me 
> with enough access to do so, please? I'd like to add (at least) the 
> backport bot.
>
> Thanks.
>
> Harrissou
>

From asimrp at lavabit.com  Mon Oct 18 18:26:19 2021
From: asimrp at lavabit.com (Asim)
Date: Tue, 19 Oct 2021 06:56:19 +0530
Subject: [QGIS-Developer] Crash in QgsAppication.initQgis()
In-Reply-To: <3729cdcb-0ee0-26b9-3723-e934f53a543e@lavabit.com>
References: <3729cdcb-0ee0-26b9-3723-e934f53a543e@lavabit.com>
Message-ID: <f04d0e89-40ca-4a95-4acd-136935ac17ec@lavabit.com>

On 8/20/21 6:38 PM, Asim wrote:
> The stack trace indicates QgsProject failed to get created because 
> sqlite3_create_function_v2() tried to de-reference a NULL pointer.? 
> Full stack trace is attached.? Is this something MacOS specific?


Apparently, the libsqlite3 installed natively in MacOS is different from 
libsqlite3 that is bundled within QGIS.? The workaround is to set 
DYLD_INSERT_LIBRARIES environment variable to the libsqlite3.dylib 
library within QGIS installation. More details can be found in 
https://github.com/qgis/QGIS/issues/40378

Asim



From rdmailings at duif.net  Mon Oct 18 22:55:17 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 19 Oct 2021 07:55:17 +0200
Subject: [QGIS-Developer] Enable github actions in QGIS-Training-Data
 repository
In-Reply-To: <0c3c40b4-d51b-7465-aa9f-dc1853d3b646@gmail.com>
References: <9c59b3c6-0f9e-c14a-5b5f-76d713c9a61d@gmail.com>
 <0c3c40b4-d51b-7465-aa9f-dc1853d3b646@gmail.com>
Message-ID: <3651398f-0519-24da-4c33-878ef836a157@duif.net>

Hi Harrissou,

You're admin now, if I thicked the right boxes... :-)

Regards,

Richard Duivenvoorde

On 10/19/21 12:19 AM, Delaz J wrote:
> I meant https://github.com/qgis/QGIS-Training-Data repository of course
> 
> Le 18/10/2021 ? 23:18, Delaz J a ?crit?:
>> Hi Devs,
>>
>> Can someone with admin rights in the https://qgis/QGIS-Training-Data repository either enables github actions in the repo or provide me with enough access to do so, please? I'd like to add (at least) the backport bot.
>>
>> Thanks.
>>
>> Harrissou
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From delazj at gmail.com  Tue Oct 19 00:55:10 2021
From: delazj at gmail.com (DelazJ)
Date: Tue, 19 Oct 2021 09:55:10 +0200
Subject: [QGIS-Developer] Enable github actions in QGIS-Training-Data
 repository
In-Reply-To: <3651398f-0519-24da-4c33-878ef836a157@duif.net>
References: <9c59b3c6-0f9e-c14a-5b5f-76d713c9a61d@gmail.com>
 <0c3c40b4-d51b-7465-aa9f-dc1853d3b646@gmail.com>
 <3651398f-0519-24da-4c33-878ef836a157@duif.net>
Message-ID: <CAECJsSrhToxJwaJi=80FEnuLc-w=wfhth_gip5A8jJdizFA99Q@mail.gmail.com>

Hi Richard,

You did and it works. thanks.

Regards,
Harrissou

Le mar. 19 oct. 2021 ? 07:55, Richard Duivenvoorde <rdmailings at duif.net> a
?crit :

> Hi Harrissou,
>
> You're admin now, if I thicked the right boxes... :-)
>
> Regards,
>
> Richard Duivenvoorde
>
> On 10/19/21 12:19 AM, Delaz J wrote:
> > I meant https://github.com/qgis/QGIS-Training-Data repository of course
> >
> > Le 18/10/2021 ? 23:18, Delaz J a ?crit :
> >> Hi Devs,
> >>
> >> Can someone with admin rights in the https://qgis/QGIS-Training-Data
> repository either enables github actions in the repo or provide me with
> enough access to do so, please? I'd like to add (at least) the backport bot.
> >>
> >> Thanks.
> >>
> >> Harrissou
> >>
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211019/1bc7b24b/attachment.html>

From strk at kbt.io  Wed Oct 20 03:01:19 2021
From: strk at kbt.io (Sandro Santilli)
Date: Wed, 20 Oct 2021 12:01:19 +0200
Subject: [QGIS-Developer] QgsFeatureRequest spatial filter reprojection
Message-ID: <20211020100119.GA2769@c19>

I've finally found the bug I've been chasing for two weeks now [1]

What's happening is that a QgsFeatureRequest object initialized
with a DistanceWithin spatial filter, switches to a Rectangle spatial
filter when used to construct a QgsVectorLayerFeatureIterator.

This is because QgsVectorLayerFeatureIterator constructor tries to
reproject the QgsFeatureRequest's rectangle filter from destination
CRS to source CRS, probably aiming at improving performance from
vector layers which may have indices.

Such attempt to reproject is done using methods of QgsFeatureRequest
which *change* the spatial filter (setFilterRect).

Now I've a few questions:

  1. Shouldn't such optimizations be performed by each specific
     provider's class rather than by the base class ?
     (projecting the Request filters to the source CRS)

  2. Shall we see a need to reproject spatial filter references,
     shouldn't this be done by a method of QgsFeatureRequest class
     directly ? 

Note that QgsFeatureRequest doesn't ONLY possibly have a QgsRectangle
as a reference, but could also have a QgsGeometry and a *distance*,
"reprojecting" which is not really obvious...


[1] https://github.com/qgis/QGIS/pull/45384


--strk; 

  Libre GIS consultant/developer
  https://strk.kbt.io/services.html

From pramsey at cleverelephant.ca  Wed Oct 20 13:27:02 2021
From: pramsey at cleverelephant.ca (Paul Ramsey)
Date: Wed, 20 Oct 2021 13:27:02 -0700
Subject: [QGIS-Developer] GEOS 3.10.0 Released
Message-ID: <CACowWR2OQD8yuSHm7Ywg8N4q5=Rpp6rZzYnWSWiX5vnH=ee4iA@mail.gmail.com>

The GEOS PSC is somewhat amused to set the 3.10.0 release of GEOS free
to fly the skies of the digisphere, bringing valid geometries and fast
operations to entities everywhere.

https://trac.osgeo.org/geos/

Headline changes for this release include:
* Continuing performance improvements, particularly in the in-memory
STRTree, and new C-API functions for reading from / writing to GEOS
objects from in-memory buffers. Because it is a core algorithm for
other processes, the index improvement provides a speed-up to
operations across the library.
* Net-new algorithm for Validity checking that speed up testing of
validity, through a more step-wise approach with short-circuiting.
* A new algorithm for Validity enforcement that uses ring containment
logic to determine polygon area membership, for some "more reasonable"
results in complex ring overlapping cases.
* A triangulation routine for polygons, that provides attractive
constrained Delaunay triangulations.

For those with a nose for details, the full NEWS entry follows.

Thank you for using GEOS,
And your help in its development,
The Whole GEOS PSC

== NEWS ====================================

- New things:
  - CAPI: GEOSDistanceWithin, GEOSPreparedDistanceWithin
          (#1124, Sandro Santilli)
  - Output WKT using positional precision with the ryu
    library (#868, Paul Ramsey)
  - geosop CLI for GEOS (Martin Davis)
  - Full doxygen of the C-API (Paul Ramsey)
  - GeometryFixer class for validity enforcement (Martin Davis, Paul Ramsey)
  - CAPI: GEOSDensify (Brendan Ward)
  - CAPI: GEOSCoordSeq_copyFromArrays, GEOSCoordSeq_copyFromBuffer,
          GEOSCoordSeq_copyToArrays, GEOSCoordSeq_copyToBuffer (Daniel Baston)
  - CAPI: GEOSMakeValidWithParams new validity enforcement approach from
          https://github.com/locationtech/jts/pull/704, uses GeometryFixer
          (Paul Ramsey, Martin Davis)
  - CAPI: GEOSWKBWriter_getFlavor, GEOSWKBWriter_setFlavor support
          outputting ISO or Extended WKB flavors (#466, Paul Ramsey)
  - CAPI: GEOSConstrainedDelaunayTriangulation, builds a constrained
          triangulation of an input Polygon or MultiPolygon,
          returning a GeometryCollection(Polygon) of the triangles.

- Fixes/Improvements:
  - Preserve ordering of lines in overlay results (Martin Davis)
  - Check for invalid geometry before fixing polygonal result in Densifier
    and DPSimplifier (Martin Davis)
  - Fix overlay handling of flat interior lines (JTS-685, Martin Davis)
  - Fix IsValidOp to correctly report invalid nested MultiPolygons
(#1112, Martin Davis)
  - Fix BufferOp to avoid artifacts in certain polygon buffers (#1101,
Martin Davis)
  - Fix IsValidOp to correctly report certain kinds of invalid
LinearRings (Martin Davis)
  - Improve STRtree performance through TemplateSTRtree implementation
(Daniel Baston)
  - Fix DiscreteFrechetDistance to use initial points of input lines
(#1128, Martin Davis)

- Changes:
  - Autoconf build system is dropped in favour of CMake
    See README.md and INSTALL.md for examples of usage
  - Libtool is no longer used for in favour of CMake
    Therefor libgeos.la is no longer built/installed
  - #1094, #1090: Drop inlines.cpp to address duplicate symbols on
many platforms
    (Regina Obe)
  - GH475: Do not return NaN from GEOSProjectNormalized_r (Paul Ramsey)
  - GH442: BufferOp now returns unique_ptr<Geometry> result (Paul Ramsey)

From enzedrailmaps at gmail.com  Thu Oct 21 00:51:05 2021
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Thu, 21 Oct 2021 20:51:05 +1300
Subject: [QGIS-Developer] Algorithms in python
In-Reply-To: <141aa304-5da8-1078-e750-b088369b3fab@gmail.com>
References: <141aa304-5da8-1078-e750-b088369b3fab@gmail.com>
Message-ID: <512e9d20-2f28-212b-2047-bda8906db79f@gmail.com>

I'm writing to support this viewpoint.

I use the XYZ tiles functions in the processing toolbox quite 
extensively and am aware of certain issues in them.

I understood these were written originally in Python as old versions of 
them as such can be found on Github.

Somewhere down the track it is likely I would either start looking at 
these issues and how to correct them, the alternative is to switch to a 
different rendering platform.

I will not be interested in doing this if it cannot be done in Python as 
the differences between the Python development environment and the C one 
are massive.

On 5/10/21 1:26 am, matteo wrote:
> Hi devs,
>
> recently I've made a PR to add an algorithm to the core, written in 
> python:
>
> https://github.com/qgis/QGIS/pull/44680
>
> from the comments I get that from now on additional algorithms are 
> accepted only in C++ and not in python anymore.
>
> Is this an official statement?
>
> My super personal opinion: while I perfectly understand devs position 
> on C++, I think we might miss some useful contributions from python 
> only devs (like me :) ) and we lack of a "straight" way to add useful 
> algorithms to QGIS.
>
> I see 2 options:
>
> * development of Processing plugins with algorithms that can lead to 
> many plugins and difficulties to find them
> * have a "straight" way to add additional algorithms to QGIS, like the 
> "Download scripts from collections" of QGIS 2
>
> What is a general opinion about this topic?
>
> Cheers and thanks
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From strk at kbt.io  Thu Oct 21 01:20:04 2021
From: strk at kbt.io (Sandro Santilli)
Date: Thu, 21 Oct 2021 10:20:04 +0200
Subject: [QGIS-Developer] Empty vs. Null rectangle, bogus ?
In-Reply-To: <20211018180522.GC5151@c19>
References: <20211018180522.GC5151@c19>
Message-ID: <20211021082004.GA4910@c19>

I've added - in my PR https://github.com/qgis/QGIS/pull/45384 -
a test for QgsRectangle doing this:

  QgsRectangle r1( 0, 0, 0, 0 );
  QVERIFY( ! r1.isNull() );
  QVERIFY( r1.isEmpty() );

  QgsRectangle r2( 1, 1, 1, 1 );
  QVERIFY( ! r2.isNull() );
  QVERIFY( r2.isEmpty() );

The first test fails, the second succeeds.
See
https://cdash.orfeo-toolbox.org/testDetails.php?test=32862378&build=87747

This confirms the confusion in the meaning of "null"

--strk;

On Mon, Oct 18, 2021 at 08:05:22PM +0200, Sandro Santilli wrote:
> Still chasing bug
> QgsVectorLayerFeatureIterator::QgsVectorLayerFeatureIterator
> I reached QgsRectangle, whose "Null" or "Empty" nature changes
> behavior of QgsFeatureVectorFeatureIterator in a way that prevents
> proper WithinDistance filter from working.
> 
> Details are written in
> https://github.com/qgis/QGIS/issues/45352
> but what I wanted to ask here is:
> 
> According to the comments Empty means that some information is still
> available (bounding box of a point) but the unit test for QgsRectangle
> (and the isEmpty method implementation) seem to check for Max < Min,
> which would NOT be the case for the bounding box of a point,
> so is puzzling.
> 
> I'm not sure how to proceed for fixing the bug I'm seeing because
> one simple fix would be avoiding to call setRectangle on a QgsRequest
> if the iterator's mFilterRect is Empty, but a more complex solution
> could be to *allow* those QgsRequests to have multiple filters, rather
> than one excluding the other.
> 
> Also I've yet to understand WHY at construction time a
> QgsAbstractFeatureIterator shoul dhave an Empty rather than Null
> rectangle, which brings back to the first question (is the distinction
> really defined?).
> 
> --strk; 
> 
>   Libre GIS consultant/developer
>   https://strk.kbt.io/services.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 

  Libre GIS consultant/developer
  https://strk.kbt.io/services.html

From strk at kbt.io  Thu Oct 21 01:31:49 2021
From: strk at kbt.io (Sandro Santilli)
Date: Thu, 21 Oct 2021 10:31:49 +0200
Subject: [QGIS-Developer] Empty vs. Null rectangle, bogus ?
In-Reply-To: <20211021082004.GA4910@c19>
References: <20211018180522.GC5151@c19>
 <20211021082004.GA4910@c19>
Message-ID: <20211021083149.GB4910@c19>

I've filed a PR to change QgsRectangle NULL to NOT include the 0,0,0,0
case. I suspect it will open a can of warms but let me know what do
you think about it:
https://github.com/qgis/QGIS/pull/45607

--strk;

On Thu, Oct 21, 2021 at 10:20:04AM +0200, Sandro Santilli wrote:
> I've added - in my PR https://github.com/qgis/QGIS/pull/45384 -
> a test for QgsRectangle doing this:
> 
>   QgsRectangle r1( 0, 0, 0, 0 );
>   QVERIFY( ! r1.isNull() );
>   QVERIFY( r1.isEmpty() );
> 
>   QgsRectangle r2( 1, 1, 1, 1 );
>   QVERIFY( ! r2.isNull() );
>   QVERIFY( r2.isEmpty() );
> 
> The first test fails, the second succeeds.
> See
> https://cdash.orfeo-toolbox.org/testDetails.php?test=32862378&build=87747
> 
> This confirms the confusion in the meaning of "null"
> 
> --strk;
> 
> On Mon, Oct 18, 2021 at 08:05:22PM +0200, Sandro Santilli wrote:
> > Still chasing bug
> > QgsVectorLayerFeatureIterator::QgsVectorLayerFeatureIterator
> > I reached QgsRectangle, whose "Null" or "Empty" nature changes
> > behavior of QgsFeatureVectorFeatureIterator in a way that prevents
> > proper WithinDistance filter from working.
> > 
> > Details are written in
> > https://github.com/qgis/QGIS/issues/45352
> > but what I wanted to ask here is:
> > 
> > According to the comments Empty means that some information is still
> > available (bounding box of a point) but the unit test for QgsRectangle
> > (and the isEmpty method implementation) seem to check for Max < Min,
> > which would NOT be the case for the bounding box of a point,
> > so is puzzling.
> > 
> > I'm not sure how to proceed for fixing the bug I'm seeing because
> > one simple fix would be avoiding to call setRectangle on a QgsRequest
> > if the iterator's mFilterRect is Empty, but a more complex solution
> > could be to *allow* those QgsRequests to have multiple filters, rather
> > than one excluding the other.
> > 
> > Also I've yet to understand WHY at construction time a
> > QgsAbstractFeatureIterator shoul dhave an Empty rather than Null
> > rectangle, which brings back to the first question (is the distinction
> > really defined?).
> > 
> > --strk; 

From luis3176 at yahoo.com  Thu Oct 21 17:32:43 2021
From: luis3176 at yahoo.com (Luis Eduardo)
Date: Fri, 22 Oct 2021 00:32:43 +0000 (UTC)
Subject: [QGIS-Developer] How can I make a custom QgsMapCanvasItem visible
 in the layout?
References: <937174463.35293.1634862763865.ref@mail.yahoo.com>
Message-ID: <937174463.35293.1634862763865@mail.yahoo.com>

I'm working on a plugin that requires the creation of one or more custom QgsMapCanvasItem, but I've noticed that they are not visible in the layout.QGIS QgsMapCanvasItems like annotations are visible, is it possible to make a custom QgsMapCanvasItem visible in the layout?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211022/34324746/attachment.html>

From luis3176 at yahoo.com  Thu Oct 21 18:51:19 2021
From: luis3176 at yahoo.com (Luis Eduardo)
Date: Fri, 22 Oct 2021 01:51:19 +0000 (UTC)
Subject: [QGIS-Developer] How can I make a custom QgsMapCanvasItem visible
 in the layout?
References: <1118354809.46631.1634867479334.ref@mail.yahoo.com>
Message-ID: <1118354809.46631.1634867479334@mail.yahoo.com>

I'm working on a plugin that requires the creation of one or more custom QgsMapCanvasItem, but I've noticed that they are not visible in the layout.QGIS QgsMapCanvasItems like annotations are visible, is it possible to make a custom QgsMapCanvasItem visible in the layout?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211022/86dfb4a8/attachment.html>

From michiel.vangompel at vlaanderen.be  Fri Oct 22 02:06:36 2021
From: michiel.vangompel at vlaanderen.be (Van Gompel Michiel)
Date: Fri, 22 Oct 2021 09:06:36 +0000
Subject: [QGIS-Developer] CRS transformation default option
 Lambert72-Lambert2008
Message-ID: <AM6PR09MB2519EC900FC1921CDC46E481FB809@AM6PR09MB2519.eurprd09.prod.outlook.com>

Dear,

I'd like to know which NTv2 transformation grid has been built in by default in the default transformation option to transform the CRS from Lambert 72 to Lambert 2008 (Belgian projection systems).

Does anyone know where to find this information or someone who can help me further with this?

Kind regards,
Michiel Van Gompel

Michiel Van Gompel
Afdeling Gegevens- en Dienstenintegratie

INFORMATIE VLAANDEREN
michiel.vangompel at vlaanderen.be<mailto:michiel.vangompel at vlaanderen.be>
Koningin Maria Hendrikaplein 70, 9000 Gent
www.vlaanderen.be<https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fclicktime.symantec.com%2F35Ugc9rEkZTLMwJHq4yBNc17Vc%3Fu%3Dhttps%253A%252F%252Feur03.safelinks.protection.outlook.com%252F%253Furl%253Dhttp%25253A%25252F%25252Fwww.vlaanderen.be%25252F%2526data%253D04%25257C01%25257Cmichiel.vangompel%252540vlaanderen.be%25257C572f8e78c58941a2b94508d971123a53%25257C0c0338a695614ee8b8d64e89cbd520a0%25257C0%25257C0%25257C637665145356144370%25257CUnknown%25257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%25253D%25257C1000%2526sdata%253DIDBMkOECfpCDBEIC1vQrY1SdsI8gBucQVbOHnIjeUf8%25253D%2526reserved%253D0&data=04%7C01%7Cmichiel.vangompel%40vlaanderen.be%7C0c4ec442feaf454d553d08d97848815c%7C0c0338a695614ee8b8d64e89cbd520a0%7C0%7C0%7C637673075066277485%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=AFS%2Fd%2FJ5mwnmrpQf%2FhvA%2FR4ckHqA9bcdiST0RujXznA%3D&reserved=0>

//////////////////////////////////////////////////////////////////////////////////
[cid:image001.png at 01D7C734.DEA91A10]


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211022/fc423466/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 6207 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211022/fc423466/attachment-0001.png>

From jgr at di.uminho.pt  Fri Oct 22 02:32:13 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Fri, 22 Oct 2021 10:32:13 +0100
Subject: [QGIS-Developer] CRS transformation default option
 Lambert72-Lambert2008
In-Reply-To: <AM6PR09MB2519EC900FC1921CDC46E481FB809@AM6PR09MB2519.eurprd09.prod.outlook.com>
References: <AM6PR09MB2519EC900FC1921CDC46E481FB809@AM6PR09MB2519.eurprd09.prod.outlook.com>
Message-ID: <a1313d49-83d2-c828-830b-3c0e378a92f1@di.uminho.pt>

Hi Michiel,

Better to ask in the QGIS User list. This list is more related to 
development topics.

You can go to QGIS project properties ? Transformations ? + and then 
select Lambert 72 and Lambert 2008.
You will see which transformations are available. If a NTv2 grid 
transformation is available, you can see the grid being used for the 
transformation. If you don't have such NTv2 grid, it will provide the 
download link.

See this print screen: 
https://nextcloud.geomaster.pt/index.php/s/mmwH5S5bRWBtBqC


Best regards,

Jorge Gustavo

On 22/10/21 10:06, Van Gompel Michiel wrote:
> Dear,
> 
> I?d like to know which NTv2 transformation grid has been built in by 
> default in the default transformation option to transform the CRS from 
> Lambert 72 to Lambert 2008 (Belgian projection systems).
> 
> Does anyone know where to find this information or someone who can help 
> me further with this?
> 
> Kind regards,
> 
> Michiel Van Gompel
> 
> *Michiel Van Gompel*
> 
> Afdeling Gegevens- en Dienstenintegratie
> 
> *INFORMATIE VLAANDEREN*
> 
> michiel.vangompel at vlaanderen.be <mailto:michiel.vangompel at vlaanderen.be>
> 
> Koningin Maria Hendrikaplein 70, 9000 Gent
> 
> *www.vlaanderen.be* 
> <https://eur03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fclicktime.symantec.com%2F35Ugc9rEkZTLMwJHq4yBNc17Vc%3Fu%3Dhttps%253A%252F%252Feur03.safelinks.protection.outlook.com%252F%253Furl%253Dhttp%25253A%25252F%25252Fwww.vlaanderen.be%25252F%2526data%253D04%25257C01%25257Cmichiel.vangompel%252540vlaanderen.be%25257C572f8e78c58941a2b94508d971123a53%25257C0c0338a695614ee8b8d64e89cbd520a0%25257C0%25257C0%25257C637665145356144370%25257CUnknown%25257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%25253D%25257C1000%2526sdata%253DIDBMkOECfpCDBEIC1vQrY1SdsI8gBucQVbOHnIjeUf8%25253D%2526reserved%253D0&data=04%7C01%7Cmichiel.vangompel%40vlaanderen.be%7C0c4ec442feaf454d553d08d97848815c%7C0c0338a695614ee8b8d64e89cbd520a0%7C0%7C0%7C637673075066277485%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=AFS%2Fd%2FJ5mwnmrpQf%2FhvA%2FR4ckHqA9bcdiST0RujXznA%3D&reserved=0>**
> 
> //
> 
> //////////////////////////////////////////////////////////////////////////////////
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From antoine.facchini at oslandia.com  Fri Oct 22 05:02:46 2021
From: antoine.facchini at oslandia.com (Antoine Facchini)
Date: Fri, 22 Oct 2021 14:02:46 +0200
Subject: [QGIS-Developer] QEP: Unification of all geometric and topological
 verification methods
Message-ID: <c2e6ab69-c4cc-01ab-c4ce-7595fd808e6c@oslandia.com>

Hello everyone,

As I haven't sent mail in this list, yet, I quickly introduce myself. 
I'm Antoine Facchini (@Koyaani), I? have almost finished my studies, I'm 
doing my last internship. I joined Oslandia as a C++ / Python developer 
4 months ago. Since, I contributed to QGIS with a few PRs.

So, today, I send you a mail to announce that with Lo?c Bartoletti 
(@lbartoletti), we open a new QEP: Unification of all geometric and 
topological verification methods. You can read it at 
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/236, feedback 
is welcome!

Thanks,
Antoine Facchini


From rdmailings at duif.net  Sat Oct 23 05:02:11 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 23 Oct 2021 14:02:11 +0200
Subject: [QGIS-Developer] Docs/Instructions for Filter/Query Builder
Message-ID: <610237d8-4a56-6e7e-e937-d667949532e8@duif.net>

Hi,

I've just been asked by some average QGIS user (unknown to SQL queries) how to create a simple filter like cityname='foo' for a vector layer.

That was almost impossible for that person, unaware of SQL...
We could not find any part of documentation for the SQL Query Builder dialog, and we also couldn't find the old (more user oriented) 'query builder' anymore (which does have documentation).

So my question is: while for SQL guru's and very advanced users the SQL Query Builder probably is a valuable feature, I think for average users the new builder is, well pretty hard/impossible ... 
Off course we do not have one target-user, but in general I think QGIS get's more and more functions, but also get's more and more complex to use.

Would be great if we could still help the non-tech/average user. In this specific case maybe with a 'simple'-part of the dialog (which only accepts the where clause and where there is a 'test'-button like in the old dialog?
OR at least you would end up with some documentation about the filter if you click the Help button on that dialog?

I do understand that it is cool to have the SQL Query builder, but I fear that we are loosing some part of our user base if we ask them to be aware of SQL constructs, just to filter out some Features based on a field....

Opinions?

Regards,

Richard Duivenvoorde

From delazj at gmail.com  Sat Oct 23 14:27:11 2021
From: delazj at gmail.com (Delaz J)
Date: Sat, 23 Oct 2021 23:27:11 +0200
Subject: [QGIS-Developer] Docs/Instructions for Filter/Query Builder
In-Reply-To: <610237d8-4a56-6e7e-e937-d667949532e8@duif.net>
References: <610237d8-4a56-6e7e-e937-d667949532e8@duif.net>
Message-ID: <ea4811db-0b5f-11f3-ba94-b229a4054347@gmail.com>

Hi,

Le 23/10/2021 ? 14:02, Richard Duivenvoorde a ?crit?:
> Hi,
>
> I've just been asked by some average QGIS user (unknown to SQL queries) how to create a simple filter like cityname='foo' for a vector layer.
>
> That was almost impossible for that person, unaware of SQL...
> We could not find any part of documentation for the SQL Query Builder dialog, and we also couldn't find the old (more user oriented) 'query builder' anymore (which does have documentation).

I'm not aware of any removal of this kind of info in the docs in the 
recent years.

 From the layer properties, Source tab, Query builder dialog (or 
ctrl+F), I can still access 
https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/vector_properties.html#query-builder. 
Is that one you were looking for? (OK, not really SQL but if the user 
accepts to first load the layer, this should address most of the cases).

There's also the SQL filter from DBManager 
(https://docs.qgis.org/testing/en/docs/user_manual/plugins/core_plugins/plugins_db_manager.html#working-with-the-sql-window) 
whose features, from my understanding, are meant to be brought to the 
Browser new SQL builder. Just not yet finished...

Regards,

Harrissou

>
> So my question is: while for SQL guru's and very advanced users the SQL Query Builder probably is a valuable feature, I think for average users the new builder is, well pretty hard/impossible ...
> Off course we do not have one target-user, but in general I think QGIS get's more and more functions, but also get's more and more complex to use.
>
> Would be great if we could still help the non-tech/average user. In this specific case maybe with a 'simple'-part of the dialog (which only accepts the where clause and where there is a 'test'-button like in the old dialog?
> OR at least you would end up with some documentation about the filter if you click the Help button on that dialog?
>
> I do understand that it is cool to have the SQL Query builder, but I fear that we are loosing some part of our user base if we ask them to be aware of SQL constructs, just to filter out some Features based on a field....
>
> Opinions?
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From rdmailings at duif.net  Sun Oct 24 02:56:04 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sun, 24 Oct 2021 11:56:04 +0200
Subject: [QGIS-Developer] Docs/Instructions for Filter/Query Builder
Message-ID: <d387dc46-8d6d-ee26-67eb-88868b75f2fb@duif.net>

Hi Harrissou,

Indeed this is the dialog that you got when you had a WFS layer in earlier versions like 3.16:
https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/vector_properties.html#id14

But now you get the SQL Query Composer (see screenshot)

To see, get the 'provincies' layer from WFS:
https://geodata.nationaalgeoregister.nl/bestuurlijkegrenzen/wfs
and in legend click 'Filter',
which (and that's my point) is very, very technical for average users (I think).

https://docs.qgis.org/testing/en/docs/user_manual/plugins/core_plugins/plugins_db_manager.html#working-with-the-sql-window is another one but that one IS for databases, while the 'FILTER' was just for simple filters...

Regards,

Richard Duivenvoorde

ps sorry, I missed your reply as apparently my subscription was postponed because of bouncing...


Le 23/10/2021 ? 14:02, Richard Duivenvoorde a ?crit :
> I've just been asked by some average QGIS user (unknown to SQL queries) how to create a simple filter like cityname='foo' for a vector layer.
>
> That was almost impossible for that person, unaware of SQL...
> We could not find any part of documentation for the SQL Query Builder dialog, and we also couldn't find the old (more user oriented) 'query builder' anymore (which does have documentation).

I'm not aware of any removal of this kind of info in the docs in the 
recent years.

 From the layer properties, Source tab, Query builder dialog (or 
ctrl+F), I can still access 
https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/vector_properties.html#query-builder. 
Is that one you were looking for? (OK, not really SQL but if the user 
accepts to first load the layer, this should address most of the cases).

There's also the SQL filter from DBManager 
(https://docs.qgis.org/testing/en/docs/user_manual/plugins/core_plugins/plugins_db_manager.html#working-with-the-sql-window) 
whose features, from my understanding, are meant to be brought to the 
Browser new SQL builder. Just not yet finished...

Regards,

Harrissou
-------------- next part --------------
A non-text attachment was scrubbed...
Name: sqlquerycomposer.png
Type: image/png
Size: 30647 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211024/bbdc7ab5/attachment-0001.png>

From nyall.dawson at gmail.com  Sun Oct 24 17:09:39 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 25 Oct 2021 10:09:39 +1000
Subject: [QGIS-Developer] Docs/Instructions for Filter/Query Builder
In-Reply-To: <d387dc46-8d6d-ee26-67eb-88868b75f2fb@duif.net>
References: <d387dc46-8d6d-ee26-67eb-88868b75f2fb@duif.net>
Message-ID: <CAB28Ashm--v-9htCYTcWytVThzmN4pFHWcmeVULV0m6AccfrLw@mail.gmail.com>

On Sun, 24 Oct 2021 at 19:56, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>
> Hi Harrissou,
>
> Indeed this is the dialog that you got when you had a WFS layer in earlier versions like 3.16:
> https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/vector_properties.html#id14
>
> But now you get the SQL Query Composer (see screenshot)

Hmm, aside from your UX concerns that dialog needs a cleanup in
general. The alignment is all off and it uses that weird Qt toolbox
widget which we don't use elsewhere (for good reasons... it's ugly and
non-standard :P ). There's also a bunch of HIG capitalization issues
(combo box values should be title case ("Spatial predicates"->"Spatial
Predicates",) labels should be sentence case ("SQL Statement" -> "SQL
statement")). And the SQL statement widget should be using the
QgsCodeEditorSQL widget to get proper formatting of the expression.

But in regards to the UX issue... maybe what we need is some
toggle/tabbed control between "simple" and "SQL builder" or the
like...

Nyall



>
> To see, get the 'provincies' layer from WFS:
> https://geodata.nationaalgeoregister.nl/bestuurlijkegrenzen/wfs
> and in legend click 'Filter',
> which (and that's my point) is very, very technical for average users (I think).
>
> https://docs.qgis.org/testing/en/docs/user_manual/plugins/core_plugins/plugins_db_manager.html#working-with-the-sql-window is another one but that one IS for databases, while the 'FILTER' was just for simple filters...
>
> Regards,
>
> Richard Duivenvoorde
>
> ps sorry, I missed your reply as apparently my subscription was postponed because of bouncing...
>
>
> Le 23/10/2021 ? 14:02, Richard Duivenvoorde a ?crit :
> > I've just been asked by some average QGIS user (unknown to SQL queries) how to create a simple filter like cityname='foo' for a vector layer.
> >
> > That was almost impossible for that person, unaware of SQL...
> > We could not find any part of documentation for the SQL Query Builder dialog, and we also couldn't find the old (more user oriented) 'query builder' anymore (which does have documentation).
>
> I'm not aware of any removal of this kind of info in the docs in the
> recent years.
>
>  From the layer properties, Source tab, Query builder dialog (or
> ctrl+F), I can still access
> https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/vector_properties.html#query-builder.
> Is that one you were looking for? (OK, not really SQL but if the user
> accepts to first load the layer, this should address most of the cases).
>
> There's also the SQL filter from DBManager
> (https://docs.qgis.org/testing/en/docs/user_manual/plugins/core_plugins/plugins_db_manager.html#working-with-the-sql-window)
> whose features, from my understanding, are meant to be brought to the
> Browser new SQL builder. Just not yet finished...
>
> Regards,
>
> Harrissou
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From colin.saresoar at terrashape.co.uk  Sun Oct 24 19:41:09 2021
From: colin.saresoar at terrashape.co.uk (Colin Sare-Soar)
Date: Mon, 25 Oct 2021 09:41:09 +0700 (ICT)
Subject: [QGIS-Developer] Build / install issues
Message-ID: <301162308.70530.1635129669136@email.ionos.co.uk>

I originally posted this as a bug on Github but was told it was better posted here.

Although it isn't qgis itself, it is the build system.
When I enter the CMAKE_INSTALL_PREFIX as ${HOME}/apps as suggested, the install fails as unable to create directory
"/apps//apps/man/man1 - maybe need admin privileges"
I have no idea where it gets this spurious path from. I checked the cmake_install_cmake file and that was even stranger.
The entry was "${CMAKE_INSTALL_PREFIX} ${HOME}/apps/man/man.1" - obviously wrong!
I entered "~/apps" in the ninja config script and that expanded correctly to give "/home/colins2/apps".
running 'ninja install' then correctly built and installed qgis.
I don't think it is my system (Mint 20.1) because when I entered the line
"export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:${HOME}/apps/lib/" they expanded correctly. it must be something in the script generator that causes the error. It happens both with ninja and the cmake scripts.

Maybe it is only Mint but worth a comment somewhere maybe.
Colin

From rdmailings at duif.net  Sun Oct 24 23:13:39 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 25 Oct 2021 08:13:39 +0200
Subject: [QGIS-Developer] Build / install issues
In-Reply-To: <301162308.70530.1635129669136@email.ionos.co.uk>
References: <301162308.70530.1635129669136@email.ionos.co.uk>
Message-ID: <7841c66c-381e-5e01-31e9-9e8a2cd8fc07@duif.net>

Hi Colin,

Could it be that you have 'WITH_CUSTOM_WIDGETS' ON?
Because that makes that the installer tries to install the qgs(custom) widgets in the QT_PLUGINS_DIR which you can only write to as root.

Would be nice if we could take that out indeed, having custom widgets and a non root install is currently not possible for what I know... But I do not know if Qt is willing to load custom widgets other then from it's plugin dir.

Regards,

Richard Duivenvoorde

On 10/25/21 4:41 AM, Colin Sare-Soar wrote:
> I originally posted this as a bug on Github but was told it was better posted here.
> 
> Although it isn't qgis itself, it is the build system.
> When I enter the CMAKE_INSTALL_PREFIX as ${HOME}/apps as suggested, the install fails as unable to create directory
> "/apps//apps/man/man1 - maybe need admin privileges"
> I have no idea where it gets this spurious path from. I checked the cmake_install_cmake file and that was even stranger.
> The entry was "${CMAKE_INSTALL_PREFIX} ${HOME}/apps/man/man.1" - obviously wrong!
> I entered "~/apps" in the ninja config script and that expanded correctly to give "/home/colins2/apps".
> running 'ninja install' then correctly built and installed qgis.
> I don't think it is my system (Mint 20.1) because when I entered the line
> "export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:${HOME}/apps/lib/" they expanded correctly. it must be something in the script generator that causes the error. It happens both with ninja and the cmake scripts.
> 
> Maybe it is only Mint but worth a comment somewhere maybe.
> Colin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From rdmailings at duif.net  Sun Oct 24 23:25:02 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 25 Oct 2021 08:25:02 +0200
Subject: [QGIS-Developer] Build / install issues
In-Reply-To: <301162308.70530.1635129669136@email.ionos.co.uk>
References: <301162308.70530.1635129669136@email.ionos.co.uk>
Message-ID: <3abe4787-f0b5-6045-ed0f-d41da5a0a4a4@duif.net>

Ah, wait now I see you have a cmake/'man'-page issue...
Sorry, that works fine with me... I'm not too much into the cmake magic...

Richard


On 10/25/21 4:41 AM, Colin Sare-Soar wrote:
> I originally posted this as a bug on Github but was told it was better posted here.
> 
> Although it isn't qgis itself, it is the build system.
> When I enter the CMAKE_INSTALL_PREFIX as ${HOME}/apps as suggested, the install fails as unable to create directory
> "/apps//apps/man/man1 - maybe need admin privileges"
> I have no idea where it gets this spurious path from. I checked the cmake_install_cmake file and that was even stranger.
> The entry was "${CMAKE_INSTALL_PREFIX} ${HOME}/apps/man/man.1" - obviously wrong!
> I entered "~/apps" in the ninja config script and that expanded correctly to give "/home/colins2/apps".
> running 'ninja install' then correctly built and installed qgis.
> I don't think it is my system (Mint 20.1) because when I entered the line
> "export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:${HOME}/apps/lib/" they expanded correctly. it must be something in the script generator that causes the error. It happens both with ninja and the cmake scripts.
> 
> Maybe it is only Mint but worth a comment somewhere maybe.
> Colin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From rdmailings at duif.net  Sun Oct 24 23:31:59 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 25 Oct 2021 08:31:59 +0200
Subject: [QGIS-Developer] Docs/Instructions for Filter/Query Builder
In-Reply-To: <CAB28Ashm--v-9htCYTcWytVThzmN4pFHWcmeVULV0m6AccfrLw@mail.gmail.com>
References: <d387dc46-8d6d-ee26-67eb-88868b75f2fb@duif.net>
 <CAB28Ashm--v-9htCYTcWytVThzmN4pFHWcmeVULV0m6AccfrLw@mail.gmail.com>
Message-ID: <1a8d0506-8e79-ec75-ffb4-0ddfdb3b78fc@duif.net>

On 10/25/21 2:09 AM, Nyall Dawson wrote:
> On Sun, 24 Oct 2021 at 19:56, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>>
>> Hi Harrissou,
>>
>> Indeed this is the dialog that you got when you had a WFS layer in earlier versions like 3.16:
>> https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/vector_properties.html#id14
>>
>> But now you get the SQL Query Composer (see screenshot)
> 
> Hmm, aside from your UX concerns that dialog needs a cleanup in
> general. The alignment is all off and it uses that weird Qt toolbox
> widget which we don't use elsewhere (for good reasons... it's ugly and
> non-standard :P ). There's also a bunch of HIG capitalization issues
> (combo box values should be title case ("Spatial predicates"->"Spatial
> Predicates",) labels should be sentence case ("SQL Statement" -> "SQL
> statement")). And the SQL statement widget should be using the
> QgsCodeEditorSQL widget to get proper formatting of the expression.
> 
> But in regards to the UX issue... maybe what we need is some
> toggle/tabbed control between "simple" and "SQL builder" or the
> like...

Yes, that would be a good solution! WOuld it be possible to still get back the old one?
OR do people think we can get the SQL QUery Builder that much more intuitive that it would work for non SQL writers?

Regards,

Richard Duivenvoorde

From colin.saresoar at terrashape.co.uk  Mon Oct 25 00:16:44 2021
From: colin.saresoar at terrashape.co.uk (Colin Sare-Soar)
Date: Mon, 25 Oct 2021 14:16:44 +0700 (ICT)
Subject: [QGIS-Developer] Build / install issues
In-Reply-To: <3abe4787-f0b5-6045-ed0f-d41da5a0a4a4@duif.net>
References: <301162308.70530.1635129669136@email.ionos.co.uk>
 <3abe4787-f0b5-6045-ed0f-d41da5a0a4a4@duif.net>
Message-ID: <483235428.71500.1635146204389@email.ionos.co.uk>

Richard,

No, nor am I! I normally use Qt and that takes care of the makefiles itself.
It was just that 1 entry that expanded wrong for some reason but having said that, I didn't edit any other entries.

It's all running fine now though.

Colin
> On 25/10/2021 13:25 Richard Duivenvoorde <rdmailings at duif.net> wrote:
> 
>  
> Ah, wait now I see you have a cmake/'man'-page issue...
> Sorry, that works fine with me... I'm not too much into the cmake magic...
> 
> Richard
> 
> 
> On 10/25/21 4:41 AM, Colin Sare-Soar wrote:
> > I originally posted this as a bug on Github but was told it was better posted here.
> > 
> > Although it isn't qgis itself, it is the build system.
> > When I enter the CMAKE_INSTALL_PREFIX as ${HOME}/apps as suggested, the install fails as unable to create directory
> > "/apps//apps/man/man1 - maybe need admin privileges"
> > I have no idea where it gets this spurious path from. I checked the cmake_install_cmake file and that was even stranger.
> > The entry was "${CMAKE_INSTALL_PREFIX} ${HOME}/apps/man/man.1" - obviously wrong!
> > I entered "~/apps" in the ninja config script and that expanded correctly to give "/home/colins2/apps".
> > running 'ninja install' then correctly built and installed qgis.
> > I don't think it is my system (Mint 20.1) because when I entered the line
> > "export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:${HOME}/apps/lib/" they expanded correctly. it must be something in the script generator that causes the error. It happens both with ninja and the cmake scripts.
> > 
> > Maybe it is only Mint but worth a comment somewhere maybe.
> > Colin
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >

From bo.victor.thomsen at gmail.com  Mon Oct 25 02:46:02 2021
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Mon, 25 Oct 2021 11:46:02 +0200
Subject: [QGIS-Developer] Problems with QgsProviderRegistry providerMetadata
 method
Message-ID: <11972b66-432b-ce24-a528-fa6e9280d035@gmail.com>

Hi list members -

I stumbled on something weird (for me at least):

If I run the following code in the Python console:

metadata = QgsProviderRegistry.instance().providerMetadata('postgres')
conn = metadata.connections()
for c in conn.keys(): print(c)

It shows me (as I would expect): A list of names of postgres connections 
in QGIS.

However, if I 1) Make a /new/ postgres connection and 2) Rerun the same 
lines in the console, the new connection is /not/ shown in the list.

But if I restart QGIS and run the same code, the new connection will be 
shown together with the older connections.

What gives ? Is there some kind of "refresh" method I've overlooked??

Version: QGIS 3.20.3 on Windows 10.


-- 
Med venlig hilsen / Kind regards

Bo Victor Thomsen

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211025/fa96f753/attachment-0001.html>

From apasotti at gmail.com  Mon Oct 25 02:54:15 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 25 Oct 2021 11:54:15 +0200
Subject: [QGIS-Developer] Problems with QgsProviderRegistry
 providerMetadata method
In-Reply-To: <11972b66-432b-ce24-a528-fa6e9280d035@gmail.com>
References: <11972b66-432b-ce24-a528-fa6e9280d035@gmail.com>
Message-ID: <CAL5Q671z_pMKdk3XNWf7L5oeNyCKY=jQGkWj3=J+=bC_PB4QaQ@mail.gmail.com>

Hi Bo,

Is that with or without `cached` ?

QMap<QString, QgsAbstractProviderConnection *> connections( bool cached = true )




On Mon, Oct 25, 2021 at 11:46 AM Bo Victor Thomsen <
bo.victor.thomsen at gmail.com> wrote:

> Hi list members -
>
> I stumbled on something weird (for me at least):
>
> If I run the following code in the Python console:
>
> metadata = QgsProviderRegistry.instance().providerMetadata('postgres')
> conn = metadata.connections()
> for c in conn.keys(): print(c)
>
> It shows me (as I would expect): A list of names of postgres connections
> in QGIS.
>
> However, if I 1) Make a *new* postgres connection and 2) Rerun the same
> lines in the console, the new connection is *not* shown in the list.
>
> But if I restart QGIS and run the same code, the new connection will be
> shown together with the older connections.
>
> What gives ? Is there some kind of "refresh" method I've overlooked??
>
> Version: QGIS 3.20.3 on Windows 10.
>
>
> --
> Med venlig hilsen / Kind regards
>
> Bo Victor Thomsen
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211025/62c7717a/attachment.html>

From bo.victor.thomsen at gmail.com  Mon Oct 25 03:03:54 2021
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Mon, 25 Oct 2021 12:03:54 +0200
Subject: [QGIS-Developer] Problems with QgsProviderRegistry
 providerMetadata method
In-Reply-To: <CAL5Q671z_pMKdk3XNWf7L5oeNyCKY=jQGkWj3=J+=bC_PB4QaQ@mail.gmail.com>
References: <11972b66-432b-ce24-a528-fa6e9280d035@gmail.com>
 <CAL5Q671z_pMKdk3XNWf7L5oeNyCKY=jQGkWj3=J+=bC_PB4QaQ@mail.gmail.com>
Message-ID: <677a171f-41c8-76dd-acca-f21dcd46ebcc@gmail.com>

Thanks Alessandro - that did the trick...

This works:

metadata = QgsProviderRegistry.instance().providerMetadata('postgres')
conn = metadata.connections(*False*)
for c in conn.keys(): print(c)

As I suspected: The bug was placed 50 cm from the computer screen, i.e 
an "error-50"

Med venlig hilsen / Kind regards

Bo Victor Thomsen

Den 25-10-2021 kl. 11:54 skrev Alessandro Pasotti:
> connections(boolcached=true)
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211025/e00aaf14/attachment.html>

From pathmapper at posteo.de  Mon Oct 25 05:05:21 2021
From: pathmapper at posteo.de (pathmapper)
Date: Mon, 25 Oct 2021 12:05:21 +0000
Subject: [QGIS-Developer] Docs/Instructions for Filter/Query Builder
In-Reply-To: <1a8d0506-8e79-ec75-ffb4-0ddfdb3b78fc@duif.net>
References: <d387dc46-8d6d-ee26-67eb-88868b75f2fb@duif.net>
 <CAB28Ashm--v-9htCYTcWytVThzmN4pFHWcmeVULV0m6AccfrLw@mail.gmail.com>
 <1a8d0506-8e79-ec75-ffb4-0ddfdb3b78fc@duif.net>
Message-ID: <3a51695e164bb3d8e1b8851021c32cbd@posteo.de>

>> I've just been asked by some average QGIS user (unknown to SQL 
>> queries) how to create a simple filter like cityname='foo' for a 
>> vector layer.
>> That was almost impossible for that person, unaware of SQL...

Thank you for raising this issue Richard, got the same feedback from 
some users.

For filtering WFS layers with "SQL Query Composer" it could help to 
pre-fill the "Colums" and "Table(s) fields" -> 
https://github.com/qgis/QGIS/issues/42800

But having

>> toggle/tabbed control between "simple" and "SQL builder" or the 
>> like...

as Nyall suggested would be even better.

Cheers,
Bj?rn



From strk at kbt.io  Tue Oct 26 00:11:04 2021
From: strk at kbt.io (Sandro Santilli)
Date: Tue, 26 Oct 2021 09:11:04 +0200
Subject: [QGIS-Developer] QgsFeatureRequest spatial filter reprojection
In-Reply-To: <20211020100119.GA2769@c19>
References: <20211020100119.GA2769@c19>
Message-ID: <20211026071104.GA3495@c19>

Update on the issue: I've brought PR
https://github.com/qgis/QGIS/pull/45384
to a state in which it passes CI.

What I did was adding an updateRequestToSourceCrs method to
the QgsAbstractFeatureIterator class to replace the currently used
filterRectToSourceCrs method which does a partial job
in reprojection and makes the callers too easily change
the QgsFeatureRequest's spatial filter.

I had QgsVectorLayerFeatureIterator make use of this new method
to avoids changing the QgsFeatureRequest spatial filter.

The change proves to fix the bug, which is now guarded by a testcase.

Could anyone please take a look at the PR to finally merge it ?

NOTE: I've also opend another PR which contains less changes
(the initial one also adds some utility equality/inequality operators
to base classes and some more unit tests for them). The second PR
could be discarded if the first one is merged, but might be easier
to review.

--strk;


On Wed, Oct 20, 2021 at 12:01:19PM +0200, Sandro Santilli wrote:
> I've finally found the bug I've been chasing for two weeks now [1]
> 
> What's happening is that a QgsFeatureRequest object initialized
> with a DistanceWithin spatial filter, switches to a Rectangle spatial
> filter when used to construct a QgsVectorLayerFeatureIterator.
> 
> This is because QgsVectorLayerFeatureIterator constructor tries to
> reproject the QgsFeatureRequest's rectangle filter from destination
> CRS to source CRS, probably aiming at improving performance from
> vector layers which may have indices.
> 
> Such attempt to reproject is done using methods of QgsFeatureRequest
> which *change* the spatial filter (setFilterRect).
> 
> Now I've a few questions:
> 
>   1. Shouldn't such optimizations be performed by each specific
>      provider's class rather than by the base class ?
>      (projecting the Request filters to the source CRS)
> 
>   2. Shall we see a need to reproject spatial filter references,
>      shouldn't this be done by a method of QgsFeatureRequest class
>      directly ? 
> 
> Note that QgsFeatureRequest doesn't ONLY possibly have a QgsRectangle
> as a reference, but could also have a QgsGeometry and a *distance*,
> "reprojecting" which is not really obvious...
> 
> 
> [1] https://github.com/qgis/QGIS/pull/45384
> 
> 
> --strk; 
> 
>   Libre GIS consultant/developer
>   https://strk.kbt.io/services.html

From kurt at birdseyeviewgis.com  Tue Oct 26 02:58:04 2021
From: kurt at birdseyeviewgis.com (Kurt Menke)
Date: Tue, 26 Oct 2021 11:58:04 +0200
Subject: [QGIS-Developer] applying an SLD to a WMS layer
Message-ID: <CAA70oVWh=MxJ_ny5AHWUOdJ-QXS4vxgFdUvWF1S=DooTWuCdFg@mail.gmail.com>

Hello,
We have been developing web apps that allow the user to download the
selected extent and data layers as a QGIS project file. Many of the layers
are hosted by the government as WMS services. We are wondering if anyone
has looked into the possibility of applying an SLD style to a WMS layer in
QGIS. We were hoping to be able to edit the *.qgs file programmatically. We
would be interested in sponsoring the effort depending on the level of
effort required, assuming it is even possible.
Best,
Kurt

-- 

Kurt Menke
GIS-Consultant
--------------------------
Septima P/S
Frederiksberggade 19, 2nd Floor
1459 Copenhagen

Tlf: +45 5114 6444
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211026/c7918f92/attachment.html>

From jgr at di.uminho.pt  Tue Oct 26 03:26:13 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Tue, 26 Oct 2021 11:26:13 +0100
Subject: [QGIS-Developer] applying an SLD to a WMS layer
In-Reply-To: <CAA70oVWh=MxJ_ny5AHWUOdJ-QXS4vxgFdUvWF1S=DooTWuCdFg@mail.gmail.com>
References: <CAA70oVWh=MxJ_ny5AHWUOdJ-QXS4vxgFdUvWF1S=DooTWuCdFg@mail.gmail.com>
Message-ID: <c6b7a6c0-c703-c222-9f55-527953d1fc73@di.uminho.pt>

Hi Kurt,

By design, WMS GetMap requests returns images. Those are rendered on the 
server side, by the map server. Many services just provide those 
rendered images.

Are you trying to provide advanced image processing capabilities on the 
client side to apply an SLD on top those images?

Or would you like to try other GetMap formats, more friendly to process 
on the client side? Like svg or kml? Some of these formats are available 
as vendor options of the map server.

Regards,

Jorge Gustavo


On 26/10/21 10:58, Kurt Menke wrote:
> Hello,
> We have been developing?web apps that allow the user to download the 
> selected extent and data layers as a QGIS project file. Many of the 
> layers are hosted by the government as WMS services. We are wondering if 
> anyone has looked into the possibility of applying an SLD style to a WMS 
> layer in QGIS. We were hoping to be able to edit the *.qgs file 
> programmatically. We would be interested in sponsoring the effort 
> depending on the level of effort required, assuming it is even possible.
> Best,
> Kurt
> 
> -- 
> 
> Kurt Menke
> 
> GIS-Consultant
> --------------------------
> Septima P/S
> Frederiksberggade 19, 2nd Floor
> 1459 Copenhagen
> 
> Tlf:?+45 5114 6444
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From ijturton at gmail.com  Tue Oct 26 03:55:50 2021
From: ijturton at gmail.com (Ian Turton)
Date: Tue, 26 Oct 2021 11:55:50 +0100
Subject: [QGIS-Developer] applying an SLD to a WMS layer
In-Reply-To: <CAA70oVWh=MxJ_ny5AHWUOdJ-QXS4vxgFdUvWF1S=DooTWuCdFg@mail.gmail.com>
References: <CAA70oVWh=MxJ_ny5AHWUOdJ-QXS4vxgFdUvWF1S=DooTWuCdFg@mail.gmail.com>
Message-ID: <CA+=cGJmZTELXV2z3pTCfDxg7_FoCJ0-0MqLFLD=gA5qDGsuckQ@mail.gmail.com>

I would probably do this as a WFS request and then apply the SLD (or QML)
style locally. The WMS standard does provide for sending an SLD with the
request to the server so it can render the data for you using your style,
but that's quite a heavy process.

Ian

On Tue, 26 Oct 2021 at 10:58, Kurt Menke <kurt at birdseyeviewgis.com> wrote:

> Hello,
> We have been developing web apps that allow the user to download the
> selected extent and data layers as a QGIS project file. Many of the layers
> are hosted by the government as WMS services. We are wondering if anyone
> has looked into the possibility of applying an SLD style to a WMS layer in
> QGIS. We were hoping to be able to edit the *.qgs file programmatically. We
> would be interested in sponsoring the effort depending on the level of
> effort required, assuming it is even possible.
> Best,
> Kurt
>
> --
>
> Kurt Menke
> GIS-Consultant
> --------------------------
> Septima P/S
> Frederiksberggade 19, 2nd Floor
> 1459 Copenhagen
>
> Tlf: +45 5114 6444
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Ian Turton
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211026/e42847a7/attachment.html>

From kurt at birdseyeviewgis.com  Tue Oct 26 04:18:29 2021
From: kurt at birdseyeviewgis.com (Kurt Menke)
Date: Tue, 26 Oct 2021 13:18:29 +0200
Subject: [QGIS-Developer] applying an SLD to a WMS layer
In-Reply-To: <CA+=cGJmZTELXV2z3pTCfDxg7_FoCJ0-0MqLFLD=gA5qDGsuckQ@mail.gmail.com>
References: <CAA70oVWh=MxJ_ny5AHWUOdJ-QXS4vxgFdUvWF1S=DooTWuCdFg@mail.gmail.com>
 <CA+=cGJmZTELXV2z3pTCfDxg7_FoCJ0-0MqLFLD=gA5qDGsuckQ@mail.gmail.com>
Message-ID: <CAA70oVWDxh5PD3Rk9qwwNv6bOTiRxsaGcGWTRGrbmtXO8ZFNyw@mail.gmail.com>

Hi Ian,
The issue is that we are not serving the data, and they are not available
as WFS. We want to apply an SLD to the data in an automatically generated
QGIS project file.
Kurt

On Tue, Oct 26, 2021, 12:56 Ian Turton <ijturton at gmail.com> wrote:

> I would probably do this as a WFS request and then apply the SLD (or QML)
> style locally. The WMS standard does provide for sending an SLD with the
> request to the server so it can render the data for you using your style,
> but that's quite a heavy process.
>
> Ian
>
> On Tue, 26 Oct 2021 at 10:58, Kurt Menke <kurt at birdseyeviewgis.com> wrote:
>
>> Hello,
>> We have been developing web apps that allow the user to download the
>> selected extent and data layers as a QGIS project file. Many of the layers
>> are hosted by the government as WMS services. We are wondering if anyone
>> has looked into the possibility of applying an SLD style to a WMS layer in
>> QGIS. We were hoping to be able to edit the *.qgs file programmatically. We
>> would be interested in sponsoring the effort depending on the level of
>> effort required, assuming it is even possible.
>> Best,
>> Kurt
>>
>> --
>>
>> Kurt Menke
>> GIS-Consultant
>> --------------------------
>> Septima P/S
>> Frederiksberggade 19, 2nd Floor
>> 1459 Copenhagen
>>
>> Tlf: +45 5114 6444
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
> --
> Ian Turton
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211026/af0af613/attachment.html>

From rldhont at gmail.com  Tue Oct 26 04:43:59 2021
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Tue, 26 Oct 2021 13:43:59 +0200
Subject: [QGIS-Developer] applying an SLD to a WMS layer
In-Reply-To: <c6b7a6c0-c703-c222-9f55-527953d1fc73@di.uminho.pt>
References: <CAA70oVWh=MxJ_ny5AHWUOdJ-QXS4vxgFdUvWF1S=DooTWuCdFg@mail.gmail.com>
 <c6b7a6c0-c703-c222-9f55-527953d1fc73@di.uminho.pt>
Message-ID: <33ceb1ee-4867-3c99-0389-49253f24eb4a@gmail.com>

Hi Jorge,

WMS Server can process SLD? provide in a GetMap Request.
QGIS Server is able to apply an SLD to a layer and provide the resulting 
image. The SLD can be provided through the SLD_BODY parameter or the? 
SLD parameter for linked file.
https://docs.qgis.org/3.16/en/docs/server_manual/services.html#qgisserver-wms-getmap
This capability is mainly exploited by web clients

Ren?-Luc

Le 26/10/2021 ? 12:26, Jorge Gustavo Rocha a ?crit?:
> Hi Kurt,
>
> By design, WMS GetMap requests returns images. Those are rendered on 
> the server side, by the map server. Many services just provide those 
> rendered images.
>
> Are you trying to provide advanced image processing capabilities on 
> the client side to apply an SLD on top those images?
>
> Or would you like to try other GetMap formats, more friendly to 
> process on the client side? Like svg or kml? Some of these formats are 
> available as vendor options of the map server.
>
> Regards,
>
> Jorge Gustavo
>
>
> On 26/10/21 10:58, Kurt Menke wrote:
>> Hello,
>> We have been developing?web apps that allow the user to download the 
>> selected extent and data layers as a QGIS project file. Many of the 
>> layers are hosted by the government as WMS services. We are wondering 
>> if anyone has looked into the possibility of applying an SLD style to 
>> a WMS layer in QGIS. We were hoping to be able to edit the *.qgs file 
>> programmatically. We would be interested in sponsoring the effort 
>> depending on the level of effort required, assuming it is even possible.
>> Best,
>> Kurt
>>
>> -- 
>>
>> Kurt Menke
>>
>> GIS-Consultant
>> --------------------------
>> Septima P/S
>> Frederiksberggade 19, 2nd Floor
>> 1459 Copenhagen
>>
>> Tlf:?+45 5114 6444
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
> J. Gustavo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211026/f052e5ab/attachment-0001.html>

From jgr at di.uminho.pt  Tue Oct 26 05:21:05 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Tue, 26 Oct 2021 13:21:05 +0100
Subject: [QGIS-Developer] applying an SLD to a WMS layer
In-Reply-To: <33ceb1ee-4867-3c99-0389-49253f24eb4a@gmail.com>
References: <CAA70oVWh=MxJ_ny5AHWUOdJ-QXS4vxgFdUvWF1S=DooTWuCdFg@mail.gmail.com>
 <c6b7a6c0-c703-c222-9f55-527953d1fc73@di.uminho.pt>
 <33ceb1ee-4867-3c99-0389-49253f24eb4a@gmail.com>
Message-ID: <bef03afb-285a-aece-f3c1-6c0341886418@di.uminho.pt>

Hi Ren?,

I'm just asking questions to fully understand the use case. Thank you 
for your feedback. You mentioned an interesting point.

As you mentioned, the solution can be based on the server side if the 
map server accepts an SLD.

This approach can not be used against WMS services working behind 
caches/tiling services providing only predefined styles.

Regards,

Jorge Gustavo

On 26/10/21 12:43, Ren?-Luc Dhont wrote:
> Hi Jorge,
> 
> WMS Server can process SLD? provide in a GetMap Request.
> QGIS Server is able to apply an SLD to a layer and provide the resulting 
> image. The SLD can be provided through the SLD_BODY parameter or the  
> SLD parameter for linked file.
> https://docs.qgis.org/3.16/en/docs/server_manual/services.html#qgisserver-wms-getmap
> This capability is mainly exploited by web clients
> 
> Ren?-Luc
> 
> Le 26/10/2021 ? 12:26, Jorge Gustavo Rocha a ?crit?:
>> Hi Kurt,
>>
>> By design, WMS GetMap requests returns images. Those are rendered on 
>> the server side, by the map server. Many services just provide those 
>> rendered images.
>>
>> Are you trying to provide advanced image processing capabilities on 
>> the client side to apply an SLD on top those images?
>>
>> Or would you like to try other GetMap formats, more friendly to 
>> process on the client side? Like svg or kml? Some of these formats are 
>> available as vendor options of the map server.
>>
>> Regards,
>>
>> Jorge Gustavo
>>
>>
>> On 26/10/21 10:58, Kurt Menke wrote:
>>> Hello,
>>> We have been developing?web apps that allow the user to download the 
>>> selected extent and data layers as a QGIS project file. Many of the 
>>> layers are hosted by the government as WMS services. We are wondering 
>>> if anyone has looked into the possibility of applying an SLD style to 
>>> a WMS layer in QGIS. We were hoping to be able to edit the *.qgs file 
>>> programmatically. We would be interested in sponsoring the effort 
>>> depending on the level of effort required, assuming it is even possible.
>>> Best,
>>> Kurt
>>>
>>> -- 
>>>
>>> Kurt Menke
>>>
>>> GIS-Consultant
>>> --------------------------
>>> Septima P/S
>>> Frederiksberggade 19, 2nd Floor
>>> 1459 Copenhagen
>>>
>>> Tlf:?+45 5114 6444
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>> J. Gustavo
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From charles at kartoza.com  Tue Oct 26 09:30:16 2021
From: charles at kartoza.com (Charles Dixon-Paver)
Date: Tue, 26 Oct 2021 18:30:16 +0200
Subject: [QGIS-Developer] applying an SLD to a WMS layer
In-Reply-To: <bef03afb-285a-aece-f3c1-6c0341886418@di.uminho.pt>
References: <CAA70oVWh=MxJ_ny5AHWUOdJ-QXS4vxgFdUvWF1S=DooTWuCdFg@mail.gmail.com>
 <c6b7a6c0-c703-c222-9f55-527953d1fc73@di.uminho.pt>
 <33ceb1ee-4867-3c99-0389-49253f24eb4a@gmail.com>
 <bef03afb-285a-aece-f3c1-6c0341886418@di.uminho.pt>
Message-ID: <CAK2KqidJMSzD1Wf81hEgfhLXQCixd9aEwHAzGhsgzA28XWSf2Q@mail.gmail.com>

Just to chime in, all these responses seem to be discussing sld and wms
server configuration options, but the original question mentioned applying
edits to the qgis project file. I would think the simplest solution is to
use something like loadSldStyle[1] from pyqgis? Not sure if I'm missing the
point of the conversation though.

[1]
https://qgis.org/pyqgis/master/core/QgsMapLayer.html#qgis.core.QgsMapLayer.loadSldStyle

On Tue, 26 Oct 2021 at 14:21, Jorge Gustavo Rocha <jgr at di.uminho.pt> wrote:

> Hi Ren?,
>
> I'm just asking questions to fully understand the use case. Thank you
> for your feedback. You mentioned an interesting point.
>
> As you mentioned, the solution can be based on the server side if the
> map server accepts an SLD.
>
> This approach can not be used against WMS services working behind
> caches/tiling services providing only predefined styles.
>
> Regards,
>
> Jorge Gustavo
>
> On 26/10/21 12:43, Ren?-Luc Dhont wrote:
> > Hi Jorge,
> >
> > WMS Server can process SLD  provide in a GetMap Request.
> > QGIS Server is able to apply an SLD to a layer and provide the resulting
> > image. The SLD can be provided through the SLD_BODY parameter or the
> > SLD parameter for linked file.
> >
> https://docs.qgis.org/3.16/en/docs/server_manual/services.html#qgisserver-wms-getmap
> > This capability is mainly exploited by web clients
> >
> > Ren?-Luc
> >
> > Le 26/10/2021 ? 12:26, Jorge Gustavo Rocha a ?crit :
> >> Hi Kurt,
> >>
> >> By design, WMS GetMap requests returns images. Those are rendered on
> >> the server side, by the map server. Many services just provide those
> >> rendered images.
> >>
> >> Are you trying to provide advanced image processing capabilities on
> >> the client side to apply an SLD on top those images?
> >>
> >> Or would you like to try other GetMap formats, more friendly to
> >> process on the client side? Like svg or kml? Some of these formats are
> >> available as vendor options of the map server.
> >>
> >> Regards,
> >>
> >> Jorge Gustavo
> >>
> >>
> >> On 26/10/21 10:58, Kurt Menke wrote:
> >>> Hello,
> >>> We have been developing web apps that allow the user to download the
> >>> selected extent and data layers as a QGIS project file. Many of the
> >>> layers are hosted by the government as WMS services. We are wondering
> >>> if anyone has looked into the possibility of applying an SLD style to
> >>> a WMS layer in QGIS. We were hoping to be able to edit the *.qgs file
> >>> programmatically. We would be interested in sponsoring the effort
> >>> depending on the level of effort required, assuming it is even
> possible.
> >>> Best,
> >>> Kurt
> >>>
> >>> --
> >>>
> >>> Kurt Menke
> >>>
> >>> GIS-Consultant
> >>> --------------------------
> >>> Septima P/S
> >>> Frederiksberggade 19, 2nd Floor
> >>> 1459 Copenhagen
> >>>
> >>> Tlf: +45 5114 6444
> >>>
> >>> _______________________________________________
> >>> QGIS-Developer mailing list
> >>> QGIS-Developer at lists.osgeo.org
> >>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>>
> >>
> >> J. Gustavo
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> J. Gustavo
> --
> Jorge Gustavo Rocha
> Departamento de Inform?tica
> Universidade do Minho
> 4710-057 Braga
> Gabinete 3.29 (Piso 3)
> Tel: +351 253604480
> Fax: +351 253604471
> M?vel: +351 910333888
> skype: nabocudnosor
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211026/ab4f47af/attachment.html>

From charles at kartoza.com  Tue Oct 26 10:13:04 2021
From: charles at kartoza.com (Charles Dixon-Paver)
Date: Tue, 26 Oct 2021 19:13:04 +0200
Subject: [QGIS-Developer] applying an SLD to a WMS layer
In-Reply-To: <CAA70oVUQRNPPEG=gpzjx6+qRydRN1hVF7Vx_JfhkecNqW7m72w@mail.gmail.com>
References: <CAA70oVWh=MxJ_ny5AHWUOdJ-QXS4vxgFdUvWF1S=DooTWuCdFg@mail.gmail.com>
 <c6b7a6c0-c703-c222-9f55-527953d1fc73@di.uminho.pt>
 <33ceb1ee-4867-3c99-0389-49253f24eb4a@gmail.com>
 <bef03afb-285a-aece-f3c1-6c0341886418@di.uminho.pt>
 <CAK2KqidJMSzD1Wf81hEgfhLXQCixd9aEwHAzGhsgzA28XWSf2Q@mail.gmail.com>
 <CAA70oVUQRNPPEG=gpzjx6+qRydRN1hVF7Vx_JfhkecNqW7m72w@mail.gmail.com>
Message-ID: <CAK2Kqie4JR8+u1N-omdsz+RKRfvHvjF7d4=9ivySRc+CXaAVdg@mail.gmail.com>

Don't thank me yet! My in-between-meetings mailing list brain was at work
and I should have phrased that differently. I was actually meaning to ask
whether that would work on wms layers and I haven't tested it out

On Tue, 26 Oct 2021, 19:02 Kurt Menke, <kurt at birdseyeviewgis.com> wrote:

> Thanks Charles,
> This may be the ticket!
>
> On Tue, Oct 26, 2021 at 6:30 PM Charles Dixon-Paver <charles at kartoza.com>
> wrote:
>
>> Just to chime in, all these responses seem to be discussing sld and wms
>> server configuration options, but the original question mentioned applying
>> edits to the qgis project file. I would think the simplest solution is to
>> use something like loadSldStyle[1] from pyqgis? Not sure if I'm missing the
>> point of the conversation though.
>>
>> [1]
>> https://qgis.org/pyqgis/master/core/QgsMapLayer.html#qgis.core.QgsMapLayer.loadSldStyle
>>
>> On Tue, 26 Oct 2021 at 14:21, Jorge Gustavo Rocha <jgr at di.uminho.pt>
>> wrote:
>>
>>> Hi Ren?,
>>>
>>> I'm just asking questions to fully understand the use case. Thank you
>>> for your feedback. You mentioned an interesting point.
>>>
>>> As you mentioned, the solution can be based on the server side if the
>>> map server accepts an SLD.
>>>
>>> This approach can not be used against WMS services working behind
>>> caches/tiling services providing only predefined styles.
>>>
>>> Regards,
>>>
>>> Jorge Gustavo
>>>
>>> On 26/10/21 12:43, Ren?-Luc Dhont wrote:
>>> > Hi Jorge,
>>> >
>>> > WMS Server can process SLD  provide in a GetMap Request.
>>> > QGIS Server is able to apply an SLD to a layer and provide the
>>> resulting
>>> > image. The SLD can be provided through the SLD_BODY parameter or the
>>> > SLD parameter for linked file.
>>> >
>>> https://docs.qgis.org/3.16/en/docs/server_manual/services.html#qgisserver-wms-getmap
>>> > This capability is mainly exploited by web clients
>>> >
>>> > Ren?-Luc
>>> >
>>> > Le 26/10/2021 ? 12:26, Jorge Gustavo Rocha a ?crit :
>>> >> Hi Kurt,
>>> >>
>>> >> By design, WMS GetMap requests returns images. Those are rendered on
>>> >> the server side, by the map server. Many services just provide those
>>> >> rendered images.
>>> >>
>>> >> Are you trying to provide advanced image processing capabilities on
>>> >> the client side to apply an SLD on top those images?
>>> >>
>>> >> Or would you like to try other GetMap formats, more friendly to
>>> >> process on the client side? Like svg or kml? Some of these formats
>>> are
>>> >> available as vendor options of the map server.
>>> >>
>>> >> Regards,
>>> >>
>>> >> Jorge Gustavo
>>> >>
>>> >>
>>> >> On 26/10/21 10:58, Kurt Menke wrote:
>>> >>> Hello,
>>> >>> We have been developing web apps that allow the user to download the
>>> >>> selected extent and data layers as a QGIS project file. Many of the
>>> >>> layers are hosted by the government as WMS services. We are
>>> wondering
>>> >>> if anyone has looked into the possibility of applying an SLD style
>>> to
>>> >>> a WMS layer in QGIS. We were hoping to be able to edit the *.qgs
>>> file
>>> >>> programmatically. We would be interested in sponsoring the effort
>>> >>> depending on the level of effort required, assuming it is even
>>> possible.
>>> >>> Best,
>>> >>> Kurt
>>> >>>
>>> >>> --
>>> >>>
>>> >>> Kurt Menke
>>> >>>
>>> >>> GIS-Consultant
>>> >>> --------------------------
>>> >>> Septima P/S
>>> >>> Frederiksberggade 19, 2nd Floor
>>> >>> 1459 Copenhagen
>>> >>>
>>> >>> Tlf: +45 5114 6444
>>> >>>
>>> >>> _______________________________________________
>>> >>> QGIS-Developer mailing list
>>> >>> QGIS-Developer at lists.osgeo.org
>>> >>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >>>
>>> >>
>>> >> J. Gustavo
>>> >
>>> >
>>> > _______________________________________________
>>> > QGIS-Developer mailing list
>>> > QGIS-Developer at lists.osgeo.org
>>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >
>>>
>>> J. Gustavo
>>> --
>>> Jorge Gustavo Rocha
>>> Departamento de Inform?tica
>>> Universidade do Minho
>>> 4710-057 Braga
>>> Gabinete 3.29 (Piso 3)
>>> Tel: +351 253604480
>>> Fax: +351 253604471
>>> M?vel: +351 910333888
>>> skype: nabocudnosor
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211026/6d4795da/attachment-0001.html>

From kurt at birdseyeviewgis.com  Tue Oct 26 10:33:17 2021
From: kurt at birdseyeviewgis.com (Kurt Menke)
Date: Tue, 26 Oct 2021 19:33:17 +0200
Subject: [QGIS-Developer] applying an SLD to a WMS layer
In-Reply-To: <CAK2KqidJMSzD1Wf81hEgfhLXQCixd9aEwHAzGhsgzA28XWSf2Q@mail.gmail.com>
References: <CAA70oVWh=MxJ_ny5AHWUOdJ-QXS4vxgFdUvWF1S=DooTWuCdFg@mail.gmail.com>
 <c6b7a6c0-c703-c222-9f55-527953d1fc73@di.uminho.pt>
 <33ceb1ee-4867-3c99-0389-49253f24eb4a@gmail.com>
 <bef03afb-285a-aece-f3c1-6c0341886418@di.uminho.pt>
 <CAK2KqidJMSzD1Wf81hEgfhLXQCixd9aEwHAzGhsgzA28XWSf2Q@mail.gmail.com>
Message-ID: <CAA70oVUpYczfXEq6KLmw2cGqHPTJimvfyXh2T=gK1+DVuYuP_A@mail.gmail.com>

Yes that is closer but the real goal is to be able to add an SLD to the
project file. Ideally as a SLD_BODY parameter for the URL.
Kurt

On Tue, Oct 26, 2021 at 6:30 PM Charles Dixon-Paver <charles at kartoza.com>
wrote:

> Just to chime in, all these responses seem to be discussing sld and wms
> server configuration options, but the original question mentioned applying
> edits to the qgis project file. I would think the simplest solution is to
> use something like loadSldStyle[1] from pyqgis? Not sure if I'm missing the
> point of the conversation though.
>
> [1]
> https://qgis.org/pyqgis/master/core/QgsMapLayer.html#qgis.core.QgsMapLayer.loadSldStyle
>
> On Tue, 26 Oct 2021 at 14:21, Jorge Gustavo Rocha <jgr at di.uminho.pt>
> wrote:
>
>> Hi Ren?,
>>
>> I'm just asking questions to fully understand the use case. Thank you
>> for your feedback. You mentioned an interesting point.
>>
>> As you mentioned, the solution can be based on the server side if the
>> map server accepts an SLD.
>>
>> This approach can not be used against WMS services working behind
>> caches/tiling services providing only predefined styles.
>>
>> Regards,
>>
>> Jorge Gustavo
>>
>> On 26/10/21 12:43, Ren?-Luc Dhont wrote:
>> > Hi Jorge,
>> >
>> > WMS Server can process SLD  provide in a GetMap Request.
>> > QGIS Server is able to apply an SLD to a layer and provide the
>> resulting
>> > image. The SLD can be provided through the SLD_BODY parameter or the
>> > SLD parameter for linked file.
>> >
>> https://docs.qgis.org/3.16/en/docs/server_manual/services.html#qgisserver-wms-getmap
>> > This capability is mainly exploited by web clients
>> >
>> > Ren?-Luc
>> >
>> > Le 26/10/2021 ? 12:26, Jorge Gustavo Rocha a ?crit :
>> >> Hi Kurt,
>> >>
>> >> By design, WMS GetMap requests returns images. Those are rendered on
>> >> the server side, by the map server. Many services just provide those
>> >> rendered images.
>> >>
>> >> Are you trying to provide advanced image processing capabilities on
>> >> the client side to apply an SLD on top those images?
>> >>
>> >> Or would you like to try other GetMap formats, more friendly to
>> >> process on the client side? Like svg or kml? Some of these formats are
>> >> available as vendor options of the map server.
>> >>
>> >> Regards,
>> >>
>> >> Jorge Gustavo
>> >>
>> >>
>> >> On 26/10/21 10:58, Kurt Menke wrote:
>> >>> Hello,
>> >>> We have been developing web apps that allow the user to download the
>> >>> selected extent and data layers as a QGIS project file. Many of the
>> >>> layers are hosted by the government as WMS services. We are wondering
>> >>> if anyone has looked into the possibility of applying an SLD style to
>> >>> a WMS layer in QGIS. We were hoping to be able to edit the *.qgs file
>> >>> programmatically. We would be interested in sponsoring the effort
>> >>> depending on the level of effort required, assuming it is even
>> possible.
>> >>> Best,
>> >>> Kurt
>> >>>
>> >>> --
>> >>>
>> >>> Kurt Menke
>> >>>
>> >>> GIS-Consultant
>> >>> --------------------------
>> >>> Septima P/S
>> >>> Frederiksberggade 19, 2nd Floor
>> >>> 1459 Copenhagen
>> >>>
>> >>> Tlf: +45 5114 6444
>> >>>
>> >>> _______________________________________________
>> >>> QGIS-Developer mailing list
>> >>> QGIS-Developer at lists.osgeo.org
>> >>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >>>
>> >>
>> >> J. Gustavo
>> >
>> >
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >
>>
>> J. Gustavo
>> --
>> Jorge Gustavo Rocha
>> Departamento de Inform?tica
>> Universidade do Minho
>> 4710-057 Braga
>> Gabinete 3.29 (Piso 3)
>> Tel: +351 253604480
>> Fax: +351 253604471
>> M?vel: +351 910333888
>> skype: nabocudnosor
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211026/6ec65927/attachment.html>

From rdmailings at duif.net  Fri Oct 29 02:17:02 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 29 Oct 2021 11:17:02 +0200
Subject: [QGIS-Developer] 3.22 Visual Changelog please check
Message-ID: <6deae800-572c-a1dc-97d1-42c85ea64358@duif.net>

Hi,

I just pulled 3.22 changelog into the website:
https://qgis.org/en/site/forusers/visualchangelog322/index.html

Please check for small fixes and fix in rst:
https://github.com/qgis/QGIS-Website/edit/master/source/site/forusers/visualchangelog322/index.rst

@Harrissou: I did some manual rewriting of feature->bugfix, I hope you are happy with it.

Please remind me to upload the new strings in upcoming days, if I forget.

@Anita: do you have time to create a 3.22 banner? 

And thanks to all for this 3.22 release!

Regards,

Richard Duivenvoorde


From thanh.nv at me.com  Fri Oct 29 06:27:40 2021
From: thanh.nv at me.com (Thanh)
Date: Fri, 29 Oct 2021 20:27:40 +0700
Subject: [QGIS-Developer] Cannot build QGIS 3.22 from source using MSVC2015
Message-ID: <mailman.3.1635514461.1885.qgis-developer@lists.osgeo.org>

Dear All, 

I tried to build two versions of QGIS:

This works fine with QGIS 3.16.12 LTR source:
https://github.com/qgis/QGIS/blob/release-3_16/INSTALL.md#4-building-on-windows 

This does not work (with QGIS 3.22 source), with many errors:
https://github.com/qgis/QGIS/blob/release-3_22/INSTALL.md#4-building-on-windows 

As with my skill, the issues are related to using MSVC2017 or higher to build this QGIS version (the c++17 is required).

It is appreciate if you can have some solutions for this matter.

Thank you!

Thanh

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211029/1d5cdfe6/attachment.html>

From delazj at gmail.com  Sat Oct 30 00:37:54 2021
From: delazj at gmail.com (Harrissou s.)
Date: Sat, 30 Oct 2021 09:37:54 +0200
Subject: [QGIS-Developer] [Qgis-community-team] 3.22 Visual Changelog
 please check
In-Reply-To: <6deae800-572c-a1dc-97d1-42c85ea64358@duif.net>
References: <6deae800-572c-a1dc-97d1-42c85ea64358@duif.net>
Message-ID: <BB44C2EE-7A30-4BA4-BA9E-F07A07407F2C@gmail.com>

Hi Richard, all

As usual, thanks to the devs and changelog writers. And thank you for taking care of this "last" step.

Le 29 octobre 2021 11:17:02 GMT+02:00, Richard Duivenvoorde <rdmailings at duif.net> a ?crit?:
>Hi,
>
>I just pulled 3.22 changelog into the website:
>https://qgis.org/en/site/forusers/visualchangelog322/index.html
>
>Please check for small fixes and fix in rst:
>https://github.com/qgis/QGIS-Website/edit/master/source/site/forusers/visualchangelog322/index.rst
>
>@Harrissou: I did some manual rewriting of feature->bugfix, I hope you are happy with it.
>
Yes, lgtm. Thanks. Could be nice that is integrated in original files/sources (changelog repo?) and we do not have to care of this at this step of the publishing.

>Please remind me to upload the new strings in upcoming days, if I forget.
>
Will try ;)
I also created on docs side a release_3.22 branch to allow master still target code's master and people willing to address the new 3.24 features can do (though I really would like them prioritize old reports). It's not exposed in docs.qgis.org but we could do it without translating yet ( I think this is how we proceeded with 3.16). We need the 3.22 PyQGIS Api to be online first (@Denis? Thanks).
We'd also need some redirection and bottom frame updates in _all_ docs releases as well as in the website's doc page. Could we jitsi next week, Richard? Thanks.

Kind regards,
Harrissou

>@Anita: do you have time to create a 3.22 banner? 
>
>And thanks to all for this 3.22 release!
>
>Regards,
>
>Richard Duivenvoorde
>
>_______________________________________________
>Qgis-community-team mailing list for organizing community resources such as documentation, translation etc..
>Qgis-community-team at lists.osgeo.org
>https://lists.osgeo.org/mailman/listinfo/qgis-community-team

From surveykshak at gmail.com  Sun Oct 31 01:54:20 2021
From: surveykshak at gmail.com (Paul N)
Date: Sun, 31 Oct 2021 14:24:20 +0530
Subject: [QGIS-Developer] QGIS 3.16.12 Compilation error in Window 10
Message-ID: <CAGy7cYkU+2K98-Fw=0Z_WJ7TbgcQydK3QXxfsbbm6GCAVXtS_w@mail.gmail.com>

Hi,
I am getting the following error during compilation

"Severity Code Description Project File Line Suppression State
Error MSB3491 Could not write lines to file
"x64\RelWithDebInfo\zzz-db_manager-3-depend\zzz-db_m.E01E603D.tlog\zzz-db_manager-3-depend.lastbuildstate".
The specified path, file name, or both are too long. The fully qualified
file name must be less than 260 characters, and the directory name must be
less than 248 characters. zzz-db_manager-3-depend C:\Program Files
(x86)\MSBuild\Microsoft.Cpp\v4.0\V140\Microsoft.CppBuild.targets 312 "

Any help in this regard.

Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211031/a75e57c5/attachment.html>

From abhishek.rana at mapmyindia.com  Thu Oct 14 02:45:52 2021
From: abhishek.rana at mapmyindia.com (Abhishek Kumar Rana)
Date: Thu, 14 Oct 2021 09:45:52 -0000
Subject: [QGIS-Developer] Compile qGis
Message-ID: <CAEmL286ggu0m0iQhHD=pe3mjsZGXQfvOXPPipSaRETn8yw72BA@mail.gmail.com>

Dear Sir,
I tried to compile qGis for Windows . I have Successfully created a
Solution file for Visual studio ( Community version 2015 ) .When I opened
the Solution file  after that I found so many errors in the code. Please
give me a better solution to successfully compile qGis.

-- 
Leading organisations trust MapmyIndia maps, location and IoT technologies. 
To learn why, visit?*mapmyindia.com 
<https://www.mapmyindia.com/?utm_source=Email&utm_medium=MMI-Signature&utm_campaign=MMI-Email-Signature>*.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211014/3967f7f6/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot (2).png
Type: image/png
Size: 186069 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20211014/3967f7f6/attachment-0001.png>

