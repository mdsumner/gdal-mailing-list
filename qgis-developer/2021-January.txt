From maps at hanfastolfe.com  Fri Jan  1 16:17:10 2021
From: maps at hanfastolfe.com (Cory Albrecht)
Date: Fri, 1 Jan 2021 19:17:10 -0500
Subject: [QGIS-Developer] Temporal controller issues
Message-ID: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>

Can somebody help me under the basics of how things work inside QGIS
starting from when it loads all the features for a layer through the steps,
and then finally drawing them on the map canvas, specifically with respect
to the new temporal controller (NTC)?

The issues caused by the NTC have been very frustrating for me as I make
mostly (historical) timeline maps and I relied heavily on the old
TimeManager (OTM) plugin by Antia Graser and group. So many tasks are now
much more laborious or difficult because so many tools are just not
time-aware.

Was it not possible to add the NTC in such a way that would have still let
all the other features work as before with the filtered feature set before
being made time-aware, rather than confusingly operating on the
unfiltered set? Or perhaps it shouldn't have been turned on until the
infrastructure was there for the tools to be time-aware right away?

Because I've just submitted yet another bug about the NTC, this time for
the selection tool <https://github.com/qgis/QGIS/issues/40818>, and it has
me more than a little annoyed. As a result of this bug I now have an
unknown number of duplicate objects in multiple layers across multiple
databases/projects that I unknowingly pasted into them over the past
several months since the NTC was added to QGIS.

I feel that the NTC was both poorly thought out and badly implemented as
all these bugs would indicate.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210101/e44979dd/attachment.html>

From rdmailings at duif.net  Sat Jan  2 03:17:13 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 2 Jan 2021 12:17:13 +0100
Subject: [QGIS-Developer] Temporal controller issues
In-Reply-To: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
References: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
Message-ID: <bde31168-c22d-973b-67fa-70549c095f7c@duif.net>

On 1/2/21 1:17 AM, Cory Albrecht wrote:
> Can somebody help me under the basics of how things work inside QGIS starting from when it loads all the features for a layer through the steps, and?then?finally drawing them on the map canvas, specifically with respect to the new temporal controller (NTC)?
> 
> The issues caused by the NTC have been very frustrating for me as I make mostly (historical) timeline maps and I relied heavily on the old TimeManager (OTM) plugin by Antia Graser and group. So many tasks are now much more laborious or difficult because so many tools are just not time-aware.
> 
> Was it not possible to add the NTC in such a way that would have still let all the other features work as before with the filtered feature set before being made time-aware, rather than?confusingly operating on the unfiltered?set? Or perhaps it shouldn't have been turned on until the infrastructure?was there for the tools to be time-aware right away?
> 
> Because I've just submitted yet another bug about the NTC, this time for the selection tool <https://github.com/qgis/QGIS/issues/40818>, and it has me more than a little annoyed. As a result of this bug I now have an unknown number of duplicate objects in multiple layers across multiple databases/projects that I unknowingly pasted into them over the past several months since the NTC was added to QGIS.
> 
> I feel that the NTC was both poorly thought out and badly implemented as all these bugs would indicate.

Hi Cory,

Let's try to stay positive. NTC is still young, and rapidly evolving. It is hard to keep up with all (possible) use cases. In my case it was nice that the select tool DID return ALL features (as I needed it to create a graph in time of measurements in one point). So I proposed earlier (cannot find it now), to make this an option in the select tools: "use/not use Time Filter". But this all takes time ;-)

In the meantime:
- you can maybe use "Delete duplicate geometries" [0] to remove the duplicates?
- if really in need of the old TimeManager, you can change the metadata.txt so OTM will still work in current master. In this line:
https://github.com/anitagraser/TimeManager/blob/master/metadata.txt#L7
change '3.12' to '3.18'
- if you need MemoryLayers to work (like I did), then you have to add another patch. Let me know if you need that.

In the meantime: everybody involved in TimeBased data: let's discuss use-cases and make NTC better... in time...

Regards,

Richard Duivenvoorde

[0] https://gis.stackexchange.com/questions/133207/removing-overlapping-duplicate-polygons-in-same-layer-using-qgis/133221

From maps at hanfastolfe.com  Sat Jan  2 09:34:06 2021
From: maps at hanfastolfe.com (Cory Albrecht)
Date: Sat, 2 Jan 2021 12:34:06 -0500
Subject: [QGIS-Developer] Temporal controller issues
In-Reply-To: <bde31168-c22d-973b-67fa-70549c095f7c@duif.net>
References: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
 <bde31168-c22d-973b-67fa-70549c095f7c@duif.net>
Message-ID: <CAMW5rYJOy6ERrqFPG9TRpPcq9m4QManEeNuSPGT_M6hD+jEEww@mail.gmail.com>

> Let's try to stay positive. NTC is still young, and rapidly evolving. It
is hard to keep up with all (possible) use cases.

I didn't say all possible use cases though. Basic tools?like identify,
select, and the vertex editor?should not break when one adds a new feature
as they are commonly used tools and easy enough to test during development.
"Hey, I'm making a new feature that altes what is shown on the map canvas.
I should do a few tests with common tools that a person uses on the visible
items on the map canvas."

My day job is that of a medical software developer and I have to think
multiple steps ahead like that when working on a new feature branch or if I
am reviewing somebody elses new branch before it gets merged with master.
If I don't, I get poor performance reviews. When I file new bugs almost
every day that I use QGIS about something else being broken by the NTC, can
you understand how it looks to me like it was not up to snuff in the
quality department before merging into master?

On Sat, Jan 2, 2021 at 6:17 AM Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> On 1/2/21 1:17 AM, Cory Albrecht wrote:
> > Can somebody help me under the basics of how things work inside QGIS
> starting from when it loads all the features for a layer through the steps,
> and then finally drawing them on the map canvas, specifically with respect
> to the new temporal controller (NTC)?
> >
> > The issues caused by the NTC have been very frustrating for me as I make
> mostly (historical) timeline maps and I relied heavily on the old
> TimeManager (OTM) plugin by Antia Graser and group. So many tasks are now
> much more laborious or difficult because so many tools are just not
> time-aware.
> >
> > Was it not possible to add the NTC in such a way that would have still
> let all the other features work as before with the filtered feature set
> before being made time-aware, rather than confusingly operating on the
> unfiltered set? Or perhaps it shouldn't have been turned on until the
> infrastructure was there for the tools to be time-aware right away?
> >
> > Because I've just submitted yet another bug about the NTC, this time for
> the selection tool <https://github.com/qgis/QGIS/issues/40818>, and it
> has me more than a little annoyed. As a result of this bug I now have an
> unknown number of duplicate objects in multiple layers across multiple
> databases/projects that I unknowingly pasted into them over the past
> several months since the NTC was added to QGIS.
> >
> > I feel that the NTC was both poorly thought out and badly implemented as
> all these bugs would indicate.
>
> Hi Cory,
>
> Let's try to stay positive. NTC is still young, and rapidly evolving. It
> is hard to keep up with all (possible) use cases. In my case it was nice
> that the select tool DID return ALL features (as I needed it to create a
> graph in time of measurements in one point). So I proposed earlier (cannot
> find it now), to make this an option in the select tools: "use/not use Time
> Filter". But this all takes time ;-)
>
> In the meantime:
> - you can maybe use "Delete duplicate geometries" [0] to remove the
> duplicates?
> - if really in need of the old TimeManager, you can change the
> metadata.txt so OTM will still work in current master. In this line:
> https://github.com/anitagraser/TimeManager/blob/master/metadata.txt#L7
> change '3.12' to '3.18'
> - if you need MemoryLayers to work (like I did), then you have to add
> another patch. Let me know if you need that.
>
> In the meantime: everybody involved in TimeBased data: let's discuss
> use-cases and make NTC better... in time...
>
> Regards,
>
> Richard Duivenvoorde
>
> [0]
> https://gis.stackexchange.com/questions/133207/removing-overlapping-duplicate-polygons-in-same-layer-using-qgis/133221
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210102/0e66d0e6/attachment.html>

From apasotti at gmail.com  Sat Jan  2 09:47:43 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sat, 2 Jan 2021 18:47:43 +0100
Subject: [QGIS-Developer] Temporal controller issues
In-Reply-To: <CAMW5rYJOy6ERrqFPG9TRpPcq9m4QManEeNuSPGT_M6hD+jEEww@mail.gmail.com>
References: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
 <bde31168-c22d-973b-67fa-70549c095f7c@duif.net>
 <CAMW5rYJOy6ERrqFPG9TRpPcq9m4QManEeNuSPGT_M6hD+jEEww@mail.gmail.com>
Message-ID: <CAL5Q673+JTFp6w8q3rfRxwaoX-tRtFWen5gj6pKw9+8ZEC+40A@mail.gmail.com>

On Sat, Jan 2, 2021 at 6:34 PM Cory Albrecht <maps at hanfastolfe.com> wrote:
>
> > Let's try to stay positive. NTC is still young, and rapidly evolving. It is hard to keep up with all (possible) use cases.
>
> I didn't say all possible use cases though. Basic tools?like identify, select, and the vertex editor?should not break when one adds a new feature as they are commonly used tools and easy enough to test during development. "Hey, I'm making a new feature that altes what is shown on the map canvas. I should do a few tests with common tools that a person uses on the visible items on the map canvas."
>
> My day job is that of a medical software developer and I have to think multiple steps ahead like that when working on a new feature branch or if I am reviewing somebody elses new branch before it gets merged with master. If I don't, I get poor performance reviews. When I file new bugs almost every day that I use QGIS about something else being broken by the NTC, can you understand how it looks to me like it was not up to snuff in the quality department before merging into master?

Hi Cory,

Unfortunately we are not a company and we don't have "departments" but
there is an ongoing effort to start a community driven QA team:
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/180, it
looks very promising to prevent this kind of issue.

I understand your frustration, the usual recommendation is to use the
LTR version (currently 3.10) if you want stability, any other version
(especially master) is risky.

Kind regards.

>
> On Sat, Jan 2, 2021 at 6:17 AM Richard Duivenvoorde <rdmailings at duif.net> wrote:
>>
>> On 1/2/21 1:17 AM, Cory Albrecht wrote:
>> > Can somebody help me under the basics of how things work inside QGIS starting from when it loads all the features for a layer through the steps, and then finally drawing them on the map canvas, specifically with respect to the new temporal controller (NTC)?
>> >
>> > The issues caused by the NTC have been very frustrating for me as I make mostly (historical) timeline maps and I relied heavily on the old TimeManager (OTM) plugin by Antia Graser and group. So many tasks are now much more laborious or difficult because so many tools are just not time-aware.
>> >
>> > Was it not possible to add the NTC in such a way that would have still let all the other features work as before with the filtered feature set before being made time-aware, rather than confusingly operating on the unfiltered set? Or perhaps it shouldn't have been turned on until the infrastructure was there for the tools to be time-aware right away?
>> >
>> > Because I've just submitted yet another bug about the NTC, this time for the selection tool <https://github.com/qgis/QGIS/issues/40818>, and it has me more than a little annoyed. As a result of this bug I now have an unknown number of duplicate objects in multiple layers across multiple databases/projects that I unknowingly pasted into them over the past several months since the NTC was added to QGIS.
>> >
>> > I feel that the NTC was both poorly thought out and badly implemented as all these bugs would indicate.
>>
>> Hi Cory,
>>
>> Let's try to stay positive. NTC is still young, and rapidly evolving. It is hard to keep up with all (possible) use cases. In my case it was nice that the select tool DID return ALL features (as I needed it to create a graph in time of measurements in one point). So I proposed earlier (cannot find it now), to make this an option in the select tools: "use/not use Time Filter". But this all takes time ;-)
>>
>> In the meantime:
>> - you can maybe use "Delete duplicate geometries" [0] to remove the duplicates?
>> - if really in need of the old TimeManager, you can change the metadata.txt so OTM will still work in current master. In this line:
>> https://github.com/anitagraser/TimeManager/blob/master/metadata.txt#L7
>> change '3.12' to '3.18'
>> - if you need MemoryLayers to work (like I did), then you have to add another patch. Let me know if you need that.
>>
>> In the meantime: everybody involved in TimeBased data: let's discuss use-cases and make NTC better... in time...
>>
>> Regards,
>>
>> Richard Duivenvoorde
>>
>> [0] https://gis.stackexchange.com/questions/133207/removing-overlapping-duplicate-polygons-in-same-layer-using-qgis/133221
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From maps at hanfastolfe.com  Sat Jan  2 12:45:50 2021
From: maps at hanfastolfe.com (Cory Albrecht)
Date: Sat, 2 Jan 2021 15:45:50 -0500
Subject: [QGIS-Developer] Temporal controller issues
In-Reply-To: <CAL5Q673+JTFp6w8q3rfRxwaoX-tRtFWen5gj6pKw9+8ZEC+40A@mail.gmail.com>
References: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
 <bde31168-c22d-973b-67fa-70549c095f7c@duif.net>
 <CAMW5rYJOy6ERrqFPG9TRpPcq9m4QManEeNuSPGT_M6hD+jEEww@mail.gmail.com>
 <CAL5Q673+JTFp6w8q3rfRxwaoX-tRtFWen5gj6pKw9+8ZEC+40A@mail.gmail.com>
Message-ID: <CAMW5rYLK7EmSGaE1=9pnV9xf=favUBBqz5Dk3ZTusS3H6d6etA@mail.gmail.com>

> I understand your frustration,

Thank you.

> the usual recommendation is to use the
LTR version (currently 3.10) if you want stability, any other version
(especially master) is risky.

Using a version labelled as "release" shouldn't be risky, though. Calling
it a "release" implies that a level of testing has been done so that users
can trust that no existing functionality that was not changed has been
broken. A release is what you would give out to paying customers if this
were a for-profit company. You'd never give out a release version with a
new feature that broke so many other features to paying customers, would
you? No. You'd call that a "public beta" or "pre-release" or a "release
candidate" that you give them for free to help find those unexpected use
cases. (And I reiterate?long-standing internal tools like selection,
vertex editor, and identify features should not be "unexpected use cases".)

So if 3.16, referred to as a "release", is really a risky public beta that
you cannot trust to be stable, as you imply here that it is, might I
suggest that non-standard and therefore confusing terminology was adopted?

On Sat, Jan 2, 2021 at 12:48 PM Alessandro Pasotti <apasotti at gmail.com>
wrote:

> On Sat, Jan 2, 2021 at 6:34 PM Cory Albrecht <maps at hanfastolfe.com> wrote:
> >
> > > Let's try to stay positive. NTC is still young, and rapidly evolving.
> It is hard to keep up with all (possible) use cases.
> >
> > I didn't say all possible use cases though. Basic tools?like identify,
> select, and the vertex editor?should not break when one adds a new feature
> as they are commonly used tools and easy enough to test during development.
> "Hey, I'm making a new feature that altes what is shown on the map canvas.
> I should do a few tests with common tools that a person uses on the visible
> items on the map canvas."
> >
> > My day job is that of a medical software developer and I have to think
> multiple steps ahead like that when working on a new feature branch or if I
> am reviewing somebody elses new branch before it gets merged with master.
> If I don't, I get poor performance reviews. When I file new bugs almost
> every day that I use QGIS about something else being broken by the NTC, can
> you understand how it looks to me like it was not up to snuff in the
> quality department before merging into master?
>
> Hi Cory,
>
> Unfortunately we are not a company and we don't have "departments" but
> there is an ongoing effort to start a community driven QA team:
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/180, it
> looks very promising to prevent this kind of issue.
>
> I understand your frustration, the usual recommendation is to use the
> LTR version (currently 3.10) if you want stability, any other version
> (especially master) is risky.
>
> Kind regards.
>
> >
> > On Sat, Jan 2, 2021 at 6:17 AM Richard Duivenvoorde <rdmailings at duif.net>
> wrote:
> >>
> >> On 1/2/21 1:17 AM, Cory Albrecht wrote:
> >> > Can somebody help me under the basics of how things work inside QGIS
> starting from when it loads all the features for a layer through the steps,
> and then finally drawing them on the map canvas, specifically with respect
> to the new temporal controller (NTC)?
> >> >
> >> > The issues caused by the NTC have been very frustrating for me as I
> make mostly (historical) timeline maps and I relied heavily on the old
> TimeManager (OTM) plugin by Antia Graser and group. So many tasks are now
> much more laborious or difficult because so many tools are just not
> time-aware.
> >> >
> >> > Was it not possible to add the NTC in such a way that would have
> still let all the other features work as before with the filtered feature
> set before being made time-aware, rather than confusingly operating on the
> unfiltered set? Or perhaps it shouldn't have been turned on until the
> infrastructure was there for the tools to be time-aware right away?
> >> >
> >> > Because I've just submitted yet another bug about the NTC, this time
> for the selection tool <https://github.com/qgis/QGIS/issues/40818>, and
> it has me more than a little annoyed. As a result of this bug I now have an
> unknown number of duplicate objects in multiple layers across multiple
> databases/projects that I unknowingly pasted into them over the past
> several months since the NTC was added to QGIS.
> >> >
> >> > I feel that the NTC was both poorly thought out and badly implemented
> as all these bugs would indicate.
> >>
> >> Hi Cory,
> >>
> >> Let's try to stay positive. NTC is still young, and rapidly evolving.
> It is hard to keep up with all (possible) use cases. In my case it was nice
> that the select tool DID return ALL features (as I needed it to create a
> graph in time of measurements in one point). So I proposed earlier (cannot
> find it now), to make this an option in the select tools: "use/not use Time
> Filter". But this all takes time ;-)
> >>
> >> In the meantime:
> >> - you can maybe use "Delete duplicate geometries" [0] to remove the
> duplicates?
> >> - if really in need of the old TimeManager, you can change the
> metadata.txt so OTM will still work in current master. In this line:
> >> https://github.com/anitagraser/TimeManager/blob/master/metadata.txt#L7
> >> change '3.12' to '3.18'
> >> - if you need MemoryLayers to work (like I did), then you have to add
> another patch. Let me know if you need that.
> >>
> >> In the meantime: everybody involved in TimeBased data: let's discuss
> use-cases and make NTC better... in time...
> >>
> >> Regards,
> >>
> >> Richard Duivenvoorde
> >>
> >> [0]
> https://gis.stackexchange.com/questions/133207/removing-overlapping-duplicate-polygons-in-same-layer-using-qgis/133221
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210102/1ad53221/attachment.html>

From jedfrechette at gmail.com  Sun Jan  3 15:32:42 2021
From: jedfrechette at gmail.com (Jed Frechette)
Date: Sun, 3 Jan 2021 16:32:42 -0700
Subject: [QGIS-Developer] 3D View Interface Usability
Message-ID: <CAACeADYVzqaY4Ny3FXOP9xF8dBB5mXRZ6XJZZKvGT-X-iGwy6w@mail.gmail.com>

Happy New Year to all,

Recently I?ve been spending time playing with the 3D view in QGIS and
I?m hoping to start a discussion about the UI and whether or not it
might make sense to consider some changes to that UI based on what the
intended uses of the 3D view are.

Since I haven?t been directly involved in QGIS development before I?m
approaching this from a user?s perspective and thought I should start
with my observations and assumptions in case they?re radically
off-base compared to what the core developers envision for the 3D
view.

Looking at the current state of the 3D view it seems heavily
influenced by Google Earth. In particular, it seems to be primarily
designed to simply display content that was created elsewhere. In the
context of the rest of the QGIS UI, it is much more similar to the
Print Layout view than the main 2D Map view. From a workflow
perspective, you work with your data in the main 2D Map and then
switch to the Print Layout or 3D views when you want to render that
data in a different context.

I think now is a good time to start thinking about a potentially
bigger role for the 3D view because of the upcoming point cloud
support. I know that interactive tools are out of scope for the
current point cloud project, however, I think as soon as users can
visualize point clouds in QGIS they will want to start interacting
with them. Once the novelty wears off, simply rendering a point cloud
in 3D is pretty ugly and not terribly useful. However, being able to
digitize 3D points or lines with snapping to that point cloud is
extremely useful and that type of work will be difficult to do without
a well-designed 3D viewport.

Even without new interactive tools, I think the more volumetric and
often unevenly distributed nature of most point cloud datasets will
make the current Google Earth style navigation less intuitive than it
is when dealing with the mostly 2D data it was designed to interact
with. For example, with the current camera controls you can?t track
along the world z-axis so you lose a degree of freedom when the camera
is horizontal. If you are looking at a street level building facade
and want to move to looking at the 20th floor you can?t just track
along the z-axis to get there. You need to tilt the camera up, try to
place it?s rotation point at the 20th floor (possibly moving the
camera backward and hoping nothing blocks your view), then tilt the
camera down (which translates the camera up) to get back to
horizontal.

Although I spend a fair amount of time doing GIS work, my perspective
comes from spending the last 10 years working with lidar and similar
data in 3D modeling and metrology applications, where the primary mode
of interaction is a 3D viewport. As a result, I have several specific
thoughts on changes to the 3D View?s UI that would make it easier to
use, better able to eventually support more interactive tools and more
consistent with the rest of the QGIS UI. This email is already long
enough though so rather than get into that now, I?d first rather ask
what others think of the current 3D view.

How much do people currently use the 3D view? Is the current UI
working well for how it is being used? What about down the road? Is
there a desire for more 3D tools and if so are there limitations of
the current design that should be reconsidered?

Thanks for reading,

-- 
Jed Frechette

From nyall.dawson at gmail.com  Sun Jan  3 18:32:32 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 4 Jan 2021 12:32:32 +1000
Subject: [QGIS-Developer] Temporal controller issues
In-Reply-To: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
References: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
Message-ID: <CAB28AsiMyHaZu+KfGS0u47=krMdCpAXdwsG09P028OHRhuZGRQ@mail.gmail.com>

On Sat, 2 Jan 2021 at 10:23, Cory Albrecht <maps at hanfastolfe.com> wrote:
>
> Can somebody help me under the basics of how things work inside QGIS starting from when it loads all the features for a layer through the steps, and then finally drawing them on the map canvas, specifically with respect to the new temporal controller (NTC)?
>
> The issues caused by the NTC have been very frustrating for me as I make mostly (historical) timeline maps and I relied heavily on the old TimeManager (OTM) plugin by Antia Graser and group. So many tasks are now much more laborious or difficult because so many tools are just not time-aware.
>
> Was it not possible to add the NTC in such a way that would have still let all the other features work as before with the filtered feature set before being made time-aware, rather than confusingly operating on the unfiltered set? Or perhaps it shouldn't have been turned on until the infrastructure was there for the tools to be time-aware right away?
>
> Because I've just submitted yet another bug about the NTC, this time for the selection tool, and it has me more than a little annoyed. As a result of this bug I now have an unknown number of duplicate objects in multiple layers across multiple databases/projects that I unknowingly pasted into them over the past several months since the NTC was added to QGIS.
>
> I feel that the NTC was both poorly thought out and badly implemented as all these bugs would indicate.

I can empathise with your frustration, but this is a very complex discussion!

As background, I implemented time handling for vector layers as a
VOLUNTEER (completely unpaid). Would you have preferred I didn't do
this, and we had no time support for vectors at all? Please be very
wary of your language in future -- every piece of feedback worded like
this directly equates to a developer losing interest in volunteering
their time on QGIS, to the harm of all.

I've fixed two of your issues here
https://github.com/qgis/QGIS/pull/40834, as an UNPAID VOLUNTEER.
Without funding I'm just not interested in fixing the snapping related
issues. I don't personally have any need for these, and the QGIS
snapping code isn't something I'm motivated in getting involved with
at all. Perhaps there's another developer interested in looking at
this, or perhaps a developer will take a look at this during the 3.18
bug sprint. Or maybe someone will pay for this fix and financial gain
will be the motivation.

I like making the world a better place through volunteering my time on
making a first-class desktop mapping application, but I'm far from
being a slave to this, and my family, garden, and drum kit want my
time too!

Nyall



> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From cavallini at faunalia.it  Sun Jan  3 23:35:01 2021
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 4 Jan 2021 08:35:01 +0100
Subject: [QGIS-Developer] Temporal controller issues
In-Reply-To: <CAB28AsiMyHaZu+KfGS0u47=krMdCpAXdwsG09P028OHRhuZGRQ@mail.gmail.com>
References: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
 <CAB28AsiMyHaZu+KfGS0u47=krMdCpAXdwsG09P028OHRhuZGRQ@mail.gmail.com>
Message-ID: <cbc40d75-2e22-3c67-db21-9355b4237ece@faunalia.it>

Hi all,

Il 04/01/21 03:32, Nyall Dawson ha scritto:

> As background, I implemented time handling for vector layers as a
> VOLUNTEER (completely unpaid). Would you have preferred I didn't do
> this, and we had no time support for vectors at all? Please be very
> wary of your language in future -- every piece of feedback worded like
> this directly equates to a developer losing interest in volunteering
> their time on QGIS, to the harm of all.

...

> I like making the world a better place through volunteering my time on
> making a first-class desktop mapping application, but I'm far from
> being a slave to this, and my family, garden, and drum kit want my
> time too!

very well said Nyall. It should be broadcasted for the users to
understand how things really work.
Thanks for your many gifts!

Cheers.
-- 
Paolo Cavallini
www.faunalia.eu - QGIS.org
training, support, development on QGIS, PostGIS and more

From tebling at masuch.de  Sun Jan  3 23:39:41 2021
From: tebling at masuch.de (Karsten Tebling)
Date: Mon, 4 Jan 2021 08:39:41 +0100
Subject: [QGIS-Developer] stale bot :-(
In-Reply-To: <CAB28AshTiVb5wZoASzquATga=Tp8LSBA-OxL+s5oct9Hb+UmqQ@mail.gmail.com>
References: <5a879612-cf89-b5eb-45c3-f3b28bd15d5a@duif.net>
 <e1e0b15b-6294-0913-2305-f378262c2578@masuch.de>
 <CAB28AshTiVb5wZoASzquATga=Tp8LSBA-OxL+s5oct9Hb+UmqQ@mail.gmail.com>
Message-ID: <8a67256f-2202-8a04-1e8d-22c07bf5eeeb@masuch.de>

Am 22.12.2020 um 23:23 schrieb Nyall Dawson:
> That sounds ideal, but unfortunately things just don't work that way.
> If your bug report is not reproducible there's a very low chance it
> will get fixed.
>
> So if you want your bug fixed, the motivation sits with you to make it
> as easy as possible for the bug triaging team/developers to reproduce.
> Honestly, if we (developers) can't reproduce a bug in <5 minutes,
> we'll just move to the next ticket in the queue and you've missed your
> chance at a fix...
>
> And that's exactly what stale bot and the feedback tag is designed to
> assist with -- it helps push the responsibility back to the bug
> submitter to make sure there's sufficient detail and a reproducible
> test case in the ticket. It's actually in place to avoid frustration
> caused by the "I submitted this ticket 12 months ago, why has nothing
> been done?!?!?" situation.
>
> Nyall


first of all, happy new year!

thanks for the detailed answer!

 From a user-point-of-view I thought the "Copy Report" would contain 
enough information needed to fix the issue. Knowing that you will skip 
reports/bugs that can't be reproduced within <5 minutes, I would suggest 
to change the text of the QGIS-crashed dialog to reflect that. Right now 
the text is "Include as much information as you can as well as steps to 
reproduce the issue if possible" - it would be better if the text would 
say something like "if you can reproduce..." or "if you can provide 
sample data that crashes..." or "if this crash occured more than 
once...". You could also remove the "Tell us something about when you 
got the crash." because it is both above the input field and in the 
input field - this way you have more room to explain what a helpful 
report is for you developers. This might help to save time for the 
developer and the user.

Even if you don't change anything I'm thankful for your answer, because 
now I know when to report and when not, which saves me precious time!

greetz


From pathmapper at posteo.de  Mon Jan  4 00:57:27 2021
From: pathmapper at posteo.de (pathmapper)
Date: Mon, 04 Jan 2021 09:57:27 +0100
Subject: [QGIS-Developer] Docker pull rate limit / Travis
Message-ID: <9e69b75d31d7e36727d44c2a2aa7c129@posteo.de>

Hi,

due to the recently introduced docker pull rate limits there are 
currently quite a lot Travis builds failing because of such a limit.

According to this blogpost: 
https://www.docker.com/blog/what-you-need-to-know-about-upcoming-docker-hub-rate-limiting/

"[...] non-commercial open source projects can apply for a sponsored 
Open Source Docker account by filling out this application. No pull rate 
restrictions will be applied to namespaces approved as non-commercial 
Open Source projects."

Don't know if such an application for a sponsored Open Source Docker 
account would be something the QGIS project would be interested in or if 
the QGIS Docker account is already sponsored. A sponsored Docker account 
might help a little bit reaching these limits e.g. regarding pulling:

https://hub.docker.com/r/qgis/qgis3-build-deps

Cheers,
pathmapper

From rdmailings at duif.net  Mon Jan  4 01:16:58 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 4 Jan 2021 10:16:58 +0100
Subject: [QGIS-Developer] Docker pull rate limit / Travis
In-Reply-To: <9e69b75d31d7e36727d44c2a2aa7c129@posteo.de>
References: <9e69b75d31d7e36727d44c2a2aa7c129@posteo.de>
Message-ID: <4da02a7f-431b-fc18-caf0-8b358bc20cbb@duif.net>

Yes, I hit that too. thanks for bringing this up!

Another idea: as the docker is actually more or less 'static' (??? or is is pushed to hub on every build ???), can we (or Travis) not 'cache' it? As in" place it somewhere so it can be 'created/started' fresh any time, but not 'fetched' upon every build? 
Or does this loose the whole purpose of this...
Caching could be: put the image on some webserver of somebody with 'unlimited' bandwidth (like some universities, providers or (unix)usergroups?).

BUT: As QGIS is getting bigger and bigger, we have to find solutions for this kind of 'size'-issues when using 'free' services. Same with for example the use of OSM-tiles or Nominatim-service, Transifex etc etc... We have to be either creative/clever, OR setup our own stuff...

Regards,

Richard Duivenvoorde


On 1/4/21 9:57 AM, pathmapper wrote:
> Hi,
> 
> due to the recently introduced docker pull rate limits there are currently quite a lot Travis builds failing because of such a limit.
> 
> According to this blogpost: https://www.docker.com/blog/what-you-need-to-know-about-upcoming-docker-hub-rate-limiting/
> 
> "[...] non-commercial open source projects can apply for a sponsored Open Source Docker account by filling out this application. No pull rate restrictions will be applied to namespaces approved as non-commercial Open Source projects."
> 
> Don't know if such an application for a sponsored Open Source Docker account would be something the QGIS project would be interested in or if the QGIS Docker account is already sponsored. A sponsored Docker account might help a little bit reaching these limits e.g. regarding pulling:
> 
> https://hub.docker.com/r/qgis/qgis3-build-deps

From apasotti at gmail.com  Mon Jan  4 01:21:37 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 4 Jan 2021 10:21:37 +0100
Subject: [QGIS-Developer] Docker pull rate limit / Travis
In-Reply-To: <4da02a7f-431b-fc18-caf0-8b358bc20cbb@duif.net>
References: <9e69b75d31d7e36727d44c2a2aa7c129@posteo.de>
 <4da02a7f-431b-fc18-caf0-8b358bc20cbb@duif.net>
Message-ID: <CAL5Q6735wVuefekL6QW4OLL82ae+orwMRpuQDtzhYP0j3xvNwg@mail.gmail.com>

On Mon, Jan 4, 2021 at 10:17 AM Richard Duivenvoorde
<rdmailings at duif.net> wrote:
>
> Yes, I hit that too. thanks for bringing this up!
>
> Another idea: as the docker is actually more or less 'static' (??? or is is pushed to hub on every build ???), can we (or Travis) not 'cache' it? As in" place it somewhere so it can be 'created/started' fresh any time, but not 'fetched' upon every build?
> Or does this loose the whole purpose of this...
> Caching could be: put the image on some webserver of somebody with 'unlimited' bandwidth (like some universities, providers or (unix)usergroups?).
>

I think that might work, the deps image is a base image and it doesn't
change so often.

> BUT: As QGIS is getting bigger and bigger, we have to find solutions for this kind of 'size'-issues when using 'free' services. Same with for example the use of OSM-tiles or Nominatim-service, Transifex etc etc... We have to be either creative/clever, OR setup our own stuff...
>
> Regards,
>
> Richard Duivenvoorde
>

Yeah, let's just hope GitHub will remain free or we will have bigger problems ;)

In the meantime I can fill up the form
https://www.docker.com/community/open-source/application if noone has
already done that.


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From apasotti at gmail.com  Mon Jan  4 01:28:49 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 4 Jan 2021 10:28:49 +0100
Subject: [QGIS-Developer] Docker pull rate limit / Travis
In-Reply-To: <CAL5Q6735wVuefekL6QW4OLL82ae+orwMRpuQDtzhYP0j3xvNwg@mail.gmail.com>
References: <9e69b75d31d7e36727d44c2a2aa7c129@posteo.de>
 <4da02a7f-431b-fc18-caf0-8b358bc20cbb@duif.net>
 <CAL5Q6735wVuefekL6QW4OLL82ae+orwMRpuQDtzhYP0j3xvNwg@mail.gmail.com>
Message-ID: <CAL5Q672mHwu0gzJmPFe5nrDE+cy03k6tBrahf0-1EXrUm9i3+g@mail.gmail.com>

On Mon, Jan 4, 2021 at 10:21 AM Alessandro Pasotti <apasotti at gmail.com> wrote:
>
> On Mon, Jan 4, 2021 at 10:17 AM Richard Duivenvoorde
> <rdmailings at duif.net> wrote:
> >
> > Yes, I hit that too. thanks for bringing this up!
> >
> > Another idea: as the docker is actually more or less 'static' (??? or is is pushed to hub on every build ???), can we (or Travis) not 'cache' it? As in" place it somewhere so it can be 'created/started' fresh any time, but not 'fetched' upon every build?
> > Or does this loose the whole purpose of this...
> > Caching could be: put the image on some webserver of somebody with 'unlimited' bandwidth (like some universities, providers or (unix)usergroups?).
> >
>
> I think that might work, the deps image is a base image and it doesn't
> change so often.
>
> > BUT: As QGIS is getting bigger and bigger, we have to find solutions for this kind of 'size'-issues when using 'free' services. Same with for example the use of OSM-tiles or Nominatim-service, Transifex etc etc... We have to be either creative/clever, OR setup our own stuff...
> >
> > Regards,
> >
> > Richard Duivenvoorde
> >
>
> Yeah, let's just hope GitHub will remain free or we will have bigger problems ;)
>
> In the meantime I can fill up the form
> https://www.docker.com/community/open-source/application if noone has
> already done that.
>


Done ^^^ let's see if that works.

-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From wonder.sk at gmail.com  Mon Jan  4 03:08:29 2021
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon, 4 Jan 2021 12:08:29 +0100
Subject: [QGIS-Developer] 3D View Interface Usability
In-Reply-To: <CAACeADYVzqaY4Ny3FXOP9xF8dBB5mXRZ6XJZZKvGT-X-iGwy6w@mail.gmail.com>
References: <CAACeADYVzqaY4Ny3FXOP9xF8dBB5mXRZ6XJZZKvGT-X-iGwy6w@mail.gmail.com>
Message-ID: <CAC2XbFfobjAthBp5jzb_bRHkZ2AmwZ0y5STT7TmexUdNi96Zdw@mail.gmail.com>

Hi Jed

Thanks a lot for your feedback. You have summarized it pretty well - camera
controls in QGIS 3D are indeed largely based on Google Earth controls which
I found relatively intuitive at the time when starting the work in 2017. We
have realized over time that this kind of navigation is not enough for
various use cases, including the one you have mentioned (to look at 20th
floor of a building). There is definitely interest to improve it,
especially with point clouds the limitations in the navigation are much
easier to see.

Editing vector data in 3D is near the top of the wish list for many users,
so I think we will get to it sooner or later :-) Totally agreed that
snapping to point clouds should be available to simplify data capturing.
Probably an option to view the scene from multiple angles at once would be
also useful for good quality editing (e.g. when editing vertices of a
building in 3D).

It looks like you already have ideas how to improve things - I would love
to hear your thoughts how to make the navigation better. Please feel free
to add links to videos of other software where you think the camera control
behaves according to your expectations...

Regards
Martin


On Mon, Jan 4, 2021 at 12:33 AM Jed Frechette <jedfrechette at gmail.com>
wrote:

> Happy New Year to all,
>
> Recently I?ve been spending time playing with the 3D view in QGIS and
> I?m hoping to start a discussion about the UI and whether or not it
> might make sense to consider some changes to that UI based on what the
> intended uses of the 3D view are.
>
> Since I haven?t been directly involved in QGIS development before I?m
> approaching this from a user?s perspective and thought I should start
> with my observations and assumptions in case they?re radically
> off-base compared to what the core developers envision for the 3D
> view.
>
> Looking at the current state of the 3D view it seems heavily
> influenced by Google Earth. In particular, it seems to be primarily
> designed to simply display content that was created elsewhere. In the
> context of the rest of the QGIS UI, it is much more similar to the
> Print Layout view than the main 2D Map view. From a workflow
> perspective, you work with your data in the main 2D Map and then
> switch to the Print Layout or 3D views when you want to render that
> data in a different context.
>
> I think now is a good time to start thinking about a potentially
> bigger role for the 3D view because of the upcoming point cloud
> support. I know that interactive tools are out of scope for the
> current point cloud project, however, I think as soon as users can
> visualize point clouds in QGIS they will want to start interacting
> with them. Once the novelty wears off, simply rendering a point cloud
> in 3D is pretty ugly and not terribly useful. However, being able to
> digitize 3D points or lines with snapping to that point cloud is
> extremely useful and that type of work will be difficult to do without
> a well-designed 3D viewport.
>
> Even without new interactive tools, I think the more volumetric and
> often unevenly distributed nature of most point cloud datasets will
> make the current Google Earth style navigation less intuitive than it
> is when dealing with the mostly 2D data it was designed to interact
> with. For example, with the current camera controls you can?t track
> along the world z-axis so you lose a degree of freedom when the camera
> is horizontal. If you are looking at a street level building facade
> and want to move to looking at the 20th floor you can?t just track
> along the z-axis to get there. You need to tilt the camera up, try to
> place it?s rotation point at the 20th floor (possibly moving the
> camera backward and hoping nothing blocks your view), then tilt the
> camera down (which translates the camera up) to get back to
> horizontal.
>
> Although I spend a fair amount of time doing GIS work, my perspective
> comes from spending the last 10 years working with lidar and similar
> data in 3D modeling and metrology applications, where the primary mode
> of interaction is a 3D viewport. As a result, I have several specific
> thoughts on changes to the 3D View?s UI that would make it easier to
> use, better able to eventually support more interactive tools and more
> consistent with the rest of the QGIS UI. This email is already long
> enough though so rather than get into that now, I?d first rather ask
> what others think of the current 3D view.
>
> How much do people currently use the 3D view? Is the current UI
> working well for how it is being used? What about down the road? Is
> there a desire for more 3D tools and if so are there limitations of
> the current design that should be reconsidered?
>
> Thanks for reading,
>
> --
> Jed Frechette
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210104/a94a5a3c/attachment.html>

From matthias at opengis.ch  Mon Jan  4 04:20:04 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 4 Jan 2021 13:20:04 +0100
Subject: [QGIS-Developer] Docker pull rate limit / Travis
In-Reply-To: <CAL5Q672mHwu0gzJmPFe5nrDE+cy03k6tBrahf0-1EXrUm9i3+g@mail.gmail.com>
References: <9e69b75d31d7e36727d44c2a2aa7c129@posteo.de>
 <4da02a7f-431b-fc18-caf0-8b358bc20cbb@duif.net>
 <CAL5Q6735wVuefekL6QW4OLL82ae+orwMRpuQDtzhYP0j3xvNwg@mail.gmail.com>
 <CAL5Q672mHwu0gzJmPFe5nrDE+cy03k6tBrahf0-1EXrUm9i3+g@mail.gmail.com>
Message-ID: <CAC7zN96RrFdb2wZwi1cwr39RTd9S1XW2vCZpPBeCUiSphk_JXA@mail.gmail.com>

Hi,

Good move, thanks Alessandro.

There was recently also a discussion about moving from travis to github
workflows.
In combination with this, I assume the base image could also be cached
directly inside the github registry (
https://docs.github.com/en/free-pro-team at latest/packages/guides/about-github-container-registry
).
This might also bring quicker builds because it's in the same network /
tightly integrated with the service.

Just to keep that in mind too
Matthias

On Mon, Jan 4, 2021 at 10:29 AM Alessandro Pasotti <apasotti at gmail.com>
wrote:

> On Mon, Jan 4, 2021 at 10:21 AM Alessandro Pasotti <apasotti at gmail.com>
> wrote:
> >
> > On Mon, Jan 4, 2021 at 10:17 AM Richard Duivenvoorde
> > <rdmailings at duif.net> wrote:
> > >
> > > Yes, I hit that too. thanks for bringing this up!
> > >
> > > Another idea: as the docker is actually more or less 'static' (??? or
> is is pushed to hub on every build ???), can we (or Travis) not 'cache' it?
> As in" place it somewhere so it can be 'created/started' fresh any time,
> but not 'fetched' upon every build?
> > > Or does this loose the whole purpose of this...
> > > Caching could be: put the image on some webserver of somebody with
> 'unlimited' bandwidth (like some universities, providers or
> (unix)usergroups?).
> > >
> >
> > I think that might work, the deps image is a base image and it doesn't
> > change so often.
> >
> > > BUT: As QGIS is getting bigger and bigger, we have to find solutions
> for this kind of 'size'-issues when using 'free' services. Same with for
> example the use of OSM-tiles or Nominatim-service, Transifex etc etc... We
> have to be either creative/clever, OR setup our own stuff...
> > >
> > > Regards,
> > >
> > > Richard Duivenvoorde
> > >
> >
> > Yeah, let's just hope GitHub will remain free or we will have bigger
> problems ;)
> >
> > In the meantime I can fill up the form
> > https://www.docker.com/community/open-source/application if noone has
> > already done that.
> >
>
>
> Done ^^^ let's see if that works.
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210104/afa5d738/attachment.html>

From Hannah at land-scope.com  Mon Jan  4 05:15:55 2021
From: Hannah at land-scope.com (Hannah Wait)
Date: Mon, 4 Jan 2021 13:15:55 +0000
Subject: [QGIS-Developer] Message to list
Message-ID: <LOYP123MB3439F33F3520374BDE9ECE68F5D20@LOYP123MB3439.GBRP123.PROD.OUTLOOK.COM>

Hi,

I work at a land surveying company and have a question on QGIS and QField if anyone can help with.

We are currently looking at uploading the 'Survaid' data with accurate positioning and exporting as a shapefile with the attributes in to QGIS. Do you know if there is a way to get the higher accuracy of external GPS to feed into QField on our tablet at all?

Kind regards,

Hannah



Hannah Wait

GIS Technician

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210104/2880c79c/attachment-0001.html>

From gdt at lexort.com  Mon Jan  4 06:06:35 2021
From: gdt at lexort.com (Greg Troxel)
Date: Mon, 04 Jan 2021 09:06:35 -0500
Subject: [QGIS-Developer] Message to list
In-Reply-To: <LOYP123MB3439F33F3520374BDE9ECE68F5D20@LOYP123MB3439.GBRP123.PROD.OUTLOOK.COM>
 (Hannah Wait's message of "Mon, 4 Jan 2021 13:15:55 +0000")
References: <LOYP123MB3439F33F3520374BDE9ECE68F5D20@LOYP123MB3439.GBRP123.PROD.OUTLOOK.COM>
Message-ID: <rmisg7gx0d0.fsf@s1.lexort.com>


Hannah Wait <Hannah at land-scope.com> writes:

> I work at a land surveying company and have a question on QGIS and QField if anyone can help with.
>
> We are currently looking at uploading the 'Survaid' data with accurate
> positioning and exporting as a shapefile with the attributes in to
> QGIS. Do you know if there is a way to get the higher accuracy of
> external GPS to feed into QField on our tablet at all?

QField is on my list of things to try, but I haven't yet.
(Unfortunately it is not on f-droid so I'll have to build it from
source.)

This query probably belongs on the QField mailinglist, but that appears
to be remarkably difficult to find.

On Android, I can see three approaches.

  I use Vespucci, which is an openstreetmap editor.  It has support for
  an external NMEA source, via a TCP connection.  One can put a phone in
  hotspot mode and have the external device (e.g. Ardusimple WiFi NTRIP
  Master with a simpleRTK2B F9P, and you are almost certainly using
  something higher end!) get RTCM3 data, and have Vespucci get the RTK
  solutions as high-precision NMEA.  This takes you out of GIS proper
  into OSM, which uses tags instead of layers, even though it's
  basically the same thing.

  Modify QField to have the same sort of feature as Vespucci.  You are
  apparently not the first to want this:
    https://github.com/opengisch/QField/issues/536

  Use Android's "mocking" debug feature, which involves some program to
  talk to the external GNSSr and inject location into the system, so
  that programs see that location information.   I gather people do this
  with QField, from skimming their github repo.  See
    https://qfield.org/docs/fieldwork/gps.html
  
Greg
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 194 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210104/0844b82b/attachment.sig>

From matthias at opengis.ch  Mon Jan  4 07:08:53 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 4 Jan 2021 16:08:53 +0100
Subject: [QGIS-Developer] Message to list
In-Reply-To: <rmisg7gx0d0.fsf@s1.lexort.com>
References: <LOYP123MB3439F33F3520374BDE9ECE68F5D20@LOYP123MB3439.GBRP123.PROD.OUTLOOK.COM>
 <rmisg7gx0d0.fsf@s1.lexort.com>
Message-ID: <CAC7zN97AAf-QWi1+F1UUyfNEF70=yJByxXeE4drNr5fAh8Nu=Q@mail.gmail.com>

Hi Greg, Hannah


On Mon, Jan 4, 2021 at 3:06 PM Greg Troxel <gdt at lexort.com> wrote:

>
> Hannah Wait <Hannah at land-scope.com> writes:
>
> > I work at a land surveying company and have a question on QGIS and
> QField if anyone can help with.
> >
> > We are currently looking at uploading the 'Survaid' data with accurate
> > positioning and exporting as a shapefile with the attributes in to
> > QGIS. Do you know if there is a way to get the higher accuracy of
> > external GPS to feed into QField on our tablet at all?
>

With the current stable QField  (1.7) you need to use a mock application
(like ntrip client) to connect an external GPS.

However, the latest release 1.8 supports directly connecting to an external
GPS via bluetooth. That gives you access to all the GPS data.
This version is still in beta, so you have to

 a) either install it from the apk (available from the release page
https://github.com/opengisch/QField/releases/tag/v1.8.0)
 b) install the qfield dev app (
https://play.google.com/store/apps/details?id=ch.opengis.qfield_dev&hl=en&gl=US
)
 c) join the "beta" on the play store app of qfield

Stay tuned for a soon-to-come 1.8.1 with plenty of refinements on this
front (already available in option b above)


>
> QField is on my list of things to try, but I haven't yet.
> (Unfortunately it is not on f-droid so I'll have to build it from
> source.)
>

Have a look at the release page link above, there are apks to download.

Matthias


> This query probably belongs on the QField mailinglist, but that appears
> to be remarkably difficult to find.
>
> On Android, I can see three approaches.
>
>   I use Vespucci, which is an openstreetmap editor.  It has support for
>   an external NMEA source, via a TCP connection.  One can put a phone in
>   hotspot mode and have the external device (e.g. Ardusimple WiFi NTRIP
>   Master with a simpleRTK2B F9P, and you are almost certainly using
>   something higher end!) get RTCM3 data, and have Vespucci get the RTK
>   solutions as high-precision NMEA.  This takes you out of GIS proper
>   into OSM, which uses tags instead of layers, even though it's
>   basically the same thing.
>
>   Modify QField to have the same sort of feature as Vespucci.  You are
>   apparently not the first to want this:
>     https://github.com/opengisch/QField/issues/536
>
>   Use Android's "mocking" debug feature, which involves some program to
>   talk to the external GNSSr and inject location into the system, so
>   that programs see that location information.   I gather people do this
>   with QField, from skimming their github repo.  See
>     https://qfield.org/docs/fieldwork/gps.html
>
> Greg
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210104/0fa4c691/attachment.html>

From marco at qgis.org  Mon Jan  4 07:50:53 2021
From: marco at qgis.org (Marco Bernasocchi)
Date: Mon, 4 Jan 2021 16:50:53 +0100
Subject: [QGIS-Developer] Call For Community Voting members ballot
Message-ID: <CAB2ZMRBQEDRoMEY9ngAMMXaJ2Q25pgE6o7Z0FATf+T_6VoEBfA@mail.gmail.com>

Dear QGIS Community

we invite you to elect your favourite community voting members.
One community voting member is appointed in tandem with each new QGIS
Country User Group Voting Member. This year there are 5 confirmed new
country user groups. Furthermore, the AGM 2020 elected 2 Honorable Voting
members, one of which was a community voting member. Since each person can
have only one vote, this results in one additional community voter space up
for election.

This results in 6 new community voting members spaces available.

Please read the instructions carefully and establish your eligibility to
vote which I repeat here for your convenience:
"Only community members with commit rights to an official QGIS git
repository or with write access in transifex are eligible to vote nominees?


Voting will close on Wednesday 17 January 2021 23:59 AoT.


The voting form is here:
https://forms.gle/2Js2RXDz6XaK9UM88

If you have any questions about the voting process please do not hesitate
to contact me

Happy new year
Marco


-- 
Marco Bernasocchi

QGIS.org Chair
OPENGIS.ch CEO
http://berna.io
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210104/f071c485/attachment.html>

From bo.victor.thomsen at gmail.com  Mon Jan  4 09:14:16 2021
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Mon, 4 Jan 2021 18:14:16 +0100
Subject: [QGIS-Developer] Convert geojson geometry to QgsGeometry in python
Message-ID: <30179fc7-9a90-bba4-5a3d-a65b94dfd6b7@gmail.com>

Hi list members:

The subject says it : How to convert the geometry part from a geojson 
string to a QgsGeometry

Some details:

How can I convert the geojson "geometry" part to a QgsGeometry ? i.e. 
The part marked in *bold* ?

|{"type":"Feature",*"geometry"**:****{****"type"**:****"Point"**,****"coordinates"**:****[**125.6**,****10.1**]****}*,"properties":{"name":"Dinagat 
Islands"}} |||

It's not the only "point" type, but all the geometry types (minus 
"geometry collection"): linestring, polygon, multipoint, multilinestring 
and multipolygon.

The json text is already converted to a python dict using json.dumps(). 
AFAIK, it's trivial to convert from QgsGeometry to geojson, but I can't 
find an existing method to do the opposite.

-- 
Med venlig hilsen / Kind regards

Bo Victor Thomsen

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210104/0fd19a35/attachment-0001.html>

From matthias at opengis.ch  Mon Jan  4 09:39:59 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 4 Jan 2021 18:39:59 +0100
Subject: [QGIS-Developer] Convert geojson geometry to QgsGeometry in
 python
In-Reply-To: <30179fc7-9a90-bba4-5a3d-a65b94dfd6b7@gmail.com>
References: <30179fc7-9a90-bba4-5a3d-a65b94dfd6b7@gmail.com>
Message-ID: <CAC7zN96X_Q934pp2L6wcxi2-v5puLK1cgHD6W4Ne-XSG1nmYJw@mail.gmail.com>

Hi Bo,

You can use the QgsJsonUtils.stringToFeatureList.
It adds a bit of overhead by roundtripping it through a QgsFeatureList but
works.

QgsJsonUtils.stringToFeatureList('''
{
  "type": "Feature",
  "geometry": {
    "type": "Point",
    "coordinates": [125.6, 10.1]
  },
  "properties": {
    "name": "Dinagat Islands"
  }
}

''')[0].geometry()

Matthias

On Mon, Jan 4, 2021 at 6:14 PM Bo Victor Thomsen <
bo.victor.thomsen at gmail.com> wrote:

> Hi list members:
>
> The subject says it : How to convert the geometry part from a geojson
> string to a QgsGeometry
>
> Some details:
>
> How can I convert the geojson "geometry" part to a QgsGeometry ? i.e. The
> part marked in *bold* ?
>
> {
>   "type": "Feature",
>   *"geometry"**:* *{*
>     *"type"**:* *"Point"**,*
>     *"coordinates"**:* *[**125.6**,* *10.1**]*
>   *}*,
>   "properties": {
>     "name": "Dinagat Islands"
>   }}
>
> It's not the only "point" type, but all the geometry types (minus
> "geometry collection"): linestring, polygon, multipoint, multilinestring
> and multipolygon.
>
> The json text is already converted to a python dict using json.dumps().
> AFAIK, it's trivial to convert from QgsGeometry to geojson, but I can't
> find an existing method to do the opposite.
>
> --
> Med venlig hilsen / Kind regards
>
> Bo Victor Thomsen
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210104/538427a5/attachment.html>

From maps at hanfastolfe.com  Mon Jan  4 11:40:37 2021
From: maps at hanfastolfe.com (Cory Albrecht)
Date: Mon, 4 Jan 2021 14:40:37 -0500
Subject: [QGIS-Developer] Temporal controller issues
In-Reply-To: <CAB28AsiMyHaZu+KfGS0u47=krMdCpAXdwsG09P028OHRhuZGRQ@mail.gmail.com>
References: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
 <CAB28AsiMyHaZu+KfGS0u47=krMdCpAXdwsG09P028OHRhuZGRQ@mail.gmail.com>
Message-ID: <CAMW5rY+EePvMh24EvBpBPREj=f92B2_jKbS9Dwnt5M+C3t7vUA@mail.gmail.com>

> Please be very wary of your language in future -- every piece of feedback
worded like this directly equates to a developer losing interest in
volunteering their time on QGIS, to the harm of all.

I hear what you're saying, Nyall, I apologise if it sounded harsh, but what
do you want me to say after I find out that the latest of several bugs has
compromised my data and now I have to hunt down an unknown number of
duplicates silently created over the last few months of work? If you
empathise, do you understand how all these bugs and my data being
compromised might make me feel that this feature was not done very well and
that there was a lack of adequate testing?

> As background, I implemented time handling for vector layers as a VOLUNTEER
(completely unpaid). Would you have preferred I didn't do this, and we had
no time support for vectors at all?

As to what I would have preferred, well, I've reverted back to 3.10 to use
the old TimeManager plugin to avoid using the NTC. I would have preferred
that the feature branch you used to implement the NTC had not gotten merged
and the feature included in release versions until it had been checked to
work with and not break basic features like the selection tool. So now I
have to work under some Damoclean time limit for a couple of months until
3.16 replaces 3.10 and I will have no choice but to move to a version with
the NTC and these bugs.

On Sun, Jan 3, 2021 at 9:32 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Sat, 2 Jan 2021 at 10:23, Cory Albrecht <maps at hanfastolfe.com> wrote:
> >
> > Can somebody help me under the basics of how things work inside QGIS
> starting from when it loads all the features for a layer through the steps,
> and then finally drawing them on the map canvas, specifically with respect
> to the new temporal controller (NTC)?
> >
> > The issues caused by the NTC have been very frustrating for me as I make
> mostly (historical) timeline maps and I relied heavily on the old
> TimeManager (OTM) plugin by Antia Graser and group. So many tasks are now
> much more laborious or difficult because so many tools are just not
> time-aware.
> >
> > Was it not possible to add the NTC in such a way that would have still
> let all the other features work as before with the filtered feature set
> before being made time-aware, rather than confusingly operating on the
> unfiltered set? Or perhaps it shouldn't have been turned on until the
> infrastructure was there for the tools to be time-aware right away?
> >
> > Because I've just submitted yet another bug about the NTC, this time for
> the selection tool, and it has me more than a little annoyed. As a result
> of this bug I now have an unknown number of duplicate objects in multiple
> layers across multiple databases/projects that I unknowingly pasted into
> them over the past several months since the NTC was added to QGIS.
> >
> > I feel that the NTC was both poorly thought out and badly implemented as
> all these bugs would indicate.
>
> I can empathise with your frustration, but this is a very complex
> discussion!
>
> As background, I implemented time handling for vector layers as a
> VOLUNTEER (completely unpaid). Would you have preferred I didn't do
> this, and we had no time support for vectors at all? Please be very
> wary of your language in future -- every piece of feedback worded like
> this directly equates to a developer losing interest in volunteering
> their time on QGIS, to the harm of all.
>
> I've fixed two of your issues here
> https://github.com/qgis/QGIS/pull/40834, as an UNPAID VOLUNTEER.
> Without funding I'm just not interested in fixing the snapping related
> issues. I don't personally have any need for these, and the QGIS
> snapping code isn't something I'm motivated in getting involved with
> at all. Perhaps there's another developer interested in looking at
> this, or perhaps a developer will take a look at this during the 3.18
> bug sprint. Or maybe someone will pay for this fix and financial gain
> will be the motivation.
>
> I like making the world a better place through volunteering my time on
> making a first-class desktop mapping application, but I'm far from
> being a slave to this, and my family, garden, and drum kit want my
> time too!
>
> Nyall
>
>
>
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210104/b95f122e/attachment.html>

From maps at hanfastolfe.com  Mon Jan  4 13:03:01 2021
From: maps at hanfastolfe.com (Cory Albrecht)
Date: Mon, 4 Jan 2021 16:03:01 -0500
Subject: [QGIS-Developer] Temporal controller issues
In-Reply-To: <CAMW5rY+EePvMh24EvBpBPREj=f92B2_jKbS9Dwnt5M+C3t7vUA@mail.gmail.com>
References: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
 <CAB28AsiMyHaZu+KfGS0u47=krMdCpAXdwsG09P028OHRhuZGRQ@mail.gmail.com>
 <CAMW5rY+EePvMh24EvBpBPREj=f92B2_jKbS9Dwnt5M+C3t7vUA@mail.gmail.com>
Message-ID: <CAMW5rY+R0cB1HZ16EAdiXdMjaAhC0pMNh4M4cKrTUG+V_6JkGw@mail.gmail.com>

> I hear what you're saying, Nyall, I apologise if it sounded harsh, but
what do you want me to say after I find out that the latest of several bugs
has compromised my data and now I have to hunt down an unknown number of
duplicates silently created over the last few months of work? If you
empathise, do you understand how all these bugs and my data being
compromised might make me feel that this feature was not done very well and
that there was a lack of adequate testing?

And now I just found that I have data loss as well, not just a bunch of
duplicates.

On Mon, Jan 4, 2021 at 2:40 PM Cory Albrecht <maps at hanfastolfe.com> wrote:

> > Please be very wary of your language in future -- every piece of
> feedback worded like this directly equates to a developer losing interest
> in volunteering their time on QGIS, to the harm of all.
>
> I hear what you're saying, Nyall, I apologise if it sounded harsh, but
> what do you want me to say after I find out that the latest of several bugs
> has compromised my data and now I have to hunt down an unknown number of
> duplicates silently created over the last few months of work? If you
> empathise, do you understand how all these bugs and my data being
> compromised might make me feel that this feature was not done very well and
> that there was a lack of adequate testing?
>
> > As background, I implemented time handling for vector layers as a VOLUNTEER
> (completely unpaid). Would you have preferred I didn't do this, and we
> had no time support for vectors at all?
>
> As to what I would have preferred, well, I've reverted back to 3.10 to use
> the old TimeManager plugin to avoid using the NTC. I would have preferred
> that the feature branch you used to implement the NTC had not gotten merged
> and the feature included in release versions until it had been checked to
> work with and not break basic features like the selection tool. So now I
> have to work under some Damoclean time limit for a couple of months until
> 3.16 replaces 3.10 and I will have no choice but to move to a version with
> the NTC and these bugs.
>
> On Sun, Jan 3, 2021 at 9:32 PM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>
>> On Sat, 2 Jan 2021 at 10:23, Cory Albrecht <maps at hanfastolfe.com> wrote:
>> >
>> > Can somebody help me under the basics of how things work inside QGIS
>> starting from when it loads all the features for a layer through the steps,
>> and then finally drawing them on the map canvas, specifically with respect
>> to the new temporal controller (NTC)?
>> >
>> > The issues caused by the NTC have been very frustrating for me as I
>> make mostly (historical) timeline maps and I relied heavily on the old
>> TimeManager (OTM) plugin by Antia Graser and group. So many tasks are now
>> much more laborious or difficult because so many tools are just not
>> time-aware.
>> >
>> > Was it not possible to add the NTC in such a way that would have still
>> let all the other features work as before with the filtered feature set
>> before being made time-aware, rather than confusingly operating on the
>> unfiltered set? Or perhaps it shouldn't have been turned on until the
>> infrastructure was there for the tools to be time-aware right away?
>> >
>> > Because I've just submitted yet another bug about the NTC, this time
>> for the selection tool, and it has me more than a little annoyed. As a
>> result of this bug I now have an unknown number of duplicate objects in
>> multiple layers across multiple databases/projects that I unknowingly
>> pasted into them over the past several months since the NTC was added to
>> QGIS.
>> >
>> > I feel that the NTC was both poorly thought out and badly implemented
>> as all these bugs would indicate.
>>
>> I can empathise with your frustration, but this is a very complex
>> discussion!
>>
>> As background, I implemented time handling for vector layers as a
>> VOLUNTEER (completely unpaid). Would you have preferred I didn't do
>> this, and we had no time support for vectors at all? Please be very
>> wary of your language in future -- every piece of feedback worded like
>> this directly equates to a developer losing interest in volunteering
>> their time on QGIS, to the harm of all.
>>
>> I've fixed two of your issues here
>> https://github.com/qgis/QGIS/pull/40834, as an UNPAID VOLUNTEER.
>> Without funding I'm just not interested in fixing the snapping related
>> issues. I don't personally have any need for these, and the QGIS
>> snapping code isn't something I'm motivated in getting involved with
>> at all. Perhaps there's another developer interested in looking at
>> this, or perhaps a developer will take a look at this during the 3.18
>> bug sprint. Or maybe someone will pay for this fix and financial gain
>> will be the motivation.
>>
>> I like making the world a better place through volunteering my time on
>> making a first-class desktop mapping application, but I'm far from
>> being a slave to this, and my family, garden, and drum kit want my
>> time too!
>>
>> Nyall
>>
>>
>>
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210104/9d799d8c/attachment.html>

From nyall.dawson at gmail.com  Tue Jan  5 01:59:59 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 5 Jan 2021 19:59:59 +1000
Subject: [QGIS-Developer] Temporal controller issues
In-Reply-To: <CAMW5rY+EePvMh24EvBpBPREj=f92B2_jKbS9Dwnt5M+C3t7vUA@mail.gmail.com>
References: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
 <CAB28AsiMyHaZu+KfGS0u47=krMdCpAXdwsG09P028OHRhuZGRQ@mail.gmail.com>
 <CAMW5rY+EePvMh24EvBpBPREj=f92B2_jKbS9Dwnt5M+C3t7vUA@mail.gmail.com>
Message-ID: <CAB28AshLqGQfGn0qVgNhR7Ec2ZtvWh0spTARK5gmQimFj+Xp3A@mail.gmail.com>

On Tue, 5 Jan 2021 at 05:42, Cory Albrecht <maps at hanfastolfe.com> wrote:
>
> > Please be very wary of your language in future -- every piece of feedback worded like this directly equates to a developer losing interest in volunteering their time on QGIS, to the harm of all.
>
> I hear what you're saying, Nyall, I apologise if it sounded harsh, but what do you want me to say after I find out that the latest of several bugs has compromised my data and now I have to hunt down an unknown number of duplicates silently created over the last few months of work? If you empathise, do you understand how all these bugs and my data being compromised might make me feel that this feature was not done very well and that there was a lack of adequate testing?
>
> > As background, I implemented time handling for vector layers as a VOLUNTEER (completely unpaid). Would you have preferred I didn't do this, and we had no time support for vectors at all?
>
> As to what I would have preferred, well, I've reverted back to 3.10 to use the old TimeManager plugin to avoid using the NTC. I would have preferred that the feature branch you used to implement the NTC had not gotten merged and the feature included in release versions until it had been checked to work with and not break basic features like the selection tool. So now I have to work under some Damoclean time limit for a couple of months until 3.16 replaces 3.10 and I will have no choice but to move to a version with the NTC and these bugs.

Full disclosure: I don't even really consider these issues as bugs.
Functionality gaps, yes, but it's important to keep in mind that the
new temporal framework was designed primarily around visualisation of
time based data, and that using it for data analysis has been a
secondary goal which has been slowly chipped away at since the initial
implementation. The selection tool was NEVER broken, it was just never
upgraded to be time aware. There's plenty of features in  QGIS which
don't completely work alongside each other, and these are not always
bugs but often are feature requests.

I'd rather shelve that part of the discussion now, because I suspect
we'll just keep going around in circles here at increasing levels of
emotion, and I don't think that's healthy. I realise there's hurt
here, but I DO think you are a valuable member of this community and
I've much appreciated your previous diligence with submitting quality
tickets. I'd rather move forward and find a way that we can move past
this.

Which leads me to a question: what exactly do you think should have
been done differently here? The way I see it:

1. The temporal framework was in discussion and consultation phases
for years prior to implementation. There were public calls for
comments on the related QEPs, and consultation with all relevant
stakeholders, including representatives from Kartoza (WMS-T), Lutra
(mesh temporal handling), and the Time Manager plugin maintainers.  It
was a group effort which pulled in ALL the expertise and experience of
the QGIS project community.

2. QGIS already has some of the most stringent and rigorous code
review processes around, and the pull requests implementing the
temporal framework were subject to all these processes and peer
review. There's plenty of developers who would attest to how difficult
it is to get code merged into QGIS, due to the very strict coding
guidelines and processes which govern the codebase. I fail to see
anyway we could realistically further tighten these code review
requirements without completely strangling the development of QGIS.

3. If you're asking for the pace of feature development to be slowed
then that problem was addressed years ago when the LTR releases were
introduced. The QGIS website is quite clear in advertising the LTR as
the officially recommended version for stability and for mission
critical work, while the non-LTR releases are clearly branded as
"bleeding edge". I'd make the case that in the situation you've
described you should never have been using the non-LTR release for
this work without doing your full diligence to determine that it
worked correctly in your workflow. And guess what? Most of the bugs
are now fixed in time for 3.16.4, when 3.16 officially becomes the
next LTR release! Again, I can't see how the project can do anything
differently here. In fact, the next LTR (3.16) will even be supported
for a massive 2 year period to ensure even more stable releases are
available for mission critical work.

So I ask again, in the full spirit of reconciliation and moving
forward: what concrete, practical changes do YOU think the project
should make?

Nyall



>
> On Sun, Jan 3, 2021 at 9:32 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>
>> On Sat, 2 Jan 2021 at 10:23, Cory Albrecht <maps at hanfastolfe.com> wrote:
>> >
>> > Can somebody help me under the basics of how things work inside QGIS starting from when it loads all the features for a layer through the steps, and then finally drawing them on the map canvas, specifically with respect to the new temporal controller (NTC)?
>> >
>> > The issues caused by the NTC have been very frustrating for me as I make mostly (historical) timeline maps and I relied heavily on the old TimeManager (OTM) plugin by Antia Graser and group. So many tasks are now much more laborious or difficult because so many tools are just not time-aware.
>> >
>> > Was it not possible to add the NTC in such a way that would have still let all the other features work as before with the filtered feature set before being made time-aware, rather than confusingly operating on the unfiltered set? Or perhaps it shouldn't have been turned on until the infrastructure was there for the tools to be time-aware right away?
>> >
>> > Because I've just submitted yet another bug about the NTC, this time for the selection tool, and it has me more than a little annoyed. As a result of this bug I now have an unknown number of duplicate objects in multiple layers across multiple databases/projects that I unknowingly pasted into them over the past several months since the NTC was added to QGIS.
>> >
>> > I feel that the NTC was both poorly thought out and badly implemented as all these bugs would indicate.
>>
>> I can empathise with your frustration, but this is a very complex discussion!
>>
>> As background, I implemented time handling for vector layers as a
>> VOLUNTEER (completely unpaid). Would you have preferred I didn't do
>> this, and we had no time support for vectors at all? Please be very
>> wary of your language in future -- every piece of feedback worded like
>> this directly equates to a developer losing interest in volunteering
>> their time on QGIS, to the harm of all.
>>
>> I've fixed two of your issues here
>> https://github.com/qgis/QGIS/pull/40834, as an UNPAID VOLUNTEER.
>> Without funding I'm just not interested in fixing the snapping related
>> issues. I don't personally have any need for these, and the QGIS
>> snapping code isn't something I'm motivated in getting involved with
>> at all. Perhaps there's another developer interested in looking at
>> this, or perhaps a developer will take a look at this during the 3.18
>> bug sprint. Or maybe someone will pay for this fix and financial gain
>> will be the motivation.
>>
>> I like making the world a better place through volunteering my time on
>> making a first-class desktop mapping application, but I'm far from
>> being a slave to this, and my family, garden, and drum kit want my
>> time too!
>>
>> Nyall
>>
>>
>>
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From matteo.ghetta at gmail.com  Tue Jan  5 03:08:08 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 5 Jan 2021 12:08:08 +0100
Subject: [QGIS-Developer] QgsProcessingParameterDateTime with default value
Message-ID: <06ff445f-b92a-6480-cae5-158e7f763f48@gmail.com>

Hi all,

I noticed that even with defaultValue=NULL or defaultValue=None or other 
attempts, QgsProcessingParameterDateTime fills the parameter with the 
current date (or datetime).

Is it possible to have the calendar view empty?

Cheers and thanks

Matteo

From jdaniel.lomenede at gmail.com  Tue Jan  5 03:54:10 2021
From: jdaniel.lomenede at gmail.com (JD L)
Date: Tue, 5 Jan 2021 12:54:10 +0100
Subject: [QGIS-Developer] Current script path from python console
Message-ID: <CAFHejDQab=Ed_xR5WK0DwFQf9ybcOK79deA_qk86KEeMenw8aw@mail.gmail.com>

Hi devs,

for a long time I used that code to get the __file__ when running

my scripts from the QGis python console. Is there a better way ?

Thxs,

import osfrom console.console import _console

script_path = _console.console.tabEditorWidget.currentWidget().path
print(os.path.dirname(script_path))
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210105/8170cbb2/attachment.html>

From Jean-Francois.Bourdon at mffp.gouv.qc.ca  Tue Jan  5 07:27:18 2021
From: Jean-Francois.Bourdon at mffp.gouv.qc.ca (=?iso-8859-1?Q?Bourdon=2C_Jean-Fran=E7ois_=28DIF=29?=)
Date: Tue, 5 Jan 2021 15:27:18 +0000
Subject: [QGIS-Developer] stale bot :-(
In-Reply-To: <8a67256f-2202-8a04-1e8d-22c07bf5eeeb@masuch.de>
References: <5a879612-cf89-b5eb-45c3-f3b28bd15d5a@duif.net>
 <e1e0b15b-6294-0913-2305-f378262c2578@masuch.de>
 <CAB28AshTiVb5wZoASzquATga=Tp8LSBA-OxL+s5oct9Hb+UmqQ@mail.gmail.com>
 <8a67256f-2202-8a04-1e8d-22c07bf5eeeb@masuch.de>
Message-ID: <QB1PR01MB29488DA62DC347616F8F60A5B3D10@QB1PR01MB2948.CANPRD01.PROD.OUTLOOK.COM>

Not to hijack the thread, but that had me thinking about the current Bug report template on GitHub. At **QGIS and OS versions**, it's written <!-- In the QGIS Help menu -> About, click in the table, Ctrl+A and then Ctrl+C. Finally paste here -->. However when doing this, the about info is simply pasted line by line which make it long and less readable. Instead, could a Copy info button be added on the about window that copy the info in the clipboard as a nice markdown table ready to paste?





Jean-Fran?ois Bourdon, ing.f.

Analyste en t?l?d?tection

Direction des inventaires forestiers

Minist?re des For?ts, de la Faune et des Parcs

5700, 4e Avenue Ouest, local A-108

Qu?bec (Qu?bec) G1H 6R1

T?l?phone : 418 627-8669, poste 4304

jean-francois.bourdon at mffp.gouv.qc.ca

mffp.gouv.qc.ca



-----Message d'origine-----
De : QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> De la part de Karsten Tebling
Envoy? : 4 janvier 2021 02:40
? : Nyall Dawson <nyall.dawson at gmail.com>
Cc : qgis-developer <qgis-developer at lists.osgeo.org>
Objet : Re: [QGIS-Developer] stale bot :-(



Am 22.12.2020 um 23:23 schrieb Nyall Dawson:

> That sounds ideal, but unfortunately things just don't work that way.

> If your bug report is not reproducible there's a very low chance it

> will get fixed.

>

> So if you want your bug fixed, the motivation sits with you to make it

> as easy as possible for the bug triaging team/developers to reproduce.

> Honestly, if we (developers) can't reproduce a bug in <5 minutes,

> we'll just move to the next ticket in the queue and you've missed your

> chance at a fix...

>

> And that's exactly what stale bot and the feedback tag is designed to

> assist with -- it helps push the responsibility back to the bug

> submitter to make sure there's sufficient detail and a reproducible

> test case in the ticket. It's actually in place to avoid frustration

> caused by the "I submitted this ticket 12 months ago, why has nothing

> been done?!?!?" situation.

>

> Nyall





first of all, happy new year!



thanks for the detailed answer!



>From a user-point-of-view I thought the "Copy Report" would contain enough information needed to fix the issue. Knowing that you will skip reports/bugs that can't be reproduced within <5 minutes, I would suggest to change the text of the QGIS-crashed dialog to reflect that. Right now the text is "Include as much information as you can as well as steps to reproduce the issue if possible" - it would be better if the text would say something like "if you can reproduce..." or "if you can provide sample data that crashes..." or "if this crash occured more than once...". You could also remove the "Tell us something about when you got the crash." because it is both above the input field and in the input field - this way you have more room to explain what a helpful report is for you developers. This might help to save time for the developer and the user.



Even if you don't change anything I'm thankful for your answer, because now I know when to report and when not, which saves me precious time!



greetz



_______________________________________________

QGIS-Developer mailing list

QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>

List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer

Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210105/c2e7ec38/attachment.html>

From jedfrechette at gmail.com  Tue Jan  5 17:31:06 2021
From: jedfrechette at gmail.com (Jed Frechette)
Date: Tue, 5 Jan 2021 18:31:06 -0700
Subject: [QGIS-Developer] 3D View Interface Usability
In-Reply-To: <CAC2XbFfobjAthBp5jzb_bRHkZ2AmwZ0y5STT7TmexUdNi96Zdw@mail.gmail.com>
References: <CAACeADYVzqaY4Ny3FXOP9xF8dBB5mXRZ6XJZZKvGT-X-iGwy6w@mail.gmail.com>
 <CAC2XbFfobjAthBp5jzb_bRHkZ2AmwZ0y5STT7TmexUdNi96Zdw@mail.gmail.com>
Message-ID: <CAACeADaJmgBBZotaA1xgghtsUB0neeiGiupTjR7hCGigce227A@mail.gmail.com>

Hi Martin,

I?m glad to hear my impressions weren?t too far off. I do think there
are benefits to the GE style controls, especially for users that are
already familiar with that software. Perhaps it makes sense to keep
those controls as a separate navigation mode in addition to a new mode
that is better suited to more complex tasks? Although I guess there?s
the risk of muddying the interface by not picking one clear consistent
set of controls and optimizing them.

It?s interesting that you mention multiple viewports, as that would
actually be fairly low on my wish list. This may be a personal
preference, but I don?t use multiple views very often in applications
where I have access to them. There are definitely certain tasks which
are easier with multiple views so they are nice to have, but if I had
to choose I?d much rather have a single viewport that is very
efficient than multiple viewports that are less fluid. That?s what
most of my suggestions below are geared toward; a single viewport
where an experienced user can almost instantly navigate to the exact
view they want, potentially edit/create some data, and within a few
seconds be moving on to the next part of the scene.

I?ll provide links to a couple examples and videos at the end of my
post, but since there is so little consistency between 3D apps I want
to provide some justification for what I think works rather than just
say ?Make it like my favorite program.?

Regardless of the exact control scheme, I think the most important
observation to make when designing a 3D interface is that for any type
of interactive task the user is constantly switching between
navigating around the scene and using tools to perform actions, e.g.
identify, measure, digitize, etc.. Therefore, switching between those
two modes of interaction needs to be as quick and easy as possible.
Clicking toolbar icons to switch modes works but is probably the
slowest way to do it. Some applications try to overload the mouse
buttons so you can navigate and use tools at the same time, but I?ve
never used a system like that which I thought worked well. I think
it?s much better to make a clear distinction between navigate mode and
tool mode and make the user responsible for switching between them via
hotkey. That way your tools can make use of all 3 mouse buttons
independently of your navigation control scheme, which can also
utilize all 3 buttons.

Although various applications have made different choices about the
hotkey to use, to me the space bar is the obvious choice. The space
bar is the most used key when typing and the navigation hotkey will be
the most used key while navigating in 3D view so it should be the
space bar too. The navigate hotkey could be used as a toggle, e.g.
with a tool active tap the spacebar to switch to navigate mode then
tap it again when you want to go back to the tool. Alternatively, the
hotkey could be a modifier, e.g. hold down the spacebar to navigate
then release it to return to the tool. Both can work well, but I
prefer the modifier approach. A modifier removes the need for an
indicator, e.g. different cursors, for which mode you?re currently in
like you would need with a toggle. In addition a modifier can act as a
hint to stay in dynamic mode if your viewport is set up to improve
interactive performance by rendering different LODs based on whether
the camera is currently static or dynamically moving.

The specific navigation control scheme I would advocate for is:

Dolly along camera z-axis (Space + RMB or Scroll wheel)
==========================================
QGIS already behaves this way so no changes here. Usage of the scroll
wheel is also consistent between the 2D and 3D views so that?s good.

Track along camera x & y axes (Space + MMB, Space + Shift + RMB)
===================================
The middle mouse button is used for the same movement in the 2D view
so it would be good to stay consistent with that. The alternate
mapping, Space + Shift+ RMB, is for laptop users that only have 2
trackpad buttons. By tracking along the camera x & y axes instead of
GE style tracking navigation is much more intuitive in a fully 3D
world and you eliminate the orientation dependence I referred to in my
first post.

Tumble (Space + LMB)
=================
Tumbling in QGIS is already pretty good. The only change I would make
is to pivot around the cursor?s current position rather than the
center of the viewport. uclaros already suggested this in the tracker
[1] and it would make precise navigation much easier.

Roll around camera z-axis (Space + Ctrl + LMB)
===================================
This is really useful when you just want to level the camera relative
to the horizon.

Box zoom (Space + Ctrl + RMB)
========================
Good for zooming in to a specific region of the scene.

Other navigation controls could certainly be added, e.g. restricting
tumbling around additional axes, but I think the controls above cover
the majority of needs.

Two applications I think serve as good examples of what works well are
Houdini and PolyWorks. They have both been around for decades and even
though they serve very different types of users and are used in very
different ways their control schemes are remarkably similar. I used
their control schemes as the basis for the one I described above.
Houdini has good documentation, including lot?s of videos [2], and has
a free version so it is the easiest to observe in use. In contrast,
PolyWorks might cost you a kidney to evaluate. I do, however, have a
video I recorded a while ago showing it being used for some simple
feature extraction [3]. This is the kind of task I would love to be
able to do in QGIS. If I was designing a UI from the ground up for
that specific type of feature extraction it would be a little
different than what?s shown in the video, but it does give a good idea
of the type of fluid, highly interactive workflow, I?d be aiming for.

Hopefully, some of this is useful and provides some inspiration. I?m
afraid I?m not familiar enough with Qt to implement any of it myself,
but would love to be able to help in any other way that I can.

Best wishes,

[1] https://github.com/qgis/QGIS/issues/40530#issuecomment-742092974
[2] https://www.sidefx.com/docs/houdini/basics/view.html
[3] https://youtu.be/d5__-Vu6RkA?t=155


--
Jed Frechette

From pedrongvenancio at gmail.com  Wed Jan  6 15:45:36 2021
From: pedrongvenancio at gmail.com (=?UTF-8?Q?Pedro_Ven=C3=A2ncio?=)
Date: Wed, 6 Jan 2021 23:45:36 +0000
Subject: [QGIS-Developer] Issue with QGIS 3.16.2 standalone and GRASS
 7.8.4
In-Reply-To: <1609372039347-0.post@n6.nabble.com>
References: <CAMCJChv6xU9HHABT+a+n=OhsBmtVZUAGpOz2ooyQcerq0iPn5w@mail.gmail.com>
 <1609360330890-0.post@n6.nabble.com>
 <CAMCJChsVOH4BufUGw3_e3Sqgrj+aHVrEZTa4m8UjtkQ3=gSAhQ@mail.gmail.com>
 <1609372039347-0.post@n6.nabble.com>
Message-ID: <CAMCJChvkkXWGyJ+u9VYERv0eQ7=Y+XOEYoJ7zZ6Zzjq1B-irGg@mail.gmail.com>

Hi Andrea,

This seems fixed in 3.16.2-2 released yesterday:
https://qgis.org/downloads/QGIS-OSGeo4W-3.16.2-2-Setup-x86_64.exe

I believe 3.10.13-2 also fixes this issue.

Do you confirm?

Best regards,
Pedro


Andrea Giudiceandrea <andreaerdna at libero.it> escreveu no dia quarta,
30/12/2020 ?(s) 23:47:

> Pedro Ven?ncio-2 wrote
> > Hi Andrea,
> >
> > I believe this report is yours, right?
> > https://trac.osgeo.org/osgeo4w/ticket/655
>
> Yes.
>
> QGIS 3.16.2 and QGIS 3.10.13 installers contain GRASS 7.8.4 which needs
> gdal300.dll and proj_6_2.dll, but both the dlls are missing.
>
> On the contrary, GRASS 7.8.5 doesn't seem to need them.
>
> Regards.
>
> Andrea
>
>
>
> --
> Sent from:
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210106/a6442429/attachment.html>

From nyall.dawson at gmail.com  Wed Jan  6 16:42:27 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 7 Jan 2021 10:42:27 +1000
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
Message-ID: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>

Hi list,

I've a small request to consider for stale bot and issues/feature
requests. I think that if a ticket remains open for say > 90 days
since the last comment, it would be nice if stale bot added a comment
like:

"Unfortunately this bug/feature request has not seen any solution in
the recent QGIS release. If this fix/feature is important to you or
your organisation, you can help to fast-track its development by
sponsoring this work. To do so, contact one of the QGIS commercial
support providers listed at ... to discuss how you could fund this
functionality".

I think it's a non-threatening, non-begging way to advise bug
reporters on the alternative ways they can fast track development in
QGIS.

Thoughts?

Nyall

From maps at hanfastolfe.com  Wed Jan  6 18:32:48 2021
From: maps at hanfastolfe.com (Cory Albrecht)
Date: Wed, 6 Jan 2021 21:32:48 -0500
Subject: [QGIS-Developer] Temporal controller issues
In-Reply-To: <CAB28AshLqGQfGn0qVgNhR7Ec2ZtvWh0spTARK5gmQimFj+Xp3A@mail.gmail.com>
References: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
 <CAB28AsiMyHaZu+KfGS0u47=krMdCpAXdwsG09P028OHRhuZGRQ@mail.gmail.com>
 <CAMW5rY+EePvMh24EvBpBPREj=f92B2_jKbS9Dwnt5M+C3t7vUA@mail.gmail.com>
 <CAB28AshLqGQfGn0qVgNhR7Ec2ZtvWh0spTARK5gmQimFj+Xp3A@mail.gmail.com>
Message-ID: <CAMW5rYJfMdMY2WOhkv=2wEYuQE19JJ=wAfYS5emymHLnSn8rXA@mail.gmail.com>

>  and that using it for data analysis has been a secondary goal


I'm not doing any data analysis. In fact, I doubt that I use even 10% of
QGIS's capability.


I draw a feature that is the Kingdom of France and set the start_date and
end_date attributes appropriately (with yyyy-mm-dd resolution) and set a
few other features (colour, default name, government type, etc...). Then I
copy that feature, move the time frame to the day after end_date, paste,
and edit the attributes of that new feature as the Second French Republic.
Then again as the Second French Empire, then the Third Republic, and so on.
If I make an error, like somehow I didn't get the border with Belgium quite
right I will use either the Vertex Tool (from the Digitizing Toolbar) or
the Reshape Features Tool (from the Advanced Digitizing Toolbar), depending
on the scale of the edit. If that feature that I am pasting has its borders
change (like when the Second French Empire lost Alsace to the German
Empire), I will use the Split Features Tool to carve off a chunk to merge
with that other feature.


That's like 90% of my QGIS workflow right there, the drawing and simple
editing of features. The rest is creating print layouts for exporting to
SVG to work on artistic renderings. Nothing fancy and no data analysis.
It's a simple data entry workflow.


> 1. The temporal framework was in discussion and consultation phases

for years prior to implementation.


Then how did something as simple as the selection tool selecting stuff that
is not there get past this? Did nobody say "Hey, we need to make sure that
when the NTC is turned on that other parts of the application work as
expected"?


For example, one can add all sorts of SQL-like filters to a layer
datasource (which was how the TimeManager plugin worked, if I understand
correctly) and the selection tool, vertex tool, and so on are not broken by
that. When somebody turns on the NTC, it is reasonable for them to expect
that the filtering it does would act in a similar manner to those SQL-like
filters added manually to a layer, yes?


This is why in my initial email I asked about the pipeline from retrieval
of features in the layer's data provider to drawing them on the canvas.
Prior to the NTC, did tools like selection, vertex, identify, and so on
work off of the same "root" list of features that the map canvas drawer
worked from? Because these bugs suggest an implementation that either
creates a second, filtered list of features and the canvas draws gets
passed that list instead of the "root" list while the tools still work off
of the "root" list, or that the canvas drawing code was modified to to do
the temporal filtering itself and draw only a subset of the "root" list
passed to it.


You?ve said that you had to fix the bugs I reported separately, but why? To
my mind, the NTC should be filtering that "root" list of features, and then
nothing else needs to be modified. Not the code that calls the canvas
drawer method, not the code for the selection tool. Not the code of the
identify feature tool. Don?t change the tools to be time-aware
individually, keep them time-agnostic and change the dataset that gets
passed to them, and implement that in a centralized location. Then later
when somebody with that rare use case of needing to select even the
filtered-out features asks for it, you can modify that centralized location
to return the full dataset, not the temporally filtered one if certain
conditions are met, like an app setting or using the Alt key when clicking
on the canvas, or whatever, and it will work for all tools, not just one.


(I?m willing to bet you a $100 donation that usage cases that need the
selection tool to work on all the features including those filtered out by
the NTC and not drawn is tiny to nonexistent, compared to the one where the
tool is expected to work in a WYSIWYG manner only on the visible features.
If I am wrong, I'll double that donation.)


However, since I do not know the codebase, I asked for that help in
understanding how the NTC was implemented and why that way, due to other
considerations of which I would be unaware that prevented that. It was also
why I phrased my final line of criticism as ?I feel? rather than as a
statement of fact.


> 2. QGIS already has some of the most stringent and rigorous code review
processes around, and the pull requests implementing the temporal framework
were subject to all these processes and peer review.


Then how did this problem get past that review? Did nobody take the feature
branch, compile it, then run QGIS and do some common, simple tasks
regarding data entry with the NTC turned on to see that those tools are
working on the ?root? layer data and not the filtered data one sees on the
map canvas? (Or an automated GUI test harness that does the same thing?) Or
was it only tested by loading a project with temporal layers and changing
the viewing time frame and seeing that only matching features were drawn on
the map canvas?


> 3. If you're asking for the pace of feature development to be slowed

then that problem was addressed years ago when the LTR releases were

introduced.


No, not at all. That was purely a semantics comment about not using
standard terminology, which makes things confusing.


> The QGIS website is quite clear in advertising the LTR as the officially
recommended version for stability and for mission critical work, while the
non-LTR releases are clearly branded as "bleeding edge".


I would disagree about that clarity. When you go to the main page, for
example, there's just a download button with text underneath saying
"Version 3.16.2 Version 3.10.13 LTR". On the download page it just says
"riches on features" and "most stable". And the user manual for 3.16 itself
says "We recommend that you use this version over previous releases."


I couldn't find anything with the qgis.org search feature that says what
you say here.


> I'd make the case that in the situation you've described you should never
have been using the non-LTR release


Unfortunately I've been somewhat forced into using master because other
bugs I have reported about how QGIS handles array fields in PostGIS layers.
Without those fixes I sometimes couldn't even work on my maps because I
couldn't save features without data corruption, or sometimes not even save
at all. Those fixes, when they finally got done (and some still aren't),
took a while to end up in the LTR.


> So I ask again, in the full spirit of reconciliation and moving forward:
what concrete, practical changes do YOU think the project should make?


Testing, like I mentioned above. Better testing.


The NTC affects what gets displayed on the map canvas, therefore other
tools that operate on features on the map canvas should have been tested to
see how the interacted with the NTC. "Does my new capability hide features
from the map canvas? I should test the tools that one can use on features
on the the map canvas to make sure it doesn't operate on the features
hidden by my new capability.? Do you see how it looks like that type of
testing was not done before the branch with the NTC got merged with master?

On Tue, Jan 5, 2021 at 5:00 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Tue, 5 Jan 2021 at 05:42, Cory Albrecht <maps at hanfastolfe.com> wrote:
> >
> > > Please be very wary of your language in future -- every piece of
> feedback worded like this directly equates to a developer losing interest
> in volunteering their time on QGIS, to the harm of all.
> >
> > I hear what you're saying, Nyall, I apologise if it sounded harsh, but
> what do you want me to say after I find out that the latest of several bugs
> has compromised my data and now I have to hunt down an unknown number of
> duplicates silently created over the last few months of work? If you
> empathise, do you understand how all these bugs and my data being
> compromised might make me feel that this feature was not done very well and
> that there was a lack of adequate testing?
> >
> > > As background, I implemented time handling for vector layers as a
> VOLUNTEER (completely unpaid). Would you have preferred I didn't do this,
> and we had no time support for vectors at all?
> >
> > As to what I would have preferred, well, I've reverted back to 3.10 to
> use the old TimeManager plugin to avoid using the NTC. I would have
> preferred that the feature branch you used to implement the NTC had not
> gotten merged and the feature included in release versions until it had
> been checked to work with and not break basic features like the selection
> tool. So now I have to work under some Damoclean time limit for a couple of
> months until 3.16 replaces 3.10 and I will have no choice but to move to a
> version with the NTC and these bugs.
>
> Full disclosure: I don't even really consider these issues as bugs.
> Functionality gaps, yes, but it's important to keep in mind that the
> new temporal framework was designed primarily around visualisation of
> time based data, and that using it for data analysis has been a
> secondary goal which has been slowly chipped away at since the initial
> implementation. The selection tool was NEVER broken, it was just never
> upgraded to be time aware. There's plenty of features in  QGIS which
> don't completely work alongside each other, and these are not always
> bugs but often are feature requests.
>
> I'd rather shelve that part of the discussion now, because I suspect
> we'll just keep going around in circles here at increasing levels of
> emotion, and I don't think that's healthy. I realise there's hurt
> here, but I DO think you are a valuable member of this community and
> I've much appreciated your previous diligence with submitting quality
> tickets. I'd rather move forward and find a way that we can move past
> this.
>
> Which leads me to a question: what exactly do you think should have
> been done differently here? The way I see it:
>
> 1. The temporal framework was in discussion and consultation phases
> for years prior to implementation. There were public calls for
> comments on the related QEPs, and consultation with all relevant
> stakeholders, including representatives from Kartoza (WMS-T), Lutra
> (mesh temporal handling), and the Time Manager plugin maintainers.  It
> was a group effort which pulled in ALL the expertise and experience of
> the QGIS project community.
>
> 2. QGIS already has some of the most stringent and rigorous code
> review processes around, and the pull requests implementing the
> temporal framework were subject to all these processes and peer
> review. There's plenty of developers who would attest to how difficult
> it is to get code merged into QGIS, due to the very strict coding
> guidelines and processes which govern the codebase. I fail to see
> anyway we could realistically further tighten these code review
> requirements without completely strangling the development of QGIS.
>
> 3. If you're asking for the pace of feature development to be slowed
> then that problem was addressed years ago when the LTR releases were
> introduced. The QGIS website is quite clear in advertising the LTR as
> the officially recommended version for stability and for mission
> critical work, while the non-LTR releases are clearly branded as
> "bleeding edge". I'd make the case that in the situation you've
> described you should never have been using the non-LTR release for
> this work without doing your full diligence to determine that it
> worked correctly in your workflow. And guess what? Most of the bugs
> are now fixed in time for 3.16.4, when 3.16 officially becomes the
> next LTR release! Again, I can't see how the project can do anything
> differently here. In fact, the next LTR (3.16) will even be supported
> for a massive 2 year period to ensure even more stable releases are
> available for mission critical work.
>
> So I ask again, in the full spirit of reconciliation and moving
> forward: what concrete, practical changes do YOU think the project
> should make?
>
> Nyall
>
>
>
> >
> > On Sun, Jan 3, 2021 at 9:32 PM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
> >>
> >> On Sat, 2 Jan 2021 at 10:23, Cory Albrecht <maps at hanfastolfe.com>
> wrote:
> >> >
> >> > Can somebody help me under the basics of how things work inside QGIS
> starting from when it loads all the features for a layer through the steps,
> and then finally drawing them on the map canvas, specifically with respect
> to the new temporal controller (NTC)?
> >> >
> >> > The issues caused by the NTC have been very frustrating for me as I
> make mostly (historical) timeline maps and I relied heavily on the old
> TimeManager (OTM) plugin by Antia Graser and group. So many tasks are now
> much more laborious or difficult because so many tools are just not
> time-aware.
> >> >
> >> > Was it not possible to add the NTC in such a way that would have
> still let all the other features work as before with the filtered feature
> set before being made time-aware, rather than confusingly operating on the
> unfiltered set? Or perhaps it shouldn't have been turned on until the
> infrastructure was there for the tools to be time-aware right away?
> >> >
> >> > Because I've just submitted yet another bug about the NTC, this time
> for the selection tool, and it has me more than a little annoyed. As a
> result of this bug I now have an unknown number of duplicate objects in
> multiple layers across multiple databases/projects that I unknowingly
> pasted into them over the past several months since the NTC was added to
> QGIS.
> >> >
> >> > I feel that the NTC was both poorly thought out and badly implemented
> as all these bugs would indicate.
> >>
> >> I can empathise with your frustration, but this is a very complex
> discussion!
> >>
> >> As background, I implemented time handling for vector layers as a
> >> VOLUNTEER (completely unpaid). Would you have preferred I didn't do
> >> this, and we had no time support for vectors at all? Please be very
> >> wary of your language in future -- every piece of feedback worded like
> >> this directly equates to a developer losing interest in volunteering
> >> their time on QGIS, to the harm of all.
> >>
> >> I've fixed two of your issues here
> >> https://github.com/qgis/QGIS/pull/40834, as an UNPAID VOLUNTEER.
> >> Without funding I'm just not interested in fixing the snapping related
> >> issues. I don't personally have any need for these, and the QGIS
> >> snapping code isn't something I'm motivated in getting involved with
> >> at all. Perhaps there's another developer interested in looking at
> >> this, or perhaps a developer will take a look at this during the 3.18
> >> bug sprint. Or maybe someone will pay for this fix and financial gain
> >> will be the motivation.
> >>
> >> I like making the world a better place through volunteering my time on
> >> making a first-class desktop mapping application, but I'm far from
> >> being a slave to this, and my family, garden, and drum kit want my
> >> time too!
> >>
> >> Nyall
> >>
> >>
> >>
> >> > _______________________________________________
> >> > QGIS-Developer mailing list
> >> > QGIS-Developer at lists.osgeo.org
> >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210106/4510e904/attachment-0001.html>

From nyall.dawson at gmail.com  Wed Jan  6 21:38:02 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 7 Jan 2021 15:38:02 +1000
Subject: [QGIS-Developer] Temporal controller issues
In-Reply-To: <CAMW5rYJfMdMY2WOhkv=2wEYuQE19JJ=wAfYS5emymHLnSn8rXA@mail.gmail.com>
References: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
 <CAB28AsiMyHaZu+KfGS0u47=krMdCpAXdwsG09P028OHRhuZGRQ@mail.gmail.com>
 <CAMW5rY+EePvMh24EvBpBPREj=f92B2_jKbS9Dwnt5M+C3t7vUA@mail.gmail.com>
 <CAB28AshLqGQfGn0qVgNhR7Ec2ZtvWh0spTARK5gmQimFj+Xp3A@mail.gmail.com>
 <CAMW5rYJfMdMY2WOhkv=2wEYuQE19JJ=wAfYS5emymHLnSn8rXA@mail.gmail.com>
Message-ID: <CAB28AshdQkZr7fkSg8T24viwaq2LZes4u51x2EKc8xgc8nT6VA@mail.gmail.com>

I'm going to respond to your project-level criticism first, and then
following that I'll give a technical response:


On Thu, 7 Jan 2021 at 12:33, Cory Albrecht <maps at hanfastolfe.com> wrote:
>
> >  and that using it for data analysis has been a secondary goal
>
>
> I'm not doing any data analysis. In fact, I doubt that I use even 10% of QGIS's capability.

By analysis I mean: "anything that's not just viewing data".

> > 1. The temporal framework was in discussion and consultation phases
>
> for years prior to implementation.
>
>
> Then how did something as simple as the selection tool selecting stuff that is not there get past this? Did nobody say "Hey, we need to make sure that when the NTC is turned on that other parts of the application work as expected"?

Bingo. You're the first to bring up the issue with the selection and
map tip tools. Guess that shows that we need more people like you
involved with the discussion, testing, and review process.

>
> > 2. QGIS already has some of the most stringent and rigorous code review processes around, and the pull requests implementing the temporal framework were subject to all these processes and peer review.
>
>
> Then how did this problem get past that review? Did nobody take the feature branch, compile it, then run QGIS and do some common, simple tasks regarding data entry with the NTC turned on to see that those tools are working on the ?root? layer data and not the filtered data one sees on the map canvas? (Or an automated GUI test harness that does the same thing?) Or was it only tested by loading a project with temporal layers and changing the viewing time frame and seeing that only matching features were drawn on the map canvas?

Of course they did. But no-one anticipated your use case and tested that.

(Hint: YOU could have been this person. There's nothing special about
anyone that qualifies them to be part of a mystical "qgis beta
testing" group. No-one is paid to do that. No-one is elected to do it.
All it takes is downloading the nightlies prior to release and running
them through YOUR workflows. So I reflect this criticism right back on
you -- why didn't YOU beta test QGIS and ensure that it worked for
your workflow? Are YOU going to get involved and ensure this doesn't
happen again? If your answer is "no" then I suggest you take some time
away from this community and come back when you've had a chance to
meditate and reflect on how open-source works.)

>
>
> > 3. If you're asking for the pace of feature development to be slowed
>
> then that problem was addressed years ago when the LTR releases were
>
> introduced.
>
>
> No, not at all. That was purely a semantics comment about not using standard terminology, which makes things confusing.
>
>
> > The QGIS website is quite clear in advertising the LTR as the officially recommended version for stability and for mission critical work, while the non-LTR releases are clearly branded as "bleeding edge".
>
>
> I would disagree about that clarity. When you go to the main page, for example, there's just a download button with text underneath saying "Version 3.16.2 Version 3.10.13 LTR". On the download page it just says "riches on features" and "most stable". And the user manual for 3.16 itself says "We recommend that you use this version over previous releases."
>
>
> I couldn't find anything with the qgis.org search feature that says what you say here.
>
>
> > I'd make the case that in the situation you've described you should never have been using the non-LTR release
>
>
> Unfortunately I've been somewhat forced into using master because other bugs I have reported about how QGIS handles array fields in PostGIS layers. Without those fixes I sometimes couldn't even work on my maps because I couldn't save features without data corruption, or sometimes not even save at all. Those fixes, when they finally got done (and some still aren't), took a while to end up in the LTR.
>
>
> > So I ask again, in the full spirit of reconciliation and moving forward: what concrete, practical changes do YOU think the project should make?
>
>
> Testing, like I mentioned above. Better testing.

Great, thanks for volunteering to do this! Like I said above, we need
more beta testers, and I'm looking forward to your testing and
feedback. (yes, that was semi-sarcastic. But this whole thing only
works when everyone gets involved).


Now the technical part:

> For example, one can add all sorts of SQL-like filters to a layer datasource (which was how the TimeManager plugin worked, if I understand correctly) and the selection tool, vertex tool, and so on are not broken by that. When somebody turns on the NTC, it is reasonable for them to expect that the filtering it does would act in a similar manner to those SQL-like filters added manually to a layer, yes?

Time manager indeed piggy backed onto the layer sql filter
functionality to implement time filtering. This had some advantages in
that the temporal filtering became an innate property of the layer,
but it was ultimately a dead end. There were issues with using the
layer filter which couldn't be resolved, including:
- poor UX -- users could not edit the layer filter while time manager
was active, as the changes would either break time manager's temporal
filter or would get immediately discarded as soon as time manager
changed the temporal part of the filter.
- constant fighting with time formats, and provider-specific support:
because layer sql filters are handed directly off to the underlying
backend, their syntax varies provider by provider. This means that the
time manager approach becomes a tricky/fragile balancing act of
provider-specific filter clauses. This also led to the requirement of
strict time format constraints, which again varied provider by
provider (and sometimes even locale by locale). While that's fine for
a plugin, we wanted to ensure that time handling in qgis core was as
seamless and pain-free as possible, and would work transparently
across all data sources. Thus a different approach was required.

> This is why in my initial email I asked about the pipeline from retrieval of features in the layer's data provider to drawing them on the canvas. Prior to the NTC, did tools like selection, vertex, identify, and so on work off of the same "root" list of features that the map canvas drawer worked from?

No, everything in qgis works on a request-by-request, iterator based
approach. The map rendering requests a subset of features from the
backend and uses it to draw. A map tool sends off another
tool-specific request to get back the desired subset of features it
needs. An attribute table display again sends off a new request each
time it's opened. Some providers (eg Arcgis Feature Server provider,
WFS provider) locally cache and renew the features, but others get
them anew with each new request*. There's no master/"root" list of
features associated with a layer.

(* a generic local cache of features is highly desirable and would
really boost QGIS performance, but it's not a trivial task, and to
quote a famous guy: "the laborers are few".)

> Because these bugs suggest an implementation that either creates a second, filtered list of features and the canvas draws gets passed that list instead of the "root" list while the tools still work off of the "root" list, or that the canvas drawing code was modified to to do the temporal filtering itself and draw only a subset of the "root" list passed to it.

See above -- the map tools indeed send off their own request for the
features they want. Some of the tools restrict the request to features
visible in canvas, others don't. Some ignore the canvas filtering by
design, others don't and should be investigated accordingly.

> You?ve said that you had to fix the bugs I reported separately, but why? To my mind, the NTC should be filtering that "root" list of features, and then nothing else needs to be modified.

Again, there's no such list to draw on.

> Not the code that calls the canvas drawer method, not the code for the selection tool. Not the code of the identify feature tool. Don?t change the tools to be time-aware individually, keep them time-agnostic and change the dataset that gets passed to them, and implement that in a centralized location. Then later when somebody with that rare use case of needing to select even the filtered-out features asks for it, you can modify that centralized location to return the full dataset, not the temporally filtered one if certain conditions are met, like an app setting or using the Alt key when clicking on the canvas, or whatever, and it will work for all tools, not just one.

Yes, this would be a desirable refactoring of the canvas and map tools
class, e.g. to add a getVisibleFeatureRequest() method to
QgsMapCanvas, and then call this from the map tools and refine as
necessary. A lot of QGIS developers do this kind of refactoring and
code clean up on a nearly daily basis... and don't get paid for it.
Yep, that sucks. Yep, it's totally unfair. To quote another famous
guy: "such is life".

I'm not interested in doing this refactoring at all...  My motivation
to work on map tools and temporal handling is 0. I've used up all my
emotional energy in that sphere on this email thread. That said, I'll
gladly review a pull request doing this refactoring if you want to get
involved and constructively contribute back to the project.

> (I?m willing to bet you a $100 donation that usage cases that need the selection tool to work on all the features including those filtered out by the NTC and not drawn is tiny to nonexistent, compared to the one where the tool is expected to work in a WYSIWYG manner only on the visible features. If I am wrong, I'll double that donation.)

Why not just take your $$$ and directly fund (partially/fully ??) the
fixes you want. That's the MOST effective way to get things
added/fixed in QGIS. (If you don't like that, blame Adam Smith...)

Nyall


>
>
> However, since I do not know the codebase, I asked for that help in understanding how the NTC was implemented and why that way, due to other considerations of which I would be unaware that prevented that. It was also why I phrased my final line of criticism as ?I feel? rather than as a statement of fact.
>
Nyall

>
>
> The NTC affects what gets displayed on the map canvas, therefore other tools that operate on features on the map canvas should have been tested to see how the interacted with the NTC. "Does my new capability hide features from the map canvas? I should test the tools that one can use on features on the the map canvas to make sure it doesn't operate on the features hidden by my new capability.? Do you see how it looks like that type of testing was not done before the branch with the NTC got merged with master?
>
>
> On Tue, Jan 5, 2021 at 5:00 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>
>> On Tue, 5 Jan 2021 at 05:42, Cory Albrecht <maps at hanfastolfe.com> wrote:
>> >
>> > > Please be very wary of your language in future -- every piece of feedback worded like this directly equates to a developer losing interest in volunteering their time on QGIS, to the harm of all.
>> >
>> > I hear what you're saying, Nyall, I apologise if it sounded harsh, but what do you want me to say after I find out that the latest of several bugs has compromised my data and now I have to hunt down an unknown number of duplicates silently created over the last few months of work? If you empathise, do you understand how all these bugs and my data being compromised might make me feel that this feature was not done very well and that there was a lack of adequate testing?
>> >
>> > > As background, I implemented time handling for vector layers as a VOLUNTEER (completely unpaid). Would you have preferred I didn't do this, and we had no time support for vectors at all?
>> >
>> > As to what I would have preferred, well, I've reverted back to 3.10 to use the old TimeManager plugin to avoid using the NTC. I would have preferred that the feature branch you used to implement the NTC had not gotten merged and the feature included in release versions until it had been checked to work with and not break basic features like the selection tool. So now I have to work under some Damoclean time limit for a couple of months until 3.16 replaces 3.10 and I will have no choice but to move to a version with the NTC and these bugs.
>>
>> Full disclosure: I don't even really consider these issues as bugs.
>> Functionality gaps, yes, but it's important to keep in mind that the
>> new temporal framework was designed primarily around visualisation of
>> time based data, and that using it for data analysis has been a
>> secondary goal which has been slowly chipped away at since the initial
>> implementation. The selection tool was NEVER broken, it was just never
>> upgraded to be time aware. There's plenty of features in  QGIS which
>> don't completely work alongside each other, and these are not always
>> bugs but often are feature requests.
>>
>> I'd rather shelve that part of the discussion now, because I suspect
>> we'll just keep going around in circles here at increasing levels of
>> emotion, and I don't think that's healthy. I realise there's hurt
>> here, but I DO think you are a valuable member of this community and
>> I've much appreciated your previous diligence with submitting quality
>> tickets. I'd rather move forward and find a way that we can move past
>> this.
>>
>> Which leads me to a question: what exactly do you think should have
>> been done differently here? The way I see it:
>>
>> 1. The temporal framework was in discussion and consultation phases
>> for years prior to implementation. There were public calls for
>> comments on the related QEPs, and consultation with all relevant
>> stakeholders, including representatives from Kartoza (WMS-T), Lutra
>> (mesh temporal handling), and the Time Manager plugin maintainers.  It
>> was a group effort which pulled in ALL the expertise and experience of
>> the QGIS project community.
>>
>> 2. QGIS already has some of the most stringent and rigorous code
>> review processes around, and the pull requests implementing the
>> temporal framework were subject to all these processes and peer
>> review. There's plenty of developers who would attest to how difficult
>> it is to get code merged into QGIS, due to the very strict coding
>> guidelines and processes which govern the codebase. I fail to see
>> anyway we could realistically further tighten these code review
>> requirements without completely strangling the development of QGIS.
>>
>> 3. If you're asking for the pace of feature development to be slowed
>> then that problem was addressed years ago when the LTR releases were
>> introduced. The QGIS website is quite clear in advertising the LTR as
>> the officially recommended version for stability and for mission
>> critical work, while the non-LTR releases are clearly branded as
>> "bleeding edge". I'd make the case that in the situation you've
>> described you should never have been using the non-LTR release for
>> this work without doing your full diligence to determine that it
>> worked correctly in your workflow. And guess what? Most of the bugs
>> are now fixed in time for 3.16.4, when 3.16 officially becomes the
>> next LTR release! Again, I can't see how the project can do anything
>> differently here. In fact, the next LTR (3.16) will even be supported
>> for a massive 2 year period to ensure even more stable releases are
>> available for mission critical work.
>>
>> So I ask again, in the full spirit of reconciliation and moving
>> forward: what concrete, practical changes do YOU think the project
>> should make?
>>
>> Nyall
>>
>>
>>
>> >
>> > On Sun, Jan 3, 2021 at 9:32 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:
>> >>
>> >> On Sat, 2 Jan 2021 at 10:23, Cory Albrecht <maps at hanfastolfe.com> wrote:
>> >> >
>> >> > Can somebody help me under the basics of how things work inside QGIS starting from when it loads all the features for a layer through the steps, and then finally drawing them on the map canvas, specifically with respect to the new temporal controller (NTC)?
>> >> >
>> >> > The issues caused by the NTC have been very frustrating for me as I make mostly (historical) timeline maps and I relied heavily on the old TimeManager (OTM) plugin by Antia Graser and group. So many tasks are now much more laborious or difficult because so many tools are just not time-aware.
>> >> >
>> >> > Was it not possible to add the NTC in such a way that would have still let all the other features work as before with the filtered feature set before being made time-aware, rather than confusingly operating on the unfiltered set? Or perhaps it shouldn't have been turned on until the infrastructure was there for the tools to be time-aware right away?
>> >> >
>> >> > Because I've just submitted yet another bug about the NTC, this time for the selection tool, and it has me more than a little annoyed. As a result of this bug I now have an unknown number of duplicate objects in multiple layers across multiple databases/projects that I unknowingly pasted into them over the past several months since the NTC was added to QGIS.
>> >> >
>> >> > I feel that the NTC was both poorly thought out and badly implemented as all these bugs would indicate.
>> >>
>> >> I can empathise with your frustration, but this is a very complex discussion!
>> >>
>> >> As background, I implemented time handling for vector layers as a
>> >> VOLUNTEER (completely unpaid). Would you have preferred I didn't do
>> >> this, and we had no time support for vectors at all? Please be very
>> >> wary of your language in future -- every piece of feedback worded like
>> >> this directly equates to a developer losing interest in volunteering
>> >> their time on QGIS, to the harm of all.
>> >>
>> >> I've fixed two of your issues here
>> >> https://github.com/qgis/QGIS/pull/40834, as an UNPAID VOLUNTEER.
>> >> Without funding I'm just not interested in fixing the snapping related
>> >> issues. I don't personally have any need for these, and the QGIS
>> >> snapping code isn't something I'm motivated in getting involved with
>> >> at all. Perhaps there's another developer interested in looking at
>> >> this, or perhaps a developer will take a look at this during the 3.18
>> >> bug sprint. Or maybe someone will pay for this fix and financial gain
>> >> will be the motivation.
>> >>
>> >> I like making the world a better place through volunteering my time on
>> >> making a first-class desktop mapping application, but I'm far from
>> >> being a slave to this, and my family, garden, and drum kit want my
>> >> time too!
>> >>
>> >> Nyall
>> >>
>> >>
>> >>
>> >> > _______________________________________________
>> >> > QGIS-Developer mailing list
>> >> > QGIS-Developer at lists.osgeo.org
>> >> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From matthias at opengis.ch  Thu Jan  7 00:33:05 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 7 Jan 2021 09:33:05 +0100
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
References: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
Message-ID: <CAC7zN95M3pakuo5N3T-FcWLf=AbPv-qqePc1z4fss77G7YO+3w@mail.gmail.com>

Hi Nyall,

I would also appreciate a hint like this.
Maybe it could be done even more subtle by shortening this text and adding
a link to a page "learn how to make things progress"?

I'd also very much appreciate the voices of users on this topic (that's a
classical "we don't only want to hear the dev side" topic).

Matthias

On Thu, Jan 7, 2021 at 1:42 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> Hi list,
>
> I've a small request to consider for stale bot and issues/feature
> requests. I think that if a ticket remains open for say > 90 days
> since the last comment, it would be nice if stale bot added a comment
> like:
>
> "Unfortunately this bug/feature request has not seen any solution in
> the recent QGIS release. If this fix/feature is important to you or
> your organisation, you can help to fast-track its development by
> sponsoring this work. To do so, contact one of the QGIS commercial
> support providers listed at ... to discuss how you could fund this
> functionality".
>
> I think it's a non-threatening, non-begging way to advise bug
> reporters on the alternative ways they can fast track development in
> QGIS.
>
> Thoughts?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210107/6341d2b0/attachment.html>

From jdaniel.lomenede at gmail.com  Thu Jan  7 01:09:32 2021
From: jdaniel.lomenede at gmail.com (JD L)
Date: Thu, 7 Jan 2021 10:09:32 +0100
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <CAC7zN95M3pakuo5N3T-FcWLf=AbPv-qqePc1z4fss77G7YO+3w@mail.gmail.com>
References: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
 <CAC7zN95M3pakuo5N3T-FcWLf=AbPv-qqePc1z4fss77G7YO+3w@mail.gmail.com>
Message-ID: <CAFHejDSTkxSCdQBXHTe5EmyZC0Y199dLtmKKR5Ogt=FOYd5UcA@mail.gmail.com>

Hi

As a user and employee of a French administration, I think what is
proposed would be an excellent reminder. Open source is not free.


Le jeu. 7 janv. 2021 ? 09:33, Matthias Kuhn <matthias at opengis.ch> a ?crit :

> Hi Nyall,
>
> I would also appreciate a hint like this.
> Maybe it could be done even more subtle by shortening this text and adding
> a link to a page "learn how to make things progress"?
>
> I'd also very much appreciate the voices of users on this topic (that's a
> classical "we don't only want to hear the dev side" topic).
>
> Matthias
>
> On Thu, Jan 7, 2021 at 1:42 AM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>
>> Hi list,
>>
>> I've a small request to consider for stale bot and issues/feature
>> requests. I think that if a ticket remains open for say > 90 days
>> since the last comment, it would be nice if stale bot added a comment
>> like:
>>
>> "Unfortunately this bug/feature request has not seen any solution in
>> the recent QGIS release. If this fix/feature is important to you or
>> your organisation, you can help to fast-track its development by
>> sponsoring this work. To do so, contact one of the QGIS commercial
>> support providers listed at ... to discuss how you could fund this
>> functionality".
>>
>> I think it's a non-threatening, non-begging way to advise bug
>> reporters on the alternative ways they can fast track development in
>> QGIS.
>>
>> Thoughts?
>>
>> Nyall
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210107/ad2ab06c/attachment-0001.html>

From topi at gispo.fi  Thu Jan  7 01:12:53 2021
From: topi at gispo.fi (Topi Tjukanov)
Date: Thu, 7 Jan 2021 11:12:53 +0200
Subject: [QGIS-Developer] Plugin licensing requirements
Message-ID: <CAGCGCso5HZS-B1xJT0MjFfa+F=+XrS6JfNeZ6L0SOb-pbL4n0w@mail.gmail.com>

Howdy list,

One question that keeps popping up with QGIS plugin development is one
regarding the licensing requirements. As per my understanding the plugins
have to be GPL compatible (GPL2 or higher) and that is what these
resources also suggest:
https://blog.qgis.org/2016/05/29/licensing-requirements-for-qgis-plugins/
https://gis.stackexchange.com/questions/61065/qgis-plugin-licence

If that is the requirement, why plugins are accepted to the official
repository with various licenses and the requirement is not enforced in any
way?
For example here are a few I found quickly with a random check:

   - MIT license: https://plugins.qgis.org/plugins/XYZHubConnector/
   - MIT license: https://github.com/gee-community/qgis-earthengine-plugin
   - No license: https://github.com/riccardoklinger/amaps

So if this really is a requirement, should this be enforced somehow and
checked when plugins are accepted to the official repository?

Kind regards,
Topi Tjukanov
Gispo Oy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210107/969f6343/attachment.html>

From nyall.dawson at gmail.com  Thu Jan  7 01:43:28 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 7 Jan 2021 19:43:28 +1000
Subject: [QGIS-Developer] Plugin licensing requirements
In-Reply-To: <CAGCGCso5HZS-B1xJT0MjFfa+F=+XrS6JfNeZ6L0SOb-pbL4n0w@mail.gmail.com>
References: <CAGCGCso5HZS-B1xJT0MjFfa+F=+XrS6JfNeZ6L0SOb-pbL4n0w@mail.gmail.com>
Message-ID: <CAB28AsgMJuRb3S0sn8vGe041qCnpyyeyRsmC0FDCWaatUK70gQ@mail.gmail.com>

On Thu, 7 Jan 2021 at 19:13, Topi Tjukanov <topi at gispo.fi> wrote:
>
> Howdy list,
>
> One question that keeps popping up with QGIS plugin development is one regarding the licensing requirements. As per my understanding the plugins have to be GPL compatible (GPL2 or higher) and that is what these resources also suggest:
> https://blog.qgis.org/2016/05/29/licensing-requirements-for-qgis-plugins/
> https://gis.stackexchange.com/questions/61065/qgis-plugin-licence

>
> If that is the requirement, why plugins are accepted to the official repository with various licenses and the requirement is not enforced in any way?
> For example here are a few I found quickly with a random check:
>
> MIT license: https://plugins.qgis.org/plugins/XYZHubConnector/
> MIT license: https://github.com/gee-community/qgis-earthengine-plugin


> No license: https://github.com/riccardoklinger/amaps

This one is fine -- it just uses license headers, eg
https://github.com/riccardoklinger/amaps/blob/master/amaps.py#L15

> So if this really is a requirement, should this be enforced somehow and checked when plugins are accepted to the official repository?

Agreed, but keep in mind that it's a little tricky sometimes. A plugin
ONLY has to make the modules which import QGIS classes GPL (and
consequently any other modules which import these modules). It is
entirely possible to separate plugins into two isolated components, a
non-GPL "core" layer which does NOT use any QGIS modules, and a GPL
layer which imports both the QGIS modules and the non-gpl core. (This
is how the licensed SLYR plugin works, for reference).

So to enforce this in some circumstances you'd need to check
file-by-file, which is going to be time-consuming.

Nyall


>
> Kind regards,
> Topi Tjukanov
> Gispo Oy
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From Steiger at cor-management.ch  Thu Jan  7 04:55:22 2021
From: Steiger at cor-management.ch (Stefan Steiger)
Date: Thu, 7 Jan 2021 12:55:22 +0000
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <20210107121128.2F4A21340B8@control02-haj2.antispameurope.com>
References: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
 <CAC7zN95M3pakuo5N3T-FcWLf=AbPv-qqePc1z4fss77G7YO+3w@mail.gmail.com>
 <20210107121128.2F4A21340B8@control02-haj2.antispameurope.com>
Message-ID: <FR2P281MB010858285EC077AFA25589DAE4AF0@FR2P281MB0108.DEUP281.PROD.OUTLOOK.COM>

>> As a user and employee of a French administration, I think what is proposed would be an excellent reminder. Open source is not free.


Wrong on so many levels.

First: GPL = Free Software
So since the license of QGIS is GPL, it?s free software.
?Free Software? means that along with the software, you get the source code for free, included in that is the freedom to change and redistribute it.
Free as in Freedom. That does not mean it?s gratis.

Second: ?OpenSource? is not the same as 'Free Software'
?OpenSource? merely means you have the source.
It doesn?t mean you?re allowed to change or redistribute it.
It also doesn?t mean it?s gratis.
So ?OpenSource? is much worse than GPL./ 'Free Software'.

Third misconception:
Free (as in freedom) doesn?t mean it?s gratis.
It just means you have the freedom to alter and redistribute the software, provided you abide by the license?s requirements, which means granting the same right to others.
It also doesn?t mean somebody else does your work for you, or pays somebody else to do your work for you.
Therefore QGIS is indeed free, just not gratis.

What you mean to say is that Free is not Gratis.
That?s a truism/platitude.

Also, if you use commercial software, you pay far more for the same, and you don?t have ANY guarantee that ANY bug is fixed, even if you can pay.
You also cannot usually pay anyone else than the original company to do some work on it, even if somebody else could do the same work far cheaper.
With commercial software, you also don?t have any guarantee that the product isn?t discontinued tomorrow, or taken into a completely different direction.

As with plugins:
As long as they are NOT distributed with the software BY DEFAULT, they don?t necessarily have to abide by the GPL.
As long as you only use it internally (e.g. on a WebServer), you don?t have to abide by the terms of the GPL (the Affero<https://en.wikipedia.org/wiki/Affero_General_Public_License>/Application-Service-Provider loophole).



Von: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> Im Auftrag von JD L
Gesendet: Donnerstag, 7. Januar 2021 10:10
An: Matthias Kuhn <matthias at opengis.ch>
Cc: qgis-developer <qgis-developer at lists.osgeo.org>
Betreff: Re: [QGIS-Developer] Stale bot and older requests/issues - possible enhancement


Hi

As a user and employee of a French administration, I think what is proposed would be an excellent reminder. Open source is not free.

Le jeu. 7 janv. 2021 ? 09:33, Matthias Kuhn <matthias at opengis.ch<mailto:matthias at opengis.ch>> a ?crit :
Hi Nyall,

I would also appreciate a hint like this.
Maybe it could be done even more subtle by shortening this text and adding a link to a page "learn how to make things progress"?

I'd also very much appreciate the voices of users on this topic (that's a classical "we don't only want to hear the dev side" topic).

Matthias

On Thu, Jan 7, 2021 at 1:42 AM Nyall Dawson <nyall.dawson at gmail.com<mailto:nyall.dawson at gmail.com>> wrote:
Hi list,

I've a small request to consider for stale bot and issues/feature
requests. I think that if a ticket remains open for say > 90 days
since the last comment, it would be nice if stale bot added a comment
like:

"Unfortunately this bug/feature request has not seen any solution in
the recent QGIS release. If this fix/feature is important to you or
your organisation, you can help to fast-track its development by
sponsoring this work. To do so, contact one of the QGIS commercial
support providers listed at ... to discuss how you could fund this
functionality".

I think it's a non-threatening, non-begging way to advise bug
reporters on the alternative ways they can fast track development in
QGIS.

Thoughts?

Nyall
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210107/66302e1c/attachment-0001.html>

From giovanni.manghi at gmail.com  Thu Jan  7 05:20:13 2021
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Thu, 7 Jan 2021 13:20:13 +0000
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <mailman.11524.1609986806.26371.qgis-developer@lists.osgeo.org>
References: <mailman.11524.1609986806.26371.qgis-developer@lists.osgeo.org>
Message-ID: <CACfnYnSoKXDyp58ums7NgMrQn-ZEHMZ8A7x+GxaX83KJYAax1g@mail.gmail.com>

> I've a small request to consider for stale bot and issues/feature
> requests. I think that if a ticket remains open for say > 90 days
> since the last comment, it would be nice if stale bot added a comment
> like:
>
> "Unfortunately this bug/feature request has not seen any solution in
> the recent QGIS release. If this fix/feature is important to you or
> your organisation, you can help to fast-track its development by
> sponsoring this work. To do so, contact one of the QGIS commercial
> support providers listed at ... to discuss how you could fund this
> functionality".
>
> I think it's a non-threatening, non-begging way to advise bug
> reporters on the alternative ways they can fast track development in
> QGIS.

yes please!

cheers

-- G --

From jdaniel.lomenede at gmail.com  Thu Jan  7 05:47:55 2021
From: jdaniel.lomenede at gmail.com (JD L)
Date: Thu, 7 Jan 2021 14:47:55 +0100
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <FR2P281MB010858285EC077AFA25589DAE4AF0@FR2P281MB0108.DEUP281.PROD.OUTLOOK.COM>
References: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
 <CAC7zN95M3pakuo5N3T-FcWLf=AbPv-qqePc1z4fss77G7YO+3w@mail.gmail.com>
 <20210107121128.2F4A21340B8@control02-haj2.antispameurope.com>
 <FR2P281MB010858285EC077AFA25589DAE4AF0@FR2P281MB0108.DEUP281.PROD.OUTLOOK.COM>
Message-ID: <CAFHejDSOhvkO9ibf-X4Y8jxiNaXhsASA5Z-Z5K9-_LCRNvj8ZA@mail.gmail.com>

My bad, it's a bad translation on my part. I though "gratuit" in French
translated to free (free of charges). I'm totally agree with you. That will
teach me to give my opinion in the language if Shakespeare.

Le jeu. 7 janv. 2021 ? 13:55, Stefan Steiger <Steiger at cor-management.ch> a
?crit :

> >> As a user and employee of a French administration, I think what is proposed would be an excellent reminder. Open source is not free.
>
>
>
> Wrong on so many levels.
>
>
>
> First: GPL = Free Software
>
> So since the license of QGIS is GPL, it?s free software.
>
> ?Free Software? means that along with the software, you get the source
> code for free, included in that is the freedom to change and redistribute
> it.
>
> Free as in Freedom. That does not mean it?s gratis.
>
>
>
> Second: ?OpenSource? is not the same as 'Free Software'
>
> ?OpenSource? merely means you have the source.
>
> It doesn?t mean you?re allowed to change or redistribute it.
>
> It also doesn?t mean it?s gratis.
>
> So ?OpenSource? is much worse than GPL./ 'Free Software'.
>
>
>
> Third misconception:
>
> Free (as in freedom) doesn?t mean it?s gratis.
>
> It just means you have the freedom to alter and redistribute the software,
> provided you abide by the license?s requirements, which means granting the
> same right to others.
>
> It also doesn?t mean somebody else does your work for you, or pays
> somebody else to do your work for you.
>
> Therefore QGIS is indeed free, just not gratis.
>
>
>
> What you mean to say is that Free is not Gratis.
>
> That?s a truism/platitude.
>
>
>
> Also, if you use commercial software, you pay far more for the same, and
> you don?t have ANY guarantee that ANY bug is fixed, even if you can pay.
>
> You also cannot usually pay anyone else than the original company to do
> some work on it, even if somebody else could do the same work far cheaper.
>
> With commercial software, you also don?t have any guarantee that the
> product isn?t discontinued tomorrow, or taken into a completely different
> direction.
>
>
>
> As with plugins:
>
> As long as they are NOT distributed with the software BY DEFAULT, they
> don?t necessarily have to abide by the GPL.
>
> As long as you only use it internally (e.g. on a WebServer), you don?t
> have to abide by the terms of the GPL (the Affero
> <https://en.wikipedia.org/wiki/Affero_General_Public_License>/Application-Service-Provider
> loophole).
>
>
>
>
>
>
>
> *Von:* QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> *Im
> Auftrag von *JD L
> *Gesendet:* Donnerstag, 7. Januar 2021 10:10
> *An:* Matthias Kuhn <matthias at opengis.ch>
> *Cc:* qgis-developer <qgis-developer at lists.osgeo.org>
> *Betreff:* Re: [QGIS-Developer] Stale bot and older requests/issues -
> possible enhancement
>
>
>
> Hi
>
> As a user and employee of a French administration, I think what is proposed would be an excellent reminder. Open source is not free.
>
>
>
> Le jeu. 7 janv. 2021 ? 09:33, Matthias Kuhn <matthias at opengis.ch> a
> ?crit :
>
> Hi Nyall,
>
>
>
> I would also appreciate a hint like this.
>
> Maybe it could be done even more subtle by shortening this text and adding
> a link to a page "learn how to make things progress"?
>
>
>
> I'd also very much appreciate the voices of users on this topic (that's a
> classical "we don't only want to hear the dev side" topic).
>
>
>
> Matthias
>
>
>
> On Thu, Jan 7, 2021 at 1:42 AM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>
> Hi list,
>
> I've a small request to consider for stale bot and issues/feature
> requests. I think that if a ticket remains open for say > 90 days
> since the last comment, it would be nice if stale bot added a comment
> like:
>
> "Unfortunately this bug/feature request has not seen any solution in
> the recent QGIS release. If this fix/feature is important to you or
> your organisation, you can help to fast-track its development by
> sponsoring this work. To do so, contact one of the QGIS commercial
> support providers listed at ... to discuss how you could fund this
> functionality".
>
> I think it's a non-threatening, non-begging way to advise bug
> reporters on the alternative ways they can fast track development in
> QGIS.
>
> Thoughts?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210107/d032d4c1/attachment.html>

From jef at norbit.de  Thu Jan  7 08:30:41 2021
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Thu, 7 Jan 2021 17:30:41 +0100
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <FR2P281MB010858285EC077AFA25589DAE4AF0@FR2P281MB0108.DEUP281.PROD.OUTLOOK.COM>
References: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
 <CAC7zN95M3pakuo5N3T-FcWLf=AbPv-qqePc1z4fss77G7YO+3w@mail.gmail.com>
 <20210107121128.2F4A21340B8@control02-haj2.antispameurope.com>
 <FR2P281MB010858285EC077AFA25589DAE4AF0@FR2P281MB0108.DEUP281.PROD.OUTLOOK.COM>
Message-ID: <20210107163041.jq3yybhtvdxzxnac@norbit.de>

Hi Stefan,

On Thu, 07. Jan 2021 at 12:55:22 +0000, Stefan Steiger wrote:
> Also, if you use commercial software, 

you probably meant to say proprietary software - as you correctly said free
software is not required to be free of charge and hence can be commercial too.

> As with plugins:
> As long as they are NOT distributed with the software BY DEFAULT, they don?t
> necessarily have to abide by the GPL.

If they are derived from GPL software they also have to be GPL - and most QGIS
plugins have no use without QGIS.


> As long as you only use it internally (e.g. on a WebServer), you don?t have
> to abide by the terms of the GPL (the
> Affero<https://en.wikipedia.org/wiki/Affero_General_Public_License>/Application-Service-Provider
> loophole).

You always have to abide the license terms - just if you don't redistribute,
many restrictions don't apply.


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210107/5fb32cfe/attachment.sig>

From vincent.ml at oslandia.com  Thu Jan  7 09:18:03 2021
From: vincent.ml at oslandia.com (Vincent Picavet (ml))
Date: Thu, 7 Jan 2021 18:18:03 +0100
Subject: [QGIS-Developer] Plugin licensing requirements
In-Reply-To: <CAB28AsgMJuRb3S0sn8vGe041qCnpyyeyRsmC0FDCWaatUK70gQ@mail.gmail.com>
References: <CAGCGCso5HZS-B1xJT0MjFfa+F=+XrS6JfNeZ6L0SOb-pbL4n0w@mail.gmail.com>
 <CAB28AsgMJuRb3S0sn8vGe041qCnpyyeyRsmC0FDCWaatUK70gQ@mail.gmail.com>
Message-ID: <40c15eb6-0c85-48ae-f78b-389bbe08d885@oslandia.com>

Hi,

On 07/01/2021 10:43, Nyall Dawson wrote:
> On Thu, 7 Jan 2021 at 19:13, Topi Tjukanov <topi at gispo.fi> wrote:
[..]
>> So if this really is a requirement, should this be enforced somehow and
>> checked when plugins are accepted to the official repository?
> 
> Agreed, but keep in mind that it's a little tricky sometimes. A plugin ONLY
> has to make the modules which import QGIS classes GPL (and consequently any
> other modules which import these modules). It is entirely possible to
> separate plugins into two isolated components, a non-GPL "core" layer which
> does NOT use any QGIS modules, and a GPL layer which imports both the QGIS
> modules and the non-gpl core. (This is how the licensed SLYR plugin works,
> for reference).

I would not bet any cent on these assertions. Would you have any serious
references supporting this ?

The GPL licence makes the code "viral" through the notion of "link". For Python
module, it is through import. A link is bidirectionnal, and therefore your whole
package if distributed is considered GPL.

As far as I know, the only way to have a GPL/proprietary coexistence is to have
distinct processes and inter-process communication ( through files, web
interfaces... ). And it can be even trickier if there are strong dependencies
between modules, which can be interpreted as "derived product" or "link", even
if there is no link as in "library link" between the modules.

Best regards,
Vincent


> 
> So to enforce this in some circumstances you'd need to check file-by-file,
> which is going to be time-consuming.
> 
> Nyall
> 
> 
>> 
>> Kind regards, Topi Tjukanov Gispo Oy 
>> _______________________________________________ QGIS-Developer mailing
>> list QGIS-Developer at lists.osgeo.org List info:
>> https://lists.osgeo.org/mailman/listinfo/qgis-developer Unsubscribe:
>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________ QGIS-Developer mailing list 
> QGIS-Developer at lists.osgeo.org List info:
> https://lists.osgeo.org/mailman/listinfo/qgis-developer Unsubscribe:
> https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 



From paul.wittle at dorsetcouncil.gov.uk  Thu Jan  7 09:57:28 2021
From: paul.wittle at dorsetcouncil.gov.uk (Paul Wittle)
Date: Thu, 7 Jan 2021 17:57:28 +0000
Subject: [QGIS-Developer] Loading WFS layers from GeoServer (Paul Wittle)
Message-ID: <CWXP265MB162314728A4CFFA557B5716FC8AF0@CWXP265MB1623.GBRP265.PROD.OUTLOOK.COM>

Hi,

I have now resolved the issue I was having and I'm posting in case it helps others.

In terms of ensuring the geometry type / projection is correct I have now moved to use the geometry_columns table (https://docs.geoserver.org/latest/en/user/data/database/oracle.html#using-the-geometry-metadata-table) but that didn't fix my issue.

The real issue was with the Namespace URI in the workspace definition. The URL I had used was actually a URL but it contained the ? character. This character was then being replicated into the XML definition in the WFS GML outputs.

I seems that MapInfo didn't mind this at all but QGIS was being picky for some reason. Given that it is a unique URI rather than a URL I just replaced the question mark with a forward splash and presto it is working now ?

Perhaps it is worth an update to the docs (https://docs.geoserver.org/latest/en/user/data/webadmin/workspaces.html#edit-a-workspace) to recommend that special characters are avoided but then I'm probably the only person in the world that has ever done it so I'm happy to just say it works and move on if we don't think it needs documenting. I will of course cross post this to the GeoServer mailing list as well as it is not a QGIS issue.

Thanks to those that tried to help me work out the issue and I hope this post is helpful to others.
Paul
This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to whom they are addressed. It may contain unclassified but sensitive or protectively marked material and should be handled accordingly. Unless you are the named addressee (or authorised to receive it for the addressee) you may not copy or use it, or disclose it to anyone else. If you have received this transmission in error please notify the sender immediately. All traffic may be subject to recording and/or monitoring in accordance with relevant legislation. Any views expressed in this message are those of the individual sender, except where the sender specifies and with authority, states them to be the views of Dorset Council. Dorset Council does not accept service of documents by fax or other electronic means. Virus checking: Whilst all reasonable steps have been taken to ensure that this electronic communication and its attachments whether encoded, encrypted or otherwise supplied are free from computer viruses, Dorset Council accepts no liability in respect of any loss, cost, damage or expense suffered as a result of accessing this message or any of its attachments. For information on how Dorset Council processes your information, please see www.dorsetcouncil.gov.uk/416433

From even.rouault at spatialys.com  Thu Jan  7 10:09:05 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 07 Jan 2021 19:09:05 +0100
Subject: [QGIS-Developer] Plugin licensing requirements
In-Reply-To: <40c15eb6-0c85-48ae-f78b-389bbe08d885@oslandia.com>
References: <CAGCGCso5HZS-B1xJT0MjFfa+F=+XrS6JfNeZ6L0SOb-pbL4n0w@mail.gmail.com>
 <CAB28AsgMJuRb3S0sn8vGe041qCnpyyeyRsmC0FDCWaatUK70gQ@mail.gmail.com>
 <40c15eb6-0c85-48ae-f78b-389bbe08d885@oslandia.com>
Message-ID: <8954510.n0nmDDVl8u@even-i700>

On jeudi 7 janvier 2021 18:18:03 CET Vincent Picavet (ml) wrote:
> Hi,
> 
> On 07/01/2021 10:43, Nyall Dawson wrote:
> > On Thu, 7 Jan 2021 at 19:13, Topi Tjukanov <topi at gispo.fi> wrote:
> [..]
> 
> >> So if this really is a requirement, should this be enforced somehow and
> >> checked when plugins are accepted to the official repository?
> > 
> > Agreed, but keep in mind that it's a little tricky sometimes. A plugin
> > ONLY
> > has to make the modules which import QGIS classes GPL (and consequently
> > any
> > other modules which import these modules). It is entirely possible to
> > separate plugins into two isolated components, a non-GPL "core" layer
> > which
> > does NOT use any QGIS modules, and a GPL layer which imports both the QGIS
> > modules and the non-gpl core. (This is how the licensed SLYR plugin works,
> > for reference).
> 
> I would not bet any cent on these assertions. Would you have any serious
> references supporting this ?
> 
> The GPL licence makes the code "viral" through the notion of "link". For
> Python module, it is through import. A link is bidirectionnal, and
> therefore your whole package if distributed is considered GPL.
> 
> As far as I know, the only way to have a GPL/proprietary coexistence is to
> have distinct processes and inter-process communication ( through files,
> web interfaces... ). And it can be even trickier if there are strong
> dependencies between modules, which can be interpreted as "derived product"
> or "link", even if there is no link as in "library link" between the
> modules.

Those situations are tricky. Nyall's case looks to me a bit similar to the 
NVIDIA Linux kernel module:
- Linux kernel core : GPL
- shim layer for the NVIDIA driver: GPL
- NVIDIA blob that doesn't call GPL code: proprietary
NVIDIA claims that the blob isn't considered a derived work of the Linux 
kernel as it is OS-independent work.
Only a judge can ultimately decide what is a derived work or not.

Reference to a discussion regarding the NVIDIA case:
https://ipfs.io/ipfs/QmdA5WkDNALetBn4iFeSepHjdLGJdxPBwZyY47ir1bZGAK/comp/
linux/gpl_modules.html

https://www.gnu.org/licenses/gpl-faq.en.html#GPLIncompatibleLibs might also be 
relevant.

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From senhor.neto at gmail.com  Thu Jan  7 15:25:16 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Thu, 7 Jan 2021 23:25:16 +0000
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <CAC7zN95M3pakuo5N3T-FcWLf=AbPv-qqePc1z4fss77G7YO+3w@mail.gmail.com>
References: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
 <CAC7zN95M3pakuo5N3T-FcWLf=AbPv-qqePc1z4fss77G7YO+3w@mail.gmail.com>
Message-ID: <CA+H0G_HCnSCM6+jKexha=Dbz2k9hBzLB08HZhr84s77fnwma9g@mail.gmail.com>

As an user and member of a user group, the message does not offend at all.
This is something we struggle to explain to users and it's a good
opportunity to send the message.

 I prefer a long version instead of just a link (many won't click on it)

I am not a native english speaker, but I think using something like
"consider sponsoring" instead of "you can sponsor".

Also the term "fast track" for me is not very clear for me, again as
non-native english speaker.

Other than that +1

Alexandre Neto

A quinta, 7/01/2021, 08:33, Matthias Kuhn <matthias at opengis.ch> escreveu:

> Hi Nyall,
>
> I would also appreciate a hint like this.
> Maybe it could be done even more subtle by shortening this text and adding
> a link to a page "learn how to make things progress"?
>
> I'd also very much appreciate the voices of users on this topic (that's a
> classical "we don't only want to hear the dev side" topic).
>
> Matthias
>
> On Thu, Jan 7, 2021 at 1:42 AM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>
>> Hi list,
>>
>> I've a small request to consider for stale bot and issues/feature
>> requests. I think that if a ticket remains open for say > 90 days
>> since the last comment, it would be nice if stale bot added a comment
>> like:
>>
>> "Unfortunately this bug/feature request has not seen any solution in
>> the recent QGIS release. If this fix/feature is important to you or
>> your organisation, you can help to fast-track its development by
>> sponsoring this work. To do so, contact one of the QGIS commercial
>> support providers listed at ... to discuss how you could fund this
>> functionality".
>>
>> I think it's a non-threatening, non-begging way to advise bug
>> reporters on the alternative ways they can fast track development in
>> QGIS.
>>
>> Thoughts?
>>
>> Nyall
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210107/cf1a8f9a/attachment.html>

From nyall.dawson at gmail.com  Thu Jan  7 15:44:30 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 8 Jan 2021 09:44:30 +1000
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <CA+H0G_HCnSCM6+jKexha=Dbz2k9hBzLB08HZhr84s77fnwma9g@mail.gmail.com>
References: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
 <CAC7zN95M3pakuo5N3T-FcWLf=AbPv-qqePc1z4fss77G7YO+3w@mail.gmail.com>
 <CA+H0G_HCnSCM6+jKexha=Dbz2k9hBzLB08HZhr84s77fnwma9g@mail.gmail.com>
Message-ID: <CAB28Asj+16-Cih7rLJqveOTkdObXrF_b0ps1jEVhDyNOB7SbdQ@mail.gmail.com>

On Fri, 8 Jan 2021 at 09:25, Alexandre Neto <senhor.neto at gmail.com> wrote:
>
> As an user and member of a user group, the message does not offend at all. This is something we struggle to explain to users and it's a good opportunity to send the message.
>
>  I prefer a long version instead of just a link (many won't click on it)
>
> I am not a native english speaker, but I think using something like "consider sponsoring" instead of "you can sponsor".
>
> Also the term "fast track" for me is not very clear for me, again as non-native english speaker.

What I'm trying to convey here is that there's a chance the ticket
will be addressed without sponsorship, but if they DO sponsor it will
get addressed immediately. So "fast track" here means something a
little like "short cut".  Is there better wording you think may convey
this same meaning?

Nyall


>
> Other than that +1
>
> Alexandre Neto
>
> A quinta, 7/01/2021, 08:33, Matthias Kuhn <matthias at opengis.ch> escreveu:
>>
>> Hi Nyall,
>>
>> I would also appreciate a hint like this.
>> Maybe it could be done even more subtle by shortening this text and adding a link to a page "learn how to make things progress"?
>>
>> I'd also very much appreciate the voices of users on this topic (that's a classical "we don't only want to hear the dev side" topic).
>>
>> Matthias
>>
>> On Thu, Jan 7, 2021 at 1:42 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:
>>>
>>> Hi list,
>>>
>>> I've a small request to consider for stale bot and issues/feature
>>> requests. I think that if a ticket remains open for say > 90 days
>>> since the last comment, it would be nice if stale bot added a comment
>>> like:
>>>
>>> "Unfortunately this bug/feature request has not seen any solution in
>>> the recent QGIS release. If this fix/feature is important to you or
>>> your organisation, you can help to fast-track its development by
>>> sponsoring this work. To do so, contact one of the QGIS commercial
>>> support providers listed at ... to discuss how you could fund this
>>> functionality".
>>>
>>> I think it's a non-threatening, non-begging way to advise bug
>>> reporters on the alternative ways they can fast track development in
>>> QGIS.
>>>
>>> Thoughts?
>>>
>>> Nyall
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Thu Jan  7 15:50:55 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 8 Jan 2021 09:50:55 +1000
Subject: [QGIS-Developer] Plugin licensing requirements
In-Reply-To: <40c15eb6-0c85-48ae-f78b-389bbe08d885@oslandia.com>
References: <CAGCGCso5HZS-B1xJT0MjFfa+F=+XrS6JfNeZ6L0SOb-pbL4n0w@mail.gmail.com>
 <CAB28AsgMJuRb3S0sn8vGe041qCnpyyeyRsmC0FDCWaatUK70gQ@mail.gmail.com>
 <40c15eb6-0c85-48ae-f78b-389bbe08d885@oslandia.com>
Message-ID: <CAB28AshzABT2=zrw16CyMZZYx5+n13XXA0zRyTWNc9H0eRP2ag@mail.gmail.com>

On Fri, 8 Jan 2021 at 03:18, Vincent Picavet (ml)
<vincent.ml at oslandia.com> wrote:
>
> Hi,
>
> On 07/01/2021 10:43, Nyall Dawson wrote:
> > On Thu, 7 Jan 2021 at 19:13, Topi Tjukanov <topi at gispo.fi> wrote:
> [..]
> >> So if this really is a requirement, should this be enforced somehow and
> >> checked when plugins are accepted to the official repository?
> >
> > Agreed, but keep in mind that it's a little tricky sometimes. A plugin ONLY
> > has to make the modules which import QGIS classes GPL (and consequently any
> > other modules which import these modules). It is entirely possible to
> > separate plugins into two isolated components, a non-GPL "core" layer which
> > does NOT use any QGIS modules, and a GPL layer which imports both the QGIS
> > modules and the non-gpl core. (This is how the licensed SLYR plugin works,
> > for reference).
>
> I would not bet any cent on these assertions. Would you have any serious
> references supporting this ?

No, you're correct -- there's basically only a lot of untested
theories out there, but as far as I can see no definitive answer to
this/legal outcome which has put these theories it to the test.

As you've pointed out the safest approach is complete separation
between the layers. But that approach is still entirely possible to do
for many QGIS plugins, so my original point about it being time
consuming to determine whether a certain file in a plugin's repo is
correctly licensed still stands. Maybe the whole enforcement thing
would just be an unnecessary time sink for the QGIS project itself,
and we're better off just leaving this to the "community" to police...

Nyall



>
> The GPL licence makes the code "viral" through the notion of "link". For Python
> module, it is through import. A link is bidirectionnal, and therefore your whole
> package if distributed is considered GPL.
>
> As far as I know, the only way to have a GPL/proprietary coexistence is to have
> distinct processes and inter-process communication ( through files, web
> interfaces... ). And it can be even trickier if there are strong dependencies
> between modules, which can be interpreted as "derived product" or "link", even
> if there is no link as in "library link" between the modules.
>
> Best regards,
> Vincent
>
>
> >
> > So to enforce this in some circumstances you'd need to check file-by-file,
> > which is going to be time-consuming.
> >
> > Nyall
> >
> >
> >>
> >> Kind regards, Topi Tjukanov Gispo Oy
> >> _______________________________________________ QGIS-Developer mailing
> >> list QGIS-Developer at lists.osgeo.org List info:
> >> https://lists.osgeo.org/mailman/listinfo/qgis-developer Unsubscribe:
> >> https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > _______________________________________________ QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org List info:
> > https://lists.osgeo.org/mailman/listinfo/qgis-developer Unsubscribe:
> > https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
>

From nyall.dawson at gmail.com  Thu Jan  7 15:53:43 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 8 Jan 2021 09:53:43 +1000
Subject: [QGIS-Developer] Temporal controller issues
In-Reply-To: <CAB28AshdQkZr7fkSg8T24viwaq2LZes4u51x2EKc8xgc8nT6VA@mail.gmail.com>
References: <CAMW5rYKMm=YSnhQuLZuHMRAM+yaxNkVXCBn7f4=dMrjtktDOXg@mail.gmail.com>
 <CAB28AsiMyHaZu+KfGS0u47=krMdCpAXdwsG09P028OHRhuZGRQ@mail.gmail.com>
 <CAMW5rY+EePvMh24EvBpBPREj=f92B2_jKbS9Dwnt5M+C3t7vUA@mail.gmail.com>
 <CAB28AshLqGQfGn0qVgNhR7Ec2ZtvWh0spTARK5gmQimFj+Xp3A@mail.gmail.com>
 <CAMW5rYJfMdMY2WOhkv=2wEYuQE19JJ=wAfYS5emymHLnSn8rXA@mail.gmail.com>
 <CAB28AshdQkZr7fkSg8T24viwaq2LZes4u51x2EKc8xgc8nT6VA@mail.gmail.com>
Message-ID: <CAB28AsisPXWWLpMvccXV7a0zD90dXZ_Vj_zvrfPyqEHULnPq8Q@mail.gmail.com>

On Thu, 7 Jan 2021 at 15:38, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>
> > For example, one can add all sorts of SQL-like filters to a layer datasource (which was how the TimeManager plugin worked, if I understand correctly) and the selection tool, vertex tool, and so on are not broken by that. When somebody turns on the NTC, it is reasonable for them to expect that the filtering it does would act in a similar manner to those SQL-like filters added manually to a layer, yes?
>
> Time manager indeed piggy backed onto the layer sql filter
> functionality to implement time filtering. This had some advantages in
> that the temporal filtering became an innate property of the layer,
> but it was ultimately a dead end. There were issues with using the
> layer filter which couldn't be resolved, including:
> - poor UX -- users could not edit the layer filter while time manager
> was active, as the changes would either break time manager's temporal
> filter or would get immediately discarded as soon as time manager
> changed the temporal part of the filter.
> - constant fighting with time formats, and provider-specific support:
> because layer sql filters are handed directly off to the underlying
> backend, their syntax varies provider by provider. This means that the
> time manager approach becomes a tricky/fragile balancing act of
> provider-specific filter clauses. This also led to the requirement of
> strict time format constraints, which again varied provider by
> provider (and sometimes even locale by locale). While that's fine for
> a plugin, we wanted to ensure that time handling in qgis core was as
> seamless and pain-free as possible, and would work transparently
> across all data sources. Thus a different approach was required.

Bah, I realised I forget THE most important point here:
- Layer based filters are universal, and apply everywhere in QGIS.
Using them for temporal filtering would mean it's impossible to have
different views of the layer showing different time ranges (e.g one
map canvas filtered to a certain time range and another showing all
data, or different layout maps showing different slices of temporal
data, e.g. a print layout with a map for January, February, etc). The
final approach used ensures that we can flexibly control the time
range per map render, so we're free to have a different time range
visible in a 2d map vs a 3d map vs a print layout map.

Nyall

From senhor.neto at gmail.com  Thu Jan  7 16:51:16 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Fri, 8 Jan 2021 00:51:16 +0000
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <CAB28Asj+16-Cih7rLJqveOTkdObXrF_b0ps1jEVhDyNOB7SbdQ@mail.gmail.com>
References: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
 <CAC7zN95M3pakuo5N3T-FcWLf=AbPv-qqePc1z4fss77G7YO+3w@mail.gmail.com>
 <CA+H0G_HCnSCM6+jKexha=Dbz2k9hBzLB08HZhr84s77fnwma9g@mail.gmail.com>
 <CAB28Asj+16-Cih7rLJqveOTkdObXrF_b0ps1jEVhDyNOB7SbdQ@mail.gmail.com>
Message-ID: <CA+H0G_F3=Gz++kCXsO_X2DDMgVqU=Unpk05nHgdzo5YbSuUemA@mail.gmail.com>

On Thu, Jan 7, 2021 at 11:44 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:

>
>
> What I'm trying to convey here is that there's a chance the ticket
> will be addressed without sponsorship, but if they DO sponsor it will
> get addressed immediately. So "fast track" here means something a
> little like "short cut".  Is there better wording you think may convey
> this same meaning?
>
> Nyall
>
>
>
Maybe "Speed up" or "accelerate"

But maybe it's just my limited vocabulary.

Alexandre


> >
> > Other than that +1
> >
> > Alexandre Neto
> >
> > A quinta, 7/01/2021, 08:33, Matthias Kuhn <matthias at opengis.ch>
> escreveu:
> >>
> >> Hi Nyall,
> >>
> >> I would also appreciate a hint like this.
> >> Maybe it could be done even more subtle by shortening this text and
> adding a link to a page "learn how to make things progress"?
> >>
> >> I'd also very much appreciate the voices of users on this topic (that's
> a classical "we don't only want to hear the dev side" topic).
> >>
> >> Matthias
> >>
> >> On Thu, Jan 7, 2021 at 1:42 AM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
> >>>
> >>> Hi list,
> >>>
> >>> I've a small request to consider for stale bot and issues/feature
> >>> requests. I think that if a ticket remains open for say > 90 days
> >>> since the last comment, it would be nice if stale bot added a comment
> >>> like:
> >>>
> >>> "Unfortunately this bug/feature request has not seen any solution in
> >>> the recent QGIS release. If this fix/feature is important to you or
> >>> your organisation, you can help to fast-track its development by
> >>> sponsoring this work. To do so, contact one of the QGIS commercial
> >>> support providers listed at ... to discuss how you could fund this
> >>> functionality".
> >>>
> >>> I think it's a non-threatening, non-begging way to advise bug
> >>> reporters on the alternative ways they can fast track development in
> >>> QGIS.
> >>>
> >>> Thoughts?
> >>>
> >>> Nyall
> >>> _______________________________________________
> >>> QGIS-Developer mailing list
> >>> QGIS-Developer at lists.osgeo.org
> >>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210108/cbbfd4df/attachment-0001.html>

From charles at kartoza.com  Thu Jan  7 22:43:48 2021
From: charles at kartoza.com (Charles Dixon-Paver)
Date: Fri, 8 Jan 2021 08:43:48 +0200
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <CA+H0G_F3=Gz++kCXsO_X2DDMgVqU=Unpk05nHgdzo5YbSuUemA@mail.gmail.com>
References: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
 <CAC7zN95M3pakuo5N3T-FcWLf=AbPv-qqePc1z4fss77G7YO+3w@mail.gmail.com>
 <CA+H0G_HCnSCM6+jKexha=Dbz2k9hBzLB08HZhr84s77fnwma9g@mail.gmail.com>
 <CAB28Asj+16-Cih7rLJqveOTkdObXrF_b0ps1jEVhDyNOB7SbdQ@mail.gmail.com>
 <CA+H0G_F3=Gz++kCXsO_X2DDMgVqU=Unpk05nHgdzo5YbSuUemA@mail.gmail.com>
Message-ID: <CAK2KqieKtibJjeObv-BEkqeoUU_ekQ+x_5Zn5sO8aFj2seAhYw@mail.gmail.com>

How about something like:

Unfortunately this issue has not been addressed by the QGIS community for
some time. If you would like to expedite the resolution of this issue and
more like it, please refer to the <a href="
https://qgis.org/en/site/getinvolved/facilitation.html">facilitating
development</a> guide for information on how to sponsor the development of
this functionality.

And make a facilitation page that explains the various resolution options
nicely.

Not sure if that's OK for non-native speakers

On Fri, 8 Jan 2021 at 02:51, Alexandre Neto <senhor.neto at gmail.com> wrote:

>
> On Thu, Jan 7, 2021 at 11:44 PM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>
>>
>>
>> What I'm trying to convey here is that there's a chance the ticket
>> will be addressed without sponsorship, but if they DO sponsor it will
>> get addressed immediately. So "fast track" here means something a
>> little like "short cut".  Is there better wording you think may convey
>> this same meaning?
>>
>> Nyall
>>
>>
>>
> Maybe "Speed up" or "accelerate"
>
> But maybe it's just my limited vocabulary.
>
> Alexandre
>
>
>> >
>> > Other than that +1
>> >
>> > Alexandre Neto
>> >
>> > A quinta, 7/01/2021, 08:33, Matthias Kuhn <matthias at opengis.ch>
>> escreveu:
>> >>
>> >> Hi Nyall,
>> >>
>> >> I would also appreciate a hint like this.
>> >> Maybe it could be done even more subtle by shortening this text and
>> adding a link to a page "learn how to make things progress"?
>> >>
>> >> I'd also very much appreciate the voices of users on this topic
>> (that's a classical "we don't only want to hear the dev side" topic).
>> >>
>> >> Matthias
>> >>
>> >> On Thu, Jan 7, 2021 at 1:42 AM Nyall Dawson <nyall.dawson at gmail.com>
>> wrote:
>> >>>
>> >>> Hi list,
>> >>>
>> >>> I've a small request to consider for stale bot and issues/feature
>> >>> requests. I think that if a ticket remains open for say > 90 days
>> >>> since the last comment, it would be nice if stale bot added a comment
>> >>> like:
>> >>>
>> >>> "Unfortunately this bug/feature request has not seen any solution in
>> >>> the recent QGIS release. If this fix/feature is important to you or
>> >>> your organisation, you can help to fast-track its development by
>> >>> sponsoring this work. To do so, contact one of the QGIS commercial
>> >>> support providers listed at ... to discuss how you could fund this
>> >>> functionality".
>> >>>
>> >>> I think it's a non-threatening, non-begging way to advise bug
>> >>> reporters on the alternative ways they can fast track development in
>> >>> QGIS.
>> >>>
>> >>> Thoughts?
>> >>>
>> >>> Nyall
>> >>> _______________________________________________
>> >>> QGIS-Developer mailing list
>> >>> QGIS-Developer at lists.osgeo.org
>> >>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >>
>> >> _______________________________________________
>> >> QGIS-Developer mailing list
>> >> QGIS-Developer at lists.osgeo.org
>> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210108/5cc22528/attachment.html>

From rdmailings at duif.net  Fri Jan  8 03:22:59 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 8 Jan 2021 12:22:59 +0100
Subject: [QGIS-Developer] Add GRASS addon to QGIS?
Message-ID: <f6be07ad-9647-b1e9-8b1b-92e5eb4cbf54@duif.net>

Hi Devs,

In the Processing algorithms there is an algorithm 'Transect', which puts 'transects' on the vertices(!) of a Linestring.

For a 'problem' I have I need the transect to be on known distances along the Linestring (so INdependent) of the vertices of that LineString.
(the main problem are the vertices in the lines when the line makes a turn (is not straigh). For straight lines I can use densify to add the right amount of vertices)

If I am correct, this grass addon, is exactly what I need:

https://grass.osgeo.org/grass78/manuals/addons/v.transects.html

But, by default it is not available in QGIS algorithms.
You even have to add it to GRAAS: you have to add it with:

"g.extension extension=v.transects"

(from https://gis.stackexchange.com/questions/290595/where-is-the-v-transects-algorithm-in-qgis)

The final solution is a Processing model, so my question is if I can (easily) make that Grass algorithm work in a Processing Model?

Thanks for any pointers/input.

Regards,

Richard Duivenvoorde


From joao.f.r.gaspar at gmail.com  Fri Jan  8 05:03:32 2021
From: joao.f.r.gaspar at gmail.com (=?UTF-8?B?Sm/Do28gR2FzcGFy?=)
Date: Fri, 8 Jan 2021 13:03:32 +0000
Subject: [QGIS-Developer] Add GRASS addon to QGIS?
In-Reply-To: <f6be07ad-9647-b1e9-8b1b-92e5eb4cbf54@duif.net>
References: <f6be07ad-9647-b1e9-8b1b-92e5eb4cbf54@duif.net>
Message-ID: <CAM+zXj1rSQCYLYtJfDq4cYh7=EQz93oRQ0+dZnkgmGvvJyco2g@mail.gmail.com>

Hi Richard,
here what I found.

https://grass.osgeo.org/grass78/manuals/g.extension.html

The addons are installed in:
*GRASS GIS extensions are installed by g.extension into a dedicated
directory. The default is a directory for application data and settings
inside the user's home directory. On GNU/Linux it is $HOME/.grass7/addons,
on MS-Windows it is $APPDATA\GRASS7\addons. The name of the directory is
stored in the GRASS_ADDON_BASE environmental variab*le.


If you want to put the addon in the bin folder of the GRASS you need to use
-s flag:
"g.extension -s extension=v.transects"

The flag -s changes this install target directory to the GRASS GIS
installation directory (determined by GISBASE environmental variable, e.g.
/usr/) rather than the default directory defined as per GRASS_ADDON_BASE
(see also documentation for variables). g.extension checks if the user has
permission to write to GISBASE or GRASS_ADDON_BASE.


So what I understand you can try to append the environment variable
GRASS_ADDON_BASE in the custom variables inside QGIS settings (
https://docs.qgis.org/3.16/en/docs/user_manual/introduction/qgis_configuration.html#system-settings)
or
install directly in the GRASS directory using -s flag and this way probably
you don't need to append the custom variable in QGIS settings.

After that if the GRASS addon isn't listed on the Processing menu yet, you
need to add:
https://qgis.org/en/site/getinvolved/development/addinggrasstools.html

I hope this helps you.

Best regards,
Jo?o Gaspar


Richard Duivenvoorde <rdmailings at duif.net> escreveu no dia sexta, 8/01/2021
?(s) 11:23:

> Hi Devs,
>
> In the Processing algorithms there is an algorithm 'Transect', which puts
> 'transects' on the vertices(!) of a Linestring.
>
> For a 'problem' I have I need the transect to be on known distances along
> the Linestring (so INdependent) of the vertices of that LineString.
> (the main problem are the vertices in the lines when the line makes a turn
> (is not straigh). For straight lines I can use densify to add the right
> amount of vertices)
>
> If I am correct, this grass addon, is exactly what I need:
>
> https://grass.osgeo.org/grass78/manuals/addons/v.transects.html
>
> But, by default it is not available in QGIS algorithms.
> You even have to add it to GRAAS: you have to add it with:
>
> "g.extension extension=v.transects"
>
> (from
> https://gis.stackexchange.com/questions/290595/where-is-the-v-transects-algorithm-in-qgis
> )
>
> The final solution is a Processing model, so my question is if I can
> (easily) make that Grass algorithm work in a Processing Model?
>
> Thanks for any pointers/input.
>
> Regards,
>
> Richard Duivenvoorde
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210108/54ebf1c3/attachment.html>

From r.aguilar at utwente.nl  Fri Jan  8 05:04:54 2021
From: r.aguilar at utwente.nl (r.aguilar at utwente.nl)
Date: Fri, 8 Jan 2021 13:04:54 +0000
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <CAK2KqieKtibJjeObv-BEkqeoUU_ekQ+x_5Zn5sO8aFj2seAhYw@mail.gmail.com>
References: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
 <CAC7zN95M3pakuo5N3T-FcWLf=AbPv-qqePc1z4fss77G7YO+3w@mail.gmail.com>
 <CA+H0G_HCnSCM6+jKexha=Dbz2k9hBzLB08HZhr84s77fnwma9g@mail.gmail.com>
 <CAB28Asj+16-Cih7rLJqveOTkdObXrF_b0ps1jEVhDyNOB7SbdQ@mail.gmail.com>
 <CA+H0G_F3=Gz++kCXsO_X2DDMgVqU=Unpk05nHgdzo5YbSuUemA@mail.gmail.com>
 <CAK2KqieKtibJjeObv-BEkqeoUU_ekQ+x_5Zn5sO8aFj2seAhYw@mail.gmail.com>
Message-ID: <e73613da345c48cf888f989295cb9bff@utwente.nl>

From a user perspective, I would like to suggest something like:

?Leaving an issue on the QGIS issue tracker might help, but there is no guarantee that this will be timely solved as our volunteered resources are limited. If you or your organization need something to be quickly fixed, there is the possibility to hire someone (link to the list of QGIS commercial support providers) ?.

In this way, users are aware that there is the intention in solving issues, just limited resources, and how a particular issue can move forward.

Regards,
Rosa

-----------------------------------------------------------------
MSc Rosa Aguilar - PhD Candidate
University of Twente
Faculty of Geoinformation Science and Earth Observation
Connect with me on LinkedIn<https://www.linkedin.com/in/rosamaguilar/?locale=en_US>
https://rosaguilar.github.io<https://rosaguilar.github.io/>
-----------------------------------------------------------------
The essential is invisible to the eye. Saint-Exup?ry

From: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> On Behalf Of Charles Dixon-Paver
Sent: 08 January 2021 07:44
To: Alexandre Neto <senhor.neto at gmail.com>
Cc: qgis-developer <qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] Stale bot and older requests/issues - possible enhancement

How about something like:

Unfortunately this issue has not been addressed by the QGIS community for some time. If you would like to expedite the resolution of this issue and more like it, please refer to the <a href="https://qgis.org/en/site/getinvolved/facilitation.html">facilitating development</a> guide for information on how to sponsor the development of this functionality.

And make a facilitation page that explains the various resolution options nicely.

Not sure if that's OK for non-native speakers

On Fri, 8 Jan 2021 at 02:51, Alexandre Neto <senhor.neto at gmail.com<mailto:senhor.neto at gmail.com>> wrote:

On Thu, Jan 7, 2021 at 11:44 PM Nyall Dawson <nyall.dawson at gmail.com<mailto:nyall.dawson at gmail.com>> wrote:


What I'm trying to convey here is that there's a chance the ticket
will be addressed without sponsorship, but if they DO sponsor it will
get addressed immediately. So "fast track" here means something a
little like "short cut".  Is there better wording you think may convey
this same meaning?

Nyall


Maybe "Speed up" or "accelerate"

But maybe it's just my limited vocabulary.

Alexandre

>
> Other than that +1
>
> Alexandre Neto
>
> A quinta, 7/01/2021, 08:33, Matthias Kuhn <matthias at opengis.ch<mailto:matthias at opengis.ch>> escreveu:
>>
>> Hi Nyall,
>>
>> I would also appreciate a hint like this.
>> Maybe it could be done even more subtle by shortening this text and adding a link to a page "learn how to make things progress"?
>>
>> I'd also very much appreciate the voices of users on this topic (that's a classical "we don't only want to hear the dev side" topic).
>>
>> Matthias
>>
>> On Thu, Jan 7, 2021 at 1:42 AM Nyall Dawson <nyall.dawson at gmail.com<mailto:nyall.dawson at gmail.com>> wrote:
>>>
>>> Hi list,
>>>
>>> I've a small request to consider for stale bot and issues/feature
>>> requests. I think that if a ticket remains open for say > 90 days
>>> since the last comment, it would be nice if stale bot added a comment
>>> like:
>>>
>>> "Unfortunately this bug/feature request has not seen any solution in
>>> the recent QGIS release. If this fix/feature is important to you or
>>> your organisation, you can help to fast-track its development by
>>> sponsoring this work. To do so, contact one of the QGIS commercial
>>> support providers listed at ... to discuss how you could fund this
>>> functionality".
>>>
>>> I think it's a non-threatening, non-begging way to advise bug
>>> reporters on the alternative ways they can fast track development in
>>> QGIS.
>>>
>>> Thoughts?
>>>
>>> Nyall
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210108/e161928a/attachment-0001.html>

From gdt at lexort.com  Fri Jan  8 05:58:29 2021
From: gdt at lexort.com (Greg Troxel)
Date: Fri, 08 Jan 2021 08:58:29 -0500
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <e73613da345c48cf888f989295cb9bff@utwente.nl>
 (r.aguilar@utwente.nl's message of "Fri, 8 Jan 2021 13:04:54 +0000")
References: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
 <CAC7zN95M3pakuo5N3T-FcWLf=AbPv-qqePc1z4fss77G7YO+3w@mail.gmail.com>
 <CA+H0G_HCnSCM6+jKexha=Dbz2k9hBzLB08HZhr84s77fnwma9g@mail.gmail.com>
 <CAB28Asj+16-Cih7rLJqveOTkdObXrF_b0ps1jEVhDyNOB7SbdQ@mail.gmail.com>
 <CA+H0G_F3=Gz++kCXsO_X2DDMgVqU=Unpk05nHgdzo5YbSuUemA@mail.gmail.com>
 <CAK2KqieKtibJjeObv-BEkqeoUU_ekQ+x_5Zn5sO8aFj2seAhYw@mail.gmail.com>
 <e73613da345c48cf888f989295cb9bff@utwente.nl>
Message-ID: <rmilfd38r96.fsf@s1.lexort.com>


I am not a fan of a bugtracker pushing people to sponsored development
by spamming each issue with it.   It's perfectly reasonable to assign a
label that means basically "this issue appears legitimate but no one has
expressed interest in working on it", and make the pointer to either 1)
maybe you should write the code yourself (that has to be there!) or 2)
you migth wish to sponsor someone once in the top-level README that
explains the labels.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 194 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210108/9d08073e/attachment.sig>

From jgr at di.uminho.pt  Fri Jan  8 07:58:29 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Fri, 8 Jan 2021 15:58:29 +0000
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
References: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
Message-ID: <36246c73-322c-7f1c-4ced-b55d507dbcb5@di.uminho.pt>

Hi,

I have a different opinion on this. We should emphasis the community
component of our QGIS open source project. Just asking to pay if they
want the issue solved, is what any commercial software project does. It
does not help to create new contributors.

Reporting and working on issues is (should be) included in our strategy
to promote participation and get new blood. It is a good place to engage
new users into QGIS development.

Users should be encourage to know better the community and the people
behind the software. If a issue is tagged as stale, we should help them
to identify and know the people related/behind that feature. Without
knowing the people and without communication, there is no community.

When people know and trust the community behind software, they will
invest money in. In other words, it is too soon to ask for money for
someone that just filled an issue in github.

Just my two cents.

Jorge Gustavo

?s 00:42 de 07/01/21, Nyall Dawson escreveu:
> Hi list,
> 
> I've a small request to consider for stale bot and issues/feature
> requests. I think that if a ticket remains open for say > 90 days
> since the last comment, it would be nice if stale bot added a comment
> like:
> 
> "Unfortunately this bug/feature request has not seen any solution in
> the recent QGIS release. If this fix/feature is important to you or
> your organisation, you can help to fast-track its development by
> sponsoring this work. To do so, contact one of the QGIS commercial
> support providers listed at ... to discuss how you could fund this
> functionality".
> 
> I think it's a non-threatening, non-begging way to advise bug
> reporters on the alternative ways they can fast track development in
> QGIS.
> 
> Thoughts?
> 
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From charles at kartoza.com  Fri Jan  8 08:41:32 2021
From: charles at kartoza.com (Charles Dixon-Paver)
Date: Fri, 8 Jan 2021 18:41:32 +0200
Subject: [QGIS-Developer] Stale bot and older requests/issues - possible
 enhancement
In-Reply-To: <36246c73-322c-7f1c-4ced-b55d507dbcb5@di.uminho.pt>
References: <CAB28AsgCce80wV6_WZR1V_a+FLEWA_Tw-TAfMZVzRM1oM+Xhkg@mail.gmail.com>
 <36246c73-322c-7f1c-4ced-b55d507dbcb5@di.uminho.pt>
Message-ID: <CAK2KqiedsmNTxnk8SHZvKYDFs9G4Ldf13xQW=tx=nEnuNWD95A@mail.gmail.com>

I agree with Jorge and am personally not a fan of a simple "pay a
commercial partner" message, which is why I think a separate link like
Matthias suggested is a great idea, and any message which might be
interpreted as "It's open source, so fix it yourself" could be harmful.

I think a large part of the problem is an awareness issue, where there is a
lack of understanding of the development process and ecosystem at large.
Users should know that donations and sustaining memberships go a long way
to feature development and squashing bugs too, but they also need to know
that it cannot be guaranteed that a specific issue will be addressed unless
they make their own arrangements to address it.

When you factor in community engagement, hackfests, crowd funding, and all
the other initiatives the project is undertaking, I feel like there is a
lot more that users can do besides buying a support contract.

Mostly I think the message would need to be concise but meaningful, and
although it may be frustrating for "seasoned veterans" of the community to
keep seeing it pop-up, I think it is a fair way to engage with users in a
way that supports a healthy ecosystem. I think if it gets too "spammy", the
simple solution is to extend the timeframe before the message is applied.

I made an error in my previous suggested notice and would certainly replace
"how to sponsor the development of this functionality" with "how to support
the development of this functionality".

But that's just my three cents ;-)


On Fri, 8 Jan 2021 at 17:58, Jorge Gustavo Rocha <jgr at di.uminho.pt> wrote:

> Hi,
>
> I have a different opinion on this. We should emphasis the community
> component of our QGIS open source project. Just asking to pay if they
> want the issue solved, is what any commercial software project does. It
> does not help to create new contributors.
>
> Reporting and working on issues is (should be) included in our strategy
> to promote participation and get new blood. It is a good place to engage
> new users into QGIS development.
>
> Users should be encourage to know better the community and the people
> behind the software. If a issue is tagged as stale, we should help them
> to identify and know the people related/behind that feature. Without
> knowing the people and without communication, there is no community.
>
> When people know and trust the community behind software, they will
> invest money in. In other words, it is too soon to ask for money for
> someone that just filled an issue in github.
>
> Just my two cents.
>
> Jorge Gustavo
>
> ?s 00:42 de 07/01/21, Nyall Dawson escreveu:
> > Hi list,
> >
> > I've a small request to consider for stale bot and issues/feature
> > requests. I think that if a ticket remains open for say > 90 days
> > since the last comment, it would be nice if stale bot added a comment
> > like:
> >
> > "Unfortunately this bug/feature request has not seen any solution in
> > the recent QGIS release. If this fix/feature is important to you or
> > your organisation, you can help to fast-track its development by
> > sponsoring this work. To do so, contact one of the QGIS commercial
> > support providers listed at ... to discuss how you could fund this
> > functionality".
> >
> > I think it's a non-threatening, non-begging way to advise bug
> > reporters on the alternative ways they can fast track development in
> > QGIS.
> >
> > Thoughts?
> >
> > Nyall
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> J. Gustavo
> --
> Jorge Gustavo Rocha
> Departamento de Inform?tica
> Universidade do Minho
> 4710-057 Braga
> Gabinete 3.29 (Piso 3)
> Tel: +351 253604480
> Fax: +351 253604471
> M?vel: +351 910333888
> skype: nabocudnosor
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210108/7c974307/attachment.html>

From wonder.sk at gmail.com  Fri Jan  8 14:35:00 2021
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri, 8 Jan 2021 23:35:00 +0100
Subject: [QGIS-Developer] 3D View Interface Usability
In-Reply-To: <CAACeADaJmgBBZotaA1xgghtsUB0neeiGiupTjR7hCGigce227A@mail.gmail.com>
References: <CAACeADYVzqaY4Ny3FXOP9xF8dBB5mXRZ6XJZZKvGT-X-iGwy6w@mail.gmail.com>
 <CAC2XbFfobjAthBp5jzb_bRHkZ2AmwZ0y5STT7TmexUdNi96Zdw@mail.gmail.com>
 <CAACeADaJmgBBZotaA1xgghtsUB0neeiGiupTjR7hCGigce227A@mail.gmail.com>
Message-ID: <CAC2XbFdOPN_MW3kKVMB1U1i1KmbYv-BLUkZ+gPbtMKpZfgHwdQ@mail.gmail.com>

Hi Jed

Thanks a lot for all the input - there is a lot of value in there. I like
the idea of having a modifier like Space to temporarily switch from the
current tool to navigation - right now we only have some basic tools like
identify or measure, but in the future we will likely have editing tools
where this will be very handy. Some of your suggestions mean that we would
also need to change the existing associations to various mouse keys - that
needs a bit more consideration. In the short term one of the big wins would
be to fix the camera rotation ("tumble") as you mentioned.

The good news is that a "fly" navigation mode is on its way - hopefully we
can get it merged for QGIS 3.18:
https://github.com/qgis/QGIS/pull/40893

Cheers
Martin


On Wed, Jan 6, 2021 at 2:31 AM Jed Frechette <jedfrechette at gmail.com> wrote:

> Hi Martin,
>
> I?m glad to hear my impressions weren?t too far off. I do think there
> are benefits to the GE style controls, especially for users that are
> already familiar with that software. Perhaps it makes sense to keep
> those controls as a separate navigation mode in addition to a new mode
> that is better suited to more complex tasks? Although I guess there?s
> the risk of muddying the interface by not picking one clear consistent
> set of controls and optimizing them.
>
> It?s interesting that you mention multiple viewports, as that would
> actually be fairly low on my wish list. This may be a personal
> preference, but I don?t use multiple views very often in applications
> where I have access to them. There are definitely certain tasks which
> are easier with multiple views so they are nice to have, but if I had
> to choose I?d much rather have a single viewport that is very
> efficient than multiple viewports that are less fluid. That?s what
> most of my suggestions below are geared toward; a single viewport
> where an experienced user can almost instantly navigate to the exact
> view they want, potentially edit/create some data, and within a few
> seconds be moving on to the next part of the scene.
>
> I?ll provide links to a couple examples and videos at the end of my
> post, but since there is so little consistency between 3D apps I want
> to provide some justification for what I think works rather than just
> say ?Make it like my favorite program.?
>
> Regardless of the exact control scheme, I think the most important
> observation to make when designing a 3D interface is that for any type
> of interactive task the user is constantly switching between
> navigating around the scene and using tools to perform actions, e.g.
> identify, measure, digitize, etc.. Therefore, switching between those
> two modes of interaction needs to be as quick and easy as possible.
> Clicking toolbar icons to switch modes works but is probably the
> slowest way to do it. Some applications try to overload the mouse
> buttons so you can navigate and use tools at the same time, but I?ve
> never used a system like that which I thought worked well. I think
> it?s much better to make a clear distinction between navigate mode and
> tool mode and make the user responsible for switching between them via
> hotkey. That way your tools can make use of all 3 mouse buttons
> independently of your navigation control scheme, which can also
> utilize all 3 buttons.
>
> Although various applications have made different choices about the
> hotkey to use, to me the space bar is the obvious choice. The space
> bar is the most used key when typing and the navigation hotkey will be
> the most used key while navigating in 3D view so it should be the
> space bar too. The navigate hotkey could be used as a toggle, e.g.
> with a tool active tap the spacebar to switch to navigate mode then
> tap it again when you want to go back to the tool. Alternatively, the
> hotkey could be a modifier, e.g. hold down the spacebar to navigate
> then release it to return to the tool. Both can work well, but I
> prefer the modifier approach. A modifier removes the need for an
> indicator, e.g. different cursors, for which mode you?re currently in
> like you would need with a toggle. In addition a modifier can act as a
> hint to stay in dynamic mode if your viewport is set up to improve
> interactive performance by rendering different LODs based on whether
> the camera is currently static or dynamically moving.
>
> The specific navigation control scheme I would advocate for is:
>
> Dolly along camera z-axis (Space + RMB or Scroll wheel)
> ==========================================
> QGIS already behaves this way so no changes here. Usage of the scroll
> wheel is also consistent between the 2D and 3D views so that?s good.
>
> Track along camera x & y axes (Space + MMB, Space + Shift + RMB)
> ===================================
> The middle mouse button is used for the same movement in the 2D view
> so it would be good to stay consistent with that. The alternate
> mapping, Space + Shift+ RMB, is for laptop users that only have 2
> trackpad buttons. By tracking along the camera x & y axes instead of
> GE style tracking navigation is much more intuitive in a fully 3D
> world and you eliminate the orientation dependence I referred to in my
> first post.
>
> Tumble (Space + LMB)
> =================
> Tumbling in QGIS is already pretty good. The only change I would make
> is to pivot around the cursor?s current position rather than the
> center of the viewport. uclaros already suggested this in the tracker
> [1] and it would make precise navigation much easier.
>
> Roll around camera z-axis (Space + Ctrl + LMB)
> ===================================
> This is really useful when you just want to level the camera relative
> to the horizon.
>
> Box zoom (Space + Ctrl + RMB)
> ========================
> Good for zooming in to a specific region of the scene.
>
> Other navigation controls could certainly be added, e.g. restricting
> tumbling around additional axes, but I think the controls above cover
> the majority of needs.
>
> Two applications I think serve as good examples of what works well are
> Houdini and PolyWorks. They have both been around for decades and even
> though they serve very different types of users and are used in very
> different ways their control schemes are remarkably similar. I used
> their control schemes as the basis for the one I described above.
> Houdini has good documentation, including lot?s of videos [2], and has
> a free version so it is the easiest to observe in use. In contrast,
> PolyWorks might cost you a kidney to evaluate. I do, however, have a
> video I recorded a while ago showing it being used for some simple
> feature extraction [3]. This is the kind of task I would love to be
> able to do in QGIS. If I was designing a UI from the ground up for
> that specific type of feature extraction it would be a little
> different than what?s shown in the video, but it does give a good idea
> of the type of fluid, highly interactive workflow, I?d be aiming for.
>
> Hopefully, some of this is useful and provides some inspiration. I?m
> afraid I?m not familiar enough with Qt to implement any of it myself,
> but would love to be able to help in any other way that I can.
>
> Best wishes,
>
> [1] https://github.com/qgis/QGIS/issues/40530#issuecomment-742092974
> [2] https://www.sidefx.com/docs/houdini/basics/view.html
> [3] https://youtu.be/d5__-Vu6RkA?t=155
>
>
> --
> Jed Frechette
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210108/edd20b48/attachment.html>

From andreaerdna at libero.it  Sat Jan  9 04:15:58 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Sat, 9 Jan 2021 05:15:58 -0700 (MST)
Subject: [QGIS-Developer] Issue with QGIS 3.16.2 standalone and GRASS
 7.8.4
In-Reply-To: <CAMCJChvkkXWGyJ+u9VYERv0eQ7=Y+XOEYoJ7zZ6Zzjq1B-irGg@mail.gmail.com>
References: <CAMCJChv6xU9HHABT+a+n=OhsBmtVZUAGpOz2ooyQcerq0iPn5w@mail.gmail.com>
 <1609360330890-0.post@n6.nabble.com>
 <CAMCJChsVOH4BufUGw3_e3Sqgrj+aHVrEZTa4m8UjtkQ3=gSAhQ@mail.gmail.com>
 <1609372039347-0.post@n6.nabble.com>
 <CAMCJChvkkXWGyJ+u9VYERv0eQ7=Y+XOEYoJ7zZ6Zzjq1B-irGg@mail.gmail.com>
Message-ID: <1610194558642-0.post@n6.nabble.com>

Pedro Ven?ncio-2 wrote
> I believe 3.10.13-2 also fixes this issue.
> 
> Do you confirm?

Hi Pedro,
yes, I can confirm that both 3.16.2-2 and 3.10.13-2 standalone installers
ship QGIS with GRASS 7.8.5 and the issue is now fixed for both thanks to
J?rgen E. Fischer.

Regards.

Andrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From bo.victor.thomsen at gmail.com  Sat Jan  9 05:04:09 2021
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Sat, 9 Jan 2021 14:04:09 +0100
Subject: [QGIS-Developer] Function to generate uri from settings in QGIS
Message-ID: <8245a372-31dd-30af-e24e-01815de7e620@gmail.com>

Ok, this has me stumped.

I know, that I can generate a database URI like this? (example from 
cookbook):

uri  =  QgsDataSourceUri()
# set host name, port, database name, username and password
uri.setConnection("localhost",  "5432",  "dbname",  "johny",  "xxx")
# set database schema, table name, geometry column and optionally
# subset (WHERE clause)
uri.setDataSource("public",  "roads",  "the_geom",  "cityid = 2643")

vlayer  =  QgsVectorLayer(uri.uri(False),  "layer name you like",  "postgres")


But I would like to use information from a already defined Datasource 
connection from the Datamanager dialog.

I suspect, that there must be a 
"QgsSettingsConvertToUri_or_whatever_it_is_called()" function that uses 
a? QGS settings address? (ex. like "/PostgreSQL/connections/MyDatabase" 
for a Postgresql database connection)? as input and automatically 
convert the settings values to a URI string.

Is there anyone, that can point me in the right direction ?

-- 

Med venlig hilsen / Kind regards

Bo Victor Thomsen

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210109/54a2756a/attachment.html>

From apasotti at gmail.com  Sat Jan  9 07:35:45 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Sat, 9 Jan 2021 16:35:45 +0100
Subject: [QGIS-Developer] Function to generate uri from settings in QGIS
In-Reply-To: <8245a372-31dd-30af-e24e-01815de7e620@gmail.com>
References: <8245a372-31dd-30af-e24e-01815de7e620@gmail.com>
Message-ID: <CAL5Q6712TMD_Pxps9b-+FmcSfL1E6E+ccZcmAbzVjeXJ-U1kUw@mail.gmail.com>

Hi Bo,

you may have a look to
https://qgis.org/pyqgis/master/core/QgsProviderRegistry.html?highlight=decodeuri#qgis.core.QgsProviderRegistry.decodeUri
and encodeUri.

Or better: the connections API
https://qgis.org/pyqgis/master/core/QgsAbstractProviderConnection.html



On Sat, Jan 9, 2021 at 2:03 PM Bo Victor Thomsen
<bo.victor.thomsen at gmail.com> wrote:
>
> Ok, this has me stumped.
>
> I know, that I can generate a database URI like this  (example from cookbook):
>
> uri = QgsDataSourceUri()
> # set host name, port, database name, username and password
> uri.setConnection("localhost", "5432", "dbname", "johny", "xxx")
> # set database schema, table name, geometry column and optionally
> # subset (WHERE clause)
> uri.setDataSource("public", "roads", "the_geom", "cityid = 2643")
>
> vlayer = QgsVectorLayer(uri.uri(False), "layer name you like", "postgres")
>
>
> But I would like to use information from a already defined Datasource connection from the Datamanager dialog.
>
> I suspect, that there must be a "QgsSettingsConvertToUri_or_whatever_it_is_called()" function that uses a  QGS settings address  (ex. like "/PostgreSQL/connections/MyDatabase" for a Postgresql database connection)  as input and automatically convert the settings values to a URI string.
>
> Is there anyone, that can point me in the right direction ?
>
> --
>
> Med venlig hilsen / Kind regards
>
> Bo Victor Thomsen
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From etienne.trimaille at gmail.com  Sat Jan  9 19:10:32 2021
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Sun, 10 Jan 2021 10:10:32 +0700
Subject: [QGIS-Developer] Function to generate uri from settings in QGIS
In-Reply-To: <CAL5Q6712TMD_Pxps9b-+FmcSfL1E6E+ccZcmAbzVjeXJ-U1kUw@mail.gmail.com>
References: <8245a372-31dd-30af-e24e-01815de7e620@gmail.com>
 <CAL5Q6712TMD_Pxps9b-+FmcSfL1E6E+ccZcmAbzVjeXJ-U1kUw@mail.gmail.com>
Message-ID: <CAMtDFLLtPf8i14QA_iu4S2rT+6m8j++KNn9Uh4LgeL7fOkDLCQ@mail.gmail.com>

The connection API is indeed convenient for that :

metadata = QgsProviderRegistry.instance().providerMetadata('postgres')
connection = metadata.findConnection("the postgis connection name")
uri = QgsDataSourceUri(connection.uri())

Le sam. 9 janv. 2021 ? 22:36, Alessandro Pasotti <apasotti at gmail.com> a
?crit :

> Hi Bo,
>
> you may have a look to
>
> https://qgis.org/pyqgis/master/core/QgsProviderRegistry.html?highlight=decodeuri#qgis.core.QgsProviderRegistry.decodeUri
> and encodeUri.
>
> Or better: the connections API
> https://qgis.org/pyqgis/master/core/QgsAbstractProviderConnection.html
>
>
>
> On Sat, Jan 9, 2021 at 2:03 PM Bo Victor Thomsen
> <bo.victor.thomsen at gmail.com> wrote:
> >
> > Ok, this has me stumped.
> >
> > I know, that I can generate a database URI like this  (example from
> cookbook):
> >
> > uri = QgsDataSourceUri()
> > # set host name, port, database name, username and password
> > uri.setConnection("localhost", "5432", "dbname", "johny", "xxx")
> > # set database schema, table name, geometry column and optionally
> > # subset (WHERE clause)
> > uri.setDataSource("public", "roads", "the_geom", "cityid = 2643")
> >
> > vlayer = QgsVectorLayer(uri.uri(False), "layer name you like",
> "postgres")
> >
> >
> > But I would like to use information from a already defined Datasource
> connection from the Datamanager dialog.
> >
> > I suspect, that there must be a
> "QgsSettingsConvertToUri_or_whatever_it_is_called()" function that uses a
> QGS settings address  (ex. like "/PostgreSQL/connections/MyDatabase" for a
> Postgresql database connection)  as input and automatically convert the
> settings values to a URI string.
> >
> > Is there anyone, that can point me in the right direction ?
> >
> > --
> >
> > Med venlig hilsen / Kind regards
> >
> > Bo Victor Thomsen
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210110/570c0282/attachment.html>

From delazj at gmail.com  Sun Jan 10 06:48:30 2021
From: delazj at gmail.com (DelazJ)
Date: Sun, 10 Jan 2021 15:48:30 +0100
Subject: [QGIS-Developer] Travis failing in QGIS-Documentation
In-Reply-To: <CAECJsSqaea_QsCwDuxjGJKpTZj0huHsqOQ+kE+OyWBXHWP3iVg@mail.gmail.com>
References: <4edda8fa-8a8a-2b6f-7917-57da1859f500@gmail.com>
 <CAMtsY+ZCK_GuRu_=CfLBpC7-YfeTxAeDc=Ux+4L4OddNJmXSrg@mail.gmail.com>
 <a0f8823e-6b81-e66f-1f87-80e2e5c33178@gmail.com>
 <4e041167-402d-1c85-0752-e308be009bdf@gmail.com>
 <CAMtsY+bT0XWjVQJhM5KXT7vjB=NUC-KPy95H86xt+w-VmrBgLw@mail.gmail.com>
 <57643f60-8d41-e17e-b647-c2c4b7ea6a58@gmail.com>
 <CAMtsY+bBz=RsodFdrdHxexb8DBTqVe-q=vhHe+KHz1mPABkFaA@mail.gmail.com>
 <6c61f3e6-7e89-8a30-5d74-cc3573e4a0d1@gmail.com>
 <8318b1bb-c45e-afbf-800e-8d73ca7b37e6@duif.net>
 <b5a28bcd-6d49-5442-2cd7-7fa96e53a5c0@gmail.com>
 <CAECJsSpTcsN2J2tgw4rk7nnmZ0TLkWLc06L-OQntTzxwDrgbEQ@mail.gmail.com>
 <CAECJsSq+aEp4GdKEeyXXDV5DMkTmFHZG_rjz-_8kcqfV=SWZxw@mail.gmail.com>
 <CAECJsSpoze3m5B3r9_30gaaw9UUSRKmp4ZhZHxp74EEy1jWaLA@mail.gmail.com>
 <c83a8fe9-da2a-43aa-62df-1324593266c1@gmail.com>
 <CAECJsSqaea_QsCwDuxjGJKpTZj0huHsqOQ+kE+OyWBXHWP3iVg@mail.gmail.com>
Message-ID: <CAECJsSqTSbv-6sAw7x4jk0PTPGTYEekYcSX_PQZPz7RTSXZYNg@mail.gmail.com>

Hi devs,

Just to report that the master code tests infrastructure in
QGIS-Documentation seems broken. This is likely not due to some sample
codes in the docs since we did not change code recently, and the tests not
just run I suspect it's something in QGIS code or in the docker image; the
setup code fails with "ModuleNotFoundError: no module named qgis".
https://github.com/qgis/QGIS-Documentation/actions?query=workflow%3A%22Doctest+build%22+branch%3Amaster+event%3Apush
3.16 is running fine afaict.

Thanks for any help/fix,
Harrissou



Le ven. 9 oct. 2020 ? 15:08, DelazJ <delazj at gmail.com> a ?crit :

> Hi Matteo,
>
> I had opened an issue report to provide instructions on how to build the
> doctest (https://github.com/qgis/QGIS-Documentation/issues/6064). And I
> just noticed (sorry!) that Alessandro provided some feedback (in substance,
> "docker is the best route now").
>
> regards,
> Harrissou
>
> Le jeu. 8 oct. 2020 ? 08:16, matteo <matteo.ghetta at gmail.com> a ?crit :
>
>> Hi Harrissou,
>>
>> I don't have any answer for that, but it is the SAME error I have on my
>> local machine with a compiled version (or even the installation from
>> package) of QGIS.
>>
>> The only way for me to run the tests locally if using docker.
>>
>> I'm taking advantages of your mail to raise this problem (again) :)
>>
>> Cheers and thanks
>>
>> Matteo
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210110/c97ae821/attachment.html>

From matthias at opengis.ch  Sun Jan 10 09:07:42 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Sun, 10 Jan 2021 18:07:42 +0100
Subject: [QGIS-Developer] Travis failing in QGIS-Documentation
In-Reply-To: <CAECJsSqTSbv-6sAw7x4jk0PTPGTYEekYcSX_PQZPz7RTSXZYNg@mail.gmail.com>
References: <4edda8fa-8a8a-2b6f-7917-57da1859f500@gmail.com>
 <CAMtsY+ZCK_GuRu_=CfLBpC7-YfeTxAeDc=Ux+4L4OddNJmXSrg@mail.gmail.com>
 <a0f8823e-6b81-e66f-1f87-80e2e5c33178@gmail.com>
 <4e041167-402d-1c85-0752-e308be009bdf@gmail.com>
 <CAMtsY+bT0XWjVQJhM5KXT7vjB=NUC-KPy95H86xt+w-VmrBgLw@mail.gmail.com>
 <57643f60-8d41-e17e-b647-c2c4b7ea6a58@gmail.com>
 <CAMtsY+bBz=RsodFdrdHxexb8DBTqVe-q=vhHe+KHz1mPABkFaA@mail.gmail.com>
 <6c61f3e6-7e89-8a30-5d74-cc3573e4a0d1@gmail.com>
 <8318b1bb-c45e-afbf-800e-8d73ca7b37e6@duif.net>
 <b5a28bcd-6d49-5442-2cd7-7fa96e53a5c0@gmail.com>
 <CAECJsSpTcsN2J2tgw4rk7nnmZ0TLkWLc06L-OQntTzxwDrgbEQ@mail.gmail.com>
 <CAECJsSq+aEp4GdKEeyXXDV5DMkTmFHZG_rjz-_8kcqfV=SWZxw@mail.gmail.com>
 <CAECJsSpoze3m5B3r9_30gaaw9UUSRKmp4ZhZHxp74EEy1jWaLA@mail.gmail.com>
 <c83a8fe9-da2a-43aa-62df-1324593266c1@gmail.com>
 <CAECJsSqaea_QsCwDuxjGJKpTZj0huHsqOQ+kE+OyWBXHWP3iVg@mail.gmail.com>
 <CAECJsSqTSbv-6sAw7x4jk0PTPGTYEekYcSX_PQZPz7RTSXZYNg@mail.gmail.com>
Message-ID: <CAC7zN9694aSUODDNdwoNwHyen=w-RrEuHiDUGp8WLwVdtjSqvA@mail.gmail.com>

Hi,

It seems that something is broken in building the "custom widgets qt
creator plugin" and that our CI didn't detect that.

Part 1 : make sure this doesn't happen again. The ci builds now with
customwidgets: https://github.com/qgis/QGIS/pull/40929
Part 2 : fix the build

Matthias

On Sun, Jan 10, 2021 at 3:48 PM DelazJ <delazj at gmail.com> wrote:

> Hi devs,
>
> Just to report that the master code tests infrastructure in
> QGIS-Documentation seems broken. This is likely not due to some sample
> codes in the docs since we did not change code recently, and the tests not
> just run I suspect it's something in QGIS code or in the docker image; the
> setup code fails with "ModuleNotFoundError: no module named qgis".
> https://github.com/qgis/QGIS-Documentation/actions?query=workflow%3A%22Doctest+build%22+branch%3Amaster+event%3Apush
> 3.16 is running fine afaict.
>
> Thanks for any help/fix,
> Harrissou
>
>
>
> Le ven. 9 oct. 2020 ? 15:08, DelazJ <delazj at gmail.com> a ?crit :
>
>> Hi Matteo,
>>
>> I had opened an issue report to provide instructions on how to build the
>> doctest (https://github.com/qgis/QGIS-Documentation/issues/6064). And I
>> just noticed (sorry!) that Alessandro provided some feedback (in substance,
>> "docker is the best route now").
>>
>> regards,
>> Harrissou
>>
>> Le jeu. 8 oct. 2020 ? 08:16, matteo <matteo.ghetta at gmail.com> a ?crit :
>>
>>> Hi Harrissou,
>>>
>>> I don't have any answer for that, but it is the SAME error I have on my
>>> local machine with a compiled version (or even the installation from
>>> package) of QGIS.
>>>
>>> The only way for me to run the tests locally if using docker.
>>>
>>> I'm taking advantages of your mail to raise this problem (again) :)
>>>
>>> Cheers and thanks
>>>
>>> Matteo
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210110/87bf1ee7/attachment-0001.html>

From matthias at opengis.ch  Sun Jan 10 13:12:41 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Sun, 10 Jan 2021 22:12:41 +0100
Subject: [QGIS-Developer] Travis failing in QGIS-Documentation
In-Reply-To: <CAC7zN9694aSUODDNdwoNwHyen=w-RrEuHiDUGp8WLwVdtjSqvA@mail.gmail.com>
References: <4edda8fa-8a8a-2b6f-7917-57da1859f500@gmail.com>
 <CAMtsY+ZCK_GuRu_=CfLBpC7-YfeTxAeDc=Ux+4L4OddNJmXSrg@mail.gmail.com>
 <a0f8823e-6b81-e66f-1f87-80e2e5c33178@gmail.com>
 <4e041167-402d-1c85-0752-e308be009bdf@gmail.com>
 <CAMtsY+bT0XWjVQJhM5KXT7vjB=NUC-KPy95H86xt+w-VmrBgLw@mail.gmail.com>
 <57643f60-8d41-e17e-b647-c2c4b7ea6a58@gmail.com>
 <CAMtsY+bBz=RsodFdrdHxexb8DBTqVe-q=vhHe+KHz1mPABkFaA@mail.gmail.com>
 <6c61f3e6-7e89-8a30-5d74-cc3573e4a0d1@gmail.com>
 <8318b1bb-c45e-afbf-800e-8d73ca7b37e6@duif.net>
 <b5a28bcd-6d49-5442-2cd7-7fa96e53a5c0@gmail.com>
 <CAECJsSpTcsN2J2tgw4rk7nnmZ0TLkWLc06L-OQntTzxwDrgbEQ@mail.gmail.com>
 <CAECJsSq+aEp4GdKEeyXXDV5DMkTmFHZG_rjz-_8kcqfV=SWZxw@mail.gmail.com>
 <CAECJsSpoze3m5B3r9_30gaaw9UUSRKmp4ZhZHxp74EEy1jWaLA@mail.gmail.com>
 <c83a8fe9-da2a-43aa-62df-1324593266c1@gmail.com>
 <CAECJsSqaea_QsCwDuxjGJKpTZj0huHsqOQ+kE+OyWBXHWP3iVg@mail.gmail.com>
 <CAECJsSqTSbv-6sAw7x4jk0PTPGTYEekYcSX_PQZPz7RTSXZYNg@mail.gmail.com>
 <CAC7zN9694aSUODDNdwoNwHyen=w-RrEuHiDUGp8WLwVdtjSqvA@mail.gmail.com>
Message-ID: <CAC7zN97dazbLFEVmZwpSf+jxWB_RtPKc0=w7vsPwXc4ar0REeQ@mail.gmail.com>

Part 3 : make sure if the build fails docker images are not published in
the future

On Sun, Jan 10, 2021 at 6:07 PM Matthias Kuhn <matthias at opengis.ch> wrote:

> Hi,
>
> It seems that something is broken in building the "custom widgets qt
> creator plugin" and that our CI didn't detect that.
>
> Part 1 : make sure this doesn't happen again. The ci builds now with
> customwidgets: https://github.com/qgis/QGIS/pull/40929
> Part 2 : fix the build
>
> Matthias
>
> On Sun, Jan 10, 2021 at 3:48 PM DelazJ <delazj at gmail.com> wrote:
>
>> Hi devs,
>>
>> Just to report that the master code tests infrastructure in
>> QGIS-Documentation seems broken. This is likely not due to some sample
>> codes in the docs since we did not change code recently, and the tests not
>> just run I suspect it's something in QGIS code or in the docker image; the
>> setup code fails with "ModuleNotFoundError: no module named qgis".
>> https://github.com/qgis/QGIS-Documentation/actions?query=workflow%3A%22Doctest+build%22+branch%3Amaster+event%3Apush
>> 3.16 is running fine afaict.
>>
>> Thanks for any help/fix,
>> Harrissou
>>
>>
>>
>> Le ven. 9 oct. 2020 ? 15:08, DelazJ <delazj at gmail.com> a ?crit :
>>
>>> Hi Matteo,
>>>
>>> I had opened an issue report to provide instructions on how to build the
>>> doctest (https://github.com/qgis/QGIS-Documentation/issues/6064). And I
>>> just noticed (sorry!) that Alessandro provided some feedback (in substance,
>>> "docker is the best route now").
>>>
>>> regards,
>>> Harrissou
>>>
>>> Le jeu. 8 oct. 2020 ? 08:16, matteo <matteo.ghetta at gmail.com> a ?crit :
>>>
>>>> Hi Harrissou,
>>>>
>>>> I don't have any answer for that, but it is the SAME error I have on my
>>>> local machine with a compiled version (or even the installation from
>>>> package) of QGIS.
>>>>
>>>> The only way for me to run the tests locally if using docker.
>>>>
>>>> I'm taking advantages of your mail to raise this problem (again) :)
>>>>
>>>> Cheers and thanks
>>>>
>>>> Matteo
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210110/72627c35/attachment.html>

From matteo.ghetta at gmail.com  Mon Jan 11 00:26:01 2021
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 11 Jan 2021 09:26:01 +0100
Subject: [QGIS-Developer] [Qgis-community-team] Call For Community
 Voting members ballot
In-Reply-To: <CAB2ZMRBQEDRoMEY9ngAMMXaJ2Q25pgE6o7Z0FATf+T_6VoEBfA@mail.gmail.com>
References: <CAB2ZMRBQEDRoMEY9ngAMMXaJ2Q25pgE6o7Z0FATf+T_6VoEBfA@mail.gmail.com>
Message-ID: <10f231fb-e463-e35f-f846-77a8f47200c6@gmail.com>

Hi all,

I just want to introduce Enrico Ferreguti as one of the candidates.

Very briefly, Enrico is the most active Italian plugin developer with 14 
plugin published [0] (go2mapillary, go2streetview and refFunctions now 
in core) and with a very active participation in the Italian QGIS Community.

Cheers!

Matteo

[0] https://plugins.qgis.org/plugins/author/Enrico%2520Ferreguti/

From bo.victor.thomsen at gmail.com  Mon Jan 11 05:16:23 2021
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Mon, 11 Jan 2021 14:16:23 +0100
Subject: [QGIS-Developer] Function to generate uri from settings in QGIS
In-Reply-To: <CAMtDFLLtPf8i14QA_iu4S2rT+6m8j++KNn9Uh4LgeL7fOkDLCQ@mail.gmail.com>
References: <8245a372-31dd-30af-e24e-01815de7e620@gmail.com>
 <CAL5Q6712TMD_Pxps9b-+FmcSfL1E6E+ccZcmAbzVjeXJ-U1kUw@mail.gmail.com>
 <CAMtDFLLtPf8i14QA_iu4S2rT+6m8j++KNn9Uh4LgeL7fOkDLCQ@mail.gmail.com>
Message-ID: <45f8b6d0-fd1c-622f-19df-e53b136e60b4@gmail.com>

Multiple thanks to both Alessandro and Etienne for helping me with this 
question. I owe you both a large cold beer (each !) next time we meet.

Med venlig hilsen / Kind regards

Bo Victor Thomsen

Den 10-01-2021 kl. 04:10 skrev Etienne Trimaille:
> The connection API is indeed convenient for that :
>
> metadata = QgsProviderRegistry.instance().providerMetadata('postgres')
> connection = metadata.findConnection("the postgis connection name")
> uri = QgsDataSourceUri(connection.uri())
>
> Le?sam. 9 janv. 2021 ??22:36, Alessandro Pasotti <apasotti at gmail.com 
> <mailto:apasotti at gmail.com>> a ?crit?:
>
>     Hi Bo,
>
>     you may have a look to
>     https://qgis.org/pyqgis/master/core/QgsProviderRegistry.html?highlight=decodeuri#qgis.core.QgsProviderRegistry.decodeUri
>     <https://qgis.org/pyqgis/master/core/QgsProviderRegistry.html?highlight=decodeuri#qgis.core.QgsProviderRegistry.decodeUri>
>     and encodeUri.
>
>     Or better: the connections API
>     https://qgis.org/pyqgis/master/core/QgsAbstractProviderConnection.html
>     <https://qgis.org/pyqgis/master/core/QgsAbstractProviderConnection.html>
>
>
>
>     On Sat, Jan 9, 2021 at 2:03 PM Bo Victor Thomsen
>     <bo.victor.thomsen at gmail.com <mailto:bo.victor.thomsen at gmail.com>>
>     wrote:
>     >
>     > Ok, this has me stumped.
>     >
>     > I know, that I can generate a database URI like this (example
>     from cookbook):
>     >
>     > uri = QgsDataSourceUri()
>     > # set host name, port, database name, username and password
>     > uri.setConnection("localhost", "5432", "dbname", "johny", "xxx")
>     > # set database schema, table name, geometry column and optionally
>     > # subset (WHERE clause)
>     > uri.setDataSource("public", "roads", "the_geom", "cityid = 2643")
>     >
>     > vlayer = QgsVectorLayer(uri.uri(False), "layer name you like",
>     "postgres")
>     >
>     >
>     > But I would like to use information from a already defined
>     Datasource connection from the Datamanager dialog.
>     >
>     > I suspect, that there must be a
>     "QgsSettingsConvertToUri_or_whatever_it_is_called()" function that
>     uses a? QGS settings address? (ex. like
>     "/PostgreSQL/connections/MyDatabase" for a Postgresql database
>     connection)? as input and automatically convert the settings
>     values to a URI string.
>     >
>     > Is there anyone, that can point me in the right direction ?
>     >
>     > --
>     >
>     > Med venlig hilsen / Kind regards
>     >
>     > Bo Victor Thomsen
>     >
>     > _______________________________________________
>     > QGIS-Developer mailing list
>     > QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>     > List info:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     > Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>
>     -- 
>     Alessandro Pasotti
>     QCooperative: www.qcooperative.net <http://www.qcooperative.net>
>     ItOpen: www.itopen.it <http://www.itopen.it>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210111/c4cbe3e1/attachment.html>

From rdmailings at duif.net  Mon Jan 11 05:50:10 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 11 Jan 2021 14:50:10 +0100
Subject: [QGIS-Developer] (Postgis)VectorLayer based on QgsFeatureRequest?
Message-ID: <cc8448a9-a7c9-f9fc-6c32-7494b2728867@duif.net>

Hi Devs,

I have this project in which there is (a set of different) moving cars (in time and position), but I only want to show (and able to edit in a plugin) the LAST POSITION of the cars.

In QGIS gui you can NOT use 'limit' or 'order' parts in the filter clause, I can only filter on car-ID (or so) (would be nice to have I think...).

In PyQGIS you can create a featureIterator based on a QgsFeatureRequest in which you CAN set limit and order of the set to iterate over...

My question is: can I create a VectorLayer, based on a QgsFeatureRequest? 
In this way you can (at least in python) create a much finer grained 'filter' for a certain layer.

I looked into the api and did some googling, and hope that I just missed it...

I have thought about creating a VIEW in the db for this (that is with an ordering on time and limit 1), and then with a filter=xxx in QGIS gui, I can at least see my subset's.
But I think it is actually stronger to sort of have an real (editable) layer in QGIS for that?

Regards,

Richard Duivenvoorde

[0] https://qgis.org/pyqgis/master/core/QgsFeatureRequest.html

From jdaniel.lomenede at gmail.com  Mon Jan 11 06:44:33 2021
From: jdaniel.lomenede at gmail.com (JD L)
Date: Mon, 11 Jan 2021 15:44:33 +0100
Subject: [QGIS-Developer] (Postgis)VectorLayer based on
 QgsFeatureRequest?
In-Reply-To: <cc8448a9-a7c9-f9fc-6c32-7494b2728867@duif.net>
References: <cc8448a9-a7c9-f9fc-6c32-7494b2728867@duif.net>
Message-ID: <CAFHejDRYkDju5HRPMpPVpW7x3ud8vkaJ+QTDi4A9_8qpwbfziw@mail.gmail.com>

Hi Richard,
have you considered something like this (maybe not the optimal way)

req = QgsFeatureRequest()
req.setLimit(10)

sink, dest = QgsProcessingUtils.createFeatureSink(
    uri,
    QgsProcessingContext(),
    source_layer.fields(),
    source_layer.wkbType(),
    source_layer.crs()
)

sink.addFeatures(source_layer.getFeatures(req), QgsFeatureSink.FastInsert)

del sink

Regards,


Le lun. 11 janv. 2021 ? 14:50, Richard Duivenvoorde <rdmailings at duif.net> a
?crit :

> Hi Devs,
>
> I have this project in which there is (a set of different) moving cars (in
> time and position), but I only want to show (and able to edit in a plugin)
> the LAST POSITION of the cars.
>
> In QGIS gui you can NOT use 'limit' or 'order' parts in the filter clause,
> I can only filter on car-ID (or so) (would be nice to have I think...).
>
> In PyQGIS you can create a featureIterator based on a QgsFeatureRequest in
> which you CAN set limit and order of the set to iterate over...
>
> My question is: can I create a VectorLayer, based on a QgsFeatureRequest?
> In this way you can (at least in python) create a much finer grained
> 'filter' for a certain layer.
>
> I looked into the api and did some googling, and hope that I just missed
> it...
>
> I have thought about creating a VIEW in the db for this (that is with an
> ordering on time and limit 1), and then with a filter=xxx in QGIS gui, I
> can at least see my subset's.
> But I think it is actually stronger to sort of have an real (editable)
> layer in QGIS for that?
>
> Regards,
>
> Richard Duivenvoorde
>
> [0] https://qgis.org/pyqgis/master/core/QgsFeatureRequest.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210111/d0177994/attachment.html>

From pergler at gmail.com  Mon Jan 11 07:51:52 2021
From: pergler at gmail.com (Martin Pergler)
Date: Mon, 11 Jan 2021 08:51:52 -0700 (MST)
Subject: [QGIS-Developer] Issue with QGIS 3.16.2 standalone and GRASS
 7.8.4
In-Reply-To: <1610194558642-0.post@n6.nabble.com>
References: <CAMCJChv6xU9HHABT+a+n=OhsBmtVZUAGpOz2ooyQcerq0iPn5w@mail.gmail.com>
 <1609360330890-0.post@n6.nabble.com>
 <CAMCJChsVOH4BufUGw3_e3Sqgrj+aHVrEZTa4m8UjtkQ3=gSAhQ@mail.gmail.com>
 <1609372039347-0.post@n6.nabble.com>
 <CAMCJChvkkXWGyJ+u9VYERv0eQ7=Y+XOEYoJ7zZ6Zzjq1B-irGg@mail.gmail.com>
 <1610194558642-0.post@n6.nabble.com>
Message-ID: <1610380312946-0.post@n6.nabble.com>

Andrea Giudiceandrea wrote
> yes, I can confirm that both 3.16.2-2 and 3.10.13-2 standalone installers
> ship QGIS with GRASS 7.8.5 and the issue is now fixed for both thanks to
> J?rgen E. Fischer.

However, as far as I can tell, the OSGeo4W component installer seems to only
know about 3.16.2*-1* and 3.10.13*-1*, though it does also install GRASS
7.8.5.  

Therefore a seemingly up-to-date OSGeo4W install of QGIS + GRASS continues
to fail to load GRASS.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From rdmailings at duif.net  Mon Jan 11 07:53:50 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 11 Jan 2021 16:53:50 +0100
Subject: [QGIS-Developer] (Postgis)VectorLayer based on
 QgsFeatureRequest?
In-Reply-To: <CAFHejDRYkDju5HRPMpPVpW7x3ud8vkaJ+QTDi4A9_8qpwbfziw@mail.gmail.com>
References: <cc8448a9-a7c9-f9fc-6c32-7494b2728867@duif.net>
 <CAFHejDRYkDju5HRPMpPVpW7x3ud8vkaJ+QTDi4A9_8qpwbfziw@mail.gmail.com>
Message-ID: <20d7b88d-d1dc-1d03-502c-396b262eb077@duif.net>

Hi, 

Thanks! 

My issue is not so much using the QgsFeatureRequest (and it's filters) in python. 
You can do a 'layer.getFeatures(request)' too.
It's more like that I think it would be nice to have some kind of 'filtered'-layer notion, but a little more fine-grained then current 'filter'-use.

Raymond told me that using 'Virtual Layers' it is possible to use the full sql-query syntax.
And I just tested and indeed that seems to work.
Have to see how this is implemented though...

Regards,

Richard Duivenvoorde

On 1/11/21 3:44 PM, JD L wrote:
> Hi Richard,?
> have you considered something like this (maybe not the optimal way)
> 
> req = QgsFeatureRequest()
> req.setLimit(10)
> 
> sink, dest = QgsProcessingUtils.createFeatureSink(
> ? ? uri,
> ? ? QgsProcessingContext(),
> ? ? source_layer.fields(),
> ? ? source_layer.wkbType(),
> ? ? source_layer.crs()
> )
> 
> sink.addFeatures(source_layer.getFeatures(req), QgsFeatureSink.FastInsert)
> 
> del sink
> 
> Regards,
> 
> 
> Le lun. 11 janv. 2021 ? 14:50, Richard Duivenvoorde <rdmailings at duif.net <mailto:rdmailings at duif.net>> a ?crit?:
> 
>     Hi Devs,
> 
>     I have this project in which there is (a set of different) moving cars (in time and position), but I only want to show (and able to edit in a plugin) the LAST POSITION of the cars.
> 
>     In QGIS gui you can NOT use 'limit' or 'order' parts in the filter clause, I can only filter on car-ID (or so) (would be nice to have I think...).
> 
>     In PyQGIS you can create a featureIterator based on a QgsFeatureRequest in which you CAN set limit and order of the set to iterate over...
> 
>     My question is: can I create a VectorLayer, based on a QgsFeatureRequest?
>     In this way you can (at least in python) create a much finer grained 'filter' for a certain layer.
> 
>     I looked into the api and did some googling, and hope that I just missed it...
> 
>     I have thought about creating a VIEW in the db for this (that is with an ordering on time and limit 1), and then with a filter=xxx in QGIS gui, I can at least see my subset's.
>     But I think it is actually stronger to sort of have an real (editable) layer in QGIS for that?
> 
>     Regards,
> 
>     Richard Duivenvoorde
> 
>     [0] https://qgis.org/pyqgis/master/core/QgsFeatureRequest.html <https://qgis.org/pyqgis/master/core/QgsFeatureRequest.html>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 


From andreaerdna at libero.it  Mon Jan 11 08:57:22 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Mon, 11 Jan 2021 09:57:22 -0700 (MST)
Subject: [QGIS-Developer] Issue with QGIS 3.16.2 standalone and GRASS
 7.8.4
In-Reply-To: <1610380312946-0.post@n6.nabble.com>
References: <CAMCJChv6xU9HHABT+a+n=OhsBmtVZUAGpOz2ooyQcerq0iPn5w@mail.gmail.com>
 <1609360330890-0.post@n6.nabble.com>
 <CAMCJChsVOH4BufUGw3_e3Sqgrj+aHVrEZTa4m8UjtkQ3=gSAhQ@mail.gmail.com>
 <1609372039347-0.post@n6.nabble.com>
 <CAMCJChvkkXWGyJ+u9VYERv0eQ7=Y+XOEYoJ7zZ6Zzjq1B-irGg@mail.gmail.com>
 <1610194558642-0.post@n6.nabble.com> <1610380312946-0.post@n6.nabble.com>
Message-ID: <1610384242189-0.post@n6.nabble.com>

Martin Pergler wrote
> However, as far as I can tell, the OSGeo4W component installer seems to
> only
> know about 3.16.2*-1* and 3.10.13*-1*, though it does also install GRASS
> 7.8.5.  
> 
> Therefore a seemingly up-to-date OSGeo4W install of QGIS + GRASS continues
> to fail to load GRASS.

Hi Martin,
are you referring to the "OSGeo4W Network Installer"?

The "Standalone Installer" contains a snapshot of the OSGeo4W Network
Installer packages,

There is now a *-2 version of the standalone installer because the *-1
version contained GRASS 7.8.4 but the dependency packages for GRASS 7.8.5
[1] so there were two missing packages.

Anyway, after double checking that GRASS 7.8.5 is installed and that you
launch QGIS using the shortcut named "QGIS Desktop 3.16.2 with GRASS 7.8.5",
you could also file an issue report on https://trac.osgeo.org/osgeo4w/

Is any error listed in any tab of the Log Meggages panel?

Regards.

Andrea



[1] https://trac.osgeo.org/osgeo4w/ticket/655#comment:1



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From gault.drakkor at gmail.com  Mon Jan 11 13:01:43 2021
From: gault.drakkor at gmail.com (Gault Drakkor)
Date: Mon, 11 Jan 2021 13:01:43 -0800
Subject: [QGIS-Developer] Creating a non trivial join/view via PyQGIS in a
 QgsProcessingAlgorithm
Message-ID: <CALiR5UrWW8FVpfST3vmfCiHDMcX_984nseA8h3dV7TPTW+ftHQ@mail.gmail.com>

I posted this to gis stack exchange. no answers as yet. Below is
essentially the same.

https://gis.stackexchange.com/questions/382141/create-non-trivial-join-view-via-pyqgis-in-a-qgsprocessingalgorithm

In the context of QgsProcessingAlgorithm, what is the best way to take
information from several layers and output based upon that combination of
layers? or: What is wrong with my layer creation?

The overall task/procedure I am trying to accomplish is to take several
QGIS layers combine them with a query, then output some files based upon
that view/join. I have chosen a processing algorithm above a plugin because
it seemed to be better fitting than a plugin.

What I have tried.

Given:

A non-trivial SQL select and join (three tables, one geometry, two
attributes) named *sql_query*. I am mentioning that it is non-trivial to
say that QgsVectorLayerJoinInfo is not something that can be used easily.

A geo package with all the tables used in the query at location:
/path/to/test.gpkg The tables of the above geo package placed into a QGIS
project.

A joined layer can be created via: The DB Manager plugin/tool's
"SQLWindow". The sql_query can be entered into the Query tab, executed,
then "Load as new layer"

Or in the python console:

spec = f'/path/to/test.gpkg|layerid=0|subset={sql_query}'
layer = QgsVectorLayer(spec, 'joined_layer', providerLib='ogr')
QgsProject.instance().addMapLayer(layer)

Or via ogrinfo: ogrinfo -q test.gpkg -sql <sql_query>

In the context of QgsProcessingAlgorithm using same code as what was used
in the python console I get:

ERROR 1: failed to prepare SQL: <echo of sql_query>

In the meantime, I used a workaround. I am guessing I am missing some minor
thing.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210111/3092be1a/attachment.html>

From a.neumann at carto.net  Mon Jan 11 13:28:26 2021
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 11 Jan 2021 22:28:26 +0100
Subject: [QGIS-Developer] Troubles compiling QGIS master
Message-ID: <1bfe2be0d54c1e9452d6e63493641b90@carto.net>

Hi,

I am having troubles compiling QGIS master. It always hangs with output 
like the following:

[0/1] Re-running CMake...
-- QGIS version: 3.17.0 Master (31700)
-- Found OpenCL C++ headers: /usr/include
-- Could not find GRASS 7
-- Found Proj: /usr/local/lib/libproj.so version 7 (7.2.0)
-- Found GEOS: /usr/local/lib/libgeos_c.so (3.9.0)
-- Found GDAL: /usr/local/lib/libgdal.so (3.1.0)
-- Found Expat: /usr/lib/x86_64-linux-gnu/libexpat.so
-- Found Spatialindex: /usr/lib/x86_64-linux-gnu/libspatialindex.so
-- Found Qwt: /usr/lib/libqwt-qt5.so (6.1.4)
-- Found libzip: /usr/lib/x86_64-linux-gnu/libzip.so
-- Found Sqlite3: /usr/lib/x86_64-linux-gnu/libsqlite3.so
-- Found Protobuf: /usr/lib/x86_64-linux-gnu/libprotobuf.so;-pthread
-- Found zlib: /usr/lib/x86_64-linux-gnu/libz.so
-- Found PostgreSQL: /usr/local/pgsql/lib/libpq.so
-- Found SpatiaLite: /usr/local/lib/libspatialite.so
-- Qt WebKit support enabled
-- Found ZSTD: /usr/lib/x86_64-linux-gnu/libzstd.so
-- Found laz-perf: /usr/local/include
-- Found PDAL: 
/usr/local/lib/libpdalcpp.so;/usr/local/lib/libpdal_util.so (2.2.0)
-- Found Qt version: 5.12.8
-- Found QScintilla2: /usr/lib/libqscintilla2_qt5.so (2.11.2)
-- Found QtKeychain: /usr/lib/x86_64-linux-gnu/libqt5keychain.so
-- Found QCA: /usr/lib/x86_64-linux-gnu/libqca-qt5.so (2.2.1)
-- Found QCA OpenSSL plugin
-- Pedantic compiler settings enabled
-- Debug output enabled
-- Found GSL: -L/usr/lib/x86_64-linux-gnu -lgsl -lgslcblas -lm
-- Found Python executable: /usr/bin/python3
-- Found Python version: 3.8.5
-- Found Python library: /usr/lib/x86_64-linux-gnu/libpython3.8.so
-- Found Python site-packages: /usr/lib/python3/dist-packages
-- Found PyQt5 version: 5.14.1
-- Found SIP version: 4.19.21
-- Found QScintilla2 PyQt module: 2.11.2
-- Found exiv2: /usr/lib/x86_64-linux-gnu/libexiv2.so
-- HDF5: Using hdf5 compiler wrapper to determine C configuration
-- Using PROJ >= 6 srs database.
-- Ctest Binary Directory set to: /home/an/dev/QGIS/build/output/bin
-- Configuring done
-- Generating done
-- Build files have been written to: /home/an/dev/QGIS/build
[1/5758] Generating qgsversion.h, qgsversion.inc
Files "/home/an/dev/QGIS/build/qgsversion.h.temp" to 
"/home/an/dev/QGIS/build/qgsversion.h" are different.
[3/5758] Generating qgsexpression_texts.cpp
Files "/home/an/dev/QGIS/build/src/core/qgsexpression_texts.cpp.temp" to 
"/home/an/dev/QGIS/build/src/core/qgsexpression_texts.cpp" are 
different.
[2427/5758] Building CXX object 
src/providers/mdal/CMakeFiles/mdalprovider.dir/__/__/__/external/mdal/mdal_utils.cpp.o
../external/mdal/mdal_utils.cpp: In function 'int MDAL::toInt(size_t)':
../external/mdal/mdal_utils.cpp:143:14: warning: comparison of integer 
expressions of different signedness: 'const size_t' {aka 'const long 
unsigned int'} and 'int' [-Wsign-compare]
  143 |   if ( value > std::numeric_limits<int>::max() )
      |        ~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[2470/5758] Building CXX object 
src/providers/pdal/CMakeFiles/pdalprovider_a.dir/__/__/__/external/untwine/api/QgisUntwine.cpp.o
In file included from ../external/untwine/api/QgisUntwine.cpp:8:
../external/untwine/api/QgisUntwine_unix.cpp: In member function 'bool 
untwine::QgisUntwine::start(untwine::QgisUntwine::Options&)':
../external/untwine/api/QgisUntwine_unix.cpp:17:9: warning: unused 
variable 'ret' [-Wunused-variable]
   17 |     int ret = ::pipe(fd);
      |         ^~~
[2475/5758] Building CXX object 
src/providers/pdal/CMakeFiles/pdalprovider.dir/__/__/__/external/untwine/api/QgisUntwine.cpp.o
In file included from ../external/untwine/api/QgisUntwine.cpp:8:
../external/untwine/api/QgisUntwine_unix.cpp: In member function 'bool 
untwine::QgisUntwine::start(untwine::QgisUntwine::Options&)':
../external/untwine/api/QgisUntwine_unix.cpp:17:9: warning: unused 
variable 'ret' [-Wunused-variable]
   17 |     int ret = ::pipe(fd);
      |         ^~~
[2505/5758] Running crssync
FAILED: src/crssync/CMakeFiles/synccrsdb
cd /home/an/dev/QGIS/build/src/crssync && 
/home/an/dev/QGIS/build/output/bin/crssync
free(): invalid pointer
Aborted (core dumped)
[2506/5758] Building CXX object 
src/app/dwg/libdxfrw/CMakeFiles/libdxfrw.dir/drw_entities.cpp.o
ninja: build stopped: subcommand failed.

Any idea what might be wrong here?

Thanks,

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210111/3dd75c17/attachment.html>

From delazj at gmail.com  Tue Jan 12 01:55:22 2021
From: delazj at gmail.com (DelazJ)
Date: Tue, 12 Jan 2021 10:55:22 +0100
Subject: [QGIS-Developer] Travis failing in QGIS-Documentation
In-Reply-To: <CAC7zN97dazbLFEVmZwpSf+jxWB_RtPKc0=w7vsPwXc4ar0REeQ@mail.gmail.com>
References: <4edda8fa-8a8a-2b6f-7917-57da1859f500@gmail.com>
 <CAMtsY+ZCK_GuRu_=CfLBpC7-YfeTxAeDc=Ux+4L4OddNJmXSrg@mail.gmail.com>
 <a0f8823e-6b81-e66f-1f87-80e2e5c33178@gmail.com>
 <4e041167-402d-1c85-0752-e308be009bdf@gmail.com>
 <CAMtsY+bT0XWjVQJhM5KXT7vjB=NUC-KPy95H86xt+w-VmrBgLw@mail.gmail.com>
 <57643f60-8d41-e17e-b647-c2c4b7ea6a58@gmail.com>
 <CAMtsY+bBz=RsodFdrdHxexb8DBTqVe-q=vhHe+KHz1mPABkFaA@mail.gmail.com>
 <6c61f3e6-7e89-8a30-5d74-cc3573e4a0d1@gmail.com>
 <8318b1bb-c45e-afbf-800e-8d73ca7b37e6@duif.net>
 <b5a28bcd-6d49-5442-2cd7-7fa96e53a5c0@gmail.com>
 <CAECJsSpTcsN2J2tgw4rk7nnmZ0TLkWLc06L-OQntTzxwDrgbEQ@mail.gmail.com>
 <CAECJsSq+aEp4GdKEeyXXDV5DMkTmFHZG_rjz-_8kcqfV=SWZxw@mail.gmail.com>
 <CAECJsSpoze3m5B3r9_30gaaw9UUSRKmp4ZhZHxp74EEy1jWaLA@mail.gmail.com>
 <c83a8fe9-da2a-43aa-62df-1324593266c1@gmail.com>
 <CAECJsSqaea_QsCwDuxjGJKpTZj0huHsqOQ+kE+OyWBXHWP3iVg@mail.gmail.com>
 <CAECJsSqTSbv-6sAw7x4jk0PTPGTYEekYcSX_PQZPz7RTSXZYNg@mail.gmail.com>
 <CAC7zN9694aSUODDNdwoNwHyen=w-RrEuHiDUGp8WLwVdtjSqvA@mail.gmail.com>
 <CAC7zN97dazbLFEVmZwpSf+jxWB_RtPKc0=w7vsPwXc4ar0REeQ@mail.gmail.com>
Message-ID: <CAECJsSrX8iqW3=JuNBpGAHsBa8YQzLGeTrMhzSyNffMfg73SWw@mail.gmail.com>

Hi,

Back to green. Thanks, Matthias.

Harrissou



Le dim. 10 janv. 2021 ? 22:12, Matthias Kuhn <matthias at opengis.ch> a ?crit :

> Part 3 : make sure if the build fails docker images are not published in
> the future
>
> On Sun, Jan 10, 2021 at 6:07 PM Matthias Kuhn <matthias at opengis.ch> wrote:
>
>> Hi,
>>
>> It seems that something is broken in building the "custom widgets qt
>> creator plugin" and that our CI didn't detect that.
>>
>> Part 1 : make sure this doesn't happen again. The ci builds now with
>> customwidgets: https://github.com/qgis/QGIS/pull/40929
>> Part 2 : fix the build
>>
>> Matthias
>>
>> On Sun, Jan 10, 2021 at 3:48 PM DelazJ <delazj at gmail.com> wrote:
>>
>>> Hi devs,
>>>
>>> Just to report that the master code tests infrastructure in
>>> QGIS-Documentation seems broken. This is likely not due to some sample
>>> codes in the docs since we did not change code recently, and the tests not
>>> just run I suspect it's something in QGIS code or in the docker image; the
>>> setup code fails with "ModuleNotFoundError: no module named qgis".
>>> https://github.com/qgis/QGIS-Documentation/actions?query=workflow%3A%22Doctest+build%22+branch%3Amaster+event%3Apush
>>> 3.16 is running fine afaict.
>>>
>>> Thanks for any help/fix,
>>> Harrissou
>>>
>>>
>>>
>>> Le ven. 9 oct. 2020 ? 15:08, DelazJ <delazj at gmail.com> a ?crit :
>>>
>>>> Hi Matteo,
>>>>
>>>> I had opened an issue report to provide instructions on how to build
>>>> the doctest (https://github.com/qgis/QGIS-Documentation/issues/6064).
>>>> And I just noticed (sorry!) that Alessandro provided some feedback (in
>>>> substance, "docker is the best route now").
>>>>
>>>> regards,
>>>> Harrissou
>>>>
>>>> Le jeu. 8 oct. 2020 ? 08:16, matteo <matteo.ghetta at gmail.com> a ?crit :
>>>>
>>>>> Hi Harrissou,
>>>>>
>>>>> I don't have any answer for that, but it is the SAME error I have on my
>>>>> local machine with a compiled version (or even the installation from
>>>>> package) of QGIS.
>>>>>
>>>>> The only way for me to run the tests locally if using docker.
>>>>>
>>>>> I'm taking advantages of your mail to raise this problem (again) :)
>>>>>
>>>>> Cheers and thanks
>>>>>
>>>>> Matteo
>>>>> _______________________________________________
>>>>> QGIS-Developer mailing list
>>>>> QGIS-Developer at lists.osgeo.org
>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210112/9ed2380f/attachment-0001.html>

From apasotti at gmail.com  Tue Jan 12 02:00:01 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 12 Jan 2021 11:00:01 +0100
Subject: [QGIS-Developer] Travis failing in QGIS-Documentation
In-Reply-To: <CAECJsSrX8iqW3=JuNBpGAHsBa8YQzLGeTrMhzSyNffMfg73SWw@mail.gmail.com>
References: <4edda8fa-8a8a-2b6f-7917-57da1859f500@gmail.com>
 <CAMtsY+ZCK_GuRu_=CfLBpC7-YfeTxAeDc=Ux+4L4OddNJmXSrg@mail.gmail.com>
 <a0f8823e-6b81-e66f-1f87-80e2e5c33178@gmail.com>
 <4e041167-402d-1c85-0752-e308be009bdf@gmail.com>
 <CAMtsY+bT0XWjVQJhM5KXT7vjB=NUC-KPy95H86xt+w-VmrBgLw@mail.gmail.com>
 <57643f60-8d41-e17e-b647-c2c4b7ea6a58@gmail.com>
 <CAMtsY+bBz=RsodFdrdHxexb8DBTqVe-q=vhHe+KHz1mPABkFaA@mail.gmail.com>
 <6c61f3e6-7e89-8a30-5d74-cc3573e4a0d1@gmail.com>
 <8318b1bb-c45e-afbf-800e-8d73ca7b37e6@duif.net>
 <b5a28bcd-6d49-5442-2cd7-7fa96e53a5c0@gmail.com>
 <CAECJsSpTcsN2J2tgw4rk7nnmZ0TLkWLc06L-OQntTzxwDrgbEQ@mail.gmail.com>
 <CAECJsSq+aEp4GdKEeyXXDV5DMkTmFHZG_rjz-_8kcqfV=SWZxw@mail.gmail.com>
 <CAECJsSpoze3m5B3r9_30gaaw9UUSRKmp4ZhZHxp74EEy1jWaLA@mail.gmail.com>
 <c83a8fe9-da2a-43aa-62df-1324593266c1@gmail.com>
 <CAECJsSqaea_QsCwDuxjGJKpTZj0huHsqOQ+kE+OyWBXHWP3iVg@mail.gmail.com>
 <CAECJsSqTSbv-6sAw7x4jk0PTPGTYEekYcSX_PQZPz7RTSXZYNg@mail.gmail.com>
 <CAC7zN9694aSUODDNdwoNwHyen=w-RrEuHiDUGp8WLwVdtjSqvA@mail.gmail.com>
 <CAC7zN97dazbLFEVmZwpSf+jxWB_RtPKc0=w7vsPwXc4ar0REeQ@mail.gmail.com>
 <CAECJsSrX8iqW3=JuNBpGAHsBa8YQzLGeTrMhzSyNffMfg73SWw@mail.gmail.com>
Message-ID: <CAL5Q670Gf024TWtzy+RuUv2U36oRuH6crmK4NhHQfKJ2sfvfzw@mail.gmail.com>

Thank you Matthias!

Just a side note: this is the second time that a failing test in the
documentation helps to discover an unnoticed issue on QGIS master, it
means that the documentation tests are also useful for the general
purpose of QA in QGIS itself and not only for documentation.



On Tue, Jan 12, 2021 at 10:55 AM DelazJ <delazj at gmail.com> wrote:
>
> Hi,
>
> Back to green. Thanks, Matthias.
>
> Harrissou
>
>
>
> Le dim. 10 janv. 2021 ? 22:12, Matthias Kuhn <matthias at opengis.ch> a ?crit :
>>
>> Part 3 : make sure if the build fails docker images are not published in the future
>>
>> On Sun, Jan 10, 2021 at 6:07 PM Matthias Kuhn <matthias at opengis.ch> wrote:
>>>
>>> Hi,
>>>
>>> It seems that something is broken in building the "custom widgets qt creator plugin" and that our CI didn't detect that.
>>>
>>> Part 1 : make sure this doesn't happen again. The ci builds now with customwidgets: https://github.com/qgis/QGIS/pull/40929
>>> Part 2 : fix the build
>>>
>>> Matthias
>>>
>>> On Sun, Jan 10, 2021 at 3:48 PM DelazJ <delazj at gmail.com> wrote:
>>>>
>>>> Hi devs,
>>>>
>>>> Just to report that the master code tests infrastructure in QGIS-Documentation seems broken. This is likely not due to some sample codes in the docs since we did not change code recently, and the tests not just run I suspect it's something in QGIS code or in the docker image; the setup code fails with "ModuleNotFoundError: no module named qgis". https://github.com/qgis/QGIS-Documentation/actions?query=workflow%3A%22Doctest+build%22+branch%3Amaster+event%3Apush
>>>> 3.16 is running fine afaict.
>>>>
>>>> Thanks for any help/fix,
>>>> Harrissou
>>>>
>>>>
>>>>
>>>> Le ven. 9 oct. 2020 ? 15:08, DelazJ <delazj at gmail.com> a ?crit :
>>>>>
>>>>> Hi Matteo,
>>>>>
>>>>> I had opened an issue report to provide instructions on how to build the doctest (https://github.com/qgis/QGIS-Documentation/issues/6064). And I just noticed (sorry!) that Alessandro provided some feedback (in substance, "docker is the best route now").
>>>>>
>>>>> regards,
>>>>> Harrissou
>>>>>
>>>>> Le jeu. 8 oct. 2020 ? 08:16, matteo <matteo.ghetta at gmail.com> a ?crit :
>>>>>>
>>>>>> Hi Harrissou,
>>>>>>
>>>>>> I don't have any answer for that, but it is the SAME error I have on my
>>>>>> local machine with a compiled version (or even the installation from
>>>>>> package) of QGIS.
>>>>>>
>>>>>> The only way for me to run the tests locally if using docker.
>>>>>>
>>>>>> I'm taking advantages of your mail to raise this problem (again) :)
>>>>>>
>>>>>> Cheers and thanks
>>>>>>
>>>>>> Matteo
>>>>>> _______________________________________________
>>>>>> QGIS-Developer mailing list
>>>>>> QGIS-Developer at lists.osgeo.org
>>>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From rdmailings at duif.net  Tue Jan 12 02:51:49 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 12 Jan 2021 11:51:49 +0100
Subject: [QGIS-Developer] Travis failing in QGIS-Documentation
In-Reply-To: <CAECJsSrX8iqW3=JuNBpGAHsBa8YQzLGeTrMhzSyNffMfg73SWw@mail.gmail.com>
References: <4edda8fa-8a8a-2b6f-7917-57da1859f500@gmail.com>
 <CAMtsY+bT0XWjVQJhM5KXT7vjB=NUC-KPy95H86xt+w-VmrBgLw@mail.gmail.com>
 <57643f60-8d41-e17e-b647-c2c4b7ea6a58@gmail.com>
 <CAMtsY+bBz=RsodFdrdHxexb8DBTqVe-q=vhHe+KHz1mPABkFaA@mail.gmail.com>
 <6c61f3e6-7e89-8a30-5d74-cc3573e4a0d1@gmail.com>
 <8318b1bb-c45e-afbf-800e-8d73ca7b37e6@duif.net>
 <b5a28bcd-6d49-5442-2cd7-7fa96e53a5c0@gmail.com>
 <CAECJsSpTcsN2J2tgw4rk7nnmZ0TLkWLc06L-OQntTzxwDrgbEQ@mail.gmail.com>
 <CAECJsSq+aEp4GdKEeyXXDV5DMkTmFHZG_rjz-_8kcqfV=SWZxw@mail.gmail.com>
 <CAECJsSpoze3m5B3r9_30gaaw9UUSRKmp4ZhZHxp74EEy1jWaLA@mail.gmail.com>
 <c83a8fe9-da2a-43aa-62df-1324593266c1@gmail.com>
 <CAECJsSqaea_QsCwDuxjGJKpTZj0huHsqOQ+kE+OyWBXHWP3iVg@mail.gmail.com>
 <CAECJsSqTSbv-6sAw7x4jk0PTPGTYEekYcSX_PQZPz7RTSXZYNg@mail.gmail.com>
 <CAC7zN9694aSUODDNdwoNwHyen=w-RrEuHiDUGp8WLwVdtjSqvA@mail.gmail.com>
 <CAC7zN97dazbLFEVmZwpSf+jxWB_RtPKc0=w7vsPwXc4ar0REeQ@mail.gmail.com>
 <CAECJsSrX8iqW3=JuNBpGAHsBa8YQzLGeTrMhzSyNffMfg73SWw@mail.gmail.com>
Message-ID: <33ac60cc-382f-35c0-cb82-2e9505ed08fd@duif.net>

On 1/12/21 10:55 AM, DelazJ wrote:
> Hi,
> 
> Back to green. Thanks, Matthias.

Yes, big THANKS!!!

...

but... one of my docs (temporal navigator) PR's is still failing:
https://travis-ci.org/github/qgis/QGIS-Documentation/builds/739861175

NOT image related, but if somebody finds some time to check, please let me know what I'm doing wrong.

Regards,

Richard Duivenvoorde




From andreas at qgis.org  Tue Jan 12 03:16:41 2021
From: andreas at qgis.org (Andreas Neumann)
Date: Tue, 12 Jan 2021 12:16:41 +0100
Subject: [QGIS-Developer] Avoid overlap settings issue
Message-ID: <CAB2Z92BmAJpCFTMhu9yuL81K7CLwXwKcFkQzm-bDYC=-bmStLg@mail.gmail.com>

Hi,

My employer is on QGIS 3.10. I have an issue with the "avoid overlap
setting" when digitizing. I would like to avoid overlap only "within" the
current layer, but not for all layers. Also, it would be desirable to have
"avoid overlap" affect only some specific layers, and others not.

Currently, when I turn on "Avoid overlap" on a single layer, it has an
effect on all layers, which is often not the desired behavior.

I see that https://github.com/qgis/QGIS/pull/35689 (already in 3.16 or
master) addresses the case of "avoid overlaps" on active layer only, but it
still doesn't allow the user to have a configuration to only affect
specific layers - it always affects all other layers.

How much work would it be to add a new mode where I can select specific
layers that are affected by the avoid overlap setting? The advanced
configuration doesn't cover this so far. It is an all or nothing choice.

I know it is a bit complicated to allow arbitrary combinations of layers
that affect each other or not, but the alternative is that the user
digitizing would constantly have to change settings while digitizing, which
is also quite annoying and error-prone (if forgotten).

Thoughts?

Thanks,
Andreas

--
Andreas Neumann
QGIS.ORG board member (treasurer)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210112/07a4896c/attachment.html>

From apasotti at gmail.com  Tue Jan 12 03:32:07 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 12 Jan 2021 12:32:07 +0100
Subject: [QGIS-Developer] Travis failing in QGIS-Documentation
In-Reply-To: <33ac60cc-382f-35c0-cb82-2e9505ed08fd@duif.net>
References: <4edda8fa-8a8a-2b6f-7917-57da1859f500@gmail.com>
 <CAMtsY+bT0XWjVQJhM5KXT7vjB=NUC-KPy95H86xt+w-VmrBgLw@mail.gmail.com>
 <57643f60-8d41-e17e-b647-c2c4b7ea6a58@gmail.com>
 <CAMtsY+bBz=RsodFdrdHxexb8DBTqVe-q=vhHe+KHz1mPABkFaA@mail.gmail.com>
 <6c61f3e6-7e89-8a30-5d74-cc3573e4a0d1@gmail.com>
 <8318b1bb-c45e-afbf-800e-8d73ca7b37e6@duif.net>
 <b5a28bcd-6d49-5442-2cd7-7fa96e53a5c0@gmail.com>
 <CAECJsSpTcsN2J2tgw4rk7nnmZ0TLkWLc06L-OQntTzxwDrgbEQ@mail.gmail.com>
 <CAECJsSq+aEp4GdKEeyXXDV5DMkTmFHZG_rjz-_8kcqfV=SWZxw@mail.gmail.com>
 <CAECJsSpoze3m5B3r9_30gaaw9UUSRKmp4ZhZHxp74EEy1jWaLA@mail.gmail.com>
 <c83a8fe9-da2a-43aa-62df-1324593266c1@gmail.com>
 <CAECJsSqaea_QsCwDuxjGJKpTZj0huHsqOQ+kE+OyWBXHWP3iVg@mail.gmail.com>
 <CAECJsSqTSbv-6sAw7x4jk0PTPGTYEekYcSX_PQZPz7RTSXZYNg@mail.gmail.com>
 <CAC7zN9694aSUODDNdwoNwHyen=w-RrEuHiDUGp8WLwVdtjSqvA@mail.gmail.com>
 <CAC7zN97dazbLFEVmZwpSf+jxWB_RtPKc0=w7vsPwXc4ar0REeQ@mail.gmail.com>
 <CAECJsSrX8iqW3=JuNBpGAHsBa8YQzLGeTrMhzSyNffMfg73SWw@mail.gmail.com>
 <33ac60cc-382f-35c0-cb82-2e9505ed08fd@duif.net>
Message-ID: <CAL5Q671oR0M-=eZsMj-6v3TajhRNEoqtVi-DxzP1_VmqAgkU8w@mail.gmail.com>

On Tue, Jan 12, 2021 at 11:51 AM Richard Duivenvoorde
<rdmailings at duif.net> wrote:
>
> On 1/12/21 10:55 AM, DelazJ wrote:
> > Hi,
> >
> > Back to green. Thanks, Matthias.
>
> Yes, big THANKS!!!
>
> ...
>
> but... one of my docs (temporal navigator) PR's is still failing:
> https://travis-ci.org/github/qgis/QGIS-Documentation/builds/739861175
>
> NOT image related, but if somebody finds some time to check, please let me know what I'm doing wrong.
>
> Regards,
>
> Richard Duivenvoorde
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


I think this is None:
navigator = iface.mapCanvas().temporalController()

I wonder if it would be better to use a full real QGIS for doc
testing, the same system we use for plugins testing as explained here:
https://github.com/qgis/QGIS/tree/master/.docker#running-unit-tests-inside-qgis


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From rdmailings at duif.net  Tue Jan 12 03:38:18 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 12 Jan 2021 12:38:18 +0100
Subject: [QGIS-Developer] Travis failing in QGIS-Documentation
In-Reply-To: <CAL5Q671oR0M-=eZsMj-6v3TajhRNEoqtVi-DxzP1_VmqAgkU8w@mail.gmail.com>
References: <4edda8fa-8a8a-2b6f-7917-57da1859f500@gmail.com>
 <CAMtsY+bBz=RsodFdrdHxexb8DBTqVe-q=vhHe+KHz1mPABkFaA@mail.gmail.com>
 <6c61f3e6-7e89-8a30-5d74-cc3573e4a0d1@gmail.com>
 <8318b1bb-c45e-afbf-800e-8d73ca7b37e6@duif.net>
 <b5a28bcd-6d49-5442-2cd7-7fa96e53a5c0@gmail.com>
 <CAECJsSpTcsN2J2tgw4rk7nnmZ0TLkWLc06L-OQntTzxwDrgbEQ@mail.gmail.com>
 <CAECJsSq+aEp4GdKEeyXXDV5DMkTmFHZG_rjz-_8kcqfV=SWZxw@mail.gmail.com>
 <CAECJsSpoze3m5B3r9_30gaaw9UUSRKmp4ZhZHxp74EEy1jWaLA@mail.gmail.com>
 <c83a8fe9-da2a-43aa-62df-1324593266c1@gmail.com>
 <CAECJsSqaea_QsCwDuxjGJKpTZj0huHsqOQ+kE+OyWBXHWP3iVg@mail.gmail.com>
 <CAECJsSqTSbv-6sAw7x4jk0PTPGTYEekYcSX_PQZPz7RTSXZYNg@mail.gmail.com>
 <CAC7zN9694aSUODDNdwoNwHyen=w-RrEuHiDUGp8WLwVdtjSqvA@mail.gmail.com>
 <CAC7zN97dazbLFEVmZwpSf+jxWB_RtPKc0=w7vsPwXc4ar0REeQ@mail.gmail.com>
 <CAECJsSrX8iqW3=JuNBpGAHsBa8YQzLGeTrMhzSyNffMfg73SWw@mail.gmail.com>
 <33ac60cc-382f-35c0-cb82-2e9505ed08fd@duif.net>
 <CAL5Q671oR0M-=eZsMj-6v3TajhRNEoqtVi-DxzP1_VmqAgkU8w@mail.gmail.com>
Message-ID: <e41919a3-0368-da3b-8a67-8ea165e882fa@duif.net>

On 1/12/21 12:32 PM, Alessandro Pasotti wrote:
> On Tue, Jan 12, 2021 at 11:51 AM Richard Duivenvoorde
>> but... one of my docs (temporal navigator) PR's is still failing:
>> https://travis-ci.org/github/qgis/QGIS-Documentation/builds/739861175
>>
>> NOT image related, but if somebody finds some time to check, please let me know what I'm doing wrong.
>>

> I think this is None:
> navigator = iface.mapCanvas().temporalController()
> 
> I wonder if it would be better to use a full real QGIS for doc
> testing, the same system we use for plugins testing as explained here:
> https://github.com/qgis/QGIS/tree/master/.docker#running-unit-tests-inside-qgis

I thought we did that?
https://github.com/qgis/QGIS-Documentation/blob/release_3.16/doctest.dockerfile
don't we use that docker to have a 'real' QGIS?

Richard


From apasotti at gmail.com  Tue Jan 12 03:46:31 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 12 Jan 2021 12:46:31 +0100
Subject: [QGIS-Developer] Travis failing in QGIS-Documentation
In-Reply-To: <e41919a3-0368-da3b-8a67-8ea165e882fa@duif.net>
References: <4edda8fa-8a8a-2b6f-7917-57da1859f500@gmail.com>
 <CAMtsY+bBz=RsodFdrdHxexb8DBTqVe-q=vhHe+KHz1mPABkFaA@mail.gmail.com>
 <6c61f3e6-7e89-8a30-5d74-cc3573e4a0d1@gmail.com>
 <8318b1bb-c45e-afbf-800e-8d73ca7b37e6@duif.net>
 <b5a28bcd-6d49-5442-2cd7-7fa96e53a5c0@gmail.com>
 <CAECJsSpTcsN2J2tgw4rk7nnmZ0TLkWLc06L-OQntTzxwDrgbEQ@mail.gmail.com>
 <CAECJsSq+aEp4GdKEeyXXDV5DMkTmFHZG_rjz-_8kcqfV=SWZxw@mail.gmail.com>
 <CAECJsSpoze3m5B3r9_30gaaw9UUSRKmp4ZhZHxp74EEy1jWaLA@mail.gmail.com>
 <c83a8fe9-da2a-43aa-62df-1324593266c1@gmail.com>
 <CAECJsSqaea_QsCwDuxjGJKpTZj0huHsqOQ+kE+OyWBXHWP3iVg@mail.gmail.com>
 <CAECJsSqTSbv-6sAw7x4jk0PTPGTYEekYcSX_PQZPz7RTSXZYNg@mail.gmail.com>
 <CAC7zN9694aSUODDNdwoNwHyen=w-RrEuHiDUGp8WLwVdtjSqvA@mail.gmail.com>
 <CAC7zN97dazbLFEVmZwpSf+jxWB_RtPKc0=w7vsPwXc4ar0REeQ@mail.gmail.com>
 <CAECJsSrX8iqW3=JuNBpGAHsBa8YQzLGeTrMhzSyNffMfg73SWw@mail.gmail.com>
 <33ac60cc-382f-35c0-cb82-2e9505ed08fd@duif.net>
 <CAL5Q671oR0M-=eZsMj-6v3TajhRNEoqtVi-DxzP1_VmqAgkU8w@mail.gmail.com>
 <e41919a3-0368-da3b-8a67-8ea165e882fa@duif.net>
Message-ID: <CAL5Q670Jn0=15v1diEn+KrHWeGzyM6dwng1-Mw+tRp12LaxeAQ@mail.gmail.com>

On Tue, Jan 12, 2021 at 12:38 PM Richard Duivenvoorde
<rdmailings at duif.net> wrote:
>
> On 1/12/21 12:32 PM, Alessandro Pasotti wrote:
> > On Tue, Jan 12, 2021 at 11:51 AM Richard Duivenvoorde
> >> but... one of my docs (temporal navigator) PR's is still failing:
> >> https://travis-ci.org/github/qgis/QGIS-Documentation/builds/739861175
> >>
> >> NOT image related, but if somebody finds some time to check, please let me know what I'm doing wrong.
> >>
>
> > I think this is None:
> > navigator = iface.mapCanvas().temporalController()
> >
> > I wonder if it would be better to use a full real QGIS for doc
> > testing, the same system we use for plugins testing as explained here:
> > https://github.com/qgis/QGIS/tree/master/.docker#running-unit-tests-inside-qgis
>
> I thought we did that?
> https://github.com/qgis/QGIS-Documentation/blob/release_3.16/doctest.dockerfile
> don't we use that docker to have a 'real' QGIS?

We do, but we are running doctests using python directly, not invoking
QGIS and running the tests inside it.

To elaborate what a "real QGIS" means in this context there are (at
least) two ways of running tests:

1. the way we use for all Travis CI tests in core: run the tests
directly from python using a mocked QgsApplication and iface, in this
case we are using the "real QGIS" libraries but not the "real QGIS
application"
2. the way I originally developed for Python plugins CI in Boudless
(I'm not using that personally anymore) which was to run Python tests
**inside** a "real QGIS" application.

The advantage of (2) is that there is no need to mock anything, the
tests are run as if you were inside QGIS and using the QGIS Python
console.

The disadvantage is that it is slower.

-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From matthias at opengis.ch  Tue Jan 12 04:18:11 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 12 Jan 2021 13:18:11 +0100
Subject: [QGIS-Developer] Travis failing in QGIS-Documentation
In-Reply-To: <CAL5Q670Jn0=15v1diEn+KrHWeGzyM6dwng1-Mw+tRp12LaxeAQ@mail.gmail.com>
References: <4edda8fa-8a8a-2b6f-7917-57da1859f500@gmail.com>
 <CAMtsY+bBz=RsodFdrdHxexb8DBTqVe-q=vhHe+KHz1mPABkFaA@mail.gmail.com>
 <6c61f3e6-7e89-8a30-5d74-cc3573e4a0d1@gmail.com>
 <8318b1bb-c45e-afbf-800e-8d73ca7b37e6@duif.net>
 <b5a28bcd-6d49-5442-2cd7-7fa96e53a5c0@gmail.com>
 <CAECJsSpTcsN2J2tgw4rk7nnmZ0TLkWLc06L-OQntTzxwDrgbEQ@mail.gmail.com>
 <CAECJsSq+aEp4GdKEeyXXDV5DMkTmFHZG_rjz-_8kcqfV=SWZxw@mail.gmail.com>
 <CAECJsSpoze3m5B3r9_30gaaw9UUSRKmp4ZhZHxp74EEy1jWaLA@mail.gmail.com>
 <c83a8fe9-da2a-43aa-62df-1324593266c1@gmail.com>
 <CAECJsSqaea_QsCwDuxjGJKpTZj0huHsqOQ+kE+OyWBXHWP3iVg@mail.gmail.com>
 <CAECJsSqTSbv-6sAw7x4jk0PTPGTYEekYcSX_PQZPz7RTSXZYNg@mail.gmail.com>
 <CAC7zN9694aSUODDNdwoNwHyen=w-RrEuHiDUGp8WLwVdtjSqvA@mail.gmail.com>
 <CAC7zN97dazbLFEVmZwpSf+jxWB_RtPKc0=w7vsPwXc4ar0REeQ@mail.gmail.com>
 <CAECJsSrX8iqW3=JuNBpGAHsBa8YQzLGeTrMhzSyNffMfg73SWw@mail.gmail.com>
 <33ac60cc-382f-35c0-cb82-2e9505ed08fd@duif.net>
 <CAL5Q671oR0M-=eZsMj-6v3TajhRNEoqtVi-DxzP1_VmqAgkU8w@mail.gmail.com>
 <e41919a3-0368-da3b-8a67-8ea165e882fa@duif.net>
 <CAL5Q670Jn0=15v1diEn+KrHWeGzyM6dwng1-Mw+tRp12LaxeAQ@mail.gmail.com>
Message-ID: <CAC7zN97+Wr6Su=v8NWT393xT-11pPrPxa8Y1qA_YGjmJ47H5hw@mail.gmail.com>

Hi

The mapCanvas has already been mocked into the testing iface, it should be
fairly simple to do the same for the temporal controller.
See here for reference
https://github.com/qgis/QGIS/blob/master/python/testing/mocked.py#L58-L60

To complete the comments by Alessandro, there are also advantages of
mocking dependencies, most notably test isolation.

Regards
Matthias


On Tue, Jan 12, 2021 at 12:46 PM Alessandro Pasotti <apasotti at gmail.com>
wrote:

> On Tue, Jan 12, 2021 at 12:38 PM Richard Duivenvoorde
> <rdmailings at duif.net> wrote:
> >
> > On 1/12/21 12:32 PM, Alessandro Pasotti wrote:
> > > On Tue, Jan 12, 2021 at 11:51 AM Richard Duivenvoorde
> > >> but... one of my docs (temporal navigator) PR's is still failing:
> > >> https://travis-ci.org/github/qgis/QGIS-Documentation/builds/739861175
> > >>
> > >> NOT image related, but if somebody finds some time to check, please
> let me know what I'm doing wrong.
> > >>
> >
> > > I think this is None:
> > > navigator = iface.mapCanvas().temporalController()
> > >
> > > I wonder if it would be better to use a full real QGIS for doc
> > > testing, the same system we use for plugins testing as explained here:
> > >
> https://github.com/qgis/QGIS/tree/master/.docker#running-unit-tests-inside-qgis
> >
> > I thought we did that?
> >
> https://github.com/qgis/QGIS-Documentation/blob/release_3.16/doctest.dockerfile
> > don't we use that docker to have a 'real' QGIS?
>
> We do, but we are running doctests using python directly, not invoking
> QGIS and running the tests inside it.
>
> To elaborate what a "real QGIS" means in this context there are (at
> least) two ways of running tests:
>
> 1. the way we use for all Travis CI tests in core: run the tests
> directly from python using a mocked QgsApplication and iface, in this
> case we are using the "real QGIS" libraries but not the "real QGIS
> application"
> 2. the way I originally developed for Python plugins CI in Boudless
> (I'm not using that personally anymore) which was to run Python tests
> **inside** a "real QGIS" application.
>
> The advantage of (2) is that there is no need to mock anything, the
> tests are run as if you were inside QGIS and using the QGIS Python
> console.
>
> The disadvantage is that it is slower.
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210112/22b29e3f/attachment.html>

From uclaros at gmail.com  Tue Jan 12 06:52:33 2021
From: uclaros at gmail.com (uclaros)
Date: Tue, 12 Jan 2021 07:52:33 -0700 (MST)
Subject: [QGIS-Developer] Avoid overlap settings issue
In-Reply-To: <CAB2Z92BmAJpCFTMhu9yuL81K7CLwXwKcFkQzm-bDYC=-bmStLg@mail.gmail.com>
References: <CAB2Z92BmAJpCFTMhu9yuL81K7CLwXwKcFkQzm-bDYC=-bmStLg@mail.gmail.com>
Message-ID: <1610463153645-0.post@n6.nabble.com>

Hi,
the advanced configuration right now selects the layers that one wants to
avoid overlapping *with*. We could have a second checkbox on each layer that
will select the layers that one wants to avoid overlaps *on*, but that will
complicate things visually.
I think it would be better to add a key-bindable master on-off switch and
have avoid overlap function like snapping does: either on or off, and if on,
current layer or advanced mode. If one does not want snapping when editing a
specific layer he temporarily disables snapping, so he could do the same
with avoid overlap; on-off toggling is easier than drop-down selection and
key-bindable makes it even easier.

Another approach would be to let the user decide on feature creation. Make
"avoid overlap for this feature" available on the attributes dialog or spawn
a confirmation dialog on paste. This will definitely help with accidentally
forgetting avoid overlap enabled (been there, done that!)

Regards,
Stefanos




--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From tim at kartoza.com  Tue Jan 12 06:57:21 2021
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 12 Jan 2021 14:57:21 +0000
Subject: [QGIS-Developer] Qt LTS no longer Open Source
Message-ID: <CAES-DZQQsRBQi=JZuiUDsSxHXL1+1MHrL=zPZXOO7MxZUBNMqw@mail.gmail.com>

Hi All

In case you missed it, it seem the hammer has dropped on the Qt closing off
their LTS versions now:

https://lists.qt-project.org/pipermail/development/2021-January/040798.html



Regards

Tim

-- 
------------------------------------------------------------------------------------------

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210112/a380672a/attachment.html>

From nirvn.asia at gmail.com  Tue Jan 12 06:59:55 2021
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Tue, 12 Jan 2021 21:59:55 +0700
Subject: [QGIS-Developer] Qt LTS no longer Open Source
In-Reply-To: <CAES-DZQQsRBQi=JZuiUDsSxHXL1+1MHrL=zPZXOO7MxZUBNMqw@mail.gmail.com>
References: <CAES-DZQQsRBQi=JZuiUDsSxHXL1+1MHrL=zPZXOO7MxZUBNMqw@mail.gmail.com>
Message-ID: <CAC_qv=r0wa4wC-27JqBDhV=9UTMRKxRShsMceRXyYQWc9ppakQ@mail.gmail.com>

What a sad milestone.

On Tue, Jan 12, 2021, 21:57 Tim Sutton <tim at kartoza.com> wrote:

> Hi All
>
> In case you missed it, it seem the hammer has dropped on the Qt closing
> off their LTS versions now:
>
> https://lists.qt-project.org/pipermail/development/2021-January/040798.html
>
>
>
> Regards
>
> Tim
>
> --
>
> ------------------------------------------------------------------------------------------
>
> Tim Sutton
> Visit http://kartoza.com to find out about open source:
>  * Desktop GIS programming services
>  * Geospatial web development
> * GIS Training
> * Consulting Services
> Tim is a member of the QGIS Project Steering Committee
>
> -------------------------------------------------------------------------------------------
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210112/143e7ed0/attachment.html>

From adenaculture at gmail.com  Tue Jan 12 07:21:48 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 12 Jan 2021 10:21:48 -0500
Subject: [QGIS-Developer] Qt LTS no longer Open Source
In-Reply-To: <CAES-DZQQsRBQi=JZuiUDsSxHXL1+1MHrL=zPZXOO7MxZUBNMqw@mail.gmail.com>
References: <CAES-DZQQsRBQi=JZuiUDsSxHXL1+1MHrL=zPZXOO7MxZUBNMqw@mail.gmail.com>
Message-ID: <CABPxTTr-Y6h0O7AiQ6zxdbystbx1bmG4GVSDB2yhhq8jTem11Q@mail.gmail.com>

What impact does this have for the future of QGIS?

Regards,

Calvin

On Tue, Jan 12, 2021 at 9:57 AM Tim Sutton <tim at kartoza.com> wrote:

> Hi All
>
> In case you missed it, it seem the hammer has dropped on the Qt closing
> off their LTS versions now:
>
> https://lists.qt-project.org/pipermail/development/2021-January/040798.html
>
>
>
> Regards
>
> Tim
>
> --
>
> ------------------------------------------------------------------------------------------
>
> Tim Sutton
> Visit http://kartoza.com to find out about open source:
>  * Desktop GIS programming services
>  * Geospatial web development
> * GIS Training
> * Consulting Services
> Tim is a member of the QGIS Project Steering Committee
>
> -------------------------------------------------------------------------------------------
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210112/7d0accba/attachment-0001.html>

From werner.macho at gmail.com  Tue Jan 12 07:25:21 2021
From: werner.macho at gmail.com (Werner Macho)
Date: Tue, 12 Jan 2021 16:25:21 +0100
Subject: [QGIS-Developer] Qt LTS no longer Open Source
In-Reply-To: <CABPxTTr-Y6h0O7AiQ6zxdbystbx1bmG4GVSDB2yhhq8jTem11Q@mail.gmail.com>
References: <CAES-DZQQsRBQi=JZuiUDsSxHXL1+1MHrL=zPZXOO7MxZUBNMqw@mail.gmail.com>
 <CABPxTTr-Y6h0O7AiQ6zxdbystbx1bmG4GVSDB2yhhq8jTem11Q@mail.gmail.com>
Message-ID: <CA+3oMjuRBoJxy1ZkfYJ21_4F3wadgg5Jgd4_T=YmSU7KMmMU9A@mail.gmail.com>

It seems there is preparation for a free community fork of the last open Qt
Version.
We'll see how it goes.

regards
Werner

On Tue, Jan 12, 2021 at 4:22 PM C Hamilton <adenaculture at gmail.com> wrote:

> What impact does this have for the future of QGIS?
>
> Regards,
>
> Calvin
>
> On Tue, Jan 12, 2021 at 9:57 AM Tim Sutton <tim at kartoza.com> wrote:
>
>> Hi All
>>
>> In case you missed it, it seem the hammer has dropped on the Qt closing
>> off their LTS versions now:
>>
>>
>> https://lists.qt-project.org/pipermail/development/2021-January/040798.html
>>
>>
>>
>> Regards
>>
>> Tim
>>
>> --
>>
>> ------------------------------------------------------------------------------------------
>>
>> Tim Sutton
>> Visit http://kartoza.com to find out about open source:
>>  * Desktop GIS programming services
>>  * Geospatial web development
>> * GIS Training
>> * Consulting Services
>> Tim is a member of the QGIS Project Steering Committee
>>
>> -------------------------------------------------------------------------------------------
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210112/1626b0fa/attachment.html>

From Luke.A.Catania at erdc.dren.mil  Tue Jan 12 07:45:06 2021
From: Luke.A.Catania at erdc.dren.mil (Catania, Luke A ERDC-RDE-GRL-VA CIV)
Date: Tue, 12 Jan 2021 15:45:06 +0000
Subject: [QGIS-Developer] Qt LTS no longer Open Source
In-Reply-To: <CA+3oMjuRBoJxy1ZkfYJ21_4F3wadgg5Jgd4_T=YmSU7KMmMU9A@mail.gmail.com>
References: <CAES-DZQQsRBQi=JZuiUDsSxHXL1+1MHrL=zPZXOO7MxZUBNMqw@mail.gmail.com>
 <CABPxTTr-Y6h0O7AiQ6zxdbystbx1bmG4GVSDB2yhhq8jTem11Q@mail.gmail.com>,
 <CA+3oMjuRBoJxy1ZkfYJ21_4F3wadgg5Jgd4_T=YmSU7KMmMU9A@mail.gmail.com>
Message-ID: <1e3307fa6f694311b4eacfcd572b2078@erdc.dren.mil>

So what does LTS mean as far as new versions.  I know it means Long Term Support, but does this mean no versions above 5.15 will be developed or just no long term support versions.

I am running QGIS 3.14.16 which is using running against Qt 5.11.2

I want to be able to inform management if this is going to affect future QGIS upgrades.
________________________________
From: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> on behalf of Werner Macho <werner.macho at gmail.com>
Sent: Tuesday, January 12, 2021 10:25:21 AM
To: C Hamilton
Cc: qgis-dev
Subject: Re: [QGIS-Developer] Qt LTS no longer Open Source

It seems there is preparation for a free community fork of the last open Qt Version.
We'll see how it goes.

regards
Werner

On Tue, Jan 12, 2021 at 4:22 PM C Hamilton <adenaculture at gmail.com<mailto:adenaculture at gmail.com>> wrote:
What impact does this have for the future of QGIS?

Regards,

Calvin

On Tue, Jan 12, 2021 at 9:57 AM Tim Sutton <tim at kartoza.com<mailto:tim at kartoza.com>> wrote:
Hi All

In case you missed it, it seem the hammer has dropped on the Qt closing off their LTS versions now:

Blockedhttps://lists.qt-project.org/pipermail/development/2021-January/040798.htmlBlocked



Regards

Tim

--
------------------------------------------------------------------------------------------
[X]
Tim Sutton
Visit Blockedhttp://kartoza.comBlocked<Blockedhttp://kartoza.com/Blocked> to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: Blockedhttps://lists.osgeo.org/mailman/listinfo/qgis-developerBlocked
Unsubscribe: Blockedhttps://lists.osgeo.org/mailman/listinfo/qgis-developerBlocked
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: Blockedhttps://lists.osgeo.org/mailman/listinfo/qgis-developerBlocked
Unsubscribe: Blockedhttps://lists.osgeo.org/mailman/listinfo/qgis-developerBlocked
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210112/d2bf1333/attachment.html>

From myriam.chanet at inrae.fr  Tue Jan 12 12:46:15 2021
From: myriam.chanet at inrae.fr (Myriam63)
Date: Tue, 12 Jan 2021 13:46:15 -0700 (MST)
Subject: [QGIS-Developer] Issue with QGIS 3.16.2 standalone and GRASS
 7.8.4
In-Reply-To: <1610384242189-0.post@n6.nabble.com>
References: <CAMCJChv6xU9HHABT+a+n=OhsBmtVZUAGpOz2ooyQcerq0iPn5w@mail.gmail.com>
 <1609360330890-0.post@n6.nabble.com>
 <CAMCJChsVOH4BufUGw3_e3Sqgrj+aHVrEZTa4m8UjtkQ3=gSAhQ@mail.gmail.com>
 <1609372039347-0.post@n6.nabble.com>
 <CAMCJChvkkXWGyJ+u9VYERv0eQ7=Y+XOEYoJ7zZ6Zzjq1B-irGg@mail.gmail.com>
 <1610194558642-0.post@n6.nabble.com> <1610380312946-0.post@n6.nabble.com>
 <1610384242189-0.post@n6.nabble.com>
Message-ID: <1610484375519-0.post@n6.nabble.com>

Hi all

I installed the version of QGIS with QGIS-OSGeo4W-3.16.2-2-Setup-x86_64.exe,
but the versions that were installed are 3.16.2-1 (not 3.16.2-2) for QGIS
and 7.8.5-1 for GRASS, checked with OSGeo4W Setup.
When i use QGIS with "QGIS Desktop 3.16.2 with GRASS 7.8.4" link, i get the
following error message:
2020-12-24T14:15:50     WARNING    GRASS init error : Problem in GRASS
initialization, GRASS provider and plugin will not work : Module built
against version d8fbd49af but trying to use version 2b6ab2893. You need to
rebuild GRASS GIS or untangle multiple installations.
and I cannot use GRASS7 extension.

Someone can help me ?
Thank you so much.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From pergler at gmail.com  Tue Jan 12 13:56:50 2021
From: pergler at gmail.com (Martin Pergler)
Date: Tue, 12 Jan 2021 14:56:50 -0700 (MST)
Subject: [QGIS-Developer] Issue with QGIS 3.16.2 standalone and GRASS
 7.8.4
In-Reply-To: <1610484375519-0.post@n6.nabble.com>
References: <CAMCJChv6xU9HHABT+a+n=OhsBmtVZUAGpOz2ooyQcerq0iPn5w@mail.gmail.com>
 <1609360330890-0.post@n6.nabble.com>
 <CAMCJChsVOH4BufUGw3_e3Sqgrj+aHVrEZTa4m8UjtkQ3=gSAhQ@mail.gmail.com>
 <1609372039347-0.post@n6.nabble.com>
 <CAMCJChvkkXWGyJ+u9VYERv0eQ7=Y+XOEYoJ7zZ6Zzjq1B-irGg@mail.gmail.com>
 <1610194558642-0.post@n6.nabble.com> <1610380312946-0.post@n6.nabble.com>
 <1610384242189-0.post@n6.nabble.com> <1610484375519-0.post@n6.nabble.com>
Message-ID: <1610488610425-0.post@n6.nabble.com>

Myriam63 wrote
> Hi all
> 
> I installed the version of QGIS with
> QGIS-OSGeo4W-3.16.2-2-Setup-x86_64.exe,
> but the versions that were installed are 3.16.2-1 (not 3.16.2-2) for QGIS
> and 7.8.5-1 for GRASS, checked with OSGeo4W Setup.
> When i use QGIS with "QGIS Desktop 3.16.2 with GRASS 7.8.4" link, i get
> the
> following error message:
> 2020-12-24T14:15:50     WARNING    GRASS init error : Problem in GRASS
> initialization, GRASS provider and plugin will not work : Module built
> against version d8fbd49af but trying to use version 2b6ab2893. You need to
> rebuild GRASS GIS or untangle multiple installations.
> and I cannot use GRASS7 extension.
> 
> Someone can help me ?
> Thank you so much.
> 
> 
> 
> --
> Sent from:
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list

> QGIS-Developer at .osgeo

> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

>From Andrea's reponse to my email upstream on this, my hypothesis is that
the Windows QGIS standalone installer on the QGIS website installs 3.16.2-2,
and works with GRASS. 

However, the OSGeo4W component installer (whatever it is properly called,
where you choose which OSGeo packages are to be installed and can update
previous installations), *still* installs 3.16.2-1, and therefore GRASS does
not work under QGIS.

However, I have not had time to test this since Andrea's email, and so I may
be wrong. But your (Myriam's) experience in addition to mine would support
it.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From myriam.chanet at inrae.fr  Tue Jan 12 23:29:31 2021
From: myriam.chanet at inrae.fr (Myriam63)
Date: Wed, 13 Jan 2021 00:29:31 -0700 (MST)
Subject: [QGIS-Developer] Issue with QGIS 3.16.2 standalone and GRASS
 7.8.4
In-Reply-To: <1610488610425-0.post@n6.nabble.com>
References: <CAMCJChv6xU9HHABT+a+n=OhsBmtVZUAGpOz2ooyQcerq0iPn5w@mail.gmail.com>
 <1609360330890-0.post@n6.nabble.com>
 <CAMCJChsVOH4BufUGw3_e3Sqgrj+aHVrEZTa4m8UjtkQ3=gSAhQ@mail.gmail.com>
 <1609372039347-0.post@n6.nabble.com>
 <CAMCJChvkkXWGyJ+u9VYERv0eQ7=Y+XOEYoJ7zZ6Zzjq1B-irGg@mail.gmail.com>
 <1610194558642-0.post@n6.nabble.com> <1610380312946-0.post@n6.nabble.com>
 <1610384242189-0.post@n6.nabble.com> <1610484375519-0.post@n6.nabble.com>
 <1610488610425-0.post@n6.nabble.com>
Message-ID: <1610522971798-0.post@n6.nabble.com>

Thank you Martin for your response.

Do you know how i can go around this problem? Install QGIS and GRASS
separately? With which executable?

Do you know where it's possible to report the problem so that it can be
solved by the developers or do you have to wait quietly for the version?

Or do I revert to the version for which the problem does not exist?



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From andreaerdna at libero.it  Tue Jan 12 23:36:00 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Wed, 13 Jan 2021 00:36:00 -0700 (MST)
Subject: [QGIS-Developer] Issue with QGIS 3.16.2 standalone and GRASS
 7.8.4
In-Reply-To: <1610484375519-0.post@n6.nabble.com>
References: <CAMCJChv6xU9HHABT+a+n=OhsBmtVZUAGpOz2ooyQcerq0iPn5w@mail.gmail.com>
 <1609360330890-0.post@n6.nabble.com>
 <CAMCJChsVOH4BufUGw3_e3Sqgrj+aHVrEZTa4m8UjtkQ3=gSAhQ@mail.gmail.com>
 <1609372039347-0.post@n6.nabble.com>
 <CAMCJChvkkXWGyJ+u9VYERv0eQ7=Y+XOEYoJ7zZ6Zzjq1B-irGg@mail.gmail.com>
 <1610194558642-0.post@n6.nabble.com> <1610380312946-0.post@n6.nabble.com>
 <1610384242189-0.post@n6.nabble.com> <1610484375519-0.post@n6.nabble.com>
Message-ID: <1610523360972-0.post@n6.nabble.com>

Myriam63 wrote
> I installed the version of QGIS with
> QGIS-OSGeo4W-3.16.2-2-Setup-x86_64.exe,
> but the versions that were installed are 3.16.2-1 (not 3.16.2-2) for QGIS
> and 7.8.5-1 for GRASS, checked with OSGeo4W Setup.


Hi Myriam,
the numbering of the standalone installer and the numbering of single
packages could follow different path. A second version of the installer was
needed just to update the grass package, not the qgis package.



Myriam63 wrote
> When i use QGIS with "QGIS Desktop 3.16.2 with GRASS 7.8.4" link, i get
> the
> following error message:
> 2020-12-24T14:15:50     WARNING    GRASS init error : Problem in GRASS
> initialization, GRASS provider and plugin will not work : Module built
> against version d8fbd49af but trying to use version 2b6ab2893. You need to
> rebuild GRASS GIS or untangle multiple installations.

With the *-1 version of the standalone installer, GRASS 7.8.4 was installed,
but it was not possible to directly use GRASS nor to use any GRASS
processing tool in QGIS due to missing gdal300dll and proj62dll packages
installation.

Now, the *.2 version of the standalone installer ships GRASS 7.8.5 (that
don't need grass300dll and proj63dll packages installation) and it is
possible to directly use GRASS and to use the GRASS processing tools in
QGIS.
Anyway you hit another bug: it's not possible now to use the "GRASS 7
plugin" in QGIS. I didn't notice it because I don't usually use the "GRASS 7
plugin".

I filed a ticket in the OSGeo4W issues reporting system:
https://trac.osgeo.org/osgeo4w/ticket/657

To workaround the issue, waiting for J?rgen E. Fischer to fix also this bug,
you could use OSGeo4W Setup to downgrade the grass package from 7.8.5-1 to
7.8.4-1 and also install the gdal300dll and proj62dll packages.

Regards.

Andrea 



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From tim at kartoza.com  Wed Jan 13 05:29:31 2021
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 13 Jan 2021 13:29:31 +0000
Subject: [QGIS-Developer] Qt LTS no longer Open Source
In-Reply-To: <1e3307fa6f694311b4eacfcd572b2078@erdc.dren.mil>
References: <CAES-DZQQsRBQi=JZuiUDsSxHXL1+1MHrL=zPZXOO7MxZUBNMqw@mail.gmail.com>
 <CABPxTTr-Y6h0O7AiQ6zxdbystbx1bmG4GVSDB2yhhq8jTem11Q@mail.gmail.com>
 <CA+3oMjuRBoJxy1ZkfYJ21_4F3wadgg5Jgd4_T=YmSU7KMmMU9A@mail.gmail.com>
 <1e3307fa6f694311b4eacfcd572b2078@erdc.dren.mil>
Message-ID: <CAES-DZRxRhFatbSeEf=Y2hCMe0_mWf6nNhBwqwspOLBcjuWn_g@mail.gmail.com>

Hi

On Tue, Jan 12, 2021 at 7:28 PM Catania, Luke A ERDC-RDE-GRL-VA CIV <
Luke.A.Catania at erdc.dren.mil> wrote:

> So what does LTS mean as far as new versions.  I know it means Long Term
> Support, but does this mean no versions above 5.15 will be developed or
> just no long term support versions.
>
> I am running QGIS 3.14.16 which is using running against Qt 5.11.2
>
> I want to be able to inform management if this is going to affect
> future QGIS upgrades.
>

In reality as an end-user, I don't think you will experience any impact.
There may be some internal work for ourselves to figure out which version
of Qt to align our work to, but that should not affect you or your
organisation.

Regards

Tim


-- 
------------------------------------------------------------------------------------------

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210113/08b6b764/attachment.html>

From myriam.chanet at inrae.fr  Thu Jan 14 02:11:10 2021
From: myriam.chanet at inrae.fr (Myriam63)
Date: Thu, 14 Jan 2021 03:11:10 -0700 (MST)
Subject: [QGIS-Developer] Issue with QGIS 3.16.2 standalone and GRASS
 7.8.4
In-Reply-To: <1610523360972-0.post@n6.nabble.com>
References: <CAMCJChv6xU9HHABT+a+n=OhsBmtVZUAGpOz2ooyQcerq0iPn5w@mail.gmail.com>
 <1609360330890-0.post@n6.nabble.com>
 <CAMCJChsVOH4BufUGw3_e3Sqgrj+aHVrEZTa4m8UjtkQ3=gSAhQ@mail.gmail.com>
 <1609372039347-0.post@n6.nabble.com>
 <CAMCJChvkkXWGyJ+u9VYERv0eQ7=Y+XOEYoJ7zZ6Zzjq1B-irGg@mail.gmail.com>
 <1610194558642-0.post@n6.nabble.com> <1610380312946-0.post@n6.nabble.com>
 <1610384242189-0.post@n6.nabble.com> <1610484375519-0.post@n6.nabble.com>
 <1610523360972-0.post@n6.nabble.com>
Message-ID: <1610619070329-0.post@n6.nabble.com>

Thank you Andrea for your response. 

I will wait until J?rgen  E. Fischer fix this bug because i don't know how
to install the gdal300dll and proj62dll packages...

Regards



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From andreaerdna at libero.it  Thu Jan 14 02:20:09 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Thu, 14 Jan 2021 03:20:09 -0700 (MST)
Subject: [QGIS-Developer] Issue with QGIS 3.16.2 standalone and GRASS
 7.8.4
In-Reply-To: <1610619070329-0.post@n6.nabble.com>
References: <1609360330890-0.post@n6.nabble.com>
 <CAMCJChsVOH4BufUGw3_e3Sqgrj+aHVrEZTa4m8UjtkQ3=gSAhQ@mail.gmail.com>
 <1609372039347-0.post@n6.nabble.com>
 <CAMCJChvkkXWGyJ+u9VYERv0eQ7=Y+XOEYoJ7zZ6Zzjq1B-irGg@mail.gmail.com>
 <1610194558642-0.post@n6.nabble.com> <1610380312946-0.post@n6.nabble.com>
 <1610384242189-0.post@n6.nabble.com> <1610484375519-0.post@n6.nabble.com>
 <1610523360972-0.post@n6.nabble.com> <1610619070329-0.post@n6.nabble.com>
Message-ID: <1610619609817-0.post@n6.nabble.com>

Myriam63 wrote
> I will wait until J?rgen  E. Fischer fix this bug because i don't know how
> to install the gdal300dll and proj62dll packages...

Hopefully will be fixed for the next QGIS version 3.16.3 (tomorrow or some
days after).

Anyway you can install gdal300dll and proj62dll packages (like dowgrading
the grass package from 7.8.5-1 to 7.8.4-1) using the OSGeo4W Setup.

Regards.

Andrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From marco at opengis.ch  Thu Jan 14 06:45:27 2021
From: marco at opengis.ch (Marco Bernasocchi)
Date: Thu, 14 Jan 2021 15:45:27 +0100
Subject: [QGIS-Developer] Fwd: GDAL2tiles in local crs in QGIS
In-Reply-To: <CAH7jKUVZvxJdDZQRV426frf1Qw=ZoO1CiteqDToeYR1M8ReLnQ@mail.gmail.com>
References: <CAH7jKUU8GDrvPTvbvy6h3QkrOBUQp8JWMKdTLz8JuJfymXTNPQ@mail.gmail.com>
 <CAH7jKUX2a9Y4X_N62ZkxQzUE+=7wFqJd9m59eRy6xymsJzeu7g@mail.gmail.com>
 <CAH7jKUVZvxJdDZQRV426frf1Qw=ZoO1CiteqDToeYR1M8ReLnQ@mail.gmail.com>
Message-ID: <CAH7jKUVTyP7Ojc_5hdS5bC9t-C=9s1T4=8PfvQB5fC5_viFsPQ@mail.gmail.com>

Hi all,
just a short/probably stupid question that I'm loosing way too much time on
already :)

is there a way to have gdal2tiles create tiles in a local crs (for example
EPSG:2056) and load them into QGIS?
I'm doing
gdal2tiles.py --profile=raster --zoom=0-5 --s_srs=EPSG:2056
CH_over_2000_lv95.tif test_tiles

and it looks like the resulting tilemapresource.xml and the openlayers
example are correct, but loading them in QGIS using

file:///home/marco/gis/test_tiles/{z}/{x}/{y}.png

I get a wrong placement (crs of the tiles is set to 3857, which is
"workaroundable") and wrong tiles alignment (looks like 0,0 top left vs 0,0
bottom left).

I know the TMS "standard" is old but it would still be nice to be able to
quickly take a tiff, chop it up in tiles and use it in QGIS. And using
--xyz parameter results in correct tiles but in 3857

Am I doing something stupidly wrong :) ? or is WMTS really the only way to
have tiles in local crs?

Cheers
Marco


-- 
Marco Bernasocchi
OPENGIS.ch CEO
QGIS.org Chair

Find a meeting time on my calendar <https://calendly.com/mbernasocchi/30min>
!
marco at opengis.ch
+41 (0)79 467 24 70 <+41794672470>

<https://opengis.ch>





-- 
Marco Bernasocchi
OPENGIS.ch CEO
QGIS.org Chair

Find a meeting time on my calendar <https://calendly.com/mbernasocchi/30min>
!
marco at opengis.ch
+41 (0)79 467 24 70 <+41794672470>

<https://opengis.ch>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210114/4ad4d931/attachment.html>

From luis3176 at yahoo.com  Thu Jan 14 12:35:16 2021
From: luis3176 at yahoo.com (Luis Eduardo)
Date: Thu, 14 Jan 2021 20:35:16 +0000 (UTC)
Subject: [QGIS-Developer] Is it possible to access the persistent spatial
 index (.qix file) through PyQGIS?
References: <825634368.2114912.1610656516067.ref@mail.yahoo.com>
Message-ID: <825634368.2114912.1610656516067@mail.yahoo.com>

I built a manual index on a shapefile, through the process "Create spatial index", which can be found in the process toolbox > general vector tools. This process creates a persistent spatial index, a .quix file.

I want to optimize spatial queries on layers that have more than 300,000 records

Creating the spatial index with PyQGIS takes a little more than 6 seconds, as you can see in the code

pry=QgsProject.instance()parcelas=pry.mapLayersByName('parcelas')[0]radios=pry.mapLayersByName('radios_censales')[0]
tiempo_inicial = time.time()index = QgsSpatialIndex() # Spatial indexindex = QgsSpatialIndex(parcelas.getFeatures())duracionSI=time.time()-tiempo_inicial? #? 6.816403388977051 sec
But what I really want to do use leverage the existing .qix file directly,?How can I do this from PyQGIS?

Note: I am aware that the spatial index file must be updated if geometries are modified, removed or added.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210114/54d025f3/attachment.html>

From paul.wittle at dorsetcouncil.gov.uk  Sun Jan 17 04:58:30 2021
From: paul.wittle at dorsetcouncil.gov.uk (Paul Wittle)
Date: Sun, 17 Jan 2021 12:58:30 +0000
Subject: [QGIS-Developer] Python connection to Microsoft SQL Server database
Message-ID: <CWXP265MB1623DE6F148E6F3B7F431FCEC8A50@CWXP265MB1623.GBRP265.PROD.OUTLOOK.COM>

Hi,

I?m trying to get some data from an MS SQL Server database using the QSqlDatabase QODBC driver.

I?m struggling to find an example online?I know Microsoft SQL is avoided in most cases but does anyone know the format for the connection string to put under setDatabaseName?

Ideally I want to connect using the users windows credentials so I?m hoping I don?t need to send it a username and password but just the host\instance, port and database name.

Thanks in advance ?

Paul


This e-mail and any files transmitted with it are intended solely for the use of the individual or entity to whom they are addressed. It may contain unclassified but sensitive or protectively marked material and should be handled accordingly. Unless you are the named addressee (or authorised to receive it for the addressee) you may not copy or use it, or disclose it to anyone else. If you have received this transmission in error please notify the sender immediately. All traffic may be subject to recording and/or monitoring in accordance with relevant legislation. Any views expressed in this message are those of the individual sender, except where the sender specifies and with authority, states them to be the views of Dorset Council. Dorset Council does not accept service of documents by fax or other electronic means. Virus checking: Whilst all reasonable steps have been taken to ensure that this electronic communication and its attachments whether encoded, encrypted or otherwise supplied are free from computer viruses, Dorset Council accepts no liability in respect of any loss, cost, damage or expense suffered as a result of accessing this message or any of its attachments. For information on how Dorset Council processes your information, please see www.dorsetcouncil.gov.uk/416433
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210117/8451371f/attachment.html>

From Hannah at land-scope.com  Mon Jan 18 01:13:40 2021
From: Hannah at land-scope.com (Hannah Wait)
Date: Mon, 18 Jan 2021 09:13:40 +0000
Subject: [QGIS-Developer] QGIS and QField enquiry
Message-ID: <LOYP123MB343943247B7322770BDC5B01F5A40@LOYP123MB3439.GBRP123.PROD.OUTLOOK.COM>

Hi,

I work at a land surveying company and have a couple more questions on QGIS and QField, if anyone can help with:

Does anyone know how to develop a legend file in QGIS, to define a colour coded template for a set of lines (e.g. different utilities)?
Does anyone know how to update the 'z' value of an item/object/asset (not sure exactly what it is referred as in QGIS) on bulk, for different project preferences?
Does anyone know about pano image integration in QField, if the name of a photo taken in a survey form is associated with the specific record and linked together in the CSV file created to bring into QGIS?

Also, is anyone familiar with exporting survey data out of N4ce to shapefile, in order to bring into QGIS at all?

Many thanks,

Hannah



Hannah Wait

GIS Technician

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210118/08fd0fc9/attachment.html>

From tim at kartoza.com  Mon Jan 18 01:58:16 2021
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 18 Jan 2021 09:58:16 +0000
Subject: [QGIS-Developer] Call for presentations and attendees: QGIS Open
 Day, January 29, 2021
Message-ID: <CAES-DZRX50+268dSVqVXfESJkDqehZeJ0_oKAoHk=pACeLssWg@mail.gmail.com>

Dear QGIS Users

On Friday, 29 January 2021 we will be holding our monthly QGIS Open Day!
What is a QGIS Open Day you may be wondering to yourself? It is an
initiative to replace the wonderful community meetups we used to hold every
six months when times were different. Like our in-person meetings, the
event is organised on a principle of self-organisation and community
participation.

*Programme*

1 QGIS Dashboards - Next Level 10h00 UTC Tim Sutton, Luis Eduardo

2 QGIS Point Clouds 11h15 UTC Tim Sutton, Martin Dobias, Saber Razmjooei,
Nyall Dawson

3 QGIS Ask Me Anything 14h00 UTC Tim Sutton and various experts (panel
volunteers please contact me)

See "where to watch" below for the link to the wiki page with session times
etc., additional sessions on the day may be announced there.



*Adding more events*

You can do this too! We really encourage others to follow our initiative,
using the wiki page link below to organise your plans (just add a section
below the last one). You can host virtual meetups in the Jitsi room, plan
your next steps to take QGIS further down the road to world domination and
much much more. We encourage language and region specific huddles,
documentation improvement sessions, bug fixing, making beautiful maps, and
working together to do amazing things with QGIS.

I would really love to see more events offered from our  country user
groups and broader user base. The content can be at any skill level and in
any language you like, and the times can overlap if needed. So please feel
free to organise your activities on the wiki page (see link below). The
QGIS Open Day is also an ideal time to hold virtual country user group meet
ups - please share your activities on the open day schedule, so that even
people from outside of your country user group can benefit from your
presentations. Contact me (see below) if you need help adding your events
to the wiki page.

*Where to watch*

Please see the event wiki page at
https://github.com/qgis/QGIS/wiki/QHF-January-2021 for all the details of
times and links for watching. Get Involved!

*Code of Conduct*

Participants are kindly reminded to please read and observe our QGIS Code
of Conduct and Diversity Statement to make these events a great experience
for everyone!

https://www.qgis.org/en/site/getinvolved/governance/codeofconduct/codeofconduct.htmlhttps://www.qgis.org/en/site/getinvolved/governance/codeofconduct/diversitystatement.html

Please contact me (Tim Sutton) by email (tim at kartoza.com) or via the QGIS
Open Day Telegram User Group (https://t.me/joinchat/Aq2V5RPoxYYhXqUPoxRWPQ
user @timlinux_pt) if you have any queries or need help setting up events.

We look forward to seeing you there!
Regards

Tim

-- 
------------------------------------------------------------------------------------------

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210118/94a19c94/attachment.html>

From matthias at opengis.ch  Mon Jan 18 02:26:27 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Mon, 18 Jan 2021 11:26:27 +0100
Subject: [QGIS-Developer] QGIS and QField enquiry
In-Reply-To: <LOYP123MB343943247B7322770BDC5B01F5A40@LOYP123MB3439.GBRP123.PROD.OUTLOOK.COM>
References: <LOYP123MB343943247B7322770BDC5B01F5A40@LOYP123MB3439.GBRP123.PROD.OUTLOOK.COM>
Message-ID: <CAC7zN94onCzWuRLC3K=dT0U940mTj6xBh_B5f-YrtB+pB=p0Og@mail.gmail.com>

Hi Hannah,

Regarding the QField questions:
For taking camera pictures you can integrate any other camera app, this is
documented for geotagging:
https://qfield.org/docs/prepare/add-1-n-pictures.html#geotagging
The naming of the pictures is configurable:
https://qfield.org/docs/prepare/picture_path.html

Hope that helps
Matthias

On Mon, Jan 18, 2021 at 10:13 AM Hannah Wait <Hannah at land-scope.com> wrote:

> Hi,
>
> I work at a land surveying company and have a couple more questions on
> QGIS and QField, if anyone can help with:
>
> Does anyone know how to develop a legend file in QGIS, to define a colour
> coded template for a set of lines (e.g. different utilities)?
> Does anyone know how to update the 'z' value of an item/object/asset (not
> sure exactly what it is referred as in QGIS) on bulk, for different project
> preferences?
> Does anyone know about pano image integration in QField, if the name of a
> photo taken in a survey form is associated with the specific record and
> linked together in the CSV file created to bring into QGIS?
>
> Also, is anyone familiar with exporting survey data out of N4ce to
> shapefile, in order to bring into QGIS at all?
>
> Many thanks,
>
> Hannah
>
>
> *Hannah Wait*
>
> *GIS Technician*
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210118/c187986b/attachment-0001.html>

From rdmailings at duif.net  Mon Jan 18 02:42:24 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 18 Jan 2021 11:42:24 +0100
Subject: [QGIS-Developer] QGIS and QField enquiry
In-Reply-To: <CAC7zN94onCzWuRLC3K=dT0U940mTj6xBh_B5f-YrtB+pB=p0Og@mail.gmail.com>
References: <LOYP123MB343943247B7322770BDC5B01F5A40@LOYP123MB3439.GBRP123.PROD.OUTLOOK.COM>
 <CAC7zN94onCzWuRLC3K=dT0U940mTj6xBh_B5f-YrtB+pB=p0Og@mail.gmail.com>
Message-ID: <6539dcab-e519-17ca-d708-4ee01704ce02@duif.net>

Hi Hannah,

And about your other questions these are more suited for the QGIS-User mailing list, as these (seem to me) more use-related questions?
In short:
>     Does anyone know how to develop a legend file in QGIS, to define a colour coded template for a set of lines (e.g. different utilities)?

I think you mean create a Categorized style? If so: plz look into our documentation about this (via docs.qgis.org)

>     Does anyone know how to update the 'z' value of an item/object/asset (not sure exactly what it is referred as in QGIS) on bulk, for different project preferences?

In GIS in general we talk about 'Features' with a 'Geometry' and 'Attributes'. Both can be updated via the 'Field Calculator'.

>     Does anyone know about pano image integration in QField, if the name of a photo taken in a survey form is associated with the specific record and linked together in the CSV file created to bring into QGIS?

I hope this is anwsered by Matthias, as I do not know at a Pano image is :-)

>     Also, is anyone familiar with exporting survey data out of N4ce to shapefile, in order to bring into QGIS at all??

Never heard of N4ce. QGIS used gdal/ogr to convert different (open) data formats. N4ce seems a closed/propriary format? Can you convert it in the original application to a more open format?
As said maybe users on the user list now more about this?

Hope this helps, Regards,

Richard Duivenvoorde

From rdmailings at duif.net  Tue Jan 19 00:16:09 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 19 Jan 2021 09:16:09 +0100
Subject: [QGIS-Developer] PR about Temporal data, plz test/review
Message-ID: <03b1852f-e5fb-4d03-52bb-46ae7f0ceac2@duif.net>

Hi devs (or users),

I created a PR [0] which (for me) fixes a bug [1] when working with vector data which have an 'event' with some kind of temporal duration.

Anybody working with Temporal Features: please have a look and test with your data. 
After a positive review I hope that this can be backported to 3.16 too.

The main problem: IF the timeframe of the event fell exact on the timestep-timeframe, those events showed up in 2 timesteps (in my case falsely doubling the result). 

My main 'solution' is to NOT take (both) limits into account for the sliding step-frame selection.
In case of features with a zero-time duration (moments in time, like Positioned Tweets or so), you HAVE to take one limit into account (and we do).

Note that the fix is in QgsTemporalNavigationObject so maybe also affects other feature types.

I hope this does not break anybodies work flow (it shouldn't, because I think this fixes something, but...  you never know).

Thanks in advance.

Regards,

Richard Duivenvoorde

[0] https://github.com/qgis/QGIS/pull/40989
[1] https://github.com/qgis/QGIS/issues/38468

From jgr at di.uminho.pt  Tue Jan 19 01:24:25 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Tue, 19 Jan 2021 09:24:25 +0000
Subject: [QGIS-Developer] undefined symbol: GDALAutoCreateWarpedVRTEx
Message-ID: <c8024af2-da6c-5321-6f90-ee73ac7512a3@di.uminho.pt>

Hi,

Sometimes I use QGIS running from docker (both the server and desktop),
using the docker maintained by camp2camp [1].

The docker gets the gdal image and compiles QGIS.

Recently (no more than a week), I 'm having a run time error (caused by
a linkage issue), when using qgis.core in Python:

File "/usr/local/share/qgis/python/qgis/core/__init__.py", line 25, in
<module>
qgis-server_1      |     from qgis._core import *
qgis-server_1      | ImportError: /usr/local/lib/libqgis_core.so.3.16.3:
undefined symbol: GDALAutoCreateWarpedVRTEx

This GDALAutoCreateWarpedVRTEx was introduced in GDAL recently.

Is anybody getting this error also from a self compiled QGIS?

Regards,

[1] https://github.com/camptocamp/docker-qgis-server

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From jgr at di.uminho.pt  Tue Jan 19 01:55:46 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Tue, 19 Jan 2021 09:55:46 +0000
Subject: [QGIS-Developer] undefined symbol: GDALAutoCreateWarpedVRTEx
In-Reply-To: <c8024af2-da6c-5321-6f90-ee73ac7512a3@di.uminho.pt>
References: <c8024af2-da6c-5321-6f90-ee73ac7512a3@di.uminho.pt>
Message-ID: <705186f0-7d53-5d52-1063-dee07a3eec1f@di.uminho.pt>

Hi,

Just an additional comment. The GDALAutoCreateWarpedVRTEx is there, as
far as I can see.

nm -g libqgis_core.so.3.16.3 | grep GDALAutoCreateWarpedVRTEx
                 U GDALAutoCreateWarpedVRTEx

But if the symbol is defined in the library, why do I get this error?

File "/usr/local/share/qgis/python/qgis/core/__init__.py", line 25, in
<module>
qgis-server_1      |     from qgis._core import *
qgis-server_1      | ImportError: /usr/local/lib/libqgis_core.so.3.16.3:
undefined symbol: GDALAutoCreateWarpedVRTEx

Help is appreciated :-)

Regards,

Jorge Gustavo

?s 09:24 de 19/01/21, Jorge Gustavo Rocha escreveu:
> Hi,
> 
> Sometimes I use QGIS running from docker (both the server and desktop),
> using the docker maintained by camp2camp [1].
> 
> The docker gets the gdal image and compiles QGIS.
> 
> Recently (no more than a week), I 'm having a run time error (caused by
> a linkage issue), when using qgis.core in Python:
> 
> File "/usr/local/share/qgis/python/qgis/core/__init__.py", line 25, in
> <module>
> qgis-server_1      |     from qgis._core import *
> qgis-server_1      | ImportError: /usr/local/lib/libqgis_core.so.3.16.3:
> undefined symbol: GDALAutoCreateWarpedVRTEx
> 
> This GDALAutoCreateWarpedVRTEx was introduced in GDAL recently.
> 
> Is anybody getting this error also from a self compiled QGIS?
> 
> Regards,
> 
> [1] https://github.com/camptocamp/docker-qgis-server
> 
> J. Gustavo
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From even.rouault at spatialys.com  Tue Jan 19 02:06:00 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 19 Jan 2021 11:06:00 +0100
Subject: [QGIS-Developer] undefined symbol: GDALAutoCreateWarpedVRTEx
In-Reply-To: <705186f0-7d53-5d52-1063-dee07a3eec1f@di.uminho.pt>
References: <c8024af2-da6c-5321-6f90-ee73ac7512a3@di.uminho.pt>
 <705186f0-7d53-5d52-1063-dee07a3eec1f@di.uminho.pt>
Message-ID: <2254974.pjPllpl6O1@even-i700>

On mardi 19 janvier 2021 09:55:46 CET Jorge Gustavo Rocha wrote:
> Hi,
> 
> Just an additional comment. The GDALAutoCreateWarpedVRTEx is there, as
> far as I can see.
> 
> nm -g libqgis_core.so.3.16.3 | grep GDALAutoCreateWarpedVRTEx
>                  U GDALAutoCreateWarpedVRTEx
> 
> But if the symbol is defined in the library, why do I get this error?

The U means undefined. Which is expected. libqgis_core imports the symbol from 
libgdal.
What I suspect here is that QGIS is built against a libgdal 3.2.x (QGIS only 
tries to use GDALAutoCreateWarpedVRTEx if GDAL headers are >= 3.2), but at 
runtime links against an older one.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jgr at di.uminho.pt  Tue Jan 19 03:11:51 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Tue, 19 Jan 2021 11:11:51 +0000
Subject: [QGIS-Developer] undefined symbol: GDALAutoCreateWarpedVRTEx
In-Reply-To: <2254974.pjPllpl6O1@even-i700>
References: <c8024af2-da6c-5321-6f90-ee73ac7512a3@di.uminho.pt>
 <705186f0-7d53-5d52-1063-dee07a3eec1f@di.uminho.pt>
 <2254974.pjPllpl6O1@even-i700>
Message-ID: <5dd21ba2-be2a-fec3-c5dc-e8f28df3c9db@di.uminho.pt>

Hi Even,

Thanks for the feedback. You are absolutely right. My test scripts were
introducing a dependency that install the old libgdal26.

Easy to fix, after your feedback.

Regards,

Jorge

?s 10:06 de 19/01/21, Even Rouault escreveu:
> On mardi 19 janvier 2021 09:55:46 CET Jorge Gustavo Rocha wrote:
>> Hi,
>>
>> Just an additional comment. The GDALAutoCreateWarpedVRTEx is there, as
>> far as I can see.
>>
>> nm -g libqgis_core.so.3.16.3 | grep GDALAutoCreateWarpedVRTEx
>>                  U GDALAutoCreateWarpedVRTEx
>>
>> But if the symbol is defined in the library, why do I get this error?
> 
> The U means undefined. Which is expected. libqgis_core imports the symbol from 
> libgdal.
> What I suspect here is that QGIS is built against a libgdal 3.2.x (QGIS only 
> tries to use GDALAutoCreateWarpedVRTEx if GDAL headers are >= 3.2), but at 
> runtime links against an older one.
> 
> Even
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From Hannah at land-scope.com  Tue Jan 19 07:38:50 2021
From: Hannah at land-scope.com (Hannah Wait)
Date: Tue, 19 Jan 2021 15:38:50 +0000
Subject: [QGIS-Developer] QField coordinate system
Message-ID: <LOYP123MB3439C9158A884396606456A5F5A30@LOYP123MB3439.GBRP123.PROD.OUTLOOK.COM>

Hi,

I was wondering if anyone knows if the coordinate reference system on QField is only lat/long or whether also uses Ordnance Survey coordinates at all?

Kind regards,

Hannah


Hannah Wait

GIS Technician

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210119/82b5f2da/attachment.html>

From benjamin.jakimow at geo.hu-berlin.de  Tue Jan 19 08:09:15 2021
From: benjamin.jakimow at geo.hu-berlin.de (Benjamin Jakimow)
Date: Tue, 19 Jan 2021 17:09:15 +0100
Subject: [QGIS-Developer] QField coordinate system
In-Reply-To: <LOYP123MB3439C9158A884396606456A5F5A30@LOYP123MB3439.GBRP123.PROD.OUTLOOK.COM>
References: <LOYP123MB3439C9158A884396606456A5F5A30@LOYP123MB3439.GBRP123.PROD.OUTLOOK.COM>
Message-ID: <22f3579c0410ece700a60c5c4f93a5f7@geo.hu-berlin.de>

Dear Hanna,

I think QField uses the coordinate reference system that was defined for 
the loaded project file (*.qgs, *.qgz).

You can specify that in QGIS in the project settings.

Greeting,

Benjamin

On 2021-01-19 16:38, Hannah Wait wrote:

> Hi,
> 
> I was wondering if anyone knows if the coordinate reference system on 
> QField is only lat/long or whether also uses Ordnance Survey 
> coordinates at all?
> 
> Kind regards,
> 
> Hannah
> 
> Hannah Wait
> 
> _GIS Technician_
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
--
Benjamin Jakimow, Doctoral Researcher
Earth Observation Lab | Geography Department | Humboldt-Universit?t zu 
Berlin

e-mail: benjamin.jakimow at geo.hu-berlin.de

phone:  +49 (0) 30 2093 6894
mobile: +49 (0) 157 5656 8477
fax:    +49 (0) 30 2093 6848
mail:   Unter den Linden 6 | 10099 Berlin | Germany
room: 2'222
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210119/9dcfdad8/attachment-0001.html>

From delazj at gmail.com  Tue Jan 19 08:19:52 2021
From: delazj at gmail.com (DelazJ)
Date: Tue, 19 Jan 2021 17:19:52 +0100
Subject: [QGIS-Developer] Looking for description for the "Zoom to native
 resolution" tool
Message-ID: <CAECJsSpzoD7K3=LuarNVF6SMaOoTObvBA3GMSbVQUYpepivOZA@mail.gmail.com>

Hi devs,

Can any of you help us understand what the "Zoom to native resolution
(100%)" tool in map navigation toolbar or View menu does, please?
It would help us close https://github.com/qgis/QGIS-Documentation/pull/6441

Thanks,
Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210119/40bfcc24/attachment.html>

From rdmailings at duif.net  Tue Jan 19 08:30:16 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 19 Jan 2021 17:30:16 +0100
Subject: [QGIS-Developer] Looking for description for the "Zoom to
 native resolution" tool
In-Reply-To: <CAECJsSpzoD7K3=LuarNVF6SMaOoTObvBA3GMSbVQUYpepivOZA@mail.gmail.com>
References: <CAECJsSpzoD7K3=LuarNVF6SMaOoTObvBA3GMSbVQUYpepivOZA@mail.gmail.com>
Message-ID: <09d2f399-bf90-851d-971e-242cf3e8a6da@duif.net>

On 1/19/21 5:19 PM, DelazJ wrote:
> Hi devs,
> 
> Can any of you help us understand what the "Zoom to native resolution (100%)" tool in map navigation toolbar or View menu does, please?
> It would help us close https://github.com/qgis/QGIS-Documentation/pull/6441 <https://github.com/qgis/QGIS-Documentation/pull/6441>

This is mainly relevant to WMTS/xyz and other tiled images based (online) data sources (for what I know).

Because those tiles actually are server side cached, they have off course one true resolution: in which a 256x256px tile is shown on a 256x256px area of the mapcanvas.

When you load such layers in QGIS, QGIS can rescale those tiles, they will be rescaled then, often not making the image prettier.

The idea of the native resolution is for what I know: select the tiled layer, the select the "Zoom to native resolution (100%)" and then QGIS will switch to one of the (native) zoom level scales of the tiled layer.
It more or less works the same as with the Tile Slider.

Maybe (others plz confirm) this also works this way for raster images like geotiffs...

Hope this helps,

Regards,

Richard Duivenvoorde

From delazj at gmail.com  Tue Jan 19 11:07:39 2021
From: delazj at gmail.com (DelazJ)
Date: Tue, 19 Jan 2021 20:07:39 +0100
Subject: [QGIS-Developer] Looking for description for the "Zoom to
 native resolution" tool
In-Reply-To: <09d2f399-bf90-851d-971e-242cf3e8a6da@duif.net>
References: <CAECJsSpzoD7K3=LuarNVF6SMaOoTObvBA3GMSbVQUYpepivOZA@mail.gmail.com>
 <09d2f399-bf90-851d-971e-242cf3e8a6da@duif.net>
Message-ID: <CAECJsSpyc50mKUgp-ggyE_o_GKhkNPj3KvKE7KyG=QnG5x7vZg@mail.gmail.com>

Hi,
Thanks for your quick replies (and inputs in the PR), guys
Richard, seems it's more about pairing a pixel on the raster with a pixel
on the screen. And indeed it works with "simple" raster also.

Regards,
Harrissou

Le mar. 19 janv. 2021 ? 17:30, Richard Duivenvoorde <rdmailings at duif.net> a
?crit :

> On 1/19/21 5:19 PM, DelazJ wrote:
> > Hi devs,
> >
> > Can any of you help us understand what the "Zoom to native resolution
> (100%)" tool in map navigation toolbar or View menu does, please?
> > It would help us close
> https://github.com/qgis/QGIS-Documentation/pull/6441 <
> https://github.com/qgis/QGIS-Documentation/pull/6441>
>
> This is mainly relevant to WMTS/xyz and other tiled images based (online)
> data sources (for what I know).
>
> Because those tiles actually are server side cached, they have off course
> one true resolution: in which a 256x256px tile is shown on a 256x256px area
> of the mapcanvas.
>
> When you load such layers in QGIS, QGIS can rescale those tiles, they will
> be rescaled then, often not making the image prettier.
>
> The idea of the native resolution is for what I know: select the tiled
> layer, the select the "Zoom to native resolution (100%)" and then QGIS will
> switch to one of the (native) zoom level scales of the tiled layer.
> It more or less works the same as with the Tile Slider.
>
> Maybe (others plz confirm) this also works this way for raster images like
> geotiffs...
>
> Hope this helps,
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210119/bb7349e4/attachment.html>

From adenaculture at gmail.com  Tue Jan 19 11:12:47 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 19 Jan 2021 14:12:47 -0500
Subject: [QGIS-Developer] Looking for description for the "Zoom to
 native resolution" tool
In-Reply-To: <CAECJsSpyc50mKUgp-ggyE_o_GKhkNPj3KvKE7KyG=QnG5x7vZg@mail.gmail.com>
References: <CAECJsSpzoD7K3=LuarNVF6SMaOoTObvBA3GMSbVQUYpepivOZA@mail.gmail.com>
 <09d2f399-bf90-851d-971e-242cf3e8a6da@duif.net>
 <CAECJsSpyc50mKUgp-ggyE_o_GKhkNPj3KvKE7KyG=QnG5x7vZg@mail.gmail.com>
Message-ID: <CABPxTTpLq2=eFGcym_FpA4axZdjE0ifyq196-KYgcexL5ZMOiQ@mail.gmail.com>

This is what the plugin Lock Zoom to Tile Scale attempted to do.

https://plugins.qgis.org/plugins/lockzoom/

On Tue, Jan 19, 2021 at 2:07 PM DelazJ <delazj at gmail.com> wrote:

> Hi,
> Thanks for your quick replies (and inputs in the PR), guys
> Richard, seems it's more about pairing a pixel on the raster with a pixel
> on the screen. And indeed it works with "simple" raster also.
>
> Regards,
> Harrissou
>
> Le mar. 19 janv. 2021 ? 17:30, Richard Duivenvoorde <rdmailings at duif.net>
> a ?crit :
>
>> On 1/19/21 5:19 PM, DelazJ wrote:
>> > Hi devs,
>> >
>> > Can any of you help us understand what the "Zoom to native resolution
>> (100%)" tool in map navigation toolbar or View menu does, please?
>> > It would help us close
>> https://github.com/qgis/QGIS-Documentation/pull/6441 <
>> https://github.com/qgis/QGIS-Documentation/pull/6441>
>>
>> This is mainly relevant to WMTS/xyz and other tiled images based (online)
>> data sources (for what I know).
>>
>> Because those tiles actually are server side cached, they have off course
>> one true resolution: in which a 256x256px tile is shown on a 256x256px area
>> of the mapcanvas.
>>
>> When you load such layers in QGIS, QGIS can rescale those tiles, they
>> will be rescaled then, often not making the image prettier.
>>
>> The idea of the native resolution is for what I know: select the tiled
>> layer, the select the "Zoom to native resolution (100%)" and then QGIS will
>> switch to one of the (native) zoom level scales of the tiled layer.
>> It more or less works the same as with the Tile Slider.
>>
>> Maybe (others plz confirm) this also works this way for raster images
>> like geotiffs...
>>
>> Hope this helps,
>>
>> Regards,
>>
>> Richard Duivenvoorde
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210119/6d635da5/attachment.html>

From nyall.dawson at gmail.com  Tue Jan 19 14:06:14 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 20 Jan 2021 08:06:14 +1000
Subject: [QGIS-Developer] Disabled branch tests on Travis
Message-ID: <CAB28Asi_Dg9WrfA_SQShwzw7jMvXPoZuot+ReripSTWdNP6KYg@mail.gmail.com>

Hi list,

Given the absolute mess that Travis is right now (given docker's
limitations and Travis' upcoming price changes), I've taken the step
to disable the Travis runs on the master and release-3_16 branches.
This ONLY affects commits pushed direct to these branches, so I'm
hoping that by doing this we'll free up a free miniscule resource
scraps which might help alleviate some of the current pain with
getting pull requests tested by Travis.

(Travis is officially an old dog which needs taking out to the country
and a shotgun to the head. Bring on the glorious github actions
future!)

Nyall

From qgis-dev at stripfamily.net  Wed Jan 20 15:41:07 2021
From: qgis-dev at stripfamily.net (David Strip)
Date: Wed, 20 Jan 2021 16:41:07 -0700
Subject: [QGIS-Developer] How to use postProcess in a QgsProcessingAlgorithm
Message-ID: <ec389ab8-8ec1-557b-e0c7-dea273cb355d@stripfamily.net>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210120/dc11fb35/attachment.html>

From sampo.savolainen at spatineo.com  Thu Jan 21 00:02:52 2021
From: sampo.savolainen at spatineo.com (Sampo Savolainen)
Date: Thu, 21 Jan 2021 10:02:52 +0200
Subject: [QGIS-Developer] Proxy configuration in plugin
Message-ID: <CAL8b_0cyOFuru1e1F0HriDJ=mWyt7PP0aUN8mhVfbquUBqScHg@mail.gmail.com>

Hi,

I'm developing a small QGIS plugin (
https://github.com/spatineo/qgis-intelligent-search/) and ran into issues
with proxy configuration. The plugin uses the Python requests library to
make HTTP API calls and owslib to download and parse GetCapabilities
documents from WxS services. Owslib seems to use the same requests library
to make HTTP calls. However proxies are (unsurprisingly) giving us
headaches.

We have tested the plugin in two environments where proxies are required to
make HTTP requests. The environments had different versions of QGIS: 3.14
and 3.10, both in Windows. The first environment (newer version) is able to
make the API calls using the requests library, but owslib fails to connect
to services. The older version of QGIS fails to connect to the API and the
owslib part never gets tested. Note that this discrepancy may be related to
the API being available without a proxy in the first environment  - though
this is just a suspicion, I have been unable to confirm this.

With 3.10, I've tried QGIS proxy configuration both as "DefaultProxy" (use
system config) and as "HttpProxy" but neither one helped. However I was
able to make it work by setting the http_proxy and https_proxy environment
variables in a shell and launching QGIS from that shell.

So this seems to boil down to the QGIS proxy settings are not passed to the
plugin via http_proxy and https_proxy environment variables. Is there a
best practice on how plugins should access proxy configuration in QGIS and
use it?


 Thanks,
 Sampo

-- 
Sampo Savolainen
Managing Director
Ty?pajankatu 9 D, 00580 Helsinki, Finland
www.spatineo.com
Tel. +358 40 7555 649



This message may contain privileged and/or confidential information. If
you have received this e-mail in error or are not the intended recipient,
you may not use, copy, disseminate, or distribute it; do not open
any attachments, delete it immediately from your system and notify the
sender promptly by e-mail that you have done so.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210121/57368715/attachment.html>

From rdmailings at duif.net  Thu Jan 21 01:18:21 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 21 Jan 2021 10:18:21 +0100
Subject: [QGIS-Developer] Proxy configuration in plugin
In-Reply-To: <CAL8b_0cyOFuru1e1F0HriDJ=mWyt7PP0aUN8mhVfbquUBqScHg@mail.gmail.com>
References: <CAL8b_0cyOFuru1e1F0HriDJ=mWyt7PP0aUN8mhVfbquUBqScHg@mail.gmail.com>
Message-ID: <f1031952-81c0-a062-ea93-7c7750af08a8@duif.net>

On 1/21/21 9:02 AM, Sampo Savolainen wrote:
> So this seems to boil down to the QGIS proxy settings are not passed to the plugin via http_proxy and https_proxy environment variables. Is there a best practice on how plugins should access proxy configuration in QGIS and use it?

Hi Sampo,

In mij experience, it IS possible to use Requests/Urllib for you requests and let them find the proxy... But it is hard and there are just to many options/setups/os's etc etc

BUT in general I would recommend: use QGIS' own QgsNetworkAccessManager requests [0], then you:
- will just use the proxy settings from QGIS itself (in which case I often use 'default' proxy in Windows environments, and then (Qt) picks those up)
- you will be able to debug the requests in the QGIS debug part (F12) in recent QGIS (or via the QGIS Network Logger plugin for older version).

If you need simple 'fire and get' requests, just use the blockingGet or blockingPost ones. If you need more complex setups, you have to create your own (QgsNetworkAccessManager is a wrapper around Qt's QNetworkAccessManager, so read up about this here: [1])

But: proxies stay hard (and never as 'transparant' as sysadmins try you to tell)

Regards,

Richard Duivenvoorde

[0] https://qgis.org/pyqgis/3.16/core/QgsNetworkAccessManager.html
[1] https://doc.qt.io/qt-5/qnetworkaccessmanager.html




From etienne.trimaille at gmail.com  Thu Jan 21 01:21:56 2021
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Thu, 21 Jan 2021 16:21:56 +0700
Subject: [QGIS-Developer] Proxy configuration in plugin
In-Reply-To: <CAL8b_0cyOFuru1e1F0HriDJ=mWyt7PP0aUN8mhVfbquUBqScHg@mail.gmail.com>
References: <CAL8b_0cyOFuru1e1F0HriDJ=mWyt7PP0aUN8mhVfbquUBqScHg@mail.gmail.com>
Message-ID: <CAMtDFLLaEvZ00W7jCrQ3ZNK24Lu8x+ODxwfDEOuppP7cfngh=Q@mail.gmail.com>

The proxy settings are only set up for core class in QGIS, which you should
look at to make your requests.
CF
https://gis.stackexchange.com/questions/343126/how-to-perform-sync-or-async-network-request-in-pyqgis

If you really want to use "requests", you should read the QgsSettings about
proxy and use these values in requests as well.
Similar to
https://stackoverflow.com/questions/23041066/setting-proxy-parameter-in-qgis-plugins-how-to/37757921#37757921

Le jeu. 21 janv. 2021 ? 15:03, Sampo Savolainen <
sampo.savolainen at spatineo.com> a ?crit :

> Hi,
>
> I'm developing a small QGIS plugin (
> https://github.com/spatineo/qgis-intelligent-search/) and ran into issues
> with proxy configuration. The plugin uses the Python requests library to
> make HTTP API calls and owslib to download and parse GetCapabilities
> documents from WxS services. Owslib seems to use the same requests library
> to make HTTP calls. However proxies are (unsurprisingly) giving us
> headaches.
>
> We have tested the plugin in two environments where proxies are required
> to make HTTP requests. The environments had different versions of QGIS:
> 3.14 and 3.10, both in Windows. The first environment (newer version) is
> able to make the API calls using the requests library, but owslib fails to
> connect to services. The older version of QGIS fails to connect to the API
> and the owslib part never gets tested. Note that this discrepancy may be
> related to the API being available without a proxy in the first
> environment  - though this is just a suspicion, I have been unable to
> confirm this.
>
> With 3.10, I've tried QGIS proxy configuration both as "DefaultProxy" (use
> system config) and as "HttpProxy" but neither one helped. However I was
> able to make it work by setting the http_proxy and https_proxy environment
> variables in a shell and launching QGIS from that shell.
>
> So this seems to boil down to the QGIS proxy settings are not passed to
> the plugin via http_proxy and https_proxy environment variables. Is there a
> best practice on how plugins should access proxy configuration in QGIS and
> use it?
>
>
>  Thanks,
>  Sampo
>
> --
> Sampo Savolainen
> Managing Director
> Ty?pajankatu 9 D, 00580 Helsinki, Finland
> www.spatineo.com
> Tel. +358 40 7555 649
>
>
>
> This message may contain privileged and/or confidential information. If
> you have received this e-mail in error or are not the intended recipient,
> you may not use, copy, disseminate, or distribute it; do not open
> any attachments, delete it immediately from your system and notify the
> sender promptly by e-mail that you have done so.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210121/b09fdd42/attachment.html>

From steve at nexusnine.co.uk  Thu Jan 21 02:00:24 2021
From: steve at nexusnine.co.uk (steve at nexusnine.co.uk)
Date: Thu, 21 Jan 2021 10:00:24 -0000
Subject: [QGIS-Developer] Layer Temporal Settings
Message-ID: <002201d6efdc$3d322b70$b7968250$@nexusnine.co.uk>

Good Morning,

 

I have been using QGIS for some time now or generating reports and
visualising data and was mostly using the 'TimeManager' plugin in Version
3.10(LTR) to animate some GPS data derived from UAVS.  I am now looking to
utilise the Temporal settings in version 3.16.3 in a similar way, but I do
not seem to be able to display the time stamp for each frame.  This is a
functionality that Time manager offered, but seems to be missing from the
Temporal settings, unless I have missed something?

 

For information, I am using:

 


QGIS version

3.16.3-Hannover

QGIS code revision

94ac9f21b8 <https://github.com/qgis/QGIS/commit/94ac9f21b8> 


Compiled against Qt

5.11.2

Running against Qt

5.11.2


Compiled against GDAL/OGR

3.1.4

Running against GDAL/OGR

3.1.4


Compiled against GEOS

3.8.1-CAPI-1.13.3

Running against GEOS

3.8.1-CAPI-1.13.3


Compiled against SQLite

3.29.0

Running against SQLite

3.29.0


PostgreSQL Client Version

11.5

SpatiaLite Version

4.3.0


QWT Version

6.1.3

QScintilla2 Version

2.10.8


Compiled against PROJ

6.3.2

Running against PROJ

Rel. 6.3.2, May 1st, 2020


OS Version

Windows 10 (10.0)


Active python plugins

LAStools; 
los_tools; 
OSMDownloader; 
Qgis2threejs; 
QuickOSM; 
shapetools; 
ViewshedAnalysis; 
db_manager; 
MetaSearch; 
processing

 

Can you please advise if this is possible using Termporal settings, or if
not, is it a functionality you are looking to add?

Steve Cranfield 

 

Nexus Nine Ltd

 

M: 07795145665

E:    <mailto:steve at nexusnine.co.uk> steve at nexusnine.co.uk

W:  <http://www.nexusnine.co.uk/> http://www.nexusnine.co.uk/           

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210121/ea8f15b2/attachment-0001.html>

From thomas at qgis.de  Thu Jan 21 02:24:45 2021
From: thomas at qgis.de (=?UTF-8?Q?Thomas_Sch=C3=BCttenberg?=)
Date: Thu, 21 Jan 2021 11:24:45 +0100 (CET)
Subject: [QGIS-Developer] QWC-services without Docker?
Message-ID: <673350789.114676.1611224685411@office.mailbox.org>

Hi there!

Now that I have learned to successfully get the QWC2 demo app[1] up and running, I would like to install some enhancements (a.k.a. qwc-services). 
 
I have read about qwc-services[2] and now I have some general questions: Is it possible to deploy these extension services without Docker? And if so, how? (Because container virtualisation is unfortunately not an option in my case here). 

Also, do I understand correctly that the QWC2 Demo App essentially only consists of the "QGIS Web Client 2 Components"[3] and the "QWC Map Viewer"[4]? 
And that I would therefore - theoretically - need some sort of (yarn?) script that would contain the desired qwc-service sources[2] in order to compile a comprehensive, "full fletched" application bundle (as described in the demo app docs[1]?

Sorry for the possibly awkward or incorrect wording, I'm still trying to get to grips with this subject.

Any help appreciated, cheers
Thomas

[1] https://github.com/qgis/qwc2-demo-app
[2] https://github.com/qwc-services 
[3] https://github.com/qgis/qwc2 
[4] https://github.com/qwc-services/qwc-map-viewer

From rdmailings at duif.net  Thu Jan 21 03:50:08 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 21 Jan 2021 12:50:08 +0100
Subject: [QGIS-Developer] Layer Temporal Settings
In-Reply-To: <002201d6efdc$3d322b70$b7968250$@nexusnine.co.uk>
References: <002201d6efdc$3d322b70$b7968250$@nexusnine.co.uk>
Message-ID: <8bd0059e-bc66-b37c-1a94-e4c2ca3dfa47@duif.net>

On 1/21/21 11:00 AM, steve at nexusnine.co.uk wrote:
> Good Morning,
> 
> I have been using QGIS for some time now or generating reports and visualising data and was mostly using the ?TimeManager? plugin in Version 3.10(LTR) to animate some GPS data derived from UAVS.? I am now looking to utilise the Temporal settings in version 3.16.3 in a similar way, but I do not seem to be able to display the time stamp for each frame.? This is a functionality that Time manager offered, but seems to be missing from the Temporal settings, unless I have missed something?

Hi Steve, 

This is not standard in the Temporal controller anymore, BUT: please have a look at this (super super cool) demo from Nyall: https://www.youtube.com/watch?v=vgDg5cRwPRw

In which he shows of possibilities to use other standard QGIS functionality to have it.

Regards,

Richard Duivenvoorde

PS if somebody creates a simple blog post about this small question I will also link to that next time :-)

From pedrongvenancio at gmail.com  Thu Jan 21 04:00:29 2021
From: pedrongvenancio at gmail.com (=?UTF-8?Q?Pedro_Ven=C3=A2ncio?=)
Date: Thu, 21 Jan 2021 12:00:29 +0000
Subject: [QGIS-Developer] Layer Temporal Settings
In-Reply-To: <8bd0059e-bc66-b37c-1a94-e4c2ca3dfa47@duif.net>
References: <002201d6efdc$3d322b70$b7968250$@nexusnine.co.uk>
 <8bd0059e-bc66-b37c-1a94-e4c2ca3dfa47@duif.net>
Message-ID: <CAMCJChtmu7FGgA9stFDgV2RMP4OJNamP9-eFhhmA+6zEsLRT7Q@mail.gmail.com>

Yes, that is a magnific walkthrough from Nyall.

I've done this animation just following Nyall's "webinar":

https://youtu.be/w9VLFfgU5C8



A quinta, 21/01/2021, 11:50, Richard Duivenvoorde <rdmailings at duif.net>
escreveu:

> On 1/21/21 11:00 AM, steve at nexusnine.co.uk wrote:
> > Good Morning,
> >
> > I have been using QGIS for some time now or generating reports and
> visualising data and was mostly using the ?TimeManager? plugin in Version
> 3.10(LTR) to animate some GPS data derived from UAVS.  I am now looking to
> utilise the Temporal settings in version 3.16.3 in a similar way, but I do
> not seem to be able to display the time stamp for each frame.  This is a
> functionality that Time manager offered, but seems to be missing from the
> Temporal settings, unless I have missed something?
>
> Hi Steve,
>
> This is not standard in the Temporal controller anymore, BUT: please have
> a look at this (super super cool) demo from Nyall:
> https://www.youtube.com/watch?v=vgDg5cRwPRw
>
> In which he shows of possibilities to use other standard QGIS
> functionality to have it.
>
> Regards,
>
> Richard Duivenvoorde
>
> PS if somebody creates a simple blog post about this small question I will
> also link to that next time :-)
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210121/5486565e/attachment.html>

From adenaculture at gmail.com  Thu Jan 21 07:22:51 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 21 Jan 2021 10:22:51 -0500
Subject: [QGIS-Developer] New QGIS Date/Time Tools Plugin
Message-ID: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>

I would like to invite you to take a look at a new QGIS plugin that I have
titled "Date/Time Tools". Currently it only has one capability to display
date, time, and timezone information with conversions between UNIX time
(Epoch), Julian dates, and ISO8601 date/time formats. It can calculate the
difference between two dates and if provided with a coordinate it will
display sun information such as dawn, sunrise, noon, sunset, dusk as well
as the azimuth of the sun and its elevation from the given location. Here
is the release download datetimetools-3.0.0. You will need to manually
install it.

https://github.com/NationalSecurityAgency/qgis-datetimetools-plugin/releases/tag/3.0.0

Here is some documentation:

https://github.com/NationalSecurityAgency/qgis-datetimetools-plugin#readme

I apologize up front to those of you who think external libraries should
not be embedded in a plugin, but for my users, if the plugin is not self
contained they may not take the extra step to install the necessary
libraries and the plugin might not be used. Also this is a very big plugin
because it includes the timezonefinder python library which is about 42Mb.
The library adds the ability to specify a coordinate and return a time zone
and there is really no way to reduce the size unless you also reduce the
accuracy.

For those who use the OSGeo4W installer you may need to include the scipy
library. The standalone installers already have it by default.

I would enjoy any suggestions or feedback. Also for the QGIS team, can a
plugin this large be included into the plugin repo?

Thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210121/f6fc46df/attachment.html>

From a.neumann at carto.net  Thu Jan 21 08:26:23 2021
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 21 Jan 2021 17:26:23 +0100
Subject: [QGIS-Developer] crssync issues
Message-ID: <1b7198bc0c12ae6c5a434ffe8938f731@carto.net>

Hi,

Since a few weeks I can't compile QGIS anymore. It always hangs at 
crssync (core dumped) during compile and then stops compiling.

Could there be an issue with the proj library version I have? I tried 
with versions 7.2.0 and 7.2.1.

Here is the output I usually get:

[41/3286] Running crssync
FAILED: src/crssync/CMakeFiles/synccrsdb
cd /home/an/dev/QGIS/build/src/crssync && 
/home/an/dev/QGIS/build/output/bin/crssync
free(): invalid pointer
Aborted (core dumped)
ninja: build stopped: subcommand failed.

Thank you very much for you help!

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210121/5e74397a/attachment.html>

From even.rouault at spatialys.com  Thu Jan 21 09:05:50 2021
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 21 Jan 2021 18:05:50 +0100
Subject: [QGIS-Developer] crssync issues
In-Reply-To: <1b7198bc0c12ae6c5a434ffe8938f731@carto.net>
References: <1b7198bc0c12ae6c5a434ffe8938f731@carto.net>
Message-ID: <2035148.M7BM7XJvha@even-i700>

Andreas,

if you've built yourself PROJ on a system that has older proj versions, I'd 
suppose that one of the QGIS dependency links against that older proj (might 
be spatialite for example), and at runtime you get a clash between it and 
7.2.x

Check the output of:
ldd /home/an/dev/QGIS/build/output/bin/crssync | grep proj

if you get 2 lines, then you're screwed

Then run the following to find which library links against the system libproj:

for i in `ldd /home/an/dev/QGIS/output/bin/crssync | awk '{print $3}'`; do \
  ldd $i | grep proj >/dev/null && (echo $i; ldd $i | grep proj); done

and you'll have to rebuild the library/ies that link against system proj 
against proj 7.2.x

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From a.neumann at carto.net  Thu Jan 21 09:49:51 2021
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 21 Jan 2021 18:49:51 +0100
Subject: [QGIS-Developer] crssync issues
In-Reply-To: <2035148.M7BM7XJvha@even-i700>
References: <1b7198bc0c12ae6c5a434ffe8938f731@carto.net>
 <2035148.M7BM7XJvha@even-i700>
Message-ID: <932f3caa13ddc36b6d3d8d7f4f392d71@carto.net>

Hi Even,

Yes - indeed that seems to be the case. There seem to be two versions of 
libproj on the system:

/usr/local/lib/libproj.so.19 and /usr/lib/x86_64-linux-gnu/libproj.so.15

The first was compiled by myself, the second seems have to be slipped in 
by the package manager.

And indeed spatialite seems to be the culprit - the only one that links 
to the old version.

Thanks a lot for your help!

Andreas

On 2021-01-21 18:05, Even Rouault wrote:

> Andreas,
> 
> if you've built yourself PROJ on a system that has older proj versions, 
> I'd
> suppose that one of the QGIS dependency links against that older proj 
> (might
> be spatialite for example), and at runtime you get a clash between it 
> and
> 7.2.x
> 
> Check the output of:
> ldd /home/an/dev/QGIS/build/output/bin/crssync | grep proj
> 
> if you get 2 lines, then you're screwed
> 
> Then run the following to find which library links against the system 
> libproj:
> 
> for i in `ldd /home/an/dev/QGIS/output/bin/crssync | awk '{print $3}'`; 
> do \
> ldd $i | grep proj >/dev/null && (echo $i; ldd $i | grep proj); done
> 
> and you'll have to rebuild the library/ies that link against system 
> proj
> against proj 7.2.x
> 
> Even
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210121/c703b32c/attachment-0001.html>

From sampo.savolainen at spatineo.com  Fri Jan 22 00:14:13 2021
From: sampo.savolainen at spatineo.com (Sampo Savolainen)
Date: Fri, 22 Jan 2021 10:14:13 +0200
Subject: [QGIS-Developer] Proxy configuration in plugin
In-Reply-To: <CAMtDFLLaEvZ00W7jCrQ3ZNK24Lu8x+ODxwfDEOuppP7cfngh=Q@mail.gmail.com>
References: <CAL8b_0cyOFuru1e1F0HriDJ=mWyt7PP0aUN8mhVfbquUBqScHg@mail.gmail.com>
 <CAMtDFLLaEvZ00W7jCrQ3ZNK24Lu8x+ODxwfDEOuppP7cfngh=Q@mail.gmail.com>
Message-ID: <CAL8b_0f0neKCMefCtT7EcpcdsafkgHWZEuu8_e4MRNFRhqDiJA@mail.gmail.com>

Hi,

Thanks for the responses. We'll look into using QgsNetworkAccessManager.
Hopefully integrating owslib and QgsNetworkAccessManager isn't too
inconvenient.

As pointed out, proxy setup is never transparent whatever the IT department
thinks. I have one suggestion for QGIS: as most people dealing with proxies
know, http_proxy and https_proxy environment variables are pretty much the
standard way to set proxies in Linux as well as Mac and Windows. As such,
it would make sense if QGIS would ensure that these variables are set in
the environment where python plugins are executed. While the mapping
between more dynamic proxy configurations and these environment variables
are not one-to-one in all cases, even a simplified setting would push
things to the right direction. This would probably fix proxy issues in
existing plugins (not just the one I'm working on).


 Sampo

On Thu, Jan 21, 2021 at 11:22 AM Etienne Trimaille <
etienne.trimaille at gmail.com> wrote:

> The proxy settings are only set up for core class in QGIS, which you
> should look at to make your requests.
> CF
> https://gis.stackexchange.com/questions/343126/how-to-perform-sync-or-async-network-request-in-pyqgis
>
> If you really want to use "requests", you should read the QgsSettings
> about proxy and use these values in requests as well.
> Similar to
> https://stackoverflow.com/questions/23041066/setting-proxy-parameter-in-qgis-plugins-how-to/37757921#37757921
>
> Le jeu. 21 janv. 2021 ? 15:03, Sampo Savolainen <
> sampo.savolainen at spatineo.com> a ?crit :
>
>> Hi,
>>
>> I'm developing a small QGIS plugin (
>> https://github.com/spatineo/qgis-intelligent-search/) and ran into
>> issues with proxy configuration. The plugin uses the Python requests
>> library to make HTTP API calls and owslib to download and parse
>> GetCapabilities documents from WxS services. Owslib seems to use the same
>> requests library to make HTTP calls. However proxies are (unsurprisingly)
>> giving us headaches.
>>
>> We have tested the plugin in two environments where proxies are required
>> to make HTTP requests. The environments had different versions of QGIS:
>> 3.14 and 3.10, both in Windows. The first environment (newer version) is
>> able to make the API calls using the requests library, but owslib fails to
>> connect to services. The older version of QGIS fails to connect to the API
>> and the owslib part never gets tested. Note that this discrepancy may be
>> related to the API being available without a proxy in the first
>> environment  - though this is just a suspicion, I have been unable to
>> confirm this.
>>
>> With 3.10, I've tried QGIS proxy configuration both as "DefaultProxy"
>> (use system config) and as "HttpProxy" but neither one helped. However I
>> was able to make it work by setting the http_proxy and https_proxy
>> environment variables in a shell and launching QGIS from that shell.
>>
>> So this seems to boil down to the QGIS proxy settings are not passed to
>> the plugin via http_proxy and https_proxy environment variables. Is there a
>> best practice on how plugins should access proxy configuration in QGIS and
>> use it?
>>
>>
>>  Thanks,
>>  Sampo
>>
>> --
>> Sampo Savolainen
>> Managing Director
>> Ty?pajankatu 9 D, 00580 Helsinki, Finland
>> www.spatineo.com
>> Tel. +358 40 7555 649
>>
>>
>>
>> This message may contain privileged and/or confidential information. If
>> you have received this e-mail in error or are not the intended recipient,
>> you may not use, copy, disseminate, or distribute it; do not open
>> any attachments, delete it immediately from your system and notify the
>> sender promptly by e-mail that you have done so.
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>

-- 
Sampo Savolainen
Managing Director
Ty?pajankatu 9 D, 00580 Helsinki, Finland
www.spatineo.com
Tel. +358 40 7555 649



This message may contain privileged and/or confidential information. If
you have received this e-mail in error or are not the intended recipient,
you may not use, copy, disseminate, or distribute it; do not open
any attachments, delete it immediately from your system and notify the
sender promptly by e-mail that you have done so.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210122/af732578/attachment.html>

From jean at jhemmi.eu  Fri Jan 22 01:26:23 2021
From: jean at jhemmi.eu (Jean Hemmi)
Date: Fri, 22 Jan 2021 10:26:23 +0100
Subject: [QGIS-Developer] Raster with CC-0 license
Message-ID: <CAKsx1pntt6YC+KO5+LfDmCMeNgtnjLJuP7xfQajhDUqSoCkuUg@mail.gmail.com>

Good morning QGIS,
I'd like to upload a GPKG project <https://plugins.qgis.org/geopackages/>
including a small raster (piece of an old orthophoto for instance).
Does anybody know an Open Data set of rasters with a CC-0 license
<https://creativecommons.org/publicdomain/zero/1.0/> ?
Thanks,
Jean Hemmi
Ma-Sentinelle <https://www.ma-sentinelle.eu/Services/ma-sentinelle> ?
| Parall?les
?
<https://sites.google.com/a/jhemmi.eu/objectifs/blog/calculervosparalleles>
|  Zoho Creator | Parcours
<https://www.ma-sentinelle.eu/Services/Parcours-%CF%80> ?
Extensions pour QGIS : Mon Parcellaire
<https://www.ma-sentinelle.eu/Services/mon-parcellaire> | Mon Tom
Parcellaire <https://www.ma-sentinelle.eu/Services/tom> | Physiocap3
<https://www.ma-sentinelle.eu/Services/physiocap>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210122/c5c6f348/attachment.html>

From rdmailings at duif.net  Fri Jan 22 01:39:51 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 22 Jan 2021 10:39:51 +0100
Subject: [QGIS-Developer] New QGIS Date/Time Tools Plugin
In-Reply-To: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
References: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
Message-ID: <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>

On 1/21/21 4:22 PM, C Hamilton wrote:
> For those who use the OSGeo4W installer you may need to include the scipy library. The standalone installers already have it by default.

I'm on Debian, and installed the plugin.

I'm shown the 'Plugin Dependencies Manager' dialog (which I've never seen before, is it in master or in the plugin?) See screenshot. But I cannot click 'Fix manually' or so...

But I have scipy  installed:

python3-scipy/testing,testing,now 1.5.4-1+b1 amd64 [installed,automatic]
  scientific tools for Python 3

and in QGIS I can even run the scipy-get started:

import numpy as np
print("I like ", np.pi)

Ah, and after the installation, the plugin is working fine (I think....)

And upon restart I do not get the message anymore... So apparently 'Plugin Dependencies Manager' is not working ok the first time (I started a fresh profiles-path AND thus profile)

One remark: we (as The Netherlands, are currently UTC+1 (CET), but If I click just outside the north of NL (Waddenzee) outside of the xx-miles zone, I get +0 
As if the timeline is very east of NL there? Scandinavia is also +1 and is on the same degree.. more or less
Is it possible to visualize the time-lines?

> I would enjoy any suggestions or feedback. Also for the QGIS team, can a plugin this large be included into the plugin repo?

If you promise not to release once a week, personally I would be ok with it :-)

Regards,

Richard Duivenvoorde
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot-20210122100424-764x265.png
Type: image/png
Size: 18525 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210122/070e368d/attachment-0001.png>

From giulio.fattori at tin.it  Fri Jan 22 05:48:52 2021
From: giulio.fattori at tin.it (Giulio Fattori)
Date: Fri, 22 Jan 2021 14:48:52 +0100
Subject: [QGIS-Developer] QGIS composer print layout
Message-ID: <babc7a4b-5f91-e99e-ba83-48fcdb06b01e@tin.it>

Hello,
i'm developing a QGIS plugin algorithm that composes a print layout.
The attached code works but the map window appears in the composer with 
the word "Rendering map".
and I get these messages:

WARNING??? QObject::connect: Cannot queue arguments of type 'QItemSelection'
 ???????????? (Make sure 'QItemSelection' is registered using 
qRegisterMetaType().)
WARNING??? QObject::connect: Cannot queue arguments of type 'QItemSelection'
 ???????????? (Make sure 'QItemSelection' is registered using 
qRegisterMetaType().)
WARNING??? QObject::connect: Cannot queue arguments of type 'QItemSelection'
 ???????????? (Make sure 'QItemSelection' is registered using 
qRegisterMetaType().)
WARNING??? QObject::startTimer: Timers cannot be started from another thread

CRITICAL??? Qt : QObject::killTimer: Timers cannot be stopped from 
another thread
CRITICAL??? Qt : QObject::startTimer: Timers cannot be started from 
another thread
CRITICAL??? Qt : QObject::killTimer: Timers cannot be stopped from 
another thread
CRITICAL??? Qt : QObject::startTimer: Timers can only be used with 
threads started with QThread

Only after saving and reopening QGIS do I get the correct result in the 
composer.

What is missing to make it work properly?

Can someone help me?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210122/06d160ea/attachment.html>
-------------- next part --------------
# -*- coding: utf-8 -*-

"""
***************************************************************************
*   Korto19 - last modified 17.01.2020/2021 19.01      
*   Put a map to composer
*   This program is free software; you can redistribute it and/or modify  *
*   it under the terms of the GNU General Public License as published by  *
*   the Free Software Foundation; either version 2 of the License, or     *
*   (at your option) any later version.                                   *
*                                                                         *
***************************************************************************
"""
from PyQt5.QtGui import QFont
from qgis.PyQt.QtCore import QCoreApplication
from qgis.core import (QgsProcessing,
                       QgsProject,
                       QgsPrintLayout,
                       QgsLayoutItemPage,
                       QgsLayoutItemMap,
                       QgsLayoutPoint,
                       QgsUnitTypes,
                       QgsLayoutSize,
                       QgsRectangle,
                       QgsLayoutItemLabel,
                       QgsProcessingAlgorithm,
                       QgsProcessingParameterFeatureSource,
                       QgsProcessingParameterFeatureSink)
                       
from qgis import processing
from qgis.utils import iface

import math

class TestMapProcessingAlgorithm(QgsProcessingAlgorithm):
    """
    """

    # Constants used to refer to parameters and outputs. They will be
    # used when calling the algorithm from another algorithm, or when
    # calling from the QGIS console.

    INPUT = 'INPUT'
    OUTPUT = 'OUTPUT'

    def tr(self, string):
        """
        Returns a translatable string with the self.tr() function.
        """
        return QCoreApplication.translate('Processing', string)

    def createInstance(self):
        return TestMapProcessingAlgorithm()

    def name(self):
        """
        Returns the algorithm name, used for identifying the algorithm. This
        string should be fixed for the algorithm, and must not be localised.
        The name should be unique within each provider. Names should contain
        lowercase alphanumeric characters only and no spaces or other
        formatting characters.
        """
        return 'Test Map'

    def displayName(self):
        """
        Returns the translated algorithm name, which should be used for any
        user-visible display of the algorithm name.
        """
        return self.tr('Test Map')

    def group(self):
        """
        Returns the name of the group this algorithm belongs to. This string
        should be localised.
        """
        return self.tr('Test Map')

    def groupId(self):
        """
        Returns the unique ID of the group this algorithm belongs to. This
        string should be fixed for the algorithm, and must not be localised.
        The group id should be unique within each provider. Group id should
        contain lowercase alphanumeric characters only and no spaces or other
        formatting characters.
        """
        return 'Test Map'

    def shortHelpString(self):
        """
        Returns a localised short helper string for the algorithm. This string
        should provide a basic description about what the algorithm does and the
        parameters and outputs associated with it..
        """
        return self.tr("Test map composition")

    def initAlgorithm(self, config=None):
        """
        Here we define the inputs and output of the algorithm, along
        with some other properties.
        """

        # We add the input vector features source. It can have any kind of geometry.
        self.addParameter(
            QgsProcessingParameterFeatureSource(
                self.INPUT,
                self.tr('Input layer'),
                [QgsProcessing.TypeVectorAnyGeometry]
            )
        )

    def processAlgorithm(self, parameters, context, feedback):
        """
        Here is where the processing itself takes place.
        """

        source = self.parameterAsLayer(
            parameters,
            self.INPUT,
            context
        )

        #Inizialize references
        project = QgsProject.instance()             #gets a reference to the project instance
        manager = project.layoutManager()           #gets a reference to the layout manager
        root = project.layerTreeRoot()              #get reference to tree root

        #set pagesize, layout name and scale (fit or numeric)
        pagesize = 'A3'
        layoutName = "CompoMap_" + pagesize + ' ' + source.name()
        map_scala = 'fit'

        #If exist remove layout
        layouts_list = manager.printLayouts()
        for layout in layouts_list:
            if layout.name() == layoutName:
                manager.removeLayout(layout)

        #create layout
        layout = QgsPrintLayout(project)
        layout.initializeDefaults()
        layout.setName(layoutName)
        layout.pageCollection().page(0).setPageSize(pagesize, QgsLayoutItemPage.Orientation.Portrait)
        manager.addLayout(layout)

        #calculates the size of the map minus the edges
        xm = (layout.pageCollection().page(0).pageSize().width()-10)
        ym = (layout.pageCollection().page(0).pageSize().height()-10)
        
        #set layer active and fit map
        iface.setActiveLayer(source)
        root.findLayer(source.id()).setItemVisibilityChecked(True)
        canvas = iface.mapCanvas()
        canvas.setExtent(source.extent())
        canvas.refresh()

        #add map to layout and set position
        map = QgsLayoutItemMap(layout)
        map.setRect(20, 20, 20, 20)
        map.setExtent(canvas.extent())
        map.setId(source.name())
        map.attemptMove(QgsLayoutPoint(5, 5, QgsUnitTypes.LayoutMillimeters))
        map.attemptResize(QgsLayoutSize(xm, ym, QgsUnitTypes.LayoutMillimeters))
                
        #override scale Test_map
        if map_scala == 'fit':
            h_map_scala = math.ceil(source.extent().height()/map.rect().height())*1000
            w_map_scala = math.ceil(source.extent().width() /map.rect().width())*1000
            map_scala = max(h_map_scala,w_map_scala)

        extent = map.extent()
        center = extent.center()
        newwidth  = extent.width()  / map.scale() * map_scala
        newheight = extent.height() / map.scale() * map_scala
        x1 = center.x() - 0.5 * newwidth
        y1 = center.y() - 0.5 * newheight
        x2 = center.x() + 0.5 * newwidth
        y2 = center.y() + 0.5 * newheight
        map.setExtent(QgsRectangle(x1, y1, x2, y2))

        #add map to layout
        layout.addLayoutItem(map)

        #select and lock map set
        map.setLayers([source])
        map.setKeepLayerSet(True)
        map.setKeepLayerStyles(True)
        map.setBackgroundEnabled(False)
            
        #Add title
        title = QgsLayoutItemLabel(layout)
        title.setText(source.name())
        title.setFont(QFont("Arial Black", 12))
        title.adjustSizeToText()
        title.attemptMove(QgsLayoutPoint(5, 5, QgsUnitTypes.LayoutMillimeters))
        layout.addLayoutItem(title)
        
        feedback.pushInfo("WOW The plugin is working as it should, created " + layoutName)
        
        return {self.OUTPUT: None}

From adenaculture at gmail.com  Fri Jan 22 06:54:29 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Fri, 22 Jan 2021 09:54:29 -0500
Subject: [QGIS-Developer] New QGIS Date/Time Tools Plugin
In-Reply-To: <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
References: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
 <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
Message-ID: <CABPxTTr7zu5v1apsoVZN7vhfheJg1_0A2aw81VrhAfyL79KPmA@mail.gmail.com>

>
>
> > For those who use the OSGeo4W installer you may need to include the
> scipy library. The standalone installers already have it by default.
>
> I'm on Debian, and installed the plugin.
>
> I'm shown the 'Plugin Dependencies Manager' dialog (which I've never seen
> before, is it in master or in the plugin?) See screenshot. But I cannot
> click 'Fix manually' or so...
>
> But I have scipy  installed:
>
> python3-scipy/testing,testing,now 1.5.4-1+b1 amd64 [installed,automatic]
>   scientific tools for Python 3
>
> and in QGIS I can even run the scipy-get started:
>
> import numpy as np
> print("I like ", np.pi)
>
> Ah, and after the installation, the plugin is working fine (I think....)
>
> And upon restart I do not get the message anymore... So apparently 'Plugin
> Dependencies Manager' is not working ok the first time (I started a fresh
> profiles-path AND thus profile)
>

I am not sure I correctly set up the plugin_dependencies tag in
metadata.txt. I couldn't find any examples. Here is what I have in
metadata.txt.

plugin_dependencies=scipy

The Windows standalone versions have numpy and scipy already installed and
my OSGeo4W has numpy installed by default but not scipy.


>
> One remark: we (as The Netherlands, are currently UTC+1 (CET), but If I
> click just outside the north of NL (Waddenzee) outside of the xx-miles
> zone, I get +0
> As if the timeline is very east of NL there? Scandinavia is also +1 and is
> on the same degree.. more or less


Time zone boundaries are not in bands except in the ocean and even there
they may shift one way or the other around Islands. They are based on
political and geographical boundaries. Take a look at:
https://github.com/evansiroky/timezone-boundary-builder


>

Is it possible to visualize the time-lines?
>

What do you mean by visualize the time-lines? I am planning on showing the
timezone bounding box when you click on the map.


> > I would enjoy any suggestions or feedback. Also for the QGIS team, can a
> plugin this large be included into the plugin repo?
>
> If you promise not to release once a week, personally I would be ok with
> it :-)
>

Noted. Once I get more feedback back then I will create a new release and
make it available and not update it every week.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210122/a3b5c398/attachment.html>

From rdmailings at duif.net  Fri Jan 22 07:38:26 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 22 Jan 2021 16:38:26 +0100
Subject: [QGIS-Developer] New QGIS Date/Time Tools Plugin
In-Reply-To: <CABPxTTr7zu5v1apsoVZN7vhfheJg1_0A2aw81VrhAfyL79KPmA@mail.gmail.com>
References: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
 <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
 <CABPxTTr7zu5v1apsoVZN7vhfheJg1_0A2aw81VrhAfyL79KPmA@mail.gmail.com>
Message-ID: <a3259af4-047d-aeff-04d0-26911765521e@duif.net>

On 1/22/21 3:54 PM, C Hamilton wrote:

>     And upon restart I do not get the message anymore... So apparently 'Plugin Dependencies Manager' is not working ok the first time (I started a fresh profiles-path AND thus profile)
> 
> 
> I am not sure I correctly?set up the?plugin_dependencies tag in metadata.txt. I couldn't find any examples. Here is what I have in metadata.txt.?

I had a look into the code, and concluded that is meant to be used for inter-plugin dependencies.
Then I googled:
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/132
so I think you can remove it from your metadata.txt (unless Alessandro maybe can reveal a new trick from his sleeve about Python module dependencies :-) )

>     One remark: we (as The Netherlands, are currently UTC+1 (CET), but If I click just outside the north of NL (Waddenzee) outside of the xx-miles zone, I get +0
>     As if the timeline is very east of NL there? Scandinavia is also +1 and is on the same degree.. more or less
> 
> Time zone boundaries are not in bands except in the ocean and even there they may shift one way or the other around Islands. They are based on political and geographical boundaries. Take a look at:?https://github.com/evansiroky/timezone-boundary-builder <https://github.com/evansiroky/timezone-boundary-builder>??

Ah, clear (I think). I loaded that shapefile and see that the data is more or less a buffer around the countries/islands.
I thought more that is was a combinaties of areas shaped as long lines, like the colored image attached.

When you click in the North sea just above The Netherlands, you end up with UTC. but that is probably ok as maybe a timezone is/should be undefined if you do not click on land?
    ?
>     Is it possible to visualize the time-lines?
> 
> 
> What do you mean by visualize the time-lines? I am planning on showing the timezone bounding box when you click on the map.

As said: I thought there were lines crossing the oceans... but live is never that easy :-)

Regards,

Richard Duivenvoorde
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot-20210122163058-181x165.png
Type: image/png
Size: 10611 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210122/041d9d98/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot-20210122163305-221x167.png
Type: image/png
Size: 43877 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210122/041d9d98/attachment-0003.png>

From myriam.chanet at inrae.fr  Sat Jan 23 00:04:26 2021
From: myriam.chanet at inrae.fr (Myriam63)
Date: Sat, 23 Jan 2021 01:04:26 -0700 (MST)
Subject: [QGIS-Developer] Issue with QGIS 3.16.2 standalone and GRASS
 7.8.4
In-Reply-To: <1610619609817-0.post@n6.nabble.com>
References: <CAMCJChsVOH4BufUGw3_e3Sqgrj+aHVrEZTa4m8UjtkQ3=gSAhQ@mail.gmail.com>
 <1609372039347-0.post@n6.nabble.com>
 <CAMCJChvkkXWGyJ+u9VYERv0eQ7=Y+XOEYoJ7zZ6Zzjq1B-irGg@mail.gmail.com>
 <1610194558642-0.post@n6.nabble.com> <1610380312946-0.post@n6.nabble.com>
 <1610384242189-0.post@n6.nabble.com> <1610484375519-0.post@n6.nabble.com>
 <1610523360972-0.post@n6.nabble.com> <1610619070329-0.post@n6.nabble.com>
 <1610619609817-0.post@n6.nabble.com>
Message-ID: <1611389066286-0.post@n6.nabble.com>

Hello to all
Last version (3.16.3) successfully installed!
The problem in 3.16.1 and 3.16.2 versions are no longer present and no new
issues identified.
I hope it stays that way! ;)



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From jdaniel.lomenede at gmail.com  Sat Jan 23 06:35:14 2021
From: jdaniel.lomenede at gmail.com (JD L)
Date: Sat, 23 Jan 2021 15:35:14 +0100
Subject: [QGIS-Developer] QGIS composer print layout
In-Reply-To: <babc7a4b-5f91-e99e-ba83-48fcdb06b01e@tin.it>
References: <babc7a4b-5f91-e99e-ba83-48fcdb06b01e@tin.it>
Message-ID: <CAFHejDSWdJf8qmYys58ezA04vnYs6804CwFynHez0VuFCoqSZQ@mail.gmail.com>

Hi Giulio,

add the flags methods to tell your algorithm is not thread-safe. From the
documentation :
https://docs.qgis.org/3.16/en/docs/user_manual/processing/scripts.html#flags

If your algorithm is regularly crashing, you are probably using API calls
which are not safe to do in a background thread. Try returning the
*QgsProcessingAlgorithm.FlagNoThreading
flag from your algorithm?s flags() method* to force Processing to run your
algorithm in the main thread instead.

I just tested and it works.

Regards,

Le ven. 22 janv. 2021 ? 14:56, Giulio Fattori <giulio.fattori at tin.it> a
?crit :

> Hello,
> i'm developing a QGIS plugin algorithm that composes a print layout.
> The attached code works but the map window appears in the composer with
> the word "Rendering map".
> and I get these messages:
>
> WARNING    QObject::connect: Cannot queue arguments of type
> 'QItemSelection'
>              (Make sure 'QItemSelection' is registered using
> qRegisterMetaType().)
> WARNING    QObject::connect: Cannot queue arguments of type
> 'QItemSelection'
>              (Make sure 'QItemSelection' is registered using
> qRegisterMetaType().)
> WARNING    QObject::connect: Cannot queue arguments of type
> 'QItemSelection'
>              (Make sure 'QItemSelection' is registered using
> qRegisterMetaType().)
> WARNING    QObject::startTimer: Timers cannot be started from another
> thread
>
> CRITICAL    Qt : QObject::killTimer: Timers cannot be stopped from another
> thread
> CRITICAL    Qt : QObject::startTimer: Timers cannot be started from
> another thread
> CRITICAL    Qt : QObject::killTimer: Timers cannot be stopped from another
> thread
> CRITICAL    Qt : QObject::startTimer: Timers can only be used with threads
> started with QThread
>
> Only after saving and reopening QGIS do I get the correct result in the
> composer.
>
> What is missing to make it work properly?
>
> Can someone help me?
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210123/dd832e3b/attachment.html>

From lorenzetti at gis3w.it  Sat Jan 23 07:02:13 2021
From: lorenzetti at gis3w.it (Walter Lorenzetti)
Date: Sat, 23 Jan 2021 16:02:13 +0100
Subject: [QGIS-Developer] ECW flags
Message-ID: <57c91272-7037-b6d4-aaba-e663376455ea@gis3w.it>

Hi all,

a question: QGIS-server 3.10.14 for Ubuntu it was compile with ECW flags 
or not?

With 3.10.12 iI can use gdal compile with Erdas libraries but I get this 
error with 3.10.14:

GDAL_ERROR 4: b"`/shared-volume/project_data/326152.ecw' not recognized 
as a supported file format."

Thanks in advance

Walter.

-- 

Walter Lorenzetti phD
email: lorenzetti at gis3w.it
skype: aiki74
twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
g+:aiki74 <https://plus.google.com/117055903318462447104/>
Tel/Cell: (+39) 347-6597931
Viale Verdi 24 - 51016 Montecatini Terme (PT)
Nuovi corsi QGIS e GFOSS 
<http://gis3w.it/it/calendario-corsi-software-geografici>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210123/2aea4b6b/attachment.html>

From jef at norbit.de  Sat Jan 23 07:12:46 2021
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Sat, 23 Jan 2021 16:12:46 +0100
Subject: [QGIS-Developer] ECW flags
In-Reply-To: <57c91272-7037-b6d4-aaba-e663376455ea@gis3w.it>
References: <57c91272-7037-b6d4-aaba-e663376455ea@gis3w.it>
Message-ID: <20210123151246.c2ivhd34oapxmflj@norbit.de>

Hi Walter,

On Sat, 23. Jan 2021 at 16:02:13 +0100, Walter Lorenzetti wrote:
> a question: QGIS-server 3.10.14 for Ubuntu it was compile with ECW flags or
> not?

By default qgis server is built with SERVER_SKIP_ECW TRUE for debian/ubuntu and
in osgeo4w.


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210123/4748c123/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210123/4748c123/attachment.ksh>

From lorenzetti at gis3w.it  Sat Jan 23 07:21:33 2021
From: lorenzetti at gis3w.it (Walter Lorenzetti)
Date: Sat, 23 Jan 2021 16:21:33 +0100
Subject: [QGIS-Developer] ECW flags
In-Reply-To: <20210123151246.c2ivhd34oapxmflj@norbit.de>
References: <57c91272-7037-b6d4-aaba-e663376455ea@gis3w.it>
 <20210123151246.c2ivhd34oapxmflj@norbit.de>
Message-ID: <b9a31b0f-1849-cb7b-7581-b7ab434bb1f1@gis3w.it>

Thanks Jurgen.. I'd like to listem something different :(

So I've to compile it :(

W

Il 23/01/21 16:12, J?rgen E. Fischer ha scritto:
> Hi Walter,
>
> On Sat, 23. Jan 2021 at 16:02:13 +0100, Walter Lorenzetti wrote:
>> a question: QGIS-server 3.10.14 for Ubuntu it was compile with ECW flags or
>> not?
> By default qgis server is built with SERVER_SKIP_ECW TRUE for debian/ubuntu and
> in osgeo4w.
>
>
> J?rgen
>
-- 

Walter Lorenzetti phD
email: lorenzetti at gis3w.it
skype: aiki74
twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
g+:aiki74 <https://plus.google.com/117055903318462447104/>
Tel/Cell: (+39) 347-6597931
Viale Verdi 24 - 51016 Montecatini Terme (PT)
Nuovi corsi QGIS e GFOSS 
<http://gis3w.it/it/calendario-corsi-software-geografici>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210123/4f96c7a9/attachment.html>

From 46.i.s.o.64 at gmail.com  Sat Jan 23 11:04:02 2021
From: 46.i.s.o.64 at gmail.com (i-s-o)
Date: Sat, 23 Jan 2021 14:04:02 -0500
Subject: [QGIS-Developer] GDAL Version Mismatch - Compiled vs Running
Message-ID: <CACjCNZRaVLypGBvF00q_a5ECvd0G9Xhp6tD4D8pxpKm4nYW9-g@mail.gmail.com>

For the Nightly-Master, I just noticed the following. Is this the expected
behavior?
Compiled against GDAL/OGR 3.1.4
Running against GDAL/OGR 3.3.0dev

I am pretty sure it used to be the same as the current Nightly-Release:
Compiled against GDAL/OGR 3.3.0dev
Running against GDAL/OGR 3.3.0dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210123/946554dd/attachment-0001.html>

From vincent.ml at oslandia.com  Sat Jan 23 13:03:35 2021
From: vincent.ml at oslandia.com (Vincent Picavet (ml))
Date: Sat, 23 Jan 2021 22:03:35 +0100
Subject: [QGIS-Developer] ECW flags
In-Reply-To: <b9a31b0f-1849-cb7b-7581-b7ab434bb1f1@gis3w.it>
References: <57c91272-7037-b6d4-aaba-e663376455ea@gis3w.it>
 <20210123151246.c2ivhd34oapxmflj@norbit.de>
 <b9a31b0f-1849-cb7b-7581-b7ab434bb1f1@gis3w.it>
Message-ID: <2d8d84fc-baf9-052a-eec0-5cc4294e819f@oslandia.com>

Hi Walter,

Be careful with ECW SDK licence, which requires an OEM licence for any use in a
Server software component.

See for example :
https://community.hexagongeospatial.com/t5/APOLLO-ECW-Q-A/License-for-reading-or-writing-ECW-in-third-party-software/ta-p/34074#

This may have changed since 2019, but I doubt it.

In any case, I would rather recommend using an alternate format, with free and
opensource format and drivers.

Best regards,
Vincent

On 23/01/2021 16:21, Walter Lorenzetti wrote:
> Thanks Jurgen.. I'd like to listem something different :(
> 
> So I've to compile it :(
> 
> W
> 
> Il 23/01/21 16:12, J?rgen E. Fischer ha scritto:
>> Hi Walter,
>>
>> On Sat, 23. Jan 2021 at 16:02:13 +0100, Walter Lorenzetti wrote:
>>> a question: QGIS-server 3.10.14 for Ubuntu it was compile with ECW flags or
>>> not?
>> By default qgis server is built with SERVER_SKIP_ECW TRUE for debian/ubuntu and
>> in osgeo4w.
>>
>>
>> J?rgen
>>
> -- 
> 
> Walter Lorenzetti phD
> email: lorenzetti at gis3w.it
> skype: aiki74
> twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
> g+:aiki74 <https://plus.google.com/117055903318462447104/>
> Tel/Cell: (+39) 347-6597931
> Viale Verdi 24 - 51016 Montecatini Terme (PT)
> Nuovi corsi QGIS e GFOSS <http://gis3w.it/it/calendario-corsi-software-geografici>
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From senhor.neto at gmail.com  Sat Jan 23 17:31:36 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Sun, 24 Jan 2021 01:31:36 +0000
Subject: [QGIS-Developer] Nightly LTR for 3.16.4 Release Candidate
Message-ID: <CA+H0G_FOAUE1L29DrXD42gVb4x+y+qCsg1ChQpaqzQEQon_HeA@mail.gmail.com>

Hi,

Carrying on the work of QEP-180[1], we are now "metatesting" the testing
infraestructure and metodology[2] by running the set of designated test
cases  (manual tests) for the next releases 3.18.0 and 3.16.4LTR.

For the later, we would need to have the nigthly-ltr builds pointing to the
release 3.16 branch.

Question: Normally, when does the switch from the old LTR moves to the next
one happens? I was hoping that it would happen before the release itself.

[1] - https://github.com/qgis/QGIS-Enhancement-Proposals/issues/180

[2] - https://github.com/qcooperative/qgis-testing

Best regards,

Alexandre Neto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210124/ac350e17/attachment.html>

From lorenzetti at gis3w.it  Sat Jan 23 23:19:01 2021
From: lorenzetti at gis3w.it (Walter Lorenzetti)
Date: Sun, 24 Jan 2021 08:19:01 +0100
Subject: [QGIS-Developer] ECW flags
In-Reply-To: <2d8d84fc-baf9-052a-eec0-5cc4294e819f@oslandia.com>
References: <57c91272-7037-b6d4-aaba-e663376455ea@gis3w.it>
 <20210123151246.c2ivhd34oapxmflj@norbit.de>
 <b9a31b0f-1849-cb7b-7581-b7ab434bb1f1@gis3w.it>
 <2d8d84fc-baf9-052a-eec0-5cc4294e819f@oslandia.com>
Message-ID: <1e5f1eb0-001a-0a89-bc42-bb951d7a1bd9@gis3w.it>

Hi Vincent,

I've to do it for a customer who bought OEM licence from Erdas.

Every time I try to push my customers toward free formats, sometimes I 
can, other times not :)

Have a good Sunday

W

Il 23/01/21 22:03, Vincent Picavet (ml) ha scritto:
> Hi Walter,
>
> Be careful with ECW SDK licence, which requires an OEM licence for any use in a
> Server software component.
>
> See for example :
> https://community.hexagongeospatial.com/t5/APOLLO-ECW-Q-A/License-for-reading-or-writing-ECW-in-third-party-software/ta-p/34074#
>
> This may have changed since 2019, but I doubt it.
>
> In any case, I would rather recommend using an alternate format, with free and
> opensource format and drivers.
>
> Best regards,
> Vincent
>
> On 23/01/2021 16:21, Walter Lorenzetti wrote:
>> Thanks Jurgen.. I'd like to listem something different :(
>>
>> So I've to compile it :(
>>
>> W
>>
>> Il 23/01/21 16:12, J?rgen E. Fischer ha scritto:
>>> Hi Walter,
>>>
>>> On Sat, 23. Jan 2021 at 16:02:13 +0100, Walter Lorenzetti wrote:
>>>> a question: QGIS-server 3.10.14 for Ubuntu it was compile with ECW flags or
>>>> not?
>>> By default qgis server is built with SERVER_SKIP_ECW TRUE for debian/ubuntu and
>>> in osgeo4w.
>>>
>>>
>>> J?rgen
>>>
>> -- 
>>
>> Walter Lorenzetti phD
>> email: lorenzetti at gis3w.it
>> skype: aiki74
>> twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
>> g+:aiki74 <https://plus.google.com/117055903318462447104/>
>> Tel/Cell: (+39) 347-6597931
>> Viale Verdi 24 - 51016 Montecatini Terme (PT)
>> Nuovi corsi QGIS e GFOSS <http://gis3w.it/it/calendario-corsi-software-geografici>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
-- 

Walter Lorenzetti phD
email: lorenzetti at gis3w.it
skype: aiki74
twitter:w_lorenzetti <https://twitter.com/w_lorenzetti>
g+:aiki74 <https://plus.google.com/117055903318462447104/>
Tel/Cell: (+39) 347-6597931
Viale Verdi 24 - 51016 Montecatini Terme (PT)
Nuovi corsi QGIS e GFOSS 
<http://gis3w.it/it/calendario-corsi-software-geografici>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210124/9909a1de/attachment.html>

From giulio.fattori at tin.it  Sun Jan 24 04:17:22 2021
From: giulio.fattori at tin.it (Giulio Fattori)
Date: Sun, 24 Jan 2021 13:17:22 +0100
Subject: [QGIS-Developer] QGIS composer print layout
In-Reply-To: <CAFHejDSWdJf8qmYys58ezA04vnYs6804CwFynHez0VuFCoqSZQ@mail.gmail.com>
References: <babc7a4b-5f91-e99e-ba83-48fcdb06b01e@tin.it>
 <CAFHejDSWdJf8qmYys58ezA04vnYs6804CwFynHez0VuFCoqSZQ@mail.gmail.com>
Message-ID: <7065dee1-3b1d-e9f7-1419-8fc1446e5626@tin.it>

Il 23/01/2021 15:35, JD L ha scritto:
> Hi Giulio,
>
> add the flags methods to tell your algorithm is not thread-safe. From 
> the documentation :
> https://docs.qgis.org/3.16/en/docs/user_manual/processing/scripts.html#flags 
> <https://docs.qgis.org/3.16/en/docs/user_manual/processing/scripts.html#flags>
>
> If your algorithm is regularly crashing, you are probably using API 
> calls which are not safe to do in a background thread. Try returning 
> the *QgsProcessingAlgorithm.FlagNoThreading flag from your algorithm?s 
> flags() method* to force Processing to run your algorithm in the main 
> thread instead.
>
> I just tested and it works.
>
> Regards,
>
> Le?ven. 22 janv. 2021 ??14:56, Giulio Fattori <giulio.fattori at tin.it 
> <mailto:giulio.fattori at tin.it>> a ?crit?:
>
>     Hello,
>     i'm developing a QGIS plugin algorithm that composes a print layout.
>     The attached code works but the map window appears in the composer
>     with the word "Rendering map".
>     and I get these messages:
>
>     WARNING??? QObject::connect: Cannot queue arguments of type
>     'QItemSelection'
>     ???????????? (Make sure 'QItemSelection' is registered using
>     qRegisterMetaType().)
>     WARNING??? QObject::connect: Cannot queue arguments of type
>     'QItemSelection'
>     ???????????? (Make sure 'QItemSelection' is registered using
>     qRegisterMetaType().)
>     WARNING??? QObject::connect: Cannot queue arguments of type
>     'QItemSelection'
>     ???????????? (Make sure 'QItemSelection' is registered using
>     qRegisterMetaType().)
>     WARNING??? QObject::startTimer: Timers cannot be started from
>     another thread
>
>     CRITICAL??? Qt : QObject::killTimer: Timers cannot be stopped from
>     another thread
>     CRITICAL??? Qt : QObject::startTimer: Timers cannot be started
>     from another thread
>     CRITICAL??? Qt : QObject::killTimer: Timers cannot be stopped from
>     another thread
>     CRITICAL??? Qt : QObject::startTimer: Timers can only be used with
>     threads started with QThread
>
>     Only after saving and reopening QGIS do I get the correct result
>     in the composer.
>
>     What is missing to make it work properly?
>
>     Can someone help me?
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>

Hi Daniel,

thanks for your kind response, could you send me the code correct as you 
say?

Regards

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210124/7571e529/attachment-0001.html>
-------------- next part --------------
# -*- coding: utf-8 -*-

"""
***************************************************************************
*   Korto19 - last modified 17.01.2020/2021 19.01      
*   Put a map to composer
*   This program is free software; you can redistribute it and/or modify  *
*   it under the terms of the GNU General Public License as published by  *
*   the Free Software Foundation; either version 2 of the License, or     *
*   (at your option) any later version.                                   *
*                                                                         *
***************************************************************************
"""
from PyQt5.QtGui import QFont
from qgis.PyQt.QtCore import QCoreApplication
from qgis.core import (QgsProcessing,
                       QgsProject,
                       QgsPrintLayout,
                       QgsLayoutItemPage,
                       QgsLayoutItemMap,
                       QgsLayoutPoint,
                       QgsUnitTypes,
                       QgsLayoutSize,
                       QgsRectangle,
                       QgsLayoutItemLabel,
                       QgsProcessingAlgorithm,
                       QgsProcessingParameterFeatureSource,
                       QgsProcessingParameterFeatureSink)
                       
from qgis import processing
from qgis.utils import iface

import math

class TestMapProcessingAlgorithm(QgsProcessingAlgorithm):
    """
    """

    # Constants used to refer to parameters and outputs. They will be
    # used when calling the algorithm from another algorithm, or when
    # calling from the QGIS console.

    INPUT = 'INPUT'
    OUTPUT = 'OUTPUT'

    def tr(self, string):
        """
        Returns a translatable string with the self.tr() function.
        """
        return QCoreApplication.translate('Processing', string)

    def createInstance(self):
        return TestMapProcessingAlgorithm()

    def name(self):
        """
        Returns the algorithm name, used for identifying the algorithm. This
        string should be fixed for the algorithm, and must not be localised.
        The name should be unique within each provider. Names should contain
        lowercase alphanumeric characters only and no spaces or other
        formatting characters.
        """
        return 'Test Map'

    def displayName(self):
        """
        Returns the translated algorithm name, which should be used for any
        user-visible display of the algorithm name.
        """
        return self.tr('Test Map')

    def group(self):
        """
        Returns the name of the group this algorithm belongs to. This string
        should be localised.
        """
        return self.tr('Test Map')

    def groupId(self):
        """
        Returns the unique ID of the group this algorithm belongs to. This
        string should be fixed for the algorithm, and must not be localised.
        The group id should be unique within each provider. Group id should
        contain lowercase alphanumeric characters only and no spaces or other
        formatting characters.
        """
        return 'Test Map'

    def shortHelpString(self):
        """
        Returns a localised short helper string for the algorithm. This string
        should provide a basic description about what the algorithm does and the
        parameters and outputs associated with it..
        """
        return self.tr("Test map composition")

    def initAlgorithm(self, config=None):
        """
        Here we define the inputs and output of the algorithm, along
        with some other properties.
        """

        # We add the input vector features source. It can have any kind of geometry.
        self.addParameter(
            QgsProcessingParameterFeatureSource(
                self.INPUT,
                self.tr('Input layer'),
                [QgsProcessing.TypeVectorAnyGeometry]
            )
        )

    def processAlgorithm(self, parameters, context, feedback):
        """
        Here is where the processing itself takes place.
        """

        source = self.parameterAsLayer(
            parameters,
            self.INPUT,
            context
        )

        #Inizialize references
        project = QgsProject.instance()             #gets a reference to the project instance
        manager = project.layoutManager()           #gets a reference to the layout manager
        root = project.layerTreeRoot()              #get reference to tree root

        #set pagesize, layout name and scale (fit or numeric)
        pagesize = 'A3'
        layoutName = "CompoMap_" + pagesize + ' ' + source.name()
        map_scala = 'fit'

        #If exist remove layout
        layouts_list = manager.printLayouts()
        for layout in layouts_list:
            if layout.name() == layoutName:
                manager.removeLayout(layout)

        #create layout
        layout = QgsPrintLayout(project)
        layout.initializeDefaults()
        layout.setName(layoutName)
        layout.pageCollection().page(0).setPageSize(pagesize, QgsLayoutItemPage.Orientation.Portrait)
        manager.addLayout(layout)

        #calculates the size of the map minus the edges
        xm = (layout.pageCollection().page(0).pageSize().width()-10)
        ym = (layout.pageCollection().page(0).pageSize().height()-10)
        
        #set layer active and fit map
        iface.setActiveLayer(source)
        root.findLayer(source.id()).setItemVisibilityChecked(True)
        canvas = iface.mapCanvas()
        canvas.setExtent(source.extent())
        canvas.refresh()

        #add map to layout and set position
        map = QgsLayoutItemMap(layout)
        map.setRect(20, 20, 20, 20)
        map.setExtent(canvas.extent())
        map.setId(source.name())
        map.attemptMove(QgsLayoutPoint(5, 5, QgsUnitTypes.LayoutMillimeters))
        map.attemptResize(QgsLayoutSize(xm, ym, QgsUnitTypes.LayoutMillimeters))
                
        #override scale Test_map
        if map_scala == 'fit':
            h_map_scala = math.ceil(source.extent().height()/map.rect().height())*1000
            w_map_scala = math.ceil(source.extent().width() /map.rect().width())*1000
            map_scala = max(h_map_scala,w_map_scala)

        extent = map.extent()
        center = extent.center()
        newwidth  = extent.width()  / map.scale() * map_scala
        newheight = extent.height() / map.scale() * map_scala
        x1 = center.x() - 0.5 * newwidth
        y1 = center.y() - 0.5 * newheight
        x2 = center.x() + 0.5 * newwidth
        y2 = center.y() + 0.5 * newheight
        map.setExtent(QgsRectangle(x1, y1, x2, y2))

        #add map to layout
        layout.addLayoutItem(map)

        #select and lock map set
        map.setLayers([source])
        map.setKeepLayerSet(True)
        map.setKeepLayerStyles(True)
        map.setBackgroundEnabled(False)
            
        #Add title
        title = QgsLayoutItemLabel(layout)
        title.setText(source.name())
        title.setFont(QFont("Arial Black", 12))
        title.adjustSizeToText()
        title.attemptMove(QgsLayoutPoint(5, 5, QgsUnitTypes.LayoutMillimeters))
        layout.addLayoutItem(title)
        
        feedback.pushInfo("WOW The plugin is working as it should, created " + layoutName)
        
        return {self.OUTPUT: None}

From andreaerdna at libero.it  Sun Jan 24 06:26:31 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Sun, 24 Jan 2021 07:26:31 -0700 (MST)
Subject: [QGIS-Developer] QGIS composer print layout
In-Reply-To: <7065dee1-3b1d-e9f7-1419-8fc1446e5626@tin.it>
References: <babc7a4b-5f91-e99e-ba83-48fcdb06b01e@tin.it>
 <CAFHejDSWdJf8qmYys58ezA04vnYs6804CwFynHez0VuFCoqSZQ@mail.gmail.com>
 <7065dee1-3b1d-e9f7-1419-8fc1446e5626@tin.it>
Message-ID: <1611498391213-0.post@n6.nabble.com>

Giulio Fattori wrote
> could you send me the code correct as you say?

Hi Giulio,
as written by lejedi76, you just need to add:


    def flags(self):
        return super().flags() | QgsProcessingAlgorithm.FlagNoThreading


to your code, in order to let it correctly execute.

Regards.

Andrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From Hannah at land-scope.com  Mon Jan 25 01:25:33 2021
From: Hannah at land-scope.com (Hannah Wait)
Date: Mon, 25 Jan 2021 09:25:33 +0000
Subject: [QGIS-Developer] QGIS resolution
Message-ID: <LOYP123MB3439B83318BE2DA49BE08C3EF5BD0@LOYP123MB3439.GBRP123.PROD.OUTLOOK.COM>

Hi,

I was just wondering if anyone knows how to improve the resolution of a background map in QGIS, to export out as a geotiff image? I believe it maxes out at 3000 pixels and understand that it will make it a much larger file, but can this be increased at all?

Kind regards,


Hannah Wait

GIS Technician

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210125/b294df86/attachment.html>

From giulio.fattori at tin.it  Mon Jan 25 02:56:18 2021
From: giulio.fattori at tin.it (Giulio Fattori)
Date: Mon, 25 Jan 2021 11:56:18 +0100
Subject: [QGIS-Developer] QGIS composer print layout
In-Reply-To: <1611498391213-0.post@n6.nabble.com>
References: <babc7a4b-5f91-e99e-ba83-48fcdb06b01e@tin.it>
 <CAFHejDSWdJf8qmYys58ezA04vnYs6804CwFynHez0VuFCoqSZQ@mail.gmail.com>
 <7065dee1-3b1d-e9f7-1419-8fc1446e5626@tin.it>
 <1611498391213-0.post@n6.nabble.com>
Message-ID: <aa3a0b45-73bd-01eb-f87c-3241da35941c@tin.it>

Resolved

Grazie a tutti
Many Thanks to all


Il 24/01/2021 15:26, Andrea Giudiceandrea ha scritto:
> Giulio Fattori wrote
>> could you send me the code correct as you say?
> Hi Giulio,
> as written by lejedi76, you just need to add:
>
>
>      def flags(self):
>          return super().flags() | QgsProcessingAlgorithm.FlagNoThreading
>
>
> to your code, in order to let it correctly execute.
>
> Regards.
>
> Andrea
>
>
>
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



From enzo.ccc at gmail.com  Mon Jan 25 03:12:55 2021
From: enzo.ccc at gmail.com (Enzo Cocca)
Date: Mon, 25 Jan 2021 12:12:55 +0100
Subject: [QGIS-Developer] problem pymupdf + qgis 3.16.3 on ubuntu 18.04 crash
Message-ID: <CAC_+zuqszatXnXnjtP=fS_nDmBy9XBMx13SdER9SNj6tRSwGgg@mail.gmail.com>

Hi People,
I have this problem with my plugin that use pymupdf. Qgis crash with this
python library. below the error:
*QGIS died on signal 11Could not attach to process.  If your uid matches
the uid of the target*
*process, check the setting of /proc/sys/kernel/yama/ptrace_scope, or try*
*again as the root user.  For more details, see
/etc/sysctl.d/10-ptrace.conf*
*ptrace: Operation not permitted.*
*No thread selected*
*No stack.*
*gdb returned 0*
*Aborted (core dumped)*
How can fix it?

Best
Enzo

-- 
Enzo Cocca PhD
in "Science and Technology for Archaeology and Cultural Heritage"

ISMEO
International Association of Mediterranean and Oriental Studies


mail: enzo.ccc at gmail.com
cell: +393495087014
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210125/80ae78d0/attachment.html>

From marco at qgis.org  Mon Jan 25 11:13:49 2021
From: marco at qgis.org (Marco Bernasocchi)
Date: Mon, 25 Jan 2021 20:13:49 +0100
Subject: [QGIS-Developer] New community voting members
Message-ID: <CAB2ZMRAgY9Mr20uVh-Wot4582yUv_BC9Zw+f3aBBT7jOTBQHKA@mail.gmail.com>

Dear Community,

it is with great pleasure that I would like to officially congratulate our
new community voting members for their election.

David signer
Enrico Ferreguti
Etienne Trimaille
Pedro Ven?ncio
Peter Petrik
Richard Duivenvoorde

I would also like to extend them a heartfelt thank you for all the work
they have put into QGIS over the years.
I'd also like to extend my gratitude to all voters and everybody who gave
feedback on how to make the voting process even better.

I will add all new members to the community voting list and you'll be able
starting voting immediately.

It is a great pleasure having you all on board!

Cheers Marco

-- 
Marco Bernasocchi

QGIS.org Chair
OPENGIS.ch CEO
http://berna.io
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210125/4c11919f/attachment.html>

From peter.petrik at lutraconsulting.co.uk  Mon Jan 25 21:16:23 2021
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Tue, 26 Jan 2021 06:16:23 +0100
Subject: [QGIS-Developer] [Qgis-psc] New community voting members
In-Reply-To: <CAB2ZMRAgY9Mr20uVh-Wot4582yUv_BC9Zw+f3aBBT7jOTBQHKA@mail.gmail.com>
References: <CAB2ZMRAgY9Mr20uVh-Wot4582yUv_BC9Zw+f3aBBT7jOTBQHKA@mail.gmail.com>
Message-ID: <CA+T_MsJiQwKdRXij3dtE00Saqwcv=B8YCbBoX0BNVDf_=_EGoQ@mail.gmail.com>

Dear Community Members and PSC,

I am honored to be a voting member and will try my best to continue to help
the QGIS Project.

Cheers,
Peter


On Mon, Jan 25, 2021 at 8:14 PM Marco Bernasocchi <marco at qgis.org> wrote:

> Dear Community,
>
> it is with great pleasure that I would like to officially congratulate our
> new community voting members for their election.
>
> David signer
> Enrico Ferreguti
> Etienne Trimaille
> Pedro Ven?ncio
> Peter Petrik
> Richard Duivenvoorde
>
> I would also like to extend them a heartfelt thank you for all the work
> they have put into QGIS over the years.
> I'd also like to extend my gratitude to all voters and everybody who gave
> feedback on how to make the voting process even better.
>
> I will add all new members to the community voting list and you'll be able
> starting voting immediately.
>
> It is a great pleasure having you all on board!
>
> Cheers Marco
>
> --
> Marco Bernasocchi
>
> QGIS.org Chair
> OPENGIS.ch CEO
> http://berna.io
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210126/45de1739/attachment.html>

From etienne.trimaille at gmail.com  Mon Jan 25 21:59:22 2021
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Tue, 26 Jan 2021 12:59:22 +0700
Subject: [QGIS-Developer] [Qgis-psc] New community voting members
In-Reply-To: <CA+T_MsJiQwKdRXij3dtE00Saqwcv=B8YCbBoX0BNVDf_=_EGoQ@mail.gmail.com>
References: <CAB2ZMRAgY9Mr20uVh-Wot4582yUv_BC9Zw+f3aBBT7jOTBQHKA@mail.gmail.com>
 <CA+T_MsJiQwKdRXij3dtE00Saqwcv=B8YCbBoX0BNVDf_=_EGoQ@mail.gmail.com>
Message-ID: <CAMtDFLJWnnhhkMq-HhhnTC0eZtHd4kk8U3E2ACCBT=BF-wXngQ@mail.gmail.com>

Good morning,

Thank you to all community voting members and PSC.
Very grateful and great pleasure to be there !

Regards,

Le mar. 26 janv. 2021 ? 12:16, Peter Petrik <
peter.petrik at lutraconsulting.co.uk> a ?crit :

> Dear Community Members and PSC,
>
> I am honored to be a voting member and will try my best to continue to
> help the QGIS Project.
>
> Cheers,
> Peter
>
>
> On Mon, Jan 25, 2021 at 8:14 PM Marco Bernasocchi <marco at qgis.org> wrote:
>
>> Dear Community,
>>
>> it is with great pleasure that I would like to officially congratulate
>> our new community voting members for their election.
>>
>> David signer
>> Enrico Ferreguti
>> Etienne Trimaille
>> Pedro Ven?ncio
>> Peter Petrik
>> Richard Duivenvoorde
>>
>> I would also like to extend them a heartfelt thank you for all the work
>> they have put into QGIS over the years.
>> I'd also like to extend my gratitude to all voters and everybody who gave
>> feedback on how to make the voting process even better.
>>
>> I will add all new members to the community voting list and you'll be
>> able starting voting immediately.
>>
>> It is a great pleasure having you all on board!
>>
>> Cheers Marco
>>
>> --
>> Marco Bernasocchi
>>
>> QGIS.org Chair
>> OPENGIS.ch CEO
>> http://berna.io
>> _______________________________________________
>> Qgis-psc mailing list
>> Qgis-psc at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210126/311a1f6d/attachment.html>

From enricofer at gmail.com  Mon Jan 25 22:14:54 2021
From: enricofer at gmail.com (Enrico Ferreguti)
Date: Tue, 26 Jan 2021 07:14:54 +0100
Subject: [QGIS-Developer] [Qgis-voting-members] [Qgis-psc] New community
 voting members
In-Reply-To: <CAMtDFLJWnnhhkMq-HhhnTC0eZtHd4kk8U3E2ACCBT=BF-wXngQ@mail.gmail.com>
References: <CAB2ZMRAgY9Mr20uVh-Wot4582yUv_BC9Zw+f3aBBT7jOTBQHKA@mail.gmail.com>
 <CA+T_MsJiQwKdRXij3dtE00Saqwcv=B8YCbBoX0BNVDf_=_EGoQ@mail.gmail.com>
 <CAMtDFLJWnnhhkMq-HhhnTC0eZtHd4kk8U3E2ACCBT=BF-wXngQ@mail.gmail.com>
Message-ID: <CAJy=Xtfi=5ucbp_2-4iCuaRq9Zm7eNON7Ocmk=ijAgRxJYsAzQ@mail.gmail.com>

Wow. I'm proud to be part of this with you. Thank you all.

Il mar 26 gen 2021, 06:59 Etienne Trimaille <etienne.trimaille at gmail.com>
ha scritto:

> Good morning,
>
> Thank you to all community voting members and PSC.
> Very grateful and great pleasure to be there !
>
> Regards,
>
> Le mar. 26 janv. 2021 ? 12:16, Peter Petrik <
> peter.petrik at lutraconsulting.co.uk> a ?crit :
>
>> Dear Community Members and PSC,
>>
>> I am honored to be a voting member and will try my best to continue to
>> help the QGIS Project.
>>
>> Cheers,
>> Peter
>>
>>
>> On Mon, Jan 25, 2021 at 8:14 PM Marco Bernasocchi <marco at qgis.org> wrote:
>>
>>> Dear Community,
>>>
>>> it is with great pleasure that I would like to officially congratulate
>>> our new community voting members for their election.
>>>
>>> David signer
>>> Enrico Ferreguti
>>> Etienne Trimaille
>>> Pedro Ven?ncio
>>> Peter Petrik
>>> Richard Duivenvoorde
>>>
>>> I would also like to extend them a heartfelt thank you for all the work
>>> they have put into QGIS over the years.
>>> I'd also like to extend my gratitude to all voters and everybody who
>>> gave feedback on how to make the voting process even better.
>>>
>>> I will add all new members to the community voting list and you'll be
>>> able starting voting immediately.
>>>
>>> It is a great pleasure having you all on board!
>>>
>>> Cheers Marco
>>>
>>> --
>>> Marco Bernasocchi
>>>
>>> QGIS.org Chair
>>> OPENGIS.ch CEO
>>> http://berna.io
>>> _______________________________________________
>>> Qgis-psc mailing list
>>> Qgis-psc at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> Qgis-voting-members mailing list
> Qgis-voting-members at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-voting-members
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210126/101a9481/attachment.html>

From david at opengis.ch  Mon Jan 25 23:13:15 2021
From: david at opengis.ch (David Signer)
Date: Tue, 26 Jan 2021 08:13:15 +0100
Subject: [QGIS-Developer] [Qgis-voting-members] [Qgis-psc] New community
 voting members
In-Reply-To: <CAJy=Xtfi=5ucbp_2-4iCuaRq9Zm7eNON7Ocmk=ijAgRxJYsAzQ@mail.gmail.com>
References: <CAB2ZMRAgY9Mr20uVh-Wot4582yUv_BC9Zw+f3aBBT7jOTBQHKA@mail.gmail.com>
 <CA+T_MsJiQwKdRXij3dtE00Saqwcv=B8YCbBoX0BNVDf_=_EGoQ@mail.gmail.com>
 <CAMtDFLJWnnhhkMq-HhhnTC0eZtHd4kk8U3E2ACCBT=BF-wXngQ@mail.gmail.com>
 <CAJy=Xtfi=5ucbp_2-4iCuaRq9Zm7eNON7Ocmk=ijAgRxJYsAzQ@mail.gmail.com>
Message-ID: <CAETFtHnDouX8Z3AvmzAooe0WwTZKf83yCCTMpV8rJ-f39YFu_w@mail.gmail.com>

Same here. Happy and proud to be part of it.
Thanks a lot.

Dave

Enrico Ferreguti <enricofer at gmail.com> schrieb am Di., 26. Jan. 2021, 07:15:

> Wow. I'm proud to be part of this with you. Thank you all.
>
> Il mar 26 gen 2021, 06:59 Etienne Trimaille <etienne.trimaille at gmail.com>
> ha scritto:
>
>> Good morning,
>>
>> Thank you to all community voting members and PSC.
>> Very grateful and great pleasure to be there !
>>
>> Regards,
>>
>> Le mar. 26 janv. 2021 ? 12:16, Peter Petrik <
>> peter.petrik at lutraconsulting.co.uk> a ?crit :
>>
>>> Dear Community Members and PSC,
>>>
>>> I am honored to be a voting member and will try my best to continue to
>>> help the QGIS Project.
>>>
>>> Cheers,
>>> Peter
>>>
>>>
>>> On Mon, Jan 25, 2021 at 8:14 PM Marco Bernasocchi <marco at qgis.org>
>>> wrote:
>>>
>>>> Dear Community,
>>>>
>>>> it is with great pleasure that I would like to officially congratulate
>>>> our new community voting members for their election.
>>>>
>>>> David signer
>>>> Enrico Ferreguti
>>>> Etienne Trimaille
>>>> Pedro Ven?ncio
>>>> Peter Petrik
>>>> Richard Duivenvoorde
>>>>
>>>> I would also like to extend them a heartfelt thank you for all the work
>>>> they have put into QGIS over the years.
>>>> I'd also like to extend my gratitude to all voters and everybody who
>>>> gave feedback on how to make the voting process even better.
>>>>
>>>> I will add all new members to the community voting list and you'll be
>>>> able starting voting immediately.
>>>>
>>>> It is a great pleasure having you all on board!
>>>>
>>>> Cheers Marco
>>>>
>>>> --
>>>> Marco Bernasocchi
>>>>
>>>> QGIS.org Chair
>>>> OPENGIS.ch CEO
>>>> http://berna.io
>>>> _______________________________________________
>>>> Qgis-psc mailing list
>>>> Qgis-psc at lists.osgeo.org
>>>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>> _______________________________________________
>> Qgis-voting-members mailing list
>> Qgis-voting-members at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/qgis-voting-members
>>
> _______________________________________________
> Qgis-voting-members mailing list
> Qgis-voting-members at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-voting-members
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210126/aa7d2195/attachment-0001.html>

From rdmailings at duif.net  Mon Jan 25 23:48:32 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 26 Jan 2021 08:48:32 +0100
Subject: [QGIS-Developer] [Qgis-user] New community voting members
In-Reply-To: <CAB2ZMRAgY9Mr20uVh-Wot4582yUv_BC9Zw+f3aBBT7jOTBQHKA@mail.gmail.com>
References: <CAB2ZMRAgY9Mr20uVh-Wot4582yUv_BC9Zw+f3aBBT7jOTBQHKA@mail.gmail.com>
Message-ID: <3c62525a-0519-a384-852b-df9bb029b3c5@duif.net>

On 1/25/21 8:13 PM, Marco Bernasocchi wrote:
> Dear Community,
> 
> it is with great pleasure that I would like to officially congratulate our new community voting members for their election.

Cool. Thanks! Feeling honored.

Regards,

Richard 

From tim at kartoza.com  Tue Jan 26 01:00:20 2021
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 26 Jan 2021 09:00:20 +0000
Subject: [QGIS-Developer] Scheduled downtime for plugins.qgis.org
Message-ID: <CAES-DZTQjHNTkieadbXq-1njuRcpxNyG072td41T2rHneSwXKA@mail.gmail.com>

Dear QGIS Users

We are running out of space on our server running https://plugins.qgis.org
- a sign of success, given the large number of plugins and plugin versions
hosted on the platform. On Thursday 28 January at 9am West European Time,
we will bring the server offline for a scheduled upgrade to the storage
space on the server. We anticipate that the work will be completed within
an hour. We thank you for your patience whilst we undertake this critical
maintenance.

The maintenance of QGIS infrastructure is undertaken largely by volunteers
and the cost of servers and hosting related costs are funded by your
donations and sustaining memberships. If you would like to help support
this (and the many other excellent initiatives carried out by QGIS.org),
please consider heading over to
https://qgis.org/en/site/getinvolved/governance/sustaining_members/sustaining_members.html#how-can-you-support-the-qgis-development
to find out how you can help!

Regards

Tim

-- 
------------------------------------------------------------------------------------------

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210126/469b1bed/attachment.html>

From martin.gunia at arbonaut.com  Tue Jan 26 01:02:15 2021
From: martin.gunia at arbonaut.com (Martin Gunia)
Date: Tue, 26 Jan 2021 09:02:15 +0000
Subject: [QGIS-Developer] PyQGIS bindings for QgsVectorlayer::allowCommit()
 and QgsVectorLayer::setAllowCommit()
Message-ID: <HE1PR0201MB22359C471FFE1ACBD3B12015F2BC0@HE1PR0201MB2235.eurprd02.prod.outlook.com>

Hi,

I am developing a QGIS plugin that listens to feature editing events and would perform some validation steps before changes are committed to the data source. If the validation fails, I would like the commit to be "aborted" so that editing session remains in place and the edit buffer is unaffected. In C++ I can do this by calling  QgsVectorLayer::setAllowCommit() from within the QgsVectorLayer::beforeCommitChanges() slot but this is not available from Python, seemingly on purpose (QgsVectorLayer::allowCommit() and QgsVectorLayer::setAllowCommit() are marked as SIP_SKIP in qgsvectorlayer.h) .

I would be interested to know what is the reason for skipping the two methods from the SIP bindings and whether they could be made available? If not judged too difficult or generally undesirable, I can try implementing and testing this myself.

Best regards,
Martin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210126/66ae860e/attachment.html>

From andreaerdna at libero.it  Tue Jan 26 02:45:36 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Tue, 26 Jan 2021 03:45:36 -0700 (MST)
Subject: [QGIS-Developer] issues.qgis.org not working
Message-ID: <1611657936874-0.post@n6.nabble.com>

Hi all,
it seems the Redmine old issue tracker at issues.qgis.org, which also stores
the old issues attachments, is currently not working properly.

Trying to access https://issues.qgis.org/ the servers responds with HTTP/1.1
301 Moved Permanently,
but the new location is always the same https://issues.qgis.org/ leading to
a redirection loop: ERR_TOO_MANY_REDIRECTS

Regards.

Andrea



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From rdmailings at duif.net  Tue Jan 26 04:33:46 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 26 Jan 2021 13:33:46 +0100
Subject: [QGIS-Developer] issues.qgis.org not working
In-Reply-To: <1611657936874-0.post@n6.nabble.com>
References: <1611657936874-0.post@n6.nabble.com>
Message-ID: <6eb63570-4967-be3f-dc20-ff38cc06b1c9@duif.net>

On 1/26/21 11:45 AM, Andrea Giudiceandrea wrote:
> Hi all,
> it seems the Redmine old issue tracker at issues.qgis.org, which also stores
> the old issues attachments, is currently not working properly.
> 
> Trying to access https://issues.qgis.org/ the servers responds with HTTP/1.1
> 301 Moved Permanently,
> but the new location is always the same https://issues.qgis.org/ leading to
> a redirection loop: ERR_TOO_MANY_REDIRECTS

Mmm, strange. I just updated the cert last week, and we saw that apache was not responding and we restarted apache and all was fine.

Has somebody been working/changing something there?

I just tried:
- to NOT let it be proxied by cloudflare
- to NOT add 'RequestHeader set X-Forwarded-Proto "https" '
but that did not fix anything...

Others?

Regards,

Richard Duivenvoorde

From adenaculture at gmail.com  Tue Jan 26 09:02:42 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 26 Jan 2021 12:02:42 -0500
Subject: [QGIS-Developer] Proper use of plugin_dependencies in metadata.txt
Message-ID: <CABPxTTrG5qQ5CS21jx-pvDPFJ62to1aqev1fn-9xtsQcLCOMoA@mail.gmail.com>

I have a plugin that requires numpy and scipy. Both of these are
automatically included in the standalone Windows QGIS installer, but I have
found that they may not be included by default with the OSGeo4W installer
and I don't know about Linux distributions.

*Is there a proper way to notify the user that they need to make sure numpy
and scipy are installed?* I thought plugin_dependencies in metadata.txt was
the way to do it, but the documentation says it is a "PIP-like comma
separated list of other plugins to install." So it appears that
plugin_dependencies is for other plugins and not for python modules.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210126/8516cbb2/attachment-0001.html>

From tim at kartoza.com  Tue Jan 26 14:31:20 2021
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 26 Jan 2021 22:31:20 +0000
Subject: [QGIS-Developer] issues.qgis.org not working
In-Reply-To: <6eb63570-4967-be3f-dc20-ff38cc06b1c9@duif.net>
References: <1611657936874-0.post@n6.nabble.com>
 <6eb63570-4967-be3f-dc20-ff38cc06b1c9@duif.net>
Message-ID: <CAES-DZR7=byqpV-ydWgALMPQ=YNsCMdkRp0yhDmmxbxx6wWrSw@mail.gmail.com>

No I havent been doing anything on the server from my side. Did you manage
to get it resolved? Thanks for looking into it Richard!

Regards

Tim

On Tue, 26 Jan 2021, 12:33 Richard Duivenvoorde, <rdmailings at duif.net>
wrote:

> On 1/26/21 11:45 AM, Andrea Giudiceandrea wrote:
> > Hi all,
> > it seems the Redmine old issue tracker at issues.qgis.org, which also
> stores
> > the old issues attachments, is currently not working properly.
> >
> > Trying to access https://issues.qgis.org/ the servers responds with
> HTTP/1.1
> > 301 Moved Permanently,
> > but the new location is always the same https://issues.qgis.org/
> leading to
> > a redirection loop: ERR_TOO_MANY_REDIRECTS
>
> Mmm, strange. I just updated the cert last week, and we saw that apache
> was not responding and we restarted apache and all was fine.
>
> Has somebody been working/changing something there?
>
> I just tried:
> - to NOT let it be proxied by cloudflare
> - to NOT add 'RequestHeader set X-Forwarded-Proto "https" '
> but that did not fix anything...
>
> Others?
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210126/30a25b5e/attachment.html>

From tim at kartoza.com  Tue Jan 26 21:16:36 2021
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 27 Jan 2021 05:16:36 +0000
Subject: [QGIS-Developer] New QGIS Date/Time Tools Plugin
In-Reply-To: <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
References: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
 <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
Message-ID: <CAES-DZSMiTepcqiwWH9d58baiwiH5=jGGv8bZ6y-5RykjC0dbw@mail.gmail.com>

Hi




On Fri, 22 Jan 2021, 09:39 Richard Duivenvoorde, <rdmailings at duif.net>
wrote:

> On 1/21/21 4:22 PM, C Hamilton wrote:
>

> I would enjoy any suggestions or feedback. Also for the QGIS team, can a
> plugin this large be included into the plugin repo?
>
> If you promise not to release once a week, personally I would be ok with
> it :-)
>

Personally I would be more on the -1 on upping the limit for plugins -
currently at 10mb I think - since large plugins will consume more space on
our plugins server and our user's bandwidth. There is an unwritten
expectation that plugins should be small and quick to fetch. If others feel
strongly with a contrary opinion, contact me offlist and I will help you
get it published without generally changing the limit.

Regard

Tim

>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210127/fec6783b/attachment.html>

From tim at kartoza.com  Tue Jan 26 21:26:46 2021
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 27 Jan 2021 05:26:46 +0000
Subject: [QGIS-Developer] Raster with CC-0 license
In-Reply-To: <CAKsx1pntt6YC+KO5+LfDmCMeNgtnjLJuP7xfQajhDUqSoCkuUg@mail.gmail.com>
References: <CAKsx1pntt6YC+KO5+LfDmCMeNgtnjLJuP7xfQajhDUqSoCkuUg@mail.gmail.com>
Message-ID: <CAES-DZQn18fx=zPU_cogp=1FFQiw+dnVXMjtuqDj-ftrNn2Biw@mail.gmail.com>

Hi Jean

Just to follow up here, if the license requirement for the GPKG sharing
platform isnt working we could consider adding other open licenses.I wanted
to keep things clear and simple. I had actually intended that the GPKG
itself (including QGIS project, styles etc.) be CC-0 and the included data
either CC-0 or open sharing license such as ODBL, with the requirement that
the user properly populate the metadata for each layer in the project. I
will take another look at the wording we use to try to make things clearer.

Thanks for testing, feel free to share any further comments via the issue
tracker at https://github.com/qgis/QGIS-Django/issues

Regards

Tim

On Fri, 22 Jan 2021, 09:26 Jean Hemmi, <jean at jhemmi.eu> wrote:

> Good morning QGIS,
> I'd like to upload a GPKG project <https://plugins.qgis.org/geopackages/>
> including a small raster (piece of an old orthophoto for instance).
> Does anybody know an Open Data set of rasters with a CC-0 license
> <https://creativecommons.org/publicdomain/zero/1.0/> ?
> Thanks,
> Jean Hemmi
> Ma-Sentinelle <https://www.ma-sentinelle.eu/Services/ma-sentinelle> ? | Parall?les
> ?
> <https://sites.google.com/a/jhemmi.eu/objectifs/blog/calculervosparalleles>
> |  Zoho Creator | Parcours
> <https://www.ma-sentinelle.eu/Services/Parcours-%CF%80> ?
> Extensions pour QGIS : Mon Parcellaire
> <https://www.ma-sentinelle.eu/Services/mon-parcellaire> | Mon Tom
> Parcellaire <https://www.ma-sentinelle.eu/Services/tom> | Physiocap3
> <https://www.ma-sentinelle.eu/Services/physiocap>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210127/35be25f7/attachment.html>

From rdmailings at duif.net  Wed Jan 27 01:51:11 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 27 Jan 2021 10:51:11 +0100
Subject: [QGIS-Developer] issues.qgis.org not working
In-Reply-To: <CAES-DZR7=byqpV-ydWgALMPQ=YNsCMdkRp0yhDmmxbxx6wWrSw@mail.gmail.com>
References: <1611657936874-0.post@n6.nabble.com>
 <6eb63570-4967-be3f-dc20-ff38cc06b1c9@duif.net>
 <CAES-DZR7=byqpV-ydWgALMPQ=YNsCMdkRp0yhDmmxbxx6wWrSw@mail.gmail.com>
Message-ID: <af1f7853-fdfe-d626-cc6c-175e6bd90165@duif.net>

Apparently the certificate/letsencrypt script messed up something.
After cleaning that up and did a fresh one all seems fine now.

Please let us know if not.

Regards,

Richard Duivenvoorde

On 1/26/21 11:31 PM, Tim Sutton wrote:
> No I havent been doing anything on the server from my side. Did you manage to get it resolved? Thanks for looking into it Richard!
> 
> Regards
> 
> Tim
> 
> On Tue, 26 Jan 2021, 12:33 Richard Duivenvoorde, <rdmailings at duif.net <mailto:rdmailings at duif.net>> wrote:
> 
>     On 1/26/21 11:45 AM, Andrea Giudiceandrea wrote:
>     > Hi all,
>     > it seems the Redmine old issue tracker at issues.qgis.org <http://issues.qgis.org>, which also stores
>     > the old issues attachments, is currently not working properly.
>     >
>     > Trying to access https://issues.qgis.org/ <https://issues.qgis.org/> the servers responds with HTTP/1.1
>     > 301 Moved Permanently,
>     > but the new location is always the same https://issues.qgis.org/ <https://issues.qgis.org/> leading to
>     > a redirection loop: ERR_TOO_MANY_REDIRECTS
> 
>     Mmm, strange. I just updated the cert last week, and we saw that apache was not responding and we restarted apache and all was fine.
> 
>     Has somebody been working/changing something there?
> 
>     I just tried:
>     - to NOT let it be proxied by cloudflare
>     - to NOT add 'RequestHeader set X-Forwarded-Proto "https" '
>     but that did not fix anything...
> 
>     Others?
> 
>     Regards,
> 
>     Richard Duivenvoorde
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 


From gdt at lexort.com  Wed Jan 27 05:30:10 2021
From: gdt at lexort.com (Greg Troxel)
Date: Wed, 27 Jan 2021 08:30:10 -0500
Subject: [QGIS-Developer] Raster with CC-0 license
In-Reply-To: <CAES-DZQn18fx=zPU_cogp=1FFQiw+dnVXMjtuqDj-ftrNn2Biw@mail.gmail.com>
 (Tim Sutton's message of "Wed, 27 Jan 2021 05:26:46 +0000")
References: <CAKsx1pntt6YC+KO5+LfDmCMeNgtnjLJuP7xfQajhDUqSoCkuUg@mail.gmail.com>
 <CAES-DZQn18fx=zPU_cogp=1FFQiw+dnVXMjtuqDj-ftrNn2Biw@mail.gmail.com>
Message-ID: <rmik0ry7bj1.fsf@s1.lexort.com>


I realize this is regional, but imagery as well as raster topo maps
published by the US government are in the public domain, which can
treated as matching CC-0.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 194 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210127/e2170cb0/attachment.sig>

From adenaculture at gmail.com  Wed Jan 27 06:30:45 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 27 Jan 2021 09:30:45 -0500
Subject: [QGIS-Developer] [Qgis-user]  New QGIS Date/Time Tools Plugin
In-Reply-To: <CAES-DZSMiTepcqiwWH9d58baiwiH5=jGGv8bZ6y-5RykjC0dbw@mail.gmail.com>
References: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
 <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
 <CAES-DZSMiTepcqiwWH9d58baiwiH5=jGGv8bZ6y-5RykjC0dbw@mail.gmail.com>
Message-ID: <CABPxTTqC=mLBMTSS+zzBcrDpYO9nNPWgbGwXYgAp0vN2dpi6dQ@mail.gmail.com>

Tim,

I understand the position you are in and I really struggled in even wanting
to put in the time to develop this plugin knowing that there would probably
be a problem getting it accepted by the QGIS developers because of its
size, but our users have a very real need for this capability which is why
I consented to develop it at all.

In order to deal with locating time zones based on a coordinate there is
simply no way to get around the size of the python library required if
accuracy of the results is desired. That feature alone requires 42Mb. I
struggle to convince our GIS analysts to use QGIS over ArcGIS and so I try
to provide solutions that work better than those in ArcGIS, but if there is
any sort of complication that makes it more difficult for one of the
analysts to get the resources they need for QGIS then I have lost the
battle. This includes having them pip install additional python libraries
because most of them do not have system admin privileges.

I can easily set up the ability for users to point to a separate repo that
houses this plugin, but once again that is an additional complication.
Every once in a while I find some QGIS repo of plugins that are not a part
of the official QGIS repo and I think that it is too bad that they are
probably not used much outside of the organization who hosts them. Unless a
plugin exists on the official QGIS repo it will not be discoverable and
will not likely be used by many.

I think the plans I have with this plugin will make it very useful to the
QGIS community, but if it cannot be a part of the QGIS repo it will not be
of much use to the community. Our users will make use of it because we will
provide it to them. I would like to swap out the astral library for the
Skyfield library with the JPL ephemeris data to provide more precise sun
and moon calculations, but that adds an additional ~20Mb.

I would love it if you would provide timezonefinder and Skyfield libraries
by default with the QGIS distribution, but that increases the size of the
QGIS download. When you are dealing with time zones and astronomical
calculations, there is no way in getting around the plugin size to get the
best accuracy available. I personally am not interested in providing tools
with less accuracy.

I don't know how important it will be for the QIGS community to have these
tools available, but I know that there will be a number of users who have
been looking for these capabilities in QGIS and will be valuable to them.
Right now I have coded only one of a number of tools that I have planned,
but part of my plans will be determined by the QGIS acceptance of a larger
plugin. I think my other QGIS plugins I have provided including "Lat Lon
Tools", "Shape Tools" & "KML Tools" shows how useful my plugins have been.

If there is something I am missing or some other way around this let me
know, but keep in mind I hold to two fundamental principals with my
plugins. 1) They are as accurate at possible. 2) They are self contained
meaning that OUR users don't need to install any software to run them. The
functionality in Date/Time tools is simply going to take up space and there
is no way around it that I can see. I think your "unwritten expectation" of
small plugins prevents some capabilities from being introduced, but I also
agree that in most instances plugins should be kept small. What I am trying
to accomplish simply does not come small.

Let me know if you want me to just provide the capabilities for our users
alone or to expand it for use by the QGIS community.

I await the QGIS developers decision on this.

Thanks!

Personally I would be more on the -1 on upping the limit for plugins -
>> currently at 10mb I think - since large plugins will consume more space on
>> our plugins server and our user's bandwidth. There is an unwritten
>> expectation that plugins should be small and quick to fetch. If others feel
>> strongly with a contrary opinion, contact me offlist and I will help you
>> get it published without generally changing the limit.
>>
>
> Regard
>
> Tim
>
>> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210127/db8247fd/attachment.html>

From tim at kartoza.com  Wed Jan 27 15:29:51 2021
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 27 Jan 2021 23:29:51 +0000
Subject: [QGIS-Developer] Raster with CC-0 license
In-Reply-To: <rmik0ry7bj1.fsf@s1.lexort.com>
References: <CAKsx1pntt6YC+KO5+LfDmCMeNgtnjLJuP7xfQajhDUqSoCkuUg@mail.gmail.com>
 <CAES-DZQn18fx=zPU_cogp=1FFQiw+dnVXMjtuqDj-ftrNn2Biw@mail.gmail.com>
 <rmik0ry7bj1.fsf@s1.lexort.com>
Message-ID: <CAES-DZQ443A7s8mVahxL5PG64NPCHDUA-HdPzJwQyCfiAZ5UYg@mail.gmail.com>

Hi

On Wed, Jan 27, 2021 at 1:30 PM Greg Troxel <gdt at lexort.com> wrote:

>
> I realize this is regional, but imagery as well as raster topo maps
> published by the US government are in the public domain, which can
> treated as matching CC-0.
>

Good to know! Could you link us to some nice examples?

Regards

Tim




-- 
------------------------------------------------------------------------------------------

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210127/8f8291be/attachment.html>

From nyall.dawson at gmail.com  Wed Jan 27 15:38:44 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 28 Jan 2021 09:38:44 +1000
Subject: [QGIS-Developer] [Qgis-user]  New QGIS Date/Time Tools Plugin
In-Reply-To: <CABPxTTqC=mLBMTSS+zzBcrDpYO9nNPWgbGwXYgAp0vN2dpi6dQ@mail.gmail.com>
References: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
 <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
 <CAES-DZSMiTepcqiwWH9d58baiwiH5=jGGv8bZ6y-5RykjC0dbw@mail.gmail.com>
 <CABPxTTqC=mLBMTSS+zzBcrDpYO9nNPWgbGwXYgAp0vN2dpi6dQ@mail.gmail.com>
Message-ID: <CAB28AsgnEmOnvO6Lx9W03aAFT1Y1-_5XqS2gwP8prQTMWeKE9w@mail.gmail.com>

On Thu, 28 Jan 2021 at 00:32, C Hamilton <adenaculture at gmail.com> wrote:
>
> Tim,
>
> I understand the position you are in and I really struggled in even wanting to put in the time to develop this plugin knowing that there would probably be a problem getting it accepted by the QGIS developers because of its size, but our users have a very real need for this capability which is why I consented to develop it at all.
>
> In order to deal with locating time zones based on a coordinate there is simply no way to get around the size of the python library required if accuracy of the results is desired. That feature alone requires 42Mb. I struggle to convince our GIS analysts to use QGIS over ArcGIS and so I try to provide solutions that work better than those in ArcGIS, but if there is any sort of complication that makes it more difficult for one of the analysts to get the resources they need for QGIS then I have lost the battle. This includes having them pip install additional python libraries because most of them do not have system admin privileges.

Given that the size of the python library is almost entirely the size
of the timezone boundaries themselves, have you considered:
- avoiding the library entirely, and insteading using a standard
shapefile/gpkg/... of the boundaries and using QGIS vector layer
methods to determine the timezone for a point
- deferring the download of the boundary spatial data, so that it's
not supplied with the plugin but instead the plugin automatically
downloads it on first launch?

This would avoid the need for the large size plugin, allowing it to be
supplied via the standard QGIS repo while still providing its full
functionality...

Nyall


>
> I can easily set up the ability for users to point to a separate repo that houses this plugin, but once again that is an additional complication. Every once in a while I find some QGIS repo of plugins that are not a part of the official QGIS repo and I think that it is too bad that they are probably not used much outside of the organization who hosts them. Unless a plugin exists on the official QGIS repo it will not be discoverable and will not likely be used by many.
>
> I think the plans I have with this plugin will make it very useful to the QGIS community, but if it cannot be a part of the QGIS repo it will not be of much use to the community. Our users will make use of it because we will provide it to them. I would like to swap out the astral library for the Skyfield library with the JPL ephemeris data to provide more precise sun and moon calculations, but that adds an additional ~20Mb.
>
> I would love it if you would provide timezonefinder and Skyfield libraries by default with the QGIS distribution, but that increases the size of the QGIS download. When you are dealing with time zones and astronomical calculations, there is no way in getting around the plugin size to get the best accuracy available. I personally am not interested in providing tools with less accuracy.
>
> I don't know how important it will be for the QIGS community to have these tools available, but I know that there will be a number of users who have been looking for these capabilities in QGIS and will be valuable to them. Right now I have coded only one of a number of tools that I have planned, but part of my plans will be determined by the QGIS acceptance of a larger plugin. I think my other QGIS plugins I have provided including "Lat Lon Tools", "Shape Tools" & "KML Tools" shows how useful my plugins have been.
>
> If there is something I am missing or some other way around this let me know, but keep in mind I hold to two fundamental principals with my plugins. 1) They are as accurate at possible. 2) They are self contained meaning that OUR users don't need to install any software to run them. The functionality in Date/Time tools is simply going to take up space and there is no way around it that I can see. I think your "unwritten expectation" of small plugins prevents some capabilities from being introduced, but I also agree that in most instances plugins should be kept small. What I am trying to accomplish simply does not come small.
>
> Let me know if you want me to just provide the capabilities for our users alone or to expand it for use by the QGIS community.
>
> I await the QGIS developers decision on this.
>
> Thanks!
>
>>> Personally I would be more on the -1 on upping the limit for plugins - currently at 10mb I think - since large plugins will consume more space on our plugins server and our user's bandwidth. There is an unwritten expectation that plugins should be small and quick to fetch. If others feel strongly with a contrary opinion, contact me offlist and I will help you get it published without generally changing the limit.
>>
>>
>> Regard
>>
>> Tim
>>
>> _______________________________________________
>> Qgis-user mailing list
>> Qgis-user at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user

From qgis-dev at stripfamily.net  Wed Jan 27 16:20:43 2021
From: qgis-dev at stripfamily.net (David Strip)
Date: Wed, 27 Jan 2021 17:20:43 -0700
Subject: [QGIS-Developer] Raster with CC-0 license
In-Reply-To: <CAES-DZQ443A7s8mVahxL5PG64NPCHDUA-HdPzJwQyCfiAZ5UYg@mail.gmail.com>
References: <CAKsx1pntt6YC+KO5+LfDmCMeNgtnjLJuP7xfQajhDUqSoCkuUg@mail.gmail.com>
 <CAES-DZQn18fx=zPU_cogp=1FFQiw+dnVXMjtuqDj-ftrNn2Biw@mail.gmail.com>
 <rmik0ry7bj1.fsf@s1.lexort.com>
 <CAES-DZQ443A7s8mVahxL5PG64NPCHDUA-HdPzJwQyCfiAZ5UYg@mail.gmail.com>
Message-ID: <47df681e-dd40-52af-5e1d-be9710fcfa6d@stripfamily.net>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210127/a1d84920/attachment.html>

From tim at kartoza.com  Thu Jan 28 04:03:34 2021
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 28 Jan 2021 12:03:34 +0000
Subject: [QGIS-Developer] [Qgis-user]  New QGIS Date/Time Tools Plugin
In-Reply-To: <CAB28AsgnEmOnvO6Lx9W03aAFT1Y1-_5XqS2gwP8prQTMWeKE9w@mail.gmail.com>
References: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
 <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
 <CAES-DZSMiTepcqiwWH9d58baiwiH5=jGGv8bZ6y-5RykjC0dbw@mail.gmail.com>
 <CABPxTTqC=mLBMTSS+zzBcrDpYO9nNPWgbGwXYgAp0vN2dpi6dQ@mail.gmail.com>
 <CAB28AsgnEmOnvO6Lx9W03aAFT1Y1-_5XqS2gwP8prQTMWeKE9w@mail.gmail.com>
Message-ID: <CAES-DZSC1r7EQRuGLxSt_Q_Q38DouW4zJ8-aW+tg5zUnC90wAg@mail.gmail.com>

Hi

On Wed, Jan 27, 2021 at 11:38 PM Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On Thu, 28 Jan 2021 at 00:32, C Hamilton <adenaculture at gmail.com> wrote:
> >
> > Tim,
> >
> > I understand the position you are in and I really struggled in even
> wanting to put in the time to develop this plugin knowing that there would
> probably be a problem getting it accepted by the QGIS developers because of
> its size, but our users have a very real need for this capability which is
> why I consented to develop it at all.
> >
> > In order to deal with locating time zones based on a coordinate there is
> simply no way to get around the size of the python library required if
> accuracy of the results is desired. That feature alone requires 42Mb. I
> struggle to convince our GIS analysts to use QGIS over ArcGIS and so I try
> to provide solutions that work better than those in ArcGIS, but if there is
> any sort of complication that makes it more difficult for one of the
> analysts to get the resources they need for QGIS then I have lost the
> battle. This includes having them pip install additional python libraries
> because most of them do not have system admin privileges.
>
> Given that the size of the python library is almost entirely the size
> of the timezone boundaries themselves, have you considered:
> - avoiding the library entirely, and insteading using a standard
> shapefile/gpkg/... of the boundaries and using QGIS vector layer
> methods to determine the timezone for a point
> - deferring the download of the boundary spatial data, so that it's
> not supplied with the plugin but instead the plugin automatically
> downloads it on first launch?
>
> This would avoid the need for the large size plugin, allowing it to be
> supplied via the standard QGIS repo while still providing its full
> functionality...
>

So Chris, try Nyall's approach and if that does not work for you, pop a
note here and we will see if we can make a local exception without
generally increasing the size limit for plugins.

Regards

Tim



>
> Nyall
>
>
> >
> > I can easily set up the ability for users to point to a separate repo
> that houses this plugin, but once again that is an additional complication.
> Every once in a while I find some QGIS repo of plugins that are not a part
> of the official QGIS repo and I think that it is too bad that they are
> probably not used much outside of the organization who hosts them. Unless a
> plugin exists on the official QGIS repo it will not be discoverable and
> will not likely be used by many.
> >
> > I think the plans I have with this plugin will make it very useful to
> the QGIS community, but if it cannot be a part of the QGIS repo it will not
> be of much use to the community. Our users will make use of it because we
> will provide it to them. I would like to swap out the astral library for
> the Skyfield library with the JPL ephemeris data to provide more precise
> sun and moon calculations, but that adds an additional ~20Mb.
> >
> > I would love it if you would provide timezonefinder and Skyfield
> libraries by default with the QGIS distribution, but that increases the
> size of the QGIS download. When you are dealing with time zones and
> astronomical calculations, there is no way in getting around the plugin
> size to get the best accuracy available. I personally am not interested in
> providing tools with less accuracy.
> >
> > I don't know how important it will be for the QIGS community to have
> these tools available, but I know that there will be a number of users who
> have been looking for these capabilities in QGIS and will be valuable to
> them. Right now I have coded only one of a number of tools that I have
> planned, but part of my plans will be determined by the QGIS acceptance of
> a larger plugin. I think my other QGIS plugins I have provided including
> "Lat Lon Tools", "Shape Tools" & "KML Tools" shows how useful my plugins
> have been.
> >
> > If there is something I am missing or some other way around this let me
> know, but keep in mind I hold to two fundamental principals with my
> plugins. 1) They are as accurate at possible. 2) They are self contained
> meaning that OUR users don't need to install any software to run them. The
> functionality in Date/Time tools is simply going to take up space and there
> is no way around it that I can see. I think your "unwritten expectation" of
> small plugins prevents some capabilities from being introduced, but I also
> agree that in most instances plugins should be kept small. What I am trying
> to accomplish simply does not come small.
> >
> > Let me know if you want me to just provide the capabilities for our
> users alone or to expand it for use by the QGIS community.
> >
> > I await the QGIS developers decision on this.
> >
> > Thanks!
> >
> >>> Personally I would be more on the -1 on upping the limit for plugins -
> currently at 10mb I think - since large plugins will consume more space on
> our plugins server and our user's bandwidth. There is an unwritten
> expectation that plugins should be small and quick to fetch. If others feel
> strongly with a contrary opinion, contact me offlist and I will help you
> get it published without generally changing the limit.
> >>
> >>
> >> Regard
> >>
> >> Tim
> >>
> >> _______________________________________________
> >> Qgis-user mailing list
> >> Qgis-user at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
> >
> > _______________________________________________
> > Qgis-user mailing list
> > Qgis-user at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>


-- 
------------------------------------------------------------------------------------------

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210128/692a64a3/attachment-0001.html>

From tim at kartoza.com  Thu Jan 28 04:07:43 2021
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 28 Jan 2021 12:07:43 +0000
Subject: [QGIS-Developer] Raster with CC-0 license
In-Reply-To: <47df681e-dd40-52af-5e1d-be9710fcfa6d@stripfamily.net>
References: <CAKsx1pntt6YC+KO5+LfDmCMeNgtnjLJuP7xfQajhDUqSoCkuUg@mail.gmail.com>
 <CAES-DZQn18fx=zPU_cogp=1FFQiw+dnVXMjtuqDj-ftrNn2Biw@mail.gmail.com>
 <rmik0ry7bj1.fsf@s1.lexort.com>
 <CAES-DZQ443A7s8mVahxL5PG64NPCHDUA-HdPzJwQyCfiAZ5UYg@mail.gmail.com>
 <47df681e-dd40-52af-5e1d-be9710fcfa6d@stripfamily.net>
Message-ID: <CAES-DZSUxaRA80YjWtL0O-xA+Czh5G878H6GVUHF6BkM0c+82g@mail.gmail.com>

Ah that is super thanks for sharing. For those testing out point clouds in
3.18 / master there is a nice collection of lidar data that can be obtained
there too!

Thanks for sharing!

Regards

Tim

On Thu, Jan 28, 2021 at 12:25 AM David Strip <qgis-dev at stripfamily.net>
wrote:

> On 1/27/2021 4:29 PM, Tim Sutton wrote:
>
> Good to know! Could you link us to some nice examples?
>
> The starting point for United States Geological Survey (USGS) data is "The
> National Map" <https://viewer.nationalmap.gov/basic/#/>. I find the
> interface less than intuitive, but maybe that's just me. You can find USGS
> topos at various scales (24K, 100K), as well as the raw data that underlies
> the topos (eg, contour lines, roads, buildings, etc). You can also find
> DEMs, LIDAR, hydrologic data, etc) and aerial imagery (NAIP).
>
> As noted by Greg, by law products of the US Government cannot be
> copyrighted and are this in the public domain.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
------------------------------------------------------------------------------------------
?

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210128/9f8b53d2/attachment.html>

From adenaculture at gmail.com  Thu Jan 28 07:13:47 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 28 Jan 2021 10:13:47 -0500
Subject: [QGIS-Developer] [Qgis-user]  New QGIS Date/Time Tools Plugin
In-Reply-To: <CAB28AsgnEmOnvO6Lx9W03aAFT1Y1-_5XqS2gwP8prQTMWeKE9w@mail.gmail.com>
References: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
 <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
 <CAES-DZSMiTepcqiwWH9d58baiwiH5=jGGv8bZ6y-5RykjC0dbw@mail.gmail.com>
 <CABPxTTqC=mLBMTSS+zzBcrDpYO9nNPWgbGwXYgAp0vN2dpi6dQ@mail.gmail.com>
 <CAB28AsgnEmOnvO6Lx9W03aAFT1Y1-_5XqS2gwP8prQTMWeKE9w@mail.gmail.com>
Message-ID: <CABPxTTpQ=TKwczv-7MKZMzrCPNanfNLECrUz0pzHYqpK7=iN1w@mail.gmail.com>

Nyall,

What you mention has merit, but I was not kidding about trying to keep a
plugin self contained for government use. To set up automatic downloading
on our networks would require PKI authentication and that opens up another
can of worms. I know how to deal with PKI because I already
maintain plugins that use authentication. It would be easier for our users
to have them download a data pack and have some manual
installation process, but it is even easier if the data is already a part
of the plugin. The other option would be to produce two different versions
of the plugin. One for government use and the other for community use, but
my sponsor would probably frown on that and not want me to use my time to
maintain the community version.

The author of timezonefinder has done a number of optimizations to provide
fast lookups. See

https://timezonefinder.readthedocs.io/en/latest/3_about.html

I wonder what the difference in time would be to use a gpkg and QGIS point
in polygon look up vs timezonefinder lookup. Will it be faster or slower?
I'm not sure without testing. What are your thoughts? I would choose the
faster of the two.

I just converted the timezone data to a gpkg and its size is 102Mb. The
data size for timezonefinder using the same data set is 49Mb. The
optimization in timezonefinder can produce a maximum error of 1cm at the
equator as they use 32 bit ints for the data. It might actually be better
to use the gpkg file, but it is double in size. I will investigate using
the gpkg data.

It seems to me that if a plugin requires a certain dataset to function then
that data should be included with it and not require an
additional download, but I understand the issues that this could cause so I
am not sure of the best way forward. For our use it is definitely better to
include the data with the plugin.

I guess what I would like you to take from this conversation is that some
users have a completely different environment and face different challenges
then what you do when it comes to dealing with software. I wish that it was
easier for me to get QGIS acceptance in our workforce but ArcGIS still
rules.

Thanks for your ideas and all of the hard work that you do to keep QGIS
moving forward.

I wish you all the very best!

Calvin

Given that the size of the python library is almost entirely the size
> of the timezone boundaries themselves, have you considered:
> - avoiding the library entirely, and insteading using a standard
> shapefile/gpkg/... of the boundaries and using QGIS vector layer
> methods to determine the timezone for a point
> - deferring the download of the boundary spatial data, so that it's
> not supplied with the plugin but instead the plugin automatically
> downloads it on first launch?
>
> This would avoid the need for the large size plugin, allowing it to be
> supplied via the standard QGIS repo while still providing its full
> functionality...
>
> Nyall
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210128/3e0ed9f9/attachment.html>

From rdmailings at duif.net  Thu Jan 28 07:22:00 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 28 Jan 2021 16:22:00 +0100
Subject: [QGIS-Developer] [Qgis-user]  New QGIS Date/Time Tools Plugin
In-Reply-To: <CABPxTTpQ=TKwczv-7MKZMzrCPNanfNLECrUz0pzHYqpK7=iN1w@mail.gmail.com>
References: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
 <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
 <CAES-DZSMiTepcqiwWH9d58baiwiH5=jGGv8bZ6y-5RykjC0dbw@mail.gmail.com>
 <CABPxTTqC=mLBMTSS+zzBcrDpYO9nNPWgbGwXYgAp0vN2dpi6dQ@mail.gmail.com>
 <CAB28AsgnEmOnvO6Lx9W03aAFT1Y1-_5XqS2gwP8prQTMWeKE9w@mail.gmail.com>
 <CABPxTTpQ=TKwczv-7MKZMzrCPNanfNLECrUz0pzHYqpK7=iN1w@mail.gmail.com>
Message-ID: <ca39b5c6-2f30-cba4-b966-9a6d8f0ff5d8@duif.net>

On 1/28/21 4:13 PM, C Hamilton wrote:
> What you mention has merit, but I was not kidding about trying to keep a plugin self contained for government?use. To set up automatic downloading on our networks would require PKI authentication and that opens up another can of worms. I know how to deal with PKI because I already maintain?plugins that use authentication. It would be easier for our users to have them download a data pack and have some manual installation?process, but it is even easier if the data is already a part of the plugin. The o

Hi Calvin, 

What I 'think' Nyall meant was to add such data to QGIS itself? We already have a gpkg with the world countries on board (everybody know the easter egg: 'type world in the coordinate input' yes?).
But... adding 102Mb to the QGIS installer is maybe too much :-) Or can you shrink that down to some smaller size/format?
Also, not sure in which version this will show up then (and on what ancient QGIS version your government client is....).

If all fails, I'd accept Tim's proposal to get it uploaded on plugins.qgis.org via the backdoor/Tim...

Regards,

Richard Duivenvoorde

From adenaculture at gmail.com  Thu Jan 28 08:34:24 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 28 Jan 2021 11:34:24 -0500
Subject: [QGIS-Developer] [Qgis-user]  New QGIS Date/Time Tools Plugin
In-Reply-To: <ca39b5c6-2f30-cba4-b966-9a6d8f0ff5d8@duif.net>
References: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
 <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
 <CAES-DZSMiTepcqiwWH9d58baiwiH5=jGGv8bZ6y-5RykjC0dbw@mail.gmail.com>
 <CABPxTTqC=mLBMTSS+zzBcrDpYO9nNPWgbGwXYgAp0vN2dpi6dQ@mail.gmail.com>
 <CAB28AsgnEmOnvO6Lx9W03aAFT1Y1-_5XqS2gwP8prQTMWeKE9w@mail.gmail.com>
 <CABPxTTpQ=TKwczv-7MKZMzrCPNanfNLECrUz0pzHYqpK7=iN1w@mail.gmail.com>
 <ca39b5c6-2f30-cba4-b966-9a6d8f0ff5d8@duif.net>
Message-ID: <CABPxTTquPd-2vnKoqOL+=6TedoVNRKc+HtETwkWN1_O3t0zHmg@mail.gmail.com>

Richard,

If the map is simplified, then you lose precision, but it would be
wonderful if a gpkg of the time zones could be added to QGIS. Here is the
time zone map data.

https://github.com/evansiroky/timezone-boundary-builder

Calvin






On Thu, Jan 28, 2021 at 10:22 AM Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> On 1/28/21 4:13 PM, C Hamilton wrote:
> > What you mention has merit, but I was not kidding about trying to keep a
> plugin self contained for government use. To set up automatic downloading
> on our networks would require PKI authentication and that opens up another
> can of worms. I know how to deal with PKI because I already
> maintain plugins that use authentication. It would be easier for our users
> to have them download a data pack and have some manual
> installation process, but it is even easier if the data is already a part
> of the plugin. The o
>
> Hi Calvin,
>
> What I 'think' Nyall meant was to add such data to QGIS itself? We already
> have a gpkg with the world countries on board (everybody know the easter
> egg: 'type world in the coordinate input' yes?).
> But... adding 102Mb to the QGIS installer is maybe too much :-) Or can you
> shrink that down to some smaller size/format?
> Also, not sure in which version this will show up then (and on what
> ancient QGIS version your government client is....).
>
> If all fails, I'd accept Tim's proposal to get it uploaded on
> plugins.qgis.org via the backdoor/Tim...
>
> Regards,
>
> Richard Duivenvoorde
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210128/706a18e3/attachment-0001.html>

From Hannah at land-scope.com  Thu Jan 28 08:44:14 2021
From: Hannah at land-scope.com (Hannah Wait)
Date: Thu, 28 Jan 2021 16:44:14 +0000
Subject: [QGIS-Developer] QGIS python programming
Message-ID: <LOYP123MB3439FC7B278F22BEE99CD995F5BA9@LOYP123MB3439.GBRP123.PROD.OUTLOOK.COM>

Hi,

The responses I have had from previous questions on here have been really helpful, thank you.

As part of our GIS workflow, we acquire images and PDFs that are linked to a GIS record that currently resides in QGIS. We would like to look at options that allow us to create a plugin to QGIS that uploads the files to a cloud storage (possibly Amazon S3 ? any recommendation you have here would be great) and creates the weblink to the file as a link within the QGIS record.

As a company we are not familiar with programming and are happy to buy support to help with creating a link within QGIS using Python, if anyone has or knows someone with any knowledge or experience in this area at all?

Kind regards,


Hannah Wait

GIS Technician

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210128/a5ef58f9/attachment.html>

From adenaculture at gmail.com  Thu Jan 28 10:10:58 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 28 Jan 2021 13:10:58 -0500
Subject: [QGIS-Developer] [Qgis-user]  New QGIS Date/Time Tools Plugin
In-Reply-To: <ca39b5c6-2f30-cba4-b966-9a6d8f0ff5d8@duif.net>
References: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
 <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
 <CAES-DZSMiTepcqiwWH9d58baiwiH5=jGGv8bZ6y-5RykjC0dbw@mail.gmail.com>
 <CABPxTTqC=mLBMTSS+zzBcrDpYO9nNPWgbGwXYgAp0vN2dpi6dQ@mail.gmail.com>
 <CAB28AsgnEmOnvO6Lx9W03aAFT1Y1-_5XqS2gwP8prQTMWeKE9w@mail.gmail.com>
 <CABPxTTpQ=TKwczv-7MKZMzrCPNanfNLECrUz0pzHYqpK7=iN1w@mail.gmail.com>
 <ca39b5c6-2f30-cba4-b966-9a6d8f0ff5d8@duif.net>
Message-ID: <CABPxTTpR0SH0zS0vsyBJ2RkavPPFuxYi-idwVD5rnRT=KVg1vQ@mail.gmail.com>

In thinking about it, if the data set is too large to include with QGIS, it
might be worth having a simplified geometry data set included and if the
user wants more precise data then they can download it and use it instead.

On Thu, Jan 28, 2021 at 10:22 AM Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> On 1/28/21 4:13 PM, C Hamilton wrote:
> > What you mention has merit, but I was not kidding about trying to keep a
> plugin self contained for government use. To set up automatic downloading
> on our networks would require PKI authentication and that opens up another
> can of worms. I know how to deal with PKI because I already
> maintain plugins that use authentication. It would be easier for our users
> to have them download a data pack and have some manual
> installation process, but it is even easier if the data is already a part
> of the plugin. The o
>
> Hi Calvin,
>
> What I 'think' Nyall meant was to add such data to QGIS itself? We already
> have a gpkg with the world countries on board (everybody know the easter
> egg: 'type world in the coordinate input' yes?).
> But... adding 102Mb to the QGIS installer is maybe too much :-) Or can you
> shrink that down to some smaller size/format?
> Also, not sure in which version this will show up then (and on what
> ancient QGIS version your government client is....).
>
> If all fails, I'd accept Tim's proposal to get it uploaded on
> plugins.qgis.org via the backdoor/Tim...
>
> Regards,
>
> Richard Duivenvoorde
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210128/c3412f78/attachment.html>

From pergler at gmail.com  Thu Jan 28 12:56:31 2021
From: pergler at gmail.com (Martin Pergler)
Date: Thu, 28 Jan 2021 13:56:31 -0700 (MST)
Subject: [QGIS-Developer] Map canvas displays at wrong scale (logical vs
 physical dpi)
Message-ID: <1611867391260-0.post@n6.nabble.com>

I posted this as a bug at https://github.com/qgis/QGIS/issues/41248 and
Giovanni Manghi suggested I bring it here.

For a lot of users, QGIS currently shows the main map canvas at the wrong
scale, whenever their systemwide "display scaling"(=logical dpi) doesn't
match their screen's physical dpi. It's disconcerting side-by-side with a
printed map, and just incorrect. We can do better, since Qt exposes both
logical and physical dpi. But fixing it would change on-screen behaviour
users are accustomed to.

I think the right solution is to continue using logical DPI for QGIS UI
elements, but initialize mapCanvas().mapSettings().outputDPI() from
iface.mainWindow().physicalDpiX() rather than .logicalDpiX(). And to make
this change opt-in via a setting in Options / Canvas & Legend called
something like "Render canvas at", with a choice of"System DPI" (=logical
DPI), "Physical screen DPI", or a user-defined DPI (since I'm sure some
external monitors will have physical DPI wrong). 

More details at https://github.com/qgis/QGIS/issues/41248
Comments welcome here or there; I know this will be a bit controversial
since we've all gotten used to the "wrong" way on our screens!



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From rdmailings at duif.net  Thu Jan 28 13:05:05 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 28 Jan 2021 22:05:05 +0100
Subject: [QGIS-Developer] [Qgis-user]  New QGIS Date/Time Tools Plugin
In-Reply-To: <CABPxTTpR0SH0zS0vsyBJ2RkavPPFuxYi-idwVD5rnRT=KVg1vQ@mail.gmail.com>
References: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
 <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
 <CAES-DZSMiTepcqiwWH9d58baiwiH5=jGGv8bZ6y-5RykjC0dbw@mail.gmail.com>
 <CABPxTTqC=mLBMTSS+zzBcrDpYO9nNPWgbGwXYgAp0vN2dpi6dQ@mail.gmail.com>
 <CAB28AsgnEmOnvO6Lx9W03aAFT1Y1-_5XqS2gwP8prQTMWeKE9w@mail.gmail.com>
 <CABPxTTpQ=TKwczv-7MKZMzrCPNanfNLECrUz0pzHYqpK7=iN1w@mail.gmail.com>
 <ca39b5c6-2f30-cba4-b966-9a6d8f0ff5d8@duif.net>
 <CABPxTTpR0SH0zS0vsyBJ2RkavPPFuxYi-idwVD5rnRT=KVg1vQ@mail.gmail.com>
Message-ID: <1ea40230-53f9-9ffd-7710-08b1481b8e1b@duif.net>

On 1/28/21 7:10 PM, C Hamilton wrote:
> In thinking about it, if the data set is too large to include with QGIS, it might be worth having a simplified geometry data set included and if the user wants more precise data then they can download it and use it instead.

I downloaded the shape-with-oceans (ah and THAT one has those rectangles I talked about earlier :-) ): 
101Mb after exporting to geopackage, 68Mb after zipping that... 
For users sake: either add the 68Mb (Juergen? Others? Opinion) or (easier) let Tim put your plugin (including this data/module) on plugins.qgis.org

Regards,

Richard Duivenvoorde


From nyall.dawson at gmail.com  Thu Jan 28 16:49:35 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 29 Jan 2021 10:49:35 +1000
Subject: [QGIS-Developer] [Qgis-user]  New QGIS Date/Time Tools Plugin
In-Reply-To: <CABPxTTpQ=TKwczv-7MKZMzrCPNanfNLECrUz0pzHYqpK7=iN1w@mail.gmail.com>
References: <CABPxTTpwLPyUhGAR6z9c30YtQOXXbW8qw8tFF_JZ3Yk_RUSwgw@mail.gmail.com>
 <214bdf06-cec8-427a-f349-b8c20475b1de@duif.net>
 <CAES-DZSMiTepcqiwWH9d58baiwiH5=jGGv8bZ6y-5RykjC0dbw@mail.gmail.com>
 <CABPxTTqC=mLBMTSS+zzBcrDpYO9nNPWgbGwXYgAp0vN2dpi6dQ@mail.gmail.com>
 <CAB28AsgnEmOnvO6Lx9W03aAFT1Y1-_5XqS2gwP8prQTMWeKE9w@mail.gmail.com>
 <CABPxTTpQ=TKwczv-7MKZMzrCPNanfNLECrUz0pzHYqpK7=iN1w@mail.gmail.com>
Message-ID: <CAB28Asgo+Jk4QcttJUZTzOeo1ua_O1s_Ke3UYbsuF=zsmjc-_A@mail.gmail.com>

On Fri, 29 Jan 2021 at 01:13, C Hamilton <adenaculture at gmail.com> wrote:
>
> Nyall,
>
> What you mention has merit, but I was not kidding about trying to keep a plugin self contained for government use. To set up automatic downloading on our networks would require PKI authentication and that opens up another can of worms. I know how to deal with PKI because I already maintain plugins that use authentication. It would be easier for our users to have them download a data pack and have some manual installation process, but it is even easier if the data is already a part of the plugin. The other option would be to produce two different versions of the plugin. One for government use and the other for community use, but my sponsor would probably frown on that and not want me to use my time to maintain the community version.
>
> The author of timezonefinder has done a number of optimizations to provide fast lookups. See
>
> https://timezonefinder.readthedocs.io/en/latest/3_about.html
>
> I wonder what the difference in time would be to use a gpkg and QGIS point in polygon look up vs timezonefinder lookup. Will it be faster or slower? I'm not sure without testing. What are your thoughts? I would choose the faster of the two.

I'd certainly hope a dedicated GIS application can do this faster than
a random Python library :D

> I just converted the timezone data to a gpkg and its size is 102Mb. The data size for timezonefinder using the same data set is 49Mb. The optimization in timezonefinder can produce a maximum error of 1cm at the equator as they use 32 bit ints for the data. It might actually be better to use the gpkg file, but it is double in size. I will investigate using the gpkg data.

You may want to try a shapefile too, just in case...!

Nyall


>
> It seems to me that if a plugin requires a certain dataset to function then that data should be included with it and not require an additional download, but I understand the issues that this could cause so I am not sure of the best way forward. For our use it is definitely better to include the data with the plugin.
>
> I guess what I would like you to take from this conversation is that some users have a completely different environment and face different challenges then what you do when it comes to dealing with software. I wish that it was easier for me to get QGIS acceptance in our workforce but ArcGIS still rules.
>
> Thanks for your ideas and all of the hard work that you do to keep QGIS moving forward.
>
> I wish you all the very best!
>
> Calvin
>
>> Given that the size of the python library is almost entirely the size
>> of the timezone boundaries themselves, have you considered:
>> - avoiding the library entirely, and insteading using a standard
>> shapefile/gpkg/... of the boundaries and using QGIS vector layer
>> methods to determine the timezone for a point
>> - deferring the download of the boundary spatial data, so that it's
>> not supplied with the plugin but instead the plugin automatically
>> downloads it on first launch?
>>
>> This would avoid the need for the large size plugin, allowing it to be
>> supplied via the standard QGIS repo while still providing its full
>> functionality...
>>
>> Nyall
>>
>>

From senhor.neto at gmail.com  Fri Jan 29 00:00:00 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Fri, 29 Jan 2021 08:00:00 +0000
Subject: [QGIS-Developer] Bug fix campaign and QA regression tests
Message-ID: <CA+H0G_FANZwJccBMyp2z-iy=K=YQU-tHWKkgXMQiJkUD_VAKKg@mail.gmail.com>

Hi,

With the work from QEP-180[0][1] funded by a QGIS Grant, we have the
quality assurance infrastructure in place and we are now ready to test the
methodology.

One of the workflows [2] aims to help to test the implemented fixes.

This being said, If any developer working on bug squashing feels that a
particular fix would benefit from some extra testing on several platforms,
let's talk and prepare it.

We are setting things up to test Windows 10, Ubuntu 20.04, Mac OS Big Sur
as prioritary platforms, and ubuntu 18.04 and Mac OS Catalina as
secondary platforms.

Best Regards,

Alexandre Neto

[0] - https://github.com/qgis/QGIS-Enhancement-Proposals/issues/180
[1] - https://github.com/qcooperative/qgis-testing/blob/main/README.md
[2] -
https://github.com/qcooperative/qgis-testing/blob/main/README.md#regression-tests
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210129/f90b3531/attachment.html>

From rdmailings at duif.net  Fri Jan 29 04:27:49 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 29 Jan 2021 13:27:49 +0100
Subject: [QGIS-Developer] Renderer/expression issue temporal/gpkg
Message-ID: <12affb21-a494-d55a-8867-3c1d82111167@duif.net>

Hi Devs,

I have an issue with the (temporal) rendering of (seemingly only) gpkg.
See https://github.com/qgis/QGIS/issues/41074
For some test datasets.

I tried to debug, but get lost in the deeper core classes like featureiterator and renderer...

A gpkg with a QDatetime column seems to render the wrong 'classes', 
while if I create a virtual new attribute (to_datatime('Time')) based on the original QDateTime it will render the right one.

BUT(!) those 2 attributes seem to be exactly the same...

So: to me it looks like there is something fishy there: renderer (featureiterator) seems to return other features then the (same?) iterator for the infotool and attributetable..

The temporal controller creates expressions to do the selections.
EG: 
("Time" > make_datetime(2019,9,1,6,0,0) AND "Time" < make_datetime(2019,9,1,8,0,0)) OR "Time" IS NULL

BUT: a gkpg with 7 AND 8 will render BOTH, although the expressions rightfully return True (for 7) and False (for 8):

7 == true/1
make_datetime(2019,9,1,7,0,0) > make_datetime(2019,9,1,6,0,0) AND make_datetime(2019,9,1,7,0,0) < make_datetime(2019,9,1,8,0,0)
8 == false/0
make_datetime(2019,9,1,8,0,0) > make_datetime(2019,9,1,6,0,0) AND make_datetime(2019,9,1,8,0,0) < make_datetime(2019,9,1,8,0,0)

Anybody has a clue? Or can maybe reproduce my issue(s)?

Regards,

Richard Duivenvoorde

PS although one of my open PR's changes the logice of the expression a little, the behaviour for this is the same before and after this



From stefan.uhrig at sap.com  Fri Jan 29 06:18:18 2021
From: stefan.uhrig at sap.com (Uhrig, Stefan)
Date: Fri, 29 Jan 2021 14:18:18 +0000
Subject: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE and vcpkg
Message-ID: <AM0PR02MB5777088D40E2D4EE13EBDF3593B99@AM0PR02MB5777.eurprd02.prod.outlook.com>

TL;DR: It is currently possible to build the QGIS core app with Visual Studio 2019 and vcpkg, which makes debugging QGIS dependencies easy.


Hi all,

Some time ago I discovered vcpkg (https://github.com/microsoft/vcpkg). vcpkg is a package manager that downloads package source code to your local machine and builds the package locally. Recently, I discovered that vcpkg should be able to provide all dependencies to build at least the QGIS core application. Hence, I gave it a try.

Basically, it worked out of the box. I started with a fresh Windows 10 installation, installed Visual Studio 2019 Community Edition, Git, vcpkg, Python 3 and flex and bison for Windows. I fetched all other dependencies via vcpkg. It was not necessary to even touch a single file in the repository. I could just open the main CMakeLists.txt file in Visual Studio and only had to tweak the CMake cache (the CMake find macros that come with QGIS are not aware of vcpkg, so I had to set some paths manually). I had to switch off some extensions though as the required dependencies were not available via vcpkg (WITH_BINDINGS, WITH_QGIS_PROCESS, WITH_QTWEBKIT). The build did not report any errors, I could start the application and it seems to work, but I did some light testing only.

I mainly tried it because I enjoy debugging with Visual Studio more than with gdb (or gdb wrapped in some IDE). In my experience, the performance of the Visual Studio debugger is better and it is more stable, especially in long debug sessions.

I don't want to promote official building support of QGIS with vcpkg. Providing the dependencies via OSGeo4W is much more reliable. However, if you don't mind the experimental nature of this setup and you want to be able to debug into QGIS' dependencies, you might give it a try. Especially, if you want to track the cause of a crash in one of QGIS' dependencies, this setup might be helpful. You have the source code and debug versions of the dependencies, so the debugger will jump to the crashing code line and you can inspect all the variables of the dependency.

If someone is interested in trying it, give me a note. I can then assemble detailed instructions on how to make it work. It took me a while to figure out which packages are needed and how the CMake cache needs to be tweaked.

Best regards,
Stefan



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210129/2ca67698/attachment-0001.html>

From Luke.A.Catania at erdc.dren.mil  Fri Jan 29 12:21:29 2021
From: Luke.A.Catania at erdc.dren.mil (Catania, Luke A ERDC-RDE-GRL-VA CIV)
Date: Fri, 29 Jan 2021 20:21:29 +0000
Subject: [QGIS-Developer] Issues running Grass r.plane
Message-ID: <f68915ceefed4010a03f529fe67ad77f@erdc.dren.mil>

Looking to use r.plane to create a slope of a constant plane.

Tried to run the Grass tool using the example in the help below , but in QGIS I do not see a g.region method so how do I limit my area?

# set computational region
g.region raster=elev_lid792_1m -p

# get center coordinates as an example
g.region -c
# get terrain height at point
r.what map=elev_lid792_1m coordinates=638650.0,220375.0
# shows elevation: 116.7734

# generate tilted plane
r.plane myplane30 dip=30 az=75 east=638650.0 north=220375.0 \
        elev=116.7734 type=FCELL

Whe running it with the example input.

r.plane sloping_plane dip=30 az=75 east=638650.0 north=220375.0 elev=116.7734 type=FCELL

I just get a constant plane of the same height throughout, so not sure of that is an issue of not setting the region.

Luke

From 46.i.s.o.64 at gmail.com  Sat Jan 30 08:57:58 2021
From: 46.i.s.o.64 at gmail.com (i-s-o)
Date: Sat, 30 Jan 2021 11:57:58 -0500
Subject: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE and
 vcpkg
In-Reply-To: <AM0PR02MB5777088D40E2D4EE13EBDF3593B99@AM0PR02MB5777.eurprd02.prod.outlook.com>
References: <AM0PR02MB5777088D40E2D4EE13EBDF3593B99@AM0PR02MB5777.eurprd02.prod.outlook.com>
Message-ID: <CACjCNZTsBFYMhtgSFTfte9+mkKy_Yb9kvptMhiwAncD1LgCLRQ@mail.gmail.com>

I am very interested in trying out your solution. Could you share the
required steps?

Thx.

On Fri, Jan 29, 2021, 09:25 Uhrig, Stefan <stefan.uhrig at sap.com> wrote:

> TL;DR: It is currently possible to build the QGIS core app with Visual
> Studio 2019 and vcpkg, which makes debugging QGIS dependencies easy.
>
>
>
>
>
> Hi all,
>
>
>
> Some time ago I discovered vcpkg (https://github.com/microsoft/vcpkg).
> vcpkg is a package manager that downloads package source code to your local
> machine and builds the package locally. Recently, I discovered that vcpkg
> should be able to provide all dependencies to build at least the QGIS core
> application. Hence, I gave it a try.
>
>
>
> Basically, it worked out of the box. I started with a fresh Windows 10
> installation, installed Visual Studio 2019 Community Edition, Git, vcpkg,
> Python 3 and flex and bison for Windows. I fetched all other dependencies
> via vcpkg. It was not necessary to even touch a single file in the
> repository. I could just open the main CMakeLists.txt file in Visual Studio
> and only had to tweak the CMake cache (the CMake find macros that come with
> QGIS are not aware of vcpkg, so I had to set some paths manually). I had to
> switch off some extensions though as the required dependencies were not
> available via vcpkg (WITH_BINDINGS, WITH_QGIS_PROCESS, WITH_QTWEBKIT). The
> build did not report any errors, I could start the application and it seems
> to work, but I did some light testing only.
>
>
>
> I mainly tried it because I enjoy debugging with Visual Studio more than
> with gdb (or gdb wrapped in some IDE). In my experience, the performance of
> the Visual Studio debugger is better and it is more stable, especially in
> long debug sessions.
>
>
>
> I don?t want to promote official building support of QGIS with vcpkg.
> Providing the dependencies via OSGeo4W is much more reliable. However, if
> you don?t mind the experimental nature of this setup and you want to be
> able to debug into QGIS? dependencies, you might give it a try. Especially,
> if you want to track the cause of a crash in one of QGIS? dependencies,
> this setup might be helpful. You have the source code and debug versions of
> the dependencies, so the debugger will jump to the crashing code line and
> you can inspect all the variables of the dependency.
>
>
>
> If someone is interested in trying it, give me a note. I can then assemble
> detailed instructions on how to make it work. It took me a while to figure
> out which packages are needed and how the CMake cache needs to be tweaked.
>
>
>
> Best regards,
>
> Stefan
>
>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210130/eea04559/attachment.html>

From sylvain.poulain at giscan.com  Sat Jan 30 23:07:08 2021
From: sylvain.poulain at giscan.com (Sylvain POULAIN)
Date: Sun, 31 Jan 2021 11:07:08 +0400
Subject: [QGIS-Developer] Issues running Grass r.plane
In-Reply-To: <f68915ceefed4010a03f529fe67ad77f@erdc.dren.mil>
References: <f68915ceefed4010a03f529fe67ad77f@erdc.dren.mil>
Message-ID: <CACAuT+-Xd8Sx6+E7T5wxAQy1n=XCXd50nUFLWV7iKaPgm7aKBw@mail.gmail.com>

Hi Luke,

Setting a region in Grass is really important.
In Grass tools :
- there is a panel tab where you can adjust region named "Region",
- you can also use g.region.multiple.raster from module tab,
- a shell is present in module tab to use grass commands.

In processing toolbox, setting region is embedded in tool.

Regards,

*Sylvain POULAIN*

Le sam. 30 janv. 2021 ? 04:30, Catania, Luke A ERDC-RDE-GRL-VA CIV <
Luke.A.Catania at erdc.dren.mil> a ?crit :

> Looking to use r.plane to create a slope of a constant plane.
>
> Tried to run the Grass tool using the example in the help below , but in
> QGIS I do not see a g.region method so how do I limit my area?
>
> # set computational region
> g.region raster=elev_lid792_1m -p
>
> # get center coordinates as an example
> g.region -c
> # get terrain height at point
> r.what map=elev_lid792_1m coordinates=638650.0,220375.0
> # shows elevation: 116.7734
>
> # generate tilted plane
> r.plane myplane30 dip=30 az=75 east=638650.0 north=220375.0 \
>         elev=116.7734 type=FCELL
>
> Whe running it with the example input.
>
> r.plane sloping_plane dip=30 az=75 east=638650.0 north=220375.0
> elev=116.7734 type=FCELL
>
> I just get a constant plane of the same height throughout, so not sure of
> that is an issue of not setting the region.
>
> Luke
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210131/78a5e86c/attachment.html>

From stefan.uhrig at sap.com  Sun Jan 31 06:13:28 2021
From: stefan.uhrig at sap.com (Uhrig, Stefan)
Date: Sun, 31 Jan 2021 14:13:28 +0000
Subject: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE and
 vcpkg
In-Reply-To: <CACjCNZTsBFYMhtgSFTfte9+mkKy_Yb9kvptMhiwAncD1LgCLRQ@mail.gmail.com>
References: <AM0PR02MB5777088D40E2D4EE13EBDF3593B99@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <CACjCNZTsBFYMhtgSFTfte9+mkKy_Yb9kvptMhiwAncD1LgCLRQ@mail.gmail.com>
Message-ID: <AM0PR02MB57772729C0B2641FBA458E5193B79@AM0PR02MB5777.eurprd02.prod.outlook.com>

Install Visual Studio Community 2019: Select "Desktop development with C++" under "Workloads" and "C++ MFC for latest v142 build tools (x86 & x64)" under "Individual components". Verify that you install "Windows 10 SDK (10.0.18362.0)" or higher.

Install Git for Windows and Python 3.

Download https://sourceforge.net/projects/winflexbison/files/win_flex_bison3-latest.zip/download and extract it to a location of your choice (avoid space characters in the target path).

Follow the vcpkg "Quick Start: Windows" instructions at https://github.com/microsoft/vcpkg#quick-start-windows. Make sure to execute the "vcpkg integrate install" command.

Install the required dependencies via:

vcpkg --triplet=x64-windows install exiv2 gdal gsl libspatialindex libspatialite libzip opencl protobuf qca qscintilla qt5 qt5-serialport qt5-location qt5-winextras qtkeychain qwt zstd

This may take a while as this creates a Debug and a Release build of each dependency from source.

Clone the QGIS repostiory. The path to the QGIS repository should not contain any space characters.

Start Visual Studio and open the QGIS CMakeLists.txt file via "File --> Open --> CMake...". This will start the CMake generation, which will fail. You will need several configuration rounds until everything is setup properly.

Let's start with a Release build because that requires less tweaking. Go to "Project --> CMake Settings". Delete the default configuration ("x64-Debug (default)").

Add a new "x64-Release" configuration and set "Configuration type" to "Release". Save the CMakeSettings.json file, which will start a new CMake generation. "FIND_FLEX" will fail, so you need to set the "FLEX_EXECUTABLE" path manually in section "CMake variables and cache". Browse to your win_flex.exe file. Additionally, disable "WITH_BINDINGS" and "WITH_QGIS_PROCESS". Save the file. Next set "BISON_EXECUTABLE" to your win_bison.exe file and save again. Disable "WITH_QTWEBKIT" and save. Set "QCA_LIBRARY" to "<vcpkg-root>\installed\x64-windows\lib\qca.lib" and save. Configuration should now succeed, but you have to change "GEOS_LIBRARY" from "geos.lib" to "geos_c.lib". Save and start the build after CMake generation has finished.

Select "qgis.exe (output\bin\qgis.exe)" as start-up item in the toolbar and start QGIS.

Now let's do the same for a Debug build. Add a "x64-Debug" configuration and save. Change to the "x64-Debug" configuration in the toolbar. Repeat the steps from above (set flex and bison paths etc.). When selecting libraries, take the libraries from "<vcpkg-root>\installed\x64-windows\debug\lib". Most libraries will have a "d" or "_d" as name suffix. The CMake generation will not always select the debug versions of libraries. Hence, go over the CMake variables and change release library paths to debug library paths, e.g. "<vcpkg-root>\installed\x64-windows\debug\lib\geos_cd.lib" for GEOS_LIBRARY. I'll append my CMakeSettings.json file as reference to this mail. Save again and start the build.

The build will fail because the execution of crssync.exe fails. That's because crssync.exe tries to load zstd.dll instead of zstdd.dll. I haven't figured out why, yet. An easy workaround is copying zstdd.dll to zstd.dll in QGIS\out\build\x64-Debug\output\bin. Then restart the build and it should succeed.

You should then be able to start and debug qgis.exe and its dependencies. Note that some vcpkg portfiles forget to copy over the .pdb files. For example, proj is affected. If you find such a library with a missing .pdb file, check whether the portfile (e.g. "<vcpkg-root>\ports\proj4\portfile.cmake") contains the "vcpkg_copy_pdbs()" call. If not, just add it at the end, re-install the dependency and copy over the .pdb file to the QGIS output directory.

I'm currently trying to get QGIS working with Python bindings. I got the build working, however I'm struggling with the debug build execution. The debug Python library seems to be unable to load the Release build Qt libraries that come with PyQt5. Well, I'll keep trying and if I succeed, I'll update the instructions.

Here is my CMakeSettings.json file for reference:

{
  "configurations": [
    {
      "name": "x64-Release",
      "generator": "Ninja",
      "configurationType": "Release",
      "buildRoot": "${projectDir}\\out\\build\\${name}",
      "installRoot": "${projectDir}\\out\\install\\${name}",
      "cmakeCommandArgs": "",
      "buildCommandArgs": "",
      "ctestCommandArgs": "",
      "inheritEnvironments": [ "msvc_x64_x64" ],
      "variables": [
        {
          "name": "WITH_BINDINGS",
          "value": "False",
          "type": "BOOL"
        },
        {
          "name": "WITH_QGIS_PROCESS",
          "value": "False",
          "type": "BOOL"
        },
        {
          "name": "FLEX_EXECUTABLE",
          "value": "C:/src/tools/win_flex.exe",
          "type": "FILEPATH"
        },
        {
          "name": "BISON_EXECUTABLE",
          "value": "C:/src/tools/win_bison.exe",
          "type": "FILEPATH"
        },
        {
          "name": "WITH_QTWEBKIT",
          "value": "False",
          "type": "BOOL"
        },
        {
          "name": "QCA_LIBRARY",
          "value": "C:/src/vcpkg/installed/x64-windows/lib/qca.lib",
          "type": "FILEPATH"
        },
        {
          "name": "GEOS_LIBRARY",
          "value": "C:/src/vcpkg/installed/x64-windows/lib/geos_c.lib",
          "type": "FILEPATH"
        }
      ]
    },
    {
      "name": "x64-Debug",
      "generator": "Ninja",
      "configurationType": "Debug",
      "buildRoot": "${projectDir}\\out\\build\\${name}",
      "installRoot": "${projectDir}\\out\\install\\${name}",
      "cmakeCommandArgs": "",
      "buildCommandArgs": "",
      "ctestCommandArgs": "",
      "inheritEnvironments": [ "msvc_x64_x64" ],
      "variables": [
        {
          "name": "FLEX_EXECUTABLE",
          "value": "C:/src/tools/win_flex.exe",
          "type": "FILEPATH"
        },
        {
          "name": "BISON_EXECUTABLE",
          "value": "C:/src/tools/win_bison.exe",
          "type": "FILEPATH"
        },
        {
          "name": "WITH_QTWEBKIT",
          "value": "False",
          "type": "BOOL"
        },
        {
          "name": "WITH_BINDINGS",
          "value": "False",
          "type": "BOOL"
        },
        {
          "name": "WITH_QGIS_PROCESS",
          "value": "False",
          "type": "BOOL"
        },
        {
          "name": "QCA_LIBRARY",
          "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/qcad.lib",
          "type": "FILEPATH"
        },
        {
          "name": "GEOS_LIBRARY",
          "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/geos_cd.lib",
          "type": "FILEPATH"
        },
        {
          "name": "GSL_LIB",
          "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/gsld.lib",
          "type": "FILEPATH"
        },
        {
          "name": "GSLCBLAS_LIB",
          "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/gslcblasd.lib",
          "type": "FILEPATH"
        },
        {
          "name": "PROJ_LIBRARY",
          "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/proj_d.lib",
          "type": "FILEPATH"
        },
        {
          "name": "QSCINTILLA_LIBRARY",
          "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/qscintilla2_qt5d.lib",
          "type": "FILEPATH"
        },
        {
          "name": "QTKEYCHAIN_LIBRARY",
          "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/qt5keychaind.lib",
          "type": "FILEPATH"
        },
        {
          "name": "QWT_LIBRARY",
          "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/qwtd.lib",
          "type": "FILEPATH"
        },
        {
          "name": "SPATIALINDEX_LIBRARY",
          "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/spatialindex-64d.lib",
          "type": "FILEPATH"
        }
      ]
    }
  ]
}




From: i-s-o <46.i.s.o.64 at gmail.com>
Sent: Saturday, January 30, 2021 5:58 PM
To: Uhrig, Stefan <stefan.uhrig at sap.com>
Cc: qgis-developer <QGIS-Developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE and vcpkg

I am very interested in trying out your solution. Could you share the required steps?

Thx.

On Fri, Jan 29, 2021, 09:25 Uhrig, Stefan <stefan.uhrig at sap.com<mailto:stefan.uhrig at sap.com>> wrote:
TL;DR: It is currently possible to build the QGIS core app with Visual Studio 2019 and vcpkg, which makes debugging QGIS dependencies easy.


Hi all,

Some time ago I discovered vcpkg (https://github.com/microsoft/vcpkg). vcpkg is a package manager that downloads package source code to your local machine and builds the package locally. Recently, I discovered that vcpkg should be able to provide all dependencies to build at least the QGIS core application. Hence, I gave it a try.

Basically, it worked out of the box. I started with a fresh Windows 10 installation, installed Visual Studio 2019 Community Edition, Git, vcpkg, Python 3 and flex and bison for Windows. I fetched all other dependencies via vcpkg. It was not necessary to even touch a single file in the repository. I could just open the main CMakeLists.txt file in Visual Studio and only had to tweak the CMake cache (the CMake find macros that come with QGIS are not aware of vcpkg, so I had to set some paths manually). I had to switch off some extensions though as the required dependencies were not available via vcpkg (WITH_BINDINGS, WITH_QGIS_PROCESS, WITH_QTWEBKIT). The build did not report any errors, I could start the application and it seems to work, but I did some light testing only.

I mainly tried it because I enjoy debugging with Visual Studio more than with gdb (or gdb wrapped in some IDE). In my experience, the performance of the Visual Studio debugger is better and it is more stable, especially in long debug sessions.

I don?t want to promote official building support of QGIS with vcpkg. Providing the dependencies via OSGeo4W is much more reliable. However, if you don?t mind the experimental nature of this setup and you want to be able to debug into QGIS? dependencies, you might give it a try. Especially, if you want to track the cause of a crash in one of QGIS? dependencies, this setup might be helpful. You have the source code and debug versions of the dependencies, so the debugger will jump to the crashing code line and you can inspect all the variables of the dependency.

If someone is interested in trying it, give me a note. I can then assemble detailed instructions on how to make it work. It took me a while to figure out which packages are needed and how the CMake cache needs to be tweaked.

Best regards,
Stefan



_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210131/c35d624a/attachment-0001.html>

From jgr at di.uminho.pt  Sun Jan 31 06:55:02 2021
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Sun, 31 Jan 2021 14:55:02 +0000
Subject: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE and
 vcpkg
In-Reply-To: <AM0PR02MB57772729C0B2641FBA458E5193B79@AM0PR02MB5777.eurprd02.prod.outlook.com>
References: <AM0PR02MB5777088D40E2D4EE13EBDF3593B99@AM0PR02MB5777.eurprd02.prod.outlook.com>
 <CACjCNZTsBFYMhtgSFTfte9+mkKy_Yb9kvptMhiwAncD1LgCLRQ@mail.gmail.com>
 <AM0PR02MB57772729C0B2641FBA458E5193B79@AM0PR02MB5777.eurprd02.prod.outlook.com>
Message-ID: <47c87f52-7d5a-6935-6a8b-7615cd670dcf@di.uminho.pt>

Hi Stefan,

We have now a new tab on github called 'discussions'[1]. Your detailed
instructions are a good candidate to write down a new entry there, under
'Show and tell' category. The goal is to keep this information next to
the repo. You can use the markdown syntax to enhance the writing format.
You can also add some print screens.

This is just a suggestion. Feel free to put it there or not.

Regards (and thank you!),

Jorge Gustavo

[1] https://github.com/qgis/QGIS/discussions

?s 14:13 de 31/01/21, Uhrig, Stefan escreveu:
> Install Visual Studio Community 2019: Select "Desktop development with
> C++" under "Workloads" and "C++ MFC for latest v142 build tools (x86 &
> x64)" under "Individual components". Verify that you install "Windows 10
> SDK (10.0.18362.0)" or higher.
> 
> ?
> 
> Install Git for Windows and Python 3.
> 
> ?
> 
> Download
> https://sourceforge.net/projects/winflexbison/files/win_flex_bison3-latest.zip/download
> and extract it to a location of your choice (avoid space characters in
> the target path).
> 
> ?
> 
> Follow the vcpkg "Quick Start: Windows" instructions at
> https://github.com/microsoft/vcpkg#quick-start-windows. Make sure to
> execute the "vcpkg integrate install" command.
> 
> ?
> 
> Install the required dependencies via:
> 
> ?
> 
> vcpkg --triplet=x64-windows install exiv2 gdal gsl libspatialindex
> libspatialite libzip opencl protobuf qca qscintilla qt5 qt5-serialport
> qt5-location qt5-winextras qtkeychain qwt zstd
> 
> ?
> 
> This may take a while as this creates a Debug and a Release build of
> each dependency from source.
> 
> ?
> 
> Clone the QGIS repostiory. The path to the QGIS repository should not
> contain any space characters.
> 
> ?
> 
> Start Visual Studio and open the QGIS CMakeLists.txt file via "File -->
> Open --> CMake...". This will start the CMake generation, which will
> fail. You will need several configuration rounds until everything is
> setup properly.
> 
> ?
> 
> Let's start with a Release build because that requires less tweaking. Go
> to "Project --> CMake Settings". Delete the default configuration
> ("x64-Debug (default)").
> 
> ?
> 
> Add a new "x64-Release" configuration and set "Configuration type" to
> "Release". Save the CMakeSettings.json file, which will start a new
> CMake generation. "FIND_FLEX" will fail, so you need to set the
> "FLEX_EXECUTABLE" path manually in section "CMake variables and cache".
> Browse to your win_flex.exe file. Additionally, disable "WITH_BINDINGS"
> and "WITH_QGIS_PROCESS". Save the file. Next set "BISON_EXECUTABLE" to
> your win_bison.exe file and save again. Disable "WITH_QTWEBKIT" and
> save. Set "QCA_LIBRARY" to
> "<vcpkg-root>\installed\x64-windows\lib\qca.lib" and save. Configuration
> should now succeed, but you have to change "GEOS_LIBRARY" from
> "geos.lib" to "geos_c.lib". Save and start the build after CMake
> generation has finished.
> 
> ?
> 
> Select "qgis.exe (output\bin\qgis.exe)" as start-up item in the toolbar
> and start QGIS.
> 
> ?
> 
> Now let's do the same for a Debug build. Add a "x64-Debug" configuration
> and save. Change to the "x64-Debug" configuration in the toolbar. Repeat
> the steps from above (set flex and bison paths etc.). When selecting
> libraries, take the libraries from
> "<vcpkg-root>\installed\x64-windows\debug\lib". Most libraries will have
> a "d" or "_d" as name suffix. The CMake generation will not always
> select the debug versions of libraries. Hence, go over the CMake
> variables and change release library paths to debug library paths, e.g.
> "<vcpkg-root>\installed\x64-windows\debug\lib\geos_cd.lib" for
> GEOS_LIBRARY. I'll append my CMakeSettings.json file as reference to
> this mail. Save again and start the build.
> 
> ?
> 
> The build will fail because the execution of crssync.exe fails. That's
> because crssync.exe tries to load zstd.dll instead of zstdd.dll. I
> haven't figured out why, yet. An easy workaround is copying zstdd.dll to
> zstd.dll in QGIS\out\build\x64-Debug\output\bin. Then restart the build
> and it should succeed.
> 
> ?
> 
> You should then be able to start and debug qgis.exe and its
> dependencies. Note that some vcpkg portfiles forget to copy over the
> .pdb files. For example, proj is affected. If you find such a library
> with a missing .pdb file, check whether the portfile (e.g.
> "<vcpkg-root>\ports\proj4\portfile.cmake") contains the
> "vcpkg_copy_pdbs()" call. If not, just add it at the end, re-install the
> dependency and copy over the .pdb file to the QGIS output directory.
> 
> ?
> 
> I'm currently trying to get QGIS working with Python bindings. I got the
> build working, however I'm struggling with the debug build execution.
> The debug Python library seems to be unable to load the Release build Qt
> libraries that come with PyQt5. Well, I'll keep trying and if I succeed,
> I'll update the instructions.
> 
> ?
> 
> Here is my CMakeSettings.json file for reference:
> 
> ?
> 
> {
> 
> ? "configurations": [
> 
> ??? {
> 
> ????? "name": "x64-Release",
> 
> ????? "generator": "Ninja",
> 
> ????? "configurationType": "Release",
> 
> ????? "buildRoot": "${projectDir}\\out\\build\\${name}",
> 
> ????? "installRoot": "${projectDir}\\out\\install\\${name}",
> 
> ????? "cmakeCommandArgs": "",
> 
> ????? "buildCommandArgs": "",
> 
> ????? "ctestCommandArgs": "",
> 
> ????? "inheritEnvironments": [ "msvc_x64_x64" ],
> 
> ????? "variables": [
> 
> ??????? {
> 
> ????????? "name": "WITH_BINDINGS",
> 
> ????????? "value": "False",
> 
> ????????? "type": "BOOL"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "WITH_QGIS_PROCESS",
> 
> ????????? "value": "False",
> 
> ????????? "type": "BOOL"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "FLEX_EXECUTABLE",
> 
> ????????? "value": "C:/src/tools/win_flex.exe",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "BISON_EXECUTABLE",
> 
> ????????? "value": "C:/src/tools/win_bison.exe",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "WITH_QTWEBKIT",
> 
> ????????? "value": "False",
> 
> ????????? "type": "BOOL"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "QCA_LIBRARY",
> 
> ????????? "value": "C:/src/vcpkg/installed/x64-windows/lib/qca.lib",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "GEOS_LIBRARY",
> 
> ????????? "value": "C:/src/vcpkg/installed/x64-windows/lib/geos_c.lib",
> 
> ????????? "type": "FILEPATH"
> 
> ? ??????}
> 
> ????? ]
> 
> ??? },
> 
> ??? {
> 
> ????? "name": "x64-Debug",
> 
> ????? "generator": "Ninja",
> 
> ????? "configurationType": "Debug",
> 
> ????? "buildRoot": "${projectDir}\\out\\build\\${name}",
> 
> ????? "installRoot": "${projectDir}\\out\\install\\${name}",
> 
> ????? "cmakeCommandArgs": "",
> 
> ????? "buildCommandArgs": "",
> 
> ????? "ctestCommandArgs": "",
> 
> ????? "inheritEnvironments": [ "msvc_x64_x64" ],
> 
> ????? "variables": [
> 
> ??????? {
> 
> ????????? "name": "FLEX_EXECUTABLE",
> 
> ????????? "value": "C:/src/tools/win_flex.exe",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "BISON_EXECUTABLE",
> 
> ????????? "value": "C:/src/tools/win_bison.exe",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "WITH_QTWEBKIT",
> 
> ????????? "value": "False",
> 
> ????????? "type": "BOOL"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "WITH_BINDINGS",
> 
> ????????? "value": "False",
> 
> ????????? "type": "BOOL"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "WITH_QGIS_PROCESS",
> 
> ????????? "value": "False",
> 
> ????? ????"type": "BOOL"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "QCA_LIBRARY",
> 
> ????????? "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/qcad.lib",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "GEOS_LIBRARY",
> 
> ????????? "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/geos_cd.lib",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "GSL_LIB",
> 
> ????????? "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/gsld.lib",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "GSLCBLAS_LIB",
> 
> ????????? "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/gslcblasd.lib",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "PROJ_LIBRARY",
> 
> ????????? "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/proj_d.lib",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "QSCINTILLA_LIBRARY",
> 
> ????????? "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/qscintilla2_qt5d.lib",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "QTKEYCHAIN_LIBRARY",
> 
> ????????? "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/qt5keychaind.lib",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "QWT_LIBRARY",
> 
> ????????? "value": "C:/src/vcpkg/installed/x64-windows/debug/lib/qwtd.lib",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? },
> 
> ??????? {
> 
> ????????? "name": "SPATIALINDEX_LIBRARY",
> 
> ????????? "value":
> "C:/src/vcpkg/installed/x64-windows/debug/lib/spatialindex-64d.lib",
> 
> ????????? "type": "FILEPATH"
> 
> ??????? }
> 
> ????? ]
> 
> ??? }
> 
> ? ]
> 
> }
> 
> ?
> 
> ?
> 
> ?
> 
> ?
> 
> *From:*i-s-o <46.i.s.o.64 at gmail.com>
> *Sent:* Saturday, January 30, 2021 5:58 PM
> *To:* Uhrig, Stefan <stefan.uhrig at sap.com>
> *Cc:* qgis-developer <QGIS-Developer at lists.osgeo.org>
> *Subject:* Re: [QGIS-Developer] Building QGIS with Visual Studio 2019 CE
> and vcpkg
> 
> ?
> 
> I am very interested in trying out your solution. Could you share the
> required steps?
> 
> ?
> 
> Thx.
> 
> ?
> 
> On Fri, Jan 29, 2021, 09:25 Uhrig, Stefan <stefan.uhrig at sap.com
> <mailto:stefan.uhrig at sap.com>> wrote:
> 
>     TL;DR: It is currently possible to build the QGIS core app with
>     Visual Studio 2019 and vcpkg, which makes debugging QGIS
>     dependencies easy.
> 
>     ?
> 
>     ?
> 
>     Hi all,
> 
>     ?
> 
>     Some time ago I discovered vcpkg
>     (https://github.com/microsoft/vcpkg). vcpkg is a package manager
>     that downloads package source code to your local machine and builds
>     the package locally. Recently, I discovered that vcpkg should be
>     able to provide all dependencies to build at least the QGIS core
>     application. Hence, I gave it a try.
> 
>     ?
> 
>     Basically, it worked out of the box. I started with a fresh Windows
>     10 installation, installed Visual Studio 2019 Community Edition,
>     Git, vcpkg, Python 3 and flex and bison for Windows. I fetched all
>     other dependencies via vcpkg. It was not necessary to even touch a
>     single file in the repository. I could just open the main
>     CMakeLists.txt file in Visual Studio and only had to tweak the CMake
>     cache (the CMake find macros that come with QGIS are not aware of
>     vcpkg, so I had to set some paths manually). I had to switch off
>     some extensions though as the required dependencies were not
>     available via vcpkg (WITH_BINDINGS, WITH_QGIS_PROCESS,
>     WITH_QTWEBKIT). The build did not report any errors, I could start
>     the application and it seems to work, but I did some light testing only.
> 
>     ?
> 
>     I mainly tried it because I enjoy debugging with Visual Studio more
>     than with gdb (or gdb wrapped in some IDE). In my experience, the
>     performance of the Visual Studio debugger is better and it is more
>     stable, especially in long debug sessions.
> 
>     ?
> 
>     I don?t want to promote official building support of QGIS with
>     vcpkg. Providing the dependencies via OSGeo4W is much more reliable.
>     However, if you don?t mind the experimental nature of this setup and
>     you want to be able to debug into QGIS? dependencies, you might give
>     it a try. Especially, if you want to track the cause of a crash in
>     one of QGIS? dependencies, this setup might be helpful. You have the
>     source code and debug versions of the dependencies, so the debugger
>     will jump to the crashing code line and you can inspect all the
>     variables of the dependency.
> 
>     ?
> 
>     If someone is interested in trying it, give me a note. I can then
>     assemble detailed instructions on how to make it work. It took me a
>     while to figure out which packages are needed and how the CMake
>     cache needs to be tweaked.
> 
>     ?
> 
>     Best regards,
> 
>     Stefan
> 
>     ?
> 
>     ?
> 
>     ?
> 
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Inform?tica
Universidade do Minho
4710-057 Braga
Gabinete 3.29 (Piso 3)
Tel: +351 253604480
Fax: +351 253604471
M?vel: +351 910333888
skype: nabocudnosor

From nyall.dawson at gmail.com  Sun Jan 31 20:47:16 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 1 Feb 2021 14:47:16 +1000
Subject: [QGIS-Developer] QEP: Layer Notes
Message-ID: <CAB28AsgU49OEHV0mbiuUNoWRngestVeErOQ8Fa7xEgm9XM1BNg@mail.gmail.com>

Hi all,

I've just submitted a new QGIS enhancement proposal detailing support
for user created "notes" for map layers. You can read the details
here: https://github.com/qgis/QGIS-Enhancement-Proposals/issues/206

I'm after feedback on this proposal and am trying to determine how
widespread the use-case is, and how desirable it is to have this
functionality available in QGIS out-of-the-box (vs as a plugin).

Nyall

From tebling at masuch.de  Sun Jan 31 23:18:37 2021
From: tebling at masuch.de (Karsten Tebling)
Date: Mon, 1 Feb 2021 08:18:37 +0100
Subject: [QGIS-Developer] Renderer/expression issue temporal/gpkg
In-Reply-To: <12affb21-a494-d55a-8867-3c1d82111167@duif.net>
References: <12affb21-a494-d55a-8867-3c1d82111167@duif.net>
Message-ID: <fa816923-457d-1fc9-7c4d-f7b594cd97da@masuch.de>

HI,

I just wanted to say that i had similar issues (not temporal) with 
PostGIS on a Mac running a 3.4 version of QGIS. I ended up duplicating 
the layer and setting filters instead of using the rule-based-renderer. 
The rule based renderer returned the right amount of items when i testet 
it, but it clearly rendered the wrong amount of objects.

greetz

Am 29.01.2021 um 13:27 schrieb Richard Duivenvoorde:
> Hi Devs,
>
> I have an issue with the (temporal) rendering of (seemingly only) gpkg.
> See https://github.com/qgis/QGIS/issues/41074
> For some test datasets.
>
> I tried to debug, but get lost in the deeper core classes like featureiterator and renderer...
>
> A gpkg with a QDatetime column seems to render the wrong 'classes',
> while if I create a virtual new attribute (to_datatime('Time')) based on the original QDateTime it will render the right one.
>
> BUT(!) those 2 attributes seem to be exactly the same...
>
> So: to me it looks like there is something fishy there: renderer (featureiterator) seems to return other features then the (same?) iterator for the infotool and attributetable..
>
> The temporal controller creates expressions to do the selections.
> EG:
> ("Time" > make_datetime(2019,9,1,6,0,0) AND "Time" < make_datetime(2019,9,1,8,0,0)) OR "Time" IS NULL
>
> BUT: a gkpg with 7 AND 8 will render BOTH, although the expressions rightfully return True (for 7) and False (for 8):
>
> 7 == true/1
> make_datetime(2019,9,1,7,0,0) > make_datetime(2019,9,1,6,0,0) AND make_datetime(2019,9,1,7,0,0) < make_datetime(2019,9,1,8,0,0)
> 8 == false/0
> make_datetime(2019,9,1,8,0,0) > make_datetime(2019,9,1,6,0,0) AND make_datetime(2019,9,1,8,0,0) < make_datetime(2019,9,1,8,0,0)
>
> Anybody has a clue? Or can maybe reproduce my issue(s)?
>
> Regards,
>
> Richard Duivenvoorde
>
> PS although one of my open PR's changes the logice of the expression a little, the behaviour for this is the same before and after this
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-- 
Ihre Signatur

Mit freundlichen Gr??en,

Karsten Tebling



*Masuch Geoinformation*

Hauptsitz: Seestra?e 72, 16866 Kyritz
Niederlassung: Hauptstra?e 31, 16845 Sieversdorf

Telefon: (+49) 0 33 970 - 13 9 56 <tel:+493397013956>
Telefax: (+49) 0 33 970 - 13 9 57 <tel:+493397013957>
E-Mail: info at masuch.de <mailto:info at masuch.de>
Web: www.masuch.de <www.masuch.de >

USt-IDNr.: DE163259093
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210201/d733a7a2/attachment.html>

