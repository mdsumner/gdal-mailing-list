From charles at kartoza.com  Sun Aug  1 02:53:07 2021
From: charles at kartoza.com (Charles Dixon-Paver)
Date: Sun, 1 Aug 2021 11:53:07 +0200
Subject: [QGIS-Developer] DWG files preview in QGIS
In-Reply-To: <500996321.155524.1627808206797@nm71.abv.bg>
References: <1228961645.1995170.1626791475712@nm71.abv.bg>
 <CAK2Kqice8fTPthJHhTR_eiYvWyxMr3eMUu+3zB_80mOdV=pyjg@mail.gmail.com>
 <2100701243.40254.1626939294931@nm71.abv.bg>
 <CAK2KqiewD2HMvZJdrWx_VQAppZSSWUBrrwzY+fBAbeUSMiC_WA@mail.gmail.com>
 <636071771.173689.1627255887836@nm72.abv.bg>
 <CAK2KqidtMb_nqdSRgnjeE9DN5D5_+GKUFOdaERE9U3piE=Atyg@mail.gmail.com>
 <500996321.155524.1627808206797@nm71.abv.bg>
Message-ID: <CAK2KqicQNxgqNWEqyKjuUbYPGqDoyiayH_Lk6bsPut_8HGw3NQ@mail.gmail.com>

Hi there.

I am unable to read your previous message as the supplied image seems to
have been converted to plain text. I would recommend sending a link via an
internet image service like https://imgur.com/

If you were unable to access or review the link to the demo project I
provided previously, I have added to my gdrive temporarily so that you may
download it.

https://drive.google.com/file/d/1PZLy5_M4n6se0D74AWplrmqwIXh5-ZCX/view?usp=sharing

In terms of the visualisation aspect, I think that has already been
addressed. Within the example project is a points layer which contains the
attributes linking to relevant files and many different layer styles for
you to review depending on how you want to visualise your data. Just right
click the layer and navigate to the styles section of the context menu.
These styles were available:

   - atlas - highlighting the currently active atlas feature as used in the
   layout
   - call_out - an example of using label callouts to identify relevant
   drawings for each feature based on offset attributes
   - default - simple points
   - offset_from_point - positioning the drawing adjacent to point using
   map scale and scale dependant rendering and a custom styled feature form
   for displaying the drawing for a feature from the identify tool
   - raster - replacing the point symbol with a picture of the drawing
   - raster_and_point - simple multilayered symbol example
   - raster_map_units - raster symbol set to use map units for size/ scale
   and daraw effects to help it stand out from background map
   - raster_scaled - A simple example of using a raster symbol with
   effective scale dependant rendering

I would be surprised if one of these styles (or indeed the available
actions and example layout) would not suit your needs with a bit of
additional configuration.

Regards


On Sun, 1 Aug 2021 at 10:56, todor lambev <totolamb at abv.bg> wrote:

> Thank you very much, Charles.
> It was a long week on the field / I had to do a significant bathymetric
> survey in the Black see / and I did not have the chance to work on this but
> I think that I will manage.
> I bought a DWG->PDF/PNG converter because I think that would be more
> reliable if you have to convert many files at once. With a few clicks, it
> converts all DWG files (almost 15 000) to PNG files. Than using the example
> sent by you I loaded all profiles in QGIS and now the only tricky part is
> the visualization... At the moment it looks like this:
>
> When I zoom in, I can see in more details but the zoom is limited... But I
> think that I could work with it.
>
> Thank you once again for your help and all the best.
>
> Todor Lambev, PhD Student- - - - -*Institute of Oceanology
> **Department of coastal zones dynamics
> mob: +359 886 75 72 85;
> Varna, Bulgaria
> URL: http://www.io-bas.bg <http://www.io-bas.bg>*
>
>
>
>
>
> >-------- ?????????? ????? --------
> >??: Charles Dixon-Paver charles at kartoza.com
> >???????: Re: [QGIS-Developer] DWG files preview in QGIS
> >??: todor lambev <totolamb at abv.bg>
> >????????? ??: 26.07.2021 10:28
>
> There should be no need to buy additional software to bulk convert DWG
> files to PNG format. If you have access to autocad you should be able to
> bulk export your layouts. I could likely share an auto lisp routine but
> without an autocad license and sample data I wouldn't be able to test it.
>
> As I said, I personally used the Autodesk True View application (which is
> free) to bulk export to pdf. You can also use a program like imagemajick to
> bulk convert PDF to PNG, so although it's a more complex workflow than
> exporting directly to PNG it is certainly possible without purchasing
> separate software.
>
> If you struggle with automating these steps let me know. I expect it to be
> quite a common procedure for users who work with CAD data and it may be
> worth a quick YouTube tutorial or similar. Even if it does take some extra
> time to develop, if you pay an open source consultant to develop a solution
> rather than paying for conversion software, everyone can benefit.
>
> On Mon, 26 Jul 2021, 01:31 todor lambev, < totolamb at abv.bg> wrote:
>
> Dear Charles,
>
> Thank you very much for your reply. I learned something new and usefull.
> I have to buy a DWG -> PNG convertor now but I think that will be fair if
> I need to preview all the files.
>
>
> Best regards
>
> Todor Lambev, PhD Student- - - - -*Institute of Oceanology
> **Department of coastal zones dynamics
> mob: +359 886 75 72 85;
> Varna, Bulgaria
> URL: http://www.io-bas.bg <http://www.io-bas.bg>*
>
>
>
>
>
> >-------- ?????????? ????? --------
> >??: Charles Dixon-Paver charles at kartoza.com
> >???????: Re: [QGIS-Developer] DWG files preview in QGIS
> >??: todor lambev < totolamb at abv.bg>
> >????????? ??: 23.07.2021 00:20
>
> No problem Todor, although it may be worth bearing in mind that these
> sorts of usability questions are typically better suited to the QGIS User
> mailing list and may get a better response from there.
>
> In terms of your query, I would say it is certainly possible to achieve in
> QGIS, but there are a few limits to what is possible and what is practical.
>
> Like I mentioned before, I believe what you are after is better served
> using raster files displaying your CAD information, so converting your DWGs
> to a raster format beforehand would be beneficial.
>
> Previewing the DWG file itself in QGIS probably isn't easily feasible, the
> easiest approach likely being some sort of HTML viewer integration. You can
> also convert the DWG to GPKG using QGIS tools to make it easier to work
> with, but again I feel this is not what you seem to need for your use case.
>
> I would expect some data from a DWG to be unsupported by QGIS when
> converting it, as well as having data which is outside of the drawing
> paperspace not be included in the preview image (amongst other issues
> depending on the structure/ design of the DWGs). Jorge outlined the code
> needed to load the DWG with an external program using an action as
> well, but that would specifically require loading an instance of a third
> party program. My suggestion would be to build the map project as outlined
> in the presentation with raster images, and attach an action to open the
> complete drawing for further introspection.
>
> I have created a small demo project which demonstrates how to achieve the
> outcomes I described. It includes various actions for launching file
> previews and contains a number of different layer styles and approaches for
> rendering the data in various manners as you would like. You can also
> configure the feature identification tool to automatically load the feature
> form and use the QGIS drag and Drop form designer to configure an image
> preview. The project also demonstrates using the QGIS atlas feature with
> print layouts to achieve the specific outcome highlighted in the
> presentation document.
>
> [image: output_3.png]
>
> You can download the files and project, DWG_integration_example.zip, from
> the following temporary file share:
>
> https://filebin.net/qxrw2xc94syeioo4
>
> (The Chrome browser security may complain it is unsafe, but you should be
> able to download it with firefox or edge etc)
>
> SHA256: 7E9E5A398BFAE4115EEE6D5C1B2073ED7314C6B7186AB61818D613B389991FD7
>
> I used some sample DWGs from the internet and bulk exported them to PDF
> using TrueView before converting to PNG, so this is definitely something
> you can make at least semi-automatic. If you have access to autocad, I
> imagine there are a number of options available for bulk exporting/
> plotting/ publishing, if not from within the software itself, certainly
> using AutoLisp.
>
> You could of course try to build similar DWG viewing functionality and
> leverage it in QGIS similar to what I have demonstrated with raster data,
> but I doubt it would be practical.
>
> I hope that this solves your issues and provides you with a strong
> starting point for configuring your project.
>
> On Thu, 22 Jul 2021 at 09:34, todor lambev < totolamb at abv.bg> wrote:
>
> Dear Charles,
>
> Thank you very much for your reply. In fact this is my first time that I
> use QGIS-developer forum and I am pleasantly surprised that someone replied
> to my questions.
>
> No on the topic.  In the attached presentation you can find an explanation
> what I would like to receive as a final "product.  Do you think that it is
> possible or at least someting similar? The idea of the hole excersice is to
> be able to make a quick visual check of all the profiles which I have in
> separate DWGs.
>
>
> Best regards
>
> Todor Lambev, PhD Student- - - - -*Institute of Oceanology
> **Department of coastal zones dynamics
> mob: +359 886 75 72 85;
> Varna, Bulgaria
> URL: http://www.io-bas.bg <http://www.io-bas.bg>*
>
>
>
>
>
> >-------- ?????????? ????? --------
> >??: Charles Dixon-Paver charles at kartoza.com
> >???????: Re: [QGIS-Developer] DWG files preview in QGIS
> >??: todor lambev < totolamb at abv.bg>
> >????????? ??: 20.07.2021 18:38
>
> It's not totally clear to me what the objective is for your DWGs.
>
> By "preview", do you mean wish to just view an overview image of the DWG
> contents? If that is the case, I would recommend using a separate command
> line/ batch process to produce raster format previews as DWGs. You can then
> create a new field for the accompanying raster file using the field
> calculator and QGIS expressions.
>
> With the rasters you can use the preview option in the feature form, or
> even use a "Raster Image Marker" based symbol at certain scales to
> represent the DXF previews.
>
> Another option for previews is to use the "Show map tips" option from the
> QGIS toolbars. In the "Display" section of the layer properties you will
> find that tooltips can use HTML code which will render a "web preview" of
> the feature when you hover the cursor on it. for example, the
> following should allow image previews:
>
> <img src='file:///[%  @project_folder || '/' || "image" %]' height=400
> width=400 />
>
> In theory, you could likely combine this with a DWG rendering library such
> as https://sharecad.org/it/DWGOnlinePlugin but I expect it will be
> difficult to use and not very efficient, hence why I would suggest
> converting the data to raster beforehand. One other thing you could do as
> well is to use the "web view" of the QGIS form to render an html template
> with an integrated viewer, but again, this is likely difficult and not
> necessary.
>
> I am not aware of any "preview" plugin for rendering DWG data within QGIS.
>
> If your aim is to "load" the DWG into your project from a command
> available within the point feature attributes, this is supported by using
> GitHub actions and some custom code, although the process may be quite
> cumbersome. Actions functionality was covered on the last QGIS Open Day[1]
> and I recommend watching the demonstration if that is your use case.
> Alternatively, there is also some written material on this topic [2] f you
> would prefer to start there
>
> [1] https://github.com/qgis/QGIS/wiki/QOD-June-2021#qgis-actions-deep-dive
> [2]
> https://courses.spatialthoughts.com/pyqgis-in-a-day.html#creating-custom-python-actions
>
>
> On Tue, 20 Jul 2021 at 16:40, todor lambev < totolamb at abv.bg> wrote:
>
> Dear QGIS developers,
>
> I have a strange need. Could you help me?
> I have 30 000 DWG files that are not georeferenced, each file has unique
> and a specific name. I have a point shapefile which in its attribute table
> contains a column with the names of the *dwg files.
>
> My question is: How I can load to preview the DWG files in QGIS next to
> the points or to preview the DWG by clicking on the point (similar to the
> photo preview widget)?
>
> I hope that you won't skip my question and will help me to find a solution
> basically because otherwise, I have to do it manually...
>
> Best regards
>
> Todor Lambev, PhD Student- - - - -*Institute of Oceanology
> **Department of coastal zones dynamics
> mob: +359 886 75 72 85;
> Varna, Bulgaria
> URL: http://www.io-bas.bg <http://www.io-bas.bg>*
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210801/040ed202/attachment-0001.html>

From nyall.dawson at gmail.com  Sun Aug  1 22:06:20 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 2 Aug 2021 15:06:20 +1000
Subject: [QGIS-Developer] Grant report: Integrate GPS Tools plugin
 functionality into core QGIS
Message-ID: <CAB28Asij6PGtC8_8hK16er6C6q5VB3D1vAPxs-Q0XUWsGvnN7A@mail.gmail.com>

Hi lists,

With the final pull request just submitted
(https://github.com/qgis/QGIS/pull/44508), I'm happy to announce that
the QGIS grant work: "Integrate GPS Tools plugin functionality into
core QGIS" is now complete. You can read more about the motivation
behind this work at
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/217

This grant sees the removal of the old, unmaintained "GPS Tools" core
plugin, with all functionality from the plugin moved to reusable
Processing algorithms or the unified Data Source Manager dialog. Since
the functionality now uses the Processing framework, users gain the
ability to run these tools in batch modes, as part of graphical
models, and from 3rd party scripts and plugins.

As a bonus the new tools are all fully covered by unit tests.

Additionally, I also used this opportunity to revamp the global
settings dialog. This dialog has been growing over time as more and
more settings from other parts of QGIS are added to the dialog.
(That's a great thing -- unifying the settings in one place makes them
much more discoverable for users!). In order to avoid loss of
usability in this dialog due to the addition of yet another settings
page (for GPSBabel Devices), I've instead reworked the dialog to use a
"tree" structure for the settings pages. This helps group related
settings pages together, and provides more hints to users about where
particular settings reside. (I'm hoping to take further advantage of
this restructuring to move some more isolated options pages into the
global options dialog, such as moving the Custom Projections dialog to
a new page within the "CRS and transforms" group).

Thanks again for the opportunity to complete this work!

Nyall

From wonder.sk at gmail.com  Mon Aug  2 05:33:01 2021
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon, 2 Aug 2021 14:33:01 +0200
Subject: [QGIS-Developer] QGIS Server Tiles API Plugin
In-Reply-To: <4911dbb3-b618-ad63-63ae-81dfe2292a3d@gmail.com>
References: <4911dbb3-b618-ad63-63ae-81dfe2292a3d@gmail.com>
Message-ID: <CAC2XbFdnrnMRtJeVKQGvch2ju4UdzZFGUYDDcxpy+JEmcHt8cw@mail.gmail.com>

Hi Ren?-Luc

On Fri, Jul 30, 2021 at 12:27 PM Ren?-Luc Dhont <rldhont at gmail.com> wrote:

> Hi Devs,
>
> On request from Ifremer, we at 3Liz are started to work on a plugin to
> provide Tiles API for QGIS Server.
> https://github.com/3liz/qgis-server-tiles-plugin
>

Nice work!

Do you also plan to port the code for vector tile server into QGIS server,
or do you want to keep it in the plugin? (It would be great to have it
integrated in vanilla QGIS server!)

> I have discovered that QgsVectorTileMVTEncoder is not available in Python.

Yeah that class is an internal implementation detail, the
QgsVectorTileWriter class is actually the one that should be used (also
used in the processing alg to make vector tiles). But if there's a reason
to have the MVTEncoder class in public API, we could make it public...

Let me note that the vector tile writing code is not as mature as the code
for reading vector tiles, so especially for some edge cases it may be good
to compare the output with a more mature generator like tippecanoe.

Regards
Martin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210802/eecf4b9a/attachment.html>

From tim at kartoza.com  Mon Aug  2 08:07:17 2021
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 2 Aug 2021 16:07:17 +0100
Subject: [QGIS-Developer] QGIS Server Tiles API Plugin
In-Reply-To: <CAC2XbFdnrnMRtJeVKQGvch2ju4UdzZFGUYDDcxpy+JEmcHt8cw@mail.gmail.com>
References: <4911dbb3-b618-ad63-63ae-81dfe2292a3d@gmail.com>
 <CAC2XbFdnrnMRtJeVKQGvch2ju4UdzZFGUYDDcxpy+JEmcHt8cw@mail.gmail.com>
Message-ID: <CAES-DZT7agySeiKO19286BjXgg=iDkuxwSYVx-+T6YCN3rqrCg@mail.gmail.com>

Oh Reading Martin's reply I see we are talking about vector tiles - ignore
my previous email please :-P

Regards

Tim

On Mon, Aug 2, 2021 at 1:33 PM Martin Dobias <wonder.sk at gmail.com> wrote:

> Hi Ren?-Luc
>
> On Fri, Jul 30, 2021 at 12:27 PM Ren?-Luc Dhont <rldhont at gmail.com> wrote:
>
>> Hi Devs,
>>
>> On request from Ifremer, we at 3Liz are started to work on a plugin to
>> provide Tiles API for QGIS Server.
>> https://github.com/3liz/qgis-server-tiles-plugin
>>
>
> Nice work!
>
> Do you also plan to port the code for vector tile server into QGIS server,
> or do you want to keep it in the plugin? (It would be great to have it
> integrated in vanilla QGIS server!)
>
> > I have discovered that QgsVectorTileMVTEncoder is not available in
> Python.
>
> Yeah that class is an internal implementation detail, the
> QgsVectorTileWriter class is actually the one that should be used (also
> used in the processing alg to make vector tiles). But if there's a reason
> to have the MVTEncoder class in public API, we could make it public...
>
> Let me note that the vector tile writing code is not as mature as the code
> for reading vector tiles, so especially for some edge cases it may be good
> to compare the output with a more mature generator like tippecanoe.
>
> Regards
> Martin
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
------------------------------------------------------------------------------------------
?

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210802/a52fa936/attachment.html>

From apasotti at gmail.com  Wed Aug  4 05:27:34 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 4 Aug 2021 14:27:34 +0200
Subject: [QGIS-Developer] Grant Report: Port DB Manager Table Management
 Functionalities to Browser: SQL execution (part 3)
Message-ID: <CAL5Q670kdoRRdoPAdyp0Y5vkL1fjtzj06AFrukw8s_acTaUM9w@mail.gmail.com>

Hi lists,

The grant proposal described in the QEPhttps://
github.com/qgis/QGIS-Enhancement-Proposals/issues/205 has been completed
with:

https://github.com/qgis/QGIS/pull/44051

As a bonus an additional PR https://github.com/qgis/QGIS/pull/44200 adds to
QGIS core the query layer management tool that was provided by DB-Manager
plugin.

The new API is fully covered by unit tests.

Thank you for the opportunity to complete this work!

Kind regards.

-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210804/3edd79c1/attachment.html>

From strk at kbt.io  Wed Aug  4 05:36:07 2021
From: strk at kbt.io (Sandro Santilli)
Date: Wed, 4 Aug 2021 14:36:07 +0200
Subject: [QGIS-Developer] Grant Report: Port DB Manager Table Management
 Functionalities to Browser: SQL execution (part 3)
In-Reply-To: <CAL5Q670kdoRRdoPAdyp0Y5vkL1fjtzj06AFrukw8s_acTaUM9w@mail.gmail.com>
References: <CAL5Q670kdoRRdoPAdyp0Y5vkL1fjtzj06AFrukw8s_acTaUM9w@mail.gmail.com>
Message-ID: <20210804123607.GC2293@c19>

Great work !
I'm just a bit concerned about my Topology Viewer plugin, which
currently resides under the DBManager python plugin. I guess the
road ahead would be to port that to the browser or something
like that (browsing PostGIS Topologies?)

--strk;

On Wed, Aug 04, 2021 at 02:27:34PM +0200, Alessandro Pasotti wrote:
> Hi lists,
> 
> The grant proposal described in the QEPhttps://
> github.com/qgis/QGIS-Enhancement-Proposals/issues/205 has been completed
> with:
> 
> https://github.com/qgis/QGIS/pull/44051
> 
> As a bonus an additional PR https://github.com/qgis/QGIS/pull/44200 adds to
> QGIS core the query layer management tool that was provided by DB-Manager
> plugin.
> 
> The new API is fully covered by unit tests.
> 
> Thank you for the opportunity to complete this work!
> 
> Kind regards.

From apasotti at gmail.com  Wed Aug  4 05:41:58 2021
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 4 Aug 2021 14:41:58 +0200
Subject: [QGIS-Developer] Grant Report: Port DB Manager Table Management
 Functionalities to Browser: SQL execution (part 3)
In-Reply-To: <20210804123607.GC2293@c19>
References: <CAL5Q670kdoRRdoPAdyp0Y5vkL1fjtzj06AFrukw8s_acTaUM9w@mail.gmail.com>
 <20210804123607.GC2293@c19>
Message-ID: <CAL5Q6726iTFBet-5HGo2-=qj12xrfC0zi_5TXiU=Kec=rCGfXQ@mail.gmail.com>

On Wed, Aug 4, 2021 at 2:36 PM Sandro Santilli <strk at kbt.io> wrote:

> Great work !
> I'm just a bit concerned about my Topology Viewer plugin, which
> currently resides under the DBManager python plugin. I guess the
> road ahead would be to port that to the browser or something
> like that (browsing PostGIS Topologies?)
>
> --strk;
>
>
Hi,

don't worry: the coffin for the DB manager is not ready yet  :)

By the way you might want to start thinking about how to integrate topology
into the browser, or leave it as an independent plugin.


-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210804/0acec252/attachment.html>

From adenaculture at gmail.com  Wed Aug  4 06:09:41 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 4 Aug 2021 09:09:41 -0400
Subject: [QGIS-Developer] Vertex Editor Support for other Coordinates
Message-ID: <CABPxTTrwUd5FLmROjN5FXZYa4JN0UbXVa5O=Z16HwXJXccMGnA@mail.gmail.com>

I was just asked by a user whether the Vertex editor could support
coordinate entry for other data formats such as UTM, MGRS, Plus Codes, etc.
I know it defaults to the CRS of the layer and it is probably a long shot
to modify its behavior without reimplementing it, but is there anyway to
programmatically change its behavior without writing a new vertex editing
tool?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210804/4fd62975/attachment.html>

From rdmailings at duif.net  Wed Aug  4 13:13:20 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 4 Aug 2021 22:13:20 +0200
Subject: [QGIS-Developer] Grant report: Integrate GPS Tools plugin
 functionality into core QGIS
In-Reply-To: <CAB28Asij6PGtC8_8hK16er6C6q5VB3D1vAPxs-Q0XUWsGvnN7A@mail.gmail.com>
References: <CAB28Asij6PGtC8_8hK16er6C6q5VB3D1vAPxs-Q0XUWsGvnN7A@mail.gmail.com>
Message-ID: <8b123c06-8eec-23b1-e937-2f2eb8d1b0be@duif.net>

Hi Nyall,

Supercool!!!

I thought to try to walk around (literally) a little (after it took me some time to find out how to connect a bluetooth GPS dongle....).

Some findings:

- all seems to work (as I think better then) as in the old plugin..

- I find the way you can 'save' your gps track (or points) to some file/layer not so intuitive...:
the 'Add Line'-button will change to an 'Add Point'-button when you change a (editable) point or line layer... would it be nice to add some hints somewhere? Maybe if the button is disabled add a caption or tooltip: "editable point or line layer needed"?

- would it be nice to add a HELP button somewhere in the Panel pointing to the docs of live gps: https://docs.qgis.org/testing/en/docs/user_manual/working_with_gps/live_GPS_tracking.html

- my first line I saved, had as starting point 0.0, 0.0? Not sure if that was the result of all my fooling around with the gps, or that it is a small itch in the creation of the first line?

- the size of the cursor can be changed, but it does not show immediately? Only if  you have an active (changing) gps log, then it repaints on change. Is it possible to do a repaint (of the cursor) upon change (?? I know cursors are nasty beasts... ??)

- in Linux/Debian, if you enable 'Location Services' in your (Gnome) Privacy Settings you will have th little 'gps'-button in your top bar, AND QGIS WILL USE THAT (via qt-geoclue apparently!!).
In my case that meaned: NO gps attached, but still pretty good showing where I was (if I am correct, it uses the Mozilla Location Service, which uses the wifi access point info???)

One question:

what is that Leap seconds? Do the gps satellites have old clocks or so, which are (18?) seconds behind (see screenie).

About the new settings tree: I have the feeling that the icons in the tree are pretty tiny, and they do not follow the 'icon size' setting. Is that by (qt) design?

Anyway: thanks for all this work, it always costs me some time to hobby around with it ;-) BUT: worth it!

Regards,

Richard Duivenvoorde
 

On 8/2/21 7:06 AM, Nyall Dawson wrote:
> Hi lists,
> 
> With the final pull request just submitted
> (https://github.com/qgis/QGIS/pull/44508), I'm happy to announce that
> the QGIS grant work: "Integrate GPS Tools plugin functionality into
> core QGIS" is now complete. You can read more about the motivation
> behind this work at
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/217
> 
> This grant sees the removal of the old, unmaintained "GPS Tools" core
> plugin, with all functionality from the plugin moved to reusable
> Processing algorithms or the unified Data Source Manager dialog. Since
> the functionality now uses the Processing framework, users gain the
> ability to run these tools in batch modes, as part of graphical
> models, and from 3rd party scripts and plugins.
> 
> As a bonus the new tools are all fully covered by unit tests.
> 
> Additionally, I also used this opportunity to revamp the global
> settings dialog. This dialog has been growing over time as more and
> more settings from other parts of QGIS are added to the dialog.
> (That's a great thing -- unifying the settings in one place makes them
> much more discoverable for users!). In order to avoid loss of
> usability in this dialog due to the addition of yet another settings
> page (for GPSBabel Devices), I've instead reworked the dialog to use a
> "tree" structure for the settings pages. This helps group related
> settings pages together, and provides more hints to users about where
> particular settings reside. (I'm hoping to take further advantage of
> this restructuring to move some more isolated options pages into the
> global options dialog, such as moving the Custom Projections dialog to
> a new page within the "CRS and transforms" group).
> 
> Thanks again for the opportunity to complete this work!
> 
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot-20210804215352-517x196.png
Type: image/png
Size: 16608 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210804/401d04dc/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot-20210804220929-313x33.png
Type: image/png
Size: 2716 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210804/401d04dc/attachment-0003.png>

From andreaerdna at libero.it  Wed Aug  4 16:25:11 2021
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Thu, 5 Aug 2021 01:25:11 +0200
Subject: [QGIS-Developer] Grant report: Integrate GPS Tools plugin
 functionality into core QGIS
In-Reply-To: <8b123c06-8eec-23b1-e937-2f2eb8d1b0be@duif.net>
References: <CAB28Asij6PGtC8_8hK16er6C6q5VB3D1vAPxs-Q0XUWsGvnN7A@mail.gmail.com>
 <8b123c06-8eec-23b1-e937-2f2eb8d1b0be@duif.net>
Message-ID: <5ad8ea7b-871a-58da-3ac5-8c43087f27f1@libero.it>

Il 04/08/2021 22:13, Richard Duivenvoorde ha scritto:

> what is that Leap seconds? Do the gps satellites have old clocks or so, which are (18?) seconds behind (see screenie).

Some info about leap seconds and GPS time:

- 
https://en.racelogic.support/01VBOX_Automotive/01General_Information/Knowledge_Base/What_are_GPS_Leap_Seconds%3F
- http://leapsecond.com/java/gpsclock.htm
- https://en.wikipedia.org/wiki/Global_Positioning_System#Leap_seconds

Regards.

Andrea Giudiceandrea

From nyall.dawson at gmail.com  Wed Aug  4 16:56:49 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 5 Aug 2021 09:56:49 +1000
Subject: [QGIS-Developer] Grant report: Integrate GPS Tools plugin
 functionality into core QGIS
In-Reply-To: <8b123c06-8eec-23b1-e937-2f2eb8d1b0be@duif.net>
References: <CAB28Asij6PGtC8_8hK16er6C6q5VB3D1vAPxs-Q0XUWsGvnN7A@mail.gmail.com>
 <8b123c06-8eec-23b1-e937-2f2eb8d1b0be@duif.net>
Message-ID: <CAB28AsiY_J6inForEwOPaUVPZ+Xw48NrfPxZQpu6YyFQHNXR2w@mail.gmail.com>

On Thu, 5 Aug 2021 at 06:13, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>
> Hi Nyall,
>
> Supercool!!!
>
> I thought to try to walk around (literally) a little (after it took me some time to find out how to connect a bluetooth GPS dongle....).
>
> Some findings:
>

Ahh, there's a little misunderstanding here. The "GPS Info" panel is a
different beast to the (now removed) GPS tools plugin, and hasn't been
touched by the grant work. To clarify:

- GPS Information panel: this is the live/interactive view of a GPS
connection, and is responsible for showing the current position on the
GPS and tracking it. It's been relatively well maintained over the
years, and while it could do with some UI modernization the code
behind it is all quite stable and mature.
- (old) GPS tools plugin: this plugin had tools for "non-realtime" GPS
conversions. E.g. a GPS track recorded on a device, which you then
pull into QGIS at a later stage. These are the tools targeted by this
grant.

Hope that helps clear up the situation!

Nyall

From a.neumann at carto.net  Thu Aug  5 02:45:04 2021
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 05 Aug 2021 11:45:04 +0200
Subject: [QGIS-Developer] Trigger atlas on another layer
Message-ID: <df0b9f8b59c62416e070403bd242615b@carto.net>

Hi,

I have two layers:

  	* layer 1 for editing
  	* layer 2 with joins, aggregates, etc. as a Postgis view prepared to 
be used for an Atlas

Both layers share the same primary keys.

Question: could I trigger the atlas (of a selected single feature) from 
layer 2 from the form/table of layer 1?  With an action and some Python 
code? Are there Python code examples around on how I could achieve that?

Reasoning: layer 2 is only a helper construct. The GIS operator is 
supposed to work with layer 1 and ideally the atlas could be triggered 
from layer 1, even though it is defined on layer 2.

Thank you for any ideas,

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210805/2f51e0a9/attachment.html>

From jorgealmerio at yahoo.com.br  Thu Aug  5 05:07:41 2021
From: jorgealmerio at yahoo.com.br (jorgealmerio at yahoo.com.br)
Date: Thu, 5 Aug 2021 09:07:41 -0300
Subject: [QGIS-Developer] Qgis 3.20 x Windows 7
References: <00c101d789f2$7f082490$7d186db0$.ref@yahoo.com.br>
Message-ID: <00c101d789f2$7f082490$7d186db0$@yahoo.com.br>

Hi folks,

 

Is Qgis 3.20 not compatible with windows 7? 

Is that true? 

I installed it yesterday and have no processing tool or python command line
working! 

Did I do something wrong?

 

Regards,

 

Jorge Almerio

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210805/7b39368d/attachment.html>

From a.neumann at carto.net  Thu Aug  5 05:13:04 2021
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 05 Aug 2021 14:13:04 +0200
Subject: [QGIS-Developer] Qgis 3.20 x Windows 7
In-Reply-To: <00c101d789f2$7f082490$7d186db0$@yahoo.com.br>
References: <00c101d789f2$7f082490$7d186db0$.ref@yahoo.com.br>
 <00c101d789f2$7f082490$7d186db0$@yahoo.com.br>
Message-ID: <8045a0558e105919b97b084a81b179ed@carto.net>

Hi Jorge,

Yes - that is the case.

The download page states the following:

https://www.qgis.org/en/site/forusers/download.html

_CAUTION:_ Windows 7 no longer works as we are now using Python 3.9, 
which dropped support for it.

Greetings,

Andreas

On 2021-08-05 14:07, jorgealmerio at yahoo.com.br wrote:

> Hi folks,
> 
> Is Qgis 3.20 not compatible with windows 7?
> 
> Is that true?
> 
> I installed it yesterday and have no processing tool or python command 
> line working!
> 
> Did I do something wrong?
> 
> Regards,
> 
> Jorge Almerio
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210805/1b3cfc17/attachment.html>

From jef at norbit.de  Thu Aug  5 07:37:32 2021
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Thu, 5 Aug 2021 16:37:32 +0200
Subject: [QGIS-Developer] Grant report: Integrate GPS Tools plugin
 functionality into core QGIS
In-Reply-To: <CAB28AsiY_J6inForEwOPaUVPZ+Xw48NrfPxZQpu6YyFQHNXR2w@mail.gmail.com>
References: <CAB28Asij6PGtC8_8hK16er6C6q5VB3D1vAPxs-Q0XUWsGvnN7A@mail.gmail.com>
 <8b123c06-8eec-23b1-e937-2f2eb8d1b0be@duif.net>
 <CAB28AsiY_J6inForEwOPaUVPZ+Xw48NrfPxZQpu6YyFQHNXR2w@mail.gmail.com>
Message-ID: <20210805143732.4imcmefxhtoiq24g@norbit.de>

Hi,

On Thu, 05. Aug 2021 at 09:56:49 +1000, Nyall Dawson wrote:
> - GPS Information panel: this is the live/interactive view of a GPS
> connection, and is responsible for showing the current position on the
> GPS and tracking it. It's been relatively well maintained over the
> years, and while it could do with some UI modernization the code
> behind it is all quite stable and mature.

Which reminds me that the info panel is the only part that depends on qwtpolar.
So a potential UI modernization might also remove external/qwtpolar-1.1.1/,
which we have just for this.


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                 IRC: jef on Libera|OFTC
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210805/fbd72e14/attachment-0001.sig>

From a.neumann at carto.net  Thu Aug  5 07:47:28 2021
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 05 Aug 2021 16:47:28 +0200
Subject: [QGIS-Developer] Grant report: Integrate GPS Tools plugin
 functionality into core QGIS
In-Reply-To: <20210805143732.4imcmefxhtoiq24g@norbit.de>
References: <CAB28Asij6PGtC8_8hK16er6C6q5VB3D1vAPxs-Q0XUWsGvnN7A@mail.gmail.com>
 <8b123c06-8eec-23b1-e937-2f2eb8d1b0be@duif.net>
 <CAB28AsiY_J6inForEwOPaUVPZ+Xw48NrfPxZQpu6YyFQHNXR2w@mail.gmail.com>
 <20210805143732.4imcmefxhtoiq24g@norbit.de>
Message-ID: <6eaeb1d287cd0acb9adac6a0022bf141@carto.net>

+1 - if it would be possible to remove the qwtpolar dependency (but 
apprently not part of this grant).

I remember I had troubles in the past because qwtpolar dependencies.

Andreas

On 2021-08-05 16:37, J?rgen E. Fischer wrote:

> Hi,
> 
> On Thu, 05. Aug 2021 at 09:56:49 +1000, Nyall Dawson wrote:
> 
>> - GPS Information panel: this is the live/interactive view of a GPS
>> connection, and is responsible for showing the current position on the
>> GPS and tracking it. It's been relatively well maintained over the
>> years, and while it could do with some UI modernization the code
>> behind it is all quite stable and mature.
> 
> Which reminds me that the info panel is the only part that depends on 
> qwtpolar.
> So a potential UI modernization might also remove 
> external/qwtpolar-1.1.1/,
> which we have just for this.
> 
> J?rgen
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210805/b3c4f846/attachment.html>

From senhor.neto at gmail.com  Thu Aug  5 08:56:10 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Thu, 5 Aug 2021 16:56:10 +0100
Subject: [QGIS-Developer] Trigger atlas on another layer
In-Reply-To: <df0b9f8b59c62416e070403bd242615b@carto.net>
References: <df0b9f8b59c62416e070403bd242615b@carto.net>
Message-ID: <CA+H0G_FAor8bet2WdfDmNFkOm4PhQdd_5C-Dt_=E_QAekfYboA@mail.gmail.com>

What do you mean by trigger atlas?

A quinta, 5/08/2021, 10:55, Andreas Neumann <a.neumann at carto.net> escreveu:

> Hi,
>
> I have two layers:
>
>    - layer 1 for editing
>    - layer 2 with joins, aggregates, etc. as a Postgis view prepared to
>    be used for an Atlas
>
> Both layers share the same primary keys.
>
> Question: could I trigger the atlas (of a selected single feature) from
> layer 2 from the form/table of layer 1?  With an action and some Python
> code? Are there Python code examples around on how I could achieve that?
>
> Reasoning: layer 2 is only a helper construct. The GIS operator is
> supposed to work with layer 1 and ideally the atlas could be triggered from
> layer 1, even though it is defined on layer 2.
>
> Thank you for any ideas,
>
> Andreas
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210805/9b796189/attachment.html>

From adenaculture at gmail.com  Fri Aug  6 06:45:22 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Fri, 6 Aug 2021 09:45:22 -0400
Subject: [QGIS-Developer] QGIS WFS Bug
Message-ID: <CABPxTTopUHmXN4bzNZ7Y9eUQQTcgnOwWoEbi5TouCE5MEnq=TA@mail.gmail.com>

I believe there is a bug in the QGIS WFS GetFeature request. Can someone
verify?  I have tested this on Windows with QGIS 3.16 up through 3.20.  I
found it because QGIS is failing with one of our WFS servers. The WFS
specification for 1.0.0 and 1.1.0 specifies that one form of the SRSNAME
urn looks like

SRSNAME=urn:ogc:def:crs:EPSG:4326

Note that there is one colon between EPSG and 4326. The WFS 2.0.0
specification has two colons between EPSG and 4326.

SRSNAME=urn:ogc:def:crs:EPSG::4326

The server I am working with does not support the 2.0.0 specification and
strictly enforces the one colon rule.

Unfortunately, QGIS is sending out two colons for the 1.1.0 GetFeature
request which the WFS server immediately rejects. There is another oddity,
if I specifically add VERSION=1.0.0 to the WFS URL, QGIS does not seem to
respect that I really want to use 1.0.0 and sees that the server supports
1.1.0 and uses it instead. I tried this to see if the 1.0.0 protocol had
the same problem.

Can someone verify that this is a bug and that I am not missing something?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210806/6a1039de/attachment.html>

From osgeo.mailinglist at gmail.com  Fri Aug  6 13:42:46 2021
From: osgeo.mailinglist at gmail.com (Thomas Gratier)
Date: Fri, 6 Aug 2021 22:42:46 +0200
Subject: [QGIS-Developer] Qgis 3.20 x Windows 7
In-Reply-To: <00c101d789f2$7f082490$7d186db0$@yahoo.com.br>
References: <00c101d789f2$7f082490$7d186db0$.ref@yahoo.com.br>
 <00c101d789f2$7f082490$7d186db0$@yahoo.com.br>
Message-ID: <CACPZzQ0dmG+uXzqJELXAZx3T9U+CRSJ9CUAw_hE=pVxVBcuVcA@mail.gmail.com>

Hi Jorge,

QGIS Windows installers use now Python 3.9 as stated in
https://qgis.org/fr/site/forusers/download.html
Also, as stated in the same link when clicking on Windows.

*    CAUTION:* Windows 7 no longer works as we are now using Python 3.9,
which dropped support for it.

That explains why QGIS 3.20 does not work as expected on Windows 7. Use
"old OSGeo4W" installers to install QGIS 3.16 with older Python version as
QGIS 3.20 is only available with new installer and a Python version
incompatible with Windows 7.


Regards

Thomas

Le jeu. 5 ao?t 2021 ? 14:08, <jorgealmerio at yahoo.com.br> a ?crit :

> Hi folks,
>
>
>
> Is Qgis 3.20 not compatible with windows 7?
>
> Is that true?
>
> I installed it yesterday and have no processing tool or python command
> line working!
>
> Did I do something wrong?
>
>
>
> Regards,
>
>
>
> Jorge Almerio
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210806/b8e2f0e0/attachment.html>

From nyall.dawson at gmail.com  Sat Aug  7 15:18:03 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sun, 8 Aug 2021 08:18:03 +1000
Subject: [QGIS-Developer] QEP Proposal #230: Officially drop support for the
 SAGA provider (without removing it),
 show warning to all users when running SAGA tools
Message-ID: <CAB28AsjvzaCgnywkZbPt9iTyeVQSH+Uq5k9dPd=Ze7rMUoJ3dw@mail.gmail.com>

Hi all,

Please see https://github.com/qgis/QGIS-Enhancement-Proposals/issues/230
for a newly filed QEP for discussion regarding officially marking the
SAGA Processing provider as unsupported by QGIS. Note that this
proposal does NOT include removal of the tools, rather just seeks to
add a user-facing warning that the tools are not supported. It also
seeks to formalise a policy where no bug reports will be accepted by
QGIS regarding this provider.

Discussion and comments on the github page are welcome!

Nyall

From lfi at ign.ku.dk  Sun Aug  8 09:06:16 2021
From: lfi at ign.ku.dk (Lene Fischer)
Date: Sun, 8 Aug 2021 16:06:16 +0000
Subject: [QGIS-Developer] Change size of Cursor in New Map Window
Message-ID: <9408497c318c41068f7373fccd8155e5@ign.ku.dk>

Hi,
I?m using 'New map window' and in the settings set 'Show cursor position'
But the cursor are so tiny I can hardly see it. 
Anyone know how to change this ? - Not 'New glasses' ;-)

Regards

Lene Fischer
Associate Professor

University of Copenhagen
Department of Geosciences and Natural Resource Management Forest and Landscape College N?debovej 77a
3480 Fredensborg

MOB +45 40115084
lfi at ign.ku.dk

From rdmailings at duif.net  Sun Aug  8 11:22:08 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sun, 8 Aug 2021 20:22:08 +0200
Subject: [QGIS-Developer] QGIS WFS Bug
In-Reply-To: <CABPxTTopUHmXN4bzNZ7Y9eUQQTcgnOwWoEbi5TouCE5MEnq=TA@mail.gmail.com>
References: <CABPxTTopUHmXN4bzNZ7Y9eUQQTcgnOwWoEbi5TouCE5MEnq=TA@mail.gmail.com>
Message-ID: <6dab0ae9-22cc-7d75-c39a-5bcde52f4183@duif.net>

Hi Chris,

Can you share the url, is it public?

Please test our wfs: https://geodata.nationaalgeoregister.nl/bestuurlijkegrenzen/wfs and load 'provincies' ( provinces, just 12 :-) ).
That server handles 1.0.0 till 2.0.0.

But if I get features from it using 1.0.0 (forcing QGIS use 1.0.0 in the provider dialog, the "VERSION=1.0.0" is always eaten from it if I am correct). I see "EPSG:28992" (plain, NOT the urn version) (in case you use our national crs). And if I am correct, THAT is correct in that the urn-version was (in my memory, others please correct me) introduced in later WFS versions.

Could it be that you server is actually presenting the urn version to QGIS (if requesting capabilities in 1.0.0 format) and that QGIS actually just 'uses' what it receives from the capabilities?

The server(!) above returns different forms in capabilities (and QGIS seems to use those):

<SRS>EPSG:28992</SRS> for 1.0.0 (did you find notion of the use of urn crs identifiers in the 1.0.0 spec?)

<DefaultSRS>urn:x-ogc:def:crs:EPSG:28992</DefaultSRS> for 1.1.0

<DefaultCRS>urn:ogc:def:crs:EPSG::28992</DefaultCRS> for 2.0.0

NOTE all the different types and number of colons!!!

OGC did mess too much with the src/crs/x/y etc etc in my opinion between versions :-)

Regards,

Richard Duivenvoorde

On 8/6/21 3:45 PM, C Hamilton wrote:
> I believe there is a bug in the QGIS WFS GetFeature request. Can someone verify? ?I have tested this on Windows with QGIS 3.16 up through 3.20.??I found it because QGIS is failing with one of our WFS servers. The WFS specification for 1.0.0 and 1.1.0 specifies that one form of the SRSNAME urn looks like
> 
> SRSNAME=urn:ogc:def:crs:EPSG:4326
> 
> Note that there is one colon between EPSG and 4326. The WFS 2.0.0 specification has two colons between EPSG and 4326.
> 
> SRSNAME=urn:ogc:def:crs:EPSG::4326
> 
> The server I am working with does not support the 2.0.0 specification and strictly enforces?the one colon rule.
> 
> Unfortunately, QGIS is sending out two colons for the 1.1.0 GetFeature request which the WFS server immediately rejects. There is another oddity, if I specifically add VERSION=1.0.0 to the WFS URL, QGIS does not seem to respect that I really want to use 1.0.0 and sees that the server supports 1.1.0 and uses it instead. I tried this to see if the 1.0.0 protocol had the same problem.
> 
> Can someone verify that this is a bug and that I am not missing something?
> 
> Thanks,
> 
> Calvin
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From variablestarlight at gmail.com  Mon Aug  9 06:33:20 2021
From: variablestarlight at gmail.com (=?UTF-8?Q?Hern=c3=a1n_De_Angelis?=)
Date: Mon, 9 Aug 2021 15:33:20 +0200
Subject: [QGIS-Developer] QGIS build failure with QWT 6.2.0 (Linux openSUSE
 Tumbleweed)
Message-ID: <57ee2912-fa68-499d-7db8-f0f5c496c7a2@gmail.com>

Hi

This is not a bug report about QGIS, just a note about something that 
might be problematic for others as well and that may need eventual 
attention.

I am experiencing fatal problems building QGIS 3.20.0 and 3.20.1 in 
openSUSE Tumbleweed after QWT was updated to the latest 6.2.0. Errors 
are of the type:

error: invalid use of incomplete type ?const class QwtScaleDiv?

(and with several other QWT classes as well)

Apparently, the cause seems to be related to changes introduced in QWT 
6.2.0 (as far as I understand "qwt_compat.h" has been removed, as 
reported here: https://github.com/gnuradio/gnuradio/issues/4956)

I have not yet found a solution or work around that does not involve 
reverting to a previous version of QWT.

/H.



From nyall.dawson at gmail.com  Mon Aug  9 15:03:25 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 10 Aug 2021 08:03:25 +1000
Subject: [QGIS-Developer] QGIS build failure with QWT 6.2.0 (Linux
 openSUSE Tumbleweed)
In-Reply-To: <57ee2912-fa68-499d-7db8-f0f5c496c7a2@gmail.com>
References: <57ee2912-fa68-499d-7db8-f0f5c496c7a2@gmail.com>
Message-ID: <CAB28AsgLyNiqzpxXTLhKA-k2dswM7b7Re53h=HJUieNR3N2xNg@mail.gmail.com>

On Mon, 9 Aug 2021 at 23:34, Hern?n De Angelis
<variablestarlight at gmail.com> wrote:
>
> Hi
>
> This is not a bug report about QGIS, just a note about something that
> might be problematic for others as well and that may need eventual
> attention.
>
> I am experiencing fatal problems building QGIS 3.20.0 and 3.20.1 in
> openSUSE Tumbleweed after QWT was updated to the latest 6.2.0. Errors
> are of the type:
>
> error: invalid use of incomplete type ?const class QwtScaleDiv?
>
> (and with several other QWT classes as well)
>
> Apparently, the cause seems to be related to changes introduced in QWT
> 6.2.0 (as far as I understand "qwt_compat.h" has been removed, as
> reported here: https://github.com/gnuradio/gnuradio/issues/4956)
>
> I have not yet found a solution or work around that does not involve
> reverting to a previous version of QWT.

This is fixed already in the master branch.

Nyall

From nyall.dawson at gmail.com  Wed Aug 11 03:24:25 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 11 Aug 2021 20:24:25 +1000
Subject: [QGIS-Developer] Urgent: news feed certificate has expired again
Message-ID: <CAB28AsjcJiuj7Vfar3Jfugem3=qxHDciEn3HL3QtArn8Fz6veg@mail.gmail.com>

Hi all,

Can someone renew the certificate for the news feed again?
(https://feed.qgis.org/) It's expired again so our users are getting
an error on startup.

(Perhaps we should just revert this to a non secure feed?)

Nyall

From nirvn.asia at gmail.com  Wed Aug 11 03:26:48 2021
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Wed, 11 Aug 2021 17:26:48 +0700
Subject: [QGIS-Developer] [Qgis-psc] Urgent: news feed certificate has
 expired again
In-Reply-To: <CAB28AsjcJiuj7Vfar3Jfugem3=qxHDciEn3HL3QtArn8Fz6veg@mail.gmail.com>
References: <CAB28AsjcJiuj7Vfar3Jfugem3=qxHDciEn3HL3QtArn8Fz6veg@mail.gmail.com>
Message-ID: <CAC_qv=p7=ky-BDR3Mt+Cx5f=8-PYVG1Wx25HCLxhGoUWkqNbRQ@mail.gmail.com>

-1 on non secure feed, opens the door wide open for injection attacks.

It would be nice to have some form of automated reminder so we avoid these
unfortunate lapses as much as possible though :)

On Wed, Aug 11, 2021 at 5:25 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> Hi all,
>
> Can someone renew the certificate for the news feed again?
> (https://feed.qgis.org/) It's expired again so our users are getting
> an error on startup.
>
> (Perhaps we should just revert this to a non secure feed?)
>
> Nyall
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210811/916985cd/attachment.html>

From marco at qgis.org  Wed Aug 11 03:37:03 2021
From: marco at qgis.org (Marco Bernasocchi)
Date: Wed, 11 Aug 2021 12:37:03 +0200
Subject: [QGIS-Developer] [Qgis-psc] Urgent: news feed certificate has
 expired again
In-Reply-To: <CAC_qv=p7=ky-BDR3Mt+Cx5f=8-PYVG1Wx25HCLxhGoUWkqNbRQ@mail.gmail.com>
References: <CAB28AsjcJiuj7Vfar3Jfugem3=qxHDciEn3HL3QtArn8Fz6veg@mail.gmail.com>
 <CAC_qv=p7=ky-BDR3Mt+Cx5f=8-PYVG1Wx25HCLxhGoUWkqNbRQ@mail.gmail.com>
Message-ID: <CAB2ZMRCqOx9JGBvWgn+3SFvVX3R1WMpdWo27q0NpbMGhYnrXhQ@mail.gmail.com>

mmmh, should be automatically renewing iirc.

@Tim Sutton <tim at kartoza.com> could you check?

cheers
Marco

On Wed, 11 Aug 2021, 12:27 Mathieu Pellerin, <nirvn.asia at gmail.com> wrote:

> -1 on non secure feed, opens the door wide open for injection attacks.
>
> It would be nice to have some form of automated reminder so we avoid these
> unfortunate lapses as much as possible though :)
>
> On Wed, Aug 11, 2021 at 5:25 PM Nyall Dawson <nyall.dawson at gmail.com>
> wrote:
>
>> Hi all,
>>
>> Can someone renew the certificate for the news feed again?
>> (https://feed.qgis.org/) It's expired again so our users are getting
>> an error on startup.
>>
>> (Perhaps we should just revert this to a non secure feed?)
>>
>> Nyall
>> _______________________________________________
>> Qgis-psc mailing list
>> Qgis-psc at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210811/fa52d921/attachment.html>

From tim at kartoza.com  Wed Aug 11 03:38:41 2021
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 11 Aug 2021 11:38:41 +0100
Subject: [QGIS-Developer] [Qgis-psc] Urgent: news feed certificate has
 expired again
In-Reply-To: <CAB2ZMRCqOx9JGBvWgn+3SFvVX3R1WMpdWo27q0NpbMGhYnrXhQ@mail.gmail.com>
References: <CAB28AsjcJiuj7Vfar3Jfugem3=qxHDciEn3HL3QtArn8Fz6veg@mail.gmail.com>
 <CAC_qv=p7=ky-BDR3Mt+Cx5f=8-PYVG1Wx25HCLxhGoUWkqNbRQ@mail.gmail.com>
 <CAB2ZMRCqOx9JGBvWgn+3SFvVX3R1WMpdWo27q0NpbMGhYnrXhQ@mail.gmail.com>
Message-ID: <CAES-DZREL6ToYi--=jXiLtXS80YfOeOg_j=FXum6Y+TAAFOqew@mail.gmail.com>

Hi

It is fixed. It seems we were missing a blank line at the end of the cron
file. I hope it is fixed forever now!

Regards

Tim

On Wed, Aug 11, 2021 at 11:37 AM Marco Bernasocchi <marco at qgis.org> wrote:

> mmmh, should be automatically renewing iirc.
>
> @Tim Sutton <tim at kartoza.com> could you check?
>
> cheers
> Marco
>
> On Wed, 11 Aug 2021, 12:27 Mathieu Pellerin, <nirvn.asia at gmail.com> wrote:
>
>> -1 on non secure feed, opens the door wide open for injection attacks.
>>
>> It would be nice to have some form of automated reminder so we avoid
>> these unfortunate lapses as much as possible though :)
>>
>> On Wed, Aug 11, 2021 at 5:25 PM Nyall Dawson <nyall.dawson at gmail.com>
>> wrote:
>>
>>> Hi all,
>>>
>>> Can someone renew the certificate for the news feed again?
>>> (https://feed.qgis.org/) It's expired again so our users are getting
>>> an error on startup.
>>>
>>> (Perhaps we should just revert this to a non secure feed?)
>>>
>>> Nyall
>>> _______________________________________________
>>> Qgis-psc mailing list
>>> Qgis-psc at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>>
>> _______________________________________________
>> Qgis-psc mailing list
>> Qgis-psc at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>
>

-- 
------------------------------------------------------------------------------------------
?

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210811/dc8a8c9f/attachment.html>

From matthias at opengis.ch  Wed Aug 11 03:53:18 2021
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 11 Aug 2021 12:53:18 +0200
Subject: [QGIS-Developer] [Qgis-psc] Urgent: news feed certificate has
 expired again
In-Reply-To: <CAES-DZREL6ToYi--=jXiLtXS80YfOeOg_j=FXum6Y+TAAFOqew@mail.gmail.com>
References: <CAB28AsjcJiuj7Vfar3Jfugem3=qxHDciEn3HL3QtArn8Fz6veg@mail.gmail.com>
 <CAC_qv=p7=ky-BDR3Mt+Cx5f=8-PYVG1Wx25HCLxhGoUWkqNbRQ@mail.gmail.com>
 <CAB2ZMRCqOx9JGBvWgn+3SFvVX3R1WMpdWo27q0NpbMGhYnrXhQ@mail.gmail.com>
 <CAES-DZREL6ToYi--=jXiLtXS80YfOeOg_j=FXum6Y+TAAFOqew@mail.gmail.com>
Message-ID: <CAC7zN94GT-Z0zXhfFbS3M247nKoJHneERQ-GjyDTvnRg0JkpjQ@mail.gmail.com>

Thanks Tim

On Wed, Aug 11, 2021 at 12:38 PM Tim Sutton <tim at kartoza.com> wrote:

> Hi
>
> It is fixed. It seems we were missing a blank line at the end of the cron
> file. I hope it is fixed forever now!
>
> Regards
>
> Tim
>
> On Wed, Aug 11, 2021 at 11:37 AM Marco Bernasocchi <marco at qgis.org> wrote:
>
>> mmmh, should be automatically renewing iirc.
>>
>> @Tim Sutton <tim at kartoza.com> could you check?
>>
>> cheers
>> Marco
>>
>> On Wed, 11 Aug 2021, 12:27 Mathieu Pellerin, <nirvn.asia at gmail.com>
>> wrote:
>>
>>> -1 on non secure feed, opens the door wide open for injection attacks.
>>>
>>> It would be nice to have some form of automated reminder so we avoid
>>> these unfortunate lapses as much as possible though :)
>>>
>>> On Wed, Aug 11, 2021 at 5:25 PM Nyall Dawson <nyall.dawson at gmail.com>
>>> wrote:
>>>
>>>> Hi all,
>>>>
>>>> Can someone renew the certificate for the news feed again?
>>>> (https://feed.qgis.org/) It's expired again so our users are getting
>>>> an error on startup.
>>>>
>>>> (Perhaps we should just revert this to a non secure feed?)
>>>>
>>>> Nyall
>>>> _______________________________________________
>>>> Qgis-psc mailing list
>>>> Qgis-psc at lists.osgeo.org
>>>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>>>
>>> _______________________________________________
>>> Qgis-psc mailing list
>>> Qgis-psc at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
>>>
>>
>
> --
>
> ------------------------------------------------------------------------------------------
> ?
>
> Tim Sutton
> Visit http://kartoza.com to find out about open source:
>  * Desktop GIS programming services
>  * Geospatial web development
> * GIS Training
> * Consulting Services
> Tim is a member of the QGIS Project Steering Committee
>
> -------------------------------------------------------------------------------------------
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210811/675c1d9f/attachment-0001.html>

From rdmailings at duif.net  Wed Aug 11 03:55:03 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 11 Aug 2021 12:55:03 +0200
Subject: [QGIS-Developer] [Qgis-psc] Urgent: news feed certificate has
 expired again
In-Reply-To: <CAC_qv=p7=ky-BDR3Mt+Cx5f=8-PYVG1Wx25HCLxhGoUWkqNbRQ@mail.gmail.com>
References: <CAB28AsjcJiuj7Vfar3Jfugem3=qxHDciEn3HL3QtArn8Fz6veg@mail.gmail.com>
 <CAC_qv=p7=ky-BDR3Mt+Cx5f=8-PYVG1Wx25HCLxhGoUWkqNbRQ@mail.gmail.com>
Message-ID: <bc6eabd5-05d5-3ed0-8c50-fcd17b3866b0@duif.net>

On 8/11/21 12:26 PM, Mathieu Pellerin wrote:
> -1 on non secure feed, opens the door wide open for injection attacks.
> 
> It would be nice to have some form of automated reminder so we avoid these unfortunate lapses as much as possible though :)

Well, actually we already have, the msg is sent to admin at qgis.org, but... well... life

But we found out that the cronjob which should be doing it automagically was missing a newline on the end... so hopefull this was the last hickup...

Regards,
Richard Duivenvoorde


From nyall.dawson at gmail.com  Wed Aug 11 23:55:11 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 12 Aug 2021 16:55:11 +1000
Subject: [QGIS-Developer] [Qgis-psc] New repo on github
In-Reply-To: <CAB2ZMRDVz0RiicczLS_emLbxpC_u0Ug=xneA=6JVsaNDv5dp4Q@mail.gmail.com>
References: <CAB28AsjJF3JYsZt03o7qQMW7fMvye_tE_LEnMt38yPSL7Ab-Vw@mail.gmail.com>
 <CAB2ZMRDVz0RiicczLS_emLbxpC_u0Ug=xneA=6JVsaNDv5dp4Q@mail.gmail.com>
Message-ID: <CAB28Ash4-cecNTfw0AfgcbJYzzxc+-DGXYf5=h-AAVj_zP69GQ@mail.gmail.com>

Thanks Marco!

I've initialized this repo to match librecad's fork initially, and
will open PRs against it for the QGIS specific fixes (and other fixes
from various other random forks).

I've added the qgis-developers group too. If anyone's interested in
reviewing PRs, there's a bunch lined up already ;)
https://github.com/qgis/libdxfrw/pulls

Nyall

On Thu, 12 Aug 2021 at 16:31, Marco Bernasocchi <marco at qgis.org> wrote:
>
> Hi Nyall it's done.
> feel free to add the qgis-developers group or whoever needs write access.
>
> cheers Marco
>
> On Wed, 11 Aug 2021, 23:31 Nyall Dawson, <nyall.dawson at gmail.com> wrote:
>>
>> Hi PSC!
>>
>> Can someone with admin rights to QGIS github please create a new
>> "libdxfrw" repository, and grant me admin access to it?
>>
>> I'd like to start de-coupling this library from QGIS and moving the
>> QGIS specific amendments to it so that we can more closely track the
>> other versions of this library floating around. It's then possible
>> that http://github.com/qgis/libdxfrw could become the new, maintained
>> upstream for this library...
>>
>> Nyall
>> _______________________________________________
>> Qgis-psc mailing list
>> Qgis-psc at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/qgis-psc

From hege at hege.li  Thu Aug 12 23:55:37 2021
From: hege at hege.li (Henrik K)
Date: Fri, 13 Aug 2021 09:55:37 +0300
Subject: [QGIS-Developer] Compile fails on RHEL7
Message-ID: <20210813065537.GA3732185@hege.li>


Building on RHEL7 with GCC 10.2.1 fails here, any hints?

[ 41%] Linking CXX shared module ../../../../output/lib/qgis/server/liblandingpage.so
/opt/rh/devtoolset-10/root/usr/libexec/gcc/x86_64-redhat-linux/10/ld: CMakeFiles/landingpage.dir/qgslandingpage.cpp.o: in function `QgsProjectLoaderFilter::QgsProjectLoaderFilter(QgsServerInterface*)':
/home/wms/src/qgis-3.16.9-210812/src/server/services/landingpage/qgslandingpage.cpp:71: undefined reference to `QgsServerFilter::QgsServerFilter(QgsServerInterface*)'
/opt/rh/devtoolset-10/root/usr/libexec/gcc/x86_64-redhat-linux/10/ld: CMakeFiles/landingpage.dir/qgslandingpage.cpp.o:(.data.rel.ro._ZTI22QgsProjectLoaderFilter[_ZTI22QgsProjectLoaderFilter]+0x10): undefined reference to `typeinfo for QgsServerFilter'
/opt/rh/devtoolset-10/root/usr/libexec/gcc/x86_64-redhat-linux/10/ld: CMakeFiles/landingpage.dir/qgslandingpage.cpp.o:(.data.rel.ro._ZTV22QgsProjectLoaderFilter[_ZTV22QgsProjectLoaderFilter]+0x30): undefined reference to `QgsServerFilter::sendResponse()'
collect2: error: ld returned 1 exit status

(https://github.com/qgis/QGIS/issues/44668)

Cheers,
Henrik


From hege at hege.li  Fri Aug 13 00:43:02 2021
From: hege at hege.li (Henrik K)
Date: Fri, 13 Aug 2021 10:43:02 +0300
Subject: [QGIS-Developer] Compile fails on RHEL7
In-Reply-To: <20210813065537.GA3732185@hege.li>
References: <20210813065537.GA3732185@hege.li>
Message-ID: <20210813074302.GA3736436@hege.li>


On Fri, Aug 13, 2021 at 09:55:37AM +0300, Henrik K wrote:
> 
> Building on RHEL7 with GCC 10.2.1 fails here, any hints?
> 
> [ 41%] Linking CXX shared module ../../../../output/lib/qgis/server/liblandingpage.so
> /opt/rh/devtoolset-10/root/usr/libexec/gcc/x86_64-redhat-linux/10/ld: CMakeFiles/landingpage.dir/qgslandingpage.cpp.o: in function `QgsProjectLoaderFilter::QgsProjectLoaderFilter(QgsServerInterface*)':
> /home/wms/src/qgis-3.16.9-210812/src/server/services/landingpage/qgslandingpage.cpp:71: undefined reference to `QgsServerFilter::QgsServerFilter(QgsServerInterface*)'
> /opt/rh/devtoolset-10/root/usr/libexec/gcc/x86_64-redhat-linux/10/ld: CMakeFiles/landingpage.dir/qgslandingpage.cpp.o:(.data.rel.ro._ZTI22QgsProjectLoaderFilter[_ZTI22QgsProjectLoaderFilter]+0x10): undefined reference to `typeinfo for QgsServerFilter'
> /opt/rh/devtoolset-10/root/usr/libexec/gcc/x86_64-redhat-linux/10/ld: CMakeFiles/landingpage.dir/qgslandingpage.cpp.o:(.data.rel.ro._ZTV22QgsProjectLoaderFilter[_ZTV22QgsProjectLoaderFilter]+0x30): undefined reference to `QgsServerFilter::sendResponse()'
> collect2: error: ld returned 1 exit status
> 
> (https://github.com/qgis/QGIS/issues/44668)

I've tried devtoolset-8 and 9 too, no difference.

Also another problem trying to build 3.20

[  0%] Building CXX object src/core/CMakeFiles/qgis_core.dir/qgis_core_autogen/mocs_compilation.cpp.o
In file included from /home/wms/src/qgis-3.20.1-210812/build/src/core/qgis_core_autogen/mocs_compilation.cpp:171:
/home/wms/src/qgis-3.20.1-210812/build/src/core/qgis_core_autogen/EWIEGA46WW/moc_qgsfield.cpp:105:46: error: 'None' is not a member of 'QgsField::ConfigurationFlags' {aka 'QFlags<QgsField::ConfigurationFlag>'}
  105 |       18, uint(QgsField::ConfigurationFlags::None),
      |                                              ^~~~
/home/wms/src/qgis-3.20.1-210812/build/src/core/qgis_core_autogen/EWIEGA46WW/moc_qgsfield.cpp:106:46: error: 'NotSearchable' is not a member of 'QgsField::ConfigurationFlags' {aka 'QFlags<QgsField::ConfigurationFlag>'}
  106 |       19, uint(QgsField::ConfigurationFlags::NotSearchable),
      |                                              ^~~~~~~~~~~~~
/home/wms/src/qgis-3.20.1-210812/build/src/core/qgis_core_autogen/EWIEGA46WW/moc_qgsfield.cpp:107:46: error: 'HideFromWms' is not a member of 'QgsField::ConfigurationFlags' {aka 'QFlags<QgsField::ConfigurationFlag>'}
  107 |       20, uint(QgsField::ConfigurationFlags::HideFromWms),
      |                                              ^~~~~~~~~~~
/home/wms/src/qgis-3.20.1-210812/build/src/core/qgis_core_autogen/EWIEGA46WW/moc_qgsfield.cpp:108:46: error: 'HideFromWfs' is not a member of 'QgsField::ConfigurationFlags' {aka 'QFlags<QgsField::ConfigurationFlag>'}
  108 |       21, uint(QgsField::ConfigurationFlags::HideFromWfs),
      |                                              ^~~~~~~~~~~
make[2]: *** [src/core/CMakeFiles/qgis_core.dir/qgis_core_autogen/mocs_compilation.cpp.o] Error 1

(https://github.com/qgis/QGIS/issues/44681)


From jfolgado94 at gmail.com  Mon Aug 16 03:21:51 2021
From: jfolgado94 at gmail.com (Joao Folgado)
Date: Mon, 16 Aug 2021 11:21:51 +0100
Subject: [QGIS-Developer] Multiprocessing
Message-ID: <CAA7KATmhQpbU_xa_KOi9Rpgy9X=AW+8vYcFwM2S_h=+V6r9WqA@mail.gmail.com>

Hi developers!

Any idea on how to use multiprocessing in Qgis Plugin?
I had asked this question a month ago, but no one had an answer to me.
I had trai everything but was unsuccessful ;/. In the company we work with
a lot of data in Qgis and the plugin works fine, but on some occasions
takes a lot of time.

If anyone can help I appreciate it.

Best regards
JO?O FOLGADO
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210816/dca18aad/attachment.html>

From ernst at pleiszenburg.de  Mon Aug 16 10:59:31 2021
From: ernst at pleiszenburg.de (Sebastian M. Ernst)
Date: Mon, 16 Aug 2021 19:59:31 +0200
Subject: [QGIS-Developer] Multiprocessing
In-Reply-To: <CAA7KATmhQpbU_xa_KOi9Rpgy9X=AW+8vYcFwM2S_h=+V6r9WqA@mail.gmail.com>
References: <CAA7KATmhQpbU_xa_KOi9Rpgy9X=AW+8vYcFwM2S_h=+V6r9WqA@mail.gmail.com>
Message-ID: <95c36e3d-ad5b-7aee-f040-e985ad56a9e6@pleiszenburg.de>

Hi Joao,

see this earlier (March 2021) discussion on this very mailing list:

https://lists.osgeo.org/pipermail/qgis-developer/2021-March/063359.html

The current state-of-the-art plus examples and limitations is documented
here:

https://lists.osgeo.org/pipermail/qgis-developer/2021-March/063430.html

Best regards,
Sebastian


Am 16.08.21 um 12:21 schrieb Joao Folgado:
> Hi developers!
> 
> Any idea on how to use multiprocessing?in Qgis Plugin?
> I had asked this question a month ago, but no one had an answer to me.
> I had trai everything?but was unsuccessful ;/. In the company we work
> with a lot of data in Qgis and the plugin works fine, but on some
> occasions takes a lot of time.
> 
> If anyone can help I appreciate it.
> 
> Best regards
> JO?O FOLGADO
> 

From francesco.bursi at hotmail.it  Wed Aug 18 23:55:56 2021
From: francesco.bursi at hotmail.it (Francesco Bursi)
Date: Thu, 19 Aug 2021 06:55:56 +0000
Subject: [QGIS-Developer] GSoC 2021 Final Report
Message-ID: <DB9P193MB1676A42F74E431F1F383D26C80C09@DB9P193MB1676.EURP193.PROD.OUTLOOK.COM>

Hi all,

Since Google Summer of Code is coming to and end I would like to share my final report. I tried to summurize the main information about the feature I've worked on, you can find the link in [1].
I also wrote weekly record during this summer that you can find on the OSGeo wiki page [2].
Thank you for the feedback and for the help that I recevied here, from the two mentors and in the preparation of the PR.

I'm looking forward to work with QGIS again!

[1] https://gist.github.com/Franc-Brs/b533fde3bec4ba16978c8fd2ef5e064f#file-gsoc2021-md
[2] https://wiki.osgeo.org/wiki/New_Virtual_Raster_Data_Provider_for_Raster_Calculator_in_QGIS

Best regards,

Francesco Bursi

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210819/b63c5bbf/attachment.html>

From Jean-Francois.Bourdon at mffp.gouv.qc.ca  Thu Aug 19 12:40:02 2021
From: Jean-Francois.Bourdon at mffp.gouv.qc.ca (=?iso-8859-1?Q?Bourdon=2C_Jean-Fran=E7ois_=28DIF=29?=)
Date: Thu, 19 Aug 2021 19:40:02 +0000
Subject: [QGIS-Developer] Using qgis_process with a specific profile
Message-ID: <QB1PR01MB2948630450D4E1EA397FB840B3C09@QB1PR01MB2948.CANPRD01.PROD.OUTLOOK.COM>

[Intranet logo]
Hi all,

Is it possible to specify to qgis_process which profile to use in a similar way we can start QGIS with parameters --profiles-path and --profile ? Thoses commands are not recognized by qgis_process (at least in 3.20.0).

Thanks

Jean-Fran?ois Bourdon, ing.f.
Analyste en t?l?d?tection
Direction des inventaires forestiers
Minist?re des For?ts, de la Faune et des Parcs
5700, 4e Avenue Ouest, local A-108
Qu?bec (Qu?bec) G1H 6R1
T?l?phone : 418 627-8669, poste 704304
jean-francois.bourdon at mffp.gouv.qc.ca
mffp.gouv.qc.ca<http://www.mffp.gouv.qc.ca/accueil.jsp>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210819/ef0dfef9/attachment.html>

From senhor.neto at gmail.com  Thu Aug 19 14:59:14 2021
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Thu, 19 Aug 2021 22:59:14 +0100
Subject: [QGIS-Developer] Using qgis_process with a specific profile
In-Reply-To: <QB1PR01MB2948630450D4E1EA397FB840B3C09@QB1PR01MB2948.CANPRD01.PROD.OUTLOOK.COM>
References: <QB1PR01MB2948630450D4E1EA397FB840B3C09@QB1PR01MB2948.CANPRD01.PROD.OUTLOOK.COM>
Message-ID: <CA+H0G_EeJU=RnEcAXE4b8dNjMxLsXSonTCTQL=nVcQ=ZCKRRMA@mail.gmail.com>

Hello Jean-Fran?ois,

I am afraid not, yet. qgis_process will always use the default profile.

Best regards,

Alexandre Neto
User Support
www.Qcooperative.net

A quinta, 19/08/2021, 20:40, Bourdon, Jean-Fran?ois (DIF) <
Jean-Francois.Bourdon at mffp.gouv.qc.ca> escreveu:

> [image: Intranet logo]
>
> Hi all,
>
>
>
> Is it possible to specify to *qgis_process* which profile to use in a
> similar way we can start QGIS with parameters *--profiles-path* and
> *--profile* ? Thoses commands are not recognized by qgis_process (at
> least in 3.20.0).
>
>
>
> Thanks
>
>
>
> *Jean-Fran?ois Bourdon, ing.f.*
>
> *Analyste en t?l?d?tection*
> *Direction des inventaires forestiers*
> *Minist?re des For?ts, de la Faune et des Parcs*
> 5700, 4e Avenue Ouest, local A-108
> Qu?bec (Qu?bec) G1H 6R1
> T?l?phone : 418 627-8669, poste 704304
> *jean-francois.bourdon at mffp.gouv.qc.ca
> <jean-francois.bourdon at mffp.gouv.qc.ca>*
> *mffp.gouv.qc.ca* <http://www.mffp.gouv.qc.ca/accueil.jsp>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210819/00b2d124/attachment.html>

From JonHaycox at geosmartinfo.co.uk  Fri Aug 20 02:10:18 2021
From: JonHaycox at geosmartinfo.co.uk (Jon Haycox)
Date: Fri, 20 Aug 2021 09:10:18 +0000
Subject: [QGIS-Developer] Python Console - GRASS Error Popup
Message-ID: <LO2P123MB6102B469002E9D06D7BF67B19DC19@LO2P123MB6102.GBRP123.PROD.OUTLOOK.COM>

While running a script in the Python console in QGIS v3.16.10, I intermittently  get a GRASS error pop-up. The pop-up is a small box saying "unfortunately GRASS  7 has stopped working, please close the program". The program doesn't continue  further in execution when this is shown. Has anyone else had to troubleshoot  this error or found a workaround?

Thanks,
Jon.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210820/12eda395/attachment-0001.html>

From asimrp at lavabit.com  Fri Aug 20 06:08:52 2021
From: asimrp at lavabit.com (Asim)
Date: Fri, 20 Aug 2021 18:38:52 +0530
Subject: [QGIS-Developer] Crash in QgsAppication.initQgis()
Message-ID: <3729cdcb-0ee0-26b9-3723-e934f53a543e@lavabit.com>

Hello

I am a newcomer to GIS community and already excited by QGIS!? My first 
Python program using PyQGIS interface ends up crashing with SIGSEGV, 
please help!? I'm referring 
https://docs.qgis.org/3.16/en/docs/pyqgis_developer_cookbook/intro.html#python-applications.

The platform is MacOS and the rudimentary Python program I'm trying is:

 ??? from qgis.core import QgsApplication
QgsApplication.setPrefixPath('/Applications/QGIS-LTR.app/Contents/MacOS', 
True)
 ??? app = QgsApplication([], False)
 ??? app.initQgis() # SIGSEGV happens here

The stack trace indicates QgsProject failed to get created because 
sqlite3_create_function_v2() tried to de-reference a NULL pointer.? Full 
stack trace is attached.? Is this something MacOS specific?? Am I 
missing something obvious?

Asim



-------------- next part --------------
1   libsqlite3.dylib              	0x00007fff6f5b7654 createFunctionApi + 148
2   libsqlite3.dylib              	0x00007fff6f4f043a sqlite3_create_function_v2 + 26
3   libspatialite.7.dylib         	0x0000000115815200 register_spatialite_sql_functions + 96
4   libspatialite.7.dylib         	0x000000011586121b spatialite_init_ex + 107
5   org.qgis.qgis3_core           	0x000000010e689918 spatialite_database_unique_ptr::open_v2(QString const&, int, char const*) + 184
6   org.qgis.qgis3_core           	0x000000010e3c7d69 QgsAuxiliaryStorage::createDB(QString const&) + 41
7   org.qgis.qgis3_core           	0x000000010e3c60cf QgsAuxiliaryStorage::open(QString const&) + 335
8   org.qgis.qgis3_core           	0x000000010e3c6341 QgsAuxiliaryStorage::QgsAuxiliaryStorage(QString const&, bool) + 97
9   org.qgis.qgis3_core           	0x000000010e5dd111 QgsProject::QgsProject(QObject*) + 577
10  org.qgis.qgis3_core           	0x000000010e5e1bca QgsProject::instance() + 42
11  org.qgis.qgis3_core           	0x000000010dfecedb QgsStyleModel::QgsStyleModel(QgsStyle*, QObject*) + 1659
12  org.qgis.qgis3_core           	0x000000010e39617c QgsApplication::init(QString) + 4540
13  org.qgis.qgis3_core           	0x000000010e39ffaa QgsApplication::initQgis() + 234
14  _core.so                      	0x000000011d2e4931 meth_QgsApplication_initQgis(_object*, _object*) + 65
15  libpython3.8.dylib            	0x00000001066511ae cfunction_call_varargs + 286
16  libpython3.8.dylib            	0x00000001066509a5 _PyObject_MakeTpCall + 149
17  libpython3.8.dylib            	0x00000001066ee1c7 _PyEval_EvalFrameDefault + 34471
18  libpython3.8.dylib            	0x00000001066efc23 _PyEval_EvalCodeWithName + 563
19  libpython3.8.dylib            	0x00000001066e5a90 PyEval_EvalCode + 48
20  libpython3.8.dylib            	0x00000001067e5cd5 PyRun_InteractiveOneObjectEx + 741
21  libpython3.8.dylib            	0x00000001067e58e7 PyRun_InteractiveLoopFlags + 263
22  libpython3.8.dylib            	0x00000001067e57c5 PyRun_AnyFileExFlags + 85
23  libpython3.8.dylib            	0x00000001067f1792 pymain_run_stdin + 306
24  libpython3.8.dylib            	0x00000001067f0cf7 pymain_run_python + 343
25  libpython3.8.dylib            	0x00000001067f0b54 Py_RunMain + 20
26  libpython3.8.dylib            	0x00000001067f0ef3 pymain_main + 35
27  libpython3.8.dylib            	0x00000001067f0f57 Py_BytesMain + 39
28  libdyld.dylib                 	0x00007fff7051dcc9 start + 1

From t.barre at saferna.fr  Mon Aug 23 03:06:48 2021
From: t.barre at saferna.fr (BARRE Tristan)
Date: Mon, 23 Aug 2021 10:06:48 +0000
Subject: [QGIS-Developer] win32api in QGIS 3.10
Message-ID: <PR3PR06MB71482EBE5FCDA937E3F641D190C49@PR3PR06MB7148.eurprd06.prod.outlook.com>

Hi everybody,

I'm getting always this error when i try to import win32api in a QGIS plugin :

ImportError: DLL load failed The specified module could not be found

I've tried in python console, same result. I've tried in python console to get all available modules with help('module'), this time i have a new error :


Traceback (most recent call last): The specified file could not be found

  File "C:/OSGEO4~1/apps/qgis-ltr/./python\console\console_sci.py", line 435, in keyPressEvent

    self.entered()

  File "C:/OSGEO4~1/apps/qgis-ltr/./python\console\console_sci.py", line 603, in entered

    self.runCommand(self.currentCommand())

  File "C:/OSGEO4~1/apps/qgis-ltr/./python\console\console_sci.py", line 616, in runCommand

    import webbrowser

  File "C:/OSGEO4~1/apps/qgis-ltr/./python\qgis\utils.py", line 784, in _import

    _import_paths[p] = _AddDllDirectory(p)

  File "C:/OSGEO4~1/apps/qgis-ltr/./python\qgis\utils.py", line 731, in _errcheck_zero

    raise ctypes.WinError(ctypes.get_last_error())

FileNotFoundError: [WinError 2]

For several days, i've been on the problem, without finding a solution.

Regards.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210823/65da1bb7/attachment.html>

From adenaculture at gmail.com  Mon Aug 23 09:54:56 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Mon, 23 Aug 2021 16:54:56 +0000
Subject: [QGIS-Developer] processAlgorithm vs processFeature?
Message-ID: <CABPxTTpp3F8TFCPv1xNLDD14LsVa9Upg6xXX4T=w2672FouXeQ@mail.gmail.com>

I discovered that it looks like there is another way to deal with
processing algorithms. Rather than use processAlgorithm it looks like I can
use prepareAlgorithm & processFeature. I have always used processAlgorithm
and then iterated through the features.

Is processFeature just as quick as using processAlgorithm (iterating
through the features)? Is one method preferred over the other? I think for
some algorithms using processFeature would make the code look cleaner. Are
there any gotchas in using the processFeature method?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210823/27ac6aa7/attachment.html>

From ujaval at spatialthoughts.com  Mon Aug 23 19:55:06 2021
From: ujaval at spatialthoughts.com (Ujaval Gandhi)
Date: Tue, 24 Aug 2021 08:25:06 +0530
Subject: [QGIS-Developer] [Qgis-user] processAlgorithm vs processFeature?
In-Reply-To: <CABPxTTpp3F8TFCPv1xNLDD14LsVa9Upg6xXX4T=w2672FouXeQ@mail.gmail.com>
References: <CABPxTTpp3F8TFCPv1xNLDD14LsVa9Upg6xXX4T=w2672FouXeQ@mail.gmail.com>
Message-ID: <CALymcQB=0WBiAqU6ONiiO4R_OG6NvFk2CX_t79Q6NXXzgUTooA@mail.gmail.com>

If your algorithm works on each feature independently, processFeature() is
preferred. If you need to work with layers, you need to use
processAlgorithm(). I demonstrate this with an example at
https://spatialthoughts.com/2019/04/05/geodesic-buffers-in-qgis/

On Mon, 23 Aug 2021 at 10:25 PM, C Hamilton <adenaculture at gmail.com> wrote:

> I discovered that it looks like there is another way to deal with
> processing algorithms. Rather than use processAlgorithm it looks like I can
> use prepareAlgorithm & processFeature. I have always used processAlgorithm
> and then iterated through the features.
>
> Is processFeature just as quick as using processAlgorithm (iterating
> through the features)? Is one method preferred over the other? I think for
> some algorithms using processFeature would make the code look cleaner. Are
> there any gotchas in using the processFeature method?
>
> Thanks,
>
> Calvin
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>
-- 
[image: Logo] <https://spatialthoughts.com/>
Ujaval Gandhi
Spatial Thoughts
mobile: +91-8095684687
email: ujaval at spatialthoughts.com
[image: LinkedIn icon] <https://www.linkedin.com/in/spatialthoughts/>  [image:
Twitter icon] <https://twitter.com/spatialthoughts>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210824/27c7546d/attachment.html>

From jonathan-lists at lightpear.com  Tue Aug 24 09:22:43 2021
From: jonathan-lists at lightpear.com (Jonathan Moules)
Date: Tue, 24 Aug 2021 17:22:43 +0100
Subject: [QGIS-Developer] [Qgis-user] Bug with GeoPackage and
 Expressions?
In-Reply-To: <CABPxTTobOhS-rvkGkqyKzMN1X_0Z8tAqyhri5J6H_P9umsnZjw@mail.gmail.com>
References: <CABPxTTrLm=mqc_woB-SAQ12DT94eW2CANExhzhUb0MY5TqGTSg@mail.gmail.com>
 <cdaba3d5-3ddb-4e7d-b55b-731b45506aff@gmx.at>
 <CABPxTTqfv+=zsGRgxguebbh6Mv7NELDuiNguNuRM1_rDWrX7zw@mail.gmail.com>
 <CAC7zN96UOoaDhEwzKHiki73b6HdmrJhWg25Gyp_Y3GG+pJd1pw@mail.gmail.com>
 <CAB28AsjknGikVrEivmKd=Oszr6khrCw5MgqOcNM3PnKV+g9YWw@mail.gmail.com>
 <CABPxTTobOhS-rvkGkqyKzMN1X_0Z8tAqyhri5J6H_P9umsnZjw@mail.gmail.com>
Message-ID: <01aa548f-3b88-6d8e-0f78-3a75817b65d9@lightpear.com>

Hi Calvin,

This definitely sounds like the sort of thing you want to be doing in 
the data provider and not in QGIS!

Maybe Fast Text Search would be of use. Problem is that I'm not sure if 
it's included in the GeoPackage spec or QGIS' SQLite install, but it's 
in the default pre-compiled SQLite. https://www.sqlite.org/fts5.html

Using that for textual searches and more conventional Operators for 
numerical should get you the speed of SQLite with the flexibility you 
desire.

Cheers,

Jonathan

On 29/07/2021 14:23, C Hamilton wrote:
> Ultimately what I am trying to do is to revamp the Search Layers 
> plugin (https://plugins.qgis.org/plugins/searchlayers/) to allow 
> searching using two different strings with NOT, AND, OR operators, 
> case dependent?or independent, with qualifiers where the strings are 
> an exact match, within the string, begins with, and ends with. The 
> plugin allows for searching across all layers and all attributes, or 
> optionally a particular layer and attribute. The two strings may be 
> required?to match within?each attribute or match in any of the 
> attributes within the feature. I am trying to make it very flexible 
> and easy to use. I know that QGIS has the Locator interface, but the 
> users like the extra interactivity that Search Layers provides.
>
> Here is the issue: For some of the searches I am creating a regular 
> expression that matches the search parameters and iterating through 
> each feature and then each attribute using *re.search* to do the 
> comparison. Unfortunately, this is very slow. On a 2.2 million data 
> set it can take 5-10 minutes to do the search. This is way too slow. 
> The SQL search is less than 5 seconds. I am using a *QgsFeatureRequest 
> *and then setting *request.setFilterExpression*. I am only using this 
> when searching on a single layer and single attribute and I don't 
> think there is the flexibility that there is with the regular 
> expressions, but I don't really use SQL and don't know what is 
> possible. It sounds like the SQL searching may be limited by the 
> vector file type source.
>
> Are there any other ways for searching that I am unaware of? The 
> results of the search need to identify the feature in the layer and 
> what attribute or attributes?matched for each of the two strings and 
> then I can apply the NOT, AND, OR operators. I am trying to 
> satisfy?user's?requests to make Search Layers into what they want it 
> to be and am finding it difficult to satisfy speed, vector file types, 
> and flexibility. I welcome any suggestions. Ultimately I might just 
> have to constrain the file types supported and say to convert the data 
> first.
>
> Thanks,
>
> Calvin
>
> On Thu, Jul 29, 2021 at 1:42 AM Nyall Dawson <nyall.dawson at gmail.com 
> <mailto:nyall.dawson at gmail.com>> wrote:
>
>     On Thu, 29 Jul 2021 at 15:31, Matthias Kuhn <matthias at opengis.ch
>     <mailto:matthias at opengis.ch>> wrote:
>     >
>     > Can you fill a bug for this? The expression compiler in QGIS
>     should not forward it to ogr/gpkg/sqlite in this case.
>
>     My interpretation is that Calvin is setting a layer filter, so QGIS
>     expressions aren't involved (i.e. no bug).
>
>     Nyall
>
>     >
>     > Matthias
>     >
>     > On Wed, Jul 28, 2021 at 10:08 PM C Hamilton
>     <adenaculture at gmail.com <mailto:adenaculture at gmail.com>> wrote:
>     >>
>     >> Thanks everyone for that explanation. This does complicate the
>     ability to set an expression filter in a plugin when it depends on
>     the data source type. I'm not sure what to do about that.
>     >>
>     >> Regards,
>     >> Calvin
>     >>
>     >> On Wed, Jul 28, 2021 at 8:00 PM Anita Graser
>     <anitagraser at gmx.at <mailto:anitagraser at gmx.at>> wrote:
>     >>>
>     >>> Hi Calvin,
>     >>>
>     >>> 28 Jul 2021 21:43:40 C Hamilton <adenaculture at gmail.com
>     <mailto:adenaculture at gmail.com>>:
>     >>> > If I use LIKE instead of ILIKE then it works. It is like
>     ILIKE was not implemented for GeoPackage. Can anyone verify this?
>     >>>
>     >>> Yes, there seems to be no iLike in sqlite:
>     >>>
>     >>>
>     https://stackoverflow.com/questions/15480319/case-sensitive-and-insensitive-like-in-sqlite
>     >>>
>     >>> And therefore neither in geopackage.
>     >>>
>     >>> Regards
>     >>> Anita
>     >>
>     >> _______________________________________________
>     >> QGIS-Developer mailing list
>     >> QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>     >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >> Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >
>     > _______________________________________________
>     > QGIS-Developer mailing list
>     > QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>     > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210824/b236c7a6/attachment.html>

From etienne.trimaille at gmail.com  Tue Aug 24 23:47:25 2021
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Wed, 25 Aug 2021 08:47:25 +0200
Subject: [QGIS-Developer] [Qgis-user] processAlgorithm vs processFeature?
In-Reply-To: <CALymcQB=0WBiAqU6ONiiO4R_OG6NvFk2CX_t79Q6NXXzgUTooA@mail.gmail.com>
References: <CABPxTTpp3F8TFCPv1xNLDD14LsVa9Upg6xXX4T=w2672FouXeQ@mail.gmail.com>
 <CALymcQB=0WBiAqU6ONiiO4R_OG6NvFk2CX_t79Q6NXXzgUTooA@mail.gmail.com>
Message-ID: <CAMtDFLKSHDM04d2SDzhUJ3ZQjY3av54vahi4jM_kJGJs5JNsiA@mail.gmail.com>

Indeed, if you can, you should use a QgsProcessingFeatureBasedAlgorithm
algorithm. It will make some shortcuts for you and the code is shorter
because you will only have a single feature to process.

Have a look to existing source code :
https://github.com/qgis/QGIS/search?q=QgsProcessingFeatureBasedAlgorithm

Le mar. 24 ao?t 2021 ? 04:55, Ujaval Gandhi <ujaval at spatialthoughts.com> a
?crit :

> If your algorithm works on each feature independently, processFeature() is
> preferred. If you need to work with layers, you need to use
> processAlgorithm(). I demonstrate this with an example at
> https://spatialthoughts.com/2019/04/05/geodesic-buffers-in-qgis/
>
> On Mon, 23 Aug 2021 at 10:25 PM, C Hamilton <adenaculture at gmail.com>
> wrote:
>
>> I discovered that it looks like there is another way to deal with
>> processing algorithms. Rather than use processAlgorithm it looks like I can
>> use prepareAlgorithm & processFeature. I have always used processAlgorithm
>> and then iterated through the features.
>>
>> Is processFeature just as quick as using processAlgorithm (iterating
>> through the features)? Is one method preferred over the other? I think for
>> some algorithms using processFeature would make the code look cleaner. Are
>> there any gotchas in using the processFeature method?
>>
>> Thanks,
>>
>> Calvin
>> _______________________________________________
>> Qgis-user mailing list
>> Qgis-user at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>>
> --
> [image: Logo] <https://spatialthoughts.com/>
> Ujaval Gandhi
> Spatial Thoughts
> mobile: +91-8095684687
> email: ujaval at spatialthoughts.com
> [image: LinkedIn icon] <https://www.linkedin.com/in/spatialthoughts/>  [image:
> Twitter icon] <https://twitter.com/spatialthoughts>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210825/d7642a73/attachment.html>

From adenaculture at gmail.com  Wed Aug 25 07:01:04 2021
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 25 Aug 2021 10:01:04 -0400
Subject: [QGIS-Developer] [Qgis-user] processAlgorithm vs processFeature?
In-Reply-To: <CAMtDFLKSHDM04d2SDzhUJ3ZQjY3av54vahi4jM_kJGJs5JNsiA@mail.gmail.com>
References: <CABPxTTpp3F8TFCPv1xNLDD14LsVa9Upg6xXX4T=w2672FouXeQ@mail.gmail.com>
 <CALymcQB=0WBiAqU6ONiiO4R_OG6NvFk2CX_t79Q6NXXzgUTooA@mail.gmail.com>
 <CAMtDFLKSHDM04d2SDzhUJ3ZQjY3av54vahi4jM_kJGJs5JNsiA@mail.gmail.com>
Message-ID: <CABPxTToCC=iY4DZ5nygfPTXcB5cFFNWy0G+dsC9wS+CYg8PSHQ@mail.gmail.com>

Thanks everyone. I went ahead and updated the geodesic transformations tool
in Shape Tools to use the QgsProcessingFeatureBasedAlgorithm algorithm. I
didn't know that existed and I had only used QgsProcessingAlgorithm, I also
updated the geodesic transformations tool  to use data derived overrides. I
had a hard time finding documentation and python examples on how to do it,
but I believe I have it all working now.

On Wed, Aug 25, 2021 at 2:47 AM Etienne Trimaille <
etienne.trimaille at gmail.com> wrote:

> Indeed, if you can, you should use a QgsProcessingFeatureBasedAlgorithm
> algorithm. It will make some shortcuts for you and the code is shorter
> because you will only have a single feature to process.
>
> Have a look to existing source code :
> https://github.com/qgis/QGIS/search?q=QgsProcessingFeatureBasedAlgorithm
>
> Le mar. 24 ao?t 2021 ? 04:55, Ujaval Gandhi <ujaval at spatialthoughts.com>
> a ?crit :
>
>> If your algorithm works on each feature independently, processFeature()
>> is preferred. If you need to work with layers, you need to use
>> processAlgorithm(). I demonstrate this with an example at
>> https://spatialthoughts.com/2019/04/05/geodesic-buffers-in-qgis/
>>
>> On Mon, 23 Aug 2021 at 10:25 PM, C Hamilton <adenaculture at gmail.com>
>> wrote:
>>
>>> I discovered that it looks like there is another way to deal with
>>> processing algorithms. Rather than use processAlgorithm it looks like I can
>>> use prepareAlgorithm & processFeature. I have always used processAlgorithm
>>> and then iterated through the features.
>>>
>>> Is processFeature just as quick as using processAlgorithm (iterating
>>> through the features)? Is one method preferred over the other? I think for
>>> some algorithms using processFeature would make the code look cleaner. Are
>>> there any gotchas in using the processFeature method?
>>>
>>> Thanks,
>>>
>>> Calvin
>>> _______________________________________________
>>> Qgis-user mailing list
>>> Qgis-user at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
>>>
>> --
>> [image: Logo] <https://spatialthoughts.com/>
>> Ujaval Gandhi
>> Spatial Thoughts
>> mobile: +91-8095684687
>> email: ujaval at spatialthoughts.com
>> [image: LinkedIn icon] <https://www.linkedin.com/in/spatialthoughts/>  [image:
>> Twitter icon] <https://twitter.com/spatialthoughts>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210825/849cc58e/attachment.html>

From rdmailings at duif.net  Wed Aug 25 07:01:29 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 25 Aug 2021 16:01:29 +0200
Subject: [QGIS-Developer] Virtual Layer & Unique identifier column?
Message-ID: <adb931e5-5212-3bb3-4b1b-5b455ab05de9@duif.net>

We (Raymond and me) have some issues with Virtual Layer functionality.

Who knows what the actual use is of the 'Unique identifier column' of the dialog? Because without it it also works...

Main point: if you click/use the 'Unique identifier column', and use a NON unique column(!), you are practically filtering your data.... but it's not clear WHAT is used or filtered ... and as an example: the feature count then still shows 5 but the attribute table only shows 3 (filtered)

What do other providers do in such case (I think postgis tells you: "hey that column is NOT unique"?).

We found other ui-related things, which we were not sure if it is interesting enough to create issues for:
- clicking Help button does NOT bring you to: https://docs.qgis.org/testing/en/docs/user_manual/managing_data_source/create_layers.html#creating-virtual-layers
- you can click the 'Unique' checkbox without giving the actual column (could be checked for?)
- test button does not check for missing unique column name
- removing the checkbox (and overwriting the layer) does not remove it (unless you also remove the column name)
- if you 'edit' a v-layer (via context menu) you are still being asked to overwrite/create the layer
- creating a new geometry without a crs seems possible (could be checked for?)
etc

Would this be a good candidate for some nice re-work? We do have some idea's and (other) issues :-)
Our feeling is that current status could need some QGIS-love...

Regards,

Richard Duivenvoorde



From lior at kaplanopensource.co.il  Thu Aug 26 04:01:49 2021
From: lior at kaplanopensource.co.il (Lior Kaplan)
Date: Thu, 26 Aug 2021 14:01:49 +0300
Subject: [QGIS-Developer] File extension for GeoPackage with QGIS projects
Message-ID: <CAF288x6UozXm9CeyvTWRXQK+BdfYEvVchNBwRA3fSb4WnhvizA@mail.gmail.com>

Hi,

When saving a project in a GPKG, the only way to open the project is by
project -> open from. Which works well, but is quite annoying.

But, it doesn't work when dragging the GPKG into QGIS as it would with
qgs/qgz. And if that GPKG has data layers in it, they wouldn't be opened -
so the user might miss quite easily that it is also a project layer.

Along the current feature requests to notify the user that the GPKG also
has a project layer and ask if he wants to open it?
https://github.com/qgis/QGIS/issues/30538
https://github.com/qgis/QGIS/issues/40252

I thought this approach might be relevant - Decide to use another extension
for those GPKG files -  allowing us to take a different course than regular
GPKG files (loading project, not data). Similar to qgs/qgz files.

The end goal here is that we can register a mime type or as extension for
QGIS, indicating it should load project layers instead of data layers
(which are probably referenced by the project).

What do you think about this option ?

p.s.
If someone wants to implement this, please reach out in private.
I might be able to allocate some funds to it.

+972-52-2235911
L: Lior Kaplan <https://www.linkedin.com/in/liorkaplan/>
T: @opensource_il <https://twitter.com/opensource_il>
F: @liorkaplanopensource <https://www.facebook.com/liorkaplanopensource>
https://kaplanopensource.co.il/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210826/75f45c05/attachment.html>

From nyall.dawson at gmail.com  Sun Aug 29 20:52:18 2021
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 30 Aug 2021 13:52:18 +1000
Subject: [QGIS-Developer] File extension for GeoPackage with QGIS
 projects
In-Reply-To: <CAF288x6UozXm9CeyvTWRXQK+BdfYEvVchNBwRA3fSb4WnhvizA@mail.gmail.com>
References: <CAF288x6UozXm9CeyvTWRXQK+BdfYEvVchNBwRA3fSb4WnhvizA@mail.gmail.com>
Message-ID: <CAB28AshSFJ1uEyscCT2W1TW+3qtnCyK3Bk1mEG35tnrCnUrPag@mail.gmail.com>

Hey Lior!

On Thu, 26 Aug 2021 at 21:02, Lior Kaplan <lior at kaplanopensource.co.il> wrote:
>
> Hi,
>
> When saving a project in a GPKG, the only way to open the project is by project -> open from. Which works well, but is quite annoying.
>
> But, it doesn't work when dragging the GPKG into QGIS as it would with qgs/qgz. And if that GPKG has data layers in it, they wouldn't be opened - so the user might miss quite easily that it is also a project layer.
>
> Along the current feature requests to notify the user that the GPKG also has a project layer and ask if he wants to open it?
> https://github.com/qgis/QGIS/issues/30538
> https://github.com/qgis/QGIS/issues/40252
>

Can you test with current master/nightly versions? These issues should
all be fixed now, and you'll get prompted to open projects when
dragging & dropping a GPKG.

Nyall


> I thought this approach might be relevant - Decide to use another extension for those GPKG files -  allowing us to take a different course than regular GPKG files (loading project, not data). Similar to qgs/qgz files.
>
> The end goal here is that we can register a mime type or as extension for QGIS, indicating it should load project layers instead of data layers (which are probably referenced by the project).
>
> What do you think about this option ?
>
> p.s.
> If someone wants to implement this, please reach out in private.
> I might be able to allocate some funds to it.
>
> +972-52-2235911
> L: Lior Kaplan
> T: @opensource_il
> F: @liorkaplanopensource
> https://kaplanopensource.co.il/
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From rdmailings at duif.net  Sun Aug 29 23:06:42 2021
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 30 Aug 2021 08:06:42 +0200
Subject: [QGIS-Developer] Virtual Layer & Unique identifier column?
In-Reply-To: <adb931e5-5212-3bb3-4b1b-5b455ab05de9@duif.net>
References: <adb931e5-5212-3bb3-4b1b-5b455ab05de9@duif.net>
Message-ID: <caa8e260-8974-a366-d257-e7dd831f3116@duif.net>

Ok, I created a PR to 'fix' some of the ui quirks:

https://github.com/qgis/QGIS/pull/44879

Anybody can answer the question how to distinguish in the code between being called from a layers context menu vs being called via the QGIS menu (for a new layer). If that is possible I could change the text on the buttons and disable some parts.

And... I'm wondering: should we 'streamline' this dialog more with the 'query layer dialog'?

And "what is the unique identifier for" I still wonder?

Regards,

Richard Duivenvoorde

On 8/25/21 4:01 PM, Richard Duivenvoorde wrote:
> We (Raymond and me) have some issues with Virtual Layer functionality.
> 
> Who knows what the actual use is of the 'Unique identifier column' of the dialog? Because without it it also works...
> 
> Main point: if you click/use the 'Unique identifier column', and use a NON unique column(!), you are practically filtering your data.... but it's not clear WHAT is used or filtered ... and as an example: the feature count then still shows 5 but the attribute table only shows 3 (filtered)
> 
> What do other providers do in such case (I think postgis tells you: "hey that column is NOT unique"?).
> 
> We found other ui-related things, which we were not sure if it is interesting enough to create issues for:
> - clicking Help button does NOT bring you to: https://docs.qgis.org/testing/en/docs/user_manual/managing_data_source/create_layers.html#creating-virtual-layers
> - you can click the 'Unique' checkbox without giving the actual column (could be checked for?)
> - test button does not check for missing unique column name
> - removing the checkbox (and overwriting the layer) does not remove it (unless you also remove the column name)
> - if you 'edit' a v-layer (via context menu) you are still being asked to overwrite/create the layer
> - creating a new geometry without a crs seems possible (could be checked for?)
> etc
> 
> Would this be a good candidate for some nice re-work? We do have some idea's and (other) issues :-)
> Our feeling is that current status could need some QGIS-love...
> 
> Regards,
> 
> Richard Duivenvoorde
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From jochen.schwarze at live.unigis.net  Mon Aug 30 03:14:29 2021
From: jochen.schwarze at live.unigis.net (Jochen Schwarze)
Date: Mon, 30 Aug 2021 10:14:29 +0000
Subject: [QGIS-Developer] win32api in QGIS 3.10
In-Reply-To: <PR3PR06MB71482EBE5FCDA937E3F641D190C49@PR3PR06MB7148.eurprd06.prod.outlook.com>
References: <PR3PR06MB71482EBE5FCDA937E3F641D190C49@PR3PR06MB7148.eurprd06.prod.outlook.com>
Message-ID: <DM6PR01MB5530F673633293B58B3FD2F0B4CB9@DM6PR01MB5530.prod.exchangelabs.com>

Hi, seems you installed this with the OSGeo4W installer and forgot to install module python3-pywin32 (advanced install)?

Regards, Jochen CShwarze
________________________________
Von: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> im Auftrag von BARRE Tristan <t.barre at saferna.fr>
Gesendet: Montag, 23. August 2021 12:06
An: qgis-developer at lists.osgeo.org <qgis-developer at lists.osgeo.org>
Betreff: [QGIS-Developer] win32api in QGIS 3.10


Hi everybody,



I?m getting always this error when i try to import win32api in a QGIS plugin :



ImportError: DLL load failed The specified module could not be found



I've tried in python console, same result. I've tried in python console to get all available modules with help('module'), this time i have a new error :



Traceback (most recent call last): The specified file could not be found

  File "C:/OSGEO4~1/apps/qgis-ltr/./python\console\console_sci.py", line 435, in keyPressEvent

    self.entered()

  File "C:/OSGEO4~1/apps/qgis-ltr/./python\console\console_sci.py", line 603, in entered

    self.runCommand(self.currentCommand())

  File "C:/OSGEO4~1/apps/qgis-ltr/./python\console\console_sci.py", line 616, in runCommand

    import webbrowser

  File "C:/OSGEO4~1/apps/qgis-ltr/./python\qgis\utils.py", line 784, in _import

    _import_paths[p] = _AddDllDirectory(p)

  File "C:/OSGEO4~1/apps/qgis-ltr/./python\qgis\utils.py", line 731, in _errcheck_zero

    raise ctypes.WinError(ctypes.get_last_error())

FileNotFoundError: [WinError 2]



For several days, i?ve been on the problem, without finding a solution.



Regards.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20210830/2eebe2de/attachment.html>

