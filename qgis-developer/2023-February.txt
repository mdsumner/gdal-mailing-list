From rdmailings at duif.net  Wed Feb  1 02:58:53 2023
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 1 Feb 2023 11:58:53 +0100
Subject: [QGIS-Developer] Browser XYZ tiles show different between 3.28 and
 master
Message-ID: <211772f6-8ac9-0a9e-0094-9e0154a34134@duif.net>

Hi All,

I often grab OSM xyz layer if I want a quick map.
But in my recent build it's not there anymore (in none of my 'old' profiles).
By accident or did I miss some discussion?

I also see that there is a difference between the content of the Browser-tree, if I open the same Profile, either in 3.28 or in master (in screendump left is 3.28, master is the right).

Or is this a result of the changes going on in the Settings machinery maybe?

Regards,

Richard Duivenvoorde
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot from 2023-02-01 11-56-49.png
Type: image/png
Size: 34079 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230201/0c791859/attachment-0001.png>

From pgathogo at gmail.com  Wed Feb  1 06:14:13 2023
From: pgathogo at gmail.com (Paul Gathogo)
Date: Wed, 1 Feb 2023 17:14:13 +0300
Subject: [QGIS-Developer] Error Loading SIP module
Message-ID: <CAFFfZ9Lf0SfjrettceV37e95dapC9xdYkRP-XvNkXb5nZKO5uw@mail.gmail.com>

Hello Devs,

I've done my own QGIS (3.29) build and packaging in windows, I've used the
package to install QGIS and everything is fine but when I start QGIS I get
the following error:










*Couldn't load SIP module.Python support will be disabled.Traceback (most
recent call last):  File "", line 1, in   File
"C:\PROGRA~1/QGISFI~1.2)F/apps/qgis/./python\qgis\__init__.py", line 86, in
    import qgis.gui  File
"C:\PROGRA~1/QGISFI~1.2)F/apps/qgis/./python\qgis\gui\__init__.py", line
93, in     QgsCodeEditor.Mode.ScriptEditor.__doc__ = "Standard mode, allows
for display and edit of entire scripts"NameError: name 'QgsCodeEditor' is
not defined*

I have tried to set the PYTHONPATH following some instructions from forums
that have experienced similar issues but still get the same error. What
might I be missing?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230201/9b45f134/attachment.htm>

From nyall.dawson at gmail.com  Wed Feb  1 17:19:57 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 2 Feb 2023 11:19:57 +1000
Subject: [QGIS-Developer] Call for emergency 3.22 release
Message-ID: <CAB28AsijikO25NvzWSBQnFzxt0GvKqpyVPjCsevVhA+3fRQbCA@mail.gmail.com>

Hi PSC/list,

I came across this horrible regression during bug hunting today:
https://github.com/qgis/QGIS/pull/51703

If you load a project with any broken layers and then hover over the
layer in the layer tree, QGIS will instantly crash. It's a regression
caused by https://github.com/qgis/QGIS/pull/50256, and unfortunately
that PR was backported to 3.22 and accordingly the crash present in
the final release of 3.22.

Given the extreme severity of this crash I believe we should be
pushing out another unplanned 3.22 patch release, as we cannot leave
the final 3.22 LTR with such a nasty regression in place.

Nyall

From even.rouault at spatialys.com  Wed Feb  1 18:37:49 2023
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 2 Feb 2023 03:37:49 +0100
Subject: [QGIS-Developer] Call for emergency 3.22 release
In-Reply-To: <CAB28AsijikO25NvzWSBQnFzxt0GvKqpyVPjCsevVhA+3fRQbCA@mail.gmail.com>
References: <CAB28AsijikO25NvzWSBQnFzxt0GvKqpyVPjCsevVhA+3fRQbCA@mail.gmail.com>
Message-ID: <6a22fdac-c6db-1bdb-d2ae-1391321a8637@spatialys.com>

Dereferencing a null dataProvider() seems to me to be a recurrent class 
of (crashing) bugs (I've for sure fixed such issues several times)

My idea is probably a bit silly, but what about 
https://gist.github.com/rouault/ed533d30738bda806ebeaa47f0877e2c ?

Basically:

- deprecate dataProvider() for C++, with a GCC 
__attribute__((deprecated()) annotation so we can spot all occurrences

- replace it with dataProviderNullable() which returns a 
QgsVectorDataProviderPtr structure that encapsulates the raw pointer and 
have a get() method to get it

So you have to replace code like:

mTracksLayer->dataProvider()->addFeature( feature, 
QgsFeatureSink::Flag::FastInsert );

with

if ( auto provider = mTracksLayer->dataProviderNullablePtr().get() )
{
 ??? provider->addFeature( feature, QgsFeatureSink::Flag::FastInsert );
}

Of course someone could still do 
mTracksLayer->dataProviderNullablePtr().get()->addFeature( ... ) but 
that should be obvious they are cheating... And I guess some linting 
script could catch "dataProviderNullablePtr().get()->" buggy/risky patterns

And of course it forces checking for null in places where it cannot be, 
but perhaps be on the safe side...


Another alternative I thought was to have dataProvider() return a dummy 
non-null instance if mDataProvider is null, but that's probably not a 
good idea.

Even

Le 02/02/2023 ? 02:19, Nyall Dawson via QGIS-Developer a ?crit?:
> Hi PSC/list,
>
> I came across this horrible regression during bug hunting today:
> https://github.com/qgis/QGIS/pull/51703
>
> If you load a project with any broken layers and then hover over the
> layer in the layer tree, QGIS will instantly crash. It's a regression
> caused by https://github.com/qgis/QGIS/pull/50256, and unfortunately
> that PR was backported to 3.22 and accordingly the crash present in
> the final release of 3.22.
>
> Given the extreme severity of this crash I believe we should be
> pushing out another unplanned 3.22 patch release, as we cannot leave
> the final 3.22 LTR with such a nasty regression in place.
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From michel.nzikou at alumni.uleth.ca  Wed Feb  1 19:34:04 2023
From: michel.nzikou at alumni.uleth.ca (Nzikou, Michel)
Date: Thu, 2 Feb 2023 11:34:04 +0800
Subject: [QGIS-Developer] Hover function
Message-ID: <CALG-VUR_fejVMwO4OUN=HqkKxWCQ=PzsZPs9MNpYucdaYK8Bzw@mail.gmail.com>

I am developing a qgis plugin and would like to know how to use the mouse
hover function to get help infos populated on top of my pushbutton when the
mouse is on top.

Thanks

*Michel Nzikou, Ph.D.*
ASEG WA - President
*-----*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230202/2c29fe52/attachment.htm>

From a.neumann at carto.net  Wed Feb  1 22:38:24 2023
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 02 Feb 2023 07:38:24 +0100
Subject: [QGIS-Developer] Call for emergency 3.22 release
In-Reply-To: <CAB28AsijikO25NvzWSBQnFzxt0GvKqpyVPjCsevVhA+3fRQbCA@mail.gmail.com>
References: <CAB28AsijikO25NvzWSBQnFzxt0GvKqpyVPjCsevVhA+3fRQbCA@mail.gmail.com>
Message-ID: <0cf04c5adda6c0347b36e01462e57b63@carto.net>

Hi Nyall,

I agree, this is a pretty nasty one. J?rgen - can we release another 
release soon?

Thank you Even for your reflections on the code patterns involved. I 
trust that the core devs will discuss and suggest improvements in our 
documentation/guidelines in order to avoid similar cases in the future.

Thank you for your response.

Andreas

On 2023-02-02 02:19, Nyall Dawson via QGIS-Developer wrote:

> Hi PSC/list,
> 
> I came across this horrible regression during bug hunting today:
> https://github.com/qgis/QGIS/pull/51703
> 
> If you load a project with any broken layers and then hover over the
> layer in the layer tree, QGIS will instantly crash. It's a regression
> caused by https://github.com/qgis/QGIS/pull/50256, and unfortunately
> that PR was backported to 3.22 and accordingly the crash present in
> the final release of 3.22.
> 
> Given the extreme severity of this crash I believe we should be
> pushing out another unplanned 3.22 patch release, as we cannot leave
> the final 3.22 LTR with such a nasty regression in place.
> 
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230202/873b14f0/attachment.htm>

From rdmailings at duif.net  Wed Feb  1 23:42:35 2023
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 2 Feb 2023 08:42:35 +0100
Subject: [QGIS-Developer] Hover function
In-Reply-To: <CALG-VUR_fejVMwO4OUN=HqkKxWCQ=PzsZPs9MNpYucdaYK8Bzw@mail.gmail.com>
References: <CALG-VUR_fejVMwO4OUN=HqkKxWCQ=PzsZPs9MNpYucdaYK8Bzw@mail.gmail.com>
Message-ID: <9d7418b5-1827-0e88-8b10-8e90a97b46e3@duif.net>

On 2/2/23 04:34, Nzikou, Michel via QGIS-Developer wrote:
> I am developing a qgis plugin and would like to know how to use the mouse hover function to get help infos populated on top of my pushbutton when the mouse is on top.

You mean tooltips?

https://pythonprogramminglanguage.com/pyqt5-tooltip/  ?

There is also a whatsThis of a QWidget

Or do you mean something else?

Regards,

Richard Duivenvoorde

From apasotti at gmail.com  Thu Feb  2 00:12:09 2023
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 2 Feb 2023 09:12:09 +0100
Subject: [QGIS-Developer] Call for emergency 3.22 release
In-Reply-To: <0cf04c5adda6c0347b36e01462e57b63@carto.net>
References: <CAB28AsijikO25NvzWSBQnFzxt0GvKqpyVPjCsevVhA+3fRQbCA@mail.gmail.com>
 <0cf04c5adda6c0347b36e01462e57b63@carto.net>
Message-ID: <CAL5Q671NWM8dFhFDHh0Hxp8Y-yR3nL-VvfU6vFNcmcALhrKaAA@mail.gmail.com>

+1 for immediate release from me.

On a side note (because I sympathize thinking about what I would feel
if it was a commit of mine) : Julien is doing an amazing job, a
mistake can happen to anyone.

On Thu, Feb 2, 2023 at 7:38 AM Andreas Neumann via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> Hi Nyall,
>
> I agree, this is a pretty nasty one. J?rgen - can we release another release soon?
>
> Thank you Even for your reflections on the code patterns involved. I trust that the core devs will discuss and suggest improvements in our documentation/guidelines in order to avoid similar cases in the future.
>
> Thank you for your response.
>
> Andreas
>
> On 2023-02-02 02:19, Nyall Dawson via QGIS-Developer wrote:
>
> Hi PSC/list,
>
> I came across this horrible regression during bug hunting today:
> https://github.com/qgis/QGIS/pull/51703
>
> If you load a project with any broken layers and then hover over the
> layer in the layer tree, QGIS will instantly crash. It's a regression
> caused by https://github.com/qgis/QGIS/pull/50256, and unfortunately
> that PR was backported to 3.22 and accordingly the crash present in
> the final release of 3.22.
>
> Given the extreme severity of this crash I believe we should be
> pushing out another unplanned 3.22 patch release, as we cannot leave
> the final 3.22 LTR with such a nasty regression in place.
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From nyall.dawson at gmail.com  Thu Feb  2 00:32:21 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 2 Feb 2023 18:32:21 +1000
Subject: [QGIS-Developer] Call for emergency 3.22 release
In-Reply-To: <CAL5Q671NWM8dFhFDHh0Hxp8Y-yR3nL-VvfU6vFNcmcALhrKaAA@mail.gmail.com>
References: <CAB28AsijikO25NvzWSBQnFzxt0GvKqpyVPjCsevVhA+3fRQbCA@mail.gmail.com>
 <0cf04c5adda6c0347b36e01462e57b63@carto.net>
 <CAL5Q671NWM8dFhFDHh0Hxp8Y-yR3nL-VvfU6vFNcmcALhrKaAA@mail.gmail.com>
Message-ID: <CAB28Ash0v5W=gx9g=3aK6dKonmt+6Fecv4vHEiUCP4LoW44ZTw@mail.gmail.com>

On Thu, 2 Feb 2023, 6:12 pm Alessandro Pasotti, <apasotti at gmail.com> wrote:

> +1 for immediate release from me.
>
> On a side note (because I sympathize thinking about what I would feel
> if it was a commit of mine) : Julien is doing an amazing job, a
> mistake can happen to anyone.
>

100% agree - it could easily have been any of us leading to this.

I think the main lesson for us is "just" that we need to be extra careful
with backports to ltr, and carefully assess whether every backport is
really warranted or not.

Nyall

>
> On Thu, Feb 2, 2023 at 7:38 AM Andreas Neumann via QGIS-Developer
> <qgis-developer at lists.osgeo.org> wrote:
> >
> > Hi Nyall,
> >
> > I agree, this is a pretty nasty one. J?rgen - can we release another
> release soon?
> >
> > Thank you Even for your reflections on the code patterns involved. I
> trust that the core devs will discuss and suggest improvements in our
> documentation/guidelines in order to avoid similar cases in the future.
> >
> > Thank you for your response.
> >
> > Andreas
> >
> > On 2023-02-02 02:19, Nyall Dawson via QGIS-Developer wrote:
> >
> > Hi PSC/list,
> >
> > I came across this horrible regression during bug hunting today:
> > https://github.com/qgis/QGIS/pull/51703
> >
> > If you load a project with any broken layers and then hover over the
> > layer in the layer tree, QGIS will instantly crash. It's a regression
> > caused by https://github.com/qgis/QGIS/pull/50256, and unfortunately
> > that PR was backported to 3.22 and accordingly the crash present in
> > the final release of 3.22.
> >
> > Given the extreme severity of this crash I believe we should be
> > pushing out another unplanned 3.22 patch release, as we cannot leave
> > the final 3.22 LTR with such a nasty regression in place.
> >
> > Nyall
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Alessandro Pasotti
> QCooperative:  www.qcooperative.net
> ItOpen:   www.itopen.it
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230202/0a65de2b/attachment-0001.htm>

From jef at norbit.de  Thu Feb  2 02:18:17 2023
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Thu, 2 Feb 2023 11:18:17 +0100
Subject: [QGIS-Developer] Call for emergency 3.22 release
In-Reply-To: <0cf04c5adda6c0347b36e01462e57b63@carto.net>
References: <CAB28AsijikO25NvzWSBQnFzxt0GvKqpyVPjCsevVhA+3fRQbCA@mail.gmail.com>
 <0cf04c5adda6c0347b36e01462e57b63@carto.net>
Message-ID: <20230202101817.5zma4q23tqsed7op@norbit.de>

Hi Andreas,

On Thu, 02. Feb 2023 at 07:38:24 +0100, Andreas Neumann via QGIS-Developer wrote:
> I agree, this is a pretty nasty one. J?rgen - can we release another release
> soon?

Sure.  If there were any new commits in release-3_22, but there are none yet.


J?rgen

-- 
J?rgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra?e 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                 IRC: jef on Libera|OFTC
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230202/3d3e4a13/attachment.sig>

From r.nijssen at terglobo.nl  Thu Feb  2 07:42:39 2023
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Thu, 2 Feb 2023 16:42:39 +0100
Subject: [QGIS-Developer] International QGIS User Conference & Contributor
 Meeting 2023
Message-ID: <fd121559-8f4b-2ff5-26c5-46943e563a1c@terglobo.nl>

Dear users and developers,

After waiting for 3 years we are happy to announce that the conference 
website is live:

https://uc2023.qgis.nl/

More details will follow soon, but for now please register and propose 
your talks and/or workshops.

And especially for those who'd like to attend the Contributor Meeting, 
please book your stay early cause hotels are mentioning not having too 
many free rooms.

We hope to see you all in The Netherlands soon!

Kind regards,
Raymond

From julien.cabieces at oslandia.com  Thu Feb  2 08:19:35 2023
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Thu, 02 Feb 2023 17:19:35 +0100
Subject: [QGIS-Developer] Call for emergency 3.22 release
In-Reply-To: <CAB28Ash0v5W=gx9g=3aK6dKonmt+6Fecv4vHEiUCP4LoW44ZTw@mail.gmail.com>
References: <CAB28AsijikO25NvzWSBQnFzxt0GvKqpyVPjCsevVhA+3fRQbCA@mail.gmail.com>
 <0cf04c5adda6c0347b36e01462e57b63@carto.net>
 <CAL5Q671NWM8dFhFDHh0Hxp8Y-yR3nL-VvfU6vFNcmcALhrKaAA@mail.gmail.com>
 <CAB28Ash0v5W=gx9g=3aK6dKonmt+6Fecv4vHEiUCP4LoW44ZTw@mail.gmail.com>
Message-ID: <87edr82f3e.fsf@julien-laptop.home>


Hi,

I'm sorry that my PR led to a severe regression and thank you to the
people who take care of fixing/releasing.

I take the decision to merge this one because:
- It was one month old
- It has already been reviewed by someone else
- It was not a critical modification (I believed...)

I have to admit I rarely thoroughly review backport from bot because
they are exactly the same as the one already reviewed. And I'd probably
miss this kind of errors when reviewing too.

If you have any advice on how to behave in the backport/review process,
feel free to share.

Regards,
Julien


> On Thu, 2 Feb 2023, 6:12 pm Alessandro Pasotti, <apasotti at gmail.com> wrote:
>
>  +1 for immediate release from me.
>
>  On a side note (because I sympathize thinking about what I would feel
>  if it was a commit of mine) : Julien is doing an amazing job, a
>  mistake can happen to anyone.
>
> 100% agree - it could easily have been any of us leading to this.
>
> I think the main lesson for us is "just" that we need to be extra careful with backports to ltr, and carefully assess whether every backport is really warranted or
> not.
>
> Nyall
>
>  On Thu, Feb 2, 2023 at 7:38 AM Andreas Neumann via QGIS-Developer
>  <qgis-developer at lists.osgeo.org> wrote:
>  >
>  > Hi Nyall,
>  >
>  > I agree, this is a pretty nasty one. J?rgen - can we release another release soon?
>  >
>  > Thank you Even for your reflections on the code patterns involved. I trust that the core devs will discuss and suggest improvements in our
>  documentation/guidelines in order to avoid similar cases in the future.
>  >
>  > Thank you for your response.
>  >
>  > Andreas
>  >
>  > On 2023-02-02 02:19, Nyall Dawson via QGIS-Developer wrote:
>  >
>  > Hi PSC/list,
>  >
>  > I came across this horrible regression during bug hunting today:
>  > https://github.com/qgis/QGIS/pull/51703
>  >
>  > If you load a project with any broken layers and then hover over the
>  > layer in the layer tree, QGIS will instantly crash. It's a regression
>  > caused by https://github.com/qgis/QGIS/pull/50256, and unfortunately
>  > that PR was backported to 3.22 and accordingly the crash present in
>  > the final release of 3.22.
>  >
>  > Given the extreme severity of this crash I believe we should be
>  > pushing out another unplanned 3.22 patch release, as we cannot leave
>  > the final 3.22 LTR with such a nasty regression in place.
>  >
>  > Nyall
>  > _______________________________________________
>  > QGIS-Developer mailing list
>  > QGIS-Developer at lists.osgeo.org
>  > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  >
>  >
>  > _______________________________________________
>  > QGIS-Developer mailing list
>  > QGIS-Developer at lists.osgeo.org
>  > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>  > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>  -- 
>  Alessandro Pasotti
>  QCooperative:  www.qcooperative.net
>  ItOpen:   www.itopen.it
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 

Julien Cabieces
Senior Developer at Oslandia
julien.cabieces at oslandia.com
09.72.52.52.76

From even.rouault at spatialys.com  Thu Feb  2 09:29:58 2023
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 2 Feb 2023 18:29:58 +0100
Subject: [QGIS-Developer] Stricter policy for LTR backport ? (was Re: Call
 for emergency 3.22 release)
In-Reply-To: <87edr82f3e.fsf@julien-laptop.home>
References: <CAB28AsijikO25NvzWSBQnFzxt0GvKqpyVPjCsevVhA+3fRQbCA@mail.gmail.com>
 <0cf04c5adda6c0347b36e01462e57b63@carto.net>
 <CAL5Q671NWM8dFhFDHh0Hxp8Y-yR3nL-VvfU6vFNcmcALhrKaAA@mail.gmail.com>
 <CAB28Ash0v5W=gx9g=3aK6dKonmt+6Fecv4vHEiUCP4LoW44ZTw@mail.gmail.com>
 <87edr82f3e.fsf@julien-laptop.home>
Message-ID: <d0c3100b-0e42-dae1-8bea-d7d66409b0c1@spatialys.com>

Hi,

I guess one point of improvement is to really implement a policy that 
was discussed in the past, that is that after let's say half the total 
period of support of the LTR only "critical" bugfixes are allowed into 
it, with critical being for example defined as:

- fix a regression introduced in a previous patch release ("patch" as in 
"major.minor.patch" version numbering scheme)

- fix a crashing bug

- fix data corruption

And also taking into account the complexity of the fix, how common the 
scenario is (a crashing bug in some "obscure" functionality has not the 
same severity as one at program opening), the risk of its side effects, 
how well covered it is by unit tests, etc.

This will always remain subjective, and there will always be the risk 
that a few-liner fix causes unanticipated issues. That's the reality of 
software development.

Perhaps half the period is quite restrictive, but maybe the last 3 
planned patch releases in the lifetime of a LTR should really enforce 
such super strict requirements.

Looking quickly at https://github.com/qgis/QGIS/commits/release-3_22, I 
can see this is far from being the case (and I should start by following 
my own advice as I can see a few commits of mine that definitely don't 
match the above criteria for critical bug fixes)

Even

Le 02/02/2023 ? 17:19, Julien Cabieces via QGIS-Developer a ?crit?:
> Hi,
>
> I'm sorry that my PR led to a severe regression and thank you to the
> people who take care of fixing/releasing.
>
> I take the decision to merge this one because:
> - It was one month old
> - It has already been reviewed by someone else
> - It was not a critical modification (I believed...)
>
> I have to admit I rarely thoroughly review backport from bot because
> they are exactly the same as the one already reviewed. And I'd probably
> miss this kind of errors when reviewing too.
>
> If you have any advice on how to behave in the backport/review process,
> feel free to share.
>
> Regards,
> Julien
>
>
>> On Thu, 2 Feb 2023, 6:12 pm Alessandro Pasotti, <apasotti at gmail.com> wrote:
>>
>>   +1 for immediate release from me.
>>
>>   On a side note (because I sympathize thinking about what I would feel
>>   if it was a commit of mine) : Julien is doing an amazing job, a
>>   mistake can happen to anyone.
>>
>> 100% agree - it could easily have been any of us leading to this.
>>
>> I think the main lesson for us is "just" that we need to be extra careful with backports to ltr, and carefully assess whether every backport is really warranted or
>> not.
>>
>> Nyall
>>
>>   On Thu, Feb 2, 2023 at 7:38 AM Andreas Neumann via QGIS-Developer
>>   <qgis-developer at lists.osgeo.org> wrote:
>>   >
>>   > Hi Nyall,
>>   >
>>   > I agree, this is a pretty nasty one. J?rgen - can we release another release soon?
>>   >
>>   > Thank you Even for your reflections on the code patterns involved. I trust that the core devs will discuss and suggest improvements in our
>>   documentation/guidelines in order to avoid similar cases in the future.
>>   >
>>   > Thank you for your response.
>>   >
>>   > Andreas
>>   >
>>   > On 2023-02-02 02:19, Nyall Dawson via QGIS-Developer wrote:
>>   >
>>   > Hi PSC/list,
>>   >
>>   > I came across this horrible regression during bug hunting today:
>>   > https://github.com/qgis/QGIS/pull/51703
>>   >
>>   > If you load a project with any broken layers and then hover over the
>>   > layer in the layer tree, QGIS will instantly crash. It's a regression
>>   > caused by https://github.com/qgis/QGIS/pull/50256, and unfortunately
>>   > that PR was backported to 3.22 and accordingly the crash present in
>>   > the final release of 3.22.
>>   >
>>   > Given the extreme severity of this crash I believe we should be
>>   > pushing out another unplanned 3.22 patch release, as we cannot leave
>>   > the final 3.22 LTR with such a nasty regression in place.
>>   >
>>   > Nyall
>>   > _______________________________________________
>>   > QGIS-Developer mailing list
>>   > QGIS-Developer at lists.osgeo.org
>>   > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>   > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>   >
>>   >
>>   > _______________________________________________
>>   > QGIS-Developer mailing list
>>   > QGIS-Developer at lists.osgeo.org
>>   > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>   > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>   --
>>   Alessandro Pasotti
>>   QCooperative:  www.qcooperative.net
>>   ItOpen:   www.itopen.it
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.


From lauren.yang at blightanner.com.au  Thu Feb  2 17:48:22 2023
From: lauren.yang at blightanner.com.au (Lauren Yang)
Date: Fri, 3 Feb 2023 01:48:22 +0000
Subject: [QGIS-Developer] Pygis: Processing algorithms not releasing file
 handles
Message-ID: <SY6P282MB31731FB9822639BDE98682D0DBD79@SY6P282MB3173.AUSP282.PROD.OUTLOOK.COM>

Hello QGIS developers,

I have a problem where I am calling a processing algorithm with Python not releasing file handles.

The smallest reproducible code sample and work flow does the following:

  1.  Calls the native:rasterlayerzonalstatistics processing algorithm on a raster layer by adding it as a task through QgsApplication task manager
  2.  The callback is invoked as expected, the statistics file is generated
  3.  Remove the original layer in QGIS layers pane because you didn't like it/you want to do it again for whatever reason.  It seems to be removed successfully.
  4.  Now in file explorer, try to delete the layer file - get "file in use" error that won't go away until  you close QGIS

I see on stackoverflow this is intermittently reported https://gis.stackexchange.com/questions/433300/deleting-folder-and-processed-files-in-qgis-using-pyqgis and https://gis.stackexchange.com/questions/243520/deleting-raster-file-after-doing-some-processing-in-qgis but have only seen workarounds.

The files for the QGIS workspace that reproduces the problem is uploaded here: [?Folder icon]  QGISProcessingFileHandles<https://blightanner-my.sharepoint.com/:f:/g/personal/lauren_yang_blightanner_com_au/EvQ-xHtnXINFigK0FutFjngBxGKOlOB7M8pKVNYTAX4d5Q?e=sn9geF>  To reproduce the problem, in the python console of QGIS type exec(open('processFileSnippet.py').read())

I'm not sure if I'm not calling the processing algorithm correctly or not closing file handles when I should be.  If the link above doesn't work, I can provide the python file snippet and supporting raster file.
Other details -  OS: Windows 10 64 bit, QGIS version 3.22.5, Python 3.9.5

Any insight would be appreciated.

Thanks,
Lauren

Lauren Yang
Civil and Water Engineer

[cid:image001.jpg at 01D937C2.FCC321D0]<https://blightanner.com.au/>
Brisbane +61 7 3251 8555
Sydney +61 2 9170 3777
Direct +61 7 3251 8555
[cid:image002.png at 01D937C2.FCC321D0][cid:image003.png at 01D937C2.FCC321D0]<https://www.linkedin.com/company/1818291>[cid:image004.png at 01D937C2.FCC321D0]<https://www.instagram.com/blightanner/>[cid:image005.png at 01D937C2.FCC321D0]<https://blightanner.com.au/>
[nov Template1.png]<https://blightanner.com.au/news-article/tasmanian-cultural-hub-the-hedberg-wins-international-architecture-award/>
ISO9001 Quality Approved JAS-ANZ

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230203/c4d70511/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 7674 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230203/c4d70511/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 146 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230203/c4d70511/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 2843 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230203/c4d70511/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 3494 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230203/c4d70511/attachment-0008.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.png
Type: image/png
Size: 1570 bytes
Desc: image005.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230203/c4d70511/attachment-0009.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.png
Type: image/png
Size: 114460 bytes
Desc: image006.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230203/c4d70511/attachment-0010.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image007.png
Type: image/png
Size: 210 bytes
Desc: image007.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230203/c4d70511/attachment-0011.png>

From michel.nzikou at alumni.uleth.ca  Sun Feb  5 23:33:29 2023
From: michel.nzikou at alumni.uleth.ca (Nzikou, Michel)
Date: Mon, 6 Feb 2023 15:33:29 +0800
Subject: [QGIS-Developer] ROI create and save data to new layer name
Message-ID: <CALG-VUQKR9qA0XS-K4GPhc9LGikkCRfmi+cH13QZKVJRX7=fLw@mail.gmail.com>

Hello,

What is the best way to create a region of interest (ROI) from a layer,
then save it to a new layer name.
Here, I mean I want to save the data of the ROI in the new layer name.

Thanks

*Michel Nzikou, Ph.D.*
ASEG WA - President
*-----*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230206/300d07ad/attachment.htm>

From strk at kbt.io  Tue Feb  7 08:49:54 2023
From: strk at kbt.io (Sandro Santilli)
Date: Tue, 7 Feb 2023 17:49:54 +0100
Subject: [QGIS-Developer] 
 =?utf-8?q?=5Bsolved=5D_weird_RuntimeError=3A_qg?=
 =?utf-8?b?aXMuX2d1aSBjYW5ub3QgaW1wb3J0IHR5cGUgJ++/ve+/ve+/ve+/vScgZnJv?=
 =?utf-8?q?m_PytQT5=2EQtCore=22?=
In-Reply-To: <fa85a158-f4af-e1ce-343b-1731ee792c74@spatialys.com>
References: <fa85a158-f4af-e1ce-343b-1731ee792c74@spatialys.com>
Message-ID: <20230207164954.i3g73nb2oz3zsnep@c19>

On Mon, Jan 30, 2023 at 03:45:17PM +0100, Even Rouault via QGIS-Developer wrote:

> RuntimeError: qgis._gui cannot import type '????' from PyQt5.QtCore
> 
> Then the fix is to install python3-pyqt5.qtmultimedia

Thanks Even, thanks Alessandro who hinted you and thanks Hannes
who hinted me about this email on IRC !

This really saved my day.

--strk;


From rdmailings at duif.net  Tue Feb  7 23:52:33 2023
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 08 Feb 2023 08:52:33 +0100
Subject: [QGIS-Developer] Pyqgis master api search broken?
Message-ID: <579ead6180e409e8fd22751ed8006a18@duif.net>

Hi,

Am I right to conclude something is wrong with PyQGIS api (DOCS build) 
for master?

https://qgis.org/pyqgis/master/search.html
isn't working (missing jQuery?)
while
https://qgis.org/pyqgis/3.28/search.html
is working (with me)?

Others can confirm?

Regards,

Richard Duivenvoorde

From matteo.ghetta at gmail.com  Tue Feb  7 23:58:05 2023
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 8 Feb 2023 08:58:05 +0100
Subject: [QGIS-Developer] Pyqgis master api search broken?
In-Reply-To: <579ead6180e409e8fd22751ed8006a18@duif.net>
References: <579ead6180e409e8fd22751ed8006a18@duif.net>
Message-ID: <c0a41650-e235-8f9d-8443-cd6541c1bc41@gmail.com>

Hi Richard,

I can confirm: searching in master will stay there forever without 
finding anything.

Cheers

Matteo

On 2/8/23 08:52, Richard Duivenvoorde via QGIS-Developer wrote:
> Hi,
> 
> Am I right to conclude something is wrong with PyQGIS api (DOCS build) 
> for master?
> 
> https://qgis.org/pyqgis/master/search.html
> isn't working (missing jQuery?)
> while
> https://qgis.org/pyqgis/3.28/search.html
> is working (with me)?
> 
> Others can confirm?
> 
> Regards,
> 
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From denis.rouzaud at gmail.com  Tue Feb  7 23:59:57 2023
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Wed, 8 Feb 2023 08:59:57 +0100
Subject: [QGIS-Developer] Pyqgis master api search broken?
In-Reply-To: <c0a41650-e235-8f9d-8443-cd6541c1bc41@gmail.com>
References: <579ead6180e409e8fd22751ed8006a18@duif.net>
 <c0a41650-e235-8f9d-8443-cd6541c1bc41@gmail.com>
Message-ID: <CAMtsY+Z18OaC0MRPtrVx4JL_vvH1tAfwtMt-+=wDwUtpjLcUOg@mail.gmail.com>

Hi,

Is this related to this?
https://github.com/qgis/pyqgis/commit/465d915555a265e4f1828f0da623d32f8ac7a1de

Matteo, shall we try to revert?

Cheers,
Denis


Le mer. 8 f?vr. 2023 ? 08:58, matteo via QGIS-Developer <
qgis-developer at lists.osgeo.org> a ?crit :

> Hi Richard,
>
> I can confirm: searching in master will stay there forever without
> finding anything.
>
> Cheers
>
> Matteo
>
> On 2/8/23 08:52, Richard Duivenvoorde via QGIS-Developer wrote:
> > Hi,
> >
> > Am I right to conclude something is wrong with PyQGIS api (DOCS build)
> > for master?
> >
> > https://qgis.org/pyqgis/master/search.html
> > isn't working (missing jQuery?)
> > while
> > https://qgis.org/pyqgis/3.28/search.html
> > is working (with me)?
> >
> > Others can confirm?
> >
> > Regards,
> >
> > Richard Duivenvoorde
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230208/a2decadd/attachment.htm>

From matteo.ghetta at gmail.com  Wed Feb  8 00:12:08 2023
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 8 Feb 2023 09:12:08 +0100
Subject: [QGIS-Developer] Pyqgis master api search broken?
In-Reply-To: <CAMtsY+Z18OaC0MRPtrVx4JL_vvH1tAfwtMt-+=wDwUtpjLcUOg@mail.gmail.com>
References: <579ead6180e409e8fd22751ed8006a18@duif.net>
 <c0a41650-e235-8f9d-8443-cd6541c1bc41@gmail.com>
 <CAMtsY+Z18OaC0MRPtrVx4JL_vvH1tAfwtMt-+=wDwUtpjLcUOg@mail.gmail.com>
Message-ID: <f94a6989-e95a-6d09-4539-290079328f60@gmail.com>

Hi Denis,

> Is this related to this?
> https://github.com/qgis/pyqgis/commit/465d915555a265e4f1828f0da623d32f8ac7a1de <https://github.com/qgis/pyqgis/commit/465d915555a265e4f1828f0da623d32f8ac7a1de>
> 
> Matteo, shall we try to revert?

not sure about that. I was searching in the docs till yesterday and it 
was working. Has something changed in the last weeks?

Cheers

Matteo

> 
> Cheers,
> Denis
> 
> 
> Le?mer. 8 f?vr. 2023 ??08:58, matteo via QGIS-Developer 
> <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>> 
> a ?crit?:
> 
>     Hi Richard,
> 
>     I can confirm: searching in master will stay there forever without
>     finding anything.
> 
>     Cheers
> 
>     Matteo
> 
>     On 2/8/23 08:52, Richard Duivenvoorde via QGIS-Developer wrote:
>      > Hi,
>      >
>      > Am I right to conclude something is wrong with PyQGIS api (DOCS
>     build)
>      > for master?
>      >
>      > https://qgis.org/pyqgis/master/search.html
>     <https://qgis.org/pyqgis/master/search.html>
>      > isn't working (missing jQuery?)
>      > while
>      > https://qgis.org/pyqgis/3.28/search.html
>     <https://qgis.org/pyqgis/3.28/search.html>
>      > is working (with me)?
>      >
>      > Others can confirm?
>      >
>      > Regards,
>      >
>      > Richard Duivenvoorde
>      > _______________________________________________
>      > QGIS-Developer mailing list
>      > QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>      > List info:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>      > Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 

From rdmailings at duif.net  Wed Feb  8 00:46:47 2023
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 08 Feb 2023 09:46:47 +0100
Subject: [QGIS-Developer] Pyqgis master api search broken?
In-Reply-To: <f94a6989-e95a-6d09-4539-290079328f60@gmail.com>
References: <579ead6180e409e8fd22751ed8006a18@duif.net>
 <c0a41650-e235-8f9d-8443-cd6541c1bc41@gmail.com>
 <CAMtsY+Z18OaC0MRPtrVx4JL_vvH1tAfwtMt-+=wDwUtpjLcUOg@mail.gmail.com>
 <f94a6989-e95a-6d09-4539-290079328f60@gmail.com>
Message-ID: <a9c9119a6b9cd1b5bd1f1ebee114bdfd@duif.net>

Now 3.28 is also 'affected' ?

In dev console I see:
Uncaught ReferenceError: jQuery is not defined

is some jquery cdn failing?

Regards,

Richard Duivenvoorde


On 2023-02-08 09:12, matteo via QGIS-Developer wrote:
> Hi Denis,
> 
>> Is this related to this?
>> https://github.com/qgis/pyqgis/commit/465d915555a265e4f1828f0da623d32f8ac7a1de 
>> <https://github.com/qgis/pyqgis/commit/465d915555a265e4f1828f0da623d32f8ac7a1de>
>> 
>> Matteo, shall we try to revert?
> 
> not sure about that. I was searching in the docs till yesterday and it
> was working. Has something changed in the last weeks?
> 
> Cheers
> 
> Matteo
> 
>> 
>> Cheers,
>> Denis
>> 
>> 
>> Le?mer. 8 f?vr. 2023 ??08:58, matteo via QGIS-Developer 
>> <qgis-developer at lists.osgeo.org 
>> <mailto:qgis-developer at lists.osgeo.org>> a ?crit?:
>> 
>>     Hi Richard,
>> 
>>     I can confirm: searching in master will stay there forever without
>>     finding anything.
>> 
>>     Cheers
>> 
>>     Matteo
>> 
>>     On 2/8/23 08:52, Richard Duivenvoorde via QGIS-Developer wrote:
>>      > Hi,
>>      >
>>      > Am I right to conclude something is wrong with PyQGIS api (DOCS
>>     build)
>>      > for master?
>>      >
>>      > https://qgis.org/pyqgis/master/search.html
>>     <https://qgis.org/pyqgis/master/search.html>
>>      > isn't working (missing jQuery?)
>>      > while
>>      > https://qgis.org/pyqgis/3.28/search.html
>>     <https://qgis.org/pyqgis/3.28/search.html>
>>      > is working (with me)?
>>      >
>>      > Others can confirm?
>>      >
>>      > Regards,
>>      >
>>      > Richard Duivenvoorde
>>      > _______________________________________________
>>      > QGIS-Developer mailing list
>>      > QGIS-Developer at lists.osgeo.org
>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>      > List info:
>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>      > Unsubscribe:
>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>     _______________________________________________
>>     QGIS-Developer mailing list
>>     QGIS-Developer at lists.osgeo.org 
>> <mailto:QGIS-Developer at lists.osgeo.org>
>>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>     Unsubscribe: 
>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From rdmailings at duif.net  Wed Feb  8 00:51:00 2023
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 8 Feb 2023 09:51:00 +0100
Subject: [QGIS-Developer] Pyqgis master api search broken?
In-Reply-To: <a9c9119a6b9cd1b5bd1f1ebee114bdfd@duif.net>
References: <579ead6180e409e8fd22751ed8006a18@duif.net>
 <c0a41650-e235-8f9d-8443-cd6541c1bc41@gmail.com>
 <CAMtsY+Z18OaC0MRPtrVx4JL_vvH1tAfwtMt-+=wDwUtpjLcUOg@mail.gmail.com>
 <f94a6989-e95a-6d09-4539-290079328f60@gmail.com>
 <a9c9119a6b9cd1b5bd1f1ebee114bdfd@duif.net>
Message-ID: <54cdb204-7479-9018-7da0-5afc7e6e4dcd@duif.net>

3.18 still working, having jquery,js in it's _static dir (well, at THIS moment...):

https://qgis.org/pyqgis/3.18/_static/jquery.js

Failing ones miss it

https://qgis.org/pyqgis/3.22/_static/jquery.js

Is there some security issue with a certain version which isn't available anymore

(all just guessing here)

Richard

On 2/8/23 09:46, Richard Duivenvoorde via QGIS-Developer wrote:
> Now 3.28 is also 'affected' ?
> 
> In dev console I see:
> Uncaught ReferenceError: jQuery is not defined
> 
> is some jquery cdn failing?
> 
> Regards,
> 
> Richard Duivenvoorde
> 
> 
> On 2023-02-08 09:12, matteo via QGIS-Developer wrote:
>> Hi Denis,
>>
>>> Is this related to this?
>>> https://github.com/qgis/pyqgis/commit/465d915555a265e4f1828f0da623d32f8ac7a1de <https://github.com/qgis/pyqgis/commit/465d915555a265e4f1828f0da623d32f8ac7a1de>
>>>
>>> Matteo, shall we try to revert?
>>
>> not sure about that. I was searching in the docs till yesterday and it
>> was working. Has something changed in the last weeks?
>>
>> Cheers
>>
>> Matteo
>>
>>>
>>> Cheers,
>>> Denis
>>>
>>>
>>> Le?mer. 8 f?vr. 2023 ??08:58, matteo via QGIS-Developer <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>> a ?crit?:
>>>
>>> ??? Hi Richard,
>>>
>>> ??? I can confirm: searching in master will stay there forever without
>>> ??? finding anything.
>>>
>>> ??? Cheers
>>>
>>> ??? Matteo
>>>
>>> ??? On 2/8/23 08:52, Richard Duivenvoorde via QGIS-Developer wrote:
>>> ???? > Hi,
>>> ???? >
>>> ???? > Am I right to conclude something is wrong with PyQGIS api (DOCS
>>> ??? build)
>>> ???? > for master?
>>> ???? >
>>> ???? > https://qgis.org/pyqgis/master/search.html
>>> ??? <https://qgis.org/pyqgis/master/search.html>
>>> ???? > isn't working (missing jQuery?)
>>> ???? > while
>>> ???? > https://qgis.org/pyqgis/3.28/search.html
>>> ??? <https://qgis.org/pyqgis/3.28/search.html>
>>> ???? > is working (with me)?
>>> ???? >
>>> ???? > Others can confirm?
>>> ???? >
>>> ???? > Regards,
>>> ???? >
>>> ???? > Richard Duivenvoorde
>>> ???? > _______________________________________________
>>> ???? > QGIS-Developer mailing list
>>> ???? > QGIS-Developer at lists.osgeo.org
>>> ??? <mailto:QGIS-Developer at lists.osgeo.org>
>>> ???? > List info:
>>> ??? https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> ??? <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>> ???? > Unsubscribe:
>>> ??? https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> ??? <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>> ??? _______________________________________________
>>> ??? QGIS-Developer mailing list
>>> ??? QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>>> ??? List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> ??? <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>> ??? Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> ??? <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From matteo.ghetta at gmail.com  Wed Feb  8 00:53:14 2023
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 8 Feb 2023 09:53:14 +0100
Subject: [QGIS-Developer] Pyqgis master api search broken?
In-Reply-To: <a9c9119a6b9cd1b5bd1f1ebee114bdfd@duif.net>
References: <579ead6180e409e8fd22751ed8006a18@duif.net>
 <c0a41650-e235-8f9d-8443-cd6541c1bc41@gmail.com>
 <CAMtsY+Z18OaC0MRPtrVx4JL_vvH1tAfwtMt-+=wDwUtpjLcUOg@mail.gmail.com>
 <f94a6989-e95a-6d09-4539-290079328f60@gmail.com>
 <a9c9119a6b9cd1b5bd1f1ebee114bdfd@duif.net>
Message-ID: <8e9cfcc1-f240-0d63-8b7f-68e026e1d230@gmail.com>

Hi Richard,

3.28 is working fine for me here. I don't see any JQuery related error 
in the debugging console.

Where are you seeing this error?

Cheers

Matteo



On 2/8/23 09:46, Richard Duivenvoorde wrote:
> Now 3.28 is also 'affected' ?
> 
> In dev console I see:
> Uncaught ReferenceError: jQuery is not defined
> 
> is some jquery cdn failing?
> 
> Regards,
> 
> Richard Duivenvoorde
> 
> 
> On 2023-02-08 09:12, matteo via QGIS-Developer wrote:
>> Hi Denis,
>>
>>> Is this related to this?
>>> https://github.com/qgis/pyqgis/commit/465d915555a265e4f1828f0da623d32f8ac7a1de <https://github.com/qgis/pyqgis/commit/465d915555a265e4f1828f0da623d32f8ac7a1de>
>>>
>>> Matteo, shall we try to revert?
>>
>> not sure about that. I was searching in the docs till yesterday and it
>> was working. Has something changed in the last weeks?
>>
>> Cheers
>>
>> Matteo
>>
>>>
>>> Cheers,
>>> Denis
>>>
>>>
>>> Le?mer. 8 f?vr. 2023 ??08:58, matteo via QGIS-Developer 
>>> <qgis-developer at lists.osgeo.org 
>>> <mailto:qgis-developer at lists.osgeo.org>> a ?crit?:
>>>
>>> ??? Hi Richard,
>>>
>>> ??? I can confirm: searching in master will stay there forever without
>>> ??? finding anything.
>>>
>>> ??? Cheers
>>>
>>> ??? Matteo
>>>
>>> ??? On 2/8/23 08:52, Richard Duivenvoorde via QGIS-Developer wrote:
>>> ???? > Hi,
>>> ???? >
>>> ???? > Am I right to conclude something is wrong with PyQGIS api (DOCS
>>> ??? build)
>>> ???? > for master?
>>> ???? >
>>> ???? > https://qgis.org/pyqgis/master/search.html
>>> ??? <https://qgis.org/pyqgis/master/search.html>
>>> ???? > isn't working (missing jQuery?)
>>> ???? > while
>>> ???? > https://qgis.org/pyqgis/3.28/search.html
>>> ??? <https://qgis.org/pyqgis/3.28/search.html>
>>> ???? > is working (with me)?
>>> ???? >
>>> ???? > Others can confirm?
>>> ???? >
>>> ???? > Regards,
>>> ???? >
>>> ???? > Richard Duivenvoorde
>>> ???? > _______________________________________________
>>> ???? > QGIS-Developer mailing list
>>> ???? > QGIS-Developer at lists.osgeo.org
>>> ??? <mailto:QGIS-Developer at lists.osgeo.org>
>>> ???? > List info:
>>> ??? https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> ??? <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>> ???? > Unsubscribe:
>>> ??? https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> ??? <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>> ??? _______________________________________________
>>> ??? QGIS-Developer mailing list
>>> ??? QGIS-Developer at lists.osgeo.org 
>>> <mailto:QGIS-Developer at lists.osgeo.org>
>>> ??? List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> ??? <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>> ??? Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> ??? <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From johannes.kroeger at wheregroup.com  Wed Feb  8 01:12:46 2023
From: johannes.kroeger at wheregroup.com (=?UTF-8?Q?Johannes_Kr=c3=b6ger_=28WhereGroup=29?=)
Date: Wed, 8 Feb 2023 10:12:46 +0100
Subject: [QGIS-Developer] Pyqgis master api search broken?
In-Reply-To: <8e9cfcc1-f240-0d63-8b7f-68e026e1d230@gmail.com>
References: <579ead6180e409e8fd22751ed8006a18@duif.net>
 <c0a41650-e235-8f9d-8443-cd6541c1bc41@gmail.com>
 <CAMtsY+Z18OaC0MRPtrVx4JL_vvH1tAfwtMt-+=wDwUtpjLcUOg@mail.gmail.com>
 <f94a6989-e95a-6d09-4539-290079328f60@gmail.com>
 <a9c9119a6b9cd1b5bd1f1ebee114bdfd@duif.net>
 <8e9cfcc1-f240-0d63-8b7f-68e026e1d230@gmail.com>
Message-ID: <f6695041-917f-f6da-71c6-1af77c87cf99@wheregroup.com>

Broken for me as well, I tested 3.28 and master in different browsers. 
They show

Uncaught ReferenceError: jQuery is not defined
 ??? at search.html?q=qgisinterface&check_keywords=yes&area=default:2239:7
Uncaught ReferenceError: jQuery is not defined
 ??? at search.html?q=qgisinterface&check_keywords=yes&area=default:2244:5

and an unrelated 404 for /_static/qgis.ico/ in the console.

Cheers, Hannes

Am 08.02.23 um 09:53 schrieb matteo via QGIS-Developer:
> Hi Richard,
>
> 3.28 is working fine for me here. I don't see any JQuery related error 
> in the debugging console.
>
> Where are you seeing this error?
>
> Cheers
>
> Matteo
>
>
>
> On 2/8/23 09:46, Richard Duivenvoorde wrote:
>> Now 3.28 is also 'affected' ?
>>
>> In dev console I see:
>> Uncaught ReferenceError: jQuery is not defined
>>
>> is some jquery cdn failing?
>>
>> Regards,
>>
>> Richard Duivenvoorde
>>
>>
>> On 2023-02-08 09:12, matteo via QGIS-Developer wrote:
>>> Hi Denis,
>>>
>>>> Is this related to this?
>>>> https://github.com/qgis/pyqgis/commit/465d915555a265e4f1828f0da623d32f8ac7a1de 
>>>> <https://github.com/qgis/pyqgis/commit/465d915555a265e4f1828f0da623d32f8ac7a1de> 
>>>>
>>>>
>>>> Matteo, shall we try to revert?
>>>
>>> not sure about that. I was searching in the docs till yesterday and it
>>> was working. Has something changed in the last weeks?
>>>
>>> Cheers
>>>
>>> Matteo
>>>
>>>>
>>>> Cheers,
>>>> Denis
>>>>
>>>>
>>>> Le?mer. 8 f?vr. 2023 ??08:58, matteo via QGIS-Developer 
>>>> <qgis-developer at lists.osgeo.org 
>>>> <mailto:qgis-developer at lists.osgeo.org>> a ?crit?:
>>>>
>>>> ??? Hi Richard,
>>>>
>>>> ??? I can confirm: searching in master will stay there forever without
>>>> ??? finding anything.
>>>>
>>>> ??? Cheers
>>>>
>>>> ??? Matteo
>>>>
>>>> ??? On 2/8/23 08:52, Richard Duivenvoorde via QGIS-Developer wrote:
>>>> ???? > Hi,
>>>> ???? >
>>>> ???? > Am I right to conclude something is wrong with PyQGIS api (DOCS
>>>> ??? build)
>>>> ???? > for master?
>>>> ???? >
>>>> ???? > https://qgis.org/pyqgis/master/search.html
>>>> ??? <https://qgis.org/pyqgis/master/search.html>
>>>> ???? > isn't working (missing jQuery?)
>>>> ???? > while
>>>> ???? > https://qgis.org/pyqgis/3.28/search.html
>>>> ??? <https://qgis.org/pyqgis/3.28/search.html>
>>>> ???? > is working (with me)?
>>>> ???? >
>>>> ???? > Others can confirm?
>>>> ???? >
>>>> ???? > Regards,
>>>> ???? >
>>>> ???? > Richard Duivenvoorde
>>>> ???? > _______________________________________________
>>>> ???? > QGIS-Developer mailing list
>>>> ???? > QGIS-Developer at lists.osgeo.org
>>>> ??? <mailto:QGIS-Developer at lists.osgeo.org>
>>>> ???? > List info:
>>>> ??? https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>> ???? > Unsubscribe:
>>>> ??? https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>> ??? _______________________________________________
>>>> ??? QGIS-Developer mailing list
>>>> ??? QGIS-Developer at lists.osgeo.org 
>>>> <mailto:QGIS-Developer at lists.osgeo.org>
>>>> ??? List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>> ??? Unsubscribe: 
>>>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Johannes Kr?ger / GIS-Entwickler/-Berater

**********************************************
FOSSGIS Konferenz
15.-18. M?rz 2023 in Berlin
https://fossgis-konferenz.de/2023/

WhereGroup-Beitr?ge auf der FOSSGIS
https://wheregroup.com/unternehmen/aktuelles/
**********************************************

WhereGroup GmbH
Grevenweg 89
20537 Hamburg
Germany

Tel: +49 (0)228 / 90 90 38 - 36
Fax: +49 (0)228 / 90 90 38 - 11

johannes.kroeger at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885
-------------------------------


From pgathogo at gmail.com  Wed Feb  8 01:15:47 2023
From: pgathogo at gmail.com (Paul Gathogo)
Date: Wed, 8 Feb 2023 12:15:47 +0300
Subject: [QGIS-Developer] ImportError: QgsCodeEditorPython
Message-ID: <CAFFfZ9JFifbvBUGT0XiGhCvjcOEBsq9x797ChLrv+-cgf+-tVQ@mail.gmail.com>

Hello Devs,

I've built and packaged QGIS ltr-3.22 in windows, however, when I run it
after installation, I get the following error message on start-up. This
error also appears when you try to import the QgsCodeEditorPython class
straight from the command line python console (from *qgis.gui import
QgsCodeEditorPython*)

I noticed something suspicious: the GUI interface file (Program Files\QGIS
Firenze (3.22.0) for STDM\apps\qgis\python\qgis\_gui *pyi*) does not define
the class QgsCodeEditorPython.

An error occurred during execution of following code:
import console

Traceback (most recent call last):
  File "", line 1, in
  File "C:\PROGRA~1/QGISFI~1.0)F/apps/qgis/./python\qgis\utils.py",
line 888, in _import
    mod = _builtin_import(name, globals, locals, fromlist, level)
  File "C:\PROGRA~1/QGISFI~1.0)F/apps/qgis/./python\console\__init__.py",
line 24, in
    from .console import show_console  # NOQA
  File "C:\PROGRA~1/QGISFI~1.0)F/apps/qgis/./python\qgis\utils.py",
line 888, in _import
    mod = _builtin_import(name, globals, locals, fromlist, level)
  File "C:\PROGRA~1/QGISFI~1.0)F/apps/qgis/./python\console\console.py",
line 31, in
    from .console_sci import ShellScintilla
  File "C:\PROGRA~1/QGISFI~1.0)F/apps/qgis/./python\qgis\utils.py",
line 888, in _import
    mod = _builtin_import(name, globals, locals, fromlist, level)
  File "C:\PROGRA~1/QGISFI~1.0)F/apps/qgis/./python\console\console_sci.py",
line 26, in
    from qgis.gui import (
ImportError: cannot import name 'QgsCodeEditorPython' from 'qgis.gui'
(C:\PROGRA~1/QGISFI~1.0)F/apps/qgis/./python\qgis\gui\__init__.py)

Regards,

Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230208/30fcb1de/attachment.htm>

From delazj at gmail.com  Wed Feb  8 01:31:26 2023
From: delazj at gmail.com (Delaz J)
Date: Wed, 8 Feb 2023 10:31:26 +0100
Subject: [QGIS-Developer] Pyqgis master api search broken?
In-Reply-To: <f6695041-917f-f6da-71c6-1af77c87cf99@wheregroup.com>
References: <579ead6180e409e8fd22751ed8006a18@duif.net>
 <c0a41650-e235-8f9d-8443-cd6541c1bc41@gmail.com>
 <CAMtsY+Z18OaC0MRPtrVx4JL_vvH1tAfwtMt-+=wDwUtpjLcUOg@mail.gmail.com>
 <f94a6989-e95a-6d09-4539-290079328f60@gmail.com>
 <a9c9119a6b9cd1b5bd1f1ebee114bdfd@duif.net>
 <8e9cfcc1-f240-0d63-8b7f-68e026e1d230@gmail.com>
 <f6695041-917f-f6da-71c6-1af77c87cf99@wheregroup.com>
Message-ID: <f23766fd-afbc-866a-82fb-6cc887041975@gmail.com>

Hi,

Probably related to 
https://github.com/readthedocs/sphinx_rtd_theme/issues/1420

Need to check what version we are running...

Harrissou

Le 08/02/2023 ? 10:12, Johannes Kr?ger (WhereGroup) via QGIS-Developer a 
?crit?:
> Broken for me as well, I tested 3.28 and master in different browsers. 
> They show
>
> Uncaught ReferenceError: jQuery is not defined
> ??? at search.html?q=qgisinterface&check_keywords=yes&area=default:2239:7
> Uncaught ReferenceError: jQuery is not defined
> ??? at search.html?q=qgisinterface&check_keywords=yes&area=default:2244:5
>
> and an unrelated 404 for /_static/qgis.ico/ in the console.
>
> Cheers, Hannes
>
> Am 08.02.23 um 09:53 schrieb matteo via QGIS-Developer:
>> Hi Richard,
>>
>> 3.28 is working fine for me here. I don't see any JQuery related 
>> error in the debugging console.
>>
>> Where are you seeing this error?
>>
>> Cheers
>>
>> Matteo
>>
>>
>>
>> On 2/8/23 09:46, Richard Duivenvoorde wrote:
>>> Now 3.28 is also 'affected' ?
>>>
>>> In dev console I see:
>>> Uncaught ReferenceError: jQuery is not defined
>>>
>>> is some jquery cdn failing?
>>>
>>> Regards,
>>>
>>> Richard Duivenvoorde
>>>
>>>
>>> On 2023-02-08 09:12, matteo via QGIS-Developer wrote:
>>>> Hi Denis,
>>>>
>>>>> Is this related to this?
>>>>> https://github.com/qgis/pyqgis/commit/465d915555a265e4f1828f0da623d32f8ac7a1de 
>>>>> <https://github.com/qgis/pyqgis/commit/465d915555a265e4f1828f0da623d32f8ac7a1de> 
>>>>>
>>>>>
>>>>> Matteo, shall we try to revert?
>>>>
>>>> not sure about that. I was searching in the docs till yesterday and it
>>>> was working. Has something changed in the last weeks?
>>>>
>>>> Cheers
>>>>
>>>> Matteo
>>>>
>>>>>
>>>>> Cheers,
>>>>> Denis
>>>>>
>>>>>
>>>>> Le?mer. 8 f?vr. 2023 ??08:58, matteo via QGIS-Developer 
>>>>> <qgis-developer at lists.osgeo.org 
>>>>> <mailto:qgis-developer at lists.osgeo.org>> a ?crit?:
>>>>>
>>>>> ??? Hi Richard,
>>>>>
>>>>> ??? I can confirm: searching in master will stay there forever 
>>>>> without
>>>>> ??? finding anything.
>>>>>
>>>>> ??? Cheers
>>>>>
>>>>> ??? Matteo
>>>>>
>>>>> ??? On 2/8/23 08:52, Richard Duivenvoorde via QGIS-Developer wrote:
>>>>> ???? > Hi,
>>>>> ???? >
>>>>> ???? > Am I right to conclude something is wrong with PyQGIS api 
>>>>> (DOCS
>>>>> ??? build)
>>>>> ???? > for master?
>>>>> ???? >
>>>>> ???? > https://qgis.org/pyqgis/master/search.html
>>>>> ??? <https://qgis.org/pyqgis/master/search.html>
>>>>> ???? > isn't working (missing jQuery?)
>>>>> ???? > while
>>>>> ???? > https://qgis.org/pyqgis/3.28/search.html
>>>>> ??? <https://qgis.org/pyqgis/3.28/search.html>
>>>>> ???? > is working (with me)?
>>>>> ???? >
>>>>> ???? > Others can confirm?
>>>>> ???? >
>>>>> ???? > Regards,
>>>>> ???? >
>>>>> ???? > Richard Duivenvoorde
>>>>> ???? > _______________________________________________
>>>>> ???? > QGIS-Developer mailing list
>>>>> ???? > QGIS-Developer at lists.osgeo.org
>>>>> ??? <mailto:QGIS-Developer at lists.osgeo.org>
>>>>> ???? > List info:
>>>>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>> ???? > Unsubscribe:
>>>>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>> ??? _______________________________________________
>>>>> ??? QGIS-Developer mailing list
>>>>> ??? QGIS-Developer at lists.osgeo.org 
>>>>> <mailto:QGIS-Developer at lists.osgeo.org>
>>>>> ??? List info: 
>>>>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>> ??? Unsubscribe: 
>>>>> https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>> <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>>>>
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

From rdmailings at duif.net  Wed Feb  8 02:13:54 2023
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 8 Feb 2023 11:13:54 +0100
Subject: [QGIS-Developer] QGIS Plugin crash
In-Reply-To: <14439369a86a45adbd00ada4d1d255a9@juntadeandalucia.es>
References: <14439369a86a45adbd00ada4d1d255a9@juntadeandalucia.es>
Message-ID: <b784036e-78cc-2db4-a3da-89a88de9fbd2@duif.net>

If you search for "SIGPAC downloader" in the Plugin manager,

You see in the right panel: 'More info" with (if all is ok) links to the
- Plugin Homepage
- bug tracker of the plugin
- public code repository

If I do that, I see that

https://github.com/geomatico/qgis-sigpac/ is the code repo AND the homepage
https://github.com/geomatico/qgis-sigpac/issues is the bug tracker

So please create an issue there, or try to contact the plugin authors there
(if you click the authors, they have public xxx at geomati.co mail addresses)

Regards,

Richard Duivenvoorde

On 11/23/22 11:52, Jose Antonio Fernandez Martin via QGIS-Developer wrote:
> Hello everyone,
> 
> my name is Jose and I have just?suscribed to this mailing list. Apologies if my English is not very accurate, as I don't practice it very often here in Spain :-)
> 
> My organization is having problems when using QGIS 3.14.15 with the "SIGPAC downloader" plugin. And I haven't found any bug tracker for that specific plugin so according to the QGIS Plugin page I should report the problem on this list. Upgrading to QGIS 3.22 doesn't solve the problem.
> 
> The first issue comes when the plugin is installed. An error says "The plugin 'sigpac_downloader' could not be loaded because an error ocurred when calling the classFactory method" (translated from my spanish version of QGIS)
> 
> The full error trace is provided in the attached document "SIGPACDownloader_install.txt"
> 
> However there is apparently one workaround to that issue, you just have to select "reinstall" plugin and it finishes ok. After re-entering QGIS, the plugin is loaded and the menu entry appears in the "plugins" menu entry.
> 
> But the real problem comes when trying to use the plugin: The SIGPAC Downloader window opens and says you have to accept the Terms Of Use. When clicking on the proper button, a new window opens with blank content (nothing is loaded) and after a few seconds the QGIS "Unexpected Error" window appears suggesting to report the crash and quit the program. The crash report is?enclosed in this email as "stack.txt"
> 
> Some relevant information about our QGIS settings: An HTTP Proxy is used for web connections, so the server, port, username and password are set in order to access the plugin repository.
> 
> Looking forward to read from you.
> 
> Kid regards,
> 
> Jose.
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From djes1975 at gmail.com  Wed Feb  8 03:03:08 2023
From: djes1975 at gmail.com (=?UTF-8?Q?J=C3=A9sahel_Benoist?=)
Date: Wed, 8 Feb 2023 12:03:08 +0100
Subject: [QGIS-Developer] 3.28 speedup
Message-ID: <CAOSu6ZHbET7mkhCdQ_TsQeFnBttoAD8Eo+Vcqg6vxUn_M27z=w@mail.gmail.com>

Hi,

Just a quick message to say thank you to all developpers as I have noticed
a good speedup with the latest 3.28 update. I retreive the QGIS like it was
with 3.16 and it's great ?

Good job ?

J?sahel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230208/52bd30c9/attachment.htm>

From surveykshak at gmail.com  Mon Feb  6 03:50:12 2023
From: surveykshak at gmail.com (Paul N)
Date: Mon, 6 Feb 2023 17:20:12 +0530
Subject: [QGIS-Developer] Error loading video in tooltip.
Message-ID: <CAGy7cYn3OH23KWHpELdRjo0Jd2M6d-muff=QubDMKaCC=AS2pw@mail.gmail.com>

Hi,
I am try to add video in tool tip or html annotation tag using

<iframe src=[%"column_name"%]  width ="400" height "300" frameborder="0" >
</iframe>

Loading is handle by the media engine.
Failed to load URL ... (Value of column)
Detail result in screenshot attached.

How to play video in qgis using tooltip. Where I am wrong.




Paul N
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230206/285cc7fe/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PXL_20230206_110246913.jpg
Type: image/jpeg
Size: 3560918 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230206/285cc7fe/attachment-0001.jpg>

From rdmailings at duif.net  Wed Feb  8 12:40:08 2023
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 8 Feb 2023 21:40:08 +0100
Subject: [QGIS-Developer] Load a QgsMeshLayer within a QgsTask... different
 Threads?
Message-ID: <e02353d9-cc7c-2916-de98-23b49cf43c64@duif.net>

Hi,

Having to juggle with rather large/long loading netcdf files, I thought to off load the loading to a QgsTask, so while the netcdf was loaded user could do other things...

But I get "...is run from a different thread than the object  lives in ..." warnings.

In short:

     def run(self) -> bool:
         log.info(f'LOADING... {self.netcdf_file}')
         try:
             self.layer = QgsMeshLayer(self.netcdf_file, 'PythonLoadedMeshLayer',  'mdal')
     ....

BUT: while it looks like all is fine, I get a Qt warning in my messages, and on my terminal I get:

[INFO] (Dummy-1   ) LOADING... /tmp/kees/aoi/aoi1/areaOfInterest1.nc
Warning: fileName (/home/richard/git/qgis/src/core/project/qgsproject.cpp:812) is run from a different thread than the object  lives in [0x5593004f1aa0 vs 0x5592ff7e6440]
Stacktrace (piped through c++filt):
/home/richard/bin/qgis_/master/debug/bin/qgis(+0xe26a)[0x5592fe9ba26a]
/home/richard/bin/qgis_/master/debug/bin/qgis(+0xea29)[0x5592fe9baa29]
/lib/x86_64-linux-gnu/libQt5Core.so.5(+0xc3b50)[0x7fc594ec3b50]
/lib/x86_64-linux-gnu/libQt5Core.so.5(qt_message_output(QtMsgType, QMessageLogContext const&, QString const&)+0xd)[0x7fc594ec50fd]
/lib/x86_64-linux-gnu/libQt5Core.so.5(QDebug::~QDebug()+0x68)[0x7fc594fc6fa8]
/home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsProject::fileName() const+0x267)[0x7fc592f1af2f]
/home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadNamedProperty(QString const&, QgsMapLayer::PropertyType, bool&, QFlags<QgsMapLayer::StyleCategory>)+0x752)[0x7fc592a215c0]
/home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadNamedStyle(QString const&, bool&, QFlags<QgsMapLayer::StyleCategory>)+0x2b1)[0x7fc592a20b8f]
/home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadDefaultStyle(bool&)+0x2dc)[0x7fc592a1f6ec]
/home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMeshLayer::loadDefaultStyle(bool&)+0x685)[0x7fc5930a84bb]
/home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMeshLayer::QgsMeshLayer(QString const&, QString const&, QString const&, QgsMeshLayer::LayerOptions const&)+0x2b9)[0x7fc5930a5ab1]
/home/richard/bin/qgis_/master/debug/share/qgis/python/qgis/_core.so(sipQgsMeshLayer::sipQgsMeshLayer(QString const&, QString const&, QString const&, QgsMeshLayer::LayerOptions const&)+0x3b)[0x7fc43040b9c7]
/home/richard/bin/qgis_/master/debug/share/qgis/python/qgis/_core.so(+0x121a0bc)[0x7fc43041a0bc]
/usr/lib/python3/dist-packages/PyQt5/sip.cpython-311-x86_64-linux-gnu.so(+0x19f60)[0x7fc4dc271f60]
/lib/x86_64-linux-gnu/libpython3.11.so.1.0(+0x1e02fe)[0x7fc47a5e02fe]
/lib/x86_64-linux-gnu/libpython3.11.so.1.0(_PyObject_MakeTpCall+0x7d)[0x7fc47a57baed]
/lib/x86_64-linux-gnu/libpython3.11.so.1.0(_PyEval_EvalFrameDefault+0x4a63)[0x7fc47a509c63]
/lib/x86_64-linux-gnu/libpython3.11.so.1.0(+0x26a6da)[0x7fc47a66a6da]
/lib/x86_64-linux-gnu/libpython3.11.so.1.0(+0x17f30c)[0x7fc47a57f30c]
/usr/lib/python3/dist-packages/PyQt5/sip.cpython-311-x86_64-linux-gnu.so(+0x1196c)[0x7fc4dc26996c]
[INFO] (MainThread) finished OK

My Questions:
- should I NOT do this?
- or is the loading/construction of a QgsMeshLayer having pointers to places it should not?

(mmm loading a QgsVectorLayer (shape via ogr) also results in about the same warnings...
so next question: is there another way to load these large netcdf's without blocking QGIS ?)

Thanks for any info.

Regards,

Richard Duivenvoorde

From phidrho at gmail.com  Wed Feb  8 15:20:44 2023
From: phidrho at gmail.com (=?UTF-8?Q?Vedran_Stojnovi=C4=87?=)
Date: Thu, 9 Feb 2023 00:20:44 +0100
Subject: [QGIS-Developer] Why is "Execute SQL" limited to only one query at
 a time?
Message-ID: <CAL9iSMHnZ82N6TGVSW2jM834vkUaXZDwB5OVXukG0YbeQSc06A@mail.gmail.com>

Hi everyone,

I would like to write a feature request for executing more than one SQL
query at a time, but before I do, I would like to check why is it limited
in the first place, maybe there's a good reason why it doesn't work by
default?

So I was trying to execute few UPDATE statements through "DB Manager..." on
GPKG layer and got following message "You can only execute one statement at
a time." as result.
I also tried through "Execute SQL" dialog (available on right click in
Browser panel on GPKG layer > Execute SQL), but only first statement was
executed and all other are ignored.

--
Kind regards,
Vedran Stojnovi?.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230209/8b4052ad/attachment.htm>

From rdmailings at duif.net  Thu Feb  9 00:18:26 2023
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 9 Feb 2023 09:18:26 +0100
Subject: [QGIS-Developer] Load a QgsMeshLayer within a QgsTask...
 different Threads?
In-Reply-To: <e02353d9-cc7c-2916-de98-23b49cf43c64@duif.net>
References: <e02353d9-cc7c-2916-de98-23b49cf43c64@duif.net>
Message-ID: <19053abd-e1db-2376-0762-9328823217ad@duif.net>

Ok after reading https://docs.qgis.org/3.28/en/docs/pyqgis_developer_cookbook/tasks.html again, reading the warning:

"Any background task (regardless of how it is created) must NEVER use any QObject that lives on the main thread, such as accessing QgsVectorLayer, QgsProject or perform any GUI based operations like creating new widgets or interacting with existing widgets. Qt widgets must only be accessed or modified from the main thread. Data that is used in a task must be copied before the task is started. Attempting to use them from background threads will result in crashes."

Seems to make it pretty clear :-(

Before rereading that, I even tried to pass a QgsMeshLayer-'reference' to the QgsTask, but that did not work either.

I think I must conclude that I just have to wait for the load... :-)

Regards,

Richard Duivenvoorde



On 2/8/23 21:40, Richard Duivenvoorde via QGIS-Developer wrote:
> Hi,
> 
> Having to juggle with rather large/long loading netcdf files, I thought to off load the loading to a QgsTask, so while the netcdf was loaded user could do other things...
> 
> But I get "...is run from a different thread than the object? lives in ..." warnings.
> 
> In short:
> 
>  ??? def run(self) -> bool:
>  ??????? log.info(f'LOADING... {self.netcdf_file}')
>  ??????? try:
>  ??????????? self.layer = QgsMeshLayer(self.netcdf_file, 'PythonLoadedMeshLayer',? 'mdal')
>  ??? ....
> 
> BUT: while it looks like all is fine, I get a Qt warning in my messages, and on my terminal I get:
> 
> [INFO] (Dummy-1?? ) LOADING... /tmp/kees/aoi/aoi1/areaOfInterest1.nc
> Warning: fileName (/home/richard/git/qgis/src/core/project/qgsproject.cpp:812) is run from a different thread than the object? lives in [0x5593004f1aa0 vs 0x5592ff7e6440]
> Stacktrace (piped through c++filt):
> /home/richard/bin/qgis_/master/debug/bin/qgis(+0xe26a)[0x5592fe9ba26a]
> /home/richard/bin/qgis_/master/debug/bin/qgis(+0xea29)[0x5592fe9baa29]
> /lib/x86_64-linux-gnu/libQt5Core.so.5(+0xc3b50)[0x7fc594ec3b50]
> /lib/x86_64-linux-gnu/libQt5Core.so.5(qt_message_output(QtMsgType, QMessageLogContext const&, QString const&)+0xd)[0x7fc594ec50fd]
> /lib/x86_64-linux-gnu/libQt5Core.so.5(QDebug::~QDebug()+0x68)[0x7fc594fc6fa8]
> /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsProject::fileName() const+0x267)[0x7fc592f1af2f]
> /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadNamedProperty(QString const&, QgsMapLayer::PropertyType, bool&, QFlags<QgsMapLayer::StyleCategory>)+0x752)[0x7fc592a215c0]
> /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadNamedStyle(QString const&, bool&, QFlags<QgsMapLayer::StyleCategory>)+0x2b1)[0x7fc592a20b8f]
> /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadDefaultStyle(bool&)+0x2dc)[0x7fc592a1f6ec]
> /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMeshLayer::loadDefaultStyle(bool&)+0x685)[0x7fc5930a84bb]
> /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMeshLayer::QgsMeshLayer(QString const&, QString const&, QString const&, QgsMeshLayer::LayerOptions const&)+0x2b9)[0x7fc5930a5ab1]
> /home/richard/bin/qgis_/master/debug/share/qgis/python/qgis/_core.so(sipQgsMeshLayer::sipQgsMeshLayer(QString const&, QString const&, QString const&, QgsMeshLayer::LayerOptions const&)+0x3b)[0x7fc43040b9c7]
> /home/richard/bin/qgis_/master/debug/share/qgis/python/qgis/_core.so(+0x121a0bc)[0x7fc43041a0bc]
> /usr/lib/python3/dist-packages/PyQt5/sip.cpython-311-x86_64-linux-gnu.so(+0x19f60)[0x7fc4dc271f60]
> /lib/x86_64-linux-gnu/libpython3.11.so.1.0(+0x1e02fe)[0x7fc47a5e02fe]
> /lib/x86_64-linux-gnu/libpython3.11.so.1.0(_PyObject_MakeTpCall+0x7d)[0x7fc47a57baed]
> /lib/x86_64-linux-gnu/libpython3.11.so.1.0(_PyEval_EvalFrameDefault+0x4a63)[0x7fc47a509c63]
> /lib/x86_64-linux-gnu/libpython3.11.so.1.0(+0x26a6da)[0x7fc47a66a6da]
> /lib/x86_64-linux-gnu/libpython3.11.so.1.0(+0x17f30c)[0x7fc47a57f30c]
> /usr/lib/python3/dist-packages/PyQt5/sip.cpython-311-x86_64-linux-gnu.so(+0x1196c)[0x7fc4dc26996c]
> [INFO] (MainThread) finished OK
> 
> My Questions:
> - should I NOT do this?
> - or is the loading/construction of a QgsMeshLayer having pointers to places it should not?
> 
> (mmm loading a QgsVectorLayer (shape via ogr) also results in about the same warnings...
> so next question: is there another way to load these large netcdf's without blocking QGIS ?)
> 
> Thanks for any info.
> 
> Regards,
> 
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From nyall.dawson at gmail.com  Thu Feb  9 00:26:18 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 9 Feb 2023 18:26:18 +1000
Subject: [QGIS-Developer] Load a QgsMeshLayer within a QgsTask...
 different Threads?
In-Reply-To: <19053abd-e1db-2376-0762-9328823217ad@duif.net>
References: <e02353d9-cc7c-2916-de98-23b49cf43c64@duif.net>
 <19053abd-e1db-2376-0762-9328823217ad@duif.net>
Message-ID: <CAB28AshdR-Ts7PcGzgJcZ_ARgex-Lrt-jdVm83K7RjBUqxnicQ@mail.gmail.com>

On Thu, 9 Feb 2023, 6:18 pm Richard Duivenvoorde via QGIS-Developer, <
qgis-developer at lists.osgeo.org> wrote:

> Ok after reading
> https://docs.qgis.org/3.28/en/docs/pyqgis_developer_cookbook/tasks.html
> again, reading the warning:
>
> "Any background task (regardless of how it is created) must NEVER use any
> QObject that lives on the main thread, such as accessing QgsVectorLayer,
> QgsProject or perform any GUI based operations like creating new widgets or
> interacting with existing widgets. Qt widgets must only be accessed or
> modified from the main thread. Data that is used in a task must be copied
> before the task is started. Attempting to use them from background threads
> will result in crashes."
>

One thing you can do:

>From the thread which owns the object, when you've finished using that
object in the thread, call
object.moveToThread(QgsApplication.instance().thread())

You're allowed to push objects which belong to the current thread to
another thread, but never allowed to pull objects which belong to another
thread over to the current thread.

Nyall



> Seems to make it pretty clear :-(
>
> Before rereading that, I even tried to pass a QgsMeshLayer-'reference' to
> the QgsTask, but that did not work either.
>
> I think I must conclude that I just have to wait for the load... :-)
>
> Regards,
>
> Richard Duivenvoorde
>
>
>
> On 2/8/23 21:40, Richard Duivenvoorde via QGIS-Developer wrote:
> > Hi,
> >
> > Having to juggle with rather large/long loading netcdf files, I thought
> to off load the loading to a QgsTask, so while the netcdf was loaded user
> could do other things...
> >
> > But I get "...is run from a different thread than the object  lives in
> ..." warnings.
> >
> > In short:
> >
> >      def run(self) -> bool:
> >          log.info(f'LOADING... {self.netcdf_file}')
> >          try:
> >              self.layer = QgsMeshLayer(self.netcdf_file,
> 'PythonLoadedMeshLayer',  'mdal')
> >      ....
> >
> > BUT: while it looks like all is fine, I get a Qt warning in my messages,
> and on my terminal I get:
> >
> > [INFO] (Dummy-1   ) LOADING... /tmp/kees/aoi/aoi1/areaOfInterest1.nc
> > Warning: fileName
> (/home/richard/git/qgis/src/core/project/qgsproject.cpp:812) is run from a
> different thread than the object  lives in [0x5593004f1aa0 vs
> 0x5592ff7e6440]
> > Stacktrace (piped through c++filt):
> > /home/richard/bin/qgis_/master/debug/bin/qgis(+0xe26a)[0x5592fe9ba26a]
> > /home/richard/bin/qgis_/master/debug/bin/qgis(+0xea29)[0x5592fe9baa29]
> > /lib/x86_64-linux-gnu/libQt5Core.so.5(+0xc3b50)[0x7fc594ec3b50]
> > /lib/x86_64-linux-gnu/libQt5Core.so.5(qt_message_output(QtMsgType,
> QMessageLogContext const&, QString const&)+0xd)[0x7fc594ec50fd]
> >
> /lib/x86_64-linux-gnu/libQt5Core.so.5(QDebug::~QDebug()+0x68)[0x7fc594fc6fa8]
> >
> /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsProject::fileName()
> const+0x267)[0x7fc592f1af2f]
> >
> /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadNamedProperty(QString
> const&, QgsMapLayer::PropertyType, bool&,
> QFlags<QgsMapLayer::StyleCategory>)+0x752)[0x7fc592a215c0]
> >
> /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadNamedStyle(QString
> const&, bool&, QFlags<QgsMapLayer::StyleCategory>)+0x2b1)[0x7fc592a20b8f]
> >
> /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadDefaultStyle(bool&)+0x2dc)[0x7fc592a1f6ec]
> >
> /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMeshLayer::loadDefaultStyle(bool&)+0x685)[0x7fc5930a84bb]
> >
> /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMeshLayer::QgsMeshLayer(QString
> const&, QString const&, QString const&, QgsMeshLayer::LayerOptions
> const&)+0x2b9)[0x7fc5930a5ab1]
> >
> /home/richard/bin/qgis_/master/debug/share/qgis/python/qgis/_core.so(sipQgsMeshLayer::sipQgsMeshLayer(QString
> const&, QString const&, QString const&, QgsMeshLayer::LayerOptions
> const&)+0x3b)[0x7fc43040b9c7]
> >
> /home/richard/bin/qgis_/master/debug/share/qgis/python/qgis/_core.so(+0x121a0bc)[0x7fc43041a0bc]
> > /usr/lib/python3/dist-packages/PyQt5/sip.cpython-311-x86_64-linux-gnu.so
> (+0x19f60)[0x7fc4dc271f60]
> > /lib/x86_64-linux-gnu/libpython3.11.so.1.0(+0x1e02fe)[0x7fc47a5e02fe]
> >
> /lib/x86_64-linux-gnu/libpython3.11.so.1.0(_PyObject_MakeTpCall+0x7d)[0x7fc47a57baed]
> >
> /lib/x86_64-linux-gnu/libpython3.11.so.1.0(_PyEval_EvalFrameDefault+0x4a63)[0x7fc47a509c63]
> > /lib/x86_64-linux-gnu/libpython3.11.so.1.0(+0x26a6da)[0x7fc47a66a6da]
> > /lib/x86_64-linux-gnu/libpython3.11.so.1.0(+0x17f30c)[0x7fc47a57f30c]
> > /usr/lib/python3/dist-packages/PyQt5/sip.cpython-311-x86_64-linux-gnu.so
> (+0x1196c)[0x7fc4dc26996c]
> > [INFO] (MainThread) finished OK
> >
> > My Questions:
> > - should I NOT do this?
> > - or is the loading/construction of a QgsMeshLayer having pointers to
> places it should not?
> >
> > (mmm loading a QgsVectorLayer (shape via ogr) also results in about the
> same warnings...
> > so next question: is there another way to load these large netcdf's
> without blocking QGIS ?)
> >
> > Thanks for any info.
> >
> > Regards,
> >
> > Richard Duivenvoorde
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230209/f488ea98/attachment-0001.htm>

From johannes.kroeger at wheregroup.com  Thu Feb  9 03:39:56 2023
From: johannes.kroeger at wheregroup.com (=?UTF-8?Q?Johannes_Kr=c3=b6ger_=28WhereGroup=29?=)
Date: Thu, 9 Feb 2023 12:39:56 +0100
Subject: [QGIS-Developer] How to specify GDAL driver to use for Processing
 INPUT?
Message-ID: <49784181-e9c1-00b9-25c6-1744e9baf528@wheregroup.com>

Howdy!

Trying to debug some issues with the QGIS GML Application Schema Toolbox 
plugin 
(https://github.com/BRGM/gml_application_schema_toolbox/issues/263) I 
realised that I have no idea how to specify a specific driver to be used 
by GDAL/OGR when running a tool via Processing? Or if it is even 
possible at all. GDAL/OGR calls them prefixes to the connection string, 
e.g. https://gdal.org/drivers/vector/gmlas.html#opening-syntax

E. g. this would use whatever driver GDAL/OGR decides to use for the GML 
file and works:

 ??? processing.run("gdal:convertformat", 
{'INPUT':'/tmp/tmpssu67zi9.gml','OUTPUT':'/tmp/test.shp'})

But I need to make it use its GMLAS driver. Trying to add the prefix 
results in a crash because of the file not being found:

 ??? processing.run("gdal:convertformat", 
{'INPUT':'GMLAS:/tmp/tmpssu67zi9.gml','OUTPUT':'/tmp/test2.shp'})

 ??? Traceback (most recent call last):
 ??? ? File "/usr/lib/python3.10/code.py", line 90, in runcode
 ??? ??? exec(code, self.locals)
 ??? ? File "<input>", line 1, in <module>
 ??? ? File 
"/usr/share/qgis/python/plugins/processing/tools/general.py", line 108, 
in run
 ??? ??? return Processing.runAlgorithm(algOrName, parameters, onFinish, 
feedback, context)
 ??? ? File 
"/usr/share/qgis/python/plugins/processing/core/Processing.py", line 
181, in runAlgorithm
 ??? ??? raise QgsProcessingException(msg)
 ??? _core.QgsProcessingException: Unable to execute algorithm
 ??? Could not load source layer for INPUT: GMLAS:/tmp/tmpssu67zi9.gml 
not found

For this specific tool, the docs say that INPUT shall be "[vector: any]" 
but passing simple paths works fine in pretty much all processing tools. 
https://docs.qgis.org/3.28/en/docs/user_manual/processing_algs/gdal/vectorconversion.html?highlight=convertformat

Is there any way to do this?

PS: Crossposted to 
https://gis.stackexchange.com/questions/451645/how-to-specify-gdal-driver-to-use-for-processing-input

Cheers, Hannes

-- 
Johannes Kr?ger / GIS-Entwickler/-Berater

**********************************************
FOSSGIS Konferenz
15.-18. M?rz 2023 in Berlin
https://fossgis-konferenz.de/2023/

WhereGroup-Beitr?ge auf der FOSSGIS
https://wheregroup.com/unternehmen/aktuelles/
**********************************************

WhereGroup GmbH
Grevenweg 89
20537 Hamburg
Germany

Tel: +49 (0)228 / 90 90 38 - 36
Fax: +49 (0)228 / 90 90 38 - 11

johannes.kroeger at wheregroup.com
www.wheregroup.com
Gesch?ftsf?hrer:
Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885
-------------------------------


From rdmailings at duif.net  Fri Feb 10 05:22:23 2023
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 10 Feb 2023 14:22:23 +0100
Subject: [QGIS-Developer] Load a QgsMeshLayer within a QgsTask...
 different Threads?
In-Reply-To: <CAB28AshdR-Ts7PcGzgJcZ_ARgex-Lrt-jdVm83K7RjBUqxnicQ@mail.gmail.com>
References: <e02353d9-cc7c-2916-de98-23b49cf43c64@duif.net>
 <19053abd-e1db-2376-0762-9328823217ad@duif.net>
 <CAB28AshdR-Ts7PcGzgJcZ_ARgex-Lrt-jdVm83K7RjBUqxnicQ@mail.gmail.com>
Message-ID: <a6a96df8-daf1-13eb-bc05-fdba638d6dea@duif.net>

Thanks Nyall,

I got it working with that trick, that is: I do not see any warnings anymore...

The place where you put moveToThread is crucial, AND I had to create the QgsMeshLayer WITHOUT default style:

             options = QgsMeshLayer.LayerOptions()
             options.loadDefaultStyle = False
             self.layer = QgsMeshLayer(self.netcdf_file, 'PythonLoadedMeshLayer',  'mdal', options)

Because apparently creating the defaultstyle (in the layer constructor) tries to contact the other thread:

>      > /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsProject::fileName() const+0x267)[0x7fc592f1af2f]
>      > /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadNamedProperty(QString const&, QgsMapLayer::PropertyType, bool&, QFlags<QgsMapLayer::StyleCategory>)+0x752)[0x7fc592a215c0]
>      > /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadNamedStyle(QString const&, bool&, QFlags<QgsMapLayer::StyleCategory>)+0x2b1)[0x7fc592a20b8f]
>      > /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadDefaultStyle(bool&)+0x2dc)[0x7fc592a1f6ec]

Not sure, but I think it would be good/nice if that would not be the case?

Another observation: if I use some Processing Scripts (not sure which one, either join-by-attribute or select-by-location), these are throwing the exact same warning about running something from another thread.

Anyway: thanks for the hint/tip!!!

Regards,

Richard Duivenvoorde

On 2/9/23 09:26, Nyall Dawson wrote:
> 
> 
> On Thu, 9 Feb 2023, 6:18 pm Richard Duivenvoorde via QGIS-Developer, <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>> wrote:
> 
>     Ok after reading https://docs.qgis.org/3.28/en/docs/pyqgis_developer_cookbook/tasks.html <https://docs.qgis.org/3.28/en/docs/pyqgis_developer_cookbook/tasks.html> again, reading the warning:
> 
>     "Any background task (regardless of how it is created) must NEVER use any QObject that lives on the main thread, such as accessing QgsVectorLayer, QgsProject or perform any GUI based operations like creating new widgets or interacting with existing widgets. Qt widgets must only be accessed or modified from the main thread. Data that is used in a task must be copied before the task is started. Attempting to use them from background threads will result in crashes."
> 
> 
> One thing you can do:
> 
>  From the thread which owns the object, when you've finished using that object in the thread, call object.moveToThread(QgsApplication.instance().thread())
> 
> You're allowed to push objects which belong to the current thread to another thread, but never allowed to pull objects which belong to another thread over to the current thread.
> 
> Nyall
> 
> 
> 
>     Seems to make it pretty clear :-(
> 
>     Before rereading that, I even tried to pass a QgsMeshLayer-'reference' to the QgsTask, but that did not work either.
> 
>     I think I must conclude that I just have to wait for the load... :-)
> 
>     Regards,
> 
>     Richard Duivenvoorde
> 
> 
> 
>     On 2/8/23 21:40, Richard Duivenvoorde via QGIS-Developer wrote:
>      > Hi,
>      >
>      > Having to juggle with rather large/long loading netcdf files, I thought to off load the loading to a QgsTask, so while the netcdf was loaded user could do other things...
>      >
>      > But I get "...is run from a different thread than the object? lives in ..." warnings.
>      >
>      > In short:
>      >
>      >? ??? def run(self) -> bool:
>      > log.info <http://log.info>(f'LOADING... {self.netcdf_file}')
>      >? ??????? try:
>      >? ??????????? self.layer = QgsMeshLayer(self.netcdf_file, 'PythonLoadedMeshLayer',? 'mdal')
>      >? ??? ....
>      >
>      > BUT: while it looks like all is fine, I get a Qt warning in my messages, and on my terminal I get:
>      >
>      > [INFO] (Dummy-1?? ) LOADING... /tmp/kees/aoi/aoi1/areaOfInterest1.nc
>      > Warning: fileName (/home/richard/git/qgis/src/core/project/qgsproject.cpp:812) is run from a different thread than the object? lives in [0x5593004f1aa0 vs 0x5592ff7e6440]
>      > Stacktrace (piped through c++filt):
>      > /home/richard/bin/qgis_/master/debug/bin/qgis(+0xe26a)[0x5592fe9ba26a]
>      > /home/richard/bin/qgis_/master/debug/bin/qgis(+0xea29)[0x5592fe9baa29]
>      > /lib/x86_64-linux-gnu/libQt5Core.so.5(+0xc3b50)[0x7fc594ec3b50]
>      > /lib/x86_64-linux-gnu/libQt5Core.so.5(qt_message_output(QtMsgType, QMessageLogContext const&, QString const&)+0xd)[0x7fc594ec50fd]
>      > /lib/x86_64-linux-gnu/libQt5Core.so.5(QDebug::~QDebug()+0x68)[0x7fc594fc6fa8]
>      > /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsProject::fileName() const+0x267)[0x7fc592f1af2f]
>      > /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadNamedProperty(QString const&, QgsMapLayer::PropertyType, bool&, QFlags<QgsMapLayer::StyleCategory>)+0x752)[0x7fc592a215c0]
>      > /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadNamedStyle(QString const&, bool&, QFlags<QgsMapLayer::StyleCategory>)+0x2b1)[0x7fc592a20b8f]
>      > /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMapLayer::loadDefaultStyle(bool&)+0x2dc)[0x7fc592a1f6ec]
>      > /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMeshLayer::loadDefaultStyle(bool&)+0x685)[0x7fc5930a84bb]
>      > /home/richard/bin/qgis_/master/debug/lib/libqgis_core.so.3.29.0(QgsMeshLayer::QgsMeshLayer(QString const&, QString const&, QString const&, QgsMeshLayer::LayerOptions const&)+0x2b9)[0x7fc5930a5ab1]
>      > /home/richard/bin/qgis_/master/debug/share/qgis/python/qgis/_core.so(sipQgsMeshLayer::sipQgsMeshLayer(QString const&, QString const&, QString const&, QgsMeshLayer::LayerOptions const&)+0x3b)[0x7fc43040b9c7]
>      > /home/richard/bin/qgis_/master/debug/share/qgis/python/qgis/_core.so(+0x121a0bc)[0x7fc43041a0bc]
>      > /usr/lib/python3/dist-packages/PyQt5/sip.cpython-311-x86_64-linux-gnu.so <http://sip.cpython-311-x86_64-linux-gnu.so>(+0x19f60)[0x7fc4dc271f60]
>      > /lib/x86_64-linux-gnu/libpython3.11.so.1.0(+0x1e02fe)[0x7fc47a5e02fe]
>      > /lib/x86_64-linux-gnu/libpython3.11.so.1.0(_PyObject_MakeTpCall+0x7d)[0x7fc47a57baed]
>      > /lib/x86_64-linux-gnu/libpython3.11.so.1.0(_PyEval_EvalFrameDefault+0x4a63)[0x7fc47a509c63]
>      > /lib/x86_64-linux-gnu/libpython3.11.so.1.0(+0x26a6da)[0x7fc47a66a6da]
>      > /lib/x86_64-linux-gnu/libpython3.11.so.1.0(+0x17f30c)[0x7fc47a57f30c]
>      > /usr/lib/python3/dist-packages/PyQt5/sip.cpython-311-x86_64-linux-gnu.so <http://sip.cpython-311-x86_64-linux-gnu.so>(+0x1196c)[0x7fc4dc26996c]
>      > [INFO] (MainThread) finished OK
>      >
>      > My Questions:
>      > - should I NOT do this?
>      > - or is the loading/construction of a QgsMeshLayer having pointers to places it should not?
>      >
>      > (mmm loading a QgsVectorLayer (shape via ogr) also results in about the same warnings...
>      > so next question: is there another way to load these large netcdf's without blocking QGIS ?)
>      >
>      > Thanks for any info.
>      >
>      > Regards,
>      >
>      > Richard Duivenvoorde
>      > _______________________________________________
>      > QGIS-Developer mailing list
>      > QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>      > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>      > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 


From a.neumann at carto.net  Mon Feb 13 02:31:41 2023
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 13 Feb 2023 11:31:41 +0100
Subject: [QGIS-Developer] PyQGIS code: setting filter expression for value
 relation widget
Message-ID: <c8889e284685fe5cd010fcbf8d66ea60@carto.net>

Hi,

I am looking for a code snippet in PyQGIS: how can I change the filter 
expression for a value relation widget?

Technically, the widget seems to be a QComboBox. I can get access to the 
combobox, e.g. to get the current value - but how can I access the QGIS 
related functionality, like changing programmatically settings of the 
value relation widget , such as the filter expression? I found the 
QgsValueRelationFieldFormatter object, but it doesn't allow me to change 
the filter expression. Any idea how I would change the filter expression 
using Python?

Thank you for any hints,

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230213/82108c14/attachment.htm>

From a.neumann at carto.net  Mon Feb 13 02:44:56 2023
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 13 Feb 2023 11:44:56 +0100
Subject: [QGIS-Developer] PyQGIS code: setting filter expression for
 value relation widget
In-Reply-To: <c8889e284685fe5cd010fcbf8d66ea60@carto.net>
References: <c8889e284685fe5cd010fcbf8d66ea60@carto.net>
Message-ID: <4004999fabce1e007b1239ad588b2068@carto.net>

Hi,

I found the "QgsValueRelationSearchWidgetWrapper" class, which seems to 
have a "setExpression" method - but I don't know how I can access and 
change the QgsValueRelationSearchWidgetWrapper of an existing ComboBox 
in the attribute form.

Andreas

On 2023-02-13 11:31, Andreas Neumann via QGIS-Developer wrote:

> Hi,
> 
> I am looking for a code snippet in PyQGIS: how can I change the filter 
> expression for a value relation widget?
> 
> Technically, the widget seems to be a QComboBox. I can get access to 
> the combobox, e.g. to get the current value - but how can I access the 
> QGIS related functionality, like changing programmatically settings of 
> the value relation widget , such as the filter expression? I found the 
> QgsValueRelationFieldFormatter object, but it doesn't allow me to 
> change the filter expression. Any idea how I would change the filter 
> expression using Python?
> 
> Thank you for any hints,
> 
> Andreas
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230213/695b7fd2/attachment.htm>

From antoniolocandro at hotmail.com  Mon Feb 13 06:46:37 2023
From: antoniolocandro at hotmail.com (Antonio Locandro)
Date: Mon, 13 Feb 2023 14:46:37 +0000
Subject: [QGIS-Developer] QgsGeometryUtils.lineCircleIntersection
Message-ID: <DM6PR13MB31618E5C41E2C8A8428A777BA5DD9@DM6PR13MB3161.namprd13.prod.outlook.com>

Hello all,

I am trying to use this on a script I am writing however I can?t seem to get what the syntax for the Qgs Vector should be, I was expecting just to put directly an angle but it is something else.

lineIntersection(p1: QgsPoint, v1: QgsVector, p2: QgsPoint, v2: QgsVector) ? Tuple[bool, QgsPoint]

On the other hand in order to use this function I need to write completely QgsGeometryUtils.lineCircleIntersection is there a way to make this shorter on my script?

Finally why some functions require QgsPointXY while others QgsPoint, beats me, just above this one is lineCircleIntersection that requires the use of PointXY.

My current workaround is to use segmentIntersection but that requires the calculation of dummy points so was looking for something more direct
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230213/94e2f769/attachment.htm>

From andreaerdna at libero.it  Mon Feb 13 08:43:57 2023
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Mon, 13 Feb 2023 17:43:57 +0100
Subject: [QGIS-Developer] QgsGeometryUtils.lineCircleIntersection
Message-ID: <8c833b51-f078-ce5e-0c06-9f46841b2646@libero.it>

Hi Antonio,

Il 13/02/2023 15:46, Antonio Locandro via QGIS-Developer ha scritto:
> I am trying to use this on a script I am writing however I can?t seem 
> to get what the syntax for the Qgs Vector should be, I was expecting 
> just to put directly an angle but it is something else.

QgsVector(x: float, y: float)
See https://qgis.org/pyqgis/3.28/core/QgsVector.html#qgis.core.QgsVector


> On the other hand in order to use this function I need to write 
> completely QgsGeometryUtils.lineCircleIntersection is there a way to 
> make this shorter on my script?

lineCircleIntersection = QgsGeometryUtils.lineCircleIntersection


> Finally why some functions require QgsPointXY while others QgsPoint, 
> beats me, just above this one is lineCircleIntersection that requires 
> the use of PointXY

Probably because functions that use QgsPointXY only support 2D calculation.


Best regards.

Andrea Giudiceandrea
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230213/abd6f24a/attachment.htm>

From jrabenasolo at patersongroup.ca  Wed Feb 15 11:48:20 2023
From: jrabenasolo at patersongroup.ca (Jonathan Rabenasolo)
Date: Wed, 15 Feb 2023 19:48:20 +0000
Subject: [QGIS-Developer] QGIS - Questions
Message-ID: <YT3PR01MB631891EFDF03DFB7A9826B89C7A39@YT3PR01MB6318.CANPRD01.PROD.OUTLOOK.COM>

Hello,
I'm working on some projects with a large group of people, and I'm wondering if It's possible to assign some admins to a QGIS file. To be more precise, I want to allow editing ONLY for admins, and other people can ONLY view the project.


Hoping to have a response as soon as possible,
Best Regards,

Jonathan Rafetison

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230215/ad7209c3/attachment.htm>

From cavallini at faunalia.it  Wed Feb 15 15:52:15 2023
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 15 Feb 2023 23:52:15 +0000
Subject: [QGIS-Developer] [Qgis-user] QGIS - Questions
In-Reply-To: <YT3PR01MB631891EFDF03DFB7A9826B89C7A39@YT3PR01MB6318.CANPRD01.PROD.OUTLOOK.COM>
References: <YT3PR01MB631891EFDF03DFB7A9826B89C7A39@YT3PR01MB6318.CANPRD01.PROD.OUTLOOK.COM>
Message-ID: <A834A2A6-DF53-4AB1-B684-ED43D376B27A@faunalia.it>

You can store the project in postgresql.
Cheers 

On 15 February 2023 19:48:20 WET, Jonathan Rabenasolo via QGIS-User <qgis-user at lists.osgeo.org> wrote:
>Hello,
>I'm working on some projects with a large group of people, and I'm wondering if It's possible to assign some admins to a QGIS file. To be more precise, I want to allow editing ONLY for admins, and other people can ONLY view the project.
>
>
>Hoping to have a response as soon as possible,
>Best Regards,
>
>Jonathan Rafetison
>

-- 
Please excuse my brevity.

From afernandez at odyhpc.com  Thu Feb 16 09:02:23 2023
From: afernandez at odyhpc.com (afernandez)
Date: Thu, 16 Feb 2023 17:02:23 +0000
Subject: [QGIS-Developer] Segmentation fault while compiling
 ui_DlgAddGeometryColumn.py
Message-ID: <56c486d702505.ea2f21c142521@odyhpc.com>

Hello,
My compilation is failing towards the end with a segmentation fault error, 
which I cannot figure out: 
[ 85%] Linking CXX shared module ../output/python/qgis/_gui.so
[ 85%] Built target python_module_qgis__gui
[ 85%] Built target pygui
[ 85%] Generating ui_DlgAddGeometryColumn.py
Segmentation fault (core dumped)
make[2]: *** 
[python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/build.make:86: 
python/plugins/db_manager/ui_DlgAddGeometryColumn.py] Error 139
make[2]: *** Deleting file 
'python/plugins/db_manager/ui_DlgAddGeometryColumn.py'
make[1]: *** [CMakeFiles/Makefile2:8465: 
python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/all] 
Error 2
make: *** [Makefile:166: all] Error 2
Not really sure how to troubleshoot this. OS is Ubuntu22.04 and 
architecture is aarch64.
Thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230216/d0dd119a/attachment.htm>

From denis.rouzaud at gmail.com  Thu Feb 16 10:50:46 2023
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 16 Feb 2023 19:50:46 +0100
Subject: [QGIS-Developer] Segmentation fault while compiling
 ui_DlgAddGeometryColumn.py
In-Reply-To: <56c486d702505.ea2f21c142521@odyhpc.com>
References: <56c486d702505.ea2f21c142521@odyhpc.com>
Message-ID: <CAMtsY+bpyVvxQFt42q-ijGHWTGjxjhK7tHU578OcWZbeT7keXQ@mail.gmail.com>

Hi,
Can you make clean and build again?

On Thu, 16 Feb 2023, 18:24 afernandez via QGIS-Developer, <
qgis-developer at lists.osgeo.org> wrote:

> Hello,
> My compilation is failing towards the end with a segmentation fault error,
> which I cannot figure out:
> [ 85%] Linking CXX shared module ../output/python/qgis/_gui.so
> [ 85%] Built target python_module_qgis__gui
> [ 85%] Built target pygui
> [ 85%] Generating ui_DlgAddGeometryColumn.py
> Segmentation fault (core dumped)
> make[2]: ***
> [python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/build.make:86:
> python/plugins/db_manager/ui_DlgAddGeometryColumn.py] Error 139
> make[2]: *** Deleting file
> 'python/plugins/db_manager/ui_DlgAddGeometryColumn.py'
> make[1]: *** [CMakeFiles/Makefile2:8465:
> python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/all]
> Error 2
> make: *** [Makefile:166: all] Error 2
> Not really sure how to troubleshoot this. OS is Ubuntu22.04 and
> architecture is aarch64.
> Thanks.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230216/b6b09404/attachment.htm>

From afernandez at odyhpc.com  Thu Feb 16 11:10:30 2023
From: afernandez at odyhpc.com (afernandez)
Date: Thu, 16 Feb 2023 19:10:30 +0000
Subject: [QGIS-Developer] Segmentation fault while compiling
 ui_DlgAddGeometryColumn.py
References: <56c486d702505.ea2f21c142521@odyhpc.com>
 <CAMtsY+bpyVvxQFt42q-ijGHWTGjxjhK7tHU578OcWZbeT7keXQ@mail.gmail.com>
Message-ID: <80a8226bd9f24.90ea5b07859ce@odyhpc.com>

Hi Denis,
The system was clean, a completely new installation without any previous 
QGIS component. I could clean and try compiling again, but the compilation 
itself takes between 4 and 5 hours. I think that nothing would change as 
the starting point would be the same as previously. My thought is that I'd 
need to make some modification before cleaning and recompiling.
Thanks,
AFernandez 
Denis Rouzaud wrote:
Hi,
Can you make clean and build again?
On Thu, 16 Feb 2023, 18:24 afernandez via QGIS-Developer, 
<qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org> > 
wrote:
Hello,
My compilation is failing towards the end with a segmentation fault error, 
which I cannot figure out: 
[ 85%] Linking CXX shared module ../output/python/qgis/_gui.so
[ 85%] Built target python_module_qgis__gui
[ 85%] Built target pygui
[ 85%] Generating ui_DlgAddGeometryColumn.py
Segmentation fault (core dumped)
make[2]: *** 
[python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/build.make:86: 
python/plugins/db_manager/ui_DlgAddGeometryColumn.py] Error 139
make[2]: *** Deleting file 
'python/plugins/db_manager/ui_DlgAddGeometryColumn.py'
make[1]: *** [CMakeFiles/Makefile2:8465: 
python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/all] 
Error 2
make: *** [Makefile:166: all] Error 2
Not really sure how to troubleshoot this. OS is Ubuntu22.04 and 
architecture is aarch64.
Thanks.
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org> 
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
<https://lists.osgeo.org/mailman/listinfo/qgis-developer> 
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
<https://lists.osgeo.org/mailman/listinfo/qgis-developer> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230216/18a00eee/attachment.htm>

From denis.rouzaud at gmail.com  Thu Feb 16 11:18:59 2023
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 16 Feb 2023 20:18:59 +0100
Subject: [QGIS-Developer] Segmentation fault while compiling
 ui_DlgAddGeometryColumn.py
In-Reply-To: <80a8226bd9f24.90ea5b07859ce@odyhpc.com>
References: <56c486d702505.ea2f21c142521@odyhpc.com>
 <CAMtsY+bpyVvxQFt42q-ijGHWTGjxjhK7tHU578OcWZbeT7keXQ@mail.gmail.com>
 <80a8226bd9f24.90ea5b07859ce@odyhpc.com>
Message-ID: <CAMtsY+Zpu9EE5BxgsjHu0CZjoyVD5kddA6oL44rAr+3TiKhbUQ@mail.gmail.com>

Which commit are you building?
A recent master?

On Thu, 16 Feb 2023, 20:10 afernandez, <afernandez at odyhpc.com> wrote:

> Hi Denis,
> The system was clean, a completely new installation without any previous
> QGIS component. I could clean and try compiling again, but the compilation
> itself takes between 4 and 5 hours. I think that nothing would change as
> the starting point would be the same as previously. My thought is that I'd
> need to make some modification before cleaning and recompiling.
> Thanks,
> AFernandez
>
> Denis Rouzaud wrote:
>
>
> Hi,
> Can you make clean and build again?
>
> On Thu, 16 Feb 2023, 18:24 afernandez via QGIS-Developer, <
> qgis-developer at lists.osgeo.org> wrote:
>
>> Hello,
>> My compilation is failing towards the end with a segmentation fault
>> error, which I cannot figure out:
>> [ 85%] Linking CXX shared module ../output/python/qgis/_gui.so
>> [ 85%] Built target python_module_qgis__gui
>> [ 85%] Built target pygui
>> [ 85%] Generating ui_DlgAddGeometryColumn.py
>> Segmentation fault (core dumped)
>> make[2]: ***
>> [python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/build.make:86:
>> python/plugins/db_manager/ui_DlgAddGeometryColumn.py] Error 139
>> make[2]: *** Deleting file
>> 'python/plugins/db_manager/ui_DlgAddGeometryColumn.py'
>> make[1]: *** [CMakeFiles/Makefile2:8465:
>> python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/all]
>> Error 2
>> make: *** [Makefile:166: all] Error 2
>> Not really sure how to troubleshoot this. OS is Ubuntu22.04 and
>> architecture is aarch64.
>> Thanks.
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230216/2678603a/attachment-0001.htm>

From afernandez at odyhpc.com  Thu Feb 16 11:45:03 2023
From: afernandez at odyhpc.com (afernandez)
Date: Thu, 16 Feb 2023 19:45:03 +0000
Subject: [QGIS-Developer] Segmentation fault while compiling
 ui_DlgAddGeometryColumn.py
References: <56c486d702505.ea2f21c142521@odyhpc.com>
 <CAMtsY+bpyVvxQFt42q-ijGHWTGjxjhK7tHU578OcWZbeT7keXQ@mail.gmail.com>
 <80a8226bd9f24.90ea5b07859ce@odyhpc.com>
 <CAMtsY+Zpu9EE5BxgsjHu0CZjoyVD5kddA6oL44rAr+3TiKhbUQ@mail.gmail.com>
Message-ID: <d8a3f1d2f34d9.d1e89d2af8653@odyhpc.com>

Yes, I'm cloning from the master branch.
Denis Rouzaud wrote:
Which commit are you building?
A recent master?
On Thu, 16 Feb 2023, 20:10 afernandez, <afernandez at odyhpc.com 
<mailto:afernandez at odyhpc.com> > wrote:
Hi Denis,
The system was clean, a completely new installation without any previous 
QGIS component. I could clean and try compiling again, but the compilation 
itself takes between 4 and 5 hours. I think that nothing would change as 
the starting point would be the same as previously. My thought is that I'd 
need to make some modification before cleaning and recompiling.
Thanks,
AFernandez 
Denis Rouzaud wrote:
Hi,
Can you make clean and build again?
On Thu, 16 Feb 2023, 18:24 afernandez via QGIS-Developer, 
<qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org> > 
wrote:
Hello,
My compilation is failing towards the end with a segmentation fault error, 
which I cannot figure out: 
[ 85%] Linking CXX shared module ../output/python/qgis/_gui.so
[ 85%] Built target python_module_qgis__gui
[ 85%] Built target pygui
[ 85%] Generating ui_DlgAddGeometryColumn.py
Segmentation fault (core dumped)
make[2]: *** 
[python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/build.make:86: 
python/plugins/db_manager/ui_DlgAddGeometryColumn.py] Error 139
make[2]: *** Deleting file 
'python/plugins/db_manager/ui_DlgAddGeometryColumn.py'
make[1]: *** [CMakeFiles/Makefile2:8465: 
python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/all] 
Error 2
make: *** [Makefile:166: all] Error 2
Not really sure how to troubleshoot this. OS is Ubuntu22.04 and 
architecture is aarch64.
Thanks.
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org> 
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
<https://lists.osgeo.org/mailman/listinfo/qgis-developer> 
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
<https://lists.osgeo.org/mailman/listinfo/qgis-developer> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230216/63af5df2/attachment.htm>

From denis.rouzaud at gmail.com  Thu Feb 16 12:10:54 2023
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 16 Feb 2023 21:10:54 +0100
Subject: [QGIS-Developer] Segmentation fault while compiling
 ui_DlgAddGeometryColumn.py
In-Reply-To: <d8a3f1d2f34d9.d1e89d2af8653@odyhpc.com>
References: <56c486d702505.ea2f21c142521@odyhpc.com>
 <CAMtsY+bpyVvxQFt42q-ijGHWTGjxjhK7tHU578OcWZbeT7keXQ@mail.gmail.com>
 <80a8226bd9f24.90ea5b07859ce@odyhpc.com>
 <CAMtsY+Zpu9EE5BxgsjHu0CZjoyVD5kddA6oL44rAr+3TiKhbUQ@mail.gmail.com>
 <d8a3f1d2f34d9.d1e89d2af8653@odyhpc.com>
Message-ID: <CAMtsY+afxcNifi7nuvNcupD7Bq4PbVKsT0JoVs8Q_LL0BvfgGw@mail.gmail.com>

Can you try to only build qgis_core, pycore, pyqtcompat.
Then, from python, try to import qgis.core and see if you also get a seg
fault?

Cheers
Denis

On Thu, 16 Feb 2023, 20:45 afernandez, <afernandez at odyhpc.com> wrote:

> Yes, I'm cloning from the master branch.
>
>
> Denis Rouzaud wrote:
>
>
> Which commit are you building?
> A recent master?
>
> On Thu, 16 Feb 2023, 20:10 afernandez, <afernandez at odyhpc.com> wrote:
>
>> Hi Denis,
>> The system was clean, a completely new installation without any previous
>> QGIS component. I could clean and try compiling again, but the compilation
>> itself takes between 4 and 5 hours. I think that nothing would change as
>> the starting point would be the same as previously. My thought is that I'd
>> need to make some modification before cleaning and recompiling.
>> Thanks,
>> AFernandez
>>
>> Denis Rouzaud wrote:
>>
>>
>> Hi,
>> Can you make clean and build again?
>>
>> On Thu, 16 Feb 2023, 18:24 afernandez via QGIS-Developer, <
>> qgis-developer at lists.osgeo.org> wrote:
>>
>>> Hello,
>>> My compilation is failing towards the end with a segmentation fault
>>> error, which I cannot figure out:
>>> [ 85%] Linking CXX shared module ../output/python/qgis/_gui.so
>>> [ 85%] Built target python_module_qgis__gui
>>> [ 85%] Built target pygui
>>> [ 85%] Generating ui_DlgAddGeometryColumn.py
>>> Segmentation fault (core dumped)
>>> make[2]: ***
>>> [python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/build.make:86:
>>> python/plugins/db_manager/ui_DlgAddGeometryColumn.py] Error 139
>>> make[2]: *** Deleting file
>>> 'python/plugins/db_manager/ui_DlgAddGeometryColumn.py'
>>> make[1]: *** [CMakeFiles/Makefile2:8465:
>>> python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/all]
>>> Error 2
>>> make: *** [Makefile:166: all] Error 2
>>> Not really sure how to troubleshoot this. OS is Ubuntu22.04 and
>>> architecture is aarch64.
>>> Thanks.
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230216/9f97ca56/attachment.htm>

From afernandez at odyhpc.com  Thu Feb 16 13:18:49 2023
From: afernandez at odyhpc.com (afernandez)
Date: Thu, 16 Feb 2023 21:18:49 +0000
Subject: [QGIS-Developer] Segmentation fault while compiling
 ui_DlgAddGeometryColumn.py
References: <56c486d702505.ea2f21c142521@odyhpc.com>
 <CAMtsY+bpyVvxQFt42q-ijGHWTGjxjhK7tHU578OcWZbeT7keXQ@mail.gmail.com>
 <80a8226bd9f24.90ea5b07859ce@odyhpc.com>
 <CAMtsY+Zpu9EE5BxgsjHu0CZjoyVD5kddA6oL44rAr+3TiKhbUQ@mail.gmail.com>
 <d8a3f1d2f34d9.d1e89d2af8653@odyhpc.com>
 <CAMtsY+afxcNifi7nuvNcupD7Bq4PbVKsT0JoVs8Q_LL0BvfgGw@mail.gmail.com>
Message-ID: <c2eb03cdfcfd5.1096688ca7484@odyhpc.com>

Hi Denis,
Sorry but I'm getting some delay in receiving your messages. I don't know 
how to do what you're proposing. I'm mostly following the directions at 
https://github.com/qgis/QGIS/blob/master/INSTALL.md (section 3). The ccmake 
menu doesn't really allow me to select the components that you mention.
Thanks.
Denis Rouzaud wrote:
Can you try to only build qgis_core, pycore, pyqtcompat.
Then, from python, try to import qgis.core and see if you also get a seg 
fault?
Cheers
Denis 
On Thu, 16 Feb 2023, 20:45 afernandez, <afernandez at odyhpc.com 
<mailto:afernandez at odyhpc.com> > wrote:
Yes, I'm cloning from the master branch.
Denis Rouzaud wrote:
Which commit are you building?
A recent master?
On Thu, 16 Feb 2023, 20:10 afernandez, <afernandez at odyhpc.com 
<mailto:afernandez at odyhpc.com> > wrote:
Hi Denis,
The system was clean, a completely new installation without any previous 
QGIS component. I could clean and try compiling again, but the compilation 
itself takes between 4 and 5 hours. I think that nothing would change as 
the starting point would be the same as previously. My thought is that I'd 
need to make some modification before cleaning and recompiling.
Thanks,
AFernandez 
Denis Rouzaud wrote:
Hi,
Can you make clean and build again?
On Thu, 16 Feb 2023, 18:24 afernandez via QGIS-Developer, 
<qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org> > 
wrote:
Hello,
My compilation is failing towards the end with a segmentation fault error, 
which I cannot figure out: 
[ 85%] Linking CXX shared module ../output/python/qgis/_gui.so
[ 85%] Built target python_module_qgis__gui
[ 85%] Built target pygui
[ 85%] Generating ui_DlgAddGeometryColumn.py
Segmentation fault (core dumped)
make[2]: *** 
[python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/build.make:86: 
python/plugins/db_manager/ui_DlgAddGeometryColumn.py] Error 139
make[2]: *** Deleting file 
'python/plugins/db_manager/ui_DlgAddGeometryColumn.py'
make[1]: *** [CMakeFiles/Makefile2:8465: 
python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/all] 
Error 2
make: *** [Makefile:166: all] Error 2
Not really sure how to troubleshoot this. OS is Ubuntu22.04 and 
architecture is aarch64.
Thanks.
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org> 
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
<https://lists.osgeo.org/mailman/listinfo/qgis-developer> 
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 
<https://lists.osgeo.org/mailman/listinfo/qgis-developer> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230216/ee76d825/attachment.htm>

From rdmailings at duif.net  Fri Feb 17 00:18:51 2023
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 17 Feb 2023 09:18:51 +0100
Subject: [QGIS-Developer] Segmentation fault while compiling
 ui_DlgAddGeometryColumn.py
In-Reply-To: <56c486d702505.ea2f21c142521@odyhpc.com>
References: <56c486d702505.ea2f21c142521@odyhpc.com>
Message-ID: <d7f0aab6-5426-3b4c-15fb-67e1bfe79f99@duif.net>

Hi,

Maybe this issue:
https://lists.osgeo.org/pipermail/qgis-developer/2023-January/065492.html

You are missing some (new) python dependecies:

sudo apt install libqt5multimedia5 python3-pyqt5.qtmultimedia

Regards,

Richard Duivenvoorde

On 2/16/23 18:02, afernandez via QGIS-Developer wrote:
> Hello,
> My compilation is failing towards the end with a segmentation fault error, which I cannot figure out:
> [ 85%] Linking CXX shared module ../output/python/qgis/_gui.so
> [ 85%] Built target python_module_qgis__gui
> [ 85%] Built target pygui
> [ 85%] Generating ui_DlgAddGeometryColumn.py
> Segmentation fault (core dumped)
> make[2]: *** [python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/build.make:86: python/plugins/db_manager/ui_DlgAddGeometryColumn.py] Error 139
> make[2]: *** Deleting file 'python/plugins/db_manager/ui_DlgAddGeometryColumn.py'
> make[1]: *** [CMakeFiles/Makefile2:8465: python/plugins/db_manager/CMakeFiles/zzz-db_manager-15-depend.dir/all] Error 2
> make: *** [Makefile:166: all] Error 2
> Not really sure how to troubleshoot this. OS is Ubuntu22.04 and architecture is aarch64.
> Thanks.
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From strk at kbt.io  Fri Feb 17 06:42:33 2023
From: strk at kbt.io (Sandro Santilli)
Date: Fri, 17 Feb 2023 15:42:33 +0100
Subject: [QGIS-Developer] Clang-Tidy failing by not finding qgis_test.h
Message-ID: <20230217144233.dzyppcvjj72o5nfh@c19>

Upon adding a macro to src/test/qgstest.h the "clang-tidy" github
workflow started failing by not finding "qgis_test.h" which is a
generated header file.

The last change in src/test/qgstest.h was committed in August 2022
while the "clang-tidy" github workfow entered the codebase in
September 2022. My guess is that code never run for real, but I could
be wrong.

Is there any way to run the clang-tidy locally ?

Julien: as the one who added that workflow, can you help me get the
CI part solved as it's blaming me for something I don't seem to be
responsible for ?

--strk;

  Libre GIS consultant/developer
  https://strk.kbt.io/services.html

From julien.cabieces at oslandia.com  Fri Feb 17 07:46:03 2023
From: julien.cabieces at oslandia.com (Julien Cabieces)
Date: Fri, 17 Feb 2023 16:46:03 +0100
Subject: [QGIS-Developer] Clang-Tidy failing by not finding qgis_test.h
In-Reply-To: <20230217144233.dzyppcvjj72o5nfh@c19>
References: <20230217144233.dzyppcvjj72o5nfh@c19>
Message-ID: <87a61c9tgs.fsf@julien-laptop.home>


Hi Sandro, 

> Upon adding a macro to src/test/qgstest.h the "clang-tidy" github
> workflow started failing by not finding "qgis_test.h" which is a
> generated header file.
>
> The last change in src/test/qgstest.h was committed in August 2022
> while the "clang-tidy" github workfow entered the codebase in
> September 2022. My guess is that code never run for real, but I could
> be wrong.

clang-tidy run on only modified files and lines because it would be way to long to
run on the whole code base. So that's not very a surprise. The idea is
to have the new modification clang-tidy-ready.

>
> Is there any way to run the clang-tidy locally ?
>

At the end of the failing job, you have the following instructions

To reproduce locally:
 - launch cmake with option -DCMAKE_EXPORT_COMPILE_COMMANDS=ON
 - update build by calling Ninja
 - launch command ./scripts/clang-tidy.sh -p <your_build_dir> <source_file>

> Julien: as the one who added that workflow, can you help me get the
> CI part solved as it's blaming me for something I don't seem to be
> responsible for ?
>

I take a quick look:
- qgis_test.h exists in the build artefact
- the folder is included for testqgspostgresconn in
compile_commands.json, 

So everything looks good. My code completion/navigation tool based on LSP/clang
print me an error also and, like clang-tidy, it relies on
compile_commands.json.

So far,  I don't know why there is an error and I don't have time for
more investigation now.

I'm away from keyboard for a week, I can take a look when I come back.

If you don't want to wait and want the PR to be merged, you can bypass
the failing job, I'll try to figure out what the problem is later.

Regards,
Julien


> --strk;
>
>   Libre GIS consultant/developer
>   https://strk.kbt.io/services.html


-- 

Julien Cabieces
Senior Developer at Oslandia
julien.cabieces at oslandia.com
09.72.52.52.76

From strk at kbt.io  Fri Feb 17 08:00:59 2023
From: strk at kbt.io (Sandro Santilli)
Date: Fri, 17 Feb 2023 17:00:59 +0100
Subject: [QGIS-Developer] Clang-Tidy failing by not finding qgis_test.h
In-Reply-To: <87a61c9tgs.fsf@julien-laptop.home>
References: <20230217144233.dzyppcvjj72o5nfh@c19>
 <87a61c9tgs.fsf@julien-laptop.home>
Message-ID: <20230217160059.k223bfkzm24i6g6d@c19>

On Fri, Feb 17, 2023 at 04:46:03PM +0100, Julien Cabieces via QGIS-Developer wrote:

> At the end of the failing job, you have the following instructions
> 
> To reproduce locally:
>  - launch cmake with option -DCMAKE_EXPORT_COMPILE_COMMANDS=ON
>  - update build by calling Ninja
>  - launch command ./scripts/clang-tidy.sh -p <your_build_dir> <source_file>

[...]

> I take a quick look:
> - qgis_test.h exists in the build artefact
> - the folder is included for testqgspostgresconn in
> compile_commands.json, 
> 
> So everything looks good. My code completion/navigation tool based on LSP/clang
> print me an error also and, like clang-tidy, it relies on
> compile_commands.json.
> 
> So far,  I don't know why there is an error and I don't have time for
> more investigation now.
> 
> I'm away from keyboard for a week, I can take a look when I come back.

Thanks Julien, for now I filed an issue to track this:
https://github.com/qgis/QGIS/issues/51917

> If you don't want to wait and want the PR to be merged, you can bypass
> the failing job, I'll try to figure out what the problem is later.

Thanks, will try this.

--strk;

From carrillo.german at gmail.com  Sat Feb 18 15:58:48 2023
From: carrillo.german at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Carrillo?=)
Date: Sat, 18 Feb 2023 18:58:48 -0500
Subject: [QGIS-Developer] PyQGIS code: setting filter expression for
 value relation widget
In-Reply-To: <c8889e284685fe5cd010fcbf8d66ea60@carto.net>
References: <c8889e284685fe5cd010fcbf8d66ea60@carto.net>
Message-ID: <CANaz7mziayELDLOrcwuY0C+rQ+Pm5DHJB1UQm8Uq2WksPUNJ1A@mail.gmail.com>

Hi Andreas,


you can modify your Value Relation widget's filter expression using the
QgsEditorWidgetSetup class, in this way:

1) Get the editor widget setup and get a copy of its config dictionary:

    ews = layer.editorWidgetSetup(3)  # *Let's assume your Value Relation
widget is set for a field with index 3*
    new_config = ews.config()  # *We'll use the current config as a basis
to modify only the filter expression*

2) Modify the config dict's filter expression:

    new_config['FilterExpression'] = 'your new expression'

3) Apply changes to your layer:

    new_ews = QgsEditorWidgetSetup('ValueRelation', new_config)
    layer.setEditorWidgetSetup(3, new_ews)  # *Remember that 3 corresponds
to the field index*

And that's it! You should have now a different set of values in the Value
Relation widget.


Regards,

Germ?n



El lun, 13 feb 2023 a las 5:40, Andreas Neumann via QGIS-Developer (<
qgis-developer at lists.osgeo.org>) escribi?:

> Hi,
>
> I am looking for a code snippet in PyQGIS: how can I change the filter
> expression for a value relation widget?
>
> Technically, the widget seems to be a QComboBox. I can get access to the
> combobox, e.g. to get the current value - but how can I access the QGIS
> related functionality, like changing programmatically settings of the value
> relation widget , such as the filter expression? I found the
> QgsValueRelationFieldFormatter object, but it doesn't allow me to change
> the filter expression. Any idea how I would change the filter expression
> using Python?
>
> Thank you for any hints,
>
> Andreas
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
-----------
   |\__
(:>__)(
   |/
Soluciones Geoinform?ticas Libres
http://geotux.tuxfamily.org/
https://twitter.com/GeoTux2 <http://twitter.com/GeoTux2>

<http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230218/525cb2a3/attachment.htm>

From joseph.burkhart1 at comcast.net  Sun Feb 19 12:59:33 2023
From: joseph.burkhart1 at comcast.net (Joseph Burkhart)
Date: Sun, 19 Feb 2023 12:59:33 -0800 (PST)
Subject: [QGIS-Developer] PyQGIS: how to modify default behavior of
 QgsRubberBand
Message-ID: <1045528822.1582993.1676840373598@connect.xfinity.com>

Hello,

I'm working on a python plugin that provides a new map tool for drawing polygons and I'm hoping someone could give me some pointers. I'm very familiar with the pyqgis API when it comes to processing, less so (but learning) when it comes to gui.

I have created a new polygon drawing tool that behaves like the default one. What I want to do now is modify the drawing widget so that it behaves more like a brush tool, so the user can activate the tool, click on the map canvas and drag to leave a brush stroke, and when they release the mouse button the brush stroke is turned into a polygon.

My impression is that I need to create a subclass of QgsRubberBand and then re-implement that class's draw method, but honestly I can't figure out where to start with that reimplementation. I've read through the pyqt docs for QPainter, and through the pyqgis docs and source code for QgsRubberBand (links below); I still couldn't figure out what to do next.

Anyone have any recommendations?

Thanks very much,

Joseph Burkhart



QgsRubberBand:
https://qgis.org/pyqgis/3.28/gui/QgsRubberBand.html
https://github.com/qgis/QGIS/blob/master/src/gui/qgsrubberband.h https://github.com/qgis/QGIS/blob/master/src/gui/qgsrubberband.h, https://github.com/qgis/QGIS/blob/master/src/gui/qgsgeometryrubberband.cpp

QPainter:
https://doc.qt.io/qtforpython-5/PySide2/QtGui/QPainter.html

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230219/3e36017b/attachment.htm>

From alexander.bruy at gmail.com  Mon Feb 20 03:40:27 2023
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Mon, 20 Feb 2023 13:40:27 +0200
Subject: [QGIS-Developer] New QEP: add native point cloud Processing provider
Message-ID: <CALuHMPAHYuJx=3TcFojK2fM8cVvbHsfW60_AUURvhL-C84D0cQ@mail.gmail.com>

Hi all,

A new QEP for adding a native point cloud Processing provider to QGIS
has been published. This QEP is a part of the latest point cloud
crowdfunding campaign [0].

The QEP can be found here

https://github.com/qgis/QGIS-Enhancement-Proposals/issues/263

We are looking forward to your feedback.

[0] https://www.lutraconsulting.co.uk/crowdfunding/pointcloud-processing-qgis/

--
Alexander Bruy

From jacky.volpes at oslandia.com  Mon Feb 20 06:10:07 2023
From: jacky.volpes at oslandia.com (Jacky Volpes)
Date: Mon, 20 Feb 2023 15:10:07 +0100
Subject: [QGIS-Developer] PyQGIS: how to modify default behavior of
 QgsRubberBand
In-Reply-To: <1045528822.1582993.1676840373598@connect.xfinity.com>
References: <1045528822.1582993.1676840373598@connect.xfinity.com>
Message-ID: <1fa9cfaf-d552-6ef6-851f-f1b684e15ab3@oslandia.com>

Hi Joseph,

Like you, rubber bands and drawing/paint stuff are quite obscure to me 
and I need to dig into it when I want something specific...
I don't have a direct answer, but you could look into existing code 
doing similar things: the plugins "beePen" and "Bezier Editing" 
available in QGIS are "freehand" drawing tools.
They might use some of these functions.

Regards,

-- 
Jacky Volpes

Ing?nieur SIG - Oslandia


beePen: https://github.com/mauroalberti/beePen
Bezier Editing: https://github.com/tmizu23/BezierEditing



Le 19/02/2023 ? 21:59, Joseph Burkhart via QGIS-Developer a ?crit?:
> Hello,
>
> I'm working on a python plugin that provides a new map tool for 
> drawing polygons and I'm hoping someone could give me some pointers. 
> I'm very familiar with the pyqgis API when it comes to processing, 
> less so (but learning) when it comes to gui.
>
> I have created a new polygon drawing tool that behaves like the 
> default one. What I want to do now is modify the drawing widget so 
> that it behaves more like a brush tool, so the user can activate the 
> tool, click on the map canvas and drag to leave a brush stroke, and 
> when they release the mouse button the brush stroke is turned into a 
> polygon.
>
> My impression is that I need to create a subclass of QgsRubberBand and 
> then re-implement that class's draw method, but honestly I can't 
> figure out where to start with that reimplementation. I've read 
> through the pyqt docs for QPainter, and through the pyqgis docs and 
> source code for QgsRubberBand (links below); I still couldn't figure 
> out what to do next.
>
> Anyone have any recommendations?
>
> Thanks very much,
>
> Joseph Burkhart
>
>
>
> QgsRubberBand:
> https://qgis.org/pyqgis/3.28/gui/QgsRubberBand.html
> https://github.com/qgis/QGIS/blob/master/src/gui/qgsrubberband.h 
> <https://github.com/qgis/QGIS/blob/master/src/gui/qgsrubberband.h,> 
> https://github.com/qgis/QGIS/blob/master/src/gui/qgsgeometryrubberband.cpp
>
> QPainter:
> https://doc.qt.io/qtforpython-5/PySide2/QtGui/QPainter.html
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230220/21622be3/attachment.htm>

From matteo.ghetta at gmail.com  Tue Feb 21 07:41:30 2023
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 21 Feb 2023 16:41:30 +0100
Subject: [QGIS-Developer] createAlgorithmDialog in Processing script
 (within plugin)
In-Reply-To: <6a7bde17-7427-1e1e-70a9-fbb409ad99e4@gmail.com>
References: <6a7bde17-7427-1e1e-70a9-fbb409ad99e4@gmail.com>
Message-ID: <454d2f82-dea0-d6b5-86e3-4d662a2e02db@gmail.com>

Hi devs,

I'm raising this email again because I don't know if this a 
bug/limitation/correct behavior.

I also think that the problem is from a thread point of view, at least 
by the crash that I have.

Knowing that a processing algorithm, as suggested by Germ?n, can be 
created with:

processing.createAlgorithmDialog("my_provider:my_algorithm", params)

within a plugin, if the algorithm **id** is passed as first argument, 
QGIS is crashing, while it seems working on a standalone script in the 
QGIS code editor.

Is this a limitation?

Cheers and thanks for any suggestion!

Matteo

On 8/1/22 15:23, matteo wrote:
> Hi all,
> 
> I've a set of custom processing scripts within a plugin (that is both 
> "normal" and processing provider plugin).
> 
> I'm trying to executing the dialog of these algorithm from one of the 
> main plugin file. I found the processing.createAlgorithmDialog [0], but 
> it is constantly crashing when I'm passing the instance of the algorithm:
> 
> my_alg = MyCustomAlg()
> my_dialog = my_alg.createAlgorithmDialog(custom_dict)
> 
> ## crash here
> 
> Thinking it was a problem of the threads I also tried to overwrite the 
> `flag` method in the algorithm by setting also 
> QgsProcessingAlgorithm.FlagNoThreading but with the same results.
> 
> I know I can run the processing algorithm with processing.run(....) but 
> I need to open the dialog pre-filled with custom parameters and to get 
> also some other outputs besides the standard ones (like the 
> QgsFeatureSink path)
> 
> Thanks for any suggestion
> 
> Cheers
> 
> Matteo
> 
> 
> [0] 
> https://github.com/qgis/QGIS/blob/master/python/plugins/processing/tools/general.py#L155
> 

From rdmailings at duif.net  Tue Feb 21 11:44:03 2023
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 21 Feb 2023 20:44:03 +0100
Subject: [QGIS-Developer] createAlgorithmDialog in Processing script
 (within plugin)
In-Reply-To: <454d2f82-dea0-d6b5-86e3-4d662a2e02db@gmail.com>
References: <6a7bde17-7427-1e1e-70a9-fbb409ad99e4@gmail.com>
 <454d2f82-dea0-d6b5-86e3-4d662a2e02db@gmail.com>
Message-ID: <99745c64-a537-b012-85ea-df59d7f0aabd@duif.net>

Hi Matteo,

Not very helpful for you, but what about creating an issue with the minimal code to crash?

And about Thread/Crash problems: I have been succesful with the tips of Nyall in: https://lists.osgeo.org/pipermail/qgis-developer/2023-February/065525.html to create a QgsTask which either crashed or gave warnings...

One thing I've seen recently is that some Processing algs with me give these "...is run from a different thread than the object  lives in ..."-warnings.
And my feeling is that if some code is fetching references to the QGIS application instance, it shows this warning.

Good luck solving your issue

Regards,

Richard



On 2/21/23 16:41, matteo via QGIS-Developer wrote:
> Hi devs,
> 
> I'm raising this email again because I don't know if this a bug/limitation/correct behavior.
> 
> I also think that the problem is from a thread point of view, at least by the crash that I have.
> 
> Knowing that a processing algorithm, as suggested by Germ?n, can be created with:
> 
> processing.createAlgorithmDialog("my_provider:my_algorithm", params)
> 
> within a plugin, if the algorithm **id** is passed as first argument, QGIS is crashing, while it seems working on a standalone script in the QGIS code editor.
> 
> Is this a limitation?
> 
> Cheers and thanks for any suggestion!
> 
> Matteo
> 
> On 8/1/22 15:23, matteo wrote:
>> Hi all,
>>
>> I've a set of custom processing scripts within a plugin (that is both "normal" and processing provider plugin).
>>
>> I'm trying to executing the dialog of these algorithm from one of the main plugin file. I found the processing.createAlgorithmDialog [0], but it is constantly crashing when I'm passing the instance of the algorithm:
>>
>> my_alg = MyCustomAlg()
>> my_dialog = my_alg.createAlgorithmDialog(custom_dict)
>>
>> ## crash here
>>
>> Thinking it was a problem of the threads I also tried to overwrite the `flag` method in the algorithm by setting also QgsProcessingAlgorithm.FlagNoThreading but with the same results.
>>
>> I know I can run the processing algorithm with processing.run(....) but I need to open the dialog pre-filled with custom parameters and to get also some other outputs besides the standard ones (like the QgsFeatureSink path)
>>
>> Thanks for any suggestion
>>
>> Cheers
>>
>> Matteo
>>
>>
>> [0] https://github.com/qgis/QGIS/blob/master/python/plugins/processing/tools/general.py#L155
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From matteo.ghetta at gmail.com  Tue Feb 21 23:33:12 2023
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 22 Feb 2023 08:33:12 +0100
Subject: [QGIS-Developer] createAlgorithmDialog in Processing script
 (within plugin)
In-Reply-To: <99745c64-a537-b012-85ea-df59d7f0aabd@duif.net>
References: <6a7bde17-7427-1e1e-70a9-fbb409ad99e4@gmail.com>
 <454d2f82-dea0-d6b5-86e3-4d662a2e02db@gmail.com>
 <99745c64-a537-b012-85ea-df59d7f0aabd@duif.net>
Message-ID: <d37cdd7f-86be-d9d3-0135-0d4beb0eba4a@gmail.com>

Hi Richard,

> Not very helpful for you, but what about creating an issue with the 
> minimal code to crash?

done: https://github.com/qgis/QGIS/issues/51971

I've prepared a minimal algorithm that mimics the problem

> And about Thread/Crash problems: I have been succesful with the tips of 
> Nyall in: 
> https://lists.osgeo.org/pipermail/qgis-developer/2023-February/065525.html to create a QgsTask which either crashed or gave warnings...
> 
> One thing I've seen recently is that some Processing algs with me give 
> these "...is run from a different thread than the object? lives in 
> ..."-warnings.
> And my feeling is that if some code is fetching references to the QGIS 
> application instance, it shows this warning.
> 
> Good luck solving your issue

Thanks! Some gurus around? :)

Cheers

Matteo
> Regards,
> 
> Richard
> 
> 
> 
> On 2/21/23 16:41, matteo via QGIS-Developer wrote:
>> Hi devs,
>>
>> I'm raising this email again because I don't know if this a 
>> bug/limitation/correct behavior.
>>
>> I also think that the problem is from a thread point of view, at least 
>> by the crash that I have.
>>
>> Knowing that a processing algorithm, as suggested by Germ?n, can be 
>> created with:
>>
>> processing.createAlgorithmDialog("my_provider:my_algorithm", params)
>>
>> within a plugin, if the algorithm **id** is passed as first argument, 
>> QGIS is crashing, while it seems working on a standalone script in the 
>> QGIS code editor.
>>
>> Is this a limitation?
>>
>> Cheers and thanks for any suggestion!
>>
>> Matteo
>>
>> On 8/1/22 15:23, matteo wrote:
>>> Hi all,
>>>
>>> I've a set of custom processing scripts within a plugin (that is both 
>>> "normal" and processing provider plugin).
>>>
>>> I'm trying to executing the dialog of these algorithm from one of the 
>>> main plugin file. I found the processing.createAlgorithmDialog [0], 
>>> but it is constantly crashing when I'm passing the instance of the 
>>> algorithm:
>>>
>>> my_alg = MyCustomAlg()
>>> my_dialog = my_alg.createAlgorithmDialog(custom_dict)
>>>
>>> ## crash here
>>>
>>> Thinking it was a problem of the threads I also tried to overwrite 
>>> the `flag` method in the algorithm by setting also 
>>> QgsProcessingAlgorithm.FlagNoThreading but with the same results.
>>>
>>> I know I can run the processing algorithm with processing.run(....) 
>>> but I need to open the dialog pre-filled with custom parameters and 
>>> to get also some other outputs besides the standard ones (like the 
>>> QgsFeatureSink path)
>>>
>>> Thanks for any suggestion
>>>
>>> Cheers
>>>
>>> Matteo
>>>
>>>
>>> [0] 
>>> https://github.com/qgis/QGIS/blob/master/python/plugins/processing/tools/general.py#L155
>>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From yoann.quenach at gmail.com  Wed Feb 22 05:04:14 2023
From: yoann.quenach at gmail.com (Yoann Quenach de Quivillic)
Date: Wed, 22 Feb 2023 14:04:14 +0100
Subject: [QGIS-Developer] Triage permission (add labels to issues)
Message-ID: <CAJfCvRmmW1Z7QDu+FkqubdMXSGjuTSc__r7wj_7thEggBZDs8g@mail.gmail.com>

Hello everyone,

I'm not sure it is the right channel to discuss this, but I'd like to get
triage permission on qgis/QGIS (add labels to issues) for my account (
https://github.com/YoannQDQ). How can I get that?

Thanks, and have a nice day!

--
Yoann Quenach de Quivillic
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230222/83c57e67/attachment.htm>

From apasotti at gmail.com  Wed Feb 22 06:17:34 2023
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 22 Feb 2023 15:17:34 +0100
Subject: [QGIS-Developer] Triage permission (add labels to issues)
In-Reply-To: <CAJfCvRmmW1Z7QDu+FkqubdMXSGjuTSc__r7wj_7thEggBZDs8g@mail.gmail.com>
References: <CAJfCvRmmW1Z7QDu+FkqubdMXSGjuTSc__r7wj_7thEggBZDs8g@mail.gmail.com>
Message-ID: <CAL5Q673FCrhr7kL80VrLABq8r0=2om8YtbxR8zTQHrbDsOcSzA@mail.gmail.com>

done.

On Wed, Feb 22, 2023 at 2:04 PM Yoann Quenach de Quivillic via
QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:
>
> Hello everyone,
>
> I'm not sure it is the right channel to discuss this, but I'd like to get triage permission on qgis/QGIS (add labels to issues) for my account (https://github.com/YoannQDQ). How can I get that?
>
> Thanks, and have a nice day!
>
> --
> Yoann Quenach de Quivillic
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From matteo.ghetta at gmail.com  Thu Feb 23 04:59:27 2023
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 23 Feb 2023 13:59:27 +0100
Subject: [QGIS-Developer] createAlgorithmDialog in Processing script
 (within plugin)
In-Reply-To: <d37cdd7f-86be-d9d3-0135-0d4beb0eba4a@gmail.com>
References: <6a7bde17-7427-1e1e-70a9-fbb409ad99e4@gmail.com>
 <454d2f82-dea0-d6b5-86e3-4d662a2e02db@gmail.com>
 <99745c64-a537-b012-85ea-df59d7f0aabd@duif.net>
 <d37cdd7f-86be-d9d3-0135-0d4beb0eba4a@gmail.com>
Message-ID: <265376ba-87fa-b982-81cc-ab91d8d271f9@gmail.com>

Just a quick update, the fix is now in master and backported:

https://github.com/qgis/QGIS/issues/51971
https://github.com/qgis/QGIS/pull/51985

Thanks to all the devs!

Cheers

Matteo

On 2/22/23 08:33, matteo wrote:
> Hi Richard,
> 
>> Not very helpful for you, but what about creating an issue with the 
>> minimal code to crash?
> 
> done: https://github.com/qgis/QGIS/issues/51971
> 
> I've prepared a minimal algorithm that mimics the problem
> 
>> And about Thread/Crash problems: I have been succesful with the tips 
>> of Nyall in: 
>> https://lists.osgeo.org/pipermail/qgis-developer/2023-February/065525.html to create a QgsTask which either crashed or gave warnings...
>>
>> One thing I've seen recently is that some Processing algs with me give 
>> these "...is run from a different thread than the object? lives in 
>> ..."-warnings.
>> And my feeling is that if some code is fetching references to the QGIS 
>> application instance, it shows this warning.
>>
>> Good luck solving your issue
> 
> Thanks! Some gurus around? :)
> 
> Cheers
> 
> Matteo
>> Regards,
>>
>> Richard
>>
>>
>>
>> On 2/21/23 16:41, matteo via QGIS-Developer wrote:
>>> Hi devs,
>>>
>>> I'm raising this email again because I don't know if this a 
>>> bug/limitation/correct behavior.
>>>
>>> I also think that the problem is from a thread point of view, at 
>>> least by the crash that I have.
>>>
>>> Knowing that a processing algorithm, as suggested by Germ?n, can be 
>>> created with:
>>>
>>> processing.createAlgorithmDialog("my_provider:my_algorithm", params)
>>>
>>> within a plugin, if the algorithm **id** is passed as first argument, 
>>> QGIS is crashing, while it seems working on a standalone script in 
>>> the QGIS code editor.
>>>
>>> Is this a limitation?
>>>
>>> Cheers and thanks for any suggestion!
>>>
>>> Matteo
>>>
>>> On 8/1/22 15:23, matteo wrote:
>>>> Hi all,
>>>>
>>>> I've a set of custom processing scripts within a plugin (that is 
>>>> both "normal" and processing provider plugin).
>>>>
>>>> I'm trying to executing the dialog of these algorithm from one of 
>>>> the main plugin file. I found the processing.createAlgorithmDialog 
>>>> [0], but it is constantly crashing when I'm passing the instance of 
>>>> the algorithm:
>>>>
>>>> my_alg = MyCustomAlg()
>>>> my_dialog = my_alg.createAlgorithmDialog(custom_dict)
>>>>
>>>> ## crash here
>>>>
>>>> Thinking it was a problem of the threads I also tried to overwrite 
>>>> the `flag` method in the algorithm by setting also 
>>>> QgsProcessingAlgorithm.FlagNoThreading but with the same results.
>>>>
>>>> I know I can run the processing algorithm with processing.run(....) 
>>>> but I need to open the dialog pre-filled with custom parameters and 
>>>> to get also some other outputs besides the standard ones (like the 
>>>> QgsFeatureSink path)
>>>>
>>>> Thanks for any suggestion
>>>>
>>>> Cheers
>>>>
>>>> Matteo
>>>>
>>>>
>>>> [0] 
>>>> https://github.com/qgis/QGIS/blob/master/python/plugins/processing/tools/general.py#L155
>>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nicolas.godet at outlook.fr  Fri Feb 24 05:11:21 2023
From: nicolas.godet at outlook.fr (Nicolas Godet)
Date: Fri, 24 Feb 2023 13:11:21 +0000
Subject: [QGIS-Developer] parameterAsEnumStrings always return default value
Message-ID: <PA4P190MB11663DEE80AD2854AD6290B88FA89@PA4P190MB1166.EURP190.PROD.OUTLOOK.COM>

Dear devs,

I noticed in a custom alg that `parameterAsEnumStrings` always return the default value set in QgsProcessingParameterEnum.
Below a example alg to reproduce.

i prefere to start with an email before raising an issue as I could miss something

In alg window select any value different from 2023 (ex: 2020, index 3 in list).
Run alg
See info in log:

"""
Version de QGIS : 3.28.3-Firenze

R?vision du code : c12bcb2f76c

Version de Qt : 5.15.3

Version de Python : 3.9.5

Version de GDAL : 3.6.2

Version de GEOS : 3.11.1-CAPI-1.17.1

Version de Proj : Rel. 9.1.1, December 1st, 2022

Version de PDAL : 2.4.3 (git-version: f8d673)

Algorithme commenc? ?: 2023-02-24T14:10:09

D?marrage de l'algorithme 'debug'?

Param?tres en entr?e:

{ 'PARAMNAME' : 3 }


['2023', '2022', '2021', '2020']

[3]

2023

Execution completed in 0.02 secondes

R?sultats :

{}


Chargement des couches de r?sultat

Algorithme 'debug' termin?

"""

Regards,

https://gitlab.nicodet.fr/-/snippets/10
[https://gitlab.nicodet.fr/assets/twitter_card-570ddb06edf56a2312253c5872489847a0f385112ddbcd71ccfa1570febab5d2.jpg]<https://gitlab.nicodet.fr/-/snippets/10>
Script debug parameterAsEnumStrings ($10) ? Snippets ? Snippets ? GitLab<https://gitlab.nicodet.fr/-/snippets/10>
GitLab Community Edition
gitlab.nicodet.fr
?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230224/8493e06c/attachment.htm>

From nicolas.godet at outlook.fr  Fri Feb 24 05:27:30 2023
From: nicolas.godet at outlook.fr (Nicolas Godet)
Date: Fri, 24 Feb 2023 13:27:30 +0000
Subject: [QGIS-Developer] parameterAsEnumStrings always return default
 value
In-Reply-To: <PA4P190MB11663DEE80AD2854AD6290B88FA89@PA4P190MB1166.EURP190.PROD.OUTLOOK.COM>
References: <PA4P190MB11663DEE80AD2854AD6290B88FA89@PA4P190MB1166.EURP190.PROD.OUTLOOK.COM>
Message-ID: <PA4P190MB116638B08B64CB7008A7C6FA8FA89@PA4P190MB1166.EURP190.PROD.OUTLOOK.COM>

I updated the snippet parameterAsEnumString return an empty value.
________________________________
De : QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> de la part de Nicolas Godet via QGIS-Developer <qgis-developer at lists.osgeo.org>
Envoy? : vendredi 24 f?vrier 2023 14:11
? : qgis-developer at lists.osgeo.org <qgis-developer at lists.osgeo.org>
Objet : [QGIS-Developer] parameterAsEnumStrings always return default value

Dear devs,

I noticed in a custom alg that `parameterAsEnumStrings` always return the default value set in QgsProcessingParameterEnum.
Below a example alg to reproduce.

i prefere to start with an email before raising an issue as I could miss something

In alg window select any value different from 2023 (ex: 2020, index 3 in list).
Run alg
See info in log:

"""
Version de QGIS : 3.28.3-Firenze

R?vision du code : c12bcb2f76c

Version de Qt : 5.15.3

Version de Python : 3.9.5

Version de GDAL : 3.6.2

Version de GEOS : 3.11.1-CAPI-1.17.1

Version de Proj : Rel. 9.1.1, December 1st, 2022

Version de PDAL : 2.4.3 (git-version: f8d673)

Algorithme commenc? ?: 2023-02-24T14:10:09

D?marrage de l'algorithme 'debug'?

Param?tres en entr?e:

{ 'PARAMNAME' : 3 }


['2023', '2022', '2021', '2020']

[3]

2023

Execution completed in 0.02 secondes

R?sultats :

{}


Chargement des couches de r?sultat

Algorithme 'debug' termin?

"""

Regards,

https://gitlab.nicodet.fr/-/snippets/10
[https://gitlab.nicodet.fr/assets/twitter_card-570ddb06edf56a2312253c5872489847a0f385112ddbcd71ccfa1570febab5d2.jpg]<https://gitlab.nicodet.fr/-/snippets/10>
Script debug parameterAsEnumStrings ($10) ? Snippets ? Snippets ? GitLab<https://gitlab.nicodet.fr/-/snippets/10>
GitLab Community Edition
gitlab.nicodet.fr
?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230224/a08cb7bf/attachment-0001.htm>

From yoann.quenach at gmail.com  Fri Feb 24 07:23:55 2023
From: yoann.quenach at gmail.com (Yoann Quenach de Quivillic)
Date: Fri, 24 Feb 2023 16:23:55 +0100
Subject: [QGIS-Developer] Additional python modules
Message-ID: <CAJfCvRmOQYBUibTu0U6NW6p_7tkSHGox7GRwgrqrXJyx+td12Q@mail.gmail.com>

Hello everyone,

I'm working on a new feature targeting 3.32 to reformat code written in the
Python Console Editor : https://github.com/qgis/QGIS/pull/51733. It works
great, but it requires additional python packages to be installed (namely
black / autopep8 / isort).

*Is there a reliable cross platform way we can use to distribute additional
python packages alongside QGIS? *

I could rewrite my PR to enable this feature only if the required modules
are installed, but it seems kind of a shame... An alternative would be, as
discussed in (
https://github.com/qgis/QGIS/pull/51733#issuecomment-1434646910) to provide
the end user a way to dynamically install modules as needed.

Any thoughts?
Thanks,

*--*
*Yoann Quenach de Quivillic  *
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230224/7ec010d1/attachment.htm>

From apasotti at gmail.com  Fri Feb 24 07:31:58 2023
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 24 Feb 2023 16:31:58 +0100
Subject: [QGIS-Developer] Additional python modules
In-Reply-To: <CAJfCvRmOQYBUibTu0U6NW6p_7tkSHGox7GRwgrqrXJyx+td12Q@mail.gmail.com>
References: <CAJfCvRmOQYBUibTu0U6NW6p_7tkSHGox7GRwgrqrXJyx+td12Q@mail.gmail.com>
Message-ID: <CAL5Q671jz_T6zktECnPjZjoJ=bz1KV2feOciQXOiEenri+CLvw@mail.gmail.com>

Hi,

last time I checked there wasn't, mainly because the PIP API wasn't exposed.

The standard way to go is ask Juergen to add the packages you need to
the QGIS package recipes.


On Fri, Feb 24, 2023 at 4:24 PM Yoann Quenach de Quivillic via
QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:
>
> Hello everyone,
>
> I'm working on a new feature targeting 3.32 to reformat code written in the Python Console Editor : https://github.com/qgis/QGIS/pull/51733. It works great, but it requires additional python packages to be installed (namely black / autopep8 / isort).
>
> Is there a reliable cross platform way we can use to distribute additional python packages alongside QGIS?
>
> I could rewrite my PR to enable this feature only if the required modules are installed, but it seems kind of a shame... An alternative would be, as discussed in (https://github.com/qgis/QGIS/pull/51733#issuecomment-1434646910) to provide the end user a way to dynamically install modules as needed.
>
> Any thoughts?
> Thanks,
>
> --
> Yoann Quenach de Quivillic
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
QCooperative:  www.qcooperative.net
ItOpen:   www.itopen.it

From andreaerdna at libero.it  Fri Feb 24 08:37:19 2023
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Fri, 24 Feb 2023 17:37:19 +0100
Subject: [QGIS-Developer] parameterAsEnumStrings always return default
 value
Message-ID: <31c95bf9-82cb-dffc-ae8a-f31e8ca2828e@libero.it>

Hi Nicolas,
I don't know if it is the intended behaviour, anyway it seems to me 
parameterAsEnumString and parameterAsEnumStrings return the correct 
value when |usesStaticStrings is set to True, while parameterAsEnum and 
parameterAsEnums when ||usesStaticStrings is set to False.

In addition, the parameter defaultValue should be set to a single value 
and not to a list if ||allowMultiple is set to False.

Best regards.

Andrea Giudiceandrea
|
Il 24/02/2023 14:11, Nicolas Godet via QGIS-Developer ha scritto:
> I noticed in a custom alg that `parameterAsEnumStrings` always return 
> the default value set in QgsProcessingParameterEnum.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230224/2978a713/attachment.htm>

From andreaerdna at libero.it  Fri Feb 24 08:50:29 2023
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Fri, 24 Feb 2023 17:50:29 +0100
Subject: [QGIS-Developer] parameterAsEnumStrings always return default
 value
Message-ID: <ad7bd8f4-7eeb-05f0-9c4f-e62887161a00@libero.it>

Il 24/02/2023 17:37, Andrea Giudiceandrea ha scritto:
> |In addition, the parameter defaultValue should be set to a single 
> value and not to a list if ||allowMultiple is set to False.|
|... and it should be populated with the index number 
(|||||allowMultiple=False) |or a list of index numbers 
(|||||allowMultiple=True) when |||||usesStaticStrings is set to False 
and ||with the value |||(|||||allowMultiple=False) ||or a list of values 
|||(|||||allowMultiple=True) when |||||usesStaticStrings is set to True.

Andrea
||
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230224/af31d593/attachment.htm>

From andreas at qgis.org  Fri Feb 24 09:52:33 2023
From: andreas at qgis.org (Andreas Neumann)
Date: Fri, 24 Feb 2023 18:52:33 +0100
Subject: [QGIS-Developer] PyQGIS code: setting filter expression for
 value relation widget
In-Reply-To: <CANaz7mziayELDLOrcwuY0C+rQ+Pm5DHJB1UQm8Uq2WksPUNJ1A@mail.gmail.com>
References: <c8889e284685fe5cd010fcbf8d66ea60@carto.net>
 <CANaz7mziayELDLOrcwuY0C+rQ+Pm5DHJB1UQm8Uq2WksPUNJ1A@mail.gmail.com>
Message-ID: <CAB2Z92AjT3baQ+BQJ5H8870naCDLY322sTzVYNn+BXyGrZ-dBw@mail.gmail.com>

Hi Germ?n,

Thank you so much for these suggestions and code snippets.

I also came across the QgsEditorWidgetSetup - but had no idea how to use
it. The Python cookbook did not mention it. The cookbook is really great -
but for interactive forms, there is not so much information.

I will try it and report back.

Thank you very much Germ?n,
Andreas


On Sun, 19 Feb 2023 at 00:59, Germ?n Carrillo via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi Andreas,
>
>
> you can modify your Value Relation widget's filter expression using the
> QgsEditorWidgetSetup class, in this way:
>
> 1) Get the editor widget setup and get a copy of its config dictionary:
>
>     ews = layer.editorWidgetSetup(3)  # *Let's assume your Value Relation
> widget is set for a field with index 3*
>     new_config = ews.config()  # *We'll use the current config as a basis
> to modify only the filter expression*
>
> 2) Modify the config dict's filter expression:
>
>     new_config['FilterExpression'] = 'your new expression'
>
> 3) Apply changes to your layer:
>
>     new_ews = QgsEditorWidgetSetup('ValueRelation', new_config)
>     layer.setEditorWidgetSetup(3, new_ews)  # *Remember that 3
> corresponds to the field index*
>
> And that's it! You should have now a different set of values in the Value
> Relation widget.
>
>
> Regards,
>
> Germ?n
>
>
>
> El lun, 13 feb 2023 a las 5:40, Andreas Neumann via QGIS-Developer (<
> qgis-developer at lists.osgeo.org>) escribi?:
>
>> Hi,
>>
>> I am looking for a code snippet in PyQGIS: how can I change the filter
>> expression for a value relation widget?
>>
>> Technically, the widget seems to be a QComboBox. I can get access to the
>> combobox, e.g. to get the current value - but how can I access the QGIS
>> related functionality, like changing programmatically settings of the value
>> relation widget , such as the filter expression? I found the
>> QgsValueRelationFieldFormatter object, but it doesn't allow me to change
>> the filter expression. Any idea how I would change the filter expression
>> using Python?
>>
>> Thank you for any hints,
>>
>> Andreas
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
> --
> -----------
>    |\__
> (:>__)(
>    |/
> Soluciones Geoinform?ticas Libres
> http://geotux.tuxfamily.org/
> https://twitter.com/GeoTux2 <http://twitter.com/GeoTux2>
>
> <http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 

--
Andreas Neumann
QGIS.ORG board member (treasurer)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230224/df7fbf37/attachment.htm>

From nicolas.godet at outlook.fr  Fri Feb 24 10:54:55 2023
From: nicolas.godet at outlook.fr (Nicolas Godet)
Date: Fri, 24 Feb 2023 18:54:55 +0000
Subject: [QGIS-Developer] parameterAsEnumStrings always return default
 value
In-Reply-To: <ad7bd8f4-7eeb-05f0-9c4f-e62887161a00@libero.it>
References: <ad7bd8f4-7eeb-05f0-9c4f-e62887161a00@libero.it>
Message-ID: <PA4P190MB1166EB8F3BA6D1FA084676A78FA89@PA4P190MB1166.EURP190.PROD.OUTLOOK.COM>

Hi Andrea,

Thanks for your reply.
The doc should reflect this weird (I believe) behavior.

Setting "usesStaticStrings=True" and "defaultValue="2023" and with parameterAsEnumString I have expected behavior but parameterAsEnum is broken...
Not easy...

I think I will fill an issue as the doc should should be more explicit or behavior fixed.




________________________________
De : QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> de la part de Andrea Giudiceandrea via QGIS-Developer <qgis-developer at lists.osgeo.org>
Envoy? : vendredi 24 f?vrier 2023 17:50
? : qgis-developer at lists.osgeo.org <qgis-developer at lists.osgeo.org>
Objet : Re: [QGIS-Developer] parameterAsEnumStrings always return default value

Il 24/02/2023 17:37, Andrea Giudiceandrea ha scritto:
In addition, the parameter defaultValue should be set to a single value and not to a list if allowMultiple is set to False.
... and it should be populated with the index number (allowMultiple=False) or a list of index numbers (allowMultiple=True) when usesStaticStrings is set to False and with the value (allowMultiple=False) or a list of values (allowMultiple=True) when usesStaticStrings is set to True.

Andrea
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230224/6868e0df/attachment-0001.htm>

From njacadieux.gitlab at gmail.com  Fri Feb 24 11:29:53 2023
From: njacadieux.gitlab at gmail.com (Nicolas Cadieux)
Date: Fri, 24 Feb 2023 14:29:53 -0500
Subject: [QGIS-Developer] updating a model on the site
Message-ID: <CAJS0BABW+8RzSu9=NPjCy=VcMy5_zdRagNEGE72FvJLaH+N=Cg@mail.gmail.com>

Hi,
I have a 3 models that have been improved (Fix Directional Network,
Check Geometries, model 1 of 3.)  and fixed. I presented today at the
QGIS OpenDay.

I had to remove the "Snap to anchor nodes (single layer only)" as it
was creating invalid geometries in QGIS 3.28.2-Firenze on Windows 11.

I am not sure exactly how to upload the new models? I see the upload
button but I am wondering what will happen to the old ones? Will they
be removed by someone managing the site?  Can we have multiple
versions of the model as I am using the new repair geometry tools
unavailable before 3.28? Is it possible to modify a models'
description myself or must I send and email somewhere?

Thanks
Nicolas Cadieux

From nyall.dawson at gmail.com  Fri Feb 24 17:24:21 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 25 Feb 2023 11:24:21 +1000
Subject: [QGIS-Developer] Additional python modules
In-Reply-To: <CAJfCvRmOQYBUibTu0U6NW6p_7tkSHGox7GRwgrqrXJyx+td12Q@mail.gmail.com>
References: <CAJfCvRmOQYBUibTu0U6NW6p_7tkSHGox7GRwgrqrXJyx+td12Q@mail.gmail.com>
Message-ID: <CAB28AshgpfeBhrZqCG3W88PTmEvGpPoGtdnNbpm5z4H7p5WAYQ@mail.gmail.com>

On Sat, 25 Feb 2023, 1:24 am Yoann Quenach de Quivillic via QGIS-Developer,
<qgis-developer at lists.osgeo.org> wrote:

> Hello everyone,
>
> I'm working on a new feature targeting 3.32 to reformat code written in
> the Python Console Editor : https://github.com/qgis/QGIS/pull/51733. It
> works great, but it requires additional python packages to be installed
> (namely black / autopep8 / isort).
>
> *Is there a reliable cross platform way we can use to distribute
> additional python packages alongside QGIS? *
>
> I could rewrite my PR to enable this feature only if the required modules
> are installed, but it seems kind of a shame... An alternative would be, as
> discussed in (
> https://github.com/qgis/QGIS/pull/51733#issuecomment-1434646910) to
> provide the end user a way to dynamically install modules as needed.
>


Black is a rather heavy library to add as a mandatory dependency, and it's
not safe to assume it's always available everywhere (eg last I checked it's
not available through the Fedora repos).

I think leaving the conditional checks is needed, but its definitely it's
worth exploring if the dependencies can be added to the default windows
install...

Nyall


> Any thoughts?
> Thanks,
>
> *--*
> *Yoann Quenach de Quivillic  *
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230225/15fe2f76/attachment.htm>

From michel.nzikou at alumni.uleth.ca  Fri Feb 24 18:29:11 2023
From: michel.nzikou at alumni.uleth.ca (Nzikou, Michel)
Date: Sat, 25 Feb 2023 10:29:11 +0800
Subject: [QGIS-Developer] Running python file from a different environment
Message-ID: <CALG-VUSZz0if8kb16SwTnEAT4jVQsN53iuNCwRrsvobxLF9YJw@mail.gmail.com>

Hello,

I would like to know whether you can run or execute a diferent python file
via qgis console using a different environment?
Here i mean, i want to run it on its own environment where all dependecies
are set.

Thanks



-- 
*Michel Nzikou, Ph.D.*
ASEG WA - President
*-----*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230225/c02b8dca/attachment.htm>

From andreas at qgis.org  Mon Feb 27 23:55:49 2023
From: andreas at qgis.org (Andreas Neumann)
Date: Tue, 28 Feb 2023 08:55:49 +0100
Subject: [QGIS-Developer] Re-discussing the QGIS release schedule - in
 combination with the quarantine rule for LTR versions
Message-ID: <CAB2Z92DzpOobHke3oOgxP-K4ZY8aYirLhUMenS2CT4BrDNsVRw@mail.gmail.com>

Dear QGIS devs,

The QGIS release schedule for LTR versions was recently "thinned out", as
part of a decision to introduce "manual testing" prior to release - see QEP
239: https://github.com/qgis/QGIS-Enhancement-Proposals/issues/239 - see
also the release schedule at
https://www.qgis.org/en/site/getinvolved/development/roadmap.html

Quote from the QEP 239: "LTR releases will no longer have monthly patch
releases, but instead a 4 months cycle releases, coincident with the
release of the stable version".

I can understand the reasoning behind that decision, because "manual
testing" is a lot of work and it was also heard that many users don't
install patch releases too often.

However, the situation is, that there is also a "quarantine rule" - which
is not mentioned in QEP 239 - but it helps to prevent untested patches to
end up in LTR versions, by delaying the backports until the backport was
first tested in the non-LTR stable release. There had been a number of
examples where this quarantine rule helped prevent regressions in the LTR
version introduced by backports in the past. So, I think this quarantine
rule is useful to have.

However, it doesn't match well with the decision to "thin out" the release
schedule of the LTR version. There can be situations where a user will have
to wait 4-5 months, until a backport ends up in an LTR release, which is a
rather long time. We should bring this down to 2 months, like in the past.

My proposal is to "revisit" the decision of the "thinned out" release
schedule and only "thin out", 6 months after a version became LTR.

Any thoughts? Especially from the commercial support providers? How would
your customers react to the fewer patch releases?

Thank you for the discussion,
Andreas

--
Andreas Neumann
QGIS.ORG board member (treasurer)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20230228/1ac1e9d0/attachment.htm>

From nyall.dawson at gmail.com  Tue Feb 28 21:29:49 2023
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 1 Mar 2023 15:29:49 +1000
Subject: [QGIS-Developer] Re-discussing the QGIS release schedule - in
 combination with the quarantine rule for LTR versions
In-Reply-To: <CAB2Z92DzpOobHke3oOgxP-K4ZY8aYirLhUMenS2CT4BrDNsVRw@mail.gmail.com>
References: <CAB2Z92DzpOobHke3oOgxP-K4ZY8aYirLhUMenS2CT4BrDNsVRw@mail.gmail.com>
Message-ID: <CAB28Ash4BMmqq6thJkQnKTqd6ynXH5wEK4wQ2iuSL3YbO9z-hw@mail.gmail.com>

On Tue, 28 Feb 2023 at 17:56, Andreas Neumann via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> Dear QGIS devs,
>
> The QGIS release schedule for LTR versions was recently "thinned out", as part of a decision to introduce "manual testing" prior to release - see QEP 239: https://github.com/qgis/QGIS-Enhancement-Proposals/issues/239 - see also the release schedule at https://www.qgis.org/en/site/getinvolved/development/roadmap.html
>
> Quote from the QEP 239: "LTR releases will no longer have monthly patch releases, but instead a 4 months cycle releases, coincident with the release of the stable version".
>
> I can understand the reasoning behind that decision, because "manual testing" is a lot of work and it was also heard that many users don't install patch releases too often.
>
> However, the situation is, that there is also a "quarantine rule" - which is not mentioned in QEP 239 - but it helps to prevent untested patches to end up in LTR versions, by delaying the backports until the backport was first tested in the non-LTR stable release. There had been a number of examples where this quarantine rule helped prevent regressions in the LTR version introduced by backports in the past. So, I think this quarantine rule is useful to have.
>
> However, it doesn't match well with the decision to "thin out" the release schedule of the LTR version. There can be situations where a user will have to wait 4-5 months, until a backport ends up in an LTR release, which is a rather long time. We should bring this down to 2 months, like in the past.
>
> My proposal is to "revisit" the decision of the "thinned out" release schedule and only "thin out", 6 months after a version became LTR.
>
> Any thoughts? Especially from the commercial support providers? How would your customers react to the fewer patch releases?

I would VERY much like to see the current monthly LTR patch releases
continued for the lifetime of an LTR release. 4-5 months is just far
too long for users to wait for fixes.

Kind regards,
Nyall


>
> Thank you for the discussion,
> Andreas
>
> --
> Andreas Neumann
> QGIS.ORG board member (treasurer)
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

