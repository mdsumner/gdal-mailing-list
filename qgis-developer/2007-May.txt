From tutey at o2.pl  Wed May  2 03:37:03 2007
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:06 2008
Subject: [Qgis-developer] backport workarounds for builiding with GRASS 6.3
	CVS to 0.8.1?
Message-ID: <46383F9F.8010805@o2.pl>

Hi,

Could r6923 and r6924 be backported from head to 0.8 trunk in SVN, to
be able to build with 0.8.1 GRASS 6.3 CVS? Woud that brake 0.8's
compatibility with GRASS 6.2?

Thanks.

Maciek

From wonder.sk at gmail.com  Thu May  3 09:28:44 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:06 2008
Subject: [Qgis-developer] backport workarounds for builiding with GRASS
	6.3 CVS to 0.8.1?
In-Reply-To: <46383F9F.8010805@o2.pl>
References: <46383F9F.8010805@o2.pl>
Message-ID: <e8e7199c0705030628p7f1ce62foa77bdca21727a363@mail.gmail.com>

Hi,

I've ported it also to 0.8 branch (r6925), it stays
backward-compatible with all GRASS 6.x versions.

Martin

On 5/2/07, Maciej Sieczka <tutey@o2.pl> wrote:
> Hi,
>
> Could r6923 and r6924 be backported from head to 0.8 trunk in SVN, to
> be able to build with 0.8.1 GRASS 6.3 CVS? Woud that brake 0.8's
> compatibility with GRASS 6.2?
>
> Thanks.
>
> Maciek
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From tutey at o2.pl  Fri May  4 05:13:12 2007
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:06 2008
Subject: [Qgis-developer] backport workarounds for builiding with GRASS
	6.3 CVS to 0.8.1?
In-Reply-To: <e8e7199c0705030628p7f1ce62foa77bdca21727a363@mail.gmail.com>
References: <46383F9F.8010805@o2.pl>
	<e8e7199c0705030628p7f1ce62foa77bdca21727a363@mail.gmail.com>
Message-ID: <463AF928.6040104@o2.pl>

Martin Dobias wrote:
> Hi,
> 
> I've ported it also to 0.8 branch (r6925), it stays
> backward-compatible with all GRASS 6.x versions.

Martin

Great! Thank you.

Maciek

From sherman at mrcc.com  Sat May  5 11:52:47 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:06 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
Message-ID: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>

I just built the latest from the 0.8 release branch. It crashes when  
loading a vector layer (shapefile)
Thread 0 Crashed:
0   <<00000000>> 	0x180815e1 0 + 403183073
1   libogrprovider.so   	0x181344ce QgsOgrProvider::loadFields() + 24
2   libogrprovider.so   	0x18134a1a QgsOgrProvider::QgsOgrProvider[in- 
charge](QString const&) + 714
3   libogrprovider.so   	0x18134d6a classFactory + 40
4   libqgis_core.dylib  	0x01a5b66f

Before I chalk this up to my bad build (I had to manually edit  
CMakeCache.txt to change libdal.so to libgdal.dylib after running  
cmake), can anybody confirm this problem? Or does the build work for  
you?

-gary

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From telwertowski at comcast.net  Sat May  5 13:29:25 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:06 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>
Message-ID: <463CBEF5.3010909@comcast.net>

Gary Sherman wrote:
> I just built the latest from the 0.8 release branch. It crashes when 
> loading a vector layer (shapefile)
> 
> Before I chalk this up to my bad build (I had to manually edit 
> CMakeCache.txt to change libdal.so to libgdal.dylib after running 
> cmake), can anybody confirm this problem? Or does the build work for you?

Works for me. I also changed libdal.so.

Tom

From sherman at mrcc.com  Sat May  5 14:19:28 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:06 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <463CBEF5.3010909@comcast.net>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>
	<463CBEF5.3010909@comcast.net>
Message-ID: <88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>


On May 5, 2007, at 9:29 AM, Tom Elwertowski wrote:

> Gary Sherman wrote:
>> I just built the latest from the 0.8 release branch. It crashes  
>> when loading a vector layer (shapefile)
>> Before I chalk this up to my bad build (I had to manually edit  
>> CMakeCache.txt to change libdal.so to libgdal.dylib after running  
>> cmake), can anybody confirm this problem? Or does the build work  
>> for you?
>
> Works for me. I also changed libdal.so.
>
> Tom

Rasters work for me so I'm thinking it must be something recently  
changed in QgsOgrProvider::loadFields(). I'm compiling against  
Revision: 6930, checked out today (https://svn.qgis.org/repos/qgis/ 
branches/Release-0_8_0)

-gary

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From wonder.sk at gmail.com  Sat May  5 22:54:33 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:06 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <463CBEF5.3010909@comcast.net>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>
	<463CBEF5.3010909@comcast.net>
Message-ID: <e8e7199c0705051954x31efd5beqb88812f20754560f@mail.gmail.com>

> > Before I chalk this up to my bad build (I had to manually edit
> > CMakeCache.txt to change libdal.so to libgdal.dylib after running
> > cmake), can anybody confirm this problem? Or does the build work for you?
>
> Works for me. I also changed libdal.so.

btw. that annoyance about changing libgdal.so to libgdal.dylib on
apple is fixed already quite some time in trunk...

Martin

From marco.hugentobler at karto.baug.ethz.ch  Mon May  7 11:30:11 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:06 2008
Subject: [Qgis-developer] merging raster transparency branch soon?
Message-ID: <200705071730.11500.marco.hugentobler@karto.baug.ethz.ch>

Hi,

I'd like to ask what the opinions are about merging the changes in raster 
transparency branches to svn head soon.

In my opinion, one additions that needs to be done before the merge is 
reading/saving the transparent pixel values from/to project file. Tim, Peter 
and others, are there more issues that need to be resolved in the branch 
before merge?

Cheers,
Marco

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
marco.hugentobler@karto.baug.ethz.ch

From cavallini at faunalia.it  Tue May  8 01:22:46 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:06 2008
Subject: [Qgis-developer] grass rasters and 0.8.1
Message-ID: <46400926.7010105@faunalia.it>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi all.
Any news about the horrible, 2 months old, bug in the windows version
(https://svn.qgis.org/trac/ticket/627)?
I believe this is the main stopper for releasing the (much needed) 0.8.1
version, so are there any plans to fix it? Can some of the funds be used
to hire somebody (Radim?) to fix it?
All the best.
- --
Paolo Cavallini
http://www.faunalia.it/pc
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGQAkl/NedwLUzIr4RAiT6AJsEOwVVWkdxg+WEEdj/pUIj7IDsTQCgh8ks
iYt8lLazad8e9ZKw8nfaw/U=
=Wut2
-----END PGP SIGNATURE-----

From otto.dassau at gmx.de  Tue May  8 03:39:32 2007
From: otto.dassau at gmx.de (Otto Dassau)
Date: Wed Feb  6 23:25:06 2008
Subject: [Qgis-developer] qgis-head compilation problem
Message-ID: <20070508093932.79604c40@localhost.localdomain>

Hi, 

compiling the latest qgis-head svn on debian testing I have 2 problems. Maybe
someone can help?

1) The progress of compilation doesn't count since yesterday, I think. It is
always 0%.

Scanning dependencies of target msexport
[  0%] Building CXX object
tools/mapserver_export/CMakeFiles/msexport.dir/qgsmapserverexport.o 
[  0%]
Building CXX object tools/mapserver_export/CMakeFiles/msexport.dir/ms_main.o 
[  0%] Building CXX object
tools/mapserver_export/CMakeFiles/msexport.dir/msexport_wrap.o 
[  0%] Building CXX object
tools/mapserver_export/CMakeFiles/msexport.dir/moc_qgsmapserverexport.o Linking
CXX executable msexport 
[  0%] Built target msexport

2) executing qgis in the svn folder I get following error and I remember it was
working a couple of weeks ago:

dassau@berlin:/daten/software/qgis-head$ ./src/app/qgis 
qgis: /daten/software/qgis-head/src/app/qgisapp.cpp:1070:
voidQgisApp::createStatusBar(): Zusicherung ?!myProjPixmap.isNull()? nicht
erf?llt. Abgebrochen

thanks a lot
  Otto


From stephan.holl at intevation.de  Tue May  8 03:46:06 2007
From: stephan.holl at intevation.de (Stephan Holl)
Date: Wed Feb  6 23:25:06 2008
Subject: [Qgis-developer] qgis-head compilation problem
In-Reply-To: <20070508093932.79604c40@localhost.localdomain>
References: <20070508093932.79604c40@localhost.localdomain>
Message-ID: <20070508094606.07109ca2@thoe.hq.intevation.de>

Hello Otto,

Otto Dassau <otto.dassau@gmx.de>, [20070508 - 09:39:32]

> Hi, 
> 
> compiling the latest qgis-head svn on debian testing I have 2
> problems. Maybe someone can help?

> 2) executing qgis in the svn folder I get following error and I
> remember it was working a couple of weeks ago:
> 
> dassau@berlin:/daten/software/qgis-head$ ./src/app/qgis 
> qgis: /daten/software/qgis-head/src/app/qgisapp.cpp:1070:
> voidQgisApp::createStatusBar(): Zusicherung ?!myProjPixmap.isNull()?
> nicht erf?llt. Abgebrochen

Not much of a help, but I have the above error after 'make install' and
trying to run it from the installed path. Running from
source/build-folder works though.

Best

	Stephan


-- 
Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner

From wonder.sk at gmail.com  Tue May  8 04:40:48 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:06 2008
Subject: [Qgis-developer] qgis-head compilation problem
In-Reply-To: <20070508093932.79604c40@localhost.localdomain>
References: <20070508093932.79604c40@localhost.localdomain>
Message-ID: <e8e7199c0705080140h59b34cfam552b164da849153b@mail.gmail.com>

On 5/8/07, Otto Dassau <otto.dassau@gmx.de> wrote:
> Hi,
>
> compiling the latest qgis-head svn on debian testing I have 2 problems. Maybe
> someone can help?
>
> 1) The progress of compilation doesn't count since yesterday, I think. It is
> always 0%.
>
> Scanning dependencies of target msexport
> [  0%] Building CXX object
> tools/mapserver_export/CMakeFiles/msexport.dir/qgsmapserverexport.o
> [  0%]
> Building CXX object tools/mapserver_export/CMakeFiles/msexport.dir/ms_main.o
> [  0%] Building CXX object
> tools/mapserver_export/CMakeFiles/msexport.dir/msexport_wrap.o
> [  0%] Building CXX object
> tools/mapserver_export/CMakeFiles/msexport.dir/moc_qgsmapserverexport.o Linking
> CXX executable msexport
> [  0%] Built target msexport

Hi,

I've never seen this. Try doing a clean make. But progress counter
shouldn't have any impact on compilation.


> 2) executing qgis in the svn folder I get following error and I remember it was
> working a couple of weeks ago:
>
> dassau@berlin:/daten/software/qgis-head$ ./src/app/qgis
> qgis: /daten/software/qgis-head/src/app/qgisapp.cpp:1070:
> voidQgisApp::createStatusBar(): Zusicherung ?!myProjPixmap.isNull()? nicht
> erf?llt. Abgebrochen

Actually running qgis in SVN folder is a bad idea as it expects some
paths in its installation directory. There was a check for this on
startup but now I see it's broken. The correct way is to do always
'make install' and then run qgis from the installation directory, not
from sources.

Martin

From otto.dassau at gmx.de  Tue May  8 05:20:27 2007
From: otto.dassau at gmx.de (Otto Dassau)
Date: Wed Feb  6 23:25:06 2008
Subject: [Qgis-developer] qgis-head compilation problem
In-Reply-To: <e8e7199c0705080140h59b34cfam552b164da849153b@mail.gmail.com>
References: <20070508093932.79604c40@localhost.localdomain>
	<e8e7199c0705080140h59b34cfam552b164da849153b@mail.gmail.com>
Message-ID: <20070508112027.3e62aa98@localhost.localdomain>

Hi Martin,

On Tue, 8 May 2007 10:40:48 +0200
"Martin Dobias" <wonder.sk@gmail.com> wrote:

> On 5/8/07, Otto Dassau <otto.dassau@gmx.de> wrote:
> > Hi,
> >
> > compiling the latest qgis-head svn on debian testing I have 2 problems.
> > Maybe
> > someone can help?
> >
> > 1) The progress of compilation doesn't count since yesterday, I think. It is
> > always 0%.
> >
> > Scanning dependencies of target msexport
> > [  0%] Building CXX object
> > tools/mapserver_export/CMakeFiles/msexport.dir/qgsmapserverexport.o
> > [  0%]
> > Building CXX object tools/mapserver_export/CMakeFiles/msexport.dir/ms_main.o
> > [  0%] Building CXX object
> > tools/mapserver_export/CMakeFiles/msexport.dir/msexport_wrap.o
> > [  0%] Building CXX object
> > tools/mapserver_export/CMakeFiles/msexport.dir/moc_qgsmapserverexport.o
> > Linking
> > CXX executable msexport
> > [  0%] Built target msexport
> 
> Hi,
> 
> I've never seen this. Try doing a clean make. But progress counter
> shouldn't have any impact on compilation.

yes, it has nothing to do with the compilation.
 
> > 2) executing qgis in the svn folder I get following error and I remember it
> > was
> > working a couple of weeks ago:
> >
> > dassau@berlin:/daten/software/qgis-head$ ./src/app/qgis
> > qgis: /daten/software/qgis-head/src/app/qgisapp.cpp:1070:
> > voidQgisApp::createStatusBar(): Zusicherung ?!myProjPixmap.isNull()? nicht
> > erf?llt. Abgebrochen
> 
> Actually running qgis in SVN folder is a bad idea as it expects some
> paths in its installation directory. There was a check for this on
> startup but now I see it's broken. The correct way is to do always
> 'make install' and then run qgis from the installation directory, not
> from sources.

ok, after "make install" everything works fine. 

thanks a lot
 Otto

> Martin


-- 


From ersts at amnh.org  Tue May  8 09:16:44 2007
From: ersts at amnh.org (Peter Ersts)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] merging raster transparency branch soon?
In-Reply-To: <200705071730.11500.marco.hugentobler@karto.baug.ethz.ch>
References: <200705071730.11500.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <4640783C.3090907@amnh.org>

Hi Marco,

There are still a couple of things that should be done before merging.

1) Basic stretching is only in the single band gray, multiband color and 
single band pseudo color rendering routines. The remaining routines need 
to be evaluated for the appropriateness of have stretching capabilities.

2) Transparency band - Transparency should be able to be set from values 
in a band in the current image or from a band in any image loaded.

3) May want/need to add the color ramping to other rendering routines 
(?) <--This dovetails with #1

4) as you mentioned, transparency values should be save in the project file

5) Verification that GUI elements are enabled/disabled appropriately and 
cleanly depending on image type and desired display method

6) testing, testing, testing......

In all it is not that much work, just need two seconds to be able to sit 
down and think about it. Now that I have finished with a plugin that i 
was frantically trying to complete, I will make a concerted effort to 
set aside some dedicated time to wrapping this up.

-pete

Marco Hugentobler wrote:
> Hi,
>
> I'd like to ask what the opinions are about merging the changes in raster 
> transparency branches to svn head soon.
>
> In my opinion, one additions that needs to be done before the merge is 
> reading/saving the transparent pixel values from/to project file. Tim, Peter 
> and others, are there more issues that need to be resolved in the branch 
> before merge?
>
> Cheers,
> Marco
>
>   


-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: (212)-496-3488 or (212)-769-5742
Fax: (212)-313-7295 or (212)-769-5292
Web: http://cbc.amnh.org
Web: http://geospatial.amnh.org

Open Source, Open Mind.
...evolving through community cooperation to change the world bit by bit



From ersts at amnh.org  Tue May  8 12:30:47 2007
From: ersts at amnh.org (Peter Ersts)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] merging raster transparency branch soon?
In-Reply-To: <4640995C.4040408@lancaster.ac.uk>
References: <200705071730.11500.marco.hugentobler@karto.baug.ethz.ch>
	<4640783C.3090907@amnh.org> <4640995C.4040408@lancaster.ac.uk>
Message-ID: <4640A5B7.2070104@amnh.org>

Barry,

Yes the raster routines could use a lot more work.  I got involved 
because I wanted some basic stretching capabilities which were listed as 
available but not actually implemented and I have a little bit of time 
to contribute, then came the requests for the transparency capabilities ;).

Here is a link to the wiki page with a little more on what is being done 
right now http://wiki.qgis.org/qgiswiki/RasterTransparencyBranch

As far as helping, help is always welcome, but that is a questions that 
should be directed toward Tim. But here is my take on the current 
modification. I think the first step is to just get the basics covered 
and working again, then focus on really modifying the raster rendering 
routines more of the "way they should be" as a next phase. There is also 
a lot of interest in trying to integrate OSSIM into QGIS, which may in 
the end change the development direction considerable. However, I think 
one of the most important things is it getting QGIS to a stable release 
of version 1.0, so some additional changes/new ideas may be tabled by 
the lead developers to keep progress on track (again a topic more suited 
to be answered by Gary and Tim).

If there is a critical mass of raster contributers forming it may be 
good to have an IRC meeting sometime in the future to layout development 
plans and responsibilities, or at least a running list on the wiki.

cheers,
-pete

Barry Rowlingson wrote:
> Peter,
>
>  is there anything I can do to help with raster drawing? I think I 
> tried writing a blog entry about it on blog.qgis.org but its been 
> throwing my blogs away as spam. Anyway, I did do some thinking about 
> this and had some ideas.
>
>  I looked at the current raster plotting routines and did think they 
> needed some serious work. Some functionality that I thought was basic 
> and obvious wasn't there. Is there a list of plans for raster plotting 
> somewhere?
>
> thanks,
>
> Barry
>


-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: (212)-496-3488 or (212)-769-5742
Fax: (212)-313-7295 or (212)-769-5292
Web: http://cbc.amnh.org
Web: http://geospatial.amnh.org

Open Source, Open Mind.
...evolving through community cooperation to change the world bit by bit



From sherman at mrcc.com  Wed May  9 01:06:30 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>
	<463CBEF5.3010909@comcast.net>
	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>
Message-ID: <B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>

This problem turns out to happen here in providers/ogr/ 
qgsogrprovider.cpp
:
void QgsOgrProvider::loadFields()
{
     //the attribute fields need to be read again when the encoding  
changes
     attributeFields.clear();
    ...
}

When attributeFields.clear() is called, the crash occurs. If I  
comment it out, the layer will load fine, with the untidy side effect  
of having two sets of every field in the attribute table.

The attributeFields member is a std::vector. I thought maybe  
something was amiss in my setup, so I wrote a small test program to  
create a vector, populate it, and clear it. It works fine.

Any mac experts have any ideas as to why this is happening? I'm using  
the frameworks from kyngchaos.com.

-gary


On May 5, 2007, at 10:19 AM, Gary Sherman wrote:

>
> On May 5, 2007, at 9:29 AM, Tom Elwertowski wrote:
>
>> Gary Sherman wrote:
>>> I just built the latest from the 0.8 release branch. It crashes  
>>> when loading a vector layer (shapefile)
>>> Before I chalk this up to my bad build (I had to manually edit  
>>> CMakeCache.txt to change libdal.so to libgdal.dylib after running  
>>> cmake), can anybody confirm this problem? Or does the build work  
>>> for you?
>>
>> Works for me. I also changed libdal.so.
>>
>> Tom
>
> Rasters work for me so I'm thinking it must be something recently  
> changed in QgsOgrProvider::loadFields(). I'm compiling against  
> Revision: 6930, checked out today (https://svn.qgis.org/repos/qgis/ 
> branches/Release-0_8_0)
>
> -gary
>
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Micro Resources: http://mrcc.com
>   *Geospatial Hosting
>   *Web Site Hosting
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From marco.hugentobler at karto.baug.ethz.ch  Thu May 10 00:27:45 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] merging raster transparency branch soon?
In-Reply-To: <4640783C.3090907@amnh.org>
References: <200705071730.11500.marco.hugentobler@karto.baug.ethz.ch>
	<4640783C.3090907@amnh.org>
Message-ID: <200705100627.45519.marco.hugentobler@karto.baug.ethz.ch>

Hi Peter,

Sounds good!
The new raster features will be a great addition to 0.9. A redesign of raster 
handling (as proposed by Barry) could be done in a new branch after 0.9. 

cheers,
Marco

On Tuesday 08 May 2007 15:16:44 Peter Ersts wrote:
> Hi Marco,
>
> There are still a couple of things that should be done before merging.
>
> 1) Basic stretching is only in the single band gray, multiband color and
> single band pseudo color rendering routines. The remaining routines need
> to be evaluated for the appropriateness of have stretching capabilities.
>
> 2) Transparency band - Transparency should be able to be set from values
> in a band in the current image or from a band in any image loaded.
>
> 3) May want/need to add the color ramping to other rendering routines
> (?) <--This dovetails with #1
>
> 4) as you mentioned, transparency values should be save in the project file
>
> 5) Verification that GUI elements are enabled/disabled appropriately and
> cleanly depending on image type and desired display method
>
> 6) testing, testing, testing......
>
> In all it is not that much work, just need two seconds to be able to sit
> down and think about it. Now that I have finished with a plugin that i
> was frantically trying to complete, I will make a concerted effort to
> set aside some dedicated time to wrapping this up.
>
> -pete
>
> Marco Hugentobler wrote:
> > Hi,
> >
> > I'd like to ask what the opinions are about merging the changes in raster
> > transparency branches to svn head soon.
> >
> > In my opinion, one additions that needs to be done before the merge is
> > reading/saving the transparent pixel values from/to project file. Tim,
> > Peter and others, are there more issues that need to be resolved in the
> > branch before merge?
> >
> > Cheers,
> > Marco



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
marco.hugentobler@karto.baug.ethz.ch

From b.rowlingson at lancaster.ac.uk  Thu May 10 05:39:34 2007
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] merging raster transparency branch soon?
In-Reply-To: <200705100627.45519.marco.hugentobler@karto.baug.ethz.ch>
References: <200705071730.11500.marco.hugentobler@karto.baug.ethz.ch>
	<4640783C.3090907@amnh.org>
	<200705100627.45519.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <4642E856.7070101@lancaster.ac.uk>

Marco Hugentobler wrote:
> Hi Peter,
> 
> Sounds good!
> The new raster features will be a great addition to 0.9. A redesign of raster 
> handling (as proposed by Barry) could be done in a new branch after 0.9. 
> 

  I started writing some (non-Qgis) python code yesterday to experiment 
with raster renderings. I use numpy arrays to store a single band of 
raster data, and a new class to simulate multi-band rasters. Then I 
wrote some RasterRenderer classes (single-band grayscale, three-band 
RGB, single band unique colour lookup) and I can view them with the 
matplotlib.pylab functions.

  Its a handy way to do rapid development and experiment with raster 
renderer interfaces. I'll probably make the code available sometime.

Barry


From marco.hugentobler at karto.baug.ethz.ch  Thu May 10 10:00:15 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] merging raster transparency branch soon?
In-Reply-To: <4642E856.7070101@lancaster.ac.uk>
References: <200705071730.11500.marco.hugentobler@karto.baug.ethz.ch>
	<200705100627.45519.marco.hugentobler@karto.baug.ethz.ch>
	<4642E856.7070101@lancaster.ac.uk>
Message-ID: <200705101600.16013.marco.hugentobler@karto.baug.ethz.ch>

Great! What about a wiki page where you place the python code, the main design 
ideas and where people interested in joining the development can register? 
Gary or Tim can give you write access to the wiki if you don't have it 
already.

cheers,
Marco

>   I started writing some (non-Qgis) python code yesterday to experiment
> with raster renderings. I use numpy arrays to store a single band of
> raster data, and a new class to simulate multi-band rasters. Then I
> wrote some RasterRenderer classes (single-band grayscale, three-band
> RGB, single band unique colour lookup) and I can view them with the
> matplotlib.pylab functions.
>
>   Its a handy way to do rapid development and experiment with raster
> renderer interfaces. I'll probably make the code available sometime.
>
> Barry

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
marco.hugentobler@karto.baug.ethz.ch

From telwertowski at comcast.net  Thu May 10 13:14:15 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>
	<463CBEF5.3010909@comcast.net>
	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>
	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>
Message-ID: <464352E7.2010602@comcast.net>

Gary Sherman wrote:
> This problem turns out to happen here in providers/ogr/qgsogrprovider.cpp
> :
> void QgsOgrProvider::loadFields()
> {
>     //the attribute fields need to be read again when the encoding changes
>     attributeFields.clear();
>    ...
> }
> 
> When attributeFields.clear() is called, the crash occurs. If I comment 
> it out, the layer will load fine, with the untidy side effect of having 
> two sets of every field in the attribute table.
> 
> The attributeFields member is a std::vector. I thought maybe something 
> was amiss in my setup, so I wrote a small test program to create a 
> vector, populate it, and clear it. It works fine.
> 
> Any mac experts have any ideas as to why this is happening? I'm using 
> the frameworks from kyngchaos.com.

Can you provide an example file or tell me what encoding to use? It 
looks like the problem might be caused by specific encodings or even 
specific files.

QgsOgrProvider::loadFields() is the only place attributeFields.clear() 
is called. I tried calling loadFields() twice so a simple clear() isn't 
the problem. I can also load a Swedish file which causes loadFields() to 
be called a second time with a different encoding. It's the only 
non-Mac-default encoding example I have.

My hypothesis is that loading fields first using the wrong encoding may 
be bad for some but not all encodings. If this is the case, we should 
always set the encoding first. At present, the encoding is known when 
the QgsOgrProvider constructor is called but the constructor calls 
loadFields() before the calling code calls setEncoding().

Tom

From sherman at mrcc.com  Thu May 10 21:31:06 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <464352E7.2010602@comcast.net>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>
	<463CBEF5.3010909@comcast.net>
	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>
	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>
	<464352E7.2010602@comcast.net>
Message-ID: <4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>


On May 10, 2007, at 9:14 AM, Tom Elwertowski wrote:

> Gary Sherman wrote:
>> This problem turns out to happen here in providers/ogr/ 
>> qgsogrprovider.cpp
>> :
>> void QgsOgrProvider::loadFields()
>> {
>>     //the attribute fields need to be read again when the encoding  
>> changes
>>     attributeFields.clear();
>>    ...
>> }
>> When attributeFields.clear() is called, the crash occurs. If I  
>> comment it out, the layer will load fine, with the untidy side  
>> effect of having two sets of every field in the attribute table.
>> The attributeFields member is a std::vector. I thought maybe  
>> something was amiss in my setup, so I wrote a small test program  
>> to create a vector, populate it, and clear it. It works fine.
>> Any mac experts have any ideas as to why this is happening? I'm  
>> using the frameworks from kyngchaos.com.
>
> Can you provide an example file or tell me what encoding to use? It  
> looks like the problem might be caused by specific encodings or  
> even specific files.
By default my OGR open dialog was set to UTF8. Trying other encodings  
didn't make a difference.

Interestingly enough, Tim S. tried my binaries/libs on his box when  
this problem first popped up and he experienced the crash as well.  
I'm not certain how this relates to encoding. Is there a default  
somewhere for the system that is set wrong?

You can download a data set that I'm using from: http://gisalaska.com/ 
cities.zip
But I have this problem with every shapefile.

Thanks for your help!!

-gary

>
> QgsOgrProvider::loadFields() is the only place attributeFields.clear 
> () is called. I tried calling loadFields() twice so a simple clear 
> () isn't the problem. I can also load a Swedish file which causes  
> loadFields() to be called a second time with a different encoding.  
> It's the only non-Mac-default encoding example I have.
>
> My hypothesis is that loading fields first using the wrong encoding  
> may be bad for some but not all encodings. If this is the case, we  
> should always set the encoding first. At present, the encoding is  
> known when the QgsOgrProvider constructor is called but the  
> constructor calls loadFields() before the calling code calls  
> setEncoding().
>
> Tom
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From telwertowski at comcast.net  Thu May 10 22:43:16 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>
	<463CBEF5.3010909@comcast.net>
	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>
	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>
	<464352E7.2010602@comcast.net>
	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>
Message-ID: <4643D844.7020306@comcast.net>

Gary Sherman wrote:
> By default my OGR open dialog was set to UTF8. Trying other encodings 
> didn't make a difference.
> 
> Interestingly enough, Tim S. tried my binaries/libs on his box when this 
> problem first popped up and he experienced the crash as well. I'm not 
> certain how this relates to encoding. Is there a default somewhere for 
> the system that is set wrong?

The file opens for me using both the default System encoding and UTF8.

Once you choose some other encoding, you can't get System back again. I 
don't know if this has been a bug since QgsEncodingFileDialog was 
created or a Qt3 to 4 adjustment that was never made. I will update 
QgsEncodingFileDialog.

Meanwhile, you can delete the UI.encoding property in 
org.qgis.qgis.plist to get the default System encoding back. Using the 
System encoding might bypass the second call to 
QgsOgrProvider::loadFields() which causes your crash.

Tom


From sherman at mrcc.com  Thu May 10 23:14:34 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <4643D844.7020306@comcast.net>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>
	<463CBEF5.3010909@comcast.net>
	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>
	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>
	<464352E7.2010602@comcast.net>
	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>
	<4643D844.7020306@comcast.net>
Message-ID: <9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>

			
On May 10, 2007, at 6:43 PM, Tom Elwertowski wrote:

> Meanwhile, you can delete the UI.encoding property in  
> org.qgis.qgis.plist to get the default System encoding back. Using  
> the System encoding might bypass the second call to  
> QgsOgrProvider::loadFields() which causes your crash.

I tried this and I still get the crash. The encoding in the dialog  
now says "System" when I open an shapefile.
-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From telwertowski at comcast.net  Fri May 11 00:25:17 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>
	<463CBEF5.3010909@comcast.net>
	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>
	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>
	<464352E7.2010602@comcast.net>
	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>
	<4643D844.7020306@comcast.net>
	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>
Message-ID: <4643F02D.3060300@comcast.net>

Gary Sherman wrote:
> I tried this and I still get the crash. The encoding in the dialog now 
> says "System" when I open an shapefile.

It might be calling QgsOgrProvider::setEncoding() whether or not the 
selected encoding is different than the default encoding.

Even though the crash is occurring in code dealing with encodings, the 
problem may be a bad build since the file loads for me. I would try 
deleting qgsogrprovider.o and qgsfield.o (crash caller and callee) and 
recompiling. If that doesn't work, I would then try a complete rebuild.

Tom


From sherman at mrcc.com  Fri May 11 01:13:06 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <4643F02D.3060300@comcast.net>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>
	<463CBEF5.3010909@comcast.net>
	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>
	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>
	<464352E7.2010602@comcast.net>
	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>
	<4643D844.7020306@comcast.net>
	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>
	<4643F02D.3060300@comcast.net>
Message-ID: <16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>


On May 10, 2007, at 8:25 PM, Tom Elwertowski wrote:

> Gary Sherman wrote:
>> I tried this and I still get the crash. The encoding in the dialog  
>> now says "System" when I open an shapefile.
>
> It might be calling QgsOgrProvider::setEncoding() whether or not  
> the selected encoding is different than the default encoding.
>
> Even though the crash is occurring in code dealing with encodings,  
> the problem may be a bad build since the file loads for me. I would  
> try deleting qgsogrprovider.o and qgsfield.o (crash caller and  
> callee) and recompiling. If that doesn't work, I would then try a  
> complete rebuild.
>
> Tom
>
I've tried the complete rebuild several times, changing minor things.  
Still no luck. Since my build failed on Tim's system, it seems like  
it's something particular to my setup. But I'm not doing anything  
different than previous builds, except this is on a new machine (intel).

-gary


-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From mendbayar_b at mongol.net  Fri May 11 07:09:04 2007
From: mendbayar_b at mongol.net (Byambaa Mendbayar)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] compilation error
In-Reply-To: <16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
Message-ID: <20070511111009.D51A91B697@qgis.org>

Dear all,

I had tried to compile latest SVN head. But it wasn't working. I have
getting following error messages.

=================================================================
D:\devel\workplace\unstable\qgis_head\build>make
[  0%] Built target svnversion
[  8%] Built target ui
[  8%] Building CXX object
src/core/CMakeFiles/qgis_core.dir/qgsdistancearea.obj

d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp: In
member fu
nction `double QgsDistanceArea::computeDistanceBearing(const QgsPoint&,
const Qg
sPoint&, double*, double*)':
d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:443:
warning:
 'sinLambda' might be used uninitialized in this function
d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:443:
warning:
 'cosLambda' might be used uninitialized in this function
d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:443:
warning:
 'sinSigma' might be used uninitialized in this function
d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:443:
warning:
 'cosSigma' might be used uninitialized in this function
d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:444:
warning:
 'sigma' might be used uninitialized in this function
d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:444:
warning:
 'cosSqAlpha' might be used uninitialized in this function
d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:444:
warning:
 'cos2SigmaM' might be used uninitialized in this function
d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:445:
warning:
 'tu1' might be used uninitialized in this function
d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:445:
warning:
 'tu2' might be used uninitialized in this function
mingw32-make[2]: *** [src/core/CMakeFiles/qgis_core.dir/qgsdistancearea.obj]
Err
or 1
mingw32-make[1]: *** [src/core/CMakeFiles/qgis_core.dir/all] Error 2
mingw32-make: *** [all] Error 2

D:\devel\workplace\unstable\qgis_head\build>
=================================================================

I was following README_windows.txt instruction; I mean I was using "MinGW
Makefiles" option when it was arise in CMAKESETUP.exe

Also I have leak in compiling 0.8 branches. 
================================================================
ext+0x1003):misc.c: undefined reference to `InitializeCriticalSection@4'
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
)(.t
ext+0x102b):misc.c: undefined reference to `EnterCriticalSection@4'
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
)(.t
ext+0x1068):misc.c: undefined reference to `LeaveCriticalSection@4'
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
)(.t
ext+0x121d):misc.c: undefined reference to `Sleep@4'
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
)(.t
ext+0x123b):misc.c: undefined reference to `Sleep@4'
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
)(.t
ext+0x125a):misc.c: undefined reference to `EnterCriticalSection@4'
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
)(.t
ext+0x1294):misc.c: undefined reference to `LeaveCriticalSection@4'
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
)(.t
ext+0x12b8):misc.c: undefined reference to `InterlockedExchange@8'
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
)(.t
ext+0x12d4):misc.c: undefined reference to `InitializeCriticalSection@4'
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
)(.t
ext+0x12fd):misc.c: undefined reference to `EnterCriticalSection@4'
collect2: ld returned 1 exit status
mingw32-make[2]: *** [src/core/libqgis_core.dll] Error 1
mingw32-make[1]: *** [src/core/CMakeFiles/qgis_core.dir/all] Error 2
mingw32-make: *** [all] Error 2

D:\devel\workplace\stable\qgis_0.8.1\build>
================================================================


Best regards,
Byambaa Mendbayar


From wonder.sk at gmail.com  Fri May 11 08:38:50 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] compilation error
In-Reply-To: <20070511111009.D51A91B697@qgis.org>
References: <16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<20070511111009.D51A91B697@qgis.org>
Message-ID: <e8e7199c0705110538w6c102455t80973ba709a6b4a0@mail.gmail.com>

On 5/11/07, Byambaa Mendbayar <mendbayar_b@mongol.net> wrote:
> Dear all,
>
> I had tried to compile latest SVN head. But it wasn't working. I have
> getting following error messages.
>
> =================================================================
> D:\devel\workplace\unstable\qgis_head\build>make
> [  0%] Built target svnversion
> [  8%] Built target ui
> [  8%] Building CXX object
> src/core/CMakeFiles/qgis_core.dir/qgsdistancearea.obj
>
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp: In
> member fu
> nction `double QgsDistanceArea::computeDistanceBearing(const QgsPoint&,
> const Qg
> sPoint&, double*, double*)':
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:443:
> warning:
>  'sinLambda' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:443:
> warning:
>  'cosLambda' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:443:
> warning:
>  'sinSigma' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:443:
> warning:
>  'cosSigma' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:444:
> warning:
>  'sigma' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:444:
> warning:
>  'cosSqAlpha' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:444:
> warning:
>  'cos2SigmaM' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:445:
> warning:
>  'tu1' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:445:
> warning:
>  'tu2' might be used uninitialized in this function
> mingw32-make[2]: *** [src/core/CMakeFiles/qgis_core.dir/qgsdistancearea.obj]
> Err
> or 1
> mingw32-make[1]: *** [src/core/CMakeFiles/qgis_core.dir/all] Error 2
> mingw32-make: *** [all] Error 2
>
> D:\devel\workplace\unstable\qgis_head\build>

Hi,

I see only warnings there - open CMakeSetup and set variable PEDANTIC
to FALSE so that warnings won't be treated as errors.

> =================================================================
>
> I was following README_windows.txt instruction; I mean I was using "MinGW
> Makefiles" option when it was arise in CMAKESETUP.exe
>
> Also I have leak in compiling 0.8 branches.
> ================================================================
> ext+0x1003):misc.c: undefined reference to `InitializeCriticalSection@4'
> D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x102b):misc.c: undefined reference to `EnterCriticalSection@4'
> D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x1068):misc.c: undefined reference to `LeaveCriticalSection@4'
> D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x121d):misc.c: undefined reference to `Sleep@4'
> D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x123b):misc.c: undefined reference to `Sleep@4'
> D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x125a):misc.c: undefined reference to `EnterCriticalSection@4'
> D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x1294):misc.c: undefined reference to `LeaveCriticalSection@4'
> D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x12b8):misc.c: undefined reference to `InterlockedExchange@8'
> D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x12d4):misc.c: undefined reference to `InitializeCriticalSection@4'
> D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x12fd):misc.c: undefined reference to `EnterCriticalSection@4'
> collect2: ld returned 1 exit status
> mingw32-make[2]: *** [src/core/libqgis_core.dll] Error 1
> mingw32-make[1]: *** [src/core/CMakeFiles/qgis_core.dir/all] Error 2
> mingw32-make: *** [all] Error 2
>
> D:\devel\workplace\stable\qgis_0.8.1\build>

I don't know what's up with this - isn't this because of mixture of
different installations of MinGW? It looks like linker is trying to
use libmingwex.a from
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../ however I
think it should use stuff from c:/msys/mingw. Please check your paths.

Also, on problems it's good idea to use run make in verbose mode:
make VERBOSE=1
This way, it will also show commands it executes and not only their
output. This is much more helpful than just the error message you'll
get.

Regards
Martin

From mendbayar_b at mongol.net  Fri May 11 09:40:47 2007
From: mendbayar_b at mongol.net (Byambaa Mendbayar)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] compilation error
In-Reply-To: <e8e7199c0705110538w6c102455t80973ba709a6b4a0@mail.gmail.com>
Message-ID: <20070511134149.9FD811BAE9@qgis.org>

Dear Martin,

Thanks a lot for your quick reply. I will check ever thing which are
mentioned by you. Thank you again for your warm reply.  

Best regards,
Byambaa Mendbayar

-----Original Message-----
From: Martin Dobias [mailto:wonder.sk@gmail.com] 
Sent: Friday, May 11, 2007 8:39 PM
To: mendbayar_b@mongol.net
Cc: qgis-developer@lists.qgis.org
Subject: Re: [Qgis-developer] compilation error

On 5/11/07, Byambaa Mendbayar <mendbayar_b@mongol.net> wrote:
> Dear all,
>
> I had tried to compile latest SVN head. But it wasn't working. I have
> getting following error messages.
>
> =================================================================
> D:\devel\workplace\unstable\qgis_head\build>make
> [  0%] Built target svnversion
> [  8%] Built target ui
> [  8%] Building CXX object
> src/core/CMakeFiles/qgis_core.dir/qgsdistancearea.obj
>
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp: In
> member fu
> nction `double QgsDistanceArea::computeDistanceBearing(const QgsPoint&,
> const Qg
> sPoint&, double*, double*)':
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:443:
> warning:
>  'sinLambda' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:443:
> warning:
>  'cosLambda' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:443:
> warning:
>  'sinSigma' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:443:
> warning:
>  'cosSigma' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:444:
> warning:
>  'sigma' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:444:
> warning:
>  'cosSqAlpha' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:444:
> warning:
>  'cos2SigmaM' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:445:
> warning:
>  'tu1' might be used uninitialized in this function
> d:\devel\workplace\unstable\qgis_head\src\core\qgsdistancearea.cpp:445:
> warning:
>  'tu2' might be used uninitialized in this function
> mingw32-make[2]: ***
[src/core/CMakeFiles/qgis_core.dir/qgsdistancearea.obj]
> Err
> or 1
> mingw32-make[1]: *** [src/core/CMakeFiles/qgis_core.dir/all] Error 2
> mingw32-make: *** [all] Error 2
>
> D:\devel\workplace\unstable\qgis_head\build>

Hi,

I see only warnings there - open CMakeSetup and set variable PEDANTIC
to FALSE so that warnings won't be treated as errors.

> =================================================================
>
> I was following README_windows.txt instruction; I mean I was using "MinGW
> Makefiles" option when it was arise in CMAKESETUP.exe
>
> Also I have leak in compiling 0.8 branches.
> ================================================================
> ext+0x1003):misc.c: undefined reference to `InitializeCriticalSection@4'
>
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x102b):misc.c: undefined reference to `EnterCriticalSection@4'
>
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x1068):misc.c: undefined reference to `LeaveCriticalSection@4'
>
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x121d):misc.c: undefined reference to `Sleep@4'
>
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x123b):misc.c: undefined reference to `Sleep@4'
>
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x125a):misc.c: undefined reference to `EnterCriticalSection@4'
>
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x1294):misc.c: undefined reference to `LeaveCriticalSection@4'
>
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x12b8):misc.c: undefined reference to `InterlockedExchange@8'
>
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x12d4):misc.c: undefined reference to `InitializeCriticalSection@4'
>
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libmingwex.a(misc.o
> )(.t
> ext+0x12fd):misc.c: undefined reference to `EnterCriticalSection@4'
> collect2: ld returned 1 exit status
> mingw32-make[2]: *** [src/core/libqgis_core.dll] Error 1
> mingw32-make[1]: *** [src/core/CMakeFiles/qgis_core.dir/all] Error 2
> mingw32-make: *** [all] Error 2
>
> D:\devel\workplace\stable\qgis_0.8.1\build>

I don't know what's up with this - isn't this because of mixture of
different installations of MinGW? It looks like linker is trying to
use libmingwex.a from
D:/devel/bin/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../ however I
think it should use stuff from c:/msys/mingw. Please check your paths.

Also, on problems it's good idea to use run make in verbose mode:
make VERBOSE=1
This way, it will also show commands it executes and not only their
output. This is much more helpful than just the error message you'll
get.

Regards
Martin



From marco.hugentobler at karto.baug.ethz.ch  Fri May 11 10:21:25 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS mapserver project
Message-ID: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>

Dear QGIS developers and users

I'm happy to announce the start of the 'QGIS mapserver' project:

http://karlinapp.ethz.ch/qgis_wms/qgis_wms.html

The idea of QGIS mapserver is simple: instead of using QGIS just as a desktop 
GIS, it can also be used as a server. The benefit is that bug fixes and 
extensions for the server also improve desktop GIS (and the other way round). 
So no need to develop two different GIS for desktop and server. And 
everything written in plattform independent C++ using the excellent Qt 
library. 

From a technical point of view, QGIS mapserver is an application linked to 
libqgis_gui.so and libqgis_core.so. QGIS mapserver composes a set of 
maplayers according to the client request, the QGIS libraries render 
everything into a QImage (offscreen buffer). The server sends back the image 
(as jpg or png) to the client byte by byte. And thanks to Martins clever 
redesign of the QGIS libraries, QGIS mapserver doesn't need a running 
X-server on Unixes.

QGIS mapserver has been developed at the Institute of Cartography, ETH Zurich 
as part of the ORCHESTRA project. On the project page, you'll find a link to 
a running instance of QGIS mapserver at our institute and some sample 
requests.

QGIS mapserver doesn't (yet) have the same number of features as the 
maperservers which are around for many years. But it is already usable as a 
basic WMS server with SLD styling capabilities. It already supports 
GetCapabilities and GetMap over HTTP GET and allows client defined styling 
with SLD. 

It also has capabilities that go beyond WMS (in fact that's why it has been 
developed): it is possible to send SOAP requests via HTTP Post. Additionally 
to the usual predefined data on the server, it is also possible for a client 
to embed the data to render dircetly in the message when using SOAP. And it 
will be possible to use diagram symbolisation (like bar and pie charts) in 
near future.

And now the most important thing: QGIS mapserver is opensource (GPL) -> 
everybody is kindly invited to contribute with code, documentation, testing, 
bug reports, constructive critisism, etc. Contact me if you are interesting 
in joining development of QGIS mapserver, there is still a lot to do... 

All the best,
Marco

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
marco.hugentobler@karto.baug.ethz.ch

From wonder.sk at gmail.com  Fri May 11 13:31:15 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Re: [Qgis-user] QGIS mapserver project
In-Reply-To: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>
References: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <e8e7199c0705111031l7615860aw5b41e7e7847340b4@mail.gmail.com>

On 5/11/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Dear QGIS developers and users
>
> I'm happy to announce the start of the 'QGIS mapserver' project:
>
> http://karlinapp.ethz.ch/qgis_wms/qgis_wms.html
>
> The idea of QGIS mapserver is simple: instead of using QGIS just as a desktop
> GIS, it can also be used as a server. The benefit is that bug fixes and
> extensions for the server also improve desktop GIS (and the other way round).
> So no need to develop two different GIS for desktop and server. And
> everything written in plattform independent C++ using the excellent Qt
> library.

Hi Marco,

great work! The time when QGIS will conquer the world is getting closer :-)


> From a technical point of view, QGIS mapserver is an application linked to
> libqgis_gui.so and libqgis_core.so. QGIS mapserver composes a set of
> maplayers according to the client request, the QGIS libraries render
> everything into a QImage (offscreen buffer). The server sends back the image
> (as jpg or png) to the client byte by byte. And thanks to Martins clever
> redesign of the QGIS libraries, QGIS mapserver doesn't need a running
> X-server on Unixes.

Btw. is it necessary to link also to gui library?


> QGIS mapserver doesn't (yet) have the same number of features as the
> maperservers which are around for many years. But it is already usable as a
> basic WMS server with SLD styling capabilities. It already supports
> GetCapabilities and GetMap over HTTP GET and allows client defined styling
> with SLD.

How would you compare SLD with QGIS display capabilities? Is SLD a
subset or superset of what can be displayed with QGIS libs? I'm
wondering whether SLD could be useful also for saving layer's
symbology...


> And now the most important thing: QGIS mapserver is opensource (GPL) ->
> everybody is kindly invited to contribute with code, documentation, testing,
> bug reports, constructive critisism, etc. Contact me if you are interesting
> in joining development of QGIS mapserver, there is still a lot to do...

At some point in future I should deploy a web application with mapping
support, so I'll take a look if this mapserver is usable enough. It's
a pity that QGIS doesn't support advanced symbology and the labeling
is still very inmature - these features are quite important for a good
mapserver.

Cheers
Martin

From perrygeo at gmail.com  Fri May 11 18:23:59 2007
From: perrygeo at gmail.com (Matthew Perry)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS mapserver project
In-Reply-To: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>
References: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <5383fa5e0705111523v3506c275n6999a0743ee4fe54@mail.gmail.com>

On 5/11/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> The idea of QGIS mapserver is simple: instead of using QGIS just as a desktop
> GIS, it can also be used as a server. The benefit is that bug fixes and
> extensions for the server also improve desktop GIS (and the other way round).
> So no need to develop two different GIS for desktop and server. And
> everything written in plattform independent C++ using the excellent Qt
> library.

Awesome idea!


> QGIS mapserver doesn't (yet) have the same number of features as the
> maperservers which are around for many years. But it is already usable as a
> basic WMS server with SLD styling capabilities. It already supports
> GetCapabilities and GetMap over HTTP GET and allows client defined styling
> with SLD.
>

Would it be feasible to extend the QGIS wms server to read directly
from .qgs files? I think one of the main benefits of having a
QGIS-based WMS server would be to combine the configuration of desktop
and web maps into a single format. Wouldn't it nice to stylize your
map in qgis then immediately make that .qgs project file immediately
available on the web?

Using the current method, I'd have to reconfigure the same map twice.
Given that QGIS can export a mapserver mapfile, it really reduces the
incentive :-(

SLD support is nice though. perhaps that should be considered for
inclusion in the qgis core?

> And now the most important thing: QGIS mapserver is opensource (GPL) ->
> everybody is kindly invited to contribute with code, documentation, testing,
> bug reports, constructive critisism, etc. Contact me if you are interesting
> in joining development of QGIS mapserver, there is still a lot to do...

Great! I look forward to trying it out.

-- 
Matthew T. Perry
http://www.perrygeo.net

"You never change things by fighting the existing reality.
To change something, build a new model that makes
the existing model obsolete" - R. Buckminster Fuller

From telwertowski at comcast.net  Sat May 12 00:43:50 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
Message-ID: <46454606.8080509@comcast.net>

Gary Sherman wrote:
> I've tried the complete rebuild several times, changing minor things. 
> Still no luck. Since my build failed on Tim's system, it seems like it's 
> something particular to my setup. But I'm not doing anything different 
> than previous builds, except this is on a new machine (intel).

I discovered how to reproduce your crash in 
QgsOgrProvider::loadFields(). I did it by building with frameworks 
rather then traditional libraries.

In my case, I have dependent packages present in both 
/Library/Frameworks and /usr/local. For at least some "#include <...>" 
statements, the build is reading from /usr/local instead of 
/Library/Frameworks. If I rename the header in /usr/local, it then uses 
the one in /Library/Frameworks. If I introduce an error into the header 
in /usr/local, the build fails.

I checked a handful of cmake generated files and the paths are what I 
expect. Plenty of -I/Library/Frameworks/xxx.framework/Headers and no 
-I/usr/local/include so I am baffled as to why I end up with an 
inconsistent build.

This makes me wonder if you have some non-framework headers which are 
being picked up and producing an inconsistent build.

Tom


From sherman at mrcc.com  Sat May 12 11:28:37 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <46454606.8080509@comcast.net>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<46454606.8080509@comcast.net>
Message-ID: <464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>


On May 11, 2007, at 8:43 PM, Tom Elwertowski wrote:

> I checked a handful of cmake generated files and the paths are what  
> I expect. Plenty of -I/Library/Frameworks/xxx.framework/Headers and  
> no -I/usr/local/include so I am baffled as to why I end up with an  
> inconsistent build.
>
> This makes me wonder if you have some non-framework headers which  
> are being picked up and producing an inconsistent build.

Your explanation makes sense, but I'm at a loss as to how to  
troubleshoot it.

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From telwertowski at comcast.net  Sat May 12 20:45:11 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<46454606.8080509@comcast.net>
	<464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>
Message-ID: <46465F97.1030202@comcast.net>

Gary Sherman wrote:
> On May 11, 2007, at 8:43 PM, Tom Elwertowski wrote:
> 
>> I checked a handful of cmake generated files and the paths are what I 
>> expect. Plenty of -I/Library/Frameworks/xxx.framework/Headers and no 
>> -I/usr/local/include so I am baffled as to why I end up with an 
>> inconsistent build.
>>
>> This makes me wonder if you have some non-framework headers which are 
>> being picked up and producing an inconsistent build.
> 
> Your explanation makes sense, but I'm at a loss as to how to 
> troubleshoot it.

More information but no solution.

I built QGIS 0.8 and 0.9 on a clean system to be sure there are no extra 
files beyond the needed dependencies. The problem exists only in 0.8.

I discovered that when I run QGIS inside GRASS, I can load a shp file 
without crashing. I then removed libgrassplugin.so and 
libgrassprovider.so from qgis0.8.1.app/Contents/MacOS/lib/qgis/ and 
found that I can open a shp file when running QGIS directly without GRASS.

The problem therefore seems to be related to how frameworks are linked 
with the GRASS addons in 0.8. When the frameworks get linked to 0.8, 
they seem to be requiring the presence of GRASS.

Tom


From woklist at kyngchaos.com  Sun May 13 00:56:18 2007
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <46465F97.1030202@comcast.net>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<46454606.8080509@comcast.net>
	<464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>
	<46465F97.1030202@comcast.net>
Message-ID: <7BC26901-690A-4B02-AD0E-DB47FF60D510@kyngchaos.com>

Gary - yeah, I've been lurking on this thread...

On May 12, 2007, at 7:45 PM, Tom Elwertowski wrote:

> Gary Sherman wrote:
>> On May 11, 2007, at 8:43 PM, Tom Elwertowski wrote:
>>> I checked a handful of cmake generated files and the paths are  
>>> what I expect. Plenty of -I/Library/Frameworks/xxx.framework/ 
>>> Headers and no -I/usr/local/include so I am baffled as to why I  
>>> end up with an inconsistent build.
>>>
>>> This makes me wonder if you have some non-framework headers which  
>>> are being picked up and producing an inconsistent build.
>> Your explanation makes sense, but I'm at a loss as to how to  
>> troubleshoot it.
>
> More information but no solution.
>
> I built QGIS 0.8 and 0.9 on a clean system to be sure there are no  
> extra files beyond the needed dependencies. The problem exists only  
> in 0.8.
>
> I discovered that when I run QGIS inside GRASS, I can load a shp  
> file without crashing. I then removed libgrassplugin.so and  
> libgrassprovider.so from qgis0.8.1.app/Contents/MacOS/lib/qgis/ and  
> found that I can open a shp file when running QGIS directly without  
> GRASS.
>
> The problem therefore seems to be related to how frameworks are  
> linked with the GRASS addons in 0.8. When the frameworks get linked  
> to 0.8, they seem to be requiring the presence of GRASS.

Ah, the GDAL framework has it's own minimal set of GRASS libraries to  
support GRASS formats without having it installed.  These are the  
stable 6.2 GRASS libraries.

When running GRASS, then running Qgis from GRASS, GRASS has set up  
DYLD_LIBRARY_PATH to point to its libraries.

What are the Qgis grass plugin/provider linked to?  Try otool -L on  
them.  They may be picking up the GDAL GRASS libraries instead of the  
GRASS.app libraries.


That's what I can think of for now without trying it myself.  I've  
been hesitating to plunge into the cmake switch with Qgis, so I don't  
know if I'll be able to look at it myself any time soon.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Time is an illusion - lunchtime doubly so."

- Ford Prefect



From sherman at mrcc.com  Sun May 13 01:10:55 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <7BC26901-690A-4B02-AD0E-DB47FF60D510@kyngchaos.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<46454606.8080509@comcast.net>
	<464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>
	<46465F97.1030202@comcast.net>
	<7BC26901-690A-4B02-AD0E-DB47FF60D510@kyngchaos.com>
Message-ID: <19ED5D88-7BEB-48E4-844F-385369AAD034@mrcc.com>


On May 12, 2007, at 8:56 PM, William Kyngesburye wrote:

> What are the Qgis grass plugin/provider linked to?  Try otool -L on  
> them.  They may be picking up the GDAL GRASS libraries instead of  
> the GRASS.app libraries.

Pardon the long list but here they are:
libgrassplugin.so:
         Qt3Support.framework/Versions/4/Qt3Support (compatibility  
version 4.2.0, current version 4.2.3)
         QtSvg.framework/Versions/4/QtSvg (compatibility version  
4.2.0, current version 4.2.3)
         QtGui.framework/Versions/4/QtGui (compatibility version  
4.2.0, current version 4.2.3)
         /System/Library/Frameworks/Carbon.framework/Versions/A/ 
Carbon (compatibility version 2.0.0, current version 128.0.0)
         /System/Library/Frameworks/QuickTime.framework/Versions/A/ 
QuickTime (compatibility version 1.0.0, current version 12.0.0)
         QtXml.framework/Versions/4/QtXml (compatibility version  
4.2.0, current version 4.2.3)
         QtSql.framework/Versions/4/QtSql (compatibility version  
4.2.0, current version 4.2.3)
         QtNetwork.framework/Versions/4/QtNetwork (compatibility  
version 4.2.0, current version 4.2.3)
         QtCore.framework/Versions/4/QtCore (compatibility version  
4.2.0, current version 4.2.3)
         /usr/lib/libz.1.dylib (compatibility version 1.0.0, current  
version 1.2.3)
         /System/Library/Frameworks/ApplicationServices.framework/ 
Versions/A/ApplicationServices (compatibility version 1.0.0, current  
version 22.0.0)
         @executable_path/lib/libqgis_core.dylib (compatibility  
version 0.0.0, current version 0.0.0)
         @executable_path/lib/libqgisgrass.dylib (compatibility  
version 0.0.0, current version 0.0.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_gis.dylib (compatibility version 6.2.0, current version 6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_vect.dylib (compatibility version 6.2.0, current version 6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_dig2.dylib (compatibility version 6.2.0, current version 6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_dbmiclient.dylib (compatibility version 6.2.0, current  
version 6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_dbmibase.dylib (compatibility version 6.2.0, current version  
6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_shape.dylib (compatibility version 6.2.0, current version  
6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_dgl.dylib (compatibility version 6.2.0, current version 6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_rtree.dylib (compatibility version 6.2.0, current version  
6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_datetime.dylib (compatibility version 6.2.0, current version  
6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_linkm.dylib (compatibility version 6.2.0, current version  
6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_form.dylib (compatibility version 6.2.0, current version 6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_gproj.dylib (compatibility version 6.2.0, current version  
6.2.0)
         /Library/Frameworks/PROJ.framework/Versions/4.5/PROJ  
(compatibility version 6.0.0, current version 6.2.0)
         /Library/Frameworks/SQLite3.framework/Versions/3.3/SQLite3  
(compatibility version 9.0.0, current version 9.6.6)
         /Library/Frameworks/GEOS.framework/Versions/2.2/GEOS  
(compatibility version 3.0.0, current version 3.1.0)
         /Library/Frameworks/GDAL.framework/Versions/1.4/GDAL  
(compatibility version 13.0.0, current version 13.0.0)
         /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0,  
current version 7.4.0)
         /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0,  
current version 1.0.0)

otool -L libgrassprovider.so
libgrassprovider.so:
         Qt3Support.framework/Versions/4/Qt3Support (compatibility  
version 4.2.0, current version 4.2.3)
         QtSvg.framework/Versions/4/QtSvg (compatibility version  
4.2.0, current version 4.2.3)
         QtGui.framework/Versions/4/QtGui (compatibility version  
4.2.0, current version 4.2.3)
         /System/Library/Frameworks/Carbon.framework/Versions/A/ 
Carbon (compatibility version 2.0.0, current version 128.0.0)
         /System/Library/Frameworks/QuickTime.framework/Versions/A/ 
QuickTime (compatibility version 1.0.0, current version 12.0.0)
         QtXml.framework/Versions/4/QtXml (compatibility version  
4.2.0, current version 4.2.3)
         QtSql.framework/Versions/4/QtSql (compatibility version  
4.2.0, current version 4.2.3)
         QtNetwork.framework/Versions/4/QtNetwork (compatibility  
version 4.2.0, current version 4.2.3)
         QtCore.framework/Versions/4/QtCore (compatibility version  
4.2.0, current version 4.2.3)
         /usr/lib/libz.1.dylib (compatibility version 1.0.0, current  
version 1.2.3)
         /System/Library/Frameworks/ApplicationServices.framework/ 
Versions/A/ApplicationServices (compatibility version 1.0.0, current  
version 22.0.0)
         @executable_path/lib/libqgis_core.dylib (compatibility  
version 0.0.0, current version 0.0.0)
         @executable_path/lib/libqgisgrass.dylib (compatibility  
version 0.0.0, current version 0.0.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_gis.dylib (compatibility version 6.2.0, current version 6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_vect.dylib (compatibility version 6.2.0, current version 6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_dig2.dylib (compatibility version 6.2.0, current version 6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_dbmiclient.dylib (compatibility version 6.2.0, current  
version 6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_dbmibase.dylib (compatibility version 6.2.0, current version  
6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_shape.dylib (compatibility version 6.2.0, current version  
6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_dgl.dylib (compatibility version 6.2.0, current version 6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_rtree.dylib (compatibility version 6.2.0, current version  
6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_datetime.dylib (compatibility version 6.2.0, current version  
6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_linkm.dylib (compatibility version 6.2.0, current version  
6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_form.dylib (compatibility version 6.2.0, current version 6.2.0)
         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
libgrass_gproj.dylib (compatibility version 6.2.0, current version  
6.2.0)
         /Library/Frameworks/PROJ.framework/Versions/4.5/PROJ  
(compatibility version 6.0.0, current version 6.2.0)
         /Library/Frameworks/SQLite3.framework/Versions/3.3/SQLite3  
(compatibility version 9.0.0, current version 9.6.6)
         /Library/Frameworks/GEOS.framework/Versions/2.2/GEOS  
(compatibility version 3.0.0, current version 3.1.0)
         /Library/Frameworks/GDAL.framework/Versions/1.4/GDAL  
(compatibility version 13.0.0, current version 13.0.0)
         /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0,  
current version 7.4.0)
         /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0,  
current version 1.0.0)
         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0,  
current version 88.3.7)

There is a reference to the GDAL framework in each of them. Is that  
the problem? If I start QGIS from GRASS it does work.

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From woklist at kyngchaos.com  Sun May 13 01:39:20 2007
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <19ED5D88-7BEB-48E4-844F-385369AAD034@mrcc.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<46454606.8080509@comcast.net>
	<464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>
	<46465F97.1030202@comcast.net>
	<7BC26901-690A-4B02-AD0E-DB47FF60D510@kyngchaos.com>
	<19ED5D88-7BEB-48E4-844F-385369AAD034@mrcc.com>
Message-ID: <854E18CA-2D18-4AAF-BE56-711CDA8078BC@kyngchaos.com>

On May 13, 2007, at 12:10 AM, Gary Sherman wrote:

>
> On May 12, 2007, at 8:56 PM, William Kyngesburye wrote:
>
>> What are the Qgis grass plugin/provider linked to?  Try otool -L  
>> on them.  They may be picking up the GDAL GRASS libraries instead  
>> of the GRASS.app libraries.
>
> Pardon the long list but here they are:
> libgrassplugin.so:
...
>         /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
> libgrass_gis.dylib (compatibility version 6.2.0, current version  
> 6.2.0)
...
>         /Library/Frameworks/GDAL.framework/Versions/1.4/GDAL  
> (compatibility version 13.0.0, current version 13.0.0)
...
> There is a reference to the GDAL framework in each of them. Is that  
> the problem? If I start QGIS from GRASS it does work.
>
It looks like it's linking to the GRASS.app libraries you want it to.

I wonder if there is some sort of clash with different GRASS  
libraries.  Just a guess (I don't much about the fine points of  
library linking at runtime).

What about the crash log for Qgis?  The last list there shows  
everything that was loaded.

Is there a download link so I can try this build?


I'm curious - where did you get your GRASS.app or how did you build  
it?  I have a 6.2.1 build available that mirrors, mostly, the OSX app  
build I added recently to 6.3 CVS. That is, I've sortof made my way  
the official way to build GRASS as an OSX app ;)

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Those people who most want to rule people are, ipso-facto, those  
least suited to do it."

- A rule of the universe, from the HitchHiker's Guide to the Galaxy



From sherman at mrcc.com  Sun May 13 01:58:38 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <854E18CA-2D18-4AAF-BE56-711CDA8078BC@kyngchaos.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<46454606.8080509@comcast.net>
	<464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>
	<46465F97.1030202@comcast.net>
	<7BC26901-690A-4B02-AD0E-DB47FF60D510@kyngchaos.com>
	<19ED5D88-7BEB-48E4-844F-385369AAD034@mrcc.com>
	<854E18CA-2D18-4AAF-BE56-711CDA8078BC@kyngchaos.com>
Message-ID: <5D88D87B-33E2-41CB-9578-7AF132CA9CDE@mrcc.com>


On May 12, 2007, at 9:39 PM, William Kyngesburye wrote:

> Is there a download link so I can try this build?
>
>
Yes, I just uploaded it to http://gisalaska.com/qgis_081.dmg

> I'm curious - where did you get your GRASS.app or how did you build  
> it?  I have a 6.2.1 build available that mirrors, mostly, the OSX  
> app build I added recently to 6.3 CVS. That is, I've sortof made my  
> way the official way to build GRASS as an OSX app ;)
>
I thought I got it from you :)
I'm downloading your 6.2.x now...
-gary


-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From woklist at kyngchaos.com  Sun May 13 02:26:16 2007
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <5D88D87B-33E2-41CB-9578-7AF132CA9CDE@mrcc.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<46454606.8080509@comcast.net>
	<464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>
	<46465F97.1030202@comcast.net>
	<7BC26901-690A-4B02-AD0E-DB47FF60D510@kyngchaos.com>
	<19ED5D88-7BEB-48E4-844F-385369AAD034@mrcc.com>
	<854E18CA-2D18-4AAF-BE56-711CDA8078BC@kyngchaos.com>
	<5D88D87B-33E2-41CB-9578-7AF132CA9CDE@mrcc.com>
Message-ID: <BC91C4B0-E6CA-4C3C-821A-4AC996F9A1BD@kyngchaos.com>

On May 13, 2007, at 12:58 AM, Gary Sherman wrote:

> Yes, I just uploaded it to http://gisalaska.com/qgis_081.dmg
>
Rats, those Qt frameworks are linked weird (and are not bundled in  
the Qgis app package).  I have Qt 4.2.2 installed (from source), but  
not in any standard location.  So Qgis won't start at all.

>> I'm curious - where did you get your GRASS.app or how did you  
>> build it?  I have a 6.2.1 build available that mirrors, mostly,  
>> the OSX app build I added recently to 6.3 CVS. That is, I've  
>> sortof made my way the official way to build GRASS as an OSX app ;)
>>
> I thought I got it from you :)
> I'm downloading your 6.2.x now...
> -gary

I don't have the 'grass-6.2.1' subfolder in my GRASS.app build, so I  
don't know how Qgis could have linked /Applications/GRASS.app/ 
Contents/Resources/grass-6.2.1/lib/libgrass_*.  It's possible I did  
that in an earlier build.


PS. Tom, are you getting these emails direct (I cc'd you), or just in  
the list?  I got a spam bounce from Comcast, but only on the second  
reply I made.  I'll see if I get another bounce with this reply...

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"History is an illusion caused by the passage of time, and time is an  
illusion caused by the passage of history."

- Hitchhiker's Guide to the Galaxy



From sherman at mrcc.com  Sun May 13 03:07:22 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <BC91C4B0-E6CA-4C3C-821A-4AC996F9A1BD@kyngchaos.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<46454606.8080509@comcast.net>
	<464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>
	<46465F97.1030202@comcast.net>
	<7BC26901-690A-4B02-AD0E-DB47FF60D510@kyngchaos.com>
	<19ED5D88-7BEB-48E4-844F-385369AAD034@mrcc.com>
	<854E18CA-2D18-4AAF-BE56-711CDA8078BC@kyngchaos.com>
	<5D88D87B-33E2-41CB-9578-7AF132CA9CDE@mrcc.com>
	<BC91C4B0-E6CA-4C3C-821A-4AC996F9A1BD@kyngchaos.com>
Message-ID: <C1CC2AEE-5041-4019-80A3-DFBEA0FE4AFB@mrcc.com>


On May 12, 2007, at 10:26 PM, William Kyngesburye wrote:

> Rats, those Qt frameworks are linked weird (and are not bundled in  
> the Qgis app package).  I have Qt 4.2.2 installed (from source),  
> but not in any standard location.  So Qgis won't start at all.

Qt is installed from the TrollTech framework (dmg).

I installed your (William's) GRASS 6.3-cvs package and now everything  
seems to work.
It did not work with the GRASS 6.2 package.

Thanks Tom and William!

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From woklist at kyngchaos.com  Sun May 13 14:09:39 2007
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <C1CC2AEE-5041-4019-80A3-DFBEA0FE4AFB@mrcc.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<46454606.8080509@comcast.net>
	<464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>
	<46465F97.1030202@comcast.net>
	<7BC26901-690A-4B02-AD0E-DB47FF60D510@kyngchaos.com>
	<19ED5D88-7BEB-48E4-844F-385369AAD034@mrcc.com>
	<854E18CA-2D18-4AAF-BE56-711CDA8078BC@kyngchaos.com>
	<5D88D87B-33E2-41CB-9578-7AF132CA9CDE@mrcc.com>
	<BC91C4B0-E6CA-4C3C-821A-4AC996F9A1BD@kyngchaos.com>
	<C1CC2AEE-5041-4019-80A3-DFBEA0FE4AFB@mrcc.com>
Message-ID: <A51855B9-7FD2-45A3-96B4-4F353D9CD3FA@kyngchaos.com>

On May 13, 2007, at 2:07 AM, Gary Sherman wrote:

> Qt is installed from the TrollTech framework (dmg).
>
The linking of the Qt frameworks in Qgis was odd, there are no paths  
to the frameworks:

Qt3Support.framework/Versions/4/Qt3Support
...

It should either be an absolute path, or one of the special relative  
paths (@executable_path or a tiger-only one, I can't remember what).

I just installed Qt 4.2.3.  I guess the OSX linker tries to find  
frameworks automatically from the standard locations - Qgis starts  
now.  I symlinked my GRASS.app to the Resources/grass-6.2.1/ location  
used in the plugin/provider, but when I checked to see if the GRASS  
plugin loaded, it hadn't, along with the gpx and wfs providers.

And whadayaknow, open a shapefile and boom.  Not much help in the  
crash log, except to say that it crashed in  
"QgsOgrProvider::loadFields() + 24" with an "EXC_BAD_INSTRUCTION  
(0x0002)". (that might help you more than it helps me figure out  
what's wrong)  The Binary Images section shows that the grass plugin/ 
provider IS loaded, but I guess not in a state usable by Qgis.

Removed the grass plugin/rovider and a shapefile opens.  So, it only  
takes the presence of those to cause it to crash, or maybe that's the  
problem - the GRASS plugin isn't loading when it should, and the  
symptom (crash) is showing up later.

> I installed your (William's) GRASS 6.3-cvs package and now  
> everything seems to work.
> It did not work with the GRASS 6.2 package.
>
huh.  I wonder if just the version numbering is the key.  Just a  
thought, but if GDAL loads its grass 6.2 libs, then Qgis tries to  
load another set of 6.2 libs, the OSX linker may be trying to be  
smart and using one that's already loaded, but they're just different  
enough from what Qgis expects to cause problems.  But with Qgis+GRass  
6.3, the linker sees 6.3 as different enough to load those libraries  
also.

I don't know much about details like this, but it sounds reasonable  
to me.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"This is a question about the past, is it? ... How can I tell that  
the past isn't a fiction designed to account for the discrepancy  
between my immediate physical sensations and my state of mind?"

- The Ruler of the Universe



From telwertowski at comcast.net  Sun May 13 23:20:07 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <A51855B9-7FD2-45A3-96B4-4F353D9CD3FA@kyngchaos.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<46454606.8080509@comcast.net>
	<464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>
	<46465F97.1030202@comcast.net>
	<7BC26901-690A-4B02-AD0E-DB47FF60D510@kyngchaos.com>
	<19ED5D88-7BEB-48E4-844F-385369AAD034@mrcc.com>
	<854E18CA-2D18-4AAF-BE56-711CDA8078BC@kyngchaos.com>
	<5D88D87B-33E2-41CB-9578-7AF132CA9CDE@mrcc.com>
	<BC91C4B0-E6CA-4C3C-821A-4AC996F9A1BD@kyngchaos.com>
	<C1CC2AEE-5041-4019-80A3-DFBEA0FE4AFB@mrcc.com>
	<A51855B9-7FD2-45A3-96B4-4F353D9CD3FA@kyngchaos.com>
Message-ID: <4647D567.6090201@comcast.net>

William Kyngesburye wrote:
> On May 13, 2007, at 2:07 AM, Gary Sherman wrote:
>> I installed your (William's) GRASS 6.3-cvs package and now everything 
>> seems to work.
>> It did not work with the GRASS 6.2 package.
>>
> huh.  I wonder if just the version numbering is the key.  Just a 
> thought, but if GDAL loads its grass 6.2 libs, then Qgis tries to load 
> another set of 6.2 libs, the OSX linker may be trying to be smart and 
> using one that's already loaded, but they're just different enough from 
> what Qgis expects to cause problems.  But with Qgis+GRass 6.3, the 
> linker sees 6.3 as different enough to load those libraries also.

I found the problem. The path references in GRASS 6.2 libs have an extra 
(non-existent) directory:

/Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/libgrass_gis.dylib

The libs in 6.3 don't:

/Applications/GRASS.app/Contents/Resources/lib/libgrass_gis.dylib


If I create the following link for GRASS 6.2:

ln -s . /Applications/GRASS.app/Contents/Resources/grass-6.2.1

QGIS can load shp files without crashing and without starting GRASS.


QGIS is probably working ok inside GRASS 6.2 because GRASS has already 
loaded the libraries and QGIS doesn't need to use the path info to find 
them.

Tom


From woklist at kyngchaos.com  Mon May 14 00:05:43 2007
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <4647D567.6090201@comcast.net>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<46454606.8080509@comcast.net>
	<464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>
	<46465F97.1030202@comcast.net>
	<7BC26901-690A-4B02-AD0E-DB47FF60D510@kyngchaos.com>
	<19ED5D88-7BEB-48E4-844F-385369AAD034@mrcc.com>
	<854E18CA-2D18-4AAF-BE56-711CDA8078BC@kyngchaos.com>
	<5D88D87B-33E2-41CB-9578-7AF132CA9CDE@mrcc.com>
	<BC91C4B0-E6CA-4C3C-821A-4AC996F9A1BD@kyngchaos.com>
	<C1CC2AEE-5041-4019-80A3-DFBEA0FE4AFB@mrcc.com>
	<A51855B9-7FD2-45A3-96B4-4F353D9CD3FA@kyngchaos.com>
	<4647D567.6090201@comcast.net>
Message-ID: <D2E5E8BD-07EB-4388-96BF-82079D2B3303@kyngchaos.com>

On May 13, 2007, at 10:20 PM, Tom Elwertowski wrote:

> William Kyngesburye wrote:
>> On May 13, 2007, at 2:07 AM, Gary Sherman wrote:
>>> I installed your (William's) GRASS 6.3-cvs package and now  
>>> everything seems to work.
>>> It did not work with the GRASS 6.2 package.
>>>
>> huh.  I wonder if just the version numbering is the key.  Just a  
>> thought, but if GDAL loads its grass 6.2 libs, then Qgis tries to  
>> load another set of 6.2 libs, the OSX linker may be trying to be  
>> smart and using one that's already loaded, but they're just  
>> different enough from what Qgis expects to cause problems.  But  
>> with Qgis+GRass 6.3, the linker sees 6.3 as different enough to  
>> load those libraries also.
>
> I found the problem. The path references in GRASS 6.2 libs have an  
> extra (non-existent) directory:
>
> /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
> libgrass_gis.dylib
>
> The libs in 6.3 don't:
>
> /Applications/GRASS.app/Contents/Resources/lib/libgrass_gis.dylib
>
I noticed the odd linking in your Qgis, but for some reason I didn't  
look at my GRASS build. (repeated whacking head on wall...)

>
> If I create the following link for GRASS 6.2:
>
> ln -s . /Applications/GRASS.app/Contents/Resources/grass-6.2.1
>
I did try this, but I got the symlink wrong.  (my head's a bloody  
pulp now...)


Time to rebuild GRASS 6.2...

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

Earth: "Mostly harmless"

- revised entry in the HitchHiker's Guide to the Galaxy



From sherman at mrcc.com  Mon May 14 00:42:57 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <4647D567.6090201@comcast.net>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<46454606.8080509@comcast.net>
	<464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>
	<46465F97.1030202@comcast.net>
	<7BC26901-690A-4B02-AD0E-DB47FF60D510@kyngchaos.com>
	<19ED5D88-7BEB-48E4-844F-385369AAD034@mrcc.com>
	<854E18CA-2D18-4AAF-BE56-711CDA8078BC@kyngchaos.com>
	<5D88D87B-33E2-41CB-9578-7AF132CA9CDE@mrcc.com>
	<BC91C4B0-E6CA-4C3C-821A-4AC996F9A1BD@kyngchaos.com>
	<C1CC2AEE-5041-4019-80A3-DFBEA0FE4AFB@mrcc.com>
	<A51855B9-7FD2-45A3-96B4-4F353D9CD3FA@kyngchaos.com>
	<4647D567.6090201@comcast.net>
Message-ID: <F45AC6C3-A8BB-4BC2-8ECA-CE9E7B80ADA3@mrcc.com>

Great detective work guys. Thanks.
-gary

On May 13, 2007, at 7:20 PM, Tom Elwertowski wrote:

> William Kyngesburye wrote:
>> On May 13, 2007, at 2:07 AM, Gary Sherman wrote:
>>> I installed your (William's) GRASS 6.3-cvs package and now  
>>> everything seems to work.
>>> It did not work with the GRASS 6.2 package.
>>>
>> huh.  I wonder if just the version numbering is the key.  Just a  
>> thought, but if GDAL loads its grass 6.2 libs, then Qgis tries to  
>> load another set of 6.2 libs, the OSX linker may be trying to be  
>> smart and using one that's already loaded, but they're just  
>> different enough from what Qgis expects to cause problems.  But  
>> with Qgis+GRass 6.3, the linker sees 6.3 as different enough to  
>> load those libraries also.
>
> I found the problem. The path references in GRASS 6.2 libs have an  
> extra (non-existent) directory:
>
> /Applications/GRASS.app/Contents/Resources/grass-6.2.1/lib/ 
> libgrass_gis.dylib
>
> The libs in 6.3 don't:
>
> /Applications/GRASS.app/Contents/Resources/lib/libgrass_gis.dylib
>
>
> If I create the following link for GRASS 6.2:
>
> ln -s . /Applications/GRASS.app/Contents/Resources/grass-6.2.1
>
> QGIS can load shp files without crashing and without starting GRASS.
>
>
> QGIS is probably working ok inside GRASS 6.2 because GRASS has  
> already loaded the libraries and QGIS doesn't need to use the path  
> info to find them.
>
> Tom
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From marco.hugentobler at karto.baug.ethz.ch  Mon May 14 02:52:47 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Re: [Qgis-user] QGIS mapserver project
In-Reply-To: <e8e7199c0705111031l7615860aw5b41e7e7847340b4@mail.gmail.com>
References: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0705111031l7615860aw5b41e7e7847340b4@mail.gmail.com>
Message-ID: <200705140852.47661.marco.hugentobler@karto.baug.ethz.ch>

Hi Martin,

> Btw. is it necessary to link also to gui library?

You're right, it works only with core. I had the link to gui in the makefile 
from the 0.8 time on and didn't realize it is not needed anymore.

> > QGIS mapserver doesn't (yet) have the same number of features as the
> > maperservers which are around for many years. But it is already usable as
> > a basic WMS server with SLD styling capabilities. It already supports
> > GetCapabilities and GetMap over HTTP GET and allows client defined
> > styling with SLD.
>
> How would you compare SLD with QGIS display capabilities? Is SLD a
> subset or superset of what can be displayed with QGIS libs? I'm
> wondering whether SLD could be useful also for saving layer's
> symbology...

The SLD specifications contain more than QGIS provides. But for me it seems 
that the idea was to cover everything and so most existing software only 
supports a subset of SLD (e.g. for UMN mapserver, see 
http://mapserver.gis.umn.edu/docs/howto/sldhowto/#server-side-support).

Some examples what SLD containes and QGIS does not provide:

Complex filters possible for categories, combinations of spatial filters, 
and/or, equals, greater, lesser, greater or equal, lesser or equal, between, 
like

lines: graphic fill, custom fill/gap

polygons: graphic fill (repeated texture)

point: the URL of any graphic file can be given as symbol

And there are also raster and label contained in SLD spec...

For qgis internal purposes, I think it would be easier to use the qgis xml 
format. But for exchange of symbologies with other applications, SLD would be 
better.
Some time ago, I started to write a plugin which generates an SLD 
configuration file for the server from loaded QGIS layers. But maybe 
import/export from/to SLD would also be interesting for QGIS gui?

> At some point in future I should deploy a web application with mapping
> support, so I'll take a look if this mapserver is usable enough. It's
> a pity that QGIS doesn't support advanced symbology and the labeling
> is still very inmature - these features are quite important for a good
> mapserver.

Yes, lots of work to be done :-)

What do you think are the most important missing symbology capabilities?

cheers,
Marco


-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
marco.hugentobler@karto.baug.ethz.ch

From marco.hugentobler at karto.baug.ethz.ch  Mon May 14 03:01:22 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS mapserver project
In-Reply-To: <5383fa5e0705111523v3506c275n6999a0743ee4fe54@mail.gmail.com>
References: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>
	<5383fa5e0705111523v3506c275n6999a0743ee4fe54@mail.gmail.com>
Message-ID: <200705140901.22559.marco.hugentobler@karto.baug.ethz.ch>


Hi Matthew

> Would it be feasible to extend the QGIS wms server to read directly
> from .qgs files? I think one of the main benefits of having a
> QGIS-based WMS server would be to combine the configuration of desktop
> and web maps into a single format. Wouldn't it nice to stylize your
> map in qgis then immediately make that .qgs project file immediately
> available on the web?
>
> Using the current method, I'd have to reconfigure the same map twice.
> Given that QGIS can export a mapserver mapfile, it really reduces the
> incentive :-(

There is a plugin I started to develop some time ago, called 'publish to web 
plugin'. This plugin creates the server configuration from loaded layers in 
QGIS (not only the configuration file itself). It is still very unstable and 
unmature at the moment. But perhaps I should put it on the qgis mapserver 
page as it is and improve it step by step.

> SLD support is nice though. perhaps that should be considered for
> inclusion in the qgis core?
>
> > And now the most important thing: QGIS mapserver is opensource (GPL) ->
> > everybody is kindly invited to contribute with code, documentation,
> > testing, bug reports, constructive critisism, etc. Contact me if you are
> > interesting in joining development of QGIS mapserver, there is still a
> > lot to do...
>
> Great! I look forward to trying it out.

Cool! Tell me how it goes.

Regards,
Marco

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
marco.hugentobler@karto.baug.ethz.ch

From wonder.sk at gmail.com  Mon May 14 04:17:14 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Re: [Qgis-user] QGIS mapserver project
In-Reply-To: <200705140852.47661.marco.hugentobler@karto.baug.ethz.ch>
References: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0705111031l7615860aw5b41e7e7847340b4@mail.gmail.com>
	<200705140852.47661.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <e8e7199c0705140117r3df5fc8ane237830f83c5881d@mail.gmail.com>

On 5/14/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi Martin,
>
> [...]
> Some time ago, I started to write a plugin which generates an SLD
> configuration file for the server from loaded QGIS layers. But maybe
> import/export from/to SLD would also be interesting for QGIS gui?

Yes, that might be interesting.

> What do you think are the most important missing symbology capabilities?

I was thinking of rendering some roadmaps, so this comes to my mind:
- one way streets - need to present their direction with arrows
- road number - to be repeated along the road
- lines with border - usual appearance of roads - this can be worked
around by drawing a layer twice - first with thickier pen, then with
narrower pen

Martin

From morb at beagle.com.au  Mon May 14 05:20:03 2007
From: morb at beagle.com.au (Brendan Morley)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] "Edit" Menu
In-Reply-To: <29685DB4-5B1F-4596-A733-5600F1E71697@biodiversity.unr.edu>
References: <1177124265.3015.9.camel@localhost.localdomain>
	<29685DB4-5B1F-4596-A733-5600F1E71697@biodiversity.unr.edu>
Message-ID: <1179134404.2392.2.camel@localhost.localdomain>

I don't know.  Can anyone else suggest what the preferred programming
idiom is?

On Sun, 2007-04-22 at 09:37 -0700, John C. Tull wrote:
> On Apr 20, 2007, at 7:57 PM, Brendan Morley wrote:
> 
> >   mActionEditCut->setShortcut(tr("Ctrl+X", "Cut selected objects to  
> > the clipboard"));
> >   mActionEditCopy->setShortcut(tr("Ctrl+C", "Copy selected objects  
> > to the clipboard"));
> >   mActionEditPaste->setShortcut(tr("Ctrl+V", "Paste objects from  
> > the clipboard"));
> 
> Is there a way to do this so the Mac does not lose its normal method  
> of using the command key (apple key) in these combinations rather  
> than control?
> 
> Cheers,
> John
> 


From morb at beagle.com.au  Mon May 14 05:28:47 2007
From: morb at beagle.com.au (Brendan Morley)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] "Edit" Menu
In-Reply-To: <1179134404.2392.2.camel@localhost.localdomain>
References: <1177124265.3015.9.camel@localhost.localdomain>
	<29685DB4-5B1F-4596-A733-5600F1E71697@biodiversity.unr.edu>
	<1179134404.2392.2.camel@localhost.localdomain>
Message-ID: <1179134927.2392.6.camel@localhost.localdomain>

Ahhh.  Just worked it out.

QKeySequence::Cut
QKeySequence::Copy
QKeySequence::Paste

This wasn't in Qt4.1 (when I was doing my initial research), only from
Qt4.2.  So it looks like I can have my cake and you can eat it too.


Brendan

On Mon, 2007-05-14 at 19:20 +1000, Brendan Morley wrote:
> I don't know.  Can anyone else suggest what the preferred programming
> idiom is?
> 
> On Sun, 2007-04-22 at 09:37 -0700, John C. Tull wrote:
> > On Apr 20, 2007, at 7:57 PM, Brendan Morley wrote:
> > 
> > >   mActionEditCut->setShortcut(tr("Ctrl+X", "Cut selected objects to  
> > > the clipboard"));
> > >   mActionEditCopy->setShortcut(tr("Ctrl+C", "Copy selected objects  
> > > to the clipboard"));
> > >   mActionEditPaste->setShortcut(tr("Ctrl+V", "Paste objects from  
> > > the clipboard"));
> > 
> > Is there a way to do this so the Mac does not lose its normal method  
> > of using the command key (apple key) in these combinations rather  
> > than control?
> > 
> > Cheers,
> > John
> > 
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> 


From telwertowski at comcast.net  Mon May 14 13:49:32 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] "Edit" Menu
In-Reply-To: <1179134927.2392.6.camel@localhost.localdomain>
References: <1177124265.3015.9.camel@localhost.localdomain>	<29685DB4-5B1F-4596-A733-5600F1E71697@biodiversity.unr.edu>	<1179134404.2392.2.camel@localhost.localdomain>
	<1179134927.2392.6.camel@localhost.localdomain>
Message-ID: <4648A12C.3080900@comcast.net>

On Sun, 2007-04-22 at 09:37 -0700, John C. Tull wrote:
> On Apr 20, 2007, at 7:57 PM, Brendan Morley wrote:
>>   mActionEditPaste->setShortcut(tr("Ctrl+V", "Paste objects from  
>> the clipboard"));
> Is there a way to do this so the Mac does not lose its normal method  
> of using the command key (apple key) in these combinations rather  
> than control?

Qt maps "Cntl" to Command and "Meta" to Control on a Mac so this should 
be ok as is. The Trolls say: "Developers on Mac OS X can use the same 
shortcut descriptions across all platforms, and their applications will 
automatically work as expected on Mac OS X."

Tom

From botsnlinux at gmail.com  Tue May 15 10:31:38 2007
From: botsnlinux at gmail.com (Steven Bell)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Adding custom fill styles?
Message-ID: <255b57430705150731y31495d49jf6356fe041baa31b@mail.gmail.com>

I posted this in the forum, but it was recommended there that I use this
list instead.
I'm interested in creating custom fill styles in QGIS. From looking at the
program, I assume that the fill styles are implemented with QBrush. I'm
wondering if it would be possible to create custom styles using
QBrush::setTexture().

How difficult would this be to implement? Is this what "
qgsfillstylewidget.cpp" was meant for?
I would be willing to work on implementing this, if it isn't too difficult
and someone can help get me pointed in the right direction.
Steven
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070515/27fab084/attachment.html
From marco.hugentobler at karto.baug.ethz.ch  Wed May 16 02:55:09 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Adding custom fill styles?
In-Reply-To: <255b57430705150731y31495d49jf6356fe041baa31b@mail.gmail.com>
References: <255b57430705150731y31495d49jf6356fe041baa31b@mail.gmail.com>
Message-ID: <200705160855.10030.marco.hugentobler@karto.baug.ethz.ch>

Hi Steven,

Custom fill styles would be a nice enhancement for QGIS!

> I'm
> wondering if it would be possible to create custom styles using
> QBrush::setTexture().

Yes, that's the way to go. 
It is better to use QBrush::setTextureImage() function instead of the pixmap 
one. In qgis core lib, we avoid using QPixmap. QPixmap needs a running 
X-Server and is a problem for server applications using qgis lib.

> How difficult would this be to implement? 
I think that most work to be done will be gui related.

> and someone can help get me pointed in the right direction.

The symbology (QPen, QBrush and possibly image for point symbols) is stored in 
QGIS inside the class QgsSymbol. 

The renderer classes (e.g. QgsSingleSymbolRenderer, 
QgsGraduatedSymbolRenderer, etc.) contain one or more QgsSymbols, together 
with the information which symbol to apply for which attribute value. If 
QgsVectorLayer draws a feature, it passes the feature to a subclass of 
QgsRenderer first and the renderer class sets the pen and brush (and possibly 
the image) according to the attribute value of the feature. The vector layer 
then draws the feature without having anything to know about the feature 
symbology.

Important is the class QgsSingleSymbolDialog. This class is used to enter the 
settings for a QgsSymbol. It is used also by QgsGraduatedSymbolDialog and 
QgsUniqueValueDialog. It creates the settings for a QgsSymbol according to 
user input. And I think QgsSingleSymbolDialog::apply(QgsSymbol*)  is the 
place, where the QImage for a custom fill style should be passed to 
QgsSymbol. QgsSymbol then calls setTextureImage() for its brush. 
QgsSingleSymbol could provide also the gui for a user to choose an image (or 
a button that gives access to that gui).

>Is this what "
> qgsfillstylewidget.cpp" was meant for?

qgsfillstylewidget.cpp is legacy code. There was a discussion once about 
having different gui for vector symbolisation, and I think this widget was 
meant to be part of it.

If you have further questions, don't hesitate to ask. Also, it would be good 
if you communicate from time to time your progresses, ideas, etc. on the 
devel mailing list.

I would very much appreciate your contribution. For QGIS, it is always a 
problem that we do not have enough developers regarding the amount of code in 
the project.

All the best,
Marco

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
marco.hugentobler@karto.baug.ethz.ch

From cavallini at faunalia.it  Fri May 18 03:49:41 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] grass rasters in win
Message-ID: <464D5A95.6090002@faunalia.it>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi all.
The bug is very serious, probably rather easy to fix, and prevents grass
users in windows from using qgis (by far the easiest way to approach
grass). Would it be possible to use some of the funds we have to pay
someone (ideally Radim, or Tim) to fix it, so as to release 0.8.1 ASAP?
All the best.
pc
- --
Paolo Cavallini
http://www.faunalia.it/pc
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGTVqV/NedwLUzIr4RAl1wAJ0RvWSWSt3PNWwN+ENf/m1k6BFxBwCglzl6
/At9InkaeaBboo4oOZWyXjw=
=qh1j
-----END PGP SIGNATURE-----

From marco.hugentobler at karto.baug.ethz.ch  Sat May 19 05:14:14 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] grass rasters in win
In-Reply-To: <464D5A95.6090002@faunalia.it>
References: <464D5A95.6090002@faunalia.it>
Message-ID: <200705191114.15068.marco.hugentobler@karto.baug.ethz.ch>

+1 for using qgis funds for this.

>probably rather easy to fix

From Tims comments on this, I don't think that this is a trivial fix. Afaik 
it's a problem with mingw compilation of gdal, and it's quite easy to spend a 
lot of time with compilation options, dependencies and plattform specific 
settings.  

>(ideally Radim, or Tim)

definitely the right persons for this.

Marco

On Friday 18 May 2007 09:49:41 Paolo Cavallini wrote:
> Hi all.
> The bug is very serious, probably rather easy to fix, and prevents grass
> users in windows from using qgis (by far the easiest way to approach
> grass). Would it be possible to use some of the funds we have to pay
> someone (ideally Radim, or Tim) to fix it, so as to release 0.8.1 ASAP?
> All the best.
> pc



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
marco.hugentobler@karto.baug.ethz.ch

From marco.hugentobler at karto.baug.ethz.ch  Sat May 19 11:06:39 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:07 2008
Subject: Edit toolbar / Re: [Qgis-developer] "Edit" Menu
In-Reply-To: <1177125440.2765.1.camel@localhost.localdomain>
References: <1177125440.2765.1.camel@localhost.localdomain>
Message-ID: <200705191706.39170.marco.hugentobler@karto.baug.ethz.ch>

Hi all,

+1 for edit menu.

For the editing toolbar, my impression is that it currently uses too much 
space, considering that most people using qgis as a viewer and do not use the 
toolbar. My plan is to hide the toolbar per default and the user needs to 
make it visible in the 'view' menu (of course, the visibility of the editing 
toolbar is stored in user preferences).
Also, it may be good to split the editing toolbar. I plan to add another 
editing tool soon (one for creating new islands for multipolygon features), 
and so there are already too much buttons there. Maybe one toolbar for 
capturing tools, another one for tools which change geometries, another one 
for copy/past/cut?
If there are any comments or objections on this, please write them in the next 
few days.

cheers,
Marco

On Saturday 21 April 2007 05:17:19 Brendan Morley wrote:
> Fellow programmers,
>
> Another thing I want to do is add an Edit menu to the QGIS GUI.
>
> The things I want to have on it are encapsulated in the following code
> fragment:
>
> mEditMenu = menuBar()->addMenu(tr("&Edit"));
>   mEditMenu->addAction(mActionEditCut);
>   mEditMenu->addAction(mActionEditCopy);
>   mEditMenu->addAction(mActionEditPaste);
>   mEditMenu->addSeparator();
>   mEditMenu->addAction(mActionAddVertex);
>   mEditMenu->addAction(mActionMoveVertex);
>   mEditMenu->addAction(mActionDeleteVertex);
>   mEditMenu->addSeparator();
>   mEditMenu->addAction(mActionPasteTransformations);
>   mEditMenu->addSeparator();
>   mEditMenu->addAction(mActionToggleSnapNearestVertex);
>
> Also, I want to set up keyboard shortcuts for Cut, Copy and Paste as
> encapsulated in the following code fragment:
>
>   mActionEditCut->setShortcut(tr("Ctrl+X", "Cut selected objects to the
> clipboard")); mActionEditCopy->setShortcut(tr("Ctrl+C", "Copy selected
> objects to the clipboard")); mActionEditPaste->setShortcut(tr("Ctrl+V",
> "Paste objects from the clipboard"));
>
>
> I've had this functionality on my local copy (the shortcuts are
> particularly time-saving), and I have a feeling it ended up in one of
> the subversion branches, but it is not in HEAD.
>
> If there are no objections, I'll commit it to head in the next week or
> so.
>
>
>
> Brendan
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
marco.hugentobler@karto.baug.ethz.ch

From sherman at mrcc.com  Sat May 19 12:53:00 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS 0.8.1 Windows test version available
Message-ID: <25D949F1-9BF8-4BD0-8834-6AB403B206B4@mrcc.com>

Thanks to Martin Dobias we now have a 0.8.1 test version that  
includes the fix for GRASS rasters, as well as all the other changes  
in the upcoming 0.8.1 release.

Please feel free to download and test this version. You can provide  
feedback via the mailing lists or the bug tracker.

The setup file is available here:
	http://download.qgis.org/qgis/win32/qgis_setup0.8.1-rc1.exe

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From telwertowski at comcast.net  Sun May 20 01:58:05 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:07 2008
Subject: Edit toolbar / Re: [Qgis-developer] "Edit" Menu
In-Reply-To: <200705191706.39170.marco.hugentobler@karto.baug.ethz.ch>
References: <1177125440.2765.1.camel@localhost.localdomain>
	<200705191706.39170.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <464FE36D.6040609@comcast.net>

Marco Hugentobler wrote:
> Hi all,
> 
> +1 for edit menu.
> 
> For the editing toolbar, my impression is that it currently uses too much 
> space, considering that most people using qgis as a viewer and do not use the 
> toolbar. My plan is to hide the toolbar per default and the user needs to 
> make it visible in the 'view' menu (of course, the visibility of the editing 
> toolbar is stored in user preferences).

I am in favor. My preference is to have relatively few toolbars visible 
at any time but to have all or most commands available through the menu 
bar. It appears that the new edit menu will include many of the editing 
toolbar actions.

My suggestion is to change the View > Toolbars submenu to list all 
toolbars by name and act as a toggle for that toolbar. This would be the 
same as the popup menu on each toolbar. There is code in one of the Qt 
examples for this. Since we already remember the state of each toolbar, 
all that would be needed in addition to changing the View > Toolbars 
menu item is to disable the editing toolbar on initial startup when 
there is no stored toolbar state.

Tom

From cavallini at faunalia.it  Mon May 21 02:27:06 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:07 2008
Subject: Edit toolbar / Re: [Qgis-developer] "Edit" Menu
In-Reply-To: <200705191706.39170.marco.hugentobler@karto.baug.ethz.ch>
References: <1177125440.2765.1.camel@localhost.localdomain>
	<200705191706.39170.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <46513BBA.90705@faunalia.it>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1



Marco Hugentobler ha scritto:
> Hi all,
> 
> +1 for edit menu.
> 
> For the editing toolbar, my impression is that it currently uses too much 
> space, considering that most people using qgis as a viewer and do not use the 
> toolbar.

Hi Marco,
I do not think this still holds true: QGIS is seen as a serious GIS
already (perhaps even too much sometimes... :) ).
pc
- --
Paolo Cavallini
http://www.faunalia.it/pc
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGUTu6/NedwLUzIr4RAp/wAJwMC5IoWEDPbUCJ/BunJQUThSjnIQCffoCD
w/Ba07tNGFxcJHbFqijTz9k=
=qhVf
-----END PGP SIGNATURE-----

From benjamin.ducke at ufg.uni-kiel.de  Mon May 21 04:42:09 2007
From: benjamin.ducke at ufg.uni-kiel.de (Benjamin Ducke)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS and GRASS 0.8.1 rc1: DBF driver deadlocking
Message-ID: <46515B61.9080701@ufg.uni-kiel.de>

Thanks for the new 0.8.1 rc win builds. The software keeps getting
better all the time! I have run a few tests on the GRASS interface with
my data as I am VERY keen on using this in my GIS classes at university
in the future.
There are two serious flaws that prevent me from doing so at the moment:

1. The DBF driver deadlocks randomly!
Any GRASS module that needs to access the attribute table (DBF format)
of a vector map is prone to this: E.g. I tried running v.out.ogr on a
map with ca. 3000 points repeatedly. Out of ten runs, 2 or 3 deadlock at
a random point. The task manager shows that v.out.ogr is sleeping with
0% CPU.
Sometimes, I also get random "DBMI protocol errors". The only thing that
helps is to stop and restart the module, hoping that it will finish this
time. Quite annoying. I tested this with several different versions of
QGIS, Windows (XP, 2000) and with different datasets on different PCs:
always the same problem.

2. There are still issues when QGIS is installed in a path with spaces.
This is a problem with the GRASS modules. I found that at least
g.mremove and d.mon screwed up. There are probably others ...

If you want to verify this, please download my sample location from
ftp://ftp.rz.uni-kiel.de/pub/ufg/qgis-test.zip
It contains a minimal GRASS location "qgis-test" that has a mapset
"user" with a raster and a vector map representing a DEM in a local
coordinate system (no projection information).

Thanks again for all the great work. Wish I could be of more use
resolving the remaining issues myself, but this is outside my competence.

Best,

Benjamin

-- 
Benjamin Ducke, M.A.
Arch?oinformatik
(Archaeoinformation Science)
Institut f?r Ur- und Fr?hgeschichte
(Inst. of Prehistoric and Historic Archaeology)
Christian-Albrechts-Universit?t zu Kiel
Johanna-Mestorf-Stra?e 2-6
D 24098 Kiel
Germany

Tel.: ++49 (0)431 880-3378 / -3379
Fax : ++49 (0)431 880-7300
www.uni-kiel.de/ufg


From wonder.sk at gmail.com  Mon May 21 05:33:09 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS and GRASS 0.8.1 rc1: DBF driver deadlocking
In-Reply-To: <46515B61.9080701@ufg.uni-kiel.de>
References: <46515B61.9080701@ufg.uni-kiel.de>
Message-ID: <e8e7199c0705210233t1671882o118f216e6a2b7d2a@mail.gmail.com>

On 5/21/07, Benjamin Ducke <benjamin.ducke@ufg.uni-kiel.de> wrote:
> Thanks for the new 0.8.1 rc win builds. The software keeps getting
> better all the time! I have run a few tests on the GRASS interface with
> my data as I am VERY keen on using this in my GIS classes at university
> in the future.
> There are two serious flaws that prevent me from doing so at the moment:
>
> 1. The DBF driver deadlocks randomly!
> Any GRASS module that needs to access the attribute table (DBF format)
> of a vector map is prone to this: E.g. I tried running v.out.ogr on a
> map with ca. 3000 points repeatedly. Out of ten runs, 2 or 3 deadlock at
> a random point. The task manager shows that v.out.ogr is sleeping with
> 0% CPU.
> Sometimes, I also get random "DBMI protocol errors". The only thing that
> helps is to stop and restart the module, hoping that it will finish this
> time. Quite annoying. I tested this with several different versions of
> QGIS, Windows (XP, 2000) and with different datasets on different PCs:
> always the same problem.

Hi Benjamin,

I think this is a known problem, see section "What is missing" here:
http://grass.gdf-hannover.de/wiki/WinGRASS_Current_Status


> 2. There are still issues when QGIS is installed in a path with spaces.
> This is a problem with the GRASS modules. I found that at least
> g.mremove and d.mon screwed up. There are probably others ...

Actually neither of these problems is directly related to Quantum GIS
as we only ship compiled GRASS with QGIS. These issues should be
solved by GRASS developers, so their mailing list is probably a better
place for reporting that...


Regards,
Martin

From cavallini at faunalia.it  Mon May 21 07:10:11 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Query building for rasters, too
In-Reply-To: <462672E8.4090604@lancaster.ac.uk>
References: <20070418191651.GC3506@lychnobite.org>
	<462672E8.4090604@lancaster.ac.uk>
Message-ID: <46517E13.7000706@faunalia.it>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Tried, but I get:
Couldn't load plugin "rasteralgebra"

Traceback (most recent call last):
 File "", line 2, in ?
 File "/usr/local/share/qgis/python/plugins/rasteralgebra/__init__.py",
line 2, in ?
  from rasteralgebra import RasterAlgebra
 File
"/usr/local/share/qgis/python/plugins/rasteralgebra/rasteralgebra.py",
line 9, in ?
  import rastercompute
 File
"/usr/local/share/qgis/python/plugins/rasteralgebra/rastercompute.py",
line 2, in ?
  from rasterutils import checkRasterSupport, layerAsArray, writeGeoTiff
 File
"/usr/local/share/qgis/python/plugins/rasteralgebra/rasterutils.py",
line 3, in ?
  import gdal
ImportError: No module named gdal

Debian testing, qgis compiled by hand, gdal 1.3.2
Any hint?
All the best.
pc

Barry Rowlingson ha scritto:
> Mark Coletti wrote:
>> One of the great new features is the ability to create entirely new
>> vector layers from existing ones based on certain criteria.  I was
>> surprised that there didn't exist similar functionality for rasters.
>> E. g., it should be possible to create a new raster layer containing
>> specific themal values from an existing one that had categorized pixel
>> values, perhaps using the result of a call to
>> GDALRasterBand::GetCategoryNames() or GDALRasterAttributeTable
>> contents.  I did not see any plan for implementing such after
>> stumbling through the various qgis related web sites, including the
>> wiki and the trac site.  Is there a plan to implement such a feature?
> 
>  Have you seen my RasterAlgebra plugin?
> 
> http://www.maths.lancs.ac.uk/~rowlings/Software/RasterAlgebra/
> 
>  I knocked it up pretty quickly in order to play with QtDesigner and
> python plugins. It only does simple algebra, but the code might serve as
> a useful starting point for any other raster processing.
> 
> Barry
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> 

- --
Paolo Cavallini
http://www.faunalia.it/pc
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGUX4S/NedwLUzIr4RAtI0AKCa19Wg9jJjuhAnr9sO63A7LDZhzQCePmEm
PBHAzEpB4jd7T0hzHDVf1+I=
=S1Vm
-----END PGP SIGNATURE-----

From stephan.holl at intevation.de  Mon May 21 08:08:42 2007
From: stephan.holl at intevation.de (Stephan Holl)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Query building for rasters, too
In-Reply-To: <46517E13.7000706@faunalia.it>
References: <20070418191651.GC3506@lychnobite.org>
	<462672E8.4090604@lancaster.ac.uk> <46517E13.7000706@faunalia.it>
Message-ID: <20070521140842.2c9e21bf@thoe.hq.intevation.de>

Hello Paolo,

Paolo Cavallini <cavallini@faunalia.it>, [20070521 - 13:10:11]

> ImportError: No module named gdal
> 
> Debian testing, qgis compiled by hand, gdal 1.3.2

did you install python-gdal which brings the python bindings for gdal?

Best
	Stephan

-- 
Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner

From cavallini at faunalia.it  Mon May 21 08:45:20 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Query building for rasters, too
In-Reply-To: <20070521140842.2c9e21bf@thoe.hq.intevation.de>
References: <20070418191651.GC3506@lychnobite.org>	<462672E8.4090604@lancaster.ac.uk>	<46517E13.7000706@faunalia.it>
	<20070521140842.2c9e21bf@thoe.hq.intevation.de>
Message-ID: <46519460.4060808@faunalia.it>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

thanks, that was it!
berry, perhaps better writing it in the readme?
all the best.
pc

Stephan Holl ha scritto:
> Hello Paolo,
> 
> Paolo Cavallini <cavallini@faunalia.it>, [20070521 - 13:10:11]
> 
>> ImportError: No module named gdal
>>
>> Debian testing, qgis compiled by hand, gdal 1.3.2
> 
> did you install python-gdal which brings the python bindings for gdal?
> 
> Best
> 	Stephan
> 

- --
Paolo Cavallini
http://www.faunalia.it/pc
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGUZRg/NedwLUzIr4RAiMVAJsF1v1yy8n4cg6POcLAJGa+9ZhQnwCfYkV0
YM2+x3oQvwNwdqZf4w279rY=
=bSNT
-----END PGP SIGNATURE-----

From cavallini at faunalia.it  Mon May 21 09:47:06 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Re: [GRASS-dev] GRASS and QGIS on Win32,
	testing etc.
In-Reply-To: <4651A130.4090007@ufg.uni-kiel.de>
References: <1464.85.10.64.156.1179667233.squirrel@geog-pc40.ulb.ac.be>	<Pine.LNX.4.62.0705201423050.3848@agrippa.ukshells.co.uk>	<1815.85.10.64.156.1179694985.squirrel@geog-pc40.ulb.ac.be>	<Pine.LNX.4.62.0705202217130.6555@agrippa.ukshells.co.uk>	<2195.85.10.64.156.1179699855.squirrel@geog-pc40.ulb.ac.be>	<Pine.LNX.4.62.0705202328170.6555@agrippa.ukshells.co.uk>	<2469.85.10.64.156.1179703484.squirrel@geog-pc40.ulb.ac.be>	<Pine.LNX.4.62.0705211140470.23677@agrippa.ukshells.co.uk>	<46518954.1070008@ufg.uni-kiel.de>	<46518FFD.60309@club.worldonline.be>
	<4651A130.4090007@ufg.uni-kiel.de>
Message-ID: <4651A2DA.7010706@faunalia.it>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1



Benjamin Ducke ha scritto:

> I think what's most
> important is that the people who make the QGIS-GRASS packages currently
> join in to work in a single compile environment and produce a single set
> of binaries.

Agreed: I believe this is extremely important; more generally, the
community will profit a lot from a closer contact between the two
development groups.
pc
- --
Paolo Cavallini
http://www.faunalia.it/pc
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGUaLa/NedwLUzIr4RApseAKCbndRswBBazNS22fVwhs5YXU2oSgCfTMUp
0p8NUP7aEw7TZOUerg/vTJ8=
=U3Zn
-----END PGP SIGNATURE-----

From woklist at kyngchaos.com  Mon May 21 10:29:57 2007
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS crash on Mac OS X -- 0.8 release branch
In-Reply-To: <D2E5E8BD-07EB-4388-96BF-82079D2B3303@kyngchaos.com>
References: <060375BE-0CC7-4268-A1CE-75211F965CD7@mrcc.com>	<463CBEF5.3010909@comcast.net>	<88CE8B20-E933-445F-81C5-C96B027A3255@mrcc.com>	<B2F966DE-028C-4FF6-BEE0-6F891DA1AC7A@mrcc.com>	<464352E7.2010602@comcast.net>	<4D6EC7F6-78DD-419F-A7B2-205119C805C3@mrcc.com>	<4643D844.7020306@comcast.net>	<9EACBC51-AB99-47A9-B4DE-22E7889C3EED@mrcc.com>	<4643F02D.3060300@comcast.net>
	<16C9B675-0766-45C6-B109-D48BD39FABE9@mrcc.com>
	<46454606.8080509@comcast.net>
	<464A1FCC-3BB5-4B1F-AD51-C472523A8B58@mrcc.com>
	<46465F97.1030202@comcast.net>
	<7BC26901-690A-4B02-AD0E-DB47FF60D510@kyngchaos.com>
	<19ED5D88-7BEB-48E4-844F-385369AAD034@mrcc.com>
	<854E18CA-2D18-4AAF-BE56-711CDA8078BC@kyngchaos.com>
	<5D88D87B-33E2-41CB-9578-7AF132CA9CDE@mrcc.com>
	<BC91C4B0-E6CA-4C3C-821A-4AC996F9A1BD@kyngchaos.com>
	<C1CC2AEE-5041-4019-80A3-DFBEA0FE4AFB@mrcc.com>
	<A51855B9-7FD2-45A3-96B4-4F353D9CD3FA@kyngchaos.com>
	<4647D567.6090201@comcast.net>
	<D2E5E8BD-07EB-4388-96BF-82079D2B3303@kyngchaos.com>
Message-ID: <B78A9451-4222-453C-9C7C-ECACE69024A8@kyngchaos.com>

I rebuilt GRASS 6.2 this weekend with the correct linking.

On May 13, 2007, at 11:05 PM, William Kyngesburye wrote:

>> If I create the following link for GRASS 6.2:
>>
>> ln -s . /Applications/GRASS.app/Contents/Resources/grass-6.2.1
>>
> I did try this, but I got the symlink wrong.  (my head's a bloody  
> pulp now...)
>
>
> Time to rebuild GRASS 6.2...
>

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

[Trillian]  What are you supposed to do WITH a maniacally depressed  
robot?

[Marvin]  You think you have problems?  What are you supposed to do  
if you ARE a maniacally depressed robot?  No, don't try and answer,  
I'm 50,000 times more intelligent than you and even I don't know the  
answer...

- HitchHiker's Guide to the Galaxy



From botsnlinux at gmail.com  Mon May 21 10:31:25 2007
From: botsnlinux at gmail.com (Steven Bell)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Custom fill styles update
Message-ID: <255b57430705210731j3b2e45c2r91804c856a588336@mail.gmail.com>

Just a quick update on where I am with the custom fill styles.
I have been able to partially implement custom fill styles.  Look here to
see it in action: http://img523.imageshack.us/my.php?image=customfillra3.png
It is able to save and load the custom styles with the project file, and
previews the fill image on the button when an image is selected.

At this point, it doesn't work at all with the unique value
renderer/dialog.  It sets the texture to customTexture, but doesn't set the
image correctly.  It also is unable to correctly load the images from the
unique value renderer into the GUI.  I hope to work on that in the next few
days, but I can't promise anything for sure.

Steven
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070521/2eec4bcc/attachment.html
From cavallini at faunalia.it  Mon May 21 10:40:03 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Custom fill styles update
In-Reply-To: <255b57430705210731j3b2e45c2r91804c856a588336@mail.gmail.com>
References: <255b57430705210731j3b2e45c2r91804c856a588336@mail.gmail.com>
Message-ID: <4651AF43.1080903@faunalia.it>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Great thing.
This raises up a point: what are the plans for next development? I
believe we should start thinking at stabilizing a new 0.9 version
(having workable python bindings will wet many mouths).
Tim recently suggested to do dev only in branches, so as to have a
stable trunk to be released more regularly. Is this feasible in the near
future?
All the best.
pc

Steven Bell ha scritto:
> Just a quick update on where I am with the custom fill styles.
> I have been able to partially implement custom fill styles.  Look here
> to see it in action:
> http://img523.imageshack.us/my.php?image=customfillra3.png
> It is able to save and load the custom styles with the project file, and
> previews the fill image on the button when an image is selected.
> 
> At this point, it doesn't work at all with the unique value
> renderer/dialog.  It sets the texture to customTexture, but doesn't set
> the image correctly.  It also is unable to correctly load the images
> from the unique value renderer into the GUI.  I hope to work on that in
> the next few days, but I can't promise anything for sure.
> 
> Steven
- --
Paolo Cavallini
http://www.faunalia.it/pc
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGUa9C/NedwLUzIr4RAq7iAJwOzi0hl9Nk3QKFTCGvfORJhk6UWQCeKcUH
QcGnyQh2GYZMM52/3hpnrw4=
=ehsf
-----END PGP SIGNATURE-----

From botsnlinux at gmail.com  Mon May 21 11:32:33 2007
From: botsnlinux at gmail.com (Steven Bell)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Toolbar size
Message-ID: <255b57430705210832k430e5174qba6af142c8af87b2@mail.gmail.com>

Some of the discussion about menus and toolbars got me thinking about the
toolbar setup in QGIS.
My screen size is 1024x768 - on the small end these days, but pretty
common.  I have toolbars across the top and down the right side, and I still
don't have room for all of the buttons.  My map canvas is roughly 620x530.
I started thinking and comparing this to the OpenOffice.org interface, which
manages to fit even more buttons and information, while leaving a larger
area for work.
There are several places the GUI could save some space:
-Toolbar and menu size.  OOo fits the menu and 2 toolbars into 85 pixels,
where QGIS takes 105.
-Legend/Layer list.  It appears that its minimum size has been increased
from v0.8.
-Canvas.  It appears that the canvas is on a tabbed panel, with the tab
title of "Map View".  Are there other views that were intended to go here?
The way it currently is, removing the tabs and reducing the padding could
save ~50px.
-Bottom information.  OOo's bottom info bar is 22 px tall, while QGIS's is
48 px when you count the surrounding padding space.

I don't have much experience with QT GUI design, but it seems like these
would be moderately simple changes which would greatly improve the usability
of the interface.
How difficult would this really be to implement?  Is this worth doing?  I
would be willing to work on this if there's interest and it isn't too hard.
Steven
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070521/39584a04/attachment.html
From telwertowski at comcast.net  Mon May 21 16:22:22 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Toolbar size
In-Reply-To: <255b57430705210832k430e5174qba6af142c8af87b2@mail.gmail.com>
References: <255b57430705210832k430e5174qba6af142c8af87b2@mail.gmail.com>
Message-ID: <4651FF7E.8050604@comcast.net>

Steven Bell wrote:
> Some of the discussion about menus and toolbars got me thinking about the
> toolbar setup in QGIS.
> My screen size is 1024x768 - on the small end these days, but pretty
> common.  I have toolbars across the top and down the right side, and I 
> still don't have room for all of the buttons.  My map canvas is roughly 620x530.
> I started thinking and comparing this to the OpenOffice.org interface, 
> which manages to fit even more buttons and information, while leaving a larger
> area for work.
> There are several places the GUI could save some space:
> -Toolbar and menu size.  OOo fits the menu and 2 toolbars into 85 pixels,
> where QGIS takes 105.

Toolbar icons were smaller in Qt 3. Sizing didn't work in Qt 4.0. Should 
be examined again for Qt 4.2.

> -Legend/Layer list.  It appears that its minimum size has been increased
> from v0.8.

My guess is that it's an unintentional change; perhaps only the default 
width should have increased.

> -Canvas.  It appears that the canvas is on a tabbed panel, with the tab
> title of "Map View".  Are there other views that were intended to go here?
> The way it currently is, removing the tabs and reducing the padding could
> save ~50px.

There might have been or still is a plan but it hasn't happened in two 
years. Based upon current issues, I don't think it will happen soon. I'm 
in favor of removing the tab until there is an actual use for it.

> -Bottom information.  OOo's bottom info bar is 22 px tall, while QGIS's is
> 48 px when you count the surrounding padding space.

This should be adjusted.

> I don't have much experience with QT GUI design, but it seems like these
> would be moderately simple changes which would greatly improve the 
> usability of the interface.
> How difficult would this really be to implement?  Is this worth doing?  I
> would be willing to work on this if there's interest and it isn't too hard.

I think it's worth doing. The difficulty is understanding GUI platform 
differences.

At present, QGIS supports 4 GUIs: GNOME, KDE, Mac and Win. Each of these 
requires different sizes for the same element in order to look good on 
that GUI.

To do a portable Qt GUI, absolute sizes need to be used both rarely and 
carefully in UI files. In order to look good on multiple platforms, the 
layout manager needs great freedom for choosing the right size.

Many QGIS GUI issues are caused by hard sizes where there should be 
autosizing or custom platform-specific differing sizes.

Qt3 created better compact layouts that Qt4. Some of the large items, 
especially toolbuttons, were a byproduct of the Qt 3 to 4 conversion. 
Some Qt UI functionality disappeared or just didn't work between Qt4.0 
and Qt4.2. Some parts of the QGIS UI should be revised again using more 
complete Qt4.2 functionality.

Qt Designer makes it very easy without realizing it to add 
platform-specific constants to UI files that are not good for other 
platforms.

QGIS developers love to "optimize" layouts for "their" platform. This 
introduces unpleasing sizes on other platforms.

Other applications solve this in several ways:

- Where staff and/or funding are not limited, projects tend to have 
duplicate UI files optimized for each platform.

- Where developer availability is limited, projects use common UI files 
and accept less compact layouts.

- An intermediate approach, which I think QGIS should use, is to use 
common GUI files and put all size "optimizations" into C++ code which 
runs only on certain platforms.

I encourage you to investigate all this. If you can't work directly on 
all platforms, however, part of the work is to start discussions and 
enlist some partners so that the layout is improved for all platforms.

Tom

From marco.hugentobler at karto.baug.ethz.ch  Tue May 22 01:45:47 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:07 2008
Subject: !SPAM: [Qgis-developer] Custom fill styles update
In-Reply-To: <255b57430705210731j3b2e45c2r91804c856a588336@mail.gmail.com>
References: <255b57430705210731j3b2e45c2r91804c856a588336@mail.gmail.com>
Message-ID: <200705220745.47487.marco.hugentobler@karto.baug.ethz.ch>

Hi Steven,

That looks quite promising. I like the solution with the browse button and the 
image preview.

> At this point, it doesn't work at all with the unique value
> renderer/dialog.  It sets the texture to customTexture, but doesn't set the
> image correctly.  It also is unable to correctly load the images from the
> unique value renderer into the GUI.  I hope to work on that in the next few
> days, but I can't promise anything for sure.

It seems that you are nearly finished. Could you provide a patch when these 
issues are resolved?

cheers,
Marco

On Monday 21 May 2007 16:31:25 Steven Bell wrote:
> Just a quick update on where I am with the custom fill styles.
> I have been able to partially implement custom fill styles.  Look here to
> see it in action:
> http://img523.imageshack.us/my.php?image=customfillra3.png It is able to
> save and load the custom styles with the project file, and previews the
> fill image on the button when an image is selected.
>
> At this point, it doesn't work at all with the unique value
> renderer/dialog.  It sets the texture to customTexture, but doesn't set the
> image correctly.  It also is unable to correctly load the images from the
> unique value renderer into the GUI.  I hope to work on that in the next few
> days, but I can't promise anything for sure.
>
> Steven



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
marco.hugentobler@karto.baug.ethz.ch

From marco.hugentobler at karto.baug.ethz.ch  Tue May 22 02:19:06 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Custom fill styles update
In-Reply-To: <4651AF43.1080903@faunalia.it>
References: <255b57430705210731j3b2e45c2r91804c856a588336@mail.gmail.com>
	<4651AF43.1080903@faunalia.it>
Message-ID: <200705220819.06964.marco.hugentobler@karto.baug.ethz.ch>

Hi Paolo,

I'm also in favour of a 0.9 version soon.
Regarding development in branches: This is already done for changes with big 
impact on qgis code, e.g. if important interfaces like vector provider or 
layer are changed. I'm not sure if it makes sense to create a branch for 
every small addition. But it certainly needs to be discussed in which cases a 
new branch should be created and what the procedure is for merging a branch 
back (e.g. reviewing by other developers, testers making sure everything 
still works, ....).

cheers,
Marco  

On Monday 21 May 2007 16:40:03 Paolo Cavallini wrote:
> Great thing.
> This raises up a point: what are the plans for next development? I
> believe we should start thinking at stabilizing a new 0.9 version
> (having workable python bindings will wet many mouths).
> Tim recently suggested to do dev only in branches, so as to have a
> stable trunk to be released more regularly. Is this feasible in the near
> future?
> All the best.
> pc
>
> Steven Bell ha scritto:
> > Just a quick update on where I am with the custom fill styles.
> > I have been able to partially implement custom fill styles.  Look here
> > to see it in action:
> > http://img523.imageshack.us/my.php?image=customfillra3.png
> > It is able to save and load the custom styles with the project file, and
> > previews the fill image on the button when an image is selected.
> >
> > At this point, it doesn't work at all with the unique value
> > renderer/dialog.  It sets the texture to customTexture, but doesn't set
> > the image correctly.  It also is unable to correctly load the images
> > from the unique value renderer into the GUI.  I hope to work on that in
> > the next few days, but I can't promise anything for sure.
> >
> > Steven



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
marco.hugentobler@karto.baug.ethz.ch

From sebastian.schmitz at wheregroup.com  Tue May 22 04:12:00 2007
From: sebastian.schmitz at wheregroup.com (Sebastian Schmitz)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Development needed: Georeferencer plugin
Message-ID: <4652A5D0.9000809@wheregroup.com>

Hi,

for a LiveCD developed for one of the German federal states, that will 
be distributed to a fair number of potential QGISusers, we would like to 
have a little enhancement to the QGIS georeferencer plugin. We can fund 
this development. We that is WhereGroup, a german service provider 
around FOSS4G.

We use QGIS 0.8.0 on KNOPPIX version 5.1.1. That is a live linux 
distribution based on Debian. Here is what we need and there is some 
urgency related to the issue:
In the georeferencer plugin dialogue, instead of having a pop up box to 
type in coordinates users want to use the mouse to pick the coordinates 
from the main map window and attribute them to the same point in the not 
yet georeferenced image. That is all.

Anybody interested, please contact me!

Cheers

Sebastian

 

---------------------------------------
WhereGroup GmbH & Co. KG
sebastian.schmitz@wheregroup.com


From oleg at crista.uni-wuppertal.de  Tue May 22 05:33:50 2007
From: oleg at crista.uni-wuppertal.de (Oleg Gusev)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Development needed: Georeferencer plugin
In-Reply-To: <4652A5D0.9000809@wheregroup.com>
References: <4652A5D0.9000809@wheregroup.com>
Message-ID: <200705221133.50821.oleg@crista.uni-wuppertal.de>

Am Dienstag, 22. Mai 2007 10:12 schrieb Sebastian Schmitz:
>
> In the georeferencer plugin dialogue, instead of having a pop up box to
> type in coordinates users want to use the mouse to pick the coordinates
> from the main map window and attribute them to the same point in the not
> yet georeferenced image.

Hi Sebastian,

 i've already done it in a quick-and-dirty way by hooking the 
 right mouse click on a canvas widget. 
 Maybe somebody can do it better by creating 
 a MapTool instead. The georeferencer widget needs a lot 
 of modifications to be usable anyway.
 SVN diff is attached.

 Oleg.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: georef.diff
Type: text/x-diff
Size: 2382 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070522/2ca2fd61/georef.bin
From sebastian.schmitz at wheregroup.com  Tue May 22 06:19:31 2007
From: sebastian.schmitz at wheregroup.com (Sebastian Schmitz)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Development needed: Georeferencer plugin
In-Reply-To: <200705221133.50821.oleg@crista.uni-wuppertal.de>
References: <4652A5D0.9000809@wheregroup.com>
	<200705221133.50821.oleg@crista.uni-wuppertal.de>
Message-ID: <4652C3B3.4020104@wheregroup.com>

Hi,

is that based on latest SVN or based on qgis 0.8 release?
Cheers

Sebastian

Oleg Gusev schrieb:
> Am Dienstag, 22. Mai 2007 10:12 schrieb Sebastian Schmitz:
>   
>> In the georeferencer plugin dialogue, instead of having a pop up box to
>> type in coordinates users want to use the mouse to pick the coordinates
>> from the main map window and attribute them to the same point in the not
>> yet georeferenced image.
>>     
>
> Hi Sebastian,
>
>  i've already done it in a quick-and-dirty way by hooking the 
>  right mouse click on a canvas widget. 
>  Maybe somebody can do it better by creating 
>  a MapTool instead. The georeferencer widget needs a lot 
>  of modifications to be usable anyway.
>  SVN diff is attached.
>
>  Oleg.
>   
> ------------------------------------------------------------------------
>
> Index: src/plugins/georeferencer/mapcoordsdialog.cpp
> ===================================================================
> --- src/plugins/georeferencer/mapcoordsdialog.cpp	(Revision 6894)
> +++ src/plugins/georeferencer/mapcoordsdialog.cpp	(Arbeitskopie)
> @@ -32,3 +32,9 @@
>  {
>    reject();
>  }
> +
> +void MapCoordsDialog::setXY(QgsPoint & xy)
> +{
> + leXCoord->insert(QString::number(xy.x(),'f',7));
> + leYCoord->insert(QString::number(xy.y(),'f',7));
> +}
> Index: src/plugins/georeferencer/mapcoordsdialog.h
> ===================================================================
> --- src/plugins/georeferencer/mapcoordsdialog.h	(Revision 6894)
> +++ src/plugins/georeferencer/mapcoordsdialog.h	(Arbeitskopie)
> @@ -30,6 +30,8 @@
>    void on_buttonOk_clicked();
>    void on_buttonCancel_clicked(); 
>    
> +  void setXY(QgsPoint &);
> +  
>  private:
>    
>    QgsPoint mPixelCoords;
> Index: src/plugins/georeferencer/qgspointdialog.cpp
> ===================================================================
> --- src/plugins/georeferencer/qgspointdialog.cpp	(Revision 6894)
> +++ src/plugins/georeferencer/qgspointdialog.cpp	(Arbeitskopie)
> @@ -443,6 +446,7 @@
>    MapCoordsDialog* mcd = new MapCoordsDialog(pixelCoords, this);
>    connect(mcd, SIGNAL(pointAdded(const QgsPoint&, const QgsPoint&)),
>            this, SLOT(addPoint(const QgsPoint&, const QgsPoint&)));
> +  connect(mIface->getMapCanvas(),SIGNAL(sendXY(QgsPoint&)),mcd,SLOT(setXY(QgsPoint&)));
>    mcd->show();
>  }
>  
> Index: src/gui/qgsmapcanvas.cpp
> ===================================================================
> --- src/gui/qgsmapcanvas.cpp	(Revision 6894)
> +++ src/gui/qgsmapcanvas.cpp	(Arbeitskopie)
> @@ -636,6 +636,13 @@
>    mCanvasProperties->mouseButtonDown = true;
>    mCanvasProperties->rubberStartPoint = e->pos();
>  
> +  if (e->button() ==  Qt::RightButton )
> +  {
> +    QPoint xy = e->pos();
> +    QgsPoint coord = getCoordinateTransform()->toMapCoordinates(xy);
> +    emit sendXY(coord);
> +  }
> +        
>  } // mousePressEvent
>  
>  
> Index: src/gui/qgsmapcanvas.h
> ===================================================================
> --- src/gui/qgsmapcanvas.h	(Revision 6894)
> +++ src/gui/qgsmapcanvas.h	(Arbeitskopie)
> @@ -275,6 +275,7 @@
>      void setProgress(int,int);
>      /** emits current mouse position */
>      void xyCoordinates(QgsPoint & p);
> +    void sendXY(QgsPoint & p);
>  
>      //! Emitted when the scale of the map changes
>      void scaleChanged(double);
>   
> ------------------------------------------------------------------------
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>   

-- 
---------------------------------------
WhereGroup GmbH & Co. KG
Siemensstra?e 8
53121 Bonn
-------------------------------
Fon: +49 (0)228 / 90 90 38 - 24
Fax: +49 (0)228 / 90 90 38 - 11
-------------------------------
mailto:sebastian.schmitz@wheregroup.com
http://www.wheregroup.com
-------------------------------
Komplement?rin:
WhereGroup Verwaltungs GmbH
vertreten durch:
Arnulf Christl, Olaf Knopp, Peter Stamm
Amtsgericht Bonn, HRB 9885
---------------------------------------



From oleg at crista.uni-wuppertal.de  Tue May 22 07:20:32 2007
From: oleg at crista.uni-wuppertal.de (Oleg Gusev)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Development needed: Georeferencer plugin
In-Reply-To: <4652C3B3.4020104@wheregroup.com>
References: <4652A5D0.9000809@wheregroup.com>
	<200705221133.50821.oleg@crista.uni-wuppertal.de>
	<4652C3B3.4020104@wheregroup.com>
Message-ID: <200705221320.33119.oleg@crista.uni-wuppertal.de>

Am Dienstag, 22. Mai 2007 12:19 schrieben Sie:
> Hi,
>
> is that based on latest SVN or based on qgis 0.8 release?
>
Here is the diff to the latest SVN, and i have checked that it works.

 Oleg.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: georef1.diff
Type: text/x-diff
Size: 3033 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070522/bc5efaf3/georef1.bin
From tim at linfiniti.com  Tue May 22 08:16:18 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Development needed: Georeferencer plugin
In-Reply-To: <200705221320.33119.oleg@crista.uni-wuppertal.de>
References: <4652A5D0.9000809@wheregroup.com>
	<200705221133.50821.oleg@crista.uni-wuppertal.de>
	<4652C3B3.4020104@wheregroup.com>
	<200705221320.33119.oleg@crista.uni-wuppertal.de>
Message-ID: <492B8C56-388F-49E8-AE6F-CC3EC156948A@linfiniti.com>

Hi

I patched this into HEAD. 0.8 branch is in feature freeze - I can add  
it after 0.8.1 release.

Many thanks

Regards

Tim

Em 22/05/2007, ?s 08:20, Oleg Gusev escreveu:

> Am Dienstag, 22. Mai 2007 12:19 schrieben Sie:
>> Hi,
>>
>> is that based on latest SVN or based on qgis 0.8 release?
>>
> Here is the diff to the latest SVN, and i have checked that it works.
>
>  Oleg.
> <georef1.diff>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer


From Horst.Duester at bd.so.ch  Tue May 22 09:34:41 2007
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Python bindings not available
Message-ID: <H00002eb011c7224.1179840881.srsofaioi6145.ktso.ch@MHS>

I'm trying to use the Python bindings of QGIS 0.9 but I do have some
problems to run Python with QGIS. I configure the Python bindings with
ccmake. All looks fine. cmake says:

...
-- Python libraries found
-- Python bindings enabled
...

All looks succesful anyway. But when I start QGIS a window appears with
the Message: 

 

I'm a little bit helpless how I can load the Python bindings into QGIS.

I'll appreciate any hint.

Regrads
Horst


------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070522/ef46e7d5/attachment.html
From Horst.Duester at bd.so.ch  Tue May 22 09:51:29 2007
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Python bindings not available
Message-ID: <H00002eb011c722f.1179841888.srsofaioi6145.ktso.ch@MHS>

Skipped content of type multipart/alternative-------------- next part --------------
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.qgis.org
http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: error.png
Type: application/octet-stream
Size: 7926 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070522/7f0b4edb/error.obj
From wonder.sk at gmail.com  Tue May 22 09:52:43 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Python bindings not available
In-Reply-To: <H00002eb011c7224.1179840881.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb011c7224.1179840881.srsofaioi6145.ktso.ch@MHS>
Message-ID: <e8e7199c0705220652t7b48c4bdq1436fa92b6f9de37@mail.gmail.com>

On 5/22/07, D?ster Horst <Horst.Duester@bd.so.ch> wrote:
> [...]
>
> All looks succesful anyway. But when I start QGIS a window appears with the
> Message:
>
> I'm a little bit helpless how I can load the Python bindings into QGIS.

Hi,
what message do you get? I couldn't find it in your mail :)

Martin

From perrygeo at gmail.com  Tue May 22 11:56:18 2007
From: perrygeo at gmail.com (Matthew Perry)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Python bindings not available
In-Reply-To: <H00002eb011c722f.1179841888.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb011c722f.1179841888.srsofaioi6145.ktso.ch@MHS>
Message-ID: <5383fa5e0705220856k168f2f41w4c3fe3bf2aa6ba65@mail.gmail.com>

On 5/22/07, D?ster Horst <Horst.Duester@bd.so.ch> wrote:
> I'm trying to use the Python bindings of QGIS 0.9 but I do have some
> problems to run Python with QGIS. I configure the Python bindings with
> ccmake. All looks fine. cmake says:
>
> ...
>  -- Python libraries found
>  -- Python bindings enabled
>  ...
>
> All looks succesful anyway. But when I start QGIS a window appears with the
> Message:
>
> "Couldn't load QGIS bindings. Python support will be disabled"
>



Start up python and try to import the qgis module (eg "from qgis
import core"). Do you get any errors?

-- 
Matthew T. Perry
http://www.perrygeo.net

"You never change things by fighting the existing reality.
To change something, build a new model that makes
the existing model obsolete" - R. Buckminster Fuller

From mcoletti at lychnobite.org  Tue May 22 15:34:16 2007
From: mcoletti at lychnobite.org (Mark Coletti)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] CMake error on HEAD
Message-ID: <20070522193416.GF23741@lychnobite.org>

I get the following cmake error on a SuSE 10.1 machine:

 CMake Error: This project requires some variables to be set,
 and cmake can not find them.
 Please set the following variables:
 QT_FONTCONFIG_LIBRARY (ADVANCED)
 QT_PNG_LIBRARY (ADVANCED)
 QT_X11_m_LIBRARY
 QT_ZLIB_LIBRARY (ADVANCED)



I'm running cmake 2.4.6.

The Qt4 is installed from rpm, btw.

Cheers,

Mark

From wonder.sk at gmail.com  Tue May 22 16:41:52 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Development needed: Georeferencer plugin
In-Reply-To: <492B8C56-388F-49E8-AE6F-CC3EC156948A@linfiniti.com>
References: <4652A5D0.9000809@wheregroup.com>
	<200705221133.50821.oleg@crista.uni-wuppertal.de>
	<4652C3B3.4020104@wheregroup.com>
	<200705221320.33119.oleg@crista.uni-wuppertal.de>
	<492B8C56-388F-49E8-AE6F-CC3EC156948A@linfiniti.com>
Message-ID: <e8e7199c0705221341i55abcc04y69f871b2874c61ed@mail.gmail.com>

Hi Tim,

I'm not much in favour of applying that patch. As Oleg writes, it's
just a quick hack. While it makes possible what has been asked for,
it's not a definitive solution - definitely should be done with a map
tool.

What's wrong with the patch:
- it pollutes canvas API with an additional signal (not speaking about
the need to add class changes to python bindings)
- it generically uses right click - might interfere with other map tools
- no user and developer documentation (who besides few people on
qgis-dev list will know about this 'feature' ?)

These are my thoughts - hacks shouldn't go to svn, at least not to the
public API. And since canvas is part of public API and we should twice
when we change it.

Regards
Martin


On 5/22/07, Tim Sutton <tim@linfiniti.com> wrote:
> Hi
>
> I patched this into HEAD. 0.8 branch is in feature freeze - I can add
> it after 0.8.1 release.
>
> Many thanks
>
> Regards
>
> Tim
>
> Em 22/05/2007, ?s 08:20, Oleg Gusev escreveu:
>
> > Am Dienstag, 22. Mai 2007 12:19 schrieben Sie:
> >> Hi,
> >>
> >> is that based on latest SVN or based on qgis 0.8 release?
> >>
> > Here is the diff to the latest SVN, and i have checked that it works.
> >
> >  Oleg.
> > <georef1.diff>
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From wonder.sk at gmail.com  Tue May 22 16:51:00 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] CMake error on HEAD
In-Reply-To: <20070522193416.GF23741@lychnobite.org>
References: <20070522193416.GF23741@lychnobite.org>
Message-ID: <e8e7199c0705221351k2ae9230au271cb556f449b7a9@mail.gmail.com>

Hi,

I haven't seen this problem yet. Will it help if you set the libraries
manually? Are they at some unusual place? CMake's FindQt4 module
searches for them with FIND_LIBRARY comand which should be able to
find them in standard paths.

Martin

On 5/22/07, Mark Coletti <mcoletti@lychnobite.org> wrote:
> I get the following cmake error on a SuSE 10.1 machine:
>
>  CMake Error: This project requires some variables to be set,
>  and cmake can not find them.
>  Please set the following variables:
>  QT_FONTCONFIG_LIBRARY (ADVANCED)
>  QT_PNG_LIBRARY (ADVANCED)
>  QT_X11_m_LIBRARY
>  QT_ZLIB_LIBRARY (ADVANCED)
>
>
>
> I'm running cmake 2.4.6.
>
> The Qt4 is installed from rpm, btw.
>
> Cheers,
>
> Mark
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From wonder.sk at gmail.com  Tue May 22 17:25:29 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] CMake error on HEAD
In-Reply-To: <20070522211646.GG23741@lychnobite.org>
References: <20070522193416.GF23741@lychnobite.org>
	<e8e7199c0705221351k2ae9230au271cb556f449b7a9@mail.gmail.com>
	<20070522211646.GG23741@lychnobite.org>
Message-ID: <e8e7199c0705221425n154137b5qcabdfc781823ea76@mail.gmail.com>

On 5/22/07, Mark Coletti <mcoletti@lychnobite.org> wrote:
> On Tue, May 22, 2007 at 10:51:00PM +0200, Martin Dobias wrote:
>
> > I haven't seen this problem yet. Will it help if you set the libraries
> > manually? Are they at some unusual place? CMake's FindQt4 module
> > searches for them with FIND_LIBRARY comand which should be able to
> > find them in standard paths.
>
>   What's further odd is that I just went ahead and installed Qt4
>   manually and cmake still gave same errors.
>
>   I'll be happy to manually set them ... if I knew what to set them to.  :-\

I can only help with my values:
QT_FONTCONFIG_LIBRARY            /usr/lib/libfontconfig.so
QT_PNG_LIBRARY                   /usr/lib/libpng.so
QT_X11_m_LIBRARY                 /usr/lib/libm.so
QT_ZLIB_LIBRARY                  /usr/lib/libz.so

Martin

From tim at linfiniti.com  Tue May 22 21:03:16 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Development needed: Georeferencer plugin
In-Reply-To: <e8e7199c0705221341i55abcc04y69f871b2874c61ed@mail.gmail.com>
References: <4652A5D0.9000809@wheregroup.com>
	<200705221133.50821.oleg@crista.uni-wuppertal.de>
	<4652C3B3.4020104@wheregroup.com>
	<200705221320.33119.oleg@crista.uni-wuppertal.de>
	<492B8C56-388F-49E8-AE6F-CC3EC156948A@linfiniti.com>
	<e8e7199c0705221341i55abcc04y69f871b2874c61ed@mail.gmail.com>
Message-ID: <78194462-6C3D-4D1E-B299-62DE9B23A65A@linfiniti.com>

Hi

Agreed Ill roll it back.

Regards

Tim
Em 22/05/2007, ?s 17:41, Martin Dobias escreveu:

> Hi Tim,
>
> I'm not much in favour of applying that patch. As Oleg writes, it's
> just a quick hack. While it makes possible what has been asked for,
> it's not a definitive solution - definitely should be done with a map
> tool.
>
> What's wrong with the patch:
> - it pollutes canvas API with an additional signal (not speaking about
> the need to add class changes to python bindings)
> - it generically uses right click - might interfere with other map  
> tools
> - no user and developer documentation (who besides few people on
> qgis-dev list will know about this 'feature' ?)
>
> These are my thoughts - hacks shouldn't go to svn, at least not to the
> public API. And since canvas is part of public API and we should twice
> when we change it.
>
> Regards
> Martin
>
>
> On 5/22/07, Tim Sutton <tim@linfiniti.com> wrote:
>> Hi
>>
>> I patched this into HEAD. 0.8 branch is in feature freeze - I can add
>> it after 0.8.1 release.
>>
>> Many thanks
>>
>> Regards
>>
>> Tim
>>
>> Em 22/05/2007, ?s 08:20, Oleg Gusev escreveu:
>>
>> > Am Dienstag, 22. Mai 2007 12:19 schrieben Sie:
>> >> Hi,
>> >>
>> >> is that based on latest SVN or based on qgis 0.8 release?
>> >>
>> > Here is the diff to the latest SVN, and i have checked that it  
>> works.
>> >
>> >  Oleg.
>> > <georef1.diff>
>> > _______________________________________________
>> > Qgis-developer mailing list
>> > Qgis-developer@lists.qgis.org
>> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.qgis.org
>> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>>


From Horst.Duester at bd.so.ch  Wed May 23 02:13:25 2007
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Wed Feb  6 23:25:07 2008
Subject: AW: Re: [Qgis-developer] Python bindings not available
Message-ID: <H00002eb011d0631.1179900804.srsofaioi6145.ktso.ch@MHS>

Hallo Matthew

Python is able to load qgis.core module see below:

Python 2.5 (r25:51908, Feb 19 2007, 10:39:19)
[GCC 3.4.4 20050721 (Red Hat 3.4.4-2)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> from qgis import core
>>>


Horst

-----Urspr?ngliche Nachricht-----
Von: Matthew Perry [mailto:perrygeo@gmail.com]
Gesendet am: Dienstag, 22. Mai 2007 16:56
An: D?ster Horst
Cc: qgis-developer
Betreff: Re: [Qgis-developer] Python bindings not available

On 5/22/07, D?ster Horst <Horst.Duester@bd.so.ch> wrote:
> I'm trying to use the Python bindings of QGIS 0.9 but I do have some
> problems to run Python with QGIS. I configure the Python bindings with
> ccmake. All looks fine. cmake says:
>
> ...
>  -- Python libraries found
>  -- Python bindings enabled
>  ...
>
> All looks succesful anyway. But when I start QGIS a window appears
with the
> Message:
>
> "Couldn't load QGIS bindings. Python support will be disabled"
>



Start up python and try to import the qgis module (eg "from qgis
import core"). Do you get any errors?

-- 
Matthew T. Perry
http://www.perrygeo.net

"You never change things by fighting the existing reality.
To change something, build a new model that makes
the existing model obsolete" - R. Buckminster Fuller

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070523/a4039ad0/attachment.html
From oleg at crista.uni-wuppertal.de  Wed May 23 15:41:02 2007
From: oleg at crista.uni-wuppertal.de (Oleg Gusev)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Development needed: Georeferencer plugin
In-Reply-To: <e8e7199c0705221341i55abcc04y69f871b2874c61ed@mail.gmail.com>
References: <4652A5D0.9000809@wheregroup.com>
	<492B8C56-388F-49E8-AE6F-CC3EC156948A@linfiniti.com>
	<e8e7199c0705221341i55abcc04y69f871b2874c61ed@mail.gmail.com>
Message-ID: <200705232141.02873.oleg@crista.uni-wuppertal.de>

Am Dienstag, 22. Mai 2007 22:41 schrieb Martin Dobias:
>
> While it makes possible what has been asked for,
> it's not a definitive solution - definitely should be done with a map
> tool.
>

 Hi Martin,

  i posted the patch to show that it's very easy to add the 'click'
  support to georeferencer plugin. For the full support a
  maptool icon is needed together with some user documentation.

 Oleg.

From wonder.sk at gmail.com  Wed May 23 16:02:39 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Development needed: Georeferencer plugin
In-Reply-To: <200705232141.02873.oleg@crista.uni-wuppertal.de>
References: <4652A5D0.9000809@wheregroup.com>
	<492B8C56-388F-49E8-AE6F-CC3EC156948A@linfiniti.com>
	<e8e7199c0705221341i55abcc04y69f871b2874c61ed@mail.gmail.com>
	<200705232141.02873.oleg@crista.uni-wuppertal.de>
Message-ID: <e8e7199c0705231302h1281331dl1cd8b0dae0eb169c@mail.gmail.com>

On 5/23/07, Oleg Gusev <oleg@crista.uni-wuppertal.de> wrote:
> Am Dienstag, 22. Mai 2007 22:41 schrieb Martin Dobias:
> >
> > While it makes possible what has been asked for,
> > it's not a definitive solution - definitely should be done with a map
> > tool.
> >
>
>  Hi Martin,
>
>   i posted the patch to show that it's very easy to add the 'click'
>   support to georeferencer plugin. For the full support a
>   maptool icon is needed together with some user documentation.

Hi Oleg,

yes I understand the purpose - it serves well to show that this
functionality is not hard to implement and my criticism was not
against the patch - it was against commiting the patch as-is to trunk.

How a definitive solution should work:
I suggest creating a generic map tool (that would go to GUI library),
that tool will emit a signal with coordinates on left / right click.
This way georeferencer can create it and temporarily set it as an
active tool, let the user click on canvas and then make the original
tool active again.

Regards
Martin

From cavallini at faunalia.it  Fri May 25 02:46:35 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] crash with GRASS vectors
Message-ID: <4656864B.3040206@faunalia.it>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi all.
Self-compiled QGIS from trunk systematically crashes when clicking on
the "add grass vector" button:
QgsGrass::vectors()
error_routine (fatal = 1): Cannot open existing vector
<pi_zrv_1999@PERMANENT> on level [2]
Before even asking which vector. Looks like a leftover from previous
install, but I do not know what. I tried removing ~/.qgis, to no avail.
Any hint will be appreciated.
All the best.
pc
- --
Paolo Cavallini
http://www.faunalia.it/pc
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGVoZL/NedwLUzIr4RAlDxAKCWuBGlyHgMzXzkJowm8QkGReymWACeJY6o
4RXKaKVU7pRabvuviP6rSrE=
=ycsr
-----END PGP SIGNATURE-----

From stephan.holl at intevation.de  Fri May 25 04:26:22 2007
From: stephan.holl at intevation.de (Stephan Holl)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] crash with GRASS vectors
In-Reply-To: <4656864B.3040206@faunalia.it>
References: <4656864B.3040206@faunalia.it>
Message-ID: <20070525102622.3590c6a0@bambule.gdf-hannover.de>

Hello Paolo,

On Fri, 25 May 2007 08:46:35 +0200 Paolo Cavallini
<cavallini@faunalia.it> wrote:

> Self-compiled QGIS from trunk systematically crashes when clicking on
> the "add grass vector" button:
> QgsGrass::vectors()
> error_routine (fatal = 1): Cannot open existing vector
> <pi_zrv_1999@PERMANENT> on level [2]
> Before even asking which vector. Looks like a leftover from previous
> install, but I do not know what. I tried removing ~/.qgis, to no
> avail. Any hint will be appreciated.
> All the best.

Seems like the GRASS-dataset is somewhat corrupt. Try to repait it
using v.build [options] to repair topology.

HTH

	Stephan


-- 
Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner

From cavallini at faunalia.it  Fri May 25 04:56:22 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] crash with GRASS vectors
In-Reply-To: <20070525102622.3590c6a0@bambule.gdf-hannover.de>
References: <4656864B.3040206@faunalia.it>
	<20070525102622.3590c6a0@bambule.gdf-hannover.de>
Message-ID: <4656A4B6.2090405@faunalia.it>

what is strange is that it crashes *before* opening a vector (I do not
understand why qgis tries to open that dataset then).
if I open a mapset first, I can open the dataset without problems.
Anyway, even in case of data corruption, qgis should not crash like this.
pc

Stephan Holl ha scritto:

> Seems like the GRASS-dataset is somewhat corrupt. Try to repait it
> using v.build [options] to repair topology.

-- 
Paolo Cavallini
http://www.faunalia.it/pc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070525/d7597f8e/signature.bin
From sherman at mrcc.com  Fri May 25 16:32:46 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS Developer meeting
Message-ID: <B84D0D28-D1B5-460F-BD44-66FA334ABB7B@mrcc.com>

There will be a developer meeting on #qgis-meeting on  
irc.freenode.net Friday June 1 at 1500UTC. Details on the meeting  
time can be found at:
http://timeanddate.com/worldclock/meetingdetails.html? 
year=2007&month=6&day=1&hour=15&min=0&sec=0&p1=456&p2=268&p3=43&p4=18

An agenda for the meeting can be found at:
  http://wiki.qgis.org/qgiswiki/Meeting_Jun_1%2C_2007

If you have wiki access you can add items to the topics for  
discussion. Be aware these are subject to editing and prioritization.  
All topics may not be able to be covered in the meeting.

Everyone is welcome to attend.

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From morb at beagle.com.au  Tue May 22 07:03:06 2007
From: morb at beagle.com.au (Brendan Morley)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QgsMapToolSelect in src/app directory
Message-ID: <1179831786.7766.2.camel@localhost.localdomain>

Quick question,

Is there a particular reason why the QgsMapToolSelect class is in
src/app and not src/gui?


Thanks,
Brendan


From wonder.sk at gmail.com  Sat May 26 05:33:26 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QgsMapToolSelect in src/app directory
In-Reply-To: <1179831786.7766.2.camel@localhost.localdomain>
References: <1179831786.7766.2.camel@localhost.localdomain>
Message-ID: <e8e7199c0705260233y2482d488hc0a58e8118bfa35b@mail.gmail.com>

Hi Brendan,

looking at the code I see no reason why it couldn't be moved to GUI
library. But when moving it there, also python wrapper should be
added.

Bye
Martin

On 5/22/07, Brendan Morley <morb@beagle.com.au> wrote:
> Quick question,
>
> Is there a particular reason why the QgsMapToolSelect class is in
> src/app and not src/gui?
>
>
> Thanks,
> Brendan
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From silfreed at silfreed.net  Sat May 26 20:40:06 2007
From: silfreed at silfreed.net (Douglas E. Warner)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Should test_export.py be executable
Message-ID: <200705262040.07146.silfreed@silfreed.net>

I'm trying to get qgis packaged for inclusion in Fedora and have a question 
about the test_export.py script (tools/mapserver_export/test_export.py).

Currently this script has a shebang (#!/usr/bin/python) but is installed as 
executable.  Should it be set executable, or should the script have the 
shebang line removed?

You can follow my progress with getting this package into Fedora here:
https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=241403

-Doug
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070526/f01ea289/attachment.bin
From silfreed at silfreed.net  Sat May 26 21:15:01 2007
From: silfreed at silfreed.net (Douglas E. Warner)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Executable source files
Message-ID: <200705262115.01716.silfreed@silfreed.net>

The following source files are executable, but probably shouldn't be:
src/legend/qgslegend.cpp
src/legend/qgslegend.h

-Doug
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070526/7e77fa90/attachment.bin
From sherman at mrcc.com  Sat May 26 21:31:26 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Should test_export.py be executable
In-Reply-To: <200705262040.07146.silfreed@silfreed.net>
References: <200705262040.07146.silfreed@silfreed.net>
Message-ID: <C3F1DC3F-9E35-4F1B-AC60-08C44EF79681@mrcc.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


On May 26, 2007, at 4:40 PM, Douglas E. Warner wrote:

> I'm trying to get qgis packaged for inclusion in Fedora and have a  
> question
> about the test_export.py script (tools/mapserver_export/ 
> test_export.py).
>
> Currently this script has a shebang (#!/usr/bin/python) but is  
> installed as
> executable.  Should it be set executable, or should the script have  
> the
> shebang line removed?

That script is provided as an example and isn't necessary for proper  
functioning of QGIS or the mapserver export. I guess it should be set  
as executable though...

- -gary

>
> You can follow my progress with getting this package into Fedora here:
> https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=241403
>
> -Doug
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.7 (Darwin)

iD8DBQFGWN9u1zKuzV6goTgRAru9AJ9j2nUn6UX12oou5VG898TH9cAZtgCdH6Tv
he3w4vjT/mpJfb4hrlhYNZk=
=8x3D
-----END PGP SIGNATURE-----

From sherman at mrcc.com  Sat May 26 21:33:20 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Executable source files
In-Reply-To: <200705262115.01716.silfreed@silfreed.net>
References: <200705262115.01716.silfreed@silfreed.net>
Message-ID: <2B2E345C-ACA3-4E0D-8D44-FAA293C0D2A9@mrcc.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


On May 26, 2007, at 5:15 PM, Douglas E. Warner wrote:

> The following source files are executable, but probably shouldn't be:
> src/legend/qgslegend.cpp
> src/legend/qgslegend.h
>
Right - source files shouldn't be executable...

- -gary

> -Doug
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.7 (Darwin)

iD8DBQFGWN/g1zKuzV6goTgRAv6tAJ45WoiLq+0qb2MlX6rt7QYQ1PEEOwCaAwYw
hnOr9CSfZ34rlFv69sK5I4c=
=nKqj
-----END PGP SIGNATURE-----

From b.rowlingson at lancaster.ac.uk  Tue May 29 09:50:06 2007
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] attribute map for renderer
Message-ID: <465C2F8E.3060302@lancaster.ac.uk>

Hi,
  I'm trying to write a renderer for vector data. In python.

  I want to colour features according to the percentage that one 
attribute is of another attribute. I can do it by making sure there's a 
percentage attribute in the layer but that's a bit of a faff.

  So I want to colour according to the ratio of two attributes. But in 
the renderFeature method of my renderer class the feature attribute map 
doesn't have all the attributes. Sometimes it has none, I've also seen 
it with just one. Here's the code:

     def renderFeature(self, p, f, img, selected, widthScale):
         am = f.attributeMap()
         print "attribute map",am

Now it may be because I'm subclassing from QgsContinuousColorRenderer, 
and so the renderer is only being fed the attribute that that method 
would need, but I can't see how that is controlled.

The vector layer draw code does this:

     QgsAttributeList attributes = mRenderer->classificationAttributes();
     mDataProvider->select(attributes, viewExtent);

but the classificationAttributes method in my python class isn't getting 
called at all! Weird?

  This is all on a 0.9 checkout from this morning. Any ideas?

Barry

From b.rowlingson at lancaster.ac.uk  Tue May 29 10:05:31 2007
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] attribute map for renderer
In-Reply-To: <465C2F8E.3060302@lancaster.ac.uk>
References: <465C2F8E.3060302@lancaster.ac.uk>
Message-ID: <465C332B.1070305@lancaster.ac.uk>

Barry Rowlingson wrote:

>  So I want to colour according to the ratio of two attributes. But in 
> the renderFeature method of my renderer class the feature attribute map 
> doesn't have all the attributes. Sometimes it has none, I've also seen 
> it with just one. 

  Martin D sent me the solution for this two seconds before I hit send. 
Is he psychic?

  I didn't think it could be a python binding problem, but it was. He 
fixed it (it was related to another python binding problem I had, but 
not in an obvious way) with a two-line patch.

  I should have this written soon, all it needs is a Gui. Is there any 
mechanism for renderers to supply gui components to the properties 
dialog? Is there a Renderer Registry so that the gui could get a list of 
all renderers? Or is this 1.0 stuff and beyond?

Barry

From marco.hugentobler at karto.baug.ethz.ch  Tue May 29 10:26:13 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] attribute map for renderer
In-Reply-To: <465C332B.1070305@lancaster.ac.uk>
References: <465C2F8E.3060302@lancaster.ac.uk>
	<465C332B.1070305@lancaster.ac.uk>
Message-ID: <200705291626.13240.marco.hugentobler@karto.baug.ethz.ch>

Hi Barry,

>Is there any
> mechanism for renderers to supply gui components to the properties
> dialog? Is there a Renderer Registry so that the gui could get a list of
> all renderers?

Currently, every renderer has a corresponding dialog as a GUI. This dialog 
knows the renderer class (because it creates the renderer in the apply() 
method), but the renderer does not need to know its gui. 
The vector layer properties dialog has hardcoded a list of renderer dialogs 
(in QgsVectorLayerProperties::alterLayerDialog). A renderer (or renderer 
dialog) registry would be a good thing, especially for renderers which are 
parts of plugins.  

> Or is this 1.0 stuff and beyond?

As usual this is dependant if/when someone is willing to implement it.

cheers,
Marco

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
marco.hugentobler@karto.baug.ethz.ch

From henning.lorenz at geo.uu.se  Wed May 30 04:12:36 2007
From: henning.lorenz at geo.uu.se (Henning Lorenz)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] symbol lookup error during qgis startup
Message-ID: <f3jblk$rg0$1@sea.gmane.org>

Hi!

I just built qgis from svn for the first time since the move to cmake.
Everything seemed to be fine. But when I try to start Qgis (not as in an
earlier thread related to the use of a plugin) the programme exits after a
second with the splashscreen with the following error:

qgis: symbol lookup error: qgis: undefined symbol:
_ZN10QgsMapTool9setActionEP7QAction

This is on Ubuntu 7.10. Thanks for any help.

Henning


From marco.hugentobler at karto.baug.ethz.ch  Wed May 30 05:04:41 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] symbol lookup error during qgis startup
In-Reply-To: <f3jblk$rg0$1@sea.gmane.org>
References: <f3jblk$rg0$1@sea.gmane.org>
Message-ID: <200705301104.41482.marco.hugentobler@karto.baug.ethz.ch>

Did you make sure your LD_LIBRARY_PATH points to the right QGIS libraries and 
not to any other (probably older) ones?

Marco

On Wednesday 30 May 2007 10:12:36 Henning Lorenz wrote:
> Hi!
>
> I just built qgis from svn for the first time since the move to cmake.
> Everything seemed to be fine. But when I try to start Qgis (not as in an
> earlier thread related to the use of a plugin) the programme exits after a
> second with the splashscreen with the following error:
>
> qgis: symbol lookup error: qgis: undefined symbol:
> _ZN10QgsMapTool9setActionEP7QAction
>
> This is on Ubuntu 7.10. Thanks for any help.
>
> Henning
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
marco.hugentobler@karto.baug.ethz.ch

From henning.lorenz at geo.uu.se  Wed May 30 05:44:38 2007
From: henning.lorenz at geo.uu.se (Henning Lorenz)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Re: symbol lookup error during qgis startup
References: <f3jblk$rg0$1@sea.gmane.org>
	<200705301104.41482.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <f3jh26$f3l$1@sea.gmane.org>

That's what it was. Thank you!


From Greg.Inman at dsl.pipex.com  Wed May 30 18:51:29 2007
From: Greg.Inman at dsl.pipex.com (Greg Inman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Building QGIS with VC++ 2005 express
Message-ID: <000201c7a30d$1072cd90$0300a8c0@GREG>

Hi all,

I'm new to developing with QGIS and I am trying to build with Visual C++
2005.

I have followed the instructions on the wiki
(http://wiki.qgis.org/qgiswiki/Building_Quantum_GIS_with_Visual_C++_2005)
which was very helpful, but unfortunately the Visual C++ project files for
QGIS are a little out of date!

I was wondering if anyone had up to date project files to help me build QGIS
from the latest source revision?

Thanks in advance for any help or suggestions!!!

Greg.


From mateusz at loskot.net  Wed May 30 19:01:07 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Building QGIS with VC++ 2005 express
In-Reply-To: <000201c7a30d$1072cd90$0300a8c0@GREG>
References: <000201c7a30d$1072cd90$0300a8c0@GREG>
Message-ID: <465E0233.5050708@loskot.net>

Greg Inman wrote:
> Hi all,
> 
> I'm new to developing with QGIS and I am trying to build with Visual C++
> 2005.
> 
> I have followed the instructions on the wiki
> (http://wiki.qgis.org/qgiswiki/Building_Quantum_GIS_with_Visual_C++_2005)
> which was very helpful, but unfortunately the Visual C++ project files for
> QGIS are a little out of date!
> 
> I was wondering if anyone had up to date project files to help me build QGIS
> from the latest source revision?
> 
> Thanks in advance for any help or suggestions!!!

Hi Greg,

I've been getting similar requests recently.
Unfortunately, I've not been able to update it and I won't be for a few
next weeks.
If you would like to do it, that would be great and I can offer you my
assistance and testing.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From Greg.Inman at dsl.pipex.com  Wed May 30 19:25:02 2007
From: Greg.Inman at dsl.pipex.com (Greg Inman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Building QGIS with VC++ 2005 express
In-Reply-To: <465E0233.5050708@loskot.net>
Message-ID: <000001c7a311$c0399840$0300a8c0@GREG>

Hi Mateusz,

Thanks for the speedy reply!

If I get anywhere with it I'll let you know....

Cheers,
Greg.

-----Original Message-----
From: qgis-developer-bounces@lists.qgis.org
[mailto:qgis-developer-bounces@lists.qgis.org]On Behalf Of Mateusz
Loskot
Sent: 31 May 2007 00:01
To: Greg.Inman@dsl.pipex.com
Cc: qgis-developer@lists.qgis.org
Subject: Re: [Qgis-developer] Building QGIS with VC++ 2005 express


Greg Inman wrote:
> Hi all,
>
> I'm new to developing with QGIS and I am trying to build with Visual C++
> 2005.
>
> I have followed the instructions on the wiki
> (http://wiki.qgis.org/qgiswiki/Building_Quantum_GIS_with_Visual_C++_2005)
> which was very helpful, but unfortunately the Visual C++ project files for
> QGIS are a little out of date!
>
> I was wondering if anyone had up to date project files to help me build
QGIS
> from the latest source revision?
>
> Thanks in advance for any help or suggestions!!!

Hi Greg,

I've been getting similar requests recently.
Unfortunately, I've not been able to update it and I won't be for a few
next weeks.
If you would like to do it, that would be great and I can offer you my
assistance and testing.

Cheers
--
Mateusz Loskot
http://mateusz.loskot.net
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.qgis.org
http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer


From wonder.sk at gmail.com  Wed May 30 23:34:34 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Building QGIS with VC++ 2005 express
In-Reply-To: <000201c7a30d$1072cd90$0300a8c0@GREG>
References: <000201c7a30d$1072cd90$0300a8c0@GREG>
Message-ID: <e8e7199c0705302034m52dcc9d2ra0d4b171b0942a9f@mail.gmail.com>

On 5/31/07, Greg Inman <Greg.Inman@dsl.pipex.com> wrote:
> Hi all,
>
> I'm new to developing with QGIS and I am trying to build with Visual C++
> 2005.
>
> I have followed the instructions on the wiki
> (http://wiki.qgis.org/qgiswiki/Building_Quantum_GIS_with_Visual_C++_2005)
> which was very helpful, but unfortunately the Visual C++ project files for
> QGIS are a little out of date!

CMake can generate Vistual C++ projects, why not to use it directly?
When I was adding CMake support for QGIS, I've tried also this
possibility and it worked well.

Martin

From cavallini at faunalia.it  Thu May 31 06:25:25 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] trac trouble?
Message-ID: <465EA295.5010803@faunalia.it>

The bugtracker does not seem to accept new entries or updates:

Traceback (most recent call last):
  File "/usr/lib/python2.4/site-packages/trac/web/main.py", line 387, in
dispatch_request
    dispatcher.dispatch(req)
  File "/usr/lib/python2.4/site-packages/trac/web/main.py", line 238, in
dispatch
    resp = chosen_handler.process_request(req)
  File "/usr/lib/python2.4/site-packages/trac/ticket/web_ui.py", line
279, in process_request
    self._do_save(req, db, ticket)
  File "/usr/lib/python2.4/site-packages/trac/ticket/web_ui.py", line
547, in _do_save
    db.commit()
OperationalError: database is locked

All the best.
pc
-- 
Paolo Cavallini
http://www.faunalia.it/pc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070531/cb3ff224/signature.bin
From cavallini at faunalia.it  Thu May 31 06:29:40 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] printing issues
Message-ID: <465EA394.9050704@faunalia.it>

concerning printing issues (eg https://svn.qgis.org/trac/ticket/590,
with labels and lines appearing too big in printing), I think the
trouble is causes by some scaling factor the original print composer dev
was forced to use because of a qt3 bug. Now with qt4 the scaling should
no longer be necessary, and it is probably causing the problem.
I do not think it should be too hard to fix it, and it would greatly
improve the usability of qgis.
pc
-- 
Paolo Cavallini
http://www.faunalia.it/pc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070531/fa1302e6/signature.bin
From cavallini at faunalia.it  Thu May 31 06:31:08 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] crash with GRASS vectors
In-Reply-To: <4656A4B6.2090405@faunalia.it>
References: <4656864B.3040206@faunalia.it>	<20070525102622.3590c6a0@bambule.gdf-hannover.de>
	<4656A4B6.2090405@faunalia.it>
Message-ID: <465EA3EC.50407@faunalia.it>

does anybody have the same problem?
pc

Paolo Cavallini ha scritto:
> what is strange is that it crashes *before* opening a vector (I do not
> understand why qgis tries to open that dataset then).
> if I open a mapset first, I can open the dataset without problems.
> Anyway, even in case of data corruption, qgis should not crash like this.
> pc
-- 
Paolo Cavallini
http://www.faunalia.it/pc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070531/29fd0eba/signature.bin
From sherman at mrcc.com  Thu May 31 10:50:02 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] trac trouble?
In-Reply-To: <465EA295.5010803@faunalia.it>
References: <465EA295.5010803@faunalia.it>
Message-ID: <4FA7CCD5-D9AF-493B-A323-A7C31C112554@mrcc.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

All seems to work for me.
On May 31, 2007, at 2:25 AM, Paolo Cavallini wrote:

> The bugtracker does not seem to accept new entries or updates:
>
> Traceback (most recent call last):
>   File "/usr/lib/python2.4/site-packages/trac/web/main.py", line  
> 387, in
> dispatch_request
>     dispatcher.dispatch(req)
>   File "/usr/lib/python2.4/site-packages/trac/web/main.py", line  
> 238, in
> dispatch
>     resp = chosen_handler.process_request(req)
>   File "/usr/lib/python2.4/site-packages/trac/ticket/web_ui.py", line
> 279, in process_request
>     self._do_save(req, db, ticket)
>   File "/usr/lib/python2.4/site-packages/trac/ticket/web_ui.py", line
> 547, in _do_save
>     db.commit()
> OperationalError: database is locked
>
> All the best.
> pc
> -- 
> Paolo Cavallini
> http://www.faunalia.it/pc
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.7 (Darwin)

iD8DBQFGXuCa1zKuzV6goTgRAgh5AJ9f6i3Tx7jgRLZ2SUHpyH32hx1OJACeMTAH
iYg3IITu/LYBAP1NZC730T4=
=W3tw
-----END PGP SIGNATURE-----

From sherman at mrcc.com  Thu May 31 11:14:24 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Developer Meeting on Friday
Message-ID: <194CF34C-4910-4328-8313-F85D187ACE30@mrcc.com>

There will be a developer meeting on #qgis-meeting on  
irc.freenode.net Friday June 1 at 1500UTC. Details on the meeting  
time can be found at:
http://timeanddate.com/worldclock/meetingdetails.html? 
year=2007&month=6&day=1&hour=15&min=0&sec=0&p1=456&p2=268&p3=43&p4=18

An agenda for the meeting can be found at:
  http://wiki.qgis.org/qgiswiki/Meeting_Jun_1%2C_2007

If you have wiki access you can add items to the topics for  
discussion. Be aware these are subject to editing and prioritization.  
All topics may not be able to be covered in the meeting.

Everyone is welcome to attend.

NOTE -- If you can't access IRC due to firewall or other  
restrictions, you can use the IRC gateway at: http://gisalaska.com/ 
cgiirc/irc.cgi
For the meeting choose the #qgis-meeting channel. You can also access  
#qgis using the gateway. Once you connect to the channel, use '/nick  
myname' to change your nickname from the CGI default.

Hope to see you at the meeting.

-gary

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From sherman at mrcc.com  Thu May 31 12:16:56 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] QGIS-Python examples
Message-ID: <B5D2C203-5D69-4B82-84D3-7C16AA50678F@mrcc.com>

If you have written a plugin, tool, or application using the new  
Python bindings in QGIS I would like to hear about it. I'm working on  
writing up some of the things the custom libraries in QGIS are being  
used for and would greatly appreciate any information you could share.

Thanks,
-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From mateusz at loskot.net  Thu May 31 13:49:39 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Building QGIS with VC++ 2005 express
In-Reply-To: <e8e7199c0705302034m52dcc9d2ra0d4b171b0942a9f@mail.gmail.com>
References: <000201c7a30d$1072cd90$0300a8c0@GREG>
	<e8e7199c0705302034m52dcc9d2ra0d4b171b0942a9f@mail.gmail.com>
Message-ID: <465F0AB3.5070202@loskot.net>

Martin Dobias wrote:
> On 5/31/07, Greg Inman <Greg.Inman@dsl.pipex.com> wrote:
>> Hi all,
>> 
>> I'm new to developing with QGIS and I am trying to build with
>> Visual C++ 2005.
>> 
>> I have followed the instructions on the wiki 
>> (http://wiki.qgis.org/qgiswiki/Building_Quantum_GIS_with_Visual_C++_2005)
>>  which was very helpful, but unfortunately the Visual C++ project
>> files for QGIS are a little out of date!
> 
> CMake can generate Vistual C++ projects, why not to use it directly? 
> When I was adding CMake support for QGIS, I've tried also this 
> possibility and it worked well.

Martin,

I've never used CMake for that purpose.
Does CMake generate QT specific actions and build events like
running moc.exe from project level?

Anyway, if CMake can generate usable project for QGIS, then I would
stick to this option, as VC++ project maintenance for as big
project as Quantum GIS, is really pain in the ass.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From lists at dwillis.gotadsl.co.uk  Thu May 31 18:29:55 2007
From: lists at dwillis.gotadsl.co.uk (David Willis)
Date: Wed Feb  6 23:25:07 2008
Subject: [Qgis-developer] Building QGIS with VC++ 2005 express
In-Reply-To: <465F0AB3.5070202@loskot.net>
References: <000201c7a30d$1072cd90$0300a8c0@GREG>
	<e8e7199c0705302034m52dcc9d2ra0d4b171b0942a9f@mail.gmail.com>
	<465F0AB3.5070202@loskot.net>
Message-ID: <op.ts7p350uvq3qvo@pezzy.belkin>

> I've never used CMake for that purpose.
> Does CMake generate QT specific actions and build events like
> running moc.exe from project level?

I last tried this a few months ago and apart from minor code changes to  
work round compiler issues, the cmake generated visual studio solution  
worked perfectly.

David

