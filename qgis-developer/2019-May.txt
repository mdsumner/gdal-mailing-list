From noreply at qgis.org  Wed May  1 00:47:33 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 01 May 2019 07:47:33 -0000
Subject: [QGIS-Developer] Plugin [1709] Geoprivacy approval notification.
Message-ID: <20190501074733.25560.23613@2c6504964296>


Plugin Geoprivacy approval by pcav.
The plugin version "[1709] Geoprivacy 1.0" is now approved
Link: http://plugins.qgis.org/plugins/GeoPriv/

From nyall.dawson at gmail.com  Wed May  1 03:53:17 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 1 May 2019 20:53:17 +1000
Subject: [QGIS-Developer] =?utf-8?q?QGIS_Print_Layouts_Graphs_and_Charts_?=
	=?utf-8?q?=E2=80=93_campaign_deadline_extended!?=
Message-ID: <CAB28AsiZeQ9NNg6ww82XAm9p7n-BKJQMBPZvpsvj1hmy3Hsv9Q@mail.gmail.com>

Hi lists!

I'm sure most members of this list will already be familiar with the QGIS
Print Layouts Graphs and Charts crowd funding which North Road are
currently running in partnership with Faunalia.

Unfortunately the required funds for this campaign weren’t raised within
our original April 30 deadline. But, because both North Road and Faunalia
very much want to see this work progress, we’ve decided to extend this
campaign by an additional 30 days in the hopes that the users and
organisations from the wider QGIS community will jump onboard and pledge
the remaining required funds.

This missing feature is a large gap in QGIS printing capabilities, so we’re
counting on everyone to show their support and spread the word to the local
user groups, QGIS users, and any other organisations you know of who rely
on QGIS and would love to see its inbuilt reporting capabilities levelled
up!

More details about the campaign and the planned functionality are available
at https://north-road.com/qgis-data-plotly-campaign/

Regards,
Nyall
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190501/05a5ed2a/attachment.html>

From noreply at qgis.org  Wed May  1 04:06:01 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 01 May 2019 11:06:01 -0000
Subject: [QGIS-Developer] Plugin [205] qgSurf approval notification.
Message-ID: <20190501110601.4633.37536@2c6504964296>


Plugin qgSurf approval by pcav.
The plugin version "[205] qgSurf 2.1.0" is now approved
Link: http://plugins.qgis.org/plugins/qgSurf/

From pigrecoinfinito at gmail.com  Wed May  1 07:23:12 2019
From: pigrecoinfinito at gmail.com (=?UTF-8?Q?Tot=C3=B2_Fiandaca?=)
Date: Wed, 1 May 2019 16:23:12 +0200
Subject: [QGIS-Developer]
	=?utf-8?q?QGIS_Print_Layouts_Graphs_and_Charts_?=
	=?utf-8?q?=E2=80=93_campaign_deadline_extended!?=
In-Reply-To: <CAB28AsiZeQ9NNg6ww82XAm9p7n-BKJQMBPZvpsvj1hmy3Hsv9Q@mail.gmail.com>
References: <CAB28AsiZeQ9NNg6ww82XAm9p7n-BKJQMBPZvpsvj1hmy3Hsv9Q@mail.gmail.com>
Message-ID: <CADk2tES8SmxXFA-iGGSry3ubNi9pf5Xe=pqY0HCOZv=V8eHdAQ@mail.gmail.com>

Thank you very much Nyall

Il giorno mer 1 mag 2019 alle ore 12:54 Nyall Dawson <nyall.dawson at gmail.com>
ha scritto:

> Hi lists!
>
> I'm sure most members of this list will already be familiar with the QGIS
> Print Layouts Graphs and Charts crowd funding which North Road are
> currently running in partnership with Faunalia.
>
> Unfortunately the required funds for this campaign weren’t raised within
> our original April 30 deadline. But, because both North Road and Faunalia
> very much want to see this work progress, we’ve decided to extend this
> campaign by an additional 30 days in the hopes that the users and
> organisations from the wider QGIS community will jump onboard and pledge
> the remaining required funds.
>
> This missing feature is a large gap in QGIS printing capabilities, so
> we’re counting on everyone to show their support and spread the word to the
> local user groups, QGIS users, and any other organisations you know of who
> rely on QGIS and would love to see its inbuilt reporting capabilities
> levelled up!
>
> More details about the campaign and the planned functionality are
> available at https://north-road.com/qgis-data-plotly-campaign/
>
> Regards,
> Nyall
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
*Ing. Salvatore Fiandaca*
*mobile*.:+39 327.493.8955
*m*: *pigrecoinfinito at gmail.com <pigrecoinfinito at gmail.com>*
*C.F*.: FNDSVT71E29Z103G
*P.IVA*: 06597870820
*membro QGIS Italia - http://qgis.it/ <http://qgis.it/>*
*socio GFOSS.it - *http://gfoss.it/
*blog:*
* https://pigrecoinfinito.wordpress.com/
<https://pigrecoinfinito.wordpress.com/> FB: Co-admin
- https://www.facebook.com/qgis.it/ <https://www.facebook.com/qgis.it/>**
<https://www.facebook.com/qgis.it/> *
*TW:  <http://goog_95411464>**https://twitter.com/totofiandaca
<https://twitter.com/totofiandaca>*

43°51'0.54"N  10°34'27.62"E - EPSG:4326

“Se la conoscenza deve essere aperta a tutti,
perchè mai limitarne l’accesso?”
R. Stallman

Questo documento, allegati inclusi, contiene informazioni di proprietà di
FIANDACA SALVATORE e deve essere utilizzato esclusivamente dal destinatario
in relazione alle finalità per le quali è stato ricevuto. E' vietata
qualsiasi forma di riproduzione o divulgazione senza l'esplicito consenso
di FIANDACA SALVATORE. Qualora fosse stato ricevuto per errore si prega di
informare tempestivamente il mittente e distruggere la copia in proprio
possesso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190501/bf41997b/attachment.html>

From tim at kartoza.com  Wed May  1 12:45:28 2019
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 1 May 2019 20:45:28 +0100
Subject: [QGIS-Developer] GDAL Coordinate System Barn Raising follow up
In-Reply-To: <1556654738126-0.post@n6.nabble.com>
References: <1556654738126-0.post@n6.nabble.com>
Message-ID: <4671A599-91A1-4372-A0C6-EAB20759690F@kartoza.com>

Hi



> On 30 Apr 2019, at 21:05, Eduardo Rojas Rodríguez <eduardo.rojas at soltig.net> wrote:
> 
> Hi all!
> 
> I have been invited to the first Open Source Conference on GIS and Remote
> Sensing in Costa Rica, part of the Geo For All, since I have been a devout
> follower of PROJ, GDAL and QGIS. I think it is a great opportunity to
> explain the way in which coordinate reference systems are implemented and
> used in software such as QGIS that are used by end users that do not
> necessarily understand the complexity of such developments. 
> 
> I want to promote the initiative "/GDAL Coordinate System Barn Raising/"
> because in Costa Rica  has recently been a change of CRS - from CRTM05 (EPSG
> 5367) to CR-SIRGAS (EPSG 8909) - this is a hot topic at this moment. I want
> to be able to explain how is the development and implementation of the CRS
> and how they arrive at softwares like QGIS that are used by end users with
> different skill levels. 
> 
> I've been talking to Even Rouault from PROJ about the new GDAL Coordinate
> System Barn Raising and how this affects the final users of softwares like
> QGIS and PostgreSQL / PostGIS.
> 
> for QGIS users, I have the following: Even told me: "/From what I've
> understood, PostGIS will still ship its spatial_ref_sys.sql database (since
> it is part of its user visible surface), and will so have to refresh it
> regularly from the PROJ database. For QGIS, I think the intent will be to
> use ultimately the PROJ database/" "/...Will require all QGIS builds to use
> PROJ 6/"
> 
> Now this, makes me the following question: if PROJ already  contains the new
> CRS CR-SIRGAS (8909) according to this commit
> https://github.com/OSGeo/proj.4/pull/1368.
> QGIS would have to implement the new PROJ6 so that users here in CR can have
> access to the new CRS. however, this I suppose, is planned for the version
> QGIS 3.8 What generates me doubt is how is it going to be handled with the
> QGIS LTR version?
> 
> in other words, how QGIS will handle the updates of the new coordinate
> reference systems? Is a new version required each time? or can they be
> updated by a pointreleases?
> 
> I think many countries are on track to continue updating the CRS and I want
> to know how QGIS is going to be maintained with the most up-to-date EPSG
> databases.
> 
> this in order to be able to explain to the users of QGIS here in CR how it
> is expected to implement the update of the new CR-SIRGAS (8909) Since many
> governmental institutions currently use QGIS for their daily processes.
> 
> Thank you very much for the help in this topic.

I think the short answer is that QGIS 3.4 LTR will not be updated to support PROJ6. Being a LTR we are conservative about making any large scale changes to the code base.

Also Nyall recently posted some comments [1] that indicate that at the moment PROJ6 support will not directly use the PROJ CRS database, but rather load it into QGIS’ src.db with an updated version of crssync.

[1] https://github.com/qgis/QGIS/pull/9906

Regards

Tim

> 
> 
> 
> 
> 
> 
> 
> -----
> Eduardo Rojas Rodríguez
> Analista en SIG
> SOLTIG
> Tel: (506) 2435-8868 / (506) 4001-5214 
> eduardo.rojas at soltig.net
> http://soltig.net
> 
> 
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190501/4cb0bbf6/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190501/4cb0bbf6/attachment-0001.jpg>

From noreply at qgis.org  Thu May  2 01:22:53 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 02 May 2019 08:22:53 -0000
Subject: [QGIS-Developer] Plugin [1659] ORS Tools approval notification.
Message-ID: <20190502082253.2257.71125@2c6504964296>


Plugin ORS Tools approval by pcav.
The plugin version "[1659] ORS Tools 1.0.5" is now approved
Link: http://plugins.qgis.org/plugins/ORStools/

From a.neumann at carto.net  Thu May  2 02:02:35 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 2 May 2019 11:02:35 +0200
Subject: [QGIS-Developer] QGIS virtual layer incredibly slow
Message-ID: <affba11f-bddd-eb77-97a2-877e22341811@carto.net>

Hi,

One of my colleagues created a QGIS project where they loaded a parcel 
layer with approx. 24000 polygons (data source Postgis) and another 
layer with 3 polygons representing project perimeters of contruction 
sites. That second layer is in a Geopackage.

Now they want to select all parcels that are intersecting the project 
perimeters.

The query is straightforward:

SELECT lie.nummer_grundstueck, lie.gemeinde, tbap.bemerkungen, lie.geometry
FROM lie_liegenschaft lie, tba_projektperimeter tbap
WHERE ST_Intersects(lie.geometry, tbap.geometry)

Now the problem is: this query (24000 parcels, 3 project perimeters) is 
just incredibly slow: about 40 seconds. In a Postgis view this would be 
way less then a second! The worst thing: that virtual layer is updated 
with each and every zoom and pan. Is there no way to cache a virtual layer?

Can I do something to speed up our virtual layer? The parcel layer only 
chanes once a month and the perimeters only occasionally, so it would be 
best to cache the result within a QGIS session, because there are no 
changes in the geometries of both layers expected.

I understand that virtual layers somehow have to transfer all data 
formats (through ogr) into SpatiaLite or SQLite to do the query, but 
this is really way too slow for real world usage in my opinion (unless I 
do something wrong in our query).

If you have any ideas how to speed up virtual layers in QGIS it would be 
much appreciated.

Thanks,
Andreas

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190502/1088ba95/attachment.html>

From pigrecoinfinito at gmail.com  Thu May  2 02:14:54 2019
From: pigrecoinfinito at gmail.com (=?UTF-8?Q?Tot=C3=B2_Fiandaca?=)
Date: Thu, 2 May 2019 11:14:54 +0200
Subject: [QGIS-Developer] QGIS virtual layer incredibly slow
In-Reply-To: <affba11f-bddd-eb77-97a2-877e22341811@carto.net>
References: <affba11f-bddd-eb77-97a2-877e22341811@carto.net>
Message-ID: <CADk2tER3g1At4nctAY7P=d8LVCLppbK37q-PKXT5oVcTYjbTjw@mail.gmail.com>

Hello everyone,
I use virtual layers a lot and confirm the slowness and the continuous
updating that makes the tool almost unusable.

it would be very useful to speed things up.

thank you

Il giorno gio 2 mag 2019 alle ore 11:02 Andreas Neumann <a.neumann at carto.net>
ha scritto:

> Hi,
>
> One of my colleagues created a QGIS project where they loaded a parcel
> layer with approx. 24000 polygons (data source Postgis) and another layer
> with 3 polygons representing project perimeters of contruction sites. That
> second layer is in a Geopackage.
>
> Now they want to select all parcels that are intersecting the project
> perimeters.
>
> The query is straightforward:
>
> SELECT lie.nummer_grundstueck, lie.gemeinde, tbap.bemerkungen, lie.geometry
> FROM lie_liegenschaft lie, tba_projektperimeter tbap
> WHERE ST_Intersects(lie.geometry, tbap.geometry)
>
> Now the problem is: this query (24000 parcels, 3 project perimeters) is
> just incredibly slow: about 40 seconds. In a Postgis view this would be way
> less then a second! The worst thing: that virtual layer is updated with
> each and every zoom and pan. Is there no way to cache a virtual layer?
>
> Can I do something to speed up our virtual layer? The parcel layer only
> chanes once a month and the perimeters only occasionally, so it would be
> best to cache the result within a QGIS session, because there are no
> changes in the geometries of both layers expected.
>
> I understand that virtual layers somehow have to transfer all data formats
> (through ogr) into SpatiaLite or SQLite to do the query, but this is really
> way too slow for real world usage in my opinion (unless I do something
> wrong in our query).
>
> If you have any ideas how to speed up virtual layers in QGIS it would be
> much appreciated.
>
> Thanks,
> Andreas
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
*Ing. Salvatore Fiandaca*
*mobile*.:+39 327.493.8955
*m*: *pigrecoinfinito at gmail.com <pigrecoinfinito at gmail.com>*
*C.F*.: FNDSVT71E29Z103G
*P.IVA*: 06597870820
*membro QGIS Italia - http://qgis.it/ <http://qgis.it/>*
*socio GFOSS.it - *http://gfoss.it/
*blog:*
* https://pigrecoinfinito.wordpress.com/
<https://pigrecoinfinito.wordpress.com/> FB: Co-admin
- https://www.facebook.com/qgis.it/ <https://www.facebook.com/qgis.it/>**
<https://www.facebook.com/qgis.it/> *
*TW:  <http://goog_95411464>**https://twitter.com/totofiandaca
<https://twitter.com/totofiandaca>*

43°51'0.54"N  10°34'27.62"E - EPSG:4326

“Se la conoscenza deve essere aperta a tutti,
perchè mai limitarne l’accesso?”
R. Stallman

Questo documento, allegati inclusi, contiene informazioni di proprietà di
FIANDACA SALVATORE e deve essere utilizzato esclusivamente dal destinatario
in relazione alle finalità per le quali è stato ricevuto. E' vietata
qualsiasi forma di riproduzione o divulgazione senza l'esplicito consenso
di FIANDACA SALVATORE. Qualora fosse stato ricevuto per errore si prega di
informare tempestivamente il mittente e distruggere la copia in proprio
possesso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190502/e9fc903e/attachment.html>

From matteo.ghetta at gmail.com  Thu May  2 02:23:31 2019
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 2 May 2019 11:23:31 +0200
Subject: [QGIS-Developer] QGIS virtual layer incredibly slow
In-Reply-To: <affba11f-bddd-eb77-97a2-877e22341811@carto.net>
References: <affba11f-bddd-eb77-97a2-877e22341811@carto.net>
Message-ID: <bcd1fea9-5867-c025-1957-466bcec7b3b7@gmail.com>

Hi Andreas,

I also noticed the slow rendering of virtual layers, also when a layer
is small.

I think it depends on the result of the query: with 50 points when
linking one point with a line to all the other 49 points, at every map
zoom in/out it takes seconds to refresh the query

Cheers

Matteo

From a.neumann at carto.net  Thu May  2 03:41:52 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 2 May 2019 12:41:52 +0200
Subject: [QGIS-Developer] QGIS virtual layer incredibly slow
In-Reply-To: <bcd1fea9-5867-c025-1957-466bcec7b3b7@gmail.com>
References: <affba11f-bddd-eb77-97a2-877e22341811@carto.net>
 <bcd1fea9-5867-c025-1957-466bcec7b3b7@gmail.com>
Message-ID: <5d045fe8-1c46-3252-838a-02046992df7f@carto.net>

Hi Matteo and Toto,

Seems like I am not the only one that suffers from this slowness.

The same query that takes about 40 secs in a virtual layer runs in 200ms 
in Postgis. Now I know that there is a lot of overhead to bring the two 
different data sources (Postgis and Geopackage) together, but it still 
doesn't explain the 40 secs.

Also, the 40 secs would be ok, if it could be cached somehow throughout 
the QGIS session.

So if there would be some potential to introduce a caching mechanism to 
QGIS virtual layers, it would be much appreciated. There could be 
several update strategies: on opening of the project, on manual update 
(right-click layer --> update) or time based (e.g. every 5 minutes), or 
event based (if one of the involved layers changes).

Thanks,

Andreas

Am 02.05.19 um 11:23 schrieb matteo:
> Hi Andreas,
>
> I also noticed the slow rendering of virtual layers, also when a layer
> is small.
>
> I think it depends on the result of the query: with 50 points when
> linking one point with a line to all the other 49 points, at every map
> zoom in/out it takes seconds to refresh the query
>
> Cheers
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From matteo.ghetta at gmail.com  Thu May  2 03:51:21 2019
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 2 May 2019 12:51:21 +0200
Subject: [QGIS-Developer] QGIS virtual layer incredibly slow
In-Reply-To: <5d045fe8-1c46-3252-838a-02046992df7f@carto.net>
References: <affba11f-bddd-eb77-97a2-877e22341811@carto.net>
 <bcd1fea9-5867-c025-1957-466bcec7b3b7@gmail.com>
 <5d045fe8-1c46-3252-838a-02046992df7f@carto.net>
Message-ID: <49d4e89d-c6d0-17a1-ff90-48755e2a0310@gmail.com>

Hi Andreas,

> Seems like I am not the only one that suffers from this slowness.

not at all!

> The same query that takes about 40 secs in a virtual layer runs in 200ms
> in Postgis. Now I know that there is a lot of overhead to bring the two
> different data sources (Postgis and Geopackage) together, but it still
> doesn't explain the 40 secs.

as I wrote in the last mail, it happens also if the query is run on one
single layer (no matter if shp or geopackage)

> So if there would be some potential to introduce a caching mechanism to
> QGIS virtual layers, it would be much appreciated. There could be
> several update strategies: on opening of the project, on manual update
> (right-click layer --> update) or time based (e.g. every 5 minutes), or
> event based (if one of the involved layers changes).

I might be super wrong, but AFAIK, virtual layers behave like db views.
Is there any chance to change this behavior and make as materialized
views? So it is up to the user to update the virtual layer when needed.

Cheers

Matteo

From mlechner at bfs.de  Thu May  2 05:37:48 2019
From: mlechner at bfs.de (Dr. Marco Lechner)
Date: Thu, 2 May 2019 14:37:48 +0200
Subject: [QGIS-Developer] QGIS virtual layer incredibly slow
In-Reply-To: <49d4e89d-c6d0-17a1-ff90-48755e2a0310@gmail.com>
References: <affba11f-bddd-eb77-97a2-877e22341811@carto.net>
 <bcd1fea9-5867-c025-1957-466bcec7b3b7@gmail.com>
 <5d045fe8-1c46-3252-838a-02046992df7f@carto.net>
 <49d4e89d-c6d0-17a1-ff90-48755e2a0310@gmail.com>
Message-ID: <dd68ee11-5a45-39a8-6f33-343a4c782b6a@bfs.de>

Hi Matteo,

this should be possible saving the virtual layer in a new
layer/datasource (e.g. Memory Layer)

Marco


Am 02.05.2019 um 12:51 schrieb matteo:
> I might be super wrong, but AFAIK, virtual layers behave like db views.
> Is there any chance to change this behavior and make as materialized
> views? So it is up to the user to update the virtual layer when needed.
>
> Cheers
>
> Matteo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0xCD250CA0D733400E.asc
Type: application/pgp-keys
Size: 3303 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190502/30343a27/attachment-0001.key>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 5122 bytes
Desc: S/MIME Cryptographic Signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190502/30343a27/attachment-0001.bin>

From hugo.mercier at oslandia.com  Thu May  2 07:36:06 2019
From: hugo.mercier at oslandia.com (Hugo Mercier)
Date: Thu, 2 May 2019 16:36:06 +0200
Subject: [QGIS-Developer] QGIS virtual layer incredibly slow
In-Reply-To: <affba11f-bddd-eb77-97a2-877e22341811@carto.net>
References: <affba11f-bddd-eb77-97a2-877e22341811@carto.net>
Message-ID: <c694c5fd-c36f-77c4-6654-bb07665e2da0@oslandia.com>

Hi,

One big difference between spatialite and PostGIS is that PostGIS is
able to use spatial indexes transparently, while spatialite cannot.

Could you try with something like " ... AND lie._search_frame_ =
tbap.geometry" ?


On 02/05/2019 11:02, Andreas Neumann wrote:
> Hi,
> 
> One of my colleagues created a QGIS project where they loaded a parcel
> layer with approx. 24000 polygons (data source Postgis) and another
> layer with 3 polygons representing project perimeters of contruction
> sites. That second layer is in a Geopackage.
> 
> Now they want to select all parcels that are intersecting the project
> perimeters.
> 
> The query is straightforward:
> 
> SELECT lie.nummer_grundstueck, lie.gemeinde, tbap.bemerkungen, lie.geometry
> FROM lie_liegenschaft lie, tba_projektperimeter tbap
> WHERE ST_Intersects(lie.geometry, tbap.geometry)
> 
> Now the problem is: this query (24000 parcels, 3 project perimeters) is
> just incredibly slow: about 40 seconds. In a Postgis view this would be
> way less then a second! The worst thing: that virtual layer is updated
> with each and every zoom and pan. Is there no way to cache a virtual layer?
> 
> Can I do something to speed up our virtual layer? The parcel layer only
> chanes once a month and the perimeters only occasionally, so it would be
> best to cache the result within a QGIS session, because there are no
> changes in the geometries of both layers expected.
> 
> I understand that virtual layers somehow have to transfer all data
> formats (through ogr) into SpatiaLite or SQLite to do the query, but
> this is really way too slow for real world usage in my opinion (unless I
> do something wrong in our query).
> 
> If you have any ideas how to speed up virtual layers in QGIS it would be
> much appreciated.
> 
> Thanks,
> Andreas
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From a.neumann at carto.net  Thu May  2 08:18:17 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 2 May 2019 17:18:17 +0200
Subject: [QGIS-Developer] QGIS virtual layer incredibly slow
In-Reply-To: <c694c5fd-c36f-77c4-6654-bb07665e2da0@oslandia.com>
References: <affba11f-bddd-eb77-97a2-877e22341811@carto.net>
 <c694c5fd-c36f-77c4-6654-bb07665e2da0@oslandia.com>
Message-ID: <ee915fe9-fdcb-1451-bfbe-4e484ef09049@carto.net>

Hi Hugo,

Indeed  - when I add the test against the _search_frame_ - everthing 
works almost equally fast than within Postgis. Certainly now the virtual 
layer suddenly becomes useful and fast enough for us.

But to be honest - I would never have guessed that. I was searching for 
the "&&" operator that was necessary in the old days of Postgis (the 
bounding box test). Is this something similar?

Perhaps there should be a visible hint for that in the Virtual layer 
creation dialogue? Googling for it reveals a section in the manual ;-) 
https://docs.qgis.org/3.4/en/docs/user_manual/managing_data_source/create_layers.html#use-of-indexes

Would be useful to add a button to the dialogue - a button like 
"Performance hints" that would open this section in the manual.

Many thanks - you will make my colleagues happy! I told them they have 
to do everything in Postgis and not mix data formats.

Matteo and Toto: can you try if that helps in your cases as well? Would 
be interesting to know.

Greetings,

Andreas

PS: with the 40 seconds before I thought - well - I as a slow human 
might be even faster than that stupid computer. Who knows ... I could 
have been faster! Now with Hugos hint is also a sub-second query.

Am 02.05.19 um 16:36 schrieb Hugo Mercier:
> Hi,
>
> One big difference between spatialite and PostGIS is that PostGIS is
> able to use spatial indexes transparently, while spatialite cannot.
>
> Could you try with something like " ... AND lie._search_frame_ =
> tbap.geometry" ?
>
>
> On 02/05/2019 11:02, Andreas Neumann wrote:
>> Hi,
>>
>> One of my colleagues created a QGIS project where they loaded a parcel
>> layer with approx. 24000 polygons (data source Postgis) and another
>> layer with 3 polygons representing project perimeters of contruction
>> sites. That second layer is in a Geopackage.
>>
>> Now they want to select all parcels that are intersecting the project
>> perimeters.
>>
>> The query is straightforward:
>>
>> SELECT lie.nummer_grundstueck, lie.gemeinde, tbap.bemerkungen, lie.geometry
>> FROM lie_liegenschaft lie, tba_projektperimeter tbap
>> WHERE ST_Intersects(lie.geometry, tbap.geometry)
>>
>> Now the problem is: this query (24000 parcels, 3 project perimeters) is
>> just incredibly slow: about 40 seconds. In a Postgis view this would be
>> way less then a second! The worst thing: that virtual layer is updated
>> with each and every zoom and pan. Is there no way to cache a virtual layer?
>>
>> Can I do something to speed up our virtual layer? The parcel layer only
>> chanes once a month and the perimeters only occasionally, so it would be
>> best to cache the result within a QGIS session, because there are no
>> changes in the geometries of both layers expected.
>>
>> I understand that virtual layers somehow have to transfer all data
>> formats (through ogr) into SpatiaLite or SQLite to do the query, but
>> this is really way too slow for real world usage in my opinion (unless I
>> do something wrong in our query).
>>
>> If you have any ideas how to speed up virtual layers in QGIS it would be
>> much appreciated.
>>
>> Thanks,
>> Andreas
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From pigrecoinfinito at gmail.com  Thu May  2 09:42:18 2019
From: pigrecoinfinito at gmail.com (=?UTF-8?Q?Tot=C3=B2_Fiandaca?=)
Date: Thu, 2 May 2019 18:42:18 +0200
Subject: [QGIS-Developer] QGIS virtual layer incredibly slow
In-Reply-To: <ee915fe9-fdcb-1451-bfbe-4e484ef09049@carto.net>
References: <affba11f-bddd-eb77-97a2-877e22341811@carto.net>
 <c694c5fd-c36f-77c4-6654-bb07665e2da0@oslandia.com>
 <ee915fe9-fdcb-1451-bfbe-4e484ef09049@carto.net>
Message-ID: <CADk2tEQKeep5iBqbzoByn2UMm4eCTPsJB2fs9v5DyNZ=i4Kh1w@mail.gmail.com>

Hi Hugo
but the _search_frame_ is always usable ?? or only in special cases?

Il giorno gio 2 mag 2019 alle ore 17:18 Andreas Neumann <a.neumann at carto.net>
ha scritto:

> Hi Hugo,
>
> Indeed  - when I add the test against the _search_frame_ - everthing
> works almost equally fast than within Postgis. Certainly now the virtual
> layer suddenly becomes useful and fast enough for us.
>
> But to be honest - I would never have guessed that. I was searching for
> the "&&" operator that was necessary in the old days of Postgis (the
> bounding box test). Is this something similar?
>
> Perhaps there should be a visible hint for that in the Virtual layer
> creation dialogue? Googling for it reveals a section in the manual ;-)
>
> https://docs.qgis.org/3.4/en/docs/user_manual/managing_data_source/create_layers.html#use-of-indexes
>
> Would be useful to add a button to the dialogue - a button like
> "Performance hints" that would open this section in the manual.
>
> Many thanks - you will make my colleagues happy! I told them they have
> to do everything in Postgis and not mix data formats.
>
> Matteo and Toto: can you try if that helps in your cases as well? Would
> be interesting to know.
>
> Greetings,
>
> Andreas
>
> PS: with the 40 seconds before I thought - well - I as a slow human
> might be even faster than that stupid computer. Who knows ... I could
> have been faster! Now with Hugos hint is also a sub-second query.
>
> Am 02.05.19 um 16:36 schrieb Hugo Mercier:
> > Hi,
> >
> > One big difference between spatialite and PostGIS is that PostGIS is
> > able to use spatial indexes transparently, while spatialite cannot.
> >
> > Could you try with something like " ... AND lie._search_frame_ =
> > tbap.geometry" ?
> >
> >
> > On 02/05/2019 11:02, Andreas Neumann wrote:
> >> Hi,
> >>
> >> One of my colleagues created a QGIS project where they loaded a parcel
> >> layer with approx. 24000 polygons (data source Postgis) and another
> >> layer with 3 polygons representing project perimeters of contruction
> >> sites. That second layer is in a Geopackage.
> >>
> >> Now they want to select all parcels that are intersecting the project
> >> perimeters.
> >>
> >> The query is straightforward:
> >>
> >> SELECT lie.nummer_grundstueck, lie.gemeinde, tbap.bemerkungen,
> lie.geometry
> >> FROM lie_liegenschaft lie, tba_projektperimeter tbap
> >> WHERE ST_Intersects(lie.geometry, tbap.geometry)
> >>
> >> Now the problem is: this query (24000 parcels, 3 project perimeters) is
> >> just incredibly slow: about 40 seconds. In a Postgis view this would be
> >> way less then a second! The worst thing: that virtual layer is updated
> >> with each and every zoom and pan. Is there no way to cache a virtual
> layer?
> >>
> >> Can I do something to speed up our virtual layer? The parcel layer only
> >> chanes once a month and the perimeters only occasionally, so it would be
> >> best to cache the result within a QGIS session, because there are no
> >> changes in the geometries of both layers expected.
> >>
> >> I understand that virtual layers somehow have to transfer all data
> >> formats (through ogr) into SpatiaLite or SQLite to do the query, but
> >> this is really way too slow for real world usage in my opinion (unless I
> >> do something wrong in our query).
> >>
> >> If you have any ideas how to speed up virtual layers in QGIS it would be
> >> much appreciated.
> >>
> >> Thanks,
> >> Andreas
> >>
> >>
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
*Ing. Salvatore Fiandaca*
*mobile*.:+39 327.493.8955
*m*: *pigrecoinfinito at gmail.com <pigrecoinfinito at gmail.com>*
*C.F*.: FNDSVT71E29Z103G
*P.IVA*: 06597870820
*membro QGIS Italia - http://qgis.it/ <http://qgis.it/>*
*socio GFOSS.it - *http://gfoss.it/
*blog:*
* https://pigrecoinfinito.wordpress.com/
<https://pigrecoinfinito.wordpress.com/> FB: Co-admin
- https://www.facebook.com/qgis.it/ <https://www.facebook.com/qgis.it/>**
<https://www.facebook.com/qgis.it/> *
*TW:  <http://goog_95411464>**https://twitter.com/totofiandaca
<https://twitter.com/totofiandaca>*

43°51'0.54"N  10°34'27.62"E - EPSG:4326

“Se la conoscenza deve essere aperta a tutti,
perchè mai limitarne l’accesso?”
R. Stallman

Questo documento, allegati inclusi, contiene informazioni di proprietà di
FIANDACA SALVATORE e deve essere utilizzato esclusivamente dal destinatario
in relazione alle finalità per le quali è stato ricevuto. E' vietata
qualsiasi forma di riproduzione o divulgazione senza l'esplicito consenso
di FIANDACA SALVATORE. Qualora fosse stato ricevuto per errore si prega di
informare tempestivamente il mittente e distruggere la copia in proprio
possesso.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190502/4a717011/attachment-0001.html>

From noreply at qgis.org  Thu May  2 10:30:34 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 02 May 2019 17:30:34 -0000
Subject: [QGIS-Developer] Plugin [1709] Geoprivacy approval notification.
Message-ID: <20190502173034.12657.3509@2c6504964296>


Plugin Geoprivacy approval by pcav.
The plugin version "[1709] Geoprivacy 1.0" is now approved
Link: http://plugins.qgis.org/plugins/GeoPriv/

From noreply at qgis.org  Thu May  2 22:07:46 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 03 May 2019 05:07:46 -0000
Subject: [QGIS-Developer] Plugin [1412] GeoDataFarm approval notification.
Message-ID: <20190503050746.25078.32942@2c6504964296>


Plugin GeoDataFarm approval by pcav.
The plugin version "[1412] GeoDataFarm 2.4.1" is now approved
Link: http://plugins.qgis.org/plugins/geodatafarm/

From noreply at qgis.org  Thu May  2 22:19:52 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 03 May 2019 05:19:52 -0000
Subject: [QGIS-Developer] Plugin [1711] H-Tech SIG approval notification.
Message-ID: <20190503051952.25078.96909@2c6504964296>


Plugin H-Tech SIG approval by pcav.
The plugin version "[1711] H-Tech SIG 3.5" is now approved
Link: http://plugins.qgis.org/plugins/sigrdap/

From noreply at qgis.org  Thu May  2 23:01:10 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 03 May 2019 06:01:10 -0000
Subject: [QGIS-Developer] Plugin [970] TUFLOW approval notification.
Message-ID: <20190503060110.16663.84160@2c6504964296>


Plugin TUFLOW approval by pcav.
The plugin version "[970] TUFLOW 3.0.2" is now approved
Link: http://plugins.qgis.org/plugins/tuflow/

From matteo.ghetta at gmail.com  Thu May  2 23:04:45 2019
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 3 May 2019 08:04:45 +0200
Subject: [QGIS-Developer] Converting to GeoJson missing Z value
Message-ID: <e65f57a5-206e-bd41-6099-b401e9650e3a@gmail.com>

Hi all,

when I convert a layer (gpx, 25D shp, etc) to a geojson I noticed that
the geojson file is missing the Z value.

Even when using the drape algorithm and directly saving the output as
geojson, no z values are there.

Is this a limitation of the driver or are some tricks I should use?

BTW: in the saving dialog the "Include z dimension" is checked even if
not active.

Cheers and thanks

Matteo

From robifagandini at gmail.com  Fri May  3 06:45:01 2019
From: robifagandini at gmail.com (Roberta Fagandini)
Date: Fri, 3 May 2019 15:45:01 +0200
Subject: [QGIS-Developer] show error message without exiting the plugin
Message-ID: <CAFFLmWJUisozEJt1q8taQvcWsLAdiGrtedBd=VJ=mMmLf_LkpA@mail.gmail.com>

Hi all,
I'm developing a plugin and I need to check if some features of the input
vector layer are selected or not. If not I'd like to show an error message
without closing the plugin gui:

This is the code at the moment:

            if self.dlg.checkBox.isChecked():
                check_sel = selectedLayer2.selectedFeatureCount()
                if check_sel > 0:
                    intersec_layer =
QgsProcessingFeatureSourceDefinition(selectedLayer2.id(), True)
                else:
                    self.iface.messageBar().pushCritical("Error", "No
features selected in layer {}.".format(selectedLayer2.name()))
                    return

Any idea?

Thanks
Roberta
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190503/22fcf888/attachment.html>

From noreply at qgis.org  Fri May  3 07:14:10 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 03 May 2019 14:14:10 -0000
Subject: [QGIS-Developer] Plugin [629] Networks approval notification.
Message-ID: <20190503141410.8967.46485@2c6504964296>


Plugin Networks approval by pcav.
The plugin version "[629] Networks 2.3.4" is now approved
Link: http://plugins.qgis.org/plugins/networks/

From jorgealmerio at yahoo.com.br  Fri May  3 07:29:11 2019
From: jorgealmerio at yahoo.com.br (Jorge Almerio)
Date: Fri, 3 May 2019 11:29:11 -0300
Subject: [QGIS-Developer] RES: show error message without exiting the plugin
In-Reply-To: <CAFFLmWJUisozEJt1q8taQvcWsLAdiGrtedBd=VJ=mMmLf_LkpA@mail.gmail.com>
References: <CAFFLmWJUisozEJt1q8taQvcWsLAdiGrtedBd=VJ=mMmLf_LkpA@mail.gmail.com>
Message-ID: <003d01d501bc$94d69d30$be83d790$@com.br>

Hi,

 

I think in this case, as you do not want to close your gui, you should put the message bar in your gui, I suppose it's a dialog.

you have a code sample in Qgis cookbook <https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/communicating.html> , may it can help you:

 

class MyDialog(QDialog):

    def __init__(self):

        QDialog.__init__(self)

        self.bar = QgsMessageBar()

        self.bar.setSizePolicy( QSizePolicy.Minimum, QSizePolicy.Fixed )

        self.setLayout(QGridLayout())

        self.layout().setContentsMargins(0, 0, 0, 0)

        self.buttonbox = QDialogButtonBox(QDialogButtonBox.Ok)

        self.buttonbox.accepted.connect(self.run)

        self.layout().addWidget(self.buttonbox, 0, 0, 2, 1)

        self.layout().addWidget(self.bar, 0, 0, 1, 1)

    def run(self):

        self.bar.pushMessage("Hello", "World", level=Qgis.Info)

 

 

 

 

 

De: QGIS-Developer [mailto:qgis-developer-bounces at lists.osgeo.org] Em nome de Roberta Fagandini
Enviada em: sexta-feira, 3 de maio de 2019 10:45
Para: qgis-developer at lists.osgeo.org
Assunto: [QGIS-Developer] show error message without exiting the plugin

 

Hi all,

I'm developing a plugin and I need to check if some features of the input vector layer are selected or not. If not I'd like to show an error message without closing the plugin gui:

 

This is the code at the moment:

 

            if self.dlg.checkBox.isChecked():

                check_sel = selectedLayer2.selectedFeatureCount()

                if check_sel > 0:

                    intersec_layer = QgsProcessingFeatureSourceDefinition(selectedLayer2.id(), True)

                else:

                    self.iface.messageBar().pushCritical("Error", "No features selected in layer {}.".format(selectedLayer2.name()))

                    return 

 

Any idea?

 

Thanks

Roberta

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190503/2bddbb60/attachment-0001.html>

From cavallini at faunalia.it  Fri May  3 10:26:17 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 3 May 2019 19:26:17 +0200
Subject: [QGIS-Developer] Processing: save on PostGIS
Message-ID: <b23f76a8-edea-e49a-1825-2f75743e9241@faunalia.it>

Hi all,
I'm using Processing (in particular Repair geometries) saving directly
to PostGIS. In the output the existing connections are shown, but at the
first instance of alg execution the db username and password are asked
again. This seems a small bug to me - does anybody confirm.
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From cavallini at faunalia.it  Fri May  3 10:41:19 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 3 May 2019 19:41:19 +0200
Subject: [QGIS-Developer] Saving projects in PostgreSQL
Message-ID: <be9a67c8-5433-d4cb-14c9-d7119c5ce636@faunalia.it>

Hi all,
when saving a project on PostgreSQL, the schemas of the db are not
listed and cannot be selected, and the subsequent save fails with:
postgresql://pgday1:pgday1 at localhost:5432?sslmode=allow&dbname=pgday&schema&project=pgday
Anyone confirms?
Cheers.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From cavallini at faunalia.it  Fri May  3 10:43:42 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 3 May 2019 19:43:42 +0200
Subject: [QGIS-Developer] Saving projects in PostgreSQL
In-Reply-To: <be9a67c8-5433-d4cb-14c9-d7119c5ce636@faunalia.it>
References: <be9a67c8-5433-d4cb-14c9-d7119c5ce636@faunalia.it>
Message-ID: <82e8a447-f90f-c9df-9ab8-884805feea05@faunalia.it>

Sorry, my fault, missing the option in the connection options.

On 03/05/19 19:41, Paolo Cavallini wrote:
> Hi all,
> when saving a project on PostgreSQL, the schemas of the db are not
> listed and cannot be selected, and the subsequent save fails with:
> postgresql://pgday1:pgday1 at localhost:5432?sslmode=allow&dbname=pgday&schema&project=pgday
> Anyone confirms?
> Cheers.
> 

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From cavallini at faunalia.it  Fri May  3 10:49:32 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 3 May 2019 19:49:32 +0200
Subject: [QGIS-Developer] Saving projects in PostgreSQL
In-Reply-To: <82e8a447-f90f-c9df-9ab8-884805feea05@faunalia.it>
References: <be9a67c8-5433-d4cb-14c9-d7119c5ce636@faunalia.it>
 <82e8a447-f90f-c9df-9ab8-884805feea05@faunalia.it>
Message-ID: <00c50bd1-ce9e-1322-6347-20f6e4e4adcd@faunalia.it>

However, subsequent loading of the project works from the browser,
whereas it does not work (projects are not listed) from Project > Load
project from PostgreSQL. To display it, one has to:
* select schema public
* select back schema gis
then the projects are listed.
Cheers.

On 03/05/19 19:43, Paolo Cavallini wrote:
> Sorry, my fault, missing the option in the connection options.
> 
> On 03/05/19 19:41, Paolo Cavallini wrote:
>> Hi all,
>> when saving a project on PostgreSQL, the schemas of the db are not
>> listed and cannot be selected, and the subsequent save fails with:
>> postgresql://pgday1:pgday1 at localhost:5432?sslmode=allow&dbname=pgday&schema&project=pgday
>> Anyone confirms?
>> Cheers.
>>
> 

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From luipir at gmail.com  Fri May  3 14:15:46 2019
From: luipir at gmail.com (Luigi Pirelli)
Date: Fri, 3 May 2019 23:15:46 +0200
Subject: [QGIS-Developer] [QGIS UserConf 2019] Last financial report
Message-ID: <CAFO80_rDnmiu3Rk=t7L5CTM+GNLmPvdSu2b+tCZ34hUYau30DQ@mail.gmail.com>

Hi

It's a pleasure to publish the final financial report of the User
Conference and Hackmeeting held in A Coruña (Spain) last march 2019.

You can read it at:
https://docs.google.com/document/d/1XMZsyP5mEE4ZKdCbd4YXx1wptkmGitZFjZ6cfvw8Hmo/edit

or getting the same link in the wiki of the event:
https://github.com/qgises/user_conf_2019_homepage/wiki/International-QGIS-User-Conference-in-A-Coru%C3%B1a,-Spain---March-4th-6th-2019

Kudos to Carmen Diez who managed all financial aspect of the event and
prepared this report.

Luigi Pirelli on behalf of the organization committee
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190503/af8875fa/attachment.html>

From cavallini at faunalia.it  Fri May  3 22:04:25 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 04 May 2019 07:04:25 +0200
Subject: [QGIS-Developer] [QGIS UserConf 2019] Last financial report
In-Reply-To: <CAFO80_rDnmiu3Rk=t7L5CTM+GNLmPvdSu2b+tCZ34hUYau30DQ@mail.gmail.com>
References: <CAFO80_rDnmiu3Rk=t7L5CTM+GNLmPvdSu2b+tCZ34hUYau30DQ@mail.gmail.com>
Message-ID: <E0D05AA6-F97A-4A5B-990B-6F5A9A2A72BA@faunalia.it>

Great, thanks a lot again to you all!

Il 3 maggio 2019 23:15:46 CEST, Luigi Pirelli <luipir at gmail.com> ha scritto:
>Hi
>
>It's a pleasure to publish the final financial report of the User
>Conference and Hackmeeting held in A Coruña (Spain) last march 2019.
>
>You can read it at:
>https://docs.google.com/document/d/1XMZsyP5mEE4ZKdCbd4YXx1wptkmGitZFjZ6cfvw8Hmo/edit
>
>or getting the same link in the wiki of the event:
>https://github.com/qgises/user_conf_2019_homepage/wiki/International-QGIS-User-Conference-in-A-Coru%C3%B1a,-Spain---March-4th-6th-2019
>
>Kudos to Carmen Diez who managed all financial aspect of the event and
>prepared this report.
>
>Luigi Pirelli on behalf of the organization committee

-- 
Sorry for being short
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190504/42272782/attachment.html>

From cavallini at faunalia.it  Fri May  3 22:54:08 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 4 May 2019 07:54:08 +0200
Subject: [QGIS-Developer] QGIS server and unique layer IDs
Message-ID: <3b7c6037-cdea-f36a-c606-2488529324f6@faunalia.it>

Hi all,
in QGIS server 2.18, if one loads two projects containing one or more
layer with the same internal project ID then the users will have
problems during navigation (deactivating a layer in one project will
also deactivate it in others). This is a problem in the frequent case
one generates several projects as copies of a master one. AFAIK this
should have been solved in QGIS server 3.x. Could anyone confirm?
Thanks.
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From cavallini at faunalia.it  Sat May  4 23:45:45 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun, 5 May 2019 08:45:45 +0200
Subject: [QGIS-Developer] DB Manager > History: current_user not written
	when updating
Message-ID: <f83c2a1d-73cd-8705-1d46-f662726c30d2@faunalia.it>

Hi all,
in QGIS 3.4 the Historicization of a table works smoothly, except for
the fact that the current_user is added to the table when creating or
deleting a feature, but not when updating. Does anyone confirm? I had a
look to the function[0] but I could not find anything obvious explaining
the failure.
Thanks for feedback.

[0]
CREATE OR REPLACE FUNCTION "gis"."polygons_update"()
RETURNS TRIGGER AS
$$
BEGIN
  IF OLD."time_end" IS NOT NULL THEN
    RETURN NULL;
  END IF;
  IF NEW."time_end" IS NULL THEN
    INSERT INTO "gis"."polygons"
("id_0","geom","id","name","area","centroid", "time_start", "time_end")
VALUES
(OLD."id_0",OLD."geom",OLD."id",OLD."name",OLD."area",OLD."centroid",
OLD."time_start", current_timestamp);
    NEW."time_start" = current_timestamp;
    NEW."ruolo_utente" = current_user;
  END IF;
  RETURN NEW;
END;
$$
LANGUAGE 'plpgsql';
-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From rdbath.regiodata at gmail.com  Mon May  6 00:54:21 2019
From: rdbath.regiodata at gmail.com (Thomas Baumann)
Date: Mon, 6 May 2019 09:54:21 +0200
Subject: [QGIS-Developer] how to make sure QGIS3 is always started by
	calling qgis.bat and not qgis.exe?
Message-ID: <CAD3koGkM2bxcKubv9UV222=NoU3eDCG8aNh_2YG7YYDBRMvMQg@mail.gmail.com>

Hello QGIS-Devs,

I recently asked a question on gis.stackexchange about how to make sure
that QGIS3 is always started by calling the qgis.bat file:
https://gis.stackexchange.com/questions/321108/check-whether-qgis3-was-started-by-qgis-bat-or-qgis-exe

( The reason why I want to make sure that qgis.bat is used is that I have
added a md5-check which checks the startup.py in the users profile path
against the current startup.py I want to rollout on all clients.)

One idea which was posted on stackexchange was to intentially break the
connection between qgis.exe and the *.env/*.var files qgis expects to find
in order to make sure QGIS can obly be started by calling the qgis.bat file.

I am just wondering if it is safe to use QGIS3 without the information in
the *.env and *.var files or is this rather a bad idea?

Any other ideas how to make sure everyone uses the current startup.py?


regards,

Thomas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190506/b1102930/attachment.html>

From am_patel at gtu.edu.in  Mon May  6 02:22:49 2019
From: am_patel at gtu.edu.in (Alpesh Patel)
Date: Mon, 6 May 2019 14:52:49 +0530
Subject: [QGIS-Developer] Generation of Shapefiles from Multi-layer stacked
 Segmentated image using QGIS
Message-ID: <CA+wq618CL-0W+qAAZKmRCX_853eR3fzGdVU4kX0j2sdAHkC4dw@mail.gmail.com>

Sir / Madam,

I have search a lots of videos and tutorials of QGIS for,

How to generate shapefiles of each class from the Multi-layer stacked
Segmentated image using QGIS.

But I have not found any tutorial or video guiding for this.

I have segmented  three layered stacked image.

I want to generate shapefiles for  each class from segmented image.

Than I want to use this shapefiles for training the machine learning
algorithm.

Can you please suggest some tutorial , material, documents or video for
step by step implementation of above task in QGIS?

I will be very thankful for your valuable help.

Regards,

Prof. Alpesh M Patel
Asst. Prof.,
EC Department,
VGEC Chandkheda
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190506/226e75f7/attachment.html>

From noreply at qgis.org  Mon May  6 02:57:09 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 06 May 2019 09:57:09 -0000
Subject: [QGIS-Developer] Plugin [1659] ORS Tools approval notification.
Message-ID: <20190506095709.3015.72058@2c6504964296>


Plugin ORS Tools approval by pcav.
The plugin version "[1659] ORS Tools 1.0.6" is now approved
Link: http://plugins.qgis.org/plugins/ORStools/

From hugo.mercier at oslandia.com  Mon May  6 03:05:55 2019
From: hugo.mercier at oslandia.com (Hugo Mercier)
Date: Mon, 6 May 2019 12:05:55 +0200
Subject: [QGIS-Developer] QGIS virtual layer incredibly slow
In-Reply-To: <CADk2tEQKeep5iBqbzoByn2UMm4eCTPsJB2fs9v5DyNZ=i4Kh1w@mail.gmail.com>
References: <affba11f-bddd-eb77-97a2-877e22341811@carto.net>
 <c694c5fd-c36f-77c4-6654-bb07665e2da0@oslandia.com>
 <ee915fe9-fdcb-1451-bfbe-4e484ef09049@carto.net>
 <CADk2tEQKeep5iBqbzoByn2UMm4eCTPsJB2fs9v5DyNZ=i4Kh1w@mail.gmail.com>
Message-ID: <fa7797d3-b893-eae5-a55b-148e985d6ece@oslandia.com>

Hi Andreas and Totò,

Thanks for the confirmation.

I agree this is not well documented. Even the small section in the
manual is a bit ... enigmatic :-/

Andreas' suggestion to have a link in the GUI to the manual seems good.
This, with a bit more explanations in the manual :) I'll see what I can do.

Totò: yes, this hidden column is always there when you create a virtual
layer. An alternative would have been to do as Spatialite does, by
joining on another special table
(https://www.gaia-gis.it/fossil/libspatialite/wiki?name=SpatialIndex),
but I find it even worse.

For something as "transparent" as we have in PostGIS, I think we would
need a query rewriter: something that parses the input SQL query and add
references to _search_frame_ for spatial predicates. That would require
to be compliant with the different SQLite versions (that may have little
differences in their support of SQL) or to ship a fixed version of
SQLite with QGIS.

On 02/05/2019 18:42, Totò Fiandaca wrote:
> Hi Hugo  
> but the _search_frame_ is always usable ?? or only in special cases?
> 
> Il giorno gio 2 mag 2019 alle ore 17:18 Andreas Neumann
> <a.neumann at carto.net <mailto:a.neumann at carto.net>> ha scritto:
> 
>     Hi Hugo,
> 
>     Indeed  - when I add the test against the _search_frame_ - everthing
>     works almost equally fast than within Postgis. Certainly now the
>     virtual
>     layer suddenly becomes useful and fast enough for us.
> 
>     But to be honest - I would never have guessed that. I was searching for
>     the "&&" operator that was necessary in the old days of Postgis (the
>     bounding box test). Is this something similar?
> 
>     Perhaps there should be a visible hint for that in the Virtual layer
>     creation dialogue? Googling for it reveals a section in the manual ;-)
>     https://docs.qgis.org/3.4/en/docs/user_manual/managing_data_source/create_layers.html#use-of-indexes
> 
>     Would be useful to add a button to the dialogue - a button like
>     "Performance hints" that would open this section in the manual.
> 
>     Many thanks - you will make my colleagues happy! I told them they have
>     to do everything in Postgis and not mix data formats.
> 
>     Matteo and Toto: can you try if that helps in your cases as well? Would
>     be interesting to know.
> 
>     Greetings,
> 
>     Andreas
> 
>     PS: with the 40 seconds before I thought - well - I as a slow human
>     might be even faster than that stupid computer. Who knows ... I could
>     have been faster! Now with Hugos hint is also a sub-second query.
> 
>     Am 02.05.19 um 16:36 schrieb Hugo Mercier:
>     > Hi,
>     >
>     > One big difference between spatialite and PostGIS is that PostGIS is
>     > able to use spatial indexes transparently, while spatialite cannot.
>     >
>     > Could you try with something like " ... AND lie._search_frame_ =
>     > tbap.geometry" ?
>     >
>     >
>     > On 02/05/2019 11:02, Andreas Neumann wrote:
>     >> Hi,
>     >>
>     >> One of my colleagues created a QGIS project where they loaded a
>     parcel
>     >> layer with approx. 24000 polygons (data source Postgis) and another
>     >> layer with 3 polygons representing project perimeters of contruction
>     >> sites. That second layer is in a Geopackage.
>     >>
>     >> Now they want to select all parcels that are intersecting the project
>     >> perimeters.
>     >>
>     >> The query is straightforward:
>     >>
>     >> SELECT lie.nummer_grundstueck, lie.gemeinde, tbap.bemerkungen,
>     lie.geometry
>     >> FROM lie_liegenschaft lie, tba_projektperimeter tbap
>     >> WHERE ST_Intersects(lie.geometry, tbap.geometry)
>     >>
>     >> Now the problem is: this query (24000 parcels, 3 project
>     perimeters) is
>     >> just incredibly slow: about 40 seconds. In a Postgis view this
>     would be
>     >> way less then a second! The worst thing: that virtual layer is
>     updated
>     >> with each and every zoom and pan. Is there no way to cache a
>     virtual layer?
>     >>
>     >> Can I do something to speed up our virtual layer? The parcel
>     layer only
>     >> chanes once a month and the perimeters only occasionally, so it
>     would be
>     >> best to cache the result within a QGIS session, because there are no
>     >> changes in the geometries of both layers expected.
>     >>
>     >> I understand that virtual layers somehow have to transfer all data
>     >> formats (through ogr) into SpatiaLite or SQLite to do the query, but
>     >> this is really way too slow for real world usage in my opinion
>     (unless I
>     >> do something wrong in our query).
>     >>
>     >> If you have any ideas how to speed up virtual layers in QGIS it
>     would be
>     >> much appreciated.
>     >>
>     >> Thanks,
>     >> Andreas
>     >>
>     >>
>     >> _______________________________________________
>     >> QGIS-Developer mailing list
>     >> QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>     >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >>
>     > _______________________________________________
>     > QGIS-Developer mailing list
>     > QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 
> -- 
> *Ing. Salvatore Fiandaca*
> *mobile*.:+39 327.493.8955 
> *m*: *pigrecoinfinito at gmail.com <mailto:pigrecoinfinito at gmail.com>*
> *C.F*.: FNDSVT71E29Z103G
> *P.IVA*: 06597870820
> *membro QGIS Italia - http://qgis.it/*
> *socio GFOSS.it - *http://gfoss.it/
> *blog:** https://pigrecoinfinito.wordpress.com/
> <https://pigrecoinfinito.wordpress.com/> 
> FB: Co-admin - https://www.facebook.com/qgis.it/** 
> <https://www.facebook.com/qgis.it/> *
> *TW:  <http://goog_95411464>**https://twitter.com/totofiandaca*
> 
> 43°51'0.54"N  10°34'27.62"E - EPSG:4326
> 
> “Se la conoscenza deve essere aperta a tutti,
> perchè mai limitarne l’accesso?” 
> R. Stallman
> 
> Questo documento, allegati inclusi, contiene informazioni di proprietà
> di FIANDACA SALVATORE e deve essere utilizzato esclusivamente dal
> destinatario in relazione alle finalità per le quali è stato ricevuto.
> E' vietata qualsiasi forma di riproduzione o divulgazione senza
> l'esplicito consenso di FIANDACA SALVATORE. Qualora fosse stato ricevuto
> per errore si prega di informare tempestivamente il mittente e
> distruggere la copia in proprio possesso.
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From apasotti at gmail.com  Mon May  6 05:02:18 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 6 May 2019 14:02:18 +0200
Subject: [QGIS-Developer] To Qt or not to Qt? This is the question.
Message-ID: <CAL5Q673XxSMk2GsKe=p=poY+MoOstb=yaDavV2bX5yrQdrZvMQ@mail.gmail.com>

Hi,

please have a look to https://github.com/qgis/QGIS/pull/9832

I think it's a good opportunity to start (or re-start in case i missed it)
a discussion about:

1. introducing new libraries where QT already provides an implementation
when there is a good reason to
2. using STL and other "modern C++" idioms and deviate from QT when there
is a good reason to

In the particular case of this PR I started from the consideration that
generating json "manually" by string concatenation was not a good idea
because it is error prone and not particularly efficient.
So i started by using QJson* from QT but it was not only very slow but also
it used an ugly syntax.

Moreover, json is becoming the preferred format especially for OGC API
(wfs3) and it is therefore important that we have a solid, efficient and
easy to use library for our json operations.

But, the library that IMO suited best the needs is not from the QT
ecosystem, for example, it uses std::string instead of QString, this is not
a problem for QGIS server because it already has overrides that take C
strings through QIODevive (note that despite the small overhead for the
conversion to/from QString, the new json implementation is still faster
than QJson).
To avoid unnecessary QString<->srd::string conversions, there will probably
be more server-specific overrides in the future.

Even if I started this work with the server in mind, similar considerations
will probably apply to some extent to the desktop as well.

The STL discussion is somewhat related (deviating from QT) but it is an
independent topic, I think we already started to deviate from QT when we
introduced std::unique_ptr, but I'd really like to go further and see more
automatic memory management and more usage of something like (a bit verbose
without typedefs):

std::unique_ptr<std::vector<std::unique_ptr<QgsSomeCoreClass>>>

This of course introduce problems with SIP bindings but this is another
story and we could start by using those idioms for internal implementation
and not for the API.

I'd be interested in what you guys think about these topics, I'm pretty
sure you have also thought about it some times.

Thanks in advance for your feedback!

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190506/0ec3a3a9/attachment-0001.html>

From anitagraser at gmx.at  Mon May  6 12:22:04 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Mon, 6 May 2019 21:22:04 +0200
Subject: [QGIS-Developer] Call for Grant Proposals 2019
Message-ID: <CAFFV8Fh2vG-tgh8WTUzv=WmABQ4=Mbk6Zum=sUs953V4qUQHsQ@mail.gmail.com>

Dear QGIS Community

Our first three rounds of Grant Proposals were a great success. We are very
pleased to announce the fourth round of grants is now available to QGIS
contributors.

Please read the QGIS.ORG blog post for details:
http://blog.qgis.org/2019/05/06/qgis-grants-4-call-for-grant-proposals-2019/

Regards,
Anita Graser
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190506/18a71de6/attachment.html>

From noreply at qgis.org  Mon May  6 23:51:22 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 07 May 2019 06:51:22 -0000
Subject: [QGIS-Developer] Plugin [1709] Geoprivacy approval notification.
Message-ID: <20190507065122.13171.9592@2c6504964296>


Plugin Geoprivacy approval by pcav.
The plugin version "[1709] Geoprivacy 1.0.1" is now approved
Link: http://plugins.qgis.org/plugins/GeoPriv/

From mathieu.chailloux at irstea.fr  Tue May  7 01:48:14 2019
From: mathieu.chailloux at irstea.fr (Chailloux Mathieu)
Date: Tue, 7 May 2019 10:48:14 +0200 (CEST)
Subject: [QGIS-Developer] ALL_TOUCH option of gdal_rasterize unavailable
 through processing algorithm
Message-ID: <1609170250.567421.1557218894584.JavaMail.zimbra@irstea.fr>


Hi all, 

I can't figure out how to call gdal_rasterize option ALL_TOUCH through a processing call. 
It works fine when calling gdal_rasterize directly but option seems unavailable in processing wrapper (for instance in algorithm GUI, no way to enable it). 
Looking into code, this parameter is not initialized in initAlgorithm , is there a reason why ? 

I call gdal:rasterize with below parameters : 




{'ALL_TOUCH': True, 'BURN': None, 'DATA_TYPE': 1, 'EXTENT': '693953.2805533272,727536.3604331076,6268381.3726414265,6308149.877684969[]', 'FIELD': 'Code', 'HEIGHT': 25.0, 'INPUT': 'C:/Users/mathieu.chailloux/AppData/Roaming/QGIS/QGIS3/profiles/default/python/plugins/BioDispersal/sample_data/BousquetOrbFull/Groups/w2/w2_vector.shp', 'NODATA': '-9999', 'OUTPUT': 'C:/Users/mathieu.chailloux/AppData/Roaming/QGIS/QGIS3/profiles/default/python/plugins/BioDispersal/sample_data/BousquetOrbFull/Groups/w2/w2_raster.tif', 'UNITS': 1, 'WIDTH': 25.0} 



and the resulting gdal command is : 




BQ_BEGIN


gdal_rasterize -l w2_vector -a Code -tr 25.0 25.0 -a_nodata -9999.0 -te 693953.2805533272 6268381.3726414265 727536.3604331076 6308149.877684969 -ot Int16 -of GTiff C:/Users/mathieu.chailloux/AppData/Roaming/QGIS/QGIS3/profiles/default/python/plugins/BioDispersal/sample_data/BousquetOrbFull/Groups/w2/w2_vector.shp C:/Users/mathieu.chailloux/AppData/Roaming/QGIS/QGIS3/profiles/default/python/plugins/BioDispersal/sample_data/BousquetOrbFull/Groups/w2/w2_raster.tif 
BQ_END
I hope someone can help me ! 

Regards, 
Mathieu [ http://www.irstea.fr/ ] 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190507/70dd57cb/attachment.html>

From noreply at qgis.org  Tue May  7 02:41:16 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 07 May 2019 09:41:16 -0000
Subject: [QGIS-Developer] Plugin [1713] CE-QUAL-W2_Bathymetry approval
	notification.
Message-ID: <20190507094116.29454.77327@2c6504964296>


Plugin CE-QUAL-W2_Bathymetry approval by pcav.
The plugin version "[1713] CE-QUAL-W2_Bathymetry 1.0" is now approved
Link: http://plugins.qgis.org/plugins/create_bathymetry/

From noreply at qgis.org  Tue May  7 05:06:41 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 07 May 2019 12:06:41 -0000
Subject: [QGIS-Developer] Plugin [1670] XYZ Hub Connector approval
	notification.
Message-ID: <20190507120641.7032.12877@2c6504964296>


Plugin XYZ Hub Connector approval by pcav.
The plugin version "[1670] XYZ Hub Connector 1.6.1" is now approved
Link: http://plugins.qgis.org/plugins/XYZHubConnector/

From olivier.dalang at gmail.com  Tue May  7 09:15:38 2019
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Tue, 7 May 2019 18:15:38 +0200
Subject: [QGIS-Developer] Building QGIS with Ninja on Windows -
	python37_d.lib
Message-ID: <CAExk7p0QFOuX+LJA1UgLqrFhTYijsKPRhdoYQvzGyg++CfxGfw@mail.gmail.com>

Dear List,

I was able to compile QGIS from source without issue on Windows by
following the instructions. The only issue is rebuilding time. Even for a
very small change, it takes over 2-3 minutes, making iterations very slow.

I found Nathan's article
<https://nathanw.net/2016/05/26/speeding-up-qgis-build-times-with-ninja/>
on how to compile with Ninja. With a few adaptations (using cmake instead
of ccmake), the compilation starts. But after a while (1830/4896), it
errors, with the following error (see below).

It looks like it can't link to python37_d.lib. I checked, but couldn't find
the file in OSGeo4W64\apps\Python37\libs nor on my system's python, so I
installed the python debug binaries (using the normal python installers for
windows), and tried to copy the file over to the OSGeo4W python install,
but it didn't work. I still get the same error, and some other messages
that may be linked).

Any idea on how to fix this ? I've googled the issue, but couldn't find any
useful information...

Thanks !!

Olivier

[1829/4896] Linking CXX shared module output\python\qgis\_core.pyd
FAILED: output/python/qgis/_core.pyd
cmd.exe /C "cd . && "C:\Program Files\CMake\bin\cmake.exe" -E vs_link_dll
--intdir=python\CMakeFiles\python_module_qgis__core.dir --manifests  --
C:\PROGRA~2\MICROS~1.0\VC\bin\amd64\link.exe /nologo
python\CMakeFiles\python_module_qgis__core.dir\core\sip_corepart0.cpp.obj
python\CMakeFiles\python_module_qgis__core.dir\core\sip_corepart1.cpp.obj
python\CMakeFiles\python_module_qgis__core.dir\core\sip_corepart2.cpp.obj
python\CMakeFiles\python_module_qgis__core.dir\core\sip_corepart3.cpp.obj
/out:output\python\qgis\_core.pyd /implib:python\_core.lib
/pdb:output\python\qgis\_core.pdb /dll /version:0.0 /machine:x64 /debug
/INCREMENTAL -LIBPATH:C:\Users\Olivier\Documents\QGIS\build\src\core
-LIBPATH:C:\Users\Olivier\Documents\QGIS\build\src\gui
C:\OSGeo4W64\apps\Python37\libs\python37.lib src\core\qgis_core.lib
C:\OSGeo4W64\lib\opencl.lib wsock32.lib "C:\Program Files (x86)\Windows
Kits\10\Lib\10.0.14393.0\um\x64\SetupAPI.Lib" dbghelp.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Xmld.lib C:\OSGeo4W64\apps\Qt5\lib\Qt5Svgd.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5WebKitWidgets.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5PrintSupportd.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Widgetsd.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5WebKit.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Guid.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Networkd.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Sqld.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Concurrentd.lib
C:\OSGeo4W64\apps\Qt5\lib\qca-qt5.lib
C:\OSGeo4W64\apps\Qt5\lib\qt5keychain.lib C:\OSGeo4W64\lib\proj_i.lib
C:\OSGeo4W64\lib\geos_c.lib C:\OSGeo4W64\lib\gdal_i.lib
C:\OSGeo4W64\lib\spatialindex-64.lib C:\OSGeo4W64\lib\expat.lib
C:\OSGeo4W64\lib\sqlite3_i.lib C:\OSGeo4W64\lib\spatialite_i.lib
C:\OSGeo4W64\lib\zip.lib C:\OSGeo4W64\apps\Qt5\lib\Qt5SerialPortd.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Positioningd.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Cored.lib kernel32.lib user32.lib gdi32.lib
winspool.lib shell32.lib ole32.lib oleaut32.lib uuid.lib comdlg32.lib
advapi32.lib  && cmd.exe /C "cd /D
C:\Users\Olivier\Documents\QGIS\build\python && "C:\Program
Files\CMake\bin\cmake.exe" -E echo "Copying extension _core" && "C:\Program
Files\CMake\bin\cmake.exe" -E copy_if_different
C:/Users/Olivier/Documents/QGIS/build/output/python/qgis/_core.pyd
C:/Users/Olivier/Documents/QGIS/build/output/python/qgis/_core.pyd""
LINK Pass 1: command "C:\PROGRA~2\MICROS~1.0\VC\bin\amd64\link.exe /nologo
python\CMakeFiles\python_module_qgis__core.dir\core\sip_corepart0.cpp.obj
python\CMakeFiles\python_module_qgis__core.dir\core\sip_corepart1.cpp.obj
python\CMakeFiles\python_module_qgis__core.dir\core\sip_corepart2.cpp.obj
python\CMakeFiles\python_module_qgis__core.dir\core\sip_corepart3.cpp.obj
/out:output\python\qgis\_core.pyd /implib:python\_core.lib
/pdb:output\python\qgis\_core.pdb /dll /version:0.0 /machine:x64 /debug
/INCREMENTAL -LIBPATH:C:\Users\Olivier\Documents\QGIS\build\src\core
-LIBPATH:C:\Users\Olivier\Documents\QGIS\build\src\gui
C:\OSGeo4W64\apps\Python37\libs\python37.lib src\core\qgis_core.lib
C:\OSGeo4W64\lib\opencl.lib wsock32.lib C:\Program Files (x86)\Windows
Kits\10\Lib\10.0.14393.0\um\x64\SetupAPI.Lib dbghelp.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Xmld.lib C:\OSGeo4W64\apps\Qt5\lib\Qt5Svgd.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5WebKitWidgets.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5PrintSupportd.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Widgetsd.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5WebKit.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Guid.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Networkd.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Sqld.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Concurrentd.lib
C:\OSGeo4W64\apps\Qt5\lib\qca-qt5.lib
C:\OSGeo4W64\apps\Qt5\lib\qt5keychain.lib C:\OSGeo4W64\lib\proj_i.lib
C:\OSGeo4W64\lib\geos_c.lib C:\OSGeo4W64\lib\gdal_i.lib
C:\OSGeo4W64\lib\spatialindex-64.lib C:\OSGeo4W64\lib\expat.lib
C:\OSGeo4W64\lib\sqlite3_i.lib C:\OSGeo4W64\lib\spatialite_i.lib
C:\OSGeo4W64\lib\zip.lib C:\OSGeo4W64\apps\Qt5\lib\Qt5SerialPortd.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Positioningd.lib
C:\OSGeo4W64\apps\Qt5\lib\Qt5Cored.lib kernel32.lib user32.lib gdi32.lib
winspool.lib shell32.lib ole32.lib oleaut32.lib uuid.lib comdlg32.lib
advapi32.lib /MANIFEST
/MANIFESTFILE:python\CMakeFiles\python_module_qgis__core.dir/intermediate.manifest
python\CMakeFiles\python_module_qgis__core.dir/manifest.res" failed (exit
code 1104) with the following output:
LINK : fatal error LNK1104: cannot open file 'python37_d.lib'
[1831/4896] Building CXX object
src\gui\CMakeFiles\qgis_gui.dir\qgspresetcolorrampdialog.cpp.obj
ninja: build stopped: subcommand failed.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190507/d1b07592/attachment-0001.html>

From jef at norbit.de  Tue May  7 09:27:01 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Tue, 7 May 2019 18:27:01 +0200
Subject: [QGIS-Developer] Building QGIS with Ninja on Windows -
 python37_d.lib
In-Reply-To: <CAExk7p0QFOuX+LJA1UgLqrFhTYijsKPRhdoYQvzGyg++CfxGfw@mail.gmail.com>
References: <CAExk7p0QFOuX+LJA1UgLqrFhTYijsKPRhdoYQvzGyg++CfxGfw@mail.gmail.com>
Message-ID: <20190507162701.3nqmyfjwsekt22ww@norbit.de>

Hi Olivier,

On Tue, 07. May 2019 at 18:15:38 +0200, Olivier Dalang wrote:
> It looks like it can't link to python37_d.lib. I checked, but couldn't find
> the file in OSGeo4W64\apps\Python37\libs nor on my system's python, so I
> installed the python debug binaries (using the normal python installers for
> windows), and tried to copy the file over to the OSGeo4W python install,
> but it didn't work. I still get the same error, and some other messages
> that may be linked).

Are you trying debug builds?  Try RelWithDebInfo instead. 

You can also use package-nightly.cmd to create packages.  That will also use
ninja and leave a build directory around, which you can also use for
development.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190507/d4c29f4a/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190507/d4c29f4a/attachment.ksh>

From wonder.sk at gmail.com  Tue May  7 09:53:56 2019
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue, 7 May 2019 18:53:56 +0200
Subject: [QGIS-Developer] Welcome Ismail Sunni for this year's GSoC
Message-ID: <CAC2XbFd2s2RjzwuahdFLNrq0HkKujQeRVz80Wm7+MGaipPuxAQ@mail.gmail.com>

Hi all

It is my pleasure to announce that this year's Google Summer of Code
program will include a project from Ismail Sunni to work on several
QGIS 3D improvements:
https://summerofcode.withgoogle.com/projects/#5265985207009280

Looking forward to having Ismail working on this project!

Cheers
Martin

From noreply at qgis.org  Tue May  7 10:31:24 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 07 May 2019 17:31:24 -0000
Subject: [QGIS-Developer] Plugin [1665] Climb approval notification.
Message-ID: <20190507173124.22139.8956@2c6504964296>


Plugin Climb approval by pcav.
The plugin version "[1665] Climb 1.1" is now approved
Link: http://plugins.qgis.org/plugins/Climb/

From werner.macho at gmail.com  Tue May  7 10:36:51 2019
From: werner.macho at gmail.com (Werner Macho)
Date: Tue, 07 May 2019 19:36:51 +0200
Subject: [QGIS-Developer] Welcome Ismail Sunni for this year's GSoC
In-Reply-To: <CAC2XbFd2s2RjzwuahdFLNrq0HkKujQeRVz80Wm7+MGaipPuxAQ@mail.gmail.com>
References: <CAC2XbFd2s2RjzwuahdFLNrq0HkKujQeRVz80Wm7+MGaipPuxAQ@mail.gmail.com>
Message-ID: <c01ab13906462cec24a07128ebe1cef6949a5cc0.camel@gmail.com>

Welcome Ismail! Looking forward to your prject which is very
interesting.
Good luck with QGIS and GSoC!

regards
Werner

On Tue, 2019-05-07 at 18:53 +0200, Martin Dobias wrote:
> Hi all
> 
> It is my pleasure to announce that this year's Google Summer of Code
> program will include a project from Ismail Sunni to work on several
> QGIS 3D improvements:
> https://summerofcode.withgoogle.com/projects/#5265985207009280
> 
> Looking forward to having Ismail working on this project!
> 
> Cheers
> Martin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From tim at kartoza.com  Tue May  7 12:26:09 2019
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 7 May 2019 20:26:09 +0100
Subject: [QGIS-Developer] Welcome Ismail Sunni for this year's GSoC
In-Reply-To: <c01ab13906462cec24a07128ebe1cef6949a5cc0.camel@gmail.com>
References: <CAC2XbFd2s2RjzwuahdFLNrq0HkKujQeRVz80Wm7+MGaipPuxAQ@mail.gmail.com>
 <c01ab13906462cec24a07128ebe1cef6949a5cc0.camel@gmail.com>
Message-ID: <9DBE3C82-1EC2-42E2-A03C-8D419AFD2664@kartoza.com>

Awesome! Well done @ismailsunni!

Tim Sutton 
Co-founder of Kartoza 
Ex-QGIS project chairman 

> On 7 May 2019, at 18:36, Werner Macho <werner.macho at gmail.com> wrote:
> 
> Welcome Ismail! Looking forward to your prject which is very
> interesting.
> Good luck with QGIS and GSoC!
> 
> regards
> Werner
> 
>> On Tue, 2019-05-07 at 18:53 +0200, Martin Dobias wrote:
>> Hi all
>> 
>> It is my pleasure to announce that this year's Google Summer of Code
>> program will include a project from Ismail Sunni to work on several
>> QGIS 3D improvements:
>> https://summerofcode.withgoogle.com/projects/#5265985207009280
>> 
>> Looking forward to having Ismail working on this project!
>> 
>> Cheers
>> Martin
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190507/296d1b8b/attachment.html>

From akbargumbira at gmail.com  Tue May  7 23:17:46 2019
From: akbargumbira at gmail.com (Akbar Gumbira)
Date: Wed, 8 May 2019 13:17:46 +0700
Subject: [QGIS-Developer] Welcome Ismail Sunni for this year's GSoC
In-Reply-To: <CAC2XbFd2s2RjzwuahdFLNrq0HkKujQeRVz80Wm7+MGaipPuxAQ@mail.gmail.com>
References: <CAC2XbFd2s2RjzwuahdFLNrq0HkKujQeRVz80Wm7+MGaipPuxAQ@mail.gmail.com>
Message-ID: <CAOnR-iJGkTLyKhADUGjv8WTLwkv-UKoSgwgx0eFPm0oQiGD9kA@mail.gmail.com>

Congratulations Ismail! Keep making QGIS cool! :-)

On Tue, May 7, 2019 at 11:54 PM Martin Dobias <wonder.sk at gmail.com> wrote:

> Hi all
>
> It is my pleasure to announce that this year's Google Summer of Code
> program will include a project from Ismail Sunni to work on several
> QGIS 3D improvements:
> https://summerofcode.withgoogle.com/projects/#5265985207009280
>
> Looking forward to having Ismail working on this project!
>
> Cheers
> Martin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 

*Akbar Gumbira *
*www.akbargumbira.com <http://www.akbargumbira.com>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190508/3efdaba6/attachment.html>

From noreply at qgis.org  Tue May  7 23:22:21 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 08 May 2019 06:22:21 -0000
Subject: [QGIS-Developer] Plugin [1714] SSAM approval notification.
Message-ID: <20190508062221.26908.52985@2c6504964296>


Plugin SSAM approval by pcav.
The plugin version "[1714] SSAM 0.9.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/SSAM/

From apasotti at gmail.com  Tue May  7 23:25:50 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 8 May 2019 08:25:50 +0200
Subject: [QGIS-Developer] Welcome Ismail Sunni for this year's GSoC
In-Reply-To: <CAC2XbFd2s2RjzwuahdFLNrq0HkKujQeRVz80Wm7+MGaipPuxAQ@mail.gmail.com>
References: <CAC2XbFd2s2RjzwuahdFLNrq0HkKujQeRVz80Wm7+MGaipPuxAQ@mail.gmail.com>
Message-ID: <CAL5Q670=6Y11H+qgQyWgteA0yU5_Jqy8xOmVGE8QXCttW3YFyg@mail.gmail.com>

That's great news,

Thank you Ismail and Martin for working on this!

Happy coding :)


On Tue, May 7, 2019 at 6:54 PM Martin Dobias <wonder.sk at gmail.com> wrote:

> Hi all
>
> It is my pleasure to announce that this year's Google Summer of Code
> program will include a project from Ismail Sunni to work on several
> QGIS 3D improvements:
> https://summerofcode.withgoogle.com/projects/#5265985207009280
>
> Looking forward to having Ismail working on this project!
>
> Cheers
> Martin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190508/83400c97/attachment.html>

From a.neumann at carto.net  Tue May  7 23:43:47 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 08 May 2019 08:43:47 +0200
Subject: [QGIS-Developer] QPainter messages
Message-ID: <f3aca9a51b2314f3c8bd799b31011ad9@carto.net>

Hi, 

I have a docker QGIS server container and I receive many thousands of
messages like the following in my docker log files: 

QPainter::setPen: Painter not active
QPainter::drawPath: Painter not active
QPainter::begin: Paint device returned engine == 0, type: 3
QPainter::setRenderHint: Painter must be active to set rendering hints
QPainter::setBrush: Painter not active 

This is followed by many lines like  

Warning 1: Unable to find driver ECW to unload from GDAL_SKIP
environment variable.
Warning 1: Unable to find driver JP2ECW to unload from GDAL_SKIP
environment variable.
Warning 1: Unable to find driver ECW to unload from GDAL_SKIP
environment variable. 

When I do "docker logs ..." I have to wait about 2 minutes until these
many QPainter messages ran through the terminal. 

---------- 

Are those QPainter messages something I need to worry about? If not,
could I silence them? 

Thanks if you have any hints, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190508/dab7414d/attachment.html>

From olivier.dalang at gmail.com  Wed May  8 01:05:27 2019
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Wed, 8 May 2019 10:05:27 +0200
Subject: [QGIS-Developer] Building QGIS with Ninja on Windows -
	python37_d.lib
In-Reply-To: <20190507162701.3nqmyfjwsekt22ww@norbit.de>
References: <CAExk7p0QFOuX+LJA1UgLqrFhTYijsKPRhdoYQvzGyg++CfxGfw@mail.gmail.com>
 <20190507162701.3nqmyfjwsekt22ww@norbit.de>
Message-ID: <CAExk7p0PmG2nf+6PMMeMcdQ7F5Um0cVejqFy0re4pFR9x==JAA@mail.gmail.com>

Thanks, that was it !

I wasn't giving the CMAKE_BUILD_TYPE argument to CMAKE. I'll make a PR
shortly to add this info to INSTALL.

Rebuild is indeed much faster than from withing Visual Studio !

Cheers,

Olivier


On Tue, 7 May 2019 at 18:27, Jürgen E. Fischer <jef at norbit.de> wrote:

> Hi Olivier,
>
> On Tue, 07. May 2019 at 18:15:38 +0200, Olivier Dalang wrote:
> > It looks like it can't link to python37_d.lib. I checked, but couldn't
> find
> > the file in OSGeo4W64\apps\Python37\libs nor on my system's python, so I
> > installed the python debug binaries (using the normal python installers
> for
> > windows), and tried to copy the file over to the OSGeo4W python install,
> > but it didn't work. I still get the same error, and some other messages
> > that may be linked).
>
> Are you trying debug builds?  Try RelWithDebInfo instead.
>
> You can also use package-nightly.cmd to create packages.  That will also
> use
> ninja and leave a build directory around, which you can also use for
> development.
>
>
> Jürgen
>
> --
> Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
> Software Engineer           D-26506 Norden
> https://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190508/de12816a/attachment-0001.html>

From jef at norbit.de  Wed May  8 01:24:09 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Wed, 8 May 2019 10:24:09 +0200
Subject: [QGIS-Developer] Building QGIS with Ninja on Windows -
 python37_d.lib
In-Reply-To: <CAExk7p0PmG2nf+6PMMeMcdQ7F5Um0cVejqFy0re4pFR9x==JAA@mail.gmail.com>
References: <CAExk7p0QFOuX+LJA1UgLqrFhTYijsKPRhdoYQvzGyg++CfxGfw@mail.gmail.com>
 <20190507162701.3nqmyfjwsekt22ww@norbit.de>
 <CAExk7p0PmG2nf+6PMMeMcdQ7F5Um0cVejqFy0re4pFR9x==JAA@mail.gmail.com>
Message-ID: <20190508082409.gt4oo3twm4jp5cce@norbit.de>

Hi Olivier,

On Wed, 08. May 2019 at 10:05:27 +0200, Olivier Dalang wrote:
> Thanks, that was it !

> I wasn't giving the CMAKE_BUILD_TYPE argument to CMAKE. I'll make a PR
> shortly to add this info to INSTALL.

doc/msvc.t2t - INSTALL is an output file.

A note to refer to package-nightly.cmd is already there.


Jürgen

-- 
Jürgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-31
Dipl.-Inf. (FH)           Rheinstraße 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden              https://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190508/0ea8eb88/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190508/0ea8eb88/attachment.ksh>

From tom.chadwin at nnpa.org.uk  Wed May  8 01:42:20 2019
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Wed, 8 May 2019 01:42:20 -0700 (MST)
Subject: [QGIS-Developer] Boundless Web App Builder and qgis2web - QGIS
 grant proposal possible
Message-ID: <1557304940917-0.post@n6.nabble.com>

Hello all

As many of you know, qgis2web was built on top of Victor's work on his
previous plugin qgis-ol3. Victor went on to be the major developer of the
Boundless Web App Builder plugin (WAB). WAB exports to OpenLayers, while
qgis2web exports to OpenLayers or Leaflet.

With Boundless's change in focus (I hope it would be fair to describe this
as "away from QGIS"), I wonder if we can try to incorporate some of Web App
Builder's functionality into qgis2web. Victor and I are both keen for this
to take place, and it would certainly be a shame if all the amazing
functionality which Victor (and others) built into WAB were lost.

Would any dev/devs be interested in this as a possible QGIS grants proposal?
Victor and I are both happy to help guide contributors around the WAB and
qgis2web codebases and help in any way we can.

I don't think I'll put in such a proposal myself, so if anyone else is
interested, please do get in touch.

All the best

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From cavallini at faunalia.it  Wed May  8 02:01:32 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 8 May 2019 11:01:32 +0200
Subject: [QGIS-Developer] Boundless Web App Builder and qgis2web - QGIS
 grant proposal possible
In-Reply-To: <1557304940917-0.post@n6.nabble.com>
References: <1557304940917-0.post@n6.nabble.com>
Message-ID: <1d451c67-c567-43da-1eea-00873db996f7@faunalia.it>

Hi Tom,

On 08/05/19 10:42, Tom Chadwin wrote:
> Hello all
> 
> As many of you know, qgis2web was built on top of Victor's work on his
> previous plugin qgis-ol3. Victor went on to be the major developer of the
> Boundless Web App Builder plugin (WAB). WAB exports to OpenLayers, while
> qgis2web exports to OpenLayers or Leaflet.
> 
> With Boundless's change in focus (I hope it would be fair to describe this
> as "away from QGIS"), I wonder if we can try to incorporate some of Web App
> Builder's functionality into qgis2web. Victor and I are both keen for this
> to take place, and it would certainly be a shame if all the amazing
> functionality which Victor (and others) built into WAB were lost.
> 
> Would any dev/devs be interested in this as a possible QGIS grants proposal?
> Victor and I are both happy to help guide contributors around the WAB and
> qgis2web codebases and help in any way we can.
> 
> I don't think I'll put in such a proposal myself, so if anyone else is
> interested, please do get in touch.

this would be most welcome by many people, I'm sure. However, our new
Grants will be focused, following the requests from QGIS users, on
polishing and improving rather than on new features.
This seems to me a good opportunity for a crowdfunding initiative.
Would you be interested in starting and coordinating it?
Cheers.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From imajimatika at gmail.com  Wed May  8 02:22:34 2019
From: imajimatika at gmail.com (Ismail Sunni)
Date: Wed, 8 May 2019 11:22:34 +0200
Subject: [QGIS-Developer] Welcome Ismail Sunni for this year's GSoC
In-Reply-To: <CAL5Q670=6Y11H+qgQyWgteA0yU5_Jqy8xOmVGE8QXCttW3YFyg@mail.gmail.com>
References: <CAC2XbFd2s2RjzwuahdFLNrq0HkKujQeRVz80Wm7+MGaipPuxAQ@mail.gmail.com>
 <CAL5Q670=6Y11H+qgQyWgteA0yU5_Jqy8xOmVGE8QXCttW3YFyg@mail.gmail.com>
Message-ID: <CAEh5jtH-yZA7p=a=U0-aYGgyMW-y87xuk2t601MEHFfs1vze3A@mail.gmail.com>

Thanks, Martin, Werner, Tim, Akbar, and Alessandro for the warm welcome.

Thanks also for the feedback from the community for the improvement of the
proposal. If you are interested, you can find it here:
https://docs.google.com/document/d/1RcXiEyziQyGurqDGRBN3g-het33liVD81WFjv8qQlt8/edit?usp=sharing.
I will be mentored by Martin Dobias and Peter Petrik.

A little bit of introduction, my name is Ismail Sunni. I am from Indonesia
but currently, I am in Muenster, NRW, Germany for my master study on
Geospatial Technologies at the University of Muenster.

I have been working on QGIS since 2012, but mostly on the plugin
development (i.e. InaSAFE, stream feature extractor, and SG-Diagram
Downloader, http://plugins.qgis.org/plugins/user/ismailsunni/admin). I also
work a little bit on the QGIS Server for GeoNode and GeoNode integration on
QGIS. All of them are done when I am working with Tim. Other than that, I
mostly with Python and Django. I have come to 2 QGIS hackfest in Nodebo
(2017) and A Coruna (2018), so probably I have met with some of you in
person :)

By joining the GSoC project for QGIS, hopefully, it will give me a chance
to learn more about 3D programming, QGIS 3D itself, and obviously more
about the QGIS community.

Best regards


On Wed, May 8, 2019 at 8:26 AM Alessandro Pasotti <apasotti at gmail.com>
wrote:

> That's great news,
>
> Thank you Ismail and Martin for working on this!
>
> Happy coding :)
>
>
> On Tue, May 7, 2019 at 6:54 PM Martin Dobias <wonder.sk at gmail.com> wrote:
>
>> Hi all
>>
>> It is my pleasure to announce that this year's Google Summer of Code
>> program will include a project from Ismail Sunni to work on several
>> QGIS 3D improvements:
>> https://summerofcode.withgoogle.com/projects/#5265985207009280
>>
>> Looking forward to having Ismail working on this project!
>>
>> Cheers
>> Martin
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Ismail Sunni
ismailsunni.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190508/2f82b5ad/attachment.html>

From tim at kartoza.com  Wed May  8 02:50:29 2019
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 8 May 2019 10:50:29 +0100
Subject: [QGIS-Developer] Welcome Ismail Sunni for this year's GSoC
In-Reply-To: <CAEh5jtH-yZA7p=a=U0-aYGgyMW-y87xuk2t601MEHFfs1vze3A@mail.gmail.com>
References: <CAC2XbFd2s2RjzwuahdFLNrq0HkKujQeRVz80Wm7+MGaipPuxAQ@mail.gmail.com>
 <CAL5Q670=6Y11H+qgQyWgteA0yU5_Jqy8xOmVGE8QXCttW3YFyg@mail.gmail.com>
 <CAEh5jtH-yZA7p=a=U0-aYGgyMW-y87xuk2t601MEHFfs1vze3A@mail.gmail.com>
Message-ID: <9B35AA8F-A845-4850-B432-19EE21401120@kartoza.com>

For those like me who have been following 3D stuff closely, I have also been compiling a running wish list of things I wish I could do in 3D which I shared with Martin.

https://docs.google.com/document/d/1efgDilOpw_mT1clZRi8er_5ZwW7ZVQB97gQqaot6xXs/edit?usp=sharing

It would be great if you add to my list so we can be ready for 5 years time when we only interact with QGIS via AR/VR :-)

Regards

Tim

> On 8 May 2019, at 10:22, Ismail Sunni <imajimatika at gmail.com> wrote:
> 
> Thanks, Martin, Werner, Tim, Akbar, and Alessandro for the warm welcome.
> 
> Thanks also for the feedback from the community for the improvement of the proposal. If you are interested, you can find it here: https://docs.google.com/document/d/1RcXiEyziQyGurqDGRBN3g-het33liVD81WFjv8qQlt8/edit?usp=sharing <https://docs.google.com/document/d/1RcXiEyziQyGurqDGRBN3g-het33liVD81WFjv8qQlt8/edit?usp=sharing>. I will be mentored by Martin Dobias and Peter Petrik.
> 
> A little bit of introduction, my name is Ismail Sunni. I am from Indonesia but currently, I am in Muenster, NRW, Germany for my master study on Geospatial Technologies at the University of Muenster.
> 
> I have been working on QGIS since 2012, but mostly on the plugin development (i.e. InaSAFE, stream feature extractor, and SG-Diagram Downloader, http://plugins.qgis.org/plugins/user/ismailsunni/admin <http://plugins.qgis.org/plugins/user/ismailsunni/admin>). I also work a little bit on the QGIS Server for GeoNode and GeoNode integration on QGIS. All of them are done when I am working with Tim. Other than that, I mostly with Python and Django. I have come to 2 QGIS hackfest in Nodebo (2017) and A Coruna (2018), so probably I have met with some of you in person :)
> 
> By joining the GSoC project for QGIS, hopefully, it will give me a chance to learn more about 3D programming, QGIS 3D itself, and obviously more about the QGIS community.
> 
> Best regards
> 
> 
> On Wed, May 8, 2019 at 8:26 AM Alessandro Pasotti <apasotti at gmail.com <mailto:apasotti at gmail.com>> wrote:
> That's great news, 
> 
> Thank you Ismail and Martin for working on this!
> 
> Happy coding :)
> 
> 
> On Tue, May 7, 2019 at 6:54 PM Martin Dobias <wonder.sk at gmail.com <mailto:wonder.sk at gmail.com>> wrote:
> Hi all
> 
> It is my pleasure to announce that this year's Google Summer of Code
> program will include a project from Ismail Sunni to work on several
> QGIS 3D improvements:
> https://summerofcode.withgoogle.com/projects/#5265985207009280 <https://summerofcode.withgoogle.com/projects/#5265985207009280>
> 
> Looking forward to having Ismail working on this project!
> 
> Cheers
> Martin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it <http://www.itopen.it/>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 
> -- 
> Ismail Sunni
> ismailsunni.wordpress.com <http://ismailsunni.wordpress.com/>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190508/dd933d73/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190508/dd933d73/attachment-0001.jpg>

From matteo.ghetta at gmail.com  Wed May  8 03:34:35 2019
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 8 May 2019 12:34:35 +0200
Subject: [QGIS-Developer] Virtual layers not working in OSX
Message-ID: <8e1d8d8c-0030-eee5-427a-bd78eb7342e3@gmail.com>

Hi all,

does anyone confirm that sql queries (geopackage, virtual layers...) in
Db Manager and virtual layer standalone dialog does not work?

3.4 version of QGIS

Thanks

Matteo

From noreply at qgis.org  Wed May  8 08:03:19 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 08 May 2019 15:03:19 -0000
Subject: [QGIS-Developer] Plugin [1524] MzS Tools approval notification.
Message-ID: <20190508150319.19648.70525@2c6504964296>


Plugin MzS Tools approval by pcav.
The plugin version "[1524] MzS Tools 1.1" is now approved
Link: http://plugins.qgis.org/plugins/MzSTools/

From olivier.dalang at gmail.com  Wed May  8 10:53:55 2019
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Wed, 8 May 2019 19:53:55 +0200
Subject: [QGIS-Developer] Building QGIS with Ninja on Windows -
	python37_d.lib
In-Reply-To: <20190508082409.gt4oo3twm4jp5cce@norbit.de>
References: <CAExk7p0QFOuX+LJA1UgLqrFhTYijsKPRhdoYQvzGyg++CfxGfw@mail.gmail.com>
 <20190507162701.3nqmyfjwsekt22ww@norbit.de>
 <CAExk7p0PmG2nf+6PMMeMcdQ7F5Um0cVejqFy0re4pFR9x==JAA@mail.gmail.com>
 <20190508082409.gt4oo3twm4jp5cce@norbit.de>
Message-ID: <CAExk7p170xz6QeOApCdc1HoqOpzxUqrRU1aeOVmWMFxY-9dxUg@mail.gmail.com>

I saw the reference to package-nightly.cmd, but it's not that easy to
follow, at least it wasn't for me. I was thinking of a note like [1] to
help out other new commers. If it makes sense, I can open a PR.

Also, I'm now stuck with the prepare-commit.sh step under Windows.
I tried with WSL, where the script runs, but failed because of a few
dependencies (astyle itself, autopep8 and a few others, all of which were
easy to apt-get install), but it still fails after that with :
Cannot open default option file /mnt/c/Users/Olivier/Documents/QGIS/C:
Artistic Style has terminated

I also tired to build with WITH_ASTYLE=ON as suggested on [2], but that
didn't seem to have any effect. I did it like this :
$ cmake -G Ninja -D CMAKE_BUILD_TYPE=RELWITHDEBINFO -D WITH_ASTYLE=ON ..
$ ninja

Is this the correct way to do it ?

Thanks !!

Olivier

[1] :
https://github.com/qgis/QGIS/compare/master...olivierdalang:ninja_instructions_for_win?expand=1
[2] : https://lists.osgeo.org/pipermail/qgis-developer/2017-July/049324.html




On Wed, 8 May 2019 at 10:24, Jürgen E. Fischer <jef at norbit.de> wrote:

> Hi Olivier,
>
> On Wed, 08. May 2019 at 10:05:27 +0200, Olivier Dalang wrote:
> > Thanks, that was it !
>
> > I wasn't giving the CMAKE_BUILD_TYPE argument to CMAKE. I'll make a PR
> > shortly to add this info to INSTALL.
>
> doc/msvc.t2t - INSTALL is an output file.
>
> A note to refer to package-nightly.cmd is already there.
>
>
> Jürgen
>
> --
> Jürgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-31
> Dipl.-Inf. (FH)           Rheinstraße 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden
> https://www.norbit.de
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190508/54c9c2c1/attachment.html>

From noreply at qgis.org  Wed May  8 23:37:24 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 09 May 2019 06:37:24 -0000
Subject: [QGIS-Developer] Plugin [1635] Interface Catchment approval
	notification.
Message-ID: <20190509063724.4874.97041@2c6504964296>


Plugin Interface Catchment approval by pcav.
The plugin version "[1635] Interface Catchment 1.2" is now approved
Link: http://plugins.qgis.org/plugins/interfacecatchment/

From noreply at qgis.org  Wed May  8 23:37:47 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 09 May 2019 06:37:47 -0000
Subject: [QGIS-Developer] Plugin [1634] AwaP approval notification.
Message-ID: <20190509063747.4874.17597@2c6504964296>


Plugin AwaP approval by pcav.
The plugin version "[1634] AwaP 1.1" is now approved
Link: http://plugins.qgis.org/plugins/awap/

From a.neumann at carto.net  Thu May  9 02:28:00 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 9 May 2019 11:28:00 +0200
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
Message-ID: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>

Hi QGIS (server) devs,

We came across issues around calculating bounding boxes in QGIS server.

1. Layers with only one point feature:

If a layer contains only one single point feature, QGIS server 
calculates a bounding box where the minx equals maxx and miny equals 
maxy, so resulting in a bounding box without a width and height. Sounds 
logical to QGIS server developers, but combined with the fact that QGIS 
server doesn't take into account rendered symbol sizes (another issue we 
have, see issue nr 2), it means that no WMS client will ever see this 
one single symbol rendered, which can't be the solution here ...

2. Layer bounding boxes do not take into account rendered symbol sizes:

Please have a look at 
http://www.carto.net/neumann/temp/qgis_server_bounding_box_issue.png - 
The green rectangle and the green arrows are not part of the QGIS server 
rendering, but they are added as an annotation to the rendered QGIS 
server graphics, to highlight the issues.

Here we have the issue that QGIS server only uses the "raw" geometry of 
point symbols without taking into account rendered symbol sizes. Now, I 
do understand that calculating symbol sizes is scale dependent and there 
is no single solution to that, but again, I think the current behavior 
of QGIS server (simply cutting off symbols at layer bounding boxes) is 
not a good and nice behavior. At least, I think the author of the WMS 
service should have a chance to define an extra margin to be added to 
the bounding boxes of the raw geometries of the point layer, either as a 
"per project" or "per layer" QGIS server configuration.

@Andrea: I wonder what Geoserver does in such cases?

Any thoughts how to solve these issues? The current behavior of QGIS 
server is not satisfactory to me, for both cases.

Thanks for your replies,

Andreas


From nyall.dawson at gmail.com  Thu May  9 02:44:52 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 9 May 2019 19:44:52 +1000
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
In-Reply-To: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
References: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
Message-ID: <CAB28AsiWfSRDHgO79eJgBJU=bV0qBaKJ2PHkEvouCpFW9X+J_w@mail.gmail.com>

On Thu, 9 May 2019 at 19:28, Andreas Neumann <a.neumann at carto.net> wrote:

> @Andrea: I wonder what Geoserver does in such cases?

That was my first thought too -- I think it's worth surveying how the
other servers (inc mapserver, etc) handle this situation.

Nyall

>
> Any thoughts how to solve these issues? The current behavior of QGIS
> server is not satisfactory to me, for both cases.
>
> Thanks for your replies,
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From bernhard.stroebl at jena.de  Thu May  9 02:48:48 2019
From: bernhard.stroebl at jena.de (=?UTF-8?Q?Bernhard_Str=c3=b6bl?=)
Date: Thu, 9 May 2019 11:48:48 +0200
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
In-Reply-To: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
References: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
Message-ID: <42b916d5-25a1-2712-76a9-1904f83925b2@jena.de>

Hi Andreas,

remember ticket #9160 [1], probably the solution found there could be 
used for QGIS-Server?

Bernhard

[1] https://issues.qgis.org/issues/9160

Am 09.05.2019 um 11:28 schrieb Andreas Neumann:
> Hi QGIS (server) devs,
> 
> We came across issues around calculating bounding boxes in QGIS server.
> 
> 1. Layers with only one point feature:
> 
> If a layer contains only one single point feature, QGIS server 
> calculates a bounding box where the minx equals maxx and miny equals 
> maxy, so resulting in a bounding box without a width and height. Sounds 
> logical to QGIS server developers, but combined with the fact that QGIS 
> server doesn't take into account rendered symbol sizes (another issue we 
> have, see issue nr 2), it means that no WMS client will ever see this 
> one single symbol rendered, which can't be the solution here ...
> 
> 2. Layer bounding boxes do not take into account rendered symbol sizes:
> 
> Please have a look at 
> http://www.carto.net/neumann/temp/qgis_server_bounding_box_issue.png - 
> The green rectangle and the green arrows are not part of the QGIS server 
> rendering, but they are added as an annotation to the rendered QGIS 
> server graphics, to highlight the issues.
> 
> Here we have the issue that QGIS server only uses the "raw" geometry of 
> point symbols without taking into account rendered symbol sizes. Now, I 
> do understand that calculating symbol sizes is scale dependent and there 
> is no single solution to that, but again, I think the current behavior 
> of QGIS server (simply cutting off symbols at layer bounding boxes) is 
> not a good and nice behavior. At least, I think the author of the WMS 
> service should have a chance to define an extra margin to be added to 
> the bounding boxes of the raw geometries of the point layer, either as a 
> "per project" or "per layer" QGIS server configuration.
> 
> @Andrea: I wonder what Geoserver does in such cases?
> 
> Any thoughts how to solve these issues? The current behavior of QGIS 
> server is not satisfactory to me, for both cases.
> 
> Thanks for your replies,
> 
> Andreas
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 
Bernhard Ströbl
Anwendungsbetreuer GIS

Kommunale Immobilien Jena
Am Anger 26
07743 Jena

Tel.: 03641 49- 5190
E-Mail: bernhard.stroebl at jena.de
Internet: www.kij.de


Kommunale Immobilien Jena
Eigenbetrieb der Stadt Jena
Werkleiter: Karl-Hermann Kliewe


__________ Information from ESET Mail Security, version of virus signature database 19326 (20190509) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From rldhont at gmail.com  Thu May  9 02:51:25 2019
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Thu, 9 May 2019 11:51:25 +0200
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
In-Reply-To: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
References: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
Message-ID: <abf3bf0b-eb16-cbc6-02aa-9bc451376f0d@gmail.com>

Hi Andreas,

The layer extent is not calculated by QGIS Server. It is read from the 
project, and the extent in the project is provided by QGIS when saving it.

In QGIS Server, the layer extent is used to restrict the rendering to 
the WMS layer extent.

Regards,
René-Luc

Le 09/05/2019 à 11:28, Andreas Neumann a écrit :
> Hi QGIS (server) devs,
>
> We came across issues around calculating bounding boxes in QGIS server.
>
> 1. Layers with only one point feature:
>
> If a layer contains only one single point feature, QGIS server 
> calculates a bounding box where the minx equals maxx and miny equals 
> maxy, so resulting in a bounding box without a width and height. 
> Sounds logical to QGIS server developers, but combined with the fact 
> that QGIS server doesn't take into account rendered symbol sizes 
> (another issue we have, see issue nr 2), it means that no WMS client 
> will ever see this one single symbol rendered, which can't be the 
> solution here ...
>
> 2. Layer bounding boxes do not take into account rendered symbol sizes:
>
> Please have a look at 
> http://www.carto.net/neumann/temp/qgis_server_bounding_box_issue.png - 
> The green rectangle and the green arrows are not part of the QGIS 
> server rendering, but they are added as an annotation to the rendered 
> QGIS server graphics, to highlight the issues.
>
> Here we have the issue that QGIS server only uses the "raw" geometry 
> of point symbols without taking into account rendered symbol sizes. 
> Now, I do understand that calculating symbol sizes is scale dependent 
> and there is no single solution to that, but again, I think the 
> current behavior of QGIS server (simply cutting off symbols at layer 
> bounding boxes) is not a good and nice behavior. At least, I think the 
> author of the WMS service should have a chance to define an extra 
> margin to be added to the bounding boxes of the raw geometries of the 
> point layer, either as a "per project" or "per layer" QGIS server 
> configuration.
>
> @Andrea: I wonder what Geoserver does in such cases?
>
> Any thoughts how to solve these issues? The current behavior of QGIS 
> server is not satisfactory to me, for both cases.
>
> Thanks for your replies,
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From a.neumann at carto.net  Thu May  9 02:59:56 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu, 9 May 2019 11:59:56 +0200
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
In-Reply-To: <abf3bf0b-eb16-cbc6-02aa-9bc451376f0d@gmail.com>
References: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
 <abf3bf0b-eb16-cbc6-02aa-9bc451376f0d@gmail.com>
Message-ID: <491279cb-96a2-3fdf-1a0b-04dd4bfeee38@carto.net>

Hi René-Luc,

Thanks for the explanation. Any chance we can "influence" that extent 
calculation (e.g. adding a user-defined margin to that extent?) - I 
guess a fully manual override would not be satisfactory as data changes, 
but adding a user-defined margin to that extent might help for both 
issues we have.

Also, this fact that layer extents are stored in QGIS worries me quite a 
bit. We live in a GDI where any minute data can be changed by any client 
(QGIS, ArcGIS, Geomedia, you name it). What if Geomedia adds features 
outside of the layer extent that is stored in the QGIS project, would 
that data then be ignored by QGIS server, because it is outside of the 
extent stored in the project file in QGIS?

Anyway - I would rather have global bounding boxes for all layers 
(defined globally per project) than some calculated exents stored in a 
QGIS project file that might be outdated quite easily, because other GIS 
edit the data meanwhile. I am not worried about bounding boxes being too 
big, but worried about bounding boxes that hide away existing data.

Andreas

Am 09.05.19 um 11:51 schrieb René-Luc Dhont:
> Hi Andreas,
>
> The layer extent is not calculated by QGIS Server. It is read from the 
> project, and the extent in the project is provided by QGIS when saving 
> it.
>
> In QGIS Server, the layer extent is used to restrict the rendering to 
> the WMS layer extent.
>
> Regards,
> René-Luc
>
> Le 09/05/2019 à 11:28, Andreas Neumann a écrit :
>> Hi QGIS (server) devs,
>>
>> We came across issues around calculating bounding boxes in QGIS server.
>>
>> 1. Layers with only one point feature:
>>
>> If a layer contains only one single point feature, QGIS server 
>> calculates a bounding box where the minx equals maxx and miny equals 
>> maxy, so resulting in a bounding box without a width and height. 
>> Sounds logical to QGIS server developers, but combined with the fact 
>> that QGIS server doesn't take into account rendered symbol sizes 
>> (another issue we have, see issue nr 2), it means that no WMS client 
>> will ever see this one single symbol rendered, which can't be the 
>> solution here ...
>>
>> 2. Layer bounding boxes do not take into account rendered symbol sizes:
>>
>> Please have a look at 
>> http://www.carto.net/neumann/temp/qgis_server_bounding_box_issue.png 
>> - The green rectangle and the green arrows are not part of the QGIS 
>> server rendering, but they are added as an annotation to the rendered 
>> QGIS server graphics, to highlight the issues.
>>
>> Here we have the issue that QGIS server only uses the "raw" geometry 
>> of point symbols without taking into account rendered symbol sizes. 
>> Now, I do understand that calculating symbol sizes is scale dependent 
>> and there is no single solution to that, but again, I think the 
>> current behavior of QGIS server (simply cutting off symbols at layer 
>> bounding boxes) is not a good and nice behavior. At least, I think 
>> the author of the WMS service should have a chance to define an extra 
>> margin to be added to the bounding boxes of the raw geometries of the 
>> point layer, either as a "per project" or "per layer" QGIS server 
>> configuration.
>>
>> @Andrea: I wonder what Geoserver does in such cases?
>>
>> Any thoughts how to solve these issues? The current behavior of QGIS 
>> server is not satisfactory to me, for both cases.
>>
>> Thanks for your replies,
>>
>> Andreas
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From rldhont at gmail.com  Thu May  9 03:07:59 2019
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Thu, 9 May 2019 12:07:59 +0200
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
In-Reply-To: <491279cb-96a2-3fdf-1a0b-04dd4bfeee38@carto.net>
References: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
 <abf3bf0b-eb16-cbc6-02aa-9bc451376f0d@gmail.com>
 <491279cb-96a2-3fdf-1a0b-04dd4bfeee38@carto.net>
Message-ID: <6d0c243f-853c-dd8e-12eb-c81021ef7b83@gmail.com>

Hi Andreas

Le 09/05/2019 à 11:59, Andreas Neumann a écrit :
> Hi René-Luc,
>
> Thanks for the explanation. Any chance we can "influence" that extent 
> calculation (e.g. adding a user-defined margin to that extent?) - I 
> guess a fully manual override would not be satisfactory as data 
> changes, but adding a user-defined margin to that extent might help 
> for both issues we have.
>
> Also, this fact that layer extents are stored in QGIS worries me quite 
> a bit. We live in a GDI where any minute data can be changed by any 
> client (QGIS, ArcGIS, Geomedia, you name it). What if Geomedia adds 
> features outside of the layer extent that is stored in the QGIS 
> project, would that data then be ignored by QGIS server, because it is 
> outside of the extent stored in the project file in QGIS?

Yes, new features outside the extent will be ignored by QGIS Server and 
QGIS Desktop if the user does not recalculate the layer extent.

>
> Anyway - I would rather have global bounding boxes for all layers 
> (defined globally per project) than some calculated exents stored in a 
> QGIS project file that might be outdated quite easily, because other 
> GIS edit the data meanwhile. I am not worried about bounding boxes 
> being too big, but worried about bounding boxes that hide away 
> existing data.
>
> Andreas
>

We, a customer and I, would like to add the ability to define manually 
the extent for each layer. The extent could be calculated, based on the 
CRS and modified by user.
Do you think, could it be a solution ?

René-Luc

From olivier.dalang at gmail.com  Thu May  9 03:32:04 2019
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Thu, 9 May 2019 12:32:04 +0200
Subject: [QGIS-Developer] Building QGIS with Ninja on Windows -
	python37_d.lib
In-Reply-To: <CAExk7p170xz6QeOApCdc1HoqOpzxUqrRU1aeOVmWMFxY-9dxUg@mail.gmail.com>
References: <CAExk7p0QFOuX+LJA1UgLqrFhTYijsKPRhdoYQvzGyg++CfxGfw@mail.gmail.com>
 <20190507162701.3nqmyfjwsekt22ww@norbit.de>
 <CAExk7p0PmG2nf+6PMMeMcdQ7F5Um0cVejqFy0re4pFR9x==JAA@mail.gmail.com>
 <20190508082409.gt4oo3twm4jp5cce@norbit.de>
 <CAExk7p170xz6QeOApCdc1HoqOpzxUqrRU1aeOVmWMFxY-9dxUg@mail.gmail.com>
Message-ID: <CAExk7p0MtnifuwtF-DbATD0-0Z3Pt7DW=8wNpw=syPNY5Q_15g@mail.gmail.com>

I was able to run prepare-commit from WSL by commenting out these lines
(74-76) in astyle.sh :

# if type -p wslpath >/dev/null; then
#   ASTYLEOPTS="$(wslpath -a -w "$ASTYLEOPTS")"
# fi

It seems they were trying to convert path of the astyle option files from
WSL to Windows (/mnt/c/... to c:\). Not sure if this is specific to my
setup ?


On Wed, 8 May 2019 at 19:53, Olivier Dalang <olivier.dalang at gmail.com>
wrote:

> I saw the reference to package-nightly.cmd, but it's not that easy to
> follow, at least it wasn't for me. I was thinking of a note like [1] to
> help out other new commers. If it makes sense, I can open a PR.
>
> Also, I'm now stuck with the prepare-commit.sh step under Windows.
> I tried with WSL, where the script runs, but failed because of a few
> dependencies (astyle itself, autopep8 and a few others, all of which were
> easy to apt-get install), but it still fails after that with :
> Cannot open default option file /mnt/c/Users/Olivier/Documents/QGIS/C:
> Artistic Style has terminated
>
> I also tired to build with WITH_ASTYLE=ON as suggested on [2], but that
> didn't seem to have any effect. I did it like this :
> $ cmake -G Ninja -D CMAKE_BUILD_TYPE=RELWITHDEBINFO -D WITH_ASTYLE=ON ..
> $ ninja
>
> Is this the correct way to do it ?
>
> Thanks !!
>
> Olivier
>
> [1] :
> https://github.com/qgis/QGIS/compare/master...olivierdalang:ninja_instructions_for_win?expand=1
> [2] :
> https://lists.osgeo.org/pipermail/qgis-developer/2017-July/049324.html
>
>
>
> On Wed, 8 May 2019 at 10:24, Jürgen E. Fischer <jef at norbit.de> wrote:
>
>> Hi Olivier,
>>
>> On Wed, 08. May 2019 at 10:05:27 +0200, Olivier Dalang wrote:
>> > Thanks, that was it !
>>
>> > I wasn't giving the CMAKE_BUILD_TYPE argument to CMAKE. I'll make a PR
>> > shortly to add this info to INSTALL.
>>
>> doc/msvc.t2t - INSTALL is an output file.
>>
>> A note to refer to package-nightly.cmd is already there.
>>
>>
>> Jürgen
>>
>> --
>> Jürgen E. Fischer         norBIT GmbH               Tel.
>> +49-4931-918175-31
>> Dipl.-Inf. (FH)           Rheinstraße 13            Fax.
>> +49-4931-918175-50
>> Software Engineer         D-26506 Norden
>> https://www.norbit.de
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190509/d44dec90/attachment.html>

From apasotti at gmail.com  Thu May  9 03:34:06 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 9 May 2019 12:34:06 +0200
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
In-Reply-To: <6d0c243f-853c-dd8e-12eb-c81021ef7b83@gmail.com>
References: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
 <abf3bf0b-eb16-cbc6-02aa-9bc451376f0d@gmail.com>
 <491279cb-96a2-3fdf-1a0b-04dd4bfeee38@carto.net>
 <6d0c243f-853c-dd8e-12eb-c81021ef7b83@gmail.com>
Message-ID: <CAL5Q6717e+BoUDi1bj9KfyVr-c_bdqXJnaq3TrQLBvHPgQGkOQ@mail.gmail.com>

On Thu, May 9, 2019 at 12:08 PM René-Luc Dhont <rldhont at gmail.com> wrote:

> Hi Andreas
>
> Le 09/05/2019 à 11:59, Andreas Neumann a écrit :
> > Hi René-Luc,
> >
> > Thanks for the explanation. Any chance we can "influence" that extent
> > calculation (e.g. adding a user-defined margin to that extent?) - I
> > guess a fully manual override would not be satisfactory as data
> > changes, but adding a user-defined margin to that extent might help
> > for both issues we have.
> >
> > Also, this fact that layer extents are stored in QGIS worries me quite
> > a bit. We live in a GDI where any minute data can be changed by any
> > client (QGIS, ArcGIS, Geomedia, you name it). What if Geomedia adds
> > features outside of the layer extent that is stored in the QGIS
> > project, would that data then be ignored by QGIS server, because it is
> > outside of the extent stored in the project file in QGIS?
>
> Yes, new features outside the extent will be ignored by QGIS Server and
> QGIS Desktop if the user does not recalculate the layer extent.
>
> >
> > Anyway - I would rather have global bounding boxes for all layers
> > (defined globally per project) than some calculated exents stored in a
> > QGIS project file that might be outdated quite easily, because other
> > GIS edit the data meanwhile. I am not worried about bounding boxes
> > being too big, but worried about bounding boxes that hide away
> > existing data.
> >
> > Andreas
> >
>
> We, a customer and I, would like to add the ability to define manually
> the extent for each layer. The extent could be calculated, based on the
> CRS and modified by user.
> Do you think, could it be a solution ?
>

That depends on whether the "<BoundingBox>" tag in the WMS GetCapabilities
reponse is meant to be the layer's extent or the features's extent.

If it's the latter, we should not advertise an extent which is differed
from the extent of the features contained in the layer.


-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190509/51ce54ba/attachment.html>

From qgis at ag99.de  Thu May  9 03:55:14 2019
From: qgis at ag99.de (Jonas)
Date: Thu, 9 May 2019 12:55:14 +0200
Subject: [QGIS-Developer] adding vertices to digitize session via python
Message-ID: <e1df3177-2b1b-d036-8ed9-6de2c2a190cd@ag99.de>

Hi,

is there a way to add vertices to the rubberband when the user currently 
digitizes a feature via the python API?

For example when adding a line feature, the user has already created a 
few vertices of a line via the rubber band. now i want to add the next 
vertex of that rubber band via python. I do NOT want to end the users 
action to create the feature, or add vertices to already existing features.

I think that would mean calling addVertex() on a 
QgsMapToolCapture-object. However i cannot find a way to retrieve a 
QgsMapToolCapture-object from the current mapTool.

Is there a way to do this?

Thanks

Jonas



From lin at LIFA.DK  Thu May  9 04:36:14 2019
From: lin at LIFA.DK (Lars I. Nielsen, LIFA A/S)
Date: Thu, 9 May 2019 11:36:14 +0000
Subject: [QGIS-Developer] Questions wrt. problems with empty layers
Message-ID: <6EDB455314CAD940983B0F3ACAC4B0A53B001868@Mail2010.LIFA.DK>

Hi developers.

I asked this question on the user's list, so far without any answers, but have been advised to ask here as well.


I'm working with a number of projects, which statically open a fixed number of layers. All layers are fetched using WFS / WFS-T.

Each layer has an extensive rule based styling, and an extensive field/attribute dialog setup. This is saved in the project files.

Our plugin changes the data provider filter for many layers, when the user works with the data. These filter expressions are also saved in the project, of course.

Our problem is, that if the user accidently chooses a work area (= new data provider filter), which contain no data in any layer, those layers lose all styling etc. And it's apparently impossible to recover these styles etc. by changing the filter back.

So basically the user's project is unrecoverably trashed at this point in time.

A - Is this a correct description of how QGIS handles "no-data" layers ?

B - Are there any standard ways to handle this in QGIS (using metadata or otherwise) in an automated fashion (i.e. not manually) ?

C - If the answers to A and B are yes and no resp., are there any plans to remedy this unnecessarily serious problem ?


Might it not be solved simply by adding an (optional?) layer metadata key, that stores the last used topology, and revert to this if no data are found on the layer ?


Using 3.4.5 x64 (Danish)


Med venlig hilsen
Lars I. Nielsen, LIFA A/S
GIS-konsulent, FME Certified Professional

[Beskrivelse: http://website.lifa.dk/lsp.gif]
T

6313 6800

@

lin at lifa.dk

D

6313 6849

W

www.lifa.dk<http://www.lifa.dk>

M

2492 4866

CVR

20937289


[Beskrivelse: C:\Users\lin\AppData\Roaming\Microsoft\signatures\21x21-Images-Get-L749-l8.png]<https://www.linkedin.com/company/lifa-a-s/>
Følg os på LinkedIn og læs de seneste nyheder fra LIFA A/S
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190509/5d94bddd/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.gif
Type: image/gif
Size: 8192 bytes
Desc: image001.gif
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190509/5d94bddd/attachment-0001.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 1204 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190509/5d94bddd/attachment-0001.png>

From noreply at qgis.org  Thu May  9 04:58:06 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 09 May 2019 11:58:06 -0000
Subject: [QGIS-Developer] Plugin [1715] CLE Tools approval notification.
Message-ID: <20190509115806.11514.12173@2c6504964296>


Plugin CLE Tools approval by pcav.
The plugin version "[1715] CLE Tools 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/CLETools/

From luca.manganelli at comune.trento.it  Thu May  9 07:07:58 2019
From: luca.manganelli at comune.trento.it (Luca Manganelli)
Date: Thu, 9 May 2019 16:07:58 +0200
Subject: [QGIS-Developer] QGIS 2.18/3.6 produces incorrect wordfiles
Message-ID: <CAGKduJ01ZAmr2vNWbsoKqKLzBfHxq3LX5NPvGX-cUekqhi9-nw@mail.gmail.com>

Hi,

I've noticed that, from Print Composer and saving to JPG with wordfile, the
last file is incorrect. There are blank linkes between numbers and after
last number two empty line.
See the example in the bug report:
https://issues.qgis.org/issues/22039

Based on this page, worldfile shouldn't have empty lines

https://support.esri.com/en/technical-article/000002860

-- 
Luca Manganelli
Assistente informatico
Servizio Innovazione e Sistemi digitali
Via Ezio Maccani 148
38121 Trento (TN)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190509/4fa5e892/attachment.html>

From eric.lemoine at oslandia.com  Thu May  9 07:14:37 2019
From: eric.lemoine at oslandia.com (Eric Lemoine)
Date: Thu, 9 May 2019 16:14:37 +0200
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
In-Reply-To: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
References: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
Message-ID: <20190509161437.076fa227@hookipa.localdomain>

On Thu, 9 May 2019 11:28:00 +0200
Andreas Neumann <a.neumann at carto.net> wrote:

> Hi QGIS (server) devs,

Hi Andreas

> 
> We came across issues around calculating bounding boxes in QGIS
> server.
> 
> 1. Layers with only one point feature:
> 
> If a layer contains only one single point feature, QGIS server 
> calculates a bounding box where the minx equals maxx and miny equals 
> maxy, so resulting in a bounding box without a width and height.
> Sounds logical to QGIS server developers,


Yes. The BBOX of a point has minx=maxx and miny=maxy.  Even PostGIS says
so :)


> but combined with the fact
> that QGIS server doesn't take into account rendered symbol sizes
> (another issue we have, see issue nr 2), it means that no WMS client
> will ever see this one single symbol rendered, which can't be the
> solution here ...


If the GetMap request's BBOX param is set to the layer extent (the
BBOX with no dimension here) then it makes sense that there's nothing
rendered in the resulting image.  If the GetMap request's BBOX param is
set to a BBOX that contains the layer extent then the point should be
rendered in the resulting image.

So to me this is a client issue, not a QGIS Server issue.


> 2. Layer bounding boxes do not take into account rendered symbol
> sizes:
> 
> Please have a look at 
> http://www.carto.net/neumann/temp/qgis_server_bounding_box_issue.png
> - The green rectangle and the green arrows are not part of the QGIS
> server rendering, but they are added as an annotation to the rendered
> QGIS server graphics, to highlight the issues.


What software do you use on the client side?  Does the green
rectangle correspond to the BBOX requested by the client?  And does the
requested BBOX equal the layer extent in this case?  Or does it contain
the layer extent?

I may be wrong but I understand that the requested BBOX (the green
rectangle) is the layer extent.  And in that case it makes sense that
the symbols are cut for points that are closed to the boundaries.  Again
it's a client issue.


> Here we have the issue that QGIS server only uses the "raw" geometry
> of point symbols without taking into account rendered symbol sizes.
> Now, I do understand that calculating symbol sizes is scale dependent
> and there is no single solution to that, but again, I think the
> current behavior of QGIS server (simply cutting off symbols at layer
> bounding boxes) is not a good and nice behavior. At least, I think
> the author of the WMS service should have a chance to define an extra
> margin to be added to the bounding boxes of the raw geometries of the
> point layer, either as a "per project" or "per layer" QGIS server
> configuration.
> 
> @Andrea: I wonder what Geoserver does in such cases?
> 
> Any thoughts how to solve these issues? The current behavior of QGIS 
> server is not satisfactory to me, for both cases.

I'd like to better understand the issues that you're seeing but from
what I currently understand the behavior of QGIS Server is correct. 
Happy to be proven otherwise :)

Cheers,


-- 
Éric Lemoine
Oslandia
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 488 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190509/9eab5c83/attachment.sig>

From apasotti at gmail.com  Thu May  9 07:37:04 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 9 May 2019 16:37:04 +0200
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
In-Reply-To: <20190509161437.076fa227@hookipa.localdomain>
References: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
 <20190509161437.076fa227@hookipa.localdomain>
Message-ID: <CAL5Q673N8PBpq=z5wbyKfSVWFufJaQ0DWE9O=pbva2-vN8gVNw@mail.gmail.com>

On Thu, May 9, 2019 at 4:16 PM Eric Lemoine <eric.lemoine at oslandia.com>
wrote:

> On Thu, 9 May 2019 11:28:00 +0200
> Andreas Neumann <a.neumann at carto.net> wrote:
>
> > Hi QGIS (server) devs,
>
> Hi Andreas
>
> >
> > We came across issues around calculating bounding boxes in QGIS
> > server.
> >
> > 1. Layers with only one point feature:
> >
> > If a layer contains only one single point feature, QGIS server
> > calculates a bounding box where the minx equals maxx and miny equals
> > maxy, so resulting in a bounding box without a width and height.
> > Sounds logical to QGIS server developers,
>
>
> Yes. The BBOX of a point has minx=maxx and miny=maxy.  Even PostGIS says
> so :)
>
>
> > but combined with the fact
> > that QGIS server doesn't take into account rendered symbol sizes
> > (another issue we have, see issue nr 2), it means that no WMS client
> > will ever see this one single symbol rendered, which can't be the
> > solution here ...
>
>
> If the GetMap request's BBOX param is set to the layer extent (the
> BBOX with no dimension here) then it makes sense that there's nothing
> rendered in the resulting image.  If the GetMap request's BBOX param is
> set to a BBOX that contains the layer extent then the point should be
> rendered in the resulting image.
>
> So to me this is a client issue, not a QGIS Server issue.
>
>
> > 2. Layer bounding boxes do not take into account rendered symbol
> > sizes:
> >
> > Please have a look at
> > http://www.carto.net/neumann/temp/qgis_server_bounding_box_issue.png
> > - The green rectangle and the green arrows are not part of the QGIS
> > server rendering, but they are added as an annotation to the rendered
> > QGIS server graphics, to highlight the issues.
>
>
> What software do you use on the client side?  Does the green
> rectangle correspond to the BBOX requested by the client?  And does the
> requested BBOX equal the layer extent in this case?  Or does it contain
> the layer extent?
>
> I may be wrong but I understand that the requested BBOX (the green
> rectangle) is the layer extent.  And in that case it makes sense that
> the symbols are cut for points that are closed to the boundaries.  Again
> it's a client issue.
>
>
> > Here we have the issue that QGIS server only uses the "raw" geometry
> > of point symbols without taking into account rendered symbol sizes.
> > Now, I do understand that calculating symbol sizes is scale dependent
> > and there is no single solution to that, but again, I think the
> > current behavior of QGIS server (simply cutting off symbols at layer
> > bounding boxes) is not a good and nice behavior. At least, I think
> > the author of the WMS service should have a chance to define an extra
> > margin to be added to the bounding boxes of the raw geometries of the
> > point layer, either as a "per project" or "per layer" QGIS server
> > configuration.
> >
> > @Andrea: I wonder what Geoserver does in such cases?
> >
> > Any thoughts how to solve these issues? The current behavior of QGIS
> > server is not satisfactory to me, for both cases.
>
> I'd like to better understand the issues that you're seeing but from
> what I currently understand the behavior of QGIS Server is correct.
> Happy to be proven otherwise :)
>
> Cheers,
>

Hi Èric,

I agree with you that QGIS Server does the right thing here, I think that
the main question is:

1. is the WMS GetCapabilities layer's BoundingBox meant to be the features
BBOX or can it be larger than that?
2. if the latter is true, we need a way to tell QGIS Server that he needs
to advertise a BoundingBox in GetCapabilities which is not the layer's BBOX
stored in the QGIS project but it's a different (probably larger) one.

all the rest will follow, because the client will get a larger BBOX from
GetCapabilities and it will request a larger image that has enough buffer
for the symbols.

Note that I checked mapserver and it behaves by default exactly like QGIS
Server does (I didn't check the single point but the symbols are cut-off at
the layer's bbox in general), except that mapserver allows you to override
the layer extent per-layer.

IMO the fix is in the client, either by allowing to override the layer
extent advertised by the server and to store it in the project itself (this
may require some work in the server side too in order to handle the
override) or by setting an option in the WMS provider that will always
request the canvas extent.

Cheers

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190509/bc2a8ff7/attachment.html>

From eric.lemoine at oslandia.com  Thu May  9 07:20:15 2019
From: eric.lemoine at oslandia.com (Eric Lemoine)
Date: Thu, 9 May 2019 16:20:15 +0200
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
In-Reply-To: <abf3bf0b-eb16-cbc6-02aa-9bc451376f0d@gmail.com>
References: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
 <abf3bf0b-eb16-cbc6-02aa-9bc451376f0d@gmail.com>
Message-ID: <20190509162015.2c350b88@hookipa.localdomain>

On Thu, 9 May 2019 11:51:25 +0200
René-Luc Dhont <rldhont at gmail.com> wrote:

> In QGIS Server, the layer extent is used to restrict the rendering to 
> the WMS layer extent.

I don't observe this.  I'd be interested to know where is the QGIS
(Server) code this restriction is implemented.  Thank you.




-- 
Éric Lemoine
Oslandia
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 488 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190509/9d303c21/attachment.sig>

From enricofer at gmail.com  Thu May  9 08:59:50 2019
From: enricofer at gmail.com (Enrico Ferreguti)
Date: Thu, 9 May 2019 17:59:50 +0200
Subject: [QGIS-Developer] Boundless Web App Builder and qgis2web - QGIS
 grant proposal possible
In-Reply-To: <1557304940917-0.post@n6.nabble.com>
References: <1557304940917-0.post@n6.nabble.com>
Message-ID: <CAJy=XtdkEJ7bqjah+yA164DV_TWCdoQH64989jKg0zmRVHofHg@mail.gmail.com>

I would be interested in helping you.
I'm porting to QGIS3 a plugin (https://github.com/enricofer/gdrive_provider)
for using google spreadsheets as QGIS dataprovider and I did some test for
using WAB portions to export these layers to web:
https://github.com/enricofer/GooGIS2CSV
for example:
https://enricofer.github.io/GooGIS2CSV/converter.html?spreadsheet_id=15zmg1f36uEdHZNDOnSXrDtXPFtAYq8Ax7rw82WnB3Bo,1yPAqNQLAGBmATT8j3VQV64Xw0lEkjtirD5qsh687YgM,1WscQj2qN3vCXWhKGIQ16F4BpWgMFfaxyOcHmrWrUkAY,1Av8PtNKTyYAQ1wnkfUht1LsVOf-k6zU30HnXqsoffLs
reproject and display on Openlayers map google_drive layers edited and
styles in QGIS.
It would be great see this on Qgis2Web.

Regards. Enrico.


Il giorno mer 8 mag 2019 alle ore 10:42 Tom Chadwin <tom.chadwin at nnpa.org.uk>
ha scritto:

> Hello all
>
> As many of you know, qgis2web was built on top of Victor's work on his
> previous plugin qgis-ol3. Victor went on to be the major developer of the
> Boundless Web App Builder plugin (WAB). WAB exports to OpenLayers, while
> qgis2web exports to OpenLayers or Leaflet.
>
> With Boundless's change in focus (I hope it would be fair to describe this
> as "away from QGIS"), I wonder if we can try to incorporate some of Web App
> Builder's functionality into qgis2web. Victor and I are both keen for this
> to take place, and it would certainly be a shame if all the amazing
> functionality which Victor (and others) built into WAB were lost.
>
> Would any dev/devs be interested in this as a possible QGIS grants
> proposal?
> Victor and I are both happy to help guide contributors around the WAB and
> qgis2web codebases and help in any way we can.
>
> I don't think I'll put in such a proposal myself, so if anyone else is
> interested, please do get in touch.
>
> All the best
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from:
> http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190509/f8c45a65/attachment-0001.html>

From bo.victor.thomsen at gmail.com  Thu May  9 13:22:03 2019
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Thu, 9 May 2019 22:22:03 +0200
Subject: [QGIS-Developer] Questions wrt. problems with empty layers
In-Reply-To: <6EDB455314CAD940983B0F3ACAC4B0A53B001868@Mail2010.LIFA.DK>
References: <6EDB455314CAD940983B0F3ACAC4B0A53B001868@Mail2010.LIFA.DK>
Message-ID: <99a5d33c-66d9-0c99-dfcd-a55743b50e9b@gmail.com>

Hi Lars and other members of this list..

I feel somewhat obligated to help Lars since it's a problem he has 
inherited from me. (Sorry about that...)

To sum it up:

If QGIS connects to a WFS based layer from Geoserver using an existing 
project with styled layers and one or more layers containing /zero/ 
objects, QGIS can't determine the object type (point, line-string, 
polygon...) for those layers. QGIS will not show legends  and promptly 
forget any layer information stored in the project related to the 
object-type, ex. styling information.

And what is worse - this is a permanent situation: If you save the 
project in the above-mentioned state and reopen it at a later time - 
where the layers /now/ contains objects - QGIS has forgotten the styling 
and other information, so the layers stays invisible and without the 
former styling.

(long posting...)

I've done some tests to determine the root cause of this problem:

  * Setup of a Postgres database /and /a SQL Server database.

  * Loaded the same MapInfo-dataset twice into each database, called
    them tableA and tableB, and populated the meta-table
    "dbo.geometry_columns" with the correct information for tableA and
    tableB in SQLServer.

  * Installed a fresh Geoserver 2.15 and MapServer TinyOWS WFS-T server

  * Setup a Workspace in Geoserver with 4 layers: tableA and -B from
    SQLServer and the same tables from Postgres using WFS.

  * In Geoserver, the datastore definition for the SQLServer tables has
    a pointer to the "dbo.geometry_columns" meta-table.

  * Setup of TinyOWS with tableA and -B from Postgres

  * And lastly: Made a project in QGIS 3.4.7 /Windows 64bit with the 6
    WFS layers:

      o tableA is shown 3 times:

         1.  From SQLServer through GeoServer;
         2.  From Postgres through GeoServer
         3.  From Postgres through Tiny-WFS

      o tableB is shown 3 times using the same setup as tableA

All 6 layers in QGIS was shown correctly and the object type for all 
layers was recognized.

After this I /deleted/ all rows from tableB in /both/ MS-SQLServer and 
in Postgres and reopened the same QGIS project:

  * The layer showing (the zero objects) tableB from SQLServer through
    GeoServer was not in order.
  * The 5 other layers was shown correctly. Legends was correct and
    styling was not deleted

I'm drawing the following conclusion:

  * GeoServer WFS connections (maybe in conjunction with QGIS) doesn't
    work properly when the dataprovider is MS-SQLServer and the layers
    contains zero objects. More precisely: GeoServer's SQLServer
    dataprovider can't or don't use geometry_columns meta-table defined
    in the datastore as described in:
    https://docs.geoserver.org/stable/en/user/data/database/sqlserver.html#using-the-geometry-metadata-table
    .

After this test I've tried to change the placement and existence of the 
"geometry_columns" metadata table:

  * No value
  * dbo.geometry_column (ordinary placement)
  * data.geometry_column (I made a copy of the geometry_columns table
    and placed it in the same schema as the test tables)
  * geometry_columns (without schema definition)

Nothing of the above worked.

@Lars:
You might change your database system to Postgres and perhaps replace 
GeoServer with TinyOWS for WFS purposes (ducks and and run....) .
Or getting the issue investigated and fixed using some GeoServer core 
developer, perhaps in cooperation with a QGIS core developer?
Apparently the problem is fixable, since neither TinyOWS or 
GeoServer/Postgres have the same  issues.

Obviously, the above is a far cry from a really rigorous investigation 
of the problem, but it points at some of the "pain" points

Regards

Bo Victor Thomsen

AestasGIS
Denmark

Den 09-05-2019 kl. 13:36 skrev Lars I. Nielsen, LIFA A/S:
>
> Hi developers.
>
> I asked this question on the user’s list, so far without any answers, 
> but have been advised to ask here as well.
>
> I’m working with a number of projects, which statically open a fixed 
> number of layers. All layers are fetched using WFS / WFS-T.
>
> Each layer has an extensive rule based styling, and an extensive 
> field/attribute dialog setup. This is saved in the project files.
>
> Our plugin changes the data provider filter for many layers, when the 
> user works with the data. These filter expressions are also saved in 
> the project, of course.
>
> Our problem is, that if the user accidently chooses a work area (= new 
> data provider filter), which contain no data in any layer, those 
> layers lose all styling etc. And it’s apparently impossible to recover 
> these styles etc. by changing the filter back.
>
> So basically the user’s project is unrecoverably trashed at this point 
> in time.
>
> A - Is this a correct description of how QGIS handles “no-data” layers ?
>
> B - Are there any standard ways to handle this in QGIS (using metadata 
> or otherwise) in an automated fashion (i.e. not manually) ?
>
> C - If the answers to A and B are yes and no resp., are there any 
> plans to remedy this unnecessarily serious problem ?
>
> Might it not be solved simply by adding an (optional?) layer metadata 
> key, that stores the last used topology, and revert to this if no data 
> are found on the layer ?
>
> Using 3.4.5 x64 (Danish)
>
> Med venlig hilsen
>
> Lars I. Nielsen, LIFA A/S
> GIS-konsulent, FME Certified Professional
>
> Beskrivelse: http://website.lifa.dk/lsp.gif
>
> *T*
>
> 	
>
> 6313 6800
>
> 	
>
> *@*
>
> 	
>
> lin at lifa.dk
>
> *D*
>
> 	
>
> 6313 6849
>
> 	
>
> *W*
>
> 	
>
> www.lifa.dk <http://www.lifa.dk>
>
> *M*
>
> 	
>
> 2492 4866
>
> 	
>
> *CVR*
>
> 	
>
> 20937289
>
>
> Beskrivelse: 
> C:\Users\lin\AppData\Roaming\Microsoft\signatures\21x21-Images-Get-L749-l8.png 
> <https://www.linkedin.com/company/lifa-a-s/>
> Følg os på LinkedIn og læs de seneste nyheder fra LIFA A/S
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190509/2a102caa/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.gif
Type: image/gif
Size: 8192 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190509/2a102caa/attachment-0001.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 1204 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190509/2a102caa/attachment-0001.png>

From luca.manganelli at comune.trento.it  Thu May  9 23:00:36 2019
From: luca.manganelli at comune.trento.it (Luca Manganelli)
Date: Fri, 10 May 2019 08:00:36 +0200
Subject: [QGIS-Developer] QGIS 2.18/3.6 produces incorrect wordfiles
In-Reply-To: <CAGKduJ01ZAmr2vNWbsoKqKLzBfHxq3LX5NPvGX-cUekqhi9-nw@mail.gmail.com>
References: <CAGKduJ01ZAmr2vNWbsoKqKLzBfHxq3LX5NPvGX-cUekqhi9-nw@mail.gmail.com>
Message-ID: <CAGKduJ1zhpUZ3RHXT_e9hY1RmPROAkVdTRiubBTQo4_7SMZ5ww@mail.gmail.com>

Il giorno gio 9 mag 2019 alle ore 16:07 Luca Manganelli <
luca.manganelli at comune.trento.it> ha scritto:
> I've noticed that, from Print Composer and saving to JPG with wordfile,
the last file is incorrect. There are blank linkes between numbers and
after last number two empty line.
> See the example in the bug report:
> https://issues.qgis.org/issues/22039

Wow! Thank you, Jürgen for fixing this bug so fast!

:-)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190510/130efdfb/attachment.html>

From qgis at ag99.de  Thu May  9 23:10:39 2019
From: qgis at ag99.de (Jonas)
Date: Fri, 10 May 2019 08:10:39 +0200
Subject: [QGIS-Developer] adding vertices to digitize session via python
In-Reply-To: <e1df3177-2b1b-d036-8ed9-6de2c2a190cd@ag99.de>
References: <e1df3177-2b1b-d036-8ed9-6de2c2a190cd@ag99.de>
Message-ID: <d5f2c9f2-45f2-e1fb-376a-546a8d290ad7@ag99.de>

Hello again,

nevermind, figured it out.

just casting the map tool to QgsMapToolCapture does the trick:

from qgis.core import QgsPointXY from qgis.gui import QgsMapTool, 
QgsMapToolCapturefrom qgis.PyQt import sipmapToolCapture = 
sip.cast(iface.mapCanvas().mapTool(), QgsMapToolCapture) 
mapToolCapture.addVertex(QgsPointXY(1,2))


Cheers

Jonas

On 09.05.2019 12:55, Jonas wrote:
> Hi,
>
> is there a way to add vertices to the rubberband when the user 
> currently digitizes a feature via the python API?
>
> For example when adding a line feature, the user has already created a 
> few vertices of a line via the rubber band. now i want to add the next 
> vertex of that rubber band via python. I do NOT want to end the users 
> action to create the feature, or add vertices to already existing 
> features.
>
> I think that would mean calling addVertex() on a 
> QgsMapToolCapture-object. However i cannot find a way to retrieve a 
> QgsMapToolCapture-object from the current mapTool.
>
> Is there a way to do this?
>
> Thanks
>
> Jonas
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190510/b41befc4/attachment.html>

From nyall.dawson at gmail.com  Thu May  9 23:30:21 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 10 May 2019 16:30:21 +1000
Subject: [QGIS-Developer] Broken links to PDF manuals
Message-ID: <CAB28Asi+tZ++o3kQAWuzdF5tTSXU2JYseRk8hE29tdRaZBEnPQ@mail.gmail.com>

Hey list,

Can anyone confirm for me that the link to download PDF versions of
the QGIS manual is currently broken? From
https://www.qgis.org/en/docs/index.html the link leads to
https://docs.qgis.org/3.4/en/en/QGIS-3.4-UserGuide-en.pdf, which
returns a 404.

There's also links under https://docs.qgis.org/3.4/en/docs/ to the
PDF, which point across to https://docs.qgis.org/testing/pdf/ -- but
that link redirects back to https://docs.qgis.org/testing/en/docs/ and
not the actual PDFs (it's also redirected from the 3.4 docs to the
testing ones)

Nyall

From qgis at ag99.de  Thu May  9 23:45:46 2019
From: qgis at ag99.de (Jonas)
Date: Thu, 9 May 2019 23:45:46 -0700 (MST)
Subject: [QGIS-Developer] Broken links to PDF manuals
In-Reply-To: <CAB28Asi+tZ++o3kQAWuzdF5tTSXU2JYseRk8hE29tdRaZBEnPQ@mail.gmail.com>
References: <CAB28Asi+tZ++o3kQAWuzdF5tTSXU2JYseRk8hE29tdRaZBEnPQ@mail.gmail.com>
Message-ID: <1557470746941-0.post@n6.nabble.com>

confirmed over her



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From rdmailings at duif.net  Thu May  9 23:59:39 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 10 May 2019 08:59:39 +0200
Subject: [QGIS-Developer] Broken links to PDF manuals
In-Reply-To: <CAB28Asi+tZ++o3kQAWuzdF5tTSXU2JYseRk8hE29tdRaZBEnPQ@mail.gmail.com>
References: <CAB28Asi+tZ++o3kQAWuzdF5tTSXU2JYseRk8hE29tdRaZBEnPQ@mail.gmail.com>
Message-ID: <11c4d9f7-c065-fe86-b060-ef7cca139496@duif.net>

On 10/05/2019 08.30, Nyall Dawson wrote:
> Hey list,
> 
> Can anyone confirm for me that the link to download PDF versions of
> the QGIS manual is currently broken? From
> https://www.qgis.org/en/docs/index.html the link leads to
> https://docs.qgis.org/3.4/en/en/QGIS-3.4-UserGuide-en.pdf, which
> returns a 404.

Hi Nyall,

Yep, working on it, we ( Harrissou :-) )  rearranged the convoluted
apache configuration for documentation (was full of redirects/rewrites).
But we missed the pdf. Will show up soon.

Are these actually used?
Because when busy testing new sphinx/templates/Make/Build of docs I was
thinking about getting rid of pdf. But instead go for the 'zipped' docs
route, which can be viewed in QGIS itself.
(though if pdf build 'just keep working' and are needed, we can keep on
building them)

Regards,

Richard Duivenvoorde

From michel.stuyts at edegem.be  Thu May  9 23:51:57 2019
From: michel.stuyts at edegem.be (Michel Stuyts)
Date: Fri, 10 May 2019 06:51:57 +0000
Subject: [QGIS-Developer] Broken links to PDF manuals
In-Reply-To: <CAB28Asi+tZ++o3kQAWuzdF5tTSXU2JYseRk8hE29tdRaZBEnPQ@mail.gmail.com>
References: <CAB28Asi+tZ++o3kQAWuzdF5tTSXU2JYseRk8hE29tdRaZBEnPQ@mail.gmail.com>
Message-ID: <3ea709dd41da4fb68fcbbf90ac65e8c8@edegem.be>

The link is http://docs.qgis.org/3.4/pdf/en/QGIS-3.4-UserGuide-en.pdf but that redirects to https://docs.qgis.org/3.4/en/en/QGIS-3.4-UserGuide-en.pdf

The same happens to different language versions: http://docs.qgis.org/3.4/pdf/nl/QGIS-3.4-UserGuide-nl.pdf redirects to https://docs.qgis.org/3.4/en/nl/QGIS-3.4-UserGuide-nl.pdf 


Michel


-----Oorspronkelijk bericht-----
Van: QGIS-Developer <qgis-developer-bounces at lists.osgeo.org> Namens Nyall Dawson
Verzonden: vrijdag 10 mei 2019 8:30
Aan: qgis-developer <qgis-developer at lists.osgeo.org>
Onderwerp: [QGIS-Developer] Broken links to PDF manuals

Hey list,

Can anyone confirm for me that the link to download PDF versions of the QGIS manual is currently broken? From https://www.qgis.org/en/docs/index.html the link leads to https://docs.qgis.org/3.4/en/en/QGIS-3.4-UserGuide-en.pdf, which returns a 404.

There's also links under https://docs.qgis.org/3.4/en/docs/ to the PDF, which point across to https://docs.qgis.org/testing/pdf/ -- but that link redirects back to https://docs.qgis.org/testing/en/docs/ and not the actual PDFs (it's also redirected from the 3.4 docs to the testing ones)

Nyall
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From matteo.ghetta at gmail.com  Fri May 10 00:58:52 2019
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 10 May 2019 09:58:52 +0200
Subject: [QGIS-Developer] Print Layout continuously crashing
Message-ID: <0f936abe-797e-39ae-ce35-5b0e2ab41d75@gmail.com>

Hi all,

with a very simple layout template (1 point layer, OSM Tile), no fancy
things around, when I try to open the layout after the project has benn
saved and the layout is also saved, QGIS crashes after a few seconds
with this stack trace:

https://gist.github.com/ghtmtt/b2258693f03abd441b726a8d7e534d15

Tested on Debian Sid, with QGIS 3.4 (installed from package), QGIS 3.6
compiled and QGIS 3.7 compiled.

Has anyone some suggestion?

Cheers

Matteo

From cavallini at faunalia.it  Fri May 10 01:11:53 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 10 May 2019 10:11:53 +0200
Subject: [QGIS-Developer] Broken links to PDF manuals
In-Reply-To: <11c4d9f7-c065-fe86-b060-ef7cca139496@duif.net>
References: <CAB28Asi+tZ++o3kQAWuzdF5tTSXU2JYseRk8hE29tdRaZBEnPQ@mail.gmail.com>
 <11c4d9f7-c065-fe86-b060-ef7cca139496@duif.net>
Message-ID: <87722a4a-0bb7-0c20-4d83-e98c26c392a0@faunalia.it>

Hi Richard,

On 10/05/19 08:59, Richard Duivenvoorde wrote:

> Are these actually used?
> Because when busy testing new sphinx/templates/Make/Build of docs I was
> thinking about getting rid of pdf. But instead go for the 'zipped' docs
> route, which can be viewed in QGIS itself.
> (though if pdf build 'just keep working' and are needed, we can keep on
> building them)

I have seen often pdf being printed - apparently people like to read on
paper. On the other hand, I believe we should discourage this, bot for
environmental and for practical purposes (a printed manual becomes
obsolete soon, and people keep on reading old stuff instead of upgrading
to the new version).
So I'd be a mild +1 for removing the pdfs.
Cheers.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From rldhont at gmail.com  Fri May 10 01:31:30 2019
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Fri, 10 May 2019 10:31:30 +0200
Subject: [QGIS-Developer] Can I backport bugfix with UI updates and
 fixing QGIS Server regression
In-Reply-To: <270e5218-d1de-f678-3321-2787d062cb3a@gmail.com>
References: <465d79a5-fd13-ee48-7035-fa64eb48baef@gmail.com>
 <e4e717d0-807e-8e1f-8b27-ce0114d047a8@faunalia.it>
 <d059fdfc-9538-8b32-12f9-670ef8e1ad8b@gmail.com>
 <270e5218-d1de-f678-3321-2787d062cb3a@gmail.com>
Message-ID: <b97b3501-1b1b-dac6-a914-2fe5623c28c6@gmail.com>

Hi devs,

I am still waiting for a review about fixing 2 issues in printing for 
QGIS and QGIS Server 3.4 LTR. https://github.com/qgis/QGIS/pull/9692

This PR wil fix an issue https://issues.qgis.org/issues/19500 `Layout 
export - raster divided into tiles, edges evident in pdf/svg`. This 
issue has been identifed in version 3.2 and has been fixed in 3.6.
This PR will also fix a regression in QGIS Server `Printing selection in 
PDF and SVG`. The selection is already printed in image output.

The next LTR will be released in 10 mounths. QGIS Server 3.6, which 
already have the fix, is not available on Debian Stretch because it 
requires Qt 5.9 and Debian Buster will be freezed in 8 mounths. So the 
QGIS server regression will not be available since the end of 2019.

I will appreciate a decision about this fix. Do you think QGIS Server 
users have to wait for the next LTR or Debian Buster release ?

Reagrds,
René-Luc

Le 19/04/2019 à 09:34, René-Luc Dhont a écrit :
> Hi devs,
>
> I have cherry-picked the changes
>
> I have tested it without regressions or issues.
>
> Now I need some review to merge and fix 2 issues. 
> https://github.com/qgis/QGIS/pull/9692
>
> Regards,
> René-Luc
>
> Le 17/04/2019 à 14:18, René-Luc Dhont a écrit :
>> Hi devs,
>>
>> Thanks Paolo for your agreement.
>>
>> I'd like to fix the QGIS Sever regression before friday and the 
>> version 3.4.7 released.
>>
>> So I'd like to have other point of view  about backporting : 
>> [needs-docs][layouts] Add checkbox to disable raster tiling for 
>> PDF/SVG exports https://github.com/qgis/QGIS/pull/9016
>> and finalizing Fix regression server print selection pdf release 3.4  
>> https://github.com/qgis/QGIS/pull/9692
>>
>> Thanks.
>> René-Luc
>>
>> Le 12/04/2019 à 12:06, Paolo Cavallini a écrit :
>>> Hi René,
>>>
>>> On 12/04/19 12:05, René-Luc Dhont wrote:
>>>
>>>> I would like to know if I can backport all the commits made by 
>>>> Nyall to
>>>> fix issue 19500 even if it updates the User Interface ?
>>> +1 from my side, but obviously Nyall has the final word on this.
>>> Thanks.
>>>
>>
>


From cavallini at faunalia.it  Fri May 10 02:06:00 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 10 May 2019 11:06:00 +0200
Subject: [QGIS-Developer] Can I backport bugfix with UI updates and
 fixing QGIS Server regression
In-Reply-To: <b97b3501-1b1b-dac6-a914-2fe5623c28c6@gmail.com>
References: <465d79a5-fd13-ee48-7035-fa64eb48baef@gmail.com>
 <e4e717d0-807e-8e1f-8b27-ce0114d047a8@faunalia.it>
 <d059fdfc-9538-8b32-12f9-670ef8e1ad8b@gmail.com>
 <270e5218-d1de-f678-3321-2787d062cb3a@gmail.com>
 <b97b3501-1b1b-dac6-a914-2fe5623c28c6@gmail.com>
Message-ID: <1e28760e-2af1-21ef-a85f-6cce182a2823@faunalia.it>

Hi René

On 10/05/19 10:31, René-Luc Dhont wrote:
> Hi devs,
> 
> I am still waiting for a review about fixing 2 issues in printing for
> QGIS and QGIS Server 3.4 LTR. https://github.com/qgis/QGIS/pull/9692
> 
> This PR wil fix an issue https://issues.qgis.org/issues/19500 `Layout
> export - raster divided into tiles, edges evident in pdf/svg`. This
> issue has been identifed in version 3.2 and has been fixed in 3.6.
> This PR will also fix a regression in QGIS Server `Printing selection in
> PDF and SVG`. The selection is already printed in image output.
> 
> The next LTR will be released in 10 mounths. QGIS Server 3.6, which
> already have the fix, is not available on Debian Stretch because it
> requires Qt 5.9 and Debian Buster will be freezed in 8 mounths. So the
> QGIS server regression will not be available since the end of 2019.
> 
> I will appreciate a decision about this fix. Do you think QGIS Server
> users have to wait for the next LTR or Debian Buster release ?

I believe it is very important to keep the LTR server in good shape, and
fix whatever is possible. Do you (or anybody else) have reasons to
suspect these fixes could be harmful or have side effects?
Cheers.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From havard.tveite at nmbu.no  Fri May 10 02:04:21 2019
From: havard.tveite at nmbu.no (Havard Tveite)
Date: Fri, 10 May 2019 11:04:21 +0200
Subject: [QGIS-Developer] Broken links to PDF manuals
In-Reply-To: <87722a4a-0bb7-0c20-4d83-e98c26c392a0@faunalia.it>
References: <CAB28Asi+tZ++o3kQAWuzdF5tTSXU2JYseRk8hE29tdRaZBEnPQ@mail.gmail.com>
 <11c4d9f7-c065-fe86-b060-ef7cca139496@duif.net>
 <87722a4a-0bb7-0c20-4d83-e98c26c392a0@faunalia.it>
Message-ID: <2c258bdc-96bd-e9d8-4572-cfc456a40cd4@nmbu.no>

I am fond of PDFs.
In some situations, I find them more convenient to read, and I
often use the PDFs for text search on the complete "document".
So, -1 for removing the PDFs.

Håvard

On 10.05.2019 10:11, Paolo Cavallini wrote:
> Hi Richard,
> 
> On 10/05/19 08:59, Richard Duivenvoorde wrote:
> 
>> Are these actually used?
>> Because when busy testing new sphinx/templates/Make/Build of docs I was
>> thinking about getting rid of pdf. But instead go for the 'zipped' docs
>> route, which can be viewed in QGIS itself.
>> (though if pdf build 'just keep working' and are needed, we can keep on
>> building them)
> 
> I have seen often pdf being printed - apparently people like to read on
> paper. On the other hand, I believe we should discourage this, bot for
> environmental and for practical purposes (a printed manual becomes
> obsolete soon, and people keep on reading old stuff instead of upgrading
> to the new version).
> So I'd be a mild +1 for removing the pdfs.
> Cheers.
> 

From matteo.ghetta at gmail.com  Fri May 10 02:48:19 2019
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 10 May 2019 11:48:19 +0200
Subject: [QGIS-Developer] Print Layout continuously crashing
In-Reply-To: <0f936abe-797e-39ae-ce35-5b0e2ab41d75@gmail.com>
References: <0f936abe-797e-39ae-ce35-5b0e2ab41d75@gmail.com>
Message-ID: <054f2ed0-e34a-5433-bbd7-1b9145392c6e@gmail.com>

I recompiled QGIS withe debug information (thanks Mathieu) and the gist
is now updated with hopefully more information

Cheers

Matteo

From rdmailings at duif.net  Fri May 10 03:30:41 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 10 May 2019 12:30:41 +0200
Subject: [QGIS-Developer] Broken links to PDF manuals
In-Reply-To: <CAB28Asi+tZ++o3kQAWuzdF5tTSXU2JYseRk8hE29tdRaZBEnPQ@mail.gmail.com>
References: <CAB28Asi+tZ++o3kQAWuzdF5tTSXU2JYseRk8hE29tdRaZBEnPQ@mail.gmail.com>
Message-ID: <063450f3-aae7-f43c-3df4-5b896cfb0c6d@duif.net>

Ok, fixed now, thanks Harrissou!

Richard

On 10/05/2019 08.30, Nyall Dawson wrote:
> Hey list,
> 
> Can anyone confirm for me that the link to download PDF versions of
> the QGIS manual is currently broken? From
> https://www.qgis.org/en/docs/index.html the link leads to
> https://docs.qgis.org/3.4/en/en/QGIS-3.4-UserGuide-en.pdf, which
> returns a 404.
> 
> There's also links under https://docs.qgis.org/3.4/en/docs/ to the
> PDF, which point across to https://docs.qgis.org/testing/pdf/ -- but
> that link redirects back to https://docs.qgis.org/testing/en/docs/ and
> not the actual PDFs (it's also redirected from the 3.4 docs to the
> testing ones)
> 
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From regis.haubourg at gmail.com  Fri May 10 06:47:27 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Fri, 10 May 2019 15:47:27 +0200
Subject: [QGIS-Developer] Should we create a list for admin sys discussions
	and infrastructure monitoring?
Message-ID: <CABgOYCdd81UBG27hP8QpgXuGrxO34fpmTtAn95xNNar-3PrJfA@mail.gmail.com>

Hi all,
at Oslandia we are currently pushing the OGC compliance test suite,  the
performance test suite and some demo stuff QWC2 on qgis officiel servers.
We need to monitor those tools that produce daily reports and send mails in
case of failure of the tools

We don't want to flood the developper's mailing list with such messages, so
we are wondering what would be the best place to send those notifications?

For the particular case of the OGC compliance test, we also now have
messages in case of regressions. Those messages should are not wired with
Travis PR workflow, so we need to raise the information probably on the
developper mailing list.

Is there anything already set up somewhere we are not aware of?

I think centralizing notification and having a dashbooard to monitot the
status of all the infrastructure would be nice.

Thanks for your hints!

Best regards
Régis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190510/85e9fa38/attachment-0001.html>

From anitagraser at gmx.at  Fri May 10 09:02:33 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Fri, 10 May 2019 18:02:33 +0200
Subject: [QGIS-Developer] FIELDS_TO_COPY syntax for
	native:joinattributestable
Message-ID: <CAFFV8Fh0O96SxTWTtf8xzBdR3V+DE3A9KBrfk1u4TpudocObQw@mail.gmail.com>

Hi,

I'm trying to figure out the syntax for using native:joinattributestable in
the modeller. Specifically, I'd like to specify the FIELDS_TO_COPY parameter.
I know from the Processing history, that the correct syntax is :

FIELDS_TO_COPY: ['NAME','USE']


but no matter how I try to enter the field names into to modeller GUI, I
always end up with either everything mashed into one field name, e.g.


FIELDS_TO_COPY: 'NAME,USE'


or escaped:


FIELDS_TO_COPY: '[\'NAME\',\'USE\']'


What's the correct way to specify the "Layer 2 fields to copy" in the
modeler GUI?


Regards,

Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190510/deee245c/attachment.html>

From rdmailings at duif.net  Fri May 10 08:04:18 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 10 May 2019 17:04:18 +0200
Subject: [QGIS-Developer] Questions wrt. problems with empty layers
In-Reply-To: <99a5d33c-66d9-0c99-dfcd-a55743b50e9b@gmail.com>
References: <6EDB455314CAD940983B0F3ACAC4B0A53B001868@Mail2010.LIFA.DK>
 <99a5d33c-66d9-0c99-dfcd-a55743b50e9b@gmail.com>
Message-ID: <c68d61ee-a3f4-8451-d8ec-7dd8eeb923c5@duif.net>

Hi,

Just tried with a Geoserver (2.15) I have running here.

Moved a shp file with 1 feature in a postgis db, created a wfs service
for it and loaded in QGIS, styled it etc: fine.

Removed the (one) feature from the table, retarted Geoserver, and had a
look into the requests QGIS is firing [0].

QGIS first does a GetCapabilities request:
/geoserver/wfs?SERVICE=WFS&REQUEST=GetCapabilities&ACCEPTVERSIONS=2.0.0,1.1.0,1.0.0

Then a describefeature request (to determine the type):

geoserver/wfs?SERVICE=WFS&REQUEST=DescribeFeatureType&VERSION=2.0.0&TYPENAME=test:wfspointPostgis

That one responses with

<xsd:element maxOccurs="1" minOccurs="0" name="geom" nillable="true"
type="gml:PointPropertyType"/>

So Geoserver (still?) knows about the geometry type of the table.
Not sure if that is cached? But it is available in the
'geometry_columns'-view of Postgis (stating type=POINT).

And QGIS keeps the styling, even after several restarts/reloads.

One thing I can think of: is that the postgis table does not have a type
defined, with someting like:
geom geometry
instead of
geom geometry(Point,28992),
what I see when the table created via QGIS...

Could it be that
- geoserver cannot determine the type?

To test I created a minimal table:
CREATE TABLE public.testgeoms
(
  id integer,
  geom geometry,
  fid integer NOT NULL DEFAULT nextval('testgeoms_fid_seq'::regclass),
  CONSTRAINT foo PRIMARY KEY (fid)
)

At that moment the geometry_columns view shows type=GEOMETRY
So (I think) without data, geoserver can never determine the type, hence
shows:
<xsd:element maxOccurs="1" minOccurs="0" name="geom" nillable="true"
type="gml:GeometryPropertyType"/>
in the DescribeFeatureType response...

And indeed if I then empty the table, and reopen the project the
WFS-point layer shows an 'img', as it cannot style the zero features.
AND it does not have type info?

So (confirmed) having that layer with zero (of unknown type) features,
QGIS forgets the style...

Is that a bug?

IF you create the layers with a feature TYPE (geom
geometry(Point,28992)) then the type will show up in the
'geometry_columns'-view and then in the describefeature response.

Without that knowledge QGIS retrieves NO type information (via the
describefeature) upon loading of the project/layer and (apparently)
forgets the type in the layer???

Does it work with you if you put the type in the table definitions in
Postgis (so they show up in the 'geometry_columns'-view)?
With me it does, but I just did a quick test.

Else I would create an issue for it or let somebody dive into this...

Regards,

Richard Duivenvoorde


[0] https://github.com/rduivenvoorde/qgisnetworklogger/tree/model_rewrite


On 09/05/2019 22.22, Bo Victor Thomsen wrote:
> Hi Lars and other members of this list..
> 
> I feel somewhat obligated to help Lars since it's a problem he has
> inherited from me. (Sorry about that...) 
> 
> To sum it up:
> 
> If QGIS connects to a WFS based layer from Geoserver using an existing
> project with styled layers and one or more layers containing /zero/
> objects, QGIS can't determine the object type (point, line-string,
> polygon...) for those layers. QGIS will not show legends  and promptly
> forget any layer information stored in the project related to the
> object-type, ex. styling information.
> 
> And what is worse - this is a permanent situation: If you save the
> project in the above-mentioned state and reopen it at a later time -
> where the layers /now/ contains objects - QGIS has forgotten the styling
> and other information, so the layers stays invisible and without the
> former styling.
> 
> (long posting...)
> 
> I've done some tests to determine the root cause of this problem:
> 
>   * Setup of a Postgres database /and /a SQL Server database.
> 
>   * Loaded the same MapInfo-dataset twice into each database, called
>     them tableA and tableB, and populated the meta-table
>     "dbo.geometry_columns" with the correct information for tableA and
>     tableB in SQLServer.
> 
>   * Installed a fresh Geoserver 2.15 and MapServer TinyOWS WFS-T server
> 
>   * Setup a Workspace in Geoserver with 4 layers: tableA and -B from
>     SQLServer and the same tables from Postgres using WFS.
> 
>   * In Geoserver, the datastore definition for the SQLServer tables has
>     a pointer to the "dbo.geometry_columns" meta-table.
> 
>   * Setup of TinyOWS with tableA and -B from Postgres
> 
>   * And lastly: Made a project in QGIS 3.4.7 /Windows 64bit with the 6
>     WFS layers:
> 
>       o tableA is shown 3 times:
> 
>          1. From SQLServer through GeoServer;
>          2. From Postgres through GeoServer
>          3. From Postgres through Tiny-WFS
> 
>       o tableB is shown 3 times using the same setup as tableA
> 
> All 6 layers in QGIS was shown correctly and the object type for all
> layers was recognized.
> 
> After this I /deleted/ all rows from tableB in /both/ MS-SQLServer and
> in Postgres and reopened the same QGIS project:
> 
>   * The layer showing (the zero objects) tableB from SQLServer through
>     GeoServer was not in order.
>   * The 5 other layers was shown correctly. Legends was correct and
>     styling was not deleted
> 
> I'm drawing the following conclusion:
> 
>   * GeoServer WFS connections (maybe in conjunction with QGIS) doesn't
>     work properly when the dataprovider is MS-SQLServer and the layers
>     contains zero objects. More precisely: GeoServer's SQLServer
>     dataprovider can't or don't use geometry_columns meta-table defined
>     in the datastore as described in:
>     https://docs.geoserver.org/stable/en/user/data/database/sqlserver.html#using-the-geometry-metadata-table
>     .
> 
> After this test I've tried to change the placement and existence of the
> "geometry_columns" metadata table: 
> 
>   * No value
>   * dbo.geometry_column (ordinary placement)
>   * data.geometry_column (I made a copy of the geometry_columns table
>     and placed it in the same schema as the test tables)
>   * geometry_columns (without schema definition)
> 
> Nothing of the above worked.
> 
> @Lars:
> You might change your database system to Postgres and perhaps replace
> GeoServer with TinyOWS for WFS purposes (ducks and and run....) .
> Or getting the issue investigated and fixed using some GeoServer core
> developer, perhaps in cooperation with a QGIS core developer?
> Apparently the problem is fixable, since neither TinyOWS or
> GeoServer/Postgres have the same  issues.
> 
> Obviously, the above is a far cry from a really rigorous investigation
> of the problem, but it points at some of the "pain" points
> 
> Regards
> 
> Bo Victor Thomsen
> 
> AestasGIS
> Denmark
> 
> Den 09-05-2019 kl. 13:36 skrev Lars I. Nielsen, LIFA A/S:
>>
>> Hi developers.
>>
>>  
>>
>> I asked this question on the user’s list, so far without any answers,
>> but have been advised to ask here as well.
>>
>>  
>>
>>  
>>
>> I’m working with a number of projects, which statically open a fixed
>> number of layers. All layers are fetched using WFS / WFS-T.
>>
>>  
>>
>> Each layer has an extensive rule based styling, and an extensive
>> field/attribute dialog setup. This is saved in the project files.
>>
>>  
>>
>> Our plugin changes the data provider filter for many layers, when the
>> user works with the data. These filter expressions are also saved in
>> the project, of course.
>>
>>  
>>
>> Our problem is, that if the user accidently chooses a work area (= new
>> data provider filter), which contain no data in any layer, those
>> layers lose all styling etc. And it’s apparently impossible to recover
>> these styles etc. by changing the filter back.
>>
>>  
>>
>> So basically the user’s project is unrecoverably trashed at this point
>> in time.
>>
>>  
>>
>> A - Is this a correct description of how QGIS handles “no-data” layers ?
>>
>>  
>>
>> B - Are there any standard ways to handle this in QGIS (using metadata
>> or otherwise) in an automated fashion (i.e. not manually) ?
>>
>>  
>>
>> C - If the answers to A and B are yes and no resp., are there any
>> plans to remedy this unnecessarily serious problem ?
>>
>>  
>>
>>  
>>
>> Might it not be solved simply by adding an (optional?) layer metadata
>> key, that stores the last used topology, and revert to this if no data
>> are found on the layer ?
>>
>>  
>>
>>  
>>
>> Using 3.4.5 x64 (Danish)
>>
>>  
>>
>>  
>>
>> Med venlig hilsen
>>
>> Lars I. Nielsen, LIFA A/S
>> GIS-konsulent, FME Certified Professional
>>
>> Beskrivelse: http://website.lifa.dk/lsp.gif
>>
>> *T*
>>
>> 	
>>
>> 6313 6800
>>
>> 	
>>
>> *@* 
>>
>> 	
>>
>> lin at lifa.dk
>>
>> *D*
>>
>> 	
>>
>> 6313 6849
>>
>> 	
>>
>> *W*
>>
>> 	
>>
>> www.lifa.dk <http://www.lifa.dk>
>>
>> *M*
>>
>> 	
>>
>> 2492 4866
>>
>> 	
>>
>> *CVR*
>>
>> 	
>>
>> 20937289
>>
>>
>> Beskrivelse:
>> C:\Users\lin\AppData\Roaming\Microsoft\signatures\21x21-Images-Get-L749-l8.png
>> <https://www.linkedin.com/company/lifa-a-s/>
>> Følg os på LinkedIn og læs de seneste nyheder fra LIFA A/S 
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From apasotti at gmail.com  Fri May 10 08:10:24 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Fri, 10 May 2019 17:10:24 +0200
Subject: [QGIS-Developer] Questions wrt. problems with empty layers
In-Reply-To: <c68d61ee-a3f4-8451-d8ec-7dd8eeb923c5@duif.net>
References: <6EDB455314CAD940983B0F3ACAC4B0A53B001868@Mail2010.LIFA.DK>
 <99a5d33c-66d9-0c99-dfcd-a55743b50e9b@gmail.com>
 <c68d61ee-a3f4-8451-d8ec-7dd8eeb923c5@duif.net>
Message-ID: <CAL5Q6733BeyQEax7Myamjgd8evVpMKeBNGGVAOmVc+YwQ2a=_w@mail.gmail.com>

On Fri, May 10, 2019 at 5:04 PM Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> Hi,
>
> Just tried with a Geoserver (2.15) I have running here.
>
> Moved a shp file with 1 feature in a postgis db, created a wfs service
> for it and loaded in QGIS, styled it etc: fine.
>
> Removed the (one) feature from the table, retarted Geoserver, and had a
> look into the requests QGIS is firing [0].
>
> QGIS first does a GetCapabilities request:
>
> /geoserver/wfs?SERVICE=WFS&REQUEST=GetCapabilities&ACCEPTVERSIONS=2.0.0,1.1.0,1.0.0
>
> Then a describefeature request (to determine the type):
>
>
> geoserver/wfs?SERVICE=WFS&REQUEST=DescribeFeatureType&VERSION=2.0.0&TYPENAME=test:wfspointPostgis
>
> That one responses with
>
> <xsd:element maxOccurs="1" minOccurs="0" name="geom" nillable="true"
> type="gml:PointPropertyType"/>
>
> So Geoserver (still?) knows about the geometry type of the table.
> Not sure if that is cached? But it is available in the
> 'geometry_columns'-view of Postgis (stating type=POINT).
>
> And QGIS keeps the styling, even after several restarts/reloads.
>
> One thing I can think of: is that the postgis table does not have a type
> defined, with someting like:
> geom geometry
> instead of
> geom geometry(Point,28992),
> what I see when the table created via QGIS...
>
> Could it be that
> - geoserver cannot determine the type?
>
> To test I created a minimal table:
> CREATE TABLE public.testgeoms
> (
>   id integer,
>   geom geometry,
>   fid integer NOT NULL DEFAULT nextval('testgeoms_fid_seq'::regclass),
>   CONSTRAINT foo PRIMARY KEY (fid)
> )
>
> At that moment the geometry_columns view shows type=GEOMETRY
> So (I think) without data, geoserver can never determine the type, hence
> shows:
> <xsd:element maxOccurs="1" minOccurs="0" name="geom" nillable="true"
> type="gml:GeometryPropertyType"/>
> in the DescribeFeatureType response...
>
> And indeed if I then empty the table, and reopen the project the
> WFS-point layer shows an 'img', as it cannot style the zero features.
> AND it does not have type info?
>
> So (confirmed) having that layer with zero (of unknown type) features,
> QGIS forgets the style...
>
> Is that a bug?
>
>
QGIS styles are bound to geometry types, it the type is unknown there is
not much we can do .... something similar happens for bad/broken layers.

For that implementation I'm storing the original XML layer style that can
be re-applied in case the "bad layer" is fixed, maybe we can re-use that
mechanism for this use case.




> IF you create the layers with a feature TYPE (geom
> geometry(Point,28992)) then the type will show up in the
> 'geometry_columns'-view and then in the describefeature response.
>
> Without that knowledge QGIS retrieves NO type information (via the
> describefeature) upon loading of the project/layer and (apparently)
> forgets the type in the layer???
>
> Does it work with you if you put the type in the table definitions in
> Postgis (so they show up in the 'geometry_columns'-view)?
> With me it does, but I just did a quick test.
>
> Else I would create an issue for it or let somebody dive into this...
>
> Regards,
>
> Richard Duivenvoorde
>
>
> [0] https://github.com/rduivenvoorde/qgisnetworklogger/tree/model_rewrite
>
>
> On 09/05/2019 22.22, Bo Victor Thomsen wrote:
> > Hi Lars and other members of this list..
> >
> > I feel somewhat obligated to help Lars since it's a problem he has
> > inherited from me. (Sorry about that...)
> >
> > To sum it up:
> >
> > If QGIS connects to a WFS based layer from Geoserver using an existing
> > project with styled layers and one or more layers containing /zero/
> > objects, QGIS can't determine the object type (point, line-string,
> > polygon...) for those layers. QGIS will not show legends  and promptly
> > forget any layer information stored in the project related to the
> > object-type, ex. styling information.
> >
> > And what is worse - this is a permanent situation: If you save the
> > project in the above-mentioned state and reopen it at a later time -
> > where the layers /now/ contains objects - QGIS has forgotten the styling
> > and other information, so the layers stays invisible and without the
> > former styling.
> >
> > (long posting...)
> >
> > I've done some tests to determine the root cause of this problem:
> >
> >   * Setup of a Postgres database /and /a SQL Server database.
> >
> >   * Loaded the same MapInfo-dataset twice into each database, called
> >     them tableA and tableB, and populated the meta-table
> >     "dbo.geometry_columns" with the correct information for tableA and
> >     tableB in SQLServer.
> >
> >   * Installed a fresh Geoserver 2.15 and MapServer TinyOWS WFS-T server
> >
> >   * Setup a Workspace in Geoserver with 4 layers: tableA and -B from
> >     SQLServer and the same tables from Postgres using WFS.
> >
> >   * In Geoserver, the datastore definition for the SQLServer tables has
> >     a pointer to the "dbo.geometry_columns" meta-table.
> >
> >   * Setup of TinyOWS with tableA and -B from Postgres
> >
> >   * And lastly: Made a project in QGIS 3.4.7 /Windows 64bit with the 6
> >     WFS layers:
> >
> >       o tableA is shown 3 times:
> >
> >          1. From SQLServer through GeoServer;
> >          2. From Postgres through GeoServer
> >          3. From Postgres through Tiny-WFS
> >
> >       o tableB is shown 3 times using the same setup as tableA
> >
> > All 6 layers in QGIS was shown correctly and the object type for all
> > layers was recognized.
> >
> > After this I /deleted/ all rows from tableB in /both/ MS-SQLServer and
> > in Postgres and reopened the same QGIS project:
> >
> >   * The layer showing (the zero objects) tableB from SQLServer through
> >     GeoServer was not in order.
> >   * The 5 other layers was shown correctly. Legends was correct and
> >     styling was not deleted
> >
> > I'm drawing the following conclusion:
> >
> >   * GeoServer WFS connections (maybe in conjunction with QGIS) doesn't
> >     work properly when the dataprovider is MS-SQLServer and the layers
> >     contains zero objects. More precisely: GeoServer's SQLServer
> >     dataprovider can't or don't use geometry_columns meta-table defined
> >     in the datastore as described in:
> >
> https://docs.geoserver.org/stable/en/user/data/database/sqlserver.html#using-the-geometry-metadata-table
> >     .
> >
> > After this test I've tried to change the placement and existence of the
> > "geometry_columns" metadata table:
> >
> >   * No value
> >   * dbo.geometry_column (ordinary placement)
> >   * data.geometry_column (I made a copy of the geometry_columns table
> >     and placed it in the same schema as the test tables)
> >   * geometry_columns (without schema definition)
> >
> > Nothing of the above worked.
> >
> > @Lars:
> > You might change your database system to Postgres and perhaps replace
> > GeoServer with TinyOWS for WFS purposes (ducks and and run....) .
> > Or getting the issue investigated and fixed using some GeoServer core
> > developer, perhaps in cooperation with a QGIS core developer?
> > Apparently the problem is fixable, since neither TinyOWS or
> > GeoServer/Postgres have the same  issues.
> >
> > Obviously, the above is a far cry from a really rigorous investigation
> > of the problem, but it points at some of the "pain" points
> >
> > Regards
> >
> > Bo Victor Thomsen
> >
> > AestasGIS
> > Denmark
> >
> > Den 09-05-2019 kl. 13:36 skrev Lars I. Nielsen, LIFA A/S:
> >>
> >> Hi developers.
> >>
> >>
> >>
> >> I asked this question on the user’s list, so far without any answers,
> >> but have been advised to ask here as well.
> >>
> >>
> >>
> >>
> >>
> >> I’m working with a number of projects, which statically open a fixed
> >> number of layers. All layers are fetched using WFS / WFS-T.
> >>
> >>
> >>
> >> Each layer has an extensive rule based styling, and an extensive
> >> field/attribute dialog setup. This is saved in the project files.
> >>
> >>
> >>
> >> Our plugin changes the data provider filter for many layers, when the
> >> user works with the data. These filter expressions are also saved in
> >> the project, of course.
> >>
> >>
> >>
> >> Our problem is, that if the user accidently chooses a work area (= new
> >> data provider filter), which contain no data in any layer, those
> >> layers lose all styling etc. And it’s apparently impossible to recover
> >> these styles etc. by changing the filter back.
> >>
> >>
> >>
> >> So basically the user’s project is unrecoverably trashed at this point
> >> in time.
> >>
> >>
> >>
> >> A - Is this a correct description of how QGIS handles “no-data” layers ?
> >>
> >>
> >>
> >> B - Are there any standard ways to handle this in QGIS (using metadata
> >> or otherwise) in an automated fashion (i.e. not manually) ?
> >>
> >>
> >>
> >> C - If the answers to A and B are yes and no resp., are there any
> >> plans to remedy this unnecessarily serious problem ?
> >>
> >>
> >>
> >>
> >>
> >> Might it not be solved simply by adding an (optional?) layer metadata
> >> key, that stores the last used topology, and revert to this if no data
> >> are found on the layer ?
> >>
> >>
> >>
> >>
> >>
> >> Using 3.4.5 x64 (Danish)
> >>
> >>
> >>
> >>
> >>
> >> Med venlig hilsen
> >>
> >> Lars I. Nielsen, LIFA A/S
> >> GIS-konsulent, FME Certified Professional
> >>
> >> Beskrivelse: http://website.lifa.dk/lsp.gif
> >>
> >> *T*
> >>
> >>
> >>
> >> 6313 6800
> >>
> >>
> >>
> >> *@*
> >>
> >>
> >>
> >> lin at lifa.dk
> >>
> >> *D*
> >>
> >>
> >>
> >> 6313 6849
> >>
> >>
> >>
> >> *W*
> >>
> >>
> >>
> >> www.lifa.dk <http://www.lifa.dk>
> >>
> >> *M*
> >>
> >>
> >>
> >> 2492 4866
> >>
> >>
> >>
> >> *CVR*
> >>
> >>
> >>
> >> 20937289
> >>
> >>
> >> Beskrivelse:
> >>
> C:\Users\lin\AppData\Roaming\Microsoft\signatures\21x21-Images-Get-L749-l8.png
> >> <https://www.linkedin.com/company/lifa-a-s/>
> >> Følg os på LinkedIn og læs de seneste nyheder fra LIFA A/S
> >>
> >>
> >>
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190510/e96fbcdf/attachment-0001.html>

From noreply at qgis.org  Fri May 10 22:36:55 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 11 May 2019 05:36:55 -0000
Subject: [QGIS-Developer] Plugin [1391] Asistente LADM_COL approval
	notification.
Message-ID: <20190511053655.5813.87171@2c6504964296>


Plugin Asistente LADM_COL approval by pcav.
The plugin version "[1391] Asistente LADM_COL 1.6.3" is now approved
Link: http://plugins.qgis.org/plugins/asistente_ladm_col/

From adibsaliba75 at gmail.com  Sat May 11 10:00:35 2019
From: adibsaliba75 at gmail.com (Adib saliba)
Date: Sat, 11 May 2019 10:00:35 -0700 (MST)
Subject: [QGIS-Developer] QGIS server deployment
In-Reply-To: <a7de3d04-79eb-7598-0c25-7a80be0aaf04@gis3w.it>
References: <9d5647c5-f22f-b421-e5b3-e2dc1f983777@gis3w.it>
 <20190226163318.33fd34d3@hookipa.localdomain>
 <a7de3d04-79eb-7598-0c25-7a80be0aaf04@gis3w.it>
Message-ID: <1557594035274-0.post@n6.nabble.com>

Hi guys
First of all thank you for all the explanations regarding
the setup of qgis server.
I'm not a sysadmin too, but I deployed qgis server
using method 1 and 3. In 3 (nginx+systemd+php-fpm)
| tried 2types of service : simple and forking with
number of process = number of cores.
The type=simple is faster but it is not freeing up
memory even if I'm using Restart=always, the
type=forking is freeing memory but gives error
prematurely closed connection to fastcgi upstream.
Ciul you please advise me how to correctly configure
the service type simple to freeup memory?
Thanks and best regards




--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From bo.victor.thomsen at gmail.com  Sat May 11 10:44:51 2019
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Sat, 11 May 2019 19:44:51 +0200
Subject: [QGIS-Developer] Questions wrt. problems with empty layers
 (SOLVED - somewhat)
In-Reply-To: <CAL5Q6733BeyQEax7Myamjgd8evVpMKeBNGGVAOmVc+YwQ2a=_w@mail.gmail.com>
References: <6EDB455314CAD940983B0F3ACAC4B0A53B001868@Mail2010.LIFA.DK>
 <99a5d33c-66d9-0c99-dfcd-a55743b50e9b@gmail.com>
 <c68d61ee-a3f4-8451-d8ec-7dd8eeb923c5@duif.net>
 <CAL5Q6733BeyQEax7Myamjgd8evVpMKeBNGGVAOmVc+YwQ2a=_w@mail.gmail.com>
Message-ID: <4bd0dcb4-dbc1-c211-e4fc-bbbb1f60a1cf@gmail.com>

Hi all -

(for the impatient, read the last part of this mail)

I've been digging a little bit further into my own setup - essentially 
doing the same operations as Richard

I examined the 4 layers i GeoServer

  * groenreg:bykerne: *SqlServer* based layer *with* rows.
    Geometry column defined as "geometry", but defined in
    "geometry_columns" as "MULTIPOLYGON", dimensions = 2 and srid = 25832

  * groenreg:bykerne_pg: *Postgres* based layer*with* rows
    Geometry column defined as "geometry (MULTIPOLYON,25832) and defined
    in "geometry_columns" as "MULTIPOLYGON", dimensions = 2 and srid =
    25832

  * groenreg:bykerne_empty:*Sql-server* based layer *without* rows
    Geometry column defined as "geometry", but defined in
    "geometry_columns" as "MULTIPOLYGON", dimensions = 2 and srid = 25832

  * groenreg:bykerne_pg_empty: *Postgres* based layer *without* rows .
    Geometry column defined as "geometry (MULTIPOLYON,25832) and defined
    in "geometry_columns" as "MULTIPOLYGON", dimensions = 2 and srid =
    25832

The datastore in Geoserver for the layers in SQLServer is set up so the 
location of the geometry_columns is known to GeoServer

The documentation for GeoServer clearly states, that if there is a 
geometry_columns meta table present and is known to GeoServer, GeoServer 
will use information from this table to ascertain the geometry type for 
the layers: 
https://docs.geoserver.org/stable/en/user/data/database/sqlserver.html#using-the-geometry-metadata-table

When I make a WFS describefeature - request for each of the 4 layers I 
get the following result:

  * groenreg:bykerne:  ...<xsd:element maxOccurs="1" minOccurs="0"
    name="ogr_geometry" nillable="true"
    type="*gml:GeometryPropertyType*"/>...

  * groenreg:bykerne_pg:  ... <xsd:element maxOccurs="1" minOccurs="0"
    name="wkb_geometry" nillable="true"
    type="*gml:MultiSurfacePropertyType*"/>...

  * groenreg:bykerne_empty:  ...<xsd:element maxOccurs="1" minOccurs="0"
    name="ogr_geometry" nillable="true"
    type="*gml:GeometryPropertyType*"/>...

  * groenreg:bykerne_pg_empty: ... <xsd:element maxOccurs="1"
    minOccurs="0" name="wkb_geometry" nillable="true"
    type="*gml:MultiSurfacePropertyType*"/>...

I.e. The layers based on ms-sqlserver (with or without rows) always is 
seen as type="*gml:GeometryPropertyType*" (general geometry, no subtype) 
and layers based on Postgres is seen as  
type="*gml:MultiSurfacePropertyType (*i.e. the correct subtype for the  
specific layer)

My conclusion:
GeoServer is *not* using the information stored in the geometry_columns 
meta table to define the real geometry subtype for a MS-SQLServer based 
layer. Hence QGIS is forced to detect the geometry-type by fetching one 
row and determine the type from this row. If there is no rows, QGIS is 
unable the determine the type.
On the other hand Postgres based layers from GeoServer shows the right 
geometry subtype in the WFS describefeature request. These layers in 
QGIS gets the right type with or without rows in the source database table.

Why GeoServer  isn't using the information in the geometry columns meta 
table is unknown to me. It can be a faulty setup by me or a bug in the 
GeoServer code.

*NB!!! STOP PRESS -**
*
I've just investigated the structure of geometry_columns in my sqlserver 
database and compared it to the geometry_columns structure that 
GeoServer prescribes:
There *is* a bloody difference: The *geometry_type* column in my 
sqlserver geometry_columns table has the "wrong" name. It should be 
named simply *type*

A simple renaming of column *geometry_type* to *type *in table 
geometry_columns solves the issue with the zero-row sqlserver tables as 
layers

(Just turned away from computer and stomping head into wall for about 3 
minutes...


.... Back again with a slight headache...)

Retrying the WFS describefeature request on the sql server layers now 
gives the equivalent result as with Postgres:

  *             ...<xsd:element maxOccurs="1" minOccurs="0"
    name="ogr_geometry" nillable="true"
    type="*gml:MultiSurfacePropertyType*"/>...


There seems to be a discrepancy in how different spatial software  
interprets how geometry_columns should be structured

  * GDAL uses "geometry_type" (hence SQLServer uses this too, because it
    was created by ogc2ogc command-line tool in sqlserver)
  * PostGIS view use "type"
  * Spatialite uses "geometry_type"
  * GeoServer uses "type"

and so on ....

How do we ever reach "world peace" or solve the climate crisis if we 
even can't agree on the name of friggin' meta table column ....

Regards

Bo Victor Thomsen
GIS & Database specialist

AestasGIS
Denmark





Den 10-05-2019 kl. 17:10 skrev Alessandro Pasotti:
>
>
> On Fri, May 10, 2019 at 5:04 PM Richard Duivenvoorde 
> <rdmailings at duif.net <mailto:rdmailings at duif.net>> wrote:
>
>     Hi,
>
>     Just tried with a Geoserver (2.15) I have running here.
>
>     Moved a shp file with 1 feature in a postgis db, created a wfs service
>     for it and loaded in QGIS, styled it etc: fine.
>
>     Removed the (one) feature from the table, retarted Geoserver, and
>     had a
>     look into the requests QGIS is firing [0].
>
>     QGIS first does a GetCapabilities request:
>     /geoserver/wfs?SERVICE=WFS&REQUEST=GetCapabilities&ACCEPTVERSIONS=2.0.0,1.1.0,1.0.0
>
>     Then a describefeature request (to determine the type):
>
>     geoserver/wfs?SERVICE=WFS&REQUEST=DescribeFeatureType&VERSION=2.0.0&TYPENAME=test:wfspointPostgis
>
>     That one responses with
>
>     <xsd:element maxOccurs="1" minOccurs="0" name="geom" nillable="true"
>     type="gml:PointPropertyType"/>
>
>     So Geoserver (still?) knows about the geometry type of the table.
>     Not sure if that is cached? But it is available in the
>     'geometry_columns'-view of Postgis (stating type=POINT).
>
>     And QGIS keeps the styling, even after several restarts/reloads.
>
>     One thing I can think of: is that the postgis table does not have
>     a type
>     defined, with someting like:
>     geom geometry
>     instead of
>     geom geometry(Point,28992),
>     what I see when the table created via QGIS...
>
>     Could it be that
>     - geoserver cannot determine the type?
>
>     To test I created a minimal table:
>     CREATE TABLE public.testgeoms
>     (
>       id integer,
>       geom geometry,
>       fid integer NOT NULL DEFAULT nextval('testgeoms_fid_seq'::regclass),
>       CONSTRAINT foo PRIMARY KEY (fid)
>     )
>
>     At that moment the geometry_columns view shows type=GEOMETRY
>     So (I think) without data, geoserver can never determine the type,
>     hence
>     shows:
>     <xsd:element maxOccurs="1" minOccurs="0" name="geom" nillable="true"
>     type="gml:GeometryPropertyType"/>
>     in the DescribeFeatureType response...
>
>     And indeed if I then empty the table, and reopen the project the
>     WFS-point layer shows an 'img', as it cannot style the zero features.
>     AND it does not have type info?
>
>     So (confirmed) having that layer with zero (of unknown type) features,
>     QGIS forgets the style...
>
>     Is that a bug?
>
>
> QGIS styles are bound to geometry types, it the type is unknown there 
> is not much we can do .... something similar happens for bad/broken 
> layers.
>
> For that implementation I'm storing the original XML layer style that 
> can be re-applied in case the "bad layer" is fixed, maybe we can 
> re-use that mechanism for this use case.
>
>
>     IF you create the layers with a feature TYPE (geom
>     geometry(Point,28992)) then the type will show up in the
>     'geometry_columns'-view and then in the describefeature response.
>
>     Without that knowledge QGIS retrieves NO type information (via the
>     describefeature) upon loading of the project/layer and (apparently)
>     forgets the type in the layer???
>
>     Does it work with you if you put the type in the table definitions in
>     Postgis (so they show up in the 'geometry_columns'-view)?
>     With me it does, but I just did a quick test.
>
>     Else I would create an issue for it or let somebody dive into this...
>
>     Regards,
>
>     Richard Duivenvoorde
>
>
>     [0]
>     https://github.com/rduivenvoorde/qgisnetworklogger/tree/model_rewrite
>
>
>     On 09/05/2019 22.22, Bo Victor Thomsen wrote:
>     > Hi Lars and other members of this list..
>     >
>     > I feel somewhat obligated to help Lars since it's a problem he has
>     > inherited from me. (Sorry about that...)
>     >
>     > To sum it up:
>     >
>     > If QGIS connects to a WFS based layer from Geoserver using an
>     existing
>     > project with styled layers and one or more layers containing /zero/
>     > objects, QGIS can't determine the object type (point, line-string,
>     > polygon...) for those layers. QGIS will not show legends  and
>     promptly
>     > forget any layer information stored in the project related to the
>     > object-type, ex. styling information.
>     >
>     > And what is worse - this is a permanent situation: If you save the
>     > project in the above-mentioned state and reopen it at a later time -
>     > where the layers /now/ contains objects - QGIS has forgotten the
>     styling
>     > and other information, so the layers stays invisible and without the
>     > former styling.
>     >
>     > (long posting...)
>     >
>     > I've done some tests to determine the root cause of this problem:
>     >
>     >   * Setup of a Postgres database /and /a SQL Server database.
>     >
>     >   * Loaded the same MapInfo-dataset twice into each database, called
>     >     them tableA and tableB, and populated the meta-table
>     >     "dbo.geometry_columns" with the correct information for
>     tableA and
>     >     tableB in SQLServer.
>     >
>     >   * Installed a fresh Geoserver 2.15 and MapServer TinyOWS WFS-T
>     server
>     >
>     >   * Setup a Workspace in Geoserver with 4 layers: tableA and -B from
>     >     SQLServer and the same tables from Postgres using WFS.
>     >
>     >   * In Geoserver, the datastore definition for the SQLServer
>     tables has
>     >     a pointer to the "dbo.geometry_columns" meta-table.
>     >
>     >   * Setup of TinyOWS with tableA and -B from Postgres
>     >
>     >   * And lastly: Made a project in QGIS 3.4.7 /Windows 64bit with
>     the 6
>     >     WFS layers:
>     >
>     >       o tableA is shown 3 times:
>     >
>     >          1. From SQLServer through GeoServer;
>     >          2. From Postgres through GeoServer
>     >          3. From Postgres through Tiny-WFS
>     >
>     >       o tableB is shown 3 times using the same setup as tableA
>     >
>     > All 6 layers in QGIS was shown correctly and the object type for all
>     > layers was recognized.
>     >
>     > After this I /deleted/ all rows from tableB in /both/
>     MS-SQLServer and
>     > in Postgres and reopened the same QGIS project:
>     >
>     >   * The layer showing (the zero objects) tableB from SQLServer
>     through
>     >     GeoServer was not in order.
>     >   * The 5 other layers was shown correctly. Legends was correct and
>     >     styling was not deleted
>     >
>     > I'm drawing the following conclusion:
>     >
>     >   * GeoServer WFS connections (maybe in conjunction with QGIS)
>     doesn't
>     >     work properly when the dataprovider is MS-SQLServer and the
>     layers
>     >     contains zero objects. More precisely: GeoServer's SQLServer
>     >     dataprovider can't or don't use geometry_columns meta-table
>     defined
>     >     in the datastore as described in:
>     >
>     https://docs.geoserver.org/stable/en/user/data/database/sqlserver.html#using-the-geometry-metadata-table
>     >     .
>     >
>     > After this test I've tried to change the placement and existence
>     of the
>     > "geometry_columns" metadata table:
>     >
>     >   * No value
>     >   * dbo.geometry_column (ordinary placement)
>     >   * data.geometry_column (I made a copy of the geometry_columns
>     table
>     >     and placed it in the same schema as the test tables)
>     >   * geometry_columns (without schema definition)
>     >
>     > Nothing of the above worked.
>     >
>     > @Lars:
>     > You might change your database system to Postgres and perhaps
>     replace
>     > GeoServer with TinyOWS for WFS purposes (ducks and and run....) .
>     > Or getting the issue investigated and fixed using some GeoServer
>     core
>     > developer, perhaps in cooperation with a QGIS core developer?
>     > Apparently the problem is fixable, since neither TinyOWS or
>     > GeoServer/Postgres have the same  issues.
>     >
>     > Obviously, the above is a far cry from a really rigorous
>     investigation
>     > of the problem, but it points at some of the "pain" points
>     >
>     > Regards
>     >
>     > Bo Victor Thomsen
>     >
>     > AestasGIS
>     > Denmark
>     >
>     > Den 09-05-2019 kl. 13:36 skrev Lars I. Nielsen, LIFA A/S:
>     >>
>     >> Hi developers.
>     >>
>     >>
>     >>
>     >> I asked this question on the user’s list, so far without any
>     answers,
>     >> but have been advised to ask here as well.
>     >>
>     >>
>     >>
>     >>
>     >>
>     >> I’m working with a number of projects, which statically open a
>     fixed
>     >> number of layers. All layers are fetched using WFS / WFS-T.
>     >>
>     >>
>     >>
>     >> Each layer has an extensive rule based styling, and an extensive
>     >> field/attribute dialog setup. This is saved in the project files.
>     >>
>     >>
>     >>
>     >> Our plugin changes the data provider filter for many layers,
>     when the
>     >> user works with the data. These filter expressions are also
>     saved in
>     >> the project, of course.
>     >>
>     >>
>     >>
>     >> Our problem is, that if the user accidently chooses a work area
>     (= new
>     >> data provider filter), which contain no data in any layer, those
>     >> layers lose all styling etc. And it’s apparently impossible to
>     recover
>     >> these styles etc. by changing the filter back.
>     >>
>     >>
>     >>
>     >> So basically the user’s project is unrecoverably trashed at
>     this point
>     >> in time.
>     >>
>     >>
>     >>
>     >> A - Is this a correct description of how QGIS handles “no-data”
>     layers ?
>     >>
>     >>
>     >>
>     >> B - Are there any standard ways to handle this in QGIS (using
>     metadata
>     >> or otherwise) in an automated fashion (i.e. not manually) ?
>     >>
>     >>
>     >>
>     >> C - If the answers to A and B are yes and no resp., are there any
>     >> plans to remedy this unnecessarily serious problem ?
>     >>
>     >>
>     >>
>     >>
>     >>
>     >> Might it not be solved simply by adding an (optional?) layer
>     metadata
>     >> key, that stores the last used topology, and revert to this if
>     no data
>     >> are found on the layer ?
>     >>
>     >>
>     >>
>     >>
>     >>
>     >> Using 3.4.5 x64 (Danish)
>     >>
>     >>
>     >>
>     >>
>     >>
>     >> Med venlig hilsen
>     >>
>     >> Lars I. Nielsen, LIFA A/S
>     >> GIS-konsulent, FME Certified Professional
>     >>
>     >> Beskrivelse: http://website.lifa.dk/lsp.gif
>     >>
>     >> *T*
>     >>
>     >>
>     >>
>     >> 6313 6800
>     >>
>     >>
>     >>
>     >> *@*
>     >>
>     >>
>     >>
>     >> lin at lifa.dk <mailto:lin at lifa.dk>
>     >>
>     >> *D*
>     >>
>     >>
>     >>
>     >> 6313 6849
>     >>
>     >>
>     >>
>     >> *W*
>     >>
>     >>
>     >>
>     >> www.lifa.dk <http://www.lifa.dk> <http://www.lifa.dk>
>     >>
>     >> *M*
>     >>
>     >>
>     >>
>     >> 2492 4866
>     >>
>     >>
>     >>
>     >> *CVR*
>     >>
>     >>
>     >>
>     >> 20937289
>     >>
>     >>
>     >> Beskrivelse:
>     >>
>     C:\Users\lin\AppData\Roaming\Microsoft\signatures\21x21-Images-Get-L749-l8.png
>     >> <https://www.linkedin.com/company/lifa-a-s/>
>     >> Følg os på LinkedIn og læs de seneste nyheder fra LIFA A/S
>     >>
>     >>
>     >>
>     >> _______________________________________________
>     >> QGIS-Developer mailing list
>     >> QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>     >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >> Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >
>     >
>     > _______________________________________________
>     > QGIS-Developer mailing list
>     > QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>     > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> -- 
> Alessandro Pasotti
> w3: www.itopen.it <http://www.itopen.it>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190511/af0a7661/attachment-0001.html>

From wambacher at posteo.de  Sat May 11 16:51:04 2019
From: wambacher at posteo.de (wambacher at posteo.de)
Date: Sun, 12 May 2019 01:51:04 +0200
Subject: [QGIS-Developer] Explode HStore algorithm
Message-ID: <79920654-fcb8-8380-5d33-13217bdef487@posteo.de>

Hi,

i'm running QGIS 3.6.2 and need to work with hstore.

Where can i find "Explode Hstore"?

regards
walter

My projects:

Admin Boundaries of the World <https://wambachers-osm.website/boundaries>
Missing Boundaries
<https://wambachers-osm.website/index.php/projekte/internationale-administrative-grenzen/missing-boundaries>
Emergency Map <https://wambachers-osm.website/emergency>
Postal Code Map (Germany only) <https://wambachers-osm.website/plz>
Fools (QA for zipcodes in Germany) <https://wambachers-osm.website/fools>
Postcode Boundaries of Germany <https://wambachers-osm.website/pcoundaries>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190512/83708c8d/attachment.html>

From nyall.dawson at gmail.com  Sat May 11 22:30:53 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sun, 12 May 2019 15:30:53 +1000
Subject: [QGIS-Developer] FIELDS_TO_COPY syntax for
	native:joinattributestable
In-Reply-To: <CAFFV8Fh0O96SxTWTtf8xzBdR3V+DE3A9KBrfk1u4TpudocObQw@mail.gmail.com>
References: <CAFFV8Fh0O96SxTWTtf8xzBdR3V+DE3A9KBrfk1u4TpudocObQw@mail.gmail.com>
Message-ID: <CAB28AsgPhBiyvnoSQR2KCcVDNqjxzLLX2Mtc-_-W_aGgfKWKAw@mail.gmail.com>

On Sat, 11 May 2019 at 00:03, Anita Graser <anitagraser at gmx.at> wrote:
>
> Hi,
>
> I'm trying to figure out the syntax for using native:joinattributestable in the modeller. Specifically, I'd like to specify the FIELDS_TO_COPY parameter. I know from the Processing history, that the correct syntax is :
>
> FIELDS_TO_COPY: ['NAME','USE']
>
>
> but no matter how I try to enter the field names into to modeller GUI, I always end up with either everything mashed into one field name, e.g.
>
>
> FIELDS_TO_COPY: 'NAME,USE'

NAME;USE

It's completely opaque and not user friendly at all. This will
eventually get fixed when the fields parameter is ported to the new
wrapper API, where we can add specific helper tooltips and text around
the widget.

Nyall


>
>
> or escaped:
>
>
> FIELDS_TO_COPY: '[\'NAME\',\'USE\']'
>
>
> What's the correct way to specify the "Layer 2 fields to copy" in the modeler GUI?
>
>
> Regards,
>
> Anita
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Sat May 11 22:32:28 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sun, 12 May 2019 15:32:28 +1000
Subject: [QGIS-Developer] Can I backport bugfix with UI updates and
 fixing QGIS Server regression
In-Reply-To: <b97b3501-1b1b-dac6-a914-2fe5623c28c6@gmail.com>
References: <465d79a5-fd13-ee48-7035-fa64eb48baef@gmail.com>
 <e4e717d0-807e-8e1f-8b27-ce0114d047a8@faunalia.it>
 <d059fdfc-9538-8b32-12f9-670ef8e1ad8b@gmail.com>
 <270e5218-d1de-f678-3321-2787d062cb3a@gmail.com>
 <b97b3501-1b1b-dac6-a914-2fe5623c28c6@gmail.com>
Message-ID: <CAB28Asg9fZYieOP-fyPd55v_fsXsx7ZYLp4da24pggFd1HnhBQ@mail.gmail.com>

On Fri, 10 May 2019 at 18:31, René-Luc Dhont <rldhont at gmail.com> wrote:
>
> Hi devs,
>
> I am still waiting for a review about fixing 2 issues in printing for
> QGIS and QGIS Server 3.4 LTR. https://github.com/qgis/QGIS/pull/9692
>
> This PR wil fix an issue https://issues.qgis.org/issues/19500 `Layout
> export - raster divided into tiles, edges evident in pdf/svg`. This
> issue has been identifed in version 3.2 and has been fixed in 3.6.
> This PR will also fix a regression in QGIS Server `Printing selection in
> PDF and SVG`. The selection is already printed in image output.
>
> The next LTR will be released in 10 mounths. QGIS Server 3.6, which
> already have the fix, is not available on Debian Stretch because it
> requires Qt 5.9 and Debian Buster will be freezed in 8 mounths. So the
> QGIS server regression will not be available since the end of 2019.
>
> I will appreciate a decision about this fix. Do you think QGIS Server
> users have to wait for the next LTR or Debian Buster release ?

I'm still uncomfortable with the potential risk this has of breaking
layout export in 3.4 for desktop users. So I'm not going to approve
the backport, but if another dev is willing to take on this risk and
approve the backport then I won't stand in the way.

Nyall

>
> Reagrds,
> René-Luc
>
> Le 19/04/2019 à 09:34, René-Luc Dhont a écrit :
> > Hi devs,
> >
> > I have cherry-picked the changes
> >
> > I have tested it without regressions or issues.
> >
> > Now I need some review to merge and fix 2 issues.
> > https://github.com/qgis/QGIS/pull/9692
> >
> > Regards,
> > René-Luc
> >
> > Le 17/04/2019 à 14:18, René-Luc Dhont a écrit :
> >> Hi devs,
> >>
> >> Thanks Paolo for your agreement.
> >>
> >> I'd like to fix the QGIS Sever regression before friday and the
> >> version 3.4.7 released.
> >>
> >> So I'd like to have other point of view  about backporting :
> >> [needs-docs][layouts] Add checkbox to disable raster tiling for
> >> PDF/SVG exports https://github.com/qgis/QGIS/pull/9016
> >> and finalizing Fix regression server print selection pdf release 3.4
> >> https://github.com/qgis/QGIS/pull/9692
> >>
> >> Thanks.
> >> René-Luc
> >>
> >> Le 12/04/2019 à 12:06, Paolo Cavallini a écrit :
> >>> Hi René,
> >>>
> >>> On 12/04/19 12:05, René-Luc Dhont wrote:
> >>>
> >>>> I would like to know if I can backport all the commits made by
> >>>> Nyall to
> >>>> fix issue 19500 even if it updates the User Interface ?
> >>> +1 from my side, but obviously Nyall has the final word on this.
> >>> Thanks.
> >>>
> >>
> >
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From regis.haubourg at gmail.com  Sun May 12 00:41:19 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Sun, 12 May 2019 09:41:19 +0200
Subject: [QGIS-Developer] Can I backport bugfix with UI updates and
 fixing QGIS Server regression
In-Reply-To: <CAB28Asg9fZYieOP-fyPd55v_fsXsx7ZYLp4da24pggFd1HnhBQ@mail.gmail.com>
References: <465d79a5-fd13-ee48-7035-fa64eb48baef@gmail.com>
 <e4e717d0-807e-8e1f-8b27-ce0114d047a8@faunalia.it>
 <d059fdfc-9538-8b32-12f9-670ef8e1ad8b@gmail.com>
 <270e5218-d1de-f678-3321-2787d062cb3a@gmail.com>
 <b97b3501-1b1b-dac6-a914-2fe5623c28c6@gmail.com>
 <CAB28Asg9fZYieOP-fyPd55v_fsXsx7ZYLp4da24pggFd1HnhBQ@mail.gmail.com>
Message-ID: <CABgOYCf+g=9Z6exgzwWDHj+dEbK2u96L7y1TJZ49UM808Utpvg@mail.gmail.com>

Le dim. 12 mai 2019 à 07:32, Nyall Dawson <nyall.dawson at gmail.com> a écrit :

> On Fri, 10 May 2019 at 18:31, René-Luc Dhont <rldhont at gmail.com> wrote:
> >
> > Hi devs,
> >
> > I am still waiting for a review about fixing 2 issues in printing for
> > QGIS and QGIS Server 3.4 LTR. https://github.com/qgis/QGIS/pull/9692
> >
> > This PR wil fix an issue https://issues.qgis.org/issues/19500 `Layout
> > export - raster divided into tiles, edges evident in pdf/svg`. This
> > issue has been identifed in version 3.2 and has been fixed in 3.6.
> > This PR will also fix a regression in QGIS Server `Printing selection in
> > PDF and SVG`. The selection is already printed in image output.
> >
> > The next LTR will be released in 10 mounths. QGIS Server 3.6, which
> > already have the fix, is not available on Debian Stretch because it
> > requires Qt 5.9 and Debian Buster will be freezed in 8 mounths. So the
> > QGIS server regression will not be available since the end of 2019.
> >
> > I will appreciate a decision about this fix. Do you think QGIS Server
> > users have to wait for the next LTR or Debian Buster release ?
>
> I'm still uncomfortable with the potential risk this has of breaking
> layout export in 3.4 for desktop users. So I'm not going to approve
> the backport, but if another dev is willing to take on this risk and
> approve the backport then I won't stand in the way.
>
> Nyall
>

I agree with Nyall here unfortunately.

Backporting this could be acceptable at the condition of having a wide
integration test coverage and extensive real testing of the fixed branches.

I'd be pleased to test things here but use cases are so numerous that I
fail to see how to do this efficiently.
I hope we'll one day be able to run those smoke tests as discussed at La
Coruna.
Best regards

Régis


> >
> > Reagrds,
> > René-Luc
> >
> > Le 19/04/2019 à 09:34, René-Luc Dhont a écrit :
> > > Hi devs,
> > >
> > > I have cherry-picked the changes
> > >
> > > I have tested it without regressions or issues.
> > >
> > > Now I need some review to merge and fix 2 issues.
> > > https://github.com/qgis/QGIS/pull/9692
> > >
> > > Regards,
> > > René-Luc
> > >
> > > Le 17/04/2019 à 14:18, René-Luc Dhont a écrit :
> > >> Hi devs,
> > >>
> > >> Thanks Paolo for your agreement.
> > >>
> > >> I'd like to fix the QGIS Sever regression before friday and the
> > >> version 3.4.7 released.
> > >>
> > >> So I'd like to have other point of view  about backporting :
> > >> [needs-docs][layouts] Add checkbox to disable raster tiling for
> > >> PDF/SVG exports https://github.com/qgis/QGIS/pull/9016
> > >> and finalizing Fix regression server print selection pdf release 3.4
> > >> https://github.com/qgis/QGIS/pull/9692
> > >>
> > >> Thanks.
> > >> René-Luc
> > >>
> > >> Le 12/04/2019 à 12:06, Paolo Cavallini a écrit :
> > >>> Hi René,
> > >>>
> > >>> On 12/04/19 12:05, René-Luc Dhont wrote:
> > >>>
> > >>>> I would like to know if I can backport all the commits made by
> > >>>> Nyall to
> > >>>> fix issue 19500 even if it updates the User Interface ?
> > >>> +1 from my side, but obviously Nyall has the final word on this.
> > >>> Thanks.
> > >>>
> > >>
> > >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190512/95634b37/attachment-0001.html>

From rdmailings at duif.net  Sun May 12 01:35:08 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sun, 12 May 2019 10:35:08 +0200
Subject: [QGIS-Developer] Questions wrt. problems with empty layers
 (SOLVED - somewhat)
In-Reply-To: <4bd0dcb4-dbc1-c211-e4fc-bbbb1f60a1cf@gmail.com>
References: <6EDB455314CAD940983B0F3ACAC4B0A53B001868@Mail2010.LIFA.DK>
 <99a5d33c-66d9-0c99-dfcd-a55743b50e9b@gmail.com>
 <c68d61ee-a3f4-8451-d8ec-7dd8eeb923c5@duif.net>
 <CAL5Q6733BeyQEax7Myamjgd8evVpMKeBNGGVAOmVc+YwQ2a=_w@mail.gmail.com>
 <4bd0dcb4-dbc1-c211-e4fc-bbbb1f60a1cf@gmail.com>
Message-ID: <08adcae0-1b76-93fd-ba69-895606e5d6d4@duif.net>

On 11/05/2019 19.44, Bo Victor Thomsen wrote:
> 
> Retrying the WFS describefeature request on the sql server layers now
> gives the equivalent result as with Postgres:
> 
>   *            ...<xsd:element maxOccurs="1" minOccurs="0"
>     name="ogr_geometry" nillable="true"
>     type="*gml:MultiSurfacePropertyType*"/>...
> 
> 
> There seems to be a discrepancy in how different spatial software 
> interprets how geometry_columns should be structured
> 
>   * GDAL uses "geometry_type" (hence SQLServer uses this too, because it
>     was created by ogc2ogc command-line tool in sqlserver) 
>   * PostGIS view use "type"
>   * Spatialite uses "geometry_type"
>   * GeoServer uses "type"
> 
> and so on ....
> 
> How do we ever reach "world peace" or solve the climate crisis if we
> even can't agree on the name of friggin' meta table column ....

Mmm, well, not by being totalitarian and defining how the view/table
should look like or columns be named :-)

I mean, I think HOW a database defines it's metadata columns is their
internal business.

IF sofware is going to use (OR create) these, that software should
'speak' the different dialects.

So what is you conclusion now?
Is it that Geoserver is requesting the 'type' on databases that use
'geometry_type'?

Or is GDAL creating wrong metadata tables by creating a geometry_type
column which is always called 'geometry_type'.

Whatever is the case I think it is to be fixed there isn't it? QGIS
cannot 'know' what isn't reported by the server back-end?

Regards,

Richard


From enricofer at gmail.com  Sun May 12 08:03:05 2019
From: enricofer at gmail.com (Enrico Ferreguti)
Date: Sun, 12 May 2019 17:03:05 +0200
Subject: [QGIS-Developer] Explode HStore algorithm
In-Reply-To: <79920654-fcb8-8380-5d33-13217bdef487@posteo.de>
References: <79920654-fcb8-8380-5d33-13217bdef487@posteo.de>
Message-ID: <CAJy=XtduygJyFNGgc0VHLjqiox+Yz48Dyvx2T4oT89GtRkjjng@mail.gmail.com>

You can handle hstore using dedicated maps functions in expressions:
https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/expression.html#id25

Il giorno dom 12 mag 2019, 01:51 <wambacher at posteo.de> ha scritto:

> Hi,
>
> i'm running QGIS 3.6.2 and need to work with hstore.
>
> Where can i find "Explode Hstore"?
>
> regards
> walter
> My projects:
>
> Admin Boundaries of the World <https://wambachers-osm.website/boundaries>
> Missing Boundaries
> <https://wambachers-osm.website/index.php/projekte/internationale-administrative-grenzen/missing-boundaries>
> Emergency Map <https://wambachers-osm.website/emergency>
> Postal Code Map (Germany only) <https://wambachers-osm.website/plz>
> Fools (QA for zipcodes in Germany) <https://wambachers-osm.website/fools>
> Postcode Boundaries of Germany
> <https://wambachers-osm.website/pcoundaries>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190512/80a96cf5/attachment.html>

From wambacher at posteo.de  Sun May 12 09:10:40 2019
From: wambacher at posteo.de (wambacher at posteo.de)
Date: Sun, 12 May 2019 18:10:40 +0200
Subject: [QGIS-Developer] Explode HStore algorithm
In-Reply-To: <CAJy=XtduygJyFNGgc0VHLjqiox+Yz48Dyvx2T4oT89GtRkjjng@mail.gmail.com>
References: <79920654-fcb8-8380-5d33-13217bdef487@posteo.de>
 <CAJy=XtduygJyFNGgc0VHLjqiox+Yz48Dyvx2T4oT89GtRkjjng@mail.gmail.com>
Message-ID: <ed5a6efb-ef24-c905-fc19-e6611ac2fff1@posteo.de>

Hi

Am 12.05.19 um 17:03 schrieb Enrico Ferreguti:
> You can handle hstore using dedicated maps functions in expressions:
> https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/expression.html#id25
>
I know, but the solution:

*"In QGIS 3.4*, you can use the |htsore_to_map| expression to get a map
(dictionary) of the hstore field. Then you can use one of the map   
expressions to manipulate it"
(https://gis.stackexchange.com/questions/209421/how-to-categorize-features-based-on-hstore-values-in-qgis#288550)

does not work using QGIS 3.6. I tried this without any success.

There is a solution for 3.6 in the same text, but i can't find any way
to do that.

-- 
My projects:

Admin Boundaries of the World <https://wambachers-osm.website/boundaries>
Missing Boundaries
<https://wambachers-osm.website/index.php/projekte/internationale-administrative-grenzen/missing-boundaries>
Emergency Map <https://wambachers-osm.website/emergency>
Postal Code Map (Germany only) <https://wambachers-osm.website/plz>
Fools (QA for zipcodes in Germany) <https://wambachers-osm.website/fools>
Postcode Boundaries of Germany <https://wambachers-osm.website/pcoundaries>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190512/f27411fa/attachment.html>

From delazj at gmail.com  Sun May 12 09:24:32 2019
From: delazj at gmail.com (DelazJ)
Date: Sun, 12 May 2019 18:24:32 +0200
Subject: [QGIS-Developer] Explode HStore algorithm
In-Reply-To: <ed5a6efb-ef24-c905-fc19-e6611ac2fff1@posteo.de>
References: <79920654-fcb8-8380-5d33-13217bdef487@posteo.de>
 <CAJy=XtduygJyFNGgc0VHLjqiox+Yz48Dyvx2T4oT89GtRkjjng@mail.gmail.com>
 <ed5a6efb-ef24-c905-fc19-e6611ac2fff1@posteo.de>
Message-ID: <CAECJsSosvOBGvrk458aqg+T0eg0D0ov7tFDsJL7EzZm6rieLsw@mail.gmail.com>

Hi,
See the Processing toolbox
https://qgis.org/en/site/forusers/visualchangelog36/index.html#feature-explode-hstore-algorithm

regards,
Harrissou

Le dim. 12 mai 2019 à 18:10, <wambacher at posteo.de> a écrit :

> Hi
> Am 12.05.19 um 17:03 schrieb Enrico Ferreguti:
>
> You can handle hstore using dedicated maps functions in expressions:
> https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/expression.html#id25
>
> I know, but the solution:
>
> *"In QGIS 3.4*, you can use the htsore_to_map expression to get a map
> (dictionary) of the hstore field. Then you can use one of the map
> expressions to manipulate it" (
> https://gis.stackexchange.com/questions/209421/how-to-categorize-features-based-on-hstore-values-in-qgis#288550
> )
>
> does not work using QGIS 3.6. I tried this without any success.
>
> There is a solution for 3.6 in the same text, but i can't find any way to
> do that.
>
> --
> My projects:
>
> Admin Boundaries of the World <https://wambachers-osm.website/boundaries>
> Missing Boundaries
> <https://wambachers-osm.website/index.php/projekte/internationale-administrative-grenzen/missing-boundaries>
> Emergency Map <https://wambachers-osm.website/emergency>
> Postal Code Map (Germany only) <https://wambachers-osm.website/plz>
> Fools (QA for zipcodes in Germany) <https://wambachers-osm.website/fools>
> Postcode Boundaries of Germany
> <https://wambachers-osm.website/pcoundaries>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190512/f01b98f7/attachment-0001.html>

From wambacher at posteo.de  Sun May 12 09:43:40 2019
From: wambacher at posteo.de (wambacher at posteo.de)
Date: Sun, 12 May 2019 18:43:40 +0200
Subject: [QGIS-Developer] Explode HStore algorithm
In-Reply-To: <CAECJsSosvOBGvrk458aqg+T0eg0D0ov7tFDsJL7EzZm6rieLsw@mail.gmail.com>
References: <79920654-fcb8-8380-5d33-13217bdef487@posteo.de>
 <CAJy=XtduygJyFNGgc0VHLjqiox+Yz48Dyvx2T4oT89GtRkjjng@mail.gmail.com>
 <ed5a6efb-ef24-c905-fc19-e6611ac2fff1@posteo.de>
 <CAECJsSosvOBGvrk458aqg+T0eg0D0ov7tFDsJL7EzZm6rieLsw@mail.gmail.com>
Message-ID: <ecb44937-1f19-9564-064b-85eb65a413cf@posteo.de>

Yes, i know this should be available in the toolbox but the toolbox was
very "small" yesterday. Only 6-7 entries and it did not contain such a
function.

BUT: Yesterday evening i had to do a reboot of my system after about 4
weeks (i'm doing this only if really, really needed) and what? Big
toolbox and the function is available. :)

@enrico: got it running using map functions too: had to change
/map_get(map_to_hstore(tags),'entrance') /into /map_get(tags,'entrance')/ :)

Thanks to both of you - great help.

Walter/
/

Am 12.05.19 um 18:24 schrieb DelazJ:
> Hi,
> See the Processing toolbox
> https://qgis.org/en/site/forusers/visualchangelog36/index.html#feature-explode-hstore-algorithm
>
> regards,
> Harrissou
>
> Le dim. 12 mai 2019 à 18:10, <wambacher at posteo.de
> <mailto:wambacher at posteo.de>> a écrit :
>
>     Hi
>
>     Am 12.05.19 um 17:03 schrieb Enrico Ferreguti:
>>     You can handle hstore using dedicated maps functions in
>>     expressions:
>>     https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/expression.html#id25
>>
>     I know, but the solution:
>
>     *"In QGIS 3.4*, you can use the |htsore_to_map| expression to get
>     a map (dictionary) of the hstore field. Then you can use one of
>     the map    expressions to manipulate it"
>     (https://gis.stackexchange.com/questions/209421/how-to-categorize-features-based-on-hstore-values-in-qgis#288550)
>
>     does not work using QGIS 3.6. I tried this without any success.
>
>     There is a solution for 3.6 in the same text, but i can't find any
>     way to do that.
>
>     -- 
>     My projects:
>
>     Admin Boundaries of the World
>     <https://wambachers-osm.website/boundaries>
>     Missing Boundaries
>     <https://wambachers-osm.website/index.php/projekte/internationale-administrative-grenzen/missing-boundaries>
>     Emergency Map <https://wambachers-osm.website/emergency>
>     Postal Code Map (Germany only) <https://wambachers-osm.website/plz>
>     Fools (QA for zipcodes in Germany)
>     <https://wambachers-osm.website/fools>
>     Postcode Boundaries of Germany
>     <https://wambachers-osm.website/pcoundaries>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-- 
My projects:

Admin Boundaries of the World <https://wambachers-osm.website/boundaries>
Missing Boundaries
<https://wambachers-osm.website/index.php/projekte/internationale-administrative-grenzen/missing-boundaries>
Emergency Map <https://wambachers-osm.website/emergency>
Postal Code Map (Germany only) <https://wambachers-osm.website/plz>
Fools (QA for zipcodes in Germany) <https://wambachers-osm.website/fools>
Postcode Boundaries of Germany <https://wambachers-osm.website/pcoundaries>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190512/21bdc8fe/attachment.html>

From bo.victor.thomsen at gmail.com  Sun May 12 11:46:43 2019
From: bo.victor.thomsen at gmail.com (Bo Victor Thomsen)
Date: Sun, 12 May 2019 11:46:43 -0700 (MST)
Subject: [QGIS-Developer] Questions wrt. problems with empty layers
	(SOLVED - somewhat)
In-Reply-To: <08adcae0-1b76-93fd-ba69-895606e5d6d4@duif.net>
References: <6EDB455314CAD940983B0F3ACAC4B0A53B001868@Mail2010.LIFA.DK>
 <99a5d33c-66d9-0c99-dfcd-a55743b50e9b@gmail.com>
 <c68d61ee-a3f4-8451-d8ec-7dd8eeb923c5@duif.net>
 <CAL5Q6733BeyQEax7Myamjgd8evVpMKeBNGGVAOmVc+YwQ2a=_w@mail.gmail.com>
 <4bd0dcb4-dbc1-c211-e4fc-bbbb1f60a1cf@gmail.com>
 <08adcae0-1b76-93fd-ba69-895606e5d6d4@duif.net>
Message-ID: <1557686803103-0.post@n6.nabble.com>

Hi Richard -

There seems to be some kind of version conflict between the different GIS
software on how to use the OGC definitions for "geometry_columns" - whether
to use the column name "type" og "geometry_type". 

And under any circumstances, QGIS is *not* the guilty part.

IMHO ,The Geoserver community should recognize that different dataproviders
uses different naming conventions for the meta-table  "geometry_columns" and
take the necessary steps to support both versions. 

(Removes brown paperbag over head, looks into mirror and says: Next time,
RTFM ! :-)  

Kind regards

Bo Victor Thomsen
GIS & Database specialist

AestasGIS
Denmark

 

  



--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From jonathan-lists at lightpear.com  Sun May 12 17:03:15 2019
From: jonathan-lists at lightpear.com (Jonathan Moules)
Date: Mon, 13 May 2019 01:03:15 +0100
Subject: [QGIS-Developer] Consistent Ordering (and terms) for buttons in
	dialogs
Message-ID: <627db7a6-f656-6ecb-8841-691ffc20d821@lightpear.com>

Hi List,

There seems to be some inconsistent ordering and usage of the buttons on 
dialogs. Does QGIS have developer guidelines on this?

Largely it's fairly consistent but sometimes button orders seem 
incongruous. Also the use of "Cancel" versus "Close".

For example, Raster > "Raster Calculator" has: Ok, Cancel, Help

Raster > "Align Rasters": Ok, Close, Help

All the other data processing tools I looked at (not all) (Vector and 
Raster menus) were consistent:  Run, Close, Help

Data Source Manager: (other buttons), Close, Add, Help

Add new service/database dialog: Ok, Cancel, Help

CRS Dialog: Ok, Cancel, Help

Project settings: OK, Cancel, Apply, Help

Options: Ok, Cancel, Help

Style Manager: Close, Help


----

The ones that particularly jump out at me are:

* "Align Raster" using "close" not "cancel"

* Project Settings has an "Apply" but "Options" doesn't.

* Apply and Add seem to come after cancel/close but ok/run always comes 
before. Shouldn't add/apply be to the left?

* Data processing tools seem like they should be "Cancel" as they're 
Do/Do-Not dialogs.

These are minor things but consistency in the UI makes the application 
much easier to use as it lowers the cognitive burden on the user.

(3.4.3)

Cheers,

Jonathan




From jonathan-lists at lightpear.com  Sun May 12 17:27:54 2019
From: jonathan-lists at lightpear.com (Jonathan Moules)
Date: Mon, 13 May 2019 01:27:54 +0100
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
In-Reply-To: <CAL5Q673N8PBpq=z5wbyKfSVWFufJaQ0DWE9O=pbva2-vN8gVNw@mail.gmail.com>
References: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
 <20190509161437.076fa227@hookipa.localdomain>
 <CAL5Q673N8PBpq=z5wbyKfSVWFufJaQ0DWE9O=pbva2-vN8gVNw@mail.gmail.com>
Message-ID: <cc902b56-a198-caff-7780-17f662882e6c@lightpear.com>

Hi list,

Unless GeoServer has changed it of late, the way they do BBOX definition is:

* Layer BBOXes are defined at layer creation time.

* Layer BBOXes are entered manually, though there is a button to 
automatically calculate it from the data extent which automatically 
fills in the manual boxes - the values can then be manually tweaked as 
desired.

* Layer BBOXes are not automatically calculated at use-time.

----

It looks like GeoServer also turns a single point into a BBOX of a 
single point: 
https://gis.stackexchange.com/questions/113166/the-request-bounding-box-has-zero-area

----

De-factor treatment of bounding boxes: Layers do often have BBOXes that 
do not actually represent the data.

In fact, of the 1.2million WMS, WFS, WCS, WMTS layers in my database, 
nearly 55,000 don't even have BBOXes (or have not-valid-wgs84 coordinates)!

There's no easy way to check how many of the rest are declaring the 
correct BBOX, but experience suggests a lot don't.

----

De jure usage: I've just taken a quick glance at the standards (WMS 1.3, 
WFS 2, WCS 2) and they standards themselves don't seem to address the 
issue of keeping the bboxes contemporary at all or even exactly what 
they're for. The closest I could find as to specifying the exact purpose 
of the bboxes is in the WFS 2 spec:

"The ows:WGS84BoundingBox element may be used to indicate the edges of 
an enclosing rectangle in decimal
degrees of latitude and longitude in WGS84. Its purpose is to facilitate 
geographic searches by indicating where
instances of the particular feature type exist. Since multiple 
ows:WGS84BoundingBox elements may be
specified, a WFS may indicate where various clusters of data exist. This 
knowledge aids client applications by
letting them know where they should query in order to have a high 
probability of finding feature data."

And this is mildly telling from the WMS 1.3 spec:

"There is no provision for describing disjoint bounding boxes. For 
example, consider a dataset which covers two
areas separated by some distance. The server cannot provide two separate 
bounding boxes in the same Layer using the
same CRS to separately describe those areas. To handle this type of 
situation, the server may either define a single larger
bounding box which encloses both areas, or may define two separate 
Layers that each have distinct Name and BoundingBox
values."

So it doesn't look like handling changing extents is something the spec 
writers have specified.

And I can assure you, many servers don't have valid BBOXes defined. In fact

Cheers,

Jonathan


On 2019-05-09 15:37, Alessandro Pasotti wrote:
>
> On Thu, May 9, 2019 at 4:16 PM Eric Lemoine <eric.lemoine at oslandia.com 
> <mailto:eric.lemoine at oslandia.com>> wrote:
>
>     On Thu, 9 May 2019 11:28:00 +0200
>     Andreas Neumann <a.neumann at carto.net <mailto:a.neumann at carto.net>>
>     wrote:
>
>     > Hi QGIS (server) devs,
>
>     Hi Andreas
>
>     >
>     > We came across issues around calculating bounding boxes in QGIS
>     > server.
>     >
>     > 1. Layers with only one point feature:
>     >
>     > If a layer contains only one single point feature, QGIS server
>     > calculates a bounding box where the minx equals maxx and miny
>     equals
>     > maxy, so resulting in a bounding box without a width and height.
>     > Sounds logical to QGIS server developers,
>
>
>     Yes. The BBOX of a point has minx=maxx and miny=maxy.  Even
>     PostGIS says
>     so :)
>
>
>     > but combined with the fact
>     > that QGIS server doesn't take into account rendered symbol sizes
>     > (another issue we have, see issue nr 2), it means that no WMS client
>     > will ever see this one single symbol rendered, which can't be the
>     > solution here ...
>
>
>     If the GetMap request's BBOX param is set to the layer extent (the
>     BBOX with no dimension here) then it makes sense that there's nothing
>     rendered in the resulting image.  If the GetMap request's BBOX
>     param is
>     set to a BBOX that contains the layer extent then the point should be
>     rendered in the resulting image.
>
>     So to me this is a client issue, not a QGIS Server issue.
>
>
>     > 2. Layer bounding boxes do not take into account rendered symbol
>     > sizes:
>     >
>     > Please have a look at
>     > http://www.carto.net/neumann/temp/qgis_server_bounding_box_issue.png
>     > - The green rectangle and the green arrows are not part of the QGIS
>     > server rendering, but they are added as an annotation to the
>     rendered
>     > QGIS server graphics, to highlight the issues.
>
>
>     What software do you use on the client side?  Does the green
>     rectangle correspond to the BBOX requested by the client? And does the
>     requested BBOX equal the layer extent in this case?  Or does it
>     contain
>     the layer extent?
>
>     I may be wrong but I understand that the requested BBOX (the green
>     rectangle) is the layer extent.  And in that case it makes sense that
>     the symbols are cut for points that are closed to the boundaries. 
>     Again
>     it's a client issue.
>
>
>     > Here we have the issue that QGIS server only uses the "raw" geometry
>     > of point symbols without taking into account rendered symbol sizes.
>     > Now, I do understand that calculating symbol sizes is scale
>     dependent
>     > and there is no single solution to that, but again, I think the
>     > current behavior of QGIS server (simply cutting off symbols at layer
>     > bounding boxes) is not a good and nice behavior. At least, I think
>     > the author of the WMS service should have a chance to define an
>     extra
>     > margin to be added to the bounding boxes of the raw geometries
>     of the
>     > point layer, either as a "per project" or "per layer" QGIS server
>     > configuration.
>     >
>     > @Andrea: I wonder what Geoserver does in such cases?
>     >
>     > Any thoughts how to solve these issues? The current behavior of
>     QGIS
>     > server is not satisfactory to me, for both cases.
>
>     I'd like to better understand the issues that you're seeing but from
>     what I currently understand the behavior of QGIS Server is correct.
>     Happy to be proven otherwise :)
>
>     Cheers,
>
>
> Hi Èric,
>
> I agree with you that QGIS Server does the right thing here, I think 
> that the main question is:
>
> 1. is the WMS GetCapabilities layer's BoundingBox meant to be the 
> features BBOX or can it be larger than that?
> 2. if the latter is true, we need a way to tell QGIS Server that he 
> needs to advertise a BoundingBox in GetCapabilities which is not the 
> layer's BBOX stored in the QGIS project but it's a different (probably 
> larger) one.
>
> all the rest will follow, because the client will get a larger BBOX 
> from GetCapabilities and it will request a larger image that has 
> enough buffer for the symbols.
>
> Note that I checked mapserver and it behaves by default exactly like 
> QGIS Server does (I didn't check the single point but the symbols are 
> cut-off at the layer's bbox in general), except that mapserver allows 
> you to override the layer extent per-layer.
>
> IMO the fix is in the client, either by allowing to override the layer 
> extent advertised by the server and to store it in the project itself 
> (this may require some work in the server side too in order to handle 
> the override) or by setting an option in the WMS provider that will 
> always request the canvas extent.
>
> Cheers
>
> -- 
> Alessandro Pasotti
> w3: www.itopen.it <http://www.itopen.it>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190513/0d79fd6a/attachment.html>

From cavallini at faunalia.it  Sun May 12 23:03:02 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 13 May 2019 08:03:02 +0200
Subject: [QGIS-Developer] Consistent Ordering (and terms) for buttons in
 dialogs
In-Reply-To: <627db7a6-f656-6ecb-8841-691ffc20d821@lightpear.com>
References: <627db7a6-f656-6ecb-8841-691ffc20d821@lightpear.com>
Message-ID: <1e9927a9-e4d4-f3d7-0ede-dc4c5e4d2499@faunalia.it>

Hi Jonathan,
thanks for the report. I suspect in different OSs there may be more
differences. This kind of polishing has usually lower priority, so it is
often overlooked, but I agree, important for the project.
Could you please open a ticket, if not already there?
Cheers.

On 13/05/19 02:03, Jonathan Moules wrote:
> Hi List,
> 
> There seems to be some inconsistent ordering and usage of the buttons on
> dialogs. Does QGIS have developer guidelines on this?
> 
> Largely it's fairly consistent but sometimes button orders seem
> incongruous. Also the use of "Cancel" versus "Close".
> 
> For example, Raster > "Raster Calculator" has: Ok, Cancel, Help
> 
> Raster > "Align Rasters": Ok, Close, Help
> 
> All the other data processing tools I looked at (not all) (Vector and
> Raster menus) were consistent:  Run, Close, Help
> 
> Data Source Manager: (other buttons), Close, Add, Help
> 
> Add new service/database dialog: Ok, Cancel, Help
> 
> CRS Dialog: Ok, Cancel, Help
> 
> Project settings: OK, Cancel, Apply, Help
> 
> Options: Ok, Cancel, Help
> 
> Style Manager: Close, Help
> 
> 
> ----
> 
> The ones that particularly jump out at me are:
> 
> * "Align Raster" using "close" not "cancel"
> 
> * Project Settings has an "Apply" but "Options" doesn't.
> 
> * Apply and Add seem to come after cancel/close but ok/run always comes
> before. Shouldn't add/apply be to the left?
> 
> * Data processing tools seem like they should be "Cancel" as they're
> Do/Do-Not dialogs.
> 
> These are minor things but consistency in the UI makes the application
> much easier to use as it lowers the cognitive burden on the user.
> 
> (3.4.3)
> 
> Cheers,
> 
> Jonathan
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From cavallini at faunalia.it  Sun May 12 23:04:59 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 13 May 2019 08:04:59 +0200
Subject: [QGIS-Developer] Can I backport bugfix with UI updates and
 fixing QGIS Server regression
In-Reply-To: <CABgOYCf+g=9Z6exgzwWDHj+dEbK2u96L7y1TJZ49UM808Utpvg@mail.gmail.com>
References: <465d79a5-fd13-ee48-7035-fa64eb48baef@gmail.com>
 <e4e717d0-807e-8e1f-8b27-ce0114d047a8@faunalia.it>
 <d059fdfc-9538-8b32-12f9-670ef8e1ad8b@gmail.com>
 <270e5218-d1de-f678-3321-2787d062cb3a@gmail.com>
 <b97b3501-1b1b-dac6-a914-2fe5623c28c6@gmail.com>
 <CAB28Asg9fZYieOP-fyPd55v_fsXsx7ZYLp4da24pggFd1HnhBQ@mail.gmail.com>
 <CABgOYCf+g=9Z6exgzwWDHj+dEbK2u96L7y1TJZ49UM808Utpvg@mail.gmail.com>
Message-ID: <aecd7de9-34ab-b10b-ff4e-6de934d1fe75@faunalia.it>

Hi all,

On 12/05/19 09:41, Régis Haubourg wrote:

> I'd be pleased to test things here but use cases are so numerous that I
> fail to see how to do this efficiently. 
> I hope we'll one day be able to run those smoke tests as discussed at La
> Coruna. 
I was about suggesting doing community-wide testing (having a test
package would greatly help). Is it so difficult to identify and test
possible regression areas?
Cheers.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From a.neumann at carto.net  Sun May 12 23:51:33 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 13 May 2019 08:51:33 +0200
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
In-Reply-To: <cc902b56-a198-caff-7780-17f662882e6c@lightpear.com>
References: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
 <20190509161437.076fa227@hookipa.localdomain>
 <CAL5Q673N8PBpq=z5wbyKfSVWFufJaQ0DWE9O=pbva2-vN8gVNw@mail.gmail.com>
 <cc902b56-a198-caff-7780-17f662882e6c@lightpear.com>
Message-ID: <aebc06db3f73048622208c49994e4e4d@carto.net>

Hi Jonathan, 

Thanks for your feedback. 

Seems to me that bounding boxes are a big mess. Yet they are used to
hide data away outside of the bounding box. That behaviour seems really
dangerous to me. People rely on the WMS that they show "all" data, but
if so many bounding boxes are out of date in the wild this means that
clients can't rely on them really. And neither can servers (and filter
away data). 

Also, it seems to me that OGC specifications doesn't handle edge cases
well, such as layers with only a single point. 

Given the fact that many layer bounding boxes are just plain wrong, I
wonder if WMS clients should use bounding boxes at all, they seem to be
really, really unreliable. Or they should only use the top level
bounding box of the whole service. Many open questions ... 

Andreas 

On 2019-05-13 02:27, Jonathan Moules wrote:

> Hi list, 
> 
> Unless GeoServer has changed it of late, the way they do BBOX definition is: 
> 
> * Layer BBOXes are defined at layer creation time. 
> 
> * Layer BBOXes are entered manually, though there is a button to automatically calculate it from the data extent which automatically fills in the manual boxes - the values can then be manually tweaked as desired. 
> 
> * Layer BBOXes are not automatically calculated at use-time. 
> 
> ---- 
> 
> It looks like GeoServer also turns a single point into a BBOX of a single point: https://gis.stackexchange.com/questions/113166/the-request-bounding-box-has-zero-area 
> 
> ---- 
> 
> De-factor treatment of bounding boxes: Layers do often have BBOXes that do not actually represent the data. 
> 
> In fact, of the 1.2million WMS, WFS, WCS, WMTS layers in my database, nearly 55,000 don't even have BBOXes (or have not-valid-wgs84 coordinates)! 
> 
> There's no easy way to check how many of the rest are declaring the correct BBOX, but experience suggests a lot don't. 
> 
> ---- 
> 
> De jure usage: I've just taken a quick glance at the standards (WMS 1.3, WFS 2, WCS 2) and they standards themselves don't seem to address the issue of keeping the bboxes contemporary at all or even exactly what they're for. The closest I could find as to specifying the exact purpose of the bboxes is in the WFS 2 spec: 
> 
> "The ows:WGS84BoundingBox element may be used to indicate the edges of an enclosing rectangle in decimal
> degrees of latitude and longitude in WGS84. Its purpose is to facilitate geographic searches by indicating where
> instances of the particular feature type exist. Since multiple ows:WGS84BoundingBox elements may be
> specified, a WFS may indicate where various clusters of data exist. This knowledge aids client applications by
> letting them know where they should query in order to have a high probability of finding feature data." 
> 
> And this is mildly telling from the WMS 1.3 spec: 
> 
> "There is no provision for describing disjoint bounding boxes. For example, consider a dataset which covers two
> areas separated by some distance. The server cannot provide two separate bounding boxes in the same Layer using the
> same CRS to separately describe those areas. To handle this type of situation, the server may either define a single larger
> bounding box which encloses both areas, or may define two separate Layers that each have distinct Name and BoundingBox
> values." 
> 
> So it doesn't look like handling changing extents is something the spec writers have specified. 
> 
> And I can assure you, many servers don't have valid BBOXes defined. In fact 
> 
> Cheers, 
> 
> Jonathan 
> 
> On 2019-05-09 15:37, Alessandro Pasotti wrote: 
> 
> On Thu, May 9, 2019 at 4:16 PM Eric Lemoine <eric.lemoine at oslandia.com> wrote: On Thu, 9 May 2019 11:28:00 +0200
> Andreas Neumann <a.neumann at carto.net> wrote:
> 
>> Hi QGIS (server) devs,
> 
> Hi Andreas
> 
>> 
>> We came across issues around calculating bounding boxes in QGIS
>> server.
>> 
>> 1. Layers with only one point feature:
>> 
>> If a layer contains only one single point feature, QGIS server 
>> calculates a bounding box where the minx equals maxx and miny equals 
>> maxy, so resulting in a bounding box without a width and height.
>> Sounds logical to QGIS server developers,
> 
> Yes. The BBOX of a point has minx=maxx and miny=maxy.  Even PostGIS says
> so :)
> 
>> but combined with the fact
>> that QGIS server doesn't take into account rendered symbol sizes
>> (another issue we have, see issue nr 2), it means that no WMS client
>> will ever see this one single symbol rendered, which can't be the
>> solution here ...
> 
> If the GetMap request's BBOX param is set to the layer extent (the
> BBOX with no dimension here) then it makes sense that there's nothing
> rendered in the resulting image.  If the GetMap request's BBOX param is
> set to a BBOX that contains the layer extent then the point should be
> rendered in the resulting image.
> 
> So to me this is a client issue, not a QGIS Server issue.
> 
>> 2. Layer bounding boxes do not take into account rendered symbol
>> sizes:
>> 
>> Please have a look at 
>> http://www.carto.net/neumann/temp/qgis_server_bounding_box_issue.png
>> - The green rectangle and the green arrows are not part of the QGIS
>> server rendering, but they are added as an annotation to the rendered
>> QGIS server graphics, to highlight the issues.
> 
> What software do you use on the client side?  Does the green
> rectangle correspond to the BBOX requested by the client?  And does the
> requested BBOX equal the layer extent in this case?  Or does it contain
> the layer extent?
> 
> I may be wrong but I understand that the requested BBOX (the green
> rectangle) is the layer extent.  And in that case it makes sense that
> the symbols are cut for points that are closed to the boundaries.  Again
> it's a client issue.
> 
>> Here we have the issue that QGIS server only uses the "raw" geometry
>> of point symbols without taking into account rendered symbol sizes.
>> Now, I do understand that calculating symbol sizes is scale dependent
>> and there is no single solution to that, but again, I think the
>> current behavior of QGIS server (simply cutting off symbols at layer
>> bounding boxes) is not a good and nice behavior. At least, I think
>> the author of the WMS service should have a chance to define an extra
>> margin to be added to the bounding boxes of the raw geometries of the
>> point layer, either as a "per project" or "per layer" QGIS server
>> configuration.
>> 
>> @Andrea: I wonder what Geoserver does in such cases?
>> 
>> Any thoughts how to solve these issues? The current behavior of QGIS 
>> server is not satisfactory to me, for both cases.
> 
> I'd like to better understand the issues that you're seeing but from
> what I currently understand the behavior of QGIS Server is correct. 
> Happy to be proven otherwise :)
> 
> Cheers, 
> Hi Èric, 
> 
> I agree with you that QGIS Server does the right thing here, I think that the main question is: 
> 
> 1. is the WMS GetCapabilities layer's BoundingBox meant to be the features BBOX or can it be larger than that? 
> 2. if the latter is true, we need a way to tell QGIS Server that he needs to advertise a BoundingBox in GetCapabilities which is not the layer's BBOX stored in the QGIS project but it's a different (probably larger) one. 
> 
> all the rest will follow, because the client will get a larger BBOX from GetCapabilities and it will request a larger image that has enough buffer for the symbols. 
> 
> Note that I checked mapserver and it behaves by default exactly like QGIS Server does (I didn't check the single point but the symbols are cut-off at the layer's bbox in general), except that mapserver allows you to override the layer extent per-layer. 
> 
> IMO the fix is in the client, either by allowing to override the layer extent advertised by the server and to store it in the project itself (this may require some work in the server side too in order to handle the override) or by setting an option in the WMS provider that will always request the canvas extent. 
> 
> Cheers 
> 
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it [1] 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer 

 

Links:
------
[1] http://www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190513/6b7d1060/attachment.html>

From apasotti at gmail.com  Sun May 12 23:53:48 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Mon, 13 May 2019 08:53:48 +0200
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
In-Reply-To: <cc902b56-a198-caff-7780-17f662882e6c@lightpear.com>
References: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
 <20190509161437.076fa227@hookipa.localdomain>
 <CAL5Q673N8PBpq=z5wbyKfSVWFufJaQ0DWE9O=pbva2-vN8gVNw@mail.gmail.com>
 <cc902b56-a198-caff-7780-17f662882e6c@lightpear.com>
Message-ID: <CAL5Q673bRvsYgn1-q-Bn9rLg-1txRVWwbxsmy6J+YR3DUY_DXw@mail.gmail.com>

Jonathan,

thank you for the detailed explanation.

I think that the proposed fix it is the one proposed by Renè and involves a
patch to QGIS desktop to allow storing of arbitrary bboxes per-layer
(default to feature's bbox) and a patch to the server component to read
those bboxes and advertise them in GetCapabilities response.



On Mon, May 13, 2019 at 2:28 AM Jonathan Moules <
jonathan-lists at lightpear.com> wrote:

> Hi list,
>
> Unless GeoServer has changed it of late, the way they do BBOX definition
> is:
>
> * Layer BBOXes are defined at layer creation time.
>
> * Layer BBOXes are entered manually, though there is a button to
> automatically calculate it from the data extent which automatically fills
> in the manual boxes - the values can then be manually tweaked as desired.
>
> * Layer BBOXes are not automatically calculated at use-time.
>
> ----
>
> It looks like GeoServer also turns a single point into a BBOX of a single
> point:
> https://gis.stackexchange.com/questions/113166/the-request-bounding-box-has-zero-area
>
> ----
>
> De-factor treatment of bounding boxes: Layers do often have BBOXes that do
> not actually represent the data.
>
> In fact, of the 1.2million WMS, WFS, WCS, WMTS layers in my database,
> nearly 55,000 don't even have BBOXes (or have not-valid-wgs84 coordinates)!
>
> There's no easy way to check how many of the rest are declaring the
> correct BBOX, but experience suggests a lot don't.
>
> ----
>
> De jure usage: I've just taken a quick glance at the standards (WMS 1.3,
> WFS 2, WCS 2) and they standards themselves don't seem to address the issue
> of keeping the bboxes contemporary at all or even exactly what they're for.
> The closest I could find as to specifying the exact purpose of the bboxes
> is in the WFS 2 spec:
>
> "The ows:WGS84BoundingBox element may be used to indicate the edges of an
> enclosing rectangle in decimal
> degrees of latitude and longitude in WGS84. Its purpose is to facilitate
> geographic searches by indicating where
> instances of the particular feature type exist. Since multiple
> ows:WGS84BoundingBox elements may be
> specified, a WFS may indicate where various clusters of data exist. This
> knowledge aids client applications by
> letting them know where they should query in order to have a high
> probability of finding feature data."
>
> And this is mildly telling from the WMS 1.3 spec:
>
> "There is no provision for describing disjoint bounding boxes. For
> example, consider a dataset which covers two
> areas separated by some distance. The server cannot provide two separate
> bounding boxes in the same Layer using the
> same CRS to separately describe those areas. To handle this type of
> situation, the server may either define a single larger
> bounding box which encloses both areas, or may define two separate Layers
> that each have distinct Name and BoundingBox
> values."
>
> So it doesn't look like handling changing extents is something the spec
> writers have specified.
>
> And I can assure you, many servers don't have valid BBOXes defined. In fact
>
> Cheers,
>
> Jonathan
>
>
> On 2019-05-09 15:37, Alessandro Pasotti wrote:
>
>
> On Thu, May 9, 2019 at 4:16 PM Eric Lemoine <eric.lemoine at oslandia.com>
> wrote:
>
>> On Thu, 9 May 2019 11:28:00 +0200
>> Andreas Neumann <a.neumann at carto.net> wrote:
>>
>> > Hi QGIS (server) devs,
>>
>> Hi Andreas
>>
>> >
>> > We came across issues around calculating bounding boxes in QGIS
>> > server.
>> >
>> > 1. Layers with only one point feature:
>> >
>> > If a layer contains only one single point feature, QGIS server
>> > calculates a bounding box where the minx equals maxx and miny equals
>> > maxy, so resulting in a bounding box without a width and height.
>> > Sounds logical to QGIS server developers,
>>
>>
>> Yes. The BBOX of a point has minx=maxx and miny=maxy.  Even PostGIS says
>> so :)
>>
>>
>> > but combined with the fact
>> > that QGIS server doesn't take into account rendered symbol sizes
>> > (another issue we have, see issue nr 2), it means that no WMS client
>> > will ever see this one single symbol rendered, which can't be the
>> > solution here ...
>>
>>
>> If the GetMap request's BBOX param is set to the layer extent (the
>> BBOX with no dimension here) then it makes sense that there's nothing
>> rendered in the resulting image.  If the GetMap request's BBOX param is
>> set to a BBOX that contains the layer extent then the point should be
>> rendered in the resulting image.
>>
>> So to me this is a client issue, not a QGIS Server issue.
>>
>>
>> > 2. Layer bounding boxes do not take into account rendered symbol
>> > sizes:
>> >
>> > Please have a look at
>> > http://www.carto.net/neumann/temp/qgis_server_bounding_box_issue.png
>> > - The green rectangle and the green arrows are not part of the QGIS
>> > server rendering, but they are added as an annotation to the rendered
>> > QGIS server graphics, to highlight the issues.
>>
>>
>> What software do you use on the client side?  Does the green
>> rectangle correspond to the BBOX requested by the client?  And does the
>> requested BBOX equal the layer extent in this case?  Or does it contain
>> the layer extent?
>>
>> I may be wrong but I understand that the requested BBOX (the green
>> rectangle) is the layer extent.  And in that case it makes sense that
>> the symbols are cut for points that are closed to the boundaries.  Again
>> it's a client issue.
>>
>>
>> > Here we have the issue that QGIS server only uses the "raw" geometry
>> > of point symbols without taking into account rendered symbol sizes.
>> > Now, I do understand that calculating symbol sizes is scale dependent
>> > and there is no single solution to that, but again, I think the
>> > current behavior of QGIS server (simply cutting off symbols at layer
>> > bounding boxes) is not a good and nice behavior. At least, I think
>> > the author of the WMS service should have a chance to define an extra
>> > margin to be added to the bounding boxes of the raw geometries of the
>> > point layer, either as a "per project" or "per layer" QGIS server
>> > configuration.
>> >
>> > @Andrea: I wonder what Geoserver does in such cases?
>> >
>> > Any thoughts how to solve these issues? The current behavior of QGIS
>> > server is not satisfactory to me, for both cases.
>>
>> I'd like to better understand the issues that you're seeing but from
>> what I currently understand the behavior of QGIS Server is correct.
>> Happy to be proven otherwise :)
>>
>> Cheers,
>>
>
> Hi Èric,
>
> I agree with you that QGIS Server does the right thing here, I think that
> the main question is:
>
> 1. is the WMS GetCapabilities layer's BoundingBox meant to be the features
> BBOX or can it be larger than that?
> 2. if the latter is true, we need a way to tell QGIS Server that he needs
> to advertise a BoundingBox in GetCapabilities which is not the layer's BBOX
> stored in the QGIS project but it's a different (probably larger) one.
>
> all the rest will follow, because the client will get a larger BBOX from
> GetCapabilities and it will request a larger image that has enough buffer
> for the symbols.
>
> Note that I checked mapserver and it behaves by default exactly like QGIS
> Server does (I didn't check the single point but the symbols are cut-off at
> the layer's bbox in general), except that mapserver allows you to override
> the layer extent per-layer.
>
> IMO the fix is in the client, either by allowing to override the layer
> extent advertised by the server and to store it in the project itself (this
> may require some work in the server side too in order to handle the
> override) or by setting an option in the WMS provider that will always
> request the canvas extent.
>
> Cheers
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190513/1abb7312/attachment-0001.html>

From jonathan-lists at lightpear.com  Mon May 13 00:49:10 2019
From: jonathan-lists at lightpear.com (Jonathan Moules)
Date: Mon, 13 May 2019 08:49:10 +0100
Subject: [QGIS-Developer] QGIS server issue: bounding box issues
In-Reply-To: <aebc06db3f73048622208c49994e4e4d@carto.net>
References: <40c48018-34ee-db66-18e5-f960be0fd7fb@carto.net>
 <20190509161437.076fa227@hookipa.localdomain>
 <CAL5Q673N8PBpq=z5wbyKfSVWFufJaQ0DWE9O=pbva2-vN8gVNw@mail.gmail.com>
 <cc902b56-a198-caff-7780-17f662882e6c@lightpear.com>
 <aebc06db3f73048622208c49994e4e4d@carto.net>
Message-ID: <549a7239-fd63-fd15-2e71-32a18da931d9@lightpear.com>

Hi Andreas,

 > I wonder if WMS clients should use bounding boxes at all

Unfortunately they solve a real problem and it'd be worse without them: 
Where is the data? This isn't a problem for global datasets but:

* Over 365,000 layers (of 1.2mil) have a bounding box of less than 1,000 
square km. That's a tiny area 31km on a side. Users simply won't be able 
to find that from a global view.

* A lot of WMS layers have scale thresholds for rendering and won't show 
anything if too far zoomed out. Assuming these are done competently then 
*hopefully* the data should render when you're viewing the layer extent 
on any reasonably sized screen.

 > Or they should only use the top level bounding box of the whole service.

Even less of an option I'm afraid. I don't believe there's any provision 
for such a service level bounding box in the WMS Spec (couldn't find one 
just now on a quick glance).


I think wrong BBOXes simply falls under "just another way for a service 
administrator to make a service bad/useless" (and trust me, there seem 
to be a lot of ways to do that!)

Cheers,

Jonathan


On 2019-05-13 07:51, Andreas Neumann wrote:
>
> Hi Jonathan,
>
> Thanks for your feedback.
>
> Seems to me that bounding boxes are a big mess. Yet they are used to 
> hide data away outside of the bounding box. That behaviour seems 
> really dangerous to me. People rely on the WMS that they show "all" 
> data, but if so many bounding boxes are out of date in the wild this 
> means that clients can't rely on them really. And neither can servers 
> (and filter away data).
>
> Also, it seems to me that OGC specifications doesn't handle edge cases 
> well, such as layers with only a single point.
>
> Given the fact that many layer bounding boxes are just plain wrong, I 
> wonder if WMS clients should use bounding boxes at all, they seem to 
> be really, really unreliable. Or they should only use the top level 
> bounding box of the whole service. Many open questions ...
>
> Andreas
>
> On 2019-05-13 02:27, Jonathan Moules wrote:
>
>> Hi list,
>>
>> Unless GeoServer has changed it of late, the way they do BBOX 
>> definition is:
>>
>> * Layer BBOXes are defined at layer creation time.
>>
>> * Layer BBOXes are entered manually, though there is a button to 
>> automatically calculate it from the data extent which automatically 
>> fills in the manual boxes - the values can then be manually tweaked 
>> as desired.
>>
>> * Layer BBOXes are not automatically calculated at use-time.
>>
>> ----
>>
>> It looks like GeoServer also turns a single point into a BBOX of a 
>> single point: 
>> https://gis.stackexchange.com/questions/113166/the-request-bounding-box-has-zero-area
>>
>> ----
>>
>> De-factor treatment of bounding boxes: Layers do often have BBOXes 
>> that do not actually represent the data.
>>
>> In fact, of the 1.2million WMS, WFS, WCS, WMTS layers in my database, 
>> nearly 55,000 don't even have BBOXes (or have not-valid-wgs84 
>> coordinates)!
>>
>> There's no easy way to check how many of the rest are declaring the 
>> correct BBOX, but experience suggests a lot don't.
>>
>> ----
>>
>> De jure usage: I've just taken a quick glance at the standards (WMS 
>> 1.3, WFS 2, WCS 2) and they standards themselves don't seem to 
>> address the issue of keeping the bboxes contemporary at all or even 
>> exactly what they're for. The closest I could find as to specifying 
>> the exact purpose of the bboxes is in the WFS 2 spec:
>>
>> "The ows:WGS84BoundingBox element may be used to indicate the edges 
>> of an enclosing rectangle in decimal
>> degrees of latitude and longitude in WGS84. Its purpose is to 
>> facilitate geographic searches by indicating where
>> instances of the particular feature type exist. Since multiple 
>> ows:WGS84BoundingBox elements may be
>> specified, a WFS may indicate where various clusters of data exist. 
>> This knowledge aids client applications by
>> letting them know where they should query in order to have a high 
>> probability of finding feature data."
>>
>> And this is mildly telling from the WMS 1.3 spec:
>>
>> "There is no provision for describing disjoint bounding boxes. For 
>> example, consider a dataset which covers two
>> areas separated by some distance. The server cannot provide two 
>> separate bounding boxes in the same Layer using the
>> same CRS to separately describe those areas. To handle this type of 
>> situation, the server may either define a single larger
>> bounding box which encloses both areas, or may define two separate 
>> Layers that each have distinct Name and BoundingBox
>> values."
>>
>> So it doesn't look like handling changing extents is something the 
>> spec writers have specified.
>>
>> And I can assure you, many servers don't have valid BBOXes defined. 
>> In fact
>>
>> Cheers,
>>
>> Jonathan
>>
>>
>> On 2019-05-09 15:37, Alessandro Pasotti wrote:
>>>
>>> On Thu, May 9, 2019 at 4:16 PM Eric Lemoine 
>>> <eric.lemoine at oslandia.com <mailto:eric.lemoine at oslandia.com>> wrote:
>>>
>>>     On Thu, 9 May 2019 11:28:00 +0200
>>>     Andreas Neumann <a.neumann at carto.net
>>>     <mailto:a.neumann at carto.net>> wrote:
>>>
>>>     > Hi QGIS (server) devs,
>>>
>>>     Hi Andreas
>>>
>>>     >
>>>     > We came across issues around calculating bounding boxes in QGIS
>>>     > server.
>>>     >
>>>     > 1. Layers with only one point feature:
>>>     >
>>>     > If a layer contains only one single point feature, QGIS server
>>>     > calculates a bounding box where the minx equals maxx and miny
>>>     equals
>>>     > maxy, so resulting in a bounding box without a width and height.
>>>     > Sounds logical to QGIS server developers,
>>>
>>>
>>>     Yes. The BBOX of a point has minx=maxx and miny=maxy. Even
>>>     PostGIS says
>>>     so :)
>>>
>>>
>>>     > but combined with the fact
>>>     > that QGIS server doesn't take into account rendered symbol sizes
>>>     > (another issue we have, see issue nr 2), it means that no WMS
>>>     client
>>>     > will ever see this one single symbol rendered, which can't be the
>>>     > solution here ...
>>>
>>>
>>>     If the GetMap request's BBOX param is set to the layer extent (the
>>>     BBOX with no dimension here) then it makes sense that there's
>>>     nothing
>>>     rendered in the resulting image.  If the GetMap request's BBOX
>>>     param is
>>>     set to a BBOX that contains the layer extent then the point
>>>     should be
>>>     rendered in the resulting image.
>>>
>>>     So to me this is a client issue, not a QGIS Server issue.
>>>
>>>
>>>     > 2. Layer bounding boxes do not take into account rendered symbol
>>>     > sizes:
>>>     >
>>>     > Please have a look at
>>>     >
>>>     http://www.carto.net/neumann/temp/qgis_server_bounding_box_issue.png
>>>     > - The green rectangle and the green arrows are not part of the
>>>     QGIS
>>>     > server rendering, but they are added as an annotation to the
>>>     rendered
>>>     > QGIS server graphics, to highlight the issues.
>>>
>>>
>>>     What software do you use on the client side?  Does the green
>>>     rectangle correspond to the BBOX requested by the client?  And
>>>     does the
>>>     requested BBOX equal the layer extent in this case?  Or does it
>>>     contain
>>>     the layer extent?
>>>
>>>     I may be wrong but I understand that the requested BBOX (the green
>>>     rectangle) is the layer extent.  And in that case it makes sense
>>>     that
>>>     the symbols are cut for points that are closed to the
>>>     boundaries.  Again
>>>     it's a client issue.
>>>
>>>
>>>     > Here we have the issue that QGIS server only uses the "raw"
>>>     geometry
>>>     > of point symbols without taking into account rendered symbol
>>>     sizes.
>>>     > Now, I do understand that calculating symbol sizes is scale
>>>     dependent
>>>     > and there is no single solution to that, but again, I think the
>>>     > current behavior of QGIS server (simply cutting off symbols at
>>>     layer
>>>     > bounding boxes) is not a good and nice behavior. At least, I think
>>>     > the author of the WMS service should have a chance to define
>>>     an extra
>>>     > margin to be added to the bounding boxes of the raw geometries
>>>     of the
>>>     > point layer, either as a "per project" or "per layer" QGIS server
>>>     > configuration.
>>>     >
>>>     > @Andrea: I wonder what Geoserver does in such cases?
>>>     >
>>>     > Any thoughts how to solve these issues? The current behavior
>>>     of QGIS
>>>     > server is not satisfactory to me, for both cases.
>>>
>>>     I'd like to better understand the issues that you're seeing but from
>>>     what I currently understand the behavior of QGIS Server is correct.
>>>     Happy to be proven otherwise :)
>>>
>>>     Cheers,
>>>
>>>
>>> Hi Èric,
>>> I agree with you that QGIS Server does the right thing here, I think 
>>> that the main question is:
>>> 1. is the WMS GetCapabilities layer's BoundingBox meant to be the 
>>> features BBOX or can it be larger than that?
>>> 2. if the latter is true, we need a way to tell QGIS Server that he 
>>> needs to advertise a BoundingBox in GetCapabilities which is not the 
>>> layer's BBOX stored in the QGIS project but it's a different 
>>> (probably larger) one.
>>> all the rest will follow, because the client will get a larger BBOX 
>>> from GetCapabilities and it will request a larger image that has 
>>> enough buffer for the symbols.
>>> Note that I checked mapserver and it behaves by default exactly like 
>>> QGIS Server does (I didn't check the single point but the symbols 
>>> are cut-off at the layer's bbox in general), except that mapserver 
>>> allows you to override the layer extent per-layer.
>>> IMO the fix is in the client, either by allowing to override the 
>>> layer extent advertised by the server and to store it in the project 
>>> itself (this may require some work in the server side too in order 
>>> to handle the override) or by setting an option in the WMS provider 
>>> that will always request the canvas extent.
>>> Cheers
>>> --
>>> Alessandro Pasotti
>>> w3: www.itopen.it <http://www.itopen.it>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190513/ba4771b1/attachment-0001.html>

From luipir at gmail.com  Mon May 13 02:03:49 2019
From: luipir at gmail.com (Luigi Pirelli)
Date: Mon, 13 May 2019 11:03:49 +0200
Subject: [QGIS-Developer] Spanish QGIS User Group proud supporter of
	SIGLibre2019
Message-ID: <CAFO80_pF5vDPgZnwrrOshSL08EvK6sQ5wWhuj9fQaF4J7aqRwg@mail.gmail.com>

The Spanish QGIS User Group [1] is honored to support "SIGLibre" [2], the
Spanish FOSS4G annual event  organised by the SITGE [3] team of Girona
University (Catalunya, Spain).

During the event it will be possible to subscribe to QGIS User association
to support Local and International activities of the QGIS Project.

Follow the event Hashtag #siglibre2019.

[1] http://qgis.es/
[2] http://www.sigte.udg.edu/jornadassiglibre/
[3] https://www.udg.edu/en/sigte

Luigi Pirelli
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190513/de0c80fc/attachment.html>

From anitagraser at gmx.at  Mon May 13 02:29:52 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Mon, 13 May 2019 11:29:52 +0200
Subject: [QGIS-Developer] FIELDS_TO_COPY syntax for
	native:joinattributestable
In-Reply-To: <CAB28AsgPhBiyvnoSQR2KCcVDNqjxzLLX2Mtc-_-W_aGgfKWKAw@mail.gmail.com>
References: <CAFFV8Fh0O96SxTWTtf8xzBdR3V+DE3A9KBrfk1u4TpudocObQw@mail.gmail.com>
 <CAB28AsgPhBiyvnoSQR2KCcVDNqjxzLLX2Mtc-_-W_aGgfKWKAw@mail.gmail.com>
Message-ID: <CAFFV8FipcRjo-xSdeSPmxgH8S_Z0+fOCEbhY4x8U78vOCg34mg@mail.gmail.com>

On Sun, May 12, 2019 at 7:30 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Sat, 11 May 2019 at 00:03, Anita Graser <anitagraser at gmx.at> wrote:
> >
> > Hi,
> >
> > I'm trying to figure out the syntax for using native:joinattributestable
> in the modeller. Specifically, I'd like to specify the FIELDS_TO_COPY
> parameter. I know from the Processing history, that the correct syntax is :
> >
> > FIELDS_TO_COPY: ['NAME','USE']
> >
> >
> > but no matter how I try to enter the field names into to modeller GUI, I
> always end up with either everything mashed into one field name, e.g.
> >
> >
> > FIELDS_TO_COPY: 'NAME,USE'
>
> NAME;USE
>

Thank you, Nyall! That did the trick.

It's completely opaque and not user friendly at all. This will
> eventually get fixed when the fields parameter is ported to the new
> wrapper API, where we can add specific helper tooltips and text around
> the widget.


That will be a huge improvement. Without tooltips this is really difficult
to figure out.

Regards,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190513/66dea089/attachment.html>

From dortegat at gmail.com  Mon May 13 08:12:54 2019
From: dortegat at gmail.com (=?UTF-8?Q?Dami=C3=A1n_Ortega_Terol?=)
Date: Mon, 13 May 2019 17:12:54 +0200
Subject: [QGIS-Developer] How do I add a QgsLayoutItemMapGrid to a
	QgsLayoutItemMap with PyQGIS 3.x?
Message-ID: <CAK3V4CKq_7YpYLSQ+CFGjgiZsUaaYFQ81fR3+jqgfgP43y+JTA@mail.gmail.com>

I'm trying to add a grid to a map but I don't get any results. My code:

def add_map_layout_item(self,
                        list_maplayers,
                        qgs_rectangle,
                        origin_x_mm,
                        origin_y_mm,
                        width_mm,
                        height_mm,
                        grid_interval):

    map = QgsLayoutItemMap(self.layout)
    map.updateBoundingRect()
    map.setRect(QRectF(origin_x_mm, origin_y_mm, width_mm, height_mm))
    map.setPos(origin_x_mm, origin_y_mm)
    map.setFrameEnabled(True)

    map.setLayers(list_maplayers)
    map.setKeepLayerSet(True)
    map.setExtent(qgs_rectangle)
    self.iface.mapCanvas().freeze(True)

    map.attemptMove(QgsLayoutPoint(origin_x_mm, origin_y_mm))
    map.attemptResize(QgsLayoutSize(width_mm, height_mm))
    map.zoomToExtent(qgs_rectangle)

    qgs_layout_item_map_grid = QgsLayoutItemMapGrid("New grid",
                                                        map)
    qgs_layout_item_map_grid.setAnnotationPrecision(0)
    qgs_layout_item_map_grid.setAnnotationFrameDistance(1)
    qgs_layout_item_map_grid.setAnnotationFontColor(QColor(0, 0, 0))
    qgs_layout_item_map_grid.setCrossLength(1.0)
    qgs_layout_item_map_grid.setIntervalX(grid_interval)
    qgs_layout_item_map_grid.setIntervalY(grid_interval)

    self.layout.addLayoutItem(map)

What am I missing?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190513/1130eb2c/attachment.html>

From nyall.dawson at gmail.com  Mon May 13 16:14:20 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 14 May 2019 09:14:20 +1000
Subject: [QGIS-Developer] How do I add a QgsLayoutItemMapGrid to a
 QgsLayoutItemMap with PyQGIS 3.x?
In-Reply-To: <CAK3V4CKq_7YpYLSQ+CFGjgiZsUaaYFQ81fR3+jqgfgP43y+JTA@mail.gmail.com>
References: <CAK3V4CKq_7YpYLSQ+CFGjgiZsUaaYFQ81fR3+jqgfgP43y+JTA@mail.gmail.com>
Message-ID: <CAB28Asi9KgqyQKg37o9kjUZXU2GTVB2W2pZeDHMT+Hj4gh-6LA@mail.gmail.com>

On Tue, 14 May 2019 at 01:13, Damián Ortega Terol <dortegat at gmail.com> wrote:
>
> I'm trying to add a grid to a map but I don't get any results. My code:
>
> def add_map_layout_item(self,
>                         list_maplayers,
>                         qgs_rectangle,
>                         origin_x_mm,
>                         origin_y_mm,
>                         width_mm,
>                         height_mm,
>                         grid_interval):
>
>     map = QgsLayoutItemMap(self.layout)
>     map.updateBoundingRect()
>     map.setRect(QRectF(origin_x_mm, origin_y_mm, width_mm, height_mm))
>     map.setPos(origin_x_mm, origin_y_mm)
>     map.setFrameEnabled(True)
>
>     map.setLayers(list_maplayers)
>     map.setKeepLayerSet(True)
>     map.setExtent(qgs_rectangle)
>     self.iface.mapCanvas().freeze(True)
>
>     map.attemptMove(QgsLayoutPoint(origin_x_mm, origin_y_mm))
>     map.attemptResize(QgsLayoutSize(width_mm, height_mm))
>     map.zoomToExtent(qgs_rectangle)
>
>     qgs_layout_item_map_grid = QgsLayoutItemMapGrid("New grid",
>                                                         map)
>     qgs_layout_item_map_grid.setAnnotationPrecision(0)
>     qgs_layout_item_map_grid.setAnnotationFrameDistance(1)
>     qgs_layout_item_map_grid.setAnnotationFontColor(QColor(0, 0, 0))
>     qgs_layout_item_map_grid.setCrossLength(1.0)
>     qgs_layout_item_map_grid.setIntervalX(grid_interval)
>     qgs_layout_item_map_grid.setIntervalY(grid_interval)

You need to add your grid to the map item:

map.grids().addGrid(qgs_layout_item_map_grid)

Nyall


>
>     self.layout.addLayoutItem(map)
>
> What am I missing?
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Mon May 13 16:23:06 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 14 May 2019 09:23:06 +1000
Subject: [QGIS-Developer] What to do with evis?
Message-ID: <CAB28AshEhj9asRsR9uQ6=+Hm=6H=_Rm=Dt5QF+VTqCZ90gP+DA@mail.gmail.com>

Hi list,

With Denis' recent PR adding native support for browsing
features/tables  (see https://github.com/qgis/QGIS/pull/9992), I think
it's a good time to open discussion about the future of the evis
plugin.

In my understanding, browsing tables was one of the remaining
compelling features which evis offered, and if we have a native
integrated support for this then I doubt there's a good reason to keep
dragging around the evis baggage with us.

My 2c:

- The plugin is well and truly abandoned and unmaintained. It's only
seen fixes to keep it compiling for the last 5+ years. There's
obviously no demand from the user or development community to extend
this plugin. This either means the plugin is unused, or it's "feature
complete". My gut feeling is the former, or we'd at least be seeing
bug reports still flow in.

- It's a substantial amount of code, and it does require work to keep
it functional. If this work isn't needed, we're just wasting our time

- It's a core c++ plugin, which we are trying to reduce. Again,
there's been no movement from anyone I know of to port this to a
not-installed-by-default python plugin (which is where it really
belongs)

If I'm not the only one thinking evis has reached it's eol, I would propose we:

- Add a messagebar warning when the plugin is enabled/loaded on QGIS
3.8, stating that it is deprecated and will be removed in QGIS 3.10.

- Link this message to a QGIS blog post detailing the reason for
removal, which can clearly state that if users require the
functionality they should contact the QGIS project to discuss funding
a community maintained, Python version of the plugin

- Remove it in 3.10.

Thoughts?

Nyall

From matteo.ghetta at gmail.com  Mon May 13 23:52:31 2019
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 14 May 2019 08:52:31 +0200
Subject: [QGIS-Developer] Including style in core
Message-ID: <157264fd-68eb-02a2-e2ce-b2a40457d2e4@gmail.com>

Hi devs,

can it be a good idea to add a style [0] in the core styles of QGIS?

Currently it is shared with the QGIS Resource Sharing plugin, but maybe
it is worth to list it with the other styles.

Cheers

Matteo


[0]
https://github.com/pcav/qgis_styles/tree/master/collections/distance_measure/style

From luipir at gmail.com  Tue May 14 00:13:51 2019
From: luipir at gmail.com (Luigi Pirelli)
Date: Tue, 14 May 2019 09:13:51 +0200
Subject: [QGIS-Developer] What to do with evis?
In-Reply-To: <CAB28AshEhj9asRsR9uQ6=+Hm=6H=_Rm=Dt5QF+VTqCZ90gP+DA@mail.gmail.com>
References: <CAB28AshEhj9asRsR9uQ6=+Hm=6H=_Rm=Dt5QF+VTqCZ90gP+DA@mail.gmail.com>
Message-ID: <CAFO80_rVmuwq7Ao8Cg6Lmxhk3O2P2fxwwPBAWapXGKgztCawZw@mail.gmail.com>

Hi Nyall

I agree evis can be removed... some users coming from gvSIG experience do
not match the user experience with actual way to browse, hilight, zoom
features. Their experience is based on the NavTable gvSIG plugin that have
all the feature already present in qgis core, but with slightly GUI
organisation. For this reason, Fran Sampayo has generated a NavTable plugin
for QGIS.

cheers

Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
*
https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
* Hire me: http://goo.gl/BYRQKg
**************************************************************************************************


On Tue, 14 May 2019 at 01:23, Nyall Dawson <nyall.dawson at gmail.com> wrote:

> Hi list,
>
> With Denis' recent PR adding native support for browsing
> features/tables  (see https://github.com/qgis/QGIS/pull/9992), I think
> it's a good time to open discussion about the future of the evis
> plugin.
>
> In my understanding, browsing tables was one of the remaining
> compelling features which evis offered, and if we have a native
> integrated support for this then I doubt there's a good reason to keep
> dragging around the evis baggage with us.
>
> My 2c:
>
> - The plugin is well and truly abandoned and unmaintained. It's only
> seen fixes to keep it compiling for the last 5+ years. There's
> obviously no demand from the user or development community to extend
> this plugin. This either means the plugin is unused, or it's "feature
> complete". My gut feeling is the former, or we'd at least be seeing
> bug reports still flow in.
>
> - It's a substantial amount of code, and it does require work to keep
> it functional. If this work isn't needed, we're just wasting our time
>
> - It's a core c++ plugin, which we are trying to reduce. Again,
> there's been no movement from anyone I know of to port this to a
> not-installed-by-default python plugin (which is where it really
> belongs)
>
> If I'm not the only one thinking evis has reached it's eol, I would
> propose we:
>
> - Add a messagebar warning when the plugin is enabled/loaded on QGIS
> 3.8, stating that it is deprecated and will be removed in QGIS 3.10.
>
> - Link this message to a QGIS blog post detailing the reason for
> removal, which can clearly state that if users require the
> functionality they should contact the QGIS project to discuss funding
> a community maintained, Python version of the plugin
>
> - Remove it in 3.10.
>
> Thoughts?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190514/88bc5dc7/attachment.html>

From luipir at gmail.com  Tue May 14 00:14:41 2019
From: luipir at gmail.com (Luigi Pirelli)
Date: Tue, 14 May 2019 09:14:41 +0200
Subject: [QGIS-Developer] Including style in core
In-Reply-To: <157264fd-68eb-02a2-e2ce-b2a40457d2e4@gmail.com>
References: <157264fd-68eb-02a2-e2ce-b2a40457d2e4@gmail.com>
Message-ID: <CAFO80_qXtq3sxYbad_c=8oJzLX2_uSvNVOnD5AyjqUS5fhf=eg@mail.gmail.com>

+1

Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
*
https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
* Hire me: http://goo.gl/BYRQKg
**************************************************************************************************


On Tue, 14 May 2019 at 08:52, matteo <matteo.ghetta at gmail.com> wrote:

> Hi devs,
>
> can it be a good idea to add a style [0] in the core styles of QGIS?
>
> Currently it is shared with the QGIS Resource Sharing plugin, but maybe
> it is worth to list it with the other styles.
>
> Cheers
>
> Matteo
>
>
> [0]
>
> https://github.com/pcav/qgis_styles/tree/master/collections/distance_measure/style
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190514/69c4af64/attachment-0001.html>

From regis.haubourg at gmail.com  Tue May 14 00:14:24 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 14 May 2019 09:14:24 +0200
Subject: [QGIS-Developer] Empty or NULL geometry when deleting vertices and
	sub parts?
Message-ID: <CABgOYCem4bqWEh3Ti33a3YYZ61rSrYNX0O0iFUicXtt8Fsn2Jw@mail.gmail.com>

Hi all,
We encounter different behaviors regarding NULL/Empty geometries and I need
your wisdom lights:
(Using postgis provider here)
- when deleting all the vertices of a geometry we get a NULL geometry
- when deleting all parts of a multiline, when get an empty geometry

I think we should homogenize the behavior here.

Googling a bit led me into the uncertainties of NULL and Empty concepts
into the SFS, WKT, WKB standards, but I fail to decide which one is the
best.
As an average data administrator, I would choose NULL because I almost
never test geometries for being Empty and I think this could be a caveat
for most users.

Someone has any opinion here ?

Best regards
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190514/c002d8c5/attachment.html>

From alexander.bruy at gmail.com  Tue May 14 00:21:17 2019
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Tue, 14 May 2019 10:21:17 +0300
Subject: [QGIS-Developer] What to do with evis?
In-Reply-To: <CAB28AshEhj9asRsR9uQ6=+Hm=6H=_Rm=Dt5QF+VTqCZ90gP+DA@mail.gmail.com>
References: <CAB28AshEhj9asRsR9uQ6=+Hm=6H=_Rm=Dt5QF+VTqCZ90gP+DA@mail.gmail.com>
Message-ID: <CALuHMPCmZFqQDx9_22QySm9g_dDXNsF2L9y1_19QZ0hshMn9ig@mail.gmail.com>

Hi,

+1 to remove eVis.

вт, 14 трав. 2019 о 02:23 Nyall Dawson <nyall.dawson at gmail.com> пише:
>
> Hi list,
>
> With Denis' recent PR adding native support for browsing
> features/tables  (see https://github.com/qgis/QGIS/pull/9992), I think
> it's a good time to open discussion about the future of the evis
> plugin.
>
> In my understanding, browsing tables was one of the remaining
> compelling features which evis offered, and if we have a native
> integrated support for this then I doubt there's a good reason to keep
> dragging around the evis baggage with us.
>
> My 2c:
>
> - The plugin is well and truly abandoned and unmaintained. It's only
> seen fixes to keep it compiling for the last 5+ years. There's
> obviously no demand from the user or development community to extend
> this plugin. This either means the plugin is unused, or it's "feature
> complete". My gut feeling is the former, or we'd at least be seeing
> bug reports still flow in.
>
> - It's a substantial amount of code, and it does require work to keep
> it functional. If this work isn't needed, we're just wasting our time
>
> - It's a core c++ plugin, which we are trying to reduce. Again,
> there's been no movement from anyone I know of to port this to a
> not-installed-by-default python plugin (which is where it really
> belongs)
>
> If I'm not the only one thinking evis has reached it's eol, I would propose we:
>
> - Add a messagebar warning when the plugin is enabled/loaded on QGIS
> 3.8, stating that it is deprecated and will be removed in QGIS 3.10.
>
> - Link this message to a QGIS blog post detailing the reason for
> removal, which can clearly state that if users require the
> functionality they should contact the QGIS project to discuss funding
> a community maintained, Python version of the plugin
>
> - Remove it in 3.10.
>
> Thoughts?
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alexander Bruy

From regis.haubourg at oslandia.com  Tue May 14 00:08:58 2019
From: regis.haubourg at oslandia.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 14 May 2019 09:08:58 +0200
Subject: [QGIS-Developer] Empty or NULL geometry when deleting vertices and
	sub parts?
Message-ID: <CABgOYCfq-Qo_i1Td=iC1Le-1wNcOrJK3dVYrvvL_CrNjNhojeg@mail.gmail.com>

Hi all,
We encounter different behaviors regarding NULL/Empty geometries and I need
your wisdom lights:
(Using postgis provider here)
- when deleting all the vertices of a geometry we get a NULL geometry
- when deleting all parts of a multiline, when get an empty geometry

I think we should homogenize the behavior here.

Googling a bit led me into the uncertainties of NULL and Empty concepts
into the SFS, WKT, WKB standards, but I fail to decide which one is the
best.
As an average data administrator, I would choose NULL because I almost
never test geometries for being Empty and I think this could be a caveat
for most users.

Someone has any opinion here ?

Best regards

Régis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190514/0ea38fd4/attachment.html>

From rldhont at gmail.com  Tue May 14 01:00:21 2019
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Tue, 14 May 2019 10:00:21 +0200
Subject: [QGIS-Developer] Can I backport bugfix with UI updates and
 fixing QGIS Server regression
In-Reply-To: <aecd7de9-34ab-b10b-ff4e-6de934d1fe75@faunalia.it>
References: <465d79a5-fd13-ee48-7035-fa64eb48baef@gmail.com>
 <e4e717d0-807e-8e1f-8b27-ce0114d047a8@faunalia.it>
 <d059fdfc-9538-8b32-12f9-670ef8e1ad8b@gmail.com>
 <270e5218-d1de-f678-3321-2787d062cb3a@gmail.com>
 <b97b3501-1b1b-dac6-a914-2fe5623c28c6@gmail.com>
 <CAB28Asg9fZYieOP-fyPd55v_fsXsx7ZYLp4da24pggFd1HnhBQ@mail.gmail.com>
 <CABgOYCf+g=9Z6exgzwWDHj+dEbK2u96L7y1TJZ49UM808Utpvg@mail.gmail.com>
 <aecd7de9-34ab-b10b-ff4e-6de934d1fe75@faunalia.it>
Message-ID: <ea516677-edbd-8f30-d079-035bc5426878@gmail.com>

Hi all,

In the PR to fix the QGIS Server regression I only need to backport 1 
commit on the 2 provided by Nyall to fix the issue: Layout export - 
raster divided into tiles, edges evident in pdf/svg 
https://issues.qgis.org/issues/19500 in the Pull request 
[needs-docs][layouts] Add checkbox to disable raster tiling for PDF/SVG 
exports https://github.com/qgis/QGIS/pull/9016

The one I need is a fix: Fix inconsistent use of layout render context 
flags 
https://github.com/qgis/QGIS/pull/9692/commits/0954deaf97638519e9f4b3e28855e03a8a34f5c1
This one concoenrs only render context flags for PDF and SVG output. In 
the case of image output, the layout render context flags are well set.

So do you think, the Pull Request could be accepted, if I remove the UI 
modifed part and only conserve the modification needed for server ?

Regards,
René-Luc

Le 13/05/2019 à 08:04, Paolo Cavallini a écrit :
> Hi all,
>
> On 12/05/19 09:41, Régis Haubourg wrote:
>
>> I'd be pleased to test things here but use cases are so numerous that I
>> fail to see how to do this efficiently.
>> I hope we'll one day be able to run those smoke tests as discussed at La
>> Coruna.
> I was about suggesting doing community-wide testing (having a test
> package would greatly help). Is it so difficult to identify and test
> possible regression areas?
> Cheers.


From cavallini at faunalia.it  Tue May 14 01:04:21 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 14 May 2019 10:04:21 +0200
Subject: [QGIS-Developer] What to do with evis?
In-Reply-To: <CALuHMPCmZFqQDx9_22QySm9g_dDXNsF2L9y1_19QZ0hshMn9ig@mail.gmail.com>
References: <CAB28AshEhj9asRsR9uQ6=+Hm=6H=_Rm=Dt5QF+VTqCZ90gP+DA@mail.gmail.com>
 <CALuHMPCmZFqQDx9_22QySm9g_dDXNsF2L9y1_19QZ0hshMn9ig@mail.gmail.com>
Message-ID: <b9504ebe-c563-09e8-0cbb-72e6315b0521@faunalia.it>

Hi Nyall,
fully agreed.
Thanks.

On 14/05/19 09:21, Alexander Bruy wrote:
> Hi,
> 
> +1 to remove eVis.
> 
> вт, 14 трав. 2019 о 02:23 Nyall Dawson <nyall.dawson at gmail.com> пише:
>>
>> Hi list,
>>
>> With Denis' recent PR adding native support for browsing
>> features/tables  (see https://github.com/qgis/QGIS/pull/9992), I think
>> it's a good time to open discussion about the future of the evis
>> plugin.
>>
>> In my understanding, browsing tables was one of the remaining
>> compelling features which evis offered, and if we have a native
>> integrated support for this then I doubt there's a good reason to keep
>> dragging around the evis baggage with us.
>>
>> My 2c:
>>
>> - The plugin is well and truly abandoned and unmaintained. It's only
>> seen fixes to keep it compiling for the last 5+ years. There's
>> obviously no demand from the user or development community to extend
>> this plugin. This either means the plugin is unused, or it's "feature
>> complete". My gut feeling is the former, or we'd at least be seeing
>> bug reports still flow in.
>>
>> - It's a substantial amount of code, and it does require work to keep
>> it functional. If this work isn't needed, we're just wasting our time
>>
>> - It's a core c++ plugin, which we are trying to reduce. Again,
>> there's been no movement from anyone I know of to port this to a
>> not-installed-by-default python plugin (which is where it really
>> belongs)
>>
>> If I'm not the only one thinking evis has reached it's eol, I would propose we:
>>
>> - Add a messagebar warning when the plugin is enabled/loaded on QGIS
>> 3.8, stating that it is deprecated and will be removed in QGIS 3.10.
>>
>> - Link this message to a QGIS blog post detailing the reason for
>> removal, which can clearly state that if users require the
>> functionality they should contact the QGIS project to discuss funding
>> a community maintained, Python version of the plugin
>>
>> - Remove it in 3.10.
>>
>> Thoughts?
>>
>> Nyall
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From noreply at qgis.org  Tue May 14 01:08:44 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 14 May 2019 08:08:44 -0000
Subject: [QGIS-Developer] Plugin [1186] Invisible layers and groups approval
	notification.
Message-ID: <20190514080844.7653.83709@2c6504964296>


Plugin Invisible layers and groups approval by pcav.
The plugin version "[1186] Invisible layers and groups 2.0" is now approved
Link: http://plugins.qgis.org/plugins/InvisibleLayersAndGroups/

From noreply at qgis.org  Tue May 14 01:10:19 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 14 May 2019 08:10:19 -0000
Subject: [QGIS-Developer] Plugin [1716] ZoomView approval notification.
Message-ID: <20190514081019.15355.61186@2c6504964296>


Plugin ZoomView approval by pcav.
The plugin version "[1716] ZoomView 1.0" is now approved
Link: http://plugins.qgis.org/plugins/zoomview/

From tim at kartoza.com  Mon May 13 12:31:11 2019
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 13 May 2019 20:31:11 +0100
Subject: [QGIS-Developer] Consistent Ordering (and terms) for buttons in
 dialogs
In-Reply-To: <627db7a6-f656-6ecb-8841-691ffc20d821@lightpear.com>
References: <627db7a6-f656-6ecb-8841-691ffc20d821@lightpear.com>
Message-ID: <3A710885-E3A9-45D8-9F95-36BDBC71127E@kartoza.com>

Hi

This is usually a symptom of not using a QDialogButtonBox. If used the button box will automatically adjust the sequence to match the HIG guidelines for the client OS.

Regards

Tim

> On 13 May 2019, at 01:03, Jonathan Moules <jonathan-lists at lightpear.com> wrote:
> 
> Hi List,
> 
> There seems to be some inconsistent ordering and usage of the buttons on dialogs. Does QGIS have developer guidelines on this?
> 
> Largely it's fairly consistent but sometimes button orders seem incongruous. Also the use of "Cancel" versus "Close".
> 
> For example, Raster > "Raster Calculator" has: Ok, Cancel, Help
> 
> Raster > "Align Rasters": Ok, Close, Help
> 
> All the other data processing tools I looked at (not all) (Vector and Raster menus) were consistent:  Run, Close, Help
> 
> Data Source Manager: (other buttons), Close, Add, Help
> 
> Add new service/database dialog: Ok, Cancel, Help
> 
> CRS Dialog: Ok, Cancel, Help
> 
> Project settings: OK, Cancel, Apply, Help
> 
> Options: Ok, Cancel, Help
> 
> Style Manager: Close, Help
> 
> 
> ----
> 
> The ones that particularly jump out at me are:
> 
> * "Align Raster" using "close" not "cancel"
> 
> * Project Settings has an "Apply" but "Options" doesn't.
> 
> * Apply and Add seem to come after cancel/close but ok/run always comes before. Shouldn't add/apply be to the left?
> 
> * Data processing tools seem like they should be "Cancel" as they're Do/Do-Not dialogs.
> 
> These are minor things but consistency in the UI makes the application much easier to use as it lowers the cognitive burden on the user.
> 
> (3.4.3)
> 
> Cheers,
> 
> Jonathan
> 
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190513/ab5f59cc/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190513/ab5f59cc/attachment-0001.jpg>

From tim at kartoza.com  Tue May 14 01:43:25 2019
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 14 May 2019 09:43:25 +0100
Subject: [QGIS-Developer] What to do with evis?
In-Reply-To: <b9504ebe-c563-09e8-0cbb-72e6315b0521@faunalia.it>
References: <CAB28AshEhj9asRsR9uQ6=+Hm=6H=_Rm=Dt5QF+VTqCZ90gP+DA@mail.gmail.com>
 <CALuHMPCmZFqQDx9_22QySm9g_dDXNsF2L9y1_19QZ0hshMn9ig@mail.gmail.com>
 <b9504ebe-c563-09e8-0cbb-72e6315b0521@faunalia.it>
Message-ID: <14293CD6-C964-41B7-872B-292942AFDC22@kartoza.com>

+1 from me to remove Evis (I nearly wrote Elvis hahah…..but I guess he was already removed).



> On 14 May 2019, at 09:04, Paolo Cavallini <cavallini at faunalia.it> wrote:
> 
> Hi Nyall,
> fully agreed.
> Thanks.
> 
> On 14/05/19 09:21, Alexander Bruy wrote:
>> Hi,
>> 
>> +1 to remove eVis.
>> 
>> вт, 14 трав. 2019 о 02:23 Nyall Dawson <nyall.dawson at gmail.com> пише:
>>> 
>>> Hi list,
>>> 
>>> With Denis' recent PR adding native support for browsing
>>> features/tables  (see https://github.com/qgis/QGIS/pull/9992), I think
>>> it's a good time to open discussion about the future of the evis
>>> plugin.
>>> 
>>> In my understanding, browsing tables was one of the remaining
>>> compelling features which evis offered, and if we have a native
>>> integrated support for this then I doubt there's a good reason to keep
>>> dragging around the evis baggage with us.
>>> 
>>> My 2c:
>>> 
>>> - The plugin is well and truly abandoned and unmaintained. It's only
>>> seen fixes to keep it compiling for the last 5+ years. There's
>>> obviously no demand from the user or development community to extend
>>> this plugin. This either means the plugin is unused, or it's "feature
>>> complete". My gut feeling is the former, or we'd at least be seeing
>>> bug reports still flow in.
>>> 
>>> - It's a substantial amount of code, and it does require work to keep
>>> it functional. If this work isn't needed, we're just wasting our time
>>> 
>>> - It's a core c++ plugin, which we are trying to reduce. Again,
>>> there's been no movement from anyone I know of to port this to a
>>> not-installed-by-default python plugin (which is where it really
>>> belongs)
>>> 
>>> If I'm not the only one thinking evis has reached it's eol, I would propose we:
>>> 
>>> - Add a messagebar warning when the plugin is enabled/loaded on QGIS
>>> 3.8, stating that it is deprecated and will be removed in QGIS 3.10.
>>> 
>>> - Link this message to a QGIS blog post detailing the reason for
>>> removal, which can clearly state that if users require the
>>> functionality they should contact the QGIS project to discuss funding
>>> a community maintained, Python version of the plugin
>>> 
>>> - Remove it in 3.10.
>>> 
>>> Thoughts?
>>> 
>>> Nyall
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> 
>> 
>> 
> 
> -- 
> Paolo Cavallini - www.faunalia.eu <http://www.faunalia.eu/>
> QGIS.ORG <http://qgis.org/> Chair:
> http://planet.qgis.org/planet/user/28/tag/qgis%20board/ <http://planet.qgis.org/planet/user/28/tag/qgis%20board/>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190514/cdb20d9c/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190514/cdb20d9c/attachment-0001.jpg>

From noreply at qgis.org  Tue May 14 06:20:54 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 14 May 2019 13:20:54 -0000
Subject: [QGIS-Developer] Plugin [1648] ThToolBox approval notification.
Message-ID: <20190514132054.15355.77965@2c6504964296>


Plugin ThToolBox approval by pcav.
The plugin version "[1648] ThToolBox 2.9" is now approved
Link: http://plugins.qgis.org/plugins/ThToolBox/

From noreply at qgis.org  Tue May 14 06:59:56 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 14 May 2019 13:59:56 -0000
Subject: [QGIS-Developer] Plugin [480] opeNoise approval notification.
Message-ID: <20190514135956.4097.82608@2c6504964296>


Plugin opeNoise approval by pcav.
The plugin version "[480] opeNoise 1.2" is now approved
Link: http://plugins.qgis.org/plugins/opeNoise/

From peter.petrik at lutraconsulting.co.uk  Tue May 14 23:46:39 2019
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Wed, 15 May 2019 08:46:39 +0200
Subject: [QGIS-Developer] dependent widgets in processing
Message-ID: <CA+T_Ms+XCtk3RrWpbqGh+14imYC5N3OUnPkpomg2uc-4PhoRZw@mail.gmail.com>

Hi,

In the processing algorithm for XYZ tiles  I have a combo box for selection
of output type, either "Directory" or "MBTiles". For "Directory" user can
specify another sub-options for TMS convention and html preview file.  For
"MBTiles" options for compression...

It is possible in the processing toolbox to hide/disable some widgets based
on value in some other widget?

Thanks,

Peter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190515/d24918ce/attachment.html>

From noreply at qgis.org  Wed May 15 00:05:54 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 15 May 2019 07:05:54 -0000
Subject: [QGIS-Developer] Plugin [246] Flow Trace approval notification.
Message-ID: <20190515070554.17880.5131@2c6504964296>


Plugin Flow Trace approval by pcav.
The plugin version "[246] Flow Trace 1.0" is now approved
Link: http://plugins.qgis.org/plugins/flowTrace/

From alexander.bruy at gmail.com  Wed May 15 00:13:21 2019
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Wed, 15 May 2019 10:13:21 +0300
Subject: [QGIS-Developer] dependent widgets in processing
In-Reply-To: <CA+T_Ms+XCtk3RrWpbqGh+14imYC5N3OUnPkpomg2uc-4PhoRZw@mail.gmail.com>
References: <CA+T_Ms+XCtk3RrWpbqGh+14imYC5N3OUnPkpomg2uc-4PhoRZw@mail.gmail.com>
Message-ID: <CALuHMPC8HAT1KsS56dkwd4vsO8MsdTwUMQkR1kka5xPvHDDyzA@mail.gmail.com>

Hi Peter,

there is no support for parameter dependencies in the Processing core.
But maybe you can reuse or at least get some ideas from the OTB provider's
ChoiceWidget

https://github.com/qgis/QGIS/blob/master/python/plugins/processing/algs/otb/OtbChoiceWidget.py

Hope this helps.

ср, 15 трав. 2019 о 09:46 Peter Petrik
<peter.petrik at lutraconsulting.co.uk> пише:
>
> Hi,
>
> In the processing algorithm for XYZ tiles  I have a combo box for selection of output type, either "Directory" or "MBTiles". For "Directory" user can specify another sub-options for TMS convention and html preview file.  For "MBTiles" options for compression...
>
> It is possible in the processing toolbox to hide/disable some widgets based on value in some other widget?
>
> Thanks,
>
> Peter
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alexander Bruy

From noreply at qgis.org  Wed May 15 02:17:12 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 15 May 2019 09:17:12 -0000
Subject: [QGIS-Developer] Plugin [1438] Road Inspection Viewer approval
	notification.
Message-ID: <20190515091712.24793.74954@2c6504964296>


Plugin Road Inspection Viewer approval by pcav.
The plugin version "[1438] Road Inspection Viewer 1.2.1" is now approved
Link: http://plugins.qgis.org/plugins/road_inspection_viewer/

From rldhont at gmail.com  Thu May 16 00:33:39 2019
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Thu, 16 May 2019 09:33:39 +0200
Subject: [QGIS-Developer] How to use postProcessLayer in plugin processing
Message-ID: <58f87e5e-51ae-d0c7-d851-acb0fdc7e762@gmail.com>

Hi Devs,

I would like to set the style an output layer in a script processing. My 
algorithm is added to QGIS Processing by a plugin.

I have tested this :

```

class loadNamedStylePostProcessor(QgsProcessingLayerPostProcessorInterface):

     def __init__(self, outputName, feedback):
         super().__init__()
         self.outputName = outputName
         feedback.pushInfo('loadNamedStylePostProcessor init')
         feedback.pushInfo(self.outputName)

     def postProcessLayer(layer, context, feedback):
         feedback.pushInfo('postProcessLayer')
         feedback.pushInfo(self.outputName)
         feedback.pushInfo(layer.name())


class testPostProcessLayerAlgorithm(QgsProcessingAlgorithm):

     OUTPUT = 'OUTPUT'
     INPUT = 'INPUT'

     def initAlgorithm(self, config):
         self.addParameter(
             QgsProcessingParameterFeatureSource(
                 self.INPUT,
                 self.tr('Input layer'),
                 [QgsProcessing.TypeVectorAnyGeometry]
             )
         )

         self.addParameter(
             QgsProcessingParameterFeatureSink(
                 self.OUTPUT,
                 self.tr('Output layer')
             )
         )

     def processAlgorithm(self, parameters, context, feedback):
         source = self.parameterAsSource(parameters, self.INPUT, context)
         (sink, dest_id) = self.parameterAsSink(parameters, self.OUTPUT,
                context, source.fields(), source.wkbType(), 
source.sourceCrs())

         total = 100.0 / source.featureCount() if source.featureCount() 
else 0
         features = source.getFeatures()

         for current, feature in enumerate(features):
             # Stop the algorithm if cancel button has been clicked
             if feedback.isCanceled():
                 break

             # Add a feature in the sink
             sink.addFeature(feature, QgsFeatureSink.FastInsert)

             # Update the progress bar
             feedback.setProgress(int(current * total))

         context.layerToLoadOnCompletionDetails(
             dest_id
         ).setPostProcessor(
             loadNamedStylePostProcessor(self.OUTPUT, feedback)
         )

         return {self.OUTPUT: dest_id}

     def name(self):
         return 'test_post_process_layer'

     def displayName(self):
         return self.tr('Test postProcessLayer')

     def group(self):
         return self.tr('Tests')

     def groupId(self):
         return 'tests'

     def tr(self, string):
         return QCoreApplication.translate('Processing', string)

     def createInstance(self):
         return self.__class__()
```

The postProcesser is well initialize, but I never have the messages form 
postProcessLayer.

Any one has already use it in some code ?

Regards,
René-Luc

From tom.chadwin at nnpa.org.uk  Thu May 16 01:25:03 2019
From: tom.chadwin at nnpa.org.uk (Tom Chadwin)
Date: Thu, 16 May 2019 01:25:03 -0700 (MST)
Subject: [QGIS-Developer] How to use postProcessLayer in plugin
 processing
In-Reply-To: <58f87e5e-51ae-d0c7-d851-acb0fdc7e762@gmail.com>
References: <58f87e5e-51ae-d0c7-d851-acb0fdc7e762@gmail.com>
Message-ID: <1557995103356-0.post@n6.nabble.com>

Don't know if any of the links in this reply from Nyall are of any use?

https://lists.osgeo.org/pipermail/qgis-developer/2018-September/054480.html

Tom



-----
Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon 
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From rldhont at gmail.com  Thu May 16 01:33:08 2019
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Thu, 16 May 2019 10:33:08 +0200
Subject: [QGIS-Developer] How to use postProcessLayer in plugin
	processing
In-Reply-To: <1557995103356-0.post@n6.nabble.com>
References: <58f87e5e-51ae-d0c7-d851-acb0fdc7e762@gmail.com>
 <1557995103356-0.post@n6.nabble.com>
Message-ID: <6128244c-335e-22b6-cc2f-91602df065d9@gmail.com>

Thanks, this link is helpful
https://gist.github.com/nyalldawson/26c091dd48b4f8bf56f172efe22cf75f

It contains a hack to work around sip bug!

Regards,
René-Luc

Le 16/05/2019 à 10:25, Tom Chadwin a écrit :
> Don't know if any of the links in this reply from Nyall are of any use?
>
> https://lists.osgeo.org/pipermail/qgis-developer/2018-September/054480.html
>
> Tom
>
>
>
> -----
> Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From rdmailings at duif.net  Thu May 16 01:48:53 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 16 May 2019 10:48:53 +0200
Subject: [QGIS-Developer] Trying to build with GDAL3/PROJ6,
	anybody successful?
Message-ID: <e2af809f-d9fa-9241-a6ca-d4c9958ffbc9@duif.net>

Hi,

To be able to test some (gdal) wfs3 stuff I've succesfully build my own
gdal3 and proj lib.
But I fail to build QGIS with it.
Anybody already succesfull?
My try (using options I used to build QGIS earlier with my own builds of
gdal/proj):

export
LD_LIBRARY_PATH=/home/richard/bin/qgis/qgisgdal/debug/lib/:/home/richard/bin/gdal/lib:/home/richard/bin/proj/lib

mkdir build;
cd build;
ccmake -DBUILD_TESTING=FALSE -DENABLE_TESTS=OFF -DWITH_SERVER=TRUE
-DWITH_3D=TRUE
-DCMAKE_INSTALL_PREFIX=/home/richard/bin/qgis/qgisgdal/debug
-DWITH_QWTPOLAR=OFF -DCMAKE_BUILD_TYPE=Debug
-DPROJ_INCLUDE_DIR=/home/richard/bin/proj/include/
-DPROJ_LIBRARY=/home/richard/bin/proj/lib/libinternalproj.so.15
-DGDAL_CONFIG=/home/richard/bin/gdal/bin/gdal-config
-DGDAL_INCLUDE_DIR=/home/richard/bin/gdal/include/
-DGDAL_LIBRARY=/home/richard/bin/gdal/lib/libgdal.so
-DQT5_3DEXTRA_LIBRARY=/usr/lib/x86_64-linux-gnu/libQt53DExtras.so
-DCMAKE_PREFIX_PATH=/home/richard/git/qgisgdal/external/qt3dextra-headers/cmake
-DQT5_3DEXTRA_INCLUDE_DIR=/home/richard/git/qgisgdal/external/qt3dextra-headers
-DACCEPT_USE_OF_DEPRECATED_PROJ_API_H=1 ..

The build stops when Make is trying to link libqgis_core.so

It's not clear to me what is the problem: is it trying to use my distro
proj lib?
Or is it trying to find removed symbols?
Or should I just not try this yet :-)

Anybody can see what I'm missing?

Regards,

Richard Duivenvoorde


[ 29%] Linking CXX shared library ../../output/lib/libqgis_core.so
/usr/bin/ld:
CMakeFiles/qgis_core.dir/processing/qgsprocessingfeedback.cpp.o: in
function `QgsProcessingFeedback::pushVersionInfo(QgsProcessingProvider
const*)':
/home/richard/git/qgisgdal/src/core/processing/qgsprocessingfeedback.cpp:70:
undefined reference to `proj_info'
/usr/bin/ld:
CMakeFiles/qgis_core.dir/qgscoordinatereferencesystem.cpp.o: in function
`getFullProjString(PJconsts*)':
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:82:
undefined reference to `proj_crs_create_bound_crs_to_WGS84'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:85:
undefined reference to `proj_as_proj_string'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:91:
undefined reference to `proj_as_proj_string'
/usr/bin/ld:
CMakeFiles/qgis_core.dir/qgscoordinatereferencesystem.cpp.o: in function
`QgsCoordinateReferenceSystem::loadFromDatabase(QString const&, QString
const&, QString const&)':
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:556:
undefined reference to `proj_create_from_database'
/usr/bin/ld:
CMakeFiles/qgis_core.dir/qgscoordinatereferencesystem.cpp.o: in function
`QgsCoordinateReferenceSystem::createFromWkt(QString const&)':
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:642:
undefined reference to `proj_create_from_wkt'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:658:
undefined reference to `proj_string_list_destroy'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:659:
undefined reference to `proj_string_list_destroy'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:686:
undefined reference to `proj_get_id_auth_name'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:687:
undefined reference to `proj_get_id_code'
/usr/bin/ld:
CMakeFiles/qgis_core.dir/qgscoordinatereferencesystem.cpp.o: in function
`QgsCoordinateReferenceSystem::createFromProj4(QString const&)':
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:826:
undefined reference to `proj_create'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:831:
undefined reference to `proj_identify'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:833:
undefined reference to `proj_list_get_count'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:841:
undefined reference to `proj_list_get'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:842:
undefined reference to `proj_get_id_auth_name'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:850:
undefined reference to `proj_list_destroy'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:851:
undefined reference to `proj_int_list_destroy'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:854:
undefined reference to `proj_get_id_auth_name'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:855:
undefined reference to `proj_get_id_code'
/usr/bin/ld:
CMakeFiles/qgis_core.dir/qgscoordinatereferencesystem.cpp.o: in function
`QgsCoordinateReferenceSystem::setProj4String(QString const&)':
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:1317:
undefined reference to `proj_create'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:1323:
undefined reference to `proj_context_errno'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:1324:
undefined reference to `proj_errno_string'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:1329:
undefined reference to `proj_get_ellipsoid'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:1332:
undefined reference to `proj_get_id_auth_name'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:1333:
undefined reference to `proj_get_id_code'
/usr/bin/ld:
CMakeFiles/qgis_core.dir/qgscoordinatereferencesystem.cpp.o: in function
`QgsCoordinateReferenceSystem::setMapUnits()':
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:1412:
undefined reference to `proj_crs_get_coordinate_system'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:1419:
undefined reference to `proj_cs_get_axis_count'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:1424:
undefined reference to `proj_cs_get_axis_info'
/usr/bin/ld:
CMakeFiles/qgis_core.dir/qgscoordinatereferencesystem.cpp.o: in function
`QgsCoordinateReferenceSystem::toWkt() const':
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:1616:
undefined reference to `proj_as_wkt'
/usr/bin/ld:
CMakeFiles/qgis_core.dir/qgscoordinatereferencesystem.cpp.o: in function
`QgsCoordinateReferenceSystem::syncDatabase()':
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2197:
undefined reference to `proj_get_authorities_from_database'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2204:
undefined reference to `proj_get_codes_from_database'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2213:
undefined reference to `proj_create_from_database'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2220:
undefined reference to `proj_get_type'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2241:
undefined reference to `proj_is_deprecated'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2242:
undefined reference to `proj_get_name'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2320:
undefined reference to `proj_crs_get_coordinate_system'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2323:
undefined reference to `proj_cs_get_axis_count'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2329:
undefined reference to `proj_cs_get_axis_info'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2341:
undefined reference to `proj_uom_get_info_from_database'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2412:
undefined reference to `proj_string_list_destroy'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2428:
undefined reference to `proj_string_list_destroy'
/usr/bin/ld:
CMakeFiles/qgis_core.dir/qgscoordinatereferencesystem.cpp.o: in function
`QgsCoordinateReferenceSystem::geographicCrsAuthId() const':
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2916:
undefined reference to `proj_crs_get_geodetic_crs'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2917:
undefined reference to `proj_get_id_code'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem.cpp:2917:
undefined reference to `proj_get_id_auth_name'
/usr/bin/ld:
CMakeFiles/qgis_core.dir/qgscoordinatereferencesystem.cpp.o: in function
`QgsCoordinateReferenceSystemPrivate::QgsCoordinateReferenceSystemPrivate(QgsCoordinateReferenceSystemPrivate
const&)':
/home/richard/git/qgisgdal/src/core/qgscoordinatereferencesystem_p.h:80:
undefined reference to `proj_clone'
/usr/bin/ld: CMakeFiles/qgis_core.dir/qgscoordinatetransform.cpp.o: in
function `QgsCoordinateTransform::transformCoords(int, double*, double*,
double*, QgsCoordinateTransform::TransformDirection) const':
/home/richard/git/qgisgdal/src/core/qgscoordinatetransform.cpp:639:
undefined reference to `proj_trans_generic'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatetransform.cpp:644:
undefined reference to `proj_errno'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatetransform.cpp:692:
undefined reference to `proj_get_source_crs'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatetransform.cpp:693:
undefined reference to `proj_get_source_crs'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatetransform.cpp:701:
undefined reference to `proj_errno_string'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgscoordinatetransform.cpp:701:
undefined reference to `proj_as_proj_string'
/usr/bin/ld: CMakeFiles/qgis_core.dir/qgscoordinatetransform_p.cpp.o: in
function `QgsCoordinateTransformPrivate::threadLocalProjData()':
/home/richard/git/qgisgdal/src/core/qgscoordinatetransform_p.cpp:286:
undefined reference to `proj_create_crs_to_crs'
/usr/bin/ld: CMakeFiles/qgis_core.dir/qgscoordinatetransform_p.cpp.o: in
function `QgsCoordinateTransformPrivate::freeProj()':
/home/richard/git/qgisgdal/src/core/qgscoordinatetransform_p.cpp:379:
undefined reference to `proj_destroy'
/usr/bin/ld: CMakeFiles/qgis_core.dir/qgsdistancearea.cpp.o: in function
`QgsDistanceArea::latitudeGeodesicCrossesAntimeridian(QgsPointXY const&,
QgsPointXY const&, double&) const':
/home/richard/git/qgisgdal/src/core/qgsdistancearea.cpp:488: undefined
reference to `geod_init'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgsdistancearea.cpp:491: undefined
reference to `geod_inverseline'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgsdistancearea.cpp:516: undefined
reference to `geod_inverseline'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgsdistancearea.cpp:529: undefined
reference to `geod_position'
/usr/bin/ld: CMakeFiles/qgis_core.dir/qgsdistancearea.cpp.o: in function
`QgsDistanceArea::geodesicLine(QgsPointXY const&, QgsPointXY const&,
double, bool) const':
/home/richard/git/qgisgdal/src/core/qgsdistancearea.cpp:681: undefined
reference to `geod_init'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgsdistancearea.cpp:696: undefined
reference to `geod_inverseline'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgsdistancearea.cpp:719: undefined
reference to `geod_position'
/usr/bin/ld: CMakeFiles/qgis_core.dir/qgsellipsoidutils.cpp.o: in
function `QgsEllipsoidUtils::definitions()':
/home/richard/git/qgisgdal/src/core/qgsellipsoidutils.cpp:352: undefined
reference to `proj_get_authorities_from_database'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgsellipsoidutils.cpp:357: undefined
reference to `proj_get_codes_from_database'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgsellipsoidutils.cpp:362: undefined
reference to `proj_create_from_database'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgsellipsoidutils.cpp:366: undefined
reference to `proj_get_name'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgsellipsoidutils.cpp:373: undefined
reference to `proj_ellipsoid_get_parameters'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgsellipsoidutils.cpp:396: undefined
reference to `proj_string_list_destroy'
/usr/bin/ld:
/home/richard/git/qgisgdal/src/core/qgsellipsoidutils.cpp:401: undefined
reference to `proj_string_list_destroy'
/usr/bin/ld: CMakeFiles/qgis_core.dir/qgsprojutils.cpp.o: in function
`QgsProjContext::QgsProjContext()':
/home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:36: undefined
reference to `proj_context_create'
/usr/bin/ld: CMakeFiles/qgis_core.dir/qgsprojutils.cpp.o: in function
`QgsProjContext::~QgsProjContext()':
/home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:45: undefined
reference to `proj_context_destroy'
/usr/bin/ld: CMakeFiles/qgis_core.dir/qgsprojutils.cpp.o: in function
`QgsProjUtils::ProjPJDeleter::operator()(PJconsts*)':
/home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:73: undefined
reference to `proj_destroy'
/usr/bin/ld: CMakeFiles/qgis_core.dir/qgsprojutils.cpp.o: in function
`QgsProjUtils::usesAngularUnit(QString const&)':
/home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:80: undefined
reference to `proj_create'
/usr/bin/ld: /home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:84:
undefined reference to `proj_crs_get_coordinate_system'
/usr/bin/ld: /home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:88:
undefined reference to `proj_cs_get_axis_count'
/usr/bin/ld: /home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:94:
undefined reference to `proj_cs_get_axis_info'
/usr/bin/ld: /home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:106:
undefined reference to `proj_uom_get_info_from_database'
/usr/bin/ld: CMakeFiles/qgis_core.dir/qgsprojutils.cpp.o: in function
`QgsProjUtils::axisOrderIsSwapped(PJconsts const*)':
/home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:122: undefined
reference to `proj_crs_get_coordinate_system'
/usr/bin/ld: /home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:126:
undefined reference to `proj_cs_get_axis_count'
/usr/bin/ld: /home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:132:
undefined reference to `proj_cs_get_axis_info'
/usr/bin/ld: CMakeFiles/qgis_core.dir/qgsprojutils.cpp.o: in function
`QgsProjUtils::crsToSingleCrs(PJconsts const*)':
/home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:153: undefined
reference to `proj_get_type'
/usr/bin/ld: /home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:156:
undefined reference to `proj_get_source_crs'
/usr/bin/ld: /home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:161:
undefined reference to `proj_crs_get_sub_crs'
/usr/bin/ld: /home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:162:
undefined reference to `proj_get_type'
/usr/bin/ld: /home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:162:
undefined reference to `proj_get_type'
/usr/bin/ld: /home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:165:
undefined reference to `proj_crs_get_sub_crs'
/usr/bin/ld: /home/richard/git/qgisgdal/src/core/qgsprojutils.cpp:173:
undefined reference to `proj_clone'
collect2: error: ld returned 1 exit status
make[2]: *** [src/core/CMakeFiles/qgis_core.dir/build.make:11468:
output/lib/libqgis_core.so.3.7.0] Error 1
make[1]: *** [CMakeFiles/Makefile2:327:
src/core/CMakeFiles/qgis_core.dir/all] Error 2
make: *** [Makefile:152: all] Error 2

From delazj at gmail.com  Thu May 16 02:25:20 2019
From: delazj at gmail.com (DelazJ)
Date: Thu, 16 May 2019 11:25:20 +0200
Subject: [QGIS-Developer] Broken osgeo4w for download?
Message-ID: <CAECJsSpvg9yybrG6gXLzsw3_VRyyA4Mb6mp_Mi5tPEbgE6cUAQ@mail.gmail.com>

Hi,
The last QGIS version I can fetch using osgeo4w setup is
https://github.com/qgis/QGIS/commit/10dd209e4a0a4dc5eff9ad0fbf78cddf350f1872,
seven days old? Is that boken or do I miss something?

Regards,
Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190516/b9ccee60/attachment.html>

From strk at kbt.io  Thu May 16 01:45:52 2019
From: strk at kbt.io (Sandro Santilli)
Date: Thu, 16 May 2019 10:45:52 +0200
Subject: [QGIS-Developer] git .mailmap
Message-ID: <20190516084552.GD6755@liz>

Hi all, I've tweaked the .mailmap file as it seemed to be failing
to do proper join of git authors. I did the tweaks by looking at
history and guessing who was who at different points in time.

Please review the output of `git shortlog -esn` to see if your
name/email is shown to your liking and if it is unique.

If you find a missing email mapping instructions can be found here:
https://git-scm.com/docs/git-shortlog#_mapping_authors


--strk;

  ()   Free GIS & Flash consultant/developer
  /\   https://strk.kbt.io/services.html

From robifagandini at gmail.com  Thu May 16 03:30:31 2019
From: robifagandini at gmail.com (Roberta Fagandini)
Date: Thu, 16 May 2019 12:30:31 +0200
Subject: [QGIS-Developer] save QgsRasterCalculator output file in ascii
	format (.asc and .xyz)
Message-ID: <CAFFLmWLVXKUuNK-XGrXGGEKpg6D2bdeTB-7qusfCBmcLnyFUog@mail.gmail.com>

Hi devs,
I'm using the QgsRasterCalculator within a python plugin and I would like
to save the output file in ascii format but it seems to be not available.
Is it right?
A solution could be to save the output file as virtual raster and then
translate it. Are there other possible solution to directly save the output
in ascii format or to speed up the process?

Thanks in advance,
Roberta
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190516/fd1a8483/attachment.html>

From even.rouault at spatialys.com  Thu May 16 06:04:07 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 16 May 2019 08:04:07 -0500
Subject: [QGIS-Developer] Trying to build with GDAL3/PROJ6,
	anybody successful?
In-Reply-To: <e2af809f-d9fa-9241-a6ca-d4c9958ffbc9@duif.net>
References: <e2af809f-d9fa-9241-a6ca-d4c9958ffbc9@duif.net>
Message-ID: <11294221.1xto6Rs1P2@even-i700>

Richard,

as I see /home/richard/bin/proj/lib/libinternalproj.so.15 , I assume you built 
PROJ with the -DPROJ_RENAME_SYMBOLS trick. So QGIS should also be built with 
this define set

you might try adding the following to your ccmake invokation:
-DCMAKE_CXX_FLAGS=-DPROJ_RENAME_SYMBOLS

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From noreply at qgis.org  Thu May 16 06:48:41 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 16 May 2019 13:48:41 -0000
Subject: [QGIS-Developer] Plugin [1719] Bezier Editing approval notification.
Message-ID: <20190516134841.10854.15377@2c6504964296>


Plugin Bezier Editing approval by pcav.
The plugin version "[1719] Bezier Editing 1.0.0" is now approved
Link: http://plugins.qgis.org/plugins/BezierEditing/

From rdmailings at duif.net  Thu May 16 07:55:02 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 16 May 2019 16:55:02 +0200
Subject: [QGIS-Developer] Trying to build with GDAL3/PROJ6,
 anybody successful?
In-Reply-To: <11294221.1xto6Rs1P2@even-i700>
References: <e2af809f-d9fa-9241-a6ca-d4c9958ffbc9@duif.net>
 <11294221.1xto6Rs1P2@even-i700>
Message-ID: <4bff2d8b-e21d-d5cb-7ff0-d2fb88f0f237@duif.net>

On 16/05/2019 15.04, Even Rouault wrote:
> Richard,
> 
> as I see /home/richard/bin/proj/lib/libinternalproj.so.15 , I assume you built 
> PROJ with the -DPROJ_RENAME_SYMBOLS trick. So QGIS should also be built with 
> this define set
> 
> you might try adding the following to your ccmake invokation:
> -DCMAKE_CXX_FLAGS=-DPROJ_RENAME_SYMBOLS

YES, that does the trick, Thanks!
... though I do not fully understand :)

https://duif.net/temp/qgisgdal3.png

Thanks,

Richard

ps WFS3 client seems to partially work? Using:
<OGRVRTDataSource>
<OGRVRTLayer name="ahccd-stations">

<SrcDataSource>WFS3:https://geo.weather.gc.ca/geomet-beta/features</SrcDataSource>
    <SrcLayer>ahccd-stations</SrcLayer>
    <LayerSRS>WGS84</LayerSRS>
</OGRVRTLayer>
</OGRVRTDataSource>
It looks like QGIS is only request when zoomed in enough?
Sometimes features are 'hiding'?
Behaviour with attributetable is funny too.

I read the discussion with Nyall about being able to log requests fired
by GDAL (as provider in QGIS), would be very valuable in cases like this?


From anitagraser at gmx.at  Thu May 16 12:07:56 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Thu, 16 May 2019 21:07:56 +0200
Subject: [QGIS-Developer] Recent rendering changes that might affect
	TimeManager
Message-ID: <CAFFV8FjeTjU-C0XXK=R4+2E55kmDYRbC_b8vfjoxZWs87bU_rg@mail.gmail.com>

Hi,

Users of TimeManager are reporting rendering issues which affect 3.4 and
3.6 but didn't appear in QGIS 2.18:

https://github.com/anitagraser/TimeManager/issues/290
https://github.com/anitagraser/TimeManager/issues/291

I'd appreciate any pointers to potentially relevant changes and
recommendations on how to handle them.

Regards,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190516/746b98c0/attachment.html>

From anitagraser at gmx.at  Thu May 16 12:12:00 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Thu, 16 May 2019 21:12:00 +0200
Subject: [QGIS-Developer] Recent rendering changes that might affect
	TimeManager
In-Reply-To: <CAFFV8FjeTjU-C0XXK=R4+2E55kmDYRbC_b8vfjoxZWs87bU_rg@mail.gmail.com>
References: <CAFFV8FjeTjU-C0XXK=R4+2E55kmDYRbC_b8vfjoxZWs87bU_rg@mail.gmail.com>
Message-ID: <CAFFV8FigiyDX+rd3txgZtvsX4UvdqfuX-bAsgvjdi-bpGK1t8A@mail.gmail.com>

Sorry, only #290 is about rendering.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190516/8ba16acb/attachment.html>

From noreply at qgis.org  Thu May 16 15:31:19 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 16 May 2019 22:31:19 -0000
Subject: [QGIS-Developer] Plugin [246] Flow Trace approval notification.
Message-ID: <20190516223119.17152.51779@2c6504964296>


Plugin Flow Trace approval by pcav.
The plugin version "[246] Flow Trace 1.0.1" is now approved
Link: http://plugins.qgis.org/plugins/flowTrace/

From nyall.dawson at gmail.com  Thu May 16 16:12:46 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 17 May 2019 09:12:46 +1000
Subject: [QGIS-Developer] save QgsRasterCalculator output file in ascii
 format (.asc and .xyz)
In-Reply-To: <CAFFLmWLVXKUuNK-XGrXGGEKpg6D2bdeTB-7qusfCBmcLnyFUog@mail.gmail.com>
References: <CAFFLmWLVXKUuNK-XGrXGGEKpg6D2bdeTB-7qusfCBmcLnyFUog@mail.gmail.com>
Message-ID: <CAB28Asj_aJjWQJRtTVP3VcH0+SZWOeKuizx7e62RGtjExsewng@mail.gmail.com>

On Thu, 16 May 2019 at 20:30, Roberta Fagandini <robifagandini at gmail.com> wrote:
>
> Hi devs,
> I'm using the QgsRasterCalculator within a python plugin and I would like to save the output file in ascii format but it seems to be not available. Is it right?
> A solution could be to save the output file as virtual raster and then translate it. Are there other possible solution to directly save the output in ascii format or to speed up the process?

It's currently not possible to do this directly -- but it would be a
very welcome improvement to have in the core QGIS
libraries/application.

Nyall

From nyall.dawson at gmail.com  Thu May 16 16:13:39 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 17 May 2019 09:13:39 +1000
Subject: [QGIS-Developer] How to use postProcessLayer in plugin
	processing
In-Reply-To: <6128244c-335e-22b6-cc2f-91602df065d9@gmail.com>
References: <58f87e5e-51ae-d0c7-d851-acb0fdc7e762@gmail.com>
 <1557995103356-0.post@n6.nabble.com>
 <6128244c-335e-22b6-cc2f-91602df065d9@gmail.com>
Message-ID: <CAB28Asgq-JWA9U7bsxtbJHuTrHsZ9tZ0LtxV8dH3k8tKZFaLJg@mail.gmail.com>

On Thu, 16 May 2019 at 18:33, René-Luc Dhont <rldhont at gmail.com> wrote:
>
> Thanks, this link is helpful
> https://gist.github.com/nyalldawson/26c091dd48b4f8bf56f172efe22cf75f
>
> It contains a hack to work around sip bug!

Hey Matthias, on this hack -- is it the same issue as you fixed a
while back for registry instances?

Nyall

>
> Regards,
> René-Luc
>
> Le 16/05/2019 à 10:25, Tom Chadwin a écrit :
> > Don't know if any of the links in this reply from Nyall are of any use?
> >
> > https://lists.osgeo.org/pipermail/qgis-developer/2018-September/054480.html
> >
> > Tom
> >
> >
> >
> > -----
> > Buy Pie Spy: Adventures in British pastry 2010-11 on Amazon
> > --
> > Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From noreply at qgis.org  Thu May 16 22:34:34 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 17 May 2019 05:34:34 -0000
Subject: [QGIS-Developer] Plugin [970] TUFLOW approval notification.
Message-ID: <20190517053434.583.69264@2c6504964296>


Plugin TUFLOW approval by pcav.
The plugin version "[970] TUFLOW 3.0.3" is now approved
Link: http://plugins.qgis.org/plugins/tuflow/

From noreply at qgis.org  Fri May 17 01:13:21 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 17 May 2019 08:13:21 -0000
Subject: [QGIS-Developer] Plugin [629] Networks approval notification.
Message-ID: <20190517081321.9508.8220@2c6504964296>


Plugin Networks approval by pcav.
The plugin version "[629] Networks 2.3.5" is now approved
Link: http://plugins.qgis.org/plugins/networks/

From regis.haubourg at gmail.com  Fri May 17 08:54:09 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Fri, 17 May 2019 17:54:09 +0200
Subject: [QGIS-Developer] Should we create a list for admin sys
 discussions and infrastructure monitoring?
In-Reply-To: <CABgOYCdd81UBG27hP8QpgXuGrxO34fpmTtAn95xNNar-3PrJfA@mail.gmail.com>
References: <CABgOYCdd81UBG27hP8QpgXuGrxO34fpmTtAn95xNNar-3PrJfA@mail.gmail.com>
Message-ID: <CABgOYCcXOnVA=GrVxKOzffg5UHPksmRbniboKj9SSw_j43HabA@mail.gmail.com>

Hi all,
A gentle relaunch here.  Our infrastructure is already monitored somewhere?
Or do we stick to having mail received by individual maintainers?
Best regards
Régis

Le ven. 10 mai 2019 à 15:47, Régis Haubourg <regis.haubourg at gmail.com> a
écrit :

> Hi all,
> at Oslandia we are currently pushing the OGC compliance test suite,  the
> performance test suite and some demo stuff QWC2 on qgis officiel servers.
> We need to monitor those tools that produce daily reports and send mails
> in case of failure of the tools
>
> We don't want to flood the developper's mailing list with such messages,
> so we are wondering what would be the best place to send those
> notifications?
>
> For the particular case of the OGC compliance test, we also now have
> messages in case of regressions. Those messages should are not wired with
> Travis PR workflow, so we need to raise the information probably on the
> developper mailing list.
>
> Is there anything already set up somewhere we are not aware of?
>
> I think centralizing notification and having a dashbooard to monitot the
> status of all the infrastructure would be nice.
>
> Thanks for your hints!
>
> Best regards
> Régis
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190517/38baec43/attachment.html>

From rdmailings at duif.net  Fri May 17 10:41:04 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 17 May 2019 19:41:04 +0200
Subject: [QGIS-Developer] Should we create a list for admin sys
 discussions and infrastructure monitoring?
In-Reply-To: <CABgOYCcXOnVA=GrVxKOzffg5UHPksmRbniboKj9SSw_j43HabA@mail.gmail.com>
References: <CABgOYCdd81UBG27hP8QpgXuGrxO34fpmTtAn95xNNar-3PrJfA@mail.gmail.com>
 <CABgOYCcXOnVA=GrVxKOzffg5UHPksmRbniboKj9SSw_j43HabA@mail.gmail.com>
Message-ID: <b0d0bb9e-1de9-7d4e-df06-aa12fcbc234f@duif.net>

On 17/05/2019 17.54, Régis Haubourg wrote:
> Hi all,
> A gentle relaunch here.  Our infrastructure is already monitored somewhere?
> Or do we stick to having mail received by individual maintainers?

Nope, not monitored (for what I know... others please speak up).

We are all volunteers, so if somebody thinks it is essential to monitor
and share that responsibility, please step up.

Personally I'm fine when individuals keep/take the lead in this, as 'the
project / PSC' cannot keep all things together alone.

Regards,

Richard Duivenvoorde

From pigrecoinfinito at gmail.com  Fri May 17 10:48:58 2019
From: pigrecoinfinito at gmail.com (=?UTF-8?Q?Tot=C3=B2?=)
Date: Fri, 17 May 2019 10:48:58 -0700 (MST)
Subject: [QGIS-Developer] site donations without preview
Message-ID: <1558115338111-0.post@n6.nabble.com>

This site does not have a preview image and when you share it on social
media, nothing appears; it would be nice to see the QGIS logo.
THANK YOU

https://qgis.org/en/site/getinvolved/donations.html



-----
https://pigrecoinfinito.wordpress.com/
--
Sent from: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-f4099106.html

From noreply at qgis.org  Fri May 17 13:54:07 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 17 May 2019 20:54:07 -0000
Subject: [QGIS-Developer] Plugin [1714] SSAM approval notification.
Message-ID: <20190517205407.17843.97044@2c6504964296>


Plugin SSAM approval by pcav.
The plugin version "[1714] SSAM 1.0.0" is now approved
Link: http://plugins.qgis.org/plugins/SSAM/

From enzedrailmaps at gmail.com  Fri May 17 15:29:02 2019
From: enzedrailmaps at gmail.com (Patrick Dunford)
Date: Sat, 18 May 2019 10:29:02 +1200
Subject: [QGIS-Developer] Recent rendering changes that might affect
 TimeManager
In-Reply-To: <CAFFV8FjeTjU-C0XXK=R4+2E55kmDYRbC_b8vfjoxZWs87bU_rg@mail.gmail.com>
References: <CAFFV8FjeTjU-C0XXK=R4+2E55kmDYRbC_b8vfjoxZWs87bU_rg@mail.gmail.com>
Message-ID: <59907835-2db5-401c-977b-b6bb91ea3afa@gmail.com>

Can I suggest that you need to be more specific and not comparing to 2.8

Should be comparison with earlier releases of3 because 3 has been out 
for such a long time?

On 17/05/19 7:07 AM, Anita Graser wrote:
> Hi,
>
> Users of TimeManager are reporting rendering issues which affect 3.4 
> and 3.6 but didn't appear in QGIS 2.18:
>
> https://github.com/anitagraser/TimeManager/issues/290
> https://github.com/anitagraser/TimeManager/issues/291
>
> I'd appreciate any pointers to potentially relevant changes and 
> recommendations on how to handle them.
>
> Regards,
> Anita
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190518/d0dc2433/attachment.html>

From admin at base.nz  Fri May 17 19:28:50 2019
From: admin at base.nz (Joshua)
Date: Sat, 18 May 2019 14:28:50 +1200
Subject: [QGIS-Developer] Request for a Github Webhook
Message-ID: <c7e14854-9824-ca0c-c236-cd17cc563b33@base.nz>

Hi,

I started an unofficial QGIS Discord server and would like one of our 
channels to have a live feed of Github commits. A webhook would have to 
be set up by a QGIS github admin. Is this possible?

I can provide the Discord webhook in a direct email or Slack DM to the 
admin who will need it.

The discord server is at: https://discord.gg/9eA7P6U

Regards,

Joshua

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190518/254365ec/attachment.html>

From luipir at gmail.com  Sat May 18 01:26:12 2019
From: luipir at gmail.com (Luigi Pirelli)
Date: Sat, 18 May 2019 10:26:12 +0200
Subject: [QGIS-Developer] Recent rendering changes that might affect
	TimeManager
In-Reply-To: <59907835-2db5-401c-977b-b6bb91ea3afa@gmail.com>
References: <CAFFV8FjeTjU-C0XXK=R4+2E55kmDYRbC_b8vfjoxZWs87bU_rg@mail.gmail.com>
 <59907835-2db5-401c-977b-b6bb91ea3afa@gmail.com>
Message-ID: <CAFO80_r60Xi96=Xv2SvZY1sn6Hz3GpEtKJCwB-BbOmoSNgPB9w@mail.gmail.com>

Hi Patrick,

I suppose Anita refers to 2.18 to point out a possible regression in a
specific use case.

Luigi Pirelli

**************************************************************************************************
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
*
https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
* Hire me: http://goo.gl/BYRQKg
**************************************************************************************************


On Sat, 18 May 2019 at 00:29, Patrick Dunford <enzedrailmaps at gmail.com>
wrote:

> Can I suggest that you need to be more specific and not comparing to 2.8
>
> Should be comparison with earlier releases of3 because 3 has been out for
> such a long time?
> On 17/05/19 7:07 AM, Anita Graser wrote:
>
> Hi,
>
> Users of TimeManager are reporting rendering issues which affect 3.4 and
> 3.6 but didn't appear in QGIS 2.18:
>
> https://github.com/anitagraser/TimeManager/issues/290
> https://github.com/anitagraser/TimeManager/issues/291
>
> I'd appreciate any pointers to potentially relevant changes and
> recommendations on how to handle them.
>
> Regards,
> Anita
>
>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190518/3cde5674/attachment.html>

From anitagraser at gmx.at  Sat May 18 01:37:28 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 18 May 2019 10:37:28 +0200
Subject: [QGIS-Developer] Recent rendering changes that might affect
	TimeManager
In-Reply-To: <59907835-2db5-401c-977b-b6bb91ea3afa@gmail.com>
References: <CAFFV8FjeTjU-C0XXK=R4+2E55kmDYRbC_b8vfjoxZWs87bU_rg@mail.gmail.com>
 <59907835-2db5-401c-977b-b6bb91ea3afa@gmail.com>
Message-ID: <CAFFV8FhKc0JpfG6soFhO41m7D5EUV7gy9JxqhRL7=ZdMCqhE=g@mail.gmail.com>

On Sat, May 18, 2019 at 12:29 AM Patrick Dunford <enzedrailmaps at gmail.com>
wrote:

> Can I suggest that you need to be more specific and not comparing to 2.8
>

Thank you for the feedback Patrick!

I assume, the question can be simplified:

TimeManager changes the SubsetString of some layers in a project. Is there
a way to avoid that other layers (e.g. XYZ or WMS layers that are not
managed by TimeManager) are reloaded every time the SusetString of
TimeManager layers is changed?

Regards,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190518/4a76cf7a/attachment.html>

From noreply at qgis.org  Sat May 18 03:07:31 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 18 May 2019 10:07:31 -0000
Subject: [QGIS-Developer] Plugin [1709] Geoprivacy approval notification.
Message-ID: <20190518100731.17843.74814@2c6504964296>


Plugin Geoprivacy approval by pcav.
The plugin version "[1709] Geoprivacy 1.0.2" is now approved
Link: http://plugins.qgis.org/plugins/GeoPriv/

From cavallini at faunalia.it  Sat May 18 03:51:19 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 18 May 2019 12:51:19 +0200
Subject: [QGIS-Developer] Should we create a list for admin sys
 discussions and infrastructure monitoring?
In-Reply-To: <b0d0bb9e-1de9-7d4e-df06-aa12fcbc234f@duif.net>
References: <CABgOYCdd81UBG27hP8QpgXuGrxO34fpmTtAn95xNNar-3PrJfA@mail.gmail.com>
 <CABgOYCcXOnVA=GrVxKOzffg5UHPksmRbniboKj9SSw_j43HabA@mail.gmail.com>
 <b0d0bb9e-1de9-7d4e-df06-aa12fcbc234f@duif.net>
Message-ID: <80db1bbc-9679-bad6-59b6-9001e16695ea@faunalia.it>

Hi all,

On 17/05/19 19:41, Richard Duivenvoorde wrote:
> On 17/05/2019 17.54, Régis Haubourg wrote:
>> Hi all,
>> A gentle relaunch here.  Our infrastructure is already monitored somewhere?
>> Or do we stick to having mail received by individual maintainers?
> 
> Nope, not monitored (for what I know... others please speak up).
> 
> We are all volunteers, so if somebody thinks it is essential to monitor
> and share that responsibility, please step up.
> 
> Personally I'm fine when individuals keep/take the lead in this, as 'the
> project / PSC' cannot keep all things together alone.

sorry Régis for not replying sooner. I think yet another mailing list
will be difficult to follow. I believe the optimal solution would be for
one to three people taking care of this, and report to the community or
the PSC when appropriate or necessary.
Thanks for reminding!
-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From rdmailings at duif.net  Sat May 18 04:20:28 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 18 May 2019 13:20:28 +0200
Subject: [QGIS-Developer] Request for a Github Webhook
In-Reply-To: <c7e14854-9824-ca0c-c236-cd17cc563b33@base.nz>
References: <c7e14854-9824-ca0c-c236-cd17cc563b33@base.nz>
Message-ID: <e593b448-cae5-1c84-27c7-9c2b81e21aa6@duif.net>

On 18/05/2019 04.28, Joshua wrote:
> Hi,
> 
> I started an unofficial QGIS Discord server and would like one of our
> channels to have a live feed of Github commits. A webhook would have to
> be set up by a QGIS github admin. Is this possible?
> 
> I can provide the Discord webhook in a direct email or Slack DM to the
> admin who will need it.
> 
> The discord server is at: https://discord.gg/9eA7P6U

Hi Joshua,

You can sent me the url (richard at qgis.org), but maybe we first have to
discuss here a little what would be the benefit (for us as QGIS community).

I'm not familiar with Discord, but Wikipedia tells me:
"Discord is a proprietary freeware VoIP application and digital
distribution platform designed for video gaming communities..."

I like the idea of non devs having some insight about what is going on
(though we do have github itself, and gitter [1]), and which makes me
wonder how many communication channels we want to serve), and if it
would not be more appropriate to use some FOSS tool for this?

Can you tell us a little more about your plans?

Regards,

Richard Duivenvoorde

[0] https://en.wikipedia.org/wiki/Discord_(software)
[1] https://gitter.im/qgis/QGIS


From matthias at opengis.ch  Sun May 19 02:09:56 2019
From: matthias at opengis.ch (Matthias Kuhn)
Date: Sun, 19 May 2019 11:09:56 +0200
Subject: [QGIS-Developer] Should we create a list for admin sys
 discussions and infrastructure monitoring?
In-Reply-To: <CABgOYCcXOnVA=GrVxKOzffg5UHPksmRbniboKj9SSw_j43HabA@mail.gmail.com>
References: <CABgOYCdd81UBG27hP8QpgXuGrxO34fpmTtAn95xNNar-3PrJfA@mail.gmail.com>
 <CABgOYCcXOnVA=GrVxKOzffg5UHPksmRbniboKj9SSw_j43HabA@mail.gmail.com>
Message-ID: <cb17a5c9-9023-d8e9-37c8-3a9de9f9b612@opengis.ch>

Hi Régis,

I like the idea. It's an easy solution to have an archive of past 
notifications and discussions on particular events.

The main risk is, that the "responsibilities" of different lists is no 
longer clear and cross list threads are started. I don't know what's 
best, but it could even be "read only", so that only the check results 
are posted but any discussion shall be triggered on other channels.

If someone is able to setup a dashboard with advanced functionality, 
filtering etc. that would of course be even nicer, but initial effort is 
higher and maintenance effort will be higher too, so it's a question if 
someone is willing to take on that job.

Best regards

Matthias


On 5/17/19 5:54 PM, Régis Haubourg wrote:
> Hi all,
> A gentle relaunch here.  Our infrastructure is already monitored 
> somewhere?
> Or do we stick to having mail received by individual maintainers?
> Best regards
> Régis
>
> Le ven. 10 mai 2019 à 15:47, Régis Haubourg <regis.haubourg at gmail.com 
> <mailto:regis.haubourg at gmail.com>> a écrit :
>
>     Hi all,
>     at Oslandia we are currently pushing the OGC compliance test
>     suite,  the performance test suite and some demo stuff QWC2 on
>     qgis officiel servers.
>     We need to monitor those tools that produce daily reports and send
>     mails in case of failure of the tools
>
>     We don't want to flood the developper's mailing list with such
>     messages, so we are wondering what would be the best place to send
>     those notifications?
>
>     For the particular case of the OGC compliance test, we also now
>     have messages in case of regressions. Those messages should are
>     not wired with Travis PR workflow, so we need to raise the
>     information probably on the developper mailing list.
>
>     Is there anything already set up somewhere we are not aware of?
>
>     I think centralizing notification and having a dashbooard to
>     monitot the status of all the infrastructure would be nice.
>
>     Thanks for your hints!
>
>     Best regards
>     Régis
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190519/e57852f7/attachment.html>

From idan at miara.com  Sun May 19 02:23:21 2019
From: idan at miara.com (Idan Miara)
Date: Sun, 19 May 2019 12:23:21 +0300
Subject: [QGIS-Developer] import PyQt5.QtCore failed (from OSGeo4W
	python)
In-Reply-To: <CAEDrt380hFM79j4YqE5iHSc0aLCRCbr++MOpAu+YTdJpREUp5w@mail.gmail.com>
References: <CAEDrt380hFM79j4YqE5iHSc0aLCRCbr++MOpAu+YTdJpREUp5w@mail.gmail.com>
Message-ID: <CAEDrt3-G1kM2CqWj8Xx2N0UzmdDt+WsPktjXdfxvyJYnX0m2tA@mail.gmail.com>

Hi all,

Thanks for helping me to figure this out.
I found the missing package - sip-qt5.
More specifically sip.pyd from that package - if this file is missing then
"import PyQt5.QtCore" will fail.
Thus, I think the package pyqt5 should be dependent on sip-qt5.

Idan.

On Mon, 4 Mar 2019 at 16:45, Idan Miara <idan at miara.com> wrote:

> Hi,
>
> I've used the OSGeo4W setup to install PyQt5 and then ran:
> import PyQt5.QtCore
> from a python shell (OSGeo4W.bat with qt5_env, py3_env inside)
> I'm getting the following error:
>
> D:\OSGeo4W64>python
> Python 3.7.0 (v3.7.0:1bf9cc5093, Jun 27 2018, 04:59:51) [MSC v.1914 64 bit
> (AMD64)] on win32
> Type "help", "copyright", "credits" or "license" for more information.
> >>> import PyQt5.QtCore
> Traceback (most recent call last):
>   File "<stdin>", line 1, in <module>
> SystemError: initialization of QtCore failed without raising an exception
> >>>
>
> Running the same command in a QGIS python shell works fine (same batch
> file)
> Please advise.
>
> Kind regards,
> Idan
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190519/2b93f3b6/attachment.html>

From noreply at qgis.org  Sun May 19 05:58:26 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sun, 19 May 2019 12:58:26 -0000
Subject: [QGIS-Developer] Plugin [1456] EO Time Series Viewer approval
	notification.
Message-ID: <20190519125826.17840.41094@2c6504964296>


Plugin EO Time Series Viewer approval by pcav.
The plugin version "[1456] EO Time Series Viewer 1.0.20190519T1418.master" is now approved
Link: http://plugins.qgis.org/plugins/timeseriesviewerplugin/

From anitagraser at gmx.at  Sun May 19 08:20:43 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Sun, 19 May 2019 17:20:43 +0200
Subject: [QGIS-Developer] Expressions with aggregate in PyQGIS
Message-ID: <CAFFV8Fjtiw0sdDuRAQAkWj4AGpf3rvaTwGv5LMKZaBH9+2vAUw@mail.gmail.com>

Hi,

I'd like to add an example of an aggregate expression to my recent PyQGIS
101 tutorial on expressions [0]. I got expressions for individual features
working but cannot figure out how to set the context for aggregate
expressions correctly.

As far as I can tell, the PyQGIS Cookbook doesn't contain any information
on this either [1].

I'd appreciate any examples!

Regards,
Anita

[0]
https://anitagraser.com/pyqgis-101-introduction-to-qgis-python-programming-for-non-programmers/pyqgis-101-using-expressions-to-compute-new-field-values/
[1]
https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/expressions.html#evaluating-expressions
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190519/dceae227/attachment.html>

From nyall.dawson at gmail.com  Sun May 19 17:37:06 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 20 May 2019 10:37:06 +1000
Subject: [QGIS-Developer] Expressions with aggregate in PyQGIS
In-Reply-To: <CAFFV8Fjtiw0sdDuRAQAkWj4AGpf3rvaTwGv5LMKZaBH9+2vAUw@mail.gmail.com>
References: <CAFFV8Fjtiw0sdDuRAQAkWj4AGpf3rvaTwGv5LMKZaBH9+2vAUw@mail.gmail.com>
Message-ID: <CAB28AshmTb0-GU5wmdimdy9BGDRSWsWi64DdFqFchL13dF52hQ@mail.gmail.com>

On Mon, 20 May 2019 at 01:21, Anita Graser <anitagraser at gmx.at> wrote:
>
> Hi,
>
> I'd like to add an example of an aggregate expression to my recent PyQGIS 101 tutorial on expressions [0]. I got expressions for individual features working but cannot figure out how to set the context for aggregate expressions correctly.
>
> As far as I can tell, the PyQGIS Cookbook doesn't contain any information on this either [1].

You aren't correctly constructing your expression context:

context = QgsExpressionContext()
scope = QgsExpressionContextScope()
context.appendScope(scope)

This is effectively doing nothing -- you're creating a context, but
not putting anything in that context.

What you need to do is populate the context with relevant scopes,
depending on what's available at the time you're evaluating the
expression. You get "prebuilt" scopes by using the methods from
QgsExpressionContextUtils. E.g.

context = QgsExpressionContext()
context.append(QgsExpressionContextUtils.globalScope())
context.append(QgsExpressionContextUtils.projectScope(QgsProject.instance()))

That's effectively the **minimum** you'd ever populate a context using
-- every expression evaluated anywhere should have access to global
and project information.

But usually, you'd also want to be adding a map layer scope:

context.append(QgsExpressionContextUtils.layerScope( my_layer ))

This is what's missing from your examples, and it's required for
calculation of aggregate based expressions (and other expressions,
e.g. those which use field references from the layer).

This global/project/layer scope is used so often there's even a shortcut for it:

context=QgsExpressionContext()
context.appendScopes(
QgsExpressionContextUtils.globalProjectLayerScopes( my_layer ) )

( this expands out to the same as adding the global, project, layer
scopes individually by hand)

***IMPORTANT***

Keep in mind the order of scopes when you're adding them. You always
want to go from "most generic" to "most specific". I.e., you want
global variables to be overridden by project variables, to be
overridden by layer variables (and not the opposite).

A documentation update covering this would be most welcome ;)

Nyall





>
> I'd appreciate any examples!
>
> Regards,
> Anita
>
> [0] https://anitagraser.com/pyqgis-101-introduction-to-qgis-python-programming-for-non-programmers/pyqgis-101-using-expressions-to-compute-new-field-values/
> [1] https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/expressions.html#evaluating-expressions
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nirvn.asia at gmail.com  Sun May 19 17:44:24 2019
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Mon, 20 May 2019 07:44:24 +0700
Subject: [QGIS-Developer] Expressions with aggregate in PyQGIS
In-Reply-To: <CAB28AshmTb0-GU5wmdimdy9BGDRSWsWi64DdFqFchL13dF52hQ@mail.gmail.com>
References: <CAFFV8Fjtiw0sdDuRAQAkWj4AGpf3rvaTwGv5LMKZaBH9+2vAUw@mail.gmail.com>
 <CAB28AshmTb0-GU5wmdimdy9BGDRSWsWi64DdFqFchL13dF52hQ@mail.gmail.com>
Message-ID: <CAC_qv=qxz9K3Y=GeDJt84507jozFLVCDWdu67iV6f5DQHV7kEw@mail.gmail.com>

This is such an instructive reply it should be added to stackexchange
straight away! :)

On Mon, May 20, 2019, 07:37 Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Mon, 20 May 2019 at 01:21, Anita Graser <anitagraser at gmx.at> wrote:
> >
> > Hi,
> >
> > I'd like to add an example of an aggregate expression to my recent
> PyQGIS 101 tutorial on expressions [0]. I got expressions for individual
> features working but cannot figure out how to set the context for aggregate
> expressions correctly.
> >
> > As far as I can tell, the PyQGIS Cookbook doesn't contain any
> information on this either [1].
>
> You aren't correctly constructing your expression context:
>
> context = QgsExpressionContext()
> scope = QgsExpressionContextScope()
> context.appendScope(scope)
>
> This is effectively doing nothing -- you're creating a context, but
> not putting anything in that context.
>
> What you need to do is populate the context with relevant scopes,
> depending on what's available at the time you're evaluating the
> expression. You get "prebuilt" scopes by using the methods from
> QgsExpressionContextUtils. E.g.
>
> context = QgsExpressionContext()
> context.append(QgsExpressionContextUtils.globalScope())
>
> context.append(QgsExpressionContextUtils.projectScope(QgsProject.instance()))
>
> That's effectively the **minimum** you'd ever populate a context using
> -- every expression evaluated anywhere should have access to global
> and project information.
>
> But usually, you'd also want to be adding a map layer scope:
>
> context.append(QgsExpressionContextUtils.layerScope( my_layer ))
>
> This is what's missing from your examples, and it's required for
> calculation of aggregate based expressions (and other expressions,
> e.g. those which use field references from the layer).
>
> This global/project/layer scope is used so often there's even a shortcut
> for it:
>
> context=QgsExpressionContext()
> context.appendScopes(
> QgsExpressionContextUtils.globalProjectLayerScopes( my_layer ) )
>
> ( this expands out to the same as adding the global, project, layer
> scopes individually by hand)
>
> ***IMPORTANT***
>
> Keep in mind the order of scopes when you're adding them. You always
> want to go from "most generic" to "most specific". I.e., you want
> global variables to be overridden by project variables, to be
> overridden by layer variables (and not the opposite).
>
> A documentation update covering this would be most welcome ;)
>
> Nyall
>
>
>
>
>
> >
> > I'd appreciate any examples!
> >
> > Regards,
> > Anita
> >
> > [0]
> https://anitagraser.com/pyqgis-101-introduction-to-qgis-python-programming-for-non-programmers/pyqgis-101-using-expressions-to-compute-new-field-values/
> > [1]
> https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/expressions.html#evaluating-expressions
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190520/40465507/attachment.html>

From nyall.dawson at gmail.com  Sun May 19 20:58:34 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 20 May 2019 13:58:34 +1000
Subject: [QGIS-Developer] Recent rendering changes that might affect
	TimeManager
In-Reply-To: <CAFFV8FhKc0JpfG6soFhO41m7D5EUV7gy9JxqhRL7=ZdMCqhE=g@mail.gmail.com>
References: <CAFFV8FjeTjU-C0XXK=R4+2E55kmDYRbC_b8vfjoxZWs87bU_rg@mail.gmail.com>
 <59907835-2db5-401c-977b-b6bb91ea3afa@gmail.com>
 <CAFFV8FhKc0JpfG6soFhO41m7D5EUV7gy9JxqhRL7=ZdMCqhE=g@mail.gmail.com>
Message-ID: <CAB28AshHDaVbLF6Jm8XJfxHW5BUYrL_fVuxsXO4N+mQnR1o0Yw@mail.gmail.com>

On Sat, 18 May 2019 at 18:37, Anita Graser <anitagraser at gmx.at> wrote:
>
>
>
> On Sat, May 18, 2019 at 12:29 AM Patrick Dunford <enzedrailmaps at gmail.com> wrote:
>>
>> Can I suggest that you need to be more specific and not comparing to 2.8
>
>
> Thank you for the feedback Patrick!
>
> I assume, the question can be simplified:
>
> TimeManager changes the SubsetString of some layers in a project. Is there a way to avoid that other layers (e.g. XYZ or WMS layers that are not managed by TimeManager) are reloaded every time the SusetString of TimeManager layers is changed?

Thanks for the report -- fixed in https://github.com/qgis/QGIS/pull/10028.

Nyall

>
> Regards,
> Anita
>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From anitagraser at gmx.at  Sun May 19 23:46:52 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Mon, 20 May 2019 08:46:52 +0200
Subject: [QGIS-Developer] Recent rendering changes that might affect
	TimeManager
In-Reply-To: <CAB28AshHDaVbLF6Jm8XJfxHW5BUYrL_fVuxsXO4N+mQnR1o0Yw@mail.gmail.com>
References: <CAFFV8FjeTjU-C0XXK=R4+2E55kmDYRbC_b8vfjoxZWs87bU_rg@mail.gmail.com>
 <59907835-2db5-401c-977b-b6bb91ea3afa@gmail.com>
 <CAFFV8FhKc0JpfG6soFhO41m7D5EUV7gy9JxqhRL7=ZdMCqhE=g@mail.gmail.com>
 <CAB28AshHDaVbLF6Jm8XJfxHW5BUYrL_fVuxsXO4N+mQnR1o0Yw@mail.gmail.com>
Message-ID: <CAFFV8FhKyQWGBo__h74V4jbEq+wPpZOqDwp+YDeyqtETGiA12g@mail.gmail.com>

On Mon, May 20, 2019 at 5:58 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Sat, 18 May 2019 at 18:37, Anita Graser <anitagraser at gmx.at> wrote:
> > TimeManager changes the SubsetString of some layers in a project. Is
> there a way to avoid that other layers (e.g. XYZ or WMS layers that are not
> managed by TimeManager) are reloaded every time the SusetString of
> TimeManager layers is changed?
>
> Thanks for the report -- fixed in https://github.com/qgis/QGIS/pull/10028.
>

Thank you Nyall for fixing this!

Regards,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190520/0d26f903/attachment.html>

From JMPerez at telespazio.es  Sun May 19 23:47:18 2019
From: JMPerez at telespazio.es (Juan Manuel Perez Delgado)
Date: Mon, 20 May 2019 06:47:18 +0000
Subject: [QGIS-Developer] QSettings(): /Projections/ ... defaultBehavior or
	defaultBehaviour?
Message-ID: <4d45a3ea63604d4e986d58ea1eeb1eaf@GRANDE.aurensis.com>

As of QGIS 2.18, one could ask in python the default behavior for handling layers without specific CRS:

   QSettings().value('/Projections/defaultBehaviour')

That would return 'prompt', 'useProject',...



As of Qgis 3.4, one should now ask not for 'defaultBehaviour' but for 'defaultBehavior'.



I only wanted to know if this change is going to be kept, or it was unintended and it is going to be reverted.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190520/7b2243e4/attachment-0001.html>

From anitagraser at gmx.at  Mon May 20 00:01:08 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Mon, 20 May 2019 09:01:08 +0200
Subject: [QGIS-Developer] Expressions with aggregate in PyQGIS
In-Reply-To: <CAB28AshmTb0-GU5wmdimdy9BGDRSWsWi64DdFqFchL13dF52hQ@mail.gmail.com>
References: <CAFFV8Fjtiw0sdDuRAQAkWj4AGpf3rvaTwGv5LMKZaBH9+2vAUw@mail.gmail.com>
 <CAB28AshmTb0-GU5wmdimdy9BGDRSWsWi64DdFqFchL13dF52hQ@mail.gmail.com>
Message-ID: <CAFFV8FiG-XRt2-TttL=XdE46BMOY3DkiEJ1RVPPg54ZasiRz1A@mail.gmail.com>

On Mon, May 20, 2019 at 2:37 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Mon, 20 May 2019 at 01:21, Anita Graser <anitagraser at gmx.at> wrote:
> > I'd like to add an example of an aggregate expression to my recent
> PyQGIS 101 tutorial on expressions [0]. I got expressions for individual
> features working but cannot figure out how to set the context for aggregate
> expressions correctly.
> > As far as I can tell, the PyQGIS Cookbook doesn't contain any
> information on this either [1].
>
> You aren't correctly constructing your expression context:
> ...

A documentation update covering this would be most welcome ;)


Thank you Nyall, that's really helpful! The expression system is awesome
and powerful but I don't think anyone could guess how to use it correctly
in PyQGIS.

I'll write it up into a tutorial and the documentation team is always
welcome to reuse the content in the official documentation.

Regards,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190520/2a54befa/attachment.html>

From matteo.ghetta at gmail.com  Mon May 20 00:41:36 2019
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 20 May 2019 09:41:36 +0200
Subject: [QGIS-Developer] Expressions with aggregate in PyQGIS
In-Reply-To: <CAFFV8FiG-XRt2-TttL=XdE46BMOY3DkiEJ1RVPPg54ZasiRz1A@mail.gmail.com>
References: <CAFFV8Fjtiw0sdDuRAQAkWj4AGpf3rvaTwGv5LMKZaBH9+2vAUw@mail.gmail.com>
 <CAB28AshmTb0-GU5wmdimdy9BGDRSWsWi64DdFqFchL13dF52hQ@mail.gmail.com>
 <CAFFV8FiG-XRt2-TttL=XdE46BMOY3DkiEJ1RVPPg54ZasiRz1A@mail.gmail.com>
Message-ID: <074b390e-7dfc-5acf-8856-4a4cbe917951@gmail.com>

Hi Anita,

you hit a good missing topic in the pyqgis documentation. I see very
often people asking for support on Expressions and their use in pyqgis.

What do you think to add the example also in the pyqgis documentation
directly? Since the last meeting we also have the test framework ready
to go [0] that helps a lot to have strong code snippet.

Having all the pieces in one box is the best solution IMHO

Cheers and thanks

Matteo

[0]
https://docs.qgis.org/testing/en/docs/documentation_guidelines/cookbook_guidelines.html

On 5/20/19 9:01 AM, Anita Graser wrote:
> 
> 
> On Mon, May 20, 2019 at 2:37 AM Nyall Dawson <nyall.dawson at gmail.com
> <mailto:nyall.dawson at gmail.com>> wrote:
> 
>     On Mon, 20 May 2019 at 01:21, Anita Graser <anitagraser at gmx.at
>     <mailto:anitagraser at gmx.at>> wrote:
>     > I'd like to add an example of an aggregate expression to my recent
>     PyQGIS 101 tutorial on expressions [0]. I got expressions for
>     individual features working but cannot figure out how to set the
>     context for aggregate expressions correctly.
>     > As far as I can tell, the PyQGIS Cookbook doesn't contain any
>     information on this either [1].
> 
>     You aren't correctly constructing your expression context:
>     ...  
> 
>     A documentation update covering this would be most welcome ;)
> 
>  
> Thank you Nyall, that's really helpful! The expression system is awesome
> and powerful but I don't think anyone could guess how to use it
> correctly in PyQGIS.
> 
> I'll write it up into a tutorial and the documentation team is always
> welcome to reuse the content in the official documentation. 
> 
> Regards,
> Anita
> 
>  
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From noreply at qgis.org  Mon May 20 01:03:28 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 20 May 2019 08:03:28 -0000
Subject: [QGIS-Developer] Plugin [1719] Bezier Editing approval notification.
Message-ID: <20190520080328.21626.95050@2c6504964296>


Plugin Bezier Editing approval by pcav.
The plugin version "[1719] Bezier Editing 1.0.1" is now approved
Link: http://plugins.qgis.org/plugins/BezierEditing/

From anitagraser at gmx.at  Mon May 20 01:08:08 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Mon, 20 May 2019 10:08:08 +0200
Subject: [QGIS-Developer] Expressions with aggregate in PyQGIS
In-Reply-To: <074b390e-7dfc-5acf-8856-4a4cbe917951@gmail.com>
References: <CAFFV8Fjtiw0sdDuRAQAkWj4AGpf3rvaTwGv5LMKZaBH9+2vAUw@mail.gmail.com>
 <CAB28AshmTb0-GU5wmdimdy9BGDRSWsWi64DdFqFchL13dF52hQ@mail.gmail.com>
 <CAFFV8FiG-XRt2-TttL=XdE46BMOY3DkiEJ1RVPPg54ZasiRz1A@mail.gmail.com>
 <074b390e-7dfc-5acf-8856-4a4cbe917951@gmail.com>
Message-ID: <CAFFV8FjNZG+ggax_Px5P8QkZm3SCDHB_O4HxmhLs0bOU7Lh+gg@mail.gmail.com>

On Mon, May 20, 2019 at 9:41 AM matteo <matteo.ghetta at gmail.com> wrote:

> Hi Anita,
>
> you hit a good missing topic in the pyqgis documentation. I see very
> often people asking for support on Expressions and their use in pyqgis.
>
> What do you think to add the example also in the pyqgis documentation
> directly? Since the last meeting we also have the test framework ready
> to go [0] that helps a lot to have strong code snippet.
>
> Having all the pieces in one box is the best solution IMHO
>

I agree. I'm only hesitant since I don't have a doc writing setup on my
Windows machine yet and the instructions seem to be Linux only.

I'll see what I can do. Otherwise, I'll get back to you with the content
and ask for help integrating it.

Regards,
Anita




>
> Cheers and thanks
>
> Matteo
>
> [0]
>
> https://docs.qgis.org/testing/en/docs/documentation_guidelines/cookbook_guidelines.html
>
> On 5/20/19 9:01 AM, Anita Graser wrote:
> >
> >
> > On Mon, May 20, 2019 at 2:37 AM Nyall Dawson <nyall.dawson at gmail.com
> > <mailto:nyall.dawson at gmail.com>> wrote:
> >
> >     On Mon, 20 May 2019 at 01:21, Anita Graser <anitagraser at gmx.at
> >     <mailto:anitagraser at gmx.at>> wrote:
> >     > I'd like to add an example of an aggregate expression to my recent
> >     PyQGIS 101 tutorial on expressions [0]. I got expressions for
> >     individual features working but cannot figure out how to set the
> >     context for aggregate expressions correctly.
> >     > As far as I can tell, the PyQGIS Cookbook doesn't contain any
> >     information on this either [1].
> >
> >     You aren't correctly constructing your expression context:
> >     ...
> >
> >     A documentation update covering this would be most welcome ;)
> >
> >
> > Thank you Nyall, that's really helpful! The expression system is awesome
> > and powerful but I don't think anyone could guess how to use it
> > correctly in PyQGIS.
> >
> > I'll write it up into a tutorial and the documentation team is always
> > welcome to reuse the content in the official documentation.
> >
> > Regards,
> > Anita
> >
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190520/80ede45b/attachment.html>

From matteo.ghetta at gmail.com  Mon May 20 01:47:04 2019
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 20 May 2019 10:47:04 +0200
Subject: [QGIS-Developer] Expressions with aggregate in PyQGIS
In-Reply-To: <CAFFV8FjNZG+ggax_Px5P8QkZm3SCDHB_O4HxmhLs0bOU7Lh+gg@mail.gmail.com>
References: <CAFFV8Fjtiw0sdDuRAQAkWj4AGpf3rvaTwGv5LMKZaBH9+2vAUw@mail.gmail.com>
 <CAB28AshmTb0-GU5wmdimdy9BGDRSWsWi64DdFqFchL13dF52hQ@mail.gmail.com>
 <CAFFV8FiG-XRt2-TttL=XdE46BMOY3DkiEJ1RVPPg54ZasiRz1A@mail.gmail.com>
 <074b390e-7dfc-5acf-8856-4a4cbe917951@gmail.com>
 <CAFFV8FjNZG+ggax_Px5P8QkZm3SCDHB_O4HxmhLs0bOU7Lh+gg@mail.gmail.com>
Message-ID: <0dfde1e2-fe85-c564-015a-b32ac51f29be@gmail.com>


> I agree. I'm only hesitant since I don't have a doc writing setup on my
> Windows machine yet and the instructions seem to be Linux only. 

actually there are linux only instructions only if you want to run test
locally. Once you make a pull request, travis runs also for code snippets

> I'll see what I can do. Otherwise, I'll get back to you with the content
> and ask for help integrating it.

yep!

Cheers

Matteo

From noreply at qgis.org  Mon May 20 03:17:29 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 20 May 2019 10:17:29 -0000
Subject: [QGIS-Developer] Plugin [1350] Mascaret approval notification.
Message-ID: <20190520101729.17837.96836@2c6504964296>


Plugin Mascaret approval by pcav.
The plugin version "[1350] Mascaret 0.3.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/Mascaret/

From rldhont at gmail.com  Mon May 20 05:02:49 2019
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Mon, 20 May 2019 14:02:49 +0200
Subject: [QGIS-Developer] FeatureSink,
	Processing and Geopackage : define layer primary key
Message-ID: <69e7b11a-1aa6-361b-3960-e981eb8c2943@gmail.com>

Hi devs,

I'd like to save data in a Geopackage by defining the layername, the 
geometry column and the primary key field with a processing parameter 
feature sink.

I have found in the processing tests, that a feature sink value can be : 
ogr:dbname='/me/a.gpkg' table="d" (geom) sql=
Is it possible to define the primary key field ?

Regards,
René-Luc

From rdmailings at duif.net  Mon May 20 08:16:47 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 20 May 2019 17:16:47 +0200
Subject: [QGIS-Developer] Fedora 28 QGIS install: nothing provides
	gdal-python-tools
Message-ID: <3c0f36dc885a330e312fae34db0bbe17@duif.net>

Hi,

Trying to install QGIS here on a Fedora 28 machine:

# dnf install qgis python3-qgis qgis-grass
Last metadata expiration check: 0:00:00 ago on 2019-05-20T17:13:00 CEST.
Error:
  Problem: conflicting requests
   - nothing provides gdal-python-tools needed by 
python3-qgis-3.4.8-1.fc28.x86_64

Same worked some weeks ago?
Is the Fedora package broken?

Trying instructions from:
https://www.qgis.org/en/site/forusers/alldownloads.html#fedora

Regards,

Richard Duivenvoorde

From daniele at vigano.me  Mon May 20 08:26:37 2019
From: daniele at vigano.me (=?UTF-8?Q?Daniele_Vigan=C3=B2?=)
Date: Mon, 20 May 2019 17:26:37 +0200
Subject: [QGIS-Developer] Fedora 28 QGIS install: nothing provides
	gdal-python-tools
In-Reply-To: <3c0f36dc885a330e312fae34db0bbe17@duif.net>
References: <3c0f36dc885a330e312fae34db0bbe17@duif.net>
Message-ID: <CACUx=TkiVTWiyhgQr4VnNPx=Ra_+x7FOf2_Jy1HDKUCFUhzdPQ@mail.gmail.com>

Hi Richard,

this issue has been caused by a change that I made recently to fix
Processing on Fedora 30. Unfortunately this change broke older version
since Fedora changed recently the name of a GDAL related package.

I just submitted a build for either stable and LTR with this fix and I will
open a PR asap. Please also note the Fedora 28 will reach EoL by end of May.

Cheers,
Daniele

On Mon, May 20, 2019 at 5:16 PM Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> Hi,
>
> Trying to install QGIS here on a Fedora 28 machine:
>
> # dnf install qgis python3-qgis qgis-grass
> Last metadata expiration check: 0:00:00 ago on 2019-05-20T17:13:00 CEST.
> Error:
>   Problem: conflicting requests
>    - nothing provides gdal-python-tools needed by
> python3-qgis-3.4.8-1.fc28.x86_64
>
> Same worked some weeks ago?
> Is the Fedora package broken?
>
> Trying instructions from:
> https://www.qgis.org/en/site/forusers/alldownloads.html#fedora
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
*Daniele Viganò*
http://daniele.vigano.me
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190520/c1eaacc6/attachment.html>

From rldhont at gmail.com  Mon May 20 08:27:53 2019
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Mon, 20 May 2019 17:27:53 +0200
Subject: [QGIS-Developer] Can I backport bugfix with UI updates and
 fixing QGIS Server regression
In-Reply-To: <ea516677-edbd-8f30-d079-035bc5426878@gmail.com>
References: <465d79a5-fd13-ee48-7035-fa64eb48baef@gmail.com>
 <e4e717d0-807e-8e1f-8b27-ce0114d047a8@faunalia.it>
 <d059fdfc-9538-8b32-12f9-670ef8e1ad8b@gmail.com>
 <270e5218-d1de-f678-3321-2787d062cb3a@gmail.com>
 <b97b3501-1b1b-dac6-a914-2fe5623c28c6@gmail.com>
 <CAB28Asg9fZYieOP-fyPd55v_fsXsx7ZYLp4da24pggFd1HnhBQ@mail.gmail.com>
 <CABgOYCf+g=9Z6exgzwWDHj+dEbK2u96L7y1TJZ49UM808Utpvg@mail.gmail.com>
 <aecd7de9-34ab-b10b-ff4e-6de934d1fe75@faunalia.it>
 <ea516677-edbd-8f30-d079-035bc5426878@gmail.com>
Message-ID: <968e975c-517a-8fdf-f398-99cb6af9f2ce@gmail.com>

Hi Devs,

I have removed the commit cherry-picked from Nyall's pull-request that 
update the layout designer dialog.
So my Pull-request only contains changes for QGIS Server to fix the 
regression about printing selection.

I have introduced the capability to print selection in QGIS Server for 
version 3.4 LTR with the pull-request [Server] Reactivate the capability 
to print selection with Server 3.4 https://github.com/qgis/QGIS/pull/8320
This capability is available for image export and was tested and this 
pull-request fix inconsistent use of layout render context flags and add 
test to validate it.

I really hope this will be fix it version 3.4.9.

Regards,
René-Luc

Le 14/05/2019 à 10:00, René-Luc Dhont a écrit :
> Hi all,
>
> In the PR to fix the QGIS Server regression I only need to backport 1 
> commit on the 2 provided by Nyall to fix the issue: Layout export - 
> raster divided into tiles, edges evident in pdf/svg 
> https://issues.qgis.org/issues/19500 in the Pull request 
> [needs-docs][layouts] Add checkbox to disable raster tiling for 
> PDF/SVG exports https://github.com/qgis/QGIS/pull/9016
>
> The one I need is a fix: Fix inconsistent use of layout render context 
> flags 
> https://github.com/qgis/QGIS/pull/9692/commits/0954deaf97638519e9f4b3e28855e03a8a34f5c1
> This one concoenrs only render context flags for PDF and SVG output. 
> In the case of image output, the layout render context flags are well 
> set.
>
> So do you think, the Pull Request could be accepted, if I remove the 
> UI modifed part and only conserve the modification needed for server ?
>
> Regards,
> René-Luc
>
> Le 13/05/2019 à 08:04, Paolo Cavallini a écrit :
>> Hi all,
>>
>> On 12/05/19 09:41, Régis Haubourg wrote:
>>
>>> I'd be pleased to test things here but use cases are so numerous that I
>>> fail to see how to do this efficiently.
>>> I hope we'll one day be able to run those smoke tests as discussed 
>>> at La
>>> Coruna.
>> I was about suggesting doing community-wide testing (having a test
>> package would greatly help). Is it so difficult to identify and test
>> possible regression areas?
>> Cheers.
>


From noreply at qgis.org  Mon May 20 11:28:12 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 20 May 2019 18:28:12 -0000
Subject: [QGIS-Developer] Plugin [1709] Geoprivacy approval notification.
Message-ID: <20190520182812.11055.2149@2c6504964296>


Plugin Geoprivacy approval by pcav.
The plugin version "[1709] Geoprivacy 1.0.3" is now approved
Link: http://plugins.qgis.org/plugins/GeoPriv/

From anitagraser at gmx.at  Mon May 20 12:53:17 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Mon, 20 May 2019 21:53:17 +0200
Subject: [QGIS-Developer] Expressions with aggregate in PyQGIS
In-Reply-To: <CAFFV8FiG-XRt2-TttL=XdE46BMOY3DkiEJ1RVPPg54ZasiRz1A@mail.gmail.com>
References: <CAFFV8Fjtiw0sdDuRAQAkWj4AGpf3rvaTwGv5LMKZaBH9+2vAUw@mail.gmail.com>
 <CAB28AshmTb0-GU5wmdimdy9BGDRSWsWi64DdFqFchL13dF52hQ@mail.gmail.com>
 <CAFFV8FiG-XRt2-TttL=XdE46BMOY3DkiEJ1RVPPg54ZasiRz1A@mail.gmail.com>
Message-ID: <CAFFV8FimNmbj4toUzik04hV_0-Xt7wi+uLynUFdz-DPoS_97fg@mail.gmail.com>

Dear Nyall,

On Mon, May 20, 2019 at 9:01 AM Anita Graser <anitagraser at gmx.at> wrote:

> Thank you Nyall, that's really helpful! The expression system is awesome
> and powerful but I don't think anyone could guess how to use it correctly
> in PyQGIS.
> I'll write it up into a tutorial and the documentation team is always
> welcome to reuse the content in the official documentation.
>

The following code works for me. However, I'm uncertain if the
scope.setFeature approach below is how it's meant to be used. Is there
something I should change?

context = QgsExpressionContext()
scope = QgsExpressionContextUtils.globalProjectLayerScopes(vl)
context.appendScopes(scope)

expression1 = QgsExpression('Revenue/Employees')
expression2 = QgsExpression('sum(Revenue)')

vl.startEditing()

for f in vl.getFeatures():
    scope[-1].setFeature(f)
    f['Rev. per employee'] = expression1.evaluate(context)
    f['Sum'] = expression2.evaluate(context)
    vl.updateFeature(f)

vl.commitChanges()

Regards,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190520/1fd91f84/attachment.html>

From admin at base.nz  Mon May 20 13:01:21 2019
From: admin at base.nz (Joshua)
Date: Tue, 21 May 2019 08:01:21 +1200
Subject: [QGIS-Developer] Request for a Github Webhook
In-Reply-To: <e593b448-cae5-1c84-27c7-9c2b81e21aa6@duif.net>
References: <c7e14854-9824-ca0c-c236-cd17cc563b33@base.nz>
 <e593b448-cae5-1c84-27c7-9c2b81e21aa6@duif.net>
Message-ID: <065521e2-b7f5-c444-edd5-e199b4756b44@base.nz>

Hi Richard,

I sent a reply direct to your email a couple of days ago but it may have 
endned up in your spam folder. Sending it here again just in case.

/Here is what I sent along with the Discord webhook URL.../

I too believe in open source principles and have been helping my son 
contribute to Minetest (LGPL). There is a strong presence of Minetest 
contributers on Discord so I set up an account there. The devs did not 
want to make Discord an official communication HUB of Minetest, though 
they understood it's importance to the community and allowed a Github 
feed to be sent to there. There is an active presence of like minded 
folks on the Minetest Discord where users discuss modding of the game, 
ask for help from other members and share their works.

I then looked for a QGIS Discord server but couldn't find one. I decided 
to make one for other people who wanted the same thing. In just a couple 
of days since launching the server we now have 28 members /(now 35)/.

Discord currently has 130 million registered users and is growing. Many 
people would happily join a Discord QGIS server because they already use 
Discord and log in everyday. And many of these people would not join 
other QGIS communication sites because it would be another app they need 
to use or another website they need to log into each day.

My vision for this server is to have it function much the same way it 
does for Minetest. A place to hang out, ask questions, contribute and 
showcase work. Having a Github feed would allow members to keep 
appraised of the latest core development and perhaps inspire them to 
contribute by making their own pull requests. I believe this Discord 
server will have a net positive effect for QGIS.


Regards,

Joshua


On 18/05/19 11:20 PM, Richard Duivenvoorde wrote:
> On 18/05/2019 04.28, Joshua wrote:
>> Hi,
>>
>> I started an unofficial QGIS Discord server and would like one of our
>> channels to have a live feed of Github commits. A webhook would have to
>> be set up by a QGIS github admin. Is this possible?
>>
>> I can provide the Discord webhook in a direct email or Slack DM to the
>> admin who will need it.
>>
>> The discord server is at: https://discord.gg/9eA7P6U
> Hi Joshua,
>
> You can sent me the url (richard at qgis.org), but maybe we first have to
> discuss here a little what would be the benefit (for us as QGIS community).
>
> I'm not familiar with Discord, but Wikipedia tells me:
> "Discord is a proprietary freeware VoIP application and digital
> distribution platform designed for video gaming communities..."
>
> I like the idea of non devs having some insight about what is going on
> (though we do have github itself, and gitter [1]), and which makes me
> wonder how many communication channels we want to serve), and if it
> would not be more appropriate to use some FOSS tool for this?
>
> Can you tell us a little more about your plans?
>
> Regards,
>
> Richard Duivenvoorde
>
> [0] https://en.wikipedia.org/wiki/Discord_(software)
> [1] https://gitter.im/qgis/QGIS
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190521/ddfe4e52/attachment.html>

From daniele at vigano.me  Mon May 20 14:18:17 2019
From: daniele at vigano.me (=?UTF-8?Q?Daniele_Vigan=C3=B2?=)
Date: Mon, 20 May 2019 23:18:17 +0200
Subject: [QGIS-Developer] Fedora 28 QGIS install: nothing provides
	gdal-python-tools
In-Reply-To: <CACUx=TkiVTWiyhgQr4VnNPx=Ra_+x7FOf2_Jy1HDKUCFUhzdPQ@mail.gmail.com>
References: <3c0f36dc885a330e312fae34db0bbe17@duif.net>
 <CACUx=TkiVTWiyhgQr4VnNPx=Ra_+x7FOf2_Jy1HDKUCFUhzdPQ@mail.gmail.com>
Message-ID: <CACUx=TkcBLrqAmKN=YHgnNNAmo7VLxqrt16_miijQOFVSx85CA@mail.gmail.com>

Hi Richard,

qgis-3.4.8-2 and qgis-3.6.3-2 have been published on COPR. They should fix
the issue you have encountered on Fedora 28.

Cheers,
Daniele

-- 
*Daniele Viganò*
http://daniele.vigano.me
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190520/79d477c3/attachment.html>

From nyall.dawson at gmail.com  Mon May 20 15:15:23 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 21 May 2019 08:15:23 +1000
Subject: [QGIS-Developer] Expressions with aggregate in PyQGIS
In-Reply-To: <CAFFV8FimNmbj4toUzik04hV_0-Xt7wi+uLynUFdz-DPoS_97fg@mail.gmail.com>
References: <CAFFV8Fjtiw0sdDuRAQAkWj4AGpf3rvaTwGv5LMKZaBH9+2vAUw@mail.gmail.com>
 <CAB28AshmTb0-GU5wmdimdy9BGDRSWsWi64DdFqFchL13dF52hQ@mail.gmail.com>
 <CAFFV8FiG-XRt2-TttL=XdE46BMOY3DkiEJ1RVPPg54ZasiRz1A@mail.gmail.com>
 <CAFFV8FimNmbj4toUzik04hV_0-Xt7wi+uLynUFdz-DPoS_97fg@mail.gmail.com>
Message-ID: <CAB28AsiYW8htarxOU1X9J_Do7O1pHLKoR_bK7K8LCYZj8av8pg@mail.gmail.com>

On Tue, 21 May 2019 at 05:53, Anita Graser <anitagraser at gmx.at> wrote:
>
> Dear Nyall,
>
> for f in vl.getFeatures():
>     scope[-1].setFeature(f)

This works, but isn't very nice. Better to use

    context.setFeature(f)

(behind the scenes it's doing the same, but is more descriptive and
has some extra checks, e.g. starting with an empty context:
    context = QgsExpressionContext()
    context.setFeature(f)
will automatically add an initial scope in which to set the feature)

> scope = QgsExpressionContextUtils.globalProjectLayerScopes(vl)

Being pedantic, this should be "scopes = ...", since the call returns
a list of scopes.

Nyall

From nyall.dawson at gmail.com  Mon May 20 15:19:43 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 21 May 2019 08:19:43 +1000
Subject: [QGIS-Developer] FeatureSink,
 Processing and Geopackage : define layer primary key
In-Reply-To: <69e7b11a-1aa6-361b-3960-e981eb8c2943@gmail.com>
References: <69e7b11a-1aa6-361b-3960-e981eb8c2943@gmail.com>
Message-ID: <CAB28AsiBhNvvpqfc4jMKx90B9LuKxPx0WEbv87d1BUmZgd1UFw@mail.gmail.com>

On Mon, 20 May 2019 at 22:03, René-Luc Dhont <rldhont at gmail.com> wrote:
>
> Hi devs,
>
> I'd like to save data in a Geopackage by defining the layername, the
> geometry column and the primary key field with a processing parameter
> feature sink.
>
> I have found in the processing tests, that a feature sink value can be :
> ogr:dbname='/me/a.gpkg' table="d" (geom) sql=
> Is it possible to define the primary key field ?

Everything after "ogr:" is just a standard vector layer url -- looking
at QgsOgrProvider, I can't see any existing way to manually specify a
primary key, so that would need to be added first.

Nyall

From nyall.dawson at gmail.com  Mon May 20 15:20:54 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 21 May 2019 08:20:54 +1000
Subject: [QGIS-Developer] Can I backport bugfix with UI updates and
 fixing QGIS Server regression
In-Reply-To: <968e975c-517a-8fdf-f398-99cb6af9f2ce@gmail.com>
References: <465d79a5-fd13-ee48-7035-fa64eb48baef@gmail.com>
 <e4e717d0-807e-8e1f-8b27-ce0114d047a8@faunalia.it>
 <d059fdfc-9538-8b32-12f9-670ef8e1ad8b@gmail.com>
 <270e5218-d1de-f678-3321-2787d062cb3a@gmail.com>
 <b97b3501-1b1b-dac6-a914-2fe5623c28c6@gmail.com>
 <CAB28Asg9fZYieOP-fyPd55v_fsXsx7ZYLp4da24pggFd1HnhBQ@mail.gmail.com>
 <CABgOYCf+g=9Z6exgzwWDHj+dEbK2u96L7y1TJZ49UM808Utpvg@mail.gmail.com>
 <aecd7de9-34ab-b10b-ff4e-6de934d1fe75@faunalia.it>
 <ea516677-edbd-8f30-d079-035bc5426878@gmail.com>
 <968e975c-517a-8fdf-f398-99cb6af9f2ce@gmail.com>
Message-ID: <CAB28Asg-epQmVMeWh+_H4ih3DD3vK=L6X+yS0k7Z-ia7_X9EVg@mail.gmail.com>

On Tue, 21 May 2019 at 01:28, René-Luc Dhont <rldhont at gmail.com> wrote:
>
> Hi Devs,
>
> I have removed the commit cherry-picked from Nyall's pull-request that
> update the layout designer dialog.
> So my Pull-request only contains changes for QGIS Server to fix the
> regression about printing selection.
>
> I have introduced the capability to print selection in QGIS Server for
> version 3.4 LTR with the pull-request [Server] Reactivate the capability
> to print selection with Server 3.4 https://github.com/qgis/QGIS/pull/8320
> This capability is available for image export and was tested and this
> pull-request fix inconsistent use of layout render context flags and add
> test to validate it.
>
> I really hope this will be fix it version 3.4.9.

My concerns described in
https://github.com/qgis/QGIS/pull/9692/files#r272405690 still stand.

Nyall

From nyall.dawson at gmail.com  Mon May 20 15:21:55 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 21 May 2019 08:21:55 +1000
Subject: [QGIS-Developer] QSettings(): /Projections/ ... defaultBehavior
 or defaultBehaviour?
In-Reply-To: <4d45a3ea63604d4e986d58ea1eeb1eaf@GRANDE.aurensis.com>
References: <4d45a3ea63604d4e986d58ea1eeb1eaf@GRANDE.aurensis.com>
Message-ID: <CAB28Asjc55vr1rYTAnboFM8Sq6Q2msb86KB=Nyn8w7TjgKsR5g@mail.gmail.com>

On Mon, 20 May 2019 at 16:47, Juan Manuel Perez Delgado
<JMPerez at telespazio.es> wrote:
>
> As of Qgis 3.4, one should now ask not for 'defaultBehaviour' but for 'defaultBehavior'.
> I only wanted to know if this change is going to be kept, or it was unintended and it is going to be reverted.

This is intentional -- part of the changes made in 3.x was to
standardise all API spelling to use US English spelling variants. This
was done for consistency across the API, so that there's no variation
in spelling in different parts of the code.

Nyall

From nyall.dawson at gmail.com  Mon May 20 19:25:06 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 21 May 2019 12:25:06 +1000
Subject: [QGIS-Developer] Bug fixing sprint -- can we pull the pin on the
	issues migration?
Message-ID: <CAB28AshPJDCebxqH_TcZ4UMNKux2AebYQHjEp7TVe39_MckraQ@mail.gmail.com>

Hi list,

Given that we're back in freeze and focusing on bug fixing, could we
hit the switch and make the final issues migration occur?

>From my perspective it seems like all the outstanding addresses with
the migration have been resolved, nothing new has been raised since a
number of weeks (months?) and there's no longer any blockers that I
can see from the previous discussions.

And it would be oh-so-nice to not have to waste precious bug fixing
hours trawling through redmine once again...

Nyall

From noreply at qgis.org  Mon May 20 21:16:43 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 21 May 2019 04:16:43 -0000
Subject: [QGIS-Developer] Plugin [784] MongoConnector approval notification.
Message-ID: <20190521041643.23517.97181@2c6504964296>


Plugin MongoConnector approval by pcav.
The plugin version "[784] MongoConnector 1.2.3" is now approved
Link: http://plugins.qgis.org/plugins/MongoConnector/

From cavallini at faunalia.it  Mon May 20 21:26:22 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 21 May 2019 06:26:22 +0200
Subject: [QGIS-Developer] Bug fixing sprint -- can we pull the pin on
	the	issues migration?
In-Reply-To: <CAB28AshPJDCebxqH_TcZ4UMNKux2AebYQHjEp7TVe39_MckraQ@mail.gmail.com>
References: <CAB28AshPJDCebxqH_TcZ4UMNKux2AebYQHjEp7TVe39_MckraQ@mail.gmail.com>
Message-ID: <FDCE85D2-F162-4D7A-BDD4-6C080E95A2E9@faunalia.it>

Hi Nyall, 
I agree, this is probably the best time for the switch. I don't know of any technical objections. If someone has it, please speak out.
Regards.

Il 21 maggio 2019 04:25:06 CEST, Nyall Dawson <nyall.dawson at gmail.com> ha scritto:
>Hi list,
>
>Given that we're back in freeze and focusing on bug fixing, could we
>hit the switch and make the final issues migration occur?
>
>From my perspective it seems like all the outstanding addresses with
>the migration have been resolved, nothing new has been raised since a
>number of weeks (months?) and there's no longer any blockers that I
>can see from the previous discussions.
>
>And it would be oh-so-nice to not have to waste precious bug fixing
>hours trawling through redmine once again...
>
>Nyall
>_______________________________________________
>QGIS-Developer mailing list
>QGIS-Developer at lists.osgeo.org
>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Sorry for being short
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190521/926622a5/attachment.html>

From a.neumann at carto.net  Mon May 20 22:56:24 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 21 May 2019 07:56:24 +0200
Subject: [QGIS-Developer] Switching style on a single layer based on scale
Message-ID: <9b2ff0975e0ccf24a56b25f4992e109a@carto.net>

Hi, 

Is it somehow possible have more than one symbology style active on the
same layer and switching between the styles based on map scale? 

The idea is to use the cluster renderer for smaller scales and then
switch to a different renderer on larger scales. 

Is this somehow possible currently in QGIS? 

I know that one can have several rules for maps scale combinations in
the rule based renderer but this can't be combined easily with the
cluster renderer. In such a case I would have to load the same layer
twice - right? 

Thanks if you have any ideas on how to achieve a combination of the
cluster renderer with a different renderer on just one single layer. 

If we want to achieve that I think we would require some logic to switch
styles depending on the map scale. However, I think this is not possible
currently without the help of Python and listening to scale change
events - right? 

Thanks and greetings, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190521/475ff45d/attachment.html>

From rdmailings at duif.net  Mon May 20 22:57:18 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 21 May 2019 07:57:18 +0200
Subject: [QGIS-Developer] Request for a Github Webhook
In-Reply-To: <065521e2-b7f5-c444-edd5-e199b4756b44@base.nz>
References: <c7e14854-9824-ca0c-c236-cd17cc563b33@base.nz>
 <e593b448-cae5-1c84-27c7-9c2b81e21aa6@duif.net>
 <065521e2-b7f5-c444-edd5-e199b4756b44@base.nz>
Message-ID: <c2394740-2c73-2bf7-a520-c0a854bfbc84@duif.net>

Hi Joshua,
Yep, had a little talk about it with others.
Will add it as soon as I have some free time.
Regards,
Richard

On 20/05/2019 22.01, Joshua wrote:
> Hi Richard,
> 
> I sent a reply direct to your email a couple of days ago but it may have
> endned up in your spam folder. Sending it here again just in case.
> 
> /Here is what I sent along with the Discord webhook URL.../
> 
> I too believe in open source principles and have been helping my son
> contribute to Minetest (LGPL). There is a strong presence of Minetest
> contributers on Discord so I set up an account there. The devs did not
> want to make Discord an official communication HUB of Minetest, though
> they understood it's importance to the community and allowed a Github
> feed to be sent to there. There is an active presence of like minded
> folks on the Minetest Discord where users discuss modding of the game,
> ask for help from other members and share their works.
> 
> I then looked for a QGIS Discord server but couldn't find one. I decided
> to make one for other people who wanted the same thing. In just a couple
> of days since launching the server we now have 28 members /(now 35)/.
> 
> Discord currently has 130 million registered users and is growing. Many
> people would happily join a Discord QGIS server because they already use
> Discord and log in everyday. And many of these people would not join
> other QGIS communication sites because it would be another app they need
> to use or another website they need to log into each day.
> 
> My vision for this server is to have it function much the same way it
> does for Minetest. A place to hang out, ask questions, contribute and
> showcase work. Having a Github feed would allow members to keep
> appraised of the latest core development and perhaps inspire them to
> contribute by making their own pull requests. I believe this Discord
> server will have a net positive effect for QGIS.
> 
> 
> Regards,
> 
> Joshua
> 
> 
> On 18/05/19 11:20 PM, Richard Duivenvoorde wrote:
>> On 18/05/2019 04.28, Joshua wrote:
>>> Hi,
>>>
>>> I started an unofficial QGIS Discord server and would like one of our
>>> channels to have a live feed of Github commits. A webhook would have to
>>> be set up by a QGIS github admin. Is this possible?
>>>
>>> I can provide the Discord webhook in a direct email or Slack DM to the
>>> admin who will need it.
>>>
>>> The discord server is at: https://discord.gg/9eA7P6U
>> Hi Joshua,
>>
>> You can sent me the url (richard at qgis.org), but maybe we first have to
>> discuss here a little what would be the benefit (for us as QGIS community).
>>
>> I'm not familiar with Discord, but Wikipedia tells me:
>> "Discord is a proprietary freeware VoIP application and digital
>> distribution platform designed for video gaming communities..."
>>
>> I like the idea of non devs having some insight about what is going on
>> (though we do have github itself, and gitter [1]), and which makes me
>> wonder how many communication channels we want to serve), and if it
>> would not be more appropriate to use some FOSS tool for this?
>>
>> Can you tell us a little more about your plans?
>>
>> Regards,
>>
>> Richard Duivenvoorde
>>
>> [0] https://en.wikipedia.org/wiki/Discord_(software)
>> [1] https://gitter.im/qgis/QGIS
>>


From JMPerez at telespazio.es  Mon May 20 23:00:00 2019
From: JMPerez at telespazio.es (Juan Manuel Perez Delgado)
Date: Tue, 21 May 2019 06:00:00 +0000
Subject: [QGIS-Developer] QSettings(): /Projections/ ... defaultBehavior
 or defaultBehaviour?
In-Reply-To: <CAB28Asjc55vr1rYTAnboFM8Sq6Q2msb86KB=Nyn8w7TjgKsR5g@mail.gmail.com>
References: <4d45a3ea63604d4e986d58ea1eeb1eaf@GRANDE.aurensis.com>
 <CAB28Asjc55vr1rYTAnboFM8Sq6Q2msb86KB=Nyn8w7TjgKsR5g@mail.gmail.com>
Message-ID: <275245fbd505483c9195763cd1c7ecf1@GRANDE.aurensis.com>

Thanks for clarifying it!

-----Mensaje original-----
De: Nyall Dawson [mailto:nyall.dawson at gmail.com] 
Enviado el: martes, 21 de mayo de 2019 0:22
Para: Juan Manuel Perez Delgado <JMPerez at telespazio.es>
CC: qgis-developer at lists.osgeo.org
Asunto: Re: [QGIS-Developer] QSettings(): /Projections/ ... defaultBehavior or defaultBehaviour?

On Mon, 20 May 2019 at 16:47, Juan Manuel Perez Delgado <JMPerez at telespazio.es> wrote:
>
> As of Qgis 3.4, one should now ask not for 'defaultBehaviour' but for 'defaultBehavior'.
> I only wanted to know if this change is going to be kept, or it was unintended and it is going to be reverted.

This is intentional -- part of the changes made in 3.x was to standardise all API spelling to use US English spelling variants. This was done for consistency across the API, so that there's no variation in spelling in different parts of the code.

Nyall

From cavallini at faunalia.it  Mon May 20 23:00:46 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 21 May 2019 08:00:46 +0200
Subject: [QGIS-Developer] Switching style on a single layer based on
	scale
In-Reply-To: <9b2ff0975e0ccf24a56b25f4992e109a@carto.net>
References: <9b2ff0975e0ccf24a56b25f4992e109a@carto.net>
Message-ID: <16142403-9018-dbfe-e60d-2d26329b39a8@faunalia.it>

Hi Andreas,

On 21/05/19 07:56, Andreas Neumann wrote:
> I know that one can have several rules for maps scale combinations in
> the rule based renderer but this can't be combined easily with the
> cluster renderer. In such a case I would have to load the same layer
> twice - right?

same thing for the heathmap renderer, question already discussed some
times ago. One of the few practical limitations in symbology I know of.
Cheers.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From rdmailings at duif.net  Tue May 21 00:09:49 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 21 May 2019 09:09:49 +0200
Subject: [QGIS-Developer] Fedora 28 QGIS install: nothing provides
 gdal-python-tools
In-Reply-To: <CACUx=TkcBLrqAmKN=YHgnNNAmo7VLxqrt16_miijQOFVSx85CA@mail.gmail.com>
References: <3c0f36dc885a330e312fae34db0bbe17@duif.net>
 <CACUx=TkiVTWiyhgQr4VnNPx=Ra_+x7FOf2_Jy1HDKUCFUhzdPQ@mail.gmail.com>
 <CACUx=TkcBLrqAmKN=YHgnNNAmo7VLxqrt16_miijQOFVSx85CA@mail.gmail.com>
Message-ID: <e37f02f85a3e5db4021a6ac28df22220@duif.net>

On 2019-05-20 23:18, Daniele Viganò wrote:
> Hi Richard,
> 
> qgis-3.4.8-2 and qgis-3.6.3-2 have been published on COPR. They should
> fix the issue you have encountered on Fedora 28.
> 
> Cheers,
> 
> Daniele
> 
> --
> DANIELE VIGANÒ
> http://daniele.vigano.me
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From daniele at vigano.me  Tue May 21 00:44:58 2019
From: daniele at vigano.me (=?UTF-8?Q?Daniele_Vigan=C3=B2?=)
Date: Tue, 21 May 2019 09:44:58 +0200
Subject: [QGIS-Developer] Fedora 28 QGIS install: nothing provides
	gdal-python-tools
In-Reply-To: <1efbfb7e7e353b63f38613c4a1176806@duif.net>
References: <3c0f36dc885a330e312fae34db0bbe17@duif.net>
 <CACUx=TkiVTWiyhgQr4VnNPx=Ra_+x7FOf2_Jy1HDKUCFUhzdPQ@mail.gmail.com>
 <CACUx=TkcBLrqAmKN=YHgnNNAmo7VLxqrt16_miijQOFVSx85CA@mail.gmail.com>
 <1efbfb7e7e353b63f38613c4a1176806@duif.net>
Message-ID: <CACUx=TnL0NypnjfczE0sN1uqRTDMoeCY9FStgmFtAOQxR=i+Mg@mail.gmail.com>

Hi Richard,

On Tue, May 21, 2019 at 9:09 AM Richard Duivenvoorde <richard at duif.net>
wrote:

>
> Thanks for the quick fix! Works!
> Will dev/testing version also work later?
>

as soon as https://github.com/qgis/QGIS/pull/10035 is merged into master
any new build in qgis-testing will include the fix too.

Cheers,
Daniele


-- 
*Daniele Viganò*
http://daniele.vigano.me
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190521/617e7362/attachment.html>

From a.neumann at carto.net  Tue May 21 00:47:37 2019
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 21 May 2019 09:47:37 +0200
Subject: [QGIS-Developer] PostgreSQL connection - more than one DB host
Message-ID: <fe860bde837b37aa32ff9106e5e33f14@carto.net>

Hi, 

According to the libpq documentation it is possible to specify more than
one host for PG connections. 

See https://www.postgresql.org/docs/current/libpq-connect.html  -->
section 34.1.1.2. Connection URIs 

----------- 

It is possible to specify multiple host components, each with an
optional port component, in a single URI. A URI of the form
postgresql://host1:port1,host2:port2,host3:port3/ is equivalent to a
connection string of the form host=host1,host2,host3
port=port1,port2,port3. Each host will be tried in turn until a
connection is successfully established. 

------------- 

Is this option to specify more than one host supported by QGIS and if
yes, how? It would only make sense for read-only connections, I think. 

Thanks,
Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190521/8ea30a2f/attachment.html>

From tim at kartoza.com  Tue May 21 00:49:21 2019
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 21 May 2019 08:49:21 +0100
Subject: [QGIS-Developer] Request for a Github Webhook
In-Reply-To: <065521e2-b7f5-c444-edd5-e199b4756b44@base.nz>
References: <c7e14854-9824-ca0c-c236-cd17cc563b33@base.nz>
 <e593b448-cae5-1c84-27c7-9c2b81e21aa6@duif.net>
 <065521e2-b7f5-c444-edd5-e199b4756b44@base.nz>
Message-ID: <0B4DB62E-0AE5-4918-A66A-DF36CC124893@kartoza.com>

Hi Joshua

Out of curiosity, what is the link between minetest and QGIS? I have seen tools to create Minecraft worlds with QGIS / GIS layers, are you doing something similar with Minetest? If so could you share your workflows for doing that?

Regards

Tim

> On 20 May 2019, at 21:01, Joshua <admin at base.nz> wrote:
> 
> Hi Richard,
> 
> I sent a reply direct to your email a couple of days ago but it may have endned up in your spam folder. Sending it here again just in case.
> 
> Here is what I sent along with the Discord webhook URL...
> 
> I too believe in open source principles and have been helping my son contribute to Minetest (LGPL). There is a strong presence of Minetest contributers on Discord so I set up an account there. The devs did not want to make Discord an official communication HUB of Minetest, though they understood it's importance to the community and allowed a Github feed to be sent to there. There is an active presence of like minded folks on the Minetest Discord where users discuss modding of the game, ask for help from other members and share their works. 
> 
> I then looked for a QGIS Discord server but couldn't find one. I decided to make one for other people who wanted the same thing. In just a couple of days since launching the server we now have 28 members (now 35). 
> 
> Discord currently has 130 million registered users and is growing. Many people would happily join a Discord QGIS server because they already use Discord and log in everyday. And many of these people would not join other QGIS communication sites because it would be another app they need to use or another website they need to log into each day. 
> 
> My vision for this server is to have it function much the same way it does for Minetest. A place to hang out, ask questions, contribute and showcase work. Having a Github feed would allow members to keep appraised of the latest core development and perhaps inspire them to contribute by making their own pull requests. I believe this Discord server will have a net positive effect for QGIS.
> 
> 
> 
> Regards,
> 
> Joshua
> 
> 
> 
> On 18/05/19 11:20 PM, Richard Duivenvoorde wrote:
>> On 18/05/2019 04.28, Joshua wrote:
>>> Hi,
>>> 
>>> I started an unofficial QGIS Discord server and would like one of our
>>> channels to have a live feed of Github commits. A webhook would have to
>>> be set up by a QGIS github admin. Is this possible?
>>> 
>>> I can provide the Discord webhook in a direct email or Slack DM to the
>>> admin who will need it.
>>> 
>>> The discord server is at: https://discord.gg/9eA7P6U <https://discord.gg/9eA7P6U>
>> Hi Joshua,
>> 
>> You can sent me the url (richard at qgis.org <mailto:richard at qgis.org>), but maybe we first have to
>> discuss here a little what would be the benefit (for us as QGIS community).
>> 
>> I'm not familiar with Discord, but Wikipedia tells me:
>> "Discord is a proprietary freeware VoIP application and digital
>> distribution platform designed for video gaming communities..."
>> 
>> I like the idea of non devs having some insight about what is going on
>> (though we do have github itself, and gitter [1]), and which makes me
>> wonder how many communication channels we want to serve), and if it
>> would not be more appropriate to use some FOSS tool for this?
>> 
>> Can you tell us a little more about your plans?
>> 
>> Regards,
>> 
>> Richard Duivenvoorde
>> 
>> [0] https://en.wikipedia.org/wiki/Discord_(software) <https://en.wikipedia.org/wiki/Discord_(software)>
>> [1] https://gitter.im/qgis/QGIS <https://gitter.im/qgis/QGIS>
>> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190521/86a07926/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190521/86a07926/attachment-0001.jpg>

From rdmailings at duif.net  Tue May 21 01:30:49 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 21 May 2019 10:30:49 +0200
Subject: [QGIS-Developer] Request for a Github Webhook
In-Reply-To: <0B4DB62E-0AE5-4918-A66A-DF36CC124893@kartoza.com>
References: <c7e14854-9824-ca0c-c236-cd17cc563b33@base.nz>
 <e593b448-cae5-1c84-27c7-9c2b81e21aa6@duif.net>
 <065521e2-b7f5-c444-edd5-e199b4756b44@base.nz>
 <0B4DB62E-0AE5-4918-A66A-DF36CC124893@kartoza.com>
Message-ID: <68350097e5432b7429681e114ea91541@duif.net>

I just added your url as webhook, but does not seem to work.

Configured it as 'sent all' and tried both xml and json payload.

Is your url active?
What is it you are expecting?

Richard

On 2019-05-21 09:49, Tim Sutton wrote:
> Hi Joshua
> 
> Out of curiosity, what is the link between minetest and QGIS? I have
> seen tools to create Minecraft worlds with QGIS / GIS layers, are you
> doing something similar with Minetest? If so could you share your
> workflows for doing that?
> 
> Regards
> 
> Tim
> 
>> On 20 May 2019, at 21:01, Joshua <admin at base.nz> wrote:
>> 
>> Hi Richard,
>> 
>> I sent a reply direct to your email a couple of days ago but it may
>> have endned up in your spam folder. Sending it here again just in
>> case.
>> 
>> _Here is what I sent along with the Discord webhook URL..._
>> 
>> I too believe in open source principles and have been helping my son
>> contribute to Minetest (LGPL). There is a strong presence of
>> Minetest contributers on Discord so I set up an account there. The
>> devs did not want to make Discord an official communication HUB of
>> Minetest, though they understood it's importance to the community
>> and allowed a Github feed to be sent to there. There is an active
>> presence of like minded folks on the Minetest Discord where users
>> discuss modding of the game, ask for help from other members and
>> share their works.
>> 
>> I then looked for a QGIS Discord server but couldn't find one. I
>> decided to make one for other people who wanted the same thing. In
>> just a couple of days since launching the server we now have 28
>> members _(now 35)_.
>> 
>> Discord currently has 130 million registered users and is growing.
>> Many people would happily join a Discord QGIS server because they
>> already use Discord and log in everyday. And many of these people
>> would not join other QGIS communication sites because it would be
>> another app they need to use or another website they need to log
>> into each day.
>> 
>> My vision for this server is to have it function much the same way
>> it does for Minetest. A place to hang out, ask questions, contribute
>> and showcase work. Having a Github feed would allow members to keep
>> appraised of the latest core development and perhaps inspire them to
>> contribute by making their own pull requests. I believe this Discord
>> server will have a net positive effect for QGIS.
>> 
>> Regards,
>> 
>> Joshua
>> 
>> On 18/05/19 11:20 PM, Richard Duivenvoorde wrote:
>> 
>> On 18/05/2019 04.28, Joshua wrote:
>> 
>> Hi,
>> 
>> I started an unofficial QGIS Discord server and would like one of
>> our
>> channels to have a live feed of Github commits. A webhook would have
>> to
>> be set up by a QGIS github admin. Is this possible?
>> 
>> I can provide the Discord webhook in a direct email or Slack DM to
>> the
>> admin who will need it.
>> 
>> The discord server is at: https://discord.gg/9eA7P6U
>> 
>> Hi Joshua,
>> 
>> You can sent me the url (richard at qgis.org), but maybe we first have
>> to
>> discuss here a little what would be the benefit (for us as QGIS
>> community).
>> 
>> I'm not familiar with Discord, but Wikipedia tells me:
>> "Discord is a proprietary freeware VoIP application and digital
>> distribution platform designed for video gaming communities..."
>> 
>> I like the idea of non devs having some insight about what is going
>> on
>> (though we do have github itself, and gitter [1]), and which makes
>> me
>> wonder how many communication channels we want to serve), and if it
>> would not be more appropriate to use some FOSS tool for this?
>> 
>> Can you tell us a little more about your plans?
>> 
>> Regards,
>> 
>> Richard Duivenvoorde
>> 
>> [0] https://en.wikipedia.org/wiki/Discord_(software)
>> [1] https://gitter.im/qgis/QGIS
>  _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> —
> 
> TIM SUTTON
> 
> CO-FOUNDER: Kartoza
> EX PROJECT CHAIR: QGIS.org [1]
> 
> Visit http://kartoza.com [2] to find out about open source:
> 
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
> 
> SKYPE: timlinux
> IRC: timlinux on #qgis at freenode.net [3]
> 
> I'd love to connect. Here's my calendar link [4] to make finding time
> easy.
> 
> 
> Links:
> ------
> [1] http://QGIS.org
> [2] http://kartoza.com/
> [3] http://freenode.net
> [4] https://calendly.com/timlinux

From regis.haubourg at gmail.com  Tue May 21 01:50:33 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 21 May 2019 10:50:33 +0200
Subject: [QGIS-Developer] Should we create a list for admin sys
 discussions and infrastructure monitoring?
In-Reply-To: <cb17a5c9-9023-d8e9-37c8-3a9de9f9b612@opengis.ch>
References: <CABgOYCdd81UBG27hP8QpgXuGrxO34fpmTtAn95xNNar-3PrJfA@mail.gmail.com>
 <CABgOYCcXOnVA=GrVxKOzffg5UHPksmRbniboKj9SSw_j43HabA@mail.gmail.com>
 <cb17a5c9-9023-d8e9-37c8-3a9de9f9b612@opengis.ch>
Message-ID: <CABgOYCcijjXZoqoKtgV2Vatbj_F==9LooYTK9C9oXq9f_6Mkeg@mail.gmail.com>

Hi,
thanks for your inputs. My concern was that we are not resilient enough to
detecting regressions or failures. I get your point of finding resources to
create a dashboard, and responsibility dilution risks if we don't clarify
who is responsible for what.

Let's stay as is concerning the QGIS server performance and OGC compliance
suites. We'll forward tools failures only to Paul and me as a backup.

However there was another question about regressions detected concerning
OGC compliancy. We are currently not able to wire those to Travis directly
(that would be way tooo long), so how can we advertise for regressions to
developpers? That is why I was asking to post on developper's list or
another list. Unlike Plugin approval's messages, we expect a lot less
messages. (something between 1 an 10 maybe?).

Best regards
Régis


Le dim. 19 mai 2019 à 11:10, Matthias Kuhn <matthias at opengis.ch> a écrit :

> Hi Régis,
>
> I like the idea. It's an easy solution to have an archive of past
> notifications and discussions on particular events.
>
> The main risk is, that the "responsibilities" of different lists is no
> longer clear and cross list threads are started. I don't know what's best,
> but it could even be "read only", so that only the check results are posted
> but any discussion shall be triggered on other channels.
>
> If someone is able to setup a dashboard with advanced functionality,
> filtering etc. that would of course be even nicer, but initial effort is
> higher and maintenance effort will be higher too, so it's a question if
> someone is willing to take on that job.
>
> Best regards
>
> Matthias
>
>
> On 5/17/19 5:54 PM, Régis Haubourg wrote:
>
> Hi all,
> A gentle relaunch here.  Our infrastructure is already monitored
> somewhere?
> Or do we stick to having mail received by individual maintainers?
> Best regards
> Régis
>
> Le ven. 10 mai 2019 à 15:47, Régis Haubourg <regis.haubourg at gmail.com> a
> écrit :
>
>> Hi all,
>> at Oslandia we are currently pushing the OGC compliance test suite,  the
>> performance test suite and some demo stuff QWC2 on qgis officiel servers.
>> We need to monitor those tools that produce daily reports and send mails
>> in case of failure of the tools
>>
>> We don't want to flood the developper's mailing list with such messages,
>> so we are wondering what would be the best place to send those
>> notifications?
>>
>> For the particular case of the OGC compliance test, we also now have
>> messages in case of regressions. Those messages should are not wired with
>> Travis PR workflow, so we need to raise the information probably on the
>> developper mailing list.
>>
>> Is there anything already set up somewhere we are not aware of?
>>
>> I think centralizing notification and having a dashbooard to monitot the
>> status of all the infrastructure would be nice.
>>
>> Thanks for your hints!
>>
>> Best regards
>> Régis
>>
>
> _______________________________________________
> QGIS-Developer mailing listQGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190521/f2d0205b/attachment.html>

From rdmailings at duif.net  Tue May 21 02:44:37 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue, 21 May 2019 11:44:37 +0200
Subject: [QGIS-Developer] Request for a Github Webhook
In-Reply-To: <bdbf2ac2-81bd-8949-b3b1-33edd815b6be@proedu.us>
References: <c7e14854-9824-ca0c-c236-cd17cc563b33@base.nz>
 <e593b448-cae5-1c84-27c7-9c2b81e21aa6@duif.net>
 <065521e2-b7f5-c444-edd5-e199b4756b44@base.nz>
 <0B4DB62E-0AE5-4918-A66A-DF36CC124893@kartoza.com>
 <68350097e5432b7429681e114ea91541@duif.net>
 <bdbf2ac2-81bd-8949-b3b1-33edd815b6be@proedu.us>
Message-ID: <2d67529e9aae267e29b3a96117565754@duif.net>

Ok, second try.

Apparently we had to append /github to the url provided...

But NOW we have green checkmarks!

Richard

PS: apparently we also have a
  https://issues.qgis.org/github_hook (push)
webhook that fails??


On 2019-05-21 10:37, Joshua wrote:
> The webhook is called whenever there is activity on Github. It should
> simply post a description and link to the repository change.
> 
> This tutorial shows the setup. json is correct....
> 
> https://gist.github.com/jagrosh/5b1761213e33fc5b54ec7f6379034a22
> 
> Cheers,
> 
> Joshua
> 
> On 21/05/19 8:30 PM, Richard Duivenvoorde wrote:
>> I just added your url as webhook, but does not seem to work.
>> 
>> Configured it as 'sent all' and tried both xml and json payload.
>> 
>> Is your url active?
>> What is it you are expecting?
>> 
>> Richard
>> 
>> On 2019-05-21 09:49, Tim Sutton wrote:
>>> Hi Joshua
>>> 
>>> Out of curiosity, what is the link between minetest and QGIS? I have
>>> seen tools to create Minecraft worlds with QGIS / GIS layers, are you
>>> doing something similar with Minetest? If so could you share your
>>> workflows for doing that?
>>> 
>>> Regards
>>> 
>>> Tim
>>> 
>>>> On 20 May 2019, at 21:01, Joshua <admin at base.nz> wrote:
>>>> 
>>>> Hi Richard,
>>>> 
>>>> I sent a reply direct to your email a couple of days ago but it may
>>>> have endned up in your spam folder. Sending it here again just in
>>>> case.
>>>> 
>>>> _Here is what I sent along with the Discord webhook URL..._
>>>> 
>>>> I too believe in open source principles and have been helping my son
>>>> contribute to Minetest (LGPL). There is a strong presence of
>>>> Minetest contributers on Discord so I set up an account there. The
>>>> devs did not want to make Discord an official communication HUB of
>>>> Minetest, though they understood it's importance to the community
>>>> and allowed a Github feed to be sent to there. There is an active
>>>> presence of like minded folks on the Minetest Discord where users
>>>> discuss modding of the game, ask for help from other members and
>>>> share their works.
>>>> 
>>>> I then looked for a QGIS Discord server but couldn't find one. I
>>>> decided to make one for other people who wanted the same thing. In
>>>> just a couple of days since launching the server we now have 28
>>>> members _(now 35)_.
>>>> 
>>>> Discord currently has 130 million registered users and is growing.
>>>> Many people would happily join a Discord QGIS server because they
>>>> already use Discord and log in everyday. And many of these people
>>>> would not join other QGIS communication sites because it would be
>>>> another app they need to use or another website they need to log
>>>> into each day.
>>>> 
>>>> My vision for this server is to have it function much the same way
>>>> it does for Minetest. A place to hang out, ask questions, contribute
>>>> and showcase work. Having a Github feed would allow members to keep
>>>> appraised of the latest core development and perhaps inspire them to
>>>> contribute by making their own pull requests. I believe this Discord
>>>> server will have a net positive effect for QGIS.
>>>> 
>>>> Regards,
>>>> 
>>>> Joshua
>>>> 
>>>> On 18/05/19 11:20 PM, Richard Duivenvoorde wrote:
>>>> 
>>>> On 18/05/2019 04.28, Joshua wrote:
>>>> 
>>>> Hi,
>>>> 
>>>> I started an unofficial QGIS Discord server and would like one of
>>>> our
>>>> channels to have a live feed of Github commits. A webhook would have
>>>> to
>>>> be set up by a QGIS github admin. Is this possible?
>>>> 
>>>> I can provide the Discord webhook in a direct email or Slack DM to
>>>> the
>>>> admin who will need it.
>>>> 
>>>> The discord server is at: https://discord.gg/9eA7P6U
>>>> 
>>>> Hi Joshua,
>>>> 
>>>> You can sent me the url (richard at qgis.org), but maybe we first have
>>>> to
>>>> discuss here a little what would be the benefit (for us as QGIS
>>>> community).
>>>> 
>>>> I'm not familiar with Discord, but Wikipedia tells me:
>>>> "Discord is a proprietary freeware VoIP application and digital
>>>> distribution platform designed for video gaming communities..."
>>>> 
>>>> I like the idea of non devs having some insight about what is going
>>>> on
>>>> (though we do have github itself, and gitter [1]), and which makes
>>>> me
>>>> wonder how many communication channels we want to serve), and if it
>>>> would not be more appropriate to use some FOSS tool for this?
>>>> 
>>>> Can you tell us a little more about your plans?
>>>> 
>>>> Regards,
>>>> 
>>>> Richard Duivenvoorde
>>>> 
>>>> [0] https://en.wikipedia.org/wiki/Discord_(software)
>>>> [1] https://gitter.im/qgis/QGIS
>>>  _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> 
>>> —
>>> 
>>> TIM SUTTON
>>> 
>>> CO-FOUNDER: Kartoza
>>> EX PROJECT CHAIR: QGIS.org [1]
>>> 
>>> Visit http://kartoza.com [2] to find out about open source:
>>> 
>>> Desktop GIS programming services
>>> Geospatial web development
>>> GIS Training
>>> Consulting Services
>>> 
>>> SKYPE: timlinux
>>> IRC: timlinux on #qgis at freenode.net [3]
>>> 
>>> I'd love to connect. Here's my calendar link [4] to make finding time
>>> easy.
>>> 
>>> 
>>> Links:
>>> ------
>>> [1] http://QGIS.org
>>> [2] http://kartoza.com/
>>> [3] http://freenode.net
>>> [4] https://calendly.com/timlinux
>> 

From tim at kartoza.com  Tue May 21 04:01:59 2019
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 21 May 2019 12:01:59 +0100
Subject: [QGIS-Developer] PostgreSQL connection - more than one DB host
In-Reply-To: <fe860bde837b37aa32ff9106e5e33f14@carto.net>
References: <fe860bde837b37aa32ff9106e5e33f14@carto.net>
Message-ID: <323440A8-E7CA-46F3-8F3A-FEED94246421@kartoza.com>

Did you try it using a service file (haven’t tested myself)….would be interesting to hear how you got it working….

Regards

Tim

> On 21 May 2019, at 08:47, Andreas Neumann <a.neumann at carto.net> wrote:
> 
> Hi,
> 
> According to the libpq documentation it is possible to specify more than one host for PG connections.
> 
> See https://www.postgresql.org/docs/current/libpq-connect.html <https://www.postgresql.org/docs/current/libpq-connect.html>  --> section 34.1.1.2. Connection URIs
> 
> -----------
> 
> It is possible to specify multiple host components, each with an optional port component, in a single URI. A URI of the form postgresql://host1:port1,host2:port2,host3:port3/ is equivalent to a connection string of the form host=host1,host2,host3 port=port1,port2,port3. Each host will be tried in turn until a connection is successfully established.
> 
> -------------
> 
> Is this option to specify more than one host supported by QGIS and if yes, how? It would only make sense for read-only connections, I think.
> 
> Thanks,
> Andreas
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190521/8c64e840/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190521/8c64e840/attachment-0001.jpg>

From noreply at qgis.org  Tue May 21 04:48:49 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 21 May 2019 11:48:49 -0000
Subject: [QGIS-Developer] Plugin [1659] ORS Tools approval notification.
Message-ID: <20190521114849.23394.21379@2c6504964296>


Plugin ORS Tools approval by pcav.
The plugin version "[1659] ORS Tools 1.0.7" is now approved
Link: http://plugins.qgis.org/plugins/ORStools/

From regis.haubourg at gmail.com  Tue May 21 04:51:42 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 21 May 2019 13:51:42 +0200
Subject: [QGIS-Developer] PostgreSQL connection - more than one DB host
In-Reply-To: <323440A8-E7CA-46F3-8F3A-FEED94246421@kartoza.com>
References: <fe860bde837b37aa32ff9106e5e33f14@carto.net>
 <323440A8-E7CA-46F3-8F3A-FEED94246421@kartoza.com>
Message-ID: <CABgOYCcKvmUtTtxVfLu8LkWdog0tPaGKxMp9XmE-ZSunP7ur_A@mail.gmail.com>

Interesting, if this works, that could be awesome for having one project
for multiple working sites or on the field use cases. (I just discover it
is now possible to run postgresql on Android last week)
Régis

Le mar. 21 mai 2019 à 13:02, Tim Sutton <tim at kartoza.com> a écrit :

> Did you try it using a service file (haven’t tested myself)….would be
> interesting to hear how you got it working….
>
> Regards
>
> Tim
>
> On 21 May 2019, at 08:47, Andreas Neumann <a.neumann at carto.net> wrote:
>
> Hi,
>
> According to the libpq documentation it is possible to specify more than
> one host for PG connections.
>
> See https://www.postgresql.org/docs/current/libpq-connect.html  -->
> section 34.1.1.2. Connection URIs
>
> -----------
>
> It is possible to specify multiple host components, each with an optional
> port component, in a single URI. A URI of the form
> postgresql://host1:port1,host2:port2,host3:port3/ is equivalent to a
> connection string of the form host=host1,host2,host3
> port=port1,port2,port3. Each host will be tried in turn until a
> connection is successfully established.
>
> -------------
>
> Is this option to specify more than one host supported by QGIS and if yes,
> how? It would only make sense for read-only connections, I think.
>
> Thanks,
> Andreas
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> —
>
>
>
>
>
>
>
>
> *Tim Sutton*
>
> *Co-founder:* Kartoza
> *Ex Project chair:* QGIS.org
>
> Visit http://kartoza.com to find out about open source:
>
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
>
> *Skype*: timlinux
> *IRC:* timlinux on #qgis at freenode.net
>
> I'd love to connect. Here's my calendar link
> <https://calendly.com/timlinux> to make finding time easy.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190521/be4e1f03/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190521/be4e1f03/attachment-0001.jpg>

From regis.haubourg at gmail.com  Tue May 21 05:48:54 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 21 May 2019 14:48:54 +0200
Subject: [QGIS-Developer] Selection behavior within relation widget in forms
Message-ID: <CABgOYCcu7Lj=Jb7eN3sk04ctsg7bzcWeCsvfORWC-x_MfmqBPg@mail.gmail.com>

Hi there,
The relation widget to show all children of a form allows to select rows in
the list, but this selection is not related with the general layer
selection.

See http://i.imgur.com/0SFA1zA.png

The two points are selected in the sub-form (tab "fuites") but the features
are not selected in the layer.

Is this by design? Could that be unified with the main layer selection?

Best regards
Régis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190521/3932225d/attachment.html>

From noreply at qgis.org  Tue May 21 10:26:41 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 21 May 2019 17:26:41 -0000
Subject: [QGIS-Developer] Plugin [1722] QRectangleCreator approval
	notification.
Message-ID: <20190521172641.4081.46413@2c6504964296>


Plugin QRectangleCreator approval by pcav.
The plugin version "[1722] QRectangleCreator 0.1" is now approved
Link: http://plugins.qgis.org/plugins/QRectangleCreator/

From admin at base.nz  Tue May 21 12:30:07 2019
From: admin at base.nz (Joshua)
Date: Wed, 22 May 2019 07:30:07 +1200
Subject: [QGIS-Developer] Request for a Github Webhook
In-Reply-To: <2d67529e9aae267e29b3a96117565754@duif.net>
References: <c7e14854-9824-ca0c-c236-cd17cc563b33@base.nz>
 <e593b448-cae5-1c84-27c7-9c2b81e21aa6@duif.net>
 <065521e2-b7f5-c444-edd5-e199b4756b44@base.nz>
 <0B4DB62E-0AE5-4918-A66A-DF36CC124893@kartoza.com>
 <68350097e5432b7429681e114ea91541@duif.net>
 <bdbf2ac2-81bd-8949-b3b1-33edd815b6be@proedu.us>
 <2d67529e9aae267e29b3a96117565754@duif.net>
Message-ID: <e1860020-958b-9119-4af4-0d9fe332fb43@base.nz>

Hurray!  The feed is flowing...


Thanks!

Joshua


On 21/05/19 9:44 PM, Richard Duivenvoorde wrote:
> Ok, second try.
>
> Apparently we had to append /github to the url provided...
>
> But NOW we have green checkmarks!
>
> Richard
>
> PS: apparently we also have a
>  https://issues.qgis.org/github_hook (push)
> webhook that fails??
>
>
> On 2019-05-21 10:37, Joshua wrote:
>> The webhook is called whenever there is activity on Github. It should
>> simply post a description and link to the repository change.
>>
>> This tutorial shows the setup. json is correct....
>>
>> https://gist.github.com/jagrosh/5b1761213e33fc5b54ec7f6379034a22
>>
>> Cheers,
>>
>> Joshua
>>
>> On 21/05/19 8:30 PM, Richard Duivenvoorde wrote:
>>> I just added your url as webhook, but does not seem to work.
>>>
>>> Configured it as 'sent all' and tried both xml and json payload.
>>>
>>> Is your url active?
>>> What is it you are expecting?
>>>
>>> Richard
>>>
>>> On 2019-05-21 09:49, Tim Sutton wrote:
>>>> Hi Joshua
>>>>
>>>> Out of curiosity, what is the link between minetest and QGIS? I have
>>>> seen tools to create Minecraft worlds with QGIS / GIS layers, are you
>>>> doing something similar with Minetest? If so could you share your
>>>> workflows for doing that?
>>>>
>>>> Regards
>>>>
>>>> Tim
>>>>
>>>>> On 20 May 2019, at 21:01, Joshua <admin at base.nz> wrote:
>>>>>
>>>>> Hi Richard,
>>>>>
>>>>> I sent a reply direct to your email a couple of days ago but it may
>>>>> have endned up in your spam folder. Sending it here again just in
>>>>> case.
>>>>>
>>>>> _Here is what I sent along with the Discord webhook URL..._
>>>>>
>>>>> I too believe in open source principles and have been helping my son
>>>>> contribute to Minetest (LGPL). There is a strong presence of
>>>>> Minetest contributers on Discord so I set up an account there. The
>>>>> devs did not want to make Discord an official communication HUB of
>>>>> Minetest, though they understood it's importance to the community
>>>>> and allowed a Github feed to be sent to there. There is an active
>>>>> presence of like minded folks on the Minetest Discord where users
>>>>> discuss modding of the game, ask for help from other members and
>>>>> share their works.
>>>>>
>>>>> I then looked for a QGIS Discord server but couldn't find one. I
>>>>> decided to make one for other people who wanted the same thing. In
>>>>> just a couple of days since launching the server we now have 28
>>>>> members _(now 35)_.
>>>>>
>>>>> Discord currently has 130 million registered users and is growing.
>>>>> Many people would happily join a Discord QGIS server because they
>>>>> already use Discord and log in everyday. And many of these people
>>>>> would not join other QGIS communication sites because it would be
>>>>> another app they need to use or another website they need to log
>>>>> into each day.
>>>>>
>>>>> My vision for this server is to have it function much the same way
>>>>> it does for Minetest. A place to hang out, ask questions, contribute
>>>>> and showcase work. Having a Github feed would allow members to keep
>>>>> appraised of the latest core development and perhaps inspire them to
>>>>> contribute by making their own pull requests. I believe this Discord
>>>>> server will have a net positive effect for QGIS.
>>>>>
>>>>> Regards,
>>>>>
>>>>> Joshua
>>>>>
>>>>> On 18/05/19 11:20 PM, Richard Duivenvoorde wrote:
>>>>>
>>>>> On 18/05/2019 04.28, Joshua wrote:
>>>>>
>>>>> Hi,
>>>>>
>>>>> I started an unofficial QGIS Discord server and would like one of
>>>>> our
>>>>> channels to have a live feed of Github commits. A webhook would have
>>>>> to
>>>>> be set up by a QGIS github admin. Is this possible?
>>>>>
>>>>> I can provide the Discord webhook in a direct email or Slack DM to
>>>>> the
>>>>> admin who will need it.
>>>>>
>>>>> The discord server is at: https://discord.gg/9eA7P6U
>>>>>
>>>>> Hi Joshua,
>>>>>
>>>>> You can sent me the url (richard at qgis.org), but maybe we first have
>>>>> to
>>>>> discuss here a little what would be the benefit (for us as QGIS
>>>>> community).
>>>>>
>>>>> I'm not familiar with Discord, but Wikipedia tells me:
>>>>> "Discord is a proprietary freeware VoIP application and digital
>>>>> distribution platform designed for video gaming communities..."
>>>>>
>>>>> I like the idea of non devs having some insight about what is going
>>>>> on
>>>>> (though we do have github itself, and gitter [1]), and which makes
>>>>> me
>>>>> wonder how many communication channels we want to serve), and if it
>>>>> would not be more appropriate to use some FOSS tool for this?
>>>>>
>>>>> Can you tell us a little more about your plans?
>>>>>
>>>>> Regards,
>>>>>
>>>>> Richard Duivenvoorde
>>>>>
>>>>> [0] https://en.wikipedia.org/wiki/Discord_(software)
>>>>> [1] https://gitter.im/qgis/QGIS
>>>>  _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>>
>>>> —
>>>>
>>>> TIM SUTTON
>>>>
>>>> CO-FOUNDER: Kartoza
>>>> EX PROJECT CHAIR: QGIS.org [1]
>>>>
>>>> Visit http://kartoza.com [2] to find out about open source:
>>>>
>>>> Desktop GIS programming services
>>>> Geospatial web development
>>>> GIS Training
>>>> Consulting Services
>>>>
>>>> SKYPE: timlinux
>>>> IRC: timlinux on #qgis at freenode.net [3]
>>>>
>>>> I'd love to connect. Here's my calendar link [4] to make finding time
>>>> easy.
>>>>
>>>>
>>>> Links:
>>>> ------
>>>> [1] http://QGIS.org
>>>> [2] http://kartoza.com/
>>>> [3] http://freenode.net
>>>> [4] https://calendly.com/timlinux
>>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/4eb6673e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: jhmhmgpdofnohflg.jpeg
Type: image/jpeg
Size: 10586 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/4eb6673e/attachment-0001.jpeg>

From jgr at di.uminho.pt  Tue May 21 16:18:22 2019
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Wed, 22 May 2019 00:18:22 +0100
Subject: [QGIS-Developer] Bug fixing sprint -- can we pull the pin on
 the issues migration?
In-Reply-To: <FDCE85D2-F162-4D7A-BDD4-6C080E95A2E9@faunalia.it>
References: <CAB28AshPJDCebxqH_TcZ4UMNKux2AebYQHjEp7TVe39_MckraQ@mail.gmail.com>
 <FDCE85D2-F162-4D7A-BDD4-6C080E95A2E9@faunalia.it>
Message-ID: <0d09bbd3-8fe1-3753-fba7-7ee99de0724c@di.uminho.pt>

Hi Paolo,

It would be nice to have a decision by the PSC about this. The technical
part was discussed and managed by developers, as a regular QEP [1], but
the decision about the move should be clear and should come from the
PSC. As far as I remember, we discuss this at Coruña meeting (Tim and
Nyall were also online) and we all agreed that the last word would be
from the PSC.

15 days ago Marco tried to trigger the PSC vote (as he commented in the
QEP), but I'm not sure if he was able to do it (or to collect the votes
from the members).

If it possible to have a decision from the PSC, it would be perfect.

Regards,

Jorge Gustavo

[1] https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141


Às 05:26 de 21/05/19, Paolo Cavallini escreveu:
> Hi Nyall,
> I agree, this is probably the best time for the switch. I don't know of
> any technical objections. If someone has it, please speak out.
> Regards.
> 
> Il 21 maggio 2019 04:25:06 CEST, Nyall Dawson <nyall.dawson at gmail.com>
> ha scritto:
> 
>     Hi list,
> 
>     Given that we're back in freeze and focusing on bug fixing, could we
>     hit the switch and make the final issues migration occur?
> 
>     From my perspective it seems like all the outstanding addresses with
>     the migration have been resolved, nothing new has been raised since a
>     number of weeks (months?) and there's no longer any blockers that I
>     can see from the previous discussions.
> 
>     And it would be oh-so-nice to not have to waste precious bug fixing
>     hours trawling through redmine once again...
> 
>     Nyall
>     ------------------------------------------------------------------------
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> -- 
> Sorry for being short
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Informática
Universidade do Minho
4710-057 Braga
Tel: +351 253604480
Fax: +351 253604471
Móvel: +351 910333888
skype: nabocudnosor

From mp at pergler.org  Wed May 22 01:36:28 2019
From: mp at pergler.org (Martin Pergler)
Date: Wed, 22 May 2019 04:36:28 -0400
Subject: [QGIS-Developer] Accessing clipboard from PyQGis
Message-ID: <CAPo=fnLc75hxoH42pwP2b5i=wuORkOUufSUSKHweNe8FMtHVaQ@mail.gmail.com>

Can one access the internal QGIS clipboard (as defined in
qgsclipboard.h/cpp) in a python script or plugin within QGis desktop?

I've tried QgsApplication.clipboard() and QApplication.clipboard, both of
which return a PyQt5 QClipboard object rather than a QgsClipboard.

In a plugin I'm developing, I'd love to make use of features copied to the
clipboard in native format (e.g. via the copyOf() method of QgsClipboard).
However, if I get a QClipboard I only have access to a text()
representation, the WKT or geoJson format of the features depending
on Settings -> Options -> Data sources -> Copy features as... The same
is also accessible as -- apparently -- the only MIME type via
.mimeData().formats().

I'm running QGis version 3.6.3 on Win10. (Note this is dup of
https://gis.stackexchange.com/questions/322878/accessing-internal-qgis-clipboard-in-python
that
I asked a week ago).

Thanks!

-- 
Martin Pergler
mp at pergler.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/01cc8ec4/attachment.html>

From noreply at qgis.org  Wed May 22 01:53:02 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 22 May 2019 08:53:02 -0000
Subject: [QGIS-Developer] Plugin [995] dzetsaka : Classification tool
	approval notification.
Message-ID: <20190522085302.32152.88213@2c6504964296>


Plugin dzetsaka : Classification tool approval by pcav.
The plugin version "[995] dzetsaka : Classification tool 3.4.5" is now approved
Link: http://plugins.qgis.org/plugins/dzetsaka/

From noreply at qgis.org  Wed May 22 01:53:14 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 22 May 2019 08:53:14 -0000
Subject: [QGIS-Developer] Plugin [1722] QRectangleCreator approval
	notification.
Message-ID: <20190522085314.1245.61284@2c6504964296>


Plugin QRectangleCreator approval by pcav.
The plugin version "[1722] QRectangleCreator 0.2" is now approved
Link: http://plugins.qgis.org/plugins/QRectangleCreator/

From asgerpetersen at gmail.com  Wed May 22 02:25:04 2019
From: asgerpetersen at gmail.com (Asger Sigurd Skovbo Petersen)
Date: Wed, 22 May 2019 11:25:04 +0200
Subject: [QGIS-Developer] Trouble compiling QGIS mapserver only
Message-ID: <CANeF=_hxSSLDpg0CMN=Wz3mSfL6fKySXRM9=WuQH8q-tEC7aRw@mail.gmail.com>

Inspired by bitner's mapserver AWS Lambda layer [0] I wanted to try and
compile a QGIS mapserver for AWS Lambda. Keeping the build to an absolute
minimum is important for several reasons
1) Amazon Linux having basically no package support means compiling all
dependencies from scratch
2) Lambda has a 250MB limit on deployment package size [1]
3) Minimizing complexity

Initially I tried compiling qgis mapserver without gui and python support
at all. INSTALL document [2] states fastcgi as the only dependency, but I
am hit by issue 21382 [3] which means qgis mapserver cannot compile with
SERVER_PLUGINS disabled.

Enabling SERVER_PLUGINS seems to require enabling BINDINGS. As mentioned I
would prefer not having python support at all, but if I make with
WITH_SERVER_PLUGINS=ON, WITH_BINDINGS=ON and WITH_STAGED_PLUGINS=OFF then
`make install` fails when installing db_manager (!):

CMake Error at python/plugins/db_manager/cmake_install.cmake:41 (file):
  file INSTALL cannot find
  "/build/qgis/python/plugins/db_manager/resources_rc.py".
Call Stack (most recent call first):
  python/plugins/cmake_install.cmake:42 (include)
  python/cmake_install.cmake:144 (include)
  cmake_install.cmake:63 (include)

My dockerfile resulting in the above error can be seen at [4]. It is quite
messy as a result of many trial and error iterations.

Shouldnt it be possible to build QGIS mapserver without all the other
stuff? Is it at all possible to build QGIS mapserver as a server
application without all the gui related stuff and preferable without python?

Any advice on how to proceed is extremely welcome!

Thanks in advance
Asger

[0] https://github.com/bitner/mapserverless-layer
[1] https://dashbird.io/blog/exploring-lambda-limitations/
[2]
https://github.com/qgis/QGIS/blob/152a556887fe4c762ef03411a5825d0c120488dd/INSTALL#L123
[3] https://issues.qgis.org/issues/21382
[4]
https://gist.github.com/AsgerPetersen/3b98b02461d745813dda92a10185b22a#file-dockerfile
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/cc3caf2f/attachment.html>

From strk at kbt.io  Wed May 22 02:07:26 2019
From: strk at kbt.io (Sandro Santilli)
Date: Wed, 22 May 2019 11:07:26 +0200
Subject: [QGIS-Developer] Request for a Github Webhook
In-Reply-To: <065521e2-b7f5-c444-edd5-e199b4756b44@base.nz>
References: <c7e14854-9824-ca0c-c236-cd17cc563b33@base.nz>
 <e593b448-cae5-1c84-27c7-9c2b81e21aa6@duif.net>
 <065521e2-b7f5-c444-edd5-e199b4756b44@base.nz>
Message-ID: <20190522090726.GC13235@liz>

On Tue, May 21, 2019 at 08:01:21AM +1200, Joshua wrote:

> I then looked for a QGIS Discord server but couldn't find one.
>
> I decided to
> make one for other people who wanted the same thing. In just a couple of
> days since launching the server we now have 28 members /(now 35)/.

Had you considered using a free platform alternative instead ?
Give this a try: https://riot.im/app/#/room/#qgis:matrix.org

NOTE: the riot.im link lets you join a Matrix room, which is a chat
      room served by an openly documented technology that anyone can
      deploy. The technology aims at being the definitive IM system,
      open source, distributed (federated), interfaceable. It allows
      bridging rooms from many different other technologies, as long as
      the tech owners allow that (Discord is not so easy to merge in)

> Discord currently has 130 million registered users and is growing. Many
> people would happily join a Discord QGIS server because they already use
> Discord and log in everyday.
>
> And many of these people would not join other
> QGIS communication sites because it would be another app they need to use or
> another website they need to log into each day.

I do understand this argument, thus I again recommend you Matrix,
having the aim of being the single communication site giving you
access to all the communities (IRC included).

> My vision for this server is to have it function much the same way it does
> for Minetest. A place to hang out, ask questions, contribute and showcase
> work. Having a Github feed would allow members to keep appraised of the
> latest core development and perhaps inspire them to contribute by making
> their own pull requests. I believe this Discord server will have a net
> positive effect for QGIS.

May I suggest you to see if it is possible to bridge Discord to Matrix ?
You could ask this to the Discord admins (sorry, nobody else can help
but them..)

--strk;

From rdmailings at duif.net  Wed May 22 05:06:49 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 22 May 2019 14:06:49 +0200
Subject: [QGIS-Developer] Redmine migration plan: friday 24 may 8:00 CET
Message-ID: <9c8cc078-f45d-6d73-38bc-db5d8fcc540f@duif.net>

Hi All (lists),

We propose to do the Redmine -> Github migration next friday 24th of may
at 8:00 CET (+2).

More or less following this Migration plan:

https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818

To be clear: this means http://issues.qgis.org cannot be used on friday,
untill the migration is finished and checked.

If anybody has knowledge of an easy way to make Redmine readonly, please
let us know. Some googling to me only revealed changing the database
user or fiddling with the users in the db itself.

Jorge will be in the lead for the Migration team
I (among others) will be around for QGIS Infra
Any help or encouragement is appreciated :-)

Let's meet on IRC on friday morning, we can further decide on
communication if needed/wanted.

If I miss something, please let us know.

Regards,

Richard Duivenvoorde

From noreply at qgis.org  Wed May 22 05:23:24 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 22 May 2019 12:23:24 -0000
Subject: [QGIS-Developer] Plugin [745] PostNAS Suchfunktionen approval
	notification.
Message-ID: <20190522122324.32195.59977@2c6504964296>


Plugin PostNAS Suchfunktionen approval by pcav.
The plugin version "[745] PostNAS Suchfunktionen 1.3.0" is now approved
Link: http://plugins.qgis.org/plugins/PostNAS_Search/

From denis.rouzaud at gmail.com  Wed May 22 05:24:21 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Wed, 22 May 2019 07:24:21 -0500
Subject: [QGIS-Developer] Bug fixing sprint -- can we pull the pin on
 the issues migration?
In-Reply-To: <0d09bbd3-8fe1-3753-fba7-7ee99de0724c@di.uminho.pt>
References: <CAB28AshPJDCebxqH_TcZ4UMNKux2AebYQHjEp7TVe39_MckraQ@mail.gmail.com>
 <FDCE85D2-F162-4D7A-BDD4-6C080E95A2E9@faunalia.it>
 <0d09bbd3-8fe1-3753-fba7-7ee99de0724c@di.uminho.pt>
Message-ID: <CAMtsY+Y9OW+cuWY_cq-OWYYme4op=0=xdVDOeiYaJT7JM7PNqw@mail.gmail.com>

Hi Jorge,

In the last PSC minutes, you can see that the vote was triggered and
accepted to migrate the issues

https://docs.google.com/document/d/1p5bZ5UCClw9gNX-ecbItIpu4Kk_PRDgU7xUvmlpeiU4/edit?usp=sharing

I don't know the next steps, but it would indeed be nice to have it soon
for the bugfixing period.

Cheers

Le mar. 21 mai 2019 à 18:18, Jorge Gustavo Rocha <jgr at di.uminho.pt> a
écrit :

> Hi Paolo,
>
> It would be nice to have a decision by the PSC about this. The technical
> part was discussed and managed by developers, as a regular QEP [1], but
> the decision about the move should be clear and should come from the
> PSC. As far as I remember, we discuss this at Coruña meeting (Tim and
> Nyall were also online) and we all agreed that the last word would be
> from the PSC.
>
> 15 days ago Marco tried to trigger the PSC vote (as he commented in the
> QEP), but I'm not sure if he was able to do it (or to collect the votes
> from the members).
>
> If it possible to have a decision from the PSC, it would be perfect.
>
> Regards,
>
> Jorge Gustavo
>
> [1] https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141
>
>
> Às 05:26 de 21/05/19, Paolo Cavallini escreveu:
> > Hi Nyall,
> > I agree, this is probably the best time for the switch. I don't know of
> > any technical objections. If someone has it, please speak out.
> > Regards.
> >
> > Il 21 maggio 2019 04:25:06 CEST, Nyall Dawson <nyall.dawson at gmail.com>
> > ha scritto:
> >
> >     Hi list,
> >
> >     Given that we're back in freeze and focusing on bug fixing, could we
> >     hit the switch and make the final issues migration occur?
> >
> >     From my perspective it seems like all the outstanding addresses with
> >     the migration have been resolved, nothing new has been raised since a
> >     number of weeks (months?) and there's no longer any blockers that I
> >     can see from the previous discussions.
> >
> >     And it would be oh-so-nice to not have to waste precious bug fixing
> >     hours trawling through redmine once again...
> >
> >     Nyall
> >
>  ------------------------------------------------------------------------
> >     QGIS-Developer mailing list
> >     QGIS-Developer at lists.osgeo.org
> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> > --
> > Sorry for being short
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> J. Gustavo
> --
> Jorge Gustavo Rocha
> Departamento de Informática
> Universidade do Minho
> 4710-057 Braga
> Tel: +351 253604480
> Fax: +351 253604471
> Móvel: +351 910333888
> skype: nabocudnosor
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/b20aa977/attachment.html>

From adenaculture at gmail.com  Wed May 22 06:10:26 2019
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 22 May 2019 09:10:26 -0400
Subject: [QGIS-Developer] Accessing clipboard from PyQGis
In-Reply-To: <CAPo=fnLc75hxoH42pwP2b5i=wuORkOUufSUSKHweNe8FMtHVaQ@mail.gmail.com>
References: <CAPo=fnLc75hxoH42pwP2b5i=wuORkOUufSUSKHweNe8FMtHVaQ@mail.gmail.com>
Message-ID: <CABPxTTqPQfJd9gF4mHhAVmXn5si3OcDZ1mMHfgwJZzK+aRx1tg@mail.gmail.com>

I don't know if this helps but I copy data from QGIS onto the clipboard in
this manner. I'm sure you can go the other way as well.

from qgis.PyQt.QtWidgets import QApplication
text = 'This is a test'
clipboard = QApplication.clipboard()
clipboard.setText(text)

Calvin

On Wed, May 22, 2019 at 4:36 AM Martin Pergler <mp at pergler.org> wrote:

> Can one access the internal QGIS clipboard (as defined in
> qgsclipboard.h/cpp) in a python script or plugin within QGis desktop?
>
> I've tried QgsApplication.clipboard() and QApplication.clipboard, both of
> which return a PyQt5 QClipboard object rather than a QgsClipboard.
>
> In a plugin I'm developing, I'd love to make use of features copied to the
> clipboard in native format (e.g. via the copyOf() method of QgsClipboard).
> However, if I get a QClipboard I only have access to a text()
> representation, the WKT or geoJson format of the features depending
> on Settings -> Options -> Data sources -> Copy features as... The same
> is also accessible as -- apparently -- the only MIME type via
> .mimeData().formats().
>
> I'm running QGis version 3.6.3 on Win10. (Note this is dup of
> https://gis.stackexchange.com/questions/322878/accessing-internal-qgis-clipboard-in-python that
> I asked a week ago).
>
> Thanks!
>
> --
> Martin Pergler
> mp at pergler.org
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/41846366/attachment.html>

From hege at hege.li  Wed May 22 07:30:42 2019
From: hege at hege.li (Henrik Krohns)
Date: Wed, 22 May 2019 17:30:42 +0300
Subject: [QGIS-Developer] Help fixing code for gcc 4.8
Message-ID: <20190522143042.GA32229@hege.li>


Hello,

I've been trying to compile QGis on RHEL7 / GCC 4.8.5 all day.  It seems
lots of code assume newer compiler.  I've fixed many cases already, but
here's something I can't manage..  not really proficient in C++..

src/server/services/wms/qgswmsgetcapabilities.cpp: In function 'bool QgsWms::hasQueryableChildren(const QgsLayerTreeNode*, const QStringList&)':
src/server/services/wms/qgswmsgetcapabilities.cpp:1893:31: error: base operand of '->' has non-pointer type 'const std::initializer_list<const QgsLayerTreeLayer* const>'
       const auto l { treeLayer->layer() };
                               ^
src/server/services/wms/qgswmsgetcapabilities.cpp:1893:41: error: unable to deduce 'const std::initializer_list<const auto>' from '{<expression error>}'
       const auto l { treeLayer->layer() };

The code..

    else if ( childNode->nodeType() == QgsLayerTreeNode::NodeLayer )
    {
      const auto treeLayer { static_cast<const QgsLayerTreeLayer *>( childNode ) };
      const auto l { treeLayer->layer() };
      return ! wmsRestrictedLayers.contains( l->name() ) && l->flags().testFlag( QgsMapLayer::Identifiable );

Any ideas how to rewrite?

Cheers,
Henrik


From marco at opengis.ch  Wed May 22 08:18:04 2019
From: marco at opengis.ch (Marco Bernasocchi)
Date: Wed, 22 May 2019 17:18:04 +0200
Subject: [QGIS-Developer] Bug fixing sprint -- can we pull the pin on
 the issues migration?
In-Reply-To: <0d09bbd3-8fe1-3753-fba7-7ee99de0724c@di.uminho.pt>
References: <CAB28AshPJDCebxqH_TcZ4UMNKux2AebYQHjEp7TVe39_MckraQ@mail.gmail.com>
 <FDCE85D2-F162-4D7A-BDD4-6C080E95A2E9@faunalia.it>
 <0d09bbd3-8fe1-3753-fba7-7ee99de0724c@di.uminho.pt>
Message-ID: <b58e97be-444e-2ec2-9759-ad6894cc17eb@opengis.ch>

Hi Jorge,

the vote was triggered and accepted as visible in the minutes.

Sorry that I forgot to to copy the decision to the QEP.

Thanks a lot for the amazing work

Marco

On 22.05.19 01:18, Jorge Gustavo Rocha wrote:
> Hi Paolo,
>
> It would be nice to have a decision by the PSC about this. The technical
> part was discussed and managed by developers, as a regular QEP [1], but
> the decision about the move should be clear and should come from the
> PSC. As far as I remember, we discuss this at Coruña meeting (Tim and
> Nyall were also online) and we all agreed that the last word would be
> from the PSC.
>
> 15 days ago Marco tried to trigger the PSC vote (as he commented in the
> QEP), but I'm not sure if he was able to do it (or to collect the votes
> from the members).
>
> If it possible to have a decision from the PSC, it would be perfect.
>
> Regards,
>
> Jorge Gustavo
>
> [1] https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141
>
>
> Às 05:26 de 21/05/19, Paolo Cavallini escreveu:
>> Hi Nyall,
>> I agree, this is probably the best time for the switch. I don't know of
>> any technical objections. If someone has it, please speak out.
>> Regards.
>>
>> Il 21 maggio 2019 04:25:06 CEST, Nyall Dawson <nyall.dawson at gmail.com>
>> ha scritto:
>>
>>     Hi list,
>>
>>     Given that we're back in freeze and focusing on bug fixing, could we
>>     hit the switch and make the final issues migration occur?
>>
>>     From my perspective it seems like all the outstanding addresses with
>>     the migration have been resolved, nothing new has been raised since a
>>     number of weeks (months?) and there's no longer any blockers that I
>>     can see from the previous discussions.
>>
>>     And it would be oh-so-nice to not have to waste precious bug fixing
>>     hours trawling through redmine once again...
>>
>>     Nyall
>>     ------------------------------------------------------------------------
>>     QGIS-Developer mailing list
>>     QGIS-Developer at lists.osgeo.org
>>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>> -- 
>> Sorry for being short
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> J. Gustavo
-- 
Marco Bernasocchi
QGIS.org Co-chair
marco at opengis.ch <mailto:marco at opengis.ch>
+41 (0)79 467 24 70 <tel:+41794672470>

OPENGIS.ch Logo <https://www.opengis.ch>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/1447c919/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 6671 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/1447c919/attachment-0001.png>

From apasotti at gmail.com  Wed May 22 08:40:45 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 22 May 2019 17:40:45 +0200
Subject: [QGIS-Developer] Help fixing code for gcc 4.8
In-Reply-To: <20190522143042.GA32229@hege.li>
References: <20190522143042.GA32229@hege.li>
Message-ID: <CAL5Q6722d_kTvTXWysFfDrGA9-xctDknYRSTME-o63ZKhzENuw@mail.gmail.com>

Hi Henrik,

Try to replace {} with (), such as:

const auto treeLayer ( static_cast<const QgsLayerTreeLayer *>( childNode )
);



On Wed, May 22, 2019 at 4:42 PM Henrik Krohns <hege at hege.li> wrote:

>
> Hello,
>
> I've been trying to compile QGis on RHEL7 / GCC 4.8.5 all day.  It seems
> lots of code assume newer compiler.  I've fixed many cases already, but
> here's something I can't manage..  not really proficient in C++..
>
> src/server/services/wms/qgswmsgetcapabilities.cpp: In function 'bool
> QgsWms::hasQueryableChildren(const QgsLayerTreeNode*, const QStringList&)':
> src/server/services/wms/qgswmsgetcapabilities.cpp:1893:31: error: base
> operand of '->' has non-pointer type 'const std::initializer_list<const
> QgsLayerTreeLayer* const>'
>        const auto l { treeLayer->layer() };
>                                ^
> src/server/services/wms/qgswmsgetcapabilities.cpp:1893:41: error: unable
> to deduce 'const std::initializer_list<const auto>' from '{<expression
> error>}'
>        const auto l { treeLayer->layer() };
>
> The code..
>
>     else if ( childNode->nodeType() == QgsLayerTreeNode::NodeLayer )
>     {
>       const auto treeLayer { static_cast<const QgsLayerTreeLayer *>(
> childNode ) };
>       const auto l { treeLayer->layer() };
>       return ! wmsRestrictedLayers.contains( l->name() ) &&
> l->flags().testFlag( QgsMapLayer::Identifiable );
>
> Any ideas how to rewrite?
>
> Cheers,
> Henrik
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/8e5fb8e4/attachment.html>

From matteo.ghetta at gmail.com  Wed May 22 09:02:03 2019
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 22 May 2019 18:02:03 +0200
Subject: [QGIS-Developer] QgsVectorFileWriter for GeoJSON
Message-ID: <22c320bc-a012-97a0-3588-0fd01c3258ce@gmail.com>

Hi all,

I cannot export a layer as GeoJSON using a very simple syntax:

error = QgsVectorFileWriter.writeAsVectorFormat(layer=vl,
fileName="/home/matteo/Desktop/my_json.geojson",
driverName="GeoJSON")

I always get an error like:

TypeError: QgsVectorFileWriter.writeAsVectorFormat(): arguments did not
match any overloaded call:
  overload 1: 'driverName' is not a valid keyword argument
  overload 2: 'driverName' is not a valid keyword argument
  overload 3: 'driverName' is not a valid keyword argument

while with:

QgsVectorFileWriter.driverForExtension('.geojson') the output is:

'GeoJSON'

and from the documentation driverName seems to be a keyword argument:

https://qgis.org/pyqgis/master/core/QgsVectorFileWriter.html#qgis.core.QgsVectorFileWriter.writeAsVectorFormat

with "ESRI Shapefile" it works correctly.

Am I missing something?

Cheers and thanks for all the hints

Matteo

From apasotti at gmail.com  Wed May 22 09:20:30 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 22 May 2019 18:20:30 +0200
Subject: [QGIS-Developer] QgsVectorFileWriter for GeoJSON
In-Reply-To: <22c320bc-a012-97a0-3588-0fd01c3258ce@gmail.com>
References: <22c320bc-a012-97a0-3588-0fd01c3258ce@gmail.com>
Message-ID: <CAL5Q672N0vTQRcL8PR4Tp+XDXz-qFahgiWC2ECOavSPoUwh-0g@mail.gmail.com>

Hi Matteo,

Did you try this?
https://qgis.org/pyqgis/master/core/QgsJsonExporter.html?highlight=json#module-QgsJsonExporter


On Wed, May 22, 2019 at 6:02 PM matteo <matteo.ghetta at gmail.com> wrote:

> Hi all,
>
> I cannot export a layer as GeoJSON using a very simple syntax:
>
> error = QgsVectorFileWriter.writeAsVectorFormat(layer=vl,
> fileName="/home/matteo/Desktop/my_json.geojson",
> driverName="GeoJSON")
>
> I always get an error like:
>
> TypeError: QgsVectorFileWriter.writeAsVectorFormat(): arguments did not
> match any overloaded call:
>   overload 1: 'driverName' is not a valid keyword argument
>   overload 2: 'driverName' is not a valid keyword argument
>   overload 3: 'driverName' is not a valid keyword argument
>
> while with:
>
> QgsVectorFileWriter.driverForExtension('.geojson') the output is:
>
> 'GeoJSON'
>
> and from the documentation driverName seems to be a keyword argument:
>
>
> https://qgis.org/pyqgis/master/core/QgsVectorFileWriter.html#qgis.core.QgsVectorFileWriter.writeAsVectorFormat
>
> with "ESRI Shapefile" it works correctly.
>
> Am I missing something?
>
> Cheers and thanks for all the hints
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/f981f605/attachment.html>

From noreply at qgis.org  Wed May 22 10:20:30 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 22 May 2019 17:20:30 -0000
Subject: [QGIS-Developer] Plugin [1722] QRectangleCreator approval
	notification.
Message-ID: <20190522172030.18783.39162@2c6504964296>


Plugin QRectangleCreator approval by pcav.
The plugin version "[1722] QRectangleCreator 0.3" is now approved
Link: http://plugins.qgis.org/plugins/QRectangleCreator/

From cavallini at faunalia.it  Wed May 22 10:25:36 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 22 May 2019 19:25:36 +0200
Subject: [QGIS-Developer] Bug fixing sprint -- can we pull the pin on
 the issues migration?
In-Reply-To: <CAMtsY+Y9OW+cuWY_cq-OWYYme4op=0=xdVDOeiYaJT7JM7PNqw@mail.gmail.com>
References: <CAB28AshPJDCebxqH_TcZ4UMNKux2AebYQHjEp7TVe39_MckraQ@mail.gmail.com>
 <FDCE85D2-F162-4D7A-BDD4-6C080E95A2E9@faunalia.it>
 <0d09bbd3-8fe1-3753-fba7-7ee99de0724c@di.uminho.pt>
 <CAMtsY+Y9OW+cuWY_cq-OWYYme4op=0=xdVDOeiYaJT7JM7PNqw@mail.gmail.com>
Message-ID: <0921499e-14ad-5d78-899a-33495b03e8fe@faunalia.it>

Ola Jorge,
sorry for not replying sooner (real work hits hard sometimes). Indeed,
decision was taken, so you have green light to proceed.
Thanks!

On 22/05/19 14:24, Denis Rouzaud wrote:
> Hi Jorge,
> 
> In the last PSC minutes, you can see that the vote was triggered and
> accepted to migrate the issues
> 
> https://docs.google.com/document/d/1p5bZ5UCClw9gNX-ecbItIpu4Kk_PRDgU7xUvmlpeiU4/edit?usp=sharing
> 
> I don't know the next steps, but it would indeed be nice to have it soon
> for the bugfixing period.
> 
> Cheers
> 
> Le mar. 21 mai 2019 à 18:18, Jorge Gustavo Rocha <jgr at di.uminho.pt
> <mailto:jgr at di.uminho.pt>> a écrit :
> 
>     Hi Paolo,
> 
>     It would be nice to have a decision by the PSC about this. The technical
>     part was discussed and managed by developers, as a regular QEP [1], but
>     the decision about the move should be clear and should come from the
>     PSC. As far as I remember, we discuss this at Coruña meeting (Tim and
>     Nyall were also online) and we all agreed that the last word would be
>     from the PSC.
> 
>     15 days ago Marco tried to trigger the PSC vote (as he commented in the
>     QEP), but I'm not sure if he was able to do it (or to collect the votes
>     from the members).
> 
>     If it possible to have a decision from the PSC, it would be perfect.
> 
>     Regards,
> 
>     Jorge Gustavo
> 
>     [1] https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141
> 
> 
>     Às 05:26 de 21/05/19, Paolo Cavallini escreveu:
>     > Hi Nyall,
>     > I agree, this is probably the best time for the switch. I don't
>     know of
>     > any technical objections. If someone has it, please speak out.
>     > Regards.
>     >
>     > Il 21 maggio 2019 04:25:06 CEST, Nyall Dawson
>     <nyall.dawson at gmail.com <mailto:nyall.dawson at gmail.com>>
>     > ha scritto:
>     >
>     >     Hi list,
>     >
>     >     Given that we're back in freeze and focusing on bug fixing,
>     could we
>     >     hit the switch and make the final issues migration occur?
>     >
>     >     From my perspective it seems like all the outstanding
>     addresses with
>     >     the migration have been resolved, nothing new has been raised
>     since a
>     >     number of weeks (months?) and there's no longer any blockers
>     that I
>     >     can see from the previous discussions.
>     >
>     >     And it would be oh-so-nice to not have to waste precious bug
>     fixing
>     >     hours trawling through redmine once again...
>     >
>     >     Nyall
>     >   
>      ------------------------------------------------------------------------
>     >     QGIS-Developer mailing list
>     >     QGIS-Developer at lists.osgeo.org
>     <mailto:QGIS-Developer at lists.osgeo.org>
>     >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >
>     >
>     > --
>     > Sorry for being short
>     >
>     > _______________________________________________
>     > QGIS-Developer mailing list
>     > QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >
> 
>     J. Gustavo
>     -- 
>     Jorge Gustavo Rocha
>     Departamento de Informática
>     Universidade do Minho
>     4710-057 Braga
>     Tel: +351 253604480
>     Fax: +351 253604471
>     Móvel: +351 910333888
>     skype: nabocudnosor
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From noreply at qgis.org  Wed May 22 10:36:41 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 22 May 2019 17:36:41 -0000
Subject: [QGIS-Developer] Plugin [1723] Color to Attribute approval
	notification.
Message-ID: <20190522173641.18783.57505@2c6504964296>


Plugin Color to Attribute approval by pcav.
The plugin version "[1723] Color to Attribute 0.1" is now approved
Link: http://plugins.qgis.org/plugins/color_attribute/

From hege at hege.li  Wed May 22 10:40:40 2019
From: hege at hege.li (Henrik Krohns)
Date: Wed, 22 May 2019 20:40:40 +0300
Subject: [QGIS-Developer] Help fixing code for gcc 4.8
In-Reply-To: <CAL5Q6722d_kTvTXWysFfDrGA9-xctDknYRSTME-o63ZKhzENuw@mail.gmail.com>
References: <20190522143042.GA32229@hege.li>
 <CAL5Q6722d_kTvTXWysFfDrGA9-xctDknYRSTME-o63ZKhzENuw@mail.gmail.com>
Message-ID: <20190522174040.GA14113@hege.li>


Thanks, it worked, so simple..

Are fixes like this good canditate to actually raise an issue? I have no clue
on all the C++ versions etc and what stuff is legacy not intended to use
these days..

But if I manage to get this running I'll post all my patches somewhere.

On Wed, May 22, 2019 at 05:40:45PM +0200, Alessandro Pasotti wrote:
> 
> Hi Henrik,
> 
> Try to replace {} with (), such as:
> 
> const auto treeLayer ( static_cast<const QgsLayerTreeLayer *>( childNode ) );
> 
> 
> 
> On Wed, May 22, 2019 at 4:42 PM Henrik Krohns <[1]hege at hege.li> wrote:
> 
> 
>     Hello,
> 
>     I've been trying to compile QGis on RHEL7 / GCC 4.8.5 all day.  It seems
>     lots of code assume newer compiler.  I've fixed many cases already, but
>     here's something I can't manage..  not really proficient in C++..
> 
>     src/server/services/wms/qgswmsgetcapabilities.cpp: In function 'bool
>     QgsWms::hasQueryableChildren(const QgsLayerTreeNode*, const QStringList&)':
>     src/server/services/wms/qgswmsgetcapabilities.cpp:1893:31: error: base
>     operand of '->' has non-pointer type 'const std::initializer_list<const
>     QgsLayerTreeLayer* const>'
>            const auto l { treeLayer->layer() };
>                                    ^
>     src/server/services/wms/qgswmsgetcapabilities.cpp:1893:41: error: unable to
>     deduce 'const std::initializer_list<const auto>' from '{<expression error>}
>     '
>            const auto l { treeLayer->layer() };
> 
>     The code..
> 
>         else if ( childNode->nodeType() == QgsLayerTreeNode::NodeLayer )
>         {
>           const auto treeLayer { static_cast<const QgsLayerTreeLayer *>(
>     childNode ) };
>           const auto l { treeLayer->layer() };
>           return ! wmsRestrictedLayers.contains( l->name() ) && l->flags
>     ().testFlag( QgsMapLayer::Identifiable );
> 
>     Any ideas how to rewrite?
> 
>     Cheers,
>     Henrik
> 
>     _______________________________________________
>     QGIS-Developer mailing list
>     [2]QGIS-Developer at lists.osgeo.org
>     List info: [3]https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: [4]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 
> --
> Alessandro Pasotti
> w3:   [5]www.itopen.it
> 
> References:
> 
> [1] mailto:hege at hege.li
> [2] mailto:QGIS-Developer at lists.osgeo.org
> [3] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [4] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [5] http://www.itopen.it/

From ecarter at 3vgeomatics.com  Wed May 22 10:50:47 2019
From: ecarter at 3vgeomatics.com (Elias Carter)
Date: Wed, 22 May 2019 10:50:47 -0700
Subject: [QGIS-Developer] Help fixing code for gcc 4.8
In-Reply-To: <20190522174040.GA14113@hege.li>
References: <20190522143042.GA32229@hege.li>
 <CAL5Q6722d_kTvTXWysFfDrGA9-xctDknYRSTME-o63ZKhzENuw@mail.gmail.com>
 <20190522174040.GA14113@hege.li>
Message-ID: <CACq2deJAQs+0XuTEuYERo6S3+2_mcj-+zasH-NbTiBtFbVeP0g@mail.gmail.com>

> But if I manage to get this running I'll post all my patches somewhere.

Hi Henrik,
I would be interested in collaborating with you to get QGIS 3 running on
RHEL/CentOS 7.
Would you be willing to share your current patchset and maybe I can help
out with getting this working?

Thanks,
Elias


On Wed, May 22, 2019 at 10:40 AM Henrik Krohns <hege at hege.li> wrote:

>
> Thanks, it worked, so simple..
>
> Are fixes like this good canditate to actually raise an issue? I have no
> clue
> on all the C++ versions etc and what stuff is legacy not intended to use
> these days..
>
> But if I manage to get this running I'll post all my patches somewhere.
>
> On Wed, May 22, 2019 at 05:40:45PM +0200, Alessandro Pasotti wrote:
> >
> > Hi Henrik,
> >
> > Try to replace {} with (), such as:
> >
> > const auto treeLayer ( static_cast<const QgsLayerTreeLayer *>( childNode
> ) );
> >
> >
> >
> > On Wed, May 22, 2019 at 4:42 PM Henrik Krohns <[1]hege at hege.li> wrote:
> >
> >
> >     Hello,
> >
> >     I've been trying to compile QGis on RHEL7 / GCC 4.8.5 all day.  It
> seems
> >     lots of code assume newer compiler.  I've fixed many cases already,
> but
> >     here's something I can't manage..  not really proficient in C++..
> >
> >     src/server/services/wms/qgswmsgetcapabilities.cpp: In function 'bool
> >     QgsWms::hasQueryableChildren(const QgsLayerTreeNode*, const
> QStringList&)':
> >     src/server/services/wms/qgswmsgetcapabilities.cpp:1893:31: error:
> base
> >     operand of '->' has non-pointer type 'const
> std::initializer_list<const
> >     QgsLayerTreeLayer* const>'
> >            const auto l { treeLayer->layer() };
> >                                    ^
> >     src/server/services/wms/qgswmsgetcapabilities.cpp:1893:41: error:
> unable to
> >     deduce 'const std::initializer_list<const auto>' from '{<expression
> error>}
> >     '
> >            const auto l { treeLayer->layer() };
> >
> >     The code..
> >
> >         else if ( childNode->nodeType() == QgsLayerTreeNode::NodeLayer )
> >         {
> >           const auto treeLayer { static_cast<const QgsLayerTreeLayer *>(
> >     childNode ) };
> >           const auto l { treeLayer->layer() };
> >           return ! wmsRestrictedLayers.contains( l->name() ) && l->flags
> >     ().testFlag( QgsMapLayer::Identifiable );
> >
> >     Any ideas how to rewrite?
> >
> >     Cheers,
> >     Henrik
> >
> >     _______________________________________________
> >     QGIS-Developer mailing list
> >     [2]QGIS-Developer at lists.osgeo.org
> >     List info: [3]
> https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     Unsubscribe: [4]
> https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> > --
> > Alessandro Pasotti
> > w3:   [5]www.itopen.it
> >
> > References:
> >
> > [1] mailto:hege at hege.li
> > [2] mailto:QGIS-Developer at lists.osgeo.org
> > [3] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [4] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [5] http://www.itopen.it/
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/93d8f669/attachment.html>

From adibsaliba75 at gmail.com  Wed May 22 11:48:06 2019
From: adibsaliba75 at gmail.com (=?UTF-8?B?YWRpYiBzYWxpYmE=?=)
Date: Wed, 22 May 2019 21:48:06 +0300
Subject: [QGIS-Developer] =?utf-8?q?Qgis_server_systemd?=
Message-ID: <1558550886.434267972@f2.my.com>


Dear sirs, I have a question regarding qgis server setup:
I deployed qgis server on ubuntu server using nginx+systemd
| tried 2types of service : simple and forking with
number of process = number of cores.
The type=simple is faster but it is not freeing up
memory even if I'm using Restart=always, the
type=forking is freeing memory but gives error
prematurely closed connection to fastcgi upstream.
Could you please advise me how to correctly configure the service type simple to freeup memory?
Thanks and best regards
Adib Saliba
--
Sent from myMail for Android
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/936584d7/attachment.html>

From nyall.dawson at gmail.com  Wed May 22 17:08:39 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 23 May 2019 10:08:39 +1000
Subject: [QGIS-Developer] QgsVectorFileWriter for GeoJSON
In-Reply-To: <22c320bc-a012-97a0-3588-0fd01c3258ce@gmail.com>
References: <22c320bc-a012-97a0-3588-0fd01c3258ce@gmail.com>
Message-ID: <CAB28Asjga0U46uKZt_4P4kKX-5b3NhpyWG2LZkYC96fS8PAw3A@mail.gmail.com>

On Thu, 23 May 2019 at 02:02, matteo <matteo.ghetta at gmail.com> wrote:
>
> Hi all,
>
> I cannot export a layer as GeoJSON using a very simple syntax:
>
> error = QgsVectorFileWriter.writeAsVectorFormat(layer=vl,
> fileName="/home/matteo/Desktop/my_json.geojson",
> driverName="GeoJSON")
>
> I always get an error like:
>
> TypeError: QgsVectorFileWriter.writeAsVectorFormat(): arguments did not
> match any overloaded call:
>   overload 1: 'driverName' is not a valid keyword argument
>   overload 2: 'driverName' is not a valid keyword argument
>   overload 3: 'driverName' is not a valid keyword argument
>

It's a rubbish error message. Blame sip. It should be saying:

"arguments did not match any overloaded call:
missing 1 required positional argument: 'fileEncoding'"

Because, as the dox show, fileEncoding is a required argument. And
indeed, this works fine for me:

    error = QgsVectorFileWriter.writeAsVectorFormat(layer=iface.activeLayer(),fileEncoding='UTF-8',fileName='/home/nyall/Temporary/test.geojson',driverName='GeoJSON')

Nyall

From nyall.dawson at gmail.com  Wed May 22 17:09:43 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 23 May 2019 10:09:43 +1000
Subject: [QGIS-Developer] [Qgis-psc] Redmine migration plan: friday 24
	may 8:00 CET
In-Reply-To: <9c8cc078-f45d-6d73-38bc-db5d8fcc540f@duif.net>
References: <9c8cc078-f45d-6d73-38bc-db5d8fcc540f@duif.net>
Message-ID: <CAB28Asgwpq90oH3Yj=k+mrx9ec3PGRvR9cLsQd-ix=TpHDanUQ@mail.gmail.com>

On Wed, 22 May 2019 at 22:07, Richard Duivenvoorde <rdmailings at duif.net> wrote:
>
> Hi All (lists),
>
> We propose to do the Redmine -> Github migration next friday 24th of may
> at 8:00 CET (+2).
>
> More or less following this Migration plan:
>
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818

Woohoo! It's finally happening!

Well done to the whole team involved here, it's an exceptional effort
getting things to this stage!

Nyall

>
> To be clear: this means http://issues.qgis.org cannot be used on friday,
> untill the migration is finished and checked.
>
> If anybody has knowledge of an easy way to make Redmine readonly, please
> let us know. Some googling to me only revealed changing the database
> user or fiddling with the users in the db itself.
>
> Jorge will be in the lead for the Migration team
> I (among others) will be around for QGIS Infra
> Any help or encouragement is appreciated :-)
>
> Let's meet on IRC on friday morning, we can further decide on
> communication if needed/wanted.
>
> If I miss something, please let us know.
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-psc

From eric.lemoine at oslandia.com  Wed May 22 21:39:13 2019
From: eric.lemoine at oslandia.com (Eric)
Date: Thu, 23 May 2019 06:39:13 +0200
Subject: [QGIS-Developer] Qgis server systemd
In-Reply-To: <1558550886.434267972@f2.my.com>
References: <1558550886.434267972@f2.my.com>
Message-ID: <78EE2BBD-C964-478C-97AE-9D03E2F9B2D3@oslandia.com>



Le 22 mai 2019 20:48:06 GMT+02:00, adib saliba <adibsaliba75 at gmail.com> a écrit :
>
>Dear sirs, I have a question regarding qgis server setup:
>I deployed qgis server on ubuntu server using nginx+systemd
>| tried 2types of service : simple and forking with
>number of process = number of cores.
>The type=simple is faster but it is not freeing up
>memory even if I'm using Restart=always, the
>type=forking is freeing memory but gives error
>prematurely closed connection to fastcgi upstream.
>Could you please advise me how to correctly configure the service type
>simple to freeup memory?


Hi Adib

We've been using Type=simple without experiencing the memory issue you are seeing. See https://oslandia.com/en/2018/11/23/deploying-qgis-server-with-systemd/ for the actual set-up we use. It would be good to know more about your set-up and the memory issue you're having.


Cheers,
--
Éric

From hege at hege.li  Thu May 23 00:01:33 2019
From: hege at hege.li (Henrik K)
Date: Thu, 23 May 2019 10:01:33 +0300
Subject: [QGIS-Developer] Help fixing code for gcc 4.8
In-Reply-To: <CACq2deJAQs+0XuTEuYERo6S3+2_mcj-+zasH-NbTiBtFbVeP0g@mail.gmail.com>
References: <20190522143042.GA32229@hege.li>
 <CAL5Q6722d_kTvTXWysFfDrGA9-xctDknYRSTME-o63ZKhzENuw@mail.gmail.com>
 <20190522174040.GA14113@hege.li>
 <CACq2deJAQs+0XuTEuYERo6S3+2_mcj-+zasH-NbTiBtFbVeP0g@mail.gmail.com>
Message-ID: <20190523070133.GA32660@hege.li>


I'm almost near finishing, but qgswmsrenderer.cpp is throwing a lot of
errors (for bot 3.4.8 and 3.6.3).  Could someone have a look at this:

https://pastebin.com/JS7uKAZ7

The two expression errors there I fixed per previous advice..
const auto { } -> ( )

Cheers,
Henrik


On Wed, May 22, 2019 at 10:50:47AM -0700, Elias Carter wrote:
> > But if I manage to get this running I'll post all my patches somewhere.
> 
> Hi Henrik,
> I would be interested in collaborating with you to get QGIS 3 running on RHEL/
> CentOS 7.
> Would you be willing to share your current patchset and maybe I can help out
> with getting this working?
> 
> Thanks,
> Elias
> 
> 
> On Wed, May 22, 2019 at 10:40 AM Henrik Krohns <[1]hege at hege.li> wrote:
> 
> 
>     Thanks, it worked, so simple..
> 
>     Are fixes like this good canditate to actually raise an issue? I have no
>     clue
>     on all the C++ versions etc and what stuff is legacy not intended to use
>     these days..
> 
>     But if I manage to get this running I'll post all my patches somewhere.
> 
>     On Wed, May 22, 2019 at 05:40:45PM +0200, Alessandro Pasotti wrote:
>     >
>     > Hi Henrik,
>     >
>     > Try to replace {} with (), such as:
>     >
>     > const auto treeLayer ( static_cast<const QgsLayerTreeLayer *>( childNode
>     ) );
>     >
>     >
>     >
>     > On Wed, May 22, 2019 at 4:42 PM Henrik Krohns <[1][2]hege at hege.li> wrote:
>     >
>     >
>     >     Hello,
>     >
>     >     I've been trying to compile QGis on RHEL7 / GCC 4.8.5 all day.  It
>     seems
>     >     lots of code assume newer compiler.  I've fixed many cases already,
>     but
>     >     here's something I can't manage..  not really proficient in C++..
>     >
>     >     src/server/services/wms/qgswmsgetcapabilities.cpp: In function 'bool
>     >     QgsWms::hasQueryableChildren(const QgsLayerTreeNode*, const
>     QStringList&)':
>     >     src/server/services/wms/qgswmsgetcapabilities.cpp:1893:31: error:
>     base
>     >     operand of '->' has non-pointer type 'const std::initializer_list
>     <const
>     >     QgsLayerTreeLayer* const>'
>     >            const auto l { treeLayer->layer() };
>     >                                    ^
>     >     src/server/services/wms/qgswmsgetcapabilities.cpp:1893:41: error:
>     unable to
>     >     deduce 'const std::initializer_list<const auto>' from '{<expression
>     error>}
>     >     '
>     >            const auto l { treeLayer->layer() };
>     >
>     >     The code..
>     >
>     >         else if ( childNode->nodeType() == QgsLayerTreeNode::NodeLayer )
>     >         {
>     >           const auto treeLayer { static_cast<const QgsLayerTreeLayer *>(
>     >     childNode ) };
>     >           const auto l { treeLayer->layer() };
>     >           return ! wmsRestrictedLayers.contains( l->name() ) && l->flags
>     >     ().testFlag( QgsMapLayer::Identifiable );
>     >
>     >     Any ideas how to rewrite?
>     >
>     >     Cheers,
>     >     Henrik
>     >
>     >     _______________________________________________
>     >     QGIS-Developer mailing list
>     >     [2][3]QGIS-Developer at lists.osgeo.org
>     >     List info: [3][4]https://lists.osgeo.org/mailman/listinfo/
>     qgis-developer
>     >     Unsubscribe: [4][5]https://lists.osgeo.org/mailman/listinfo/
>     qgis-developer
>     >
>     >
>     >
>     > --
>     > Alessandro Pasotti
>     > w3:   [5][6]www.itopen.it
>     >
>     > References:
>     >
>     > [1] mailto:[7]hege at hege.li
>     > [2] mailto:[8]QGIS-Developer at lists.osgeo.org
>     > [3] [9]https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > [4] [10]https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > [5] [11]http://www.itopen.it/
>     _______________________________________________
>     QGIS-Developer mailing list
>     [12]QGIS-Developer at lists.osgeo.org
>     List info: [13]https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: [14]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> References:
> 
> [1] mailto:hege at hege.li
> [2] mailto:hege at hege.li
> [3] mailto:QGIS-Developer at lists.osgeo.org
> [4] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [5] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [6] http://www.itopen.it/
> [7] mailto:hege at hege.li
> [8] mailto:QGIS-Developer at lists.osgeo.org
> [9] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [10] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [11] http://www.itopen.it/
> [12] mailto:QGIS-Developer at lists.osgeo.org
> [13] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [14] https://lists.osgeo.org/mailman/listinfo/qgis-developer

From adibsaliba75 at gmail.com  Thu May 23 00:09:22 2019
From: adibsaliba75 at gmail.com (adib saliba)
Date: Thu, 23 May 2019 10:09:22 +0300
Subject: [QGIS-Developer] Fwd:  Qgis server systemd
In-Reply-To: <CAJdv0RSVTf8vFqPXpTiVhT7on6-qB_bktnRxwgXyxiM_hhZLsQ@mail.gmail.com>
References: <1558550886.434267972@f2.my.com>
 <78EE2BBD-C964-478C-97AE-9D03E2F9B2D3@oslandia.com>
 <CAJdv0RSVTf8vFqPXpTiVhT7on6-qB_bktnRxwgXyxiM_hhZLsQ@mail.gmail.com>
Message-ID: <CAJdv0RSzvQCPevvwwsKLzDThmYefWxf1BMe9u94k0ZKsKwDYNQ@mail.gmail.com>

---------- Forwarded message ---------
From: adib saliba <adibsaliba75 at gmail.com>
Date: Thu, May 23, 2019 at 10:08 AM
Subject: Re: [QGIS-Developer] Qgis server systemd
To: Eric <eric.lemoine at oslandia.com>


Dear Eric
Thank you very much for your response
I already followed the link you mentioned, i am using ubuntu 19.04 with
nginx php-fpm postgresql qgis server stable release and lizmap web client
with wmts caching.
my problem is that the memory is not recycling after the main  process
finishes (i get all the image tiles), and it is always increasing till the
system is out of memory.
the only solution i found is to use RuntimeMaxSec variable to restart the
service.
please find attached the conf files i'm using

Thanks and best regards
Adib

On Thu, May 23, 2019 at 7:39 AM Eric <eric.lemoine at oslandia.com> wrote:

>
>
> Le 22 mai 2019 20:48:06 GMT+02:00, adib saliba <adibsaliba75 at gmail.com> a
> écrit :
> >
> >Dear sirs, I have a question regarding qgis server setup:
> >I deployed qgis server on ubuntu server using nginx+systemd
> >| tried 2types of service : simple and forking with
> >number of process = number of cores.
> >The type=simple is faster but it is not freeing up
> >memory even if I'm using Restart=always, the
> >type=forking is freeing memory but gives error
> >prematurely closed connection to fastcgi upstream.
> >Could you please advise me how to correctly configure the service type
> >simple to freeup memory?
>
>
> Hi Adib
>
> We've been using Type=simple without experiencing the memory issue you are
> seeing. See
> https://oslandia.com/en/2018/11/23/deploying-qgis-server-with-systemd/
> for the actual set-up we use. It would be good to know more about your
> set-up and the memory issue you're having.
>
>
> Cheers,
> --
> Éric
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190523/f9bf4c2c/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis-server-fcgi
Type: application/octet-stream
Size: 6495 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190523/f9bf4c2c/attachment-0003.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis-server-fcgi at .socket
Type: application/octet-stream
Size: 231 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190523/f9bf4c2c/attachment-0004.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis-server-fcgi at .service
Type: application/octet-stream
Size: 1782 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190523/f9bf4c2c/attachment-0005.obj>

From matteo.ghetta at gmail.com  Thu May 23 00:15:34 2019
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 23 May 2019 09:15:34 +0200
Subject: [QGIS-Developer] QgsVectorFileWriter for GeoJSON
In-Reply-To: <CAL5Q672N0vTQRcL8PR4Tp+XDXz-qFahgiWC2ECOavSPoUwh-0g@mail.gmail.com>
References: <22c320bc-a012-97a0-3588-0fd01c3258ce@gmail.com>
 <CAL5Q672N0vTQRcL8PR4Tp+XDXz-qFahgiWC2ECOavSPoUwh-0g@mail.gmail.com>
Message-ID: <97b97035-73b5-fd96-86c0-852d424de7f0@gmail.com>

Hi Ale,


> https://qgis.org/pyqgis/master/core/QgsJsonExporter.html?highlight=json#module-QgsJsonExporter

didn't know this class, thanks!

The correct way to use it is something like:

gl = QgsJsonExporter(vl, 6)
gl.exportFeatures([i for i in vl.getFeatures()])

and then write the final geojson file "manually"?

Thanks!

Matteo

From matteo.ghetta at gmail.com  Thu May 23 00:17:58 2019
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 23 May 2019 09:17:58 +0200
Subject: [QGIS-Developer] QgsVectorFileWriter for GeoJSON
In-Reply-To: <CAB28Asjga0U46uKZt_4P4kKX-5b3NhpyWG2LZkYC96fS8PAw3A@mail.gmail.com>
References: <22c320bc-a012-97a0-3588-0fd01c3258ce@gmail.com>
 <CAB28Asjga0U46uKZt_4P4kKX-5b3NhpyWG2LZkYC96fS8PAw3A@mail.gmail.com>
Message-ID: <89a48107-73c3-bae4-79c9-f9aeadd9f5e8@gmail.com>

Hi Nyall,

> It's a rubbish error message. Blame sip. It should be saying:
> 
> "arguments did not match any overloaded call:
> missing 1 required positional argument: 'fileEncoding'"

ahhhhh ok, get it now, thanks!
> 
> Because, as the dox show, fileEncoding is a required argument. And
> indeed, this works fine for me:
> 
>     error = QgsVectorFileWriter.writeAsVectorFormat(layer=iface.activeLayer(),fileEncoding='UTF-8',fileName='/home/nyall/Temporary/test.geojson',driverName='GeoJSON')

however is it possible that the exported geojson file does not have the
Z value even if the source file has it? It happens also by exporting the
layer with the UI and forcing the geometry type and checking the
"Include Z dimension".

Cheers

Matteo


From rldhont at gmail.com  Thu May 23 00:27:38 2019
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Thu, 23 May 2019 09:27:38 +0200
Subject: [QGIS-Developer] PyQGIS : Creating a Geopackage layer without
	adding features
Message-ID: <bd014d9c-2342-236b-f05d-4ab0c99890ed@gmail.com>

Hi Dev,

I would like to create a geopackage with multiple layers but without 
features. I'd like to do the same thing as the 
QgsNewGeoPackageLayerDialog do but without user interface in python.

I have tested with QgsVectorFileWriter, but the file and layer are not 
created if add feature is not used.

Do I have to use Python OGR packaging to do so ?

Regards,
René-Luc

From apasotti at gmail.com  Thu May 23 00:46:54 2019
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 23 May 2019 09:46:54 +0200
Subject: [QGIS-Developer] Help fixing code for gcc 4.8
In-Reply-To: <20190523070133.GA32660@hege.li>
References: <20190522143042.GA32229@hege.li>
 <CAL5Q6722d_kTvTXWysFfDrGA9-xctDknYRSTME-o63ZKhzENuw@mail.gmail.com>
 <20190522174040.GA14113@hege.li>
 <CACq2deJAQs+0XuTEuYERo6S3+2_mcj-+zasH-NbTiBtFbVeP0g@mail.gmail.com>
 <20190523070133.GA32660@hege.li>
Message-ID: <CAL5Q6712w_XmA-nRXmiXmoh6fWbgCrUsizErzMnRxRJr+LF4yw@mail.gmail.com>

Henrik,

I'm afraid you will have an hard time: we are using more and more C++11
list initialization (aka *brace initialization) * in the code,
if your compiler do not support it well, you will get a lot of errors.

That said if it's just that single line that blocks your porting feel free
to make a pull request to change it.

You may also try to remove "auto":
const QgsLayerTreeLayer* treeLayer { static_cast<const QgsLayerTreeLayer
*>( childNode ) };


for some background:

https://stackoverflow.com/questions/18222926/why-is-list-initialization-using-curly-braces-better-than-the-alternatives
http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Res-list

an "amusing" read:
http://mikelui.io/2019/01/03/seriously-bonkers.html



On Thu, May 23, 2019 at 9:01 AM Henrik K <hege at hege.li> wrote:

>
> I'm almost near finishing, but qgswmsrenderer.cpp is throwing a lot of
> errors (for bot 3.4.8 and 3.6.3).  Could someone have a look at this:
>
> https://pastebin.com/JS7uKAZ7
>
> The two expression errors there I fixed per previous advice..
> const auto { } -> ( )
>
> Cheers,
> Henrik
>
>
> On Wed, May 22, 2019 at 10:50:47AM -0700, Elias Carter wrote:
> > > But if I manage to get this running I'll post all my patches somewhere.
> >
> > Hi Henrik,
> > I would be interested in collaborating with you to get QGIS 3 running on
> RHEL/
> > CentOS 7.
> > Would you be willing to share your current patchset and maybe I can help
> out
> > with getting this working?
> >
> > Thanks,
> > Elias
> >
> >
> > On Wed, May 22, 2019 at 10:40 AM Henrik Krohns <[1]hege at hege.li> wrote:
> >
> >
> >     Thanks, it worked, so simple..
> >
> >     Are fixes like this good canditate to actually raise an issue? I
> have no
> >     clue
> >     on all the C++ versions etc and what stuff is legacy not intended to
> use
> >     these days..
> >
> >     But if I manage to get this running I'll post all my patches
> somewhere.
> >
> >     On Wed, May 22, 2019 at 05:40:45PM +0200, Alessandro Pasotti wrote:
> >     >
> >     > Hi Henrik,
> >     >
> >     > Try to replace {} with (), such as:
> >     >
> >     > const auto treeLayer ( static_cast<const QgsLayerTreeLayer *>(
> childNode
> >     ) );
> >     >
> >     >
> >     >
> >     > On Wed, May 22, 2019 at 4:42 PM Henrik Krohns <[1][2]hege at hege.li>
> wrote:
> >     >
> >     >
> >     >     Hello,
> >     >
> >     >     I've been trying to compile QGis on RHEL7 / GCC 4.8.5 all
> day.  It
> >     seems
> >     >     lots of code assume newer compiler.  I've fixed many cases
> already,
> >     but
> >     >     here's something I can't manage..  not really proficient in
> C++..
> >     >
> >     >     src/server/services/wms/qgswmsgetcapabilities.cpp: In function
> 'bool
> >     >     QgsWms::hasQueryableChildren(const QgsLayerTreeNode*, const
> >     QStringList&)':
> >     >     src/server/services/wms/qgswmsgetcapabilities.cpp:1893:31:
> error:
> >     base
> >     >     operand of '->' has non-pointer type 'const
> std::initializer_list
> >     <const
> >     >     QgsLayerTreeLayer* const>'
> >     >            const auto l { treeLayer->layer() };
> >     >                                    ^
> >     >     src/server/services/wms/qgswmsgetcapabilities.cpp:1893:41:
> error:
> >     unable to
> >     >     deduce 'const std::initializer_list<const auto>' from
> '{<expression
> >     error>}
> >     >     '
> >     >            const auto l { treeLayer->layer() };
> >     >
> >     >     The code..
> >     >
> >     >         else if ( childNode->nodeType() ==
> QgsLayerTreeNode::NodeLayer )
> >     >         {
> >     >           const auto treeLayer { static_cast<const
> QgsLayerTreeLayer *>(
> >     >     childNode ) };
> >     >           const auto l { treeLayer->layer() };
> >     >           return ! wmsRestrictedLayers.contains( l->name() ) &&
> l->flags
> >     >     ().testFlag( QgsMapLayer::Identifiable );
> >     >
> >     >     Any ideas how to rewrite?
> >     >
> >     >     Cheers,
> >     >     Henrik
> >     >
> >     >     _______________________________________________
> >     >     QGIS-Developer mailing list
> >     >     [2][3]QGIS-Developer at lists.osgeo.org
> >     >     List info: [3][4]https://lists.osgeo.org/mailman/listinfo/
> >     qgis-developer
> >     >     Unsubscribe: [4][5]https://lists.osgeo.org/mailman/listinfo/
> >     qgis-developer
> >     >
> >     >
> >     >
> >     > --
> >     > Alessandro Pasotti
> >     > w3:   [5][6]www.itopen.it
> >     >
> >     > References:
> >     >
> >     > [1] mailto:[7]hege at hege.li
> >     > [2] mailto:[8]QGIS-Developer at lists.osgeo.org
> >     > [3] [9]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     > [4] [10]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     > [5] [11]http://www.itopen.it/
> >     _______________________________________________
> >     QGIS-Developer mailing list
> >     [12]QGIS-Developer at lists.osgeo.org
> >     List info: [13]
> https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     Unsubscribe: [14]
> https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> > References:
> >
> > [1] mailto:hege at hege.li
> > [2] mailto:hege at hege.li
> > [3] mailto:QGIS-Developer at lists.osgeo.org
> > [4] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [5] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [6] http://www.itopen.it/
> > [7] mailto:hege at hege.li
> > [8] mailto:QGIS-Developer at lists.osgeo.org
> > [9] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [10] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [11] http://www.itopen.it/
> > [12] mailto:QGIS-Developer at lists.osgeo.org
> > [13] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [14] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190523/2aa1d81f/attachment-0001.html>

From rldhont at gmail.com  Thu May 23 00:55:44 2019
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Thu, 23 May 2019 09:55:44 +0200
Subject: [QGIS-Developer] PyQGIS : Creating a Geopackage layer without
	adding features
In-Reply-To: <bd014d9c-2342-236b-f05d-4ab0c99890ed@gmail.com>
References: <bd014d9c-2342-236b-f05d-4ab0c99890ed@gmail.com>
Message-ID: <79bc2241-6491-ec4a-db50-6a18095314e3@gmail.com>

Hi Devs,

I have tested this and it works
from qgis.core import QgsVectorLayer, QgsVectorFileWriter
ml = QgsVectorLayer('Point?field=firstfield:int&field=secondfield:int', 
'test', 'memory')
filename = '/tmp/testing.gpkg'

options = QgsVectorFileWriter.SaveVectorOptions()
options.driverName = 'GPKG'
options.layerName = 'test'
write_result, error_message = 
QgsVectorFileWriter.writeAsVectorFormat(ml,filename,options)
write_result == QgsVectorFileWriter.NoError


René-Luc

Le 23/05/2019 à 09:27, René-Luc Dhont a écrit :
> Hi Dev,
>
> I would like to create a geopackage with multiple layers but without 
> features. I'd like to do the same thing as the 
> QgsNewGeoPackageLayerDialog do but without user interface in python.
>
> I have tested with QgsVectorFileWriter, but the file and layer are not 
> created if add feature is not used.
>
> Do I have to use Python OGR packaging to do so ?
>
> Regards,
> René-Luc


From hege at hege.li  Thu May 23 01:13:07 2019
From: hege at hege.li (Henrik K)
Date: Thu, 23 May 2019 11:13:07 +0300
Subject: [QGIS-Developer] Help fixing code for gcc 4.8
In-Reply-To: <CAL5Q6712w_XmA-nRXmiXmoh6fWbgCrUsizErzMnRxRJr+LF4yw@mail.gmail.com>
References: <20190522143042.GA32229@hege.li>
 <CAL5Q6722d_kTvTXWysFfDrGA9-xctDknYRSTME-o63ZKhzENuw@mail.gmail.com>
 <20190522174040.GA14113@hege.li>
 <CACq2deJAQs+0XuTEuYERo6S3+2_mcj-+zasH-NbTiBtFbVeP0g@mail.gmail.com>
 <20190523070133.GA32660@hege.li>
 <CAL5Q6712w_XmA-nRXmiXmoh6fWbgCrUsizErzMnRxRJr+LF4yw@mail.gmail.com>
Message-ID: <20190523081307.GA5505@hege.li>


I've no problem fixing minor brace stuff here locally..

Do you have any ideas for the QString/QStringList stuff in
qgswmsrenderer.cpp?

It seems I may need to install redhat developer repository to access gcc
8.2, or perhaps even compile my own gcc.  But it would be shame, since
pretty much all software I've ever needed compiles fine with the defaut
toolset with perhaps minor fixes.  I'm hoping qgis can still be done.

Cheers,
Henrik


On Thu, May 23, 2019 at 09:46:54AM +0200, Alessandro Pasotti wrote:
> 
> Henrik,
> 
> I'm afraid you will have an hard time: we are using more and more C++11 list
> initialization (aka brace initialization)  in the code,
> if your compiler do not support it well, you will get a lot of errors.
> 
> That said if it's just that single line that blocks your porting feel free to
> make a pull request to change it.
> 
> You may also try to remove "auto":
> const QgsLayerTreeLayer* treeLayer { static_cast<const QgsLayerTreeLayer *>(
> childNode ) };
> 
> 
> for some background:
> 
> [1]https://stackoverflow.com/questions/18222926/
> why-is-list-initialization-using-curly-braces-better-than-the-alternatives
> [2]http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Res-list
> 
> an "amusing" read:
> [3]http://mikelui.io/2019/01/03/seriously-bonkers.html
> 
> 
> 
> On Thu, May 23, 2019 at 9:01 AM Henrik K <[4]hege at hege.li> wrote:
> 
> 
>     I'm almost near finishing, but qgswmsrenderer.cpp is throwing a lot of
>     errors (for bot 3.4.8 and 3.6.3).  Could someone have a look at this:
> 
>     [5]https://pastebin.com/JS7uKAZ7
> 
>     The two expression errors there I fixed per previous advice..
>     const auto { } -> ( )
> 
>     Cheers,
>     Henrik
> 
> 
>     On Wed, May 22, 2019 at 10:50:47AM -0700, Elias Carter wrote:
>     > > But if I manage to get this running I'll post all my patches somewhere.
>     >
>     > Hi Henrik,
>     > I would be interested in collaborating with you to get QGIS 3 running on
>     RHEL/
>     > CentOS 7.
>     > Would you be willing to share your current patchset and maybe I can help
>     out
>     > with getting this working?
>     >
>     > Thanks,
>     > Elias
>     >
>     >
>     > On Wed, May 22, 2019 at 10:40 AM Henrik Krohns <[1][6]hege at hege.li>
>     wrote:
>     >
>     >
>     >     Thanks, it worked, so simple..
>     >
>     >     Are fixes like this good canditate to actually raise an issue? I have
>     no
>     >     clue
>     >     on all the C++ versions etc and what stuff is legacy not intended to
>     use
>     >     these days..
>     >
>     >     But if I manage to get this running I'll post all my patches
>     somewhere.
>     >
>     >     On Wed, May 22, 2019 at 05:40:45PM +0200, Alessandro Pasotti wrote:
>     >     >
>     >     > Hi Henrik,
>     >     >
>     >     > Try to replace {} with (), such as:
>     >     >
>     >     > const auto treeLayer ( static_cast<const QgsLayerTreeLayer *>(
>     childNode
>     >     ) );
>     >     >
>     >     >
>     >     >
>     >     > On Wed, May 22, 2019 at 4:42 PM Henrik Krohns <[1][2][7]
>     hege at hege.li> wrote:
>     >     >
>     >     >
>     >     >     Hello,
>     >     >
>     >     >     I've been trying to compile QGis on RHEL7 / GCC 4.8.5 all day. 
>     It
>     >     seems
>     >     >     lots of code assume newer compiler.  I've fixed many cases
>     already,
>     >     but
>     >     >     here's something I can't manage..  not really proficient in
>     C++..
>     >     >
>     >     >     src/server/services/wms/qgswmsgetcapabilities.cpp: In function
>     'bool
>     >     >     QgsWms::hasQueryableChildren(const QgsLayerTreeNode*, const
>     >     QStringList&)':
>     >     >     src/server/services/wms/qgswmsgetcapabilities.cpp:1893:31:
>     error:
>     >     base
>     >     >     operand of '->' has non-pointer type 'const
>     std::initializer_list
>     >     <const
>     >     >     QgsLayerTreeLayer* const>'
>     >     >            const auto l { treeLayer->layer() };
>     >     >                                    ^
>     >     >     src/server/services/wms/qgswmsgetcapabilities.cpp:1893:41:
>     error:
>     >     unable to
>     >     >     deduce 'const std::initializer_list<const auto>' from '
>     {<expression
>     >     error>}
>     >     >     '
>     >     >            const auto l { treeLayer->layer() };
>     >     >
>     >     >     The code..
>     >     >
>     >     >         else if ( childNode->nodeType() ==
>     QgsLayerTreeNode::NodeLayer )
>     >     >         {
>     >     >           const auto treeLayer { static_cast<const
>     QgsLayerTreeLayer *>(
>     >     >     childNode ) };
>     >     >           const auto l { treeLayer->layer() };
>     >     >           return ! wmsRestrictedLayers.contains( l->name() ) && l->
>     flags
>     >     >     ().testFlag( QgsMapLayer::Identifiable );
>     >     >
>     >     >     Any ideas how to rewrite?
>     >     >
>     >     >     Cheers,
>     >     >     Henrik
>     >     >
>     >     >     _______________________________________________
>     >     >     QGIS-Developer mailing list
>     >     >     [2][3][8]QGIS-Developer at lists.osgeo.org
>     >     >     List info: [3][4][9]https://lists.osgeo.org/mailman/listinfo/
>     >     qgis-developer
>     >     >     Unsubscribe: [4][5][10]https://lists.osgeo.org/mailman/listinfo
>     /
>     >     qgis-developer
>     >     >
>     >     >
>     >     >
>     >     > --
>     >     > Alessandro Pasotti
>     >     > w3:   [5][6][11]www.itopen.it
>     >     >
>     >     > References:
>     >     >
>     >     > [1] mailto:[7][12]hege at hege.li
>     >     > [2] mailto:[8][13]QGIS-Developer at lists.osgeo.org
>     >     > [3] [9][14]https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >     > [4] [10][15]https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     >     > [5] [11][16]http://www.itopen.it/
>     >     _______________________________________________
>     >     QGIS-Developer mailing list
>     >     [12][17]QGIS-Developer at lists.osgeo.org
>     >     List info: [13][18]https://lists.osgeo.org/mailman/listinfo/
>     qgis-developer
>     >     Unsubscribe: [14][19]https://lists.osgeo.org/mailman/listinfo/
>     qgis-developer
>     >
>     >
>     > References:
>     >
>     > [1] mailto:[20]hege at hege.li
>     > [2] mailto:[21]hege at hege.li
>     > [3] mailto:[22]QGIS-Developer at lists.osgeo.org
>     > [4] [23]https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > [5] [24]https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > [6] [25]http://www.itopen.it/
>     > [7] mailto:[26]hege at hege.li
>     > [8] mailto:[27]QGIS-Developer at lists.osgeo.org
>     > [9] [28]https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > [10] [29]https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > [11] [30]http://www.itopen.it/
>     > [12] mailto:[31]QGIS-Developer at lists.osgeo.org
>     > [13] [32]https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     > [14] [33]https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     _______________________________________________
>     QGIS-Developer mailing list
>     [34]QGIS-Developer at lists.osgeo.org
>     List info: [35]https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: [36]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> 
> --
> Alessandro Pasotti
> w3:   [37]www.itopen.it
> 
> References:
> 
> [1] https://stackoverflow.com/questions/18222926/why-is-list-initialization-using-curly-braces-better-than-the-alternatives
> [2] http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Res-list
> [3] http://mikelui.io/2019/01/03/seriously-bonkers.html
> [4] mailto:hege at hege.li
> [5] https://pastebin.com/JS7uKAZ7
> [6] mailto:hege at hege.li
> [7] mailto:hege at hege.li
> [8] mailto:QGIS-Developer at lists.osgeo.org
> [9] https://lists.osgeo.org/mailman/listinfo/
> [10] https://lists.osgeo.org/mailman/listinfo/
> [11] http://www.itopen.it/
> [12] mailto:hege at hege.li
> [13] mailto:QGIS-Developer at lists.osgeo.org
> [14] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [15] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [16] http://www.itopen.it/
> [17] mailto:QGIS-Developer at lists.osgeo.org
> [18] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [19] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [20] mailto:hege at hege.li
> [21] mailto:hege at hege.li
> [22] mailto:QGIS-Developer at lists.osgeo.org
> [23] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [24] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [25] http://www.itopen.it/
> [26] mailto:hege at hege.li
> [27] mailto:QGIS-Developer at lists.osgeo.org
> [28] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [29] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [30] http://www.itopen.it/
> [31] mailto:QGIS-Developer at lists.osgeo.org
> [32] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [33] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [34] mailto:QGIS-Developer at lists.osgeo.org
> [35] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [36] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> [37] http://www.itopen.it/

> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From noreply at qgis.org  Thu May 23 02:12:45 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 23 May 2019 09:12:45 -0000
Subject: [QGIS-Developer] Plugin [1364] UMEP approval notification.
Message-ID: <20190523091245.3872.56252@2c6504964296>


Plugin UMEP approval by pcav.
The plugin version "[1364] UMEP 3.10" is now approved
Link: http://plugins.qgis.org/plugins/UMEP/

From tim at kartoza.com  Wed May 22 12:00:04 2019
From: tim at kartoza.com (Tim Sutton)
Date: Wed, 22 May 2019 20:00:04 +0100
Subject: [QGIS-Developer] PostgreSQL connection - more than one DB host
In-Reply-To: <CABgOYCcKvmUtTtxVfLu8LkWdog0tPaGKxMp9XmE-ZSunP7ur_A@mail.gmail.com>
References: <fe860bde837b37aa32ff9106e5e33f14@carto.net>
 <323440A8-E7CA-46F3-8F3A-FEED94246421@kartoza.com>
 <CABgOYCcKvmUtTtxVfLu8LkWdog0tPaGKxMp9XmE-ZSunP7ur_A@mail.gmail.com>
Message-ID: <B5E5C647-BAA0-40E8-B970-8DFD249D5454@kartoza.com>

Hi

We have another use case that I wonder if anyone has thought about or done any work towards?:

In Django you have this ability to route requests to a specific connection. So for example you can pull read requests off one database instance and push write requests to another.

Something similar in QGIS would be hugely useful - we often have bandwidth impoverished users and we set up a postgres read only replica for them. It would be really nice to support writes across their slow internet connection and reads from their fast local internet. Otherwise maybe this is something that could be solved with creative use of triggers / FDW’s / materialised views….

Regards

Tim


> On 21 May 2019, at 12:51, Régis Haubourg <regis.haubourg at gmail.com> wrote:
> 
> Interesting, if this works, that could be awesome for having one project for multiple working sites or on the field use cases. (I just discover it is now possible to run postgresql on Android last week)
> Régis
> 
> Le mar. 21 mai 2019 à 13:02, Tim Sutton <tim at kartoza.com <mailto:tim at kartoza.com>> a écrit :
> Did you try it using a service file (haven’t tested myself)….would be interesting to hear how you got it working….
> 
> Regards
> 
> Tim
> 
>> On 21 May 2019, at 08:47, Andreas Neumann <a.neumann at carto.net <mailto:a.neumann at carto.net>> wrote:
>> 
>> Hi,
>> 
>> According to the libpq documentation it is possible to specify more than one host for PG connections.
>> 
>> See https://www.postgresql.org/docs/current/libpq-connect.html <https://www.postgresql.org/docs/current/libpq-connect.html>  --> section 34.1.1.2. Connection URIs
>> 
>> -----------
>> 
>> It is possible to specify multiple host components, each with an optional port component, in a single URI. A URI of the form postgresql://host1:port1,host2:port2,host3:port3/ <> is equivalent to a connection string of the form host=host1,host2,host3 port=port1,port2,port3. Each host will be tried in turn until a connection is successfully established.
>> 
>> -------------
>> 
>> Is this option to specify more than one host supported by QGIS and if yes, how? It would only make sense for read-only connections, I think.
>> 
>> Thanks,
>> Andreas
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> —
> 
> 
> <KartozaNewLogoThumbnail.jpg>
> 
> 
> 
> 
> 
> 
> Tim Sutton
> 
> Co-founder: Kartoza
> Ex Project chair: QGIS.org <http://qgis.org/>
> 
> Visit http://kartoza.com <http://kartoza.com/> to find out about open source:
> 
> Desktop GIS programming services
> Geospatial web development
> GIS Training
> Consulting Services
> 
> Skype: timlinux 
> IRC: timlinux on #qgis at freenode.net <http://freenode.net/>
> 
> I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/d7719b2a/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190522/d7719b2a/attachment-0001.jpg>

From tim at kartoza.com  Thu May 23 02:35:21 2019
From: tim at kartoza.com (Tim Sutton)
Date: Thu, 23 May 2019 10:35:21 +0100
Subject: [QGIS-Developer] [Qgis-psc] Redmine migration plan: friday 24
	may 8:00 CET
In-Reply-To: <CAB28Asgwpq90oH3Yj=k+mrx9ec3PGRvR9cLsQd-ix=TpHDanUQ@mail.gmail.com>
References: <9c8cc078-f45d-6d73-38bc-db5d8fcc540f@duif.net>
 <CAB28Asgwpq90oH3Yj=k+mrx9ec3PGRvR9cLsQd-ix=TpHDanUQ@mail.gmail.com>
Message-ID: <CE164464-19AD-42F9-A5B5-2D3860DACFDE@kartoza.com>

Hi

This one is best said in emoji:

🥳🎉👯‍♂️👯‍♀️🎁

Regards

Tim

> On 23 May 2019, at 01:09, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> 
> On Wed, 22 May 2019 at 22:07, Richard Duivenvoorde <rdmailings at duif.net <mailto:rdmailings at duif.net>> wrote:
>> 
>> Hi All (lists),
>> 
>> We propose to do the Redmine -> Github migration next friday 24th of may
>> at 8:00 CET (+2).
>> 
>> More or less following this Migration plan:
>> 
>> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818 <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818>
> 
> Woohoo! It's finally happening!
> 
> Well done to the whole team involved here, it's an exceptional effort
> getting things to this stage!
> 
> Nyall
> 
>> 
>> To be clear: this means http://issues.qgis.org cannot be used on friday,
>> untill the migration is finished and checked.
>> 
>> If anybody has knowledge of an easy way to make Redmine readonly, please
>> let us know. Some googling to me only revealed changing the database
>> user or fiddling with the users in the db itself.
>> 
>> Jorge will be in the lead for the Migration team
>> I (among others) will be around for QGIS Infra
>> Any help or encouragement is appreciated :-)
>> 
>> Let's meet on IRC on friday morning, we can further decide on
>> communication if needed/wanted.
>> 
>> If I miss something, please let us know.
>> 
>> Regards,
>> 
>> Richard Duivenvoorde
>> _______________________________________________
>> Qgis-psc mailing list
>> Qgis-psc at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/qgis-psc
> _______________________________________________
> Qgis-psc mailing list
> Qgis-psc at lists.osgeo.org <mailto:Qgis-psc at lists.osgeo.org>
> https://lists.osgeo.org/mailman/listinfo/qgis-psc <https://lists.osgeo.org/mailman/listinfo/qgis-psc>
—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190523/d20f0ca3/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190523/d20f0ca3/attachment-0001.jpg>

From hege at hege.li  Thu May 23 04:05:07 2019
From: hege at hege.li (Henrik K)
Date: Thu, 23 May 2019 14:05:07 +0300
Subject: [QGIS-Developer] Help fixing code for gcc 4.8
In-Reply-To: <20190523081307.GA5505@hege.li>
References: <20190522143042.GA32229@hege.li>
 <CAL5Q6722d_kTvTXWysFfDrGA9-xctDknYRSTME-o63ZKhzENuw@mail.gmail.com>
 <20190522174040.GA14113@hege.li>
 <CACq2deJAQs+0XuTEuYERo6S3+2_mcj-+zasH-NbTiBtFbVeP0g@mail.gmail.com>
 <20190523070133.GA32660@hege.li>
 <CAL5Q6712w_XmA-nRXmiXmoh6fWbgCrUsizErzMnRxRJr+LF4yw@mail.gmail.com>
 <20190523081307.GA5505@hege.li>
Message-ID: <20190523110507.GA19609@hege.li>


Ok I caved in and installed devtoolset-8-gcc-c++ (8.2.1) from SCL
repository.

I recompiled our whole mapserver/gdal/proj/geos/etc stack with it. Works fine.

Compiled QGis 3.4.8, no problems! (aside from some python-specific stuff)

Also the feature of devtoolset is automatically linking non-system stuff
statically, so resulting binaries have no dependencies to devtoolset and can
be shipped to other servers.

I suggest documenting somewhere that atleast gcc 4.8 is not supported
anymore.

Cheers,
Henrik


On Thu, May 23, 2019 at 11:13:07AM +0300, Henrik K wrote:
> 
> I've no problem fixing minor brace stuff here locally..
> 
> Do you have any ideas for the QString/QStringList stuff in
> qgswmsrenderer.cpp?
> 
> It seems I may need to install redhat developer repository to access gcc
> 8.2, or perhaps even compile my own gcc.  But it would be shame, since
> pretty much all software I've ever needed compiles fine with the defaut
> toolset with perhaps minor fixes.  I'm hoping qgis can still be done.
> 
> Cheers,
> Henrik
> 
> 
> On Thu, May 23, 2019 at 09:46:54AM +0200, Alessandro Pasotti wrote:
> > 
> > Henrik,
> > 
> > I'm afraid you will have an hard time: we are using more and more C++11 list
> > initialization (aka brace initialization)  in the code,
> > if your compiler do not support it well, you will get a lot of errors.
> > 
> > That said if it's just that single line that blocks your porting feel free to
> > make a pull request to change it.
> > 
> > You may also try to remove "auto":
> > const QgsLayerTreeLayer* treeLayer { static_cast<const QgsLayerTreeLayer *>(
> > childNode ) };
> > 
> > 
> > for some background:
> > 
> > [1]https://stackoverflow.com/questions/18222926/
> > why-is-list-initialization-using-curly-braces-better-than-the-alternatives
> > [2]http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Res-list
> > 
> > an "amusing" read:
> > [3]http://mikelui.io/2019/01/03/seriously-bonkers.html
> > 
> > 
> > 
> > On Thu, May 23, 2019 at 9:01 AM Henrik K <[4]hege at hege.li> wrote:
> > 
> > 
> >     I'm almost near finishing, but qgswmsrenderer.cpp is throwing a lot of
> >     errors (for bot 3.4.8 and 3.6.3).  Could someone have a look at this:
> > 
> >     [5]https://pastebin.com/JS7uKAZ7
> > 
> >     The two expression errors there I fixed per previous advice..
> >     const auto { } -> ( )
> > 
> >     Cheers,
> >     Henrik
> > 
> > 
> >     On Wed, May 22, 2019 at 10:50:47AM -0700, Elias Carter wrote:
> >     > > But if I manage to get this running I'll post all my patches somewhere.
> >     >
> >     > Hi Henrik,
> >     > I would be interested in collaborating with you to get QGIS 3 running on
> >     RHEL/
> >     > CentOS 7.
> >     > Would you be willing to share your current patchset and maybe I can help
> >     out
> >     > with getting this working?
> >     >
> >     > Thanks,
> >     > Elias
> >     >
> >     >
> >     > On Wed, May 22, 2019 at 10:40 AM Henrik Krohns <[1][6]hege at hege.li>
> >     wrote:
> >     >
> >     >
> >     >     Thanks, it worked, so simple..
> >     >
> >     >     Are fixes like this good canditate to actually raise an issue? I have
> >     no
> >     >     clue
> >     >     on all the C++ versions etc and what stuff is legacy not intended to
> >     use
> >     >     these days..
> >     >
> >     >     But if I manage to get this running I'll post all my patches
> >     somewhere.
> >     >
> >     >     On Wed, May 22, 2019 at 05:40:45PM +0200, Alessandro Pasotti wrote:
> >     >     >
> >     >     > Hi Henrik,
> >     >     >
> >     >     > Try to replace {} with (), such as:
> >     >     >
> >     >     > const auto treeLayer ( static_cast<const QgsLayerTreeLayer *>(
> >     childNode
> >     >     ) );
> >     >     >
> >     >     >
> >     >     >
> >     >     > On Wed, May 22, 2019 at 4:42 PM Henrik Krohns <[1][2][7]
> >     hege at hege.li> wrote:
> >     >     >
> >     >     >
> >     >     >     Hello,
> >     >     >
> >     >     >     I've been trying to compile QGis on RHEL7 / GCC 4.8.5 all day. 
> >     It
> >     >     seems
> >     >     >     lots of code assume newer compiler.  I've fixed many cases
> >     already,
> >     >     but
> >     >     >     here's something I can't manage..  not really proficient in
> >     C++..
> >     >     >
> >     >     >     src/server/services/wms/qgswmsgetcapabilities.cpp: In function
> >     'bool
> >     >     >     QgsWms::hasQueryableChildren(const QgsLayerTreeNode*, const
> >     >     QStringList&)':
> >     >     >     src/server/services/wms/qgswmsgetcapabilities.cpp:1893:31:
> >     error:
> >     >     base
> >     >     >     operand of '->' has non-pointer type 'const
> >     std::initializer_list
> >     >     <const
> >     >     >     QgsLayerTreeLayer* const>'
> >     >     >            const auto l { treeLayer->layer() };
> >     >     >                                    ^
> >     >     >     src/server/services/wms/qgswmsgetcapabilities.cpp:1893:41:
> >     error:
> >     >     unable to
> >     >     >     deduce 'const std::initializer_list<const auto>' from '
> >     {<expression
> >     >     error>}
> >     >     >     '
> >     >     >            const auto l { treeLayer->layer() };
> >     >     >
> >     >     >     The code..
> >     >     >
> >     >     >         else if ( childNode->nodeType() ==
> >     QgsLayerTreeNode::NodeLayer )
> >     >     >         {
> >     >     >           const auto treeLayer { static_cast<const
> >     QgsLayerTreeLayer *>(
> >     >     >     childNode ) };
> >     >     >           const auto l { treeLayer->layer() };
> >     >     >           return ! wmsRestrictedLayers.contains( l->name() ) && l->
> >     flags
> >     >     >     ().testFlag( QgsMapLayer::Identifiable );
> >     >     >
> >     >     >     Any ideas how to rewrite?
> >     >     >
> >     >     >     Cheers,
> >     >     >     Henrik
> >     >     >
> >     >     >     _______________________________________________
> >     >     >     QGIS-Developer mailing list
> >     >     >     [2][3][8]QGIS-Developer at lists.osgeo.org
> >     >     >     List info: [3][4][9]https://lists.osgeo.org/mailman/listinfo/
> >     >     qgis-developer
> >     >     >     Unsubscribe: [4][5][10]https://lists.osgeo.org/mailman/listinfo
> >     /
> >     >     qgis-developer
> >     >     >
> >     >     >
> >     >     >
> >     >     > --
> >     >     > Alessandro Pasotti
> >     >     > w3:   [5][6][11]www.itopen.it
> >     >     >
> >     >     > References:
> >     >     >
> >     >     > [1] mailto:[7][12]hege at hege.li
> >     >     > [2] mailto:[8][13]QGIS-Developer at lists.osgeo.org
> >     >     > [3] [9][14]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     >     > [4] [10][15]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     >     > [5] [11][16]http://www.itopen.it/
> >     >     _______________________________________________
> >     >     QGIS-Developer mailing list
> >     >     [12][17]QGIS-Developer at lists.osgeo.org
> >     >     List info: [13][18]https://lists.osgeo.org/mailman/listinfo/
> >     qgis-developer
> >     >     Unsubscribe: [14][19]https://lists.osgeo.org/mailman/listinfo/
> >     qgis-developer
> >     >
> >     >
> >     > References:
> >     >
> >     > [1] mailto:[20]hege at hege.li
> >     > [2] mailto:[21]hege at hege.li
> >     > [3] mailto:[22]QGIS-Developer at lists.osgeo.org
> >     > [4] [23]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     > [5] [24]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     > [6] [25]http://www.itopen.it/
> >     > [7] mailto:[26]hege at hege.li
> >     > [8] mailto:[27]QGIS-Developer at lists.osgeo.org
> >     > [9] [28]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     > [10] [29]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     > [11] [30]http://www.itopen.it/
> >     > [12] mailto:[31]QGIS-Developer at lists.osgeo.org
> >     > [13] [32]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     > [14] [33]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     _______________________________________________
> >     QGIS-Developer mailing list
> >     [34]QGIS-Developer at lists.osgeo.org
> >     List info: [35]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     Unsubscribe: [36]https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > 
> > 
> > 
> > --
> > Alessandro Pasotti
> > w3:   [37]www.itopen.it
> > 
> > References:
> > 
> > [1] https://stackoverflow.com/questions/18222926/why-is-list-initialization-using-curly-braces-better-than-the-alternatives
> > [2] http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Res-list
> > [3] http://mikelui.io/2019/01/03/seriously-bonkers.html
> > [4] mailto:hege at hege.li
> > [5] https://pastebin.com/JS7uKAZ7
> > [6] mailto:hege at hege.li
> > [7] mailto:hege at hege.li
> > [8] mailto:QGIS-Developer at lists.osgeo.org
> > [9] https://lists.osgeo.org/mailman/listinfo/
> > [10] https://lists.osgeo.org/mailman/listinfo/
> > [11] http://www.itopen.it/
> > [12] mailto:hege at hege.li
> > [13] mailto:QGIS-Developer at lists.osgeo.org
> > [14] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [15] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [16] http://www.itopen.it/
> > [17] mailto:QGIS-Developer at lists.osgeo.org
> > [18] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [19] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [20] mailto:hege at hege.li
> > [21] mailto:hege at hege.li
> > [22] mailto:QGIS-Developer at lists.osgeo.org
> > [23] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [24] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [25] http://www.itopen.it/
> > [26] mailto:hege at hege.li
> > [27] mailto:QGIS-Developer at lists.osgeo.org
> > [28] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [29] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [30] http://www.itopen.it/
> > [31] mailto:QGIS-Developer at lists.osgeo.org
> > [32] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [33] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [34] mailto:QGIS-Developer at lists.osgeo.org
> > [35] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [36] https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > [37] http://www.itopen.it/
> 
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From senhor.neto at gmail.com  Thu May 23 04:27:36 2019
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Thu, 23 May 2019 12:27:36 +0100
Subject: [QGIS-Developer] OSGeo4w shell misses paths to saga_cmd
Message-ID: <CA+H0G_H_hPtw2a57YLfUY9ggC_a+n9O5C2ErNe7eNBws4UFXpQ@mail.gmail.com>

Hi,

I wrote a python 3 script that at some point calls saga_cmd. It worked fine
on my Linux machine, but then the client tested it on Windows...

It seems that the paths to saga are not set on the OSGeo4w shell, and I
needed to set it manually by doing:

PATH=%PATH%;C:/OSGEO4~1/apps\saga-ltr;C:/OSGEO4~1/apps\saga-ltr\modules

and

SET SAGA_MLB=C:/OSGEO4~1/apps\saga-ltr\modules

Could/should we include these folders in the path by default?

Best regards,

Alex Neto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190523/efb9f747/attachment.html>

From landa.martin at gmail.com  Thu May 23 05:16:23 2019
From: landa.martin at gmail.com (Martin Landa)
Date: Thu, 23 May 2019 14:16:23 +0200
Subject: [QGIS-Developer] qwt replacement
Message-ID: <CA+Ei1OdPO2V5H_mNAhuMFL-uUgy7y6hdg4gr2zcJNH1PkrW2zw@mail.gmail.com>

Hi,

a new version of Safecast plugin (which is going to be released soon I
hope) is using QWT library to render simple graphs. After upgrading to
QGIS3 we are facing to various problems:

* On Ubuntu the packages is available since 18.10 (no LTS) [1]
* No relevant package in OSGeo4W (pyqwt depends on qt4)

I am thinking to add a new package based on PythonQwt [2] to OSGeo4W,
but I wonder if it make sense. Also note that PythonQwt is different
beast from python3-pyqt5.qwt package (which is Qwt6-based).

Any opinions? Thanks for tips in advance! Martin

[1] https://packages.ubuntu.com/search?keywords=python3-pyqt5.qwt+&searchon=names
[2] https://pypi.org/project/PythonQwt/

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From noreply at qgis.org  Thu May 23 07:06:00 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 23 May 2019 14:06:00 -0000
Subject: [QGIS-Developer] Plugin [1412] GeoDataFarm approval notification.
Message-ID: <20190523140600.18783.82343@2c6504964296>


Plugin GeoDataFarm approval by pcav.
The plugin version "[1412] GeoDataFarm 2.5.0" is now approved
Link: http://plugins.qgis.org/plugins/geodatafarm/

From noreply at qgis.org  Thu May 23 07:43:12 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 23 May 2019 14:43:12 -0000
Subject: [QGIS-Developer] Plugin [1364] UMEP approval notification.
Message-ID: <20190523144312.18783.64247@2c6504964296>


Plugin UMEP approval by pcav.
The plugin version "[1364] UMEP 3.10.2" is now approved
Link: http://plugins.qgis.org/plugins/UMEP/

From noreply at qgis.org  Thu May 23 07:44:25 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 23 May 2019 14:44:25 -0000
Subject: [QGIS-Developer] Plugin [1364] UMEP approval notification.
Message-ID: <20190523144425.32487.53182@2c6504964296>


Plugin UMEP approval by pcav.
The plugin version "[1364] UMEP 3.10.1" is now approved
Link: http://plugins.qgis.org/plugins/UMEP/

From jef at norbit.de  Thu May 23 14:02:45 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Thu, 23 May 2019 23:02:45 +0200
Subject: [QGIS-Developer] qwt replacement
In-Reply-To: <CA+Ei1OdPO2V5H_mNAhuMFL-uUgy7y6hdg4gr2zcJNH1PkrW2zw@mail.gmail.com>
References: <CA+Ei1OdPO2V5H_mNAhuMFL-uUgy7y6hdg4gr2zcJNH1PkrW2zw@mail.gmail.com>
Message-ID: <20190523210245.22vlgykhptbw75th@norbit.de>

Hi Martin,

On Thu, 23. May 2019 at 14:16:23 +0200, Martin Landa wrote:
> I am thinking to add a new package based on PythonQwt [2] to OSGeo4W,

Added - try it please.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190523/cb37a51a/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190523/cb37a51a/attachment.ksh>

From nyall.dawson at gmail.com  Thu May 23 15:47:48 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 24 May 2019 08:47:48 +1000
Subject: [QGIS-Developer] QgsVectorFileWriter for GeoJSON
In-Reply-To: <89a48107-73c3-bae4-79c9-f9aeadd9f5e8@gmail.com>
References: <22c320bc-a012-97a0-3588-0fd01c3258ce@gmail.com>
 <CAB28Asjga0U46uKZt_4P4kKX-5b3NhpyWG2LZkYC96fS8PAw3A@mail.gmail.com>
 <89a48107-73c3-bae4-79c9-f9aeadd9f5e8@gmail.com>
Message-ID: <CAB28AsiH71+7=2pUjYO51pEsGF1pNqaf36=HLp=gZAJqiAJDkg@mail.gmail.com>

On Thu, 23 May 2019 at 17:17, matteo <matteo.ghetta at gmail.com> wrote:
>
> Hi Nyall,
>
> > It's a rubbish error message. Blame sip. It should be saying:
> >
> > "arguments did not match any overloaded call:
> > missing 1 required positional argument: 'fileEncoding'"
>
> ahhhhh ok, get it now, thanks!
> >
> > Because, as the dox show, fileEncoding is a required argument. And
> > indeed, this works fine for me:
> >
> >     error = QgsVectorFileWriter.writeAsVectorFormat(layer=iface.activeLayer(),fileEncoding='UTF-8',fileName='/home/nyall/Temporary/test.geojson',driverName='GeoJSON')
>
> however is it possible that the exported geojson file does not have the
> Z value even if the source file has it? It happens also by exporting the
> layer with the UI and forcing the geometry type and checking the
> "Include Z dimension".

This works ok for me. What input geometry type and selected geometry
type are you using?

Nyall

From tone90999 at hotmail.com  Thu May 23 19:10:13 2019
From: tone90999 at hotmail.com (=?gb2312?B?u8Ygv8vCsw==?=)
Date: Fri, 24 May 2019 02:10:13 +0000
Subject: [QGIS-Developer] Locale settings is not applied to custom build
In-Reply-To: <BYAPR13MB2648FAE3D51309687D836E03EF020@BYAPR13MB2648.namprd13.prod.outlook.com>
References: <BYAPR13MB2648FAE3D51309687D836E03EF020@BYAPR13MB2648.namprd13.prod.outlook.com>
Message-ID: <BYAPR13MB2648A97C4D4A49B4BD4C95B8EF020@BYAPR13MB2648.namprd13.prod.outlook.com>

After building QGIS using CMake and Visual Studio 2017 (with 2015 toolset), I can't set QGIS language to any language other than English, even when I change the language settings from Options dialog (see picture below):
[cid:3761a9a8-4897-49db-9c8a-9f26304143f0]
This option has almost no effect - only the Raster and Vector menu items are partially translated (see picture below):
[cid:cd98c153-f310-439c-ba38-46cad963af9c]
The last two items in Chinese mean "Raster" and "Vector", respectively.
This problem happens on 3.4 LTR only - on my machine. I didn't run into this problem when I was building 3.2 or 3.4.1. It also doesn't happen on the build directly downloaded from OSGeo4W.
To run QGIS properly, I have qgis.env placed on the same directory containing qgis.exe. I have attached the file in this mail.

My building environment:

Windows 10 Enterprise version 1809 (64-bit), with SDK version 17763;
CMake 3.11;
Visual Studio 2017 (with 2015 toolset installed);
All dependencies, including Qt 5.11, are installed totally via OSGeo4W (64-bit) or latest Cygwin.
I'm really confused on this problem, if anyone has a solution, please let me know.


Winfred Huang
24/5/2019
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190524/e812cca0/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Untitled Project - QGIS 2019-05-24 09.55.12.png
Type: image/png
Size: 3532 bytes
Desc: Untitled Project - QGIS 2019-05-24 09.55.12.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190524/e812cca0/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Options _ General 2019-05-24 09.59.56.png
Type: image/png
Size: 5443 bytes
Desc: Options _ General 2019-05-24 09.59.56.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190524/e812cca0/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis.env
Type: application/octet-stream
Size: 886 bytes
Desc: qgis.env
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190524/e812cca0/attachment-0001.obj>

From matteo.ghetta at gmail.com  Thu May 23 23:34:34 2019
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 24 May 2019 08:34:34 +0200
Subject: [QGIS-Developer] QgsVectorFileWriter for GeoJSON
In-Reply-To: <CAB28AsiH71+7=2pUjYO51pEsGF1pNqaf36=HLp=gZAJqiAJDkg@mail.gmail.com>
References: <22c320bc-a012-97a0-3588-0fd01c3258ce@gmail.com>
 <CAB28Asjga0U46uKZt_4P4kKX-5b3NhpyWG2LZkYC96fS8PAw3A@mail.gmail.com>
 <89a48107-73c3-bae4-79c9-f9aeadd9f5e8@gmail.com>
 <CAB28AsiH71+7=2pUjYO51pEsGF1pNqaf36=HLp=gZAJqiAJDkg@mail.gmail.com>
Message-ID: <1dcf89f2-1410-3c63-509a-f2be7e6f8793@gmail.com>

Hi Nyall,

> This works ok for me. What input geometry type and selected geometry
> type are you using?

with gpx as input. But also if I use shapefiles and exporting geojson,
the raw files shows the Z values, but when using the node tool the Z
value is not shown.

I don't know if this is a limitation of geojson provider?

Cheers and thanks

Matteo

From noreply at qgis.org  Thu May 23 23:46:20 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 24 May 2019 06:46:20 -0000
Subject: [QGIS-Developer] Plugin [1616] Hqgis approval notification.
Message-ID: <20190524064620.795.69639@2c6504964296>


Plugin Hqgis approval by pcav.
The plugin version "[1616] Hqgis 0.4.3" is now approved
Link: http://plugins.qgis.org/plugins/Hqgis/

From regis.haubourg at gmail.com  Fri May 24 01:24:31 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Fri, 24 May 2019 10:24:31 +0200
Subject: [QGIS-Developer] qgis_editor_widget_styles table,
	what is it ? How to create it?
Message-ID: <CABgOYCfDb2+cHzY=rN2uRPWNUFj=f7N-0R6uacEiFcT=bK2VJw@mail.gmail.com>

Hi all,
I'm facing very slow opening of project files for a customer here in QGIS
3.4.5. Something like 7 minutes, against 30 s in QGIS 2.18.

We are still investigating to narrow it down, but I faced a first query in
the logs that I fail to understand.

QGIS emits this at a point:

select count(*)

from information_schema.tables

where table_name = 'qgis_editor_widget_styles' ;

And this query is long in our context, 1.7s, because of a very high number
of tables and schemas in that production DB.

I found at [0] in the postgres provider where it comes from, I found the
associated PR [1], but I fail to understand in what workflow this table is
created using QGIS, and what it is used for.

Can someone put some light here ?

Best regards

Régis

[0]
https://github.com/qgis/QGIS/blob/master/src/providers/postgres/qgspostgresprovider.cpp#L1083
[1] https://github.com/qgis/QGIS/pull/3439
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190524/133dd79f/attachment.html>

From benjamin.deregnaucourt.etu at univ-lille.fr  Fri May 24 02:38:32 2019
From: benjamin.deregnaucourt.etu at univ-lille.fr (Benjamin Deregnaucourt)
Date: Fri, 24 May 2019 11:38:32 +0200 (CEST)
Subject: [QGIS-Developer] [qgis-server] Build gdal with external libraries
	for qgis-server
Message-ID: <1233528540.139948339.1558690712127.JavaMail.zimbra@univ-lille.fr>

Hello, 

I'm currently a student at the University of Lille, I recently gained access to some mapfiles so I'm not accustomed to qgis yet. I would like to use a map server to share these files inside of my local network. 

I want my server to be as complete as possible so I did some research and I found some libraries such as kea, Mr.Sid or ecw which can be built with gdal in order to read different files' types. 

I built gdal with kea and Mr.Sid which work on my server, however, when I used ecw with the free version of SDK and I completed the installation, I got a warning saying that ecw had been skipped in the server and when I added an ecw file to a qgis project, my project wasn't working anymore (request timed-out). 

I made a mistake during the installation, ecw has a server supported version while I used the free desktop version. Does the skipping issue come from the difference between licenses? 

Is it possible to build gdal with ecw and use it in qgis-server legally for free? 

If it's not possible and in the hypothesis that I managed to get a license, will it be working properly once gdal is built with the correct version of ecw? 

Thanks a lot for your time 

Benjamin Deregnaucourt 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190524/b6dc19c7/attachment.html>

From rldhont at gmail.com  Fri May 24 03:10:24 2019
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Fri, 24 May 2019 12:10:24 +0200
Subject: [QGIS-Developer] [qgis-server] Build gdal with external
 libraries for qgis-server
In-Reply-To: <1233528540.139948339.1558690712127.JavaMail.zimbra@univ-lille.fr>
References: <1233528540.139948339.1558690712127.JavaMail.zimbra@univ-lille.fr>
Message-ID: <55be2aa5-5946-0d65-f7c8-de63f40cdd74@gmail.com>

Hi Benjamin,

To use *ECW* in *server*-based products requires additional licensing 
permissions.

If you have the licence agreement, you can build GDAL with ECW, but you 
also need to build QGIS Server with ECW support.

Regards,
René-Luc

Le 24/05/2019 à 11:38, Benjamin Deregnaucourt a écrit :
> Hello,
>
> I'm currently a student at the University of Lille, I recently gained 
> access to some mapfiles so I'm not accustomed to qgis yet. I would 
> like to use a map server to share these files inside of my local network.
>
> I want my server to be as complete as possible so I did some research 
> and I found some libraries such as kea, Mr.Sid or ecw which can be 
> built with gdal in order to read different files' types.
>
> I built gdal with kea and Mr.Sid which work on my server, however, 
> when I used ecw with the free version of SDK and I completed the 
> installation, I got a warning saying that ecw had been skipped in the 
> server and when I added an ecw file to a qgis project, my project 
> wasn't working anymore (request timed-out).
>
> I made a mistake during the installation, ecw has a server supported 
> version while I used the free desktop version. Does the skipping issue 
> come from the difference between licenses?
>
> Is it possible to build gdal with ecw and use it in qgis-server 
> legally for free?
>
> If it's not possible and in the hypothesis that I managed to get a 
> license, will it be working properly once gdal is built with the 
> correct version of ecw?
>
> Thanks a lot for your time
>
> Benjamin Deregnaucourt
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190524/b1d126d0/attachment-0001.html>

From noreply at qgis.org  Fri May 24 03:22:01 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 24 May 2019 10:22:01 -0000
Subject: [QGIS-Developer] Plugin [1350] Mascaret approval notification.
Message-ID: <20190524102201.32612.61728@2c6504964296>


Plugin Mascaret approval by pcav.
The plugin version "[1350] Mascaret 0.3.5 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/Mascaret/

From david.wahlund at gmail.com  Fri May 24 05:51:24 2019
From: david.wahlund at gmail.com (David Wahlund)
Date: Fri, 24 May 2019 14:51:24 +0200
Subject: [QGIS-Developer] Could not find topology of layer NULL.NULL.'topo'
Message-ID: <CAAQn7gq2OTfT-DLP+V5gHKBKdFuFY+_4MppM_63Y4Oo2v6Hzjg@mail.gmail.com>

Hi
I'm trying to label each TopoGeom in a layer with it's id using
'id(<TopoGeom column name>)'.

sql = "SELECT *, id(my_topo_column) geom_id FROM myschema.mytable"
my_uri.setDataSource('', '({})'.format(sql), 'topo', '', 'geom_id')
my_uri.setSrid(str(my_layer_srid))
my_uri.setWkbType(my_layer_type)
my_layer = QgsVectorLayer( my_uri.uri(False), my_layer_name, 'postgres')

This gives the following warning

WARNING    Could not find topology of layer NULL.NULL.'topo'


Just adding the layer works. My guess is that since this sets the schema
and table names the provider is able to pick them up when it tries to find
the topology. I tried to supply a schema name but that crashes QGIS. I
guess the table declaration as a SELECT query doesnä't have a table name.


I tried to add a layer manually throught the DB Manager SQL Window with the
same result and warning.


Are there any special considerations that I've missed when trying to add
TopoGeom layers using PyQGIS?


Regards

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190524/687c8dca/attachment.html>

From alroyliz0 at gmail.com  Fri May 24 13:39:03 2019
From: alroyliz0 at gmail.com (Alexis R.L.)
Date: Fri, 24 May 2019 16:39:03 -0400
Subject: [QGIS-Developer] github comment issues
Message-ID: <CAOM0XWDDf5P68Ej_qWLVHE6yopc0JQ1Uz7_JdWV62x2ZMMCMRA@mail.gmail.com>

Greetings,

When I go on my PRs or any issue or PR I see the following:
[image: image.png]
I'm not sure if this is intended but I cannot comment on anything, I'm not
sure if this is me in particular or for any other non-collaborator as the
message says.

Was this intended?

Alexis Roy-Lizotte
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190524/08303f76/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 11706 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190524/08303f76/attachment.png>

From delazj at gmail.com  Fri May 24 13:52:35 2019
From: delazj at gmail.com (Harrissou)
Date: Fri, 24 May 2019 22:52:35 +0200
Subject: [QGIS-Developer] github comment issues
In-Reply-To: <CAOM0XWDDf5P68Ej_qWLVHE6yopc0JQ1Uz7_JdWV62x2ZMMCMRA@mail.gmail.com>
References: <CAOM0XWDDf5P68Ej_qWLVHE6yopc0JQ1Uz7_JdWV62x2ZMMCMRA@mail.gmail.com>
Message-ID: <F05ABBD3-4981-430B-822B-F2E9558DF7F8@gmail.com>

Hi,
My case too. Only committers can interact, currently. I Sent a message to the list earlier but attached image was too big (hence failed to reach the list) and didn't have time to resend.

Regards,
Harrissou

Le 24 mai 2019 22:39:03 GMT+02:00, "Alexis R.L." <alroyliz0 at gmail.com> a écrit :
>Greetings,
>
>When I go on my PRs or any issue or PR I see the following:
>[image: image.png]
>I'm not sure if this is intended but I cannot comment on anything, I'm
>not
>sure if this is me in particular or for any other non-collaborator as
>the
>message says.
>
>Was this intended?
>
>Alexis Roy-Lizotte

-- 
Envoyé de mon appareil Android avec Courriel K-9 Mail. Veuillez excuser ma brièveté.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190524/348125e7/attachment.html>

From rdmailings at duif.net  Fri May 24 14:24:08 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 24 May 2019 23:24:08 +0200
Subject: [QGIS-Developer] github comment issues
In-Reply-To: <F05ABBD3-4981-430B-822B-F2E9558DF7F8@gmail.com>
References: <CAOM0XWDDf5P68Ej_qWLVHE6yopc0JQ1Uz7_JdWV62x2ZMMCMRA@mail.gmail.com>
 <F05ABBD3-4981-430B-822B-F2E9558DF7F8@gmail.com>
Message-ID: <73f5a0a2-bb7c-d2fd-0a98-dbc0693d1194@duif.net>

At this moment we are running the script to fill github/qgis
issuetracker with the issues from Redmine.
So this limited interaction is/should be for a limited time.
See:
https://lists.osgeo.org/pipermail/qgis-developer/2019-May/057383.html
and
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818

The github api we use is was rather slow this morning, but the plan was
to do the migration within 24 hour..

Jorge probably will let us know when finished.

Regards,

Richard Duivenvoorde

On 24/05/2019 22.52, Harrissou wrote:
> Hi,
> My case too. Only committers can interact, currently. I Sent a message
> to the list earlier but attached image was too big (hence failed to
> reach the list) and didn't have time to resend.
> 
> Regards,
> Harrissou
> 
> Le 24 mai 2019 22:39:03 GMT+02:00, "Alexis R.L." <alroyliz0 at gmail.com> a
> écrit :
> 
>     Greetings,
> 
>     When I go on my PRs or any issue or PR I see the following:
>     image.png
>     I'm not sure if this is intended but I cannot comment on anything,
>     I'm not sure if this is me in particular or for any other
>     non-collaborator as the message says.
> 
>     Was this intended?
> 
>     Alexis Roy-Lizotte
> 
> 
> -- 
> Envoyé de mon appareil Android avec Courriel K-9 Mail. Veuillez excuser
> ma brièveté.
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From noreply at qgis.org  Fri May 24 18:10:08 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 25 May 2019 01:10:08 -0000
Subject: [QGIS-Developer] Plugin [1456] EO Time Series Viewer approval
	notification.
Message-ID: <20190525011008.9373.54637@2c6504964296>


Plugin EO Time Series Viewer approval by pcav.
The plugin version "[1456] EO Time Series Viewer 1.1.20190525T0033.master" is now approved
Link: http://plugins.qgis.org/plugins/timeseriesviewerplugin/

From noreply at qgis.org  Fri May 24 18:10:24 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 25 May 2019 01:10:24 -0000
Subject: [QGIS-Developer] Plugin [1456] EO Time Series Viewer approval
	notification.
Message-ID: <20190525011024.9373.53877@2c6504964296>


Plugin EO Time Series Viewer approval by pcav.
The plugin version "[1456] EO Time Series Viewer 1.1.20190525T0018.master" is now approved
Link: http://plugins.qgis.org/plugins/timeseriesviewerplugin/

From nyall.dawson at gmail.com  Fri May 24 20:33:22 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 25 May 2019 13:33:22 +1000
Subject: [QGIS-Developer] qgis_editor_widget_styles table,
 what is it ? How to create it?
In-Reply-To: <CABgOYCfDb2+cHzY=rN2uRPWNUFj=f7N-0R6uacEiFcT=bK2VJw@mail.gmail.com>
References: <CABgOYCfDb2+cHzY=rN2uRPWNUFj=f7N-0R6uacEiFcT=bK2VJw@mail.gmail.com>
Message-ID: <CAB28AsgTe9ARQm10=PqUiGO+acsYGGbX70wxTCotOkY99c3fSQ@mail.gmail.com>

On Fri, 24 May 2019 at 18:25, Régis Haubourg <regis.haubourg at gmail.com> wrote:
>
> Hi all,
> I'm facing very slow opening of project files for a customer here in QGIS 3.4.5. Something like 7 minutes, against 30 s in QGIS 2.18.
>
> We are still investigating to narrow it down, but I faced a first query in the logs that I fail to understand.
>
> QGIS emits this at a point:

>
> And this query is long in our context, 1.7s, because of a very high number of tables and schemas in that production DB.
>
> I found at [0] in the postgres provider where it comes from, I found the associated PR [1], but I fail to understand in what workflow this table is created using QGIS, and what it is used for.
>
> Can someone put some light here ?

There's a unit test at

https://github.com/qgis/QGIS/pull/3439/files#diff-99b101819133a316786604243f3abf6eR318

and

https://github.com/qgis/QGIS/pull/3439/files#diff-03e6d7f6f76fb4bcab508984d0fd05f6R443

which partially explains this -- it looks like it's a way to specify a
default editor widget configuration for a table, which is used
whenever that table is loaded into QGIS.

>
> select count(*)
>
> from information_schema.tables
>
> where table_name = 'qgis_editor_widget_styles' ;
>

Looks like that query could be substantially improved -- it's only
testing for existence of the table, so calculating the count is
inefficient and requiring a whole table scan.

Nyall

From delazj at gmail.com  Fri May 24 22:43:29 2019
From: delazj at gmail.com (DelazJ)
Date: Sat, 25 May 2019 07:43:29 +0200
Subject: [QGIS-Developer] github comment issues
In-Reply-To: <F05ABBD3-4981-430B-822B-F2E9558DF7F8@gmail.com>
References: <CAOM0XWDDf5P68Ej_qWLVHE6yopc0JQ1Uz7_JdWV62x2ZMMCMRA@mail.gmail.com>
 <F05ABBD3-4981-430B-822B-F2E9558DF7F8@gmail.com>
Message-ID: <CAECJsSpb6N5kk_ByPaeuTQgFCawH36TaNnATUZ3hC+H79698HQ@mail.gmail.com>

Hi,
Alexis, it might have to do with the issues migration (i thought i was
finished but issues are still being created). Probably this is to avoid
some non informed people create an issue report during the process. Safer
this way.

Le ven. 24 mai 2019 à 22:52, Harrissou <delazj at gmail.com> a écrit :

> Hi,
> My case too. Only committers can interact, currently. I Sent a message to
> the list earlier but attached image was too big (hence failed to reach the
> list) and didn't have time to resend.
>
> Regards,
> Harrissou
>
> Le 24 mai 2019 22:39:03 GMT+02:00, "Alexis R.L." <alroyliz0 at gmail.com> a
> écrit :
>>
>> Greetings,
>>
>> When I go on my PRs or any issue or PR I see the following:
>> [image: image.png]
>> I'm not sure if this is intended but I cannot comment on anything, I'm
>> not sure if this is me in particular or for any other non-collaborator as
>> the message says.
>>
>> Was this intended?
>>
>> Alexis Roy-Lizotte
>>
>
> --
> Envoyé de mon appareil Android avec Courriel K-9 Mail. Veuillez excuser ma
> brièveté.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190525/d8b42317/attachment.html>

From noreply at qgis.org  Fri May 24 23:13:20 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 25 May 2019 06:13:20 -0000
Subject: [QGIS-Developer] Plugin [1725] Minimum Spanning Tree approval
	notification.
Message-ID: <20190525061320.9373.96956@2c6504964296>


Plugin Minimum Spanning Tree approval by pcav.
The plugin version "[1725] Minimum Spanning Tree 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/minimum_spanning_tree/

From alroyliz0 at gmail.com  Sat May 25 03:14:36 2019
From: alroyliz0 at gmail.com (Alexis R.L.)
Date: Sat, 25 May 2019 06:14:36 -0400
Subject: [QGIS-Developer] github comment issues
In-Reply-To: <CAECJsSpb6N5kk_ByPaeuTQgFCawH36TaNnATUZ3hC+H79698HQ@mail.gmail.com>
References: <CAOM0XWDDf5P68Ej_qWLVHE6yopc0JQ1Uz7_JdWV62x2ZMMCMRA@mail.gmail.com>
 <F05ABBD3-4981-430B-822B-F2E9558DF7F8@gmail.com>
 <CAECJsSpb6N5kk_ByPaeuTQgFCawH36TaNnATUZ3hC+H79698HQ@mail.gmail.com>
Message-ID: <CAOM0XWD9NNJ5893t+4MfcDyU3JKGEZAVYBfAD20KMhTG+rRNKQ@mail.gmail.com>

Greetings,

Since the issue reports are now from the 21st of Jan, I assume it should be
over soon?


Alexis Roy-Lizotte


Le sam. 25 mai 2019 à 01:43, DelazJ <delazj at gmail.com> a écrit :

> Hi,
> Alexis, it might have to do with the issues migration (i thought i was
> finished but issues are still being created). Probably this is to avoid
> some non informed people create an issue report during the process. Safer
> this way.
>
> Le ven. 24 mai 2019 à 22:52, Harrissou <delazj at gmail.com> a écrit :
>
>> Hi,
>> My case too. Only committers can interact, currently. I Sent a message to
>> the list earlier but attached image was too big (hence failed to reach the
>> list) and didn't have time to resend.
>>
>> Regards,
>> Harrissou
>>
>> Le 24 mai 2019 22:39:03 GMT+02:00, "Alexis R.L." <alroyliz0 at gmail.com> a
>> écrit :
>>>
>>> Greetings,
>>>
>>> When I go on my PRs or any issue or PR I see the following:
>>> [image: image.png]
>>> I'm not sure if this is intended but I cannot comment on anything, I'm
>>> not sure if this is me in particular or for any other non-collaborator as
>>> the message says.
>>>
>>> Was this intended?
>>>
>>> Alexis Roy-Lizotte
>>>
>>
>> --
>> Envoyé de mon appareil Android avec Courriel K-9 Mail. Veuillez excuser
>> ma brièveté.
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190525/6043f547/attachment.html>

From rdmailings at duif.net  Sat May 25 05:56:58 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 25 May 2019 14:56:58 +0200
Subject: [QGIS-Developer] Redmine migration plan: friday 24 may 8:00 CET
In-Reply-To: <9c8cc078-f45d-6d73-38bc-db5d8fcc540f@duif.net>
References: <9c8cc078-f45d-6d73-38bc-db5d8fcc540f@duif.net>
Message-ID: <fd5d2eba-6c5f-b8a5-7bf0-10d6f970ed06@duif.net>

Update from mirgration team:

Hi @all,

The issue migration from Redmine to GitHub is going on smoothly (but slow).

The first phase (moving the issues) is finished. All 19845 issues are
now on GitHub :-)

Since the issue ids have changed, we started a second run to replace
old ids with the new ones. This second phase is faster than the
first one. It will take about 9 to 10 hours (we are able to update
+-2200 issues per hour and we have almost 20k issues).

To prevent people for changing or comment issues, we will keep the
interaction limited to developers with push access, until the migration
is complete. Developers with push access can do PR and MR (but can also
enjoy the weekend ;-).

So, we expected to have the migration finished today by 22:00 (GMT+1)
(London time).

Thanks for your comprehension!


On 22/05/2019 14.06, Richard Duivenvoorde wrote:
> Hi All (lists),
> 
> We propose to do the Redmine -> Github migration next friday 24th of may
> at 8:00 CET (+2).
> 
> More or less following this Migration plan:
> 
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818
> 
> To be clear: this means http://issues.qgis.org cannot be used on friday,
> untill the migration is finished and checked.
> 
> If anybody has knowledge of an easy way to make Redmine readonly, please
> let us know. Some googling to me only revealed changing the database
> user or fiddling with the users in the db itself.
> 
> Jorge will be in the lead for the Migration team
> I (among others) will be around for QGIS Infra
> Any help or encouragement is appreciated :-)
> 
> Let's meet on IRC on friday morning, we can further decide on
> communication if needed/wanted.
> 
> If I miss something, please let us know.
> 
> Regards,
> 
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 


From anitagraser at gmx.at  Sat May 25 06:44:14 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 25 May 2019 15:44:14 +0200
Subject: [QGIS-Developer] Expressions with aggregate in PyQGIS
In-Reply-To: <CAB28AsiYW8htarxOU1X9J_Do7O1pHLKoR_bK7K8LCYZj8av8pg@mail.gmail.com>
References: <CAFFV8Fjtiw0sdDuRAQAkWj4AGpf3rvaTwGv5LMKZaBH9+2vAUw@mail.gmail.com>
 <CAB28AshmTb0-GU5wmdimdy9BGDRSWsWi64DdFqFchL13dF52hQ@mail.gmail.com>
 <CAFFV8FiG-XRt2-TttL=XdE46BMOY3DkiEJ1RVPPg54ZasiRz1A@mail.gmail.com>
 <CAFFV8FimNmbj4toUzik04hV_0-Xt7wi+uLynUFdz-DPoS_97fg@mail.gmail.com>
 <CAB28AsiYW8htarxOU1X9J_Do7O1pHLKoR_bK7K8LCYZj8av8pg@mail.gmail.com>
Message-ID: <CAFFV8Fh5P-35wtXVPj9COQsNhd1R5k7aEc0+3WKh5CjR3TWeEA@mail.gmail.com>

Hi,

I've started a PR with the aggregate expression example here:
https://github.com/qgis/QGIS-Documentation/pull/3769

Regards,
Anita




On Tue, May 21, 2019 at 12:15 AM Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> On Tue, 21 May 2019 at 05:53, Anita Graser <anitagraser at gmx.at> wrote:
> >
> > Dear Nyall,
> >
> > for f in vl.getFeatures():
> >     scope[-1].setFeature(f)
>
> This works, but isn't very nice. Better to use
>
>     context.setFeature(f)
>
> (behind the scenes it's doing the same, but is more descriptive and
> has some extra checks, e.g. starting with an empty context:
>     context = QgsExpressionContext()
>     context.setFeature(f)
> will automatically add an initial scope in which to set the feature)
>
> > scope = QgsExpressionContextUtils.globalProjectLayerScopes(vl)
>
> Being pedantic, this should be "scopes = ...", since the call returns
> a list of scopes.
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190525/28b74c01/attachment-0001.html>

From noreply at qgis.org  Sat May 25 08:36:39 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 25 May 2019 15:36:39 -0000
Subject: [QGIS-Developer] Plugin [1246] go2mapillary approval notification.
Message-ID: <20190525153639.12711.5969@2c6504964296>


Plugin go2mapillary approval by pcav.
The plugin version "[1246] go2mapillary 2.3" is now approved
Link: http://plugins.qgis.org/plugins/go2mapillary/

From cavallini at faunalia.it  Sat May 25 08:38:03 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat, 25 May 2019 17:38:03 +0200
Subject: [QGIS-Developer] [Qgis-psc] Redmine migration plan: friday
	24	may 8:00 CET
In-Reply-To: <fd5d2eba-6c5f-b8a5-7bf0-10d6f970ed06@duif.net>
References: <9c8cc078-f45d-6d73-38bc-db5d8fcc540f@duif.net>
 <fd5d2eba-6c5f-b8a5-7bf0-10d6f970ed06@duif.net>
Message-ID: <28F2B8C2-F5CB-4324-A5DD-59DDE514E731@faunalia.it>

Thanks a lot, much appreciated.

Il 25 maggio 2019 14:56:58 CEST, Richard Duivenvoorde <rdmailings at duif.net> ha scritto:
>Update from mirgration team:
>
>Hi @all,
>
>The issue migration from Redmine to GitHub is going on smoothly (but
>slow).
>
>The first phase (moving the issues) is finished. All 19845 issues are
>now on GitHub :-)
>
>Since the issue ids have changed, we started a second run to replace
>old ids with the new ones. This second phase is faster than the
>first one. It will take about 9 to 10 hours (we are able to update
>+-2200 issues per hour and we have almost 20k issues).
>
>To prevent people for changing or comment issues, we will keep the
>interaction limited to developers with push access, until the migration
>is complete. Developers with push access can do PR and MR (but can also
>enjoy the weekend ;-).
>
>So, we expected to have the migration finished today by 22:00 (GMT+1)
>(London time).
>
>Thanks for your comprehension!
>
>
>On 22/05/2019 14.06, Richard Duivenvoorde wrote:
>> Hi All (lists),
>> 
>> We propose to do the Redmine -> Github migration next friday 24th of
>may
>> at 8:00 CET (+2).
>> 
>> More or less following this Migration plan:
>> 
>>
>https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818
>> 
>> To be clear: this means http://issues.qgis.org cannot be used on
>friday,
>> untill the migration is finished and checked.
>> 
>> If anybody has knowledge of an easy way to make Redmine readonly,
>please
>> let us know. Some googling to me only revealed changing the database
>> user or fiddling with the users in the db itself.
>> 
>> Jorge will be in the lead for the Migration team
>> I (among others) will be around for QGIS Infra
>> Any help or encouragement is appreciated :-)
>> 
>> Let's meet on IRC on friday morning, we can further decide on
>> communication if needed/wanted.
>> 
>> If I miss something, please let us know.
>> 
>> Regards,
>> 
>> Richard Duivenvoorde
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> 
>
>_______________________________________________
>Qgis-psc mailing list
>Qgis-psc at lists.osgeo.org
>https://lists.osgeo.org/mailman/listinfo/qgis-psc

-- 
Sorry for being short
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190525/e98b1c56/attachment.html>

From regis.haubourg at gmail.com  Sat May 25 08:48:03 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Sat, 25 May 2019 17:48:03 +0200
Subject: [QGIS-Developer] qgis_editor_widget_styles table,
 what is it ? How to create it?
In-Reply-To: <CAB28AsgTe9ARQm10=PqUiGO+acsYGGbX70wxTCotOkY99c3fSQ@mail.gmail.com>
References: <CABgOYCfDb2+cHzY=rN2uRPWNUFj=f7N-0R6uacEiFcT=bK2VJw@mail.gmail.com>
 <CAB28AsgTe9ARQm10=PqUiGO+acsYGGbX70wxTCotOkY99c3fSQ@mail.gmail.com>
Message-ID: <CABgOYCdzhcXgsj2MY8YukZZfDqiQwHWaboB_1smAsoAfNQGthw@mail.gmail.com>

Hi, Thanks Nyall for the hints.

I'm considering switching to this query instead.
SELECT * FROM pg_class WHERE relname='qgis_editor_widget_styles'

In my setup it access only to one table and uses internal indexes, when the
information_schema.tables is a view that involve a materialized query here
when using explain.
I don't see a significant difference on my local setup, I'll test it on our
customer setup before starting my (first) PR!

Cheers
Régis

Le sam. 25 mai 2019 à 05:33, Nyall Dawson <nyall.dawson at gmail.com> a écrit :

> On Fri, 24 May 2019 at 18:25, Régis Haubourg <regis.haubourg at gmail.com>
> wrote:
> >
> > Hi all,
> > I'm facing very slow opening of project files for a customer here in
> QGIS 3.4.5. Something like 7 minutes, against 30 s in QGIS 2.18.
> >
> > We are still investigating to narrow it down, but I faced a first query
> in the logs that I fail to understand.
> >
> > QGIS emits this at a point:
>
> >
> > And this query is long in our context, 1.7s, because of a very high
> number of tables and schemas in that production DB.
> >
> > I found at [0] in the postgres provider where it comes from, I found the
> associated PR [1], but I fail to understand in what workflow this table is
> created using QGIS, and what it is used for.
> >
> > Can someone put some light here ?
>
> There's a unit test at
>
>
> https://github.com/qgis/QGIS/pull/3439/files#diff-99b101819133a316786604243f3abf6eR318
>
> and
>
>
> https://github.com/qgis/QGIS/pull/3439/files#diff-03e6d7f6f76fb4bcab508984d0fd05f6R443
>
> which partially explains this -- it looks like it's a way to specify a
> default editor widget configuration for a table, which is used
> whenever that table is loaded into QGIS.
>
> >
> > select count(*)
> >
> > from information_schema.tables
> >
> > where table_name = 'qgis_editor_widget_styles' ;
> >
>
> Looks like that query could be substantially improved -- it's only
> testing for existence of the table, so calculating the count is
> inefficient and requiring a whole table scan.
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190525/3857292d/attachment.html>

From rdmailings at duif.net  Sat May 25 15:55:04 2019
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sun, 26 May 2019 00:55:04 +0200
Subject: [QGIS-Developer] [Qgis-user] Redmine migration plan: friday 24
 may 8:00 CET
In-Reply-To: <fd5d2eba-6c5f-b8a5-7bf0-10d6f970ed06@duif.net>
References: <9c8cc078-f45d-6d73-38bc-db5d8fcc540f@duif.net>
 <fd5d2eba-6c5f-b8a5-7bf0-10d6f970ed06@duif.net>
Message-ID: <52048695-3dad-65ea-8f54-6de79db7000a@duif.net>

Update from migration team:

Migration of all Redmine issue is DONE !!!!!

https://github.com/qgis/QGIS/issues/

The interaction limitation has ended and you can start working on (your)
issues on GitHub.

Go, fix, enjoy and happy QGISsing on github!

Regards,

Richard Duivenvoorde

ps according to Jorge (aka 'migration team'), there is some minor
housekeeping to be done, but users and dev can... GO :-)



On 25/05/2019 14.56, Richard Duivenvoorde wrote:
> Update from mirgration team:
> 
> Hi @all,
> 
> The issue migration from Redmine to GitHub is going on smoothly (but slow).
> 
> The first phase (moving the issues) is finished. All 19845 issues are
> now on GitHub :-)
> 
> Since the issue ids have changed, we started a second run to replace
> old ids with the new ones. This second phase is faster than the
> first one. It will take about 9 to 10 hours (we are able to update
> +-2200 issues per hour and we have almost 20k issues).
> 
> To prevent people for changing or comment issues, we will keep the
> interaction limited to developers with push access, until the migration
> is complete. Developers with push access can do PR and MR (but can also
> enjoy the weekend ;-).
> 
> So, we expected to have the migration finished today by 22:00 (GMT+1)
> (London time).
> 
> Thanks for your comprehension!
> 
> 
> On 22/05/2019 14.06, Richard Duivenvoorde wrote:
>> Hi All (lists),
>>
>> We propose to do the Redmine -> Github migration next friday 24th of may
>> at 8:00 CET (+2).
>>
>> More or less following this Migration plan:
>>
>> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818
>>
>> To be clear: this means http://issues.qgis.org cannot be used on friday,
>> untill the migration is finished and checked.
>>
>> If anybody has knowledge of an easy way to make Redmine readonly, please
>> let us know. Some googling to me only revealed changing the database
>> user or fiddling with the users in the db itself.
>>
>> Jorge will be in the lead for the Migration team
>> I (among others) will be around for QGIS Infra
>> Any help or encouragement is appreciated :-)
>>
>> Let's meet on IRC on friday morning, we can further decide on
>> communication if needed/wanted.
>>
>> If I miss something, please let us know.
>>
>> Regards,
>>
>> Richard Duivenvoorde
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> 
> _______________________________________________
> Qgis-user mailing list
> Qgis-user at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
> 


From madmanwoo at gmail.com  Sun May 26 01:16:12 2019
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Sun, 26 May 2019 18:16:12 +1000
Subject: [QGIS-Developer] [Qgis-community-team] [Qgis-user] Redmine
 migration plan: friday 24 may 8:00 CET
In-Reply-To: <52048695-3dad-65ea-8f54-6de79db7000a@duif.net>
References: <9c8cc078-f45d-6d73-38bc-db5d8fcc540f@duif.net>
 <fd5d2eba-6c5f-b8a5-7bf0-10d6f970ed06@duif.net>
 <52048695-3dad-65ea-8f54-6de79db7000a@duif.net>
Message-ID: <CAAi8Yg8Ntk=BvVqyX9jEPe_oHZU+8a9qKbzB9fme=6OH_JG8zw@mail.gmail.com>

Great work from all involved.  Thanks a lot for your hard work on getting
this sorted :)

On Sun, May 26, 2019 at 8:55 AM Richard Duivenvoorde <rdmailings at duif.net>
wrote:

> Update from migration team:
>
> Migration of all Redmine issue is DONE !!!!!
>
> https://github.com/qgis/QGIS/issues/
>
> The interaction limitation has ended and you can start working on (your)
> issues on GitHub.
>
> Go, fix, enjoy and happy QGISsing on github!
>
> Regards,
>
> Richard Duivenvoorde
>
> ps according to Jorge (aka 'migration team'), there is some minor
> housekeeping to be done, but users and dev can... GO :-)
>
>
>
> On 25/05/2019 14.56, Richard Duivenvoorde wrote:
> > Update from mirgration team:
> >
> > Hi @all,
> >
> > The issue migration from Redmine to GitHub is going on smoothly (but
> slow).
> >
> > The first phase (moving the issues) is finished. All 19845 issues are
> > now on GitHub :-)
> >
> > Since the issue ids have changed, we started a second run to replace
> > old ids with the new ones. This second phase is faster than the
> > first one. It will take about 9 to 10 hours (we are able to update
> > +-2200 issues per hour and we have almost 20k issues).
> >
> > To prevent people for changing or comment issues, we will keep the
> > interaction limited to developers with push access, until the migration
> > is complete. Developers with push access can do PR and MR (but can also
> > enjoy the weekend ;-).
> >
> > So, we expected to have the migration finished today by 22:00 (GMT+1)
> > (London time).
> >
> > Thanks for your comprehension!
> >
> >
> > On 22/05/2019 14.06, Richard Duivenvoorde wrote:
> >> Hi All (lists),
> >>
> >> We propose to do the Redmine -> Github migration next friday 24th of may
> >> at 8:00 CET (+2).
> >>
> >> More or less following this Migration plan:
> >>
> >>
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818
> >>
> >> To be clear: this means http://issues.qgis.org cannot be used on
> friday,
> >> untill the migration is finished and checked.
> >>
> >> If anybody has knowledge of an easy way to make Redmine readonly, please
> >> let us know. Some googling to me only revealed changing the database
> >> user or fiddling with the users in the db itself.
> >>
> >> Jorge will be in the lead for the Migration team
> >> I (among others) will be around for QGIS Infra
> >> Any help or encouragement is appreciated :-)
> >>
> >> Let's meet on IRC on friday morning, we can further decide on
> >> communication if needed/wanted.
> >>
> >> If I miss something, please let us know.
> >>
> >> Regards,
> >>
> >> Richard Duivenvoorde
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>
> >
> > _______________________________________________
> > Qgis-user mailing list
> > Qgis-user at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
> >
>
> _______________________________________________
> Qgis-community-team mailing list for organizing community resources such
> as documentation, translation etc..
> Qgis-community-team at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-community-team
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190526/40c56a58/attachment.html>

From regis.haubourg at gmail.com  Sun May 26 01:42:18 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Sun, 26 May 2019 10:42:18 +0200
Subject: [QGIS-Developer] [Qgis-community-team] [Qgis-user] Redmine
 migration plan: friday 24 may 8:00 CET
In-Reply-To: <52048695-3dad-65ea-8f54-6de79db7000a@duif.net>
References: <9c8cc078-f45d-6d73-38bc-db5d8fcc540f@duif.net>
 <fd5d2eba-6c5f-b8a5-7bf0-10d6f970ed06@duif.net>
 <52048695-3dad-65ea-8f54-6de79db7000a@duif.net>
Message-ID: <CABgOYCf2Xs+KRErbeAXhs6usGPcAwvDOG=XyETJya6G1izptHg@mail.gmail.com>

Oh yeah!
Great work guys 👍👍👍

Le dim. 26 mai 2019 à 00:55, Richard Duivenvoorde <rdmailings at duif.net> a
écrit :

> Update from migration team:
>
> Migration of all Redmine issue is DONE !!!!!
>
> https://github.com/qgis/QGIS/issues/
>
> The interaction limitation has ended and you can start working on (your)
> issues on GitHub.
>
> Go, fix, enjoy and happy QGISsing on github!
>
> Regards,
>
> Richard Duivenvoorde
>
> ps according to Jorge (aka 'migration team'), there is some minor
> housekeeping to be done, but users and dev can... GO :-)
>
>
>
> On 25/05/2019 14.56, Richard Duivenvoorde wrote:
> > Update from mirgration team:
> >
> > Hi @all,
> >
> > The issue migration from Redmine to GitHub is going on smoothly (but
> slow).
> >
> > The first phase (moving the issues) is finished. All 19845 issues are
> > now on GitHub :-)
> >
> > Since the issue ids have changed, we started a second run to replace
> > old ids with the new ones. This second phase is faster than the
> > first one. It will take about 9 to 10 hours (we are able to update
> > +-2200 issues per hour and we have almost 20k issues).
> >
> > To prevent people for changing or comment issues, we will keep the
> > interaction limited to developers with push access, until the migration
> > is complete. Developers with push access can do PR and MR (but can also
> > enjoy the weekend ;-).
> >
> > So, we expected to have the migration finished today by 22:00 (GMT+1)
> > (London time).
> >
> > Thanks for your comprehension!
> >
> >
> > On 22/05/2019 14.06, Richard Duivenvoorde wrote:
> >> Hi All (lists),
> >>
> >> We propose to do the Redmine -> Github migration next friday 24th of may
> >> at 8:00 CET (+2).
> >>
> >> More or less following this Migration plan:
> >>
> >>
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818
> >>
> >> To be clear: this means http://issues.qgis.org cannot be used on
> friday,
> >> untill the migration is finished and checked.
> >>
> >> If anybody has knowledge of an easy way to make Redmine readonly, please
> >> let us know. Some googling to me only revealed changing the database
> >> user or fiddling with the users in the db itself.
> >>
> >> Jorge will be in the lead for the Migration team
> >> I (among others) will be around for QGIS Infra
> >> Any help or encouragement is appreciated :-)
> >>
> >> Let's meet on IRC on friday morning, we can further decide on
> >> communication if needed/wanted.
> >>
> >> If I miss something, please let us know.
> >>
> >> Regards,
> >>
> >> Richard Duivenvoorde
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>
> >
> > _______________________________________________
> > Qgis-user mailing list
> > Qgis-user at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
> >
>
> _______________________________________________
> Qgis-community-team mailing list for organizing community resources such
> as documentation, translation etc..
> Qgis-community-team at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/qgis-community-team
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190526/c70a81a4/attachment-0001.html>

From strk at kbt.io  Sun May 26 05:27:56 2019
From: strk at kbt.io (Sandro Santilli)
Date: Sun, 26 May 2019 14:27:56 +0200
Subject: [QGIS-Developer] github tickets authorship
Message-ID: <20190526122756.GA10703@liz>

I was looking at the migrated tickets and found that no tickets
are known as being reported by myself. Searching for "own tickets"
is something I'm used to do, periodically, to see if there's any
problem that I reported that can be closed (I'm probably in the
best position to test my own tickets).

Was authorship information lost in the migration or is there a plan
to recover ?

--strk;

From jef at norbit.de  Sun May 26 05:47:34 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Sun, 26 May 2019 14:47:34 +0200
Subject: [QGIS-Developer] github tickets authorship
In-Reply-To: <20190526122756.GA10703@liz>
References: <20190526122756.GA10703@liz>
Message-ID: <20190526124734.d7lqscpcy3xqnpqz@norbit.de>

Hi Sandro,

On Sun, 26. May 2019 at 14:27:56 +0200, Sandro Santilli wrote:
> I was looking at the migrated tickets and found that no tickets
> are known as being reported by myself. Searching for "own tickets"
> is something I'm used to do, periodically, to see if there's any
> problem that I reported that can be closed (I'm probably in the
> best position to test my own tickets).
> 
> Was authorship information lost in the migration or is there a plan
> to recover ?

I think the migration could not impersonate authors. 

But you can look for "Author Name: Sandro Santilli", but that will also
show tickets you authored comments for.

Apparently you cannot search for substrings either ("widget.value" or
"self.widget" will not find tickets with "self.widget.value" in them).



Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190526/45306893/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190526/45306893/attachment.ksh>

From strk at kbt.io  Sun May 26 06:11:18 2019
From: strk at kbt.io (Sandro Santilli)
Date: Sun, 26 May 2019 15:11:18 +0200
Subject: [QGIS-Developer] github tickets authorship
In-Reply-To: <20190526124734.d7lqscpcy3xqnpqz@norbit.de>
References: <20190526122756.GA10703@liz>
 <20190526124734.d7lqscpcy3xqnpqz@norbit.de>
Message-ID: <20190526131118.GC10703@liz>

On Sun, May 26, 2019 at 02:47:34PM +0200, Jürgen E. Fischer wrote:
> Hi Sandro,
> 
> On Sun, 26. May 2019 at 14:27:56 +0200, Sandro Santilli wrote:
> > I was looking at the migrated tickets and found that no tickets
> > are known as being reported by myself. Searching for "own tickets"
> > is something I'm used to do, periodically, to see if there's any
> > problem that I reported that can be closed (I'm probably in the
> > best position to test my own tickets).
> > 
> > Was authorship information lost in the migration or is there a plan
> > to recover ?
> 
> I think the migration could not impersonate authors. 
> 
> But you can look for "Author Name: Sandro Santilli", but that will also
> show tickets you authored comments for.

That's not good. So I reverted to query the read-only Redmine, to find
any open ticket in my name. I found https://issues.qgis.org/issues/17934
but if I wanted to close it now I'd have to do it in github, but
there's no link from readmine to github in each ticket...

--strk;

From jef at norbit.de  Sun May 26 07:24:55 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Sun, 26 May 2019 16:24:55 +0200
Subject: [QGIS-Developer] github tickets authorship
In-Reply-To: <20190526131118.GC10703@liz>
References: <20190526122756.GA10703@liz>
 <20190526124734.d7lqscpcy3xqnpqz@norbit.de>
 <20190526131118.GC10703@liz>
Message-ID: <20190526142455.3kkhixcuu54vksmz@norbit.de>

Hi Sandro,

On Sun, 26. May 2019 at 15:11:18 +0200, Sandro Santilli wrote:
> That's not good. So I reverted to query the read-only Redmine, to find
> any open ticket in my name. I found https://issues.qgis.org/issues/17934
> but if I wanted to close it now I'd have to do it in github, but
> there's no link from readmine to github in each ticket...

Yes, not yet.  But you can search for "Original Redmine Issue: 17934" in
github for now, but a back link to original ticket is there.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190526/682da077/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190526/682da077/attachment.ksh>

From jgr at di.uminho.pt  Sun May 26 08:21:34 2019
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Sun, 26 May 2019 16:21:34 +0100
Subject: [QGIS-Developer] github tickets authorship
In-Reply-To: <20190526122756.GA10703@liz>
References: <20190526122756.GA10703@liz>
Message-ID: <e14f1f17-a57e-b3fb-d2ba-02c80c6d6462@di.uminho.pt>

Hi Sandro,

The information about the author is there, but the issues were created
by the bot. You can not search previous issues by: author:strk.

But since your name was mapped to your GH account, you don't need to
search by your name (as a text string). You can search:

is:open mentions:strk
or
is:open assignee:strk

Regards,

Jorge Gustavo

Às 13:27 de 26/05/19, Sandro Santilli escreveu:
> I was looking at the migrated tickets and found that no tickets
> are known as being reported by myself. Searching for "own tickets"
> is something I'm used to do, periodically, to see if there's any
> problem that I reported that can be closed (I'm probably in the
> best position to test my own tickets).
> 
> Was authorship information lost in the migration or is there a plan
> to recover ?
> 
> --strk;
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Informática
Universidade do Minho
4710-057 Braga
Tel: +351 253604480
Fax: +351 253604471
Móvel: +351 910333888
skype: nabocudnosor

From imajimatika at gmail.com  Sun May 26 10:47:19 2019
From: imajimatika at gmail.com (Ismail Sunni)
Date: Sun, 26 May 2019 19:47:19 +0200
Subject: [QGIS-Developer] [GSoC 2019 - QGIS 3D Improvement] Community
	Bonding Period Report
Message-ID: <CAEh5jtHGsotd54wSsOqE=6eqU-h-Za=0iCpiEdcicQwJo3q_oQ@mail.gmail.com>

Dear QGIS Developers,

Here is my update from the GSoC community bonding. You can also find it in
https://github.com/ismailsunni/QGIS/wiki/Community-Bonding-Period

Community Bonding Period

*Overview*
The community bonding period started from 6 May 2019 until 26 May 2019. In
this community bonding period, my mentor, Martin Dobias, helps me to start
the introduction [1] to the mailing list. I introduce myself and the
project that I will work on [2]. I have already explained the project and
asked for feedback before the proposal submission to the developer mailing
list [3]. I also sent a similar email to the SOC [4].

With my mentors (Martin and Peter), we have met twice virtually via video
call during the community bonding. For some quick questions, we also use a
messaging platform. For the coding period, we agree to meet twice a week.
Additionally, I have met with both of my mentors offline before the
community bonding/GSoC announcement.

In term of the QGIS project, I have already set up my developer environment
(and build frequently). I have been quite familiar with the development
process (repository, pull request, issue tracker, documentation, QEP,
communication, the organization, etc).

For the technical aspect, my main task in the project is learning about 3D
programming and fresh my Qt C++. For this, my mentor suggested me to learn
from LearnOpenGL [5]. I also did some coding with Qt 3D with C++. The code
can be checked in my Github Repository [6]. Perhaps can be useful for
others since I couldn't find a good Qt 3D C++ tutorial out there.

Additionally, I tried to go to the QGIS 3D codebase and do some research
about the implementation (e.g. QDial for the on-screen navigation [7])

Regarding the project, I also made a Github issue to track my progress for
my first improvement (On-Screen Navigation)[8]. I made a mockup for it also.

Lastly, on the GSoC itself, I have made a Wiki to put everything related to
my project [9]. I will update it regularly (or weekly).

*Checklist*
Here some checklist that I have done in the community bonding period:
- [x]  _Request writing access to the OSGeo wiki, you need it to edit all
info related to your project_
- [x] _Get to know your mentors, establish with them a way of
communication, that can be video call, chat, email, etc. You are supposed
to communicate regularly and often with your mentors._
- [x] Familiarize with the community practices and processes: how does the
community communicate? Where is the source code published? How does the bug
tracker work?
- [x] Introduce yourself and your project in SOC mailing list as well as
the mailing list used by your software community, and start a public
dialogue to gather feedback and refine your project accordingly.
- [x] Redefine your project with more detailed weekly milestones, with the
help of your mentors and the feedback of the community, embedding the 3
evaluation periods in your timetable, adding more details, figuring out
potential issues, etc.
- [x] Become familiar with the developer manuals
- [x] Study material relevant for your project
- [x] Install the developer environment and get ready to start coding
- [ ] Participate in Mailing Lists / IRC / etc, try and help users
  > I was trying to do it (reading the mailing list often), but
unfortunately, I couldn't answer the questions that came up
- [ ] Start coding for bug fixes NOT necessarily related to your project:
it is a good exercise to become familiar with the code base. Include these
bug fixes into your report due at the end of bonding period.
  > No. My mentors suggested me to learn the 3D code base instead.
- [x] Set up your repository and wiki page for your project. You are free
to blog/tweet about it too, if you wish. Don’t forget to include these info
in the report due at the end of the bonding period.
- [x] Ask your mentors for guidance on how to commit to the project
repository. Bear in mind that you should commit often, not just at
evaluation periods. However, depending on the policy given by your mentors,
you might be requested to commit in your own repository and make a PR only
when the code is mature to be included in the main repo. Discuss the
details with your mentors.

*Best Regards*

* [1] https://lists.osgeo.org/pipermail/qgis-developer/2019-May/057206.html
* [2] https://lists.osgeo.org/pipermail/qgis-developer/2019-May/057218.html
* [3]
https://lists.osgeo.org/pipermail/qgis-developer/2019-April/056851.html
* [4] https://lists.osgeo.org/pipermail/soc/2019-May/004241.html
* [5] https://learnopengl.com/
* [6] https://github.com/ismailsunni/qt3d-hello-world
* [7] https://doc.qt.io/archives/qt-4.8/qdial.html
* [8] https://github.com/ismailsunni/QGIS/issues/1
* [9]
https://github.com/ismailsunni/QGIS/wiki/GSoC-2019---QGIS-3D-Improvement


-- 
Ismail Sunni
ismailsunni.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190526/81c4ec86/attachment-0001.html>

From anitagraser at gmx.at  Sun May 26 12:12:50 2019
From: anitagraser at gmx.at (Anita Graser)
Date: Sun, 26 May 2019 21:12:50 +0200
Subject: [QGIS-Developer] Call for Grant Proposals 2019
In-Reply-To: <CAFFV8Fh2vG-tgh8WTUzv=WmABQ4=Mbk6Zum=sUs953V4qUQHsQ@mail.gmail.com>
References: <CAFFV8Fh2vG-tgh8WTUzv=WmABQ4=Mbk6Zum=sUs953V4qUQHsQ@mail.gmail.com>
Message-ID: <CAFFV8FhvjX0izUoRvGW2ncfyvF2TmDzskKV=B8-iVCQOFWZsuw@mail.gmail.com>

Dear devs,

This is a reminder that there is only one week left to this year's proposal
deadline.

Regards,
Anita



On Mon, May 6, 2019 at 9:22 PM Anita Graser <anitagraser at gmx.at> wrote:

> Dear QGIS Community
>
> Our first three rounds of Grant Proposals were a great success. We are
> very pleased to announce the fourth round of grants is now available to
> QGIS contributors.
>
> Please read the QGIS.ORG blog post for details:
>
> http://blog.qgis.org/2019/05/06/qgis-grants-4-call-for-grant-proposals-2019/
>
> Regards,
> Anita Graser
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190526/6e664e53/attachment.html>

From nyall.dawson at gmail.com  Sun May 26 16:06:35 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 27 May 2019 09:06:35 +1000
Subject: [QGIS-Developer] Post github issues migration clean ups - some
	proposals
Message-ID: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>

Hi all,

Once again, many many thanks to the individuals behind the the recent
issues migration. Fantastic job all round!

I'd like to do some post-migration cleanups, but would like wider
opinions on how to handle these:

- We have two labels "bug" and "bug fix" which apply to issues and
pull requests respectively. Can we combine these, and just use "bug"
for bug fixing PRs? (There's a LOT of labels now)

- "Database" label: should this be renamed "db manager", to
disambiguate from postgis/spatialite/etc issues, which instead belong
under "data providers"?

- Can "CAD" be merged into "Digitising"? There's only a handful of
open issues, and I don't think it warrants a separate category. In
QGIS these two concepts are basically merged now anyway.

- "Easy fix". Does anyone actually use this? Many of these are not
"easy fixes" -- e.g. I've been chipping away at
https://github.com/qgis/QGIS/issues/28195 since last year... it's
probably about the hardest fix I've ever done in QGIS. No idea how
this one gained the label!

- "Editing": This label is very vague -- it's being used for
digitizing issues, project editing issues, copy/paste issues, and even
data provider issues. I'd argue we could drop this label and use other
existing, more specific labels instead

- "Feature request" / "Feature": I'm not sure how we'd go about
merging these two categories, but it seems strange to have the two
separate.

- How should we handle milestones now? We've been using them up till
now to tag PRs with their target version, and closing off milestones
as each release is made. Now we've got a whole lot of outdated
milestones (e.g. 2.14) because we have issues which were tagged to
these milestones from the old "affected version" property. I don't
think this is correct use of the milestone functionality, and would
like to see it used only for release management (i.e. if a bug has a
milestone, it's being targeted for fixing in that version*, so bug
reports should always have ONLY future version milestones, not past
versions). This would mean we'd need to change the affected version
handling to labels. Is everyone OK with this?

Nyall

* Ideally, we'd block non-core-contributors from setting milestones
for issues, to avoid reporters just tagging their issue with an
upcoming milestone as a rude way of saying "fix my stuff for me"

From nyall.dawson at gmail.com  Sun May 26 16:08:07 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 27 May 2019 09:08:07 +1000
Subject: [QGIS-Developer] qgis_editor_widget_styles table,
 what is it ? How to create it?
In-Reply-To: <CABgOYCdzhcXgsj2MY8YukZZfDqiQwHWaboB_1smAsoAfNQGthw@mail.gmail.com>
References: <CABgOYCfDb2+cHzY=rN2uRPWNUFj=f7N-0R6uacEiFcT=bK2VJw@mail.gmail.com>
 <CAB28AsgTe9ARQm10=PqUiGO+acsYGGbX70wxTCotOkY99c3fSQ@mail.gmail.com>
 <CABgOYCdzhcXgsj2MY8YukZZfDqiQwHWaboB_1smAsoAfNQGthw@mail.gmail.com>
Message-ID: <CAB28AsjsBFb3wXTG3S6rZxvRE66xoCD1aoiKPWmk7mjoYrVb3w@mail.gmail.com>

On Sun, 26 May 2019 at 01:48, Régis Haubourg <regis.haubourg at gmail.com> wrote:
>
> Hi, Thanks Nyall for the hints.
>
> I'm considering switching to this query instead.
> SELECT * FROM pg_class WHERE relname='qgis_editor_widget_styles'
>
> In my setup it access only to one table and uses internal indexes, when the information_schema.tables is a view that involve a materialized query here when using explain.
> I don't see a significant difference on my local setup, I'll test it on our customer setup before starting my (first) PR!

I think this could be potentially further optimised (e.g. with a
"LIMIT 1"), but I'd see how this goes on the troublesome setup
first... no point over-optimising if your query fixes the issue.

Nyall

>
> Cheers
> Régis
>
> Le sam. 25 mai 2019 à 05:33, Nyall Dawson <nyall.dawson at gmail.com> a écrit :
>>
>> On Fri, 24 May 2019 at 18:25, Régis Haubourg <regis.haubourg at gmail.com> wrote:
>> >
>> > Hi all,
>> > I'm facing very slow opening of project files for a customer here in QGIS 3.4.5. Something like 7 minutes, against 30 s in QGIS 2.18.
>> >
>> > We are still investigating to narrow it down, but I faced a first query in the logs that I fail to understand.
>> >
>> > QGIS emits this at a point:
>>
>> >
>> > And this query is long in our context, 1.7s, because of a very high number of tables and schemas in that production DB.
>> >
>> > I found at [0] in the postgres provider where it comes from, I found the associated PR [1], but I fail to understand in what workflow this table is created using QGIS, and what it is used for.
>> >
>> > Can someone put some light here ?
>>
>> There's a unit test at
>>
>> https://github.com/qgis/QGIS/pull/3439/files#diff-99b101819133a316786604243f3abf6eR318
>>
>> and
>>
>> https://github.com/qgis/QGIS/pull/3439/files#diff-03e6d7f6f76fb4bcab508984d0fd05f6R443
>>
>> which partially explains this -- it looks like it's a way to specify a
>> default editor widget configuration for a table, which is used
>> whenever that table is loaded into QGIS.
>>
>> >
>> > select count(*)
>> >
>> > from information_schema.tables
>> >
>> > where table_name = 'qgis_editor_widget_styles' ;
>> >
>>
>> Looks like that query could be substantially improved -- it's only
>> testing for existence of the table, so calculating the count is
>> inefficient and requiring a whole table scan.
>>
>> Nyall

From denis.rouzaud at gmail.com  Sun May 26 18:42:59 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Sun, 26 May 2019 20:42:59 -0500
Subject: [QGIS-Developer] Post github issues migration clean ups - some
	proposals
In-Reply-To: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
Message-ID: <CAMtsY+Yey6hZ3XR40ku1Vzwv=MjL6pq_MQ=yfrppmP2yER9y5Q@mail.gmail.com>

Hi Nyall,

I generally completely agree with all the points you raised, some comments
below

Le dim. 26 mai 2019 à 18:06, Nyall Dawson <nyall.dawson at gmail.com> a écrit :

> Hi all,
>
> Once again, many many thanks to the individuals behind the the recent
> issues migration. Fantastic job all round!
>
> I'd like to do some post-migration cleanups, but would like wider
> opinions on how to handle these:
>
> - We have two labels "bug" and "bug fix" which apply to issues and
> pull requests respectively. Can we combine these, and just use "bug"
> for bug fixing PRs? (There's a LOT of labels now)
>
> - "Database" label: should this be renamed "db manager", to
> disambiguate from postgis/spatialite/etc issues, which instead belong
> under "data providers"?
>
> - Can "CAD" be merged into "Digitising"? There's only a handful of
> open issues, and I don't think it warrants a separate category. In
> QGIS these two concepts are basically merged now anyway.


> - "Easy fix". Does anyone actually use this? Many of these are not
> "easy fixes" -- e.g. I've been chipping away at
> https://github.com/qgis/QGIS/issues/28195 since last year... it's
> probably about the hardest fix I've ever done in QGIS. No idea how
> this one gained the label!
>

I'm +0 here. I liked the idea of easy fixes for new comers. On the other
hand, it's a bit weird to keep "easy" fixed issues.

>
> - "Editing": This label is very vague -- it's being used for
> digitizing issues, project editing issues, copy/paste issues, and even
> data provider issues. I'd argue we could drop this label and use other
> existing, more specific labels instead
>
> - "Feature request" / "Feature": I'm not sure how we'd go about
> merging these two categories, but it seems strange to have the two
> separate.
>
> - How should we handle milestones now? We've been using them up till
> now to tag PRs with their target version, and closing off milestones
> as each release is made. Now we've got a whole lot of outdated
> milestones (e.g. 2.14) because we have issues which were tagged to
> these milestones from the old "affected version" property. I don't
> think this is correct use of the milestone functionality, and would
> like to see it used only for release management (i.e. if a bug has a
> milestone, it's being targeted for fixing in that version*, so bug
> reports should always have ONLY future version milestones, not past
> versions). This would mean we'd need to change the affected version
> handling to labels. Is everyone OK with this?
>

+1. But, we should indeed have a strict definition of when adding the
milestone (someone is taking care of the fix or every time it's just
considered as important). I'd rather keep milestones for PRs and maybe
bring back the idea of "blocker" tag.

>
> Nyall
>
> * Ideally, we'd block non-core-contributors from setting milestones
> for issues, to avoid reporters just tagging their issue with an
> upcoming milestone as a rude way of saying "fix my stuff for me"
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190526/b6975844/attachment.html>

From nyall.dawson at gmail.com  Sun May 26 19:38:29 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 27 May 2019 12:38:29 +1000
Subject: [QGIS-Developer] Post github issues migration clean ups - some
	proposals
In-Reply-To: <CAMtsY+Yey6hZ3XR40ku1Vzwv=MjL6pq_MQ=yfrppmP2yER9y5Q@mail.gmail.com>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CAMtsY+Yey6hZ3XR40ku1Vzwv=MjL6pq_MQ=yfrppmP2yER9y5Q@mail.gmail.com>
Message-ID: <CAB28Asikmya-a4HDqG4JEsxFp+rLDjfnk+yWqq=z3Hi0EMvmSA@mail.gmail.com>

On Mon, 27 May 2019 at 11:43, Denis Rouzaud <denis.rouzaud at gmail.com> wrote:

> +1. But, we should indeed have a strict definition of when adding the milestone (someone is taking care of the fix or every time it's just considered as important). I'd rather keep milestones for PRs and maybe bring back the idea of "blocker" tag.

I think it should only be defined by someone actually assigned to the
bug. E.g. if I self-assign a bunch of bugs I'm actively working on,
I'd like to be able to use milestones to self-manage these...

Nyall


>>
>>
>> Nyall
>>
>> * Ideally, we'd block non-core-contributors from setting milestones
>> for issues, to avoid reporters just tagging their issue with an
>> upcoming milestone as a rude way of saying "fix my stuff for me"
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From denis.rouzaud at gmail.com  Sun May 26 19:46:22 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Sun, 26 May 2019 21:46:22 -0500
Subject: [QGIS-Developer] Post github issues migration clean ups - some
	proposals
In-Reply-To: <CAB28Asikmya-a4HDqG4JEsxFp+rLDjfnk+yWqq=z3Hi0EMvmSA@mail.gmail.com>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CAMtsY+Yey6hZ3XR40ku1Vzwv=MjL6pq_MQ=yfrppmP2yER9y5Q@mail.gmail.com>
 <CAB28Asikmya-a4HDqG4JEsxFp+rLDjfnk+yWqq=z3Hi0EMvmSA@mail.gmail.com>
Message-ID: <CAMtsY+aRW_evMpY4385ciYOAv2q--eOy89K4O0R9rZds7xnWQA@mail.gmail.com>

Le dim. 26 mai 2019 à 21:38, Nyall Dawson <nyall.dawson at gmail.com> a écrit :

> On Mon, 27 May 2019 at 11:43, Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
>
> > +1. But, we should indeed have a strict definition of when adding the
> milestone (someone is taking care of the fix or every time it's just
> considered as important). I'd rather keep milestones for PRs and maybe
> bring back the idea of "blocker" tag.
>
> I think it should only be defined by someone actually assigned to the
> bug. E.g. if I self-assign a bunch of bugs I'm actively working on,
> I'd like to be able to use milestones to self-manage these...
>

I see, I'm just afraid to see too many issues left-open with a past
milestone.
But we can give it a try I guess.


>
> Nyall
>
>
> >>
> >>
> >> Nyall
> >>
> >> * Ideally, we'd block non-core-contributors from setting milestones
> >> for issues, to avoid reporters just tagging their issue with an
> >> upcoming milestone as a rude way of saying "fix my stuff for me"
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190526/b54c56a3/attachment.html>

From denis.rouzaud at gmail.com  Sun May 26 21:30:05 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Sun, 26 May 2019 23:30:05 -0500
Subject: [QGIS-Developer] Post github issues migration clean ups - some
	proposals
In-Reply-To: <CAMtsY+aRW_evMpY4385ciYOAv2q--eOy89K4O0R9rZds7xnWQA@mail.gmail.com>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CAMtsY+Yey6hZ3XR40ku1Vzwv=MjL6pq_MQ=yfrppmP2yER9y5Q@mail.gmail.com>
 <CAB28Asikmya-a4HDqG4JEsxFp+rLDjfnk+yWqq=z3Hi0EMvmSA@mail.gmail.com>
 <CAMtsY+aRW_evMpY4385ciYOAv2q--eOy89K4O0R9rZds7xnWQA@mail.gmail.com>
Message-ID: <CAMtsY+apPaWFOQSL71sB6BQGf-fo3P7TG3bQ3orFC9vojQRjVA@mail.gmail.com>

Hi all,

May I also suggest to create a "wontfix" label?

Le dim. 26 mai 2019 à 21:46, Denis Rouzaud <denis.rouzaud at gmail.com> a
écrit :

>
>
> Le dim. 26 mai 2019 à 21:38, Nyall Dawson <nyall.dawson at gmail.com> a
> écrit :
>
>> On Mon, 27 May 2019 at 11:43, Denis Rouzaud <denis.rouzaud at gmail.com>
>> wrote:
>>
>> > +1. But, we should indeed have a strict definition of when adding the
>> milestone (someone is taking care of the fix or every time it's just
>> considered as important). I'd rather keep milestones for PRs and maybe
>> bring back the idea of "blocker" tag.
>>
>> I think it should only be defined by someone actually assigned to the
>> bug. E.g. if I self-assign a bunch of bugs I'm actively working on,
>> I'd like to be able to use milestones to self-manage these...
>>
>
> I see, I'm just afraid to see too many issues left-open with a past
> milestone.
> But we can give it a try I guess.
>
>
>>
>> Nyall
>>
>>
>> >>
>> >>
>> >> Nyall
>> >>
>> >> * Ideally, we'd block non-core-contributors from setting milestones
>> >> for issues, to avoid reporters just tagging their issue with an
>> >> upcoming milestone as a rude way of saying "fix my stuff for me"
>> >> _______________________________________________
>> >> QGIS-Developer mailing list
>> >> QGIS-Developer at lists.osgeo.org
>> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190526/9e72b217/attachment.html>

From denis.rouzaud at gmail.com  Sun May 26 21:47:33 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Sun, 26 May 2019 23:47:33 -0500
Subject: [QGIS-Developer] issues when building QGIS in Docker with Qt 5.10+,
	help from Docker experts
Message-ID: <CAMtsY+bBpmnAoJVvKsg7_o7yCVCyN8ZT11U9E7vOdX=SAJXBbQ@mail.gmail.com>

Hi all,

I am trying to update the base Docker image from Cosmic to Disco to get a
more recent SIP version.

Before Cosmic Docker was building fine on Travis with Trusty.
I updated the Docker image to Disco and hit a timeout when building sip
files for QGIS.
So, I tried to update the Travis dist to Xenial, and now I get this issue:
clang: error: no such file or directory: 'src/native/moc_qgsnative.cpp'

This seems to be a known issue in Qt 5.10+ which requires statx calls:

>From the Qt release notes (
https://code.qt.io/cgit/qt/qtbase.git/tree/dist/changes-5.10.0#n502):

Qt uses the statx(2) system call for obtaining file information on
   kernels 4.12 and later. Some older container systems install system call
   protection rules that do not include this system call. If you experience
   problems running Qt applications inside containers (such as the report of
   a file not existing when it does), ensure the statx(2) is allowed in the
   container configuration.


I found some information saying that this could be solved by using the
privileged mode when doing docker run.
But in our case, the QGIS build is made within the Docker build (and not
docker run).
>From the Docker docs, it seems that building has full capabilities.

I don't really know what to look for. If anyone has a hint, it is more than
welcome.

Cheers,
Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190526/b07f26b9/attachment.html>

From daniele at vigano.me  Sun May 26 22:49:09 2019
From: daniele at vigano.me (=?UTF-8?Q?Daniele_Vigan=C3=B2?=)
Date: Mon, 27 May 2019 07:49:09 +0200
Subject: [QGIS-Developer] issues when building QGIS in Docker with Qt
 5.10+, help from Docker experts
In-Reply-To: <CAMtsY+bBpmnAoJVvKsg7_o7yCVCyN8ZT11U9E7vOdX=SAJXBbQ@mail.gmail.com>
References: <CAMtsY+bBpmnAoJVvKsg7_o7yCVCyN8ZT11U9E7vOdX=SAJXBbQ@mail.gmail.com>
Message-ID: <CACUx=Tm4+0EYrc7z5B9Q5oifV8e8JoaBV1b_biHQrD4HEN6+Qg@mail.gmail.com>

Hi Denis,

we had the same issue with our QGIS Server Docker containers (see
https://github.com/gem/oq-qgis-server/issues/1). Fedora based containers
use Qt 5.11 thus they need statx().
I did not found a 'final' solution: to be able to use statx() you need, on
the host, Docker 18.04+ _and_ libseccomp2_2.3.1+ which are available when
using a recent Fedora host but not, for example, Ubuntu < 18.10. I know
that Marco Benasocchi was able to use libseccomp2_2.3.1 deb package from
18.10 on 18.04, but I don't know if that works fine on 16.04 (Xenial) which
runs on Travis.

The 'official' answer that I got from the Qt guys is that Qt is smart and
discovers automatically the availability of statx() at compile time (and
there's also a flag to forcefully disable support for it), but the problem
here is that Qt has been compiled on a system that supports statx() so Qt
expects it availability; instead in the runntime environment (Docker) all
the conditions to use statx() are satisfied, but then the request is
blocked by seecomp policies.

Daniele

On Mon, May 27, 2019 at 6:47 AM Denis Rouzaud <denis.rouzaud at gmail.com>
wrote:

> Hi all,
>
> I am trying to update the base Docker image from Cosmic to Disco to get a
> more recent SIP version.
>
> Before Cosmic Docker was building fine on Travis with Trusty.
> I updated the Docker image to Disco and hit a timeout when building sip
> files for QGIS.
> So, I tried to update the Travis dist to Xenial, and now I get this issue:
> clang: error: no such file or directory: 'src/native/moc_qgsnative.cpp'
>
> This seems to be a known issue in Qt 5.10+ which requires statx calls:
>
> From the Qt release notes (
> https://code.qt.io/cgit/qt/qtbase.git/tree/dist/changes-5.10.0#n502):
>
> Qt uses the statx(2) system call for obtaining file information on
>    kernels 4.12 and later. Some older container systems install system call
>    protection rules that do not include this system call. If you experience
>    problems running Qt applications inside containers (such as the report of
>    a file not existing when it does), ensure the statx(2) is allowed in the
>    container configuration.
>
>
> I found some information saying that this could be solved by using the
> privileged mode when doing docker run.
> But in our case, the QGIS build is made within the Docker build (and not
> docker run).
> From the Docker docs, it seems that building has full capabilities.
>
> I don't really know what to look for. If anyone has a hint, it is more
> than welcome.
>
> Cheers,
> Denis
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
*Daniele Viganò*
http://daniele.vigano.me
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190527/56597bbf/attachment-0001.html>

From delazj at gmail.com  Sun May 26 22:59:30 2019
From: delazj at gmail.com (DelazJ)
Date: Mon, 27 May 2019 07:59:30 +0200
Subject: [QGIS-Developer] Post github issues migration clean ups - some
	proposals
In-Reply-To: <CAMtsY+apPaWFOQSL71sB6BQGf-fo3P7TG3bQ3orFC9vojQRjVA@mail.gmail.com>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CAMtsY+Yey6hZ3XR40ku1Vzwv=MjL6pq_MQ=yfrppmP2yER9y5Q@mail.gmail.com>
 <CAB28Asikmya-a4HDqG4JEsxFp+rLDjfnk+yWqq=z3Hi0EMvmSA@mail.gmail.com>
 <CAMtsY+aRW_evMpY4385ciYOAv2q--eOy89K4O0R9rZds7xnWQA@mail.gmail.com>
 <CAMtsY+apPaWFOQSL71sB6BQGf-fo3P7TG3bQ3orFC9vojQRjVA@mail.gmail.com>
Message-ID: <CAECJsSqNY7x8fRua4xwauHZABHNMXX=kWZLEW6G=+omyBmKdbg@mail.gmail.com>

Hi

"Easy fix" is what introduced me to the QGIS code (and maybe to GH). It
makes things less intimidating, particularly when you are not a developer
(not all the issues require to be a master in coding) and this is what i
from time to time use to check in redmine. And TBH, this is the first
filter I applied to the new list in GH. The issue is that in Redmine, the
easy status was often decided by the reporter and I'm not sure they always
knew the internals of the code before tagging (though i might admit that
it's not simple to identify what is easy for others).

About the weirdness to keep bugs that are easy to fix, yes it's weird but
it's the price to pay to attract new contributors. And there are issues
that don't really hurt the project if kept unfixed. In docs we have an easy
label that we spend as much time to label and add guidance than we'd spend
to fix the issue but from time to time (unfortunately not as frequent that
i wish) there's a new contributor who picks one and fix it. And at that
moment, you see the benefit.
One thing we can do, or maybe did I miss it for the recent releases, is to
make a real call when we move to feature freeze. I did not see a call for
this one and got the information in irc; not all potential contributors
follow the countdown at qgis.org. Without a clear call inviting testers,
extending bug fixes time would not have more benefit. But other than
testers, we can add a focus on the "easy fix" label inviting people that
want to contribute to give them a shot. And if a week before the release
there still are "easy fix" issues, core devs can clean them if they want.

just my 2cts
Harrissou (a non dev that is often happy to fix code and want the process
to be easy for him)

Le lun. 27 mai 2019 à 06:30, Denis Rouzaud <denis.rouzaud at gmail.com> a
écrit :

> Hi all,
>
> May I also suggest to create a "wontfix" label?
>
> Le dim. 26 mai 2019 à 21:46, Denis Rouzaud <denis.rouzaud at gmail.com> a
> écrit :
>
>>
>>
>> Le dim. 26 mai 2019 à 21:38, Nyall Dawson <nyall.dawson at gmail.com> a
>> écrit :
>>
>>> On Mon, 27 May 2019 at 11:43, Denis Rouzaud <denis.rouzaud at gmail.com>
>>> wrote:
>>>
>>> > +1. But, we should indeed have a strict definition of when adding the
>>> milestone (someone is taking care of the fix or every time it's just
>>> considered as important). I'd rather keep milestones for PRs and maybe
>>> bring back the idea of "blocker" tag.
>>>
>>> I think it should only be defined by someone actually assigned to the
>>> bug. E.g. if I self-assign a bunch of bugs I'm actively working on,
>>> I'd like to be able to use milestones to self-manage these...
>>>
>>
>> I see, I'm just afraid to see too many issues left-open with a past
>> milestone.
>> But we can give it a try I guess.
>>
>>
>>>
>>> Nyall
>>>
>>>
>>> >>
>>> >>
>>> >> Nyall
>>> >>
>>> >> * Ideally, we'd block non-core-contributors from setting milestones
>>> >> for issues, to avoid reporters just tagging their issue with an
>>> >> upcoming milestone as a rude way of saying "fix my stuff for me"
>>> >> _______________________________________________
>>> >> QGIS-Developer mailing list
>>> >> QGIS-Developer at lists.osgeo.org
>>> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190527/cd7da701/attachment.html>

From daniele at vigano.me  Sun May 26 23:01:05 2019
From: daniele at vigano.me (=?UTF-8?Q?Daniele_Vigan=C3=B2?=)
Date: Mon, 27 May 2019 08:01:05 +0200
Subject: [QGIS-Developer] issues when building QGIS in Docker with Qt
 5.10+, help from Docker experts
In-Reply-To: <CACUx=Tm4+0EYrc7z5B9Q5oifV8e8JoaBV1b_biHQrD4HEN6+Qg@mail.gmail.com>
References: <CAMtsY+bBpmnAoJVvKsg7_o7yCVCyN8ZT11U9E7vOdX=SAJXBbQ@mail.gmail.com>
 <CACUx=Tm4+0EYrc7z5B9Q5oifV8e8JoaBV1b_biHQrD4HEN6+Qg@mail.gmail.com>
Message-ID: <CACUx=T==GNTtJDK8G51gTT1sqjAfKEmvz5QCNS5FM76K5XiEPg@mail.gmail.com>

Just an update: it looks like that statx() is now availbale in 18.04
out-of-the-box:
https://bugs.launchpad.net/ubuntu/+source/docker.io/+bug/1755250

Daniele

On Mon, May 27, 2019 at 7:49 AM Daniele Viganò <daniele at vigano.me> wrote:

> Hi Denis,
>
> we had the same issue with our QGIS Server Docker containers (see
> https://github.com/gem/oq-qgis-server/issues/1). Fedora based containers
> use Qt 5.11 thus they need statx().
> I did not found a 'final' solution: to be able to use statx() you need, on
> the host, Docker 18.04+ _and_ libseccomp2_2.3.1+ which are available when
> using a recent Fedora host but not, for example, Ubuntu < 18.10. I know
> that Marco Benasocchi was able to use libseccomp2_2.3.1 deb package from
> 18.10 on 18.04, but I don't know if that works fine on 16.04 (Xenial) which
> runs on Travis.
>
> The 'official' answer that I got from the Qt guys is that Qt is smart and
> discovers automatically the availability of statx() at compile time (and
> there's also a flag to forcefully disable support for it), but the problem
> here is that Qt has been compiled on a system that supports statx() so Qt
> expects it availability; instead in the runntime environment (Docker) all
> the conditions to use statx() are satisfied, but then the request is
> blocked by seecomp policies.
>
> Daniele
>
> On Mon, May 27, 2019 at 6:47 AM Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
>
>> Hi all,
>>
>> I am trying to update the base Docker image from Cosmic to Disco to get a
>> more recent SIP version.
>>
>> Before Cosmic Docker was building fine on Travis with Trusty.
>> I updated the Docker image to Disco and hit a timeout when building sip
>> files for QGIS.
>> So, I tried to update the Travis dist to Xenial, and now I get this issue:
>> clang: error: no such file or directory: 'src/native/moc_qgsnative.cpp'
>>
>> This seems to be a known issue in Qt 5.10+ which requires statx calls:
>>
>> From the Qt release notes (
>> https://code.qt.io/cgit/qt/qtbase.git/tree/dist/changes-5.10.0#n502):
>>
>> Qt uses the statx(2) system call for obtaining file information on
>>    kernels 4.12 and later. Some older container systems install system call
>>    protection rules that do not include this system call. If you experience
>>    problems running Qt applications inside containers (such as the report of
>>    a file not existing when it does), ensure the statx(2) is allowed in the
>>    container configuration.
>>
>>
>> I found some information saying that this could be solved by using the
>> privileged mode when doing docker run.
>> But in our case, the QGIS build is made within the Docker build (and not
>> docker run).
>> From the Docker docs, it seems that building has full capabilities.
>>
>> I don't really know what to look for. If anyone has a hint, it is more
>> than welcome.
>>
>> Cheers,
>> Denis
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> *Daniele Viganò*
> http://daniele.vigano.me
>


-- 
*Daniele Viganò*
http://daniele.vigano.me
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190527/bffd5516/attachment.html>

From cavallini at faunalia.it  Mon May 27 00:37:27 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 27 May 2019 09:37:27 +0200
Subject: [QGIS-Developer] github tickets authorship
In-Reply-To: <e14f1f17-a57e-b3fb-d2ba-02c80c6d6462@di.uminho.pt>
References: <20190526122756.GA10703@liz>
 <e14f1f17-a57e-b3fb-d2ba-02c80c6d6462@di.uminho.pt>
Message-ID: <139c9f04-db33-e61d-cf2d-a69de8f996d0@faunalia.it>

Hi Jorge,
thanks for the tip. I believe it should be included in the instructions
to use the new bugtracking system (or can we add a shortcut?).
Cheers.

On 26/05/19 17:21, Jorge Gustavo Rocha wrote:
> Hi Sandro,
> 
> The information about the author is there, but the issues were created
> by the bot. You can not search previous issues by: author:strk.
> 
> But since your name was mapped to your GH account, you don't need to
> search by your name (as a text string). You can search:
> 
> is:open mentions:strk
> or
> is:open assignee:strk
> 
> Regards,
> 
> Jorge Gustavo
> 
> Às 13:27 de 26/05/19, Sandro Santilli escreveu:
>> I was looking at the migrated tickets and found that no tickets
>> are known as being reported by myself. Searching for "own tickets"
>> is something I'm used to do, periodically, to see if there's any
>> problem that I reported that can be closed (I'm probably in the
>> best position to test my own tickets).
>>
>> Was authorship information lost in the migration or is there a plan
>> to recover ?
>>
>> --strk;
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> 
> J. Gustavo
> 

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From asgerpetersen at gmail.com  Mon May 27 00:52:41 2019
From: asgerpetersen at gmail.com (Asger Sigurd Skovbo Petersen)
Date: Mon, 27 May 2019 09:52:41 +0200
Subject: [QGIS-Developer] Trouble compiling QGIS mapserver only
In-Reply-To: <CANeF=_hxSSLDpg0CMN=Wz3mSfL6fKySXRM9=WuQH8q-tEC7aRw@mail.gmail.com>
References: <CANeF=_hxSSLDpg0CMN=Wz3mSfL6fKySXRM9=WuQH8q-tEC7aRw@mail.gmail.com>
Message-ID: <A4A95134-04F0-41B3-B51F-50EE3F629095@gmail.com>

For future reference:

Issue 21382 (Fails to build with SERVER_PLUGINS disabled) is fixed in master.

/Asger

> On 22 May 2019, at 11.25, Asger Sigurd Skovbo Petersen <asgerpetersen at gmail.com> wrote:
> 
> Inspired by bitner's mapserver AWS Lambda layer [0] I wanted to try and compile a QGIS mapserver for AWS Lambda. Keeping the build to an absolute minimum is important for several reasons
> 1) Amazon Linux having basically no package support means compiling all dependencies from scratch
> 2) Lambda has a 250MB limit on deployment package size [1]
> 3) Minimizing complexity
> 
> Initially I tried compiling qgis mapserver without gui and python support at all. INSTALL document [2] states fastcgi as the only dependency, but I am hit by issue 21382 [3] which means qgis mapserver cannot compile with SERVER_PLUGINS disabled.
> 
> Enabling SERVER_PLUGINS seems to require enabling BINDINGS. As mentioned I would prefer not having python support at all, but if I make with WITH_SERVER_PLUGINS=ON, WITH_BINDINGS=ON and WITH_STAGED_PLUGINS=OFF then `make install` fails when installing db_manager (!):
> 
> CMake Error at python/plugins/db_manager/cmake_install.cmake:41 (file):
>   file INSTALL cannot find
>   "/build/qgis/python/plugins/db_manager/resources_rc.py".
> Call Stack (most recent call first):
>   python/plugins/cmake_install.cmake:42 (include)
>   python/cmake_install.cmake:144 (include)
>   cmake_install.cmake:63 (include)
> 
> My dockerfile resulting in the above error can be seen at [4]. It is quite messy as a result of many trial and error iterations.
> 
> Shouldnt it be possible to build QGIS mapserver without all the other stuff? Is it at all possible to build QGIS mapserver as a server application without all the gui related stuff and preferable without python?
> 
> Any advice on how to proceed is extremely welcome!
> 
> Thanks in advance
> Asger
> 
> [0] https://github.com/bitner/mapserverless-layer
> [1] https://dashbird.io/blog/exploring-lambda-limitations/
> [2] https://github.com/qgis/QGIS/blob/152a556887fe4c762ef03411a5825d0c120488dd/INSTALL#L123
> [3] https://issues.qgis.org/issues/21382
> [4] https://gist.github.com/AsgerPetersen/3b98b02461d745813dda92a10185b22a#file-dockerfile


From regis.haubourg at gmail.com  Mon May 27 00:53:49 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 27 May 2019 09:53:49 +0200
Subject: [QGIS-Developer] Post github issues migration clean ups - some
	proposals
In-Reply-To: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
Message-ID: <CABgOYCe579UReJVA9J70goRy-qL1e7oWgHGtRmdXoVEzJQScHg@mail.gmail.com>

Hi,

Le lun. 27 mai 2019 à 01:06, Nyall Dawson <nyall.dawson at gmail.com> a écrit :

> Hi all,
>
> Once again, many many thanks to the individuals behind the the recent
> issues migration. Fantastic job all round!
>
+1 !

>
> I'd like to do some post-migration cleanups, but would like wider
> opinions on how to handle these:
>
> - We have two labels "bug" and "bug fix" which apply to issues and
> pull requests respectively. Can we combine these, and just use "bug"
> for bug fixing PRs? (There's a LOT of labels now)
>
+1

>
> - "Database" label: should this be renamed "db manager", to
> disambiguate from postgis/spatialite/etc issues, which instead belong
> under "data providers"?
>
+1

>
> - Can "CAD" be merged into "Digitising"? There's only a handful of
> open issues, and I don't think it warrants a separate category. In
> QGIS these two concepts are basically merged now anyway.
>
+1

>
> - "Easy fix". Does anyone actually use this? Many of these are not
> "easy fixes" -- e.g. I've been chipping away at
> https://github.com/qgis/QGIS/issues/28195 since last year... it's
> probably about the hardest fix I've ever done in QGIS. No idea how
> this one gained the label!
>
Let's keep the label as an attempt to help new contributors to board in.
Core dev's shouldn't be shy about removing the "Easy fix" tag when they
know it's not easy :)

>
> - "Editing": This label is very vague -- it's being used for
> digitizing issues, project editing issues, copy/paste issues, and even
> data provider issues. I'd argue we could drop this label and use other
> existing, more specific labels instead
>
+1

>
> - "Feature request" / "Feature": I'm not sure how we'd go about
> merging these two categories, but it seems strange to have the two
> separate.
>
+1 . the label list was discussed only using the redmine candidates and we
forgot to check duplicates already in the QGIS github repo.. Let's solve
this.

>
> - How should we handle milestones now? We've been using them up till
> now to tag PRs with their target version, and closing off milestones
> as each release is made. Now we've got a whole lot of outdated
> milestones (e.g. 2.14) because we have issues which were tagged to
> these milestones from the old "affected version" property. I don't
> think this is correct use of the milestone functionality, and would
> like to see it used only for release management (i.e. if a bug has a
> milestone, it's being targeted for fixing in that version*, so bug
> reports should always have ONLY future version milestones, not past
> versions). This would mean we'd need to change the affected version
> handling to labels. Is everyone OK with this?
>
>  milestone is a target, affected version is a descriptive information for
a bug. I don't see any milestone define in the repo. Did you already clean
this up? I'm not sure I get your point in fact, the affected version is
only a text comment in the issue body from what I see. Did I miss something?


> Nyall
>
> * Ideally, we'd block non-core-contributors from setting milestones
> for issues, to avoid reporters just tagging their issue with an
> upcoming milestone as a rude way of saying "fix my stuff for me"
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190527/6ac7e131/attachment.html>

From tim at kartoza.com  Mon May 27 01:58:37 2019
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 27 May 2019 09:58:37 +0100
Subject: [QGIS-Developer] [GSoC 2019 - QGIS 3D Improvement] Community
 Bonding Period Report
In-Reply-To: <CAEh5jtHGsotd54wSsOqE=6eqU-h-Za=0iCpiEdcicQwJo3q_oQ@mail.gmail.com>
References: <CAEh5jtHGsotd54wSsOqE=6eqU-h-Za=0iCpiEdcicQwJo3q_oQ@mail.gmail.com>
Message-ID: <B2CF836B-D501-4743-83B2-9B43BF9943E2@kartoza.com>

Thanks for sharing Sunni!

T

> On 26 May 2019, at 18:47, Ismail Sunni <imajimatika at gmail.com> wrote:
> 
> Dear QGIS Developers,
> 
> Here is my update from the GSoC community bonding. You can also find it in https://github.com/ismailsunni/QGIS/wiki/Community-Bonding-Period <https://github.com/ismailsunni/QGIS/wiki/Community-Bonding-Period>
> 
> Community Bonding Period
> 
> Overview
> The community bonding period started from 6 May 2019 until 26 May 2019. In this community bonding period, my mentor, Martin Dobias, helps me to start the introduction [1] to the mailing list. I introduce myself and the project that I will work on [2]. I have already explained the project and asked for feedback before the proposal submission to the developer mailing list [3]. I also sent a similar email to the SOC [4].
> 
> With my mentors (Martin and Peter), we have met twice virtually via video call during the community bonding. For some quick questions, we also use a messaging platform. For the coding period, we agree to meet twice a week. Additionally, I have met with both of my mentors offline before the community bonding/GSoC announcement.
> 
> In term of the QGIS project, I have already set up my developer environment (and build frequently). I have been quite familiar with the development process (repository, pull request, issue tracker, documentation, QEP, communication, the organization, etc).
> 
> For the technical aspect, my main task in the project is learning about 3D programming and fresh my Qt C++. For this, my mentor suggested me to learn from LearnOpenGL [5]. I also did some coding with Qt 3D with C++. The code can be checked in my Github Repository [6]. Perhaps can be useful for others since I couldn't find a good Qt 3D C++ tutorial out there.
> 
> Additionally, I tried to go to the QGIS 3D codebase and do some research about the implementation (e.g. QDial for the on-screen navigation [7])
> 
> Regarding the project, I also made a Github issue to track my progress for my first improvement (On-Screen Navigation)[8]. I made a mockup for it also.
> 
> Lastly, on the GSoC itself, I have made a Wiki to put everything related to my project [9]. I will update it regularly (or weekly).
> 
> Checklist
> Here some checklist that I have done in the community bonding period:
> - [x]  _Request writing access to the OSGeo wiki, you need it to edit all info related to your project_       
> - [x] _Get to know your mentors, establish with them a way of communication, that can be video call, chat, email, etc. You are supposed to communicate regularly and often with your mentors._
> - [x] Familiarize with the community practices and processes: how does the community communicate? Where is the source code published? How does the bug tracker work? 
> - [x] Introduce yourself and your project in SOC mailing list as well as the mailing list used by your software community, and start a public dialogue to gather feedback and refine your project accordingly.
> - [x] Redefine your project with more detailed weekly milestones, with the help of your mentors and the feedback of the community, embedding the 3 evaluation periods in your timetable, adding more details, figuring out potential issues, etc.
> - [x] Become familiar with the developer manuals
> - [x] Study material relevant for your project
> - [x] Install the developer environment and get ready to start coding
> - [ ] Participate in Mailing Lists / IRC / etc, try and help users
>   > I was trying to do it (reading the mailing list often), but unfortunately, I couldn't answer the questions that came up
> - [ ] Start coding for bug fixes NOT necessarily related to your project: it is a good exercise to become familiar with the code base. Include these bug fixes into your report due at the end of bonding period.
>   > No. My mentors suggested me to learn the 3D code base instead.
> - [x] Set up your repository and wiki page for your project. You are free to blog/tweet about it too, if you wish. Don’t forget to include these info in the report due at the end of the bonding period.
> - [x] Ask your mentors for guidance on how to commit to the project repository. Bear in mind that you should commit often, not just at evaluation periods. However, depending on the policy given by your mentors, you might be requested to commit in your own repository and make a PR only when the code is mature to be included in the main repo. Discuss the details with your mentors.
> 
> Best Regards
> 
> * [1] https://lists.osgeo.org/pipermail/qgis-developer/2019-May/057206.html <https://lists.osgeo.org/pipermail/qgis-developer/2019-May/057206.html>
> * [2] https://lists.osgeo.org/pipermail/qgis-developer/2019-May/057218.html <https://lists.osgeo.org/pipermail/qgis-developer/2019-May/057218.html>
> * [3] https://lists.osgeo.org/pipermail/qgis-developer/2019-April/056851.html <https://lists.osgeo.org/pipermail/qgis-developer/2019-April/056851.html>
> * [4] https://lists.osgeo.org/pipermail/soc/2019-May/004241.html <https://lists.osgeo.org/pipermail/soc/2019-May/004241.html>
> * [5] https://learnopengl.com/ <https://learnopengl.com/>
> * [6] https://github.com/ismailsunni/qt3d-hello-world <https://github.com/ismailsunni/qt3d-hello-world>
> * [7] https://doc.qt.io/archives/qt-4.8/qdial.html <https://doc.qt.io/archives/qt-4.8/qdial.html>
> * [8] https://github.com/ismailsunni/QGIS/issues/1 <https://github.com/ismailsunni/QGIS/issues/1>
> * [9] https://github.com/ismailsunni/QGIS/wiki/GSoC-2019---QGIS-3D-Improvement <https://github.com/ismailsunni/QGIS/wiki/GSoC-2019---QGIS-3D-Improvement>
> 
> 
> -- 
> Ismail Sunni
> ismailsunni.wordpress.com <http://ismailsunni.wordpress.com/>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190527/7d9a5c5e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190527/7d9a5c5e/attachment-0001.jpg>

From tim at kartoza.com  Mon May 27 02:01:09 2019
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 27 May 2019 10:01:09 +0100
Subject: [QGIS-Developer] [Qgis-community-team] [Qgis-user] Redmine
 migration plan: friday 24 may 8:00 CET
In-Reply-To: <CABgOYCf2Xs+KRErbeAXhs6usGPcAwvDOG=XyETJya6G1izptHg@mail.gmail.com>
References: <9c8cc078-f45d-6d73-38bc-db5d8fcc540f@duif.net>
 <fd5d2eba-6c5f-b8a5-7bf0-10d6f970ed06@duif.net>
 <52048695-3dad-65ea-8f54-6de79db7000a@duif.net>
 <CABgOYCf2Xs+KRErbeAXhs6usGPcAwvDOG=XyETJya6G1izptHg@mail.gmail.com>
Message-ID: <76F8235F-BEC3-462F-BF23-5CDF1906FB2B@kartoza.com>

Thank you so much everyone involved!

Regards

Tim

> On 26 May 2019, at 09:42, Régis Haubourg <regis.haubourg at gmail.com> wrote:
> 
> Oh yeah! 
> Great work guys 👍👍👍
> 
> Le dim. 26 mai 2019 à 00:55, Richard Duivenvoorde <rdmailings at duif.net <mailto:rdmailings at duif.net>> a écrit :
> Update from migration team:
> 
> Migration of all Redmine issue is DONE !!!!!
> 
> https://github.com/qgis/QGIS/issues/ <https://github.com/qgis/QGIS/issues/>
> 
> The interaction limitation has ended and you can start working on (your)
> issues on GitHub.
> 
> Go, fix, enjoy and happy QGISsing on github!
> 
> Regards,
> 
> Richard Duivenvoorde
> 
> ps according to Jorge (aka 'migration team'), there is some minor
> housekeeping to be done, but users and dev can... GO :-)
> 
> 
> 
> On 25/05/2019 14.56, Richard Duivenvoorde wrote:
> > Update from mirgration team:
> > 
> > Hi @all,
> > 
> > The issue migration from Redmine to GitHub is going on smoothly (but slow).
> > 
> > The first phase (moving the issues) is finished. All 19845 issues are
> > now on GitHub :-)
> > 
> > Since the issue ids have changed, we started a second run to replace
> > old ids with the new ones. This second phase is faster than the
> > first one. It will take about 9 to 10 hours (we are able to update
> > +-2200 issues per hour and we have almost 20k issues).
> > 
> > To prevent people for changing or comment issues, we will keep the
> > interaction limited to developers with push access, until the migration
> > is complete. Developers with push access can do PR and MR (but can also
> > enjoy the weekend ;-).
> > 
> > So, we expected to have the migration finished today by 22:00 (GMT+1)
> > (London time).
> > 
> > Thanks for your comprehension!
> > 
> > 
> > On 22/05/2019 14.06, Richard Duivenvoorde wrote:
> >> Hi All (lists),
> >>
> >> We propose to do the Redmine -> Github migration next friday 24th of may
> >> at 8:00 CET (+2).
> >>
> >> More or less following this Migration plan:
> >>
> >> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818 <https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818>
> >>
> >> To be clear: this means http://issues.qgis.org <http://issues.qgis.org/> cannot be used on friday,
> >> untill the migration is finished and checked.
> >>
> >> If anybody has knowledge of an easy way to make Redmine readonly, please
> >> let us know. Some googling to me only revealed changing the database
> >> user or fiddling with the users in the db itself.
> >>
> >> Jorge will be in the lead for the Migration team
> >> I (among others) will be around for QGIS Infra
> >> Any help or encouragement is appreciated :-)
> >>
> >> Let's meet on IRC on friday morning, we can further decide on
> >> communication if needed/wanted.
> >>
> >> If I miss something, please let us know.
> >>
> >> Regards,
> >>
> >> Richard Duivenvoorde
> >> _______________________________________________
> >> QGIS-Developer mailing list
> >> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> >>
> > 
> > _______________________________________________
> > Qgis-user mailing list
> > Qgis-user at lists.osgeo.org <mailto:Qgis-user at lists.osgeo.org>
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-user <https://lists.osgeo.org/mailman/listinfo/qgis-user>
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user <https://lists.osgeo.org/mailman/listinfo/qgis-user>
> > 
> 
> _______________________________________________
> Qgis-community-team mailing list for organizing community resources such as documentation, translation etc..
> Qgis-community-team at lists.osgeo.org <mailto:Qgis-community-team at lists.osgeo.org>
> https://lists.osgeo.org/mailman/listinfo/qgis-community-team <https://lists.osgeo.org/mailman/listinfo/qgis-community-team>_______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190527/f20d98da/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190527/f20d98da/attachment-0001.jpg>

From giovanni.manghi at gmail.com  Mon May 27 02:34:26 2019
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Mon, 27 May 2019 10:34:26 +0100
Subject: [QGIS-Developer] Post github issues migration clean ups - some
	proposals
In-Reply-To: <mailman.31389.1558924721.17185.qgis-developer@lists.osgeo.org>
References: <mailman.31389.1558924721.17185.qgis-developer@lists.osgeo.org>
Message-ID: <CACfnYnSB+n=3Rd0-XeAf9jwGgo3J4uLUy7oB8jYAQH06_UQ29g@mail.gmail.com>

Hi,



>
> - "Database" label: should this be renamed "db manager", to
> disambiguate from postgis/spatialite/etc issues, which instead belong
> under "data providers"?

agree

>
> - Can "CAD" be merged into "Digitising"? There's only a handful of
> open issues, and I don't think it warrants a separate category. In
> QGIS these two concepts are basically merged now anyway.

not sure, maybe this was meant for the DXF/DWG import/export tools?



> - "Editing": This label is very vague -- it's being used for
> digitizing issues, project editing issues, copy/paste issues, and even
> data provider issues. I'd argue we could drop this label and use other
> existing, more specific labels instead


on Redmine I always assumed that "editing" was to be used for issues
regarding the edits of alphanumeric attributes while "digitizing" was
to be used for issues about the geometry edits.


-- G --

From denis.rouzaud at gmail.com  Mon May 27 06:31:21 2019
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Mon, 27 May 2019 08:31:21 -0500
Subject: [QGIS-Developer] issues when building QGIS in Docker with Qt
 5.10+, help from Docker experts
In-Reply-To: <CACUx=Tm4+0EYrc7z5B9Q5oifV8e8JoaBV1b_biHQrD4HEN6+Qg@mail.gmail.com>
References: <CAMtsY+bBpmnAoJVvKsg7_o7yCVCyN8ZT11U9E7vOdX=SAJXBbQ@mail.gmail.com>
 <CACUx=Tm4+0EYrc7z5B9Q5oifV8e8JoaBV1b_biHQrD4HEN6+Qg@mail.gmail.com>
Message-ID: <CAMtsY+af=vjFz8BkE_e8B0noFY=HwhTTRwrCfom8QLc=bvcP0w@mail.gmail.com>

Hi Daniele,

Many thanks for the detailed answer.
I will give a try at installing a new libseccomp.

What is weird is that I didn't have this error when using Trusty on Travis
(but hit another issue with SIP).

I'll let you know how it goes.

Cheers,
Denis

Le lun. 27 mai 2019 à 00:49, Daniele Viganò <daniele at vigano.me> a écrit :

> Hi Denis,
>
> we had the same issue with our QGIS Server Docker containers (see
> https://github.com/gem/oq-qgis-server/issues/1). Fedora based containers
> use Qt 5.11 thus they need statx().
> I did not found a 'final' solution: to be able to use statx() you need, on
> the host, Docker 18.04+ _and_ libseccomp2_2.3.1+ which are available when
> using a recent Fedora host but not, for example, Ubuntu < 18.10. I know
> that Marco Benasocchi was able to use libseccomp2_2.3.1 deb package from
> 18.10 on 18.04, but I don't know if that works fine on 16.04 (Xenial) which
> runs on Travis.
>
> The 'official' answer that I got from the Qt guys is that Qt is smart and
> discovers automatically the availability of statx() at compile time (and
> there's also a flag to forcefully disable support for it), but the problem
> here is that Qt has been compiled on a system that supports statx() so Qt
> expects it availability; instead in the runntime environment (Docker) all
> the conditions to use statx() are satisfied, but then the request is
> blocked by seecomp policies.
>
> Daniele
>
> On Mon, May 27, 2019 at 6:47 AM Denis Rouzaud <denis.rouzaud at gmail.com>
> wrote:
>
>> Hi all,
>>
>> I am trying to update the base Docker image from Cosmic to Disco to get a
>> more recent SIP version.
>>
>> Before Cosmic Docker was building fine on Travis with Trusty.
>> I updated the Docker image to Disco and hit a timeout when building sip
>> files for QGIS.
>> So, I tried to update the Travis dist to Xenial, and now I get this issue:
>> clang: error: no such file or directory: 'src/native/moc_qgsnative.cpp'
>>
>> This seems to be a known issue in Qt 5.10+ which requires statx calls:
>>
>> From the Qt release notes (
>> https://code.qt.io/cgit/qt/qtbase.git/tree/dist/changes-5.10.0#n502):
>>
>> Qt uses the statx(2) system call for obtaining file information on
>>    kernels 4.12 and later. Some older container systems install system call
>>    protection rules that do not include this system call. If you experience
>>    problems running Qt applications inside containers (such as the report of
>>    a file not existing when it does), ensure the statx(2) is allowed in the
>>    container configuration.
>>
>>
>> I found some information saying that this could be solved by using the
>> privileged mode when doing docker run.
>> But in our case, the QGIS build is made within the Docker build (and not
>> docker run).
>> From the Docker docs, it seems that building has full capabilities.
>>
>> I don't really know what to look for. If anyone has a hint, it is more
>> than welcome.
>>
>> Cheers,
>> Denis
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> *Daniele Viganò*
> http://daniele.vigano.me
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190527/92e542e3/attachment.html>

From cavallini at faunalia.it  Mon May 27 07:15:03 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 27 May 2019 16:15:03 +0200
Subject: [QGIS-Developer] [Qgis-community-team] [Qgis-user] Redmine
	migration plan: friday 24 may 8:00 CET
In-Reply-To: <76F8235F-BEC3-462F-BF23-5CDF1906FB2B@kartoza.com>
References: <9c8cc078-f45d-6d73-38bc-db5d8fcc540f@duif.net>
 <fd5d2eba-6c5f-b8a5-7bf0-10d6f970ed06@duif.net>
 <52048695-3dad-65ea-8f54-6de79db7000a@duif.net>
 <CABgOYCf2Xs+KRErbeAXhs6usGPcAwvDOG=XyETJya6G1izptHg@mail.gmail.com>
 <76F8235F-BEC3-462F-BF23-5CDF1906FB2B@kartoza.com>
Message-ID: <54CDC554-6B8E-4246-9981-B9D11D5C2399@faunalia.it>

Thanks, a big effort to solve a long standing deadlock.
All the best.

Il 27 maggio 2019 11:01:09 CEST, Tim Sutton <tim at kartoza.com> ha scritto:
>Thank you so much everyone involved!
>
>Regards
>
>Tim
>
>> On 26 May 2019, at 09:42, Régis Haubourg <regis.haubourg at gmail.com>
>wrote:
>> 
>> Oh yeah! 
>> Great work guys 👍👍👍
>> 
>> Le dim. 26 mai 2019 à 00:55, Richard Duivenvoorde
><rdmailings at duif.net <mailto:rdmailings at duif.net>> a écrit :
>> Update from migration team:
>> 
>> Migration of all Redmine issue is DONE !!!!!
>> 
>> https://github.com/qgis/QGIS/issues/
><https://github.com/qgis/QGIS/issues/>
>> 
>> The interaction limitation has ended and you can start working on
>(your)
>> issues on GitHub.
>> 
>> Go, fix, enjoy and happy QGISsing on github!
>> 
>> Regards,
>> 
>> Richard Duivenvoorde
>> 
>> ps according to Jorge (aka 'migration team'), there is some minor
>> housekeeping to be done, but users and dev can... GO :-)
>> 
>> 
>> 
>> On 25/05/2019 14.56, Richard Duivenvoorde wrote:
>> > Update from mirgration team:
>> > 
>> > Hi @all,
>> > 
>> > The issue migration from Redmine to GitHub is going on smoothly
>(but slow).
>> > 
>> > The first phase (moving the issues) is finished. All 19845 issues
>are
>> > now on GitHub :-)
>> > 
>> > Since the issue ids have changed, we started a second run to
>replace
>> > old ids with the new ones. This second phase is faster than the
>> > first one. It will take about 9 to 10 hours (we are able to update
>> > +-2200 issues per hour and we have almost 20k issues).
>> > 
>> > To prevent people for changing or comment issues, we will keep the
>> > interaction limited to developers with push access, until the
>migration
>> > is complete. Developers with push access can do PR and MR (but can
>also
>> > enjoy the weekend ;-).
>> > 
>> > So, we expected to have the migration finished today by 22:00
>(GMT+1)
>> > (London time).
>> > 
>> > Thanks for your comprehension!
>> > 
>> > 
>> > On 22/05/2019 14.06, Richard Duivenvoorde wrote:
>> >> Hi All (lists),
>> >>
>> >> We propose to do the Redmine -> Github migration next friday 24th
>of may
>> >> at 8:00 CET (+2).
>> >>
>> >> More or less following this Migration plan:
>> >>
>> >>
>https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818
><https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-478296818>
>> >>
>> >> To be clear: this means http://issues.qgis.org
><http://issues.qgis.org/> cannot be used on friday,
>> >> untill the migration is finished and checked.
>> >>
>> >> If anybody has knowledge of an easy way to make Redmine readonly,
>please
>> >> let us know. Some googling to me only revealed changing the
>database
>> >> user or fiddling with the users in the db itself.
>> >>
>> >> Jorge will be in the lead for the Migration team
>> >> I (among others) will be around for QGIS Infra
>> >> Any help or encouragement is appreciated :-)
>> >>
>> >> Let's meet on IRC on friday morning, we can further decide on
>> >> communication if needed/wanted.
>> >>
>> >> If I miss something, please let us know.
>> >>
>> >> Regards,
>> >>
>> >> Richard Duivenvoorde
>> >> _______________________________________________
>> >> QGIS-Developer mailing list
>> >> QGIS-Developer at lists.osgeo.org
><mailto:QGIS-Developer at lists.osgeo.org>
>> >> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
><https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> >> Unsubscribe:
>https://lists.osgeo.org/mailman/listinfo/qgis-developer
><https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> >>
>> > 
>> > _______________________________________________
>> > Qgis-user mailing list
>> > Qgis-user at lists.osgeo.org <mailto:Qgis-user at lists.osgeo.org>
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-user
><https://lists.osgeo.org/mailman/listinfo/qgis-user>
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-user
><https://lists.osgeo.org/mailman/listinfo/qgis-user>
>> > 
>> 
>> _______________________________________________
>> Qgis-community-team mailing list for organizing community resources
>such as documentation, translation etc..
>> Qgis-community-team at lists.osgeo.org
><mailto:Qgis-community-team at lists.osgeo.org>
>> https://lists.osgeo.org/mailman/listinfo/qgis-community-team
><https://lists.osgeo.org/mailman/listinfo/qgis-community-team>_______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
><mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
><https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
><https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>—
>
>
>
>
>
>
>
>
>
>Tim Sutton
>
>Co-founder: Kartoza
>Ex Project chair: QGIS.org
>
>Visit http://kartoza.com <http://kartoza.com/> to find out about open
>source:
>
>Desktop GIS programming services
>Geospatial web development
>GIS Training
>Consulting Services
>
>Skype: timlinux 
>IRC: timlinux on #qgis at freenode.net
>
>I'd love to connect. Here's my calendar link
><https://calendly.com/timlinux> to make finding time easy.

-- 
Sorry for being short
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190527/5178ea57/attachment-0001.html>

From r.nijssen at terglobo.nl  Mon May 27 06:58:35 2019
From: r.nijssen at terglobo.nl (Raymond Nijssen)
Date: Mon, 27 May 2019 15:58:35 +0200
Subject: [QGIS-Developer] saving a layer with the world_map.shp
Message-ID: <b137b7e7-efa2-4397-4a23-1c6f3a6de1e2@terglobo.nl>

I know it was introduced as an easter egg, but I'm very happy with the 
built in world map in qgis. I'm using it in a plugin to automatically 
add a layer for the overview map in my layout. This layer points to a 
shapefile in my qgis install directory:

/home/raymond/programs/qgis-master/share/qgis/resources/data/world_map.shp

Now, when saving my project and somebody else opening it, the layer is 
invalid (of course). Is there a way to make the project point to the 
right file, using some kind of variable pointing to the qgis 
installation path?

like this:
{QGIS_RESOURCE_PATH}/data/world_map.shp

or I could copy the world.shp into my plugin and do this:

{QGIS_PLUGIN_PATH}/my-plugin/data/world_map.shp

These paths should then be saved including the variable in the project file.



Another option would be to save the shp-file in the .qgz somehow but I'm 
not too sure if that is the way to go..



This is the way I create the path now:

worldShp = os.path.join(QgsApplication.pkgDataPath(), 'resources', 
'data', 'world_map.shp')



To make the question more general, is it possible to add resources to a 
plugin in a way that projects point to these resources and make that 
work for other users too?


Hope anyone can help!

Kind regards,
Raymond



From noreply at qgis.org  Mon May 27 08:15:29 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 27 May 2019 15:15:29 -0000
Subject: [QGIS-Developer] Plugin [1095] AnnotationManager approval
	notification.
Message-ID: <20190527151529.12711.31449@2c6504964296>


Plugin AnnotationManager approval by pcav.
The plugin version "[1095] AnnotationManager 0.5" is now approved
Link: http://plugins.qgis.org/plugins/annotationManager/

From alroyliz0 at gmail.com  Mon May 27 13:50:49 2019
From: alroyliz0 at gmail.com (Alexis R.L.)
Date: Mon, 27 May 2019 16:50:49 -0400
Subject: [QGIS-Developer] Post github issues migration clean ups - some
	proposals
In-Reply-To: <CACfnYnSB+n=3Rd0-XeAf9jwGgo3J4uLUy7oB8jYAQH06_UQ29g@mail.gmail.com>
References: <mailman.31389.1558924721.17185.qgis-developer@lists.osgeo.org>
 <CACfnYnSB+n=3Rd0-XeAf9jwGgo3J4uLUy7oB8jYAQH06_UQ29g@mail.gmail.com>
Message-ID: <CAOM0XWB36KG40Nud9ooogSCegXqZBz3QANPUgLkOWj-tGUP03g@mail.gmail.com>

Greetings,

Out of curiosity, will there be a round of cleanup? Some issues are either
quite old and possibly not reproducible while some other are the eternal
crash when closing qgis.


Alexis Roy-Lizotte


Le lun. 27 mai 2019 à 05:35, Giovanni Manghi <giovanni.manghi at gmail.com> a
écrit :

> Hi,
>
>
>
> >
> > - "Database" label: should this be renamed "db manager", to
> > disambiguate from postgis/spatialite/etc issues, which instead belong
> > under "data providers"?
>
> agree
>
> >
> > - Can "CAD" be merged into "Digitising"? There's only a handful of
> > open issues, and I don't think it warrants a separate category. In
> > QGIS these two concepts are basically merged now anyway.
>
> not sure, maybe this was meant for the DXF/DWG import/export tools?
>
>
>
> > - "Editing": This label is very vague -- it's being used for
> > digitizing issues, project editing issues, copy/paste issues, and even
> > data provider issues. I'd argue we could drop this label and use other
> > existing, more specific labels instead
>
>
> on Redmine I always assumed that "editing" was to be used for issues
> regarding the edits of alphanumeric attributes while "digitizing" was
> to be used for issues about the geometry edits.
>
>
> -- G --
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190527/15def7b1/attachment.html>

From jgr at di.uminho.pt  Mon May 27 14:44:46 2019
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Mon, 27 May 2019 22:44:46 +0100
Subject: [QGIS-Developer] Post github issues migration clean ups - some
 proposals
In-Reply-To: <CAOM0XWB36KG40Nud9ooogSCegXqZBz3QANPUgLkOWj-tGUP03g@mail.gmail.com>
References: <mailman.31389.1558924721.17185.qgis-developer@lists.osgeo.org>
 <CACfnYnSB+n=3Rd0-XeAf9jwGgo3J4uLUy7oB8jYAQH06_UQ29g@mail.gmail.com>
 <CAOM0XWB36KG40Nud9ooogSCegXqZBz3QANPUgLkOWj-tGUP03g@mail.gmail.com>
Message-ID: <f97f35ee-c28b-f477-cbba-1488504f238b@di.uminho.pt>

Hi Alexis,

There is no formal cleanup call, but in are in feature freeze until 3.8
release on summer solstice (next June, 21th). That is why Nyall proposed
this move to GitHub right now, on this feature freeze period.

In other words, we are already in this "round of cleanup"!

So, let's go get them!

Regards,

Jorge Gustavo

Às 21:50 de 27/05/19, Alexis R.L. escreveu:
> Greetings,
> 
> Out of curiosity, will there be a round of cleanup? Some issues are
> either quite old and possibly not reproducible while some other are the
> eternal crash when closing qgis.
> 
> 
> Alexis Roy-Lizotte
> 
> 
> Le lun. 27 mai 2019 à 05:35, Giovanni Manghi <giovanni.manghi at gmail.com
> <mailto:giovanni.manghi at gmail.com>> a écrit :
> 
>     Hi,
> 
> 
> 
>     >
>     > - "Database" label: should this be renamed "db manager", to
>     > disambiguate from postgis/spatialite/etc issues, which instead belong
>     > under "data providers"?
> 
>     agree
> 
>     >
>     > - Can "CAD" be merged into "Digitising"? There's only a handful of
>     > open issues, and I don't think it warrants a separate category. In
>     > QGIS these two concepts are basically merged now anyway.
> 
>     not sure, maybe this was meant for the DXF/DWG import/export tools?
> 
> 
> 
>     > - "Editing": This label is very vague -- it's being used for
>     > digitizing issues, project editing issues, copy/paste issues, and even
>     > data provider issues. I'd argue we could drop this label and use other
>     > existing, more specific labels instead
> 
> 
>     on Redmine I always assumed that "editing" was to be used for issues
>     regarding the edits of alphanumeric attributes while "digitizing" was
>     to be used for issues about the geometry edits.
> 
> 
>     -- G --
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Informática
Universidade do Minho
4710-057 Braga
Tel: +351 253604480
Fax: +351 253604471
Móvel: +351 910333888
skype: nabocudnosor

From nyall.dawson at gmail.com  Mon May 27 16:06:59 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 28 May 2019 09:06:59 +1000
Subject: [QGIS-Developer] Post github issues migration clean ups - some
	proposals
In-Reply-To: <f97f35ee-c28b-f477-cbba-1488504f238b@di.uminho.pt>
References: <mailman.31389.1558924721.17185.qgis-developer@lists.osgeo.org>
 <CACfnYnSB+n=3Rd0-XeAf9jwGgo3J4uLUy7oB8jYAQH06_UQ29g@mail.gmail.com>
 <CAOM0XWB36KG40Nud9ooogSCegXqZBz3QANPUgLkOWj-tGUP03g@mail.gmail.com>
 <f97f35ee-c28b-f477-cbba-1488504f238b@di.uminho.pt>
Message-ID: <CAB28Asibt1JE_rPK6SBJXJBENYSVFDFxQyrCQbLm5sEB0WujHQ@mail.gmail.com>

On Tue, 28 May 2019 at 07:45, Jorge Gustavo Rocha <jgr at di.uminho.pt> wrote:
>
> Hi Alexis,
>
> There is no formal cleanup call, but in are in feature freeze until 3.8
> release on summer solstice (next June, 21th). That is why Nyall proposed
> this move to GitHub right now, on this feature freeze period.
>

> In other words, we are already in this "round of cleanup"!
>
> So, let's go get them!

On this note -- this could be a great chance for a blog post
advertising the change and improved workflow/usability, and put
forward a call for more volunteers to help us triage and clean up the
queue?

Nyall

>
> Regards,
>
> Jorge Gustavo
>
> Às 21:50 de 27/05/19, Alexis R.L. escreveu:
> > Greetings,
> >
> > Out of curiosity, will there be a round of cleanup? Some issues are
> > either quite old and possibly not reproducible while some other are the
> > eternal crash when closing qgis.
> >
> >
> > Alexis Roy-Lizotte
> >
> >
> > Le lun. 27 mai 2019 à 05:35, Giovanni Manghi <giovanni.manghi at gmail.com
> > <mailto:giovanni.manghi at gmail.com>> a écrit :
> >
> >     Hi,
> >
> >
> >
> >     >
> >     > - "Database" label: should this be renamed "db manager", to
> >     > disambiguate from postgis/spatialite/etc issues, which instead belong
> >     > under "data providers"?
> >
> >     agree
> >
> >     >
> >     > - Can "CAD" be merged into "Digitising"? There's only a handful of
> >     > open issues, and I don't think it warrants a separate category. In
> >     > QGIS these two concepts are basically merged now anyway.
> >
> >     not sure, maybe this was meant for the DXF/DWG import/export tools?
> >
> >
> >
> >     > - "Editing": This label is very vague -- it's being used for
> >     > digitizing issues, project editing issues, copy/paste issues, and even
> >     > data provider issues. I'd argue we could drop this label and use other
> >     > existing, more specific labels instead
> >
> >
> >     on Redmine I always assumed that "editing" was to be used for issues
> >     regarding the edits of alphanumeric attributes while "digitizing" was
> >     to be used for issues about the geometry edits.
> >
> >
> >     -- G --
> >     _______________________________________________
> >     QGIS-Developer mailing list
> >     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> >     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >     Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
> J. Gustavo
> --
> Jorge Gustavo Rocha
> Departamento de Informática
> Universidade do Minho
> 4710-057 Braga
> Tel: +351 253604480
> Fax: +351 253604471
> Móvel: +351 910333888
> skype: nabocudnosor
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Mon May 27 16:21:03 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 28 May 2019 09:21:03 +1000
Subject: [QGIS-Developer] Post github issues migration clean ups - some
	proposals
In-Reply-To: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
Message-ID: <CAB28Ash0LsvySxDd0fwXTy0OrwWwCWfHTb3ueebKHpVCSZJUTQ@mail.gmail.com>

On Mon, 27 May 2019 at 09:06, Nyall Dawson <nyall.dawson at gmail.com> wrote:
>
> Hi all,
>
> Once again, many many thanks to the individuals behind the the recent
> issues migration. Fantastic job all round!
>
> I'd like to do some post-migration cleanups, but would like wider
> opinions on how to handle these:
>
> - We have two labels "bug" and "bug fix" which apply to issues and
> pull requests respectively. Can we combine these, and just use "bug"
> for bug fixing PRs? (There's a LOT of labels now)

Done

>
> - "Database" label: should this be renamed "db manager", to
> disambiguate from postgis/spatialite/etc issues, which instead belong
> under "data providers"?

Done

>
> - Can "CAD" be merged into "Digitising"? There's only a handful of
> open issues, and I don't think it warrants a separate category. In
> QGIS these two concepts are basically merged now anyway.

Based on discussion, I've renamed this to DXF/DWG for clarification

> - "Easy fix". Does anyone actually use this? Many of these are not
> "easy fixes" -- e.g. I've been chipping away at
> https://github.com/qgis/QGIS/issues/28195 since last year... it's
> probably about the hardest fix I've ever done in QGIS. No idea how
> this one gained the label!

Ok, seems there's a strong argument to leave this in place!

Nyall

From nyall.dawson at gmail.com  Mon May 27 16:23:12 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 28 May 2019 09:23:12 +1000
Subject: [QGIS-Developer] Post github issues migration clean ups - some
	proposals
In-Reply-To: <CACfnYnSB+n=3Rd0-XeAf9jwGgo3J4uLUy7oB8jYAQH06_UQ29g@mail.gmail.com>
References: <mailman.31389.1558924721.17185.qgis-developer@lists.osgeo.org>
 <CACfnYnSB+n=3Rd0-XeAf9jwGgo3J4uLUy7oB8jYAQH06_UQ29g@mail.gmail.com>
Message-ID: <CAB28AsgoYeo0N-TnQOVyaKiX5hH+37BPE1U31LONuvpb9Ps+WA@mail.gmail.com>

On Mon, 27 May 2019 at 19:35, Giovanni Manghi <giovanni.manghi at gmail.com> wrote:
>
> Hi,
>
> > - "Editing": This label is very vague -- it's being used for
> > digitizing issues, project editing issues, copy/paste issues, and even
> > data provider issues. I'd argue we could drop this label and use other
> > existing, more specific labels instead
>
>
> on Redmine I always assumed that "editing" was to be used for issues
> regarding the edits of alphanumeric attributes while "digitizing" was
> to be used for issues about the geometry edits.

We've also got labels for both Attribute Table and Forms too. I'd
think issues relating to editing attributes in the table/editor
widgets/forms could better belong in those categories instead? (But
happy to take your lead)

Nyall



>
>
> -- G --
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Mon May 27 16:25:27 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 28 May 2019 09:25:27 +1000
Subject: [QGIS-Developer] Post github issues migration clean ups - some
	proposals
In-Reply-To: <CABgOYCe579UReJVA9J70goRy-qL1e7oWgHGtRmdXoVEzJQScHg@mail.gmail.com>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CABgOYCe579UReJVA9J70goRy-qL1e7oWgHGtRmdXoVEzJQScHg@mail.gmail.com>
Message-ID: <CAB28AshP-cKYPbUkqNS8gw1fC36Dyf7UzaP4DkAABWwRm-m=Bg@mail.gmail.com>

On Mon, 27 May 2019 at 17:54, Régis Haubourg <regis.haubourg at gmail.com> wrote:
>
>> - How should we handle milestones now? We've been using them up till
>> now to tag PRs with their target version, and closing off milestones
>> as each release is made. Now we've got a whole lot of outdated
>> milestones (e.g. 2.14) because we have issues which were tagged to
>> these milestones from the old "affected version" property. I don't
>> think this is correct use of the milestone functionality, and would
>> like to see it used only for release management (i.e. if a bug has a
>> milestone, it's being targeted for fixing in that version*, so bug
>> reports should always have ONLY future version milestones, not past
>> versions). This would mean we'd need to change the affected version
>> handling to labels. Is everyone OK with this?
>>
>  milestone is a target, affected version is a descriptive information for a bug. I don't see any milestone define in the repo. Did you already clean this up? I'm not sure I get your point in fact, the affected version is only a text comment in the issue body from what I see. Did I miss something?

Check https://github.com/qgis/QGIS/milestones

and e..g. tickets tagged with milestone 2.14:
https://github.com/qgis/QGIS/milestones/Version%202.14

I've closed off all the old milestones with no tickets, but I'm unsure
how to deal with the ones with open tickets. We really should only
have 3.8.0 / 3.4.9 / 3.10 and the "future" milestones open.

Nyall

From cavallini at faunalia.it  Mon May 27 22:08:32 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 28 May 2019 07:08:32 +0200
Subject: [QGIS-Developer] Post github issues migration clean ups -
	some	proposals
In-Reply-To: <CAB28Asibt1JE_rPK6SBJXJBENYSVFDFxQyrCQbLm5sEB0WujHQ@mail.gmail.com>
References: <mailman.31389.1558924721.17185.qgis-developer@lists.osgeo.org>
 <CACfnYnSB+n=3Rd0-XeAf9jwGgo3J4uLUy7oB8jYAQH06_UQ29g@mail.gmail.com>
 <CAOM0XWB36KG40Nud9ooogSCegXqZBz3QANPUgLkOWj-tGUP03g@mail.gmail.com>
 <f97f35ee-c28b-f477-cbba-1488504f238b@di.uminho.pt>
 <CAB28Asibt1JE_rPK6SBJXJBENYSVFDFxQyrCQbLm5sEB0WujHQ@mail.gmail.com>
Message-ID: <A5937333-8356-45C0-AEDE-B2F636AB564B@faunalia.it>

Good point, a blog post is most welcome. Jorge and the team behind the migration deserve this honour. Jorge, would you mind writing it? 
Ready to help if necessary.
Cheers.

Il 28 maggio 2019 01:06:59 CEST, Nyall Dawson <nyall.dawson at gmail.com> ha scritto:
>On Tue, 28 May 2019 at 07:45, Jorge Gustavo Rocha <jgr at di.uminho.pt>
>wrote:
>>
>> Hi Alexis,
>>
>> There is no formal cleanup call, but in are in feature freeze until
>3.8
>> release on summer solstice (next June, 21th). That is why Nyall
>proposed
>> this move to GitHub right now, on this feature freeze period.
>>
>
>> In other words, we are already in this "round of cleanup"!
>>
>> So, let's go get them!
>
>On this note -- this could be a great chance for a blog post
>advertising the change and improved workflow/usability, and put
>forward a call for more volunteers to help us triage and clean up the
>queue?
>
>Nyall
>
>>
>> Regards,
>>
>> Jorge Gustavo
>>
>> Às 21:50 de 27/05/19, Alexis R.L. escreveu:
>> > Greetings,
>> >
>> > Out of curiosity, will there be a round of cleanup? Some issues are
>> > either quite old and possibly not reproducible while some other are
>the
>> > eternal crash when closing qgis.
>> >
>> >
>> > Alexis Roy-Lizotte
>> >
>> >
>> > Le lun. 27 mai 2019 à 05:35, Giovanni Manghi
><giovanni.manghi at gmail.com
>> > <mailto:giovanni.manghi at gmail.com>> a écrit :
>> >
>> >     Hi,
>> >
>> >
>> >
>> >     >
>> >     > - "Database" label: should this be renamed "db manager", to
>> >     > disambiguate from postgis/spatialite/etc issues, which
>instead belong
>> >     > under "data providers"?
>> >
>> >     agree
>> >
>> >     >
>> >     > - Can "CAD" be merged into "Digitising"? There's only a
>handful of
>> >     > open issues, and I don't think it warrants a separate
>category. In
>> >     > QGIS these two concepts are basically merged now anyway.
>> >
>> >     not sure, maybe this was meant for the DXF/DWG import/export
>tools?
>> >
>> >
>> >
>> >     > - "Editing": This label is very vague -- it's being used for
>> >     > digitizing issues, project editing issues, copy/paste issues,
>and even
>> >     > data provider issues. I'd argue we could drop this label and
>use other
>> >     > existing, more specific labels instead
>> >
>> >
>> >     on Redmine I always assumed that "editing" was to be used for
>issues
>> >     regarding the edits of alphanumeric attributes while
>"digitizing" was
>> >     to be used for issues about the geometry edits.
>> >
>> >
>> >     -- G --
>> >     _______________________________________________
>> >     QGIS-Developer mailing list
>> >     QGIS-Developer at lists.osgeo.org
><mailto:QGIS-Developer at lists.osgeo.org>
>> >     List info:
>https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >     Unsubscribe:
>https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >
>> >
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe:
>https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> >
>>
>> J. Gustavo
>> --
>> Jorge Gustavo Rocha
>> Departamento de Informática
>> Universidade do Minho
>> 4710-057 Braga
>> Tel: +351 253604480
>> Fax: +351 253604471
>> Móvel: +351 910333888
>> skype: nabocudnosor
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>_______________________________________________
>QGIS-Developer mailing list
>QGIS-Developer at lists.osgeo.org
>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Sorry for being short
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190528/2c5dde7d/attachment.html>

From noreply at qgis.org  Tue May 28 01:12:03 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 28 May 2019 08:12:03 -0000
Subject: [QGIS-Developer] Plugin [995] dzetsaka : Classification tool
	approval notification.
Message-ID: <20190528081203.31524.63100@2c6504964296>


Plugin dzetsaka : Classification tool approval by zimbogisgeek.
The plugin version "[995] dzetsaka : Classification tool 3.4.6" is now approved
Link: http://plugins.qgis.org/plugins/dzetsaka/

From tim at kartoza.com  Tue May 28 01:50:23 2019
From: tim at kartoza.com (Tim Sutton)
Date: Tue, 28 May 2019 09:50:23 +0100
Subject: [QGIS-Developer] saving a layer with the world_map.shp
In-Reply-To: <b137b7e7-efa2-4397-4a23-1c6f3a6de1e2@terglobo.nl>
References: <b137b7e7-efa2-4397-4a23-1c6f3a6de1e2@terglobo.nl>
Message-ID: <9574A052-67D5-45EE-B875-91C3FB7FDF86@kartoza.com>

Hi

I don’t have any immediate fix for your issue, but I am glad you are enjoying my Easter egg :-) I also use it ALL THE TIME and it is really great in training courses etc. to get people quickly started with panning and zooming or putting their data in context. One day maybe we can elevate it’s status to have a button on the file toolbar that adds it to the canvas without the need for bunnies and chocolate :-)

PS for those that don’t know about the Easter egg, type ‘world’ into the coordinate box in the status bar as shown below, then press ENTER.


Regards

Tim

> On 27 May 2019, at 14:58, Raymond Nijssen <r.nijssen at terglobo.nl> wrote:
> 
> I know it was introduced as an easter egg, but I'm very happy with the built in world map in qgis. I'm using it in a plugin to automatically add a layer for the overview map in my layout. This layer points to a shapefile in my qgis install directory:
> 
> /home/raymond/programs/qgis-master/share/qgis/resources/data/world_map.shp
> 
> Now, when saving my project and somebody else opening it, the layer is invalid (of course). Is there a way to make the project point to the right file, using some kind of variable pointing to the qgis installation path?
> 
> like this:
> {QGIS_RESOURCE_PATH}/data/world_map.shp
> 
> or I could copy the world.shp into my plugin and do this:
> 
> {QGIS_PLUGIN_PATH}/my-plugin/data/world_map.shp
> 
> These paths should then be saved including the variable in the project file.
> 
> 
> 
> Another option would be to save the shp-file in the .qgz somehow but I'm not too sure if that is the way to go..
> 
> 
> 
> This is the way I create the path now:
> 
> worldShp = os.path.join(QgsApplication.pkgDataPath(), 'resources', 'data', 'world_map.shp')
> 
> 
> 
> To make the question more general, is it possible to add resources to a plugin in a way that projects point to these resources and make that work for other users too?
> 
> 
> Hope anyone can help!
> 
> Kind regards,
> Raymond
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

—









Tim Sutton

Co-founder: Kartoza
Ex Project chair: QGIS.org

Visit http://kartoza.com <http://kartoza.com/> to find out about open source:

Desktop GIS programming services
Geospatial web development
GIS Training
Consulting Services

Skype: timlinux 
IRC: timlinux on #qgis at freenode.net

I'd love to connect. Here's my calendar link <https://calendly.com/timlinux> to make finding time easy.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190528/f2c5a9b1/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: world.jpg
Type: image/jpeg
Size: 21554 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190528/f2c5a9b1/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: KartozaNewLogoThumbnail.jpg
Type: image/jpeg
Size: 6122 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190528/f2c5a9b1/attachment-0003.jpg>

From noreply at qgis.org  Tue May 28 02:47:56 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 28 May 2019 09:47:56 -0000
Subject: [QGIS-Developer] Plugin [1728] GEOSYS Plugin approval notification.
Message-ID: <20190528094756.25430.2176@2c6504964296>


Plugin GEOSYS Plugin approval by zimbogisgeek.
The plugin version "[1728] GEOSYS Plugin 1.0.0" is now approved
Link: http://plugins.qgis.org/plugins/geosys-plugin/

From noreply at qgis.org  Tue May 28 03:27:27 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 28 May 2019 10:27:27 -0000
Subject: [QGIS-Developer] Plugin [1727] Kontrollblatt SH approval
	notification.
Message-ID: <20190528102727.2479.14281@2c6504964296>


Plugin Kontrollblatt SH approval by signedav.
The plugin version "[1727] Kontrollblatt SH 0.5" is now approved
Link: http://plugins.qgis.org/plugins/kontrollblatt_sh/

From noreply at qgis.org  Tue May 28 05:59:46 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 28 May 2019 12:59:46 -0000
Subject: [QGIS-Developer] Plugin [440] Visibility Analysis approval
	notification.
Message-ID: <20190528125946.17678.4942@2c6504964296>


Plugin Visibility Analysis approval by pcav.
The plugin version "[440] Visibility Analysis 1.0" is now approved
Link: http://plugins.qgis.org/plugins/ViewshedAnalysis/

From imajimatika at gmail.com  Tue May 28 06:57:17 2019
From: imajimatika at gmail.com (Ismail Sunni)
Date: Tue, 28 May 2019 15:57:17 +0200
Subject: [QGIS-Developer] How to Add Custom QGIS Model Programmatically
Message-ID: <CAEh5jtFC8pYhoW26EURLmzeYpcjDWy6Gf2KfkqjXNTwLZf2q=A@mail.gmail.com>

Dear QGIS developers,

Currently, I am trying to create a Docker image based on QGIS official
docker image to run a custom processing model. I am able to run the
existing processing model by using a python script.

Unfortunately, for a custom model, I need to register the model first
(similar to adding a new model in QGIS toolbox) before I can use it. I try
some ways to do it:

   1. Trying to find Python API to do it. I couldn't find it (perhaps I
   missed it)
   2. Trying to add/copy manually the model file to the model directory.
   Unfortunately, in the container doesn't even have any profile directory.
   3. I tried to find the model directory path, but I can't find it from
   QSettings (it returns empty setting with *QSettings.allKeys()*)
   4. I tried to manually create the directories based on my machine model
   directory location, but it's not working also.

Any suggestions for this problem? A Python API to add/register the model
would be a perfect solution.

Thanks

-- 
Ismail Sunni
ismailsunni.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190528/0c42c04c/attachment.html>

From adenaculture at gmail.com  Tue May 28 08:26:13 2019
From: adenaculture at gmail.com (C Hamilton)
Date: Tue, 28 May 2019 11:26:13 -0400
Subject: [QGIS-Developer] New Coordinate Conversion Tool in Lat Lon Tools
Message-ID: <CABPxTTpwQp+o=X2PHqr6Q_Ngt-OEt3Z29tvP2Y5NsB8ohWPa+g@mail.gmail.com>

I have added a new coordinate conversion tool to the "Lat Lon Tools"
plugin. It is somewhat similar to the capabilities you find with the ArcGIS
coordinate conversion tool. You can manually copy and paste or type in a
coordinate in one of the various formats and it will convert it to all the
others. You can also click on the map to get the same results. Here is the
plugin:

http://plugins.qgis.org/plugins/latlontools/

These are the formats that are currently available:

WGS 84 latitude & longitude
Project CRS
Custom CRS
D° M' S"
DDMMSS
Standard UTM
MGRS
Google Plus Codes

Give it a try and let me know what you think.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190528/9940510b/attachment.html>

From imajimatika at gmail.com  Tue May 28 09:41:29 2019
From: imajimatika at gmail.com (Ismail Sunni)
Date: Tue, 28 May 2019 18:41:29 +0200
Subject: [QGIS-Developer] How to Add Custom QGIS Model Programmatically
In-Reply-To: <CAFO80_oo5sEyZDGS4Rd3NdPOqtDuaWDP6HDt7zkvLVXJKkjFqQ@mail.gmail.com>
References: <CAEh5jtFC8pYhoW26EURLmzeYpcjDWy6Gf2KfkqjXNTwLZf2q=A@mail.gmail.com>
 <CAFO80_oo5sEyZDGS4Rd3NdPOqtDuaWDP6HDt7zkvLVXJKkjFqQ@mail.gmail.com>
Message-ID: <CAEh5jtH5rYxhVcSsNJNgBQnw6dX_19c6xynRqCB4kBJsUJ69Yg@mail.gmail.com>

HI Luigi,

Thanks for the pointer, it's really helpful. Now I got my model registered
:)

I convert it to Python script first, then add it as you said.

Next, I will check if it's working properly

Best regards

On Tue, May 28, 2019 at 5:52 PM Luigi Pirelli <luipir at gmail.com> wrote:

>
> I'm travelling, but iIRC, you need before register model provider in
> processing... There are processing tests about alg provider registry.
> On Tuesday, 28 May 2019, Ismail Sunni <imajimatika at gmail.com> wrote:
>
>> Dear QGIS developers,
>>
>> Currently, I am trying to create a Docker image based on QGIS official
>> docker image to run a custom processing model. I am able to run the
>> existing processing model by using a python script.
>>
>> Unfortunately, for a custom model, I need to register the model first
>> (similar to adding a new model in QGIS toolbox) before I can use it. I try
>> some ways to do it:
>>
>>    1. Trying to find Python API to do it. I couldn't find it (perhaps I
>>    missed it)
>>    2. Trying to add/copy manually the model file to the model directory.
>>    Unfortunately, in the container doesn't even have any profile directory.
>>    3. I tried to find the model directory path, but I can't find it from
>>    QSettings (it returns empty setting with *QSettings.allKeys()*)
>>    4. I tried to manually create the directories based on my machine
>>    model directory location, but it's not working also.
>>
>> Any suggestions for this problem? A Python API to add/register the model
>> would be a perfect solution.
>>
>> Thanks
>>
>> --
>> Ismail Sunni
>> ismailsunni.wordpress.com
>>
>
>
> --
>
> Luigi Pirelli
>
>
> **************************************************************************************************
> * LinkedIn: https://www.linkedin.com/in/luigipirelli
> * Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
> * GitHub: https://github.com/luipir
> * Mastering QGIS 2nd Edition:
> *
> https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
> * Hire me: http://www.qcooperative.net
>
> **************************************************************************************************
>
>

-- 
Ismail Sunni
ismailsunni.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190528/7585a7e0/attachment.html>

From noreply at qgis.org  Tue May 28 22:18:33 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 29 May 2019 05:18:33 -0000
Subject: [QGIS-Developer] Plugin [1094] Gban approval notification.
Message-ID: <20190529051833.15748.75330@2c6504964296>


Plugin Gban approval by pcav.
The plugin version "[1094] Gban 1.1" is now approved
Link: http://plugins.qgis.org/plugins/gban/

From regis.haubourg at gmail.com  Wed May 29 03:17:14 2019
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 29 May 2019 12:17:14 +0200
Subject: [QGIS-Developer] Empty or NULL geometry when deleting vertices
	and sub parts?
In-Reply-To: <CABgOYCem4bqWEh3Ti33a3YYZ61rSrYNX0O0iFUicXtt8Fsn2Jw@mail.gmail.com>
References: <CABgOYCem4bqWEh3Ti33a3YYZ61rSrYNX0O0iFUicXtt8Fsn2Jw@mail.gmail.com>
Message-ID: <CABgOYCe4P4Tiu-zuWUaPjQdLuDedoCnikomEW0X3L97ZMC2brw@mail.gmail.com>

Hi all,
I'm raising this again, I have opposite opinions regarding what should be
the best behavior when deleting parts of a geometry vs deleting all
vertices. We need to choose EMPTY geometry or NULL geometry. My personal
choice goes to NULL, because I think very few users know about it and test
EMPTY geometries, when it does not seem to provide additional feature than
NULL, at last for spatial database formats.
Any opinion?
Régis

Le mar. 14 mai 2019 à 09:14, Régis Haubourg <regis.haubourg at gmail.com> a
écrit :

> Hi all,
> We encounter different behaviors regarding NULL/Empty geometries and I
> need your wisdom lights:
> (Using postgis provider here)
> - when deleting all the vertices of a geometry we get a NULL geometry
> - when deleting all parts of a multiline, when get an empty geometry
>
> I think we should homogenize the behavior here.
>
> Googling a bit led me into the uncertainties of NULL and Empty concepts
> into the SFS, WKT, WKB standards, but I fail to decide which one is the
> best.
> As an average data administrator, I would choose NULL because I almost
> never test geometries for being Empty and I think this could be a caveat
> for most users.
>
> Someone has any opinion here ?
>
> Best regards
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190529/76f1af88/attachment.html>

From olivier.dalang at gmail.com  Wed May 29 03:43:27 2019
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Wed, 29 May 2019 12:43:27 +0200
Subject: [QGIS-Developer] Clear exception messages in algorithms
Message-ID: <CAExk7p3jSP0Q0pA1iCYTOcG8xrVAt6dtSQNYDB3bFTGk+nn-Aw@mail.gmail.com>

Dear list,

I'm currently developing a plugin that adds algorithms that query an API.
There are some very clear issues that may arise, such as hitting an API
quota limit.

However, I couldn't find a way to provide clear error message to the user.

This is what I have in my processAlgorithm(...) method :

if limit_reached:
feedback.reportError("API usage limit reached", fatalError=True)
raise QgsProcessingException("API usage limit warning")

It works well, but the error is hidden in the middle of a potentially long
trace (see below) that is so cryptic for the typical user that he will miss
the important message (which is "API usage limit reached").

I tried to play a bit around with things like `raise QgsException(...) from
None` or other things, but could find a way to provide better output for
the user. And since it's from an algorithm, it's not possible to use
iface.pushMessage() or any other UI mean to do so...

Any pointer would be greatly appreciated !

Cheers,

Olivier




Example output log :

Processing algorithm…

Algorithm 'Time Map - Simple' starting…

Input parameters:

{ 'INPUT_SEARCHES' :
'memory?geometry=Point&crs=EPSG:4326&field=full_id:string(0,0)&field=osm_id:string(0,0)&field=osm_type:string(0,0)&field=amenity:string(0,0)&field=name:string(0,0)&field=cuisine:string(0,0)&field=addr:housenumber:string(0,0)&field=addr:postcode:string(0,0)&field=addr:street:string(0,0)&field=diet:gluten_free:string(0,0)&field=diet:vegetarian:string(0,0)&field=phone:string(0,0)&field=wheelchair:string(0,0)&field=addr:city:string(0,0)&field=fhrs:id:string(0,0)&field=source:addr:string(0,0)&field=alt_name:string(0,0)&field=fhrs:authority:string(0,0)&field=fhrs:inspectiondate:string(0,0)&field=fhrs:rating:string(0,0)&field=addr:housename:string(0,0)&field=addr:unit:string(0,0)&field=dontimport:fhrs:addrline1:string(0,0)&field=dontimport:fhrs:addrline2:string(0,0)&field=dontimport:fhrs:businesstype:string(0,0)&field=opening_hours:string(0,0)&field=email:string(0,0)&field=website:string(0,0)&field=contact:phone:string(0,0)&field=wheelchair:description:string(0,0)&field=toilets:wheelchair:string(0,0)&field=toilets:string(0,0)&field=toilets:access:string(0,0)&field=opening_hours:url:string(0,0)&field=takeaway:string(0,0)&field=fhrs:confidence_management:string(0,0)&field=fhrs:hygiene:string(0,0)&field=fhrs:local_authority_id:string(0,0)&field=fhrs:structural:string(0,0)&field=outdoor_seating:string(0,0)&field=source:postcode:string(0,0)&field=wikidata:string(0,0)&field=payment:american_express:string(0,0)&field=old_name:string(0,0)&field=source:addr:postcode:string(0,0)&field=diet:raw:string(0,0)&field=diet:vegan:string(0,0)&field=facebook:string(0,0)&field=warning:string(0,0)&field=currency:XLT:string(0,0)&field=payment:cash:XLT-BXTP:string(0,0)&field=payment:text:XLT-BXTP:string(0,0)&field=postal_code:string(0,0)&field=addr:country:string(0,0)&field=brand:string(0,0)&field=brand:wikidata:string(0,0)&field=brand:wikipedia:string(0,0)&field=contact:website:string(0,0)&field=capacity:string(0,0)&field=operator:string(0,0)&field=smoking:string(0,0)&field=level:string(0,0)&field=postcode:string(0,0)&field=layer:string(0,0)&field=delivery:string(0,0)&field=contact:email:string(0,0)&field=addr:floor:string(0,0)&field=description:floor:string(0,0)&field=old_fhrs:id:string(0,0)&field=old_fhrs:local_authority_id:string(0,0)&field=addr:suburb:string(0,0)&field=wifi:string(0,0)&field=drive_in:string(0,0)&field=microbrewery:string(0,0)&field=branch:string(0,0)&field=tourism:string(0,0)&field=note:name:ko:string(0,0)&field=wikipedia:string(0,0)&field=name:en:string(0,0)&field=url:string(0,0)&field=name:zh:string(0,0)&field=old_cuisine:string(0,0)&field=diet:pescetarian:string(0,0)&field=seats:string(0,0)&field=bar:string(0,0)&field=type:string(0,0)&field=former_name:string(0,0)&field=food:string(0,0)&field=disused:string(0,0)&field=operator:wikidata:string(0,0)&field=disused:name:string(0,0)&field=addr:place:string(0,0)&field=contact:fax:string(0,0)&field=fax:string(0,0)&field=note:name:en:string(0,0)&field=note:name:zh:string(0,0)&field=alcohol:string(0,0)&field=entrance:string(0,0)&field=internet_access:fee:string(0,0)&field=brewery:string(0,0)&field=note:name:string(0,0)&field=instagram:string(0,0)&field=twitter:string(0,0)&field=building:level:string(0,0)&field=internet_access:string(0,0)&field=description:string(0,0)&field=trendy:string(0,0)&field=colour:string(0,0)&field=erected_by:string(0,0)&field=historic:string(0,0)&field=inscription:string(0,0)&field=memorial:string(0,0)&field=openplaques:id:string(0,0)&field=scheme:string(0,0)&field=addr:full:string(0,0)&field=number:string(0,0)&field=contact:twitter:string(0,0)&field=name:es:string(0,0)&field=name:gl:string(0,0)&field=uri:string(0,0)&field=indoor_seating:string(0,0)&field=music:string(0,0)&field=product:string(0,0)&field=contact:facebook:string(0,0)&field=ref:NPLG:UPRN:1:string(0,0)&field=drink:coffee:string(0,0)&field=drink:soft_drink:string(0,0)&field=drink:tea:string(0,0)&field=source:name:string(0,0)&field=wikimedia_commons:string(0,0)&field=access:string(0,0)&field=barrier:string(0,0)&field=building:string(0,0)&field=payment:bitcoin:string(0,0)&field=start_date:string(0,0)&field=shop:units:string(0,0)&field=source:position:string(0,0)&field=survey:date:string(0,0)&field=payment:cash:string(0,0)&field=payment:credit_cards:string(0,0)&field=payment:debit_cards:string(0,0)&field=camera:mount:string(0,0)&field=camera:type:string(0,0)&field=man_made:string(0,0)&field=surveillance:string(0,0)&field=surveillance:type:string(0,0)&field=surveillance:zone:string(0,0)&field=disused:amenity:string(0,0)&field=shop:string(0,0)&field=checkfirst:suggested:name:string(0,0)&field=source:date:string(0,0)&field=addr:interpolation:string(0,0)&field=diet:halal:string(0,0)&field=note_1:string(0,0)&field=designation:string(0,0)&field=addr:flat:string(0,0)&field=addr:flats:string(0,0)&field=organic:string(0,0)&field=memorial:type:string(0,0)&field=max_level:string(0,0)&field=min_level:string(0,0)&field=fhrs:name:string(0,0)&field=diet:string(0,0)&field=construction:string(0,0)&field=old_amenity:string(0,0)&field=happycow:id:string(0,0)&field=drive_through:string(0,0)&field=contact:instagram:string(0,0)&field=payment:mastercard:string(0,0)&field=payment:visa:string(0,0)&field=drink:wine:string(0,0)&field=payment:jcb:string(0,0)&field=contact:google_plus:string(0,0)&field=name:gsw:string(0,0)&field=drink:cider:string(0,0)&field=reservation:string(0,0)&field=name:ru:string(0,0)&field=name:nl:string(0,0)&field=name:lt:string(0,0)&field=name:ja:string(0,0)&field=name:ar:string(0,0)&field=name:it:string(0,0)&field=website:en:string(0,0)&field=name:pt:string(0,0)&field=amenity_1:string(0,0)&field=self_service:string(0,0)&field=highway:string(0,0)&field=lamp_mount:string(0,0)&field=name:pl:string(0,0)&field=stars:string(0,0)&field=drink:beer:string(0,0)&field=drink:lemonade:string(0,0)&field=drink:water:string(0,0)&field=breakfast:string(0,0)&field=drink:natural_wine:string(0,0)&field=name:ro:string(0,0)&field=drink:cola:string(0,0)&field=disused:shop:string(0,0)&field=not:addr:postcode:string(0,0)&field=source:addr:housenumber:string(0,0)&field=camera:direction:string(0,0)&field=real_ale:string(0,0)&field=not:addr:street:string(0,0)&field=baby_change:string(0,0)&field=name:fr:string(0,0)&field=automatic_door:string(0,0)&field=door:string(0,0)&field=serves_cars:bool(0,0)&field=is_drive_through:bool(0,0)&uid={98191443-a039-467a-a0c6-4dbfb08707cf}',
'INPUT_SEARCH_TYPE' : 0, 'INPUT_TIME' : '2019-05-29T12:00:00',
'INPUT_TRAVEL_TIME' : 15, 'INPUT_TRNSPT_TYPE' : 0, 'OUTPUT' : 'memory:',
'OUTPUT_RESULT_TYPE' : 0 }


Starting TimeMapSimpleAlgorithm...

Calling subcommand with following parameters...

{'INPUT_DEPARTURE_SEARCHES': <qgis._core.QgsVectorLayer object at
0x00000249EB1ADCA8>, 'INPUT_DEPARTURE_TRNSPT_TYPE': "'cycling'",
'INPUT_DEPARTURE_TIME': "'2019-05-29T12:00:00'", 'OUTPUT_RESULT_TYPE': 0,
'OUTPUT': 'memory:results', 'INPUT_DEPARTURE_TRAVEL_TIME': '900',
'INPUT_DEPARTURE_TRNSPT_WALKING_TIME': '900'}

Starting TimeMapAlgorithm...

Checking API limit warnings...

API usage limit reached !

Traceback (most recent call last):
File
"C:/Users/Olivier/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\travel_time_platform_plugin\algorithms\advanced.py",
line 383, in processAlgorithm
slices = self.processAlgorithmGetSlices(parameters, context, feedback)
File
"C:/Users/Olivier/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\travel_time_platform_plugin\algorithms\advanced.py",
line 234, in processAlgorithmGetSlices
self.processAlgorithmEnforceLimit(len(slices), parameters, context,
feedback)
File
"C:/Users/Olivier/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\travel_time_platform_plugin\algorithms\base.py",
line 245, in processAlgorithmEnforceLimit
raise QgsProcessingException("API usage limit reached ") from None
_core.QgsProcessingException: API usage limit reached

There were errors executing the algorithm.

Traceback (most recent call last):
File
"C:/Users/Olivier/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\travel_time_platform_plugin\algorithms\simple.py",
line 111, in processAlgorithm
sub_id, sub_parameters, context=context, feedback=feedback
File
"C:/OSGEO4~1/apps/qgis-ltr/./python/plugins\processing\tools\general.py",
line 105, in run
return Processing.runAlgorithm(algOrName, parameters, onFinish, feedback,
context)
File
"C:/OSGEO4~1/apps/qgis-ltr/./python/plugins\processing\core\Processing.py",
line 183, in runAlgorithm
raise QgsProcessingException(msg)
_core.QgsProcessingException: There were errors executing the algorithm.

Execution failed after 0.16 seconds


Loading resulting layers

Algorithm 'Time Map - Simple' finished
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190529/ebaf47c6/attachment-0001.html>

From noreply at qgis.org  Wed May 29 04:24:17 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 29 May 2019 11:24:17 -0000
Subject: [QGIS-Developer] Plugin [1718] profileAAR approval notification.
Message-ID: <20190529112417.24342.80189@2c6504964296>


Plugin profileAAR approval by pcav.
The plugin version "[1718] profileAAR 2.0.1" is now approved
Link: http://plugins.qgis.org/plugins/profileAAR/

From wonder.sk at gmail.com  Wed May 29 05:31:55 2019
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed, 29 May 2019 14:31:55 +0200
Subject: [QGIS-Developer] Issues in Feedback state & auto-closing issues
Message-ID: <CAC2XbFdo74_f0r+Uf_KeBAtbJevua8c=mwF0vyg26vYyYVt=RQ@mail.gmail.com>

Hi all

Thanks again for all the efforts to migrate tickets to github - having
a single platform makes things easier.

Going through some of the tickets, I realize we have lots of tickets
in feedback state (nearly 400 at this point). My feeling is that
there's relatively small chance of getting feedback to most of those,
especially now after the migration when many of the original authors
will not get a ping anymore if their username was not matched to
github username.

A related topic is automatic closing of issues in feedback state older
than X months. I assume our current integration with probot-stale will
now also affect issues, not just pull requests, so after 14 days all
the newly imported tickets presumably get a warning message (which is
currently very PR specific)...? Ideally it should be possible to have
stale bot use different rules and messages for issues and pull
requests - anyone knows how to do that?

Cheers
Martin

From noreply at qgis.org  Wed May 29 05:46:02 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 29 May 2019 12:46:02 -0000
Subject: [QGIS-Developer] Plugin [999] Qgeric approval notification.
Message-ID: <20190529124602.15748.6053@2c6504964296>


Plugin Qgeric approval by zimbogisgeek.
The plugin version "[999] Qgeric 1.8" is now approved
Link: http://plugins.qgis.org/plugins/qgeric/

From cavallini at faunalia.it  Wed May 29 09:27:25 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 29 May 2019 18:27:25 +0200
Subject: [QGIS-Developer] Native interpolations: wrong input in models?
Message-ID: <d9eb6bbd-b02f-da6b-5c31-a230ddb8e384@faunalia.it>

Hi all,
when using native interpolations (IDW, TIN) in a model, the possible
inputs are only the layers loaded in the project, instead of the
((correct) list of inputs from the model itself.
Am I missing something, or this is a bug?
Thanks for feedback.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From noreply at qgis.org  Wed May 29 23:59:16 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 30 May 2019 06:59:16 -0000
Subject: [QGIS-Developer] Plugin [1726] A-Maps approval notification.
Message-ID: <20190530065916.5718.50909@2c6504964296>


Plugin A-Maps approval by zimbogisgeek.
The plugin version "[1726] A-Maps 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/amaps/

From strk at kbt.io  Thu May 30 00:36:52 2019
From: strk at kbt.io (Sandro Santilli)
Date: Thu, 30 May 2019 09:36:52 +0200
Subject: [QGIS-Developer] Issues ID mapping (was: Post github issues
 migration clean ups - some proposals)
In-Reply-To: <CAB28Ash0LsvySxDd0fwXTy0OrwWwCWfHTb3ueebKHpVCSZJUTQ@mail.gmail.com>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CAB28Ash0LsvySxDd0fwXTy0OrwWwCWfHTb3ueebKHpVCSZJUTQ@mail.gmail.com>
Message-ID: <20190530073652.GB7030@liz>

I was thinking that after migration it would be useful to be able
to still follow a link from a commit log to its corresponding issue.

My understanding is that there's no 1:1 mapping between a Redmine
issue number and a GitHub issue number other than using a lookup
table (not included in QGIS source tree). Is that right ?

Is there any other way to tell which issue number refers to each
tracker ? Like... is there a "biggest issue number" that we could
use to distinguish between the two ?

The use case for this would be to set up a redirect from
issues.qgis.org so that whoever asks for a bigger issue number
is sent to github. This would also simplify mapping of issue refs
in commit logs from something like the Gitea mirror of QGIS, see
this page for example:

  https://git.osgeo.org/gitea/qgis/QGIS/commit/3f9a07e7

You can see the commit log references #30003 issue number.
Gitea was configured to transform that into a link to issues.qgis.org,
but such link is a "not found" page:

  https://issues.qgis.org/issues/30003

An older commit, like this (not too old):

  https://git.osgeo.org/gitea/qgis/QGIS/commit/f9810a453

Also references an issue number (#14885) but in this case
the link goes to an existing page:

  https://issues.qgis.org/issues/14885

The solution I'd see for this would be setting up a redirect
on issues.qgis.org to do the second hop to GitHub when needed,
is that possible to do at the moment ?

PS: needless to say, if/when in the future QGIS issues will move
    again we'll have NO CHANCE of setting up such redirects...

--strk;

From jgr at di.uminho.pt  Thu May 30 01:04:30 2019
From: jgr at di.uminho.pt (Jorge Gustavo Rocha)
Date: Thu, 30 May 2019 09:04:30 +0100
Subject: [QGIS-Developer] Issues ID mapping (was: Post github issues
 migration clean ups - some proposals)
In-Reply-To: <20190530073652.GB7030@liz>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CAB28Ash0LsvySxDd0fwXTy0OrwWwCWfHTb3ueebKHpVCSZJUTQ@mail.gmail.com>
 <20190530073652.GB7030@liz>
Message-ID: <a7b78577-9315-8a27-4aae-8c77393f05bd@di.uminho.pt>

Hi Sandro,

Às 08:36 de 30/05/19, Sandro Santilli escreveu:
> I was thinking that after migration it would be useful to be able
> to still follow a link from a commit log to its corresponding issue.
> > My understanding is that there's no 1:1 mapping between a Redmine
> issue number and a GitHub issue number other than using a lookup
> table (not included in QGIS source tree). Is that right ?
> 

The mapping table (m: red x gh) is available at:
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-496006337

I think we need that table and the commit date. Commits before 20190526
should point to GitHub issue m(red); after 20190526 should point to
GitHub issue gh.

It that possible?

> Is there any other way to tell which issue number refers to each
> tracker ? Like... is there a "biggest issue number" that we could
> use to distinguish between the two ?
> 
> The use case for this would be to set up a redirect from
> issues.qgis.org so that whoever asks for a bigger issue number
> is sent to github. This would also simplify mapping of issue refs
> in commit logs from something like the Gitea mirror of QGIS, see
> this page for example:
> 
>   https://git.osgeo.org/gitea/qgis/QGIS/commit/3f9a07e7
> 
> You can see the commit log references #30003 issue number.
> Gitea was configured to transform that into a link to issues.qgis.org,
> but such link is a "not found" page:
> 
>   https://issues.qgis.org/issues/30003
> 
> An older commit, like this (not too old):
> 
>   https://git.osgeo.org/gitea/qgis/QGIS/commit/f9810a453
> 
> Also references an issue number (#14885) but in this case
> the link goes to an existing page:
> 
>   https://issues.qgis.org/issues/14885
> 
> The solution I'd see for this would be setting up a redirect
> on issues.qgis.org to do the second hop to GitHub when needed,
> is that possible to do at the moment ?
> 
> PS: needless to say, if/when in the future QGIS issues will move
>     again we'll have NO CHANCE of setting up such redirects...

I'm trying to find old Redmine issue references and replace then by the
new ones, so everything points to the new ones. Commits messages are not
easy to change, since the message itself is part of the commit.

I've just made https://github.com/qgis/QGIS/pull/30014 to have all
comments in code (and in tests) pointing only to GitHub.

Regards,

Jorge Gustavo

> 
> --strk;
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

J. Gustavo
-- 
Jorge Gustavo Rocha
Departamento de Informática
Universidade do Minho
4710-057 Braga
Tel: +351 253604480
Fax: +351 253604471
Móvel: +351 910333888
skype: nabocudnosor

From strk at kbt.io  Thu May 30 01:18:50 2019
From: strk at kbt.io (Sandro Santilli)
Date: Thu, 30 May 2019 10:18:50 +0200
Subject: [QGIS-Developer] Issues ID mapping (was: Post github issues
 migration clean ups - some proposals)
In-Reply-To: <a7b78577-9315-8a27-4aae-8c77393f05bd@di.uminho.pt>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CAB28Ash0LsvySxDd0fwXTy0OrwWwCWfHTb3ueebKHpVCSZJUTQ@mail.gmail.com>
 <20190530073652.GB7030@liz>
 <a7b78577-9315-8a27-4aae-8c77393f05bd@di.uminho.pt>
Message-ID: <20190530081850.GC7030@liz>

On Thu, May 30, 2019 at 09:04:30AM +0100, Jorge Gustavo Rocha wrote:
> Hi Sandro,
> 
> Às 08:36 de 30/05/19, Sandro Santilli escreveu:
> > I was thinking that after migration it would be useful to be able
> > to still follow a link from a commit log to its corresponding issue.
> > > My understanding is that there's no 1:1 mapping between a Redmine
> > issue number and a GitHub issue number other than using a lookup
> > table (not included in QGIS source tree). Is that right ?
> > 
> 
> The mapping table (m: red x gh) is available at:
> https://github.com/qgis/QGIS-Enhancement-Proposals/issues/141#issuecomment-496006337
> 
> I think we need that table and the commit date. Commits before 20190526
> should point to GitHub issue m(red); after 20190526 should point to
> GitHub issue gh.
> 
> It that possible?

With free software everything is possible,
but needs to be implemented ...

At the moment Gitea web UI does NOT let you express such filters.
Apache filters would be more powerful but would not have access
to commit date.

Implementing this in Gitea has a cost. Would such cost be worth
the history-recover ? Again: remember this will be NOT POSSIBLE
in the future, when moving _out_ of github.

> > PS: needless to say, if/when in the future QGIS issues will move
> >     again we'll have NO CHANCE of setting up such redirects...
> 
> I'm trying to find old Redmine issue references and replace then by the
> new ones, so everything points to the new ones. Commits messages are not
> easy to change, since the message itself is part of the commit.

Right, that'd be history-rewriting. History rewriting would always
be possible, although destructive. Problem would be being able
to review/approve such a big change.

--strk;

From cavallini at faunalia.it  Thu May 30 02:12:33 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 30 May 2019 11:12:33 +0200
Subject: [QGIS-Developer] Fwd: [qgis/QGIS] curved labels: only a few are
	drawn (#12173)
In-Reply-To: <qgis/QGIS/issue/12173/issue_event/2377318530@github.com>
References: <qgis/QGIS/issue/12173/issue_event/2377318530@github.com>
Message-ID: <d4c1396a-294a-39b5-426c-bac0b3ba5ebd@faunalia.it>

Hi all,
the first of my tickets to be closed on the new system - wow.
One ssmall but I believe significant thing: now to see who cloded or
commented it one should go to the website, whereas before the name of
the bugfixer was included in the mail. I think peolpe doing stuff
deserve as much visibility as possible: is there a way to show this?
Thanks.

-------- Forwarded Message --------
Subject: 	Re: [qgis/QGIS] curved labels: only a few are drawn (#12173)
Date: 	Thu, 30 May 2019 00:29:09 -0700
From: 	Nyall Dawson <notifications at github.com>
Reply-To: 	qgis/QGIS
<reply+AAFI5AQ6Q6HAFVSBUJGEEA527S4MLEVBNHHBVNNKC4 at reply.github.com>
To: 	qgis/QGIS <QGIS at noreply.github.com>
CC: 	Paolo Cavallini <cavallini at faunalia.it>, Mention
<mention at noreply.github.com>



Closed #12173 <https://github.com/qgis/QGIS/issues/12173>.

—
You are receiving this because you were mentioned.
Reply to this email directly, view it on GitHub
<https://github.com/qgis/QGIS/issues/12173?email_source=notifications&email_token=AAFI5AWVU6LQMSYJHGUHMBLPX564LA5CNFSM4HQ7TCUKYY3PNVWWK3TUL52HS4DFWZEXG43VMVCXMZLOORHG65DJMZUWGYLUNFXW5KTDN5WW2ZLOORPWSZGORWZQBAQ#event-2377318530>,
or mute the thread
<https://github.com/notifications/unsubscribe-auth/AAFI5AR74NCXQB3I66WZC4LPX564LANCNFSM4HQ7TCUA>.


From noreply at qgis.org  Thu May 30 03:51:53 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 30 May 2019 10:51:53 -0000
Subject: [QGIS-Developer] Plugin [1726] A-Maps approval notification.
Message-ID: <20190530105153.13283.69067@2c6504964296>


Plugin A-Maps approval by zimbogisgeek.
The plugin version "[1726] A-Maps 0.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/amaps/

From noreply at qgis.org  Thu May 30 08:42:38 2019
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 30 May 2019 15:42:38 -0000
Subject: [QGIS-Developer] Plugin [1579] myfiber approval notification.
Message-ID: <20190530154238.2428.12898@2c6504964296>


Plugin myfiber approval by zimbogisgeek.
The plugin version "[1579] myfiber 0.5.1" is now approved
Link: http://plugins.qgis.org/plugins/myfiber/

From nyall.dawson at gmail.com  Thu May 30 15:10:28 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 31 May 2019 08:10:28 +1000
Subject: [QGIS-Developer] Issues in Feedback state & auto-closing issues
In-Reply-To: <CAC2XbFdo74_f0r+Uf_KeBAtbJevua8c=mwF0vyg26vYyYVt=RQ@mail.gmail.com>
References: <CAC2XbFdo74_f0r+Uf_KeBAtbJevua8c=mwF0vyg26vYyYVt=RQ@mail.gmail.com>
Message-ID: <CAB28AsiyD1eBp=S5KmpAOObedLAB=YGD+wTEuc0a_gLLQzspSg@mail.gmail.com>

On Wed, 29 May 2019 at 22:32, Martin Dobias <wonder.sk at gmail.com> wrote:
>
> Hi all
>
> Thanks again for all the efforts to migrate tickets to github - having
> a single platform makes things easier.
>
> Going through some of the tickets, I realize we have lots of tickets
> in feedback state (nearly 400 at this point). My feeling is that
> there's relatively small chance of getting feedback to most of those,
> especially now after the migration when many of the original authors
> will not get a ping anymore if their username was not matched to
> github username.
>
> A related topic is automatic closing of issues in feedback state older
> than X months. I assume our current integration with probot-stale will
> now also affect issues, not just pull requests, so after 14 days all
> the newly imported tickets presumably get a warning message (which is
> currently very PR specific)...? Ideally it should be possible to have
> stale bot use different rules and messages for issues and pull
> requests - anyone knows how to do that?

I'd like to see the stale bot used for ALL issues too eventually - but
the timeout could be much longer for these than for pull requests.
E.g. 1 month for issues with the feedback flag, 3 months for
non-feedback flagged issues (with the stale message prompting them to
test on the latest release). We'd need to set the bot to skip any
issues filed by the qgib bot for the reasons you outlined above.

And then for feature requests, I'd love to see stale bot posting a
message hinting to the reporter that the work could be sponsored, and
adding a gdal-style "needs funding" label automatically. We could
safely bulk-apply this to all open feature requests (including qgip
filed ones) older than say 1 or 2 months (we'd want to keep the
timeout short enough that the original poster doesn't just move on).

How's that sound?

Nyall


>
> Cheers
> Martin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Thu May 30 15:12:30 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 31 May 2019 08:12:30 +1000
Subject: [QGIS-Developer] Clear exception messages in algorithms
In-Reply-To: <CAExk7p3jSP0Q0pA1iCYTOcG8xrVAt6dtSQNYDB3bFTGk+nn-Aw@mail.gmail.com>
References: <CAExk7p3jSP0Q0pA1iCYTOcG8xrVAt6dtSQNYDB3bFTGk+nn-Aw@mail.gmail.com>
Message-ID: <CAB28Asjqh8iNjjFssUOe4NKokaqPLCfdsJChbV+BXME3KxWzPA@mail.gmail.com>

On Wed, 29 May 2019 at 20:43, Olivier Dalang <olivier.dalang at gmail.com> wrote:
>
> Dear list,
>
> I'm currently developing a plugin that adds algorithms that query an API. There are some very clear issues that may arise, such as hitting an API quota limit.
>
> However, I couldn't find a way to provide clear error message to the user.
>
> This is what I have in my processAlgorithm(...) method :
>
> if limit_reached:
> feedback.reportError("API usage limit reached", fatalError=True)
> raise QgsProcessingException("API usage limit warning")
>
> It works well, but the error is hidden in the middle of a potentially long trace (see below) that is so cryptic for the typical user that he will miss the important message (which is "API usage limit reached").
>
> I tried to play a bit around with things like `raise QgsException(...) from None` or other things, but could find a way to provide better output for the user. And since it's from an algorithm, it's not possible to use iface.pushMessage() or any other UI mean to do so...

There's no nice way to do this currently. I think we need to rework
this a bit, and only show the full stacktrace for
non-QgsProcessingException exceptions. That way we'd get the detailed
error for Python mistakes, but we would also be able to skip it when
it's not an unexpected error.

Nyall

>
> Any pointer would be greatly appreciated !
>
> Cheers,
>
> Olivier
>
>
>
>
> Example output log :
>
> Processing algorithm…
>
> Algorithm 'Time Map - Simple' starting…
>
> Input parameters:
>
> { 'INPUT_SEARCHES' : 'memory?geometry=Point&crs=EPSG:4326&field=full_id:string(0,0)&field=osm_id:string(0,0)&field=osm_type:string(0,0)&field=amenity:string(0,0)&field=name:string(0,0)&field=cuisine:string(0,0)&field=addr:housenumber:string(0,0)&field=addr:postcode:string(0,0)&field=addr:street:string(0,0)&field=diet:gluten_free:string(0,0)&field=diet:vegetarian:string(0,0)&field=phone:string(0,0)&field=wheelchair:string(0,0)&field=addr:city:string(0,0)&field=fhrs:id:string(0,0)&field=source:addr:string(0,0)&field=alt_name:string(0,0)&field=fhrs:authority:string(0,0)&field=fhrs:inspectiondate:string(0,0)&field=fhrs:rating:string(0,0)&field=addr:housename:string(0,0)&field=addr:unit:string(0,0)&field=dontimport:fhrs:addrline1:string(0,0)&field=dontimport:fhrs:addrline2:string(0,0)&field=dontimport:fhrs:businesstype:string(0,0)&field=opening_hours:string(0,0)&field=email:string(0,0)&field=website:string(0,0)&field=contact:phone:string(0,0)&field=wheelchair:description:string(0,0)&field=toilets:wheelchair:string(0,0)&field=toilets:string(0,0)&field=toilets:access:string(0,0)&field=opening_hours:url:string(0,0)&field=takeaway:string(0,0)&field=fhrs:confidence_management:string(0,0)&field=fhrs:hygiene:string(0,0)&field=fhrs:local_authority_id:string(0,0)&field=fhrs:structural:string(0,0)&field=outdoor_seating:string(0,0)&field=source:postcode:string(0,0)&field=wikidata:string(0,0)&field=payment:american_express:string(0,0)&field=old_name:string(0,0)&field=source:addr:postcode:string(0,0)&field=diet:raw:string(0,0)&field=diet:vegan:string(0,0)&field=facebook:string(0,0)&field=warning:string(0,0)&field=currency:XLT:string(0,0)&field=payment:cash:XLT-BXTP:string(0,0)&field=payment:text:XLT-BXTP:string(0,0)&field=postal_code:string(0,0)&field=addr:country:string(0,0)&field=brand:string(0,0)&field=brand:wikidata:string(0,0)&field=brand:wikipedia:string(0,0)&field=contact:website:string(0,0)&field=capacity:string(0,0)&field=operator:string(0,0)&field=smoking:string(0,0)&field=level:string(0,0)&field=postcode:string(0,0)&field=layer:string(0,0)&field=delivery:string(0,0)&field=contact:email:string(0,0)&field=addr:floor:string(0,0)&field=description:floor:string(0,0)&field=old_fhrs:id:string(0,0)&field=old_fhrs:local_authority_id:string(0,0)&field=addr:suburb:string(0,0)&field=wifi:string(0,0)&field=drive_in:string(0,0)&field=microbrewery:string(0,0)&field=branch:string(0,0)&field=tourism:string(0,0)&field=note:name:ko:string(0,0)&field=wikipedia:string(0,0)&field=name:en:string(0,0)&field=url:string(0,0)&field=name:zh:string(0,0)&field=old_cuisine:string(0,0)&field=diet:pescetarian:string(0,0)&field=seats:string(0,0)&field=bar:string(0,0)&field=type:string(0,0)&field=former_name:string(0,0)&field=food:string(0,0)&field=disused:string(0,0)&field=operator:wikidata:string(0,0)&field=disused:name:string(0,0)&field=addr:place:string(0,0)&field=contact:fax:string(0,0)&field=fax:string(0,0)&field=note:name:en:string(0,0)&field=note:name:zh:string(0,0)&field=alcohol:string(0,0)&field=entrance:string(0,0)&field=internet_access:fee:string(0,0)&field=brewery:string(0,0)&field=note:name:string(0,0)&field=instagram:string(0,0)&field=twitter:string(0,0)&field=building:level:string(0,0)&field=internet_access:string(0,0)&field=description:string(0,0)&field=trendy:string(0,0)&field=colour:string(0,0)&field=erected_by:string(0,0)&field=historic:string(0,0)&field=inscription:string(0,0)&field=memorial:string(0,0)&field=openplaques:id:string(0,0)&field=scheme:string(0,0)&field=addr:full:string(0,0)&field=number:string(0,0)&field=contact:twitter:string(0,0)&field=name:es:string(0,0)&field=name:gl:string(0,0)&field=uri:string(0,0)&field=indoor_seating:string(0,0)&field=music:string(0,0)&field=product:string(0,0)&field=contact:facebook:string(0,0)&field=ref:NPLG:UPRN:1:string(0,0)&field=drink:coffee:string(0,0)&field=drink:soft_drink:string(0,0)&field=drink:tea:string(0,0)&field=source:name:string(0,0)&field=wikimedia_commons:string(0,0)&field=access:string(0,0)&field=barrier:string(0,0)&field=building:string(0,0)&field=payment:bitcoin:string(0,0)&field=start_date:string(0,0)&field=shop:units:string(0,0)&field=source:position:string(0,0)&field=survey:date:string(0,0)&field=payment:cash:string(0,0)&field=payment:credit_cards:string(0,0)&field=payment:debit_cards:string(0,0)&field=camera:mount:string(0,0)&field=camera:type:string(0,0)&field=man_made:string(0,0)&field=surveillance:string(0,0)&field=surveillance:type:string(0,0)&field=surveillance:zone:string(0,0)&field=disused:amenity:string(0,0)&field=shop:string(0,0)&field=checkfirst:suggested:name:string(0,0)&field=source:date:string(0,0)&field=addr:interpolation:string(0,0)&field=diet:halal:string(0,0)&field=note_1:string(0,0)&field=designation:string(0,0)&field=addr:flat:string(0,0)&field=addr:flats:string(0,0)&field=organic:string(0,0)&field=memorial:type:string(0,0)&field=max_level:string(0,0)&field=min_level:string(0,0)&field=fhrs:name:string(0,0)&field=diet:string(0,0)&field=construction:string(0,0)&field=old_amenity:string(0,0)&field=happycow:id:string(0,0)&field=drive_through:string(0,0)&field=contact:instagram:string(0,0)&field=payment:mastercard:string(0,0)&field=payment:visa:string(0,0)&field=drink:wine:string(0,0)&field=payment:jcb:string(0,0)&field=contact:google_plus:string(0,0)&field=name:gsw:string(0,0)&field=drink:cider:string(0,0)&field=reservation:string(0,0)&field=name:ru:string(0,0)&field=name:nl:string(0,0)&field=name:lt:string(0,0)&field=name:ja:string(0,0)&field=name:ar:string(0,0)&field=name:it:string(0,0)&field=website:en:string(0,0)&field=name:pt:string(0,0)&field=amenity_1:string(0,0)&field=self_service:string(0,0)&field=highway:string(0,0)&field=lamp_mount:string(0,0)&field=name:pl:string(0,0)&field=stars:string(0,0)&field=drink:beer:string(0,0)&field=drink:lemonade:string(0,0)&field=drink:water:string(0,0)&field=breakfast:string(0,0)&field=drink:natural_wine:string(0,0)&field=name:ro:string(0,0)&field=drink:cola:string(0,0)&field=disused:shop:string(0,0)&field=not:addr:postcode:string(0,0)&field=source:addr:housenumber:string(0,0)&field=camera:direction:string(0,0)&field=real_ale:string(0,0)&field=not:addr:street:string(0,0)&field=baby_change:string(0,0)&field=name:fr:string(0,0)&field=automatic_door:string(0,0)&field=door:string(0,0)&field=serves_cars:bool(0,0)&field=is_drive_through:bool(0,0)&uid={98191443-a039-467a-a0c6-4dbfb08707cf}', 'INPUT_SEARCH_TYPE' : 0, 'INPUT_TIME' : '2019-05-29T12:00:00', 'INPUT_TRAVEL_TIME' : 15, 'INPUT_TRNSPT_TYPE' : 0, 'OUTPUT' : 'memory:', 'OUTPUT_RESULT_TYPE' : 0 }
>
>
> Starting TimeMapSimpleAlgorithm...
>
> Calling subcommand with following parameters...
>
> {'INPUT_DEPARTURE_SEARCHES': <qgis._core.QgsVectorLayer object at 0x00000249EB1ADCA8>, 'INPUT_DEPARTURE_TRNSPT_TYPE': "'cycling'", 'INPUT_DEPARTURE_TIME': "'2019-05-29T12:00:00'", 'OUTPUT_RESULT_TYPE': 0, 'OUTPUT': 'memory:results', 'INPUT_DEPARTURE_TRAVEL_TIME': '900', 'INPUT_DEPARTURE_TRNSPT_WALKING_TIME': '900'}
>
> Starting TimeMapAlgorithm...
>
> Checking API limit warnings...
>
> API usage limit reached !
>
> Traceback (most recent call last):
> File "C:/Users/Olivier/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\travel_time_platform_plugin\algorithms\advanced.py", line 383, in processAlgorithm
> slices = self.processAlgorithmGetSlices(parameters, context, feedback)
> File "C:/Users/Olivier/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\travel_time_platform_plugin\algorithms\advanced.py", line 234, in processAlgorithmGetSlices
> self.processAlgorithmEnforceLimit(len(slices), parameters, context, feedback)
> File "C:/Users/Olivier/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\travel_time_platform_plugin\algorithms\base.py", line 245, in processAlgorithmEnforceLimit
> raise QgsProcessingException("API usage limit reached ") from None
> _core.QgsProcessingException: API usage limit reached
>
> There were errors executing the algorithm.
>
> Traceback (most recent call last):
> File "C:/Users/Olivier/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\travel_time_platform_plugin\algorithms\simple.py", line 111, in processAlgorithm
> sub_id, sub_parameters, context=context, feedback=feedback
> File "C:/OSGEO4~1/apps/qgis-ltr/./python/plugins\processing\tools\general.py", line 105, in run
> return Processing.runAlgorithm(algOrName, parameters, onFinish, feedback, context)
> File "C:/OSGEO4~1/apps/qgis-ltr/./python/plugins\processing\core\Processing.py", line 183, in runAlgorithm
> raise QgsProcessingException(msg)
> _core.QgsProcessingException: There were errors executing the algorithm.
>
> Execution failed after 0.16 seconds
>
>
> Loading resulting layers
>
> Algorithm 'Time Map - Simple' finished
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Thu May 30 15:17:14 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 31 May 2019 08:17:14 +1000
Subject: [QGIS-Developer] How to Add Custom QGIS Model Programmatically
In-Reply-To: <CAEh5jtFC8pYhoW26EURLmzeYpcjDWy6Gf2KfkqjXNTwLZf2q=A@mail.gmail.com>
References: <CAEh5jtFC8pYhoW26EURLmzeYpcjDWy6Gf2KfkqjXNTwLZf2q=A@mail.gmail.com>
Message-ID: <CAB28Asgh5HCfU5k5_uFueTypbFgH3GYHOuJceA5VK8uyyC4UTg@mail.gmail.com>

On Tue, 28 May 2019 at 23:57, Ismail Sunni <imajimatika at gmail.com> wrote:
>
> Dear QGIS developers,
>
> Currently, I am trying to create a Docker image based on QGIS official docker image to run a custom processing model. I am able to run the existing processing model by using a python script.

Not sure if you've seen
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/140 , but
that's designed with this use case very much in mind (and supports
specifying a model file via the command line, no need for registering
it in advance anywhere).

It's mostly done at
https://github.com/nyalldawson/QGIS/commit/631460cd1b8481cb118b7df2afacc5c3df40b3ad
, but I need some funds to finalise this and get it merged (e.g. it's
missing unit tests, and needs upgrading to handle the .var style
initialisation used by QGIS windows executables, and I also suspect
there'll be some packaging changes required to allow it to be built
and installed without the QGIS gui/application libraries).

Nyall

>
> Unfortunately, for a custom model, I need to register the model first (similar to adding a new model in QGIS toolbox) before I can use it. I try some ways to do it:
>
> Trying to find Python API to do it. I couldn't find it (perhaps I missed it)
> Trying to add/copy manually the model file to the model directory. Unfortunately, in the container doesn't even have any profile directory.
> I tried to find the model directory path, but I can't find it from QSettings (it returns empty setting with QSettings.allKeys())
> I tried to manually create the directories based on my machine model directory location, but it's not working also.
>
> Any suggestions for this problem? A Python API to add/register the model would be a perfect solution.
>
> Thanks
>
> --
> Ismail Sunni
> ismailsunni.wordpress.com
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From olivier.dalang at gmail.com  Thu May 30 15:31:05 2019
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Fri, 31 May 2019 00:31:05 +0200
Subject: [QGIS-Developer] Clear exception messages in algorithms
In-Reply-To: <CAB28Asjqh8iNjjFssUOe4NKokaqPLCfdsJChbV+BXME3KxWzPA@mail.gmail.com>
References: <CAExk7p3jSP0Q0pA1iCYTOcG8xrVAt6dtSQNYDB3bFTGk+nn-Aw@mail.gmail.com>
 <CAB28Asjqh8iNjjFssUOe4NKokaqPLCfdsJChbV+BXME3KxWzPA@mail.gmail.com>
Message-ID: <CAExk7p2=n98j9iKBv0jT=6Pp7UyfoAEfaT5BF0VWjFUvz8mrVQ@mail.gmail.com>

Thanks Nyall !

Maybe we could keep the log tab as is, but by default show another more
user-friendly "output" tab, which would just show the progress bar and
simple success/error messages (without trace). On error, the user would be
invited to inspect the log tab to see more details.

I'd find this really nice, as the processing toolbox is becoming more and
more central to QGIS, and the log tab is quite scary to look at even when
everything works fine :-)

If we agree on this, I can open a feature request (and will see if I can
get resources to work on a PR somehow...)

Cheers,

Olivier






On Fri, 31 May 2019 at 00:12, Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On Wed, 29 May 2019 at 20:43, Olivier Dalang <olivier.dalang at gmail.com>
> wrote:
> >
> > Dear list,
> >
> > I'm currently developing a plugin that adds algorithms that query an
> API. There are some very clear issues that may arise, such as hitting an
> API quota limit.
> >
> > However, I couldn't find a way to provide clear error message to the
> user.
> >
> > This is what I have in my processAlgorithm(...) method :
> >
> > if limit_reached:
> > feedback.reportError("API usage limit reached", fatalError=True)
> > raise QgsProcessingException("API usage limit warning")
> >
> > It works well, but the error is hidden in the middle of a potentially
> long trace (see below) that is so cryptic for the typical user that he will
> miss the important message (which is "API usage limit reached").
> >
> > I tried to play a bit around with things like `raise QgsException(...)
> from None` or other things, but could find a way to provide better output
> for the user. And since it's from an algorithm, it's not possible to use
> iface.pushMessage() or any other UI mean to do so...
>
> There's no nice way to do this currently. I think we need to rework
> this a bit, and only show the full stacktrace for
> non-QgsProcessingException exceptions. That way we'd get the detailed
> error for Python mistakes, but we would also be able to skip it when
> it's not an unexpected error.
>
> Nyall
>
> >
> > Any pointer would be greatly appreciated !
> >
> > Cheers,
> >
> > Olivier
> >
> >
> >
> >
> > Example output log :
> >
> > Processing algorithm…
> >
> > Algorithm 'Time Map - Simple' starting…
> >
> > Input parameters:
> >
> > { 'INPUT_SEARCHES' :
> 'memory?geometry=Point&crs=EPSG:4326&field=full_id:string(0,0)&field=osm_id:string(0,0)&field=osm_type:string(0,0)&field=amenity:string(0,0)&field=name:string(0,0)&field=cuisine:string(0,0)&field=addr:housenumber:string(0,0)&field=addr:postcode:string(0,0)&field=addr:street:string(0,0)&field=diet:gluten_free:string(0,0)&field=diet:vegetarian:string(0,0)&field=phone:string(0,0)&field=wheelchair:string(0,0)&field=addr:city:string(0,0)&field=fhrs:id:string(0,0)&field=source:addr:string(0,0)&field=alt_name:string(0,0)&field=fhrs:authority:string(0,0)&field=fhrs:inspectiondate:string(0,0)&field=fhrs:rating:string(0,0)&field=addr:housename:string(0,0)&field=addr:unit:string(0,0)&field=dontimport:fhrs:addrline1:string(0,0)&field=dontimport:fhrs:addrline2:string(0,0)&field=dontimport:fhrs:businesstype:string(0,0)&field=opening_hours:string(0,0)&field=email:string(0,0)&field=website:string(0,0)&field=contact:phone:string(0,0)&field=wheelchair:description:string(0,0)&field=toilets:wheelchair:string(0,0)&field=toilets:string(0,0)&field=toilets:access:string(0,0)&field=opening_hours:url:string(0,0)&field=takeaway:string(0,0)&field=fhrs:confidence_management:string(0,0)&field=fhrs:hygiene:string(0,0)&field=fhrs:local_authority_id:string(0,0)&field=fhrs:structural:string(0,0)&field=outdoor_seating:string(0,0)&field=source:postcode:string(0,0)&field=wikidata:string(0,0)&field=payment:american_express:string(0,0)&field=old_name:string(0,0)&field=source:addr:postcode:string(0,0)&field=diet:raw:string(0,0)&field=diet:vegan:string(0,0)&field=facebook:string(0,0)&field=warning:string(0,0)&field=currency:XLT:string(0,0)&field=payment:cash:XLT-BXTP:string(0,0)&field=payment:text:XLT-BXTP:string(0,0)&field=postal_code:string(0,0)&field=addr:country:string(0,0)&field=brand:string(0,0)&field=brand:wikidata:string(0,0)&field=brand:wikipedia:string(0,0)&field=contact:website:string(0,0)&field=capacity:string(0,0)&field=operator:string(0,0)&field=smoking:string(0,0)&field=level:string(0,0)&field=postcode:string(0,0)&field=layer:string(0,0)&field=delivery:string(0,0)&field=contact:email:string(0,0)&field=addr:floor:string(0,0)&field=description:floor:string(0,0)&field=old_fhrs:id:string(0,0)&field=old_fhrs:local_authority_id:string(0,0)&field=addr:suburb:string(0,0)&field=wifi:string(0,0)&field=drive_in:string(0,0)&field=microbrewery:string(0,0)&field=branch:string(0,0)&field=tourism:string(0,0)&field=note:name:ko:string(0,0)&field=wikipedia:string(0,0)&field=name:en:string(0,0)&field=url:string(0,0)&field=name:zh:string(0,0)&field=old_cuisine:string(0,0)&field=diet:pescetarian:string(0,0)&field=seats:string(0,0)&field=bar:string(0,0)&field=type:string(0,0)&field=former_name:string(0,0)&field=food:string(0,0)&field=disused:string(0,0)&field=operator:wikidata:string(0,0)&field=disused:name:string(0,0)&field=addr:place:string(0,0)&field=contact:fax:string(0,0)&field=fax:string(0,0)&field=note:name:en:string(0,0)&field=note:name:zh:string(0,0)&field=alcohol:string(0,0)&field=entrance:string(0,0)&field=internet_access:fee:string(0,0)&field=brewery:string(0,0)&field=note:name:string(0,0)&field=instagram:string(0,0)&field=twitter:string(0,0)&field=building:level:string(0,0)&field=internet_access:string(0,0)&field=description:string(0,0)&field=trendy:string(0,0)&field=colour:string(0,0)&field=erected_by:string(0,0)&field=historic:string(0,0)&field=inscription:string(0,0)&field=memorial:string(0,0)&field=openplaques:id:string(0,0)&field=scheme:string(0,0)&field=addr:full:string(0,0)&field=number:string(0,0)&field=contact:twitter:string(0,0)&field=name:es:string(0,0)&field=name:gl:string(0,0)&field=uri:string(0,0)&field=indoor_seating:string(0,0)&field=music:string(0,0)&field=product:string(0,0)&field=contact:facebook:string(0,0)&field=ref:NPLG:UPRN:1:string(0,0)&field=drink:coffee:string(0,0)&field=drink:soft_drink:string(0,0)&field=drink:tea:string(0,0)&field=source:name:string(0,0)&field=wikimedia_commons:string(0,0)&field=access:string(0,0)&field=barrier:string(0,0)&field=building:string(0,0)&field=payment:bitcoin:string(0,0)&field=start_date:string(0,0)&field=shop:units:string(0,0)&field=source:position:string(0,0)&field=survey:date:string(0,0)&field=payment:cash:string(0,0)&field=payment:credit_cards:string(0,0)&field=payment:debit_cards:string(0,0)&field=camera:mount:string(0,0)&field=camera:type:string(0,0)&field=man_made:string(0,0)&field=surveillance:string(0,0)&field=surveillance:type:string(0,0)&field=surveillance:zone:string(0,0)&field=disused:amenity:string(0,0)&field=shop:string(0,0)&field=checkfirst:suggested:name:string(0,0)&field=source:date:string(0,0)&field=addr:interpolation:string(0,0)&field=diet:halal:string(0,0)&field=note_1:string(0,0)&field=designation:string(0,0)&field=addr:flat:string(0,0)&field=addr:flats:string(0,0)&field=organic:string(0,0)&field=memorial:type:string(0,0)&field=max_level:string(0,0)&field=min_level:string(0,0)&field=fhrs:name:string(0,0)&field=diet:string(0,0)&field=construction:string(0,0)&field=old_amenity:string(0,0)&field=happycow:id:string(0,0)&field=drive_through:string(0,0)&field=contact:instagram:string(0,0)&field=payment:mastercard:string(0,0)&field=payment:visa:string(0,0)&field=drink:wine:string(0,0)&field=payment:jcb:string(0,0)&field=contact:google_plus:string(0,0)&field=name:gsw:string(0,0)&field=drink:cider:string(0,0)&field=reservation:string(0,0)&field=name:ru:string(0,0)&field=name:nl:string(0,0)&field=name:lt:string(0,0)&field=name:ja:string(0,0)&field=name:ar:string(0,0)&field=name:it:string(0,0)&field=website:en:string(0,0)&field=name:pt:string(0,0)&field=amenity_1:string(0,0)&field=self_service:string(0,0)&field=highway:string(0,0)&field=lamp_mount:string(0,0)&field=name:pl:string(0,0)&field=stars:string(0,0)&field=drink:beer:string(0,0)&field=drink:lemonade:string(0,0)&field=drink:water:string(0,0)&field=breakfast:string(0,0)&field=drink:natural_wine:string(0,0)&field=name:ro:string(0,0)&field=drink:cola:string(0,0)&field=disused:shop:string(0,0)&field=not:addr:postcode:string(0,0)&field=source:addr:housenumber:string(0,0)&field=camera:direction:string(0,0)&field=real_ale:string(0,0)&field=not:addr:street:string(0,0)&field=baby_change:string(0,0)&field=name:fr:string(0,0)&field=automatic_door:string(0,0)&field=door:string(0,0)&field=serves_cars:bool(0,0)&field=is_drive_through:bool(0,0)&uid={98191443-a039-467a-a0c6-4dbfb08707cf}',
> 'INPUT_SEARCH_TYPE' : 0, 'INPUT_TIME' : '2019-05-29T12:00:00',
> 'INPUT_TRAVEL_TIME' : 15, 'INPUT_TRNSPT_TYPE' : 0, 'OUTPUT' : 'memory:',
> 'OUTPUT_RESULT_TYPE' : 0 }
> >
> >
> > Starting TimeMapSimpleAlgorithm...
> >
> > Calling subcommand with following parameters...
> >
> > {'INPUT_DEPARTURE_SEARCHES': <qgis._core.QgsVectorLayer object at
> 0x00000249EB1ADCA8>, 'INPUT_DEPARTURE_TRNSPT_TYPE': "'cycling'",
> 'INPUT_DEPARTURE_TIME': "'2019-05-29T12:00:00'", 'OUTPUT_RESULT_TYPE': 0,
> 'OUTPUT': 'memory:results', 'INPUT_DEPARTURE_TRAVEL_TIME': '900',
> 'INPUT_DEPARTURE_TRNSPT_WALKING_TIME': '900'}
> >
> > Starting TimeMapAlgorithm...
> >
> > Checking API limit warnings...
> >
> > API usage limit reached !
> >
> > Traceback (most recent call last):
> > File
> "C:/Users/Olivier/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\travel_time_platform_plugin\algorithms\advanced.py",
> line 383, in processAlgorithm
> > slices = self.processAlgorithmGetSlices(parameters, context, feedback)
> > File
> "C:/Users/Olivier/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\travel_time_platform_plugin\algorithms\advanced.py",
> line 234, in processAlgorithmGetSlices
> > self.processAlgorithmEnforceLimit(len(slices), parameters, context,
> feedback)
> > File
> "C:/Users/Olivier/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\travel_time_platform_plugin\algorithms\base.py",
> line 245, in processAlgorithmEnforceLimit
> > raise QgsProcessingException("API usage limit reached ") from None
> > _core.QgsProcessingException: API usage limit reached
> >
> > There were errors executing the algorithm.
> >
> > Traceback (most recent call last):
> > File
> "C:/Users/Olivier/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\travel_time_platform_plugin\algorithms\simple.py",
> line 111, in processAlgorithm
> > sub_id, sub_parameters, context=context, feedback=feedback
> > File
> "C:/OSGEO4~1/apps/qgis-ltr/./python/plugins\processing\tools\general.py",
> line 105, in run
> > return Processing.runAlgorithm(algOrName, parameters, onFinish,
> feedback, context)
> > File
> "C:/OSGEO4~1/apps/qgis-ltr/./python/plugins\processing\core\Processing.py",
> line 183, in runAlgorithm
> > raise QgsProcessingException(msg)
> > _core.QgsProcessingException: There were errors executing the algorithm.
> >
> > Execution failed after 0.16 seconds
> >
> >
> > Loading resulting layers
> >
> > Algorithm 'Time Map - Simple' finished
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190531/d201f6e4/attachment-0001.html>

From jef at norbit.de  Thu May 30 16:29:09 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Fri, 31 May 2019 01:29:09 +0200
Subject: [QGIS-Developer] Issues ID mapping (was: Post github issues
 migration clean ups - some proposals)
In-Reply-To: <a7b78577-9315-8a27-4aae-8c77393f05bd@di.uminho.pt>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CAB28Ash0LsvySxDd0fwXTy0OrwWwCWfHTb3ueebKHpVCSZJUTQ@mail.gmail.com>
 <20190530073652.GB7030@liz>
 <a7b78577-9315-8a27-4aae-8c77393f05bd@di.uminho.pt>
Message-ID: <20190530232909.tk4wa7uv2g7ijouc@norbit.de>

Hi Jorge,

On Thu, 30. May 2019 at 09:04:30 +0100, Jorge Gustavo Rocha wrote:
> I'm trying to find old Redmine issue references and replace then by the
> new ones, so everything points to the new ones. Commits messages are not
> easy to change, since the message itself is part of the commit.

> I've just made https://github.com/qgis/QGIS/pull/30014 to have all
> comments in code (and in tests) pointing only to GitHub.

I thought you were also going to investigate how to add a github comment to the
commits with a issue reference.  So visiting the commit on github would also
give you a pointer to the github without a history change.

BTW redmine now redirects commit links to the corresponding github page.
 

Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190531/988da572/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190531/988da572/attachment.ksh>

From jef at norbit.de  Thu May 30 16:55:48 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Fri, 31 May 2019 01:55:48 +0200
Subject: [QGIS-Developer] Issues ID mapping (was: Post github issues
 migration clean ups - some proposals)
In-Reply-To: <20190530073652.GB7030@liz>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CAB28Ash0LsvySxDd0fwXTy0OrwWwCWfHTb3ueebKHpVCSZJUTQ@mail.gmail.com>
 <20190530073652.GB7030@liz>
Message-ID: <20190530235548.cvbpunkb5dvyv6m7@norbit.de>

Hi Sandro,

On Thu, 30. May 2019 at 09:36:52 +0200, Sandro Santilli wrote:
> You can see the commit log references #30003 issue number.
> Gitea was configured to transform that into a link to issues.qgis.org,
> but such link is a "not found" page:
> 
>   https://issues.qgis.org/issues/30003

You can use https://issues.qgis.org/github/30003 now - that will take you to
the corresponding github ticket if there is a match or otherwise just the
github ticket with that number.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190531/52c06a16/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190531/52c06a16/attachment.ksh>

From wonder.sk at gmail.com  Fri May 31 01:00:13 2019
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri, 31 May 2019 10:00:13 +0200
Subject: [QGIS-Developer] Issues in Feedback state & auto-closing issues
In-Reply-To: <CAB28AsiyD1eBp=S5KmpAOObedLAB=YGD+wTEuc0a_gLLQzspSg@mail.gmail.com>
References: <CAC2XbFdo74_f0r+Uf_KeBAtbJevua8c=mwF0vyg26vYyYVt=RQ@mail.gmail.com>
 <CAB28AsiyD1eBp=S5KmpAOObedLAB=YGD+wTEuc0a_gLLQzspSg@mail.gmail.com>
Message-ID: <CAC2XbFc0R4XjP_wf1Vju9CWfwNn=i2phQF1orBuacyrfHexnCQ@mail.gmail.com>

Hi Nyall

On Fri, May 31, 2019 at 12:10 AM Nyall Dawson <nyall.dawson at gmail.com> wrote:
>
> I'd like to see the stale bot used for ALL issues too eventually - but
> the timeout could be much longer for these than for pull requests.
> E.g. 1 month for issues with the feedback flag, 3 months for
> non-feedback flagged issues (with the stale message prompting them to
> test on the latest release). We'd need to set the bot to skip any
> issues filed by the qgib bot for the reasons you outlined above.

Yeah that makes sense. For non-feedback issues I would even suggest ~6
months since 3 months is not even a full development cycle. My main
concern was whether this is possible at all with the current state of
probot-stale to have different rules for issues and pull requests (or
even different rules for different labels of issues).


> And then for feature requests, I'd love to see stale bot posting a
> message hinting to the reporter that the work could be sponsored, and
> adding a gdal-style "needs funding" label automatically. We could
> safely bulk-apply this to all open feature requests (including qgip
> filed ones) older than say 1 or 2 months (we'd want to keep the
> timeout short enough that the original poster doesn't just move on).

Not sure how I like automatic addition of "needs funding" label. If
someone has a good idea and just wants to share it with others, adding
this label may deter people from adding more feature requests...?

Cheers
Martin

From cavallini at faunalia.it  Fri May 31 02:03:51 2019
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 31 May 2019 11:03:51 +0200
Subject: [QGIS-Developer] Clear exception messages in algorithms
In-Reply-To: <CAExk7p2=n98j9iKBv0jT=6Pp7UyfoAEfaT5BF0VWjFUvz8mrVQ@mail.gmail.com>
References: <CAExk7p3jSP0Q0pA1iCYTOcG8xrVAt6dtSQNYDB3bFTGk+nn-Aw@mail.gmail.com>
 <CAB28Asjqh8iNjjFssUOe4NKokaqPLCfdsJChbV+BXME3KxWzPA@mail.gmail.com>
 <CAExk7p2=n98j9iKBv0jT=6Pp7UyfoAEfaT5BF0VWjFUvz8mrVQ@mail.gmail.com>
Message-ID: <28cc6bdc-beb1-dc8e-9b78-9de64ae5e52a@faunalia.it>

Hi Olivier,

On 31/05/19 00:31, Olivier Dalang wrote:
> Thanks Nyall !
> 
> Maybe we could keep the log tab as is, but by default show another more
> user-friendly "output" tab, which would just show the progress bar and
> simple success/error messages (without trace). On error, the user would
> be invited to inspect the log tab to see more details.
> 
> I'd find this really nice, as the processing toolbox is becoming more
> and more central to QGIS, and the log tab is quite scary to look at even
> when everything works fine :-)
> 
> If we agree on this, I can open a feature request (and will see if I can
> get resources to work on a PR somehow...)

agreed fully, now it's too scary for normal users.
Merci Olivier.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS.ORG Chair:
http://planet.qgis.org/planet/user/28/tag/qgis%20board/

From strk at kbt.io  Fri May 31 11:31:28 2019
From: strk at kbt.io (Sandro Santilli)
Date: Fri, 31 May 2019 20:31:28 +0200
Subject: [QGIS-Developer] Issues ID mapping (was: Post github issues
 migration clean ups - some proposals)
In-Reply-To: <20190530232909.tk4wa7uv2g7ijouc@norbit.de>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CAB28Ash0LsvySxDd0fwXTy0OrwWwCWfHTb3ueebKHpVCSZJUTQ@mail.gmail.com>
 <20190530073652.GB7030@liz>
 <a7b78577-9315-8a27-4aae-8c77393f05bd@di.uminho.pt>
 <20190530232909.tk4wa7uv2g7ijouc@norbit.de>
Message-ID: <20190531183128.GB16788@liz>

On Fri, May 31, 2019 at 01:29:09AM +0200, Jürgen E. Fischer wrote:
> BTW redmine now redirects commit links to the corresponding github page.

Uhm.. this is not always correct for old references, right ?

--strk;

From strk at kbt.io  Fri May 31 11:32:32 2019
From: strk at kbt.io (Sandro Santilli)
Date: Fri, 31 May 2019 20:32:32 +0200
Subject: [QGIS-Developer] Issues ID mapping (was: Post github issues
 migration clean ups - some proposals)
In-Reply-To: <20190530235548.cvbpunkb5dvyv6m7@norbit.de>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CAB28Ash0LsvySxDd0fwXTy0OrwWwCWfHTb3ueebKHpVCSZJUTQ@mail.gmail.com>
 <20190530073652.GB7030@liz>
 <20190530235548.cvbpunkb5dvyv6m7@norbit.de>
Message-ID: <20190531183232.GA18095@liz>

On Fri, May 31, 2019 at 01:55:48AM +0200, Jürgen E. Fischer wrote:
> Hi Sandro,
> 
> On Thu, 30. May 2019 at 09:36:52 +0200, Sandro Santilli wrote:
> > You can see the commit log references #30003 issue number.
> > Gitea was configured to transform that into a link to issues.qgis.org,
> > but such link is a "not found" page:
> > 
> >   https://issues.qgis.org/issues/30003
> 
> You can use https://issues.qgis.org/github/30003 now - that will take you to
> the corresponding github ticket if there is a match or otherwise just the
> github ticket with that number.

It gives me a 404 at the moment  (kind of, it tells me
"The page you were trying to access doesn't exist or has been removed.")

How did you implement it  ?

--strk;

From jef at norbit.de  Fri May 31 13:33:11 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Fri, 31 May 2019 22:33:11 +0200
Subject: [QGIS-Developer] Issues ID mapping (was: Post github issues
 migration clean ups - some proposals)
In-Reply-To: <20190531183128.GB16788@liz>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CAB28Ash0LsvySxDd0fwXTy0OrwWwCWfHTb3ueebKHpVCSZJUTQ@mail.gmail.com>
 <20190530073652.GB7030@liz>
 <a7b78577-9315-8a27-4aae-8c77393f05bd@di.uminho.pt>
 <20190530232909.tk4wa7uv2g7ijouc@norbit.de>
 <20190531183128.GB16788@liz>
Message-ID: <20190531203311.r22myluv3ph6d3zf@norbit.de>

On Fri, 31. May 2019 at 20:31:28 +0200, Sandro Santilli wrote:
> On Fri, May 31, 2019 at 01:29:09AM +0200, Jürgen E. Fischer wrote:
> > BTW redmine now redirects commit links to the corresponding github page.
> 
> Uhm.. this is not always correct for old references, right ?

sure it is - the commit SHAs didn't change - it's git not github ;)


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190531/5fd388f9/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190531/5fd388f9/attachment.ksh>

From jef at norbit.de  Fri May 31 13:35:37 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Fri, 31 May 2019 22:35:37 +0200
Subject: [QGIS-Developer] Issues ID mapping (was: Post github issues
 migration clean ups - some proposals)
In-Reply-To: <20190531183232.GA18095@liz>
References: <CAB28Ash45crN6vZ9oDC=YeVf7cYo6hifP3bU9C0XGcTYvoZcQQ@mail.gmail.com>
 <CAB28Ash0LsvySxDd0fwXTy0OrwWwCWfHTb3ueebKHpVCSZJUTQ@mail.gmail.com>
 <20190530073652.GB7030@liz>
 <20190530235548.cvbpunkb5dvyv6m7@norbit.de>
 <20190531183232.GA18095@liz>
Message-ID: <20190531203537.ogy4ijndzgccssz4@norbit.de>

Hi Sandro,

On Fri, 31. May 2019 at 20:32:32 +0200, Sandro Santilli wrote:
> It gives me a 404 at the moment  (kind of, it tells me
> "The page you were trying to access doesn't exist or has been removed.")

odd, works here. 

> How did you implement it  ?

RewriteMap


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden            https://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190531/afefd3d8/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20190531/afefd3d8/attachment.ksh>

