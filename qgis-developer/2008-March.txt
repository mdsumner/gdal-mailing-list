From marco.hugentobler at karto.baug.ethz.ch  Sat Mar  1 11:29:26 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Sat Mar  1 11:29:28 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>
Message-ID: <200803011729.27055.marco.hugentobler@karto.baug.ethz.ch>

Hi Martin and others,

I'd like to come back to the composer redesign idea. I'd prefer to do the 
redesign in steps, so not all three things at once. Just because it's easier 
to get started and more motivating if the changes can be merged back to trunk 
soon. As you already wrote, the first step (map rendering context) would be 
basically a rearrangement of arguments. And in my opinion, it could already 
solve some of the most basic problems: 

-possibility to stop map rendering
-difference between resolution of output device could be a member of map 
rendering context (e.g. ratio of resolution between screen and current device 
in x- and y- direction)

> - improve renderers' interface so that renderer itself will do the
> drawing (instead of letting QgsVectorLayer do the real drawing). This
> will help renderer to decide whether to draw and cache pixmaps
> depending on the rendering context (i.e. drawing to a pixmap or
> drawing to vector output). Moreover this will enable clean
> implementation of advanced renderers like drawing arrows etc.

I like this too. As I see it, it would involve many changes to all the 
renderer classes, the dialogs and also the project file. Would you mind if we 
do these changes in the longer term, or at least after step1 has been merged 
to trunk?

>- separate map composer frontend and backend, so the backend will be
>moved to core library and could be used in plugins / 3rd party apps

I also like this idea. What functionality of the print composer would you like 
to see in core?
The composer (or parts of it) could also be moved to gui such that plugins 
have access to the composer dialog (or to parts of it).

Regards,
Marco

Am Montag 11 Februar 2008 19:14:58 schrieb Martin Dobias:
> Guys,
>
> when talking about improvements with composer, what are your plans -
> do the changes as small as possible or are you open for some more
> improvements? Generally I'd like to see these features:
> - introduce "map rendering context" which will contain information
> about rendering (we've talked about that already on the list)
> - improve renderers' interface so that renderer itself will do the
> drawing (instead of letting QgsVectorLayer do the real drawing). This
> will help renderer to decide whether to draw and cache pixmaps
> depending on the rendering context (i.e. drawing to a pixmap or
> drawing to vector output). Moreover this will enable clean
> implementation of advanced renderers like drawing arrows etc.
> - separate map composer frontend and backend, so the backend will be
> moved to core library and could be used in plugins / 3rd party apps
>
> If you like these things (or at least some of them :-) I'll be happy
> to cooperate.
>
> Regards
> Martin



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From wonder.sk at gmail.com  Sat Mar  1 13:16:59 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Mar  1 13:17:05 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <200803011729.27055.marco.hugentobler@karto.baug.ethz.ch>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<e8e7199c0802111014u6151d0b0ge2d5998aa2755e5e@mail.gmail.com>
	<200803011729.27055.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <e8e7199c0803011016n6025f8a0kf603fa45e2e990b5@mail.gmail.com>

Hi Marco!

On Sat, Mar 1, 2008 at 5:29 PM, Marco Hugentobler
<marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi Martin and others,
>
>  I'd like to come back to the composer redesign idea. I'd prefer to do the
>  redesign in steps, so not all three things at once. Just because it's easier
>  to get started and more motivating if the changes can be merged back to trunk
>  soon. As you already wrote, the first step (map rendering context) would be
>  basically a rearrangement of arguments. And in my opinion, it could already
>  solve some of the most basic problems:
>
>  -possibility to stop map rendering
>  -difference between resolution of output device could be a member of map
>  rendering context (e.g. ratio of resolution between screen and current device
>  in x- and y- direction)

You're right, probably doing the changes in iterations will be a
better deal than creating a huge set of changes and then waiting long
time until it gets merged. So I agree with creating rendering context
first, merging it back to trunk and then to start thinking of more
advanced topics.


>  > - improve renderers' interface so that renderer itself will do the
>  > drawing (instead of letting QgsVectorLayer do the real drawing). This
>  > will help renderer to decide whether to draw and cache pixmaps
>  > depending on the rendering context (i.e. drawing to a pixmap or
>  > drawing to vector output). Moreover this will enable clean
>  > implementation of advanced renderers like drawing arrows etc.
>
>  I like this too. As I see it, it would involve many changes to all the
>  renderer classes, the dialogs and also the project file. Would you mind if we
>  do these changes in the longer term, or at least after step1 has been merged
>  to trunk?

Yes, it makes sense!


>  >- separate map composer frontend and backend, so the backend will be
>  >moved to core library and could be used in plugins / 3rd party apps
>
>  I also like this idea. What functionality of the print composer would you like
>  to see in core?
>  The composer (or parts of it) could also be moved to gui such that plugins
>  have access to the composer dialog (or to parts of it).

I'd like to have a good map printing platform in core library :-)
It should be as flexible as possible, while being easy to use: create
map composer object, give it a set of layers, tell it how to lay out
the page(s) - manually or using templates and being able to do output
to printer, pdf, svg, png etc.
I can see this change also in several steps:
- separation of backend from current implementation of map composer to
core library
- addition of more functionality like loading / saving of templates,
set of default templates etc.
- making map composer gui available in gui library

Regards
Martin
From marco.hugentobler at karto.baug.ethz.ch  Mon Mar  3 11:45:35 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon Mar  3 11:45:23 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <e8e7199c0803011016n6025f8a0kf603fa45e2e990b5@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<200803011729.27055.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0803011016n6025f8a0kf603fa45e2e990b5@mail.gmail.com>
Message-ID: <200803031745.36049.marco.hugentobler@karto.baug.ethz.ch>

Hi Martin,

So my suggestion is to have the rendering context somehow like this:

class QgsMapRenderContext
{
	QgsMapToPixel mMapToPixel;
	QgsCoordinateTransform mCoordTransform;
	QgsRect mExtent;
	bool drawEditingInformation;
	bool mRenderingStopped;
	double mResolutionRatio;
}; 

The resolution ratio is usually 1, except when drawing to a different paint 
device (like QPrinter). I hope it will allow to consider for different line 
width / symbol sizes on these output devices.

> I'd like to have a good map printing platform in core library :-)
> It should be as flexible as possible, while being easy to use: create
> map composer object, give it a set of layers, tell it how to lay out
> the page(s) - manually or using templates and being able to do output
> to printer, pdf, svg, png etc.
> I can see this change also in several steps:
> - separation of backend from current implementation of map composer to
> core library
> - addition of more functionality like loading / saving of templates,
> set of default templates etc.
> - making map composer gui available in gui library

Maybe QgsComposerView (derived from QGraphicsView) could go to gui and the 
composer items to core? Then client applications (or some interface component 
in core) could arrange the items and call QGraphicsScene::render.

Regards,
Marco

Am Samstag 01 M?rz 2008 19:16:59 schrieb Martin Dobias:
> Hi Marco!
>
> On Sat, Mar 1, 2008 at 5:29 PM, Marco Hugentobler
>
> <marco.hugentobler@karto.baug.ethz.ch> wrote:
> > Hi Martin and others,
> >
> >  I'd like to come back to the composer redesign idea. I'd prefer to do
> > the redesign in steps, so not all three things at once. Just because it's
> > easier to get started and more motivating if the changes can be merged
> > back to trunk soon. As you already wrote, the first step (map rendering
> > context) would be basically a rearrangement of arguments. And in my
> > opinion, it could already solve some of the most basic problems:
> >
> >  -possibility to stop map rendering
> >  -difference between resolution of output device could be a member of map
> >  rendering context (e.g. ratio of resolution between screen and current
> > device in x- and y- direction)
>
> You're right, probably doing the changes in iterations will be a
> better deal than creating a huge set of changes and then waiting long
> time until it gets merged. So I agree with creating rendering context
> first, merging it back to trunk and then to start thinking of more
> advanced topics.
>
> >  > - improve renderers' interface so that renderer itself will do the
> >  > drawing (instead of letting QgsVectorLayer do the real drawing). This
> >  > will help renderer to decide whether to draw and cache pixmaps
> >  > depending on the rendering context (i.e. drawing to a pixmap or
> >  > drawing to vector output). Moreover this will enable clean
> >  > implementation of advanced renderers like drawing arrows etc.
> >
> >  I like this too. As I see it, it would involve many changes to all the
> >  renderer classes, the dialogs and also the project file. Would you mind
> > if we do these changes in the longer term, or at least after step1 has
> > been merged to trunk?
>
> Yes, it makes sense!
>
> >  >- separate map composer frontend and backend, so the backend will be
> >  >moved to core library and could be used in plugins / 3rd party apps
> >
> >  I also like this idea. What functionality of the print composer would
> > you like to see in core?
> >  The composer (or parts of it) could also be moved to gui such that
> > plugins have access to the composer dialog (or to parts of it).
>
> I'd like to have a good map printing platform in core library :-)
> It should be as flexible as possible, while being easy to use: create
> map composer object, give it a set of layers, tell it how to lay out
> the page(s) - manually or using templates and being able to do output
> to printer, pdf, svg, png etc.
> I can see this change also in several steps:
> - separation of backend from current implementation of map composer to
> core library
> - addition of more functionality like loading / saving of templates,
> set of default templates etc.
> - making map composer gui available in gui library
>
> Regards
> Martin



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From marco.hugentobler at karto.baug.ethz.ch  Mon Mar  3 12:05:01 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon Mar  3 12:04:46 2008
Subject: [Qgis-developer] Re: [Qgis-user] vector editing in QGIS - questions
	and issues (PostGIS biased)
In-Reply-To: <47C85471.9050809@o2.pl>
References: <47C5DD62.5050408@o2.pl>
	<200802291012.52480.marco.hugentobler@karto.baug.ethz.ch>
	<47C85471.9050809@o2.pl>
Message-ID: <200803031805.01360.marco.hugentobler@karto.baug.ethz.ch>

Hi Maciej

> > Issue 2:  a) Could be a bug, I have to check that.
> >
> > b) Possibly qgis makes a polygon during intersection removal where
> > postgis enforces a multipolygon.
>
> Should QGIS enforce *polygon* then, instead of obeying the layer's
> *multipolygon* geometry type? I think it shouldn't.

I also think so. 
Internally, qgis makes a polygon first, but it should make a multipolygon 
consisting of one polygon if the layer type is multipolygon.

> But no layer in the project has the individual snapping set - no layer
> is checked in the "Project Properties>Snapping options"! The default,
> QGIS-wide snapping setting should take effect for layers which don't
> have an individual snapping set - but it doesn't. This does look like a
> bug to me. If it isn't, what is the point of default project-independent
> snapping setting?

Ok, I see what you mean. In the snapping dialog of the project should be 
inserted the default snapping settings (which is snapping to the active layer 
with the default snapping tolerance) in case the snapping dialog was not 
changed already. Otherwise, if a user changes any project property and clicks 
ok, the snapping will be off for all layers.

I don't think that unchecked layers should automatically have the default 
snapping tolerance. Because it is possible that a user don't want to snap to 
some layers at all.

Regards,
Marco



Am Freitag 29 Februar 2008 19:52:33 schrieb Maciej Sieczka:
> Hi Marco
>
> Marco Hugentobler pisze:
> >  The option "Enable topological editing" is for editing and maintaining
> > common boundaries in polygon mosaics. If you enable it and move boundary
> > vertices afterwards, it should be moved for all adjacent polygons.
> > Similar for insertion of new feature, delete vertex, add vertex and even
> > split feature.
> >
> > The option "Avoid intersection of new polygons" is to quickly digitise
> > adjacent polygons. If you already have one polygon, it is possible with
> > this option to digitise the second one such that both intersect and qgis
> > then cuts the second polygon to the common boundary. The advantage is
> > that users don't have to digitize all vertices of the common boundary.
> >
> > The 'search radius for vertex edits' is important if you move/add/delete
> > vertex. It is the distance from the click point where qgis looks for the
> > nearest matching vertex
>
> Cool. Thanks for clarifying these.
>
> > Issue 1: The default snapping tolerance applies to the current layer if
> > nothing has been saved into the project. As soon as you press 'apply' in
> > the project properties, qgis takes the (more detailed) project settings
> > which can be differentiated by layer. So this is a feature, not a bug :-)
>
> But no layer in the project has the individual snapping set - no layer
> is checked in the "Project Properties>Snapping options"! The default,
> QGIS-wide snapping setting should take effect for layers which don't
> have an individual snapping set - but it doesn't. This does look like a
> bug to me. If it isn't, what is the point of default project-independent
> snapping setting?
>
> > Issue 2:  a) Could be a bug, I have to check that.
> >
> > b) Possibly qgis makes a polygon during intersection removal where
> > postgis enforces a multipolygon.
>
> Should QGIS enforce *polygon* then, instead of obeying the layer's
> *multipolygon* geometry type? I think it shouldn't.
>
> Maciek



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From cdavilam at jemila.jazztel.es  Mon Mar  3 12:13:31 2008
From: cdavilam at jemila.jazztel.es (=?ISO-8859-1?Q?Carlos_D=E1vila?=)
Date: Mon Mar  3 12:13:15 2008
Subject: [Qgis-developer] Problem with python bindings
In-Reply-To: <e8e7199c0803011100y780d8472g808a09dba42176ff@mail.gmail.com>
References: <47C4527F.4020906@jemila.jazztel.es>	
	<e8e7199c0802261031x167cdab9u734f3c1718ea2f86@mail.gmail.com>	
	<47C82F53.6040505@jemila.jazztel.es>
	<e8e7199c0803011100y780d8472g808a09dba42176ff@mail.gmail.com>
Message-ID: <47CC31BB.7010501@jemila.jazztel.es>

Martin Dobias escribi?:
> On Fri, Feb 29, 2008 at 5:14 PM, Carlos D?vila
> <cdavilam@jemila.jazztel.es> wrote:
>   
>>  First of all, sorry for the delay in my answer, but until this morning I
>>  had no opportunity to test. As you suggested, I needed python-qt4-dev
>>  package. Now configure is right, but I get an error on make: unable to
>>  find /qgis/python/core/core.sbf. I think this file should be generated
>>  by make, but for any reason it is not. New suggestions?
>>     
>
> Make also sure that you have installed sip4 package.
>   
I have installed sip4, python-sip4 and python-sip4-dev packages, but it
doesn't work. I have the same packages in another machine where it works
fine.
> I would suggest you to try to make a clean build...
I had already done it, but with no results.
Regards
Carlos
From wonder.sk at gmail.com  Mon Mar  3 20:06:49 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Mar  3 20:06:53 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <200803031745.36049.marco.hugentobler@karto.baug.ethz.ch>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<200803011729.27055.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0803011016n6025f8a0kf603fa45e2e990b5@mail.gmail.com>
	<200803031745.36049.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <e8e7199c0803031706r56d7cdbwbc9f957e411a986d@mail.gmail.com>

On Mon, Mar 3, 2008 at 5:45 PM, Marco Hugentobler
<marco.hugentobler@karto.baug.ethz.ch> wrote:
>  So my suggestion is to have the rendering context somehow like this:
>
>  class QgsMapRenderContext
>  {
>         QgsMapToPixel mMapToPixel;
>         QgsCoordinateTransform mCoordTransform;
>         QgsRect mExtent;
>         bool drawEditingInformation;
>         bool mRenderingStopped;
>         double mResolutionRatio;
>  };

Yes, something like that should do it...
We should also include a member like "force vector output" which will
tell to renderer whether it can use just a rendered pixmap of a symbol
or whether it should render the symbol directly - this is where map
composer is failing.

>  The resolution ratio is usually 1, except when drawing to a different paint
>  device (like QPrinter). I hope it will allow to consider for different line
>  width / symbol sizes on these output devices.

When looking at QgsVectorLayer::draw(), there's symbolScale and
widthScale... are both of them covered by mResolutionRatio?

>  Maybe QgsComposerView (derived from QGraphicsView) could go to gui and the
>  composer items to core? Then client applications (or some interface component
>  in core) could arrange the items and call QGraphicsScene::render.

I haven't got so far with the planning... I was more thinking of
making the composer items independent of any GUI parts, also the
graphics view related parts and wanted to create their counterparts in
GUI library for graphics view. I haven't realized that we could use
just graphics scene and graphics items in core library and having the
graphics view in gui library. Your idea sounds better.

Bye
Martin
From tutey at o2.pl  Tue Mar  4 03:29:59 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Tue Mar  4 03:30:14 2008
Subject: [Qgis-developer] Re: [Qgis-user] vector editing in QGIS - questions
 and issues (PostGIS biased)
In-Reply-To: <200803031805.01360.marco.hugentobler@karto.baug.ethz.ch>
References: <47C5DD62.5050408@o2.pl>
	<200802291012.52480.marco.hugentobler@karto.baug.ethz.ch>
	<47C85471.9050809@o2.pl>
	<200803031805.01360.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47CD0887.40401@o2.pl>

Marco Hugentobler pisze:
 > Maciek wrote:
 >> Marco wrote:

>>> Issue 2:  a) Could be a bug, I have to check that.
>>>
>>> b) Possibly qgis makes a polygon during intersection removal where
>>> postgis enforces a multipolygon.

>> Should QGIS enforce *polygon* then, instead of obeying the layer's
>> *multipolygon* geometry type? I think it shouldn't.

> I also think so. 
> Internally, qgis makes a polygon first, but it should make a multipolygon 
> consisting of one polygon if the layer type is multipolygon.

OK. Shall I fill a report? Same as for other issues we agree they are 
bugs in this thread?

>> But no layer in the project has the individual snapping set - no layer
>> is checked in the "Project Properties>Snapping options"! The default,
>> QGIS-wide snapping setting should take effect for layers which don't
>> have an individual snapping set - but it doesn't. This does look like a
>> bug to me. If it isn't, what is the point of default project-independent
>> snapping setting?

Before you read on: NOTICE - I'm assuming that snapping = 0 is no 
different than snapping "disabled". Is this correct? If it is, maybe it 
would be better to remove the snapping checkbox for layers and use 
spinbox with numbers only to simplify the dialog?

> Ok, I see what you mean. In the snapping dialog of the project should be 
> inserted the default snapping settings (which is snapping to the active layer 
> with the default snapping tolerance) in case the snapping dialog was not 
> changed already.

Yes.

> Otherwise, if a user changes any project property and clicks 
> ok, the snapping will be off for all layers.

I think differently. As long as default QGIS-wide snapping is !=0, all 
layers which don't have inddividual setting set by the user, should have 
snapping set on equal to default setting - unless the user manually 
disables snapping for the given layer.

> I don't think that unchecked layers should automatically have the default 
> snapping tolerance.

Then what is the point of default snapping setting at all? Look - as 
long as you don't enter project properties and click OK, the default 
QGIS snapping is on for all layers in the project. Once you go to 
project props. and click OK, all snapping is suddenly disabled, although 
you did not modify any setting related to snapping. Imagine a user 
trying to guess what happened.

Note also that this was different in QGIS before introducing individual 
snapping setting per layer. You only had the QGIS-wide snapping setting, 
which was always active, for all layers. Now as soon as you go to 
project settings for whatever reason and press OK that snapping is 
disabled. This should be avoided.

> Because it is possible that a user don't want to snap to 
> some layers at all.

The user can disable snapping for a certain layer, if he needs to.

Another thing - IMO users more often need snapping than they don't. Help 
users not to digitize overlapping features by default, eg. promote using 
snapping rather than not using it. I'd be also in favor of enabling the 
QGIS "topological editing" feature by default.

What I hate most in GIS are all those overlapping polygons and lines 
which I have to tediously correct topology for, re-calculate their area 
and length, explain the vendor what is wrong about his data. Please 
promote topological practices.

Maciek
From wonder.sk at gmail.com  Tue Mar  4 07:07:28 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Mar  4 07:07:30 2008
Subject: [Qgis-developer] Problem with python bindings
In-Reply-To: <47CC31BB.7010501@jemila.jazztel.es>
References: <47C4527F.4020906@jemila.jazztel.es>
	<e8e7199c0802261031x167cdab9u734f3c1718ea2f86@mail.gmail.com>
	<47C82F53.6040505@jemila.jazztel.es>
	<e8e7199c0803011100y780d8472g808a09dba42176ff@mail.gmail.com>
	<47CC31BB.7010501@jemila.jazztel.es>
Message-ID: <e8e7199c0803040407t2f9f8a90ofca2b5b8c177fbee@mail.gmail.com>

On Mon, Mar 3, 2008 at 6:13 PM, Carlos D?vila
<cdavilam@jemila.jazztel.es> wrote:
> Martin Dobias escribi?:
>
> > On Fri, Feb 29, 2008 at 5:14 PM, Carlos D?vila
>  > <cdavilam@jemila.jazztel.es> wrote:
>  >
>  >>  First of all, sorry for the delay in my answer, but until this morning I
>  >>  had no opportunity to test. As you suggested, I needed python-qt4-dev
>  >>  package. Now configure is right, but I get an error on make: unable to
>  >>  find /qgis/python/core/core.sbf. I think this file should be generated
>  >>  by make, but for any reason it is not. New suggestions?
>  >>
>  >
>  > Make also sure that you have installed sip4 package.
>  >
>  I have installed sip4, python-sip4 and python-sip4-dev packages, but it
>  doesn't work. I have the same packages in another machine where it works
>  fine.
>
> > I would suggest you to try to make a clean build...
>  I had already done it, but with no results.

Can you tak a look to the python/core and python/gui directories in
the svn checkout? Do you see only .sip files or are there also
core.sbf resp. gui.sbf files?

Martin
From marco.hugentobler at karto.baug.ethz.ch  Tue Mar  4 10:01:23 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Tue Mar  4 10:01:06 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <e8e7199c0803031706r56d7cdbwbc9f957e411a986d@mail.gmail.com>
References: <255b57430802101259r1f4e12a5vc26cef716ac41d1f@mail.gmail.com>
	<200803031745.36049.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0803031706r56d7cdbwbc9f957e411a986d@mail.gmail.com>
Message-ID: <200803041601.23859.marco.hugentobler@karto.baug.ethz.ch>

Am Dienstag 04 M?rz 2008 02:06:49 schrieb Martin Dobias:
> On Mon, Mar 3, 2008 at 5:45 PM, Marco Hugentobler
>
> <marco.hugentobler@karto.baug.ethz.ch> wrote:
> >  So my suggestion is to have the rendering context somehow like this:
> >
> >  class QgsMapRenderContext
> >  {
> >         QgsMapToPixel mMapToPixel;
> >         QgsCoordinateTransform mCoordTransform;
> >         QgsRect mExtent;
> >         bool drawEditingInformation;
> >         bool mRenderingStopped;
> >         double mResolutionRatio;
> >  };
>
> Yes, something like that should do it...
> We should also include a member like "force vector output" which will
> tell to renderer whether it can use just a rendered pixmap of a symbol
> or whether it should render the symbol directly - this is where map
> composer is failing.

A possibility would be to force  vector output if mResolution is != 1.0. But 
it may be better to make that explicitly and not depending on resolution as 
you suggest.

>
> >  The resolution ratio is usually 1, except when drawing to a different
> > paint device (like QPrinter). I hope it will allow to consider for
> > different line width / symbol sizes on these output devices.
>
> When looking at QgsVectorLayer::draw(), there's symbolScale and
> widthScale... are both of them covered by mResolutionRatio?

I'm not sure. In principle, one should be enough for symbol and width scaling 
as both are dependent on resolutions.


So I'm waiting a few days for any further input or objections, then I'm going 
to create the branch.

cheers,
Marco




-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From marco.hugentobler at karto.baug.ethz.ch  Tue Mar  4 10:58:10 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Tue Mar  4 10:57:50 2008
Subject: [Qgis-developer] Re: [Qgis-user] vector editing in QGIS - questions
	and issues (PostGIS biased)
In-Reply-To: <47CD2DAA.4020600@arava.co.il>
References: <47C5DD62.5050408@o2.pl> <47CD0887.40401@o2.pl>
	<47CD2DAA.4020600@arava.co.il>
Message-ID: <200803041658.10819.marco.hugentobler@karto.baug.ethz.ch>

Hi,

I changed the behaviour now such that the snapping settings is only changed if 
the user really opened the project snapping dialog and clicked 'ok'.

I'm quite open to suggestions about what reasonable defaults should be (this 
was the main point of our discussion below). Possibilities are:

- snap to editing layer with default tolerance but not to background layers. 
This is the current default and the suggestion of Micha. 
And it's the same as the behaviour prior to the merge of the advanced editing 
branch (it was not possible then to snap to background layers)

- snap to all vector layers using default snapping tolerance. This was what 
Maciej suggested below.


>I'd be also in favor
>of enabling the QGIS "topological editing" feature by default.

+1

cheers,
Marco



Am Dienstag 04 M?rz 2008 12:08:26 schrieb Micha Silver:
> Maciej Sieczka wrote:
> > Marco Hugentobler pisze:
> > > Maciek wrote:
> > >> Marco wrote:
> >
> > Before you read on: NOTICE - I'm assuming that snapping = 0 is no
> > different than snapping "disabled". Is this correct? If it is, maybe
> > it would be better to remove the snapping checkbox for layers and use
> > spinbox with numbers only to simplify the dialog?
> >
> >> Ok, I see what you mean. In the snapping dialog of the project should
> >> be inserted the default snapping settings (which is snapping to the
> >> active layer with the default snapping tolerance) in case the
> >> snapping dialog was not changed already.
> >
> > Yes.
> >
> >> Otherwise, if a user changes any project property and clicks ok, the
> >> snapping will be off for all layers.
> >
> > I think differently. As long as default QGIS-wide snapping is !=0, all
> > layers which don't have inddividual setting set by the user, should
> > have snapping set on equal to default setting - unless the user
> > manually disables snapping for the given layer.
> >
> >> I don't think that unchecked layers should automatically have the
> >> default snapping tolerance.
> >
> > Then what is the point of default snapping setting at all? Look - as
> > long as you don't enter project properties and click OK, the default
> > QGIS snapping is on for all layers in the project. Once you go to
> > project props. and click OK, all snapping is suddenly disabled,
> > although you did not modify any setting related to snapping. Imagine a
> > user trying to guess what happened.
>
> In the kind of jobs I do, and what I can imagine others do, I would NOT
> want snapping automatically to all layers, but only the one layer I have
> set to snap. Maybe, as you suggest, there should not be any default
> project snapping setting at all, now that we have snapping for
> individual layers.
>
> > Note also that this was different in QGIS before introducing
> > individual snapping setting per layer. You only had the QGIS-wide
> > snapping setting, which was always active, for all layers. Now as soon
> > as you go to project settings for whatever reason and press OK that
> > snapping is disabled. This should be avoided.
> >
> >> Because it is possible that a user don't want to snap to some layers
> >> at all.
> >
> > The user can disable snapping for a certain layer, if he needs to.
> >
> > Another thing - IMO users more often need snapping than they don't.
> > Help users not to digitize overlapping features by default, eg.
> > promote using snapping rather than not using it. I'd be also in favor
> > of enabling the QGIS "topological editing" feature by default.
> >
> > What I hate most in GIS are all those overlapping polygons and lines
> > which I have to tediously correct topology for, re-calculate their
> > area and length, explain the vendor what is wrong about his data.
> > Please promote topological practices.
> >
> > Maciek
> > _______________________________________________
> > Qgis-user mailing list
> > Qgis-user@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-user
> >
> >
> >
> > This mail was sent via Kinneret Mail-SeCure System.



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From botsnlinux at gmail.com  Tue Mar  4 11:26:08 2008
From: botsnlinux at gmail.com (Steven Bell)
Date: Tue Mar  4 11:26:15 2008
Subject: [Qgis-developer] Re: composer redesign branch
Message-ID: <255b57430803040826h401fb288ocf67ba413259eac@mail.gmail.com>

>
> So my suggestion is to have the rendering context somehow like this:
>
> class QgsMapRenderContext
> {
>        QgsMapToPixel mMapToPixel;
>        QgsCoordinateTransform mCoordTransform;
>        QgsRect mExtent;
>        bool drawEditingInformation;
>        bool mRenderingStopped;
>        double mResolutionRatio;
> };
>
> The resolution ratio is usually 1, except when drawing to a different
> paint
> device (like QPrinter). I hope it will allow to consider for different
> line
> width / symbol sizes on these output devices.


>From what I understand, QgsMapToPixel basically holds the information that
mResolutionRatio would contain.

Martin already mentioned this, but the rendering context needs to have some
way to tell the renderer whether to use maximum-resolution vector ouput or
cached pixmaps.  I would also add something about what the output units are,
whether pixels or millimeters.  Both of the above might be done together
with an "are we printing to ps/pdf/svg" bool.

I would remove symbolScale and widthScale in favor of defining the widths in
terms of concrete units, whether pixels, millimeters, or map units.  This is
what I have attempted to do in the current composer_redesign code.
One of the major problems is that printed millimeters are treated as the
same as screen pixels, rather than a separate but similar type of
measurement.

I hope this makes sense.  Let me know if I need to clarify anything.
Steven
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080304/1b6acdbc/attachment.html
From cdavilam at jemila.jazztel.es  Tue Mar  4 11:49:09 2008
From: cdavilam at jemila.jazztel.es (=?ISO-8859-1?Q?Carlos_D=E1vila?=)
Date: Tue Mar  4 11:48:49 2008
Subject: [Qgis-developer] Problem with python bindings
In-Reply-To: <e8e7199c0803040407t2f9f8a90ofca2b5b8c177fbee@mail.gmail.com>
References: <47C4527F.4020906@jemila.jazztel.es>	
	<e8e7199c0802261031x167cdab9u734f3c1718ea2f86@mail.gmail.com>	
	<47C82F53.6040505@jemila.jazztel.es>	
	<e8e7199c0803011100y780d8472g808a09dba42176ff@mail.gmail.com>	
	<47CC31BB.7010501@jemila.jazztel.es>
	<e8e7199c0803040407t2f9f8a90ofca2b5b8c177fbee@mail.gmail.com>
Message-ID: <47CD7D85.8090806@jemila.jazztel.es>

Martin Dobias escribi?:
> On Mon, Mar 3, 2008 at 6:13 PM, Carlos D?vila
> <cdavilam@jemila.jazztel.es> wrote:
>   
>> Martin Dobias escribi?:
>>
>>     
>>> On Fri, Feb 29, 2008 at 5:14 PM, Carlos D?vila
>>>       
>>  > <cdavilam@jemila.jazztel.es> wrote:
>>  >
>>  >>  First of all, sorry for the delay in my answer, but until this morning I
>>  >>  had no opportunity to test. As you suggested, I needed python-qt4-dev
>>  >>  package. Now configure is right, but I get an error on make: unable to
>>  >>  find /qgis/python/core/core.sbf. I think this file should be generated
>>  >>  by make, but for any reason it is not. New suggestions?
>>  >>
>>  >
>>  > Make also sure that you have installed sip4 package.
>>  >
>>  I have installed sip4, python-sip4 and python-sip4-dev packages, but it
>>  doesn't work. I have the same packages in another machine where it works
>>  fine.
>>
>>     
>>> I would suggest you to try to make a clean build...
>>>       
>>  I had already done it, but with no results.
>>     
>
> Can you tak a look to the python/core and python/gui directories in
> the svn checkout? Do you see only .sip files or are there also
> core.sbf resp. gui.sbf files?
>   
Only .sip files in both directories.
From cdavilam at jemila.jazztel.es  Tue Mar  4 12:24:15 2008
From: cdavilam at jemila.jazztel.es (=?ISO-8859-2?Q?Carlos_D=E1vila?=)
Date: Tue Mar  4 12:23:54 2008
Subject: [Qgis-developer] Re: [Qgis-user] vector editing in QGIS -
	questions and issues (PostGIS biased)
In-Reply-To: <200803041658.10819.marco.hugentobler@karto.baug.ethz.ch>
References: <47C5DD62.5050408@o2.pl>
	<47CD0887.40401@o2.pl>	<47CD2DAA.4020600@arava.co.il>
	<200803041658.10819.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47CD85BF.7030409@jemila.jazztel.es>

Marco Hugentobler escribi?:
> Hi,
>
> I changed the behaviour now such that the snapping settings is only changed if 
> the user really opened the project snapping dialog and clicked 'ok'.
>
> I'm quite open to suggestions about what reasonable defaults should be (this 
> was the main point of our discussion below). Possibilities are:
>
> - snap to editing layer with default tolerance but not to background layers. 
> This is the current default and the suggestion of Micha. 
> And it's the same as the behaviour prior to the merge of the advanced editing 
> branch (it was not possible then to snap to background layers)
>
> - snap to all vector layers using default snapping tolerance. This was what 
> Maciej suggested below.
>   
I think there could be three excluding options:
* No snapping (default)
* Snap all layers in the same way, with the following tolerance: X
* Snap to individual layers: opens snapping options dialog
Regards
Carlos
>
>   
>> I'd be also in favor
>> of enabling the QGIS "topological editing" feature by default.
>>     
>
> +1
>
> cheers,
> Marco
>
>
>
> Am Dienstag 04 M?rz 2008 12:08:26 schrieb Micha Silver:
>   
>> Maciej Sieczka wrote:
>>     
>>> Marco Hugentobler pisze:
>>>       
>>>> Maciek wrote:
>>>>         
>>>>> Marco wrote:
>>>>>           
>>> Before you read on: NOTICE - I'm assuming that snapping = 0 is no
>>> different than snapping "disabled". Is this correct? If it is, maybe
>>> it would be better to remove the snapping checkbox for layers and use
>>> spinbox with numbers only to simplify the dialog?
>>>
>>>       
>>>> Ok, I see what you mean. In the snapping dialog of the project should
>>>> be inserted the default snapping settings (which is snapping to the
>>>> active layer with the default snapping tolerance) in case the
>>>> snapping dialog was not changed already.
>>>>         
>>> Yes.
>>>
>>>       
>>>> Otherwise, if a user changes any project property and clicks ok, the
>>>> snapping will be off for all layers.
>>>>         
>>> I think differently. As long as default QGIS-wide snapping is !=0, all
>>> layers which don't have inddividual setting set by the user, should
>>> have snapping set on equal to default setting - unless the user
>>> manually disables snapping for the given layer.
>>>
>>>       
>>>> I don't think that unchecked layers should automatically have the
>>>> default snapping tolerance.
>>>>         
>>> Then what is the point of default snapping setting at all? Look - as
>>> long as you don't enter project properties and click OK, the default
>>> QGIS snapping is on for all layers in the project. Once you go to
>>> project props. and click OK, all snapping is suddenly disabled,
>>> although you did not modify any setting related to snapping. Imagine a
>>> user trying to guess what happened.
>>>       
>> In the kind of jobs I do, and what I can imagine others do, I would NOT
>> want snapping automatically to all layers, but only the one layer I have
>> set to snap. Maybe, as you suggest, there should not be any default
>> project snapping setting at all, now that we have snapping for
>> individual layers.
>>
>>     
>>> Note also that this was different in QGIS before introducing
>>> individual snapping setting per layer. You only had the QGIS-wide
>>> snapping setting, which was always active, for all layers. Now as soon
>>> as you go to project settings for whatever reason and press OK that
>>> snapping is disabled. This should be avoided.
>>>
>>>       
>>>> Because it is possible that a user don't want to snap to some layers
>>>> at all.
>>>>         
>>> The user can disable snapping for a certain layer, if he needs to.
>>>
>>> Another thing - IMO users more often need snapping than they don't.
>>> Help users not to digitize overlapping features by default, eg.
>>> promote using snapping rather than not using it. I'd be also in favor
>>> of enabling the QGIS "topological editing" feature by default.
>>>
>>> What I hate most in GIS are all those overlapping polygons and lines
>>> which I have to tediously correct topology for, re-calculate their
>>> area and length, explain the vendor what is wrong about his data.
>>> Please promote topological practices.
>>>
>>> Maciek
>>> _______________________________________________
>>> Qgis-user mailing list
>>> Qgis-user@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-user
>>>
>>>
>>>
>>> This mail was sent via Kinneret Mail-SeCure System.
>>>       
>
>
>
>   

From tutey at o2.pl  Tue Mar  4 14:28:56 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Tue Mar  4 14:29:05 2008
Subject: [Qgis-developer] Re: [Qgis-user] vector editing in QGIS -
	questions and issues (PostGIS biased)
In-Reply-To: <200803041658.10819.marco.hugentobler@karto.baug.ethz.ch>
References: <47C5DD62.5050408@o2.pl>
	<47CD0887.40401@o2.pl>	<47CD2DAA.4020600@arava.co.il>
	<200803041658.10819.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47CDA2F8.1010005@o2.pl>

Marco Hugentobler pisze:

> I changed the behaviour now such that the snapping settings is only changed if 
> the user really opened the project snapping dialog and clicked 'ok'.

Do you mean you submitted it to SVN? I'm asking because I can't see it 
in the commit ML.

> I'm quite open to suggestions about what reasonable defaults should be (this 
> was the main point of our discussion below). Possibilities are:

> - snap to editing layer with default tolerance but not to background layers. 
> This is the current default and the suggestion of Micha. 
> And it's the same as the behaviour prior to the merge of the advanced editing 
> branch (it was not possible then to snap to background layers)

> - snap to all vector layers using default snapping tolerance. This was what 
> Maciej suggested below.

Before I think of it again, can you please first let me know if the two 
in "Snapping options":

1. tolerance set to 0 and the layer checked
2. tolerance set to anything and the layer not checked

result both in snapping disabled? I guess they are supposed to, but want 
to make sure.

Maciek
From wonder.sk at gmail.com  Tue Mar  4 17:18:18 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Mar  4 17:18:21 2008
Subject: [Qgis-developer] Problem with python bindings
In-Reply-To: <47CD7D85.8090806@jemila.jazztel.es>
References: <47C4527F.4020906@jemila.jazztel.es>
	<e8e7199c0802261031x167cdab9u734f3c1718ea2f86@mail.gmail.com>
	<47C82F53.6040505@jemila.jazztel.es>
	<e8e7199c0803011100y780d8472g808a09dba42176ff@mail.gmail.com>
	<47CC31BB.7010501@jemila.jazztel.es>
	<e8e7199c0803040407t2f9f8a90ofca2b5b8c177fbee@mail.gmail.com>
	<47CD7D85.8090806@jemila.jazztel.es>
Message-ID: <e8e7199c0803041418w13ad2fbaqe3b8363593c8ddfa@mail.gmail.com>

On Tue, Mar 4, 2008 at 5:49 PM, Carlos D?vila
<cdavilam@jemila.jazztel.es> wrote:
>  > Can you tak a look to the python/core and python/gui directories in
>  > the svn checkout? Do you see only .sip files or are there also
>  > core.sbf resp. gui.sbf files?
>  >
>  Only .sip files in both directories.

So this looks like python configure script or SIP binary fail to run
correctly. Try this: go to your build directory, enter python subdir.
There you should find configure.py script. In console run: python
configure.py
Does it report any error?

Martin
From wonder.sk at gmail.com  Tue Mar  4 18:59:34 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Mar  4 18:59:37 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <255b57430803040826h401fb288ocf67ba413259eac@mail.gmail.com>
References: <255b57430803040826h401fb288ocf67ba413259eac@mail.gmail.com>
Message-ID: <e8e7199c0803041559n68f5bc36o45c28b6b4db834ad@mail.gmail.com>

On Tue, Mar 4, 2008 at 5:26 PM, Steven Bell <botsnlinux@gmail.com> wrote:
>
> [...]
>
> I hope this makes sense.  Let me know if I need to clarify anything.
>  Steven

Actually I must admit I'm a bit lost in all the resultions, scales,
units, transformations etc :-/
Probably I should read some kind of printing primer... Or if you can
show me the difference between drawing to screen and drawing to
printer / PDF - i.e. what further scaling is applied.

If I understand it correctly, we should allow symbol size, font size
and line widths to be specified in several unit types (pixels /
milimeters / inches / points / more?). From these sizes the composer
(or map renderer) will be able to calculate the actual sizes for the
output device. Does this mean that we can skip those symbol, line and
font scales that are currently in composer?

Moreover, in composer you have to specify resolution in DPI, but does
this matter if we do vector output?

Well, maybe I have more questions, but I need to sort the ideas in my head :-)

Regards
Martin
From marco.hugentobler at karto.baug.ethz.ch  Wed Mar  5 05:09:55 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Mar  5 05:09:30 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <255b57430803040826h401fb288ocf67ba413259eac@mail.gmail.com>
References: <255b57430803040826h401fb288ocf67ba413259eac@mail.gmail.com>
Message-ID: <200803051109.55185.marco.hugentobler@karto.baug.ethz.ch>

Hi Steven,

> I would remove symbolScale and widthScale in favor of defining the widths
> in terms of concrete units, whether pixels, millimeters, or map units. 

It would be good for me if you could explain this idea in more detail as I'm 
still not sure my understanding is correct.

Do you mean that QgsSymbol should have its own pen width and stroke width? 
They would be specified e.g. in mm instead of pixels and when the symbol is 
applied, transformed to pixels according to the ouput device dpi?


The idea that i had was to just work on pixel level with one scalefactor 
(mResolutionRatio). So if e.g. a printer has a resolution of screen dpi * 2, 
then mResolutionRatio would be 2 and all the width values for QPen, QBrush 
and also width/height for images would be scaled by factor 2. Caching pixmaps 
would only be alloud if mResolutionRatio is 1.

I think that would be doable without many code changes. But it is not as 
generic and clean as working with real units (e.g. mm) in the qgis core.

Regards,
Marco




Am Dienstag 04 M?rz 2008 17:26:08 schrieb Steven Bell:
> > So my suggestion is to have the rendering context somehow like this:
> >
> > class QgsMapRenderContext
> > {
> >        QgsMapToPixel mMapToPixel;
> >        QgsCoordinateTransform mCoordTransform;
> >        QgsRect mExtent;
> >        bool drawEditingInformation;
> >        bool mRenderingStopped;
> >        double mResolutionRatio;
> > };
> >
> > The resolution ratio is usually 1, except when drawing to a different
> > paint
> > device (like QPrinter). I hope it will allow to consider for different
> > line
> > width / symbol sizes on these output devices.
> >
> >
> >From what I understand, QgsMapToPixel basically holds the information that
>
> mResolutionRatio would contain.
>
> Martin already mentioned this, but the rendering context needs to have some
> way to tell the renderer whether to use maximum-resolution vector ouput or
> cached pixmaps.  I would also add something about what the output units
> are, whether pixels or millimeters.  Both of the above might be done
> together with an "are we printing to ps/pdf/svg" bool.
>
> I would remove symbolScale and widthScale in favor of defining the widths
> in terms of concrete units, whether pixels, millimeters, or map units. 
> This is what I have attempted to do in the current composer_redesign code.
> One of the major problems is that printed millimeters are treated as the
> same as screen pixels, rather than a separate but similar type of
> measurement.
>
> I hope this makes sense.  Let me know if I need to clarify anything.
> Steven



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From marco.hugentobler at karto.baug.ethz.ch  Wed Mar  5 05:48:33 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Mar  5 05:48:07 2008
Subject: [Qgis-developer] Re: [Qgis-user] vector editing in QGIS -
	questions and issues (PostGIS biased)
In-Reply-To: <47CDA2F8.1010005@o2.pl>
References: <47C5DD62.5050408@o2.pl>
	<200803041658.10819.marco.hugentobler@karto.baug.ethz.ch>
	<47CDA2F8.1010005@o2.pl>
Message-ID: <200803051148.33329.marco.hugentobler@karto.baug.ethz.ch>

Am Dienstag 04 M?rz 2008 20:28:56 schrieb Maciej Sieczka:
> Marco Hugentobler pisze:
> > I changed the behaviour now such that the snapping settings is only
> > changed if the user really opened the project snapping dialog and clicked
> > 'ok'.
>
> Do you mean you submitted it to SVN? I'm asking because I can't see it
> in the commit ML.

Yes, in r8189. The commit ML is sometimes slow.

>
> > I'm quite open to suggestions about what reasonable defaults should be
> > (this was the main point of our discussion below). Possibilities are:
> >
> > - snap to editing layer with default tolerance but not to background
> > layers. This is the current default and the suggestion of Micha.
> > And it's the same as the behaviour prior to the merge of the advanced
> > editing branch (it was not possible then to snap to background layers)
> >
> > - snap to all vector layers using default snapping tolerance. This was
> > what Maciej suggested below.
>
> Before I think of it again, can you please first let me know if the two
> in "Snapping options":
>
> 1. tolerance set to 0 and the layer checked
> 2. tolerance set to anything and the layer not checked
>
> result both in snapping disabled? I guess they are supposed to, but want
> to make sure.

Yes, it has the same effect. At the moment, disabling is a bit more efficient. 
But in principle, that could also be done for snapping tol 0 by adding a 
query earlier in the code.

In my opinion, the advantage of the check boxes is that it is possible to 
disable the snapping during digitising without overwriting the previous 
settings (e.g. during a certain stage of digitising). Then, it can be quickly 
enabled by selecting the box again.

Regards,
Marco  



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From sherman at mrcc.com  Wed Mar  5 09:21:16 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Mar  5 09:21:29 2008
Subject: [Qgis-developer] SoC Ideas
Message-ID: <1A3C902B-34C0-40EE-B933-FF8FFFB1B00A@mrcc.com>

The Summer of Code ideas page can be found at:
http://wiki.qgis.org/qgiswiki/SummerOfCodeIdeas
-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From tutey at o2.pl  Wed Mar  5 11:24:23 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Mar  5 11:24:28 2008
Subject: [Qgis-developer] Re: [Qgis-user] vector editing in QGIS -
	questions and issues (PostGIS biased)
In-Reply-To: <200803051148.33329.marco.hugentobler@karto.baug.ethz.ch>
References: <47C5DD62.5050408@o2.pl>
	<200803041658.10819.marco.hugentobler@karto.baug.ethz.ch>
	<47CDA2F8.1010005@o2.pl>
	<200803051148.33329.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47CEC937.6020208@o2.pl>

Marco Hugentobler pisze:
> Am Dienstag 04 M?rz 2008 20:28:56 schrieb Maciej Sieczka:
>> Marco Hugentobler pisze:

>>> I changed the behaviour now such that the snapping settings is only
>>> changed if the user really opened the project snapping dialog and clicked
>>> 'ok'.

>> Do you mean you submitted it to SVN? I'm asking because I can't see it
>> in the commit ML.

> Yes, in r8189. The commit ML is sometimes slow.

OK. Fetched it and built OK. It is better this way now. Still not as 
convenient as it could be though - once OK in Snapping Options is 
clicked, the Default Snapping looses it's purpose until a new project is 
started. It is confusing that the user can still modify Default 
Snapping, while it has no effect.

This could be easily fixed I guess. Please read below.

>> Before I think of it again, can you please first let me know if the two
>> in "Snapping options":
>>
>> 1. tolerance set to 0 and the layer checked
>> 2. tolerance set to anything and the layer not checked
>>
>> result both in snapping disabled? I guess they are supposed to, but want
>> to make sure.

> Yes, it has the same effect. At the moment, disabling is a bit more efficient. 
> But in principle, that could also be done for snapping tol 0 by adding a 
> query earlier in the code.

Got it.

> In my opinion, the advantage of the check boxes is that it is
> possible to disable the snapping during digitising without
> overwriting the previous settings (e.g. during a certain stage of
> digitising). Then, it can be quickly enabled by selecting the box again.

You are right.


Thinking it all over again, I imagine the whole thing this way now:

In Options > Digitizing > Default Snapping give it a "mode" selector and 
a checkbox (alike Project Properties > Snapping Options). These settings 
are stored in QGIS preferences file. Until Default Snapping *is 
checked*, it takes precedence over individual layer's settings, thus 
it's enabled for *all* layers, in any project.

Modifying individual snapping of a layer, through Project Properties > 
Snapping Options, is not possible then - layers are greyed-out in the 
dialog. The latter is also a signal for the user that global snapping 
setting is enabled, and he should turn it off to be able to tweak 
snapping per layer.

If Options > Digitizing > Default Snapping *is not checked*, modifying 
individual snapping Project Properties > Snapping Options for any layer 
becomes possible, and this setting takes precedence over the default.


Opinions? Could this be implemented?

Maciek
From cdavilam at jemila.jazztel.es  Wed Mar  5 11:49:12 2008
From: cdavilam at jemila.jazztel.es (=?ISO-8859-1?Q?Carlos_D=E1vila?=)
Date: Wed Mar  5 11:48:55 2008
Subject: [Qgis-developer] Problem with python bindings
In-Reply-To: <e8e7199c0803041418w13ad2fbaqe3b8363593c8ddfa@mail.gmail.com>
References: <47C4527F.4020906@jemila.jazztel.es>	
	<e8e7199c0802261031x167cdab9u734f3c1718ea2f86@mail.gmail.com>	
	<47C82F53.6040505@jemila.jazztel.es>	
	<e8e7199c0803011100y780d8472g808a09dba42176ff@mail.gmail.com>	
	<47CC31BB.7010501@jemila.jazztel.es>	
	<e8e7199c0803040407t2f9f8a90ofca2b5b8c177fbee@mail.gmail.com>	
	<47CD7D85.8090806@jemila.jazztel.es>
	<e8e7199c0803041418w13ad2fbaqe3b8363593c8ddfa@mail.gmail.com>
Message-ID: <47CECF08.3020907@jemila.jazztel.es>

Martin Dobias escribi?:
> On Tue, Mar 4, 2008 at 5:49 PM, Carlos D?vila
> <cdavilam@jemila.jazztel.es> wrote:
>   
>>  > Can you tak a look to the python/core and python/gui directories in
>>  > the svn checkout? Do you see only .sip files or are there also
>>  > core.sbf resp. gui.sbf files?
>>  >
>>  Only .sip files in both directories.
>>     
>
> So this looks like python configure script or SIP binary fail to run
> correctly. Try this: go to your build directory, enter python subdir.
> There you should find configure.py script. In console run: python
> configure.py
> Does it report any error?
This is what I get:
~/Paquetes/qgis/0.9.2/build/python$ python configure.py
Parsing SIP files for 'core' library...
sip: Usage: sip [-h] [-V] [-a file] [-c dir] [-d file] [-e] [-g] [-I
dir] [-j #]                       [-m file] [-p module] [-r] [-s suffix]
[-t tag] [-w] [-x feature] [-z file] [fi                      le]
Parsing SIP files for 'gui' library...
sip: Usage: sip [-h] [-V] [-a file] [-c dir] [-d file] [-e] [-g] [-I
dir] [-j #]                       [-m file] [-p module] [-r] [-s suffix]
[-t tag] [-w] [-x feature] [-z file] [fi                      le]
Creating makefiles...
Creating qgisconfig.py...
Done

It seems to be some problem parsing SIP files.

I have tried compiling a fresh svn in a different partition (to rule out
permission issues) and the result is different:
[ 66%] Generating core/Makefile, gui/Makefile
Parsing SIP files for 'core' library...
Parsing SIP files for 'gui' library...
Creating makefiles...
Creating qgisconfig.py...
Done
[ 66%] Generating core/core.so
make[3]: g++: program not found
make[3]: *** [sipcorecmodule.o] Error 127
make[2]: *** [python/core/core.so] Error 2
make[1]: *** [python/CMakeFiles/python.dir/all] Error 2
make: *** [all] Error 2

I have seen cmake_cxx_compiler is different between the two machines I'm
working on. The one I can compile without errors uses /usr/bin/c++ and
the one with problems uses /usr/bin/g++-4.2, so I guess the problem can
come from this. I'll test tomorrow and comment the result.
Regards
Carlos
From lami at faunalia.it  Wed Mar  5 12:02:17 2008
From: lami at faunalia.it (lami@faunalia.it)
Date: Wed Mar  5 12:02:19 2008
Subject: [Qgis-developer] Fedora repository
In-Reply-To: <200803051148.33329.marco.hugentobler@karto.baug.ethz.ch>
References: <47C5DD62.5050408@o2.pl>
	<200803041658.10819.marco.hugentobler@karto.baug.ethz.ch>
	<47CDA2F8.1010005@o2.pl>
	<200803051148.33329.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <42562.90.132.30.2.1204736537.squirrel@www.faunalia.it>


Hi all,

I'd like to install QGIS on Linux/fedora.
I seen at http://download.qgis.org/downloads.rhtml but I have'nt find any
repository for Fedora.

There is a package for it or must I build it?

Thank you very much

Leonardo



From silfreed at silfreed.net  Wed Mar  5 12:42:02 2008
From: silfreed at silfreed.net (Douglas E. Warner)
Date: Wed Mar  5 12:42:05 2008
Subject: [Qgis-developer] Fedora repository
In-Reply-To: <42562.90.132.30.2.1204736537.squirrel@www.faunalia.it>
References: <47C5DD62.5050408@o2.pl>
	<200803051148.33329.marco.hugentobler@karto.baug.ethz.ch>
	<42562.90.132.30.2.1204736537.squirrel@www.faunalia.it>
Message-ID: <200803051242.02942.silfreed@silfreed.net>

On Wednesday 05 March 2008 12:02:17 lami@faunalia.it wrote:
> I'd like to install QGIS on Linux/fedora.
> I seen at http://download.qgis.org/downloads.rhtml but I have'nt find any
> repository for Fedora.
>
> There is a package for it or must I build it?

I package QGIS for Fedora and it is included in the main repositories.  You 
should just be able to 'yum install qgis' and start using it.

-Doug
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080305/945a9503/attachment.bin
From david.a.riggs at gmail.com  Wed Mar  5 15:30:44 2008
From: david.a.riggs at gmail.com (David A. Riggs)
Date: Wed Mar  5 15:30:48 2008
Subject: [Qgis-developer] Wrote a FindByAttribute python plugin
In-Reply-To: <e8e7199c0802280441v39b79269w85f3b0360a84d360@mail.gmail.com>
References: <f0f9bf090802271000n30ed2c43w88691319144567c2@mail.gmail.com>
	<e8e7199c0802280441v39b79269w85f3b0360a84d360@mail.gmail.com>
Message-ID: <d8169c660803051230o4d38c953x2f2d321a7e1f45f@mail.gmail.com>

On Thu, Feb 28, 2008 at 7:41 AM, Martin Dobias <wonder.sk@gmail.com> wrote:
>
>  Here's the plugin repository located:
>  http://pyqgis.spatialserver.net/
>
>  You can register and upload the plugin there. There are also packaging
>  guidelines how to create the package for your plugin.
>

Do these plugins go through any sort of inspection or quality control
before being "accepted" to the plugin repository?

Can I be sure that installing FooPlugin from the official plugin
repository won't eat all my data, kick my cat, and then leave the
toilet seat up (or at least not blow up at runtime)?

Does it make sense to either display a "caveat emptor" message, or to
make the official repository contain only tested and polished plugins?

- DR

-- 
David A. Riggs <david.a.riggs@gmail.com>
From tutey at o2.pl  Wed Mar  5 15:42:45 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Mar  5 15:42:54 2008
Subject: [Qgis-developer] Re: [Qgis-user] vector editing in QGIS
	-	questions and issues (PostGIS biased)
In-Reply-To: <47CED9DF.3020408@arava.co.il>
References: <47C5DD62.5050408@o2.pl>	<200803041658.10819.marco.hugentobler@karto.baug.ethz.ch>	<47CDA2F8.1010005@o2.pl>	<200803051148.33329.marco.hugentobler@karto.baug.ethz.ch>
	<47CEC937.6020208@o2.pl> <47CED9DF.3020408@arava.co.il>
Message-ID: <47CF05C5.3080605@o2.pl>

Micha Silver pisze:
> Maciej Sieczka wrote:

>> Thinking it all over again, I imagine the whole thing this way now:
>>
>> In Options > Digitizing > Default Snapping give it a "mode" selector 
>> and a checkbox (alike Project Properties > Snapping Options). These 
>> settings are stored in QGIS preferences file. Until Default Snapping 
>> *is checked*, it takes precedence over individual layer's settings, 
>> thus it's enabled for *all* layers, in any project.

> In what situation do you want snapping to all layers?

You mean 'snapping *for* all layers', right? I'm assuming you do.

> Now that it's 
> possible in 0.9.2 to set snapping for indivual layers, I think the 
> global snapping option is confusing and unnecessary.

When I load dozen layers I don't want to have to set it individually for 
each one I'm going to edit. Furthermore, I often use the same digitising 
snapping settings. I would love to not to have to set them up for each 
new added layer, but set it only once as a global default and "forget 
it" until I really need to use a custom snapping setting for a 
particular layer.

>> Modifying individual snapping of a layer, through Project Properties > 
>> Snapping Options, is not possible then - layers are greyed-out in the 
>> dialog. The latter is also a signal for the user that global snapping 
>> setting is enabled, and he should turn it off to be able to tweak 
>> snapping per layer.

> This "greyed-out" business might again be confusing. How would a user 
> know that the greyed out state means that global snapping is set?

Now it's even worse. The user can change global snapping like if it is 
supposed to do some something, but it does not have any effect (not 
mentioning this is a regression from QGIS before the advanced editing 
branch was merged). When a feature is greyed-out he can at least suspect 
something's fishy and search around. Besides, there could be an info in 
the Project Properties > Snapping Options like: "Per-layer snapping 
settings disabled until global snapping settings enabled. Please go to 
Options > Digitizing to modify default snapping."

>> If Options > Digitizing > Default Snapping *is not checked*, modifying 
>> individual snapping Project Properties > Snapping Options for any 
>> layer becomes possible, and this setting takes precedence over the 
>> default.

> In my opinion an individual setting for each layer, and no global 
> snapping at all, best solves all situations with no complications for 
> the user.

Per-layer snapping is a great new feature in QGIS. For some users that 
would propably be good enough alone. However there are also users who 
deal with tones of data at the same time. They would appreciate sane 
mechanism for default settings which would save them manual tweaking 
when feasible. Note also that global snapping setting was the only 
option in QGIS not so long time ago.

Maciek

From botsnlinux at gmail.com  Wed Mar  5 19:08:46 2008
From: botsnlinux at gmail.com (Steven Bell)
Date: Wed Mar  5 19:08:48 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <200803051109.55185.marco.hugentobler@karto.baug.ethz.ch>
References: <255b57430803040826h401fb288ocf67ba413259eac@mail.gmail.com>
	<200803051109.55185.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <255b57430803051608k7574596dn9f00902bc646a1be@mail.gmail.com>

After thinking and looking at the code a little, I definitely didn't explain
that very well...

As you know, what you see in the main editing canvas is not always what you
get in the composer.  Likewise,what you see when using the cache preview in
the composer is not what you get when you render.

The root of the problem is that QGIS does all of its drawing in canvas
units, so when you switch canvases, you change how things look.  The map
composer uses millimeters - one QGraphicsScene unit is one mm.
Printers and PDF output both work with millimeters this way.  If I make a
QGraphicsRectItem with a size of 10mm square, it will come out 10mm square.
If the pen width is 1 scene unit (and isn't scaled), it will come out 1 mm
wide.

Note that when the composer map cache pixmap is drawn, the sizes are all in
pixels again.  Thus, as the resolution of the cache image changes, the line
widths and symbol sizes all change.  This has caused a lot of confusion,
because although the rendered preview matches the rendered output, the
cached preview does not.

I'm not completely clear on what the DPI setting in the composer actually
does when doing a vector output such as SVG or Postscript.  Changing that
setting doesn't seem to affect them, but the vector output code does
reference it.  I think the SVG generator needs to know something about the
size/dpi so that rasterizers/renderers can render them properly.

What I did in the composer redesign branch was add an enum, mScaleType,
which tells the renderer what units the size is in.  The renderer sets a
size scale, which is dependent on the scale type, size, and current mupp
(map units per pixel).  Also, rather than setting a pointer to a pixmap, it
sets a pointer to a symbol renderer which will always render the symbol with
a size of 1.  QgsVectorLayer's drawFeature( ) method scales the painter by
the size scale and calls the symbolRenderer's render( ) method.

Since this appears to be much slower than the current code, we probably need
to do some context-dependent caching.

In the rendering context, we would need to include some information about
whether we were rendering in screen units or paper units.  Perhaps more
correctly, we would like to know the output DPI, which will be one
(system-dependent) thing for the editing canvas, 25.4 for the composer
canvas, and some variable for the composer map cache.  Because of the way
the physical output is handled, I don't think we need to know or care what
the printer's DPI is.

This should enable the removal of the symbol/line width/text scale options
in the composer.  This also allows us to use the QgsMapRender class to
render the map, rather than having a bunch of almost-duplicate code.  The
code currently in composer_redesign uses QgsMapRender, but I haven't taken
the time to remove the scale boxes in the map control pane.

Let me know if this still isn't clear.  I haven't completely sorted it all
out, either. :-)

Steven


On Wed, Mar 5, 2008 at 4:09 AM, Marco Hugentobler <
marco.hugentobler@karto.baug.ethz.ch> wrote:

> Hi Steven,
>
> > I would remove symbolScale and widthScale in favor of defining the
> widths
> > in terms of concrete units, whether pixels, millimeters, or map units.
>
> It would be good for me if you could explain this idea in more detail as
> I'm
> still not sure my understanding is correct.
>
> Do you mean that QgsSymbol should have its own pen width and stroke width?
> They would be specified e.g. in mm instead of pixels and when the symbol
> is
> applied, transformed to pixels according to the ouput device dpi?
>
>
> The idea that i had was to just work on pixel level with one scalefactor
> (mResolutionRatio). So if e.g. a printer has a resolution of screen dpi *
> 2,
> then mResolutionRatio would be 2 and all the width values for QPen, QBrush
> and also width/height for images would be scaled by factor 2. Caching
> pixmaps
> would only be alloud if mResolutionRatio is 1.
>
> I think that would be doable without many code changes. But it is not as
> generic and clean as working with real units (e.g. mm) in the qgis core.
>
> Regards,
> Marco
>
>
>
>
> Am Dienstag 04 M?rz 2008 17:26:08 schrieb Steven Bell:
> > > So my suggestion is to have the rendering context somehow like this:
> > >
> > > class QgsMapRenderContext
> > > {
> > >        QgsMapToPixel mMapToPixel;
> > >        QgsCoordinateTransform mCoordTransform;
> > >        QgsRect mExtent;
> > >        bool drawEditingInformation;
> > >        bool mRenderingStopped;
> > >        double mResolutionRatio;
> > > };
> > >
> > > The resolution ratio is usually 1, except when drawing to a different
> > > paint
> > > device (like QPrinter). I hope it will allow to consider for different
> > > line
> > > width / symbol sizes on these output devices.
> > >
> > >
> > >From what I understand, QgsMapToPixel basically holds the information
> that
> >
> > mResolutionRatio would contain.
> >
> > Martin already mentioned this, but the rendering context needs to have
> some
> > way to tell the renderer whether to use maximum-resolution vector ouput
> or
> > cached pixmaps.  I would also add something about what the output units
> > are, whether pixels or millimeters.  Both of the above might be done
> > together with an "are we printing to ps/pdf/svg" bool.
> >
> > I would remove symbolScale and widthScale in favor of defining the
> widths
> > in terms of concrete units, whether pixels, millimeters, or map units.
> > This is what I have attempted to do in the current composer_redesign
> code.
> > One of the major problems is that printed millimeters are treated as the
> > same as screen pixels, rather than a separate but similar type of
> > measurement.
> >
> > I hope this makes sense.  Let me know if I need to clarify anything.
> > Steven
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080305/b927ed3d/attachment.html
From wonder.sk at gmail.com  Thu Mar  6 06:40:05 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu Mar  6 06:40:08 2008
Subject: [Qgis-developer] Wrote a FindByAttribute python plugin
In-Reply-To: <d8169c660803051230o4d38c953x2f2d321a7e1f45f@mail.gmail.com>
References: <f0f9bf090802271000n30ed2c43w88691319144567c2@mail.gmail.com>
	<e8e7199c0802280441v39b79269w85f3b0360a84d360@mail.gmail.com>
	<d8169c660803051230o4d38c953x2f2d321a7e1f45f@mail.gmail.com>
Message-ID: <e8e7199c0803060340g2097cf50kaec1f7cff90b95d@mail.gmail.com>

On Wed, Mar 5, 2008 at 9:30 PM, David A. Riggs <david.a.riggs@gmail.com> wrote:
> On Thu, Feb 28, 2008 at 7:41 AM, Martin Dobias <wonder.sk@gmail.com> wrote:
>  >
>  >  Here's the plugin repository located:
>  >  http://pyqgis.spatialserver.net/
>  >
>  >  You can register and upload the plugin there. There are also packaging
>  >  guidelines how to create the package for your plugin.
>  >
>
>  Do these plugins go through any sort of inspection or quality control
>  before being "accepted" to the plugin repository?
>
>  Can I be sure that installing FooPlugin from the official plugin
>  repository won't eat all my data, kick my cat, and then leave the
>  toilet seat up (or at least not blow up at runtime)?

Yes, those python plugins can do everything you've written above and
even more scary things. We don't have resources to check the plugins
(and check their updated versions etc.) You either trust the author
and install the plugin or you don't...


>  Does it make sense to either display a "caveat emptor" message, or to
>  make the official repository contain only tested and polished plugins?

It makes sense to put there a caution when installing new plugins that
the plugins can make you harm. Feel free to add a ticket for this
enhancement in Trac.

Regards
Martin
From tutey at o2.pl  Thu Mar  6 09:40:33 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Thu Mar  6 09:40:38 2008
Subject: [Qgis-developer] commit ML down?
Message-ID: <47D00261.6010509@o2.pl>

Hi

Since r8188, 28 Feb, there has been no new message in commit ML while 
current revision is r8190.

Maciek
From telwertowski at comcast.net  Thu Mar  6 10:45:28 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Thu Mar  6 10:45:46 2008
Subject: [Qgis-developer] Trolltech is Not Porting Qt3Support for 64-bit Mac
	Builds
Message-ID: <47D01198.7060006@comcast.net>

Trolltech has released an alpha version of Qt/Mac Cocoa for building 64-bit applications. It includes the following note:

Qt3Support: At this time we have no plans for making the Qt3Support module work with the Qt/Mac Cocoa port in 64-bit mode. Following in footsteps of Apple, we would like to encourage you to consider the time of going Cocoa and 64-bit as a chance to jettison Qt 3 constructs and classes.

Therefore I would like to start converting the remaining QGIS files -- perhaps 1 to 3 files per work session depending on complexity. Are there any issues to be aware of?

Since the GRASS plugin contains probably half of the remaining Qt3Support usage and QGIS can be built without it, I will not upgrade it until later. The immediate goal is to get QGIS to build with Qt/Mac Cocoa.

Tom
From marco.hugentobler at karto.baug.ethz.ch  Thu Mar  6 16:17:46 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Thu Mar  6 16:19:36 2008
Subject: AW: [Qgis-developer] Trolltech is Not Porting Qt3Support for 64-bit
	MacBuilds
References: <47D01198.7060006@comcast.net>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF800@EX6.d.ethz.ch>

Hi Tom,

+1 for porting the remaining qt3support code to qt4. My suggestion is to open a new branch for this.

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Tom Elwertowski
Gesendet: Do 06.03.2008 16:45
An: Qgis-developer@lists.osgeo.org
Betreff: [Qgis-developer] Trolltech is Not Porting Qt3Support for 64-bit MacBuilds
 
Trolltech has released an alpha version of Qt/Mac Cocoa for building 64-bit applications. It includes the following note:

Qt3Support: At this time we have no plans for making the Qt3Support module work with the Qt/Mac Cocoa port in 64-bit mode. Following in footsteps of Apple, we would like to encourage you to consider the time of going Cocoa and 64-bit as a chance to jettison Qt 3 constructs and classes.

Therefore I would like to start converting the remaining QGIS files -- perhaps 1 to 3 files per work session depending on complexity. Are there any issues to be aware of?

Since the GRASS plugin contains probably half of the remaining Qt3Support usage and QGIS can be built without it, I will not upgrade it until later. The immediate goal is to get QGIS to build with Qt/Mac Cocoa.

Tom
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From wonder.sk at gmail.com  Thu Mar  6 16:40:23 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu Mar  6 16:40:26 2008
Subject: [Qgis-developer] Problem with python bindings
In-Reply-To: <47CECF08.3020907@jemila.jazztel.es>
References: <47C4527F.4020906@jemila.jazztel.es>
	<e8e7199c0802261031x167cdab9u734f3c1718ea2f86@mail.gmail.com>
	<47C82F53.6040505@jemila.jazztel.es>
	<e8e7199c0803011100y780d8472g808a09dba42176ff@mail.gmail.com>
	<47CC31BB.7010501@jemila.jazztel.es>
	<e8e7199c0803040407t2f9f8a90ofca2b5b8c177fbee@mail.gmail.com>
	<47CD7D85.8090806@jemila.jazztel.es>
	<e8e7199c0803041418w13ad2fbaqe3b8363593c8ddfa@mail.gmail.com>
	<47CECF08.3020907@jemila.jazztel.es>
Message-ID: <e8e7199c0803061340q667f48dak3f17002a024b0e35@mail.gmail.com>

On Wed, Mar 5, 2008 at 5:49 PM, Carlos D?vila
<cdavilam@jemila.jazztel.es> wrote:
>  This is what I get:
>  ~/Paquetes/qgis/0.9.2/build/python$ python configure.py
>  Parsing SIP files for 'core' library...
>  sip: Usage: sip [-h] [-V] [-a file] [-c dir] [-d file] [-e] [-g] [-I
>  dir] [-j #]                       [-m file] [-p module] [-r] [-s suffix]
>  [-t tag] [-w] [-x feature] [-z file] [fi                      le]
>  Parsing SIP files for 'gui' library...
>  sip: Usage: sip [-h] [-V] [-a file] [-c dir] [-d file] [-e] [-g] [-I
>  dir] [-j #]                       [-m file] [-p module] [-r] [-s suffix]
>  [-t tag] [-w] [-x feature] [-z file] [fi                      le]
>  Creating makefiles...
>  Creating qgisconfig.py...
>  Done

This looks bad... sip just shows its usage instead of running actually
the command it should. From r8192 it will also show the SIP command
line it runs. Can you update your SVN and paste how does it look like?


>  I have tried compiling a fresh svn in a different partition (to rule out
>  permission issues) and the result is different:
>  [ 66%] Generating core/Makefile, gui/Makefile
>  Parsing SIP files for 'core' library...
>  Parsing SIP files for 'gui' library...
>  Creating makefiles...
>  Creating qgisconfig.py...
>  Done
>  [ 66%] Generating core/core.so
>  make[3]: g++: program not found
>  make[3]: *** [sipcorecmodule.o] Error 127
>  make[2]: *** [python/core/core.so] Error 2
>  make[1]: *** [python/CMakeFiles/python.dir/all] Error 2
>  make: *** [all] Error 2
>
>  I have seen cmake_cxx_compiler is different between the two machines I'm
>  working on. The one I can compile without errors uses /usr/bin/c++ and
>  the one with problems uses /usr/bin/g++-4.2, so I guess the problem can
>  come from this. I'll test tomorrow and comment the result.

What system is that?

Martin
From wonder.sk at gmail.com  Thu Mar  6 16:48:04 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu Mar  6 16:48:07 2008
Subject: [Qgis-developer] Trolltech is Not Porting Qt3Support for 64-bit
	Mac Builds
In-Reply-To: <47D01198.7060006@comcast.net>
References: <47D01198.7060006@comcast.net>
Message-ID: <e8e7199c0803061348i2d7d57afy3ded820fb090eaac@mail.gmail.com>

On Thu, Mar 6, 2008 at 4:45 PM, Tom Elwertowski
<telwertowski@comcast.net> wrote:
>
>  Therefore I would like to start converting the remaining QGIS files -- perhaps 1 to 3 files per work session depending on complexity. Are there any issues to be aware of?

AFAIK core library depends on qt3support only minimally, gui library
probably has already no dependencies (since the port to
QGraphicsView). There might be some caveats in application itself -
what comes to my mind is mainly attribute table which will maybe need
some non-trivial changes.

Anyway, getting rid of qt3 code is quite important for QGIS 1.0 which
IMHO shouldn't contain any more pieces of Qt3.

Martin
From sherman at mrcc.com  Thu Mar  6 21:41:17 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Thu Mar  6 21:41:27 2008
Subject: [Qgis-developer] commit ML down?
In-Reply-To: <47D00261.6010509@o2.pl>
References: <47D00261.6010509@o2.pl>
Message-ID: <F0A1084E-64A7-4598-A281-FAF609D505F9@mrcc.com>

On Mar 6, 2008, at 5:40 AM, Maciej Sieczka wrote:

> Hi
>
> Since r8188, 28 Feb, there has been no new message in commit ML  
> while current revision is r8190.
>

For some reason, the user account that send the commit messages was  
mysteriously unsubscribed from the mailing list.

I have remedied the situation and will keep an eye on it...

-gary

> Maciek
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From michael.douchin at laposte.net  Fri Mar  7 03:01:57 2008
From: michael.douchin at laposte.net (=?ISO-8859-1?Q?Micha=EBl_Douchin?=)
Date: Fri Mar  7 03:02:04 2008
Subject: [Qgis-developer] Wrote a FindByAttribute python plugin
In-Reply-To: <e8e7199c0803060340g2097cf50kaec1f7cff90b95d@mail.gmail.com>
References: <f0f9bf090802271000n30ed2c43w88691319144567c2@mail.gmail.com>	<e8e7199c0802280441v39b79269w85f3b0360a84d360@mail.gmail.com>	<d8169c660803051230o4d38c953x2f2d321a7e1f45f@mail.gmail.com>
	<e8e7199c0803060340g2097cf50kaec1f7cff90b95d@mail.gmail.com>
Message-ID: <47D0F675.3070309@laposte.net>

The best thing to do : BACKUP your data before any non trusted action. 
This way, no worries to have !

Martin says we have no ressources for checking each plugin.. Why not 
organize a "week of test" for each new python plugin before "allowing" 
it to be avaible for download in the repository. I think we are enough 
people in this mailing list to quickly check each plugin ?
Am I dreaming or does it sound realistic ?

Martin Dobias a ?crit :
> On Wed, Mar 5, 2008 at 9:30 PM, David A. Riggs <david.a.riggs@gmail.com> wrote:
>   
>> On Thu, Feb 28, 2008 at 7:41 AM, Martin Dobias <wonder.sk@gmail.com> wrote:
>>  >
>>  >  Here's the plugin repository located:
>>  >  http://pyqgis.spatialserver.net/
>>  >
>>  >  You can register and upload the plugin there. There are also packaging
>>  >  guidelines how to create the package for your plugin.
>>  >
>>
>>  Do these plugins go through any sort of inspection or quality control
>>  before being "accepted" to the plugin repository?
>>
>>  Can I be sure that installing FooPlugin from the official plugin
>>  repository won't eat all my data, kick my cat, and then leave the
>>  toilet seat up (or at least not blow up at runtime)?
>>     
>
> Yes, those python plugins can do everything you've written above and
> even more scary things. We don't have resources to check the plugins
> (and check their updated versions etc.) You either trust the author
> and install the plugin or you don't...
>
>
>   
>>  Does it make sense to either display a "caveat emptor" message, or to
>>  make the official repository contain only tested and polished plugins?
>>     
>
> It makes sense to put there a caution when installing new plugins that
> the plugins can make you harm. Feel free to add a ticket for this
> enhancement in Trac.
>
> Regards
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080307/5bf692fe/attachment.html
From marco.hugentobler at karto.baug.ethz.ch  Fri Mar  7 03:46:48 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri Mar  7 03:46:11 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <255b57430803051608k7574596dn9f00902bc646a1be@mail.gmail.com>
References: <255b57430803040826h401fb288ocf67ba413259eac@mail.gmail.com>
	<200803051109.55185.marco.hugentobler@karto.baug.ethz.ch>
	<255b57430803051608k7574596dn9f00902bc646a1be@mail.gmail.com>
Message-ID: <200803070946.48979.marco.hugentobler@karto.baug.ethz.ch>

Hi Steven,

Many thanks for pointing this out. I was not aware that QgsGraphicsScene 
always has mm units.

It would be a possibility that QGIS main map also switches to mm units. In 
this case QgsMapCanvasMap would determine the scale factor to transform pixel 
to mm and configure a QgsMapRenderContext containing this factor. I think it 
is not necessary that QgsSymbol knows its units. Higher level classes that 
configure the rendering context could do this and just pass the scale factor.

The other way round would be that QGIS main canvas still has pixel units and 
print composer queries dpi of the map image and scales its widths and sizes 
to achieve wysiwyg. In my opinion, the global mm approach seems more general.

Regards,
Marco




Am Donnerstag 06 M?rz 2008 01:08:46 schrieb Steven Bell:
> After thinking and looking at the code a little, I definitely didn't
> explain that very well...
>
> As you know, what you see in the main editing canvas is not always what you
> get in the composer.  Likewise,what you see when using the cache preview in
> the composer is not what you get when you render.
>
> The root of the problem is that QGIS does all of its drawing in canvas
> units, so when you switch canvases, you change how things look.  The map
> composer uses millimeters - one QGraphicsScene unit is one mm.
> Printers and PDF output both work with millimeters this way.  If I make a
> QGraphicsRectItem with a size of 10mm square, it will come out 10mm square.
> If the pen width is 1 scene unit (and isn't scaled), it will come out 1 mm
> wide.
>
> Note that when the composer map cache pixmap is drawn, the sizes are all in
> pixels again.  Thus, as the resolution of the cache image changes, the line
> widths and symbol sizes all change.  This has caused a lot of confusion,
> because although the rendered preview matches the rendered output, the
> cached preview does not.
>
> I'm not completely clear on what the DPI setting in the composer actually
> does when doing a vector output such as SVG or Postscript.  Changing that
> setting doesn't seem to affect them, but the vector output code does
> reference it.  I think the SVG generator needs to know something about the
> size/dpi so that rasterizers/renderers can render them properly.
>
> What I did in the composer redesign branch was add an enum, mScaleType,
> which tells the renderer what units the size is in.  The renderer sets a
> size scale, which is dependent on the scale type, size, and current mupp
> (map units per pixel).  Also, rather than setting a pointer to a pixmap, it
> sets a pointer to a symbol renderer which will always render the symbol
> with a size of 1.  QgsVectorLayer's drawFeature( ) method scales the
> painter by the size scale and calls the symbolRenderer's render( ) method.
>
> Since this appears to be much slower than the current code, we probably
> need to do some context-dependent caching.
>
> In the rendering context, we would need to include some information about
> whether we were rendering in screen units or paper units.  Perhaps more
> correctly, we would like to know the output DPI, which will be one
> (system-dependent) thing for the editing canvas, 25.4 for the composer
> canvas, and some variable for the composer map cache.  Because of the way
> the physical output is handled, I don't think we need to know or care what
> the printer's DPI is.
>
> This should enable the removal of the symbol/line width/text scale options
> in the composer.  This also allows us to use the QgsMapRender class to
> render the map, rather than having a bunch of almost-duplicate code.  The
> code currently in composer_redesign uses QgsMapRender, but I haven't taken
> the time to remove the scale boxes in the map control pane.
>
> Let me know if this still isn't clear.  I haven't completely sorted it all
> out, either. :-)
>
> Steven
>
>
> On Wed, Mar 5, 2008 at 4:09 AM, Marco Hugentobler <
>
> marco.hugentobler@karto.baug.ethz.ch> wrote:
> > Hi Steven,
> >
> > > I would remove symbolScale and widthScale in favor of defining the
> >
> > widths
> >
> > > in terms of concrete units, whether pixels, millimeters, or map units.
> >
> > It would be good for me if you could explain this idea in more detail as
> > I'm
> > still not sure my understanding is correct.
> >
> > Do you mean that QgsSymbol should have its own pen width and stroke
> > width? They would be specified e.g. in mm instead of pixels and when the
> > symbol is
> > applied, transformed to pixels according to the ouput device dpi?
> >
> >
> > The idea that i had was to just work on pixel level with one scalefactor
> > (mResolutionRatio). So if e.g. a printer has a resolution of screen dpi *
> > 2,
> > then mResolutionRatio would be 2 and all the width values for QPen,
> > QBrush and also width/height for images would be scaled by factor 2.
> > Caching pixmaps
> > would only be alloud if mResolutionRatio is 1.
> >
> > I think that would be doable without many code changes. But it is not as
> > generic and clean as working with real units (e.g. mm) in the qgis core.
> >
> > Regards,
> > Marco
> >
> > Am Dienstag 04 M?rz 2008 17:26:08 schrieb Steven Bell:
> > > > So my suggestion is to have the rendering context somehow like this:
> > > >
> > > > class QgsMapRenderContext
> > > > {
> > > >        QgsMapToPixel mMapToPixel;
> > > >        QgsCoordinateTransform mCoordTransform;
> > > >        QgsRect mExtent;
> > > >        bool drawEditingInformation;
> > > >        bool mRenderingStopped;
> > > >        double mResolutionRatio;
> > > > };
> > > >
> > > > The resolution ratio is usually 1, except when drawing to a different
> > > > paint
> > > > device (like QPrinter). I hope it will allow to consider for
> > > > different line
> > > > width / symbol sizes on these output devices.
> > > >
> > > >
> > > >From what I understand, QgsMapToPixel basically holds the information
> >
> > that
> >
> > > mResolutionRatio would contain.
> > >
> > > Martin already mentioned this, but the rendering context needs to have
> >
> > some
> >
> > > way to tell the renderer whether to use maximum-resolution vector ouput
> >
> > or
> >
> > > cached pixmaps.  I would also add something about what the output units
> > > are, whether pixels or millimeters.  Both of the above might be done
> > > together with an "are we printing to ps/pdf/svg" bool.
> > >
> > > I would remove symbolScale and widthScale in favor of defining the
> >
> > widths
> >
> > > in terms of concrete units, whether pixels, millimeters, or map units.
> > > This is what I have attempted to do in the current composer_redesign
> >
> > code.
> >
> > > One of the major problems is that printed millimeters are treated as
> > > the same as screen pixels, rather than a separate but similar type of
> > > measurement.
> > >
> > > I hope this makes sense.  Let me know if I need to clarify anything.
> > > Steven
> >
> > --
> > Dr. Marco Hugentobler
> > Institute of Cartography
> > ETH Zurich
> > Technical Advisor QGIS Project Steering Committee



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From lami at faunalia.it  Fri Mar  7 04:17:04 2008
From: lami at faunalia.it (Leonardo Lami)
Date: Fri Mar  7 04:17:19 2008
Subject: [Qgis-developer] Fedora repository
In-Reply-To: <200803051242.02942.silfreed@silfreed.net>
References: <47C5DD62.5050408@o2.pl>	<200803051148.33329.marco.hugentobler@karto.baug.ethz.ch>	<42562.90.132.30.2.1204736537.squirrel@www.faunalia.it>
	<200803051242.02942.silfreed@silfreed.net>
Message-ID: <47D10810.901@faunalia.it>

Thank you Douglas,
the vers is the 0.9.2 or the stable 0.9.1?

Thank you again
Leonardo


Douglas E. Warner ha scritto:
> On Wednesday 05 March 2008 12:02:17 lami@faunalia.it wrote:
>   
>> I'd like to install QGIS on Linux/fedora.
>> I seen at http://download.qgis.org/downloads.rhtml but I have'nt find any
>> repository for Fedora.
>>
>> There is a package for it or must I build it?
>>     
>
> I package QGIS for Fedora and it is included in the main repositories.  You 
> should just be able to 'yum install qgis' and start using it.
>
> -Doug
>   
> ------------------------------------------------------------------------
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>   

From silfreed at silfreed.net  Fri Mar  7 07:33:56 2008
From: silfreed at silfreed.net (Douglas E. Warner)
Date: Fri Mar  7 07:34:04 2008
Subject: [Qgis-developer] Fedora repository
In-Reply-To: <47D10810.901@faunalia.it>
References: <47C5DD62.5050408@o2.pl> <200803051242.02942.silfreed@silfreed.net>
	<47D10810.901@faunalia.it>
Message-ID: <200803070734.01087.silfreed@silfreed.net>

On Friday 07 March 2008 04:17:04 Leonardo Lami wrote:
> Thank you Douglas,
> the vers is the 0.9.2 or the stable 0.9.1?

Stable 0.9.1.

-Doug
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080307/a6377ff4/attachment.bin
From tim at linfiniti.com  Fri Mar  7 08:14:49 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Mar  7 08:14:51 2008
Subject: [Qgis-developer] Trolltech is Not Porting Qt3Support for 64-bit
	Mac Builds
In-Reply-To: <e8e7199c0803061348i2d7d57afy3ded820fb090eaac@mail.gmail.com>
References: <47D01198.7060006@comcast.net>
	<e8e7199c0803061348i2d7d57afy3ded820fb090eaac@mail.gmail.com>
Message-ID: <d368056f0803070514r11400796g24822d78f6915505@mail.gmail.com>

Hi

+1 for porting - its a 'must have' for 1.0 release in my opinion.

Tom, Fernando Pacheco has expressed interest in working on Qt4 porting
in the past so perhaps the two of you might like to collaborate here.
I've cc'd Fernando in to this message.

Regards

Tim

2008/3/6, Martin Dobias <wonder.sk@gmail.com>:
> On Thu, Mar 6, 2008 at 4:45 PM, Tom Elwertowski
>  <telwertowski@comcast.net> wrote:
>  >
>  >  Therefore I would like to start converting the remaining QGIS files -- perhaps 1 to 3 files per work session depending on complexity. Are there any issues to be aware of?
>
>
> AFAIK core library depends on qt3support only minimally, gui library
>  probably has already no dependencies (since the port to
>  QGraphicsView). There might be some caveats in application itself -
>  what comes to my mind is mainly attribute table which will maybe need
>  some non-trivial changes.
>
>  Anyway, getting rid of qt3 code is quite important for QGIS 1.0 which
>  IMHO shouldn't contain any more pieces of Qt3.
>
>
>  Martin
>
> _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From wonder.sk at gmail.com  Fri Mar  7 09:20:47 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri Mar  7 09:20:54 2008
Subject: [Qgis-developer] Wrote a FindByAttribute python plugin
In-Reply-To: <47D0F675.3070309@laposte.net>
References: <f0f9bf090802271000n30ed2c43w88691319144567c2@mail.gmail.com>
	<e8e7199c0802280441v39b79269w85f3b0360a84d360@mail.gmail.com>
	<d8169c660803051230o4d38c953x2f2d321a7e1f45f@mail.gmail.com>
	<e8e7199c0803060340g2097cf50kaec1f7cff90b95d@mail.gmail.com>
	<47D0F675.3070309@laposte.net>
Message-ID: <e8e7199c0803070620i3ae4d44ble908f85ee0cb2bd@mail.gmail.com>

On Fri, Mar 7, 2008 at 9:01 AM, Micha?l Douchin
<michael.douchin@laposte.net> wrote:
>
>  The best thing to do : BACKUP your data before any non trusted action. This
> way, no worries to have !
>
>  Martin says we have no ressources for checking each plugin.. Why not
> organize a "week of test" for each new python plugin before "allowing" it to
> be avaible for download in the repository. I think we are enough people in
> this mailing list to quickly check each plugin ?
>  Am I dreaming or does it sound realistic ?

In my opinion, even if we organize such weeks of test, it will not
help a lot. And how to do exactly the test - just trying to run the
plugin or doing code review? Moreover take in account: when a
developer produces an update, should we test it again? Some plugins
might release new versions quite often...
B, to prevent yourself from running some dangerous or malicious you
should check who's the author and how confident are you that he won't
try to do harm to your computer.

Martin
From joesim2007 at hotmail.com  Fri Mar  7 09:38:01 2008
From: joesim2007 at hotmail.com (Joseph Simantov)
Date: Fri Mar  7 09:38:03 2008
Subject: AW: [Qgis-developer] Trolltech is Not Porting Qt3Support for
	64-bit	MacBuilds
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF800@EX6.d.ethz.ch>
References: <47D01198.7060006@comcast.net>
	<04DA676AA276F045B32D0F95783D78440AF800@EX6.d.ethz.ch>
Message-ID: <BAY140-W3431A2D77943D2865D15B9DD130@phx.gbl>

Hi All,


Probably slightly off-subject, but since we are mentioning Qt4, I was wondering if anybody has installed QGIS on Solaris10. What I'd like to know is, what options should be used when compiling Qt4 for use with  QGIS.

Thanks, and Regards,

Joseph
 



> Subject: AW: [Qgis-developer] Trolltech is Not Porting Qt3Support for 64-bit	MacBuilds
> Date: Thu, 6 Mar 2008 22:17:46 +0100
> From: marco.hugentobler@karto.baug.ethz.ch
> To: telwertowski@comcast.net; Qgis-developer@lists.osgeo.org
> CC: 
> 
> Hi Tom,
> 
> +1 for porting the remaining qt3support code to qt4. My suggestion is to open a new branch for this.
> 
> Regards,
> Marco
> 
> 
> -----Urspr?ngliche Nachricht-----
> Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Tom Elwertowski
> Gesendet: Do 06.03.2008 16:45
> An: Qgis-developer@lists.osgeo.org
> Betreff: [Qgis-developer] Trolltech is Not Porting Qt3Support for 64-bit MacBuilds
>  
> Trolltech has released an alpha version of Qt/Mac Cocoa for building 64-bit applications. It includes the following note:
> 
> Qt3Support: At this time we have no plans for making the Qt3Support module work with the Qt/Mac Cocoa port in 64-bit mode. Following in footsteps of Apple, we would like to encourage you to consider the time of going Cocoa and 64-bit as a chance to jettison Qt 3 constructs and classes.
> 
> Therefore I would like to start converting the remaining QGIS files -- perhaps 1 to 3 files per work session depending on complexity. Are there any issues to be aware of?
> 
> Since the GRASS plugin contains probably half of the remaining Qt3Support usage and QGIS can be built without it, I will not upgrade it until later. The immediate goal is to get QGIS to build with Qt/Mac Cocoa.
> 
> Tom
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

_________________________________________________________________
Windows Vista + Windows Live. Donnez du piment ? votre vie num?rique. Installez Windows Live gratuitement.
http://get.live.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080307/32f1db0a/attachment.html
From botsnlinux at gmail.com  Fri Mar  7 09:53:30 2008
From: botsnlinux at gmail.com (Steven Bell)
Date: Fri Mar  7 09:53:33 2008
Subject: [Qgis-developer] Re: composer redesign branch
In-Reply-To: <200803070946.48979.marco.hugentobler@karto.baug.ethz.ch>
References: <255b57430803040826h401fb288ocf67ba413259eac@mail.gmail.com>
	<200803051109.55185.marco.hugentobler@karto.baug.ethz.ch>
	<255b57430803051608k7574596dn9f00902bc646a1be@mail.gmail.com>
	<200803070946.48979.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <255b57430803070653p2e0ce0desc7db19f5658cace1@mail.gmail.com>

Just to clarify, QGraphicsScene by itself doesn't have any particular
units.  The composer treats scene units as millimeters, but I don't think
there's anything special about millimeters in particular.
I'm a little confused as to why you wouldn't put the units in QgsSymbol.  I
see it as an attribute just like size or color.  In theory, we might want a
uniqueValueRenderer which renders different objects with different scale
types.  This seems harder to do if a higher-level class is doing the
scaling.
Steven

On Fri, Mar 7, 2008 at 2:46 AM, Marco Hugentobler <
marco.hugentobler@karto.baug.ethz.ch> wrote:

> Hi Steven,
>
> Many thanks for pointing this out. I was not aware that QgsGraphicsScene
> always has mm units.
>
> It would be a possibility that QGIS main map also switches to mm units. In
> this case QgsMapCanvasMap would determine the scale factor to transform
> pixel
> to mm and configure a QgsMapRenderContext containing this factor. I think
> it
> is not necessary that QgsSymbol knows its units. Higher level classes that
> configure the rendering context could do this and just pass the scale
> factor.
>
> The other way round would be that QGIS main canvas still has pixel units
> and
> print composer queries dpi of the map image and scales its widths and
> sizes
> to achieve wysiwyg. In my opinion, the global mm approach seems more
> general.
>
> Regards,
> Marco
>
>
>
>
> Am Donnerstag 06 M?rz 2008 01:08:46 schrieb Steven Bell:
> > After thinking and looking at the code a little, I definitely didn't
> > explain that very well...
> >
> > As you know, what you see in the main editing canvas is not always what
> you
> > get in the composer.  Likewise,what you see when using the cache preview
> in
> > the composer is not what you get when you render.
> >
> > The root of the problem is that QGIS does all of its drawing in canvas
> > units, so when you switch canvases, you change how things look.  The map
> > composer uses millimeters - one QGraphicsScene unit is one mm.
> > Printers and PDF output both work with millimeters this way.  If I make
> a
> > QGraphicsRectItem with a size of 10mm square, it will come out 10mm
> square.
> > If the pen width is 1 scene unit (and isn't scaled), it will come out 1
> mm
> > wide.
> >
> > Note that when the composer map cache pixmap is drawn, the sizes are all
> in
> > pixels again.  Thus, as the resolution of the cache image changes, the
> line
> > widths and symbol sizes all change.  This has caused a lot of confusion,
> > because although the rendered preview matches the rendered output, the
> > cached preview does not.
> >
> > I'm not completely clear on what the DPI setting in the composer
> actually
> > does when doing a vector output such as SVG or Postscript.  Changing
> that
> > setting doesn't seem to affect them, but the vector output code does
> > reference it.  I think the SVG generator needs to know something about
> the
> > size/dpi so that rasterizers/renderers can render them properly.
> >
> > What I did in the composer redesign branch was add an enum, mScaleType,
> > which tells the renderer what units the size is in.  The renderer sets a
> > size scale, which is dependent on the scale type, size, and current mupp
> > (map units per pixel).  Also, rather than setting a pointer to a pixmap,
> it
> > sets a pointer to a symbol renderer which will always render the symbol
> > with a size of 1.  QgsVectorLayer's drawFeature( ) method scales the
> > painter by the size scale and calls the symbolRenderer's render( )
> method.
> >
> > Since this appears to be much slower than the current code, we probably
> > need to do some context-dependent caching.
> >
> > In the rendering context, we would need to include some information
> about
> > whether we were rendering in screen units or paper units.  Perhaps more
> > correctly, we would like to know the output DPI, which will be one
> > (system-dependent) thing for the editing canvas, 25.4 for the composer
> > canvas, and some variable for the composer map cache.  Because of the
> way
> > the physical output is handled, I don't think we need to know or care
> what
> > the printer's DPI is.
> >
> > This should enable the removal of the symbol/line width/text scale
> options
> > in the composer.  This also allows us to use the QgsMapRender class to
> > render the map, rather than having a bunch of almost-duplicate code.
>  The
> > code currently in composer_redesign uses QgsMapRender, but I haven't
> taken
> > the time to remove the scale boxes in the map control pane.
> >
> > Let me know if this still isn't clear.  I haven't completely sorted it
> all
> > out, either. :-)
> >
> > Steven
> >
> >
> > On Wed, Mar 5, 2008 at 4:09 AM, Marco Hugentobler <
> >
> > marco.hugentobler@karto.baug.ethz.ch> wrote:
> > > Hi Steven,
> > >
> > > > I would remove symbolScale and widthScale in favor of defining the
> > >
> > > widths
> > >
> > > > in terms of concrete units, whether pixels, millimeters, or map
> units.
> > >
> > > It would be good for me if you could explain this idea in more detail
> as
> > > I'm
> > > still not sure my understanding is correct.
> > >
> > > Do you mean that QgsSymbol should have its own pen width and stroke
> > > width? They would be specified e.g. in mm instead of pixels and when
> the
> > > symbol is
> > > applied, transformed to pixels according to the ouput device dpi?
> > >
> > >
> > > The idea that i had was to just work on pixel level with one
> scalefactor
> > > (mResolutionRatio). So if e.g. a printer has a resolution of screen
> dpi *
> > > 2,
> > > then mResolutionRatio would be 2 and all the width values for QPen,
> > > QBrush and also width/height for images would be scaled by factor 2.
> > > Caching pixmaps
> > > would only be alloud if mResolutionRatio is 1.
> > >
> > > I think that would be doable without many code changes. But it is not
> as
> > > generic and clean as working with real units (e.g. mm) in the qgis
> core.
> > >
> > > Regards,
> > > Marco
> > >
> > > Am Dienstag 04 M?rz 2008 17:26:08 schrieb Steven Bell:
> > > > > So my suggestion is to have the rendering context somehow like
> this:
> > > > >
> > > > > class QgsMapRenderContext
> > > > > {
> > > > >        QgsMapToPixel mMapToPixel;
> > > > >        QgsCoordinateTransform mCoordTransform;
> > > > >        QgsRect mExtent;
> > > > >        bool drawEditingInformation;
> > > > >        bool mRenderingStopped;
> > > > >        double mResolutionRatio;
> > > > > };
> > > > >
> > > > > The resolution ratio is usually 1, except when drawing to a
> different
> > > > > paint
> > > > > device (like QPrinter). I hope it will allow to consider for
> > > > > different line
> > > > > width / symbol sizes on these output devices.
> > > > >
> > > > >
> > > > >From what I understand, QgsMapToPixel basically holds the
> information
> > >
> > > that
> > >
> > > > mResolutionRatio would contain.
> > > >
> > > > Martin already mentioned this, but the rendering context needs to
> have
> > >
> > > some
> > >
> > > > way to tell the renderer whether to use maximum-resolution vector
> ouput
> > >
> > > or
> > >
> > > > cached pixmaps.  I would also add something about what the output
> units
> > > > are, whether pixels or millimeters.  Both of the above might be done
> > > > together with an "are we printing to ps/pdf/svg" bool.
> > > >
> > > > I would remove symbolScale and widthScale in favor of defining the
> > >
> > > widths
> > >
> > > > in terms of concrete units, whether pixels, millimeters, or map
> units.
> > > > This is what I have attempted to do in the current composer_redesign
> > >
> > > code.
> > >
> > > > One of the major problems is that printed millimeters are treated as
> > > > the same as screen pixels, rather than a separate but similar type
> of
> > > > measurement.
> > > >
> > > > I hope this makes sense.  Let me know if I need to clarify anything.
> > > > Steven
> > >
> > > --
> > > Dr. Marco Hugentobler
> > > Institute of Cartography
> > > ETH Zurich
> > > Technical Advisor QGIS Project Steering Committee
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080307/0a4f9967/attachment-0001.html
From tutey at o2.pl  Fri Mar  7 13:41:45 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Fri Mar  7 13:41:52 2008
Subject: [Qgis-developer] Re: [Qgis-user] vector editing in QGIS -
	questions and issues (PostGIS biased)
In-Reply-To: <200803070858.47797.marco.hugentobler@karto.baug.ethz.ch>
References: <47C5DD62.5050408@o2.pl> <47CED9DF.3020408@arava.co.il>
	<47CF05B5.7000909@o2.pl>
	<200803070858.47797.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47D18C69.9000906@o2.pl>

Marco Hugentobler pisze:

> So the main problem seems to be confusion that users might have about default 
> settings and project settings.
 >
> In my opinion it is enough to add a note in the project snapping dialog that 
> after pressing 'ok', the default setting is overwritten.
> 
> Similarly, in the options dialog, it could be mentioned that this may be 
> overwritten by more specialised project settings.

This confusion is one bad thing. An appropriate information would help.

However, there are other bad things:

1. You can't restore global snapping once you press OK in Snapping 
Options. You will have to set individual snapping for each new layer in 
the project from then on.

2. Only in per-layer snapping settings it is possible to choose the 
snapping mode (to vertex, to segment, to both). If you want to use this 
great new feature which is snapping to both, you will have to set it in 
Snapping Options, for each single layer. Naturaly after you do it even 
for a single layer, you don't have any global snapping active anymore, 
so you are forced to set snapping for each new layer in your project 
until forever :).

In my other email from 05.03.2008 17:24 i describe how, as I believe it, 
to prevent these issues and let the global and individual snapping 
co-exist cheerfully.

If what I suggest is not feasible, at a minimum please add the 
possibility to define the snapping mode in Settings > Options > 
Digitizing. So that one does not have to settle for tedious 
configuration of snapping mode for each single layer if he wants to 
benefit from snapping to segment or to vertex and segment.

Maciek

From david.a.riggs at gmail.com  Fri Mar  7 15:02:10 2008
From: david.a.riggs at gmail.com (David A. Riggs)
Date: Fri Mar  7 15:02:16 2008
Subject: [Qgis-developer] Wrote a FindByAttribute python plugin
In-Reply-To: <47D0F675.3070309@laposte.net>
References: <f0f9bf090802271000n30ed2c43w88691319144567c2@mail.gmail.com>
	<e8e7199c0802280441v39b79269w85f3b0360a84d360@mail.gmail.com>
	<d8169c660803051230o4d38c953x2f2d321a7e1f45f@mail.gmail.com>
	<e8e7199c0803060340g2097cf50kaec1f7cff90b95d@mail.gmail.com>
	<47D0F675.3070309@laposte.net>
Message-ID: <d8169c660803071202j61e7e716xb97b16b6b14e6d87@mail.gmail.com>

On Fri, Mar 7, 2008 at 3:01 AM, Micha?l Douchin
<michael.douchin@laposte.net> wrote:
>
>  The best thing to do : BACKUP your data before any non trusted action. This
> way, no worries to have !
>
>  Martin says we have no ressources for checking each plugin.. Why not
> organize a "week of test" for each new python plugin before "allowing" it to
> be avaible for download in the repository. I think we are enough people in
> this mailing list to quickly check each plugin ?
>  Am I dreaming or does it sound realistic ?
>


If I, as a user, can add any repository, or install any plugin myself,
why not make the Official repository actually mean something....
something like, making the plugins have some semi-official status?

Here's a proposal: rather than making the user find out who the author
of every plugin is, only let developers with QGIS commit access upload
plugin updates to the Official repository. If Joe Hacker writes a
plugin and wants it in the official repository, he either needs to be
a QGIS developer, or get one to "sponsor" him. This way, someone who
we're already trusting has at least vouched for it, and can enforce
some quality standards before the plugin is made available to every
QGIS user on the face of the Earth.

Perhaps there can be a second, Un-Official repository where anybody
can upload anything to. Perhaps, even, QGIS developers could pick and
choose new and updated plugins from this repo and "promote" them to
Official if they deem them worthy. Of course, a user would be free to
use this repository if he so wished.

- DR

-- 
David A. Riggs <david.a.riggs@gmail.com>
From wonder.sk at gmail.com  Fri Mar  7 16:58:29 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri Mar  7 16:58:32 2008
Subject: [Qgis-developer] Wrote a FindByAttribute python plugin
In-Reply-To: <d8169c660803071202j61e7e716xb97b16b6b14e6d87@mail.gmail.com>
References: <f0f9bf090802271000n30ed2c43w88691319144567c2@mail.gmail.com>
	<e8e7199c0802280441v39b79269w85f3b0360a84d360@mail.gmail.com>
	<d8169c660803051230o4d38c953x2f2d321a7e1f45f@mail.gmail.com>
	<e8e7199c0803060340g2097cf50kaec1f7cff90b95d@mail.gmail.com>
	<47D0F675.3070309@laposte.net>
	<d8169c660803071202j61e7e716xb97b16b6b14e6d87@mail.gmail.com>
Message-ID: <e8e7199c0803071358ve8d80d5u666d0093a1236387@mail.gmail.com>

On Fri, Mar 7, 2008 at 9:02 PM, David A. Riggs <david.a.riggs@gmail.com> wrote:
>
>  Here's a proposal: rather than making the user find out who the author
>  of every plugin is, only let developers with QGIS commit access upload
>  plugin updates to the Official repository. If Joe Hacker writes a
>  plugin and wants it in the official repository, he either needs to be
>  a QGIS developer, or get one to "sponsor" him. This way, someone who
>  we're already trusting has at least vouched for it, and can enforce
>  some quality standards before the plugin is made available to every
>  QGIS user on the face of the Earth.
>
>  Perhaps there can be a second, Un-Official repository where anybody
>  can upload anything to. Perhaps, even, QGIS developers could pick and
>  choose new and updated plugins from this repo and "promote" them to
>  Official if they deem them worthy. Of course, a user would be free to
>  use this repository if he so wished.

David,

your proposal really makes sense to me! Official repository thus will
thus only contain plugins that are known to be good and with
restricted write access, unofficial repository will be available for
everyone to upload plugins, with maybe higher rate of unfinished or
misbehaving plugins. Users would know that they can trust the official
repository, while the unofficial should be used with care.

I like this idea, would be good to talk about that with other
developers at some meeting.

Regards
Martin
From tim at linfiniti.com  Fri Mar  7 19:05:44 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Mar  7 19:05:47 2008
Subject: AW: [Qgis-developer] Trolltech is Not Porting Qt3Support for
	64-bit MacBuilds
In-Reply-To: <BAY140-W3431A2D77943D2865D15B9DD130@phx.gbl>
References: <47D01198.7060006@comcast.net>
	<04DA676AA276F045B32D0F95783D78440AF800@EX6.d.ethz.ch>
	<BAY140-W3431A2D77943D2865D15B9DD130@phx.gbl>
Message-ID: <d368056f0803071605u4a6ce350q2fd4aef32682db56@mail.gmail.com>

Hi

I vaguely remember someone building on Solaris in the past but it was
long ago and I dont remember who it was. When compiling Qt4 you need
basically

QtCore
QtGui
Qt3Support (for now)
QtXml
QtSvg
QtSql (well probably this is optional but I think its good to compile
it to because Qt3Support may want it on your platform).

Pretty much if you follow the default configure options of Qt4.3.3 you
should be good to go.

Regards

Tim

2008/3/7, Joseph Simantov <joesim2007@hotmail.com>:
>
> Hi All,
>
>
> Probably slightly off-subject, but since we are mentioning Qt4, I was
> wondering if anybody has installed QGIS on Solaris10. What I'd like to know
> is, what options should be used when compiling Qt4 for use with  QGIS.
>
> Thanks, and Regards,
>
> Joseph
>
>
>
>
> ________________________________
> > Subject: AW: [Qgis-developer] Trolltech is Not Porting Qt3Support for
> 64-bit MacBuilds
> > Date: Thu, 6 Mar 2008 22:17:46 +0100
> > From: marco.hugentobler@karto.baug.ethz.ch
> > To: telwertowski@comcast.net; Qgis-developer@lists.osgeo.org
> > CC:
> >
> > Hi Tom,
> >
> > +1 for porting the remaining qt3support code to qt4. My suggestion is to
> open a new branch for this.
> >
> > Regards,
> > Marco
> >
> >
> > -----Urspr?ngliche Nachricht-----
> > Von: qgis-developer-bounces@lists.osgeo.org im Auftrag
> von Tom Elwertowski
> > Gesendet: Do 06.03.2008 16:45
> > An: Qgis-developer@lists.osgeo.org
> > Betreff: [Qgis-developer] Trolltech is Not Porting Qt3Support for 64-bit
> MacBuilds
> >
> > Trolltech has released an alpha version of Qt/Mac Cocoa for building
> 64-bit applications. It includes the following note:
> >
> > Qt3Support: At this time we have no plans for making the Qt3Support module
> work with the Qt/Mac Cocoa port in 64-bit mode. Following in footsteps of
> Apple, we would like to encourage you to consider the time of going Cocoa
> and 64-bit as a chance to jettison Qt 3 constructs and classes.
> >
> > Therefore I would like to start converting the remaining QGIS files --
> perhaps 1 to 3 files per work session depending on complexity. Are there any
> issues to be aware of?
> >
> > Since the GRASS plugin contains probably half of the remaining Qt3Support
> usage and QGIS can be built without it, I will not upgrade it until later.
> The immediate goal is to get QGIS to build with Qt/Mac Cocoa.
> >
> > Tom
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> ________________________________
> Rejoignez la nouvelle famille de Windows Live Messenger Cliquez ici!
> _______________________________________________
>  Qgis-developer mailing list
>  Qgis-developer@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tutey at o2.pl  Sat Mar  8 12:20:34 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sat Mar  8 12:20:36 2008
Subject: [Qgis-developer] Re: [Qgis-user] Building image pyramids -> qgis
	crashing
In-Reply-To: <47B731F6.1A1A.0026.0@twdb.state.tx.us>
References: <47B5D288.1A1A.0026.0@twdb.state.tx.us>	<200802160151.14996.oleg@crista.uni-wuppertal.de>
	<47B731F6.1A1A.0026.0@twdb.state.tx.us>
Message-ID: <47D2CAE2.4000609@o2.pl>

Mikhail Umorin pisze:

> It's a longstanding gdal bug for
> updating compressed .tiff tiles. The only
> known workaround is to disable compression.

In Trac [1] Frank says the bug is fixed in "GDAL 1.4.4 with internal 
libtiff, or libtiff 3.9 (from CVS)".

I confirm. Checked in QGIS trunk r8190, built against GDAL 1.5.0+SVN 
2008-03-04 (internal libtiff). No crashes building overviews in QGIS 
whatsoever. Checked with several Byte and Uint16 GeoTIFFs, all having 
colortables, compressed with lzw, deflate or packbits.

Maciek

[1]https://trac.osgeo.org/qgis/ticket/605
From tutey at o2.pl  Sat Mar  8 13:16:36 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sat Mar  8 13:16:37 2008
Subject: [Qgis-developer] issues with Polish chars in PostGIS column names
Message-ID: <47D2D804.1080903@o2.pl>

Hi,

The OS locale (Ubuntu Gutsy) is all "pl_PL.UTF-8". The Postgres database 
is UTF8 (Postgres 8.2.6). When I create a table that has Polish 
characters in a column name like:

CREATE TABLE instruments ("g??le" text);

psql and PgAdmin can work with it fine. QGIS can't.

When a column with a Polish char in it's name in a PostGIS layer is 
present, QGIS can't edit the layer - features and columns are not 
added/removed when digitizing or editing attributes, although QGIS does 
not yield any errors. The user is not informed QGIS fails to save 
changes. I guessed what's going on by the fact the column name was 
garbled which looked suspicius.

Is this a bug in QGIS?

Maciek
From spookster at netzero.net  Sat Mar  8 15:59:18 2008
From: spookster at netzero.net (Steven Mizuno)
Date: Sat Mar  8 15:59:20 2008
Subject: [Qgis-developer] issues with Polish chars in PostGIS column names
In-Reply-To: <47D2D804.1080903@o2.pl>
References: <47D2D804.1080903@o2.pl>
Message-ID: <15920379.post@talk.nabble.com>



Maciej Sieczka wrote:
> 
> When I create a table that has Polish 
> characters in a column name like:
> 
> CREATE TABLE instruments ("g??le" text);
> 
> psql and PgAdmin can work with it fine. QGIS can't.
> 
> When a column with a Polish char in it's name in a PostGIS layer is 
> present, QGIS can't edit the layer - features and columns are not 
> added/removed when digitizing or editing attributes, although QGIS does 
> not yield any errors. The user is not informed QGIS fails to save 
> changes. I guessed what's going on by the fact the column name was 
> garbled which looked suspicius.
> 
> Is this a bug in QGIS?
> 

Yes, there is a problem with non-ASCII characters in PostGIS layers in QGIS.
There is inconsistent use of character set encodings when sending commands
to/ receiving data from PostgreSQL server. I had noticed this when I was
working on a patch for uppercase handling caused by unquoted identifiers
sent to the server.

I have submitted a patch on bug #964 
(https://trac.osgeo.org/qgis/ticket/964) that fixes such
internationalization issues. I believe that it works properly with all
object identifiers as well as data, but have only tested with a PostgreSQL
server having UTF-8 encoding as its default. Even database names can have
non-ASCII characters.

I have also noticed that many database failures do not provoke any message
boxes.

If you are willing to compile patched source, I would be interested in any
feedback, especially if there is something  related to character sets that
doesn't work.

-- 
View this message in context: http://www.nabble.com/issues-with-Polish-chars-in-PostGIS-column-names-tp15918312p15920379.html
Sent from the qgis-developer mailing list archive at Nabble.com.

From marco.hugentobler at karto.baug.ethz.ch  Sun Mar  9 04:30:55 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Sun Mar  9 04:30:57 2008
Subject: Fwd: Re: [Qgis-developer] issues with Polish chars in PostGIS column
	names
Message-ID: <200803090930.55153.marco.hugentobler@karto.baug.ethz.ch>

Hi J?rgen,

As you are the maintainer of the postgres provider, could you review Stevens 
patch and apply if it is ok?

Thanks,
Marco


----------  Weitergeleitete Nachricht  ----------

Betreff: Re: [Qgis-developer] issues with Polish chars in PostGIS column names
Datum: Samstag 08 M?rz 2008
Von: Steven Mizuno <spookster@netzero.net>
An: qgis-developer@lists.osgeo.org



Maciej Sieczka wrote:
> 
> When I create a table that has Polish 
> characters in a column name like:
> 
> CREATE TABLE instruments ("g??le" text);
> 
> psql and PgAdmin can work with it fine. QGIS can't.
> 
> When a column with a Polish char in it's name in a PostGIS layer is 
> present, QGIS can't edit the layer - features and columns are not 
> added/removed when digitizing or editing attributes, although QGIS does 
> not yield any errors. The user is not informed QGIS fails to save 
> changes. I guessed what's going on by the fact the column name was 
> garbled which looked suspicius.
> 
> Is this a bug in QGIS?
> 

Yes, there is a problem with non-ASCII characters in PostGIS layers in QGIS.
There is inconsistent use of character set encodings when sending commands
to/ receiving data from PostgreSQL server. I had noticed this when I was
working on a patch for uppercase handling caused by unquoted identifiers
sent to the server.

I have submitted a patch on bug #964 
(https://trac.osgeo.org/qgis/ticket/964) that fixes such
internationalization issues. I believe that it works properly with all
object identifiers as well as data, but have only tested with a PostgreSQL
server having UTF-8 encoding as its default. Even database names can have
non-ASCII characters.

I have also noticed that many database failures do not provoke any message
boxes.

If you are willing to compile patched source, I would be interested in any
feedback, especially if there is something  related to character sets that
doesn't work.

-- 
View this message in context: 
http://www.nabble.com/issues-with-Polish-chars-in-PostGIS-column-names-tp15918312p15920379.html
Sent from the qgis-developer mailing list archive at Nabble.com.

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------------------------------------------------

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From marco.hugentobler at karto.baug.ethz.ch  Sun Mar  9 10:49:58 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Sun Mar  9 10:50:03 2008
Subject: AW: [Qgis-developer] Re: composer redesign branch
References: <255b57430803040826h401fb288ocf67ba413259eac@mail.gmail.com><200803051109.55185.marco.hugentobler@karto.baug.ethz.ch><255b57430803051608k7574596dn9f00902bc646a1be@mail.gmail.com><200803070946.48979.marco.hugentobler@karto.baug.ethz.ch>
	<255b57430803070653p2e0ce0desc7db19f5658cace1@mail.gmail.com>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF801@EX6.d.ethz.ch>

Hi Steven,

>Just to clarify, QGraphicsScene by itself doesn't have any particular
>units.  The composer treats scene units as millimeters, but I don't think
>there's anything special about millimeters in particular.

Ah, ok.
Then it would probably make sense that the main map does the same as the composer? Then everything in QGIS would be mm and hopefully no problems with differen line widths any more.

>I'm a little confused as to why you wouldn't put the units in QgsSymbol.  I
>see it as an attribute just like size or color.  In theory, we might want a
>uniqueValueRenderer which renders different objects with different scale
>types.  This seems harder to do if a higher-level class is doing the
>scaling.

Looking at the code in the composer branch (see code snipsets below), it seems to me that the only different behaviour of a renderer according to the symbol scale type is that scalefactor is used for PAPER_UNITS and MAP_UNITS and not for PIXELS. Is this correct?
Therefore I was thinking that there is some redundancy between SymbolScaleType and scale factor, as scale factor 1 would mean pixel and scale factor != 1 PAPER_UNITS or MAP_UNITS. 
Ok, the rendering of different scale types in one map is not possible without the scale unit. Tough I don't think it is desirable in many cases. Anyway, it is just one member variable and probably a detail.

Regards,
Marco


from QgsSymbol.h
typedef enum {PIXELS, PAPER_UNITS, MAP_UNITS} SymbolScaleType;

from QgsSingleSymbolRenderer.cpp
void QgsSingleSymbolRenderer::renderFeature(QPainter * p, QgsFeature & f, QgsSymbolRenderer*& renderer,
           double* scalefactor, bool selected, double mupp)//was double widthScale
{
...
if(mSymbol->scaleType() == QgsSymbol::PIXELS){
        *scalefactor = (double)mSymbol->pointSize();
      }
      else{
        *scalefactor = (double)mSymbol->pointSize()/mupp;
      }



-----Urspr?ngliche Nachricht-----
Von: Steven Bell [mailto:botsnlinux@gmail.com]
Gesendet: Fr 07.03.2008 15:53
An: Hugentobler  Marco
Cc: qgis-developer@lists.osgeo.org
Betreff: Re: [Qgis-developer] Re: composer redesign branch
 
Just to clarify, QGraphicsScene by itself doesn't have any particular
units.  The composer treats scene units as millimeters, but I don't think
there's anything special about millimeters in particular.
I'm a little confused as to why you wouldn't put the units in QgsSymbol.  I
see it as an attribute just like size or color.  In theory, we might want a
uniqueValueRenderer which renders different objects with different scale
types.  This seems harder to do if a higher-level class is doing the
scaling.
Steven

On Fri, Mar 7, 2008 at 2:46 AM, Marco Hugentobler <
marco.hugentobler@karto.baug.ethz.ch> wrote:

> Hi Steven,
>
> Many thanks for pointing this out. I was not aware that QgsGraphicsScene
> always has mm units.
>
> It would be a possibility that QGIS main map also switches to mm units. In
> this case QgsMapCanvasMap would determine the scale factor to transform
> pixel
> to mm and configure a QgsMapRenderContext containing this factor. I think
> it
> is not necessary that QgsSymbol knows its units. Higher level classes that
> configure the rendering context could do this and just pass the scale
> factor.
>
> The other way round would be that QGIS main canvas still has pixel units
> and
> print composer queries dpi of the map image and scales its widths and
> sizes
> to achieve wysiwyg. In my opinion, the global mm approach seems more
> general.
>
> Regards,
> Marco
>
>
>
>
> Am Donnerstag 06 M?rz 2008 01:08:46 schrieb Steven Bell:
> > After thinking and looking at the code a little, I definitely didn't
> > explain that very well...
> >
> > As you know, what you see in the main editing canvas is not always what
> you
> > get in the composer.  Likewise,what you see when using the cache preview
> in
> > the composer is not what you get when you render.
> >
> > The root of the problem is that QGIS does all of its drawing in canvas
> > units, so when you switch canvases, you change how things look.  The map
> > composer uses millimeters - one QGraphicsScene unit is one mm.
> > Printers and PDF output both work with millimeters this way.  If I make
> a
> > QGraphicsRectItem with a size of 10mm square, it will come out 10mm
> square.
> > If the pen width is 1 scene unit (and isn't scaled), it will come out 1
> mm
> > wide.
> >
> > Note that when the composer map cache pixmap is drawn, the sizes are all
> in
> > pixels again.  Thus, as the resolution of the cache image changes, the
> line
> > widths and symbol sizes all change.  This has caused a lot of confusion,
> > because although the rendered preview matches the rendered output, the
> > cached preview does not.
> >
> > I'm not completely clear on what the DPI setting in the composer
> actually
> > does when doing a vector output such as SVG or Postscript.  Changing
> that
> > setting doesn't seem to affect them, but the vector output code does
> > reference it.  I think the SVG generator needs to know something about
> the
> > size/dpi so that rasterizers/renderers can render them properly.
> >
> > What I did in the composer redesign branch was add an enum, mScaleType,
> > which tells the renderer what units the size is in.  The renderer sets a
> > size scale, which is dependent on the scale type, size, and current mupp
> > (map units per pixel).  Also, rather than setting a pointer to a pixmap,
> it
> > sets a pointer to a symbol renderer which will always render the symbol
> > with a size of 1.  QgsVectorLayer's drawFeature( ) method scales the
> > painter by the size scale and calls the symbolRenderer's render( )
> method.
> >
> > Since this appears to be much slower than the current code, we probably
> > need to do some context-dependent caching.
> >
> > In the rendering context, we would need to include some information
> about
> > whether we were rendering in screen units or paper units.  Perhaps more
> > correctly, we would like to know the output DPI, which will be one
> > (system-dependent) thing for the editing canvas, 25.4 for the composer
> > canvas, and some variable for the composer map cache.  Because of the
> way
> > the physical output is handled, I don't think we need to know or care
> what
> > the printer's DPI is.
> >
> > This should enable the removal of the symbol/line width/text scale
> options
> > in the composer.  This also allows us to use the QgsMapRender class to
> > render the map, rather than having a bunch of almost-duplicate code.
>  The
> > code currently in composer_redesign uses QgsMapRender, but I haven't
> taken
> > the time to remove the scale boxes in the map control pane.
> >
> > Let me know if this still isn't clear.  I haven't completely sorted it
> all
> > out, either. :-)
> >
> > Steven
> >
> >
> > On Wed, Mar 5, 2008 at 4:09 AM, Marco Hugentobler <
> >
> > marco.hugentobler@karto.baug.ethz.ch> wrote:
> > > Hi Steven,
> > >
> > > > I would remove symbolScale and widthScale in favor of defining the
> > >
> > > widths
> > >
> > > > in terms of concrete units, whether pixels, millimeters, or map
> units.
> > >
> > > It would be good for me if you could explain this idea in more detail
> as
> > > I'm
> > > still not sure my understanding is correct.
> > >
> > > Do you mean that QgsSymbol should have its own pen width and stroke
> > > width? They would be specified e.g. in mm instead of pixels and when
> the
> > > symbol is
> > > applied, transformed to pixels according to the ouput device dpi?
> > >
> > >
> > > The idea that i had was to just work on pixel level with one
> scalefactor
> > > (mResolutionRatio). So if e.g. a printer has a resolution of screen
> dpi *
> > > 2,
> > > then mResolutionRatio would be 2 and all the width values for QPen,
> > > QBrush and also width/height for images would be scaled by factor 2.
> > > Caching pixmaps
> > > would only be alloud if mResolutionRatio is 1.
> > >
> > > I think that would be doable without many code changes. But it is not
> as
> > > generic and clean as working with real units (e.g. mm) in the qgis
> core.
> > >
> > > Regards,
> > > Marco
> > >
> > > Am Dienstag 04 M?rz 2008 17:26:08 schrieb Steven Bell:
> > > > > So my suggestion is to have the rendering context somehow like
> this:
> > > > >
> > > > > class QgsMapRenderContext
> > > > > {
> > > > >        QgsMapToPixel mMapToPixel;
> > > > >        QgsCoordinateTransform mCoordTransform;
> > > > >        QgsRect mExtent;
> > > > >        bool drawEditingInformation;
> > > > >        bool mRenderingStopped;
> > > > >        double mResolutionRatio;
> > > > > };
> > > > >
> > > > > The resolution ratio is usually 1, except when drawing to a
> different
> > > > > paint
> > > > > device (like QPrinter). I hope it will allow to consider for
> > > > > different line
> > > > > width / symbol sizes on these output devices.
> > > > >
> > > > >
> > > > >From what I understand, QgsMapToPixel basically holds the
> information
> > >
> > > that
> > >
> > > > mResolutionRatio would contain.
> > > >
> > > > Martin already mentioned this, but the rendering context needs to
> have
> > >
> > > some
> > >
> > > > way to tell the renderer whether to use maximum-resolution vector
> ouput
> > >
> > > or
> > >
> > > > cached pixmaps.  I would also add something about what the output
> units
> > > > are, whether pixels or millimeters.  Both of the above might be done
> > > > together with an "are we printing to ps/pdf/svg" bool.
> > > >
> > > > I would remove symbolScale and widthScale in favor of defining the
> > >
> > > widths
> > >
> > > > in terms of concrete units, whether pixels, millimeters, or map
> units.
> > > > This is what I have attempted to do in the current composer_redesign
> > >
> > > code.
> > >
> > > > One of the major problems is that printed millimeters are treated as
> > > > the same as screen pixels, rather than a separate but similar type
> of
> > > > measurement.
> > > >
> > > > I hope this makes sense.  Let me know if I need to clarify anything.
> > > > Steven
> > >
> > > --
> > > Dr. Marco Hugentobler
> > > Institute of Cartography
> > > ETH Zurich
> > > Technical Advisor QGIS Project Steering Committee
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
>

From tutey at o2.pl  Sun Mar  9 11:41:02 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun Mar  9 11:41:06 2008
Subject: [Qgis-developer] issues with Polish chars in PostGIS column names
In-Reply-To: <15920379.post@talk.nabble.com>
References: <47D2D804.1080903@o2.pl> <15920379.post@talk.nabble.com>
Message-ID: <47D4050E.3090208@o2.pl>

Steven Mizuno pisze:

> I have submitted a patch on bug #964 
> (https://trac.osgeo.org/qgis/ticket/964) that fixes such
> internationalization issues.

> If you are willing to compile patched source, I would be interested in any
> feedback, especially if there is something  related to character sets that
> doesn't work.

Hi Steven

Great stuff! Current trunk with your patch builds and fixes the 
non-ascii chars issues for me. I have verified that columns with 
non-ascii chars now behave themselves in the:

- query builder of the add postgis layer dialog
- digitizer
- identify tool
- table editor
- layer properties

I noticed an issue. I don't know if it's related to your changes:

1. Add 3 new columns in QGIS table editor: col1, col2, col3.

2. Drop "col2".

3. All QGIS tools start claming that you have 2 "col3" columns. Of 
course that's not true. Re-add the layer or start digitizing it and all 
is fine again.

Talking of bugs in PostGIS support - there are several left, reported in 
Trac. Is anybody planning to try to fix them in close future? What about 
bugs in digitizing?

Maciek
From marco.hugentobler at karto.baug.ethz.ch  Sun Mar  9 12:15:56 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Sun Mar  9 12:15:58 2008
Subject: [Qgis-developer] Connection reusing in postgres provider
Message-ID: <200803091715.56800.marco.hugentobler@karto.baug.ethz.ch>

Hi J?rgen,

Sorry to spam you with another mail today.

There is a problem with the reusage of connections in postgres provider (via 
static member variable QgsPostgresProvider::connections). Two postgres layers 
that share the same connection might influence each others binary cursors. As 
a binary cursors is valid inside a transaction, calling "end work" on a 
connection will also influence the cursor of the second layer.

Independence of the binary cursors is particularly important in geoprocessing, 
where situations like in the following Pseudocode happen very often:

QgsVectorDataProvider* pa;
QgsVectorDataProvider*pb;

pa->select
pb->select

while(pb->getNextFeature)
{
	QgsRect boundingBox = feature.boundingBox;
	pa->select(boundingBox)
	while(pa->getNextFeature)
	{

	}
}

For a test, I changed the static connections variable to a nonstatic one (so 
disabled the connection sharing) and the problems in the geoprocessing plugin 
went away.

Do you think connection sharing in postgres provider should be disabled?
Or is there a possibility to prevent the binary cursor problem with keeping 
connection sharing?

Regards,
Marco

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From mauricio.dev at gmail.com  Sun Mar  9 12:31:23 2008
From: mauricio.dev at gmail.com (Mauricio)
Date: Sun Mar  9 12:31:28 2008
Subject: [Qgis-developer] Wrote a FindByAttribute python plugin
Message-ID: <200803091331.23838.mauricio.dev@gmail.com>

Heh, it's a little bit odd to see that i started this kind of untrust but it's 
good to see that it made everyone think about security issues.
Ahm... just to ask: did my plugin ruin anyone's data? It shouldn't (or at 
least i don't deal with the editable part of the vector layers as i didn't 
know how to use it at that time :P).
I like the "responsible developper" idea where we have to get a developper to 
test our plugins so it can be made official. :D
If anyone would be kind enough to be responsible for testing mine, i'll be 
glad.

Maur?cio de Paulo
From jef at norbit.de  Sun Mar  9 18:31:18 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sun Mar  9 18:31:39 2008
Subject: [Qgis-developer] Re: Connection reusing in postgres provider
In-Reply-To: <200803091715.56800.marco.hugentobler@karto.baug.ethz.ch>
	<200803090930.55153.marco.hugentobler@karto.baug.ethz.ch>
References: <200803091715.56800.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <20080309223118.GA15979@norbit.de>

Hi Marco,

On Sun, 09. Mar 2008 at 17:15:56 +0100, Marco Hugentobler wrote:
> There is a problem with the reusage of connections in postgres provider (via 
> static member variable QgsPostgresProvider::connections). Two postgres layers 
> that share the same connection might influence each others binary cursors. As 
> a binary cursors is valid inside a transaction, calling "end work" on a 
> connection will also influence the cursor of the second layer.

Right.  Either we need a WITH HOLD when declaring the cursor or drop
connection pooling alltogether.  The later is probably a necessity
anyway, if we want to introduce feature locking.

I'll try that and Steven's patch tomorrow.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From spookster at netzero.net  Sun Mar  9 22:39:07 2008
From: spookster at netzero.net (Steven Mizuno)
Date: Sun Mar  9 22:39:09 2008
Subject: [Qgis-developer] issues with Polish chars in PostGIS column names
In-Reply-To: <47D4050E.3090208@o2.pl>
References: <47D2D804.1080903@o2.pl> <15920379.post@talk.nabble.com>
	<47D4050E.3090208@o2.pl>
Message-ID: <15949903.post@talk.nabble.com>



Maciej Sieczka wrote:
> 
> I noticed an issue. I don't know if it's related to your changes:
> 
> 1. Add 3 new columns in QGIS table editor: col1, col2, col3.
> 
> 2. Drop "col2".
> 
> 3. All QGIS tools start claming that you have 2 "col3" columns. Of 
> course that's not true. Re-add the layer or start digitizing it and all 
> is fine again.
> 

I had noticed the column problem and set it aside. The problem exists at
least as far back as 0.9.1. I was intending to file a bug report but haven't
gotten around to it.


-- 
View this message in context: http://www.nabble.com/issues-with-Polish-chars-in-PostGIS-column-names-tp15918312p15949903.html
Sent from the qgis-developer mailing list archive at Nabble.com.

From david.a.riggs at gmail.com  Sun Mar  9 23:37:16 2008
From: david.a.riggs at gmail.com (David A. Riggs)
Date: Sun Mar  9 23:37:18 2008
Subject: [Qgis-developer] Wrote a FindByAttribute python plugin
In-Reply-To: <200803091331.23838.mauricio.dev@gmail.com>
References: <200803091331.23838.mauricio.dev@gmail.com>
Message-ID: <d8169c660803092037n49f706fcqd4eb0920618f789b@mail.gmail.com>

On Sun, Mar 9, 2008 at 12:31 PM, Mauricio <mauricio.dev@gmail.com> wrote:
> Heh, it's a little bit odd to see that i started this kind of untrust but it's
>  good to see that it made everyone think about security issues.
>  Ahm... just to ask: did my plugin ruin anyone's data?
>

No!  :-)

I've never tried your plugin, the discussion about it just made me
think more about the plugin installer and repository. I guess I should
have said so from the start, didn't mean to make you think that your
plugin "kicked my cat"!

- DR

-- 
David A. Riggs <david.a.riggs@gmail.com>
From tutey at o2.pl  Mon Mar 10 04:00:58 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Mon Mar 10 04:00:58 2008
Subject: [Qgis-developer] dropping a column sometimes goes funky [was:
 issues with Polish chars in PostGIS column names]
In-Reply-To: <15949903.post@talk.nabble.com>
References: <47D2D804.1080903@o2.pl>
	<15920379.post@talk.nabble.com>	<47D4050E.3090208@o2.pl>
	<15949903.post@talk.nabble.com>
Message-ID: <47D4EABA.6000300@o2.pl>

Steven Mizuno pisze:
> Maciej Sieczka wrote:

>> I noticed an issue. I don't know if it's related to your changes:
>>
>> 1. Add 3 new columns in QGIS table editor: col1, col2, col3.
>>
>> 2. Drop "col2".
>>
>> 3. All QGIS tools start claming that you have 2 "col3" columns. Of 
>> course that's not true. Re-add the layer or start digitizing it and all 
>> is fine again.

> I had noticed the column problem and set it aside. The problem exists at
> least as far back as 0.9.1. I was intending to file a bug report but haven't
> gotten around to it.

Done it: https://trac.osgeo.org/qgis/ticket/984.

Maciek


From icos.atropa at gmail.com  Mon Mar 10 19:01:10 2008
From: icos.atropa at gmail.com (icosa atropa)
Date: Mon Mar 10 19:01:14 2008
Subject: [Qgis-developer] Re: Connection reusing in postgres provider
Message-ID: <681d07c20803101601v13c703davbf9b46245f3f1cb9@mail.gmail.com>

If I'm interpreting postgresql docs correctly, there's not a whole lot
of server-side overhead from individual connections.  The default
max_connections in pg8.3 is 100, and easily adjustable, while the
default max_locks_per_transaction is 64.  The memory consumption from
this, in bytes, is max_connections * (1800 + 270 *
max_locks_per_transaction), i.e. less than 20K per connection, or less
than 2MB for 100 connections (default) or 20MB for 1000 connections.

A final connection related tidbit directly from the docs:

"shared_buffers (integer)
    Sets the amount of memory the database server uses for shared
memory buffers. The default is typically 32 megabytes (32MB), but
might be less if your kernel settings will not support it (as
determined during initdb). This setting must be at least 128 kilobytes
and at least 16 kilobytes times max_connections. (Non-default values
of BLCKSZ change the minimum.) However, settings significantly higher
than the minimum are usually needed for good performance. Several tens
of megabytes are recommended for production installations. This
parameter can only be set at server start."

In short:
1. Postgresql server admin usually takes a little tweaking for max performance
2. Postgresql servers are memory-hungry for good performance
3. The memory footprint of individual connections doesn't look,
comparatively, very high.

I'm not clear on the network traffic benefits of connection pooling,
but it looks like for "most uses" that using discrete postgresql
connections in qgis would not place an undue burden on
postgis/postgresql servers.

the relevant postgresql docs are here:
http://www.postgresql.org/docs/8.3/interactive/kernel-resources.html#SYSVIPC
http://www.postgresql.org/docs/8.3/interactive/runtime-config-connection.html#GUC-MAX-CONNECTIONS

best,
christian

>  Do you think connection sharing in postgres provider should be disabled?
>  Or is there a possibility to prevent the binary cursor problem with keeping
>  connection sharing?
From sherman at mrcc.com  Tue Mar 11 10:21:57 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Tue Mar 11 10:22:05 2008
Subject: [Qgis-developer] Fwd: [SoC] Google Summer of Code 2008 - Applivation
References: <47D69431.1020803@bergenheim.net>
Message-ID: <2163A58E-F425-43D6-8BC7-5B088A88CE7C@mrcc.com>

QGIS Developers,
See the message below. If you are willing to be a mentor, enter your  
information on the OSGeo wiki page or email it to me and I will do it  
for you. Note the short deadline.

-gary

Begin forwarded message:

> From: Wolf Bergenheim <wolf+grass@bergenheim.net>
> Date: March 11, 2008 6:16:17 AM GMT-08:00
> To: OSGeo SoC <soc@lists.osgeo.org>,  OSGeo Discussions <discuss@lists.osgeo.org 
> >
> Subject: [SoC] Google Summer of Code 2008 - Applivation
>
> Hello.
>
> I've created a wikipage [1] with the answers to the questions from  
> the GSoC application form. If you are a mentor or a PSC who knows  
> the mentors for your project please update the page with this info.  
> The mentor information should list the google accounts. The Deadline  
> will be tonight at 23:59. Sorry for the short notice.
>
> --Wolf
>
> [1] http://wiki.osgeo.org/wiki/2008_Google_SoC_Application
> -- 
>
> <:3 )---- Wolf Bergenheim ----( 8:>
>
> _______________________________________________
> Soc mailing list
> Soc@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/soc

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From mauricio.dev at gmail.com  Tue Mar 11 19:27:27 2008
From: mauricio.dev at gmail.com (Mauricio)
Date: Tue Mar 11 22:15:02 2008
Subject: [Qgis-developer] Wrote a RGB Composition plugin
Message-ID: <200803112027.27385.mauricio.dev@gmail.com>

For those who always wanted to make rgb compositions without loading the data 
into grass, here it's your plugin. It's nothing great but i think it works.
Can anyone be kind enough to test it? It's in the default repository and it 
requires the python-gdal to be installed in the system. (I'd really like to 
know if there is an easy way to install it on windows)
Thanks to Frank for the idea of using gdal directly.
Maur?cio de Paulo
From luca.casagrande at gmail.com  Wed Mar 12 11:28:11 2008
From: luca.casagrande at gmail.com (Luca Casagrande)
Date: Wed Mar 12 11:28:33 2008
Subject: [Qgis-developer] dataSourceUri() and dictionary
Message-ID: <47D7F68B.7070709@gmail.com>

Hello everybody.

This is my first python plugin, so sorry for newbie question :D

I need to alter the table of a postgis layer so the idea is to get all 
the information from provider.dataSourceUri():

dbname=test host=localhost port=5432 user=postgres password='postgres' 
table="test" (the_geom) sql=

Anyone got a way for converting that in a dictionary, without writing a 
dozen of lines?

Thank you very much!

Luca
From joesim2007 at hotmail.com  Fri Mar 14 06:19:31 2008
From: joesim2007 at hotmail.com (Joseph Simantov)
Date: Fri Mar 14 06:19:33 2008
Subject: [Qgis-developer] QGIS 0.9 linking problem
Message-ID: <BAY140-W1F9019C1D85429E02FF9ADD0A0@phx.gbl>


Hi All,

I hope I am addressing the right list for this question; if not, please excuse me for the off-topic...

I am trying to compile Qgis 09 on Solaris10, and, while cmake configures the makefiles smoothly and without any error, the 'make' procedure is interrupted with the following error:

Linking CXX executable qgis
ld: fatal: library -lutil: not found
ld: fatal: File processing errors. No output written to qgis

Does anybody have any idea where does this 'util' library come from?

Any help will be much appreciated.

Rgds,

Joseph


_________________________________________________________________
T?l?chargez 30 ?motic?nes gratuits pour Windows Live Messenger!
http://www.livemessenger-emoticons.com/fr-ch
From ersts at amnh.org  Fri Mar 14 09:40:32 2008
From: ersts at amnh.org (Peter Ersts)
Date: Fri Mar 14 09:40:43 2008
Subject: [Qgis-developer] Merging the C_API branch 
Message-ID: <47DA8050.7090704@amnh.org>

Marco,

If there are no outstanding tasks/bugs (I don't think there are) with 
the C_API branch, would you possibly be able to merge it back into the 
trunk?  I think it would be a good idea before too many more mods are 
made to the trunk. Also, I would like to get back to some other raster 
work but have been procrastinating and holding off until the C_API 
branch is back in.

I would do it myself but I am not comfortable with touching things 
outside of the core raster components.

thanks,
-pete

-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit

From warmerdam at pobox.com  Fri Mar 14 09:58:15 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 14 09:58:44 2008
Subject: [Qgis-developer] Merging the C_API branch
In-Reply-To: <47DA8050.7090704@amnh.org>
References: <47DA8050.7090704@amnh.org>
Message-ID: <47DA8477.3040603@pobox.com>

Peter Ersts wrote:
> Marco,
> 
> If there are no outstanding tasks/bugs (I don't think there are) with 
> the C_API branch, would you possibly be able to merge it back into the 
> trunk?  I think it would be a good idea before too many more mods are 
> made to the trunk. Also, I would like to get back to some other raster 
> work but have been procrastinating and holding off until the C_API 
> branch is back in.

Marco,

Yes, I'm also hopeful in this regard.  I will warn that I haven't merged
back trunk changes into the c-capi branch for a while (2-3 weeks?).

I must say this "branch for changes then merge" process has not left me
with warm and fuzzy feelings, and it is hard to imagine my taking it on
again unless I am contributing to someone else's effort.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From marco.hugentobler at karto.baug.ethz.ch  Fri Mar 14 10:28:50 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri Mar 14 10:28:17 2008
Subject: [Qgis-developer] Merging the C_API branch
In-Reply-To: <47DA8477.3040603@pobox.com>
References: <47DA8050.7090704@amnh.org> <47DA8477.3040603@pobox.com>
Message-ID: <200803141528.50326.marco.hugentobler@karto.baug.ethz.ch>

Hi Frank and Peter,

Thanks for reminding me, I merged the gdal c-api changes to trunk now.
Please apologize the delay, I thought that Frank would merge the branch, 
that's why I didn't do the merge earlier

(from my mail Feb 26:
"So my suggestion is that you go ahead and merge the branch to 
trunk if there is no objection on the devel list in the next two days")

> I must say this "branch for changes then merge" process has not left me
> with warm and fuzzy feelings, and it is hard to imagine my taking it on
> again unless I am contributing to someone else's effort.

Is the delay in merging the reason for the not warm and fuzzy feelings or is 
it something different?

In my opinion, the "branch for changes then merge" process has increased the 
stability of the qgis code considerably and also the release interval is much 
better because of this process (was >1 year before). 

Best regards,
Marco




Am Freitag 14 M?rz 2008 14:58:15 schrieb Frank Warmerdam:
> Peter Ersts wrote:
> > Marco,
> >
> > If there are no outstanding tasks/bugs (I don't think there are) with
> > the C_API branch, would you possibly be able to merge it back into the
> > trunk?  I think it would be a good idea before too many more mods are
> > made to the trunk. Also, I would like to get back to some other raster
> > work but have been procrastinating and holding off until the C_API
> > branch is back in.
>
> Marco,
>
> Yes, I'm also hopeful in this regard.  I will warn that I haven't merged
> back trunk changes into the c-capi branch for a while (2-3 weeks?).
>
> I must say this "branch for changes then merge" process has not left me
> with warm and fuzzy feelings, and it is hard to imagine my taking it on
> again unless I am contributing to someone else's effort.
>
> Best regards,



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From warmerdam at pobox.com  Fri Mar 14 10:51:44 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 14 10:52:28 2008
Subject: [Qgis-developer] Merging the C_API branch
In-Reply-To: <200803141528.50326.marco.hugentobler@karto.baug.ethz.ch>
References: <47DA8050.7090704@amnh.org> <47DA8477.3040603@pobox.com>
	<200803141528.50326.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47DA9100.2060403@pobox.com>

Marco Hugentobler wrote:
> Hi Frank and Peter,
> 
> Thanks for reminding me, I merged the gdal c-api changes to trunk now.
> Please apologize the delay, I thought that Frank would merge the branch, 
> that's why I didn't do the merge earlier
> 
> (from my mail Feb 26:
> "So my suggestion is that you go ahead and merge the branch to 
> trunk if there is no objection on the devel list in the next two days")

Marco,

Well, first of all, any process that requires me to remember to do something
two days later based on no one objecting has a 93% chance of my forgetting
it forever.  Also, I imagine the part about me doing it didn't sink in -
likely I skimmed the email to fast.

>> I must say this "branch for changes then merge" process has not left me
>> with warm and fuzzy feelings, and it is hard to imagine my taking it on
>> again unless I am contributing to someone else's effort.
> 
> Is the delay in merging the reason for the not warm and fuzzy feelings or is 
> it something different?

It seemed like a great deal of overhead for a modest change.  It was a painful
hassle for me to setup a new development tree and get it configured properly
(please no volunteers to help with this).  Second it was painful for people
to test the branch. It seems custom builds of the software had to be prepared
and distributed for testing.  Third the merge seemed to drag on in an unclear
sort of limbo for many weeks.

I would add that I'm somewhat merge-phobic, and in other projects I try to use
it only on very narrowly defined well understood changes.

Some of these issues are just my backwards and grumpy nature.

> In my opinion, the "branch for changes then merge" process has increased the 
> stability of the qgis code considerably and also the release interval is much 
> better because of this process (was >1 year before). 

If it is the best strategy for the project, then by all means continue.  But
be aware that the approach is off putting to at least some contributors.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From marco.hugentobler at karto.baug.ethz.ch  Fri Mar 14 12:58:22 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri Mar 14 12:57:48 2008
Subject: [Qgis-developer] Merging the C_API branch
In-Reply-To: <47DA9100.2060403@pobox.com>
References: <47DA8050.7090704@amnh.org>
	<200803141528.50326.marco.hugentobler@karto.baug.ethz.ch>
	<47DA9100.2060403@pobox.com>
Message-ID: <200803141758.22238.marco.hugentobler@karto.baug.ethz.ch>

Frank,

I understand your points to some extent. There are things that didn't went 
well and can be improved.

Note the branching and merging is only for larger changes or changes that 
affect a lot of other code. If you do some changes in the raster part of QGIS 
and it is ok with Peter (as he is the raster maintainer), then no problem to 
commit it directly to svn.

Even though branching and merging may cause some inconvenience, I still think 
it is crucial to maintain basic code stability. In the case of the C-Api 
branch, testing revealed 4 bugs that would have been much harder to detect 
without branching. And this is a very low number, usually changes like this 
introduce more bugs.
I remember the times before the branching and merging process, and the 
stability problems then were also putting off some contributors and prevented 
a lot of users from using the software.

> > In my opinion, the "branch for changes then merge" process has increased
> > the stability of the qgis code considerably and also the release interval
> > is much better because of this process (was >1 year before).
>
> If it is the best strategy for the project, then by all means continue. 
> But be aware that the approach is off putting to at least some
> contributors.

I'm open to suggestions on how to improve development. QGIS is a democratic 
project and development practices can be discussed and adapted if a majority 
of developers are in favour of it.


Regards and thanks again for your work,
Marco



  

Am Freitag 14 M?rz 2008 15:51:44 schrieb Frank Warmerdam:
> Marco Hugentobler wrote:
> > Hi Frank and Peter,
> >
> > Thanks for reminding me, I merged the gdal c-api changes to trunk now.
> > Please apologize the delay, I thought that Frank would merge the branch,
> > that's why I didn't do the merge earlier
> >
> > (from my mail Feb 26:
> > "So my suggestion is that you go ahead and merge the branch to
> > trunk if there is no objection on the devel list in the next two days")
>
> Marco,
>
> Well, first of all, any process that requires me to remember to do
> something two days later based on no one objecting has a 93% chance of my
> forgetting it forever.  Also, I imagine the part about me doing it didn't
> sink in - likely I skimmed the email to fast.
>
> >> I must say this "branch for changes then merge" process has not left me
> >> with warm and fuzzy feelings, and it is hard to imagine my taking it on
> >> again unless I am contributing to someone else's effort.
> >
> > Is the delay in merging the reason for the not warm and fuzzy feelings or
> > is it something different?
>
> It seemed like a great deal of overhead for a modest change.  It was a
> painful hassle for me to setup a new development tree and get it configured
> properly (please no volunteers to help with this).  Second it was painful
> for people to test the branch. It seems custom builds of the software had
> to be prepared and distributed for testing.  Third the merge seemed to drag
> on in an unclear sort of limbo for many weeks.
>
> I would add that I'm somewhat merge-phobic, and in other projects I try to
> use it only on very narrowly defined well understood changes.
>
> Some of these issues are just my backwards and grumpy nature.
>
> > In my opinion, the "branch for changes then merge" process has increased
> > the stability of the qgis code considerably and also the release interval
> > is much better because of this process (was >1 year before).
>
> If it is the best strategy for the project, then by all means continue. 
> But be aware that the approach is off putting to at least some
> contributors.
>
> Best regards,



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From telwertowski at comcast.net  Fri Mar 14 15:23:41 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Fri Mar 14 15:23:45 2008
Subject: [Qgis-developer] QGIS 0.9 linking problem
In-Reply-To: <BAY140-W1F9019C1D85429E02FF9ADD0A0@phx.gbl>
References: <BAY140-W1F9019C1D85429E02FF9ADD0A0@phx.gbl>
Message-ID: <47DAD0BD.7040102@comcast.net>

Joseph Simantov wrote:
> I am trying to compile Qgis 09 on Solaris10, and, while cmake configures the makefiles smoothly and without any error, the 'make' procedure is interrupted with the following error:
> 
> Linking CXX executable qgis
> ld: fatal: library -lutil: not found
> ld: fatal: File processing errors. No output written to qgis
> 
> Does anybody have any idea where does this 'util' library come from?

Hi Joseph,

Some systems, Mac OS X for example, don't have the 'util' library. Try removing '-lutil' from build/src/app/CMakeFiles/qgis.dir/build.make and run 'make' again. '-lutil' is in my Ubuntu build.make but not my Mac build.make.

If 'make' succeeds, you don't need 'util'. If it still fails, you may need some other library instead (or perhaps a path to 'util' if it's in some non-standard place). In both cases, something needs to be fixed in the configuration process for Solaris10.

The GRASS plugin has this problem but you haven't gotten that far yet since  the plugin is built after qgis. There is a special case in FindGRASS.cmake for Mac OS X and 'util'. A test for Solaris may need to be added there also.

Tom
From ersts at amnh.org  Fri Mar 14 18:34:31 2008
From: ersts at amnh.org (Peter Ersts)
Date: Fri Mar 14 18:34:31 2008
Subject: [Qgis-developer] Merging the C_API branch
In-Reply-To: <200803141528.50326.marco.hugentobler@karto.baug.ethz.ch>
References: <47DA8050.7090704@amnh.org> <47DA8477.3040603@pobox.com>
	<200803141528.50326.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47DAFD77.8050008@amnh.org>

Marco Hugentobler wrote:
> Thanks for reminding me, I merged the gdal c-api changes to trunk now

Thanks Marco!

-pete

-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit

From wonder.sk at gmail.com  Sat Mar 15 12:33:40 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Mar 15 12:33:43 2008
Subject: [Qgis-developer] dataSourceUri() and dictionary
In-Reply-To: <47D7F68B.7070709@gmail.com>
References: <47D7F68B.7070709@gmail.com>
Message-ID: <e8e7199c0803150933q273f02a8o84314b81dc06936b@mail.gmail.com>

On Wed, Mar 12, 2008 at 4:28 PM, Luca Casagrande
<luca.casagrande@gmail.com> wrote:
> Hello everybody.
>
>  This is my first python plugin, so sorry for newbie question :D
>
>  I need to alter the table of a postgis layer so the idea is to get all
>  the information from provider.dataSourceUri():
>
>  dbname=test host=localhost port=5432 user=postgres password='postgres'
>  table="test" (the_geom) sql=
>
>  Anyone got a way for converting that in a dictionary, without writing a
>  dozen of lines?

Hi Luca,
you can use QgsDataSourceURI class from core library for this job:
uri = QgsDataSourceURI("dbname=... ...")
print uri.table()
print uri.geometryColumn()

and more...

Martin
From tim at linfiniti.com  Sat Mar 15 12:55:48 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Mar 15 12:55:51 2008
Subject: [Qgis-developer] 0.9.2 Release Plans
Message-ID: <d368056f0803150955oadf469dlda609a23a521b3c2@mail.gmail.com>

Hi Folks (sorry if you get this twice - I sent to the wrong list last time)

After some delay while we got our newly formed release team a little
organised, we are ready to forge on with our release schedule. We
would like to release 0.9.2 on April 15th 2008. You will no doubt see
some messages coming from the release team over this time as we spread
the work of doing the release amongst the team. Please bear with us as
we get used to our new roles. In particular you might get asked for
some info regarding the new features you have worked on during the
0.9.2 release cycle as one of our aims is to make more enjoyable,
meaningful and interesting release announcements. I have posted the
updated timings on the 0.9.2 release checklist here:

http://wiki.qgis.org/qgiswiki/ReleaseChecklist0.9.2

The key thing to note is that feature freeze will go into effect as of
25 March 2008.

Best regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From cavallini at faunalia.it  Sun Mar 16 04:51:40 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun Mar 16 04:51:48 2008
Subject: [Qgis-developer] 0.9.2 Release Plans
In-Reply-To: <d368056f0803150955oadf469dlda609a23a521b3c2@mail.gmail.com>
References: <d368056f0803150955oadf469dlda609a23a521b3c2@mail.gmail.com>
Message-ID: <47DCDF9C.3090800@faunalia.it>

Tim Sutton ha scritto:

> http://wiki.qgis.org/qgiswiki/ReleaseChecklist0.9.2

Hi Tim.
Would it be feasible to release an rc2? I think it would be good to have
a fresh base for testing (now several packages are around for various OS
and platforms, so it's getting difficult to check the results of
different versions).
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
From telwertowski at comcast.net  Mon Mar 17 02:36:01 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Mon Mar 17 02:36:02 2008
Subject: [Qgis-developer] QGIS 0.9 linking problem
In-Reply-To: <BAY140-W1F9019C1D85429E02FF9ADD0A0@phx.gbl>
References: <BAY140-W1F9019C1D85429E02FF9ADD0A0@phx.gbl>
Message-ID: <47DE1151.3000103@comcast.net>

Joseph Simantov wrote:
> Thx for your help; qgis actually compiled after the reference to util 
> was removed, as you suggested.

Hi Joseph,

There is a reference to 'util' in Python.cmake. This may be what is causing  the problem linking qgis. I don't think SOLARIS is a CMake keyword but the test in Python.cmake should be modified to something like 'IF (UNIX AND NOT (APPLE OR SOLARIS))' to see if it fixes the qgis link problem.

> The Grass plugin indeed refused to compile; libutil is required...
> 
> Any idea where I could find this lib? I found a reference at 
> http://www.amath.washington.edu/~lf/software/libutil/index.html, but is 
> it the right one?

libutil provides the implementation of openpty which is used by the GRASS plugin. Solaris may not have openpty. If it has openpty, you need to specify whatever library contains it (or perhaps no library if it's in a default library like Mac OS X).

In general, you don't want to acquire a system library from elsewhere unless you are certain that 1) it's known to be compatible with your OS and 2) it's known to contain the missing function and also not contain other duplicate functions which might cause conflicts.

If you need an implementation of openpty, finding a library which contains openpty for Solaris and nothing else is the safest solution.

For now, you can try removing '-lutil' from build/src/plugins/grass/CMakeFiles/grassplugin.dir/link.txt. If you still get errors, you need to find openpty.

The GRASS plugin can also be built without openpty. You will not have the QGIS GRASS shell but this will allow you to build everything else until you find a solution for openpty.

The configuration process should not try to build the GRASS shell if Solaris doesn't have openpty. What are the values of OPENPTY_LIBRARY and HAVE_OPENPTY in build/CMakeCache.txt? Setting HAVE_OPENPTY to 0 might get around the problem if removing '-lutil' doesn't work.

Tom
From cavallini at faunalia.it  Mon Mar 17 08:15:25 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon Mar 17 08:15:41 2008
Subject: [Qgis-developer] hackmeeting
Message-ID: <47DE60DD.30607@faunalia.it>

Hi all.
Please everybody fill up the table at the end of:
http://wiki.qgis.org/qgiswiki/Finances
Feel free to edit and impreve the page.
If we can converge to a date and place, I'll start looking for funding.
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
From tim at linfiniti.com  Mon Mar 17 09:33:39 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Mar 17 09:33:45 2008
Subject: [Qgis-developer] 0.9.2 Release Plans
In-Reply-To: <47DCDF9C.3090800@faunalia.it>
References: <d368056f0803150955oadf469dlda609a23a521b3c2@mail.gmail.com>
	<47DCDF9C.3090800@faunalia.it>
Message-ID: <d368056f0803170633p5e699929l8931f2edbe23af6c@mail.gmail.com>

Hi Paolo

I prefer to go on with 0.9.2:

 - our newly formed release team is trying to learn the procedure of a
release and I don't want to move the ground under their feet.
 - pushing 0.9.2 final release will cause downstream delays to getting
1.0 out in time for september.


Regards

Tim

2008/3/16, Paolo Cavallini <cavallini@faunalia.it>:
> Tim Sutton ha scritto:
>
>
>  > http://wiki.qgis.org/qgiswiki/ReleaseChecklist0.9.2
>
>
> Hi Tim.
>  Would it be feasible to release an rc2? I think it would be good to have
>  a fresh base for testing (now several packages are around for various OS
>  and platforms, so it's getting difficult to check the results of
>  different versions).
>  All the best.
>  pc
>
> --
>  Paolo Cavallini, see: http://www.faunalia.it/pc
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From telwertowski at comcast.net  Tue Mar 18 02:25:54 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Tue Mar 18 02:25:58 2008
Subject: [Qgis-developer] SVG generator patch
In-Reply-To: <d368056f0712191908v623fac9aqe2f05aee6fae9b02@mail.gmail.com>
References: <255b57430712171138rdf28ea2s72589282ed9effce@mail.gmail.com>	<d368056f0712172003m1963c2e2sc61d6144404f9c49@mail.gmail.com>	<255b57430712190756w39788c77hd0b4a9b7252ce6ae@mail.gmail.com>
	<d368056f0712191908v623fac9aqe2f05aee6fae9b02@mail.gmail.com>
Message-ID: <47DF6072.9030503@comcast.net>

2007/12/17, Steven Bell <botsnlinux@gmail.com>:
> Attached is a patch which updates the composer to use Qt 4.3's QSvgGenerator
> class.  It doesn't fix all of the problems (most notably the fact that
> layers are not clipped to the map outline), but it is a significant
> improvement over the Q3Picture SVG generator.

I propose adding this now for 0.9.2 with preprocessor tests for Qt4.2 and 4.3. Users with 4.2 would continue to compile the old code while users of 4.3 will benefit from the new code.

I have already made this modification as part of removing all Qt3 code from qgis. The full set of modifications (all except the GRASS plugin) won't be ready for about two more weeks but this composer modification is independent of everything else. Should I submit it to svn?

Tom

From tim at linfiniti.com  Tue Mar 18 06:29:29 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Mar 18 06:29:34 2008
Subject: [Qgis-developer] SVG generator patch
In-Reply-To: <47DF6072.9030503@comcast.net>
References: <255b57430712171138rdf28ea2s72589282ed9effce@mail.gmail.com>
	<d368056f0712172003m1963c2e2sc61d6144404f9c49@mail.gmail.com>
	<255b57430712190756w39788c77hd0b4a9b7252ce6ae@mail.gmail.com>
	<d368056f0712191908v623fac9aqe2f05aee6fae9b02@mail.gmail.com>
	<47DF6072.9030503@comcast.net>
Message-ID: <d368056f0803180329u2157abb9u36a376d09396e624@mail.gmail.com>

Hi

+1 from me

for the qt3 to qt4 changes you have in the pipeline, it will be better
to wait till after 0.9.2 release has been branched away from trunk
(which I guess is what you had in mind anyway).

Regards

Tim

On 3/18/08, Tom Elwertowski <telwertowski@comcast.net> wrote:
> 2007/12/17, Steven Bell <botsnlinux@gmail.com>:
> > Attached is a patch which updates the composer to use Qt 4.3's
> QSvgGenerator
> > class.  It doesn't fix all of the problems (most notably the fact that
> > layers are not clipped to the map outline), but it is a significant
> > improvement over the Q3Picture SVG generator.
>
> I propose adding this now for 0.9.2 with preprocessor tests for Qt4.2 and
> 4.3. Users with 4.2 would continue to compile the old code while users of
> 4.3 will benefit from the new code.
>
> I have already made this modification as part of removing all Qt3 code from
> qgis. The full set of modifications (all except the GRASS plugin) won't be
> ready for about two more weeks but this composer modification is independent
> of everything else. Should I submit it to svn?
>
> Tom
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From fpacheco.csag at gmail.com  Tue Mar 18 08:20:12 2008
From: fpacheco.csag at gmail.com (Fernando Pacheco)
Date: Tue Mar 18 08:20:15 2008
Subject: [Qgis-developer] Trolltech is Not Porting Qt3Support for 64-bit
	Mac Builds
In-Reply-To: <d368056f0803070514r11400796g24822d78f6915505@mail.gmail.com>
References: <47D01198.7060006@comcast.net>
	<e8e7199c0803061348i2d7d57afy3ded820fb090eaac@mail.gmail.com>
	<d368056f0803070514r11400796g24822d78f6915505@mail.gmail.com>
Message-ID: <d1ddb800803180520w6f18bbf1r54a645dbc70d5ae3@mail.gmail.com>

Hi,
Sorry for the delay. Yes, I am interested in working on this issue. At the
moment I am a little busy and I can not commit a workload greater than 6
hours a week.

2008/3/7, Tim Sutton <tim@linfiniti.com>:
>
> Hi
>
> +1 for porting - its a 'must have' for 1.0 release in my opinion.
>
> Tom, Fernando Pacheco has expressed interest in working on Qt4 porting
> in the past so perhaps the two of you might like to collaborate here.
> I've cc'd Fernando in to this message.
>
> Regards
>
> Tim
>
> 2008/3/6, Martin Dobias <wonder.sk@gmail.com>:
> > On Thu, Mar 6, 2008 at 4:45 PM, Tom Elwertowski
> >  <telwertowski@comcast.net> wrote:
> >  >
> >  >  Therefore I would like to start converting the remaining QGIS files
> -- perhaps 1 to 3 files per work session depending on complexity. Are there
> any issues to be aware of?
> >
> >
> > AFAIK core library depends on qt3support only minimally, gui library
> >  probably has already no dependencies (since the port to
> >  QGraphicsView). There might be some caveats in application itself -
> >  what comes to my mind is mainly attribute table which will maybe need
> >  some non-trivial changes.
> >
> >  Anyway, getting rid of qt3 code is quite important for QGIS 1.0 which
> >  IMHO shouldn't contain any more pieces of Qt3.
> >
> >
> >  Martin
> >
> > _______________________________________________
> >  Qgis-developer mailing list
> >  Qgis-developer@lists.osgeo.org
> >  http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
>
>
> --
> Tim Sutton
> QGIS Project Steering Committee Member - Release  Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>



-- 
Ing. Fernando Pacheco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080318/da1052d6/attachment.html
From otto.dassau at gmx.de  Tue Mar 18 08:41:20 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Tue Mar 18 08:41:31 2008
Subject: [Qgis-developer] hackmeeting
In-Reply-To: <47DE60DD.30607@faunalia.it>
References: <47DE60DD.30607@faunalia.it>
Message-ID: <20080318134120.70b08f94@nature>

Hi Paolo, 

great idea! I added a provisional link to that page to the wiki frontpage as
well.

 Regards,
  Otto

On Mon, 17 Mar 2008 13:15:25 +0100
Paolo Cavallini <cavallini@faunalia.it> wrote:

> Hi all.
> Please everybody fill up the table at the end of:
> http://wiki.qgis.org/qgiswiki/Finances
> Feel free to edit and impreve the page.
> If we can converge to a date and place, I'll start looking for funding.
> All the best.
> pc
From marco.hugentobler at karto.baug.ethz.ch  Wed Mar 19 04:12:38 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Mar 19 04:13:41 2008
Subject: [Qgis-developer] SVG generator patch
In-Reply-To: <47DF6072.9030503@comcast.net>
References: <255b57430712171138rdf28ea2s72589282ed9effce@mail.gmail.com>
	<d368056f0712191908v623fac9aqe2f05aee6fae9b02@mail.gmail.com>
	<47DF6072.9030503@comcast.net>
Message-ID: <200803190912.38340.marco.hugentobler@karto.baug.ethz.ch>

Hi Tom,

+1

Marco

Am Dienstag 18 M?rz 2008 07:25:54 schrieb Tom Elwertowski:
> 2007/12/17, Steven Bell <botsnlinux@gmail.com>:
> > Attached is a patch which updates the composer to use Qt 4.3's
> > QSvgGenerator class.  It doesn't fix all of the problems (most notably
> > the fact that layers are not clipped to the map outline), but it is a
> > significant improvement over the Q3Picture SVG generator.
>
> I propose adding this now for 0.9.2 with preprocessor tests for Qt4.2 and
> 4.3. Users with 4.2 would continue to compile the old code while users of
> 4.3 will benefit from the new code.
>
> I have already made this modification as part of removing all Qt3 code from
> qgis. The full set of modifications (all except the GRASS plugin) won't be
> ready for about two more weeks but this composer modification is
> independent of everything else. Should I submit it to svn?
>
> Tom
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From piklas at gmail.com  Wed Mar 19 09:50:46 2008
From: piklas at gmail.com (Nicolas B.)
Date: Wed Mar 19 09:50:49 2008
Subject: [Qgis-developer] Please tell me ho has coded qgsgrass.cpp !
Message-ID: <180c4dbd0803190650y5709c6f0l7b7a3418cd5fb9fa@mail.gmail.com>

Hi list !

I'd like to know who has coded the grass support for QGIS. Are you here ?
Does anybody know ?
My goal is to contact them to get more information about the way
qgsgrass.cpp, qgsgrassmodule.cpp, qgsgrassshell.cpp ....
In fact i'm trying to parse this C++ code into python from quite a long time
ago, in the aim to be abble to call grasstools from any external QGIS python
plugin.
I understands i have to use Qprocess like in the C++, and also to set up the
grass environment / variables in my python code.

I've tested several methods to to the job, but it still fails.

For example, i'm trying to call r.stats command from the rxvt shell with the
following code:
( i want to get the raster cells values written in a txt file)
******************************************************************************************************
    process = QProcess()
    exe =QString("rxvt.exe")
    arg=QStringList("r.stats -1gn input=mnt10m output='C:/test' fs=;");
    arg.append("@ARGS_PARSED@")
    env = process.systemEnvironment()
    env.append("$GISDBASE='D:/DATA';")
    env.append("$LOCATION_NAME='neff';")
    env.append("$MAPSET='neffmap';")
    process.setEnvironment(env)
    process.start(exe,arg)

********************************************************************************************************
This code snippet doesn't work (the txt file isn't created) but i got no
python errors and no QGIS crash so i think i'm just missing something
important
That's why i'd really enjoy being in contact with Qgrass developers, to know
what's going wrong
Or may be someone with good knowledge of the QGIS API and Python knows how
to do the trick ???

Any hints, help or advices would be really appreciated
Thanks

PikO
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080319/82c97e65/attachment.html
From cavallini at faunalia.it  Wed Mar 19 09:56:09 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Mar 19 09:57:18 2008
Subject: [Qgis-developer] Please tell me ho has coded qgsgrass.cpp !
In-Reply-To: <180c4dbd0803190650y5709c6f0l7b7a3418cd5fb9fa@mail.gmail.com>
References: <180c4dbd0803190650y5709c6f0l7b7a3418cd5fb9fa@mail.gmail.com>
Message-ID: <47E11B79.3010606@faunalia.it>

Nicolas B. ha scritto:
> Hi list !
> 
> I'd like to know who has coded the grass support for QGIS. Are you here
> ? Does anybody know ?

Radim Blazek, but he's inactive on the project currently.
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
Noi ci troviamo male con NGI http://www.ngi.it/
From lami at faunalia.it  Wed Mar 19 13:20:07 2008
From: lami at faunalia.it (Leonardo Lami)
Date: Wed Mar 19 13:21:15 2008
Subject: [Qgis-developer] milestone (list of bugs candidate to be closed)
Message-ID: <47E14B47.2040707@faunalia.it>

Hi all,
I make a little clean up of the bugs, defects and enhancements queues 
and I'd like to show my results to the developers.
I'm quite sure that some bugs can be closed and I signed it with the 
comment "to close" but I prefere that you see it before do it.
For the other bugs ("to verify") I'm resonable sure that they can be 
close but I'm not sure, so I think that your analysis will be decisive.

I hope taht this my little contribute help you to find bugs that can be 
quickly close.
I'm sorry for possible mistakes.

Regards
Leonardo


BUGS

https://trac.osgeo.org/qgis/ticket/657
<https://trac.osgeo.org/qgis/ticket/657>Very old bug maybe resolved with 
the new Mapserver export plugin
To close

https://trac.osgeo.org/qgis/ticket/662
To verify

https://trac.osgeo.org/qgis/ticket/672
To close

https://trac.osgeo.org/qgis/ticket/877
To close


DEFECTS

https://trac.osgeo.org/qgis/ticket/578
To close

https://trac.osgeo.org/qgis/ticket/591
To verify

https://trac.osgeo.org/qgis/ticket/605
To verify

https://trac.osgeo.org/qgis/ticket/613
To close

https://trac.osgeo.org/qgis/ticket/677
To close

https://trac.osgeo.org/qgis/ticket/695
To close

https://trac.osgeo.org/qgis/ticket/718
To verify

https://trac.osgeo.org/qgis/ticket/824
To verify


ENHANCEMENT

https://trac.osgeo.org/qgis/ticket/59
To verify

https://trac.osgeo.org/qgis/ticket/259
To close

https://trac.osgeo.org/qgis/ticket/274
To close

https://trac.osgeo.org/qgis/ticket/331
To close

https://trac.osgeo.org/qgis/ticket/343
To close

https://trac.osgeo.org/qgis/ticket/363
To verify

https://trac.osgeo.org/qgis/ticket/557
To verify

From andres.kruger at anachronics.com  Wed Mar 19 16:17:36 2008
From: andres.kruger at anachronics.com (=?ISO-8859-1?Q?Andr=E9s_Kr=FCger?=)
Date: Wed Mar 19 16:17:41 2008
Subject: [Qgis-developer] Zoom to mouse cursor
Message-ID: <5f00583f0803191317x69a6ef48gcd2c1c1b013d6900@mail.gmail.com>

 Added support for mouse wheel to zoom to the coordinates pointed by the
mouse cursor (like other graphic/modeling/gis apps).

See Ticket #1004
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080319/316e80fb/attachment.html
From john.tull at wildnevada.org  Wed Mar 19 16:44:02 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed Mar 19 16:44:09 2008
Subject: [Qgis-developer] Zoom to mouse cursor
In-Reply-To: <5f00583f0803191317x69a6ef48gcd2c1c1b013d6900@mail.gmail.com>
References: <5f00583f0803191317x69a6ef48gcd2c1c1b013d6900@mail.gmail.com>
Message-ID: <0518D40A-E9A1-4B12-B759-ED2BB352CED4@wildnevada.org>

On Mar 19, 2008, at 1:17 PM, Andr?s Kr?ger wrote:

> Added support for mouse wheel to zoom to the coordinates pointed by  
> the mouse cursor (like other graphic/modeling/gis apps).
>
> See Ticket #1004
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

I have not tested yet, but great addition!

Cheers,
John
From marco.hugentobler at karto.baug.ethz.ch  Thu Mar 20 03:38:22 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Thu Mar 20 03:38:25 2008
Subject: [Qgis-developer] Re: [Qgis-user] milestones
In-Reply-To: <47E13F82.2090700@faunalia.it>
References: <47E13F82.2090700@faunalia.it>
Message-ID: <200803200838.23072.marco.hugentobler@karto.baug.ethz.ch>

Hi Paolo,

Yes, many open bugs, though some of them are enhancements. 

It should be ok to assign the bugs against merged branches to 0.9.2 (if they 
are still valid).

Thanks for your effort. I hope to also find some time to look at the entries 
in the tracker that are assigned to me.

Regards,
Marco



Am Mittwoch 19 M?rz 2008 17:29:54 schrieb Paolo Cavallini:
> Hi all.
> I'm trying to clean up a bit the bugs queue. We now have 200 bugs
> targeted for 0.9.2:
> https://trac.osgeo.org/qgis/query?status=new&status=assigned&status=reopene
>d&group=milestone&order=priority an obviously unrealistic task.
> One question: does it make sense to have tickets targeted at development
> branches, when the branches have been (AFAIK) merged to trunk? See:
> https://trac.osgeo.org/qgis/ticket/997
> Again, some collaboration from all of you would be greatly appreciate,
> to release soon the best possible 0.9.2.
> All the best.
> pc



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From marco.hugentobler at karto.baug.ethz.ch  Thu Mar 20 03:44:21 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Thu Mar 20 03:44:24 2008
Subject: [Qgis-developer] milestone (list of bugs candidate to be closed)
In-Reply-To: <47E14B47.2040707@faunalia.it>
References: <47E14B47.2040707@faunalia.it>
Message-ID: <200803200844.21851.marco.hugentobler@karto.baug.ethz.ch>

Hi Leonardo,

Thanks a lot for your help. I think you should close the bugs that you signed 
as 'to close'. Usually people won't close it because they are too busy. If a 
bug is still present, then the author of the ticket (or someone else) can 
still reopen it.

For the category 'to verify', it would be best if you could close it if there 
was no response for two weeks. Also here, the original authors have the 
possibility to reopen.

cheers,
Marco

Am Mittwoch 19 M?rz 2008 18:20:07 schrieb Leonardo Lami:
> Hi all,
> I make a little clean up of the bugs, defects and enhancements queues
> and I'd like to show my results to the developers.
> I'm quite sure that some bugs can be closed and I signed it with the
> comment "to close" but I prefere that you see it before do it.
> For the other bugs ("to verify") I'm resonable sure that they can be
> close but I'm not sure, so I think that your analysis will be decisive.
>
> I hope taht this my little contribute help you to find bugs that can be
> quickly close.
> I'm sorry for possible mistakes.
>
> Regards
> Leonardo
>
>
> BUGS
>
> https://trac.osgeo.org/qgis/ticket/657
> <https://trac.osgeo.org/qgis/ticket/657>Very old bug maybe resolved with
> the new Mapserver export plugin
> To close
>
> https://trac.osgeo.org/qgis/ticket/662
> To verify
>
> https://trac.osgeo.org/qgis/ticket/672
> To close
>
> https://trac.osgeo.org/qgis/ticket/877
> To close
>
>
> DEFECTS
>
> https://trac.osgeo.org/qgis/ticket/578
> To close
>
> https://trac.osgeo.org/qgis/ticket/591
> To verify
>
> https://trac.osgeo.org/qgis/ticket/605
> To verify
>
> https://trac.osgeo.org/qgis/ticket/613
> To close
>
> https://trac.osgeo.org/qgis/ticket/677
> To close
>
> https://trac.osgeo.org/qgis/ticket/695
> To close
>
> https://trac.osgeo.org/qgis/ticket/718
> To verify
>
> https://trac.osgeo.org/qgis/ticket/824
> To verify
>
>
> ENHANCEMENT
>
> https://trac.osgeo.org/qgis/ticket/59
> To verify
>
> https://trac.osgeo.org/qgis/ticket/259
> To close
>
> https://trac.osgeo.org/qgis/ticket/274
> To close
>
> https://trac.osgeo.org/qgis/ticket/331
> To close
>
> https://trac.osgeo.org/qgis/ticket/343
> To close
>
> https://trac.osgeo.org/qgis/ticket/363
> To verify
>
> https://trac.osgeo.org/qgis/ticket/557
> To verify
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From cavallini at faunalia.it  Thu Mar 20 04:35:41 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu Mar 20 04:35:56 2008
Subject: [Qgis-developer] milestone (list of bugs candidate to be closed)
In-Reply-To: <200803200844.21851.marco.hugentobler@karto.baug.ethz.ch>
References: <47E14B47.2040707@faunalia.it>
	<200803200844.21851.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47E221DD.2060409@faunalia.it>

Marco Hugentobler ha scritto:

> For the category 'to verify', it would be best if you could close it if there 
> was no response for two weeks. Also here, the original authors have the 
> possibility to reopen.

Good. I suggest to close these before the release of 0.9.2, due April
1st (thus slightly less than 2 weeks).
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
Noi ci troviamo male con NGI http://www.ngi.it/
From lami at faunalia.it  Thu Mar 20 05:20:36 2008
From: lami at faunalia.it (lami@faunalia.it)
Date: Thu Mar 20 05:40:52 2008
Subject: [Qgis-developer] milestone (list of bugs candidate to be closed)
In-Reply-To: <200803200844.21851.marco.hugentobler@karto.baug.ethz.ch>
References: <47E14B47.2040707@faunalia.it>
	<200803200844.21851.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <46464.90.132.15.53.1206004836.squirrel@www.faunalia.it>

Hi Marco,

ok I'm going to close the certainly resolved bugs and I will wait two
weeks for the others.
Nice to have comments from anyone that wants value the candidate bugs.

cheers,
Leonardo


> Hi Leonardo,
>
> Thanks a lot for your help. I think you should close the bugs that you
> signed
> as 'to close'. Usually people won't close it because they are too busy. If
> a
> bug is still present, then the author of the ticket (or someone else) can
> still reopen it.
>
> For the category 'to verify', it would be best if you could close it if
> there
> was no response for two weeks. Also here, the original authors have the
> possibility to reopen.
>
> cheers,
> Marco
>


From lami at faunalia.it  Thu Mar 20 06:27:36 2008
From: lami at faunalia.it (lami@faunalia.it)
Date: Thu Mar 20 06:27:39 2008
Subject: [Qgis-developer] milestone (list of bugs candidate to be closed)
In-Reply-To: <47E221DD.2060409@faunalia.it>
References: <47E14B47.2040707@faunalia.it>
	<200803200844.21851.marco.hugentobler@karto.baug.ethz.ch>
	<47E221DD.2060409@faunalia.it>
Message-ID: <59962.90.132.30.24.1206008856.squirrel@www.faunalia.it>


> Good. I suggest to close these before the release of 0.9.2, due April
> 1st (thus slightly less than 2 weeks).
> pc
> --


Good idea!
I think that close the bugs before the new release is certainly better.

Regards
Leo


From marco.hugentobler at karto.baug.ethz.ch  Thu Mar 20 06:47:57 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Thu Mar 20 06:47:59 2008
Subject: [Qgis-developer] milestone (list of bugs candidate to be closed)
In-Reply-To: <59962.90.132.30.24.1206008856.squirrel@www.faunalia.it>
References: <47E14B47.2040707@faunalia.it> <47E221DD.2060409@faunalia.it>
	<59962.90.132.30.24.1206008856.squirrel@www.faunalia.it>
Message-ID: <200803201147.58013.marco.hugentobler@karto.baug.ethz.ch>

+1

Marco

Am Donnerstag 20 M?rz 2008 11:27:36 schrieb lami@faunalia.it:
> > Good. I suggest to close these before the release of 0.9.2, due April
> > 1st (thus slightly less than 2 weeks).
> > pc
> > --
>
> Good idea!
> I think that close the bugs before the new release is certainly better.
>
> Regards
> Leo



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From wonder.sk at gmail.com  Thu Mar 20 09:27:36 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu Mar 20 09:27:42 2008
Subject: [Qgis-developer] Please tell me ho has coded qgsgrass.cpp !
In-Reply-To: <180c4dbd0803190650y5709c6f0l7b7a3418cd5fb9fa@mail.gmail.com>
References: <180c4dbd0803190650y5709c6f0l7b7a3418cd5fb9fa@mail.gmail.com>
Message-ID: <e8e7199c0803200627i1902e458q1b11b32812f27bd7@mail.gmail.com>

On Wed, Mar 19, 2008 at 2:50 PM, Nicolas B. <piklas@gmail.com> wrote:
>
> For example, i'm trying to call r.stats command from the rxvt shell with the
> following code:
> ( i want to get the raster cells values written in a txt file)
>
> ******************************************************************************************************
>     process = QProcess()
>     exe =QString("rxvt.exe")
>      arg=QStringList("r.stats -1gn input=mnt10m output='C:/test' fs=;");
>     arg.append("@ARGS_PARSED@")
>      env = process.systemEnvironment()
>     env.append("$GISDBASE='D:/DATA';")
>      env.append("$LOCATION_NAME='neff';")
>     env.append("$MAPSET='neffmap';")
>      process.setEnvironment(env)
>     process.start(exe,arg)
>

Hi,
I'm just passing by, but I guess you shouldn't use dollar sign when
specifying env. variables, also semicolon shouldn't be needed. And I
guess also the list of arguments should be really a list and not just
one argument with parameters joined by space.

Martin
From cavallini at faunalia.it  Thu Mar 20 10:17:53 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu Mar 20 10:18:09 2008
Subject: [Qgis-developer] rgb plugin
Message-ID: <47E27211.9080902@faunalia.it>

Testing a fresh svn. I get errors after installing plugins:
a few of them (eg geocoder, geoprocessing) throw the old error:
Failed to unzip file to /home/paolo/.qgis/python/plugins ... check
permissions.
When starting, I also get:
===============================
Couldn't load plugin "qgis_rgb"

Traceback (most recent call last):
 File "", line 2, in
 File "/home/paolo/.qgis//python/plugins/qgis_rgb/__init__.py", line 2, in
  from Rgb import rgb
 File "/home/paolo/.qgis//python/plugins/qgis_rgb/Rgb.py", line 10, in
  from ui_control import ui_Control
 File "/home/paolo/.qgis//python/plugins/qgis_rgb/ui_control.py", line
6, in
  import composite, os
 File "/home/paolo/.qgis//python/plugins/qgis_rgb/composite.py", line
30, in
  os.chdir(workdir)
OSError: [Errno 2] No such file or directory:
'/home/mauricio/1a_DL/mma/mi411' [this seems a rather trivial error]
===============================
Couldn't load plugin "geoprocessing"

Traceback (most recent call last):
 File "", line 2, in
ImportError: No module named geoprocessing
===============================
Any suggestions?
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
Noi ci troviamo male con NGI http://www.ngi.it/
From cavallini at faunalia.it  Thu Mar 20 10:49:06 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu Mar 20 10:49:12 2008
Subject: [Qgis-developer] rgb plugin
In-Reply-To: <47E27211.9080902@faunalia.it>
References: <47E27211.9080902@faunalia.it>
Message-ID: <47E27962.1050609@faunalia.it>

Paolo Cavallini ha scritto:
> Testing a fresh svn. I get errors after installing plugins:
> a few of them (eg geocoder, geoprocessing) throw the old error:
> Failed to unzip file to /home/paolo/.qgis/python/plugins ... check
> permissions.

further info: unzipping the plugins by hand in
/home/paolo/.qgis/python/plugins they start, so it is the installation
process that fails.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
Noi ci troviamo male con NGI http://www.ngi.it/
From silfreed at silfreed.net  Thu Mar 20 14:02:43 2008
From: silfreed at silfreed.net (Douglas E. Warner)
Date: Thu Mar 20 14:28:53 2008
Subject: [Qgis-developer] GCC 4.3 support
Message-ID: <200803201402.43990.silfreed@silfreed.net>

Fedora 9 is going to be built using GCC 4.3 [1], and it apparently has a more 
restricted default set of headers.  Here's GCC's guide for porting to GCC 4.3 
[2].

Has any work begun on making QGIS compile with GCC 4.3?  I've started trying 
to patch qgis 0.9.1 to get it built in Fedora 9, but haven't finished yet and 
didn't want to do all the work if it's been completed in some branch already.

-Doug

[1] http://fedoraproject.org/wiki/Features/GCC4.3
[2] http://gcc.gnu.org/gcc-4.3/porting_to.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080320/ae78df51/attachment.bin
From jef at norbit.de  Thu Mar 20 20:47:50 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu Mar 20 20:56:03 2008
Subject: [Qgis-developer] GCC 4.3 support
In-Reply-To: <200803201402.43990.silfreed@silfreed.net>
References: <200803201402.43990.silfreed@silfreed.net>
Message-ID: <20080321004749.GA26182@norbit.de>

Hi Doug,

On Thu, 20. Mar 2008 at 14:02:43 -0400, Douglas E. Warner wrote:
> Has any work begun on making QGIS compile with GCC 4.3?  I've started trying 
> to patch qgis 0.9.1 to get it built in Fedora 9, but haven't finished yet and 
> didn't want to do all the work if it's been completed in some branch already.

This should be fixed in r8257.


J?rgen



-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From john.tull at wildnevada.org  Fri Mar 21 14:08:26 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Fri Mar 21 14:08:33 2008
Subject: [Qgis-developer] Geoprocessing error
Message-ID: <4F36A50D-647C-4C88-A5F8-D236EF59C832@wildnevada.org>

Horst,

I tried performing a union of two vector files with multiple polygons,  
and received the error below. This was using the 0.35 version of the  
plugin with William Kyngesburye's RC1 binary of qgis (I still cannot  
get the plugin to work for me in my development builds). The union  
worked in ubuntu with version 0.35 of the plugin and latest svn.


An error has occured while executing Python code:

Traceback (most recent call last):
File "/Users/jctull/.qgis//python/plugins/geoprocessing/ 
geoprocessing.py", line 242, in geoprocessing
  self.union(myLayerA, myLayerB, myPath, myBool)
File "/Users/jctull/.qgis//python/plugins/geoprocessing/ 
geoprocessing.py", line 266, in union
  resultList = self.makeUnion(vlayerA, vlayerB)
File "/Users/jctull/.qgis//python/plugins/geoprocessing/ 
geoprocessing.py", line 832, in makeUnion
  unionResult = self.makeIntersection(vlayerA, vlayerB)
File "/Users/jctull/.qgis//python/plugins/geoprocessing/ 
geoprocessing.py", line 998, in makeIntersection
  fet.setAttributeMap(mAttributes)
AttributeError: setAttributeMap

Cheers,
John


From cavallini at faunalia.it  Sat Mar 22 05:03:01 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat Mar 22 05:03:06 2008
Subject: [Qgis-developer] please patch qgis_rgb plugin
Message-ID: <47E4CB45.20807@faunalia.it>

In my box, the plugin does not work, I think for a very minor error:
the/home/mauricio/1a_DL/mma/mi411 should be replaced.
Would it be possible to fix this up?
Thanks.
pc
===============================
Couldn't load plugin "qgis_rgb"

Traceback (most recent call last):
 File "", line 2, in
 File "/home/paolo/.qgis//python/plugins/qgis_rgb/__init__.py", line 2, in
  from Rgb import rgb
 File "/home/paolo/.qgis//python/plugins/qgis_rgb/Rgb.py", line 10, in
  from ui_control import ui_Control
 File "/home/paolo/.qgis//python/plugins/qgis_rgb/ui_control.py", line
6, in
  import composite, os
 File "/home/paolo/.qgis//python/plugins/qgis_rgb/composite.py", line
30, in
  os.chdir(workdir)
OSError: [Errno 2] No such file or directory:
'/home/mauricio/1a_DL/mma/mi411'

-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
Noi ci troviamo male con NGI http://www.ngi.it/
From tim at linfiniti.com  Mon Mar 24 20:59:16 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Mar 24 20:59:19 2008
Subject: [Qgis-developer] QGIS 0.9.2 final feature freeze starts tomorrow
Message-ID: <d368056f0803241759k744eded5t35f7acad4aeb29e5@mail.gmail.com>

Hi All

Just a reminder that following our release plan at:

http://wiki.qgis.org/qgiswiki/ReleaseChecklist0.9.2

we will be commencing feature freeze tomorrow, with string freeze
setting in a week after that.

Best regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From Horst.Duester at bd.so.ch  Tue Mar 25 02:56:45 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Tue Mar 25 02:57:54 2008
Subject: AW: [Qgis-developer] Geoprocessing error
Message-ID: <H00002eb027b3014.1206428205.srsofaioi6145.ktso.ch@MHS>

John

The plugin doesn't work with QGIS Rev. before 8171.

Regards
Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch



-----Urspr?ngliche Nachricht-----
Von: John C. Tull [mailto:john.tull@wildnevada.org]
Gesendet am: Freitag, 21. M?rz 2008 19:08
An: qgis-developer
Betreff: [Qgis-developer] Geoprocessing error

Horst,

I tried performing a union of two vector files with multiple polygons,  
and received the error below. This was using the 0.35 version of the  
plugin with William Kyngesburye's RC1 binary of qgis (I still cannot  
get the plugin to work for me in my development builds). The union  
worked in ubuntu with version 0.35 of the plugin and latest svn.


An error has occured while executing Python code:

Traceback (most recent call last):
File "/Users/jctull/.qgis//python/plugins/geoprocessing/ 
geoprocessing.py", line 242, in geoprocessing
  self.union(myLayerA, myLayerB, myPath, myBool)
File "/Users/jctull/.qgis//python/plugins/geoprocessing/ 
geoprocessing.py", line 266, in union
  resultList = self.makeUnion(vlayerA, vlayerB)
File "/Users/jctull/.qgis//python/plugins/geoprocessing/ 
geoprocessing.py", line 832, in makeUnion
  unionResult = self.makeIntersection(vlayerA, vlayerB)
File "/Users/jctull/.qgis//python/plugins/geoprocessing/ 
geoprocessing.py", line 998, in makeIntersection
  fet.setAttributeMap(mAttributes)
AttributeError: setAttributeMap

Cheers,
John


_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080325/fa2070ec/attachment.html
From cavallini at faunalia.it  Tue Mar 25 03:25:02 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue Mar 25 03:25:13 2008
Subject: [Qgis-developer] icons
Message-ID: <47E8A8CE.4080508@faunalia.it>

Interesting work going on with GRASS icon:
http://www.szczepanek.pl/icons.grass/index.php#4
I think it would be great to have unified sets of icons for QGIS and
GRASS (and possibly for other programs): least surprise for users,
easier to switch from, say, qgis to grass to pmapper, less effort from
programmers.
Any opinion?
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
Noi ci troviamo male con NGI http://www.ngi.it/
From tim at linfiniti.com  Tue Mar 25 05:50:46 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Mar 25 05:50:48 2008
Subject: [Qgis-developer] icons
In-Reply-To: <47E8A8CE.4080508@faunalia.it>
References: <47E8A8CE.4080508@faunalia.it>
Message-ID: <d368056f0803250250g8c5b7ecw746bb78d85daf6a1@mail.gmail.com>

Hi Paolo

Conceptually it could be interesting to come up with a unified icon
standard. However i have two contra arguments to that:

- icons are a useful differentiator for an application - i think its
good for people to know they are in qgis because of its distinctive
look and feel
- I dont think the new icons you refer to present much usability
improvement over previous efforts. In most cases I couldnt tell at a
glance what the icons were for, the style of the icons were visually
inconsistent (some are wire frame X with an icon overlaid, while
others are nice thick bold arrows), and I wasnt mad about the muted
colour pallette.

Hope that didnt come across as too harsh - no doubt there are
criticisms that can be made of QGIS icons which I will happily try to
address if anyone has issues.

On a more compromising note, QGIS has icon theme support and it would
would be great to include a GRASS style theme for those who prefer a
unified look.

Regards

Tim

On 3/25/08, Paolo Cavallini <cavallini@faunalia.it> wrote:
> Interesting work going on with GRASS icon:
> http://www.szczepanek.pl/icons.grass/index.php#4
> I think it would be great to have unified sets of icons for QGIS and
> GRASS (and possibly for other programs): least surprise for users,
> easier to switch from, say, qgis to grass to pmapper, less effort from
> programmers.
> Any opinion?
> All the best.
> pc
> --
> Paolo Cavallini, see: http://www.faunalia.it/pc
> Noi ci troviamo male con NGI http://www.ngi.it/
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From cavallini at faunalia.it  Tue Mar 25 05:53:34 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue Mar 25 05:54:47 2008
Subject: [Qgis-developer] icons
In-Reply-To: <d368056f0803250250g8c5b7ecw746bb78d85daf6a1@mail.gmail.com>
References: <47E8A8CE.4080508@faunalia.it>
	<d368056f0803250250g8c5b7ecw746bb78d85daf6a1@mail.gmail.com>
Message-ID: <47E8CB9E.8080000@faunalia.it>

Tim Sutton ha scritto:

> On a more compromising note, QGIS has icon theme support and it would
> would be great to include a GRASS style theme for those who prefer a
> unified look.

Right, that would be the best way to go IMHO.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
Noi ci troviamo male con NGI http://www.ngi.it/
From tim at linfiniti.com  Tue Mar 25 06:39:19 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Mar 25 06:39:24 2008
Subject: [Qgis-developer] Fwd: Sextante (python geoprocessing tools)
Message-ID: <d368056f0803250339q77848b9ayb53a18b48e646f31@mail.gmail.com>

Hi All
Agustin Lobo forwarded this on to me - could be an interesting addition to
the emerging set of geoprocessing tools if anyone of you pythonistas can
work out how to integrate it nicely into QGIS???

Regards

Tim

---------- Forwarded message ----------
From: Agustin Lobo <Agustin.Lobo@ija.csic.es>
Date: 25/03/2008 06:44
Subject: Sextante
To: Tim Sutton <tim@linfiniti.com>

Tim,

do you know Sextante (http://www.sextantegis.com/)? It's a set of python
extensions for gvSIG, a second version of the set that the same author,
Victor Olaya, made for SAGA. It's pretty undocumented in english, but
you can browse the code (http://code.google.com/p/sextantegis/).
I wonder if Sextante could be included in QGIS through a plugin, it's
got a GNU General Public License v2.

The set of tools is excellent, but I cannot find a list from outside
the program, this html file is the only thing I'm able
to send you.

Agus


--
Dr. Agustin Lobo
Institut de Ciencies de la Terra "Jaume Almera" (CSIC)
LLuis Sole Sabaris s/n
08028 Barcelona
Spain
Tel. 34 934095410
Fax. 34 934110012
email: Agustin.Lobo@ija.csic.es
http://www.ija.csic.es/gt/obster

         COMMAND-LINE INTERFACE

Sextante extensions can be run from within gvSIG using the corresponding
toolbox, and also from a command-line shell. To start the SEXTANTE shell,
just click on the shell icon and you will see something like this:

 Commands are introduced in the text field at the bottom of the window.
Simply type a command and press Enter. Messages appear in the upper text
area.

Pressing the up arrow key will give you the previous command in the session
history, while the down arrow one will give you the next one. Typing
historyyou will see the whole session history in the messages text
area.

Since most operations need some kind of layers, a view is needed to take
those layers from or to add the resulting layers to. As in the case of the
extension manager, command line processes take their input from the last
active window  before the command line interface was invoked. In most cases,
you should open a view and then start the shell, so you have a view to work
with.

New views can be created using the addviwe command, with the following
sintax

addview viewname[string]

We can switch from one view to another using the activeview command.

activeview viewname[string]

>From here on, we will see how to perform geographical analysis using the
command line shell. The first thing we need is some data:


OPENING DATA. BASIC OPERATIONS WITH DATA

To open a new data object (it can be a vector layer, a raster layer or a
table), use the command open. It has the following syntax (you can see this
help line by simply typing open with no arguments at all):

open filename[string]

Filename is the path to the file you want to open, and name is an identifier
that will be later used to refer to this data object. Filenames can use
absolute or relative paths. When using relative paths, you can use the
cd command
to move to the desired directory. The ls command is also available to list
the content of a directory, with the usual arguments.

All  the file formats supported by gvSIG are supported as well from the
command line. There is no need to select the driver, since it is selected
automatically from the file extension

For example, the following lines will open a shapes layer, a raster layer
and a table.

C:\sextanteCmd$open c:\data\points.shp
C:\sextanteCmd$open c:\data\dem25.asc
C:\sextanteCmd$open c:\data\spatialCorrelation.dbf

Wilcards(*, ?) can be used in the usual way.

Of course, you can add new objects the usual way, using gvSIG buttons and
menus, and then work with them from the command line interface.

Information about data objects can be retrieved using the describe command.
to refer to an object, use the name that it has on the table of contents.

For instance:

>describe spatialCorrelation.dbf
Type: TableNumber of records: 156
Table fields: | Distance | I_Moran | c_Geary | Semivariance |

>describe points.shp
Type: Vector layer - Point
Number of entities: 300
Table fields: | ID | X | Y | SAND | SILT | CLAY | SOILTYPE | EXTRAPOLAT |

>describe dem25.asc
Type: Raster layer
X min: 262846.525725
X max: 277871.525725
Y min: 4454025.0
Y max: 4464275.0
Cellsize X: 25.0
Cellsize Y: 0.0
Rows: 410
Cols: 601

Data objects can be renamed using the rename command, with the following
sintax:

rename old name[String], new name[String]

For example, to change the name of the table from "spatialCorrelation.dbf"
to "spatialCorrelation", type

> rename spatialCorrelation.dbf, spatialCorrelation

Names are case sensitive.

If you are not going to use a data object anymore, you can use the
closecommand to eliminate it and free some memory. For instance:

close mdt25.asc


PERFORMING ANALYSIS

All the algorithms that can be run fron the gvSIG GUI can also be run from
the command-line shell. Each of them is identified by a command. A list of
them (in alfabetical order) can be displayed using the algs command.

C:\SextanteCmd$algs
acccost                  acccostanisotropic       accflow
acv                      aggregate                aggregationindex
ahp                      aspect                   buffer
cellbalance              channelnetwork           classstatistics
clipgrid                 closegaps                closegapsnn
cluster                  constantgrid             contourlines
convergence              correlation              costinroutes
countequalto             countgreaterthan         countlowerthan
covariancematrix         crossclassification      crosssections
ctvi                     curvatures               density
distancematrix           disttochannelnetwork     diversity
dominance                edgecontamination        elevationreliefindex
fillsinks                filterclumps             flowlineprofile
fragmentation            fragstatsarea            fragstatsdiversity
fuzzify                  generaterandombernoulli  generaterandomnormal
generaterandomuniform    generateterrain          gradientlines
gridbasicstats           gridcalculator           gridcompletion
gridfromfunction         gridorientation          gridsfromtableandgrid
heightoverchannelnetwork hillshade                hypsometry
idw                      invertnodata             isocrones
kerneldensity            kriging                  kurtosis
lineardecrease           locateallocate           majority
maxvalue                 maxvaluegrid             maxvalueuphill
meancenter               meanvalue                meanvalueuphill
median                   mediancenter             mergegrids
minority                 minvalue                 minvaluegrid
multipleregression       ndvi                     nearestneighbor
nnanalysis               normalize                nrvi
numberofclasses          pdfbinomial              pdfchisquared
pdfexponential           pdfnormal                pdfstudent
peakflowmaxplu           polartorect              predictivemodels
profile                  protectionindex          pviperry
pviqi                    pvirichardson            pviwalther
quadrat                  range                    rasterizevectorlayer
rastertopoints           realarea                 reclassifyconsecutive
reclassifydisjoint       reclassifyequalamplitude reclassifyequalarea
recttopolar              regression               ripleysk
savegrid                 semivariances            skewness
slope                    slopelength              solarradiation
sortraster               spatialcorrelation       strahlerorder
sumofcostfromallpoints   surfacespecificpoints    thresholdbuffer
topographicindices       ttvi                     tvi
universalkriging         upslopeareafrompoint     variance
varianceradius           vectorize                visibility
visualexposure           volume                   volumebetweengrids
watersheds

To know more about an algorithm, just type its name with no arguments. For
instance:

>accflow
Usage: accflow(DEM[Raster Layer]
               WEIGHTS[Optional Raster Layer]
               METHOD[Selection]
               CONVERGENCE[Numerical Value]
               FLOWACC [output raster layer])

Along with the name of the algorithm you will see a list of the parameters
needed to run it. Between square brackets, the type of each parameters is
shown.

Let's have a look at the different types of parameters and how to introduce
their corresponding values in order to run the algorithm


   - [Raster Layer] or [Vector Layer] or [Table]. Simply type the name of
   the data object.  If the parameter is optional and you do not want to asign
   a value to it, type #
   - [Numerical value]. Just a numerical value like 345 or 3.1415. Type #
   to use the default value.
   - [Selection] Type the number corresponding to the desired option or #
   to use the default option
   - [String] Just a text string... Type # to use the default value
   - [Boolean] Type either true or false. Or type # to use the default
   value
   - [Multiple selection - *data_type*] A group of data objects is needed
   to run the module. You have to group them into one single parameter,
   enclosing them between square brackets.

For example, for the maxvaluegrid algorithm

C:\SextanteCmd$maxvaluegrid
Usage: maxvaluegrid(INPUT[Multiple Input - Raster Layer]
                    NODATA[Boolean])

The following line shows a valid example:

C:\SextanteCmd$maxvaluegrid [lyr1, lyr2, lyr3], false

Of course, lyr1, lyr2, lyr3 must be valid raster layers, already loaded.

in the case of [Multiple Input - Band], each parameter is defined by a pair
of values (layer, band). For example, for the cluster algorithm

C:\SextanteCmd$cluster
Usage: cluster(INPUT[Multiple Input - Band]
               NUMCLASS[Numerical Value])

The following is a valid example:

C:\SextanteCmd$cluster [lyr1, 1, lyr1, 2, lyr2, 2], 5

The algorithm will use 3 bands, two of them from lyr1 (bands 1 and 2), and
one from lyr2 (band 2).


   - [Table Field from XXX]. Type the name of the field in the
   corresponding vector layer or table.
   - [Fixed table]. Simply type the values of al the cells separated by
   commas. First value corresponds to row 1 and column 1, second value to row 1
   column 2, and so on. There is no need to divide values by rows, since that
   is done automatically by the parser.
   - [Point]. The two coordinates of the point must be enclosed between
   square brackets (i.e. [220345, 4453616])

Output layers (if the algorithm generates them), can be saved to a temporary
file using the # sign. If you want to save them permanently, type the output
filename. Both relatives and absolutes path.

File format is selected from the file extension. This works in the same way
as using the usual graphical interface of the algorithm. Please, refer to
the extension manager help to know more about output file formats and how to
set them.

If you try to run any algorithm that generates new raster layers, it will
generate them with a cellsize and extension automatically calculated upon
the input raster layers. This behaviour can be modified using the
autoextentcommand:

>autoextent
Usage: autoextent(true/false)

By default it is set to true. If, however, you want to define a particular
extent and cellsize for all the output raster layers, you can use the
extentcommand

>extent
Usage: extent(raster layer[string])
       extent(vector layer[string], cellsize[double])
       extent(x min[double], y min[double],
              x max[double], y max[double],
              cell size[double])
Type "autoextent" to use automatic extent fitting when possible

Setting a fixed extent automatically turns off the autoextent feature (it
has the same effect as typing autoextent false)

Some modules, such as interpolation ones, require the explicit definition of
output extent and cellsize, since there is no raster input upon which these
can be defined.

RUNNING SCRIPTS

 Scripts can be run also from the command prompt, using the run command.

 C:\SextanteCmd$run
Usage: run filename[string], parameter_1[string],
parameter_2[string]...parameter_n[string]

SEXTANTE will open the chosen file and execute the lines included in the it,
one by one. Lines starting with "//" will be ignored, so you can add
comments to your scripts.

Here is a little example, that will calculate the Topographic Wetness Index
 (TWI; Beven and Kirby, 1979) from a DEM and save the result as
c:\data\twi.tif

open c:\data\dem25.asc
slope dem25.asc, 2, #
accflow dem25.asc, #, 2, #, #, #
gridcalculator log(Flow accumulation/25/Slope), c:\data\twi.tif


Asumming that the script is saved in a text file in C:\data\script.txt, you
can run it using the following line.

>run C:\data\script.txt

Additional arguments might be passed to the run command. These represent
parameters which have to be defined within the script as #1, #2, etc. Up to
9 parameters can be used. Before executing the script, the command will
substitute each #n with the corresponding argument passed to the run
command.


Help file written by V?ctor Olaya
       The content of this file is distributed under a Creative
Commons<http://creativecommons.org/licenses/by/2.5/es/>license



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological niche
modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080325/3ddd84f4/attachment-0001.html
From jef at norbit.de  Tue Mar 25 08:10:37 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue Mar 25 08:10:42 2008
Subject: [Qgis-developer] Fwd: Sextante (python geoprocessing tools)
In-Reply-To: <d368056f0803250339q77848b9ayb53a18b48e646f31@mail.gmail.com>
References: <d368056f0803250339q77848b9ayb53a18b48e646f31@mail.gmail.com>
Message-ID: <20080325121037.GA30709@norbit.de>

Hi Tim,

On Tue, 25. Mar 2008 at 07:39:19 -0300, Tim Sutton wrote:
> Agustin Lobo forwarded this on to me - could be an interesting addition to
> the emerging set of geoprocessing tools if anyone of you pythonistas can
> work out how to integrate it nicely into QGIS???

I must be doing something wrong.  I checked it out and there's no python
- only java.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tim at linfiniti.com  Tue Mar 25 08:30:49 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Mar 25 08:30:52 2008
Subject: [Qgis-developer] Re: Sextante (python geoprocessing tools)
In-Reply-To: <20080325121037.GA30709@norbit.de>
References: <d368056f0803250339q77848b9ayb53a18b48e646f31@mail.gmail.com>
	<20080325121037.GA30709@norbit.de>
Message-ID: <d368056f0803250530l699d1e1avdb1ce1cdb7a00d93@mail.gmail.com>

Hi

oh I got  the impression it was python :-( If its java only I guess
its a non starter.

regards Tim

On 3/25/08, J?rgen E. Fischer <jef@norbit.de> wrote:
> Hi Tim,
>
> On Tue, 25. Mar 2008 at 07:39:19 -0300, Tim Sutton wrote:
> > Agustin Lobo forwarded this on to me - could be an interesting addition to
> > the emerging set of geoprocessing tools if anyone of you pythonistas can
> > work out how to integrate it nicely into QGIS???
>
> I must be doing something wrong.  I checked it out and there's no python
> - only java.
>
>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From sherman at mrcc.com  Tue Mar 25 23:12:47 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Tue Mar 25 23:12:56 2008
Subject: [Qgis-developer] QGIS API documentation
Message-ID: <9FAE9BF6-CFA3-431D-92BF-56EED0471EFE@mrcc.com>

For those of you that may not be aware, the API documentation for QGIS  
is updated daily from svn.

The documentation is available at: http://doc.qgis.org

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From mauricio.dev at gmail.com  Tue Mar 25 23:37:45 2008
From: mauricio.dev at gmail.com (Mauricio)
Date: Tue Mar 25 23:38:25 2008
Subject: [Qgis-developer] Re: please patch qgis_rgb plugin (Paolo Cavallini)
In-Reply-To: <20080322160006.19651E01522@lists.osgeo.org>
References: <20080322160006.19651E01522@lists.osgeo.org>
Message-ID: <200803260037.45580.mauricio.dev@gmail.com>

	Sorry for the delay, i was away from home and didn't have internet for a few 
days. :P
	The fix is done. Please download again the package.
	Thanks for finding the error. 
	Maur?cio
From cavallini at faunalia.it  Wed Mar 26 03:19:38 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Mar 26 03:19:51 2008
Subject: [Qgis-developer] Re: please patch qgis_rgb plugin (Paolo
	Cavallini)
In-Reply-To: <200803260037.45580.mauricio.dev@gmail.com>
References: <20080322160006.19651E01522@lists.osgeo.org>
	<200803260037.45580.mauricio.dev@gmail.com>
Message-ID: <47E9F90A.1080807@faunalia.it>

Mauricio ha scritto:
> 	Sorry for the delay, i was away from home and didn't have internet for a few 
> days. :P
> 	The fix is done. Please download again the package.
> 	Thanks for finding the error. 
> 	Maur?cio

Thanks Mauricio: it now installs smoothly. Just the icon is missing
(this apply also to "Find by attribute" plugin). Sorry for being insistent.
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
Noi ci troviamo con parecchie difficolt? con NGI http://www.ngi.it/
From tim at linfiniti.com  Thu Mar 27 09:35:15 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Mar 27 09:35:18 2008
Subject: [Qgis-developer] [Python] - MSVC build error
Message-ID: <d368056f0803270635o896b674j6fd66d97fae37877@mail.gmail.com>

Hi Martin

When trying to build python bindings under MSVC express I get this
(see below). Any idea whats going on?

Regards

Tim

------ Build started: Project: python, Configuration: RelWithDebInfo
Win32 ------
Generating core/core.pyd
Microsoft (R) Program Maintenance Utility Version 8.00.50727.42
Copyright (C) Microsoft Corporation.  All rights reserved.
 link /NOLOGO /DLL /SUBSYSTEM:WINDOWS /INCREMENTAL:NO /OUT:core.pyd
@C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp\nm321.tmp
   Creating library core.lib and object core.exp
sipcoreQgsVectorDataProvider.obj : error LNK2019: unresolved external
symbol "__declspec(dllimport) public: virtual void __thiscall
QgsVectorDataProvider::getUniqueValues(int,class QStringList &)"
(__imp_?getUniqueValues@QgsVectorDataProvider@@UAEXHAAVQStringList@@@Z)
referenced in function "protected: virtual void __thiscall
sipQgsVectorDataProvider::getUniqueValues(int,class QStringList &)"
(?getUniqueValues@sipQgsVectorDataProvider@@MAEXHAAVQStringList@@@Z)
core.pyd : fatal error LNK1120: 1 unresolved externals
NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
8\VC\bin\link.EXE"' : return code '0x460'
Stop.
Project : error PRJ0019: A tool returned an error code from
"Generating core/core.pyd"
Build log was saved at
"file://c:\dev\cpp\qgis\build\python\python.dir\RelWithDebInfo\BuildLog.htm"
python - 4 error(s), 0 warning(s)
========== Build: 0 succeeded, 1 failed, 5 up-to-date, 0 skipped ========
-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Thu Mar 27 12:07:39 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Mar 27 12:07:42 2008
Subject: [Qgis-developer] Re: [Python] - MSVC build error
In-Reply-To: <d368056f0803270635o896b674j6fd66d97fae37877@mail.gmail.com>
References: <d368056f0803270635o896b674j6fd66d97fae37877@mail.gmail.com>
Message-ID: <d368056f0803270907o5280e643n29cff7b8b9885c23@mail.gmail.com>

Hi

Ok I found the issue, please disregard.

Thanks

Tim

2008/3/27, Tim Sutton <tim@linfiniti.com>:
> Hi Martin
>
>  When trying to build python bindings under MSVC express I get this
>  (see below). Any idea whats going on?
>
>  Regards
>
>  Tim
>
>  ------ Build started: Project: python, Configuration: RelWithDebInfo
>  Win32 ------
>  Generating core/core.pyd
>  Microsoft (R) Program Maintenance Utility Version 8.00.50727.42
>  Copyright (C) Microsoft Corporation.  All rights reserved.
>   link /NOLOGO /DLL /SUBSYSTEM:WINDOWS /INCREMENTAL:NO /OUT:core.pyd
>  @C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp\nm321.tmp
>    Creating library core.lib and object core.exp
>  sipcoreQgsVectorDataProvider.obj : error LNK2019: unresolved external
>  symbol "__declspec(dllimport) public: virtual void __thiscall
>  QgsVectorDataProvider::getUniqueValues(int,class QStringList &)"
>  (__imp_?getUniqueValues@QgsVectorDataProvider@@UAEXHAAVQStringList@@@Z)
>  referenced in function "protected: virtual void __thiscall
>  sipQgsVectorDataProvider::getUniqueValues(int,class QStringList &)"
>  (?getUniqueValues@sipQgsVectorDataProvider@@MAEXHAAVQStringList@@@Z)
>  core.pyd : fatal error LNK1120: 1 unresolved externals
>  NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
>  8\VC\bin\link.EXE"' : return code '0x460'
>  Stop.
>  Project : error PRJ0019: A tool returned an error code from
>  "Generating core/core.pyd"
>  Build log was saved at
>  "file://c:\dev\cpp\qgis\build\python\python.dir\RelWithDebInfo\BuildLog.htm"
>  python - 4 error(s), 0 warning(s)
>  ========== Build: 0 succeeded, 1 failed, 5 up-to-date, 0 skipped ========
>  --
>  Tim Sutton
>  QGIS Project Steering Committee Member - Release  Manager
>  Visit http://qgis.org for a great open source GIS
>  openModeller Desktop Developer
>  Visit http://openModeller.sf.net for a great open source ecological
>  niche modelling tool
>  Home Page: http://tim.linfiniti.com
>  Skype: timlinux
>  Irc: timlinux on #qgis at freenode.net
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From mauricio.dev at gmail.com  Thu Mar 27 18:18:25 2008
From: mauricio.dev at gmail.com (Mauricio)
Date: Thu Mar 27 18:18:51 2008
Subject: [Qgis-developer] Re: please patch qgis_rgb plugin
In-Reply-To: <20080326160008.944FAE0194F@lists.osgeo.org>
References: <20080326160008.944FAE0194F@lists.osgeo.org>
Message-ID: <200803271918.25976.mauricio.dev@gmail.com>

	Ahm... I'm pretty terrible at designing icons... I can try to come up with 
something but i didn't create any icon at all. :P
	I'm currently thinking about creating a boost.graph plugin for qgis.
	For now the ideas are:
		- Import and export an OGR layer into BGL data structure
		- Read and write a BGL data structure
		- DFS, BFS, Dijkstra
	I still don't know how i'm going to do this as i haven't implemented a single 
plugin in cpp yet (Even though i do know cpp and worked a little with bgl). I 
don't know if it's a good idea to keep this import/export thing. I was 
thinking about how i hate importing things to grass. :/ Maybe i should make 
an easy conversion inside each algorithm and generate the output as a 
shapefile (or ogr layer). I'm still wondering.
	Any ideas?
	Thanks for the help, Paolo, and for the interest. :D
	Maur?cio de Paulo
From cavallini at faunalia.it  Fri Mar 28 05:24:58 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri Mar 28 05:25:10 2008
Subject: [Qgis-developer] finances
Message-ID: <47ECB96A.101@faunalia.it>

This just to let jou know that I've just been invited to the finances
mailing list of osgeo. Hopefully soon I'll understand the current
situation better and keep you updated.
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
Noi ci troviamo con parecchie difficolt? con NGI http://www.ngi.it/
From marco.hugentobler at karto.baug.ethz.ch  Fri Mar 28 12:50:49 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri Mar 28 12:50:44 2008
Subject: [Qgis-developer] dxf2Shp plugin
Message-ID: <200803281750.49995.marco.hugentobler@karto.baug.ethz.ch>

Dear QGIS devels,

Paolo sent me a plugin that converts dxf files to shape. In my opinion, this 
is quite an important functionality and also a nice plugin. Many thanks, 
Paolo!

At the moment, there is feature freeze for 0.9.2. I plan to add the plugin to 
svn when the freeze is over. In the meantime, if someone likes to test the 
plugin, the sources of the plugin are available on 
http://karlinapp.ethz.ch/dxf2shp_converter.tgz


Regards and happy weekend,
Marco

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From frdcn at hotmail.com  Fri Mar 28 14:06:53 2008
From: frdcn at hotmail.com (godofredo contreras)
Date: Fri Mar 28 14:07:55 2008
Subject: [Qgis-developer] RE: Generic OGR Database connection work
In-Reply-To: <47EADC79.4050707@pobox.com>
References: <d368056f0803181637u2b403a25v505bcddefaf83f9d@mail.gmail.com>
	<47E07246.1000106@pobox.com>
	<BAY110-W484C63E14CD25EF6E325E9B2FF0@phx.gbl> 
	<47EADC79.4050707@pobox.com>
Message-ID: <BAY110-W3305D217F9F1B7CB35872BB2F90@phx.gbl>

> Date: Wed, 26 Mar 2008 19:30:01 -0400
> From: warmerdam@pobox.com
> To: frdcn@hotmail.com
> CC: tim@linfiniti.com
> Subject: Re: Generic OGR Database connection work
> 
> godofredo contreras wrote:
> > Hi Frank and Tim:
> > 
> > In the file attached are the documentation of plans for ogr database access in qgis
> > and the uml diagram of classes design. Any suggestions are welcome. Tim could you please
> > give me write access to wiki to publish this information?
> 
> Godofredo,
> 
> The plans look good in so far as I was able to understand the details.
> 
> I think it is important to preserve the "ogrGeneric" dialog where the
> user can enter any valid ogr connection string without it needing to
> be known apriori.
> 
> I think some of the specific dialogs (such as for ogrMysql) may be
> hard to keep strictly in sync with canges to the corresponding
> OGR drivers.  But the only fix I can think of is ogr providers
> describing their own parameters and I'm not ready for that.
> 
Yes you are right, the idea behind  this is to reuse the dialog 
for ogr database connections and for postgres connection
and use the class qgsdatasourceuri to create the uris for those
databases according to driver format. This is not completely automated
but it only needs to add some lines of code to qgsdatasourceuri to support
other ogr databases.
 
> I'm not too clear on the plan for export through OGR.  It may be I
> can provide some useful advice when that work commences.
> 
> BTW, I really don't understand the role of SPIT.  I gather from
> the name it is a shapefile to PostGIS import tool, but I don't understand
> the need for this specific case of what should presumably a fairly
> generic process (translation from format to format).
> 
SPIT is used to upload shapefiles to postgres database, the idea is to
update spit to be something like a graphical interface for ogr2ogr.


Best regards

Godofredo Contreras

_________________________________________________________________
In a rush?  Get real-time answers with Windows Live Messenger.
http://www.windowslive.com/messenger/overview.html?ocid=TXT_TAGLM_WL_Refresh_realtime_042008
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080328/7e5b9d12/attachment.html
From frdcn at hotmail.com  Fri Mar 28 18:14:51 2008
From: frdcn at hotmail.com (godofredo contreras)
Date: Fri Mar 28 18:14:53 2008
Subject: [Qgis-developer] Schema management in ogr
Message-ID: <BAY110-W381F9898DDA51686F4B2DAB2F90@phx.gbl>

Hi Frank:

I have some questions about ogr.  How can we work  with schemas  in databases like
postgres and oracle using ogr?

The other question is how ogr manage a table with multiple geometry columns?

Regards 

Godofredo Contreras

_________________________________________________________________
Windows Live Hotmail is giving away Zunes.
http://www.windowslive-hotmail.com/ZuneADay/?locale=en-US&ocid=TXT_TAGLM_Mobile_Zune_V3
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080328/fac48a12/attachment.html
From warmerdam at pobox.com  Fri Mar 28 18:28:23 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 28 18:28:49 2008
Subject: [Qgis-developer] Re: Schema management in ogr
In-Reply-To: <BAY110-W381F9898DDA51686F4B2DAB2F90@phx.gbl>
References: <BAY110-W381F9898DDA51686F4B2DAB2F90@phx.gbl>
Message-ID: <47ED7107.8080708@pobox.com>

godofredo contreras wrote:
> Hi Frank:
> 
> I have some questions about ogr.  How can we work  with schemas  in databases like
> postgres and oracle using ogr?
> 
> The other question is how ogr manage a table with multiple geometry columns?

Godofredo,

Currently OGR does not support this in any organized way.  Basically a layer
is only allowed to have one geometry per feature.  In a datasource, such as
PostGIS, that can have multiple geometries there is one column that is used
and any other geometries are ignored.

There has been some discussion of addressing this case in a more organized
way but there is no action expected in the near future.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From sherman at mrcc.com  Sat Mar 29 18:13:15 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Sat Mar 29 18:13:23 2008
Subject: [Qgis-developer] X11 crash and clipping code
Message-ID: <8EEFB70D-E0F3-41DB-81BE-11688326FC14@mrcc.com>

Has anybody made changes to the clipping code found in src/core/ 
qgsclipper.* ?

This issue (URL below) has a remarkable resemblance to the X11 bug  
that we were plagued with until clipping was instituted:

https://bugs.launchpad.net/ubuntu/+source/xorg-server/+bug/208899

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From frdcn at hotmail.com  Mon Mar 31 20:47:11 2008
From: frdcn at hotmail.com (godofredo contreras)
Date: Mon Mar 31 20:47:14 2008
Subject: [Qgis-developer] qgis api port to Windows Mobile
Message-ID: <BAY110-W5214406BDB69FC255AD674B2F50@phx.gbl>

Hi Qgis developers:
 
Are there any plans to port qgis api to Windows Mobile?
it could be nice to have a possibility to port the api
to windows mobile and design a mobile user interface to
Qgis.
 
Regards
 
Godofredo Contreras
  
_________________________________________________________________
In a rush?  Get real-time answers with Windows Live Messenger.
http://www.windowslive.com/messenger/overview.html?ocid=TXT_TAGLM_WL_Refresh_realtime_042008
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080401/3b6caea4/attachment.html
