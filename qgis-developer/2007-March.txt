From tim at linfiniti.com  Thu Mar  1 06:55:38 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:04 2008
Subject: [Qgis-developer] GRASS modules
In-Reply-To: <35477EE4-0804-4AB6-AF83-2BB57FA10DEE@biodiversity.unr.edu>
References: <45E2A8D2.8000100@faunalia.it>
	<35477EE4-0804-4AB6-AF83-2BB57FA10DEE@biodiversity.unr.edu>
Message-ID: <d368056f0703010355r5ce76ebeob0c26f19b26a526@mail.gmail.com>

Hi

Apologies for the delay in replying. We will aim to get them into the
upcoming 0.8.1 release if Radim validates they are ok and checks them
into SVN. Yes its really great to see the growing number of GRASS
tools - nice work guys! As mentioned in the offlist message I sent to
you Paolo, its really better to use the bug queue for patches since
sometimes I dont notice an email etc, but a bug ticket will always
eventually get looked at. Ive also spent quite a bit of time on the
weekend trying to get the 0.8.x bugs in the bug queue better organised
so hopefully they are more logically arranged now.

Regards

Tim

2007/2/26, John C. Tull <jctull@gmail.com>:
> I am happy to see more GRASS commands being added to qgis. Good work!
>
> I would also like to see them added to 8.2+.
>
> John Tull
>
> On Feb 26, 2007, at 1:30 AM, Paolo Cavallini wrote:
>
> > -----BEGIN PGP SIGNED MESSAGE-----
> > Hash: SHA1
> >
> > Hi all.
> > Thanks to Leonardo Lami and Massimo DiStefano we now have quite a few
> > GRASS modules added to the qgis-grass plugin. They have been tested
> > and
> > no issue has been found. You can download it from:
> > http://www.faunalia.it/download/qgis_grass_0.tar.gz
> > It would be good if they could be added to the next release of qgis.
> > All the best.
> > - --
> > Paolo Cavallini
> > email+jabber: cavallini@faunalia.it
> > www.faunalia.it
> > Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)
> > 348-3801953
> > -----BEGIN PGP SIGNATURE-----
> > Version: GnuPG v1.4.6 (GNU/Linux)
> > Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org
> >
> > iD8DBQFF4qjR/NedwLUzIr4RAl12AJwKdlIRt33L0MVWmyu447ETQZ20KACgjGEw
> > CrNLNCFEI+6Ifz5YHllBaX8=
> > =011i
> > -----END PGP SIGNATURE-----
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Thu Mar  1 20:36:29 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:04 2008
Subject: [Qgis-developer] TRUNK SIP related OSX build fail
Message-ID: <d368056f0703011736y5084486awf9d22733053e1a6a@mail.gmail.com>

Hi Martin

Im getting some SIP related build errors suddenly on Mac OSX -
anything you can see an obvious cause of?

I recall seeing something in the CMakeLists.txt about hack for osx and
qt4support...

Regards

Tim

[ 64%] Generating core/Makefile, gui/Makefile
Parsing SIP files for 'core' library...
sip: /Users/tim/dev/cpp/qgis/python/core/qgsdistancearea.sip:1: syntax error
Parsing SIP files for 'gui' library...
sip: /Users/tim/dev/cpp/qgis/python/core/qgsdistancearea.sip:1: syntax error
Creating makefiles...
Creating qgisconfig.py...
Done
[ 64%] Generating core/core.so
/usr/bin/ld: warning can't open dynamic library:
Qt3Support.framework/Versions/4/Qt3Support referenced from:
/Users/tim/dev/cpp/qgis/build/src/core/libqgis_core.dylib (checking
for undefined symbols may be affected) (No such file or directory,
errno = 2)
/usr/bin/ld: Undefined symbols:
Q3PtrCollection::newItem(void*)  referenced from libqgis expected to
be defined in Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::look_string(QString const&, void*, int)referenced from
libqgis expected to be defined in
Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::remove_string(QString const&, void*)referenced from libqgis
expected to be defined in Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::read(QDataStream&, void*&) referenced from libqgis expected
to be defined in Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::clear()     referenced from libqgis expected to be defined in
Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::~Q3GDict()referenced from libqgis expected to be defined in
Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::write(QDataStream&, void*) constreferenced from libqgis
expected to be defined in Qt3Support.framework/Versions/4/Qt3Support
typeinfo for Q3GDictreferenced from libqgis expected to be defined in
Qt3Support.framework/Versions/4/Qt3Support
Q3GDictIterator::Q3GDictIterator(Q3GDict const&)referenced from
libqgis expected to be defined in
Qt3Support.framework/Versions/4/Qt3Support
Q3GDictIterator::~Q3GDictIterator()referenced from libqgis expected to
be defined in Qt3Support.framework/Versions/4/Qt3Support
Q3GDictIterator::operator++()referenced from libqgis expected to be
defined in Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::Q3GDict(unsigned int, Q3GDict::KeyType, bool, bool)referenced
from libqgis expected to be defined in
Qt3Support.framework/Versions/4/Qt3Support
collect2: ld returned 1 exit status
make[3]: *** [core.so] Error 1
make[2]: *** [python/core/core.so] Error 2
make[1]: *** [python/CMakeFiles/python.dir/all] Error 2
make: *** [all] Error 2

-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From telwertowski at comcast.net  Fri Mar  2 01:25:29 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:04 2008
Subject: [Qgis-developer] TRUNK SIP related OSX build fail
In-Reply-To: <d368056f0703011736y5084486awf9d22733053e1a6a@mail.gmail.com>
References: <d368056f0703011736y5084486awf9d22733053e1a6a@mail.gmail.com>
Message-ID: <45E7C359.6000408@comcast.net>

Tim Sutton wrote:
> [ 64%] Generating core/Makefile, gui/Makefile
> Parsing SIP files for 'core' library...
> sip: /Users/tim/dev/cpp/qgis/python/core/qgsdistancearea.sip:1: syntax 
> error

> /usr/bin/ld: warning can't open dynamic library:
> Qt3Support.framework/Versions/4/Qt3Support referenced from:
> /Users/tim/dev/cpp/qgis/build/src/core/libqgis_core.dylib (checking
> for undefined symbols may be affected) (No such file or directory,
> errno = 2)
> /usr/bin/ld: Undefined symbols:
> Q3PtrCollection::newItem(void*)  referenced from libqgis expected to
> be defined in Qt3Support.framework/Versions/4/Qt3Support

The link error is because the Mac needs to link to Q3Support which was 
removed by r6664.

The compile error is due to something in the new file 
qgsdistancearea.sip. I am using sip 4.5.2 and PyQt 4.1.1.

(I normally don't build with Python bindings enabled because the full 
set of binding files is recompiled every time a single cpp file is 
changed. This takes too long so Mac compatibility isn't continuously 
verified -- at least not by me.)

Tom

From wonder.sk at gmail.com  Fri Mar  2 05:06:00 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:04 2008
Subject: [Qgis-developer] TRUNK SIP related OSX build fail
In-Reply-To: <45E7C359.6000408@comcast.net>
References: <d368056f0703011736y5084486awf9d22733053e1a6a@mail.gmail.com>
	<45E7C359.6000408@comcast.net>
Message-ID: <e8e7199c0703020206w73b0b1b3m4c0f07e899a06244@mail.gmail.com>

On 3/2/07, Tom Elwertowski <telwertowski@comcast.net> wrote:
>
> The link error is because the Mac needs to link to Q3Support which was
> removed by r6664.

Funny that I couldn't compile it on windows with Qt3support. One
possibility is to add it only for Mac build, another possibility would
be not to link core/gui libs to Qt3 support library - only thing we
have to port is QgsProject which still uses some Qt3 stuff.

> The compile error is due to something in the new file
> qgsdistancearea.sip. I am using sip 4.5.2 and PyQt 4.1.1.

This error was due the addition of that file on windows and sip on
unixes doesn't like windows line endings. Now it's fixed in r6740.

Martin

From tim at linfiniti.com  Fri Mar  2 06:32:28 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] TRUNK SIP related OSX build fail
In-Reply-To: <e8e7199c0703020206w73b0b1b3m4c0f07e899a06244@mail.gmail.com>
References: <d368056f0703011736y5084486awf9d22733053e1a6a@mail.gmail.com>
	<45E7C359.6000408@comcast.net>
	<e8e7199c0703020206w73b0b1b3m4c0f07e899a06244@mail.gmail.com>
Message-ID: <d368056f0703020332q503bb8cdu80ce157a0ecf8a69@mail.gmail.com>

Hi

Thanks for the info and fix guys I still get the error shown below
after Martins update. Ill poke around with it on the weekend a bit
more to try to get it fixed. Martin - yeah it would be great to get
rid of any final vestages of Qt3 in the code base.

Regards

Tim
/Users/tim/dev/cpp/qgis/src/core/qgscoordinatetransform.h:262:
warning: unused parameter 'r'
/usr/bin/ld: warning can't open dynamic library:
Qt3Support.framework/Versions/4/Qt3Support referenced from:
/Users/tim/dev/cpp/qgis/build/src/core/libqgis_core.dylib (checking
for undefined symbols may be affected) (No such file or directory,
errno = 2)
/usr/bin/ld: Undefined symbols:
Q3PtrCollection::newItem(void*)  referenced from libqgis expected to
be defined in Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::look_string(QString const&, void*, int)referenced from
libqgis expected to be defined in
Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::remove_string(QString const&, void*)referenced from libqgis
expected to be defined in Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::read(QDataStream&, void*&) referenced from libqgis expected
to be defined in Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::clear()     referenced from libqgis expected to be defined in
Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::~Q3GDict()referenced from libqgis expected to be defined in
Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::write(QDataStream&, void*) constreferenced from libqgis
expected to be defined in Qt3Support.framework/Versions/4/Qt3Support
typeinfo for Q3GDictreferenced from libqgis expected to be defined in
Qt3Support.framework/Versions/4/Qt3Support
Q3GDictIterator::Q3GDictIterator(Q3GDict const&)referenced from
libqgis expected to be defined in
Qt3Support.framework/Versions/4/Qt3Support
Q3GDictIterator::~Q3GDictIterator()referenced from libqgis expected to
be defined in Qt3Support.framework/Versions/4/Qt3Support
Q3GDictIterator::operator++()referenced from libqgis expected to be
defined in Qt3Support.framework/Versions/4/Qt3Support
Q3GDict::Q3GDict(unsigned int, Q3GDict::KeyType, bool, bool)referenced
from libqgis expected to be defined in
Qt3Support.framework/Versions/4/Qt3Support
collect2: ld returned 1 exit status
make[3]: *** [core.so] Error 1
make[2]: *** [python/core/core.so] Error 2
make[1]: *** [python/CMakeFiles/python.dir/all] Error 2
make: *** [all] Error 2--
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From telwertowski at comcast.net  Fri Mar  2 13:49:06 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] TRUNK SIP related OSX build fail
In-Reply-To: <d368056f0703020332q503bb8cdu80ce157a0ecf8a69@mail.gmail.com>
References: <d368056f0703011736y5084486awf9d22733053e1a6a@mail.gmail.com>	
	<45E7C359.6000408@comcast.net>	
	<e8e7199c0703020206w73b0b1b3m4c0f07e899a06244@mail.gmail.com>
	<d368056f0703020332q503bb8cdu80ce157a0ecf8a69@mail.gmail.com>
Message-ID: <45E871A2.5040501@comcast.net>

Tim Sutton wrote:
> Thanks for the info and fix guys I still get the error shown below
> after Martins update. Ill poke around with it on the weekend a bit
> more to try to get it fixed. Martin - yeah it would be great to get
> rid of any final vestages of Qt3 in the code base.

Martin only fixed the compile problem in qgsdistancearea.sip thus far. 
In order to link on a Mac, you sill need to revert to the previous 
revision of configure.py.in.

Tom

From wonder.sk at gmail.com  Fri Mar  2 14:34:10 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] TRUNK SIP related OSX build fail
In-Reply-To: <45E871A2.5040501@comcast.net>
References: <d368056f0703011736y5084486awf9d22733053e1a6a@mail.gmail.com>
	<45E7C359.6000408@comcast.net>
	<e8e7199c0703020206w73b0b1b3m4c0f07e899a06244@mail.gmail.com>
	<d368056f0703020332q503bb8cdu80ce157a0ecf8a69@mail.gmail.com>
	<45E871A2.5040501@comcast.net>
Message-ID: <e8e7199c0703021134h5f06df59oedf26568e7271659@mail.gmail.com>

On 3/2/07, Tom Elwertowski <telwertowski@comcast.net> wrote:
> Tim Sutton wrote:
> > Thanks for the info and fix guys I still get the error shown below
> > after Martins update. Ill poke around with it on the weekend a bit
> > more to try to get it fixed. Martin - yeah it would be great to get
> > rid of any final vestages of Qt3 in the code base.
>
> Martin only fixed the compile problem in qgsdistancearea.sip thus far.
> In order to link on a Mac, you sill need to revert to the previous
> revision of configure.py.in.

Hopefully I've repaired it now in r6745.

Martin

From tim at linfiniti.com  Fri Mar  2 19:57:47 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] TRUNK SIP related OSX build fail
In-Reply-To: <e8e7199c0703021134h5f06df59oedf26568e7271659@mail.gmail.com>
References: <d368056f0703011736y5084486awf9d22733053e1a6a@mail.gmail.com>
	<45E7C359.6000408@comcast.net>
	<e8e7199c0703020206w73b0b1b3m4c0f07e899a06244@mail.gmail.com>
	<d368056f0703020332q503bb8cdu80ce157a0ecf8a69@mail.gmail.com>
	<45E871A2.5040501@comcast.net>
	<e8e7199c0703021134h5f06df59oedf26568e7271659@mail.gmail.com>
Message-ID: <d368056f0703021657w25d8b9b7r87bab685347098a3@mail.gmail.com>

Hi

Its getting further now....


rameter 'other'
/Users/tim/dev/cpp/qgis/src/core/raster/qgsrasterlayer.h:761: warning:
unused parameter 'other'
[ 64%] Built target python
Linking CXX executable qgis_help.app/Contents/MacOS/qgis_help
/usr/bin/ld: Undefined symbols:
QgsMapLayerRegistry::instance()
QgsProviderRegistry::instance(QString)
collect2: ld returned 1 exit status
make[2]: *** [src/helpviewer/qgis_help.app/Contents/MacOS/qgis_help] Error 1
make[1]: *** [src/helpviewer/CMakeFiles/qgis_help.dir/all] Error 2
make: *** [all] Error 2

Tim

2007/3/2, Martin Dobias <wonder.sk@gmail.com>:
> On 3/2/07, Tom Elwertowski <telwertowski@comcast.net> wrote:
> > Tim Sutton wrote:
> > > Thanks for the info and fix guys I still get the error shown below
> > > after Martins update. Ill poke around with it on the weekend a bit
> > > more to try to get it fixed. Martin - yeah it would be great to get
> > > rid of any final vestages of Qt3 in the code base.
> >
> > Martin only fixed the compile problem in qgsdistancearea.sip thus far.
> > In order to link on a Mac, you sill need to revert to the previous
> > revision of configure.py.in.
>
> Hopefully I've repaired it now in r6745.
>
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From telwertowski at comcast.net  Sat Mar  3 10:13:45 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] TRUNK SIP related OSX build fail
In-Reply-To: <d368056f0703021657w25d8b9b7r87bab685347098a3@mail.gmail.com>
References: <d368056f0703011736y5084486awf9d22733053e1a6a@mail.gmail.com>	
	<45E7C359.6000408@comcast.net>	
	<e8e7199c0703020206w73b0b1b3m4c0f07e899a06244@mail.gmail.com>	
	<d368056f0703020332q503bb8cdu80ce157a0ecf8a69@mail.gmail.com>	
	<45E871A2.5040501@comcast.net>	
	<e8e7199c0703021134h5f06df59oedf26568e7271659@mail.gmail.com>
	<d368056f0703021657w25d8b9b7r87bab685347098a3@mail.gmail.com>
Message-ID: <45E990A9.2080008@comcast.net>

Tim Sutton wrote:
> [ 64%] Built target python
> Linking CXX executable qgis_help.app/Contents/MacOS/qgis_help
> /usr/bin/ld: Undefined symbols:
> QgsMapLayerRegistry::instance()
> QgsProviderRegistry::instance(QString)
> collect2: ld returned 1 exit status
> make[2]: *** [src/helpviewer/qgis_help.app/Contents/MacOS/qgis_help] 

Works for me. ;) This is also no longer a SIP problem, at least not 
directly. Try deleting the contents of build/src/helpviewer so that you 
do a clean build of qgis_help.

Tom

From mendbayar_b at mongol.net  Mon Mar  5 02:44:13 2007
From: mendbayar_b at mongol.net (Byambaa Mendbayar)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] GRASS modules
In-Reply-To: <45E2A8D2.8000100@faunalia.it>
Message-ID: <20070305074437.765F51B671@qgis.org>

Dear Paolo Cavallini and Tim Sutton,

Thanks a lot for you and other GRASS modules developers (Leonardo Lami and
Massimo DiStefano).

How can I see newly added GRASS modules which are announced by you? Those
new modules are already in SVN HEAD or SVN 0.8.0 (I mean 0.8.1)? 

How can I use http://www.faunalia.it/download/qgis_grass_0.tar.gz in my
development workstation? I have using following 2 environments which are
XUbuntu + QGIS dev deps and WindowsXP + QGIS dev deps.

Second:
I have trying to using "Raster map calculator" for simple operation like
Add, Sub and etc... My calculation is that: 
-----------------------------------------------------------------------
r.mapcalc
calcRes=(((raster_3x5.1@ubap.sbd.15khoroo+raster_3x5.2@ubap.sbd.15khoroo)-ub
_sar_topo_3x5@ubap.sbd.15khoroo))
Successfully finished
-----------------------------------------------------------------------
Note:
All layers which are used above calculations are same sized raster images. I
mean each image's extends are same to each other.

After that my output "calcRes" raster image is shifted, I mean outputted
image's coordinate was modified. Also outputted image's each pixel data have
same values, which are Minimum value: 850.655; Maximum value: 850.655.

What am I wrong? Is it my fault or system (GRASS modules) fault? How I check
my GRASS plugin's "Raster map calculator" modules work correct?


Best regards,
Byambaa Mendbayar

P.S
Thank you for reading my chaos mail, and your patient. 

-----Original Message-----
From: qgis-developer-bounces@lists.qgis.org
[mailto:qgis-developer-bounces@lists.qgis.org] On Behalf Of Paolo Cavallini
Sent: Monday, February 26, 2007 5:31 PM
To: QGIS-dev
Cc: Leonardo Lami
Subject: [Qgis-developer] GRASS modules

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi all.
Thanks to Leonardo Lami and Massimo DiStefano we now have quite a few
GRASS modules added to the qgis-grass plugin. They have been tested and
no issue has been found. You can download it from:
http://www.faunalia.it/download/qgis_grass_0.tar.gz
It would be good if they could be added to the next release of qgis.
All the best.
- --
Paolo Cavallini
email+jabber: cavallini@faunalia.it
www.faunalia.it
Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFF4qjR/NedwLUzIr4RAl12AJwKdlIRt33L0MVWmyu447ETQZ20KACgjGEw
CrNLNCFEI+6Ifz5YHllBaX8=
=011i
-----END PGP SIGNATURE-----
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.qgis.org
http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer



From marco.hugentobler at karto.baug.ethz.ch  Mon Mar  5 03:06:15 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] classification of rasters
Message-ID: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

For the project I'm working on, I need to have the possibility to colour a 
raster layer (e.g. a DEM) by building classes and assign a color to each. 
Afaik there is no possibility to do so in QGIS. Can I implement it in the 
raster transparency branch (even though it is not related to transparency)?

I wonder what the best way is to implement this behaviour. UMN mapserver 
preclassifies the expected values in a color table to make lookup faster 
(http://mapserver.gis.umn.edu/docs/howto/raster_data). But it also seems that 
their expressions for classifications can be more complicated than simple 
comparison operations. So I'm probably going to start by evaluating pixel 
values against a set of classes and see how the performance behaves.

What do you think?

Regards,
Marco

From tim at linfiniti.com  Mon Mar  5 06:59:02 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: classification of rasters
In-Reply-To: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>
References: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0703050359r62f6908elf31179af7915c024@mail.gmail.com>

Hi Marco (cc Peter Ersts & Gary)



2007/3/5, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Tim,
>
> For the project I'm working on, I need to have the possibility to colour a
> raster layer (e.g. a DEM) by building classes and assign a color to each.
> Afaik there is no possibility to do so in QGIS. Can I implement it in the
> raster transparency branch (even though it is not related to transparency)?

I think this is fine - any problem with this Peter? I am afraid if you
do the work outside the branch, we will have difficulty merging
everything later as we are making some quite big changes to raster -
so your idea to work in the transparency branch is a good one.

>
> I wonder what the best way is to implement this behaviour. UMN mapserver
> preclassifies the expected values in a color table to make lookup faster
> (http://mapserver.gis.umn.edu/docs/howto/raster_data). But it also seems that
> their expressions for classifications can be more complicated than simple
> comparison operations. So I'm probably going to start by evaluating pixel
> values against a set of classes and see how the performance behaves.
>

The stuff I wrote for pseudocolour rendering of grayscale  uses a
similar approach - evaluate each pixel before rendering and decide
algorithmically what colour to assign it (i.e. no lookup table). Radim
also did some work in raster on lookup for palettes. Both aproaches
seem to offer good performance - I think recent (>=QGIS 0.8) slowdowns
in QGIS rendering relate to canvas changes.

One of the things I am planning to do in tis branch is refactor raster
into a bunch of smaller dedicated-purpose classes. We are keeping a
list of our plans here:

http://wiki.qgis.org/qgiswiki/RasterTransparencyBranch

Having raster classification will be a great addition to QGIS btw!

Will be good if you can do the same.

Regards

Tim

> What do you think?
>
> Regards,
> Marco
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Mon Mar  5 08:48:08 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] GRASS modules
In-Reply-To: <20070305074437.765F51B671@qgis.org>
References: <45E2A8D2.8000100@faunalia.it> <20070305074437.765F51B671@qgis.org>
Message-ID: <d368056f0703050548t19c3346esc55b0c8da96ed824@mail.gmail.com>

Hi

The modules are not committed yet but will be soon. Getting from the
tarball you mentioned is the best way.

Regards

Tim

2007/3/5, Byambaa Mendbayar <mendbayar_b@mongol.net>:
> Dear Paolo Cavallini and Tim Sutton,
>
> Thanks a lot for you and other GRASS modules developers (Leonardo Lami and
> Massimo DiStefano).
>
> How can I see newly added GRASS modules which are announced by you? Those
> new modules are already in SVN HEAD or SVN 0.8.0 (I mean 0.8.1)?
>
> How can I use http://www.faunalia.it/download/qgis_grass_0.tar.gz in my
> development workstation? I have using following 2 environments which are
> XUbuntu + QGIS dev deps and WindowsXP + QGIS dev deps.
>
> Second:
> I have trying to using "Raster map calculator" for simple operation like
> Add, Sub and etc... My calculation is that:
> -----------------------------------------------------------------------
> r.mapcalc
> calcRes=(((raster_3x5.1@ubap.sbd.15khoroo+raster_3x5.2@ubap.sbd.15khoroo)-ub
> _sar_topo_3x5@ubap.sbd.15khoroo))
> Successfully finished
> -----------------------------------------------------------------------
> Note:
> All layers which are used above calculations are same sized raster images. I
> mean each image's extends are same to each other.
>
> After that my output "calcRes" raster image is shifted, I mean outputted
> image's coordinate was modified. Also outputted image's each pixel data have
> same values, which are Minimum value: 850.655; Maximum value: 850.655.
>
> What am I wrong? Is it my fault or system (GRASS modules) fault? How I check
> my GRASS plugin's "Raster map calculator" modules work correct?
>
>
> Best regards,
> Byambaa Mendbayar
>
> P.S
> Thank you for reading my chaos mail, and your patient.
>
> -----Original Message-----
> From: qgis-developer-bounces@lists.qgis.org
> [mailto:qgis-developer-bounces@lists.qgis.org] On Behalf Of Paolo Cavallini
> Sent: Monday, February 26, 2007 5:31 PM
> To: QGIS-dev
> Cc: Leonardo Lami
> Subject: [Qgis-developer] GRASS modules
>
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Hi all.
> Thanks to Leonardo Lami and Massimo DiStefano we now have quite a few
> GRASS modules added to the qgis-grass plugin. They have been tested and
> no issue has been found. You can download it from:
> http://www.faunalia.it/download/qgis_grass_0.tar.gz
> It would be good if they could be added to the next release of qgis.
> All the best.
> - --
> Paolo Cavallini
> email+jabber: cavallini@faunalia.it
> www.faunalia.it
> Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.6 (GNU/Linux)
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org
>
> iD8DBQFF4qjR/NedwLUzIr4RAl12AJwKdlIRt33L0MVWmyu447ETQZ20KACgjGEw
> CrNLNCFEI+6Ifz5YHllBaX8=
> =011i
> -----END PGP SIGNATURE-----
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From marco.hugentobler at karto.baug.ethz.ch  Mon Mar  5 11:34:40 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: classification of rasters
In-Reply-To: <d368056f0703050359r62f6908elf31179af7915c024@mail.gmail.com>
References: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0703050359r62f6908elf31179af7915c024@mail.gmail.com>
Message-ID: <200703051734.40372.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

Great! I entered a line into the wiki site of the branch and will bother you 
again with more concrete ideas and/or some code in a few days.

Regards,
Marco

Am Montag, 5. M?rz 2007 12:59 schrieb Tim Sutton:
> Hi Marco (cc Peter Ersts & Gary)
>
> 2007/3/5, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> > Hi Tim,
> >
> > For the project I'm working on, I need to have the possibility to colour
> > a raster layer (e.g. a DEM) by building classes and assign a color to
> > each. Afaik there is no possibility to do so in QGIS. Can I implement it
> > in the raster transparency branch (even though it is not related to
> > transparency)?
>
> I think this is fine - any problem with this Peter? I am afraid if you
> do the work outside the branch, we will have difficulty merging
> everything later as we are making some quite big changes to raster -
> so your idea to work in the transparency branch is a good one.
>
> > I wonder what the best way is to implement this behaviour. UMN mapserver
> > preclassifies the expected values in a color table to make lookup faster
> > (http://mapserver.gis.umn.edu/docs/howto/raster_data). But it also seems
> > that their expressions for classifications can be more complicated than
> > simple comparison operations. So I'm probably going to start by
> > evaluating pixel values against a set of classes and see how the
> > performance behaves.
>
> The stuff I wrote for pseudocolour rendering of grayscale  uses a
> similar approach - evaluate each pixel before rendering and decide
> algorithmically what colour to assign it (i.e. no lookup table). Radim
> also did some work in raster on lookup for palettes. Both aproaches
> seem to offer good performance - I think recent (>=QGIS 0.8) slowdowns
> in QGIS rendering relate to canvas changes.
>
> One of the things I am planning to do in tis branch is refactor raster
> into a bunch of smaller dedicated-purpose classes. We are keeping a
> list of our plans here:
>
> http://wiki.qgis.org/qgiswiki/RasterTransparencyBranch
>
> Having raster classification will be a great addition to QGIS btw!
>
> Will be good if you can do the same.
>
> Regards
>
> Tim
>
> > What do you think?
> >
> > Regards,
> > Marco
>
> --

From satya341 at gmail.com  Mon Mar  5 15:31:21 2007
From: satya341 at gmail.com (satya satya)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Displaying map with QgsUniqueValueRenderer
Message-ID: <6ee9a1330703051231rc66ec44xf4dc5a5b2d217e39@mail.gmail.com>

Hello all,
             I am trying to develop a simple application using QGis API.
I have read all tutorials on QGis blog. I would like to use
"QgsUniqueValueRenderer" in my application to display features in diff
colors. I tried that  "QgsUniqueValueRenderer" , but no luck.
could some body help me .
cheers
satya
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070305/25099e82/attachment.html
From ersts at amnh.org  Mon Mar  5 15:41:35 2007
From: ersts at amnh.org (Peter Ersts)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: classification of rasters
In-Reply-To: <d368056f0703050359r62f6908elf31179af7915c024@mail.gmail.com>
References: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0703050359r62f6908elf31179af7915c024@mail.gmail.com>
Message-ID: <45EC807F.3090407@amnh.org>

I was going to suggest that there be something like hypsometric tints 
anyway so this is very timely. It should not be a problem as it is 
really just adding another block of code and a couple of tweaks to the ui.

-pete

Tim Sutton wrote:
> Hi Marco (cc Peter Ersts & Gary)
>
>
>
> 2007/3/5, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
>> Hi Tim,
>>
>> For the project I'm working on, I need to have the possibility to 
>> colour a
>> raster layer (e.g. a DEM) by building classes and assign a color to 
>> each.
>> Afaik there is no possibility to do so in QGIS. Can I implement it in 
>> the
>> raster transparency branch (even though it is not related to 
>> transparency)?
>
> I think this is fine - any problem with this Peter? I am afraid if you
> do the work outside the branch, we will have difficulty merging
> everything later as we are making some quite big changes to raster -
> so your idea to work in the transparency branch is a good one.
>
>>
>> I wonder what the best way is to implement this behaviour. UMN mapserver
>> preclassifies the expected values in a color table to make lookup faster
>> (http://mapserver.gis.umn.edu/docs/howto/raster_data). But it also 
>> seems that
>> their expressions for classifications can be more complicated than 
>> simple
>> comparison operations. So I'm probably going to start by evaluating 
>> pixel
>> values against a set of classes and see how the performance behaves.
>>
>
> The stuff I wrote for pseudocolour rendering of grayscale  uses a
> similar approach - evaluate each pixel before rendering and decide
> algorithmically what colour to assign it (i.e. no lookup table). Radim
> also did some work in raster on lookup for palettes. Both aproaches
> seem to offer good performance - I think recent (>=QGIS 0.8) slowdowns
> in QGIS rendering relate to canvas changes.
>
> One of the things I am planning to do in tis branch is refactor raster
> into a bunch of smaller dedicated-purpose classes. We are keeping a
> list of our plans here:
>
> http://wiki.qgis.org/qgiswiki/RasterTransparencyBranch
>
> Having raster classification will be a great addition to QGIS btw!
>
> Will be good if you can do the same.
>
> Regards
>
> Tim
>
>> What do you think?
>>
>> Regards,
>> Marco
>>
>
>


-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: (212)-496-3488 or (212)-769-5742
Fax: (212)-313-7295 or (212)-769-5292
Web: http://cbc.amnh.org

Visit the Indo-South Atlantic Consortium on Humpback Whales 
Web:  http://www.isach.org


From tim at linfiniti.com  Mon Mar  5 19:33:20 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Displaying map with QgsUniqueValueRenderer
In-Reply-To: <6ee9a1330703051231rc66ec44xf4dc5a5b2d217e39@mail.gmail.com>
References: <6ee9a1330703051231rc66ec44xf4dc5a5b2d217e39@mail.gmail.com>
Message-ID: <d368056f0703051633j216a1703m4b8500b27daf04f9@mail.gmail.com>

Hi

How about posting code examples of what you have tried and we can try
to help you from there....

Regards

Tim

2007/3/5, satya satya <satya341@gmail.com>:
> Hello all,
>               I am trying to develop a simple application using QGis API.
>  I have read all tutorials on QGis blog. I would like to use
> "QgsUniqueValueRenderer" in my application to display features in diff
> colors. I tried that  "QgsUniqueValueRenderer" , but no luck.
>  could some body help me .
>  cheers
>  satya
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From jctull at gmail.com  Mon Mar  5 21:49:39 2007
From: jctull at gmail.com (John C. Tull)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: [Qgis-user] qgis on an intel mac?
In-Reply-To: <d368056f0703051638u32d82484k8afb5423470cb4f0@mail.gmail.com>
References: <45E7618E.4080706@geophys.utah.edu>
	<97C39DC4-C1FF-457B-A50B-A155EE050C7D@mrcc.com>
	<d368056f0703020334g318b3facib7feb23f9d2b4d8d@mail.gmail.com>
	<BC97AF49-2314-4F33-B9AB-C04FAA4D387F@biodiversity.unr.edu>
	<d368056f0703051638u32d82484k8afb5423470cb4f0@mail.gmail.com>
Message-ID: <EAB4CCE8-7376-4E30-A017-55BCC14608AE@biodiversity.unr.edu>

Tim,

The GEOS 3 framework does keep the 2.2 branch while also adding 3.0  
to the mix. But the newest GDAL framework requires GEOS 3, and it  
appears that this GDAL dependency on GEOS 3 is causing things to  
break down.

So it looks like the problem will need to be resolved in  
qgisdistancearea as you suggested or people will need to use the  
older GDAL framework William built with GEOS 2.2 in place. The older  
GDAL framework is available at:
http://www.kyngchaos.com/files/software/unixport/ 
GDAL_Framework-140-6.dmg
but it is not linked from his web page.

John

On Mar 5, 2007, at 4:38 PM, Tim Sutton wrote:

> Hi
>
> My guess from glancing quickly through your listing is that William is
> using geos 3 in his bundle now and the code in question is expecting
> 2.x GEOS. My other guess is that Martin may have a better idea since
> if I recall correctly he wrote qgsdistancearea. Can you confirm which
> version of geos is in the bundle?
>
> If my guesses are vaguely correct we will need to tweak things a bit
> to make it geos 3.0 friendly..
>
> By the way thanks for posting lots of details with you question..it
> certainly makes life easier!
>
> Regards
>
> Tim
>
> 2007/3/4, John C. Tull <jctull@gmail.com>:
>> Tim & Others,
>>
>> Have you been building using the most current frameworks from
>> William's website (kyngchaos.com)? He updated quite a bit of stuff
>> late last month, and I have been encountering different problems than
>> the SIP issue. After making sure all of the dependencies listed on
>> Tim's blog below, I still do not get ver far along. In particular, my
>> make command dies with the following:
>>
>> [  0%] Generating qgssvnversion.h
>> [  0%] Built target svnversion
>> [  0%] Generating ui_qgisappbase.h
>> [  0%] Generating ui_qgsabout.h
>> [  0%] Generating ui_qgsaddattrdialogbase.h
>> [  0%] Generating ui_qgsattributeactiondialogbase.h
>> [  0%] Generating ui_qgsattributedialogbase.h
>> [  0%] Generating ui_qgsattributetablebase.h
>> [  0%] Generating ui_qgsbookmarksbase.h
>> [  0%] Generating ui_qgscomposerbase.h
>> [  0%] Generating ui_qgscomposerlabelbase.h
>> [  0%] Generating ui_qgscomposermapbase.h
>> [  0%] Generating ui_qgscomposerpicturebase.h
>> [  0%] Generating ui_qgscomposerscalebarbase.h
>> [  0%] Generating ui_qgscomposervectorlegendbase.h
>> [  0%] Generating ui_qgscompositionbase.h
>> [  0%] Generating ui_qgscontinuouscolordialogbase.h
>> [  0%] Generating ui_qgscustomprojectiondialogbase.h
>> [  0%] Generating ui_qgsdbsourceselectbase.h
>> [  0%] Generating ui_qgsdelattrdialogbase.h
>> [  0%] Generating ui_qgsfillstylewidgetbase.h
>> [  0%] Generating ui_qgsgeomtypedialogbase.h
>> [  0%] Generating ui_qgsgraduatedsymboldialogbase.h
>> [  0%] Generating ui_qgshelpviewerbase.h
>> [  0%] Generating ui_qgsidentifyresultsbase.h
>> [  0%] Generating ui_qgslabeldialogbase.h
>> [  0%] Generating ui_qgslayerprojectionselectorbase.h
>> [  0%] Generating ui_qgslinestyledialogbase.h
>> [  0%] Generating ui_qgslinestylewidgetbase.h
>> [  0%] Generating ui_qgsludialogbase.h
>> [  0%] Generating ui_qgsmarkerdialogbase.h
>> [  0%] Generating ui_qgsmeasurebase.h
>> [  0%] Generating ui_qgsmessageviewer.h
>> [  0%] Generating ui_qgsnewconnectionbase.h
>> [  0%] Generating ui_qgsnewhttpconnectionbase.h
>> [  0%] Generating ui_qgsoptionsbase.h
>> [  0%] Generating ui_qgspastetransformationsbase.h
>> [  0%] Generating ui_qgspatterndialogbase.h
>> [  0%] Generating ui_qgspgquerybuilderbase.h
>> [  0%] Generating ui_qgspluginmanagerbase.h
>> [  0%] Generating ui_qgspointstylewidgetbase.h
>> [  0%] Generating ui_qgsprojectionselectorbase.h
>> [  0%] Generating ui_qgsprojectpropertiesbase.h
>> [  0%] Generating ui_qgsrasterlayerpropertiesbase.h
>> [  0%] Generating ui_qgsserversourceselectbase.h
>> [  0%] Generating ui_qgssinglesymboldialogbase.h
>> [  0%] Generating ui_qgsuniquevaluedialogbase.h
>> [  0%] Generating ui_qgsvectorlayerpropertiesbase.h
>> [  0%] Generating ui_qgsvectorsymbologywidgetbase.h
>> [  0%] Generating ui_qgspythondialog.h
>> [  9%] Built target ui
>> [  9%] Generating moc_qgsrasterlayer.cxx
>> [  9%] Generating flex_qgssearchstringlexer.cpp
>> [  9%] Generating qgssearchstringparser.cpp
>> [  9%] Generating moc_qgscontexthelp.cxx
>> [ 10%] Generating moc_qgscoordinatetransform.cxx
>> [ 10%] Generating moc_qgsdataprovider.cxx
>> [ 10%] Generating moc_qgshttptransaction.cxx
>> [ 10%] Generating moc_qgsmaplayer.cxx
>> [ 10%] Generating moc_qgsmaplayerregistry.cxx
>> [ 10%] Generating moc_qgsmaprender.cxx
>> [ 11%] Generating moc_qgsmessageoutput.cxx
>> [ 11%] Generating moc_qgsproject.cxx
>> [ 11%] Generating moc_qgsrasterdataprovider.cxx
>> [ 11%] Generating moc_qgsrunprocess.cxx
>> [ 11%] Generating moc_qgsvectorlayer.cxx
>> Scanning dependencies of target qgis_core
>> [ 12%] Building CXX object src/core/CMakeFiles/qgis_core.dir/qgis.o
>> [ 12%] Building CXX object src/core/CMakeFiles/qgis_core.dir/
>> qgsapplication.o
>> [ 12%] Building CXX object src/core/CMakeFiles/qgis_core.dir/
>> qgsattributeaction.o
>> [ 12%] Building CXX object src/core/CMakeFiles/qgis_core.dir/
>> qgsclipper.o
>> [ 12%] Building CXX object src/core/CMakeFiles/qgis_core.dir/
>> qgscontexthelp.o
>> [ 12%] Building CXX object src/core/CMakeFiles/qgis_core.dir/
>> qgscoordinatetransform.o
>> [ 13%] Building CXX object src/core/CMakeFiles/qgis_core.dir/
>> qgsdatasourceuri.o
>> [ 13%] Building CXX object src/core/CMakeFiles/qgis_core.dir/
>> qgsdistancearea.o
>> In file included from /Library/Frameworks/GEOS.framework/Headers/
>> geos.h:27,
>>                   from /Users/jctull/sources/qgis/src/core/
>> qgsgeometry.h:25,
>>                   from /Users/jctull/sources/qgis/src/core/
>> qgsdistancearea.cpp:28:
>> /Library/Frameworks/GEOS.framework/Headers/geom.h:145:2: error:
>> #warning *** FIXME: to be removed, temporarly set to allow a quick
>> successful build
>> In file included from /Library/Frameworks/GEOS.framework/Headers/
>> geos.h:29,
>>                   from /Users/jctull/sources/qgis/src/core/
>> qgsgeometry.h:25,
>>                   from /Users/jctull/sources/qgis/src/core/
>> qgsdistancearea.cpp:28:
>> /Library/Frameworks/GEOS.framework/Headers/io.h:61:2: error: #warning
>> *** FIXME: to be removed, temporarly set to allow a quick successful
>> build
>> make[2]: *** [src/core/CMakeFiles/qgis_core.dir/qgsdistancearea.o]
>> Error 1
>> make[1]: *** [src/core/CMakeFiles/qgis_core.dir/all] Error 2
>> make: *** [all] Error 2
>>
>> Cheers,
>> John Tull
>>
>>
>> On Mar 2, 2007, at 3:34 AM, Tim Sutton wrote:
>>
>> > Hi
>> >
>> > If you do feel inclined to build it yourself, detailed build
>> > instructions are available at:
>> >
>> > http://wiki.qgis.org/qgiswiki/BuildingOnMacOsX
>> >
>> > Regards
>> >
>> > Tim
>> >
>> > 2007/3/1, Gary Sherman <sherman@mrcc.com>:
>> >> -----BEGIN PGP SIGNED MESSAGE-----
>> >> Hash: SHA1
>> >>
>> >>
>> >> On Mar 1, 2007, at 2:28 PM, W. Payton Gardner wrote:
>> >>
>> >> > Hi all,
>> >> >
>> >> > Is there any reason I couldn't build qgis with all the goodies
>> >> > including postgis and grass on an intel mac?
>> >> >
>> >> No reason at all -- although you could just download the dmg ...
>> >>
>> >> - -gary
>> >>
>> >> > Thanks,
>> >> > Payton
>> >> > _______________________________________________
>> >> > Qgis-user mailing list
>> >> > Qgis-user@lists.qgis.org
>> >> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
>> >>
>> >> - -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>> >> Gary Sherman
>> >> Micro Resources: http://mrcc.com
>> >>    *Geospatial Hosting
>> >>    *Web Site Hosting
>> >> "We work virtually everywhere"
>> >> - -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>> >>
>> >>
>> >>
>> >> -----BEGIN PGP SIGNATURE-----
>> >> Version: GnuPG v1.4.1 (Darwin)
>> >>
>> >> iD8DBQFF54eF1zKuzV6goTgRAm0qAJ900QMZcRupeSz3dIF8iTREMkL6AgCgoQvi
>> >> i8teW2Lo3FYFis+pFgMoe0k=
>> >> =IGtb
>> >> -----END PGP SIGNATURE-----
>> >> _______________________________________________
>> >> Qgis-user mailing list
>> >> Qgis-user@lists.qgis.org
>> >> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
>> >>
>> >
>> >
>> > --
>> > --
>> > Tim Sutton
>> >
>> > Visit http://qgis.org for a great Open Source GIS
>> > Home Page: http://linfiniti.com
>> > Skype: timlinux
>> > MSN: tim_bdworld@msn.com
>> > Yahoo: tim_bdworld@yahoo.com
>> > Jabber: timlinux
>> > Irc: timlinux on #qgis at freenode.net
>> > _______________________________________________
>> > Qgis-user mailing list
>> > Qgis-user@lists.qgis.org
>> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
>>
>>
>
>
> -- 
> -- 
> Tim Sutton
>
> Visit http://qgis.org for a great Open Source GIS
> Home Page: http://linfiniti.com
> Skype: timlinux
> MSN: tim_bdworld@msn.com
> Yahoo: tim_bdworld@yahoo.com
> Jabber: timlinux
> Irc: timlinux on #qgis at freenode.net


From telwertowski at comcast.net  Mon Mar  5 22:37:57 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: [Qgis-user] qgis on an intel mac?
In-Reply-To: <EAB4CCE8-7376-4E30-A017-55BCC14608AE@biodiversity.unr.edu>
References: <45E7618E.4080706@geophys.utah.edu>	<97C39DC4-C1FF-457B-A50B-A155EE050C7D@mrcc.com>	<d368056f0703020334g318b3facib7feb23f9d2b4d8d@mail.gmail.com>	<BC97AF49-2314-4F33-B9AB-C04FAA4D387F@biodiversity.unr.edu>	<d368056f0703051638u32d82484k8afb5423470cb4f0@mail.gmail.com>
	<EAB4CCE8-7376-4E30-A017-55BCC14608AE@biodiversity.unr.edu>
Message-ID: <45ECE215.6010109@comcast.net>

> On Mar 5, 2007, at 4:38 PM, Tim Sutton wrote:
>> If my guesses are vaguely correct we will need to tweak things a bit
>> to make it geos 3.0 friendly..

The problem is that the current geos3 candidate release generates 
warnings for all or most files. By default, qgis 0.9 treats all warnings 
as errors so using geos3 will fail with any qgis file.

Magnus has fixed this earlier today (r6769) by adding the PEDANTIC 
variable to the cmake script. Set PEDANTIC to FALSE and you will be able 
to get past the qeos3 warnings.

Tom

From sherman at mrcc.com  Tue Mar  6 21:54:47 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Google Summer of Code Mentors
Message-ID: <3FAC87EE-4F5F-4892-8EBE-50494C11378D@mrcc.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Greetings,
If you are a developer and willing to serve as a mentor for the  
Google Summer of Code, I need to hear from you *NOW*.

The deadline for QGIS to apply is the 12th and I need to get things  
rolling. We missed this opportunity last year. For information on the  
program, please see http://code.google.com/soc/.

We also need to detail project ideas at http://wiki.qgis.org/qgiswiki/ 
2007_Google_Summer_of_Code. Students interested should contact me  
directly.


Thanks
- -gary
- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (Darwin)

iD8DBQFF7il41zKuzV6goTgRAt82AJsE/YBlsR910SGjHbTJ2rRpMo6BIACeLta6
Ux0oSdsKYt2zEr1wnnDboRo=
=+WUE
-----END PGP SIGNATURE-----

From sherman at mrcc.com  Tue Mar  6 21:56:26 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: Google Summer of Code Mentors
In-Reply-To: <3FAC87EE-4F5F-4892-8EBE-50494C11378D@mrcc.com>
References: <3FAC87EE-4F5F-4892-8EBE-50494C11378D@mrcc.com>
Message-ID: <37373F9C-5184-4765-BD99-36A144ADC9AC@mrcc.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I forgot to mention -- if you want to mentor, you need a Google  
account and I need your gmail address to complete the application. If  
you want to mentor and don't have an account, let me know and I"ll  
send you an invite to gmail.
- -gary

On Mar 6, 2007, at 5:54 PM, Gary Sherman wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Greetings,
> If you are a developer and willing to serve as a mentor for the  
> Google Summer of Code, I need to hear from you *NOW*.
>
> The deadline for QGIS to apply is the 12th and I need to get things  
> rolling. We missed this opportunity last year. For information on  
> the program, please see http://code.google.com/soc/.
>
> We also need to detail project ideas at http://wiki.qgis.org/ 
> qgiswiki/2007_Google_Summer_of_Code. Students interested should  
> contact me directly.
>
>
> Thanks
> - -gary
> - -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Micro Resources: http://mrcc.com
>   *Geospatial Hosting
>   *Web Site Hosting
> "We work virtually everywhere"
> - -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
>
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.1 (Darwin)
>
> iD8DBQFF7il41zKuzV6goTgRAt82AJsE/YBlsR910SGjHbTJ2rRpMo6BIACeLta6
> Ux0oSdsKYt2zEr1wnnDboRo=
> =+WUE
> -----END PGP SIGNATURE-----

- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (Darwin)

iD8DBQFF7ina1zKuzV6goTgRAqveAJ47XPS2ItqpPYWOMPUqsgRnfsyqmwCfcMgd
e0etcX6GTDrT7PlleD1Oyuo=
=4jj4
-----END PGP SIGNATURE-----

From satya341 at gmail.com  Wed Mar  7 09:38:43 2007
From: satya341 at gmail.com (satya satya)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Displaying map with QgsUniqueValueRenderer
In-Reply-To: <6ee9a1330703051805v26d642e7x6e6bd703cbaea6c7@mail.gmail.com>
References: <6ee9a1330703051231rc66ec44xf4dc5a5b2d217e39@mail.gmail.com>
	<d368056f0703051633j216a1703m4b8500b27daf04f9@mail.gmail.com>
	<6ee9a1330703051805v26d642e7x6e6bd703cbaea6c7@mail.gmail.com>
Message-ID: <6ee9a1330703070638k7ef78ef3n3e6c424b82809b19@mail.gmail.com>

Hi tim,
Here is the code

// QGIS Includes
// Qt Includes
// Std Includes

int main(int argc, char ** argv)
{
  // Start the Application
  QgsApplication app(argc, argv, true);

  QString myPluginsDir        = "...../lib/qgis";
  QString myLayerPath1         = "............................. .......shp";
  QString myLayerBaseName1     = "....................shp";
  QString myProviderName      = "ogr";
  QgsSymbol* symbol;
  QColor* color;


    color = new QColor(255,0,0,255);

        symbol = new QgsSymbol(color->rgb());

  // Instantiate Provider Registry
  QgsProviderRegistry::instance(myPluginsDir);
  QgsVectorLayer * mypLayer = new QgsVectorLayer(myLayerPath1,
myLayerBaseName1, myProviderName);

   //get the field list associated with the layer
std::vector<QgsField> myFields=mypLayer->fields();
  QgsUniqueValueRenderer *mypRenderer=new
QgsUniqueValueRenderer(mypLayer->vectorType());

  mypRenderer->setClassificationField(5);

symbol->setColor(Qt::red);
  symbol->setFillColor(QColor(255,0,0));
  symbol->setLabel("HELLO");
  symbol->setPointSize (5);


  std::deque<QString> myLayerSet;
  mypLayer->setRenderer(mypRenderer);
//mypRenderer->insertValue("point",symbol);
if (mypLayer->isValid())
  {
    qDebug("Layer is valid");
  }
  else
  {
    qDebug("Layer is NOT valid");
  }

  // Add the Vector Layer to the Layer Registry

  QgsMapLayerRegistry::instance()->addMapLayer(mypLayer, TRUE);
    // Add the Layer to the Layer Set



  myLayerSet.push_back(mypLayer->getLayerID());
  mypLayer->setVisible(TRUE);



  // Create the Map Canvas
  QgsMapCanvas * mypMapCanvas = new QgsMapCanvas(0, 0);
  mypMapCanvas->setExtent(mypLayer->extent());
  // cbit qDebug(mypMapCanvas->extent().stringRep(2));

  mypMapCanvas->enableAntiAliasing(true);
  mypMapCanvas->setCanvasColor(QColor(255, 255, 255));
  mypMapCanvas->freeze(false);
  // Set the Map Canvas Layer Set
  mypMapCanvas->setLayerSet(myLayerSet);
  mypMapCanvas->setVisible(true);
  mypMapCanvas->refresh();
 // Start the Application Event Loop
//cout<<marker_symbol->picture().toStdString()<<endl;
app.exec();
 //QgsMapCanvas myMapCanvas(0, 0);
 QgsMapLayerRegistry::instance()->removeAllMapLayers();
return 0;
}

I created symbol, but don't know how to add that to the unique value
renderer.

Thanking you
cheers
satya

>
>
>
>
> On 3/5/07, Tim Sutton <tim@linfiniti.com> wrote:
> >
> > Hi
> >
> > How about posting code examples of what you have tried and we can try
> > to help you from there....
> >
> > Regards
> >
> > Tim
> >
> > 2007/3/5, satya satya <satya341@gmail.com >:
> > > Hello all,
> > >               I am trying to develop a simple application using QGis
> > API.
> > >  I have read all tutorials on QGis blog. I would like to use
> > > "QgsUniqueValueRenderer" in my application to display features in diff
> >
> > > colors. I tried that  "QgsUniqueValueRenderer" , but no luck.
> > >  could some body help me .
> > >  cheers
> > >  satya
> > >
> > > _______________________________________________
> > > Qgis-developer mailing list
> > > Qgis-developer@lists.qgis.org
> > > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> > >
> > >
> >
> >
> > --
> > --
> > Tim Sutton
> >
> > Visit http://qgis.org for a great Open Source GIS
> > Home Page: http://linfiniti.com
> > Skype: timlinux
> > MSN: tim_bdworld@msn.com
> > Yahoo: tim_bdworld@yahoo.com
> > Jabber: timlinux
> > Irc: timlinux on #qgis at freenode.net
> >
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070307/45296665/attachment.html
From marco.hugentobler at karto.baug.ethz.ch  Wed Mar  7 10:22:55 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Displaying map with QgsUniqueValueRenderer
In-Reply-To: <6ee9a1330703070638k7ef78ef3n3e6c424b82809b19@mail.gmail.com>
References: <6ee9a1330703051231rc66ec44xf4dc5a5b2d217e39@mail.gmail.com>
	<6ee9a1330703051805v26d642e7x6e6bd703cbaea6c7@mail.gmail.com>
	<6ee9a1330703070638k7ef78ef3n3e6c424b82809b19@mail.gmail.com>
Message-ID: <200703071622.55513.marco.hugentobler@karto.baug.ethz.ch>

Hi Satya,

Just use the Method QgsUniqueValueRenderer::insertValue(QString name, 
QgsSymbol* symbol). The first parameter is the attribute value for which the 
symbol is valid, the second a pointer to your symbol (ok, 'name' is a 
misleading name for the parameter...)

In the code below, there is the outcommented line
//mypRenderer->insertValue("point",symbol);
I suppose "point" is not the attribute value for which you want the symbol to 
be applied? Try to replace it with the attribute value and see if it works.

If you want the symbol to be valid for all features, then you can use 
QgsSingleSymbolRenderer, method 
QgsSingleSymbolRenderer::addSymbol(QgsSymbol*)

Best regards,
Marco

Am Mittwoch, 7. M?rz 2007 15:38 schrieb satya satya:
> Hi tim,
> Here is the code
>
> // QGIS Includes
> // Qt Includes
> // Std Includes
>
> int main(int argc, char ** argv)
> {
>   // Start the Application
>   QgsApplication app(argc, argv, true);
>
>   QString myPluginsDir        = "...../lib/qgis";
>   QString myLayerPath1         = ".............................
> .......shp"; QString myLayerBaseName1     = "....................shp";
>   QString myProviderName      = "ogr";
>   QgsSymbol* symbol;
>   QColor* color;
>
>
>     color = new QColor(255,0,0,255);
>
>         symbol = new QgsSymbol(color->rgb());
>
>   // Instantiate Provider Registry
>   QgsProviderRegistry::instance(myPluginsDir);
>   QgsVectorLayer * mypLayer = new QgsVectorLayer(myLayerPath1,
> myLayerBaseName1, myProviderName);
>
>    //get the field list associated with the layer
> std::vector<QgsField> myFields=mypLayer->fields();
>   QgsUniqueValueRenderer *mypRenderer=new
> QgsUniqueValueRenderer(mypLayer->vectorType());
>
>   mypRenderer->setClassificationField(5);
>
> symbol->setColor(Qt::red);
>   symbol->setFillColor(QColor(255,0,0));
>   symbol->setLabel("HELLO");
>   symbol->setPointSize (5);
>
>
>   std::deque<QString> myLayerSet;
>   mypLayer->setRenderer(mypRenderer);
> //mypRenderer->insertValue("point",symbol);
> if (mypLayer->isValid())
>   {
>     qDebug("Layer is valid");
>   }
>   else
>   {
>     qDebug("Layer is NOT valid");
>   }
>
>   // Add the Vector Layer to the Layer Registry
>
>   QgsMapLayerRegistry::instance()->addMapLayer(mypLayer, TRUE);
>     // Add the Layer to the Layer Set
>
>
>
>   myLayerSet.push_back(mypLayer->getLayerID());
>   mypLayer->setVisible(TRUE);
>
>
>
>   // Create the Map Canvas
>   QgsMapCanvas * mypMapCanvas = new QgsMapCanvas(0, 0);
>   mypMapCanvas->setExtent(mypLayer->extent());
>   // cbit qDebug(mypMapCanvas->extent().stringRep(2));
>
>   mypMapCanvas->enableAntiAliasing(true);
>   mypMapCanvas->setCanvasColor(QColor(255, 255, 255));
>   mypMapCanvas->freeze(false);
>   // Set the Map Canvas Layer Set
>   mypMapCanvas->setLayerSet(myLayerSet);
>   mypMapCanvas->setVisible(true);
>   mypMapCanvas->refresh();
>  // Start the Application Event Loop
> //cout<<marker_symbol->picture().toStdString()<<endl;
> app.exec();
>  //QgsMapCanvas myMapCanvas(0, 0);
>  QgsMapLayerRegistry::instance()->removeAllMapLayers();
> return 0;
> }
>
> I created symbol, but don't know how to add that to the unique value
> renderer.
>
> Thanking you
> cheers
> satya
>
> > On 3/5/07, Tim Sutton <tim@linfiniti.com> wrote:
> > > Hi
> > >
> > > How about posting code examples of what you have tried and we can try
> > > to help you from there....
> > >
> > > Regards
> > >
> > > Tim
> > >
> > > 2007/3/5, satya satya <satya341@gmail.com >:
> > > > Hello all,
> > > >               I am trying to develop a simple application using QGis
> > >
> > > API.
> > >
> > > >  I have read all tutorials on QGis blog. I would like to use
> > > > "QgsUniqueValueRenderer" in my application to display features in
> > > > diff
> > > >
> > > > colors. I tried that  "QgsUniqueValueRenderer" , but no luck.
> > > >  could some body help me .
> > > >  cheers
> > > >  satya
> > > >
> > > > _______________________________________________
> > > > Qgis-developer mailing list
> > > > Qgis-developer@lists.qgis.org
> > > > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> > >
> > > --
> > > --
> > > Tim Sutton
> > >
> > > Visit http://qgis.org for a great Open Source GIS
> > > Home Page: http://linfiniti.com
> > > Skype: timlinux
> > > MSN: tim_bdworld@msn.com
> > > Yahoo: tim_bdworld@yahoo.com
> > > Jabber: timlinux
> > > Irc: timlinux on #qgis at freenode.net

From satya341 at gmail.com  Wed Mar  7 11:17:20 2007
From: satya341 at gmail.com (satya satya)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Displaying map with QgsUniqueValueRenderer
In-Reply-To: <200703071622.55513.marco.hugentobler@karto.baug.ethz.ch>
References: <6ee9a1330703051231rc66ec44xf4dc5a5b2d217e39@mail.gmail.com>
	<6ee9a1330703051805v26d642e7x6e6bd703cbaea6c7@mail.gmail.com>
	<6ee9a1330703070638k7ef78ef3n3e6c424b82809b19@mail.gmail.com>
	<200703071622.55513.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <6ee9a1330703070817u1e2c64ceh1da2473dd1a477ce@mail.gmail.com>

Hi Marco,
I uncommented //mypRenderer->insertValue("point",symbol); , I changed
"POINT" to "Dmg_zip" which is one of the attributes of my shape file.
Unfortunately it displayed nothing. Do i need to iterate all the points in
the shaped file??
Thaking you
regards
satya


On 3/7/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
>
> Hi Satya,
>
> Just use the Method QgsUniqueValueRenderer::insertValue(QString name,
> QgsSymbol* symbol). The first parameter is the attribute value for which
> the
> symbol is valid, the second a pointer to your symbol (ok, 'name' is a
> misleading name for the parameter...)
>
> In the code below, there is the outcommented line
> //mypRenderer->insertValue("point",symbol);
> I suppose "point" is not the attribute value for which you want the symbol
> to
> be applied? Try to replace it with the attribute value and see if it
> works.
>
> If you want the symbol to be valid for all features, then you can use
> QgsSingleSymbolRenderer, method
> QgsSingleSymbolRenderer::addSymbol(QgsSymbol*)
>
> Best regards,
> Marco
>
> Am Mittwoch, 7. M?rz 2007 15:38 schrieb satya satya:
> > Hi tim,
> > Here is the code
> >
> > // QGIS Includes
> > // Qt Includes
> > // Std Includes
> >
> > int main(int argc, char ** argv)
> > {
> >   // Start the Application
> >   QgsApplication app(argc, argv, true);
> >
> >   QString myPluginsDir        = "...../lib/qgis";
> >   QString myLayerPath1         = ".............................
> > .......shp"; QString myLayerBaseName1     = "....................shp";
> >   QString myProviderName      = "ogr";
> >   QgsSymbol* symbol;
> >   QColor* color;
> >
> >
> >     color = new QColor(255,0,0,255);
> >
> >         symbol = new QgsSymbol(color->rgb());
> >
> >   // Instantiate Provider Registry
> >   QgsProviderRegistry::instance(myPluginsDir);
> >   QgsVectorLayer * mypLayer = new QgsVectorLayer(myLayerPath1,
> > myLayerBaseName1, myProviderName);
> >
> >    //get the field list associated with the layer
> > std::vector<QgsField> myFields=mypLayer->fields();
> >   QgsUniqueValueRenderer *mypRenderer=new
> > QgsUniqueValueRenderer(mypLayer->vectorType());
> >
> >   mypRenderer->setClassificationField(5);
> >
> > symbol->setColor(Qt::red);
> >   symbol->setFillColor(QColor(255,0,0));
> >   symbol->setLabel("HELLO");
> >   symbol->setPointSize (5);
> >
> >
> >   std::deque<QString> myLayerSet;
> >   mypLayer->setRenderer(mypRenderer);
> > //mypRenderer->insertValue("point",symbol);
> > if (mypLayer->isValid())
> >   {
> >     qDebug("Layer is valid");
> >   }
> >   else
> >   {
> >     qDebug("Layer is NOT valid");
> >   }
> >
> >   // Add the Vector Layer to the Layer Registry
> >
> >   QgsMapLayerRegistry::instance()->addMapLayer(mypLayer, TRUE);
> >     // Add the Layer to the Layer Set
> >
> >
> >
> >   myLayerSet.push_back(mypLayer->getLayerID());
> >   mypLayer->setVisible(TRUE);
> >
> >
> >
> >   // Create the Map Canvas
> >   QgsMapCanvas * mypMapCanvas = new QgsMapCanvas(0, 0);
> >   mypMapCanvas->setExtent(mypLayer->extent());
> >   // cbit qDebug(mypMapCanvas->extent().stringRep(2));
> >
> >   mypMapCanvas->enableAntiAliasing(true);
> >   mypMapCanvas->setCanvasColor(QColor(255, 255, 255));
> >   mypMapCanvas->freeze(false);
> >   // Set the Map Canvas Layer Set
> >   mypMapCanvas->setLayerSet(myLayerSet);
> >   mypMapCanvas->setVisible(true);
> >   mypMapCanvas->refresh();
> >  // Start the Application Event Loop
> > //cout<<marker_symbol->picture().toStdString()<<endl;
> > app.exec();
> >  //QgsMapCanvas myMapCanvas(0, 0);
> >  QgsMapLayerRegistry::instance()->removeAllMapLayers();
> > return 0;
> > }
> >
> > I created symbol, but don't know how to add that to the unique value
> > renderer.
> >
> > Thanking you
> > cheers
> > satya
> >
> > > On 3/5/07, Tim Sutton <tim@linfiniti.com> wrote:
> > > > Hi
> > > >
> > > > How about posting code examples of what you have tried and we can
> try
> > > > to help you from there....
> > > >
> > > > Regards
> > > >
> > > > Tim
> > > >
> > > > 2007/3/5, satya satya <satya341@gmail.com >:
> > > > > Hello all,
> > > > >               I am trying to develop a simple application using
> QGis
> > > >
> > > > API.
> > > >
> > > > >  I have read all tutorials on QGis blog. I would like to use
> > > > > "QgsUniqueValueRenderer" in my application to display features in
> > > > > diff
> > > > >
> > > > > colors. I tried that  "QgsUniqueValueRenderer" , but no luck.
> > > > >  could some body help me .
> > > > >  cheers
> > > > >  satya
> > > > >
> > > > > _______________________________________________
> > > > > Qgis-developer mailing list
> > > > > Qgis-developer@lists.qgis.org
> > > > > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> > > >
> > > > --
> > > > --
> > > > Tim Sutton
> > > >
> > > > Visit http://qgis.org for a great Open Source GIS
> > > > Home Page: http://linfiniti.com
> > > > Skype: timlinux
> > > > MSN: tim_bdworld@msn.com
> > > > Yahoo: tim_bdworld@yahoo.com
> > > > Jabber: timlinux
> > > > Irc: timlinux on #qgis at freenode.net
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070307/627ae26b/attachment.html
From marco.hugentobler at karto.baug.ethz.ch  Wed Mar  7 12:22:43 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Displaying map with QgsUniqueValueRenderer
In-Reply-To: <6ee9a1330703070817u1e2c64ceh1da2473dd1a477ce@mail.gmail.com>
References: <6ee9a1330703051231rc66ec44xf4dc5a5b2d217e39@mail.gmail.com>
	<200703071622.55513.marco.hugentobler@karto.baug.ethz.ch>
	<6ee9a1330703070817u1e2c64ceh1da2473dd1a477ce@mail.gmail.com>
Message-ID: <200703071822.43788.marco.hugentobler@karto.baug.ethz.ch>

Hi Satya,

Is "Dmg_zip" an attribute name or an attribute value?
You need to specify the attribute _value_ for which you want the symbol to 
apply. Additionally, you need to give the classification field index to the 
renderer, so that it knows in which attribute to look. 

You can see how the QGIS application itself does it. Look at the unique value 
dialog class QgsUniqueValueDialog.cpp/h.

All the best,
Marco

Am Mittwoch, 7. M?rz 2007 17:17 schrieb satya satya:
> Hi Marco,
> I uncommented //mypRenderer->insertValue("point",symbol); , I changed
> "POINT" to "Dmg_zip" which is one of the attributes of my shape file.
> Unfortunately it displayed nothing. Do i need to iterate all the points in
> the shaped file??
> Thaking you
> regards
> satya
>
> On 3/7/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> > Hi Satya,
> >
> > Just use the Method QgsUniqueValueRenderer::insertValue(QString name,
> > QgsSymbol* symbol). The first parameter is the attribute value for which
> > the
> > symbol is valid, the second a pointer to your symbol (ok, 'name' is a
> > misleading name for the parameter...)
> >
> > In the code below, there is the outcommented line
> > //mypRenderer->insertValue("point",symbol);
> > I suppose "point" is not the attribute value for which you want the
> > symbol to
> > be applied? Try to replace it with the attribute value and see if it
> > works.
> >
> > If you want the symbol to be valid for all features, then you can use
> > QgsSingleSymbolRenderer, method
> > QgsSingleSymbolRenderer::addSymbol(QgsSymbol*)
> >
> > Best regards,
> > Marco
> >
> > Am Mittwoch, 7. M?rz 2007 15:38 schrieb satya satya:
> > > Hi tim,
> > > Here is the code
> > >
> > > // QGIS Includes
> > > // Qt Includes
> > > // Std Includes
> > >
> > > int main(int argc, char ** argv)
> > > {
> > >   // Start the Application
> > >   QgsApplication app(argc, argv, true);
> > >
> > >   QString myPluginsDir        = "...../lib/qgis";
> > >   QString myLayerPath1         = ".............................
> > > .......shp"; QString myLayerBaseName1     = "....................shp";
> > >   QString myProviderName      = "ogr";
> > >   QgsSymbol* symbol;
> > >   QColor* color;
> > >
> > >
> > >     color = new QColor(255,0,0,255);
> > >
> > >         symbol = new QgsSymbol(color->rgb());
> > >
> > >   // Instantiate Provider Registry
> > >   QgsProviderRegistry::instance(myPluginsDir);
> > >   QgsVectorLayer * mypLayer = new QgsVectorLayer(myLayerPath1,
> > > myLayerBaseName1, myProviderName);
> > >
> > >    //get the field list associated with the layer
> > > std::vector<QgsField> myFields=mypLayer->fields();
> > >   QgsUniqueValueRenderer *mypRenderer=new
> > > QgsUniqueValueRenderer(mypLayer->vectorType());
> > >
> > >   mypRenderer->setClassificationField(5);
> > >
> > > symbol->setColor(Qt::red);
> > >   symbol->setFillColor(QColor(255,0,0));
> > >   symbol->setLabel("HELLO");
> > >   symbol->setPointSize (5);
> > >
> > >
> > >   std::deque<QString> myLayerSet;
> > >   mypLayer->setRenderer(mypRenderer);
> > > //mypRenderer->insertValue("point",symbol);
> > > if (mypLayer->isValid())
> > >   {
> > >     qDebug("Layer is valid");
> > >   }
> > >   else
> > >   {
> > >     qDebug("Layer is NOT valid");
> > >   }
> > >
> > >   // Add the Vector Layer to the Layer Registry
> > >
> > >   QgsMapLayerRegistry::instance()->addMapLayer(mypLayer, TRUE);
> > >     // Add the Layer to the Layer Set
> > >
> > >
> > >
> > >   myLayerSet.push_back(mypLayer->getLayerID());
> > >   mypLayer->setVisible(TRUE);
> > >
> > >
> > >
> > >   // Create the Map Canvas
> > >   QgsMapCanvas * mypMapCanvas = new QgsMapCanvas(0, 0);
> > >   mypMapCanvas->setExtent(mypLayer->extent());
> > >   // cbit qDebug(mypMapCanvas->extent().stringRep(2));
> > >
> > >   mypMapCanvas->enableAntiAliasing(true);
> > >   mypMapCanvas->setCanvasColor(QColor(255, 255, 255));
> > >   mypMapCanvas->freeze(false);
> > >   // Set the Map Canvas Layer Set
> > >   mypMapCanvas->setLayerSet(myLayerSet);
> > >   mypMapCanvas->setVisible(true);
> > >   mypMapCanvas->refresh();
> > >  // Start the Application Event Loop
> > > //cout<<marker_symbol->picture().toStdString()<<endl;
> > > app.exec();
> > >  //QgsMapCanvas myMapCanvas(0, 0);
> > >  QgsMapLayerRegistry::instance()->removeAllMapLayers();
> > > return 0;
> > > }
> > >
> > > I created symbol, but don't know how to add that to the unique value
> > > renderer.
> > >
> > > Thanking you
> > > cheers
> > > satya
> > >
> > > > On 3/5/07, Tim Sutton <tim@linfiniti.com> wrote:
> > > > > Hi
> > > > >
> > > > > How about posting code examples of what you have tried and we can
> >
> > try
> >
> > > > > to help you from there....
> > > > >
> > > > > Regards
> > > > >
> > > > > Tim
> > > > >
> > > > > 2007/3/5, satya satya <satya341@gmail.com >:
> > > > > > Hello all,
> > > > > >               I am trying to develop a simple application using
> >
> > QGis
> >
> > > > > API.
> > > > >
> > > > > >  I have read all tutorials on QGis blog. I would like to use
> > > > > > "QgsUniqueValueRenderer" in my application to display features in
> > > > > > diff
> > > > > >
> > > > > > colors. I tried that  "QgsUniqueValueRenderer" , but no luck.
> > > > > >  could some body help me .
> > > > > >  cheers
> > > > > >  satya
> > > > > >
> > > > > > _______________________________________________
> > > > > > Qgis-developer mailing list
> > > > > > Qgis-developer@lists.qgis.org
> > > > > > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> > > > >
> > > > > --
> > > > > --
> > > > > Tim Sutton
> > > > >
> > > > > Visit http://qgis.org for a great Open Source GIS
> > > > > Home Page: http://linfiniti.com
> > > > > Skype: timlinux
> > > > > MSN: tim_bdworld@msn.com
> > > > > Yahoo: tim_bdworld@yahoo.com
> > > > > Jabber: timlinux
> > > > > Irc: timlinux on #qgis at freenode.net

From satya341 at gmail.com  Wed Mar  7 12:53:54 2007
From: satya341 at gmail.com (satya satya)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Displaying map with QgsUniqueValueRenderer
In-Reply-To: <200703071822.43788.marco.hugentobler@karto.baug.ethz.ch>
References: <6ee9a1330703051231rc66ec44xf4dc5a5b2d217e39@mail.gmail.com>
	<200703071622.55513.marco.hugentobler@karto.baug.ethz.ch>
	<6ee9a1330703070817u1e2c64ceh1da2473dd1a477ce@mail.gmail.com>
	<200703071822.43788.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <6ee9a1330703070953ie6bd3eeh6aa528f7b26e5f86@mail.gmail.com>

Thank you very much Marco.
Now i am able to display features.
regards,
satya

On 3/7/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
>
> Hi Satya,
>
> Is "Dmg_zip" an attribute name or an attribute value?
> You need to specify the attribute _value_ for which you want the symbol to
> apply. Additionally, you need to give the classification field index to
> the
> renderer, so that it knows in which attribute to look.
>
> You can see how the QGIS application itself does it. Look at the unique
> value
> dialog class QgsUniqueValueDialog.cpp/h.
>
> All the best,
> Marco
>
> Am Mittwoch, 7. M?rz 2007 17:17 schrieb satya satya:
> > Hi Marco,
> > I uncommented //mypRenderer->insertValue("point",symbol); , I changed
> > "POINT" to "Dmg_zip" which is one of the attributes of my shape file.
> > Unfortunately it displayed nothing. Do i need to iterate all the points
> in
> > the shaped file??
> > Thaking you
> > regards
> > satya
> >
> > On 3/7/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
> wrote:
> > > Hi Satya,
> > >
> > > Just use the Method QgsUniqueValueRenderer::insertValue(QString name,
> > > QgsSymbol* symbol). The first parameter is the attribute value for
> which
> > > the
> > > symbol is valid, the second a pointer to your symbol (ok, 'name' is a
> > > misleading name for the parameter...)
> > >
> > > In the code below, there is the outcommented line
> > > //mypRenderer->insertValue("point",symbol);
> > > I suppose "point" is not the attribute value for which you want the
> > > symbol to
> > > be applied? Try to replace it with the attribute value and see if it
> > > works.
> > >
> > > If you want the symbol to be valid for all features, then you can use
> > > QgsSingleSymbolRenderer, method
> > > QgsSingleSymbolRenderer::addSymbol(QgsSymbol*)
> > >
> > > Best regards,
> > > Marco
> > >
> > > Am Mittwoch, 7. M?rz 2007 15:38 schrieb satya satya:
> > > > Hi tim,
> > > > Here is the code
> > > >
> > > > // QGIS Includes
> > > > // Qt Includes
> > > > // Std Includes
> > > >
> > > > int main(int argc, char ** argv)
> > > > {
> > > >   // Start the Application
> > > >   QgsApplication app(argc, argv, true);
> > > >
> > > >   QString myPluginsDir        = "...../lib/qgis";
> > > >   QString myLayerPath1         = ".............................
> > > > .......shp"; QString myLayerBaseName1     =
> "....................shp";
> > > >   QString myProviderName      = "ogr";
> > > >   QgsSymbol* symbol;
> > > >   QColor* color;
> > > >
> > > >
> > > >     color = new QColor(255,0,0,255);
> > > >
> > > >         symbol = new QgsSymbol(color->rgb());
> > > >
> > > >   // Instantiate Provider Registry
> > > >   QgsProviderRegistry::instance(myPluginsDir);
> > > >   QgsVectorLayer * mypLayer = new QgsVectorLayer(myLayerPath1,
> > > > myLayerBaseName1, myProviderName);
> > > >
> > > >    //get the field list associated with the layer
> > > > std::vector<QgsField> myFields=mypLayer->fields();
> > > >   QgsUniqueValueRenderer *mypRenderer=new
> > > > QgsUniqueValueRenderer(mypLayer->vectorType());
> > > >
> > > >   mypRenderer->setClassificationField(5);
> > > >
> > > > symbol->setColor(Qt::red);
> > > >   symbol->setFillColor(QColor(255,0,0));
> > > >   symbol->setLabel("HELLO");
> > > >   symbol->setPointSize (5);
> > > >
> > > >
> > > >   std::deque<QString> myLayerSet;
> > > >   mypLayer->setRenderer(mypRenderer);
> > > > //mypRenderer->insertValue("point",symbol);
> > > > if (mypLayer->isValid())
> > > >   {
> > > >     qDebug("Layer is valid");
> > > >   }
> > > >   else
> > > >   {
> > > >     qDebug("Layer is NOT valid");
> > > >   }
> > > >
> > > >   // Add the Vector Layer to the Layer Registry
> > > >
> > > >   QgsMapLayerRegistry::instance()->addMapLayer(mypLayer, TRUE);
> > > >     // Add the Layer to the Layer Set
> > > >
> > > >
> > > >
> > > >   myLayerSet.push_back(mypLayer->getLayerID());
> > > >   mypLayer->setVisible(TRUE);
> > > >
> > > >
> > > >
> > > >   // Create the Map Canvas
> > > >   QgsMapCanvas * mypMapCanvas = new QgsMapCanvas(0, 0);
> > > >   mypMapCanvas->setExtent(mypLayer->extent());
> > > >   // cbit qDebug(mypMapCanvas->extent().stringRep(2));
> > > >
> > > >   mypMapCanvas->enableAntiAliasing(true);
> > > >   mypMapCanvas->setCanvasColor(QColor(255, 255, 255));
> > > >   mypMapCanvas->freeze(false);
> > > >   // Set the Map Canvas Layer Set
> > > >   mypMapCanvas->setLayerSet(myLayerSet);
> > > >   mypMapCanvas->setVisible(true);
> > > >   mypMapCanvas->refresh();
> > > >  // Start the Application Event Loop
> > > > //cout<<marker_symbol->picture().toStdString()<<endl;
> > > > app.exec();
> > > >  //QgsMapCanvas myMapCanvas(0, 0);
> > > >  QgsMapLayerRegistry::instance()->removeAllMapLayers();
> > > > return 0;
> > > > }
> > > >
> > > > I created symbol, but don't know how to add that to the unique value
> > > > renderer.
> > > >
> > > > Thanking you
> > > > cheers
> > > > satya
> > > >
> > > > > On 3/5/07, Tim Sutton <tim@linfiniti.com> wrote:
> > > > > > Hi
> > > > > >
> > > > > > How about posting code examples of what you have tried and we
> can
> > >
> > > try
> > >
> > > > > > to help you from there....
> > > > > >
> > > > > > Regards
> > > > > >
> > > > > > Tim
> > > > > >
> > > > > > 2007/3/5, satya satya <satya341@gmail.com >:
> > > > > > > Hello all,
> > > > > > >               I am trying to develop a simple application
> using
> > >
> > > QGis
> > >
> > > > > > API.
> > > > > >
> > > > > > >  I have read all tutorials on QGis blog. I would like to use
> > > > > > > "QgsUniqueValueRenderer" in my application to display features
> in
> > > > > > > diff
> > > > > > >
> > > > > > > colors. I tried that  "QgsUniqueValueRenderer" , but no luck.
> > > > > > >  could some body help me .
> > > > > > >  cheers
> > > > > > >  satya
> > > > > > >
> > > > > > > _______________________________________________
> > > > > > > Qgis-developer mailing list
> > > > > > > Qgis-developer@lists.qgis.org
> > > > > > > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> > > > > >
> > > > > > --
> > > > > > --
> > > > > > Tim Sutton
> > > > > >
> > > > > > Visit http://qgis.org for a great Open Source GIS
> > > > > > Home Page: http://linfiniti.com
> > > > > > Skype: timlinux
> > > > > > MSN: tim_bdworld@msn.com
> > > > > > Yahoo: tim_bdworld@yahoo.com
> > > > > > Jabber: timlinux
> > > > > > Irc: timlinux on #qgis at freenode.net
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070307/145a6524/attachment.html
From marco.hugentobler at karto.baug.ethz.ch  Sat Mar 10 02:14:36 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: classification of rasters
In-Reply-To: <d368056f0703050359r62f6908elf31179af7915c024@mail.gmail.com>
References: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0703050359r62f6908elf31179af7915c024@mail.gmail.com>
Message-ID: <200703100814.36521.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

I did some experiments with classifications by evaluating value against a set 
of classes. It slows down rendering a bit, but speed seems still acceptable 
for a first version. I may return and try to enhance speed with color tables 
later.

I'm trying to program a GUI for the classification now. I see two 
possibilities:

A new tab called 'custom color map' in the raster layer properties, containing 
the GUI elements to create a classification.

A button 'custom color map...' under the color map combo box. This would pop 
up the dialog for creating the classification.

I'm more in favour of the first one, as it allows users to immediatly try out 
the symbology by pressing 'apply'. What do you think?


Regards,
Marco 






Am Montag, 5. M?rz 2007 12:59 schrieb Tim Sutton:
> Hi Marco (cc Peter Ersts & Gary)
>
> 2007/3/5, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> > Hi Tim,
> >
> > For the project I'm working on, I need to have the possibility to colour
> > a raster layer (e.g. a DEM) by building classes and assign a color to
> > each. Afaik there is no possibility to do so in QGIS. Can I implement it
> > in the raster transparency branch (even though it is not related to
> > transparency)?
>
> I think this is fine - any problem with this Peter? I am afraid if you
> do the work outside the branch, we will have difficulty merging
> everything later as we are making some quite big changes to raster -
> so your idea to work in the transparency branch is a good one.
>
> > I wonder what the best way is to implement this behaviour. UMN mapserver
> > preclassifies the expected values in a color table to make lookup faster
> > (http://mapserver.gis.umn.edu/docs/howto/raster_data). But it also seems
> > that their expressions for classifications can be more complicated than
> > simple comparison operations. So I'm probably going to start by
> > evaluating pixel values against a set of classes and see how the
> > performance behaves.
>
> The stuff I wrote for pseudocolour rendering of grayscale  uses a
> similar approach - evaluate each pixel before rendering and decide
> algorithmically what colour to assign it (i.e. no lookup table). Radim
> also did some work in raster on lookup for palettes. Both aproaches
> seem to offer good performance - I think recent (>=QGIS 0.8) slowdowns
> in QGIS rendering relate to canvas changes.
>
> One of the things I am planning to do in tis branch is refactor raster
> into a bunch of smaller dedicated-purpose classes. We are keeping a
> list of our plans here:
>
> http://wiki.qgis.org/qgiswiki/RasterTransparencyBranch
>
> Having raster classification will be a great addition to QGIS btw!
>
> Will be good if you can do the same.
>
> Regards
>
> Tim
>
> > What do you think?
> >
> > Regards,
> > Marco
>
> --

From tim at linfiniti.com  Sat Mar 10 05:44:07 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: classification of rasters
In-Reply-To: <200703100814.36521.marco.hugentobler@karto.baug.ethz.ch>
References: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0703050359r62f6908elf31179af7915c024@mail.gmail.com>
	<200703100814.36521.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0703100244g4e147947xc99912b196520c48@mail.gmail.com>

Hi Marco

Sounds cool! I'm also in favour of a new tab since I dont like lots of
pop up windows ala arcmap.

Regards

Tim

2007/3/10, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Tim,
>
> I did some experiments with classifications by evaluating value against a set
> of classes. It slows down rendering a bit, but speed seems still acceptable
> for a first version. I may return and try to enhance speed with color tables
> later.
>
> I'm trying to program a GUI for the classification now. I see two
> possibilities:
>
> A new tab called 'custom color map' in the raster layer properties, containing
> the GUI elements to create a classification.
>
> A button 'custom color map...' under the color map combo box. This would pop
> up the dialog for creating the classification.
>
> I'm more in favour of the first one, as it allows users to immediatly try out
> the symbology by pressing 'apply'. What do you think?
>
>
> Regards,
> Marco
>
>
>
>
>
>
> Am Montag, 5. M?rz 2007 12:59 schrieb Tim Sutton:
> > Hi Marco (cc Peter Ersts & Gary)
> >
> > 2007/3/5, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> > > Hi Tim,
> > >
> > > For the project I'm working on, I need to have the possibility to colour
> > > a raster layer (e.g. a DEM) by building classes and assign a color to
> > > each. Afaik there is no possibility to do so in QGIS. Can I implement it
> > > in the raster transparency branch (even though it is not related to
> > > transparency)?
> >
> > I think this is fine - any problem with this Peter? I am afraid if you
> > do the work outside the branch, we will have difficulty merging
> > everything later as we are making some quite big changes to raster -
> > so your idea to work in the transparency branch is a good one.
> >
> > > I wonder what the best way is to implement this behaviour. UMN mapserver
> > > preclassifies the expected values in a color table to make lookup faster
> > > (http://mapserver.gis.umn.edu/docs/howto/raster_data). But it also seems
> > > that their expressions for classifications can be more complicated than
> > > simple comparison operations. So I'm probably going to start by
> > > evaluating pixel values against a set of classes and see how the
> > > performance behaves.
> >
> > The stuff I wrote for pseudocolour rendering of grayscale  uses a
> > similar approach - evaluate each pixel before rendering and decide
> > algorithmically what colour to assign it (i.e. no lookup table). Radim
> > also did some work in raster on lookup for palettes. Both aproaches
> > seem to offer good performance - I think recent (>=QGIS 0.8) slowdowns
> > in QGIS rendering relate to canvas changes.
> >
> > One of the things I am planning to do in tis branch is refactor raster
> > into a bunch of smaller dedicated-purpose classes. We are keeping a
> > list of our plans here:
> >
> > http://wiki.qgis.org/qgiswiki/RasterTransparencyBranch
> >
> > Having raster classification will be a great addition to QGIS btw!
> >
> > Will be good if you can do the same.
> >
> > Regards
> >
> > Tim
> >
> > > What do you think?
> > >
> > > Regards,
> > > Marco
> >
> > --
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From marco.hugentobler at karto.baug.ethz.ch  Sat Mar 10 08:41:20 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: classification of rasters
In-Reply-To: <d368056f0703100244g4e147947xc99912b196520c48@mail.gmail.com>
References: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>
	<200703100814.36521.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0703100244g4e147947xc99912b196520c48@mail.gmail.com>
Message-ID: <200703101441.20099.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

I commited a first attempt for raster classification to the transparency 
branch. The colormap entries are stored in 
QgsRasterLayer::mValueClassification and are drawn in 
QgsRasterLayer::drawSingleBandPseudoColor.

There is a new tab 'colormap' in the raster properties dialog now. 
Custom classification currently only kicks in if pseudo color mode is active. 
Should the colormap dialog be disabled if this is not the  case?

Regards,
Marco



Am Samstag, 10. M?rz 2007 11:44 schrieb Tim Sutton:
> Hi Marco
>
> Sounds cool! I'm also in favour of a new tab since I dont like lots of
> pop up windows ala arcmap.
>
> Regards
>
> Tim
>
> 2007/3/10, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> > Hi Tim,
> >
> > I did some experiments with classifications by evaluating value against a
> > set of classes. It slows down rendering a bit, but speed seems still
> > acceptable for a first version. I may return and try to enhance speed
> > with color tables later.
> >
> > I'm trying to program a GUI for the classification now. I see two
> > possibilities:
> >
> > A new tab called 'custom color map' in the raster layer properties,
> > containing the GUI elements to create a classification.
> >
> > A button 'custom color map...' under the color map combo box. This would
> > pop up the dialog for creating the classification.
> >
> > I'm more in favour of the first one, as it allows users to immediatly try
> > out the symbology by pressing 'apply'. What do you think?
> >
> >
> > Regards,
> > Marco

From magnus at homann.se  Sat Mar 10 09:11:58 2007
From: magnus at homann.se (Magnus Homann)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] colormaps in tiff
In-Reply-To: <200703101441.20099.marco.hugentobler@karto.baug.ethz.ch>
References: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>	<200703100814.36521.marco.hugentobler@karto.baug.ethz.ch>	<d368056f0703100244g4e147947xc99912b196520c48@mail.gmail.com>
	<200703101441.20099.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <45F2BCAE.6040608@homann.se>

Marco Hugentobler wrote:
> Hi Tim,
> 
> I commited a first attempt for raster classification to the transparency 
> branch. The colormap entries are stored in 
> QgsRasterLayer::mValueClassification and are drawn in 
> QgsRasterLayer::drawSingleBandPseudoColor.
> 
> There is a new tab 'colormap' in the raster properties dialog now. 
> Custom classification currently only kicks in if pseudo color mode is active. 
> Should the colormap dialog be disabled if this is not the  case?

Speaking of colormaps. In ticket 643 there is an issue with a TIFF that 
has strange COLOR_TABLE_RULES (see below).

Qgis uses the COLOR_TABLE_RULE_* instead of the Color Table, which
edns up drawing nothing.

Any idea what the correct behaviour is?

Magnus

*********
Driver: GTiff/GeoTIFF
Size is 190, 140
Coordinate System is:
PROJCS["unnamed",
     GEOGCS["NAD27",
         DATUM["North_American_Datum_1927",
             SPHEROID["Clarke 1866",6378206.4,294.9786982138982,
                 AUTHORITY["EPSG","7008"]],
             AUTHORITY["EPSG","6267"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4267"]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",0],
     PARAMETER["central_meridian",-105],
     PARAMETER["scale_factor",0.9996],
     PARAMETER["false_easting",500000],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     AUTHORITY["EPSG","26713"]]
Origin = (590000.000000000000000,4928000.000000000000000)
Pixel Size = (100.000000000000000,-100.000000000000000)
Metadata:
   AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  (  590000.000, 4928000.000) (103d52'4.42"W, 44d30'5.97"N)
Lower Left  (  590000.000, 4914000.000) (103d52'13.17"W, 44d22'32.31"N)
Upper Right (  609000.000, 4928000.000) (103d37'44.25"W, 44d29'56.54"N)
Lower Right (  609000.000, 4914000.000) (103d37'54.84"W, 44d22'22.93"N)
Center      (  599500.000, 4921000.000) (103d44'59.16"W, 44d26'14.67"N)
Band 1 Block=190x43 Type=Byte, ColorInterp=Palette
   NoData Value=255
   Metadata:
     COLOR_TABLE_RULES_COUNT=6
     COLOR_TABLE_RULE_RGB_0=0.000000e+00 0.000000e+00 0 0 0 0 0 0
     COLOR_TABLE_RULE_RGB_1=0.000000e+00 0.000000e+00 0 0 0 0 0 0
     COLOR_TABLE_RULE_RGB_2=0.000000e+00 0.000000e+00 0 0 0 0 0 0
     COLOR_TABLE_RULE_RGB_3=0.000000e+00 0.000000e+00 0 0 0 0 0 0
     COLOR_TABLE_RULE_RGB_4=0.000000e+00 0.000000e+00 0 0 0 0 0 0
     COLOR_TABLE_RULE_RGB_5=0.000000e+00 0.000000e+00 0 0 0 0 0 0
   Color Table (RGB with 256 entries)
     0: 0,0,0,255
     1: 255,0,0,255
     2: 255,255,0,255
     3: 255,128,0,255
     4: 0,0,255,255
     5: 255,0,255,255
     6: 0,255,0,255
     7: 0,0,0,255
     8: 0,0,0,255
     9: 0,0,0,255
    10: 0,0,0,255
    11: 0,0,0,255
    12: 0,0,0,255
    13: 0,0,0,255
    14: 0,0,0,255
    15: 0,0,0,255
    16: 0,0,0,255
    17: 0,0,0,255
    18: 0,0,0,255
    19: 0,0,0,255
    20: 0,0,0,255
    21: 0,0,0,255
    22: 0,0,0,255
    23: 0,0,0,255
    24: 0,0,0,255
    25: 0,0,0,255
    26: 0,0,0,255
    27: 0,0,0,255
    28: 0,0,0,255
    29: 0,0,0,255
    30: 0,0,0,255
    31: 0,0,0,255
    32: 0,0,0,255
    33: 0,0,0,255
    34: 0,0,0,255
    35: 0,0,0,255
    36: 0,0,0,255
    37: 0,0,0,255
    38: 0,0,0,255
    39: 0,0,0,255
    40: 0,0,0,255
    41: 0,0,0,255
    42: 0,0,0,255
    43: 0,0,0,255
    44: 0,0,0,255
    45: 0,0,0,255
    46: 0,0,0,255
    47: 0,0,0,255
    48: 0,0,0,255
    49: 0,0,0,255
    50: 0,0,0,255
    51: 0,0,0,255
    52: 0,0,0,255
    53: 0,0,0,255
    54: 0,0,0,255
    55: 0,0,0,255
    56: 0,0,0,255
    57: 0,0,0,255
    58: 0,0,0,255
    59: 0,0,0,255
    60: 0,0,0,255
    61: 0,0,0,255
    62: 0,0,0,255
    63: 0,0,0,255
    64: 0,0,0,255
    65: 0,0,0,255
    66: 0,0,0,255
    67: 0,0,0,255
    68: 0,0,0,255
    69: 0,0,0,255
    70: 0,0,0,255
    71: 0,0,0,255
    72: 0,0,0,255
    73: 0,0,0,255
    74: 0,0,0,255
    75: 0,0,0,255
    76: 0,0,0,255
    77: 0,0,0,255
    78: 0,0,0,255
    79: 0,0,0,255
    80: 0,0,0,255
    81: 0,0,0,255
    82: 0,0,0,255
    83: 0,0,0,255
    84: 0,0,0,255
    85: 0,0,0,255
    86: 0,0,0,255
    87: 0,0,0,255
    88: 0,0,0,255
    89: 0,0,0,255
    90: 0,0,0,255
    91: 0,0,0,255
    92: 0,0,0,255
    93: 0,0,0,255
    94: 0,0,0,255
    95: 0,0,0,255
    96: 0,0,0,255
    97: 0,0,0,255
    98: 0,0,0,255
    99: 0,0,0,255
   100: 0,0,0,255
   101: 0,0,0,255
   102: 0,0,0,255
   103: 0,0,0,255
   104: 0,0,0,255
   105: 0,0,0,255
   106: 0,0,0,255
   107: 0,0,0,255
   108: 0,0,0,255
   109: 0,0,0,255
   110: 0,0,0,255
   111: 0,0,0,255
   112: 0,0,0,255
   113: 0,0,0,255
   114: 0,0,0,255
   115: 0,0,0,255
   116: 0,0,0,255
   117: 0,0,0,255
   118: 0,0,0,255
   119: 0,0,0,255
   120: 0,0,0,255
   121: 0,0,0,255
   122: 0,0,0,255
   123: 0,0,0,255
   124: 0,0,0,255
   125: 0,0,0,255
   126: 0,0,0,255
   127: 0,0,0,255
   128: 0,0,0,255
   129: 0,0,0,255
   130: 0,0,0,255
   131: 0,0,0,255
   132: 0,0,0,255
   133: 0,0,0,255
   134: 0,0,0,255
   135: 0,0,0,255
   136: 0,0,0,255
   137: 0,0,0,255
   138: 0,0,0,255
   139: 0,0,0,255
   140: 0,0,0,255
   141: 0,0,0,255
   142: 0,0,0,255
   143: 0,0,0,255
   144: 0,0,0,255
   145: 0,0,0,255
   146: 0,0,0,255
   147: 0,0,0,255
   148: 0,0,0,255
   149: 0,0,0,255
   150: 0,0,0,255
   151: 0,0,0,255
   152: 0,0,0,255
   153: 0,0,0,255
   154: 0,0,0,255
   155: 0,0,0,255
   156: 0,0,0,255
   157: 0,0,0,255
   158: 0,0,0,255
   159: 0,0,0,255
   160: 0,0,0,255
   161: 0,0,0,255
   162: 0,0,0,255
   163: 0,0,0,255
   164: 0,0,0,255
   165: 0,0,0,255
   166: 0,0,0,255
   167: 0,0,0,255
   168: 0,0,0,255
   169: 0,0,0,255
   170: 0,0,0,255
   171: 0,0,0,255
   172: 0,0,0,255
   173: 0,0,0,255
   174: 0,0,0,255
   175: 0,0,0,255
   176: 0,0,0,255
   177: 0,0,0,255
   178: 0,0,0,255
   179: 0,0,0,255
   180: 0,0,0,255
   181: 0,0,0,255
   182: 0,0,0,255
   183: 0,0,0,255
   184: 0,0,0,255
   185: 0,0,0,255
   186: 0,0,0,255
   187: 0,0,0,255
   188: 0,0,0,255
   189: 0,0,0,255
   190: 0,0,0,255
   191: 0,0,0,255
   192: 0,0,0,255
   193: 0,0,0,255
   194: 0,0,0,255
   195: 0,0,0,255
   196: 0,0,0,255
   197: 0,0,0,255
   198: 0,0,0,255
   199: 0,0,0,255
   200: 0,0,0,255
   201: 0,0,0,255
   202: 0,0,0,255
   203: 0,0,0,255
   204: 0,0,0,255
   205: 0,0,0,255
   206: 0,0,0,255
   207: 0,0,0,255
   208: 0,0,0,255
   209: 0,0,0,255
   210: 0,0,0,255
   211: 0,0,0,255
   212: 0,0,0,255
   213: 0,0,0,255
   214: 0,0,0,255
   215: 0,0,0,255
   216: 0,0,0,255
   217: 0,0,0,255
   218: 0,0,0,255
   219: 0,0,0,255
   220: 0,0,0,255
   221: 0,0,0,255
   222: 0,0,0,255
   223: 0,0,0,255
   224: 0,0,0,255
   225: 0,0,0,255
   226: 0,0,0,255
   227: 0,0,0,255
   228: 0,0,0,255
   229: 0,0,0,255
   230: 0,0,0,255
   231: 0,0,0,255
   232: 0,0,0,255
   233: 0,0,0,255
   234: 0,0,0,255
   235: 0,0,0,255
   236: 0,0,0,255
   237: 0,0,0,255
   238: 0,0,0,255
   239: 0,0,0,255
   240: 0,0,0,255
   241: 0,0,0,255
   242: 0,0,0,255
   243: 0,0,0,255
   244: 0,0,0,255
   245: 0,0,0,255
   246: 0,0,0,255
   247: 0,0,0,255
   248: 0,0,0,255
   249: 0,0,0,255
   250: 0,0,0,255
   251: 0,0,0,255
   252: 0,0,0,255
   253: 0,0,0,255
   254: 0,0,0,255
   255: 0,0,0,255

*********

From tim at linfiniti.com  Sat Mar 10 23:39:06 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: classification of rasters
In-Reply-To: <200703101441.20099.marco.hugentobler@karto.baug.ethz.ch>
References: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>
	<200703100814.36521.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0703100244g4e147947xc99912b196520c48@mail.gmail.com>
	<200703101441.20099.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0703102039h53024b88g88b0ffac4ae21277@mail.gmail.com>

Hi Marco

I built your changes  and played around with the stuff in the new tab
- looks cool! I would say yes we should disable it unless pseudocolour
is active (since that caveat caught me out already until I came back
and re-read your email :-)

Will you make it respect the transparency settings that Peter is
implementing? Nice work!

Regards

Tim

2007/3/10, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Tim,
>
> I commited a first attempt for raster classification to the transparency
> branch. The colormap entries are stored in
> QgsRasterLayer::mValueClassification and are drawn in
> QgsRasterLayer::drawSingleBandPseudoColor.
>
> There is a new tab 'colormap' in the raster properties dialog now.
> Custom classification currently only kicks in if pseudo color mode is active.
> Should the colormap dialog be disabled if this is not the  case?
>
> Regards,
> Marco
>
>
>
> Am Samstag, 10. M?rz 2007 11:44 schrieb Tim Sutton:
> > Hi Marco
> >
> > Sounds cool! I'm also in favour of a new tab since I dont like lots of
> > pop up windows ala arcmap.
> >
> > Regards
> >
> > Tim
> >
> > 2007/3/10, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> > > Hi Tim,
> > >
> > > I did some experiments with classifications by evaluating value against a
> > > set of classes. It slows down rendering a bit, but speed seems still
> > > acceptable for a first version. I may return and try to enhance speed
> > > with color tables later.
> > >
> > > I'm trying to program a GUI for the classification now. I see two
> > > possibilities:
> > >
> > > A new tab called 'custom color map' in the raster layer properties,
> > > containing the GUI elements to create a classification.
> > >
> > > A button 'custom color map...' under the color map combo box. This would
> > > pop up the dialog for creating the classification.
> > >
> > > I'm more in favour of the first one, as it allows users to immediatly try
> > > out the symbology by pressing 'apply'. What do you think?
> > >
> > >
> > > Regards,
> > > Marco
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Sun Mar 11 10:33:03 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: About compile QGIS from code in svn.qgis.org
	with CMake under windows
In-Reply-To: <8ec6fcde0703110414l641ac558qe4c591c801c861aa@mail.gmail.com>
References: <8ec6fcde0703110414l641ac558qe4c591c801c861aa@mail.gmail.com>
Message-ID: <d368056f0703110733g2353f51oe374a9901ce8e3b2@mail.gmail.com>

Hi Mr Li

Ok so from your email I think:

You are building under windows
You are building using mingw
You are building 0.8 branch

Please read the README_windows.txt file in the top level of the source
dir - it contains the info you need to build under windows.

Regarding translation into chinese - someone was working on this
before - I think their work is in

i18n/qgis_zh_CN.ts

So you may want to take a look at that file using qt linguist and see
if its the same language yu speak etc - if it is then you should be
able to use that.

If you do plan to work on translations, I also encourage you to look at:

http://wiki.qgis.org/qgiswiki/TranslatorsCorner

I see there is already someone else potentially interested in chinese
translation - if you register your name and email address on that page
you can work together with other chinese speakers and avoid
duplication of effort.

Lastly thanks for your interest in QGIS - we look forward to your contributions!

Enjoy your QGISsing!

Best Regards

Tim

2007/3/11, li somic <somic8@gmail.com>:
> Hi Tim,
>
> I put letter in E-mail Attachments,
>
> thinks a lot
>
> Mr.li
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From ersts at amnh.org  Mon Mar 12 12:20:29 2007
From: ersts at amnh.org (Peter Ersts)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Help with QgsVectorLayer
Message-ID: <45F57DCD.9000200@amnh.org>

Howdy,

I am trying to get a list of attributes from the selected features for a 
layer but am not having much success. Below is my basic approach:

void foo::bar(QgsVectorLayer* layer)
{
.......
    QgsFeatureList mySelectedFeatures = layer->selectedFeatures();
    const QgsAtrributeMap& myAttributeMap =  
mySelectedFeatures[0].attributeMap();
.......
}

The size of the selected list correct, mySelectedFeatures[x].featureId() 
returns correct featureids, but attributMap(), fields() etc. return 
empty lists.  What am I missing here?

I eventually got what I needed by using 
layer->getDataProvider()->getFeatureAtId(......) but I am wondering why 
the other approach does not work.

Any help or explanation would be greatly appreciated.

-pete

-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: (212)-496-3488 or (212)-769-5742
Fax: (212)-313-7295 or (212)-769-5292
Web: http://cbc.amnh.org

Visit the Indo-South Atlantic Consortium on Humpback Whales 
Web:  http://www.isach.org


From marco.hugentobler at karto.baug.ethz.ch  Mon Mar 12 13:54:40 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: classification of rasters
In-Reply-To: <d368056f0703102039h53024b88g88b0ffac4ae21277@mail.gmail.com>
References: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>
	<200703101441.20099.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0703102039h53024b88g88b0ffac4ae21277@mail.gmail.com>
Message-ID: <200703121854.40987.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim

I think it already respects the transparendy settings (at least in the simple 
test I made).

I'm going to a conference this week and will continue hacking raster branch 
after that.

Regards,
Marco

Am Sonntag, 11. M?rz 2007 05:39 schrieben Sie:
> Hi Marco
>
> I built your changes  and played around with the stuff in the new tab
> - looks cool! I would say yes we should disable it unless pseudocolour
> is active (since that caveat caught me out already until I came back
> and re-read your email :-)
>
> Will you make it respect the transparency settings that Peter is
> implementing? Nice work!
>
> Regards
>
> Tim
>
> 2007/3/10, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> > Hi Tim,
> >
> > I commited a first attempt for raster classification to the transparency
> > branch. The colormap entries are stored in
> > QgsRasterLayer::mValueClassification and are drawn in
> > QgsRasterLayer::drawSingleBandPseudoColor.
> >
> > There is a new tab 'colormap' in the raster properties dialog now.
> > Custom classification currently only kicks in if pseudo color mode is
> > active. Should the colormap dialog be disabled if this is not the  case?
> >
> > Regards,
> > Marco
> >
> > Am Samstag, 10. M?rz 2007 11:44 schrieb Tim Sutton:
> > > Hi Marco
> > >
> > > Sounds cool! I'm also in favour of a new tab since I dont like lots of
> > > pop up windows ala arcmap.
> > >
> > > Regards
> > >
> > > Tim
> > >
> > > 2007/3/10, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> > > > Hi Tim,
> > > >
> > > > I did some experiments with classifications by evaluating value
> > > > against a set of classes. It slows down rendering a bit, but speed
> > > > seems still acceptable for a first version. I may return and try to
> > > > enhance speed with color tables later.
> > > >
> > > > I'm trying to program a GUI for the classification now. I see two
> > > > possibilities:
> > > >
> > > > A new tab called 'custom color map' in the raster layer properties,
> > > > containing the GUI elements to create a classification.
> > > >
> > > > A button 'custom color map...' under the color map combo box. This
> > > > would pop up the dialog for creating the classification.
> > > >
> > > > I'm more in favour of the first one, as it allows users to immediatly
> > > > try out the symbology by pressing 'apply'. What do you think?
> > > >
> > > >
> > > > Regards,
> > > > Marco
>
> --

From marco.hugentobler at karto.baug.ethz.ch  Mon Mar 12 14:03:30 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Help with QgsVectorLayer
In-Reply-To: <45F57DCD.9000200@amnh.org>
References: <45F57DCD.9000200@amnh.org>
Message-ID: <200703121903.30891.marco.hugentobler@karto.baug.ethz.ch>

Hi Peter,

I suppose the reason is that QGIS does only read the attributes from the 
provider it needs for drawing. If you have e.g. style single symbol, then 
only the geometry is copied from the data provider, not the attribute values. 
If you have graduated symbol classification, only the classification 
attribute is contained in the features.

To get also the attributes from QgsVectorDataProvider, you need to apply 
QgsVectorDataProvider::getNextFeature with a list of all the attribute 
indexes you need.

Regards,
Marco

Am Montag, 12. M?rz 2007 17:20 schrieb Peter Ersts:
> Howdy,
>
> I am trying to get a list of attributes from the selected features for a
> layer but am not having much success. Below is my basic approach:
>
> void foo::bar(QgsVectorLayer* layer)
> {
> .......
>     QgsFeatureList mySelectedFeatures = layer->selectedFeatures();
>     const QgsAtrributeMap& myAttributeMap =
> mySelectedFeatures[0].attributeMap();
> .......
> }
>
> The size of the selected list correct, mySelectedFeatures[x].featureId()
> returns correct featureids, but attributMap(), fields() etc. return
> empty lists.  What am I missing here?
>
> I eventually got what I needed by using
> layer->getDataProvider()->getFeatureAtId(......) but I am wondering why
> the other approach does not work.
>
> Any help or explanation would be greatly appreciated.
>
> -pete

From tim at linfiniti.com  Mon Mar 12 14:06:06 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: FW: [Qgis-developer] GRASS modules
In-Reply-To: <45f4dad8.4ee3fd46.0846.ffffa7ffSMTPIN_ADDED@mx.google.com>
References: <45f4dad8.4ee3fd46.0846.ffffa7ffSMTPIN_ADDED@mx.google.com>
Message-ID: <d368056f0703121106w6368099dsdb5e7224415ab8@mail.gmail.com>

Hi Mende

Ok now I realise what you were talking about on skype. Yes I am going
to include those modules (they are not build with mingw by Lami the
zip is just sources. They are currently not working in 0.8.1 yet but
will be for the release.

Regards

Tim

2007/3/12, Byambaa Mendbayar <mendbayar_b@mongol.net>:
>
>
> -----Original Message-----
> From: Leonardo Lami [mailto:lami@faunalia.it]
> Sent: Monday, March 05, 2007 8:54 PM
> To: mendbayar_b@mongol.net
> Cc: 'Paolo Cavallini'; 'QGIS-dev'
> Subject: Re: [Qgis-developer] GRASS modules
>
> Hi all,
>
> Byambaa Mendbayar ha scritto:
> > Dear Paolo Cavallini and Tim Sutton,
> >
> > Thanks a lot for you and other GRASS modules developers (Leonardo Lami and
> > Massimo DiStefano).
> >
> > How can I see newly added GRASS modules which are announced by you? Those
> > new modules are already in SVN HEAD or SVN 0.8.0 (I mean 0.8.1)?
>
> Not again
>
> >
> > How can I use http://www.faunalia.it/download/qgis_grass_0.tar.gz in my
> > development workstation? I have using following 2 environments which are
> > XUbuntu + QGIS dev deps and WindowsXP + QGIS dev deps.
>
> You can download the new collection of modules from
> www.faunalia.it/download/qgis/grass.zip and you can follow the
> instruction in the file README.txt-
> Pay attention: this modules needed more testing and some of them have
> problem with Windows!
>
>
> >
> > Second:
> > I have trying to using "Raster map calculator" for simple operation like
> > Add, Sub and etc... My calculation is that:
> > -----------------------------------------------------------------------
> > r.mapcalc
> >
> calcRes=(((raster_3x5.1@ubap.sbd.15khoroo+raster_3x5.2@ubap.sbd.15khoroo)-ub
> > _sar_topo_3x5@ubap.sbd.15khoroo))
> > Successfully finished
> > -----------------------------------------------------------------------
> > Note:
> > All layers which are used above calculations are same sized raster
> images. I
> > mean each image's extends are same to each other.
> >
> > After that my output "calcRes" raster image is shifted, I mean outputted
> > image's coordinate was modified. Also outputted image's each pixel data
> have
> > same values, which are Minimum value: 850.655; Maximum value: 850.655.
> >
> > What am I wrong? Is it my fault or system (GRASS modules) fault? How I
> check
> > my GRASS plugin's "Raster map calculator" modules work correct?
>
> I thin this is a problem of r.mapcalc command oin GRASS, write to the
> GRASS users list.
>
> Good work
> Leonardo
>
> >
> >
> > Best regards,
> > Byambaa Mendbayar
> >
> > P.S
> > Thank you for reading my chaos mail, and your patient.
> >
> > -----Original Message-----
> > From: qgis-developer-bounces@lists.qgis.org
> > [mailto:qgis-developer-bounces@lists.qgis.org] On Behalf Of Paolo
> Cavallini
> > Sent: Monday, February 26, 2007 5:31 PM
> > To: QGIS-dev
> > Cc: Leonardo Lami
> > Subject: [Qgis-developer] GRASS modules
> >
> > Hi all.
> > Thanks to Leonardo Lami and Massimo DiStefano we now have quite a few
> > GRASS modules added to the qgis-grass plugin. They have been tested and
> > no issue has been found. You can download it from:
> > http://www.faunalia.it/download/qgis_grass_0.tar.gz
> > It would be good if they could be added to the next release of qgis.
> > All the best.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
>
>
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Mon Mar 12 16:33:46 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Help with QgsVectorLayer
In-Reply-To: <200703121903.30891.marco.hugentobler@karto.baug.ethz.ch>
References: <45F57DCD.9000200@amnh.org>
	<200703121903.30891.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0703121333g343d7f14q77ea3c17e22ef7fa@mail.gmail.com>

Hi

I ha(d/ve) a tutorial on blog.qgis.org that explains at least some of
this but it seems to be missing from the blog. Ill post the link when
we manage to revive it.

Regards

Tim

2007/3/12, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Peter,
>
> I suppose the reason is that QGIS does only read the attributes from the
> provider it needs for drawing. If you have e.g. style single symbol, then
> only the geometry is copied from the data provider, not the attribute values.
> If you have graduated symbol classification, only the classification
> attribute is contained in the features.
>
> To get also the attributes from QgsVectorDataProvider, you need to apply
> QgsVectorDataProvider::getNextFeature with a list of all the attribute
> indexes you need.
>
> Regards,
> Marco
>
> Am Montag, 12. M?rz 2007 17:20 schrieb Peter Ersts:
> > Howdy,
> >
> > I am trying to get a list of attributes from the selected features for a
> > layer but am not having much success. Below is my basic approach:
> >
> > void foo::bar(QgsVectorLayer* layer)
> > {
> > .......
> >     QgsFeatureList mySelectedFeatures = layer->selectedFeatures();
> >     const QgsAtrributeMap& myAttributeMap =
> > mySelectedFeatures[0].attributeMap();
> > .......
> > }
> >
> > The size of the selected list correct, mySelectedFeatures[x].featureId()
> > returns correct featureids, but attributMap(), fields() etc. return
> > empty lists.  What am I missing here?
> >
> > I eventually got what I needed by using
> > layer->getDataProvider()->getFeatureAtId(......) but I am wondering why
> > the other approach does not work.
> >
> > Any help or explanation would be greatly appreciated.
> >
> > -pete
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From satya341 at gmail.com  Wed Mar 14 13:03:55 2007
From: satya341 at gmail.com (satya satya)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Displaying map with QgsUniqueValueRenderer
In-Reply-To: <6ee9a1330703070953ie6bd3eeh6aa528f7b26e5f86@mail.gmail.com>
References: <6ee9a1330703051231rc66ec44xf4dc5a5b2d217e39@mail.gmail.com>
	<200703071622.55513.marco.hugentobler@karto.baug.ethz.ch>
	<6ee9a1330703070817u1e2c64ceh1da2473dd1a477ce@mail.gmail.com>
	<200703071822.43788.marco.hugentobler@karto.baug.ethz.ch>
	<6ee9a1330703070953ie6bd3eeh6aa528f7b26e5f86@mail.gmail.com>
Message-ID: <6ee9a1330703141003u12da0959od8ae7f5300c181f6@mail.gmail.com>

Hello,
I am able to display features using unique value renderer now :).
Could you please tell me how to give different "symbols" to different
attributes in a particular field.

Here is the code with which i am trying to display features:

mypRenderer->setClassificationField (2);
//std::list<int> attributes=mypRenderer->classificationAttributes();
mypRenderer->insertValue ("1st attribute",symbol);
mypRenderer->insertValue ("2dn attribute",symbol1);
Here i am hardcoding to give different colors for diferent attributes.
Is there any way do to it in a generic way.
Thanking you
cheers
satya

On 3/7/07, satya satya <satya341@gmail.com> wrote:
>
> Thank you very much Marco.
> Now i am able to display features.
> regards,
> satya
>
> On 3/7/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> >
> > Hi Satya,
> >
> > Is "Dmg_zip" an attribute name or an attribute value?
> > You need to specify the attribute _value_ for which you want the symbol
> > to
> > apply. Additionally, you need to give the classification field index to
> > the
> > renderer, so that it knows in which attribute to look.
> >
> > You can see how the QGIS application itself does it. Look at the unique
> > value
> > dialog class QgsUniqueValueDialog.cpp/h.
> >
> > All the best,
> > Marco
> >
> > Am Mittwoch, 7. M?rz 2007 17:17 schrieb satya satya:
> > > Hi Marco,
> > > I uncommented //mypRenderer->insertValue("point",symbol); , I changed
> > > "POINT" to "Dmg_zip" which is one of the attributes of my shape file.
> > > Unfortunately it displayed nothing. Do i need to iterate all the
> > points in
> > > the shaped file??
> > > Thaking you
> > > regards
> > > satya
> > >
> > > On 3/7/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
> > wrote:
> > > > Hi Satya,
> > > >
> > > > Just use the Method QgsUniqueValueRenderer::insertValue(QString
> > name,
> > > > QgsSymbol* symbol). The first parameter is the attribute value for
> > which
> > > > the
> > > > symbol is valid, the second a pointer to your symbol (ok, 'name' is
> > a
> > > > misleading name for the parameter...)
> > > >
> > > > In the code below, there is the outcommented line
> > > > //mypRenderer->insertValue("point",symbol);
> > > > I suppose "point" is not the attribute value for which you want the
> > > > symbol to
> > > > be applied? Try to replace it with the attribute value and see if it
> > > > works.
> > > >
> > > > If you want the symbol to be valid for all features, then you can
> > use
> > > > QgsSingleSymbolRenderer, method
> > > > QgsSingleSymbolRenderer::addSymbol(QgsSymbol*)
> > > >
> > > > Best regards,
> > > > Marco
> > > >
> > > > Am Mittwoch, 7. M?rz 2007 15:38 schrieb satya satya:
> > > > > Hi tim,
> > > > > Here is the code
> > > > >
> > > > > // QGIS Includes
> > > > > // Qt Includes
> > > > > // Std Includes
> > > > >
> > > > > int main(int argc, char ** argv)
> > > > > {
> > > > >   // Start the Application
> > > > >   QgsApplication app(argc, argv, true);
> > > > >
> > > > >   QString myPluginsDir        = "...../lib/qgis";
> > > > >   QString myLayerPath1         = ".............................
> > > > > .......shp"; QString myLayerBaseName1     =
> > "....................shp";
> > > > >   QString myProviderName      = "ogr";
> > > > >   QgsSymbol* symbol;
> > > > >   QColor* color;
> > > > >
> > > > >
> > > > >     color = new QColor(255,0,0,255);
> > > > >
> > > > >         symbol = new QgsSymbol(color->rgb());
> > > > >
> > > > >   // Instantiate Provider Registry
> > > > >   QgsProviderRegistry::instance(myPluginsDir);
> > > > >   QgsVectorLayer * mypLayer = new QgsVectorLayer(myLayerPath1,
> > > > > myLayerBaseName1, myProviderName);
> > > > >
> > > > >    //get the field list associated with the layer
> > > > > std::vector<QgsField> myFields=mypLayer->fields();
> > > > >   QgsUniqueValueRenderer *mypRenderer=new
> > > > > QgsUniqueValueRenderer(mypLayer->vectorType());
> > > > >
> > > > >   mypRenderer->setClassificationField(5);
> > > > >
> > > > > symbol->setColor(Qt::red);
> > > > >   symbol->setFillColor(QColor(255,0,0));
> > > > >   symbol->setLabel("HELLO");
> > > > >   symbol->setPointSize (5);
> > > > >
> > > > >
> > > > >   std::deque<QString> myLayerSet;
> > > > >   mypLayer->setRenderer(mypRenderer);
> > > > > //mypRenderer->insertValue("point",symbol);
> > > > > if (mypLayer->isValid())
> > > > >   {
> > > > >     qDebug("Layer is valid");
> > > > >   }
> > > > >   else
> > > > >   {
> > > > >     qDebug("Layer is NOT valid");
> > > > >   }
> > > > >
> > > > >   // Add the Vector Layer to the Layer Registry
> > > > >
> > > > >   QgsMapLayerRegistry::instance()->addMapLayer(mypLayer, TRUE);
> > > > >     // Add the Layer to the Layer Set
> > > > >
> > > > >
> > > > >
> > > > >   myLayerSet.push_back (mypLayer->getLayerID());
> > > > >   mypLayer->setVisible(TRUE);
> > > > >
> > > > >
> > > > >
> > > > >   // Create the Map Canvas
> > > > >   QgsMapCanvas * mypMapCanvas = new QgsMapCanvas(0, 0);
> > > > >   mypMapCanvas->setExtent(mypLayer->extent());
> > > > >   // cbit qDebug(mypMapCanvas->extent().stringRep(2));
> > > > >
> > > > >   mypMapCanvas->enableAntiAliasing(true);
> > > > >   mypMapCanvas->setCanvasColor(QColor(255, 255, 255));
> > > > >   mypMapCanvas->freeze(false);
> > > > >   // Set the Map Canvas Layer Set
> > > > >   mypMapCanvas->setLayerSet(myLayerSet);
> > > > >   mypMapCanvas->setVisible(true);
> > > > >   mypMapCanvas->refresh();
> > > > >  // Start the Application Event Loop
> > > > > //cout<<marker_symbol->picture().toStdString()<<endl;
> > > > > app.exec();
> > > > >  //QgsMapCanvas myMapCanvas(0, 0);
> > > > >  QgsMapLayerRegistry::instance()->removeAllMapLayers();
> > > > > return 0;
> > > > > }
> > > > >
> > > > > I created symbol, but don't know how to add that to the unique
> > value
> > > > > renderer.
> > > > >
> > > > > Thanking you
> > > > > cheers
> > > > > satya
> > > > >
> > > > > > On 3/5/07, Tim Sutton <tim@linfiniti.com> wrote:
> > > > > > > Hi
> > > > > > >
> > > > > > > How about posting code examples of what you have tried and we
> > can
> > > >
> > > > try
> > > >
> > > > > > > to help you from there....
> > > > > > >
> > > > > > > Regards
> > > > > > >
> > > > > > > Tim
> > > > > > >
> > > > > > > 2007/3/5, satya satya <satya341@gmail.com >:
> > > > > > > > Hello all,
> > > > > > > >               I am trying to develop a simple application
> > using
> > > >
> > > > QGis
> > > >
> > > > > > > API.
> > > > > > >
> > > > > > > >  I have read all tutorials on QGis blog. I would like to use
> >
> > > > > > > > "QgsUniqueValueRenderer" in my application to display
> > features in
> > > > > > > > diff
> > > > > > > >
> > > > > > > > colors. I tried that  "QgsUniqueValueRenderer" , but no
> > luck.
> > > > > > > >  could some body help me .
> > > > > > > >  cheers
> > > > > > > >  satya
> > > > > > > >
> > > > > > > > _______________________________________________
> > > > > > > > Qgis-developer mailing list
> > > > > > > > Qgis-developer@lists.qgis.org
> > > > > > > >
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> > > > > > >
> > > > > > > --
> > > > > > > --
> > > > > > > Tim Sutton
> > > > > > >
> > > > > > > Visit http://qgis.org for a great Open Source GIS
> > > > > > > Home Page: http://linfiniti.com
> > > > > > > Skype: timlinux
> > > > > > > MSN: tim_bdworld@msn.com
> > > > > > > Yahoo: tim_bdworld@yahoo.com
> > > > > > > Jabber: timlinux
> > > > > > > Irc: timlinux on #qgis at freenode.net
> >
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070314/757e95ca/attachment.html
From sherman at mrcc.com  Thu Mar 15 00:46:54 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] New GRASS modules and Mac svn problem - 0.8.x
	release branch
Message-ID: <ADACEF5D-6861-48BC-BBDB-C2581CA3B343@mrcc.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I committed all the new GRASS modules to the 0.8.x release branch as  
r6801. I am unable checkout the branch on the Mac:

subversion/libsvn_wc/log.c:338: (apr_err=155009)
svn: In directory 'qgis_0.8.1/src/plugins/grass/modules'
subversion/libsvn_subr/io.c:565: (apr_err=2)
svn: Can't copy 'qgis_0.8.1/src/plugins/grass/modules/.svn/tmp/text- 
base/v.out.ogr.shape.1.png.svn-base' to 'qgis_0.8.1/src/plugins/grass/ 
modules/v.out.ogr.shape.1.png.2.tmp': No such file or directory

The checkout works fine on Linux and the build is successful. There  
is some noise on the web about these types of errors on the Mac, but  
nothing definitive.

Because of this issue, I have reverted the changes to the GRASS  
modules. If you Mac developers could have a go at checking out r6801  
with the goal of determining the problem it would be very helpful.   
Until then, the 0.8.x branch *does* *not* contain the new modules.

To check out the problem revision:

svn co -r 6801 https://svn.qgis.org/repos/qgis/branches/Release-0_8_0  
qgis_0.8.1_6801

I will continue troubleshooting some modules that have problems...

- -gary
- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (Darwin)

iD8DBQFF+M+/1zKuzV6goTgRAoKcAJ40d3K+BUIgB7T170XTCYWWmHSevwCcD2d9
qqBojxO2bom6nPHY8irEEEg=
=zSrE
-----END PGP SIGNATURE-----

From telwertowski at comcast.net  Thu Mar 15 01:33:04 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] New GRASS modules and Mac svn problem - 0.8.x
	release branch
In-Reply-To: <ADACEF5D-6861-48BC-BBDB-C2581CA3B343@mrcc.com>
References: <ADACEF5D-6861-48BC-BBDB-C2581CA3B343@mrcc.com>
Message-ID: <45F8DA90.8020805@comcast.net>

Gary Sherman wrote:
> I committed all the new GRASS modules to the 0.8.x release branch as 
> r6801. I am unable checkout the branch on the Mac:
> 
> subversion/libsvn_wc/log.c:338: (apr_err=155009)
> svn: In directory 'qgis_0.8.1/src/plugins/grass/modules'
> subversion/libsvn_subr/io.c:565: (apr_err=2)
> svn: Can't copy 
> 'qgis_0.8.1/src/plugins/grass/modules/.svn/tmp/text-base/v.out.ogr.shape.1.png.svn-base' 
> to 'qgis_0.8.1/src/plugins/grass/modules/v.out.ogr.shape.1.png.2.tmp': 
> No such file or directory

I encountered a different problem

svn: Failed to add file 
'../src/plugins/grass/modules/v.category.sum.3.PNG': object of the same 
name already exists

r6801 added the file

src/plugins/grass/modules/v.category.sum.3.PNG

however the repository already contained the file

src/plugins/grass/modules/v.category.sum.3.png

The Darwin layer considers these to be two different files. The Mac OS 
layer considers these to be the same file.

Tom

From b.rowlingson at lancaster.ac.uk  Thu Mar 15 10:43:01 2007
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Writing a data provider in Python
Message-ID: <45F95B75.70103@lancaster.ac.uk>

I'm working with the 0.9 version and I've been writing python plugins 
happily. One thing I wanted to do was to be able to read excel 
spreadsheets into QGis.

I looked at the delimited text C++ plugin and so I understand the 
fundamentals of a vector data provider, but I can't see how to add a new 
one to the registry. It seems that the registry populates itself at 
startup time, and there's no 'add provider' method of QgsProviderRegistry.

So am I right in thinking that data providers have to be in C++ at the 
moment?

The workaround is to insist that my users export their excel 
spreadsheets as CSV files and then I use the very lovely delimited text 
plugin...

Barry

From sherman at mrcc.com  Thu Mar 15 21:21:08 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] New GRASS modules and Mac svn problem - 0.8.x
	release branch
In-Reply-To: <45F8DA90.8020805@comcast.net>
References: <ADACEF5D-6861-48BC-BBDB-C2581CA3B343@mrcc.com>
	<45F8DA90.8020805@comcast.net>
Message-ID: <58398611-7A0B-4A3E-8FA5-9D3E7511A11A@mrcc.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


On Mar 14, 2007, at 9:33 PM, Tom Elwertowski wrote:

> I encountered a different problem
>
> svn: Failed to add file '../src/plugins/grass/modules/ 
> v.category.sum.3.PNG': object of the same name already exists
>
> r6801 added the file
>
> src/plugins/grass/modules/v.category.sum.3.PNG
>
> however the repository already contained the file
>
> src/plugins/grass/modules/v.category.sum.3.png
>
> The Darwin layer considers these to be two different files. The Mac  
> OS layer considers these to be the same file.

I figured it might be a duplicate file issue, but it was late and I  
was unable to determine the culprit(s). There are 400+ files in that  
commit. I'll revisit it now and get rid of the dups. Thanks for the  
troubleshooting.

- -gary


- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (Darwin)

iD8DBQFF+fEF1zKuzV6goTgRAgD1AJ0ZkKsdNOxsJR91VZGX9V6wsUqrxQCfU++H
v3MqVQvWre0s/ty67S1PWcg=
=9Wk9
-----END PGP SIGNATURE-----

From tim at linfiniti.com  Fri Mar 16 06:11:45 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Writing a data provider in Python
In-Reply-To: <45F95B75.70103@lancaster.ac.uk>
References: <45F95B75.70103@lancaster.ac.uk>
Message-ID: <d368056f0703160311x81ad454m544a8146e532a7c1@mail.gmail.com>

Hi

Martin is it possible to write  a provider in python with your bindings?

Regards

Tim

2007/3/15, Barry Rowlingson <b.rowlingson@lancaster.ac.uk>:
> I'm working with the 0.9 version and I've been writing python plugins
> happily. One thing I wanted to do was to be able to read excel
> spreadsheets into QGis.
>
> I looked at the delimited text C++ plugin and so I understand the
> fundamentals of a vector data provider, but I can't see how to add a new
> one to the registry. It seems that the registry populates itself at
> startup time, and there's no 'add provider' method of QgsProviderRegistry.
>
> So am I right in thinking that data providers have to be in C++ at the
> moment?
>
> The workaround is to insist that my users export their excel
> spreadsheets as CSV files and then I use the very lovely delimited text
> plugin...
>
> Barry
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From b.rowlingson at lancaster.ac.uk  Fri Mar 16 06:44:36 2007
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Writing a data provider in Python
In-Reply-To: <d368056f0703160311x81ad454m544a8146e532a7c1@mail.gmail.com>
References: <45F95B75.70103@lancaster.ac.uk>
	<d368056f0703160311x81ad454m544a8146e532a7c1@mail.gmail.com>
Message-ID: <45FA7514.9020604@lancaster.ac.uk>

Tim Sutton wrote:
> Hi
> 
> Martin is it possible to write  a provider in python with your bindings?
> 

  QgsRasterDataProvider and QgsVectorDataProvider classes exist, so it 
should just be a case of making a new python class that's a subclass of 
those, overriding some methods, and calling the right initialise routine.

  Or am I being old and naive?

Barry


From tim at linfiniti.com  Fri Mar 16 08:41:47 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Writing a data provider in Python
In-Reply-To: <45FA7514.9020604@lancaster.ac.uk>
References: <45F95B75.70103@lancaster.ac.uk>
	<d368056f0703160311x81ad454m544a8146e532a7c1@mail.gmail.com>
	<45FA7514.9020604@lancaster.ac.uk>
Message-ID: <d368056f0703160541i6604b5d6t48a3b6a3a109bf67@mail.gmail.com>

Hi

Theoretically yes, but I dont know how the library loader that usually
loads all the available provider plugins should work in this case...

Regards

Tim

2007/3/16, Barry Rowlingson <b.rowlingson@lancaster.ac.uk>:
> Tim Sutton wrote:
> > Hi
> >
> > Martin is it possible to write  a provider in python with your bindings?
> >
>
>   QgsRasterDataProvider and QgsVectorDataProvider classes exist, so it
> should just be a case of making a new python class that's a subclass of
> those, overriding some methods, and calling the right initialise routine.
>
>   Or am I being old and naive?
>
> Barry
>
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From sherman at mrcc.com  Fri Mar 16 11:48:49 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:05 2008
Subject: Fwd: [Qgis-developer] Writing a data provider in Python
References: <F009B026-973B-4038-BC7F-C814411D42CB@mrcc.com>
Message-ID: <47DD3544-86C1-484B-9570-FDBD253AB2B6@mrcc.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Begin forwarded message:

> On Mar 15, 2007, at 6:43 AM, Barry Rowlingson wrote:
>
>> I'm working with the 0.9 version and I've been writing python  
>> plugins happily. One thing I wanted to do was to be able to read  
>> excel spreadsheets into QGis.
>>
>> I looked at the delimited text C++ plugin and so I understand the  
>> fundamentals of a vector data provider, but I can't see how to add  
>> a new one to the registry. It seems that the registry populates  
>> itself at startup time, and there's no 'add provider' method of  
>> QgsProviderRegistry.
>>
>> So am I right in thinking that data providers have to be in C++ at  
>> the moment?
>
>

Actually it only scans files with a .dll  (Windows) or .so (Linux/Os  
X/*nix) extension at startup, looking for the required signatures.  
The plugin registry was modified to accommodate loading Python  
plugins. The data provider registry will need to be modified as well.

- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
- -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (Darwin)

iD8DBQFF+rxh1zKuzV6goTgRAuUjAJ9W3AFl2HDfAt5KkD4+hfcgWE/8SQCgjo1c
qD/8VB1XAI9FNgoCkaV6RAU=
=oVqf
-----END PGP SIGNATURE-----

From ersts at amnh.org  Sat Mar 17 19:44:03 2007
From: ersts at amnh.org (Peter Ersts)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: classification of rasters
In-Reply-To: <200703121854.40987.marco.hugentobler@karto.baug.ethz.ch>
References: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>	<200703101441.20099.marco.hugentobler@karto.baug.ethz.ch>	<d368056f0703102039h53024b88g88b0ffac4ae21277@mail.gmail.com>
	<200703121854.40987.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <45FC7D43.10808@amnh.org>

Howdy Marco and Tim,

Sorry for my lack of input on this I have been a bit neglectful of the 
raster transparency branch over the last week.  I took a look at the 
custom color map changes. They look nice. I made a couple of 
modifications to the ui behavior. The custom color mapping should be 
available for any single band - pseudo color option.

It looks like the custom color map changes will respect the transparency 
setting but it does not play nicely with the stretching.  I made a note 
of this in the latest revision (r6812). When you get a moment please 
check out line 1666 in qgsrasterlayer.cpp.

The custom color map should work with either an unstretched for 
stretched layer. The current logic in drawSingleBandPseudoColor lets the 
custom color map override the stretching, by checking:

if(mValueClassification.size() == 0 && QgsRasterLayer::NO_STRETCH != 
getColorScalingAlgorithm())

which is fine on the first pass. However, if you create a color map, 
then  disable it, mValueClassification.size() is not reset so stretching 
will never be able to happen again. If it is going to be either a custom 
color map or stretching then the test should be:

if(mCustomClassificationEnabled && QgsRasterLayer::NO_STRETCH != 
getColorScalingAlgorithm())

But I maintain the custom color map should display stretch values.

Great, well we are making progress but still lots to do!

-pete

Marco Hugentobler wrote:
> Hi Tim
>
> I think it already respects the transparendy settings (at least in the simple 
> test I made).
>
> I'm going to a conference this week and will continue hacking raster branch 
> after that.
>
> Regards,
> Marco
>
> Am Sonntag, 11. M?rz 2007 05:39 schrieben Sie:
>   
>> Hi Marco
>>
>> I built your changes  and played around with the stuff in the new tab
>> - looks cool! I would say yes we should disable it unless pseudocolour
>> is active (since that caveat caught me out already until I came back
>> and re-read your email :-)
>>
>> Will you make it respect the transparency settings that Peter is
>> implementing? Nice work!
>>
>> Regards
>>
>> Tim
>>
>> 2007/3/10, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
>>     
>>> Hi Tim,
>>>
>>> I commited a first attempt for raster classification to the transparency
>>> branch. The colormap entries are stored in
>>> QgsRasterLayer::mValueClassification and are drawn in
>>> QgsRasterLayer::drawSingleBandPseudoColor.
>>>
>>> There is a new tab 'colormap' in the raster properties dialog now.
>>> Custom classification currently only kicks in if pseudo color mode is
>>> active. Should the colormap dialog be disabled if this is not the  case?
>>>
>>> Regards,
>>> Marco
>>>
>>> Am Samstag, 10. M?rz 2007 11:44 schrieb Tim Sutton:
>>>       
>>>> Hi Marco
>>>>
>>>> Sounds cool! I'm also in favour of a new tab since I dont like lots of
>>>> pop up windows ala arcmap.
>>>>
>>>> Regards
>>>>
>>>> Tim
>>>>
>>>> 2007/3/10, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
>>>>         
>>>>> Hi Tim,
>>>>>
>>>>> I did some experiments with classifications by evaluating value
>>>>> against a set of classes. It slows down rendering a bit, but speed
>>>>> seems still acceptable for a first version. I may return and try to
>>>>> enhance speed with color tables later.
>>>>>
>>>>> I'm trying to program a GUI for the classification now. I see two
>>>>> possibilities:
>>>>>
>>>>> A new tab called 'custom color map' in the raster layer properties,
>>>>> containing the GUI elements to create a classification.
>>>>>
>>>>> A button 'custom color map...' under the color map combo box. This
>>>>> would pop up the dialog for creating the classification.
>>>>>
>>>>> I'm more in favour of the first one, as it allows users to immediatly
>>>>> try out the symbology by pressing 'apply'. What do you think?
>>>>>
>>>>>
>>>>> Regards,
>>>>> Marco
>>>>>           
>> --
>>     
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>   


-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: (212)-496-3488 or (212)-769-5742
Fax: (212)-313-7295 or (212)-769-5292
Web: http://cbc.amnh.org

Visit the Indo-South Atlantic Consortium on Humpback Whales 
Web:  http://www.isach.org


From tim at linfiniti.com  Sat Mar 17 23:33:40 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] QGIS 0.8.1 preview 3 available (windows)
Message-ID: <d368056f0703172033n237e6b5jc84ae080fa4e2dd1@mail.gmail.com>

Hi All

I've made a new review release for the upcoming QGIS 0.8.1 release.
The 0.8.1 release will be primarily a bugfix release. There are two
notable new features though:

* Many GRASS modules have been added to the GRASS toolbox
* The launcher plugin has been added to the list of available plugins

There have been various other tweaks, bug fixes and improvements.
Before installing I suggest you remove any previously installed copy
of QGIS, or install into a separate directory. If you don't do this,
you may find you get duplicated plugins dues to some changes that have
been made in the build process.

Download is available here:

http://qgis.org/uploadfiles/testbuilds/qgis_setup0.8.1preview3.exe (~51mb)

Many thanks to those who have been actively working on getting 0.8.1
release ready - its much appreciated!

If you encounter any issues, please let us know via the bug tracker at:

https://svn.qgis.org/trac/

Please mark you bugs as Version 0.8.1 Milestone 0.8.1. Any bugs deemed
by us as not critical for this release will be bumped over to
milestone 0.8.2 since preview3 will (barring calamity) be the last
review before 0.8.1 comes out.

Please do not email issues directly to us as its difficult to manage
problem reports via email - use the bug tracker rather.

Regards

-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From magnus at homann.se  Sun Mar 18 08:42:28 2007
From: magnus at homann.se (Magnus Homann)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] QGIS 0.8.1 preview 3 available (windows)
In-Reply-To: <d368056f0703172033n237e6b5jc84ae080fa4e2dd1@mail.gmail.com>
References: <d368056f0703172033n237e6b5jc84ae080fa4e2dd1@mail.gmail.com>
Message-ID: <45FD33B4.5090506@homann.se>

Tim Sutton wrote:
> 
> There have been various other tweaks, bug fixes and improvements.
> Before installing I suggest you remove any previously installed copy
> of QGIS, or install into a separate directory. If you don't do this,
> you may find you get duplicated plugins dues to some changes that have
> been made in the build process.

Also the wrong providers can be picked up if you don't remove the old 
ones. I suggest *it is mandatory* instead of a suggestion to remove the 
old installation or install to new directory.

It is due to the CMake build system using other names.

Magnus
-- 
Magnus Homann
magnus@homann.se
+46 702 399 558

From wonder.sk at gmail.com  Sun Mar 18 18:53:45 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Writing a data provider in Python
In-Reply-To: <45F95B75.70103@lancaster.ac.uk>
References: <45F95B75.70103@lancaster.ac.uk>
Message-ID: <e8e7199c0703181553i46cc17d8m1683a2b637630055@mail.gmail.com>

On 3/15/07, Barry Rowlingson <b.rowlingson@lancaster.ac.uk> wrote:
> I'm working with the 0.9 version and I've been writing python plugins
> happily. One thing I wanted to do was to be able to read excel
> spreadsheets into QGis.
>
> I looked at the delimited text C++ plugin and so I understand the
> fundamentals of a vector data provider, but I can't see how to add a new
> one to the registry. It seems that the registry populates itself at
> startup time, and there's no 'add provider' method of QgsProviderRegistry.
>
> So am I right in thinking that data providers have to be in C++ at the
> moment?

You're right, currently only C++ providers are supported. Adding the
possibility to implement providers in Python shouldn't be very hard,
but I haven't considered it important to implement so far. Basically
it's the same principle as with Python plugins. If you need such
feature, fill in an enhancenment ticket and assign it to me (wonder).

However, generally we should think a bit about our providers/plugins
mechanisms unification as it seems like we're on the way to get more
types of addons - e.g. vector overlay plugins - as in diagram branch
that Marco works on.

Regards,
Martin

From tim at linfiniti.com  Sun Mar 18 20:05:50 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] QGIS 0.8.1 preview 3 available (windows)
In-Reply-To: <20070318234738.GB15856@sssup.it>
References: <d368056f0703172033n237e6b5jc84ae080fa4e2dd1@mail.gmail.com>
	<20070318234738.GB15856@sssup.it>
Message-ID: <d368056f0703181705l452af941n171a32b9200e1a9a@mail.gmail.com>

Hi

No there is no related source tarball as its only a windows test
build. If you want the equivalent version on Linux or Mac, simply
check out the 0.8 release branch like this:

svn co https://svn.qgis.org/repos/qgis/branches/Release-0_8_0

The branch will be tagged as Release-0_8_1 when we release 0.8.1 and
source etc. tarballs will be made.

Hope that helps!

Regards

Tim

2007/3/18, Emiliano Giovanni Vavassori <testina@sssup.it>:
> Il giorno Sun, Mar 18, 2007 at 12:33:40AM -0300, Tim Sutton ha scritto:
> > I've made a new review release for the upcoming QGIS 0.8.1 release.
> > The 0.8.1 release will be primarily a bugfix release. There are two
> > notable new features though:
>
> Sorry for the stupid question, is this preview build related to a source
> tarball or it is exclusive for Windows systems? Where can I download a
> source tarball for GNU/Linux for 0.8.1 pre 3?
>
> Thanks a lot.
> --
> Emiliano Giovanni Vavassori - http://syntaxerrormmm.altervista.org/
> GuIT --- Home page: http://www.guit.sssup.it/
> Please, no Word or PowerPoint attachments. Do so only if it's
> extremely necessary.
>
>
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From testina at sssup.it  Sun Mar 18 20:16:45 2007
From: testina at sssup.it (Emiliano Giovanni Vavassori)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] QGIS 0.8.1 preview 3 available (windows)
In-Reply-To: <d368056f0703181705l452af941n171a32b9200e1a9a@mail.gmail.com>
References: <d368056f0703172033n237e6b5jc84ae080fa4e2dd1@mail.gmail.com>
	<20070318234738.GB15856@sssup.it>
	<d368056f0703181705l452af941n171a32b9200e1a9a@mail.gmail.com>
Message-ID: <20070319001644.GC15856@sssup.it>

Il giorno Sun, Mar 18, 2007 at 09:05:50PM -0300, Tim Sutton ha scritto:
> If you want the equivalent version on Linux or Mac, simply
> check out the 0.8 release branch like this:
> 
> Hope that helps!

Thanks a lot, gentle as always :)
-- 
Emiliano Giovanni Vavassori - http://syntaxerrormmm.altervista.org/
GuIT --- Home page: http://www.guit.sssup.it/
Please, no Word or PowerPoint attachments. Do so only if it's
extremely necessary.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070319/a3faaf99/attachment.bin
From marco.hugentobler at karto.baug.ethz.ch  Mon Mar 19 06:31:57 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: classification of rasters
In-Reply-To: <45FC7D43.10808@amnh.org>
References: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>
	<200703121854.40987.marco.hugentobler@karto.baug.ethz.ch>
	<45FC7D43.10808@amnh.org>
Message-ID: <200703191131.57714.marco.hugentobler@karto.baug.ethz.ch>

Hi Peter,

You are right,  mValueClassification.size() should be replaced with 
mCustomClassificationEnabled. My original idea was that it is either 
clipping/stretching or custom colormap.

> But I maintain the custom color map should display stretch values.

I'm not sure I undestand what you mean. Do you mean that, if there is 
stretching enabled and custom colormap, there should be a combination of 
both?
Maybe I can understand better with an example. Let's say we have a DTM and 
there is clipping and stretching enabled for values 500 - 800. But in custom 
colormap tab there are items 400 red / 600 green / 1000 blue and linear color 
interpolation. How would the application behave in such a situation?

cheers,
Marco



Am Sonntag, 18. M?rz 2007 00:44 schrieb Peter Ersts:
> Howdy Marco and Tim,
>
> Sorry for my lack of input on this I have been a bit neglectful of the
> raster transparency branch over the last week.  I took a look at the
> custom color map changes. They look nice. I made a couple of
> modifications to the ui behavior. The custom color mapping should be
> available for any single band - pseudo color option.
>
> It looks like the custom color map changes will respect the transparency
> setting but it does not play nicely with the stretching.  I made a note
> of this in the latest revision (r6812). When you get a moment please
> check out line 1666 in qgsrasterlayer.cpp.
>
> The custom color map should work with either an unstretched for
> stretched layer. The current logic in drawSingleBandPseudoColor lets the
> custom color map override the stretching, by checking:
>
> if(mValueClassification.size() == 0 && QgsRasterLayer::NO_STRETCH !=
> getColorScalingAlgorithm())
>
> which is fine on the first pass. However, if you create a color map,
> then  disable it, mValueClassification.size() is not reset so stretching
> will never be able to happen again. If it is going to be either a custom
> color map or stretching then the test should be:
>
> if(mCustomClassificationEnabled && QgsRasterLayer::NO_STRETCH !=
> getColorScalingAlgorithm())
>
> But I maintain the custom color map should display stretch values.
>
> Great, well we are making progress but still lots to do!
>
> -pete
>
> Marco Hugentobler wrote:
> > Hi Tim
> >
> > I think it already respects the transparendy settings (at least in the
> > simple test I made).
> >
> > I'm going to a conference this week and will continue hacking raster
> > branch after that.
> >
> > Regards,
> > Marco
> >
> > Am Sonntag, 11. M?rz 2007 05:39 schrieben Sie:
> >> Hi Marco
> >>
> >> I built your changes  and played around with the stuff in the new tab
> >> - looks cool! I would say yes we should disable it unless pseudocolour
> >> is active (since that caveat caught me out already until I came back
> >> and re-read your email :-)
> >>
> >> Will you make it respect the transparency settings that Peter is
> >> implementing? Nice work!
> >>
> >> Regards
> >>
> >> Tim
> >>
> >> 2007/3/10, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> >>> Hi Tim,
> >>>
> >>> I commited a first attempt for raster classification to the
> >>> transparency branch. The colormap entries are stored in
> >>> QgsRasterLayer::mValueClassification and are drawn in
> >>> QgsRasterLayer::drawSingleBandPseudoColor.
> >>>
> >>> There is a new tab 'colormap' in the raster properties dialog now.
> >>> Custom classification currently only kicks in if pseudo color mode is
> >>> active. Should the colormap dialog be disabled if this is not the 
> >>> case?
> >>>
> >>> Regards,
> >>> Marco
> >>>
> >>> Am Samstag, 10. M?rz 2007 11:44 schrieb Tim Sutton:
> >>>> Hi Marco
> >>>>
> >>>> Sounds cool! I'm also in favour of a new tab since I dont like lots of
> >>>> pop up windows ala arcmap.
> >>>>
> >>>> Regards
> >>>>
> >>>> Tim
> >>>>
> >>>> 2007/3/10, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> >>>>> Hi Tim,
> >>>>>
> >>>>> I did some experiments with classifications by evaluating value
> >>>>> against a set of classes. It slows down rendering a bit, but speed
> >>>>> seems still acceptable for a first version. I may return and try to
> >>>>> enhance speed with color tables later.
> >>>>>
> >>>>> I'm trying to program a GUI for the classification now. I see two
> >>>>> possibilities:
> >>>>>
> >>>>> A new tab called 'custom color map' in the raster layer properties,
> >>>>> containing the GUI elements to create a classification.
> >>>>>
> >>>>> A button 'custom color map...' under the color map combo box. This
> >>>>> would pop up the dialog for creating the classification.
> >>>>>
> >>>>> I'm more in favour of the first one, as it allows users to immediatly
> >>>>> try out the symbology by pressing 'apply'. What do you think?
> >>>>>
> >>>>>
> >>>>> Regards,
> >>>>> Marco
> >>
> >> --
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

From ersts at amnh.org  Mon Mar 19 08:33:55 2007
From: ersts at amnh.org (Peter Ersts)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: classification of rasters
In-Reply-To: <200703191131.57714.marco.hugentobler@karto.baug.ethz.ch>
References: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>
	<200703121854.40987.marco.hugentobler@karto.baug.ethz.ch>
	<45FC7D43.10808@amnh.org>
	<200703191131.57714.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <45FE8333.3090106@amnh.org>

Marco Hugentobler wrote:
> Hi Peter,
>
> You are right,  mValueClassification.size() should be replaced with 
> mCustomClassificationEnabled. My original idea was that it is either 
> clipping/stretching or custom colormap.
>   
Ok, great! I made this change already so it is currently either 
stretching or custom colormap and should behave when you switch between 
these options.

>> But I maintain the custom color map should display stretch values.
>>     
>
> I'm not sure I undestand what you mean. Do you mean that, if there is 
> stretching enabled and custom colormap, there should be a combination of 
> both?
> Maybe I can understand better with an example. Let's say we have a DTM and 
> there is clipping and stretching enabled for values 500 - 800. But in custom 
> colormap tab there are items 400 red / 600 green / 1000 blue and linear color 
> interpolation. How would the application behave in such a situation?

So yes, I am suggesting there should be a combination of both. In your 
example: the DTM values 500 - 800 get stretched from 0 to 255 for 
rendering. In this case the color map could also be scaled so that  0 = 
red 85= green and 255 = blue, but this is only done at during rendering, 
the table values still stay the same (i.e. 400 - 1000). It may not 
always make sense to do both but I am looking at if from a clarity and 
usability standpoint for the user. If it is only going to be one or the 
other, the we need to add quite a but more to the GUI to make it clear 
that the user that they only have one option or the other.

-pete

-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: (212)-496-3488 or (212)-769-5742
Fax: (212)-313-7295 or (212)-769-5292
Web: http://cbc.amnh.org

Visit the Indo-South Atlantic Consortium on Humpback Whales 
Web:  http://www.isach.org


From marco.hugentobler at karto.baug.ethz.ch  Mon Mar 19 12:30:15 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: classification of rasters
In-Reply-To: <45FE8333.3090106@amnh.org>
References: <200703050906.15739.marco.hugentobler@karto.baug.ethz.ch>
	<200703191131.57714.marco.hugentobler@karto.baug.ethz.ch>
	<45FE8333.3090106@amnh.org>
Message-ID: <200703191730.15502.marco.hugentobler@karto.baug.ethz.ch>

Hi Peter,

Am Montag, 19. M?rz 2007 13:33 schrieb Peter Ersts:
> > I'm not sure I undestand what you mean. Do you mean that, if there is
> > stretching enabled and custom colormap, there should be a combination of
> > both?
> > Maybe I can understand better with an example. Let's say we have a DTM
> > and there is clipping and stretching enabled for values 500 - 800. But in
> > custom colormap tab there are items 400 red / 600 green / 1000 blue and
> > linear color interpolation. How would the application behave in such a
> > situation?
>
> So yes, I am suggesting there should be a combination of both. In your
> example: the DTM values 500 - 800 get stretched from 0 to 255 for
> rendering. In this case the color map could also be scaled so that  0 =
> red 85= green and 255 = blue, but this is only done at during rendering,
> the table values still stay the same (i.e. 400 - 1000). It may not
> always make sense to do both but I am looking at if from a clarity and
> usability standpoint for the user. If it is only going to be one or the
> other, the we need to add quite a but more to the GUI to make it clear
> that the user that they only have one option or the other.

Hm, for me it seems as if stretching and custom colormap contradict each other 
in this example. From stretching, it follows that 500 is 0 and thus red =255, 
green=0, blue=0. But from the custom colormap it follows that 400 is plain 
red and 500 has already more green and less red.

Is this correct or did I overlook any important point / use case?

>If it is only going to be one or the
> other, the we need to add quite a but more to the GUI to make it clear
> that the user that they only have one option or the other.

Yes, true. One possibility would e.g. be to have an additional entry 'custom 
colormap' in the combo box. So if there is the 'pseudo colors' item active, 
then user has stretch/clip and 'colormap' tab is disabled. If there 
is 'custom colormap' active, then 'band selection' group is disabled 
and 'colormap' enabled.

I'm sure there are more user friendly possibilities. What do you think?

cheers,
Marco



From mendbayar_b at mongol.net  Wed Mar 21 22:52:25 2007
From: mendbayar_b at mongol.net (Byambaa Mendbayar)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] FW: PostGIS driver in OGR doesn't support schemas
Message-ID: <20070322025255.784861B692@qgis.org>

Dear Tim and Developers,

I had a problem on grass plug-in. I was trying to import PostGIS vector
layer to GRASS. But it was not successes. It was reporting to me "PostGIS
driver in OGR doesn't support schemas!".

Then I think that I need to compile GDAL for supporting missing thing (OGR
support to schemas). However I do not know how to do it. I mean which
configuration option should be turn on for supporting OGR support to
schemas. Also how I compile it on my windows workstation. I guess that I
should compile GEOS from following "c:\msys\src\geos-2.2.3" which is
provided by you (latest msys.zip from Brasilia)

Please provide me some advices.

Thanks and best regards,

Byambaa Mendbayar



From tim at linfiniti.com  Thu Mar 22 00:18:58 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: PostGIS driver in OGR doesn't support schemas
In-Reply-To: <4600ddf5.0dc5073c.272c.ffffb8b0SMTPIN_ADDED@mx.google.com>
References: <4600ddf5.0dc5073c.272c.ffffb8b0SMTPIN_ADDED@mx.google.com>
Message-ID: <d368056f0703212118x5b7896f6u62d29089cae234ba@mail.gmail.com>

Hi Mende!

Can you post questions to the list rather? Sometimes I dont get time
to answer all questions personally and others may be able to help.

Which version of QGIS win did you use? Can you test with

http://qgis.org/uploadfiles/testbuilds/qgis_setup0.8.1preview3.exe

Since I tried to buid gdal with pg support in that version (I havent
tested it yet to see if it works though). Please let me know if it did
work.

Regards

Tim

2007/3/21, Byambaa Mendbayar <mendbayar_b@mongol.net>:
> Dear Tim,
>
> I hope that your works are well.
>
> I had a problem on grass plug-in. I was trying to import PostGIS vector
> layer to GRASS. But it was not successes. It was reporting to me "PostGIS
> driver in OGR doesn't support schemas!" please find attached screen shot.
>
> Then I think that I need to compile GDAL for supporting missing thing (OGR
> support to schemas). However I do not know how to do it. I mean which
> configuration option should be turn on for supporting OGR support to
> schemas. Also how I compile it on my windows workstation. I guess that I
> should compile GEOS from following "c:\msys\src\geos-2.2.3" which is
> provided by you (latest msys.zip from Brasilia)
>
> Please provide me some advices.
>
> Thanks and best regards,
>
> Byambaa Mendbayar
>
>
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From mendbayar_b at mongol.net  Thu Mar 22 00:32:03 2007
From: mendbayar_b at mongol.net (Byambaa Mendbayar)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] RE: PostGIS driver in OGR doesn't support schemas
In-Reply-To: <d368056f0703212118x5b7896f6u62d29089cae234ba@mail.gmail.com>
Message-ID: <20070322043229.746E01B671@qgis.org>

Dear Tim,

I have using my own compiled version of QGIS. It means latest build of SVN
HEAD and latest SVN of Release_0.8.0 branch of code. I have using your
latest msys.zip for compiling source codes.

I have not yet get preview 3. I will try to test it. But I think that my own
compiled version is latest or recent than your preview 3. Do you agree it?

Best regards,

Byambaa Mendbayar

-----Original Message-----
From: Tim Sutton [mailto:tim@linfiniti.com] 
Sent: Thursday, March 22, 2007 12:19 PM
To: mendbayar_b@mongol.net; qgis-developer
Subject: Re: PostGIS driver in OGR doesn't support schemas

Hi Mende!

Can you post questions to the list rather? Sometimes I dont get time
to answer all questions personally and others may be able to help.

Which version of QGIS win did you use? Can you test with

http://qgis.org/uploadfiles/testbuilds/qgis_setup0.8.1preview3.exe

Since I tried to buid gdal with pg support in that version (I havent
tested it yet to see if it works though). Please let me know if it did
work.

Regards

Tim

2007/3/21, Byambaa Mendbayar <mendbayar_b@mongol.net>:
> Dear Tim,
>
> I hope that your works are well.
>
> I had a problem on grass plug-in. I was trying to import PostGIS vector
> layer to GRASS. But it was not successes. It was reporting to me "PostGIS
> driver in OGR doesn't support schemas!" please find attached screen shot.
>
> Then I think that I need to compile GDAL for supporting missing thing (OGR
> support to schemas). However I do not know how to do it. I mean which
> configuration option should be turn on for supporting OGR support to
> schemas. Also how I compile it on my windows workstation. I guess that I
> should compile GEOS from following "c:\msys\src\geos-2.2.3" which is
> provided by you (latest msys.zip from Brasilia)
>
> Please provide me some advices.
>
> Thanks and best regards,
>
> Byambaa Mendbayar
>
>
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net



From tim at linfiniti.com  Thu Mar 22 01:10:36 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: PostGIS driver in OGR doesn't support schemas
In-Reply-To: <460206c5.094e1511.400d.ffffb4d4SMTPIN_ADDED@mx.google.com>
References: <d368056f0703212118x5b7896f6u62d29089cae234ba@mail.gmail.com>
	<460206c5.094e1511.400d.ffffb4d4SMTPIN_ADDED@mx.google.com>
Message-ID: <d368056f0703212210u4f69ef6ev4d88e0b9af973d94@mail.gmail.com>

Hi

Ah yes I forgot. Are you using the latest msys.zip? It was compiled
with pg support I think. But otherwise Im not sure why you are getting
this behaviour :-(

Regards

Tim

2007/3/22, Byambaa Mendbayar <mendbayar_b@mongol.net>:
> Dear Tim,
>
> I have using my own compiled version of QGIS. It means latest build of SVN
> HEAD and latest SVN of Release_0.8.0 branch of code. I have using your
> latest msys.zip for compiling source codes.
>
> I have not yet get preview 3. I will try to test it. But I think that my own
> compiled version is latest or recent than your preview 3. Do you agree it?
>
> Best regards,
>
> Byambaa Mendbayar
>
> -----Original Message-----
> From: Tim Sutton [mailto:tim@linfiniti.com]
> Sent: Thursday, March 22, 2007 12:19 PM
> To: mendbayar_b@mongol.net; qgis-developer
> Subject: Re: PostGIS driver in OGR doesn't support schemas
>
> Hi Mende!
>
> Can you post questions to the list rather? Sometimes I dont get time
> to answer all questions personally and others may be able to help.
>
> Which version of QGIS win did you use? Can you test with
>
> http://qgis.org/uploadfiles/testbuilds/qgis_setup0.8.1preview3.exe
>
> Since I tried to buid gdal with pg support in that version (I havent
> tested it yet to see if it works though). Please let me know if it did
> work.
>
> Regards
>
> Tim
>
> 2007/3/21, Byambaa Mendbayar <mendbayar_b@mongol.net>:
> > Dear Tim,
> >
> > I hope that your works are well.
> >
> > I had a problem on grass plug-in. I was trying to import PostGIS vector
> > layer to GRASS. But it was not successes. It was reporting to me "PostGIS
> > driver in OGR doesn't support schemas!" please find attached screen shot.
> >
> > Then I think that I need to compile GDAL for supporting missing thing (OGR
> > support to schemas). However I do not know how to do it. I mean which
> > configuration option should be turn on for supporting OGR support to
> > schemas. Also how I compile it on my windows workstation. I guess that I
> > should compile GEOS from following "c:\msys\src\geos-2.2.3" which is
> > provided by you (latest msys.zip from Brasilia)
> >
> > Please provide me some advices.
> >
> > Thanks and best regards,
> >
> > Byambaa Mendbayar
> >
> >
> >
>
>
> --
> --
> Tim Sutton
>
> Visit http://qgis.org for a great Open Source GIS
> Home Page: http://linfiniti.com
> Skype: timlinux
> MSN: tim_bdworld@msn.com
> Yahoo: tim_bdworld@yahoo.com
> Jabber: timlinux
> Irc: timlinux on #qgis at freenode.net
>
>
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From cavallini at faunalia.it  Thu Mar 22 05:54:51 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] Re: PostGIS driver in OGR doesn't support schemas
In-Reply-To: <d368056f0703212210u4f69ef6ev4d88e0b9af973d94@mail.gmail.com>
References: <d368056f0703212118x5b7896f6u62d29089cae234ba@mail.gmail.com>	<460206c5.094e1511.400d.ffffb4d4SMTPIN_ADDED@mx.google.com>
	<d368056f0703212210u4f69ef6ev4d88e0b9af973d94@mail.gmail.com>
Message-ID: <4602526B.9080404@faunalia.it>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yes, as far as I recall OGR has issues with schemas. Which command did
you send?
pc

Tim Sutton ha scritto:
> Hi
> 
> Ah yes I forgot. Are you using the latest msys.zip? It was compiled
> with pg support I think. But otherwise Im not sure why you are getting
> this behaviour :-(
> 
> Regards
> 
> Tim
> 
> 2007/3/22, Byambaa Mendbayar <mendbayar_b@mongol.net>:
>> Dear Tim,
>>
>> I have using my own compiled version of QGIS. It means latest build of
>> SVN
>> HEAD and latest SVN of Release_0.8.0 branch of code. I have using your
>> latest msys.zip for compiling source codes.
>>
>> I have not yet get preview 3. I will try to test it. But I think that
>> my own
>> compiled version is latest or recent than your preview 3. Do you agree
>> it?
>>
>> Best regards,
>>
>> Byambaa Mendbayar
- --
Paolo Cavallini
email+jabber: cavallini@faunalia.it
www.faunalia.it
Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGAlJq/NedwLUzIr4RAjRnAJ45dTTwZWaxLJERPTkqoX53ngDe3wCgpDXD
aCJtETi5Yh9N66fi/QpU6vk=
=8/yB
-----END PGP SIGNATURE-----

From wonder.sk at gmail.com  Sat Mar 24 19:37:00 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] API changes
Message-ID: <e8e7199c0703241637o2c273b14q41a06fe7c172068f@mail.gmail.com>

Hi devs,

in commit 6833 I've done some API changes to trunk. The most important
one is how feature attributes are handled. Until now, there was
QgsFeatureAttribute class which contained field name and field value
(both strings). This approach had some flaws:
- field name was redundant (one can find out field name from field index)
- field value was represented as string, making it difficult to
represent other types

About a year ago we had a discussion on qgis-dev list and spoken about
the usage of QVariant instead of QString for field values. I decided
to remove QgsFeatureAttribute class and use just QVariant for values.
So, now when you access attributes it should look like this:

const QgsAttributeMap& attrs = feature.attributeMap();
int myIntAttribute = attrs[0].toInt();
QString myStringAttribute = attrs[1].toString();
double myDoubleAttribute = attrs[2].toDouble();

You can use QgsField::type() to find out what QVariant type you should
expect for the field values. Currently QGIS supports String, Int and
Double. It will be useful to add also DateTime type later. Variant
type is decided by vector providers. Besides this, there's also
QgsField::typeName() which reports type as a provider-specific string.

I hope that I haven't caused regressions with these changes, just keep
in mind that if something with vector layers is not working well that
might be my fault :-) My other hope is that this pushes QGIS API
another small step further to be simpler and easier to use. I have in
mind more changes but these should wait for next release as further
changes might destabilize trunk rapidly.

Regards,
Martin

From cavallini at faunalia.it  Sun Mar 25 10:24:48 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] milestones
Message-ID: <46068630.3000307@faunalia.it>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi all.
I rearranged the bugs in the tracker. I reassigned those who didn't have
a milestone, mostly to 0.8.1.
I know it may be overly optimistic to have 30 bugs fixed before the
release of 0.8.1 (+ 38 for 0.8.2), but I'm not in a good position to
judge. Please devs have a look, and move those who will require too much
work.
Furthermore, I think *many* are not valid, and would better be closed.
Usually, original reporter has been asked for check or further details,
and never answered, suggesting that either the problem disappeared or
that he's not interested in having it fixed.
BTW: any plans for releasing 0.8.1? And, gien an awesome 110 tickets for
0.9, what is the idea about further releases? I believe it would be good
not to delay too much.
All the best.
- --
Paolo Cavallini
email+jabber: cavallini@faunalia.it PGP: http://www.faunalia.it/pgp/
www.faunalia.it
Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGBoYw/NedwLUzIr4RAtJtAJ9JlLEbASR/3ulL1cWpkUeLbHkfAwCfSxhI
YvKMzIck5CAHMBxx0Aap5Js=
=pQXD
-----END PGP SIGNATURE-----

From tim at linfiniti.com  Sun Mar 25 23:01:12 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] milestones
In-Reply-To: <46068630.3000307@faunalia.it>
References: <46068630.3000307@faunalia.it>
Message-ID: <d368056f0703252001h41646ab2y20e524625d1e7d33@mail.gmail.com>

Hi Paolo

My plan was to release 0.8.1 this weekend but life conspired against
me. I will try to release over the next two days, but if I dont get
time, it wont be for another three weeks since I have a very busy
three weeks ahead. Most bugs currently assigned to 0.8.1 will be
reassigned to 0.8.2 and I / we will continue with another 0.8.2
release. After that we will either release 0.8.3 or 0.9 depending on
how stable and release ready 0.9 is.  Of course everybody is waiting
to use those shiny new python bindings.....


Regards

Tim

2007/3/25, Paolo Cavallini <cavallini@faunalia.it>:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Hi all.
> I rearranged the bugs in the tracker. I reassigned those who didn't have
> a milestone, mostly to 0.8.1.
> I know it may be overly optimistic to have 30 bugs fixed before the
> release of 0.8.1 (+ 38 for 0.8.2), but I'm not in a good position to
> judge. Please devs have a look, and move those who will require too much
> work.
> Furthermore, I think *many* are not valid, and would better be closed.
> Usually, original reporter has been asked for check or further details,
> and never answered, suggesting that either the problem disappeared or
> that he's not interested in having it fixed.
> BTW: any plans for releasing 0.8.1? And, gien an awesome 110 tickets for
> 0.9, what is the idea about further releases? I believe it would be good
> not to delay too much.
> All the best.
> - --
> Paolo Cavallini
> email+jabber: cavallini@faunalia.it PGP: http://www.faunalia.it/pgp/
> www.faunalia.it
> Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.6 (GNU/Linux)
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org
>
> iD8DBQFGBoYw/NedwLUzIr4RAtJtAJ9JlLEbASR/3ulL1cWpkUeLbHkfAwCfSxhI
> YvKMzIck5CAHMBxx0Aap5Js=
> =pQXD
> -----END PGP SIGNATURE-----
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From cavallini at faunalia.it  Tue Mar 27 00:34:47 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] milestones
In-Reply-To: <d368056f0703252001h41646ab2y20e524625d1e7d33@mail.gmail.com>
References: <46068630.3000307@faunalia.it>
	<d368056f0703252001h41646ab2y20e524625d1e7d33@mail.gmail.com>
Message-ID: <46089EE7.3020102@faunalia.it>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi Tim.
Please go ahead if you can. A significant number of fixes make it worth
to release 0.8.1. I can reassign the bugs to save you time.
I think your approach of colsing probably invalid bugs, warning the
reporter to reopen them in case they are not fixed, is a very sensible one.
If we can help, just ask.
All the best.
pc

Tim Sutton ha scritto:
> Hi Paolo
> 
> My plan was to release 0.8.1 this weekend but life conspired against
> me. I will try to release over the next two days, but if I dont get
> time, it wont be for another three weeks since I have a very busy
> three weeks ahead. Most bugs currently assigned to 0.8.1 will be
> reassigned to 0.8.2 and I / we will continue with another 0.8.2
> release. After that we will either release 0.8.3 or 0.9 depending on
> how stable and release ready 0.9 is.  Of course everybody is waiting
> to use those shiny new python bindings.....
> 
> 
> Regards
> 
> Tim
- --
Paolo Cavallini
http://www.faunalia.it/pc
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGCJ7n/NedwLUzIr4RAtYTAKCd1SLqzW/eQlWea0wNoswoZpEP4QCfeT8B
+cFzXBc9WtaVAQZYz+3sSMc=
=RNuJ
-----END PGP SIGNATURE-----

From mendbayar_b at mongol.net  Tue Mar 27 04:25:00 2007
From: mendbayar_b at mongol.net (Byambaa Mendbayar)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] RE: FW: PostGIS driver in OGR doesn't support
	schemas
In-Reply-To: <4603F68A.2090706@faunalia.it>
Message-ID: <20070327082539.C93C61B697@qgis.org>

Dear Paolo Cavallini,

Thanks for reply to me. Also thanks for inform me. 

I guess that OGR is already support for PostGIS schemas, only my precompiled
GDAL/OGR isn't compiled for support PostGIS schemas. Is it possible? If yes
do you know what configuration option should to turn on it when I compile
GDAL/OGR from source, how can I build my own GDAL/OGR binary to QGIS
development environment? 

Best regards,
Byambaa Mendbayar

-----Original Message-----
From: Paolo Cavallini [mailto:cavallini@faunalia.it] 
Sent: Friday, March 23, 2007 11:47 PM
To: mendbayar_b@mongol.net
Subject: Re: FW: PostGIS driver in OGR doesn't support schemas

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yes, I think this is a limitation of OGR (I may be wrong). I recall
having asked Frank Warmerdam, and he confirmed this.
In my view supporting schemas would be important, but apparently not
many people are interested.
All the best.
pc

Byambaa Mendbayar ha scritto:
> Dear Paolo Cavallini,
> 
> I was trying to import PostGIS vector layer to GRASS using grass module
> which is called "v.in.ogr - Import OGR/PostGIS vector layer" command.
> 
> Please see attached screen capture, it was appear when I import PostGIS
> vector layer to GRASS.
> 
> Best regards,
> 
> Byambaa Mendbayar
- --
Paolo Cavallini
email+jabber: cavallini@faunalia.it PGP: http://www.faunalia.it/pgp/
www.faunalia.it
Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGA/aJ/NedwLUzIr4RAl9EAJ4tm8zfIUCNBcIrSQWBI/6BPG+AuACgmmLr
CTItCx5FqgajePxzKv65oUs=
=5Llr
-----END PGP SIGNATURE-----



From Horst.Duester at bd.so.ch  Tue Mar 27 06:20:15 2007
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Wed Feb  6 23:25:05 2008
Subject: AW: [Qgis-developer] RE: FW: PostGIS driver in OGR doesn't support
	schemas
Message-ID: <H00002eb00e2ed49.1174990815.srsofaioi6145.ktso.ch@MHS>

Hi Byambaa

OGR2OGR supports PostGIS schemas since version 1.40. 

ogr2ogr -f postgresql "PG:dbname=... " shape  -nln schema.tablename

should work.

Best regards
Horst D?ster

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch

 

-----Urspr?ngliche Nachricht-----
Von: Byambaa Mendbayar [mailto:mendbayar_b@mongol.net]
Gesendet am: Dienstag, 27. M?rz 2007 09:25
An: 'Paolo Cavallini'
Cc: 'qgis-developer'
Betreff: [Qgis-developer] RE: FW: PostGIS driver in OGR doesn't support
schemas

Dear Paolo Cavallini,

Thanks for reply to me. Also thanks for inform me. 

I guess that OGR is already support for PostGIS schemas, only my
precompiled
GDAL/OGR isn't compiled for support PostGIS schemas. Is it possible? If
yes
do you know what configuration option should to turn on it when I
compile
GDAL/OGR from source, how can I build my own GDAL/OGR binary to QGIS
development environment? 

Best regards,
Byambaa Mendbayar

-----Original Message-----
From: Paolo Cavallini [mailto:cavallini@faunalia.it] 
Sent: Friday, March 23, 2007 11:47 PM
To: mendbayar_b@mongol.net
Subject: Re: FW: PostGIS driver in OGR doesn't support schemas

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yes, I think this is a limitation of OGR (I may be wrong). I recall
having asked Frank Warmerdam, and he confirmed this.
In my view supporting schemas would be important, but apparently not
many people are interested.
All the best.
pc

Byambaa Mendbayar ha scritto:
> Dear Paolo Cavallini,
> 
> I was trying to import PostGIS vector layer to GRASS using grass
module
> which is called "v.in.ogr - Import OGR/PostGIS vector layer" command.
> 
> Please see attached screen capture, it was appear when I import
PostGIS
> vector layer to GRASS.
> 
> Best regards,
> 
> Byambaa Mendbayar
- --
Paolo Cavallini
email+jabber: cavallini@faunalia.it PGP: http://www.faunalia.it/pgp/
www.faunalia.it
Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGA/aJ/NedwLUzIr4RAl9EAJ4tm8zfIUCNBcIrSQWBI/6BPG+AuACgmmLr
CTItCx5FqgajePxzKv65oUs=
=5Llr
-----END PGP SIGNATURE-----


_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.qgis.org
http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070327/e22f8892/attachment.html
From Horst.Duester at bd.so.ch  Tue Mar 27 08:43:28 2007
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Wed Feb  6 23:25:05 2008
Subject: AW: RE: [Qgis-developer] RE: FW: PostGIS driver in OGR doesn't
	support schemas
Message-ID: <H00002eb00e37ca9.1174999408.srsofaioi6145.ktso.ch@MHS>

That's different to my assumptions. The direct import Postgis->GRASS via
v.in.ogr doesn't support schemas. OGR2OGR has only read support of GRASS
data. I think you should contact the GRASS list to mention the missing
schema support of v.in.ogr. I think that the missing schema support of
v.in.ogr is a fact of former ogr versions which doesn't support schemas.


Regards 
Horst

-----Urspr?ngliche Nachricht-----
Von: Byambaa Mendbayar [mailto:mendbayar_b@mongol.net]
Gesendet am: Dienstag, 27. M?rz 2007 12:17
An: D?ster Horst; 'cavallini'
Cc: 'qgis-developer'; 'Tim Sutton'
Betreff: RE: [Qgis-developer] RE: FW: PostGIS driver in OGR doesn't
support schemas

Hello Dr. Horst D?ster,

Thank you very much for kind reply. 

I have been using ogr2ogr tool for converting and transferring vectors
data.
It's working already fine here. But I want to directly import PostGIS
layer
into GRASS using QGIS's grass plug-in. Unfortunately it wasn't working
in my
own compiled QGIS. Please find attached screen capture.

My task is that: 
Convert a PostGIS vector to raster using attribute values.  

My solution is that:
1. Import PostGIS vector layer into QGIS's GRASS vector layer using
QGIS's
grass plug-in (v.in.ogr) 
2. Rasterizing imported vector layer using v.to.rast which is transforms
GRASS vector map layers into GRASS raster map layer format

What you think about my own combination?

Please consider following I want to use QGIS for my primary tool. 

Best regards,
Byambaa Mendbayar   

________________________________________
From: D?ster Horst [mailto:Horst.Duester@bd.so.ch] 
Sent: Tuesday, March 27, 2007 6:20 PM
To: cavallini; mendbayar.b
Cc: qgis-developer
Subject: AW: [Qgis-developer] RE: FW: PostGIS driver in OGR doesn't
support
schemas

Hi Byambaa

OGR2OGR supports PostGIS schemas since version 1.40. 

ogr2ogr -f postgresql "PG:dbname=... " shape -nln schema.tablename

should work.

Best regards
Horst D?ster

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch


-----Urspr?ngliche Nachricht-----
Von: Byambaa Mendbayar [mailto:mendbayar_b@mongol.net]
Gesendet am: Dienstag, 27. M?rz 2007 09:25
An: 'Paolo Cavallini'
Cc: 'qgis-developer'
Betreff: [Qgis-developer] RE: FW: PostGIS driver in OGR doesn't support
schemas

Dear Paolo Cavallini,

Thanks for reply to me. Also thanks for inform me. 

I guess that OGR is already support for PostGIS schemas, only my
precompiled
GDAL/OGR isn't compiled for support PostGIS schemas. Is it possible? If
yes
do you know what configuration option should to turn on it when I
compile
GDAL/OGR from source, how can I build my own GDAL/OGR binary to QGIS
development environment? 

Best regards,
Byambaa Mendbayar

-----Original Message-----
From: Paolo Cavallini [mailto:cavallini@faunalia.it] 
Sent: Friday, March 23, 2007 11:47 PM
To: mendbayar_b@mongol.net
Subject: Re: FW: PostGIS driver in OGR doesn't support schemas

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yes, I think this is a limitation of OGR (I may be wrong). I recall
having asked Frank Warmerdam, and he confirmed this.
In my view supporting schemas would be important, but apparently not
many people are interested.
All the best.
pc

Byambaa Mendbayar ha scritto:
> Dear Paolo Cavallini,
> 
> I was trying to import PostGIS vector layer to GRASS using grass
module
> which is called "v.in.ogr - Import OGR/PostGIS vector layer" command.
> 
> Please see attached screen capture, it was appear when I import
PostGIS
> vector layer to GRASS.
> 
> Best regards,
> 
> Byambaa Mendbayar
- --
Paolo Cavallini
email+jabber: cavallini@faunalia.it PGP: http://www.faunalia.it/pgp/
www.faunalia.it
Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy Tel: (+39)348-3801953
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGA/aJ/NedwLUzIr4RAl9EAJ4tm8zfIUCNBcIrSQWBI/6BPG+AuACgmmLr
CTItCx5FqgajePxzKv65oUs=
=5Llr
-----END PGP SIGNATURE-----

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.qgis.org
http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20070327/edec566a/attachment.html
From marco.hugentobler at karto.baug.ethz.ch  Wed Mar 28 02:48:16 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] API changes
In-Reply-To: <e8e7199c0703241637o2c273b14q41a06fe7c172068f@mail.gmail.com>
References: <e8e7199c0703241637o2c273b14q41a06fe7c172068f@mail.gmail.com>
Message-ID: <200703280848.16382.marco.hugentobler@karto.baug.ethz.ch>

Hi Martin and QGIS devs,

Nice to see the QGIS API getting better and better.

> You can use QgsField::type() to find out what QVariant type you should
> expect for the field values. Currently QGIS supports String, Int and
> Double. It will be useful to add also DateTime type later. Variant
> type is decided by vector providers. Besides this, there's also
> QgsField::typeName() which reports type as a provider-specific string.

That's very useful to have QgsField::type() returning QGIS specific types. I 
was just about to restore the old numeric/non numeric type lists for 
providers in 0.9. Now I prefer to use QgsField::type() to let the graduated 
symbol dialog decide which attributes to show (no Strings).



I have a further suggestion for API change, which I like to apply to svn in 
the next few weeks. Currently when we go through all the features in a 
provider, we do 
reset()
select(rectangle)
getNextFeature(attributeList).

The possibility to give the attribute list for each getNextFeature call is not 
well suited for the postgres provider. It means, that postgres provider only 
can fetch the geometry via binary cursor, but not the attributes, because 
they can be different ones in each getNextFeature call. So what postgres 
provider does is to make a SELECT call to the database for each feature if 
attributes are required (e.g. classified symbology or opening attribute 
table). It would be much better to have something like
reset()
select(rectangle, attributeList)
getNextFeature()
so that attributes could be fetched with binary cursor. I made some tests by 
doing a quick hack to the postgres provider and the following came out with a 
simple test dataset:

current approach:
rendering geometry only: 4 seconds
classified symbology: 8 seconds
opening attribute table: 12 seconds

proposed approach with select(rectangle, attributeList) and attributes via 
binary cursor:
rendering geometry only: 4 seconds
classified symbology: 4 seconds
opening attribute table: 7 seconds


Regards,
Marco

 

Am Sonntag, 25. M?rz 2007 00:37 schrieb Martin Dobias:
> Hi devs,
>
> in commit 6833 I've done some API changes to trunk. The most important
> one is how feature attributes are handled. Until now, there was
> QgsFeatureAttribute class which contained field name and field value
> (both strings). This approach had some flaws:
> - field name was redundant (one can find out field name from field index)
> - field value was represented as string, making it difficult to
> represent other types
>
> About a year ago we had a discussion on qgis-dev list and spoken about
> the usage of QVariant instead of QString for field values. I decided
> to remove QgsFeatureAttribute class and use just QVariant for values.
> So, now when you access attributes it should look like this:
>
> const QgsAttributeMap& attrs = feature.attributeMap();
> int myIntAttribute = attrs[0].toInt();
> QString myStringAttribute = attrs[1].toString();
> double myDoubleAttribute = attrs[2].toDouble();
>
> You can use QgsField::type() to find out what QVariant type you should
> expect for the field values. Currently QGIS supports String, Int and
> Double. It will be useful to add also DateTime type later. Variant
> type is decided by vector providers. Besides this, there's also
> QgsField::typeName() which reports type as a provider-specific string.
>
> I hope that I haven't caused regressions with these changes, just keep
> in mind that if something with vector layers is not working well that
> might be my fault :-) My other hope is that this pushes QGIS API
> another small step further to be simpler and easier to use. I have in
> mind more changes but these should wait for next release as further
> changes might destabilize trunk rapidly.
>
> Regards,
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

From marco.hugentobler at karto.baug.ethz.ch  Wed Mar 28 02:51:18 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] API changes
In-Reply-To: <200703280848.16382.marco.hugentobler@karto.baug.ethz.ch>
References: <e8e7199c0703241637o2c273b14q41a06fe7c172068f@mail.gmail.com>
	<200703280848.16382.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <200703280851.19003.marco.hugentobler@karto.baug.ethz.ch>

Hi Martin,

I just saw that you already did this. Nice work!

Marco

Am Mittwoch, 28. M?rz 2007 08:48 schrieb Marco Hugentobler:
> That's very useful to have QgsField::type() returning QGIS specific types.
> I was just about to restore the old numeric/non numeric type lists for
> providers in 0.9. Now I prefer to use QgsField::type() to let the graduated
> symbol dialog decide which attributes to show (no Strings).

From marco.hugentobler at karto.baug.ethz.ch  Wed Mar 28 04:22:32 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] API changes
In-Reply-To: <e8e7199c0703280023g6f9b52ek4d28ec9424aaa61c@mail.gmail.com>
References: <e8e7199c0703241637o2c273b14q41a06fe7c172068f@mail.gmail.com>
	<200703280848.16382.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0703280023g6f9b52ek4d28ec9424aaa61c@mail.gmail.com>
Message-ID: <200703281022.32166.marco.hugentobler@karto.baug.ethz.ch>

Hi Martin,

> This is a good idea! In fact, getNextFeature() is always called with
> the same parameters, so besides the performance reason there would be
> also simpler interface. Moreover I would suggest to move also
> 'fetchGeometry' parameter to select() as this is another chance for
> provider to optimize.
>
> Maybe it would be good also to modify behaviour of reset(). Currently
> it's used to reset reading and prepare for new reading. In my opinion
> it would be better to have it like this:
> - select() - initiates reading of data
> - reset() - resets reading of the selected subset to begin

Yes, this would be much cleaner separation. I noticed when I implemented wfs 
provider that the usage of select() and reset() now is not very intuitive. 

> > I made some tests by
> > doing a quick hack to the postgres provider and the following came out
> > with a simple test dataset:
> >
> > current approach:
> > rendering geometry only: 4 seconds
> > classified symbology: 8 seconds
> > opening attribute table: 12 seconds
> >
> > proposed approach with select(rectangle, attributeList) and attributes
> > via binary cursor:
> > rendering geometry only: 4 seconds
> > classified symbology: 4 seconds
> > opening attribute table: 7 seconds
>
> Quite a difference :-)
>
> Btw. I seen you've added recently numericalTypes() and
> nonNumericalTypes() to vector providers. Now when we don't have to
> decide just between these two types I would suggest to change them to
> a one call, something like supportedNativeTypes() or so...

I agree. We do not need to have separation, because we can ask the QGIS 
specific type now.

As the provider changes affect the core of QGIS, I suggest we should make them 
in a branch so that 0.9 is always in a stable state. It will be no problem to 
merge them back if the progresses are fast.

cheers,
Marco

From wonder.sk at gmail.com  Wed Mar 28 04:57:40 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] API changes
In-Reply-To: <200703281022.32166.marco.hugentobler@karto.baug.ethz.ch>
References: <e8e7199c0703241637o2c273b14q41a06fe7c172068f@mail.gmail.com>
	<200703280848.16382.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0703280023g6f9b52ek4d28ec9424aaa61c@mail.gmail.com>
	<200703281022.32166.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <e8e7199c0703280157j7b767bc4ocd7f30f704adf0b3@mail.gmail.com>

On 3/28/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
>
> As the provider changes affect the core of QGIS, I suggest we should make them
> in a branch so that 0.9 is always in a stable state. It will be no problem to
> merge them back if the progresses are fast.

Right, this change seems to be a bit greater so doing it in branch makes sense.

I've thought also about a possible addition of dataset class - as
proposed here: http://wiki.qgis.org/qgiswiki/Redesign_of_QGis_data_model
However it would be probably better to wait for a while with this one
and few others like addition of feature caching, filtering, better
geometry handling etc.

So if you have time to start with select(), reset(), getNextFeature()
improvements, let's create a new branch for it, I hope to contribute
also. I guess it's possible to get this done in about a week or two
and then to merge back.

Martin

From jctull at gmail.com  Wed Mar 28 12:06:45 2007
From: jctull at gmail.com (John C. Tull)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] 0.9 revision 6830: Query builder on postgis layer
	broken
Message-ID: <5088507B-EA81-4060-902B-8165F246243B@biodiversity.unr.edu>

I am happy to report success in building Qgis from the unstable  
branch on OS X 10.4.9 after a system overhaul this past week. I am  
using the cmake method outlined by Tim Sutton on his blog.

So far, this has been solid enough for some production work on a  
basic map. I found a bug with postgis layers though. If I add a  
postgis layer, I can build a query prior to adding the layer with no  
problems. If I view the properties of that layer and click the query  
builder button, I am not presented with a dialog to make changes to  
my query. Effectively I have to add a new layer with the proper query  
and delete the prior layer.

This is built from revision 6830 in trunk that I checked out last  
Friday. I have submitted a ticket on this as well under Milestone  
Version 0.9.

John Tull

From telwertowski at comcast.net  Wed Mar 28 15:58:46 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] 0.9 revision 6830: Query builder on postgis
	layer	broken
In-Reply-To: <5088507B-EA81-4060-902B-8165F246243B@biodiversity.unr.edu>
References: <5088507B-EA81-4060-902B-8165F246243B@biodiversity.unr.edu>
Message-ID: <460AC8F6.2030503@comcast.net>

John C. Tull wrote:
> So far, this has been solid enough for some production work on a basic 
> map. I found a bug with postgis layers though. If I add a postgis layer, 
> I can build a query prior to adding the layer with no problems. If I 
> view the properties of that layer and click the query builder button, I 
> am not presented with a dialog to make changes to my query. Effectively 
> I have to add a new layer with the proper query and delete the prior layer.
> 
> This is built from revision 6830 in trunk that I checked out last 
> Friday. I have submitted a ticket on this as well under Milestone 
> Version 0.9.

Fixed in r6842.

Tom

From tim at linfiniti.com  Wed Mar 28 23:19:33 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] milestones
In-Reply-To: <46089EE7.3020102@faunalia.it>
References: <46068630.3000307@faunalia.it>
	<d368056f0703252001h41646ab2y20e524625d1e7d33@mail.gmail.com>
	<46089EE7.3020102@faunalia.it>
Message-ID: <d368056f0703282019n64f31e75gcdb5e1747c60d3ec@mail.gmail.com>

Hi Paolo

Im sorry I had no time to do this. I can only work on the windows
version after hours at work since I have no windows machine at home.
Currently I have too many other deadlines related to my work and just
have not got the time I need. Things will quiet down for me in a week
or two and I will get the release out. It is possible for someone else
to do the release, but I really wanted to take the time to document
the entire process so that a) we cna improve the quality and
consistancy of the releases we make b) delegate this task among devs
in a reliable way. Magnus suggested the possibility of doing a source
only reelase, but even so I want to make sure absolutely everything
gets documented. Having well documented procedure will also mean we
can get releases out quicker (in terms of the time spent actually
putting together the release. One day we will reach my nirvana of
monthly maintenance releases.....

Thanks for keeping an eye on the bug queue.

Regards

Tim

2007/3/27, Paolo Cavallini <cavallini@faunalia.it>:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Hi Tim.
> Please go ahead if you can. A significant number of fixes make it worth
> to release 0.8.1. I can reassign the bugs to save you time.
> I think your approach of colsing probably invalid bugs, warning the
> reporter to reopen them in case they are not fixed, is a very sensible one.
> If we can help, just ask.
> All the best.
> pc
>
> Tim Sutton ha scritto:
> > Hi Paolo
> >
> > My plan was to release 0.8.1 this weekend but life conspired against
> > me. I will try to release over the next two days, but if I dont get
> > time, it wont be for another three weeks since I have a very busy
> > three weeks ahead. Most bugs currently assigned to 0.8.1 will be
> > reassigned to 0.8.2 and I / we will continue with another 0.8.2
> > release. After that we will either release 0.8.3 or 0.9 depending on
> > how stable and release ready 0.9 is.  Of course everybody is waiting
> > to use those shiny new python bindings.....
> >
> >
> > Regards
> >
> > Tim
> - --
> Paolo Cavallini
> http://www.faunalia.it/pc
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.6 (GNU/Linux)
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org
>
> iD8DBQFGCJ7n/NedwLUzIr4RAtYTAKCd1SLqzW/eQlWea0wNoswoZpEP4QCfeT8B
> +cFzXBc9WtaVAQZYz+3sSMc=
> =RNuJ
> -----END PGP SIGNATURE-----
>


-- 
-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Home Page: http://linfiniti.com
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From marco.hugentobler at karto.baug.ethz.ch  Thu Mar 29 01:00:15 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] API changes
In-Reply-To: <e8e7199c0703280157j7b767bc4ocd7f30f704adf0b3@mail.gmail.com>
References: <e8e7199c0703241637o2c273b14q41a06fe7c172068f@mail.gmail.com>
	<200703281022.32166.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0703280157j7b767bc4ocd7f30f704adf0b3@mail.gmail.com>
Message-ID: <200703290700.15399.marco.hugentobler@karto.baug.ethz.ch>

Am Mittwoch, 28. M?rz 2007 10:57 schrieb Martin Dobias:
> On 3/28/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> > As the provider changes affect the core of QGIS, I suggest we should make
> > them in a branch so that 0.9 is always in a stable state. It will be no
> > problem to merge them back if the progresses are fast.
>
> Right, this change seems to be a bit greater so doing it in branch makes
> sense.
>
> I've thought also about a possible addition of dataset class - as
> proposed here: http://wiki.qgis.org/qgiswiki/Redesign_of_QGis_data_model
> However it would be probably better to wait for a while with this one
> and few others like addition of feature caching, filtering, better
> geometry handling etc.

Yes, better go step by step. 

> So if you have time to start with select(), reset(), getNextFeature()
> improvements, let's create a new branch for it, I hope to contribute
> also. I guess it's possible to get this done in about a week or two
> and then to merge back.

Ok, I created provider0_9-branch for this. I also think that this should not 
take long. I will have time on Sunday to do some coding. If you have time 
earlier, feel free to start coding right away.

Regards,
Marco 

From cavallini at faunalia.it  Thu Mar 29 02:03:58 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] milestones
In-Reply-To: <d368056f0703282019n64f31e75gcdb5e1747c60d3ec@mail.gmail.com>
References: <46068630.3000307@faunalia.it>	
	<d368056f0703252001h41646ab2y20e524625d1e7d33@mail.gmail.com>	
	<46089EE7.3020102@faunalia.it>
	<d368056f0703282019n64f31e75gcdb5e1747c60d3ec@mail.gmail.com>
Message-ID: <460B56CE.4000806@faunalia.it>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi Tim.
Too bad, but understandable. Monthly releases would be great, and sort
of feasible with automatic compilation scripts. Perhaps we should take
inspiration from similar projects?
All the best.
pc

Tim Sutton ha scritto:
> Hi Paolo
> 
> Im sorry I had no time to do this. I can only work on the windows
> version after hours at work since I have no windows machine at home.
> Currently I have too many other deadlines related to my work and just
> have not got the time I need. Things will quiet down for me in a week
> or two and I will get the release out. It is possible for someone else
> to do the release, but I really wanted to take the time to document
> the entire process so that a) we cna improve the quality and
> consistancy of the releases we make b) delegate this task among devs
> in a reliable way. Magnus suggested the possibility of doing a source
> only reelase, but even so I want to make sure absolutely everything
> gets documented. Having well documented procedure will also mean we
> can get releases out quicker (in terms of the time spent actually
> putting together the release. One day we will reach my nirvana of
> monthly maintenance releases.....
> 
> Thanks for keeping an eye on the bug queue.
> 
> Regards
> 
> Tim
- --
Paolo Cavallini
http://www.faunalia.it/pc
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGC1bO/NedwLUzIr4RAiQIAKCkIy7xwuMgMu1FjGmdlpofvVpuQgCfejSO
mESRtqxeTEa5C4r2iUCvuqA=
=3K41
-----END PGP SIGNATURE-----

From marco.hugentobler at karto.baug.ethz.ch  Fri Mar 30 11:38:41 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] API changes
In-Reply-To: <e8e7199c0703300748q4e5a42c6mb3ab58161b1adaf3@mail.gmail.com>
References: <e8e7199c0703241637o2c273b14q41a06fe7c172068f@mail.gmail.com>
	<200703290700.15399.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0703300748q4e5a42c6mb3ab58161b1adaf3@mail.gmail.com>
Message-ID: <200703301738.41428.marco.hugentobler@karto.baug.ethz.ch>

Hi Martin,

The interface looks good. 

It would be nice if getNextFeature could be const, but that would probably 
require some members of providers declared as 'mutable'.

> I thought about the best argument order for select() that would best
> fit into common usage but I'm not sure if this is it.

This argument order seems to be best for drawing features, and I think this is 
reasonable.

> Also it might be good to think about enabling concurrency as currently
> it's not possible to do more data retreivals at once with one
> provider. Iterator design pattern could solve this situation, the
> question is whether also provider backends support concurrency (e.g.
> OGR).

This would be a very clean solution. However, it is probably a bit too much 
for now. What are the use cases you have in mind for concurrency? Something 
like multiple canvases sharing one data provider (and possibly 
multithreaded)? 

> Probably I will have some time tomorrow, maybe on Sunday too...

Ok, great.

Marco


From wonder.sk at gmail.com  Fri Mar 30 12:02:26 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:05 2008
Subject: [Qgis-developer] API changes
In-Reply-To: <200703301738.41428.marco.hugentobler@karto.baug.ethz.ch>
References: <e8e7199c0703241637o2c273b14q41a06fe7c172068f@mail.gmail.com>
	<200703290700.15399.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0703300748q4e5a42c6mb3ab58161b1adaf3@mail.gmail.com>
	<200703301738.41428.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <e8e7199c0703300902g1c18aadbw4d409e944295dd63@mail.gmail.com>

On 3/30/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi Martin,
>
> The interface looks good.
>
> It would be nice if getNextFeature could be const, but that would probably
> require some members of providers declared as 'mutable'.

I don't think this is possible: with every getNextFeature() provider
changes its internal state as it must increase the counter (or
delegate that to backend).

> > Also it might be good to think about enabling concurrency as currently
> > it's not possible to do more data retreivals at once with one
> > provider. Iterator design pattern could solve this situation, the
> > question is whether also provider backends support concurrency (e.g.
> > OGR).
>
> This would be a very clean solution. However, it is probably a bit too much
> for now. What are the use cases you have in mind for concurrency? Something
> like multiple canvases sharing one data provider (and possibly
> multithreaded)?

One such scenario is a server application that does some processing
(or rendering) in several threads. Another case is the one you've
mentioned - in future we should do canvas rendering in a thread so
that GUI won't freeze every render. And with more canvases we would
get into troubles.

But you're true that this would need some more time.

Martin

