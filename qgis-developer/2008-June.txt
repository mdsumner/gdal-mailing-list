From a.ghisla at studenti.uninsubria.it  Sun Jun  1 05:48:35 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Sun Jun  1 05:48:47 2008
Subject: [Qgis-developer] Re: [Qgis-release-team] Re: [Qgis-community-team]
	Hackfest 2008
In-Reply-To: <d368056f0805300945p4ff2bf08m7679116f9d28f416@mail.gmail.com>
References: <7D5AD6F5-4FB4-4CCC-998E-9A5BF3B82E82@linfiniti.com>
	<04DA676AA276F045B32D0F95783D78440AF84E@EX6.d.ethz.ch>
	<d368056f0805300945p4ff2bf08m7679116f9d28f416@mail.gmail.com>
Message-ID: <1212313715.4842707338c5b@mail.studenti.uninsubria.it>

Hi all,

the last week of June is free for me. 
Thanks to Andrea Giacomelli (in copy), there are some proposals for
accomodation, including places with internet broadband connection, near Pisa.

As soon as the wiki will be up again, I'll update the coordination page.

best regards,

Anne

Scrive Tim Sutton <tim@linfiniti.com>:

> Hi
> 
> Im pretty flexible, but I was thinking the last two weeks of June.
> 
> Regards
> 
> Tim
> 
> 2008/5/30 Hugentobler  Marco <marco.hugentobler@karto.baug.ethz.ch>:
> > Hi Tim,
> >
> > Your suggestion that people can attend the days they are available sounds
> very good.
> > Because for most people the agenda already started to fill and it would be
> hard to find a date that suits everyone.
> >
> > Which week(s) of June do you plan to be at the hackfest?
> >
> > Regards,
> > Marco
> >
> > -----Urspr?ngliche Nachricht-----
> > Von: qgis-community-team-bounces@lists.osgeo.org im Auftrag von Tim Sutton
> > Gesendet: Fr 30.05.2008 18:25
> > An: qgis-developer@lists.osgeo.org; qgis-psc@lists.osgeo.org; qgis-user;
> QGIS release team.; qgis-community-team@lists.osgeo.org
> > Betreff: [Qgis-community-team] Hackfest 2008
> >
> > Hi All (and apologies for cross posting)
> >
> > I send out an email a few days ago regarding release plans for 1.0
> > which included some hackfest related info which probably got buried,
> > so Im sending this again with a more specific topic.
> >
> > Basically I would like to know if we can organise the hackfest within
> > the month of June 2008. I am starting a new job in July and probably
> > wont be available from 1 July on. I see on the hackfest page that
> > Marco should be available. What about others? So far potential
> > attendees that I know of are:
> >
> > - Tim
> > - Marco
> > - Otto
> > - Anne Ghisla
> > - Paolo
> >
> > I think even if we can just have a small meeting with those listed
> > above we could make some good headway (but having more helpers would
> > be great). I can be available for a week - even two weeks - and we
> > could have it flexible that attendees just attend for the days they
> > are available over that period. What do others think? Can we get the
> > ball rolling? Who else can attend? Remember you don't need to be a
> > programmer - those from the community-team and release-team are most
> > welcome to attend as is anyone from the user community who is able to
> > come along and spend a few days replicating, closing, updating bugs etc.
> >
> > Looking forward to seeing this happen!
> >
> > Regards
> >
> >
> >
> > Tim Sutton
> > QGIS Project Steering Committee Member - Release Manager
> > Visit http://qgis.org for a great open source GIS
> > openModeller Desktop Developer
> > Visit http://openModeller.sf.net for a great open source ecological
> > niche modelling tool
> > Home Page: http://tim.linfiniti.com
> > Skype: timlinux
> > Irc: timlinux on #qgis at freenode.net
> >
> > _______________________________________________
> > Qgis-community-team mailing list
> > Qgis-community-team@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-community-team
> >
> >
> 
> 
> 
> -- 
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
> _______________________________________________
> Qgis-release-team mailing list
> Qgis-release-team@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-release-team
> 
> 




From tim at linfiniti.com  Sun Jun  1 08:19:45 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Jun  1 08:19:49 2008
Subject: [Qgis-developer] QGIS Web sites outage
Message-ID: <d368056f0806010519q62728d9dw918da113d5603592@mail.gmail.com>

Hi all

The data center I use for hosting qgis.org and wiki.qgis.org has
suffered a significant outage (see below).  Hopefully service will
resume later today.

Regards

Tim


---------- Forwarded message ----------
From: The Planet Marketing <email@info.theplanet.com>
Date: 2008/6/1
Subject: H1 Data Center Outage
To: tim@linfiniti.com


Having trouble viewing this email? Click here to view as a webpage.

Dear Valued Customers:

This evening at 4:55 in our H1 data center, electrical gear shorted,
creating an explosion and fire that knocked down three walls
surrounding our electrical equipment room   Thankfully, no one was
injured.  In addition, no customer servers were damaged or lost.

We have just been allowed into the building to physically inspect the
damage.  Early indications are that the short was in a high-volume
wire conduit.  We were not allowed to activate our backup generator
plan based on instructions from the fire department.

This is a significant outage, impacting approximately 9,000 servers
and 7,500 customers.  All members of our support team are in, and all
vendors who supply us with data center equipment are on site.  Our
initial assessment, although early, points to being able to have some
service restored by mid-afternoon on Sunday.  Rest assured we are
working around the clock.

We are in the process of communicating with all affected customers.
we are planning to post updates every hour via our forum and in our
customer portal.  Our interactive voice response system is updating
customers as well.

There is no impact in any of our other five data centers.

I am sorry that this accident has occurred and apologize for the impact.

Sincerely,

Douglas J. Erwin
Chairman & Chief Executive Officer

This email was sent to: tim@linfiniti.com

This email was sent by: Planet Internet Services, Inc.
315 Capitol, Ste. 205 Houston, TX 77002 USA

We respect your right to privacy - view our policy
Manage Subscriptions | Update Profile | One-Click Unsubscribe


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tutey at o2.pl  Sun Jun  1 11:06:38 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun Jun  1 11:06:30 2008
Subject: [Qgis-developer] script to update the srs.db
Message-ID: <4842BAFE.6020809@o2.pl>

Folks,

Now that the bug in GDAL [1] is fixed and backported to stable branch,
as well as included in the 1.5.2 RC3 [2] I have written a Shell script
to update QGIS srs.db, based on the installed PROJ.4 and GDAL tools
output. Attached.

The script creates an SQL plain text dump that can be imported into
SQlite db eg. using SQLite Database Browser's "Import > Database from
SQL file" tool.

The ellipsoids (tbl_ellipsoid) and projections (tbl_projection) tables
are created parsing the proj command output. I chose this approach,
because looking at the original tables content it seems the original
tables were created the same way.

The tbl_srs table is created parsing the epsg_tr.py output. EPSG codes
to process are taken from the installed GDAL's pcs.csv and gcs.csv files.

The script is rather self-explanatory. I have successfully used it to
create an updated srs.db and have been using the database with QGIS for
a couple of hours now. SRSs strings that were not recognizable by QGIS
due to infamous "k" parameter issue due to a change in GDAL [3] and QGIS
depending on string-wise SRS mathing [4] are now recogized fine.

Tables structure and final SQL statements creating the view and indices
were copied from the original srs.db shipped with QGIS trunk r8544,
after dumping it to a plain text format with SQLite Database Browser.

Please test/fix and let me know! If the tool is allright, I hope it can
be included in the QGIS repository and used to update the official
srs.db when necessary.

Problems:

1. Due to changes in SRSs, projections and ellipsoids support in PROJ.4
and GDAL in last years, rows id's in the tables created by the script
are now different than they were in the original srs.db. Therefore, at
the SRS dialog startup, QGIS cannot find it's default ll/WGS84 SRS in
the updated srs.db, because it searches for "select srid from tbl_srs
where srs_id = 2585", which is now "SIRGAS / UTM zone 24S". Shouldn't
QGIS rather search by EPSG number? EPSG codes never change.

2. In some PROJ.4 version the name "longlat" was changed into "lonlat"
(and "latlong" to "latlon"). However, epsg_tr.py creates proj4 strings
with the old name. My script parses proj command for the list of
available projections and epsg_tr.py for SRSs. Since "longlat" !=
"latlon", the "Geographic Coordinate Systems" list in the SRS dialog was
not active. Once I changed the "latlon" in tbl_projection to "latlong"
the list is back. What do we do? Should epsg_tr.py be changed to output
"latlon" rather than "latlong", or should my script replace "latlong"
instances?

3. BTW I noticed that QGIS resets k factor to 0, no matter how the SRS
is chosen (automatically by SRS matching at layer load, or manually).
This is not related to my srs.db changes, it's reproducible with stock
srs.db too. A huge bug [5]! Please squash it! And this one [6] too, is
possible.


[1]http://trac.osgeo.org/gdal/ticket/2036#comment:14
[2]http://www.nabble.com/forum/ViewPost.jtp?post=17545259&framed=y
[3]http://trac.osgeo.org/gdal/changeset/12625
[4]http://trac.osgeo.org/qgis/ticket/1037
[5]http://trac.osgeo.org/qgis/ticket/1120
[6]http://trac.osgeo.org/qgis/ticket/1085

-- 
Maciej Sieczka
www.sieczka.org


-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis_srs.sh
Type: application/x-sh
Size: 4549 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080601/e8b08841/qgis_srs-0001.sh
From wonder.sk at gmail.com  Sun Jun  1 11:32:37 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun Jun  1 11:32:40 2008
Subject: [Qgis-developer] the new plugin installer
In-Reply-To: <200805290202.47249.borys@wolf.most.org.pl>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<200805271731.12378.borys@wolf.most.org.pl>
	<e8e7199c0805280632w66013aedv1115f76e11afd14d@mail.gmail.com>
	<200805290202.47249.borys@wolf.most.org.pl>
Message-ID: <e8e7199c0806010832p27686febnd2a2f5ad0150593@mail.gmail.com>

Hi Borys,

On Thu, May 29, 2008 at 2:02 AM, Borys Jurgiel <borys@wolf.most.org.pl> wrote:
> Hi,
>
> The new Installer is working at pre-alpha stage: GUI is dirty, but basic
> duties should work properly. I ask for tests, but first we need some cleaning
> in the repositories!

Thanks for the effort! I've tried finally the plugin installer as
you've modified it and looks fine with my few tests.

> We have there 43 plugins and in only 17 cases the name in the repository and
> the one inside plugin are the same. Until now it wasn't so important, but now
> we will have to pay more attention to the name and version number, because
> Installer identifies plugins by the name.

This shouldn't be necessary. We can identify plugins by the plugin's
directory - it's simple, easy and don't need any changes.

Looking at your code I see you use python's reload() method to reload
the plugin. This doesn't work as expected. The only way how to
completely reload some module in python is to delete it first and then
import again:
del sys.modules['plugin_dir']
import plugin_dir

I have some more GUI-related comments:
- versions in the table should IMHO go before the description column,
so one can see them without scrolling to the right
- that label and text field "name of plugin to install" are not
neccessary, better remove them
- we should allow sorting in plugin list

Good job, hope to see some further work - especially uninstallation of
plugins would be very useful.

Regards
Martin
From wonder.sk at gmail.com  Sun Jun  1 12:03:21 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun Jun  1 12:03:24 2008
Subject: [Qgis-developer] addAttributes case sensitive?
In-Reply-To: <54469.142.104.193.193.1212128690.squirrel@wm3.uvic.ca>
References: <180c4dbd0805220022q5ef65a78r467b6fff3e24d59f@mail.gmail.com>
	<200805271942.41028.mauricio.dev@gmail.com>
	<6D275119-E83A-4A48-A12D-6CE15FCECEDE@wildnevada.org>
	<54469.142.104.193.193.1212128690.squirrel@wm3.uvic.ca>
Message-ID: <e8e7199c0806010903x156f59dbv2ee7a2691da33026@mail.gmail.com>

Hi Carson,

On Fri, May 30, 2008 at 8:24 AM, cfarmer <cfarmer@uvic.ca> wrote:
> Hello list,
>
> Does anyone know how addAttributes on a QgsFeature defines which field to
> populate? As far as I can tell, I should have to specify an index, and the
> attribute that I am trying to add, however, if I have two fields that have
> the same name with different cases (i.e. one field says "Ycoor" and
> another says 'YCOOR', even if I specify the index of 'YCOOR', values are
> written to 'Ycoor'.

addAtribute() function basically just adds new item to dictionary of
attributes connected with feature. To get its value actually saved,
you would need to save it in provider. But provider saves only
attributes which are present in the data source. So if you want to
create a new column for attributes first you would need to call
provider's addAttributes() function (if provider supports it) and
specify attribute name and type. Later when you add features with this
new attribute it should save it correctly.


> So in short, why does field name matter in this case? Or am I doing
> something completely wrong:
>
> fieldList #pre-existing field list obtained from QgsProvider.fields()
> field = QgsField("YCOOR", QVariant.Double, "double", 24, 16, "Polygon area")
> index1 = len(fieldList.keys())
> fieldList[index1] = field

Here you actually don't add the new field - you're just modifying the
field list. You would have to call addAttributes() of the provider.
The type which is passed is provider dependent.

> #then later on, when setting the attributes of an output feature...
> #Set new attributes equal to attributes of currently existing feature...
> outFeat.setAttributeMap(atMap)
> #Now add on the new attribute...
> outFeat.addAttribute(index1, QVariant(attr1))

To really save this change, call changeAttributeValues() of provider.

> Note: The currently existing attributes have a field named 'Ycoor'. The
> new field being added is called 'YCOOR'. Using the above code, 'Ycoor' is
> (re)populated, and 'YCOOR' is left blank?

I using field names with difference just in case is generally not a
good idea, since some providers might do difference and some not.

Regards
Martin
From wonder.sk at gmail.com  Sun Jun  1 12:07:29 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun Jun  1 12:07:32 2008
Subject: [Qgis-developer] Python plugin development
In-Reply-To: <9024487C-4B55-4F75-BBE3-43BF062FAD84@linfiniti.com>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<48294C95.7030502@gmail.com> <4829CF4E.8070507@uvic.ca>
	<200805262338.40473.borys@wolf.most.org.pl> <483B3E50.9040303@uvic.ca>
	<e8e7199c0805270335r126eb72fn7511759b6c1565f6@mail.gmail.com>
	<9024487C-4B55-4F75-BBE3-43BF062FAD84@linfiniti.com>
Message-ID: <e8e7199c0806010907l1baf6162g1a14dacd7ff7b760@mail.gmail.com>

On Wed, May 28, 2008 at 9:51 PM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi
>
> I wonder if it would be feasible to make another control that fetches a list
> of repos from a central page (even parsing out the wiki page could work) and
> then once you have selected  a repository, it will fetch a list of available
> plugins from that repo. I was trying to add Carsons famous manageR plugin to
> qgis today and didnt know where to find it (I didnt have time to do a search
> for it on wiki etc) and it sure would be nice to be able to serenipitously
> find plugins beyond the official qgis repo but from within the plugin
> manager. Of course there may be bad security implications to this and at
> some stage we should contemplate this a bit more deeply - installing a
> python plugin means you are essentially downloading and running arbitary
> code and running it with all your user credentials which could be a very bad
> thing indeed security wise...

Tim,

I've also thought about this possibility. It would be great if there
was a list of repositories at some fixed URL under QGIS homepage, I
can think of a simple XML file. This sounds much better that parsing
the repos from wiki. Is this feasible?

Martin
From wonder.sk at gmail.com  Sun Jun  1 12:14:59 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun Jun  1 12:15:02 2008
Subject: [Qgis-developer] Python build errors - MSVC
In-Reply-To: <749C9282-03C5-4C88-A026-4741C0E258AC@linfiniti.com>
References: <749C9282-03C5-4C88-A026-4741C0E258AC@linfiniti.com>
Message-ID: <e8e7199c0806010914s5f8248b9vedb8edd6328dec5c@mail.gmail.com>

Hi Tim,

this was I think caused by missing import of qgis_core library, it's
fixed in trunk.

Martin

On Thu, May 29, 2008 at 3:06 AM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi Martin / J?rgen
>
> Any hints on whats causing these python errors on MSVC? I know some of the
> errors relate to some of my code, but I poked around and cant figure out
> why...
>
> Thanks
>
> Tim
>
> ------ Build started: Project: qgispython, Configuration: RelWithDebInfo
> Win32 ------
> Linking...
>   Creating library RelWithDebInfo\qgispython.lib and object
> RelWithDebInfo\qgispython.exp
> qgspythonutilsimpl.obj : error LNK2019: unresolved external symbol
> "__declspec(dllimport) public: static void __cdecl QgsLogger::debug(class
> QString const &,int,char const *,char const *,int)"
> (__imp_?debug@QgsLogger@@SAXABVQString@@HPBD1H@Z) referenced in function
> "public: class QString __thiscall QgsPythonUtilsImpl::getTypeAsString(struct
> _object *)"
> (?getTypeAsString@QgsPythonUtilsImpl@@QAE?AVQString@@PAU_object@@@Z)
> qgspythonutilsimpl.obj : error LNK2019: unresolved external symbol
> "__declspec(dllimport) public: static class QString const __cdecl
> QgsApplication::pkgDataPath(void)"
> (__imp_?pkgDataPath@QgsApplication@@SA?BVQString@@XZ) referenced in function
> "public: class QString __thiscall QgsPythonUtilsImpl::pythonPath(void)"
> (?pythonPath@QgsPythonUtilsImpl@@QAE?AVQString@@XZ)
> qgspythonutilsimpl.obj : error LNK2019: unresolved external symbol
> "__declspec(dllimport) public: static class QString const __cdecl
> QgsApplication::qgisSettingsDirPath(void)"
> (__imp_?qgisSettingsDirPath@QgsApplication@@SA?BVQString@@XZ) referenced in
> function "public: class QString __thiscall
> QgsPythonUtilsImpl::homePluginsPath(void)"
> (?homePluginsPath@QgsPythonUtilsImpl@@QAE?AVQString@@XZ)
> qgspythonutilsimpl.obj : error LNK2019: unresolved external symbol
> "__declspec(dllimport) public: static class QgsMessageOutput * __cdecl
> QgsMessageOutput::createMessageOutput(void)"
> (__imp_?createMessageOutput@QgsMessageOutput@@SAPAV1@XZ) referenced in
> function "public: bool __thiscall QgsPythonUtilsImpl::runString(class
> QString const &,class QString)"
> (?runString@QgsPythonUtilsImpl@@QAE_NABVQString@@V2@@Z)
> RelWithDebInfo\qgispython.dll : fatal error LNK1120: 4 unresolved externals
> Build log was saved at
> "file://c:\dev\cpp\qgis\build\src\python\qgispython.dir\RelWithDebInfo\BuildLog.htm"
> qgispython - 5 error(s), 0 warning(s)
> ------ Build started: Project: python, Configuration: RelWithDebInfo Win32
> ------
> Generating gui/gui.pyd
> Microsoft (R) Program Maintenance Utility Version 8.00.50727.42
> Copyright (C) Microsoft Corporation.  All rights reserved.
>  link /NOLOGO /DLL /SUBSYSTEM:WINDOWS /INCREMENTAL:NO /OUT:gui.pyd
> @C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp\nm50D.tmp
>   Creating library gui.lib and object gui.exp
> sipguiQgsMapCanvas.obj : error LNK2019: unresolved external symbol
> "__declspec(dllimport) public: class QgsMapToPixel const * __thiscall
> QgsMapCanvas::getCoordinateTransform(void)"
> (__imp_?getCoordinateTransform@QgsMapCanvas@@QAEPBVQgsMapToPixel@@XZ)
> referenced in function _meth_QgsMapCanvas_getCoordinateTransform
> gui.pyd : fatal error LNK1120: 1 unresolved externals
> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
> 8\VC\bin\link.EXE"' : return code '0x460'
> Stop.
> Project : error PRJ0019: A tool returned an error code from "Generating
> gui/gui.pyd"
> Build log was saved at
> "file://c:\dev\cpp\qgis\build\python\python.dir\RelWithDebInfo\BuildLog.htm"
> python - 4 error(s), 0 warning(s)
> ------ Build started: Project: ALL_BUILD, Configuration: RelWithDebInfo
> Win32 ------
> "Build all projects"
> Build log was saved at
> "file://c:\dev\cpp\qgis\build\ALL_BUILD.dir\RelWithDebInfo\BuildLog.htm"
> ALL_BUILD - 0 error(s), 0 warning(s)
> ========== Build: 2 succeeded, 2 failed, 24 up-to-date, 0 skipped ==========
>
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological niche
> modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From borys at wolf.most.org.pl  Sun Jun  1 12:19:59 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Sun Jun  1 12:20:09 2008
Subject: [Qgis-developer] the new plugin installer
In-Reply-To: <e8e7199c0806010832p27686febnd2a2f5ad0150593@mail.gmail.com>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<200805290202.47249.borys@wolf.most.org.pl>
	<e8e7199c0806010832p27686febnd2a2f5ad0150593@mail.gmail.com>
Message-ID: <200806011819.59669.borys@wolf.most.org.pl>

Sunday 01 of June 2008 17:32:37 Martin Dobias napisa?(a):
> Thanks for the effort! I've tried finally the plugin installer as
> you've modified it and looks fine with my few tests.

Thanks, have you tested it under Windows/Mac? Now it's coming into beta stage, 
but I've tested it mainly under Ubuntu. Could anybody test it under something 
else? 

> > We have there 43 plugins and in only 17 cases the name in the repository
> > and the one inside plugin are the same. Until now it wasn't so important,
> > but now we will have to pay more attention to the name and version
> > number, because Installer identifies plugins by the name.
>
> This shouldn't be necessary. We can identify plugins by the plugin's
> directory - it's simple, easy and don't need any changes.

I can't agree. There is no information in repositories about instalation 
directories. The Installer would have to open every zip file for compare with 
module name, so it would be very slowly! 

Furthermore, even if we had two different plugin names and/or two different 
version numbers, associated by the installation folder name, which name and 
version should I use? And how should I know, when the difference between 
version numbers is due to upgrade in repository, and when due to the 
mistake? :)

Nooo, we need to have a clearness.

> Looking at your code I see you use python's reload() method to reload 
> the plugin. This doesn't work as expected. The only way how to
> completely reload some module in python is to delete it first and then
> import again:
> del sys.modules['plugin_dir']
> import plugin_dir

Great thanks! The reload() was necessary for refreshing version number inside 
Installer, but still I didn't find any way to completely reload the plugin in 
whole QGIS without need of restarting. I understand this way should be 
sufficient?

> I have some more GUI-related comments:
> - versions in the table should IMHO go before the description column,
> so one can see them without scrolling to the right
> - that label and text field "name of plugin to install" are not
> neccessary, better remove them
> - we should allow sorting in plugin list

Thanks for the suggestions, I'll implement them. The line "name of plugin to 
install" will be replaced with a filter line.

> Good job, hope to see some further work - especially uninstallation of
> plugins would be very useful.

Give me two or three hours! ;) I've done a fair piece of changes already, I'm 
going to submit they in a few hours. 
From wonder.sk at gmail.com  Sun Jun  1 12:21:56 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun Jun  1 12:22:00 2008
Subject: [Qgis-developer] Re: ideas for developpers)
In-Reply-To: <85E05C4B-66D0-414E-859B-C14D12E46827@linfiniti.com>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<482CAFD9.60809@uvic.ca> <200805271326.42965.borys@wolf.most.org.pl>
	<85E05C4B-66D0-414E-859B-C14D12E46827@linfiniti.com>
Message-ID: <e8e7199c0806010921u6260f343va7e6fb88f7b8987@mail.gmail.com>

On Sat, May 31, 2008 at 5:26 AM, Tim Sutton <tim@linfiniti.com> wrote:
>>
>> I don't know C++ yet, so now I can improve Plugin Installer and add the
>> features:
>>  - the version column as you said
>>  - the column with status indicator: upgradable/new in repository
>>  - checking for updates and for news in repositories on demand and also
>>   when QGIS is starting.
>
> I prefer to move away from column style UI which I think is not so friendly.
> To me it would be better to expand the detailed item delegate I wrote for
> the C++ plugin manager to include a place next to each plugin title to
> indicate if new versions are available. When QGIS starts we should check
> background thread when qgis starts go off and see if new plugins are
> available and give the user a 'soft notification' (like an indicator on the
> status bar that when clicked will open the manager and download updates).

Right, approach without columns looks to be more user friendly, a good
example is firefox plugin manager...
Though I'm not sure if we're able to put all these enhancements to
trunk until feature freeze.

>> Someday this code might be attached to the Plugin Manager (when I learn
>> C++!),
>> but before 0.11 release I can implement this only in the Plugin installer.
>> So what do you think about it? And what about removing the Plugin
>> Installer
>> item from the Plugins menu and launching it directly from the Manager?
>> Tim, can you implement this and do you think it's suitable?
>
> I would very much like to unite the C++ and python managers. As Martin says
> the main issue is .zip extraction support in Qt, but Im sure this can be
> resolved with a bit of googling.

We can do the unification, but still leave the python plugins
installer in python - it's possible to bind python and c++ code
without actually need of complete rewrite in c++.

Martin
From marco.pasetti at alice.it  Sun Jun  1 12:36:13 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Sun Jun  1 12:36:18 2008
Subject: [Qgis-developer] Re: [Qgis-user] Hackfest 2008
In-Reply-To: <7D5AD6F5-4FB4-4CCC-998E-9A5BF3B82E82@linfiniti.com>
References: <7D5AD6F5-4FB4-4CCC-998E-9A5BF3B82E82@linfiniti.com>
Message-ID: <DB0EB450A26346938A8B0344CB83CB9D@HPMarco>

Hi all,

unfortunately June it's a messy month for me. I have my last 2 exams and I 
really *must* finish the thesis until the end of August.
This said, my partecipation to the hack fest will depend on:

1. my anxiety condition for the exams :-)
2. where will it be
3. how many days will it last (I suppose only the week-end, right?)

I never joined the hack fest, so I don't know anything about its *timings* 
:-)

Marco


----- Original Message ----- 
From: "Tim Sutton" <tim@linfiniti.com>
To: <qgis-developer@lists.osgeo.org>; <qgis-psc@lists.osgeo.org>; 
"qgis-user" <qgis-user@lists.osgeo.org>; "QGIS release team." 
<qgis-release-team@lists.osgeo.org>; <qgis-community-team@lists.osgeo.org>
Sent: Friday, May 30, 2008 6:25 PM
Subject: [Qgis-user] Hackfest 2008


> Hi All (and apologies for cross posting)
>
> I send out an email a few days ago regarding release plans for 1.0  which 
> included some hackfest related info which probably got buried,  so Im 
> sending this again with a more specific topic.
>
> Basically I would like to know if we can organise the hackfest within  the 
> month of June 2008. I am starting a new job in July and probably  wont be 
> available from 1 July on. I see on the hackfest page that  Marco should be 
> available. What about others? So far potential  attendees that I know of 
> are:
>
> - Tim
> - Marco
> - Otto
> - Anne Ghisla
> - Paolo
>
> I think even if we can just have a small meeting with those listed  above 
> we could make some good headway (but having more helpers would  be great). 
> I can be available for a week - even two weeks - and we  could have it 
> flexible that attendees just attend for the days they  are available over 
> that period. What do others think? Can we get the  ball rolling? Who else 
> can attend? Remember you don't need to be a  programmer - those from the 
> community-team and release-team are most  welcome to attend as is anyone 
> from the user community who is able to  come along and spend a few days 
> replicating, closing, updating bugs etc.
>
> Looking forward to seeing this happen!
>
> Regards
>
>
>
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological  niche 
> modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>
> _______________________________________________
> Qgis-user mailing list
> Qgis-user@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-user 

From marco.pasetti at alice.it  Sun Jun  1 12:51:10 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Sun Jun  1 12:51:13 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <88F1F1E7-5AA2-49DF-ABD1-47168305AEF2@linfiniti.com>
References: <B081025DE4F349D8A65A5FF8E422DACF@HPMarco>
	<88F1F1E7-5AA2-49DF-ABD1-47168305AEF2@linfiniti.com>
Message-ID: <E24C55235CA8442DA360D278EBF6A698@HPMarco>

Hi Tim,

>My feeling is to try to clean up the list filter and maybe and expand  all 
>/ collaps all to the tree view, and ship 0.11.0 with both  available in the 
>toolbox

perfect

>In the future we can try the more  sophisticated 'remember tree state' that 
>you suggest.

good

>The main area that needs to be  addressed is GRASS support. I believe 
>J?rgen has it kinda working but  I have not as yet figured out how to get 
>the GRASS stuff built under  MSVC

yes, obviously; I don't know if Jurgen has built GRASS under MSVC yet. I 
could figure out how to build it, even if it would require a lot of time.

>my feeling is if you can do MSVC release for 0.11.0

actually I would prefer to still release it with MSYS, mainly because I'm 
very busy here (I must take the degree on September) and I'm not used to 
work with MSVC (I installed and used it for some days on the previous 
machine, but I didn't used it intensively)

> my  feeling is it performs better than the MSYS build (would be 
> interesting to verify this though)

actually I don't know it, I would be very interesting to verify it (even if 
I believe that there are no significant differences) :-)

All thet best,

Marco

PS: sorry for my poor presence on the project, but I'm under a storm here 
(university + my job), I'm experiencing big pressures from my thesis teacher 
and joining both GRASS and QGIS development team starts to be an hard thing 
for my poor spare time :-(





----- Original Message ----- 
From: "Tim Sutton" <tim@linfiniti.com>
To: "Marco Pasetti" <marco.pasetti@alice.it>
Cc: <qgis-developer@lists.osgeo.org>
Sent: Saturday, May 31, 2008 5:02 AM
Subject: Re: R: [Qgis-developer] GRASS Toolbox list view patch


Hi Marco

My feeling is to try to clean up the list filter and maybe and expand
all / collaps all to the tree view, and ship 0.11.0 with both
available in the toolbox. In the future we can try the more
sophisticated 'remember tree state' that you suggest.

Regarding MSVC, myself, J?rgen and maybe some others are building
under MSVC on a regular basis. The main area that needs to be
addressed is GRASS support. I believe J?rgen has it kinda working but
I have not as yet figured out how to get the GRASS stuff built under
MSVC. In terms of when we can release with MSVC rather than MINGW, we
should continue to support both, but my feeling is if you can do MSVC
release for 0.11.0 that would be great since it would give us a
chance to resolve issues before the final 1.0 release. I prefer the
idea of release MSVC built QGIS since the binary package is
considerably smaller and, although I havent benchmarked it, my
feeling is it performs better than the MSYS build (would be
interesting to verify this though).

Regards

Tim

Em May 29, 2008, ?s 1:03 PM, Marco Pasetti escreveu:

> Hi Tim,
>
> sorry for the delay, I'm very busy here!
>
> When I talked about expand/collapse GRASS Toolbox tree, I mainly  meant 
> that it would be better to start the toolbox tree collapsed,  instead of 
> expanded, because an expanded tree is too much  confusing, IMHO. Actually, 
> adding expand all/collapse all buttons  would be a great thing, along with 
> the capability of the toolbox to  *remember* the last *tree 
> configuration*: this because I guess that  the most users commonly use 
> only few modules, thus that they would  prefer to keep some parts of the 
> tree expanded, while other (rarely  used) collapsed.
>
> I'm finishing to configure my Vista machine (what a mess! 1 GB of  RAM 
> only for the OS, with all the feautures, processes and services  reduced 
> to the minimum necessary set!): on the next hours I'll  start to build on 
> Vista under the MSYS environment, updating some  libraries and adding some 
> other supports (such as OpenSSL, JPEG,  OGDI, GML and others...).
>
> This said, when do you think that QGIS will move from tha current  MSYS 
> build to the MSVC one?
>
> Regards,
>
> Marco
>
> ----- Original Message -----
> From: Tim Sutton
> To: Marco Pasetti
> Cc: qgis-developer@lists.osgeo.org
> Sent: Wednesday, May 28, 2008 2:55 AM
> Subject: Re: R: [Qgis-developer] GRASS Toolbox list view patch
>
> Hi Marco
>
> Thanks for the feedback. I will try to build under msvc here and see
> if I can address the issues with the plugin manager. I think Radim
> specifically expanded the tree in the grass toolbox because you can
> access each tool with a single click. Perhaps we can add some
> collapse all / expand all buttons to the toolbox to support both
> people who prefer it expanded and those who prefer it collapsed. Ill
> look into this.
>
> I tested the plugin manager with my msvc build and will commit a fix
> in a few minutes that should sort out the issue you were having.
>
>
>
> Regards
>
> Tim
>
>
> Em May 26, 2008, ?s 4:52 PM, Marco Pasetti escreveu:
>
> > Hi Tim,
> >
> > I built the latest svn trunk with your patch on windows (xp for the
> > moment,
> > on the next days also on Vista)
> >
> > 1. the idea for the grass toolbox is good (I mean the module list
> > with the
> > run-time type filter/search), but I think that:
> >
> > 1.1. we should start the grass toolbox tree collapsed instead of
> fully
> > expanded
> > 1.2. the font of the module tiltles should be a little bit smaller
> > 1.3. the module list tab still has some render problems
> > 1.4. I cannot select (that means start) the filtered modules
> >
> > 2. I have big rendering and selecting (check-boxes) problems with
> > the plugin
> > manager
> >
> > Sorry, I have no such spare time to make deeper analisys :-(
> >
> > All the best
> >
> > Marco
> >
> > -----Messaggio originale-----
> > Da: qgis-developer-bounces@lists.osgeo.org
> > [mailto:qgis-developer-bounces@lists.osgeo.org] Per conto di Tim
> > Sutton
> > Inviato: luned? 26 maggio 2008 17.37
> > A: qgis-developer@lists.osgeo.org
> > Oggetto: [Qgis-developer] GRASS Toolbox list view patch
> >
> > Hi Folks
> >
> > Here is my first pass at a grass filtered list view for grass
> toolbox
> > (attached patch). There are still a few issues:
> >
> >   - checkboxes next to items need to be removed
> >   - filter box below list needs a label
> >   - some funny rendering happens on tab background on start up,
> > just click
> > to another tab and then back to the list view
> >
> > I've been thinking that it might be better to implement this 'as-
> > well- as'
> > the existing tree view, so that if you want to browse the tools by
> > heirachy
> > you still can, or if you want to quickly get all the tools that
> > e.g. work
> > with ascii, you can just type 'ascii' in the filter box and be on
> > your way.
> >
> > Anyway, will be interesting to get feedback from heavy grass users
> > is the
> > list box approach makes life easier or not. To apply the patch, go
> > to the
> > qgis top level dir and do:
> >
> > patch -p0 < grass_detailed_list_patch.diff
> >
> > You need to be using a current svn checkout for it to work properly
> > (r8522 or better).
> >
> > Regards
> >
> >
>
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>

Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From a.ghisla at studenti.uninsubria.it  Sun Jun  1 13:03:58 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Sun Jun  1 13:04:16 2008
Subject: [Qgis-developer] Re: [Qgis-user] Hackfest 2008
In-Reply-To: <DB0EB450A26346938A8B0344CB83CB9D@HPMarco>
References: <7D5AD6F5-4FB4-4CCC-998E-9A5BF3B82E82@linfiniti.com>
	<DB0EB450A26346938A8B0344CB83CB9D@HPMarco>
Message-ID: <1212339838.4842d67e5eaa3@mail.studenti.uninsubria.it>

Scrive Marco Pasetti <marco.pasetti@alice.it>:

> Hi all,

Hi Marco,

> 
> unfortunately June it's a messy month for me. I have my last 2 exams and I 
> really *must* finish the thesis until the end of August.
> This said, my partecipation to the hack fest will depend on:
> 
> 1. my anxiety condition for the exams :-)

:)

> 2. where will it be

We haven't decided a precise location yet, but it will be near Pisa, in Grosseto
province. Andrea Giacomelli is going to find accomodation and internet there.

> 3. how many days will it last (I suppose only the week-end, right?)

It is still to be decided.
In any case, you can attend only a part of the event, as Tim said below.

> 
> I never joined the hack fest, so I don't know anything about its *timings* 
> :-)

No worries! Hope to see you at the hackfest.

Anne

> 
> Marco
> 
> 
> ----- Original Message ----- 
> From: "Tim Sutton" <tim@linfiniti.com>
> To: <qgis-developer@lists.osgeo.org>; <qgis-psc@lists.osgeo.org>; 
> "qgis-user" <qgis-user@lists.osgeo.org>; "QGIS release team." 
> <qgis-release-team@lists.osgeo.org>; <qgis-community-team@lists.osgeo.org>
> Sent: Friday, May 30, 2008 6:25 PM
> Subject: [Qgis-user] Hackfest 2008
> 
> 
> > Hi All (and apologies for cross posting)
> >
> > I send out an email a few days ago regarding release plans for 1.0  which 
> > included some hackfest related info which probably got buried,  so Im 
> > sending this again with a more specific topic.
> >
> > Basically I would like to know if we can organise the hackfest within  the
> 
> > month of June 2008. I am starting a new job in July and probably  wont be 
> > available from 1 July on. I see on the hackfest page that  Marco should be
> 
> > available. What about others? So far potential  attendees that I know of 
> > are:
> >
> > - Tim
> > - Marco
> > - Otto
> > - Anne Ghisla
> > - Paolo
> >
> > I think even if we can just have a small meeting with those listed  above 
> > we could make some good headway (but having more helpers would  be great).
> 
> > I can be available for a week - even two weeks - and we  could have it 
> > flexible that attendees just attend for the days they  are available over 
> > that period. What do others think? Can we get the  ball rolling? Who else 
> > can attend? Remember you don't need to be a  programmer - those from the 
> > community-team and release-team are most  welcome to attend as is anyone 
> > from the user community who is able to  come along and spend a few days 
> > replicating, closing, updating bugs etc.
> >
> > Looking forward to seeing this happen!
> >
> > Regards
> >
> >
> >
> > Tim Sutton
> > QGIS Project Steering Committee Member - Release Manager
> > Visit http://qgis.org for a great open source GIS
> > openModeller Desktop Developer
> > Visit http://openModeller.sf.net for a great open source ecological  niche
> 
> > modelling tool
> > Home Page: http://tim.linfiniti.com
> > Skype: timlinux
> > Irc: timlinux on #qgis at freenode.net
> >
> > _______________________________________________
> > Qgis-user mailing list
> > Qgis-user@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-user 
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 




From tim at linfiniti.com  Sun Jun  1 14:27:29 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Jun  1 14:27:31 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <E24C55235CA8442DA360D278EBF6A698@HPMarco>
References: <B081025DE4F349D8A65A5FF8E422DACF@HPMarco>
	<88F1F1E7-5AA2-49DF-ABD1-47168305AEF2@linfiniti.com>
	<E24C55235CA8442DA360D278EBF6A698@HPMarco>
Message-ID: <d368056f0806011127l7e31cbcbx3cf9e72e0b538cc2@mail.gmail.com>

Hi


>> The main area that needs to be  addressed is GRASS support. I believe
>> J?rgen has it kinda working but  I have not as yet figured out how to get
>> the GRASS stuff built under  MSVC
>
> yes, obviously; I don't know if Jurgen has built GRASS under MSVC yet. I
> could figure out how to build it, even if it would require a lot of time.
>

No he's using msys built grass libs for the most part since they are
launched from QProcess. One day will b nice to have them MSVC native
too but thats probably beyond the scoe of QGISsers work for now.

Regards


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From cavallini at faunalia.it  Sun Jun  1 15:30:33 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun Jun  1 15:31:12 2008
Subject: [Qgis-developer] Re: [Qgis-user] Hackfest 2008
In-Reply-To: <DB0EB450A26346938A8B0344CB83CB9D@HPMarco>
References: <7D5AD6F5-4FB4-4CCC-998E-9A5BF3B82E82@linfiniti.com>
	<DB0EB450A26346938A8B0344CB83CB9D@HPMarco>
Message-ID: <4842F8D9.8080401@faunalia.it>

Marco Pasetti ha scritto:
> Hi all,
> 
> unfortunately June it's a messy month for me. I have my last 2 exams and 

Just to clarify a few basic points:
- some money is available to support the partecipation of developers
- I'm available for help with the organization, logistics etc.
- A suitable place with internet connection may be available already
- I'm not around from 13 to 28 June
Looking forward to see us converging on a date!
All the best.
pc
From woklist at kyngchaos.com  Sun Jun  1 17:18:20 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sun Jun  1 17:18:23 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <4841869F.70300@comcast.net>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
	<483ED49D.90901@comcast.net>
	<42358EBA-6A1F-4CF9-8A6C-F67C70FC242F@linfiniti.com>
	<F54F443F-A005-4692-8FF3-E2EC16017758@kyngchaos.com>
	<4841869F.70300@comcast.net>
Message-ID: <1A99C96D-D2A5-4908-98A9-0B3662CA6641@kyngchaos.com>

OK, finally got a package built properly.  Python support IS  
starting.  Maybe something changed in SVN since I last tried it  
Saturday?  Or maybe my @loader_path change was the key?

Qgis SVN r8575
OSX 10.5.3, Xcode 3.1 beta
System Python 2.5
Qt 4.3.5/PyQt 4.3.3/SIP 4.7.4

This is with my usual changing things to @loader_path where  
appropriate, so the python .so's in Qgis relatively refer to the Qgis  
libs and bundled Qt (instead of the default @executable_path, which is  
unclear what the executable is).

 >>> sys.path
['/Applications/qgis0.11.0.app/Contents/MacOS/share/qgis/python', '/ 
Users/kyngchaos/.qgis//python/plugins', '/Applications/qgis0.11.0.app/ 
Contents/MacOS/share/qgis/python/plugins', '/Library/Python/2.5/site- 
packages/GDAL-1.5.2-py2.5-macosx-10.5-i386.egg', '/System/Library/ 
Frameworks/Python.framework/Versions/2.5/lib/python25.zip', '/System/ 
Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5', '/ 
System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/ 
plat-darwin', '/System/Library/Frameworks/Python.framework/Versions/ 
2.5/lib/python2.5/plat-mac', '/System/Library/Frameworks/ 
Python.framework/Versions/2.5/lib/python2.5/plat-mac/lib- 
scriptpackages', '/System/Library/Frameworks/Python.framework/Versions/ 
2.5/Extras/lib/python', '/System/Library/Frameworks/Python.framework/ 
Versions/2.5/lib/python2.5/lib-tk', '/System/Library/Frameworks/ 
Python.framework/Versions/2.5/lib/python2.5/lib-dynload', '/Library/ 
Python/2.5/site-packages', '/Library/Python/2.5/site-packages/PIL', '/ 
Library/Python/2.5/site-packages/geos', '/System/Library/Frameworks/ 
Python.framework/Versions/2.5/Extras/lib/python/PyObjC']


On May 31, 2008, at 12:10 PM, Tom Elwertowski wrote:

> On May 30, 2008, at 11:27 PM, Tim Sutton wrote:
>> I got the python stuff building and my mac post build scripts fix  
>> up all the lib paths (see below) in the libqgispython.dylib, core  
>> and gui python libs, but python stuff still wont load at  
>> runtime...not sure what to do next.
>
> The QLibrary statement at qgisapp.cpp:363 needs a full path (or at  
> least something more than "qgispython"
>
> QLibrary pythonlib("/Users/tce/developer/qgis/trunk/build/ 
> qgis0.11.0.app/Contents/MacOS/lib/libqgispython.dylib");
> works for me but SVN needs a somewhat more generic solution.
>
> Tom
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Mon Dieu! but they are all alike.  Cheating, murdering, lying,  
fighting, and all for things that the beasts of the jungle would not  
deign to possess - money to purchase the effeminate pleasures of  
weaklings.  And yet withal bound down by silly customs that make them  
slaves to their unhappy lot while firm in the belief that they be the  
lords of creation enjoying the only real pleasures of existence....

- the wisdom of Tarzan


From borys at wolf.most.org.pl  Sun Jun  1 18:02:41 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Sun Jun  1 18:02:49 2008
Subject: [Qgis-developer] the new plugin installer
In-Reply-To: <e8e7199c0806010832p27686febnd2a2f5ad0150593@mail.gmail.com>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<200805290202.47249.borys@wolf.most.org.pl>
	<e8e7199c0806010832p27686febnd2a2f5ad0150593@mail.gmail.com>
Message-ID: <200806020002.41567.borys@wolf.most.org.pl>

Hello All,

There is a lot of changes in the new Installer. Under Ubuntu everything works, 
but please help me to test it under Win and Mac. I'm going to manage until 
the freeze.

Due to mistakes in the main repository, there is still a few 
untrue "uninstalled+orphan" pairs of items. Couldn't anybody apply my 
fixes...? :)

There are some changes I'm going to do in this week:
- faster refetching
- enabling/disabling repositories
- looking for updates on QGIS start
- improved uninstalling (now file removing isn't fully recursive)
- improved XML parsing (see D?ster Horst's "python geoprocessing" mail)
- reloading the upgraded plugin without need of QGIS restart (is this 
possible?)
- storing the column order and other user preferences
- face lifting (icons instead of string status indicators etc)
- cleaning, commenting, language fixes etc

- any kind of further suggestions is welcome

-------
my repository:
http://bwj.aster.net.pl/qgis/plugins.xml
From borys at wolf.most.org.pl  Sun Jun  1 19:08:47 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Sun Jun  1 19:08:58 2008
Subject: [Qgis-developer]  Python plugin development
In-Reply-To: <3777965C-FB61-48D3-BB73-8C7BC7B95A76@linfiniti.com>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<200805262338.40473.borys@wolf.most.org.pl>
	<3777965C-FB61-48D3-BB73-8C7BC7B95A76@linfiniti.com>
Message-ID: <200806020108.47678.borys@wolf.most.org.pl>

> I've also thought about this possibility. It would be great if there
> was a list of repositories at some fixed URL under QGIS homepage, I
> can think of a simple XML file. This sounds much better that parsing
> the repos from wiki. Is this feasible?

At this moment I can only add a posibility of looking for new repositories in 
XML file to the Installer. 

Btw. I wonder about splitting the official repostoty to two smaller: one for 
experimental plugins and second for well tested and commonly priced ones. Now 
we have mixing of important tools and templates for devs, which may be 
confusing for common users.
From jef at norbit.de  Sun Jun  1 19:15:52 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sun Jun  1 19:15:57 2008
Subject: R: [Qgis-developer] GRASS Toolbox list view patch
In-Reply-To: <E24C55235CA8442DA360D278EBF6A698@HPMarco>
References: <B081025DE4F349D8A65A5FF8E422DACF@HPMarco>
	<88F1F1E7-5AA2-49DF-ABD1-47168305AEF2@linfiniti.com>
	<E24C55235CA8442DA360D278EBF6A698@HPMarco>
	<d368056f0806011127l7e31cbcbx3cf9e72e0b538cc2@mail.gmail.com>
	<B081025DE4F349D8A65A5FF8E422DACF@HPMarco>
	<88F1F1E7-5AA2-49DF-ABD1-47168305AEF2@linfiniti.com>
	<E24C55235CA8442DA360D278EBF6A698@HPMarco>
Message-ID: <20080601231552.GA23562@norbit.de>

Hi Marco,

On Sun, 01. Jun 2008 at 18:51:10 +0200, Marco Pasetti wrote:
> yes, obviously; I don't know if Jurgen has built GRASS under MSVC yet. I 
> could figure out how to build it, even if it would require a lot of time.

Just the libraries QGIS needs to link - everything else is taken from
your mingw GRASS build.  Building GRASS with MSVC would take a lot of
work on the build system.  The code should be mostly fine, I suppose.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From jef at norbit.de  Sun Jun  1 19:18:33 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sun Jun  1 19:18:37 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <1A99C96D-D2A5-4908-98A9-0B3662CA6641@kyngchaos.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>
	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
	<483ED49D.90901@comcast.net>
	<42358EBA-6A1F-4CF9-8A6C-F67C70FC242F@linfiniti.com>
	<F54F443F-A005-4692-8FF3-E2EC16017758@kyngchaos.com>
	<4841869F.70300@comcast.net>
	<1A99C96D-D2A5-4908-98A9-0B3662CA6641@kyngchaos.com>
Message-ID: <20080601231833.GB23562@norbit.de>

Hi William,

On Sun, 01. Jun 2008 at 16:18:20 -0500, William Kyngesburye wrote:
> OK, finally got a package built properly.  Python support IS  
> starting.  Maybe something changed in SVN since I last tried it  
> Saturday?  Or maybe my @loader_path change was the key?

Yup, Tom committed r8563.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From borys at wolf.most.org.pl  Sun Jun  1 20:09:38 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Sun Jun  1 20:09:44 2008
Subject: [Qgis-developer] ideas for developpers
In-Reply-To: <85E05C4B-66D0-414E-859B-C14D12E46827@linfiniti.com>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<200805271326.42965.borys@wolf.most.org.pl>
	<85E05C4B-66D0-414E-859B-C14D12E46827@linfiniti.com>
Message-ID: <200806020209.38241.borys@wolf.most.org.pl>

Tim:
> After 1.0 goes out we will hold such a brainstorm and plan the vision
> for generation 2.0 of QGIS and how we can adapt it to make it more
> than a GIS viewer but rather a GIS with analytical capabilities. The
> original idea for 1.0 was originally to buld a competent data browser.

Yes, I know, but these analytical capabilities may be provided also in 1.0 by 
plugins, and next gradually moved into the core. For me, python scripting is 
nice introduction to Qt and QGis api, so I don't think it's a double effort.

Tim:
> I prefer to move away from column style UI which I think is not so
> friendly. To me it would be better to expand the detailed item
> delegate I wrote for the C++ plugin manager to include a place next
> to each plugin title to indicate if new versions are available. When
> QGIS starts we should check background thread when qgis starts go off
> and see if new plugins are available and give the user a 'soft
> notification' (like an indicator on the status bar that when clicked
> will open the manager and download updates).

Martin:
> Right, approach without columns looks to be more user friendly, a good
> example is firefox plugin manager...
> Though I'm not sure if we're able to put all these enhancements to
> trunk until feature freeze.

We can move the upgrade notifications to the Manager, but I think the 
Installer should remain as a separate (though much more connected) window. 
There are more and more repositories around;) and user should be able to 
manage them. Also I can switch the Installer to such list view as the Manager 
has and try to rewrite it in C++, but first I want to implement all the 
features planned before. It's almost finished now and should be completed 
until the freeze.  

There is one reason to leave notifications in the Installer - ability to 
freely enable/disable monitored repositories. Otherwise the Manager should 
have quite expanded settings tab. I don't know... But if you're implementing 
the notifications in the Manager, let me know to remove them from the 
Installer! :)

Good night,
B.
From telwertowski at comcast.net  Sun Jun  1 22:49:58 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Sun Jun  1 22:50:11 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <1A99C96D-D2A5-4908-98A9-0B3662CA6641@kyngchaos.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
	<483ED49D.90901@comcast.net>
	<42358EBA-6A1F-4CF9-8A6C-F67C70FC242F@linfiniti.com>
	<F54F443F-A005-4692-8FF3-E2EC16017758@kyngchaos.com>
	<4841869F.70300@comcast.net>
	<1A99C96D-D2A5-4908-98A9-0B3662CA6641@kyngchaos.com>
Message-ID: <48435FD6.5050807@comcast.net>

William Kyngesburye wrote:
> OK, finally got a package built properly.  Python support IS starting.  
> Maybe something changed in SVN since I last tried it Saturday?  Or maybe 
> my @loader_path change was the key?

I added the path for loading the base library in r8563:

QString pythonlibName("qgispython");
#ifdef Q_WS_MAC
pythonlibName.prepend(QgsApplication::prefixPath() + "/lib/");
#endif
QLibrary pythonlib(pythonlibName);

Tom

> Qgis SVN r8575
> OSX 10.5.3, Xcode 3.1 beta
> System Python 2.5
> Qt 4.3.5/PyQt 4.3.3/SIP 4.7.4
> 
> This is with my usual changing things to @loader_path where appropriate, 
> so the python .so's in Qgis relatively refer to the Qgis libs and 
> bundled Qt (instead of the default @executable_path, which is unclear 
> what the executable is).
> 
>  >>> sys.path
> ['/Applications/qgis0.11.0.app/Contents/MacOS/share/qgis/python', 
> '/Users/kyngchaos/.qgis//python/plugins', 
> '/Applications/qgis0.11.0.app/Contents/MacOS/share/qgis/python/plugins', 
> '/Library/Python/2.5/site-packages/GDAL-1.5.2-py2.5-macosx-10.5-i386.egg', 
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python25.zip', 
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5', 
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/plat-darwin', 
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/plat-mac', 
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/plat-mac/lib-scriptpackages', 
> '/System/Library/Frameworks/Python.framework/Versions/2.5/Extras/lib/python', 
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/lib-tk', 
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/lib-dynload', 
> '/Library/Python/2.5/site-packages', 
> '/Library/Python/2.5/site-packages/PIL', 
> '/Library/Python/2.5/site-packages/geos', 
> '/System/Library/Frameworks/Python.framework/Versions/2.5/Extras/lib/python/PyObjC'] 
> 
> 
> 
> On May 31, 2008, at 12:10 PM, Tom Elwertowski wrote:
> 
>> On May 30, 2008, at 11:27 PM, Tim Sutton wrote:
>>> I got the python stuff building and my mac post build scripts fix up 
>>> all the lib paths (see below) in the libqgispython.dylib, core and 
>>> gui python libs, but python stuff still wont load at runtime...not 
>>> sure what to do next.
>>
>> The QLibrary statement at qgisapp.cpp:363 needs a full path (or at 
>> least something more than "qgispython"
>>
>> QLibrary 
>> pythonlib("/Users/tce/developer/qgis/trunk/build/qgis0.11.0.app/Contents/MacOS/lib/libqgispython.dylib"); 
>>
>> works for me but SVN needs a somewhat more generic solution.
>>
>> Tom
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
> 
> "Mon Dieu! but they are all alike.  Cheating, murdering, lying, 
> fighting, and all for things that the beasts of the jungle would not 
> deign to possess - money to purchase the effeminate pleasures of 
> weaklings.  And yet withal bound down by silly customs that make them 
> slaves to their unhappy lot while firm in the belief that they be the 
> lords of creation enjoying the only real pleasures of existence....
> 
> - the wisdom of Tarzan
> 
> 
> 

From tim at linfiniti.com  Mon Jun  2 02:37:39 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Jun  2 02:37:42 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <1A99C96D-D2A5-4908-98A9-0B3662CA6641@kyngchaos.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>
	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
	<483ED49D.90901@comcast.net>
	<42358EBA-6A1F-4CF9-8A6C-F67C70FC242F@linfiniti.com>
	<F54F443F-A005-4692-8FF3-E2EC16017758@kyngchaos.com>
	<4841869F.70300@comcast.net>
	<1A99C96D-D2A5-4908-98A9-0B3662CA6641@kyngchaos.com>
Message-ID: <d368056f0806012337o5dc5a9d2r367af21d4c754c4e@mail.gmail.com>

Hi

Ok with Toms change, it tries to load python but fails with lib path
issues. Could you give me otool -L dumps for the three python libs
once you have them working so I can update my post install scripts? I
tried a few permutations of @add_library path but Im not sure if I
should be universally swtiching @executable_path.

Regards

Tim

2008/6/1 William Kyngesburye <woklist@kyngchaos.com>:
> OK, finally got a package built properly.  Python support IS starting.
>  Maybe something changed in SVN since I last tried it Saturday?  Or maybe my
> @loader_path change was the key?
>
> Qgis SVN r8575
> OSX 10.5.3, Xcode 3.1 beta
> System Python 2.5
> Qt 4.3.5/PyQt 4.3.3/SIP 4.7.4
>
> This is with my usual changing things to @loader_path where appropriate, so
> the python .so's in Qgis relatively refer to the Qgis libs and bundled Qt
> (instead of the default @executable_path, which is unclear what the
> executable is).
>
>>>> sys.path
> ['/Applications/qgis0.11.0.app/Contents/MacOS/share/qgis/python',
> '/Users/kyngchaos/.qgis//python/plugins',
> '/Applications/qgis0.11.0.app/Contents/MacOS/share/qgis/python/plugins',
> '/Library/Python/2.5/site-packages/GDAL-1.5.2-py2.5-macosx-10.5-i386.egg',
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python25.zip',
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5',
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/plat-darwin',
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/plat-mac',
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/plat-mac/lib-scriptpackages',
> '/System/Library/Frameworks/Python.framework/Versions/2.5/Extras/lib/python',
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/lib-tk',
> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/lib-dynload',
> '/Library/Python/2.5/site-packages',
> '/Library/Python/2.5/site-packages/PIL',
> '/Library/Python/2.5/site-packages/geos',
> '/System/Library/Frameworks/Python.framework/Versions/2.5/Extras/lib/python/PyObjC']
>
>
> On May 31, 2008, at 12:10 PM, Tom Elwertowski wrote:
>
>> On May 30, 2008, at 11:27 PM, Tim Sutton wrote:
>>>
>>> I got the python stuff building and my mac post build scripts fix up all
>>> the lib paths (see below) in the libqgispython.dylib, core and gui python
>>> libs, but python stuff still wont load at runtime...not sure what to do
>>> next.
>>
>> The QLibrary statement at qgisapp.cpp:363 needs a full path (or at least
>> something more than "qgispython"
>>
>> QLibrary
>> pythonlib("/Users/tce/developer/qgis/trunk/build/qgis0.11.0.app/Contents/MacOS/lib/libqgispython.dylib");
>> works for me but SVN needs a somewhat more generic solution.
>>
>> Tom
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> "Mon Dieu! but they are all alike.  Cheating, murdering, lying, fighting,
> and all for things that the beasts of the jungle would not deign to possess
> - money to purchase the effeminate pleasures of weaklings.  And yet withal
> bound down by silly customs that make them slaves to their unhappy lot while
> firm in the belief that they be the lords of creation enjoying the only real
> pleasures of existence....
>
> - the wisdom of Tarzan
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Mon Jun  2 03:01:23 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Jun  2 03:01:31 2008
Subject: [Qgis-developer] Re: [Qgis-user] Hackfest 2008
In-Reply-To: <4842F8D9.8080401@faunalia.it>
References: <7D5AD6F5-4FB4-4CCC-998E-9A5BF3B82E82@linfiniti.com>
	<DB0EB450A26346938A8B0344CB83CB9D@HPMarco>
	<4842F8D9.8080401@faunalia.it>
Message-ID: <d368056f0806020001i6aefe3afyed45aa615053f8fc@mail.gmail.com>

Hi

 unfortunately June it's a messy month for me. I have my last 2 exams and
>
> Just to clarify a few basic points:
> - some money is available to support the partecipation of developers
> - I'm available for help with the organization, logistics etc.

Great. Hopefully we can keep things very simple so that its not too
much of a hassle for you.

> - A suitable place with internet connection may be available already

Can you give us a link / some details?

> - I'm not around from 13 to 28 June

I'm theoretically available all June but I think it might be a bit
optimistic to try to organise it for earlier in the month and also I
dont know how many others can attend earlier in the month.

> Looking forward to see us converging on a date!

I would suggest we use 20 - 27 June as a working period and see how
many can fit that week, or a part of that week. Once the data center
has recovered and our server is online again, I will add a table to
the wik page to let all potential attendees register what days they
may be around for.

Regards

Tim

> All the best.
> pc
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Mon Jun  2 05:05:52 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Jun  2 05:05:54 2008
Subject: [Qgis-developer] Python plugin development
In-Reply-To: <e8e7199c0806010907l1baf6162g1a14dacd7ff7b760@mail.gmail.com>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<48294C95.7030502@gmail.com> <4829CF4E.8070507@uvic.ca>
	<200805262338.40473.borys@wolf.most.org.pl> <483B3E50.9040303@uvic.ca>
	<e8e7199c0805270335r126eb72fn7511759b6c1565f6@mail.gmail.com>
	<9024487C-4B55-4F75-BBE3-43BF062FAD84@linfiniti.com>
	<e8e7199c0806010907l1baf6162g1a14dacd7ff7b760@mail.gmail.com>
Message-ID: <d368056f0806020205m48ab61bby1b4af366c21779b0@mail.gmail.com>

Hi


>
> Tim,
>
> I've also thought about this possibility. It would be great if there
> was a list of repositories at some fixed URL under QGIS homepage, I
> can think of a simple XML file. This sounds much better that parsing
> the repos from wiki. Is this feasible?

Yes you are right - parsing an xml will be better - although even with
the wiki we could just attach an xml file to the repo list wiki page
and then no need for screen scraping or managing user perms in the web
dir file system. Either way is fine for me though.

Regards

Tim


>
> Martin
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From marco.hugentobler at karto.baug.ethz.ch  Mon Jun  2 06:23:14 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon Jun  2 06:22:55 2008
Subject: [Qgis-developer] Release plans for QGIS 0.11.0 and on to 1.0
In-Reply-To: <e8e7199c0805280624l2828ac4bld1e3d27a2304eee6@mail.gmail.com>
References: <FEAEDB3E-8AA1-420F-B532-1659ED5803C8@linfiniti.com>
	<e8e7199c0805280624l2828ac4bld1e3d27a2304eee6@mail.gmail.com>
Message-ID: <200806021223.14891.marco.hugentobler@karto.baug.ethz.ch>

Hi Martin,

I agree with you that redesign is very important. There are several areas in 
QGIS where it will be hard to add new features without doing sound redesigns 
(that break API compatibility), e.g. geometry and renderers.

I'm also in favor of keeping API compatibility for version1 and to break it 
for version 2. One possibility would be to have a redesign branch that will 
later be 2.0 and branching this branch for the individual refactoring 
projects. Though it may be difficult at some point to keep trunk and redesign 
branch in sync. Maybe there are better ideas around? I only know that even 
for big companies it is not easy to maintain a productive version and a 
redesign version in parallel.

Regards,
Marco

Am Mittwoch 28 Mai 2008 15:24:27 schrieb Martin Dobias:
> Hi Tim
>
> On Mon, May 26, 2008 at 5:23 PM, Tim Sutton <tim@linfiniti.com> wrote:
> > It would be great to get a heads up on what others are working on so we
> > can start planning for press releases etc. Going by June 30 as a target
> > release date, I proposed the following dates for the release:
> >
> > June  9 - Feature freeze - bug fixing only from here on forward
> > June 16 - String freeze and call for translations
> > June 23 - Branch for release & call for packaging
> > June 30 - Unleash Metis on the world...
> >
> > Does that work ok for everyone?
>
> Looks fine for me. My further plans are to add dependency checking for
> python plugins (if I'll be able to get it ready on time)
>
> > I suggest Jef put his code formatting stuff through just before we do
> > branch for release so that there is no active work going on in trunk -
> > though this may impact people working out in branches so is it maybe
> > better to wait for just before 1.0 before Jef puts the formatting updates
> > in?
>
> Better to wait and apply it before 1.0.
>
> > Following the above plan, we will have another 1.5 months until August 15
> > - the planned release date for QGIS 1.0. So ideally 0.11.0 is the last
> > chance to get those last minute features in, and with the exception of
> > labelling, composer and raster catalogues, no new features should be
> > going into trunk post 0.11.0 release.
>
> Btw. any news from the GSoC student regarding the map labeling
> implementation?
>
> > I'm anticipating a 1.0.1 release if possible in time for FOSS4G2008 (late
> > Sept) which will be purely bug fixing for anything we missed in 1.0
> > release.
>
> What about further roadmap? Schedule of 1.x versions? Are we going to
> maintain stable ABI? API? Some plans for 2.0?
> The problem I see often is that we just know where we are but we're
> missing some direction and vision... There are always just very
> short-time release plans. I have in my mind some greater changes
> (geometry refactor, plugins/providers enhancements, vector handling
> enhancements) but I don't get idea when to do them.
>
> > We also need to finalise our Hack fest - can we set a final date etc over
> > the next week Paolo? Its looking like mid-late June is going to work best
> > for me  since I will be starting a new job in July. I see on the hackfest
> > page that June is good for some other folks too. Could we firm up a date
> > for this?
>
> I'm sorry but it looks like I won't be able to participate - June is
> full of exams and visitors and then moving back to Slovakia, from
> mid-July I'm on holidays in India until mid-September. I could
> participate during the autumn...
>
> Cheers
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tim at linfiniti.com  Mon Jun  2 09:51:42 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Jun  2 09:51:46 2008
Subject: [Qgis-developer] Release plans for QGIS 0.11.0 and on to 1.0
In-Reply-To: <200806021223.14891.marco.hugentobler@karto.baug.ethz.ch>
References: <FEAEDB3E-8AA1-420F-B532-1659ED5803C8@linfiniti.com>
	<e8e7199c0805280624l2828ac4bld1e3d27a2304eee6@mail.gmail.com>
	<200806021223.14891.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0806020651q4cef760ey9fe7cb1a2b6cd6f0@mail.gmail.com>

Hi

My idea was along these lines:

 - on 1.0 release branch and maintain that as 1.x stable branch with
branches for releases coming off that
 - continue work in trunk to become the eventual 2.0

If fixes are made to 1.x branch which can be ported to 2.0 branch (or
vica verca) aply them manually, but I think we should proceed with 2.0
work with no concern for the most part of maintaining API
compatibility. It would be good to change the plugin API as little as
possible but even that should not be an overwhelming constraint.

Regards

Tim

2008/6/2 Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Martin,
>
> I agree with you that redesign is very important. There are several areas in
> QGIS where it will be hard to add new features without doing sound redesigns
> (that break API compatibility), e.g. geometry and renderers.
>
> I'm also in favor of keeping API compatibility for version1 and to break it
> for version 2. One possibility would be to have a redesign branch that will
> later be 2.0 and branching this branch for the individual refactoring
> projects. Though it may be difficult at some point to keep trunk and redesign
> branch in sync. Maybe there are better ideas around? I only know that even
> for big companies it is not easy to maintain a productive version and a
> redesign version in parallel.
>
> Regards,
> Marco
>
> Am Mittwoch 28 Mai 2008 15:24:27 schrieb Martin Dobias:
>> Hi Tim
>>
>> On Mon, May 26, 2008 at 5:23 PM, Tim Sutton <tim@linfiniti.com> wrote:
>> > It would be great to get a heads up on what others are working on so we
>> > can start planning for press releases etc. Going by June 30 as a target
>> > release date, I proposed the following dates for the release:
>> >
>> > June  9 - Feature freeze - bug fixing only from here on forward
>> > June 16 - String freeze and call for translations
>> > June 23 - Branch for release & call for packaging
>> > June 30 - Unleash Metis on the world...
>> >
>> > Does that work ok for everyone?
>>
>> Looks fine for me. My further plans are to add dependency checking for
>> python plugins (if I'll be able to get it ready on time)
>>
>> > I suggest Jef put his code formatting stuff through just before we do
>> > branch for release so that there is no active work going on in trunk -
>> > though this may impact people working out in branches so is it maybe
>> > better to wait for just before 1.0 before Jef puts the formatting updates
>> > in?
>>
>> Better to wait and apply it before 1.0.
>>
>> > Following the above plan, we will have another 1.5 months until August 15
>> > - the planned release date for QGIS 1.0. So ideally 0.11.0 is the last
>> > chance to get those last minute features in, and with the exception of
>> > labelling, composer and raster catalogues, no new features should be
>> > going into trunk post 0.11.0 release.
>>
>> Btw. any news from the GSoC student regarding the map labeling
>> implementation?
>>
>> > I'm anticipating a 1.0.1 release if possible in time for FOSS4G2008 (late
>> > Sept) which will be purely bug fixing for anything we missed in 1.0
>> > release.
>>
>> What about further roadmap? Schedule of 1.x versions? Are we going to
>> maintain stable ABI? API? Some plans for 2.0?
>> The problem I see often is that we just know where we are but we're
>> missing some direction and vision... There are always just very
>> short-time release plans. I have in my mind some greater changes
>> (geometry refactor, plugins/providers enhancements, vector handling
>> enhancements) but I don't get idea when to do them.
>>
>> > We also need to finalise our Hack fest - can we set a final date etc over
>> > the next week Paolo? Its looking like mid-late June is going to work best
>> > for me  since I will be starting a new job in July. I see on the hackfest
>> > page that June is good for some other folks too. Could we firm up a date
>> > for this?
>>
>> I'm sorry but it looks like I won't be able to participate - June is
>> full of exams and visitors and then moving back to Slovakia, from
>> mid-July I'm on holidays in India until mid-September. I could
>> participate during the autumn...
>>
>> Cheers
>> Martin
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From woklist at kyngchaos.com  Mon Jun  2 09:54:13 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Mon Jun  2 09:54:16 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <d368056f0806012337o5dc5a9d2r367af21d4c754c4e@mail.gmail.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>
	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
	<483ED49D.90901@comcast.net>
	<42358EBA-6A1F-4CF9-8A6C-F67C70FC242F@linfiniti.com>
	<F54F443F-A005-4692-8FF3-E2EC16017758@kyngchaos.com>
	<4841869F.70300@comcast.net>
	<1A99C96D-D2A5-4908-98A9-0B3662CA6641@kyngchaos.com>
	<d368056f0806012337o5dc5a9d2r367af21d4c754c4e@mail.gmail.com>
Message-ID: <262755B2-2B3A-455A-BE49-FAA01E772E64@kyngchaos.com>

With everything changed over to @loader_path where appropriate,  
basically all libraries and loadables use @loader_path, and only  
executables (qgis, qgis_help) use @executable_path.  This limits it to  
a minimum of OSX 10.4 Tiger.  I get something like this (simplified):

bin
     qgis_help.app
         Contents
             MacOS
                 qgis_help
                     Qt* -> @x/../../../../lib/Qt*
                     qgis_core -> @x/../../../../lib/qgis_core
lib
     libqgis*
         qgis_core, qgis_gui -> @l/qgis_*
         Qt* -> @l/Qt*
     qgis [plugins]
         all
             qgis_core, qgis_gui -> @l/../qgis_*
             Qt* -> @l/../Qt*
     Qt*.framework
         Qt* -> @l/../../../Qt*
qgis [app]
     qgis_core, qgis_gui -> @x/lib/qgis_*
     Qt* -> @x/lib/Qt*
share
     qgis
         python
             PyQt4
                 Qt*.so
                     Qt*.framework -> @l/../../../../lib/Qt*
             qgis
                 core, gui
                     qgis_core, qgis_gui ->  @l/../../../../lib/qgis_*
                     Qt*.framework -> @l/../../../../lib/Qt*

and similarly for any extra bundled libraries.

On Jun 2, 2008, at 1:37 AM, Tim Sutton wrote:

> Hi
>
> Ok with Toms change, it tries to load python but fails with lib path
> issues. Could you give me otool -L dumps for the three python libs
> once you have them working so I can update my post install scripts? I
> tried a few permutations of @add_library path but Im not sure if I
> should be universally swtiching @executable_path.
>
> Regards
>
> Tim
>
> 2008/6/1 William Kyngesburye <woklist@kyngchaos.com>:
>> OK, finally got a package built properly.  Python support IS  
>> starting.
>> Maybe something changed in SVN since I last tried it Saturday?  Or  
>> maybe my
>> @loader_path change was the key?
>>
>> Qgis SVN r8575
>> OSX 10.5.3, Xcode 3.1 beta
>> System Python 2.5
>> Qt 4.3.5/PyQt 4.3.3/SIP 4.7.4
>>
>> This is with my usual changing things to @loader_path where  
>> appropriate, so
>> the python .so's in Qgis relatively refer to the Qgis libs and  
>> bundled Qt
>> (instead of the default @executable_path, which is unclear what the
>> executable is).
>>

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Those people who most want to rule people are, ipso-facto, those  
least suited to do it."

- A rule of the universe, from the HitchHiker's Guide to the Galaxy


From woklist at kyngchaos.com  Mon Jun  2 11:36:03 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Mon Jun  2 11:36:14 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <262755B2-2B3A-455A-BE49-FAA01E772E64@kyngchaos.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>
	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>
	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
	<483ED49D.90901@comcast.net>
	<42358EBA-6A1F-4CF9-8A6C-F67C70FC242F@linfiniti.com>
	<F54F443F-A005-4692-8FF3-E2EC16017758@kyngchaos.com>
	<4841869F.70300@comcast.net>
	<1A99C96D-D2A5-4908-98A9-0B3662CA6641@kyngchaos.com>
	<d368056f0806012337o5dc5a9d2r367af21d4c754c4e@mail.gmail.com>
	<262755B2-2B3A-455A-BE49-FAA01E772E64@kyngchaos.com>
Message-ID: <DF457ED9-C250-461A-9C73-F22D0F6B2646@kyngchaos.com>

P.S.  The qgis libraries are still linking to the source copies in  
qgis_help and the Python qgis libs.  ie:

/Users/Shared/src/qgis/svn/qgis/build-leo/src/core/libqgis_core. 
0.11.dylib

On Jun 2, 2008, at 8:54 AM, William Kyngesburye wrote:

> With everything changed over to @loader_path where appropriate,  
> basically all libraries and loadables use @loader_path, and only  
> executables (qgis, qgis_help) use @executable_path.  This limits it  
> to a minimum of OSX 10.4 Tiger.  I get something like this  
> (simplified):


-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

Theory of the Universe

There is a theory which states that if ever anyone discovers exactly  
what the universe is for and why it is here, it will instantly  
disappear and be replaced by something even more bizarrely  
inexplicable.  There is another theory which states that this has  
already happened.

-Hitchhiker's Guide to the Galaxy 2nd season intro


From marco.hugentobler at karto.baug.ethz.ch  Tue Jun  3 03:07:56 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Tue Jun  3 03:08:00 2008
Subject: [Qgis-developer] WMS layers and plugin interface
Message-ID: <04DA676AA276F045B32D0F95783D78440AF853@EX6.d.ethz.ch>

Hi QGIS devs,

Am I right that it is not possible to add WMS layers from plugins with the current plugin interface? There seems to be only 

virtual QgsRasterLayer* addRasterLayer(QString rasterLayerPath, QString baseName = QString())=0;

for file-based raster layers. Would it be ok to add a similar function for WMS layers, e.g.

addRasterLayer(QString const & baseName,
    QString const & providerKey,
    QStringList const & layers,
    QStringList const & styles,
    QString const & format,
    QString const & crs,
    QString const & proxyHost, 
    int proxyPort, 
    QString const & proxyUser,
    QString const & proxyPassword)

?

Regards,
Marco
From marco.hugentobler at karto.baug.ethz.ch  Tue Jun  3 03:09:39 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Tue Jun  3 03:11:17 2008
Subject: AW: [Qgis-developer] Re: [Qgis-user] Hackfest 2008
References: <7D5AD6F5-4FB4-4CCC-998E-9A5BF3B82E82@linfiniti.com><DB0EB450A26346938A8B0344CB83CB9D@HPMarco><4842F8D9.8080401@faunalia.it>
	<d368056f0806020001i6aefe3afyed45aa615053f8fc@mail.gmail.com>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF854@EX6.d.ethz.ch>

Hi all,

I can be at the hackfest from 22.6. to 24.6.

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: qgis-user-bounces@lists.osgeo.org im Auftrag von Tim Sutton
Gesendet: Mo 02.06.2008 09:01
An: cavallini@faunalia.it
Cc: qgis-user; qgis-developer@lists.osgeo.org
Betreff: Re: [Qgis-developer] Re: [Qgis-user] Hackfest 2008
 
Hi

 unfortunately June it's a messy month for me. I have my last 2 exams and
>
> Just to clarify a few basic points:
> - some money is available to support the partecipation of developers
> - I'm available for help with the organization, logistics etc.

Great. Hopefully we can keep things very simple so that its not too
much of a hassle for you.

> - A suitable place with internet connection may be available already

Can you give us a link / some details?

> - I'm not around from 13 to 28 June

I'm theoretically available all June but I think it might be a bit
optimistic to try to organise it for earlier in the month and also I
dont know how many others can attend earlier in the month.

> Looking forward to see us converging on a date!

I would suggest we use 20 - 27 June as a working period and see how
many can fit that week, or a part of that week. Once the data center
has recovered and our server is online again, I will add a table to
the wik page to let all potential attendees register what days they
may be around for.

Regards

Tim

> All the best.
> pc
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
_______________________________________________
Qgis-user mailing list
Qgis-user@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-user



From marco.hugentobler at karto.baug.ethz.ch  Tue Jun  3 03:12:10 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Tue Jun  3 03:16:54 2008
Subject: AW: [Qgis-developer] Release plans for QGIS 0.11.0 and on to 1.0
References: <FEAEDB3E-8AA1-420F-B532-1659ED5803C8@linfiniti.com><e8e7199c0805280624l2828ac4bld1e3d27a2304eee6@mail.gmail.com><200806021223.14891.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0806020651q4cef760ey9fe7cb1a2b6cd6f0@mail.gmail.com>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF855@EX6.d.ethz.ch>

Hi Tim,

That sounds good and I think it is also convenient for developers to have similar procedure as before 1.0.

Regards,
Marco




-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Tim Sutton
Gesendet: Mo 02.06.2008 15:51
An: Hugentobler  Marco
Cc: qgis-developer@lists.osgeo.org
Betreff: Re: [Qgis-developer] Release plans for QGIS 0.11.0 and on to 1.0
 
Hi

My idea was along these lines:

 - on 1.0 release branch and maintain that as 1.x stable branch with
branches for releases coming off that
 - continue work in trunk to become the eventual 2.0

If fixes are made to 1.x branch which can be ported to 2.0 branch (or
vica verca) aply them manually, but I think we should proceed with 2.0
work with no concern for the most part of maintaining API
compatibility. It would be good to change the plugin API as little as
possible but even that should not be an overwhelming constraint.

Regards

Tim

2008/6/2 Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Martin,
>
> I agree with you that redesign is very important. There are several areas in
> QGIS where it will be hard to add new features without doing sound redesigns
> (that break API compatibility), e.g. geometry and renderers.
>
> I'm also in favor of keeping API compatibility for version1 and to break it
> for version 2. One possibility would be to have a redesign branch that will
> later be 2.0 and branching this branch for the individual refactoring
> projects. Though it may be difficult at some point to keep trunk and redesign
> branch in sync. Maybe there are better ideas around? I only know that even
> for big companies it is not easy to maintain a productive version and a
> redesign version in parallel.
>
> Regards,
> Marco
>
> Am Mittwoch 28 Mai 2008 15:24:27 schrieb Martin Dobias:
>> Hi Tim
>>
>> On Mon, May 26, 2008 at 5:23 PM, Tim Sutton <tim@linfiniti.com> wrote:
>> > It would be great to get a heads up on what others are working on so we
>> > can start planning for press releases etc. Going by June 30 as a target
>> > release date, I proposed the following dates for the release:
>> >
>> > June  9 - Feature freeze - bug fixing only from here on forward
>> > June 16 - String freeze and call for translations
>> > June 23 - Branch for release & call for packaging
>> > June 30 - Unleash Metis on the world...
>> >
>> > Does that work ok for everyone?
>>
>> Looks fine for me. My further plans are to add dependency checking for
>> python plugins (if I'll be able to get it ready on time)
>>
>> > I suggest Jef put his code formatting stuff through just before we do
>> > branch for release so that there is no active work going on in trunk -
>> > though this may impact people working out in branches so is it maybe
>> > better to wait for just before 1.0 before Jef puts the formatting updates
>> > in?
>>
>> Better to wait and apply it before 1.0.
>>
>> > Following the above plan, we will have another 1.5 months until August 15
>> > - the planned release date for QGIS 1.0. So ideally 0.11.0 is the last
>> > chance to get those last minute features in, and with the exception of
>> > labelling, composer and raster catalogues, no new features should be
>> > going into trunk post 0.11.0 release.
>>
>> Btw. any news from the GSoC student regarding the map labeling
>> implementation?
>>
>> > I'm anticipating a 1.0.1 release if possible in time for FOSS4G2008 (late
>> > Sept) which will be purely bug fixing for anything we missed in 1.0
>> > release.
>>
>> What about further roadmap? Schedule of 1.x versions? Are we going to
>> maintain stable ABI? API? Some plans for 2.0?
>> The problem I see often is that we just know where we are but we're
>> missing some direction and vision... There are always just very
>> short-time release plans. I have in my mind some greater changes
>> (geometry refactor, plugins/providers enhancements, vector handling
>> enhancements) but I don't get idea when to do them.
>>
>> > We also need to finalise our Hack fest - can we set a final date etc over
>> > the next week Paolo? Its looking like mid-late June is going to work best
>> > for me  since I will be starting a new job in July. I see on the hackfest
>> > page that June is good for some other folks too. Could we firm up a date
>> > for this?
>>
>> I'm sorry but it looks like I won't be able to participate - June is
>> full of exams and visitors and then moving back to Slovakia, from
>> mid-July I'm on holidays in India until mid-September. I could
>> participate during the autumn...
>>
>> Cheers
>> Martin
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From wonder.sk at gmail.com  Tue Jun  3 05:13:59 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Jun  3 05:14:01 2008
Subject: [Qgis-developer] WMS layers and plugin interface
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF853@EX6.d.ethz.ch>
References: <AcjFSIyeJcvbTe+lTAikhWC9ZQPdgA==>
	<04DA676AA276F045B32D0F95783D78440AF853@EX6.d.ethz.ch>
Message-ID: <e8e7199c0806030213p1a4fc804r358be16900460d90@mail.gmail.com>

On Tue, Jun 3, 2008 at 9:07 AM, Hugentobler  Marco
<marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi QGIS devs,
>
> Am I right that it is not possible to add WMS layers from plugins with the current plugin interface? There seems to be only
>
> virtual QgsRasterLayer* addRasterLayer(QString rasterLayerPath, QString baseName = QString())=0;
>
> for file-based raster layers. Would it be ok to add a similar function for WMS layers, e.g.

Hi Marco,

yes, it's not possible :-)
feel free to add such function, it won't break anything.

Martin
From tim at linfiniti.com  Tue Jun  3 06:01:45 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Jun  3 06:01:47 2008
Subject: [Qgis-developer] WMS layers and plugin interface
In-Reply-To: <e8e7199c0806030213p1a4fc804r358be16900460d90@mail.gmail.com>
References: <04DA676AA276F045B32D0F95783D78440AF853@EX6.d.ethz.ch>
	<e8e7199c0806030213p1a4fc804r358be16900460d90@mail.gmail.com>
Message-ID: <d368056f0806030301j75352af5id9ed4bd498da3303@mail.gmail.com>

Hi

One thing I dont like is specifying the proxy host on a per connection
basis. I makes more sense to me to specify proxy server on a
application global basis given the following:

- in most cases I have ever encountered if you are using a proxy, you
will use the same connection for all internet facing connections
- most proxies can differentiate between lan and wan connections and
behave appropriately
- if you are using e.g. a laptop in a proxy enabled network, and then
take your laptop home, you need to reconfigure your proxy setting for
every layer in every project

As such I would suggest we rather move setting proxy as a qgsoptions
item, and then when loading a layer from wfs/wms rather check if the
proxy is enabled in that session and use the qgsoptions defined
settings.

Regards

Tim

2008/6/3 Martin Dobias <wonder.sk@gmail.com>:
> On Tue, Jun 3, 2008 at 9:07 AM, Hugentobler  Marco
> <marco.hugentobler@karto.baug.ethz.ch> wrote:
>> Hi QGIS devs,

>> Am I right that it is not possible to add WMS layers from plugins with the current plugin interface? There seems to be only
>>
>> virtual QgsRasterLayer* addRasterLayer(QString rasterLayerPath, QString baseName = QString())=0;
>>
>> for file-based raster layers. Would it be ok to add a similar function for WMS layers, e.g.
>
> Hi Marco,
>
> yes, it's not possible :-)
> feel free to add such function, it won't break anything.
>
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From stephan.holl at intevation.de  Tue Jun  3 06:19:05 2008
From: stephan.holl at intevation.de (Stephan Holl)
Date: Tue Jun  3 06:28:56 2008
Subject: [Qgis-developer] WMS layers and plugin interface
In-Reply-To: <d368056f0806030301j75352af5id9ed4bd498da3303@mail.gmail.com>
References: <04DA676AA276F045B32D0F95783D78440AF853@EX6.d.ethz.ch>
	<e8e7199c0806030213p1a4fc804r358be16900460d90@mail.gmail.com>
	<d368056f0806030301j75352af5id9ed4bd498da3303@mail.gmail.com>
Message-ID: <20080603121905.542a648c@thoe.hq.intevation.de>

Hello Tim,

"Tim Sutton" <tim@linfiniti.com>, [20080603 - 12:01:45]

> Hi
> 
> One thing I dont like is specifying the proxy host on a per connection
> basis. I makes more sense to me to specify proxy server on a
> application global basis given the following:
> 
> - in most cases I have ever encountered if you are using a proxy, you
> will use the same connection for all internet facing connections
> - most proxies can differentiate between lan and wan connections and
> behave appropriately
> - if you are using e.g. a laptop in a proxy enabled network, and then
> take your laptop home, you need to reconfigure your proxy setting for
> every layer in every project
> 
> As such I would suggest we rather move setting proxy as a qgsoptions
> item, and then when loading a layer from wfs/wms rather check if the
> proxy is enabled in that session and use the qgsoptions defined
> settings.

While following this thread closely I like to bring another option of
proxy-usage in play.
What about the 'normal' proxy-env-vars http_proxy/https_proxy? It would
be really cool, if they would be picked up from the settings when the
checkbox 'use_proxy' is checked (like Tim suggested above).

This would simplify the use of systemwide-proxy-usage on a
multiuser-system dramaticaly, because QGIS simply picks up the correct
proxy. Though I am not sure it this works also on other OS than
GNU/Linux.

Currently we are dealing with such a scenario for securing several
OGC-services(WMS/WFS) through proxy-usage. 

Best regards

	Stephan

-- 
Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
From stefie10 at media.mit.edu  Tue Jun  3 08:54:33 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Tue Jun  3 08:56:56 2008
Subject: [Qgis-developer] QgsPoint as a python list
Message-ID: <48453F09.4080008@media.mit.edu>

This patch (against r8576) extends the QgsPoint python interface so it 
can act like a  two element immutable python list.  This makes idioms 
the following possible:

x, y = point

I also write a lot of code that assumes points are tuples, and with this
patch I can pass QgsPoints to those methods without any conversion
code.

Stefanie

(PS:  Sorry for sending all these patches at once.  I had a problem
applying my patch stream to the latest revision of qgis and I was too
busy to fix it for a while... )
-------------- next part --------------
Index: qgis/qgis_unstable/python/core/qgspoint.sip
===================================================================
--- qgis.orig/qgis_unstable/python/core/qgspoint.sip	2008-06-02 12:54:53.000000000 -0400
+++ qgis/qgis_unstable/python/core/qgspoint.sip	2008-06-02 12:57:20.000000000 -0400
@@ -82,6 +82,39 @@
     sipRes = PyString_FromString(str.toLocal8Bit().data());
 %End
 
+  int __len__();
+%MethodCode
+    sipRes = 2;
+%End
+
+
+  SIP_PYOBJECT __getitem__(int);
+%MethodCode    
+    if (a0 == 0) {
+        sipRes = Py_BuildValue("d",sipCpp->x());
+    } else if (a0 == 1) {
+        sipRes = Py_BuildValue("d",sipCpp->y());
+    } else {
+        QString msg = QString("Bad index: %1").arg(a0);
+        PyErr_SetString(PyExc_IndexError, msg.toAscii().constData());
+    }
+%End
+
+  void __setitem__(int, double);
+%MethodCode    
+    if (a0 == 0) {
+        sipCpp->setX(a1);
+    } else if (a0 == 1) {
+        sipCpp->setY(a1);
+    } else {
+        QString msg = QString("Bad index: %1").arg(a0);
+        PyErr_SetString(PyExc_IndexError, msg.toAscii().constData());
+    }
+%End
+
+
+
+
   
 }; // class QgsPOint
 

From stefie10 at media.mit.edu  Tue Jun  3 08:54:26 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Tue Jun  3 08:56:57 2008
Subject: [Qgis-developer] set a feature's primary key after an insert
Message-ID: <48453F02.1080400@media.mit.edu>

I created these two patches (against r8576) because I wanted to get the 
primary key of newly inserted features from python.

The first patch is a one liner that sets the feature's primary key to
the new value (using primaryKeyHighWater).

The second one changes the python interface to pass by reference instead
of pass by value, so the new value can be read from python.

Stefanie

-------------- next part --------------
Index: qgis/qgis_unstable/src/providers/postgres/qgspostgresprovider.cpp
===================================================================
--- qgis.orig/qgis_unstable/src/providers/postgres/qgspostgresprovider.cpp	2008-06-02 15:25:26.000000000 -0400
+++ qgis/qgis_unstable/src/providers/postgres/qgspostgresprovider.cpp	2008-06-02 15:42:49.000000000 -0400
@@ -1843,6 +1843,7 @@
       QList<QByteArray> qparam;
       qparam.append( geomParam.toUtf8() );
       qparam.append( QString("%1").arg( ++primaryKeyHighWater ).toUtf8() );
+      features->setFeatureId(primaryKeyHighWater);
       param[0] = qparam[0];
       param[1] = qparam[1];
 

-------------- next part --------------
Index: qgis/qgis_unstable/python/core/qgsvectordataprovider.sip
===================================================================
--- qgis.orig/qgis_unstable/python/core/qgsvectordataprovider.sip	2008-04-30 10:56:27.000000000 -0400
+++ qgis/qgis_unstable/python/core/qgsvectordataprovider.sip	2008-04-30 11:06:49.000000000 -0400
@@ -148,7 +148,7 @@
        * Adds a list of features
        * @return true in case of success and false in case of failure
        */
-      virtual bool addFeatures(QList<QgsFeature> & flist);
+      virtual bool addFeatures(QList<QgsFeature> & flist /In,Out/);
 
       /** 
        * Deletes a feature

From stefie10 at media.mit.edu  Tue Jun  3 08:54:22 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Tue Jun  3 09:00:20 2008
Subject: [Qgis-developer] bug when calling QgsGeometry::setWkbAndOwnership
 from python (with patch)
Message-ID: <48453EFE.8030406@media.mit.edu>

Hi,

The attached patch (against r8576) fixes a bug I ran into when trying to 
call  QgsGeometry::setWkbAndOnwership from python.    When calling it 
from  python, the caller cannot release ownership of the input buffer, 
and I  would get a seg fault.   I put a wrapper around the method that 
makes a  copy before passing it to the C code.

There's no memory leak (I don't think), because python retains ownership
of the input string, and the qgsgeometry object owns the copy.

Stefanie

-------------- next part --------------
Index: qgis/qgis_unstable/python/core/qgsgeometry.sip
===================================================================
--- qgis.orig/qgis_unstable/python/core/qgsgeometry.sip	2008-05-02 13:23:54.000000000 -0400
+++ qgis/qgis_unstable/python/core/qgsgeometry.sip	2008-05-26 21:08:55.000000000 -0400
@@ -61,7 +61,12 @@
     */
     // SIP: buffer will be transferred from python to C++
     // TODO: create pythonic interface that will receive wkb as a string
-    void setWkbAndOwnership(unsigned char * wkb /Transfer, Array/, size_t length /ArraySize/);
+    void setWkbAndOwnership(unsigned char * wkb /Array/, size_t length /ArraySize/);
+%MethodCode
+unsigned char * copy = (unsigned char * ) malloc(a1);
+memcpy(copy, a0, a1);
+sipCpp->setWkbAndOwnership(copy, a1);
+%End
     
     /** 
        Returns the buffer containing this geometry in WKB format.

From wonder.sk at gmail.com  Tue Jun  3 10:34:05 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Jun  3 10:34:15 2008
Subject: [Qgis-developer] bug when calling QgsGeometry::setWkbAndOwnership
	from python (with patch)
In-Reply-To: <48453EFE.8030406@media.mit.edu>
References: <48453EFE.8030406@media.mit.edu>
Message-ID: <e8e7199c0806030734y4409d855xf005213e1a33e5dd@mail.gmail.com>

On Tue, Jun 3, 2008 at 2:54 PM, Stefanie Tellex <stefie10@media.mit.edu> wrote:
> Hi,
>
> The attached patch (against r8576) fixes a bug I ran into when trying to
> call  QgsGeometry::setWkbAndOnwership from python.    When calling it from
>  python, the caller cannot release ownership of the input buffer, and I
>  would get a seg fault.   I put a wrapper around the method that makes a
>  copy before passing it to the C code.
>
> There's no memory leak (I don't think), because python retains ownership
> of the input string, and the qgsgeometry object owns the copy.

Hi Stefanie,

thanks for the patch. You're right, the correct behaviour should push
to setWkbAndOwnership() only copy of Python string. I've just changed
allocation from "malloc" to "new" so that it matches the way used in
QGIS and applied as r8580.

Regards
Martin
From wonder.sk at gmail.com  Tue Jun  3 10:42:03 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Jun  3 10:42:06 2008
Subject: [Qgis-developer] QgsPoint as a python list
In-Reply-To: <48453F09.4080008@media.mit.edu>
References: <48453F09.4080008@media.mit.edu>
Message-ID: <e8e7199c0806030742t1a8339bbt147f825751d572a9@mail.gmail.com>

On Tue, Jun 3, 2008 at 2:54 PM, Stefanie Tellex <stefie10@media.mit.edu> wrote:
> This patch (against r8576) extends the QgsPoint python interface so it can
> act like a  two element immutable python list.  This makes idioms the
> following possible:
>
> x, y = point
>
> I also write a lot of code that assumes points are tuples, and with this
> patch I can pass QgsPoints to those methods without any conversion
> code.

This is quite useful patch, I've applied it as r8582. I've omitted the
part with __setitem__ because using p[0] = 5 to set X coordinate is
rather cryptic construction.

Thanks,
Martin
From jef at norbit.de  Tue Jun  3 10:42:52 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue Jun  3 10:42:57 2008
Subject: [Qgis-developer] set a feature's primary key after an insert
In-Reply-To: <48453F02.1080400@media.mit.edu>
References: <48453F02.1080400@media.mit.edu>
Message-ID: <20080603144252.GA1824@norbit.de>

Hi Stefanie,

On Tue, 03. Jun 2008 at 08:54:26 -0400, Stefanie Tellex wrote:
> The first patch is a one liner that sets the feature's primary key to
> the new value (using primaryKeyHighWater).

Thanks.

Applied in r8583.  I also updated the OGR provider accordingly.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From jef at norbit.de  Tue Jun  3 11:14:34 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue Jun  3 11:14:38 2008
Subject: [Qgis-developer] Re: [Qgis-user] lines with arrowheads
In-Reply-To: <d368056f0806030747lb221a51y2fdb67538cd59df9@mail.gmail.com>
References: <a553a2b00806021143t5e97b6b3t533511582c152527@mail.gmail.com>
	<4844485C.1070009@media.mit.edu>
	<d368056f0806021310j6d6e9630t1c5cc5f024ba94bd@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF851@EX6.d.ethz.ch>
	<d368056f0806022332u1a360137r3cb6471e47b3d2c9@mail.gmail.com>
	<e8e7199c0806030210g10f4c6erfaf406887e031b68@mail.gmail.com>
	<d368056f0806030747lb221a51y2fdb67538cd59df9@mail.gmail.com>
Message-ID: <20080603151434.GB2277@norbit.de>

Hi Tim,

On Tue, 03. Jun 2008 at 16:47:26 +0200, Tim Sutton wrote:
> I agree - if we aply the patch Ill soft code the apearance properties
> in the ui. Ill wait to see if there is general agreement before
> applying it.

How hard would it be to wrap the QgsSingleSymbolDialog into a QTabWidget
to allow multiple styles/markers for a line feature (ie. tabs for line
style, start marker, end marker, vertex marker, mid-segment marker)?

drawFeature already gets a marker for point features, if this was a
list, it could be used in the linestring case accordingly.

That shouldn't be too invasive, shouldn't it?


J?rgen

PS: multilines are not covered by the patch.

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From jef at norbit.de  Tue Jun  3 11:18:05 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue Jun  3 11:18:11 2008
Subject: [Qgis-developer] Re: [Qgis-user] lines with arrowheads
In-Reply-To: <20080603151434.GB2277@norbit.de>
References: <a553a2b00806021143t5e97b6b3t533511582c152527@mail.gmail.com>
	<4844485C.1070009@media.mit.edu>
	<d368056f0806021310j6d6e9630t1c5cc5f024ba94bd@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF851@EX6.d.ethz.ch>
	<d368056f0806022332u1a360137r3cb6471e47b3d2c9@mail.gmail.com>
	<e8e7199c0806030210g10f4c6erfaf406887e031b68@mail.gmail.com>
	<d368056f0806030747lb221a51y2fdb67538cd59df9@mail.gmail.com>
	<20080603151434.GB2277@norbit.de>
Message-ID: <20080603151805.GA16318@norbit.de>

Hi,

[oops, I didn't realize that this started on the qgis user ml. Sorry.]

On Tue, 03. Jun 2008 at 17:14:34 +0200, J?rgen E. Fischer wrote:
> On Tue, 03. Jun 2008 at 16:47:26 +0200, Tim Sutton wrote:
> > I agree - if we aply the patch Ill soft code the apearance properties
> > in the ui. Ill wait to see if there is general agreement before
> > applying it.
> 
> How hard would it be to wrap the QgsSingleSymbolDialog into a QTabWidget
> to allow multiple styles/markers for a line feature (ie. tabs for line
> style, start marker, end marker, vertex marker, mid-segment marker)?
> 
> drawFeature already gets a marker for point features, if this was a
> list, it could be used in the linestring case accordingly.
> 
> That shouldn't be too invasive, shouldn't it?
> 
> 
> J?rgen
> 
> PS: multilines are not covered by the patch.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From stefie10 at media.mit.edu  Tue Jun  3 11:10:32 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Tue Jun  3 11:21:45 2008
Subject: [Qgis-developer] set a feature's primary key after an insert
In-Reply-To: <20080603144252.GA1824@norbit.de>
References: <48453F02.1080400@media.mit.edu> <20080603144252.GA1824@norbit.de>
Message-ID: <48455EE8.6010306@media.mit.edu>

Could you guys also consider applying the second patch, that changes the 
python interface to pass by reference instead of pass by value? 
Otherwise I can't read the new key from python.  (It's attached again on 
this email.)

Maybe Martin should look at that one since it affects the python interface.

Thanks!

Stefanie

J?rgen E. Fischer wrote:
> Hi Stefanie,
> 
> On Tue, 03. Jun 2008 at 08:54:26 -0400, Stefanie Tellex wrote:
>> The first patch is a one liner that sets the feature's primary key to
>> the new value (using primaryKeyHighWater).
> 
> Thanks.
> 
> Applied in r8583.  I also updated the OGR provider accordingly.
> 
> 
> J?rgen
> 

-------------- next part --------------
Index: qgis/qgis_unstable/python/core/qgsvectordataprovider.sip
===================================================================
--- qgis.orig/qgis_unstable/python/core/qgsvectordataprovider.sip	2008-04-30 10:56:27.000000000 -0400
+++ qgis/qgis_unstable/python/core/qgsvectordataprovider.sip	2008-04-30 11:06:49.000000000 -0400
@@ -148,7 +148,7 @@
        * Adds a list of features
        * @return true in case of success and false in case of failure
        */
-      virtual bool addFeatures(QList<QgsFeature> & flist);
+      virtual bool addFeatures(QList<QgsFeature> & flist /In,Out/);
 
       /** 
        * Deletes a feature
From wonder.sk at gmail.com  Tue Jun  3 11:46:13 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Jun  3 11:46:16 2008
Subject: [Qgis-developer] set a feature's primary key after an insert
In-Reply-To: <48455EE8.6010306@media.mit.edu>
References: <48453F02.1080400@media.mit.edu> <20080603144252.GA1824@norbit.de>
	<48455EE8.6010306@media.mit.edu>
Message-ID: <e8e7199c0806030846i2242743dr83a768f1ed902e34@mail.gmail.com>

On Tue, Jun 3, 2008 at 5:10 PM, Stefanie Tellex <stefie10@media.mit.edu> wrote:
> Could you guys also consider applying the second patch, that changes the
> python interface to pass by reference instead of pass by value? Otherwise I
> can't read the new key from python.  (It's attached again on this email.)

I've applied it in r8584. Thanks.
When thinking about the impact of this patch, it has a downside that
all features are copied and in the returned array there are new
instances with changed feature id - instead of changing directly the
instances that have been passed (those stay unchanged). This could be
fixed by another %MethodCode wrapper. Patches are welcome :)

Martin
From wonder.sk at gmail.com  Tue Jun  3 11:59:51 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Jun  3 12:00:00 2008
Subject: [Qgis-developer] the new plugin installer
In-Reply-To: <200806011819.59669.borys@wolf.most.org.pl>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<200805290202.47249.borys@wolf.most.org.pl>
	<e8e7199c0806010832p27686febnd2a2f5ad0150593@mail.gmail.com>
	<200806011819.59669.borys@wolf.most.org.pl>
Message-ID: <e8e7199c0806030859q27470e27lca96384a703644f5@mail.gmail.com>

2008/6/1 Borys Jurgiel <borys@wolf.most.org.pl>:
> Sunday 01 of June 2008 17:32:37 Martin Dobias napisa?(a):
>> Thanks for the effort! I've tried finally the plugin installer as
>> you've modified it and looks fine with my few tests.
>
> Thanks, have you tested it under Windows/Mac? Now it's coming into beta stage,
> but I've tested it mainly under Ubuntu. Could anybody test it under something
> else?

No, I haven't access to Mac and I boot to win just once upon a time.
But I'd like to do some tests there.


>> > We have there 43 plugins and in only 17 cases the name in the repository
>> > and the one inside plugin are the same. Until now it wasn't so important,
>> > but now we will have to pay more attention to the name and version
>> > number, because Installer identifies plugins by the name.
>>
>> This shouldn't be necessary. We can identify plugins by the plugin's
>> directory - it's simple, easy and don't need any changes.
>
> I can't agree. There is no information in repositories about instalation
> directories. The Installer would have to open every zip file for compare with
> module name, so it would be very slowly!
>
> Furthermore, even if we had two different plugin names and/or two different
> version numbers, associated by the installation folder name, which name and
> version should I use? And how should I know, when the difference between
> version numbers is due to upgrade in repository, and when due to the
> mistake? :)

I thought that the directory could be easily get from the file_name
element from repository XML but it's not that case. My concern about
not using name of plugin is that these names are likely to be
translated inside the plugin so comparing them won't work well. So, my
suggestion is to add attribute "id" to pyqgis_plugin element which
will be identifier of the plugin and will be the same as the directory
when the plugin resides. What do you think?


>> Looking at your code I see you use python's reload() method to reload
>> the plugin. This doesn't work as expected. The only way how to
>> completely reload some module in python is to delete it first and then
>> import again:
>> del sys.modules['plugin_dir']
>> import plugin_dir
>
> Great thanks! The reload() was necessary for refreshing version number inside
> Installer, but still I didn't find any way to completely reload the plugin in
> whole QGIS without need of restarting. I understand this way should be
> sufficient?

Yes, this should be sufficient. From my few tests the plugins really
get reloaded completely, without restarting QGIS.

>> Good job, hope to see some further work - especially uninstallation of
>> plugins would be very useful.
>
> Give me two or three hours! ;) I've done a fair piece of changes already, I'm
> going to submit they in a few hours.

:-)

Bye
Martin
From wonder.sk at gmail.com  Tue Jun  3 12:13:10 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Jun  3 12:13:12 2008
Subject: [Qgis-developer] the new plugin installer
In-Reply-To: <200806020002.41567.borys@wolf.most.org.pl>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<200805290202.47249.borys@wolf.most.org.pl>
	<e8e7199c0806010832p27686febnd2a2f5ad0150593@mail.gmail.com>
	<200806020002.41567.borys@wolf.most.org.pl>
Message-ID: <e8e7199c0806030913k451bbbc5sb656a779f591cf56@mail.gmail.com>

2008/6/2 Borys Jurgiel <borys@wolf.most.org.pl>:
> Due to mistakes in the main repository, there is still a few
> untrue "uninstalled+orphan" pairs of items. Couldn't anybody apply my
> fixes...? :)

Let's wait a bit more :)

> There are some changes I'm going to do in this week:
> - faster refetching
> - enabling/disabling repositories
> - looking for updates on QGIS start
> - improved uninstalling (now file removing isn't fully recursive)
> - improved XML parsing (see D?ster Horst's "python geoprocessing" mail)
> - reloading the upgraded plugin without need of QGIS restart (is this
> possible?)
> - storing the column order and other user preferences
> - face lifting (icons instead of string status indicators etc)
> - cleaning, commenting, language fixes etc

Nice list indeed!
That reloading of the upgraded plugin in fact should be implemented at
the level of PyQGIS support and not directly in the installer. It
requires some internal actions so leaving that task for pythonqgis
library seems to be a better option. I'll look into this and I'll let
you know how to do reloads directly from the installer.

Martin
From wonder.sk at gmail.com  Tue Jun  3 12:20:44 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Jun  3 12:20:49 2008
Subject: [Qgis-developer] Python plugin development
In-Reply-To: <200806020108.47678.borys@wolf.most.org.pl>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<200805262338.40473.borys@wolf.most.org.pl>
	<3777965C-FB61-48D3-BB73-8C7BC7B95A76@linfiniti.com>
	<200806020108.47678.borys@wolf.most.org.pl>
Message-ID: <e8e7199c0806030920v32da28cge929d2827278a35@mail.gmail.com>

On Mon, Jun 2, 2008 at 1:08 AM, Borys Jurgiel <borys@wolf.most.org.pl> wrote:
>> I've also thought about this possibility. It would be great if there
>> was a list of repositories at some fixed URL under QGIS homepage, I
>> can think of a simple XML file. This sounds much better that parsing
>> the repos from wiki. Is this feasible?
>
> At this moment I can only add a posibility of looking for new repositories in
> XML file to the Installer.
>
> Btw. I wonder about splitting the official repostoty to two smaller: one for
> experimental plugins and second for well tested and commonly priced ones. Now
> we have mixing of important tools and templates for devs, which may be
> confusing for common users.

Exactly, I'll be glad to see that. In main repository there are
several great plugins but the list is cluttered with others,
experimental or not usable by wide audience.
The server-side implementation should be fairly simple, a matter of
new flag indicating whether the plugin is "official". The
administrator would explicitly decide which plugins are official and
from that the web application will generate two different lists.
Gary, please could you look at this?

Martin
From wonder.sk at gmail.com  Tue Jun  3 12:25:43 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Jun  3 12:25:54 2008
Subject: [Qgis-developer] Python plugin development
In-Reply-To: <d368056f0806020205m48ab61bby1b4af366c21779b0@mail.gmail.com>
References: <20080512160008.078D9E012A4@lists.osgeo.org>
	<48294C95.7030502@gmail.com> <4829CF4E.8070507@uvic.ca>
	<200805262338.40473.borys@wolf.most.org.pl> <483B3E50.9040303@uvic.ca>
	<e8e7199c0805270335r126eb72fn7511759b6c1565f6@mail.gmail.com>
	<9024487C-4B55-4F75-BBE3-43BF062FAD84@linfiniti.com>
	<e8e7199c0806010907l1baf6162g1a14dacd7ff7b760@mail.gmail.com>
	<d368056f0806020205m48ab61bby1b4af366c21779b0@mail.gmail.com>
Message-ID: <e8e7199c0806030925p5b73117bq8e11758d4bc4458c@mail.gmail.com>

On Mon, Jun 2, 2008 at 11:05 AM, Tim Sutton <tim@linfiniti.com> wrote:
>> I've also thought about this possibility. It would be great if there
>> was a list of repositories at some fixed URL under QGIS homepage, I
>> can think of a simple XML file. This sounds much better that parsing
>> the repos from wiki. Is this feasible?
>
> Yes you are right - parsing an xml will be better - although even with
> the wiki we could just attach an xml file to the repo list wiki page
> and then no need for screen scraping or managing user perms in the web
> dir file system. Either way is fine for me though.

I really don't like that wiki thing. List as a file on web server has
more advantages. And no need for managing permissions - it would be
completely sufficient if only server admins (e.g. you + Gary) had
access to modify the list of repositories... anyway they're not being
created everyday :)

Martin
From wonder.sk at gmail.com  Tue Jun  3 13:08:50 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Jun  3 13:09:24 2008
Subject: [Qgis-developer] Release plans for QGIS 0.11.0 and on to 1.0
In-Reply-To: <1E89D75A-A6CC-47F3-A06B-0ADF8A38A55B@linfiniti.com>
References: <FEAEDB3E-8AA1-420F-B532-1659ED5803C8@linfiniti.com>
	<e8e7199c0805280624l2828ac4bld1e3d27a2304eee6@mail.gmail.com>
	<1E89D75A-A6CC-47F3-A06B-0ADF8A38A55B@linfiniti.com>
Message-ID: <e8e7199c0806031008n58e6f31eq73ae46d157e495f4@mail.gmail.com>

On Wed, May 28, 2008 at 11:25 PM, Tim Sutton <tim@linfiniti.com> wrote:
>>
>> What about further roadmap?
>
> I think the last time we discussed this, the general concensus was that we
> would put all our focus into 1.0 for now and after 1.0 goes out, have a
> period of planning for 2.0. I would hope that we can limit the features to
> what we can achieve over the course of 1 year or so, with a couple of
> preview releases during that time.
>
>> Schedule of 1.x versions?
>
> During the same period as 2.0 development we should aim to keep our more or
> less 2 month cycle running with bug fix releases to QGIS 1.0. In my opinion
> we should try to identify an official maintainer for 1.0 (like the Linux
> kernel folks do for each release).

I see basically two possibilities:
- continue development of 2.0 in trunk and leaving 1.x in a branch.
Changes made in every round of refactoring/redesign will be merged
back to trunk. It can be expected that devs will be developing new
features mainly against trunk, 1.x branch will get just necessary
fixes, possibly backports of some new functions.
- 1.x versions will be developed in trunk and redesign will happen all
time in branch. After some time, commits from trunk will be
practically unmergeable to development branch without great manual
modifications. The development branch will be probably used and tested
only by very small amount of devs.

I'm much in favour of using the first approach - let's conserve QGIS
1.x in a usable state without bringing many new features in 1.x cycle
and go towards advanced architecture in 2.0. This will probably have
impact that users won't see any new "stable" release for longer time,
but it will be worth the changes.

>> Are we going to
>> maintain stable ABI?
>
> I'm not experienced with the in's and outs of what is required to maintain
> ABI compatibility within a C++ / Qt project. Could you point to any good
> resource on this.

Now I'm unable to point you to any good resource discussing this. But
having ABI stability for C++ libs is quite hard to achieve (see
http://www.murrayc.com/blog/permalink/2007/03/12/abi-stability-of-c-libraries/).
Anyway, we don't even have to think about that. There are just few
plugins or applications in c++ based on QGIS libs, so recompiling them
shouldn't hurt anyone.

>> API?
>
> My feeling is that we should maintain API compatibility for the 1.x
> lifecycle so that poor plugin etc developers dont need to work against a
> moving target any more.

Yup, stable 1.x releases should keep API compatible with 1.0.


>> I'm sorry but it looks like I won't be able to participate - June is
>> full of exams and visitors and then moving back to Slovakia, from
>> mid-July I'm on holidays in India until mid-September. I could
>> participate during the autumn...
>
> :-( I was looking forward to getting some hand-standing tips :-P Well
> hopefully we can arrange the next one so that you can attend, or perhaps
> there is some way to get you out to SA for FOSS4GEO2008, where a number of
> other QGISsers will be attending too.

Don't worry about hand-stands :-)
However there's still a chance that I could attend for 1-2 days - in
window between 24. when I have my last exam and 29. when I'm leaving
from VLC.


> I must say it is really cool to see how much the python work you have done
> has spawned a developer community of its own. I was actually wondering if we
> shouldnt start a qgis-python mailing list since it seems to be an area of
> QGIS with a life of its own...

I'm also quite positively surprised how much buzz PyQGIS has created.
Launching qgis-python list isn't neccessary so far...

Cheers
Martin
From wonder.sk at gmail.com  Tue Jun  3 13:15:02 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Jun  3 13:15:05 2008
Subject: [Qgis-developer] Release plans for QGIS 0.11.0 and on to 1.0
In-Reply-To: <d368056f0806020651q4cef760ey9fe7cb1a2b6cd6f0@mail.gmail.com>
References: <FEAEDB3E-8AA1-420F-B532-1659ED5803C8@linfiniti.com>
	<e8e7199c0805280624l2828ac4bld1e3d27a2304eee6@mail.gmail.com>
	<200806021223.14891.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0806020651q4cef760ey9fe7cb1a2b6cd6f0@mail.gmail.com>
Message-ID: <e8e7199c0806031015q3e2ad81bu615e0a659a286aa0@mail.gmail.com>

On Mon, Jun 2, 2008 at 3:51 PM, Tim Sutton <tim@linfiniti.com> wrote:
> My idea was along these lines:
>
>  - on 1.0 release branch and maintain that as 1.x stable branch with
> branches for releases coming off that
>  - continue work in trunk to become the eventual 2.0
>
> If fixes are made to 1.x branch which can be ported to 2.0 branch (or
> vica verca) aply them manually, but I think we should proceed with 2.0
> work with no concern for the most part of maintaining API
> compatibility. It would be good to change the plugin API as little as
> possible but even that should not be an overwhelming constraint.

This plan sounds good to me!

Just one note: plugin API in QGIS consists or core and gui libs API,
QgisInterface instance and QgisPlugin interface which is subclassed by
plugins. So it's hard to speak about not breaking plugin API if we do
refactoring in QGIS libs...

Martin
From tim at linfiniti.com  Tue Jun  3 13:16:38 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Jun  3 13:16:49 2008
Subject: [Qgis-developer] Re: [Qgis-user] lines with arrowheads
In-Reply-To: <20080603151434.GB2277@norbit.de>
References: <a553a2b00806021143t5e97b6b3t533511582c152527@mail.gmail.com>
	<4844485C.1070009@media.mit.edu>
	<d368056f0806021310j6d6e9630t1c5cc5f024ba94bd@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF851@EX6.d.ethz.ch>
	<d368056f0806022332u1a360137r3cb6471e47b3d2c9@mail.gmail.com>
	<e8e7199c0806030210g10f4c6erfaf406887e031b68@mail.gmail.com>
	<d368056f0806030747lb221a51y2fdb67538cd59df9@mail.gmail.com>
	<20080603151434.GB2277@norbit.de>
Message-ID: <d368056f0806031016v29352a58o5db6145aa55bda24@mail.gmail.com>

Hi

I think in general 'tabs in tabs' paradigm should be avoided if
possible, so I will first look to see if we can accommodate these
options with no additional tabs and use nested tabs as a last resort.

Regards

Tim

2008/6/3 J?rgen E. Fischer <jef@norbit.de>:
> Hi Tim,
>
> On Tue, 03. Jun 2008 at 16:47:26 +0200, Tim Sutton wrote:
>> I agree - if we aply the patch Ill soft code the apearance properties
>> in the ui. Ill wait to see if there is general agreement before
>> applying it.
>
> How hard would it be to wrap the QgsSingleSymbolDialog into a QTabWidget
> to allow multiple styles/markers for a line feature (ie. tabs for line
> style, start marker, end marker, vertex marker, mid-segment marker)?
>
> drawFeature already gets a marker for point features, if this was a
> list, it could be used in the linestring case accordingly.
>
> That shouldn't be too invasive, shouldn't it?
>
>
> J?rgen
>
> PS: multilines are not covered by the patch.
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From borys at wolf.most.org.pl  Tue Jun  3 20:05:54 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue Jun  3 20:06:04 2008
Subject: [Qgis-developer] the new plugin installer
In-Reply-To: <e8e7199c0806030913k451bbbc5sb656a779f591cf56@mail.gmail.com>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<200806020002.41567.borys@wolf.most.org.pl>
	<e8e7199c0806030913k451bbbc5sb656a779f591cf56@mail.gmail.com>
Message-ID: <200806040205.55130.borys@wolf.most.org.pl>

> No, I haven't access to Mac and I boot to win just once upon a time.
> But I'd like to do some tests there.

Ok, I've found windows machine and also made a workaround of mistakes in the 
repo - it seems to be fully usable at last.

> I thought that the directory could be easily get from the file_name
> element from repository XML but it's not that case. My concern about
> not using name of plugin is that these names are likely to be
> translated inside the plugin so comparing them won't work well. 

You're right. I thought that we can't trust the zip file name match the 
directory one, but in fact it's much more trustworthy than the plugin name 
(only one doesn't match).

> So, my suggestion is to add attribute "id" to pyqgis_plugin element which
> will be identifier of the plugin and will be the same as the directory
> when the plugin resides. What do you think?

I think that would be firmly less trustworthy :) Most of us pack zip files 
with a click on a source directory, so the name is just copied. We can add 
any attributes and related methods in modules (like keywords, categories 
etc), but we must be prepared for the fact, that they both won't match in 
many cases. So it's not the way for identifying, as I think. 

If nobody disagree, I'll use the zip filename as the plugin id. 

> Nice list indeed!
> That reloading of the upgraded plugin in fact should be implemented at
> the level of PyQGIS support and not directly in the installer. It
> requires some internal actions so leaving that task for pythonqgis
> library seems to be a better option. I'll look into this and I'll let
> you know how to do reloads directly from the installer.

Great, I don't want to go beyond plugin borders until everything works. Now 
there is a notify of restart necessity (forgive me the poem). 

Are we allowed to make changes like that between 0.11 and 1.0 freeze? It's 
quite more then just a bugfix, but doesn't exceed the plugin system cleaning. 
May we?

> Exactly, I'll be glad to see that. In main repository there are
> several great plugins but the list is cluttered with others,
> experimental or not usable by wide audience.
> The server-side implementation should be fairly simple, a matter of
> new flag indicating whether the plugin is "official". The
> administrator would explicitly decide which plugins are official and
> from that the web application will generate two different lists.
> Gary, please could you look at this?

I see that 1.0 will be equipped with a tidy system of plugins :)

Cheers,
B.
From Horst.Duester at bd.so.ch  Wed Jun  4 02:07:55 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Wed Jun  4 02:08:01 2008
Subject: AW: Re: [Qgis-developer] Release plans for QGIS 0.11.0 and on to 1.0
Message-ID: <H00002eb02d18ff8.1212559675.srsofaioi6145.ktso.ch@MHS>

At the moment I'm a little bit frightened about the release plans and
the backward compatibility of PyQgis. 

We are starting to develop special Plugin applications for business
processes in our government now. In former times they were solved by
ArcView3 plugins. Thus for us it is an absolutely must to have long term
stability of the PyQgis API. It would be a worst case scenario to have
to redesign our plugins and applications due to changes of the PyQgis
API every release. Please be aware of this fact.

Regards
Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch



-----Urspr?ngliche Nachricht-----
Von: Martin Dobias [mailto:wonder.sk@gmail.com]
Gesendet am: Dienstag, 3. Juni 2008 19:15
An: Tim Sutton
Cc: qgis-developer@lists.osgeo.org
Betreff: Re: [Qgis-developer] Release plans for QGIS 0.11.0 and on to
1.0

On Mon, Jun 2, 2008 at 3:51 PM, Tim Sutton <tim@linfiniti.com> wrote:
> My idea was along these lines:
>
>  - on 1.0 release branch and maintain that as 1.x stable branch with
> branches for releases coming off that
>  - continue work in trunk to become the eventual 2.0
>
> If fixes are made to 1.x branch which can be ported to 2.0 branch (or
> vica verca) aply them manually, but I think we should proceed with 2.0
> work with no concern for the most part of maintaining API
> compatibility. It would be good to change the plugin API as little as
> possible but even that should not be an overwhelming constraint.

This plan sounds good to me!

Just one note: plugin API in QGIS consists or core and gui libs API,
QgisInterface instance and QgisPlugin interface which is subclassed by
plugins. So it's hard to speak about not breaking plugin API if we do
refactoring in QGIS libs...

Martin
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080604/4f9e84fd/attachment.html
From tim at linfiniti.com  Wed Jun  4 05:07:21 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Jun  4 05:07:24 2008
Subject: [Qgis-developer] Re: Release plans for QGIS 0.11.0 and on to 1.0
In-Reply-To: <H00002eb02d18ff8.1212559675.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb02d18ff8.1212559675.srsofaioi6145.ktso.ch@MHS>
Message-ID: <d368056f0806040207v33a2adc9n95eef63339b68a1e@mail.gmail.com>

Hi

Let me try to ease your concerns a little:

For qgis 1.0 we will guarantee API compatibilty for the 1.x release
series. My estimate is that 1.x will be the stable version for the
next 1 to 2 years following its release, and there is the possibility
that we continue supporting 1.x even after 2.0 goes out.

For 2.0 we have a few options:
 - a completely new api with a qgis1support library to translate the
api into something compatible with qgis 1.
 - completely disregard 1.0 api and encourage plugin writers to port
their plugins to the new api, while deploying their plugins against
the 1.x stable releas until such time that thier pligins have been
ported.

I believe we need to allow the api to break compatibility with 1.x if
we are to advance qgis in any meaningful way. This approach is in
keeping with most major prjects I know about e.g. Qt, firefox etc. We
will try to keep the burden on plugin writers to a minimum but at the
same time we need to find a way to move forward with qgis while
keepiong plugin writers happy.

regards

Tim

On 6/4/08, D?ster Horst <Horst.Duester@bd.so.ch> wrote:
> At the moment I'm a little bit frightened about the release plans and
> the backward compatibility of PyQgis.
>
> We are starting to develop special Plugin applications for business
> processes in our government now. In former times they were solved by
> ArcView3 plugins. Thus for us it is an absolutely must to have long term
> stability of the PyQgis API. It would be a worst case scenario to have
> to redesign our plugins and applications due to changes of the PyQgis
> API every release. Please be aware of this fact.
>
> Regards
> Horst
>
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch
>
>
>
> -----Urspr?ngliche Nachricht-----
> Von: Martin Dobias [mailto:wonder.sk@gmail.com]
> Gesendet am: Dienstag, 3. Juni 2008 19:15
> An: Tim Sutton
> Cc: qgis-developer@lists.osgeo.org
> Betreff: Re: [Qgis-developer] Release plans for QGIS 0.11.0 and on to
> 1.0
>
> On Mon, Jun 2, 2008 at 3:51 PM, Tim Sutton <tim@linfiniti.com> wrote:
>> My idea was along these lines:
>>
>>  - on 1.0 release branch and maintain that as 1.x stable branch with
>> branches for releases coming off that
>>  - continue work in trunk to become the eventual 2.0
>>
>> If fixes are made to 1.x branch which can be ported to 2.0 branch (or
>> vica verca) aply them manually, but I think we should proceed with 2.0
>> work with no concern for the most part of maintaining API
>> compatibility. It would be good to change the plugin API as little as
>> possible but even that should not be an overwhelming constraint.
>
> This plan sounds good to me!
>
> Just one note: plugin API in QGIS consists or core and gui libs API,
> QgisInterface instance and QgisPlugin interface which is subclassed by
> plugins. So it's hard to speak about not breaking plugin API if we do
> refactoring in QGIS libs...
>
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From borys at wolf.most.org.pl  Wed Jun  4 06:20:57 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Wed Jun  4 06:21:18 2008
Subject: [Qgis-developer] the repository XML element
In-Reply-To: <e8e7199c0806030913k451bbbc5sb656a779f591cf56@mail.gmail.com>
References: <e741d0dd0805151209h263089aaj9a90f1638d2c1487@mail.gmail.com>
	<200806020002.41567.borys@wolf.most.org.pl>
	<e8e7199c0806030913k451bbbc5sb656a779f591cf56@mail.gmail.com>
Message-ID: <200806041220.57866.borys@wolf.most.org.pl>

During works on the Installer I've noticed one issue. There are two similar 
elemenets in a repository XML, <file_name> and <downolad_url>. They match in 
most cases, but of course sometimes some mistakes happen. On example:

<file_name>random.zip</file_name>
<download_url>http://www.geog.uvic.ca/spar/carson/randomselect.zip</download_url>

It seems the <file_name> element is less trustwortly and even isn't necessary. 
It's used only as a target name for zip downloading before unpacking.

So I'm going to drop the use of it by the Installer and take it for 
depreciated (thought of course still required for back compatibility). But 
maybe I don't appreciate the reason for it was introduced? Are there any for 
keeping it?

Regards,
B.
From marco.pasetti at alice.it  Wed Jun  4 07:12:15 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Wed Jun  4 07:12:22 2008
Subject: [Qgis-developer] GSL 1.11 and QGIS
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB4213@FBCMST06V02.fbc.local>

Hi all,
 
I'm refreshing the MSYS environment and building on Vista.
 
I noticed that GSL 1.11 has been released, while I previously built QGIS using the 1.9 release.
Did someone build QGIS using the 1.11 release of GSL? is it all OK with it?
 
I ask it because, for example, the latest GEOS release does not compile with QGIS, and the previous 2.2.3 release is needed instead the latest 3.0.0
 
Since GSL is only one of the early steps of a long compilation task process, it would be very regrettable to find out that, at the end of all the builds, QGIS does not compile with the 1.11 release of GSL.
 
Thanks in advance,
 
Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080604/e83815f0/attachment.html
From jef at norbit.de  Wed Jun  4 11:42:40 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Jun  4 11:42:47 2008
Subject: [Qgis-developer] GSL 1.11 and QGIS
In-Reply-To: <FA8A693893F4CE4283B4473C79FA47D505BB4213@FBCMST06V02.fbc.local>
References: <FA8A693893F4CE4283B4473C79FA47D505BB4213@FBCMST06V02.fbc.local>
Message-ID: <20080604154240.GA30640@norbit.de>

Hi Marco,

On Wed, 04. Jun 2008 at 13:12:15 +0200, marco.pasetti@alice.it wrote:
> I noticed that GSL 1.11 has been released, while I previously built
> QGIS using the 1.9 release.  Did someone build QGIS using the 1.11
> release of GSL? is it all OK with it?

> I ask it because, for example, the latest GEOS release does not
> compile with QGIS, and the previous 2.2.3 release is needed instead
> the latest 3.0.0

Hm, debian unstable currently carries geos 3.0.0 and gsl 1.11 and QGIS
compiles fine with it.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From marco.pasetti at alice.it  Wed Jun  4 11:43:51 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Wed Jun  4 11:44:09 2008
Subject: R: [Qgis-developer] GSL 1.11 and QGIS
References: <FA8A693893F4CE4283B4473C79FA47D505BB4213@FBCMST06V02.fbc.local>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB4214@FBCMST06V02.fbc.local>

Hi all,
 
just a little specification:
 
>Did someone build QGIS using the 1.11 release of GSL? is it all OK with it?
 
I meant on Linux or Mac, obviously :-)
Please, could someone try it? ...it's a messy month for me, and I don't want to be late with the QGIS release plan :-)
Thanks
 
Marco

________________________________

Da: qgis-developer-bounces@lists.osgeo.org per conto di marco.pasetti@alice.it
Inviato: mer 04/06/2008 13.12
A: qgis-developer@lists.osgeo.org
Oggetto: [Qgis-developer] GSL 1.11 and QGIS


Hi all,
 
I'm refreshing the MSYS environment and building on Vista.
 
I noticed that GSL 1.11 has been released, while I previously built QGIS using the 1.9 release.
Did someone build QGIS using the 1.11 release of GSL? is it all OK with it?
 
I ask it because, for example, the latest GEOS release does not compile with QGIS, and the previous 2.2.3 release is needed instead the latest 3.0.0
 
Since GSL is only one of the early steps of a long compilation task process, it would be very regrettable to find out that, at the end of all the builds, QGIS does not compile with the 1.11 release of GSL.
 
Thanks in advance,
 
Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080604/5f9d615b/attachment-0001.html
From Sidonie.christophe at ign.fr  Wed Jun  4 09:44:15 2008
From: Sidonie.christophe at ign.fr (Sidonie Christophe)
Date: Wed Jun  4 12:02:26 2008
Subject: [Qgis-developer] Colour chooser and basic colours
Message-ID: <008601c8c649$14778ab0$c20110ac@ign.fr>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: basiccolours.jpg
Type: image/jpeg
Size: 12325 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080604/187efbd8/basiccolours.jpg
From tim at linfiniti.com  Wed Jun  4 12:19:01 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Jun  4 12:19:03 2008
Subject: [Qgis-developer] Colour chooser and basic colours
In-Reply-To: <008601c8c649$14778ab0$c20110ac@ign.fr>
References: <008601c8c649$14778ab0$c20110ac@ign.fr>
Message-ID: <d368056f0806040919g4e770a4dt88148858017edf08@mail.gmail.com>

Hi Sidonie

Those colours you refer to are obtained from the windows system. If
you run QGIS under mac os x you do not have such a 'base colours'
pallette at all. There are other areas where we used developer defined
colours such as the 'pseudocolor' renderer for grayscale rasters an
ramped colours for 'continuous color' vector symbolisation. In the
case of seudocolor render for raster, my choice of pallette was
determined by the desire to have a representation that was useful for
illustrating probability distribution maps for species. Marco
Hugentobler can probably comment on the colour choices for vector
symbologies.

One final thing to add is that in QGIS 2.0 one of the things I would
like to do is support popular open mapping pallettes such as:

http://sview01.wiredworkplace.net/pub/cpt-city/

http://www.geos.ed.ac.uk/it/howto/GMT/CPT/


Hope that at least partially answers your question...

Regards

Tim

2008/6/4 Sidonie Christophe <Sidonie.christophe@ign.fr>:
> Good afternoon,
>
>
>
> I'm sorry if I write on the wrong place, but my question is for the QGis
> developers and particurlarly ones who implemented the colour chooser.
>
> I'm a PhD Student and I'm working on the conception of efficient legends.
> I'm doing a state of art on the current tools to manage colours during the
> legend design process. I'm wondering how you conceived the colour chooser
> and specifically what you call "Basic colours" on the left of the interface:
> we can find here some kinds of colours schemes. Is it possible to know which
> rules did you choose to propose these schemes and not others? My question is
> not a technical one, I'm just interested by the motivation and the process
> to propose these colours schemes.
>
> Let me know if I don't ask in the right place.
>
> Thanksfully,
>
> Sidonie
>
>
>
> -----------------------------------------------------------------------
>
> Sidonie CHRISTOPHE
>
> IGN ? Research Service ? COGIT Lab
>
> France
>
> Sidonie.christophe@ign.fr
>
> http://recherche.ign.fr/labos/cogit/english/cv.php?prenom=Sidonie&nom=Christophe
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From marco.pasetti at alice.it  Wed Jun  4 15:00:40 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Wed Jun  4 15:00:47 2008
Subject: [Qgis-developer] GSL 1.11 and QGIS
In-Reply-To: <20080604154240.GA30640@norbit.de>
References: <FA8A693893F4CE4283B4473C79FA47D505BB4213@FBCMST06V02.fbc.local>
	<20080604154240.GA30640@norbit.de>
Message-ID: <20BEDDDA8BF84C0ABB143B7763D8061B@HPMarco>

Jurgen,

we posted exactly at the same time!! :DD

IIRC I had problems compiling GEOS 3.0.0 and QGIS 0.9.x; I never tried with 
1.0
Do you think that QGIS could have enhancements upgrading GEOS from 2.2.3 to 
3.0.0? the same upgrading GSL from 1.9 to 1.11?

BTW, I think that I'll upgrade GSL but not GEOS (I don't want to risk!),
unless you tell me that GEOS 3.0.0 introduces important enhacements for 
QGIS.

Thanks

Marco

----- Original Message ----- 
From: "J?rgen E. Fischer" <jef@norbit.de>
To: <qgis-developer@lists.osgeo.org>
Sent: Wednesday, June 04, 2008 5:42 PM
Subject: Re: [Qgis-developer] GSL 1.11 and QGIS


> Hi Marco,
>
> On Wed, 04. Jun 2008 at 13:12:15 +0200, marco.pasetti@alice.it wrote:
>> I noticed that GSL 1.11 has been released, while I previously built
>> QGIS using the 1.9 release.  Did someone build QGIS using the 1.11
>> release of GSL? is it all OK with it?
>
>> I ask it because, for example, the latest GEOS release does not
>> compile with QGIS, and the previous 2.2.3 release is needed instead
>> the latest 3.0.0
>
> Hm, debian unstable currently carries geos 3.0.0 and gsl 1.11 and QGIS
> compiles fine with it.
>
>
> J?rgen
>
> -- 
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. 
> +49-4931-918175-50
> Software Engineer         D-26506 Norden 
> http://www.norbit.de
>
> -- 
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer 

From Melissa.Beaver at greensboro-nc.gov  Wed Jun  4 15:36:09 2008
From: Melissa.Beaver at greensboro-nc.gov (Beaver, Melissa)
Date: Wed Jun  4 15:52:04 2008
Subject: [Qgis-developer] HELP
In-Reply-To: <20080604190049.529E9E01930@lists.osgeo.org>
References: <20080604190049.529E9E01930@lists.osgeo.org>
Message-ID: <038ECED6C286904CA93C8A76ABC45DF511E44769@VENUS.greensboronc.org>

Please unsubscribe me, thanks!

~Melissa Beaver~

-----Original Message-----
From: qgis-developer-bounces@lists.osgeo.org [mailto:qgis-developer-bounces@lists.osgeo.org] On Behalf Of qgis-developer-request@lists.osgeo.org
Sent: Wednesday, June 04, 2008 3:01 PM
To: qgis-developer@lists.osgeo.org
Subject: Qgis-developer Digest, Vol 28, Issue 11

Send Qgis-developer mailing list submissions to
	qgis-developer@lists.osgeo.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://lists.osgeo.org/mailman/listinfo/qgis-developer
or, via email, send a message with subject or body 'help' to
	qgis-developer-request@lists.osgeo.org

You can reach the person managing the list at
	qgis-developer-owner@lists.osgeo.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Qgis-developer digest..."


Today's Topics:

   1. Colour chooser and basic colours (Sidonie Christophe)
   2. Re: Colour chooser and basic colours (Tim Sutton)
   3. Re: GSL 1.11 and QGIS (Marco Pasetti)


----------------------------------------------------------------------

Message: 1
Date: Wed, 4 Jun 2008 15:44:15 +0200
From: "Sidonie Christophe" <Sidonie.christophe@ign.fr>
Subject: [Qgis-developer] Colour chooser and basic colours
To: <qgis-developer@lists.osgeo.org>
Message-ID: <008601c8c649$14778ab0$c20110ac@ign.fr>
Content-Type: text/plain; charset="us-ascii"

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: basiccolours.jpg
Type: image/jpeg
Size: 12325 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080604/187efbd8/basiccolours-0001.jpg

------------------------------

Message: 2
Date: Wed, 4 Jun 2008 18:19:01 +0200
From: "Tim Sutton" <tim@linfiniti.com>
Subject: Re: [Qgis-developer] Colour chooser and basic colours
To: "Sidonie Christophe" <Sidonie.christophe@ign.fr>
Cc: qgis-developer@lists.osgeo.org
Message-ID:
	<d368056f0806040919g4e770a4dt88148858017edf08@mail.gmail.com>
Content-Type: text/plain; charset=WINDOWS-1252

Hi Sidonie

Those colours you refer to are obtained from the windows system. If
you run QGIS under mac os x you do not have such a 'base colours'
pallette at all. There are other areas where we used developer defined
colours such as the 'pseudocolor' renderer for grayscale rasters an
ramped colours for 'continuous color' vector symbolisation. In the
case of seudocolor render for raster, my choice of pallette was
determined by the desire to have a representation that was useful for
illustrating probability distribution maps for species. Marco
Hugentobler can probably comment on the colour choices for vector
symbologies.

One final thing to add is that in QGIS 2.0 one of the things I would
like to do is support popular open mapping pallettes such as:

http://sview01.wiredworkplace.net/pub/cpt-city/

http://www.geos.ed.ac.uk/it/howto/GMT/CPT/


Hope that at least partially answers your question...

Regards

Tim

2008/6/4 Sidonie Christophe <Sidonie.christophe@ign.fr>:
> Good afternoon,
>
>
>
> I'm sorry if I write on the wrong place, but my question is for the QGis
> developers and particurlarly ones who implemented the colour chooser.
>
> I'm a PhD Student and I'm working on the conception of efficient legends.
> I'm doing a state of art on the current tools to manage colours during the
> legend design process. I'm wondering how you conceived the colour chooser
> and specifically what you call "Basic colours" on the left of the interface:
> we can find here some kinds of colours schemes. Is it possible to know which
> rules did you choose to propose these schemes and not others? My question is
> not a technical one, I'm just interested by the motivation and the process
> to propose these colours schemes.
>
> Let me know if I don't ask in the right place.
>
> Thanksfully,
>
> Sidonie
>
>
>
> -----------------------------------------------------------------------
>
> Sidonie CHRISTOPHE
>
> IGN - Research Service - COGIT Lab
>
> France
>
> Sidonie.christophe@ign.fr
>
> http://recherche.ign.fr/labos/cogit/english/cv.php?prenom=Sidonie&nom=Christophe
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net


------------------------------

Message: 3
Date: Wed, 4 Jun 2008 21:00:40 +0200
From: "Marco Pasetti" <marco.pasetti@alice.it>
Subject: Re: [Qgis-developer] GSL 1.11 and QGIS
To: J?rgen E. Fischer <jef@norbit.de>,
	<qgis-developer@lists.osgeo.org>
Message-ID: <20BEDDDA8BF84C0ABB143B7763D8061B@HPMarco>
Content-Type: text/plain; format=flowed; charset="iso-8859-1";
	reply-type=original

Jurgen,

we posted exactly at the same time!! :DD

IIRC I had problems compiling GEOS 3.0.0 and QGIS 0.9.x; I never tried with 
1.0
Do you think that QGIS could have enhancements upgrading GEOS from 2.2.3 to 
3.0.0? the same upgrading GSL from 1.9 to 1.11?

BTW, I think that I'll upgrade GSL but not GEOS (I don't want to risk!),
unless you tell me that GEOS 3.0.0 introduces important enhacements for 
QGIS.

Thanks

Marco

----- Original Message ----- 
From: "J?rgen E. Fischer" <jef@norbit.de>
To: <qgis-developer@lists.osgeo.org>
Sent: Wednesday, June 04, 2008 5:42 PM
Subject: Re: [Qgis-developer] GSL 1.11 and QGIS


> Hi Marco,
>
> On Wed, 04. Jun 2008 at 13:12:15 +0200, marco.pasetti@alice.it wrote:
>> I noticed that GSL 1.11 has been released, while I previously built
>> QGIS using the 1.9 release.  Did someone build QGIS using the 1.11
>> release of GSL? is it all OK with it?
>
>> I ask it because, for example, the latest GEOS release does not
>> compile with QGIS, and the previous 2.2.3 release is needed instead
>> the latest 3.0.0
>
> Hm, debian unstable currently carries geos 3.0.0 and gsl 1.11 and QGIS
> compiles fine with it.
>
>
> J?rgen
>
> -- 
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. 
> +49-4931-918175-50
> Software Engineer         D-26506 Norden 
> http://www.norbit.de
>
> -- 
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer 



------------------------------

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer


End of Qgis-developer Digest, Vol 28, Issue 11
**********************************************
=======================================================
Please note that email sent to and from this address is subject 
to the North Carolina Public Records Law and may be disclosed to 
third parties.

From otto.dassau at gmx.de  Wed Jun  4 17:04:06 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Wed Jun  4 17:04:10 2008
Subject: [Qgis-developer] HELP
In-Reply-To: <038ECED6C286904CA93C8A76ABC45DF511E44769@VENUS.greensboronc.org>
References: <20080604190049.529E9E01930@lists.osgeo.org>
	<038ECED6C286904CA93C8A76ABC45DF511E44769@VENUS.greensboronc.org>
Message-ID: <1212613446.9747.8.camel@sonne>

Am Mittwoch, den 04.06.2008, 15:36 -0400 schrieb Beaver, Melissa:
> Please unsubscribe me, thanks!
> 
> ~Melissa Beaver~

done. You are unsubscribed from qgis developer mailing list.

kind regards,
 Otto

> -----Original Message-----
> From: qgis-developer-bounces@lists.osgeo.org [mailto:qgis-developer-bounces@lists.osgeo.org] On Behalf Of qgis-developer-request@lists.osgeo.org
> Sent: Wednesday, June 04, 2008 3:01 PM
> To: qgis-developer@lists.osgeo.org
> Subject: Qgis-developer Digest, Vol 28, Issue 11
> 
> Send Qgis-developer mailing list submissions to
> 	qgis-developer@lists.osgeo.org
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://lists.osgeo.org/mailman/listinfo/qgis-developer
> or, via email, send a message with subject or body 'help' to
> 	qgis-developer-request@lists.osgeo.org
> 
> You can reach the person managing the list at
> 	qgis-developer-owner@lists.osgeo.org
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Qgis-developer digest..."
> 
> 
> Today's Topics:
> 
>    1. Colour chooser and basic colours (Sidonie Christophe)
>    2. Re: Colour chooser and basic colours (Tim Sutton)
>    3. Re: GSL 1.11 and QGIS (Marco Pasetti)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Wed, 4 Jun 2008 15:44:15 +0200
> From: "Sidonie Christophe" <Sidonie.christophe@ign.fr>
> Subject: [Qgis-developer] Colour chooser and basic colours
> To: <qgis-developer@lists.osgeo.org>
> Message-ID: <008601c8c649$14778ab0$c20110ac@ign.fr>
> Content-Type: text/plain; charset="us-ascii"
> 
> Skipped content of type multipart/alternative-------------- next part --------------
> A non-text attachment was scrubbed...
> Name: basiccolours.jpg
> Type: image/jpeg
> Size: 12325 bytes
> Desc: not available
> Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080604/187efbd8/basiccolours-0001.jpg
> 
> ------------------------------
> 
> Message: 2
> Date: Wed, 4 Jun 2008 18:19:01 +0200
> From: "Tim Sutton" <tim@linfiniti.com>
> Subject: Re: [Qgis-developer] Colour chooser and basic colours
> To: "Sidonie Christophe" <Sidonie.christophe@ign.fr>
> Cc: qgis-developer@lists.osgeo.org
> Message-ID:
> 	<d368056f0806040919g4e770a4dt88148858017edf08@mail.gmail.com>
> Content-Type: text/plain; charset=WINDOWS-1252
> 
> Hi Sidonie
> 
> Those colours you refer to are obtained from the windows system. If
> you run QGIS under mac os x you do not have such a 'base colours'
> pallette at all. There are other areas where we used developer defined
> colours such as the 'pseudocolor' renderer for grayscale rasters an
> ramped colours for 'continuous color' vector symbolisation. In the
> case of seudocolor render for raster, my choice of pallette was
> determined by the desire to have a representation that was useful for
> illustrating probability distribution maps for species. Marco
> Hugentobler can probably comment on the colour choices for vector
> symbologies.
> 
> One final thing to add is that in QGIS 2.0 one of the things I would
> like to do is support popular open mapping pallettes such as:
> 
> http://sview01.wiredworkplace.net/pub/cpt-city/
> 
> http://www.geos.ed.ac.uk/it/howto/GMT/CPT/
> 
> 
> Hope that at least partially answers your question...
> 
> Regards
> 
> Tim
> 
> 2008/6/4 Sidonie Christophe <Sidonie.christophe@ign.fr>:
> > Good afternoon,
> >
> >
> >
> > I'm sorry if I write on the wrong place, but my question is for the QGis
> > developers and particurlarly ones who implemented the colour chooser.
> >
> > I'm a PhD Student and I'm working on the conception of efficient legends.
> > I'm doing a state of art on the current tools to manage colours during the
> > legend design process. I'm wondering how you conceived the colour chooser
> > and specifically what you call "Basic colours" on the left of the interface:
> > we can find here some kinds of colours schemes. Is it possible to know which
> > rules did you choose to propose these schemes and not others? My question is
> > not a technical one, I'm just interested by the motivation and the process
> > to propose these colours schemes.
> >
> > Let me know if I don't ask in the right place.
> >
> > Thanksfully,
> >
> > Sidonie
> >
> >
> >
> > -----------------------------------------------------------------------
> >
> > Sidonie CHRISTOPHE
> >
> > IGN - Research Service - COGIT Lab
> >
> > France
> >
> > Sidonie.christophe@ign.fr
> >
> > http://recherche.ign.fr/labos/cogit/english/cv.php?prenom=Sidonie&nom=Christophe
> >
> >
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> 
> 
> 

From stefie10 at media.mit.edu  Wed Jun  4 22:34:55 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Wed Jun  4 22:42:25 2008
Subject: [Qgis-developer] calling createEmptyDataSource from python
Message-ID: <484750CF.7000301@media.mit.edu>

Hi,

Is there a way to call the ogr provider's createEmptyDataSource function 
from python?  I could try using ctypes, but I wasn't sure if it would 
work with the sip interface.  Combining two ways of talking to C/C++ 
from python seems hairy.

I played around with adding it via SIP, but it also got hairy. SIP seems 
to like separate modules for C and C++ interfaces, and there aren't 
(yet) provider specific python modules.

I can do the work to add it to the python interface, but advice on the 
best way to do it would be great.

Thanks!

Stefanie
From agruson at archivideo.com  Thu Jun  5 05:41:41 2008
From: agruson at archivideo.com (Adrien Gruson)
Date: Thu Jun  5 06:02:38 2008
Subject: [Qgis-developer] patch for split feature issue
Message-ID: <4847B4D5.6040702@archivideo.com>

Hi all,
i was post 2 week ago a bug in the trac 
(http://trac.osgeo.org/qgis/ticket/1103) because some case the copy of 
attributs have some issues.
The problem was in QgsVectorLayer::featuresInRectangle :
The problem is in this code
|for(changedIt = mChangedGeometries.begin(); changedIt != 
mChangedGeometries.end(); ++changedIt)
{
[...]
 if(fetchAttributes)
 {
    QgsFeature tmpFeature;
    mDataProvider->getFeatureAtId(changedIt.key(), tmpFeature, false, 
mDataProvider->allAttributesList());
    newFeature.setAttributeMap(tmpFeature.attributeMap());
  }
  features.push_back(newFeature);
}}
|
Because if the feature is in mAddedFeature the function |getFeatureAtId 
|Return no attribut (because the feature isn't commited).||
||
Regards,

Adrien Gruson.

_
Patch :_

Index: /raid/homes/agruson/workspace/SVN_Src_Qgis/core/qgsvectorlayer.cpp
===================================================================
--- 
/raid/homes/agruson/workspace/SVN_Src_Qgis/core/qgsvectorlayer.cpp    
(revision 8593)
+++ 
/raid/homes/agruson/workspace/SVN_Src_Qgis/core/qgsvectorlayer.cpp    
(working copy)
@@ -1273,10 +1273,30 @@
         }
       if(fetchAttributes)
         {
-          QgsFeature tmpFeature;
-          mDataProvider->getFeatureAtId(changedIt.key(), tmpFeature, 
false, mDataProvider->allAttributesList());
-          newFeature.setAttributeMap(tmpFeature.attributeMap());
-         
+          if(changedIt.key()<0)
+          {
+              //The feature is in mAddedFeature's list because its id<0
+              bool findMyFeature = false;
+              for (QgsFeatureList::iterator iter = 
mAddedFeatures.begin(); iter != mAddedFeatures.end(); ++iter)
+              {
+                if(iter->featureId()==changedIt.key())
+                {
+                  findMyFeature = true;
+                  newFeature.setAttributeMap(iter->attributeMap());
+                  break;
+                }
+              }
+              if(!findMyFeature)
+              {
+                QgsLogger::warning("No attribute for the feature");
+              }
+          }
+          else
+          {
+              QgsFeature tmpFeature;
+              mDataProvider->getFeatureAtId(changedIt.key(), 
tmpFeature, false, mDataProvider->allAttributesList());
+              newFeature.setAttributeMap(tmpFeature.attributeMap()); 
+          }
         }
       features.push_back(newFeature);
     }

From marco.hugentobler at karto.baug.ethz.ch  Thu Jun  5 06:47:06 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Thu Jun  5 06:50:01 2008
Subject: AW: [Qgis-developer] patch for split feature issue
References: <4847B4D5.6040702@archivideo.com>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF85E@EX6.d.ethz.ch>

Hi Adrien,

Thanks a lot for providing this fix!
I'm going to look at it when I'm back in office tomorrow.

Regards,
Marco 


-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Adrien Gruson
Gesendet: Do 05.06.2008 11:41
An: qgis-developer@lists.osgeo.org
Betreff: [Qgis-developer] patch for split feature issue
 
Hi all,
i was post 2 week ago a bug in the trac 
(http://trac.osgeo.org/qgis/ticket/1103) because some case the copy of 
attributs have some issues.
The problem was in QgsVectorLayer::featuresInRectangle :
The problem is in this code
|for(changedIt = mChangedGeometries.begin(); changedIt != 
mChangedGeometries.end(); ++changedIt)
{
[...]
 if(fetchAttributes)
 {
    QgsFeature tmpFeature;
    mDataProvider->getFeatureAtId(changedIt.key(), tmpFeature, false, 
mDataProvider->allAttributesList());
    newFeature.setAttributeMap(tmpFeature.attributeMap());
  }
  features.push_back(newFeature);
}}
|
Because if the feature is in mAddedFeature the function |getFeatureAtId 
|Return no attribut (because the feature isn't commited).||
||
Regards,

Adrien Gruson.

_
Patch :_

Index: /raid/homes/agruson/workspace/SVN_Src_Qgis/core/qgsvectorlayer.cpp
===================================================================
--- 
/raid/homes/agruson/workspace/SVN_Src_Qgis/core/qgsvectorlayer.cpp    
(revision 8593)
+++ 
/raid/homes/agruson/workspace/SVN_Src_Qgis/core/qgsvectorlayer.cpp    
(working copy)
@@ -1273,10 +1273,30 @@
         }
       if(fetchAttributes)
         {
-          QgsFeature tmpFeature;
-          mDataProvider->getFeatureAtId(changedIt.key(), tmpFeature, 
false, mDataProvider->allAttributesList());
-          newFeature.setAttributeMap(tmpFeature.attributeMap());
-         
+          if(changedIt.key()<0)
+          {
+              //The feature is in mAddedFeature's list because its id<0
+              bool findMyFeature = false;
+              for (QgsFeatureList::iterator iter = 
mAddedFeatures.begin(); iter != mAddedFeatures.end(); ++iter)
+              {
+                if(iter->featureId()==changedIt.key())
+                {
+                  findMyFeature = true;
+                  newFeature.setAttributeMap(iter->attributeMap());
+                  break;
+                }
+              }
+              if(!findMyFeature)
+              {
+                QgsLogger::warning("No attribute for the feature");
+              }
+          }
+          else
+          {
+              QgsFeature tmpFeature;
+              mDataProvider->getFeatureAtId(changedIt.key(), 
tmpFeature, false, mDataProvider->allAttributesList());
+              newFeature.setAttributeMap(tmpFeature.attributeMap()); 
+          }
         }
       features.push_back(newFeature);
     }

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From tutey at o2.pl  Thu Jun  5 09:08:02 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Thu Jun  5 09:07:46 2008
Subject: [Qgis-developer] Warnings at minimal window size
Message-ID: <4847E532.1000900@o2.pl>

Hi

After QGIS windows is resized to it's minimum, some Warnings and Errors
are printed to the terminal:

Warning: X Error: BadDrawable (invalid Pixmap or Window parameter) 9
Major opcode: 55 (X_CreateGC)
Resource id: 0x0
Warning: X Error: BadGC (invalid GC parameter) 13
Major opcode: 56 (X_ChangeGC)
Resource id: 0x3200a8e
Warning: X Error: BadDrawable (invalid Pixmap or Window parameter) 9
Major opcode: 70 (X_PolyFillRectangle)
Resource id: 0x0
Warning: X Error: BadGC (invalid GC parameter) 13
Major opcode: 60 (X_FreeGC)
Resource id: 0x3200a8e
Warning: X Error: BadDrawable (invalid Pixmap or Window parameter) 9
Major opcode: 55 (X_CreateGC)
Resource id: 0x0
Warning: X Error: BadDrawable (invalid Pixmap or Window parameter) 9
Major opcode: 55 (X_CreateGC)
Resource id: 0x0
Warning: X Error: BadGC (invalid GC parameter) 13
Major opcode: 60 (X_FreeGC)
Resource id: 0x3200a90
Warning: X Error: BadGC (invalid GC parameter) 13
Major opcode: 60 (X_FreeGC)
Resource id: 0x3200a8f



Is that normal?

SVN trunk 8594, QT 4.4.0, amd64 Debian testing.

-- 
Maciej Sieczka
www.sieczka.org

From stefie10 at media.mit.edu  Thu Jun  5 16:46:35 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Thu Jun  5 16:47:01 2008
Subject: [Qgis-developer] calling createEmptyDataSource from python
In-Reply-To: <484750CF.7000301@media.mit.edu>
References: <484750CF.7000301@media.mit.edu>
Message-ID: <484850AB.2050508@media.mit.edu>

Hi,

I wrote a patch that makes it possible to call createEmptyDataSource 
from python, against revision 8592. It's kind of big.  There are three 
parts:

1.  Changes to qgisapp.cpp, qgsvectordataprovider.cpp, 
qgsvectordataprovider.h
   * qgisapp.cpp was looking up createEmptyDataSource dynamically in the 
ogr library.  I refactored this into a function in 
qgsvectordataprovider.  This function looks up the real 
createEmptyDataSource in exactly the same way, but takes an additional 
parameter that is the name of the provider.  qgisapp.cpp now calls this 
function.

2.  Changes to the python interface.
   * Updated conversions.sip to convert an std::list<std::pair<TYPE1, 
TYPE2>> to and from a list of tuples.  I didn't test the "to" code. 
(This is required to pass the attributes of the new data source.)
   * qgsvectordataprovider.sip - declare the new method, and added an 
extra include.  (The extra include is needed because it's a function, 
not a class method.)

3.  Error messages in qgsogrprovider.cpp.  I added a bunch of warnings 
to createEmptyDataSource to help debug the new code I wrote, when 
calling it from python.


Stefanie


(PS:  Here's my python test case:
     def testNewLayer(self):
         try:
             print createEmptyDataSource
             fname = "newlayertest"
             self.assertEqual(os.path.exists(fname), False)
             out = createEmptyDataSource("ogr", fname, "ESRI Shapefile", 
"System", QGis.WKBLineString,
                                         [("id", "Integer")])

             print "out", out
             self.assertEqual(out, True)
             self.assertEqual(os.path.exists(fname), True)

             layer = QgsVectorLayer("%s/%s.shp" % (fname, fname), "test 
layer", "ogr")
             self.assertEqual(layer.featureCount(), 0)
 
self.assertEqual(layer.getDataProvider().indexFromFieldName("id"), 0)
         finally:
             os.system("rm -rf %s" % (fname))
             pass
)


Stefanie Tellex wrote:
> Hi,
> 
> Is there a way to call the ogr provider's createEmptyDataSource function 
> from python?  I could try using ctypes, but I wasn't sure if it would 
> work with the sip interface.  Combining two ways of talking to C/C++ 
> from python seems hairy.
> 
> I played around with adding it via SIP, but it also got hairy. SIP seems 
> to like separate modules for C and C++ interfaces, and there aren't 
> (yet) provider specific python modules.
> 
> I can do the work to add it to the python interface, but advice on the 
> best way to do it would be great.
> 
> Thanks!
> 
> Stefanie
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
Index: qgis/qgis_unstable/src/core/qgsvectordataprovider.cpp
===================================================================
--- qgis.orig/qgis_unstable/src/core/qgsvectordataprovider.cpp	2008-06-05 10:16:54.000000000 -0400
+++ qgis/qgis_unstable/src/core/qgsvectordataprovider.cpp	2008-06-05 16:05:00.000000000 -0400
@@ -18,7 +18,8 @@
 
 #include <cfloat> // for DBL_MAX
 #include <climits>
-
+#include <QLibrary>
+#include "qgsproviderregistry.h"
 #include "qgsvectordataprovider.h"
 #include "qgsfeature.h"
 #include "qgsfield.h"
@@ -356,3 +357,42 @@
 
   mCacheMinMaxDirty = FALSE;
 }
+
+bool createEmptyDataSource(const QString& provider,
+			   const QString& filename,
+			   const QString& fileformat,
+			   const QString& enc,
+			   QGis::WKBTYPE geometrytype,
+			   const std::list<std::pair<QString, QString> >& attributes) {
+
+  QgsProviderRegistry * pReg = QgsProviderRegistry::instance();
+  QString lib = pReg->library(provider);
+  // load the data provider
+  QLibrary* myLib = new QLibrary(lib);
+  bool loaded = myLib->load();
+  typedef bool (*createEmptyDataSourceProc)(const QString&, const QString&, const QString&, QGis::WKBTYPE, const std::list<std::pair<QString, QString> >&);
+
+  createEmptyDataSourceProc createEmptyDataSource=(createEmptyDataSourceProc)myLib->resolve("createEmptyDataSource");
+
+  if(createEmptyDataSource)
+    {
+      if(geometrytype != QGis::WKBUnknown)
+      {
+	bool retval = createEmptyDataSource(filename,fileformat, enc, geometrytype, attributes);
+	if (! retval) {
+	  QgsLogger::warning("Could not greate data source.  See previous messages for details.");
+	}
+        return retval;
+      }
+      else
+      {
+	QgsLogger::warning("geometry type not recognised");
+        return FALSE;
+      }
+    }
+    else
+      {
+	QgsLogger::warning("Resolving newEmptyDataSource(...) failed");
+	return FALSE;
+    }
+}
Index: qgis/qgis_unstable/src/core/qgsvectordataprovider.h
===================================================================
--- qgis.orig/qgis_unstable/src/core/qgsvectordataprovider.h	2008-06-05 12:17:20.000000000 -0400
+++ qgis/qgis_unstable/src/core/qgsvectordataprovider.h	2008-06-05 12:37:57.000000000 -0400
@@ -295,4 +295,11 @@
       QSet<QString> mSupportedNativeTypes;
 };
 
+bool createEmptyDataSource(const QString& provider,
+			   const QString& filename,
+			   const QString& fileformat,
+			   const QString& enc,
+			   QGis::WKBTYPE geometrytype,
+			   const std::list<std::pair<QString, QString> >& attributes);
+
 #endif
Index: qgis/qgis_unstable/src/app/qgisapp.cpp
===================================================================
--- qgis.orig/qgis_unstable/src/app/qgisapp.cpp	2008-06-05 12:33:57.000000000 -0400
+++ qgis/qgis_unstable/src/app/qgisapp.cpp	2008-06-05 16:12:36.000000000 -0400
@@ -2683,51 +2683,13 @@
   settings.writeEntry("/UI/encoding", openFileDialog->encoding());
 
   delete openFileDialog;
-
-  //try to create the new layer with OGRProvider instead of QgsVectorFileWriter
-  QgsProviderRegistry * pReg = QgsProviderRegistry::instance();
-  QString ogrlib = pReg->library("ogr");
-  // load the data provider
-  QLibrary* myLib = new QLibrary(ogrlib);
-  bool loaded = myLib->load();
-  if (loaded)
-  {
-    QgsDebugMsg("ogr provider loaded");
-
-    typedef bool (*createEmptyDataSourceProc)(const QString&, const QString&, const QString&, QGis::WKBTYPE, \
-      const std::list<std::pair<QString, QString> >&);
-    createEmptyDataSourceProc createEmptyDataSource=(createEmptyDataSourceProc)myLib->resolve("createEmptyDataSource");
-    if(createEmptyDataSource)
-    {
-#if 0
-      if(geometrytype == QGis::WKBPoint)
-      {
-        createEmptyDataSource(filename,fileformat, enc, QGis::WKBPoint, attributes);
-      }
-      else if (geometrytype == QGis::WKBLineString)
-      {
-        createEmptyDataSource(filename,fileformat, enc, QGis::WKBLineString, attributes);
-      }
-      else if(geometrytype == QGis::WKBPolygon)
-      {
-        createEmptyDataSource(filename,fileformat, enc, QGis::WKBPolygon, attributes);
-      }
-#endif
-      if(geometrytype != QGis::WKBUnknown)
-      {
-        createEmptyDataSource(filename,fileformat, enc, geometrytype, attributes);
-      }
-      else
-      {
-        QgsDebugMsg("geometry type not recognised");
-        return;
-      }
-    }
-    else
-    {
-      QgsDebugMsg("Resolving newEmptyDataSource(...) failed");
+  QgsLogger::warning("format");
+  QgsLogger::warning(fileformat);
+  if (!createEmptyDataSource("ogr", filename, fileformat, enc,
+			     geometrytype, attributes)) {
+      QgsDebugMsg("Data source not created");
+      return;
     }
-  }
 
   //then add the layer to the view
   QStringList filenames;
Index: qgis/qgis_unstable/python/core/qgsvectordataprovider.sip
===================================================================
--- qgis.orig/qgis_unstable/python/core/qgsvectordataprovider.sip	2008-06-05 12:46:07.000000000 -0400
+++ qgis/qgis_unstable/python/core/qgsvectordataprovider.sip	2008-06-05 15:17:36.000000000 -0400
@@ -1,4 +1,9 @@
 
+%ModuleHeaderCode
+#include <qgsvectordataprovider.h>
+%End
+
+
 class QgsVectorDataProvider : QgsDataProvider
 {
 %TypeHeaderCode
@@ -239,3 +244,9 @@
       void setFetchFeaturesWithoutGeom(bool fetch);
 
 };
+bool createEmptyDataSource(const QString& provider,
+			   const QString& filename,
+			   const QString& fileformat,
+			   const QString& enc,
+			   QGis::WKBTYPE geometrytype,
+			   const std::list<std::pair<QString, QString> >& attributes);
Index: qgis/qgis_unstable/python/core/conversions.sip
===================================================================
--- qgis.orig/qgis_unstable/python/core/conversions.sip	2008-06-05 14:47:51.000000000 -0400
+++ qgis/qgis_unstable/python/core/conversions.sip	2008-06-05 16:32:35.000000000 -0400
@@ -8,6 +8,7 @@
 - QMap<int, QMap<int, TYPE> >
 - QMap<TYPE1, TYPE2*>
 - QMultiMap<double, TYPE2>
+- std::list<std::pair<TYPE1, TYPE2>>
 */
 
 %ModuleHeaderCode
@@ -631,3 +632,115 @@
     return sipGetState(sipTransferObj);
 %End
    };
+
+
+
+
+
+template<TYPE1, TYPE2>
+%MappedType std::list<std::pair<TYPE1, TYPE2>>
+{
+%TypeHeaderCode
+#include <list>
+#include <utility>
+%End
+
+%ConvertFromTypeCode
+    // Create the dictionary.
+    PyObject *list = PyList_New(0);
+
+    if (!list)
+        return NULL;
+
+    // Set the dictionary elements.
+    std::list<std::pair<TYPE1, TYPE2> >::const_iterator i = sipCpp->begin();
+
+    while (i != sipCpp->end())
+    {
+      TYPE1 t1 = i->first;
+      TYPE2 t2 = i->second;
+
+      PyObject *t1obj = sipConvertFromNewInstance(&t1, sipClass_TYPE1, sipTransferObj);
+      PyObject *t2obj = sipConvertFromInstance(&t2, sipClass_TYPE2, sipTransferObj);
+
+      PyObject *tuple = PyTuple_New(2);
+      if (PyTuple_SetItem(tuple, 0, t1obj) ||
+	  PyTuple_SetItem(tuple, 1, t2obj) ||
+	  PyList_Append(list, tuple)) {
+	Py_DECREF(list);
+	if (t1obj) {
+	  Py_DECREF(t1obj);
+	}
+	if (t2obj) {
+	  Py_DECREF(t2obj);
+	}
+	if (tuple) {
+	  Py_DECREF(tuple);
+	}
+	return NULL;
+      }
+
+      Py_DECREF(t1obj);
+      Py_DECREF(t2obj);
+
+        ++i;
+    }
+
+    return list;
+%End
+
+%ConvertToTypeCode
+    PyObject *t1obj, *t2obj;
+#if PY_VERSION_HEX >= 0x02050000
+    Py_ssize_t i = 0;
+#else
+    int i = 0;
+#endif
+
+    // Check the type if that is all that is required.
+    if (sipIsErr == NULL)
+    {
+        if (!PyList_Check(sipPy))
+            return 0;
+
+	for (i = 0; i < PyList_Size(sipPy); i++) {
+	  PyObject * tuple = PyList_GetItem(sipPy, i);
+	  t1obj = PyTuple_GetItem(tuple, 0);
+	  t2obj = PyTuple_GetItem(tuple, 1);
+	  if (!sipCanConvertToInstance(t1obj, sipClass_TYPE1, SIP_NOT_NONE))
+	    return 0;
+
+	  if (!sipCanConvertToInstance(t2obj, sipClass_TYPE2, SIP_NOT_NONE))
+	    return 0;
+        }
+        return 1;
+    }
+
+    std::list<std::pair<TYPE1, TYPE2> > *list = new std::list<std::pair<TYPE1, TYPE2> >;
+    for (i = 0; i < PyList_Size(sipPy); i++) {
+      int state1, state2;
+      PyObject * tuple = PyList_GetItem(sipPy, i);
+      PyObject * sip1 = PyTuple_GetItem(tuple, 0);
+      PyObject * sip2 = PyTuple_GetItem(tuple, 1);
+
+      TYPE1 * t1 = reinterpret_cast<TYPE1 *>(sipConvertToInstance(sip1, sipClass_TYPE1, sipTransferObj, SIP_NOT_NONE, &state1, sipIsErr));
+      TYPE2 * t2 = reinterpret_cast<TYPE2 *>(sipConvertToInstance(sip2, sipClass_TYPE2, sipTransferObj, SIP_NOT_NONE, &state2, sipIsErr));
+      if (*sipIsErr)
+        {
+	  sipReleaseInstance(t1, sipClass_TYPE1, state1);
+	  sipReleaseInstance(t2, sipClass_TYPE2, state2);
+	  delete list;
+	  return 0;
+        }
+
+      list->push_back(std::pair<TYPE1, TYPE2>(*t1, *t2));
+      sipReleaseInstance(t1, sipClass_TYPE1, state1);
+      sipReleaseInstance(t2, sipClass_TYPE2, state2);
+    }
+
+    *sipCppPtr = list;
+
+    return sipGetState(sipTransferObj);
+%End
+};
+
Index: qgis/qgis_unstable/src/providers/ogr/qgsogrprovider.cpp
===================================================================
--- qgis.orig/qgis_unstable/src/providers/ogr/qgsogrprovider.cpp	2008-06-05 16:03:12.000000000 -0400
+++ qgis/qgis_unstable/src/providers/ogr/qgsogrprovider.cpp	2008-06-05 16:32:32.000000000 -0400
@@ -1132,6 +1132,10 @@
   driver = OGRGetDriverByName(format.toAscii());
   if(driver == NULL)
   {
+    QString msg = "Failed to get the driver.";
+    msg.append(" Name: ");
+    msg.append(format);
+    QgsLogger::warning(msg);
     return false;
   }
 
@@ -1139,6 +1143,7 @@
   dataSource = OGR_Dr_CreateDataSource(driver,QFile::encodeName(uri).constData(), NULL);
   if(dataSource == NULL)
   {
+    QgsLogger::warning("Failed to create the data source.");
     return false;
   }
 
@@ -1177,8 +1182,7 @@
     break;
   default:
     {
-      QgsLogger::debug("Unknown vector type of: ", (int)(vectortype), 1, 
-        __FILE__, __FUNCTION__, __LINE__);
+      QgsLogger::warning("Unknown vector type of");
       return false;
       break;
     }
@@ -1188,6 +1192,7 @@
   layer = OGR_DS_CreateLayer(dataSource,QFile::encodeName(QFileInfo(uri).baseName()).constData(), reference, OGRvectortype, NULL);
   if(layer == NULL)
   {
+    QgsLogger::warning("Could not create layer");
     return false;
   }
 
@@ -1224,6 +1229,12 @@
         QgsLogger::warning("creation of OFTString field failed");
       }
     }
+    else {
+      QString msg = "Unknown attribute type.  Ignoring attribute. ";
+      msg.append(" Type: ");
+      msg.append(it->second);
+      QgsLogger::warning(msg);
+    }
   }
 
   OGR_DS_Destroy(dataSource);
From telwertowski at comcast.net  Fri Jun  6 03:08:08 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Fri Jun  6 03:08:12 2008
Subject: [Qgis-developer] [Mac OSX] Build error with CMake 2.6
In-Reply-To: <48417955.4010400@comcast.net>
References: <48417955.4010400@comcast.net>
Message-ID: <4848E258.7060201@comcast.net>

Tom Elwertowski wrote:
> CMake 2.4 and 2.6 appear somewhat incompatible, at least for Macs.
> 
> Regarding Contents/CMakeLists.txt, I am baffled by the quote processing. 

I upgraded the Mac Info.plist generation process to use a cmake script containing CONFIGURE_FILE rather running grep/sed. Magnus Homann improved the generation of qgssvnversion.h by doing this awhile ago. Using the same technique for inserting the svn revision number here avoids solving the CMake 2.6 quoting mystery.

Tom


> Tim Sutton wrote:
>> Hi Folks
>>
>> I've been testing out CMake 2.6.0 which recently came out. On mac I  
>> get everything to build except it croaks at the end with this:
>>
>> Linking CXX shared module libquickprintplugin.so
>> [100%] Built target quickprintplugin
>> /bin/sh: -c: line 1: unexpected EOF while looking for matching ``'
>> /bin/sh: -c: line 2: syntax error: unexpected end of file
>> make[2]: *** [src/mac/Contents/CMakeFiles/Info.plist] Error 2
>> make[1]: *** [src/mac/Contents/CMakeFiles/Info.plist.dir/all] Error 2
>> make: *** [all] Error 2
>>
>> It seems it has  problem parsing the bash commands in the src/mac/ 
>> Contents/CMakeLists.txt. Is this something you are easily able to fix  
>> Tom? I had a poke at it but all I can figure out is that cmake seems  
>> to be wrapping the expression in "" or something, but I couldnt  
>> figure out how to resolve the issue.
>>
>> Regards
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From a.ghisla at studenti.uninsubria.it  Fri Jun  6 08:12:45 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Fri Jun  6 08:12:51 2008
Subject: [Qgis-developer] SoC Report: homerange analysis plugin for QGIS
	using R through Python
Message-ID: <1212754365.6539.22.camel@galadriel>

Hello all,

let's update the community about the progress made so far! I'll also
update the wiki as soon as possible.

1. What did you get done this week?
- worked on R code, refined the two main functions
- set up the SVN repository: 
	svn://home.prea.net/svn/GSoC/
  and populated it with the R code above.

2. What do you plan on doing next week?
- mainly, preparing the Java programming exam (until 20.6)
- examine the code of other Python plugins
- read documentation
- read the gift book :)

3. Are you blocked on anything?
excluding this exam, no, but the next two weeks will be low-activity for
SoC.

best regards,

Anne Ghisla
--
Universit? dell'Insubria, Varese (Italy)
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080606/c4e7d754/attachment.bin
From tim at linfiniti.com  Fri Jun  6 09:49:29 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Jun  6 09:49:31 2008
Subject: [Qgis-developer] [Mac OSX] Build error with CMake 2.6
In-Reply-To: <4848E258.7060201@comcast.net>
References: <48417955.4010400@comcast.net> <4848E258.7060201@comcast.net>
Message-ID: <d368056f0806060649u300602dfr7f0d2807cb6973e0@mail.gmail.com>

Hi Tom

Thanks for this! Testing now...

Regards

Tim

2008/6/6 Tom Elwertowski <telwertowski@comcast.net>:
> Tom Elwertowski wrote:
>>
>> CMake 2.4 and 2.6 appear somewhat incompatible, at least for Macs.
>>
>> Regarding Contents/CMakeLists.txt, I am baffled by the quote processing.
>
> I upgraded the Mac Info.plist generation process to use a cmake script
> containing CONFIGURE_FILE rather running grep/sed. Magnus Homann improved
> the generation of qgssvnversion.h by doing this awhile ago. Using the same
> technique for inserting the svn revision number here avoids solving the
> CMake 2.6 quoting mystery.
>
> Tom
>
>
>> Tim Sutton wrote:
>>>
>>> Hi Folks
>>>
>>> I've been testing out CMake 2.6.0 which recently came out. On mac I  get
>>> everything to build except it croaks at the end with this:
>>>
>>> Linking CXX shared module libquickprintplugin.so
>>> [100%] Built target quickprintplugin
>>> /bin/sh: -c: line 1: unexpected EOF while looking for matching ``'
>>> /bin/sh: -c: line 2: syntax error: unexpected end of file
>>> make[2]: *** [src/mac/Contents/CMakeFiles/Info.plist] Error 2
>>> make[1]: *** [src/mac/Contents/CMakeFiles/Info.plist.dir/all] Error 2
>>> make: *** [all] Error 2
>>>
>>> It seems it has  problem parsing the bash commands in the src/mac/
>>> Contents/CMakeLists.txt. Is this something you are easily able to fix  Tom?
>>> I had a poke at it but all I can figure out is that cmake seems  to be
>>> wrapping the expression in "" or something, but I couldnt  figure out how to
>>> resolve the issue.
>>>
>>> Regards
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From sherman at mrcc.com  Fri Jun  6 10:44:34 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Fri Jun  6 10:44:41 2008
Subject: [Qgis-developer] Wiki online
Message-ID: <48FD131C-0425-4133-B701-F5A418BF8396@mrcc.com>

The qgis wiki is back online. Please report any problems directly to me.

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From cdavilam at jemila.jazztel.es  Fri Jun  6 11:29:39 2008
From: cdavilam at jemila.jazztel.es (=?ISO-8859-15?Q?Carlos_D=E1vila?=)
Date: Fri Jun  6 11:29:11 2008
Subject: [Qgis-developer] [Fwd: [Qgis-user] Unable to open databases]
Message-ID: <484957E3.6030209@jemila.jazztel.es>


I have recently lost connection to srs.db and also (I think) qgis.db
databases, so I get different errors and problems running both 0.10.0
and trunk versions ('Critical: Can't open database: unable to open
database file' and similar). I don't really know where the problem comes
from, but I think it can be related with sqlite packages in my system.
I've tried reinstalling/updating sqlite, but the problem is still there.
Suggested by Marco, I tried 'make clean' and also with a fresh svn 
download, but didn't solve the problem.
I got no other suggestions from user ML.
Any idea?
Regards
Carlos


From john.tull at wildnevada.org  Fri Jun  6 13:43:38 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Fri Jun  6 13:43:42 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <1A99C96D-D2A5-4908-98A9-0B3662CA6641@kyngchaos.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>	<d368056f0805280854g17a7a7bdt16998e55f43efe22@mail.gmail.com>	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
	<483ED49D.90901@comcast.net>
	<42358EBA-6A1F-4CF9-8A6C-F67C70FC242F@linfiniti.com>
	<F54F443F-A005-4692-8FF3-E2EC16017758@kyngchaos.com>
	<4841869F.70300@comcast.net>
	<1A99C96D-D2A5-4908-98A9-0B3662CA6641@kyngchaos.com>
Message-ID: <F694BC4F-F8BF-4600-8028-CB522BE81A4C@wildnevada.org>

Does this translate to something that can be modified in the base code  
to get proper functionality in a build of qgis without the need to  
hand edit files for the @loader_path stuff? I really would like to  
have python plugins that work in my builds, and greatly appreciate  
William's detective work and ability to make binaries that do provide  
full python functionality. Unfortunately, I do not understand what  
needs to be done on my end to get the same functionality. I would  
probably make the necessary changes to the @executable_path issues,  
but I am not clear on how to go about this.

Cheers,
John

On Jun 1, 2008, at 2:18 PM, William Kyngesburye wrote:

> OK, finally got a package built properly.  Python support IS  
> starting.  Maybe something changed in SVN since I last tried it  
> Saturday?  Or maybe my @loader_path change was the key?
>
> Qgis SVN r8575
> OSX 10.5.3, Xcode 3.1 beta
> System Python 2.5
> Qt 4.3.5/PyQt 4.3.3/SIP 4.7.4
>
> This is with my usual changing things to @loader_path where  
> appropriate, so the python .so's in Qgis relatively refer to the  
> Qgis libs and bundled Qt (instead of the default @executable_path,  
> which is unclear what the executable is).
>
> >>> sys.path
> ['/Applications/qgis0.11.0.app/Contents/MacOS/share/qgis/python', '/ 
> Users/kyngchaos/.qgis//python/plugins', '/Applications/ 
> qgis0.11.0.app/Contents/MacOS/share/qgis/python/plugins', '/Library/ 
> Python/2.5/site-packages/GDAL-1.5.2-py2.5-macosx-10.5-i386.egg', '/ 
> System/Library/Frameworks/Python.framework/Versions/2.5/lib/ 
> python25.zip', '/System/Library/Frameworks/Python.framework/Versions/ 
> 2.5/lib/python2.5', '/System/Library/Frameworks/Python.framework/ 
> Versions/2.5/lib/python2.5/plat-darwin', '/System/Library/Frameworks/ 
> Python.framework/Versions/2.5/lib/python2.5/plat-mac', '/System/ 
> Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/plat- 
> mac/lib-scriptpackages', '/System/Library/Frameworks/ 
> Python.framework/Versions/2.5/Extras/lib/python', '/System/Library/ 
> Frameworks/Python.framework/Versions/2.5/lib/python2.5/lib-tk', '/ 
> System/Library/Frameworks/Python.framework/Versions/2.5/lib/ 
> python2.5/lib-dynload', '/Library/Python/2.5/site-packages', '/ 
> Library/Python/2.5/site-packages/PIL', '/Library/Python/2.5/site- 
> packages/geos', '/System/Library/Frameworks/Python.framework/ 
> Versions/2.5/Extras/lib/python/PyObjC']
>
>
> On May 31, 2008, at 12:10 PM, Tom Elwertowski wrote:
>
>> On May 30, 2008, at 11:27 PM, Tim Sutton wrote:
>>> I got the python stuff building and my mac post build scripts fix  
>>> up all the lib paths (see below) in the libqgispython.dylib, core  
>>> and gui python libs, but python stuff still wont load at  
>>> runtime...not sure what to do next.
>>
>> The QLibrary statement at qgisapp.cpp:363 needs a full path (or at  
>> least something more than "qgispython"
>>
>> QLibrary pythonlib("/Users/tce/developer/qgis/trunk/build/ 
>> qgis0.11.0.app/Contents/MacOS/lib/libqgispython.dylib");
>> works for me but SVN needs a somewhat more generic solution.
>>
>> Tom
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> "Mon Dieu! but they are all alike.  Cheating, murdering, lying,  
> fighting, and all for things that the beasts of the jungle would not  
> deign to possess - money to purchase the effeminate pleasures of  
> weaklings.  And yet withal bound down by silly customs that make  
> them slaves to their unhappy lot while firm in the belief that they  
> be the lords of creation enjoying the only real pleasures of  
> existence....
>
> - the wisdom of Tarzan
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From tim at linfiniti.com  Fri Jun  6 14:35:56 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Jun  6 14:35:59 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <F694BC4F-F8BF-4600-8028-CB522BE81A4C@wildnevada.org>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>
	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
	<483ED49D.90901@comcast.net>
	<42358EBA-6A1F-4CF9-8A6C-F67C70FC242F@linfiniti.com>
	<F54F443F-A005-4692-8FF3-E2EC16017758@kyngchaos.com>
	<4841869F.70300@comcast.net>
	<1A99C96D-D2A5-4908-98A9-0B3662CA6641@kyngchaos.com>
	<F694BC4F-F8BF-4600-8028-CB522BE81A4C@wildnevada.org>
Message-ID: <d368056f0806061135x3ad2a6f7t5618b1ded7bd8c7@mail.gmail.com>

Hi

Once I have my scripts working right, Ill check them into svn and if
you are using my build des tarball for mac you should be able to bake
your own mac app bundle (sans grass support).

Regards

Tim

2008/6/6 John C. Tull <john.tull@wildnevada.org>:
> Does this translate to something that can be modified in the base code to
> get proper functionality in a build of qgis without the need to hand edit
> files for the @loader_path stuff? I really would like to have python plugins
> that work in my builds, and greatly appreciate William's detective work and
> ability to make binaries that do provide full python functionality.
> Unfortunately, I do not understand what needs to be done on my end to get
> the same functionality. I would probably make the necessary changes to the
> @executable_path issues, but I am not clear on how to go about this.
>
> Cheers,
> John
>
> On Jun 1, 2008, at 2:18 PM, William Kyngesburye wrote:
>
>> OK, finally got a package built properly.  Python support IS starting.
>>  Maybe something changed in SVN since I last tried it Saturday?  Or maybe my
>> @loader_path change was the key?
>>
>> Qgis SVN r8575
>> OSX 10.5.3, Xcode 3.1 beta
>> System Python 2.5
>> Qt 4.3.5/PyQt 4.3.3/SIP 4.7.4
>>
>> This is with my usual changing things to @loader_path where appropriate,
>> so the python .so's in Qgis relatively refer to the Qgis libs and bundled Qt
>> (instead of the default @executable_path, which is unclear what the
>> executable is).
>>
>> >>> sys.path
>> ['/Applications/qgis0.11.0.app/Contents/MacOS/share/qgis/python',
>> '/Users/kyngchaos/.qgis//python/plugins',
>> '/Applications/qgis0.11.0.app/Contents/MacOS/share/qgis/python/plugins',
>> '/Library/Python/2.5/site-packages/GDAL-1.5.2-py2.5-macosx-10.5-i386.egg',
>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python25.zip',
>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5',
>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/plat-darwin',
>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/plat-mac',
>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/plat-mac/lib-scriptpackages',
>> '/System/Library/Frameworks/Python.framework/Versions/2.5/Extras/lib/python',
>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/lib-tk',
>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/lib-dynload',
>> '/Library/Python/2.5/site-packages',
>> '/Library/Python/2.5/site-packages/PIL',
>> '/Library/Python/2.5/site-packages/geos',
>> '/System/Library/Frameworks/Python.framework/Versions/2.5/Extras/lib/python/PyObjC']
>>
>>
>> On May 31, 2008, at 12:10 PM, Tom Elwertowski wrote:
>>
>>> On May 30, 2008, at 11:27 PM, Tim Sutton wrote:
>>>>
>>>> I got the python stuff building and my mac post build scripts fix up all
>>>> the lib paths (see below) in the libqgispython.dylib, core and gui python
>>>> libs, but python stuff still wont load at runtime...not sure what to do
>>>> next.
>>>
>>> The QLibrary statement at qgisapp.cpp:363 needs a full path (or at least
>>> something more than "qgispython"
>>>
>>> QLibrary
>>> pythonlib("/Users/tce/developer/qgis/trunk/build/qgis0.11.0.app/Contents/MacOS/lib/libqgispython.dylib");
>>> works for me but SVN needs a somewhat more generic solution.
>>>
>>> Tom
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> -----
>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>> http://www.kyngchaos.com/
>>
>> "Mon Dieu! but they are all alike.  Cheating, murdering, lying, fighting,
>> and all for things that the beasts of the jungle would not deign to possess
>> - money to purchase the effeminate pleasures of weaklings.  And yet withal
>> bound down by silly customs that make them slaves to their unhappy lot while
>> firm in the belief that they be the lords of creation enjoying the only real
>> pleasures of existence....
>>
>> - the wisdom of Tarzan
>>
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From john.tull at wildnevada.org  Fri Jun  6 15:24:42 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Fri Jun  6 15:24:49 2008
Subject: [Qgis-developer] QGIS Python support in a library
In-Reply-To: <d368056f0806061135x3ad2a6f7t5618b1ded7bd8c7@mail.gmail.com>
References: <e8e7199c0805280535x4dccad31v40646543bae52b45@mail.gmail.com>
	<812A7999-60C4-4474-B3EA-684384E4F685@wildnevada.org>
	<e8e7199c0805281628x9496b88w8e92917e2750bcc1@mail.gmail.com>
	<F74D7EF4-D233-4748-9334-8DE3E58205AA@wildnevada.org>
	<483ED49D.90901@comcast.net>
	<42358EBA-6A1F-4CF9-8A6C-F67C70FC242F@linfiniti.com>
	<F54F443F-A005-4692-8FF3-E2EC16017758@kyngchaos.com>
	<4841869F.70300@comcast.net>
	<1A99C96D-D2A5-4908-98A9-0B3662CA6641@kyngchaos.com>
	<F694BC4F-F8BF-4600-8028-CB522BE81A4C@wildnevada.org>
	<d368056f0806061135x3ad2a6f7t5618b1ded7bd8c7@mail.gmail.com>
Message-ID: <720B78E8-0BDD-49D3-9B53-0EAF1616B915@wildnevada.org>

I'll look at them and try to make edits for using William's binaries.  
Once I see the logic in application, it should be easy enough to  
modify to my needs.

Thanks,
John

On Jun 6, 2008, at 11:35 AM, Tim Sutton wrote:

> Hi
>
> Once I have my scripts working right, Ill check them into svn and if
> you are using my build des tarball for mac you should be able to bake
> your own mac app bundle (sans grass support).
>
> Regards
>
> Tim
>
> 2008/6/6 John C. Tull <john.tull@wildnevada.org>:
>> Does this translate to something that can be modified in the base  
>> code to
>> get proper functionality in a build of qgis without the need to  
>> hand edit
>> files for the @loader_path stuff? I really would like to have  
>> python plugins
>> that work in my builds, and greatly appreciate William's detective  
>> work and
>> ability to make binaries that do provide full python functionality.
>> Unfortunately, I do not understand what needs to be done on my end  
>> to get
>> the same functionality. I would probably make the necessary changes  
>> to the
>> @executable_path issues, but I am not clear on how to go about this.
>>
>> Cheers,
>> John
>>
>> On Jun 1, 2008, at 2:18 PM, William Kyngesburye wrote:
>>
>>> OK, finally got a package built properly.  Python support IS  
>>> starting.
>>> Maybe something changed in SVN since I last tried it Saturday?  Or  
>>> maybe my
>>> @loader_path change was the key?
>>>
>>> Qgis SVN r8575
>>> OSX 10.5.3, Xcode 3.1 beta
>>> System Python 2.5
>>> Qt 4.3.5/PyQt 4.3.3/SIP 4.7.4
>>>
>>> This is with my usual changing things to @loader_path where  
>>> appropriate,
>>> so the python .so's in Qgis relatively refer to the Qgis libs and  
>>> bundled Qt
>>> (instead of the default @executable_path, which is unclear what the
>>> executable is).
>>>
>>>>>> sys.path
>>> ['/Applications/qgis0.11.0.app/Contents/MacOS/share/qgis/python',
>>> '/Users/kyngchaos/.qgis//python/plugins',
>>> '/Applications/qgis0.11.0.app/Contents/MacOS/share/qgis/python/ 
>>> plugins',
>>> '/Library/Python/2.5/site-packages/GDAL-1.5.2-py2.5-macosx-10.5- 
>>> i386.egg',
>>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/ 
>>> python25.zip',
>>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/ 
>>> python2.5',
>>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/ 
>>> python2.5/plat-darwin',
>>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/ 
>>> python2.5/plat-mac',
>>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/ 
>>> python2.5/plat-mac/lib-scriptpackages',
>>> '/System/Library/Frameworks/Python.framework/Versions/2.5/Extras/ 
>>> lib/python',
>>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/ 
>>> python2.5/lib-tk',
>>> '/System/Library/Frameworks/Python.framework/Versions/2.5/lib/ 
>>> python2.5/lib-dynload',
>>> '/Library/Python/2.5/site-packages',
>>> '/Library/Python/2.5/site-packages/PIL',
>>> '/Library/Python/2.5/site-packages/geos',
>>> '/System/Library/Frameworks/Python.framework/Versions/2.5/Extras/ 
>>> lib/python/PyObjC']
>>>
>>>
>>> On May 31, 2008, at 12:10 PM, Tom Elwertowski wrote:
>>>
>>>> On May 30, 2008, at 11:27 PM, Tim Sutton wrote:
>>>>>
>>>>> I got the python stuff building and my mac post build scripts  
>>>>> fix up all
>>>>> the lib paths (see below) in the libqgispython.dylib, core and  
>>>>> gui python
>>>>> libs, but python stuff still wont load at runtime...not sure  
>>>>> what to do
>>>>> next.
>>>>
>>>> The QLibrary statement at qgisapp.cpp:363 needs a full path (or  
>>>> at least
>>>> something more than "qgispython"
>>>>
>>>> QLibrary
>>>> pythonlib("/Users/tce/developer/qgis/trunk/build/qgis0.11.0.app/ 
>>>> Contents/MacOS/lib/libqgispython.dylib");
>>>> works for me but SVN needs a somewhat more generic solution.
>>>>
>>>> Tom
>>>> _______________________________________________
>>>> Qgis-developer mailing list
>>>> Qgis-developer@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>> -----
>>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>>> http://www.kyngchaos.com/
>>>
>>> "Mon Dieu! but they are all alike.  Cheating, murdering, lying,  
>>> fighting,
>>> and all for things that the beasts of the jungle would not deign  
>>> to possess
>>> - money to purchase the effeminate pleasures of weaklings.  And  
>>> yet withal
>>> bound down by silly customs that make them slaves to their unhappy  
>>> lot while
>>> firm in the belief that they be the lords of creation enjoying the  
>>> only real
>>> pleasures of existence....
>>>
>>> - the wisdom of Tarzan
>>>
>>>
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> -- 
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net

From wonder.sk at gmail.com  Fri Jun  6 16:49:27 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri Jun  6 16:49:31 2008
Subject: [Qgis-developer] GSL 1.11 and QGIS
In-Reply-To: <20BEDDDA8BF84C0ABB143B7763D8061B@HPMarco>
References: <FA8A693893F4CE4283B4473C79FA47D505BB4213@FBCMST06V02.fbc.local>
	<20080604154240.GA30640@norbit.de>
	<20BEDDDA8BF84C0ABB143B7763D8061B@HPMarco>
Message-ID: <e8e7199c0806061349p7f43c011ked2916beafc99a98@mail.gmail.com>

On Wed, Jun 4, 2008 at 9:00 PM, Marco Pasetti <marco.pasetti@alice.it> wrote:
> BTW, I think that I'll upgrade GSL but not GEOS (I don't want to risk!),
> unless you tell me that GEOS 3.0.0 introduces important enhacements for
> QGIS.

Geos 3.0.0 AFAIK makes some algorithms more stable, resulting in that
topology exceptions should be less common than with geos 2.x series -
probably mostly Geoprocessing plugin would benefit from that (however
I'm not aware how often this is a problem).

Martin
From wonder.sk at gmail.com  Fri Jun  6 16:51:12 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri Jun  6 16:51:14 2008
Subject: [Qgis-developer] calling createEmptyDataSource from python
In-Reply-To: <484750CF.7000301@media.mit.edu>
References: <484750CF.7000301@media.mit.edu>
Message-ID: <e8e7199c0806061351k21a88683g285f136e1f4ed161@mail.gmail.com>

On Thu, Jun 5, 2008 at 4:34 AM, Stefanie Tellex <stefie10@media.mit.edu> wrote:
> Hi,
>
> Is there a way to call the ogr provider's createEmptyDataSource function
> from python?  I could try using ctypes, but I wasn't sure if it would work
> with the sip interface.  Combining two ways of talking to C/C++ from python
> seems hairy.

Hi Stefanie,

what about using QgsVectorFileWriter instead? Or is there anything
that you'd like to use and it's not available?

Bye
Martin
From stefie10 at media.mit.edu  Fri Jun  6 17:32:31 2008
From: stefie10 at media.mit.edu (Stefanie Tellex)
Date: Fri Jun  6 17:32:51 2008
Subject: [Qgis-developer] calling createEmptyDataSource from python
In-Reply-To: <e8e7199c0806061351k21a88683g285f136e1f4ed161@mail.gmail.com>
References: <484750CF.7000301@media.mit.edu>
	<e8e7199c0806061351k21a88683g285f136e1f4ed161@mail.gmail.com>
Message-ID: <4849ACEF.6050301@media.mit.edu>

Hi Martin,

I didn't know about QgsVectorFileWriter.  How come qgisapp.cpp doesn't 
use it to create a new layer?  I was looking there to figure out how to 
make a new empty data source, and saw it was doing fancy stuff to call 
createEmptyDataSource in the ogr library.

I think my patch is better for three reasons:
   * It seems like it would be more work to call QgsVectorFileWriter 
from python than it would be to use the patch I submitted to call 
createEmptyDataSource from python.  With the patch I submitted, 
createEmptyDataSource gets passed a list of tuples specifying the 
fields, while QgsVectorFileWriter wants a QgsFieldMap, and has to be 
opened and closed to save the shapefile.
    * my patch refactors createEmptyDataSource into a function in 
QgsVectorDataProvider, which cleans up the code in qgisapp, makes it 
easier to change qgis app to use createEmptyDataSource with other 
providers, and makes it so python and qgisapp use the same mechanism for 
making new empty data sources.
    * createEmptyDataSource not only makes file.shp, but also file.dbf, 
file.prj, and file.shx.  I don't know what they are, but they sound 
important.  :-)

Thanks,

Stefanie






Martin Dobias wrote:
> On Thu, Jun 5, 2008 at 4:34 AM, Stefanie Tellex <stefie10@media.mit.edu> wrote:
>> Hi,
>>
>> Is there a way to call the ogr provider's createEmptyDataSource function
>> from python?  I could try using ctypes, but I wasn't sure if it would work
>> with the sip interface.  Combining two ways of talking to C/C++ from python
>> seems hairy.
> 
> Hi Stefanie,
> 
> what about using QgsVectorFileWriter instead? Or is there anything
> that you'd like to use and it's not available?
> 
> Bye
> Martin

From tim at linfiniti.com  Fri Jun  6 18:40:38 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Jun  6 18:40:41 2008
Subject: [Qgis-developer] calling createEmptyDataSource from python
In-Reply-To: <4849ACEF.6050301@media.mit.edu>
References: <484750CF.7000301@media.mit.edu>
	<e8e7199c0806061351k21a88683g285f136e1f4ed161@mail.gmail.com>
	<4849ACEF.6050301@media.mit.edu>
Message-ID: <d368056f0806061540ma842bdap5ba2b4d2495bd43a@mail.gmail.com>

Hi Stefanie

Another thing:

+bool createEmptyDataSource(const QString& provider,
+                          const QString& filename,
+                          const QString& fileformat,
+                          const QString& enc,
+                          QGis::WKBTYPE geometrytype,
+                          const std::list<std::pair<QString, QString>
>& attributes) {

In Qt its not really necessary to pass by reference like this since Qt
uses implicit sharing / copy one write which basically means if you
pass a Qt object to a function, it does not make a copy of the object
until the receiving class tries to change it. You can read more here:

http://cartan.cas.suffolk.edu/qtdocs/shared.html

Removing the reference modifier from function parameters creates in my
opinion cleaner, easier to read code and is more consistent with the
Qt4 programming style which was are at least striving to achieve on
public parts of the API. In a similar vein its preferred to use QList
over std::list on public methods, and QPair over std::pair.

I wonder if it doesnt make sense to wrap the functionality you have
kindly provided as a method in qgsvectorfilewriter and update qgsapp
to defer to that method rather. Basically, your method above
implemented in qgsvectorfilewriter would provide a convenience method
that removes the need to building a qgsfieldmap first. That approach
would seem to conform to Martins (I think good) suggestion while
providing you the convenience you were looking for.

>   * createEmptyDataSource not only makes file.shp, but also file.dbf,
> file.prj, and file.shx.  I don't know what they are, but they sound
> important.  :-)

QgsVectorFileWriter will do this for you too. One of the unit tests I
have written illustrates the use of QgsVectorFileWriter if you look
under tests/src/core.

Keep those patches coming ! :-)

Regards

Tim

2008/6/6 Stefanie Tellex <stefie10@media.mit.edu>:
> Hi Martin,
>
> I didn't know about QgsVectorFileWriter.  How come qgisapp.cpp doesn't use
> it to create a new layer?  I was looking there to figure out how to make a
> new empty data source, and saw it was doing fancy stuff to call
> createEmptyDataSource in the ogr library.
>
> I think my patch is better for three reasons:
>  * It seems like it would be more work to call QgsVectorFileWriter from
> python than it would be to use the patch I submitted to call
> createEmptyDataSource from python.  With the patch I submitted,
> createEmptyDataSource gets passed a list of tuples specifying the fields,
> while QgsVectorFileWriter wants a QgsFieldMap, and has to be opened and
> closed to save the shapefile.
>   * my patch refactors createEmptyDataSource into a function in
> QgsVectorDataProvider, which cleans up the code in qgisapp, makes it easier
> to change qgis app to use createEmptyDataSource with other providers, and
> makes it so python and qgisapp use the same mechanism for making new empty
> data sources.
>   * createEmptyDataSource not only makes file.shp, but also file.dbf,
> file.prj, and file.shx.  I don't know what they are, but they sound
> important.  :-)
>
> Thanks,
>
> Stefanie
>
>
>
>
>
>
> Martin Dobias wrote:
>>
>> On Thu, Jun 5, 2008 at 4:34 AM, Stefanie Tellex <stefie10@media.mit.edu>
>> wrote:
>>>
>>> Hi,
>>>
>>> Is there a way to call the ogr provider's createEmptyDataSource function
>>> from python?  I could try using ctypes, but I wasn't sure if it would
>>> work
>>> with the sip interface.  Combining two ways of talking to C/C++ from
>>> python
>>> seems hairy.
>>
>> Hi Stefanie,
>>
>> what about using QgsVectorFileWriter instead? Or is there anything
>> that you'd like to use and it's not available?
>>
>> Bye
>> Martin
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Fri Jun  6 18:43:59 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Jun  6 18:44:02 2008
Subject: [Qgis-developer] calling createEmptyDataSource from python
In-Reply-To: <d368056f0806061540ma842bdap5ba2b4d2495bd43a@mail.gmail.com>
References: <484750CF.7000301@media.mit.edu>
	<e8e7199c0806061351k21a88683g285f136e1f4ed161@mail.gmail.com>
	<4849ACEF.6050301@media.mit.edu>
	<d368056f0806061540ma842bdap5ba2b4d2495bd43a@mail.gmail.com>
Message-ID: <d368056f0806061543k7c586fcarda637f7a5fcfeec3@mail.gmail.com>

Hi

Of course I meant to type 'copy on write' ...

Regards

Tim

2008/6/6 Tim Sutton <tim@linfiniti.com>:
> Hi Stefanie
>
> Another thing:
>
> +bool createEmptyDataSource(const QString& provider,
> +                          const QString& filename,
> +                          const QString& fileformat,
> +                          const QString& enc,
> +                          QGis::WKBTYPE geometrytype,
> +                          const std::list<std::pair<QString, QString>
>>& attributes) {
>
> In Qt its not really necessary to pass by reference like this since Qt
> uses implicit sharing / copy one write which basically means if you
> pass a Qt object to a function, it does not make a copy of the object
> until the receiving class tries to change it. You can read more here:
>
> http://cartan.cas.suffolk.edu/qtdocs/shared.html
>
> Removing the reference modifier from function parameters creates in my
> opinion cleaner, easier to read code and is more consistent with the
> Qt4 programming style which was are at least striving to achieve on
> public parts of the API. In a similar vein its preferred to use QList
> over std::list on public methods, and QPair over std::pair.
>
> I wonder if it doesnt make sense to wrap the functionality you have
> kindly provided as a method in qgsvectorfilewriter and update qgsapp
> to defer to that method rather. Basically, your method above
> implemented in qgsvectorfilewriter would provide a convenience method
> that removes the need to building a qgsfieldmap first. That approach
> would seem to conform to Martins (I think good) suggestion while
> providing you the convenience you were looking for.
>
>>   * createEmptyDataSource not only makes file.shp, but also file.dbf,
>> file.prj, and file.shx.  I don't know what they are, but they sound
>> important.  :-)
>
> QgsVectorFileWriter will do this for you too. One of the unit tests I
> have written illustrates the use of QgsVectorFileWriter if you look
> under tests/src/core.
>
> Keep those patches coming ! :-)
>
> Regards
>
> Tim
>
> 2008/6/6 Stefanie Tellex <stefie10@media.mit.edu>:
>> Hi Martin,
>>
>> I didn't know about QgsVectorFileWriter.  How come qgisapp.cpp doesn't use
>> it to create a new layer?  I was looking there to figure out how to make a
>> new empty data source, and saw it was doing fancy stuff to call
>> createEmptyDataSource in the ogr library.
>>
>> I think my patch is better for three reasons:
>>  * It seems like it would be more work to call QgsVectorFileWriter from
>> python than it would be to use the patch I submitted to call
>> createEmptyDataSource from python.  With the patch I submitted,
>> createEmptyDataSource gets passed a list of tuples specifying the fields,
>> while QgsVectorFileWriter wants a QgsFieldMap, and has to be opened and
>> closed to save the shapefile.
>>   * my patch refactors createEmptyDataSource into a function in
>> QgsVectorDataProvider, which cleans up the code in qgisapp, makes it easier
>> to change qgis app to use createEmptyDataSource with other providers, and
>> makes it so python and qgisapp use the same mechanism for making new empty
>> data sources.
>>   * createEmptyDataSource not only makes file.shp, but also file.dbf,
>> file.prj, and file.shx.  I don't know what they are, but they sound
>> important.  :-)
>>
>> Thanks,
>>
>> Stefanie
>>
>>
>>
>>
>>
>>
>> Martin Dobias wrote:
>>>
>>> On Thu, Jun 5, 2008 at 4:34 AM, Stefanie Tellex <stefie10@media.mit.edu>
>>> wrote:
>>>>
>>>> Hi,
>>>>
>>>> Is there a way to call the ogr provider's createEmptyDataSource function
>>>> from python?  I could try using ctypes, but I wasn't sure if it would
>>>> work
>>>> with the sip interface.  Combining two ways of talking to C/C++ from
>>>> python
>>>> seems hairy.
>>>
>>> Hi Stefanie,
>>>
>>> what about using QgsVectorFileWriter instead? Or is there anything
>>> that you'd like to use and it's not available?
>>>
>>> Bye
>>> Martin
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
>
> --
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From cavallini at faunalia.it  Sat Jun  7 03:34:34 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat Jun  7 03:34:38 2008
Subject: [Qgis-developer] GSL 1.11 and QGIS
In-Reply-To: <e8e7199c0806061349p7f43c011ked2916beafc99a98@mail.gmail.com>
References: <FA8A693893F4CE4283B4473C79FA47D505BB4213@FBCMST06V02.fbc.local>	<20080604154240.GA30640@norbit.de>	<20BEDDDA8BF84C0ABB143B7763D8061B@HPMarco>
	<e8e7199c0806061349p7f43c011ked2916beafc99a98@mail.gmail.com>
Message-ID: <484A3A0A.70704@faunalia.it>

Martin Dobias ha scritto:

> Geos 3.0.0 AFAIK makes some algorithms more stable, resulting in that
> topology exceptions should be less common than with geos 2.x series -
> probably mostly Geoprocessing plugin would benefit from that (however
> I'm not aware how often this is a problem).

In fact, during my last course we have encountered some errors on Win
in the geoprocessing plugin that are probably due to GEOS.
All the best.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From marco.pasetti at alice.it  Sat Jun  7 04:56:08 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Sat Jun  7 04:56:11 2008
Subject: [Qgis-developer] GSL 1.11 and QGIS
In-Reply-To: <484A3A0A.70704@faunalia.it>
References: <FA8A693893F4CE4283B4473C79FA47D505BB4213@FBCMST06V02.fbc.local>	<20080604154240.GA30640@norbit.de>	<20BEDDDA8BF84C0ABB143B7763D8061B@HPMarco>
	<e8e7199c0806061349p7f43c011ked2916beafc99a98@mail.gmail.com>
	<484A3A0A.70704@faunalia.it>
Message-ID: <AE5001D083E040A09601CFB44B318C7B@HPMarco>

Ok, you convinced me, I'll build 3.0.0 ;-)

Marco

PS: Paolo, did you read my last emails about ECW and MrSID? It's impossible 
to redistribute them...


----- Original Message ----- 
From: "Paolo Cavallini" <cavallini@faunalia.it>
To: <qgis-developer@lists.osgeo.org>
Cc: "Marco Pasetti" <marco.pasetti@alice.it>
Sent: Saturday, June 07, 2008 9:34 AM
Subject: Re: [Qgis-developer] GSL 1.11 and QGIS


> Martin Dobias ha scritto:
>
>> Geos 3.0.0 AFAIK makes some algorithms more stable, resulting in that
>> topology exceptions should be less common than with geos 2.x series -
>> probably mostly Geoprocessing plugin would benefit from that (however
>> I'm not aware how often this is a problem).
>
> In fact, during my last course we have encountered some errors on Win
> in the geoprocessing plugin that are probably due to GEOS.
> All the best.
> pc
> -- 
> Paolo Cavallini, see: * http://www.faunalia.it/pc * 

From cavallini at faunalia.it  Sat Jun  7 07:32:29 2008
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat Jun  7 07:32:46 2008
Subject: [Qgis-developer] GSL 1.11 and QGIS
In-Reply-To: <AE5001D083E040A09601CFB44B318C7B@HPMarco>
References: <FA8A693893F4CE4283B4473C79FA47D505BB4213@FBCMST06V02.fbc.local>	<20080604154240.GA30640@norbit.de>	<20BEDDDA8BF84C0ABB143B7763D8061B@HPMarco>
	<e8e7199c0806061349p7f43c011ked2916beafc99a98@mail.gmail.com>
	<484A3A0A.70704@faunalia.it>
	<AE5001D083E040A09601CFB44B318C7B@HPMarco>
Message-ID: <484A71CD.4040204@faunalia.it>

Marco Pasetti ha scritto:
> Ok, you convinced me, I'll build 3.0.0 ;-)

Great, thanks a lot!

> PS: Paolo, did you read my last emails about ECW and MrSID? It's
> impossible to redistribute them...

It *should* be impossible. However, many things are not clear, see eg
FWTools support for ECW and MsSID:
http://fwtools.maptools.org/
Perhaps better asking FW?
All the best.
pc
-- 
Paolo Cavallini, see: * http://www.faunalia.it/pc *
From antoniusz at clicknet.ro  Sat Jun  7 08:25:33 2008
From: antoniusz at clicknet.ro (antoniusz)
Date: Sat Jun  7 08:25:35 2008
Subject: [Qgis-developer] [Fwd: [Qgis-user] Unable to open databases]
Message-ID: <17705593.post@talk.nabble.com>


for trunk:
ln -s installdir/lib/libqgis_gui.so.0.11 installdir/lib/libqgis_gui.so.0.10
?


Carlos D?vila wrote:
> 
> 
> I have recently lost connection to srs.db and also (I think) qgis.db
> databases, so I get different errors and problems running both 0.10.0
> and trunk versions ('Critical: Can't open database: unable to open
> database file' and similar). I don't really know where the problem comes
> from, but I think it can be related with sqlite packages in my system.
> I've tried reinstalling/updating sqlite, but the problem is still there.
> Suggested by Marco, I tried 'make clean' and also with a fresh svn 
> download, but didn't solve the problem.
> I got no other suggestions from user ML.
> Any idea?
> Regards
> Carlos
> 
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> 

-- 
View this message in context: http://www.nabble.com/-Fwd%3A--Qgis-user--Unable-to-open-databases--tp17694998p17705593.html
Sent from the qgis-developer mailing list archive at Nabble.com.

From cdavilam at jemila.jazztel.es  Sat Jun  7 17:53:07 2008
From: cdavilam at jemila.jazztel.es (=?UTF-8?B?Q2FybG9zIETDoXZpbGE=?=)
Date: Sat Jun  7 17:52:33 2008
Subject: [Qgis-developer] [Fwd: [Qgis-user] Unable to open databases]
In-Reply-To: <17705593.post@talk.nabble.com>
References: <17705593.post@talk.nabble.com>
Message-ID: <484B0343.4050307@jemila.jazztel.es>

antoniusz escribi?:
> for trunk:
> ln -s installdir/lib/libqgis_gui.so.0.11 installdir/lib/libqgis_gui.so.0.10
> ?
>   
Thanks for the hint. It worked.
Carlos
>
> Carlos D?vila wrote:
>   
>> I have recently lost connection to srs.db and also (I think) qgis.db
>> databases, so I get different errors and problems running both 0.10.0
>> and trunk versions ('Critical: Can't open database: unable to open
>> database file' and similar). I don't really know where the problem comes
>> from, but I think it can be related with sqlite packages in my system.
>> I've tried reinstalling/updating sqlite, but the problem is still there.
>> Suggested by Marco, I tried 'make clean' and also with a fresh svn 
>> download, but didn't solve the problem.
>> I got no other suggestions from user ML.
>> Any idea?
>> Regards
>> Carlos
>>
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>     
>
>   


-- 
Por favor, no me env?e documentos con extensiones .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mdb, mdbx

Instale OpenOffice desde http://es.openoffice.org/programa/index.html
OpenOffice es libre: se puede copiar, modificar y redistribuir libremente.
OpenOffice es gratis.
El uso de OpenOffice es totalmente legal.
OpenOffice funciona mejor que otros paquetes de oficina.
OpenOffice est? en continuo desarrollo y no tendr? que pagar por las nuevas versiones.

From wonder.sk at gmail.com  Sun Jun  8 09:09:32 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun Jun  8 09:09:35 2008
Subject: [Qgis-developer] calling createEmptyDataSource from python
In-Reply-To: <4849ACEF.6050301@media.mit.edu>
References: <484750CF.7000301@media.mit.edu>
	<e8e7199c0806061351k21a88683g285f136e1f4ed161@mail.gmail.com>
	<4849ACEF.6050301@media.mit.edu>
Message-ID: <e8e7199c0806080609uc417357jaca294e306f90926@mail.gmail.com>

On Fri, Jun 6, 2008 at 11:32 PM, Stefanie Tellex <stefie10@media.mit.edu> wrote:
> Hi Martin,
>
> I didn't know about QgsVectorFileWriter.  How come qgisapp.cpp doesn't use
> it to create a new layer?  I was looking there to figure out how to make a
> new empty data source, and saw it was doing fancy stuff to call
> createEmptyDataSource in the ogr library.

It's because this createEmptyDataSource has been done long before than
QgsVectorFileWriter have been actually made working. And none adapted
QgisApp class to work with it. From my point of view,
createEmptyDataSource is something to be removed in future.

> I think my patch is better for three reasons:
>  * It seems like it would be more work to call QgsVectorFileWriter from
> python than it would be to use the patch I submitted to call
> createEmptyDataSource from python.  With the patch I submitted,
> createEmptyDataSource gets passed a list of tuples specifying the fields,
> while QgsVectorFileWriter wants a QgsFieldMap, and has to be opened and
> closed to save the shapefile.

Our policy currently is not to use STL container classes like
std::list but use their Qt equivalents (for more coherent code) at
least for public API. Using a map for passing fields is unnecessary,
but it's not a problem.
Finally, vector file writer doesn't have to be opened and closed, it
can be used directly to save features after openining, see the python
bindings wiki page (at bottom):
http://wiki.qgis.org/qgiswiki/PythonBindings

>   * my patch refactors createEmptyDataSource into a function in
> QgsVectorDataProvider, which cleans up the code in qgisapp, makes it easier
> to change qgis app to use createEmptyDataSource with other providers, and
> makes it so python and qgisapp use the same mechanism for making new empty
> data sources.

Actually how createEmptyDataSource work is not really the right
direction. Creating new data sources with other providers is something
I'd like to enable with some greater changes in vectors handling -
basically to follow the way how it's done e.g. in OGR: their data
source class is a collection of layers (e.g. a directory), layers have
the same meaning. Withing data source class you're able to open or
create new layers. This is a saner way. Moreover, when creating new
layers, providers usually need to specify some additional properties.
(in OGR it's e.g. file format)

>   * createEmptyDataSource not only makes file.shp, but also file.dbf,
> file.prj, and file.shx.  I don't know what they are, but they sound
> important.  :-)

As Tim noted already, QgsVectorFileWriter does this too. And yes, they
are important :)

So these are my reasons why I don't want to apply your patch.

Regards
Martin
From wonder.sk at gmail.com  Sun Jun  8 14:13:00 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sun Jun  8 14:13:02 2008
Subject: [Qgis-developer] Memory provider
In-Reply-To: <e8e7199c0806081108l78a414a4vc224ddf22f57f65a@mail.gmail.com>
References: <e8e7199c0806081108l78a414a4vc224ddf22f57f65a@mail.gmail.com>
Message-ID: <e8e7199c0806081113u1df62165gb9e19fff3b0368e@mail.gmail.com>

Hi devs,

in trunk, revision 8626 I've added a new "memory" provider. It's
intended to be used mainly by plugin or 3rd party app developers. It
doesn't store data on disk, allowing developers to use it as a fast
backend for some temporary layers (until now one had to use e.g. OGR
provider). It's fully functional now and you're invited to test it.

Now, how to use it? Just create a new layer, add fields with their
appropriate types and you can start adding features.
The two important things are:
- URI for provider - depending on type of layer it's going to be:
"Point" / "LineString" / "Polygon" / "MultiPoint" / "MultiLineString"
/ "MultiPolygon"
- field types: "string" / "int" / "double" - when calling
addAttributes() function
I'll demonstrate it with following example - will be put to wiki once
writing will be enabled again.

8<-----

# create layer
vl = QgsVectorLayer("Point", "", "memory")
pr = vl.getDataProvider()

# add fields
pr.addAttributes( { "name" : "string", "age" : "int", "size" : "double" } )

# add a feature
fet = QgsFeature()
fet.setGeometry(QgsGeometry.fromPoint(QgsPoint(10,10)))
fet.setAttributeMap( { 0 : QVariant("Johny"), 1 : QVariant(20), 2 :
QVariant(0.3) } )
pr.addFeatures( [ fet ] )

# show some stats
print "fields:", pr.fieldCount()
print "features:", pr.featureCount()
e = pr.extent()
print "extent:", e.xMin(),e.yMin(),e.xMax(),e.yMax()

# iterate over features
f = QgsFeature()
pr.select()
while pr.getNextFeature(f):
       print "F:",f.featureId(), f.attributeMap(), f.geometry().asPoint()

8<-----

Enjoy!

Martin
From borys at wolf.most.org.pl  Sun Jun  8 14:22:48 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Sun Jun  8 14:22:56 2008
Subject: [Qgis-developer] Memory provider
In-Reply-To: <e8e7199c0806081113u1df62165gb9e19fff3b0368e@mail.gmail.com>
References: <e8e7199c0806081108l78a414a4vc224ddf22f57f65a@mail.gmail.com>
	<e8e7199c0806081113u1df62165gb9e19fff3b0368e@mail.gmail.com>
Message-ID: <200806082022.48507.borys@wolf.most.org.pl>

Great job! I'm looking forward to see python bindings.
From tutey at o2.pl  Mon Jun  9 05:57:33 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Mon Jun  9 05:57:07 2008
Subject: [Qgis-developer] script to update the srs.db
In-Reply-To: <4842BAFE.6020809@o2.pl>
References: <4842BAFE.6020809@o2.pl>
Message-ID: <484CFE8D.2090704@o2.pl>

Dear QGIS devs,

You have feature freeze today, right? Is the fixed srs.db going to be
included in the next QGIS relese? Does it have to be done before the freeze?

As I wrote in my initial post there are problems pending. Quoting them
again below. Please, take a look at issues #1 and #2 and let's decide
what to do. The bug [5] mentioned in #3 is fixed by J?rgen (thanks!) and
the other one [6] I can't reproduce anymore (no matter if I use the
original QGIS' srs.db or the one created with my script) so I closed it.

Maciej Sieczka pisze:

> Problems:
> 
> 1. Due to changes in SRSs, projections and ellipsoids support in
> PROJ.4 and GDAL in last years, rows id's in the tables created by the
> script are now different than they were in the original srs.db.
> Therefore, at the SRS dialog startup, QGIS cannot find it's default
> ll/WGS84 SRS in the updated srs.db, because it searches for "select
> srid from tbl_srs where srs_id = 2585", which is now "SIRGAS / UTM
> zone 24S". Shouldn't QGIS rather search by EPSG number? EPSG codes
> never change.
> 
> 2. In some PROJ.4 version the name "longlat" was changed into
> "lonlat" (and "latlong" to "latlon"). However, epsg_tr.py creates
> proj4 strings with the old name. My script parses proj command for
> the list of available projections and epsg_tr.py for SRSs. Since
> "longlat" != "latlon", the "Geographic Coordinate Systems" list in
> the SRS dialog was not active. Once I changed the "latlon" in
> tbl_projection to "latlong" the list is back. What do we do? Should
> epsg_tr.py be changed to output "latlon" rather than "latlong", or
> should my script replace "latlong" instances?
> 
> 3. BTW I noticed that QGIS resets k factor to 0, no matter how the
> SRS is chosen (automatically by SRS matching at layer load, or
> manually). This is not related to my srs.db changes, it's
> reproducible with stock srs.db too. A huge bug [5]! Please squash it!
> And this one [6] too, is possible.

> [5]http://trac.osgeo.org/qgis/ticket/1120 
> [6]http://trac.osgeo.org/qgis/ticket/1085

-- 
Maciej Sieczka
www.sieczka.org
From bellemare.l at smem.fr  Mon Jun  9 07:30:36 2008
From: bellemare.l at smem.fr (SiGSMEM)
Date: Mon Jun  9 07:30:38 2008
Subject: [Qgis-developer] Mapserver Exporter Bug?
Message-ID: <17658044.post@talk.nabble.com>


Hi,
I had the same error as John and Mauricio on MacOSX Leopard.
Removing mapserverexport v.0.2 installed by the plugins explorer in
"$HOME/.qgis/python/plugins/mapserver_export directory" works for me. Thank
you.
At least, it works for me now, which was not the case until then with
previous version of Qgis and all the other mapserverexport plugins found
(from 0.1 to 0.2 and all the fixes in between).
 It is a very useful tool, far more convenient than cartoweb or mapserver
which I can't make to run properly anyway (problems with configuration
files) or writing the mapfile by hand.
 
Then I encountered another trouble, now with localization.
I use QGIS in french, and mapserver_export crash whenever I choose a unit
with an accentuated character in the dialog box:
In french, cchoices for units are: "dd", "pied", "m?tres", "miles",
"pouces", "kilom?tres".

The mapserver export plug-in works with "dd", "pied", "miles", "pouces".

Unfortunately, I use the metric system (anyone ?).
So trying with "m?tres" or "kilom?tres" produces an error.

So, how can I make it use the unicode char that I need (8 bits ?) ?
or
How can I change these strings so to have "metres" instead of "m?tres" ?

Here is the error:
 File
"/Applications/qgis0.10.0.app/Contents/MacOS/share/qgis/python/plugins/mapserver_export/mapserverexport.py",
line 91, in run
  self.dlg.ui.txtWebHeader.text()
 File
"/Applications/qgis0.10.0.app/Contents/MacOS/share/qgis/python/plugins/mapserver_export/ms_export.py",
line 64, in setOptions
  print units, image, mapname, width, height, template, header, footer
UnicodeEncodeError: 'ascii' codec can't encode character u'\xe8' in position
1: ordinal not in range(128)


- Laurent BELLEMARE -
SMEM

MacOS 10.5.3
QGis 0.10.0
python 2.5.2
GRASS 6.3 (kyngchaos build)
mapserver 5.0.2



gsherman wrote:
> 
> You should be using the latest mapserver exporter that is included in  
> QGIS, not the plugin from the repository. Most of the problems you  
> have encountered have been fixed in the latest version. Delete the  
> $HOME/.qgis/python/plugins/mapserver_export directory and test again.
> 
> To avoid further confusion, I have removed the mapserver_exporter  
> plugin from the respository. I will soon be releasing a standalone  
> version of the exporter, complete with map preview and other features.  
> It contains a number of fixes and enhancements over the current version.
> 
> -gary
> 
> 

-- 
View this message in context: http://www.nabble.com/OGR2Layers-python-plugin-tp17398776p17658044.html
Sent from the qgis-developer mailing list archive at Nabble.com.

From mschulz at webgis.de  Mon Jun  9 09:09:29 2008
From: mschulz at webgis.de (Michael Schulz)
Date: Mon Jun  9 09:09:32 2008
Subject: [Qgis-developer] Mapserver Exporter Bug?
In-Reply-To: <17658044.post@talk.nabble.com>
References: <17658044.post@talk.nabble.com>
Message-ID: <e750b12e0806090609s6cec7beek569d7291b6a70f7e@mail.gmail.com>

Hi,

I had the same problem and created this ticket in trac:
https://trac.osgeo.org/qgis/ticket/1111

Cheers, Michael


2008/6/9 SiGSMEM <bellemare.l@smem.fr>:
>
> Hi,
> I had the same error as John and Mauricio on MacOSX Leopard.
> Removing mapserverexport v.0.2 installed by the plugins explorer in
> "$HOME/.qgis/python/plugins/mapserver_export directory" works for me. Thank
> you.
> At least, it works for me now, which was not the case until then with
> previous version of Qgis and all the other mapserverexport plugins found
> (from 0.1 to 0.2 and all the fixes in between).
>  It is a very useful tool, far more convenient than cartoweb or mapserver
> which I can't make to run properly anyway (problems with configuration
> files) or writing the mapfile by hand.
>
> Then I encountered another trouble, now with localization.
> I use QGIS in french, and mapserver_export crash whenever I choose a unit
> with an accentuated character in the dialog box:
> In french, cchoices for units are: "dd", "pied", "m?tres", "miles",
> "pouces", "kilom?tres".
>
> The mapserver export plug-in works with "dd", "pied", "miles", "pouces".
>
> Unfortunately, I use the metric system (anyone ?).
> So trying with "m?tres" or "kilom?tres" produces an error.
>
> So, how can I make it use the unicode char that I need (8 bits ?) ?
> or
> How can I change these strings so to have "metres" instead of "m?tres" ?
>
> Here is the error:
>  File
> "/Applications/qgis0.10.0.app/Contents/MacOS/share/qgis/python/plugins/mapserver_export/mapserverexport.py",
> line 91, in run
>  self.dlg.ui.txtWebHeader.text()
>  File
> "/Applications/qgis0.10.0.app/Contents/MacOS/share/qgis/python/plugins/mapserver_export/ms_export.py",
> line 64, in setOptions
>  print units, image, mapname, width, height, template, header, footer
> UnicodeEncodeError: 'ascii' codec can't encode character u'\xe8' in position
> 1: ordinal not in range(128)
>
>
> - Laurent BELLEMARE -
> SMEM
>
> MacOS 10.5.3
> QGis 0.10.0
> python 2.5.2
> GRASS 6.3 (kyngchaos build)
> mapserver 5.0.2
>
>
>
> gsherman wrote:
>>
>> You should be using the latest mapserver exporter that is included in
>> QGIS, not the plugin from the repository. Most of the problems you
>> have encountered have been fixed in the latest version. Delete the
>> $HOME/.qgis/python/plugins/mapserver_export directory and test again.
>>
>> To avoid further confusion, I have removed the mapserver_exporter
>> plugin from the respository. I will soon be releasing a standalone
>> version of the exporter, complete with map preview and other features.
>> It contains a number of fixes and enhancements over the current version.
>>
>> -gary
>>
>>
>
> --
> View this message in context: http://www.nabble.com/OGR2Layers-python-plugin-tp17398776p17658044.html
> Sent from the qgis-developer mailing list archive at Nabble.com.
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
-----------------------------------------------------------
Michael Schulz
mschulz@webgis.de

in medias res
Gesellschaft f?r Informationstechnologie mbH

In den Weihermatten 66
79108 Freiburg

Tel +49 (0)761 556959-5
Fax +49 (0)761 556959-6

http://www.webgis.de / http://www.zopecms.de
-----------------------------------------------------------
From tim at linfiniti.com  Mon Jun  9 09:31:02 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Jun  9 09:31:04 2008
Subject: [Qgis-developer] script to update the srs.db
In-Reply-To: <484CFE8D.2090704@o2.pl>
References: <4842BAFE.6020809@o2.pl> <484CFE8D.2090704@o2.pl>
Message-ID: <d368056f0806090631h423656a1i2e287de8f5f29a78@mail.gmail.com>

Hi Maciej

Rest assured we will include your updates before the feature freeze.
Richard is our srs.db maintainer so I suggest he should be the first
stop in evaluating this.

Regards

Tim

2008/6/9 Maciej Sieczka <tutey@o2.pl>:
> Dear QGIS devs,
>
> You have feature freeze today, right? Is the fixed srs.db going to be
> included in the next QGIS relese? Does it have to be done before the freeze?
>
> As I wrote in my initial post there are problems pending. Quoting them
> again below. Please, take a look at issues #1 and #2 and let's decide
> what to do. The bug [5] mentioned in #3 is fixed by J?rgen (thanks!) and
> the other one [6] I can't reproduce anymore (no matter if I use the
> original QGIS' srs.db or the one created with my script) so I closed it.
>
> Maciej Sieczka pisze:
>
>> Problems:
>>
>> 1. Due to changes in SRSs, projections and ellipsoids support in
>> PROJ.4 and GDAL in last years, rows id's in the tables created by the
>> script are now different than they were in the original srs.db.
>> Therefore, at the SRS dialog startup, QGIS cannot find it's default
>> ll/WGS84 SRS in the updated srs.db, because it searches for "select
>> srid from tbl_srs where srs_id = 2585", which is now "SIRGAS / UTM
>> zone 24S". Shouldn't QGIS rather search by EPSG number? EPSG codes
>> never change.
>>
>> 2. In some PROJ.4 version the name "longlat" was changed into
>> "lonlat" (and "latlong" to "latlon"). However, epsg_tr.py creates
>> proj4 strings with the old name. My script parses proj command for
>> the list of available projections and epsg_tr.py for SRSs. Since
>> "longlat" != "latlon", the "Geographic Coordinate Systems" list in
>> the SRS dialog was not active. Once I changed the "latlon" in
>> tbl_projection to "latlong" the list is back. What do we do? Should
>> epsg_tr.py be changed to output "latlon" rather than "latlong", or
>> should my script replace "latlong" instances?
>>
>> 3. BTW I noticed that QGIS resets k factor to 0, no matter how the
>> SRS is chosen (automatically by SRS matching at layer load, or
>> manually). This is not related to my srs.db changes, it's
>> reproducible with stock srs.db too. A huge bug [5]! Please squash it!
>> And this one [6] too, is possible.
>
>> [5]http://trac.osgeo.org/qgis/ticket/1120
>> [6]http://trac.osgeo.org/qgis/ticket/1085
>
> --
> Maciej Sieczka
> www.sieczka.org
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From mauricio.dev at gmail.com  Mon Jun  9 09:50:59 2008
From: mauricio.dev at gmail.com (Mauricio de Paulo)
Date: Mon Jun  9 09:51:05 2008
Subject: [Qgis-developer] Mapserver Exporter Bug?
In-Reply-To: <17658044.post@talk.nabble.com>
References: <17658044.post@talk.nabble.com>
Message-ID: <200806091050.59875.mauricio.dev@gmail.com>

Have you tried the fixes i sent a few weeks ago?
Cheers,
Maur?cio de Paulo 

On Monday 09 June 2008 08:30:36 SiGSMEM wrote:
> Hi,
> I had the same error as John and Mauricio on MacOSX Leopard.
> Removing mapserverexport v.0.2 installed by the plugins explorer in
> "$HOME/.qgis/python/plugins/mapserver_export directory" works for me. Thank
> you.
> At least, it works for me now, which was not the case until then with
> previous version of Qgis and all the other mapserverexport plugins found
> (from 0.1 to 0.2 and all the fixes in between).
>  It is a very useful tool, far more convenient than cartoweb or mapserver
> which I can't make to run properly anyway (problems with configuration
> files) or writing the mapfile by hand.
>
> Then I encountered another trouble, now with localization.
> I use QGIS in french, and mapserver_export crash whenever I choose a unit
> with an accentuated character in the dialog box:
> In french, cchoices for units are: "dd", "pied", "m?tres", "miles",
> "pouces", "kilom?tres".
>
> The mapserver export plug-in works with "dd", "pied", "miles", "pouces".
>
> Unfortunately, I use the metric system (anyone ?).
> So trying with "m?tres" or "kilom?tres" produces an error.
>
> So, how can I make it use the unicode char that I need (8 bits ?) ?
> or
> How can I change these strings so to have "metres" instead of "m?tres" ?
>
> Here is the error:
>  File
> "/Applications/qgis0.10.0.app/Contents/MacOS/share/qgis/python/plugins/maps
>erver_export/mapserverexport.py", line 91, in run
>   self.dlg.ui.txtWebHeader.text()
>  File
> "/Applications/qgis0.10.0.app/Contents/MacOS/share/qgis/python/plugins/maps
>erver_export/ms_export.py", line 64, in setOptions
>   print units, image, mapname, width, height, template, header, footer
> UnicodeEncodeError: 'ascii' codec can't encode character u'\xe8' in
> position 1: ordinal not in range(128)
>
>
> - Laurent BELLEMARE -
> SMEM
>
> MacOS 10.5.3
> QGis 0.10.0
> python 2.5.2
> GRASS 6.3 (kyngchaos build)
> mapserver 5.0.2
>
> gsherman wrote:
> > You should be using the latest mapserver exporter that is included in
> > QGIS, not the plugin from the repository. Most of the problems you
> > have encountered have been fixed in the latest version. Delete the
> > $HOME/.qgis/python/plugins/mapserver_export directory and test again.
> >
> > To avoid further confusion, I have removed the mapserver_exporter
> > plugin from the respository. I will soon be releasing a standalone
> > version of the exporter, complete with map preview and other features.
> > It contains a number of fixes and enhancements over the current version.
> >
> > -gary


From marco.hugentobler at karto.baug.ethz.ch  Mon Jun  9 10:46:35 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon Jun  9 10:46:22 2008
Subject: [Qgis-developer] calling createEmptyDataSource from python
In-Reply-To: <d368056f0806061540ma842bdap5ba2b4d2495bd43a@mail.gmail.com>
References: <484750CF.7000301@media.mit.edu> <4849ACEF.6050301@media.mit.edu>
	<d368056f0806061540ma842bdap5ba2b4d2495bd43a@mail.gmail.com>
Message-ID: <200806091646.35983.marco.hugentobler@karto.baug.ethz.ch>

> Removing the reference modifier from function parameters creates in my
> opinion cleaner, easier to read code and is more consistent with the
> Qt4 programming style which was are at least striving to achieve on
> public parts of the API. In a similar vein its preferred to use QList
> over std::list on public methods, and QPair over std::pair.

I think the mechanism of Qt to use implicitely sharing may be confusing for 
many programmers which know C++ but not Qt. And even those how know Qt need 
to bookmark the list with shared classes and check if class XY uses sharing 
or not. So in my opinion, it is much clearer to read code with the 
references.

Regards,
Marco 

Am Samstag 07 Juni 2008 00:40:38 schrieb Tim Sutton:
> Hi Stefanie
>
> Another thing:
>
> +bool createEmptyDataSource(const QString& provider,
> +                          const QString& filename,
> +                          const QString& fileformat,
> +                          const QString& enc,
> +                          QGis::WKBTYPE geometrytype,
> +                          const std::list<std::pair<QString, QString>
>
> >& attributes) {
>
> In Qt its not really necessary to pass by reference like this since Qt
> uses implicit sharing / copy one write which basically means if you
> pass a Qt object to a function, it does not make a copy of the object
> until the receiving class tries to change it. You can read more here:
>
> http://cartan.cas.suffolk.edu/qtdocs/shared.html
>
> Removing the reference modifier from function parameters creates in my
> opinion cleaner, easier to read code and is more consistent with the
> Qt4 programming style which was are at least striving to achieve on
> public parts of the API. In a similar vein its preferred to use QList
> over std::list on public methods, and QPair over std::pair.
>
> I wonder if it doesnt make sense to wrap the functionality you have
> kindly provided as a method in qgsvectorfilewriter and update qgsapp
> to defer to that method rather. Basically, your method above
> implemented in qgsvectorfilewriter would provide a convenience method
> that removes the need to building a qgsfieldmap first. That approach
> would seem to conform to Martins (I think good) suggestion while
> providing you the convenience you were looking for.
>
> >   * createEmptyDataSource not only makes file.shp, but also file.dbf,
> > file.prj, and file.shx.  I don't know what they are, but they sound
> > important.  :-)
>
> QgsVectorFileWriter will do this for you too. One of the unit tests I
> have written illustrates the use of QgsVectorFileWriter if you look
> under tests/src/core.
>
> Keep those patches coming ! :-)
>
> Regards
>
> Tim
>
> 2008/6/6 Stefanie Tellex <stefie10@media.mit.edu>:
> > Hi Martin,
> >
> > I didn't know about QgsVectorFileWriter.  How come qgisapp.cpp doesn't
> > use it to create a new layer?  I was looking there to figure out how to
> > make a new empty data source, and saw it was doing fancy stuff to call
> > createEmptyDataSource in the ogr library.
> >
> > I think my patch is better for three reasons:
> >  * It seems like it would be more work to call QgsVectorFileWriter from
> > python than it would be to use the patch I submitted to call
> > createEmptyDataSource from python.  With the patch I submitted,
> > createEmptyDataSource gets passed a list of tuples specifying the fields,
> > while QgsVectorFileWriter wants a QgsFieldMap, and has to be opened and
> > closed to save the shapefile.
> >   * my patch refactors createEmptyDataSource into a function in
> > QgsVectorDataProvider, which cleans up the code in qgisapp, makes it
> > easier to change qgis app to use createEmptyDataSource with other
> > providers, and makes it so python and qgisapp use the same mechanism for
> > making new empty data sources.
> >   * createEmptyDataSource not only makes file.shp, but also file.dbf,
> > file.prj, and file.shx.  I don't know what they are, but they sound
> > important.  :-)
> >
> > Thanks,
> >
> > Stefanie
> >
> > Martin Dobias wrote:
> >> On Thu, Jun 5, 2008 at 4:34 AM, Stefanie Tellex <stefie10@media.mit.edu>
> >>
> >> wrote:
> >>> Hi,
> >>>
> >>> Is there a way to call the ogr provider's createEmptyDataSource
> >>> function from python?  I could try using ctypes, but I wasn't sure if
> >>> it would work
> >>> with the sip interface.  Combining two ways of talking to C/C++ from
> >>> python
> >>> seems hairy.
> >>
> >> Hi Stefanie,
> >>
> >> what about using QgsVectorFileWriter instead? Or is there anything
> >> that you'd like to use and it's not available?
> >>
> >> Bye
> >> Martin
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From marco.hugentobler at karto.baug.ethz.ch  Mon Jun  9 13:14:31 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon Jun  9 13:14:18 2008
Subject: AW: [Qgis-developer] patch for split feature issue
In-Reply-To: <19e566510806091006u23119492x945fc5d52f375280@mail.gmail.com>
References: <19e566510806050131l1fbca668j607713fef3546a99@mail.gmail.com>
	<19e566510806091000w4b0d9f01seda0fdde78973a07@mail.gmail.com>
	<19e566510806091006u23119492x945fc5d52f375280@mail.gmail.com>
Message-ID: <200806091914.32224.marco.hugentobler@karto.baug.ethz.ch>

Applied in r8634.

Thanks!

Marco



Hi all,
i was post 2 week ago a bug in the trac 
(http://trac.osgeo.org/qgis/ticket/1103) because some case the copy of 
attributs have some issues.
The problem was in QgsVectorLayer::featuresInRectangle :
The problem is in this code
|for(changedIt = mChangedGeometries.begin(); changedIt != 
mChangedGeometries.end(); ++changedIt)
{
[...]
 if(fetchAttributes)
 {
    QgsFeature tmpFeature;
    mDataProvider->getFeatureAtId(changedIt.key(), tmpFeature, false, 
mDataProvider->allAttributesList());
    newFeature.setAttributeMap(tmpFeature.attributeMap());
  }
  features.push_back(newFeature);
}}
|
Because if the feature is in mAddedFeature the function |getFeatureAtId 
|Return no attribut (because the feature isn't commited).||
||
Regards,

Adrien Gruson.


-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tim at linfiniti.com  Mon Jun  9 18:38:34 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Jun  9 18:38:37 2008
Subject: [Qgis-developer] Re: QGIS Jam Session 08 - re: was:
	[Qgis-community-team] Hackfest 2008 (and while the wiki is down)
In-Reply-To: <200806091323.50271.marco.hugentobler@karto.baug.ethz.ch>
References: <484a2c8f.100.1e24.710415566@webmaildh5.aruba.it>
	<200806091323.50271.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0806091538h4420d966lbfa3e62b294cebee@mail.gmail.com>

Folks

Im going to suggest we postpone the hackfest. Those who are able to attend
the FOSS4G in South Africa this year, we can try to make a QGIS post
conference excursion and hackfest. My suggestion is we rent a small bus (or
car depending on numbers) and visit a nature reserve for a few days to a
week depending on time available, and hack fest in the evenings after doing
some sightseeing in the daytime. I can try to organise things from this side
(plan an itinery, booking car hire & accommodation etc). If you are
interested in the post conference excursion please contact me and I will
start making arrangements. I will try to get some ballpark figures of what
it will cost for 5 nights following the conference. If you have suggestions
/ requirements for shorter / longer stay let me know when you contact me
too. I would suggest staying at De Hoop nature reserve (about 250km from
Cape Town) from where we can also make day Trips to Grootvadersbosch nature
reserve, Swellendam, Agulhas (the very southern tip of Africa) and various
other places of interest.

http://www.capenature.org.za/reserves.htm?reserve=De+Hoop+Nature+Reserve#reserve_tabs
http://www.capenature.org.za/reserves.htm?reserve=Grootvadersbosch+Nature+Reserve#reserve_tabs

Following this we can aim to hold a more official hackfest in 2009, with a
funding drive before hand so that we can try to enable as many developers as
possible to attend.

Best regards

Tim

2008/6/9 Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi,
>
> Unfortunately, I'm not able to attend the jam session. I heard (also very
> short notice) that in the week from 24th to 30th, I need to travel to a
> meeting of the university project I'm working for.
>
> Regards,
> Marco
>
> Am Samstag 07 Juni 2008 08:37:03 schrieb Andrea Giacomelli (pibinko):
>> Dear QGIS developers who stirred the idea of having and
>> end-of-June Hackfest.
>>
>> I am writing as Vicepresident and media relations manager
>> for GFOSS.it
>>
>> I am not able to follow the QGIS-community-team, so I am day
>> by day receiving news about this through Anne.
>>
>> I have been involved in the "could be hackfest" initiative
>> following an initial brainstorming with Paolo (this was
>> sometime in April), and following more recent requests by
>> Anne (last week).
>> In both cases I was enthusiastic about the possibility of
>> holding such events in Southern Tuscany, given my family
>> roots, so I wanted to give you my view on how things are
>> developing.
>>
>> The last news I heard, yesterday, is that there is some
>> uncertainty in the potential participants due to a
>> combination of possibliy high cost of flights and evaluation
>> of strategies for the release of version 1.0 (should the
>> hackfest be before, during, or after FOSS4G ?).
>>
>> The interesting part of the story for me is that in any case
>> we will have some GFOSS.it representatives in Massa
>> Marittima (Southern Tuscany) at the end of June.
>> As a consequence of our inquiries to identify a location
>> with internet connectivity, to host the would-be HackFest,
>> we have been invited to set up a stand in the night of June
>> 28 in this town (it is a medieval centre...very scenic night
>> ambiance).
>> This will be in the context of an all-night-long city
>> celebration (La notte bianca).
>> This event wouldn't take place on its own.
>> We are waiting sometime next week for the confirmation of
>> the availability of a space with internet connection, owned
>> by the Comunit? Montana (this is one of the local
>> administration offices).
>> We would have this space for free, being GFOSS.it a
>> not-for-profit association registered in Italy, and we have
>> full attention of the local community.
>> We may actually see new potential developers showing up and
>> asking to help.
>>
>> So: we are still waiting for a formal approval of this
>> request (just as we are waiting for a formal confirmation of
>> the presence of some of you guys), but we are pretty
>> committed to this and we had verbal formal assurance that we
>> will have the space.
>>
>> The great thing about all this is that even if we don't get
>> the internet facility in Massa Marittima, we can quickly
>> check other options, and even if all of you won't come, we
>> will still be holding an event which will provide further
>> visibility to GFOSS.it (and to QGIS) ;)
>>
>> Clearly: it would be very nice if *at least a couple of you*
>> (and not many more) manage to show up.
>>
>> For whatever may happen: given the Sat 28 night event (which
>> is expected also to be characterized by a strong Tuscan wine
>> and food component), it makes sense to plan things around
>> that date.
>>
>> For those of you who may be coming from North of the Alps
>> and may be travelling by train or "mitfahr centrale" etc:
>> why not consider the possibility of passing earlier by
>> Milano (in this period we may even have some lodging
>> available for free...we need to check).
>>
>> ...basically I am proposing a "we are the QGIS community"
>> Summer tour 2008 in Italy.
>>
>> If you are interested in this *potential* initiative, please
>> send me a copy of your resume (as requested in my first
>> e-mail).
>>
>> If not, I am sure we may find a way to have a mix of live
>> and remote interaction (e.g. if Tim doesn't  make it because
>> of flight prices), I would figure we could have the event
>> somewhere, and Tim on a webcam+IRC or similar solutions.
>> I can see several people in Tuscany (many of which users,
>> who could provide "bottom up" indications to developers)
>> thrilled about attending such an event.
>>
>> One last thing: as I don't know you personally, and we have
>> not interacted in the past: if all this seems odd, feel free
>> to inquire with Paolo or Anne about similar projects we have
>> been working on over the past year.
>>
>> Thank you for your attention over a long message, and
>> regards!
>>
>> Andrea - aka pibinko
>> http://www.pibinko.org
>>
>> p.s. for whatever will take place between Jun 24 and June 30
>> in Southern Tuscany (which we have renamed "Jam Session"
>> also to make sure that the REAL hackfest takes place with a
>> more structured planning whenever the developer community
>> feels like it) we will need confirmation by whoever is
>> interested by Monday, June 9.
>>
>>
>>
>>
>>
>>
>> ----- Original Message -----
>> Da : Anne Ghisla <a.ghisla@studenti.uninsubria.it>
>> A : tim@linfiniti.com, marco.hugentobler@karto.baug.ethz.ch,
>>  marco.pasetti@alice.it, otto.dassau@gmx.de,
>> wonder.sk@gmail.com
>> Cc: Paolo Cavallini <cavallini@faunalia.it>,
>> info@pibinko.org
>> Oggetto : was: [Qgis-community-team] Hackfest 2008 (and
>> while the wiki is down)
>> Data : Thu, 05 Jun 2008 15:34:44 +0200
>>
>> > > All -
>> > >
>> > > 1) I am writing following Anne's message from last week.
>> > > I see that qgis.org is still down (and I heard about the
>> >
>> > major outage).
>> >
>> > Waiting for news from QGIS wiki, I set up a page on
>> > GFOSS.it wiki:
>> >
>> > http://wiki.gfoss.it/index.php/QGIS_Jam_session2008
>> >
>> > feel free to edit it (I can't remember all the contents of
>> > the page on qgis wiki). You will need to create an
>> > account.  Otherwise, we can collect all informations via
>> > mail, and I'll update the page.
>> >
>> > regards,
>> >
>> > Anne
>> >
>> >
>> >
>> >
>> >
>> >
>> > [Allegato : a.ghisla@studenti.uninsubria.it.sig]
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological niche
modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080610/aa1ceb11/attachment.html
From borys at wolf.most.org.pl  Mon Jun  9 19:39:22 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Mon Jun  9 19:39:30 2008
Subject: [Qgis-developer] The improved Plugin Installer is ready
Message-ID: <200806100139.22470.borys@wolf.most.org.pl>

Ok, The Installer improvements are finished. It may still need some language 
fixes and facelifting, but all planned features are implemented. 

It checks for the updates and also for the news (a first time seen plugins) 
either when QGIS starts or when user opens the Installer window. By default 
our all four repositories are switched to not fetch on startup, but it's 
configureable. If there is any update/news, a clickable label appears in the 
StatusBar.

Unfortunately, finally it doesn't use the QThread (yet), so fetching all the 
four repositories delays the QGIS start for about 2 seconds in my case. This 
is the reason for what I haven't decided to enable it by default.

http://bwj.aster.net.pl/qgis/newplugininstaller.zip




From wonder.sk at gmail.com  Mon Jun  9 19:58:18 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Jun  9 19:58:20 2008
Subject: [Qgis-developer] Memory provider
In-Reply-To: <200806082022.48507.borys@wolf.most.org.pl>
References: <e8e7199c0806081108l78a414a4vc224ddf22f57f65a@mail.gmail.com>
	<e8e7199c0806081113u1df62165gb9e19fff3b0368e@mail.gmail.com>
	<200806082022.48507.borys@wolf.most.org.pl>
Message-ID: <e8e7199c0806091658l6a55d2dt3c75dd7117f2410@mail.gmail.com>

On Sun, Jun 8, 2008 at 8:22 PM, Borys Jurgiel <borys@wolf.most.org.pl> wrote:
> Great job! I'm looking forward to see python bindings.

In fact there is no need for more bindings - they're already in place,
you choose the provider in QgsVectorLayer constructor...

Martin
From wonder.sk at gmail.com  Mon Jun  9 20:10:01 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Jun  9 20:10:02 2008
Subject: [Qgis-developer] The improved Plugin Installer is ready
In-Reply-To: <200806100139.22470.borys@wolf.most.org.pl>
References: <200806100139.22470.borys@wolf.most.org.pl>
Message-ID: <e8e7199c0806091710k4515d080hf236aa73dc7bed22@mail.gmail.com>

On Tue, Jun 10, 2008 at 1:39 AM, Borys Jurgiel <borys@wolf.most.org.pl> wrote:
> Ok, The Installer improvements are finished. It may still need some language
> fixes and facelifting, but all planned features are implemented.
>
> It checks for the updates and also for the news (a first time seen plugins)
> either when QGIS starts or when user opens the Installer window. By default
> our all four repositories are switched to not fetch on startup, but it's
> configureable. If there is any update/news, a clickable label appears in the
> StatusBar.

Great job! I've tried the new version and looks great!


> Unfortunately, finally it doesn't use the QThread (yet), so fetching all the
> four repositories delays the QGIS start for about 2 seconds in my case. This
> is the reason for what I haven't decided to enable it by default.

Right, that delay was something I've noticed in the previous version
too. Doing that stuff in a thread would be great, but still it's very
nice how does it work already.

I'm going to commit your work soon to SVN.

Regards
Martin
From bargi1981 at gmail.com  Tue Jun 10 02:20:47 2008
From: bargi1981 at gmail.com (bargi john)
Date: Tue Jun 10 02:20:51 2008
Subject: [Qgis-developer] Problem in shapefiles rendering
Message-ID: <fd4ceb470806092320r3b6ffac3i546cc8b10c5c07c5@mail.gmail.com>

Hi all,

I am trap in a strange problem while rendering shapefiles.

I am used some code of [quote]qgsmapcanvas.cpp [/quote] for creating
Graphicsview and QGraphicsScene.

The code I have wrote is as follow:
[code]
View::View( QWidget *parent ): QGraphicsView( parent )
{

    m_scene = new QGraphicsScene();
    setScene( m_scene );

    setRenderHint( QPainter::Antialiasing );
    setMouseTracking( true );

    setFrameShadow( QFrame::Sunken );
    setFrameShape ( QFrame::Panel  );
}
[/code]

The m_scene  set here is used in other CPP file where items are added to
scene. The code is as follow:

[code]

QGraphicsScene *Draw::scene() const
{
    return m_scene; // This object is same as set in View.cpp
}

void Draw::render()
{
 .........//  logic to extract items

  m_scene->addItem( item ); //Here item is QGraphicsItem
}
[/code]

The problem is that only point Shapfiles are drawing correctly.
The line and polygon shapefiles are drawn   as inverted.
If I put clutch using [quote]scale(1,-1) [/quote]  then it draw line and
polygon correct but point shapefiles inverted.

Can any body explain me this strange behavior   and solution to it.

Thanks :(
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080610/6f4e97c7/attachment.html
From b.rowlingson at lancaster.ac.uk  Tue Jun 10 03:35:30 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Tue Jun 10 03:35:35 2008
Subject: [Qgis-developer] The improved Plugin Installer is ready
In-Reply-To: <e8e7199c0806091710k4515d080hf236aa73dc7bed22@mail.gmail.com>
References: <200806100139.22470.borys@wolf.most.org.pl>
	<e8e7199c0806091710k4515d080hf236aa73dc7bed22@mail.gmail.com>
Message-ID: <484E2EC2.4080302@lancaster.ac.uk>

Martin Dobias wrote:
> On Tue, Jun 10, 2008 at 1:39 AM, Borys Jurgiel <borys@wolf.most.org.pl> wrote:
>> Ok, The Installer improvements are finished. It may still need some language
>> fixes and facelifting, but all planned features are implemented.

> Great job! I've tried the new version and looks great!
> 

  Only if you think lime-green on a zebra-stripe grey table looks great! 
I just started the plugin and there were a lot of 'New' plugins in the 
repos, and so I had a huge block of bright lime-green - nearly put me 
off my breakfast! Now I've restarted it the plugins aren't flagged as 
'new' anymore, just 'not installed', so the dialog is a bit tamer now.

  While I'm being critical (I'm saving the praise for later) the 
Description fields are often way too long for the width of a screen. 
Where is this text coming from, because it's not the description() 
function in __init__.py which is usually short enough? I'd make that 
field in the dialog into the description() text and put the longer help 
text into a tooltip box that pops up on hovering.

  But otherwise, niiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiice :)

Barry
From Horst.Duester at bd.so.ch  Tue Jun 10 04:18:47 2008
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Tue Jun 10 04:18:55 2008
Subject: AW: [Qgis-developer] The improved Plugin Installer is ready
Message-ID: <H00002eb02d9f9b8.1213085926.srsofaioi6145.ktso.ch@MHS>

Unfortunately I'm not able to load the new plugininstaller :-(( QGIS
crashes when I load the Installer mmmmm..... The reason is minidom. I
don't know why but my system doesn't like minidom in conjunction with
PyQgis Plugins. Python apps are working fine with minidom but plugins
don't. I think the best solution should be to use QtXML. This works fine
for me and there is no need of third party software to realise XML
communication.

My System:
redhat EL4
python 2.5.2
Qgis 0.10.0


Best regards
Horst


------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch



-----Urspr?ngliche Nachricht-----
Von: Borys Jurgiel [mailto:borys@wolf.most.org.pl]
Gesendet am: Dienstag, 10. Juni 2008 01:39
An: qgis-developer@lists.osgeo.org
Betreff: [Qgis-developer] The improved Plugin Installer is ready

Ok, The Installer improvements are finished. It may still need some
language 
fixes and facelifting, but all planned features are implemented. 

It checks for the updates and also for the news (a first time seen
plugins) 
either when QGIS starts or when user opens the Installer window. By
default 
our all four repositories are switched to not fetch on startup, but it's

configureable. If there is any update/news, a clickable label appears in
the 
StatusBar.

Unfortunately, finally it doesn't use the QThread (yet), so fetching all
the 
four repositories delays the QGIS start for about 2 seconds in my case.
This 
is the reason for what I haven't decided to enable it by default.

http://bwj.aster.net.pl/qgis/newplugininstaller.zip




_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080610/b35af99f/attachment.html
From borys at wolf.most.org.pl  Tue Jun 10 08:06:03 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue Jun 10 08:06:15 2008
Subject: [Qgis-developer] The improved Plugin Installer is ready
In-Reply-To: <484E2EC2.4080302@lancaster.ac.uk>
References: <200806100139.22470.borys@wolf.most.org.pl>
	<e8e7199c0806091710k4515d080hf236aa73dc7bed22@mail.gmail.com>
	<484E2EC2.4080302@lancaster.ac.uk>
Message-ID: <200806101406.03626.borys@wolf.most.org.pl>

>   Only if you think lime-green on a zebra-stripe grey table looks great!
> I just started the plugin and there were a lot of 'New' plugins in the
> repos, and so I had a huge block of bright lime-green - nearly put me
> off my breakfast! Now I've restarted it the plugins aren't flagged as
> 'new' anymore, just 'not installed', so the dialog is a bit tamer now.

I told it needs some faceliftings ;) So the green will be darker, the status 
labels will be replaced with icons and the "new" status will be disabled in 
case of the first time use (it should be done now, my fault). Glad to see 
these sugestions!

>   While I'm being critical (I'm saving the praise for later) the  
> Description fields are often way too long for the width of a screen.
> Where is this text coming from, because it's not the description()
> function in __init__.py which is usually short enough? I'd make that
> field in the dialog into the description() text and put the longer help
> text into a tooltip box that pops up on hovering.

This is given from the repo XML file. Exactly the same way, as it was in the 
old Installer version. Only if the plugin is available only locally (so is 
classified as an "orphan"), the desctipion is given from the module method. 
You're right, the module internal description is usually shorter, so I'll use 
it if available, thought I think the both descriptions might be the same...

Also the plugin name is rather rarely the same in the repository and in the 
module method, so for all installed plugins the Installer always use the name 
given from the installed module, not from the repo. The same is with 
mismatching version numbers. I think it's the most clear way.


>   But otherwise, niiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiice :)

thanks :)
From borys at wolf.most.org.pl  Tue Jun 10 10:09:29 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue Jun 10 10:09:38 2008
Subject: [Qgis-developer] The improved Plugin Installer is ready
In-Reply-To: <e8e7199c0806091710k4515d080hf236aa73dc7bed22@mail.gmail.com>
References: <200806100139.22470.borys@wolf.most.org.pl>
	<e8e7199c0806091710k4515d080hf236aa73dc7bed22@mail.gmail.com>
Message-ID: <200806101609.29388.borys@wolf.most.org.pl>

> Right, that delay was something I've noticed in the previous version
> too. Doing that stuff in a thread would be great, but still it's very
> nice how does it work already.

But the previous version didn't fetch anything on QGIS startup... 

I have a serious trouble with QThread - it's running only when PyQGIS is in 
use. It means: I create and call QThread object, it runs while another 
(non-threading) initial functions of my plugin are executed, then stops and 
waits until any other python plugin is in use. Then it depends on the used 
plugin: if I open any modal window, my thread runs continuously while it's 
open. If I open non modal one, my thread can do only one step during opening 
this window, and second step during closing it.

Maybe it's because this thread doesn't own any visible widget. Maybe I should 
first create a notify widget, put in on the status bar and then call QThread 
from that? I'll try to do it today.

> I'm going to commit your work soon to SVN.

Let me know before you do, today I'm implementing some bugfixes and 
decorations without uploading to the repository one by one.
From scala at itc.cnr.it  Tue Jun 10 10:15:16 2008
From: scala at itc.cnr.it (Paolo L. Scala)
Date: Tue Jun 10 10:13:11 2008
Subject: [Qgis-developer] ECW support again
Message-ID: <484E8C74.10804@itc.cnr.it>

Hello everyone,
I posted this on the QGIS forum too, but I didn't get any reply, so I 
try here :)

I managed to compile GDAL with ECW support using Microsoft Visual Studio 
2005 express, but how can I build QGIS with the new dll?
I reconfigured the build using cmakesetup, specifying the new dll and 
includes paths, but the compilation exits with errors about functions 
that couldn't be found.
I tried to compile gdal with MinGW, but it seem it doesnt recognize MS 
SDK's includes and libraries, even thought I specified them in the 
LDFLAGS and CPPFLAGS environment variables.
Can someone give me some hint?
Thanks a lot,
Paolo
From marco.pasetti at alice.it  Tue Jun 10 10:26:07 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Tue Jun 10 10:26:12 2008
Subject: R: [Qgis-developer] ECW support again
References: <484E8C74.10804@itc.cnr.it>
Message-ID: <FA8A693893F4CE4283B4473C79FA47D505BB4227@FBCMST06V02.fbc.local>

Hi Paolo,
 
sit down and listen: it could be a long job to do;
 
MinGW sometimes has problems linking against MSVC libraries, specially GDAL if built with MinGW: forget it!
 
You need to build GDAL (with ECW support) using Visual Studio, then you need to build GRASS (using MinGW)and then again GDAL with GRASS support (with VS).
This done, you need to build some things over (with MinGW), and then finally build QGIS with CMake.
 
See my BuldingGuide for more information:
 
http://www.webalice.it/marco.pasetti/qgis+grass/BuildFromSource.html <http://www.webalice.it/marco.pasetti/qgis+grass/BuildFromSource.html> 
 
see also
 
http://www.webalice.it/marco.pasetti/grass/BuildFromSource.html <http://www.webalice.it/marco.pasetti/grass/BuildFromSource.html> 
 
Regards,
 
Marco

________________________________

Da: qgis-developer-bounces@lists.osgeo.org per conto di Paolo L. Scala
Inviato: mar 10/06/2008 16.15
A: qgis-developer@lists.osgeo.org
Oggetto: [Qgis-developer] ECW support again



Hello everyone,
I posted this on the QGIS forum too, but I didn't get any reply, so I
try here :)

I managed to compile GDAL with ECW support using Microsoft Visual Studio
2005 express, but how can I build QGIS with the new dll?
I reconfigured the build using cmakesetup, specifying the new dll and
includes paths, but the compilation exits with errors about functions
that couldn't be found.
I tried to compile gdal with MinGW, but it seem it doesnt recognize MS
SDK's includes and libraries, even thought I specified them in the
LDFLAGS and CPPFLAGS environment variables.
Can someone give me some hint?
Thanks a lot,
Paolo
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080610/96e45809/attachment-0001.html
From scala at itc.cnr.it  Tue Jun 10 10:32:47 2008
From: scala at itc.cnr.it (Paolo L. Scala)
Date: Tue Jun 10 10:30:40 2008
Subject: R: [Qgis-developer] ECW support again
In-Reply-To: <FA8A693893F4CE4283B4473C79FA47D505BB4227@FBCMST06V02.fbc.local>
References: <484E8C74.10804@itc.cnr.it>
	<FA8A693893F4CE4283B4473C79FA47D505BB4227@FBCMST06V02.fbc.local>
Message-ID: <484E908F.2070404@itc.cnr.it>

Thanks a lot, Marco!
I'll check your tutorials as soon as possible!

Regards,
Paolo

marco.pasetti@alice.it ha scritto:
> Hi Paolo,
>  
> sit down and listen: it could be a long job to do;
>  
> MinGW sometimes has problems linking against MSVC libraries, specially 
> GDAL if built with MinGW: forget it!
>  
> You need to build GDAL (with ECW support) using Visual Studio, then 
> you need to build GRASS (using MinGW)and then again GDAL with GRASS 
> support (with VS).
> This done, you need to build some things over (with MinGW), and then 
> finally build QGIS with CMake.
>  
> See my BuldingGuide for more information:
>  
> http://www.webalice.it/marco.pasetti/qgis+grass/BuildFromSource.html
>  
> see also
>  
> http://www.webalice.it/marco.pasetti/grass/BuildFromSource.html
>  
> Regards,
>  
> Marco
>
> ------------------------------------------------------------------------
> *Da:* qgis-developer-bounces@lists.osgeo.org per conto di Paolo L. Scala
> *Inviato:* mar 10/06/2008 16.15
> *A:* qgis-developer@lists.osgeo.org
> *Oggetto:* [Qgis-developer] ECW support again
>
> Hello everyone,
> I posted this on the QGIS forum too, but I didn't get any reply, so I
> try here :)
>
> I managed to compile GDAL with ECW support using Microsoft Visual Studio
> 2005 express, but how can I build QGIS with the new dll?
> I reconfigured the build using cmakesetup, specifying the new dll and
> includes paths, but the compilation exits with errors about functions
> that couldn't be found.
> I tried to compile gdal with MinGW, but it seem it doesnt recognize MS
> SDK's includes and libraries, even thought I specified them in the
> LDFLAGS and CPPFLAGS environment variables.
> Can someone give me some hint?
> Thanks a lot,
> Paolo
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

From tim at linfiniti.com  Tue Jun 10 10:45:09 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Tue Jun 10 10:45:11 2008
Subject: [Qgis-developer] The improved Plugin Installer is ready
In-Reply-To: <200806101406.03626.borys@wolf.most.org.pl>
References: <200806100139.22470.borys@wolf.most.org.pl>
	<e8e7199c0806091710k4515d080hf236aa73dc7bed22@mail.gmail.com>
	<484E2EC2.4080302@lancaster.ac.uk>
	<200806101406.03626.borys@wolf.most.org.pl>
Message-ID: <d368056f0806100745k2c249575kf18880fc9efdd4da@mail.gmail.com>

Hi

Can I suggest that instead of harcodimg colours you rather use the
colours from qapplication::palette so that your dialog honours the
users desktop envirpnment?

regards

Tim

On 6/10/08, Borys Jurgiel <borys@wolf.most.org.pl> wrote:
>>   Only if you think lime-green on a zebra-stripe grey table looks great!
>> I just started the plugin and there were a lot of 'New' plugins in the
>> repos, and so I had a huge block of bright lime-green - nearly put me
>> off my breakfast! Now I've restarted it the plugins aren't flagged as
>> 'new' anymore, just 'not installed', so the dialog is a bit tamer now.
>
> I told it needs some faceliftings ;) So the green will be darker, the status
> labels will be replaced with icons and the "new" status will be disabled in
> case of the first time use (it should be done now, my fault). Glad to see
> these sugestions!
>
>>   While I'm being critical (I'm saving the praise for later) the
>> Description fields are often way too long for the width of a screen.
>> Where is this text coming from, because it's not the description()
>> function in __init__.py which is usually short enough? I'd make that
>> field in the dialog into the description() text and put the longer help
>> text into a tooltip box that pops up on hovering.
>
> This is given from the repo XML file. Exactly the same way, as it was in the
> old Installer version. Only if the plugin is available only locally (so is
> classified as an "orphan"), the desctipion is given from the module method.
> You're right, the module internal description is usually shorter, so I'll
> use
> it if available, thought I think the both descriptions might be the same...
>
> Also the plugin name is rather rarely the same in the repository and in the
> module method, so for all installed plugins the Installer always use the
> name
> given from the installed module, not from the repo. The same is with
> mismatching version numbers. I think it's the most clear way.
>
>
>>   But otherwise, niiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiice :)
>
> thanks :)
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From stephan.holl at intevation.de  Wed Jun 11 03:30:14 2008
From: stephan.holl at intevation.de (Stephan Holl)
Date: Wed Jun 11 03:30:19 2008
Subject: [Qgis-developer] WMS-Proxy settings broken?
Message-ID: <20080611093014.76167049@keto>

Hello qgis-devs,

while using 0.10.0 and SVN-snapshot (trunk) of QGIS I encountered that
the Proxy-entries in the WMS-dialog dont work anymore. Within another
Snapshot (r8416) it works.

Are there plans to get this working before the next release?

Best regards

	Stephan

-- 
Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
From tim at linfiniti.com  Wed Jun 11 03:54:45 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Jun 11 03:54:47 2008
Subject: [Qgis-developer] Re: Failing unit tests with recent commits
In-Reply-To: <200805171718.10766.marco.hugentobler@karto.baug.ethz.ch>
References: <d368056f0805161219v1214b0fehaa74e6482bc35e68@mail.gmail.com>
	<200805171151.36256.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0805170706o68f4d05dk848222815f7ad2c7@mail.gmail.com>
	<200805171718.10766.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0806110054i6f2cb638y7a243187fca52618@mail.gmail.com>

Hi

I just wanted to revisit this before we hit feature freeze. Beyond the
unit tests, I have a number of projects that no longer render
correctly, having outsized symbols and point markers.

Will we be able to resolve this for 0.11.0? Otherwise I suspect we
will get a lot of outcries from folks who have invested a lot of time
constructing qmls and qgses...

Regards

Tim

On 5/17/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi Tim,
>
> Yes, good idea to make an automatic project file transformation
>
> The change in the test was still necessary because it is nearly impossible
> to
> find a conversion factor that makes every pixel look the same.
>
> Regards,
> Marco
>
> Am Samstag 17 Mai 2008 16:06:16 schrieb Tim Sutton:
>> Hi Marco
>>
>> I wonder if its not better to make the change in Magnus Homanns rev-up
>> code since this issue is going to affect everyone with old project and
>> QGS files.
>>
>> regards Tim
>>
>> On 5/17/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
>> wrote:
>> > Hi Tim,
>> >
>> > The failing renderer tests are caused by the fact that units are now mm
>> > instead of pixel.
>> > I' going to change the width/size values of the test qmls and the test
>> > images
>> > to make it run again.
>> >
>> > Regards,
>> > Marco
>> >
>> > Am Freitag 16 Mai 2008 21:19:56 schrieb Tim Sutton:
>> >> Hi All
>> >>
>> >> Recent commits in the last few days have introduced regressions (as
>> >> can be seen by running the unit tests). Please remember to run the
>> >> unit tests before committing changes to SVN. Currently we only have a
>> >> few tests but they test core stuff like rendering. If you committed
>> >> anything in the last few days please take a look and see if you have
>> >> introduced these issues.
>> >>
>> >> The issues involve mainly symbol sizes for rendering as best I can
>> >> make out. BTW I have not yet tried the test suite under win,but it
>> >> works under mac & lin.
>> >>
>> >> Many thanks
>> >>
>> >> Tim
>> >
>> > --
>> > Dr. Marco Hugentobler
>> > Institute of Cartography
>> > ETH Zurich
>> > Technical Advisor QGIS Project Steering Committee
>> > _______________________________________________
>> > Qgis-developer mailing list
>> > Qgis-developer@lists.osgeo.org
>> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Wed Jun 11 04:17:51 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Jun 11 04:17:53 2008
Subject: [Qgis-developer] WMS-Proxy settings broken?
In-Reply-To: <20080611093014.76167049@keto>
References: <20080611093014.76167049@keto>
Message-ID: <d368056f0806110117m465d80c8je5a3abecf978aad8@mail.gmail.com>

Hi Stephan

Perhaps this is a side effect of some recent changes Marco made to
support adding wms layers via the plugin interface. It was my
suggestion that we centralise the wms dettings to qgsoptions so that
they can be set once and be application global. I'll take a look on
the weekend at UI changes needed if Marco has already removed the
per-layer proxy stuff for wms.

regards

Tim

On 6/11/08, Stephan Holl <stephan.holl@intevation.de> wrote:
> Hello qgis-devs,
>
> while using 0.10.0 and SVN-snapshot (trunk) of QGIS I encountered that
> the Proxy-entries in the WMS-dialog dont work anymore. Within another
> Snapshot (r8416) it works.
>
> Are there plans to get this working before the next release?
>
> Best regards
>
> 	Stephan
>
> --
> Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
> Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
> Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From marco.hugentobler at karto.baug.ethz.ch  Wed Jun 11 04:49:17 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Wed Jun 11 04:54:24 2008
Subject: AW: [Qgis-developer] WMS-Proxy settings broken?
References: <20080611093014.76167049@keto>
	<d368056f0806110117m465d80c8je5a3abecf978aad8@mail.gmail.com>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF865@EX6.d.ethz.ch>

Hi,

I only changed the plugin interface, not the WMS dialog/provider itself. Afaik, there have been some ui changes in the WMS dialog to remove qt3 compatibility classes.

Centralizing the proxy stuff in options, as suggested by Tim, is a good idea. I haven't started with this and I'm quite busy at the moment, so if someone feels like implementing this, it would be very welcome.

Regards,
Marco 


-----Urspr?ngliche Nachricht-----
Von: qgis-developer-bounces@lists.osgeo.org im Auftrag von Tim Sutton
Gesendet: Mi 11.06.2008 10:17
An: qgis-developer@lists.osgeo.org; stephan.holl@intevation.de
Betreff: Re: [Qgis-developer] WMS-Proxy settings broken?
 
Hi Stephan

Perhaps this is a side effect of some recent changes Marco made to
support adding wms layers via the plugin interface. It was my
suggestion that we centralise the wms dettings to qgsoptions so that
they can be set once and be application global. I'll take a look on
the weekend at UI changes needed if Marco has already removed the
per-layer proxy stuff for wms.

regards

Tim

On 6/11/08, Stephan Holl <stephan.holl@intevation.de> wrote:
> Hello qgis-devs,
>
> while using 0.10.0 and SVN-snapshot (trunk) of QGIS I encountered that
> the Proxy-entries in the WMS-dialog dont work anymore. Within another
> Snapshot (r8416) it works.
>
> Are there plans to get this working before the next release?
>
> Best regards
>
> 	Stephan
>
> --
> Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
> Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
> Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From stephan.holl at intevation.de  Wed Jun 11 05:10:32 2008
From: stephan.holl at intevation.de (Stephan Holl)
Date: Wed Jun 11 05:10:39 2008
Subject: [Qgis-developer] WMS-Proxy settings broken?
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF865@EX6.d.ethz.ch>
References: <20080611093014.76167049@keto>
	<d368056f0806110117m465d80c8je5a3abecf978aad8@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF865@EX6.d.ethz.ch>
Message-ID: <20080611111032.47c997c3@keto>

Hallo Marco, Tim,

"Hugentobler  Marco" <marco.hugentobler@karto.baug.ethz.ch>, [20080611
- 10:49:17]

> Hi,
> 
> I only changed the plugin interface, not the WMS dialog/provider
> itself. Afaik, there have been some ui changes in the WMS dialog to
> remove qt3 compatibility classes.
> 
> Centralizing the proxy stuff in options, as suggested by Tim, is a
> good idea. I haven't started with this and I'm quite busy at the
> moment, so if someone feels like implementing this, it would be very
> welcome.

Yes, this is definitely a good idea, but some of my clients do
need the proxy-settings for WMS, it would be good to provide a fix
(since it is broken in 0.10.0 as well) for the current version though.

Best regards

	Stephan

-- 
Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
From guy.roussin at teledetection.fr  Wed Jun 11 05:41:51 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Wed Jun 11 05:41:54 2008
Subject: [Qgis-developer] Segmentation fault with NorthArrow plugins
Message-ID: <484F9DDF.1010205@teledetection.fr>

Hi,

With qgis 0.10.0 from debian.gfoss.it on debian sid x86, i get a
segmentation fault when it loads libnortharrow.so at startup.
If i remove this lib, there is no problem.

Thanks.

Guy Roussin

From tim at linfiniti.com  Wed Jun 11 08:16:49 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Jun 11 08:16:52 2008
Subject: [Qgis-developer] Segmentation fault with NorthArrow plugins
In-Reply-To: <484F9DDF.1010205@teledetection.fr>
References: <484F9DDF.1010205@teledetection.fr>
Message-ID: <d368056f0806110516r241ed3f8gbf30240613606bee@mail.gmail.com>

Hi

if you could provide a backtrace it would help us to diagnose the issue.

thanks

Tim

On 6/11/08, Guy Roussin <guy.roussin@teledetection.fr> wrote:
> Hi,
>
> With qgis 0.10.0 from debian.gfoss.it on debian sid x86, i get a
> segmentation fault when it loads libnortharrow.so at startup.
> If i remove this lib, there is no problem.
>
> Thanks.
>
> Guy Roussin
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Wed Jun 11 08:24:37 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Jun 11 08:24:40 2008
Subject: [Qgis-developer] WMS-Proxy settings broken?
In-Reply-To: <20080611111032.47c997c3@keto>
References: <20080611093014.76167049@keto>
	<d368056f0806110117m465d80c8je5a3abecf978aad8@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF865@EX6.d.ethz.ch>
	<20080611111032.47c997c3@keto>
Message-ID: <d368056f0806110524r385acae7h6f9643376548060d@mail.gmail.com>

Hi guys

Marco ok thanks for the  clarificatio - I'll try to implement proxy
settings centralisation over the next few days so leave it to me. i
dont think its the qt3 port that is the cause of the issue if the
problem is present in 0.10.0 too. Stephan QGIS 0.11.0 will be out at
the end of the month so I dont expect to backport any fixes to 0.10.0.

regards

Tim

On 6/11/08, Stephan Holl <stephan.holl@intevation.de> wrote:
> Hallo Marco, Tim,
>
> "Hugentobler  Marco" <marco.hugentobler@karto.baug.ethz.ch>, [20080611
> - 10:49:17]
>
>> Hi,
>>
>> I only changed the plugin interface, not the WMS dialog/provider
>> itself. Afaik, there have been some ui changes in the WMS dialog to
>> remove qt3 compatibility classes.
>>
>> Centralizing the proxy stuff in options, as suggested by Tim, is a
>> good idea. I haven't started with this and I'm quite busy at the
>> moment, so if someone feels like implementing this, it would be very
>> welcome.
>
> Yes, this is definitely a good idea, but some of my clients do
> need the proxy-settings for WMS, it would be good to provide a fix
> (since it is broken in 0.10.0 as well) for the current version though.
>
> Best regards
>
> 	Stephan
>
> --
> Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
> Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
> Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From guy.roussin at teledetection.fr  Wed Jun 11 08:45:01 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Wed Jun 11 08:45:04 2008
Subject: [Qgis-developer] Segmentation fault with NorthArrow plugins
In-Reply-To: <d368056f0806110516r241ed3f8gbf30240613606bee@mail.gmail.com>
References: <484F9DDF.1010205@teledetection.fr>
	<d368056f0806110516r241ed3f8gbf30240613606bee@mail.gmail.com>
Message-ID: <484FC8CD.2080602@teledetection.fr>

...
Loaded /usr/lib/qgis/libnortharrowplugin.so

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0xb43829e0 (LWP 8239)]
0xb6722356 in sincos () from /usr/lib/libgdal1.5.0.so.1

Guy

Tim Sutton a ?crit :
> Hi
> 
> if you could provide a backtrace it would help us to diagnose the issue.
> 
> thanks
> 
> Tim
> 
> On 6/11/08, Guy Roussin <guy.roussin@teledetection.fr> wrote:
>> Hi,
>>
>> With qgis 0.10.0 from debian.gfoss.it on debian sid x86, i get a
>> segmentation fault when it loads libnortharrow.so at startup.
>> If i remove this lib, there is no problem.
>>
>> Thanks.
>>
>> Guy Roussin
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> 

From stephan.holl at intevation.de  Wed Jun 11 08:50:50 2008
From: stephan.holl at intevation.de (Stephan Holl)
Date: Wed Jun 11 08:50:56 2008
Subject: [Qgis-developer] WMS-Proxy settings broken?
In-Reply-To: <d368056f0806110524r385acae7h6f9643376548060d@mail.gmail.com>
References: <20080611093014.76167049@keto>
	<d368056f0806110117m465d80c8je5a3abecf978aad8@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF865@EX6.d.ethz.ch>
	<20080611111032.47c997c3@keto>
	<d368056f0806110524r385acae7h6f9643376548060d@mail.gmail.com>
Message-ID: <20080611145050.6c4f8881@keto>

Hello Tim,

"Tim Sutton" <tim@linfiniti.com>, [20080611 - 14:24:37]

> Hi guys
> 
> Marco ok thanks for the  clarificatio - I'll try to implement proxy
> settings centralisation over the next few days so leave it to me. i
> dont think its the qt3 port that is the cause of the issue if the
> problem is present in 0.10.0 too. Stephan QGIS 0.11.0 will be out at
> the end of the month so I dont expect to backport any fixes to 0.10.0.

No problem. I just wanted to make sure that proxy-settings will be
repaired in the next release, and if it will be centralized, even
better! This makes the project-files more transportable though.

Thanks Tim for the offer to implement it befor 0.11.0. I am happy to
give you feedback when you have included it. 

Since I heavily use QGIS
through a security-proxy[1] to access secured WMS/WFS I need the
proxy-settings in QGIS, because it does not reflect the environment
variables http_proxy/https_proxy.

Best

	Stephan

[1] http://inteproxy.wald.intevation.org

> 
> On 6/11/08, Stephan Holl <stephan.holl@intevation.de> wrote:
> > Hallo Marco, Tim,
> >
> > "Hugentobler  Marco" <marco.hugentobler@karto.baug.ethz.ch>,
> > [20080611
> > - 10:49:17]
> >
> >> Hi,
> >>
> >> I only changed the plugin interface, not the WMS dialog/provider
> >> itself. Afaik, there have been some ui changes in the WMS dialog to
> >> remove qt3 compatibility classes.
> >>
> >> Centralizing the proxy stuff in options, as suggested by Tim, is a
> >> good idea. I haven't started with this and I'm quite busy at the
> >> moment, so if someone feels like implementing this, it would be
> >> very welcome.
> >
> > Yes, this is definitely a good idea, but some of my clients do
> > need the proxy-settings for WMS, it would be good to provide a fix
> > (since it is broken in 0.10.0 as well) for the current version
> > though.
> >
> > Best regards
> >
> > 	Stephan
> >
> > --
> > Stephan Holl <stephan.holl@intevation.de>,
> > http://intevation.de/~stephan Tel: +49 (0)541-33 50 8 32 |
> > Intevation GmbH | AG Osnabr?ck - HR B 18998 Gesch?ftsf?hrer:  Frank
> > Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
> >
> 


-- 
Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
From rdmailings at duif.net  Wed Jun 11 09:10:31 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed Jun 11 09:10:59 2008
Subject: [Qgis-developer] script to update the srs.db
In-Reply-To: <4842BAFE.6020809@o2.pl>
References: <4842BAFE.6020809@o2.pl>
Message-ID: <484FCEC7.4040208@duif.net>

Hi Maciej,
sorry for my late and lengthy reply, I missed this thread...
but:

NICE !!!
This is the way to go for maintaining the srs.db.

I tried your script and I am able to generate a new srs.db with it (for 
what I can see...  working with qgis).

I cc Frank Warmerdam, hopefully he can add some expert judgement to my 
comments ...

I hope other people can do more projection related testing. Or somebody 
can sent me some tests how to do some thorough projection testing.

I ran your scripts on a debian etch box.
I build the srs.db with SQLite Administrator on Windows.

Some (maybe not so helpfull remarks):

- I had to change some lines because calling epsg_tr.py at my machine 
resulted in a file not found error. Calling it via `python epsg_tr.py' 
fixed that for me

- there were some errors like:
ERROR 6: No translation for Transverse_Mercator_South_Orientated to 
PROJ.4 format is known.
...
ERROR 6: EPSG PCS/GCS code 2218 not found in EPSG support files.  Is 
this a valid EPSG coordinate system?
ERROR 6: EPSG PCS/GCS code 2221 not found in EPSG support files.  Is 
this a valid EPSG coordinate system?
...
ERROR 6: No translation for Tunisia_Mining_Grid to PROJ.4 format is known.
...
ERROR 6: EPSG PCS/GCS code 32600 not found in EPSG support files.  Is 
this a valid EPSG coordinate system?
ERROR 6: EPSG PCS/GCS code 32700 not found in EPSG support files.  Is 
this a valid EPSG coordinate system?

but after that all is running fine as a qgis srs.db

Except that in my (windows) qgis I do not see any Geographic Coordinate 
Systems. These are also not in the view. So epsg:4326 is missing for 
example..?.. Never mind, I see your problem 2 now

- epsg 31254 (which Marco H asked me to add to srs.db) is now in it
- tbl_ellipsoid contains 42 records now (42 in the old also)
- tbl_projection contains 125 records now (vs 123 in the old one)
- tbl_srs contains 3519 records now (vs 2690 in the old one)
- vw_srs conains 3105 records (vs 2690 in the old one)

My 1 cent about your 'problems':

-1- working with epsg instead of qgis_id looks logical for me, but I do 
not know the implications for such a decision.

-2- I would say change it in the local epsg_tr.py for now, until it is 
changed in the epsg_tr.py script itself (or made an option in there?)

-3- these bugs seem to be squashed already


So my conclusion after some limited testing:
- good job
- we should use this script to generate the srs.db with every release
- if everybody agrees Maciej can close some bugs :-)
- can we do some more thorough testing? (though I think Maciej is one of 
the most critic users/testers of srs.db)
- we should make a SrsDb-wiki-page in which we describe why we do this 
this way, and how to do it. Maciej can you do this? Please let people 
add some tests to it too.

One question: is / should it be possible to add this all to the 
epsg_tr.py script, as a new --qgis option or so? Or do we really need 
this two-step process.

Maciej, THANKS for you work!

Regards,

Richard Duivenvoorde



Maciej Sieczka wrote:
> Folks,
> 
> Now that the bug in GDAL [1] is fixed and backported to stable branch,
> as well as included in the 1.5.2 RC3 [2] I have written a Shell script
> to update QGIS srs.db, based on the installed PROJ.4 and GDAL tools
> output. Attached.
> 
> The script creates an SQL plain text dump that can be imported into
> SQlite db eg. using SQLite Database Browser's "Import > Database from
> SQL file" tool.
> 
> The ellipsoids (tbl_ellipsoid) and projections (tbl_projection) tables
> are created parsing the proj command output. I chose this approach,
> because looking at the original tables content it seems the original
> tables were created the same way.
> 
> The tbl_srs table is created parsing the epsg_tr.py output. EPSG codes
> to process are taken from the installed GDAL's pcs.csv and gcs.csv files.
> 
> The script is rather self-explanatory. I have successfully used it to
> create an updated srs.db and have been using the database with QGIS for
> a couple of hours now. SRSs strings that were not recognizable by QGIS
> due to infamous "k" parameter issue due to a change in GDAL [3] and QGIS
> depending on string-wise SRS mathing [4] are now recogized fine.
> 
> Tables structure and final SQL statements creating the view and indices
> were copied from the original srs.db shipped with QGIS trunk r8544,
> after dumping it to a plain text format with SQLite Database Browser.
> 
> Please test/fix and let me know! If the tool is allright, I hope it can
> be included in the QGIS repository and used to update the official
> srs.db when necessary.
> 
> Problems:
> 
> 1. Due to changes in SRSs, projections and ellipsoids support in PROJ.4
> and GDAL in last years, rows id's in the tables created by the script
> are now different than they were in the original srs.db. Therefore, at
> the SRS dialog startup, QGIS cannot find it's default ll/WGS84 SRS in
> the updated srs.db, because it searches for "select srid from tbl_srs
> where srs_id = 2585", which is now "SIRGAS / UTM zone 24S". Shouldn't
> QGIS rather search by EPSG number? EPSG codes never change.
> 
> 2. In some PROJ.4 version the name "longlat" was changed into "lonlat"
> (and "latlong" to "latlon"). However, epsg_tr.py creates proj4 strings
> with the old name. My script parses proj command for the list of
> available projections and epsg_tr.py for SRSs. Since "longlat" !=
> "latlon", the "Geographic Coordinate Systems" list in the SRS dialog was
> not active. Once I changed the "latlon" in tbl_projection to "latlong"
> the list is back. What do we do? Should epsg_tr.py be changed to output
> "latlon" rather than "latlong", or should my script replace "latlong"
> instances?
> 
> 3. BTW I noticed that QGIS resets k factor to 0, no matter how the SRS
> is chosen (automatically by SRS matching at layer load, or manually).
> This is not related to my srs.db changes, it's reproducible with stock
> srs.db too. A huge bug [5]! Please squash it! And this one [6] too, is
> possible.
> 
> 
> [1]http://trac.osgeo.org/gdal/ticket/2036#comment:14
> [2]http://www.nabble.com/forum/ViewPost.jtp?post=17545259&framed=y
> [3]http://trac.osgeo.org/gdal/changeset/12625
> [4]http://trac.osgeo.org/qgis/ticket/1037
> [5]http://trac.osgeo.org/qgis/ticket/1120
> [6]http://trac.osgeo.org/qgis/ticket/1085
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From marco.hugentobler at karto.baug.ethz.ch  Wed Jun 11 10:35:31 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Wed Jun 11 10:37:39 2008
Subject: [Qgis-developer] AW: Failing unit tests with recent commits
References: <d368056f0805161219v1214b0fehaa74e6482bc35e68@mail.gmail.com><200805171151.36256.marco.hugentobler@karto.baug.ethz.ch><d368056f0805170706o68f4d05dk848222815f7ad2c7@mail.gmail.com><200805171718.10766.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0806110054i6f2cb638y7a243187fca52618@mail.gmail.com>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF866@EX6.d.ethz.ch>

Hi Tim,

It is still on my todo list. I'm pretty busy and hope to address that next week. Although the changed sizes are in fact a feature, we may declare it as a bug and so I hope it is ok to add the project file transformation after feature freeze ;-)

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: Tim Sutton [mailto:tim@linfiniti.com]
Gesendet: Mi 11.06.2008 09:54
An: Hugentobler  Marco; qgis-developer@lists.osgeo.org
Betreff: Re: Failing unit tests with recent commits
 
Hi

I just wanted to revisit this before we hit feature freeze. Beyond the
unit tests, I have a number of projects that no longer render
correctly, having outsized symbols and point markers.

Will we be able to resolve this for 0.11.0? Otherwise I suspect we
will get a lot of outcries from folks who have invested a lot of time
constructing qmls and qgses...

Regards

Tim

On 5/17/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi Tim,
>
> Yes, good idea to make an automatic project file transformation
>
> The change in the test was still necessary because it is nearly impossible
> to
> find a conversion factor that makes every pixel look the same.
>
> Regards,
> Marco
>
> Am Samstag 17 Mai 2008 16:06:16 schrieb Tim Sutton:
>> Hi Marco
>>
>> I wonder if its not better to make the change in Magnus Homanns rev-up
>> code since this issue is going to affect everyone with old project and
>> QGS files.
>>
>> regards Tim
>>
>> On 5/17/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
>> wrote:
>> > Hi Tim,
>> >
>> > The failing renderer tests are caused by the fact that units are now mm
>> > instead of pixel.
>> > I' going to change the width/size values of the test qmls and the test
>> > images
>> > to make it run again.
>> >
>> > Regards,
>> > Marco
>> >
>> > Am Freitag 16 Mai 2008 21:19:56 schrieb Tim Sutton:
>> >> Hi All
>> >>
>> >> Recent commits in the last few days have introduced regressions (as
>> >> can be seen by running the unit tests). Please remember to run the
>> >> unit tests before committing changes to SVN. Currently we only have a
>> >> few tests but they test core stuff like rendering. If you committed
>> >> anything in the last few days please take a look and see if you have
>> >> introduced these issues.
>> >>
>> >> The issues involve mainly symbol sizes for rendering as best I can
>> >> make out. BTW I have not yet tried the test suite under win,but it
>> >> works under mac & lin.
>> >>
>> >> Many thanks
>> >>
>> >> Tim
>> >
>> > --
>> > Dr. Marco Hugentobler
>> > Institute of Cartography
>> > ETH Zurich
>> > Technical Advisor QGIS Project Steering Committee
>> > _______________________________________________
>> > Qgis-developer mailing list
>> > Qgis-developer@lists.osgeo.org
>> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Wed Jun 11 12:53:37 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Jun 11 12:54:32 2008
Subject: [Qgis-developer] Segmentation fault with NorthArrow plugins
In-Reply-To: <484FC8CD.2080602@teledetection.fr>
References: <484F9DDF.1010205@teledetection.fr>
	<d368056f0806110516r241ed3f8gbf30240613606bee@mail.gmail.com>
	<484FC8CD.2080602@teledetection.fr>
Message-ID: <d368056f0806110953m30463e76j5b64651783b8509b@mail.gmail.com>

Hi

Hmmm..thanks, though that doesnt give much to go on either. Probably
we will need to get hold of Niccolo who does the debian packages and
see if he is aware of anything thaty can be causing this.

regards


Tim

On 6/11/08, Guy Roussin <guy.roussin@teledetection.fr> wrote:
> ...
> Loaded /usr/lib/qgis/libnortharrowplugin.so
>
> Program received signal SIGSEGV, Segmentation fault.
> [Switching to Thread 0xb43829e0 (LWP 8239)]
> 0xb6722356 in sincos () from /usr/lib/libgdal1.5.0.so.1
>
> Guy
>
> Tim Sutton a ?crit :
>> Hi
>>
>> if you could provide a backtrace it would help us to diagnose the issue.
>>
>> thanks
>>
>> Tim
>>
>> On 6/11/08, Guy Roussin <guy.roussin@teledetection.fr> wrote:
>>> Hi,
>>>
>>> With qgis 0.10.0 from debian.gfoss.it on debian sid x86, i get a
>>> segmentation fault when it loads libnortharrow.so at startup.
>>> If i remove this lib, there is no problem.
>>>
>>> Thanks.
>>>
>>> Guy Roussin
>>>
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From cfarmer at uvic.ca  Wed Jun 11 15:34:59 2008
From: cfarmer at uvic.ca (Carson Farmer)
Date: Wed Jun 11 15:37:54 2008
Subject: [Qgis-developer] displaying memory provider layers
In-Reply-To: <e8e7199c0806081113u1df62165gb9e19fff3b0368e@mail.gmail.com>
References: <e8e7199c0806081108l78a414a4vc224ddf22f57f65a@mail.gmail.com>
	<e8e7199c0806081113u1df62165gb9e19fff3b0368e@mail.gmail.com>
Message-ID: <485028E3.70801@uvic.ca>

Does anyone know if it's possible to display QgsVectorLayers that use 
the new 'memory' data provider?

I followed Martins example here...
> # create layer
> vl = QgsVectorLayer("Point", "", "memory")
> pr = vl.getDataProvider()
>
> # add fields
> pr.addAttributes( { "name" : "string", "age" : "int", "size" : "double" } )
>
> # add a feature
> fet = QgsFeature()
> fet.setGeometry(QgsGeometry.fromPoint(QgsPoint(10,10)))
> fet.setAttributeMap( { 0 : QVariant("Johny"), 1 : QVariant(20), 2 :
> QVariant(0.3) } )
> pr.addFeatures( [ fet ] )
>
> # show some stats
> print "fields:", pr.fieldCount()
> print "features:", pr.featureCount()
> e = pr.extent()
> print "extent:", e.xMin(),e.yMin(),e.xMax(),e.yMax()
>
> # iterate over features
> f = QgsFeature()
> pr.select()
> while pr.getNextFeature(f):
>        print "F:",f.featureId(), f.attributeMap(), f.geometry().asPoint()
... which all works fine, but when I tried: 
QgsMapLayerRegistry.instance().addMapLayer(vl) QGIS crashes (i.e. 
disappears and leaves me with the 'busy' cursor)?

Any thoughts? Perhaps there is something I have to call before trying to 
add the layer to the map registry?

Thanks, Carson
From tim at linfiniti.com  Wed Jun 11 16:22:49 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Jun 11 16:22:52 2008
Subject: [Qgis-developer] script to update the srs.db
In-Reply-To: <484FCEC7.4040208@duif.net>
References: <4842BAFE.6020809@o2.pl> <484FCEC7.4040208@duif.net>
Message-ID: <d368056f0806111322w60aafac0x7d179ca2ffa53c02@mail.gmail.com>

Hi Richard

One thing I would like to do if you assemble small test datasets is to
create some unit tests for srs stuff. One basic form of test I am
thinking is to simply have a directory with a bunch of shapefiles with
a single feature each, each shp being in a different srs. The test
would load each one in turn and verify that it gets the correct epsg
etc for it. So if you so start getting little test files in, bear this
in mind so that we can use them for more formal unit testing too.

Secondly if I recall correctly, the reason we originally opted to use
our own srs identifier was that the srs db did inclide some srs
definitions that did not have an epsg code yet.

It would be good if we could maintain the original srs id pkeys in any
updates you do since changing them may introduce regressions for
people loading  .qgs project files.

regards

Tim

On 6/11/08, Richard Duivenvoorde <rdmailings@duif.net> wrote:
> Hi Maciej,
> sorry for my late and lengthy reply, I missed this thread...
> but:
>
> NICE !!!
> This is the way to go for maintaining the srs.db.
>
> I tried your script and I am able to generate a new srs.db with it (for
> what I can see...  working with qgis).
>
> I cc Frank Warmerdam, hopefully he can add some expert judgement to my
> comments ...
>
> I hope other people can do more projection related testing. Or somebody
> can sent me some tests how to do some thorough projection testing.
>
> I ran your scripts on a debian etch box.
> I build the srs.db with SQLite Administrator on Windows.
>
> Some (maybe not so helpfull remarks):
>
> - I had to change some lines because calling epsg_tr.py at my machine
> resulted in a file not found error. Calling it via `python epsg_tr.py'
> fixed that for me
>
> - there were some errors like:
> ERROR 6: No translation for Transverse_Mercator_South_Orientated to
> PROJ.4 format is known.
> ...
> ERROR 6: EPSG PCS/GCS code 2218 not found in EPSG support files.  Is
> this a valid EPSG coordinate system?
> ERROR 6: EPSG PCS/GCS code 2221 not found in EPSG support files.  Is
> this a valid EPSG coordinate system?
> ...
> ERROR 6: No translation for Tunisia_Mining_Grid to PROJ.4 format is known.
> ...
> ERROR 6: EPSG PCS/GCS code 32600 not found in EPSG support files.  Is
> this a valid EPSG coordinate system?
> ERROR 6: EPSG PCS/GCS code 32700 not found in EPSG support files.  Is
> this a valid EPSG coordinate system?
>
> but after that all is running fine as a qgis srs.db
>
> Except that in my (windows) qgis I do not see any Geographic Coordinate
> Systems. These are also not in the view. So epsg:4326 is missing for
> example..?.. Never mind, I see your problem 2 now
>
> - epsg 31254 (which Marco H asked me to add to srs.db) is now in it
> - tbl_ellipsoid contains 42 records now (42 in the old also)
> - tbl_projection contains 125 records now (vs 123 in the old one)
> - tbl_srs contains 3519 records now (vs 2690 in the old one)
> - vw_srs conains 3105 records (vs 2690 in the old one)
>
> My 1 cent about your 'problems':
>
> -1- working with epsg instead of qgis_id looks logical for me, but I do
> not know the implications for such a decision.
>
> -2- I would say change it in the local epsg_tr.py for now, until it is
> changed in the epsg_tr.py script itself (or made an option in there?)
>
> -3- these bugs seem to be squashed already
>
>
> So my conclusion after some limited testing:
> - good job
> - we should use this script to generate the srs.db with every release
> - if everybody agrees Maciej can close some bugs :-)
> - can we do some more thorough testing? (though I think Maciej is one of
> the most critic users/testers of srs.db)
> - we should make a SrsDb-wiki-page in which we describe why we do this
> this way, and how to do it. Maciej can you do this? Please let people
> add some tests to it too.
>
> One question: is / should it be possible to add this all to the
> epsg_tr.py script, as a new --qgis option or so? Or do we really need
> this two-step process.
>
> Maciej, THANKS for you work!
>
> Regards,
>
> Richard Duivenvoorde
>
>
>
> Maciej Sieczka wrote:
>> Folks,
>>
>> Now that the bug in GDAL [1] is fixed and backported to stable branch,
>> as well as included in the 1.5.2 RC3 [2] I have written a Shell script
>> to update QGIS srs.db, based on the installed PROJ.4 and GDAL tools
>> output. Attached.
>>
>> The script creates an SQL plain text dump that can be imported into
>> SQlite db eg. using SQLite Database Browser's "Import > Database from
>> SQL file" tool.
>>
>> The ellipsoids (tbl_ellipsoid) and projections (tbl_projection) tables
>> are created parsing the proj command output. I chose this approach,
>> because looking at the original tables content it seems the original
>> tables were created the same way.
>>
>> The tbl_srs table is created parsing the epsg_tr.py output. EPSG codes
>> to process are taken from the installed GDAL's pcs.csv and gcs.csv files.
>>
>> The script is rather self-explanatory. I have successfully used it to
>> create an updated srs.db and have been using the database with QGIS for
>> a couple of hours now. SRSs strings that were not recognizable by QGIS
>> due to infamous "k" parameter issue due to a change in GDAL [3] and QGIS
>> depending on string-wise SRS mathing [4] are now recogized fine.
>>
>> Tables structure and final SQL statements creating the view and indices
>> were copied from the original srs.db shipped with QGIS trunk r8544,
>> after dumping it to a plain text format with SQLite Database Browser.
>>
>> Please test/fix and let me know! If the tool is allright, I hope it can
>> be included in the QGIS repository and used to update the official
>> srs.db when necessary.
>>
>> Problems:
>>
>> 1. Due to changes in SRSs, projections and ellipsoids support in PROJ.4
>> and GDAL in last years, rows id's in the tables created by the script
>> are now different than they were in the original srs.db. Therefore, at
>> the SRS dialog startup, QGIS cannot find it's default ll/WGS84 SRS in
>> the updated srs.db, because it searches for "select srid from tbl_srs
>> where srs_id = 2585", which is now "SIRGAS / UTM zone 24S". Shouldn't
>> QGIS rather search by EPSG number? EPSG codes never change.
>>
>> 2. In some PROJ.4 version the name "longlat" was changed into "lonlat"
>> (and "latlong" to "latlon"). However, epsg_tr.py creates proj4 strings
>> with the old name. My script parses proj command for the list of
>> available projections and epsg_tr.py for SRSs. Since "longlat" !=
>> "latlon", the "Geographic Coordinate Systems" list in the SRS dialog was
>> not active. Once I changed the "latlon" in tbl_projection to "latlong"
>> the list is back. What do we do? Should epsg_tr.py be changed to output
>> "latlon" rather than "latlong", or should my script replace "latlong"
>> instances?
>>
>> 3. BTW I noticed that QGIS resets k factor to 0, no matter how the SRS
>> is chosen (automatically by SRS matching at layer load, or manually).
>> This is not related to my srs.db changes, it's reproducible with stock
>> srs.db too. A huge bug [5]! Please squash it! And this one [6] too, is
>> possible.
>>
>>
>> [1]http://trac.osgeo.org/gdal/ticket/2036#comment:14
>> [2]http://www.nabble.com/forum/ViewPost.jtp?post=17545259&framed=y
>> [3]http://trac.osgeo.org/gdal/changeset/12625
>> [4]http://trac.osgeo.org/qgis/ticket/1037
>> [5]http://trac.osgeo.org/qgis/ticket/1120
>> [6]http://trac.osgeo.org/qgis/ticket/1085
>>
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tutey at o2.pl  Wed Jun 11 16:55:36 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Jun 11 16:55:07 2008
Subject: [Qgis-developer] script to update the srs.db
In-Reply-To: <d368056f0806111322w60aafac0x7d179ca2ffa53c02@mail.gmail.com>
References: <4842BAFE.6020809@o2.pl> <484FCEC7.4040208@duif.net>
	<d368056f0806111322w60aafac0x7d179ca2ffa53c02@mail.gmail.com>
Message-ID: <48503BC8.9000509@o2.pl>

Tim Sutton pisze:
> Hi Richard
> 
> One thing I would like to do if you assemble small test datasets is 
> to create some unit tests for srs stuff. One basic form of test I am 
> thinking is to simply have a directory with a bunch of shapefiles 
> with a single feature each, each shp being in a different srs. The 
> test would load each one in turn and verify that it gets the correct
>  epsg etc for it. So if you so start getting little test files in, 
> bear this in mind so that we can use them for more formal unit 
> testing too.

> Secondly if I recall correctly, the reason we originally opted to use
>  our own srs identifier was that the srs db did inclide some srs 
> definitions that did not have an epsg code yet.

Please anybody who knows details speak up!

> It would be good if we could maintain the original srs id pkeys in 
> any updates you do

This could be done with some extra work, but I don't think
QGIS should depend on it's own SRS numbering scheme, when EPSG provides
an universal, stable scheme for that. That's what EPSG database is good
at and let's make use of it if possible.

> since changing them may introduce regressions for people loading .qgs
>  project files.

In a .qgs the layer's and on the <mapcanvas> SRS part looks like this:

<spatialrefsys>
  <proj4>+proj=tmerc +lat_0=0 +lon_0=19 +k=0 +x_0=500000 (snip...)
  <srsid>181</srsid>
  <srid>2180</srid>
  <epsg>2180</epsg>
  <description>ETRS89 / Poland CS92</description>
  <projectionacronym>tmerc</projectionacronym>
  <ellipsoidacronym>GRS80</ellipsoidacronym>
  <geographicflag>false</geographicflag>
</spatialrefsys>

The <properties> SRS (how does differ from the <mapcanvas> one???) is eg.:

<SpatialRefSys>
  <ProjectSRSProj4String type="QString" >+proj=tmerc +lat_0=0 (snip...)
  <ProjectSRSID type="int" >181</ProjectSRSID>
</SpatialRefSys>

Which tag does QGIS depend on to recognize the project's SRS? Does it
consider the <srsid> or <ProjectSRSID type="int" > at all?

Cheers,
Maciek

-- 
Maciej Sieczka
www.sieczka.org
From psaravanan81 at gmail.com  Fri Jun 13 06:12:16 2008
From: psaravanan81 at gmail.com (Saravanan Ponnuswamy)
Date: Fri Jun 13 06:12:18 2008
Subject: [Qgis-developer] qgis for WinCE
Message-ID: <94b8ae6d0806130312u5a2e48cdg78b6de5f930bcabe@mail.gmail.com>

HI everyone,

I had compiled QGIS for Linux and its also running fine. Now i want to try
it on WindowsCE platform. Is there any QGIS version for WindowsCE available
? if so can any one provide me the link so that i can download and compile
for WindowsCE ?

with regards,

saravanan.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080613/0e666a1c/attachment.html
From psaravanan81 at gmail.com  Fri Jun 13 06:12:51 2008
From: psaravanan81 at gmail.com (Saravanan Ponnuswamy)
Date: Fri Jun 13 06:12:55 2008
Subject: [Qgis-developer] QGIS for WindowsCE
In-Reply-To: <94b8ae6d0806130311u43aca7d3jb894c26f6a5df556@mail.gmail.com>
References: <94b8ae6d0806130311u43aca7d3jb894c26f6a5df556@mail.gmail.com>
Message-ID: <94b8ae6d0806130312w6fd5475xb24d0330bc18d4ca@mail.gmail.com>

HI everyone,

I had compiled QGIS for Linux and its also running fine. Now i want to try
it on WindowsCE platform. Is there any QGIS version for WindowsCE available
? if so can any one provide me the link so that i can download and compile
for WindowsCE ?

with regards,

saravanan.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080613/2acadf30/attachment.html
From psaravanan81 at gmail.com  Fri Jun 13 06:14:12 2008
From: psaravanan81 at gmail.com (Saravanan Ponnuswamy)
Date: Fri Jun 13 06:14:16 2008
Subject: [Qgis-developer] qgis for WinCE
Message-ID: <94b8ae6d0806130314o56e99eb4k323c02c9754dd088@mail.gmail.com>

HI everyone,

I had compiled QGIS for Linux and its also running fine. Now i want to try
it on WindowsCE platform. Is there any QGIS version for WindowsCE available
? if so can any one provide me the link so that i can download and compile
for WindowsCE ?

with regards,

saravanan.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080613/2de3d242/attachment.html
From frdcn at hotmail.com  Fri Jun 13 09:50:37 2008
From: frdcn at hotmail.com (godofredo contreras)
Date: Fri Jun 13 09:50:40 2008
Subject: [Qgis-developer] qgis for WinCE
In-Reply-To: <94b8ae6d0806130314o56e99eb4k323c02c9754dd088@mail.gmail.com>
References: <94b8ae6d0806130314o56e99eb4k323c02c9754dd088@mail.gmail.com>
Message-ID: <BAY110-W442299CA12C9389ED38A5EB2AC0@phx.gbl>

 Hi: 
     There is no version available of qgis for windows ce. But you could try to compile at least the
     api using visual studio. It was recently released a version of qt for windows ce and also most
     of dependencies (libraries used by qgis) have support for windows ce.


Regards
Godofredo Contreras 



Date: Fri, 13 Jun 2008 15:44:12 +0530
From: psaravanan81@gmail.com
To: qgis-developer@lists.osgeo.org
Subject: [Qgis-developer] qgis for WinCE

HI everyone,I had compiled QGIS for Linux and its also running fine. Now i want to try it on WindowsCE platform. Is there any QGIS version for WindowsCE available ? if so can any one provide me the link so that i can download and compile for WindowsCE ?


with regards,saravanan.

_________________________________________________________________
Now you can invite friends from Facebook and other groups to join you on Windows Live? Messenger. Add now.
https://www.invite2messenger.net/im/?source=TXT_EML_WLH_AddNow_Now
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080613/70322896/attachment.html
From wonder.sk at gmail.com  Fri Jun 13 13:25:30 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri Jun 13 13:25:32 2008
Subject: [Qgis-developer] displaying memory provider layers
In-Reply-To: <485028E3.70801@uvic.ca>
References: <e8e7199c0806081108l78a414a4vc224ddf22f57f65a@mail.gmail.com>
	<e8e7199c0806081113u1df62165gb9e19fff3b0368e@mail.gmail.com>
	<485028E3.70801@uvic.ca>
Message-ID: <e8e7199c0806131025s6136eb18ta71e54c0e9e8ce18@mail.gmail.com>

On Wed, Jun 11, 2008 at 9:34 PM, Carson Farmer <cfarmer@uvic.ca> wrote:
> [...]
>
> ... which all works fine, but when I tried:
> QgsMapLayerRegistry.instance().addMapLayer(vl) QGIS crashes (i.e. disappears
> and leaves me with the 'busy' cursor)?
>
> Any thoughts? Perhaps there is something I have to call before trying to add
> the layer to the map registry?

Hi Carson,
I'll look into this just give me some time, I'm quite busy with exams.

Martin
From tim at linfiniti.com  Fri Jun 13 16:31:02 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Fri Jun 13 16:31:05 2008
Subject: [Qgis-developer] qgis for WinCE
In-Reply-To: <BAY110-W442299CA12C9389ED38A5EB2AC0@phx.gbl>
References: <94b8ae6d0806130314o56e99eb4k323c02c9754dd088@mail.gmail.com>
	<BAY110-W442299CA12C9389ED38A5EB2AC0@phx.gbl>
Message-ID: <d368056f0806131331m5bbc4a75w521cf0eb0ea6a2b0@mail.gmail.com>

Hi


Yeah and Saravanan if you get it compiled please let us know!

Regards

Tim

2008/6/13 godofredo contreras <frdcn@hotmail.com>:
>
>  Hi:
>      There is no version available of qgis for windows ce. But you could try to compile at least the
>      api using visual studio. It was recently released a version of qt for windows ce and also most
>      of dependencies (libraries used by qgis) have support for windows ce.
>
>
> Regards
> Godofredo Contreras
>
>
>
> ________________________________
> Date: Fri, 13 Jun 2008 15:44:12 +0530
> From: psaravanan81@gmail.com
> To: qgis-developer@lists.osgeo.org
> Subject: [Qgis-developer] qgis for WinCE
>
> HI everyone,I had compiled QGIS for Linux and its also running fine. Now i want to try it on WindowsCE platform. Is there any QGIS version for WindowsCE available ? if so can any one provide me the link so that i can download and compile for WindowsCE ?
> with regards,
> saravanan.
>
> ________________________________
> Now you can invite friends from Facebook and other groups to join you on Windows Live? Messenger. Add them now!
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



--
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Sat Jun 14 02:21:32 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Jun 14 02:21:36 2008
Subject: [Qgis-developer] Fwd: was Re: (QGIS) Jam Session 08 - re: was:
	[Qgis-community-team] Hackfest 2008 (and while the wiki is down)
In-Reply-To: <48528cb3.349.5186.1281879421@webmaildh6.aruba.it>
References: <48528cb3.349.5186.1281879421@webmaildh6.aruba.it>
Message-ID: <d368056f0806132321w6f8c0a28va4d87c90477d2248@mail.gmail.com>

Forwarded message from Andrea

Tim - thanks for proposing the new plan for the hackfest.

In the meantime I'd like to clarify what will happen in
Italy following the initial brainstorming on this event.

Whenever you make plans for a convenient transit through
Italy, we'll be glad to see if we can meet ;)

a) We (GFOSS.it/Italian OSGEO Chapter) are in any case going
to set up a small event towards the end of June.
This will be centered around the night of June 28 in Massa
Marittima (Southern Tuscany).

b) Following a tentative availability of 8 people, we
triggered our search for facilities with connectivity etc.
We did get a reply in terms of a facility, so we are going
to take advantage of this to gather developers (or other
folk) interested in doing some bug squashing, but also some
interaction with users, awareness raising etc.

c) As I mentioned in my previous e-mail, this IS NOT the
hackfest. It is a "jam session" - the hackfest will take
place wherever and whenever whoever takes up its
organization will suggest.

I would like to stress this, as from your reply it seemed
that the difference was not picked up in  my previous
message ;)

d) I am not subscribed to the qgis-developer mailing list,
and I am not sure if this message will be posted. If this is
the case, may I ask that you (Tim) or Anne forward this note
to the list, just so everybody is aware of the
clarification.

Regards, and happy coding.

Andrea - aka pibinko
http://www.pibinko.org




-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From a.ghisla at studenti.uninsubria.it  Sat Jun 14 03:32:09 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Sat Jun 14 03:32:24 2008
Subject: [Qgis-developer] SoC Report: Homerange analyses in QGIS 
Message-ID: <1213428729.485373f982dab@mail.studenti.uninsubria.it>

Hi all, and sorry for delay,

this week I focused on my last exam of the year, so I didn't make progress on
GSoC side.
Next week I'll start working on the program interface soon after the exam
(Tuesday or Wednesday). I plan to increase my knowledge on Qt during next week
and after, in order to create the user interface as soon as possible.

happy coding!

Anne 



From scala at itc.cnr.it  Sat Jun 14 05:47:57 2008
From: scala at itc.cnr.it (Paolo L. Scala)
Date: Sat Jun 14 05:48:05 2008
Subject: [Qgis-developer] ECW support again
In-Reply-To: <48538ACE.8070007@jemila.jazztel.es>
References: <484E8C74.10804@itc.cnr.it> <48538ACE.8070007@jemila.jazztel.es>
Message-ID: <5312.81.208.31.214.1213436877.squirrel@mail.itc.cnr.it>


> I would like to know if you have finally been able to get ecw support
> for qgis on windows, and if so, how.
> Regards
> Carlos
>
Hello Carlos,
I didn't have the time yet to try what Marco suggested to me, but be sure
that when (and if... :D) I'll manage to get the stuff working I'll post
everything here.
Regards,
Paolo


-- 
Paolo L. Scala
Software developer
Istituto per le Tecnologie della Costruzione - CNR
via Bassini 15 - 20133 MILANO
tel.+39 02 23699547
fax.+39 02 23699543
.:: http://pico.itc.cnr.it/scala ::.

From tim at linfiniti.com  Sun Jun 15 13:42:11 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Jun 15 13:42:16 2008
Subject: [Qgis-developer] SoC Report: Homerange analyses in QGIS
In-Reply-To: <1213428729.485373f982dab@mail.studenti.uninsubria.it>
References: <1213428729.485373f982dab@mail.studenti.uninsubria.it>
Message-ID: <d368056f0806151042y1290e44cjfd996c816e91cbb7@mail.gmail.com>

Hi Anne

Just another cheer from the sidelines to wish you good luck with your work.

Also a suggestion when you start your gui design work to try to follow
the same conventions as I have been applying to rest of qgis so your
plugin 'feels' integrated with the rest of QGIS. If you want any input
on that regard feel free to buzz me.

I'm looking forward to trying it out!

Regards

Tim

2008/6/14 Anne Ghisla <a.ghisla@studenti.uninsubria.it>:
> Hi all, and sorry for delay,
>
> this week I focused on my last exam of the year, so I didn't make progress on
> GSoC side.
> Next week I'll start working on the program interface soon after the exam
> (Tuesday or Wednesday). I plan to increase my knowledge on Qt during next week
> and after, in order to create the user interface as soon as possible.
>
> happy coding!
>
> Anne
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Sun Jun 15 18:29:40 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Jun 15 18:29:42 2008
Subject: [Qgis-developer] QGIS 0.11.0 feature freeze
Message-ID: <d368056f0806151529p14712f05n875f40b89e56816f@mail.gmail.com>

Hi Folks

Due to the server outage, I needed a little more time to implement the
global proxy support in QGIS before we could feature freeze for
0.11.0. Our original programme looked like this:

June  9 - Feature freeze - bug fixing only from here on forward
June 16 - String freeze and call for translations
June 23 - Branch for release & call for packaging
June 30 - Unleash Metis on the world...

I'd like to update it to look like this:

June  15 - Feature freeze - bug fixing only from here on forward
June 23 - String freeze and call for translations
June 30 - Branch for release & call for packaging
July 5 - Unleash Metis on the world...

Consequently the above will put us now into feature freeze so no new
features should go into QGIS for 0.11.0. One exception will be
symbology fixes by Marco which may require some deeper application
changes.

If the release team could be so kind as to start preparing a super
duper visual changelog that would be great.

Tara & community team it should be safe to use what is in trunk now as
the basis for screenshots, with the previously noted exceptions of
Composer dialog and Labelling options on vector properties dialog. We
will try our very best to avoid changing other parts of the user
interface, and where it is unavoidable, keep you informed so that you
can update docs (but we will really try to leave the ui alone).

If the schedule above is causing problems for anyone please let me know.

Many thanks as always!

Regards,

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Sun Jun 15 18:36:26 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Jun 15 18:36:29 2008
Subject: [Qgis-developer] WMS-Proxy settings broken?
In-Reply-To: <20080611145050.6c4f8881@keto>
References: <20080611093014.76167049@keto>
	<d368056f0806110117m465d80c8je5a3abecf978aad8@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF865@EX6.d.ethz.ch>
	<20080611111032.47c997c3@keto>
	<d368056f0806110524r385acae7h6f9643376548060d@mail.gmail.com>
	<20080611145050.6c4f8881@keto>
Message-ID: <d368056f0806151536la3c3198s93b33e3cba069106@mail.gmail.com>

Hi Stephan and others

Ok Ive implemented proxy support as an application global setting in
r8649. It required some small changes to raster api so I hope it does
not interfere with any / many existing python plugins out there. Now I
need someone with a proxy to test it and tell me if its all working
ok....

Best regards

Tim

2008/6/11 Stephan Holl <stephan.holl@intevation.de>:
> Hello Tim,
>
> "Tim Sutton" <tim@linfiniti.com>, [20080611 - 14:24:37]
>
>> Hi guys
>>
>> Marco ok thanks for the  clarificatio - I'll try to implement proxy
>> settings centralisation over the next few days so leave it to me. i
>> dont think its the qt3 port that is the cause of the issue if the
>> problem is present in 0.10.0 too. Stephan QGIS 0.11.0 will be out at
>> the end of the month so I dont expect to backport any fixes to 0.10.0.
>
> No problem. I just wanted to make sure that proxy-settings will be
> repaired in the next release, and if it will be centralized, even
> better! This makes the project-files more transportable though.
>
> Thanks Tim for the offer to implement it befor 0.11.0. I am happy to
> give you feedback when you have included it.
>
> Since I heavily use QGIS
> through a security-proxy[1] to access secured WMS/WFS I need the
> proxy-settings in QGIS, because it does not reflect the environment
> variables http_proxy/https_proxy.
>
> Best
>
>        Stephan
>
> [1] http://inteproxy.wald.intevation.org
>
>>
>> On 6/11/08, Stephan Holl <stephan.holl@intevation.de> wrote:
>> > Hallo Marco, Tim,
>> >
>> > "Hugentobler  Marco" <marco.hugentobler@karto.baug.ethz.ch>,
>> > [20080611
>> > - 10:49:17]
>> >
>> >> Hi,
>> >>
>> >> I only changed the plugin interface, not the WMS dialog/provider
>> >> itself. Afaik, there have been some ui changes in the WMS dialog to
>> >> remove qt3 compatibility classes.
>> >>
>> >> Centralizing the proxy stuff in options, as suggested by Tim, is a
>> >> good idea. I haven't started with this and I'm quite busy at the
>> >> moment, so if someone feels like implementing this, it would be
>> >> very welcome.
>> >
>> > Yes, this is definitely a good idea, but some of my clients do
>> > need the proxy-settings for WMS, it would be good to provide a fix
>> > (since it is broken in 0.10.0 as well) for the current version
>> > though.
>> >
>> > Best regards
>> >
>> >     Stephan
>> >
>> > --
>> > Stephan Holl <stephan.holl@intevation.de>,
>> > http://intevation.de/~stephan Tel: +49 (0)541-33 50 8 32 |
>> > Intevation GmbH | AG Osnabr?ck - HR B 18998 Gesch?ftsf?hrer:  Frank
>> > Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
>> >
>>
>
>
> --
> Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
> Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
> Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Mon Jun 16 02:19:22 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Jun 16 02:19:35 2008
Subject: [Qgis-developer] Re: [work] [Qgis-release-team] QGIS 0.11.0 feature
	freeze
In-Reply-To: <4855AD18.4090305@alt2is.com>
References: <d368056f0806151529p14712f05n875f40b89e56816f@mail.gmail.com>
	<4855AD18.4090305@alt2is.com>
Message-ID: <d368056f0806152319y26211663udca5b0fa081d9876@mail.gmail.com>

Hi

Ok let me recap quickly:

 - We aim for bi-monthly releases.
 - Code currently in trunk will become QGIS 0.11.0 at the end of this
month (first week of July actually)
 - After QGIS 0.11.0 is branched off SVN, the code in trunk will
become QGIS 1.0
 - QGIS 1.0 is is planned to be released mid August.
 - We are implementing a GUI freeze as of today (as part of QGIS
0.11.0 release process) and extending up to QGIS 1.0 so that
documentation team have ~2 months lead time to get the documentation
ready before QGIS 1.0,
 - the release cycle for QGIS 1.0  (running over July to mid Aug) will
be focused on polishing source code and bug fixing.

There are 3 exceptions to the freeze as relates to the user interface:
   1) composer is being rewritten by Marco and is not ready for 0.11.0 yet
   2) the labelling functionality is being rewritten - it was
originally a GSOC project but the student pulled out and I believe
Martin is picking up the task.
   3) If bug fixes neccessitate small UI changes we will allow it. For
example there may be a spelling mistake or similar. In these cases we
will notify the community team of the change (its the responsibility
of the committer to do this) so that if needed you can update that
particular dialog's screenshot in the docs.

Following 1.0 release we will aim to do a 1.0.1 bug fix release for
around the 20th of September to coincide with FOSS4G2008.

The 1.x releases will be API compatible and the plan is for 1.x
releases to be bug fix releases only, new development after 1.0 will
focus on the QGIS 2.0 code base which I estimate will follow QGIS 1.0
1 to 2 years later (we need to determine timelines and feature spec
still).

I'm going to post this response to the blog too in order to hopefully
make things a little clearer for the general populice out there.

Best regards

Tim


2008/6/16 Tara Athan <tara_athan@alt2is.com>:
> Tim- I'm a little confused. What is happening with release 1.0?  Has these
> been renamed as 0.11?
> How does this affect our manual revision? We have the major rewriting on
> hold in anticipation of a GUI freeze.
>
> Tara
>
>
> Tim Sutton wrote:
>
> Hi Folks
>
> Due to the server outage, I needed a little more time to implement the
> global proxy support in QGIS before we could feature freeze for
> 0.11.0. Our original programme looked like this:
>
> June  9 - Feature freeze - bug fixing only from here on forward
> June 16 - String freeze and call for translations
> June 23 - Branch for release & call for packaging
> June 30 - Unleash Metis on the world...
>
> I'd like to update it to look like this:
>
> June  15 - Feature freeze - bug fixing only from here on forward
> June 23 - String freeze and call for translations
> June 30 - Branch for release & call for packaging
> July 5 - Unleash Metis on the world...
>
> Consequently the above will put us now into feature freeze so no new
> features should go into QGIS for 0.11.0. One exception will be
> symbology fixes by Marco which may require some deeper application
> changes.
>
> If the release team could be so kind as to start preparing a super
> duper visual changelog that would be great.
>
> Tara & community team it should be safe to use what is in trunk now as
> the basis for screenshots, with the previously noted exceptions of
> Composer dialog and Labelling options on vector properties dialog. We
> will try our very best to avoid changing other parts of the user
> interface, and where it is unavoidable, keep you informed so that you
> can update docs (but we will really try to leave the ui alone).
>
> If the schedule above is causing problems for anyone please let me know.
>
> Many thanks as always!
>
> Regards,
>
>
>
> ________________________________
>
> No virus found in this incoming message.
> Checked by AVG.
> Version: 8.0.100 / Virus Database: 270.3.0/1503 - Release Date: 6/14/2008
> 6:02 PM
>
>
> --
> My e-mail delivery has been unreliable lately, so I am asking for
> return receipts from all my email messages.
> OK'ing the return receipt lets me know that my message was delivered.
> Thank you.
>
> Tara Athan
> Principal, Alternatives to Invasive Species
> tara_athan [AT] alt2is.com
> 707-485-1198
> PO Box 415
> Redwood Valley, CA 95470



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From borys at wolf.most.org.pl  Mon Jun 16 02:52:37 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Mon Jun 16 02:52:47 2008
Subject: [Qgis-developer] QGIS 0.11.0 feature freeze and the Installer
In-Reply-To: <d368056f0806152319y26211663udca5b0fa081d9876@mail.gmail.com>
References: <d368056f0806151529p14712f05n875f40b89e56816f@mail.gmail.com>
	<4855AD18.4090305@alt2is.com>
	<d368056f0806152319y26211663udca5b0fa081d9876@mail.gmail.com>
Message-ID: <200806160852.37862.borys@wolf.most.org.pl>

Tim,
The Plugin Installer is working and Martin want it in the svn, but it still 
has two major issues:

- when user opens the Installer, in case of some server errors QGIS may be 
frozen during waiting for the server timeout. Note that this threat not 
happens when QGIS starts, because then is used a QThread for fetching the 
repos.

- the GUI is not polished: colours and hardcoded and there are status labels 
instead icons still (and it's still a table, not list as you wanted). 

Now I'm running for the Cascadoss, so I need 10-12 hours from now to fix it.
If you want it after all, its in my repo: 
http://bwj.aster.net.pl/qgis/newplugininstaller.zip

Cheers,
B.
From stephan.holl at intevation.de  Mon Jun 16 02:56:12 2008
From: stephan.holl at intevation.de (Stephan Holl)
Date: Mon Jun 16 02:56:15 2008
Subject: [Qgis-developer] WMS-Proxy settings broken?
In-Reply-To: <d368056f0806151536la3c3198s93b33e3cba069106@mail.gmail.com>
References: <20080611093014.76167049@keto>
	<d368056f0806110117m465d80c8je5a3abecf978aad8@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF865@EX6.d.ethz.ch>
	<20080611111032.47c997c3@keto>
	<d368056f0806110524r385acae7h6f9643376548060d@mail.gmail.com>
	<20080611145050.6c4f8881@keto>
	<d368056f0806151536la3c3198s93b33e3cba069106@mail.gmail.com>
Message-ID: <20080616085612.5438ded9@thoe.hq.intevation.de>

Hello Tim,

"Tim Sutton" <tim@linfiniti.com>, [20080616 - 00:36:26]

> Hi Stephan and others
> 
> Ok Ive implemented proxy support as an application global setting in
> r8649. 

Wow, excellent news! I will give it a go tonight and report back.

> It required some small changes to raster api so I hope it does
> not interfere with any / many existing python plugins out there. Now I
> need someone with a proxy to test it and tell me if its all working
> ok....

I will let you know what my testing did.

Best

	Stephan

> 
> Best regards
> 
> Tim
> 
> 2008/6/11 Stephan Holl <stephan.holl@intevation.de>:
> > Hello Tim,
> >
> > "Tim Sutton" <tim@linfiniti.com>, [20080611 - 14:24:37]
> >
> >> Hi guys
> >>
> >> Marco ok thanks for the  clarificatio - I'll try to implement proxy
> >> settings centralisation over the next few days so leave it to me. i
> >> dont think its the qt3 port that is the cause of the issue if the
> >> problem is present in 0.10.0 too. Stephan QGIS 0.11.0 will be out
> >> at the end of the month so I dont expect to backport any fixes to
> >> 0.10.0.
> >
> > No problem. I just wanted to make sure that proxy-settings will be
> > repaired in the next release, and if it will be centralized, even
> > better! This makes the project-files more transportable though.
> >
> > Thanks Tim for the offer to implement it befor 0.11.0. I am happy to
> > give you feedback when you have included it.
> >
> > Since I heavily use QGIS
> > through a security-proxy[1] to access secured WMS/WFS I need the
> > proxy-settings in QGIS, because it does not reflect the environment
> > variables http_proxy/https_proxy.
> >
> > Best
> >
> >        Stephan
> >
> > [1] http://inteproxy.wald.intevation.org
> >
> >>
> >> On 6/11/08, Stephan Holl <stephan.holl@intevation.de> wrote:
> >> > Hallo Marco, Tim,
> >> >
> >> > "Hugentobler  Marco" <marco.hugentobler@karto.baug.ethz.ch>,
> >> > [20080611
> >> > - 10:49:17]
> >> >
> >> >> Hi,
> >> >>
> >> >> I only changed the plugin interface, not the WMS dialog/provider
> >> >> itself. Afaik, there have been some ui changes in the WMS
> >> >> dialog to remove qt3 compatibility classes.
> >> >>
> >> >> Centralizing the proxy stuff in options, as suggested by Tim,
> >> >> is a good idea. I haven't started with this and I'm quite busy
> >> >> at the moment, so if someone feels like implementing this, it
> >> >> would be very welcome.
> >> >
> >> > Yes, this is definitely a good idea, but some of my clients do
> >> > need the proxy-settings for WMS, it would be good to provide a
> >> > fix (since it is broken in 0.10.0 as well) for the current
> >> > version though.
> >> >
> >> > Best regards
> >> >
> >> >     Stephan
> >> >
> >> > --
> >> > Stephan Holl <stephan.holl@intevation.de>,
> >> > http://intevation.de/~stephan Tel: +49 (0)541-33 50 8 32 |
> >> > Intevation GmbH | AG Osnabr?ck - HR B 18998 Gesch?ftsf?hrer:
> >> > Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
> >> >
> >>
> >
> >
> > --
> > Stephan Holl <stephan.holl@intevation.de>,
> > http://intevation.de/~stephan Tel: +49 (0)541-33 50 8 32 |
> > Intevation GmbH | AG Osnabr?ck - HR B 18998 Gesch?ftsf?hrer:  Frank
> > Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
> >
> 
> 
> 


-- 
Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
From tim at linfiniti.com  Mon Jun 16 02:56:17 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Jun 16 02:56:21 2008
Subject: [Qgis-developer] QGIS 0.11.0 feature freeze and the Installer
In-Reply-To: <200806160852.37862.borys@wolf.most.org.pl>
References: <d368056f0806151529p14712f05n875f40b89e56816f@mail.gmail.com>
	<4855AD18.4090305@alt2is.com>
	<d368056f0806152319y26211663udca5b0fa081d9876@mail.gmail.com>
	<200806160852.37862.borys@wolf.most.org.pl>
Message-ID: <d368056f0806152356mf4a08adl6c6b29c92886a03a@mail.gmail.com>

Hi Borys

Ok no problem - if we can get it in SVN today that will be great. When
you have finished your changes pass it on to Martin or myself to
commit to SVN.

Many thanks!

Regards

Tim

2008/6/16 Borys Jurgiel <borys@wolf.most.org.pl>:
> Tim,
> The Plugin Installer is working and Martin want it in the svn, but it still
> has two major issues:
>
> - when user opens the Installer, in case of some server errors QGIS may be
> frozen during waiting for the server timeout. Note that this threat not
> happens when QGIS starts, because then is used a QThread for fetching the
> repos.
>
> - the GUI is not polished: colours and hardcoded and there are status labels
> instead icons still (and it's still a table, not list as you wanted).
>
> Now I'm running for the Cascadoss, so I need 10-12 hours from now to fix it.
> If you want it after all, its in my repo:
> http://bwj.aster.net.pl/qgis/newplugininstaller.zip
>
> Cheers,
> B.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From borys at wolf.most.org.pl  Mon Jun 16 03:04:29 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Mon Jun 16 03:04:40 2008
Subject: [Qgis-developer] QGIS 0.11.0 feature freeze and the Installer
In-Reply-To: <d368056f0806152356mf4a08adl6c6b29c92886a03a@mail.gmail.com>
References: <d368056f0806151529p14712f05n875f40b89e56816f@mail.gmail.com>
	<200806160852.37862.borys@wolf.most.org.pl>
	<d368056f0806152356mf4a08adl6c6b29c92886a03a@mail.gmail.com>
Message-ID: <200806160904.30040.borys@wolf.most.org.pl>

Of course! It should be stable, but just not polished ;)


Monday 16 of June 2008 08:56:17 Tim Sutton napisa?(a):
> Hi Borys
>
> Ok no problem - if we can get it in SVN today that will be great. When
> you have finished your changes pass it on to Martin or myself to
> commit to SVN.
>
> Many thanks!
>
> Regards
>
> Tim
From otto.dassau at gmx.de  Mon Jun 16 03:51:19 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Mon Jun 16 03:52:26 2008
Subject: [Qgis-developer] Re: [Qgis-user] [Fwd: QGIS website feedback]
Message-ID: <20080616095119.3c3287e2@nature>

On Mon, 16 Jun 2008 00:18:07 +0200
Stephan Reber <stephan.reber@sr-gis.de> wrote:

> Hi,
> 
> a directory for the qgis extension is very good idea. I found a link on
> the joomla extension page ("Directory powered by Mosets Tree";
> http://www.mosets.com/). They used a 3rd party extension which costs
> 119$. But it is very nice.
> There are some other directory extensions on the joomla exension page.
> Some of them are free.

I am in favor of Werner's proposal to contact the joomla team first, if we can
reuse their code. Werner can you please go for it and report on the
community-list?

thanks a lot
  Otto
 
> Regards
> Stephan
> 
> Tim Sutton schrieb:
> > Hi
> >
> > Great idea! I look forward to seeing the results of your inquiries!
> >
> > Regards
> >
> > Tim
> >
> > 2008/6/15 Werner Macho <werner.macho@gmail.com>:
> >   
> >> Hi!
> >>
> >> What about asking the joomla website team if we could reuse their code..
> >> Should not be hard to adapt the joomla extension page to a qgis extension
> >> page .. And reinventing the wheel is time consuming .
> >> And i think also the theme should be easy to adapt.
> >> What do you think about that?
> >>
> >> regards
> >> Werner
> >>     
> >>> Hi
> >>>
> >>> I was hoping we could one day develop something like
> >>> http://extensions.joomla.org/ for qgis. The qgis community team are
> >>> busy revising the qgis.org website so it will be good to liase with
> >>> them if you have specific ideas. Stephan Reber cc'd here would be a
> >>> good person to contact.
> >>>
> >>> Regards
> >>>
> >>> Tim
From telwertowski at comcast.net  Mon Jun 16 11:08:03 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Mon Jun 16 11:08:14 2008
Subject: [Qgis-developer] QGIS 0.11.0 feature freeze
In-Reply-To: <d368056f0806152319y26211663udca5b0fa081d9876@mail.gmail.com>
References: <d368056f0806151529p14712f05n875f40b89e56816f@mail.gmail.com>	<4855AD18.4090305@alt2is.com>
	<d368056f0806152319y26211663udca5b0fa081d9876@mail.gmail.com>
Message-ID: <485681D3.7070300@comcast.net>

Tim Sutton wrote:
>  - We are implementing a GUI freeze as of today (as part of QGIS
> 0.11.0 release process) and extending up to QGIS 1.0 so that
> documentation team have ~2 months lead time to get the documentation
> ready before QGIS 1.0,

This is the first I have heard of a GUI freeze extending up to QGIS 1.0. I am STRONGLY opposed to this. I do not think the GUI is ready for release and was expecting the final release cycle leading up to 1.0 to be a time to improve the interface without worrying about new features.

Major announcements such as this should be made at the beginning of a cycle so that anyone with issues has some time to do something. Since there was no prior notice, I would like to see a GUI review during the time leading up to 0.11.0 with changes resulting from this review to be added during the first two weeks after 0.11.0.

Tom
From tim at linfiniti.com  Mon Jun 16 12:08:36 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Jun 16 12:08:38 2008
Subject: [Qgis-developer] QGIS 0.11.0 feature freeze
In-Reply-To: <485681D3.7070300@comcast.net>
References: <d368056f0806151529p14712f05n875f40b89e56816f@mail.gmail.com>
	<4855AD18.4090305@alt2is.com>
	<d368056f0806152319y26211663udca5b0fa081d9876@mail.gmail.com>
	<485681D3.7070300@comcast.net>
Message-ID: <d368056f0806160908q1f02494fnd3adc715d8988b12@mail.gmail.com>

Hi Tom

I sent out a message on 26 May (see "Release plans for QGIS 0.11.0 and
on to 1.0") in which I mentioned my intention to revise the uis and
then freeze them with the exception of the labelling and composer. I
believe there were other messages in a similar vein but I havent done
a detailed search. Perhaps I did not draw enough attention to this for
which I aplogise.

With the release of QGIS 1.0 targetted for mid August, the time from
release of 0.11.0 for 1.0 will be just over a month. We were hoping to
make the GUI frozen from after 0.11.0 so that  the documentation team
can have a fair chance to get their work done without working against
a moving target. The alternative option is to ask them to wait until
mid august before updating screenies etc. and plan to release the
documentation at some point after that (ideally in time for FOSS4G).

I did quite a bit of overhauling of the UI's over the past month,
replacing buttons with QDialogButtonBox etc and generally cleaning up
the layouts of dialogs. Perhaps a good way forward would be to
enumerate which dialogs that you feel still need revision and ask the
docs team to hold off their work until they are revised.

With QGIS 1.0 being so soon in the future we are going to have to get
to the point where we say 'what we have will have to do', or seriously
reconsider whether it is possible to release 1.0 in August. I know
Gary feels particularly strongly that we should 'get it out' in time
for FOSS4G and I suspect plugin writers etc would like to see the API
frozen sooner rather than later.

Yet another alternative I guess is to skip 0.11.0 release and extend
the open season until say end of July.

Anyway, I look forward to suggestions from you and the community as to
how you would like to proceed with the release schedule

Best regards

Tim



2008/6/16 Tom Elwertowski <telwertowski@comcast.net>:
> Tim Sutton wrote:
>>
>>  - We are implementing a GUI freeze as of today (as part of QGIS
>> 0.11.0 release process) and extending up to QGIS 1.0 so that
>> documentation team have ~2 months lead time to get the documentation
>> ready before QGIS 1.0,
>
> This is the first I have heard of a GUI freeze extending up to QGIS 1.0. I
> am STRONGLY opposed to this. I do not think the GUI is ready for release and
> was expecting the final release cycle leading up to 1.0 to be a time to
> improve the interface without worrying about new features.
>
> Major announcements such as this should be made at the beginning of a cycle
> so that anyone with issues has some time to do something. Since there was no
> prior notice, I would like to see a GUI review during the time leading up to
> 0.11.0 with changes resulting from this review to be added during the first
> two weeks after 0.11.0.
>
> Tom
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
H
From wonder.sk at gmail.com  Mon Jun 16 17:16:19 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Jun 16 17:16:21 2008
Subject: [Qgis-developer] displaying memory provider layers
In-Reply-To: <e8e7199c0806131025s6136eb18ta71e54c0e9e8ce18@mail.gmail.com>
References: <e8e7199c0806081108l78a414a4vc224ddf22f57f65a@mail.gmail.com>
	<e8e7199c0806081113u1df62165gb9e19fff3b0368e@mail.gmail.com>
	<485028E3.70801@uvic.ca>
	<e8e7199c0806131025s6136eb18ta71e54c0e9e8ce18@mail.gmail.com>
Message-ID: <e8e7199c0806161416w7a84db44i7eb4c3dec71546f3@mail.gmail.com>

On Fri, Jun 13, 2008 at 7:25 PM, Martin Dobias <wonder.sk@gmail.com> wrote:
> On Wed, Jun 11, 2008 at 9:34 PM, Carson Farmer <cfarmer@uvic.ca> wrote:
>> [...]
>>
>> ... which all works fine, but when I tried:
>> QgsMapLayerRegistry.instance().addMapLayer(vl) QGIS crashes (i.e. disappears
>> and leaves me with the 'busy' cursor)?
>>
>> Any thoughts? Perhaps there is something I have to call before trying to add
>> the layer to the map registry?
>
> Hi Carson,
> I'll look into this just give me some time, I'm quite busy with exams.

I've fixed this in r8650.

just a note about adding features - layer doesn't get noticed
automatically that provider's extent has been changed, so call
vl.updateExtents() after adding some features, otherwise it will still
report empty extents.

happy coding :)
Martin
From wonder.sk at gmail.com  Mon Jun 16 17:53:58 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Jun 16 17:54:01 2008
Subject: [Qgis-developer] Problem in shapefiles rendering
In-Reply-To: <fd4ceb470806092320r3b6ffac3i546cc8b10c5c07c5@mail.gmail.com>
References: <fd4ceb470806092320r3b6ffac3i546cc8b10c5c07c5@mail.gmail.com>
Message-ID: <e8e7199c0806161453l1956437eieb85d7d4497c417a@mail.gmail.com>

Hi,

sorry but with this amount of information really none can help you.
What exactly are you trying to do? Is it some QGIS-based application?
Why don't you use directly map canvas? Some more code to see what
actually is happening?

Martin

On Tue, Jun 10, 2008 at 8:20 AM, bargi john <bargi1981@gmail.com> wrote:
> Hi all,
>
> I am trap in a strange problem while rendering shapefiles.
>
> I am used some code of [quote]qgsmapcanvas.cpp [/quote] for creating
> Graphicsview and QGraphicsScene.
>
> The code I have wrote is as follow:
> [code]
> View::View( QWidget *parent ): QGraphicsView( parent )
> {
>
>     m_scene = new QGraphicsScene();
>     setScene( m_scene );
>
>     setRenderHint( QPainter::Antialiasing );
>     setMouseTracking( true );
>
>     setFrameShadow( QFrame::Sunken );
>     setFrameShape ( QFrame::Panel  );
> }
> [/code]
>
> The m_scene  set here is used in other CPP file where items are added to
> scene. The code is as follow:
>
> [code]
>
> QGraphicsScene *Draw::scene() const
> {
>     return m_scene; // This object is same as set in View.cpp
> }
>
> void Draw::render()
> {
>  .........//  logic to extract items
>
>   m_scene->addItem( item ); //Here item is QGraphicsItem
> }
> [/code]
>
> The problem is that only point Shapfiles are drawing correctly.
> The line and polygon shapefiles are drawn   as inverted.
> If I put clutch using [quote]scale(1,-1) [/quote]  then it draw line and
> polygon correct but point shapefiles inverted.
>
> Can any body explain me this strange behavior   and solution to it.
>
> Thanks :(
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
From marco.hugentobler at karto.baug.ethz.ch  Wed Jun 18 03:50:27 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Jun 18 03:50:26 2008
Subject: [Qgis-developer] project file transformation
In-Reply-To: <d368056f0805170706o68f4d05dk848222815f7ad2c7@mail.gmail.com>
References: <d368056f0805161219v1214b0fehaa74e6482bc35e68@mail.gmail.com>
	<200805171151.36256.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0805170706o68f4d05dk848222815f7ad2c7@mail.gmail.com>
Message-ID: <200806180950.27974.marco.hugentobler@karto.baug.ethz.ch>

Hi,

Ok, I wrote a transformation function from 0100 to 0110 in 
qgsprojectfiletransform.cpp that adapts the pen width and pointsize. However, 
to calculate the appropriate value, it is necessary to know the screen dpi. 
What I did was to query QPixmap for it. I know this is bad, because 
qgsprojectfiletransform is in core and QPixmap is a class that depends on a 
running X-server. So I see the following possibilities:

1. Remove the include of QPixmap and use a standard dpi value (e.g. 96 for my 
screen here)
2. Use QPixmap (current Code)
3. Someone knows about a better possibility to find out screen dpi

My preferred possibility is 3. If this is not possible, then probably version 
1 is best. Let me know what you think.

Btw. I found that there was a function to transform from 0.9.1 to 0.10.0 and 
no function that adresses 0.9.2. I inserted a function from 0.9.2 to 0.10.0 
that does nothing, but it would be cleaner to have transformation from 0.9.1 
to 0.9.2 and from 0.9.2 to 0.10.0.

Regards,
Marco

Am Samstag 17 Mai 2008 16:06:16 schrieb Tim Sutton:
> Hi Marco
>
> I wonder if its not better to make the change in Magnus Homanns rev-up
> code since this issue is going to affect everyone with old project and
> QGS files.
>
> regards Tim
>
> On 5/17/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> > Hi Tim,
> >
> > The failing renderer tests are caused by the fact that units are now mm
> > instead of pixel.
> > I' going to change the width/size values of the test qmls and the test
> > images
> > to make it run again.
> >
> > Regards,
> > Marco
> >
> > Am Freitag 16 Mai 2008 21:19:56 schrieb Tim Sutton:
> >> Hi All
> >>
> >> Recent commits in the last few days have introduced regressions (as
> >> can be seen by running the unit tests). Please remember to run the
> >> unit tests before committing changes to SVN. Currently we only have a
> >> few tests but they test core stuff like rendering. If you committed
> >> anything in the last few days please take a look and see if you have
> >> introduced these issues.
> >>
> >> The issues involve mainly symbol sizes for rendering as best I can
> >> make out. BTW I have not yet tried the test suite under win,but it
> >> works under mac & lin.
> >>
> >> Many thanks
> >>
> >> Tim
> >
> > --
> > Dr. Marco Hugentobler
> > Institute of Cartography
> > ETH Zurich
> > Technical Advisor QGIS Project Steering Committee
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From mendbayar_b at mongol.net  Wed Jun 18 13:46:31 2008
From: mendbayar_b at mongol.net (Byambaa Mendbayar)
Date: Wed Jun 18 05:54:00 2008
Subject: [Qgis-developer] compilation error
In-Reply-To: <200806180950.27974.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <20080618095358.30FD6E00799@lists.osgeo.org>

Dear developers,

I have problem on compiling SVN head. It was generate following error
messages:

----------------
[ 32%] Building CXX object
src/app/CMakeFiles/qgis.dir/qgsattributedialog.obj
C:\msys\local\src\qgisTrunk\src\app\qgsattributedialog.cpp: In constructor
`QgsAttributeDialog::QgsAttributeDialog(QgsFieldMap, QgsFeature*)':
C:\msys\local\src\qgisTrunk\src\app\qgsattributedialog.cpp:49: error:
`mFrame' was not declared in this scope
mingw32-make[2]: *** [src/app/CMakeFiles/qgis.dir/qgsattributedialog.obj]
Error 1
mingw32-make[1]: *** [src/app/CMakeFiles/qgis.dir/all] Error 2
mingw32-make: *** [all] Error 2

C:\msys\local\src\qgisTrunk\build>
----------------

I have using msys environment which is guided by Marco Pasetti at
http://www.webalice.it/marco.pasetti/qgis+grass/BuildFromSource.html 


With best regards,
Byambaa Mendbayar


-----Original Message-----
From: qgis-developer-bounces@lists.osgeo.org
[mailto:qgis-developer-bounces@lists.osgeo.org] On Behalf Of Marco
Hugentobler
Sent: Wednesday, June 18, 2008 3:50 PM
To: Tim Sutton
Cc: qgis-developer@lists.osgeo.org
Subject: [Qgis-developer] project file transformation

Hi,

Ok, I wrote a transformation function from 0100 to 0110 in 
qgsprojectfiletransform.cpp that adapts the pen width and pointsize.
However, 
to calculate the appropriate value, it is necessary to know the screen dpi. 
What I did was to query QPixmap for it. I know this is bad, because 
qgsprojectfiletransform is in core and QPixmap is a class that depends on a 
running X-server. So I see the following possibilities:

1. Remove the include of QPixmap and use a standard dpi value (e.g. 96 for
my 
screen here)
2. Use QPixmap (current Code)
3. Someone knows about a better possibility to find out screen dpi

My preferred possibility is 3. If this is not possible, then probably
version 
1 is best. Let me know what you think.

Btw. I found that there was a function to transform from 0.9.1 to 0.10.0 and

no function that adresses 0.9.2. I inserted a function from 0.9.2 to 0.10.0 
that does nothing, but it would be cleaner to have transformation from 0.9.1

to 0.9.2 and from 0.9.2 to 0.10.0.

Regards,
Marco

Am Samstag 17 Mai 2008 16:06:16 schrieb Tim Sutton:
> Hi Marco
>
> I wonder if its not better to make the change in Magnus Homanns rev-up
> code since this issue is going to affect everyone with old project and
> QGS files.
>
> regards Tim
>
> On 5/17/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
wrote:
> > Hi Tim,
> >
> > The failing renderer tests are caused by the fact that units are now mm
> > instead of pixel.
> > I' going to change the width/size values of the test qmls and the test
> > images
> > to make it run again.
> >
> > Regards,
> > Marco
> >
> > Am Freitag 16 Mai 2008 21:19:56 schrieb Tim Sutton:
> >> Hi All
> >>
> >> Recent commits in the last few days have introduced regressions (as
> >> can be seen by running the unit tests). Please remember to run the
> >> unit tests before committing changes to SVN. Currently we only have a
> >> few tests but they test core stuff like rendering. If you committed
> >> anything in the last few days please take a look and see if you have
> >> introduced these issues.
> >>
> >> The issues involve mainly symbol sizes for rendering as best I can
> >> make out. BTW I have not yet tried the test suite under win,but it
> >> works under mac & lin.
> >>
> >> Many thanks
> >>
> >> Tim
> >
> > --
> > Dr. Marco Hugentobler
> > Institute of Cartography
> > ETH Zurich
> > Technical Advisor QGIS Project Steering Committee
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer


From marco.hugentobler at karto.baug.ethz.ch  Wed Jun 18 09:59:15 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Jun 18 09:59:13 2008
Subject: [Qgis-developer] Stop rendering button in QgisApp
Message-ID: <200806181559.15405.marco.hugentobler@karto.baug.ethz.ch>

Hi,

I noticed that the 'stop rendering' button in the status bar is disabled 
(qgisapp.cpp):

 mStopRenderButton = new QToolButton( statusBar() );
  mStopRenderButton->setMaximumWidth(20);
  mStopRenderButton->setMaximumHeight(20);
//#ifdef Q_WS_MAC //MH: disable the button on Mac for now to avoid problems 
with resizing
  mStopRenderButton->setEnabled(false);
//#endif //Q_WS_MAC

Ok for everyone if we enable the button again (exept on Mac)? Tim, is there a 
chance to have a good icon for it?

Regards,
Marco



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tim at linfiniti.com  Wed Jun 18 16:43:22 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Jun 18 16:43:24 2008
Subject: [Qgis-developer] Re: Stop rendering button in QgisApp
In-Reply-To: <200806181559.15405.marco.hugentobler@karto.baug.ethz.ch>
References: <200806181559.15405.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0806181343q295472b2oe8052a16c744ab20@mail.gmail.com>

Hi Marco

I can make an icon but I'm without internet connection for the next
two days so I'll only be able to do it on the weekend.

I also wonder if irs not enough to simply have the escape button to
kill rendering?

Regards

Tim

On 6/18/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi,
>
> I noticed that the 'stop rendering' button in the status bar is disabled
> (qgisapp.cpp):
>
>  mStopRenderButton = new QToolButton( statusBar() );
>   mStopRenderButton->setMaximumWidth(20);
>   mStopRenderButton->setMaximumHeight(20);
> //#ifdef Q_WS_MAC //MH: disable the button on Mac for now to avoid problems
> with resizing
>   mStopRenderButton->setEnabled(false);
> //#endif //Q_WS_MAC
>
> Ok for everyone if we enable the button again (exept on Mac)? Tim, is there
> a
> chance to have a good icon for it?
>
> Regards,
> Marco
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Wed Jun 18 16:55:56 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Jun 18 16:56:04 2008
Subject: [Qgis-developer] Re: project file transformation
In-Reply-To: <200806180950.27974.marco.hugentobler@karto.baug.ethz.ch>
References: <d368056f0805161219v1214b0fehaa74e6482bc35e68@mail.gmail.com>
	<200805171151.36256.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0805170706o68f4d05dk848222815f7ad2c7@mail.gmail.com>
	<200806180950.27974.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0806181355k60424703v40c3b27152e25fd3@mail.gmail.com>

Hi Marco

Did you try QPrinter::ScreenResolution? Though I fear it may also
require QtGui. Have a poke around in qgsquickprint.cpp to see my
haphazrd way of trying to do dpi coversions between screen medium and
print medium.


Regards

Tim

On 6/18/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi,
>
> Ok, I wrote a transformation function from 0100 to 0110 in
> qgsprojectfiletransform.cpp that adapts the pen width and pointsize.
> However,
> to calculate the appropriate value, it is necessary to know the screen dpi.
> What I did was to query QPixmap for it. I know this is bad, because
> qgsprojectfiletransform is in core and QPixmap is a class that depends on a
> running X-server. So I see the following possibilities:
>
> 1. Remove the include of QPixmap and use a standard dpi value (e.g. 96 for
> my
> screen here)
> 2. Use QPixmap (current Code)
> 3. Someone knows about a better possibility to find out screen dpi
>
> My preferred possibility is 3. If this is not possible, then probably
> version
> 1 is best. Let me know what you think.
>
> Btw. I found that there was a function to transform from 0.9.1 to 0.10.0 and
> no function that adresses 0.9.2. I inserted a function from 0.9.2 to 0.10.0
> that does nothing, but it would be cleaner to have transformation from 0.9.1
> to 0.9.2 and from 0.9.2 to 0.10.0.
>
> Regards,
> Marco
>
> Am Samstag 17 Mai 2008 16:06:16 schrieb Tim Sutton:
>> Hi Marco
>>
>> I wonder if its not better to make the change in Magnus Homanns rev-up
>> code since this issue is going to affect everyone with old project and
>> QGS files.
>>
>> regards Tim
>>
>> On 5/17/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
>> wrote:
>> > Hi Tim,
>> >
>> > The failing renderer tests are caused by the fact that units are now mm
>> > instead of pixel.
>> > I' going to change the width/size values of the test qmls and the test
>> > images
>> > to make it run again.
>> >
>> > Regards,
>> > Marco
>> >
>> > Am Freitag 16 Mai 2008 21:19:56 schrieb Tim Sutton:
>> >> Hi All
>> >>
>> >> Recent commits in the last few days have introduced regressions (as
>> >> can be seen by running the unit tests). Please remember to run the
>> >> unit tests before committing changes to SVN. Currently we only have a
>> >> few tests but they test core stuff like rendering. If you committed
>> >> anything in the last few days please take a look and see if you have
>> >> introduced these issues.
>> >>
>> >> The issues involve mainly symbol sizes for rendering as best I can
>> >> make out. BTW I have not yet tried the test suite under win,but it
>> >> works under mac & lin.
>> >>
>> >> Many thanks
>> >>
>> >> Tim
>> >
>> > --
>> > Dr. Marco Hugentobler
>> > Institute of Cartography
>> > ETH Zurich
>> > Technical Advisor QGIS Project Steering Committee
>> > _______________________________________________
>> > Qgis-developer mailing list
>> > Qgis-developer@lists.osgeo.org
>> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From sherman at mrcc.com  Thu Jun 19 00:01:47 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Thu Jun 19 00:01:53 2008
Subject: [Qgis-developer] QGIS Wiki
Message-ID: <5A7B68EA-13F0-4A74-9D1B-D629D8E88150@mrcc.com>

The QGIS wiki has been restored from the latest backup and is
available for your editing pleasure.
-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-






From bargi1981 at gmail.com  Thu Jun 19 00:43:43 2008
From: bargi1981 at gmail.com (bargi john)
Date: Thu Jun 19 00:43:46 2008
Subject: [Qgis-developer] Problem in shapefiles rendering
In-Reply-To: <e8e7199c0806161453l1956437eieb85d7d4497c417a@mail.gmail.com>
References: <fd4ceb470806092320r3b6ffac3i546cc8b10c5c07c5@mail.gmail.com>
	<e8e7199c0806161453l1956437eieb85d7d4497c417a@mail.gmail.com>
Message-ID: <fd4ceb470806182143h3809465eo5a84e1bbcc8d8a08@mail.gmail.com>

Hi Martin,

Thanks for reply......
Actually the application I am working on is similar to QGIS in which
shapefiles are rendered using QT.
In between, I researched on the problem and find out that this issue is
related to QGraphicsView architecture.
In essence, when QGraphicsView is created , it create with origin(0,0) at *top
left corner*. Due to which the positive quadrant is downwards  and negative
upwards ( What I think ) due to which when shapefiles are rendered according
the coordinates position they draw in downward direction( because
coordinates of shapefiles are positive) and they appear to inverted.I found
scaling as a clutch which invert the the GraphicsView and line and polygon
shapefiles are drawn properly but it invert the point shapefile.
Due to this I reached to the possible solution that can be applied on
application:-

--- One way can be that we create the QGraphicsView with origin(0,0) at
bottom left corner.Due to this we will get the proper coordinate system for
rendering. I have tried on it but not able to find the sol. how it will be
implemented.

Have u any idea regarding this ?

Thanks


On Tue, Jun 17, 2008 at 3:23 AM, Martin Dobias <wonder.sk@gmail.com> wrote:

> Hi,
>
> sorry but with this amount of information really none can help you.
> What exactly are you trying to do? Is it some QGIS-based application?
> Why don't you use directly map canvas? Some more code to see what
> actually is happening?
>
> Martin
>
> On Tue, Jun 10, 2008 at 8:20 AM, bargi john <bargi1981@gmail.com> wrote:
> > Hi all,
> >
> > I am trap in a strange problem while rendering shapefiles.
> >
> > I am used some code of [quote]qgsmapcanvas.cpp [/quote] for creating
> > Graphicsview and QGraphicsScene.
> >
> > The code I have wrote is as follow:
> > [code]
> > View::View( QWidget *parent ): QGraphicsView( parent )
> > {
> >
> >     m_scene = new QGraphicsScene();
> >     setScene( m_scene );
> >
> >     setRenderHint( QPainter::Antialiasing );
> >     setMouseTracking( true );
> >
> >     setFrameShadow( QFrame::Sunken );
> >     setFrameShape ( QFrame::Panel  );
> > }
> > [/code]
> >
> > The m_scene  set here is used in other CPP file where items are added to
> > scene. The code is as follow:
> >
> > [code]
> >
> > QGraphicsScene *Draw::scene() const
> > {
> >     return m_scene; // This object is same as set in View.cpp
> > }
> >
> > void Draw::render()
> > {
> >  .........//  logic to extract items
> >
> >   m_scene->addItem( item ); //Here item is QGraphicsItem
> > }
> > [/code]
> >
> > The problem is that only point Shapfiles are drawing correctly.
> > The line and polygon shapefiles are drawn   as inverted.
> > If I put clutch using [quote]scale(1,-1) [/quote]  then it draw line and
> > polygon correct but point shapefiles inverted.
> >
> > Can any body explain me this strange behavior   and solution to it.
> >
> > Thanks :(
> >
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080619/ee8fa3e1/attachment.html
From marco.hugentobler at karto.baug.ethz.ch  Thu Jun 19 02:21:17 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Thu Jun 19 02:24:50 2008
Subject: [Qgis-developer] AW: Stop rendering button in QgisApp
References: <200806181559.15405.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0806181343q295472b2oe8052a16c744ab20@mail.gmail.com>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF871@EX6.d.ethz.ch>

Hi Tim,

Thanks, it is not urgent and will be fine on the weekend.
Someone suggested to me that new users would not know about the escape key, so an additional button is more intuitive.

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: Tim Sutton [mailto:tim@linfiniti.com]
Gesendet: Mi 18.06.2008 22:43
An: Hugentobler  Marco; qgis-developer@lists.osgeo.org
Betreff: Re: Stop rendering button in QgisApp
 
Hi Marco

I can make an icon but I'm without internet connection for the next
two days so I'll only be able to do it on the weekend.

I also wonder if irs not enough to simply have the escape button to
kill rendering?

Regards

Tim

On 6/18/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi,
>
> I noticed that the 'stop rendering' button in the status bar is disabled
> (qgisapp.cpp):
>
>  mStopRenderButton = new QToolButton( statusBar() );
>   mStopRenderButton->setMaximumWidth(20);
>   mStopRenderButton->setMaximumHeight(20);
> //#ifdef Q_WS_MAC //MH: disable the button on Mac for now to avoid problems
> with resizing
>   mStopRenderButton->setEnabled(false);
> //#endif //Q_WS_MAC
>
> Ok for everyone if we enable the button again (exept on Mac)? Tim, is there
> a
> chance to have a good icon for it?
>
> Regards,
> Marco
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From marco.hugentobler at karto.baug.ethz.ch  Thu Jun 19 02:25:21 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Thu Jun 19 02:26:55 2008
Subject: [Qgis-developer] AW: project file transformation
References: <d368056f0805161219v1214b0fehaa74e6482bc35e68@mail.gmail.com><200805171151.36256.marco.hugentobler@karto.baug.ethz.ch><d368056f0805170706o68f4d05dk848222815f7ad2c7@mail.gmail.com><200806180950.27974.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0806181355k60424703v40c3b27152e25fd3@mail.gmail.com>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF873@EX6.d.ethz.ch>

Hi Tim,

Ok, I'm going to use QPrinter for that. I also think it is better workaround than QPixmap because QPrinter doesn't need a running X-server.

Thanks
Marco


-----Urspr?ngliche Nachricht-----
Von: Tim Sutton [mailto:tim@linfiniti.com]
Gesendet: Mi 18.06.2008 22:55
An: Hugentobler  Marco; qgis-developer@lists.osgeo.org; wonder.sk@gmail.com
Betreff: Re: project file transformation
 
Hi Marco

Did you try QPrinter::ScreenResolution? Though I fear it may also
require QtGui. Have a poke around in qgsquickprint.cpp to see my
haphazrd way of trying to do dpi coversions between screen medium and
print medium.


Regards

Tim

On 6/18/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi,
>
> Ok, I wrote a transformation function from 0100 to 0110 in
> qgsprojectfiletransform.cpp that adapts the pen width and pointsize.
> However,
> to calculate the appropriate value, it is necessary to know the screen dpi.
> What I did was to query QPixmap for it. I know this is bad, because
> qgsprojectfiletransform is in core and QPixmap is a class that depends on a
> running X-server. So I see the following possibilities:
>
> 1. Remove the include of QPixmap and use a standard dpi value (e.g. 96 for
> my
> screen here)
> 2. Use QPixmap (current Code)
> 3. Someone knows about a better possibility to find out screen dpi
>
> My preferred possibility is 3. If this is not possible, then probably
> version
> 1 is best. Let me know what you think.
>
> Btw. I found that there was a function to transform from 0.9.1 to 0.10.0 and
> no function that adresses 0.9.2. I inserted a function from 0.9.2 to 0.10.0
> that does nothing, but it would be cleaner to have transformation from 0.9.1
> to 0.9.2 and from 0.9.2 to 0.10.0.
>
> Regards,
> Marco
>
> Am Samstag 17 Mai 2008 16:06:16 schrieb Tim Sutton:
>> Hi Marco
>>
>> I wonder if its not better to make the change in Magnus Homanns rev-up
>> code since this issue is going to affect everyone with old project and
>> QGS files.
>>
>> regards Tim
>>
>> On 5/17/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
>> wrote:
>> > Hi Tim,
>> >
>> > The failing renderer tests are caused by the fact that units are now mm
>> > instead of pixel.
>> > I' going to change the width/size values of the test qmls and the test
>> > images
>> > to make it run again.
>> >
>> > Regards,
>> > Marco
>> >
>> > Am Freitag 16 Mai 2008 21:19:56 schrieb Tim Sutton:
>> >> Hi All
>> >>
>> >> Recent commits in the last few days have introduced regressions (as
>> >> can be seen by running the unit tests). Please remember to run the
>> >> unit tests before committing changes to SVN. Currently we only have a
>> >> few tests but they test core stuff like rendering. If you committed
>> >> anything in the last few days please take a look and see if you have
>> >> introduced these issues.
>> >>
>> >> The issues involve mainly symbol sizes for rendering as best I can
>> >> make out. BTW I have not yet tried the test suite under win,but it
>> >> works under mac & lin.
>> >>
>> >> Many thanks
>> >>
>> >> Tim
>> >
>> > --
>> > Dr. Marco Hugentobler
>> > Institute of Cartography
>> > ETH Zurich
>> > Technical Advisor QGIS Project Steering Committee
>> > _______________________________________________
>> > Qgis-developer mailing list
>> > Qgis-developer@lists.osgeo.org
>> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tech_dev at wildintellect.com  Thu Jun 19 02:27:38 2008
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Thu Jun 19 02:27:49 2008
Subject: [Qgis-developer] AW: Stop rendering button in QgisApp
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF871@EX6.d.ethz.ch>
References: <200806181559.15405.marco.hugentobler@karto.baug.ethz.ch>	<d368056f0806181343q295472b2oe8052a16c744ab20@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF871@EX6.d.ethz.ch>
Message-ID: <4859FC5A.4000706@wildintellect.com>

I think both would be good, as anyone switching from ArcGIS might try to 
use the escape key which has the same function. Although even most Arc 
users I know don't know about that feature being added in I think 9.1

Also sometimes when your graphics card gets fudgy, like you were moving 
the window and it hasn't finished redrawing escape key would be the only 
option.

Alex

Hugentobler Marco wrote:
> Hi Tim,
> 
> Thanks, it is not urgent and will be fine on the weekend.
> Someone suggested to me that new users would not know about the escape key, so an additional button is more intuitive.
> 
> Regards,
> Marco
> 
> 
> -----Urspr?ngliche Nachricht-----
> Von: Tim Sutton [mailto:tim@linfiniti.com]
> Gesendet: Mi 18.06.2008 22:43
> An: Hugentobler  Marco; qgis-developer@lists.osgeo.org
> Betreff: Re: Stop rendering button in QgisApp
>  
> Hi Marco
> 
> I can make an icon but I'm without internet connection for the next
> two days so I'll only be able to do it on the weekend.
> 
> I also wonder if irs not enough to simply have the escape button to
> kill rendering?
> 
> Regards
> 
> Tim
> 
> On 6/18/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
>> Hi,
>>
>> I noticed that the 'stop rendering' button in the status bar is disabled
>> (qgisapp.cpp):
>>
>>  mStopRenderButton = new QToolButton( statusBar() );
>>   mStopRenderButton->setMaximumWidth(20);
>>   mStopRenderButton->setMaximumHeight(20);
>> //#ifdef Q_WS_MAC //MH: disable the button on Mac for now to avoid problems
>> with resizing
>>   mStopRenderButton->setEnabled(false);
>> //#endif //Q_WS_MAC
>>
>> Ok for everyone if we enable the button again (exept on Mac)? Tim, is there
>> a
>> chance to have a good icon for it?
>>
>> Regards,
>> Marco
>>
>>
>>
>> --
>> Dr. Marco Hugentobler
>> Institute of Cartography
>> ETH Zurich
>> Technical Advisor QGIS Project Steering Committee
>>
> 

From tim at linfiniti.com  Thu Jun 19 02:59:13 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Jun 19 02:59:16 2008
Subject: [Qgis-developer] Re: Stop rendering button in QgisApp
In-Reply-To: <4859FC5A.4000706@wildintellect.com>
References: <200806181559.15405.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0806181343q295472b2oe8052a16c744ab20@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF871@EX6.d.ethz.ch>
	<4859FC5A.4000706@wildintellect.com>
Message-ID: <d368056f0806182359g267f8899qc431453b3923edfe@mail.gmail.com>

Hi

Ok I'll add the icon

Regards

Tim

On 6/19/08, Alex Mandel <tech_dev@wildintellect.com> wrote:
> I think both would be good, as anyone switching from ArcGIS might try to
> use the escape key which has the same function. Although even most Arc
> users I know don't know about that feature being added in I think 9.1
>
> Also sometimes when your graphics card gets fudgy, like you were moving
> the window and it hasn't finished redrawing escape key would be the only
> option.
>
> Alex
>
> Hugentobler Marco wrote:
>> Hi Tim,
>>
>> Thanks, it is not urgent and will be fine on the weekend.
>> Someone suggested to me that new users would not know about the escape
>> key, so an additional button is more intuitive.
>>
>> Regards,
>> Marco
>>
>>
>> -----Urspr?ngliche Nachricht-----
>> Von: Tim Sutton [mailto:tim@linfiniti.com]
>> Gesendet: Mi 18.06.2008 22:43
>> An: Hugentobler  Marco; qgis-developer@lists.osgeo.org
>> Betreff: Re: Stop rendering button in QgisApp
>>
>> Hi Marco
>>
>> I can make an icon but I'm without internet connection for the next
>> two days so I'll only be able to do it on the weekend.
>>
>> I also wonder if irs not enough to simply have the escape button to
>> kill rendering?
>>
>> Regards
>>
>> Tim
>>
>> On 6/18/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
>> wrote:
>>> Hi,
>>>
>>> I noticed that the 'stop rendering' button in the status bar is disabled
>>> (qgisapp.cpp):
>>>
>>>  mStopRenderButton = new QToolButton( statusBar() );
>>>   mStopRenderButton->setMaximumWidth(20);
>>>   mStopRenderButton->setMaximumHeight(20);
>>> //#ifdef Q_WS_MAC //MH: disable the button on Mac for now to avoid
>>> problems
>>> with resizing
>>>   mStopRenderButton->setEnabled(false);
>>> //#endif //Q_WS_MAC
>>>
>>> Ok for everyone if we enable the button again (exept on Mac)? Tim, is
>>> there
>>> a
>>> chance to have a good icon for it?
>>>
>>> Regards,
>>> Marco
>>>
>>>
>>>
>>> --
>>> Dr. Marco Hugentobler
>>> Institute of Cartography
>>> ETH Zurich
>>> Technical Advisor QGIS Project Steering Committee
>>>
>>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Thu Jun 19 03:15:03 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Thu Jun 19 03:15:06 2008
Subject: [Qgis-developer] Re: project file transformation
In-Reply-To: <04DA676AA276F045B32D0F95783D78440AF873@EX6.d.ethz.ch>
References: <d368056f0805161219v1214b0fehaa74e6482bc35e68@mail.gmail.com>
	<200805171151.36256.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0805170706o68f4d05dk848222815f7ad2c7@mail.gmail.com>
	<200806180950.27974.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0806181355k60424703v40c3b27152e25fd3@mail.gmail.com>
	<04DA676AA276F045B32D0F95783D78440AF873@EX6.d.ethz.ch>
Message-ID: <d368056f0806190015tba348efxe1d7c906fc97703c@mail.gmail.com>

Hi

I wonder what will happen if its running on a headless server etc. in
this case I would have thought screenresolutuon would be undefined?
Perhaps it just chooses a 'sensible default'?

regards

On 6/19/08, Hugentobler  Marco <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi Tim,
>
> Ok, I'm going to use QPrinter for that. I also think it is better workaround
> than QPixmap because QPrinter doesn't need a running X-server.
>
> Thanks
> Marco
>
>
> -----Urspr?ngliche Nachricht-----
> Von: Tim Sutton [mailto:tim@linfiniti.com]
> Gesendet: Mi 18.06.2008 22:55
> An: Hugentobler  Marco; qgis-developer@lists.osgeo.org; wonder.sk@gmail.com
> Betreff: Re: project file transformation
>
> Hi Marco
>
> Did you try QPrinter::ScreenResolution? Though I fear it may also
> require QtGui. Have a poke around in qgsquickprint.cpp to see my
> haphazrd way of trying to do dpi coversions between screen medium and
> print medium.
>
>
> Regards
>
> Tim
>
> On 6/18/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
>> Hi,
>>
>> Ok, I wrote a transformation function from 0100 to 0110 in
>> qgsprojectfiletransform.cpp that adapts the pen width and pointsize.
>> However,
>> to calculate the appropriate value, it is necessary to know the screen
>> dpi.
>> What I did was to query QPixmap for it. I know this is bad, because
>> qgsprojectfiletransform is in core and QPixmap is a class that depends on
>> a
>> running X-server. So I see the following possibilities:
>>
>> 1. Remove the include of QPixmap and use a standard dpi value (e.g. 96 for
>> my
>> screen here)
>> 2. Use QPixmap (current Code)
>> 3. Someone knows about a better possibility to find out screen dpi
>>
>> My preferred possibility is 3. If this is not possible, then probably
>> version
>> 1 is best. Let me know what you think.
>>
>> Btw. I found that there was a function to transform from 0.9.1 to 0.10.0
>> and
>> no function that adresses 0.9.2. I inserted a function from 0.9.2 to
>> 0.10.0
>> that does nothing, but it would be cleaner to have transformation from
>> 0.9.1
>> to 0.9.2 and from 0.9.2 to 0.10.0.
>>
>> Regards,
>> Marco
>>
>> Am Samstag 17 Mai 2008 16:06:16 schrieb Tim Sutton:
>>> Hi Marco
>>>
>>> I wonder if its not better to make the change in Magnus Homanns rev-up
>>> code since this issue is going to affect everyone with old project and
>>> QGS files.
>>>
>>> regards Tim
>>>
>>> On 5/17/08, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>
>>> wrote:
>>> > Hi Tim,
>>> >
>>> > The failing renderer tests are caused by the fact that units are now mm
>>> > instead of pixel.
>>> > I' going to change the width/size values of the test qmls and the test
>>> > images
>>> > to make it run again.
>>> >
>>> > Regards,
>>> > Marco
>>> >
>>> > Am Freitag 16 Mai 2008 21:19:56 schrieb Tim Sutton:
>>> >> Hi All
>>> >>
>>> >> Recent commits in the last few days have introduced regressions (as
>>> >> can be seen by running the unit tests). Please remember to run the
>>> >> unit tests before committing changes to SVN. Currently we only have a
>>> >> few tests but they test core stuff like rendering. If you committed
>>> >> anything in the last few days please take a look and see if you have
>>> >> introduced these issues.
>>> >>
>>> >> The issues involve mainly symbol sizes for rendering as best I can
>>> >> make out. BTW I have not yet tried the test suite under win,but it
>>> >> works under mac & lin.
>>> >>
>>> >> Many thanks
>>> >>
>>> >> Tim
>>> >
>>> > --
>>> > Dr. Marco Hugentobler
>>> > Institute of Cartography
>>> > ETH Zurich
>>> > Technical Advisor QGIS Project Steering Committee
>>> > _______________________________________________
>>> > Qgis-developer mailing list
>>> > Qgis-developer@lists.osgeo.org
>>> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>> --
>> Dr. Marco Hugentobler
>> Institute of Cartography
>> ETH Zurich
>> Technical Advisor QGIS Project Steering Committee
>>
>
> --
> Sent from my mobile device
>
> Tim Sutton
> QGIS Project Steering Committee Member - Release  Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>
>

-- 
Sent from my mobile device

Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From cfarmer at uvic.ca  Thu Jun 19 03:30:34 2008
From: cfarmer at uvic.ca (cfarmer)
Date: Thu Jun 19 03:30:37 2008
Subject: [Qgis-developer] Load R sp vector layers in QGIS
In-Reply-To: <200806182218.26708.Ralf.Suhr@bauing.uni-weimar.de>
References: <20080615160005.C600EE01451@lists.osgeo.org>      
	<4859572A.4030602@gmail.com> <1213817300.7091.17.camel@vertical> 
	<200806182218.26708.Ralf.Suhr@bauing.uni-weimar.de>
Message-ID: <35781.142.104.193.193.1213860634.squirrel@wm3.uvic.ca>

Hello lists,

Apologies for cross posting, but I thought this might be of interest to
all groups...

Thanks to the excellent work of Martin Dobias on the QgsMemoryProvider, I
have created a simple plugin which acts as an additional file type handler
for R sp vector objects in QGIS.

To use:
1) In R ( or manageR ;) ), create an sp vector object
(SpatialPointsDataFrame, SpatialPolygonsDataFrame, SpatialLinesDataFrame).
2) Save the sp object to a .Rdata file
3) Enable the plugin in QGIS (the button should appear in the file toolbar
along with 'add vector layer', 'add raster layer', etc..
4) Click 'loadRlayer' button, and browse to your .Rdata file
5) The plugin should do the rest, and voila! Your R spatial layer should
be displayed on the QGIS map canvas.

To get it:
1) It is available from: 'http://www.geog.uvic.ca/spar/carson/'
or
2) Add 'http://www.geog.uvic.ca/spar/carson/cfarmerQgisRepo.xml' to your
repositories list in QGIS

Notes:
1) When possible, the spatial reference information is taken from the sp
object
2) The name is also taken from the sp object, not the name of the .Rdata file
3) Your .Rdata file should only contain a single sp object
4) I haven't tested this on multipoint or multiline features...?
5) You should be able to do all the normal things that vector layers in
QGIS can do (except for save edits).
6) Note that at this point, changes to the layer in QGIS will not be
reflected in the initial sp object, thus, this plugin is primarily for
visualizing your sp vector objects.

Hope you enjoy!

Carson

From scala at itc.cnr.it  Thu Jun 19 09:30:38 2008
From: scala at itc.cnr.it (Paolo L. Scala)
Date: Thu Jun 19 09:28:20 2008
Subject: [Qgis-developer] Overview image to raster
Message-ID: <485A5F7E.5090504@itc.cnr.it>

Hello everyone!
Does anyone know how to obtain a raster image of the overview in QGIS? 
Maybe accessing the QgsMapOverviewCanvas object??
Thanks all!
Paolo
From cfarmer at uvic.ca  Thu Jun 19 14:28:50 2008
From: cfarmer at uvic.ca (cfarmer)
Date: Thu Jun 19 14:28:53 2008
Subject: [Qgis-developer] Re: [R-sig-Geo] Load R sp vector layers in QGIS
In-Reply-To: <485A49C4.5080000@gmail.com>
References: <20080615160005.C600EE01451@lists.osgeo.org>   
	<4859572A.4030602@gmail.com> <1213817300.7091.17.camel@vertical>   
	<200806182218.26708.Ralf.Suhr@bauing.uni-weimar.de>   
	<35781.142.104.193.193.1213860634.squirrel@wm3.uvic.ca>   
	<485A49C4.5080000@gmail.com>
Message-ID: <40096.142.104.193.193.1213900130.squirrel@wm3.uvic.ca>

> Carson,
>
> This is geting close to my dreams

Well I'm glad I could provide something so useful!

> when I try to load the plugin, I get:
> An error has occured while executing Python code:
> Traceback (most recent call last):
>   File "", line 1, in
>   File "/home/alobo/.qgis//python/plugins/loadRlayer/loadRlayer.py",
> line 58, in initGui
>    self.fileBar = self.iface.fileToolBar()
> AttributeError: fileToolBar
>

What I forgot to mention last night in my email is that this plugin will
only work with r8650. This unfortunately means that to use this plugin you
will have to a) build QGIS using latest svn, or b) wait for QGIS 0.11.0.

>
> (using QGIS 0.10 on ubuntu hardy from binaries, trying to build another
version from svn)
>

Perfect! Once you get this going, you should be able to load the plugin no
problem!

Cheers,

Carson


Carson Farmer
Spatial Pattern Analysis & Research Lab (SPAR)
Department of Geography, University of Victoria
Victoria, BC, V8W 3P5,Canada
www.geog.uvic.ca/spar/carson
cfarmer@uvic.ca




From woklist at kyngchaos.com  Thu Jun 19 18:17:12 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Thu Jun 19 18:17:17 2008
Subject: [Qgis-developer] Re: Qgis app bundle script
In-Reply-To: <57442B6C-711C-4830-9590-1BEBBE7E2067@wildnevada.org>
References: <6C42AFF3-1C7C-48EE-B3D5-AD9853A4373D@wildnevada.org>
	<85195EC3-0F88-4AF2-8513-ADC0911AEF7E@kyngchaos.com>
	<592BBD39-FEA8-4D6C-A21C-5BF5C235962A@wildnevada.org>
	<AB5D8750-A666-47B3-81F7-BFD80D1BE770@kyngchaos.com>
	<57442B6C-711C-4830-9590-1BEBBE7E2067@wildnevada.org>
Message-ID: <A61ECA4C-5CC2-413E-AC46-5B45E03D5858@kyngchaos.com>

(back to the list to get others in on the discussion)

Once I got the right geoprocessing plugin installed (not the builtin  
pggeoprocessing), I could test this.  Indeed, in an unmodified build  
the Qgis Python console starts, but in the geoprocessing plugin, no  
layers are available to choose, even when there are layers in the  
layout.

I then changed one thing: I "fixed" the library paths in core.so and  
gui.so to use the @executable_path relative path (fixing the source  
path as installed, and instead of the @loader_path that I use in my  
builds).  Then it worked, I successfully created a buffer.

This is with both a Leopard build on Leopard, using the system Python  
2.5, and a Tiger build on Tiger, suing the python.org python 2.5.

But, what about the all-in-one Qgis build?  It has @executable_path in  
core.so and gui.so.  I wonder if it's a Python version problem - the  
all-in-one Qgis is built to use the Tiger system Python 2.3, not the  
python.org Python 2.5.  Though the Qgis python console starts, maybe  
the plugins need a more recent Python?

While the Python 2.5 in the Leopard system is a very usable build of  
Python, Apple's Python 2.3 in Tiger is generally regarded as unusable  
for anything serious.  Maybe the all-in-one build whould at least have  
one external requirement: Python 2.5?

On Jun 18, 2008, at 10:17 PM, John C. Tull wrote:

> Thanks again, William. I'll look forward to hearing your results and  
> input.
>
> John
>
> On Jun 18, 2008, at 8:03 PM, William Kyngesburye wrote:
>
>> I've only tried one python plugin so far - manageR, back in May.   
>> I'll take a look at others and try one in a 'raw' build and see  
>> what I get.
>>
>> PS. Tim - are there plans to move Qgis python plugins out of  
>> ~/.qgis (for OSX)?  Maybe ~/Library/Application Support/Qgis?  I  
>> also have an old 'qgis.db' file in ~/.qgis from 2006, but I don't  
>> know if it's used any more.
>>
>> On Jun 18, 2008, at 9:56 PM, John C. Tull wrote:
>>
>>> William,
>>>
>>> Just getting to today's email...
>>>
>>> The problem is not with getting Python bindings or the console  
>>> working, instead it is with various plugins that attempt to query  
>>> layers from the map canvas. When I install the geoprocessing  
>>> plugin with your 0.10 build, I get a functional plugin that loads  
>>> layers in the drop-down menu list. For my builds, this does not  
>>> populate, so the python plugins are useless.
>>>
>>> It must have something to do with your linking repairs post-build.  
>>> I would assume a script to run those changes that works for anyone  
>>> using your frameworks to build qgis from source would end up with  
>>> a binary that functions properly wrt python plugins.
>>>
>>> Thanks,
>>> John
>>

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

All generalizations are dangerous, even this one.


From john.tull at wildnevada.org  Thu Jun 19 19:25:42 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Thu Jun 19 19:25:54 2008
Subject: [Qgis-developer] Re: Qgis app bundle script
In-Reply-To: <A61ECA4C-5CC2-413E-AC46-5B45E03D5858@kyngchaos.com>
References: <6C42AFF3-1C7C-48EE-B3D5-AD9853A4373D@wildnevada.org>
	<85195EC3-0F88-4AF2-8513-ADC0911AEF7E@kyngchaos.com>
	<592BBD39-FEA8-4D6C-A21C-5BF5C235962A@wildnevada.org>
	<AB5D8750-A666-47B3-81F7-BFD80D1BE770@kyngchaos.com>
	<57442B6C-711C-4830-9590-1BEBBE7E2067@wildnevada.org>
	<A61ECA4C-5CC2-413E-AC46-5B45E03D5858@kyngchaos.com>
Message-ID: <DB72A469-1F77-4A15-9C1E-75A2B39CAC73@wildnevada.org>

So, the million-dollar question is how do you "fix" the core.so and  
gui.so files? Is there a command line, series of steps, or edit that  
you can share?

Thanks,
John

On Jun 19, 2008, at 3:17 PM, William Kyngesburye wrote:

> (back to the list to get others in on the discussion)
>
> Once I got the right geoprocessing plugin installed (not the builtin  
> pggeoprocessing), I could test this.  Indeed, in an unmodified build  
> the Qgis Python console starts, but in the geoprocessing plugin, no  
> layers are available to choose, even when there are layers in the  
> layout.
>
> I then changed one thing: I "fixed" the library paths in core.so and  
> gui.so to use the @executable_path relative path (fixing the source  
> path as installed, and instead of the @loader_path that I use in my  
> builds).  Then it worked, I successfully created a buffer.
>
> This is with both a Leopard build on Leopard, using the system  
> Python 2.5, and a Tiger build on Tiger, suing the python.org python  
> 2.5.
>
> But, what about the all-in-one Qgis build?  It has @executable_path  
> in core.so and gui.so.  I wonder if it's a Python version problem -  
> the all-in-one Qgis is built to use the Tiger system Python 2.3, not  
> the python.org Python 2.5.  Though the Qgis python console starts,  
> maybe the plugins need a more recent Python?
>
> While the Python 2.5 in the Leopard system is a very usable build of  
> Python, Apple's Python 2.3 in Tiger is generally regarded as  
> unusable for anything serious.  Maybe the all-in-one build whould at  
> least have one external requirement: Python 2.5?
>
> On Jun 18, 2008, at 10:17 PM, John C. Tull wrote:
>
>> Thanks again, William. I'll look forward to hearing your results  
>> and input.
>>
>> John
>>
>> On Jun 18, 2008, at 8:03 PM, William Kyngesburye wrote:
>>
>>> I've only tried one python plugin so far - manageR, back in May.   
>>> I'll take a look at others and try one in a 'raw' build and see  
>>> what I get.
>>>
>>> PS. Tim - are there plans to move Qgis python plugins out of  
>>> ~/.qgis (for OSX)?  Maybe ~/Library/Application Support/Qgis?  I  
>>> also have an old 'qgis.db' file in ~/.qgis from 2006, but I don't  
>>> know if it's used any more.
>>>
>>> On Jun 18, 2008, at 9:56 PM, John C. Tull wrote:
>>>
>>>> William,
>>>>
>>>> Just getting to today's email...
>>>>
>>>> The problem is not with getting Python bindings or the console  
>>>> working, instead it is with various plugins that attempt to query  
>>>> layers from the map canvas. When I install the geoprocessing  
>>>> plugin with your 0.10 build, I get a functional plugin that loads  
>>>> layers in the drop-down menu list. For my builds, this does not  
>>>> populate, so the python plugins are useless.
>>>>
>>>> It must have something to do with your linking repairs post- 
>>>> build. I would assume a script to run those changes that works  
>>>> for anyone using your frameworks to build qgis from source would  
>>>> end up with a binary that functions properly wrt python plugins.
>>>>
>>>> Thanks,
>>>> John
>>>
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> All generalizations are dangerous, even this one.
>
>

From woklist at kyngchaos.com  Thu Jun 19 19:45:41 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Thu Jun 19 19:45:44 2008
Subject: [Qgis-developer] Re: Qgis app bundle script
In-Reply-To: <DB72A469-1F77-4A15-9C1E-75A2B39CAC73@wildnevada.org>
References: <6C42AFF3-1C7C-48EE-B3D5-AD9853A4373D@wildnevada.org>
	<85195EC3-0F88-4AF2-8513-ADC0911AEF7E@kyngchaos.com>
	<592BBD39-FEA8-4D6C-A21C-5BF5C235962A@wildnevada.org>
	<AB5D8750-A666-47B3-81F7-BFD80D1BE770@kyngchaos.com>
	<57442B6C-711C-4830-9590-1BEBBE7E2067@wildnevada.org>
	<A61ECA4C-5CC2-413E-AC46-5B45E03D5858@kyngchaos.com>
	<DB72A469-1F77-4A15-9C1E-75A2B39CAC73@wildnevada.org>
Message-ID: <2B00A78C-C626-470A-97FB-061F78130825@kyngchaos.com>

Ah, right, until it's fixed in the source:

The paths all depend on where you have your source and where you  
install Qgis, so I won't give explicit paths here.  After installing,  
open the qgis app package (right-click, Show Package Contents).  Dig  
into Contents/MacOS/share/qgis/python/qgis to find core.so and  
gui.so.  (I do this to easily get the path so I don't have to type it  
in the Terminal)

In a Terminal, type

otool -L

(that's a space after the L) and drag gui.so to the Terminal window.   
Press return.

Towards the top should be a line for libqgis_gui.0.11.dylib and a line  
for libqgis_core.0.11.dylib.  Type:

sudo install_name_tool -change [/path/to/libqgis_gui.dylib]  
@executable_path/lib/libqgis_gui.dylib -change [/path/to/ 
libqgis_core.dylib] @executable_path/lib/libqgis_core.dylib [drag  
gui.so to Terminal]

for the /path/to/libqgis_*.dylib above, copy and paste what you found  
for the full path to each library in otool -L.

For example *this is just for mine* :

sudo install_name_tool -change /Users/Shared/src/qgis/svn/qgis_r8652/ 
build-leo/src/gui/libqgis_gui.0.11.dylib @executable_path/lib/ 
libqgis_gui.dylib -change /Users/Shared/src/qgis/svn/qgis_r8652/build- 
leo/src/core/libqgis_core.0.11.dylib @executable_path/lib/ 
libqgis_core.dylib /Applications/qgis0.11.0.app/Contents/MacOS/share/ 
qgis/python/qgis/gui.so

Do the same for core.so.  You can just up-arrow to get the previous  
command and change gui.so to core.so at the very end of the command.   
It doesn't matter that core.so doesn't have libqgis_gui.dylib in it,  
it will ignore that.

Run otool -L on them again to verify the change.


On Jun 19, 2008, at 6:25 PM, John C. Tull wrote:

> So, the million-dollar question is how do you "fix" the core.so and  
> gui.so files? Is there a command line, series of steps, or edit that  
> you can share?
>
> Thanks,
> John
>
> On Jun 19, 2008, at 3:17 PM, William Kyngesburye wrote:
>
>> (back to the list to get others in on the discussion)
>>
>> Once I got the right geoprocessing plugin installed (not the  
>> builtin pggeoprocessing), I could test this.  Indeed, in an  
>> unmodified build the Qgis Python console starts, but in the  
>> geoprocessing plugin, no layers are available to choose, even when  
>> there are layers in the layout.
>>
>> I then changed one thing: I "fixed" the library paths in core.so  
>> and gui.so to use the @executable_path relative path (fixing the  
>> source path as installed, and instead of the @loader_path that I  
>> use in my builds).  Then it worked, I successfully created a buffer.
>>
>> This is with both a Leopard build on Leopard, using the system  
>> Python 2.5, and a Tiger build on Tiger, suing the python.org python  
>> 2.5.
>>
>> But, what about the all-in-one Qgis build?  It has @executable_path  
>> in core.so and gui.so.  I wonder if it's a Python version problem -  
>> the all-in-one Qgis is built to use the Tiger system Python 2.3,  
>> not the python.org Python 2.5.  Though the Qgis python console  
>> starts, maybe the plugins need a more recent Python?
>>
>> While the Python 2.5 in the Leopard system is a very usable build  
>> of Python, Apple's Python 2.3 in Tiger is generally regarded as  
>> unusable for anything serious.  Maybe the all-in-one build whould  
>> at least have one external requirement: Python 2.5?
>>
>> On Jun 18, 2008, at 10:17 PM, John C. Tull wrote:
>>
>>> Thanks again, William. I'll look forward to hearing your results  
>>> and input.
>>>
>>> John
>>>
>>> On Jun 18, 2008, at 8:03 PM, William Kyngesburye wrote:
>>>
>>>> I've only tried one python plugin so far - manageR, back in May.   
>>>> I'll take a look at others and try one in a 'raw' build and see  
>>>> what I get.
>>>>
>>>> PS. Tim - are there plans to move Qgis python plugins out of  
>>>> ~/.qgis (for OSX)?  Maybe ~/Library/Application Support/Qgis?  I  
>>>> also have an old 'qgis.db' file in ~/.qgis from 2006, but I don't  
>>>> know if it's used any more.
>>>>
>>>> On Jun 18, 2008, at 9:56 PM, John C. Tull wrote:
>>>>
>>>>> William,
>>>>>
>>>>> Just getting to today's email...
>>>>>
>>>>> The problem is not with getting Python bindings or the console  
>>>>> working, instead it is with various plugins that attempt to  
>>>>> query layers from the map canvas. When I install the  
>>>>> geoprocessing plugin with your 0.10 build, I get a functional  
>>>>> plugin that loads layers in the drop-down menu list. For my  
>>>>> builds, this does not populate, so the python plugins are useless.
>>>>>
>>>>> It must have something to do with your linking repairs post- 
>>>>> build. I would assume a script to run those changes that works  
>>>>> for anyone using your frameworks to build qgis from source would  
>>>>> end up with a binary that functions properly wrt python plugins.
>>>>>
>>>>> Thanks,
>>>>> John
>>>>
>>
>> -----
>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>> http://www.kyngchaos.com/
>>
>> All generalizations are dangerous, even this one.
>>
>>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"This is a question about the past, is it? ... How can I tell that the  
past isn't a fiction designed to account for the discrepancy between  
my immediate physical sensations and my state of mind?"

- The Ruler of the Universe


From john.tull at wildnevada.org  Thu Jun 19 22:19:41 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Thu Jun 19 22:19:52 2008
Subject: [Qgis-developer] Re: Qgis app bundle script
In-Reply-To: <2B00A78C-C626-470A-97FB-061F78130825@kyngchaos.com>
References: <6C42AFF3-1C7C-48EE-B3D5-AD9853A4373D@wildnevada.org>
	<85195EC3-0F88-4AF2-8513-ADC0911AEF7E@kyngchaos.com>
	<592BBD39-FEA8-4D6C-A21C-5BF5C235962A@wildnevada.org>
	<AB5D8750-A666-47B3-81F7-BFD80D1BE770@kyngchaos.com>
	<57442B6C-711C-4830-9590-1BEBBE7E2067@wildnevada.org>
	<A61ECA4C-5CC2-413E-AC46-5B45E03D5858@kyngchaos.com>
	<DB72A469-1F77-4A15-9C1E-75A2B39CAC73@wildnevada.org>
	<2B00A78C-C626-470A-97FB-061F78130825@kyngchaos.com>
Message-ID: <20F1E6C9-6D97-4DC4-8676-EFAF59668BAE@wildnevada.org>

William,

Thank you for the detailed outline of the steps you have used. I was  
able to get functional python plugins after applying your process to  
my build. I am super appreciative of you taking the time to help me  
(and hopefully others) get past this hurdle. Whether or not this can  
be automated or overcome through source code improvements is beyond  
me, but thinks are definitely a lot brighter already.

Cheers,
John


On Jun 19, 2008, at 4:45 PM, William Kyngesburye wrote:

> Ah, right, until it's fixed in the source:
>
> The paths all depend on where you have your source and where you  
> install Qgis, so I won't give explicit paths here.  After  
> installing, open the qgis app package (right-click, Show Package  
> Contents).  Dig into Contents/MacOS/share/qgis/python/qgis to find  
> core.so and gui.so.  (I do this to easily get the path so I don't  
> have to type it in the Terminal)
>
> In a Terminal, type
>
> otool -L
>
> (that's a space after the L) and drag gui.so to the Terminal  
> window.  Press return.
>
> Towards the top should be a line for libqgis_gui.0.11.dylib and a  
> line for libqgis_core.0.11.dylib.  Type:
>
> sudo install_name_tool -change [/path/to/libqgis_gui.dylib]  
> @executable_path/lib/libqgis_gui.dylib -change [/path/to/ 
> libqgis_core.dylib] @executable_path/lib/libqgis_core.dylib [drag  
> gui.so to Terminal]
>
> for the /path/to/libqgis_*.dylib above, copy and paste what you  
> found for the full path to each library in otool -L.
>
> For example *this is just for mine* :
>
> sudo install_name_tool -change /Users/Shared/src/qgis/svn/qgis_r8652/ 
> build-leo/src/gui/libqgis_gui.0.11.dylib @executable_path/lib/ 
> libqgis_gui.dylib -change /Users/Shared/src/qgis/svn/qgis_r8652/ 
> build-leo/src/core/libqgis_core.0.11.dylib @executable_path/lib/ 
> libqgis_core.dylib /Applications/qgis0.11.0.app/Contents/MacOS/share/ 
> qgis/python/qgis/gui.so
>
> Do the same for core.so.  You can just up-arrow to get the previous  
> command and change gui.so to core.so at the very end of the  
> command.  It doesn't matter that core.so doesn't have  
> libqgis_gui.dylib in it, it will ignore that.
>
> Run otool -L on them again to verify the change.
>
>
> On Jun 19, 2008, at 6:25 PM, John C. Tull wrote:
>
>> So, the million-dollar question is how do you "fix" the core.so and  
>> gui.so files? Is there a command line, series of steps, or edit  
>> that you can share?
>>
>> Thanks,
>> John
>>
>> On Jun 19, 2008, at 3:17 PM, William Kyngesburye wrote:
>>
>>> (back to the list to get others in on the discussion)
>>>
>>> Once I got the right geoprocessing plugin installed (not the  
>>> builtin pggeoprocessing), I could test this.  Indeed, in an  
>>> unmodified build the Qgis Python console starts, but in the  
>>> geoprocessing plugin, no layers are available to choose, even when  
>>> there are layers in the layout.
>>>
>>> I then changed one thing: I "fixed" the library paths in core.so  
>>> and gui.so to use the @executable_path relative path (fixing the  
>>> source path as installed, and instead of the @loader_path that I  
>>> use in my builds).  Then it worked, I successfully created a buffer.
>>>
>>> This is with both a Leopard build on Leopard, using the system  
>>> Python 2.5, and a Tiger build on Tiger, suing the python.org  
>>> python 2.5.
>>>
>>> But, what about the all-in-one Qgis build?  It has  
>>> @executable_path in core.so and gui.so.  I wonder if it's a Python  
>>> version problem - the all-in-one Qgis is built to use the Tiger  
>>> system Python 2.3, not the python.org Python 2.5.  Though the Qgis  
>>> python console starts, maybe the plugins need a more recent Python?
>>>
>>> While the Python 2.5 in the Leopard system is a very usable build  
>>> of Python, Apple's Python 2.3 in Tiger is generally regarded as  
>>> unusable for anything serious.  Maybe the all-in-one build whould  
>>> at least have one external requirement: Python 2.5?
>>>
>>> On Jun 18, 2008, at 10:17 PM, John C. Tull wrote:
>>>
>>>> Thanks again, William. I'll look forward to hearing your results  
>>>> and input.
>>>>
>>>> John
>>>>
>>>> On Jun 18, 2008, at 8:03 PM, William Kyngesburye wrote:
>>>>
>>>>> I've only tried one python plugin so far - manageR, back in  
>>>>> May.  I'll take a look at others and try one in a 'raw' build  
>>>>> and see what I get.
>>>>>
>>>>> PS. Tim - are there plans to move Qgis python plugins out of  
>>>>> ~/.qgis (for OSX)?  Maybe ~/Library/Application Support/Qgis?  I  
>>>>> also have an old 'qgis.db' file in ~/.qgis from 2006, but I  
>>>>> don't know if it's used any more.
>>>>>
>>>>> On Jun 18, 2008, at 9:56 PM, John C. Tull wrote:
>>>>>
>>>>>> William,
>>>>>>
>>>>>> Just getting to today's email...
>>>>>>
>>>>>> The problem is not with getting Python bindings or the console  
>>>>>> working, instead it is with various plugins that attempt to  
>>>>>> query layers from the map canvas. When I install the  
>>>>>> geoprocessing plugin with your 0.10 build, I get a functional  
>>>>>> plugin that loads layers in the drop-down menu list. For my  
>>>>>> builds, this does not populate, so the python plugins are  
>>>>>> useless.
>>>>>>
>>>>>> It must have something to do with your linking repairs post- 
>>>>>> build. I would assume a script to run those changes that works  
>>>>>> for anyone using your frameworks to build qgis from source  
>>>>>> would end up with a binary that functions properly wrt python  
>>>>>> plugins.
>>>>>>
>>>>>> Thanks,
>>>>>> John
>>>>>
>>>
>>> -----
>>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>>> http://www.kyngchaos.com/
>>>
>>> All generalizations are dangerous, even this one.
>>>
>>>
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> "This is a question about the past, is it? ... How can I tell that  
> the past isn't a fiction designed to account for the discrepancy  
> between my immediate physical sensations and my state of mind?"
>
> - The Ruler of the Universe
>
>

From a.ghisla at studenti.uninsubria.it  Fri Jun 20 03:19:12 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Fri Jun 20 03:19:29 2008
Subject: [Qgis-developer] SoC Report: Homerange analyses in QGIS 
Message-ID: <1213946352.485b59f031263@mail.studenti.uninsubria.it>

Hi all,

this week I started working on the interface of the plugin.
QtDesigner is very useful and well-documented, so I'm progressing faster than I
imagined :)
I also set up the development environment (Eclipse with Python plugin).

Next week I plan to:
- add the code of the interface into the plugin and let future coustomers test it
- learn more about the established conventions for QGIS, to perform the best
integration with the program.
I'll also test the plugin on Windows, to check as early as possible if there are
any uncompatibilities.

I'm not experiencing any substantial blocks.

regards, 

Anne Ghisla





From stephan.holl at intevation.de  Fri Jun 20 07:10:08 2008
From: stephan.holl at intevation.de (Stephan Holl)
Date: Fri Jun 20 07:10:13 2008
Subject: [Qgis-developer] Projection-support in QGIS w/ WMS
Message-ID: <20080620131008.6aeb0a3c@keto>

Dear developers,

while the 0.10.0 release of QGIS seems to have a broken
projection-support I am wondering if this is adressed somewhere in SVN?

Will the new release 0.11.0 have this issue fixed?

This seems to be a showstopper for some of my clients 

It seems that ticket 1115[1] has the same problem though.
Thanks for any feedback.

Best

	Stephan


[1] http://trac.osgeo.org/qgis/ticket/1115

-- 
Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
From marco.hugentobler at karto.baug.ethz.ch  Fri Jun 20 08:40:52 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Fri Jun 20 08:40:41 2008
Subject: [Qgis-developer] Projection-support in QGIS w/ WMS
In-Reply-To: <20080620131008.6aeb0a3c@keto>
References: <20080620131008.6aeb0a3c@keto>
Message-ID: <200806201440.52588.marco.hugentobler@karto.baug.ethz.ch>

Hi Stephan,

The problem with the projection-support is that srs matching doesn't work 
together with all gdal versions (e.g. it works for gdal-1.4).

For version 0.11.0, it is planned to be compatible with gdal 1.5 and higher 
for srs definitions. Richard, please correct me if I'm wrong.

Ticket 1115 works for me with the current svn version. I think it is a 
different issue, because with WMS, there is lookup with epsg number and not 
with proj4 string.

Regards,
Marco 



Am Freitag 20 Juni 2008 13:10:08 schrieb Stephan Holl:
Dear developers,

while the 0.10.0 release of QGIS seems to have a broken
projection-support I am wondering if this is adressed somewhere in SVN?

Will the new release 0.11.0 have this issue fixed?

This seems to be a showstopper for some of my clients 

It seems that ticket 1115[1] has the same problem though.
Thanks for any feedback.

Best

        Stephan





-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From stephan.holl at intevation.de  Fri Jun 20 09:08:23 2008
From: stephan.holl at intevation.de (Stephan Holl)
Date: Fri Jun 20 09:08:28 2008
Subject: [Qgis-developer] Projection-support in QGIS w/ WMS
In-Reply-To: <200806201440.52588.marco.hugentobler@karto.baug.ethz.ch>
References: <20080620131008.6aeb0a3c@keto>
	<200806201440.52588.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <20080620150823.7269360a@keto>

Hallo Marco,

Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>, [20080620 -
14:40:52]

> Hi Stephan,
> 
> The problem with the projection-support is that srs matching doesn't
> work together with all gdal versions (e.g. it works for gdal-1.4).
> 
> For version 0.11.0, it is planned to be compatible with gdal 1.5 and
> higher for srs definitions. Richard, please correct me if I'm wrong.

Good to hear!
 
> Ticket 1115 works for me with the current svn version. I think it is
> a different issue, because with WMS, there is lookup with epsg number
> and not with proj4 string.

Yes, (as usual), you are right. The problem is different; we use UMN
MapServer as WMS with PostGIS-layers. Since UMN does not calculate the
BBOX dynamically for PGIS-layers, the resulting BoundingBox in the
GetCaps was wrong. Setting wms_extent within the layer solved that and
QGIS is now able to show the layers.

Again, thanks for your hint!

	Stephan

> 
> Am Freitag 20 Juni 2008 13:10:08 schrieb Stephan Holl:
> Dear developers,
> 
> while the 0.10.0 release of QGIS seems to have a broken
> projection-support I am wondering if this is adressed somewhere in
> SVN?
> 
> Will the new release 0.11.0 have this issue fixed?
> 
> This seems to be a showstopper for some of my clients 
> 
> It seems that ticket 1115[1] has the same problem though.
> Thanks for any feedback.
> 
> Best
> 
>         Stephan
> 
> 
> 
> 
> 


-- 
Stephan Holl <stephan.holl@intevation.de>, http://intevation.de/~stephan
Tel: +49 (0)541-33 50 8 32 | Intevation GmbH | AG Osnabr?ck - HR B 18998
Gesch?ftsf?hrer:  Frank Koormann, Bernhard Reiter, Dr. Jan-Oliver Wagner
From john.tull at wildnevada.org  Fri Jun 20 11:59:36 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Fri Jun 20 11:59:43 2008
Subject: [Qgis-developer] SoC Report: Homerange analyses in QGIS 
In-Reply-To: <1213946352.485b59f031263@mail.studenti.uninsubria.it>
References: <1213946352.485b59f031263@mail.studenti.uninsubria.it>
Message-ID: <6CE6027E-9484-4BC5-AEDF-26D78A56F341@wildnevada.org>

Anne,

Thanks for the frequent updates on your progress. It all sounds very  
good. Bear in mind that Mac OS X issues might also arise. Feel free to  
contact me if you need some testing on that platform.

Regards,
John

On Jun 20, 2008, at 12:19 AM, Anne Ghisla wrote:

> Hi all,
>
> this week I started working on the interface of the plugin.
> QtDesigner is very useful and well-documented, so I'm progressing  
> faster than I
> imagined :)
> I also set up the development environment (Eclipse with Python  
> plugin).
>
> Next week I plan to:
> - add the code of the interface into the plugin and let future  
> coustomers test it
> - learn more about the established conventions for QGIS, to perform  
> the best
> integration with the program.
> I'll also test the plugin on Windows, to check as early as possible  
> if there are
> any uncompatibilities.
>
> I'm not experiencing any substantial blocks.
>
> regards,
>
> Anne Ghisla
>
>
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From wonder.sk at gmail.com  Sat Jun 21 07:04:43 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Jun 21 07:04:46 2008
Subject: [Qgis-developer] Problem in shapefiles rendering
In-Reply-To: <fd4ceb470806182143h3809465eo5a84e1bbcc8d8a08@mail.gmail.com>
References: <fd4ceb470806092320r3b6ffac3i546cc8b10c5c07c5@mail.gmail.com>
	<e8e7199c0806161453l1956437eieb85d7d4497c417a@mail.gmail.com>
	<fd4ceb470806182143h3809465eo5a84e1bbcc8d8a08@mail.gmail.com>
Message-ID: <e8e7199c0806210404xbbe1df9q2c1fd24a0f5f00fa@mail.gmail.com>

On Thu, Jun 19, 2008 at 6:43 AM, bargi john <bargi1981@gmail.com> wrote:
> Hi Martin,
>
> Thanks for reply......
> Actually the application I am working on is similar to QGIS in which
> shapefiles are rendered using QT.
> In between, I researched on the problem and find out that this issue is
> related to QGraphicsView architecture.
> In essence, when QGraphicsView is created , it create with origin(0,0) at
> top left corner. Due to which the positive quadrant is downwards  and
> negative upwards ( What I think ) due to which when shapefiles are rendered
> according the coordinates position they draw in downward direction( because
> coordinates of shapefiles are positive) and they appear to inverted.I found
> scaling as a clutch which invert the the GraphicsView and line and polygon
> shapefiles are drawn properly but it invert the point shapefile.
> Due to this I reached to the possible solution that can be applied on
> application:-
>
> --- One way can be that we create the QGraphicsView with origin(0,0) at
> bottom left corner.Due to this we will get the proper coordinate system for
> rendering. I have tried on it but not able to find the sol. how it will be
> implemented.

Actually, coordinates can be both positive and negative: with
unprojected coordinates on earth:
- x in range [-180, 180]
- y in range [-90,90]

northern hemisphere: y positive
eastern hemisphere: x positive

But in case you have to transform just of some data, it's possible
that your data might be incorrect.

Martin
From wonder.sk at gmail.com  Sat Jun 21 09:15:43 2008
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Jun 21 09:15:45 2008
Subject: [Qgis-developer] Overview image to raster
In-Reply-To: <485A5F7E.5090504@itc.cnr.it>
References: <485A5F7E.5090504@itc.cnr.it>
Message-ID: <e8e7199c0806210615r446edfe7u624cafedfc973675@mail.gmail.com>

Hi Paolo,

raster image storing overview is indeed located in
QgsMapOverviewCanvas class, member mPixmap. But it's protected and
there's no getter function to obtain it. Other issue is how to access
QgsMapOverviewCanvas - it's not possible get pointer to it from
QgsMapCanvas. In case of enough interest, these geter functions could
be added.

But can you explain me your use case of overview pixmap?

Martin

On Thu, Jun 19, 2008 at 3:30 PM, Paolo L. Scala <scala@itc.cnr.it> wrote:
> Hello everyone!
> Does anyone know how to obtain a raster image of the overview in QGIS? Maybe
> accessing the QgsMapOverviewCanvas object??
> Thanks all!
> Paolo
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From b.rowlingson at lancaster.ac.uk  Sun Jun 22 11:25:23 2008
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Sun Jun 22 11:25:40 2008
Subject: [Qgis-developer] XSL transformation for Qgis repo XML files
Message-ID: <485E6EE3.9060906@lancaster.ac.uk>

   I was having some trouble installing a plugin from the installer, so I
figured I'd download the source zip file. So I got the repo XML file,
found the plugin, cut n pasted the URL into my browser, downloaded and
there it was.

   Which was a bit of a faff really  :)

   So I figured with a bit of XSL and CSS magic I could make the XML repo
files display nicely in Firefox and other browsers (what?!, there's
other browsers???).

   First, repo managers need to make sure their xml files have a proper
XML header and an xml-stylesheet tag. This doesn't affect the way QGIS
parses the file:

<?xml version="1.0" encoding="ISO-8859-1" ?>
<?xml-stylesheet type="text/xsl" href="plugins.xsl" ?>

   That's all you need to do to the .xml file.

   Then put a plugins.xsl file where that href will find it. Put it
anywhere but make sure the href in the stylesheet tag points to it.

   I've attached a plugins.xsl that I wrote. It just shows each plugin in
a nice box with a link to the file and the homepage. Here's how my
rather scanty repo looks with it:

http://www.maths.lancs.ac.uk/~rowlings/Qgis/Plugins/plugins.xml

   You can also download the plugins.xsl from there if the attachment
fails to get through the mailing list. Feel free to customise the
plugins.xsl to express your personality.

   One thing I'd like to see is some attributes for the <plugins> tag, to
specify the repository perhaps, so I could do: <plugins repo="Barry's
Plugins">. Might be useful for presentation purposes and including in
the plugin loader.

   Feel free to use this technique or not - I'm just filling in time
between household chores on a rainy Sunday. Or finding excuses to avoid
said chores...

Barry
-------------- next part --------------
A non-text attachment was scrubbed...
Name: plugins.xsl
Type: text/xml
Size: 1654 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080622/266fc666/plugins.xsl
From bargi1981 at gmail.com  Mon Jun 23 00:32:28 2008
From: bargi1981 at gmail.com (bargi john)
Date: Mon Jun 23 00:32:31 2008
Subject: [Qgis-developer] Re: Problem in shapefiles rendering
In-Reply-To: <e8e7199c0806210404xbbe1df9q2c1fd24a0f5f00fa@mail.gmail.com>
References: <fd4ceb470806092320r3b6ffac3i546cc8b10c5c07c5@mail.gmail.com>
	<e8e7199c0806161453l1956437eieb85d7d4497c417a@mail.gmail.com>
	<fd4ceb470806182143h3809465eo5a84e1bbcc8d8a08@mail.gmail.com>
	<e8e7199c0806210404xbbe1df9q2c1fd24a0f5f00fa@mail.gmail.com>
Message-ID: <fd4ceb470806222132o33520f2eme752e36310c32b42@mail.gmail.com>

Hi Martin,

Thanks for reply......

>But in case you have to transform just of some data, it's possible
>that your data might be incorrect.

What does this mean ??
Actually the shapefiles I am using is downloaded from ibcca.
And over though, how QGIS is rendering it properly ?
Did u mean that I have to do coordinate Transformation on features before
they are drawn ?
Actually I want to know that how QGIS is able to draw the shapefiles
correctly and not my application ?
Is there special code for this since the way QGraphicsView is created is
same in QGIS and in my application.

Thanks
bargi



On Sat, Jun 21, 2008 at 4:34 PM, Martin Dobias <wonder.sk@gmail.com> wrote:

> On Thu, Jun 19, 2008 at 6:43 AM, bargi john <bargi1981@gmail.com> wrote:
> > Hi Martin,
> >
> > Thanks for reply......
> > Actually the application I am working on is similar to QGIS in which
> > shapefiles are rendered using QT.
> > In between, I researched on the problem and find out that this issue is
> > related to QGraphicsView architecture.
> > In essence, when QGraphicsView is created , it create with origin(0,0) at
> > top left corner. Due to which the positive quadrant is downwards  and
> > negative upwards ( What I think ) due to which when shapefiles are
> rendered
> > according the coordinates position they draw in downward direction(
> because
> > coordinates of shapefiles are positive) and they appear to inverted.I
> found
> > scaling as a clutch which invert the the GraphicsView and line and
> polygon
> > shapefiles are drawn properly but it invert the point shapefile.
> > Due to this I reached to the possible solution that can be applied on
> > application:-
> >
> > --- One way can be that we create the QGraphicsView with origin(0,0) at
> > bottom left corner.Due to this we will get the proper coordinate system
> for
> > rendering. I have tried on it but not able to find the sol. how it will
> be
> > implemented.
>
> Actually, coordinates can be both positive and negative: with
> unprojected coordinates on earth:
> - x in range [-180, 180]
> - y in range [-90,90]
>
> northern hemisphere: y positive
> eastern hemisphere: x positive
>
> But in case you have to transform just of some data, it's possible
> that your data might be incorrect.
>
> Martin
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080623/47b240e0/attachment.html
From marco.hugentobler at karto.baug.ethz.ch  Mon Jun 23 03:44:53 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon Jun 23 03:44:23 2008
Subject: [Qgis-developer] script to update the srs.db
In-Reply-To: <48503BC8.9000509@o2.pl>
References: <4842BAFE.6020809@o2.pl>
	<d368056f0806111322w60aafac0x7d179ca2ffa53c02@mail.gmail.com>
	<48503BC8.9000509@o2.pl>
Message-ID: <200806230944.54034.marco.hugentobler@karto.baug.ethz.ch>

Hi Maciej,

Since no one else replied, I give it a try. Keep in mind crs is not my special 
area of competence, so others please feel free to correct me where I'm wrong.

> <SpatialRefSys>
>   <ProjectSRSProj4String type="QString" >+proj=tmerc +lat_0=0 (snip...)
>   <ProjectSRSID type="int" >181</ProjectSRSID>
> </SpatialRefSys>
>
> Which tag does QGIS depend on to recognize the project's SRS? Does it
> consider the <srsid> or <ProjectSRSID type="int" > at all?>
>

From what I have seen in the code, if a srs is read from XML file, import is 
done from proj4 string using OGR.

qgsspatialrefsys.cpp: 665

void QgsSpatialRefSys::setProj4String (QString theProj4String)
{
  const char *oldlocale = setlocale(LC_ALL, NULL);
  setlocale(LC_ALL, "C");
  mIsValidFlag = OSRImportFromProj4(mSRS, theProj4String.toLatin1
().constData() )==OGRERR_NONE;
  setlocale(LC_ALL, oldlocale);
}

and for transformation, the proj4 string is exported from OGR and passed to 
proj4 library.


It seems to me that the QGIS srsid is only used to create a default srs if the 
<spatialrefsys> tag is not present:

qgsspatialrefsys.cpp: 908

QDomNode srsNode  = theNode.namedItem( "spatialrefsys" );


if ( ! srsNode.isNull() )
 {
...
}
else
  {
    // Return default SRS if none was found in the XML.
    createFromSrsId(GEOSRS_ID);
}

where GEOSRS_ID is:

qgis.h:123:  const long GEOSRS_ID = 2585;

I wonder if we just could replace that with epsg number 4326 and then use

const long DEFAULT_EPGS = 4326;

createFromEPSG(DEFAULT_EPSG);

?

That way, it would be possible to change the qgis srs ids without affecting 
project file support.


Regards,
Marco


Am Mittwoch 11 Juni 2008 22:55:36 schrieb Maciej Sieczka:
> Tim Sutton pisze:
> > Hi Richard
> >
> > One thing I would like to do if you assemble small test datasets is
> > to create some unit tests for srs stuff. One basic form of test I am
> > thinking is to simply have a directory with a bunch of shapefiles
> > with a single feature each, each shp being in a different srs. The
> > test would load each one in turn and verify that it gets the correct
> >  epsg etc for it. So if you so start getting little test files in,
> > bear this in mind so that we can use them for more formal unit
> > testing too.
> >
> > Secondly if I recall correctly, the reason we originally opted to use
> >  our own srs identifier was that the srs db did inclide some srs
> > definitions that did not have an epsg code yet.
>
> Please anybody who knows details speak up!
>
> > It would be good if we could maintain the original srs id pkeys in
> > any updates you do
>
> This could be done with some extra work, but I don't think
> QGIS should depend on it's own SRS numbering scheme, when EPSG provides
> an universal, stable scheme for that. That's what EPSG database is good
> at and let's make use of it if possible.
>
> > since changing them may introduce regressions for people loading .qgs
> >  project files.
>
> In a .qgs the layer's and on the <mapcanvas> SRS part looks like this:
>
> <spatialrefsys>
>   <proj4>+proj=tmerc +lat_0=0 +lon_0=19 +k=0 +x_0=500000 (snip...)
>   <srsid>181</srsid>
>   <srid>2180</srid>
>   <epsg>2180</epsg>
>   <description>ETRS89 / Poland CS92</description>
>   <projectionacronym>tmerc</projectionacronym>
>   <ellipsoidacronym>GRS80</ellipsoidacronym>
>   <geographicflag>false</geographicflag>
> </spatialrefsys>
>
> The <properties> SRS (how does differ from the <mapcanvas> one???) is eg.:
>
> <SpatialRefSys>
>   <ProjectSRSProj4String type="QString" >+proj=tmerc +lat_0=0 (snip...)
>   <ProjectSRSID type="int" >181</ProjectSRSID>
> </SpatialRefSys>
>
> Which tag does QGIS depend on to recognize the project's SRS? Does it
> consider the <srsid> or <ProjectSRSID type="int" > at all?
>
> Cheers,
> Maciek



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tim at linfiniti.com  Mon Jun 23 04:08:45 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Jun 23 04:08:48 2008
Subject: [Qgis-developer] script to update the srs.db
In-Reply-To: <200806230944.54034.marco.hugentobler@karto.baug.ethz.ch>
References: <4842BAFE.6020809@o2.pl>
	<d368056f0806111322w60aafac0x7d179ca2ffa53c02@mail.gmail.com>
	<48503BC8.9000509@o2.pl>
	<200806230944.54034.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0806230108i6779efd6qb0e9c04d2e168bb4@mail.gmail.com>

Hi Marco

Sorry for not replying to the thread - I was away for a few days. Your
suggestion seems reasonable to me. Since we are matching on proj4
string it should have no impact if the srs_id changes I guess. We
should do a comparison of the new Maciej generated srs table and the
one prior to it and check we havent lost any srses - I recall some
that were contributed for Paris (I think it was) and Sweden that were
incorporated into the db to augment / replace erroneous ones, and thus
wont have EPSG nos.

Regards

Tim

2008/6/23 Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Maciej,
>
> Since no one else replied, I give it a try. Keep in mind crs is not my special
> area of competence, so others please feel free to correct me where I'm wrong.
>
>> <SpatialRefSys>
>>   <ProjectSRSProj4String type="QString" >+proj=tmerc +lat_0=0 (snip...)
>>   <ProjectSRSID type="int" >181</ProjectSRSID>
>> </SpatialRefSys>
>>
>> Which tag does QGIS depend on to recognize the project's SRS? Does it
>> consider the <srsid> or <ProjectSRSID type="int" > at all?>
>>
>
> From what I have seen in the code, if a srs is read from XML file, import is
> done from proj4 string using OGR.
>
> qgsspatialrefsys.cpp: 665
>
> void QgsSpatialRefSys::setProj4String (QString theProj4String)
> {
>  const char *oldlocale = setlocale(LC_ALL, NULL);
>  setlocale(LC_ALL, "C");
>  mIsValidFlag = OSRImportFromProj4(mSRS, theProj4String.toLatin1
> ().constData() )==OGRERR_NONE;
>  setlocale(LC_ALL, oldlocale);
> }
>
> and for transformation, the proj4 string is exported from OGR and passed to
> proj4 library.
>
>
> It seems to me that the QGIS srsid is only used to create a default srs if the
> <spatialrefsys> tag is not present:
>
> qgsspatialrefsys.cpp: 908
>
> QDomNode srsNode  = theNode.namedItem( "spatialrefsys" );
>
>
> if ( ! srsNode.isNull() )
>  {
> ...
> }
> else
>  {
>    // Return default SRS if none was found in the XML.
>    createFromSrsId(GEOSRS_ID);
> }
>
> where GEOSRS_ID is:
>
> qgis.h:123:  const long GEOSRS_ID = 2585;
>
> I wonder if we just could replace that with epsg number 4326 and then use
>
> const long DEFAULT_EPGS = 4326;
>
> createFromEPSG(DEFAULT_EPSG);
>
> ?
>
> That way, it would be possible to change the qgis srs ids without affecting
> project file support.
>
>
> Regards,
> Marco
>
>
> Am Mittwoch 11 Juni 2008 22:55:36 schrieb Maciej Sieczka:
>> Tim Sutton pisze:
>> > Hi Richard
>> >
>> > One thing I would like to do if you assemble small test datasets is
>> > to create some unit tests for srs stuff. One basic form of test I am
>> > thinking is to simply have a directory with a bunch of shapefiles
>> > with a single feature each, each shp being in a different srs. The
>> > test would load each one in turn and verify that it gets the correct
>> >  epsg etc for it. So if you so start getting little test files in,
>> > bear this in mind so that we can use them for more formal unit
>> > testing too.
>> >
>> > Secondly if I recall correctly, the reason we originally opted to use
>> >  our own srs identifier was that the srs db did inclide some srs
>> > definitions that did not have an epsg code yet.
>>
>> Please anybody who knows details speak up!
>>
>> > It would be good if we could maintain the original srs id pkeys in
>> > any updates you do
>>
>> This could be done with some extra work, but I don't think
>> QGIS should depend on it's own SRS numbering scheme, when EPSG provides
>> an universal, stable scheme for that. That's what EPSG database is good
>> at and let's make use of it if possible.
>>
>> > since changing them may introduce regressions for people loading .qgs
>> >  project files.
>>
>> In a .qgs the layer's and on the <mapcanvas> SRS part looks like this:
>>
>> <spatialrefsys>
>>   <proj4>+proj=tmerc +lat_0=0 +lon_0=19 +k=0 +x_0=500000 (snip...)
>>   <srsid>181</srsid>
>>   <srid>2180</srid>
>>   <epsg>2180</epsg>
>>   <description>ETRS89 / Poland CS92</description>
>>   <projectionacronym>tmerc</projectionacronym>
>>   <ellipsoidacronym>GRS80</ellipsoidacronym>
>>   <geographicflag>false</geographicflag>
>> </spatialrefsys>
>>
>> The <properties> SRS (how does differ from the <mapcanvas> one???) is eg.:
>>
>> <SpatialRefSys>
>>   <ProjectSRSProj4String type="QString" >+proj=tmerc +lat_0=0 (snip...)
>>   <ProjectSRSID type="int" >181</ProjectSRSID>
>> </SpatialRefSys>
>>
>> Which tag does QGIS depend on to recognize the project's SRS? Does it
>> consider the <srsid> or <ProjectSRSID type="int" > at all?
>>
>> Cheers,
>> Maciek
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Mon Jun 23 04:21:03 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Jun 23 04:21:05 2008
Subject: [Qgis-developer] XSL transformation for Qgis repo XML files
In-Reply-To: <485E6EE3.9060906@lancaster.ac.uk>
References: <485E6EE3.9060906@lancaster.ac.uk>
Message-ID: <d368056f0806230121j23f49662ra21aef9aac0e392a@mail.gmail.com>

Hi

Very nice! Maybe this could be added to the QGIS official repo Gary?
And maybe we could get the community folks to set the style sheet to
match the qgis.org look and feel?

Heres hoping there are a lot more rainy sundays your side of the world :-)

Regards

Tim

2008/6/22 Barry Rowlingson <b.rowlingson@lancaster.ac.uk>:
>  I was having some trouble installing a plugin from the installer, so I
> figured I'd download the source zip file. So I got the repo XML file,
> found the plugin, cut n pasted the URL into my browser, downloaded and
> there it was.
>
>  Which was a bit of a faff really  :)
>
>  So I figured with a bit of XSL and CSS magic I could make the XML repo
> files display nicely in Firefox and other browsers (what?!, there's
> other browsers???).
>
>  First, repo managers need to make sure their xml files have a proper
> XML header and an xml-stylesheet tag. This doesn't affect the way QGIS
> parses the file:
>
> <?xml version="1.0" encoding="ISO-8859-1" ?>
> <?xml-stylesheet type="text/xsl" href="plugins.xsl" ?>
>
>  That's all you need to do to the .xml file.
>
>  Then put a plugins.xsl file where that href will find it. Put it
> anywhere but make sure the href in the stylesheet tag points to it.
>
>  I've attached a plugins.xsl that I wrote. It just shows each plugin in
> a nice box with a link to the file and the homepage. Here's how my
> rather scanty repo looks with it:
>
> http://www.maths.lancs.ac.uk/~rowlings/Qgis/Plugins/plugins.xml
>
>  You can also download the plugins.xsl from there if the attachment
> fails to get through the mailing list. Feel free to customise the
> plugins.xsl to express your personality.
>
>  One thing I'd like to see is some attributes for the <plugins> tag, to
> specify the repository perhaps, so I could do: <plugins repo="Barry's
> Plugins">. Might be useful for presentation purposes and including in
> the plugin loader.
>
>  Feel free to use this technique or not - I'm just filling in time
> between household chores on a rainy Sunday. Or finding excuses to avoid
> said chores...
>
> Barry
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From scala at itc.cnr.it  Mon Jun 23 04:52:36 2008
From: scala at itc.cnr.it (Paolo L. Scala)
Date: Mon Jun 23 04:50:14 2008
Subject: [Qgis-developer] Overview image to raster
In-Reply-To: <e8e7199c0806210615r446edfe7u624cafedfc973675@mail.gmail.com>
References: <485A5F7E.5090504@itc.cnr.it>
	<e8e7199c0806210615r446edfe7u624cafedfc973675@mail.gmail.com>
Message-ID: <485F6454.7050805@itc.cnr.it>

Martin Dobias ha scritto:
> Hi Paolo,
>
> raster image storing overview is indeed located in
> QgsMapOverviewCanvas class, member mPixmap. But it's protected and
> there's no getter function to obtain it. Other issue is how to access
> QgsMapOverviewCanvas - it's not possible get pointer to it from
> QgsMapCanvas. In case of enough interest, these geter functions could
> be added.
>
> But can you explain me your use case of overview pixmap?
>
> Martin
>
>   
Hi Martin,
I'm developing a plugin to convert a QGIS project into a pMapper (a 
MapServer php framework) one, on the base of Gary Sherman's mapserver 
export plugin.
What I wanted to do is to automatically generate also the reference 
image of the map; anyway I solved the problem in a different way, using 
this example:

http://wiki.qgis.org/qgiswiki/PythonBindings#head-237ebb60a713326152d7faa016dafb2f9797ac7d

So I converted the map canvas into a png and resized it.
While I'm here, I'd like to ask to you if some of the tickets I added to 
the QGIS trac (#1060-#1069 except #1068 and #1064, #1077, #1078) could 
have any chance to be implemented;
I think #1066, #1069 and #1077 in particular coul be useful to many 
people that use QGIS.

Thanks for the support,
Paolo


From marco.hugentobler at karto.baug.ethz.ch  Mon Jun 23 07:42:20 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon Jun 23 07:41:49 2008
Subject: [Qgis-developer] script to update the srs.db
In-Reply-To: <d368056f0806230108i6779efd6qb0e9c04d2e168bb4@mail.gmail.com>
References: <4842BAFE.6020809@o2.pl>
	<200806230944.54034.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0806230108i6779efd6qb0e9c04d2e168bb4@mail.gmail.com>
Message-ID: <200806231342.20383.marco.hugentobler@karto.baug.ethz.ch>

Unfortunately, I found some more occurences of GEOSRS_ID in the code.
It is on my todo list...

Regards,
Marco

Am Montag 23 Juni 2008 10:08:45 schrieb Tim Sutton:
> Hi Marco
>
> Sorry for not replying to the thread - I was away for a few days. Your
> suggestion seems reasonable to me. Since we are matching on proj4
> string it should have no impact if the srs_id changes I guess. We
> should do a comparison of the new Maciej generated srs table and the
> one prior to it and check we havent lost any srses - I recall some
> that were contributed for Paris (I think it was) and Sweden that were
> incorporated into the db to augment / replace erroneous ones, and thus
> wont have EPSG nos.
>
> Regards
>
> Tim
>
> 2008/6/23 Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> > Hi Maciej,
> >
> > Since no one else replied, I give it a try. Keep in mind crs is not my
> > special area of competence, so others please feel free to correct me
> > where I'm wrong.
> >
> >> <SpatialRefSys>
> >>   <ProjectSRSProj4String type="QString" >+proj=tmerc +lat_0=0 (snip...)
> >>   <ProjectSRSID type="int" >181</ProjectSRSID>
> >> </SpatialRefSys>
> >>
> >> Which tag does QGIS depend on to recognize the project's SRS? Does it
> >> consider the <srsid> or <ProjectSRSID type="int" > at all?>
> >
> > From what I have seen in the code, if a srs is read from XML file, import
> > is done from proj4 string using OGR.
> >
> > qgsspatialrefsys.cpp: 665
> >
> > void QgsSpatialRefSys::setProj4String (QString theProj4String)
> > {
> >  const char *oldlocale = setlocale(LC_ALL, NULL);
> >  setlocale(LC_ALL, "C");
> >  mIsValidFlag = OSRImportFromProj4(mSRS, theProj4String.toLatin1
> > ().constData() )==OGRERR_NONE;
> >  setlocale(LC_ALL, oldlocale);
> > }
> >
> > and for transformation, the proj4 string is exported from OGR and passed
> > to proj4 library.
> >
> >
> > It seems to me that the QGIS srsid is only used to create a default srs
> > if the <spatialrefsys> tag is not present:
> >
> > qgsspatialrefsys.cpp: 908
> >
> > QDomNode srsNode  = theNode.namedItem( "spatialrefsys" );
> >
> >
> > if ( ! srsNode.isNull() )
> >  {
> > ...
> > }
> > else
> >  {
> >    // Return default SRS if none was found in the XML.
> >    createFromSrsId(GEOSRS_ID);
> > }
> >
> > where GEOSRS_ID is:
> >
> > qgis.h:123:  const long GEOSRS_ID = 2585;
> >
> > I wonder if we just could replace that with epsg number 4326 and then use
> >
> > const long DEFAULT_EPGS = 4326;
> >
> > createFromEPSG(DEFAULT_EPSG);
> >
> > ?
> >
> > That way, it would be possible to change the qgis srs ids without
> > affecting project file support.
> >
> >
> > Regards,
> > Marco
> >
> > Am Mittwoch 11 Juni 2008 22:55:36 schrieb Maciej Sieczka:
> >> Tim Sutton pisze:
> >> > Hi Richard
> >> >
> >> > One thing I would like to do if you assemble small test datasets is
> >> > to create some unit tests for srs stuff. One basic form of test I am
> >> > thinking is to simply have a directory with a bunch of shapefiles
> >> > with a single feature each, each shp being in a different srs. The
> >> > test would load each one in turn and verify that it gets the correct
> >> >  epsg etc for it. So if you so start getting little test files in,
> >> > bear this in mind so that we can use them for more formal unit
> >> > testing too.
> >> >
> >> > Secondly if I recall correctly, the reason we originally opted to use
> >> >  our own srs identifier was that the srs db did inclide some srs
> >> > definitions that did not have an epsg code yet.
> >>
> >> Please anybody who knows details speak up!
> >>
> >> > It would be good if we could maintain the original srs id pkeys in
> >> > any updates you do
> >>
> >> This could be done with some extra work, but I don't think
> >> QGIS should depend on it's own SRS numbering scheme, when EPSG provides
> >> an universal, stable scheme for that. That's what EPSG database is good
> >> at and let's make use of it if possible.
> >>
> >> > since changing them may introduce regressions for people loading .qgs
> >> >  project files.
> >>
> >> In a .qgs the layer's and on the <mapcanvas> SRS part looks like this:
> >>
> >> <spatialrefsys>
> >>   <proj4>+proj=tmerc +lat_0=0 +lon_0=19 +k=0 +x_0=500000 (snip...)
> >>   <srsid>181</srsid>
> >>   <srid>2180</srid>
> >>   <epsg>2180</epsg>
> >>   <description>ETRS89 / Poland CS92</description>
> >>   <projectionacronym>tmerc</projectionacronym>
> >>   <ellipsoidacronym>GRS80</ellipsoidacronym>
> >>   <geographicflag>false</geographicflag>
> >> </spatialrefsys>
> >>
> >> The <properties> SRS (how does differ from the <mapcanvas> one???) is
> >> eg.:
> >>
> >> <SpatialRefSys>
> >>   <ProjectSRSProj4String type="QString" >+proj=tmerc +lat_0=0 (snip...)
> >>   <ProjectSRSID type="int" >181</ProjectSRSID>
> >> </SpatialRefSys>
> >>
> >> Which tag does QGIS depend on to recognize the project's SRS? Does it
> >> consider the <srsid> or <ProjectSRSID type="int" > at all?
> >>
> >> Cheers,
> >> Maciek
> >
> > --
> > Dr. Marco Hugentobler
> > Institute of Cartography
> > ETH Zurich
> > Technical Advisor QGIS Project Steering Committee



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tutey at o2.pl  Mon Jun 23 09:34:48 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Mon Jun 23 09:34:08 2008
Subject: [Qgis-developer] script to update the srs.db
In-Reply-To: <200806231342.20383.marco.hugentobler@karto.baug.ethz.ch>
References: <4842BAFE.6020809@o2.pl>
	<200806230944.54034.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0806230108i6779efd6qb0e9c04d2e168bb4@mail.gmail.com>
	<200806231342.20383.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <485FA678.10706@o2.pl>

Marco Hugentobler pisze:
> Unfortunately, I found some more occurences of GEOSRS_ID in the code.

So I understand we must preserve the original QGIS srsids, at least for
now - for the reason above and due to the fact there might be SRSs
present which are not included in EPSG database, as Tim mentioned -
right? If so, I'll modify the script to achieve this. Not today, maybe
tomorrow.

As to the "lonlat" vs "longlat" - AFAICS from my testing of gdalwarp and
gdaltransform, GDAL (1.5.2) does not support the shorter form - they
throw an error:

ERROR 1: Translating source or target SRS failed:
+proj=latlon +ellps=WGS84 +datum=WGS84 +no_defs

This means we should stick to the old "longlat" name in QGIS. Although
PROJ.4 defaults to the shorter "lonlat" these days, I verified it at
least supports both forms, so this should not be a problem.

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From marco.hugentobler at karto.baug.ethz.ch  Mon Jun 23 09:53:32 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Mon Jun 23 09:53:03 2008
Subject: [Qgis-developer] script to update the srs.db
In-Reply-To: <485FA678.10706@o2.pl>
References: <4842BAFE.6020809@o2.pl>
	<200806231342.20383.marco.hugentobler@karto.baug.ethz.ch>
	<485FA678.10706@o2.pl>
Message-ID: <200806231553.32926.marco.hugentobler@karto.baug.ethz.ch>

Am Montag 23 Juni 2008 15:34:48 schrieb Maciej Sieczka:
> Marco Hugentobler pisze:
> > Unfortunately, I found some more occurences of GEOSRS_ID in the code.
>
> So I understand we must preserve the original QGIS srsids, at least for
> now - for the reason above and due to the fact there might be SRSs
> present which are not included in EPSG database, as Tim mentioned -
> right? If so, I'll modify the script to achieve this. Not today, maybe
> tomorrow.

I think we must not preserve all srsids. For now it is only necessary to 
insert the srsid value for wgs84 into qgis.h:

const long GEOSRS_ID = 2585; -> const long GEOSRS_ID = <new_wgs84_srs_id>;

And on my todo list is some coding that we don't need to change this line 
everytime the srs.db is updated.

In nearly all cases, QGIS handles the srs with the proj4 string (exceptions 
are some cases where QGIS needs a default crs and there is no default crs in 
project file). So I don't think it is necessary to preserve the old srs ids.

Regards,
Marco

> As to the "lonlat" vs "longlat" - AFAICS from my testing of gdalwarp and
> gdaltransform, GDAL (1.5.2) does not support the shorter form - they
> throw an error:
>
> ERROR 1: Translating source or target SRS failed:
> +proj=latlon +ellps=WGS84 +datum=WGS84 +no_defs
>
> This means we should stick to the old "longlat" name in QGIS. Although
> PROJ.4 defaults to the shorter "lonlat" these days, I verified it at
> least supports both forms, so this should not be a problem.
>
> Maciek



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From tutey at o2.pl  Mon Jun 23 11:23:56 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Mon Jun 23 11:23:09 2008
Subject: [Qgis-developer] no Polish chars in table, labels, query results!
Message-ID: <485FC00C.2070107@o2.pl>

Dear Devs,

Whatever happened that QGIS no longer displays Polish (pl UTF-8 locale)
characters anymore in the table, labels and query results? It also fails
to save a newly created sahpefile if it's name contains Polish chars
like ???? etc.

I can bet this all used to work couple of weeks ago! Please can you fix
it back before tomorrow? I'm going to give a "farewell" presentation at
my institute using QGIS among the others...

Using QGIS trunk r8673 on amd64 Ubuntu Gutsy and Debian testing.

Maciek

-- 
Maciej Sieczka
www.sieczka.org

From rdmailings at duif.net  Tue Jun 24 03:08:07 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue Jun 24 03:08:15 2008
Subject: [Qgis-developer] Re: AW: [Qgis-user] why is EPSG:2180 not
	recognised?
In-Reply-To: <485F9B0C.10402@arava.co.il>
References: <47F69506.3010207@o2.pl>
	<47F9D6C5.2040607@mxm.eu>	<04DA676AA276F045B32D0F95783D78440AF815@EX6.d.ethz.ch>	<47FA6CB7.2080806@duif.net>
	<47FB287B.7060802@mxm.eu> <47FC95E5.2090300@duif.net>
	<485F9B0C.10402@arava.co.il>
Message-ID: <48609D57.4000202@duif.net>

Hi Micha,

we (actually Maciej..) are currently busy with the process of generating 
the srs.db on basis of the current official epsg-db using a script. In 
that way we can try to keep in sync with all 'official' epgs-changes.

for 2039 this means:
old
+proj=tmerc +lat_0=31.73439361111111 +lon_0=35.20451694444445 
+k=1.000007 +x_0=219529.584 +y_0=626907.39 +ellps=GRS80 +units=m +no_defs

new
+proj=tmerc +lat_0=31.73439361111111 +lon_0=35.20451694444445 
+k=1.0000067 +x_0=219529.584 +y_0=626907.39 +ellps=GRS80 
+towgs84=-48,55,52,0,0,0,0 +units=m +no_defs

It seems that that is what you want isn't it?

Regards,

Richard Duivenvoorde


Micha Silver wrote:
> Hello Richard:
> This thread from about two months ago on the qgis-users list got me to 
> recheck the projection parameters in QGIS for our local CRS. I found 
> that there's another error in the srs.db for epsg code 2039 for Israel.
> The correct proj4 string includes a datum tranform:  +towgs84=-48,55,52
> That part of the string does not appear in the distributed srs.db. I 
> added the correction with sqlitebrowser, and checked on-the-fly 
> projection, and it corrects an ~80 m. error that I was seeing before 
> when viewing WGS84 (GPS collected) data in the Israeli CRS.
> I seem to remember that you were "volunteered" to try to keep the srs.db 
> up to date. If I'm wrong, I appologize, and you can just ignore this. If 
> you are working on a mechanism to keep the srs.db in step with epsg, 
> then note this small discrepancy.
> 
> BTW, Arcview (8.3) also does the datum transform wrong! Same 80m. error. 
> Thanks to GRASS + proj4 to keep us on track...
> 
> Regards,
> Micha
> 
> Richard Duivenvoorde wrote:
>> Jean-Claude Repetto wrote:
>>
>>> Please read this thread on the PROJ.4 ML :
>>> <http://www.nabble.com/epsg-parameters-td16447986.html>
>>>
>>> This is Frank Warmerdam's answer :
>>>  >
>>>  > The problem is that if EPSG offers more than one transformation to
>>>  > WGS84 for a datum, the automated translation gives up and offers none
>>>  > of them preferring for the user to make the decision themselves.
>>>  >
>>>
>>> I think it would be better to create the srs.db database directly 
>>> from the EPSG database.
>>
>> Hi Jean-Claude,
>> if I read that nabble-thread, my conclusion is: it's at this moment 
>> not possible to do a 1to1 translation for the EPSG-db to srs.db 
>> because of the simple fact that one epsg can have more set's of 
>> parameters which are 'valid/best' for different parts of the world.
>>
>> I think there are some options though:
>>
>> - add the definition YOU prefer for this specific epsg to your local 
>> srs.db in qgis (using for example sqliteadmin)
>>
>> - it's also possible roll you're own projection for a qgis project 
>> isn't it? So you could make some 'template'-project in which you 
>> defined the projection with the exact parameters of you preference.
>>
>> - incorporate ALL available definitions of these multi-paramter-EPSG's 
>> and add some interaction with the user to qgis in case there are more 
>> definitions available for one EPSG-code. And let the user choose from 
>> this list?
>>
>> by the way: I will try to update the srs.db to match the ones used for 
>> proj (so only the ones where there is one set of parameters for one epsg)
>>
>> Richard Duivenvoorde
>> _______________________________________________
>> Qgis-user mailing list
>> Qgis-user@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-user
>>
>>
>>
>> This mail was sent via Kinneret Mail-SeCure System.
>>
>>
> 
> 

From rdmailings at duif.net  Tue Jun 24 03:47:44 2008
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue Jun 24 03:48:05 2008
Subject: [Qgis-developer] script to update the srs.db
In-Reply-To: <200806231553.32926.marco.hugentobler@karto.baug.ethz.ch>
References: <4842BAFE.6020809@o2.pl>
	<200806231342.20383.marco.hugentobler@karto.baug.ethz.ch>
	<485FA678.10706@o2.pl>
	<200806231553.32926.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <4860A6A0.4010006@duif.net>

Maciej, Marco,

this sounds all very good :-)

Three questions:
- will this changes (Marco's and the new srs.db) ship with 0.11?

- will there be a issue with people who try to build qgis with older 
version of gdal/proj after this? In other words are we tied to a 
specific set now? Or was that already be the case?

- the only 'open' issue then is the migration of non-epsg additions in 
the old srs.db to the new srs.db?

Is it an idea to add some 'custom update script' to Maciej's script?
The purpose of this script will then be:

A) add non-standard-epsg records (from the old database)

B) fix 'errors' in the official epsg db (for example I know that the 
first thing everybody in the netherlands does when installing a 
proj-related program is to change the proj string of 28992 in the 
nad/epsg file from
<28992> +proj=stere +lat_0=52.15616055555555 +lon_0=5.38763888888889 
+k=0.999908 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs 
no_defs <>
to
<28992> +proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 
+k=0.999908 +x_0=155000 +y_0=463000 +ellps=bessel +units=m 
+towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812 
+no_defs <>

another one is:
<900913> +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 
+x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs <>
to be able to handle google-map-mashups

these kind of 'fixes' could be collected in a 'post-processing' update?

What's your opinion about this?

Regards,

Richard Duivenvoorde




Marco Hugentobler wrote:
> Am Montag 23 Juni 2008 15:34:48 schrieb Maciej Sieczka:
>> Marco Hugentobler pisze:
>>> Unfortunately, I found some more occurences of GEOSRS_ID in the code.
>> So I understand we must preserve the original QGIS srsids, at least for
>> now - for the reason above and due to the fact there might be SRSs
>> present which are not included in EPSG database, as Tim mentioned -
>> right? If so, I'll modify the script to achieve this. Not today, maybe
>> tomorrow.
> 
> I think we must not preserve all srsids. For now it is only necessary to 
> insert the srsid value for wgs84 into qgis.h:
> 
> const long GEOSRS_ID = 2585; -> const long GEOSRS_ID = <new_wgs84_srs_id>;
> 
> And on my todo list is some coding that we don't need to change this line 
> everytime the srs.db is updated.
> 
> In nearly all cases, QGIS handles the srs with the proj4 string (exceptions 
> are some cases where QGIS needs a default crs and there is no default crs in 
> project file). So I don't think it is necessary to preserve the old srs ids.
> 
> Regards,
> Marco
> 
>> As to the "lonlat" vs "longlat" - AFAICS from my testing of gdalwarp and
>> gdaltransform, GDAL (1.5.2) does not support the shorter form - they
>> throw an error:
>>
>> ERROR 1: Translating source or target SRS failed:
>> +proj=latlon +ellps=WGS84 +datum=WGS84 +no_defs
>>
>> This means we should stick to the old "longlat" name in QGIS. Although
>> PROJ.4 defaults to the shorter "lonlat" these days, I verified it at
>> least supports both forms, so this should not be a problem.
>>
>> Maciek

From a.ghisla at studenti.uninsubria.it  Tue Jun 24 04:06:26 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Tue Jun 24 04:06:56 2008
Subject: [Qgis-developer] SoC: GUI actions 
Message-ID: <1214294786.4860ab02eb734@mail.studenti.uninsubria.it>

Hello all, and especially Python plugin developers,

the interface for my plugin is ready now. Now I have to match its buttons/test
areas and so on to actions.
I see that QtDesigner offers some tools to integrate actions inside interface,
but I've also looked at some available plugins and all actions are managed from
Python code.
What do you recommend? Is it Python management easier to write/mantain?

regards,

Anne Ghisla





From tutey at o2.pl  Tue Jun 24 04:31:44 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Tue Jun 24 04:30:59 2008
Subject: [Qgis-developer] no Polish chars in table, labels, query results!
In-Reply-To: <485FC00C.2070107@o2.pl>
References: <485FC00C.2070107@o2.pl>
Message-ID: <4860B0F0.9000801@o2.pl>

Maciej Sieczka pisze:
> Dear Devs,
> 
> Whatever happened that QGIS no longer displays Polish (pl UTF-8
> locale) characters anymore in the table, labels and query results? It
> also fails to save a newly created sahpefile if it's name contains
> Polish chars like ???? etc.
> 
> I can bet this all used to work couple of weeks ago! Please can you
> fix it back before tomorrow? I'm going to give a "farewell"
> presentation at my institute using QGIS among the others...

At least, what is the latest revision not affected? I still have 2,5 hour
left.

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From borys at wolf.most.org.pl  Tue Jun 24 04:56:28 2008
From: borys at wolf.most.org.pl (Borys Jurgiel)
Date: Tue Jun 24 04:56:35 2008
Subject: [Qgis-developer] SoC: GUI actions
In-Reply-To: <1214294786.4860ab02eb734@mail.studenti.uninsubria.it>
References: <1214294786.4860ab02eb734@mail.studenti.uninsubria.it>
Message-ID: <200806241056.29571.borys@wolf.most.org.pl>

They both are the same. After work in the QtDesigner you run the pyuic4, which 
creates a class for your dialog (for example "Ui_Dialog") and puts into this 
class the "connect" method call (or rather a number of calls).

Then you create your own class, which inherites from the pyuic4's class (for 
example: "MyDialog (QDialog, Ui_Dialog)" ) and you can also put the "connect" 
method call(s) to the your class. So only one difference is where this call 
finally is: in the parent or in the inherited class.

For me the second option is much better, as it's easier to keep an eye on the 
code and to make any changes.

Regards,

B.

Tuesday 24 of June 2008 10:06:26 Anne Ghisla napisa?(a):
> Hello all, and especially Python plugin developers,
>
> the interface for my plugin is ready now. Now I have to match its
> buttons/test areas and so on to actions.
> I see that QtDesigner offers some tools to integrate actions inside
> interface, but I've also looked at some available plugins and all actions
> are managed from Python code.
> What do you recommend? Is it Python management easier to write/mantain?
>
> regards,
>
> Anne Ghisla
From marco.hugentobler at karto.baug.ethz.ch  Tue Jun 24 05:01:10 2008
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Tue Jun 24 05:00:33 2008
Subject: [Qgis-developer] no Polish chars in table, labels, query results!
In-Reply-To: <4860B0F0.9000801@o2.pl>
References: <485FC00C.2070107@o2.pl> <4860B0F0.9000801@o2.pl>
Message-ID: <200806241101.10480.marco.hugentobler@karto.baug.ethz.ch>

Hi Maciej,

I tried it with german Umlaute (???) and they display ok in the attribute 
table and the query results. If you load from shape, are you sure you 
selected the right encoding in the combo box of the file dialog?

If you think it is a QGIS related problem, then it is probably best to check 
out a revision from a couple of weeks ago as you suggest:

svn co --revision {yyyy-mm-dd}

Regards,
Marco

Am Dienstag 24 Juni 2008 10:31:44 schrieb Maciej Sieczka:
> Maciej Sieczka pisze:
> > Dear Devs,
> >
> > Whatever happened that QGIS no longer displays Polish (pl UTF-8
> > locale) characters anymore in the table, labels and query results? It
> > also fails to save a newly created sahpefile if it's name contains
> > Polish chars like ???? etc.
> >
> > I can bet this all used to work couple of weeks ago! Please can you
> > fix it back before tomorrow? I'm going to give a "farewell"
> > presentation at my institute using QGIS among the others...
>
> At least, what is the latest revision not affected? I still have 2,5 hour
> left.
>
> Maciek



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
From a.ghisla at studenti.uninsubria.it  Tue Jun 24 10:31:47 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Tue Jun 24 10:32:00 2008
Subject: [Qgis-developer] SoC: header and license
Message-ID: <1214317907.6556.14.camel@galadriel>

Hello all,

in the page 
http://wiki.osgeo.org/wiki/2008_Google_SoC_Application
I see no particular rules for the header of the files I'm writing for
SoC. 
Can I choose GPL as license?
What other information has to be present?

regards,

Anne
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080624/07b14c72/attachment.bin
From tutey at o2.pl  Tue Jun 24 12:31:42 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Tue Jun 24 12:30:52 2008
Subject: [Qgis-developer] no Polish chars in table, labels, query results!
In-Reply-To: <200806241101.10480.marco.hugentobler@karto.baug.ethz.ch>
References: <485FC00C.2070107@o2.pl> <4860B0F0.9000801@o2.pl>
	<200806241101.10480.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <4861216E.5060409@o2.pl>

Marco Hugentobler pisze:

> I tried it with german Umlaute (???) and they display ok in the
> attribute table and the query results. If you load from shape, are
> you sure you selected the right encoding in the combo box of the file
> dialog?

I'm using the default 'System' ecoding, which in my case is pl_PL.UTF-8.
If I force 'UTF-8' encodingf at shapefile load still Polish chars are
not displayed - eg. instead of 'za????' I get 'za'.

> If you think it is a QGIS related problem, then it is probably best
> to check out a revision from a couple of weeks ago as you suggest:
> 
> svn co --revision {yyyy-mm-dd}

OK. I'll try.

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From sherman at mrcc.com  Tue Jun 24 22:20:33 2008
From: sherman at mrcc.com (Gary Sherman)
Date: Tue Jun 24 22:20:41 2008
Subject: [Qgis-developer] Free online book on C++/Qt4
Message-ID: <1072A3BF-32FB-46CC-B6B9-B61D2B95C5FD@mrcc.com>

Here is a free offering (online) that you QGIS developers may be  
interested in:
"An Introduction to Design Patterns in C++ with Qt 4" at http://www.kdedevelopers.org/node/3526

There is also a link in the comments for downloading "C++ GUI  
Programming with Qt 4".

-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
-Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
-Desktop GIS Book:
   *http://desktopgisbook.com
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From tutey at o2.pl  Wed Jun 25 05:44:51 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Jun 25 05:43:59 2008
Subject: [Qgis-developer] script to update the srs.db
In-Reply-To: <4860A6A0.4010006@duif.net>
References: <4842BAFE.6020809@o2.pl>
	<200806231342.20383.marco.hugentobler@karto.baug.ethz.ch>
	<485FA678.10706@o2.pl>
	<200806231553.32926.marco.hugentobler@karto.baug.ethz.ch>
	<4860A6A0.4010006@duif.net>
Message-ID: <48621393.4040802@o2.pl>

Richard Duivenvoorde pisze:

> this sounds all very good :-)
> 
> Three questions: - will this changes (Marco's and the new srs.db) 
> ship with 0.11?
> 
> - will there be a issue with people who try to build qgis with older 
> version of gdal/proj after this? In other words are we tied to a 
> specific set now? Or was that already be the case?
> 
> - the only 'open' issue then is the migration of non-epsg additions 
> in the old srs.db to the new srs.db?
> 
> Is it an idea to add some 'custom update script' to Maciej's script?
>  The purpose of this script will then be:
> 
> A) add non-standard-epsg records (from the old database)

Tim,

Regarding this - in srs.db there are srs_id 2673-2680, having epsg and
srid equal 0, 1000000-1000005, 102067 respectively. Would those be the
custom QGIS SRSs you once mentioned? Any other?

> B) fix 'errors' in the official epsg db (for example I know that the 
> first thing everybody in the netherlands does when installing a 
> proj-related program is to change the proj string of 28992 in the 
> nad/epsg file from <28992> +proj=stere +lat_0=52.15616055555555 
> +lon_0=5.38763888888889 +k=0.999908 +x_0=155000 +y_0=463000 
> +ellps=bessel +units=m +no_defs no_defs <> to <28992> +proj=sterea 
> +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.999908 
> +x_0=155000 +y_0=463000 +ellps=bessel +units=m 
> +towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812
>  +no_defs <>

Richard,

EPSG does not know anything about PROJ.4's stere or sterea. It is up to 
GDAL to choose PROJ.4 projection that matches the projection defined in 
the EPSG DB for a given SRS. There used to be an error in GDAL that it 
assumed stere for all stereographic SRS, while it came out that for 
Europe (at least Netherlands and Poland) a closer match is sterea. This 
was fixed, and for about 2 years now GDAL, including epsg_tr.py, uses 
sterea for these SRSs, which results also in a correct +proj for 
EPSG:28992 in the output of my script.

Regarding datum transformation - are there multpile datum transformation 
parameter sets for EPSG:28992? In case there are, GDAL (thus
epsg_tr.py, thus my script too) cannot decide for a single one, as
enforcing a sub-optimal one is as bad as not using any.

If you know for sure that there is a single, best datum transformation
for EPSG:28992, please report it upstream - at [1], and after done make
sure GDAL incorporates the fix.

> <900913> +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 
> +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs <> to be 
> able to handle google-map-mashups

Hmm. epsg_tr.py recognizes this code, yet it is not present in EPSG DB
and not in GDAL's pcs.csv. Only in GDAL's cubewerx_extra.wkt. I need to
think of these GDAL's overrides.

[1]http://www.epsg.org/Comms/Comment.asp

Maciek

-- 
Maciej Sieczka
www.sieczka.org

From a.ghisla at studenti.uninsubria.it  Fri Jun 27 10:13:12 2008
From: a.ghisla at studenti.uninsubria.it (Anne Ghisla)
Date: Fri Jun 27 10:13:27 2008
Subject: [Qgis-developer] SoC Report: Homerange analyses with QGIS
Message-ID: <1214575992.4864f5787a4f2@mail.studenti.uninsubria.it>

Hello all, 

This week I worked on the interface.
The connection between QGIS and the dialogs is now established, I have to clean
up the signal/slot code (I wrote a lot of code to test the connection, I think
I'll turn it into debugging info).
The code on the repository has been developed and tested both on Ubuntu 8.04 64
bit and Windows XP Home, and is available for more tests on Macintosh.
Running QGIS from a shell, short messages are displayed when interface is called
and some options are modified.

Next week I'll end interface development (except for further improvements) and
begin working on interface-Rpy side.

I have a question about licensing: who will retain copyright of the code? Is GPL
the correct choice for this project?

I'm not experiencing substantial blocks. Except with Eclipse, because I'm not
familiar with Python development (I used it for Java).
I'll be away from this evening until Monday evening, and I'll have limited
access to the Internet. 

regards,

Anne Ghisla



From jef at norbit.de  Sat Jun 28 11:55:58 2008
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sat Jun 28 11:56:05 2008
Subject: [Qgis-developer] Segmentation fault with NorthArrow plugins
In-Reply-To: <484FC8CD.2080602@teledetection.fr>
References: <484F9DDF.1010205@teledetection.fr>
	<d368056f0806110516r241ed3f8gbf30240613606bee@mail.gmail.com>
	<484FC8CD.2080602@teledetection.fr>
Message-ID: <20080628155558.GA2999@norbit.de>

Hi Guy,

On Wed, 11. Jun 2008 at 14:45:01 +0200, Guy Roussin wrote:
> Program received signal SIGSEGV, Segmentation fault.
> [Switching to Thread 0xb43829e0 (LWP 8239)]
> 0xb6722356 in sincos () from /usr/lib/libgdal1.5.0.so.1

I experience the same (but using debian unstable on amd64).  Seems to be
a gcc 4.3 optimizer problem.  When compiling QGIS and GDAL without
optimization the problem disappears.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tim at linfiniti.com  Sat Jun 28 18:00:29 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Jun 28 18:00:33 2008
Subject: [Qgis-developer] QGIS 0.11.0 - call for translations
Message-ID: <d368056f0806281500m1bcd1ac9xb50e9e77f1e823a8@mail.gmail.com>

Hi All

If you are a translator and would like to see your language updates
make it into 0.11.0, there is a one week window available to submit
your updates. Next Sunday (June 6 2008) I will branch for release
after which any translation updates received will be available only in
the upcoming 1.0 release.

If you need a reminder on how to perform the translation work, please visit:

http://wiki.qgis.org/qgiswiki/TranslatorsCorner

Once your translation updates are ready, you can submit them to Werner
Macho (werner.macho A T gmail.com). If you would like to see if QGIS
has already a translation effort underway for your preferred language
please visit:

http://wiki.qgis.org/qgiswiki/Project_Organigram#head-163fd8ab93493cdb97e45b7a0db223a01e44dffe

where you can make contact with the relevant person and offer to help
them if you are so included.

Many thanks,

Regards



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From tim at linfiniti.com  Sat Jun 28 18:25:45 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sat Jun 28 18:25:47 2008
Subject: [Qgis-developer] Re: SoC Report: Homerange analyses with QGIS
In-Reply-To: <1214575992.4864f5787a4f2@mail.studenti.uninsubria.it>
References: <1214575992.4864f5787a4f2@mail.studenti.uninsubria.it>
Message-ID: <d368056f0806281525m4134ff93sbe60e36b6501bfde@mail.gmail.com>

Hi Anne

8<---------snip------------

> I have a question about licensing: who will retain copyright of the code? Is GPL
> the correct choice for this project?
>

Before I answer let me say that I'm not  a licensing expert so take
what I say in that light:

- I believe GPL and copyright are two completely separate issues.

- Copyright: You should retain the copyright of any code you write -
you can put a header on the top of each source file you create with
your name and the date e.g. Copyright Joe Blogs, 14h00 22 December
1912. If you look at any QGIS source file you should get the idea.

- Licensing: I suggest to use GPL in order to be compatible with QGIS
sources. It may be possible to mix and match other open source
licenses depending on if you are linking to libqgis_core or not etc -
but this quickly becomes very very complicated to comprehend, so for
simplicity I suggest to just stick with GPL.

Regards

Tim

> I'm not experiencing substantial blocks. Except with Eclipse, because I'm not
> familiar with Python development (I used it for Java).
> I'll be away from this evening until Monday evening, and I'll have limited
> access to the Internet.
>
> regards,
>
> Anne Ghisla
>
>
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From antoniusz at clicknet.ro  Sun Jun 29 10:03:44 2008
From: antoniusz at clicknet.ro (Kosza Antal)
Date: Sun Jun 29 10:09:56 2008
Subject: [Qgis-developer] qgis_0.11.0r8684 plugins, measurments not working
Message-ID: <1214748224.28770.26.camel@localhost>

in qgis_0.11.0r8684 the following plugins and features not working at
all or give wrong results 

1. add delimited text layer
2. gps tools (add gpx layer)
3. measurements (line, area) >   + cfarmers calculate geometry plugin
4. in identify features > derived area is with all layers 0.000m2

with self compiled qgis_0.10.0 its OK



recompiled qgis_0.11.0 with debug option:

system: debian lenny
layers used:
shapefile (polygon) + georeferenced .jpg (coordsystem 31700)
coordsystem: Stereo70/Romania epsg:31700


--------------------------------------
add delimited text layer plugin debug
--------------------------------------

Attempting to split the input line: nume|X|Y using delimiter |
Split line into 3 parts
Updating field lists
Attempting to split the input line: nume|X|Y using delimiter |
Split line into 3 parts
Debug: /home/toni/bin/qgis/qgis_unstable/src/app/qgisapp.cpp: 4434:
(addVectorLayer) Creating new vector layer
using /home/toni/Documents/gis_data/raster/ortofoto/untitled
folder/hoghiz-castru?delimiter=|&delimiterType=plain&xField=X&yField=Y
with baseName of hoghiz-castru and providerKey of delimitedtext
Debug: /home/toni/bin/qgis/qgis_unstable/src/core/qgsmaplayer.cpp: 52:
(QgsMapLayer) QgsMapLayer::QgsMapLayer - lyrname is 'hoghiz-castru'
Debug: /home/toni/bin/qgis/qgis_unstable/src/core/qgsmaplayer.cpp: 58:
(QgsMapLayer) QgsMapLayer::QgsMapLayer - layerName is 'hoghiz-castru'
Debug: /home/toni/bin/qgis/qgis_unstable/src/core/qgsproviderregistry.cpp: 340: (getProvider) QgsProviderRegistry::getRasterProvider: Library name is 
Warning: Failed to load 
Debug: /home/toni/bin/qgis/qgis_unstable/src/core/qgsvectorlayer.cpp:
2244: (setDataProvider)  unable to get data provider
Debug: /home/toni/bin/qgis/qgis_unstable/src/core/qgsvectorlayer.cpp:
149: (~QgsVectorLayer) In QgsVectorLayer destructor
Debug: /home/toni/bin/qgis/qgis_unstable/src/core/qgsmaplayerregistry.cpp: 131: (mapLayers) QgsMapLayerRegistry::mapLayers
Debug: /home/toni/bin/qgis/qgis_unstable/src/core/qgsmaplayerregistry.cpp: 131: (mapLayers) QgsMapLayerRegistry::mapLayers


-------------------------------
gps tools plugin debug
-------------------------------

Debug: /home/toni/bin/qgis/qgis_unstable/src/plugins/gps_importer/qgsgpsplugingui.cpp: 428: (populateLoadDialog) <p>GPX is the <a href=http://www.topografix.com/gpx.asp>GPS eXchange file format</a>, which is used to store information about waypoints, routes, and tracks.</p><p>Select a GPX file and then select the feature types that you want to load.</p>
Debug: /home/toni/bin/qgis/qgis_unstable/src/plugins/gps_importer/qgsgpsplugingui.cpp: 464: (populateULDialog) <p>This tool will help you upload data from a GPX layer to a GPS device. Choose the layer you want to upload, the device you want to upload it to, and the port your device is connected to. If your device isn't listed, or if you want to change some settings, you can also edit the devices.<p>This tool uses the program GPSBabel (<a href="http://www.gpsbabel.org">http://www.gpsbabel.org</a>) to transfer the data. This requires that you have GPSBabel installed where QGIS can find it.</p>
Debug: /home/toni/bin/qgis/qgis_unstable/src/plugins/gps_importer/qgsgpsplugingui.cpp: 446: (populateDLDialog) <p>This tool will help you download data from a GPS device. Choose your GPS device, the port it is connected to, the feature type you want to download, a name for your new layer, and the GPX file where you want to store the data. If your device isn't listed, or if you want to change some settings, you can also edit the devices.<p>This tool uses the program GPSBabel (<a href="http://www.gpsbabel.org">http://www.gpsbabel.org</a>) to transfer the data. This requires that you have GPSBabel installed where QGIS can find it.</p>
Debug: /home/toni/bin/qgis/qgis_unstable/src/plugins/gps_importer/qgsgpsplugingui.cpp: 480: (populateIMPDialog) <p>QGIS can only load GPX files by itself, but many other formats can be converted to GPX using GPSBabel (<a href="http://www.gpsbabel.org">http://www.gpsbabel.org</a>). This requires that you have GPSBabel installed where QGIS can find it.<p><p>Select a GPS file format and the file that you want to import, the feature type that you want to use, a GPX filename that you want to save the converted file as, and a name for the new layer. All file formats can not store waypoints, routes, and tracks, so some feature types may be disabled for some file formats.</p>
Debug: /home/toni/bin/qgis/qgis_unstable/src/plugins/gps_importer/qgsgpsplugingui.cpp: 498: (populateCONVDialog) <html><body><p>QGIS can perform conversions of GPX files, by using GPSBabel (<a href="http://www.gpsbabel.org">http://www.gpsbabel.org</a>) to perform the conversions. This requires that you have GPSBabel installed where QGIS can find it.<p>Select a GPX input file name, the type of conversion you want to perform, a GPX filename that you want to save the converted file as, and a name for the new layer created from the result.</body></html>
Debug:  Gps File Importer::pbnGPXSelectFile_clicked() 
Debug: Selected filetype filter is : GPS eXchange format (*.gpx)
Debug: /home/toni/bin/qgis/qgis_unstable/src/app/qgisapp.cpp: 4434:
(addVectorLayer) Creating new vector layer
using /home/toni/Documents/gis_data/vector/gps/lelohelyek_20060410_w.gpx?type=waypoint with baseName of lelohelyek_20060410_w, waypoints and providerKey of gpx
Debug: /home/toni/bin/qgis/qgis_unstable/src/core/qgsmaplayer.cpp: 52:
(QgsMapLayer) QgsMapLayer::QgsMapLayer - lyrname is
'lelohelyek_20060410_w, waypoints'
Debug: /home/toni/bin/qgis/qgis_unstable/src/core/qgsmaplayer.cpp: 58:
(QgsMapLayer) QgsMapLayer::QgsMapLayer - layerName is
'lelohelyek_20060410_w, waypoints'
Debug: /home/toni/bin/qgis/qgis_unstable/src/core/qgsproviderregistry.cpp: 340: (getProvider) QgsProviderRegistry::getRasterProvider: Library name is 
Warning: Failed to load 
Debug: /home/toni/bin/qgis/qgis_unstable/src/core/qgsvectorlayer.cpp:
2244: (setDataProvider)  unable to get data provider
Debug: /home/toni/bin/qgis/qgis_unstable/src/core/qgsvectorlayer.cpp:
149: (~QgsVectorLayer) In QgsVectorLayer destructor


---------------------------------
measure line debug
----------------------------

Debug: /home/toni/bin/qgis/qgis_unstable/src/gui/qgsmaptool.cpp: 82:
(activate) Cursor has been set
Debug: /home/toni/bin/qgis/qgis_unstable/src/app/qgsmeasuretool.cpp:
185: (addPoint) 521644, 497670
Debug: /home/toni/bin/qgis/qgis_unstable/src/app/qgsmeasuretool.cpp:
185: (addPoint) 521750, 497524

result in gui 11,880.02 km
on field cca 150 m


-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20080629/491eb8c2/attachment.bin
From tim at linfiniti.com  Sun Jun 29 10:24:09 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Jun 29 10:24:11 2008
Subject: [Qgis-developer] FOSS4G2008 Code Sprint
Message-ID: <d368056f0806290724o450c12d9oa4c42f560d193da4@mail.gmail.com>

Hi All

If anyone is attending the FOSS4G2008 conference, there will be a code
sprint day (most likely on the saturday after the conference). I'm
appending a general announcement below - it will be great if QGIS can
hold a sprint too (over and above the post conference nature tour /
semi hackfest we are planning the week after the conference).


------------------------------------------------------------------

The upcoming FOSS4G2008 event in Cape Town will include a code sprint
session. What is a code sprint? Its a chance to 'geek out' for a day
with like minded people from your favourite open source geospatial
project. The idea is to gather together and code new features, plan
new features, kill bugs etc. Each project will determine their own
goals based on what is most important to them.

If you are interested in participating in the FOSS4G2008 code sprint
to point your web browser at
http://wiki.osgeo.org/wiki/FOSS4G2008_CodeSprint and register yourself
and your project. In most cases you do not need to neccessarily be a
seasoned developer for the project - as often a 'fresh pair of eyes'
bring fresh insight to programmers who stare at teh same code day in
and day out. Participating in a code sprint is also a fantastic
learning experience and offers a chance to give something back to the
communities who work so hard to bring you free and open GIS software
alternatives. We look forward to seeing you there!

Best regards

Tim Sutton
FOSS4G2008 Code Sprint Organiser
tim@linfiniti.com


-------------------------------------------------------------------
Read, Set.......CodeSprint!

Every day around the world, thousands of people collaborate in virtual
communities to write software. For the most part they do it for fun at
no charge, simply for the love of the craft. The open source
phenomenon has spawned many applications that are now used by millions
of people around the world. During the recent launch of the open
source web browser 'FireFox version 3', the application was downloaded
over 8 million times within 24 hours of its release! The GIS community
has a long track record in open source too. QGIS, GRASS, Mapserver and
many others have been under development for many years and regularly
attract new users into the world of GIS. Often these are users who
otherwise simply could not afford the cost of licensing GIS
applications from major proprietry software vendors. Open source GIS
is more than simple a matter of making GIS free - its about empowering
local communities to build skills and create local economies around
the software. Being open source, people interested in learning how to
create a GIS application, or who would like to incorporate geospatial
features into their own application are offered a fantastic resource.

The upcoming FOSS4G2008 event in Cape Town will include a code sprint
session. What is a code sprint? Its a chance to 'geek out' for a day
with like minded people from your favourite open source geospatial
project. The idea is to gather together and code new features, plan
new features, kill bugs etc. Each project will determine their own
goals based on what is most important to them.

If you are interested in participating in the FOSS4G2008 code sprint
to point your web browser at
http://wiki.osgeo.org/wiki/FOSS4G2008_CodeSprint and register yourself
and your project. In most cases you do not need to neccessarily be a
seasoned developer for the project - as often a 'fresh pair of eyes'
bring fresh insight to programmers who stare at teh same code day in
and day out. Participating in a code sprint is also a fantastic
learning experience and offers a chance to give something back to the
communities who work so hard to bring you free and open GIS software
alternatives. We look forward to seeing you there!

Best regards

Tim Sutton
FOSS4G2008 Code Sprint Organiser
tim@linfiniti.com
http://linfiniti.com


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From marco.pasetti at alice.it  Sun Jun 29 11:31:42 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Sun Jun 29 11:31:56 2008
Subject: [Qgis-developer] QGIS 0.11.0 - call for translations
In-Reply-To: <d368056f0806281500m1bcd1ac9xb50e9e77f1e823a8@mail.gmail.com>
References: <d368056f0806281500m1bcd1ac9xb50e9e77f1e823a8@mail.gmail.com>
Message-ID: <4525E6841894488C93ACEF8E8F286540@HPMarco>

Hi Tim,

do you confirm that the *call for packaging* has been re-planned on (or 
after) July 6?

Marco

----- Original Message ----- 
From: "Tim Sutton" <tim@linfiniti.com>
To: "QGIS Developer Mailing List" <qgis-developer@lists.osgeo.org>; "QGIS 
release team." <qgis-release-team@lists.osgeo.org>; "qgis-community" 
<qgis-community-team@lists.osgeo.org>; "Werner Macho" 
<werner.macho@gmail.com>
Sent: Sunday, June 29, 2008 12:00 AM
Subject: [Qgis-developer] QGIS 0.11.0 - call for translations


> Hi All
>
> If you are a translator and would like to see your language updates
> make it into 0.11.0, there is a one week window available to submit
> your updates. Next Sunday (June 6 2008) I will branch for release
> after which any translation updates received will be available only in
> the upcoming 1.0 release.
>
> If you need a reminder on how to perform the translation work, please 
> visit:
>
> http://wiki.qgis.org/qgiswiki/TranslatorsCorner
>
> Once your translation updates are ready, you can submit them to Werner
> Macho (werner.macho A T gmail.com). If you would like to see if QGIS
> has already a translation effort underway for your preferred language
> please visit:
>
> http://wiki.qgis.org/qgiswiki/Project_Organigram#head-163fd8ab93493cdb97e45b7a0db223a01e44dffe
>
> where you can make contact with the relevant person and offer to help
> them if you are so included.
>
> Many thanks,
>
> Regards
>
>
>
> -- 
> Tim Sutton
> QGIS Project Steering Committee Member - Release Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer 

From tim at linfiniti.com  Sun Jun 29 17:57:28 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Sun Jun 29 17:57:30 2008
Subject: [Qgis-developer] QGIS 0.11.0 - call for translations
In-Reply-To: <4525E6841894488C93ACEF8E8F286540@HPMarco>
References: <d368056f0806281500m1bcd1ac9xb50e9e77f1e823a8@mail.gmail.com>
	<4525E6841894488C93ACEF8E8F286540@HPMarco>
Message-ID: <d368056f0806291457g7d5094ege1d4dbee84463c55@mail.gmail.com>

Hi Marco

Yes my apologies for not being clear on this - I will put out the call
for packaging on the 7th of July, with release announcement scheduled
for a week after that.

Best regards

Tim

2008/6/29 Marco Pasetti <marco.pasetti@alice.it>:
> Hi Tim,
>
> do you confirm that the *call for packaging* has been re-planned on (or
> after) July 6?
>
> Marco
>
> ----- Original Message ----- From: "Tim Sutton" <tim@linfiniti.com>
> To: "QGIS Developer Mailing List" <qgis-developer@lists.osgeo.org>; "QGIS
> release team." <qgis-release-team@lists.osgeo.org>; "qgis-community"
> <qgis-community-team@lists.osgeo.org>; "Werner Macho"
> <werner.macho@gmail.com>
> Sent: Sunday, June 29, 2008 12:00 AM
> Subject: [Qgis-developer] QGIS 0.11.0 - call for translations
>
>
>> Hi All
>>
>> If you are a translator and would like to see your language updates
>> make it into 0.11.0, there is a one week window available to submit
>> your updates. Next Sunday (June 6 2008) I will branch for release
>> after which any translation updates received will be available only in
>> the upcoming 1.0 release.
>>
>> If you need a reminder on how to perform the translation work, please
>> visit:
>>
>> http://wiki.qgis.org/qgiswiki/TranslatorsCorner
>>
>> Once your translation updates are ready, you can submit them to Werner
>> Macho (werner.macho A T gmail.com). If you would like to see if QGIS
>> has already a translation effort underway for your preferred language
>> please visit:
>>
>>
>> http://wiki.qgis.org/qgiswiki/Project_Organigram#head-163fd8ab93493cdb97e45b7a0db223a01e44dffe
>>
>> where you can make contact with the relevant person and offer to help
>> them if you are so included.
>>
>> Many thanks,
>>
>> Regards
>>
>>
>>
>> --
>> Tim Sutton
>> QGIS Project Steering Committee Member - Release Manager
>> Visit http://qgis.org for a great open source GIS
>> openModeller Desktop Developer
>> Visit http://openModeller.sf.net for a great open source ecological
>> niche modelling tool
>> Home Page: http://tim.linfiniti.com
>> Skype: timlinux
>> Irc: timlinux on #qgis at freenode.net
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From marco.pasetti at alice.it  Sun Jun 29 18:46:28 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Sun Jun 29 18:46:33 2008
Subject: [Qgis-developer] QGIS 0.11.0 - call for translations
In-Reply-To: <d368056f0806291457g7d5094ege1d4dbee84463c55@mail.gmail.com>
References: <d368056f0806281500m1bcd1ac9xb50e9e77f1e823a8@mail.gmail.com>
	<4525E6841894488C93ACEF8E8F286540@HPMarco>
	<d368056f0806291457g7d5094ege1d4dbee84463c55@mail.gmail.com>
Message-ID: <A3EA333E49DF4F63AC39278653555A1F@HPMarco>

Hi Tim,

don't worry, no problem at all :)

Regards,

Marco

----- Original Message ----- 
From: "Tim Sutton" <tim@linfiniti.com>
To: "Marco Pasetti" <marco.pasetti@alice.it>
Cc: "QGIS Developer Mailing List" <qgis-developer@lists.osgeo.org>
Sent: Sunday, June 29, 2008 11:57 PM
Subject: Re: [Qgis-developer] QGIS 0.11.0 - call for translations


> Hi Marco
> 
> Yes my apologies for not being clear on this - I will put out the call
> for packaging on the 7th of July, with release announcement scheduled
> for a week after that.
> 
> Best regards
> 
> Tim

From telwertowski at comcast.net  Mon Jun 30 02:09:28 2008
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Mon Jun 30 02:09:30 2008
Subject: [Qgis-developer] Better Menus for QGIS 1.0
Message-ID: <48687898.7000407@comcast.net>

Developers,

As we approach QGIS 1.0, I would like to see a menu overhaul both to make QGIS more accessible to new users and to bring QGIS into compliance with Apple standards. I will prepare a revised menu design and implement it if the general concept is acceptable. If any Mac standard conflicts with other platform standards, I will conditionalize these differences just for a Mac.  

1. The menu system should be somewhat like a table of contents. When I first use an unfamiliar application, I check the capabilities by scanning through all the menus. If I don't find a menu item with a phrase related to the task I hope to accomplish, I conclude that the application doesn't do it. At present, some QGIS functionality is accessible only though toolbars and context menus. A new user shouldn't have to guess the meaning of icons or where to click to get a context menu even though these make great shortcuts for initiated users.

The Mac also has a Hide/Show Toolbar window control. An application should be fully functional when toolbars are hidden. Apple's Human Interface Guidelines says "Make sure that every toolbar item you create has an associated menu command."

2. Every QGIS window should have an associated menu bar, either the main menu bar or its own menu bar. The application menu bar is displayed across the top of the screen on a Mac; this space becomes blank when there isn't an associated menu. At present, Print Composer and Attribute Table windows have no menu bar.

3. There is no Window menu and windows get lost below other windows. Although it's a bug, some already open QGIS windows don't move forward when the command to open them is invoked again; a Window menu would let you know what's open. There is also no Edit menu; the highlight state of the Copy/Paste menu items should provide a clue for where these functions are or aren't available.

Apple's HIG says: The menu bar ... is always visible and available ... Always contains ... a Window menu ... contain the following menus, if they make sense in your application ... an Edit menu"


Moving beyond these Mac usability issues, I would also like to see consistency between menus and toolbars. For example, the File menu uses the order New, Open, Save while the File toolbar uses New, Save, Open. I find this confusing. A similar oddity is that New Layer is in the Layer toolbar but Add Layer is in the File toolbar. Combining two menus into one toolbar might make sense but having two almost corresponding menus and toolbars where a few items are in one menu but the other toolbar is also confusing.


Now that the feature set for QGIS 1.0 is fixed, I think we should take the opportunity to review and organize all existing commands. What do others think?

Tom
From john.tull at wildnevada.org  Mon Jun 30 12:20:26 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Mon Jun 30 12:20:30 2008
Subject: [Qgis-developer] Better Menus for QGIS 1.0
In-Reply-To: <48687898.7000407@comcast.net>
References: <48687898.7000407@comcast.net>
Message-ID: <624F7EDF-E91F-4D35-94B2-2A3D6E52452F@wildnevada.org>

Tom,

I think this is a really good idea.

+1 from me, fwiw.

Regards,
John

On Jun 29, 2008, at 11:09 PM, Tom Elwertowski wrote:

> Developers,
>
> As we approach QGIS 1.0, I would like to see a menu overhaul both to  
> make QGIS more accessible to new users and to bring QGIS into  
> compliance with Apple standards. I will prepare a revised menu  
> design and implement it if the general concept is acceptable. If any  
> Mac standard conflicts with other platform standards, I will  
> conditionalize these differences just for a Mac.
> 1. The menu system should be somewhat like a table of contents. When  
> I first use an unfamiliar application, I check the capabilities by  
> scanning through all the menus. If I don't find a menu item with a  
> phrase related to the task I hope to accomplish, I conclude that the  
> application doesn't do it. At present, some QGIS functionality is  
> accessible only though toolbars and context menus. A new user  
> shouldn't have to guess the meaning of icons or where to click to  
> get a context menu even though these make great shortcuts for  
> initiated users.
>
> The Mac also has a Hide/Show Toolbar window control. An application  
> should be fully functional when toolbars are hidden. Apple's Human  
> Interface Guidelines says "Make sure that every toolbar item you  
> create has an associated menu command."
>
> 2. Every QGIS window should have an associated menu bar, either the  
> main menu bar or its own menu bar. The application menu bar is  
> displayed across the top of the screen on a Mac; this space becomes  
> blank when there isn't an associated menu. At present, Print  
> Composer and Attribute Table windows have no menu bar.
>
> 3. There is no Window menu and windows get lost below other windows.  
> Although it's a bug, some already open QGIS windows don't move  
> forward when the command to open them is invoked again; a Window  
> menu would let you know what's open. There is also no Edit menu; the  
> highlight state of the Copy/Paste menu items should provide a clue  
> for where these functions are or aren't available.
>
> Apple's HIG says: The menu bar ... is always visible and  
> available ... Always contains ... a Window menu ... contain the  
> following menus, if they make sense in your application ... an Edit  
> menu"
>
>
> Moving beyond these Mac usability issues, I would also like to see  
> consistency between menus and toolbars. For example, the File menu  
> uses the order New, Open, Save while the File toolbar uses New,  
> Save, Open. I find this confusing. A similar oddity is that New  
> Layer is in the Layer toolbar but Add Layer is in the File toolbar.  
> Combining two menus into one toolbar might make sense but having two  
> almost corresponding menus and toolbars where a few items are in one  
> menu but the other toolbar is also confusing.
>
>
> Now that the feature set for QGIS 1.0 is fixed, I think we should  
> take the opportunity to review and organize all existing commands.  
> What do others think?
>
> Tom
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From amagine at telus.net  Mon Jun 30 12:30:47 2008
From: amagine at telus.net (Mars Sjoden)
Date: Mon Jun 30 14:18:31 2008
Subject: [Qgis-developer] Better Menus for QGIS 1.0
In-Reply-To: <624F7EDF-E91F-4D35-94B2-2A3D6E52452F@wildnevada.org>
References: <48687898.7000407@comcast.net>
	<624F7EDF-E91F-4D35-94B2-2A3D6E52452F@wildnevada.org>
Message-ID: <E9D900AA-5238-4168-938E-DE10BAF27A97@telus.net>

As a user,

Yippee!  Would love to see these changes!

+1


> Developers,
>
> As we approach QGIS 1.0, I would like to see a menu overhaul both to  
> make QGIS more accessible to new users and to bring QGIS into  
> compliance with Apple standards. I will prepare a revised menu  
> design and implement it if the general concept is acceptable. If any  
> Mac standard conflicts with other platform standards, I will  
> conditionalize these differences just for a Mac.
> 1. The menu system should be somewhat like a table of contents. When  
> I first use an unfamiliar application, I check the capabilities by  
> scanning through all the menus. If I don't find a menu item with a  
> phrase related to the task I hope to accomplish, I conclude that the  
> application doesn't do it. At present, some QGIS functionality is  
> accessible only though toolbars and context menus. A new user  
> shouldn't have to guess the meaning of icons or where to click to  
> get a context menu even though these make great shortcuts for  
> initiated users.
>
> The Mac also has a Hide/Show Toolbar window control. An application  
> should be fully functional when toolbars are hidden. Apple's Human  
> Interface Guidelines says "Make sure that every toolbar item you  
> create has an associated menu command."
>
> 2. Every QGIS window should have an associated menu bar, either the  
> main menu bar or its own menu bar. The application menu bar is  
> displayed across the top of the screen on a Mac; this space becomes  
> blank when there isn't an associated menu. At present, Print  
> Composer and Attribute Table windows have no menu bar.
>
> 3. There is no Window menu and windows get lost below other windows.  
> Although it's a bug, some already open QGIS windows don't move  
> forward when the command to open them is invoked again; a Window  
> menu would let you know what's open. There is also no Edit menu; the  
> highlight state of the Copy/Paste menu items should provide a clue  
> for where these functions are or aren't available.
>
> Apple's HIG says: The menu bar ... is always visible and  
> available ... Always contains ... a Window menu ... contain the  
> following menus, if they make sense in your application ... an Edit  
> menu"
>
>
> Moving beyond these Mac usability issues, I would also like to see  
> consistency between menus and toolbars. For example, the File menu  
> uses the order New, Open, Save while the File toolbar uses New,  
> Save, Open. I find this confusing. A similar oddity is that New  
> Layer is in the Layer toolbar but Add Layer is in the File toolbar.  
> Combining two menus into one toolbar might make sense but having two  
> almost corresponding menus and toolbars where a few items are in one  
> menu but the other toolbar is also confusing.
>
>
> Now that the feature set for QGIS 1.0 is fixed, I think we should  
> take the opportunity to review and organize all existing commands.  
> What do others think?
>
> Tom
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer

From tim at linfiniti.com  Mon Jun 30 16:38:44 2008
From: tim at linfiniti.com (Tim Sutton)
Date: Mon Jun 30 16:38:47 2008
Subject: [Qgis-developer] Better Menus for QGIS 1.0
In-Reply-To: <E9D900AA-5238-4168-938E-DE10BAF27A97@telus.net>
References: <48687898.7000407@comcast.net>
	<624F7EDF-E91F-4D35-94B2-2A3D6E52452F@wildnevada.org>
	<E9D900AA-5238-4168-938E-DE10BAF27A97@telus.net>
Message-ID: <d368056f0806301338re5fb824ua398853833483be@mail.gmail.com>

Hi Tom

I agree the changes you suggest would take QGIS to a next level of
polish prior to a 1.0 release. On non mac platforms menus on dialogs
are atypical though and I would prefer to #ifdef that behaviour into
mac specific blocks. I think edge cases such as composer which stretch
the idea of being a dialog should be better addressed by embedding
them into the main window while hiding the map canvas and updating
toolbars and menus based on context. We could provide a menu item in
the view menu to switch between composer mode and map view mode. All
the other dialogs that I can think of off-hand should not require /
display menus on non mac platforms.

Regards

Tim

2008/6/30 Mars Sjoden <amagine@telus.net>:
> As a user,
>
> Yippee!  Would love to see these changes!
>
> +1
>
>
>> Developers,
>>
>> As we approach QGIS 1.0, I would like to see a menu overhaul both to make
>> QGIS more accessible to new users and to bring QGIS into compliance with
>> Apple standards. I will prepare a revised menu design and implement it if
>> the general concept is acceptable. If any Mac standard conflicts with other
>> platform standards, I will conditionalize these differences just for a Mac.
>> 1. The menu system should be somewhat like a table of contents. When I
>> first use an unfamiliar application, I check the capabilities by scanning
>> through all the menus. If I don't find a menu item with a phrase related to
>> the task I hope to accomplish, I conclude that the application doesn't do
>> it. At present, some QGIS functionality is accessible only though toolbars
>> and context menus. A new user shouldn't have to guess the meaning of icons
>> or where to click to get a context menu even though these make great
>> shortcuts for initiated users.
>>
>> The Mac also has a Hide/Show Toolbar window control. An application should
>> be fully functional when toolbars are hidden. Apple's Human Interface
>> Guidelines says "Make sure that every toolbar item you create has an
>> associated menu command."
>>
>> 2. Every QGIS window should have an associated menu bar, either the main
>> menu bar or its own menu bar. The application menu bar is displayed across
>> the top of the screen on a Mac; this space becomes blank when there isn't an
>> associated menu. At present, Print Composer and Attribute Table windows have
>> no menu bar.
>>
>> 3. There is no Window menu and windows get lost below other windows.
>> Although it's a bug, some already open QGIS windows don't move forward when
>> the command to open them is invoked again; a Window menu would let you know
>> what's open. There is also no Edit menu; the highlight state of the
>> Copy/Paste menu items should provide a clue for where these functions are or
>> aren't available.
>>
>> Apple's HIG says: The menu bar ... is always visible and available ...
>> Always contains ... a Window menu ... contain the following menus, if they
>> make sense in your application ... an Edit menu"
>>
>>
>> Moving beyond these Mac usability issues, I would also like to see
>> consistency between menus and toolbars. For example, the File menu uses the
>> order New, Open, Save while the File toolbar uses New, Save, Open. I find
>> this confusing. A similar oddity is that New Layer is in the Layer toolbar
>> but Add Layer is in the File toolbar. Combining two menus into one toolbar
>> might make sense but having two almost corresponding menus and toolbars
>> where a few items are in one menu but the other toolbar is also confusing.
>>
>>
>> Now that the feature set for QGIS 1.0 is fixed, I think we should take the
>> opportunity to review and organize all existing commands. What do others
>> think?
>>
>> Tom
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
