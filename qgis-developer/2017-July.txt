From saxri89 at gmail.com  Sat Jul  1 11:57:16 2017
From: saxri89 at gmail.com (xristosss20)
Date: Sat, 1 Jul 2017 11:57:16 -0700 (MST)
Subject: [QGIS-Developer] pyqgis error messages using PYCHARM
Message-ID: <1498935436017-5326359.post@n6.nabble.com>

I use pyqgis in standalone app using python 2.7 in windows 10.

I have create some scripts using python idle and work fine without some
errors or messages.

Now I try to use pyqgis using pycharm editor with the some scripts where I
have run it before in python editor.

in the pycharm that scripts work again,I get correct outputs but in the
pycharm show me some errors messages and in the final show crashed error
python but my output is correct.

like this :

QSqlDatabase: QSQLITE driver not loaded
ERROR: Opening of authentication db FAILED
QSqlDatabase: available drivers: QPSQL7 QPSQL QODBC3 QODBC
WARNING: Auth db query exec() FAILED
QSqlQuery::prepare: database not open
ERROR: Opening of authentication db FAILED

Process finished with exit code -1073741819 (0xC0000005) (and 255)
I don't get exit code 0 I get it -1073741819 (0xC0000005) and 255.

any idea why I take that error messages in pycharm ?



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/pyqgis-error-messages-using-PYCHARM-tp5326359.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From sfkeller at gmail.com  Sun Jul  2 04:57:06 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Sun, 2 Jul 2017 13:57:06 +0200
Subject: [QGIS-Developer] Variable syntax: $ vs @
In-Reply-To: <CAFcOn2-fYP9eX_k2uQzvYk0zMS6o3Rsm8E4jJ6bMZefHz86G1Q@mail.gmail.com>
References: <65b81b9edbfc4996004ded7e85590956@carto.net>
 <CAAi8Yg_uA737iNHe1SnstgebnD7syhR8BG+qHQWTaSCyYOMZDg@mail.gmail.com>
 <f7ee12caf16941c94481e7dfc5f8fe73@carto.net>
 <CAFcOn2-fYP9eX_k2uQzvYk0zMS6o3Rsm8E4jJ6bMZefHz86G1Q@mail.gmail.com>
Message-ID: <CAFcOn2-gx7EyZNxpKHubHHLifk5unD0YrveL8hQY4WaUcsAtOA@mail.gmail.com>

Thanks Nathan for merging [1].
Now looking forward to the new release of the Expressions Plus QGIS plugin :-).

:Stefan

[1] https://github.com/NathanW2/qgsexpressionsplus/pull/8#issuecomment-312486509


2017-06-30 12:21 GMT+02:00 Stefan Keller <sfkeller at gmail.com>:
> Hi Nathan
>
> Only partially related to this thread as a shy reminder:
> My intern Simran recently has made a pull request [*] for your nice
> Expressions Plus Plugin QGIS plugin.
>
> These are the proposed additional functions:
> * max_incremented() - an "autoincrement" id function
> * hstore - support of a key-value pair set/string
> * nullif() - returns None if arg_1 equals to arg_2 otherwise arg_1
> * get_env_variable() and set_env_variable()
> * jitter_geometry()
>
> These expression functions could be of interest for workshops like the
> mentioned one.
>
> Cheers, Stefan
>
> [*] https://github.com/NathanW2/qgsexpressionsplus/pull/8
>
>
> 2017-06-19 14:36 GMT+02:00 Neumann, Andreas <a.neumann at carto.net>:
>> Hi Nathan,
>>
>> Thank you for the explanation. Makes sense. I will pass this on in the
>> workshop.
>>
>> Andreas
>>
>> On 2017-06-19 14:12, Nathan Woodrow wrote:
>>
>> Hey Andreas,
>>
>> They are really two different things.  $geometry is really a function that
>> takes no arguments. This has been deprecated in favour calling with () e.g
>> geometry().  @ is only for variables.
>>
>> So you can explain it that $ used to be a shorthand way of calling a
>> function that took no arguments which has now been replaced with () at the
>> end to call it. $area = area().  This becomes important because now we
>> support optional arguments meaning you can take 0 to N arguments.
>>
>> - Nathan
>>
>> On Mon, Jun 19, 2017 at 9:53 PM, Neumann, Andreas <a.neumann at carto.net>
>> wrote:
>>>
>>> Hi,
>>>
>>> While preparing for a workshop on expressions I wonder how to explain why
>>> some variables are referenced with the $ sign (like $geometry) while other
>>> variables start with the @ sign, like @row_number, @layer_name.
>>>
>>> I know that it has historical reasons and that variables with the @ sign
>>> are newer and are implemented using a different technology.
>>>
>>> But are there plans to get rid of the old $ sign notation and move
>>> everything to the @ sign notation?
>>>
>>> Just wonder how I best explain this to the participants of the workshop.
>>>
>>> Thanks for your reply,
>>>
>>> Andreas
>>>
>>>
>>>
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From even.rouault at spatialys.com  Sun Jul  2 12:22:27 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 02 Jul 2017 21:22:27 +0200
Subject: [QGIS-Developer] GeoPackage and styling
Message-ID: <5034504.xotctZVCBM@even-i700>

Hi,

I guess this might be of interest for the QGIS community. There's
apparently ongoing thoughts about how to standardize styling in GeoPackage

See this blog post by Jeff Yutzler‚Äè, the chair of the OGC GeoPackage SWG:
http://geopackage.blogspot.fr/2017/07/the-styling-portrayal-ad-hoc-meeting.html

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170702/2a7eb286/attachment.html>

From matteo.ghetta at gmail.com  Mon Jul  3 01:58:03 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 3 Jul 2017 10:58:03 +0200
Subject: [QGIS-Developer] QGIS crashes when SpatiLite is used
Message-ID: <77907c1e-607b-600d-0c0e-e674f303f53a@gmail.com>

Hi all,

I build QGIS with pyspatialite:

cmake -DWITH_PYSPATIALITE

but when *touching* something related to SpatiaLite (try to open a Db in
DB Manager or running a simple query with "Spatialite execute SQL"
function of Processing QGIS collapsed:

QGIS died on signal 11Could not attach to process.  If your uid matches
the uid of the target
process, check the setting of /proc/sys/kernel/yama/ptrace_scope, or try
again as the root user.  For more details, see /etc/sysctl.d/10-ptrace.conf
ptrace: Operation not permitted.
No thread selected
No stack.
gdb returned 0
Aborted


Layers are loading fine if the SpatiaLite default button or if the new
Add Layer menu are used.

Do I miss some packages to install?

Thanks!

Matteo

From matteo.ghetta at gmail.com  Mon Jul  3 02:33:45 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 3 Jul 2017 11:33:45 +0200
Subject: [QGIS-Developer] Error with "PostGIS execute SQL'
Message-ID: <2bb97840-b012-1ec0-ad8e-307f542b0c56@gmail.com>

Hi,

the function "PostGIS execute SQL' of Processing seems not returning any
results in QGIS, even with simple query like:

SELECT * FROM test

or

SELECT * FROM test where id > 10

the same strings on the same db and layer are working fine in DB Manager
and with the "Add Layer" button.

Should I open a ticket?

Thanks

Matteo

From nyall.dawson at gmail.com  Mon Jul  3 02:36:29 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 3 Jul 2017 19:36:29 +1000
Subject: [QGIS-Developer] Error with "PostGIS execute SQL'
In-Reply-To: <2bb97840-b012-1ec0-ad8e-307f542b0c56@gmail.com>
References: <2bb97840-b012-1ec0-ad8e-307f542b0c56@gmail.com>
Message-ID: <CAB28AsgQ7LqsbeA8qAjvzPReXOuhjjwq8ZV+YAiqF7BaWndSQg@mail.gmail.com>

On 3 July 2017 at 19:33, matteo <matteo.ghetta at gmail.com> wrote:
> Hi,
>
> the function "PostGIS execute SQL' of Processing seems not returning any
> results in QGIS, even with simple query like:
>
> SELECT * FROM test
>
> or
>
> SELECT * FROM test where id > 10
>
> the same strings on the same db and layer are working fine in DB Manager
> and with the "Add Layer" button.
>
> Should I open a ticket?

Simple answer - it's not designed to return results. It's for
executing commands like 'DROP DATABASE
all_my_data_that_i_havent_backed_up'

Nyall

>
> Thanks
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From matteo.ghetta at gmail.com  Mon Jul  3 02:42:35 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 3 Jul 2017 11:42:35 +0200
Subject: [QGIS-Developer] Error with "PostGIS execute SQL'
In-Reply-To: <CAB28AsgQ7LqsbeA8qAjvzPReXOuhjjwq8ZV+YAiqF7BaWndSQg@mail.gmail.com>
References: <2bb97840-b012-1ec0-ad8e-307f542b0c56@gmail.com>
 <CAB28AsgQ7LqsbeA8qAjvzPReXOuhjjwq8ZV+YAiqF7BaWndSQg@mail.gmail.com>
Message-ID: <71cef8dc-7d65-074c-5832-aa7abeff142c@gmail.com>

> Simple answer - it's not designed to return results. It's for
> executing commands like 'DROP DATABASE
> all_my_data_that_i_havent_backed_up'

ok, so no new tables are created with the SQL query added? It can be
used for all "hidden" commands (drop, create spatial index and so on?).

Is it the same for SpatiLite execute SQL function?

Thanks!

Matteo

From nyall.dawson at gmail.com  Mon Jul  3 02:43:35 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 3 Jul 2017 19:43:35 +1000
Subject: [QGIS-Developer] Error with "PostGIS execute SQL'
In-Reply-To: <71cef8dc-7d65-074c-5832-aa7abeff142c@gmail.com>
References: <2bb97840-b012-1ec0-ad8e-307f542b0c56@gmail.com>
 <CAB28AsgQ7LqsbeA8qAjvzPReXOuhjjwq8ZV+YAiqF7BaWndSQg@mail.gmail.com>
 <71cef8dc-7d65-074c-5832-aa7abeff142c@gmail.com>
Message-ID: <CAB28AshpmZ=E=yP1ioMKyjuOHYTNEDbj=76Cz5ZQF5bZEk0Dhw@mail.gmail.com>

On 3 July 2017 at 19:42, matteo <matteo.ghetta at gmail.com> wrote:
>> Simple answer - it's not designed to return results. It's for
>> executing commands like 'DROP DATABASE
>> all_my_data_that_i_havent_backed_up'
>
> ok, so no new tables are created with the SQL query added? It can be
> used for all "hidden" commands (drop, create spatial index and so on?).
>
> Is it the same for SpatiLite execute SQL function?

yes, that's correct

Nyall

>
> Thanks!
>
> Matteo

From noreply at qgis.org  Mon Jul  3 02:42:26 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 03 Jul 2017 09:42:26 -0000
Subject: [QGIS-Developer] Plugin [1267] AreaPrinter approval notification.
Message-ID: <20170703094226.7594.47004@320558c5528b>


Plugin AreaPrinter approval by pcav.
The plugin version "[1267] AreaPrinter 0.3 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/AreaPrinter-master/

From matteo.ghetta at gmail.com  Mon Jul  3 02:51:31 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 3 Jul 2017 11:51:31 +0200
Subject: [QGIS-Developer] Error with "PostGIS execute SQL'
In-Reply-To: <CAB28AshpmZ=E=yP1ioMKyjuOHYTNEDbj=76Cz5ZQF5bZEk0Dhw@mail.gmail.com>
References: <2bb97840-b012-1ec0-ad8e-307f542b0c56@gmail.com>
 <CAB28AsgQ7LqsbeA8qAjvzPReXOuhjjwq8ZV+YAiqF7BaWndSQg@mail.gmail.com>
 <71cef8dc-7d65-074c-5832-aa7abeff142c@gmail.com>
 <CAB28AshpmZ=E=yP1ioMKyjuOHYTNEDbj=76Cz5ZQF5bZEk0Dhw@mail.gmail.com>
Message-ID: <63f30112-a042-8cb9-e632-82b0b52f7e03@gmail.com>

> yes, that's correct

perfect, get it

Thanks!

Matteo

From a.neumann at carto.net  Mon Jul  3 04:20:26 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Mon, 03 Jul 2017 13:20:26 +0200
Subject: [QGIS-Developer] Trouble compiling QGIS on CentOS - WFS provider
	related
Message-ID: <b5713cba0325dced2177bf224e439001@carto.net>

Hi, 

I am trying to compile the latest 2.18 branch on CentOS 7 but fail to
build. The error message is: 

------------------------------------------- 

/home/svc/dev/QGIS/src/providers/wfs/qgswfsprovider.cpp: In member
function 'bool QgsWFSProvider::readAttributesFromSchema(QDomDocument&,
const QString&,
/home/svc/dev/QGIS/src/providers/wfs/qgswfsprovider.cpp:1283:69: error:
'QStringLiteral' was not declared in this scope
     QString ref = attributeElement.attribute( QStringLiteral( "ref" )
);
                                                                     ^
make[2]: ***
[src/providers/wfs/CMakeFiles/wfsprovider.dir/qgswfsprovider.cpp.o]
Error 1
make[1]: *** [src/providers/wfs/CMakeFiles/wfsprovider.dir/all] Error 2
make: *** [all] Error 2 

--------------------------------------- 

Probably related to the latest fix
https://github.com/qgis/QGIS/commit/bc49b5ea84aee01fdc7e0613595317767d58603e
? 

Thanks if you have any ideas. 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170703/023bc666/attachment-0001.html>

From even.rouault at spatialys.com  Mon Jul  3 04:27:06 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 03 Jul 2017 13:27:06 +0200
Subject: [QGIS-Developer] Trouble compiling QGIS on CentOS - WFS
	provider related
In-Reply-To: <b5713cba0325dced2177bf224e439001@carto.net>
References: <b5713cba0325dced2177bf224e439001@carto.net>
Message-ID: <4237986.RAprRdIi8Y@even-i700>

On lundi 3 juillet 2017 13:20:26 CEST Neumann, Andreas wrote:
> Hi,
> 
> I am trying to compile the latest 2.18 branch on CentOS 7 but fail to
> build. The error message is:
> 
> -------------------------------------------
> 
> /home/svc/dev/QGIS/src/providers/wfs/qgswfsprovider.cpp: In member
> function 'bool QgsWFSProvider::readAttributesFromSchema(QDomDocument&,
> const QString&,
> /home/svc/dev/QGIS/src/providers/wfs/qgswfsprovider.cpp:1283:69: error:
> 'QStringLiteral' was not declared in this scope
>      QString ref = attributeElement.attribute( QStringLiteral( "ref" )
> );
>                                                                      ^
> make[2]: ***
> [src/providers/wfs/CMakeFiles/wfsprovider.dir/qgswfsprovider.cpp.o]
> Error 1
> make[1]: *** [src/providers/wfs/CMakeFiles/wfsprovider.dir/all] Error 2
> make: *** [all] Error 2
> 

Ah sorry for that. I just pushed a fix.

Even


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170703/2dd4a033/attachment.html>

From jef at norbit.de  Mon Jul  3 04:50:40 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 3 Jul 2017 13:50:40 +0200
Subject: [QGIS-Developer] Trouble compiling QGIS on CentOS - WFS
 provider related
In-Reply-To: <4237986.RAprRdIi8Y@even-i700>
References: <b5713cba0325dced2177bf224e439001@carto.net>
 <4237986.RAprRdIi8Y@even-i700>
Message-ID: <20170703115040.qqrdvbbfnwt4scki@norbit.de>

Hi Even,

On Mon, 03. Jul 2017 at 13:27:06 +0200, Even Rouault wrote:
> Ah sorry for that. I just pushed a fix.

BTW Qt4 doesn't have QStringLiteral at all.  So that should
never be used in 2.x.

qca has a compatibility macro and hides that fact in recent versions.  That's
why it doesn't fail everywhere.  Actually it works on most platforms - just not
with old versions of qca.


J√ºrgen


-- 
J√ºrgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra√üe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170703/9e1633f5/attachment.sig>

From a.neumann at carto.net  Mon Jul  3 06:13:56 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Mon, 03 Jul 2017 15:13:56 +0200
Subject: [QGIS-Developer] Trouble compiling QGIS on CentOS - WFS
 provider related
In-Reply-To: <4237986.RAprRdIi8Y@even-i700>
References: <b5713cba0325dced2177bf224e439001@carto.net>
 <4237986.RAprRdIi8Y@even-i700>
Message-ID: <8c6a5c155d178c4e14855e7539731021@carto.net>

Thanks a lot for the fix - it compiles fine now. 

Sorry for having such an old qt version! 

Andreas 

On 2017-07-03 13:27, Even Rouault wrote:

> On lundi 3 juillet 2017 13:20:26 CEST Neumann, Andreas wrote: 
> 
>> Hi, 
> 
>> 
> 
>> I am trying to compile the latest 2.18 branch on CentOS 7 but fail to 
> 
>> build. The error message is: 
> 
>> 
> 
>> ------------------------------------------- 
> 
>> 
> 
>> /home/svc/dev/QGIS/src/providers/wfs/qgswfsprovider.cpp: In member 
> 
>> function 'bool QgsWFSProvider::readAttributesFromSchema(QDomDocument&, 
> 
>> const QString&, 
> 
>> /home/svc/dev/QGIS/src/providers/wfs/qgswfsprovider.cpp:1283:69: error: 
> 
>> 'QStringLiteral' was not declared in this scope 
> 
>> QString ref = attributeElement.attribute( QStringLiteral( "ref" ) 
> 
>> ); 
> 
>> ^ 
> 
>> make[2]: *** 
> 
>> [src/providers/wfs/CMakeFiles/wfsprovider.dir/qgswfsprovider.cpp.o] 
> 
>> Error 1 
> 
>> make[1]: *** [src/providers/wfs/CMakeFiles/wfsprovider.dir/all] Error 2 
> 
>> make: *** [all] Error 2 
> 
>> 
> 
> Ah sorry for that. I just pushed a fix. 
> 
> Even 
> 
> -- 
> 
> Spatialys - Geospatial professional services 
> 
> http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170703/21d94df3/attachment.html>

From a.neumann at carto.net  Mon Jul  3 08:46:46 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Mon, 03 Jul 2017 17:46:46 +0200
Subject: [QGIS-Developer] QGIS Server 2.x: issue with @map_scale variable
	vs. $scale
Message-ID: <4e08afde245934ebdb899f6dca8d1ea5@carto.net>

Hi, 

In a QGIS project that should be published with QGIS Server, I used the
@map_scale variable to define the font size with an expression,
depending on the map scale. It works fine on QGIS Desktop, but on QGIS
server GetMap requests it fails - the font-size (defined in map units)
is constant and doesn't react to my scale dependent rule. The
interesting thing, is, that the same rule works fine in GetPrint
requests. 

If I change my rule to use $scale instead of @map_scale, my label rule
works fine. 

Could it be that the @map_scale variable doesn't work in QGIS server
GetMap requests? 

Here is my expression: 

CASE
   WHEN @map_scale <= 251 THEN 1
   WHEN @map_scale > 251 AND @map_scale <= 501 THEN 2
   WHEN @map_scale > 501 AND @map_scale <= 1001 THEN 3
   WHEN @map_scale > 1001 AND @map_scale <= 2001 THEN 4
   WHEN @map_scale > 2001 AND @map_scale <= 3001 THEN 6
   WHEN @map_scale > 3001 AND @map_scale <= 4001 THEN 7
   WHEN @map_scale > 4001  THEN 8
END 

Thanks for your ideas. 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170703/a7c816f0/attachment.html>

From matteo.ghetta at gmail.com  Mon Jul  3 09:08:03 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Mon, 3 Jul 2017 18:08:03 +0200
Subject: [QGIS-Developer] Regular points in Processing freezes
Message-ID: <75d10be1-3924-c79d-e787-1f86a030730d@gmail.com>

Hi all,

I've some trouble with the simple "Random points" algorithm in
Processing. No matter which parameters are selected, the algorithms does
not return any output and "freezes" at 0%

Should I open a ticket?

Thanks

Matteo

From rdmailings at duif.net  Mon Jul  3 12:15:02 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 3 Jul 2017 21:15:02 +0200
Subject: [QGIS-Developer] GeoPackage and styling
In-Reply-To: <5034504.xotctZVCBM@even-i700>
References: <5034504.xotctZVCBM@even-i700>
Message-ID: <8ea32108-43cb-708e-a44e-cac13cd20ec6@duif.net>

(cc-ing to geoserver dev list too)

Thanks for pointing to it Even.

Though I was hoping that the community could be a litter more
progressive in the way to define styles. Though there is no golden
bullet, I think the way MapBox and friends are evolving to some json
styling language/definition is pretty promising...

'We' as QGIS already can (in a QGIS specific way) save the style (in
either QGIS-QML or SLD), and there is even a SourcePole plugin which
besides the styling also saves the project into the GeoPackage...

To me it would be ubercool when we could create a GeoPackage file with
both Data, Styles and (let's call it) MapContext (layerorder, start
zoom/bbox etc).

And then that other FOSS products like Geoserver/Mapproxy/MapsServer etc
etc could just ingest that....

Dreaming?

Regards,

Richard Duivenvoorde

On 02-07-17 21:22, Even Rouault wrote:
> Hi,
> 
> I guess this might be of interest for the QGIS community. There's
> 
> apparently ongoing thoughts about how to standardize styling in GeoPackage
> 
> See this blog post by Jeff Yutzler‚Äè, the chair of the OGC GeoPackage SWG:
> 
> http://geopackage.blogspot.fr/2017/07/the-styling-portrayal-ad-hoc-meeting.html
>  
> Even

From noreply at qgis.org  Mon Jul  3 13:51:09 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 03 Jul 2017 20:51:09 -0000
Subject: [QGIS-Developer] Plugin [1035] Lat Lon Tools approval notification.
Message-ID: <20170703205109.7594.14651@320558c5528b>


Plugin Lat Lon Tools approval by pcav.
The plugin version "[1035] Lat Lon Tools 0.9.3" is now approved
Link: http://plugins.qgis.org/plugins/latlontools/

From noreply at qgis.org  Mon Jul  3 21:42:28 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 04 Jul 2017 04:42:28 -0000
Subject: [QGIS-Developer] Plugin [62] Load Them All approval notification.
Message-ID: <20170704044228.7594.69158@320558c5528b>


Plugin Load Them All approval by pcav.
The plugin version "[62] Load Them All 2.6" is now approved
Link: http://plugins.qgis.org/plugins/loadthemall/

From cavallini at faunalia.it  Tue Jul  4 00:43:25 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 4 Jul 2017 09:43:25 +0200
Subject: [QGIS-Developer] GeoPackage and styling
In-Reply-To: <8ea32108-43cb-708e-a44e-cac13cd20ec6@duif.net>
References: <5034504.xotctZVCBM@even-i700>
 <8ea32108-43cb-708e-a44e-cac13cd20ec6@duif.net>
Message-ID: <efad6faa-17db-93df-78e9-dbe9e8ec31b3@faunalia.it>

Il 03/07/2017 21:15, Richard Duivenvoorde ha scritto:

> Dreaming?

If it is, it's a long standing one, and many of us have shard the same.
It proved very elusive, and now I think QGIS has the richest set of
styles, and rapidly improving, so it may be very difficult to
standardize it. Falling back to a more limited set is IMHO not a very
viable option.
All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From noreply at qgis.org  Tue Jul  4 00:46:44 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 04 Jul 2017 07:46:44 -0000
Subject: [QGIS-Developer] Plugin [1268] Walking Papers approval notification.
Message-ID: <20170704074644.20832.78283@320558c5528b>


Plugin Walking Papers approval by pcav.
The plugin version "[1268] Walking Papers 0.1" is now approved
Link: http://plugins.qgis.org/plugins/walking_papers/

From ijturton at gmail.com  Tue Jul  4 00:48:29 2017
From: ijturton at gmail.com (Ian Turton)
Date: Tue, 4 Jul 2017 08:48:29 +0100
Subject: [QGIS-Developer] GeoPackage and styling
In-Reply-To: <efad6faa-17db-93df-78e9-dbe9e8ec31b3@faunalia.it>
References: <5034504.xotctZVCBM@even-i700>
 <8ea32108-43cb-708e-a44e-cac13cd20ec6@duif.net>
 <efad6faa-17db-93df-78e9-dbe9e8ec31b3@faunalia.it>
Message-ID: <CA+=cGJm=LD=cMNWfFADua5_1JWfuSrxnPZKsg33KTW3=MzweKw@mail.gmail.com>

On 4 July 2017 at 08:43, Paolo Cavallini <cavallini at faunalia.it> wrote:

> Il 03/07/2017 21:15, Richard Duivenvoorde ha scritto:
>
> > Dreaming?
>
> If it is, it's a long standing one, and many of us have shard the same.
> It proved very elusive, and now I think QGIS has the richest set of
> styles, and rapidly improving, so it may be very difficult to
> standardize it. Falling back to a more limited set is IMHO not a very
> viable option.
>

I think the best chance for standardisation is to allow programs to fall
back to "easier" options if unable to support the more complex styles
another program is generating, other wise there is no incentive to bother
reading the style if you can't implement all possible style options and
then standardisation falls by the way side for another 10 years.

Ian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170704/93bba271/attachment.html>

From noreply at qgis.org  Tue Jul  4 00:52:33 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 04 Jul 2017 07:52:33 -0000
Subject: [QGIS-Developer] Plugin [1264] kNN approval notification.
Message-ID: <20170704075233.7594.12046@320558c5528b>


Plugin kNN approval by pcav.
The plugin version "[1264] kNN 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/kNN/

From matteo.ghetta at gmail.com  Tue Jul  4 00:57:43 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 4 Jul 2017 09:57:43 +0200
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CAB28AsgRrSm795vMPWsBa3eQTBx7njE-_6e_D21j5p8V1E3rwA@mail.gmail.com>
References: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>
 <CAB28AsgOURwTQWYpdqo5vwCUCM5pjUZuA9+gRXeYgvzns5DtoQ@mail.gmail.com>
 <71f0ce39-a531-a62c-8987-9a299ce94c97@faunalia.it>
 <CAB28AsgRrSm795vMPWsBa3eQTBx7njE-_6e_D21j5p8V1E3rwA@mail.gmail.com>
Message-ID: <480877ef-3e3c-0931-220a-59251384a9bd@gmail.com>

Hi Nyall,

>>>> * barplot does not return a result (result viewer is empty)
>>>
>>> Looks like this happens when you don't pick a destination file.  Can
>>> you re-test and explicitly choose an output file.
>>
>> tried, still empty wpanel

I notice that with all the algorithm that return html outputs, the
result viewer is empty and one can get the result just by saving the
output as local html in a folder.

Can I help to solve this problem?

Thanks!

Matteo

From cavallini at faunalia.it  Tue Jul  4 00:58:47 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 4 Jul 2017 09:58:47 +0200
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <480877ef-3e3c-0931-220a-59251384a9bd@gmail.com>
References: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>
 <CAB28AsgOURwTQWYpdqo5vwCUCM5pjUZuA9+gRXeYgvzns5DtoQ@mail.gmail.com>
 <71f0ce39-a531-a62c-8987-9a299ce94c97@faunalia.it>
 <CAB28AsgRrSm795vMPWsBa3eQTBx7njE-_6e_D21j5p8V1E3rwA@mail.gmail.com>
 <480877ef-3e3c-0931-220a-59251384a9bd@gmail.com>
Message-ID: <7ce32bf9-1a49-3931-09a7-fcad56860764@faunalia.it>

Il 04/07/2017 09:57, matteo ha scritto:

> I notice that with all the algorithm that return html outputs, the
> result viewer is empty and one can get the result just by saving the
> output as local html in a folder.

confirmed
all the best

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From nyall.dawson at gmail.com  Tue Jul  4 02:46:04 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 4 Jul 2017 19:46:04 +1000
Subject: [QGIS-Developer] Regular points in Processing freezes
In-Reply-To: <75d10be1-3924-c79d-e787-1f86a030730d@gmail.com>
References: <75d10be1-3924-c79d-e787-1f86a030730d@gmail.com>
Message-ID: <CAB28AsgYMAjnSzFwyu0Cv9gTMk=w4bYyWjcO5TwG=zbHXHMP8Q@mail.gmail.com>

On 4 July 2017 at 02:08, matteo <matteo.ghetta at gmail.com> wrote:
> Hi all,
>
> I've some trouble with the simple "Random points" algorithm in
> Processing. No matter which parameters are selected, the algorithms does
> not return any output and "freezes" at 0%
>
> Should I open a ticket?

Is this on master?

Nyall

>
> Thanks
>
> Matteo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From matteo.ghetta at gmail.com  Tue Jul  4 03:01:05 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 4 Jul 2017 12:01:05 +0200
Subject: [QGIS-Developer] Regular points in Processing freezes
In-Reply-To: <CAB28AsgYMAjnSzFwyu0Cv9gTMk=w4bYyWjcO5TwG=zbHXHMP8Q@mail.gmail.com>
References: <75d10be1-3924-c79d-e787-1f86a030730d@gmail.com>
 <CAB28AsgYMAjnSzFwyu0Cv9gTMk=w4bYyWjcO5TwG=zbHXHMP8Q@mail.gmail.com>
Message-ID: <df8907ae-e005-7911-5cdc-c0b346fd2f9f@gmail.com>

> Is this on master?

yes, fresh compiled.. and sorry for the text, it's regular points and
not random point

From matteo.ghetta at gmail.com  Tue Jul  4 06:57:27 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Tue, 4 Jul 2017 15:57:27 +0200
Subject: [QGIS-Developer] [Processing] Split vector layer problem
Message-ID: <978faac8-9fae-93b5-d527-93b08081c50e@gmail.com>

Hi all,

I get another (small) issue with "Split vector layer" in Processing.

By choosing a local folder where to store all the layers created from
the splitting, all the layers are saved in the /tmp/ folder anyways.

So algorithm works fine (output in /tmp/ are correct), only the
directory path input seems to be not taken into account.

Thanks!

Matteo

From manisandro at gmail.com  Tue Jul  4 08:05:30 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Tue, 4 Jul 2017 17:05:30 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to data
	provider?
Message-ID: <6855ee50-1bce-19cd-ad60-4b8a2211d814@gmail.com>

Hi

I'm doing work on the geometry checker in QGIS master and noticed that, 
when deleting features from an ogr vector layer, FeatureIds appear to be 
reassigned to fill up the gap in the ids. This is a pretty serious 
blocker for the geometry checker since geometry checker errors are 
identified by the feature id (and other parameters). So if the 
FeatureIds change, the geometry checker errors may suddenly reference 
the wrong feature, causing general mayhem.

Can anyone confirm that indeed FeatureIds are being purposefully 
reassigned, and whether there is a rationale behind this change (I never 
observed this before in QGIS 2.x)? And if so, what other options exist 
to reliably reference a feature over the entire lifetime of the layer 
being loaded in QGIS?

Note that in the geometry checker, I don't use the edit buffer, but 
write each change directly to the data provider. This to avoid that 
situations where, after fixing multiple errors, the final result cannot 
be committed due to a particular geometry still being invalid and the 
provider refusing to accept the change.

Thanks
Sandro


From even.rouault at spatialys.com  Tue Jul  4 08:36:51 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 04 Jul 2017 17:36:51 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <6855ee50-1bce-19cd-ad60-4b8a2211d814@gmail.com>
References: <6855ee50-1bce-19cd-ad60-4b8a2211d814@gmail.com>
Message-ID: <2048563.O32OLgHyIP@even-i700>

Sandro,

I guess this might depend on the actual OGR driver used. Somehow I assume you use shapefiles here ?

This is probably linked to shapefiles being repacked after the end of various operations 
such as addFeatures(), changeGeometryValues(), deleteFeatures(), so as to avoid issues
with other software that don't like holes in SHP and DBF files.

There have been changes in that area to rebustify shapefile recompaction that used
to work not so well on Windows (although most of them were in OGR itself),
but my understanding of 
https://github.com/qgis/QGIS/blob/release-2_12/src/providers/ogr/qgsogrprovider.cpp
is that even in 2.12, feature deletion should cause a repack of the shapefile, so
I'm not sure why the issue would be new

Even

> Hi
> 
> I'm doing work on the geometry checker in QGIS master and noticed that,
> when deleting features from an ogr vector layer, FeatureIds appear to be
> reassigned to fill up the gap in the ids. This is a pretty serious
> blocker for the geometry checker since geometry checker errors are
> identified by the feature id (and other parameters). So if the
> FeatureIds change, the geometry checker errors may suddenly reference
> the wrong feature, causing general mayhem.
> 
> Can anyone confirm that indeed FeatureIds are being purposefully
> reassigned, and whether there is a rationale behind this change (I never
> observed this before in QGIS 2.x)? And if so, what other options exist
> to reliably reference a feature over the entire lifetime of the layer
> being loaded in QGIS?
> 
> Note that in the geometry checker, I don't use the edit buffer, but
> write each change directly to the data provider. This to avoid that
> situations where, after fixing multiple errors, the final result cannot
> be committed due to a particular geometry still being invalid and the
> provider refusing to accept the change.
> 
> Thanks
> Sandro
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170704/f4632a36/attachment.html>

From manisandro at gmail.com  Tue Jul  4 08:51:09 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Tue, 4 Jul 2017 17:51:09 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <2048563.O32OLgHyIP@even-i700>
References: <6855ee50-1bce-19cd-ad60-4b8a2211d814@gmail.com>
 <2048563.O32OLgHyIP@even-i700>
Message-ID: <61829afc-6d27-f6e2-ae47-54808938ade3@gmail.com>

Hi Even

Thanks for the reply. Yes I am indeed testing with shapefiles.

Not sure why I never observed this behaviour previously, but indeed I 
have up to now never observed this myself, nor have received bug reports 
concerned with this kind breakage - and this is a pretty hard to miss 
issue since the plugin will essentially behave randomly.

In any event, so I suppose other than manually introducing a UUID 
attribute to the features and identifying them by a attribute filter 
expression, there is no way to reliably identify a feature over the 
lifetime of the layer being loaded in QGIS?

I'm kinda inclined to think that I'm not the only one relying on feature 
ids to identify features?

Sandro

On 04.07.2017 17:36, Even Rouault wrote:
>
> Sandro,
>
> I guess this might depend on the actual OGR driver used. Somehow I 
> assume you use shapefiles here ?
>
> This is probably linked to shapefiles being repacked after the end of 
> various operations
>
> such as addFeatures(), changeGeometryValues(), deleteFeatures(), so as 
> to avoid issues
>
> with other software that don't like holes in SHP and DBF files.
>
> There have been changes in that area to rebustify shapefile 
> recompaction that used
>
> to work not so well on Windows (although most of them were in OGR itself),
>
> but my understanding of
>
> https://github.com/qgis/QGIS/blob/release-2_12/src/providers/ogr/qgsogrprovider.cpp
>
> is that even in 2.12, feature deletion should cause a repack of the 
> shapefile, so
>
> I'm not sure why the issue would be new
>
> Even
>
> > Hi
>
> >
>
> > I'm doing work on the geometry checker in QGIS master and noticed that,
>
> > when deleting features from an ogr vector layer, FeatureIds appear to be
>
> > reassigned to fill up the gap in the ids. This is a pretty serious
>
> > blocker for the geometry checker since geometry checker errors are
>
> > identified by the feature id (and other parameters). So if the
>
> > FeatureIds change, the geometry checker errors may suddenly reference
>
> > the wrong feature, causing general mayhem.
>
> >
>
> > Can anyone confirm that indeed FeatureIds are being purposefully
>
> > reassigned, and whether there is a rationale behind this change (I never
>
> > observed this before in QGIS 2.x)? And if so, what other options exist
>
> > to reliably reference a feature over the entire lifetime of the layer
>
> > being loaded in QGIS?
>
> >
>
> > Note that in the geometry checker, I don't use the edit buffer, but
>
> > write each change directly to the data provider. This to avoid that
>
> > situations where, after fixing multiple errors, the final result cannot
>
> > be committed due to a particular geometry still being invalid and the
>
> > provider refusing to accept the change.
>
> >
>
> > Thanks
>
> > Sandro
>
> >
>
> > _______________________________________________
>
> > QGIS-Developer mailing list
>
> > QGIS-Developer at lists.osgeo.org
>
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -- 
>
> Spatialys - Geospatial professional services
>
> http://www.spatialys.com
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170704/8705b0bb/attachment-0001.html>

From matthias at opengis.ch  Tue Jul  4 09:33:34 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 4 Jul 2017 18:33:34 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <61829afc-6d27-f6e2-ae47-54808938ade3@gmail.com>
References: <6855ee50-1bce-19cd-ad60-4b8a2211d814@gmail.com>
 <2048563.O32OLgHyIP@even-i700>
 <61829afc-6d27-f6e2-ae47-54808938ade3@gmail.com>
Message-ID: <665fe0ab-077b-cc22-c12a-9cdbf38a9438@opengis.ch>

Hi Sandro,

The commit that introduced this behavior was done around 2 years back.
The reason for this was mainly interoperability with other applications
as Even mentioned.

https://github.com/qgis/QGIS/commit/7d7cdcd376c0d3fa60af1403a91e1e611b210174

Most relevant discussion around the issue can be found here, where this
behavior with changing feature ids is also pointed out (sorry, the
thread is really long).

https://issues.qgis.org/issues/11007

To alleviate the impact, the signal `QgsVectorLayer::dataChanged()` was
introduced. As soon as this signal is emitted, any cached feature id
should be discarded. It might help to let the geometry checker reload
the data when feature ids are bogus.

I don't know if it would be possible for OGR - in case of a repack() -
to create an internal map of new ids to original ids (or if it would be
possible for people to stop using shp :P). But I really don't know the
internals of ogr (or people) good enough to comment on the feasibility
of such a mechanism.

Regards
Matthias

On 7/4/17 5:51 PM, Sandro Mani wrote:
>
> Hi Even
>
> Thanks for the reply. Yes I am indeed testing with shapefiles.
>
> Not sure why I never observed this behaviour previously, but indeed I
> have up to now never observed this myself, nor have received bug
> reports concerned with this kind breakage - and this is a pretty hard
> to miss issue since the plugin will essentially behave randomly.
>
> In any event, so I suppose other than manually introducing a UUID
> attribute to the features and identifying them by a attribute filter
> expression, there is no way to reliably identify a feature over the
> lifetime of the layer being loaded in QGIS?
>
> I'm kinda inclined to think that I'm not the only one relying on
> feature ids to identify features?
>
> Sandro
>
> On 04.07.2017 17:36, Even Rouault wrote:
>>
>> Sandro,
>>
>>  
>>
>> I guess this might depend on the actual OGR driver used. Somehow I
>> assume you use shapefiles here ?
>>
>>  
>>
>> This is probably linked to shapefiles being repacked after the end of
>> various operations
>>
>> such as addFeatures(), changeGeometryValues(), deleteFeatures(), so
>> as to avoid issues
>>
>> with other software that don't like holes in SHP and DBF files.
>>
>>  
>>
>> There have been changes in that area to rebustify shapefile
>> recompaction that used
>>
>> to work not so well on Windows (although most of them were in OGR
>> itself),
>>
>> but my understanding of
>>
>> https://github.com/qgis/QGIS/blob/release-2_12/src/providers/ogr/qgsogrprovider.cpp
>>
>> is that even in 2.12, feature deletion should cause a repack of the
>> shapefile, so
>>
>> I'm not sure why the issue would be new
>>
>>  
>>
>> Even
>>
>>  
>>
>> > Hi
>>
>> >
>>
>> > I'm doing work on the geometry checker in QGIS master and noticed that,
>>
>> > when deleting features from an ogr vector layer, FeatureIds appear
>> to be
>>
>> > reassigned to fill up the gap in the ids. This is a pretty serious
>>
>> > blocker for the geometry checker since geometry checker errors are
>>
>> > identified by the feature id (and other parameters). So if the
>>
>> > FeatureIds change, the geometry checker errors may suddenly reference
>>
>> > the wrong feature, causing general mayhem.
>>
>> >
>>
>> > Can anyone confirm that indeed FeatureIds are being purposefully
>>
>> > reassigned, and whether there is a rationale behind this change (I
>> never
>>
>> > observed this before in QGIS 2.x)? And if so, what other options exist
>>
>> > to reliably reference a feature over the entire lifetime of the layer
>>
>> > being loaded in QGIS?
>>
>> >
>>
>> > Note that in the geometry checker, I don't use the edit buffer, but
>>
>> > write each change directly to the data provider. This to avoid that
>>
>> > situations where, after fixing multiple errors, the final result cannot
>>
>> > be committed due to a particular geometry still being invalid and the
>>
>> > provider refusing to accept the change.
>>
>> >
>>
>> > Thanks
>>
>> > Sandro
>>
>> >
>>
>> > _______________________________________________
>>
>> > QGIS-Developer mailing list
>>
>> > QGIS-Developer at lists.osgeo.org
>>
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>  
>>
>>  
>>
>> -- 
>>
>> Spatialys - Geospatial professional services
>>
>> http://www.spatialys.com
>>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170704/c2211f43/attachment.html>

From even.rouault at spatialys.com  Tue Jul  4 09:46:05 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 04 Jul 2017 18:46:05 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <665fe0ab-077b-cc22-c12a-9cdbf38a9438@opengis.ch>
References: <6855ee50-1bce-19cd-ad60-4b8a2211d814@gmail.com>
 <61829afc-6d27-f6e2-ae47-54808938ade3@gmail.com>
 <665fe0ab-077b-cc22-c12a-9cdbf38a9438@opengis.ch>
Message-ID: <1881974.cSjqZDPDrq@even-i700>

> I don't know if it would be possible for OGR - in case of a repack() -
> to create an internal map of new ids to original ids (or if it would be
> possible for people to stop using shp :P). But I really don't know the
> internals of ogr (or people) good enough to comment on the feasibility
> of such a mechanism.

One could imagine to create such a map inside the shapefile driver itself (could be RAM 
costly though) But I guess that after a repack people expect OGR to return features and 
feature ids as they would appear after a fresh new open ? And I anticipate that this game 
with remapping feature ids could cause issues. For example the feature iterator operates on 
a OGR dataset handle which is not the one of the QgsOGRProvider object, so you would get 
different ids for the same feature depending on which handle is used. That would be a 
mess...

Another solution would be to defere the compaction only at layer closing (that's actually the 
new behaviour of the OGR Shapefile driver in recent GDAL versions to force a repack at 
closing). I'm not sure why QGIS currently repacks it every time ?

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170704/9932bded/attachment.html>

From manisandro at gmail.com  Tue Jul  4 10:12:15 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Tue, 4 Jul 2017 19:12:15 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <1881974.cSjqZDPDrq@even-i700>
References: <6855ee50-1bce-19cd-ad60-4b8a2211d814@gmail.com>
 <61829afc-6d27-f6e2-ae47-54808938ade3@gmail.com>
 <665fe0ab-077b-cc22-c12a-9cdbf38a9438@opengis.ch>
 <1881974.cSjqZDPDrq@even-i700>
Message-ID: <598e908a-4d03-ddab-c8d4-bf0656b380be@gmail.com>



On 04.07.2017 18:46, Even Rouault wrote:

> Another solution would be to defere the compaction only at layer 
> closing (that's actually the new behaviour of the OGR Shapefile driver 
> in recent GDAL versions to force a repack at closing). I'm not sure 
> why QGIS currently repacks it every time ?
>
That would be a nice solution!

Sandro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170704/9b2f8cef/attachment-0001.html>

From matthias at opengis.ch  Tue Jul  4 13:47:57 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 4 Jul 2017 22:47:57 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <1881974.cSjqZDPDrq@even-i700>
References: <6855ee50-1bce-19cd-ad60-4b8a2211d814@gmail.com>
 <61829afc-6d27-f6e2-ae47-54808938ade3@gmail.com>
 <665fe0ab-077b-cc22-c12a-9cdbf38a9438@opengis.ch>
 <1881974.cSjqZDPDrq@even-i700>
Message-ID: <faf7e8c1-2304-c8f0-5f7b-42797c473a66@opengis.ch>

On 7/4/17 6:46 PM, Even Rouault wrote:

> Another solution would be to defere the compaction only at layer
> closing (that's actually the new behaviour of the OGR Shapefile driver
> in recent GDAL versions to force a repack at closing). I'm not sure
> why QGIS currently repacks it every time ?
>

IIRC, in situations where the layer has not been closed and was still
used by other software at the same time, issues arose.

In particular features flagged as deleted by OGR (and no longer reported
as existing features by OGR) were still detected as existing features by
other applications. Often, this was surprising in situations when people
were working on shapefiles, deleted some features and then used this
file in a different application while it was still open in QGIS.

A common workflow that leads to this situation is when working on
shapefiles and then using them in a processing algorithm that involves
an external process. The processing situation could be avoided (detect
if potentially dangerous operations like a delete have been performed
since the last repack and if yes repack or write it to a new file), but
there were also other situations where people just have been working on
the same file in different GIS applications side-by-side.

From the lack of reported issues regarding this in the last two years
(compared to the time before) I suspect the current approach suits many
use-cases quite well. At the same time, I am very surprised that this is
the very first issue that I am aware of which is related to 7d7cdcd3.

Matthias

>  
>
> Even
>
>  
>
> -- 
>
> Spatialys - Geospatial professional services
>
> http://www.spatialys.com
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170704/7804a60e/attachment.html>

From nyall.dawson at gmail.com  Tue Jul  4 15:52:13 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 5 Jul 2017 08:52:13 +1000
Subject: [QGIS-Developer] QGIS Server 2.x: issue with @map_scale
 variable vs. $scale
In-Reply-To: <4e08afde245934ebdb899f6dca8d1ea5@carto.net>
References: <4e08afde245934ebdb899f6dca8d1ea5@carto.net>
Message-ID: <CAB28Ashz4wTkO6SWYhi=3ZahMGZekspWst1FY5RY-ezJxpPFKA@mail.gmail.com>

On 4 July 2017 at 01:46, Neumann, Andreas <a.neumann at carto.net> wrote:
> Hi,
>
> In a QGIS project that should be published with QGIS Server, I used the
> @map_scale variable to define the font size with an expression, depending on
> the map scale. It works fine on QGIS Desktop, but on QGIS server GetMap
> requests it fails - the font-size (defined in map units) is constant and
> doesn't react to my scale dependent rule. The interesting thing, is, that
> the same rule works fine in GetPrint requests.
>
> If I change my rule to use $scale instead of @map_scale, my label rule works
> fine.
>
> Could it be that the @map_scale variable doesn't work in QGIS server GetMap
> requests?

Exactly - it's a consequence of QGIS 2.x server using the really old
map renderer, which means it doesn't have access to any variables
relating to the current map scale/extent/etc. This is also why 2.5d
renderer is quite broken on server under 2.x.

The good news is that it's all fixed with 3.0.

Nyall



>
> Here is my expression:
>
> CASE
>    WHEN @map_scale <= 251 THEN 1
>    WHEN @map_scale > 251 AND @map_scale <= 501 THEN 2
>    WHEN @map_scale > 501 AND @map_scale <= 1001 THEN 3
>    WHEN @map_scale > 1001 AND @map_scale <= 2001 THEN 4
>    WHEN @map_scale > 2001 AND @map_scale <= 3001 THEN 6
>    WHEN @map_scale > 3001 AND @map_scale <= 4001 THEN 7
>    WHEN @map_scale > 4001  THEN 8
> END
>
> Thanks for your ideas.
>
> Andreas
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From madmanwoo at gmail.com  Tue Jul  4 16:10:56 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Wed, 5 Jul 2017 09:10:56 +1000
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <faf7e8c1-2304-c8f0-5f7b-42797c473a66@opengis.ch>
References: <6855ee50-1bce-19cd-ad60-4b8a2211d814@gmail.com>
 <61829afc-6d27-f6e2-ae47-54808938ade3@gmail.com>
 <665fe0ab-077b-cc22-c12a-9cdbf38a9438@opengis.ch>
 <1881974.cSjqZDPDrq@even-i700>
 <faf7e8c1-2304-c8f0-5f7b-42797c473a66@opengis.ch>
Message-ID: <CAAi8Yg8N9jRspcNiSmmxZ9cLVypdXMJrM608jjLd7z6ME1SBJg@mail.gmail.com>

>
A common workflow that leads to this situation is when working on
shapefiles and then using them in a processing algorithm that involves an
external process. The processing situation could be avoided (detect if
potentially dangerous operations like a delete have been performed since
the last repack and if yes repack or write it to a new file), but there
were also other situations where people just have been working on the same
file in different GIS applications side-by-side.


This raises the question.  Should we support that?  A lot of file types are
just not meant to be opened by many applications at the same, e.g MapInfo
wants a full exclusive read/write lock on tab files.  My gut has always
been if it's file based you shouldn't be using it in other applications at
the same time.

- Nathan

On Wed, Jul 5, 2017 at 6:47 AM, Matthias Kuhn <matthias at opengis.ch> wrote:

> On 7/4/17 6:46 PM, Even Rouault wrote:
>
> Another solution would be to defere the compaction only at layer closing
> (that's actually the new behaviour of the OGR Shapefile driver in recent
> GDAL versions to force a repack at closing). I'm not sure why QGIS
> currently repacks it every time ?
>
>
> IIRC, in situations where the layer has not been closed and was still used
> by other software at the same time, issues arose.
>
> In particular features flagged as deleted by OGR (and no longer reported
> as existing features by OGR) were still detected as existing features by
> other applications. Often, this was surprising in situations when people
> were working on shapefiles, deleted some features and then used this file
> in a different application while it was still open in QGIS.
>
> A common workflow that leads to this situation is when working on
> shapefiles and then using them in a processing algorithm that involves an
> external process. The processing situation could be avoided (detect if
> potentially dangerous operations like a delete have been performed since
> the last repack and if yes repack or write it to a new file), but there
> were also other situations where people just have been working on the same
> file in different GIS applications side-by-side.
>
> From the lack of reported issues regarding this in the last two years
> (compared to the time before) I suspect the current approach suits many
> use-cases quite well. At the same time, I am very surprised that this is
> the very first issue that I am aware of which is related to 7d7cdcd3.
>
> Matthias
>
>
>
> Even
>
>
>
> --
>
> Spatialys - Geospatial professional services
>
> http://www.spatialys.com
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/c6155178/attachment.html>

From nyall.dawson at gmail.com  Tue Jul  4 16:29:50 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 5 Jul 2017 09:29:50 +1000
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <CAAi8Yg8N9jRspcNiSmmxZ9cLVypdXMJrM608jjLd7z6ME1SBJg@mail.gmail.com>
References: <6855ee50-1bce-19cd-ad60-4b8a2211d814@gmail.com>
 <61829afc-6d27-f6e2-ae47-54808938ade3@gmail.com>
 <665fe0ab-077b-cc22-c12a-9cdbf38a9438@opengis.ch>
 <1881974.cSjqZDPDrq@even-i700>
 <faf7e8c1-2304-c8f0-5f7b-42797c473a66@opengis.ch>
 <CAAi8Yg8N9jRspcNiSmmxZ9cLVypdXMJrM608jjLd7z6ME1SBJg@mail.gmail.com>
Message-ID: <CAB28Asgrp2RQDzmYOTh1P=vbcaOFVw-OHskYd+rOpzLX+LWhDw@mail.gmail.com>

On 5 July 2017 at 09:10, Nathan Woodrow <madmanwoo at gmail.com> wrote:
>>
> A common workflow that leads to this situation is when working on shapefiles
> and then using them in a processing algorithm that involves an external
> process. The processing situation could be avoided (detect if potentially
> dangerous operations like a delete have been performed since the last repack
> and if yes repack or write it to a new file), but there were also other
> situations where people just have been working on the same file in different
> GIS applications side-by-side.
>
>
> This raises the question.  Should we support that?  A lot of file types are
> just not meant to be opened by many applications at the same, e.g MapInfo
> wants a full exclusive read/write lock on tab files.  My gut has always been
> if it's file based you shouldn't be using it in other applications at the
> same time.


I'd say we definitely do in the processing case. It'd be a significant
shortcoming to have to manually unload layers from projects before you
can run analysis on them.

Not sure about totally external applications though....

Nyall

From madmanwoo at gmail.com  Tue Jul  4 16:31:28 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Wed, 5 Jul 2017 09:31:28 +1000
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <CAB28Asgrp2RQDzmYOTh1P=vbcaOFVw-OHskYd+rOpzLX+LWhDw@mail.gmail.com>
References: <6855ee50-1bce-19cd-ad60-4b8a2211d814@gmail.com>
 <61829afc-6d27-f6e2-ae47-54808938ade3@gmail.com>
 <665fe0ab-077b-cc22-c12a-9cdbf38a9438@opengis.ch>
 <1881974.cSjqZDPDrq@even-i700>
 <faf7e8c1-2304-c8f0-5f7b-42797c473a66@opengis.ch>
 <CAAi8Yg8N9jRspcNiSmmxZ9cLVypdXMJrM608jjLd7z6ME1SBJg@mail.gmail.com>
 <CAB28Asgrp2RQDzmYOTh1P=vbcaOFVw-OHskYd+rOpzLX+LWhDw@mail.gmail.com>
Message-ID: <CAAi8Yg9yLDmQQAA368Wiq9A5u6fKCvWw9=QzCU-ERytLx3022w@mail.gmail.com>

> I'd say we definitely do in the processing case. It'd be a significant
shortcoming to have to manually unload layers from projects before you
can run analysis on them.

> Not sure about totally external applications though....

My comments only relate to external applications using files we have open,
I guess having it open in two QGIS instances is the same issue.  But I get
the same thing if I open the same word doc twice one of the applications
will take a write lock on the file.

On Wed, Jul 5, 2017 at 9:29 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:

> On 5 July 2017 at 09:10, Nathan Woodrow <madmanwoo at gmail.com> wrote:
> >>
> > A common workflow that leads to this situation is when working on
> shapefiles
> > and then using them in a processing algorithm that involves an external
> > process. The processing situation could be avoided (detect if potentially
> > dangerous operations like a delete have been performed since the last
> repack
> > and if yes repack or write it to a new file), but there were also other
> > situations where people just have been working on the same file in
> different
> > GIS applications side-by-side.
> >
> >
> > This raises the question.  Should we support that?  A lot of file types
> are
> > just not meant to be opened by many applications at the same, e.g MapInfo
> > wants a full exclusive read/write lock on tab files.  My gut has always
> been
> > if it's file based you shouldn't be using it in other applications at the
> > same time.
>
>
> I'd say we definitely do in the processing case. It'd be a significant
> shortcoming to have to manually unload layers from projects before you
> can run analysis on them.
>
> Not sure about totally external applications though....
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/55e41376/attachment-0001.html>

From noreply at qgis.org  Tue Jul  4 17:38:56 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 05 Jul 2017 00:38:56 -0000
Subject: [QGIS-Developer] Plugin [1268] Walking Papers approval notification.
Message-ID: <20170705003856.21654.28966@320558c5528b>


Plugin Walking Papers approval by pcav.
The plugin version "[1268] Walking Papers 0.2" is now approved
Link: http://plugins.qgis.org/plugins/walking_papers/

From a.neumann at carto.net  Tue Jul  4 23:38:17 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 5 Jul 2017 08:38:17 +0200
Subject: [QGIS-Developer] QGIS Server 2.x: issue with @map_scale
 variable vs. $scale
In-Reply-To: <CAB28Ashz4wTkO6SWYhi=3ZahMGZekspWst1FY5RY-ezJxpPFKA@mail.gmail.com>
References: <4e08afde245934ebdb899f6dca8d1ea5@carto.net>
 <CAB28Ashz4wTkO6SWYhi=3ZahMGZekspWst1FY5RY-ezJxpPFKA@mail.gmail.com>
Message-ID: <ba216f22-fd6d-d5b5-b795-e2615fb6053c@carto.net>

Hi Nyall,

Thanks for explaining this. Makes sense and glad that it will be fixed 
in QGIS 3.

So my follow-up question is: can I rely on $scale to work in future 
version of QGIS or will it be deprecated?

Andreas

On 05.07.2017 00:52, Nyall Dawson wrote:
> On 4 July 2017 at 01:46, Neumann, Andreas <a.neumann at carto.net> wrote:
>> Hi,
>>
>> In a QGIS project that should be published with QGIS Server, I used the
>> @map_scale variable to define the font size with an expression, depending on
>> the map scale. It works fine on QGIS Desktop, but on QGIS server GetMap
>> requests it fails - the font-size (defined in map units) is constant and
>> doesn't react to my scale dependent rule. The interesting thing, is, that
>> the same rule works fine in GetPrint requests.
>>
>> If I change my rule to use $scale instead of @map_scale, my label rule works
>> fine.
>>
>> Could it be that the @map_scale variable doesn't work in QGIS server GetMap
>> requests?
> Exactly - it's a consequence of QGIS 2.x server using the really old
> map renderer, which means it doesn't have access to any variables
> relating to the current map scale/extent/etc. This is also why 2.5d
> renderer is quite broken on server under 2.x.
>
> The good news is that it's all fixed with 3.0.
>
> Nyall
>
>
>
>> Here is my expression:
>>
>> CASE
>>     WHEN @map_scale <= 251 THEN 1
>>     WHEN @map_scale > 251 AND @map_scale <= 501 THEN 2
>>     WHEN @map_scale > 501 AND @map_scale <= 1001 THEN 3
>>     WHEN @map_scale > 1001 AND @map_scale <= 2001 THEN 4
>>     WHEN @map_scale > 2001 AND @map_scale <= 3001 THEN 6
>>     WHEN @map_scale > 3001 AND @map_scale <= 4001 THEN 7
>>     WHEN @map_scale > 4001  THEN 8
>> END
>>
>> Thanks for your ideas.
>>
>> Andreas
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From giovanni.manghi at gmail.com  Tue Jul  4 23:51:21 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Wed, 5 Jul 2017 07:51:21 +0100
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
Message-ID: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>

Hi,


>>
> A common workflow that leads to this situation is when working on
> shapefiles and then using them in a processing algorithm that involves an
> external process. The processing situation could be avoided (detect if
> potentially dangerous operations like a delete have been performed since
> the last repack and if yes repack or write it to a new file), but there
> were also other situations where people just have been working on the same
> file in different GIS applications side-by-side.
>
>
> This raises the question.  Should we support that?  A lot of file types are
> just not meant to be opened by many applications at the same, e.g MapInfo
> wants a full exclusive read/write lock on tab files.  My gut has always
> been if it's file based you shouldn't be using it in other applications at
> the same time.


as far as I remember this is not entirely true: if you go on redmine
and look for the (sometimes very long) tickets about this very big
issue at that time (now thankfully), is wasn't necessary to have the
shapefile open in edit mode two applications to leave it in a
"inconsistent" state, if was really just QGIS. After edits and after
saving (and removing it from the project) opening it in another gis
package frequently shown (for example) features that were deleted and
messages about the inconsistent state of the vector.

please do not revert to the previous, wrong, way to do.


cheers!

-- G --

From noreply at qgis.org  Wed Jul  5 00:24:27 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 05 Jul 2017 07:24:27 -0000
Subject: [QGIS-Developer] Plugin [1270] BGT Import approval notification.
Message-ID: <20170705072427.7594.66388@320558c5528b>


Plugin BGT Import approval by pcav.
The plugin version "[1270] BGT Import 0.1" is now approved
Link: http://plugins.qgis.org/plugins/BGTImport/

From matteo.ghetta at gmail.com  Wed Jul  5 00:44:00 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 5 Jul 2017 09:44:00 +0200
Subject: [QGIS-Developer] Processing Help documentation big changes
Message-ID: <dd359125-4ce4-0a29-006b-8338721c8b10@gmail.com>

Hi all,

as you now the grant proposal here [0] aims to change the algorithm help
system for Processing.

While Alex Bruy already did a great job with the new QgsHelp() system
and the UI of Processing I would like to raise up some ideas just on the
documentation.

The layout of the documentation is a little bit ugly to see with a lot
of blank spaces around and long pages. So this are a few ideas that I
would like to implement:

* every algorithm will have an unique anchor (provider_algName, like
qgis_import_into_spatialite) that will speed up some cross references

* get rid of the Description title and put the description right after
the algorithm name

* if needed, another section called *Example* will be added with some
explaining example and pictures

* right now the parameters are set up in a list that is not super
friendly. I would avoid like hell rst tables (I got a a lot of trouble
when using that in other works, especially with the latexpdf output and
tables have a really hard layout), so.. any other ideas?

* leave the *Output* section even if the algorithm won't return any
output: I think for the user is better to read "no output created
because....." than not finding the section at all

* leave processing console usage with the default string
(processing.run(.......)) and occasionally add also other code snippet
when useful


Ok, that's it.. sorry for the long email.

Hoping to have some feedbacks!

Thanks to all

Matteo




[0] http://blog.qgis.org/2017/04/30/qgis-grant-programme-2-results/

From McDonaldR at angus.gov.uk  Wed Jul  5 01:26:33 2017
From: McDonaldR at angus.gov.uk (McDonaldR)
Date: Wed, 5 Jul 2017 08:26:33 +0000
Subject: [QGIS-Developer] dataset icons in Browser tree
Message-ID: <7CCEF44D1C42854999B19B1EB27281F6834DBD63@SR2ORBHQ2K803.angus.gov.uk>

Hi List,

This might be on the hit list already.  Is it possible to have different icons for different file types within the QGIS Browser?  I know the standalone Browser is being discontinued but the panel will still be available in the core QGIS.  Different icons would be very useful.

In the QGIS Browser (app and panel) file system based datasets are listed in alphabetical order and each file has either a small raster icon if it is an image format or a small polygon icon if it is not.  For database layers they have a small point, line or polygon icon.

In my second choice GIS (well known!) there is also a browser-like application but it shows the files and datasets with different icons depending on file and data type.  You can see the icons in the screenshots on this page - http://desktop.arcgis.com/en/arcmap/10.3/manage-data/using-arccatalog/a-quick-tour-of-arccatalog.htm

Ross

Ross McDonald | GIS Data Coordinator | Angus Council, People, IT | Angus House, Orchardbank Business Park, Sylvie Way, Forfar DD8 1AT | t: 01307 476419


This message is strictly confidential. If you have received this in error, please inform the sender and remove it from your system. If received in error you may not copy, print, forward or use it or any attachment in any way. This message is not capable of creating a legal contract or a binding representation and does not represent the views of Angus Council. Emails may be monitored for security and network management reasons. Messages containing inappropriate content may be intercepted. Angus Council does not accept any liability for any harm that may be caused to the recipient system or data on it by this message or any attachment.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/c559f3f3/attachment.html>

From madmanwoo at gmail.com  Wed Jul  5 01:28:57 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Wed, 05 Jul 2017 08:28:57 +0000
Subject: [QGIS-Developer] dataset icons in Browser tree
In-Reply-To: <7CCEF44D1C42854999B19B1EB27281F6834DBD63@SR2ORBHQ2K803.angus.gov.uk>
References: <7CCEF44D1C42854999B19B1EB27281F6834DBD63@SR2ORBHQ2K803.angus.gov.uk>
Message-ID: <CAAi8Yg-JyYfiavR1z5zpb-bVOYD+z-n1EFscQ-Ewmryv6n2Atw@mail.gmail.com>

Yep I'm down for that, would look pretty nice if we can I think. Bit like
what VS Code, pycharm etc do for different file types.

Would be still handy to see if it's line, point, etc so just need to
consider that.

On Wed, 5 Jul 2017, 6:26 PM McDonaldR <McDonaldR at angus.gov.uk> wrote:

> Hi List,
>
>
>
> This might be on the hit list already.  Is it possible to have different
> icons for different file types within the QGIS Browser?  I know the
> standalone Browser is being discontinued but the panel will still be
> available in the core QGIS.  Different icons would be very useful.
>
>
>
> In the QGIS Browser (app and panel) file system based datasets are listed
> in alphabetical order and each file has either a small raster icon if it is
> an image format or a small polygon icon if it is not.  For database layers
> they have a small point, line or polygon icon.
>
>
>
> In my second choice GIS (well known!) there is also a browser-like
> application but it shows the files and datasets with different icons
> depending on file and data type.  You can see the icons in the screenshots
> on this page -
> http://desktop.arcgis.com/en/arcmap/10.3/manage-data/using-arccatalog/a-quick-tour-of-arccatalog.htm
>
>
>
> Ross
>
>
>
> *Ross McDonald | *GIS Data Coordinator | Angus Council, People, IT |
> Angus House, Orchardbank Business Park, Sylvie Way, Forfar DD8 1AT* | t:
> 01307 476419*
>
>
>
>
> This message is strictly confidential. If you have received this in error,
> please inform the sender and remove it from your system. If received in
> error you may not copy, print, forward or use it or any attachment in any
> way. This message is not capable of creating a legal contract or a binding
> representation and does not represent the views of Angus Council. Emails
> may be monitored for security and network management reasons. Messages
> containing inappropriate content may be intercepted. Angus Council does not
> accept any liability for any harm that may be caused to the recipient
> system or data on it by this message or any attachment.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/b6cc7676/attachment-0001.html>

From manisandro at gmail.com  Wed Jul  5 01:51:02 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Wed, 5 Jul 2017 10:51:02 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
Message-ID: <a623aadb-f799-5c7a-7bea-d0613a7bac55@gmail.com>



On 05.07.2017 08:51, Giovanni Manghi wrote:
>
> as far as I remember this is not entirely true: if you go on redmine
> and look for the (sometimes very long) tickets about this very big
> issue at that time (now thankfully), is wasn't necessary to have the
> shapefile open in edit mode two applications to leave it in a
> "inconsistent" state, if was really just QGIS. After edits and after
> saving (and removing it from the project) opening it in another gis
> package frequently shown (for example) features that were deleted and
> messages about the inconsistent state of the vector.
>
> please do not revert to the previous, wrong, way to do.
I don't think the talk is about reverting, but rather about holding off 
repacking the layer until it is removed from QGIS, meaning that you can 
hit the inconsistent state issues as long as the layer is open in QGIS 
(and the question is whether this particular scenario should be 
supported), but as soon as the layer is removed from QGIS, it is 
repacked and the layer left in a consistent state.

Sandro



From McDonaldR at angus.gov.uk  Wed Jul  5 02:00:03 2017
From: McDonaldR at angus.gov.uk (McDonaldR)
Date: Wed, 5 Jul 2017 09:00:03 +0000
Subject: [QGIS-Developer] dataset icons in Browser tree
In-Reply-To: <CAAi8Yg-JyYfiavR1z5zpb-bVOYD+z-n1EFscQ-Ewmryv6n2Atw@mail.gmail.com>
References: <7CCEF44D1C42854999B19B1EB27281F6834DBD63@SR2ORBHQ2K803.angus.gov.uk>
 <CAAi8Yg-JyYfiavR1z5zpb-bVOYD+z-n1EFscQ-Ewmryv6n2Atw@mail.gmail.com>
Message-ID: <7CCEF44D1C42854999B19B1EB27281F6834DBDDF@SR2ORBHQ2K803.angus.gov.uk>

Smashing!

ArcCatalog also collapses down all the constituent parts and shows one file in the tree instead of all parts of the shapefile or tab file, for example.  However, it also only shows files it can open.   The info button in Browser lists all files in the folder regardless of whether QGIS can open them or not.  I guess we need to think about what the user wants to do with the info they can see in the panel.

Ross

From: Nathan Woodrow [mailto:madmanwoo at gmail.com]
Sent: 05 July 2017 09:29
To: McDonaldR; qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] dataset icons in Browser tree


Yep I'm down for that, would look pretty nice if we can I think. Bit like what VS Code, pycharm etc do for different file types.

Would be still handy to see if it's line, point, etc so just need to consider that.

On Wed, 5 Jul 2017, 6:26 PM McDonaldR <McDonaldR at angus.gov.uk<mailto:McDonaldR at angus.gov.uk>> wrote:
Hi List,

This might be on the hit list already.  Is it possible to have different icons for different file types within the QGIS Browser?  I know the standalone Browser is being discontinued but the panel will still be available in the core QGIS.  Different icons would be very useful.

In the QGIS Browser (app and panel) file system based datasets are listed in alphabetical order and each file has either a small raster icon if it is an image format or a small polygon icon if it is not.  For database layers they have a small point, line or polygon icon.

In my second choice GIS (well known!) there is also a browser-like application but it shows the files and datasets with different icons depending on file and data type.  You can see the icons in the screenshots on this page - http://desktop.arcgis.com/en/arcmap/10.3/manage-data/using-arccatalog/a-quick-tour-of-arccatalog.htm

Ross

Ross McDonald | GIS Data Coordinator | Angus Council, People, IT | Angus House, Orchardbank Business Park, Sylvie Way, Forfar DD8 1AT | t: 01307 476419


This message is strictly confidential. If you have received this in error, please inform the sender and remove it from your system. If received in error you may not copy, print, forward or use it or any attachment in any way. This message is not capable of creating a legal contract or a binding representation and does not represent the views of Angus Council. Emails may be monitored for security and network management reasons. Messages containing inappropriate content may be intercepted. Angus Council does not accept any liability for any harm that may be caused to the recipient system or data on it by this message or any attachment.
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

This message is strictly confidential. If you have received this in error, please inform the sender and remove it from your system. If received in error you may not copy, print, forward or use it or any attachment in any way. This message is not capable of creating a legal contract or a binding representation and does not represent the views of Angus Council. Emails may be monitored for security and network management reasons. Messages containing inappropriate content may be intercepted. Angus Council does not accept any liability for any harm that may be caused to the recipient system or data on it by this message or any attachment.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/ae059a43/attachment.html>

From madmanwoo at gmail.com  Wed Jul  5 02:16:04 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Wed, 05 Jul 2017 09:16:04 +0000
Subject: [QGIS-Developer] dataset icons in Browser tree
In-Reply-To: <7CCEF44D1C42854999B19B1EB27281F6834DBDDF@SR2ORBHQ2K803.angus.gov.uk>
References: <7CCEF44D1C42854999B19B1EB27281F6834DBD63@SR2ORBHQ2K803.angus.gov.uk>
 <CAAi8Yg-JyYfiavR1z5zpb-bVOYD+z-n1EFscQ-Ewmryv6n2Atw@mail.gmail.com>
 <7CCEF44D1C42854999B19B1EB27281F6834DBDDF@SR2ORBHQ2K803.angus.gov.uk>
Message-ID: <CAAi8Yg_xQ1HZJkKFFgsSJ699_=fjxUgMYW+RQQm5uamLqWeoFA@mail.gmail.com>

Are you sure? It's never done that for me, it uses ogr to know what files
it can open.

On Wed, 5 Jul 2017, 7:00 PM McDonaldR <McDonaldR at angus.gov.uk> wrote:

> Smashing!
>
>
>
> ArcCatalog also collapses down all the constituent parts and shows one
> file in the tree instead of all parts of the shapefile or tab file, for
> example.  However, it also only shows files it can open.   The info button
> in Browser lists all files in the folder regardless of whether QGIS can
> open them or not.  I guess we need to think about what the user wants to do
> with the info they can see in the panel.
>
>
>
> Ross
>
>
>
> *From:* Nathan Woodrow [mailto:madmanwoo at gmail.com]
> *Sent:* 05 July 2017 09:29
> *To:* McDonaldR; qgis-developer at lists.osgeo.org
> *Subject:* Re: [QGIS-Developer] dataset icons in Browser tree
>
>
>
> Yep I'm down for that, would look pretty nice if we can I think. Bit like
> what VS Code, pycharm etc do for different file types.
>
> Would be still handy to see if it's line, point, etc so just need to
> consider that.
>
>
>
> On Wed, 5 Jul 2017, 6:26 PM McDonaldR <McDonaldR at angus.gov.uk> wrote:
>
> Hi List,
>
>
>
> This might be on the hit list already.  Is it possible to have different
> icons for different file types within the QGIS Browser?  I know the
> standalone Browser is being discontinued but the panel will still be
> available in the core QGIS.  Different icons would be very useful.
>
>
>
> In the QGIS Browser (app and panel) file system based datasets are listed
> in alphabetical order and each file has either a small raster icon if it is
> an image format or a small polygon icon if it is not.  For database layers
> they have a small point, line or polygon icon.
>
>
>
> In my second choice GIS (well known!) there is also a browser-like
> application but it shows the files and datasets with different icons
> depending on file and data type.  You can see the icons in the screenshots
> on this page -
> http://desktop.arcgis.com/en/arcmap/10.3/manage-data/using-arccatalog/a-quick-tour-of-arccatalog.htm
>
>
>
> Ross
>
>
>
> *Ross McDonald | *GIS Data Coordinator | Angus Council, People, IT |
> Angus House, Orchardbank Business Park, Sylvie Way, Forfar DD8 1AT* | t:
> 01307 476419*
>
>
>
>
>
> This message is strictly confidential. If you have received this in error,
> please inform the sender and remove it from your system. If received in
> error you may not copy, print, forward or use it or any attachment in any
> way. This message is not capable of creating a legal contract or a binding
> representation and does not represent the views of Angus Council. Emails
> may be monitored for security and network management reasons. Messages
> containing inappropriate content may be intercepted. Angus Council does not
> accept any liability for any harm that may be caused to the recipient
> system or data on it by this message or any attachment.
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> This message is strictly confidential. If you have received this in error,
> please inform the sender and remove it from your system. If received in
> error you may not copy, print, forward or use it or any attachment in any
> way. This message is not capable of creating a legal contract or a binding
> representation and does not represent the views of Angus Council. Emails
> may be monitored for security and network management reasons. Messages
> containing inappropriate content may be intercepted. Angus Council does not
> accept any liability for any harm that may be caused to the recipient
> system or data on it by this message or any attachment.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/c5b8b1b3/attachment-0001.html>

From McDonaldR at angus.gov.uk  Wed Jul  5 02:27:43 2017
From: McDonaldR at angus.gov.uk (McDonaldR)
Date: Wed, 5 Jul 2017 09:27:43 +0000
Subject: [QGIS-Developer] dataset icons in Browser tree
In-Reply-To: <CAAi8Yg_xQ1HZJkKFFgsSJ699_=fjxUgMYW+RQQm5uamLqWeoFA@mail.gmail.com>
References: <7CCEF44D1C42854999B19B1EB27281F6834DBD63@SR2ORBHQ2K803.angus.gov.uk>
 <CAAi8Yg-JyYfiavR1z5zpb-bVOYD+z-n1EFscQ-Ewmryv6n2Atw@mail.gmail.com>
 <7CCEF44D1C42854999B19B1EB27281F6834DBDDF@SR2ORBHQ2K803.angus.gov.uk>
 <CAAi8Yg_xQ1HZJkKFFgsSJ699_=fjxUgMYW+RQQm5uamLqWeoFA@mail.gmail.com>
Message-ID: <7CCEF44D1C42854999B19B1EB27281F6834DBEB6@SR2ORBHQ2K803.angus.gov.uk>

Aye, you‚Äôre right.

If I press the info button in browser it lists the .DBF, .PRJ, .SHP, .SHX, .XLS, .QGS, .ZIP, .FMW and .LOG files in my directory.  This is for info only.  You can‚Äôt interact with these files.

In the Browser panel it lists the .SHP, .XLS, .ZIP and .QGS files and these are the files GDAL / OGR can open.  Which is correct.

Not sure if the screenshot will come through ‚Äì from QGIS master 0f83a5f

[cid:image001.png at 01D2F578.8816C540]


From: Nathan Woodrow [mailto:madmanwoo at gmail.com]
Sent: 05 July 2017 10:16
To: McDonaldR; qgis-developer at lists.osgeo.org
Subject: Re: [QGIS-Developer] dataset icons in Browser tree


Are you sure? It's never done that for me, it uses ogr to know what files it can open.

On Wed, 5 Jul 2017, 7:00 PM McDonaldR <McDonaldR at angus.gov.uk<mailto:McDonaldR at angus.gov.uk>> wrote:
Smashing!

ArcCatalog also collapses down all the constituent parts and shows one file in the tree instead of all parts of the shapefile or tab file, for example.  However, it also only shows files it can open.   The info button in Browser lists all files in the folder regardless of whether QGIS can open them or not.  I guess we need to think about what the user wants to do with the info they can see in the panel.

Ross

From: Nathan Woodrow [mailto:madmanwoo at gmail.com<mailto:madmanwoo at gmail.com>]
Sent: 05 July 2017 09:29
To: McDonaldR; qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>
Subject: Re: [QGIS-Developer] dataset icons in Browser tree


Yep I'm down for that, would look pretty nice if we can I think. Bit like what VS Code, pycharm etc do for different file types.

Would be still handy to see if it's line, point, etc so just need to consider that.

On Wed, 5 Jul 2017, 6:26 PM McDonaldR <McDonaldR at angus.gov.uk<mailto:McDonaldR at angus.gov.uk>> wrote:
Hi List,

This might be on the hit list already.  Is it possible to have different icons for different file types within the QGIS Browser?  I know the standalone Browser is being discontinued but the panel will still be available in the core QGIS.  Different icons would be very useful.

In the QGIS Browser (app and panel) file system based datasets are listed in alphabetical order and each file has either a small raster icon if it is an image format or a small polygon icon if it is not.  For database layers they have a small point, line or polygon icon.

In my second choice GIS (well known!) there is also a browser-like application but it shows the files and datasets with different icons depending on file and data type.  You can see the icons in the screenshots on this page - http://desktop.arcgis.com/en/arcmap/10.3/manage-data/using-arccatalog/a-quick-tour-of-arccatalog.htm

Ross

Ross McDonald | GIS Data Coordinator | Angus Council, People, IT | Angus House, Orchardbank Business Park, Sylvie Way, Forfar DD8 1AT | t: 01307 476419


This message is strictly confidential. If you have received this in error, please inform the sender and remove it from your system. If received in error you may not copy, print, forward or use it or any attachment in any way. This message is not capable of creating a legal contract or a binding representation and does not represent the views of Angus Council. Emails may be monitored for security and network management reasons. Messages containing inappropriate content may be intercepted. Angus Council does not accept any liability for any harm that may be caused to the recipient system or data on it by this message or any attachment.
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

This message is strictly confidential. If you have received this in error, please inform the sender and remove it from your system. If received in error you may not copy, print, forward or use it or any attachment in any way. This message is not capable of creating a legal contract or a binding representation and does not represent the views of Angus Council. Emails may be monitored for security and network management reasons. Messages containing inappropriate content may be intercepted. Angus Council does not accept any liability for any harm that may be caused to the recipient system or data on it by this message or any attachment.

This message is strictly confidential. If you have received this in error, please inform the sender and remove it from your system. If received in error you may not copy, print, forward or use it or any attachment in any way. This message is not capable of creating a legal contract or a binding representation and does not represent the views of Angus Council. Emails may be monitored for security and network management reasons. Messages containing inappropriate content may be intercepted. Angus Council does not accept any liability for any harm that may be caused to the recipient system or data on it by this message or any attachment.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/13a8d5ff/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 23266 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/13a8d5ff/attachment-0001.png>

From even.rouault at spatialys.com  Wed Jul  5 02:30:15 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 05 Jul 2017 11:30:15 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <a623aadb-f799-5c7a-7bea-d0613a7bac55@gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <a623aadb-f799-5c7a-7bea-d0613a7bac55@gmail.com>
Message-ID: <3001788.1ljDidkUaO@even-i700>

On mercredi 5 juillet 2017 10:51:02 CEST Sandro Mani wrote:
> On 05.07.2017 08:51, Giovanni Manghi wrote:
> > as far as I remember this is not entirely true: if you go on redmine
> > and look for the (sometimes very long) tickets about this very big
> > issue at that time (now thankfully), is wasn't necessary to have the
> > shapefile open in edit mode two applications to leave it in a
> > "inconsistent" state, if was really just QGIS. After edits and after
> > saving (and removing it from the project) opening it in another gis
> > package frequently shown (for example) features that were deleted and
> > messages about the inconsistent state of the vector.

I think what you mention here was the fact that repacking could cause corruptions on 
Windows in some cases. Which has been fixed by recent GDAL versions.

> > 
> > please do not revert to the previous, wrong, way to do.
> 
> I don't think the talk is about reverting, but rather about holding off
> repacking the layer until it is removed from QGIS, meaning that you can
> hit the inconsistent state issues as long as the layer is open in QGIS
> (and the question is whether this particular scenario should be
> supported), but as soon as the layer is removed from QGIS, it is
> repacked and the layer left in a consistent state.

My feeling is that, for good or worse, they are definitely people wanting to have QGIS and 
"put here the name of your favorite proprietary GIS software" running at the same time, and 
possibly on the same datasets. This is apparently important in migration scenarios where 
people aren't ready yet to jump completely to QGIS. That said, this is also tricky to do in a 
reliable way.

Even


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/3e600394/attachment.html>

From matthias at opengis.ch  Wed Jul  5 02:55:09 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 5 Jul 2017 11:55:09 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <CAAi8Yg9yLDmQQAA368Wiq9A5u6fKCvWw9=QzCU-ERytLx3022w@mail.gmail.com>
References: <6855ee50-1bce-19cd-ad60-4b8a2211d814@gmail.com>
 <61829afc-6d27-f6e2-ae47-54808938ade3@gmail.com>
 <665fe0ab-077b-cc22-c12a-9cdbf38a9438@opengis.ch>
 <1881974.cSjqZDPDrq@even-i700>
 <faf7e8c1-2304-c8f0-5f7b-42797c473a66@opengis.ch>
 <CAAi8Yg8N9jRspcNiSmmxZ9cLVypdXMJrM608jjLd7z6ME1SBJg@mail.gmail.com>
 <CAB28Asgrp2RQDzmYOTh1P=vbcaOFVw-OHskYd+rOpzLX+LWhDw@mail.gmail.com>
 <CAAi8Yg9yLDmQQAA368Wiq9A5u6fKCvWw9=QzCU-ERytLx3022w@mail.gmail.com>
Message-ID: <75d94775-228c-062f-a82d-a6a6c1986524@opengis.ch>

On 7/5/17 1:31 AM, Nathan Woodrow wrote:
> > I'd say we definitely do in the processing case. It'd be a significant
> shortcoming to have to manually unload layers from projects before you
> can run analysis on them.
>
> > Not sure about totally external applications though....
>
> My comments only relate to external applications using files we have
> open, I guess having it open in two QGIS instances is the same issue. 
> But I get the same thing if I open the same word doc twice one of the
> applications will take a write lock on the file. 

It's not about a write lock here, but about files that are written with
"incompatible" data and therefore also fail to be opened in read only mode.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/2df39bc4/attachment.html>

From manisandro at gmail.com  Wed Jul  5 03:04:04 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Wed, 5 Jul 2017 12:04:04 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <3001788.1ljDidkUaO@even-i700>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <a623aadb-f799-5c7a-7bea-d0613a7bac55@gmail.com>
 <3001788.1ljDidkUaO@even-i700>
Message-ID: <f11a157c-2ed2-7c0b-0412-104eb3db37be@gmail.com>


On 05.07.2017 11:30, Even Rouault wrote:
>
> My feeling is that, for good or worse, they are definitely people 
> wanting to have QGIS and "put here the name of your favorite 
> proprietary GIS software" running at the same time, and possibly on 
> the same datasets. This is apparently important in migration scenarios 
> where people aren't ready yet to jump completely to QGIS. That said, 
> this is also tricky to do in a reliable way.
>
Could ogr expose oldId -> newId information which the qgsogrprovider 
would then emit as a signal when the layer is repacked? I don't mean a 
persistent mapping, but just for the single repack operation.

Sandro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/873e3ae9/attachment.html>

From even.rouault at spatialys.com  Wed Jul  5 03:18:04 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 05 Jul 2017 12:18:04 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <f11a157c-2ed2-7c0b-0412-104eb3db37be@gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <3001788.1ljDidkUaO@even-i700>
 <f11a157c-2ed2-7c0b-0412-104eb3db37be@gmail.com>
Message-ID: <2744153.04fHL4qHcD@even-i700>

On mercredi 5 juillet 2017 12:04:04 CEST Sandro Mani wrote:
> On 05.07.2017 11:30, Even Rouault wrote:
> > My feeling is that, for good or worse, they are definitely people
> > wanting to have QGIS and "put here the name of your favorite
> > proprietary GIS software" running at the same time, and possibly on
> > the same datasets. This is apparently important in migration scenarios
> > where people aren't ready yet to jump completely to QGIS. That said,
> > this is also tricky to do in a reliable way.
> 
> Could ogr expose oldId -> newId information which the qgsogrprovider
> would then emit as a signal when the layer is repacked? I don't mean a
> persistent mapping, but just for the single repack operation.

That could potentially be done using the current OGR API. Basically in pseudo code, to 
execute before executing REPACK

OGR_L_ResetReading(layer)
char** ignored_fields = CSLAddString(NULL,  "OGR_GEOMETRY" );
OGR_L_SetIgnoredFields( layer, ignored_fields); // for performance.
CSLDestroy(ignored_fields);
OGR_L_SetAttributeFilter( layer, NULL )
OGR_L_SetSpatialFilter( layer, NULL )
std::map<GIntBig, GIntBig> mapOldIdToNewId;
GIntBig newId = 0;
while( feature = OGR_L_GetNextFeature(layer) )
{
    mapOldIdToNewId[OGR_F_GetFID(feature)] = newId;
    newId ++;
    OGR_F_destroy(feature);
}
OGR_L_SetIgnoredFields( layer, NULL );

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/18d80fce/attachment-0001.html>

From giovanni.manghi at gmail.com  Wed Jul  5 04:19:32 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Wed, 5 Jul 2017 12:19:32 +0100
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
Message-ID: <CACfnYnTrViNNkF5BWorqt6Sv57AtFEZjW_4pKTXxwH9HjO3t-A@mail.gmail.com>

Hi Even,


> On mercredi 5 juillet 2017 10:51:02 CEST Sandro Mani wrote:
>> On 05.07.2017 08:51, Giovanni Manghi wrote:
>> > as far as I remember this is not entirely true: if you go on redmine
>> > and look for the (sometimes very long) tickets about this very big
>> > issue at that time (now thankfully), is wasn't necessary to have the
>> > shapefile open in edit mode two applications to leave it in a
>> > "inconsistent" state, if was really just QGIS. After edits and after
>> > saving (and removing it from the project) opening it in another gis
>> > package frequently shown (for example) features that were deleted and
>> > messages about the inconsistent state of the vector.
>
> I think what you mention here was the fact that repacking could cause corruptions on
> Windows in some cases. Which has been fixed by recent GDAL versions.


possibly your are right, anyway I would suggest to be very careful
with any future change in this area. I think is right assume that a
shapefile should/can't be edited at the same time on two different gis
packages, but another thing is to kill interoperability (of the
unfortunately still the most used vector format), remember in fact
that this didn't only affected "put here the name of your favorite
proprietary GIS software" but also other open source gis packages.

cheers!

-- G --

From giovanni.manghi at gmail.com  Wed Jul  5 04:35:36 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Wed, 5 Jul 2017 12:35:36 +0100
Subject: [QGIS-Developer] [Processing] Split vector layer problem
Message-ID: <CACfnYnS8t4W972ZEyUw3=yWxkv1Oz4M4-dTmmiRQMNRY4OdfXg@mail.gmail.com>

Hi Matteo,

> I get another (small) issue with "Split vector layer" in Processing.
>
> By choosing a local folder where to store all the layers created from
> the splitting, all the layers are saved in the /tmp/ folder anyways.
>
> So algorithm works fine (output in /tmp/ are correct), only the
> directory path input seems to be not taken into account.

only master?

-- g --

From qdqgisdev at gmail.com  Wed Jul  5 05:30:30 2017
From: qdqgisdev at gmail.com (qd qgis)
Date: Wed, 5 Jul 2017 14:30:30 +0200
Subject: [QGIS-Developer] Debug C++ QGIS plugin with VS
In-Reply-To: <CAPHHS5fLc2s2pMKsk=4Lz4j7EuWpT0FAA--RZYf-Q9hxp5Ma=g@mail.gmail.com>
References: <CAPHHS5fLc2s2pMKsk=4Lz4j7EuWpT0FAA--RZYf-Q9hxp5Ma=g@mail.gmail.com>
Message-ID: <CAPHHS5eALmZrazR47=FMKnjAA5VC4uj1xcZ8pFGAhpS6y9Rk6Q@mail.gmail.com>

> Hi,
>
>
>
> I need help concerning QGis with a C++ developed plugin.
>
>
>
> What I have done :
>
>    - Built my plugin using msvc-2013 compiler, QGis 2.18.5 sources,  Qt4
>    libraries √† It works in release mode. (The plugin works nice in QGis
>    desktop 2.18)
>    - I have also compiled a debug version (which will permit me to attach
>    the process using Visual Studio). I used msvc-2013 too, qgis-rel-dev 2.18.5
>    sources, and Qt4 debug libraries. √† When I start qgis-bin-dev with my
>    plugin in the right folder, QGis crashes and prompts an error message like
>    ‚ÄúDebug Assertion Failed! Expression: _pFirstBlock == pHead‚Äù
>
>
>
> Can you please tell me what is wrong with my plugin debug build ?
>
>
>
> Here is my .pro file for the release mode :
>
>
>
> TEMPLATE = lib
>
> TARGET = ObsQGis2CPP
>
> QT += core gui sql xml
>
>
>
> DEFINES += QT_DLL QT_SQL_LIB OBSQGISCPP_LIB QT_XML_LIB
>
>
>
> win32:
>
> {
>
>     LIBS += -LC:/OSGeo4W/lib -lQtCore4
>
>     LIBS += -LC:/OSGeo4W/lib -lQtGui4
>
>     LIBS += -LC:/OSGeo4W/lib -lQtXml4
>
>     LIBS += -LC:/OSGeo4W/apps/qgis-rel-dev/lib -lqgis_core
>
>     LIBS += -LC:/OSGeo4W/apps/qgis-rel-dev/lib -lqgis_gui
>
>     INCLUDEPATH += C:/OSGeo4W/include
>
>     DEPENDPATH += C:/OSGeo4W/include
>
>     INCLUDEPATH += C:/OSGeo4W/apps/qgis-rel-dev/include
>
>     DEPENDPATH += C:/OSGeo4W/apps/qgis-rel-dev/include
>
> }
>
> ‚Ä¶
>
>
>
>
>
>
>
> Here is my .pro file for the debug mode :
>
>
>
> TEMPLATE = lib
>
> TARGET = ObsQGis2CPP
>
> QT += core gui sql xml
>
>
>
> DEFINES += QT_DLL QT_SQL_LIB OBSQGISCPP_LIB QT_XML_LIB
>
>
>
>
>
> win32:
>
> {
>
>     PRE_TARGETDEPS += C:/OSGeo4W/lib/QtCored4.lib
>
>     PRE_TARGETDEPS += C:/OSGeo4W/lib/QtGuid4.lib
>
>     PRE_TARGETDEPS += C:/OSGeo4W/lib/QtXmld4.lib
>
>     PRE_TARGETDEPS += C:/OSGeo4W/lib/QtSqld4.lib
>
>     LIBS += -LC:/OSGeo4W/lib/ -lQtCored4
>
>     LIBS += -LC:/OSGeo4W/lib/ -lQtGuid4
>
>     LIBS += -LC:/OSGeo4W/lib/ -lQtXmld4
>
>     LIBS += -LC:/OSGeo4W/lib/ -lQtSqld4
>
>     LIBS += -LC:/OSGeo4W/apps/qgis-rel-dev/lib -lqgis_core
>
>     LIBS += -LC:/OSGeo4W/apps/qgis-rel-dev/lib -lqgis_gui
>
>     INCLUDEPATH += C:/OSGeo4W/include
>
>     DEPENDPATH += C:/OSGeo4W/include
>
>     INCLUDEPATH += C:/OSGeo4W/apps/qgis-rel-dev/include
>
>     DEPENDPATH += C:/OSGeo4W/apps/qgis-rel-dev/include
>
> }
>
> ‚Ä¶
>
>
>
> Best regards,
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/1f16f331/attachment.html>

From manisandro at gmail.com  Wed Jul  5 05:56:09 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Wed, 5 Jul 2017 14:56:09 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <2744153.04fHL4qHcD@even-i700>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <3001788.1ljDidkUaO@even-i700>
 <f11a157c-2ed2-7c0b-0412-104eb3db37be@gmail.com>
 <2744153.04fHL4qHcD@even-i700>
Message-ID: <df68b08f-3a9e-b06a-de6e-5ebdefba8fd7@gmail.com>


On 05.07.2017 12:18, Even Rouault wrote:
>
> On mercredi 5 juillet 2017 12:04:04 CEST Sandro Mani wrote:
>
> > On 05.07.2017 11:30, Even Rouault wrote:
>
> > > My feeling is that, for good or worse, they are definitely people
>
> > > wanting to have QGIS and "put here the name of your favorite
>
> > > proprietary GIS software" running at the same time, and possibly on
>
> > > the same datasets. This is apparently important in migration scenarios
>
> > > where people aren't ready yet to jump completely to QGIS. That said,
>
> > > this is also tricky to do in a reliable way.
>
> >
>
> > Could ogr expose oldId -> newId information which the qgsogrprovider
>
> > would then emit as a signal when the layer is repacked? I don't mean a
>
> > persistent mapping, but just for the single repack operation.
>
> That could potentially be done using the current OGR API. Basically in 
> pseudo code, to execute before executing REPACK
>
> OGR_L_ResetReading(layer)
>
> char** ignored_fields = CSLAddString(NULL, "OGR_GEOMETRY" );
>
> OGR_L_SetIgnoredFields( layer, ignored_fields); // for performance.
>
> CSLDestroy(ignored_fields);
>
> OGR_L_SetAttributeFilter( layer, NULL )
>
> OGR_L_SetSpatialFilter( layer, NULL )
>
> std::map<GIntBig, GIntBig> mapOldIdToNewId;
>
> GIntBig newId = 0;
>
> while( feature = OGR_L_GetNextFeature(layer) )
>
> {
>
> mapOldIdToNewId[OGR_F_GetFID(feature)] = newId;
>
> newId ++;
>
> OGR_F_destroy(feature);
>
> }
>
> OGR_L_SetIgnoredFields( layer, NULL );
>
Ok cool, that sounds like a plan - I'll give it a shot.

Thanks
Sandro

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/aa9d5786/attachment-0001.html>

From matteo.ghetta at gmail.com  Wed Jul  5 06:13:28 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 5 Jul 2017 15:13:28 +0200
Subject: [QGIS-Developer] [Processing] Split vector layer problem
In-Reply-To: <CACfnYnS8t4W972ZEyUw3=yWxkv1Oz4M4-dTmmiRQMNRY4OdfXg@mail.gmail.com>
References: <CACfnYnS8t4W972ZEyUw3=yWxkv1Oz4M4-dTmmiRQMNRY4OdfXg@mail.gmail.com>
Message-ID: <cf28c598-cdf3-b773-c8ec-30339187879f@gmail.com>

Hi Giovanni,

> only master?

tried with 2.18 and I get no problems. Layers are created in the chosen
folder

Thanks

Matteo

From matteo.ghetta at gmail.com  Wed Jul  5 06:17:05 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Wed, 5 Jul 2017 15:17:05 +0200
Subject: [QGIS-Developer] [Processing] Dissolve with unique field cause
	segmentation fault
Message-ID: <fb5a707f-01be-357a-d044-ab306d5ffc07@gmail.com>

Hi devs,

don't hate me if I'm bombing the list, but I'm going through the
Processing algorithm making tests as deep as I can.

The Dissolve algorithms work super fine except when an unique field is
chosen for the dissolving. In this case I have a segmentation fault and
QGIS crashes.

Tried with different dataset and it happens every time.

I don't have any log information, just segmentation fault

Thanks!

Matteo

From regis.haubourg at gmail.com  Wed Jul  5 07:16:46 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 5 Jul 2017 16:16:46 +0200
Subject: [QGIS-Developer] FOSS4G Europe in Paris next week
Message-ID: <CABgOYCcY2RmMBgKOqks5w4sK1G--5PdOrVr0sZnp2pQBw+CVyQ@mail.gmail.com>

Hi all,
within two weeks  the FOSS4G Europe is held near Paris at the National
Geographic Institute School (ENSG) from tuesday 18th to 22nd of July.

Will some of QGIS developers or other involved parties be there? That would
be nice to meet some of you.


Concerning QGIS, there will be some interesting talks or workshops:

- GML application schema made easy in GDAL/OGR and QGIS workshop
- Lizmap workshop

- QGIS server refactoring for QGIS 3 - talk
- Data Processing with QGIS -talk


See you there!

Cheers
R√©gis (and all the Oslandia Team)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/b77586e9/attachment.html>

From yjacolin at free.fr  Wed Jul  5 07:36:23 2017
From: yjacolin at free.fr (Yves Jacolin)
Date: Wed, 05 Jul 2017 16:36:23 +0200
Subject: [QGIS-Developer] FOSS4G Europe in Paris next week
In-Reply-To: <CABgOYCcY2RmMBgKOqks5w4sK1G--5PdOrVr0sZnp2pQBw+CVyQ@mail.gmail.com>
References: <CABgOYCcY2RmMBgKOqks5w4sK1G--5PdOrVr0sZnp2pQBw+CVyQ@mail.gmail.com>
Message-ID: <3341194.uhkxaFLITa@tatras>

R√©gis,

I will be present all week so even for the code sprint!

Y.
On mercredi 5 juillet 2017 16:16:46 CEST R√©gis Haubourg wrote:
> Hi all,
> within two weeks  the FOSS4G Europe is held near Paris at the National
> Geographic Institute School (ENSG) from tuesday 18th to 22nd of July.
> 
> Will some of QGIS developers or other involved parties be there? That would
> be nice to meet some of you.
> 
> 
> Concerning QGIS, there will be some interesting talks or workshops:
> 
> - GML application schema made easy in GDAL/OGR and QGIS workshop
> - Lizmap workshop
> 
> - QGIS server refactoring for QGIS 3 - talk
> - Data Processing with QGIS -talk
> 
> 
> See you there!
> 
> Cheers
> R√©gis (and all the Oslandia Team)

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: This is a digitally signed message part.
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/44a53966/attachment.sig>

From adenaculture at gmail.com  Wed Jul  5 12:54:57 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Wed, 5 Jul 2017 15:54:57 -0400
Subject: [QGIS-Developer] QgsPoint -> QgsPointXY in 3.0
Message-ID: <CABPxTTr8NA8d=4wUe64YdkGv6wk_HRpYnmweCL8+ktMDOGHgRQ@mail.gmail.com>

I just went back to look at Lat Lon Tools in 3.0 and discovered that the
API has been changed for a number of functions thus breaking Lat Lon Tools.
I guess the API is still in flux. Where I formally used QgsPoint it appears
to now be QgsPointXY. I was just wondering why this change was made.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170705/3f7184f6/attachment.html>

From giovanni.manghi at gmail.com  Wed Jul  5 13:02:05 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Wed, 5 Jul 2017 21:02:05 +0100
Subject: [QGIS-Developer] [Processing] Dissolve with unique field cause
	segmentation fault
Message-ID: <CACfnYnRG5rUAaan_a_Ek3x3MDhoX45R7et3wEiB83g4=DSVPzQ@mail.gmail.com>

Hi Matteo,

> Hi devs,
>
> don't hate me if I'm bombing the list, but I'm going through the
> Processing algorithm making tests as deep as I can.
>
> The Dissolve algorithms work super fine except when an unique field is
> chosen for the dissolving. In this case I have a segmentation fault and
> QGIS crashes.
>
> Tried with different dataset and it happens every time.
>
> I don't have any log information, just segmentation fault


if this issues you are finding (by the way thanks a lot for the
testing) do affect only master, then please file a regression ticket
straight away on the bug tracker (affected version "master" of
course). With the Processing overhaul is kind of expected to have a
lot of things to be fixed, better not lose track of any of them.

cheers

-- G --

From giovanni.manghi at gmail.com  Wed Jul  5 13:03:00 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Wed, 5 Jul 2017 21:03:00 +0100
Subject: [QGIS-Developer] [Processing] Split vector layer problem
Message-ID: <CACfnYnQO5WQSEFykmfVxHpmwqoSQtEheMPqMep+kYsGtDSd9wg@mail.gmail.com>

> Hi Giovanni,
>
>> only master?
>
> tried with 2.18 and I get no problems. Layers are created in the chosen
> folder


file a regression ticket on the bug tracker, thanks!

From noreply at qgis.org  Wed Jul  5 21:07:06 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 06 Jul 2017 04:07:06 -0000
Subject: [QGIS-Developer] Plugin [1257] SuperLabeling approval notification.
Message-ID: <20170706040706.21654.81495@320558c5528b>


Plugin SuperLabeling approval by pcav.
The plugin version "[1257] SuperLabeling ver.1.3" is now approved
Link: http://plugins.qgis.org/plugins/SuperLabeling/

From matteo.ghetta at gmail.com  Wed Jul  5 23:56:31 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 6 Jul 2017 08:56:31 +0200
Subject: [QGIS-Developer] [Processing] Dissolve with unique field cause
 segmentation fault
In-Reply-To: <CACfnYnRG5rUAaan_a_Ek3x3MDhoX45R7et3wEiB83g4=DSVPzQ@mail.gmail.com>
References: <CACfnYnRG5rUAaan_a_Ek3x3MDhoX45R7et3wEiB83g4=DSVPzQ@mail.gmail.com>
Message-ID: <b8ba077c-663f-3600-bcc7-35e47072cf9a@gmail.com>

Hi Giovanni,

> if this issues you are finding (by the way thanks a lot for the
> testing) do affect only master, then please file a regression ticket
> straight away on the bug tracker (affected version "master" of
> course). With the Processing overhaul is kind of expected to have a
> lot of things to be fixed, better not lose track of any of them.

ok I'll directly file a ticket on the issue tracker.
I remember a recent mail by Nyall with other Processing tests where he
said to write directly in the list..

anyway, for me is sure not a problem to do both if this helps to solve
the issues.

BTW: should I assign someone in particular for the issue?

Thanks!

Matteo

From jef at norbit.de  Thu Jul  6 00:13:14 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu, 6 Jul 2017 09:13:14 +0200
Subject: [QGIS-Developer] QgsPoint -> QgsPointXY in 3.0
In-Reply-To: <CABPxTTr8NA8d=4wUe64YdkGv6wk_HRpYnmweCL8+ktMDOGHgRQ@mail.gmail.com>
References: <CABPxTTr8NA8d=4wUe64YdkGv6wk_HRpYnmweCL8+ktMDOGHgRQ@mail.gmail.com>
Message-ID: <20170706071313.4wr4cgwgim7m2cfj@norbit.de>

Hi Calvin,

On Wed, 05. Jul 2017 at 15:54:57 -0400, C Hamilton wrote:
> I just went back to look at Lat Lon Tools in 3.0 and discovered that the
> API has been changed for a number of functions thus breaking Lat Lon Tools.
> I guess the API is still in flux. Where I formally used QgsPoint it appears
> to now be QgsPointXY. I was just wondering why this change was made.

https://github.com/qgis/qgis3.0_api/issues/36


J√ºrgen

-- 
J√ºrgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra√üe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170706/e4ee9b3f/attachment.sig>

From manisandro at gmail.com  Thu Jul  6 01:45:21 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Thu, 6 Jul 2017 10:45:21 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <df68b08f-3a9e-b06a-de6e-5ebdefba8fd7@gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <3001788.1ljDidkUaO@even-i700>
 <f11a157c-2ed2-7c0b-0412-104eb3db37be@gmail.com>
 <2744153.04fHL4qHcD@even-i700>
 <df68b08f-3a9e-b06a-de6e-5ebdefba8fd7@gmail.com>
Message-ID: <8a056c04-ac96-999b-8944-6876f980a2ce@gmail.com>



On 05.07.2017 14:56, Sandro Mani wrote:
>>
>> That could potentially be done using the current OGR API. Basically 
>> in pseudo code, to execute before executing REPACK
>>
>> OGR_L_ResetReading(layer)
>>
>> char** ignored_fields = CSLAddString(NULL, "OGR_GEOMETRY" );
>>
>> OGR_L_SetIgnoredFields( layer, ignored_fields); // for performance.
>>
>> CSLDestroy(ignored_fields);
>>
>> OGR_L_SetAttributeFilter( layer, NULL )
>>
>> OGR_L_SetSpatialFilter( layer, NULL )
>>
>> std::map<GIntBig, GIntBig> mapOldIdToNewId;
>>
>> GIntBig newId = 0;
>>
>> while( feature = OGR_L_GetNextFeature(layer) )
>>
>> {
>>
>> mapOldIdToNewId[OGR_F_GetFID(feature)] = newId;
>>
>> newId ++;
>>
>> OGR_F_destroy(feature);
>>
>> }
>>
>> OGR_L_SetIgnoredFields( layer, NULL );
>>
> Ok cool, that sounds like a plan - I'll give it a shot.
>
Hmm so while on the provider side it works well, for the geometry 
checker it is turning out to be pretty hard to deal with the changing 
feature ids (just to cite one example: error fixed by merging geometry 
of feature 10 with that of 11, results in {deleted: 10, updated: 11}, 
but after the feature id adjustment this would read {deleted: 10, 
updated: 10}, meaning one would need to keep track that deleted: 10 
refers to the old featureid). Not saying that it isn't doable, but the 
complexitiy of properly handling the feature id changes is non-trivial.

So, other suggestion: any objections if I add a method to 
QgsVectorDataProvider to temporarily freeze repacking? I could also add 
a notification informing the user that the shapefile should not be used 
in other applications while repacking is frozen.

Sandro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170706/e25817ba/attachment-0001.html>

From even.rouault at spatialys.com  Thu Jul  6 01:57:08 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 06 Jul 2017 10:57:08 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <8a056c04-ac96-999b-8944-6876f980a2ce@gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <df68b08f-3a9e-b06a-de6e-5ebdefba8fd7@gmail.com>
 <8a056c04-ac96-999b-8944-6876f980a2ce@gmail.com>
Message-ID: <3075694.1tgngYB01I@even-i700>

On jeudi 6 juillet 2017 10:45:21 CEST Sandro Mani wrote:
> On 05.07.2017 14:56, Sandro Mani wrote:
> >> That could potentially be done using the current OGR API. Basically
> >> in pseudo code, to execute before executing REPACK
> >> 
> >> OGR_L_ResetReading(layer)
> >> 
> >> char** ignored_fields = CSLAddString(NULL, "OGR_GEOMETRY" );
> >> 
> >> OGR_L_SetIgnoredFields( layer, ignored_fields); // for performance.
> >> 
> >> CSLDestroy(ignored_fields);
> >> 
> >> OGR_L_SetAttributeFilter( layer, NULL )
> >> 
> >> OGR_L_SetSpatialFilter( layer, NULL )
> >> 
> >> std::map<GIntBig, GIntBig> mapOldIdToNewId;
> >> 
> >> GIntBig newId = 0;
> >> 
> >> while( feature = OGR_L_GetNextFeature(layer) )
> >> 
> >> {
> >> 
> >> mapOldIdToNewId[OGR_F_GetFID(feature)] = newId;
> >> 
> >> newId ++;
> >> 
> >> OGR_F_destroy(feature);
> >> 
> >> }
> >> 
> >> OGR_L_SetIgnoredFields( layer, NULL );
> > 
> > Ok cool, that sounds like a plan - I'll give it a shot.
> 
> Hmm so while on the provider side it works well, for the geometry
> checker it is turning out to be pretty hard to deal with the changing
> feature ids (just to cite one example: error fixed by merging geometry
> of feature 10 with that of 11, results in {deleted: 10, updated: 11},
> but after the feature id adjustment this would read {deleted: 10,
> updated: 10}, meaning one would need to keep track that deleted: 10
> refers to the old featureid). Not saying that it isn't doable, but the
> complexitiy of properly handling the feature id changes is non-trivial.
> 
> So, other suggestion: any objections if I add a method to
> QgsVectorDataProvider to temporarily freeze repacking? I could also add
> a notification informing the user that the shapefile should not be used
> in other applications while repacking is frozen.

My feeling is that QgsOgrDataProvider is already complicated enough with its existing tricks. 
I'm not sure this temporary freeze repacking is a right move (how would you decide when you 
do it ? and I'm pretty sure users will not get it, or will have issues if they start an algorithm 
with an external tool that requires packed shapefiles)

I can understand the non-triviality of managing the feature id changes in the plugin, but it 
seems to me to be safer overall.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170706/f829d80a/attachment.html>

From manisandro at gmail.com  Thu Jul  6 02:00:48 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Thu, 6 Jul 2017 11:00:48 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <3075694.1tgngYB01I@even-i700>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <df68b08f-3a9e-b06a-de6e-5ebdefba8fd7@gmail.com>
 <8a056c04-ac96-999b-8944-6876f980a2ce@gmail.com>
 <3075694.1tgngYB01I@even-i700>
Message-ID: <a578492c-a193-1f6a-c24f-3091a62696dd@gmail.com>


On 06.07.2017 10:57, Even Rouault wrote:
>
> On jeudi 6 juillet 2017 10:45:21 CEST Sandro Mani wrote:
>
> > On 05.07.2017 14:56, Sandro Mani wrote:
>
> > >> That could potentially be done using the current OGR API. Basically
>
> > >> in pseudo code, to execute before executing REPACK
>
> > >>
>
> > >> OGR_L_ResetReading(layer)
>
> > >>
>
> > >> char** ignored_fields = CSLAddString(NULL, "OGR_GEOMETRY" );
>
> > >>
>
> > >> OGR_L_SetIgnoredFields( layer, ignored_fields); // for performance.
>
> > >>
>
> > >> CSLDestroy(ignored_fields);
>
> > >>
>
> > >> OGR_L_SetAttributeFilter( layer, NULL )
>
> > >>
>
> > >> OGR_L_SetSpatialFilter( layer, NULL )
>
> > >>
>
> > >> std::map<GIntBig, GIntBig> mapOldIdToNewId;
>
> > >>
>
> > >> GIntBig newId = 0;
>
> > >>
>
> > >> while( feature = OGR_L_GetNextFeature(layer) )
>
> > >>
>
> > >> {
>
> > >>
>
> > >> mapOldIdToNewId[OGR_F_GetFID(feature)] = newId;
>
> > >>
>
> > >> newId ++;
>
> > >>
>
> > >> OGR_F_destroy(feature);
>
> > >>
>
> > >> }
>
> > >>
>
> > >> OGR_L_SetIgnoredFields( layer, NULL );
>
> > >
>
> > > Ok cool, that sounds like a plan - I'll give it a shot.
>
> >
>
> > Hmm so while on the provider side it works well, for the geometry
>
> > checker it is turning out to be pretty hard to deal with the changing
>
> > feature ids (just to cite one example: error fixed by merging geometry
>
> > of feature 10 with that of 11, results in {deleted: 10, updated: 11},
>
> > but after the feature id adjustment this would read {deleted: 10,
>
> > updated: 10}, meaning one would need to keep track that deleted: 10
>
> > refers to the old featureid). Not saying that it isn't doable, but the
>
> > complexitiy of properly handling the feature id changes is non-trivial.
>
> >
>
> > So, other suggestion: any objections if I add a method to
>
> > QgsVectorDataProvider to temporarily freeze repacking? I could also add
>
> > a notification informing the user that the shapefile should not be used
>
> > in other applications while repacking is frozen.
>
> My feeling is that QgsOgrDataProvider is already complicated enough 
> with its existing tricks. I'm not sure this temporary freeze repacking 
> is a right move (how would you decide when you do it ? and I'm pretty 
> sure users will not get it, or will have issues if they start an 
> algorithm with an external tool that requires packed shapefiles)
>
It would be something I would call explicitly while the geometry checker 
is active, I think it is safe to assume that users don't expect that 
they can operate on the shapefile while the geometry checker is 
processing it.  It would not add much complexity to the provider, just a 
flag that repacking is frozen, and a setter to set that flag. When the 
flag is set to false, the shapefile is repacked.

Sandro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170706/055f6b20/attachment-0001.html>

From matthias at opengis.ch  Thu Jul  6 02:24:41 2017
From: matthias at opengis.ch (=?UTF-8?B?TWF0dGhpYXMgS3VobiDwn4yN?=)
Date: Thu, 6 Jul 2017 11:24:41 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <a578492c-a193-1f6a-c24f-3091a62696dd@gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <df68b08f-3a9e-b06a-de6e-5ebdefba8fd7@gmail.com>
 <8a056c04-ac96-999b-8944-6876f980a2ce@gmail.com>
 <3075694.1tgngYB01I@even-i700>
 <a578492c-a193-1f6a-c24f-3091a62696dd@gmail.com>
Message-ID: <3682d7fb-766a-29a9-d0db-6e9c78d5d2f5@opengis.ch>

On 07/06/2017 11:00 AM, Sandro Mani wrote:
>>
>> My feeling is that QgsOgrDataProvider is already complicated enough
>> with its existing tricks. I'm not sure this temporary freeze repacking
>> is a right move (how would you decide when you do it ? and I'm pretty
>> sure users will not get it, or will have issues if they start an
>> algorithm with an external tool that requires packed shapefiles)
>>
> It would be something I would call explicitly while the geometry checker
> is active, I think it is safe to assume that users don't expect that
> they can operate on the shapefile while the geometry checker is
> processing it.

If a user is not expected to work with the shapefile while the checker
runs, why is the shapefile saved (and repacked) during this time?

> It would not add much complexity to the provider, just a
> flag that repacking is frozen, and a setter to set that flag. When the
> flag is set to false, the shapefile is repacked.

I don't know if it's just me, but it seems like adding yet another level
of workaround.

I'm afraid that in the end we'll end up with more problems like
interleaved calls when multiple plugins try to set and unset this in
parallel and other unexpected consequences.

I would prefer to either go for a clean solution with stable ids on
provider side (implementation in ogr or ogr provider) or the signal
about id changes (which could also be emitted when a new feature with
negative id becomes a stored feature with a positive id).

Matthias

> 
> Sandro
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From rdmailings at duif.net  Thu Jul  6 02:34:09 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 6 Jul 2017 11:34:09 +0200
Subject: [QGIS-Developer] UI Master: Empty Vector Toolbar? + Tooltips bold
	or not?
Message-ID: <c8610ae6-eccc-1a32-9d08-ca33a2e79297@duif.net>

Doing a fresh compile, I have an very emtpy 'Vector Toolbar' (handle) in
my toolbar section. Is it still used, or will/can it be filled by
plugins. If not we/I can remove it?

I used hovering over the handle to see the tooltip to see the name of
the toolbar, and then mentioned that some of the tooltips are in Bold,
while others are not.

For example:
- in the Project Toolbar all is bold
- the Snapping Toolbar (which does not even have a tooltip) is normal font
- all the widgets in the statusbar have normal font

Easy to fix? Or is this stylesheet related?

Regards,

Richard Duivenvoorde

ps also checked on Windooz, is the same.


From wonder.sk at gmail.com  Thu Jul  6 02:38:40 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 6 Jul 2017 11:38:40 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <a578492c-a193-1f6a-c24f-3091a62696dd@gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <df68b08f-3a9e-b06a-de6e-5ebdefba8fd7@gmail.com>
 <8a056c04-ac96-999b-8944-6876f980a2ce@gmail.com>
 <3075694.1tgngYB01I@even-i700>
 <a578492c-a193-1f6a-c24f-3091a62696dd@gmail.com>
Message-ID: <CAC2XbFdS6QX43xX+_YGnSjDYtpB1vXWHZoUHDkODiOYnnfrc=g@mail.gmail.com>

Hi Sandro

On Thu, Jul 6, 2017 at 11:00 AM, Sandro Mani <manisandro at gmail.com> wrote:
>
> It would be something I would call explicitly while the geometry checker is
> active, I think it is safe to assume that users don't expect that they can
> operate on the shapefile while the geometry checker is processing it.  It
> would not add much complexity to the provider, just a flag that repacking is
> frozen, and a setter to set that flag. When the flag is set to false, the
> shapefile is repacked.

How about changing the logic in geometry checker? Instead of saving
changes any time user chooses an action, one could just keep a buffer
of changes and then commit everything at once when the user is done
fixing things... That would be also more efficient and it seems like
an easier solution than adding workarounds to data provider interface
for one particular format.

Cheers
Martin

From manisandro at gmail.com  Thu Jul  6 02:54:32 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Thu, 6 Jul 2017 11:54:32 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <CAC2XbFdS6QX43xX+_YGnSjDYtpB1vXWHZoUHDkODiOYnnfrc=g@mail.gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <df68b08f-3a9e-b06a-de6e-5ebdefba8fd7@gmail.com>
 <8a056c04-ac96-999b-8944-6876f980a2ce@gmail.com>
 <3075694.1tgngYB01I@even-i700>
 <a578492c-a193-1f6a-c24f-3091a62696dd@gmail.com>
 <CAC2XbFdS6QX43xX+_YGnSjDYtpB1vXWHZoUHDkODiOYnnfrc=g@mail.gmail.com>
Message-ID: <19f8ce41-10ac-59fd-fc4c-6241a37c360d@gmail.com>



On 06.07.2017 11:38, Martin Dobias wrote:
> Hi Sandro
>
> On Thu, Jul 6, 2017 at 11:00 AM, Sandro Mani <manisandro at gmail.com> wrote:
>> It would be something I would call explicitly while the geometry checker is
>> active, I think it is safe to assume that users don't expect that they can
>> operate on the shapefile while the geometry checker is processing it.  It
>> would not add much complexity to the provider, just a flag that repacking is
>> frozen, and a setter to set that flag. When the flag is set to false, the
>> shapefile is repacked.
> How about changing the logic in geometry checker? Instead of saving
> changes any time user chooses an action, one could just keep a buffer
> of changes and then commit everything at once when the user is done
> fixing things... That would be also more efficient and it seems like
> an easier solution than adding workarounds to data provider interface
> for one particular format.
As mentioned before, the problem is that if one of the changes to be 
committed is refused by the provider, you're stuck not being able to 
commit the entire set of changes. And, since we are dealing with invalid 
geometries, it is not that unlikely that this occurs. Committing 
directly to the provider ensures that we know immediately whether a 
change is valid or not.

Sandro

From matteo.ghetta at gmail.com  Thu Jul  6 06:03:03 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Thu, 6 Jul 2017 15:03:03 +0200
Subject: [QGIS-Developer] Processing tests.. continuing...
Message-ID: <f81e8dda-0dcf-35b3-eff3-d128b0d01834@gmail.com>

Hi all,

I'm continuing testing.. The buffer algorithm seems not working properly:


the distance filled in the box is definitely not taken into account. I'm
sure I've used only projected data (no geographic CRS) and with
different datasets, even with different distances added the final buffer
looks always really small with a buffer of 10 meters (values added have
been really different)

moreover, I think that the current "buffer" algorithm should melt the
old "fixed" and "variable" buffer ones. But when a layer is selected in
the combobox and instead of adding a number for the buffer, one wants to
select a field, by opening the Expression Widget, no fields appear in
the menu "Fields and Values".

Thanks to all

Matteo



From noreply at qgis.org  Thu Jul  6 06:30:29 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 06 Jul 2017 13:30:29 -0000
Subject: [QGIS-Developer] Plugin [1163] Plugin Load Times approval
	notification.
Message-ID: <20170706133029.21654.64132@320558c5528b>


Plugin Plugin Load Times approval by pcav.
The plugin version "[1163] Plugin Load Times 1.99 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/PluginLoadTimes/

From noreply at qgis.org  Thu Jul  6 07:00:43 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 06 Jul 2017 14:00:43 -0000
Subject: [QGIS-Developer] Plugin [1269] Anaximandre approval notification.
Message-ID: <20170706140043.30308.9085@320558c5528b>


Plugin Anaximandre approval by pcav.
The plugin version "[1269] Anaximandre 0.1" is now approved
Link: http://plugins.qgis.org/plugins/Anaximandre/

From adenaculture at gmail.com  Thu Jul  6 07:21:51 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 6 Jul 2017 10:21:51 -0400
Subject: [QGIS-Developer] QGIS 3.0 Error: module 'PyQt5.QtWidgets' has no
	attribute 'QgsDockWidget'
Message-ID: <CABPxTTq-zg+ZL6EP8aa0wCjeab8C_hk_9DtOq3AwFwxSQh5qMw@mail.gmail.com>

I am attempting to switch from QDockWidget to QgsDockWidget with my Lat Lon
Tools plugin for QGIS 3.0. I am getting this error:

  File "C:\OSGEO4~1\apps\Python36\lib\site-packages\PyQt5\uic\__init__.py",
line 203, in loadUiType
    return (ui_globals[winfo["uiclass"]], getattr(QtWidgets,
winfo["baseclass"]))
AttributeError: module 'PyQt5.QtWidgets' has no attribute 'QgsDockWidget'

Normally what I do when I encounter these types of errors is to change the
custom widget lines of code from something like:

 <customwidgets>
  <customwidget>
   <class>QgsDockWidget</class>
   <extends>QDockWidget</extends>

*  <header>qgsdockwidget.h</header>*   <container>1</container>
  </customwidget>
 </customwidgets>

to

 <customwidgets>
  <customwidget>
   <class>QgsDockWidget</class>
   <extends>QDockWidget</extends>

*  <header>qgis.gui</header>*   <container>1</container>
  </customwidget>

This has always worked in the past, but it is not working for
QgsDockWidget. It still works for the other custom widgets. Is this a bug
or do I need to do something differently in my .ui code?

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170706/228eb6d7/attachment.html>

From adenaculture at gmail.com  Thu Jul  6 08:06:52 2017
From: adenaculture at gmail.com (C Hamilton)
Date: Thu, 6 Jul 2017 11:06:52 -0400
Subject: [QGIS-Developer] Confused by QGIS 3 Labeling
Message-ID: <CABPxTTqJmZ-8vy1dCmCF07Zz8P5D_jDwdDa4+CGMqpkmpVUErw@mail.gmail.com>

Formally I was using the following in my code to add a default label to my
points vector layer:

            label = QgsPalLayerSettings()
            label.readFromLayer(ptLayer)
            label.enabled = True
            label.fieldName = 'label'
            label.placement= QgsPalLayerSettings.AroundPoint
            label.writeToLayer(ptLayer)

In looking at the api break documentation readFromLayer and writeToLayer
have been removed and I need to somehow use QgsAbstractVectorLayerLabeling,
but I cannot see what I need to change just to add a label to my point
layer. I am not trying to do anything fancy. All I want is to specify a
field to be used to label the points layer and just use the default
styling. Any help understanding the new API changes would be appreciated.

Thanks,

Calvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170706/c0c26267/attachment-0001.html>

From wonder.sk at gmail.com  Thu Jul  6 08:55:15 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 6 Jul 2017 17:55:15 +0200
Subject: [QGIS-Developer] Confused by QGIS 3 Labeling
In-Reply-To: <CABPxTTqJmZ-8vy1dCmCF07Zz8P5D_jDwdDa4+CGMqpkmpVUErw@mail.gmail.com>
References: <CABPxTTqJmZ-8vy1dCmCF07Zz8P5D_jDwdDa4+CGMqpkmpVUErw@mail.gmail.com>
Message-ID: <CAC2XbFdY0HkTmTXnz9NLDXrTWxnc4rNnO8KAo+_hh0BywuKU9Q@mail.gmail.com>

Hi Calvin

On Thu, Jul 6, 2017 at 5:06 PM, C Hamilton <adenaculture at gmail.com> wrote:
> Formally I was using the following in my code to add a default label to my
> points vector layer:
>
>             label = QgsPalLayerSettings()
>             label.readFromLayer(ptLayer)
>             label.enabled = True
>             label.fieldName = 'label'
>             label.placement= QgsPalLayerSettings.AroundPoint
>             label.writeToLayer(ptLayer)
>
> In looking at the api break documentation readFromLayer and writeToLayer
> have been removed and I need to somehow use QgsAbstractVectorLayerLabeling,
> but I cannot see what I need to change just to add a label to my point
> layer. I am not trying to do anything fancy. All I want is to specify a
> field to be used to label the points layer and just use the default styling.
> Any help understanding the new API changes would be appreciated.

This should work:

settings = QgsPalLayerSettings()
settings.fieldName = 'id'
labeling = QgsVectorLayerSimpleLabeling(settings)
layer.setLabeling(labeling)

Please note that it is still too early to port your code to QGIS 3.0 -
there may be further API breaks. Here I would say that
QgsPalLayerSettings class may be renamed and its API may be updated.

Regards
Martin

From noreply at qgis.org  Thu Jul  6 09:28:25 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 06 Jul 2017 16:28:25 -0000
Subject: [QGIS-Developer] Plugin [1273] Repair Geometry (Reparar Geometria)
 approval notification.
Message-ID: <20170706162825.17795.14943@320558c5528b>


Plugin Repair Geometry (Reparar Geometria) approval by pcav.
The plugin version "[1273] Repair Geometry (Reparar Geometria) 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/RepairGeometry/

From noreply at qgis.org  Thu Jul  6 09:29:27 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 06 Jul 2017 16:29:27 -0000
Subject: [QGIS-Developer] Plugin [1272] Multiple Layers Edit Nodes approval
	notification.
Message-ID: <20170706162927.21654.37972@320558c5528b>


Plugin Multiple Layers Edit Nodes approval by pcav.
The plugin version "[1272] Multiple Layers Edit Nodes 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/MultipleLayersEditNodes/

From noreply at qgis.org  Thu Jul  6 09:31:52 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 06 Jul 2017 16:31:52 -0000
Subject: [QGIS-Developer] Plugin [1271] Convert CircularString to LineString
 approval notification.
Message-ID: <20170706163152.21654.67817@320558c5528b>


Plugin Convert CircularString to LineString approval by pcav.
The plugin version "[1271] Convert CircularString to LineString 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/ConvertCircularstring/

From noreply at qgis.org  Thu Jul  6 10:17:49 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 06 Jul 2017 17:17:49 -0000
Subject: [QGIS-Developer] Plugin [1273] Repair Geometry (Reparar Geometria)
 approval notification.
Message-ID: <20170706171749.17795.77493@320558c5528b>


Plugin Repair Geometry (Reparar Geometria) approval by pcav.
The plugin version "[1273] Repair Geometry (Reparar Geometria) 0.1.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/RepairGeometry/

From noreply at qgis.org  Thu Jul  6 11:59:41 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 06 Jul 2017 18:59:41 -0000
Subject: [QGIS-Developer] Plugin [1035] Lat Lon Tools approval notification.
Message-ID: <20170706185941.30308.75706@320558c5528b>


Plugin Lat Lon Tools approval by pcav.
The plugin version "[1035] Lat Lon Tools 3.0.1" is now approved
Link: http://plugins.qgis.org/plugins/latlontools/

From nyall.dawson at gmail.com  Thu Jul  6 23:08:19 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 7 Jul 2017 16:08:19 +1000
Subject: [QGIS-Developer] [Processing] Dissolve with unique field cause
 segmentation fault
In-Reply-To: <fb5a707f-01be-357a-d044-ab306d5ffc07@gmail.com>
References: <fb5a707f-01be-357a-d044-ab306d5ffc07@gmail.com>
Message-ID: <CAB28Asjeqvf41CxeUn=53KwAMEgFrvhEbX9F3MNC+MphH7TBvg@mail.gmail.com>

On 5 July 2017 at 23:17, matteo <matteo.ghetta at gmail.com> wrote:
> Hi devs,
>
> don't hate me if I'm bombing the list, but I'm going through the
> Processing algorithm making tests as deep as I can.
>
> The Dissolve algorithms work super fine except when an unique field is
> chosen for the dissolving. In this case I have a segmentation fault and
> QGIS crashes.
>
> Tried with different dataset and it happens every time.
>
> I don't have any log information, just segmentation fault

Fixed in master - I've worked around a bug in Ubuntu's Qt5.5 package.

Nyall

From qgis at makobo.de  Thu Jul  6 23:09:27 2017
From: qgis at makobo.de (EZUSoft)
Date: Fri, 7 Jul 2017 08:09:27 +0200 (CEST)
Subject: [QGIS-Developer] [Qgis-developer] gdalogr-Processing in QGIS 3.0
In-Reply-To: <2127698238.222574.1490626573557@email.1und1.de>
References: <1631665139.226476.1490597940112@email.1und1.de>
 <193238178.204838.1490598321786@email.1und1.de>
 <CAECJsSoif057th=29tHC+G2TYS775vxzXK++ZM_QkbQ_iey4gw@mail.gmail.com>
 <2127698238.222574.1490626573557@email.1und1.de>
Message-ID: <1262367312.90381.1499407767755@email.1und1.de>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170707/bfab6db5/attachment.html>

From nyall.dawson at gmail.com  Thu Jul  6 23:14:07 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 7 Jul 2017 16:14:07 +1000
Subject: [QGIS-Developer] [Qgis-developer] gdalogr-Processing in QGIS 3.0
In-Reply-To: <1262367312.90381.1499407767755@email.1und1.de>
References: <1631665139.226476.1490597940112@email.1und1.de>
 <193238178.204838.1490598321786@email.1und1.de>
 <CAECJsSoif057th=29tHC+G2TYS775vxzXK++ZM_QkbQ_iey4gw@mail.gmail.com>
 <2127698238.222574.1490626573557@email.1und1.de>
 <1262367312.90381.1499407767755@email.1und1.de>
Message-ID: <CAB28AsihOoZbbjFMv0ra5RyjkSRNbw125m2ioAuTVw+dgtV7=Q@mail.gmail.com>

On 7 July 2017 at 16:09, EZUSoft <qgis at makobo.de> wrote:
> Hi @all,
> with the weekly build from february this code works:
> import processing
> processing.runalg('gdal:convertformat',"d:/test/mydxf.dxf", 0, opt ,
> "d:/test/myshp.shp")
>
> Now I test the weekly build "c1d339c"  and it does not work:
> Error: AttributeError: module 'processing' has no attribute 'runalg'

This is all in a state of flux. In QGIS 3.0 you would do something like:

processing.run( 'gdal:convertformat', {'INPUT':"d:/test/mydxf.dxf",
... , 'OUTPUT':'d:/test/myshp.shp'} )

i.e. you know use a dict for specifying the options.

But gdal algorithms are not available yet - only a handful of qgis ones.

Nyall



>
> Unfortunately, I found in the net no example how to use the new version of
> the processing for (ogr) convert dxf to shape.
>
> Greatings Mike
>
> EZUSoft <qgis at makobo.de> hat am 27. M√§rz 2017 um 16:56 geschrieben:
>
> Hi,
> thanks for answer.
> processing.runalg('gdal:convertformat' ...
> This works (in the principle).
>
> Greatings Mike
>
> DelazJ <delazj at gmail.com> hat am 27. M√§rz 2017 um 10:41 geschrieben:
>
> Hi,
> It's because gdalogr no longer exists in 3.0, use instead gdal. You could to
> run processing.alglist() to get the write syntax of functions.
>
> Regards,
> Harrissou
>
> 2017-03-27 9:05 GMT+02:00 EZUSoft <qgis at makobo.de>:
>
> Hi @all,
> i can not use the "gdalogr"-Processing in QGIS 3.0 (2.99) QGIS code revision
> 1182816
>
> import processing
> processing.runalg('gdalogr:convertformat','', 0, '' ,'')
> Error: Algorithm not found
>
> Does anyone know whats going wrong?
>
> Greatings Mike
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From nyall.dawson at gmail.com  Thu Jul  6 23:41:25 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 7 Jul 2017 16:41:25 +1000
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <480877ef-3e3c-0931-220a-59251384a9bd@gmail.com>
References: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>
 <CAB28AsgOURwTQWYpdqo5vwCUCM5pjUZuA9+gRXeYgvzns5DtoQ@mail.gmail.com>
 <71f0ce39-a531-a62c-8987-9a299ce94c97@faunalia.it>
 <CAB28AsgRrSm795vMPWsBa3eQTBx7njE-_6e_D21j5p8V1E3rwA@mail.gmail.com>
 <480877ef-3e3c-0931-220a-59251384a9bd@gmail.com>
Message-ID: <CAB28AsgsJNwvJU7d7H3yT5mjpBwHeYGuaYDdDbsVs6my18pqJg@mail.gmail.com>

On 4 July 2017 at 17:57, matteo <matteo.ghetta at gmail.com> wrote:
> Hi Nyall,
>
>>>>> * barplot does not return a result (result viewer is empty)
>>>>
>>>> Looks like this happens when you don't pick a destination file.  Can
>>>> you re-test and explicitly choose an output file.
>>>
>>> tried, still empty wpanel
>
> I notice that with all the algorithm that return html outputs, the
> result viewer is empty and one can get the result just by saving the
> output as local html in a folder.

Fixed in master - the issue was missing file extensions.

Note that the "basic stats" algorithm now no longer outputs the html
by default. It's now an optional output, so you either need to
manually set a location for it, or click the "..." button and choose
"save to a temporary file" for it to be generated.

Otherwise the results are only visible in the algorithm execution log
(and models)

Nyall

From nyall.dawson at gmail.com  Thu Jul  6 23:43:00 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 7 Jul 2017 16:43:00 +1000
Subject: [QGIS-Developer] Regular points in Processing freezes
In-Reply-To: <df8907ae-e005-7911-5cdc-c0b346fd2f9f@gmail.com>
References: <75d10be1-3924-c79d-e787-1f86a030730d@gmail.com>
 <CAB28AsgYMAjnSzFwyu0Cv9gTMk=w4bYyWjcO5TwG=zbHXHMP8Q@mail.gmail.com>
 <df8907ae-e005-7911-5cdc-c0b346fd2f9f@gmail.com>
Message-ID: <CAB28AsiubMx7bukPwox=E8ckUEfG881xkwCW3yBphvp9BnaNSw@mail.gmail.com>

On 4 July 2017 at 20:01, matteo <matteo.ghetta at gmail.com> wrote:
>> Is this on master?
>
> yes, fresh compiled.. and sorry for the text, it's regular points and
> not random point

I can't reproduce this. Could it have been an issue with the spacing
entered causing too many points to be created? (Which shouldn't really
be an issue now on master... it may take forever, but you get feedback
and can cancel and QGIS remains responsive.)

Nyall

From nyall.dawson at gmail.com  Fri Jul  7 00:02:48 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 7 Jul 2017 17:02:48 +1000
Subject: [QGIS-Developer] [Processing] Split vector layer problem
In-Reply-To: <978faac8-9fae-93b5-d527-93b08081c50e@gmail.com>
References: <978faac8-9fae-93b5-d527-93b08081c50e@gmail.com>
Message-ID: <CAB28Asjf_6gHSkCOPRozj3Oxaag-16Xm+4riifK+i9yZC7Vq4A@mail.gmail.com>

On 4 July 2017 at 23:57, matteo <matteo.ghetta at gmail.com> wrote:
> Hi all,
>
> I get another (small) issue with "Split vector layer" in Processing.
>
> By choosing a local folder where to store all the layers created from
> the splitting, all the layers are saved in the /tmp/ folder anyways.
>
> So algorithm works fine (output in /tmp/ are correct), only the
> directory path input seems to be not taken into account.

Fixed in master - thanks for the test!

Nyall

From nyall.dawson at gmail.com  Fri Jul  7 00:06:46 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 7 Jul 2017 17:06:46 +1000
Subject: [QGIS-Developer] Processing tests.. continuing...
In-Reply-To: <f81e8dda-0dcf-35b3-eff3-d128b0d01834@gmail.com>
References: <f81e8dda-0dcf-35b3-eff3-d128b0d01834@gmail.com>
Message-ID: <CAB28AsixoUftseBinSj97Jwb22DXXMhesh8-tyzMyC-GhpwyHw@mail.gmail.com>

On 6 July 2017 at 23:03, matteo <matteo.ghetta at gmail.com> wrote:
> Hi all,
>
> I'm continuing testing.. The buffer algorithm seems not working properly:
>
>
> the distance filled in the box is definitely not taken into account. I'm
> sure I've used only projected data (no geographic CRS) and with
> different datasets, even with different distances added the final buffer
> looks always really small with a buffer of 10 meters (values added have
> been really different)

I can't reproduce. Can you set the processing setting to keep the
algorithm dialog open after execution, and copy and paste the log
contents here?

(we really should make the processing history panel show this log too!)


> moreover, I think that the current "buffer" algorithm should melt the
> old "fixed" and "variable" buffer ones. But when a layer is selected in
> the combobox and instead of adding a number for the buffer, one wants to
> select a field, by opening the Expression Widget, no fields appear in
> the menu "Fields and Values".

Ideally yes. It supports both use cases, but they aren't exposed in
the GUI (and I don't have plans to implement this UI for 3.0). It's
one of the (many) new features in processing which are currently API
only.

So for now this is just a demo algorithm, which will probably be
hidden when the fixed distance/variable distance buffer algs are
ported across.

Nyall

From matteo.ghetta at gmail.com  Fri Jul  7 00:47:07 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 7 Jul 2017 09:47:07 +0200
Subject: [QGIS-Developer] [Processing] Dissolve with unique field cause
 segmentation fault
In-Reply-To: <CAB28Asjeqvf41CxeUn=53KwAMEgFrvhEbX9F3MNC+MphH7TBvg@mail.gmail.com>
References: <fb5a707f-01be-357a-d044-ab306d5ffc07@gmail.com>
 <CAB28Asjeqvf41CxeUn=53KwAMEgFrvhEbX9F3MNC+MphH7TBvg@mail.gmail.com>
Message-ID: <54eee1c1-4006-5d98-bd83-3dda46897915@gmail.com>

> Fixed in master - I've worked around a bug in Ubuntu's Qt5.5 package.

fixed confirm..

thanks Nyall

From matteo.ghetta at gmail.com  Fri Jul  7 00:51:54 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 7 Jul 2017 09:51:54 +0200
Subject: [QGIS-Developer] QGIS 3 > Processing: some test
In-Reply-To: <CAB28AsgsJNwvJU7d7H3yT5mjpBwHeYGuaYDdDbsVs6my18pqJg@mail.gmail.com>
References: <ac6df874-5657-32a8-cdfa-010d478649cd@faunalia.it>
 <CAB28AsgOURwTQWYpdqo5vwCUCM5pjUZuA9+gRXeYgvzns5DtoQ@mail.gmail.com>
 <71f0ce39-a531-a62c-8987-9a299ce94c97@faunalia.it>
 <CAB28AsgRrSm795vMPWsBa3eQTBx7njE-_6e_D21j5p8V1E3rwA@mail.gmail.com>
 <480877ef-3e3c-0931-220a-59251384a9bd@gmail.com>
 <CAB28AsgsJNwvJU7d7H3yT5mjpBwHeYGuaYDdDbsVs6my18pqJg@mail.gmail.com>
Message-ID: <a562b404-bed4-ea0a-af94-01c39565a3da@gmail.com>

> Fixed in master - the issue was missing file extensions.

confirmed also this fix.


> Note that the "basic stats" algorithm now no longer outputs the html
> by default. It's now an optional output, so you either need to
> manually set a location for it, or click the "..." button and choose
> "save to a temporary file" for it to be generated.
> 
> Otherwise the results are only visible in the algorithm execution log
> (and models)

may I ask if there is a reason for not create the memory html by default
putting it in the Results Viewer?

IMHO, many many users will expect to see the statistics somewhere by default

Thanks

Matteo

From matteo.ghetta at gmail.com  Fri Jul  7 00:55:30 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 7 Jul 2017 09:55:30 +0200
Subject: [QGIS-Developer] Regular points in Processing freezes
In-Reply-To: <CAB28AsiubMx7bukPwox=E8ckUEfG881xkwCW3yBphvp9BnaNSw@mail.gmail.com>
References: <75d10be1-3924-c79d-e787-1f86a030730d@gmail.com>
 <CAB28AsgYMAjnSzFwyu0Cv9gTMk=w4bYyWjcO5TwG=zbHXHMP8Q@mail.gmail.com>
 <df8907ae-e005-7911-5cdc-c0b346fd2f9f@gmail.com>
 <CAB28AsiubMx7bukPwox=E8ckUEfG881xkwCW3yBphvp9BnaNSw@mail.gmail.com>
Message-ID: <2fa7ebae-a30d-2e6b-7ef6-e38a16735754@gmail.com>

> I can't reproduce this. Could it have been an issue with the spacing
> entered causing too many points to be created? (Which shouldn't really
> be an issue now on master... it may take forever, but you get feedback
> and can cancel and QGIS remains responsive.)

sorry, my fault. Filling the point spacing box, hitting TAB to go
through all the other parameters, made the box resetting to 100 values
(definitely not a good idea)

confirm the algorithm works fine

Cheers

Matteo

From nyall.dawson at gmail.com  Fri Jul  7 00:58:52 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 7 Jul 2017 17:58:52 +1000
Subject: [QGIS-Developer] Regular points in Processing freezes
In-Reply-To: <2fa7ebae-a30d-2e6b-7ef6-e38a16735754@gmail.com>
References: <75d10be1-3924-c79d-e787-1f86a030730d@gmail.com>
 <CAB28AsgYMAjnSzFwyu0Cv9gTMk=w4bYyWjcO5TwG=zbHXHMP8Q@mail.gmail.com>
 <df8907ae-e005-7911-5cdc-c0b346fd2f9f@gmail.com>
 <CAB28AsiubMx7bukPwox=E8ckUEfG881xkwCW3yBphvp9BnaNSw@mail.gmail.com>
 <2fa7ebae-a30d-2e6b-7ef6-e38a16735754@gmail.com>
Message-ID: <CAB28Asin8kcy8+pzgy_W=NS5znVaAGzW0aQ5xYZfZ+s7gidAAg@mail.gmail.com>

On 7 July 2017 at 17:55, matteo <matteo.ghetta at gmail.com> wrote:
>> I can't reproduce this. Could it have been an issue with the spacing
>> entered causing too many points to be created? (Which shouldn't really
>> be an issue now on master... it may take forever, but you get feedback
>> and can cancel and QGIS remains responsive.)
>
> sorry, my fault. Filling the point spacing box, hitting TAB to go
> through all the other parameters, made the box resetting to 100 values
> (definitely not a good idea)

I can't reproduce this. Can you make a screencast?

Nyall

>
> confirm the algorithm works fine
>
> Cheers
>
> Matteo

From matteo.ghetta at gmail.com  Fri Jul  7 00:59:55 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 7 Jul 2017 09:59:55 +0200
Subject: [QGIS-Developer] Processing tests.. continuing...
In-Reply-To: <CAB28AsixoUftseBinSj97Jwb22DXXMhesh8-tyzMyC-GhpwyHw@mail.gmail.com>
References: <f81e8dda-0dcf-35b3-eff3-d128b0d01834@gmail.com>
 <CAB28AsixoUftseBinSj97Jwb22DXXMhesh8-tyzMyC-GhpwyHw@mail.gmail.com>
Message-ID: <98704e4a-f80e-52c2-7407-8449c0c6f78a@gmail.com>

> I can't reproduce. Can you set the processing setting to keep the
> algorithm dialog open after execution, and copy and paste the log
> contents here?

same problem for the other algorithm. Hitting tab or clicking in another
box will reset the field to the default value.

sorry for the noise

> (we really should make the processing history panel show this log too!)
> 
> 
>> moreover, I think that the current "buffer" algorithm should melt the
>> old "fixed" and "variable" buffer ones. But when a layer is selected in
>> the combobox and instead of adding a number for the buffer, one wants to
>> select a field, by opening the Expression Widget, no fields appear in
>> the menu "Fields and Values".
> 
> Ideally yes. It supports both use cases, but they aren't exposed in
> the GUI (and I don't have plans to implement this UI for 3.0). It's
> one of the (many) new features in processing which are currently API
> only.

perfectly clear

> So for now this is just a demo algorithm, which will probably be
> hidden when the fixed distance/variable distance buffer algs are
> ported across.

So the fixed/variable distance algorithms will be restored until the
native buffer is ready to replace both of them?

Thanks

Matteo

From qgis at makobo.de  Fri Jul  7 00:56:20 2017
From: qgis at makobo.de (EZUSoft)
Date: Fri, 7 Jul 2017 09:56:20 +0200 (CEST)
Subject: [QGIS-Developer] [Qgis-developer] gdalogr-Processing in QGIS 3.0
In-Reply-To: <CAB28AsihOoZbbjFMv0ra5RyjkSRNbw125m2ioAuTVw+dgtV7=Q@mail.gmail.com>
References: <1631665139.226476.1490597940112@email.1und1.de>
 <193238178.204838.1490598321786@email.1und1.de>
 <CAECJsSoif057th=29tHC+G2TYS775vxzXK++ZM_QkbQ_iey4gw@mail.gmail.com>
 <2127698238.222574.1490626573557@email.1und1.de>
 <1262367312.90381.1499407767755@email.1und1.de>
 <CAB28AsihOoZbbjFMv0ra5RyjkSRNbw125m2ioAuTVw+dgtV7=Q@mail.gmail.com>
Message-ID: <800942661.97903.1499414180613@email.1und1.de>

Hi,
thank you for the fast answer. 
It makes then current no sense  to develop my plugins further. 
Greatings Mike


> Nyall Dawson <nyall.dawson at gmail.com> hat am 7. Juli 2017 um 08:14 geschrieben:
> This is all in a state of flux. In QGIS 3.0 you would do something like:
> 
> processing.run( 'gdal:convertformat', {'INPUT':"d:/test/mydxf.dxf",
> ... , 'OUTPUT':'d:/test/myshp.shp'} )
> 
> i.e. you know use a dict for specifying the options.
> 
> But gdal algorithms are not available yet - only a handful of qgis ones.
> 
> Nyall
> 
> >
> 
> > Unfortunately, I found in the net no example how to use the new version of
> > the processing for (ogr) convert dxf to shape.
> > 
> > Greatings Mike
> > 
> > EZUSoft <qgis at makobo.de> hat am 27. M√§rz 2017 um 16:56 geschrieben:
> > 
> > Hi,
> > thanks for answer.
> > processing.runalg('gdal:convertformat' ...
> > This works (in the principle).
> > 
> > Greatings Mike
> > 
> > DelazJ <delazj at gmail.com> hat am 27. M√§rz 2017 um 10:41 geschrieben:
> > 
> > Hi,
> > It's because gdalogr no longer exists in 3.0, use instead gdal. You could to
> > run processing.alglist() to get the write syntax of functions.
> > 
> > Regards,
> > Harrissou
> > 
> > 2017-03-27 9:05 GMT+02:00 EZUSoft <qgis at makobo.de>:
> > 
> > Hi @all,
> > i can not use the "gdalogr"-Processing in QGIS 3.0 (2.99) QGIS code revision
> > 1182816
> > 
> > import processing
> > processing.runalg('gdalogr:convertformat','', 0, '' ,'')
> > Error: Algorithm not found
> > 
> > Does anyone know whats going wrong?
> > 
> > Greatings Mike
> > 
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > 
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From matteo.ghetta at gmail.com  Fri Jul  7 01:05:01 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 7 Jul 2017 10:05:01 +0200
Subject: [QGIS-Developer] Regular points in Processing freezes
In-Reply-To: <CAB28Asin8kcy8+pzgy_W=NS5znVaAGzW0aQ5xYZfZ+s7gidAAg@mail.gmail.com>
References: <75d10be1-3924-c79d-e787-1f86a030730d@gmail.com>
 <CAB28AsgYMAjnSzFwyu0Cv9gTMk=w4bYyWjcO5TwG=zbHXHMP8Q@mail.gmail.com>
 <df8907ae-e005-7911-5cdc-c0b346fd2f9f@gmail.com>
 <CAB28AsiubMx7bukPwox=E8ckUEfG881xkwCW3yBphvp9BnaNSw@mail.gmail.com>
 <2fa7ebae-a30d-2e6b-7ef6-e38a16735754@gmail.com>
 <CAB28Asin8kcy8+pzgy_W=NS5znVaAGzW0aQ5xYZfZ+s7gidAAg@mail.gmail.com>
Message-ID: <f6fe1b62-2f38-8f3a-53d9-6fc34085ed1f@gmail.com>

> I can't reproduce this. Can you make a screencast?

here it is.. hitting TAB and clicking on another field with the mouse

https://www.dropbox.com/s/7afqi3yvhhjedac/regular_points.mp4?dl=0

From nyall.dawson at gmail.com  Fri Jul  7 01:09:09 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 7 Jul 2017 18:09:09 +1000
Subject: [QGIS-Developer] Processing tests.. continuing...
In-Reply-To: <98704e4a-f80e-52c2-7407-8449c0c6f78a@gmail.com>
References: <f81e8dda-0dcf-35b3-eff3-d128b0d01834@gmail.com>
 <CAB28AsixoUftseBinSj97Jwb22DXXMhesh8-tyzMyC-GhpwyHw@mail.gmail.com>
 <98704e4a-f80e-52c2-7407-8449c0c6f78a@gmail.com>
Message-ID: <CAB28AsgriB_JHrtheTRceiu3YyPF25D2oEssf7g=cVgYJ55htw@mail.gmail.com>

On 7 July 2017 at 17:59, matteo <matteo.ghetta at gmail.com> wrote:
>> I can't reproduce. Can you set the processing setting to keep the
>> algorithm dialog open after execution, and copy and paste the log
>> contents here?
>
> same problem for the other algorithm. Hitting tab or clicking in another
> box will reset the field to the default value.
>
> sorry for the noise

Hmmm. I've seen other reports of this nature, but not sure what causes
it (it's not processing specific). Do you have the QGIS Qt custom
widgets plugin installed by any chance?


>
>> So for now this is just a demo algorithm, which will probably be
>> hidden when the fixed distance/variable distance buffer algs are
>> ported across.
>
> So the fixed/variable distance algorithms will be restored until the
> native buffer is ready to replace both of them?

Yep.

Nyall

From matteo.ghetta at gmail.com  Fri Jul  7 01:16:59 2017
From: matteo.ghetta at gmail.com (matteo)
Date: Fri, 7 Jul 2017 10:16:59 +0200
Subject: [QGIS-Developer] Processing tests.. continuing...
In-Reply-To: <CAB28AsgriB_JHrtheTRceiu3YyPF25D2oEssf7g=cVgYJ55htw@mail.gmail.com>
References: <f81e8dda-0dcf-35b3-eff3-d128b0d01834@gmail.com>
 <CAB28AsixoUftseBinSj97Jwb22DXXMhesh8-tyzMyC-GhpwyHw@mail.gmail.com>
 <98704e4a-f80e-52c2-7407-8449c0c6f78a@gmail.com>
 <CAB28AsgriB_JHrtheTRceiu3YyPF25D2oEssf7g=cVgYJ55htw@mail.gmail.com>
Message-ID: <9a3251fd-06fc-dade-8292-40856546df07@gmail.com>

> Hmmm. I've seen other reports of this nature, but not sure what causes
> it (it's not processing specific). Do you have the QGIS Qt custom
> widgets plugin installed by any chance?

touching a painful point here.. :)

well I have this situation:

/home/matteo/lavori/QGIS/QGIS/debian/libqgis-customwidgets.install.in
/home/matteo/lavori/QGIS/QGIS/debian/libqgis-customwidgets.lintian-overrides
/home/matteo/lavori/QGIS/QGIS/python/custom_widgets/qgis_customwidgets.py
/home/matteo/lavori/QGIS/QGIS/src/customwidgets/qgiscustomwidgets.cpp
/home/matteo/lavori/QGIS/QGIS/src/customwidgets/qgiscustomwidgets.h
/usr/lib/python2.7/dist-packages/PyQt4/uic/widget-plugins/qgis_customwidgets.py
/usr/lib/x86_64-linux-gnu/qt4/plugins/designer/libqgis_customwidgets.so
/usr/lib/x86_64-linux-gnu/qt4/plugins/designer/libqgis_customwidgets.so.2.8.6
/usr/share/doc/libqgis-customwidgets
/usr/share/doc/libqgis-customwidgets/changelog.Debian.gz
/usr/share/doc/libqgis-customwidgets/copyright


and I compile QGIS with WITH_CUSTOM_WIDGETS=OFF


>>> So for now this is just a demo algorithm, which will probably be
>>> hidden when the fixed distance/variable distance buffer algs are
>>> ported across.
>>
>> So the fixed/variable distance algorithms will be restored until the
>> native buffer is ready to replace both of them?
> 
> Yep.

perfect..

Thanks

Matteo

From noreply at qgis.org  Fri Jul  7 02:42:27 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 07 Jul 2017 09:42:27 -0000
Subject: [QGIS-Developer] Plugin [408] shptoobs approval notification.
Message-ID: <20170707094227.20479.83459@320558c5528b>


Plugin shptoobs approval by pcav.
The plugin version "[408] shptoobs 1.0.0" is now approved
Link: http://plugins.qgis.org/plugins/shp_to_obs/

From rdmailings at duif.net  Fri Jul  7 03:44:00 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 7 Jul 2017 12:44:00 +0200
Subject: [QGIS-Developer] QBrowser, QgsGdalLayerItems,
	QgsOgrLayerItems and non valid layers
Message-ID: <610d32dc-9006-01ae-d0a4-70eec590f116@duif.net>

Hi Devs,

using the Qbrowser-widget (and new load it all button) here.
In my testdata directory it is showing some (GDAL) layers as layers, but
upon loading they fail.

Some examples:
- /initrd.img
ERROR 4: `/initrd.img' not recognized as a supported file format.
- a prov.gpkg throws errors but shows it as a raster file:
ERROR 4: `/home/richard/geodata/prov.gpkg' not recognized as a supported
file format.
The same by the way for OGR layers like pdf which appear as vectors.

Trying to look into it, I see that in the QgsGdalLayerItem constructor
QGIS tries top use GDALOpen on those files, and acutally failing!

When it succeeds it adds some capabilities, but if it fails it just
returns it as a valid QgsLayerItem which then is shown in the browser tree.

Is there a way to tell QGIS or the Browser that a
QgsLayerItem/QgsDataItem just is not valid? So here:
https://github.com/qgis/QGIS/blob/master/src/providers/gdal/qgsgdaldataitems.cpp#L49
you can set a flag False or Error or something like that?

Now I often end up with non valid items in the browsertree:

- pdf's which appear as vector and fail to load
- gpkg's without raster which appear as raster and fail to load
- sqlite's without raster which appear as raster and fail to load

And often I see the 'busy' icon of my browser keep spinning in a
directory which has this kind of files, and my cpu goes to 100%

IF we give the browser a more prominent place in QGIS (like we do now
with the 'onebuttonwhichloadsthemall') we should make this work as good
as possible.

Regards,

Richard Duivenvoorde




From even.rouault at spatialys.com  Fri Jul  7 04:11:15 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 07 Jul 2017 13:11:15 +0200
Subject: [QGIS-Developer] QBrowser, QgsGdalLayerItems,
	QgsOgrLayerItems and non valid layers
In-Reply-To: <610d32dc-9006-01ae-d0a4-70eec590f116@duif.net>
References: <610d32dc-9006-01ae-d0a4-70eec590f116@duif.net>
Message-ID: <2074324.HqYjLztpF8@even-i700>

On vendredi 7 juillet 2017 12:44:00 CEST Richard Duivenvoorde wrote:
> Hi Devs,
> 
> using the Qbrowser-widget (and new load it all button) here.
> In my testdata directory it is showing some (GDAL) layers as layers, but
> upon loading they fail.
> 
> Some examples:
> - /initrd.img
> ERROR 4: `/initrd.img' not recognized as a supported file format.
> - a prov.gpkg throws errors but shows it as a raster file:
> ERROR 4: `/home/richard/geodata/prov.gpkg' not recognized as a supported
> file format.
> The same by the way for OGR layers like pdf which appear as vectors.
> 
> Trying to look into it, I see that in the QgsGdalLayerItem constructor
> QGIS tries top use GDALOpen on those files, and acutally failing!

If QGIS is setup to look at file content and not just extension, this shouldn't happen
since the instanciation of a QgsGdalLayerItem is done at
https://github.com/qgis/QGIS/blob/master/src/providers/gdal/qgsgdaldataitems.cpp#L287
after the check at
https://github.com/qgis/QGIS/blob/master/src/providers/gdal/qgsgdaldataitems.cpp#L272

So what I suspect here is that your QGIS is setup to only look at extensions,
which is the default setting I think.

See 
https://github.com/qgis/QGIS/blob/master/src/providers/gdal/qgsgdaldataitems.cpp#L145
and then
https://github.com/qgis/QGIS/blob/master/src/providers/gdal/qgsgdaldataitems.cpp#L239

And so for drivers that have both raster&vector capabilities, a file will appear twice. Probably
this logic should be amended for dual capabiiity drivers like GPKG and PDF. Actually L246 shows
a particular case for VRT. But I think this logic is now invalid since GDAL 2.0, since
GDALIdentifyDriver() will now retun "VRT" for a raster VRT, and "OGR_VRT" for a vector VRT (in GDAL 1.X
era GDALIdentifyDriver() only worked on raster drivers)

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170707/b56f2940/attachment.html>

From rdmailings at duif.net  Fri Jul  7 04:35:49 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 7 Jul 2017 13:35:49 +0200
Subject: [QGIS-Developer] QBrowser, QgsGdalLayerItems,
 QgsOgrLayerItems and non valid layers
In-Reply-To: <2074324.HqYjLztpF8@even-i700>
References: <610d32dc-9006-01ae-d0a4-70eec590f116@duif.net>
 <2074324.HqYjLztpF8@even-i700>
Message-ID: <5a871b4f-1c6f-be14-0dc7-2a50b5d9c01e@duif.net>

On 07-07-17 13:11, Even Rouault wrote:
> So what I suspect here is that your QGIS is setup to only look at
> extensions,
> 
> which is the default setting I think.
> 
> See
> 
> https://github.com/qgis/QGIS/blob/master/src/providers/gdal/qgsgdaldataitems.cpp#L145
> 
> and then
> 
> https://github.com/qgis/QGIS/blob/master/src/providers/gdal/qgsgdaldataitems.cpp#L239
> 
> And so for drivers that have both raster&vector capabilities, a file
> will appear twice. Probably
> 
> this logic should be amended for dual capabiiity drivers like GPKG and
> PDF. Actually L246 shows
> 
> a particular case for VRT. But I think this logic is now invalid since
> GDAL 2.0, since

Hi Even,

Thanks for your prompt answer.

Yep, you are right. The default setting is apparently (to save
resources?) to only look at the extension. If I use 'Check file
contents' in "Options/Data Sources/Data source handling/Scan for valid
items in the browser dock" all is fine.

Should we not make this default then?

And still: debugging this with the 'only look at extension' option you
go through:

https://github.com/qgis/QGIS/blob/master/src/providers/gdal/qgsgdaldataitems.cpp#L43

where hDS then is a NULL... And all those items in the browser then show
'error' in their properties.
So only looking only to the extention, the codes still tries to open
them using gdal/ogr anyway.

Isn't it better then to add a flag that this item is not to be opened?
And probably not to be shown in the tree?

Same with ALL .txt files by the way (both in a zip and as file), they
also appear as 'geodata' in the browser, and will fail upon opening.

So currently I see a couple of special cases for which QGIS should check:

- .img files (which are not gis image files)
- .pdf files
- .gpkg files
- .sqlite files
- .txt files
- .tab files (people tend to save tab-delimited files as .tab files)

Should I create an issue for this?

About the VRT / GDAL 2.0

Should I create an issue for that?

Regards,

Richard

From even.rouault at spatialys.com  Fri Jul  7 04:48:50 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 07 Jul 2017 13:48:50 +0200
Subject: [QGIS-Developer] QBrowser, QgsGdalLayerItems,
	QgsOgrLayerItems and non valid layers
In-Reply-To: <5a871b4f-1c6f-be14-0dc7-2a50b5d9c01e@duif.net>
References: <610d32dc-9006-01ae-d0a4-70eec590f116@duif.net>
 <2074324.HqYjLztpF8@even-i700>
 <5a871b4f-1c6f-be14-0dc7-2a50b5d9c01e@duif.net>
Message-ID: <8771879.ISkH8HBAPT@even-i700>

On vendredi 7 juillet 2017 13:35:49 CEST Richard Duivenvoorde wrote:
> On 07-07-17 13:11, Even Rouault wrote:
> > So what I suspect here is that your QGIS is setup to only look at
> > extensions,
> > 
> > which is the default setting I think.
> > 
> > See
> > 
> > https://github.com/qgis/QGIS/blob/master/src/providers/gdal/qgsgdaldataite
> > ms.cpp#L145
> > 
> > and then
> > 
> > https://github.com/qgis/QGIS/blob/master/src/providers/gdal/qgsgdaldataite
> > ms.cpp#L239
> > 
> > And so for drivers that have both raster&vector capabilities, a file
> > will appear twice. Probably
> > 
> > this logic should be amended for dual capabiiity drivers like GPKG and
> > PDF. Actually L246 shows
> > 
> > a particular case for VRT. But I think this logic is now invalid since
> > GDAL 2.0, since
> 
> Hi Even,
> 
> Thanks for your prompt answer.
> 
> Yep, you are right. The default setting is apparently (to save
> resources?) to only look at the extension. If I use 'Check file
> contents' in "Options/Data Sources/Data source handling/Scan for valid
> items in the browser dock" all is fine.
> 
> Should we not make this default then?

Not all GDAL/OGR drivers have an implementation of the Identify() method (which just look 
at the first bytes of the file and/or extension typically), so sometimes this can involve a 
regular Open() method which can be costly. Although the situation is improving regularly 
over time...
But there are cases where there is a Identify() method but no conclusive results can be 
returnd. Consider all the SQLite based formats. Looking at the header is not enough, so 
basically the Identify() method of the SQLite/Spatialite, GPKG, MBTiles, Rasterlite driver 
returns either FALSE = "no, this is not a SQLite file", or  -1 = "I can't tell if this file matches this 
driver with just the information I have. So you have to Open() it to know".

> 
> And still: debugging this with the 'only look at extension' option you
> go through:
> 
> https://github.com/qgis/QGIS/blob/master/src/providers/gdal/qgsgdaldataitems
> .cpp#L43
> 
> where hDS then is a NULL... And all those items in the browser then show
> 'error' in their properties.

Ah indeed you're right, even if we only check by extension, then we end up still opening the 
file with GDALOpen :-)
So we should have either :
- do only extension checking and defer the call to 
https://github.com/qgis/QGIS/blob/master/src/providers/gdal/qgsgdaldataitems.cpp#L43 as 
late as possible. But I'm not sure if that's doable. I am merely discovering this piece of code
- or do extension checking as a pre-filter, but try GDALOpen() to ensure then that the file is a 
valid candidate. Would seem a more reasonable approach.

> So only looking only to the extention, the codes still tries to open
> them using gdal/ogr anyway.
> 
> Isn't it better then to add a flag that this item is not to be opened?
> And probably not to be shown in the tree?

Well, the dataItem() should return a nullptr instead of a QgsDataItem that isn't going to work

> 
> Same with ALL .txt files by the way (both in a zip and as file), they
> also appear as 'geodata' in the browser, and will fail upon opening.

The GeoConcept driver can open .txt files, hence what you observe

> 
> So currently I see a couple of special cases for which QGIS should check:
> 
> - .img files (which are not gis image files)
> - .pdf files
> - .gpkg files
> - .sqlite files
> - .txt files
> - .tab files (people tend to save tab-delimited files as .tab files)
> 
> Should I create an issue for this?
> 
> About the VRT / GDAL 2.0
> 
> Should I create an issue for that?

Yeah, both issues are valid, although it's not clear for the first one, what a solution that is 
both reliable (doesn't return false positive matches) and CPU & I/O efficient is...

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170707/668b74ac/attachment-0001.html>

From noreply at qgis.org  Fri Jul  7 08:12:02 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 07 Jul 2017 15:12:02 -0000
Subject: [QGIS-Developer] Plugin [1273] Repair Geometry (Reparar Geometria)
 approval notification.
Message-ID: <20170707151202.12961.58209@320558c5528b>


Plugin Repair Geometry (Reparar Geometria) approval by pcav.
The plugin version "[1273] Repair Geometry (Reparar Geometria) 0.1.2 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/RepairGeometry/

From nyall.dawson at gmail.com  Fri Jul  7 16:11:49 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Sat, 8 Jul 2017 09:11:49 +1000
Subject: [QGIS-Developer] Value entry using comma as decimal separator?
Message-ID: <CAB28AshpWBzJ0=+eJ7RAj6aOOB7N3kk7rmvV+3y-9SWWN8dRQg@mail.gmail.com>

Hi all,

Following on from this conversation:
https://lists.osgeo.org/pipermail/qgis-developer/2017-July/049227.html

it seems we have issues in the qt5 builds under locales which use
commas as decimal separators. Under these locales entering a value
like "5,5"  in a spin box (such as those used in the symbol layer
properties) , then moving focus away from the widget, will discard the
changes.

I know *nothing* about what's the expected behavior here, but a quick
google search leads me to believe that most software follow QGIS'
approach and require users to always use ".", regardless of the locale
(e.g. [1]). Is this correct?

It's a trivial change to make to get the spin boxes to accept the
local decimal separator, but this would prevent users entering "5.5"
in those locales.

Can someone from one of these affected regions let me know what the
correct behavior should be? I don't want to make the change if it
breaks entry of 5.5 and that's the standard used in those locales.

Nyall

1. https://ux.stackexchange.com/questions/74369/is-a-decimal-comma-used-in-data-entry

From noreply at qgis.org  Fri Jul  7 19:44:58 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 08 Jul 2017 02:44:58 -0000
Subject: [QGIS-Developer] Plugin [1102] AequilibraE approval notification.
Message-ID: <20170708024458.12955.48234@320558c5528b>


Plugin AequilibraE approval by pcav.
The plugin version "[1102] AequilibraE 0.3.5.4" is now approved
Link: http://plugins.qgis.org/plugins/AequilibraE/

From noreply at qgis.org  Fri Jul  7 22:04:14 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 08 Jul 2017 05:04:14 -0000
Subject: [QGIS-Developer] Plugin [1267] AreaPrinter approval notification.
Message-ID: <20170708050414.12955.19994@320558c5528b>


Plugin AreaPrinter approval by pcav.
The plugin version "[1267] AreaPrinter 0.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/AreaPrinter-master/

From sokolic at worldonline.co.za  Sat Jul  8 00:31:50 2017
From: sokolic at worldonline.co.za (Frank Sokolic)
Date: Sat, 8 Jul 2017 09:31:50 +0200
Subject: [QGIS-Developer] Value entry using comma as decimal separator?
In-Reply-To: <CAB28AshpWBzJ0=+eJ7RAj6aOOB7N3kk7rmvV+3y-9SWWN8dRQg@mail.gmail.com>
References: <CAB28AshpWBzJ0=+eJ7RAj6aOOB7N3kk7rmvV+3y-9SWWN8dRQg@mail.gmail.com>
Message-ID: <d269045b-a38e-914c-2e68-38af40c46dc4@worldonline.co.za>

On 08/07/2017 01:11, Nyall Dawson wrote:
> Hi all,
>
> Following on from this conversation:
> https://lists.osgeo.org/pipermail/qgis-developer/2017-July/049227.html
>
> it seems we have issues in the qt5 builds under locales which use
> commas as decimal separators. Under these locales entering a value
> like "5,5"  in a spin box (such as those used in the symbol layer
> properties) , then moving focus away from the widget, will discard the
> changes.
>
> I know *nothing* about what's the expected behavior here, but a quick
> google search leads me to believe that most software follow QGIS'
> approach and require users to always use ".", regardless of the locale
> (e.g. [1]). Is this correct?
>
> It's a trivial change to make to get the spin boxes to accept the
> local decimal separator, but this would prevent users entering "5.5"
> in those locales.
>
> Can someone from one of these affected regions let me know what the
> correct behavior should be? I don't want to make the change if it
> breaks entry of 5.5 and that's the standard used in those locales.
>
> Nyall
>
> 1. https://ux.stackexchange.com/questions/74369/is-a-decimal-comma-used-in-data-entry

Hi Nyall,

I'm in South Africa where the comma is the official decimal separator. 
If I set my locale to South Africa ZAF (both on Ubuntu Linux and 
Windows) then a comma is expected as the decimal separator. However, I 
have met very few people in South Africa who actually use a comma, or 
even know that it is our "official" decimal separator. Everyone uses a 
decimal point.

This leads to problems in QGIS, however. I'm using QGIS Master on Ubuntu 
17.04 set to locale ZAF and if, for example, I want to change a stroke 
width in the Styling Dock then this is what happens:

- I initially see the default stroke width displayed as 0,26 Millimeter.

- If I change the value by using the spinner all is fine. One click up 
and the value changes to 0,46.

- If I try type in a number such as 0,8 and push enter/tab the number is 
automatically changed to Hairline.

- If, instead, I type in the number with a decimal point 0.8 the number 
is accepted but the decimal point is automatically changed to a comma.

This is confusing, to say the least. The number has to be entered with a 
point but is displayed with a comma. For me the ideal would be to use a 
decimal point throughout and ditch the comma.

Frank.



From rdmailings at duif.net  Sat Jul  8 00:58:55 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 8 Jul 2017 09:58:55 +0200
Subject: [QGIS-Developer] Value entry using comma as decimal separator?
In-Reply-To: <CAB28AshpWBzJ0=+eJ7RAj6aOOB7N3kk7rmvV+3y-9SWWN8dRQg@mail.gmail.com>
References: <CAB28AshpWBzJ0=+eJ7RAj6aOOB7N3kk7rmvV+3y-9SWWN8dRQg@mail.gmail.com>
Message-ID: <612bfa5e-327c-bd30-6779-2ceabc6a587d@duif.net>

On 08-07-17 01:11, Nyall Dawson wrote:

> It's a trivial change to make to get the spin boxes to accept the
> local decimal separator, but this would prevent users entering "5.5"
> in those locales.
> 
> Can someone from one of these affected regions let me know what the
> correct behavior should be? I don't want to make the change if it
> breaks entry of 5.5 and that's the standard used in those locales.

My personal view:

In The Netherlands we also use comma as a decimal separator (don't most
european countries do?), and though I never use the Dutch locale myself,
I know ALL governmental organisations I've been run the Dutch
QGIS/localse just because Windows there is in Dutch (and set the Dutch
locale).

I also know in the Spreadsheet world this gives A LOT of trouble because
most average users are not even aware what 'locale' they are using... So
people sending a us-locale spreadsheet to a dutch-locale user is often
in trouble....

This makes for example so that in modern Banking web applications they
check and you can use both , and . as decimal separator (probably there
is some heuristic in which they check:
- if there is only one type of separator
- if there is one, and it is just 2 position from the end
- it is used as decimal separator
etc etc
But... that is easier when you are only doing currency numbers...

I would not try to fight this locale war, or try to be smarter then
Qt/Windows:
IF people use a 'comma'-locale, they should use comma.
IF they do not like that: use us-locale

It is the same problem with the character encoding in shapefiles. People
are not aware of what they do, but 'we' as part of the Qt or Windows
should not try to be smarter then that world we are part of.

Untill the rest of the world come to their senses and start using the
comma as separator, use 24hr clocks (well preferably 100...), meters,
kilograms etc etc...

Regards,

Richard Duivenvoorde

From matthias at opengis.ch  Sat Jul  8 01:13:44 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Sat, 8 Jul 2017 10:13:44 +0200
Subject: [QGIS-Developer] QGIS 3.0 beta
Message-ID: <257d47f5-2d01-1d41-8c56-023c54029472@opengis.ch>

Hi all,

Not too far away we will enter feature freeze for QGIS 3.0 and will be
trying to polish the next release as much as possible.

During this time, a lot of testing will need to be done in order to be
able to best spend the bugfixing time. There are a handful of people who
regularly test nightlies and report bugs (thanks!).

I wonder if it's possible to attract more testers for the next release
by providing a "beta".

I think releasing a version labelled "beta" at the beginning of the
feature freeze (and another one half way through) will make more people
aware of the upcoming release. This can lead to additional important
testing from audience which otherwise would only "test" the final
release (with a lower acceptance of bugs). Besides that, I think it will
also be a good signal for devs to start porting plugin code and a very
good preparation for end users marketing-wise.

It will be best served with a blog post explaining how critical the
bugfixing phase is for a release and how resources for this are allocated.

It's just an idea I had in mind for some time. Does anyone dislike it?

Thanks
Matthias

From rdmailings at duif.net  Sat Jul  8 01:50:54 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 8 Jul 2017 10:50:54 +0200
Subject: [QGIS-Developer] QGIS 3.0 beta
In-Reply-To: <257d47f5-2d01-1d41-8c56-023c54029472@opengis.ch>
References: <257d47f5-2d01-1d41-8c56-023c54029472@opengis.ch>
Message-ID: <00382d8e-2e7d-f550-4a7e-4489b52ad487@duif.net>

On 08-07-17 10:13, Matthias Kuhn wrote:
> Hi all,
> 
> Not too far away we will enter feature freeze for QGIS 3.0 and will be
> trying to polish the next release as much as possible.
> 
> During this time, a lot of testing will need to be done in order to be
> able to best spend the bugfixing time. There are a handful of people who
> regularly test nightlies and report bugs (thanks!).
> 
> I wonder if it's possible to attract more testers for the next release
> by providing a "beta".
> 
> I think releasing a version labelled "beta" at the beginning of the
> feature freeze (and another one half way through) will make more people
> aware of the upcoming release. This can lead to additional important
> testing from audience which otherwise would only "test" the final
> release (with a lower acceptance of bugs). Besides that, I think it will
> also be a good signal for devs to start porting plugin code and a very
> good preparation for end users marketing-wise.
> 
> It will be best served with a blog post explaining how critical the
> bugfixing phase is for a release and how resources for this are allocated.
> 
> It's just an idea I had in mind for some time. Does anyone dislike it?

Yep, I was thinking about something like this too: BUT there is always
the tension between willing to show and test a new version AND giving
the average user an as stable possible QGIS to work with.
So either work with some beta's OR consider 3.0 (and 3.2?) more or less
as versions which will have some growing pains? Though that is hard to
sell to the average user I think...

Other wild ideas:
- call 3.0 something like: Beta, Troje or Atlantis ;-)

And do a lot of communication that people should really test it in the
actual/real workflows to catch actual usability issues. But also... do
keep in mind that due to the changes in api's, code, Qt, Python etc etc
it is more likely that things will break or crash.

Yesterday I hit the first crash screen (on a Windows machine):

https://files.gitter.im/qgis/QGIS/kjUe/image.png
(ended up as https://issues.qgis.org/issues/16810 by the way)

Nice work, Nathan!

And looking at it, 3.0/beta should probably also have debug info so the
Stack Trace is as descriptive as possible?

Regards,

Richard Duivenvoorde


From kimaidou at gmail.com  Sat Jul  8 01:54:15 2017
From: kimaidou at gmail.com (kimaidou)
Date: Sat, 8 Jul 2017 10:54:15 +0200
Subject: [QGIS-Developer] FOSS4G Europe in Paris next week
In-Reply-To: <3341194.uhkxaFLITa@tatras>
References: <CABgOYCcY2RmMBgKOqks5w4sK1G--5PdOrVr0sZnp2pQBw+CVyQ@mail.gmail.com>
 <3341194.uhkxaFLITa@tatras>
Message-ID: <CAMKXKO6tD0MeU+3e9MPmqg5x=mMp=0s_KwnA2AQ9X20OpVXgnA@mail.gmail.com>

Hi all

I will be present too !

2017-07-05 16:36 GMT+02:00 Yves Jacolin <yjacolin at free.fr>:

> R√©gis,
>
> I will be present all week so even for the code sprint!
>
> Y.
> On mercredi 5 juillet 2017 16:16:46 CEST R√©gis Haubourg wrote:
> > Hi all,
> > within two weeks  the FOSS4G Europe is held near Paris at the National
> > Geographic Institute School (ENSG) from tuesday 18th to 22nd of July.
> >
> > Will some of QGIS developers or other involved parties be there? That
> would
> > be nice to meet some of you.
> >
> >
> > Concerning QGIS, there will be some interesting talks or workshops:
> >
> > - GML application schema made easy in GDAL/OGR and QGIS workshop
> > - Lizmap workshop
> >
> > - QGIS server refactoring for QGIS 3 - talk
> > - Data Processing with QGIS -talk
> >
> >
> > See you there!
> >
> > Cheers
> > R√©gis (and all the Oslandia Team)
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170708/b3967376/attachment.html>

From wondim81 at gmail.com  Sat Jul  8 02:48:29 2017
From: wondim81 at gmail.com (Wondimagegn Tesfaye)
Date: Sat, 8 Jul 2017 12:48:29 +0300
Subject: [QGIS-Developer] QGIS 3.0 beta
In-Reply-To: <257d47f5-2d01-1d41-8c56-023c54029472@opengis.ch>
References: <257d47f5-2d01-1d41-8c56-023c54029472@opengis.ch>
Message-ID: <CAGa0f9MgKdL2j1CagxBWGNiWOLMFB5xr=Dkbdb7knsw3g=u08A@mail.gmail.com>

Dear Mattias,

Thank you for the hard work! This is a good approach. Starting to testing
the beta before the feature freeze is good to incorporate more feedback
from the users and developers.

Regards,
Wondimagegn

On Jul 8, 2017 11:13, "Matthias Kuhn" <matthias at opengis.ch> wrote:

> Hi all,
>
> Not too far away we will enter feature freeze for QGIS 3.0 and will be
> trying to polish the next release as much as possible.
>
> During this time, a lot of testing will need to be done in order to be
> able to best spend the bugfixing time. There are a handful of people who
> regularly test nightlies and report bugs (thanks!).
>
> I wonder if it's possible to attract more testers for the next release
> by providing a "beta".
>
> I think releasing a version labelled "beta" at the beginning of the
> feature freeze (and another one half way through) will make more people
> aware of the upcoming release. This can lead to additional important
> testing from audience which otherwise would only "test" the final
> release (with a lower acceptance of bugs). Besides that, I think it will
> also be a good signal for devs to start porting plugin code and a very
> good preparation for end users marketing-wise.
>
> It will be best served with a blog post explaining how critical the
> bugfixing phase is for a release and how resources for this are allocated.
>
> It's just an idea I had in mind for some time. Does anyone dislike it?
>
> Thanks
> Matthias
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170708/40c7707c/attachment-0001.html>

From rdmailings at duif.net  Sat Jul  8 03:33:45 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 8 Jul 2017 12:33:45 +0200
Subject: [QGIS-Developer] [UI] Close the Data Source Manager after loading a
	layer or not?
Message-ID: <e615efe9-383b-6718-0af9-3289a552741a@duif.net>

Hi,

During some testing of current master/2.99 I use the Data Source Manager
dialog (one button to load them all) often to load just one layer or
service.

For this use-case (which is: the user just opens one layer and wants to
do something with it) it would be best when the dialog just closes itself.

Off course if you are creating a big project with a lot of layers, you
want the dialog to stay open until you are ready...

I was thinking: is it an idea to give the dialog a checkbox 'Close
Dialog after opening datasource'? So a user (like me) will have it
always close immediately and when you are recreating a bigger project it
can stay open?

Thoughts?

Regards,

Richard Duivenvoorde

PS I think there is another option somewhere to which has "Keep dialog
open after....", but I could not find it easily where I saw that.


From rdmailings at duif.net  Sat Jul  8 03:43:48 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 8 Jul 2017 12:43:48 +0200
Subject: [QGIS-Developer] QGIS 3.0 beta
In-Reply-To: <CAGa0f9MgKdL2j1CagxBWGNiWOLMFB5xr=Dkbdb7knsw3g=u08A@mail.gmail.com>
References: <257d47f5-2d01-1d41-8c56-023c54029472@opengis.ch>
 <CAGa0f9MgKdL2j1CagxBWGNiWOLMFB5xr=Dkbdb7knsw3g=u08A@mail.gmail.com>
Message-ID: <af0e6aba-9db1-5214-18cb-80edbe8f6611@duif.net>

On 08-07-17 11:48, Wondimagegn Tesfaye wrote:
> Dear Mattias, 
> 
> Thank you for the hard work! This is a good approach. Starting to
> testing the beta before the feature freeze is good to incorporate more
> feedback from the users and developers.

Just for clarity, there IS already a possibility to test/view current
master (3.0 development version == 2.99) for Windows users:

Either download the latest weekly 2.99 standalone installer from:
http://qgis.org/downloads/weekly/

OR use

OSGeo4W package manager and install the "qgis-dev: QGIS nightly build of
the development branch"
AND to see the most info, ALSO install "qgis-dev-pdb: Debugging symbols
for QGIS nightly build of the development branch"


From anitagraser at gmx.at  Sat Jul  8 04:36:55 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Sat, 8 Jul 2017 13:36:55 +0200
Subject: [QGIS-Developer] [UI] Close the Data Source Manager after
 loading a layer or not?
In-Reply-To: <e615efe9-383b-6718-0af9-3289a552741a@duif.net>
References: <e615efe9-383b-6718-0af9-3289a552741a@duif.net>
Message-ID: <CAFFV8Fhhsv5PnqshWJHHKv9Zyjmo3q9pKU+v7R7mC=d-ODP7gw@mail.gmail.com>

On Sat, Jul 8, 2017 at 12:33 PM, Richard Duivenvoorde <rdmailings at duif.net>
wrote:
>
> PS I think there is another option somewhere to which has "Keep dialog
> open after....", but I could not find it easily where I saw that.
>


‚ÄãIn Processing, you can define if the dialog should stay open after a tool
has finished successfully.

I always enable that because I usually want to check the log output.

Anita‚Äã
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170708/6b5b9595/attachment.html>

From zrx8 at freemail.hu  Sat Jul  8 06:52:58 2017
From: zrx8 at freemail.hu (zrx)
Date: Sat, 8 Jul 2017 15:52:58 +0200 (CEST)
Subject: [QGIS-Developer] rule based style copy+paste bug
Message-ID: <freemail.20170708155258.68001.1@fmxmldata02.freemail.hu>

Hello,

Excuse me for posting to the developers list, as I am not a QGIS developer, but the bug tracker seems to be even more difficult to access.

I'd like to call your attention a problem present at least since 2.16, and which is still there in 2.18.10 :

I have an approximately 50 years period of data to be presented geographically, and each year's corresponding layer should be able to be turned on/off. I created the first year's layer, then tried to copy+paste it, and modify the year in each layer's rule. The problem is that the pasted layers don't seem to be independent. It looks like they are created by some kind of shallow copy, thus sharing some of their attributes and data fields, like visibility for example.

Please correct this, or give me some hint if I make something wrong. Thanks in advance,
Peter

From jef at norbit.de  Sat Jul  8 09:50:12 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sat, 8 Jul 2017 18:50:12 +0200
Subject: [QGIS-Developer] QGIS 3.0 beta
In-Reply-To: <af0e6aba-9db1-5214-18cb-80edbe8f6611@duif.net>
References: <257d47f5-2d01-1d41-8c56-023c54029472@opengis.ch>
 <CAGa0f9MgKdL2j1CagxBWGNiWOLMFB5xr=Dkbdb7knsw3g=u08A@mail.gmail.com>
 <af0e6aba-9db1-5214-18cb-80edbe8f6611@duif.net>
Message-ID: <20170708165012.mlcpzoyahw55hbbt@norbit.de>

Hi Richard,

On Sat, 08. Jul 2017 at 12:43:48 +0200, Richard Duivenvoorde wrote:
> Just for clarity, there IS already a possibility to test/view current
> master (3.0 development version == 2.99) for Windows users:
> 
> Either download the latest weekly 2.99 standalone installer from:
> http://qgis.org/downloads/weekly/
> 
> OR use
> 
> OSGeo4W package manager and install the "qgis-dev: QGIS nightly build of
> the development branch"

OR qgis-full-dev which also depends on a bunch of additional useful packages.

> AND to see the most info, ALSO install "qgis-dev-pdb: Debugging symbols
> for QGIS nightly build of the development branch"

AND now alos on qgis-dev-pdb.   PLUS qgis-full-dev is the base of the weekly
NSIS package.


J√ºrgen

-- 
J√ºrgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra√üe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170708/dd5c3737/attachment.sig>

From saxri89 at gmail.com  Sat Jul  8 17:31:54 2017
From: saxri89 at gmail.com (xristosss20)
Date: Sat, 8 Jul 2017 17:31:54 -0700 (MST)
Subject: [QGIS-Developer] why stop work python.exe in pyqgis standalone
	script anytime?
Message-ID: <1499560314129-5327125.post@n6.nabble.com>

i want to create a simple standalone pyqgis script but i have some
Unexpectedly errors.

here my .bat file :

@echo off
SET OSGEO4W_ROOT=C:\OSGeo4W
call "%OSGEO4W_ROOT%"\bin\o4w_env.bat
call "%OSGEO4W_ROOT%"\apps\grass\grass-7.2.1\etc\env.bat
@echo off
path
%PATH%;%OSGEO4W_ROOT%\apps\qgis\bin;%OSGEO4W_ROOT%\apps\grass\grass-7.2.1\lib
set QGIS_PREFIX_PATH=%OSGEO4W_ROOT:\=/%/apps/qgis
SET PYCHARM="C:\Program Files\JetBrains\PyCharm 2017.1.4\bin\pycharm.exe"

set PYTHONPATH=%PYTHONPATH%;%OSGEO4W_ROOT%\apps\qgis\python;
set PYTHONPATH=%PYTHONPATH%;%OSGEO4W_ROOT%\apps\Python27\Lib\site-packages;

set QGISPATH=%OSGEO4W_ROOT%\apps\qgis

start "PyCharm aware of QGIS" /B %PYCHARM% %*
first i try to see if processing tool work nice.

here the code :

def test1():
    qgs = QgsApplication([],True)
    QgsApplication.setPrefixPath("C:/OSGeo4W/apps/qgis", True)
    qgs.initQgis()
    sys.path.append('C:/OSGeo4W/apps/qgis/python/plugins')
    import processing
    from processing.core.Processing import Processing
    Processing.initialize()
    print processing.alglist()
    qgs.exitQgis()
test1()
work fine i take the list correct

after i try to see if work algorithm where i want

here the code :

def slope():
    qgs = QgsApplication([],True)
    QgsApplication.setPrefixPath("C:/OSGeo4W/apps/qgis", True)
    qgs.initQgis()
    sys.path.append('C:/OSGeo4W/apps/qgis/python/plugins')
    import processing
    from processing.core.Processing import Processing
    Processing.initialize()
    print processing.alghelp('gdalogr:slope')
    qgs.exitQgis()

slope()
and i take this message :

C:\OSGeo4W\bin\python.exe C:/Users/username/PycharmProjects/untitled/test.py
ALGORITHM: Slope
    INPUT <ParameterRaster>
    BAND <ParameterNumber>
    COMPUTE_EDGES <ParameterBoolean>
    ZEVENBERGEN <ParameterBoolean>
    AS_PERCENT <ParameterBoolean>
    SCALE <ParameterNumber>
    OUTPUT <OutputRaster>


None

Process finished with exit code 0
but anytime to try to run some script with complete code like this :

from qgis.core import QgsApplication
import sys
from qgis.core import QgsRasterLayer
from PyQt4.QtCore import QFileInfo


def slope(raster_path,slope_path):
    qgs = QgsApplication([],True)
    QgsApplication.setPrefixPath("C:/OSGeo4W/apps/qgis", True)
    qgs.initQgis()
    sys.path.append('C:/OSGeo4W/apps/qgis/python/plugins')
    import processing
    from processing.core.Processing import Processing
    Processing.initialize()
    fileInfo=QFileInfo(raster_path)
    baseName=fileInfo.baseName()
    rLayer = QgsRasterLayer(fileInfo.filePath(), baseName)
   
processing.runalg('gdalogr:slope',rLayer,1.0,True,True,False,1.0,slope_path)
    qgs.exitQgis()

raster_path="C:/Users/username/Desktop/dem.tif"
slope_path="C:/Users/username/Desktop/slope.tif"
slope(raster_path,slope_path)
then before finish script the python.exe stop running :

<http://osgeo-org.1560.x6.nabble.com/file/n5327125/pytho.jpg> 

and i take this message in pycharm :

C:\OSGeo4W\bin\python.exe
C:/Users/username/PycharmProjects/untitled/test1.py

Process finished with exit code -1073741819 (0xC0000005)
that message i take for all scripts with different python code and specific
different algorithms if i want to run it standalone using pycharm editor.

any idea why python.exe stop work anytime ?



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/why-stop-work-python-exe-in-pyqgis-standalone-script-anytime-tp5327125.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From a.neumann at carto.net  Sun Jul  9 06:21:29 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Sun, 9 Jul 2017 15:21:29 +0200
Subject: [QGIS-Developer] rule based style copy+paste bug
In-Reply-To: <freemail.20170708155258.68001.1@fmxmldata02.freemail.hu>
References: <freemail.20170708155258.68001.1@fmxmldata02.freemail.hu>
Message-ID: <1396faa6-22e6-5d95-170c-9e22cd971d60@carto.net>

Hi Peter,

How did you copy and paste the layers?

In the QGIS GUI or in the text editor direclty in the XML file? If the 
latter, then this might be the reason for you troubles. Each layer in 
QGIS is identified with unique ids. If you copy/paste directly in the 
XML structure of a .qgs file, you are also duplicating these unique ids, 
which might explain your troubles.

You know, if all you want is  to filter by year, you don't need a layer 
for each year, but you can have a single layer and create a rule for 
each year. Rules can be turned on and off just like layers.

Or you use the QGIS time manager to loop through the years.

--------------

About bug tracker:

What troubles do you have with the bug tracker? Why is it difficult for 
you to access? The correct address is https://issues.qgis.org/ - you 
need an OSGEO login or an OpenID. All information is at 
http://www.qgis.org/en/site/getinvolved/development/bugreporting.html#qgis-bugreporting

If you don't have an OSGEO account, you first have to ask for a Mantra. 
This is a measurment against spammers - because OSGEO mailing lists were 
abused by spammers. You first have to prove that you are really an 
indiviual person interested in OSGEO.

Please be a bit more precise why you find the QGIS bug tracker difficult 
to access.

Hope this helps,
Andreas

On 08.07.2017 15:52, zrx wrote:
> Hello,
>
> Excuse me for posting to the developers list, as I am not a QGIS developer, but the bug tracker seems to be even more difficult to access.
>
> I'd like to call your attention a problem present at least since 2.16, and which is still there in 2.18.10 :
>
> I have an approximately 50 years period of data to be presented geographically, and each year's corresponding layer should be able to be turned on/off. I created the first year's layer, then tried to copy+paste it, and modify the year in each layer's rule. The problem is that the pasted layers don't seem to be independent. It looks like they are created by some kind of shallow copy, thus sharing some of their attributes and data fields, like visibility for example.
>
> Please correct this, or give me some hint if I make something wrong. Thanks in advance,
> Peter
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From pierre.loicq at univ-tours.fr  Sun Jul  9 12:51:31 2017
From: pierre.loicq at univ-tours.fr (Pierre_Loicq)
Date: Sun, 9 Jul 2017 12:51:31 -0700 (MST)
Subject: [QGIS-Developer] Classification of values around zero
Message-ID: <1499629891347-5327167.post@n6.nabble.com>

Hi,

At the office, I often need to create map of modeled biases (float values),
where it make sense to have a first class centered on zero
(symbology/graduated). I learned C++ some months ago and would like to add
this functionality as a first application, on the  master branch. The
current classification methods are: Equal interval, quantile/equal count,
jenks, Standard deviation, Pretty breaks. Although an option (ticking box)
"around zero"  may be applied for each of them (maybe not for Jenks), I
think it's better to add a classification method in the list of methods. And
it would probably run on equal intervals.

Thank you
Pierre



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Classification-of-values-around-zero-tp5327167.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From tim at kartoza.com  Sun Jul  9 15:14:13 2017
From: tim at kartoza.com (Tim Sutton)
Date: Mon, 10 Jul 2017 00:14:13 +0200
Subject: [QGIS-Developer] QGIS 3.0 beta
In-Reply-To: <20170708165012.mlcpzoyahw55hbbt@norbit.de>
References: <257d47f5-2d01-1d41-8c56-023c54029472@opengis.ch>
 <CAGa0f9MgKdL2j1CagxBWGNiWOLMFB5xr=Dkbdb7knsw3g=u08A@mail.gmail.com>
 <af0e6aba-9db1-5214-18cb-80edbe8f6611@duif.net>
 <20170708165012.mlcpzoyahw55hbbt@norbit.de>
Message-ID: <CAES-DZS9qGG4Sc4-n_=StkrWH7tGstMQg2N5hiF7oRxN=fL8Tw@mail.gmail.com>

Hi


I would lean towards -1 for a beta - we have had this same debate numerous
times before and tried using beta's before. I don't think a beta will
substantially increase testing uptake and it has the rather bad side effect
that people will be using old code as their reference point (as opposed to
using the nightly builds where they can see the latest fixes at any time).

I'm happy to keep quiet if others think it is worth doing...

Regards

Tim

On Sat, Jul 8, 2017 at 6:50 PM, J√ºrgen E. Fischer <jef at norbit.de> wrote:

> Hi Richard,
>
> On Sat, 08. Jul 2017 at 12:43:48 +0200, Richard Duivenvoorde wrote:
> > Just for clarity, there IS already a possibility to test/view current
> > master (3.0 development version == 2.99) for Windows users:
> >
> > Either download the latest weekly 2.99 standalone installer from:
> > http://qgis.org/downloads/weekly/
> >
> > OR use
> >
> > OSGeo4W package manager and install the "qgis-dev: QGIS nightly build of
> > the development branch"
>
> OR qgis-full-dev which also depends on a bunch of additional useful
> packages.
>
> > AND to see the most info, ALSO install "qgis-dev-pdb: Debugging symbols
> > for QGIS nightly build of the development branch"
>
> AND now alos on qgis-dev-pdb.   PLUS qgis-full-dev is the base of the
> weekly
> NSIS package.
>
>
> J√ºrgen
>
> --
> J√ºrgen E. Fischer           norBIT GmbH             Tel.
> +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstra√üe 13          Fax.
> +49-4931-918175-50
> Software Engineer           D-26506 Norden
> http://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
------------------------------------------------------------------------------------------
‚Äã

Tim Sutton
Visit http://kartoza.com to find out about open source:
 * Desktop GIS programming services
 * Geospatial web development
* GIS Training
* Consulting Services
Skype: timlinux Irc: timlinux on #qgis at freenode.net
Tim is a member of the QGIS Project Steering Committee
-------------------------------------------------------------------------------------------
Kartoza is a merger between Linfiniti and Afrispatial
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/0ffc1023/attachment.html>

From manisandro at gmail.com  Mon Jul 10 04:30:58 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Mon, 10 Jul 2017 13:30:58 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <a578492c-a193-1f6a-c24f-3091a62696dd@gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <df68b08f-3a9e-b06a-de6e-5ebdefba8fd7@gmail.com>
 <8a056c04-ac96-999b-8944-6876f980a2ce@gmail.com>
 <3075694.1tgngYB01I@even-i700>
 <a578492c-a193-1f6a-c24f-3091a62696dd@gmail.com>
Message-ID: <9186b042-3244-334e-965b-47e509036412@gmail.com>


On 06.07.2017 11:00, Sandro Mani wrote:
>
>
> On 06.07.2017 10:57, Even Rouault wrote:
>>
>> On jeudi 6 juillet 2017 10:45:21 CEST Sandro Mani wrote:
>>
>> > On 05.07.2017 14:56, Sandro Mani wrote:
>>
>> > >> That could potentially be done using the current OGR API. Basically
>>
>> > >> in pseudo code, to execute before executing REPACK
>>
>> > >>
>>
>> > >> OGR_L_ResetReading(layer)
>>
>> > >>
>>
>> > >> char** ignored_fields = CSLAddString(NULL, "OGR_GEOMETRY" );
>>
>> > >>
>>
>> > >> OGR_L_SetIgnoredFields( layer, ignored_fields); // for performance.
>>
>> > >>
>>
>> > >> CSLDestroy(ignored_fields);
>>
>> > >>
>>
>> > >> OGR_L_SetAttributeFilter( layer, NULL )
>>
>> > >>
>>
>> > >> OGR_L_SetSpatialFilter( layer, NULL )
>>
>> > >>
>>
>> > >> std::map<GIntBig, GIntBig> mapOldIdToNewId;
>>
>> > >>
>>
>> > >> GIntBig newId = 0;
>>
>> > >>
>>
>> > >> while( feature = OGR_L_GetNextFeature(layer) )
>>
>> > >>
>>
>> > >> {
>>
>> > >>
>>
>> > >> mapOldIdToNewId[OGR_F_GetFID(feature)] = newId;
>>
>> > >>
>>
>> > >> newId ++;
>>
>> > >>
>>
>> > >> OGR_F_destroy(feature);
>>
>> > >>
>>
>> > >> }
>>
>> > >>
>>
>> > >> OGR_L_SetIgnoredFields( layer, NULL );
>>
>> > >
>>
>> > > Ok cool, that sounds like a plan - I'll give it a shot.
>>
>> >
>>
>> > Hmm so while on the provider side it works well, for the geometry
>>
>> > checker it is turning out to be pretty hard to deal with the changing
>>
>> > feature ids (just to cite one example: error fixed by merging geometry
>>
>> > of feature 10 with that of 11, results in {deleted: 10, updated: 11},
>>
>> > but after the feature id adjustment this would read {deleted: 10,
>>
>> > updated: 10}, meaning one would need to keep track that deleted: 10
>>
>> > refers to the old featureid). Not saying that it isn't doable, but the
>>
>> > complexitiy of properly handling the feature id changes is non-trivial.
>>
>> >
>>
>> > So, other suggestion: any objections if I add a method to
>>
>> > QgsVectorDataProvider to temporarily freeze repacking? I could also add
>>
>> > a notification informing the user that the shapefile should not be used
>>
>> > in other applications while repacking is frozen.
>>
>> My feeling is that QgsOgrDataProvider is already complicated enough 
>> with its existing tricks. I'm not sure this temporary freeze 
>> repacking is a right move (how would you decide when you do it ? and 
>> I'm pretty sure users will not get it, or will have issues if they 
>> start an algorithm with an external tool that requires packed shapefiles)
>>
> It would be something I would call explicitly while the geometry 
> checker is active, I think it is safe to assume that users don't 
> expect that they can operate on the shapefile while the geometry 
> checker is processing it.  It would not add much complexity to the 
> provider, just a flag that repacking is frozen, and a setter to set 
> that flag. When the flag is set to false, the shapefile is repacked.
>
I did some playing around and came up with some FeatureId mapping code 
which is pretty space efficient (basically requiring just 
3*nDeletedFeatures entries), see below.

The code however assumes that the gaps in the fid-sequence are filled by 
decreasing the fids after the gap, which may be pretty specific to the 
OGR/Shapefile behaviour. Hence in my view such code should really belong 
into the OGR provider (or perhaps even ogr itself) and not in the 
plugin. Thoughts?

Sandro

-------

#include <algorithm>
#include <iostream>
#include <QMap>
#include <QVector>

typedef int QgsFeatureId;


class FeatureMapping  {

public:
   QgsFeatureId stableToProvider(QgsFeatureId stableId) const
   {
     if(mDeletedStableIds.contains(stableId)){
       return -1;
     }
     // providerId = stableId - nDeletedBeforeStableId
     int nDeletedBeforeStableId = std::lower_bound(mDeletedStableIds.begin(), mDeletedStableIds.end(), stableId) - mDeletedStableIds.begin();
     return stableId - nDeletedBeforeStableId;
   }

   QgsFeatureId providerToStable(QgsFeatureId providerId) const
   {
     int i = 0, n = mProviderToStableOffsetKeys.size(), offset = 0;
     while(i < n && mProviderToStableOffsetKeys[i] <= providerId) {
       offset += mProviderToStableOffsetValues[i++];
     }
     return providerId + offset;
   }

   void updateFeatureIdMap(const QList<QgsFeatureId> &deletedIds)
   {
     for(QgsFeatureId fid : deletedIds) {
       mDeletedStableIds.append(providerToStable(fid));
     }
     std::sort(mDeletedStableIds.begin(), mDeletedStableIds.end());
     int n = mProviderToStableOffsetKeys.size();
     for(QgsFeatureId fid : deletedIds) {
       int pos = std::lower_bound(mProviderToStableOffsetKeys.begin(), mProviderToStableOffsetKeys.end(), fid) - mProviderToStableOffsetKeys.begin();
       if(pos < n && mProviderToStableOffsetKeys[pos] == fid) {
         mProviderToStableOffsetValues[pos] += 1;
       } else {
         mProviderToStableOffsetKeys.insert(pos, fid);
         mProviderToStableOffsetValues.insert(pos, 1);
         ++n;
       }
       if(pos + 1 != n && mProviderToStableOffsetKeys[pos+1] -1 == fid) {
         mProviderToStableOffsetValues[pos] += mProviderToStableOffsetValues[pos+1];
         mProviderToStableOffsetKeys.removeAt(pos + 1);
         mProviderToStableOffsetValues.removeAt(pos + 1);
         --n;
       }
       ++pos;
       while(pos < n) {
           mProviderToStableOffsetKeys[pos++] -= 1;
       }
     }
     std::cout << "offsets = {";
     for(int i = 0, n = mProviderToStableOffsetKeys.size(); i < n; ++i) {
       std::cout << mProviderToStableOffsetKeys[i] << ": " << mProviderToStableOffsetValues[i] << ", ";
     }
     std::cout << "\b\b}" << std::endl;
   }
   int numDeleted() const{ return mDeletedStableIds.size(); }
private:
   QVector<QgsFeatureId> mProviderToStableOffsetKeys;
   QVector<int> mProviderToStableOffsetValues;
   QVector<QgsFeatureId> mDeletedStableIds;
};

void printMapping(const FeatureMapping& mapping) {
   std::cout << "------" << std::endl;
   for(int i = 0; i < 10; ++i) {
     std::cout << i << " -> " << mapping.stableToProvider(i) << std::endl;
   }
   std::cout << "------" << std::endl;
   for(int i = 0, n = 10 - mapping.numDeleted(); i < n; ++i) {
     std::cout << mapping.providerToStable(i) << " <- " << i << std::endl;
   }
   std::cout << "------" << std::endl;
}

int main(int argc, char* argv[]){
   FeatureMapping mapping;

   printMapping(mapping);
   while(true) {
     std::cout << "> ";
     std::string command;
     std::getline(std::cin, command);
     if(command.empty()) {
       continue;
     }else if(command[0] == 'q') {
       break;
     }else if(command[0] == 'd') {
       QgsFeatureId num = std::atoi(command.substr(1).c_str());
       std::cout << "* Delete: stable " << num << ", provider: " << mapping.stableToProvider(num) << std::endl;
       mapping.updateFeatureIdMap({mapping.stableToProvider(num)});
       printMapping(mapping);
     } else {
       std::cout << "Unknown command" << std::endl;
     }
   }

   return 0;
}



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/c57458cf/attachment-0001.html>

From even.rouault at spatialys.com  Mon Jul 10 04:58:57 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 10 Jul 2017 13:58:57 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <9186b042-3244-334e-965b-47e509036412@gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <a578492c-a193-1f6a-c24f-3091a62696dd@gmail.com>
 <9186b042-3244-334e-965b-47e509036412@gmail.com>
Message-ID: <2643131.9G3uCidT8S@even-i700>

> I did some playing around and came up with some FeatureId mapping code
> which is pretty space efficient (basically requiring just
> 3*nDeletedFeatures entries), see below.
> 
> The code however assumes that the gaps in the fid-sequence are filled by
> decreasing the fids after the gap, which may be pretty specific to the
> OGR/Shapefile behaviour. 

This should clearly be restricted to Shapefiles. Other drivers don't have this compaction logic 
and will let happily holes in the feature ids.

> Hence in my view such code should really belong
> into the OGR provider (or perhaps even ogr itself) and not in the
> plugin. Thoughts?

Regarding putting that in OGR itself, there's no such API for that right now, and I'm not 
completely clear of the value to add one (specific use case, for a single driver)

Perhaps the QGIS OGR provider would be a better place for now.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/138fa822/attachment.html>

From bernhard.stroebl at jena.de  Mon Jul 10 05:15:46 2017
From: bernhard.stroebl at jena.de (=?UTF-8?Q?Bernhard_Str=c3=b6bl?=)
Date: Mon, 10 Jul 2017 14:15:46 +0200
Subject: [QGIS-Developer] Value entry using comma as decimal separator?
In-Reply-To: <612bfa5e-327c-bd30-6779-2ceabc6a587d@duif.net>
References: <CAB28AshpWBzJ0=+eJ7RAj6aOOB7N3kk7rmvV+3y-9SWWN8dRQg@mail.gmail.com>
 <612bfa5e-327c-bd30-6779-2ceabc6a587d@duif.net>
Message-ID: <2f5e52a4-ef66-5cb1-200d-80a1d8d9ffd7@jena.de>

Hi,
just my two cents: My users are working in a German administration and 
they depend on QGIS having a German UI. They will be puzzled if they are 
supposed to use a point instead of the regular komma as decimal 
separator. On the other hand they won't expect "5.5" to be a regular 
entry into a decimal field either.

Bernhard

Am 08.07.2017 um 09:58 schrieb Richard Duivenvoorde:
> On 08-07-17 01:11, Nyall Dawson wrote:
>
>> It's a trivial change to make to get the spin boxes to accept the
>> local decimal separator, but this would prevent users entering "5.5"
>> in those locales.
>>
>> Can someone from one of these affected regions let me know what the
>> correct behavior should be? I don't want to make the change if it
>> breaks entry of 5.5 and that's the standard used in those locales.
>
> My personal view:
>
> In The Netherlands we also use comma as a decimal separator (don't most
> european countries do?), and though I never use the Dutch locale myself,
> I know ALL governmental organisations I've been run the Dutch
> QGIS/localse just because Windows there is in Dutch (and set the Dutch
> locale).
>
> I also know in the Spreadsheet world this gives A LOT of trouble because
> most average users are not even aware what 'locale' they are using... So
> people sending a us-locale spreadsheet to a dutch-locale user is often
> in trouble....
>
> This makes for example so that in modern Banking web applications they
> check and you can use both , and . as decimal separator (probably there
> is some heuristic in which they check:
> - if there is only one type of separator
> - if there is one, and it is just 2 position from the end
> - it is used as decimal separator
> etc etc
> But... that is easier when you are only doing currency numbers...
>
> I would not try to fight this locale war, or try to be smarter then
> Qt/Windows:
> IF people use a 'comma'-locale, they should use comma.
> IF they do not like that: use us-locale
>
> It is the same problem with the character encoding in shapefiles. People
> are not aware of what they do, but 'we' as part of the Qt or Windows
> should not try to be smarter then that world we are part of.
>
> Untill the rest of the world come to their senses and start using the
> comma as separator, use 24hr clocks (well preferably 100...), meters,
> kilograms etc etc...
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



__________ Information from ESET Mail Security, version of virus signature database 15722 (20170710) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From noreply at qgis.org  Mon Jul 10 05:41:22 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 10 Jul 2017 12:41:22 -0000
Subject: [QGIS-Developer] Plugin [1246] go2mapillary approval notification.
Message-ID: <20170710124122.20479.19151@320558c5528b>


Plugin go2mapillary approval by pcav.
The plugin version "[1246] go2mapillary 1.2" is now approved
Link: http://plugins.qgis.org/plugins/go2mapillary/

From regis.haubourg at gmail.com  Mon Jul 10 06:01:56 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 10 Jul 2017 15:01:56 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <2643131.9G3uCidT8S@even-i700>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <a578492c-a193-1f6a-c24f-3091a62696dd@gmail.com>
 <9186b042-3244-334e-965b-47e509036412@gmail.com>
 <2643131.9G3uCidT8S@even-i700>
Message-ID: <CABgOYCeOcdzqk7Lg+U+AzsFXMPuGgxvgmsq0NNjSP9LKQxUCXA@mail.gmail.com>

Hi,

This should clearly be restricted to Shapefiles. Other drivers don't have
> this compaction logic and will let happily holes in the feature ids.


What about Mapinfo TAB, which relies on DBF like shapefiles, and dbf files?
Just asking, I didn't dig into that in depth.
R√©gis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/4376189d/attachment.html>

From even.rouault at spatialys.com  Mon Jul 10 06:12:47 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 10 Jul 2017 15:12:47 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <CABgOYCeOcdzqk7Lg+U+AzsFXMPuGgxvgmsq0NNjSP9LKQxUCXA@mail.gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <2643131.9G3uCidT8S@even-i700>
 <CABgOYCeOcdzqk7Lg+U+AzsFXMPuGgxvgmsq0NNjSP9LKQxUCXA@mail.gmail.com>
Message-ID: <1738591.dH2YPQ2QbH@even-i700>

On lundi 10 juillet 2017 15:01:56 CEST R√©gis Haubourg wrote:
> Hi,
> 
> This should clearly be restricted to Shapefiles. Other drivers don't have
> 
> > this compaction logic and will let happily holes in the feature ids.
> 
> What about Mapinfo TAB, which relies on DBF like shapefiles, and dbf files ?

Deleted records are flagged as such in the .dat/.dbf files (with '*' character , which is also 
what the Shapefile driver use for non-compacted deleted DBF records) and in the .map file. 
There's no compaction logic.

I don't remember of having heard about compatibility issues with MapInfo regarding this 
(but my memories can be wrong :-)), so I assume MapInfo does the same

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/20fe6f78/attachment.html>

From abrabacabra at openmailbox.org  Mon Jul 10 08:44:16 2017
From: abrabacabra at openmailbox.org (Patrice)
Date: Mon, 10 Jul 2017 11:44:16 -0400
Subject: [QGIS-Developer] qgis-bin.exe - Entry Point Not Found
In-Reply-To: <20170706185941.30308.75706@320558c5528b>
References: <20170706185941.30308.75706@320558c5528b>
Message-ID: <adced4f7-7c3b-7155-b2be-98dea2acd35c@openmailbox.org>

I just installed QGIS 2.18.9 on Windows 10 64 bits with the network 
install (64 bits) and I got this error (attached picture).







This was the version I had before formatting my computer and I am still 
using the same OS version as before.

I browsed to the folder and the DLL is indeed there. I have never seen 
that error before.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/2880d8ab/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mdjkeejagnadklmj.png
Type: image/png
Size: 8003 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/2880d8ab/attachment-0001.png>

From jea at hbaspecto.com  Mon Jul 10 09:32:00 2017
From: jea at hbaspecto.com (John Abraham)
Date: Mon, 10 Jul 2017 10:32:00 -0600
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
Message-ID: <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>

Is incremental drawing possible, especially for web features in the background?

I've been playing with some GPU based visualizers lately (in particular CityPhi from INRO https://www.inrosoftware.com/en/products/cityphi/ <https://www.inrosoftware.com/en/products/cityphi/> ) and switching back to QGIS and waiting for the maps to redraw on every single pan or zoom is extremely painful. 

GPU-drawn 3D visualizations at 30 frames per second is probably not a realistic short-term goal for QGIS. But, what about allowing the graphics system to draw the current status of the internal render, before it's complete?  For example, if WMS tiles are being downloaded, can the background map be updated as data comes in, while the foreground features stay on top?  Can layers be shown as they are drawn, instead of popping up the entire image after the final layer has been drawn?


> On Jul 10, 2017, at 9:44 AM, qgis-developer-request at lists.osgeo.org wrote:
> 
> Send QGIS-Developer mailing list submissions to
> 	qgis-developer at lists.osgeo.org
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> 	https://lists.osgeo.org/mailman/listinfo/qgis-developer
> or, via email, send a message with subject or body 'help' to
> 	qgis-developer-request at lists.osgeo.org
> 
> You can reach the person managing the list at
> 	qgis-developer-owner at lists.osgeo.org
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of QGIS-Developer digest..."
> 
> 
> Today's Topics:
> 
>   1. Re: QGIS/OGR: FeatureIds reassigned on write to	data
>      provider? (Even Rouault)
>   2. Re: Value entry using comma as decimal separator?
>      (Bernhard Str√∂bl)
>   3. Plugin [1246] go2mapillary approval notification.
>      (noreply at qgis.org)
>   4. Re: QGIS/OGR: FeatureIds reassigned on write to	data
>      provider? (R√©gis Haubourg)
>   5. Re: QGIS/OGR: FeatureIds reassigned on write to	data
>      provider? (Even Rouault)
>   6. qgis-bin.exe - Entry Point Not Found (Patrice)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Mon, 10 Jul 2017 13:58:57 +0200
> From: Even Rouault <even.rouault at spatialys.com>
> To: qgis-developer at lists.osgeo.org
> Subject: Re: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write
> 	to	data provider?
> Message-ID: <2643131.9G3uCidT8S at even-i700>
> Content-Type: text/plain; charset="utf-8"
> 
>> I did some playing around and came up with some FeatureId mapping code
>> which is pretty space efficient (basically requiring just
>> 3*nDeletedFeatures entries), see below.
>> 
>> The code however assumes that the gaps in the fid-sequence are filled by
>> decreasing the fids after the gap, which may be pretty specific to the
>> OGR/Shapefile behaviour. 
> 
> This should clearly be restricted to Shapefiles. Other drivers don't have this compaction logic 
> and will let happily holes in the feature ids.
> 
>> Hence in my view such code should really belong
>> into the OGR provider (or perhaps even ogr itself) and not in the
>> plugin. Thoughts?
> 
> Regarding putting that in OGR itself, there's no such API for that right now, and I'm not 
> completely clear of the value to add one (specific use case, for a single driver)
> 
> Perhaps the QGIS OGR provider would be a better place for now.
> 
> Even
> 
> -- 
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/138fa822/attachment-0001.html>
> 
> ------------------------------
> 
> Message: 2
> Date: Mon, 10 Jul 2017 14:15:46 +0200
> From: Bernhard Str√∂bl <bernhard.stroebl at jena.de>
> To: qgis-developer <qgis-developer at lists.osgeo.org>
> Subject: Re: [QGIS-Developer] Value entry using comma as decimal
> 	separator?
> Message-ID: <2f5e52a4-ef66-5cb1-200d-80a1d8d9ffd7 at jena.de>
> Content-Type: text/plain; charset=utf-8; format=flowed
> 
> Hi,
> just my two cents: My users are working in a German administration and 
> they depend on QGIS having a German UI. They will be puzzled if they are 
> supposed to use a point instead of the regular komma as decimal 
> separator. On the other hand they won't expect "5.5" to be a regular 
> entry into a decimal field either.
> 
> Bernhard
> 
> Am 08.07.2017 um 09:58 schrieb Richard Duivenvoorde:
>> On 08-07-17 01:11, Nyall Dawson wrote:
>> 
>>> It's a trivial change to make to get the spin boxes to accept the
>>> local decimal separator, but this would prevent users entering "5.5"
>>> in those locales.
>>> 
>>> Can someone from one of these affected regions let me know what the
>>> correct behavior should be? I don't want to make the change if it
>>> breaks entry of 5.5 and that's the standard used in those locales.
>> 
>> My personal view:
>> 
>> In The Netherlands we also use comma as a decimal separator (don't most
>> european countries do?), and though I never use the Dutch locale myself,
>> I know ALL governmental organisations I've been run the Dutch
>> QGIS/localse just because Windows there is in Dutch (and set the Dutch
>> locale).
>> 
>> I also know in the Spreadsheet world this gives A LOT of trouble because
>> most average users are not even aware what 'locale' they are using... So
>> people sending a us-locale spreadsheet to a dutch-locale user is often
>> in trouble....
>> 
>> This makes for example so that in modern Banking web applications they
>> check and you can use both , and . as decimal separator (probably there
>> is some heuristic in which they check:
>> - if there is only one type of separator
>> - if there is one, and it is just 2 position from the end
>> - it is used as decimal separator
>> etc etc
>> But... that is easier when you are only doing currency numbers...
>> 
>> I would not try to fight this locale war, or try to be smarter then
>> Qt/Windows:
>> IF people use a 'comma'-locale, they should use comma.
>> IF they do not like that: use us-locale
>> 
>> It is the same problem with the character encoding in shapefiles. People
>> are not aware of what they do, but 'we' as part of the Qt or Windows
>> should not try to be smarter then that world we are part of.
>> 
>> Untill the rest of the world come to their senses and start using the
>> comma as separator, use 24hr clocks (well preferably 100...), meters,
>> kilograms etc etc...
>> 
>> Regards,
>> 
>> Richard Duivenvoorde
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> 
> 
> 
> 
> __________ Information from ESET Mail Security, version of virus signature database 15722 (20170710) __________
> 
> The message was checked by ESET Mail Security.
> http://www.eset.com
> 
> 
> 
> 
> ------------------------------
> 
> Message: 3
> Date: Mon, 10 Jul 2017 12:41:22 -0000
> From: noreply at qgis.org
> To: enricofer at gmail.com, qgis-developer at lists.osgeo.org
> Subject: [QGIS-Developer] Plugin [1246] go2mapillary approval
> 	notification.
> Message-ID: <20170710124122.20479.19151 at 320558c5528b>
> Content-Type: text/plain; charset="utf-8"
> 
> 
> Plugin go2mapillary approval by pcav.
> The plugin version "[1246] go2mapillary 1.2" is now approved
> Link: http://plugins.qgis.org/plugins/go2mapillary/
> 
> 
> ------------------------------
> 
> Message: 4
> Date: Mon, 10 Jul 2017 15:01:56 +0200
> From: R√©gis Haubourg <regis.haubourg at gmail.com>
> To: Even Rouault <even.rouault at spatialys.com>
> Cc: QGIS Developers List <qgis-developer at lists.osgeo.org>
> Subject: Re: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write
> 	to	data provider?
> Message-ID:
> 	<CABgOYCeOcdzqk7Lg+U+AzsFXMPuGgxvgmsq0NNjSP9LKQxUCXA at mail.gmail.com>
> Content-Type: text/plain; charset="utf-8"
> 
> Hi,
> 
> This should clearly be restricted to Shapefiles. Other drivers don't have
>> this compaction logic and will let happily holes in the feature ids.
> 
> 
> What about Mapinfo TAB, which relies on DBF like shapefiles, and dbf files?
> Just asking, I didn't dig into that in depth.
> R√©gis
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/4376189d/attachment-0001.html>
> 
> ------------------------------
> 
> Message: 5
> Date: Mon, 10 Jul 2017 15:12:47 +0200
> From: Even Rouault <even.rouault at spatialys.com>
> To: R√©gis Haubourg <regis.haubourg at gmail.com>
> Cc: QGIS Developers List <qgis-developer at lists.osgeo.org>
> Subject: Re: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write
> 	to	data provider?
> Message-ID: <1738591.dH2YPQ2QbH at even-i700>
> Content-Type: text/plain; charset="iso-8859-1"
> 
> On lundi 10 juillet 2017 15:01:56 CEST R√©gis Haubourg wrote:
>> Hi,
>> 
>> This should clearly be restricted to Shapefiles. Other drivers don't have
>> 
>>> this compaction logic and will let happily holes in the feature ids.
>> 
>> What about Mapinfo TAB, which relies on DBF like shapefiles, and dbf files ?
> 
> Deleted records are flagged as such in the .dat/.dbf files (with '*' character , which is also 
> what the Shapefile driver use for non-compacted deleted DBF records) and in the .map file. 
> There's no compaction logic.
> 
> I don't remember of having heard about compatibility issues with MapInfo regarding this 
> (but my memories can be wrong :-)), so I assume MapInfo does the same
> 
> Even
> 
> -- 
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/20fe6f78/attachment-0001.html>
> 
> ------------------------------
> 
> Message: 6
> Date: Mon, 10 Jul 2017 11:44:16 -0400
> From: Patrice <abrabacabra at openmailbox.org>
> To: qgis-developer at lists.osgeo.org
> Subject: [QGIS-Developer] qgis-bin.exe - Entry Point Not Found
> Message-ID: <adced4f7-7c3b-7155-b2be-98dea2acd35c at openmailbox.org>
> Content-Type: text/plain; charset="utf-8"; Format="flowed"
> 
> I just installed QGIS 2.18.9 on Windows 10 64 bits with the network 
> install (64 bits) and I got this error (attached picture).
> 
> 
> 
> 
> 
> 
> 
> This was the version I had before formatting my computer and I am still 
> using the same OS version as before.
> 
> I browsed to the folder and the DLL is indeed there. I have never seen 
> that error before.
> 
> 
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/2880d8ab/attachment.html>
> -------------- next part --------------
> A non-text attachment was scrubbed...
> Name: mdjkeejagnadklmj.png
> Type: image/png
> Size: 8003 bytes
> Desc: not available
> URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/2880d8ab/attachment.png>
> 
> ------------------------------
> 
> Subject: Digest Footer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> ------------------------------
> 
> End of QGIS-Developer Digest, Vol 141, Issue 27
> ***********************************************

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/7d5d0558/attachment-0001.html>

From zrx8 at freemail.hu  Mon Jul 10 11:44:52 2017
From: zrx8 at freemail.hu (zrx)
Date: Mon, 10 Jul 2017 20:44:52 +0200 (CEST)
Subject: [QGIS-Developer] rule based style copy+paste bug
In-Reply-To: <1396faa6-22e6-5d95-170c-9e22cd971d60@carto.net>
Message-ID: <freemail.20170710204452.64273.1@fmxmldata01.freemail.hu>

Hi Andreas,

Thanks for the answer. I used only one layer with several rule based styles, sorry for the bad wording. I copied the styles on the GUI, and when I checked the xml file, most of the pasted entities had the same string in their key field, which is the id, I guess.

Concerning the bug tracker: thanks for the explanation, I will try the mantra thing.

Best regards,
Peter

Andreas Neumann <a.neumann at carto.net> √≠rta:
>Hi Peter,
>
>How did you copy and paste the layers?
>
>In the QGIS GUI or in the text editor direclty in the XML file? If the 
>latter, then this might be the reason for you troubles. Each layer in 
>QGIS is identified with unique ids. If you copy/paste directly in the 
>XML structure of a .qgs file, you are also duplicating these unique ids, 
>which might explain your troubles.
>
>You know, if all you want is  to filter by year, you don't need a layer 
>for each year, but you can have a single layer and create a rule for 
>each year. Rules can be turned on and off just like layers.
>
>Or you use the QGIS time manager to loop through the years.
>
>--------------
>
>About bug tracker:
>
>What troubles do you have with the bug tracker? Why is it difficult for 
>you to access? The correct address is https://issues.qgis.org/ - you 
>need an OSGEO login or an OpenID. All information is at 
>http://www.qgis.org/en/site/getinvolved/development/bugreporting.html#qgis-bugreporting
>
>If you don't have an OSGEO account, you first have to ask for a Mantra. 
>This is a measurment against spammers - because OSGEO mailing lists were 
>abused by spammers. You first have to prove that you are really an 
>indiviual person interested in OSGEO.
>
>Please be a bit more precise why you find the QGIS bug tracker difficult 
>to access.
>
>Hope this helps,
>Andreas
>
>On 08.07.2017 15:52, zrx wrote:
>> Hello,
>>
>> Excuse me for posting to the developers list, as I am not a QGIS developer, but the bug tracker seems to be even more difficult to access.
>>
>> I'd like to call your attention a problem present at least since 2.16, and which is still there in 2.18.10 :
>>
>> I have an approximately 50 years period of data to be presented geographically, and each year's corresponding layer should be able to be turned on/off. I created the first year's layer, then tried to copy+paste it, and modify the year in each layer's rule. The problem is that the pasted layers don't seem to be independent. It looks like they are created by some kind of shallow copy, thus sharing some of their attributes and data fields, like visibility for example.
>>
>> Please correct this, or give me some hint if I make something wrong. Thanks in advance,
>> Peter
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>_______________________________________________
>QGIS-Developer mailing list
>QGIS-Developer at lists.osgeo.org
>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From qdqgisdev at gmail.com  Mon Jul 10 14:40:44 2017
From: qdqgisdev at gmail.com (qdqgisdev)
Date: Mon, 10 Jul 2017 14:40:44 -0700 (MST)
Subject: [QGIS-Developer] Debug C++ QGIS plugin with VS
In-Reply-To: <20170621112139.xjdjlvps5qw47td4@norbit.de>
References: <CAFKHLxqnS72bxJkOZtUqdra0CXhNMeg5Uhmrpeb8=o_CSCcxSg@mail.gmail.com>
 <20170621112139.xjdjlvps5qw47td4@norbit.de>
Message-ID: <1499722844571-5327297.post@n6.nabble.com>

Hi Jurgen 
thx for your feedback

1¬∞)I will use VS2010 then.
2¬∞)Regarding "RelWithDebInfo" do i need to use Cmake to build ?
I thought CMake was required to build qgis. What we try to do is debugging a
plugin (DLL)
Am I supposed to build the DLL with Cmake ? 

The DLL works fine in release mode but sometimes it crashes and I have no
idea on how to debug step by step.
I'd like to attach to process but when i try to do that i get 
Debug Assertion Failed! Expression: _pFirstBlock == pHead

Upfront THX



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/QGIS-Developer-Debug-C-QGIS-plugin-with-VS-tp5324957p5327297.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From madmanwoo at gmail.com  Mon Jul 10 17:00:29 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Tue, 11 Jul 2017 10:00:29 +1000
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
 <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
Message-ID: <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>

Hey John,

QGIS has had multithreaded rendering since 2.0 which allows the map to be
rendered as you pan around so you don't have to wait.  You can also set the
refresh rate in order to draw more features so you get feedback quicker.

Regards,
Nathan

On Tue, Jul 11, 2017 at 2:32 AM, John Abraham <jea at hbaspecto.com> wrote:

> Is incremental drawing possible, especially for web features in the
> background?
>
> I've been playing with some GPU based visualizers lately (in particular
> CityPhi from INRO https://www.inrosoftware.com/en/products/cityphi/ ) and
> switching back to QGIS and waiting for the maps to redraw on every single
> pan or zoom is extremely painful.
>
> GPU-drawn 3D visualizations at 30 frames per second is probably not a
> realistic short-term goal for QGIS. But, what about allowing the graphics
> system to draw the current status of the internal render, before it's
> complete?  For example, if WMS tiles are being downloaded, can the
> background map be updated as data comes in, while the foreground features
> stay on top?  Can layers be shown as they are drawn, instead of popping up
> the entire image after the final layer has been drawn?
>
>
> On Jul 10, 2017, at 9:44 AM, qgis-developer-request at lists.osgeo.org wrote:
>
> Send QGIS-Developer mailing list submissions to
> qgis-developer at lists.osgeo.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
> https://lists.osgeo.org/mailman/listinfo/qgis-developer
> or, via email, send a message with subject or body 'help' to
> qgis-developer-request at lists.osgeo.org
>
> You can reach the person managing the list at
> qgis-developer-owner at lists.osgeo.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of QGIS-Developer digest..."
>
>
> Today's Topics:
>
>   1. Re: QGIS/OGR: FeatureIds reassigned on write to data
>      provider? (Even Rouault)
>   2. Re: Value entry using comma as decimal separator?
>      (Bernhard Str√∂bl)
>   3. Plugin [1246] go2mapillary approval notification.
>      (noreply at qgis.org)
>   4. Re: QGIS/OGR: FeatureIds reassigned on write to data
>      provider? (R√©gis Haubourg)
>   5. Re: QGIS/OGR: FeatureIds reassigned on write to data
>      provider? (Even Rouault)
>   6. qgis-bin.exe - Entry Point Not Found (Patrice)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 10 Jul 2017 13:58:57 +0200
> From: Even Rouault <even.rouault at spatialys.com>
> To: qgis-developer at lists.osgeo.org
> Subject: Re: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write
> to data provider?
> Message-ID: <2643131.9G3uCidT8S at even-i700>
> Content-Type: text/plain; charset="utf-8"
>
> I did some playing around and came up with some FeatureId mapping code
> which is pretty space efficient (basically requiring just
> 3*nDeletedFeatures entries), see below.
>
> The code however assumes that the gaps in the fid-sequence are filled by
> decreasing the fids after the gap, which may be pretty specific to the
> OGR/Shapefile behaviour.
>
>
> This should clearly be restricted to Shapefiles. Other drivers don't have
> this compaction logic
> and will let happily holes in the feature ids.
>
> Hence in my view such code should really belong
> into the OGR provider (or perhaps even ogr itself) and not in the
> plugin. Thoughts?
>
>
> Regarding putting that in OGR itself, there's no such API for that right
> now, and I'm not
> completely clear of the value to add one (specific use case, for a single
> driver)
>
> Perhaps the QGIS OGR provider would be a better place for now.
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://lists.osgeo.org/pipermail/qgis-developer/
> attachments/20170710/138fa822/attachment-0001.html>
>
> ------------------------------
>
> Message: 2
> Date: Mon, 10 Jul 2017 14:15:46 +0200
> From: Bernhard Str√∂bl <bernhard.stroebl at jena.de>
> To: qgis-developer <qgis-developer at lists.osgeo.org>
> Subject: Re: [QGIS-Developer] Value entry using comma as decimal
> separator?
> Message-ID: <2f5e52a4-ef66-5cb1-200d-80a1d8d9ffd7 at jena.de>
> Content-Type: text/plain; charset=utf-8; format=flowed
>
> Hi,
> just my two cents: My users are working in a German administration and
> they depend on QGIS having a German UI. They will be puzzled if they are
> supposed to use a point instead of the regular komma as decimal
> separator. On the other hand they won't expect "5.5" to be a regular
> entry into a decimal field either.
>
> Bernhard
>
> Am 08.07.2017 um 09:58 schrieb Richard Duivenvoorde:
>
> On 08-07-17 01:11, Nyall Dawson wrote:
>
> It's a trivial change to make to get the spin boxes to accept the
> local decimal separator, but this would prevent users entering "5.5"
> in those locales.
>
> Can someone from one of these affected regions let me know what the
> correct behavior should be? I don't want to make the change if it
> breaks entry of 5.5 and that's the standard used in those locales.
>
>
> My personal view:
>
> In The Netherlands we also use comma as a decimal separator (don't most
> european countries do?), and though I never use the Dutch locale myself,
> I know ALL governmental organisations I've been run the Dutch
> QGIS/localse just because Windows there is in Dutch (and set the Dutch
> locale).
>
> I also know in the Spreadsheet world this gives A LOT of trouble because
> most average users are not even aware what 'locale' they are using... So
> people sending a us-locale spreadsheet to a dutch-locale user is often
> in trouble....
>
> This makes for example so that in modern Banking web applications they
> check and you can use both , and . as decimal separator (probably there
> is some heuristic in which they check:
> - if there is only one type of separator
> - if there is one, and it is just 2 position from the end
> - it is used as decimal separator
> etc etc
> But... that is easier when you are only doing currency numbers...
>
> I would not try to fight this locale war, or try to be smarter then
> Qt/Windows:
> IF people use a 'comma'-locale, they should use comma.
> IF they do not like that: use us-locale
>
> It is the same problem with the character encoding in shapefiles. People
> are not aware of what they do, but 'we' as part of the Qt or Windows
> should not try to be smarter then that world we are part of.
>
> Untill the rest of the world come to their senses and start using the
> comma as separator, use 24hr clocks (well preferably 100...), meters,
> kilograms etc etc...
>
> Regards,
>
> Richard Duivenvoorde
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
>
> __________ Information from ESET Mail Security, version of virus signature
> database 15722 (20170710) __________
>
> The message was checked by ESET Mail Security.
> http://www.eset.com
>
>
>
>
> ------------------------------
>
> Message: 3
> Date: Mon, 10 Jul 2017 12:41:22 -0000
> From: noreply at qgis.org
> To: enricofer at gmail.com, qgis-developer at lists.osgeo.org
> Subject: [QGIS-Developer] Plugin [1246] go2mapillary approval
> notification.
> Message-ID: <20170710124122.20479.19151 at 320558c5528b>
> Content-Type: text/plain; charset="utf-8"
>
>
> Plugin go2mapillary approval by pcav.
> The plugin version "[1246] go2mapillary 1.2" is now approved
> Link: http://plugins.qgis.org/plugins/go2mapillary/
>
>
> ------------------------------
>
> Message: 4
> Date: Mon, 10 Jul 2017 15:01:56 +0200
> From: R√©gis Haubourg <regis.haubourg at gmail.com>
> To: Even Rouault <even.rouault at spatialys.com>
> Cc: QGIS Developers List <qgis-developer at lists.osgeo.org>
> Subject: Re: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write
> to data provider?
> Message-ID:
> <CABgOYCeOcdzqk7Lg+U+AzsFXMPuGgxvgmsq0NNjSP9LKQxUCXA at mail.gmail.com>
> Content-Type: text/plain; charset="utf-8"
>
> Hi,
>
> This should clearly be restricted to Shapefiles. Other drivers don't have
>
> this compaction logic and will let happily holes in the feature ids.
>
>
>
> What about Mapinfo TAB, which relies on DBF like shapefiles, and dbf files?
> Just asking, I didn't dig into that in depth.
> R√©gis
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://lists.osgeo.org/pipermail/qgis-developer/
> attachments/20170710/4376189d/attachment-0001.html>
>
> ------------------------------
>
> Message: 5
> Date: Mon, 10 Jul 2017 15:12:47 +0200
> From: Even Rouault <even.rouault at spatialys.com>
> To: R√©gis Haubourg <regis.haubourg at gmail.com>
> Cc: QGIS Developers List <qgis-developer at lists.osgeo.org>
> Subject: Re: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write
> to data provider?
> Message-ID: <1738591.dH2YPQ2QbH at even-i700>
> Content-Type: text/plain; charset="iso-8859-1"
>
> On lundi 10 juillet 2017 15:01:56 CEST R√©gis Haubourg wrote:
>
> Hi,
>
> This should clearly be restricted to Shapefiles. Other drivers don't have
>
> this compaction logic and will let happily holes in the feature ids.
>
>
> What about Mapinfo TAB, which relies on DBF like shapefiles, and dbf files
> ?
>
>
> Deleted records are flagged as such in the .dat/.dbf files (with '*'
> character , which is also
> what the Shapefile driver use for non-compacted deleted DBF records) and
> in the .map file.
> There's no compaction logic.
>
> I don't remember of having heard about compatibility issues with MapInfo
> regarding this
> (but my memories can be wrong :-)), so I assume MapInfo does the same
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://lists.osgeo.org/pipermail/qgis-developer/
> attachments/20170710/20fe6f78/attachment-0001.html>
>
> ------------------------------
>
> Message: 6
> Date: Mon, 10 Jul 2017 11:44:16 -0400
> From: Patrice <abrabacabra at openmailbox.org>
> To: qgis-developer at lists.osgeo.org
> Subject: [QGIS-Developer] qgis-bin.exe - Entry Point Not Found
> Message-ID: <adced4f7-7c3b-7155-b2be-98dea2acd35c at openmailbox.org>
> Content-Type: text/plain; charset="utf-8"; Format="flowed"
>
> I just installed QGIS 2.18.9 on Windows 10 64 bits with the network
> install (64 bits) and I got this error (attached picture).
>
>
>
>
>
>
>
> This was the version I had before formatting my computer and I am still
> using the same OS version as before.
>
> I browsed to the folder and the DLL is indeed there. I have never seen
> that error before.
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://lists.osgeo.org/pipermail/qgis-developer/
> attachments/20170710/2880d8ab/attachment.html>
> -------------- next part --------------
> A non-text attachment was scrubbed...
> Name: mdjkeejagnadklmj.png
> Type: image/png
> Size: 8003 bytes
> Desc: not available
> URL: <http://lists.osgeo.org/pipermail/qgis-developer/
> attachments/20170710/2880d8ab/attachment.png>
>
> ------------------------------
>
> Subject: Digest Footer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> ------------------------------
>
> End of QGIS-Developer Digest, Vol 141, Issue 27
> ***********************************************
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170711/39091372/attachment-0001.html>

From jea at hbaspecto.com  Mon Jul 10 20:17:27 2017
From: jea at hbaspecto.com (John Abraham)
Date: Mon, 10 Jul 2017 21:17:27 -0600
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
 <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
 <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>
Message-ID: <1DBAED71-95A8-41E1-8B36-2031C87D6039@hbaspecto.com>

Ok, I overlooked a few features, thanks Nathan for pointing out the refresh rate!

I rely on web based tile or WMS backgrounds (OpenStreetMap, NRCan Geogratis, etc.).  CityPhi fills in the background as the tiles show up.  QGIS seems to need to draw the entire background in it's head, then displays it all at once, before it can use the cool multithreaded features on the vectors.  Or is there another checkbox for "draw my background as it arrives from the tile service, but don't wait around for it to respond"?

--
John Abraham

> On Jul 10, 2017, at 6:00 PM, Nathan Woodrow <madmanwoo at gmail.com> wrote:
> 
> Hey John,
> 
> QGIS has had multithreaded rendering since 2.0 which allows the map to be rendered as you pan around so you don't have to wait.  You can also set the refresh rate in order to draw more features so you get feedback quicker.
> 
> Regards,
> Nathan
> 
> On Tue, Jul 11, 2017 at 2:32 AM, John Abraham <jea at hbaspecto.com <mailto:jea at hbaspecto.com>> wrote:
> Is incremental drawing possible, especially for web features in the background?
> 
> I've been playing with some GPU based visualizers lately (in particular CityPhi from INRO https://www.inrosoftware.com/en/products/cityphi/ <https://www.inrosoftware.com/en/products/cityphi/> ) and switching back to QGIS and waiting for the maps to redraw on every single pan or zoom is extremely painful. 
> 
> GPU-drawn 3D visualizations at 30 frames per second is probably not a realistic short-term goal for QGIS. But, what about allowing the graphics system to draw the current status of the internal render, before it's complete?  For example, if WMS tiles are being downloaded, can the background map be updated as data comes in, while the foreground features stay on top?  Can layers be shown as they are drawn, instead of popping up the entire image after the final layer has been drawn?
> 
> 
>> On Jul 10, 2017, at 9:44 AM, qgis-developer-request at lists.osgeo.org <mailto:qgis-developer-request at lists.osgeo.org> wrote:
>> 
>> Send QGIS-Developer mailing list submissions to
>> 	qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>
>> 
>> To subscribe or unsubscribe via the World Wide Web, visit
>> 	https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> or, via email, send a message with subject or body 'help' to
>> 	qgis-developer-request at lists.osgeo.org <mailto:qgis-developer-request at lists.osgeo.org>
>> 
>> You can reach the person managing the list at
>> 	qgis-developer-owner at lists.osgeo.org <mailto:qgis-developer-owner at lists.osgeo.org>
>> 
>> When replying, please edit your Subject line so it is more specific
>> than "Re: Contents of QGIS-Developer digest..."
>> 
>> 
>> Today's Topics:
>> 
>>   1. Re: QGIS/OGR: FeatureIds reassigned on write to	data
>>      provider? (Even Rouault)
>>   2. Re: Value entry using comma as decimal separator?
>>      (Bernhard Str√∂bl)
>>   3. Plugin [1246] go2mapillary approval notification.
>>      (noreply at qgis.org <mailto:noreply at qgis.org>)
>>   4. Re: QGIS/OGR: FeatureIds reassigned on write to	data
>>      provider? (R√©gis Haubourg)
>>   5. Re: QGIS/OGR: FeatureIds reassigned on write to	data
>>      provider? (Even Rouault)
>>   6. qgis-bin.exe - Entry Point Not Found (Patrice)
>> 
>> 
>> ----------------------------------------------------------------------
>> 
>> Message: 1
>> Date: Mon, 10 Jul 2017 13:58:57 +0200
>> From: Even Rouault <even.rouault at spatialys.com <mailto:even.rouault at spatialys.com>>
>> To: qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>
>> Subject: Re: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write
>> 	to	data provider?
>> Message-ID: <2643131.9G3uCidT8S at even-i700>
>> Content-Type: text/plain; charset="utf-8"
>> 
>>> I did some playing around and came up with some FeatureId mapping code
>>> which is pretty space efficient (basically requiring just
>>> 3*nDeletedFeatures entries), see below.
>>> 
>>> The code however assumes that the gaps in the fid-sequence are filled by
>>> decreasing the fids after the gap, which may be pretty specific to the
>>> OGR/Shapefile behaviour. 
>> 
>> This should clearly be restricted to Shapefiles. Other drivers don't have this compaction logic 
>> and will let happily holes in the feature ids.
>> 
>>> Hence in my view such code should really belong
>>> into the OGR provider (or perhaps even ogr itself) and not in the
>>> plugin. Thoughts?
>> 
>> Regarding putting that in OGR itself, there's no such API for that right now, and I'm not 
>> completely clear of the value to add one (specific use case, for a single driver)
>> 
>> Perhaps the QGIS OGR provider would be a better place for now.
>> 
>> Even
>> 
>> -- 
>> Spatialys - Geospatial professional services
>> http://www.spatialys.com <http://www.spatialys.com/>
>> -------------- next part --------------
>> An HTML attachment was scrubbed...
>> URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/138fa822/attachment-0001.html <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/138fa822/attachment-0001.html>>
>> 
>> ------------------------------
>> 
>> Message: 2
>> Date: Mon, 10 Jul 2017 14:15:46 +0200
>> From: Bernhard Str√∂bl <bernhard.stroebl at jena.de <mailto:bernhard.stroebl at jena.de>>
>> To: qgis-developer <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>>
>> Subject: Re: [QGIS-Developer] Value entry using comma as decimal
>> 	separator?
>> Message-ID: <2f5e52a4-ef66-5cb1-200d-80a1d8d9ffd7 at jena.de <mailto:2f5e52a4-ef66-5cb1-200d-80a1d8d9ffd7 at jena.de>>
>> Content-Type: text/plain; charset=utf-8; format=flowed
>> 
>> Hi,
>> just my two cents: My users are working in a German administration and 
>> they depend on QGIS having a German UI. They will be puzzled if they are 
>> supposed to use a point instead of the regular komma as decimal 
>> separator. On the other hand they won't expect "5.5" to be a regular 
>> entry into a decimal field either.
>> 
>> Bernhard
>> 
>> Am 08.07.2017 um 09:58 schrieb Richard Duivenvoorde:
>>> On 08-07-17 01:11, Nyall Dawson wrote:
>>> 
>>>> It's a trivial change to make to get the spin boxes to accept the
>>>> local decimal separator, but this would prevent users entering "5.5"
>>>> in those locales.
>>>> 
>>>> Can someone from one of these affected regions let me know what the
>>>> correct behavior should be? I don't want to make the change if it
>>>> breaks entry of 5.5 and that's the standard used in those locales.
>>> 
>>> My personal view:
>>> 
>>> In The Netherlands we also use comma as a decimal separator (don't most
>>> european countries do?), and though I never use the Dutch locale myself,
>>> I know ALL governmental organisations I've been run the Dutch
>>> QGIS/localse just because Windows there is in Dutch (and set the Dutch
>>> locale).
>>> 
>>> I also know in the Spreadsheet world this gives A LOT of trouble because
>>> most average users are not even aware what 'locale' they are using... So
>>> people sending a us-locale spreadsheet to a dutch-locale user is often
>>> in trouble....
>>> 
>>> This makes for example so that in modern Banking web applications they
>>> check and you can use both , and . as decimal separator (probably there
>>> is some heuristic in which they check:
>>> - if there is only one type of separator
>>> - if there is one, and it is just 2 position from the end
>>> - it is used as decimal separator
>>> etc etc
>>> But... that is easier when you are only doing currency numbers...
>>> 
>>> I would not try to fight this locale war, or try to be smarter then
>>> Qt/Windows:
>>> IF people use a 'comma'-locale, they should use comma.
>>> IF they do not like that: use us-locale
>>> 
>>> It is the same problem with the character encoding in shapefiles. People
>>> are not aware of what they do, but 'we' as part of the Qt or Windows
>>> should not try to be smarter then that world we are part of.
>>> 
>>> Untill the rest of the world come to their senses and start using the
>>> comma as separator, use 24hr clocks (well preferably 100...), meters,
>>> kilograms etc etc...
>>> 
>>> Regards,
>>> 
>>> Richard Duivenvoorde
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>> 
>> 
>> 
>> 
>> __________ Information from ESET Mail Security, version of virus signature database 15722 (20170710) __________
>> 
>> The message was checked by ESET Mail Security.
>> http://www.eset.com <http://www.eset.com/>
>> 
>> 
>> 
>> 
>> ------------------------------
>> 
>> Message: 3
>> Date: Mon, 10 Jul 2017 12:41:22 -0000
>> From: noreply at qgis.org <mailto:noreply at qgis.org>
>> To: enricofer at gmail.com <mailto:enricofer at gmail.com>, qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>
>> Subject: [QGIS-Developer] Plugin [1246] go2mapillary approval
>> 	notification.
>> Message-ID: <20170710124122.20479.19151 at 320558c5528b>
>> Content-Type: text/plain; charset="utf-8"
>> 
>> 
>> Plugin go2mapillary approval by pcav.
>> The plugin version "[1246] go2mapillary 1.2" is now approved
>> Link: http://plugins.qgis.org/plugins/go2mapillary/ <http://plugins.qgis.org/plugins/go2mapillary/>
>> 
>> 
>> ------------------------------
>> 
>> Message: 4
>> Date: Mon, 10 Jul 2017 15:01:56 +0200
>> From: R√©gis Haubourg <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>>
>> To: Even Rouault <even.rouault at spatialys.com <mailto:even.rouault at spatialys.com>>
>> Cc: QGIS Developers List <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>>
>> Subject: Re: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write
>> 	to	data provider?
>> Message-ID:
>> 	<CABgOYCeOcdzqk7Lg+U+AzsFXMPuGgxvgmsq0NNjSP9LKQxUCXA at mail.gmail.com <mailto:CABgOYCeOcdzqk7Lg%2BU%2BAzsFXMPuGgxvgmsq0NNjSP9LKQxUCXA at mail.gmail.com>>
>> Content-Type: text/plain; charset="utf-8"
>> 
>> Hi,
>> 
>> This should clearly be restricted to Shapefiles. Other drivers don't have
>>> this compaction logic and will let happily holes in the feature ids.
>> 
>> 
>> What about Mapinfo TAB, which relies on DBF like shapefiles, and dbf files?
>> Just asking, I didn't dig into that in depth.
>> R√©gis
>> -------------- next part --------------
>> An HTML attachment was scrubbed...
>> URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/4376189d/attachment-0001.html <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/4376189d/attachment-0001.html>>
>> 
>> ------------------------------
>> 
>> Message: 5
>> Date: Mon, 10 Jul 2017 15:12:47 +0200
>> From: Even Rouault <even.rouault at spatialys.com <mailto:even.rouault at spatialys.com>>
>> To: R√©gis Haubourg <regis.haubourg at gmail.com <mailto:regis.haubourg at gmail.com>>
>> Cc: QGIS Developers List <qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>>
>> Subject: Re: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write
>> 	to	data provider?
>> Message-ID: <1738591.dH2YPQ2QbH at even-i700>
>> Content-Type: text/plain; charset="iso-8859-1"
>> 
>> On lundi 10 juillet 2017 15:01:56 CEST R√©gis Haubourg wrote:
>>> Hi,
>>> 
>>> This should clearly be restricted to Shapefiles. Other drivers don't have
>>> 
>>>> this compaction logic and will let happily holes in the feature ids.
>>> 
>>> What about Mapinfo TAB, which relies on DBF like shapefiles, and dbf files ?
>> 
>> Deleted records are flagged as such in the .dat/.dbf files (with '*' character , which is also 
>> what the Shapefile driver use for non-compacted deleted DBF records) and in the .map file. 
>> There's no compaction logic.
>> 
>> I don't remember of having heard about compatibility issues with MapInfo regarding this 
>> (but my memories can be wrong :-)), so I assume MapInfo does the same
>> 
>> Even
>> 
>> -- 
>> Spatialys - Geospatial professional services
>> http://www.spatialys.com <http://www.spatialys.com/>
>> -------------- next part --------------
>> An HTML attachment was scrubbed...
>> URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/20fe6f78/attachment-0001.html <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/20fe6f78/attachment-0001.html>>
>> 
>> ------------------------------
>> 
>> Message: 6
>> Date: Mon, 10 Jul 2017 11:44:16 -0400
>> From: Patrice <abrabacabra at openmailbox.org <mailto:abrabacabra at openmailbox.org>>
>> To: qgis-developer at lists.osgeo.org <mailto:qgis-developer at lists.osgeo.org>
>> Subject: [QGIS-Developer] qgis-bin.exe - Entry Point Not Found
>> Message-ID: <adced4f7-7c3b-7155-b2be-98dea2acd35c at openmailbox.org <mailto:adced4f7-7c3b-7155-b2be-98dea2acd35c at openmailbox.org>>
>> Content-Type: text/plain; charset="utf-8"; Format="flowed"
>> 
>> I just installed QGIS 2.18.9 on Windows 10 64 bits with the network 
>> install (64 bits) and I got this error (attached picture).
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> This was the version I had before formatting my computer and I am still 
>> using the same OS version as before.
>> 
>> I browsed to the folder and the DLL is indeed there. I have never seen 
>> that error before.
>> 
>> 
>> -------------- next part --------------
>> An HTML attachment was scrubbed...
>> URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/2880d8ab/attachment.html <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/2880d8ab/attachment.html>>
>> -------------- next part --------------
>> A non-text attachment was scrubbed...
>> Name: mdjkeejagnadklmj.png
>> Type: image/png
>> Size: 8003 bytes
>> Desc: not available
>> URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/2880d8ab/attachment.png <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/2880d8ab/attachment.png>>
>> 
>> ------------------------------
>> 
>> Subject: Digest Footer
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>> 
>> ------------------------------
>> 
>> End of QGIS-Developer Digest, Vol 141, Issue 27
>> ***********************************************
> 
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170710/3cb8b9a3/attachment-0001.html>

From nyall.dawson at gmail.com  Mon Jul 10 20:44:36 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 11 Jul 2017 13:44:36 +1000
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <1DBAED71-95A8-41E1-8B36-2031C87D6039@hbaspecto.com>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
 <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
 <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>
 <1DBAED71-95A8-41E1-8B36-2031C87D6039@hbaspecto.com>
Message-ID: <CAB28Asgrn+gjf9+r0Tg37-a=jamX7iQmNwH6GAoPg9Rg67Re3Q@mail.gmail.com>

On 11 July 2017 at 13:17, John Abraham <jea at hbaspecto.com> wrote:
> Ok, I overlooked a few features, thanks Nathan for pointing out the refresh
> rate!
>
> I rely on web based tile or WMS backgrounds (OpenStreetMap, NRCan Geogratis,
> etc.).  CityPhi fills in the background as the tiles show up.  QGIS seems to
> need to draw the entire background in it's head, then displays it all at
> once, before it can use the cool multithreaded features on the vectors.  Or
> is there another checkbox for "draw my background as it arrives from the
> tile service, but don't wait around for it to respond"?

How are you adding your web based tile layers?

Since QGIS 2.18 you can add them as "XYZ" tile sources (see
https://www.qgis.org/en/site/forusers/visualchangelog218/index.html#feature-native-support-of-xyz-tile-layers).

If you do this they'll be super-smooth, with tiles being rendered
instantly as they download.

Nyall

From mj10777 at googlemail.com  Mon Jul 10 21:01:13 2017
From: mj10777 at googlemail.com (Mark Johnson)
Date: Tue, 11 Jul 2017 06:01:13 +0200
Subject: [QGIS-Developer] Incremental drawing possible?
Message-ID: <CAEEbjBi1-OhsMJ+o-Kcp1GG0Gmg+naA_pD_v4oE4dxjDmLZEnw@mail.gmail.com>

>> QGIS seems to need to draw the entire background in it's head, then
displays it all at once
Yes, this is a problem (it seems) with all of the the Raster rendering.
With a GeoTiff during Panning, the Background blanks out and pops back,
while the Vectors don't.

Hard on the eyes when searching for something.

This started after a commit in 2014. The last version without this problem
was 2014-02-22.

Mark
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170711/05ad82d3/attachment.html>

From wonder.sk at gmail.com  Tue Jul 11 00:12:50 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue, 11 Jul 2017 09:12:50 +0200
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <CAB28Asgrn+gjf9+r0Tg37-a=jamX7iQmNwH6GAoPg9Rg67Re3Q@mail.gmail.com>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
 <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
 <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>
 <1DBAED71-95A8-41E1-8B36-2031C87D6039@hbaspecto.com>
 <CAB28Asgrn+gjf9+r0Tg37-a=jamX7iQmNwH6GAoPg9Rg67Re3Q@mail.gmail.com>
Message-ID: <CAC2XbFeymy106p8gmB5MCDJo-n5ohzpPU9bSs63qReQq3r7ojA@mail.gmail.com>

On Tue, Jul 11, 2017 at 5:44 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> On 11 July 2017 at 13:17, John Abraham <jea at hbaspecto.com> wrote:
>> Ok, I overlooked a few features, thanks Nathan for pointing out the refresh
>> rate!
>>
>> I rely on web based tile or WMS backgrounds (OpenStreetMap, NRCan Geogratis,
>> etc.).  CityPhi fills in the background as the tiles show up.  QGIS seems to
>> need to draw the entire background in it's head, then displays it all at
>> once, before it can use the cool multithreaded features on the vectors.  Or
>> is there another checkbox for "draw my background as it arrives from the
>> tile service, but don't wait around for it to respond"?
>
> How are you adding your web based tile layers?
>
> Since QGIS 2.18 you can add them as "XYZ" tile sources (see
> https://www.qgis.org/en/site/forusers/visualchangelog218/index.html#feature-native-support-of-xyz-tile-layers).
>
> If you do this they'll be super-smooth, with tiles being rendered
> instantly as they download.

Since QGIS 2.18 the instant preview works also with WMTS rasters:
https://www.qgis.org/en/site/forusers/visualchangelog218/index.html#feature-preview-of-raster-tiles-wmts-and-xyz-layers

Regards
Martin

From a.neumann at carto.net  Tue Jul 11 00:38:41 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Tue, 11 Jul 2017 09:38:41 +0200
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <CAC2XbFeymy106p8gmB5MCDJo-n5ohzpPU9bSs63qReQq3r7ojA@mail.gmail.com>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
 <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
 <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>
 <1DBAED71-95A8-41E1-8B36-2031C87D6039@hbaspecto.com>
 <CAB28Asgrn+gjf9+r0Tg37-a=jamX7iQmNwH6GAoPg9Rg67Re3Q@mail.gmail.com>
 <CAC2XbFeymy106p8gmB5MCDJo-n5ohzpPU9bSs63qReQq3r7ojA@mail.gmail.com>
Message-ID: <3150034a31ba466e52e73c7974253660@carto.net>

Hi Martin, 

I noticed that loading and redraw only happens when the mouse button is
released after the panning operation. While I understand the reasoning
for this (definitely on the safe side and no unnecessary redraws), I
wonder, if for WMTS, loading and display could already happen while
panning and the mouse button isn't yet released, e.g. triggered whenever
a certain threshold of panning distance (e.g. in percent of the last
extent) was surpassed. 

This would be even nicer than the current behaviour. Or are there
technical reasons, not to do that? Google maps works like this. It
redraws while panning. 

Thanks, 

Andreas

> Since QGIS 2.18 the instant preview works also with WMTS rasters:
> https://www.qgis.org/en/site/forusers/visualchangelog218/index.html#feature-preview-of-raster-tiles-wmts-and-xyz-layers
> 
> Regards
> Martin
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170711/a2bf2668/attachment.html>

From wonder.sk at gmail.com  Tue Jul 11 01:48:40 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue, 11 Jul 2017 10:48:40 +0200
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <3150034a31ba466e52e73c7974253660@carto.net>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
 <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
 <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>
 <1DBAED71-95A8-41E1-8B36-2031C87D6039@hbaspecto.com>
 <CAB28Asgrn+gjf9+r0Tg37-a=jamX7iQmNwH6GAoPg9Rg67Re3Q@mail.gmail.com>
 <CAC2XbFeymy106p8gmB5MCDJo-n5ohzpPU9bSs63qReQq3r7ojA@mail.gmail.com>
 <3150034a31ba466e52e73c7974253660@carto.net>
Message-ID: <CAC2XbFcSO98cjKxZkQ-0j4Xpy+GRqnjaYFLDQUCVrcca3HKyBA@mail.gmail.com>

Hi Andreas

On Tue, Jul 11, 2017 at 9:38 AM, Neumann, Andreas <a.neumann at carto.net> wrote:
> Hi Martin,
>
> I noticed that loading and redraw only happens when the mouse button is
> released after the panning operation. While I understand the reasoning for
> this (definitely on the safe side and no unnecessary redraws), I wonder, if
> for WMTS, loading and display could already happen while panning and the
> mouse button isn't yet released, e.g. triggered whenever a certain threshold
> of panning distance (e.g. in percent of the last extent) was surpassed.
>
> This would be even nicer than the current behaviour. Or are there technical
> reasons, not to do that? Google maps works like this. It redraws while
> panning.

Good news - there are no technical reasons that would prohibit us from
such improvement. Background rendering could start earlier, we just
need to add logic for such behavior. There is already a pending pull
request from Nyall to render adjacent parts of map canvas once
rendering of the visible area has finished - that may already be a
sufficient solution - I have not had time to play with it yet though.
Maybe these two approaches (render on map dragging, render outside of
current view) can be combined somehow for the best UX while keeping
overhead of extra rendering low.

We could even think about moving more towards tile-based approach to
rendering of map canvas, with the advantage of being able to cache map
tiles from previous canvas redraws for the same scale. This would
allow instant appearance of areas previously rendered with lower CPU
use at the expense of consuming more memory and having more
complicated logic for labeling.

Regards
Martin

From a.neumann at carto.net  Tue Jul 11 02:22:52 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Tue, 11 Jul 2017 11:22:52 +0200
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <CAC2XbFcSO98cjKxZkQ-0j4Xpy+GRqnjaYFLDQUCVrcca3HKyBA@mail.gmail.com>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
 <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
 <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>
 <1DBAED71-95A8-41E1-8B36-2031C87D6039@hbaspecto.com>
 <CAB28Asgrn+gjf9+r0Tg37-a=jamX7iQmNwH6GAoPg9Rg67Re3Q@mail.gmail.com>
 <CAC2XbFeymy106p8gmB5MCDJo-n5ohzpPU9bSs63qReQq3r7ojA@mail.gmail.com>
 <3150034a31ba466e52e73c7974253660@carto.net>
 <CAC2XbFcSO98cjKxZkQ-0j4Xpy+GRqnjaYFLDQUCVrcca3HKyBA@mail.gmail.com>
Message-ID: <23cc9b6002a43832737a3e42528eea99@carto.net>

Hi Martin, 

Sounds interesting. Of course this is not urgent. We now need to
concentrate on all the stuff that requires refactoring and API changes
in the master branch. 

But it would really be nice, if such rendering improvements could be
introduced in a future 3.x version. Maybe something for the next QGIS
grants program? 

Andreas 

On 2017-07-11 10:48, Martin Dobias wrote:

> Hi Andreas
> 
> On Tue, Jul 11, 2017 at 9:38 AM, Neumann, Andreas <a.neumann at carto.net> wrote: 
> 
>> Hi Martin,
>> 
>> I noticed that loading and redraw only happens when the mouse button is
>> released after the panning operation. While I understand the reasoning for
>> this (definitely on the safe side and no unnecessary redraws), I wonder, if
>> for WMTS, loading and display could already happen while panning and the
>> mouse button isn't yet released, e.g. triggered whenever a certain threshold
>> of panning distance (e.g. in percent of the last extent) was surpassed.
>> 
>> This would be even nicer than the current behaviour. Or are there technical
>> reasons, not to do that? Google maps works like this. It redraws while
>> panning.
> 
> Good news - there are no technical reasons that would prohibit us from
> such improvement. Background rendering could start earlier, we just
> need to add logic for such behavior. There is already a pending pull
> request from Nyall to render adjacent parts of map canvas once
> rendering of the visible area has finished - that may already be a
> sufficient solution - I have not had time to play with it yet though.
> Maybe these two approaches (render on map dragging, render outside of
> current view) can be combined somehow for the best UX while keeping
> overhead of extra rendering low.
> 
> We could even think about moving more towards tile-based approach to
> rendering of map canvas, with the advantage of being able to cache map
> tiles from previous canvas redraws for the same scale. This would
> allow instant appearance of areas previously rendered with lower CPU
> use at the expense of consuming more memory and having more
> complicated logic for labeling.
> 
> Regards
> Martin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170711/2d8c2116/attachment-0001.html>

From nyall.dawson at gmail.com  Tue Jul 11 02:26:34 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 11 Jul 2017 19:26:34 +1000
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <23cc9b6002a43832737a3e42528eea99@carto.net>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
 <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
 <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>
 <1DBAED71-95A8-41E1-8B36-2031C87D6039@hbaspecto.com>
 <CAB28Asgrn+gjf9+r0Tg37-a=jamX7iQmNwH6GAoPg9Rg67Re3Q@mail.gmail.com>
 <CAC2XbFeymy106p8gmB5MCDJo-n5ohzpPU9bSs63qReQq3r7ojA@mail.gmail.com>
 <3150034a31ba466e52e73c7974253660@carto.net>
 <CAC2XbFcSO98cjKxZkQ-0j4Xpy+GRqnjaYFLDQUCVrcca3HKyBA@mail.gmail.com>
 <23cc9b6002a43832737a3e42528eea99@carto.net>
Message-ID: <CAB28AshKymX3ihaKxKvBA3qR-ikHrQS3LBZDXPhFj9nR39-VJA@mail.gmail.com>

On 11 July 2017 at 19:22, Neumann, Andreas <a.neumann at carto.net> wrote:
> Hi Martin,
>
> Sounds interesting. Of course this is not urgent. We now need to concentrate
> on all the stuff that requires refactoring and API changes in the master
> branch.
>
> But it would really be nice, if such rendering improvements could be
> introduced in a future 3.x version. Maybe something for the next QGIS grants
> program?

Andreas - do you compile master builds? I'd love it if you could give
the branch from https://github.com/qgis/QGIS/pull/4777 a test and give
feedback on the open questions in that PR. I suspect you'll be pleased
with the behavior with that change.

Full credit for the changes goes to Sourcepole - I've just forward
ported the feature from their fork and modernised the code for 3.0.

Nyall

>
> Andreas
>
> On 2017-07-11 10:48, Martin Dobias wrote:
>
> Hi Andreas
>
> On Tue, Jul 11, 2017 at 9:38 AM, Neumann, Andreas <a.neumann at carto.net>
> wrote:
>
> Hi Martin,
>
> I noticed that loading and redraw only happens when the mouse button is
> released after the panning operation. While I understand the reasoning for
> this (definitely on the safe side and no unnecessary redraws), I wonder, if
> for WMTS, loading and display could already happen while panning and the
> mouse button isn't yet released, e.g. triggered whenever a certain threshold
> of panning distance (e.g. in percent of the last extent) was surpassed.
>
> This would be even nicer than the current behaviour. Or are there technical
> reasons, not to do that? Google maps works like this. It redraws while
> panning.
>
>
> Good news - there are no technical reasons that would prohibit us from
> such improvement. Background rendering could start earlier, we just
> need to add logic for such behavior. There is already a pending pull
> request from Nyall to render adjacent parts of map canvas once
> rendering of the visible area has finished - that may already be a
> sufficient solution - I have not had time to play with it yet though.
> Maybe these two approaches (render on map dragging, render outside of
> current view) can be combined somehow for the best UX while keeping
> overhead of extra rendering low.
>
> We could even think about moving more towards tile-based approach to
> rendering of map canvas, with the advantage of being able to cache map
> tiles from previous canvas redraws for the same scale. This would
> allow instant appearance of areas previously rendered with lower CPU
> use at the expense of consuming more memory and having more
> complicated logic for labeling.
>
> Regards
> Martin
>
>

From a.neumann at carto.net  Tue Jul 11 02:54:56 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Tue, 11 Jul 2017 11:54:56 +0200
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <CAB28AshKymX3ihaKxKvBA3qR-ikHrQS3LBZDXPhFj9nR39-VJA@mail.gmail.com>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
 <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
 <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>
 <1DBAED71-95A8-41E1-8B36-2031C87D6039@hbaspecto.com>
 <CAB28Asgrn+gjf9+r0Tg37-a=jamX7iQmNwH6GAoPg9Rg67Re3Q@mail.gmail.com>
 <CAC2XbFeymy106p8gmB5MCDJo-n5ohzpPU9bSs63qReQq3r7ojA@mail.gmail.com>
 <3150034a31ba466e52e73c7974253660@carto.net>
 <CAC2XbFcSO98cjKxZkQ-0j4Xpy+GRqnjaYFLDQUCVrcca3HKyBA@mail.gmail.com>
 <23cc9b6002a43832737a3e42528eea99@carto.net>
 <CAB28AshKymX3ihaKxKvBA3qR-ikHrQS3LBZDXPhFj9nR39-VJA@mail.gmail.com>
Message-ID: <17324cee5a850759b5a4b85305102305@carto.net>

Nice - I will test that branch. 

Andreas 

On 2017-07-11 11:26, Nyall Dawson wrote:

> On 11 July 2017 at 19:22, Neumann, Andreas <a.neumann at carto.net> wrote: 
> 
>> Hi Martin,
>> 
>> Sounds interesting. Of course this is not urgent. We now need to concentrate
>> on all the stuff that requires refactoring and API changes in the master
>> branch.
>> 
>> But it would really be nice, if such rendering improvements could be
>> introduced in a future 3.x version. Maybe something for the next QGIS grants
>> program?
> 
> Andreas - do you compile master builds? I'd love it if you could give
> the branch from https://github.com/qgis/QGIS/pull/4777 a test and give
> feedback on the open questions in that PR. I suspect you'll be pleased
> with the behavior with that change.
> 
> Full credit for the changes goes to Sourcepole - I've just forward
> ported the feature from their fork and modernised the code for 3.0.
> 
> Nyall
> 
>> Andreas
>> 
>> On 2017-07-11 10:48, Martin Dobias wrote:
>> 
>> Hi Andreas
>> 
>> On Tue, Jul 11, 2017 at 9:38 AM, Neumann, Andreas <a.neumann at carto.net>
>> wrote:
>> 
>> Hi Martin,
>> 
>> I noticed that loading and redraw only happens when the mouse button is
>> released after the panning operation. While I understand the reasoning for
>> this (definitely on the safe side and no unnecessary redraws), I wonder, if
>> for WMTS, loading and display could already happen while panning and the
>> mouse button isn't yet released, e.g. triggered whenever a certain threshold
>> of panning distance (e.g. in percent of the last extent) was surpassed.
>> 
>> This would be even nicer than the current behaviour. Or are there technical
>> reasons, not to do that? Google maps works like this. It redraws while
>> panning.
>> 
>> Good news - there are no technical reasons that would prohibit us from
>> such improvement. Background rendering could start earlier, we just
>> need to add logic for such behavior. There is already a pending pull
>> request from Nyall to render adjacent parts of map canvas once
>> rendering of the visible area has finished - that may already be a
>> sufficient solution - I have not had time to play with it yet though.
>> Maybe these two approaches (render on map dragging, render outside of
>> current view) can be combined somehow for the best UX while keeping
>> overhead of extra rendering low.
>> 
>> We could even think about moving more towards tile-based approach to
>> rendering of map canvas, with the advantage of being able to cache map
>> tiles from previous canvas redraws for the same scale. This would
>> allow instant appearance of areas previously rendered with lower CPU
>> use at the expense of consuming more memory and having more
>> complicated logic for labeling.
>> 
>> Regards
>> Martin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170711/4030dd12/attachment.html>

From manisandro at gmail.com  Tue Jul 11 05:00:28 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Tue, 11 Jul 2017 14:00:28 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <2643131.9G3uCidT8S@even-i700>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <a578492c-a193-1f6a-c24f-3091a62696dd@gmail.com>
 <9186b042-3244-334e-965b-47e509036412@gmail.com>
 <2643131.9G3uCidT8S@even-i700>
Message-ID: <a232e0ce-d2fc-4d22-f71e-c7efd35930ce@gmail.com>


On 10.07.2017 13:58, Even Rouault wrote:
>
> > I did some playing around and came up with some FeatureId mapping code
>
> > which is pretty space efficient (basically requiring just
>
> > 3*nDeletedFeatures entries), see below.
>
> >
>
> > The code however assumes that the gaps in the fid-sequence are filled by
>
> > decreasing the fids after the gap, which may be pretty specific to the
>
> > OGR/Shapefile behaviour.
>
> This should clearly be restricted to Shapefiles. Other drivers don't 
> have this compaction logic and will let happily holes in the feature ids.
>
> > Hence in my view such code should really belong
>
> > into the OGR provider (or perhaps even ogr itself) and not in the
>
> > plugin. Thoughts?
>
> Regarding putting that in OGR itself, there's no such API for that 
> right now, and I'm not completely clear of the value to add one 
> (specific use case, for a single driver)
>
> Perhaps the QGIS OGR provider would be a better place for now.
>
So that kinda works, but repacking still causes dreadful performance 
(say after fixing a couple of hundred "minimal area" errors, which 
results in the small features getting deleted, the shapefile is repacked 
after every delete).

So I'd really need a way to freeze repacking, even just for the timespan 
the plugin is busy fixing the errors. Unless there are some better 
ideas, I'll look at adding corresponding methods. A cool name would be 
beginTransaction/endTransaction which is kinda generic and could make 
sense for other providers as well, but unfortunately it collides with 
the existing transaction logic (QgsTransaction) which is about 
multi-layer transaction groups...


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170711/f3fb49a1/attachment.html>

From even.rouault at spatialys.com  Tue Jul 11 05:31:36 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 11 Jul 2017 14:31:36 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <a232e0ce-d2fc-4d22-f71e-c7efd35930ce@gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <2643131.9G3uCidT8S@even-i700>
 <a232e0ce-d2fc-4d22-f71e-c7efd35930ce@gmail.com>
Message-ID: <2754719.h3zfiqGzQP@even-i700>

On mardi 11 juillet 2017 14:00:28 CEST Sandro Mani wrote:
> On 10.07.2017 13:58, Even Rouault wrote:
> > > I did some playing around and came up with some FeatureId mapping code
> > > 
> > > which is pretty space efficient (basically requiring just
> > > 
> > > 3*nDeletedFeatures entries), see below.
> > > 
> > > 
> > > 
> > > The code however assumes that the gaps in the fid-sequence are filled by
> > > 
> > > decreasing the fids after the gap, which may be pretty specific to the
> > > 
> > > OGR/Shapefile behaviour.
> > 
> > This should clearly be restricted to Shapefiles. Other drivers don't
> > have this compaction logic and will let happily holes in the feature ids.
> > 
> > > Hence in my view such code should really belong
> > > 
> > > into the OGR provider (or perhaps even ogr itself) and not in the
> > > 
> > > plugin. Thoughts?
> > 
> > Regarding putting that in OGR itself, there's no such API for that
> > right now, and I'm not completely clear of the value to add one
> > (specific use case, for a single driver)
> > 
> > Perhaps the QGIS OGR provider would be a better place for now.
> 
> So that kinda works, but repacking still causes dreadful performance
> (say after fixing a couple of hundred "minimal area" errors, which
> results in the small features getting deleted, the shapefile is repacked
> after every delete).
> 
> So I'd really need a way to freeze repacking, even just for the timespan
> the plugin is busy fixing the errors. Unless there are some better
> ideas, I'll look at adding corresponding methods. A cool name would be
> beginTransaction/endTransaction which is kinda generic and could make
> sense for other providers as well, but unfortunately it collides with
> the existing transaction logic (QgsTransaction) which is about
> multi-layer transaction groups...

As you venture into the OGR provider, you'll see related things :

- there's an internal to the OGR provider startTransaction() / commitTransaction()  that is 
used only for SQL based drivers, and in the scope of a single operation like addFeatures() / 
deleteFeatures() /..

- there's a enterUpdateMode() / leaveUpdateMode() pair respectively called by 
QgsVectorLayer::startEditing() / QgsVectorLayer::commitChanges(). The purpose of that is to 
respectively re-open a read-only file as read-write, and re-open it from read-write back to 
read-only. This is for scenarios involving QGIS with other GIS open at the same time on th 
same file: if QGIS opens it in read-write mode, that prevents the other software from 
opening it (was initially for MapInfo).
We could potentially imagine to defer the repacking at leaveUpdateMode() time, actually in 
the close() method which is called when the reference counter of the update mode drops to 
zero (*), instead of doing it at the end of each operation.

Even

(*)  in the case changes are done directly on the provider objet, without using 
QgsVectorLayer::startEditing() / QgsVectorLayer::commitChanges(),  recompaction should be 
done at the minimum at close() time (with GDAL 2.2 or later, this wouldn't even be 
necessaryas automatically done by the OGR Shapefile driver, but that would matter for older 
versions).

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170711/ecdde54a/attachment-0001.html>

From manisandro at gmail.com  Tue Jul 11 05:39:22 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Tue, 11 Jul 2017 14:39:22 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <2754719.h3zfiqGzQP@even-i700>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <2643131.9G3uCidT8S@even-i700>
 <a232e0ce-d2fc-4d22-f71e-c7efd35930ce@gmail.com>
 <2754719.h3zfiqGzQP@even-i700>
Message-ID: <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>


On 11.07.2017 14:31, Even Rouault wrote:
>
> On mardi 11 juillet 2017 14:00:28 CEST Sandro Mani wrote:
>
> > On 10.07.2017 13:58, Even Rouault wrote:
>
> > > > I did some playing around and came up with some FeatureId 
> mapping code
>
> > > >
>
> > > > which is pretty space efficient (basically requiring just
>
> > > >
>
> > > > 3*nDeletedFeatures entries), see below.
>
> > > >
>
> > > >
>
> > > >
>
> > > > The code however assumes that the gaps in the fid-sequence are 
> filled by
>
> > > >
>
> > > > decreasing the fids after the gap, which may be pretty specific 
> to the
>
> > > >
>
> > > > OGR/Shapefile behaviour.
>
> > >
>
> > > This should clearly be restricted to Shapefiles. Other drivers don't
>
> > > have this compaction logic and will let happily holes in the 
> feature ids.
>
> > >
>
> > > > Hence in my view such code should really belong
>
> > > >
>
> > > > into the OGR provider (or perhaps even ogr itself) and not in the
>
> > > >
>
> > > > plugin. Thoughts?
>
> > >
>
> > > Regarding putting that in OGR itself, there's no such API for that
>
> > > right now, and I'm not completely clear of the value to add one
>
> > > (specific use case, for a single driver)
>
> > >
>
> > > Perhaps the QGIS OGR provider would be a better place for now.
>
> >
>
> > So that kinda works, but repacking still causes dreadful performance
>
> > (say after fixing a couple of hundred "minimal area" errors, which
>
> > results in the small features getting deleted, the shapefile is repacked
>
> > after every delete).
>
> >
>
> > So I'd really need a way to freeze repacking, even just for the timespan
>
> > the plugin is busy fixing the errors. Unless there are some better
>
> > ideas, I'll look at adding corresponding methods. A cool name would be
>
> > beginTransaction/endTransaction which is kinda generic and could make
>
> > sense for other providers as well, but unfortunately it collides with
>
> > the existing transaction logic (QgsTransaction) which is about
>
> > multi-layer transaction groups...
>
> As you venture into the OGR provider, you'll see related things :
>
> - there's an internal to the OGR provider startTransaction() / 
> commitTransaction() that is used only for SQL based drivers, and in 
> the scope of a single operation like addFeatures() / deleteFeatures() /..
>
> - there's a enterUpdateMode() / leaveUpdateMode() pair respectively 
> called by QgsVectorLayer::startEditing() / 
> QgsVectorLayer::commitChanges(). The purpose of that is to 
> respectively re-open a read-only file as read-write, and re-open it 
> from read-write back to read-only. This is for scenarios involving 
> QGIS with other GIS open at the same time on th same file: if QGIS 
> opens it in read-write mode, that prevents the other software from 
> opening it (was initially for MapInfo).
>
> We could potentially imagine to defer the repacking at 
> leaveUpdateMode() time, actually in the close() method which is called 
> when the reference counter of the update mode drops to zero (*), 
> instead of doing it at the end of each operation.
>
Thanks for the insight, I'll look at that approach.

Sandro

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170711/0deaa5d6/attachment.html>

From malauch at emtb.pl  Tue Jul 11 08:57:10 2017
From: malauch at emtb.pl (EMTB prywatne)
Date: Tue, 11 Jul 2017 17:57:10 +0200
Subject: [QGIS-Developer] QGIS 3.0 binaries for MacOS
Message-ID: <DFB10F02-C2E7-4FDC-86A6-FFBDA4B86334@emtb.pl>

Is it possible to find QGIS 3.0 development builds as binaries for MacOS (like it used to be on http://qgis.dakotacarto.com)? I would like to try and give you feedback about new version of QGIS but building from source is to much time consuming to incorporate it in my workflow.

Regards
_______________________
Micha≈Ç Jurewicz
tel. 517 752 328
e-mail: malauch at emtb.pl

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170711/86dfbe11/attachment.html>

From mj10777 at googlemail.com  Tue Jul 11 09:28:54 2017
From: mj10777 at googlemail.com (Mark Johnson)
Date: Tue, 11 Jul 2017 18:28:54 +0200
Subject: [QGIS-Developer] QDateTimeEdit: setting a useful minimum Date
Message-ID: <CAEEbjBiUiXRB_Cssv35b1x4kOuHAr-1L-ERUQH0CzSzpcs+5_Q@mail.gmail.com>

While working on an overhaul of the QgsSpatiaLiteProvider (for Spatialite
4.5.0), I just completed the portion for setting the default DATE/DATETIME
etc. only to find that for the QDateTimeEdit class, the beginning or the
world is determined by the Act of Parliament of 1751 (Calendar Act) - which
is a disaster for any Historical Database for any event before 1752-09-14.

Therefore it would be a good idea to set the lowest Date that can be
displayed as Qt::ISODate (0001-01-01T00:00:00) for all QDateTimeEdit being
used:
- minimumDateTime(QDateTime(QDate::fromString( "0001-01-01", Qt::ISODate
)));
(QDateTime can store lower Dates, but they cannot be displayed as an
ISODate)

If somebody could give a hint as to where the 'Feature Attributes" Dialog
is, I could try this out tomorrow.

Mark Johnson
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170711/97f063de/attachment.html>

From jlayt at kde.org  Tue Jul 11 12:31:12 2017
From: jlayt at kde.org (John Layt)
Date: Tue, 11 Jul 2017 20:31:12 +0100
Subject: [QGIS-Developer] QDateTimeEdit: setting a useful minimum Date
In-Reply-To: <CAEEbjBiUiXRB_Cssv35b1x4kOuHAr-1L-ERUQH0CzSzpcs+5_Q@mail.gmail.com>
References: <CAEEbjBiUiXRB_Cssv35b1x4kOuHAr-1L-ERUQH0CzSzpcs+5_Q@mail.gmail.com>
Message-ID: <CAM1DM6==1v89-WRTDMRO-BD+_AMZ3OTE+PUdssEDdGw+iW0wew@mail.gmail.com>

On 11 July 2017 at 17:28, Mark Johnson <mj10777 at googlemail.com> wrote:

> While working on an overhaul of the QgsSpatiaLiteProvider (for Spatialite
> 4.5.0), I just completed the portion for setting the default DATE/DATETIME
> etc. only to find that for the QDateTimeEdit class, the beginning or the
> world is determined by the Act of Parliament of 1751 (Calendar Act) - which
> is a disaster for any Historical Database for any event before 1752-09-14.
>

Fortunately, historical dates and time zones are are two of QDateTime
'bugs' I fixed for Qt5. To that extent, the future is brighter for the past
in QGIS 3 :-) Sadly at the time there was no QtWidgets maintainer so the
QDateTimeEdit patch to use it didn't get in. It may have been fixed in a
recent Qt5 release though, I think I saw a patch float past sometime in the
the last year or so...

Of course, that doesn't help you right now :-)

John.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170711/c686ae0b/attachment.html>

From a.neumann at carto.net  Tue Jul 11 13:21:42 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 11 Jul 2017 22:21:42 +0200
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <CAB28AshKymX3ihaKxKvBA3qR-ikHrQS3LBZDXPhFj9nR39-VJA@mail.gmail.com>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
 <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
 <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>
 <1DBAED71-95A8-41E1-8B36-2031C87D6039@hbaspecto.com>
 <CAB28Asgrn+gjf9+r0Tg37-a=jamX7iQmNwH6GAoPg9Rg67Re3Q@mail.gmail.com>
 <CAC2XbFeymy106p8gmB5MCDJo-n5ohzpPU9bSs63qReQq3r7ojA@mail.gmail.com>
 <3150034a31ba466e52e73c7974253660@carto.net>
 <CAC2XbFcSO98cjKxZkQ-0j4Xpy+GRqnjaYFLDQUCVrcca3HKyBA@mail.gmail.com>
 <23cc9b6002a43832737a3e42528eea99@carto.net>
 <CAB28AshKymX3ihaKxKvBA3qR-ikHrQS3LBZDXPhFj9nR39-VJA@mail.gmail.com>
Message-ID: <1b264dff-6a15-3917-1495-328c69c88b69@carto.net>

Hi Nyall,

I compiled your branch / pull request. Quite impressive! I like it.

Is it planned to land in master, or are there issues with this improvement?

One small issue I had, but maybe this is due to KDE, is that if I pan, 
and the mouse cursor goes off the canvas area, the redraw is 
paused/blocked, whereas, if the cursor stays inside the canvas area, 
redraws always happen as expected. Not sure if something can be done 
about this. It is also not a real problem.

Thanks to Sourcepole and you!

Andreas


On 11.07.2017 11:26, Nyall Dawson wrote:
> On 11 July 2017 at 19:22, Neumann, Andreas <a.neumann at carto.net> wrote:
>> Hi Martin,
>>
>> Sounds interesting. Of course this is not urgent. We now need to concentrate
>> on all the stuff that requires refactoring and API changes in the master
>> branch.
>>
>> But it would really be nice, if such rendering improvements could be
>> introduced in a future 3.x version. Maybe something for the next QGIS grants
>> program?
> Andreas - do you compile master builds? I'd love it if you could give
> the branch from https://github.com/qgis/QGIS/pull/4777 a test and give
> feedback on the open questions in that PR. I suspect you'll be pleased
> with the behavior with that change.
>
> Full credit for the changes goes to Sourcepole - I've just forward
> ported the feature from their fork and modernised the code for 3.0.
>
> Nyall
>
>> Andreas
>>
>> On 2017-07-11 10:48, Martin Dobias wrote:
>>
>> Hi Andreas
>>
>> On Tue, Jul 11, 2017 at 9:38 AM, Neumann, Andreas <a.neumann at carto.net>
>> wrote:
>>
>> Hi Martin,
>>
>> I noticed that loading and redraw only happens when the mouse button is
>> released after the panning operation. While I understand the reasoning for
>> this (definitely on the safe side and no unnecessary redraws), I wonder, if
>> for WMTS, loading and display could already happen while panning and the
>> mouse button isn't yet released, e.g. triggered whenever a certain threshold
>> of panning distance (e.g. in percent of the last extent) was surpassed.
>>
>> This would be even nicer than the current behaviour. Or are there technical
>> reasons, not to do that? Google maps works like this. It redraws while
>> panning.
>>
>>
>> Good news - there are no technical reasons that would prohibit us from
>> such improvement. Background rendering could start earlier, we just
>> need to add logic for such behavior. There is already a pending pull
>> request from Nyall to render adjacent parts of map canvas once
>> rendering of the visible area has finished - that may already be a
>> sufficient solution - I have not had time to play with it yet though.
>> Maybe these two approaches (render on map dragging, render outside of
>> current view) can be combined somehow for the best UX while keeping
>> overhead of extra rendering low.
>>
>> We could even think about moving more towards tile-based approach to
>> rendering of map canvas, with the advantage of being able to cache map
>> tiles from previous canvas redraws for the same scale. This would
>> allow instant appearance of areas previously rendered with lower CPU
>> use at the expense of consuming more memory and having more
>> complicated logic for labeling.
>>
>> Regards
>> Martin
>>
>>


From noreply at qgis.org  Tue Jul 11 15:44:16 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 11 Jul 2017 22:44:16 -0000
Subject: [QGIS-Developer] Plugin [1273] Repair Geometry (Reparar Geometria)
 approval notification.
Message-ID: <20170711224416.12961.38114@320558c5528b>


Plugin Repair Geometry (Reparar Geometria) approval by pcav.
The plugin version "[1273] Repair Geometry (Reparar Geometria) 0.1.3 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/RepairGeometry/

From nyall.dawson at gmail.com  Tue Jul 11 15:57:39 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 12 Jul 2017 08:57:39 +1000
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <1b264dff-6a15-3917-1495-328c69c88b69@carto.net>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
 <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
 <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>
 <1DBAED71-95A8-41E1-8B36-2031C87D6039@hbaspecto.com>
 <CAB28Asgrn+gjf9+r0Tg37-a=jamX7iQmNwH6GAoPg9Rg67Re3Q@mail.gmail.com>
 <CAC2XbFeymy106p8gmB5MCDJo-n5ohzpPU9bSs63qReQq3r7ojA@mail.gmail.com>
 <3150034a31ba466e52e73c7974253660@carto.net>
 <CAC2XbFcSO98cjKxZkQ-0j4Xpy+GRqnjaYFLDQUCVrcca3HKyBA@mail.gmail.com>
 <23cc9b6002a43832737a3e42528eea99@carto.net>
 <CAB28AshKymX3ihaKxKvBA3qR-ikHrQS3LBZDXPhFj9nR39-VJA@mail.gmail.com>
 <1b264dff-6a15-3917-1495-328c69c88b69@carto.net>
Message-ID: <CAB28AsjBSwEn1Cd+kyLmMNCg7rG802Uh9ftNBmyVA_dw2UZHzg@mail.gmail.com>

On 12 July 2017 at 06:21, Andreas Neumann <a.neumann at carto.net> wrote:
> Hi Nyall,
>
> I compiled your branch / pull request. Quite impressive! I like it.
>
> Is it planned to land in master, or are there issues with this improvement?

Well - from my use case I consider it ready. But there's some
outstanding questions which need solving (see the PR discussion):

- should this be normal behavior?
- should it be enabled for all layer types? wmts only (as per
sourcepole's original implementation)? local layers only (for those of
us on crap/expensive internet connections)? rasters only? vectors
only?
- is the cpu utilisation for rendering these possibly unseen tiles an
issue? or is cpu use so cheap nowdays that it's not a factor?
- should the rendering of the adjacent tiles only begin when a pan
starts? (would lose the zoom out benefits this brings, plus add a
delay in showing the nearby area when pan starts)

My 2c: just enable it for everything and let everyone get the benefits
without any configuration hassle. But... all my workstations are at
least 4 cores and lots of memory. So I'm probably not in the best
position to make this call ;)

Nyall

From nyall.dawson at gmail.com  Tue Jul 11 16:04:22 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 12 Jul 2017 09:04:22 +1000
Subject: [QGIS-Developer] QDateTimeEdit: setting a useful minimum Date
In-Reply-To: <CAM1DM6==1v89-WRTDMRO-BD+_AMZ3OTE+PUdssEDdGw+iW0wew@mail.gmail.com>
References: <CAEEbjBiUiXRB_Cssv35b1x4kOuHAr-1L-ERUQH0CzSzpcs+5_Q@mail.gmail.com>
 <CAM1DM6==1v89-WRTDMRO-BD+_AMZ3OTE+PUdssEDdGw+iW0wew@mail.gmail.com>
Message-ID: <CAB28AsghZz11ceD8ytX+PO-hKdpGmx1H04Ex8rqQHOMODemTsA@mail.gmail.com>

On 12 July 2017 at 05:31, John Layt <jlayt at kde.org> wrote:
> On 11 July 2017 at 17:28, Mark Johnson <mj10777 at googlemail.com> wrote:
>>
>> While working on an overhaul of the QgsSpatiaLiteProvider (for Spatialite
>> 4.5.0), I just completed the portion for setting the default DATE/DATETIME
>> etc. only to find that for the QDateTimeEdit class, the beginning or the
>> world is determined by the Act of Parliament of 1751 (Calendar Act) - which
>> is a disaster for any Historical Database for any event before 1752-09-14.
>
>
> Fortunately, historical dates and time zones are are two of QDateTime 'bugs'
> I fixed for Qt5. To that extent, the future is brighter for the past in QGIS
> 3 :-) Sadly at the time there was no QtWidgets maintainer so the
> QDateTimeEdit patch to use it didn't get in. It may have been fixed in a
> recent Qt5 release though, I think I saw a patch float past sometime in the
> the last year or so...
>
> Of course, that doesn't help you right now :-)

Ahhh - that's unfortunate. Seems to still be an issue in Qt 5.9.

>  If somebody could give a hint as to where the 'Feature Attributes" Dialog is, I could try this out tomorrow.

You'd be looking at the code in:
https://github.com/qgis/QGIS/blob/master/src/gui/editorwidgets/qgsdatetimeeditwrapper.cpp#L37
and
https://github.com/qgis/QGIS/blob/master/src/gui/editorwidgets/qgsdatetimeeditwrapper.cpp#L44

Unfortunately as John's pointed out - this is a limitation in Qt (not
QGIS). We have the QgsDateTimeEdit subclass, but that's only used for
adding null value handling to QDateTime. Maybe you can hack around
Qt's limitation in QgsDateTimeEdit (not sure if that's possible, my
suspicion is no). Alternatively it's rather extreme - but we could
possibly just reimplement the whole QDateTimeEdit widget.

Best approach would be to be good downstream citizens and get the fix
into upstream (this is something we really need to start doing
better!). Maybe you can resurrect John's patch and get it into
upstream?

Nyall

From nyall.dawson at gmail.com  Tue Jul 11 16:06:30 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 12 Jul 2017 09:06:30 +1000
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <2643131.9G3uCidT8S@even-i700>
 <a232e0ce-d2fc-4d22-f71e-c7efd35930ce@gmail.com>
 <2754719.h3zfiqGzQP@even-i700>
 <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>
Message-ID: <CAB28AshZRJZsxvViEn5yjrr4HmGLOOt9-eNWOUaAeSM5qmHt+g@mail.gmail.com>

>
> Thanks for the insight, I'll look at that approach.
>
> Sandro

I might have missed this in the earlier conversation, but why not
explore the option suggest of using the layer's edit buffer? I believe
this should automatically handle all the reassignment without any
changes needed (except flipping the direct dataProvider use to the
editBuffer).

Possibly it's nicer for users anyway if the fixes made by the plugin
are buffered and undo-able.

Nyall

From nyall.dawson at gmail.com  Tue Jul 11 16:39:10 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 12 Jul 2017 09:39:10 +1000
Subject: [QGIS-Developer] New node tool - undo steps
Message-ID: <CAB28Asjo=7aGK6dCFOt1hvjbMVd1eN=Oxq6rTPcDG=YB3JcULg@mail.gmail.com>

Hey all (+Martin),

I was using the new node tool last week and have a question about
undo/redo levels.

In 2.x the node tool saves undo steps for each individual operation.
i.e. delete a node, move a node, add a new are all individual undo
steps and can be individually rolled back. In 3.0 all node operations
get squashed to a single undo step. If I move a bunch of nodes, then
add some, and then accidentally delete one, undoing reverts all
actions rather then just the final delete action.

I find this a UX regression, and likely to be a cause of frustration
for users doing heavy amounts of node editing. Is this behavior by
design? Could it be flipped back to the 2.x behavior?

Otherwise the tool was a joy to use :)

Nyall

From madmanwoo at gmail.com  Tue Jul 11 16:44:58 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Wed, 12 Jul 2017 09:44:58 +1000
Subject: [QGIS-Developer] New node tool - undo steps
In-Reply-To: <CAB28Asjo=7aGK6dCFOt1hvjbMVd1eN=Oxq6rTPcDG=YB3JcULg@mail.gmail.com>
References: <CAB28Asjo=7aGK6dCFOt1hvjbMVd1eN=Oxq6rTPcDG=YB3JcULg@mail.gmail.com>
Message-ID: <CAAi8Yg-0-pNrkqGg2dwOEJHHmO0eY1CCt4PWsbPMbgF7yX5X_w@mail.gmail.com>

Hey,

Yeah, restore that if we can undoing everything isn't ideal there.

- Nathan

On Wed, Jul 12, 2017 at 9:39 AM, Nyall Dawson <nyall.dawson at gmail.com>
wrote:

> Hey all (+Martin),
>
> I was using the new node tool last week and have a question about
> undo/redo levels.
>
> In 2.x the node tool saves undo steps for each individual operation.
> i.e. delete a node, move a node, add a new are all individual undo
> steps and can be individually rolled back. In 3.0 all node operations
> get squashed to a single undo step. If I move a bunch of nodes, then
> add some, and then accidentally delete one, undoing reverts all
> actions rather then just the final delete action.
>
> I find this a UX regression, and likely to be a cause of frustration
> for users doing heavy amounts of node editing. Is this behavior by
> design? Could it be flipped back to the 2.x behavior?
>
> Otherwise the tool was a joy to use :)
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170712/54f82f9d/attachment.html>

From william.m.valencia at nasa.gov  Tue Jul 11 23:29:44 2017
From: william.m.valencia at nasa.gov (William Valencia)
Date: Wed, 12 Jul 2017 02:29:44 -0400
Subject: [QGIS-Developer] Adding a WCS Layer in QGIS makes multiple
	redundant calls.
Message-ID: <36c9f115-def3-d5b5-62b7-42df1969b869@nasa.gov>

I noticed something weird with QGIS. So when making an "Add WCS Layer" 
request with QGIS, I noticed that (After initial GetCapabilities and 
DescribeCoverage), multiple redundant calls to my WCS Server are made. 
The actual "Add" Button makes 12 calls to my WCS Server. It calls 1 
GetCapabilities, 1 DescribeCoverage, 4 GetCoverage and then repeats the 
last 6 calls for a total of 12 calls. I am unsure why QGIS makes 4 
GetCoverage calls in the first place, let alone the repeated last 6 
calls for the total of 12 calls. Anyone know why QGIS is doing this?

I am on a Mac running QGIS 2.18.9.

William


From a.neumann at carto.net  Wed Jul 12 00:11:53 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Wed, 12 Jul 2017 09:11:53 +0200
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <CAB28AsjBSwEn1Cd+kyLmMNCg7rG802Uh9ftNBmyVA_dw2UZHzg@mail.gmail.com>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
 <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
 <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>
 <1DBAED71-95A8-41E1-8B36-2031C87D6039@hbaspecto.com>
 <CAB28Asgrn+gjf9+r0Tg37-a=jamX7iQmNwH6GAoPg9Rg67Re3Q@mail.gmail.com>
 <CAC2XbFeymy106p8gmB5MCDJo-n5ohzpPU9bSs63qReQq3r7ojA@mail.gmail.com>
 <3150034a31ba466e52e73c7974253660@carto.net>
 <CAC2XbFcSO98cjKxZkQ-0j4Xpy+GRqnjaYFLDQUCVrcca3HKyBA@mail.gmail.com>
 <23cc9b6002a43832737a3e42528eea99@carto.net>
 <CAB28AshKymX3ihaKxKvBA3qR-ikHrQS3LBZDXPhFj9nR39-VJA@mail.gmail.com>
 <1b264dff-6a15-3917-1495-328c69c88b69@carto.net>
 <CAB28AsjBSwEn1Cd+kyLmMNCg7rG802Uh9ftNBmyVA_dw2UZHzg@mail.gmail.com>
Message-ID: <3fbf2bec8e2fd7858081969a3db1d65d@carto.net>

Hi, 

I tested it on Linux with WMTS and Postgis layers. It worked fine for
it. I would like to test it on Windows as well, but I can't compile it
on Windows .... if it would be in master, I could test the nightlies. 

Performancewise it worked fine on Linux. 

I am not so sure, if it should be enabled for WMS layers, because there
would most likely be issues with labels ... if there would be additional
tiles at the previous canvas border. I think for WMS the user should be
able to decide whether he wants to enable/disable. It may make sense for
unproblematic layers (e.g. Orthoimages) - but anything with dynamic
labels may have issues. But I think it is disabled for WMS anyway,
currently. 

Andreas 

On 2017-07-12 00:57, Nyall Dawson wrote:

> On 12 July 2017 at 06:21, Andreas Neumann <a.neumann at carto.net> wrote: 
> 
>> Hi Nyall,
>> 
>> I compiled your branch / pull request. Quite impressive! I like it.
>> 
>> Is it planned to land in master, or are there issues with this improvement?
> 
> Well - from my use case I consider it ready. But there's some
> outstanding questions which need solving (see the PR discussion):
> 
> - should this be normal behavior?
> - should it be enabled for all layer types? wmts only (as per
> sourcepole's original implementation)? local layers only (for those of
> us on crap/expensive internet connections)? rasters only? vectors
> only?
> - is the cpu utilisation for rendering these possibly unseen tiles an
> issue? or is cpu use so cheap nowdays that it's not a factor?
> - should the rendering of the adjacent tiles only begin when a pan
> starts? (would lose the zoom out benefits this brings, plus add a
> delay in showing the nearby area when pan starts)
> 
> My 2c: just enable it for everything and let everyone get the benefits
> without any configuration hassle. But... all my workstations are at
> least 4 cores and lots of memory. So I'm probably not in the best
> position to make this call ;)
> 
> Nyall
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170712/0302b20f/attachment.html>

From a.neumann at carto.net  Wed Jul 12 01:02:35 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Wed, 12 Jul 2017 10:02:35 +0200
Subject: [QGIS-Developer] QGIS expression: Formatting numbers with leading
	zeros
Message-ID: <10b79933522b4f0adf2e5aa3bbfe8333@carto.net>

Hi, 

Is there a way in a QGIS expression to format numbers with leading zeros
up to n places before the decimal point? E.g. 1 should be 00001, 10
should be 00010, etc. 

I would need this for correct sorting. 

I know, I could probably write a python expression, or something
complicated with CASE WHEN, but I'd like to avoid that. 

Perhaps something is already existing? 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170712/1bbaad09/attachment.html>

From nirvn.asia at gmail.com  Wed Jul 12 01:16:29 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Wed, 12 Jul 2017 15:16:29 +0700
Subject: [QGIS-Developer] QGIS expression: Formatting numbers with
	leading zeros
In-Reply-To: <10b79933522b4f0adf2e5aa3bbfe8333@carto.net>
References: <10b79933522b4f0adf2e5aa3bbfe8333@carto.net>
Message-ID: <CAC_qv=o+T0qrDdBj-kw4qXaA1gpw2iyN=UtF+6rKu_YcBFryew@mail.gmail.com>

Andreas,

I think you're looking for: lpad("my_number",n - length("my_number"),0)

Math

On Wed, Jul 12, 2017 at 3:02 PM, Neumann, Andreas <a.neumann at carto.net>
wrote:

> Hi,
>
> Is there a way in a QGIS expression to format numbers with leading zeros
> up to n places before the decimal point? E.g. 1 should be 00001, 10 should
> be 00010, etc.
>
> I would need this for correct sorting.
>
> I know, I could probably write a python expression, or something
> complicated with CASE WHEN, but I'd like to avoid that.
>
> Perhaps something is already existing?
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170712/6f6cfde1/attachment.html>

From a.neumann at carto.net  Wed Jul 12 01:54:38 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Wed, 12 Jul 2017 10:54:38 +0200
Subject: [QGIS-Developer] QGIS expression: Formatting numbers with
 leading zeros
In-Reply-To: <CAC_qv=o+T0qrDdBj-kw4qXaA1gpw2iyN=UtF+6rKu_YcBFryew@mail.gmail.com>
References: <10b79933522b4f0adf2e5aa3bbfe8333@carto.net>
 <CAC_qv=o+T0qrDdBj-kw4qXaA1gpw2iyN=UtF+6rKu_YcBFryew@mail.gmail.com>
Message-ID: <c68fcc4202f2294928e13d852160ff81@carto.net>

Hi Matthieu, 

It works, but slightly simpler ;-) 

We don't need the calculation "n-length("my_number"), because the second
parameter is the total string length. 

Anyway, it works now for me and it is rather easy with lpad. 

Thanks, 

Andreas 

On 2017-07-12 10:16, Mathieu Pellerin wrote:

> Andreas, 
> 
> I think you're looking for: lpad("my_number",n - length("my_number"),0) 
> 
> Math 
> 
> On Wed, Jul 12, 2017 at 3:02 PM, Neumann, Andreas <a.neumann at carto.net> wrote:
> 
>> Hi, 
>> 
>> Is there a way in a QGIS expression to format numbers with leading zeros up to n places before the decimal point? E.g. 1 should be 00001, 10 should be 00010, etc. 
>> 
>> I would need this for correct sorting. 
>> 
>> I know, I could probably write a python expression, or something complicated with CASE WHEN, but I'd like to avoid that. 
>> 
>> Perhaps something is already existing? 
>> 
>> Andreas 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer [1]

 

Links:
------
[1] https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170712/c521f2dd/attachment-0001.html>

From manisandro at gmail.com  Wed Jul 12 02:15:38 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Wed, 12 Jul 2017 11:15:38 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <CAB28AshZRJZsxvViEn5yjrr4HmGLOOt9-eNWOUaAeSM5qmHt+g@mail.gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <2643131.9G3uCidT8S@even-i700>
 <a232e0ce-d2fc-4d22-f71e-c7efd35930ce@gmail.com>
 <2754719.h3zfiqGzQP@even-i700>
 <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>
 <CAB28AshZRJZsxvViEn5yjrr4HmGLOOt9-eNWOUaAeSM5qmHt+g@mail.gmail.com>
Message-ID: <0f813f43-794d-5abe-0ca7-7374c2e9d2b1@gmail.com>



On 12.07.2017 01:06, Nyall Dawson wrote:
>> Thanks for the insight, I'll look at that approach.
>>
>> Sandro
> I might have missed this in the earlier conversation, but why not
> explore the option suggest of using the layer's edit buffer? I believe
> this should automatically handle all the reassignment without any
> changes needed (except flipping the direct dataProvider use to the
> editBuffer).
>
> Possibly it's nicer for users anyway if the fixes made by the plugin
> are buffered and undo-able.
The problem is that if one of the changes to be committed is refused by 
the provider, you're stuck not being able to commit the entire set of 
changes. And, since we are dealing with invalid geometries, it is not 
that unlikely that this occurs. Committing directly to the provider 
ensures that we know immediately whether a change is valid or not.

Sandro


From luipir at gmail.com  Wed Jul 12 02:41:33 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Wed, 12 Jul 2017 11:41:33 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <0f813f43-794d-5abe-0ca7-7374c2e9d2b1@gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <2643131.9G3uCidT8S@even-i700>
 <a232e0ce-d2fc-4d22-f71e-c7efd35930ce@gmail.com>
 <2754719.h3zfiqGzQP@even-i700>
 <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>
 <CAB28AshZRJZsxvViEn5yjrr4HmGLOOt9-eNWOUaAeSM5qmHt+g@mail.gmail.com>
 <0f813f43-794d-5abe-0ca7-7374c2e9d2b1@gmail.com>
Message-ID: <CAFO80_rOLcM431=97=ROYsP4CVU=1wORO3m5iV5arp+USFUU2A@mail.gmail.com>

why not add the feature to a more detailed notification of what is
wrong during commitChanges? Like point out a more detailed report of
the failing feature/attribute/geometry? it would just a new signal and
EditBuffer cache.

just my 2c
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 12 July 2017 at 11:15, Sandro Mani <manisandro at gmail.com> wrote:
>
>
> On 12.07.2017 01:06, Nyall Dawson wrote:
>>>
>>> Thanks for the insight, I'll look at that approach.
>>>
>>> Sandro
>>
>> I might have missed this in the earlier conversation, but why not
>> explore the option suggest of using the layer's edit buffer? I believe
>> this should automatically handle all the reassignment without any
>> changes needed (except flipping the direct dataProvider use to the
>> editBuffer).
>>
>> Possibly it's nicer for users anyway if the fixes made by the plugin
>> are buffered and undo-able.
>
> The problem is that if one of the changes to be committed is refused by the
> provider, you're stuck not being able to commit the entire set of changes.
> And, since we are dealing with invalid geometries, it is not that unlikely
> that this occurs. Committing directly to the provider ensures that we know
> immediately whether a change is valid or not.
>
> Sandro
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From manisandro at gmail.com  Wed Jul 12 04:00:03 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Wed, 12 Jul 2017 13:00:03 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <CAFO80_rOLcM431=97=ROYsP4CVU=1wORO3m5iV5arp+USFUU2A@mail.gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <2643131.9G3uCidT8S@even-i700>
 <a232e0ce-d2fc-4d22-f71e-c7efd35930ce@gmail.com>
 <2754719.h3zfiqGzQP@even-i700>
 <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>
 <CAB28AshZRJZsxvViEn5yjrr4HmGLOOt9-eNWOUaAeSM5qmHt+g@mail.gmail.com>
 <0f813f43-794d-5abe-0ca7-7374c2e9d2b1@gmail.com>
 <CAFO80_rOLcM431=97=ROYsP4CVU=1wORO3m5iV5arp+USFUU2A@mail.gmail.com>
Message-ID: <46c208d3-165f-d3e8-81bd-2b21434f2fab@gmail.com>



On 12.07.2017 11:41, Luigi Pirelli wrote:
> why not add the feature to a more detailed notification of what is
> wrong during commitChanges? Like point out a more detailed report of
> the failing feature/attribute/geometry? it would just a new signal and
> EditBuffer cache.
>
Uhm but that would still mean the changeset cannot be committed.

And as a side-note, the edit-buffer inbetween brings a number of 
challenges like:
- The user manually exiting the edit mode while the plugin is working
- The user changing something outside the control of the plugin. The 
plugin is fairly complex in that it updates all other errors based on 
the outcome of a fix - say, if you delete a duplicate node, it may have 
an effect of the vertex id used to describe a "minimal angle" error. 
Updating the errors works well as long as the plugin knows exactly what 
is going on, but if the user starts fiddling inbetween, it gets a real 
proper nightmare to track and handle all changes. Indeed, currently the 
plugin sets the layers to non-editable while it is working so that, 
short of removing the layer from the project, there is not much the user 
can do to interfere with the logic of the plugin.

Sandro

From alexander.bruy at gmail.com  Wed Jul 12 23:11:21 2017
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Thu, 13 Jul 2017 09:11:21 +0300
Subject: [QGIS-Developer] Processing 3.0: Dropping SelectByAttribute
	algorithm
Message-ID: <CALuHMPAbrGZRCy0STnLydkhuNjGNaH+McpWxE4Jb2gOEpPzSaw@mail.gmail.com>

As part of the ongoing Processing upgrade and cleanup we should take
the opportunity to get rid of duplicated algorithms.

Now, when we have powerful "Select by expression" tool personally I see no
reasons to keep "Select by attribute" which now provides only limited susbset
of selection options. Any objections to delete "Select by attribute"?

-- 
Alexander Bruy

From nirvn.asia at gmail.com  Wed Jul 12 23:13:53 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Thu, 13 Jul 2017 13:13:53 +0700
Subject: [QGIS-Developer] Processing 3.0: Dropping SelectByAttribute
	algorithm
In-Reply-To: <CALuHMPAbrGZRCy0STnLydkhuNjGNaH+McpWxE4Jb2gOEpPzSaw@mail.gmail.com>
References: <CALuHMPAbrGZRCy0STnLydkhuNjGNaH+McpWxE4Jb2gOEpPzSaw@mail.gmail.com>
Message-ID: <CAC_qv=r9sJkCV7i0xNsZQpHmZvzeK3ofsECG74T3i2VissA7gg@mail.gmail.com>

Would that negatively impact on models? Assuming here that the attribute
input was able to interact with model string outputs.

On Jul 13, 2017 13:11, "Alexander Bruy" <alexander.bruy at gmail.com> wrote:

> As part of the ongoing Processing upgrade and cleanup we should take
> the opportunity to get rid of duplicated algorithms.
>
> Now, when we have powerful "Select by expression" tool personally I see no
> reasons to keep "Select by attribute" which now provides only limited
> susbset
> of selection options. Any objections to delete "Select by attribute"?
>
> --
> Alexander Bruy
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170713/18bde52b/attachment.html>

From alexander.bruy at gmail.com  Wed Jul 12 23:16:23 2017
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Thu, 13 Jul 2017 09:16:23 +0300
Subject: [QGIS-Developer] Processing 3.0: Dropping SelectByAttribute
	algorithm
In-Reply-To: <CAC_qv=r9sJkCV7i0xNsZQpHmZvzeK3ofsECG74T3i2VissA7gg@mail.gmail.com>
References: <CALuHMPAbrGZRCy0STnLydkhuNjGNaH+McpWxE4Jb2gOEpPzSaw@mail.gmail.com>
 <CAC_qv=r9sJkCV7i0xNsZQpHmZvzeK3ofsECG74T3i2VissA7gg@mail.gmail.com>
Message-ID: <CALuHMPCkmpbESevezWfK1r8EJ3a=mwcW_kXcKRfG_Wn4WBhcBg@mail.gmail.com>

Module will be broken anyway
(https://github.com/qgis/QGIS-Enhancement-Proposals/issues/95)
so I see nothing bad here.

2017-07-13 9:13 GMT+03:00 Mathieu Pellerin <nirvn.asia at gmail.com>:
> Would that negatively impact on models? Assuming here that the attribute
> input was able to interact with model string outputs.
>
> On Jul 13, 2017 13:11, "Alexander Bruy" <alexander.bruy at gmail.com> wrote:
>>
>> As part of the ongoing Processing upgrade and cleanup we should take
>> the opportunity to get rid of duplicated algorithms.
>>
>> Now, when we have powerful "Select by expression" tool personally I see no
>> reasons to keep "Select by attribute" which now provides only limited
>> susbset
>> of selection options. Any objections to delete "Select by attribute"?
>>
>> --
>> Alexander Bruy
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer



-- 
Alexander Bruy

From alexander.bruy at gmail.com  Wed Jul 12 23:17:12 2017
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Thu, 13 Jul 2017 09:17:12 +0300
Subject: [QGIS-Developer] Processing 3.0: Dropping SelectByAttribute
	algorithm
In-Reply-To: <CALuHMPCkmpbESevezWfK1r8EJ3a=mwcW_kXcKRfG_Wn4WBhcBg@mail.gmail.com>
References: <CALuHMPAbrGZRCy0STnLydkhuNjGNaH+McpWxE4Jb2gOEpPzSaw@mail.gmail.com>
 <CAC_qv=r9sJkCV7i0xNsZQpHmZvzeK3ofsECG74T3i2VissA7gg@mail.gmail.com>
 <CALuHMPCkmpbESevezWfK1r8EJ3a=mwcW_kXcKRfG_Wn4WBhcBg@mail.gmail.com>
Message-ID: <CALuHMPAR4QTgHAF1jw14-fGm+wJbM2HSoAX_e8unWcJ6GxyL=w@mail.gmail.com>

Also we already removed bunch of other algs, e.g. Zonal Statistics,
old basic statistics, etc

2017-07-13 9:16 GMT+03:00 Alexander Bruy <alexander.bruy at gmail.com>:
> Module will be broken anyway
> (https://github.com/qgis/QGIS-Enhancement-Proposals/issues/95)
> so I see nothing bad here.
>
> 2017-07-13 9:13 GMT+03:00 Mathieu Pellerin <nirvn.asia at gmail.com>:
>> Would that negatively impact on models? Assuming here that the attribute
>> input was able to interact with model string outputs.
>>
>> On Jul 13, 2017 13:11, "Alexander Bruy" <alexander.bruy at gmail.com> wrote:
>>>
>>> As part of the ongoing Processing upgrade and cleanup we should take
>>> the opportunity to get rid of duplicated algorithms.
>>>
>>> Now, when we have powerful "Select by expression" tool personally I see no
>>> reasons to keep "Select by attribute" which now provides only limited
>>> susbset
>>> of selection options. Any objections to delete "Select by attribute"?
>>>
>>> --
>>> Alexander Bruy
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> --
> Alexander Bruy



-- 
Alexander Bruy

From nyall.dawson at gmail.com  Wed Jul 12 23:28:53 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 13 Jul 2017 16:28:53 +1000
Subject: [QGIS-Developer] Processing 3.0: Dropping SelectByAttribute
	algorithm
In-Reply-To: <CALuHMPAbrGZRCy0STnLydkhuNjGNaH+McpWxE4Jb2gOEpPzSaw@mail.gmail.com>
References: <CALuHMPAbrGZRCy0STnLydkhuNjGNaH+McpWxE4Jb2gOEpPzSaw@mail.gmail.com>
Message-ID: <CAB28AshfFKi3ZvmcH9954a996C7KUBC3==sPVrT95rGsx6evQA@mail.gmail.com>

On 13 July 2017 at 16:11, Alexander Bruy <alexander.bruy at gmail.com> wrote:
> As part of the ongoing Processing upgrade and cleanup we should take
> the opportunity to get rid of duplicated algorithms.
>
> Now, when we have powerful "Select by expression" tool personally I see no
> reasons to keep "Select by attribute" which now provides only limited susbset
> of selection options. Any objections to delete "Select by attribute"?

My 2c - I'm a strong supporter of dropping redundant algs, but in this
case I'd say there's a valid use case for it (users who aren't
familiar/comfortable with QGIS' expression engine).

Nyall

From nirvn.asia at gmail.com  Wed Jul 12 23:40:30 2017
From: nirvn.asia at gmail.com (Mathieu Pellerin)
Date: Thu, 13 Jul 2017 13:40:30 +0700
Subject: [QGIS-Developer] Processing 3.0: Dropping SelectByAttribute
	algorithm
In-Reply-To: <CALuHMPAR4QTgHAF1jw14-fGm+wJbM2HSoAX_e8unWcJ6GxyL=w@mail.gmail.com>
References: <CALuHMPAbrGZRCy0STnLydkhuNjGNaH+McpWxE4Jb2gOEpPzSaw@mail.gmail.com>
 <CAC_qv=r9sJkCV7i0xNsZQpHmZvzeK3ofsECG74T3i2VissA7gg@mail.gmail.com>
 <CALuHMPCkmpbESevezWfK1r8EJ3a=mwcW_kXcKRfG_Wn4WBhcBg@mail.gmail.com>
 <CALuHMPAR4QTgHAF1jw14-fGm+wJbM2HSoAX_e8unWcJ6GxyL=w@mail.gmail.com>
Message-ID: <CAC_qv=qUktX-M9tku_G6pEnC04VWjP-xpODUKsJCRPOVjLM07w@mail.gmail.com>

Right. I wasn't worried about breaking models per say, just wondering
whether the select by expression alg will play as nicely with intermediary
outputs.

On Jul 13, 2017 13:17, "Alexander Bruy" <alexander.bruy at gmail.com> wrote:

> Also we already removed bunch of other algs, e.g. Zonal Statistics,
> old basic statistics, etc
>
> 2017-07-13 9:16 GMT+03:00 Alexander Bruy <alexander.bruy at gmail.com>:
> > Module will be broken anyway
> > (https://github.com/qgis/QGIS-Enhancement-Proposals/issues/95)
> > so I see nothing bad here.
> >
> > 2017-07-13 9:13 GMT+03:00 Mathieu Pellerin <nirvn.asia at gmail.com>:
> >> Would that negatively impact on models? Assuming here that the attribute
> >> input was able to interact with model string outputs.
> >>
> >> On Jul 13, 2017 13:11, "Alexander Bruy" <alexander.bruy at gmail.com>
> wrote:
> >>>
> >>> As part of the ongoing Processing upgrade and cleanup we should take
> >>> the opportunity to get rid of duplicated algorithms.
> >>>
> >>> Now, when we have powerful "Select by expression" tool personally I
> see no
> >>> reasons to keep "Select by attribute" which now provides only limited
> >>> susbset
> >>> of selection options. Any objections to delete "Select by attribute"?
> >>>
> >>> --
> >>> Alexander Bruy
> >>> _______________________________________________
> >>> QGIS-Developer mailing list
> >>> QGIS-Developer at lists.osgeo.org
> >>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> >
> >
> >
> > --
> > Alexander Bruy
>
>
>
> --
> Alexander Bruy
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170713/d3d84f52/attachment.html>

From matthias at opengis.ch  Thu Jul 13 00:39:15 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 13 Jul 2017 09:39:15 +0200
Subject: [QGIS-Developer] Incremental drawing possible?
In-Reply-To: <CAB28AsjBSwEn1Cd+kyLmMNCg7rG802Uh9ftNBmyVA_dw2UZHzg@mail.gmail.com>
References: <mailman.94514.1499701467.18832.qgis-developer@lists.osgeo.org>
 <3B3C1487-E262-4FE7-A1C4-E50D20469116@hbaspecto.com>
 <CAAi8Yg-BCn5G2nauqoHJ5B9DQ6JNm99D3iU_NP5Rvst_d4KMgQ@mail.gmail.com>
 <1DBAED71-95A8-41E1-8B36-2031C87D6039@hbaspecto.com>
 <CAB28Asgrn+gjf9+r0Tg37-a=jamX7iQmNwH6GAoPg9Rg67Re3Q@mail.gmail.com>
 <CAC2XbFeymy106p8gmB5MCDJo-n5ohzpPU9bSs63qReQq3r7ojA@mail.gmail.com>
 <3150034a31ba466e52e73c7974253660@carto.net>
 <CAC2XbFcSO98cjKxZkQ-0j4Xpy+GRqnjaYFLDQUCVrcca3HKyBA@mail.gmail.com>
 <23cc9b6002a43832737a3e42528eea99@carto.net>
 <CAB28AshKymX3ihaKxKvBA3qR-ikHrQS3LBZDXPhFj9nR39-VJA@mail.gmail.com>
 <1b264dff-6a15-3917-1495-328c69c88b69@carto.net>
 <CAB28AsjBSwEn1Cd+kyLmMNCg7rG802Uh9ftNBmyVA_dw2UZHzg@mail.gmail.com>
Message-ID: <ec1cd353-4849-719d-4ba5-248868337816@opengis.ch>

On 07/12/2017 12:57 AM, Nyall Dawson wrote:
> On 12 July 2017 at 06:21, Andreas Neumann <a.neumann at carto.net> wrote:
>> Hi Nyall,
>>
>> I compiled your branch / pull request. Quite impressive! I like it.
>>
>> Is it planned to land in master, or are there issues with this improvement?
> 
> Well - from my use case I consider it ready. But there's some
> outstanding questions which need solving (see the PR discussion):
> 
> - should this be normal behavior?
> - should it be enabled for all layer types? wmts only (as per
> sourcepole's original implementation)? local layers only (for those of
> us on crap/expensive internet connections)? rasters only? vectors
> only?
> - is the cpu utilisation for rendering these possibly unseen tiles an
> issue? or is cpu use so cheap nowdays that it's not a factor?
> - should the rendering of the adjacent tiles only begin when a pan
> starts? (would lose the zoom out benefits this brings, plus add a
> delay in showing the nearby area when pan starts>
> 
> My 2c: just enable it for everything and let everyone get the benefits
> without any configuration hassle. But... all my workstations are at
> least 4 cores and lots of memory. So I'm probably not in the best
> position to make this call ;)


Yes, I also think enabling this by default for all kinds of datasources
will be fine. If it turns out to be a problem on some systems we can
still react and either add a blacklist of providers and/or add
configuration options (well hidden away somewhere ;) )

We could also try to play with QThread::setPriority to keep resources
free for other processes that are keen to get them (on systems that do
support thread priority).

Thanks Sourcepole and Nyall!

Matthias


> 
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From noreply at qgis.org  Thu Jul 13 00:38:22 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 13 Jul 2017 07:38:22 -0000
Subject: [QGIS-Developer] Plugin [1181] Hotspot Analysis approval
	notification.
Message-ID: <20170713073822.12961.28403@320558c5528b>


Plugin Hotspot Analysis approval by pcav.
The plugin version "[1181] Hotspot Analysis 0.3 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/HotspotAnalysis/

From noreply at qgis.org  Thu Jul 13 00:50:33 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 13 Jul 2017 07:50:33 -0000
Subject: [QGIS-Developer] Plugin [1195] MPA Post-Hoc Accounting approval
	notification.
Message-ID: <20170713075033.12961.81532@320558c5528b>


Plugin MPA Post-Hoc Accounting approval by pcav.
The plugin version "[1195] MPA Post-Hoc Accounting 0.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/MPAPostHocAccounting/

From noreply at qgis.org  Thu Jul 13 00:55:26 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 13 Jul 2017 07:55:26 -0000
Subject: [QGIS-Developer] Plugin [1163] Plugin Load Times approval
	notification.
Message-ID: <20170713075526.12955.92130@320558c5528b>


Plugin Plugin Load Times approval by pcav.
The plugin version "[1163] Plugin Load Times 1.99.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/PluginLoadTimes/

From noreply at qgis.org  Thu Jul 13 01:59:10 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 13 Jul 2017 08:59:10 -0000
Subject: [QGIS-Developer] Plugin [1247] Data Plotly approval notification.
Message-ID: <20170713085910.12956.63329@320558c5528b>


Plugin Data Plotly approval by pcav.
The plugin version "[1247] Data Plotly 0.3 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/DataPlotly/

From noreply at qgis.org  Thu Jul 13 02:03:58 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 13 Jul 2017 09:03:58 -0000
Subject: [QGIS-Developer] Plugin [1275] HexASCII tools approval notification.
Message-ID: <20170713090358.12956.62657@320558c5528b>


Plugin HexASCII tools approval by pcav.
The plugin version "[1275] HexASCII tools 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/hex-utils-qgis/

From noreply at qgis.org  Thu Jul 13 02:10:34 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 13 Jul 2017 09:10:34 -0000
Subject: [QGIS-Developer] Plugin [1274] Deactivate/Active Labels approval
	notification.
Message-ID: <20170713091034.12955.59521@320558c5528b>


Plugin Deactivate/Active Labels approval by pcav.
The plugin version "[1274] Deactivate/Active Labels 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/DeactivateActiveLabels/

From delazj at gmail.com  Thu Jul 13 02:31:54 2017
From: delazj at gmail.com (DelazJ)
Date: Thu, 13 Jul 2017 11:31:54 +0200
Subject: [QGIS-Developer] Pre-commit error: astyle not found
Message-ID: <CAECJsSoE4-DAGE+C5w4hrkp-UUODu+sU0WENLTuVf=JnPrY+5w@mail.gmail.com>

Hi folks,

I'm on Windows and try to commit some changes to my branch. As recommended
in the devs guidelines, I set my configuration with an automatic run of
prepare-commit.sh.
Now that I want to git commit, I get the message "astyle.sh not found" and
the command fails.

Can anyone help me with that?
Thanks.
Harrissou
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170713/ac77e9ff/attachment.html>

From nyall.dawson at gmail.com  Thu Jul 13 02:36:53 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 13 Jul 2017 19:36:53 +1000
Subject: [QGIS-Developer] Pre-commit error: astyle not found
In-Reply-To: <CAECJsSoE4-DAGE+C5w4hrkp-UUODu+sU0WENLTuVf=JnPrY+5w@mail.gmail.com>
References: <CAECJsSoE4-DAGE+C5w4hrkp-UUODu+sU0WENLTuVf=JnPrY+5w@mail.gmail.com>
Message-ID: <CAB28AsjRTu4XiraMnLsgNkpjsNJs5r+S6cDYudZRi2EJrfPuoQ@mail.gmail.com>

On 13 July 2017 at 19:31, DelazJ <delazj at gmail.com> wrote:
> Hi folks,
>
> I'm on Windows and try to commit some changes to my branch. As recommended
> in the devs guidelines, I set my configuration with an automatic run of
> prepare-commit.sh.
> Now that I want to git commit, I get the message "astyle.sh not found" and
> the command fails.

Make sure you've set WITH_ASTYLE to on in your cmake configuration.

Nyall

From delazj at gmail.com  Thu Jul 13 03:27:47 2017
From: delazj at gmail.com (DelazJ)
Date: Thu, 13 Jul 2017 12:27:47 +0200
Subject: [QGIS-Developer] Pre-commit error: astyle not found
In-Reply-To: <CAB28AsjRTu4XiraMnLsgNkpjsNJs5r+S6cDYudZRi2EJrfPuoQ@mail.gmail.com>
References: <CAECJsSoE4-DAGE+C5w4hrkp-UUODu+sU0WENLTuVf=JnPrY+5w@mail.gmail.com>
 <CAB28AsjRTu4XiraMnLsgNkpjsNJs5r+S6cDYudZRi2EJrfPuoQ@mail.gmail.com>
Message-ID: <CAECJsSoFosmz-n5u8b_uG1hD-bOkQc8NLMzToptiUJoPX2Ji9Q@mail.gmail.com>

Hi Nyall,

Sorry for that maybe noob question but you mean setting in the Cmakelists
file at the root of the repo:
SET (WITH_ASTYLE TRUE CACHE BOOL "If you want to contribute you should
reindent with scripts/prepare-commit.sh (using 'our' style)").
Am I right? Doing that doesn't change anything; still get the "astyle.sh
not found" error message. Anything else I should do?

Thanks.
Le jeudi 13 juillet 2017, Nyall Dawson <nyall.dawson at gmail.com> a √©crit :
> On 13 July 2017 at 19:31, DelazJ <delazj at gmail.com> wrote:
>> Hi folks,
>>
>> I'm on Windows and try to commit some changes to my branch. As
recommended
>> in the devs guidelines, I set my configuration with an automatic run of
>> prepare-commit.sh.
>> Now that I want to git commit, I get the message "astyle.sh not found"
and
>> the command fails.
>
> Make sure you've set WITH_ASTYLE to on in your cmake configuration.
>
> Nyall
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170713/fffc3e2c/attachment.html>

From matthias at opengis.ch  Thu Jul 13 03:32:14 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 13 Jul 2017 12:32:14 +0200
Subject: [QGIS-Developer] Pre-commit error: astyle not found
In-Reply-To: <CAECJsSoFosmz-n5u8b_uG1hD-bOkQc8NLMzToptiUJoPX2Ji9Q@mail.gmail.com>
References: <CAECJsSoE4-DAGE+C5w4hrkp-UUODu+sU0WENLTuVf=JnPrY+5w@mail.gmail.com>
 <CAB28AsjRTu4XiraMnLsgNkpjsNJs5r+S6cDYudZRi2EJrfPuoQ@mail.gmail.com>
 <CAECJsSoFosmz-n5u8b_uG1hD-bOkQc8NLMzToptiUJoPX2Ji9Q@mail.gmail.com>
Message-ID: <b945c0d4-c9e3-1192-16c6-1172bab902a5@opengis.ch>

On 07/13/2017 12:27 PM, DelazJ wrote:
> Hi Nyall,
> 
> Sorry for that maybe noob question but you mean setting in the
> Cmakelists file at the root of the repo:
> SET (WITH_ASTYLE TRUE CACHE BOOL "If you want to contribute you should
> reindent with scripts/prepare-commit.sh (using 'our' style)").
> Am I right? Doing that doesn't change anything; still get the "astyle.sh
> not found" error message. Anything else I should do?

Yes, that's the option.

You need to build again after enabling it, but after looking at your
error message, this mentions a shell script (.sh) which I don't think is
compatible with Windows.

Matthias

From delazj at gmail.com  Thu Jul 13 03:53:41 2017
From: delazj at gmail.com (DelazJ)
Date: Thu, 13 Jul 2017 12:53:41 +0200
Subject: [QGIS-Developer] Pre-commit error: astyle not found
In-Reply-To: <b945c0d4-c9e3-1192-16c6-1172bab902a5@opengis.ch>
References: <CAECJsSoE4-DAGE+C5w4hrkp-UUODu+sU0WENLTuVf=JnPrY+5w@mail.gmail.com>
 <CAB28AsjRTu4XiraMnLsgNkpjsNJs5r+S6cDYudZRi2EJrfPuoQ@mail.gmail.com>
 <CAECJsSoFosmz-n5u8b_uG1hD-bOkQc8NLMzToptiUJoPX2Ji9Q@mail.gmail.com>
 <b945c0d4-c9e3-1192-16c6-1172bab902a5@opengis.ch>
Message-ID: <CAECJsSoC0q3jDm0TcW4LPQwNMofuLR3+GK7=dMh1w+igQ1T9iw@mail.gmail.com>

Hmmm... While looking for a solution I realized that the few qgis astyle
mentions I found on the web were related to build process... But I just
want to check my changes and not try to build anything on Windows (I gave
up a while ago).

And yes, (unfortunately?) Qgis documentation/guidelines is mostly oriented
Unix like and indeed the prepare-commit command fail on the Windows
Commands Prompt. But I actually use a git bash application I've installed
at the time I was trying to build QGIS on my Windows (something related to
mingw) and it supports those bash commands.

Anyway, I "worked around" by commenting the astyle check part in the
prepare-commit.sh file, recreate the pre-commit file and I can commit
without error. I know this disables the check but it wasn't necessary for
the changes I did (i actually wanted to set the same configuration for the
repo than on my xenial).

But if anything I can do to have this work without resorting to build
process....

Le jeudi 13 juillet 2017, Matthias Kuhn <matthias at opengis.ch> a √©crit :
> On 07/13/2017 12:27 PM, DelazJ wrote:
>> Hi Nyall,
>>
>> Sorry for that maybe noob question but you mean setting in the
>> Cmakelists file at the root of the repo:
>> SET (WITH_ASTYLE TRUE CACHE BOOL "If you want to contribute you should
>> reindent with scripts/prepare-commit.sh (using 'our' style)").
>> Am I right? Doing that doesn't change anything; still get the "astyle.sh
>> not found" error message. Anything else I should do?
>
> Yes, that's the option.
>
> You need to build again after enabling it, but after looking at your
> error message, this mentions a shell script (.sh) which I don't think is
> compatible with Windows.
>
> Matthias
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170713/48e099ce/attachment-0001.html>

From anvit2a at gmail.com  Thu Jul 13 04:41:58 2017
From: anvit2a at gmail.com (Anders Vittrup)
Date: Thu, 13 Jul 2017 13:41:58 +0200
Subject: [QGIS-Developer]  QGIS edit widget force enable without edit mode
Message-ID: <CAGLzSgvcDTy2vuFKEoOpLQz=3xv-JQk3HZemQ2cS=OM5F_Uc6A@mail.gmail.com>

Hi,

I'm creating a plugin which creates a edit widget (or just a widget ? )
where i have a combobox and a few buttons.

Is it possible to force this widget to be enabled outside edit mode of the
layer ?
I have tried setEnabled on widget, parent, qgseditorwidgetwrapper and so on.

The widget only gets enabled when i edit mode. But i still want it to be
enabled when not in edit mode. I will select an item from the combobox and
then click on a button in the widget.

Is is this not possible or should i use another widgetwrapper than
qgseditorwidgetwrapper?

Best regards
Anders
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170713/74320de7/attachment.html>

From noreply at qgis.org  Thu Jul 13 08:31:25 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 13 Jul 2017 15:31:25 -0000
Subject: [QGIS-Developer] Plugin [1274] Deactivate/Active Labels approval
	notification.
Message-ID: <20170713153125.12961.73038@320558c5528b>


Plugin Deactivate/Active Labels approval by pcav.
The plugin version "[1274] Deactivate/Active Labels 0.1.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/DeactivateActiveLabels/

From noreply at qgis.org  Thu Jul 13 11:29:56 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 13 Jul 2017 18:29:56 -0000
Subject: [QGIS-Developer] Plugin [62] Load Them All approval notification.
Message-ID: <20170713182956.12956.79659@320558c5528b>


Plugin Load Them All approval by pcav.
The plugin version "[62] Load Them All 2.7" is now approved
Link: http://plugins.qgis.org/plugins/loadthemall/

From denis.rouzaud at gmail.com  Thu Jul 13 12:02:04 2017
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Thu, 13 Jul 2017 19:02:04 +0000
Subject: [QGIS-Developer] QGIS edit widget force enable without edit mode
In-Reply-To: <CAGLzSgvcDTy2vuFKEoOpLQz=3xv-JQk3HZemQ2cS=OM5F_Uc6A@mail.gmail.com>
References: <CAGLzSgvcDTy2vuFKEoOpLQz=3xv-JQk3HZemQ2cS=OM5F_Uc6A@mail.gmail.com>
Message-ID: <CAMtsY+Zv7+tL1mT-t2nNHErbUak5kK4DWCn7Y0xg0VcanGvXcQ@mail.gmail.com>

Hi Andreas,

You have to subclass QgsEditorWidgetWrapper and reimplement setEnabled
method (in which you can keep the widget always enabled).
Maybe have a look at QgsTextEditWrapper which keeps the line edit enabled
but read only.

Denis

Le jeu. 13 juil. 2017 √† 13:42, Anders Vittrup <anvit2a at gmail.com> a √©crit :

> Hi,
>
> I'm creating a plugin which creates a edit widget (or just a widget ? )
> where i have a combobox and a few buttons.
>
> Is it possible to force this widget to be enabled outside edit mode of the
> layer ?
> I have tried setEnabled on widget, parent, qgseditorwidgetwrapper and so
> on.
>
> The widget only gets enabled when i edit mode. But i still want it to be
> enabled when not in edit mode. I will select an item from the combobox and
> then click on a button in the widget.
>
> Is is this not possible or should i use another widgetwrapper than
> qgseditorwidgetwrapper?
>
> Best regards
> Anders
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170713/3b252f6c/attachment.html>

From wonder.sk at gmail.com  Thu Jul 13 14:39:39 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 13 Jul 2017 23:39:39 +0200
Subject: [QGIS-Developer] New node tool - undo steps
In-Reply-To: <CAB28Asjo=7aGK6dCFOt1hvjbMVd1eN=Oxq6rTPcDG=YB3JcULg@mail.gmail.com>
References: <CAB28Asjo=7aGK6dCFOt1hvjbMVd1eN=Oxq6rTPcDG=YB3JcULg@mail.gmail.com>
Message-ID: <CAC2XbFfwFh9He4MQY=d8=gx=bBuPXZDS+zFyMVMOJJQoNbDaTA@mail.gmail.com>

Hi Nyall

On Wed, Jul 12, 2017 at 1:39 AM, Nyall Dawson <nyall.dawson at gmail.com> wrote:
> Hey all (+Martin),
>
> I was using the new node tool last week and have a question about
> undo/redo levels.
>
> In 2.x the node tool saves undo steps for each individual operation.
> i.e. delete a node, move a node, add a new are all individual undo
> steps and can be individually rolled back. In 3.0 all node operations
> get squashed to a single undo step. If I move a bunch of nodes, then
> add some, and then accidentally delete one, undoing reverts all
> actions rather then just the final delete action.

Hmm... When I open the undo/redo view, the individual actions of node
tool are still recorded as separate commands. Playing with editing
tools I have found out that there must be something dodgy going on
with the undo stack: if there are two commands on the stack, undoing
first one it jumps right back to the initial geometry state, undoing
the second one has no effect - but - when redoing things work
correctly - I could redo each undo command separately.

So it seems that it is a more general problem not related to the node
tool overhaul - move feature tool seems to have exactly the same
issue... looks like a quite serious regression.

Cheers
Martin

From wonder.sk at gmail.com  Thu Jul 13 14:55:10 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu, 13 Jul 2017 23:55:10 +0200
Subject: [QGIS-Developer] Adding a WCS Layer in QGIS makes multiple
 redundant calls.
In-Reply-To: <36c9f115-def3-d5b5-62b7-42df1969b869@nasa.gov>
References: <36c9f115-def3-d5b5-62b7-42df1969b869@nasa.gov>
Message-ID: <CAC2XbFfi2hYOgBBgiRxe=ZEUtrFMqOnuCFjKjOx2SmfS7bxGLQ@mail.gmail.com>

Hi William

On Wed, Jul 12, 2017 at 8:29 AM, William Valencia
<william.m.valencia at nasa.gov> wrote:
> I noticed something weird with QGIS. So when making an "Add WCS Layer"
> request with QGIS, I noticed that (After initial GetCapabilities and
> DescribeCoverage), multiple redundant calls to my WCS Server are made. The
> actual "Add" Button makes 12 calls to my WCS Server. It calls 1
> GetCapabilities, 1 DescribeCoverage, 4 GetCoverage and then repeats the last
> 6 calls for a total of 12 calls. I am unsure why QGIS makes 4 GetCoverage
> calls in the first place, let alone the repeated last 6 calls for the total
> of 12 calls. Anyone know why QGIS is doing this?

I am not the author of the WCS provider, but I have some leads... the
extra GetCoverage calls are used for detection of some server
behaviors, from the code comments it looks like at some point there
were incompatibilities among WCS server implementations that lead to
addition of these checks to work around the incompatibilities. Not
sure if these checks are still necessary with the current versions of
map servers.

For the repeated calls, this a side-effect of introduction of
multi-threaded rendering since QGIS 2.4. WCS provider get cloned for
use in worker thread, but the cloning is sub-optimal - it does not
pass the downloaded capabilities, so cloned provider has to fetch that
again. It should not be hard to fix (I have fixed that for WMS in the
initial work, but WCS provider had low priority at the time).

Regards
Martin

From wonder.sk at gmail.com  Thu Jul 13 15:01:20 2017
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri, 14 Jul 2017 00:01:20 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
	data provider?
In-Reply-To: <0f813f43-794d-5abe-0ca7-7374c2e9d2b1@gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <2643131.9G3uCidT8S@even-i700>
 <a232e0ce-d2fc-4d22-f71e-c7efd35930ce@gmail.com>
 <2754719.h3zfiqGzQP@even-i700>
 <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>
 <CAB28AshZRJZsxvViEn5yjrr4HmGLOOt9-eNWOUaAeSM5qmHt+g@mail.gmail.com>
 <0f813f43-794d-5abe-0ca7-7374c2e9d2b1@gmail.com>
Message-ID: <CAC2XbFeWum-adDdUNs89ohnDRt6fcvqNbHMLRQRpgw5MvgeL0g@mail.gmail.com>

Hi Sandro

On Wed, Jul 12, 2017 at 11:15 AM, Sandro Mani <manisandro at gmail.com> wrote:
>
> The problem is that if one of the changes to be committed is refused by the
> provider, you're stuck not being able to commit the entire set of changes.
> And, since we are dealing with invalid geometries, it is not that unlikely
> that this occurs. Committing directly to the provider ensures that we know
> immediately whether a change is valid or not.

Out of curiosity, which providers tend to refuse features? I thought
that most providers will be happy to commit also invalid geometries
given that they do not mind storing them. Are geometries refused only
if they are invalid or are there also other related issues? Maybe it
would help if we did not allow users to commit invalid geometries? (or
only with big red warning that they should expect havoc, possibly end
of the world)

Cheers
Martin

From manisandro at gmail.com  Thu Jul 13 15:51:12 2017
From: manisandro at gmail.com (Sandro Mani)
Date: Fri, 14 Jul 2017 00:51:12 +0200
Subject: [QGIS-Developer] QGIS/OGR: FeatureIds reassigned on write to
 data provider?
In-Reply-To: <CAC2XbFeWum-adDdUNs89ohnDRt6fcvqNbHMLRQRpgw5MvgeL0g@mail.gmail.com>
References: <CACfnYnQN10z0q1axv_01D=i8bMOh+nfaEJ3jNXGhPZD_OdMjVg@mail.gmail.com>
 <2643131.9G3uCidT8S@even-i700>
 <a232e0ce-d2fc-4d22-f71e-c7efd35930ce@gmail.com>
 <2754719.h3zfiqGzQP@even-i700>
 <595f456a-67ba-2882-c75b-2c566c68d1e0@gmail.com>
 <CAB28AshZRJZsxvViEn5yjrr4HmGLOOt9-eNWOUaAeSM5qmHt+g@mail.gmail.com>
 <0f813f43-794d-5abe-0ca7-7374c2e9d2b1@gmail.com>
 <CAC2XbFeWum-adDdUNs89ohnDRt6fcvqNbHMLRQRpgw5MvgeL0g@mail.gmail.com>
Message-ID: <9781197c-6682-7703-fc55-210e9f3c6724@gmail.com>



On 14.07.2017 00:01, Martin Dobias wrote:
> Hi Sandro
>
> On Wed, Jul 12, 2017 at 11:15 AM, Sandro Mani <manisandro at gmail.com> wrote:
>> The problem is that if one of the changes to be committed is refused by the
>> provider, you're stuck not being able to commit the entire set of changes.
>> And, since we are dealing with invalid geometries, it is not that unlikely
>> that this occurs. Committing directly to the provider ensures that we know
>> immediately whether a change is valid or not.
> Out of curiosity, which providers tend to refuse features? I thought
> that most providers will be happy to commit also invalid geometries
> given that they do not mind storing them. Are geometries refused only
> if they are invalid or are there also other related issues? Maybe it
> would help if we did not allow users to commit invalid geometries? (or
> only with big red warning that they should expect havoc, possibly end
> of the world)
A typical example are attribute collisions when columns are marked as 
unique (and some geometry checker methods fix errors by merging features 
geometries and combining attributes via some scheme, and combining 
attributes does not always end up well).
I can't remember if I also encountered cases where commits were refused 
because of the actual geometry being invalid.

That said, as mentioned elsewhere in the thread, having the edit mode 
inbetween causes headaches because the user can interfere by manually 
changing geometries and the plugin loses track of what's going on.

Sandro

From noreply at qgis.org  Thu Jul 13 17:44:09 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 14 Jul 2017 00:44:09 -0000
Subject: [QGIS-Developer] Plugin [1052] Projestions approval notification.
Message-ID: <20170714004409.12961.66310@320558c5528b>


Plugin Projestions approval by pcav.
The plugin version "[1052] Projestions 0.2.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/Projestions/

From rhurlin at gwdg.de  Thu Jul 13 22:57:29 2017
From: rhurlin at gwdg.de (Rainer Hurling)
Date: Fri, 14 Jul 2017 07:57:29 +0200
Subject: [QGIS-Developer] QGIS 3.0 beta
In-Reply-To: <257d47f5-2d01-1d41-8c56-023c54029472@opengis.ch>
References: <257d47f5-2d01-1d41-8c56-023c54029472@opengis.ch>
Message-ID: <53c86f81-cec8-2acc-3b7d-f2960ee5aca6@gwdg.de>

Am 08.07.2017 um 10:13 schrieb Matthias Kuhn:
> Hi all,
> 
> Not too far away we will enter feature freeze for QGIS 3.0 and will be
> trying to polish the next release as much as possible.
> 
> During this time, a lot of testing will need to be done in order to be
> able to best spend the bugfixing time. There are a handful of people who
> regularly test nightlies and report bugs (thanks!).
> 
> I wonder if it's possible to attract more testers for the next release
> by providing a "beta".
> 
> I think releasing a version labelled "beta" at the beginning of the
> feature freeze (and another one half way through) will make more people
> aware of the upcoming release. This can lead to additional important
> testing from audience which otherwise would only "test" the final
> release (with a lower acceptance of bugs). Besides that, I think it will
> also be a good signal for devs to start porting plugin code and a very
> good preparation for end users marketing-wise.
> 
> It will be best served with a blog post explaining how critical the
> bugfixing phase is for a release and how resources for this are allocated.
> 
> It's just an idea I had in mind for some time. Does anyone dislike it?
> 
> Thanks
> Matthias

Many thanks for all the work on the upcoming 3.0 version. Really 
appreciated.

As the maintainer of the port for the FreeBSD operating system [1], I am 
in the process of preparing all dependencies for the 3.0 version. Some 
of the needed QT5 and Python3 deps are not present or usable on FreeBSD 
until now. We had good experiences with using 2.x.x versions of QGIS on 
FreeBSD :)

Here my question to the QGIS devs: Is there a (roughly complete) list of 
facultative and optional dependencies and their versions to build and 
run a QGIS 3.0 (beta) on Unix-alike systems? And also, is there a 
(commented) list of options, one can enable/disable at build time?

Any hint or help is really appreciated.

Thanks in advance and greetings from G√∂ttingen in Germany,
Rainer Hurling


[1] http://www.freshports.org/graphics/qgis

From giovanni.manghi at gmail.com  Fri Jul 14 06:28:58 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Fri, 14 Jul 2017 14:28:58 +0100
Subject: [QGIS-Developer] New node tool - undo steps
Message-ID: <CACfnYnSPUB4o-HnAXMdN-E41AU4PVKUgxHOm_+7VvQjJddBfgQ@mail.gmail.com>

> So it seems that it is a more general problem not related to the node
> tool overhaul - move feature tool seems to have exactly the same
> issue... looks like a quite serious regression.

yeah... just confirmed that, will open a regression ticket now about it.


cheers

-- G --

From jef at norbit.de  Fri Jul 14 06:39:55 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Fri, 14 Jul 2017 15:39:55 +0200
Subject: [QGIS-Developer] Pre-commit error: astyle not found
In-Reply-To: <CAECJsSoC0q3jDm0TcW4LPQwNMofuLR3+GK7=dMh1w+igQ1T9iw@mail.gmail.com>
References: <CAECJsSoE4-DAGE+C5w4hrkp-UUODu+sU0WENLTuVf=JnPrY+5w@mail.gmail.com>
 <CAB28AsjRTu4XiraMnLsgNkpjsNJs5r+S6cDYudZRi2EJrfPuoQ@mail.gmail.com>
 <CAECJsSoFosmz-n5u8b_uG1hD-bOkQc8NLMzToptiUJoPX2Ji9Q@mail.gmail.com>
 <b945c0d4-c9e3-1192-16c6-1172bab902a5@opengis.ch>
 <CAECJsSoC0q3jDm0TcW4LPQwNMofuLR3+GK7=dMh1w+igQ1T9iw@mail.gmail.com>
Message-ID: <20170714133955.afhabgfqsiixs5mt@norbit.de>

Hi Harrissou

On Thu, 13. Jul 2017 at 12:53:41 +0200, DelazJ wrote:
> Anyway, I "worked around" by commenting the astyle check part in the
> prepare-commit.sh file, recreate the pre-commit file and I can commit without
> error. I know this disables the check but it wasn't necessary for the changes
> I did (i actually wanted to set the same configuration for the repo than on
> my xenial).

prepare-commit.sh also requires a shell.  

TOPLEVEL=$(git rev-parse --show-toplevel)

probably doesn't produce the right directory, hence 

PATH=$TOPLEVEL/scripts:$PATH

doesn't add the scripts directory to the paths and therefore astyle.sh is not
found.

> But if anything I can do to have this work without resorting to build
> process....

Using it from cygwin works just fine (which IMHO is the bare minimum to get a
usable environment on Windows ;)).


J√ºrgen

-- 
J√ºrgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra√üe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170714/0292af03/attachment.sig>

From noreply at qgis.org  Fri Jul 14 09:08:53 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 14 Jul 2017 16:08:53 -0000
Subject: [QGIS-Developer] Plugin [1270] BGT Import approval notification.
Message-ID: <20170714160853.12961.25664@320558c5528b>


Plugin BGT Import approval by pcav.
The plugin version "[1270] BGT Import 0.3" is now approved
Link: http://plugins.qgis.org/plugins/BGTImport/

From noreply at qgis.org  Fri Jul 14 09:09:24 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 14 Jul 2017 16:09:24 -0000
Subject: [QGIS-Developer] Plugin [609] Temporal/Spectral Profile Tool
	approval notification.
Message-ID: <20170714160924.12955.466@320558c5528b>


Plugin Temporal/Spectral Profile Tool approval by pcav.
The plugin version "[609] Temporal/Spectral Profile Tool 1.2.1" is now approved
Link: http://plugins.qgis.org/plugins/temporalprofiletool/

From noreply at qgis.org  Fri Jul 14 09:09:42 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 14 Jul 2017 16:09:42 -0000
Subject: [QGIS-Developer] Plugin [1021] CAIGOS PostgreSQL Konnektor approval
	notification.
Message-ID: <20170714160942.12961.18219@320558c5528b>


Plugin CAIGOS PostgreSQL Konnektor approval by pcav.
The plugin version "[1021] CAIGOS PostgreSQL Konnektor 0.4" is now approved
Link: http://plugins.qgis.org/plugins/CaigosConnector/

From lbartoletti at tuxfamily.org  Fri Jul 14 22:19:56 2017
From: lbartoletti at tuxfamily.org (L.Bartoletti)
Date: Sat, 15 Jul 2017 07:19:56 +0200
Subject: [QGIS-Developer] FOSS4G Europe in Paris next week
In-Reply-To: <CAMKXKO6tD0MeU+3e9MPmqg5x=mMp=0s_KwnA2AQ9X20OpVXgnA@mail.gmail.com>
References: <CABgOYCcY2RmMBgKOqks5w4sK1G--5PdOrVr0sZnp2pQBw+CVyQ@mail.gmail.com>
 <3341194.uhkxaFLITa@tatras>
 <CAMKXKO6tD0MeU+3e9MPmqg5x=mMp=0s_KwnA2AQ9X20OpVXgnA@mail.gmail.com>
Message-ID: <6b0601d2-261c-219d-5ddc-70b969db6e09@tuxfamily.org>

Hi,

I'll be present for conferences.


Le 08.07.2017 √† 10:54, kimaidou a √©crit :
> Hi all
>
> I will be present too !
>
> 2017-07-05 16:36 GMT+02:00 Yves Jacolin <yjacolin at free.fr 
> <mailto:yjacolin at free.fr>>:
>
>     R√©gis,
>
>     I will be present all week so even for the code sprint!
>
>     Y.
>     On mercredi 5 juillet 2017 16:16:46 CEST R√©gis Haubourg wrote:
>     > Hi all,
>     > within two weeks  the FOSS4G Europe is held near Paris at the
>     National
>     > Geographic Institute School (ENSG) from tuesday 18th to 22nd of
>     July.
>     >
>     > Will some of QGIS developers or other involved parties be there?
>     That would
>     > be nice to meet some of you.
>     >
>     >
>     > Concerning QGIS, there will be some interesting talks or workshops:
>     >
>     > - GML application schema made easy in GDAL/OGR and QGIS workshop
>     > - Lizmap workshop
>     >
>     > - QGIS server refactoring for QGIS 3 - talk
>     > - Data Processing with QGIS -talk
>     >
>     >
>     > See you there!
>     >
>     > Cheers
>     > R√©gis (and all the Oslandia Team)
>
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170715/f6df6334/attachment.html>

From cavallini at faunalia.it  Sun Jul 16 07:38:59 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun, 16 Jul 2017 17:38:59 +0300
Subject: [QGIS-Developer] Adding WMS and WFS from Metasearch fails in Q3
Message-ID: <e0f0879d-62da-bd59-248f-be313b877ad6@faunalia.it>

For WFS:

AttributeError: 'QMainWindow' object has no attribute 'addWfsLayer'
Traceback (most recent call last):
  File
"/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/MetaSearch/dialogs/maindialog.py",
line 781, in add_to_ows
    ows_provider.addWfsLayer.connect(self.iface.mainWindow().addWfsLayer)
AttributeError: 'QMainWindow' object has no attribute 'addWfsLayer'

For WMS, the WMS dialog is opened, but a new recod is not added to the list.

All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From rldhont at gmail.com  Mon Jul 17 00:46:28 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Mon, 17 Jul 2017 09:46:28 +0200
Subject: [QGIS-Developer] FOSS4G Europe in Paris next week
In-Reply-To: <6b0601d2-261c-219d-5ddc-70b969db6e09@tuxfamily.org>
References: <CABgOYCcY2RmMBgKOqks5w4sK1G--5PdOrVr0sZnp2pQBw+CVyQ@mail.gmail.com>
 <3341194.uhkxaFLITa@tatras>
 <CAMKXKO6tD0MeU+3e9MPmqg5x=mMp=0s_KwnA2AQ9X20OpVXgnA@mail.gmail.com>
 <6b0601d2-261c-219d-5ddc-70b969db6e09@tuxfamily.org>
Message-ID: <495e3cd4-a841-d126-773c-7577ab46b2a7@gmail.com>

H all,

The 3Liz team will be present.


Le 15/07/2017 √† 07:19, L.Bartoletti a √©crit :
>
> Hi,
>
> I'll be present for conferences.
>
>
> Le 08.07.2017 √† 10:54, kimaidou a √©crit :
>> Hi all
>>
>> I will be present too !
>>
>> 2017-07-05 16:36 GMT+02:00 Yves Jacolin <yjacolin at free.fr 
>> <mailto:yjacolin at free.fr>>:
>>
>>     R√©gis,
>>
>>     I will be present all week so even for the code sprint!
>>
>>     Y.
>>     On mercredi 5 juillet 2017 16:16:46 CEST R√©gis Haubourg wrote:
>>     > Hi all,
>>     > within two weeks  the FOSS4G Europe is held near Paris at the
>>     National
>>     > Geographic Institute School (ENSG) from tuesday 18th to 22nd of
>>     July.
>>     >
>>     > Will some of QGIS developers or other involved parties be
>>     there? That would
>>     > be nice to meet some of you.
>>     >
>>     >
>>     > Concerning QGIS, there will be some interesting talks or workshops:
>>     >
>>     > - GML application schema made easy in GDAL/OGR and QGIS workshop
>>     > - Lizmap workshop
>>     >
>>     > - QGIS server refactoring for QGIS 3 - talk
>>     > - Data Processing with QGIS -talk
>>     >
>>     >
>>     > See you there!
>>     >
>>     > Cheers
>>     > R√©gis (and all the Oslandia Team)
>>
>>
>>     _______________________________________________
>>     QGIS-Developer mailing list
>>     QGIS-Developer at lists.osgeo.org
>>     <mailto:QGIS-Developer at lists.osgeo.org>
>>     List info:
>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>     Unsubscribe:
>>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>>
>>
>>
>>
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe:https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170717/11955bc8/attachment.html>

From noreply at qgis.org  Mon Jul 17 01:01:37 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 17 Jul 2017 08:01:37 -0000
Subject: [QGIS-Developer] Plugin [636] refFunctions approval notification.
Message-ID: <20170717080137.20479.61565@320558c5528b>


Plugin refFunctions approval by pcav.
The plugin version "[636] refFunctions 1.4" is now approved
Link: http://plugins.qgis.org/plugins/refFunctions/

From a.neumann at carto.net  Mon Jul 17 02:21:03 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Mon, 17 Jul 2017 11:21:03 +0200
Subject: [QGIS-Developer] Enhance expression editor with list of relations
 and tables present in project?
Message-ID: <4b0ccc02e7dbf3a2f4faf181e958cfcd@carto.net>

Hi, 

I think it would be good if the expression editor could show a list of: 

a) relations (group could be called "Relations") 

b) other tables (group could be called "Tables") 

Just like the "Fields and values" group, it would be a list of existing
relations and tables. 

Otherwise it is a bit complicated spelling relation names and table
names correctly. 

The relation_aggregate expression and the get_feature function would be
much easier to use with this enhancement. 

I would also assume that in the future, there will be more expression
functions that make use of other tables and relations. 

Which developer could work on that? 

I created a ticket: https://issues.qgis.org/issues/16879 

Thanks, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170717/6574f81f/attachment.html>

From martin.pescador at inventati.org  Mon Jul 17 01:59:08 2017
From: martin.pescador at inventati.org (Martino)
Date: Mon, 17 Jul 2017 09:59:08 +0100
Subject: [QGIS-Developer] Error in zonal statistics?
Message-ID: <1500281948.2331.1.camel@inventati.org>

Dear Colleagues

I am attempting to use the zonal statistics tool of QGIS.¬†

I am overlaying a vector layer containing zones on a raster layer that
contains temperature data. When I use a climate raster layer from
WorlClim (http://worldclim.org/version2) everything works as expected.

However, when I use a climate raster layer from¬†

https://utexas.app.box.com/v/Xavier-etal-IJOC-DATA

the process does not run and I receive the error message

'unsupported operand type(s) for *: 'float' and 'NoneType' See log for
more details'

I don't know what this means but a Google search suggests this is a
Python message, and this is why I am sending this query to the QGIS
developer list (please forgive me if I have erred). 

I would be grateful if anybody could instruct me how I could delve into
this matter further, with the aim of resolving the problem.

With grateful thanks!

Martino


From a.neumann at carto.net  Mon Jul 17 05:16:36 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Mon, 17 Jul 2017 14:16:36 +0200
Subject: [QGIS-Developer] About dialogue: QGIS code revision vs QGIS code
	branch
Message-ID: <b96eff151883f733513eb6f9e8cb210d@carto.net>

Hi, 

In the QGIS about dialogue I can see the QGIS code revision (e.g. on the
QGIS master nightlies). 

I noticed, on another machine, a self compiled QGIS, that I don't see
the code revision, but it only displays a "QGIS code branch" instead,
with "Release 2.99" as the value. 

Does this mean something is busted with my git repo? "git log" shows
that I am at the newest revision, but I would really like to know what
exact code revision my self-compiled version is running, to double check
if I am really running the very latest revision. 

Thanks, 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170717/a42de381/attachment.html>

From regis.haubourg at gmail.com  Mon Jul 17 05:26:33 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 17 Jul 2017 14:26:33 +0200
Subject: [QGIS-Developer] About dialogue: QGIS code revision vs QGIS
	code branch
In-Reply-To: <b96eff151883f733513eb6f9e8cb210d@carto.net>
References: <b96eff151883f733513eb6f9e8cb210d@carto.net>
Message-ID: <CABgOYCcni8w=uf7dPFh-ap5Fq6n6C-N63VYgJJz5ooiEKhQFJA@mail.gmail.com>

Hi, same here.
Previously, it pointed out to the commit url on github, something must be
broken now it tries to display the branch name.

R√©gis

2017-07-17 14:16 GMT+02:00 Neumann, Andreas <a.neumann at carto.net>:

> Hi,
>
> In the QGIS about dialogue I can see the QGIS code revision (e.g. on the
> QGIS master nightlies).
>
> I noticed, on another machine, a self compiled QGIS, that I don't see the
> code revision, but it only displays a "QGIS code branch" instead, with
> "Release 2.99" as the value.
>
> Does this mean something is busted with my git repo? "git log" shows that
> I am at the newest revision, but I would really like to know what exact
> code revision my self-compiled version is running, to double check if I am
> really running the very latest revision.
>
> Thanks,
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170717/2816dbf1/attachment-0001.html>

From jef at norbit.de  Mon Jul 17 06:32:17 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 17 Jul 2017 15:32:17 +0200
Subject: [QGIS-Developer] About dialogue: QGIS code revision vs QGIS
 code branch
In-Reply-To: <b96eff151883f733513eb6f9e8cb210d@carto.net>
References: <b96eff151883f733513eb6f9e8cb210d@carto.net>
Message-ID: <20170717133217.ty3sut2fqkbv4qt2@norbit.de>

Hi Andreas,

On Mon, 17. Jul 2017 at 14:16:36 +0200, Neumann, Andreas wrote:
> I noticed, on another machine, a self compiled QGIS, that I don't see
> the code revision, but it only displays a "QGIS code branch" instead,
> with "Release 2.99" as the value. 

Please verify with bcc8e90640d.


J√ºrgen

-- 
J√ºrgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra√üe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170717/71eec3ac/attachment.sig>

From a.neumann at carto.net  Mon Jul 17 08:07:03 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Mon, 17 Jul 2017 17:07:03 +0200
Subject: [QGIS-Developer] About dialogue: QGIS code revision vs QGIS
 code branch
In-Reply-To: <20170717133217.ty3sut2fqkbv4qt2@norbit.de>
References: <b96eff151883f733513eb6f9e8cb210d@carto.net>
 <20170717133217.ty3sut2fqkbv4qt2@norbit.de>
Message-ID: <530ef649e8a8bc3fea874011b05a8f6f@carto.net>

Hi J√ºrgen, 

thx for the fix. 

Unfortunately I now get a crash during startup after I compiled the
newest version ;-) 

QGIS died on signal 11. Could not attach to process. There is some more
stuff in the error message. Not sure if it is relevant. 

I did a "ninja clean" to make sure there is no old stuff around that may
cause the crash. 

Andreas 

On 2017-07-17 15:32, J√ºrgen E. Fischer wrote:

> Hi Andreas,
> 
> On Mon, 17. Jul 2017 at 14:16:36 +0200, Neumann, Andreas wrote: 
> 
>> I noticed, on another machine, a self compiled QGIS, that I don't see
>> the code revision, but it only displays a "QGIS code branch" instead,
>> with "Release 2.99" as the value.
> 
> Please verify with bcc8e90640d.
> 
> J√ºrgen 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170717/a0350948/attachment.html>

From rdmailings at duif.net  Mon Jul 17 08:14:38 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 17 Jul 2017 17:14:38 +0200
Subject: [QGIS-Developer] FALLTHROUGH
Message-ID: <646203f6-ef09-0500-e364-78342700429a@duif.net>

Hi,

Compiling master / Debian testing I get a lot of the warning as seen below.

Is there some compile option I have to add? Of is it something temporarily?

Regards,

Richard


In file included from
/home/richard/dev/qgis/git/qgis/src/core/qgsmaplayerstore.h:23:0,
                 from
/home/richard/dev/qgis/git/qgis/src/core/qgsproject.h:42,
                 from
/home/richard/dev/qgis/git/qgis/src/core/expression/qgsexpressionutils.h:26,
                 from
/home/richard/dev/qgis/git/qgis/src/core/expression/qgsexpressionnodeimpl.cpp:17:
/home/richard/dev/qgis/git/qgis/src/core/expression/qgsexpressionnodeimpl.cpp:
In member function ‚Äòvirtual QVariant
QgsExpressionNodeBinaryOperator::evalNode(QgsExpression*, const
QgsExpressionContext*)‚Äô:
/home/richard/dev/qgis/git/qgis/src/core/qgis.h:389:21: warning:
attributes at the beginning of statement are ignored [-Wattributes]
 #define FALLTHROUGH [[gnu::fallthrough]];
                     ^
/home/richard/dev/qgis/git/qgis/src/core/expression/qgsexpressionnodeimpl.cpp:182:7:
note: in expansion of macro ‚ÄòFALLTHROUGH‚Äô
       FALLTHROUGH;
       ^~~~~~~~~~~

From regis.haubourg at gmail.com  Mon Jul 17 08:17:03 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 17 Jul 2017 17:17:03 +0200
Subject: [QGIS-Developer] add an new feed to http://plugins.qgis.org/planet/
	?
Message-ID: <CABgOYCcLQUjKb78KCzHN0tmLsY0hGH8DLuxXwMCrLP6h8+G62A@mail.gmail.com>

Hi,
we have a new website at Oslandia now and we'll try to be a lot more active
in publishing web articles.

May I ask someone to add our feed to the planet aggregator (or point me to
how do it by myself) ?

here is the link: http://oslandia.com/en/tag/qgis-en/feed/atom/

Thanks!

R√©gis

OSLANDIA
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170717/a37d06ca/attachment.html>

From a.neumann at carto.net  Mon Jul 17 08:22:37 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Mon, 17 Jul 2017 17:22:37 +0200
Subject: [QGIS-Developer] About dialogue: QGIS code revision vs QGIS
 code branch
In-Reply-To: <530ef649e8a8bc3fea874011b05a8f6f@carto.net>
References: <b96eff151883f733513eb6f9e8cb210d@carto.net>
 <20170717133217.ty3sut2fqkbv4qt2@norbit.de>
 <530ef649e8a8bc3fea874011b05a8f6f@carto.net>
Message-ID: <d8127c77df18070e2ebb9c0b4c7c51c1@carto.net>

Hi J√ºrgen, 

I updated some system libs (C-stuff) in Kubuntu and now QGIS starts
again without a crash. The code revision displays fine again. 

So apparently it was a temporary problem in my local system and is fixed
now. 

Thanks again, 

Andreas 

On 2017-07-17 17:07, Neumann, Andreas wrote:

> Hi J√ºrgen, 
> 
> thx for the fix. 
> 
> Unfortunately I now get a crash during startup after I compiled the newest version ;-) 
> 
> QGIS died on signal 11. Could not attach to process. There is some more stuff in the error message. Not sure if it is relevant. 
> 
> I did a "ninja clean" to make sure there is no old stuff around that may cause the crash. 
> 
> Andreas 
> 
> On 2017-07-17 15:32, J√ºrgen E. Fischer wrote: 
> Hi Andreas,
> 
> On Mon, 17. Jul 2017 at 14:16:36 +0200, Neumann, Andreas wrote: I noticed, on another machine, a self compiled QGIS, that I don't see
> the code revision, but it only displays a "QGIS code branch" instead,
> with "Release 2.99" as the value. 
> Please verify with bcc8e90640d.
> 
> J√ºrgen 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170717/9833300e/attachment.html>

From jef at norbit.de  Mon Jul 17 08:25:13 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon, 17 Jul 2017 17:25:13 +0200
Subject: [QGIS-Developer] About dialogue: QGIS code revision vs QGIS
 code branch
In-Reply-To: <530ef649e8a8bc3fea874011b05a8f6f@carto.net>
References: <b96eff151883f733513eb6f9e8cb210d@carto.net>
 <20170717133217.ty3sut2fqkbv4qt2@norbit.de>
 <530ef649e8a8bc3fea874011b05a8f6f@carto.net>
Message-ID: <20170717152513.dhp542kc3x2d6cdt@norbit.de>

Hi Andreas,

On Mon, 17. Jul 2017 at 17:07:03 +0200, Neumann, Andreas wrote:
> QGIS died on signal 11. Could not attach to process. There is some more
> stuff in the error message. Not sure if it is relevant. 

https://www.qgis.org/en/site/getinvolved/development/bugreporting.html#creating-a-backtrace


> I did a "ninja clean" to make sure there is no old stuff around that may
> cause the crash. 

Maybe. It doesn't crash here.


J√ºrgen

-- 
J√ºrgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra√üe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170717/fa680bc0/attachment.sig>

From rdmailings at duif.net  Mon Jul 17 08:30:50 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 17 Jul 2017 17:30:50 +0200
Subject: [QGIS-Developer] add an new feed to
 http://plugins.qgis.org/planet/ ?
In-Reply-To: <CABgOYCcLQUjKb78KCzHN0tmLsY0hGH8DLuxXwMCrLP6h8+G62A@mail.gmail.com>
References: <CABgOYCcLQUjKb78KCzHN0tmLsY0hGH8DLuxXwMCrLP6h8+G62A@mail.gmail.com>
Message-ID: <33a596b9-2a7a-7ce3-7c9b-c5b8033a8014@duif.net>

On 17-07-17 17:17, R√©gis Haubourg wrote:
> Hi, 
> we have a new website at Oslandia now and we'll try to be a lot more
> active in publishing web articles. 
> 
> May I ask someone to add our feed to the planet aggregator (or point me
> to how do it by myself) ? 
> 
> here is the link: http://oslandia.com/en/tag/qgis-en/feed/atom/

Hi R√©gis,

we run a feedjack plugin in the plugins.qgis.org Django website.

I added your link at Feeds and Subscribers.

So let the articles come in, and please check if the show up at
http://qgis.org and http://plugins.qgis.org/planet/

There is a small cronjob pulling the feeds from feedjack and caching
them on disk, where some javascript pulls them into qgis.org [0][1]

Regards,

Richard Duivenvoorde

[0]
https://github.com/qgis/QGIS-Website/blob/master/themes/qgis-theme/languageswitch.html#L122
[1]
https://github.com/qgis/QGIS-Website/blob/master/themes/qgis-theme/index.html#L267

From a.neumann at carto.net  Mon Jul 17 08:33:59 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 17 Jul 2017 17:33:59 +0200
Subject: [QGIS-Developer] Virtual fields with relation_aggregate expressions
Message-ID: <1a02e7d5-f9d9-46cc-5ef2-6863b6d8ba13@carto.net>

Hi Nyall,

I tested recent master, which contains your fix about virtual fields 
with relation_aggregate expressions 
(https://github.com/qgis/QGIS/commit/4e5597ab72e689d117a980dd00efbf52558b95d5) 
, but unfortunately I am not able to display the aggregated values in 
the virtual field.

Here is my expression:

relation_aggregate(relation:='rel_anlage_sondengruppe',aggregate:='sum', 
expression:="anzahl_sonden")

The preview of the expression result in the expression editor works 
fine, but the values in the attribute table are all 'NULL' ;-)

-------------------

I also noticed a small error in the help text of the 
"relation_aggregate" expression:

the documentation always talks about a "calculation" parameter, but it 
only works with a parameter named "expression". See my example above.

So I believe the help text needs to be corrected.

Thanks,

Andreas



From regis.haubourg at gmail.com  Mon Jul 17 08:36:42 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Mon, 17 Jul 2017 17:36:42 +0200
Subject: [QGIS-Developer] FALLTHROUGH
In-Reply-To: <646203f6-ef09-0500-e364-78342700429a@duif.net>
References: <646203f6-ef09-0500-e364-78342700429a@duif.net>
Message-ID: <CABgOYCdTKLb25Oe131n6C3My0Pr308q9JNrZ+HGKGHW4VTyLPg@mail.gmail.com>

Same here on a brand new ubuntu 16.10
R√©gis

2017-07-17 17:14 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:

> Hi,
>
> Compiling master / Debian testing I get a lot of the warning as seen below.
>
> Is there some compile option I have to add? Of is it something temporarily?
>
> Regards,
>
> Richard
>
>
> In file included from
> /home/richard/dev/qgis/git/qgis/src/core/qgsmaplayerstore.h:23:0,
>                  from
> /home/richard/dev/qgis/git/qgis/src/core/qgsproject.h:42,
>                  from
> /home/richard/dev/qgis/git/qgis/src/core/expression/
> qgsexpressionutils.h:26,
>                  from
> /home/richard/dev/qgis/git/qgis/src/core/expression/
> qgsexpressionnodeimpl.cpp:17:
> /home/richard/dev/qgis/git/qgis/src/core/expression/
> qgsexpressionnodeimpl.cpp:
> In member function ‚Äòvirtual QVariant
> QgsExpressionNodeBinaryOperator::evalNode(QgsExpression*, const
> QgsExpressionContext*)‚Äô:
> /home/richard/dev/qgis/git/qgis/src/core/qgis.h:389:21: warning:
> attributes at the beginning of statement are ignored [-Wattributes]
>  #define FALLTHROUGH [[gnu::fallthrough]];
>                      ^
> /home/richard/dev/qgis/git/qgis/src/core/expression/
> qgsexpressionnodeimpl.cpp:182:7:
> note: in expansion of macro ‚ÄòFALLTHROUGH‚Äô
>        FALLTHROUGH;
>        ^~~~~~~~~~~
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170717/25c6edb1/attachment.html>

From noreply at qgis.org  Mon Jul 17 09:18:50 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 17 Jul 2017 16:18:50 -0000
Subject: [QGIS-Developer] Plugin [1193] Shape Tools approval notification.
Message-ID: <20170717161850.20479.93288@320558c5528b>


Plugin Shape Tools approval by pcav.
The plugin version "[1193] Shape Tools 0.4.2" is now approved
Link: http://plugins.qgis.org/plugins/shapetools/

From noreply at qgis.org  Mon Jul 17 12:13:05 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 17 Jul 2017 19:13:05 -0000
Subject: [QGIS-Developer] Plugin [1046] QGIS GML Application Schema Toolbox
 approval notification.
Message-ID: <20170717191305.12956.83537@320558c5528b>


Plugin QGIS GML Application Schema Toolbox approval by pcav.
The plugin version "[1046] QGIS GML Application Schema Toolbox 1.1.2" is now approved
Link: http://plugins.qgis.org/plugins/gml_application_schema_toolbox/

From noreply at qgis.org  Mon Jul 17 22:50:46 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 18 Jul 2017 05:50:46 -0000
Subject: [QGIS-Developer] Plugin [1277] Coordtransform approval notification.
Message-ID: <20170718055046.12955.90281@320558c5528b>


Plugin Coordtransform approval by pcav.
The plugin version "[1277] Coordtransform 1.0" is now approved
Link: http://plugins.qgis.org/plugins/Coordtransform/

From regis.haubourg at gmail.com  Tue Jul 18 00:38:33 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 18 Jul 2017 09:38:33 +0200
Subject: [QGIS-Developer] add an new feed to
 http://plugins.qgis.org/planet/ ?
In-Reply-To: <33a596b9-2a7a-7ce3-7c9b-c5b8033a8014@duif.net>
References: <CABgOYCcLQUjKb78KCzHN0tmLsY0hGH8DLuxXwMCrLP6h8+G62A@mail.gmail.com>
 <33a596b9-2a7a-7ce3-7c9b-c5b8033a8014@duif.net>
Message-ID: <CABgOYCfKpjKLHn_NzR=+ASYAxYrNP86YVtbpzXJ0YJHgSoVH1A@mail.gmail.com>

Many thanks Richard! That works as expected.
R√©gis

2017-07-17 17:30 GMT+02:00 Richard Duivenvoorde <rdmailings at duif.net>:

> On 17-07-17 17:17, R√©gis Haubourg wrote:
> > Hi,
> > we have a new website at Oslandia now and we'll try to be a lot more
> > active in publishing web articles.
> >
> > May I ask someone to add our feed to the planet aggregator (or point me
> > to how do it by myself) ?
> >
> > here is the link: http://oslandia.com/en/tag/qgis-en/feed/atom/
>
> Hi R√©gis,
>
> we run a feedjack plugin in the plugins.qgis.org Django website.
>
> I added your link at Feeds and Subscribers.
>
> So let the articles come in, and please check if the show up at
> http://qgis.org and http://plugins.qgis.org/planet/
>
> There is a small cronjob pulling the feeds from feedjack and caching
> them on disk, where some javascript pulls them into qgis.org [0][1]
>
> Regards,
>
> Richard Duivenvoorde
>
> [0]
> https://github.com/qgis/QGIS-Website/blob/master/themes/qgis
> -theme/languageswitch.html#L122
> [1]
> https://github.com/qgis/QGIS-Website/blob/master/themes/qgis
> -theme/index.html#L267
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170718/c13f2752/attachment.html>

From rldhont at gmail.com  Tue Jul 18 00:48:47 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Tue, 18 Jul 2017 09:48:47 +0200
Subject: [QGIS-Developer] [Qgis-developer] [Server] performance questions
In-Reply-To: <1487180929753-5308088.post@n6.nabble.com>
References: <1456237257701-5252233.post@n6.nabble.com>
 <3294eb3c60dbbd3b266be3af56c0ea35@carto.net> <571A252F.6090605@mwerk.net>
 <CABqTJk9ZjHc7q5d7khni+yCpiwjvJ+UMGE_P3xEfQs_gfE-vBA@mail.gmail.com>
 <571A4135.3000205@opengis.ch> <571A5020.3040809@mwerk.net>
 <571B44C0.7060401@opengis.ch> <571E3481.9060206@mwerk.net>
 <1464190405252-5268188.post@n6.nabble.com>
 <1487180929753-5308088.post@n6.nabble.com>
Message-ID: <5d206880-6cc4-289b-0dbf-04af7c755bb6@gmail.com>

Hi R√©gis,

Is this work, about "Speed up project loading by skipping data checks. 
Useful in qgis server context or project with huge database views or 
materialized view.", still relevant ?

https://github.com/pblottiere/QGIS/tree/trust

Regards,
Ren√©-Luc

Le 15/02/2017 √† 18:48, R√©gis Haubourg a √©crit :
> Hi all,
> reviving the thread - Oslandia had the opportunity to work on speed up
> improvements.
> So Paul  introduced an option to avoid unecessary checks on startup called
> "Trust project when datasource has no metadata (id, extent, geometry type).
> His branch is here https://github.com/pblottiere/QGIS/tree/trust
>
> we plan to change the associated tooltip to: "Speed up project loading by
> skipping data checks. Useful in qgis server context or project with huge
> database views or materialized view."
>
> If anyone has very big databases using views, it would be cool to test to
> estimate how faster a project loads (and a getCapabilities is generated then
> fort QGIS server)
>
> Cheers
> R√©gis
>
>
>
> -----
> ----------------------------------
> R√©gis Haubourg
> GIS administrator and project manager
> Administrateur de donn√©es g√©ographiques et chef de projet SIG
> Agence de l'eau Adour-Garonne
>
> --
> View this message in context: http://osgeo-org.1560.x6.nabble.com/Server-performance-questions-tp5252233p5308088.html
> Sent from the QGIS - Developer mailing list archive at Nabble.com.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From cavallini at faunalia.it  Tue Jul 18 07:32:22 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Tue, 18 Jul 2017 16:32:22 +0200
Subject: [QGIS-Developer] Polygons_Pile
Message-ID: <d6719e85-ab7f-dfe6-28c4-444cb8da6896@faunalia.it>

Hi all,
anyone knows j-c baudin, reportedly the author of the above mentioned
plugin? The address provided appears wrong, and I need to contact him
for a review of its plugin.
Thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From noreply at qgis.org  Tue Jul 18 07:41:42 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 18 Jul 2017 14:41:42 -0000
Subject: [QGIS-Developer] Plugin [1273] Repair Geometry (Reparar Geometria)
 approval notification.
Message-ID: <20170718144142.12955.80502@320558c5528b>


Plugin Repair Geometry (Reparar Geometria) approval by pcav.
The plugin version "[1273] Repair Geometry (Reparar Geometria) 0.1.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/RepairGeometry/

From regis.haubourg at gmail.com  Tue Jul 18 07:53:46 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 18 Jul 2017 16:53:46 +0200
Subject: [QGIS-Developer] Polygons_Pile
In-Reply-To: <d6719e85-ab7f-dfe6-28c4-444cb8da6896@faunalia.it>
References: <d6719e85-ab7f-dfe6-28c4-444cb8da6896@faunalia.it>
Message-ID: <CABgOYCfURXBUEySscuaAmZet=j1RCnHkwXc3rit4hKv6mw2fTA@mail.gmail.com>

Hi Paolo,
he asked for a mantra yesterday with this email:
jean-christophe.baudin at afbiodiversite.fr

R√©gis

2017-07-18 16:32 GMT+02:00 Paolo Cavallini <cavallini at faunalia.it>:

> Hi all,
> anyone knows j-c baudin, reportedly the author of the above mentioned
> plugin? The address provided appears wrong, and I need to contact him
> for a review of its plugin.
> Thanks.
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170718/614aa5d9/attachment.html>

From regis.haubourg at gmail.com  Tue Jul 18 07:55:03 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Tue, 18 Jul 2017 16:55:03 +0200
Subject: [QGIS-Developer] Polygons_Pile
In-Reply-To: <CABgOYCfURXBUEySscuaAmZet=j1RCnHkwXc3rit4hKv6mw2fTA@mail.gmail.com>
References: <d6719e85-ab7f-dfe6-28c4-444cb8da6896@faunalia.it>
 <CABgOYCfURXBUEySscuaAmZet=j1RCnHkwXc3rit4hKv6mw2fTA@mail.gmail.com>
Message-ID: <CABgOYCd-mZ_kcpjQ2vK12sF7o2B_FaJXem0KZi-PCyOQq2pRVA@mail.gmail.com>

Maybe if this doesn't work (highly expectable since it's a new institution,
they could have mail server issues), you can try that one:
jean- christophe.baudin at onema.fr


2017-07-18 16:53 GMT+02:00 R√©gis Haubourg <regis.haubourg at gmail.com>:

> Hi Paolo,
> he asked for a mantra yesterday with this email: jean-christophe.baudin@
> afbiodiversite.fr
>
> R√©gis
>
> 2017-07-18 16:32 GMT+02:00 Paolo Cavallini <cavallini at faunalia.it>:
>
>> Hi all,
>> anyone knows j-c baudin, reportedly the author of the above mentioned
>> plugin? The address provided appears wrong, and I need to contact him
>> for a review of its plugin.
>> Thanks.
>> --
>> Paolo Cavallini - www.faunalia.eu
>> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
>> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170718/617a4b15/attachment-0001.html>

From noreply at qgis.org  Tue Jul 18 10:42:23 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 18 Jul 2017 17:42:23 -0000
Subject: [QGIS-Developer] Plugin [1280] Coordtransform approval notification.
Message-ID: <20170718174223.12955.70366@320558c5528b>


Plugin Coordtransform approval by pcav.
The plugin version "[1280] Coordtransform 1.0" is now approved
Link: http://plugins.qgis.org/plugins/Coordtransform/

From sfkeller at gmail.com  Tue Jul 18 11:19:51 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Tue, 18 Jul 2017 20:19:51 +0200
Subject: [QGIS-Developer] [Qgis-developer] Adding default OSM backround
	maps
In-Reply-To: <c3490e46-981e-e0d8-92fa-291bbdef27bf@faunalia.it>
References: <31b81df0-3712-c9c4-c09f-82e11d3b74bd@faunalia.it>
 <724a33c5-95cd-8a0c-92a0-257683e96102@di.uminho.pt>
 <20170327102550.4dfnfr3y5mfaih2c@norbit.de>
 <b3f04b60-bb2f-ac6a-e58b-8a67ed9f133b@faunalia.it>
 <957a130e-f516-24b7-b222-f83d13d818fd@faunalia.it>
 <7273a448-dd41-1327-3e16-1dd3e189390b@di.uminho.pt>
 <b2028e1e-26f0-f2dd-e6f8-26368326cb64@faunalia.it>
 <CAK6pVBX4iKwL3h0+nantkcfZZ_2ha+LZA8m1h42gKwsVC2Py2g@mail.gmail.com>
 <f6a62f47-8458-6484-f19c-af45b365a594@di.uminho.pt>
 <CAK6pVBWYi6scZ=wVgY1aP8D2X=SGjpO2GpddCbjz4181PxVUeQ@mail.gmail.com>
 <CAK6pVBWYL+0mKVU5VXi+NtE+jNQG08teGKni6CfUpTCZ0+J+QQ@mail.gmail.com>
 <CAK6pVBUqejo04GA902pVMVTw9cxicaCh=S9EZ+gc8Kdw-ySKwQ@mail.gmail.com>
 <ee112e1c-3a4d-6a0c-213e-86eb898f8fec@duif.net>
 <c3490e46-981e-e0d8-92fa-291bbdef27bf@faunalia.it>
Message-ID: <CAFcOn29dDKqCcGiw=O+vOikDfVBcO03BA3hfg5OC+JWFWdufEA@mail.gmail.com>

Coming back to the original thread, Petr just made an interesting
proposal [1], asking why no integrate into QGIS a vector global
basemap?

He is also offering ready made vector tiles data (MBTiles) which we
(QGIS) could host ourselves.

The styling would be done in QGIS.

He's also referring to the "Vector Tiles Reader" Python plugin I'm
supervising [2]. This astonishing experimental piece of software and
will get a last update before final release. This most probably
inlcudes "loading/flushing tiles" much like raster tiles (this is in
"base map" mode of the plugin. There exist two other modes: Analysis
and Inspection).

As Petr wrote, the "base map" mode of this Vector Tiles Reader should
actually be migrated to a C++ plugin in order to become really fast.
Unfortunately I don't have the resources in short terms to accomplish
that.

Yours, Stefan

[1] https://github.com/qgis/QGIS-Enhancement-Proposals/issues/94#issuecomment-316130831
[2] https://github.com/geometalab/Vector-Tiles-Reader-QGIS-Plugin


2017-06-21 9:18 GMT+02:00 Paolo Cavallini <cavallini at faunalia.it>:
> Il 21/06/2017 07:59, Richard Duivenvoorde ha scritto:
>
>> It is a LOT of work, both styling and running an open server hosting
>> world data in a custom style. You need also quite a lot
>> cpu/disk/connection resources for it to perform well.
>>
>> So somebody needs to put time/resources in it, AND take responsibility
>> to keep it run smoothly...
>>
>> So I would stick with OSM tiles for now (or some other local/open tile
>> servers), and maybe start yourself with the styling/hosting of a smaller
>> part of the world, share that map and see if that makes people eager to
>> see more :-)
>
> +1
> what I would like to have is some default server already present in
> QGIS. There is some work to do also for this, but much less, and it's
> sustainable over time.
> Anyone willing to help?
> All the best.
>
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From cavallini at faunalia.it  Tue Jul 18 21:36:41 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 19 Jul 2017 06:36:41 +0200
Subject: [QGIS-Developer] Count points in polygon
Message-ID: <98901520-4c09-8298-9403-982c7ce3da75@faunalia.it>

Hi all,
in Q3, the above commend produces valid output, but issues a Python error:

2017-07-19T06:34:05	1	Traceback (most recent call last):
			  File
"/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/algs/qgis/QgisAlgorithm.py",
line 39, in shortHelpString
			    return shortHelp.get(self.id(), None)
			RuntimeError: wrapped C/C++ object of type PointsInPolygon has been
deleted
			
Should I open a ticket?
Thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From cavallini at faunalia.it  Tue Jul 18 22:21:00 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 19 Jul 2017 07:21:00 +0200
Subject: [QGIS-Developer] Processing batch process interface
Message-ID: <7688e6dd-3aa9-c3b0-f10c-66756c6522a4@faunalia.it>

Hi all,
the button "Run as batch process" in 2.18 opens a new popup, whereas in
3 changes the current one. New arrangement is IMHO nicer, but there is
apparently no way of going back to non batch interface.
I think a "non-batch" button should be added.
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From cavallini at faunalia.it  Tue Jul 18 22:35:24 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 19 Jul 2017 07:35:24 +0200
Subject: [QGIS-Developer] Expression based output in Processing
Message-ID: <df00bfc2-9b5a-0f8e-8cfb-89c0b65da5d6@faunalia.it>

Hi all,
(sorry I'm flooding the list) I wonder what is the use case for
expression based output in Processing. It makes sense to me for models
and for batches (where however is apparently not present), but I do not
understand its use case for single algs.
Anyone has details?
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From a.neumann at carto.net  Tue Jul 18 22:45:25 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 19 Jul 2017 07:45:25 +0200
Subject: [QGIS-Developer] Editable CSV files
Message-ID: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>

Hi,

Is there a particular technical reason why csv/text files aren't 
editable in QGIS? Or is this mainly for historical reasons and it could 
be implemented as editable with reasonable effort?

I know that there is a plugin called "Editable GeoCSV" - but shouldn't 
this be supported by QGIS in general, without the need for a plugin?

I'd be willing to financially support such an improvement in QGIS core, 
should a developer be interested in working on it.

Thanks,

Andreas


From sfkeller at gmail.com  Tue Jul 18 23:23:53 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Wed, 19 Jul 2017 08:23:53 +0200
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
Message-ID: <CAFcOn2_Ly71J6s5YeN4=QrTbkqi2iAq-sVU1=Q5UJobr8SBiYQ@mail.gmail.com>

Hii Andreas

I think this is particularly a Windows issue. For Linux it could be
implemented such that files are'nt write locked to other programs.
Background is how to solve the problem of concurrent editing (a file).
Just unlocking the file implies some problems of this type on how to
"inform" the other client to refresh?
A proper solution would be to implement a bidirectional communication
between Excel and QGIS - similar to how GISconnector for Excel (and
ArcGIS) did it.
Unfortunately Excel needs to be programmed in VBA :-(

:Stefan

2017-07-19 7:45 GMT+02:00 Andreas Neumann <a.neumann at carto.net>:
> Hi,
>
> Is there a particular technical reason why csv/text files aren't editable in
> QGIS? Or is this mainly for historical reasons and it could be implemented
> as editable with reasonable effort?
>
> I know that there is a plugin called "Editable GeoCSV" - but shouldn't this
> be supported by QGIS in general, without the need for a plugin?
>
> I'd be willing to financially support such an improvement in QGIS core,
> should a developer be interested in working on it.
>
> Thanks,
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From bernhard.stroebl at jena.de  Tue Jul 18 23:36:15 2017
From: bernhard.stroebl at jena.de (=?UTF-8?Q?Bernhard_Str=c3=b6bl?=)
Date: Wed, 19 Jul 2017 08:36:15 +0200
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <CAFcOn2_Ly71J6s5YeN4=QrTbkqi2iAq-sVU1=Q5UJobr8SBiYQ@mail.gmail.com>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
 <CAFcOn2_Ly71J6s5YeN4=QrTbkqi2iAq-sVU1=Q5UJobr8SBiYQ@mail.gmail.com>
Message-ID: <f4fc271b-ab1b-96fd-590c-6e0b916bac4d@jena.de>

Hi Stefan,

although I do not know very much about this topic I wonder how this is 
solved with other file-based data sets, e.g. shape. Furthermore I would 
not limit csv to Excel. I normally use an editor for csv (and sometimes 
LibreOffice). The editor does not lock the file but offers to refresh it 
if it has been changed on disk. LO does lock the file, so no concurrent 
editing is possible.

Bernhard

Am 19.07.2017 um 08:23 schrieb Stefan Keller:
> Hii Andreas
>
> I think this is particularly a Windows issue. For Linux it could be
> implemented such that files are'nt write locked to other programs.
> Background is how to solve the problem of concurrent editing (a file).
> Just unlocking the file implies some problems of this type on how to
> "inform" the other client to refresh?
> A proper solution would be to implement a bidirectional communication
> between Excel and QGIS - similar to how GISconnector for Excel (and
> ArcGIS) did it.
> Unfortunately Excel needs to be programmed in VBA :-(
>
> :Stefan
>
> 2017-07-19 7:45 GMT+02:00 Andreas Neumann <a.neumann at carto.net>:
>> Hi,
>>
>> Is there a particular technical reason why csv/text files aren't editable in
>> QGIS? Or is this mainly for historical reasons and it could be implemented
>> as editable with reasonable effort?
>>
>> I know that there is a plugin called "Editable GeoCSV" - but shouldn't this
>> be supported by QGIS in general, without the need for a plugin?
>>
>> I'd be willing to financially support such an improvement in QGIS core,
>> should a developer be interested in working on it.
>>
>> Thanks,
>>
>> Andreas
>>
>> _______________________________________________


__________ Information from ESET Mail Security, version of virus signature database 15770 (20170719) __________

The message was checked by ESET Mail Security.
http://www.eset.com



From nyall.dawson at gmail.com  Tue Jul 18 23:48:10 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Wed, 19 Jul 2017 16:48:10 +1000
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
Message-ID: <CAB28Asgb67f3U0NzRtZA2fKaoyO-UCnkhC2WEvgwGg-u9evjSA@mail.gmail.com>

On 19 July 2017 at 15:45, Andreas Neumann <a.neumann at carto.net> wrote:
> Hi,
>
> Is there a particular technical reason why csv/text files aren't editable in
> QGIS? Or is this mainly for historical reasons and it could be implemented
> as editable with reasonable effort?
>

It depends how they are loaded. If you load them using the delimited
text provider, then no, they aren't editable.

BUT.....

if you load them as a ogr layer, they will be! (Since GDAL supports this)

So drag and drop them to QGIS, or add via the "add vector layer"
button and they'll be editable.

Nyall

From cavallini at faunalia.it  Wed Jul 19 00:32:54 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 19 Jul 2017 09:32:54 +0200
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <CAB28Asgb67f3U0NzRtZA2fKaoyO-UCnkhC2WEvgwGg-u9evjSA@mail.gmail.com>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
 <CAB28Asgb67f3U0NzRtZA2fKaoyO-UCnkhC2WEvgwGg-u9evjSA@mail.gmail.com>
Message-ID: <d6e0fa4b-c130-fcbd-e64f-28d4cc02d19a@faunalia.it>

Il 19/07/2017 08:48, Nyall Dawson ha scritto:

> It depends how they are loaded. If you load them using the delimited
> text provider, then no, they aren't editable.
> 
> BUT.....
> 
> if you load them as a ogr layer, they will be! (Since GDAL supports this)
> 
> So drag and drop them to QGIS, or add via the "add vector layer"
> button and they'll be editable.

unfortunately, AFAIK drag&drop does not alow to spatialize the text
layer, so in most cases an user is forced to use the delimited text
provider. There are external plugins that allow spatialization after
loading.
All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From etienne.trimaille at gmail.com  Wed Jul 19 03:29:16 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Wed, 19 Jul 2017 13:29:16 +0300
Subject: [QGIS-Developer] Count points in polygon
In-Reply-To: <98901520-4c09-8298-9403-982c7ce3da75@faunalia.it>
References: <98901520-4c09-8298-9403-982c7ce3da75@faunalia.it>
Message-ID: <CAMtDFLLW-aDLmwgVRmp0oJkT65NRK30jBV7nhxWP-7dpyfhBkw@mail.gmail.com>

It's already open: https://issues.qgis.org/issues/16858

2017-07-19 7:36 GMT+03:00 Paolo Cavallini <cavallini at faunalia.it>:

> Hi all,
> in Q3, the above commend produces valid output, but issues a Python error:
>
> 2017-07-19T06:34:05     1       Traceback (most recent call last):
>                           File
> "/usr/local/src/qgis/QGIS/build_qgis3/output/python/
> plugins/processing/algs/qgis/QgisAlgorithm.py",
> line 39, in shortHelpString
>                             return shortHelp.get(self.id(), None)
>                         RuntimeError: wrapped C/C++ object of type
> PointsInPolygon has been
> deleted
>
> Should I open a ticket?
> Thanks.
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170719/865d7ff7/attachment-0001.html>

From etienne.trimaille at gmail.com  Wed Jul 19 03:36:43 2017
From: etienne.trimaille at gmail.com (Etienne Trimaille)
Date: Wed, 19 Jul 2017 13:36:43 +0300
Subject: [QGIS-Developer] Expression based output in Processing
In-Reply-To: <df00bfc2-9b5a-0f8e-8cfb-89c0b65da5d6@faunalia.it>
References: <df00bfc2-9b5a-0f8e-8cfb-89c0b65da5d6@faunalia.it>
Message-ID: <CAMtDFLLtJfFB5frf_irLscPgy1rDenZrarkYJZYPTA8xGtK94Q@mail.gmail.com>

Expressions are good everywhere anyway ;-)
I don't see a lot but I can imagine if we have some variables in the
QGIS/project/layers settings for instance to set the output path.

2017-07-19 8:35 GMT+03:00 Paolo Cavallini <cavallini at faunalia.it>:

> Hi all,
> (sorry I'm flooding the list) I wonder what is the use case for
> expression based output in Processing. It makes sense to me for models
> and for batches (where however is apparently not present), but I do not
> understand its use case for single algs.
> Anyone has details?
> All the best.
> --
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170719/380d9c48/attachment.html>

From tomkralidis at gmail.com  Wed Jul 19 04:38:07 2017
From: tomkralidis at gmail.com (Tom Kralidis)
Date: Wed, 19 Jul 2017 11:38:07 +0000 (UTC)
Subject: [QGIS-Developer] Adding WMS and WFS from Metasearch fails in Q3
In-Reply-To: <e0f0879d-62da-bd59-248f-be313b877ad6@faunalia.it>
References: <e0f0879d-62da-bd59-248f-be313b877ad6@faunalia.it>
Message-ID: <alpine.DEB.2.11.1707191132260.26156@www.localdomain>

Hi Paolo: thanks for the info.  I'm able to reproduce in master.

Digging deeper, this may be rooted in [1].  Any idea how one interacts with
the WFS provider now via Python?

Cheers

..Tom


[1] https://github.com/qgis/QGIS/commit/73b66fa1f5003aae7e9bca96c703eadf88f838d0

On Sun, 16 Jul 2017, Paolo Cavallini wrote:

> Date: Sun, 16 Jul 2017 17:38:59 +0300
> From: Paolo Cavallini <cavallini at faunalia.it>
> To: qgis-developer <qgis-developer at lists.osgeo.org>
> Subject: [QGIS-Developer] Adding WMS and WFS from Metasearch fails in Q3
> 
> For WFS:
>
> AttributeError: 'QMainWindow' object has no attribute 'addWfsLayer'
> Traceback (most recent call last):
>  File
> "/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/MetaSearch/dialogs/maindialog.py",
> line 781, in add_to_ows
>    ows_provider.addWfsLayer.connect(self.iface.mainWindow().addWfsLayer)
> AttributeError: 'QMainWindow' object has no attribute 'addWfsLayer'
>
> For WMS, the WMS dialog is opened, but a new recod is not added to the list.
>
> All the best.
> -- 
> Paolo Cavallini - www.faunalia.eu
> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From apasotti at gmail.com  Wed Jul 19 06:10:40 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 19 Jul 2017 15:10:40 +0200
Subject: [QGIS-Developer] Adding WMS and WFS from Metasearch fails in Q3
In-Reply-To: <alpine.DEB.2.11.1707191132260.26156@www.localdomain>
References: <e0f0879d-62da-bd59-248f-be313b877ad6@faunalia.it>
 <alpine.DEB.2.11.1707191132260.26156@www.localdomain>
Message-ID: <CAL5Q672DdABsrwoSSE1-QnzM0J2eSgKBrv4E__avQ=SCkdVsWg@mail.gmail.com>

Tom,

I've recently done quite a bit of refactoring in the provider dialogs, and
all the signals are now available in the abstract base class
QgsAbstractDataSourceWidget that all provider dialogs inherit from.

addWfsLayer (as well as all other add*Layer clones scattered through the
various providers) has been retired in favour of the more generic
addVectorLayer.

See the available signals at:
https://github.com/qgis/QGIS/blob/73b66fa1f5003aae7e9bca96c703eadf88f838d0/src/gui/qgsabstractdatasourcewidget.h#L76

Cheers


On Wed, Jul 19, 2017 at 1:38 PM, Tom Kralidis <tomkralidis at gmail.com> wrote:

> Hi Paolo: thanks for the info.  I'm able to reproduce in master.
>
> Digging deeper, this may be rooted in [1].  Any idea how one interacts with
> the WFS provider now via Python?
>
> Cheers
>
> ..Tom
>
>
> [1] https://github.com/qgis/QGIS/commit/73b66fa1f5003aae7e9bca96
> c703eadf88f838d0
>
> On Sun, 16 Jul 2017, Paolo Cavallini wrote:
>
> Date: Sun, 16 Jul 2017 17:38:59 +0300
>> From: Paolo Cavallini <cavallini at faunalia.it>
>> To: qgis-developer <qgis-developer at lists.osgeo.org>
>> Subject: [QGIS-Developer] Adding WMS and WFS from Metasearch fails in Q3
>>
>>
>> For WFS:
>>
>> AttributeError: 'QMainWindow' object has no attribute 'addWfsLayer'
>> Traceback (most recent call last):
>>  File
>> "/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/
>> MetaSearch/dialogs/maindialog.py",
>> line 781, in add_to_ows
>>    ows_provider.addWfsLayer.connect(self.iface.mainWindow().addWfsLayer)
>> AttributeError: 'QMainWindow' object has no attribute 'addWfsLayer'
>>
>> For WMS, the WMS dialog is opened, but a new recod is not added to the
>> list.
>>
>> All the best.
>> --
>> Paolo Cavallini - www.faunalia.eu
>> QGIS & PostGIS courses: http://www.faunalia.eu/training.html
>> https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170719/1f5079b5/attachment.html>

From sfkeller at gmail.com  Wed Jul 19 07:23:33 2017
From: sfkeller at gmail.com (Stefan Keller)
Date: Wed, 19 Jul 2017 16:23:33 +0200
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <CAB28Asgb67f3U0NzRtZA2fKaoyO-UCnkhC2WEvgwGg-u9evjSA@mail.gmail.com>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
 <CAB28Asgb67f3U0NzRtZA2fKaoyO-UCnkhC2WEvgwGg-u9evjSA@mail.gmail.com>
Message-ID: <CAFcOn29==WvMZwBB-iRoEOG3L+s5SkC5QZnfHa06HH3LGLiwHw@mail.gmail.com>

Nice hints, Bernhard and Nyall
Thinking about, there's no really complicated technical reason why
concurrent editing would not work.
It's simply a matter in which mode the reader SW opens the file.
* QGIS delimited text provider: locks.
* QGIS OGR data provider: does not lock - but not ask to reload if
file has changed.
* LibreOffice Writer and Excel: lock
* Notepad++: does not lock - and asks to reload if file has changed
* Other text editors: depends...

So, in fact e could slightly enhance the situation, if QGIS delimited
text provider would not lock (and eventually ask to reload when file
changed).
The remaining problem is that we can't change the behaviour of
LibreOffice Writer (Windows) nor Excel short term...
Eventually someone could ask the LibreOffice Writer dev's for a solution?

:Stefan


2017-07-19 8:48 GMT+02:00 Nyall Dawson <nyall.dawson at gmail.com>:
> On 19 July 2017 at 15:45, Andreas Neumann <a.neumann at carto.net> wrote:
>> Hi,
>>
>> Is there a particular technical reason why csv/text files aren't editable in
>> QGIS? Or is this mainly for historical reasons and it could be implemented
>> as editable with reasonable effort?
>>
>
> It depends how they are loaded. If you load them using the delimited
> text provider, then no, they aren't editable.
>
> BUT.....
>
> if you load them as a ogr layer, they will be! (Since GDAL supports this)
>
> So drag and drop them to QGIS, or add via the "add vector layer"
> button and they'll be editable.
>
> Nyall
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From a.neumann at carto.net  Wed Jul 19 07:35:28 2017
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed, 19 Jul 2017 16:35:28 +0200
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <CAFcOn29==WvMZwBB-iRoEOG3L+s5SkC5QZnfHa06HH3LGLiwHw@mail.gmail.com>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
 <CAB28Asgb67f3U0NzRtZA2fKaoyO-UCnkhC2WEvgwGg-u9evjSA@mail.gmail.com>
 <CAFcOn29==WvMZwBB-iRoEOG3L+s5SkC5QZnfHa06HH3LGLiwHw@mail.gmail.com>
Message-ID: <f61f41f9-5bfe-fd23-9591-de4cc35906f2@carto.net>

Hi all,

Thanks all for your feedback. The "Add delimited text" way of loading 
CSV data is a lot more powerful and more flexible than the OGR way. So I 
would really prefer to use the CSV this way and still be able to edit 
and save directly to the CSV.

Would this be possible as an enhancement?

I don't need concurrent/simultaneous editing with Spreadsheets. All I 
want is an editable CSV directly from QGIS, so that it could be at a 
later time, be opened in Spreadsheets again (not opened at the same time 
in QGIS as well).

Andreas

On 19.07.2017 16:23, Stefan Keller wrote:
> Nice hints, Bernhard and Nyall
> Thinking about, there's no really complicated technical reason why
> concurrent editing would not work.
> It's simply a matter in which mode the reader SW opens the file.
> * QGIS delimited text provider: locks.
> * QGIS OGR data provider: does not lock - but not ask to reload if
> file has changed.
> * LibreOffice Writer and Excel: lock
> * Notepad++: does not lock - and asks to reload if file has changed
> * Other text editors: depends...
>
> So, in fact e could slightly enhance the situation, if QGIS delimited
> text provider would not lock (and eventually ask to reload when file
> changed).
> The remaining problem is that we can't change the behaviour of
> LibreOffice Writer (Windows) nor Excel short term...
> Eventually someone could ask the LibreOffice Writer dev's for a solution?
>
> :Stefan
>
>
> 2017-07-19 8:48 GMT+02:00 Nyall Dawson <nyall.dawson at gmail.com>:
>> On 19 July 2017 at 15:45, Andreas Neumann <a.neumann at carto.net> wrote:
>>> Hi,
>>>
>>> Is there a particular technical reason why csv/text files aren't editable in
>>> QGIS? Or is this mainly for historical reasons and it could be implemented
>>> as editable with reasonable effort?
>>>
>> It depends how they are loaded. If you load them using the delimited
>> text provider, then no, they aren't editable.
>>
>> BUT.....
>>
>> if you load them as a ogr layer, they will be! (Since GDAL supports this)
>>
>> So drag and drop them to QGIS, or add via the "add vector layer"
>> button and they'll be editable.
>>
>> Nyall
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From matthias at opengis.ch  Wed Jul 19 07:54:37 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 19 Jul 2017 16:54:37 +0200
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <f61f41f9-5bfe-fd23-9591-de4cc35906f2@carto.net>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
 <CAB28Asgb67f3U0NzRtZA2fKaoyO-UCnkhC2WEvgwGg-u9evjSA@mail.gmail.com>
 <CAFcOn29==WvMZwBB-iRoEOG3L+s5SkC5QZnfHa06HH3LGLiwHw@mail.gmail.com>
 <f61f41f9-5bfe-fd23-9591-de4cc35906f2@carto.net>
Message-ID: <b6a897f1-8509-6aba-fb45-07a9739f4e42@opengis.ch>

Hi all,

I think the main challenge is that there is no standard. Delimiters,
quoting etc... there's no official reference.

We can deal with varying input very well. Generating some output has a
certain risk of making the data incompatible with other applications.

If the requirements are well-defined (being able to reopen it in lo.calc
or ms excel) that's a good start which can very well be protected with
some unit tests.

I'm not convinced either way (if it's dangerous or not concerning data
corruption) but an opt-in checkbox to make the data writable with a
warning explaining why could be considered.

Matthias

On 07/19/2017 04:35 PM, Andreas Neumann wrote:
> Hi all,
> 
> Thanks all for your feedback. The "Add delimited text" way of loading
> CSV data is a lot more powerful and more flexible than the OGR way. So I
> would really prefer to use the CSV this way and still be able to edit
> and save directly to the CSV.
> 
> Would this be possible as an enhancement?
> 
> I don't need concurrent/simultaneous editing with Spreadsheets. All I
> want is an editable CSV directly from QGIS, so that it could be at a
> later time, be opened in Spreadsheets again (not opened at the same time
> in QGIS as well).
> 
> Andreas
> 
> On 19.07.2017 16:23, Stefan Keller wrote:
>> Nice hints, Bernhard and Nyall
>> Thinking about, there's no really complicated technical reason why
>> concurrent editing would not work.
>> It's simply a matter in which mode the reader SW opens the file.
>> * QGIS delimited text provider: locks.
>> * QGIS OGR data provider: does not lock - but not ask to reload if
>> file has changed.
>> * LibreOffice Writer and Excel: lock
>> * Notepad++: does not lock - and asks to reload if file has changed
>> * Other text editors: depends...
>>
>> So, in fact e could slightly enhance the situation, if QGIS delimited
>> text provider would not lock (and eventually ask to reload when file
>> changed).
>> The remaining problem is that we can't change the behaviour of
>> LibreOffice Writer (Windows) nor Excel short term...
>> Eventually someone could ask the LibreOffice Writer dev's for a solution?
>>
>> :Stefan
>>
>>
>> 2017-07-19 8:48 GMT+02:00 Nyall Dawson <nyall.dawson at gmail.com>:
>>> On 19 July 2017 at 15:45, Andreas Neumann <a.neumann at carto.net> wrote:
>>>> Hi,
>>>>
>>>> Is there a particular technical reason why csv/text files aren't
>>>> editable in
>>>> QGIS? Or is this mainly for historical reasons and it could be
>>>> implemented
>>>> as editable with reasonable effort?
>>>>
>>> It depends how they are loaded. If you load them using the delimited
>>> text provider, then no, they aren't editable.
>>>
>>> BUT.....
>>>
>>> if you load them as a ogr layer, they will be! (Since GDAL supports
>>> this)
>>>
>>> So drag and drop them to QGIS, or add via the "add vector layer"
>>> button and they'll be editable.
>>>
>>> Nyall
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

From lists at borysjurgiel.pl  Wed Jul 19 08:30:24 2017
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Wed, 19 Jul 2017 17:30:24 +0200
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <f61f41f9-5bfe-fd23-9591-de4cc35906f2@carto.net>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
 <CAFcOn29==WvMZwBB-iRoEOG3L+s5SkC5QZnfHa06HH3LGLiwHw@mail.gmail.com>
 <f61f41f9-5bfe-fd23-9591-de4cc35906f2@carto.net>
Message-ID: <5171233.T0Eie9zcQn@debian>

Dnia ≈õroda, 19 lipca 2017 16:35:28 Andreas Neumann pisze:
> Hi all,
> 
> Thanks all for your feedback. The "Add delimited text" way of loading
> CSV data is a lot more powerful and more flexible than the OGR way. 

Did you look at the .csvt and .vrt files? I wouldn't say the CSV provider is 
"a lot" more powerful. I don't insist, just thinking about this alternative. 

With the CSV provider, we still can use the csvt file to store and load the 
selections made by user. And with the OGR provider we can use a gui to 
generate the file if doesn't exist. 

Regards,

Borys


From matthias at opengis.ch  Wed Jul 19 08:53:29 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 19 Jul 2017 17:53:29 +0200
Subject: [QGIS-Developer] [PSA] Travis CI is up and running again
Message-ID: <4eb56386-7b30-56e6-82d4-5e6cdc9829ad@opengis.ch>

Hi,

Travis CI stopped working today and reported nothing but failures.

# The good news

It's up and running again.

# Affected pull requests

If you have a pull request which errored, either push a new commit to
your branch (if you have something that you wanted to push anyway) or
close and reopen the pull request.

# Cause

It was caused by the switch of the default distribution from precise to
trusty. (Read more about it here
https://blog.travis-ci.com/2017-07-11-trusty-as-default-linux-is-coming).
Right now it's quite easy to revert (once you know what's actually going
on).

# Perspective

Mid-term we will have to migrate to something newer though.
Travis also offers support for trusty but that's quite old as well. We
are currently looking into a couple of different approaches like
building our depencies for trusty and shipping them via a ppa or using a
docker container with the dependencies. The main requirement is that the
whole dependency build process is scripted and can be done
collaboratively (something the current osgeo4travis dependencies don't
fulfill which I'm eager to retire).

Cheers
Matthias

From lists at borysjurgiel.pl  Wed Jul 19 08:01:42 2017
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Wed, 19 Jul 2017 17:01:42 +0200
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <d6e0fa4b-c130-fcbd-e64f-28d4cc02d19a@faunalia.it>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
 <CAB28Asgb67f3U0NzRtZA2fKaoyO-UCnkhC2WEvgwGg-u9evjSA@mail.gmail.com>
 <d6e0fa4b-c130-fcbd-e64f-28d4cc02d19a@faunalia.it>
Message-ID: <1961094.XTLv0N7DFy@debian>

Dnia ≈õroda, 19 lipca 2017 09:32:54 Paolo Cavallini pisze:
> unfortunately, AFAIK drag&drop does not alow to spatialize the text
> layer, so in most cases an user is forced to use the delimited text
> provider. There are external plugins that allow spatialization after
> loading.
> All the best.

You can spatialize them by drag&drop. In GDAL >= 2.1 it's as easy as creating 
an additional .csvt file with column type declarations. In older versions of 
GDAL, you need to access the csv via an additional .vrt file. See [1].

Hovever, there are still unsolved problems. With GDAL 1.10, I only can add new 
features (like it is in postgis layer with missing primary key). With GDAL 
2.2, I have full edit capabilities, however, QGIS corrupts the .csvt file on 
save by replacing the CoordX/CoordY/Point(X)/Point(Y) declarations with simple 
Float. As a result, next time you try to open the file, QGIS finds it non-
geometry.

I guess fixing the last issue is a way to go. Once it's solved, maybe we even 
don't need the CSV provider anymore?

Regards,
Borys

[1] http://www.gdal.org/drv_csv.html

From cavallini at faunalia.it  Wed Jul 19 09:08:09 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 19 Jul 2017 18:08:09 +0200
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <1961094.XTLv0N7DFy@debian>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
 <CAB28Asgb67f3U0NzRtZA2fKaoyO-UCnkhC2WEvgwGg-u9evjSA@mail.gmail.com>
 <d6e0fa4b-c130-fcbd-e64f-28d4cc02d19a@faunalia.it>
 <1961094.XTLv0N7DFy@debian>
Message-ID: <4ba24889-8047-76fe-fb02-3f7d7baca729@faunalia.it>

Il 19/07/2017 17:01, Borys Jurgiel ha scritto:

> You can spatialize them by drag&drop. In GDAL >= 2.1 it's as easy as creating 
> an additional .csvt file with column type declarations. 

so the main issue would be to biuld a GUI for creating a .csvt? IMHO
asking our users to create it by hand is messy.
I agree that removing duplication, as always, is a Godd Thing.
All the best, and thanks.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From noreply at qgis.org  Wed Jul 19 09:11:01 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 19 Jul 2017 16:11:01 -0000
Subject: [QGIS-Developer] Plugin [740] qgis2web approval notification.
Message-ID: <20170719161101.12961.41229@320558c5528b>


Plugin qgis2web approval by pcav.
The plugin version "[740] qgis2web 2.22.0" is now approved
Link: http://plugins.qgis.org/plugins/qgis2web/

From lists at borysjurgiel.pl  Wed Jul 19 09:20:30 2017
From: lists at borysjurgiel.pl (Borys Jurgiel)
Date: Wed, 19 Jul 2017 18:20:30 +0200
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <4ba24889-8047-76fe-fb02-3f7d7baca729@faunalia.it>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
 <1961094.XTLv0N7DFy@debian>
 <4ba24889-8047-76fe-fb02-3f7d7baca729@faunalia.it>
Message-ID: <9511667.kxvktahnki@debian>

Dnia ≈õroda, 19 lipca 2017 18:08:09 Paolo Cavallini pisze:
> Il 19/07/2017 17:01, Borys Jurgiel ha scritto:
> > You can spatialize them by drag&drop. In GDAL >= 2.1 it's as easy as
> > creating an additional .csvt file with column type declarations.
> 
> so the main issue would be to biuld a GUI for creating a .csvt? IMHO
> asking our users to create it by hand is messy.

Sure. Actually the file could be created in both solutions - the CSV provider 
also could use it for saving the user choice (and loading it next time).

Regards,
Borys


From cavallini at faunalia.it  Wed Jul 19 09:32:13 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed, 19 Jul 2017 18:32:13 +0200
Subject: [QGIS-Developer] Expression based output in Processing
In-Reply-To: <CAMtDFLLtJfFB5frf_irLscPgy1rDenZrarkYJZYPTA8xGtK94Q@mail.gmail.com>
References: <df00bfc2-9b5a-0f8e-8cfb-89c0b65da5d6@faunalia.it>
 <CAMtDFLLtJfFB5frf_irLscPgy1rDenZrarkYJZYPTA8xGtK94Q@mail.gmail.com>
Message-ID: <37861bea-c3c3-72c5-21b0-bd4641f078e1@faunalia.it>

Il 19/07/2017 12:36, Etienne Trimaille ha scritto:
> Expressions are good everywhere anyway ;-)
> I don't see a lot but I can imagine if we have some variables in the
> QGIS/project/layers settings for instance to set the output path.

this makes sense to me, thanks. even more useful it would be to have it
onbatch - maybe I should open a feature req?
all the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From apasotti at gmail.com  Wed Jul 19 09:59:08 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Wed, 19 Jul 2017 18:59:08 +0200
Subject: [QGIS-Developer] [PSA] Travis CI is up and running again
In-Reply-To: <4eb56386-7b30-56e6-82d4-5e6cdc9829ad@opengis.ch>
References: <4eb56386-7b30-56e6-82d4-5e6cdc9829ad@opengis.ch>
Message-ID: <CAL5Q672jvD=0-p+EtsFOnjRZMDfq=JNrTBC07DEsdcpjQ+RCWA@mail.gmail.com>

On Wed, Jul 19, 2017 at 5:53 PM, Matthias Kuhn <matthias at opengis.ch> wrote:

> Hi,
>
> Travis CI stopped working today and reported nothing but failures.
>
> # The good news
>
> It's up and running again.
>
> # Affected pull requests
>
> If you have a pull request which errored, either push a new commit to
> your branch (if you have something that you wanted to push anyway) or
> close and reopen the pull request.
>
> # Cause
>
> It was caused by the switch of the default distribution from precise to
> trusty. (Read more about it here
> https://blog.travis-ci.com/2017-07-11-trusty-as-default-linux-is-coming).
> Right now it's quite easy to revert (once you know what's actually going
> on).
>
> # Perspective
>
> Mid-term we will have to migrate to something newer though.
> Travis also offers support for trusty but that's quite old as well. We
> are currently looking into a couple of different approaches like
> building our depencies for trusty and shipping them via a ppa or using a
> docker container with the dependencies. The main requirement is that the
> whole dependency build process is scripted and can be done
> collaboratively (something the current osgeo4travis dependencies don't
> fulfill which I'm eager to retire).
>
> Cheers
> Matthias
>


Thanks Matthias for the good news, you know we (@ boundless) have an
established workflow for nightly builds of docker QGIS testing images,
basically the docker images are build with Vagrant on AWS through a jenkins
task that schedules the builds and pushes them to docker hub.

The images are then pulled by Travis and the tests are run inside the
docker images on Travis.

Maybe something similar can be developed for the dependencies, please le me
know if we can help.


Cheers.

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170719/014d6357/attachment-0001.html>

From noreply at qgis.org  Wed Jul 19 10:21:02 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 19 Jul 2017 17:21:02 -0000
Subject: [QGIS-Developer] Plugin [1282] Spanish Inspire Catastral Downloader
 approval notification.
Message-ID: <20170719172102.12956.84691@320558c5528b>


Plugin Spanish Inspire Catastral Downloader approval by pcav.
The plugin version "[1282] Spanish Inspire Catastral Downloader 0.1" is now approved
Link: http://plugins.qgis.org/plugins/Spanish_Inspire_Catastral_Downloader/

From strk at kbt.io  Wed Jul 19 10:46:43 2017
From: strk at kbt.io (Sandro Santilli)
Date: Wed, 19 Jul 2017 19:46:43 +0200
Subject: [QGIS-Developer] [PSA] Travis CI is up and running again
In-Reply-To: <4eb56386-7b30-56e6-82d4-5e6cdc9829ad@opengis.ch>
References: <4eb56386-7b30-56e6-82d4-5e6cdc9829ad@opengis.ch>
Message-ID: <20170719174643.st3e5iy2kv5s5pgd@liz>

On Wed, Jul 19, 2017 at 05:53:29PM +0200, Matthias Kuhn wrote:

> Travis CI stopped working today and reported nothing but failures.
> It's up and running again.

Do you have a pending PR to backport this change to release-2_18 branch ?
Or I'd make one (or a direct commit?)

I need a functional travis for some PRs...

--strk;

From lbartoletti at tuxfamily.org  Wed Jul 19 14:34:56 2017
From: lbartoletti at tuxfamily.org (lbartoletti at tuxfamily.org)
Date: Wed, 19 Jul 2017 23:34:56 +0200
Subject: [QGIS-Developer] New MapTools for Circle, ellipse,
 regular polygon
In-Reply-To: <8243e4ba-dee5-079e-2f9b-c5acd1c940ec@tuxfamily.org>
References: <b2e3acf3-5dd7-12ea-04c6-938fe8345ba9@tuxfamily.org>
 <CAB28Ash-vo8gNk+SZJpCOCqfMEV1CMaU4z=ei5mqqzsLgMerAQ@mail.gmail.com>
 <8243e4ba-dee5-079e-2f9b-c5acd1c940ec@tuxfamily.org>
Message-ID: <9fc4596eb41af1fe01bd65587d394b69@tuxfamily.org>

On 2017-05-25 07:07, L.Bartoletti wrote:

Hi,

I have just started this project. You can see it here: 
https://github.com/lbartoletti/QGIS/tree/regularShape_gui

For now, I have only implemented a few features for the circles based on 
the work done on the circular string.

Regards.

Lo√Øc


From nyall.dawson at gmail.com  Wed Jul 19 15:09:56 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 20 Jul 2017 08:09:56 +1000
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <f61f41f9-5bfe-fd23-9591-de4cc35906f2@carto.net>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
 <CAB28Asgb67f3U0NzRtZA2fKaoyO-UCnkhC2WEvgwGg-u9evjSA@mail.gmail.com>
 <CAFcOn29==WvMZwBB-iRoEOG3L+s5SkC5QZnfHa06HH3LGLiwHw@mail.gmail.com>
 <f61f41f9-5bfe-fd23-9591-de4cc35906f2@carto.net>
Message-ID: <CAB28Asho99KgeSG1+tcXXj05FhCU1hCkeUo6OjLNN=VbxbLy1w@mail.gmail.com>

On 20 July 2017 at 00:35, Andreas Neumann <a.neumann at carto.net> wrote:
> Hi all,
>
> Thanks all for your feedback. The "Add delimited text" way of loading CSV
> data is a lot more powerful and more flexible than the OGR way. So I would
> really prefer to use the CSV this way and still be able to edit and save
> directly to the CSV.
>
> Would this be possible as an enhancement?

I still think the "proper"/"most open source ecosystem friendly"
approach here would be to port the extra features which QGIS'
delimited text provider has across to GDAL's csv driver. Then the "add
delimited text" button would become just a frontend for setting up the
parameters for GDAL's driver (and possibly auto-creation of a csvt
file too).

Given that gdal already supports editable csv (and is used by many
projects outside of QGIS), it seems more friendly to the wider
community if any investment was about enhancing gdal's driver instead
of adding write support within QGIS only.

That's just my 2c!


Nyall

> I don't need concurrent/simultaneous editing with Spreadsheets. All I want
> is an editable CSV directly from QGIS, so that it could be at a later time,
> be opened in Spreadsheets again (not opened at the same time in QGIS as
> well).
>
> Andreas
>
>
> On 19.07.2017 16:23, Stefan Keller wrote:
>>
>> Nice hints, Bernhard and Nyall
>> Thinking about, there's no really complicated technical reason why
>> concurrent editing would not work.
>> It's simply a matter in which mode the reader SW opens the file.
>> * QGIS delimited text provider: locks.
>> * QGIS OGR data provider: does not lock - but not ask to reload if
>> file has changed.
>> * LibreOffice Writer and Excel: lock
>> * Notepad++: does not lock - and asks to reload if file has changed
>> * Other text editors: depends...
>>
>> So, in fact e could slightly enhance the situation, if QGIS delimited
>> text provider would not lock (and eventually ask to reload when file
>> changed).
>> The remaining problem is that we can't change the behaviour of
>> LibreOffice Writer (Windows) nor Excel short term...
>> Eventually someone could ask the LibreOffice Writer dev's for a solution?
>>
>> :Stefan
>>
>>
>> 2017-07-19 8:48 GMT+02:00 Nyall Dawson <nyall.dawson at gmail.com>:
>>>
>>> On 19 July 2017 at 15:45, Andreas Neumann <a.neumann at carto.net> wrote:
>>>>
>>>> Hi,
>>>>
>>>> Is there a particular technical reason why csv/text files aren't
>>>> editable in
>>>> QGIS? Or is this mainly for historical reasons and it could be
>>>> implemented
>>>> as editable with reasonable effort?
>>>>
>>> It depends how they are loaded. If you load them using the delimited
>>> text provider, then no, they aren't editable.
>>>
>>> BUT.....
>>>
>>> if you load them as a ogr layer, they will be! (Since GDAL supports this)
>>>
>>> So drag and drop them to QGIS, or add via the "add vector layer"
>>> button and they'll be editable.
>>>
>>> Nyall
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>

From hugo.mercier at oslandia.com  Wed Jul 19 15:16:53 2017
From: hugo.mercier at oslandia.com (Hugo Mercier)
Date: Thu, 20 Jul 2017 00:16:53 +0200
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <CAB28Asho99KgeSG1+tcXXj05FhCU1hCkeUo6OjLNN=VbxbLy1w@mail.gmail.com>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
 <CAB28Asgb67f3U0NzRtZA2fKaoyO-UCnkhC2WEvgwGg-u9evjSA@mail.gmail.com>
 <CAFcOn29==WvMZwBB-iRoEOG3L+s5SkC5QZnfHa06HH3LGLiwHw@mail.gmail.com>
 <f61f41f9-5bfe-fd23-9591-de4cc35906f2@carto.net>
 <CAB28Asho99KgeSG1+tcXXj05FhCU1hCkeUo6OjLNN=VbxbLy1w@mail.gmail.com>
Message-ID: <253890ed-c03b-d3f9-c1e2-8d85532facc3@oslandia.com>

On 20/07/2017 00:09, Nyall Dawson wrote:
> On 20 July 2017 at 00:35, Andreas Neumann <a.neumann at carto.net> wrote:
>> Hi all,
>>
>> Thanks all for your feedback. The "Add delimited text" way of loading CSV
>> data is a lot more powerful and more flexible than the OGR way. So I would
>> really prefer to use the CSV this way and still be able to edit and save
>> directly to the CSV.
>>
>> Would this be possible as an enhancement?
> 
> I still think the "proper"/"most open source ecosystem friendly"
> approach here would be to port the extra features which QGIS'
> delimited text provider has across to GDAL's csv driver. Then the "add
> delimited text" button would become just a frontend for setting up the
> parameters for GDAL's driver (and possibly auto-creation of a csvt
> file too).
> 
> Given that gdal already supports editable csv (and is used by many
> projects outside of QGIS), it seems more friendly to the wider
> community if any investment was about enhancing gdal's driver instead
> of adding write support within QGIS only.
> 

+1000 on this :)

From cavallini at faunalia.it  Wed Jul 19 21:54:02 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 20 Jul 2017 06:54:02 +0200
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <CAB28Asho99KgeSG1+tcXXj05FhCU1hCkeUo6OjLNN=VbxbLy1w@mail.gmail.com>
References: <ba7b50b8-df60-732c-b930-bb3f9e036288@carto.net>
 <CAB28Asgb67f3U0NzRtZA2fKaoyO-UCnkhC2WEvgwGg-u9evjSA@mail.gmail.com>
 <CAFcOn29==WvMZwBB-iRoEOG3L+s5SkC5QZnfHa06HH3LGLiwHw@mail.gmail.com>
 <f61f41f9-5bfe-fd23-9591-de4cc35906f2@carto.net>
 <CAB28Asho99KgeSG1+tcXXj05FhCU1hCkeUo6OjLNN=VbxbLy1w@mail.gmail.com>
Message-ID: <399ADC55-072A-4663-8110-3CB660CFFA2C@faunalia.it>

Il 20 luglio 2017 00:09:56 CEST, Nyall Dawson <nyall.dawson at gmail.com> ha scritto:
>On 20 July 2017 at 00:35, Andreas Neumann <a.neumann at carto.net> wrote:
>> Hi all,
>>
>> Thanks all for your feedback. The "Add delimited text" way of loading
>CSV
>> data is a lot more powerful and more flexible than the OGR way. So I
>would
>> really prefer to use the CSV this way and still be able to edit and
>save
>> directly to the CSV.
>>
>> Would this be possible as an enhancement?
>
>I still think the "proper"/"most open source ecosystem friendly"
>approach here would be to port the extra features which QGIS'
>delimited text provider has across to GDAL's csv driver. Then the "add
>delimited text" button would become just a frontend for setting up the
>parameters for GDAL's driver (and possibly auto-creation of a csvt
>file too).
>
>Given that gdal already supports editable csv (and is used by many
>projects outside of QGIS), it seems more friendly to the wider
>community if any investment was about enhancing gdal's driver instead
>of adding write support within QGIS only.
>
>That's just my 2c!
>
>
>Nyall
>
>> I don't need concurrent/simultaneous editing with Spreadsheets. All I
>want
>> is an editable CSV directly from QGIS, so that it could be at a later
>time,
>> be opened in Spreadsheets again (not opened at the same time in QGIS
>as
>> well).
>>
>> Andreas
>>
>>
>> On 19.07.2017 16:23, Stefan Keller wrote:
>>>
>>> Nice hints, Bernhard and Nyall
>>> Thinking about, there's no really complicated technical reason why
>>> concurrent editing would not work.
>>> It's simply a matter in which mode the reader SW opens the file.
>>> * QGIS delimited text provider: locks.
>>> * QGIS OGR data provider: does not lock - but not ask to reload if
>>> file has changed.
>>> * LibreOffice Writer and Excel: lock
>>> * Notepad++: does not lock - and asks to reload if file has changed
>>> * Other text editors: depends...
>>>
>>> So, in fact e could slightly enhance the situation, if QGIS
>delimited
>>> text provider would not lock (and eventually ask to reload when file
>>> changed).
>>> The remaining problem is that we can't change the behaviour of
>>> LibreOffice Writer (Windows) nor Excel short term...
>>> Eventually someone could ask the LibreOffice Writer dev's for a
>solution?
>>>
>>> :Stefan
>>>
>>>
>>> 2017-07-19 8:48 GMT+02:00 Nyall Dawson <nyall.dawson at gmail.com>:
>>>>
>>>> On 19 July 2017 at 15:45, Andreas Neumann <a.neumann at carto.net>
>wrote:
>>>>>
>>>>> Hi,
>>>>>
>>>>> Is there a particular technical reason why csv/text files aren't
>>>>> editable in
>>>>> QGIS? Or is this mainly for historical reasons and it could be
>>>>> implemented
>>>>> as editable with reasonable effort?
>>>>>
>>>> It depends how they are loaded. If you load them using the
>delimited
>>>> text provider, then no, they aren't editable.
>>>>
>>>> BUT.....
>>>>
>>>> if you load them as a ogr layer, they will be! (Since GDAL supports
>this)
>>>>
>>>> So drag and drop them to QGIS, or add via the "add vector layer"
>>>> button and they'll be editable.
>>>>
>>>> Nyall
>>>> _______________________________________________
>>>> QGIS-Developer mailing list
>>>> QGIS-Developer at lists.osgeo.org
>>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>> Unsubscribe:
>https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>>
>_______________________________________________
>QGIS-Developer mailing list
>QGIS-Developer at lists.osgeo.org
>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

Sure, agreed fully.
All the best.
-- 
Sent from mobile. Sorry for being short
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170720/2c52f6a0/attachment.html>

From noreply at qgis.org  Wed Jul 19 22:37:30 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 20 Jul 2017 05:37:30 -0000
Subject: [QGIS-Developer] Plugin [1283] Cadasta approval notification.
Message-ID: <20170720053730.12956.70961@320558c5528b>


Plugin Cadasta approval by pcav.
The plugin version "[1283] Cadasta 1.1.0" is now approved
Link: http://plugins.qgis.org/plugins/cadasta-qgis-plugin/

From matthias at opengis.ch  Wed Jul 19 23:39:53 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 20 Jul 2017 08:39:53 +0200
Subject: [QGIS-Developer] [PSA] Travis CI is up and running again
In-Reply-To: <CAL5Q672jvD=0-p+EtsFOnjRZMDfq=JNrTBC07DEsdcpjQ+RCWA@mail.gmail.com>
References: <4eb56386-7b30-56e6-82d4-5e6cdc9829ad@opengis.ch>
 <CAL5Q672jvD=0-p+EtsFOnjRZMDfq=JNrTBC07DEsdcpjQ+RCWA@mail.gmail.com>
Message-ID: <7336be0a-f9ae-e4d2-82ae-f0d788406811@opengis.ch>

On 7/19/17 6:59 PM, Alessandro Pasotti wrote:

> On Wed, Jul 19, 2017 at 5:53 PM, Matthias Kuhn <matthias at opengis.ch
> <mailto:matthias at opengis.ch>> wrote:
>
>     Hi,
>
>     Travis CI stopped working today and reported nothing but failures.
>
>     # The good news
>
>     It's up and running again.
>
>     # Affected pull requests
>
>     If you have a pull request which errored, either push a new commit to
>     your branch (if you have something that you wanted to push anyway) or
>     close and reopen the pull request.
>
>     # Cause
>
>     It was caused by the switch of the default distribution from
>     precise to
>     trusty. (Read more about it here
>     https://blog.travis-ci.com/2017-07-11-trusty-as-default-linux-is-coming
>     <https://blog.travis-ci.com/2017-07-11-trusty-as-default-linux-is-coming>).
>     Right now it's quite easy to revert (once you know what's actually
>     going
>     on).
>
>     # Perspective
>
>     Mid-term we will have to migrate to something newer though.
>     Travis also offers support for trusty but that's quite old as well. We
>     are currently looking into a couple of different approaches like
>     building our depencies for trusty and shipping them via a ppa or
>     using a
>     docker container with the dependencies. The main requirement is
>     that the
>     whole dependency build process is scripted and can be done
>     collaboratively (something the current osgeo4travis dependencies don't
>     fulfill which I'm eager to retire).
>
>     Cheers
>     Matthias
>
>
>
> Thanks Matthias for the good news, you know we (@ boundless) have an
> established workflow for nightly builds of docker QGIS testing images,
> basically the docker images are build with Vagrant on AWS through a
> jenkins task that schedules the builds and pushes them to docker hub.
>
> The images are then pulled by Travis and the tests are run inside the
> docker images on Travis.
>
> Maybe something similar can be developed for the dependencies, please
> le me know if we can help.

That's very interesting, Alessandro

How are dependencies built, using some packaging system or a set of
scripts? Are the scripts or recipes around somewhere?

We were wondering if this could be done directly on travis before the
build starts (skipping any package that is already up to date in the cache).
The nice benefit of this compared to a separate build as you are doing
on AWS would be that if something needs a new dependency (thinking of
qca, qtkeychain, ...) it can directly integrated in the same pull request.
What do you think about this approach?

Thanks
Matthias

>
>
> Cheers.
>
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it <http://www.itopen.it>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170720/18694b73/attachment-0001.html>

From noreply at qgis.org  Wed Jul 19 23:39:18 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 20 Jul 2017 06:39:18 -0000
Subject: [QGIS-Developer] Plugin [1278] Polygons_Pile approval notification.
Message-ID: <20170720063918.12956.340@320558c5528b>


Plugin Polygons_Pile approval by pcav.
The plugin version "[1278] Polygons_Pile 0.0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/Polygons_Pile/

From apasotti at gmail.com  Wed Jul 19 23:56:57 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 20 Jul 2017 08:56:57 +0200
Subject: [QGIS-Developer] [PSA] Travis CI is up and running again
In-Reply-To: <7336be0a-f9ae-e4d2-82ae-f0d788406811@opengis.ch>
References: <4eb56386-7b30-56e6-82d4-5e6cdc9829ad@opengis.ch>
 <CAL5Q672jvD=0-p+EtsFOnjRZMDfq=JNrTBC07DEsdcpjQ+RCWA@mail.gmail.com>
 <7336be0a-f9ae-e4d2-82ae-f0d788406811@opengis.ch>
Message-ID: <CAL5Q671k-peoPPVwOB93nquT-xAsdXVtCyrOkbDpnS1h6npAoA@mail.gmail.com>

On Thu, Jul 20, 2017 at 8:39 AM, Matthias Kuhn <matthias at opengis.ch> wrote:

> On 7/19/17 6:59 PM, Alessandro Pasotti wrote:
>
> On Wed, Jul 19, 2017 at 5:53 PM, Matthias Kuhn <matthias at opengis.ch>
> wrote:
>
>> Hi,
>>
>> Travis CI stopped working today and reported nothing but failures.
>>
>> # The good news
>>
>> It's up and running again.
>>
>> # Affected pull requests
>>
>> If you have a pull request which errored, either push a new commit to
>> your branch (if you have something that you wanted to push anyway) or
>> close and reopen the pull request.
>>
>> # Cause
>>
>> It was caused by the switch of the default distribution from precise to
>> trusty. (Read more about it here
>> https://blog.travis-ci.com/2017-07-11-trusty-as-default-linux-is-coming).
>> Right now it's quite easy to revert (once you know what's actually going
>> on).
>>
>> # Perspective
>>
>> Mid-term we will have to migrate to something newer though.
>> Travis also offers support for trusty but that's quite old as well. We
>> are currently looking into a couple of different approaches like
>> building our depencies for trusty and shipping them via a ppa or using a
>> docker container with the dependencies. The main requirement is that the
>> whole dependency build process is scripted and can be done
>> collaboratively (something the current osgeo4travis dependencies don't
>> fulfill which I'm eager to retire).
>>
>> Cheers
>> Matthias
>>
>
>
> Thanks Matthias for the good news, you know we (@ boundless) have an
> established workflow for nightly builds of docker QGIS testing images,
> basically the docker images are build with Vagrant on AWS through a jenkins
> task that schedules the builds and pushes them to docker hub.
>
> The images are then pulled by Travis and the tests are run inside the
> docker images on Travis.
>
> Maybe something similar can be developed for the dependencies, please le
> me know if we can help.
>
>
> That's very interesting, Alessandro
>
> How are dependencies built, using some packaging system or a set of
> scripts? Are the scripts or recipes around somewhere?
>

Oh, sorry for not being clear, we are not building dependencies but only
QGIS itself, but I think that the general workflow could be used for
building the dependencies in the docker instead of QGIS and push the image
to docker HUB.

So, when Travis starts, it will pull the pre-built docker image with all
dependencies already built and either install them in Travis and build QGIS
or build QGIS inside the docker "inside" Travis.

BTW, the recipes are here:
https://github.com/boundlessgeo/qgis-testing-environment-docker


> We were wondering if this could be done directly on travis before the
> build starts (skipping any package that is already up to date in the cache).
>


> The nice benefit of this compared to a separate build as you are doing on
> AWS would be that if something needs a new dependency (thinking of qca,
> qtkeychain, ...) it can directly integrated in the same pull request.
> What do you think about this approach?
>
> Thanks
> Matthias
>
>

I'm not sure I get it right, do you mean that you want to build the
dependencies on Travis within the same job that builds QGIS?

I think that this would add a considerable time, that's why we are building
on AWS and pull the pre-built docker, but I guess that the goal is
completely different.

I was thinking that the dependencies do not vary frequently, hence we
should be able to build the dependencies docker nightly and when the main
QGIS Travis job starts we can pull the docker with the dependencies
substantially lowering the time needed to run the entire job.

Will you join the hackfest? If yes we can brainstorm there!

Cheers

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170720/ba0c7006/attachment.html>

From matthias at opengis.ch  Thu Jul 20 00:29:42 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 20 Jul 2017 09:29:42 +0200
Subject: [QGIS-Developer] [PSA] Travis CI is up and running again
In-Reply-To: <CAL5Q671k-peoPPVwOB93nquT-xAsdXVtCyrOkbDpnS1h6npAoA@mail.gmail.com>
References: <4eb56386-7b30-56e6-82d4-5e6cdc9829ad@opengis.ch>
 <CAL5Q672jvD=0-p+EtsFOnjRZMDfq=JNrTBC07DEsdcpjQ+RCWA@mail.gmail.com>
 <7336be0a-f9ae-e4d2-82ae-f0d788406811@opengis.ch>
 <CAL5Q671k-peoPPVwOB93nquT-xAsdXVtCyrOkbDpnS1h6npAoA@mail.gmail.com>
Message-ID: <5fbf4aac-b01f-3c91-7db5-28871cf2c71c@opengis.ch>

On 7/20/17 8:56 AM, Alessandro Pasotti wrote:

> That's very interesting, Alessandro
>
>
>     How are dependencies built, using some packaging system or a set
>     of scripts? Are the scripts or recipes around somewhere?
>
>
> Oh, sorry for not being clear, we are not building dependencies but
> only QGIS itself, but I think that the general workflow could be used
> for building the dependencies in the docker instead of QGIS and push
> the image to docker HUB.
>
> So, when Travis starts, it will pull the pre-built docker image with
> all dependencies already built and either install them in Travis and
> build QGIS or build QGIS inside the docker "inside" Travis.
>
> BTW, the recipes are here:
> https://github.com/boundlessgeo/qgis-testing-environment-docker

Thanks for the pointer.
So you are mostly using the dependencies directly from Ubuntu 16.04
except for one dependency that you build?

>
>
>     We were wondering if this could be done directly on travis before
>     the build starts (skipping any package that is already up to date
>     in the cache).
>
>  
>
>     The nice benefit of this compared to a separate build as you are
>     doing on AWS would be that if something needs a new dependency
>     (thinking of qca, qtkeychain, ...) it can directly integrated in
>     the same pull request.
>     What do you think about this approach?
>
>     Thanks
>     Matthias
>
>
>
> I'm not sure I get it right, do you mean that you want to build the
> dependencies on Travis within the same job that builds QGIS?
Correct
>
> I think that this would add a considerable time, that's why we are
> building on AWS and pull the pre-built docker, but I guess that the
> goal is completely different.
Normally they should be cached and not rebuilt.

> I was thinking that the dependencies do not vary frequently, hence we
> should be able to build the dependencies docker nightly and when the
> main QGIS Travis job starts we can pull the docker with the
> dependencies substantially lowering the time needed to run the entire job.
I imagine version updates happen more often. For example a new gdal
version that brings in some geopackage functionality which is covered by
a unit test.

What's the workflow here?

If this can be added directly inside a pull request this has some
advantages like

a) responsibility (even without commit rights on the qgis repo you can
build the deps in the pull request)
b) sandboxing (if the library is updated in a centralized repository and
the new gdal version kills some other unit tests we will have that also
failing on master).

>
> Will you join the hackfest? If yes we can brainstorm there!

I'll be there, we can talk about this for sure if there are still open
questions!

Thanks
Matthias

>
> Cheers
>
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it <http://www.itopen.it>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170720/16173d0c/attachment.html>

From noreply at qgis.org  Thu Jul 20 00:47:12 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 20 Jul 2017 07:47:12 -0000
Subject: [QGIS-Developer] Plugin [1209] Batch GPS Importer approval
	notification.
Message-ID: <20170720074712.12956.14862@320558c5528b>


Plugin Batch GPS Importer approval by pcav.
The plugin version "[1209] Batch GPS Importer 0.2.0" is now approved
Link: http://plugins.qgis.org/plugins/batch_gps_importer/

From apasotti at gmail.com  Thu Jul 20 01:44:06 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Thu, 20 Jul 2017 10:44:06 +0200
Subject: [QGIS-Developer] [PSA] Travis CI is up and running again
In-Reply-To: <5fbf4aac-b01f-3c91-7db5-28871cf2c71c@opengis.ch>
References: <4eb56386-7b30-56e6-82d4-5e6cdc9829ad@opengis.ch>
 <CAL5Q672jvD=0-p+EtsFOnjRZMDfq=JNrTBC07DEsdcpjQ+RCWA@mail.gmail.com>
 <7336be0a-f9ae-e4d2-82ae-f0d788406811@opengis.ch>
 <CAL5Q671k-peoPPVwOB93nquT-xAsdXVtCyrOkbDpnS1h6npAoA@mail.gmail.com>
 <5fbf4aac-b01f-3c91-7db5-28871cf2c71c@opengis.ch>
Message-ID: <CAL5Q673BppkPZy-oe1YkgZ=9ai_ULEV7=F2e6z8FpuGV4gxZkg@mail.gmail.com>

On Thu, Jul 20, 2017 at 9:29 AM, Matthias Kuhn <matthias at opengis.ch> wrote:

> On 7/20/17 8:56 AM, Alessandro Pasotti wrote:
>
> That's very interesting, Alessandro
>
>>
>> How are dependencies built, using some packaging system or a set of
>> scripts? Are the scripts or recipes around somewhere?
>>
>
> Oh, sorry for not being clear, we are not building dependencies but only
> QGIS itself, but I think that the general workflow could be used for
> building the dependencies in the docker instead of QGIS and push the image
> to docker HUB.
>
>
> So, when Travis starts, it will pull the pre-built docker image with all
> dependencies already built and either install them in Travis and build QGIS
> or build QGIS inside the docker "inside" Travis.
>
>
> BTW, the recipes are here: https://github.com/boundlessgeo/qgis-testing-
> environment-docker
>
>
> Thanks for the pointer.
> So you are mostly using the dependencies directly from Ubuntu 16.04 except
> for one dependency that you build?
>


Yes, the purpose of that docker is provide a testing environment for
plugins, in that context, QGIS is "the" dependency that is being built.


>
>
>
>> We were wondering if this could be done directly on travis before the
>> build starts (skipping any package that is already up to date in the cache).
>>
>
>
>> The nice benefit of this compared to a separate build as you are doing on
>> AWS would be that if something needs a new dependency (thinking of qca,
>> qtkeychain, ...) it can directly integrated in the same pull request.
>> What do you think about this approach?
>>
>> Thanks
>> Matthias
>>
>>
>
> I'm not sure I get it right, do you mean that you want to build the
> dependencies on Travis within the same job that builds QGIS?
>
> Correct
>
>
> I think that this would add a considerable time, that's why we are
> building on AWS and pull the pre-built docker, but I guess that the goal is
> completely different.
>
> Normally they should be cached and not rebuilt.
>


Oh, I see, I would not know how to do that though.


> I was thinking that the dependencies do not vary frequently, hence we
> should be able to build the dependencies docker nightly and when the main
> QGIS Travis job starts we can pull the docker with the dependencies
> substantially lowering the time needed to run the entire job.
>
> I imagine version updates happen more often. For example a new gdal
> version that brings in some geopackage functionality which is covered by a
> unit test.
>

More often than daily? I was thinking at building the dependencies in the
docker daily with AWS. We could even have different set of dependencies in
different docker tags and use a Travis matrix to test them all ... given
that it does not add too much to the Travis allowed time.


>
> What's the workflow here?
>
> If this can be added directly inside a pull request this has some
> advantages like
>
> a) responsibility (even without commit rights on the qgis repo you can
> build the deps in the pull request)
> b) sandboxing (if the library is updated in a centralized repository and
> the new gdal version kills some other unit tests we will have that also
> failing on master).
>
>
That's a big advantage, I agree.

The bottomline is that if you know how to do that and it will work without
timing out, your solutions is for sure the best one.


Cheers

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170720/e3443770/attachment-0001.html>

From matthias at opengis.ch  Thu Jul 20 02:44:51 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 20 Jul 2017 11:44:51 +0200
Subject: [QGIS-Developer] [PSA] Travis CI is up and running again
In-Reply-To: <CAL5Q673BppkPZy-oe1YkgZ=9ai_ULEV7=F2e6z8FpuGV4gxZkg@mail.gmail.com>
References: <4eb56386-7b30-56e6-82d4-5e6cdc9829ad@opengis.ch>
 <CAL5Q672jvD=0-p+EtsFOnjRZMDfq=JNrTBC07DEsdcpjQ+RCWA@mail.gmail.com>
 <7336be0a-f9ae-e4d2-82ae-f0d788406811@opengis.ch>
 <CAL5Q671k-peoPPVwOB93nquT-xAsdXVtCyrOkbDpnS1h6npAoA@mail.gmail.com>
 <5fbf4aac-b01f-3c91-7db5-28871cf2c71c@opengis.ch>
 <CAL5Q673BppkPZy-oe1YkgZ=9ai_ULEV7=F2e6z8FpuGV4gxZkg@mail.gmail.com>
Message-ID: <67d4c944-bff6-c32a-4ffd-5ba422d569ca@opengis.ch>

On 7/20/17 10:44 AM, Alessandro Pasotti wrote:

>
>>
>>     I think that this would add a considerable time, that's why we
>>     are building on AWS and pull the pre-built docker, but I guess
>>     that the goal is completely different.
>     Normally they should be cached and not rebuilt.
>
>
>
> Oh, I see, I would not know how to do that though.
We already do something similar to bring down QGIS compilation time from
>1 hour to 15 minutes.

>
>
>>     I was thinking that the dependencies do not vary frequently,
>>     hence we should be able to build the dependencies docker nightly
>>     and when the main QGIS Travis job starts we can pull the docker
>>     with the dependencies substantially lowering the time needed to
>>     run the entire job.
>     I imagine version updates happen more often. For example a new
>     gdal version that brings in some geopackage functionality which is
>     covered by a unit test.
>
>
> More often than daily?
More often than new dependencies will be added.
> I was thinking at building the dependencies in the docker daily with
> AWS. We could even have different set of dependencies in different
> docker tags and use a Travis matrix to test them all ... given that it
> does not add too much to the Travis allowed time.
True, that's something to consider as well. That could also directly
populate a ppa (and avoid using docker).

Considering the matrix, do you have a good idea what we could/should
include in this matrix?

One thing I'm not sure is if we have a maximum number of parallel jobs
and will make our own queue grow if we are hammering the infrastructure
with parallel jobs. Do you know anything about this?

>  
>
>
>     What's the workflow here?
>
>     If this can be added directly inside a pull request this has some
>     advantages like
>
>     a) responsibility (even without commit rights on the qgis repo you
>     can build the deps in the pull request)
>     b) sandboxing (if the library is updated in a centralized
>     repository and the new gdal version kills some other unit tests we
>     will have that also failing on master).
>
>
> That's a big advantage, I agree.
>
> The bottomline is that if you know how to do that and it will work
> without timing out, your solutions is for sure the best one.

Larry has been doing similar things for osgeo4mac in the past, so I'm
fairly positive that it's possible.

Cheers

>
>  
> Cheers
>
> -- 
> Alessandro Pasotti
> w3:   www.itopen.it <http://www.itopen.it>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170720/5e99ae58/attachment.html>

From noreply at qgis.org  Thu Jul 20 03:33:48 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 20 Jul 2017 10:33:48 -0000
Subject: [QGIS-Developer] Plugin [1282] Spanish Inspire Catastral Downloader
 approval notification.
Message-ID: <20170720103348.12955.49919@320558c5528b>


Plugin Spanish Inspire Catastral Downloader approval by pcav.
The plugin version "[1282] Spanish Inspire Catastral Downloader 0.2" is now approved
Link: http://plugins.qgis.org/plugins/Spanish_Inspire_Catastral_Downloader/

From senolozgur.cs at gmail.com  Thu Jul 20 04:25:29 2017
From: senolozgur.cs at gmail.com (Senol Ozgur)
Date: Thu, 20 Jul 2017 14:25:29 +0300
Subject: [QGIS-Developer] Plugin idea
Message-ID: <CADQ-w0mCq8dQceHkQC4sS41avvgqnE+Bo5O-wcbdyOCWsLa=7A@mail.gmail.com>

Hi,
I'm long term QGIS user. I'm very happy with QGIS and want to contribute.
I have a plugin idea and want to get some feedback prior to development. We
are dealing with spatial data stored on Oracle DB. Oracle Spatial needs to
be maintained(spatial metadata, i.e. coordinate system of tables, table
extends etc.). Metada can be managed by writing SQL queries or by using
other tools(Oracle SQL Developer and Georaptor plugin). Will a plugin for
QGIS(as far as I know there is no such plugin forQGIS) for managin Oracle
Spatial Metadata be useful? I'd be happy to hear some other opinions.
Best regards.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170720/105ab84e/attachment.html>

From JPalmer at linz.govt.nz  Thu Jul 20 04:58:35 2017
From: JPalmer at linz.govt.nz (Jeremy Palmer)
Date: Thu, 20 Jul 2017 11:58:35 +0000
Subject: [QGIS-Developer] Editable CSV files
In-Reply-To: <mailman.96386.1500532794.18832.qgis-developer@lists.osgeo.org>
References: <mailman.96386.1500532794.18832.qgis-developer@lists.osgeo.org>
Message-ID: <0F41CEBD-21B7-48D8-9BE2-7DBAED7346D3@linz.govt.nz>

Hi Nyall,

On 20/07/2017, at 8:40 AM, qgis-developer-request at lists.osgeo.org<mailto:qgis-developer-request at lists.osgeo.org> wrote:

I still think the "proper"/"most open source ecosystem friendly"
approach here would be to port the extra features which QGIS'
delimited text provider has across to GDAL's csv driver. Then the "add
delimited text" button would become just a frontend for setting up the
parameters for GDAL's driver (and possibly auto-creation of a csvt
file too).


I fully agree with this, and Chris Crook, who made a lot of improvement to provider a few years back, also does.

I think the CSVT format is a very basic specification and only allows for attribute datatype definitions. The general GDAL CSV support is actually very complete and has good open options - but we need a way for those options to be persisted to disk in an interoperable way. Also, can‚Äôt forget the GDAL VRT format supports everything CSVT does plus WKT geometry type setting, projections, GDAL open options and FIDs. The issue with the VRT format is it wasn‚Äôt primarily designed as a auxiliary CSV file specification. Note, the GeoCSV spec (https://giswiki.hsr.ch/GeoCSV) also exists and GDAL supports it since 2.1, but it also doesn‚Äôt support a lot of the QGIS provider requirements.

IMHO if GDAL is to support the current QGIS delimited text provider requirements, then it really needs is an open and portable way to define and implement:

* Skipping lines (AFAIK not supported in GDAL/OGR)
* Header in file (Supported in GDAL as open option)
* CRS definition (Only possible in VRT)
* Custom delimiters (Supported in GDAL as open option)
* Regex delimiters (AFAIK not supported in GDAL/OGR - would likely need build time dependency)
* Manual setting of datatype (Only possible in VRT, autodetect is possible with GDAL as open option)
* Encoding (GDAL treats all CSVs as UTF-8, QGIS allows other encodings to be set)
* Trimming attribute fields (AFAIK not supported in GDAL/OGR)
* Skipping, treating empty fields as Null (Supported in GDAL as open option)
* Maximum number of fields that will be loaded (AFAIK not supported in GDAL/OGR)
* Escape character (AFAIK not supported in GDAL/OGR)
* Support DMS coordinates (AFAIK not supported in GDAL/OGR)
* Decimal separator is comma (AFAIK not supported in GDAL/OGR)

Also, to support editing or better translation to other formats:

* Definition of the Feature ID/Primary key (Only possible via GDAL VRT)

Of course users could be asked to see if all of these options are actually used. But many of them are indeed useful.

Cheers
Jeremy

________________________________

This message contains information, which may be in confidence and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170720/8179f4ea/attachment-0001.html>

From olivier.dalang at gmail.com  Thu Jul 20 07:52:22 2017
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Thu, 20 Jul 2017 14:52:22 +0000
Subject: [QGIS-Developer] Deploy plugins directly from github
Message-ID: <CAExk7p1wQvKYkGFvjvuXZAgjgN9iPB0EZaQ-w0D8WebhWhnrgA@mail.gmail.com>

Dear List,

Using QGIS 2.18, I'm trying to find a way to deploy plugins directly from
github using the following procedure :

1. Add a plugin.xml file to my repo, with this content :

> <?xml version = '1.0' encoding = 'UTF-8'?>

> <plugins>
    <pyqgis_plugin name="MyPlugin" version="0.0.13">

>         <version>0.0.13</version>

>         <author_name>Olivier Dalang</author_name>

>         <download_url>
https://github.com/{username}/MyPlugin/archive/0.0.13.zip</download_url>

>         <file_name>MyPlugin-0.0.13.zip</file_name>

>     </pyqgis_plugin>
</plugins>

2. Add the xml repo in QGIS plugin manager
https://raw.githubusercontent.com/{username}/MyPlugin/master/repository.xml

3. Create and push a tag named 0.0.13

If this worked, it would be a big win, as it would allow to deploy plugins
updates really easily, just by creating tags and updating the xml file
whenever I want my users to update the plugin. It avoids having to create
the zip, host it somewhere else, and maintain an up to date xml separately
for each update.

The only thing is that it doesn't work. I get an error on installing the
plugin : "Plugin installation failed. Failed to unzip package".

Github appends the tag name (or branch name) to the downloaded folder
(inside the zip). When unpacking the zip, I get a folder called
MyPlugin-0.0.13 instead of just MyPlugin. I suspect this causes the problem.
I tried to workaround this problem by using the master branch, and renaming
my plugin to MyPlugin-master, but I still get the same error. Maybe it is
so that dashes are not supported at all in plugin names ?

Was anyone able to setup such a workflow ?

Kind regards,

Olivier
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170720/fd8e52d0/attachment.html>

From volayaf at gmail.com  Thu Jul 20 07:59:43 2017
From: volayaf at gmail.com (Victor Olaya)
Date: Thu, 20 Jul 2017 16:59:43 +0200
Subject: [QGIS-Developer] Deploy plugins directly from github
In-Reply-To: <CAExk7p1wQvKYkGFvjvuXZAgjgN9iPB0EZaQ-w0D8WebhWhnrgA@mail.gmail.com>
References: <CAExk7p1wQvKYkGFvjvuXZAgjgN9iPB0EZaQ-w0D8WebhWhnrgA@mail.gmail.com>
Message-ID: <CAJsc-7yKqkVxa-8+d0gw=y-MHBRDuHgMQmyk-=m_GPV+=coShA@mail.gmail.com>

I wrote this long time ago...

https://github.com/volaya/github-updater

I guess it might be helpful for you

Cheers

2017-07-20 16:52 GMT+02:00 Olivier Dalang <olivier.dalang at gmail.com>:
> Dear List,
>
> Using QGIS 2.18, I'm trying to find a way to deploy plugins directly from
> github using the following procedure :
>
> 1. Add a plugin.xml file to my repo, with this content :
>
> <?xml version = '1.0' encoding = 'UTF-8'?>
>
> <plugins>
>     <pyqgis_plugin name="MyPlugin" version="0.0.13">
>
>         <version>0.0.13</version>
>
>         <author_name>Olivier Dalang</author_name>
>
>
> <download_url>https://github.com/{username}/MyPlugin/archive/0.0.13.zip</download_url>
>
>         <file_name>MyPlugin-0.0.13.zip</file_name>
>
>     </pyqgis_plugin>
> </plugins>
>
> 2. Add the xml repo in QGIS plugin manager
> https://raw.githubusercontent.com/{username}/MyPlugin/master/repository.xml
>
> 3. Create and push a tag named 0.0.13
>
> If this worked, it would be a big win, as it would allow to deploy plugins
> updates really easily, just by creating tags and updating the xml file
> whenever I want my users to update the plugin. It avoids having to create
> the zip, host it somewhere else, and maintain an up to date xml separately
> for each update.
>
> The only thing is that it doesn't work. I get an error on installing the
> plugin : "Plugin installation failed. Failed to unzip package".
>
> Github appends the tag name (or branch name) to the downloaded folder
> (inside the zip). When unpacking the zip, I get a folder called
> MyPlugin-0.0.13 instead of just MyPlugin. I suspect this causes the problem.
> I tried to workaround this problem by using the master branch, and renaming
> my plugin to MyPlugin-master, but I still get the same error. Maybe it is so
> that dashes are not supported at all in plugin names ?
>
> Was anyone able to setup such a workflow ?
>
> Kind regards,
>
> Olivier
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From cavallini at faunalia.it  Thu Jul 20 08:25:06 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu, 20 Jul 2017 17:25:06 +0200
Subject: [QGIS-Developer] Q3: error in creating a Processing model
Message-ID: <e5c97dfd-6229-b252-811e-91cc2fba3bd6@faunalia.it>

Hi all,
when creating a model with QGIS 3 (yesterday master), I get an error:

TypeError: index 0 has type 'int' but
'QgsProcessingModelChildParameterSource' is expected
Traceback (most recent call last):
  File
"/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/modeler/ModelerParametersDialog.py",
line 348, in okPressed
    self.alg = self.createAlgorithm()
  File
"/usr/local/src/qgis/QGIS/build_qgis3/output/python/plugins/processing/modeler/ModelerParametersDialog.py",
line 318, in createAlgorithm
    alg.addParameterSources(param.name(), val)
TypeError: index 0 has type 'int' but
'QgsProcessingModelChildParameterSource' is expected

All the best.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From olivier.dalang at gmail.com  Thu Jul 20 08:37:10 2017
From: olivier.dalang at gmail.com (Olivier Dalang)
Date: Thu, 20 Jul 2017 15:37:10 +0000
Subject: [QGIS-Developer] Deploy plugins directly from github
In-Reply-To: <CAJsc-7yKqkVxa-8+d0gw=y-MHBRDuHgMQmyk-=m_GPV+=coShA@mail.gmail.com>
References: <CAExk7p1wQvKYkGFvjvuXZAgjgN9iPB0EZaQ-w0D8WebhWhnrgA@mail.gmail.com>
 <CAJsc-7yKqkVxa-8+d0gw=y-MHBRDuHgMQmyk-=m_GPV+=coShA@mail.gmail.com>
Message-ID: <CAExk7p2=s9zLhhZ3Tmv4gAV=92AaUKYShEGfLHCzVR8QWREHCg@mail.gmail.com>

Thanks Victor !

I just had a look, and I think there are a few drawbacks compared to the
workflow I was suggesting.

- updates are not available in the plugin manager, which also means there's
no notification
- the dev has no control on which tags are available since he doesn't
manage a plugin repository xml


In the meantime, I found I made a stupid mistake. Github downloads use a
redirect. If I use
https://codeload.github.com/dhlab-epfl/GlobalAtlas-qgis/zip/master instead
of https://github.com/dhlab-epfl/GlobalAtlas-qgis/archive/master.zip in the
xml file, the workaround works !

So the only problem is that one needs to append the name of the branch to
the plugin.

Maybe it would be a good idea to think a bit more about this type of
workflow and to support it officially within QGIS ?

Best,

Olivier




2017-07-20 14:59 GMT+00:00 Victor Olaya <volayaf at gmail.com>:

> I wrote this long time ago...
>
> https://github.com/volaya/github-updater
>
> I guess it might be helpful for you
>
> Cheers
>
> 2017-07-20 16:52 GMT+02:00 Olivier Dalang <olivier.dalang at gmail.com>:
> > Dear List,
> >
> > Using QGIS 2.18, I'm trying to find a way to deploy plugins directly from
> > github using the following procedure :
> >
> > 1. Add a plugin.xml file to my repo, with this content :
> >
> > <?xml version = '1.0' encoding = 'UTF-8'?>
> >
> > <plugins>
> >     <pyqgis_plugin name="MyPlugin" version="0.0.13">
> >
> >         <version>0.0.13</version>
> >
> >         <author_name>Olivier Dalang</author_name>
> >
> >
> > <download_url>https://github.com/{username}/MyPlugin/archive/0.0.13.zip
> </download_url>
> >
> >         <file_name>MyPlugin-0.0.13.zip</file_name>
> >
> >     </pyqgis_plugin>
> > </plugins>
> >
> > 2. Add the xml repo in QGIS plugin manager
> > https://raw.githubusercontent.com/{username}/MyPlugin/
> master/repository.xml
> >
> > 3. Create and push a tag named 0.0.13
> >
> > If this worked, it would be a big win, as it would allow to deploy
> plugins
> > updates really easily, just by creating tags and updating the xml file
> > whenever I want my users to update the plugin. It avoids having to create
> > the zip, host it somewhere else, and maintain an up to date xml
> separately
> > for each update.
> >
> > The only thing is that it doesn't work. I get an error on installing the
> > plugin : "Plugin installation failed. Failed to unzip package".
> >
> > Github appends the tag name (or branch name) to the downloaded folder
> > (inside the zip). When unpacking the zip, I get a folder called
> > MyPlugin-0.0.13 instead of just MyPlugin. I suspect this causes the
> problem.
> > I tried to workaround this problem by using the master branch, and
> renaming
> > my plugin to MyPlugin-master, but I still get the same error. Maybe it
> is so
> > that dashes are not supported at all in plugin names ?
> >
> > Was anyone able to setup such a workflow ?
> >
> > Kind regards,
> >
> > Olivier
> >
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170720/89509e36/attachment.html>

From giovanni.manghi at gmail.com  Thu Jul 20 09:00:36 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Thu, 20 Jul 2017 17:00:36 +0100
Subject: [QGIS-Developer] two issues in QGIS (Server and print composer)
	2.18.10(?)
Message-ID: <CACfnYnT1-Xccw=+Q5wB7c6t62b-A+pw4=x+X5sOSTugVkT+ptA@mail.gmail.com>

Hi all,

I'm puzzled with two possible issues in QGIS Server 2.18.10 (actually
one of the two is Desktop related) and would like some feedback.

1) any try to print via getprint a layout that contains a text box
(html or not) returns a "Internal Server Error", I have seen this on
QGIS Server installed on Windows but also on my QGIS Server
installation on Ubuntu Desktop. As soon as I switch to 2.14.16 it
works as expected


2) was the option "none" for the "map" option of a legend object in
print composer removed on purpose from 2.18(.10)? I still see it in
2.14.16 and it was *very important* to get "fixed" legends -via
GetPrint- in QGIS Server. If it was removed by design I suppose there
is another way to achieve that in 2.18... some can point me to it? If
the option was just removed and I'm not missing anything then now via
GetPrint is not possible to have layouts printed with "fixed" legends
(the layer name appears, not its symbology class/es).

see the following two examples.

The first is the result of a getprint from a project saved within 2.14
where the legend option "map" was set to "none"

https://www.dropbox.com/s/f1jtr2i8qfbm5sw/qgis_server_with_none_option.pdf?dl=0

The second is the result of a getprint from a project saved within
2.18 where the legend option "map" was set to "map0" because there is
no "none" option (or within 2.14 setting always the option to "map0")

https://www.dropbox.com/s/svgbmx8sor7jjuz/qgis_server_without_none_option.pdf?dl=0

both requests were made via QGIS Server 2.18 using a project with
several layers but actually only one was added in the request (using
Lizmap demo project here if anyone is interested):

http://localhost/cgi-bin/qgis_mapserv.fcgi?map=/path/to/my/project.qgs&SERVICE=WMS&VERSION=1.3.0&REQUEST=GetPrint&FORMAT=pdf&TRANSPARENT=true&SRS=EPSG:3857&DPI=100&TEMPLATE=Landscape%20A4&map0:extent=420232.0463583274,5395327.438198717,443932.6162906727,5414427.897511283&map0:scale=100000&map0:LAYERS=points%20of%20interest&LAYERS=points%20of%20interest


thanks for your feedback

cheers

-- G --

From anitagraser at gmx.at  Thu Jul 20 09:19:12 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Thu, 20 Jul 2017 18:19:12 +0200
Subject: [QGIS-Developer] Travis for plugin test can't install QGIS
Message-ID: <CAFFV8Fh-sqC-wNMLbjQ6E_7N-J4vjJQdLQ7WZJFeSzgPpfN0eA@mail.gmail.com>

Hi,

Has anyone else encountered this issue with plugin tests using travis:
'qgis' has no installation candidate?

https://travis-ci.org/anitagraser/TimeManager/builds/255360537

I already tried forcing Travis back to precise but didn't fix the issue.
Then I updated the qgis.org repo key information to the latest from
http://www.qgis.org/en/site/forusers/alldownloads.html#debian-ubuntu, no
luck again.

Thank you and best wishes,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170720/b4024633/attachment.html>

From giovanni.manghi at gmail.com  Thu Jul 20 09:23:53 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Thu, 20 Jul 2017 17:23:53 +0100
Subject: [QGIS-Developer] two issues in QGIS (Server and print composer)
	2.18.10(?)
Message-ID: <CACfnYnQ0CoDnzX+0L_Ypg4uY4EZ-aAkCyE=hV0eW_DfUP0O+Fw@mail.gmail.com>

On Thu, Jul 20, 2017 at 5:01 PM,
<qgis-developer-request at lists.osgeo.org> wrote:
> Send QGIS-Developer mailing list submissions to
>         qgis-developer at lists.osgeo.org

>    5. two issues in QGIS (Server and print composer)    2.18.10(?)
>       (Giovanni Manghi)


> 2) was the option "none" for the "map" option of a legend object in
> print composer removed on purpose from 2.18(.10)? I still see it in
> 2.14.16 and it was *very important* to get "fixed" legends -via
> GetPrint- in QGIS Server. If it was removed by design I suppose there
> is another way to achieve that in 2.18... some can point me to it? If
> the option was just removed and I'm not missing anything then now via
> GetPrint is not possible to have layouts printed with "fixed" legends
> (the layer name appears, not its symbology class/es).
>
> see the following two examples.
>
> The first is the result of a getprint from a project saved within 2.14
> where the legend option "map" was set to "none"
>
> https://www.dropbox.com/s/f1jtr2i8qfbm5sw/qgis_server_with_none_option.pdf?dl=0
>
> The second is the result of a getprint from a project saved within
> 2.18 where the legend option "map" was set to "map0" because there is
> no "none" option (or within 2.14 setting always the option to "map0")
>
> https://www.dropbox.com/s/svgbmx8sor7jjuz/qgis_server_without_none_option.pdf?dl=0
>
> both requests were made via QGIS Server 2.18 using a project with
> several layers but actually only one was added in the request (using
> Lizmap demo project here if anyone is interested):
>
> http://localhost/cgi-bin/qgis_mapserv.fcgi?map=/path/to/my/project.qgs&SERVICE=WMS&VERSION=1.3.0&REQUEST=GetPrint&FORMAT=pdf&TRANSPARENT=true&SRS=EPSG:3857&DPI=100&TEMPLATE=Landscape%20A4&map0:extent=420232.0463583274,5395327.438198717,443932.6162906727,5414427.897511283&map0:scale=100000&map0:LAYERS=points%20of%20interest&LAYERS=points%20of%20interest
>



actually the result of the GetPrint (with the above request) when the
project is saved in 2.18 is this one

https://www.dropbox.com/s/hfsvul4uy3h5uqa/qgis_server_without_none_option_2_18.pdf?dl=0

and the legend shows "?" in place of layer names (see above). So I
really think this is a regression possibly caused by the removal of
this "none" option.


I would appreciate if any QGIS Server/map composer dev can chime in here.

cheers

-- G --

From jef at norbit.de  Thu Jul 20 14:29:51 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu, 20 Jul 2017 23:29:51 +0200
Subject: [QGIS-Developer] Plugin idea
In-Reply-To: <CADQ-w0mCq8dQceHkQC4sS41avvgqnE+Bo5O-wcbdyOCWsLa=7A@mail.gmail.com>
References: <CADQ-w0mCq8dQceHkQC4sS41avvgqnE+Bo5O-wcbdyOCWsLa=7A@mail.gmail.com>
Message-ID: <20170720212951.3hcxgxwiwbvn2xrj@norbit.de>

Hi Senol,

On Thu, 20. Jul 2017 at 14:25:29 +0300, Senol Ozgur wrote:
> Will a plugin for QGIS(as far as I know there is no such plugin forQGIS) for
> managin Oracle Spatial Metadata be useful? I'd be happy to hear some other
> opinions.

Have you seen the DB manager core plugin?  Enhancing it's oracle support
might be an alternative.


J√ºrgen

-- 
J√ºrgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra√üe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170720/7214ad60/attachment.sig>

From jef at norbit.de  Thu Jul 20 14:41:37 2017
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu, 20 Jul 2017 23:41:37 +0200
Subject: [QGIS-Developer] Travis for plugin test can't install QGIS
In-Reply-To: <CAFFV8Fh-sqC-wNMLbjQ6E_7N-J4vjJQdLQ7WZJFeSzgPpfN0eA@mail.gmail.com>
References: <CAFFV8Fh-sqC-wNMLbjQ6E_7N-J4vjJQdLQ7WZJFeSzgPpfN0eA@mail.gmail.com>
Message-ID: <20170720214137.xt37ijo5htxmkmw5@norbit.de>

Hi Anita,

On Thu, 20. Jul 2017 at 18:19:12 +0200, Anita Graser wrote:
> Has anyone else encountered this issue with plugin tests using travis:
> 'qgis' has no installation candidate?
> 
> https://travis-ci.org/anitagraser/TimeManager/builds/255360537
> 
> I already tried forcing Travis back to precise but didn't fix the issue.
> Then I updated the qgis.org repo key information to the latest from
> http://www.qgis.org/en/site/forusers/alldownloads.html#debian-ubuntu, no
> luck again.

precise was only available up to 2.8 and has been removed to make room for some
time.

http://qgis.org/ubuntugis/ still has 2.14 for precise.


J√ºrgen

-- 
J√ºrgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstra√üe 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170720/2a213dad/attachment.sig>

From nyall.dawson at gmail.com  Thu Jul 20 15:26:53 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 21 Jul 2017 08:26:53 +1000
Subject: [QGIS-Developer] two issues in QGIS (Server and print composer)
	2.18.10(?)
In-Reply-To: <CACfnYnQ0CoDnzX+0L_Ypg4uY4EZ-aAkCyE=hV0eW_DfUP0O+Fw@mail.gmail.com>
References: <CACfnYnQ0CoDnzX+0L_Ypg4uY4EZ-aAkCyE=hV0eW_DfUP0O+Fw@mail.gmail.com>
Message-ID: <CAB28AsgyJ66Tn5SE=UTT3jWZp=Ny_MB6n2uZxWm0syKCzkv7WA@mail.gmail.com>

On 21 July 2017 at 02:23, Giovanni Manghi <giovanni.manghi at gmail.com> wrote:
> On Thu, Jul 20, 2017 at 5:01 PM,
> <qgis-developer-request at lists.osgeo.org> wrote:
>> Send QGIS-Developer mailing list submissions to
>>         qgis-developer at lists.osgeo.org
>
>>    5. two issues in QGIS (Server and print composer)    2.18.10(?)
>>       (Giovanni Manghi)
>
>
>> 2) was the option "none" for the "map" option of a legend object in
>> print composer removed on purpose from 2.18(.10)? I still see it in
>> 2.14.16 and it was *very important* to get "fixed" legends -via
>> GetPrint- in QGIS Server. If it was removed by design I suppose there
>> is another way to achieve that in 2.18... some can point me to it? If
>> the option was just removed and I'm not missing anything then now via
>> GetPrint is not possible to have layouts printed with "fixed" legends
>> (the layer name appears, not its symbology class/es).
>>
>> see the following two examples.
>>
>> The first is the result of a getprint from a project saved within 2.14
>> where the legend option "map" was set to "none"
>>
>> https://www.dropbox.com/s/f1jtr2i8qfbm5sw/qgis_server_with_none_option.pdf?dl=0
>>
>> The second is the result of a getprint from a project saved within
>> 2.18 where the legend option "map" was set to "map0" because there is
>> no "none" option (or within 2.14 setting always the option to "map0")
>>
>> https://www.dropbox.com/s/svgbmx8sor7jjuz/qgis_server_without_none_option.pdf?dl=0
>>
>> both requests were made via QGIS Server 2.18 using a project with
>> several layers but actually only one was added in the request (using
>> Lizmap demo project here if anyone is interested):
>>
>> http://localhost/cgi-bin/qgis_mapserv.fcgi?map=/path/to/my/project.qgs&SERVICE=WMS&VERSION=1.3.0&REQUEST=GetPrint&FORMAT=pdf&TRANSPARENT=true&SRS=EPSG:3857&DPI=100&TEMPLATE=Landscape%20A4&map0:extent=420232.0463583274,5395327.438198717,443932.6162906727,5414427.897511283&map0:scale=100000&map0:LAYERS=points%20of%20interest&LAYERS=points%20of%20interest
>>
>
>
>
> actually the result of the GetPrint (with the above request) when the
> project is saved in 2.18 is this one
>
> https://www.dropbox.com/s/hfsvul4uy3h5uqa/qgis_server_without_none_option_2_18.pdf?dl=0
>
> and the legend shows "?" in place of layer names (see above). So I
> really think this is a regression possibly caused by the removal of
> this "none" option.
>
>
> I would appreciate if any QGIS Server/map composer dev can chime in here.

It'll be https://github.com/qgis/QGIS/commit/1b4bd47076103e931e642c9c2b6a363f14b20a45
which removed the None option.

...HOWEVER...

I'm having a lot of trouble trying to understand what the correct
server logic is here. Is it:

- if a getprint request is made without any layers specified then all
layers are shown in both the map and legend
- if layers are specified then:
  - legend set to a map: ONLY those layers should be shown in the map and legend
  - legend set to None: only shown those layers in the map, but
EVERYTHING in the legend
?

If so, I'd say that's unpredictable, opaque behavior and needs to be
fixed in the UI.

Possible options would be:

1. adding a server settings section to the legend properties, with a
checkbox "always show all layers (Regardless of requested layers)" (or
betterly worded!)

2. Taking advantage of the existing "filter legend by map" option to
handle this use case (which should already be supported in 2.x - it
just needs that setting switched on in your projects). The only
downside here is that if a layer is requested but has no features
visible in the extent then it won't be shown in the legend. (That's
arguably the correct cartographic behaviour though!)

I don't think the "none" option should be brought back, as it makes
legend behaviour unpredictable in itself. E.g. what scale should the
legend use for symbols with map unit sizes? What preset style should
it use?

Nyall







>
> cheers
>
> -- G --
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From giovanni.manghi at gmail.com  Thu Jul 20 15:38:31 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Thu, 20 Jul 2017 23:38:31 +0100
Subject: [QGIS-Developer] two issues in QGIS (Server and print composer)
	2.18.10(?)
In-Reply-To: <CAB28AsgyJ66Tn5SE=UTT3jWZp=Ny_MB6n2uZxWm0syKCzkv7WA@mail.gmail.com>
References: <CACfnYnQ0CoDnzX+0L_Ypg4uY4EZ-aAkCyE=hV0eW_DfUP0O+Fw@mail.gmail.com>
 <CAB28AsgyJ66Tn5SE=UTT3jWZp=Ny_MB6n2uZxWm0syKCzkv7WA@mail.gmail.com>
Message-ID: <CACfnYnRv8peuvAUJFSnTVJbZZOpGe69vhAE5gzD6WDFOTcGvNQ@mail.gmail.com>

Hi Nyall,



> It'll be https://github.com/qgis/QGIS/commit/1b4bd47076103e931e642c9c2b6a363f14b20a45
> which removed the None option.
>
> ...HOWEVER...
>
> I'm having a lot of trouble trying to understand what the correct
> server logic is here. Is it:
>
> - if a getprint request is made without any layers specified then all
> layers are shown in both the map and legend

as far as I remember if no layers are specified in the request then no
layers are shown in the map (not sure about the legend)



> - if layers are specified then:
>   - legend set to a map: ONLY those layers should be shown in the map and legend

yes, actually as you may have seen form my examples, for layers that
are not listed in the request their name shows anyway in the legend
(without the ssymbology symbols or classes).


>   - legend set to None: only shown those layers in the map, but
> EVERYTHING in the legend
> ?

yes



The latter has/had a clear purpose, be able to to print via getprint a
map + a fixed legend, regardless
of the enabled/disabled layers, exactly as it happens when you print
from QGIS Desktop.



> If so, I'd say that's unpredictable, opaque behavior and needs to be
> fixed in the UI.
>
> Possible options would be:
>
> 1. adding a server settings section to the legend properties, with a
> checkbox "always show all layers (Regardless of requested layers)" (or
> betterly worded!)
>
> 2. Taking advantage of the existing "filter legend by map" option to
> handle this use case (which should already be supported in 2.x - it
> just needs that setting switched on in your projects). The only
> downside here is that if a layer is requested but has no features
> visible in the extent then it won't be shown in the legend. (That's
> arguably the correct cartographic behaviour though!)
>
> I don't think the "none" option should be brought back, as it makes
> legend behaviour unpredictable in itself. E.g. what scale should the
> legend use for symbols with map unit sizes? What preset style should
> it use?



option 1 seems good to me, anyway whatever the solution this should be
treated as a priority/bad regression as it broke a very basic
necessity when we do (for example) webgis with QWC or Lizmap.



thanks in advance and for understanding


cheers!

-- G --

From senolozgur.cs at gmail.com  Thu Jul 20 22:15:08 2017
From: senolozgur.cs at gmail.com (Senol Ozgur)
Date: Fri, 21 Jul 2017 08:15:08 +0300
Subject: [QGIS-Developer] Plugin idea
In-Reply-To: <20170720212951.3hcxgxwiwbvn2xrj@norbit.de>
References: <CADQ-w0mCq8dQceHkQC4sS41avvgqnE+Bo5O-wcbdyOCWsLa=7A@mail.gmail.com>
 <20170720212951.3hcxgxwiwbvn2xrj@norbit.de>
Message-ID: <CADQ-w0mC+Gd5Xbr2cvJz=nMqks3X_u0iOdTOV1AfGyYCastvhg@mail.gmail.com>

Hi, I'll check DB manager.
Thank you.

On Fri, Jul 21, 2017 at 12:29 AM, J√ºrgen E. Fischer <jef at norbit.de> wrote:

> Hi Senol,
>
> On Thu, 20. Jul 2017 at 14:25:29 +0300, Senol Ozgur wrote:
> > Will a plugin for QGIS(as far as I know there is no such plugin forQGIS)
> for
> > managin Oracle Spatial Metadata be useful? I'd be happy to hear some
> other
> > opinions.
>
> Have you seen the DB manager core plugin?  Enhancing it's oracle support
> might be an alternative.
>
>
> J√ºrgen
>
> --
> J√ºrgen E. Fischer           norBIT GmbH             Tel.
> +49-4931-918175-31
> Dipl.-Inf. (FH)             Rheinstra√üe 13          Fax.
> +49-4931-918175-50
> Software Engineer           D-26506 Norden
> http://www.norbit.de
> QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170721/b4f80cfb/attachment.html>

From noreply at qgis.org  Thu Jul 20 22:36:55 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 21 Jul 2017 05:36:55 -0000
Subject: [QGIS-Developer] Plugin [973] ECO-Pluvia Downloader approval
	notification.
Message-ID: <20170721053655.12961.39938@320558c5528b>


Plugin ECO-Pluvia Downloader approval by pcav.
The plugin version "[973] ECO-Pluvia Downloader 1.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/dist/

From noreply at qgis.org  Thu Jul 20 22:37:16 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 21 Jul 2017 05:37:16 -0000
Subject: [QGIS-Developer] Plugin [1282] Spanish Inspire Catastral Downloader
 approval notification.
Message-ID: <20170721053716.12961.34694@320558c5528b>


Plugin Spanish Inspire Catastral Downloader approval by pcav.
The plugin version "[1282] Spanish Inspire Catastral Downloader 0.3" is now approved
Link: http://plugins.qgis.org/plugins/Spanish_Inspire_Catastral_Downloader/

From anitagraser at gmx.at  Fri Jul 21 00:28:55 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Fri, 21 Jul 2017 09:28:55 +0200
Subject: [QGIS-Developer] Travis for plugin test can't install QGIS
In-Reply-To: <20170720214137.xt37ijo5htxmkmw5@norbit.de>
References: <CAFFV8Fh-sqC-wNMLbjQ6E_7N-J4vjJQdLQ7WZJFeSzgPpfN0eA@mail.gmail.com>
 <20170720214137.xt37ijo5htxmkmw5@norbit.de>
Message-ID: <CAFFV8FhyOsesNopNBuXc4NZzdezxtY5bA6DrtFpde21Cb95nww@mail.gmail.com>

On Thu, Jul 20, 2017 at 11:41 PM, J√ºrgen E. Fischer <jef at norbit.de> wrote:

> Hi Anita,
>
> On Thu, 20. Jul 2017 at 18:19:12 +0200, Anita Graser wrote:
> > Has anyone else encountered this issue with plugin tests using travis:
> > 'qgis' has no installation candidate?
> >
> > https://travis-ci.org/anitagraser/TimeManager/builds/255360537
> >
> > I already tried forcing Travis back to precise but didn't fix the issue.
> > Then I updated the qgis.org repo key information to the latest from
> > http://www.qgis.org/en/site/forusers/alldownloads.html#debian-ubuntu, no
> > luck again.
>
> precise was only available up to 2.8 and has been removed to make room for
> some
> time.
>
> http://qgis.org/ubuntugis/ still has 2.14 for precise.
>

‚ÄãThanks J√ºrgen, I see!

Guess I'm not tied to precise. So I'll remove the "‚Äãforce to precise" again
and go with trusty ...

At least now I'm getting an error about PostGIS ...
https://travis-ci.org/anitagraser/TimeManager/builds/255949608

Best wishes,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170721/324b8799/attachment.html>

From senhor.neto at gmail.com  Fri Jul 21 01:50:53 2017
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Fri, 21 Jul 2017 08:50:53 +0000
Subject: [QGIS-Developer] Deploy plugins directly from github
In-Reply-To: <CAExk7p2=s9zLhhZ3Tmv4gAV=92AaUKYShEGfLHCzVR8QWREHCg@mail.gmail.com>
References: <CAExk7p1wQvKYkGFvjvuXZAgjgN9iPB0EZaQ-w0D8WebhWhnrgA@mail.gmail.com>
 <CAJsc-7yKqkVxa-8+d0gw=y-MHBRDuHgMQmyk-=m_GPV+=coShA@mail.gmail.com>
 <CAExk7p2=s9zLhhZ3Tmv4gAV=92AaUKYShEGfLHCzVR8QWREHCg@mail.gmail.com>
Message-ID: <CA+H0G_GCvO7sbKrrj=f56PHnh0+v6tnrtK5eSvekPJkwmSvGmw@mail.gmail.com>

Hi!

Check this repo.

https://github.com/SrNetoChan/srnetochan.github.io

This was the way I was able to publish plug-ins that were not of general
interest using github pages. Otherwise is always better to use QGIS
official repo IMO.

Alexandre Neto

A qui, 20/07/2017, 16:52, Olivier Dalang <olivier.dalang at gmail.com>
escreveu:

> Thanks Victor !
>
> I just had a look, and I think there are a few drawbacks compared to the
> workflow I was suggesting.
>
> - updates are not available in the plugin manager, which also means
> there's no notification
> - the dev has no control on which tags are available since he doesn't
> manage a plugin repository xml
>
>
> In the meantime, I found I made a stupid mistake. Github downloads use a
> redirect. If I use
> https://codeload.github.com/dhlab-epfl/GlobalAtlas-qgis/zip/master
> instead of
> https://github.com/dhlab-epfl/GlobalAtlas-qgis/archive/master.zip in the
> xml file, the workaround works !
>
> So the only problem is that one needs to append the name of the branch to
> the plugin.
>
> Maybe it would be a good idea to think a bit more about this type of
> workflow and to support it officially within QGIS ?
>
> Best,
>
> Olivier
>
>
>
>
> 2017-07-20 14:59 GMT+00:00 Victor Olaya <volayaf at gmail.com>:
>
>> I wrote this long time ago...
>>
>> https://github.com/volaya/github-updater
>>
>> I guess it might be helpful for you
>>
>> Cheers
>>
>> 2017-07-20 16:52 GMT+02:00 Olivier Dalang <olivier.dalang at gmail.com>:
>> > Dear List,
>> >
>> > Using QGIS 2.18, I'm trying to find a way to deploy plugins directly
>> from
>> > github using the following procedure :
>> >
>> > 1. Add a plugin.xml file to my repo, with this content :
>> >
>> > <?xml version = '1.0' encoding = 'UTF-8'?>
>> >
>> > <plugins>
>> >     <pyqgis_plugin name="MyPlugin" version="0.0.13">
>> >
>> >         <version>0.0.13</version>
>> >
>> >         <author_name>Olivier Dalang</author_name>
>> >
>> >
>> > <download_url>https://github.com/{username}/MyPlugin/archive/0.0.13.zip
>> </download_url>
>> >
>> >         <file_name>MyPlugin-0.0.13.zip</file_name>
>> >
>> >     </pyqgis_plugin>
>> > </plugins>
>> >
>> > 2. Add the xml repo in QGIS plugin manager
>> >
>> https://raw.githubusercontent.com/{username}/MyPlugin/master/repository.xml
>> >
>> > 3. Create and push a tag named 0.0.13
>> >
>> > If this worked, it would be a big win, as it would allow to deploy
>> plugins
>> > updates really easily, just by creating tags and updating the xml file
>> > whenever I want my users to update the plugin. It avoids having to
>> create
>> > the zip, host it somewhere else, and maintain an up to date xml
>> separately
>> > for each update.
>> >
>> > The only thing is that it doesn't work. I get an error on installing the
>> > plugin : "Plugin installation failed. Failed to unzip package".
>> >
>> > Github appends the tag name (or branch name) to the downloaded folder
>> > (inside the zip). When unpacking the zip, I get a folder called
>> > MyPlugin-0.0.13 instead of just MyPlugin. I suspect this causes the
>> problem.
>> > I tried to workaround this problem by using the master branch, and
>> renaming
>> > my plugin to MyPlugin-master, but I still get the same error. Maybe it
>> is so
>> > that dashes are not supported at all in plugin names ?
>> >
>> > Was anyone able to setup such a workflow ?
>> >
>> > Kind regards,
>> >
>> > Olivier
>> >
>> > _______________________________________________
>> > QGIS-Developer mailing list
>> > QGIS-Developer at lists.osgeo.org
>> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
Alexandre Neto
---------------------
@AlexNetoGeo
http://sigsemgrilhetas.wordpress.com
http://gisunchained.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170721/f5a852b8/attachment.html>

From madmanwoo at gmail.com  Fri Jul 21 03:54:18 2017
From: madmanwoo at gmail.com (Nathan Woodrow)
Date: Fri, 21 Jul 2017 20:54:18 +1000
Subject: [QGIS-Developer] Slow downloads from download.osgeo.org
Message-ID: <CAAi8Yg8FPEawUDD9+W1cs_7BjoXcQPoZswN6TyhrMMH_+HR1dg@mail.gmail.com>

Hey all,

Just trying to do an update with osgeo4w but the downloads are super slow
tonight around 30 kbs.

Is there anything we can do to improve the speed of the server?  Maybe
setting up some mirrors like Cygwin has so we can host the files around the
world.

- Nathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170721/c53f17a4/attachment.html>

From evg.sinieshtany at gmail.com  Fri Jul 21 05:49:43 2017
From: evg.sinieshtany at gmail.com (Evgenia Sinieshtany)
Date: Fri, 21 Jul 2017 15:49:43 +0300
Subject: [QGIS-Developer] =?utf-8?q?=28no_subject=29?=
Message-ID: <CAP_74tk9YEuJSB6HVo+=UkxeO-+EnZq0FXy_WKszt38hvFc0rw@mail.gmail.com>

Greetings to all!

When trying to print rotated map in composer manager I encountered a
problem that labels are shifted. I need to save again my layer in project
projection for avoid this offset.
It was tested in version 2.6 there were no offset!

Please see my question here
https://issues.qgis.org/issues/16897

The trick suggested by Giovanni Manghi does not fit me, because I use atlas
generation and creating new composer is unnecessary.
When I choose the map that I want to print in composer atlas list menu, I
have already defined rotation angle value (calculated from projection
formula),
and even if I manually set it to 0 and then my angle again, there is still
offset.
Is it possible to get rid of this distance without creation new composer?

Thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170721/d0d4be2b/attachment-0001.html>

From frippe12573 at hotmail.com  Fri Jul 21 06:10:49 2017
From: frippe12573 at hotmail.com (frippe12573)
Date: Fri, 21 Jul 2017 06:10:49 -0700 (MST)
Subject: [QGIS-Developer] Qgis master compilation core dump
Message-ID: <1500642649118-5328658.post@n6.nabble.com>

I have just compiled QGIS master with no errors in ubuntu 17.04, however, I
have got the following core dump:

QGIS died on signal 11[New LWP 14035]
[New LWP 14036]
[New LWP 14037]
[New LWP 14038]
[New LWP 14040]
[New LWP 14041]
[New LWP 14043]
[New LWP 14044]
[New LWP 14045]
[New LWP 14046]
[New LWP 14047]
[New LWP 14048]
[New LWP 14049]
[New LWP 14050]
[New LWP 14051]
[New LWP 14052]
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
0x00007efcace930aa in __GI___waitpid (pid=14053, stat_loc=0x7fff3c678764,
options=0) at ../sysdeps/unix/sysv/linux/waitpid.c:29
29	../sysdeps/unix/sysv/linux/waitpid.c: No such file or directory.
[Current thread is 1 (Thread 0x7efcb1bd0300 (LWP 14034))]
#0  0x00007efcace930aa in __GI___waitpid (pid=14053,
stat_loc=0x7fff3c678764, options=0) at
../sysdeps/unix/sysv/linux/waitpid.c:29
        resultvar = 18446744073709551104
        sc_cancel_oldtype = 0
#1  0x000055f0aac802ab in qgisCrash(int) ()
#2  0x00007efcacdfb7f0 in <signal handler called> () at
/lib/x86_64-linux-gnu/libc.so.6
#3  0x00007efc09996604 in QBasicAtomicInt::ref() (this=<optimized out>) at
../../include/QtCore/../../src/corelib/arch/qatomic_x86_64.h:121
#4  0x00007efc09996604 in QList<QPrinter::PageSize>::QList()
(this=0x7efc0a4d6538 <QPrinterInfoPrivate::shared_null+24>) at
../../include/QtCore/../../src/corelib/tools/qlist.h:121
#5  0x00007efc09996604 in QPrinterInfoPrivate::QPrinterInfoPrivate(QString
const&) (name=..., this=Python Exception <class 'RecursionError'> maximum
recursion depth exceeded while getting the str of an object: 
0x7efc0a4d6520 <QPrinterInfoPrivate::shared_null>) at
painting/qprinterinfo_p.h:71
#6  0x00007efc09996604 in __static_initialization_and_destruction_0
(__initialize_p=1, __priority=65535) at painting/qprinterinfo.cpp:35
#7  0x00007efc09996604 in _GLOBAL__sub_I_qprinterinfo.cpp(void) () at
painting/qprinterinfo.cpp:163
#8  0x00007efcb1b0a9ca in call_init (l=<optimized out>, argc=argc at entry=1,
argv=argv at entry=0x7fff3c67b068, env=env at entry=0x55f0ac2cab90) at
dl-init.c:72
        j = <optimized out>
        jm = <optimized out>
        addrs = <optimized out>
        init_array = <optimized out>
#9  0x00007efcb1b0aadb in call_init (env=0x55f0ac2cab90,
argv=0x7fff3c67b068, argc=1, l=<optimized out>) at dl-init.c:30
        preinit_array = <optimized out>
        preinit_array_size = <optimized out>
        i = 3
#10 0x00007efcb1b0aadb in _dl_init (main_map=main_map at entry=0x55f0acbc8e30,
argc=1, argv=0x7fff3c67b068, env=0x55f0ac2cab90) at dl-init.c:120
        preinit_array = <optimized out>
        preinit_array_size = <optimized out>
        i = 3
#11 0x00007efcb1b0fa76 in dl_open_worker (a=a at entry=0x7fff3c679240) at
dl-open.c:575
        args = 0x7fff3c679240
        file = <optimized out>
        mode = <optimized out>
        call_map = <optimized out>
        dst = <optimized out>
        new = <optimized out>
        __PRETTY_FUNCTION__ = "dl_open_worker"
        r = <optimized out>
        reloc_mode = <optimized out>
        nmaps = <optimized out>
        l = <optimized out>
        maps = <optimized out>
        relocation_in_progress = <optimized out>
        any_tls = <optimized out>
        first_static_tls = <optimized out>
#12 0x00007efcb1b0a874 in _dl_catch_error
(objname=objname at entry=0x7fff3c679230,
errstring=errstring at entry=0x7fff3c679238,
mallocedp=mallocedp at entry=0x7fff3c67922f,
operate=operate at entry=0x7efcb1b0f720 <dl_open_worker>,
args=args at entry=0x7fff3c679240) at dl-error.c:187
        errcode = 32767
        c = {objname = 0x7fff3c679230, errstring = 0x7fff3c679238, malloced
= 0x7fff3c67922f, errcode = 0x7fff3c67910c, env = {{__jmpbuf =
{140734206808912, -7974001656830896782, 2147483649, 94492178528696,
139623709428174, 139623780188224, -7974001656898005646,
-7831271483816684174}, __mask_was_saved = -1311633048, __saved_mask = {__val
= {139623777975664, 94492145718768, 44, 44, 139623344284312,
139623344285608, 139623777976658, 44, 139623344285608, 139623779553128,
140734206808680, 140734206808676, 139623777977995, 22521, 139623743018536,
0}}}}}
        catchp = 0x7efcb1bd02b8
        old = <optimized out>
#13 0x00007efcb1b0f059 in _dl_open (file=0x55f0acbc39b8
"/usr/local/lib/qgis/plugins/libzonalstatisticsplugin.so", mode=-2147483647,
caller_dlopen=0x7efcad9a49ce, nsid=-2, argc=<optimized out>, argv=<optimized
out>, env=0x55f0ac2cab90) at dl-open.c:660
        args = {file = 0x55f0acbc39b8
"/usr/local/lib/qgis/plugins/libzonalstatisticsplugin.so", mode =
-2147483647, caller_dlopen = 0x7efcad9a49ce, caller_dl_open = 0x7efca41baee9
<dlopen_doit+89>, map = 0x55f0acbc8e30, nsid = 0, argc = 1, argv =
0x7fff3c67b068, env = 0x55f0ac2cab90}
        objname = 0x7fff3c679264 "\360U"
        errstring = 0x55f0acbc3bf0
"/usr/local/lib/qgis/plugins/libwmsprovider.so"
        malloced = false
        errcode = <optimized out>
        __PRETTY_FUNCTION__ = "_dl_open"
#14 0x00007efca41baee9 in dlopen_doit (a=a at entry=0x7fff3c679470) at
dlopen.c:66
        args = 0x7fff3c679470
#15 0x00007efcb1b0a874 in _dl_catch_error (objname=0x55f0abebbe10,
errstring=0x55f0abebbe18, mallocedp=0x55f0abebbe08, operate=0x7efca41bae90
<dlopen_doit>, args=0x7fff3c679470) at dl-error.c:187
        errcode = 124
        c = {objname = 0x55f0abebbe10, errstring = 0x55f0abebbe18, malloced
= 0x55f0abebbe08, errcode = 0x7fff3c67934c, env = {{__jmpbuf = {0,
-7831311951080204942, 140734206809200, 140734206809344, 94492178529736,
94492178068648, -7974001656839285390, -7831271483816684174},
__mask_was_saved = 0, __saved_mask = {__val = {55, 140734206809488,
94492164865536, 139623550135952, 140734206809200, 140734206809344,
94492178529736, 94492178068648, 139623697534252, 0, 139623709820091, 136,
140734206809488, 94492178544248, 94492164865536, 139623550135952}}}}}
        catchp = 0x7efcb1bd02b8
        old = <optimized out>
#16 0x00007efca41bb581 in _dlerror_run (operate=operate at entry=0x7efca41bae90
<dlopen_doit>, args=args at entry=0x7fff3c679470) at dlerror.c:163
        result = 0x55f0abebbe00
#17 0x00007efca41baf82 in __dlopen (file=<optimized out>, mode=<optimized
out>) at dlopen.c:87
        args = {file = 0x55f0acbc39b8
"/usr/local/lib/qgis/plugins/libzonalstatisticsplugin.so", mode = 1, new =
0x0, caller = 0x7efcad9a49ce}
#18 0x00007efcad9a49ce in  () at /usr/lib/x86_64-linux-gnu/libQt5Core.so.5
#19 0x00007efcad99e0ab in QLibrary::load() () at
/usr/lib/x86_64-linux-gnu/libQt5Core.so.5
#20 0x00007efcaf53d7a8 in QgsProviderRegistry::init() () at
/usr/local/lib/libqgis_core.so.2.99.0
#21 0x00007efcaf53d14e in QgsProviderRegistry::QgsProviderRegistry(QString
const&) () at /usr/local/lib/libqgis_core.so.2.99.0
#22 0x00007efcaf53d014 in QgsProviderRegistry::instance(QString const&) ()
at /usr/local/lib/libqgis_core.so.2.99.0
#23 0x00007efcaf323614 in QgsApplication::initQgis() () at
/usr/local/lib/libqgis_core.so.2.99.0
#24 0x00007efcb0ed072e in QgisApp::QgisApp(QSplashScreen*, bool, bool,
QWidget*, QFlags<Qt::WindowType>) () at /usr/local/lib/libqgis_app.so.2.99.0
#25 0x000055f0aac85236 in main ()
gdb returned 0
Aborted (core dumped)

Any suggestions?

Eugenio



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Qgis-master-compilation-core-dump-tp5328658.html
Sent from the QGIS - Developer mailing list archive at Nabble.com.

From rdmailings at duif.net  Fri Jul 21 06:23:15 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 21 Jul 2017 15:23:15 +0200
Subject: [QGIS-Developer] Qgis master compilation core dump
In-Reply-To: <1500642649118-5328658.post@n6.nabble.com>
References: <1500642649118-5328658.post@n6.nabble.com>
Message-ID: <074814d1-5a19-3197-4815-04aa215b4d00@duif.net>

On 21-07-17 15:10, frippe12573 wrote:
> I have just compiled QGIS master with no errors in ubuntu 17.04, however, I
> have got the following core dump:

Hi,

I myself also already created some (easy reproducable [0] [1] [2]) crash
issues, I think master/development is currently very fragile... (aka not
usable when using for example WMTS(WMS?) layers).

>From a developer standpoint I would maybe wait with fixing those as they
are busy creating new nice stuff, but from a user/tester standpoint it
would be good if those obvious crashes could be (or at least tried...)
to be fixed.

Regards,

Richard Duivenvoorde

[0] https://issues.qgis.org/issues/16810
[1] https://issues.qgis.org/issues/16802
[2] https://issues.qgis.org/projects/qgis/issues?query_id=111

From a.neumann at carto.net  Fri Jul 21 06:34:31 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Fri, 21 Jul 2017 15:34:31 +0200
Subject: [QGIS-Developer] Qgis master compilation core dump
In-Reply-To: <1500642649118-5328658.post@n6.nabble.com>
References: <1500642649118-5328658.post@n6.nabble.com>
Message-ID: <962c91ca0f3f136e346c309437e6851d@carto.net>

Hi Eugenio, 

I had something similar. 

Did you have Ubuntu system libraries updates just recently? 

Apparently there had been libc library upgrades in Ubuntu just recently.
I also had these crashes. After the system upgrades, running ldconfig
(with sudo) and recompiling, the issues had been gone. 

Andreas 

On 2017-07-21 15:10, frippe12573 wrote:

> I have just compiled QGIS master with no errors in ubuntu 17.04, however, I
> have got the following core dump:
> 
> QGIS died on signal 11[New LWP 14035]
> [New LWP 14036]
> [New LWP 14037]
> [New LWP 14038]
> [New LWP 14040]
> [New LWP 14041]
> [New LWP 14043]
> [New LWP 14044]
> [New LWP 14045]
> [New LWP 14046]
> [New LWP 14047]
> [New LWP 14048]
> [New LWP 14049]
> [New LWP 14050]
> [New LWP 14051]
> [New LWP 14052]
> [Thread debugging using libthread_db enabled]
> Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
> 0x00007efcace930aa in __GI___waitpid (pid=14053, stat_loc=0x7fff3c678764,
> options=0) at ../sysdeps/unix/sysv/linux/waitpid.c:29
> 29    ../sysdeps/unix/sysv/linux/waitpid.c: No such file or directory.
> [Current thread is 1 (Thread 0x7efcb1bd0300 (LWP 14034))]
> #0  0x00007efcace930aa in __GI___waitpid (pid=14053,
> stat_loc=0x7fff3c678764, options=0) at
> ../sysdeps/unix/sysv/linux/waitpid.c:29
> resultvar = 18446744073709551104
> sc_cancel_oldtype = 0
> #1  0x000055f0aac802ab in qgisCrash(int) ()
> #2  0x00007efcacdfb7f0 in <signal handler called> () at
> /lib/x86_64-linux-gnu/libc.so.6
> #3  0x00007efc09996604 in QBasicAtomicInt::ref() (this=<optimized out>) at
> ../../include/QtCore/../../src/corelib/arch/qatomic_x86_64.h:121
> #4  0x00007efc09996604 in QList<QPrinter::PageSize>::QList()
> (this=0x7efc0a4d6538 <QPrinterInfoPrivate::shared_null+24>) at
> ../../include/QtCore/../../src/corelib/tools/qlist.h:121
> #5  0x00007efc09996604 in QPrinterInfoPrivate::QPrinterInfoPrivate(QString
> const&) (name=..., this=Python Exception <class 'RecursionError'> maximum
> recursion depth exceeded while getting the str of an object: 
> 0x7efc0a4d6520 <QPrinterInfoPrivate::shared_null>) at
> painting/qprinterinfo_p.h:71
> #6  0x00007efc09996604 in __static_initialization_and_destruction_0
> (__initialize_p=1, __priority=65535) at painting/qprinterinfo.cpp:35
> #7  0x00007efc09996604 in _GLOBAL__sub_I_qprinterinfo.cpp(void) () at
> painting/qprinterinfo.cpp:163
> #8  0x00007efcb1b0a9ca in call_init (l=<optimized out>, argc=argc at entry=1,
> argv=argv at entry=0x7fff3c67b068, env=env at entry=0x55f0ac2cab90) at
> dl-init.c:72
> j = <optimized out>
> jm = <optimized out>
> addrs = <optimized out>
> init_array = <optimized out>
> #9  0x00007efcb1b0aadb in call_init (env=0x55f0ac2cab90,
> argv=0x7fff3c67b068, argc=1, l=<optimized out>) at dl-init.c:30
> preinit_array = <optimized out>
> preinit_array_size = <optimized out>
> i = 3
> #10 0x00007efcb1b0aadb in _dl_init (main_map=main_map at entry=0x55f0acbc8e30,
> argc=1, argv=0x7fff3c67b068, env=0x55f0ac2cab90) at dl-init.c:120
> preinit_array = <optimized out>
> preinit_array_size = <optimized out>
> i = 3
> #11 0x00007efcb1b0fa76 in dl_open_worker (a=a at entry=0x7fff3c679240) at
> dl-open.c:575
> args = 0x7fff3c679240
> file = <optimized out>
> mode = <optimized out>
> call_map = <optimized out>
> dst = <optimized out>
> new = <optimized out>
> __PRETTY_FUNCTION__ = "dl_open_worker"
> r = <optimized out>
> reloc_mode = <optimized out>
> nmaps = <optimized out>
> l = <optimized out>
> maps = <optimized out>
> relocation_in_progress = <optimized out>
> any_tls = <optimized out>
> first_static_tls = <optimized out>
> #12 0x00007efcb1b0a874 in _dl_catch_error
> (objname=objname at entry=0x7fff3c679230,
> errstring=errstring at entry=0x7fff3c679238,
> mallocedp=mallocedp at entry=0x7fff3c67922f,
> operate=operate at entry=0x7efcb1b0f720 <dl_open_worker>,
> args=args at entry=0x7fff3c679240) at dl-error.c:187
> errcode = 32767
> c = {objname = 0x7fff3c679230, errstring = 0x7fff3c679238, malloced
> = 0x7fff3c67922f, errcode = 0x7fff3c67910c, env = {{__jmpbuf =
> {140734206808912, -7974001656830896782, 2147483649, 94492178528696,
> 139623709428174, 139623780188224, -7974001656898005646,
> -7831271483816684174}, __mask_was_saved = -1311633048, __saved_mask = {__val
> = {139623777975664, 94492145718768, 44, 44, 139623344284312,
> 139623344285608, 139623777976658, 44, 139623344285608, 139623779553128,
> 140734206808680, 140734206808676, 139623777977995, 22521, 139623743018536,
> 0}}}}}
> catchp = 0x7efcb1bd02b8
> old = <optimized out>
> #13 0x00007efcb1b0f059 in _dl_open (file=0x55f0acbc39b8
> "/usr/local/lib/qgis/plugins/libzonalstatisticsplugin.so", mode=-2147483647,
> caller_dlopen=0x7efcad9a49ce, nsid=-2, argc=<optimized out>, argv=<optimized
> out>, env=0x55f0ac2cab90) at dl-open.c:660
> args = {file = 0x55f0acbc39b8
> "/usr/local/lib/qgis/plugins/libzonalstatisticsplugin.so", mode =
> -2147483647, caller_dlopen = 0x7efcad9a49ce, caller_dl_open = 0x7efca41baee9
> <dlopen_doit+89>, map = 0x55f0acbc8e30, nsid = 0, argc = 1, argv =
> 0x7fff3c67b068, env = 0x55f0ac2cab90}
> objname = 0x7fff3c679264 "\360U"
> errstring = 0x55f0acbc3bf0
> "/usr/local/lib/qgis/plugins/libwmsprovider.so"
> malloced = false
> errcode = <optimized out>
> __PRETTY_FUNCTION__ = "_dl_open"
> #14 0x00007efca41baee9 in dlopen_doit (a=a at entry=0x7fff3c679470) at
> dlopen.c:66
> args = 0x7fff3c679470
> #15 0x00007efcb1b0a874 in _dl_catch_error (objname=0x55f0abebbe10,
> errstring=0x55f0abebbe18, mallocedp=0x55f0abebbe08, operate=0x7efca41bae90
> <dlopen_doit>, args=0x7fff3c679470) at dl-error.c:187
> errcode = 124
> c = {objname = 0x55f0abebbe10, errstring = 0x55f0abebbe18, malloced
> = 0x55f0abebbe08, errcode = 0x7fff3c67934c, env = {{__jmpbuf = {0,
> -7831311951080204942, 140734206809200, 140734206809344, 94492178529736,
> 94492178068648, -7974001656839285390, -7831271483816684174},
> __mask_was_saved = 0, __saved_mask = {__val = {55, 140734206809488,
> 94492164865536, 139623550135952, 140734206809200, 140734206809344,
> 94492178529736, 94492178068648, 139623697534252, 0, 139623709820091, 136,
> 140734206809488, 94492178544248, 94492164865536, 139623550135952}}}}}
> catchp = 0x7efcb1bd02b8
> old = <optimized out>
> #16 0x00007efca41bb581 in _dlerror_run (operate=operate at entry=0x7efca41bae90
> <dlopen_doit>, args=args at entry=0x7fff3c679470) at dlerror.c:163
> result = 0x55f0abebbe00
> #17 0x00007efca41baf82 in __dlopen (file=<optimized out>, mode=<optimized
> out>) at dlopen.c:87
> args = {file = 0x55f0acbc39b8
> "/usr/local/lib/qgis/plugins/libzonalstatisticsplugin.so", mode = 1, new =
> 0x0, caller = 0x7efcad9a49ce}
> #18 0x00007efcad9a49ce in  () at /usr/lib/x86_64-linux-gnu/libQt5Core.so.5
> #19 0x00007efcad99e0ab in QLibrary::load() () at
> /usr/lib/x86_64-linux-gnu/libQt5Core.so.5
> #20 0x00007efcaf53d7a8 in QgsProviderRegistry::init() () at
> /usr/local/lib/libqgis_core.so.2.99.0
> #21 0x00007efcaf53d14e in QgsProviderRegistry::QgsProviderRegistry(QString
> const&) () at /usr/local/lib/libqgis_core.so.2.99.0
> #22 0x00007efcaf53d014 in QgsProviderRegistry::instance(QString const&) ()
> at /usr/local/lib/libqgis_core.so.2.99.0
> #23 0x00007efcaf323614 in QgsApplication::initQgis() () at
> /usr/local/lib/libqgis_core.so.2.99.0
> #24 0x00007efcb0ed072e in QgisApp::QgisApp(QSplashScreen*, bool, bool,
> QWidget*, QFlags<Qt::WindowType>) () at /usr/local/lib/libqgis_app.so.2.99.0
> #25 0x000055f0aac85236 in main ()
> gdb returned 0
> Aborted (core dumped)
> 
> Any suggestions?
> 
> Eugenio
> 
> --
> View this message in context: http://osgeo-org.1560.x6.nabble.com/Qgis-master-compilation-core-dump-tp5328658.html
> Sent from the QGIS - Developer mailing list archive at Nabble.com.
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170721/eee6cbd0/attachment-0001.html>

From dadler at adtechgeospatial.com  Fri Jul 21 06:52:26 2017
From: dadler at adtechgeospatial.com (David Adler)
Date: Fri, 21 Jul 2017 09:52:26 -0400
Subject: [QGIS-Developer] QGIS 2.18 Windows build problems
Message-ID: <443b697d-2c6b-6af0-f999-be4f358e8840@adtechgeospatial.com>

I'm still having problems building on Windows 7 using VS 2010 after 
running cmake-gui with errors like:

43>    File "J:\QGISDB2-218\scripts\\pyuic-wrapper.py", line 26, in <module>
43>      import qgis.PyQt.uic.pyuic
43>    File "E:\qgisbuild\output\python\qgis\__init__.py", line 27, in 
<module>
43>      from qgis.core import QgsFeature, QgsGeometry
43>    File "E:\qgisbuild\output\python\qgis\core\__init__.py", line 30, 
in <module>
43>      from qgis._core import *
43>  ImportError: DLL load failed: The specified module could not be found.
48>    File "J:\QGISDB2-218\scripts\\pyuic-wrapper.py", line 26, in <module>
43>C:\Program Files 
(x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets(151,5): 
error MSB6006: "cmd.exe" exited with code 1.
48>      import qgis.PyQt.uic.pyuic
57>------ Build started: Project: zzz-processing-66-depend, 
Configuration: RelWithDebInfo Win32 ------
48>    File "E:\qgisbuild\output\python\qgis\__init__.py", line 27, in 
<module>
48>      from qgis.core import QgsFeature, QgsGeometry
48>    File "E:\qgisbuild\output\python\qgis\core\__init__.py", line 30, 
in <module>
48>      from qgis._core import *
48>  ImportError: DLL load failed: The specified module could not be found.
48>C:\Program Files 
(x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppCommon.targets(151,5): 
error MSB6006: "cmd.exe" exited with code 1.

and

----- Build started: Project: zzz-db_manager-stageinstall, 
Configuration: RelWithDebInfo Win32 ------
74>  CMake Error at 
E:/qgisbuild/python/plugins/db_manager/stageinstall.cmake:30 (FILE):
74>    file COPY cannot find
74> 
"E:/qgisbuild/python/plugins/db_manager/db_plugins/postgis/plugins/versioning/ui_DlgVersioning.py".

Is there something obvious that needs to be changed? I'm completely 
stuck until I get past this.


---
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus


From frippe12573 at hotmail.com  Fri Jul 21 05:35:41 2017
From: frippe12573 at hotmail.com (Eugenio Trumpy)
Date: Fri, 21 Jul 2017 12:35:41 +0000
Subject: [QGIS-Developer] Raster calculator issues
Message-ID: <DB6P190MB0295ECF957262E7413B54D41E5A40@DB6P190MB0295.EURP190.PROD.OUTLOOK.COM>

hi all,


I'm using qgis 2.18.10 (code59e0f78) installed from repo in my Ubuntu 17.04.

I have problem with raster calculators algorithms. In particular:

  *   saga (2.3.1) raster calculator - it gives me this error, both using this algorithm in a process and alone:

Error executing algorithm reservoir_effective 'module' object has no attribute 'TYPE_RASTER' See log for more details

  *   gdal/ogr raster calculator - it gives this error:

GDAL command output:

Error! Dimensions of file /home/condivisa_A_E/calcoli/1000_ET_pos.tif (600, 562) are different from other files (473, 562). Cannot proceed

  *   r.mapcalc - it doesn't show a filed to set the name of the output file, but only the folder. However it gives this error on the console: ERROR 4: /home/IGG/condivisa_A_E/calcoli/1000_ET_pos.tif;/home/layer_prodotti_da_caricare/Z90_ly.tif: No such file or directory


The only algorithm currently running seems to be the raster calculator of gdal available as first item in the raster menu.


Thank you for any hint you can give me


E.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170721/a536049a/attachment.html>

From frippe12573 at hotmail.com  Fri Jul 21 07:08:15 2017
From: frippe12573 at hotmail.com (Eugenio Trumpy)
Date: Fri, 21 Jul 2017 14:08:15 +0000
Subject: [QGIS-Developer] Qgis master compilation core dump
In-Reply-To: <962c91ca0f3f136e346c309437e6851d@carto.net>
References: <1500642649118-5328658.post@n6.nabble.com>,
 <962c91ca0f3f136e346c309437e6851d@carto.net>
Message-ID: <DB6P190MB0295C77987BB03FAB09DA02DE5A40@DB6P190MB0295.EURP190.PROD.OUTLOOK.COM>

Hi Andreas,


just did it, but same core dump.

A further ifno can be that sudo ldconfig gives me:

/sbin/ldconfig.real: /usr/lib/nvidia-375/libEGL.so.1 is not a symbolic link

/sbin/ldconfig.real: /usr/lib32/nvidia-375/libEGL.so.1 is not a symbolic link


E.

________________________________
Da: Neumann, Andreas <a.neumann at carto.net>
Inviato: venerd√¨ 21 luglio 2017 15:34
A: frippe12573
Cc: qgis-developer at lists.osgeo.org
Oggetto: Re: [QGIS-Developer] Qgis master compilation core dump


Hi Eugenio,

I had something similar.

Did you have Ubuntu system libraries updates just recently?

Apparently there had been libc library upgrades in Ubuntu just recently. I also had these crashes. After the system upgrades, running ldconfig (with sudo) and recompiling, the issues had been gone.

Andreas

On 2017-07-21 15:10, frippe12573 wrote:

I have just compiled QGIS master with no errors in ubuntu 17.04, however, I
have got the following core dump:

QGIS died on signal 11[New LWP 14035]
[New LWP 14036]
[New LWP 14037]
[New LWP 14038]
[New LWP 14040]
[New LWP 14041]
[New LWP 14043]
[New LWP 14044]
[New LWP 14045]
[New LWP 14046]
[New LWP 14047]
[New LWP 14048]
[New LWP 14049]
[New LWP 14050]
[New LWP 14051]
[New LWP 14052]
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
0x00007efcace930aa in __GI___waitpid (pid=14053, stat_loc=0x7fff3c678764,
options=0) at ../sysdeps/unix/sysv/linux/waitpid.c:29
29    ../sysdeps/unix/sysv/linux/waitpid.c: No such file or directory.
[Current thread is 1 (Thread 0x7efcb1bd0300 (LWP 14034))]
#0  0x00007efcace930aa in __GI___waitpid (pid=14053,
stat_loc=0x7fff3c678764, options=0) at
../sysdeps/unix/sysv/linux/waitpid.c:29
        resultvar = 18446744073709551104
        sc_cancel_oldtype = 0
#1  0x000055f0aac802ab in qgisCrash(int) ()
#2  0x00007efcacdfb7f0 in <signal handler called> () at
/lib/x86_64-linux-gnu/libc.so.6
#3  0x00007efc09996604 in QBasicAtomicInt::ref() (this=<optimized out>) at
../../include/QtCore/../../src/corelib/arch/qatomic_x86_64.h:121
#4  0x00007efc09996604 in QList<QPrinter::PageSize>::QList()
(this=0x7efc0a4d6538 <QPrinterInfoPrivate::shared_null+24>) at
../../include/QtCore/../../src/corelib/tools/qlist.h:121
#5  0x00007efc09996604 in QPrinterInfoPrivate::QPrinterInfoPrivate(QString
const&) (name=..., this=Python Exception <class 'RecursionError'> maximum
recursion depth exceeded while getting the str of an object:
0x7efc0a4d6520 <QPrinterInfoPrivate::shared_null>) at
painting/qprinterinfo_p.h:71
#6  0x00007efc09996604 in __static_initialization_and_destruction_0
(__initialize_p=1, __priority=65535) at painting/qprinterinfo.cpp:35
#7  0x00007efc09996604 in _GLOBAL__sub_I_qprinterinfo.cpp(void) () at
painting/qprinterinfo.cpp:163
#8  0x00007efcb1b0a9ca in call_init (l=<optimized out>, argc=argc at entry=1,
argv=argv at entry=0x7fff3c67b068, env=env at entry=0x55f0ac2cab90) at
dl-init.c:72
        j = <optimized out>
        jm = <optimized out>
        addrs = <optimized out>
        init_array = <optimized out>
#9  0x00007efcb1b0aadb in call_init (env=0x55f0ac2cab90,
argv=0x7fff3c67b068, argc=1, l=<optimized out>) at dl-init.c:30
        preinit_array = <optimized out>
        preinit_array_size = <optimized out>
        i = 3
#10 0x00007efcb1b0aadb in _dl_init (main_map=main_map at entry=0x55f0acbc8e30,
argc=1, argv=0x7fff3c67b068, env=0x55f0ac2cab90) at dl-init.c:120
        preinit_array = <optimized out>
        preinit_array_size = <optimized out>
        i = 3
#11 0x00007efcb1b0fa76 in dl_open_worker (a=a at entry=0x7fff3c679240) at
dl-open.c:575
        args = 0x7fff3c679240
        file = <optimized out>
        mode = <optimized out>
        call_map = <optimized out>
        dst = <optimized out>
        new = <optimized out>
        __PRETTY_FUNCTION__ = "dl_open_worker"
        r = <optimized out>
        reloc_mode = <optimized out>
        nmaps = <optimized out>
        l = <optimized out>
        maps = <optimized out>
        relocation_in_progress = <optimized out>
        any_tls = <optimized out>
        first_static_tls = <optimized out>
#12 0x00007efcb1b0a874 in _dl_catch_error
(objname=objname at entry=0x7fff3c679230,
errstring=errstring at entry=0x7fff3c679238,
mallocedp=mallocedp at entry=0x7fff3c67922f,
operate=operate at entry=0x7efcb1b0f720 <dl_open_worker>,
args=args at entry=0x7fff3c679240) at dl-error.c:187
        errcode = 32767
        c = {objname = 0x7fff3c679230, errstring = 0x7fff3c679238, malloced
= 0x7fff3c67922f, errcode = 0x7fff3c67910c, env = {{__jmpbuf =
{140734206808912, -7974001656830896782, 2147483649, 94492178528696,
139623709428174, 139623780188224, -7974001656898005646,
-7831271483816684174}, __mask_was_saved = -1311633048, __saved_mask = {__val
= {139623777975664, 94492145718768, 44, 44, 139623344284312,
139623344285608, 139623777976658, 44, 139623344285608, 139623779553128,
140734206808680, 140734206808676, 139623777977995, 22521, 139623743018536,
0}}}}}
        catchp = 0x7efcb1bd02b8
        old = <optimized out>
#13 0x00007efcb1b0f059 in _dl_open (file=0x55f0acbc39b8
"/usr/local/lib/qgis/plugins/libzonalstatisticsplugin.so", mode=-2147483647,
caller_dlopen=0x7efcad9a49ce, nsid=-2, argc=<optimized out>, argv=<optimized
out>, env=0x55f0ac2cab90) at dl-open.c:660
        args = {file = 0x55f0acbc39b8
"/usr/local/lib/qgis/plugins/libzonalstatisticsplugin.so", mode =
-2147483647, caller_dlopen = 0x7efcad9a49ce, caller_dl_open = 0x7efca41baee9
<dlopen_doit+89>, map = 0x55f0acbc8e30, nsid = 0, argc = 1, argv =
0x7fff3c67b068, env = 0x55f0ac2cab90}
        objname = 0x7fff3c679264 "\360U"
        errstring = 0x55f0acbc3bf0
"/usr/local/lib/qgis/plugins/libwmsprovider.so"
        malloced = false
        errcode = <optimized out>
        __PRETTY_FUNCTION__ = "_dl_open"
#14 0x00007efca41baee9 in dlopen_doit (a=a at entry=0x7fff3c679470) at
dlopen.c:66
        args = 0x7fff3c679470
#15 0x00007efcb1b0a874 in _dl_catch_error (objname=0x55f0abebbe10,
errstring=0x55f0abebbe18, mallocedp=0x55f0abebbe08, operate=0x7efca41bae90
<dlopen_doit>, args=0x7fff3c679470) at dl-error.c:187
        errcode = 124
        c = {objname = 0x55f0abebbe10, errstring = 0x55f0abebbe18, malloced
= 0x55f0abebbe08, errcode = 0x7fff3c67934c, env = {{__jmpbuf = {0,
-7831311951080204942, 140734206809200, 140734206809344, 94492178529736,
94492178068648, -7974001656839285390, -7831271483816684174},
__mask_was_saved = 0, __saved_mask = {__val = {55, 140734206809488,
94492164865536, 139623550135952, 140734206809200, 140734206809344,
94492178529736, 94492178068648, 139623697534252, 0, 139623709820091, 136,
140734206809488, 94492178544248, 94492164865536, 139623550135952}}}}}
        catchp = 0x7efcb1bd02b8
        old = <optimized out>
#16 0x00007efca41bb581 in _dlerror_run (operate=operate at entry=0x7efca41bae90
<dlopen_doit>, args=args at entry=0x7fff3c679470) at dlerror.c:163
        result = 0x55f0abebbe00
#17 0x00007efca41baf82 in __dlopen (file=<optimized out>, mode=<optimized
out>) at dlopen.c:87
        args = {file = 0x55f0acbc39b8
"/usr/local/lib/qgis/plugins/libzonalstatisticsplugin.so", mode = 1, new =
0x0, caller = 0x7efcad9a49ce}
#18 0x00007efcad9a49ce in  () at /usr/lib/x86_64-linux-gnu/libQt5Core.so.5
#19 0x00007efcad99e0ab in QLibrary::load() () at
/usr/lib/x86_64-linux-gnu/libQt5Core.so.5
#20 0x00007efcaf53d7a8 in QgsProviderRegistry::init() () at
/usr/local/lib/libqgis_core.so.2.99.0
#21 0x00007efcaf53d14e in QgsProviderRegistry::QgsProviderRegistry(QString
const&) () at /usr/local/lib/libqgis_core.so.2.99.0
#22 0x00007efcaf53d014 in QgsProviderRegistry::instance(QString const&) ()
at /usr/local/lib/libqgis_core.so.2.99.0
#23 0x00007efcaf323614 in QgsApplication::initQgis() () at
/usr/local/lib/libqgis_core.so.2.99.0
#24 0x00007efcb0ed072e in QgisApp::QgisApp(QSplashScreen*, bool, bool,
QWidget*, QFlags<Qt::WindowType>) () at /usr/local/lib/libqgis_app.so.2.99.0
#25 0x000055f0aac85236 in main ()
gdb returned 0
Aborted (core dumped)

Any suggestions?

Eugenio



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Qgis-master-compilation-core-dump-tp5328658.html
QGIS - Developer - Qgis master compilation core dump<http://osgeo-org.1560.x6.nabble.com/Qgis-master-compilation-core-dump-tp5328658.html>
osgeo-org.1560.x6.nabble.com
Qgis master compilation core dump. I have just compiled QGIS master with no errors in ubuntu 17.04, however, I have got the following core dump: QGIS died on signal 11[New LWP 14035] [New LWP...



Sent from the QGIS - Developer mailing list archive at Nabble.com.
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170721/dbb5a934/attachment-0001.html>

From noreply at qgis.org  Sat Jul 22 02:29:29 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Sat, 22 Jul 2017 09:29:29 -0000
Subject: [QGIS-Developer] Plugin [1270] BGT Import approval notification.
Message-ID: <20170722092929.12956.26462@320558c5528b>


Plugin BGT Import approval by pcav.
The plugin version "[1270] BGT Import 0.6" is now approved
Link: http://plugins.qgis.org/plugins/BGTImport/

From rdmailings at duif.net  Sat Jul 22 03:07:14 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 22 Jul 2017 12:07:14 +0200
Subject: [QGIS-Developer] #16916: Retire 'CRS was undefined:...' message?
Message-ID: <f969eabe-3281-d76c-b98e-4866c9d16fd9@duif.net>

Hi Devs,

writing this issue (about showing the CRS was undefined message every
time you even touch a file in the browser):

https://issues.qgis.org/issues/16916

I thought 3.0 is a good time to retire this message (which to me is
seldom helpfull, as I always already know the data crs...).

The "CRS was undefined: defaulting to project CRS ..." message with me
also always pops up whenever I load layers in my plugins (often GML or
other layers which just do not have CRS info anyway....).

So I would ask here if other file the same: "retire that message" :-)

Regards,

Richard Duivenvoorde

From rdmailings at duif.net  Sat Jul 22 03:13:09 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat, 22 Jul 2017 12:13:09 +0200
Subject: [QGIS-Developer] Adjust email settings for QGIS Issue tracker to
	receive emails again?
Message-ID: <c37910c2-f57b-9b78-e0e1-7f38b48cb6a0@duif.net>


(sorry for cross posting, but I think this is handy for both devs and users)

I did not (or actually never received the QGIS issue tracker emails),
while looking into the 'My Account' settings (of issues.qgis.org) I saw
'Only for things I watch of I'm Involved in'...

BUT after setting it to another option, and then putting it back on the
'Only for things I watch of I'm Involved in' option, I know receive an
email whenevery I create an issue etc...

So my feeling is that maybe the columntype has changed and our upgrade
is not fully aware of that. I'm not 100% sure, but it will not change
anything wrong too if you do.

So tip for people who feel that they miss issue-tracker emails: set and
reset it again and see if it helps.

Regards,

Richard

From noreply at qgis.org  Sun Jul 23 21:54:40 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 24 Jul 2017 04:54:40 -0000
Subject: [QGIS-Developer] Plugin [715] DSG Tools approval notification.
Message-ID: <20170724045440.12961.5654@320558c5528b>


Plugin DSG Tools approval by pcav.
The plugin version "[715] DSG Tools 3.0" is now approved
Link: http://plugins.qgis.org/plugins/DsgTools/

From noreply at qgis.org  Mon Jul 24 01:00:55 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 24 Jul 2017 08:00:55 -0000
Subject: [QGIS-Developer] Plugin [1284] HTML Image Map Creator approval
	notification.
Message-ID: <20170724080055.12961.93282@320558c5528b>


Plugin HTML Image Map Creator approval by pcav.
The plugin version "[1284] HTML Image Map Creator 1.0 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/HTML-Image-Map-Creator/

From alexander.bruy at gmail.com  Mon Jul 24 01:25:50 2017
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Mon, 24 Jul 2017 11:25:50 +0300
Subject: [QGIS-Developer] Processing 3.0: Using expressions instead of
	fields and values where possible
Message-ID: <CALuHMPAxG0tOWub2n3_oiGx1OeQRDcprpwa1Hk=MMUXd3k88eQ@mail.gmail.com>

One of the improvements in Processing is support for expressions-based
parameters. But from what I can see this new feature is not widely adopted in
algorithms. For example, algorithms such as SetZValue, SetMValue and many
others still use numeric or field parameters while using expressions
will give them
more flexibility, e.g. taking values from field, formulas etc.

Should we rethink this and move to expressions-based parameters
where possible now when number of adopted algorithms is relatively small?

-- 
Alexander Bruy

From rldhont at gmail.com  Mon Jul 24 01:38:08 2017
From: rldhont at gmail.com (=?UTF-8?Q?Ren=c3=a9-Luc_Dhont?=)
Date: Mon, 24 Jul 2017 10:38:08 +0200
Subject: [QGIS-Developer] WIP - Svg marker size: change aspect ratio
Message-ID: <7570b851-7f0d-a1e1-910b-c4b70a179999@gmail.com>

Hi Devs,

I have created a PR for this new feature - Svg marker size: change 
aspect ratio.
https://github.com/qgis/QGIS/pull/4912

This feature has been funded by Ville d'Avignon. I probably have to 
update tests.
Please let me now if our implementation si good. Thansk for review.

Regards,
Ren√©-Luc D'Hont
3Liz



From anitagraser at gmx.at  Mon Jul 24 01:56:23 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Mon, 24 Jul 2017 10:56:23 +0200
Subject: [QGIS-Developer] Processing 3.0: Using expressions instead of
 fields and values where possible
In-Reply-To: <CALuHMPAxG0tOWub2n3_oiGx1OeQRDcprpwa1Hk=MMUXd3k88eQ@mail.gmail.com>
References: <CALuHMPAxG0tOWub2n3_oiGx1OeQRDcprpwa1Hk=MMUXd3k88eQ@mail.gmail.com>
Message-ID: <CAFFV8FhHra9ba=C+UvEKKEuckEBMO7rcXTZJ5jsDGghEJQtdYA@mail.gmail.com>

On Mon, Jul 24, 2017 at 10:25 AM, Alexander Bruy <alexander.bruy at gmail.com>
wrote:

> One of the improvements in Processing is support for expressions-based
> parameters. But from what I can see this new feature is not widely adopted
> in
> algorithms. For example, algorithms such as SetZValue, SetMValue and many
> others still use numeric or field parameters while using expressions
> will give them
> more flexibility, e.g. taking values from field, formulas etc.
>
> Should we rethink this and move to expressions-based parameters
> where possible now when number of adopted algorithms is relatively small?
>

‚Äã+1 now is a good time to introduce a change like this.

Regards,
Anita
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170724/5a18e62e/attachment.html>

From enrico.chiaradia at yahoo.it  Mon Jul 24 02:32:17 2017
From: enrico.chiaradia at yahoo.it (enrico chiaradia)
Date: Mon, 24 Jul 2017 11:32:17 +0200
Subject: [QGIS-Developer] Regular vs spatialite sqlite database
Message-ID: <b2ead149-66c4-0539-e8a5-12f4c63c5967@yahoo.it>

Dear List,

I‚Äôm developing a python qgis based application the creates several new 
empty layers that will be filled by the user using already existing qgis 
editing tools and some tables of parameters that I will provide through 
the plugin. I‚Äôm dealing with the choose of the best file format to store 
this information. The ideal file format should be:

1) completely supported by qgis (I/O, editing and simple db function as 
joining)

2) store the data in a single file on the hard disk (server connection 
feature is not required at the moment)

3) manage both geometry and simple tables of data (i.e. with not 
geometry fields)

4) fast I/O

5) the generated file must be of smallest size as the user will be able 
to deliver it in the faster manner or creates multiple copies of it.

My first implementation used ESRI shapefile format that obviously didn‚Äôt 
respect requirement n. 2 but generated files are very small (5) and 
creation process is very fast (4). On the contrary, the creation of 
simple DBF file is not so straightforward in pyqgis (I used ogr) and DBF 
is very limited itself.

My second implementation uses Spatialite DB but I found it surprisingly 
slower than shapefile and the file created is very big (more than 5 MB) 
also for empty tables. Requirements number 2 and 3 are successfully 
satisfied.

In my last implementation, I used a mixed approach, creating both 
shapefiles to store geometries and regular sqlite db to store simple 
tables. That is fast and space saving but it generates too much files.

Currently, I'm looking to a definitely solution to the problem. My last 
idea is to store all data in a regular sqlite file (not spatialite) but 
I didn‚Äôt find any example about it.

Regular sqlite DB seems to be fully supported by QGIS and its file is 
lighter than Spatialite. Before starting the implementation of this 
solution. I‚Äôd like to ask you which disadvantages I might encounter and 
if someone has experiences with the use of regular sqlite DB for curstom 
qgis application.

Thank you for your time,

enrico

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170724/d4572f00/attachment-0001.html>

From mj10777 at googlemail.com  Mon Jul 24 02:58:41 2017
From: mj10777 at googlemail.com (Mark Johnson)
Date: Mon, 24 Jul 2017 11:58:41 +0200
Subject: [QGIS-Developer] Regular vs spatialite sqlite database
Message-ID: <CAEEbjBgbnBYgjdgPAeo4VPsjTswPNTQCVdCh4h5kDOOMS7n6iw@mail.gmail.com>

>> My second implementation uses Spatialite DB but I found it surprisingly
slower than shapefile and the file created is very big (more than 5 MB)
also for empty tables. Requirements number 2 and 3 are successfully
satisfied.

One reason a default spatialite Database is so big, is because
'spatial_ref_sys' is filled with all know projections (At present 4924
entries).
- this is done with 'SELECT InitSpatialMetaData()'

You can can create a 'spatial_ref_sys' that is smaller:
-  'SELECT InitSpatialMetaData('WGS84')'
-> would create a 'spatial_ref_sys'  with only one entry (Wsg84)
-  'SELECT InitSpatialMetaData('NONE')'
-> would create a 'spatial_ref_sys' that is empty

You *must* fill 'spatial_ref_sys' with entries for:
- the geometries that you are *using/filling* in the Database
- or where you wish to *transform* to another projection (i.e.
ST_Transform(geometry,3068)

With "SELECT InsertEpsgSrid(3068)"
- you would add an 'EPSG:3068' entry to 'spatial_ref_sys'

http://www.gaia-gis.it/gaia-sins/spatialite-sql-latest.html#p16

Mark Johnson, Berlin Germany
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170724/5909dde0/attachment.html>

From nyall.dawson at gmail.com  Mon Jul 24 03:25:30 2017
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Mon, 24 Jul 2017 20:25:30 +1000
Subject: [QGIS-Developer] Processing 3.0: Using expressions instead of
 fields and values where possible
In-Reply-To: <CALuHMPAxG0tOWub2n3_oiGx1OeQRDcprpwa1Hk=MMUXd3k88eQ@mail.gmail.com>
References: <CALuHMPAxG0tOWub2n3_oiGx1OeQRDcprpwa1Hk=MMUXd3k88eQ@mail.gmail.com>
Message-ID: <CAB28AsgQrkUbZ6aoT5xHFaF00heNSU2G5zNnCMBhikH-cFhGGg@mail.gmail.com>

On 24 July 2017 at 18:25, Alexander Bruy <alexander.bruy at gmail.com> wrote:
> One of the improvements in Processing is support for expressions-based
> parameters. But from what I can see this new feature is not widely adopted in
> algorithms. For example, algorithms such as SetZValue, SetMValue and many
> others still use numeric or field parameters while using expressions
> will give them
> more flexibility, e.g. taking values from field, formulas etc.
>
> Should we rethink this and move to expressions-based parameters
> where possible now when number of adopted algorithms is relatively small?
>

It'd definitely be a good move. Some related thoughts:

- It's not something which has to be done before 3.0 - it's possible
to flip this at a later stage without breaking any API or existing
models
- It's not currently exposed in any way to the GUI. But again, we
could add that at a later stage and still adapt the algorithms now.
- I think we should add a new flag to parameters to indicate support
for this. Something like FlagSupportsDynamic. The gui could use the
presence of this flag to decide to add a "data defined override" style
button next to the widget to allow setting the parameter to a
field/expression.
- Models also now support "precalculated" expression values, which are
evaluated just before each algorithm step in the model runs. That's
also not exposed in the GUI, but there's nothing required on the
backend or algs for this to be supported. This needs
https://github.com/qgis/QGIS-Enhancement-Proposals/issues/84 to be
implemented in order for it to be accessible through the UI.

Nyall

From a.furieri at lqt.it  Mon Jul 24 03:50:12 2017
From: a.furieri at lqt.it (a.furieri at lqt.it)
Date: Mon, 24 Jul 2017 12:50:12 +0200
Subject: [QGIS-Developer] Regular vs spatialite sqlite database
In-Reply-To: <b2ead149-66c4-0539-e8a5-12f4c63c5967@yahoo.it>
References: <b2ead149-66c4-0539-e8a5-12f4c63c5967@yahoo.it>
Message-ID: <bc52e5bb4f21257eaa4dbd3088af26bd@lqt.it>

On Mon, 24 Jul 2017 11:32:17 +0200, enrico chiaradia wrote:
> My second implementation uses Spatialite DB but I found it
> surprisingly slower than shapefile ...
>
> In my last implementation, I used a mixed approach, creating both
> shapefiles to store geometries and regular sqlite db to store simple
> tables. That is fast and space saving but it generates too much 
> files.
>

Hi Enrico,

SpatiaLite simply is an extension to SQLite, so both them will
have exactly the same identical speed when handling regular
(non Spatial) Tables.

Things are slightly different when handling Spatial Tables:
1. INSERT/UPDATE: SpatiaLite thoroughly checks any Geometry
    before physically modifying the database; only geometries
    safely matching the declared Type, SRID and Dimensions are
    then accepted.
    This leads to robustly consistent and well affordable
    databases, but obviously requires some (small) extra
    time.
2. if the Spatial Table is supported by one (or more)
    Spatial Index any INSERT, UPDATE or DELETE will
    always take care of properly synchronizing the Spatial
    Index (a costly operation) so this will surely add some
    further delay.
3. read operations (SELECT): SpatiaLite is usually faster
    then Shapefiles, most notably when several layers are
    involved. Accessing a monolithic SpatiaLite DB
    containing tenths (or hundredths) layers is expected
    to be a far more efficient process than accessing many
    sparse Shapefiles.
4. and if your layers (Spatial Table) are adequately
    supported by some Spatial Index you'll easily
    discover that SpatiaLite can be surprisingly fast.

conclusion: it's a trade-off (as always).
we usually bargain some reasonable slowness when
writing so to get maximum speed when reading.
usually write operations happen rather infrequently
whilst read operations are very frequents, so the
final outcome is expected to be widely positive.

Final remark: you say us nothing about the fine
implementation details of your own Phyton code.
Both SQLite and SpatiaLite have an inherently
transactional nature: this practically means that
if you don't properly handle transactions (by
declaring BEGIN and COMMIT statements where
appropriate) all write operations (INSERT,
UPDATE and/or DELETE) can easily become slow
(_VERY_ slow, may well be deadly slow).
I'm not sure if this could be your specific
case, but carefully checking if the code
correctly handles transactions always is
a good programming practice.

bye Sandro


From rdmailings at duif.net  Mon Jul 24 04:31:10 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Mon, 24 Jul 2017 13:31:10 +0200
Subject: [QGIS-Developer] Regular vs spatialite sqlite database
In-Reply-To: <bc52e5bb4f21257eaa4dbd3088af26bd@lqt.it>
References: <b2ead149-66c4-0539-e8a5-12f4c63c5967@yahoo.it>
 <bc52e5bb4f21257eaa4dbd3088af26bd@lqt.it>
Message-ID: <39e7e1c8-543f-d163-c265-e936ccce1b0f@duif.net>

On 24-07-17 12:50, a.furieri at lqt.it wrote:
> On Mon, 24 Jul 2017 11:32:17 +0200, enrico chiaradia wrote:
>> My second implementation uses Spatialite DB but I found it
>> surprisingly slower than shapefile ...
>>
>> In my last implementation, I used a mixed approach, creating both
>> shapefiles to store geometries and regular sqlite db to store simple
>> tables. That is fast and space saving but it generates too much files.
>>
> 
> Hi Enrico,
> 
> SpatiaLite simply is an extension to SQLite, so both them will
> have exactly the same identical speed when handling regular
> (non Spatial) Tables.

Hi Enrico,

Just for completeness, did you consider using GeoPackage  (also sqlite
based)?

See this older blog post for some differences between Spatialite and
GeoPackage: [0] The author is one of the Geopackage guys, maybe Sandro
(or others) wants to add arguments against it.

The reason I promote GeoPackage nowadays, is that I think open standards
are the way to go...

Regards,

Richard Duivenvoorde

[0] https://cholmes.wordpress.com/2013/08/20/spatialite-and-geopackage/




From a.furieri at lqt.it  Mon Jul 24 05:23:41 2017
From: a.furieri at lqt.it (a.furieri at lqt.it)
Date: Mon, 24 Jul 2017 14:23:41 +0200
Subject: [QGIS-Developer] Regular vs spatialite sqlite database
In-Reply-To: <39e7e1c8-543f-d163-c265-e936ccce1b0f@duif.net>
References: <b2ead149-66c4-0539-e8a5-12f4c63c5967@yahoo.it>
 <bc52e5bb4f21257eaa4dbd3088af26bd@lqt.it>
 <39e7e1c8-543f-d163-c265-e936ccce1b0f@duif.net>
Message-ID: <4eb091a6fed084e7b2a7c13930a5f763@lqt.it>

On Mon, 24 Jul 2017 13:31:10 +0200, Richard Duivenvoorde wrote:
> See this older blog post for some differences between Spatialite and
> GeoPackage: [0] The author is one of the Geopackage guys, maybe 
> Sandro
> (or others) wants to add arguments against it.
>
> The reason I promote GeoPackage nowadays, is that I think open 
> standards
> are the way to go...
>

Hi Richard,

SpatiaLite and GeoPackage are only apparently similar
because both them are based on SQLite, but they strongly
differ and cannot be assumed to be a mutual replacement.

SpatiaLite should be more correctly considered as a
possible "personal" light-weight replacement to PostGIS,
because both them offer the same Spatial SQL support
(although they completely differ on their respective
architectures and internal implementations).

choosing the one or the other mainly depends on the
specific goals of your project:

- if you just need a modern standard exchange format
   for spatial data, and you aren't planning to support
   Spatial SQL processing, then GeoPackage is obviously
   your  best choice.
   Surely better than the nowadays obsolete Shapefile.

- if you need instead a simple and light-weight Spatial
   DBMS fully supporting SQL spatial data analysis and
   processing SpatiaLite has no rivals in this arena.
   and it could be a decent exchange format as well.

- finally, if you absolutely require a Spatial DBMS
   supporting many concurrent users, then you
   necessarily have to consider using PostGIS (or any
   other client/server Spatial DBMS).

bye Sandro

From enrico.chiaradia at yahoo.it  Mon Jul 24 06:26:00 2017
From: enrico.chiaradia at yahoo.it (enrico chiaradia)
Date: Mon, 24 Jul 2017 15:26:00 +0200
Subject: [QGIS-Developer] Regular vs spatialite sqlite database
In-Reply-To: <bc52e5bb4f21257eaa4dbd3088af26bd@lqt.it>
References: <b2ead149-66c4-0539-e8a5-12f4c63c5967@yahoo.it>
 <bc52e5bb4f21257eaa4dbd3088af26bd@lqt.it>
Message-ID: <03a6002a-b0de-7fcc-2fd6-12517bd91a69@yahoo.it>

Thank you Sandro for your fast answer and to highlight some important 
features of spatialite.

I didn't post any code to not stress about punctual aspects as the web 
is rich of best practices about the creation and management of 
spatialite db in python. I'm quite sure to have followed the right way 
and to have obtained the best performance. I think that the delay 
recorded in the use of spatialite db is related to the dimension of the 
file respect to shapefile and sqlite, also when it is empty, and that 
could be very annoying for the end user.
If I can summarize your arguments, advantages in the use of spatialite 
respect to sqlite (shapefiles are already excluded from the match) can 
be short to this rough list:
1) geometry checking, 2) faster reading process and 3) spatial index.

I could be wrong but, geometry checking could be handled by core qgis 
and custom functions to check type and SRID (I already have to manage 
user behaviours to build a consistent db). Reading and writing process 
should have the same speed as I'm implementing an interactive tool but, 
to say the true, I didn't experience any limitation in the use of 
spatialite except for the initialization process Finally, spatial index 
feature is already implemented in qgis but I have to check if it is 
really supported also in case of sqlite db.
Supposing to maximize the use of core qgis functionality and customized 
functions, do you think that can I waive spatialite features to a most 
"simple" storage file like sqlite?

Thanks,
enrico

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170724/fa2be422/attachment.html>

From enrico.chiaradia at yahoo.it  Mon Jul 24 06:33:03 2017
From: enrico.chiaradia at yahoo.it (enrico chiaradia)
Date: Mon, 24 Jul 2017 15:33:03 +0200
Subject: [QGIS-Developer] Regular vs spatialite sqlite database
In-Reply-To: <4eb091a6fed084e7b2a7c13930a5f763@lqt.it>
References: <b2ead149-66c4-0539-e8a5-12f4c63c5967@yahoo.it>
 <bc52e5bb4f21257eaa4dbd3088af26bd@lqt.it>
 <39e7e1c8-543f-d163-c265-e936ccce1b0f@duif.net>
 <4eb091a6fed084e7b2a7c13930a5f763@lqt.it>
Message-ID: <0f07b4ba-79cf-ce67-51f8-e9cf867ab4d9@yahoo.it>


> - if you just need a modern standard exchange format
>   for spatial data, and you aren't planning to support
>   Spatial SQL processing, then GeoPackage is obviously
>   your  best choice.
>   Surely better than the nowadays obsolete Shapefile. 
Hi Sandro, probably with that sentence you answered implicitly to my 
question.
Thanks also to Richard for suggesting the use of GeoPackage.
enrico

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170724/b9f5ae77/attachment-0001.html>

From noreply at qgis.org  Mon Jul 24 06:46:03 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 24 Jul 2017 13:46:03 -0000
Subject: [QGIS-Developer] Plugin [1247] Data Plotly approval notification.
Message-ID: <20170724134603.12961.27670@320558c5528b>


Plugin Data Plotly approval by pcav.
The plugin version "[1247] Data Plotly 0.4 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/DataPlotly/

From noreply at qgis.org  Mon Jul 24 09:44:52 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 24 Jul 2017 16:44:52 -0000
Subject: [QGIS-Developer] Plugin [1035] Lat Lon Tools approval notification.
Message-ID: <20170724164452.12956.51197@320558c5528b>


Plugin Lat Lon Tools approval by pcav.
The plugin version "[1035] Lat Lon Tools 0.9.4" is now approved
Link: http://plugins.qgis.org/plugins/latlontools/

From noreply at qgis.org  Mon Jul 24 23:03:40 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 25 Jul 2017 06:03:40 -0000
Subject: [QGIS-Developer] Plugin [715] DSG Tools approval notification.
Message-ID: <20170725060340.12955.2338@320558c5528b>


Plugin DSG Tools approval by pcav.
The plugin version "[715] DSG Tools 3.0.1" is now approved
Link: http://plugins.qgis.org/plugins/DsgTools/

From matthias at opengis.ch  Mon Jul 24 23:13:53 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Tue, 25 Jul 2017 08:13:53 +0200
Subject: [QGIS-Developer] Travis for plugin test can't install QGIS
In-Reply-To: <CAFFV8FhyOsesNopNBuXc4NZzdezxtY5bA6DrtFpde21Cb95nww@mail.gmail.com>
References: <CAFFV8Fh-sqC-wNMLbjQ6E_7N-J4vjJQdLQ7WZJFeSzgPpfN0eA@mail.gmail.com>
 <20170720214137.xt37ijo5htxmkmw5@norbit.de>
 <CAFFV8FhyOsesNopNBuXc4NZzdezxtY5bA6DrtFpde21Cb95nww@mail.gmail.com>
Message-ID: <4a77a7f8-3215-83c9-5561-7a87d1983579@opengis.ch>

Hi Anita,

I had to do some workarounds to get it to work:

https://github.com/opengisch/qfieldsync/blob/master/.travis.yml

Matthias

On 7/21/17 9:28 AM, Anita Graser wrote:
>
>
> On Thu, Jul 20, 2017 at 11:41 PM, J√ºrgen E. Fischer <jef at norbit.de
> <mailto:jef at norbit.de>> wrote:
>
>     Hi Anita,
>
>     On Thu, 20. Jul 2017 at 18:19:12 +0200, Anita Graser wrote:
>     > Has anyone else encountered this issue with plugin tests using
>     travis:
>     > 'qgis' has no installation candidate?
>     >
>     > https://travis-ci.org/anitagraser/TimeManager/builds/255360537
>     <https://travis-ci.org/anitagraser/TimeManager/builds/255360537>
>     >
>     > I already tried forcing Travis back to precise but didn't fix
>     the issue.
>     > Then I updated the qgis.org <http://qgis.org> repo key
>     information to the latest from
>     >
>     http://www.qgis.org/en/site/forusers/alldownloads.html#debian-ubuntu
>     <http://www.qgis.org/en/site/forusers/alldownloads.html#debian-ubuntu>,
>     no
>     > luck again.
>
>     precise was only available up to 2.8 and has been removed to make
>     room for some
>     time.
>
>     http://qgis.org/ubuntugis/ still has 2.14 for precise.
>
>
> ‚ÄãThanks J√ºrgen, I see!
>
> Guess I'm not tied to precise. So I'll remove the "‚Äãforce to precise"
> again and go with trusty ...
>
> At least now I'm getting an error about PostGIS ...
>  https://travis-ci.org/anitagraser/TimeManager/builds/255949608
>
> Best wishes,
> Anita
>
>  
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170725/b51144b8/attachment.html>

From noreply at qgis.org  Mon Jul 24 23:55:48 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 25 Jul 2017 06:55:48 -0000
Subject: [QGIS-Developer] Plugin [1286] Check,
	Define & Convert CRS approval notification.
Message-ID: <20170725065548.20479.49840@320558c5528b>


Plugin Check, Define & Convert CRS approval by pcav.
The plugin version "[1286] Check, Define & Convert CRS 0.1" is now approved
Link: http://plugins.qgis.org/plugins/Check_defined_Convert_CRS/

From a.wicht at gmail.com  Tue Jul 25 00:48:18 2017
From: a.wicht at gmail.com (Andreas Wicht)
Date: Tue, 25 Jul 2017 09:48:18 +0200
Subject: [QGIS-Developer] Split parts tool - invalid output
In-Reply-To: <CACfnYnQrtJXW95mwD=wE0VxiZGZEpVhQU+8c1vY4RLq8g44nyA@mail.gmail.com>
References: <CACfnYnQrtJXW95mwD=wE0VxiZGZEpVhQU+8c1vY4RLq8g44nyA@mail.gmail.com>
Message-ID: <CAEdR7WJCH6u79fDbktRMdsuw7NrvaiT_Ab5mCMUDnfPBbOJJcw@mail.gmail.com>

On 20 June 2017 at 14:18, Giovanni Manghi <giovanni.manghi at gmail.com> wrote:
> is strange this thread is seemingly not getting much traction at least
> in the dev list. Having a core digitizing tool that cripples
> geometries do not look good to me, and apparently a good solution has
> been implemented (or had to) in a plugin. Isn't worth having core
> doing it the right way?

exactly my point of view. This is such a elemental digitizing tool
that it should get a lot more traction than this.

From julien.waddle at camptocamp.com  Tue Jul 25 01:06:08 2017
From: julien.waddle at camptocamp.com (Julien Waddle)
Date: Tue, 25 Jul 2017 10:06:08 +0200
Subject: [QGIS-Developer]  Missing dependency openpty
Message-ID: <CAM19mtRoG7WNtudAnhPn3e3DTNOF7N1wtKa0JsCLVzgn=7us5g@mail.gmail.com>

Hi all,
I am having trouble compiled QGIS master keep getting a missing dependency
error  (openpty):

        CMake Error at CMakeLists.txt:199 (MESSAGE):
           openpty not found!
I've also installed the libutil package (
https://www.gsp.com/cgi-bin/man.cgi?section=3&topic=openpty). But that
doesn't change anything

I am using ubuntu xenial (16.04).
Any suggestions?

Thank You
Julien
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170725/850e926b/attachment.html>

From giovanni.manghi at gmail.com  Tue Jul 25 04:05:24 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Tue, 25 Jul 2017 12:05:24 +0100
Subject: [QGIS-Developer] Raster calculator issues
Message-ID: <CACfnYnSFLur8pkh7-y1T1zJUn7QE6Sw5CRoxfgpQ44LuYqpPMw@mail.gmail.com>

Hi,



> hi all,
>
>
> I'm using qgis 2.18.10 (code59e0f78) installed from repo in my Ubuntu 17.04.
>
> I have problem with raster calculators algorithms. In particular:
>
>   *   saga (2.3.1) raster calculator - it gives me this error, both using this algorithm in a process and alone:
>
> Error executing algorithm reservoir_effective 'module' object has no attribute 'TYPE_RASTER' See log for more details


this has been fixed. it was something affecting all saga tools with a
multiple input raster layer option. If you install the qgis
2.18-nightly it should be ok.






>
>   *   gdal/ogr raster calculator - it gives this error:
>
> GDAL command output:
>
> Error! Dimensions of file /home/condivisa_A_E/calcoli/1000_ET_pos.tif (600, 562) are different from other files (473, 562). Cannot proceed
>
>   *   r.mapcalc - it doesn't show a filed to set the name of the output file, but only the folder. However it gives this error on the console: ERROR 4: /home/IGG/condivisa_A_E/calcoli/1000_ET_pos.tif;/home/layer_prodotti_da_caricare/Z90_ly.tif: No such file or directory


this is not a QGIS/Processing issue, but a gdal raster calculator limit, see:

http://www.gdal.org/gdal_calc.html

"...Note that all files must have the same dimensions, but no
projection checking is performed"





> The only algorithm currently running seems to be the raster calculator of gdal available as first item in the raster menu.


that actually is the native qgis raster calculator and not the gdal one.


I think that the most unfortunate thing is that we "lost" the GRASS
r.mapcalculator tool in processing, that was available in grass6* but
was not ported to grass7. That was python script based on the powerful
r.mapcalc, that made its use pretty easy. An effort to add r.mapcalc
to Processing/grass7 has been done, but the last time I checked it
wasn't working great, especially on Windows.

cheers!

-- G --

From b.bonath at googlemail.com  Tue Jul 25 08:01:13 2017
From: b.bonath at googlemail.com (Benedikt Bonath)
Date: Tue, 25 Jul 2017 17:01:13 +0200
Subject: [QGIS-Developer] QGIS-Server 2.99: Apache Internal Server Error
Message-ID: <CAJ68hKYSP44oZ8tJEJ-b_MmbwAx0rRw5+80F=7haof8HMH_Xuw@mail.gmail.com>

Hi everybody,

I have some problems to run QGIS-Server 2.99.

I'm not sure where the problems exactly come from: mod_fcgid, QGIS-Server
or my own settings?
With the LTR-Version of QGIS-Server everything works just fine, so I guess
the issues are in my environment variables or the current QGIS-Server
itself.
Hopefully someone is able to answer this question.

The Systems I tried with are (both were clean before):
1.
Debian stretch
Own QGIS-master build AND nightly apt-packages
Apache (v2.4.25) with mod_fcgid (v2.3.9)

2.
Windows 7
Latest OSGeo4W QGIS-Dev Version
Apache 2.4.18 with mod_fcgid (v2.3.7)


----DEBIAN----

When I run the qgis_mapserv.fcgi directly in the command line, everything
is fine and I get the right response back.

##Direct Request
QUERY_STRING="SERVICE=WMS&VERSION=1.3.0&MAP=/usr/lib/
cgi-bin/test.qgs&REQUEST=GetProjectSettings" QGIS_SERVER_LOG_LEVEL="1"
QGIS_SERVER_LOG_FILE="/tmp/qgis_server.log" /usr/lib/cgi-bin/qgis_mapserv.
fcgi
(Btw: Another Problem is to store the response of a GetMap-Request in
*.png-File 'QUERY_STRING="......REQUEST=GetMap" ./qgis_mapserv.fcgi >
/tmp/test.png' because the first four lines are ASCII-Informations about
QGIS Server. Maybe someone knows a solutions for that as well?)

##With Apache
When I try the same request via Apache I get an "Internal Server Error"
Request:
http://localhost/qgis_mapserv.fcgi?SERVICE=WMS&VERSION=1.3.
0&MAP=test.qgs&REQUEST=GetProjectSettings

apache-config:
FcgidIOTimeout 120
FcgidInitialEnv LC_ALL "en_US.UTF-8"
FcgidInitialEnv PYTHONIOENDCODING UTF-8
FcgidInitialEnv LANG "en_US.UTF-8"
FcgidInitialEnv QGIS_DEBUG 1
FcgidInitialEnv QGIS_SERVER_LOG_LEVEL 0
FcgidInitialEnv QGIS_SERVER_LOG_FILE /tmp/qgisserver.log
DocumentRoot /usr/lib/cgi-bin
<Directory "/usr/lib/cgi-bin">
    AllowOverride All
    Options +ExecCGI -MultiViews +FollowSymLinks
    Require all granted
</Directory>

apache-error.log:
[Tue Jul 25 12:23:40.844231 2017] [fcgid:warn] [pid 10071:tid
139731590080256] (104)Connection reset by peer: [client ::1:50678]
mod_fcgid: error reading data from FastCGI server
[Tue Jul 25 12:23:40.844357 2017] [core:error] [pid 10071:tid
139731590080256] [client ::1:50678] End of script output before headers:
qgis_mapserv.fcgi
[Tue Jul 25 12:23:43.753848 2017] [fcgid:error] [pid 10070:tid
139731678270656] mod_fcgid: process /usr/lib/cgi-bin/qgis_mapserv.fcgi(10144)
exit(communication error), get unexpected signal 6

The same error I get on the Windows-Machine. The only difference is, that
I'm not able to run the qgis_mapserv.fcgi.exe directly there (=>
Qt5Core.dll error)


----WINDOWS----

##Direct - Request
Request directly to qgis_mapserv.fcgi.exe (works with LTR-Server) through
OSGeo4W-Shell:
set QUERY_STRING=SERVICE^=WMS^&VERSION^=1.3.0^&MAP^=test.qgs^
&REQUEST^=GetProjectSettings&set QGIS_SERVER_LOG_LEVEL=0&set
QGIS_SERVER_LOG_FILE=C:\OSGeo4W\qgisserver.txt&C:\OSGeo4W\apps\qgis-dev\bin\
qgis_mapserv.fcgi.exe

Error-Message:
Problemsignatur:
  Problemereignisname: APPCRASH
  Anwendungsname: qgis_mapserv.fcgi.exe
  Anwendungsversion: 0.0.0.0
  Anwendungszeitstempel: 5976b11e
  Fehlermodulname: Qt5Core.dll
  Fehlermodulversion: 5.7.1.0
  Fehlermodulzeitstempel: 583ffb6c
  Ausnahmecode: c0000005
  Ausnahmeoffset: 0016b14a
  Betriebsystemversion: 6.1.7601.2.1.0.256.4
  Gebietsschema-ID: 1031
  Zusatzinformation 1: 4c0d
  Zusatzinformation 2: 4c0d4d78887f76d971d5d00f1f20a433
  Zusatzinformation 3: 4c0d
  Zusatzinformation 4: 4c0d4d78887f76d971d5d00f1f20a433


##With Apache
qgis_mapserv.fcgi.exe - error:
[Tue Jul 25 11:52:46.657559 2017] [fcgid:warn] [pid 6948:tid 1500] (OS
109)Die Pipe wurde beendet.  : [client 192.168.20.128:65360] mod_fcgid: get
overlap result error
[Tue Jul 25 11:52:46.657559 2017] [core:error] [pid 6948:tid 1500] [client
192.168.20.128:65360] End of script output before headers:
qgis_mapserv.fcgi.exe

apache-connfig(windows): (I've tried some variations here, but that's my
"normal" setting)
FcgidInitialEnv PATH "C:\OSGeo4W\bin;C:\OSGeo4W\
apps\qgis-dev\bin;C:\OSGeo4W\apps\grass\grass-7.2.1\bin;C:\
OSGeo4W\apps\grass\grass-7.2.1\lib;C:\Windows\system32;C:\
Windows;C:\Windows\System32\Wbem"
FcgidInitialEnv QGIS_PREFIX_PATH "C:\OSGeo4W\apps\qgis-dev"
FcgidInitialEnv QT_PLUGIN_PATH "C:\OSGeo4W\apps\qgis-dev\
qtplugins;C:\OSGeo4W\apps\Qt5\plugins"
FcgidInitialEnv TEMP "C:\temp"
FcgidInitialEnv PYTHONHOME "C:\OSGeo4W\apps\Python36"
FcgidInitialEnv QGIS_SERVER_LOG_FILE "C:\OSGeo4W\qgisserver.txt"
FcgidInitialEnv QGIS_SERVER_LOG_LEVEL "0"
FcgidInitialEnv PYTHONIOENCODING UTF-8
FcgidInitialEnv LC_ALL "en_US.UTF-8"
FcgidInitialEnv LANG "en_US.UTF-8"

<Directory "C:\OSGeo4W/apps/qgis-dev/bin/">
AddHandler fcgid-script .exe
    Options ExecCGI
AllowOverride all
Require all granted
</Directory>


I spent a lot of time already in "playing around" with the
configuration-files, but without any result.

Thanks,
Benedikt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170725/9570a946/attachment-0001.html>

From apasotti at gmail.com  Tue Jul 25 08:18:23 2017
From: apasotti at gmail.com (Alessandro Pasotti)
Date: Tue, 25 Jul 2017 17:18:23 +0200
Subject: [QGIS-Developer] QGIS-Server 2.99: Apache Internal Server Error
In-Reply-To: <CAJ68hKYSP44oZ8tJEJ-b_MmbwAx0rRw5+80F=7haof8HMH_Xuw@mail.gmail.com>
References: <CAJ68hKYSP44oZ8tJEJ-b_MmbwAx0rRw5+80F=7haof8HMH_Xuw@mail.gmail.com>
Message-ID: <CAL5Q672dgM7iQ0tn7C50g=KEik1mOLqVAx==cBCjxerkLxSM=w@mail.gmail.com>

On Tue, Jul 25, 2017 at 5:01 PM, Benedikt Bonath <b.bonath at googlemail.com>
wrote:

> Hi everybody,
>
> I have some problems to run QGIS-Server 2.99.
>
> I'm not sure where the problems exactly come from: mod_fcgid, QGIS-Server
> or my own settings?
> With the LTR-Version of QGIS-Server everything works just fine, so I guess
> the issues are in my environment variables or the current QGIS-Server
> itself.
> Hopefully someone is able to answer this question.
>
> The Systems I tried with are (both were clean before):
> 1.
> Debian stretch
> Own QGIS-master build AND nightly apt-packages
> Apache (v2.4.25) with mod_fcgid (v2.3.9)
>
> 2.
> Windows 7
> Latest OSGeo4W QGIS-Dev Version
> Apache 2.4.18 with mod_fcgid (v2.3.7)
>
>
> ----DEBIAN----
>
> When I run the qgis_mapserv.fcgi directly in the command line, everything
> is fine and I get the right response back.
>
> ##Direct Request
> QUERY_STRING="SERVICE=WMS&VERSION=1.3.0&MAP=/usr/lib/cgi-
> bin/test.qgs&REQUEST=GetProjectSettings" QGIS_SERVER_LOG_LEVEL="1"
> QGIS_SERVER_LOG_FILE="/tmp/qgis_server.log" /usr/lib/cgi-bin/qgis_mapserv.
> fcgi
> (Btw: Another Problem is to store the response of a GetMap-Request in
> *.png-File 'QUERY_STRING="......REQUEST=GetMap" ./qgis_mapserv.fcgi >
> /tmp/test.png' because the first four lines are ASCII-Informations about
> QGIS Server. Maybe someone knows a solutions for that as well?)
>
>
I can't tell about the others, but this one is not an issue, it is how HTTP
works, the first lines are part of the HTTP header, the end of the header
is an empty line, the body follows.


Regards

-- 
Alessandro Pasotti
w3:   www.itopen.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170725/b3ba289c/attachment.html>

From b.bonath at googlemail.com  Tue Jul 25 08:45:54 2017
From: b.bonath at googlemail.com (Benedikt Bonath)
Date: Tue, 25 Jul 2017 17:45:54 +0200
Subject: [QGIS-Developer] QGIS-Server 2.99: Apache Internal Server Error
In-Reply-To: <CAL5Q672dgM7iQ0tn7C50g=KEik1mOLqVAx==cBCjxerkLxSM=w@mail.gmail.com>
References: <CAJ68hKYSP44oZ8tJEJ-b_MmbwAx0rRw5+80F=7haof8HMH_Xuw@mail.gmail.com>
 <CAL5Q672dgM7iQ0tn7C50g=KEik1mOLqVAx==cBCjxerkLxSM=w@mail.gmail.com>
Message-ID: <CAJ68hKakiTRRTZOKG+JAPCsb=7W2b4aPP-OPoe4EiK2iHBtyiA@mail.gmail.com>

Ok, thanks a lot for that fast answer. Maybe this question should have been
formulated different. Thats for sure not an issue of QGIS - I was just
wondering how I can save the GetMap-response in a valid *.png by requesting
the *.fcgi directly. But just in case the solution is in someone mind
already, it would be great to know. Otherwise I will figure that out
someday later.

Regards
Benedikt


2017-07-25 17:18 GMT+02:00 Alessandro Pasotti <apasotti at gmail.com>:

> On Tue, Jul 25, 2017 at 5:01 PM, Benedikt Bonath <b.bonath at googlemail.com>
> wrote:
>
>> Hi everybody,
>>
>> I have some problems to run QGIS-Server 2.99.
>>
>> I'm not sure where the problems exactly come from: mod_fcgid, QGIS-Server
>> or my own settings?
>> With the LTR-Version of QGIS-Server everything works just fine, so I
>> guess the issues are in my environment variables or the current QGIS-Server
>> itself.
>> Hopefully someone is able to answer this question.
>>
>> The Systems I tried with are (both were clean before):
>> 1.
>> Debian stretch
>> Own QGIS-master build AND nightly apt-packages
>> Apache (v2.4.25) with mod_fcgid (v2.3.9)
>>
>> 2.
>> Windows 7
>> Latest OSGeo4W QGIS-Dev Version
>> Apache 2.4.18 with mod_fcgid (v2.3.7)
>>
>>
>> ----DEBIAN----
>>
>> When I run the qgis_mapserv.fcgi directly in the command line, everything
>> is fine and I get the right response back.
>>
>> ##Direct Request
>> QUERY_STRING="SERVICE=WMS&VERSION=1.3.0&MAP=/usr/lib/cgi-bin
>> /test.qgs&REQUEST=GetProjectSettings" QGIS_SERVER_LOG_LEVEL="1"
>> QGIS_SERVER_LOG_FILE="/tmp/qgis_server.log"
>> /usr/lib/cgi-bin/qgis_mapserv.fcgi
>> (Btw: Another Problem is to store the response of a GetMap-Request in
>> *.png-File 'QUERY_STRING="......REQUEST=GetMap" ./qgis_mapserv.fcgi >
>> /tmp/test.png' because the first four lines are ASCII-Informations about
>> QGIS Server. Maybe someone knows a solutions for that as well?)
>>
>>
> I can't tell about the others, but this one is not an issue, it is how
> HTTP works, the first lines are part of the HTTP header, the end of the
> header is an empty line, the body follows.
>
>
> Regards
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170725/e8c51fc8/attachment.html>

From andrea.aime at geo-solutions.it  Tue Jul 25 10:33:06 2017
From: andrea.aime at geo-solutions.it (Andrea Aime)
Date: Tue, 25 Jul 2017 19:33:06 +0200
Subject: [QGIS-Developer] Pull request that keeps on failing on timeouts on
	supposedly fast tasks
Message-ID: <CA+nxMTtnoDpQtpb6Nwg8Fn3nWJ808=Ju8QZLvMCof4JCa4XUfg@mail.gmail.com>

Hi,
I have a pull request out that is failing on source code formatting and sip
checks,
after a delay of 60 seconds. Here is an excerpt:

4/6 Test #2: qgis_spelling ....................***Timeout  60.02 sec
Spell check
TRAVIS PR BRANCH: textsymbolizer_sc
Running spell check on files: python/core/qgsvectorlayerlabeling.sip
python/core/symbology-ng/qgssymbollayerutils.sip
src/core/qgsvectorlayer.cpp src/core/qgsvectorlayerlabeling.cpp
src/core/qgsvectorlayerlabeling.h
src/core/symbology-ng/qgssymbollayerutils.cpp
src/core/symbology-ng/qgssymbollayerutils.h
tests/src/python/test_qgssymbollayer_createsld.py
tests/testdata/symbol_layer/lineLabel.qml
tests/testdata/symbol_layer/polygonLabel.qml
tests/testdata/symbol_layer/simpleLabel.qml
Progress: 0/6
Progress: 1/6
Progress: 2/6
Progress: 3/6
Progress: 4/6
    Start 6: PyQgsDocCoverage
5/6 Test #5: qgis_sip_uptodate ................***Timeout  60.02 sec

Full job logs:
https://travis-ci.org/qgis/QGIS/jobs/257345808

Pull request itself:
https://github.com/qgis/QGIS/pull/4838

I have updated the pull request to master and re-pushed like 3 times
already, and it keeps
on failing the same way.

Is there anyone with a clue as to what might be happening here? I don't see
anything special in the logs.


Regards,

Andrea Aime

==
GeoServer Professional Services from the experts! Visit http://goo.gl/it488V
for more information.
==

Ing. Andrea Aime
@geowolf
Technical Lead

GeoSolutions S.A.S.
Via di Montramito 3/A
55054  Massarosa (LU)
phone: +39 0584 962313
fax: +39 0584 1660272
mob: +39  339 8844549

http://www.geo-solutions.it
http://twitter.com/geosolutions_it

AVVERTENZE AI SENSI DEL D.Lgs. 196/2003

Le informazioni contenute in questo messaggio di posta elettronica e/o
nel/i file/s allegato/i sono da considerarsi strettamente riservate. Il
loro utilizzo √® consentito esclusivamente al destinatario del messaggio,
per le finalit√† indicate nel messaggio stesso. Qualora riceviate questo
messaggio senza esserne il destinatario, Vi preghiamo cortesemente di
darcene notizia via e-mail e di procedere alla distruzione del messaggio
stesso, cancellandolo dal Vostro sistema. Conservare il messaggio stesso,
divulgarlo anche in parte, distribuirlo ad altri soggetti, copiarlo, od
utilizzarlo per finalit√† diverse, costituisce comportamento contrario ai
principi dettati dal D.Lgs. 196/2003.

The information in this message and/or attachments, is intended solely for
the attention and use of the named addressee(s) and may be confidential or
proprietary in nature or covered by the provisions of privacy act
(Legislative Decree June, 30 2003, no.196 - Italy's New Data Protection
Code).Any use not in accord with its purpose, any disclosure, reproduction,
copying, distribution, or either dissemination, either whole or partial, is
strictly forbidden except previous formal approval of the named
addressee(s). If you are not the intended recipient, please contact
immediately the sender by telephone, fax or e-mail and delete the
information in this message that has been received in error. The sender
does not give any warranty or accept liability as the content, accuracy or
completeness of sent messages and accepts no responsibility  for changes
made after they were sent or for other risks which arise as a result of
e-mail transmission, viruses, etc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170725/1a545410/attachment-0001.html>

From noreply at qgis.org  Tue Jul 25 17:53:01 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 26 Jul 2017 00:53:01 -0000
Subject: [QGIS-Developer] Plugin [1047] Pghydro Tools approval notification.
Message-ID: <20170726005301.12961.82839@320558c5528b>


Plugin Pghydro Tools approval by pcav.
The plugin version "[1047] Pghydro Tools 2.0" is now approved
Link: http://plugins.qgis.org/plugins/PghydroTools/

From a.neumann at carto.net  Wed Jul 26 00:35:57 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Wed, 26 Jul 2017 09:35:57 +0200
Subject: [QGIS-Developer] Exporting large GeoTIFF files from print composer
Message-ID: <1f32f6c6eae8089c7285db9193be16b5@carto.net>

Hi, 

I would like to export a large format QGIS print composer to a GeoTIFF
file. 

Page format is 2.4 x 1.9 m and I would like to export at 300 dpi. It is
for sending to a copy shop to print out for a trade fair in our
province. 

I can successfully export at 270 dpi, but if I go beyond, QGIS tells me
that I may experience a "memory overflow". 

My machine is 64bit (Win 7) and has 16GB of memory. 

Is this an arbitrary artificial threshold value where QGIS refuses to
export? Would it potentially work, if the barrier wouldn't exist? Could
I somehow bypass this barrier? 

Thanks if you have any idea. 

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170726/a23adf68/attachment.html>

From regis.haubourg at gmail.com  Wed Jul 26 00:40:34 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 26 Jul 2017 09:40:34 +0200
Subject: [QGIS-Developer] Exporting large GeoTIFF files from print
	composer
In-Reply-To: <1f32f6c6eae8089c7285db9193be16b5@carto.net>
References: <1f32f6c6eae8089c7285db9193be16b5@carto.net>
Message-ID: <CABgOYCf2cS34joj7PnhuA9HT36z5Wvs_FdLKGWGd+jQGEae6Ww@mail.gmail.com>

Hi Andreas, it's strange because it used to work before. The limit was
reached with 32 bit version of QGIS easily but I never reached it with 64
bits
R√©gis

2017-07-26 9:35 GMT+02:00 Neumann, Andreas <a.neumann at carto.net>:

> Hi,
>
> I would like to export a large format QGIS print composer to a GeoTIFF
> file.
>
> Page format is 2.4 x 1.9 m and I would like to export at 300 dpi. It is
> for sending to a copy shop to print out for a trade fair in our province.
>
> I can successfully export at 270 dpi, but if I go beyond, QGIS tells me
> that I may experience a "memory overflow".
>
> My machine is 64bit (Win 7) and has 16GB of memory.
>
> Is this an arbitrary artificial threshold value where QGIS refuses to
> export? Would it potentially work, if the barrier wouldn't exist? Could I
> somehow bypass this barrier?
>
> Thanks if you have any idea.
>
> Andreas
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170726/f4f5b4b0/attachment.html>

From noreply at qgis.org  Wed Jul 26 02:49:14 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 26 Jul 2017 09:49:14 -0000
Subject: [QGIS-Developer] Plugin [1287] qpals approval notification.
Message-ID: <20170726094914.12961.35906@320558c5528b>


Plugin qpals approval by pcav.
The plugin version "[1287] qpals 1.3 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/qpals/

From marco.hugentobler at sourcepole.ch  Wed Jul 26 04:09:45 2017
From: marco.hugentobler at sourcepole.ch (Marco Hugentobler)
Date: Wed, 26 Jul 2017 13:09:45 +0200
Subject: [QGIS-Developer] WMS single top-level group in browser
Message-ID: <e0e40fba-80bf-45cb-d5da-f4ddf0c0bb22@sourcepole.ch>

Hi devs

In the browser, single WMS toplevel groups are not displayed. Looking at 
qgswmsdataitems.cpp (around line 110), this seems to be intended 
behaviour. However, the result is that the WMS 1.3 toplevel group cannot 
be added to the map by drag-drop (only with the add WMS dialog). Is 
there a special reason these toplevel group is skipped (maybe 
convenience that the user does not have to unfold the top group)?

Thanks,
Marco

-- 
Dr. Marco Hugentobler
Sourcepole -  Linux & Open Source Solutions
Weberstrasse 5, CH-8004 Z√ºrich, Switzerland
marco.hugentobler at sourcepole.ch http://www.sourcepole.ch


From rdmailings at duif.net  Wed Jul 26 05:23:02 2017
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 26 Jul 2017 14:23:02 +0200
Subject: [QGIS-Developer] Exporting large GeoTIFF files from print
 composer
In-Reply-To: <1f32f6c6eae8089c7285db9193be16b5@carto.net>
References: <1f32f6c6eae8089c7285db9193be16b5@carto.net>
Message-ID: <d90476f0-6243-a4d2-ce25-002ce8a7bd09@duif.net>

On 26-07-17 09:35, Neumann, Andreas wrote:
> Hi,
> 
> I would like to export a large format QGIS print composer to a GeoTIFF file.
> 
> Page format is 2.4 x 1.9 m and I would like to export at 300 dpi. It is
> for sending to a copy shop to print out for a trade fair in our province.
> 
> I can successfully export at 270 dpi, but if I go beyond, QGIS tells me
> that I may experience a "memory overflow".
> 
> My machine is 64bit (Win 7) and has 16GB of memory.
> 
> Is this an arbitrary artificial threshold value where QGIS refuses to
> export? Would it potentially work, if the barrier wouldn't exist? Could
> I somehow bypass this barrier?
> 
> Thanks if you have any idea.

Hi Andreas,

Just a shot in the dark, but years ago I was not able to create a A0 pdf
at 300dpi on a Windows (XP?) machine (memory problems), while on a Linux
machine it just worked. Hopefully Windows has changed this, but it is
worth trying?

Regards,

Richard


From matthias at opengis.ch  Wed Jul 26 05:48:44 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Wed, 26 Jul 2017 14:48:44 +0200
Subject: [QGIS-Developer] Exporting large GeoTIFF files from print
 composer
In-Reply-To: <1f32f6c6eae8089c7285db9193be16b5@carto.net>
References: <1f32f6c6eae8089c7285db9193be16b5@carto.net>
Message-ID: <baf8c918-92f2-71bc-a5f8-c90750fd239a@opengis.ch>

Hi Andreas,

can you send us the warning literally (German or English)?

I remember an issue report (or gis.se question) about an artificial
limit that was formulated like a warning but was indeed preventing from
doing an export. Sounds pretty much like what you are experiencing.

Matthias


On 7/26/17 9:35 AM, Neumann, Andreas wrote:
>
> Hi,
>
> I would like to export a large format QGIS print composer to a GeoTIFF
> file.
>
> Page format is 2.4 x 1.9 m and I would like to export at 300 dpi. It
> is for sending to a copy shop to print out for a trade fair in our
> province.
>
> I can successfully export at 270 dpi, but if I go beyond, QGIS tells
> me that I may experience a "memory overflow".
>
> My machine is 64bit (Win 7) and has 16GB of memory.
>
> Is this an arbitrary artificial threshold value where QGIS refuses to
> export? Would it potentially work, if the barrier wouldn't exist?
> Could I somehow bypass this barrier?
>
> Thanks if you have any idea.
>
> Andreas
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170726/e0e9c357/attachment.html>

From regis.haubourg at gmail.com  Wed Jul 26 08:07:11 2017
From: regis.haubourg at gmail.com (=?UTF-8?Q?R=C3=A9gis_Haubourg?=)
Date: Wed, 26 Jul 2017 17:07:11 +0200
Subject: [QGIS-Developer] qgis master freeze with transaction groups
	activated
Message-ID: <CABgOYCfN4HgdfLury4Bv5Ur-gPQzW-JWkd6VfQEiazJqh1UFLw@mail.gmail.com>

Hi all,
I'm facing QGIS freezes when using project with postgres transaction groups
activated.

I just open the project, switch layers to edition mode, and pan >> freeze.

I can reproduce that on two different massive projects, (one is QGEP) but
not on another one (QWAT).

Has anyone seen that too? My goal is to reduce that to something
reproducible and light, but it's a moving target right now.

Cheers
R√©gis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170726/7d0483a4/attachment.html>

From b.bonath at googlemail.com  Wed Jul 26 08:13:02 2017
From: b.bonath at googlemail.com (Benedikt Bonath)
Date: Wed, 26 Jul 2017 17:13:02 +0200
Subject: [QGIS-Developer] QGIS-Server 2.99: Apache Internal Server Error
In-Reply-To: <CAL5Q672g9=QUD7yv+Fysbqvb3mKi-9af5gyrUmp9EGtdemNZgA@mail.gmail.com>
References: <CAJ68hKYSP44oZ8tJEJ-b_MmbwAx0rRw5+80F=7haof8HMH_Xuw@mail.gmail.com>
 <CAL5Q672dgM7iQ0tn7C50g=KEik1mOLqVAx==cBCjxerkLxSM=w@mail.gmail.com>
 <CAJ68hKaF5pt3F=CZAjZbnjpYfs8r+11FkN0eeXG2k+3cSYThYw@mail.gmail.com>
 <CAL5Q672g9=QUD7yv+Fysbqvb3mKi-9af5gyrUmp9EGtdemNZgA@mail.gmail.com>
Message-ID: <CAJ68hKawPCRB+XDXE+Zr76Yn7M2wLFM4HjosTHL3tARyU2JVJw@mail.gmail.com>

That helped a lot Alessandro. Many thanks! Now I'm able to test, what I
wanted to test at least.

But still the issue running QGIS Server using Apache is left.
Does anyone have an idea on that - could it be an QGIS Server error or is
there any mistake in my configs?


Thanks in advance for your help!
Regards
Benedikt




2017-07-25 18:12 GMT+02:00 Alessandro Pasotti <apasotti at gmail.com>:

> On Tue, Jul 25, 2017 at 5:43 PM, Benedikt Bonath <b.bonath at googlemail.com>
> wrote:
>
>> Ok, thanks a lot for that fast answer. Maybe this question should have
>> been formulated different. Thats for sure not an issue of QGIS - I was just
>> wondering how I can save the GetMap-response in a valid *.png by requesting
>> the *.fcgi directly. But just in case the solution is in someone mind
>> already, it would be great to know. Otherwise I will figure that out
>> someday later.
>>
>> Regards
>> Benedikt
>>
>>
>>
> Oh, sorry I misunderstood, if a Python script is an options you might want
> to check the python API of QGIS Server, you can get the body separate from
> the headers: https://qgis.org/api/classQgsServerResponse.html#
> a84621d1fca986d81f1dd21fbd159eb85
>
> For an example of how to use it: https://github.com/qgis/QGIS/
> blob/master/tests/src/python/qgis_wrapped_server.py#L125
>
> This is for QGIS 3, but QGIS 2 had similar (but not identical) ways to get
> the same results.
>
> If you cannot use python, a bash script with cut or similar could help to
> strip the header.
>
> Hope it helps.
>
>
>
>
>> 2017-07-25 17:18 GMT+02:00 Alessandro Pasotti <apasotti at gmail.com>:
>>
>>> On Tue, Jul 25, 2017 at 5:01 PM, Benedikt Bonath <
>>> b.bonath at googlemail.com> wrote:
>>>
>>>> Hi everybody,
>>>>
>>>> I have some problems to run QGIS-Server 2.99.
>>>>
>>>> I'm not sure where the problems exactly come from: mod_fcgid,
>>>> QGIS-Server or my own settings?
>>>> With the LTR-Version of QGIS-Server everything works just fine, so I
>>>> guess the issues are in my environment variables or the current QGIS-Server
>>>> itself.
>>>> Hopefully someone is able to answer this question.
>>>>
>>>> The Systems I tried with are (both were clean before):
>>>> 1.
>>>> Debian stretch
>>>> Own QGIS-master build AND nightly apt-packages
>>>> Apache (v2.4.25) with mod_fcgid (v2.3.9)
>>>>
>>>> 2.
>>>> Windows 7
>>>> Latest OSGeo4W QGIS-Dev Version
>>>> Apache 2.4.18 with mod_fcgid (v2.3.7)
>>>>
>>>>
>>>> ----DEBIAN----
>>>>
>>>> When I run the qgis_mapserv.fcgi directly in the command line,
>>>> everything is fine and I get the right response back.
>>>>
>>>> ##Direct Request
>>>> QUERY_STRING="SERVICE=WMS&VERSION=1.3.0&MAP=/usr/lib/cgi-bin
>>>> /test.qgs&REQUEST=GetProjectSettings" QGIS_SERVER_LOG_LEVEL="1"
>>>> QGIS_SERVER_LOG_FILE="/tmp/qgis_server.log"
>>>> /usr/lib/cgi-bin/qgis_mapserv.fcgi
>>>> (Btw: Another Problem is to store the response of a GetMap-Request in
>>>> *.png-File 'QUERY_STRING="......REQUEST=GetMap" ./qgis_mapserv.fcgi >
>>>> /tmp/test.png' because the first four lines are ASCII-Informations about
>>>> QGIS Server. Maybe someone knows a solutions for that as well?)
>>>>
>>>>
>>> I can't tell about the others, but this one is not an issue, it is how
>>> HTTP works, the first lines are part of the HTTP header, the end of the
>>> header is an empty line, the body follows.
>>>
>>>
>>> Regards
>>>
>>> --
>>> Alessandro Pasotti
>>> w3:   www.itopen.it
>>>
>>
>>
>
>
> --
> Alessandro Pasotti
> w3:   www.itopen.it
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170726/a04495df/attachment-0001.html>

From a.neumann at carto.net  Wed Jul 26 08:33:37 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Wed, 26 Jul 2017 17:33:37 +0200
Subject: [QGIS-Developer] Exporting large GeoTIFF files from print
 composer
In-Reply-To: <baf8c918-92f2-71bc-a5f8-c90750fd239a@opengis.ch>
References: <1f32f6c6eae8089c7285db9193be16b5@carto.net>
 <baf8c918-92f2-71bc-a5f8-c90750fd239a@opengis.ch>
Message-ID: <24be87763d4458392ee2fbfea3fec9fe@carto.net>

Hi Matthias, 

Here is more info: 

First, I receive a warning saying: "To create image 28346x22440 requires
about 1908 MB of memory. Proceed?" with an OK / Cancel button. 

Then I press "OK" 

A dialog appears where I can choose where to store the raster file. 

Then a dialog titled "Image export options" appears, where I could do
various settings, like - again selecting the dpi, width and height and I
could "Crop to content". 

I leave all settings as they are by default and press "Save". 

Then the final and blocking error message dialog is: 

"Trying to create image #1 (28346x22440 @ 300dpi) may result in a memory
overflow. Please try a lower resolution or a smaller papersize". 

Then I can only press "OK" and the image isn't exported. 

Thanks for having a look at this, 

Andreas 

On 2017-07-26 14:48, Matthias Kuhn wrote:

> Hi Andreas, 
> 
> can you send us the warning literally (German or English)? 
> 
> I remember an issue report (or gis.se question) about an artificial limit that was formulated like a warning but was indeed preventing from doing an export. Sounds pretty much like what you are experiencing. 
> 
> Matthias 
> On 7/26/17 9:35 AM, Neumann, Andreas wrote: 
> 
>> Hi, 
>> 
>> I would like to export a large format QGIS print composer to a GeoTIFF file. 
>> 
>> Page format is 2.4 x 1.9 m and I would like to export at 300 dpi. It is for sending to a copy shop to print out for a trade fair in our province. 
>> 
>> I can successfully export at 270 dpi, but if I go beyond, QGIS tells me that I may experience a "memory overflow". 
>> 
>> My machine is 64bit (Win 7) and has 16GB of memory. 
>> 
>> Is this an arbitrary artificial threshold value where QGIS refuses to export? Would it potentially work, if the barrier wouldn't exist? Could I somehow bypass this barrier? 
>> 
>> Thanks if you have any idea. 
>> 
>> Andreas 
>> 
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> 
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170726/7501f004/attachment.html>

From noreply at qgis.org  Wed Jul 26 08:32:42 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 26 Jul 2017 15:32:42 -0000
Subject: [QGIS-Developer] Plugin [1047] Pghydro Tools approval notification.
Message-ID: <20170726153242.9877.23986@320558c5528b>


Plugin Pghydro Tools approval by pcav.
The plugin version "[1047] Pghydro Tools 2.0.1" is now approved
Link: http://plugins.qgis.org/plugins/PghydroTools/

From noreply at qgis.org  Wed Jul 26 08:32:45 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 26 Jul 2017 15:32:45 -0000
Subject: [QGIS-Developer] Plugin [1047] Pghydro Tools approval notification.
Message-ID: <20170726153245.12955.77281@320558c5528b>


Plugin Pghydro Tools approval by pcav.
The plugin version "[1047] Pghydro Tools 1.1" is now approved
Link: http://plugins.qgis.org/plugins/PghydroTools/

From noreply at qgis.org  Wed Jul 26 08:32:49 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 26 Jul 2017 15:32:49 -0000
Subject: [QGIS-Developer] Plugin [1047] Pghydro Tools approval notification.
Message-ID: <20170726153249.12955.48761@320558c5528b>


Plugin Pghydro Tools approval by pcav.
The plugin version "[1047] Pghydro Tools 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/PghydroTools/

From noreply at qgis.org  Wed Jul 26 08:33:09 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 26 Jul 2017 15:33:09 -0000
Subject: [QGIS-Developer] Plugin [1270] BGT Import approval notification.
Message-ID: <20170726153309.12955.84075@320558c5528b>


Plugin BGT Import approval by pcav.
The plugin version "[1270] BGT Import 0.2" is now approved
Link: http://plugins.qgis.org/plugins/BGTImport/

From noreply at qgis.org  Wed Jul 26 08:33:31 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 26 Jul 2017 15:33:31 -0000
Subject: [QGIS-Developer] Plugin [1272] Multiple Layers Edit Nodes approval
	notification.
Message-ID: <20170726153331.9877.32730@320558c5528b>


Plugin Multiple Layers Edit Nodes approval by pcav.
The plugin version "[1272] Multiple Layers Edit Nodes 0.1.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/MultipleLayersEditNodes/

From a.neumann at carto.net  Wed Jul 26 08:46:28 2017
From: a.neumann at carto.net (Neumann, Andreas)
Date: Wed, 26 Jul 2017 17:46:28 +0200
Subject: [QGIS-Developer] Exporting large GeoTIFF files from print
 composer
In-Reply-To: <d90476f0-6243-a4d2-ce25-002ce8a7bd09@duif.net>
References: <1f32f6c6eae8089c7285db9193be16b5@carto.net>
 <d90476f0-6243-a4d2-ce25-002ce8a7bd09@duif.net>
Message-ID: <55424cbda694261caa9afd4b64df099f@carto.net>

Hi Richard, 

Yes - using Linux for that purpose would be my fallback. But it is a bit
more complicated, because my Win machine is in the corporate network,
while the Linux machine is my private machine, and not part of the
network - where I have access to Postgis, and everything. 

The question is, if that error message is just an assumption, that the
export would fail - not giving the user even a chance to try, or if it
would really be a problem. 

Let's see if Matthias can find out something. 

Thanks, 

Andreas 

On 2017-07-26 14:23, Richard Duivenvoorde wrote:

> On 26-07-17 09:35, Neumann, Andreas wrote: 
> 
>> Hi,
>> 
>> I would like to export a large format QGIS print composer to a GeoTIFF file.
>> 
>> Page format is 2.4 x 1.9 m and I would like to export at 300 dpi. It is
>> for sending to a copy shop to print out for a trade fair in our province.
>> 
>> I can successfully export at 270 dpi, but if I go beyond, QGIS tells me
>> that I may experience a "memory overflow".
>> 
>> My machine is 64bit (Win 7) and has 16GB of memory.
>> 
>> Is this an arbitrary artificial threshold value where QGIS refuses to
>> export? Would it potentially work, if the barrier wouldn't exist? Could
>> I somehow bypass this barrier?
>> 
>> Thanks if you have any idea.
> 
> Hi Andreas,
> 
> Just a shot in the dark, but years ago I was not able to create a A0 pdf
> at 300dpi on a Windows (XP?) machine (memory problems), while on a Linux
> machine it just worked. Hopefully Windows has changed this, but it is
> worth trying?
> 
> Regards,
> 
> Richard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170726/a583527a/attachment.html>

From carrillo.german at gmail.com  Wed Jul 26 09:45:16 2017
From: carrillo.german at gmail.com (=?UTF-8?Q?Germ=C3=A1n_Carrillo?=)
Date: Wed, 26 Jul 2017 11:45:16 -0500
Subject: [QGIS-Developer] qgis master freeze with transaction groups
	activated
In-Reply-To: <CABgOYCfN4HgdfLury4Bv5Ur-gPQzW-JWkd6VfQEiazJqh1UFLw@mail.gmail.com>
References: <CABgOYCfN4HgdfLury4Bv5Ur-gPQzW-JWkd6VfQEiazJqh1UFLw@mail.gmail.com>
Message-ID: <CANaz7mxwN-QzEtU+dFMQApm+wS4p0Afjx2ix1W2d50a+EB5ebg@mail.gmail.com>

Hi R√©gis,

I've experienced such behavior in master as well.

In my case, using the Project Generator plugin [1] (which configures a QGIS
project from Interlis models or PostgreSQL/PostGIS schemas and by default
activates transaction groups), as soon as I finish digitizing a geometry
and the attribute form is opening, QGIS freezes entirely and sometimes even
crashes.

See here [2] a backtrace of a QGIS crash.

Regards,

Germ√°n
--------------
[1] http://plugins.qgis.org/plugins/projectgenerator/
[2] https://gist.github.com/gacarrillor/6cfa023b447b7e161df4c70363357b2a

2017-07-26 10:07 GMT-05:00 R√©gis Haubourg <regis.haubourg at gmail.com>:

> Hi all,
> I'm facing QGIS freezes when using project with postgres transaction
> groups activated.
>
> I just open the project, switch layers to edition mode, and pan >> freeze.
>
> I can reproduce that on two different massive projects, (one is QGEP) but
> not on another one (QWAT).
>
> Has anyone seen that too? My goal is to reduce that to something
> reproducible and light, but it's a moving target right now.
>
> Cheers
> R√©gis
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
-----------
   |\__
(:>__)(
   |/
Soluciones Geoinform√°ticas Libres
http://geotux.tuxfamily.org/
http://twitter.com/GeoTux2
http://about.me/germancarrillo

<http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170726/b0ee4f48/attachment-0001.html>

From noreply at qgis.org  Wed Jul 26 10:35:37 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Wed, 26 Jul 2017 17:35:37 -0000
Subject: [QGIS-Developer] Plugin [976] QAD approval notification.
Message-ID: <20170726173537.9877.26607@320558c5528b>


Plugin QAD approval by pcav.
The plugin version "[976] QAD 2.14.2" is now approved
Link: http://plugins.qgis.org/plugins/qad/

From matthias at opengis.ch  Wed Jul 26 21:57:19 2017
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 27 Jul 2017 06:57:19 +0200
Subject: [QGIS-Developer] qgis master freeze with transaction groups
 activated
In-Reply-To: <CANaz7mxwN-QzEtU+dFMQApm+wS4p0Afjx2ix1W2d50a+EB5ebg@mail.gmail.com>
References: <CABgOYCfN4HgdfLury4Bv5Ur-gPQzW-JWkd6VfQEiazJqh1UFLw@mail.gmail.com>
 <CANaz7mxwN-QzEtU+dFMQApm+wS4p0Afjx2ix1W2d50a+EB5ebg@mail.gmail.com>
Message-ID: <6bbe0909-71b8-0617-c022-b1e11fb992ca@opengis.ch>

Hi,

I'm working on the second one (freeze when opening the dialog). It's
triggered by a race condition between map canvas (rendering) and
relation reference (feature form).

Bests
Matthias

On 7/26/17 6:45 PM, Germ√°n Carrillo wrote:
> Hi R√©gis, 
>
> I've experienced such behavior in master as well. 
>
> In my case, using the Project Generator plugin [1] (which configures a
> QGIS project from Interlis models or PostgreSQL/PostGIS schemas and by
> default activates transaction groups), as soon as I finish digitizing
> a geometry and the attribute form is opening, QGIS freezes entirely
> and sometimes even crashes.
>
> See here [2] a backtrace of a QGIS crash.
>
> Regards, 
>
> Germ√°n 
> --------------
> [1] http://plugins.qgis.org/plugins/projectgenerator/
> [2] https://gist.github.com/gacarrillor/6cfa023b447b7e161df4c70363357b2a
>
> 2017-07-26 10:07 GMT-05:00 R√©gis Haubourg <regis.haubourg at gmail.com
> <mailto:regis.haubourg at gmail.com>>:
>
>     Hi all, 
>     I'm facing QGIS freezes when using project with postgres
>     transaction groups activated. 
>
>     I just open the project, switch layers to edition mode, and pan >>
>     freeze.
>
>     I can reproduce that on two different massive projects, (one is
>     QGEP) but not on another one (QWAT). 
>
>     Has anyone seen that too? My goal is to reduce that to something
>     reproducible and light, but it's a moving target right now. 
>
>     Cheers
>     R√©gis  
>
>     _______________________________________________
>     QGIS-Developer mailing list
>     QGIS-Developer at lists.osgeo.org <mailto:QGIS-Developer at lists.osgeo.org>
>     List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>     Unsubscribe:
>     https://lists.osgeo.org/mailman/listinfo/qgis-developer
>     <https://lists.osgeo.org/mailman/listinfo/qgis-developer>
>
>
>
>
> -- 
> -----------
>    |\__ 
> (:>__)(
>    |/   
> Soluciones Geoinform√°ticas Libres                            
> http://geotux.tuxfamily.org/
> http://twitter.com/GeoTux2
> http://about.me/germancarrillo
>
> <http://gis.stackexchange.com/users/4972/germ%c3%a1n-carrillo>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170727/54e95ebf/attachment.html>

From noreply at qgis.org  Wed Jul 26 22:49:16 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 27 Jul 2017 05:49:16 -0000
Subject: [QGIS-Developer] Plugin [715] DSG Tools approval notification.
Message-ID: <20170727054916.16189.64944@320558c5528b>


Plugin DSG Tools approval by pcav.
The plugin version "[715] DSG Tools 3.0.2" is now approved
Link: http://plugins.qgis.org/plugins/DsgTools/

From noreply at qgis.org  Wed Jul 26 23:26:46 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 27 Jul 2017 06:26:46 -0000
Subject: [QGIS-Developer] Plugin [296] Bulk vector export approval
	notification.
Message-ID: <20170727062646.16189.53956@320558c5528b>


Plugin Bulk vector export approval by pcav.
The plugin version "[296] Bulk vector export 0.3" is now approved
Link: http://plugins.qgis.org/plugins/BulkVectorExport/

From noreply at qgis.org  Wed Jul 26 23:27:20 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 27 Jul 2017 06:27:20 -0000
Subject: [QGIS-Developer] Plugin [850] changeDataSource approval
	notification.
Message-ID: <20170727062720.16189.72717@320558c5528b>


Plugin changeDataSource approval by pcav.
The plugin version "[850] changeDataSource 2.4" is now approved
Link: http://plugins.qgis.org/plugins/changeDataSource/

From noreply at qgis.org  Wed Jul 26 23:29:22 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 27 Jul 2017 06:29:22 -0000
Subject: [QGIS-Developer] Plugin [1289] SOS 2.0 Client approval notification.
Message-ID: <20170727062922.16189.74193@320558c5528b>


Plugin SOS 2.0 Client approval by pcav.
The plugin version "[1289] SOS 2.0 Client 1.0.0-beta Experimental" is now approved
Link: http://plugins.qgis.org/plugins/sos-2-0-client/

From noreply at qgis.org  Wed Jul 26 23:32:43 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 27 Jul 2017 06:32:43 -0000
Subject: [QGIS-Developer] Plugin [1290] Script Assistant approval
	notification.
Message-ID: <20170727063243.1793.28707@320558c5528b>


Plugin Script Assistant approval by pcav.
The plugin version "[1290] Script Assistant 0.4.1" is now approved
Link: http://plugins.qgis.org/plugins/scriptassistant/

From noreply at qgis.org  Thu Jul 27 01:18:10 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 27 Jul 2017 08:18:10 -0000
Subject: [QGIS-Developer] Plugin [1283] Cadasta approval notification.
Message-ID: <20170727081810.1792.89450@320558c5528b>


Plugin Cadasta approval by pcav.
The plugin version "[1283] Cadasta 1.1.1" is now approved
Link: http://plugins.qgis.org/plugins/cadasta-qgis-plugin/

From noreply at qgis.org  Thu Jul 27 02:10:19 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 27 Jul 2017 09:10:19 -0000
Subject: [QGIS-Developer] Plugin [1289] SOS 2.0 Client approval notification.
Message-ID: <20170727091019.2312.53629@320558c5528b>


Plugin SOS 2.0 Client approval by pcav.
The plugin version "[1289] SOS 2.0 Client 1.0.1-beta Experimental" is now approved
Link: http://plugins.qgis.org/plugins/sos-2-0-client/

From joao.f.r.gaspar at gmail.com  Thu Jul 27 02:59:39 2017
From: joao.f.r.gaspar at gmail.com (=?UTF-8?B?Sm/Do28gR2FzcGFy?=)
Date: Thu, 27 Jul 2017 10:59:39 +0100
Subject: [QGIS-Developer] two issues in QGIS (Server and print composer)
	2.18.10(?)
In-Reply-To: <CACfnYnRv8peuvAUJFSnTVJbZZOpGe69vhAE5gzD6WDFOTcGvNQ@mail.gmail.com>
References: <CACfnYnQ0CoDnzX+0L_Ypg4uY4EZ-aAkCyE=hV0eW_DfUP0O+Fw@mail.gmail.com>
 <CAB28AsgyJ66Tn5SE=UTT3jWZp=Ny_MB6n2uZxWm0syKCzkv7WA@mail.gmail.com>
 <CACfnYnRv8peuvAUJFSnTVJbZZOpGe69vhAE5gzD6WDFOTcGvNQ@mail.gmail.com>
Message-ID: <CAM+zXj1zKmq+G8GEudgdL64akmFa+yVaWebGAcnMVt7bc977LA@mail.gmail.com>

Hi,
same issue where.

Test Environment OS:
Windows 7 64-bits

QGIS Server 2.14.16 LTR
Print with label text - OK
Print without label text - OK

QGIS Server 2.18.9 64-bits
Print with label text - OK
Print without label text - OK


QGIS Server 2.18.11 64-bits
Print with label text - OK
Print without label text - "Internal Server Error"


I attach a zip file with detail information (logs and .qgs 2.18.9  project
to test) in the qgis bug tracker: https://issues.qgis.org/issues/15440


Cheers
Jo√£o Gaspar





2017-07-20 23:38 GMT+01:00 Giovanni Manghi <giovanni.manghi at gmail.com>:

> Hi Nyall,
>
>
>
> > It'll be https://github.com/qgis/QGIS/commit/
> 1b4bd47076103e931e642c9c2b6a363f14b20a45
> > which removed the None option.
> >
> > ...HOWEVER...
> >
> > I'm having a lot of trouble trying to understand what the correct
> > server logic is here. Is it:
> >
> > - if a getprint request is made without any layers specified then all
> > layers are shown in both the map and legend
>
> as far as I remember if no layers are specified in the request then no
> layers are shown in the map (not sure about the legend)
>
>
>
> > - if layers are specified then:
> >   - legend set to a map: ONLY those layers should be shown in the map
> and legend
>
> yes, actually as you may have seen form my examples, for layers that
> are not listed in the request their name shows anyway in the legend
> (without the ssymbology symbols or classes).
>
>
> >   - legend set to None: only shown those layers in the map, but
> > EVERYTHING in the legend
> > ?
>
> yes
>
>
>
> The latter has/had a clear purpose, be able to to print via getprint a
> map + a fixed legend, regardless
> of the enabled/disabled layers, exactly as it happens when you print
> from QGIS Desktop.
>
>
>
> > If so, I'd say that's unpredictable, opaque behavior and needs to be
> > fixed in the UI.
> >
> > Possible options would be:
> >
> > 1. adding a server settings section to the legend properties, with a
> > checkbox "always show all layers (Regardless of requested layers)" (or
> > betterly worded!)
> >
> > 2. Taking advantage of the existing "filter legend by map" option to
> > handle this use case (which should already be supported in 2.x - it
> > just needs that setting switched on in your projects). The only
> > downside here is that if a layer is requested but has no features
> > visible in the extent then it won't be shown in the legend. (That's
> > arguably the correct cartographic behaviour though!)
> >
> > I don't think the "none" option should be brought back, as it makes
> > legend behaviour unpredictable in itself. E.g. what scale should the
> > legend use for symbols with map unit sizes? What preset style should
> > it use?
>
>
>
> option 1 seems good to me, anyway whatever the solution this should be
> treated as a priority/bad regression as it broke a very basic
> necessity when we do (for example) webgis with QWC or Lizmap.
>
>
>
> thanks in advance and for understanding
>
>
> cheers!
>
> -- G --
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170727/24d138cf/attachment-0001.html>

From joao.f.r.gaspar at gmail.com  Thu Jul 27 03:06:03 2017
From: joao.f.r.gaspar at gmail.com (=?UTF-8?B?Sm/Do28gR2FzcGFy?=)
Date: Thu, 27 Jul 2017 11:06:03 +0100
Subject: [QGIS-Developer] two issues in QGIS (Server and print composer)
	2.18.10(?)
In-Reply-To: <CAM+zXj1zKmq+G8GEudgdL64akmFa+yVaWebGAcnMVt7bc977LA@mail.gmail.com>
References: <CACfnYnQ0CoDnzX+0L_Ypg4uY4EZ-aAkCyE=hV0eW_DfUP0O+Fw@mail.gmail.com>
 <CAB28AsgyJ66Tn5SE=UTT3jWZp=Ny_MB6n2uZxWm0syKCzkv7WA@mail.gmail.com>
 <CACfnYnRv8peuvAUJFSnTVJbZZOpGe69vhAE5gzD6WDFOTcGvNQ@mail.gmail.com>
 <CAM+zXj1zKmq+G8GEudgdL64akmFa+yVaWebGAcnMVt7bc977LA@mail.gmail.com>
Message-ID: <CAM+zXj2ZtvNSmAmtOGvuA2HPxT0VMnMbRnkqink7_aOzggKeBw@mail.gmail.com>

Hi again,

 i switch the result test in QGIS Server 2.18.11.

Where is written:

"
QGIS Server 2.18.11 64-bits
Print with label text - OK
Print without label text - "Internal Server Error"


I want to say:

QGIS Server 2.18.11 64-bits
Print with label text - "Internal Server Error"
Print without label text -  "Internal Server Error"OK

Sorry

Jo√£o Gaspar

2017-07-27 10:59 GMT+01:00 Jo√£o Gaspar <joao.f.r.gaspar at gmail.com>:

> Hi,
> same issue where.
>
> Test Environment OS:
> Windows 7 64-bits
>
> QGIS Server 2.14.16 LTR
> Print with label text - OK
> Print without label text - OK
>
> QGIS Server 2.18.9 64-bits
> Print with label text - OK
> Print without label text - OK
>
>
> QGIS Server 2.18.11 64-bits
> Print with label text - OK
> Print without label text - "Internal Server Error"
>
>
> I attach a zip file with detail information (logs and .qgs 2.18.9
> project  to test) in the qgis bug tracker: https://issues.qgis.org/
> issues/15440
>
>
> Cheers
> Jo√£o Gaspar
>
>
>
>
>
> 2017-07-20 23:38 GMT+01:00 Giovanni Manghi <giovanni.manghi at gmail.com>:
>
>> Hi Nyall,
>>
>>
>>
>> > It'll be https://github.com/qgis/QGIS/commit/1b4bd47076103e931e642c9c
>> 2b6a363f14b20a45
>> > which removed the None option.
>> >
>> > ...HOWEVER...
>> >
>> > I'm having a lot of trouble trying to understand what the correct
>> > server logic is here. Is it:
>> >
>> > - if a getprint request is made without any layers specified then all
>> > layers are shown in both the map and legend
>>
>> as far as I remember if no layers are specified in the request then no
>> layers are shown in the map (not sure about the legend)
>>
>>
>>
>> > - if layers are specified then:
>> >   - legend set to a map: ONLY those layers should be shown in the map
>> and legend
>>
>> yes, actually as you may have seen form my examples, for layers that
>> are not listed in the request their name shows anyway in the legend
>> (without the ssymbology symbols or classes).
>>
>>
>> >   - legend set to None: only shown those layers in the map, but
>> > EVERYTHING in the legend
>> > ?
>>
>> yes
>>
>>
>>
>> The latter has/had a clear purpose, be able to to print via getprint a
>> map + a fixed legend, regardless
>> of the enabled/disabled layers, exactly as it happens when you print
>> from QGIS Desktop.
>>
>>
>>
>> > If so, I'd say that's unpredictable, opaque behavior and needs to be
>> > fixed in the UI.
>> >
>> > Possible options would be:
>> >
>> > 1. adding a server settings section to the legend properties, with a
>> > checkbox "always show all layers (Regardless of requested layers)" (or
>> > betterly worded!)
>> >
>> > 2. Taking advantage of the existing "filter legend by map" option to
>> > handle this use case (which should already be supported in 2.x - it
>> > just needs that setting switched on in your projects). The only
>> > downside here is that if a layer is requested but has no features
>> > visible in the extent then it won't be shown in the legend. (That's
>> > arguably the correct cartographic behaviour though!)
>> >
>> > I don't think the "none" option should be brought back, as it makes
>> > legend behaviour unpredictable in itself. E.g. what scale should the
>> > legend use for symbols with map unit sizes? What preset style should
>> > it use?
>>
>>
>>
>> option 1 seems good to me, anyway whatever the solution this should be
>> treated as a priority/bad regression as it broke a very basic
>> necessity when we do (for example) webgis with QWC or Lizmap.
>>
>>
>>
>> thanks in advance and for understanding
>>
>>
>> cheers!
>>
>> -- G --
>> _______________________________________________
>> QGIS-Developer mailing list
>> QGIS-Developer at lists.osgeo.org
>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170727/d4f4899f/attachment.html>

From joao.f.r.gaspar at gmail.com  Thu Jul 27 03:12:07 2017
From: joao.f.r.gaspar at gmail.com (=?UTF-8?B?Sm/Do28gR2FzcGFy?=)
Date: Thu, 27 Jul 2017 11:12:07 +0100
Subject: [QGIS-Developer] two issues in QGIS (Server and print composer)
	2.18.10(?)
In-Reply-To: <CAM+zXj2ZtvNSmAmtOGvuA2HPxT0VMnMbRnkqink7_aOzggKeBw@mail.gmail.com>
References: <CACfnYnQ0CoDnzX+0L_Ypg4uY4EZ-aAkCyE=hV0eW_DfUP0O+Fw@mail.gmail.com>
 <CAB28AsgyJ66Tn5SE=UTT3jWZp=Ny_MB6n2uZxWm0syKCzkv7WA@mail.gmail.com>
 <CACfnYnRv8peuvAUJFSnTVJbZZOpGe69vhAE5gzD6WDFOTcGvNQ@mail.gmail.com>
 <CAM+zXj1zKmq+G8GEudgdL64akmFa+yVaWebGAcnMVt7bc977LA@mail.gmail.com>
 <CAM+zXj2ZtvNSmAmtOGvuA2HPxT0VMnMbRnkqink7_aOzggKeBw@mail.gmail.com>
Message-ID: <CAM+zXj2RwXsppn377WK1zDDVWcSzPvOfZq_Af-WAr5y1tPkKdw@mail.gmail.com>

Please not consider the 2 last emails, consider only this:


Hi,
same issue where.

Test Environment OS:
Windows 7 64-bits

QGIS Server 2.14.16 LTR
Print with label text - OK
Print without label text - OK

QGIS Server 2.18.9 64-bits
Print with label text - OK
Print without label text - OK


QGIS Server 2.18.11 64-bits
Print with label text -  "Internal Server Error"
Print without label text -  OK


I attach a zip file with detail information (logs and .qgs 2.18.9  project
to test) in the qgis bug tracker: https://issues.qgis.org/issues/15440

Sorry for the mess 2x

Cheers
Jo√£o Gaspar

2017-07-27 11:06 GMT+01:00 Jo√£o Gaspar <joao.f.r.gaspar at gmail.com>:

> Hi again,
>
>  i switch the result test in QGIS Server 2.18.11.
>
> Where is written:
>
> "
> QGIS Server 2.18.11 64-bits
> Print with label text - OK
> Print without label text - "Internal Server Error"
>
>
> I want to say:
>
> QGIS Server 2.18.11 64-bits
> Print with label text - "Internal Server Error"
> Print without label text -  "Internal Server Error"OK
>
> Sorry
>
> Jo√£o Gaspar
>
> 2017-07-27 10:59 GMT+01:00 Jo√£o Gaspar <joao.f.r.gaspar at gmail.com>:
>
>> Hi,
>> same issue where.
>>
>> Test Environment OS:
>> Windows 7 64-bits
>>
>> QGIS Server 2.14.16 LTR
>> Print with label text - OK
>> Print without label text - OK
>>
>> QGIS Server 2.18.9 64-bits
>> Print with label text - OK
>> Print without label text - OK
>>
>>
>> QGIS Server 2.18.11 64-bits
>> Print with label text - OK
>> Print without label text - "Internal Server Error"
>>
>>
>> I attach a zip file with detail information (logs and .qgs 2.18.9
>> project  to test) in the qgis bug tracker: https://issues.qgis.org/issues
>> /15440
>>
>>
>> Cheers
>> Jo√£o Gaspar
>>
>>
>>
>>
>>
>> 2017-07-20 23:38 GMT+01:00 Giovanni Manghi <giovanni.manghi at gmail.com>:
>>
>>> Hi Nyall,
>>>
>>>
>>>
>>> > It'll be https://github.com/qgis/QGIS/commit/1b4bd47076103e931e642c9c
>>> 2b6a363f14b20a45
>>> > which removed the None option.
>>> >
>>> > ...HOWEVER...
>>> >
>>> > I'm having a lot of trouble trying to understand what the correct
>>> > server logic is here. Is it:
>>> >
>>> > - if a getprint request is made without any layers specified then all
>>> > layers are shown in both the map and legend
>>>
>>> as far as I remember if no layers are specified in the request then no
>>> layers are shown in the map (not sure about the legend)
>>>
>>>
>>>
>>> > - if layers are specified then:
>>> >   - legend set to a map: ONLY those layers should be shown in the map
>>> and legend
>>>
>>> yes, actually as you may have seen form my examples, for layers that
>>> are not listed in the request their name shows anyway in the legend
>>> (without the ssymbology symbols or classes).
>>>
>>>
>>> >   - legend set to None: only shown those layers in the map, but
>>> > EVERYTHING in the legend
>>> > ?
>>>
>>> yes
>>>
>>>
>>>
>>> The latter has/had a clear purpose, be able to to print via getprint a
>>> map + a fixed legend, regardless
>>> of the enabled/disabled layers, exactly as it happens when you print
>>> from QGIS Desktop.
>>>
>>>
>>>
>>> > If so, I'd say that's unpredictable, opaque behavior and needs to be
>>> > fixed in the UI.
>>> >
>>> > Possible options would be:
>>> >
>>> > 1. adding a server settings section to the legend properties, with a
>>> > checkbox "always show all layers (Regardless of requested layers)" (or
>>> > betterly worded!)
>>> >
>>> > 2. Taking advantage of the existing "filter legend by map" option to
>>> > handle this use case (which should already be supported in 2.x - it
>>> > just needs that setting switched on in your projects). The only
>>> > downside here is that if a layer is requested but has no features
>>> > visible in the extent then it won't be shown in the legend. (That's
>>> > arguably the correct cartographic behaviour though!)
>>> >
>>> > I don't think the "none" option should be brought back, as it makes
>>> > legend behaviour unpredictable in itself. E.g. what scale should the
>>> > legend use for symbols with map unit sizes? What preset style should
>>> > it use?
>>>
>>>
>>>
>>> option 1 seems good to me, anyway whatever the solution this should be
>>> treated as a priority/bad regression as it broke a very basic
>>> necessity when we do (for example) webgis with QWC or Lizmap.
>>>
>>>
>>>
>>> thanks in advance and for understanding
>>>
>>>
>>> cheers!
>>>
>>> -- G --
>>> _______________________________________________
>>> QGIS-Developer mailing list
>>> QGIS-Developer at lists.osgeo.org
>>> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170727/4de890e8/attachment-0001.html>

From noreply at qgis.org  Thu Jul 27 09:57:20 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Thu, 27 Jul 2017 16:57:20 -0000
Subject: [QGIS-Developer] Plugin [715] DSG Tools approval notification.
Message-ID: <20170727165720.1792.59001@320558c5528b>


Plugin DSG Tools approval by pcav.
The plugin version "[715] DSG Tools 3.0.3" is now approved
Link: http://plugins.qgis.org/plugins/DsgTools/

From noreply at qgis.org  Thu Jul 27 22:27:20 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 28 Jul 2017 05:27:20 -0000
Subject: [QGIS-Developer] Plugin [761] Clip Multiple Layers approval
	notification.
Message-ID: <20170728052720.1569.37686@320558c5528b>


Plugin Clip Multiple Layers approval by pcav.
The plugin version "[761] Clip Multiple Layers 0.1.5" is now approved
Link: http://plugins.qgis.org/plugins/ClipMultipleLayers/

From noreply at qgis.org  Thu Jul 27 22:27:48 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 28 Jul 2017 05:27:48 -0000
Subject: [QGIS-Developer] Plugin [1232] OSM Tools approval notification.
Message-ID: <20170728052748.1569.76272@320558c5528b>


Plugin OSM Tools approval by pcav.
The plugin version "[1232] OSM Tools 0.3.1" is now approved
Link: http://plugins.qgis.org/plugins/OSMtools/

From noreply at qgis.org  Thu Jul 27 22:28:25 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 28 Jul 2017 05:28:25 -0000
Subject: [QGIS-Developer] Plugin [866] WKT Bulk Loader approval notification.
Message-ID: <20170728052825.869.31590@320558c5528b>


Plugin WKT Bulk Loader approval by pcav.
The plugin version "[866] WKT Bulk Loader 0.1 Experimental" is now approved
Link: http://plugins.qgis.org/plugins/WKTBulkLoader/

From stephanebek at gmail.com  Fri Jul 28 03:20:04 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Fri, 28 Jul 2017 16:20:04 +0600
Subject: [QGIS-Developer] Geoprocessing tools give empty results for data
	using crs EPSG:7694
Message-ID: <CAK6pVBXq35qBLD70=3LCiF+3hDe62UCEiorcRbHYKUh5u9sN+Q@mail.gmail.com>

Hi all

I have made a few tests of GDAL 2.2.0 on Ubuntu 16.04 with QGIS 2.14.14 and
have found out that most geoprocessing tools implying 2 layers (clip,
difference, intersection, etc.) wrongly give empty geometries when the data
is in CRS  EPSG:7694 (*Kyrg06-3*, newly added CRS to GDAL in 2.2.0). Same
behavior with QGIS 2.18.11 with GDAL 1.11.3

For example, when using the Tool *Vector - Geoprocessing tools - Difference*
the difference between 2 layers gives an empty geometry. Using the same
tool on the same data with the CRS 32643 (*WGS84 UTM43N*) gives correct
results.

I have communicated on the Ubuntugis mailing list and got the following
feedback from Even Rouault:

*I've run ogrinfo -al shp > log.txt on your dataset with GDAL 2.2 and GDAL
2.1 and get almost the same results. The only difference is that GDAL 2.2
now reports the SRS of layers kyrgyzstan_UTM43N and rayons_UTM43N with an
explicit EPSG:32643 code, which is an intended change of GDAL 2.2, and I
wouldn't think that would cause issues to QGIS. So my feeling is that the
issue is more with the processing tool itself, or a subtle issue in the
integration of QGIS&GDAL.*

Test dataset (in both CRS) here: http://www.henriod.info/share/shp.zip

Is it something to be reported as a QGIS bug? Can you reproduce this
behavior?

Thanks and cheers
St√©phane


-- 

‚ÄúWhen you travel, remember that a foreign country is not designed to make
you comfortable. It is designed to make its own people comfortable." --
Clifton Fadiman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170728/4f51e5e8/attachment.html>

From senhor.neto at gmail.com  Fri Jul 28 07:58:02 2017
From: senhor.neto at gmail.com (Alexandre Neto)
Date: Fri, 28 Jul 2017 14:58:02 +0000
Subject: [QGIS-Developer] Changes on HIG for titles and labels capitalization
Message-ID: <CA+H0G_HJ_qDgqbhjkoxjp6BVRPG2byaT5KMuQ9=2a00NmoCpxA@mail.gmail.com>

Following a discussion on a UI/UX issue [0]
<https://github.com/qgis/qgis3_UIX_discussion/issues/43> about
inconsistency on Dialogs' titles capitalization, we talked that would be
good to follow Qt Guidelines for this [1]
<https://doc-snapshots.qt.io/qtcreator-extending/qtcreator-ui-text.html#ui-text-capitalization>
.

I have transcribed it to the Developers Guide Human Interface Guidelines
HIG in a PR for QGIS Documentation [2]
<https://github.com/qgis/QGIS-Documentation/pull/2008>. Main changes are in
point 2 and 3.

Following exactly was is in Qt Guidelines may have some impact on the way
we have been capitalizing some of our GUI elements. The most impacting
would be having to capitalize every word in Group box labels and
in Combox items.

So, if you could please share your opinion in the PR:

https://github.com/qgis/QGIS-Documentation/pull/2008

Thanks,

Alexandre Neto

[0] - https://github.com/qgis/qgis3_UIX_discussion/issues/43
[1] -
https://doc-snapshots.qt.io/qtcreator-extending/qtcreator-ui-text.html#ui-text-capitalization
[2] - https://github.com/qgis/QGIS-Documentation/pull/2008


-- 
Alexandre Neto
---------------------
@AlexNetoGeo
http://sigsemgrilhetas.wordpress.com
http://gisunchained.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170728/c3ec1ae4/attachment.html>

From noreply at qgis.org  Fri Jul 28 08:51:44 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 28 Jul 2017 15:51:44 -0000
Subject: [QGIS-Developer] Plugin [1035] Lat Lon Tools approval notification.
Message-ID: <20170728155144.1792.75450@320558c5528b>


Plugin Lat Lon Tools approval by pcav.
The plugin version "[1035] Lat Lon Tools 3.0.2" is now approved
Link: http://plugins.qgis.org/plugins/latlontools/

From noreply at qgis.org  Fri Jul 28 09:06:08 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Fri, 28 Jul 2017 16:06:08 -0000
Subject: [QGIS-Developer] Plugin [983] DIVI QGIS Plugin approval
	notification.
Message-ID: <20170728160608.28046.76912@320558c5528b>


Plugin DIVI QGIS Plugin approval by pcav.
The plugin version "[983] DIVI QGIS Plugin 1.5" is now approved
Link: http://plugins.qgis.org/plugins/DiviPlugin/

From olcay.ebcin at odakent.com.tr  Fri Jul 28 10:27:14 2017
From: olcay.ebcin at odakent.com.tr (Olcay Ebcin)
Date: Fri, 28 Jul 2017 20:27:14 +0300
Subject: [QGIS-Developer] About svg marker MapUnit and Rotation
Message-ID: <003001d307c6$c2cbede0$4863c9a0$@odakent.com.tr>

Hi all,

 

I follow nightly edition of QGIS 2.99 

There is a problem in showing point features as SVG file.

If you try to show point features as SVG marker and give any rotation angle
or make svg marker settings in MapUnit then 

QGIS stop working and close.

 

Regards,

Olcay 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170728/8c502432/attachment.html>

From giovanni.manghi at gmail.com  Fri Jul 28 12:38:40 2017
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Fri, 28 Jul 2017 20:38:40 +0100
Subject: [QGIS-Developer] Geoprocessing tools give empty results for
	data using crs EPSG:7694
Message-ID: <CACfnYnRi95m2x2SL393BvERJjL9jkCvmJSdd_fKxRNH=T_X2AQ@mail.gmail.com>

Hi,


> Hi all
>
> I have made a few tests of GDAL 2.2.0 on Ubuntu 16.04 with QGIS 2.14.14 and
> have found out that most geoprocessing tools implying 2 layers (clip,
> difference, intersection, etc.) wrongly give empty geometries when the data
> is in CRS  EPSG:7694 (*Kyrg06-3*, newly added CRS to GDAL in 2.2.0). Same
> behavior with QGIS 2.18.11 with GDAL 1.11.3
>
> For example, when using the Tool *Vector - Geoprocessing tools - Difference*
> the difference between 2 layers gives an empty geometry. Using the same
> tool on the same data with the CRS 32643 (*WGS84 UTM43N*) gives correct
> results.
>
> I have communicated on the Ubuntugis mailing list and got the following
> feedback from Even Rouault:
>
> *I've run ogrinfo -al shp > log.txt on your dataset with GDAL 2.2 and GDAL
> 2.1 and get almost the same results. The only difference is that GDAL 2.2
> now reports the SRS of layers kyrgyzstan_UTM43N and rayons_UTM43N with an
> explicit EPSG:32643 code, which is an intended change of GDAL 2.2, and I
> wouldn't think that would cause issues to QGIS. So my feeling is that the
> issue is more with the processing tool itself, or a subtle issue in the
> integration of QGIS&GDAL.*
>
> Test dataset (in both CRS) here: http://www.henriod.info/share/shp.zip
>
> Is it something to be reported as a QGIS bug? Can you reproduce this
> behavior?


I made some test and here following a few notes:


1) the geoprocressing tools in the "vector" menu are the native QGIS
ones, and I don't thinkthey make use of GDAL/OGR to make the
operations, on the other hand in the Processing toolbox you find also
a few ones (I have in mind since a long to add more) really based on
GDAL/OGR.


2) I noticed that in your layers in EPSG:7694 there are geometries
errors that are not present in the EPSG:32643, and here lies the
problem of the wrong results you see, it does not depend on the CRS of
the inputs.


3) I fixed the inputs geometry errors with my favorite tool, the
liblwgeom plugin for the Processing toolbox and its "MakeValid" tool
(equivalent to PostGIS's ST_MakeValid) and after that the operation
returned the expected results


4) The geoprocessing OGR based tools are more verbose in their log and
so was easy to spot the geometry error messages


5) the OGR based "clip by vector" tool returned also an output in
EPSG:7694 while the equivalent QGIS tool returned an output with 4326
assigned CRS, but if you change it manually the result is there and in
the right place.



hope this helps

-- G --

From stephanebek at gmail.com  Sat Jul 29 05:46:37 2017
From: stephanebek at gmail.com (=?UTF-8?Q?St=C3=A9phane_Henriod?=)
Date: Sat, 29 Jul 2017 18:46:37 +0600
Subject: [QGIS-Developer] Geoprocessing tools give empty results for
 data using crs EPSG:7694
In-Reply-To: <CACfnYnRi95m2x2SL393BvERJjL9jkCvmJSdd_fKxRNH=T_X2AQ@mail.gmail.com>
References: <CACfnYnRi95m2x2SL393BvERJjL9jkCvmJSdd_fKxRNH=T_X2AQ@mail.gmail.com>
Message-ID: <CAK6pVBVtxXEXXhsQdGx65cib-QAckbyfNt-v05BxtzNkOoUhKQ@mail.gmail.com>

Wow this is a hell of a comprehensive answer :)

Thank you very much... My bad, I didn't even think about checking the
validity of the geometries here.  I will correct them and make further tests

Cheers
St√©phane

On 28 Jul 2017 9:39 p.m., "Giovanni Manghi" <giovanni.manghi at gmail.com>
wrote:

> Hi,
>
>
> > Hi all
> >
> > I have made a few tests of GDAL 2.2.0 on Ubuntu 16.04 with QGIS 2.14.14
> and
> > have found out that most geoprocessing tools implying 2 layers (clip,
> > difference, intersection, etc.) wrongly give empty geometries when the
> data
> > is in CRS  EPSG:7694 (*Kyrg06-3*, newly added CRS to GDAL in 2.2.0). Same
> > behavior with QGIS 2.18.11 with GDAL 1.11.3
> >
> > For example, when using the Tool *Vector - Geoprocessing tools -
> Difference*
> > the difference between 2 layers gives an empty geometry. Using the same
> > tool on the same data with the CRS 32643 (*WGS84 UTM43N*) gives correct
> > results.
> >
> > I have communicated on the Ubuntugis mailing list and got the following
> > feedback from Even Rouault:
> >
> > *I've run ogrinfo -al shp > log.txt on your dataset with GDAL 2.2 and
> GDAL
> > 2.1 and get almost the same results. The only difference is that GDAL 2.2
> > now reports the SRS of layers kyrgyzstan_UTM43N and rayons_UTM43N with an
> > explicit EPSG:32643 code, which is an intended change of GDAL 2.2, and I
> > wouldn't think that would cause issues to QGIS. So my feeling is that the
> > issue is more with the processing tool itself, or a subtle issue in the
> > integration of QGIS&GDAL.*
> >
> > Test dataset (in both CRS) here: http://www.henriod.info/share/shp.zip
> >
> > Is it something to be reported as a QGIS bug? Can you reproduce this
> > behavior?
>
>
> I made some test and here following a few notes:
>
>
> 1) the geoprocressing tools in the "vector" menu are the native QGIS
> ones, and I don't thinkthey make use of GDAL/OGR to make the
> operations, on the other hand in the Processing toolbox you find also
> a few ones (I have in mind since a long to add more) really based on
> GDAL/OGR.
>
>
> 2) I noticed that in your layers in EPSG:7694 there are geometries
> errors that are not present in the EPSG:32643, and here lies the
> problem of the wrong results you see, it does not depend on the CRS of
> the inputs.
>
>
> 3) I fixed the inputs geometry errors with my favorite tool, the
> liblwgeom plugin for the Processing toolbox and its "MakeValid" tool
> (equivalent to PostGIS's ST_MakeValid) and after that the operation
> returned the expected results
>
>
> 4) The geoprocessing OGR based tools are more verbose in their log and
> so was easy to spot the geometry error messages
>
>
> 5) the OGR based "clip by vector" tool returned also an output in
> EPSG:7694 while the equivalent QGIS tool returned an output with 4326
> assigned CRS, but if you change it manually the result is there and in
> the right place.
>
>
>
> hope this helps
>
> -- G --
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170729/3f798ca6/attachment.html>

From delazj at gmail.com  Sat Jul 29 08:46:31 2017
From: delazj at gmail.com (DelazJ)
Date: Sat, 29 Jul 2017 17:46:31 +0200
Subject: [QGIS-Developer] Let's bring documentation at the heart of QGIS
	Desktop...
Message-ID: <CAECJsSpqW_w1J+N_SButdDZaz9BwY1Ry8k-cHqp2qY67OTSN_g@mail.gmail.com>

 Hi QGIS-ers,

As you might know, QGIS3 will get rid of the current (mainly) outdated
context help dialogs. These were not really maintained for years, and hard
to translate (a big piece of text, full of html tags, that you have to
rework when a single letter changes).

Now, Hitting the help button in a dialog should open:
- the neither fully up-to-date but heartily maintained official and online
doc
- or a local zipped doc.
Specifications were brought to discussion in QEP 51 [0] and UIX repo [1].
Afaik only the online doc relation infrastructure has been implemented for
the moment (at least it's the only one I had tested and once customized, it
works pretty good though some limitations - see the needed improvements
summary at [2] ).

The next step is to link all help buttons to the proper section in the
documentation.
Actually, I found out there are a lot of dialogs (older as well as newly
created) without a proper help button so I began a list in the uix issue
reports repository [3]. If you want to help add the missing button, please
feel free to do it. And please check the fixed items in the list to ease
the track.

Going further and based on an initial work of Richard Duivenvoorde
(Thanks!), I set up a list with most of the existing dialogs and panels in
QGIS (around 200), with their corresponding section in doc (if exists), and
whether there's already a help button, the file in which to add the doc
link (needs completion) and if  the relation is already set or not.
The rationale of this file has been mentioned at [4] but I'd like to add
that imho this db could be used as references to keep up-to-date help
"dialogs". We can imagine a kind of magic commands from you devs, that
automatically do the matching between the two repositories based on this
list and updating that list will fix links without a need to manually set
it in each resource file. I don't know if that's possible but it could be
nice i think.
What are left to do:
- Complete the list of resource files, in which the commands to open the
help link is se, and find missing dialogs (I couldn't dig all dialogs)
- Add the help button (or icon) where appropriate
- Set the relation to documentation pages
- Keep the table up-to-date

Giving a look to the QGIS code, I found that some links are added in the .h
while others are in the .cpp one, sometimes as private slots or public
ones. Can't figure out why so to avoid losing time  (I'm afraid I had spent
enough) and for a better subsidiarity, I think it's better to have
developers handle that part of the "job".

The whole file is available as a collaborative Framadate Calc at [5]. I
didn't find the markdown of the wiki or issue reports easily maintainable.
Sorry the interface is in French but icons should help and it's fully Open
Source :) . However, if you want to move it to a place that would be more
linked with QGIS infrastructure, feel free.

Hoping that will be useful to the Project...

Regards,
Harrissou

[0] QEP 51- https://github.com/qgis/QGIS-Enhancement-Proposals/issues/51
[1] UIX discussion https://github.com/qgis/qgis3_UIX_discussion/issues/15
<https://github.com/qgis/qgis3_UIX_discussion/issues/15.>
[2] QGIS 3 doc wiki https://github.com/DelazJ/QGIS
-Documentation/wiki/On-the-road-to-QGIS3#relation-between-
qgis-docs-and-desktop
[3] Some dialogs missing help button https://github.com/qgis/qgis3_
UIX_discussion/issues/33
<https://github.com/qgis/qgis3_UIX_discussion/issues/33.>
[4] https://github.com/qgis/QGIS/pull/4135
[5] Find the Data - https://framacalc.org/4hipbz1q7t
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170729/16f9ab38/attachment.html>

From luipir at gmail.com  Sun Jul 30 00:35:31 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Sun, 30 Jul 2017 09:35:31 +0200
Subject: [QGIS-Developer] Let's bring documentation at the heart of QGIS
	Desktop...
In-Reply-To: <CAECJsSpqW_w1J+N_SButdDZaz9BwY1Ry8k-cHqp2qY67OTSN_g@mail.gmail.com>
References: <CAECJsSpqW_w1J+N_SButdDZaz9BwY1Ry8k-cHqp2qY67OTSN_g@mail.gmail.com>
Message-ID: <CAFO80_o+FdSS44fKF1DEorFYENBs-sbKjLx+L714G7qehOwpjQ@mail.gmail.com>

https://github.com/qgis/qgis3_UIX_discussion/issues/33 => 404
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 29 July 2017 at 17:46, DelazJ <delazj at gmail.com> wrote:
> Hi QGIS-ers,
>
> As you might know, QGIS3 will get rid of the current (mainly) outdated
> context help dialogs. These were not really maintained for years, and hard
> to translate (a big piece of text, full of html tags, that you have to
> rework when a single letter changes).
>
> Now, Hitting the help button in a dialog should open:
> - the neither fully up-to-date but heartily maintained official and online
> doc
> - or a local zipped doc.
> Specifications were brought to discussion in QEP 51 [0] and UIX repo [1].
> Afaik only the online doc relation infrastructure has been implemented for
> the moment (at least it's the only one I had tested and once customized, it
> works pretty good though some limitations - see the needed improvements
> summary at [2] ).
>
> The next step is to link all help buttons to the proper section in the
> documentation.
> Actually, I found out there are a lot of dialogs (older as well as newly
> created) without a proper help button so I began a list in the uix issue
> reports repository [3]. If you want to help add the missing button, please
> feel free to do it. And please check the fixed items in the list to ease the
> track.
>
> Going further and based on an initial work of Richard Duivenvoorde
> (Thanks!), I set up a list with most of the existing dialogs and panels in
> QGIS (around 200), with their corresponding section in doc (if exists), and
> whether there's already a help button, the file in which to add the doc link
> (needs completion) and if  the relation is already set or not.
> The rationale of this file has been mentioned at [4] but I'd like to add
> that imho this db could be used as references to keep up-to-date help
> "dialogs". We can imagine a kind of magic commands from you devs, that
> automatically do the matching between the two repositories based on this
> list and updating that list will fix links without a need to manually set it
> in each resource file. I don't know if that's possible but it could be nice
> i think.
> What are left to do:
> - Complete the list of resource files, in which the commands to open the
> help link is se, and find missing dialogs (I couldn't dig all dialogs)
> - Add the help button (or icon) where appropriate
> - Set the relation to documentation pages
> - Keep the table up-to-date
>
> Giving a look to the QGIS code, I found that some links are added in the .h
> while others are in the .cpp one, sometimes as private slots or public ones.
> Can't figure out why so to avoid losing time  (I'm afraid I had spent
> enough) and for a better subsidiarity, I think it's better to have
> developers handle that part of the "job".
>
> The whole file is available as a collaborative Framadate Calc at [5]. I
> didn't find the markdown of the wiki or issue reports easily maintainable.
> Sorry the interface is in French but icons should help and it's fully Open
> Source :) . However, if you want to move it to a place that would be more
> linked with QGIS infrastructure, feel free.
>
> Hoping that will be useful to the Project...
>
> Regards,
> Harrissou
>
> [0] QEP 51- https://github.com/qgis/QGIS-Enhancement-Proposals/issues/51
> [1] UIX discussion https://github.com/qgis/qgis3_UIX_discussion/issues/15
> [2] QGIS 3 doc wiki
> https://github.com/DelazJ/QGIS-Documentation/wiki/On-the-road-to-QGIS3#relation-between-qgis-docs-and-desktop
> [3] Some dialogs missing help button
> https://github.com/qgis/qgis3_UIX_discussion/issues/33
> [4] https://github.com/qgis/QGIS/pull/4135
> [5] Find the Data - https://framacalc.org/4hipbz1q7t
>
>
>
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From anitagraser at gmx.at  Sun Jul 30 01:35:38 2017
From: anitagraser at gmx.at (Anita Graser)
Date: Sun, 30 Jul 2017 10:35:38 +0200
Subject: [QGIS-Developer] Let's bring documentation at the heart of QGIS
	Desktop...
In-Reply-To: <CAFO80_o+FdSS44fKF1DEorFYENBs-sbKjLx+L714G7qehOwpjQ@mail.gmail.com>
References: <CAECJsSpqW_w1J+N_SButdDZaz9BwY1Ry8k-cHqp2qY67OTSN_g@mail.gmail.com>
 <CAFO80_o+FdSS44fKF1DEorFYENBs-sbKjLx+L714G7qehOwpjQ@mail.gmail.com>
Message-ID: <CAFFV8FiHh++Z31SigoF+-ZrBm5WyiXrA1vyavUZE0_1Umjp9iw@mail.gmail.com>

On Sun, Jul 30, 2017 at 9:35 AM, Luigi Pirelli <luipir at gmail.com> wrote:

> https://github.com/qgis/qgis3_UIX_discussion/issues/33 => 404
>
> ‚ÄãWorks for me.

Anita‚Äã
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170730/86de6ac9/attachment.html>

From luipir at gmail.com  Sun Jul 30 01:43:02 2017
From: luipir at gmail.com (Luigi Pirelli)
Date: Sun, 30 Jul 2017 10:43:02 +0200
Subject: [QGIS-Developer] Let's bring documentation at the heart of QGIS
	Desktop...
In-Reply-To: <CAFFV8FiHh++Z31SigoF+-ZrBm5WyiXrA1vyavUZE0_1Umjp9iw@mail.gmail.com>
References: <CAECJsSpqW_w1J+N_SButdDZaz9BwY1Ry8k-cHqp2qY67OTSN_g@mail.gmail.com>
 <CAFO80_o+FdSS44fKF1DEorFYENBs-sbKjLx+L714G7qehOwpjQ@mail.gmail.com>
 <CAFFV8FiHh++Z31SigoF+-ZrBm5WyiXrA1vyavUZE0_1Umjp9iw@mail.gmail.com>
Message-ID: <CAFO80_pHu0FubAd-XsqUG1RMeMJj-hNc4cOuiB6_MTzwo+WCpA@mail.gmail.com>

ha... there is a "." at the end of link [3] in the original mail
Luigi Pirelli

**************************************************************************************************
* Boundless QGIS Support/Development: lpirelli AT boundlessgeo DOT com
* LinkedIn: https://www.linkedin.com/in/luigipirelli
* Stackexchange: http://gis.stackexchange.com/users/19667/luigi-pirelli
* GitHub: https://github.com/luipir
* Mastering QGIS 2nd Edition:
* https://www.packtpub.com/big-data-and-business-intelligence/mastering-qgis-second-edition
**************************************************************************************************


On 30 July 2017 at 10:35, Anita Graser <anitagraser at gmx.at> wrote:
>
>
> On Sun, Jul 30, 2017 at 9:35 AM, Luigi Pirelli <luipir at gmail.com> wrote:
>>
>> https://github.com/qgis/qgis3_UIX_discussion/issues/33 => 404
>>
> Works for me.
>
> Anita
>
>
>

From noreply at qgis.org  Mon Jul 31 00:49:59 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 31 Jul 2017 07:49:59 -0000
Subject: [QGIS-Developer] Plugin [1097] Greek Open Data approval
	notification.
Message-ID: <20170731074959.30094.28435@320558c5528b>


Plugin Greek Open Data approval by pcav.
The plugin version "[1097] Greek Open Data 1.3" is now approved
Link: http://plugins.qgis.org/plugins/GreekOpenData/

From cavallini at faunalia.it  Mon Jul 31 06:30:36 2017
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon, 31 Jul 2017 15:30:36 +0200
Subject: [QGIS-Developer] Let's bring documentation at the heart of QGIS
 Desktop...
In-Reply-To: <CAECJsSpqW_w1J+N_SButdDZaz9BwY1Ry8k-cHqp2qY67OTSN_g@mail.gmail.com>
References: <CAECJsSpqW_w1J+N_SButdDZaz9BwY1Ry8k-cHqp2qY67OTSN_g@mail.gmail.com>
Message-ID: <7c46048d-9389-fec6-e494-881fda30dcd8@faunalia.it>

Il 29/07/2017 17:46, DelazJ ha scritto:

> Hoping that will be useful to the Project...

very much so, thanks!

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html
https://www.google.com/trends/explore?date=all&geo=IT&q=qgis,arcgis

From noreply at qgis.org  Mon Jul 31 07:30:40 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 31 Jul 2017 14:30:40 -0000
Subject: [QGIS-Developer] Plugin [255] QTiles approval notification.
Message-ID: <20170731143040.30094.108@320558c5528b>


Plugin QTiles approval by nextgis.
The plugin version "[255] QTiles 1.5.2" is now unapproved
Link: http://plugins.qgis.org/plugins/qtiles/

From noreply at qgis.org  Mon Jul 31 07:34:55 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Mon, 31 Jul 2017 14:34:55 -0000
Subject: [QGIS-Developer] Plugin [255] QTiles approval notification.
Message-ID: <20170731143455.30703.34968@320558c5528b>


Plugin QTiles approval by nextgis.
The plugin version "[255] QTiles 1.5.2" is now approved
Link: http://plugins.qgis.org/plugins/qtiles/

From noreply at qgis.org  Mon Jul 31 23:07:20 2017
From: noreply at qgis.org (noreply at qgis.org)
Date: Tue, 01 Aug 2017 06:07:20 -0000
Subject: [QGIS-Developer] Plugin [761] Clip Multiple Layers approval
	notification.
Message-ID: <20170801060720.30094.97827@320558c5528b>


Plugin Clip Multiple Layers approval by pcav.
The plugin version "[761] Clip Multiple Layers 0.1.6" is now approved
Link: http://plugins.qgis.org/plugins/ClipMultipleLayers/

From thijssie2008 at gmail.com  Mon Jul 31 23:34:03 2017
From: thijssie2008 at gmail.com (Matthijs Bon)
Date: Tue, 01 Aug 2017 06:34:03 +0000
Subject: [QGIS-Developer] (Multi)Threads in QGIS plugins
Message-ID: <CAERTE7Jtg_UpK6K6WzN0zP448uxgj6tpzkQq=9AfQUWEZU2u3A@mail.gmail.com>

Hi,

I was working on a plugin, but I wanted to increase performance by using
multiple threads for my plugin. I was doing this either by creating a
QObject and moving it to a new QThread, but I also tried inheriting from a
QThread class, but both options didn't have any performance increase.

In general my code workflow is as follows (I tried both 1a and 1b):
1a. plugin_dialog.accept() starts two workers (class
FeatureSelector(QThread))
1b. plugin_dialog.accept() starts two workers (class Worker(QObject)) and
moves each instance to a seperate QThread
2. Each worker iterates over half of the total features and select features
based on a expression (QgsFeatureRequest().setFilterExpression(expression)).
3. On signal finished of each FeatureSelector instance, the return values
are put back together again and used to create a new memory layer)

I thought, maybe QGIS already optimized threads and therefore, this is the
fastest my plugin is going to be, no matter how many threads I use? Or
maybe there is a better way of running multiple threads in QGIS?

Best,
Matthijs
-- 
*Matthijs Bon*
*Student Geomatics*
*Delft University of Technology*
*4133390*

*T:* +31 (0)6 816 766 79
*E: *thijssie2008 at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20170801/5471e82e/attachment.html>

