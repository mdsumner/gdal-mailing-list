From marco.hugentobler at karto.baug.ethz.ch  Thu Nov  1 03:13:54 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:14 2008
Subject: [Qgis-developer] [Qgis-user] WMS Rendering Problems
In-Reply-To: <d368056f0710311855j18dc3441s63d509e657458e17@mail.gmail.com>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<472809EC.9050204@comcast.net>
	<d368056f0710311855j18dc3441s63d509e657458e17@mail.gmail.com>
Message-ID: <200711010813.54155.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

Could you wait a few days before applying the patch? I'd like to look at it, 
but cannot do it before Saturday.

Regards,
Marco

On Thursday 01 November 2007 02:55:39 Tim Sutton wrote:
> Hi
>
> Was anyone able to test Toms patch? Can we go ahead and apply it to
> trunk? We would like to do a follow up release of QGIS 0.9.1 in the
> next few days - in particular to provide updated binaries to address
> some GRASS issues Martin fixed, and to provide a Toms WMS fix.
>
> Best regards
>
> Tim
>
> 2007/10/31, Tom Elwertowski <telwertowski@comcast.net>:
> > J?rgen E. Fischer wrote:
> > > I'd like to test it.  Where's the patch?
> >
> > Here's a patch for the current (r3707) trunk:
> > http://www.compassowl.com/qgis_wms_async.diff
> >
> > Tom
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From marco.hugentobler at karto.baug.ethz.ch  Thu Nov  1 03:13:54 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user] WMS Rendering Problems
In-Reply-To: <d368056f0710311855j18dc3441s63d509e657458e17@mail.gmail.com>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<472809EC.9050204@comcast.net>
	<d368056f0710311855j18dc3441s63d509e657458e17@mail.gmail.com>
Message-ID: <200711010813.54155.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

Could you wait a few days before applying the patch? I'd like to look at it, 
but cannot do it before Saturday.

Regards,
Marco

On Thursday 01 November 2007 02:55:39 Tim Sutton wrote:
> Hi
>
> Was anyone able to test Toms patch? Can we go ahead and apply it to
> trunk? We would like to do a follow up release of QGIS 0.9.1 in the
> next few days - in particular to provide updated binaries to address
> some GRASS issues Martin fixed, and to provide a Toms WMS fix.
>
> Best regards
>
> Tim
>
> 2007/10/31, Tom Elwertowski <telwertowski@comcast.net>:
> > J?rgen E. Fischer wrote:
> > > I'd like to test it.  Where's the patch?
> >
> > Here's a patch for the current (r3707) trunk:
> > http://www.compassowl.com/qgis_wms_async.diff
> >
> > Tom
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From marco.hugentobler at karto.baug.ethz.ch  Thu Nov  1 03:41:47 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] color ramps for vector graduated symbols
	(ticket #782)
In-Reply-To: <d368056f0710311919u39f19d32h3bc393f3228a1bbf@mail.gmail.com>
References: <200710251500.00516.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0710311919u39f19d32h3bc393f3228a1bbf@mail.gmail.com>
Message-ID: <200711010841.47788.marco.hugentobler@karto.baug.ethz.ch>

Hi Matthew and Tim,

>Looking over some color ramp formats, it looks like the GMT .cpt format is 
>the most flexible and allows you to define either continuous or discrete RGB 
>ramps across any range of z-values. Since there is no easy quick flag to 
>specify a discrete vs continuous color ramp in the cpt file itself, the 
>easiest way to differentiate may be to store them in separate folders within 
>a main color ramp directory. 
>prefix/share/qgis/ramps/discrete prefix/share/qgis/ramps/continuous

Another possibility would be to extend the continuous renderer in qgis and 
apply a discrete ramp for 'graduated symbol' and a continuous ramp 
for 'continuous color' renderer.

> The MatLab colour map editor is show here (scroll down a little for a
> screenie):
>
> http://tinyurl.com/27gbra

That looks great!

I'll try to take a look at the patch on Saturday.

Regards,
Marco

On Thursday 01 November 2007 03:19:51 Tim Sutton wrote:
> Hi
>
> Are you guys familiar with MatLab? I was hoping we could at some point
> implement a colour ramp editor similar to what they have. Also, it
> would be great to include Peter Ersts (Raster maintainer) in this
> process so we could use the same markup system in both raster and
> vector implementations (where applicable).
>
> The MatLab colour map editor is show here (scroll down a little for a
> screenie):
>
> http://tinyurl.com/27gbra
>
> Regards
>
> Tim
>
> 2007/10/25, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> > Hi Perrygeo,
> >
> > A flexible solution for color ramps as you describe it in ticket 782
> > would be a really great enhancement for qgis.
> >
> > >The remaining questions are:
> > > - what file format works to define the color ramps? have to allow for
> > > all 4 of the above types. As much as possible, leverage existing
> > > formats like gmt and grass color ramps.
> > >
> >  >- how do the ramps get "registered" with qgis so that they can be made
> > >
> > >available to the user?
> > >- how do they get integrated with the UI? preferably a dropdown list of
> > > color ramps with a small representative image of the ramp itself.
> > > - how to we implement the algorithm to determine the rgb color for
> > > ramps of type #1 and #2?
> >
> > Registered ramps could be stored in a dedicated directory under
> > share/qgis, similar to the way it is done with the svg markers.
> >
> > Hopefully you can find a good storage format for the ramps. If there is
> > no format that meets all your requirements, you could still design your
> > own xml based language  (crml = color ramp markup language)
> >
> > Regards,
> > Marco
> >
> >
> >
> >
> > --
> > Dr. Marco Hugentobler
> > Institute of Cartography
> > ETH Zurich
> > Technical Advisor QGIS Project Steering Committee
> > marco.hugentobler@karto.baug.ethz.ch
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From tim at linfiniti.com  Thu Nov  1 04:31:30 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] grass raster in qgis svn
In-Reply-To: <0E86C6CB-EC07-4A46-A58D-6C8424602F26@yahoo.it>
References: <0E86C6CB-EC07-4A46-A58D-6C8424602F26@yahoo.it>
Message-ID: <d368056f0711010131w5a559bfev2000f434bc545eca@mail.gmail.com>

Hi

Is this still an issue from latest QGIS and Grass trunks?

Regards

Tim

2007/10/22, massimo di stefano <massimodisasha@yahoo.it>:
> Hi,
>
> on osx
> using the last qgis svn + grass cvs
> qgis crash if i try to load any raster files.
>
> i have the crash only when start qgis.app , open a grass mapset and
> load a raster file.
>
> while calling qgis from the grass shall, all works fine.
>
>
> runnig qgis from the bash shall, imnstead of qgis.app, i've this log :
>
> Raster Algebra: renderTest called!
> QgsGrassPlugin::addRaster
> QgsGrass::rasters()
> QgsGrass::rasters()
> error_routine (fatal = 1): Null values have not been initialized.
> G_gisinit() must be called first. Please advise GRASS developers of
> this error.
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From benjamin.ducke at ufg.uni-kiel.de  Thu Nov  1 04:34:08 2007
From: benjamin.ducke at ufg.uni-kiel.de (Benjamin Ducke)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] bugs list
In-Reply-To: <d368056f0710311906v5a02db09ua2b0735dc893555b@mail.gmail.com>
References: <47258E94.3010402@faunalia.it>	<d368056f0710290909x76829e27xb9c6a6d8bfa04580@mail.gmail.com>	<4726112F.1000402@faunalia.it>
	<d368056f0710311906v5a02db09ua2b0735dc893555b@mail.gmail.com>
Message-ID: <47298F80.3040207@ufg.uni-kiel.de>

Bug 738 can be closed (finally).
I've misplaced my tracker account so if someone else
could do that ...

Cheers,

Benjamin

Tim Sutton wrote:
> Hi Paolo
> 
> So Ive updated all open bugs to 0.9.1 using some sql update query -
> will be good to see if anything got missed. I've also added a new
> convenience link to the front of the wiki that takes you to the 0.9.1
> queue. I'm guessing we will be doing it all again in a week or so if
> we get a short sharp 0.9.1 release out - I'm just waiting to see if
> the WMS patch is ok to be appled.
> 
> I was going to suggest for 0.9.2 that we try to get developers and
> contributors (those wiling to participate anyway...) to all try to
> kill 5 or 10 bugs each - which would make a nice dent in our bug
> queue. We could have like a month wndow for that bug killing spree
> then do a 0.9.2. After that we can start bringing in things from
> branches on a selective basis.
> 
> Any assistance on the bug queue to identify duplicates and already
> fixed issues will always be appreciated.
> 
> Best regards
> 
> Tim
> 
> 2007/10/29, Paolo Cavallini <cavallini@faunalia.it>:
>> Tim Sutton ha scritto:
>>> Hi
>>>
>>> Yes I will be reclassifying all open bugs as targeted to 0.9.1.
>> If we can help, just let us know.
>> pc
>> --
>> Paolo Cavallini, see: http://www.faunalia.it/pc
>>
>>
>>
> 
> 

-- 
Benjamin Ducke, M.A.
Arch?oinformatik
(Archaeoinformation Science)
Institut f?r Ur- und Fr?hgeschichte
(Inst. of Prehistoric and Historic Archaeology)
Christian-Albrechts-Universit?t zu Kiel
Johanna-Mestorf-Stra?e 2-6
D 24098 Kiel
Germany

Tel.: ++49 (0)431 880-3378 / -3379
Fax : ++49 (0)431 880-7300
www.uni-kiel.de/ufg


From b.rowlingson at lancaster.ac.uk  Thu Nov  1 04:35:59 2007
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] color ramps for vector graduated
 symbols	(ticket #782)
In-Reply-To: <200711010841.47788.marco.hugentobler@karto.baug.ethz.ch>
References: <200710251500.00516.marco.hugentobler@karto.baug.ethz.ch>	<d368056f0710311919u39f19d32h3bc393f3228a1bbf@mail.gmail.com>
	<200711010841.47788.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47298FEF.3040700@lancaster.ac.uk>

Marco Hugentobler wrote:

>>The MatLab colour map editor is show here (scroll down a little for a
>>screenie):
>>
>>http://tinyurl.com/27gbra
> 
> 
> That looks great!

  I wrote a colour ramp editor in Python for Qt, based on some C++ 
source I think I found in the Qt examples. It returns a 
QtGui.QLinearGradient object. You get the little triangles for dragging 
around the map, you can double click to add new colours and so on.

  Go here and get rampEditor.zip, then run "python RampEditor.py" - its 
only two files and extracts to the current directory:

http://www.maths.lancs.ac.uk/~rowlings/Geog/Qgis/

  (obviously you need PyQt4 module for your python).

  I wrote it as a widget that can be inserted into dialogs. When you run 
the example you'll see my gradient widget and a "colour square" widget 
below. This is for testing drag-n-drop. Right-click on the colour square 
(I should add a double-click option) to choose a colour, then drag and 
drop this onto the gradient bar.

  Gradient bar triangles can be dragged and double-clicked. I'm sure 
they can be deleted... Somehow... Oh, maybe that needs adding. I think 
there may be some off-by-one errors in the triangle placement too.. This 
is work in progress....

  The grooviest ramp editor I've seen is in Adobe Illustrator, where you 
basically draw a spline that interpolates between your colours in 
whatever colour space you are interested in. Hence you can easily create 
colour ramps in hue and saturation as well as linear RGB values.

  Also, it may also be worth looking into the ColorBrewer palettes for 
presets for classifications:

http://www.personal.psu.edu/cab38/ColorBrewer/ColorBrewer_intro.html

Barry


From tim at linfiniti.com  Thu Nov  1 04:46:55 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user] WMS Rendering Problems
In-Reply-To: <20071101073930.GA5618@norbit.de>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<4727127F.6020004@arava.co.il> <47277CBA.4030407@comcast.net>
	<20071030202747.GA14346@norbit.de> <472809EC.9050204@comcast.net>
	<d368056f0710311855j18dc3441s63d509e657458e17@mail.gmail.com>
	<20071101073930.GA5618@norbit.de>
Message-ID: <d368056f0711010146n5d47aa7bg71abe3b3c9d1525e@mail.gmail.com>

Hi

2007/11/1, J?rgen E. Fischer <jef@norbit.de>:
> Hi Tim,
>
> On Wed, 31. Oct 2007 at 22:55:39 -0300, Tim Sutton wrote:
> > Was anyone able to test Toms patch? Can we go ahead and apply it to
> > trunk? We would like to do a follow up release of QGIS 0.9.1 in the
> > next few days - in particular to provide updated binaries to address
> > some GRASS issues Martin fixed, and to provide a Toms WMS fix.
>
> I tested.  The attached path includes a few more changes that made it
> work for me (notably the handling of redirections in
> QgsHttpTransaction).
>

Great!

> Have you looked at the patch?  We probably don't want the upper layers
> to know about WMS and need a more generic way to handle data providers
> asynchronously.
>

I had a look at Toms patch. From what I can see the main upper level
API that does this is here:

@@ -617,7 +657,24 @@

 void QgsMapRender::setLayerSet(const QStringList& layers)
 {
+  QgsMapLayerRegistry* registry = QgsMapLayerRegistry::instance();
+  QStringList::iterator it = mLayerSet.begin();
+  while (it != mLayerSet.end())
+  {
+    QgsRasterLayer *rl = dynamic_cast<QgsRasterLayer
*>(registry->mapLayer(*it));
+    if (rl && rl->providerKey() == "wms")
+      disconnect(rl, SIGNAL(imageAvailable()), this, SLOT(asyncLayerDone()));
+    ++it;
+  }
   mLayerSet = layers;
+  it = mLayerSet.begin();
+  while (it != mLayerSet.end())
+  {
+    QgsRasterLayer *rl = dynamic_cast<QgsRasterLayer
*>(registry->mapLayer(*it));
+    if (rl && rl->providerKey() == "wms")
+      connect(rl, SIGNAL(imageAvailable()), this, SLOT(asyncLayerDone()));
+    ++it;
+  }
   updateFullExtent();
 }

The other parts dont look problematic to me. So basically we just need
to figure out a way to move that logic down the stack somehow. I do
wonder if the imageAvailable() could not be implemented rather as a
more generic QgsMapLayer::dataAvailable() - I can envisage a situation
where this same functionality could be useful for WFS or indeed for
renderers that spawn a separate thread in the future (might be nice
e.g. in postgres/postgis to fetch large queries back for example).

Regards

Tim

>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Thu Nov  1 05:15:33 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] color ramps for vector graduated symbols
	(ticket #782)
In-Reply-To: <47298FEF.3040700@lancaster.ac.uk>
References: <200710251500.00516.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0710311919u39f19d32h3bc393f3228a1bbf@mail.gmail.com>
	<200711010841.47788.marco.hugentobler@karto.baug.ethz.ch>
	<47298FEF.3040700@lancaster.ac.uk>
Message-ID: <d368056f0711010215l5449f380kac83df3d7abb8a17@mail.gmail.com>

Hi Barry

Yeah thats exactly the kind of thing I had in mind. I tried it out and
it works great except the pallette chooser below was broken for me
(see screenie) - I just get a big black block there.

So maybe we should just port this to C++ and stick it in qgis_gui lib?

Regards

Tim

2007/11/1, Barry Rowlingson <b.rowlingson@lancaster.ac.uk>:
> Marco Hugentobler wrote:
>
> >>The MatLab colour map editor is show here (scroll down a little for a
> >>screenie):
> >>
> >>http://tinyurl.com/27gbra
> >
> >
> > That looks great!
>
>   I wrote a colour ramp editor in Python for Qt, based on some C++
> source I think I found in the Qt examples. It returns a
> QtGui.QLinearGradient object. You get the little triangles for dragging
> around the map, you can double click to add new colours and so on.
>
>   Go here and get rampEditor.zip, then run "python RampEditor.py" - its
> only two files and extracts to the current directory:
>
> http://www.maths.lancs.ac.uk/~rowlings/Geog/Qgis/
>
>   (obviously you need PyQt4 module for your python).
>
>   I wrote it as a widget that can be inserted into dialogs. When you run
> the example you'll see my gradient widget and a "colour square" widget
> below. This is for testing drag-n-drop. Right-click on the colour square
> (I should add a double-click option) to choose a colour, then drag and
> drop this onto the gradient bar.
>
>   Gradient bar triangles can be dragged and double-clicked. I'm sure
> they can be deleted... Somehow... Oh, maybe that needs adding. I think
> there may be some off-by-one errors in the triangle placement too.. This
> is work in progress....
>
>   The grooviest ramp editor I've seen is in Adobe Illustrator, where you
> basically draw a spline that interpolates between your colours in
> whatever colour space you are interested in. Hence you can easily create
> colour ramps in hue and saturation as well as linear RGB values.
>
>   Also, it may also be worth looking into the ColorBrewer palettes for
> presets for classifications:
>
> http://www.personal.psu.edu/cab38/ColorBrewer/ColorBrewer_intro.html
>
> Barry
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
-------------- next part --------------
A non-text attachment was scrubbed...
Name: colourRamp.jpg
Type: image/jpeg
Size: 15321 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071101/9801ee83/colourRamp.jpg
From jef+qgis at norbit.de  Thu Nov  1 05:27:41 2007
From: jef+qgis at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user] WMS Rendering Problems
In-Reply-To: <20071101073930.GA5618@norbit.de>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<4727127F.6020004@arava.co.il> <47277CBA.4030407@comcast.net>
	<20071030202747.GA14346@norbit.de> <472809EC.9050204@comcast.net>
	<d368056f0710311855j18dc3441s63d509e657458e17@mail.gmail.com>
	<20071101073930.GA5618@norbit.de>
Message-ID: <20071101092740.GA14414@norbit.de>

Hi Tim,

On Thu, 01. Nov 2007 at 08:39:30 +0100, J?rgen E. Fischer wrote:
> I tested.  The attached path includes a few more changes that made it
> work for me (notably the handling of redirections in
> QgsHttpTransaction).

grmpf.  I worked on the problem before Tom's patch and found that the
statusbar output also contributes to it and disabled it.  As Tom's patch
didn't touch that, I missed to include that change.

The attached patch also changes the debug output for MSVC.  Without calling
qInstallMsgHandler the output goes to the debugger and the slight change
in format allows you to double-click on the line and jump directly to
the piece of code.  Kind of neat.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

-------------- next part --------------
A non-text attachment was scrubbed...
Name: diff
Type: text/x-diff
Size: 2814 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071101/2a472121/diff.bin
From tim at linfiniti.com  Thu Nov  1 05:28:20 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] bugs list
In-Reply-To: <47298F80.3040207@ufg.uni-kiel.de>
References: <47258E94.3010402@faunalia.it>
	<d368056f0710290909x76829e27xb9c6a6d8bfa04580@mail.gmail.com>
	<4726112F.1000402@faunalia.it>
	<d368056f0710311906v5a02db09ua2b0735dc893555b@mail.gmail.com>
	<47298F80.3040207@ufg.uni-kiel.de>
Message-ID: <d368056f0711010228h73cffca6s9c901aa178471794@mail.gmail.com>

Hi

Thanks, I closed the bug. Let me know if you want me to reset your password.

Regards

Tim

2007/11/1, Benjamin Ducke <benjamin.ducke@ufg.uni-kiel.de>:
> Bug 738 can be closed (finally).
> I've misplaced my tracker account so if someone else
> could do that ...
>
> Cheers,
>
> Benjamin
>
> Tim Sutton wrote:
> > Hi Paolo
> >
> > So Ive updated all open bugs to 0.9.1 using some sql update query -
> > will be good to see if anything got missed. I've also added a new
> > convenience link to the front of the wiki that takes you to the 0.9.1
> > queue. I'm guessing we will be doing it all again in a week or so if
> > we get a short sharp 0.9.1 release out - I'm just waiting to see if
> > the WMS patch is ok to be appled.
> >
> > I was going to suggest for 0.9.2 that we try to get developers and
> > contributors (those wiling to participate anyway...) to all try to
> > kill 5 or 10 bugs each - which would make a nice dent in our bug
> > queue. We could have like a month wndow for that bug killing spree
> > then do a 0.9.2. After that we can start bringing in things from
> > branches on a selective basis.
> >
> > Any assistance on the bug queue to identify duplicates and already
> > fixed issues will always be appreciated.
> >
> > Best regards
> >
> > Tim
> >
> > 2007/10/29, Paolo Cavallini <cavallini@faunalia.it>:
> >> Tim Sutton ha scritto:
> >>> Hi
> >>>
> >>> Yes I will be reclassifying all open bugs as targeted to 0.9.1.
> >> If we can help, just let us know.
> >> pc
> >> --
> >> Paolo Cavallini, see: http://www.faunalia.it/pc
> >>
> >>
> >>
> >
> >
>
> --
> Benjamin Ducke, M.A.
> Arch?oinformatik
> (Archaeoinformation Science)
> Institut f?r Ur- und Fr?hgeschichte
> (Inst. of Prehistoric and Historic Archaeology)
> Christian-Albrechts-Universit?t zu Kiel
> Johanna-Mestorf-Stra?e 2-6
> D 24098 Kiel
> Germany
>
> Tel.: ++49 (0)431 880-3378 / -3379
> Fax : ++49 (0)431 880-7300
> www.uni-kiel.de/ufg
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From marco.hugentobler at karto.baug.ethz.ch  Thu Nov  1 05:32:01 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user] WMS Rendering Problems
In-Reply-To: <d368056f0711010146n5d47aa7bg71abe3b3c9d1525e@mail.gmail.com>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<20071101073930.GA5618@norbit.de>
	<d368056f0711010146n5d47aa7bg71abe3b3c9d1525e@mail.gmail.com>
Message-ID: <200711011032.01857.marco.hugentobler@karto.baug.ethz.ch>

Hi J?rgen and Tim,

I would also prefer that code for asynchronous requests is as invisible as 
possible.

WFS provider already uses asynchronous requests for quite a while, using 
direclty QHttp, not QgsHttpTransaction (see code in 
src/providers/wfs/qgswfsdata.cpp/h).

I changed the postgis provider in svn a few weeks ago to make asynchronous 
requests. It now uses the asynchronous call 'PQsendQuery' that is provided by  
libpq. That means while the database server collects and sends the next 200 
features, QGIS already draws the ones from the last request. I only tested 
with one remote database, and the performance effect was quite large. For 
local databases, performance gain is not very large.

For these two providers, the asynchronous requests are completely handled 
inside the provider code (which makes it quite invisible for the rest of the 
code). 

A benefit of a higher level code could be that requests to several WMS servers 
can be released one after each other and once everything is there, the images 
are drawn in the correct order. This makes operations with several servers 
very fast and is not possible with the solution on provider level.

Regards,
Marco  
 

On Thursday 01 November 2007 09:46:55 Tim Sutton wrote:
> Hi
>
> 2007/11/1, J?rgen E. Fischer <jef@norbit.de>:
> > Hi Tim,
> >
> > On Wed, 31. Oct 2007 at 22:55:39 -0300, Tim Sutton wrote:
> > > Was anyone able to test Toms patch? Can we go ahead and apply it to
> > > trunk? We would like to do a follow up release of QGIS 0.9.1 in the
> > > next few days - in particular to provide updated binaries to address
> > > some GRASS issues Martin fixed, and to provide a Toms WMS fix.
> >
> > I tested.  The attached path includes a few more changes that made it
> > work for me (notably the handling of redirections in
> > QgsHttpTransaction).
>
> Great!
>
> > Have you looked at the patch?  We probably don't want the upper layers
> > to know about WMS and need a more generic way to handle data providers
> > asynchronously.
>
> I had a look at Toms patch. From what I can see the main upper level
> API that does this is here:
>
> @@ -617,7 +657,24 @@
>
>  void QgsMapRender::setLayerSet(const QStringList& layers)
>  {
> +  QgsMapLayerRegistry* registry = QgsMapLayerRegistry::instance();
> +  QStringList::iterator it = mLayerSet.begin();
> +  while (it != mLayerSet.end())
> +  {
> +    QgsRasterLayer *rl = dynamic_cast<QgsRasterLayer
> *>(registry->mapLayer(*it));
> +    if (rl && rl->providerKey() == "wms")
> +      disconnect(rl, SIGNAL(imageAvailable()), this,
> SLOT(asyncLayerDone())); +    ++it;
> +  }
>    mLayerSet = layers;
> +  it = mLayerSet.begin();
> +  while (it != mLayerSet.end())
> +  {
> +    QgsRasterLayer *rl = dynamic_cast<QgsRasterLayer
> *>(registry->mapLayer(*it));
> +    if (rl && rl->providerKey() == "wms")
> +      connect(rl, SIGNAL(imageAvailable()), this, SLOT(asyncLayerDone()));
> +    ++it;
> +  }
>    updateFullExtent();
>  }
>
> The other parts dont look problematic to me. So basically we just need
> to figure out a way to move that logic down the stack somehow. I do
> wonder if the imageAvailable() could not be implemented rather as a
> more generic QgsMapLayer::dataAvailable() - I can envisage a situation
> where this same functionality could be useful for WFS or indeed for
> renderers that spawn a separate thread in the future (might be nice
> e.g. in postgres/postgis to fetch large queries back for example).
>
> Regards
>
> Tim
>
> > J?rgen
> >
> > --
> > J?rgen E. Fischer         norBIT GmbH               Tel.
> > +49-4931-918175-0 Dipl.-Inf. (FH)           Rheinstra?e 13           
> > Fax. +49-4931-918175-50 Software Engineer         D-26506 Norden         
> >      http://www.norbit.de
> >
> > --
> > norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> > Rheinstrasse 13, 26506 Norden
> > GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From tim at linfiniti.com  Thu Nov  1 05:45:15 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user] WMS Rendering Problems
In-Reply-To: <200711011032.01857.marco.hugentobler@karto.baug.ethz.ch>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<20071101073930.GA5618@norbit.de>
	<d368056f0711010146n5d47aa7bg71abe3b3c9d1525e@mail.gmail.com>
	<200711011032.01857.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0711010245r7e8837avd86bfa1fab5b3dda@mail.gmail.com>

Hi

Agreed, what you say makes good sense to me...

Some time ago I also mentioned implementing a composition engine. It
seems to me if QgsMapLayer inherited qthread, and layers emitted two
signals:

renderUpdated(QPixmap)    (or whatever appropriate paint device)
renderCompleted(QPixmap)

we could just start each layer rendering in its own thread and long
running operations could happen concurrently. Then the composition
manager can just update its cached copy of each layer being rendered
as it receives those signals, and then trigger a canvas repaint as
needed. It would seem to me we would get a good performance boost
assuming we dont run into issues e.g. spawning 1000's of threads if
the user has 1000's of layers loaded. Anyway now I am probably
wondering far off topic into feature dreamland again...

Regards

Tim

Regards

Tim

2007/11/1, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi J?rgen and Tim,
>
> I would also prefer that code for asynchronous requests is as invisible as
> possible.
>
> WFS provider already uses asynchronous requests for quite a while, using
> direclty QHttp, not QgsHttpTransaction (see code in
> src/providers/wfs/qgswfsdata.cpp/h).
>
> I changed the postgis provider in svn a few weeks ago to make asynchronous
> requests. It now uses the asynchronous call 'PQsendQuery' that is provided by
> libpq. That means while the database server collects and sends the next 200
> features, QGIS already draws the ones from the last request. I only tested
> with one remote database, and the performance effect was quite large. For
> local databases, performance gain is not very large.
>
> For these two providers, the asynchronous requests are completely handled
> inside the provider code (which makes it quite invisible for the rest of the
> code).
>
> A benefit of a higher level code could be that requests to several WMS servers
> can be released one after each other and once everything is there, the images
> are drawn in the correct order. This makes operations with several servers
> very fast and is not possible with the solution on provider level.
>
> Regards,
> Marco
>
>
> On Thursday 01 November 2007 09:46:55 Tim Sutton wrote:
> > Hi
> >
> > 2007/11/1, J?rgen E. Fischer <jef@norbit.de>:
> > > Hi Tim,
> > >
> > > On Wed, 31. Oct 2007 at 22:55:39 -0300, Tim Sutton wrote:
> > > > Was anyone able to test Toms patch? Can we go ahead and apply it to
> > > > trunk? We would like to do a follow up release of QGIS 0.9.1 in the
> > > > next few days - in particular to provide updated binaries to address
> > > > some GRASS issues Martin fixed, and to provide a Toms WMS fix.
> > >
> > > I tested.  The attached path includes a few more changes that made it
> > > work for me (notably the handling of redirections in
> > > QgsHttpTransaction).
> >
> > Great!
> >
> > > Have you looked at the patch?  We probably don't want the upper layers
> > > to know about WMS and need a more generic way to handle data providers
> > > asynchronously.
> >
> > I had a look at Toms patch. From what I can see the main upper level
> > API that does this is here:
> >
> > @@ -617,7 +657,24 @@
> >
> >  void QgsMapRender::setLayerSet(const QStringList& layers)
> >  {
> > +  QgsMapLayerRegistry* registry = QgsMapLayerRegistry::instance();
> > +  QStringList::iterator it = mLayerSet.begin();
> > +  while (it != mLayerSet.end())
> > +  {
> > +    QgsRasterLayer *rl = dynamic_cast<QgsRasterLayer
> > *>(registry->mapLayer(*it));
> > +    if (rl && rl->providerKey() == "wms")
> > +      disconnect(rl, SIGNAL(imageAvailable()), this,
> > SLOT(asyncLayerDone())); +    ++it;
> > +  }
> >    mLayerSet = layers;
> > +  it = mLayerSet.begin();
> > +  while (it != mLayerSet.end())
> > +  {
> > +    QgsRasterLayer *rl = dynamic_cast<QgsRasterLayer
> > *>(registry->mapLayer(*it));
> > +    if (rl && rl->providerKey() == "wms")
> > +      connect(rl, SIGNAL(imageAvailable()), this, SLOT(asyncLayerDone()));
> > +    ++it;
> > +  }
> >    updateFullExtent();
> >  }
> >
> > The other parts dont look problematic to me. So basically we just need
> > to figure out a way to move that logic down the stack somehow. I do
> > wonder if the imageAvailable() could not be implemented rather as a
> > more generic QgsMapLayer::dataAvailable() - I can envisage a situation
> > where this same functionality could be useful for WFS or indeed for
> > renderers that spawn a separate thread in the future (might be nice
> > e.g. in postgres/postgis to fetch large queries back for example).
> >
> > Regards
> >
> > Tim
> >
> > > J?rgen
> > >
> > > --
> > > J?rgen E. Fischer         norBIT GmbH               Tel.
> > > +49-4931-918175-0 Dipl.-Inf. (FH)           Rheinstra?e 13
> > > Fax. +49-4931-918175-50 Software Engineer         D-26506 Norden
> > >      http://www.norbit.de
> > >
> > > --
> > > norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> > > Rheinstrasse 13, 26506 Norden
> > > GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
> marco.hugentobler@karto.baug.ethz.ch
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Thu Nov  1 06:22:47 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user] WMS Rendering Problems
In-Reply-To: <20071101092740.GA14414@norbit.de>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<4727127F.6020004@arava.co.il> <47277CBA.4030407@comcast.net>
	<20071030202747.GA14346@norbit.de> <472809EC.9050204@comcast.net>
	<d368056f0710311855j18dc3441s63d509e657458e17@mail.gmail.com>
	<20071101073930.GA5618@norbit.de> <20071101092740.GA14414@norbit.de>
Message-ID: <d368056f0711010322o8b65bcdgd47c476aad66940d@mail.gmail.com>

Hi

I've patched in the MSVC logger parts of J?rgens changes since this is
already useful to me with the MSVC work I am doing. I left the other
parts of the patch out of SVN pending completion of this discussion.

Regards

Tim

2007/11/1, J?rgen E. Fischer <jef+qgis@norbit.de>:
> Hi Tim,
>
> On Thu, 01. Nov 2007 at 08:39:30 +0100, J?rgen E. Fischer wrote:
> > I tested.  The attached path includes a few more changes that made it
> > work for me (notably the handling of redirections in
> > QgsHttpTransaction).
>
> grmpf.  I worked on the problem before Tom's patch and found that the
> statusbar output also contributes to it and disabled it.  As Tom's patch
> didn't touch that, I missed to include that change.
>
> The attached patch also changes the debug output for MSVC.  Without calling
> qInstallMsgHandler the output goes to the debugger and the slight change
> in format allows you to double-click on the line and jump directly to
> the piece of code.  Kind of neat.
>
>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From marco.hugentobler at karto.baug.ethz.ch  Thu Nov  1 07:23:42 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] 'Publish to web' plugin for QGIS mapserver
In-Reply-To: <5383fa5e0705111523v3506c275n6999a0743ee4fe54@mail.gmail.com>
References: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>
	<5383fa5e0705111523v3506c275n6999a0743ee4fe54@mail.gmail.com>
Message-ID: <200711011223.42793.marco.hugentobler@karto.baug.ethz.ch>

On Saturday 12 May 2007 00:23:59 Matthew Perry wrote:
> Would it be feasible to extend the QGIS wms server to read directly
> from .qgs files? I think one of the main benefits of having a
> QGIS-based WMS server would be to combine the configuration of desktop
> and web maps into a single format. Wouldn't it nice to stylize your
> map in qgis then immediately make that .qgs project file immediately
> available on the web?

This is now possible with the 'publish to web' plugin. Just load layers into 
qgis, symbolize them, open the 'publish to web' plugin to export the current 
project to the web.

On the QGIS mapserver page 
(http://karlinapp.ethz.ch/qgis_wms/download/index.html) there are sources and 
binary packages available, both for 'QGIS mapserver' and the 'publish to web' 
Plugin.

So if you have apache and FastCGI configured, it is straightforward to publish 
your QGIS maps on the web (and if not, it is also straightforward to install 
the packages apache2, libapache2-mod-fcgid and libfcgi0c2 on Linux).


Regards,
Marco


-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From otto.dassau at gmx.de  Thu Nov  1 07:59:51 2007
From: otto.dassau at gmx.de (Otto Dassau)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Translators of the QGIS user interface
Message-ID: <20071101125951.55a4d710@nature>

Hi, 

we want to update the TranslatorsCorner, which tries to manage translations of
the text you see in the QGIS user interface:

http://wiki.qgis.org/qgiswiki/TranslatorsCorner

QGIS is translated into 26 languages, but there are some people missing
who translated the QGIS GUI into foreign languages in the table of the
TranslatorsCorner and we are not sure about the current status of the
translations. 

That's why I would like to ask everybody who contributed to the translation of
the QGIS user interface to check the wiki page and write a short email to me
(otto), what language you are working on, what the status is and if you are
still available to contribute in the future.

New translators are welcome as well, of course!

thanks a lot
 Otto

From benjamin.ducke at ufg.uni-kiel.de  Thu Nov  1 11:21:54 2007
From: benjamin.ducke at ufg.uni-kiel.de (Benjamin Ducke)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] compiling xerces on mingw
Message-ID: <4729EF12.306@ufg.uni-kiel.de>

Hi all,

the GRASS binaries for Win also need Xerces-C support.
I recall that Xerces is in the GDAL binaries for QGIS.
Could you post some instructions on which version of
the source code was used and how to compile it under
MinGW? I'd be very grateful for this, as it seems
to be somewhat complicated.

Best wishes,

Benjamin



-- 
Benjamin Ducke, M.A.
Arch?oinformatik
(Archaeoinformation Science)
Institut f?r Ur- und Fr?hgeschichte
(Inst. of Prehistoric and Historic Archaeology)
Christian-Albrechts-Universit?t zu Kiel
Johanna-Mestorf-Stra?e 2-6
D 24098 Kiel
Germany

Tel.: ++49 (0)431 880-3378 / -3379
Fax : ++49 (0)431 880-7300
www.uni-kiel.de/ufg


From mateusz at loskot.net  Thu Nov  1 12:32:16 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] compiling xerces on mingw
In-Reply-To: <4729EF12.306@ufg.uni-kiel.de>
References: <4729EF12.306@ufg.uni-kiel.de>
Message-ID: <54704.84.10.81.30.1193934736.squirrel@loskot.net>

Benjamin Ducke wrote:
> Hi all,
>
> the GRASS binaries for Win also need Xerces-C support.
> I recall that Xerces is in the GDAL binaries for QGIS.
> Could you post some instructions on which version of
> the source code was used and how to compile it under
> MinGW? I'd be very grateful for this, as it seems
> to be somewhat complicated.

Benjamin,

I've never used MinGW myself, but I can confirm that I successfully build
GDAL 1.4.x and SVN with GCC 4.x using following versions of Xerces:
2.7.0
2.8.0
3.0.0 (SVN)

Here you can find some confirmation about GDAL & Xerces:
http://trac.osgeo.org/gdal/ticket/1799
http://trac.osgeo.org/gdal/ticket/1924

Summarizing, I believe you can use any of these 3 versions with GDAL & QGIS,
but I'd suggest 2.8.0 as latest stable version.

Here you will find instructions about how to build Xerces using MinGW:

http://xerces.apache.org/xerces-c/build-winunix.html

See section "Building on UNIX/Linux/Mac OS X platforms".

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From benjamin.ducke at ufg.uni-kiel.de  Thu Nov  1 12:39:51 2007
From: benjamin.ducke at ufg.uni-kiel.de (Benjamin Ducke)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] compiling xerces on mingw
In-Reply-To: <54704.84.10.81.30.1193934736.squirrel@loskot.net>
References: <4729EF12.306@ufg.uni-kiel.de>
	<54704.84.10.81.30.1193934736.squirrel@loskot.net>
Message-ID: <472A0157.6060305@ufg.uni-kiel.de>

Thank Mateusz,

unfortunately, the runConfigure script keeps crashing on my
system, so the instructions on the webpage don't really work
for me. Oh well, guess I'll have to spend some extra time on
it.

Best,

Benjamin

Mateusz Loskot wrote:
> Benjamin Ducke wrote:
>> Hi all,
>>
>> the GRASS binaries for Win also need Xerces-C support.
>> I recall that Xerces is in the GDAL binaries for QGIS.
>> Could you post some instructions on which version of
>> the source code was used and how to compile it under
>> MinGW? I'd be very grateful for this, as it seems
>> to be somewhat complicated.
> 
> Benjamin,
> 
> I've never used MinGW myself, but I can confirm that I successfully build
> GDAL 1.4.x and SVN with GCC 4.x using following versions of Xerces:
> 2.7.0
> 2.8.0
> 3.0.0 (SVN)
> 
> Here you can find some confirmation about GDAL & Xerces:
> http://trac.osgeo.org/gdal/ticket/1799
> http://trac.osgeo.org/gdal/ticket/1924
> 
> Summarizing, I believe you can use any of these 3 versions with GDAL & QGIS,
> but I'd suggest 2.8.0 as latest stable version.
> 
> Here you will find instructions about how to build Xerces using MinGW:
> 
> http://xerces.apache.org/xerces-c/build-winunix.html
> 
> See section "Building on UNIX/Linux/Mac OS X platforms".
> 
> Cheers

-- 
Benjamin Ducke, M.A.
Arch?oinformatik
(Archaeoinformation Science)
Institut f?r Ur- und Fr?hgeschichte
(Inst. of Prehistoric and Historic Archaeology)
Christian-Albrechts-Universit?t zu Kiel
Johanna-Mestorf-Stra?e 2-6
D 24098 Kiel
Germany

Tel.: ++49 (0)431 880-3378 / -3379
Fax : ++49 (0)431 880-7300
www.uni-kiel.de/ufg


From aaronr at z-pulley.com  Thu Nov  1 12:46:57 2007
From: aaronr at z-pulley.com (Aaron Racicot)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] compiling xerces on mingw
In-Reply-To: <472A0157.6060305@ufg.uni-kiel.de>
Message-ID: <20071101164702.5F4B5129B3A@spunkymail-a13.g.dreamhost.com>

Benjamin,
I think Tisham (what_nick) has done this with success for the latest windows
release of QGIS (see email below where he talks about GML support).  You
might try to email him and/or get on IRC and try to catch him.

Aaron

+----------------------------------------+
 Aaron Racicot - GIS Programmer   
 360.221.2441 - aaronr@z-pulley.com          
+----------------------------------------+
 z - p u l l e y                        
 pobox 1614
 langley wa 98260
 www.reprojected.com                       
+----------------------------------------+

-----Original Message-----
From: qgis-developer-bounces@lists.qgis.org
[mailto:qgis-developer-bounces@lists.qgis.org] On Behalf Of Tisham Dhar
Sent: Wednesday, October 17, 2007 9:51 PM
To: qgis-developer@lists.qgis.org
Subject: [Qgis-developer] Windows Installer

Hi All,

Latest windows installer is here:
http://whatnick.dyndns.org:8080/tisham/qgis_setup0.9.0.17_10_2007.exe

It features bundled Python25.dll-Sip and PyQt4, so the users can install
without downloading anything else. Since Python is the big new feature
in 0.9.0 I hope this installer will become accepted with only minor
changes. Making a Python free one will be a bit more copy pasting and
rebuilding, I don't want to do make it unless it is really necessary.

For anyone interested in GML, I finally have Xerces working in
Mingw-linked statically to gdal. I will make a new installer featuring
that once I have some time.

Please give me some feedback.

Regards,

Tishampati Dhar

 Software Developer

 APOGEE IMAGING INTERNATIONAL

 Building 12B

 1 Adelaide - Lobethal Road 

 Lobethal SA 5241 

  Telephone: +61 - 8 - 8389 5499

 Fax: +61 - 8 - 8389 5488

 Mobile: +61 - 406114165

Email: tisham@apogee.com.au mailto:tisham@apogee.com.au>

Web: www.apogee.com.au <http://www.apogee.com.au> 




From frdcn at hotmail.com  Thu Nov  1 15:57:35 2007
From: frdcn at hotmail.com (godofredo contreras)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] generic ogr connection
In-Reply-To: <d368056f0710311812i4a5eec4exbb899c97300da36d@mail.gmail.com>
References: <94C0F903807262438796839A98A9BA5001CAB6A8@beja001.edia.pt>
	<BAY110-W1A7A48710F62A990C3E8EB2950@phx.gbl> 
	<d368056f0710311812i4a5eec4exbb899c97300da36d@mail.gmail.com>
Message-ID: <BAY110-W42D9BFE2AA7418EA2246DFB28C0@phx.gbl>

Hi Tim:
 
I was thinking in provide a way for users to specify
an ogr URI in new connection dialog for database layers. For example
the user could choose in new connection dialog beetween
Postgres, OgrOracle, OgrMySQL, OgrPostgres, and OgrGeneric
types. In the case of OgrGeneric it could be only a QTextEdit in new
connection dialog where the user could write the URI(OCI:freddy/freddy@192.168.1.3/XE)
instead of specifying the parts of the uri(host, database, type, etc). This way users needing
access to other types of databases like arcsde could rebuild gdal/ogr with arcsde support and just use
ogr generic connection to load their layers into qgis.
 
Best regards
Godofredo Contreras   



> Date: Wed, 31 Oct 2007 22:12:41 -0300> From: tim@linfiniti.com> To: frdcn@hotmail.com> Subject: Re: [Qgis-developer] generic ogr connection> CC: qgis-developer@lists.qgis.org> > Hi Godofredo> > Do you mean for file based datasources and db based one? It would> certainly be nice to combine them all in one dialog if we could find a> way to keep it user friendly...> > Regards> > Tim> > 2007/10/24, godofredo contreras <frdcn@hotmail.com>:> >> > Hi qgis developers:> >> > What do you think about having a generic ogr connection(let the user> > specify the URI manually)?> >> > if you think this is a good idea, how should be addresed? a new dialog? or> > in qgsdbsourceselect?> >> > Regards> > Godofredo Contreras> >> > ________________________________> > Climb to the top of the charts! Play Star Shuffle: the word scramble> > challenge with star power. Play Now!> > _______________________________________________> > Qgis-developer mailing list> > Qgis-developer@lists.qgis.org> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer> >> >> > > -- > Tim Sutton> QGIS Project Steering Committee Member - Release Manager> Visit http://qgis.org for a great open source GIS> openModeller Desktop Developer> Visit http://openModeller.sf.net for a great open source ecological> niche modelling tool> Home Page: http://tim.linfiniti.com> Skype: timlinux> Irc: timlinux on #qgis at freenode.net
_________________________________________________________________
Windows Live Hotmail and Microsoft Office Outlook ? together at last. ?Get it now.
http://office.microsoft.com/en-us/outlook/HA102225181033.aspx?pid=CL100626971033
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071101/c75c801a/attachment.html
From tim at linfiniti.com  Fri Nov  2 09:55:44 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user]  WMS Rendering Problems
In-Reply-To: <472ADD2E.8050300@ija.csic.es>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<4727127F.6020004@arava.co.il> <47277CBA.4030407@comcast.net>
	<20071030202747.GA14346@norbit.de> <472809EC.9050204@comcast.net>
	<d368056f0710311855j18dc3441s63d509e657458e17@mail.gmail.com>
	<472ADD2E.8050300@ija.csic.es>
Message-ID: <d368056f0711020655y213604c6s1e8ba7146bcc0211@mail.gmail.com>

Hi

We will be making test packages for the transparency branch (which
will contain everything from trunk merged in too). We will put these
out for public comment and bug testing. Once we are happy that the
raster transparency branch is stable, works as expected and does not
cause any other problems, we will begin the process of getting it
merged into trunk. We will announce to the list when these packages
are available and open a special tag in trh bug tracker that bugs can
be filed against. If you are interested in parrticipating in the
process please contact Peter Ersts who is our raster maintainer. Any
contributions in the form of quality control, testing, useabilty,
coding if you know how etc would be greatly appreciated.

We are in the process of stabilising QGIS for a 1.0 release which
means we are being much more conservative about letting new features
into trunk so that we can really focus on getting all those open bugs
removed.

Many thanks for you input!

Regards

Tim
2007/11/2, Agustin Lobo <Agustin.Lobo@ija.csic.es>:
> Tim,
>
> could the new 0.9.1 include the transparency raster branch?
> It seems that Peter Ersts has these tools pretty advanced.
> It's actually very difficult to use QGis for real work with imagery
> without having these tools available.
>
> Thank you all for your work!
>
> Agus
>
> Tim Sutton escribi?:
> > Hi
> >
> > Was anyone able to test Toms patch? Can we go ahead and apply it to
> > trunk? We would like to do a follow up release of QGIS 0.9.1 in the
> > next few days - in particular to provide updated binaries to address
> > some GRASS issues Martin fixed, and to provide a Toms WMS fix.
> >
> > Best regards
> >
> > Tim
> >
> > 2007/10/31, Tom Elwertowski <telwertowski@comcast.net>:
> >> J?rgen E. Fischer wrote:
> >>> I'd like to test it.  Where's the patch?
> >> Here's a patch for the current (r3707) trunk:
> >> http://www.compassowl.com/qgis_wms_async.diff
> >>
> >> Tom
> >> _______________________________________________
> >> Qgis-developer mailing list
> >> Qgis-developer@lists.qgis.org
> >> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> >>
> >
> >
>
> --
> Dr. Agustin Lobo
> Institut de Ciencies de la Terra "Jaume Almera" (CSIC)
> LLuis Sole Sabaris s/n
> 08028 Barcelona
> Spain
> Tel. 34 934095410
> Fax. 34 934110012
> email: Agustin.Lobo@ija.csic.es
> http://www.ija.csic.es/gt/obster
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Fri Nov  2 11:05:40 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user]  WMS Rendering Problems
In-Reply-To: <189966030711020702p6fd4072dqd0a2c140d72d5db8@mail.gmail.com>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<4727127F.6020004@arava.co.il> <47277CBA.4030407@comcast.net>
	<20071030202747.GA14346@norbit.de> <472809EC.9050204@comcast.net>
	<d368056f0710311855j18dc3441s63d509e657458e17@mail.gmail.com>
	<472ADD2E.8050300@ija.csic.es>
	<d368056f0711020655y213604c6s1e8ba7146bcc0211@mail.gmail.com>
	<189966030711020702p6fd4072dqd0a2c140d72d5db8@mail.gmail.com>
Message-ID: <d368056f0711020805y434a32f2kf108cea4ce59b582@mail.gmail.com>

Hi Rhys

Yes we will follow the same strategy for all branches that are
candidates for merging into trunk. Once Marco gives the word that he
is ready, we can create packages and put the advanced editing branch
'out there' for wider testing.

Regards

Tim

2007/11/2, Rhys Stewart <rhys.stewart@gmail.com>:
> Speaking of different branches:
>  how about including the advanced editing branch? I've (me and about 4
> other folks in office) have been using it extensively since late July.
> We have had no problems/bugs to report. I know that 5 people using it
> doesn't mean it is ready for prime time, but I'm sure we are not the
> only ones that have  been using it.
>
>
> Rhys Stewart
>
> On 11/2/07, Tim Sutton <tim@linfiniti.com> wrote:
> > Hi
> >
> > We will be making test packages for the transparency branch (which
> > will contain everything from trunk merged in too). We will put these
> > out for public comment and bug testing. Once we are happy that the
> > raster transparency branch is stable, works as expected and does not
> > cause any other problems, we will begin the process of getting it
> > merged into trunk. We will announce to the list when these packages
> > are available and open a special tag in trh bug tracker that bugs can
> > be filed against. If you are interested in parrticipating in the
> > process please contact Peter Ersts who is our raster maintainer. Any
> > contributions in the form of quality control, testing, useabilty,
> > coding if you know how etc would be greatly appreciated.
> >
> > We are in the process of stabilising QGIS for a 1.0 release which
> > means we are being much more conservative about letting new features
> > into trunk so that we can really focus on getting all those open bugs
> > removed.
> >
> > Many thanks for you input!
> >
> > Regards
> >
> > Tim
> > 2007/11/2, Agustin Lobo <Agustin.Lobo@ija.csic.es>:
> > > Tim,
> > >
> > > could the new 0.9.1 include the transparency raster branch?
> > > It seems that Peter Ersts has these tools pretty advanced.
> > > It's actually very difficult to use QGis for real work with imagery
> > > without having these tools available.
> > >
> > > Thank you all for your work!
> > >
> > > Agus
> > >
> > > Tim Sutton escribi?:
> > > > Hi
> > > >
> > > > Was anyone able to test Toms patch? Can we go ahead and apply it to
> > > > trunk? We would like to do a follow up release of QGIS 0.9.1 in the
> > > > next few days - in particular to provide updated binaries to address
> > > > some GRASS issues Martin fixed, and to provide a Toms WMS fix.
> > > >
> > > > Best regards
> > > >
> > > > Tim
> > > >
> > > > 2007/10/31, Tom Elwertowski <telwertowski@comcast.net>:
> > > >> J?rgen E. Fischer wrote:
> > > >>> I'd like to test it.  Where's the patch?
> > > >> Here's a patch for the current (r3707) trunk:
> > > >> http://www.compassowl.com/qgis_wms_async.diff
> > > >>
> > > >> Tom
> > > >> _______________________________________________
> > > >> Qgis-developer mailing list
> > > >> Qgis-developer@lists.qgis.org
> > > >> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> > > >>
> > > >
> > > >
> > >
> > > --
> > > Dr. Agustin Lobo
> > > Institut de Ciencies de la Terra "Jaume Almera" (CSIC)
> > > LLuis Sole Sabaris s/n
> > > 08028 Barcelona
> > > Spain
> > > Tel. 34 934095410
> > > Fax. 34 934110012
> > > email: Agustin.Lobo@ija.csic.es
> > > http://www.ija.csic.es/gt/obster
> > >
> >
> >
> > --
> > Tim Sutton
> > QGIS Project Steering Committee Member - Release  Manager
> > Visit http://qgis.org for a great open source GIS
> > openModeller Desktop Developer
> > Visit http://openModeller.sf.net for a great open source ecological
> > niche modelling tool
> > Home Page: http://tim.linfiniti.com
> > Skype: timlinux
> > Irc: timlinux on #qgis at freenode.net
> > _______________________________________________
> > Qgis-user mailing list
> > Qgis-user@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
> >
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From jef+qgis at norbit.de  Fri Nov  2 12:07:10 2007
From: jef+qgis at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] install windows libraries
Message-ID: <20071102160710.GA4929@norbit.de>

Hi there,

qgis doesn't currently install the libraries that should go along with
the include files in Windows.  Attached patch corrects that.

J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

-------------- next part --------------
A non-text attachment was scrubbed...
Name: lib.diff
Type: text/x-diff
Size: 777 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071102/24df39b3/lib.bin
From tim at linfiniti.com  Fri Nov  2 12:15:07 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] install windows libraries
In-Reply-To: <20071102160710.GA4929@norbit.de>
References: <20071102160710.GA4929@norbit.de>
Message-ID: <d368056f0711020915j7979f4f5n9fb5b0cd37e44822@mail.gmail.com>

Hi

This is for MSVC build only right? Great I was trying to figure out
how to get it to do that the other day!

Marco I will test and apply this if thats ok.

Regards

Tim

2007/11/2, J?rgen E. Fischer <jef+qgis@norbit.de>:
> Hi there,
>
> qgis doesn't currently install the libraries that should go along with
> the include files in Windows.  Attached patch corrects that.
>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From marco.hugentobler at karto.baug.ethz.ch  Fri Nov  2 12:19:42 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] install windows libraries
In-Reply-To: <d368056f0711020915j7979f4f5n9fb5b0cd37e44822@mail.gmail.com>
References: <20071102160710.GA4929@norbit.de>
	<d368056f0711020915j7979f4f5n9fb5b0cd37e44822@mail.gmail.com>
Message-ID: <200711021719.42795.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

That would be great. 

Marco

On Friday 02 November 2007 17:15:07 Tim Sutton wrote:
> Hi
>
> This is for MSVC build only right? Great I was trying to figure out
> how to get it to do that the other day!
>
> Marco I will test and apply this if thats ok.
>
> Regards
>
> Tim
>
> 2007/11/2, J?rgen E. Fischer <jef+qgis@norbit.de>:
> > Hi there,
> >
> > qgis doesn't currently install the libraries that should go along with
> > the include files in Windows.  Attached patch corrects that.
> >
> > J?rgen
> >
> > --
> > J?rgen E. Fischer         norBIT GmbH               Tel.
> > +49-4931-918175-0 Dipl.-Inf. (FH)           Rheinstra?e 13           
> > Fax. +49-4931-918175-50 Software Engineer         D-26506 Norden         
> >      http://www.norbit.de
> >
> > --
> > norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> > Rheinstrasse 13, 26506 Norden
> > GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
> >
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From marco.hugentobler at karto.baug.ethz.ch  Fri Nov  2 12:19:42 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] install windows libraries
In-Reply-To: <d368056f0711020915j7979f4f5n9fb5b0cd37e44822@mail.gmail.com>
References: <20071102160710.GA4929@norbit.de>
	<d368056f0711020915j7979f4f5n9fb5b0cd37e44822@mail.gmail.com>
Message-ID: <200711021719.42795.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

That would be great. 

Marco

On Friday 02 November 2007 17:15:07 Tim Sutton wrote:
> Hi
>
> This is for MSVC build only right? Great I was trying to figure out
> how to get it to do that the other day!
>
> Marco I will test and apply this if thats ok.
>
> Regards
>
> Tim
>
> 2007/11/2, J?rgen E. Fischer <jef+qgis@norbit.de>:
> > Hi there,
> >
> > qgis doesn't currently install the libraries that should go along with
> > the include files in Windows.  Attached patch corrects that.
> >
> > J?rgen
> >
> > --
> > J?rgen E. Fischer         norBIT GmbH               Tel.
> > +49-4931-918175-0 Dipl.-Inf. (FH)           Rheinstra?e 13           
> > Fax. +49-4931-918175-50 Software Engineer         D-26506 Norden         
> >      http://www.norbit.de
> >
> > --
> > norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> > Rheinstrasse 13, 26506 Norden
> > GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
> >
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From b.rowlingson at lancaster.ac.uk  Fri Nov  2 12:31:29 2007
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] install windows libraries
In-Reply-To: <20071102160710.GA4929@norbit.de>
References: <20071102160710.GA4929@norbit.de>
Message-ID: <472B50E1.30709@lancaster.ac.uk>

J?rgen E. Fischer wrote:
> Hi there,
> 
> qgis doesn't currently install the libraries that should go along with
> the include files in Windows.  Attached patch corrects that.
> 

  A day too late for me! I compiled Qgis last night on Windows, then 
realised I had to copy all the libraries over, then realised I wasn't 
copying them, I was moving them (darned stupid Windows UI), so I moved 
them back and somewhere along the line libgeos.dll got lost.

  So I had to download 300Mb of msys.zip just to get it back!

Barry

From jef+qgis at norbit.de  Fri Nov  2 12:58:39 2007
From: jef+qgis at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] fix for #790/#791
Message-ID: <20071102165839.GA7287@norbit.de>

Hi there,

the rubberband should not be deleted on ::deactivate.

J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

-------------- next part --------------
A non-text attachment was scrubbed...
Name: capture.diff
Type: text/x-diff
Size: 364 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071102/adf7945c/capture.bin
From marco.hugentobler at karto.baug.ethz.ch  Sat Nov  3 12:51:57 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user] eliminations of "seams" between
	raster tiles?
In-Reply-To: <472C388F.6050401@ija.csic.es>
References: <9f3c41b10710300547q3ea4f691u9d94a85489095aab@mail.gmail.com>
	<5e04c2340711021032r223a5989i39c544ba3ef44268@mail.gmail.com>
	<472C388F.6050401@ija.csic.es>
Message-ID: <200711031751.57755.marco.hugentobler@karto.baug.ethz.ch>

Hi all,

I'm in favour of a bugfix release 0.9.1 that is very soon and contains only 
small changes.
In my opinion, the branches should be tested and merged after that as they 
contain bigger changes that habe higher risk of side effects.
Tim, what's your opinion on this as release manager?

If the functionality in raster transparency branch is very important for some 
tasks, why not checkout the code in the branch, compile qgis and work with 
it?

Regards,
Marco

On Saturday 03 November 2007 09:59:59 Agustin Lobo wrote:
> Tim,
>
> Considering Pete's answer, could these 3 features be included
> in the 0.9.1 release? Sorry if I'm too insisting, but not having
> these features really prevents any real work done with QGis for raster
> imagery. You can work with raster maps, but not with raster images unless
> they have been previously enhanced with another program, which you can do
> once for testing but, in practice, is very inconvenient.
> I understand you have to conform to formal procedures to decide what
> to include in 0.9.1 and do not discuss the criteria and/or the final
> decision, just wanted to make it clear the consequences of
> not having these 3 tools.
>
> Thank you all for your (great) work!
>
> Agus
>
> Peter Ersts escribi?:
> > Stretching capabilities that are available now, include
> > 1) Stretch by single band (gray scale)
> > 2) Stretch by multi-color band (RGB)
> > 3) The custom color ramps that Marc added a couple of months ago.
> >
> > So I think that will actually cover most users. The color ramps are
> > basic at the moment but the core functionality is there.
> >
> > I should be committing my recent changes tonight which include
> > QgsRasterLayer utilizing the new QgsContrastEnhancement class.
> >
> > -pete
> >
> > On Nov 2, 2007 11:07 AM, Tim Sutton <tim@linfiniti.com> wrote:
> >> Hi
> >>
> >> Peter do you have any comments on this? I guess bu 'color' Yuri means
> >> the band..?
> >>
> >> Regards
> >>
> >> Tim
> >>
> >>> Thanks. Is there anything in the works for one to choose the *color*
> >>> stretch as well?
> >>>
> >>> ---
> >>> _______________________________________________
> >>> Qgis-user mailing list
> >>> Qgis-user@lists.qgis.org
> >>> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
> >>
> >> --
> >> Tim Sutton
> >> QGIS Project Steering Committee Member - Release  Manager
> >> Visit http://qgis.org for a great open source GIS
> >> openModeller Desktop Developer
> >> Visit http://openModeller.sf.net for a great open source ecological
> >> niche modelling tool
> >> Home Page: http://tim.linfiniti.com
> >> Skype: timlinux
> >> Irc: timlinux on #qgis at freenode.net
> >
> > _______________________________________________
> > Qgis-user mailing list
> > Qgis-user@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From marco.hugentobler at karto.baug.ethz.ch  Sat Nov  3 13:04:33 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user]  WMS Rendering Problems
In-Reply-To: <d368056f0711020805y434a32f2kf108cea4ce59b582@mail.gmail.com>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<189966030711020702p6fd4072dqd0a2c140d72d5db8@mail.gmail.com>
	<d368056f0711020805y434a32f2kf108cea4ce59b582@mail.gmail.com>
Message-ID: <200711031804.34008.marco.hugentobler@karto.baug.ethz.ch>

Hi Rhys,

Nice to hear your are using the new editing features! 
I'm also keen on merging the advanced editing branch soon. However, as the 
branch contains some bigger changes, I think it is better to wait after the 
first bugfix release. Also I'd like to do some cleanups and fixes prior to 
put it to official pre-merge testing. But I suppose that it will be ready in 
the next couple of weeks.

Regards,
Marco

On Friday 02 November 2007 16:05:40 Tim Sutton wrote:
> Hi Rhys
>
> Yes we will follow the same strategy for all branches that are
> candidates for merging into trunk. Once Marco gives the word that he
> is ready, we can create packages and put the advanced editing branch
> 'out there' for wider testing.
>
> Regards
>
> Tim
>
> 2007/11/2, Rhys Stewart <rhys.stewart@gmail.com>:
> > Speaking of different branches:
> >  how about including the advanced editing branch? I've (me and about 4
> > other folks in office) have been using it extensively since late July.
> > We have had no problems/bugs to report. I know that 5 people using it
> > doesn't mean it is ready for prime time, but I'm sure we are not the
> > only ones that have  been using it.
> >
> >
> > Rhys Stewart
> >
> > On 11/2/07, Tim Sutton <tim@linfiniti.com> wrote:
> > > Hi
> > >
> > > We will be making test packages for the transparency branch (which
> > > will contain everything from trunk merged in too). We will put these
> > > out for public comment and bug testing. Once we are happy that the
> > > raster transparency branch is stable, works as expected and does not
> > > cause any other problems, we will begin the process of getting it
> > > merged into trunk. We will announce to the list when these packages
> > > are available and open a special tag in trh bug tracker that bugs can
> > > be filed against. If you are interested in parrticipating in the
> > > process please contact Peter Ersts who is our raster maintainer. Any
> > > contributions in the form of quality control, testing, useabilty,
> > > coding if you know how etc would be greatly appreciated.
> > >
> > > We are in the process of stabilising QGIS for a 1.0 release which
> > > means we are being much more conservative about letting new features
> > > into trunk so that we can really focus on getting all those open bugs
> > > removed.
> > >
> > > Many thanks for you input!
> > >
> > > Regards
> > >
> > > Tim
> > >
> > > 2007/11/2, Agustin Lobo <Agustin.Lobo@ija.csic.es>:
> > > > Tim,
> > > >
> > > > could the new 0.9.1 include the transparency raster branch?
> > > > It seems that Peter Ersts has these tools pretty advanced.
> > > > It's actually very difficult to use QGis for real work with imagery
> > > > without having these tools available.
> > > >
> > > > Thank you all for your work!
> > > >
> > > > Agus
> > > >
> > > > Tim Sutton escribi?:
> > > > > Hi
> > > > >
> > > > > Was anyone able to test Toms patch? Can we go ahead and apply it to
> > > > > trunk? We would like to do a follow up release of QGIS 0.9.1 in the
> > > > > next few days - in particular to provide updated binaries to
> > > > > address some GRASS issues Martin fixed, and to provide a Toms WMS
> > > > > fix.
> > > > >
> > > > > Best regards
> > > > >
> > > > > Tim
> > > > >
> > > > > 2007/10/31, Tom Elwertowski <telwertowski@comcast.net>:
> > > > >> J?rgen E. Fischer wrote:
> > > > >>> I'd like to test it.  Where's the patch?
> > > > >>
> > > > >> Here's a patch for the current (r3707) trunk:
> > > > >> http://www.compassowl.com/qgis_wms_async.diff
> > > > >>
> > > > >> Tom
> > > > >> _______________________________________________
> > > > >> Qgis-developer mailing list
> > > > >> Qgis-developer@lists.qgis.org
> > > > >> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> > > >
> > > > --
> > > > Dr. Agustin Lobo
> > > > Institut de Ciencies de la Terra "Jaume Almera" (CSIC)
> > > > LLuis Sole Sabaris s/n
> > > > 08028 Barcelona
> > > > Spain
> > > > Tel. 34 934095410
> > > > Fax. 34 934110012
> > > > email: Agustin.Lobo@ija.csic.es
> > > > http://www.ija.csic.es/gt/obster
> > >
> > > --
> > > Tim Sutton
> > > QGIS Project Steering Committee Member - Release  Manager
> > > Visit http://qgis.org for a great open source GIS
> > > openModeller Desktop Developer
> > > Visit http://openModeller.sf.net for a great open source ecological
> > > niche modelling tool
> > > Home Page: http://tim.linfiniti.com
> > > Skype: timlinux
> > > Irc: timlinux on #qgis at freenode.net
> > > _______________________________________________
> > > Qgis-user mailing list
> > > Qgis-user@lists.qgis.org
> > > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From jef at norbit.de  Sat Nov  3 13:05:32 2007
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user] WMS Rendering Problems
In-Reply-To: <200711010813.54155.marco.hugentobler@karto.baug.ethz.ch>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<472809EC.9050204@comcast.net>
	<d368056f0710311855j18dc3441s63d509e657458e17@mail.gmail.com>
	<200711010813.54155.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <20071103170532.GA15567@norbit.de>

Hi Marco,

On Thu, 01. Nov 2007 at 08:13:54 +0100, Marco Hugentobler wrote:
> Could you wait a few days before applying the patch? I'd like to look at it, 
> but cannot do it before Saturday.

I have verified that in r7316 WMS displays nicely again on Windows (MSVC
build).


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502


From marco.hugentobler at karto.baug.ethz.ch  Sat Nov  3 13:37:07 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user] WMS Rendering Problems
In-Reply-To: <47277CBA.4030407@comcast.net>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<4727127F.6020004@arava.co.il> <47277CBA.4030407@comcast.net>
Message-ID: <200711031837.07343.marco.hugentobler@karto.baug.ethz.ch>

Hi Tom,

> The refresh problem arises from the fact that the WMS layer is not
> requested until after the redraw cycle begins. Om a Mac (and probbably
> Windows too, based upon your observations), drawing cannot be
> interrupted to do something else -- either you already possess the
> bitmap or you don't start drawing. The reason you don't see the image
> until some future action is that the WMS image don't show up until after
> the refresh cycle that requested it has competed.

I think that the WMS refresh problem is due to a problem with 
QGraphicsView/QGraphicsRectItem, which I tried to adress with r7316. This fix 
works for me on Kubuntu7.10, Win XP (msys) and Mac (G4).

From what I can see, the synchronous requesting works as expected and is left 
at the time QHttp sends the done() signal (once all the requested data is 
available). The painting is then done into QImage, which I think is plattform 
independent (software rendering). 

Asynchronous requesting of WMS layers could still be a possibility for the 
future. Maybe combined with Tims idea of a composite manager? I think that 
such functionality should be developed in a branch as there is a high risk of 
side effects.

Regards,
Marco


On Tuesday 30 October 2007 19:49:30 Tom Elwertowski wrote:
> Micha Silver wrote:
> > In some early work I noticed on windows, displaying maps from a WMS
> > server (mapserver 4.10.2) that the map image doesn't appear until I "do
> > something". I have to open some other dialog box, then when I close it,
> > the map appears. If I pan or zoom, I see the map layers *while panning*,
> > but as soon I  release the mouse the map layers (as well as north arrow
> > and other decorations) disappear. If I click on the "Render" button to
> > disable rendering, then click again to re-enable, the map appears. But
> > again, any zooming or panning causes it to disappear. I've tried palying
> > with the Rendering options "Update display after reading 1 feature", but
> > that didn't change anything.
>
> This looks like a bug which was reported for Mac OS X a while ago. I
> have a patch which is essentially complete but I don't have the
> capability to build QGIS for Windows. If you or someone else can do a
> source build, I would be interested in finding out if the patch fixes
> your problem.
>
> The patch currently has two deficiencies which probably don't affect you:
> 1.) errors are not reported until one or two refreshes later.
> 2.) the indirection code for layers which return urls instead of bitmaps
> has not been tested.
>
> The refresh problem arises from the fact that the WMS layer is not
> requested until after the redraw cycle begins. Om a Mac (and probbably
> Windows too, based upon your observations), drawing cannot be
> interrupted to do something else -- either you already possess the
> bitmap or you don't start drawing. The reason you don't see the image
> until some future action is that the WMS image don't show up until after
> the refresh cycle that requested it has competed.
>
> > On an Ubuntu machine with the debian binary (Thanks to Jachym Cepicky!),
> > pulling layers from the same WMS server, I don't see this behavior at
> > all.
>
> The reason it works using Ubuntu is that X11 was designed as a
> client/server display system. Since the display doesn't need to be on
> the same machine as the application, X11 is most likely not confounded
> by network requests inside draw events.
>
> The fix I made is to remove the synchronous network request inside the
> draw event with async requests which must be completed before starting
> to draw. This also speeds things up for multiple WMS layers since all
> layers are requested in parallel rather than serially.
>
> > BTW, displaying layers using the WFS plugin from the same server works
> > well on both systems.
>
> The WFS plugin doesn't make network requests inside draw events so the
> problem doesn't happen for WFS.
>
> One further request from readers: does anyone know of a WMS server that
> returns an indirect pointer rather then a bitmap? The main reason I
> haven't submitted this patch previously is that I haven't been able to
> test that situation. Alternatively, I could add a message "Indirect
> retrieval temporarily disabled: send a url if you would like this
> feature back."
>
> Tom
> _______________________________________________
> Qgis-user mailing list
> Qgis-user@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From telwertowski at comcast.net  Sun Nov  4 01:51:46 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user] WMS Rendering Problems
In-Reply-To: <200711031837.07343.marco.hugentobler@karto.baug.ethz.ch>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<4727127F.6020004@arava.co.il> <47277CBA.4030407@comcast.net>
	<200711031837.07343.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <472D5DF2.80001@comcast.net>

Marco Hugentobler wrote:
> I think that the WMS refresh problem is due to a problem with 
> QGraphicsView/QGraphicsRectItem, which I tried to adress with r7316. This fix 
> works for me on Kubuntu7.10, Win XP (msys) and Mac (G4).
> 
> From what I can see, the synchronous requesting works as expected and is left 
> at the time QHttp sends the done() signal (once all the requested data is 
> available). The painting is then done into QImage, which I think is plattform 
> independent (software rendering). 
> 
> Asynchronous requesting of WMS layers could still be a possibility for the 
> future. Maybe combined with Tims idea of a composite manager? I think that 
> such functionality should be developed in a branch as there is a high risk of 
> side effects.

Hi Marco,

r7316 doesn't fix the Mac WMS rendering problem; I am also using a Mac 
G4. To reproduce the bug, open a WMS layer and then resize or maximize 
the window. The layer is cleared and not redrawn. Other widgets such as 
the status and tool bars are sometimes drawn at incorrect locations too.

Resizing a window by dragging the size control is a "gold standard" for 
testing Mac drawing code. If there are problems, they are most likely to 
show up while resizing a window.

The problem is that the WMS implementation is not "Qt processEvent 
safe." Moving to asynchronous network events is one way to make the code 
processEvent safe. Moving the synchronous transfer outside the draw 
event might also work. Using threads for drawing is probably the best 
solution. I chose the asynchronous approach because it seemed closest to 
a bug fix than a redesign.

This is the problematic sequence of events:

1. Resize window
2. WMS provider initiates draw event.
3. draw routine discovers layer needs refresh from WMS server.
4. draw routine issues network request.
5. QgsHttpTransaction calls processEvents so that network request can 
leave local machine.
6. processEvents now runs other events while waiting for the remote 
response.
7. there are drawing events pending due to setStatus signals from 
QgsHttpTransaction and QgsRasterLayer as well as for drawing the 
overview canvas. If a drag resize is in progress, there are also 
additional draw events due to the continued resizing of the main canvas. 
This is the bug -- a Mac draw event cannot be interrupted by another 
draw event.
8. eventually we resume interrupted draw events which are not able to be 
resumed.

Here is the Mac terminal log:

Warning: QWidget::repaint: Recursive repaint detected
Warning: QCoreGraphicsPaintEngine::begin: Painter already active
Warning: QPainter::begin(): Returned false
Warning: QPainter::end: Painter not active, aborted

followed by many of:

Warning: QWidget: It is dangerous to leave painters active on a widget 
outside of the PaintEvent

My guess is that the begin() of the second draw event is ignored as 
superfluous because the painter is already active. The second draw event 
then draws and successfully closes the painter. At this point, the 
resumed first draw is attempting to draw into an inactive painter.

If we don't change anything, we need to tell users that QGIS/Mac does 
not support resizing or maximizing project windows containing WMS layers.

I have been thinking along the same lines as Tim's composite manager but 
that's a bigger project than I want to do right now. It's probably best 
left for QGIS 1.1. For now, we should see if nested draw events can be 
eliminated without a major redesign.

It would also be nice to have some development guidelines about 
processEvents since this problem keeps reappearing. A good rule would be 
that calls to processEvents cannot be made while drawing is in progress. 
Another good rule is not to allow QtPainter warnings in code which 
appears to work. These usually indicate code that is not cross-platform 
safe.

Tom


From john.tull at wildnevada.org  Sun Nov  4 11:20:23 2007
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Advanced editing branch
Message-ID: <5CBF1B57-DD37-426F-898D-053A05E5EE22@wildnevada.org>

Tom & Marco,

First, the move and split feature tools are great. Those will be very  
useful. I had no problem using those in a test polygon on OS X after  
the geos fix. Are there more features from this branch that are not so  
obvious (map tools and digitizing prefs maybe)? I was not able to find  
documentation on the project.

A while back, I had put in a feature request for multiple vertex  
deletion. This is something that exists in OpenJump, but I much prefer  
Qgis and am hopeful that this will happen at some point. Marco had  
commented about the possibility of implementing this, but it was in  
the idea phase. This would be an immensely useful tool and could be  
extended to allow moves of a subset of vertices with the move tool in  
addition to multiple deletion if a vertex selection tool were  
developed. See this thread for a recap:
http://www.nabble.com/Vertex-edits-and-selection-t4178483.html

Also, will there be an undo feature. I recall someone discussing  
adding a program-wide undo feature. This would be good for handling  
editing goofs.

I appreciate your great coding efforts. Good luck on the progress.

Thanks,
John

From tim at linfiniti.com  Sun Nov  4 13:40:40 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user] eliminations of "seams" between
	raster tiles?
In-Reply-To: <200711031751.57755.marco.hugentobler@karto.baug.ethz.ch>
References: <9f3c41b10710300547q3ea4f691u9d94a85489095aab@mail.gmail.com>
	<5e04c2340711021032r223a5989i39c544ba3ef44268@mail.gmail.com>
	<472C388F.6050401@ija.csic.es>
	<200711031751.57755.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0711041040h57793d4cue7a140f37d29b967@mail.gmail.com>

Hi Marco

I'm in agreement for getting out a 0.9.1 release as soon as possible.
However Tisham who does the windows builds is away till the end of
November so I think its not possible to release before early Dec as I
dont yet have the complete win compilation environment set up.

I agree that branches shouldnt be merged in till post 0.9.1. I will
try over the next few weeks to get test builds made for all platforms
of the Raster and Editing branches (but without all the extra bits
that Tisham does on win so no python, no grass support). We can post
thos for Agostin and others who would like to participate early on in
the quality assurance process before these branches are merged.

Regards

Tim

2007/11/3, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi all,
>
> I'm in favour of a bugfix release 0.9.1 that is very soon and contains only
> small changes.
> In my opinion, the branches should be tested and merged after that as they
> contain bigger changes that habe higher risk of side effects.
> Tim, what's your opinion on this as release manager?
>
> If the functionality in raster transparency branch is very important for some
> tasks, why not checkout the code in the branch, compile qgis and work with
> it?
>
> Regards,
> Marco
>
> On Saturday 03 November 2007 09:59:59 Agustin Lobo wrote:
> > Tim,
> >
> > Considering Pete's answer, could these 3 features be included
> > in the 0.9.1 release? Sorry if I'm too insisting, but not having
> > these features really prevents any real work done with QGis for raster
> > imagery. You can work with raster maps, but not with raster images unless
> > they have been previously enhanced with another program, which you can do
> > once for testing but, in practice, is very inconvenient.
> > I understand you have to conform to formal procedures to decide what
> > to include in 0.9.1 and do not discuss the criteria and/or the final
> > decision, just wanted to make it clear the consequences of
> > not having these 3 tools.
> >
> > Thank you all for your (great) work!
> >
> > Agus
> >
> > Peter Ersts escribi?:
> > > Stretching capabilities that are available now, include
> > > 1) Stretch by single band (gray scale)
> > > 2) Stretch by multi-color band (RGB)
> > > 3) The custom color ramps that Marc added a couple of months ago.
> > >
> > > So I think that will actually cover most users. The color ramps are
> > > basic at the moment but the core functionality is there.
> > >
> > > I should be committing my recent changes tonight which include
> > > QgsRasterLayer utilizing the new QgsContrastEnhancement class.
> > >
> > > -pete
> > >
> > > On Nov 2, 2007 11:07 AM, Tim Sutton <tim@linfiniti.com> wrote:
> > >> Hi
> > >>
> > >> Peter do you have any comments on this? I guess bu 'color' Yuri means
> > >> the band..?
> > >>
> > >> Regards
> > >>
> > >> Tim
> > >>
> > >>> Thanks. Is there anything in the works for one to choose the *color*
> > >>> stretch as well?
> > >>>
> > >>> ---
> > >>> _______________________________________________
> > >>> Qgis-user mailing list
> > >>> Qgis-user@lists.qgis.org
> > >>> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
> > >>
> > >> --
> > >> Tim Sutton
> > >> QGIS Project Steering Committee Member - Release  Manager
> > >> Visit http://qgis.org for a great open source GIS
> > >> openModeller Desktop Developer
> > >> Visit http://openModeller.sf.net for a great open source ecological
> > >> niche modelling tool
> > >> Home Page: http://tim.linfiniti.com
> > >> Skype: timlinux
> > >> Irc: timlinux on #qgis at freenode.net
> > >
> > > _______________________________________________
> > > Qgis-user mailing list
> > > Qgis-user@lists.qgis.org
> > > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
> marco.hugentobler@karto.baug.ethz.ch
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Sun Nov  4 13:43:50 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user] eliminations of "seams" between
	raster tiles?
In-Reply-To: <472D70E8.8050503@ija.csic.es>
References: <9f3c41b10710300547q3ea4f691u9d94a85489095aab@mail.gmail.com>
	<5e04c2340711021032r223a5989i39c544ba3ef44268@mail.gmail.com>
	<472C388F.6050401@ija.csic.es>
	<200711031751.57755.marco.hugentobler@karto.baug.ethz.ch>
	<472D70E8.8050503@ija.csic.es>
Message-ID: <d368056f0711041043y79934145s1563fd1850d79aac@mail.gmail.com>

Hi

As mentioned in my reply to Marco, I will make a test build of raster
branch for windows in the next few days. It wont contain GRASS or
python support yet. I will post a note to the mailing list when the
test build is available.

Regards

Tim

2007/11/4, Agustin Lobo <Agustin.Lobo@ija.csic.es>:
> Because compiling on Win is not precisely an easy task and most
> users wont do it.
>
> Agus
>
> Marco Hugentobler escribi?:
> > Hi all,
> >
> > I'm in favour of a bugfix release 0.9.1 that is very soon and contains only
> > small changes.
> > In my opinion, the branches should be tested and merged after that as they
> > contain bigger changes that habe higher risk of side effects.
> > Tim, what's your opinion on this as release manager?
> >
> > If the functionality in raster transparency branch is very important for some
> > tasks, why not checkout the code in the branch, compile qgis and work with
> > it?
> >
> > Regards,
> > Marco
> >
> > On Saturday 03 November 2007 09:59:59 Agustin Lobo wrote:
> >> Tim,
> >>
> >> Considering Pete's answer, could these 3 features be included
> >> in the 0.9.1 release? Sorry if I'm too insisting, but not having
> >> these features really prevents any real work done with QGis for raster
> >> imagery. You can work with raster maps, but not with raster images unless
> >> they have been previously enhanced with another program, which you can do
> >> once for testing but, in practice, is very inconvenient.
> >> I understand you have to conform to formal procedures to decide what
> >> to include in 0.9.1 and do not discuss the criteria and/or the final
> >> decision, just wanted to make it clear the consequences of
> >> not having these 3 tools.
> >>
> >> Thank you all for your (great) work!
> >>
> >> Agus
> >>
> >> Peter Ersts escribi?:
> >>> Stretching capabilities that are available now, include
> >>> 1) Stretch by single band (gray scale)
> >>> 2) Stretch by multi-color band (RGB)
> >>> 3) The custom color ramps that Marc added a couple of months ago.
> >>>
> >>> So I think that will actually cover most users. The color ramps are
> >>> basic at the moment but the core functionality is there.
> >>>
> >>> I should be committing my recent changes tonight which include
> >>> QgsRasterLayer utilizing the new QgsContrastEnhancement class.
> >>>
> >>> -pete
> >>>
> >>> On Nov 2, 2007 11:07 AM, Tim Sutton <tim@linfiniti.com> wrote:
> >>>> Hi
> >>>>
> >>>> Peter do you have any comments on this? I guess bu 'color' Yuri means
> >>>> the band..?
> >>>>
> >>>> Regards
> >>>>
> >>>> Tim
> >>>>
> >>>>> Thanks. Is there anything in the works for one to choose the *color*
> >>>>> stretch as well?
> >>>>>
> >>>>> ---
> >>>>> _______________________________________________
> >>>>> Qgis-user mailing list
> >>>>> Qgis-user@lists.qgis.org
> >>>>> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
> >>>> --
> >>>> Tim Sutton
> >>>> QGIS Project Steering Committee Member - Release  Manager
> >>>> Visit http://qgis.org for a great open source GIS
> >>>> openModeller Desktop Developer
> >>>> Visit http://openModeller.sf.net for a great open source ecological
> >>>> niche modelling tool
> >>>> Home Page: http://tim.linfiniti.com
> >>>> Skype: timlinux
> >>>> Irc: timlinux on #qgis at freenode.net
> >>> _______________________________________________
> >>> Qgis-user mailing list
> >>> Qgis-user@lists.qgis.org
> >>> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
> >
> >
> >
>
> --
> Dr. Agustin Lobo
> Institut de Ciencies de la Terra "Jaume Almera" (CSIC)
> LLuis Sole Sabaris s/n
> 08028 Barcelona
> Spain
> Tel. 34 934095410
> Fax. 34 934110012
> email: Agustin.Lobo@ija.csic.es
> http://www.ija.csic.es/gt/obster
> _______________________________________________
> Qgis-user mailing list
> Qgis-user@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From jef at norbit.de  Sun Nov  4 15:39:16 2007
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] debian packaging
Message-ID: <20071104203916.GA12370@norbit.de>

Hi there,

the debian package doesn't build on unstable.  The attached patch
detect include path and library using gdal-config.

J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

-------------- next part --------------
A non-text attachment was scrubbed...
Name: debian.diff
Type: text/x-diff
Size: 1051 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071104/96e9addd/debian.bin
From jef at norbit.de  Sun Nov  4 15:54:32 2007
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] MSVC patch (less warnings and GRASS)
Message-ID: <20071104205432.GB12370@norbit.de>

Hi there,

attached patch makes QGIS compile more cleanly on Visual C++.

I moved QGISEXTERN to a central place (actually 2 for now). And added
some #pragma and a UNUSED macro.

I also added a few things to be able to link with GRASS with VC (using
libs build from the MinGW dlls with dlltool). It compiles and links
cleanly now, but it freezes once QGIS tries to load qgisgrass.dll.
I need to look into this closer.

This is work in progress, I'm just posting this just in case somebody
else is interested and likes to take a peek...


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

-------------- next part --------------
A non-text attachment was scrubbed...
Name: vc.diff
Type: text/x-diff
Size: 52665 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071104/19bec4df/vc.bin
From tim at linfiniti.com  Sun Nov  4 18:48:54 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] debian packaging
In-Reply-To: <20071104203916.GA12370@norbit.de>
References: <20071104203916.GA12370@norbit.de>
Message-ID: <d368056f0711041548p149b8bf4i8a923aa5882eeffd@mail.gmail.com>

Hi J?rgen

Actually this patch should not be neccessary. CMAKE FindGDAL uses
essentially the same mechanism too find GDAL related files. Those
lines are there because under Ubuntu Feisty gdal-config returns
incorrect values for the location of gdal libs etc. On Gutsy, Etch and
debian unstable you should simply be able to remove the following 2
lines:

        -D GDAL_INCLUDE_DIR=/usr/include/gdal \
        -D GDAL_LIBRARY=/usr/lib/libgdal1.3.2.so \

And everything related to GDAL should be found correctly. Give it a
try and if its not working for you I will revisit your patch. I will
eventually remove the above lines too once Feisty is a bit less in
use. At the moment I just do it manually before building packages that
dont need it.

Regards

Tim

2007/11/4, J?rgen E. Fischer <jef@norbit.de>:
> Hi there,
>
> the debian package doesn't build on unstable.  The attached patch
> detect include path and library using gdal-config.
>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Sun Nov  4 20:23:37 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] MSVC patch (less warnings and GRASS)
In-Reply-To: <20071104205432.GB12370@norbit.de>
References: <20071104205432.GB12370@norbit.de>
Message-ID: <d368056f0711041723m3b9df218jfe5b2592d854061c@mail.gmail.com>

Hi J?rgen

Wow great stuff! - I went through all the files you touched and this
is nice and neat! I've test built here on Gutsy and applied the patch
(r7322). Ill test tomorrow on MSVC at work. I'm glad we can get rid of
all those ugly extern "c" all over the show.

Regarding GRASS - as I understood, you cant mix dlls created under
different compilers. In most cases GRASS stuff is called as a QProcess
and I was thinking that in this case the rule above would not apply
since the grass process runs separate (unlinked) to the QGIS process.
In a few cases however we link to some GRASS libs - and I guess this
is where things are crashing for you?

Do you have python stuff working under MSVC then? With all these
updates it seems we are not far off from making a MSVC windows binary
with complete feature parity to MINGW version. I have been working on
an INSTALL.t2t section for MSVC that documents the procedure for
building QGIS under MSVC. I hope to commit it this week and it would
be great to get you and David Willis to give feedback and possibly
resolve these final issues to getting a full QGIS MSVC build in place.

Lastly, the PSC has unanimously voted to grant you write access to SVN
so in future you will be most welcome to commit this type of
improvement directly to trunk. If you have any doubts about whether
its OK to commit something please feel free to ask here on the list.

Regards

Tim



2007/11/4, J?rgen E. Fischer <jef@norbit.de>:
> Hi there,
>
> attached patch makes QGIS compile more cleanly on Visual C++.
>
> I moved QGISEXTERN to a central place (actually 2 for now). And added
> some #pragma and a UNUSED macro.
>
> I also added a few things to be able to link with GRASS with VC (using
> libs build from the MinGW dlls with dlltool). It compiles and links
> cleanly now, but it freezes once QGIS tries to load qgisgrass.dll.
> I need to look into this closer.
>
> This is work in progress, I'm just posting this just in case somebody
> else is interested and likes to take a peek...
>
>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Sun Nov  4 21:03:32 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Low Hanging Fruit - QGIS 0.9.1 Bug Triage
Message-ID: <d368056f0711041803kf39951fu4eb8c879ce345735@mail.gmail.com>

Hi All

Since we have to wait a month or so before we can get QGIS 0.9.1 out,
I would like to propose  a bug triage month. I created a page on the
trac wiki that explains a little more:

https://svn.qgis.org/trac/wiki/BugTriage0.9.1

Basically for those interested to contribute, I am suggesting to try
to find 5 bugs in the bug queue that you think you can squash during
the month of November. Add your name and the bug id's that you will be
squashing to the above page, and lets work towards getting QGIS bug
free! There are no bug bounties, free t-shirts etc at stake, just the
opportunity to feel warm & fuzzy knowing you made QGIS a little bit
better!

Also I really encourage you to pick the easy ones / low hanging fruit
so that we can get the obvious stuff out the way and focus on the real
issues.

Best regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Mon Nov  5 03:48:36 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Compiling GRASS with MSVC
Message-ID: <d368056f0711050048s46f4fc73w2d405e2c00588eac@mail.gmail.com>

Hi Glynn

Markus Neteler suggested I contact you. We are interested to make a
WIN32 build of QGIS with MSVC. Do you know of any work being done to
compile GRASS with MSVC?

Regards



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From marco.hugentobler at karto.baug.ethz.ch  Mon Nov  5 05:19:15 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-user] WMS Rendering Problems
In-Reply-To: <472D5DF2.80001@comcast.net>
References: <d368056f0710260820n76116a0cndbd4548880ca5696@mail.gmail.com>
	<200711031837.07343.marco.hugentobler@karto.baug.ethz.ch>
	<472D5DF2.80001@comcast.net>
Message-ID: <200711051119.15410.marco.hugentobler@karto.baug.ethz.ch>

Hi Tom,

You are right, resizing is a problem. I did some further tests on Linux and 
Mac, and found that resizing is a problem on both plattforms (maybe also on 
win, I didn't test). So I don't think it is a Mac specific issue. Also I 
found resizing can be a problem with large vector layers.

> r7316 doesn't fix the Mac WMS rendering problem; I am also using a Mac
> G4. To reproduce the bug, open a WMS layer and then resize or maximize
> the window. The layer is cleared and not redrawn. Other widgets such as
> the status and tool bars are sometimes drawn at incorrect locations too.

Maximizing worked on my G4 perfectly. I observed problems with the status and 
tool bar when resizing the window with the mouse (both on G4 and Linux).

> My guess is that the begin() of the second draw event is ignored as
> superfluous because the painter is already active. The second draw event
> then draws and successfully closes the painter. At this point, the
> resumed first draw is attempting to draw into an inactive painter.

That's why I tried to protect the QGraphicsRectItem from paint events in 
r7316:

if (mCanvas->isDirty())
  {
    setEnabled(false);
    mCanvas->render();
    setEnabled(true);
  }

If the item is disabled, it does not receive events during the rendering. I 
have the impression that concurrent paint events are not the only problem. 
Maybe Qts update optimisation of QWidget and QGraphicsView is also a cause?


> It's probably best
> left for QGIS 1.1. For now, we should see if nested draw events can be
> eliminated without a major redesign.

I totally agree. As 0.9.1 is meant as a bugfix release, it would be nice to 
have a solution with minimal code changes.  

Regards,
Marco


On Sunday 04 November 2007 06:51:46 Tom Elwertowski wrote:
> Marco Hugentobler wrote:
> > I think that the WMS refresh problem is due to a problem with
> > QGraphicsView/QGraphicsRectItem, which I tried to adress with r7316. This
> > fix works for me on Kubuntu7.10, Win XP (msys) and Mac (G4).
> >
> > From what I can see, the synchronous requesting works as expected and is
> > left at the time QHttp sends the done() signal (once all the requested
> > data is available). The painting is then done into QImage, which I think
> > is plattform independent (software rendering).
> >
> > Asynchronous requesting of WMS layers could still be a possibility for
> > the future. Maybe combined with Tims idea of a composite manager? I think
> > that such functionality should be developed in a branch as there is a
> > high risk of side effects.
>
> Hi Marco,
>
> r7316 doesn't fix the Mac WMS rendering problem; I am also using a Mac
> G4. To reproduce the bug, open a WMS layer and then resize or maximize
> the window. The layer is cleared and not redrawn. Other widgets such as
> the status and tool bars are sometimes drawn at incorrect locations too.
>
> Resizing a window by dragging the size control is a "gold standard" for
> testing Mac drawing code. If there are problems, they are most likely to
> show up while resizing a window.
>
> The problem is that the WMS implementation is not "Qt processEvent
> safe." Moving to asynchronous network events is one way to make the code
> processEvent safe. Moving the synchronous transfer outside the draw
> event might also work. Using threads for drawing is probably the best
> solution. I chose the asynchronous approach because it seemed closest to
> a bug fix than a redesign.
>
> This is the problematic sequence of events:
>
> 1. Resize window
> 2. WMS provider initiates draw event.
> 3. draw routine discovers layer needs refresh from WMS server.
> 4. draw routine issues network request.
> 5. QgsHttpTransaction calls processEvents so that network request can
> leave local machine.
> 6. processEvents now runs other events while waiting for the remote
> response.
> 7. there are drawing events pending due to setStatus signals from
> QgsHttpTransaction and QgsRasterLayer as well as for drawing the
> overview canvas. If a drag resize is in progress, there are also
> additional draw events due to the continued resizing of the main canvas.
> This is the bug -- a Mac draw event cannot be interrupted by another
> draw event.
> 8. eventually we resume interrupted draw events which are not able to be
> resumed.
>
> Here is the Mac terminal log:
>
> Warning: QWidget::repaint: Recursive repaint detected
> Warning: QCoreGraphicsPaintEngine::begin: Painter already active
> Warning: QPainter::begin(): Returned false
> Warning: QPainter::end: Painter not active, aborted
>
> followed by many of:
>
> Warning: QWidget: It is dangerous to leave painters active on a widget
> outside of the PaintEvent
>
> My guess is that the begin() of the second draw event is ignored as
> superfluous because the painter is already active. The second draw event
> then draws and successfully closes the painter. At this point, the
> resumed first draw is attempting to draw into an inactive painter.
>
> If we don't change anything, we need to tell users that QGIS/Mac does
> not support resizing or maximizing project windows containing WMS layers.
>
> I have been thinking along the same lines as Tim's composite manager but
> that's a bigger project than I want to do right now. It's probably best
> left for QGIS 1.1. For now, we should see if nested draw events can be
> eliminated without a major redesign.
>
> It would also be nice to have some development guidelines about
> processEvents since this problem keeps reappearing. A good rule would be
> that calls to processEvents cannot be made while drawing is in progress.
> Another good rule is not to allow QtPainter warnings in code which
> appears to work. These usually indicate code that is not cross-platform
> safe.
>
> Tom



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From tim at linfiniti.com  Mon Nov  5 07:55:44 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Compiling GRASS with MSVC
In-Reply-To: <18223.2951.679424.131353@cerise.gclements.plus.com>
References: <d368056f0711050048s46f4fc73w2d405e2c00588eac@mail.gmail.com>
	<18223.2951.679424.131353@cerise.gclements.plus.com>
Message-ID: <d368056f0711050455l4ee04e6fg7ea82f9a27315184@mail.gmail.com>

Hi

I suspect we could actually get away with just compiling the few libs
that qgis actually links to and then having the rest as mingw compiled
apps since most of the GRASS stuff happens in QProcess calls...I'll
look further into it.

The issue you describe with makefiles is one of the benifits we got in
qgis switching from automake to CMake - since cmake will generate
makefiles to suit the compiler its very much easier to jump between
different operating systems and compilers without having to make much
in the way of changes to the build system.

Ok we will keep poking around, and let you know if we come up with anything....

Regards

Tim

2007/11/5, Glynn Clements <glynn@gclements.plus.com>:
>
> Tim Sutton wrote:
>
> > Markus Neteler suggested I contact you. We are interested to make a
> > WIN32 build of QGIS with MSVC. Do you know of any work being done to
> > compile GRASS with MSVC?
>
> No.
>
> Are you just interested in using the compiler/linker, or also the
> DevStudio IDE?
>
> GRASS' build system uses GNU Makefiles (currently, 541 of them). I'm
> fairly sure that most developers would unwilling to maintain MS
> "nmake" files or DevStudio DSP/DSW files.
>
> If you just want to stick with GNU make and use the MSVC compiler and
> linker, you can try creating Grass.make and Platform.make by hand (I
> don't think that the configure script will handle "CC=msvc"). I
> suspect that you may need to manually edit some of the other *.make
> files, and probably some of the individual Makefiles.
>
> --
> Glynn Clements <glynn@gclements.plus.com>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From wonder.sk at gmail.com  Mon Nov  5 08:25:03 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] GDAL Python Bindings
In-Reply-To: <4728ACEE.5040504@noaa.gov>
References: <4728ACEE.5040504@noaa.gov>
Message-ID: <e8e7199c0711050525k135c7515mbd6482c63d0d0830@mail.gmail.com>

On 10/31/07, Christopher Barker <Chris.Barker@noaa.gov> wrote:
> Hi folks,
>
> Sorry for the cross-post, but it seemed topical to both qgis and gdal.
>
> Martin Dobias wrote:
>  >> GDAL already uses swig ngpython bindings, can't you reuse those ? There
>  >> is a gdalconst.py generated by swig which contains the enums.
>
>  > I don't think this would be a good idea. First, we would introduce
>  > dependency on GDAL python bindings.
>
> Well, there is a dependency on GDAL already, so why not the bindings?

Hi,
this is not the biggest problem and I think we could live with it.
But conceptually, why to connect GDAL and QGIS bindings? We want to
provide API that doesn't make differences between different data
providers: that's what is already done for vector data and what will
be done at some point for raster data. This is the reason why I think
that we should use our own data types, independent from underlying
libraries.


>  > Second, and more importantly,
>  > there seems to be a technical barrier - I have no idea how to connect
>  > SIP and SWIG bindings.
>
> What are the barriers exactly? I now nothing of SIP, and a little about
> SWIG. However, I think the key is to use Python as the intermediary, and
> not try to have SIP types dealing directly with GDAL C stuff. To do this
> efficiently, there may be a need to add a thing or two to the GDAL SWIG
> bindings and the Qgis bindings.

I see problem in converting between C++ and Python types. If you
instantiate a GDAL object in Python, how QGIS will get the pointer to
the real C++ object? I don't know how to tell SIP to use a type from
other library which isn't wrapped by SIP.


> In particular, thinking about a raster band, it could be a pretty good
> sized bock of data, so we'd want a way to get a GDAL raster band into
> whatever type you need for QGIS without a whole lot of data copying. By
> default, we might end up with:
>
> gdal generates a raster band. (first copy)
> it is converted to a Python string (two copies)
> it is converted to a QGIS raster band equivelent (three copies)

But the vision is that you will use only QGIS interface to do
anything, so the will be no need to do copies.


> It would be nice to just allocate the memory in GDAl, and pass that
> pointer through to whatever the QGIS type is. The way to do that is to
> use the Python buffer protocol, or even better the new nd-array protocol
> introduced by numpy, and slated for inclusion in future pythons:
>
> http://numpy.scipy.org/array_interface.shtml
>
> http://www.python.org/dev/peps/pep-3118/
>
> I'm hoping to add this support to the GDAL bindings anyway, for
> efficient transfer to/from numpy arrays.
>
> By the way, does pyQt and/or Qgis support numpy arrays at all now?

I'm not aware of any support of numpy by PyQt or QGIS...

Regards
Martin

From wonder.sk at gmail.com  Mon Nov  5 08:33:19 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] fix for #790/#791
In-Reply-To: <20071102165839.GA7287@norbit.de>
References: <20071102165839.GA7287@norbit.de>
Message-ID: <e8e7199c0711050533q5350888v109ef91cb6b69a06@mail.gmail.com>

Hi Jurgen,

please can you give me an example when is this useful? It seems a bit
weird to me if the tool leaves rubber band on map canvas when it's not
active.

Martin

On 11/2/07, J?rgen E. Fischer <jef+qgis@norbit.de> wrote:
> Hi there,
>
> the rubberband should not be deleted on ::deactivate.
>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
>

From jef at norbit.de  Mon Nov  5 09:00:20 2007
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] fix for #790/#791
In-Reply-To: <e8e7199c0711050533q5350888v109ef91cb6b69a06@mail.gmail.com>
References: <20071102165839.GA7287@norbit.de>
	<e8e7199c0711050533q5350888v109ef91cb6b69a06@mail.gmail.com>
Message-ID: <20071105140020.GA25690@norbit.de>

Hi Martin,

On Mon, 05. Nov 2007 at 14:33:19 +0100, Martin Dobias wrote:
> please can you give me an example when is this useful? It seems a bit
> weird to me if the tool leaves rubber band on map canvas when it's not
> active.

The reporter was digitizing, hit an edge and wanted to pan.  He simply
switched to the pan tool, did that and reactivated the original tool to
continue digitizing.  That didn't work as the input so far was lost and
it even crashed.

That's just because the rubberband was deleted on deactivation.  AFAICS
without the deletion the tool just keeps the state as it should and you
can continue digitizing after doing something else.  Moreover the tool
isn't currently aware that the rubberband might disappear in the
process.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502


From woklist at kyngchaos.com  Mon Nov  5 10:05:36 2007
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] OSX Leopard notes
Message-ID: <07ACF44D-74AB-4C77-ABCD-348662CE7A12@kyngchaos.com>

I'm almost done rebuilding my frameworks for Leopard.  Here are some  
interesting things that will affect Qgis.

- Python - Leopard has Python 2.5.1.  No need for an extra python  
install, maybe.  The Python framework binary and most of the binary  
extensions are 64bit ready.  BUT, anything that needs Carbon, is not  
64bits.

CARBON IS DEAD.  It is deprecated in Leopard, and is not even 64bit  
ready, though it still exists in the standard 32bits.

So, the python executable is not 64bits either, so you don't  
accidntally run something in 64bits that needs Carbon extensions. bleh.


- Since Carbon is dead (or at least doesn't exist in 64bits), Qt is  
not 64bit ready, and will probably not be so for quite a while - until  
TrollTech can convert everything to Cocoa.  It will be quite a while  
before Qgis can be 64bits on OSX :(


- SIP/PyQt warning - these install in the system/python root, not in  
the user python root.  In the old python extra install, these were the  
same - in the framework.  In Leopard, there is now a user site- 
packages, /Library/Python/2.5/site-packages.  Installing in the system  
python location, just like for anything else in the OSX system, is  
wrong.

So, it may be a good idea to install the old python package anyways.


Otehrwise, the old Qgis Tiger build is working on Leopard.  I haven't  
tried installing the old python yet to see if that works.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

The equator is so long, it could encircle the earth completely once.


From telwertowski at comcast.net  Mon Nov  5 11:19:02 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Low Hanging Fruit - QGIS 0.9.1 Bug Triage
In-Reply-To: <d368056f0711041803kf39951fu4eb8c879ce345735@mail.gmail.com>
References: <d368056f0711041803kf39951fu4eb8c879ce345735@mail.gmail.com>
Message-ID: <472F4276.4040102@comcast.net>

Tim Sutton wrote:
> I am suggesting to try to find 5 bugs in the bug queue that
> you think you can squash during the month of November.

I'd can fix https://svn.qgis.org/trac/ticket/440 however this will 
change the contents of the preferences file. Using Qt saveGeometry and 
restoreGeometry methods will replace editable x, y, width, height values 
with a binary property. Does anyone depend upon editing these values in 
the preferences file or can the change be made?

If this change can be made now, I will also add saveGeometry and 
restoreGeometry calls to other dialogs, thus also closing 
https://svn.qgis.org/trac/ticket/206.

Tom

From warmerdam at pobox.com  Mon Nov  5 11:31:28 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Gdal-dev] Re:  GDAL Python Bindings
In-Reply-To: <e8e7199c0711050525k135c7515mbd6482c63d0d0830@mail.gmail.com>
References: <4728ACEE.5040504@noaa.gov>
	<e8e7199c0711050525k135c7515mbd6482c63d0d0830@mail.gmail.com>
Message-ID: <472F4560.30406@pobox.com>

Martin Dobias wrote:
> Hi,
> this is not the biggest problem and I think we could live with it.
> But conceptually, why to connect GDAL and QGIS bindings? We want to
> provide API that doesn't make differences between different data
> providers: that's what is already done for vector data and what will
> be done at some point for raster data. This is the reason why I think
> that we should use our own data types, independent from underlying
> libraries.

Martin,

I'm not sure I understand your point here.  Is the objective to support
raster data providers other than GDAL in a way that is uniform?  Or to
achieve a maximum amount of similarity in API between raster and vector
data sources (ie. similar metadata, driver capabilities and so forth)?

If the objective is to support raster providers other than GDAL I'd like
to make an empassioned plea to avoid this, but I don't want to rail against
something you weren't even suggesting.

> I see problem in converting between C++ and Python types. If you
> instantiate a GDAL object in Python, how QGIS will get the pointer to
> the real C++ object? I don't know how to tell SIP to use a type from
> other library which isn't wrapped by SIP.

Given a PyObject from something like the Python gdal.Open() wrapper
the object looks like this in C:

typedef struct {
   PyObject_HEAD
   void *ptr;
   swig_type_info *ty;
   int own;
   PyObject *next;
} PySwigObject;

The "void *ptr" is the wrap C/C++ pointer and can be cast to
GDALDatasetH or GDALDataset * as desired.  This approach is
somewhat fragile it might be worth inserting externall C callable
functions into the Python bindings that will safely return the
corresponding C/C++ pointer from a Python object.  Basically this
would be a variation on the SWIG_Python_ConvertPtrAndOwn() function
produced in the existing SWIG bindings, but designed for external
use.

This is also a problem that OpenEV has using the GDAL SWIG bindings.
OpenEV uses "yet another" python wrapping C mechanism and needs to
be able to work with swig wrapped python objects in various places.
In the past I put the conversion logic in OpenEV but it makes things
fragile in the face of changes to how swig works which is why I suggest
we make this a supported thing from within GDAL.

Overall, I'm not adverse to QGIS providing some modest degree of
python wrapping for GDAL datasets *but* the GDAL API is quite rich,
and developing over time.  I would claim that you don't want to be
in the position of producing wrapper glue for all of this, and
documenting it just so that QGIS Python scripters can get at the
capabilities.  And of course, if it is distinct from the normal way
of doing python stuff with GDAL, there will be regular frustration
that the existing wealth of GDAL Python scripts won't work in the
QGIS environment.

So, lets see what we can do to avoid too much duplication.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From john.tull at wildnevada.org  Mon Nov  5 11:40:31 2007
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Low Hanging Fruit - QGIS 0.9.1 Bug Triage
In-Reply-To: <472F4276.4040102@comcast.net>
References: <d368056f0711041803kf39951fu4eb8c879ce345735@mail.gmail.com>
	<472F4276.4040102@comcast.net>
Message-ID: <77D85440-4D93-44AB-AA39-324AD7CD6B1F@wildnevada.org>

On Nov 5, 2007, at 8:19 AM, Tom Elwertowski wrote:

> Tim Sutton wrote:
>> I am suggesting to try to find 5 bugs in the bug queue that
>> you think you can squash during the month of November.
>
> I'd can fix https://svn.qgis.org/trac/ticket/440 however this will
> change the contents of the preferences file. Using Qt saveGeometry and
> restoreGeometry methods will replace editable x, y, width, height  
> values
> with a binary property. Does anyone depend upon editing these values  
> in
> the preferences file or can the change be made?
>
> If this change can be made now, I will also add saveGeometry and
> restoreGeometry calls to other dialogs, thus also closing
> https://svn.qgis.org/trac/ticket/206.

Fixing this would be great. My workaround of late has been to run an  
applescript to bring the window back to the main display, but  
application support for recognizing this would be much preferable.  
Getting the dialogs problem worked out becomes an added bonus.

If this ends up being a problem to fix, I can post my applescript text  
to the bug report so an alternative solution is available. I won't  
bother if this is going to be squashed.

Cheers,
John

From wonder.sk at gmail.com  Mon Nov  5 12:00:29 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] fix for #790/#791
In-Reply-To: <20071105140020.GA25690@norbit.de>
References: <20071102165839.GA7287@norbit.de>
	<e8e7199c0711050533q5350888v109ef91cb6b69a06@mail.gmail.com>
	<20071105140020.GA25690@norbit.de>
Message-ID: <e8e7199c0711050900u67a06cc2t45df4cb533593a0d@mail.gmail.com>

On 11/5/07, J?rgen E. Fischer <jef@norbit.de> wrote:
> Hi Martin,
>
> On Mon, 05. Nov 2007 at 14:33:19 +0100, Martin Dobias wrote:
> > please can you give me an example when is this useful? It seems a bit
> > weird to me if the tool leaves rubber band on map canvas when it's not
> > active.
>
> The reporter was digitizing, hit an edge and wanted to pan.  He simply
> switched to the pan tool, did that and reactivated the original tool to
> continue digitizing.  That didn't work as the input so far was lost and
> it even crashed.
>
> That's just because the rubberband was deleted on deactivation.  AFAICS
> without the deletion the tool just keeps the state as it should and you
> can continue digitizing after doing something else.  Moreover the tool
> isn't currently aware that the rubberband might disappear in the
> process.

Ah sorry... somehow I've forgotten to look at the subject and didn't
get the context :-) Yeah that patch is fine...

Martin

From tim at linfiniti.com  Mon Nov  5 14:13:54 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] OSX Leopard notes
In-Reply-To: <07ACF44D-74AB-4C77-ABCD-348662CE7A12@kyngchaos.com>
References: <07ACF44D-74AB-4C77-ABCD-348662CE7A12@kyngchaos.com>
Message-ID: <d368056f0711051113m106cb302ha02464e101284f0c@mail.gmail.com>

Hi William

Great to get these updates thanks!

Regards

Tim

2007/11/5, William Kyngesburye <woklist@kyngchaos.com>:
> I'm almost done rebuilding my frameworks for Leopard.  Here are some
> interesting things that will affect Qgis.
>
> - Python - Leopard has Python 2.5.1.  No need for an extra python
> install, maybe.  The Python framework binary and most of the binary
> extensions are 64bit ready.  BUT, anything that needs Carbon, is not
> 64bits.
>
> CARBON IS DEAD.  It is deprecated in Leopard, and is not even 64bit
> ready, though it still exists in the standard 32bits.
>
> So, the python executable is not 64bits either, so you don't
> accidntally run something in 64bits that needs Carbon extensions. bleh.
>
>
> - Since Carbon is dead (or at least doesn't exist in 64bits), Qt is
> not 64bit ready, and will probably not be so for quite a while - until
> TrollTech can convert everything to Cocoa.  It will be quite a while
> before Qgis can be 64bits on OSX :(
>
>
> - SIP/PyQt warning - these install in the system/python root, not in
> the user python root.  In the old python extra install, these were the
> same - in the framework.  In Leopard, there is now a user site-
> packages, /Library/Python/2.5/site-packages.  Installing in the system
> python location, just like for anything else in the OSX system, is
> wrong.
>
> So, it may be a good idea to install the old python package anyways.
>
>
> Otehrwise, the old Qgis Tiger build is working on Leopard.  I haven't
> tried installing the old python yet to see if that works.
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> The equator is so long, it could encircle the earth completely once.
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Mon Nov  5 14:23:43 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Low Hanging Fruit - QGIS 0.9.1 Bug Triage
In-Reply-To: <472F4276.4040102@comcast.net>
References: <d368056f0711041803kf39951fu4eb8c879ce345735@mail.gmail.com>
	<472F4276.4040102@comcast.net>
Message-ID: <d368056f0711051123w2e944223yb6857e4850890cdc@mail.gmail.com>

Hi

I think it should be safe to assume that we don't support users /
developers poking about in the qgis prefs file / .config dir / win
registry.

I added an entry for #440 and #206 for you to the triage page. If
anyone else wants to claim some bugs, let me know as there seems to be
an issue with general access to the trac wiki page. Gary or I will
advise when this is resolved.

Many thanks

Regards

Tim

2007/11/5, Tom Elwertowski <telwertowski@comcast.net>:
> Tim Sutton wrote:
> > I am suggesting to try to find 5 bugs in the bug queue that
> > you think you can squash during the month of November.
>
> I'd can fix https://svn.qgis.org/trac/ticket/440 however this will
> change the contents of the preferences file. Using Qt saveGeometry and
> restoreGeometry methods will replace editable x, y, width, height values
> with a binary property. Does anyone depend upon editing these values in
> the preferences file or can the change be made?
>
> If this change can be made now, I will also add saveGeometry and
> restoreGeometry calls to other dialogs, thus also closing
> https://svn.qgis.org/trac/ticket/206.
>
> Tom
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From lists at dwillis.gotadsl.co.uk  Mon Nov  5 17:59:26 2007
From: lists at dwillis.gotadsl.co.uk (lists@dwillis.gotadsl.co.uk)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] MSVC patch (less warnings and GRASS)
In-Reply-To: <d368056f0711041723m3b9df218jfe5b2592d854061c@mail.gmail.com>
References: <20071104205432.GB12370@norbit.de>
	<d368056f0711041723m3b9df218jfe5b2592d854061c@mail.gmail.com>
Message-ID: <200711052259.27084.lists@dwillis.gotadsl.co.uk>

> Do you have python stuff working under MSVC then? With all these
> updates it seems we are not far off from making a MSVC windows binary
> with complete feature parity to MINGW version. I have been working on
> an INSTALL.t2t section for MSVC that documents the procedure for
> building QGIS under MSVC. I hope to commit it this week and it would
> be great to get you and David Willis to give feedback and possibly
> resolve these final issues to getting a full QGIS MSVC build in place.

I still have a bunch of changes I made to INSTALL.t2t explaining what I did 
that didn't seem to make it into my last patch.

David
-------------- next part --------------
A non-text attachment was scrubbed...
Name: INSTALL.t2t.patch
Type: text/x-diff
Size: 6497 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071105/c9151218/INSTALL.t2t.bin
From tim at linfiniti.com  Mon Nov  5 18:16:46 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] MSVC patch (less warnings and GRASS)
In-Reply-To: <200711052259.27084.lists@dwillis.gotadsl.co.uk>
References: <20071104205432.GB12370@norbit.de>
	<d368056f0711041723m3b9df218jfe5b2592d854061c@mail.gmail.com>
	<200711052259.27084.lists@dwillis.gotadsl.co.uk>
Message-ID: <d368056f0711051516h4305928dj324ae2046b3364f1@mail.gmail.com>

Hi David

Great thanks - sorry if I missed that before somehow. Btw did you see
that qt4.3.2 now builds under msvc ''out the box'' with no kludging?
I've made a lib zip file with all the deps needed to build qgis except
msvc. The idea is that you simply export LIB_DIR environment variable
and then all the deps are automatically picked up for you. I just need
to ensure all the find rules use the lib dir path (I've tested it over
in openModeller which I built linked against qgis MSVC build). So with
that I'll probably add an alternate section in your notes for folks
like me who prefer to avoid building deps as much as possible.

Your notes are now in SVN trunk as of r7329..

Best Regards

Tim

2007/11/5, lists@dwillis.gotadsl.co.uk <lists@dwillis.gotadsl.co.uk>:
> > Do you have python stuff working under MSVC then? With all these
> > updates it seems we are not far off from making a MSVC windows binary
> > with complete feature parity to MINGW version. I have been working on
> > an INSTALL.t2t section for MSVC that documents the procedure for
> > building QGIS under MSVC. I hope to commit it this week and it would
> > be great to get you and David Willis to give feedback and possibly
> > resolve these final issues to getting a full QGIS MSVC build in place.
>
> I still have a bunch of changes I made to INSTALL.t2t explaining what I did
> that didn't seem to make it into my last patch.
>
> David
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From john.tull at wildnevada.org  Mon Nov  5 18:40:57 2007
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Low Hanging Fruit - QGIS 0.9.1 Bug Triage
In-Reply-To: <d368056f0711041803kf39951fu4eb8c879ce345735@mail.gmail.com>
References: <d368056f0711041803kf39951fu4eb8c879ce345735@mail.gmail.com>
Message-ID: <3DBA641A-DF83-472A-AC3E-CC5960707891@wildnevada.org>

A real show-stopper in editing for me has been this bug I submitted 2  
weeks ago: not being able to combine polygons from separate vector  
layers or multiple polygons from a single layer into a new layer.  
Perhaps a mac programmer can look into this (I wish I could help, but  
not a coder)?

https://svn.qgis.org/trac/ticket/784

Cheers,
John

On Nov 4, 2007, at 6:03 PM, Tim Sutton wrote:

> Hi All
>
> Since we have to wait a month or so before we can get QGIS 0.9.1 out,
> I would like to propose  a bug triage month. I created a page on the
> trac wiki that explains a little more:
>
> https://svn.qgis.org/trac/wiki/BugTriage0.9.1
>
> Basically for those interested to contribute, I am suggesting to try
> to find 5 bugs in the bug queue that you think you can squash during
> the month of November. Add your name and the bug id's that you will be
> squashing to the above page, and lets work towards getting QGIS bug
> free! There are no bug bounties, free t-shirts etc at stake, just the
> opportunity to feel warm & fuzzy knowing you made QGIS a little bit
> better!
>
> Also I really encourage you to pick the easy ones / low hanging fruit
> so that we can get the obvious stuff out the way and focus on the real
> issues.
>
> Best regards
>
> -- 
> Tim Sutton
> QGIS Project Steering Committee Member - Release  Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer


From lists at dwillis.gotadsl.co.uk  Mon Nov  5 19:00:21 2007
From: lists at dwillis.gotadsl.co.uk (lists@dwillis.gotadsl.co.uk)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] MSVC patch (less warnings and GRASS)
In-Reply-To: <d368056f0711051516h4305928dj324ae2046b3364f1@mail.gmail.com>
References: <20071104205432.GB12370@norbit.de>
	<200711052259.27084.lists@dwillis.gotadsl.co.uk>
	<d368056f0711051516h4305928dj324ae2046b3364f1@mail.gmail.com>
Message-ID: <200711060000.21768.lists@dwillis.gotadsl.co.uk>

> Great thanks - sorry if I missed that before somehow. Btw did you see
> that qt4.3.2 now builds under msvc ''out the box'' with no kludging?

Is that the non commercial one? I'll need to have a look at that.

> I've made a lib zip file with all the deps needed to build qgis except
> msvc. The idea is that you simply export LIB_DIR environment variable
> and then all the deps are automatically picked up for you. I just need
> to ensure all the find rules use the lib dir path (I've tested it over
> in openModeller which I built linked against qgis MSVC build). So with
> that I'll probably add an alternate section in your notes for folks
> like me who prefer to avoid building deps as much as possible.

Does that include GRASS and the python stuff yet..?

> Your notes are now in SVN trunk as of r7329..

Thanks Tim.

David

From jef at norbit.de  Mon Nov  5 19:14:52 2007
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] MSVC patch (less warnings and GRASS)
In-Reply-To: <d368056f0711041723m3b9df218jfe5b2592d854061c@mail.gmail.com>
References: <20071104205432.GB12370@norbit.de>
	<d368056f0711041723m3b9df218jfe5b2592d854061c@mail.gmail.com>
Message-ID: <20071106001452.GA15263@norbit.de>

Hi Tim,

On Sun, 04. Nov 2007 at 23:23:37 -0200, Tim Sutton wrote:
> Wow great stuff! - I went through all the files you touched and this
> is nice and neat! I've test built here on Gutsy and applied the patch
> (r7322). Ill test tomorrow on MSVC at work. I'm glad we can get rid of
> all those ugly extern "c" all over the show.

Thanks.  My test build on unstable did also work.

 
> Regarding GRASS - as I understood, you cant mix dlls created under
> different compilers. In most cases GRASS stuff is called as a QProcess
> and I was thinking that in this case the rule above would not apply
> since the grass process runs separate (unlinked) to the QGIS process.
> In a few cases however we link to some GRASS libs - and I guess this
> is where things are crashing for you?

Yes, that's because I used dlltool, where I should have used dumpbin/lib
to create the libraries for msvc - just like I did with the postgres
library a while ago.  dumpbin and lib come with msvc.


> Do you have python stuff working under MSVC then? With all these
> updates it seems we are not far off from making a MSVC windows binary
> with complete feature parity to MINGW version. I have been working on
> an INSTALL.t2t section for MSVC that documents the procedure for
> building QGIS under MSVC. I hope to commit it this week and it would
> be great to get you and David Willis to give feedback and possibly
> resolve these final issues to getting a full QGIS MSVC build in place.

I think with r7330 I now have both python and grass running with the
msvc build.   But I probably need to redo everything and take notes to
update INSTALL.t2t.


> Lastly, the PSC has unanimously voted to grant you write access to SVN
> so in future you will be most welcome to commit this type of
> improvement directly to trunk. If you have any doubts about whether
> its OK to commit something please feel free to ask here on the list.

Thanks.  I already committed twice today. :)


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502


From wonder.sk at gmail.com  Mon Nov  5 19:19:33 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Gdal-dev] Re:  GDAL Python Bindings
In-Reply-To: <472F4560.30406@pobox.com>
References: <4728ACEE.5040504@noaa.gov>
	<e8e7199c0711050525k135c7515mbd6482c63d0d0830@mail.gmail.com>
	<472F4560.30406@pobox.com>
Message-ID: <e8e7199c0711051619g1b682cd6lc2525666d573e1cf@mail.gmail.com>

On 11/5/07, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Martin Dobias wrote:
> > Hi,
> > this is not the biggest problem and I think we could live with it.
> > But conceptually, why to connect GDAL and QGIS bindings? We want to
> > provide API that doesn't make differences between different data
> > providers: that's what is already done for vector data and what will
> > be done at some point for raster data. This is the reason why I think
> > that we should use our own data types, independent from underlying
> > libraries.
>
> Martin,
>
> I'm not sure I understand your point here.  Is the objective to support
> raster data providers other than GDAL in a way that is uniform?  Or to
> achieve a maximum amount of similarity in API between raster and vector
> data sources (ie. similar metadata, driver capabilities and so forth)?
>
> If the objective is to support raster providers other than GDAL I'd like
> to make an empassioned plea to avoid this, but I don't want to rail against
> something you weren't even suggesting.

Hi Frank,

the objective is that in future we'd like to possibly support other
providers than just GDAL. While still using GDAL as a primary data
provider, there's a need for more flexibility than using only GDAL as
a raster library:
- support for application-specific providers: to give users some easy
way to write a new data provider (in c++ or python)
- add GRASS raster provider - currently we depend on GRASS driver in
GDAL which produces some problems with packaging especially on
windows, e.g. you need to first compile GDAL, then GRASS and then GDAL
again with GRASS support
- we already have WMS raster provider which integrates into QGIS well


> > I see problem in converting between C++ and Python types. If you
> > instantiate a GDAL object in Python, how QGIS will get the pointer to
> > the real C++ object? I don't know how to tell SIP to use a type from
> > other library which isn't wrapped by SIP.
>
> Given a PyObject from something like the Python gdal.Open() wrapper
> the object looks like this in C:
>
> typedef struct {
>    PyObject_HEAD
>    void *ptr;
>    swig_type_info *ty;
>    int own;
>    PyObject *next;
> } PySwigObject;
>
> The "void *ptr" is the wrap C/C++ pointer and can be cast to
> GDALDatasetH or GDALDataset * as desired.  This approach is
> somewhat fragile it might be worth inserting externall C callable
> functions into the Python bindings that will safely return the
> corresponding C/C++ pointer from a Python object.  Basically this
> would be a variation on the SWIG_Python_ConvertPtrAndOwn() function
> produced in the existing SWIG bindings, but designed for external
> use.
>
> This is also a problem that OpenEV has using the GDAL SWIG bindings.
> OpenEV uses "yet another" python wrapping C mechanism and needs to
> be able to work with swig wrapped python objects in various places.
> In the past I put the conversion logic in OpenEV but it makes things
> fragile in the face of changes to how swig works which is why I suggest
> we make this a supported thing from within GDAL.

When looking at the SIP documentation, that conversion would be
probably done with some of this magic and SIP_PYOBJECT annotations. I
can imagine that this could work for layers with GDAL as underlying
data provider.


> Overall, I'm not adverse to QGIS providing some modest degree of
> python wrapping for GDAL datasets *but* the GDAL API is quite rich,
> and developing over time.  I would claim that you don't want to be
> in the position of producing wrapper glue for all of this, and
> documenting it just so that QGIS Python scripters can get at the
> capabilities.  And of course, if it is distinct from the normal way
> of doing python stuff with GDAL, there will be regular frustration
> that the existing wealth of GDAL Python scripts won't work in the
> QGIS environment.

QGIS API regarding raster handling isn't in a good shape or stable -
since the API has been used just internally and have been made
publicly available only recently. First we'd like to offer users at
least "something" (e.g. to render the layer) and then add more
functionality - like direct connection with GDAL bindings.


> So, lets see what we can do to avoid too much duplication.

I hope that we're still far from doing duplication...

Regards
Martin

From tim at linfiniti.com  Mon Nov  5 21:42:16 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [patch] MSVC patch (less warnings and GRASS)
In-Reply-To: <200711060000.21768.lists@dwillis.gotadsl.co.uk>
References: <20071104205432.GB12370@norbit.de>
	<200711052259.27084.lists@dwillis.gotadsl.co.uk>
	<d368056f0711051516h4305928dj324ae2046b3364f1@mail.gmail.com>
	<200711060000.21768.lists@dwillis.gotadsl.co.uk>
Message-ID: <d368056f0711051842u4a5fb925ma2c2bab5a20b4785@mail.gmail.com>

Hi

2007/11/5, lists@dwillis.gotadsl.co.uk <lists@dwillis.gotadsl.co.uk>:
> > Great thanks - sorry if I missed that before somehow. Btw did you see
> > that qt4.3.2 now builds under msvc ''out the box'' with no kludging?
>
> Is that the non commercial one? I'll need to have a look at that.
>

Yes MSVC build is supported in open source version now too.

> > I've made a lib zip file with all the deps needed to build qgis except
> > msvc. The idea is that you simply export LIB_DIR environment variable
> > and then all the deps are automatically picked up for you. I just need
> > to ensure all the find rules use the lib dir path (I've tested it over
> > in openModeller which I built linked against qgis MSVC build). So with
> > that I'll probably add an alternate section in your notes for folks
> > like me who prefer to avoid building deps as much as possible.
>
> Does that include GRASS and the python stuff yet..?
>

So far not yet, but I will add them too (just libs needed for
compiling qgis or libqgis based apps).

The preliminary work I did is here:

http://qgis.org/uploadfiles/msvc/

It will no doubt get updated as I get things better organised.

Regards

Tim


> > Your notes are now in SVN trunk as of r7329..
>
> Thanks Tim.
>
> David
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Mon Nov  5 22:59:41 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Low Hanging Fruit - QGIS 0.9.1 Bug Triage
In-Reply-To: <3DBA641A-DF83-472A-AC3E-CC5960707891@wildnevada.org>
References: <d368056f0711041803kf39951fu4eb8c879ce345735@mail.gmail.com>
	<3DBA641A-DF83-472A-AC3E-CC5960707891@wildnevada.org>
Message-ID: <d368056f0711051959s554d7ch5697d8dcfc9e68ea@mail.gmail.com>

Hi John

I'm guessing that this would require some considerable changes (its
more of a feature request than a bug fix really and would need changes
to the UI etc). It may be something better first implemented in in
Marcos advanced editing branch. I think the second half of your
request should be quite straightforward (exporting selected features
to a new layer). We could just extend the functionality of the 'save
as shapefile' context menu for a vector layer. The first part where
you want the same but with features in different layers would be a bit
more tricky to implement as a quick bug fix since it would need some
kind of dialog asking the user how to resolve situations where layers
have different geometry types etc.

My suggestion is to split the bug into two bugs, and I can try to do
the export selected features part for you during the triage
process...if that is helpful to you...


Dont worry about not being a programmer you already make a
contribution by just being involved and filing bugs etc.

Regards

Tim

2007/11/5, John C. Tull <john.tull@wildnevada.org>:
> A real show-stopper in editing for me has been this bug I submitted 2
> weeks ago: not being able to combine polygons from separate vector
> layers or multiple polygons from a single layer into a new layer.
> Perhaps a mac programmer can look into this (I wish I could help, but
> not a coder)?
>
> https://svn.qgis.org/trac/ticket/784
>
> Cheers,
> John
>
> On Nov 4, 2007, at 6:03 PM, Tim Sutton wrote:
>
> > Hi All
> >
> > Since we have to wait a month or so before we can get QGIS 0.9.1 out,
> > I would like to propose  a bug triage month. I created a page on the
> > trac wiki that explains a little more:
> >
> > https://svn.qgis.org/trac/wiki/BugTriage0.9.1
> >
> > Basically for those interested to contribute, I am suggesting to try
> > to find 5 bugs in the bug queue that you think you can squash during
> > the month of November. Add your name and the bug id's that you will be
> > squashing to the above page, and lets work towards getting QGIS bug
> > free! There are no bug bounties, free t-shirts etc at stake, just the
> > opportunity to feel warm & fuzzy knowing you made QGIS a little bit
> > better!
> >
> > Also I really encourage you to pick the easy ones / low hanging fruit
> > so that we can get the obvious stuff out the way and focus on the real
> > issues.
> >
> > Best regards
> >
> > --
> > Tim Sutton
> > QGIS Project Steering Committee Member - Release  Manager
> > Visit http://qgis.org for a great open source GIS
> > openModeller Desktop Developer
> > Visit http://openModeller.sf.net for a great open source ecological
> > niche modelling tool
> > Home Page: http://tim.linfiniti.com
> > Skype: timlinux
> > Irc: timlinux on #qgis at freenode.net
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Mon Nov  5 23:03:05 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Low Hanging Fruit - QGIS 0.9.1 Bug Triage
In-Reply-To: <d368056f0711051959s554d7ch5697d8dcfc9e68ea@mail.gmail.com>
References: <d368056f0711041803kf39951fu4eb8c879ce345735@mail.gmail.com>
	<3DBA641A-DF83-472A-AC3E-CC5960707891@wildnevada.org>
	<d368056f0711051959s554d7ch5697d8dcfc9e68ea@mail.gmail.com>
Message-ID: <d368056f0711052003o673834c8o7f2de01869481fa2@mail.gmail.com>

Hi

Ok it was 2am when I wrote that last message....you can already save
only selected features from the context menu...

Regards

Tim

2007/11/6, Tim Sutton <tim@linfiniti.com>:
> Hi John
>
> I'm guessing that this would require some considerable changes (its
> more of a feature request than a bug fix really and would need changes
> to the UI etc). It may be something better first implemented in in
> Marcos advanced editing branch. I think the second half of your
> request should be quite straightforward (exporting selected features
> to a new layer). We could just extend the functionality of the 'save
> as shapefile' context menu for a vector layer. The first part where
> you want the same but with features in different layers would be a bit
> more tricky to implement as a quick bug fix since it would need some
> kind of dialog asking the user how to resolve situations where layers
> have different geometry types etc.
>
> My suggestion is to split the bug into two bugs, and I can try to do
> the export selected features part for you during the triage
> process...if that is helpful to you...
>
>
> Dont worry about not being a programmer you already make a
> contribution by just being involved and filing bugs etc.
>
> Regards
>
> Tim
>
> 2007/11/5, John C. Tull <john.tull@wildnevada.org>:
> > A real show-stopper in editing for me has been this bug I submitted 2
> > weeks ago: not being able to combine polygons from separate vector
> > layers or multiple polygons from a single layer into a new layer.
> > Perhaps a mac programmer can look into this (I wish I could help, but
> > not a coder)?
> >
> > https://svn.qgis.org/trac/ticket/784
> >
> > Cheers,
> > John
> >
> > On Nov 4, 2007, at 6:03 PM, Tim Sutton wrote:
> >
> > > Hi All
> > >
> > > Since we have to wait a month or so before we can get QGIS 0.9.1 out,
> > > I would like to propose  a bug triage month. I created a page on the
> > > trac wiki that explains a little more:
> > >
> > > https://svn.qgis.org/trac/wiki/BugTriage0.9.1
> > >
> > > Basically for those interested to contribute, I am suggesting to try
> > > to find 5 bugs in the bug queue that you think you can squash during
> > > the month of November. Add your name and the bug id's that you will be
> > > squashing to the above page, and lets work towards getting QGIS bug
> > > free! There are no bug bounties, free t-shirts etc at stake, just the
> > > opportunity to feel warm & fuzzy knowing you made QGIS a little bit
> > > better!
> > >
> > > Also I really encourage you to pick the easy ones / low hanging fruit
> > > so that we can get the obvious stuff out the way and focus on the real
> > > issues.
> > >
> > > Best regards
> > >
> > > --
> > > Tim Sutton
> > > QGIS Project Steering Committee Member - Release  Manager
> > > Visit http://qgis.org for a great open source GIS
> > > openModeller Desktop Developer
> > > Visit http://openModeller.sf.net for a great open source ecological
> > > niche modelling tool
> > > Home Page: http://tim.linfiniti.com
> > > Skype: timlinux
> > > Irc: timlinux on #qgis at freenode.net
> > > _______________________________________________
> > > Qgis-developer mailing list
> > > Qgis-developer@lists.qgis.org
> > > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> >
> >
>
>
> --
> Tim Sutton
> QGIS Project Steering Committee Member - Release  Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From cavallini at faunalia.it  Tue Nov  6 01:34:26 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] 'Publish to web' plugin for QGIS mapserver
In-Reply-To: <200711011223.42793.marco.hugentobler@karto.baug.ethz.ch>
References: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>	<5383fa5e0705111523v3506c275n6999a0743ee4fe54@mail.gmail.com>
	<200711011223.42793.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <47300AF2.8060407@faunalia.it>

Marco Hugentobler ha scritto:

> On the QGIS mapserver page 
> (http://karlinapp.ethz.ch/qgis_wms/download/index.html) there are sources and 
> binary packages available, both for 'QGIS mapserver' and the 'publish to web' 
> Plugin.

Hi Marco.
Have you thought of making a real deb package of it? It would be great
to allow more users to install it and test it.
The DebianGIS project is here to help.
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071106/a3eec4b1/signature.bin
From mendbayar_b at mongol.net  Tue Nov  6 02:19:21 2007
From: mendbayar_b at mongol.net (Byambaa Mendbayar)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] custom compile
In-Reply-To: <d368056f0711052003o673834c8o7f2de01869481fa2@mail.gmail.com>
Message-ID: <20071106072228.CDF1D1B66F@qgis.org>

Dear Tim Sutton and QGIS developers,

I want to compile QGIS on my own openSUSE 10.2 platform. I have few
questions for you.

1. Which version is better to develop and using QGIS on 32 bit openSUSE vs
64 bit openSUSE? (By the way my hardware have Intel's Q6600 CPU, 2 GB RAM
and etc...)

2. Is there available QGIS compilation instruction for on openSUSE platform?
I have found INSTALL file from QGIS SVN trunk sources but it was valid only
Debian derived distros.


Best regards,
Byambaa Mendbayar



From otto.dassau at gmx.de  Tue Nov  6 02:35:25 2007
From: otto.dassau at gmx.de (Otto Dassau)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] custom compile
In-Reply-To: <20071106072228.CDF1D1B66F@qgis.org>
References: <d368056f0711052003o673834c8o7f2de01869481fa2@mail.gmail.com>
	<20071106072228.CDF1D1B66F@qgis.org>
Message-ID: <20071106083525.0af82be2@nature>

Dear Byambaa,

On Tue, 6 Nov 2007 15:19:21 +0800
"Byambaa Mendbayar" <mendbayar_b@mongol.net> wrote:

> Dear Tim Sutton and QGIS developers,
> 
> I want to compile QGIS on my own openSUSE 10.2 platform. I have few
> questions for you.
> 
> 1. Which version is better to develop and using QGIS on 32 bit openSUSE vs
> 64 bit openSUSE? (By the way my hardware have Intel's Q6600 CPU, 2 GB RAM
> and etc...)
> 
> 2. Is there available QGIS compilation instruction for on openSUSE platform?
> I have found INSTALL file from QGIS SVN trunk sources but it was valid only
> Debian derived distros.

SuSE packages are available here:
http://download.opensuse.org/repositories/Application:/Geo/

there you also find the src packages for openSUSE 10.2.

Regards,
 Otto

From tim at linfiniti.com  Tue Nov  6 05:34:29 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] custom compile
In-Reply-To: <20071106083525.0af82be2@nature>
References: <d368056f0711052003o673834c8o7f2de01869481fa2@mail.gmail.com>
	<20071106072228.CDF1D1B66F@qgis.org> <20071106083525.0af82be2@nature>
Message-ID: <d368056f0711060234w108002d3obe2a1f98ee5ac7af@mail.gmail.com>

Hi Byambaa and Otto

Otto do you know of anyone that can provide & maintain a SUSE section
in the INSTALL.t2t for folks wanting to build from source?

Regards

Tim

2007/11/6, Otto Dassau <otto.dassau@gmx.de>:
> Dear Byambaa,
>
> On Tue, 6 Nov 2007 15:19:21 +0800
> "Byambaa Mendbayar" <mendbayar_b@mongol.net> wrote:
>
> > Dear Tim Sutton and QGIS developers,
> >
> > I want to compile QGIS on my own openSUSE 10.2 platform. I have few
> > questions for you.
> >
> > 1. Which version is better to develop and using QGIS on 32 bit openSUSE vs
> > 64 bit openSUSE? (By the way my hardware have Intel's Q6600 CPU, 2 GB RAM
> > and etc...)
> >
> > 2. Is there available QGIS compilation instruction for on openSUSE platform?
> > I have found INSTALL file from QGIS SVN trunk sources but it was valid only
> > Debian derived distros.
>
> SuSE packages are available here:
> http://download.opensuse.org/repositories/Application:/Geo/
>
> there you also find the src packages for openSUSE 10.2.
>
> Regards,
>  Otto
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Tue Nov  6 06:51:49 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Low Hanging Fruit - QGIS 0.9.1 Bug Triage
In-Reply-To: <47300250.5040601@faunalia.it>
References: <d368056f0711041803kf39951fu4eb8c879ce345735@mail.gmail.com>
	<47300250.5040601@faunalia.it>
Message-ID: <d368056f0711060351u4cc7b6a4p64bd5373d1db5aeb@mail.gmail.com>

Hi Again

If you wanted to edit the triage page on trac and werent able to,
please try again - all developers have been given write access to the
trac wiki now,

Regards

Tim

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From wonder.sk at gmail.com  Tue Nov  6 11:34:55 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] bug in postgis connection?
In-Reply-To: <4726EF40.7000702@faunalia.it>
References: <4726EF40.7000702@faunalia.it>
Message-ID: <e8e7199c0711060834h532f09ferd3cb146efe954be2@mail.gmail.com>

Hi Paolo,

there have been some changes in postgres provider (commits 7268, 7269,
7270) so it's possible - can you revert to a revision before these
commits (e.g. 7267) to make sure that it's caused by them?

Bye
Martin

On 10/30/07, Paolo Cavallini <cavallini@faunalia.it> wrote:
> Apparently we spotted another bug in 0.9 (from svn, 2007-10-25):
> culumns from joined views are not shown, and appear as zeroes.
> anyone with the same problem?
> pc
> --
> Paolo Cavallini, see: http://www.faunalia.it/pc
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
>

From Chris.Barker at noaa.gov  Tue Nov  6 13:43:21 2007
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] GDAL Python Bindings
In-Reply-To: <e8e7199c0711050525k135c7515mbd6482c63d0d0830@mail.gmail.com>
References: <4728ACEE.5040504@noaa.gov>
	<e8e7199c0711050525k135c7515mbd6482c63d0d0830@mail.gmail.com>
Message-ID: <4730B5C9.4090502@noaa.gov>

Martin Dobias wrote:
> On 10/31/07, Christopher Barker <Chris.Barker@noaa.gov> wrote:
>> In particular, thinking about a raster band, it could be a pretty good
>> sized bock of data, so we'd want a way to get a GDAL raster band into
>> whatever type you need for QGIS without a whole lot of data copying. By
>> default, we might end up with:
>>
>> gdal generates a raster band. (first copy)
>> it is converted to a Python string (two copies)
>> it is converted to a QGIS raster band equivalent (three copies)
> 
> But the vision is that you will use only QGIS interface to do
> anything, so the will be no need to do copies.

You can use the QGIS interface, but if the QGIS raster classes are not 
the same as GDAL classes (type), then you have to transfer the data 
somehow. If they are the same, then you'll have the same issue with 
other data providers.

But I suppose you mean that in Python, you'll only be using the QGIS 
interface. I guess the question is where it happens. If you have the 
QGIS/GDAL connection all at the C++ level, then I suppose you're right, 
that in python, you'd just use that interface.

However, take Frank's point seriously: GDAL is already a general purpose 
abstraction of raster data, and it already has python bindings. Is it 
really necessary to create another abstraction on top of an abstraction, 
and then create bindings for that?

Maybe it is, but do consider carefully.

Martin Dobias wrote:
> While still using GDAL as a primary data
> provider, there's a need for more flexibility than using only GDAL as
> a raster library:
> - support for application-specific providers: to give users some easy
> way to write a new data provider (in c++ or python)

Could that be accomplished by adding an easier way for users to write a 
new GDAL driver? There's no theoretical difference.

> - add GRASS raster provider - currently we depend on GRASS driver in
> GDAL which produces some problems with packaging especially on
> windows, e.g. you need to first compile GDAL, then GRASS and then GDAL
> again with GRASS support

I'd say figure out a way to make the packaging easier, in either case 
you need QGIS, GDAL, and GRASS, so it wouldn't lessen your dependencies 
(unless you want just grass, and not GDAL, I suppose)

> - we already have WMS raster provider which integrates into QGIS well

How well does GDAL support MWS? could that be improved?









-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov

From mandoluca at gmail.com  Tue Nov  6 14:09:23 2007
From: mandoluca at gmail.com (Luca Mandolesi)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] qgis.gui crash on mac os x 10.4
In-Reply-To: <9767EE3C-E795-4AEF-84D9-1A478F036116@kyngchaos.com>
References: <31f1d37d0709110802wceab87w3a247e8f29fe7a8e@mail.gmail.com>
	<CAF4A477-9E25-4CED-B58C-9DEA3C27BC77@kyngchaos.com>
	<31f1d37d0709110916m34893da8k18dd245717da9298@mail.gmail.com>
	<9767EE3C-E795-4AEF-84D9-1A478F036116@kyngchaos.com>
Message-ID: <31f1d37d0711061109p5aa29764s27a3808b95834a39@mail.gmail.com>

> Even so, sys.path.append adds to the end of the search list, so the
> Qgis bundle will be searched last, and your installed PyQt/SIP will
> be found first.  A better way might be to insert instead of append.
> Try this instead of the sys.path.append:
>
> sys.path.insert(1,'/Applications/qgis0.9.0.app/Contents/MacOS/share/
> qgis/python')
>
> This should put it at the beginning of the search list, but after the
> script path (item 0).
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/

from some day I recive this message when I launch my scripts:

Last login: Tue Nov  6 20:06:22 on ttyp1
Welcome to Darwin!
host95-6-dynamic:~ my_user $ cd
'/Users/my_user/Desktop/plugins/2_basic_main_window/' &&
'/usr/local/bin/pythonw'
'/Users/mando/Desktop/plugins/2_basic_main_window/mainwindow.py'  &&
echo Exit status: $? && exit 1
Fatal Python error: Interpreter not initialized (version mismatch?)
Abort trap

What's meaning?

From warmerdam at pobox.com  Tue Nov  6 14:50:28 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] GDAL Python Bindings
In-Reply-To: <4730B5C9.4090502@noaa.gov>
References: <4728ACEE.5040504@noaa.gov>
	<e8e7199c0711050525k135c7515mbd6482c63d0d0830@mail.gmail.com>
	<4730B5C9.4090502@noaa.gov>
Message-ID: <4730C584.6030007@pobox.com>

Christopher Barker wrote:
> Martin Dobias wrote:
>> While still using GDAL as a primary data
>> provider, there's a need for more flexibility than using only GDAL as
>> a raster library:
>> - support for application-specific providers: to give users some easy
>> way to write a new data provider (in c++ or python)
> 
> Could that be accomplished by adding an easier way for users to write a 
> new GDAL driver? There's no theoretical difference.

Martin,

I agree with Chris on this.  Writing GDAL drivers is already quite
easy.  For normal raster formats, I don't see why it would be valuable
to have a QGIS specific mechanism to implement raster layers.

One thing I would acknowledge is that you can't currently implement a
raster format for GDAL in Python.  I'm not sure how useful it would be
to be able to do so, but if it is it could be added.  I know this is
something that Howard is interested in.

>> - add GRASS raster provider - currently we depend on GRASS driver in
>> GDAL which produces some problems with packaging especially on
>> windows, e.g. you need to first compile GDAL, then GRASS and then GDAL
>> again with GRASS support
> 
> I'd say figure out a way to make the packaging easier, in either case 
> you need QGIS, GDAL, and GRASS, so it wouldn't lessen your dependencies 
> (unless you want just grass, and not GDAL, I suppose)

Right, lets just make this easier.

Maintain a good GRASS driver is not trivial, and it would be nice to
focus the effort on the GDAL implementation which already has some
warts rather than disperse effort over more versions (IMHO).

>> - we already have WMS raster provider which integrates into QGIS well
> 
> How well does GDAL support MWS? could that be improved?

Is this treated strictly as a raster format?  If so, perhaps you would
find the GDAL WMS driver is also suitable.  If however you treat this
as a custom sort of layer with special layer properties and interactions
(for GetFeatureInfo for instance) then why conceptionalize it as a "raster"
layer.

So, while I'd admit I don't know QGIS that well, I'd suggest you leave
yourself open to "custom layer implementations", but focus on GDAL for
the standard QGIS raster layer.  Provide QGIS Python bindings for
setting up and interacting with raster layers but when deeper interaction
is needed with the raster datasource have people move over to the GDAL
Python bindings.

Chris, Mateusz, myself and others are willing to help out as needed.

By way of comparison a few very brief case studies.

1) MapServer: has a few historical non-GDAL raster drivers, but uses
GDAL for all new raster datasources though it is possible for folks to
implement custom layers types for rasters if they want.  But if they do
it will lack many of the features of the real raster layer.

2) MapGuide: Uses FDO for rasters.  FDO has it's own raster data model
which is adequate for visualization but I would claim is weak compared
to GDAL.  The only OpenSource MapGuide raster driver is the GDAL based
one.

3) OpenEV: Has a GvRasterLayer abstraction for raster layers, but there
is only the GDAL based implementation.  This means it is easy within an
OpenEV tool to grab the underlying GDAL dataset for a raster layer, and
do analysis of various sorts based on it without worrying about a weak
intermediate layer with various implementations under it.

4) GRASS: Essentially rasters need to be in GRASS format and are accessed
by the libgis from the internal formats.  GDAL is now used for most import
and export, though other custom programs exist for particular products
(mostly historical).  I would claim that if GRASS were being implemented
from scratch now, it would be much better to treat GDAL's data model as the
GRASS raster data model, and just add some supporting stuff around it to
hold GRASS classifications, etc.

<EmpassionedExhortation>
 From a raster point of view QGIS is essentially a "green field" (no
offence I hope) so why not parter closely with the GDAL team, and
maximize the synergy available instead of duplicating too much.

 From my point of view, I imagine OpenEV continuing to fade away and I
see QGIS as the most obvious Open Source "C++ GIS Desktop" application.
I'd like to make it a convenient place to exploit GDAL's capabilities,
and an environment in which GDAL based modelling and other operations can
be done.  I'd like the GDAL community to think of it as their default
desktop app, and I'd like the QGIS community to think of GDAL as "their"
raster library.
</EmpassionedExhortation>

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From john.tull at wildnevada.org  Tue Nov  6 22:04:28 2007
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Quantum GIS] #784: Qgis vector multipolygon
	crash, OS X
In-Reply-To: <042.a6a0bfff239c34bfe9021519e347e168@qgis.org>
References: <033.e47b4bec55874e88fcd2efd865560a16@qgis.org>
	<042.a6a0bfff239c34bfe9021519e347e168@qgis.org>
Message-ID: <E5504600-21E1-4AD4-BBFA-282337DDCB62@wildnevada.org>

Tested in a fresh build of r7344 and all is working wonderfully.  
(Hmmm, unintentional pun on contribution from 'wonder'.) Whoever you  
are, thanks for the fix. Behavior is as anticipated, and how I  
believed it had worked in the past.

Cheers,
John Tull

On Nov 6, 2007, at 5:39 PM, Quantum GIS wrote:

> #784: Qgis vector multipolygon crash, OS X
> ---------------------------------- 
> +-----------------------------------------
>        Reporter:  jctull         |         Owner:  nobody
>            Type:  bug            |        Status:  closed
>        Priority:  major          |     Milestone:  Version 0.9.1
>       Component:  Build/Install  |       Version:  HEAD
>      Resolution:  fixed          |      Keywords:  vector edit  
> polygons save
> Platform_version:  10.4.10        |      Platform:  OS X
>        Must_fix:  Yes            |   Status_info:  0
> ---------------------------------- 
> +-----------------------------------------
> Changes (by wonder):
>
>  * status:  new => closed
>  * resolution:  => fixed
>
> Comment:
>
> Fixed in r7344.
>
> -- 
> Ticket URL: <https://svn.qgis.org/trac/ticket/784#comment:2>
> Quantum GIS <http://qgis.org>
> Quantum GIS is an Open Source GIS viewer/editor supporting OGR,  
> PostGIS, and GRASS formats


From mendbayar_b at mongol.net  Wed Nov  7 05:56:58 2007
From: mendbayar_b at mongol.net (Byambaa Mendbayar)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] custom compile + MN translation
In-Reply-To: <20071106083525.0af82be2@nature>
Message-ID: <20071107110019.BBA991B6AB@qgis.org>

Dear Otto and devs,

Thanks a lot for reply. Actually I want to compile QGIS from source code on
openSUSE platform. Not a using precompiled one! 

Therefore can you proved to me some useful guide or instruction for building
QGIS from source code for the openSUSE platform? I hope that you will be
help to me.


Translation related thing:
============================
> That's why I would like to ask everybody who contributed to the 
> translation of the QGIS user interface to check the wiki page and write a
> short email to me (otto), what language you are working on, what the
> status is and if you are still available to contribute in the future.

By the way we are translating and maintain Mongolian language on QGIS
around, and we are still available to contribute in the future, our current
status is suspended, recent translation progress is around 100% for 0.8.0
release, not for all in 0.9.0 release. (Originally Dr. Ravsal. OYUN was
translating QGIS in Mongolia; I was revising it after that.)


Best regards,
Byambaa Mendbayar


-----Original Message-----
From: Otto Dassau [mailto:otto.dassau@gmx.de] 
Sent: Tuesday, November 06, 2007 3:35 PM
To: mendbayar_b@mongol.net
Cc: 'Tim Sutton'; 'qgis-developer'
Subject: Re: [Qgis-developer] custom compile

Hi Byambaa and Otto

Otto do you know of anyone that can provide & maintain a SUSE section in the
INSTALL.t2t for folks wanting to build from source?

Regards

Tim

----------------------------------------------------------

Dear Byambaa,

On Tue, 6 Nov 2007 15:19:21 +0800
"Byambaa Mendbayar" <mendbayar_b@mongol.net> wrote:

> Dear Tim Sutton and QGIS developers,
> 
> I want to compile QGIS on my own openSUSE 10.2 platform. I have few
> questions for you.
> 
> 1. Which version is better to develop and using QGIS on 32 bit openSUSE vs
> 64 bit openSUSE? (By the way my hardware have Intel's Q6600 CPU, 2 GB RAM
> and etc...)
> 
> 2. Is there available QGIS compilation instruction for on openSUSE
platform?
> I have found INSTALL file from QGIS SVN trunk sources but it was valid
only
> Debian derived distros.

SuSE packages are available here:
http://download.opensuse.org/repositories/Application:/Geo/

there you also find the src packages for openSUSE 10.2.

Regards,
 Otto



From oleg at crista.uni-wuppertal.de  Wed Nov  7 07:19:14 2007
From: oleg at crista.uni-wuppertal.de (Oleg Gusev)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] compiling trunk without python.
Message-ID: <200711071319.14241.oleg@crista.uni-wuppertal.de>


i have tried to compile the latest SVN version of qgis
but it fails  in qgspythonutils.cpp.
Had python became a requirement to compile qgis ?

 Oleg.

qgis_unstable/src/app/qgspythonutils.cpp:19:20: error: Python.h: No such file 
or directory                        

-- Found Proj: /usr/local/lib/libproj.so
-- Found Sqlite3: /usr/lib64/libsqlite3.so
-- Found GEOS: /usr/local/lib/libgeos.so
-- Found GDAL: /usr/local/lib/libgdal.so
-- Found PostgreSQL: /usr/lib64/libpq.so
-- Found Expat: /usr/lib64/libexpat.so
-- Using GSL from /usr
-- Found GRASS: /usr/local/grass-6.3.cvs (6.3.cvs)
-- Python libraries found
-- SIP python module is missing!
-- PyQt4 not found!
-- Python bindings disabled due dependency problems!
-- Found Qt-Version 4.3.2

From tim at linfiniti.com  Wed Nov  7 07:34:10 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] compiling trunk without python.
In-Reply-To: <200711071319.14241.oleg@crista.uni-wuppertal.de>
References: <200711071319.14241.oleg@crista.uni-wuppertal.de>
Message-ID: <d368056f0711070434g5e606a1fhe27732e0c0e818c9@mail.gmail.com>

Hi

No it should not be a requirement. I'm doing a fresh compile on MSVC
now and will look into, otherwise no doubt Martin will fix it for us
when he sees this.

Regards

Tim

2007/11/7, Oleg Gusev <oleg@crista.uni-wuppertal.de>:
>
> i have tried to compile the latest SVN version of qgis
> but it fails  in qgspythonutils.cpp.
> Had python became a requirement to compile qgis ?
>
>  Oleg.
>
> qgis_unstable/src/app/qgspythonutils.cpp:19:20: error: Python.h: No such file
> or directory
>
> -- Found Proj: /usr/local/lib/libproj.so
> -- Found Sqlite3: /usr/lib64/libsqlite3.so
> -- Found GEOS: /usr/local/lib/libgeos.so
> -- Found GDAL: /usr/local/lib/libgdal.so
> -- Found PostgreSQL: /usr/lib64/libpq.so
> -- Found Expat: /usr/lib64/libexpat.so
> -- Using GSL from /usr
> -- Found GRASS: /usr/local/grass-6.3.cvs (6.3.cvs)
> -- Python libraries found
> -- SIP python module is missing!
> -- PyQt4 not found!
> -- Python bindings disabled due dependency problems!
> -- Found Qt-Version 4.3.2
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From sherman at mrcc.com  Wed Nov  7 09:21:41 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] PSC/Developer Meeting
Message-ID: <816731DD-49C8-405F-8306-4D2337D97D50@mrcc.com>

I would like to have a PSC/Developer meeting this Friday. I would  
suggest starting somewhere in the range of 1400-1700 UTC (6 am to 9am  
Pacific time).

PSC members and others, please let me know if this time will work for  
you.
-gary
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From tim at linfiniti.com  Wed Nov  7 10:56:36 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-PSC] PSC/Developer Meeting
In-Reply-To: <816731DD-49C8-405F-8306-4D2337D97D50@mrcc.com>
References: <816731DD-49C8-405F-8306-4D2337D97D50@mrcc.com>
Message-ID: <d368056f0711070756t74a7dfbdp37c1c7e77bb41b69@mail.gmail.com>

Hi

Should be fine for me.

Regards

Tim

2007/11/7, Gary Sherman <sherman@mrcc.com>:
> I would like to have a PSC/Developer meeting this Friday. I would
> suggest starting somewhere in the range of 1400-1700 UTC (6 am to 9am
> Pacific time).
>
> PSC members and others, please let me know if this time will work for
> you.
> -gary
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> Micro Resources: http://mrcc.com
>    *Geospatial Hosting
>    *Web Site Hosting
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
>
>
> _______________________________________________
> Qgis-PSC mailing list
> Qgis-PSC@mrcc.com
> http://mrcc.com/cgi-bin/mailman/listinfo/qgis-psc
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From wonder.sk at gmail.com  Wed Nov  7 14:05:39 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] compiling trunk without python.
In-Reply-To: <200711071319.14241.oleg@crista.uni-wuppertal.de>
References: <200711071319.14241.oleg@crista.uni-wuppertal.de>
Message-ID: <e8e7199c0711071105j57f25c82je94143b2b017c16e@mail.gmail.com>

Hi,

compilation should work without python.

Your cmake snippet says that python libraries have been found, that
means that also include files should be available. Can you look at the
contents of the following cmake variables? (e.g. by using ccmake)
PYTHON_LIBRARIES
PYTHON_INCLUDE_PATH

Is there Python.h file somewhere in your system?
Also please run compilation again in verbose mode:
make VERBOSE=1
... and paste here the compiler line used for compilation of qgspythonutils.cpp


Martin

On 11/7/07, Oleg Gusev <oleg@crista.uni-wuppertal.de> wrote:
>
> i have tried to compile the latest SVN version of qgis
> but it fails  in qgspythonutils.cpp.
> Had python became a requirement to compile qgis ?
>
>  Oleg.
>
> qgis_unstable/src/app/qgspythonutils.cpp:19:20: error: Python.h: No such file
> or directory
>
> -- Found Proj: /usr/local/lib/libproj.so
> -- Found Sqlite3: /usr/lib64/libsqlite3.so
> -- Found GEOS: /usr/local/lib/libgeos.so
> -- Found GDAL: /usr/local/lib/libgdal.so
> -- Found PostgreSQL: /usr/lib64/libpq.so
> -- Found Expat: /usr/lib64/libexpat.so
> -- Using GSL from /usr
> -- Found GRASS: /usr/local/grass-6.3.cvs (6.3.cvs)
> -- Python libraries found
> -- SIP python module is missing!
> -- PyQt4 not found!
> -- Python bindings disabled due dependency problems!
> -- Found Qt-Version 4.3.2
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From frdcn at hotmail.com  Wed Nov  7 14:05:40 2007
From: frdcn at hotmail.com (godofredo contreras)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [QGIS Commit] SVN [godofredo] r7284 -
 branches/ogr-plugin-branch/src/app
In-Reply-To: <e8e7199c0710240503k5b35ee7r662f89143d9a4af6@mail.gmail.com>
References: <20071022203949.DE832920D6@svn.qgis.org>
	<471D1CD3.2050104@o2.pl>	 <BAY110-W4252BDA26D7DE1C09115AB29B0@phx.gbl> 
	<e8e7199c0710240503k5b35ee7r662f89143d9a4af6@mail.gmail.com>
Message-ID: <BAY110-W1751FABDF05EB5BE086982B28A0@phx.gbl>

Hi Martin:

I?m working in fixing the dependency introduced by the files in dbutilities of core
what do you think about this organization of files in dbutilities:

qgsurimanager  will be deprecated and qgsdatasourceuri will be used
qgsconnectionmanager has no extra dependencies and could be kept in core/dbutilities
qgsconnection has no extra dependencies and could be kept in core/dbutilities
qgsdatabaseconnectionbase is used as an interface for (qgspostgresdatabaseconnection and qgsogrdatabaseconnection) has no extra
                       dependencies and could be kept in core/dbutilities
qgsgeomcolumntypethread and qgspostgresdatabaseconnection are postgres specific (not really sure) if they are moved to providers
                       then I need to add a dependency in app to postgres provider
qgsogrdatabaseconnection is ogr specific, same case that the above one

Regards 

Godofredo Contreras





> Date: Wed, 24 Oct 2007 14:03:05 +0200
> From: wonder.sk@gmail.com
> To: frdcn@hotmail.com
> Subject: Re: [Qgis-developer] [QGIS Commit] SVN [godofredo] r7284 - branches/ogr-plugin-branch/src/app
> CC: tutey@o2.pl; qgis-developer@lists.qgis.org
> 
> Hi Godofredo,
> 
> when briefly looking at your changes I have some notes:
> - it seems that QgsURIManager class does pretty much the same as
> QgsDataSourceURI class which is already a part of core library
> - you've introduced postresql dependency to core library - this is not
> a good thing. One solution could be to make this dependency optional,
> however I would prefer to move all postgres-related code to provider
> or some other, more appropriate place.
> 
> Bye
> Martin
> 
> On 10/23/07, godofredo contreras <frdcn@hotmail.com> wrote:
> >
> > Hi:
> >
> > This change was to add the ability to create mysql, oracle and postgres
> > vector layers
> > via ogr provider, the other changes were in the "add postgis layer dialog"
> > that now
> > support different kinds of connections in addition to postgres. The new
> > classes in
> > core/dbutilities are used to separate connection management from the dialogs
> > and
> > that will be used to update SPIT to work with  mysql, and oracle.
> >
> > There are some plans to support layer creation, and Tim suggested to work a
> > little
> > with QgsVectorWriter to support some kind of export functionality, but I
> > think this will
> > be until second stage (once ogr spatial database layer creation and spit
> > will be working ).
> >
> > Regars
> >
> > Godofredo Contreras
> >

_________________________________________________________________
Windows Live Hotmail and Microsoft Office Outlook ? together at last. ?Get it now.
http://office.microsoft.com/en-us/outlook/HA102225181033.aspx?pid=CL100626971033
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071107/bcf1253e/attachment.html
From wonder.sk at gmail.com  Wed Nov  7 14:07:24 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-PSC] PSC/Developer Meeting
In-Reply-To: <816731DD-49C8-405F-8306-4D2337D97D50@mrcc.com>
References: <816731DD-49C8-405F-8306-4D2337D97D50@mrcc.com>
Message-ID: <e8e7199c0711071107j63844570u4c424ab8b40a0790@mail.gmail.com>

Hi,

that time should be OK for me.

Martin

On 11/7/07, Gary Sherman <sherman@mrcc.com> wrote:
> I would like to have a PSC/Developer meeting this Friday. I would
> suggest starting somewhere in the range of 1400-1700 UTC (6 am to 9am
> Pacific time).
>
> PSC members and others, please let me know if this time will work for
> you.
> -gary
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> Micro Resources: http://mrcc.com
>    *Geospatial Hosting
>    *Web Site Hosting
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
>
>
> _______________________________________________
> Qgis-PSC mailing list
> Qgis-PSC@mrcc.com
> http://mrcc.com/cgi-bin/mailman/listinfo/qgis-psc
>

From wonder.sk at gmail.com  Wed Nov  7 14:43:06 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] GDAL Python Bindings
In-Reply-To: <4730C584.6030007@pobox.com>
References: <4728ACEE.5040504@noaa.gov>
	<e8e7199c0711050525k135c7515mbd6482c63d0d0830@mail.gmail.com>
	<4730B5C9.4090502@noaa.gov> <4730C584.6030007@pobox.com>
Message-ID: <e8e7199c0711071143j3de31b8fpe102bb31d4fe4c02@mail.gmail.com>

Hi again,

I've been thinking a lot about the situation and I'm getting convinced
that supporting only GDAL would be the best solution:
- in case of need for some special data there could be possibility to
import them and handle with GDAL backend. My idea was originally that
if we have several data providers for vector data, the same should be
applied for rasters, however I didn't realize that GDAL comes with
much more functionality than just to read/write raster files
- with some help from GDAL developers we could take a look at the
raster subsystem in QGIS and find out how to make it better

There is currently some refactorization work going on in QGIS rasters
area so nowadays is the good time to make decisions. In fact I have
dug in myself nearly to all pieces of code in QGIS but rasters are
somehow still a black box for me since I never use raster data, thus
it would be wiser if QGIS raster crew put their opinions to the
discussion...

Btw. thanks Frank for the brief overview of raster support in other
GIS systems and I completely agree with your <EmpassionedExhortation>
section :-)

Regards
Martin

From Chris.Barker at noaa.gov  Wed Nov  7 15:07:58 2007
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] GDAL Python Bindings
In-Reply-To: <4730C584.6030007@pobox.com>
References: <4728ACEE.5040504@noaa.gov>
	<e8e7199c0711050525k135c7515mbd6482c63d0d0830@mail.gmail.com>
	<4730B5C9.4090502@noaa.gov> <4730C584.6030007@pobox.com>
Message-ID: <47321B1E.8000407@noaa.gov>

Frank Warmerdam wrote:
> One thing I would acknowledge is that you can't currently implement a
> raster format for GDAL in Python.  I'm not sure how useful it would be
> to be able to do so,

I think it would be very useful.

To go along with Frank's impassioned plea:

Being able to drive and customize QGIS with Python is the final straw 
for me -- it is clearly becoming THE way to go for custom desktop GIS apps.

Being a python fanatic, I'd like to be able to do everything in python, 
including things like writing a new raster driver. With numpy and a 
clean connection between gdal and numpy, it could even be done efficiently.

Yes, there are issues/limitations with GDAL's python wrappers, but they 
are solid an useful and the GDAL team is very open to improving them -- 
let's pool our efforts, not split them.

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov

From oleg at crista.uni-wuppertal.de  Wed Nov  7 15:09:27 2007
From: oleg at crista.uni-wuppertal.de (Oleg Gusev)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] compiling trunk without python.
In-Reply-To: <e8e7199c0711071105j57f25c82je94143b2b017c16e@mail.gmail.com>
References: <200711071319.14241.oleg@crista.uni-wuppertal.de>
	<e8e7199c0711071105j57f25c82je94143b2b017c16e@mail.gmail.com>
Message-ID: <200711072109.27846.oleg@crista.uni-wuppertal.de>

Am Mittwoch 07 November 2007 20:05:39 schrieben Sie:
>
> Your cmake snippet says that python libraries have been found, that
> means that also include files should be available. 
>
Hi Martin,

 thanks for your help, it was a stale /usr/include/python2.4 in the 
 cmake cache. Python was already updated to 2.5.

 Oleg.

From wonder.sk at gmail.com  Wed Nov  7 16:39:53 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [QGIS Commit] SVN [godofredo] r7284 -
	branches/ogr-plugin-branch/src/app
In-Reply-To: <BAY110-W1751FABDF05EB5BE086982B28A0@phx.gbl>
References: <20071022203949.DE832920D6@svn.qgis.org> <471D1CD3.2050104@o2.pl>
	<BAY110-W4252BDA26D7DE1C09115AB29B0@phx.gbl>
	<e8e7199c0710240503k5b35ee7r662f89143d9a4af6@mail.gmail.com>
	<BAY110-W1751FABDF05EB5BE086982B28A0@phx.gbl>
Message-ID: <e8e7199c0711071339j351f1596x5e3c1610fc52262d@mail.gmail.com>

Hi Godofredo,

On 11/7/07, godofredo contreras <frdcn@hotmail.com> wrote:
>
> Hi Martin:
>
> I?m working in fixing the dependency introduced by the files in dbutilities
> of core
> what do you think about this organization of files in dbutilities:
>
> qgsurimanager  will be deprecated and qgsdatasourceuri will be used
> qgsconnectionmanager has no extra dependencies and could be kept in
> core/dbutilities
> qgsconnection has no extra dependencies and could be kept in
> core/dbutilities
> qgsdatabaseconnectionbase is used as an interface for
> (qgspostgresdatabaseconnection and qgsogrdatabaseconnection) has no extra
>                        dependencies and could be kept in core/dbutilities

OK, looks good.

> qgsgeomcolumntypethread and qgspostgresdatabaseconnection are postgres
> specific (not really sure) if they are moved to providers
>                        then I need to add a dependency in app to postgres
> provider
> qgsogrdatabaseconnection is ogr specific, same case that the above one

postgres stuff must really go away from core lib. Ogr stuff doesn't
matter as we depend on it already.
In fact, in my opinion I would prefer to put this all to src/app. Once
stabilised completely (API-wise) we can decide to put it to core
library. Or is there any reason why it must be in core library?
When postgres support is enabled, qgis app also links to postgres
library, so you could eventually leave QgsPostgresDatabaseConnection
there (with #ifdefs to ensure that it won't be compiled with postgres
support off).

However these all problems say that our design of providers should be revisited.

Martin

From tim at linfiniti.com  Wed Nov  7 22:01:35 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Temporary outage of QGIS Wiki
Message-ID: <d368056f0711071901n5224f4bfu60379afbaf68e4ad@mail.gmail.com>

Hi Folks

The QGIS wiki will be temporarily offline while I do some server admin
stuff. I expect it to be online again  sometime during the next 24
hours.

Thank you for your patience.

Regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From sherman at mrcc.com  Thu Nov  8 00:15:36 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] GDAL Python Bindings
In-Reply-To: <e8e7199c0711071143j3de31b8fpe102bb31d4fe4c02@mail.gmail.com>
References: <4728ACEE.5040504@noaa.gov>
	<e8e7199c0711050525k135c7515mbd6482c63d0d0830@mail.gmail.com>
	<4730B5C9.4090502@noaa.gov> <4730C584.6030007@pobox.com>
	<e8e7199c0711071143j3de31b8fpe102bb31d4fe4c02@mail.gmail.com>
Message-ID: <BDB23B8D-838F-492F-A1D6-8FCD10091205@mrcc.com>


On Nov 7, 2007, at 10:43 AM, Martin Dobias wrote:

> Btw. thanks Frank for the brief overview of raster support in other
> GIS systems and I completely agree with your <EmpassionedExhortation>
> section :-)


+1

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From marco.hugentobler at karto.baug.ethz.ch  Thu Nov  8 01:55:32 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [Qgis-PSC] PSC/Developer Meeting
In-Reply-To: <816731DD-49C8-405F-8306-4D2337D97D50@mrcc.com>
References: <816731DD-49C8-405F-8306-4D2337D97D50@mrcc.com>
Message-ID: <200711080755.32228.marco.hugentobler@karto.baug.ethz.ch>

Hi,

I could attend from 14:00-16:00 UTC

Regards,
Marco

On Wednesday 07 November 2007 15:21:41 Gary Sherman wrote:
> I would like to have a PSC/Developer meeting this Friday. I would
> suggest starting somewhere in the range of 1400-1700 UTC (6 am to 9am
> Pacific time).
>
> PSC members and others, please let me know if this time will work for
> you.
> -gary
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> Micro Resources: http://mrcc.com
>    *Geospatial Hosting
>    *Web Site Hosting
> "We work virtually everywhere"
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
>
>
> _______________________________________________
> Qgis-PSC mailing list
> Qgis-PSC@mrcc.com
> http://mrcc.com/cgi-bin/mailman/listinfo/qgis-psc



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From marco.hugentobler at karto.baug.ethz.ch  Thu Nov  8 02:43:36 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Low Hanging Fruit - QGIS 0.9.1 Bug Triage
In-Reply-To: <3DBA641A-DF83-472A-AC3E-CC5960707891@wildnevada.org>
References: <d368056f0711041803kf39951fu4eb8c879ce345735@mail.gmail.com>
	<3DBA641A-DF83-472A-AC3E-CC5960707891@wildnevada.org>
Message-ID: <200711080843.36667.marco.hugentobler@karto.baug.ethz.ch>

Hi John,

I tested this and I have the impression that it works sometimes and sometimes 
not. I'll try to look at it during the next week (and also with the editing 
branch). Btw. it is not a mac specific bug, only pure platform independent 
programming :-)

Regards,
Marco

On Tuesday 06 November 2007 00:40:57 John C. Tull wrote:
> A real show-stopper in editing for me has been this bug I submitted 2
> weeks ago: not being able to combine polygons from separate vector
> layers or multiple polygons from a single layer into a new layer.
> Perhaps a mac programmer can look into this (I wish I could help, but
> not a coder)?
>
> https://svn.qgis.org/trac/ticket/784
>
> Cheers,
> John
>
> On Nov 4, 2007, at 6:03 PM, Tim Sutton wrote:
> > Hi All
> >
> > Since we have to wait a month or so before we can get QGIS 0.9.1 out,
> > I would like to propose  a bug triage month. I created a page on the
> > trac wiki that explains a little more:
> >
> > https://svn.qgis.org/trac/wiki/BugTriage0.9.1
> >
> > Basically for those interested to contribute, I am suggesting to try
> > to find 5 bugs in the bug queue that you think you can squash during
> > the month of November. Add your name and the bug id's that you will be
> > squashing to the above page, and lets work towards getting QGIS bug
> > free! There are no bug bounties, free t-shirts etc at stake, just the
> > opportunity to feel warm & fuzzy knowing you made QGIS a little bit
> > better!
> >
> > Also I really encourage you to pick the easy ones / low hanging fruit
> > so that we can get the obvious stuff out the way and focus on the real
> > issues.
> >
> > Best regards
> >
> > --
> > Tim Sutton
> > QGIS Project Steering Committee Member - Release  Manager
> > Visit http://qgis.org for a great open source GIS
> > openModeller Desktop Developer
> > Visit http://openModeller.sf.net for a great open source ecological
> > niche modelling tool
> > Home Page: http://tim.linfiniti.com
> > Skype: timlinux
> > Irc: timlinux on #qgis at freenode.net
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From marco.hugentobler at karto.baug.ethz.ch  Thu Nov  8 03:05:39 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] Advanced editing branch
In-Reply-To: <5CBF1B57-DD37-426F-898D-053A05E5EE22@wildnevada.org>
References: <5CBF1B57-DD37-426F-898D-053A05E5EE22@wildnevada.org>
Message-ID: <200711080905.39155.marco.hugentobler@karto.baug.ethz.ch>

Hi John,

> Are there more features from this branch that are not so
> obvious...?

There is also the possibility to snap to background layers and to set 
tolerances for each layer to snap (to vertex, segment or both). Also, it is 
possible to do topological editing, e.g. if a vertex is moved in a polygon 
mosaic, the vertex of the adjacent polygon should also be moved. 
Also, it is possible to activate 'remove polygon intersection' button. The 
result is that if you digitize a polygon that overlaps others, the overlaping 
areas are removed from the polygon.

You find this setting in settings -> project properties -> digitizing. 


> A while back, I had put in a feature request for multiple vertex
> deletion. This is something that exists in OpenJump, but I much prefer
> Qgis and am hopeful that this will happen at some point. Marco had
> commented about the possibility of implementing this, but it was in
> the idea phase. This would be an immensely useful tool and could be
> extended to allow moves of a subset of vertices with the move tool in
> addition to multiple deletion if a vertex selection tool were
> developed. See this thread for a recap:
> http://www.nabble.com/Vertex-edits-and-selection-t4178483.html

I also think this is a useful feature. It is not implemented in the branch 
because it is usually a big step from idea phase to implementation phase :-). 

Please fill a ticket to the tracker with type 'enhancement' so that it does 
not get forgotten.

Regards,
Marco 


On Sunday 04 November 2007 17:20:23 John C. Tull wrote:
> Tom & Marco,
>
> First, the move and split feature tools are great. Those will be very
> useful. I had no problem using those in a test polygon on OS X after
> the geos fix. Are there more features from this branch that are not so
> obvious (map tools and digitizing prefs maybe)? I was not able to find
> documentation on the project.
>
> A while back, I had put in a feature request for multiple vertex
> deletion. This is something that exists in OpenJump, but I much prefer
> Qgis and am hopeful that this will happen at some point. Marco had
> commented about the possibility of implementing this, but it was in
> the idea phase. This would be an immensely useful tool and could be
> extended to allow moves of a subset of vertices with the move tool in
> addition to multiple deletion if a vertex selection tool were
> developed. See this thread for a recap:
> http://www.nabble.com/Vertex-edits-and-selection-t4178483.html
>
> Also, will there be an undo feature. I recall someone discussing
> adding a program-wide undo feature. This would be good for handling
> editing goofs.
>
> I appreciate your great coding efforts. Good luck on the progress.
>
> Thanks,
> John



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From marco.hugentobler at karto.baug.ethz.ch  Thu Nov  8 04:10:31 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] color ramps for vector graduated symbols
	(ticket #782)
In-Reply-To: <5383fa5e0710251321h1a301b17g9962cd406a55a451@mail.gmail.com>
References: <200710251500.00516.marco.hugentobler@karto.baug.ethz.ch>
	<5383fa5e0710251321h1a301b17g9962cd406a55a451@mail.gmail.com>
Message-ID: <200711081010.31653.marco.hugentobler@karto.baug.ethz.ch>

Hi Matthew,

I had a look at the color ramps patch and in my opinion, this is a really cool 
and useful enhancement.

Some suggestions:
- As you already wrote, it would be good to parse the directory and have a 
dropdown list
- It would be more Qt style (and probably more platform independent) to use 
the QTextStream class instead of C i/o methods
- It seems to me that these .cpt files already define the number of steps and 
the class boundaries. Maybe it would be an option to have a button 'from 
color ramp...' in the graduated symbol dialog that opens a dialog where the 
available ranges are visualised. Then, after selecting and clicking ok, the 
classes, number of classes and their boundaries are directly inserted into 
the list. The same dialog could also be used for the continuous renderer 
(where the interpretation of the ramps would be continuous) so the ramps 
could be stored in one directore. What do you think?



Regards,
Marco



On Thursday 25 October 2007 22:21:07 you wrote:
> Marco,
>
>   Thanks for taking an interest in it.I've been doing a bit more
> research into it and I think that .cpt color ramps are the way to go.
> They are widely supported by GMT and can describe both continuous and
> discrete ramps. The format is 8 columns, tab delimited describing:
>
> begin_value red green blue end_value red green blue
>
> so this can easily be made into a discrete ramp by making the beginng
> and ending rgb equal. There are alot of .cpt ramps available from
> http://sview01.wiredworkplace.net/pub/cpt-city/
>
> I've begun a to write some code to parse cpt ramps and interpolate
> colors based on input values. It works but only for graduated symbols
> and there are alot of hardcoded paths and no UI. It is very clunky at
> the moment but I hope to clean it up and post a patch this weekend.
>
> I think your suggestion of having a color ramp directory in share/qgis
> is perfect. Files available from this dir could populate a dropdown
> list in the graduatedsymbol ui and the color could be loaded from the
> file on demand.
>
>
> I'll keep you posted.
>
> - matt
>
> On 10/25/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
> > Hi Perrygeo,
> >
> > A flexible solution for color ramps as you describe it in ticket 782
> > would be a really great enhancement for qgis.
> >
> > >The remaining questions are:
> > > - what file format works to define the color ramps? have to allow for
> > > all 4 of the above types. As much as possible, leverage existing
> > > formats like gmt and grass color ramps.
> > >
> >  >- how do the ramps get "registered" with qgis so that they can be made
> > >
> > >available to the user?
> > >- how do they get integrated with the UI? preferably a dropdown list of
> > > color ramps with a small representative image of the ramp itself.
> > > - how to we implement the algorithm to determine the rgb color for
> > > ramps of type #1 and #2?
> >
> > Registered ramps could be stored in a dedicated directory under
> > share/qgis, similar to the way it is done with the svg markers.
> >
> > Hopefully you can find a good storage format for the ramps. If there is
> > no format that meets all your requirements, you could still design your
> > own xml based language  (crml = color ramp markup language)
> >
> > Regards,
> > Marco
> >
> >
> >
> >
> > --
> > Dr. Marco Hugentobler
> > Institute of Cartography
> > ETH Zurich
> > Technical Advisor QGIS Project Steering Committee
> > marco.hugentobler@karto.baug.ethz.ch



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From frdcn at hotmail.com  Thu Nov  8 10:14:42 2007
From: frdcn at hotmail.com (godofredo contreras)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] [QGIS Commit] SVN [godofredo] r7284 -
 branches/ogr-plugin-branch/src/app
In-Reply-To: <e8e7199c0711071339j351f1596x5e3c1610fc52262d@mail.gmail.com>
References: <20071022203949.DE832920D6@svn.qgis.org>
	<471D1CD3.2050104@o2.pl>	 <BAY110-W4252BDA26D7DE1C09115AB29B0@phx.gbl>
	<e8e7199c0710240503k5b35ee7r662f89143d9a4af6@mail.gmail.com>
	<BAY110-W1751FABDF05EB5BE086982B28A0@phx.gbl> 
	<e8e7199c0711071339j351f1596x5e3c1610fc52262d@mail.gmail.com>
Message-ID: <BAY110-W216E7403843B15D756013AB28B0@phx.gbl>

           The idea to keep qgsdatabaseconnectionbase and qgsconnectionmanager is to reuse
this classes in the refactoring of spit and for the ogr plugin(layer cretion and utilities), If we move them to app 
how could we call that classes?

           Also I was thinking in using a similar aproach to QgsVectorLayerin QgsDatabaseConnectionBase but
checking the code I saw that QgsProviderRegistry::instance() gives access just to provider class not to other
classes compiled in provider(assuming that we move qgspostgresdatabaseconnection and qgsogrdatabaseconnection to their respective
provider), do you know if there are a form to access other classes in the provider in runtime?

Regards
Godofredo Contreras



> Date: Wed, 7 Nov 2007 22:39:53 +0100
> From: wonder.sk@gmail.com
> To: frdcn@hotmail.com
> Subject: Re: [Qgis-developer] [QGIS Commit] SVN [godofredo] r7284 - branches/ogr-plugin-branch/src/app
> CC: qgis-developer@lists.qgis.org
> 
> Hi Godofredo,
> 
> On 11/7/07, godofredo contreras <frdcn@hotmail.com> wrote:
> >
> > Hi Martin:
> >
> > I?m working in fixing the dependency introduced by the files in dbutilities
> > of core
> > what do you think about this organization of files in dbutilities:
> >
> > qgsurimanager  will be deprecated and qgsdatasourceuri will be used
> > qgsconnectionmanager has no extra dependencies and could be kept in
> > core/dbutilities
> > qgsconnection has no extra dependencies and could be kept in
> > core/dbutilities
> > qgsdatabaseconnectionbase is used as an interface for
> > (qgspostgresdatabaseconnection and qgsogrdatabaseconnection) has no extra
> >                        dependencies and could be kept in core/dbutilities
> 
> OK, looks good.
> 
> > qgsgeomcolumntypethread and qgspostgresdatabaseconnection are postgres
> > specific (not really sure) if they are moved to providers
> >                        then I need to add a dependency in app to postgres
> > provider
> > qgsogrdatabaseconnection is ogr specific, same case that the above one
> 
> postgres stuff must really go away from core lib. Ogr stuff doesn't
> matter as we depend on it already.
> In fact, in my opinion I would prefer to put this all to src/app. Once
> stabilised completely (API-wise) we can decide to put it to core
> library. Or is there any reason why it must be in core library?
> When postgres support is enabled, qgis app also links to postgres
> library, so you could eventually leave QgsPostgresDatabaseConnection
> there (with #ifdefs to ensure that it won't be compiled with postgres
> support off).
> 
> However these all problems say that our design of providers should be revisited.
> 
> Martin

_________________________________________________________________
Boo!?Scare away worms, viruses and so much more! Try Windows Live OneCare!
http://onecare.live.com/standard/en-us/purchase/trial.aspx?s_cid=wl_hotmailnews
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071108/8583c075/attachment.html
From perrygeo at gmail.com  Thu Nov  8 12:22:19 2007
From: perrygeo at gmail.com (Matthew Perry)
Date: Wed Feb  6 23:25:15 2008
Subject: [Qgis-developer] color ramps for vector graduated symbols
	(ticket #782)
In-Reply-To: <200711081010.31653.marco.hugentobler@karto.baug.ethz.ch>
References: <200710251500.00516.marco.hugentobler@karto.baug.ethz.ch>
	<5383fa5e0710251321h1a301b17g9962cd406a55a451@mail.gmail.com>
	<200711081010.31653.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <5383fa5e0711080922j5556820l3a60eacf8127c164@mail.gmail.com>

Marco,

On 11/8/07, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch> wrote:
>
> Hi Matthew,
>
> I had a look at the color ramps patch and in my opinion, this is a really
> cool
> and useful enhancement.
>
> Some suggestions:
> - As you already wrote, it would be good to parse the directory and have a
> dropdown list


Yes. It's an easy fix and I have that working on my dev version (see
screenshot at http://perrygeo.net/img/Screenshot.jpg). I'll get another
patch out this weekend.

IMO the next UI enhancement would be to, instead of list the names of the
color ramp, show a small jpg so you can inspect the ramp visually.

- It would be more Qt style (and probably more platform independent) to use
> the QTextStream class instead of C i/o methods


Good to know. The C i/o and parsing style always felt a bit clunky.

- It seems to me that these .cpt files already define the number of steps
> and
> the class boundaries. Maybe it would be an option to have a button 'from
> color ramp...' in the graduated symbol dialog that opens a dialog where
> the
> available ranges are visualised. Then, after selecting and clicking ok,
> the
> classes, number of classes and their boundaries are directly inserted into
> the list. The same dialog could also be used for the continuous renderer
> (where the interpretation of the ramps would be continuous) so the ramps
> could be stored in one directore. What do you think?


I like having the color ramp as another standard option in the main dialog
window. I'm not sure if Qt can do this but it would be nice to see a
dropdown of visual representations of the ramps (a bunch of 100x20 jpgs) to
select from. But in terms of a dialog box that could be used in other
contexts, your idea of having a "From Color Ramp" button might be better.

In terms of getting this implemented, I just hacked this patch together for
graduated symbols but it would be worthwhile to abstract the color ramp
handling into a separate class so that all the various renderers can it.

-- 
Matthew T. Perry
http://www.perrygeo.net
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071108/180c9661/attachment.html
From cavallini at faunalia.it  Thu Nov  8 12:42:52 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] bug in postgis connection?
In-Reply-To: <e8e7199c0711060834h532f09ferd3cb146efe954be2@mail.gmail.com>
References: <4726EF40.7000702@faunalia.it>
	<e8e7199c0711060834h532f09ferd3cb146efe954be2@mail.gmail.com>
Message-ID: <47334A9C.3030008@faunalia.it>

Martin Dobias ha scritto:

> there have been some changes in postgres provider (commits 7268, 7269,
> 7270) so it's possible - can you revert to a revision before these
> commits (e.g. 7267) to make sure that it's caused by them?

> On 10/30/07, Paolo Cavallini <cavallini@faunalia.it> wrote:
>> Apparently we spotted another bug in 0.9 (from svn, 2007-10-25):
>> culumns from joined views are not shown, and appear as zeroes.
>> anyone with the same problem?

Hi Martin.
I'll not be able to do this in the near future; could someone confirm it
as a bug?
Many thanks.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071108/a1adc910/signature.bin
From mccue at acm.caltech.edu  Thu Nov  8 15:15:37 2007
From: mccue at acm.caltech.edu (mccue@acm.caltech.edu)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Some errata on linux installations of qgis
In-Reply-To: <mailman.1522.1194465975.19479.qgis-developer@lists.qgis.org>
References: <mailman.1522.1194465975.19479.qgis-developer@lists.qgis.org>
Message-ID: <57024.131.215.34.38.1194552937.squirrel@secure.acm.caltech.edu>

Developers:

  Several problems  are  disussed here, with the plugins and compiling
from source.  I would classify these problems as "errata", since there
are work  arounds, but since I've spent some time on these I thought I
would share my experience.  Since everything is changing so rapidly on
qgis it probably isn't worthwhile dealing with these at the moment.

  I'm  not really a systems person  but I've been playing around  with
qgis installation the last few days, trying to make plugins work (I am
using  the  newlayer plugin from the  recent workshop).   I  have four
different configurations I am using, arranged as:

          Packages   Source   Version     File version gotten from
  Debian    I          II     lenny/sid     /etc/debian_version
  Ubuntu    III        IV     4.0           /etc/debian_version

(the source is the trunc on svn).  On all these combinations,

  % python /usr/local/share/qgis/python/plugins/new_layer/__init__.py

  runs fine (at least, $? returns 0 and there are no error messages).

as does
  /home/mccue/dev/cpp/share/qgis/python/plugins/new_layer/__init__.py

when I use it for qgis built from source.  This plugin seems to  work,
except  in  case (III),  I  get error  messages in  a separate  window
(labelled "Error"), of the form:

  Couldn't load plugin "newlayer"

  Traceback (most recent call last):
   File "", line 2, in
  ImportError: No module named newlayer

The plugin manager now reports this plugin as __error__
  __error__ appears in the name field on the plugin manager (also in
  the version and description fields)

Packages

Debian (lenny/sid)|qgis from package (I)

  This was installed by a system administrator.

Debian (lenny/sid)|qgis from source (II)

  This install went smoothly--the flag

     cmake -D CMAKE_INSTALL_PREFIX=${HOME}/dev/cpp/ ..

  is needed.

Ubuntu (4.0)|qgis from package (III)

    While  trying to install quantum from  source  I used the  following
  commands   listed  on   http://www.perrygeo.net/wordpress/?cat=2.

  sudo apt-get -y install qgis grass qgis-plugin-grass mapserver-bin gdal-bin
  cgi-python-qt4 python-sip4 python-gdal python-mapscript gmt   \
  gmt-coastline-data r-recommended gpsbabel shapelib libgdal1-1.4.0-grass

  Then has perrygeo suggest, I did

  http://qgis.org/uploadfiles/testbuilds/qgis0.9.0.debs_ubuntu_gutsy.tar.gz

  and run through a few .deb dpkg installations (see perrygeo for details).

  This  worked  (I had to do some tweaking--I  think  libgdal1-1.3.2 was
  what was available so I used it).  I don't know whether these commands
  are available on your website (your wiki  for installation didn't have
  it--I can't check now because the wiki is down).

  This gives me 0.9 of qgis

Ubuntu (4.0)|qgis from source (III)

  Now  I  do  a svn  checkout  and  have  the  following  problems  in
  compiling/installing 0.9.1.  Once again the CMAKE_INSTALL_PREFIX is
  needed

     cmake -D CMAKE_INSTALL_PREFIX=${HOME}/dev/cpp/ ..

cmake/Python.cmake needs to be modified:

Change

#TRY_RUN_PYTHON (RES
#  "import PyQt4.pyqtconfig\nprint PyQt4.pyqtconfig._pkg_config['pyqt_sip_dir']"
#     PYQT_SIP_DIR)

to
TRY_RUN_PYTHON (RES
"import PyQt4.pyqtconfig_nd\nprint PyQt4.pyqtconfig_nd._pkg_config['pyqt_sip_dir
PYQT_SIP_DIR)

since

  PyQt4.pyqtconfig._pkg_config['pyqt_sip_dir']

    doesn't work (PyQt4.pyqtconfig doesn't have _pkg_config) and

  PyQt4.pyqtconfig_nd._pkg_config['pyqt_sip_dir']

    does (PyQt4.pyqtconfig_nd has _pkg_conifg)

  With this change make goes all the way through.  Now, on make install

  BINDINGS_GLOBAL_INSTALL

    had to be set to make the installation work

  Then make install died with this error

  CMake Error: Error in cmake code at
  /home/mccue/dev/cpp/qgis/cmake_install.cmake:50:
  FILE Internal CMake error when trying to open file:
     /home/mccue/dev/cpp/qgis/install_manifest.txt for writing.
  Current CMake stack: /home/mccue/dev/cpp/qgis/cmake_install.cmake
  make: *** [install] Error 255

  But  looking  at  the  cmake_install.cmake  it  seems  that  all the
  installation was  done  before this error was hit, and qgis seems to
  work

                                   Ken McCue
                                   Research Scientist
                                   California Institute of Technology


From john.tull at wildnevada.org  Thu Nov  8 16:56:56 2007
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Low Hanging Fruit - QGIS 0.9.1 Bug Triage
In-Reply-To: <200711080843.36667.marco.hugentobler@karto.baug.ethz.ch>
References: <d368056f0711041803kf39951fu4eb8c879ce345735@mail.gmail.com>
	<3DBA641A-DF83-472A-AC3E-CC5960707891@wildnevada.org>
	<200711080843.36667.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <27154567-51E8-4267-B7B6-4D0521CA4BF0@wildnevada.org>

Marco,

Thanks for the follow-up. After my initial belief that it was working  
well, I did start hitting some intermittent crashes last night while  
doing some polygon copy/paste edits. I received a segmentation fault  
error, assuming I am recalling the correct crash last evening. It was  
a long day, and I was in too much of a crunch to make notes on bug  
issues.

Cheers,
John

On Nov 7, 2007, at 11:43 PM, Marco Hugentobler wrote:

> Hi John,
>
> I tested this and I have the impression that it works sometimes and  
> sometimes
> not. I'll try to look at it during the next week (and also with the  
> editing
> branch). Btw. it is not a mac specific bug, only pure platform  
> independent
> programming :-)
>
> Regards,
> Marco


From sherman at mrcc.com  Thu Nov  8 20:06:47 2007
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Friday Meeting time
Message-ID: <1C0CF191-F31D-4D92-A483-D9D423E9BE36@mrcc.com>

The meeting will commence at 1500 UTC on Friday, November 9th.

To see meeting times for your area, go to:
http://timeanddate.com/worldclock/meetingdetails.html?year=2007&month=11&day=9&hour=15&min=0&sec=0&p1=456&p2=43&p3=268&p4=137

Since the wiki is still out of commission, please send agenda items to  
qgis-developer with a subject line of  "QGIS Meeting Agenda Item". I  
will collect them and post them online (somewhere) prior to the meeting.

We'll meet on #qgis-meeting on IRC.

-gary

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Chair, QGIS Project Steering Committee
Micro Resources: http://mrcc.com
   *Geospatial Hosting
   *Web Site Hosting
"We work virtually everywhere"
Desktop GIS: http://desktopgisbook.com
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-




From tim at linfiniti.com  Thu Nov  8 22:12:14 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Some errata on linux installations of qgis
In-Reply-To: <57024.131.215.34.38.1194552937.squirrel@secure.acm.caltech.edu>
References: <mailman.1522.1194465975.19479.qgis-developer@lists.qgis.org>
	<57024.131.215.34.38.1194552937.squirrel@secure.acm.caltech.edu>
Message-ID: <d368056f0711081912m5047fc30jec01a6322190e926@mail.gmail.com>

Hi

You are using the CMAKE_INSTALL_PREFIX that points to the same dir as
where your sources are - is this intentional? Also the install
minifest error looks like a simple permissions error....

Martin would need to comment on the python issues.

Regards

Tim

2007/11/8, mccue@acm.caltech.edu <mccue@acm.caltech.edu>:
> Developers:
>
>   Several problems  are  disussed here, with the plugins and compiling
> from source.  I would classify these problems as "errata", since there
> are work  arounds, but since I've spent some time on these I thought I
> would share my experience.  Since everything is changing so rapidly on
> qgis it probably isn't worthwhile dealing with these at the moment.
>
>   I'm  not really a systems person  but I've been playing around  with
> qgis installation the last few days, trying to make plugins work (I am
> using  the  newlayer plugin from the  recent workshop).   I  have four
> different configurations I am using, arranged as:
>
>           Packages   Source   Version     File version gotten from
>   Debian    I          II     lenny/sid     /etc/debian_version
>   Ubuntu    III        IV     4.0           /etc/debian_version
>
> (the source is the trunc on svn).  On all these combinations,
>
>   % python /usr/local/share/qgis/python/plugins/new_layer/__init__.py
>
>   runs fine (at least, $? returns 0 and there are no error messages).
>
> as does
>   /home/mccue/dev/cpp/share/qgis/python/plugins/new_layer/__init__.py
>
> when I use it for qgis built from source.  This plugin seems to  work,
> except  in  case (III),  I  get error  messages in  a separate  window
> (labelled "Error"), of the form:
>
>   Couldn't load plugin "newlayer"
>
>   Traceback (most recent call last):
>    File "", line 2, in
>   ImportError: No module named newlayer
>
> The plugin manager now reports this plugin as __error__
>   __error__ appears in the name field on the plugin manager (also in
>   the version and description fields)
>
> Packages
>
> Debian (lenny/sid)|qgis from package (I)
>
>   This was installed by a system administrator.
>
> Debian (lenny/sid)|qgis from source (II)
>
>   This install went smoothly--the flag
>
>      cmake -D CMAKE_INSTALL_PREFIX=${HOME}/dev/cpp/ ..
>
>   is needed.
>
> Ubuntu (4.0)|qgis from package (III)
>
>     While  trying to install quantum from  source  I used the  following
>   commands   listed  on   http://www.perrygeo.net/wordpress/?cat=2.
>
>   sudo apt-get -y install qgis grass qgis-plugin-grass mapserver-bin gdal-bin
>   cgi-python-qt4 python-sip4 python-gdal python-mapscript gmt   \
>   gmt-coastline-data r-recommended gpsbabel shapelib libgdal1-1.4.0-grass
>
>   Then has perrygeo suggest, I did
>
>   http://qgis.org/uploadfiles/testbuilds/qgis0.9.0.debs_ubuntu_gutsy.tar.gz
>
>   and run through a few .deb dpkg installations (see perrygeo for details).
>
>   This  worked  (I had to do some tweaking--I  think  libgdal1-1.3.2 was
>   what was available so I used it).  I don't know whether these commands
>   are available on your website (your wiki  for installation didn't have
>   it--I can't check now because the wiki is down).
>
>   This gives me 0.9 of qgis
>
> Ubuntu (4.0)|qgis from source (III)
>
>   Now  I  do  a svn  checkout  and  have  the  following  problems  in
>   compiling/installing 0.9.1.  Once again the CMAKE_INSTALL_PREFIX is
>   needed
>
>      cmake -D CMAKE_INSTALL_PREFIX=${HOME}/dev/cpp/ ..
>
> cmake/Python.cmake needs to be modified:
>
> Change
>
> #TRY_RUN_PYTHON (RES
> #  "import PyQt4.pyqtconfig\nprint PyQt4.pyqtconfig._pkg_config['pyqt_sip_dir']"
> #     PYQT_SIP_DIR)
>
> to
> TRY_RUN_PYTHON (RES
> "import PyQt4.pyqtconfig_nd\nprint PyQt4.pyqtconfig_nd._pkg_config['pyqt_sip_dir
> PYQT_SIP_DIR)
>
> since
>
>   PyQt4.pyqtconfig._pkg_config['pyqt_sip_dir']
>
>     doesn't work (PyQt4.pyqtconfig doesn't have _pkg_config) and
>
>   PyQt4.pyqtconfig_nd._pkg_config['pyqt_sip_dir']
>
>     does (PyQt4.pyqtconfig_nd has _pkg_conifg)
>
>   With this change make goes all the way through.  Now, on make install
>
>   BINDINGS_GLOBAL_INSTALL
>
>     had to be set to make the installation work
>
>   Then make install died with this error
>
>   CMake Error: Error in cmake code at
>   /home/mccue/dev/cpp/qgis/cmake_install.cmake:50:
>   FILE Internal CMake error when trying to open file:
>      /home/mccue/dev/cpp/qgis/install_manifest.txt for writing.
>   Current CMake stack: /home/mccue/dev/cpp/qgis/cmake_install.cmake
>   make: *** [install] Error 255
>
>   But  looking  at  the  cmake_install.cmake  it  seems  that  all the
>   installation was  done  before this error was hit, and qgis seems to
>   work
>
>                                    Ken McCue
>                                    Research Scientist
>                                    California Institute of Technology
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Thu Nov  8 22:26:36 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] First test build of raster branch for windows
Message-ID: <d368056f0711081926v209211e2vde692a206e15b90c@mail.gmail.com>

Hi All

I made a first test build of raster transparency branch under win
MSVC. Its available here:

http://qgis.org/uploadfiles/testbuilds/qgis0.9.1-raster.zip

Its a very basic build in particular:

 - no fancy installer, just unzip & run
 - no python support
 - no grass
 - no postgresql

Heres a screenie:

http://www.flickr.com/photos/timlinux/1921428242/

I have added a new milestone called "Branch - Raster Transparency" to
trac. If you encounter issues specific to the new raster features,
please file bugs against this milestone.

I will follow up in the near future with a test build of the advanced
editing branch and also ubuntu and debian test packages.

Best regards

Tim

2007/11/4, Agustin Lobo <Agustin.Lobo@ija.csic.es>:
> ok, this seems to me a good equilibrium among different criteria.
> I'll miss grass support, though.
>
> Thanks for considering my point of view!
>
> Agus
>
> Tim Sutton escribi?:
> > Hi Marco
> >
> > I'm in agreement for getting out a 0.9.1 release as soon as possible.
> > However Tisham who does the windows builds is away till the end of
> > November so I think its not possible to release before early Dec as I
> > dont yet have the complete win compilation environment set up.
> >
> > I agree that branches shouldnt be merged in till post 0.9.1. I will
> > try over the next few weeks to get test builds made for all platforms
> > of the Raster and Editing branches (but without all the extra bits
> > that Tisham does on win so no python, no grass support). We can post
> > thos for Agostin and others who would like to participate early on in
> > the quality assurance process before these branches are merged.
> >
> > Regards
> >
> > Tim
> >
> > 2007/11/3, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> >> Hi all,
> >>
> >> I'm in favour of a bugfix release 0.9.1 that is very soon and contains only
> >> small changes.
> >> In my opinion, the branches should be tested and merged after that as they
> >> contain bigger changes that habe higher risk of side effects.
> >> Tim, what's your opinion on this as release manager?
> >>
> >> If the functionality in raster transparency branch is very important for some
> >> tasks, why not checkout the code in the branch, compile qgis and work with
> >> it?
> >>
> >> Regards,
> >> Marco
> >>
> >> On Saturday 03 November 2007 09:59:59 Agustin Lobo wrote:
> >>> Tim,
> >>>
> >>> Considering Pete's answer, could these 3 features be included
> >>> in the 0.9.1 release? Sorry if I'm too insisting, but not having
> >>> these features really prevents any real work done with QGis for raster
> >>> imagery. You can work with raster maps, but not with raster images unless
> >>> they have been previously enhanced with another program, which you can do
> >>> once for testing but, in practice, is very inconvenient.
> >>> I understand you have to conform to formal procedures to decide what
> >>> to include in 0.9.1 and do not discuss the criteria and/or the final
> >>> decision, just wanted to make it clear the consequences of
> >>> not having these 3 tools.
> >>>
> >>> Thank you all for your (great) work!
> >>>
> >>> Agus
> >>>
> >>> Peter Ersts escribi?:
> >>>> Stretching capabilities that are available now, include
> >>>> 1) Stretch by single band (gray scale)
> >>>> 2) Stretch by multi-color band (RGB)
> >>>> 3) The custom color ramps that Marc added a couple of months ago.
> >>>>
> >>>> So I think that will actually cover most users. The color ramps are
> >>>> basic at the moment but the core functionality is there.
> >>>>
> >>>> I should be committing my recent changes tonight which include
> >>>> QgsRasterLayer utilizing the new QgsContrastEnhancement class.
> >>>>
> >>>> -pete
> >>>>
> >>>> On Nov 2, 2007 11:07 AM, Tim Sutton <tim@linfiniti.com> wrote:
> >>>>> Hi
> >>>>>
> >>>>> Peter do you have any comments on this? I guess bu 'color' Yuri means
> >>>>> the band..?
> >>>>>
> >>>>> Regards
> >>>>>
> >>>>> Tim
> >>>>>
> >>>>>> Thanks. Is there anything in the works for one to choose the *color*
> >>>>>> stretch as well?
> >>>>>>
> >>>>>> ---
> >>>>>> _______________________________________________
> >>>>>> Qgis-user mailing list
> >>>>>> Qgis-user@lists.qgis.org
> >>>>>> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
> >>>>> --
> >>>>> Tim Sutton
> >>>>> QGIS Project Steering Committee Member - Release  Manager
> >>>>> Visit http://qgis.org for a great open source GIS
> >>>>> openModeller Desktop Developer
> >>>>> Visit http://openModeller.sf.net for a great open source ecological
> >>>>> niche modelling tool
> >>>>> Home Page: http://tim.linfiniti.com
> >>>>> Skype: timlinux
> >>>>> Irc: timlinux on #qgis at freenode.net
> >>>> _______________________________________________
> >>>> Qgis-user mailing list
> >>>> Qgis-user@lists.qgis.org
> >>>> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
> >>
> >>
> >> --
> >> Dr. Marco Hugentobler
> >> Institute of Cartography
> >> ETH Zurich
> >> Technical Advisor QGIS Project Steering Committee
> >> marco.hugentobler@karto.baug.ethz.ch
> >> _______________________________________________
> >> Qgis-developer mailing list
> >> Qgis-developer@lists.qgis.org
> >> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> >>
> >
> >
>
> --
> Dr. Agustin Lobo
> Institut de Ciencies de la Terra "Jaume Almera" (CSIC)
> LLuis Sole Sabaris s/n
> 08028 Barcelona
> Spain
> Tel. 34 934095410
> Fax. 34 934110012
> email: Agustin.Lobo@ija.csic.es
> http://www.ija.csic.es/gt/obster
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From icos.atropa at gmail.com  Fri Nov  9 02:34:30 2007
From: icos.atropa at gmail.com (icosa atropa)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] r.e. bug in postgis connection
Message-ID: <681d07c20711082334y15f8db8bs952534cdf4804430@mail.gmail.com>

Can anyone share any known-good postgis data sources?  I've had
trouble with the PostGIS/Qgis connection lately, but I'm fairly new to
both together and I'm having trouble tracking down the offending
pieces.

I'm happy to share my data source, too, if it would be useful in debugging.

thanks!
christian

> > there have been some changes in postgres provider (commits 7268, 7269,
> > 7270) so it's possible - can you revert to a revision before these
> > commits (e.g. 7267) to make sure that it's caused by them?
>
> > On 10/30/07, Paolo Cavallini <cavallini@faunalia.it> wrote:
> >> Apparently we spotted another bug in 0.9 (from svn, 2007-10-25):
> >> culumns from joined views are not shown, and appear as zeroes.
> >> anyone with the same problem?

From marco.hugentobler at karto.baug.ethz.ch  Fri Nov  9 02:44:42 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] 'Publish to web' plugin for QGIS mapserver
In-Reply-To: <47300AF2.8060407@faunalia.it>
References: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>
	<200711011223.42793.marco.hugentobler@karto.baug.ethz.ch>
	<47300AF2.8060407@faunalia.it>
Message-ID: <200711090844.42151.marco.hugentobler@karto.baug.ethz.ch>

On Tuesday 06 November 2007 07:34:26 Paolo Cavallini wrote:
> Hi Marco.
> Have you thought of making a real deb package of it? It would be great
> to allow more users to install it and test it.
> The DebianGIS project is here to help.
> All the best.
> pc

Hi Paolo,

It would be great to have real debian packages for the qgis mapserver and the 
publish plugin. 
Are there tutorials/guidelines from the DebianGIS project concerning 
packaging? Are the packages for debian and ubuntu the same? Because I don't 
have a debian system here to test

Regards,
Marco 

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From tim at linfiniti.com  Fri Nov  9 05:53:54 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] [Qgis-PSC] Friday Meeting time
In-Reply-To: <1C0CF191-F31D-4D92-A483-D9D423E9BE36@mrcc.com>
References: <1C0CF191-F31D-4D92-A483-D9D423E9BE36@mrcc.com>
Message-ID: <d368056f0711090253l4d88d6e8i6b7f2f5742fac791@mail.gmail.com>

Hi

The wiki is back online now. Just need to get the theme reinstated too.

Regards

Tim

2007/11/8, Gary Sherman <sherman@mrcc.com>:
> The meeting will commence at 1500 UTC on Friday, November 9th.
>
> To see meeting times for your area, go to:
> http://timeanddate.com/worldclock/meetingdetails.html?year=2007&month=11&day=9&hour=15&min=0&sec=0&p1=456&p2=43&p3=268&p4=137
>
> Since the wiki is still out of commission, please send agenda items to
> qgis-developer with a subject line of  "QGIS Meeting Agenda Item". I
> will collect them and post them online (somewhere) prior to the meeting.
>
> We'll meet on #qgis-meeting on IRC.
>
> -gary
>
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Chair, QGIS Project Steering Committee
> Micro Resources: http://mrcc.com
>    *Geospatial Hosting
>    *Web Site Hosting
> "We work virtually everywhere"
> Desktop GIS: http://desktopgisbook.com
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>
>
>
> _______________________________________________
> Qgis-PSC mailing list
> Qgis-PSC@mrcc.com
> http://mrcc.com/cgi-bin/mailman/listinfo/qgis-psc
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From estef at hua.gr  Fri Nov  9 06:16:09 2007
From: estef at hua.gr (E.Stefanakis)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Problem with MSEXPORT
Message-ID: <14A7ADD605D54D509498D886687132BA@emmanuelPC>

Dear friends

I tried to run the msexport at qgis9 (windows) and the
program crashes just after the insertion of the
parameters (when I click the OK button). 

The command prompt gives the following output:

========================================================
>>>>>>>>>>> Python initialized <<<<<<<<<<
Reading settings
Writing settings
Python scripts directory: c:/Program Files/Quantum GIS/share/qgis\python
Importing module
Getting Qgis2Map constructor as python obj

=========================================================

... and then it chashes...

I noticed that there is neither  c:/Program Files/Quantum GIS/share/
nor c:/Program Files/Quantum GIS/share/qgis   directories in the disk. 

python directory resides directly under:  c:/Program Files/Quantum GIS/

is it this that causes the problem?

any suggestion would be greatly appreciated!

Emmanuel.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071109/36872d1d/attachment.html
From tim at linfiniti.com  Fri Nov  9 06:50:36 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] 'Publish to web' plugin for QGIS mapserver
In-Reply-To: <200711090844.42151.marco.hugentobler@karto.baug.ethz.ch>
References: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>
	<200711011223.42793.marco.hugentobler@karto.baug.ethz.ch>
	<47300AF2.8060407@faunalia.it>
	<200711090844.42151.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0711090350x79c43f03t7db12aaa6ee4467b@mail.gmail.com>

Hi Marco

Ii will probably do the packaging for you (.deb and windows, maybe mac
too) - I just need a little spare time.

I will also convert to using cmake. I have find rules for qgis libs
already from my openModeller work.

I downloaded the source but havent had chance to build and test yet.

Do you have the code in a SVN repo somewhere? What do you think of
putting it in a separate dir on qgis svn?

Does the source on the site include the plugin or just the server? I
had a look through the sources and didnt see anything that looked like
a plugin.

I see that the server needs to go in its own dir with its own copy of
qgis libs and plugins and srs.db. What do you think of just installing
into the same location as QGIS and avoiding needing to make these
duplicate lib copies? If you prefer not to do that I can automate the
copy over process with cmake probably.

Regards

Tim

2007/11/9, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> On Tuesday 06 November 2007 07:34:26 Paolo Cavallini wrote:
> > Hi Marco.
> > Have you thought of making a real deb package of it? It would be great
> > to allow more users to install it and test it.
> > The DebianGIS project is here to help.
> > All the best.
> > pc
>
> Hi Paolo,
>
> It would be great to have real debian packages for the qgis mapserver and the
> publish plugin.
> Are there tutorials/guidelines from the DebianGIS project concerning
> packaging? Are the packages for debian and ubuntu the same? Because I don't
> have a debian system here to test
>
> Regards,
> Marco
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
> marco.hugentobler@karto.baug.ethz.ch
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From cavallini at faunalia.it  Fri Nov  9 07:16:09 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] 'Publish to web' plugin for QGIS mapserver
In-Reply-To: <d368056f0711090350x79c43f03t7db12aaa6ee4467b@mail.gmail.com>
References: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>	
	<200711011223.42793.marco.hugentobler@karto.baug.ethz.ch>	
	<47300AF2.8060407@faunalia.it>	
	<200711090844.42151.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0711090350x79c43f03t7db12aaa6ee4467b@mail.gmail.com>
Message-ID: <47344F89.1080307@faunalia.it>

Tim Sutton ha scritto:

> I see that the server needs to go in its own dir with its own copy of
> qgis libs and plugins and srs.db. What do you think of just installing
> into the same location as QGIS and avoiding needing to make these
> duplicate lib copies? If you prefer not to do that I can automate the
> copy over process with cmake probably.

Of course having the package using the standard qgis libs would be a
sane option...
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071109/7e5c948a/signature.bin
From marco.hugentobler at karto.baug.ethz.ch  Fri Nov  9 08:40:36 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] 'Publish to web' plugin for QGIS mapserver
In-Reply-To: <d368056f0711090350x79c43f03t7db12aaa6ee4467b@mail.gmail.com>
References: <200705111621.25795.marco.hugentobler@karto.baug.ethz.ch>
	<200711090844.42151.marco.hugentobler@karto.baug.ethz.ch>
	<d368056f0711090350x79c43f03t7db12aaa6ee4467b@mail.gmail.com>
Message-ID: <200711091440.37068.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

On Friday 09 November 2007 12:50:36 you wrote:
> Hi Marco
>
> Ii will probably do the packaging for you (.deb and windows, maybe mac
> too) - I just need a little spare time.
>
> I will also convert to using cmake. I have find rules for qgis libs
> already from my openModeller work.

That would be cool! At the moment, I'm still building with qmake, but cmake is 
certainly much better to automate the build process.

> I downloaded the source but havent had chance to build and test yet.

Let me know what works and what does not work.

> Do you have the code in a SVN repo somewhere? What do you think of
> putting it in a separate dir on qgis svn?

At the moment, the code for the server is in: 
svn://karlinapp.ethz.ch/home/marco/svn_repositories/orchestra/sources/qgis_map_server
and for the publish plugin in:
svn://karlinapp.ethz.ch/home/marco/svn_repositories/orchestra/sources/publish_to_web
I can give you write access to those.

> Does the source on the site include the plugin or just the server? I
> had a look through the sources and didnt see anything that looked like
> a plugin.

The source for the plugin is in a separate tarball, also available on the 
download site (http://karlinapp.ethz.ch/qgis_wms/publish_to_web.tgz)

> I see that the server needs to go in its own dir with its own copy of
> qgis libs and plugins and srs.db. What do you think of just installing
> into the same location as QGIS and avoiding needing to make these
> duplicate lib copies? If you prefer not to do that I can automate the
> copy over process with cmake probably.

That's true, using the same srs.db and provider libs makes sense. 

For the server executable itself (qgis_map_serv.fcgi), afaik it needs to be 
somewhere under /usr/lib for the webserver to find it. At the moment, it is 
under /usr/lib/fcgi-bin/qgis_map_server. The publish to web plugin creates a 
new subdirectory for each new web project and places the two configuration 
files (admin.sld and wms_metadata.xml) there, as well as a copy of 
qgis_map_serv.fcgi. This is to differentiate projects by url and not by 
mapfile parameter. It however uses much disk space (360kb for a copy of 
qgis_map_serv.fcgi). Probably there is a solution without copying the server 
executable for each project? 

Regards,
Marco



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From botsnlinux at gmail.com  Fri Nov  9 09:42:37 2007
From: botsnlinux at gmail.com (Steven Bell)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] printing bugs
In-Reply-To: <473417FC.6040604@faunalia.it>
References: <473417FC.6040604@faunalia.it>
Message-ID: <255b57430711090642w735aa382yfa097a5776b48b30@mail.gmail.com>

Which bugs are most relevant to you?  Are they all listed in Trac?  I will
have some time to fix things over the weekend, and I'll try to explain what
I can about the ones I can't fix right away.
Steven

On Nov 9, 2007 2:19 AM, Paolo Cavallini <cavallini@faunalia.it> wrote:

> Hi Steven.
> We appreciated very much your work on QGIS map composer; unfortunately,
> several bugs are still present, and are very annoying to users. We would
> be glad of facilitating their solution, and we would appreciate knowing
> your opinion on how to best do this (given that we have no Qt devs here).
> Thanking you in advance.
> All the best.
> pc
> --
> Paolo Cavallini, see: http://www.faunalia.it/pc
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071109/11851af5/attachment.html
From cavallini at faunalia.it  Fri Nov  9 09:44:48 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] printing bugs
In-Reply-To: <255b57430711090642w735aa382yfa097a5776b48b30@mail.gmail.com>
References: <473417FC.6040604@faunalia.it>
	<255b57430711090642w735aa382yfa097a5776b48b30@mail.gmail.com>
Message-ID: <47347260.8000800@faunalia.it>

Steven Bell ha scritto:
> Which bugs are most relevant to you?  Are they all listed in Trac?  I
> will have some time to fix things over the weekend, and I'll try to
> explain what I can about the ones I can't fix right away.

They should be listed. Looking forward to read your explanations.
Thanks a lot.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071109/224c0666/signature.bin
From estef at hua.gr  Fri Nov  9 10:26:23 2007
From: estef at hua.gr (E.Stefanakis)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] qgis09 [2] qgis08
Message-ID: <004f01c822e4$e2f6eba0$f535d453@esd3d8a1277ca8>

Dear all

I tried to open a project generated in ver 0.9 at
qgis 0.8 with no luck... 
Is there any tool to covert it back?

thanks

emmanuel.,


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071109/3765caf7/attachment.html
From telwertowski at comcast.net  Fri Nov  9 14:59:16 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] First test build of raster branch for windows
In-Reply-To: <d368056f0711081926v209211e2vde692a206e15b90c@mail.gmail.com>
References: <d368056f0711081926v209211e2vde692a206e15b90c@mail.gmail.com>
Message-ID: <4734BC14.10506@comcast.net>

Tim Sutton wrote:
> I made a first test build of raster transparency branch under win MSVC.

I tried a Mac build and hit the following:

[ 65%] Generating core/core.so
/Users/tce/developer/qgis/qgis-rt/src/core/raster/qgsrasterlayer.h: In 
member function 'double QgsRasterLayer::getMaximumValue(QString)':
/Users/tce/developer/qgis/qgis-rt/src/core/raster/qgsrasterlayer.h:515: 
warning: control reaches end of non-void function
sipcoreQgsLabelAttributes.cpp: In function 'PyObject* 
meth_QgsLabelAttributes_bufferColor(PyObject*, PyObject*)':
sipcoreQgsLabelAttributes.cpp:1274: warning: taking address of temporary
/usr/bin/ld: Undefined symbols:
GDALDataset::GetRasterBand(int)
GDALDataset::GetRasterCount()
collect2: ld returned 1 exit status
make[3]: *** [core.so] Error 1
make[2]: *** [python/core/core.so] Error 2
make[1]: *** [python/CMakeFiles/python.dir/all] Error 2

Tom

From ersts at amnh.org  Fri Nov  9 16:04:25 2007
From: ersts at amnh.org (Peter Ersts)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] First test build of raster branch for windows
In-Reply-To: <4734BC14.10506@comcast.net>
References: <d368056f0711081926v209211e2vde692a206e15b90c@mail.gmail.com>
	<4734BC14.10506@comcast.net>
Message-ID: <4734CB59.2030004@amnh.org>

Tom Elwertowski wrote:
> Tim Sutton wrote:
>   
>> I made a first test build of raster transparency branch under win MSVC.
>>     
>
> I tried a Mac build and hit the following:
>
>   

> /Users/tce/developer/qgis/qgis-rt/src/core/raster/qgsrasterlayer.h:515: 
> warning: control reaches end of non-void function
>   
...noted this and fixed but not committed yet. However this will not 
prevent compilation

> /usr/bin/ld: Undefined symbols:
> GDALDataset::GetRasterBand(int)
> GDALDataset::GetRasterCount()
> collect2: ld returned 1 exit status
>   
Can you double check your cmake config, it looks like GDAL is not being 
found.

-pete

-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit


From jef at norbit.de  Fri Nov  9 17:55:51 2007
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] GRASS support in MSVC build
Message-ID: <20071109225551.GA28782@norbit.de>

Hi,

I have a MSVC build that supports GRASS.

Python support should already be in place given a python 2.5.1 install
with PyQt4 and SIP build with MSVC (IIRC that worked out of the box
using: python configure.py -p win32-msvc2005 & nmake & nmake install).

The archive http://www.norbit.de/~jef/qgis-grass-vc.zip contains
patches against QGIS and GRASS and a subdirectory
src/providers/grass/vc.

The GRASS patches only address the DLLS needed by QGIS to enable GRASS
support.  When building QGIS with MSVC it'll build these from the
patched GRASS sources.

Please take a look.  Should this be committed?


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502


From tim at linfiniti.com  Fri Nov  9 19:48:22 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] GRASS support in MSVC build
In-Reply-To: <20071109225551.GA28782@norbit.de>
References: <20071109225551.GA28782@norbit.de>
Message-ID: <d368056f0711091648q5e2e7375h20e1a705545f9f04@mail.gmail.com>

Hi Folks

I encouraged J?rgen to go ahead and commit this since the changes are
localised to MSVC and puts our MSVC build more or less on feature
parity with MINGW build. It will be very interesting to start doing
some benchmarks soon and see how the mingw vs msvc builds perform
against each other.

Regards

Tim

2007/11/9, J?rgen E. Fischer <jef@norbit.de>:
> Hi,
>
> I have a MSVC build that supports GRASS.
>
> Python support should already be in place given a python 2.5.1 install
> with PyQt4 and SIP build with MSVC (IIRC that worked out of the box
> using: python configure.py -p win32-msvc2005 & nmake & nmake install).
>
> The archive http://www.norbit.de/~jef/qgis-grass-vc.zip contains
> patches against QGIS and GRASS and a subdirectory
> src/providers/grass/vc.
>
> The GRASS patches only address the DLLS needed by QGIS to enable GRASS
> support.  When building QGIS with MSVC it'll build these from the
> patched GRASS sources.
>
> Please take a look.  Should this be committed?
>
>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Fri Nov  9 19:54:32 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] qgis09 [2] qgis08
In-Reply-To: <004f01c822e4$e2f6eba0$f535d453@esd3d8a1277ca8>
References: <004f01c822e4$e2f6eba0$f535d453@esd3d8a1277ca8>
Message-ID: <d368056f0711091654k564367c7v9fbf0085ffce98ad@mail.gmail.com>

Hi Stefanakis

Currently we have no tools to convert project files to older versions.
I'm not sure how easy it will be to quickly make such a tool. Does
anyone know if the file format changes are small enough that we can
tell Stefanakis which tags etc are tripping it up in case he wants to
hand edit it?

Regards

Tim

2007/11/9, E.Stefanakis <estef@hua.gr>:
>
>
> Dear all
>
> I tried to open a project generated in ver 0.9 at
> qgis 0.8 with no luck...
> Is there any tool to covert it back?
>
> thanks
>
> emmanuel.,
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From estef at hua.gr  Sat Nov 10 02:49:33 2007
From: estef at hua.gr (E.Stefanakis)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Problem with MSEXPORT
References: <14A7ADD605D54D509498D886687132BA@emmanuelPC>
Message-ID: <005401c8236e$3bfefb00$2337d453@esd3d8a1277ca8>

Dear all 

I just send this message again. I 'a a new user of qgis; you 
are kindly requested to point me to past messages regarding
this problem. 

Thanks in advance

Emmanuel.

  ----- Original Message ----- 
  From: E.Stefanakis 
  To: qgis-developer@lists.qgis.org 
  Sent: Friday, November 09, 2007 1:16 PM
  Subject: [Qgis-developer] Problem with MSEXPORT


  Dear friends

  I tried to run the msexport at qgis9 (windows) and the
  program crashes just after the insertion of the
  parameters (when I click the OK button). 

  The command prompt gives the following output:

  ========================================================
  >>>>>>>>>>> Python initialized <<<<<<<<<<
  Reading settings
  Writing settings
  Python scripts directory: c:/Program Files/Quantum GIS/share/qgis\python
  Importing module
  Getting Qgis2Map constructor as python obj

  =========================================================

  ... and then it chashes...

  I noticed that there is neither  c:/Program Files/Quantum GIS/share/
  nor c:/Program Files/Quantum GIS/share/qgis   directories in the disk. 

  python directory resides directly under:  c:/Program Files/Quantum GIS/

  is it this that causes the problem?

  any suggestion would be greatly appreciated!

  Emmanuel.



------------------------------------------------------------------------------


  _______________________________________________
  Qgis-developer mailing list
  Qgis-developer@lists.qgis.org
  http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071110/b6d5e71d/attachment.html
From benjamin.ducke at ufg.uni-kiel.de  Sat Nov 10 05:34:05 2007
From: benjamin.ducke at ufg.uni-kiel.de (Benjamin Ducke)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] GRASS support in MSVC build
In-Reply-To: <20071109225551.GA28782@norbit.de>
References: <20071109225551.GA28782@norbit.de>
Message-ID: <4735891D.8040802@ufg.uni-kiel.de>

Apologies for my ignorance, but what is the idea about having
an MSVC build of QGIS alongside the MinGW build? Does it not
cost a lot of additional effort to maintain two compiler bases?

Does the MSVC build have any particular advantages over the
MinGW build, so that we can expect the MinGW path to be
abandoned in the future?

If so, I for one will not be able to participate in the
development of the Win32 version of QGIS.

Best wishes,

Benjamin

J?rgen E. Fischer wrote:
> Hi,
> 
> I have a MSVC build that supports GRASS.
> 
> Python support should already be in place given a python 2.5.1 install
> with PyQt4 and SIP build with MSVC (IIRC that worked out of the box
> using: python configure.py -p win32-msvc2005 & nmake & nmake install).
> 
> The archive http://www.norbit.de/~jef/qgis-grass-vc.zip contains
> patches against QGIS and GRASS and a subdirectory
> src/providers/grass/vc.
> 
> The GRASS patches only address the DLLS needed by QGIS to enable GRASS
> support.  When building QGIS with MSVC it'll build these from the
> patched GRASS sources.
> 
> Please take a look.  Should this be committed?
> 
> 
> J?rgen
> 

-- 
Benjamin Ducke, M.A.
Arch?oinformatik
(Archaeoinformation Science)
Institut f?r Ur- und Fr?hgeschichte
(Inst. of Prehistoric and Historic Archaeology)
Christian-Albrechts-Universit?t zu Kiel
Johanna-Mestorf-Stra?e 2-6
D 24098 Kiel
Germany

Tel.: ++49 (0)431 880-3378 / -3379
Fax : ++49 (0)431 880-7300
www.uni-kiel.de/ufg


From mateusz at loskot.net  Sat Nov 10 05:37:20 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Minimal requirements
Message-ID: <473589E0.1030201@loskot.net>

Hi,

Where can I find information about minimal set of required software
packages for QGIS?

I know QGIS uses GDAL, PostGIS, Expat, etc. but are all these packages
required or just recommended if one needs ie. PostGIS support.
But what are minimal requirements?

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From wonder.sk at gmail.com  Sat Nov 10 06:39:33 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] small note about PyQt
Message-ID: <e8e7199c0711100339j19245698t9161aa84c75ca4ca@mail.gmail.com>

from IRC logs:

13:12:25  	timlinux:  	 FrankW: dont get qt 4.3.2 yet because last I
checked qt 4.3.2 doesnt have pyqt support yet
13:12:38 	: 	* FrankW sighs.
13:12:47 	timlinux: 	so if you want to plunk with pygis stuff you
should get 4.3.1
13:13:12 	timlinux: 	lets check if the bindings have been updated for qt 4.3.2
13:13:24 	PeteE: 	timlinux: I still think you need to be able to
stretch the data befor appling the color ramp, cause Marco build the
color ramp from the data type..
13:13:45 	FrankW: 	Are you serious that pyqt works with 4.3.1 but not
4.3.2? I'd be happy to get a basic qgis up and running and showing
rasters.
13:14:13 	timlinux: 	right then go ahead with 4.3.2 - python bindings
will catch up
13:14:34 	timlinux: 	python qt bindings are not a trolltech product
but a third party

This is not true. Bugfix releases of Qt - e.g. 4.3.1 and 4.3.2 are
completely binary compatible between each other, so there's no need to
for updated PyQt for them. Moreover, every 4.x version just adds new
API and keeps binary compatibility. This means that if you should be
able to shuffle versions of Qt and PyQt: if recent PyQt detects that
you have older version of Qt it will just skip newer API when
compiling bindings. Also, when you have older PyQt and newer version
of Qt with some API additions, you can compile them as well...

Martin

From wonder.sk at gmail.com  Sat Nov 10 07:05:53 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Minimal requirements
In-Reply-To: <473589E0.1030201@loskot.net>
References: <473589E0.1030201@loskot.net>
Message-ID: <e8e7199c0711100405p75d20083n5cec0023c8544254@mail.gmail.com>

Hi,

I'll try to summarize it here (for QGIS 0.9):

Required build deps:
- CMake >= 2.4.3
- Flex, Bison

Required runtime deps:
- Qt >= 4.2.0
- Proj >= ? (known to work with 4.4.x)
- GEOS >= 2.2 (3.0 is supported, maybe 2.1.x works too)
- Sqlite3 >= ? (probably 3.0.0)
- GDAL/OGR >= ? (1.2.x should work)

Optional dependencies:
- for GRASS plugin - GRASS >= 6.0.0
- for georeferencer - GSL >= ? (works with 1.8)
- for postgis support and SPIT plugin - PostgreSQL >= ?
- for gps plugin - expat >= ? (1.95 is OK)
- for mapserver export and PyQGIS - Python >= ? (probably 2.3)
- for PyQGIS - SIP >= 4.5, PyQt >= 4.1

Recommended runtime deps:
- for gps plugin - gpsbabel

I hope I haven't missed anything. Basically no cutting edge releases
of deps are needed.

Martin

On Nov 10, 2007 11:37 AM, Mateusz Loskot <mateusz@loskot.net> wrote:
> Hi,
>
> Where can I find information about minimal set of required software
> packages for QGIS?
>
> I know QGIS uses GDAL, PostGIS, Expat, etc. but are all these packages
> required or just recommended if one needs ie. PostGIS support.
> But what are minimal requirements?
>
> Cheers
> --
> Mateusz Loskot
> http://mateusz.loskot.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From benjamin.ducke at ufg.uni-kiel.de  Sat Nov 10 07:50:58 2007
From: benjamin.ducke at ufg.uni-kiel.de (Benjamin Ducke)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] GRASS support in MSVC build
In-Reply-To: <20071110124159.GA26992@norbit.de>
References: <20071109225551.GA28782@norbit.de>
	<4735891D.8040802@ufg.uni-kiel.de>
	<20071110124159.GA26992@norbit.de>
Message-ID: <4735A932.7060303@ufg.uni-kiel.de>

Thanks for the explanations.
I'll look into that Express Edition.
One last thing I'd like to know:

Will it be possible to mix GRASS binaries and libs produced with MinGW
with QGIS MSVC bins?

Thanks,

Benjamin

J?rgen E. Fischer wrote:
> Hi Benjamin,
> 
> On Sat, 10. Nov 2007 at 11:34:05 +0100, Benjamin Ducke wrote:
>> Apologies for my ignorance, but what is the idea about having
>> an MSVC build of QGIS alongside the MinGW build? Does it not
>> cost a lot of additional effort to maintain two compiler bases?
> 
>> Does the MSVC build have any particular advantages over the
>> MinGW build, so that we can expect the MinGW path to be
>> abandoned in the future?
> 
> As Tim pointed out yesterday IRC on, why there is MSVC build:
> (quoted from http://logs.qgis.org/slogs/%23qgis.2007-11-09.log)
> 1) to attract the win crowd you got to give them their preferred brand of heroin
>    ie a development environment based on msvc
> 2) so far the msvc packages I made are a *lot* more compact (18mb vs 30mb for
>    openModeller)
> 3) because we can
> 4) if you are building some ms native app and want a mapping control you cant
>    easily just use the mingw libs if everything else you do is built using msvc
> 5) building with msvc has some advantages for debugging etc if you are a gui
>    addict
> 6) to attract venture capital from microsoft
> 
> Personally apart from 6, which I'd replace with masochims, I'd second that.
> 
> And I've to use MSVC for other windows projects anyway and find it's debugging
> and code browsing capabilities very useful.
> 
> Additionally using different compilers can improve code quality a bit as one
> compiler might issue warnings on things the others don't catch.
> 
>> If so, I for one will not be able to participate in the
>> development of the Win32 version of QGIS.
> 
> Why not?  You can use the Express Edition of MSVC, which is free (as in free
> beer).
> 
> Beeing at it, I don't know if Microsoft will continue to have free (as in free
> beer) Express Editions and alone for that reason the MinGW build shouldn't die.
> But I don't expect it too, anyway.
> 
> 
> J?rgen
> 

-- 
Benjamin Ducke, M.A.
Arch?oinformatik
(Archaeoinformation Science)
Institut f?r Ur- und Fr?hgeschichte
(Inst. of Prehistoric and Historic Archaeology)
Christian-Albrechts-Universit?t zu Kiel
Johanna-Mestorf-Stra?e 2-6
D 24098 Kiel
Germany

Tel.: ++49 (0)431 880-3378 / -3379
Fax : ++49 (0)431 880-7300
www.uni-kiel.de/ufg


From wonder.sk at gmail.com  Sat Nov 10 07:59:32 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] [QGIS Commit] SVN [godofredo] r7284 -
	branches/ogr-plugin-branch/src/app
In-Reply-To: <BAY110-W216E7403843B15D756013AB28B0@phx.gbl>
References: <20071022203949.DE832920D6@svn.qgis.org> <471D1CD3.2050104@o2.pl>
	<BAY110-W4252BDA26D7DE1C09115AB29B0@phx.gbl>
	<e8e7199c0710240503k5b35ee7r662f89143d9a4af6@mail.gmail.com>
	<BAY110-W1751FABDF05EB5BE086982B28A0@phx.gbl>
	<e8e7199c0711071339j351f1596x5e3c1610fc52262d@mail.gmail.com>
	<BAY110-W216E7403843B15D756013AB28B0@phx.gbl>
Message-ID: <e8e7199c0711100459x37c9cdb9w1cf59828506499e9@mail.gmail.com>

On Nov 8, 2007 4:14 PM, godofredo contreras <frdcn@hotmail.com> wrote:
>
>            The idea to keep qgsdatabaseconnectionbase and
> qgsconnectionmanager is to reuse
> this classes in the refactoring of spit and for the ogr plugin(layer cretion
> and utilities), If we move them to app
> how could we call that classes?

Ah, I thought that you would implement that loading of layers directly
in application and not as a plugin. Right if they're moved out of core
lib they're not accessible for providers/plugins.

Anyway, I still do not understand completely your design... and I fail
to find any information about it, how it will be bound to the rest of
QGIS and what will be changed.

QgsConnectionManager does some managing of connections. This class is
not well designed as it depends on all supported types of connections.
Imagine that we want to add native oracle connection - in that case we
would need to modify also this class - that's not very nice. My
suggestion is to make it more generic: all provider-specific stuff can
be propagated to the Qgs*DatabaseConnection classes.
E.g.  QgsConnectionManager::connect() would get just one parameter:
pointer to QgsDatabaseConnectionBase and will do the connection. Or
QgsConnectionManager::saveConnection() won't have hardcoded 'baseKey'
for every type of connection but will ask for it using 'mConnection'
instance. Does this make sense for you?


>            Also I was thinking in using a similar aproach to
> QgsVectorLayerin QgsDatabaseConnectionBase but
> checking the code I saw that QgsProviderRegistry::instance() gives access
> just to provider class not to other
> classes compiled in provider(assuming that we move
> qgspostgresdatabaseconnection and qgsogrdatabaseconnection to their
> respective
> provider), do you know if there are a form to access other classes in the
> provider in runtime?

I don't understand exactly the relation between Qgs*DatabaseConnection
and according provider so I don't know.

I hope you don't take my complains as a bad critism of your work - I
just try to keep core library in a good shape.

Martin

From tim at linfiniti.com  Sat Nov 10 08:09:02 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Minimal requirements
In-Reply-To: <e8e7199c0711100405p75d20083n5cec0023c8544254@mail.gmail.com>
References: <473589E0.1030201@loskot.net>
	<e8e7199c0711100405p75d20083n5cec0023c8544254@mail.gmail.com>
Message-ID: <d368056f0711100509s107c73eemf2b4cc216bd61d42@mail.gmail.com>

Hi

Nice list Martin - I added it to the pre-amble of the INSTALL.t2t document too.

Regards

Tim

2007/11/10, Martin Dobias <wonder.sk@gmail.com>:
> Hi,
>
> I'll try to summarize it here (for QGIS 0.9):
>
> Required build deps:
> - CMake >= 2.4.3
> - Flex, Bison
>
> Required runtime deps:
> - Qt >= 4.2.0
> - Proj >= ? (known to work with 4.4.x)
> - GEOS >= 2.2 (3.0 is supported, maybe 2.1.x works too)
> - Sqlite3 >= ? (probably 3.0.0)
> - GDAL/OGR >= ? (1.2.x should work)
>
> Optional dependencies:
> - for GRASS plugin - GRASS >= 6.0.0
> - for georeferencer - GSL >= ? (works with 1.8)
> - for postgis support and SPIT plugin - PostgreSQL >= ?
> - for gps plugin - expat >= ? (1.95 is OK)
> - for mapserver export and PyQGIS - Python >= ? (probably 2.3)
> - for PyQGIS - SIP >= 4.5, PyQt >= 4.1
>
> Recommended runtime deps:
> - for gps plugin - gpsbabel
>
> I hope I haven't missed anything. Basically no cutting edge releases
> of deps are needed.
>
> Martin
>
> On Nov 10, 2007 11:37 AM, Mateusz Loskot <mateusz@loskot.net> wrote:
> > Hi,
> >
> > Where can I find information about minimal set of required software
> > packages for QGIS?
> >
> > I know QGIS uses GDAL, PostGIS, Expat, etc. but are all these packages
> > required or just recommended if one needs ie. PostGIS support.
> > But what are minimal requirements?
> >
> > Cheers
> > --
> > Mateusz Loskot
> > http://mateusz.loskot.net
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> >
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Sat Nov 10 08:20:00 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] GRASS support in MSVC build
In-Reply-To: <4735A932.7060303@ufg.uni-kiel.de>
References: <20071109225551.GA28782@norbit.de>
	<4735891D.8040802@ufg.uni-kiel.de> <20071110124159.GA26992@norbit.de>
	<4735A932.7060303@ufg.uni-kiel.de>
Message-ID: <d368056f0711100520y289b863di3b517d6d4a992c7a@mail.gmail.com>

Hi Benjamin

Just to re-affirm, we have no plans to drop maintainance of MINGW
build. CMake is an incredible build system letting us target so many
platforms, and we are just trying to make best use of it.

QGIS has been from the outset a project embracing the philosophy of
open source and openness, and that will only continue. Also, if your
platform is Microsoft Windows, you are already on an encumbered
proprietary operating system, for me it does not take a giant leap
into the moral abyss to add using the free Microsoft Visual Studio
Express on that platform - especially if in doing so we can expose a
lot more people used to working in a closed environment to some great
open source software.

Best Regards

Tim

2007/11/10, Benjamin Ducke <benjamin.ducke@ufg.uni-kiel.de>:
> Thanks for the explanations.
> I'll look into that Express Edition.
> One last thing I'd like to know:
>
> Will it be possible to mix GRASS binaries and libs produced with MinGW
> with QGIS MSVC bins?
>
> Thanks,
>
> Benjamin
>
> J?rgen E. Fischer wrote:
> > Hi Benjamin,
> >
> > On Sat, 10. Nov 2007 at 11:34:05 +0100, Benjamin Ducke wrote:
> >> Apologies for my ignorance, but what is the idea about having
> >> an MSVC build of QGIS alongside the MinGW build? Does it not
> >> cost a lot of additional effort to maintain two compiler bases?
> >
> >> Does the MSVC build have any particular advantages over the
> >> MinGW build, so that we can expect the MinGW path to be
> >> abandoned in the future?
> >
> > As Tim pointed out yesterday IRC on, why there is MSVC build:
> > (quoted from http://logs.qgis.org/slogs/%23qgis.2007-11-09.log)
> > 1) to attract the win crowd you got to give them their preferred brand of heroin
> >    ie a development environment based on msvc
> > 2) so far the msvc packages I made are a *lot* more compact (18mb vs 30mb for
> >    openModeller)
> > 3) because we can
> > 4) if you are building some ms native app and want a mapping control you cant
> >    easily just use the mingw libs if everything else you do is built using msvc
> > 5) building with msvc has some advantages for debugging etc if you are a gui
> >    addict
> > 6) to attract venture capital from microsoft
> >
> > Personally apart from 6, which I'd replace with masochims, I'd second that.
> >
> > And I've to use MSVC for other windows projects anyway and find it's debugging
> > and code browsing capabilities very useful.
> >
> > Additionally using different compilers can improve code quality a bit as one
> > compiler might issue warnings on things the others don't catch.
> >
> >> If so, I for one will not be able to participate in the
> >> development of the Win32 version of QGIS.
> >
> > Why not?  You can use the Express Edition of MSVC, which is free (as in free
> > beer).
> >
> > Beeing at it, I don't know if Microsoft will continue to have free (as in free
> > beer) Express Editions and alone for that reason the MinGW build shouldn't die.
> > But I don't expect it too, anyway.
> >
> >
> > J?rgen
> >
>
> --
> Benjamin Ducke, M.A.
> Arch?oinformatik
> (Archaeoinformation Science)
> Institut f?r Ur- und Fr?hgeschichte
> (Inst. of Prehistoric and Historic Archaeology)
> Christian-Albrechts-Universit?t zu Kiel
> Johanna-Mestorf-Stra?e 2-6
> D 24098 Kiel
> Germany
>
> Tel.: ++49 (0)431 880-3378 / -3379
> Fax : ++49 (0)431 880-7300
> www.uni-kiel.de/ufg
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From wonder.sk at gmail.com  Sat Nov 10 08:34:42 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Some errata on linux installations of qgis
In-Reply-To: <57024.131.215.34.38.1194552937.squirrel@secure.acm.caltech.edu>
References: <mailman.1522.1194465975.19479.qgis-developer@lists.qgis.org>
	<57024.131.215.34.38.1194552937.squirrel@secure.acm.caltech.edu>
Message-ID: <e8e7199c0711100534k52e73a8i894c1e50a17f6842@mail.gmail.com>

On Nov 8, 2007 9:15 PM,  <mccue@acm.caltech.edu> wrote:
>   /home/mccue/dev/cpp/share/qgis/python/plugins/new_layer/__init__.py
>
> when I use it for qgis built from source.  This plugin seems to  work,
> except  in  case (III),  I  get error  messages in  a separate  window
> (labelled "Error"), of the form:
>
>   Couldn't load plugin "newlayer"
>
>   Traceback (most recent call last):
>    File "", line 2, in
>   ImportError: No module named newlayer
>
> The plugin manager now reports this plugin as __error__
>   __error__ appears in the name field on the plugin manager (also in
>   the version and description fields)

Isn't the problem that you don't have 'psycopg' python module on your
system? I've tried it now on my box an run into similar problems.


>   This  worked  (I had to do some tweaking--I  think  libgdal1-1.3.2 was
>   what was available so I used it).  I don't know whether these commands
>   are available on your website (your wiki  for installation didn't have
>   it--I can't check now because the wiki is down).

that's known problem, gdal-config tool in ubuntu feisty package
returns wrong library path to GDAL, seems to be OK in Gutsy.



> cmake/Python.cmake needs to be modified:
>
> Change
>
> #TRY_RUN_PYTHON (RES
> #  "import PyQt4.pyqtconfig\nprint PyQt4.pyqtconfig._pkg_config['pyqt_sip_dir']"
> #     PYQT_SIP_DIR)
>
> to
> TRY_RUN_PYTHON (RES
> "import PyQt4.pyqtconfig_nd\nprint PyQt4.pyqtconfig_nd._pkg_config['pyqt_sip_dir
> PYQT_SIP_DIR)
>
> since
>
>   PyQt4.pyqtconfig._pkg_config['pyqt_sip_dir']
>
>     doesn't work (PyQt4.pyqtconfig doesn't have _pkg_config) and
>
>   PyQt4.pyqtconfig_nd._pkg_config['pyqt_sip_dir']
>
>     does (PyQt4.pyqtconfig_nd has _pkg_conifg)

Eh, I have never seen or heard of pyqtconfig_nd - what's that? where is it from?


>   With this change make goes all the way through.  Now, on make install
>
>   BINDINGS_GLOBAL_INSTALL
>
>     had to be set to make the installation work

Why? it must compile also without it being set.


>   Then make install died with this error
>
>   CMake Error: Error in cmake code at
>   /home/mccue/dev/cpp/qgis/cmake_install.cmake:50:
>   FILE Internal CMake error when trying to open file:
>      /home/mccue/dev/cpp/qgis/install_manifest.txt for writing.
>   Current CMake stack: /home/mccue/dev/cpp/qgis/cmake_install.cmake
>   make: *** [install] Error 255

I think that's because of some permissions problems. Probably you've
run 'sudo make' and that generated that install_manifest.txt file with
root permissions so now it can't be changed with usual user.

Regards
Martin

From mateusz at loskot.net  Sat Nov 10 09:00:04 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Minimal requirements
In-Reply-To: <e8e7199c0711100405p75d20083n5cec0023c8544254@mail.gmail.com>
References: <473589E0.1030201@loskot.net>
	<e8e7199c0711100405p75d20083n5cec0023c8544254@mail.gmail.com>
Message-ID: <4735B964.10007@loskot.net>

Martin Dobias wrote:
> Hi,
> 
> I'll try to summarize it here (for QGIS 0.9):
> [...]

Martin,

Excellent. This is exactly what I need.
Thank you very much!

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From frdcn at hotmail.com  Sat Nov 10 12:35:15 2007
From: frdcn at hotmail.com (godofredo contreras)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] [QGIS Commit] SVN [godofredo] r7284 -
 branches/ogr-plugin-branch/src/app
In-Reply-To: <e8e7199c0711100459x37c9cdb9w1cf59828506499e9@mail.gmail.com>
References: <20071022203949.DE832920D6@svn.qgis.org>
	<471D1CD3.2050104@o2.pl>	 <BAY110-W4252BDA26D7DE1C09115AB29B0@phx.gbl>
	<e8e7199c0710240503k5b35ee7r662f89143d9a4af6@mail.gmail.com>
	<BAY110-W1751FABDF05EB5BE086982B28A0@phx.gbl>
	<e8e7199c0711071339j351f1596x5e3c1610fc52262d@mail.gmail.com>
	<BAY110-W216E7403843B15D756013AB28B0@phx.gbl> 
	<e8e7199c0711100459x37c9cdb9w1cf59828506499e9@mail.gmail.com>
Message-ID: <BAY110-W24C705A9BA74E117171179B2850@phx.gbl>

Hi Martin:
 
I really appreciate your comments and all comments are 
welcome. I really want to make a good work with the
ogr database access stuff.
 
In next week I will work in a document describing all
ideas and I will create a uml class diagram and with
your help and help from other qgis developers create a
better design that do not interfere with the library.Regards
Godofredo Contreras



> Date: Sat, 10 Nov 2007 13:59:32 +0100> From: wonder.sk@gmail.com> To: frdcn@hotmail.com> Subject: Re: [Qgis-developer] [QGIS Commit] SVN [godofredo] r7284 - branches/ogr-plugin-branch/src/app> CC: qgis-developer@lists.qgis.org> > On Nov 8, 2007 4:14 PM, godofredo contreras <frdcn@hotmail.com> wrote:> >> > The idea to keep qgsdatabaseconnectionbase and> > qgsconnectionmanager is to reuse> > this classes in the refactoring of spit and for the ogr plugin(layer cretion> > and utilities), If we move them to app> > how could we call that classes?> > Ah, I thought that you would implement that loading of layers directly> in application and not as a plugin. Right if they're moved out of core> lib they're not accessible for providers/plugins.> > Anyway, I still do not understand completely your design... and I fail> to find any information about it, how it will be bound to the rest of> QGIS and what will be changed.> > QgsConnectionManager does some managing of connections. This class is> not well designed as it depends on all supported types of connections.> Imagine that we want to add native oracle connection - in that case we> would need to modify also this class - that's not very nice. My> suggestion is to make it more generic: all provider-specific stuff can> be propagated to the Qgs*DatabaseConnection classes.> E.g. QgsConnectionManager::connect() would get just one parameter:> pointer to QgsDatabaseConnectionBase and will do the connection. Or> QgsConnectionManager::saveConnection() won't have hardcoded 'baseKey'> for every type of connection but will ask for it using 'mConnection'> instance. Does this make sense for you?> > > > Also I was thinking in using a similar aproach to> > QgsVectorLayerin QgsDatabaseConnectionBase but> > checking the code I saw that QgsProviderRegistry::instance() gives access> > just to provider class not to other> > classes compiled in provider(assuming that we move> > qgspostgresdatabaseconnection and qgsogrdatabaseconnection to their> > respective> > provider), do you know if there are a form to access other classes in the> > provider in runtime?> > I don't understand exactly the relation between Qgs*DatabaseConnection> and according provider so I don't know.> > I hope you don't take my complains as a bad critism of your work - I> just try to keep core library in a good shape.> > Martin
_________________________________________________________________
Peek-a-boo FREE Tricks & Treats for You!
http://www.reallivemoms.com?ocid=TXT_TAGHM&loc=us
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071110/bb2014d3/attachment.html
From tim at linfiniti.com  Sat Nov 10 21:12:51 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] [Qgis-doc] QGIS translation
In-Reply-To: <fc6efbbf0711100634o6e18eb02k4a06fc7653df4f69@mail.gmail.com>
References: <fc6efbbf0711100028g2339bc08ue038ba67c76430c@mail.gmail.com>
	<d368056f0711100524o233fdb0bn7f369ec14c46188e@mail.gmail.com>
	<fc6efbbf0711100634o6e18eb02k4a06fc7653df4f69@mail.gmail.com>
Message-ID: <d368056f0711101812l112c0bb5la4e7adb5a3393b70@mail.gmail.com>

Hi

Sorry for my ignnorance but why is it li_LT - is there a variance of
lithuanian you are catering for? Is the normal locale abbreviation for
lithuania? What happens if you save the .qm as qgis_lt.qm and then
start with command line option


qgis --locale lt

Many thanks for contributing your .ts file I will add it to svn. In
response to your issue I have also added a page to options dialog for
locale which includes a combo box list of locales so you can see
exactly which are available for your QGIS version. This will be
available in the upcoming 0.9.1 release.

Regards

Tim

2007/11/10, Kestas M <m.kestas@gmail.com>:
> We're using Windows XP and Ubuntu 7.10, locale is set to LT (lithuanian)
> executing qgis with option --locale=LT does not work
>
> We also set locale to LV (latvian) and installed qgis 0.8.1 with
> inst.language =latvian
> Everything was OK- interface was latvian.
> We deleted latvian file and saved qgis_lt.qm as latvian files: qgis_lv.qm
> and qgis_lv_LV.qm in directory i18n.
> After this we got again english user interface
>
> Please find translation files attached
>
> Kestas
>
> 2007/11/10, Tim Sutton <tim@linfiniti.com>:
> > Hi Kestas
> >
> > Which platform are you using? Which locale is your operating system set
> to?
> >
> > Are you interested in submitting your translation .ts file to us for
> > general inclusion. You can contact Otto Dassau if you are.
> >
> > Regards
> >
> > Tim
> >
> > 2007/11/10, Kestas M <m.kestas@gmail.com>:
> > > Dear QGIS team,
> > > We made translation of QGIS v.0.8.1 to Lithuanian language.
> > > We prepared qgis_lt_LT.ts, qgis_lt_LT.qm, qgis_lt.ts and qgis_lt.qm
> files.
> > > Putting them to i18n folder had no effect.
> > > We also tried installation of qgis choosing another language (not
> english),
> > > but user interface remains english.
> > > Could you please advise us how to check our translation?
> > >
> > > Kestas
> > >
> > >
> > > _______________________________________________
> > > Qgis-doc mailing list
> > > Qgis-doc@lists.qgis.org
> > > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-doc
> > >
> > >
> >
> >
> > --
> > Tim Sutton
> > QGIS Project Steering Committee Member - Release  Manager
> > Visit http://qgis.org for a great open source GIS
> > openModeller Desktop Developer
> > Visit http://openModeller.sf.net for a great open source ecological
> > niche modelling tool
> > Home Page: http://tim.linfiniti.com
> > Skype: timlinux
> > Irc: timlinux on #qgis at freenode.net
> >
>
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Sat Nov 10 21:52:47 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] [Qgis-doc] QGIS translation
In-Reply-To: <d368056f0711101812l112c0bb5la4e7adb5a3393b70@mail.gmail.com>
References: <fc6efbbf0711100028g2339bc08ue038ba67c76430c@mail.gmail.com>
	<d368056f0711100524o233fdb0bn7f369ec14c46188e@mail.gmail.com>
	<fc6efbbf0711100634o6e18eb02k4a06fc7653df4f69@mail.gmail.com>
	<d368056f0711101812l112c0bb5la4e7adb5a3393b70@mail.gmail.com>
Message-ID: <d368056f0711101852w594a990bref19b657fbebeaf9@mail.gmail.com>

HI Again

Of course I mean to write

qgis --lang lv

I tested on svn trunk here and your latvian translation didnt load for
me either using the above command line. I will look at it more and get
back to you.

Regards

Tim


I have added your translation file to svn now, many thanks. I also
added you to the qgis tranlators page at:



2007/11/11, Tim Sutton <tim@linfiniti.com>:
> Hi
>
> Sorry for my ignnorance but why is it li_LT - is there a variance of
> lithuanian you are catering for? Is the normal locale abbreviation for
> lithuania? What happens if you save the .qm as qgis_lt.qm and then
> start with command line option
>
>
> qgis --locale lt
>
> Many thanks for contributing your .ts file I will add it to svn. In
> response to your issue I have also added a page to options dialog for
> locale which includes a combo box list of locales so you can see
> exactly which are available for your QGIS version. This will be
> available in the upcoming 0.9.1 release.
>
> Regards
>
> Tim
>
> 2007/11/10, Kestas M <m.kestas@gmail.com>:
> > We're using Windows XP and Ubuntu 7.10, locale is set to LT (lithuanian)
> > executing qgis with option --locale=LT does not work
> >
> > We also set locale to LV (latvian) and installed qgis 0.8.1 with
> > inst.language =latvian
> > Everything was OK- interface was latvian.
> > We deleted latvian file and saved qgis_lt.qm as latvian files: qgis_lv.qm
> > and qgis_lv_LV.qm in directory i18n.
> > After this we got again english user interface
> >
> > Please find translation files attached
> >
> > Kestas
> >
> > 2007/11/10, Tim Sutton <tim@linfiniti.com>:
> > > Hi Kestas
> > >
> > > Which platform are you using? Which locale is your operating system set
> > to?
> > >
> > > Are you interested in submitting your translation .ts file to us for
> > > general inclusion. You can contact Otto Dassau if you are.
> > >
> > > Regards
> > >
> > > Tim
> > >
> > > 2007/11/10, Kestas M <m.kestas@gmail.com>:
> > > > Dear QGIS team,
> > > > We made translation of QGIS v.0.8.1 to Lithuanian language.
> > > > We prepared qgis_lt_LT.ts, qgis_lt_LT.qm, qgis_lt.ts and qgis_lt.qm
> > files.
> > > > Putting them to i18n folder had no effect.
> > > > We also tried installation of qgis choosing another language (not
> > english),
> > > > but user interface remains english.
> > > > Could you please advise us how to check our translation?
> > > >
> > > > Kestas
> > > >
> > > >
> > > > _______________________________________________
> > > > Qgis-doc mailing list
> > > > Qgis-doc@lists.qgis.org
> > > > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-doc
> > > >
> > > >
> > >
> > >
> > > --
> > > Tim Sutton
> > > QGIS Project Steering Committee Member - Release  Manager
> > > Visit http://qgis.org for a great open source GIS
> > > openModeller Desktop Developer
> > > Visit http://openModeller.sf.net for a great open source ecological
> > > niche modelling tool
> > > Home Page: http://tim.linfiniti.com
> > > Skype: timlinux
> > > Irc: timlinux on #qgis at freenode.net
> > >
> >
> >
> >
>
>
> --
> Tim Sutton
> QGIS Project Steering Committee Member - Release  Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From aaronr at z-pulley.com  Sun Nov 11 00:17:32 2007
From: aaronr at z-pulley.com (Aaron Racicot)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] small note about PyQt
In-Reply-To: <e8e7199c0711100339j19245698t9161aa84c75ca4ca@mail.gmail.com>
Message-ID: <20071111051732.C6B2D3BA03@spunkymail-a4.g.dreamhost.com>

Martin,

Just a few notes from personal experience... not sure if they are just
related to the tests I did or indicative of inherent incompatibilities but:

1) I have tested QT4.3.2 with PyQt4.3.1 and SIP 4.7 on both Win and Linux,
all built from source and had issues.  For me I have never been able to get
a QT4.3.2 build to work with PyQt4.3.1.  Again, maybe that is just me, but I
have tried and failed.

2) The Win installer of PyQt from Riverbank (by far the easiest way to
install for most) is built with the Microsoft compilers and is not
compatible with the MingW built versions of QT or QGIS in general.  That is
why Tisham includes the pyqt4 with the win installer now (a MingW version of
pyqt4).  If you have the Riverbank version already installed it will not
work without writing over the PyQt4 stuff in site-packages with the MingW
version.

I have not tried any of this in about a month because it is quite a time
sink to try and deal with all of these installs and testing.  Right now the
only combo that I am happy with and know works on all architectures is
QT4.3.1, PyQt4.3.1 and SIP4.7.  That is what the release was built with and
what I am using currently.

I would love to hear others experience getting QT4.3.2 to work with the
python bindings...

A

+----------------------------------------+
 Aaron Racicot - GIS Programmer   
 360.221.2441 - aaronr@z-pulley.com          
+----------------------------------------+
 z - p u l l e y                        
 pobox 1614
 langley wa 98260
 www.reprojected.com                       
+----------------------------------------+

-----Original Message-----
From: qgis-developer-bounces@lists.qgis.org
[mailto:qgis-developer-bounces@lists.qgis.org] On Behalf Of Martin Dobias
Sent: Saturday, November 10, 2007 3:40 AM
To: QGIS-dev
Subject: [Qgis-developer] small note about PyQt

from IRC logs:

13:12:25  	timlinux:  	 FrankW: dont get qt 4.3.2 yet because last
I
checked qt 4.3.2 doesnt have pyqt support yet
13:12:38 	: 	* FrankW sighs.
13:12:47 	timlinux: 	so if you want to plunk with pygis stuff you
should get 4.3.1
13:13:12 	timlinux: 	lets check if the bindings have been updated
for qt 4.3.2
13:13:24 	PeteE: 	timlinux: I still think you need to be able to
stretch the data befor appling the color ramp, cause Marco build the
color ramp from the data type..
13:13:45 	FrankW: 	Are you serious that pyqt works with 4.3.1
but not
4.3.2? I'd be happy to get a basic qgis up and running and showing
rasters.
13:14:13 	timlinux: 	right then go ahead with 4.3.2 - python
bindings
will catch up
13:14:34 	timlinux: 	python qt bindings are not a trolltech
product
but a third party

This is not true. Bugfix releases of Qt - e.g. 4.3.1 and 4.3.2 are
completely binary compatible between each other, so there's no need to
for updated PyQt for them. Moreover, every 4.x version just adds new
API and keeps binary compatibility. This means that if you should be
able to shuffle versions of Qt and PyQt: if recent PyQt detects that
you have older version of Qt it will just skip newer API when
compiling bindings. Also, when you have older PyQt and newer version
of Qt with some API additions, you can compile them as well...

Martin
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.qgis.org
http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer


From aaronr at z-pulley.com  Sun Nov 11 00:33:04 2007
From: aaronr at z-pulley.com (Aaron Racicot)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Minimal requirements
In-Reply-To: <e8e7199c0711100405p75d20083n5cec0023c8544254@mail.gmail.com>
Message-ID: <20071111053304.A0530FF980@spunkymail-a1.g.dreamhost.com>

Martin,

Just wanted to point out that there is a dependency amongst dependencies in
that list between QT and PyQT:

- For QT4.3.X you need a PyQt that is compatible... i.e. PyQt4.2.x will not
work.


Also, Riverbank states that "Note that we only test against the latest
stable version of Python and the latest stable version of Qt."  They also
ship their binary installer of PyQt for Win requiring Python2.5.

Just some observations...

A

+----------------------------------------+
 Aaron Racicot - GIS Programmer   
 360.221.2441 - aaronr@z-pulley.com          
+----------------------------------------+
 z - p u l l e y                        
 pobox 1614
 langley wa 98260
 www.reprojected.com                       
+----------------------------------------+

-----Original Message-----
From: qgis-developer-bounces@lists.qgis.org
[mailto:qgis-developer-bounces@lists.qgis.org] On Behalf Of Martin Dobias
Sent: Saturday, November 10, 2007 4:06 AM
To: Mateusz Loskot
Cc: qgis-developer@lists.qgis.org
Subject: Re: [Qgis-developer] Minimal requirements

Hi,

I'll try to summarize it here (for QGIS 0.9):

Required build deps:
- CMake >= 2.4.3
- Flex, Bison

Required runtime deps:
- Qt >= 4.2.0
- Proj >= ? (known to work with 4.4.x)
- GEOS >= 2.2 (3.0 is supported, maybe 2.1.x works too)
- Sqlite3 >= ? (probably 3.0.0)
- GDAL/OGR >= ? (1.2.x should work)

Optional dependencies:
- for GRASS plugin - GRASS >= 6.0.0
- for georeferencer - GSL >= ? (works with 1.8)
- for postgis support and SPIT plugin - PostgreSQL >= ?
- for gps plugin - expat >= ? (1.95 is OK)
- for mapserver export and PyQGIS - Python >= ? (probably 2.3)
- for PyQGIS - SIP >= 4.5, PyQt >= 4.1

Recommended runtime deps:
- for gps plugin - gpsbabel

I hope I haven't missed anything. Basically no cutting edge releases
of deps are needed.

Martin

On Nov 10, 2007 11:37 AM, Mateusz Loskot <mateusz@loskot.net> wrote:
> Hi,
>
> Where can I find information about minimal set of required software
> packages for QGIS?
>
> I know QGIS uses GDAL, PostGIS, Expat, etc. but are all these packages
> required or just recommended if one needs ie. PostGIS support.
> But what are minimal requirements?
>
> Cheers
> --
> Mateusz Loskot
> http://mateusz.loskot.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.qgis.org
http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer


From tim at linfiniti.com  Sun Nov 11 08:49:02 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] small note about PyQt
In-Reply-To: <20071111051732.C6B2D3BA03@spunkymail-a4.g.dreamhost.com>
References: <e8e7199c0711100339j19245698t9161aa84c75ca4ca@mail.gmail.com>
	<20071111051732.C6B2D3BA03@spunkymail-a4.g.dreamhost.com>
Message-ID: <d368056f0711110549t2bdc59eem191507393d66f241@mail.gmail.com>

Hi

Right. It was based on Aarons previous reports of incompatibility
between Qt4.3.2 and PyQt4.3.1 that I said this. If I understood Jef
propertly, Qt 4.3.2 seemed to work fine with PyQT4.3.1 under
MSVC.....what can I say - its all a bit confusing :-)

Regards

Tim

2007/11/11, Aaron Racicot <aaronr@z-pulley.com>:
> Martin,
>
> Just a few notes from personal experience... not sure if they are just
> related to the tests I did or indicative of inherent incompatibilities but:
>
> 1) I have tested QT4.3.2 with PyQt4.3.1 and SIP 4.7 on both Win and Linux,
> all built from source and had issues.  For me I have never been able to get
> a QT4.3.2 build to work with PyQt4.3.1.  Again, maybe that is just me, but I
> have tried and failed.
>
> 2) The Win installer of PyQt from Riverbank (by far the easiest way to
> install for most) is built with the Microsoft compilers and is not
> compatible with the MingW built versions of QT or QGIS in general.  That is
> why Tisham includes the pyqt4 with the win installer now (a MingW version of
> pyqt4).  If you have the Riverbank version already installed it will not
> work without writing over the PyQt4 stuff in site-packages with the MingW
> version.
>
> I have not tried any of this in about a month because it is quite a time
> sink to try and deal with all of these installs and testing.  Right now the
> only combo that I am happy with and know works on all architectures is
> QT4.3.1, PyQt4.3.1 and SIP4.7.  That is what the release was built with and
> what I am using currently.
>
> I would love to hear others experience getting QT4.3.2 to work with the
> python bindings...
>
> A
>
> +----------------------------------------+
>  Aaron Racicot - GIS Programmer
>  360.221.2441 - aaronr@z-pulley.com
> +----------------------------------------+
>  z - p u l l e y
>  pobox 1614
>  langley wa 98260
>  www.reprojected.com
> +----------------------------------------+
>
> -----Original Message-----
> From: qgis-developer-bounces@lists.qgis.org
> [mailto:qgis-developer-bounces@lists.qgis.org] On Behalf Of Martin Dobias
> Sent: Saturday, November 10, 2007 3:40 AM
> To: QGIS-dev
> Subject: [Qgis-developer] small note about PyQt
>
> from IRC logs:
>
> 13:12:25        timlinux:        FrankW: dont get qt 4.3.2 yet because last
> I
> checked qt 4.3.2 doesnt have pyqt support yet
> 13:12:38        :       * FrankW sighs.
> 13:12:47        timlinux:       so if you want to plunk with pygis stuff you
> should get 4.3.1
> 13:13:12        timlinux:       lets check if the bindings have been updated
> for qt 4.3.2
> 13:13:24        PeteE:  timlinux: I still think you need to be able to
> stretch the data befor appling the color ramp, cause Marco build the
> color ramp from the data type..
> 13:13:45        FrankW:         Are you serious that pyqt works with 4.3.1
> but not
> 4.3.2? I'd be happy to get a basic qgis up and running and showing
> rasters.
> 13:14:13        timlinux:       right then go ahead with 4.3.2 - python
> bindings
> will catch up
> 13:14:34        timlinux:       python qt bindings are not a trolltech
> product
> but a third party
>
> This is not true. Bugfix releases of Qt - e.g. 4.3.1 and 4.3.2 are
> completely binary compatible between each other, so there's no need to
> for updated PyQt for them. Moreover, every 4.x version just adds new
> API and keeps binary compatibility. This means that if you should be
> able to shuffle versions of Qt and PyQt: if recent PyQt detects that
> you have older version of Qt it will just skip newer API when
> compiling bindings. Also, when you have older PyQt and newer version
> of Qt with some API additions, you can compile them as well...
>
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tutey at o2.pl  Sun Nov 11 10:26:22 2007
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] small note about PyQt
In-Reply-To: <d368056f0711110549t2bdc59eem191507393d66f241@mail.gmail.com>
References: <e8e7199c0711100339j19245698t9161aa84c75ca4ca@mail.gmail.com>	<20071111051732.C6B2D3BA03@spunkymail-a4.g.dreamhost.com>
	<d368056f0711110549t2bdc59eem191507393d66f241@mail.gmail.com>
Message-ID: <47371F1E.5020706@o2.pl>

Tim Sutton wrote:
> Hi
> 
> Right. It was based on Aarons previous reports of incompatibility
> between Qt4.3.2 and PyQt4.3.1 that I said this. If I understood Jef
> propertly, Qt 4.3.2 seemed to work fine with PyQT4.3.1 under
> MSVC.....what can I say - its all a bit confusing :-)

FWIW, PyQt4.3.1 and QT4.3.2 coexist fine on my Ubuntu
Dapper. At first I could not build PyQt4.3.1 against QT4.3.2
(some error at "python configure step", can't rememebr
details), but after a rebuild and reinstallation of QT
4.3.2, PyQt4.3.1 built ok (strange but true).

Maciek

From wonder.sk at gmail.com  Sun Nov 11 18:25:46 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Minimal requirements
In-Reply-To: <20071111053304.A0530FF980@spunkymail-a1.g.dreamhost.com>
References: <e8e7199c0711100405p75d20083n5cec0023c8544254@mail.gmail.com>
	<20071111053304.A0530FF980@spunkymail-a1.g.dreamhost.com>
Message-ID: <e8e7199c0711111525o62a5805bpe80345c28edfdbe9@mail.gmail.com>

On Nov 11, 2007 6:33 AM, Aaron Racicot <aaronr@z-pulley.com> wrote:
>
> - For QT4.3.X you need a PyQt that is compatible... i.e. PyQt4.2.x will not
> work.

Hi Aaron,

is there any particular problem why PyQt4.2.x wouldn't support Qt4.3.x
? From the first sight it looks like that it shouldn't be a problem
since PyQt4.2.x should use only subset of Qt API that was present in
Qt4.2.x - or am I wrong?

> Also, Riverbank states that "Note that we only test against the latest
> stable version of Python and the latest stable version of Qt."  They also
> ship their binary installer of PyQt for Win requiring Python2.5.

I expect that although they test only against latest stable version of
Qt, PyQt should generally work with all older versions of Qt4 (in case
it's built from source). You can see some conditional declarations in
*.sip based on Qt version that  should allow flawless compilation with
older Qt versions.

Martin

From wonder.sk at gmail.com  Sun Nov 11 18:46:04 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] small note about PyQt
In-Reply-To: <20071111051732.C6B2D3BA03@spunkymail-a4.g.dreamhost.com>
References: <e8e7199c0711100339j19245698t9161aa84c75ca4ca@mail.gmail.com>
	<20071111051732.C6B2D3BA03@spunkymail-a4.g.dreamhost.com>
Message-ID: <e8e7199c0711111546j22df3afaw6febd4a331cd4975@mail.gmail.com>

On Nov 11, 2007 6:17 AM, Aaron Racicot <aaronr@z-pulley.com> wrote:
> Martin,
>
> Just a few notes from personal experience... not sure if they are just
> related to the tests I did or indicative of inherent incompatibilities but:
>
> 1) I have tested QT4.3.2 with PyQt4.3.1 and SIP 4.7 on both Win and Linux,
> all built from source and had issues.  For me I have never been able to get
> a QT4.3.2 build to work with PyQt4.3.1.  Again, maybe that is just me, but I
> have tried and failed.

What were the issues related to? Compilation problems or some strange crashes?


> 2) The Win installer of PyQt from Riverbank (by far the easiest way to
> install for most) is built with the Microsoft compilers and is not
> compatible with the MingW built versions of QT or QGIS in general.  That is
> why Tisham includes the pyqt4 with the win installer now (a MingW version of
> pyqt4).  If you have the Riverbank version already installed it will not
> work without writing over the PyQt4 stuff in site-packages with the MingW
> version.

Ah, I didn't know that - I have always used PyQt built by myself with MinGW.


> I have not tried any of this in about a month because it is quite a time
> sink to try and deal with all of these installs and testing.  Right now the
> only combo that I am happy with and know works on all architectures is
> QT4.3.1, PyQt4.3.1 and SIP4.7.  That is what the release was built with and
> what I am using currently.

I'm wondering what might be reason of Qt4.3.1 not working since it
should be just a bugfix release...

Martin

From tim at linfiniti.com  Mon Nov 12 13:56:58 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Debian etch and Ubuntu Gutsy and updated Windows
	test builds of the raster branch are available
Message-ID: <d368056f0711121056v7672cb63wf6202b0b33bce62d@mail.gmail.com>

Hi All

Peter Ersts, Marco Hugentobler and myself have been working on
improving raster capabilities of QGIS. This work is taking place in a
separate development branch. I have made test builds for Debian Etch
and Ubuntu Gutsy, and the msvc build is updated. All are available
here:

http://qgis.org/uploadfiles/testbuilds/

(you want the file prefixed with qgis_raster_branch_preview...)

If you have any issues or suggestions, please file them against the
raster transparency milestone in trac.

Regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From cavallini at faunalia.it  Mon Nov 12 14:01:53 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] [Qgis-user] Debian etch and Ubuntu Gutsy and
 updated Windows test	builds of the raster branch are available
In-Reply-To: <d368056f0711121056v7672cb63wf6202b0b33bce62d@mail.gmail.com>
References: <d368056f0711121056v7672cb63wf6202b0b33bce62d@mail.gmail.com>
Message-ID: <4738A321.6070005@faunalia.it>

Tim Sutton ha scritto:

> http://qgis.org/uploadfiles/testbuilds/
> 
> (you want the file prefixed with qgis_raster_branch_preview...)
> 
> If you have any issues or suggestions, please file them against the
> raster transparency milestone in trac.

Great thing!
Would it be feasible to have also the advenced editing branch, or I'm
asking too much ;) ?
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071112/915ec82a/signature.bin
From tim at linfiniti.com  Mon Nov 12 17:43:35 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] [Qgis-user] Debian etch and Ubuntu Gutsy and
	updated Windows test builds of the raster branch are available
In-Reply-To: <4738A321.6070005@faunalia.it>
References: <d368056f0711121056v7672cb63wf6202b0b33bce62d@mail.gmail.com>
	<4738A321.6070005@faunalia.it>
Message-ID: <d368056f0711121443l6df0240dl2a01da12fc63bf68@mail.gmail.com>

Hi

Yes I will be doing the same for the advanced editing branch as soon
as Marco gives me the go-ahead (there are a few things he wants to
sort out first). Ditto for the diagram branch.

Best regards

Tim

2007/11/12, Paolo Cavallini <cavallini@faunalia.it>:
> Tim Sutton ha scritto:
>
> > http://qgis.org/uploadfiles/testbuilds/
> >
> > (you want the file prefixed with qgis_raster_branch_preview...)
> >
> > If you have any issues or suggestions, please file them against the
> > raster transparency milestone in trac.
>
> Great thing!
> Would it be feasible to have also the advenced editing branch, or I'm
> asking too much ;) ?
> All the best.
> pc
> --
> Paolo Cavallini, see: http://www.faunalia.it/pc
>
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From telwertowski at comcast.net  Wed Nov 14 17:55:44 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] First test build of raster branch for windows
In-Reply-To: <4734CB59.2030004@amnh.org>
References: <d368056f0711081926v209211e2vde692a206e15b90c@mail.gmail.com>
	<4734BC14.10506@comcast.net> <4734CB59.2030004@amnh.org>
Message-ID: <473B7CF0.6070908@comcast.net>

Peter Ersts wrote:
> Tom Elwertowski wrote:
>> I tried a Mac build and hit the following:
>> /usr/bin/ld: Undefined symbols:
>> GDALDataset::GetRasterBand(int)
>> GDALDataset::GetRasterCount()
>> collect2: ld returned 1 exit status
>>   
> Can you double check your cmake config, it looks like GDAL is not being 
> found.

I looked in the generated python/core/Makefile and found no occurrence 
of "gdal" anywhere. After appending "-L/usr/local/lib -lgdal" to LIBS, 
the link succeeded.

The only occurrences of "gdal" in the corresponding CMakeLists.txt is 
within Windows conditionals so it doesn't surprise me that gdal isn't 
linked in. The main and advanced-editing branches don't have this gdal 
dependency; they link without gdal for me.

I will leave the solution to someone who is familiar with the 
Python/CMake build process.

Tom

From tim at linfiniti.com  Wed Nov 14 21:28:20 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Mac OSX build of raster branch preview now
	available
Message-ID: <d368056f0711141828w3e9c7329p7cb11f83823f4d48@mail.gmail.com>

Hi Folks

Tom Elwertowski has kindly created a preview of the raster branch for
OSX too. It can be downloaded from :

http://qgis.org/uploadfiles/testbuilds/qgis-0.9.1-raster-r7389.dmg.gz

Many thanks Tom!

Regards



-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Thu Nov 15 08:46:58 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] A trip down memory lane - .avl style support in
	QGIS
Message-ID: <d368056f0711150546j8d7a9b6jf60ac9053d98d6c9@mail.gmail.com>

Hi All

Over the next week or so I plan to work on adding support for
autoproperties of vector layers. If you ever used ArcView 3.x I'm
talking about a feature similar to .avl support. The idea is that for
supported vector layers when the layer (e;g; layerfoo.shp) is first
loaded, QGIS will look for an associated layerfoo.qml file and if it
exists and we are not loading a project file, the symbology and other
settings in the qml file will be applied to the layer as it is loaded.
The .qml format will be exactly the same as the xml serilised layer
properties.

I will add a couple of buttons to the layer properties box to allow
loading and saving symbologies. If the qml file basename matches, it
will be automatically loaded at layer load. If the name does not
match, the user will be able to load it using the load symbology
button. Doing it this way will let you store multiple persistent
symbology profiles, with one of them being default.


So the point of my email is to ask:

- is anyone else working on this same functionality - if so please let
me know so I don't duplicate effort.
- where shall I do this work? Advanced editing branch? I dont antipate
it will take a long time to complete and would like to merge it in to
trunk soon after 0.9.1 goes out.
- are there any special behaviours or considerations people would like
me to take into account while doing this work?
- D?ster I believe you had also requested this feature from Gary at
the FOSS4GIS conference - is there anything that I've left out that
you were hoping for?

Note I will be out of contact till Sunday so apologies if my response
is not immediate.

Regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From marco.hugentobler at karto.baug.ethz.ch  Thu Nov 15 09:51:18 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] A trip down memory lane - .avl style support
	in QGIS
In-Reply-To: <d368056f0711150546j8d7a9b6jf60ac9053d98d6c9@mail.gmail.com>
References: <d368056f0711150546j8d7a9b6jf60ac9053d98d6c9@mail.gmail.com>
Message-ID: <200711151551.19075.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

These are good news! I'm looking forward to that feature.

> - where shall I do this work? Advanced editing branch?

Or create a new branch for it. As the .avl support is not an editing feature, 
I would prefer to not code it in the editing branch. If you think it is too 
much to open a branch only for this feature, it could also be a patch that 
you apply after 0.9.1.  

Afaik the .avl style support would not relate to any code that has been 
changed in the advanced editing branch. So I don't expect conflicts when both 
will be merged together.

Regards,
Marco

On Thursday 15 November 2007 14:46:58 Tim Sutton wrote:
> Hi All
>
> Over the next week or so I plan to work on adding support for
> autoproperties of vector layers. If you ever used ArcView 3.x I'm
> talking about a feature similar to .avl support. The idea is that for
> supported vector layers when the layer (e;g; layerfoo.shp) is first
> loaded, QGIS will look for an associated layerfoo.qml file and if it
> exists and we are not loading a project file, the symbology and other
> settings in the qml file will be applied to the layer as it is loaded.
> The .qml format will be exactly the same as the xml serilised layer
> properties.
>
> I will add a couple of buttons to the layer properties box to allow
> loading and saving symbologies. If the qml file basename matches, it
> will be automatically loaded at layer load. If the name does not
> match, the user will be able to load it using the load symbology
> button. Doing it this way will let you store multiple persistent
> symbology profiles, with one of them being default.
>
>
> So the point of my email is to ask:
>
> - is anyone else working on this same functionality - if so please let
> me know so I don't duplicate effort.
> - where shall I do this work? Advanced editing branch? I dont antipate
> it will take a long time to complete and would like to merge it in to
> trunk soon after 0.9.1 goes out.
> - are there any special behaviours or considerations people would like
> me to take into account while doing this work?
> - D?ster I believe you had also requested this feature from Gary at
> the FOSS4GIS conference - is there anything that I've left out that
> you were hoping for?
>
> Note I will be out of contact till Sunday so apologies if my response
> is not immediate.
>
> Regards



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From tim at linfiniti.com  Thu Nov 15 09:54:59 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] A trip down memory lane - .avl style support
	in QGIS
In-Reply-To: <200711151551.19075.marco.hugentobler@karto.baug.ethz.ch>
References: <d368056f0711150546j8d7a9b6jf60ac9053d98d6c9@mail.gmail.com>
	<200711151551.19075.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0711150654hcb0f281gc7efbb13ac192f54@mail.gmail.com>

Hi

Yes you are right - Ill just keep it as a patch that I wll apply post
0.9.1 to trunk. I think it will not be big or invasive changes.

Regards

Tim

2007/11/15, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Tim,
>
> These are good news! I'm looking forward to that feature.
>
> > - where shall I do this work? Advanced editing branch?
>
> Or create a new branch for it. As the .avl support is not an editing feature,
> I would prefer to not code it in the editing branch. If you think it is too
> much to open a branch only for this feature, it could also be a patch that
> you apply after 0.9.1.
>
> Afaik the .avl style support would not relate to any code that has been
> changed in the advanced editing branch. So I don't expect conflicts when both
> will be merged together.
>
> Regards,
> Marco
>
> On Thursday 15 November 2007 14:46:58 Tim Sutton wrote:
> > Hi All
> >
> > Over the next week or so I plan to work on adding support for
> > autoproperties of vector layers. If you ever used ArcView 3.x I'm
> > talking about a feature similar to .avl support. The idea is that for
> > supported vector layers when the layer (e;g; layerfoo.shp) is first
> > loaded, QGIS will look for an associated layerfoo.qml file and if it
> > exists and we are not loading a project file, the symbology and other
> > settings in the qml file will be applied to the layer as it is loaded.
> > The .qml format will be exactly the same as the xml serilised layer
> > properties.
> >
> > I will add a couple of buttons to the layer properties box to allow
> > loading and saving symbologies. If the qml file basename matches, it
> > will be automatically loaded at layer load. If the name does not
> > match, the user will be able to load it using the load symbology
> > button. Doing it this way will let you store multiple persistent
> > symbology profiles, with one of them being default.
> >
> >
> > So the point of my email is to ask:
> >
> > - is anyone else working on this same functionality - if so please let
> > me know so I don't duplicate effort.
> > - where shall I do this work? Advanced editing branch? I dont antipate
> > it will take a long time to complete and would like to merge it in to
> > trunk soon after 0.9.1 goes out.
> > - are there any special behaviours or considerations people would like
> > me to take into account while doing this work?
> > - D?ster I believe you had also requested this feature from Gary at
> > the FOSS4GIS conference - is there anything that I've left out that
> > you were hoping for?
> >
> > Note I will be out of contact till Sunday so apologies if my response
> > is not immediate.
> >
> > Regards
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
> marco.hugentobler@karto.baug.ethz.ch
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From wonder.sk at gmail.com  Thu Nov 15 10:58:50 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] A trip down memory lane - .avl style support
	in QGIS
In-Reply-To: <d368056f0711150546j8d7a9b6jf60ac9053d98d6c9@mail.gmail.com>
References: <d368056f0711150546j8d7a9b6jf60ac9053d98d6c9@mail.gmail.com>
Message-ID: <e8e7199c0711150758i2da7cd7cwa100e61e89f88e17@mail.gmail.com>

On Nov 15, 2007 2:46 PM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi All
>
> Over the next week or so I plan to work on adding support for
> autoproperties of vector layers. If you ever used ArcView 3.x I'm
> talking about a feature similar to .avl support. The idea is that for
> supported vector layers when the layer (e;g; layerfoo.shp) is first
> loaded, QGIS will look for an associated layerfoo.qml file and if it
> exists and we are not loading a project file, the symbology and other
> settings in the qml file will be applied to the layer as it is loaded.
> The .qml format will be exactly the same as the xml serilised layer
> properties.

Hi Tim,

will these changes have some impact on QGIS core/gui libraries?
(e.g. some API changes or additions?)

Bye
Martin

From aaronr at z-pulley.com  Thu Nov 15 16:08:50 2007
From: aaronr at z-pulley.com (Aaron Racicot)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Patch for Ticket #811 - selectionChanged() SIGNAL
	getting connected and disconnected on raster layers in
	qgsmapcanvas.cpp
Message-ID: <20071115210849.9B6B3109F2B@spunkymail-a6.g.dreamhost.com>

I have submitted a patch for Ticket #811 to get rid of runtime warnings when
adding raster layers and QGIS trying to connect to signals only available
for vector layers.  The tell tail sign is a bunch of this in your console:

Warning: Object::connect: No such signal QgsRasterLayer::selectionChanged()
Warning: Object::connect: No such signal QgsRasterLayer::wasModified(bool)

Aaron

+----------------------------------------+
 Aaron Racicot - GIS Programmer   
 360.221.2441 - aaronr@z-pulley.com          
+----------------------------------------+
 z - p u l l e y                        
 pobox 1614
 langley wa 98260
 www.reprojected.com                       
+----------------------------------------+



From marco.hugentobler at karto.baug.ethz.ch  Fri Nov 16 03:48:25 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] testing of advanced editing branch
In-Reply-To: <d368056f0711121443l6df0240dl2a01da12fc63bf68@mail.gmail.com>
References: <d368056f0711121056v7672cb63wf6202b0b33bce62d@mail.gmail.com>
	<4738A321.6070005@faunalia.it>
	<d368056f0711121443l6df0240dl2a01da12fc63bf68@mail.gmail.com>
Message-ID: <200711160948.25343.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

After the commits this morning, the advanced editing branch is ready for 
testing. It would be great to also have binary builds as for the raster 
branch.

In trac, there is already a Milstone 'Branch - Advanced Editing' to fill bug 
tickets against. So I'm waiting for bugs to roll in :-)

cheers,
Marco

On Monday 12 November 2007 23:43:35 Tim Sutton wrote:
> Hi
>
> Yes I will be doing the same for the advanced editing branch as soon
> as Marco gives me the go-ahead (there are a few things he wants to
> sort out first). Ditto for the diagram branch.
>
> Best regards
>
> Tim
>
> 2007/11/12, Paolo Cavallini <cavallini@faunalia.it>:
> > Tim Sutton ha scritto:
> > > http://qgis.org/uploadfiles/testbuilds/
> > >
> > > (you want the file prefixed with qgis_raster_branch_preview...)
> > >
> > > If you have any issues or suggestions, please file them against the
> > > raster transparency milestone in trac.
> >
> > Great thing!
> > Would it be feasible to have also the advenced editing branch, or I'm
> > asking too much ;) ?
> > All the best.
> > pc
> > --
> > Paolo Cavallini, see: http://www.faunalia.it/pc



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From wonder.sk at gmail.com  Fri Nov 16 13:29:34 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] First test build of raster branch for windows
In-Reply-To: <473B7CF0.6070908@comcast.net>
References: <d368056f0711081926v209211e2vde692a206e15b90c@mail.gmail.com>
	<4734BC14.10506@comcast.net> <4734CB59.2030004@amnh.org>
	<473B7CF0.6070908@comcast.net>
Message-ID: <e8e7199c0711161029r6b3716afgd35d0506bf1b5dd0@mail.gmail.com>

On Nov 14, 2007 11:55 PM, Tom Elwertowski <telwertowski@comcast.net> wrote:
> Peter Ersts wrote:
> > Tom Elwertowski wrote:
> >> I tried a Mac build and hit the following:
> >> /usr/bin/ld: Undefined symbols:
> >> GDALDataset::GetRasterBand(int)
> >> GDALDataset::GetRasterCount()
> >> collect2: ld returned 1 exit status
> >>
> > Can you double check your cmake config, it looks like GDAL is not being
> > found.
>
> I looked in the generated python/core/Makefile and found no occurrence
> of "gdal" anywhere. After appending "-L/usr/local/lib -lgdal" to LIBS,
> the link succeeded.

Makefiles that compile bindings are created in python/configure.py.in
script (which is first preprocessed by CMake which adds build-related
stuff. That script uses pyqtconfig module from PyQt4 and sipconfig
from SIP which make generating those makefiles simple.

> The only occurrences of "gdal" in the corresponding CMakeLists.txt is
> within Windows conditionals so it doesn't surprise me that gdal isn't
> linked in. The main and advanced-editing branches don't have this gdal
> dependency; they link without gdal for me.
>
> I will leave the solution to someone who is familiar with the
> Python/CMake build process.

Tom, could you try to make that section of CMakeLists.txt with gdal to
be used always (i.e. not only with MSVC) whether that helps? I don't
have a mac here so I can't test the difference...

Martin

From wonder.sk at gmail.com  Fri Nov 16 13:41:53 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] [QGIS Commit] SVN [ersts] r7424
Message-ID: <e8e7199c0711161041u26927439hceff9b60b0962d1@mail.gmail.com>

Hi Peter,

I've seen in your recent commit that you've added support for custom
enhancement functions also written in Python. While this is surely a
good idea, I would prefer to put it only to python bindings and not to
leave it directly in core library - as this introduces dependency of
core library on Python, which we (at least so far) want to keep
optional.

AFAIK SIP supports adding new methods in .sip files so it shouldn't be
a big problem to move it there... Maybe I could try to help you here
if needed.

Regards
Martin


---------- Forwarded message ----------
From:  <noreply@qgis.org>
Date: Nov 16, 2007 4:02 PM
Subject: [QGIS Commit] SVN [ersts] r7424 - in
branches/raster_transparency_branch: python/core src/app src/core
src/core/raster src/plugins src/plugins/georeferencer
src/plugins/grass
To: qgis-commit@lists.qgis.org


Author: ersts
Date: 2007-11-16 15:02:31 +0000 (Fri, 16 Nov 2007)
New Revision: 7424

[...]

From ersts at amnh.org  Fri Nov 16 16:21:58 2007
From: ersts at amnh.org (Peter Ersts)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] [QGIS Commit] SVN [ersts] r7424
In-Reply-To: <e8e7199c0711161041u26927439hceff9b60b0962d1@mail.gmail.com>
References: <e8e7199c0711161041u26927439hceff9b60b0962d1@mail.gmail.com>
Message-ID: <473E09F6.5020106@amnh.org>

Martin,

I was just going to write you shortly because I need your help with it 
anyway ;) The custom enhancement function is a bit of a test at the 
moment anyway. As for keeping it only adding to the in the bindings that 
may not be possible, in which case we may choose to remove it.

At the moment I have implemented the custom enhancement function as a 
callback. The idea was to you allow the user to just pass a function 
pointer to the contrast enhancement class. Your function simple needs to 
take in a double and return a int. The proof-of-concept I wrote in 
python (which I know next to nothing about) did work, but the same code 
is not working when added to the QgsContastEnhancement class. The C++ 
call back works fine. Implementing it as a callback is what introduces 
the dependency on python. If you have a suggestion on how to do with 
from python without using a callback approach thus not introducing a 
dependency on python I am very interested in hearing your idea.

On a parallel note, I also need to consider carefully the safety of 
simply passing a function pointer. It may be necessary to create a more 
complete plugin service that includes the equivalent of a plugin 
manager. I see this feature as being very useful, and if expanded just a 
little it would allow users to create a custom lookup tables on the fly 
for example.

I am interested in hearing other's opinions on this as well. There is 
plenty to do already in the raster branch so I need to make sure this 
does not end up being a time sync. It is always something that can be 
tabled for a later revision.

-pete

Martin Dobias wrote:
> Hi Peter,
>
> I've seen in your recent commit that you've added support for custom
> enhancement functions also written in Python. While this is surely a
> good idea, I would prefer to put it only to python bindings and not to
> leave it directly in core library - as this introduces dependency of
> core library on Python, which we (at least so far) want to keep
> optional.
>
> AFAIK SIP supports adding new methods in .sip files so it shouldn't be
> a big problem to move it there... Maybe I could try to help you here
> if needed.
>
> Regards
> Martin
>
>
> ---------- Forwarded message ----------
> From:  <noreply@qgis.org>
> Date: Nov 16, 2007 4:02 PM
> Subject: [QGIS Commit] SVN [ersts] r7424 - in
> branches/raster_transparency_branch: python/core src/app src/core
> src/core/raster src/plugins src/plugins/georeferencer
> src/plugins/grass
> To: qgis-commit@lists.qgis.org
>
>
> Author: ersts
> Date: 2007-11-16 15:02:31 +0000 (Fri, 16 Nov 2007)
> New Revision: 7424
>
> [...]
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>   


-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit


From wonder.sk at gmail.com  Fri Nov 16 17:30:43 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] [QGIS Commit] SVN [ersts] r7424
In-Reply-To: <473E09F6.5020106@amnh.org>
References: <e8e7199c0711161041u26927439hceff9b60b0962d1@mail.gmail.com>
	<473E09F6.5020106@amnh.org>
Message-ID: <e8e7199c0711161430m50ef758i6f98ea27b6e59b08@mail.gmail.com>

On Nov 16, 2007 10:21 PM, Peter Ersts <ersts@amnh.org> wrote:
> Martin,
>
> I was just going to write you shortly because I need your help with it
> anyway ;) The custom enhancement function is a bit of a test at the
> moment anyway. As for keeping it only adding to the in the bindings that
> may not be possible, in which case we may choose to remove it.
>
> At the moment I have implemented the custom enhancement function as a
> callback. The idea was to you allow the user to just pass a function
> pointer to the contrast enhancement class. Your function simple needs to
> take in a double and return a int. The proof-of-concept I wrote in
> python (which I know next to nothing about) did work, but the same code
> is not working when added to the QgsContastEnhancement class. The C++
> call back works fine. Implementing it as a callback is what introduces
> the dependency on python. If you have a suggestion on how to do with
> from python without using a callback approach thus not introducing a
> dependency on python I am very interested in hearing your idea.

Looking at the implementation of QgsContrastEnhancement, this class
looks like a perfect candidate for delegation of
calculateContrastEnhancementValue() function to derived classes. How
should it look like:
- that function will become a pure virtual function
- derived classes (e.g. QgsContrastNoStretch,
QgsContrastStretchToMinMax etc.) will implement only that function
- creating a new algorithm would mean creating another class with
implementation of that function

This can be easily used in PyQGIS - it's quite straightforward to
derive own QgsContrastEnhancement class and assign it to raster layer.

What do you think?

Martin

From aaronr at z-pulley.com  Fri Nov 16 17:34:01 2007
From: aaronr at z-pulley.com (Aaron Racicot)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Patch for Ticket #556 - Field should be Layer in
	GRASS lingo
In-Reply-To: <20071115210849.9B6B3109F2B@spunkymail-a6.g.dreamhost.com>
Message-ID: <20071116223359.06AB3109F28@spunkymail-a6.g.dreamhost.com>

Simple patch to src/plugins/grass/qgsgrasseditbase.ui to change two
occurrences of "Field" with "Layer".

https://svn.qgis.org/trac/ticket/556

Patch attached to ticket...

A

+----------------------------------------+
 Aaron Racicot - GIS Programmer   
 360.221.2441 - aaronr@z-pulley.com          
+----------------------------------------+
 z - p u l l e y                        
 pobox 1614
 langley wa 98260
 www.reprojected.com                       
+----------------------------------------+



From wonder.sk at gmail.com  Fri Nov 16 17:44:11 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Patch for Ticket #556 - Field should be Layer
	in GRASS lingo
In-Reply-To: <20071116223359.06AB3109F28@spunkymail-a6.g.dreamhost.com>
References: <20071115210849.9B6B3109F2B@spunkymail-a6.g.dreamhost.com>
	<20071116223359.06AB3109F28@spunkymail-a6.g.dreamhost.com>
Message-ID: <e8e7199c0711161444h4b7d741cj283899da39a16e5@mail.gmail.com>

On Nov 16, 2007 11:34 PM, Aaron Racicot <aaronr@z-pulley.com> wrote:
> Simple patch to src/plugins/grass/qgsgrasseditbase.ui to change two
> occurrences of "Field" with "Layer".
>
> https://svn.qgis.org/trac/ticket/556
>
> Patch attached to ticket...

Applied :-)
Thanks!

Martin

From ersts at amnh.org  Fri Nov 16 18:19:55 2007
From: ersts at amnh.org (Peter Ersts)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] [QGIS Commit] SVN [ersts] r7424
In-Reply-To: <e8e7199c0711161430m50ef758i6f98ea27b6e59b08@mail.gmail.com>
References: <e8e7199c0711161041u26927439hceff9b60b0962d1@mail.gmail.com>	
	<473E09F6.5020106@amnh.org>
	<e8e7199c0711161430m50ef758i6f98ea27b6e59b08@mail.gmail.com>
Message-ID: <473E259B.9030405@amnh.org>

Martin Dobias wrote:
> Looking at the implementation of QgsContrastEnhancement, this class
> looks like a perfect candidate for delegation of
> calculateContrastEnhancementValue() function to derived classes. How
> should it look like:
> - that function will become a pure virtual function
> - derived classes (e.g. QgsContrastNoStretch,
> QgsContrastStretchToMinMax etc.) will implement only that function
> - creating a new algorithm would mean creating another class with
> implementation of that function
>
> This can be easily used in PyQGIS - it's quite straightforward to
> derive own QgsContrastEnhancement class and assign it to raster layer.
>
> What do you think?
>
> Martin
>
>   

I had already thought about as an option. And don't know why i did not 
stick with the idea. It think this is the much better way to go.

-pete

-- 
====================================
Peter J. Ersts, Project Specialist
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Tel: Home Office (518)-632-4745 or NYC Office (212)-496-3488
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Quantum GIS Raster Development Team. Visit http://www.qgis.org
to learn more about QGIS, a free and open source desktop GIS

Open Source,
...evolving through community cooperation to change the world bit by bit


From warmerdam at pobox.com  Fri Nov 16 19:34:17 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Rotated and Upsidedown Rasters
Message-ID: <473E3709.8070105@pobox.com>

Folks,

QGIS appears not to support rotated or upside down rasters very well.
I have filed bug:

   https://svn.qgis.org/trac/ticket/813

on this issue.  For my case, an upside raster, it did not show up at
all.  I have made changes in the raster-transparency branch (which I gather
will go into QGIS 1.0) such that rotated, shared and upsidedown rasters will
be displayed, and in the correct bounding box on the map, but with the
wrong orientation.  For instance, in the case of my upsidedown image it is
shown in the right area, but flipped.  The georeferencing for points is
thus quite wrong (well except in the center of course).

I see this as an expedient to let people see their data, but only a stop
gap to eventual implementation of properly displayed rotated rasters.  But
to do that we would need a more general sort of resampling operation between
the file and the display.  That's more than I'm willing to address now.
Possibly, with help from Pete, this might be something that could be
considered for 1.0.

Actually, as I think about it, another alternative used by some other
software packages (ie. Cadcorp SIS) is to create a GDAL "warped VRT"
in memory that will take care of resampling on the fly within GDAL.

That's quite an interesting angle.  I think I'll pursue that angle!

In the meantime, a heads up on a change of behavior and an intent to
address the problem more generally.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Sat Nov 17 00:07:49 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Rotated and Upsidedown Rasters
In-Reply-To: <473E3709.8070105@pobox.com>
References: <473E3709.8070105@pobox.com>
Message-ID: <473E7725.8020907@pobox.com>

Frank Warmerdam wrote:
> Actually, as I think about it, another alternative used by some other
> software packages (ie. Cadcorp SIS) is to create a GDAL "warped VRT"
> in memory that will take care of resampling on the fly within GDAL.
> 
> That's quite an interesting angle.  I think I'll pursue that angle!

Folks,

In fact, I have ripped out my old code, and gone this way.  It should
work fine with any GDAL from 1.3.0 on, and it now in the raster
transparency branch.  The approach also supports georefeenced display
of images with ground control points instead of a geotransform.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From jef at norbit.de  Sat Nov 17 07:40:33 2007
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] First test build of raster branch for windows
In-Reply-To: <e8e7199c0711161029r6b3716afgd35d0506bf1b5dd0@mail.gmail.com>
References: <d368056f0711081926v209211e2vde692a206e15b90c@mail.gmail.com>
	<4734BC14.10506@comcast.net> <4734CB59.2030004@amnh.org>
	<473B7CF0.6070908@comcast.net>
	<e8e7199c0711161029r6b3716afgd35d0506bf1b5dd0@mail.gmail.com>
Message-ID: <20071117124033.GA28304@norbit.de>

Hi Martin,

On Fri, 16. Nov 2007 at 19:29:34 +0100, Martin Dobias wrote:
> > The only occurrences of "gdal" in the corresponding CMakeLists.txt is
> > within Windows conditionals so it doesn't surprise me that gdal isn't
> > linked in. The main and advanced-editing branches don't have this gdal
> > dependency; they link without gdal for me.
> >
> > I will leave the solution to someone who is familiar with the
> > Python/CMake build process.
> 
> Tom, could you try to make that section of CMakeLists.txt with gdal to
> be used always (i.e. not only with MSVC) whether that helps? I don't
> have a mac here so I can't test the difference...

Actually that was me that introduced GDAL linkage to
python/CMakeLists.txt and python/configure.py.in.  I ran into it working
on the MSVC port and figured it would work elsewhere already.

I changed that now to be generic with r7440.  Tested with MSVC and
Linux, but I don't have a mac either.  But from the filenames I see in
CMakeLists.txt that should work there, too.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502


From gavin at macaulay.co.nz  Sat Nov 17 19:29:47 2007
From: gavin at macaulay.co.nz (Gavin Macaulay)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Comment on a GUI requested
Message-ID: <24949.60.234.101.129.1195345787.squirrel@secure.niwa.co.nz>

Hi,

Bug #772 (https://svn.qgis.org/trac/ticket/772) reported a problem with
the details pane in the map composer that is related to the map composer
dialog box being too short.

Looking at the map composer details pane, I note that the descriptive text
for each item in the details pane is above the relevant text entry widget.
This uses a lot more vertical space that necessary.

I'm interested in comments on whether my current solution (see
https://svn.qgis.org/trac/attachment/ticket/772/new.png) is acceptable
(c.f. https://svn.qgis.org/trac/attachment/ticket/772/old.png). It seems
better to me, but since it's a highly visible change I thought I'd ask for
comments.

Regards

Gavin





From telwertowski at comcast.net  Sun Nov 18 02:06:53 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] First test build of raster branch for windows
In-Reply-To: <20071117124033.GA28304@norbit.de>
References: <d368056f0711081926v209211e2vde692a206e15b90c@mail.gmail.com>	<4734BC14.10506@comcast.net>
	<4734CB59.2030004@amnh.org>	<473B7CF0.6070908@comcast.net>	<e8e7199c0711161029r6b3716afgd35d0506bf1b5dd0@mail.gmail.com>
	<20071117124033.GA28304@norbit.de>
Message-ID: <473FE48D.7000504@comcast.net>

J?rgen E. Fischer wrote:
> Actually that was me that introduced GDAL linkage to
> python/CMakeLists.txt and python/configure.py.in.  I ran into it working
> on the MSVC port and figured it would work elsewhere already.
> 
> I changed that now to be generic with r7440.  Tested with MSVC and
> Linux, but I don't have a mac either.  But from the filenames I see in
> CMakeLists.txt that should work there, too.

The latest revision also works on a Mac. Prior to the raster branch, the 
Mac modules didn't need to link with gdal. The raster branch probably 
wasn't compiled on a Mac before last week.

Tom

From tutey at o2.pl  Sun Nov 18 13:18:09 2007
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] [QGIS Commit] SVN [StevenB] r7368 -
	trunk/qgis/src/app/composer
In-Reply-To: <20071110165852.3062892163@svn.qgis.org>
References: <20071110165852.3062892163@svn.qgis.org>
Message-ID: <474081E1.3050203@o2.pl>

noreply@qgis.org wrote:
> Author: StevenB
> Date: 2007-11-10 16:58:51 +0000 (Sat, 10 Nov 2007)
> New Revision: 7368
> 
> Modified:
>    trunk/qgis/src/app/composer/qgscomposervectorlegend.cpp
> Log:
> Workaround for font bug in the composer vector legend, plus a little 
> cleanup.

I guess a similar workaround is necessary for scalebar font.
Still bulky.

Legend looks fine now. Cool.

Maciek

From wonder.sk at gmail.com  Sun Nov 18 13:51:43 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] ticket #771 (plugin path should be persisted)
Message-ID: <e8e7199c0711181051j1313f65u2ed38764ead7f30b@mail.gmail.com>

Regarding this ticket:
https://svn.qgis.org/trac/ticket/771

To fix it, I'd like to remove the possibility to change path to c++ plugins.
It seems to me that nobody really uses it, moreover actually nobody
should be forced to use it.
I'll just keep the path on top of the plugin manager so the user sees
where the plugins come from.

Any objections?

Martin

From tim at linfiniti.com  Sun Nov 18 14:41:26 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] ticket #771 (plugin path should be persisted)
In-Reply-To: <e8e7199c0711181051j1313f65u2ed38764ead7f30b@mail.gmail.com>
References: <e8e7199c0711181051j1313f65u2ed38764ead7f30b@mail.gmail.com>
Message-ID: <d368056f0711181141i1de6bd94ib8687b8fad3362a7@mail.gmail.com>

Hi

If you mean changes in the gui only then

+1

Third party apps may depend on settng pkgdatapath etc in
qgsapplication so it should not be removed there.

Regards

Tim

2007/11/18, Martin Dobias <wonder.sk@gmail.com>:
> Regarding this ticket:
> https://svn.qgis.org/trac/ticket/771
>
> To fix it, I'd like to remove the possibility to change path to c++ plugins.
> It seems to me that nobody really uses it, moreover actually nobody
> should be forced to use it.
> I'll just keep the path on top of the plugin manager so the user sees
> where the plugins come from.
>
> Any objections?
>
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From aaronr at z-pulley.com  Sun Nov 18 14:56:45 2007
From: aaronr at z-pulley.com (Aaron Racicot)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Patch added for Ticket #722 for review
Message-ID: <20071118195644.00B12E24DA@spunkymail-a20.g.dreamhost.com>


http://svn.qgis.org/trac/ticket/722

A

+----------------------------------------+
 Aaron Racicot - GIS Programmer   
 360.221.2441 - aaronr@z-pulley.com          
+----------------------------------------+
 z - p u l l e y                        
 pobox 1614
 langley wa 98260
 www.reprojected.com                       
+----------------------------------------+



From tim at linfiniti.com  Sun Nov 18 20:20:54 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Comment on a GUI requested
In-Reply-To: <24949.60.234.101.129.1195345787.squirrel@secure.niwa.co.nz>
References: <24949.60.234.101.129.1195345787.squirrel@secure.niwa.co.nz>
Message-ID: <d368056f0711181720x73f85c7cm143f4398bf204066@mail.gmail.com>

Hi Gavin

Sorry I couldnt reply to this earlier. In some locales this approach
may lead to issues. For example I run QGIS in Brazillian Portuguese
mode and the translation of some strings is quite long:

http://flickr.com/photos/timlinux/2044746293/

This can probably be addressed by a) wrapping labels or b) getting
translators to use a shorter string (Qt has some mechanism for giving
instructions for translators automatically).

Regards

Tim

2007/11/17, Gavin Macaulay <gavin@macaulay.co.nz>:
> Hi,
>
> Bug #772 (https://svn.qgis.org/trac/ticket/772) reported a problem with
> the details pane in the map composer that is related to the map composer
> dialog box being too short.
>
> Looking at the map composer details pane, I note that the descriptive text
> for each item in the details pane is above the relevant text entry widget.
> This uses a lot more vertical space that necessary.
>
> I'm interested in comments on whether my current solution (see
> https://svn.qgis.org/trac/attachment/ticket/772/new.png) is acceptable
> (c.f. https://svn.qgis.org/trac/attachment/ticket/772/old.png). It seems
> better to me, but since it's a highly visible change I thought I'd ask for
> comments.
>
> Regards
>
> Gavin
>
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Sun Nov 18 20:39:52 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] A trip down memory lane - .avl style support
	in QGIS
In-Reply-To: <e8e7199c0711150758i2da7cd7cwa100e61e89f88e17@mail.gmail.com>
References: <d368056f0711150546j8d7a9b6jf60ac9053d98d6c9@mail.gmail.com>
	<e8e7199c0711150758i2da7cd7cwa100e61e89f88e17@mail.gmail.com>
Message-ID: <d368056f0711181739m1cb0d077h4902885079c682ae@mail.gmail.com>

Hi Martin

Well as I see it there are three ways I can go here - one which will
impact the api of qgis_core, the others not. I'm planning to use the
existing readXML and writeXML implementations so in comparison to avl
you will get a bit more bang for the buck since all properties of the
layer will be applied by default if the qml exists, not just
symbology.

Way 1) Add an extra bool parameter to the vector ctor with default to
true. When loading layers from qgsproject set this flag to false to
prevent having to parse the xml once during layer initialisation
(using qml mechanism) and once when project overrides it with its own
deserialised xml for the layer.

Way 2) NO extra bool parameter to the vector ctor. When loading layers
from qgsproject  parse the xml once during layer initialisation (using
qml mechanism) and once when project overrides it with its own xml.
Obviously I dont like this option too much since it entails a double
initialisation of layer props.

Way 3) No change to vector layer api and manage everything from in the
addLayer function in qgisapp. This is the least invasive API wise but
does not transport well to apps built using libqgis_core. Since I want
this functionality in an application built using libqgis_core I dont
like this option much either.

As you can see my preferred way is to simply ad a flag to the ctor
that will determine whether we should look for the existance of a qml
or not. Obviously for some vector types e.g. PostGIS this flag will
currently be ignored though I am thinking that in these type of non
file based situations we could also be doing a layer URI match in the
users qgis.db and pull the qml out of a table there. This latter is
not something I will try to address in my first version yet though.

Assumming I go with way 1 above, how will that affect python bindings?

Regards

Tim

2007/11/15, Martin Dobias <wonder.sk@gmail.com>:
> On Nov 15, 2007 2:46 PM, Tim Sutton <tim@linfiniti.com> wrote:
> > Hi All
> >
> > Over the next week or so I plan to work on adding support for
> > autoproperties of vector layers. If you ever used ArcView 3.x I'm
> > talking about a feature similar to .avl support. The idea is that for
> > supported vector layers when the layer (e;g; layerfoo.shp) is first
> > loaded, QGIS will look for an associated layerfoo.qml file and if it
> > exists and we are not loading a project file, the symbology and other
> > settings in the qml file will be applied to the layer as it is loaded.
> > The .qml format will be exactly the same as the xml serilised layer
> > properties.
>
> Hi Tim,
>
> will these changes have some impact on QGIS core/gui libraries?
> (e.g. some API changes or additions?)
>
> Bye
> Martin
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Sun Nov 18 20:42:25 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Patch added for Ticket #722 for review
In-Reply-To: <20071118195644.00B12E24DA@spunkymail-a20.g.dreamhost.com>
References: <20071118195644.00B12E24DA@spunkymail-a20.g.dreamhost.com>
Message-ID: <d368056f0711181742y3ee18739v7ea163f1a4bca6db@mail.gmail.com>

Hi Aaron

Thanks I applied to trunk.

Regards

Tim

2007/11/18, Aaron Racicot <aaronr@z-pulley.com>:
>
> http://svn.qgis.org/trac/ticket/722
>
> A
>
> +----------------------------------------+
>  Aaron Racicot - GIS Programmer
>  360.221.2441 - aaronr@z-pulley.com
> +----------------------------------------+
>  z - p u l l e y
>  pobox 1614
>  langley wa 98260
>  www.reprojected.com
> +----------------------------------------+
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Sun Nov 18 20:44:13 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] testing of advanced editing branch
In-Reply-To: <200711160948.25343.marco.hugentobler@karto.baug.ethz.ch>
References: <d368056f0711121056v7672cb63wf6202b0b33bce62d@mail.gmail.com>
	<4738A321.6070005@faunalia.it>
	<d368056f0711121443l6df0240dl2a01da12fc63bf68@mail.gmail.com>
	<200711160948.25343.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0711181744t3bed19b8i4ae64ff18d9873e4@mail.gmail.com>

Hi Marco

2007/11/16, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Tim,
>
> After the commits this morning, the advanced editing branch is ready for
> testing. It would be great to also have binary builds as for the raster
> branch.
>

Great! I will get some binaries built for you during the week.

Regards

Tim

> In trac, there is already a Milstone 'Branch - Advanced Editing' to fill bug
> tickets against. So I'm waiting for bugs to roll in :-)
>
> cheers,
> Marco
>
> On Monday 12 November 2007 23:43:35 Tim Sutton wrote:
> > Hi
> >
> > Yes I will be doing the same for the advanced editing branch as soon
> > as Marco gives me the go-ahead (there are a few things he wants to
> > sort out first). Ditto for the diagram branch.
> >
> > Best regards
> >
> > Tim
> >
> > 2007/11/12, Paolo Cavallini <cavallini@faunalia.it>:
> > > Tim Sutton ha scritto:
> > > > http://qgis.org/uploadfiles/testbuilds/
> > > >
> > > > (you want the file prefixed with qgis_raster_branch_preview...)
> > > >
> > > > If you have any issues or suggestions, please file them against the
> > > > raster transparency milestone in trac.
> > >
> > > Great thing!
> > > Would it be feasible to have also the advenced editing branch, or I'm
> > > asking too much ;) ?
> > > All the best.
> > > pc
> > > --
> > > Paolo Cavallini, see: http://www.faunalia.it/pc
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
> marco.hugentobler@karto.baug.ethz.ch
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Sun Nov 18 20:48:20 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Rotated and Upsidedown Rasters
In-Reply-To: <473E7725.8020907@pobox.com>
References: <473E3709.8070105@pobox.com> <473E7725.8020907@pobox.com>
Message-ID: <d368056f0711181748w608097cblfa2e893b43293ecd@mail.gmail.com>

Hi Frank

Great stuff! Keep em coming :-)

Regards

Tim

2007/11/17, Frank Warmerdam <warmerdam@pobox.com>:
> Frank Warmerdam wrote:
> > Actually, as I think about it, another alternative used by some other
> > software packages (ie. Cadcorp SIS) is to create a GDAL "warped VRT"
> > in memory that will take care of resampling on the fly within GDAL.
> >
> > That's quite an interesting angle.  I think I'll pursue that angle!
>
> Folks,
>
> In fact, I have ripped out my old code, and gone this way.  It should
> work fine with any GDAL from 1.3.0 on, and it now in the raster
> transparency branch.  The approach also supports georefeenced display
> of images with ground control points instead of a geotransform.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From marco.hugentobler at karto.baug.ethz.ch  Mon Nov 19 04:16:00 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] code maintainer for postgres provider
Message-ID: <200711191016.00721.marco.hugentobler@karto.baug.ethz.ch>

Hi QGIS devs,

Juergen Fischer is the new code maintainer for the postgres provider 
(http://wiki.qgis.org/qgiswiki/Project_Organigram#preview). This position was 
vacant until now and I'm happy that Juergen accepted upon my request.

Regards,
Marco

-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From cavallini at faunalia.it  Mon Nov 19 04:38:21 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] code maintainer for postgres provider
In-Reply-To: <200711191016.00721.marco.hugentobler@karto.baug.ethz.ch>
References: <200711191016.00721.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <4741598D.40806@faunalia.it>

Marco Hugentobler ha scritto:

> Juergen Fischer is the new code maintainer for the postgres provider 
> (http://wiki.qgis.org/qgiswiki/Project_Organigram#preview). This position was 
> vacant until now and I'm happy that Juergen accepted upon my request.

Great! Welcome on board.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071119/93274b40/signature.bin
From benjamin.ducke at ufg.uni-kiel.de  Mon Nov 19 08:43:35 2007
From: benjamin.ducke at ufg.uni-kiel.de (Benjamin Ducke)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] linker command line too long for cmd.exe
Message-ID: <47419307.1000305@ufg.uni-kiel.de>

Dear all,

I am trying to compile QGIS SVN head using MinGW and have run into a
serious wall:

When I 'make' the binaries, after the 52% compile step, I get:

Linking CXX executable qgis.exe

.. and after a few seconds an error message about the command line being
too long (uck!)!

Now, I am pretty sure that the problem originates in cmd.exe, as the
error message is German ("Die eingegebene Zeile ist zu lang.") and I am
on a German system.

I have tried replacing cmd.exe with a version from XP, which is supposed
to allow for longer commands, but to no avail.

I have put the QGIS sources into a very short path in order to shorten
the linker line but that also did not help. I suppose I could try
re-installing Qt into a shorter path. What do you think?

Has anyone had the same problems before?

Is there a replacement for cmd.exe that does not have this limitation?

Might there be a possibility to optimize the Makefile generated by CMake
so that it produces shorter linker command lines?

Where do I have to look to see the actual linker line being used? Does
CMake have something like a verbose switch, so I am not stuck with the
percentage display and can see what's actually going on?

I am grateful for any help on this one.

Best,

Benjamin

-- 
Benjamin Ducke, M.A.
Arch?oinformatik
(Archaeoinformation Science)
Institut f?r Ur- und Fr?hgeschichte
(Inst. of Prehistoric and Historic Archaeology)
Christian-Albrechts-Universit?t zu Kiel
Johanna-Mestorf-Stra?e 2-6
D 24098 Kiel
Germany

Tel.: ++49 (0)431 880-3378 / -3379
Fax : ++49 (0)431 880-7300
www.uni-kiel.de/ufg


From benjamin.ducke at ufg.uni-kiel.de  Mon Nov 19 09:47:25 2007
From: benjamin.ducke at ufg.uni-kiel.de (Benjamin Ducke)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] linker command line too long for cmd.exe
In-Reply-To: <d368056f0711190620l25012137wdfe81eb95295dfa2@mail.gmail.com>
References: <47419307.1000305@ufg.uni-kiel.de>
	<d368056f0711190620l25012137wdfe81eb95295dfa2@mail.gmail.com>
Message-ID: <4741A1FD.3040405@ufg.uni-kiel.de>

Tim,

(I should probably have mentioned that I am on Windows 2000,
who knows, maybe everybody else is using XP these days and
thus never had this problem)

For some reason, there is always trouble if an sh.exe is
in the path when using Cmake. It's hard to avoid that with
the MSYS shell.

Anyhow, moving either the QGIS source code or Qt around to
a shorter path does not help, as the excessive length of
the compiler line is simply caused by the number of objects
passed to it.

The line in question is the one that generates qgis.exe.
It starts with:

cd C:\qgis\build\src\app && C:\MinGW\bin\g++.exe -mwindows
"CMakeFiles/qgis.dir/main.obj" "CMakeFiles/qgis.dir/qgisapp.obj" ...

... and then goes on and on with "CMakeFiles/qgis.dir/<sth.obj> entries.

Now, I wonder: would it be possible to change into the deeper
directory before calling g++ and thus shorten all those items:

cd C:\qgis\build\src\app\CmakeFiles\qgis.dir && C:\MinGW\bin\g++.exe
-mwindows "main.obj" "qgisapp.obj" -o ..\..\qgis.exe <-L.. -l..>

???

This should reduce the length of that line drastically.

Regards,

Benjamin


Tim Sutton wrote:
> Hi
> 
> I haven't encountered this before.
> You could probably try to build in a msys shell.
> 
> Regards
> 
> Tim
> 
> 2007/11/19, Benjamin Ducke <benjamin.ducke@ufg.uni-kiel.de>:
>> Dear all,
>>
>> I am trying to compile QGIS SVN head using MinGW and have run into a
>> serious wall:
>>
>> When I 'make' the binaries, after the 52% compile step, I get:
>>
>> Linking CXX executable qgis.exe
>>
>> .. and after a few seconds an error message about the command line being
>> too long (uck!)!
>>
>> Now, I am pretty sure that the problem originates in cmd.exe, as the
>> error message is German ("Die eingegebene Zeile ist zu lang.") and I am
>> on a German system.
>>
>> I have tried replacing cmd.exe with a version from XP, which is supposed
>> to allow for longer commands, but to no avail.
>>
>> I have put the QGIS sources into a very short path in order to shorten
>> the linker line but that also did not help. I suppose I could try
>> re-installing Qt into a shorter path. What do you think?
>>
>> Has anyone had the same problems before?
>>
>> Is there a replacement for cmd.exe that does not have this limitation?
>>
>> Might there be a possibility to optimize the Makefile generated by CMake
>> so that it produces shorter linker command lines?
>>
>> Where do I have to look to see the actual linker line being used? Does
>> CMake have something like a verbose switch, so I am not stuck with the
>> percentage display and can see what's actually going on?
>>
>> I am grateful for any help on this one.
>>
>> Best,
>>
>> Benjamin
>>
>> --
>> Benjamin Ducke, M.A.
>> Arch?oinformatik
>> (Archaeoinformation Science)
>> Institut f?r Ur- und Fr?hgeschichte
>> (Inst. of Prehistoric and Historic Archaeology)
>> Christian-Albrechts-Universit?t zu Kiel
>> Johanna-Mestorf-Stra?e 2-6
>> D 24098 Kiel
>> Germany
>>
>> Tel.: ++49 (0)431 880-3378 / -3379
>> Fax : ++49 (0)431 880-7300
>> www.uni-kiel.de/ufg
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.qgis.org
>> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>>
> 
> 

-- 
Benjamin Ducke, M.A.
Arch?oinformatik
(Archaeoinformation Science)
Institut f?r Ur- und Fr?hgeschichte
(Inst. of Prehistoric and Historic Archaeology)
Christian-Albrechts-Universit?t zu Kiel
Johanna-Mestorf-Stra?e 2-6
D 24098 Kiel
Germany

Tel.: ++49 (0)431 880-3378 / -3379
Fax : ++49 (0)431 880-7300
www.uni-kiel.de/ufg


From warmerdam at pobox.com  Mon Nov 19 09:53:04 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] code maintainer for postgres provider
In-Reply-To: <200711191016.00721.marco.hugentobler@karto.baug.ethz.ch>
References: <200711191016.00721.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <4741A350.3030409@pobox.com>

Marco Hugentobler wrote:
> Hi QGIS devs,
> 
> Juergen Fischer is the new code maintainer for the postgres provider 
> (http://wiki.qgis.org/qgiswiki/Project_Organigram#preview). This position was 
> vacant until now and I'm happy that Juergen accepted upon my request.

Marco / Juergen,

Excellent news, and well timed!  I just filed two new tickets last night

https://svn.qgis.org/trac/ticket/817

   Support non TCP/IP connections.  Pretty easy to fix (just omit host= and
   port= from connection string when user doesn't provide host) but it touches
   a number of places in the code.  A partial patch (that does work for me) is
   included but some additional work would likely be needed.

https://svn.qgis.org/trac/ticket/818

   Support PostGIS layers of type "GEOMETRY" (which is to say a mix of
   geometries are permitted).  Gary mentioned to me that QGIS feature layers
   are either point, line or polygon (or annotation?) so a mixture of geometries
   is an issue.  I suggested that in the case of ambiguity it might makes sense
   to scan the datasource for geometry types, show the user and ask them which
   they want to render.  Then just ignore incompatible feature types.  But this
   is a substantial change, and goes beyond the postgis code.  Perhaps it could
   be considered for 1.0?

I noticed there was not postgis support specific component in Trac.  Would
this be an appropriate addition?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From wonder.sk at gmail.com  Mon Nov 19 10:44:19 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] linker command line too long for cmd.exe
In-Reply-To: <4741A1FD.3040405@ufg.uni-kiel.de>
References: <47419307.1000305@ufg.uni-kiel.de>
	<d368056f0711190620l25012137wdfe81eb95295dfa2@mail.gmail.com>
	<4741A1FD.3040405@ufg.uni-kiel.de>
Message-ID: <e8e7199c0711190744k4a29d5f5va665024db1bc2638@mail.gmail.com>

On Nov 19, 2007 3:47 PM, Benjamin Ducke <benjamin.ducke@ufg.uni-kiel.de> wrote:
> Tim,
>
> (I should probably have mentioned that I am on Windows 2000,
> who knows, maybe everybody else is using XP these days and
> thus never had this problem)

Right, it's known issue that it's not working with cmd.exe shell in
windows 2000, however XP works well (no idea about vista). In that
case you can use "MSYS Makefiles" generator which doesn't have this
problem.

> Now, I wonder: would it be possible to change into the deeper
> directory before calling g++ and thus shorten all those items:
>
> cd C:\qgis\build\src\app\CmakeFiles\qgis.dir && C:\MinGW\bin\g++.exe
> -mwindows "main.obj" "qgisapp.obj" -o ..\..\qgis.exe <-L.. -l..>
>
> ???

Well, all this stuff is magic by CMake, hard to say whether we could
modify the behaviour. I have reported that problem:
http://www.cmake.org/pipermail/cmake/2006-September/011284.html
Maybe they will fix it for cmake 2.6

Martin

From cavallini at faunalia.it  Mon Nov 19 16:47:19 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] tickets by milestone
Message-ID: <47420467.3090403@faunalia.it>

shouldn't old targets be changed?
http://svn.qgis.org/trac/report/3
we can help if needed.
all the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071119/c3769db1/signature.bin
From tim at linfiniti.com  Mon Nov 19 23:21:56 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] tickets by milestone
In-Reply-To: <47420467.3090403@faunalia.it>
References: <47420467.3090403@faunalia.it>
Message-ID: <d368056f0711192021s26f02d6eo5be872cee4dec737@mail.gmail.com>

Hi

Ok I did soem batch updates in trac. All bugs are now against raster.
0.9.1 or 1.0 milestones.

Regards

Tim

2007/11/19, Paolo Cavallini <cavallini@faunalia.it>:
> shouldn't old targets be changed?
> http://svn.qgis.org/trac/report/3
> we can help if needed.
> all the best.
> pc
> --
> Paolo Cavallini, see: http://www.faunalia.it/pc
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From benjamin.ducke at ufg.uni-kiel.de  Tue Nov 20 07:31:23 2007
From: benjamin.ducke at ufg.uni-kiel.de (Benjamin Ducke)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] linker command line too long for cmd.exe
In-Reply-To: <e8e7199c0711190744k4a29d5f5va665024db1bc2638@mail.gmail.com>
References: <47419307.1000305@ufg.uni-kiel.de>	
	<d368056f0711190620l25012137wdfe81eb95295dfa2@mail.gmail.com>	
	<4741A1FD.3040405@ufg.uni-kiel.de>
	<e8e7199c0711190744k4a29d5f5va665024db1bc2638@mail.gmail.com>
Message-ID: <4742D39B.8060008@ufg.uni-kiel.de>

Thanks a lot. Indeed, CMake and compilation work fine with MSYS under
Win2000. This gives me working binaries for 0.9 with MinGW.
Sorry about all the questions. MinGW (and Windows) are sort of rough
terrain for someone coming from the smooth world of Posix.
I hope in a few weeks, when I have figured out this MS beast
better, I will be of more use ...

In the meantime, I will make a detailed protocol of all my steps
so the next one trying this will have it a little easier.

Cheers,

Benjamin

Martin Dobias wrote:
> On Nov 19, 2007 3:47 PM, Benjamin Ducke <benjamin.ducke@ufg.uni-kiel.de> wrote:
>> Tim,
>>
>> (I should probably have mentioned that I am on Windows 2000,
>> who knows, maybe everybody else is using XP these days and
>> thus never had this problem)
> 
> Right, it's known issue that it's not working with cmd.exe shell in
> windows 2000, however XP works well (no idea about vista). In that
> case you can use "MSYS Makefiles" generator which doesn't have this
> problem.
> 
>> Now, I wonder: would it be possible to change into the deeper
>> directory before calling g++ and thus shorten all those items:
>>
>> cd C:\qgis\build\src\app\CmakeFiles\qgis.dir && C:\MinGW\bin\g++.exe
>> -mwindows "main.obj" "qgisapp.obj" -o ..\..\qgis.exe <-L.. -l..>
>>
>> ???
> 
> Well, all this stuff is magic by CMake, hard to say whether we could
> modify the behaviour. I have reported that problem:
> http://www.cmake.org/pipermail/cmake/2006-September/011284.html
> Maybe they will fix it for cmake 2.6
> 
> Martin
> 
> 

-- 
Benjamin Ducke, M.A.
Arch?oinformatik
(Archaeoinformation Science)
Institut f?r Ur- und Fr?hgeschichte
(Inst. of Prehistoric and Historic Archaeology)
Christian-Albrechts-Universit?t zu Kiel
Johanna-Mestorf-Stra?e 2-6
D 24098 Kiel
Germany

Tel.: ++49 (0)431 880-3378 / -3379
Fax : ++49 (0)431 880-7300
www.uni-kiel.de/ufg


From Horst.Duester at bd.so.ch  Tue Nov 20 08:42:51 2007
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Compilation Error of 0.9.1 Head
Message-ID: <H00002eb01dca383.1195566171.srsofaioi6145.ktso.ch@MHS>

QGIS Qt-4.2.2 compilation process responses with the following error
message:

[ 41%] Building CXX object
src/app/CMakeFiles/qgis.dir/qgsdbsourceselect.o
/usr/local/src/sogis/qgis_src/qgis_0.9.1/src/app/qgsdbsourceselect.cpp:
In member function `void QgsDbSourceSelect::updateTypeInfo(int,
QString)':
/usr/local/src/sogis/qgis_src/qgis_0.9.1/src/app/qgsdbsourceselect.cpp:1
63: Fehler: ?class QTableWidget? hat kein Element namens
?removeCellWidget?
/usr/local/src/sogis/qgis_src/qgis_0.9.1/src/app/qgsdbsourceselect.cpp:1
81: Fehler: ?AdjustToMinimumContentsLengthWithIcon? ist kein Element von
?QComboBox?

Best regrads
Horst

------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071120/2526b794/attachment.html
From tim at linfiniti.com  Tue Nov 20 09:11:35 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Compilation Error of 0.9.1 Head
In-Reply-To: <H00002eb01dca383.1195566171.srsofaioi6145.ktso.ch@MHS>
References: <H00002eb01dca383.1195566171.srsofaioi6145.ktso.ch@MHS>
Message-ID: <d368056f0711200611w54036527o7b7043ab5528b5f@mail.gmail.com>

Hi

It looks like someone has saved the dialog with a  too new version of
Qt Designer. J?rgen can you fix that?

Thanks

Tim

2007/11/20, D?ster Horst <Horst.Duester@bd.so.ch>:
>
>
> QGIS Qt-4.2.2 compilation process responses with the following error
> message:
>
> [ 41%] Building CXX object
> src/app/CMakeFiles/qgis.dir/qgsdbsourceselect.o
> /usr/local/src/sogis/qgis_src/qgis_0.9.1/src/app/qgsdbsourceselect.cpp:
> In member function `void
> QgsDbSourceSelect::updateTypeInfo(int, QString)':
> /usr/local/src/sogis/qgis_src/qgis_0.9.1/src/app/qgsdbsourceselect.cpp:163:
> Fehler: ?class QTableWidget? hat kein Element namens ?removeCellWidget?
> /usr/local/src/sogis/qgis_src/qgis_0.9.1/src/app/qgsdbsourceselect.cpp:181:
> Fehler: ?AdjustToMinimumContentsLengthWithIcon? ist kein
> Element von ?QComboBox?
>
> Best regrads
> Horst
>
> ------------------------------------------------
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Bau- und Justizdepartement
> Amt f?r Geoinformation
> SO!GIS Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Telefon ++41(0)32 627 25 32
> Telefax ++41(0)32 627 22 14
>
> mailto:horst.duester@bd.so.ch
> http://www.agi.so.ch
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From wonder.sk at gmail.com  Tue Nov 20 10:34:49 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] ticket #771 (plugin path should be persisted)
In-Reply-To: <d368056f0711181141i1de6bd94ib8687b8fad3362a7@mail.gmail.com>
References: <e8e7199c0711181051j1313f65u2ed38764ead7f30b@mail.gmail.com>
	<d368056f0711181141i1de6bd94ib8687b8fad3362a7@mail.gmail.com>
Message-ID: <e8e7199c0711200734k3b3a797aie40b5d2e2484d402@mail.gmail.com>

On Nov 18, 2007 8:41 PM, Tim Sutton <tim@linfiniti.com> wrote:
> Hi
>
> If you mean changes in the gui only then
>
> +1
>
> Third party apps may depend on settng pkgdatapath etc in
> qgsapplication so it should not be removed there.

Yes exactly, the change was meant to be only in QGIS gui.
(commited as r7621)

Martin

From tim at linfiniti.com  Tue Nov 20 11:30:25 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] QGIS Developer Documentation
Message-ID: <d368056f0711200830i756b69d4h1123a39f079a79ee@mail.gmail.com>

Dear QGIS Developers

Over the past few weeks I discussed with some of you creating a more
developer orientated manual. Today I did the first part of this work,
merging various developer centric pages from the wiki into a single
document committed to svn qgis root dir as CODING.t2t and CODING (text
rendered version meant for humans to read). I've also rendered it back
to moinmoin format and posted to the wiki as:

http://wiki.qgis.org/qgiswiki/DevelopersManual

There is a link to it now on the front page of the wiki now and I
removed several other links that this page  now replaces.

Using this approach, we can manage the document in SVN so that it can
be versioned with releases, and someone checking out an older release
snapshot will get documentation appropriate to that release. Also new
developers will have a single well constructed document to work
through to familiarise themselves with our working practices and they
automatically get it when they check out the sources. This is better
than needing to root through pages scattered about the wiki. Many of
these wiki pages also duplicate each other and / or contain out of
date information. Wiki pages that are now deprecated have been updated
to contain a note directing the user to the new unified manual. An
additional benefit of using CODING.t2t is that we can generate LaTeX
sources from the documentation and I will be working with Otto in the
future to incorporate a developers guide into the QGIS manual.

I've added a section for authors at the bottom of CODING.t2t and have
tried to acknowledge those who wrote the original documentation - if
your name is missing please add it to the bottom of CODING.t2t.

Lastly, I will be adding more pages from the wiki to the document
where they make sense to be part of this guide. If anyone has
additional suggestions for inclusions, please add the page link to the
bottom of CODING.t2t and I will work to integrate it into the
document.

It will be great if we can develop this resource in the future to make
it as clear as possible for new developers how to participate in the
project.

Best regards

Tim

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Tue Nov 20 12:09:59 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] linker command line too long for cmd.exe
In-Reply-To: <4742D39B.8060008@ufg.uni-kiel.de>
References: <47419307.1000305@ufg.uni-kiel.de>
	<d368056f0711190620l25012137wdfe81eb95295dfa2@mail.gmail.com>
	<4741A1FD.3040405@ufg.uni-kiel.de>
	<e8e7199c0711190744k4a29d5f5va665024db1bc2638@mail.gmail.com>
	<4742D39B.8060008@ufg.uni-kiel.de>
Message-ID: <d368056f0711200909y33c4d670x46f05354d922151b@mail.gmail.com>

Hi Benjamin

2007/11/20, Benjamin Ducke <benjamin.ducke@ufg.uni-kiel.de>:
> Thanks a lot. Indeed, CMake and compilation work fine with MSYS under
> Win2000. This gives me working binaries for 0.9 with MinGW.
> Sorry about all the questions. MinGW (and Windows) are sort of rough
> terrain for someone coming from the smooth world of Posix.
> I hope in a few weeks, when I have figured out this MS beast
> better, I will be of more use ...
>

Yup as a linux geek I feel your pain - it took a lot of adjustment for
my brain to understand building qgis under windows :-(

> In the meantime, I will make a detailed protocol of all my steps
> so the next one trying this will have it a little easier.
>

It will be great if you can look at INSTALL and INSTALL.t2t in the
sources of QGIS and return your annotations and comments in the form
of an update to that file so that we can make your pain something
others dont need to experience too :-)

---8< ---------- snip -----------------

regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From cavallini at faunalia.it  Wed Nov 21 03:52:13 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] [Fwd: [R-sig-Geo] Could you add my 'Jenks' method
 to your classInt package?]
Message-ID: <4743F1BD.2090009@faunalia.it>

Is this of some interest for qgis?
All the best.
pc

-------- Messaggio Originale  --------
Oggetto: [R-sig-Geo] Could you add my 'Jenks' method to your classInt
package?
Data: Wed, 21 Nov 2007 17:33:55 +0900 (JST)
Da: Hisaji ONO <hi_ono2001@ybb.ne.jp>
A: Roger.Bivand@nhh.no
CC: r-sig-geo@stat.math.ethz.ch

Hello.

 I've tried to port Java code for Jenks optimization
classification method "natural break" to R, although far
from smart coding.

 My java code was ported Jenks's Basic code and I checked
these results compared to results of ArcView 3.x.

 Jenks method derived from Fischer, but seems to be a
little different in the algorithm.

 My code's results are similar to results of current
ArcGIS's, but not equal to them. Accordindg to Murray, A.
T. & Shyy, T. K.'s papaer (IJGIS, 2000, 14-7, 649-667,
http://geog-www.sbs.ohio-state.edu/faculty/murray/personal/research/crimepubs/murray-shyy2000.pdf),
there are difference between ArcGIS's and MapInfo's. How
about Autodesk's Map Guide Open Source which has employed
Jenks's method as a function.

 Could you try my following code and add this into your
classInt package if you like?


 Regards.





else if (style == "fisher") {
---- cut ---- cut ---- cut ---- cut ---- cut ----
        }
 else if (style == "Jenks") { # Jenks Optimisation Method
            d<- sort(var)
           #work<-matrix(0,k,length(d))
           mat1<-matrix(1,length(d),k)
           mat2<-matrix(0,length(d),k)
           mat2[2:length(d),1:k]<-10000000 #R's max double
value?
           v<-0

           for(l in 2:length(d)){
             s1=s2=w=0
             for(m in 1:l){
               i3 <- l - m + 1
               val <- d[i3]
               s2 <- s2 + val * val
               s1 <- s1 + val
               w<-w+1
               v <- s2 - (s1 * s1) / w
               i4 <- trunc(i3 - 1)

               if(i4 !=0){
                 for(j in 2:k){
                   if(mat2[l,j] >= (v + mat2[i4, j - 1])){
                     mat1[l,j] <- i3
                     mat2[l,j] <- v + mat2[i4, j - 1]
                   }
                 }
               }
             }
             mat1[l,1] <- 1
             mat2[l,1] <- v
           }

           kclass<-1:k
           kclass[k] <-length(d)
           k <- length(d)
           last<-length(d)
           for(j in length(kclass):1){
             id <- trunc(mat1[k,j]) - 1
             kclass[j - 1] <- id
             k <- id #lower
             last <- k -1 #upper
           }
           brks<-d[c(1, kclass)]
         }
         else stop(paste(style, "unknown"))



-- 
Paolo Cavallini, see: http://www.faunalia.it/pc
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071121/e88f04d9/signature.bin
From mateusz at loskot.net  Wed Nov 21 04:23:38 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Buildbot ready
Message-ID: <4743F91A.6070908@loskot.net>

Hi,

The QGIS Buildbot instance is readyL

http://buildbot.osgeo.org:8505/

It executes 3 steps for now:
- svn
- cmake
- make

Next steps include: more builders based on VM machines,
unit tests execution, other steps you would like to run,
customizations and improvements.

Anyone who would like to setup and connect Buildbot slave on his own
machine and connect to the master, please let me know.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From tim at linfiniti.com  Wed Nov 21 14:19:31 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Buildbot ready
In-Reply-To: <4743F91A.6070908@loskot.net>
References: <4743F91A.6070908@loskot.net>
Message-ID: <d368056f0711211119u740d2503x5927db57b4e95a9e@mail.gmail.com>

Hi

Many thanks for doing this great work Mateusz - we really appreciate it!

Regards

Tim

2007/11/21, Mateusz Loskot <mateusz@loskot.net>:
> Hi,
>
> The QGIS Buildbot instance is readyL
>
> http://buildbot.osgeo.org:8505/
>
> It executes 3 steps for now:
> - svn
> - cmake
> - make
>
> Next steps include: more builders based on VM machines,
> unit tests execution, other steps you would like to run,
> customizations and improvements.
>
> Anyone who would like to setup and connect Buildbot slave on his own
> machine and connect to the master, please let me know.
>
> Cheers
> --
> Mateusz Loskot
> http://mateusz.loskot.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From botsnlinux at gmail.com  Wed Nov 21 21:54:46 2007
From: botsnlinux at gmail.com (Steven Bell)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Possible fix for #804
Message-ID: <255b57430711211854o687c9f22tdc8ad345238bbc4d@mail.gmail.com>

A question about a fix for ticket
#804<https://svn.qgis.org/trac/ticket/804>- In the GPS plugin "Import
other file" tool,the user must select a file and a file type, or else
the file field will
remain empty.  It isn't immediately obvious to the user that selecting a
file is not sufficient.
My thought is to just display a warning dialog if the file type is empty.
Currently, a warning is sent to the terminal, but the user doesn't see
anything.
Is there a different way that would be better than a dialog?
Steven
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071121/4565ed0f/attachment.html
From gavin at macaulay.co.nz  Wed Nov 21 21:58:30 2007
From: gavin at macaulay.co.nz (Gavin Macaulay)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] Possible fix for #804
In-Reply-To: <255b57430711211854o687c9f22tdc8ad345238bbc4d@mail.gmail.com>
References: <255b57430711211854o687c9f22tdc8ad345238bbc4d@mail.gmail.com>
Message-ID: <4744F056.6010502@macaulay.co.nz>

Steven,

I've been thinking about bringing up a dialog after the user has 
selected a file to let them choose the file type (but only if they 
haven't already done so in the file chooser).

Gavin

Steven Bell wrote:
> A question about a fix for ticket #804 
> <https://svn.qgis.org/trac/ticket/804> - In the GPS plugin "Import other 
> file" tool, the user must select a file and a file type, or else the 
> file field will remain empty.  It isn't immediately obvious to the user 
> that selecting a file is not sufficient.
> My thought is to just display a warning dialog if the file type is 
> empty.  Currently, a warning is sent to the terminal, but the user 
> doesn't see anything.
> Is there a different way that would be better than a dialog?
> Steven
> 
> 
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer


From botsnlinux at gmail.com  Wed Nov 21 22:59:16 2007
From: botsnlinux at gmail.com (Steven Bell)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] printing bugs
In-Reply-To: <47347260.8000800@faunalia.it>
References: <473417FC.6040604@faunalia.it>
	<255b57430711090642w735aa382yfa097a5776b48b30@mail.gmail.com>
	<47347260.8000800@faunalia.it>
Message-ID: <255b57430711211959l1dddee64y5ac2623ac0e1cbfe@mail.gmail.com>

Here's what I've got for now.  I apologize for not responding sooner.

#47
  I can probably implement a raster legend, but I need some information on
what it should look like and what features it needs to have.

#279
  This bug exists because the point symbols are rasterized to be displayed
on the normal map.  The fix (as I understand it) is to have the symbol
rendering function(s) manipulate the QPainter themselves, rather than
creating a pixmap which the parent draws.  This will require some
significant changes, so 1.0 would be the earliest it would be fixed.  In the
meantime, there is a usable workaround - make the point symbols much larger,
and use a small symbol scale in the composer.

#454
  This has some similarities to #279.  Essentially, the problem is that
QPainter paints onto the composer canvas as if 1mm was 1px.  It should be
fixable with Qt 4.2's QBrush::SetMatrix().  I hope to fix this as part of
the "major redesign", but that will probably be post 1.0.  This can be
partially worked around by using a huge paper size.

#590
  This may be fixed now, as I suspect it was related to #548.  Could those
who have had this bug re-test it?

#737
  This is the Qt font issue - It should be fixed for all composer items
except composer maps.

Most of the bugs regarding SVG still exist.  Qt 4.3 appears to have much
better support for SVG, so most of those bugs should be fixable now.
Hope this helps.
Steven

On Nov 9, 2007 8:44 AM, Paolo Cavallini <cavallini@faunalia.it> wrote:

> Steven Bell ha scritto:
> > Which bugs are most relevant to you?  Are they all listed in Trac?  I
> > will have some time to fix things over the weekend, and I'll try to
> > explain what I can about the ones I can't fix right away.
>
> They should be listed. Looking forward to read your explanations.
> Thanks a lot.
> pc
> --
> Paolo Cavallini, see: http://www.faunalia.it/pc
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071121/685a8f82/attachment.html
From gavin at macaulay.co.nz  Thu Nov 22 02:10:35 2007
From: gavin at macaulay.co.nz (Gavin Macaulay)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] (no subject)
Message-ID: <3548.60.234.105.173.1195715435.squirrel@secure.niwa.co.nz>

Hi,

An observation about the recent font bug workaround commits for the map
composer....

I have been working on ticket #181 (multiline labels in the map composer)
and have a working solution that seems to have rendered the qt font bug
workaround unnecessary (I needed to set FONT_WORKAROUND_SCALE to 1 to get
the label font to draw at the right size).

I'm not sure what the qt font bug is, and hence am not sure why my
multiline changes have removed the need for the workaround (I am using
QPainter::draw(QRectF, ..., QString) instead of QPainter::draw(QString)
with the QRectF obtained from QFontMetrics::size()).

Does anyone know what the font bug is?

Gavin




From lami at faunalia.it  Thu Nov 22 09:49:23 2007
From: lami at faunalia.it (lami@faunalia.it)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] printing bugs
Message-ID: <45546.84.222.179.240.1195742963.squirrel@www.faunalia.it>


Hi Steven
I'm very happy that you work on mapcomposer troubles!
I try to answer to yor request:

> Here's what I've got for now.  I apologize for not responding sooner.
>
> #47
>   I can probably implement a raster legend, but I need some information on
> what it should look like and what features it needs to have.

We need a continuos (ex. for dtm raster) or category value legend (best if
it is possible choise it) about all the raster load in the map canvas, Ask
me if you need same other information.

>
> #279
>   This bug exists because the point symbols are rasterized to be displayed
> on the normal map.  The fix (as I understand it) is to have the symbol
> rendering function(s) manipulate the QPainter themselves, rather than
> creating a pixmap which the parent draws.  This will require some
> significant changes, so 1.0 would be the earliest it would be fixed.  In
> the
> meantime, there is a usable workaround - make the point symbols much
> larger,
> and use a small symbol scale in the composer.

This bug is quite limitant, I hope it is'nt a hard work!
Similar bug ticket: https://svn.qgis.org/trac/ticket/759

>
> #454
>   This has some similarities to #279.  Essentially, the problem is that
> QPainter paints onto the composer canvas as if 1mm was 1px.  It should be
> fixable with Qt 4.2's QBrush::SetMatrix().  I hope to fix this as part of
> the "major redesign", but that will probably be post 1.0.  This can be
> partially worked around by using a huge paper size.

Idem

>
> #590
>   This may be fixed now, as I suspect it was related to #548.  Could those
> who have had this bug re-test it?

I'm going to test it!

>
> #737
>   This is the Qt font issue - It should be fixed for all composer items
> except composer maps.

Ok

>
> Most of the bugs regarding SVG still exist.  Qt 4.3 appears to have much
> better support for SVG, so most of those bugs should be fixable now.

about SVG output: https://svn.qgis.org/trac/ticket/822


Here I'd like to show other map composer bugs:
- about labels: https://svn.qgis.org/trac/ticket/754
- about move objects in mapcomposer: https://svn.qgis.org/trac/ticket/758

- about pdf output: https://svn.qgis.org/trac/ticket/823

Hope this helps.
Many thanks for your work!

Leonardo Lami





From lami at faunalia.it  Thu Nov 22 10:09:12 2007
From: lami at faunalia.it (lami@faunalia.it)
Date: Wed Feb  6 23:25:16 2008
Subject: [Qgis-developer] excuse for update troubles
Message-ID: <59888.84.222.179.240.1195744152.squirrel@www.faunalia.it>


Hi all,

I have seen that I created some troubles with the update of GRASS
modules and I'd like to excuse me for this. I was my first time in
update and I did'nt know how to update all the files in one time.

I hope I will be more careful next time....

Sorry again
Leonardo





From botsnlinux at gmail.com  Thu Nov 22 10:12:58 2007
From: botsnlinux at gmail.com (Steven Bell)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] printing bugs
In-Reply-To: <45546.84.222.179.240.1195742963.squirrel@www.faunalia.it>
References: <45546.84.222.179.240.1195742963.squirrel@www.faunalia.it>
Message-ID: <255b57430711220712k5da8009xa8f3de32308d078e@mail.gmail.com>

> #737
>   This is the Qt font issue - It should be fixed for all composer items
> except composer maps.

I realized I made a mistake here.  #754 is the font bug, which appears to
affect Ubuntu.  I don't have QGIS running on Windows at the moment, so I
don't know anything about the status of #737.  Sorry for any confusion this
may have caused.

I've marked #758 as a defect, since this is normal behavior (unless you have
an extremely fast computer).  The fix would be to replace the image with a
dashed box while dragging, instead of trying to render it along the way.

I'll try to look into the SVG stuff.  It's currently unusable the way it is.
Steven

On Nov 22, 2007 8:49 AM, <lami@faunalia.it> wrote:

>
> Hi Steven
> I'm very happy that you work on mapcomposer troubles!
> I try to answer to yor request:
>
> > Here's what I've got for now.  I apologize for not responding sooner.
> >
> > #47
> >   I can probably implement a raster legend, but I need some information
> on
> > what it should look like and what features it needs to have.
>
> We need a continuos (ex. for dtm raster) or category value legend (best if
> it is possible choise it) about all the raster load in the map canvas, Ask
> me if you need same other information.
>
> >
> > #279
> >   This bug exists because the point symbols are rasterized to be
> displayed
> > on the normal map.  The fix (as I understand it) is to have the symbol
> > rendering function(s) manipulate the QPainter themselves, rather than
> > creating a pixmap which the parent draws.  This will require some
> > significant changes, so 1.0 would be the earliest it would be fixed.  In
> > the
> > meantime, there is a usable workaround - make the point symbols much
> > larger,
> > and use a small symbol scale in the composer.
>
> This bug is quite limitant, I hope it is'nt a hard work!
> Similar bug ticket: https://svn.qgis.org/trac/ticket/759
>
> >
> > #454
> >   This has some similarities to #279.  Essentially, the problem is that
> > QPainter paints onto the composer canvas as if 1mm was 1px.  It should
> be
> > fixable with Qt 4.2's QBrush::SetMatrix().  I hope to fix this as part
> of
> > the "major redesign", but that will probably be post 1.0.  This can be
> > partially worked around by using a huge paper size.
>
> Idem
>
> >
> > #590
> >   This may be fixed now, as I suspect it was related to #548.  Could
> those
> > who have had this bug re-test it?
>
> I'm going to test it!
>
> >
> > #737
> >   This is the Qt font issue - It should be fixed for all composer items
> > except composer maps.
>
> Ok
>
> >
> > Most of the bugs regarding SVG still exist.  Qt 4.3 appears to have much
> > better support for SVG, so most of those bugs should be fixable now.
>
> about SVG output: https://svn.qgis.org/trac/ticket/822
>
>
> Here I'd like to show other map composer bugs:
> - about labels: https://svn.qgis.org/trac/ticket/754
> - about move objects in mapcomposer: https://svn.qgis.org/trac/ticket/758
>
> - about pdf output: https://svn.qgis.org/trac/ticket/823
>
> Hope this helps.
> Many thanks for your work!
>
> Leonardo Lami
>
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071122/150f7e86/attachment.html
From botsnlinux at gmail.com  Thu Nov 22 10:29:13 2007
From: botsnlinux at gmail.com (Steven Bell)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Multi-line labels and font bug
Message-ID: <255b57430711220729r6b6b496dida025e4972738a33@mail.gmail.com>

Gavin,
The font bug causes fonts to appear garbled when we try to paint a font with
a very small size onto a QGraphicsItem.  An example is here:
http://img457.imageshack.us/my.php?image=fontmessiz6.png
So far, I've only seen it with Qt4 on Ubuntu, although other Linux distros
may also be affected.   Windows and OSX appear to be fine.
My workaround was to simply make the font 10 times larger and scale the
painter down by a factor of 10.  If you didn't scale the painter, then you
would need to set the FONT_WORKAROUND_SCALE to 1 to make the fonts appear at
their correct size.  Another note is that the metrics needs to be created
before scaling the font size, unless you also draw the bounding box while
the QPainter is scaled down.
If you could send me a patch or commit your changes so I can take a look at
it, that would be helpful.
Thanks for your work!
Steven



Hi,

An observation about the recent font bug workaround commits for the map
composer....

I have been working on ticket #181 (multiline labels in the map composer)
and have a working solution that seems to have rendered the qt font bug
workaround unnecessary (I needed to set FONT_WORKAROUND_SCALE to 1 to get
the label font to draw at the right size).

I'm not sure what the qt font bug is, and hence am not sure why my
multiline changes have removed the need for the workaround (I am using
QPainter::draw(QRectF, ..., QString) instead of QPainter::draw(QString)
with the QRectF obtained from QFontMetrics::size()).

Does anyone know what the font bug is?

Gavin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071122/84ccd96e/attachment.html
From tim at linfiniti.com  Thu Nov 22 12:05:14 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] GRASS GUI Ideas (was Re: excuse for update
	troubles)
Message-ID: <d368056f0711220905v3c18de86ib1435952b4150197@mail.gmail.com>

Hi Leonardo

No problem keep up the great work! If you are unsure of anything, just
ask first here on the list. I had a look through the grass toolbox and
the list of supported GRASS functions is looking very impressive so
well done for all that work.

By the way I put together CODING document in (svn trunk top level of
qgis checkout) that newly granted committers should probably have a
read though.

Grass Notes:
--------------------------

Before we release 1.0 I would like to make some changes to that
toolbox to add a category and filter box something like this
screenshot.

http://www.flickr.com/photos/timlinux/2054596971/

The mockup list entries themselves would like more like the entries in
this screenshot from kde:

http://www.kde.org/announcements/visual_guide_images-3.5/kicker-applets.png

In other words it would be like my mockup but each tool entry would
have its icon on left, the tool title in bold and then the brief
description underneath. The toolbox would have an 'all' category where
all modules would be visible and then other categories in common with
the current nodes in the GRASS toolbox tree.

The rest of the grass tools would remain unchanged for now (though I
do have some other ideas for further improvements to the toolbox ui
that I will bring up later).

What do people think?

Best regards

Tim


2007/11/22, lami@faunalia.it <lami@faunalia.it>:
>
> Hi all,
>
> I have seen that I created some troubles with the update of GRASS
> modules and I'd like to excuse me for this. I was my first time in
> update and I did'nt know how to update all the files in one time.
>
> I hope I will be more careful next time....
>
> Sorry again
> Leonardo
>
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From cavallini at faunalia.it  Thu Nov 22 12:17:26 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] GRASS GUI Ideas (was Re: excuse for
	update	troubles)
In-Reply-To: <d368056f0711220905v3c18de86ib1435952b4150197@mail.gmail.com>
References: <d368056f0711220905v3c18de86ib1435952b4150197@mail.gmail.com>
Message-ID: <4745B9A6.9010200@faunalia.it>

Tim Sutton ha scritto:

> What do people think?

Sounds good to me.The current situation, with hundreds of modules to
scroll, is no longer sustainable.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071122/a6b2ffe4/signature.bin
From benjamin.ducke at ufg.uni-kiel.de  Thu Nov 22 12:59:17 2007
From: benjamin.ducke at ufg.uni-kiel.de (Benjamin Ducke)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] GRASS GUI Ideas (was Re: excuse for
	update	troubles)
In-Reply-To: <d368056f0711220905v3c18de86ib1435952b4150197@mail.gmail.com>
References: <d368056f0711220905v3c18de86ib1435952b4150197@mail.gmail.com>
Message-ID: <4745C375.6080009@ufg.uni-kiel.de>

Dear all,

I agree that some fresh ideas are needed to improve GRASS usability.

Some very tiny changes could improve usability a lot:

1. Make a GUI entry for starting the GRASS shell right in the main
menubar of the plugin + add an icon for the same purpose in the
plugin's icon bar. This way, it's easier to quickly hack in a few
GRASS commands w/o having to first load that heavy toolbox.

2. Move the data browser window out of the toolbox and into its
own window (perhaps also add a menu entry for it in the plugin's
menubar). It's confusing to have the browser and the module interfaces
in one over-loaded window, I think.

As a bigger change, I suggest taking the top level of the module
tree hierarchy out of the tree and instead have nice big buttons
on the left side of the toolbox to switch between top-level categories
(such as "Import", "Export" etc.) -- the way Mac OS uses them, e.g.
in the Finder file windows.

I think it would also be better to have each module start in its own
window instead of inside the GRASS Tools window. This way, the user's
window manager can take care of organizing all the open module windows
much better and more flexibly than can be done in a single, tabbed
window.

Another benefit of this would be that we could get rid of the
top level tabs in the GRASS Tools window. I find it very confusing
to have two lines of tabs in one window - "Modules", "Browser" and
all the open modules on one row and individual module tabs
"Options", "Output" and "Manual" on another.

Best,

Benjamin



Tim Sutton wrote:
> Hi Leonardo
> 
> No problem keep up the great work! If you are unsure of anything, just
> ask first here on the list. I had a look through the grass toolbox and
> the list of supported GRASS functions is looking very impressive so
> well done for all that work.
> 
> By the way I put together CODING document in (svn trunk top level of
> qgis checkout) that newly granted committers should probably have a
> read though.
> 
> Grass Notes:
> --------------------------
> 
> Before we release 1.0 I would like to make some changes to that
> toolbox to add a category and filter box something like this
> screenshot.
> 
> http://www.flickr.com/photos/timlinux/2054596971/
> 
> The mockup list entries themselves would like more like the entries in
> this screenshot from kde:
> 
> http://www.kde.org/announcements/visual_guide_images-3.5/kicker-applets.png
> 
> In other words it would be like my mockup but each tool entry would
> have its icon on left, the tool title in bold and then the brief
> description underneath. The toolbox would have an 'all' category where
> all modules would be visible and then other categories in common with
> the current nodes in the GRASS toolbox tree.
> 
> The rest of the grass tools would remain unchanged for now (though I
> do have some other ideas for further improvements to the toolbox ui
> that I will bring up later).
> 
> What do people think?
> 
> Best regards
> 
> Tim
> 
> 
> 2007/11/22, lami@faunalia.it <lami@faunalia.it>:
>> Hi all,
>>
>> I have seen that I created some troubles with the update of GRASS
>> modules and I'd like to excuse me for this. I was my first time in
>> update and I did'nt know how to update all the files in one time.
>>
>> I hope I will be more careful next time....
>>
>> Sorry again
>> Leonardo
>>
>>
>>
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.qgis.org
>> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>>
> 
> 

-- 
Benjamin Ducke, M.A.
Arch?oinformatik
(Archaeoinformation Science)
Institut f?r Ur- und Fr?hgeschichte
(Inst. of Prehistoric and Historic Archaeology)
Christian-Albrechts-Universit?t zu Kiel
Johanna-Mestorf-Stra?e 2-6
D 24098 Kiel
Germany

Tel.: ++49 (0)431 880-3378 / -3379
Fax : ++49 (0)431 880-7300
www.uni-kiel.de/ufg


From benjamin.ducke at ufg.uni-kiel.de  Thu Nov 22 13:04:22 2007
From: benjamin.ducke at ufg.uni-kiel.de (Benjamin Ducke)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] GRASS GUI Ideas (was Re: excuse
	for	update	troubles)
In-Reply-To: <4745C375.6080009@ufg.uni-kiel.de>
References: <d368056f0711220905v3c18de86ib1435952b4150197@mail.gmail.com>
	<4745C375.6080009@ufg.uni-kiel.de>
Message-ID: <4745C4A6.1000701@ufg.uni-kiel.de>

One more though on the category list suggestion:

I think a very powerful feature would be to turn this into
a search tool that searches module names, synopyses and
HTML manpages for keywords. That way, the user could type
something like "buffer" and would get r.buffer, v.buffer, r.grow,
v.bubble, etc ...

Benjamin

Benjamin Ducke wrote:
> Dear all,
> 
> I agree that some fresh ideas are needed to improve GRASS usability.
> 
> Some very tiny changes could improve usability a lot:
> 
> 1. Make a GUI entry for starting the GRASS shell right in the main
> menubar of the plugin + add an icon for the same purpose in the
> plugin's icon bar. This way, it's easier to quickly hack in a few
> GRASS commands w/o having to first load that heavy toolbox.
> 
> 2. Move the data browser window out of the toolbox and into its
> own window (perhaps also add a menu entry for it in the plugin's
> menubar). It's confusing to have the browser and the module interfaces
> in one over-loaded window, I think.
> 
> As a bigger change, I suggest taking the top level of the module
> tree hierarchy out of the tree and instead have nice big buttons
> on the left side of the toolbox to switch between top-level categories
> (such as "Import", "Export" etc.) -- the way Mac OS uses them, e.g.
> in the Finder file windows.
> 
> I think it would also be better to have each module start in its own
> window instead of inside the GRASS Tools window. This way, the user's
> window manager can take care of organizing all the open module windows
> much better and more flexibly than can be done in a single, tabbed
> window.
> 
> Another benefit of this would be that we could get rid of the
> top level tabs in the GRASS Tools window. I find it very confusing
> to have two lines of tabs in one window - "Modules", "Browser" and
> all the open modules on one row and individual module tabs
> "Options", "Output" and "Manual" on another.
> 
> Best,
> 
> Benjamin
> 
> 
> 
> Tim Sutton wrote:
>> Hi Leonardo
>>
>> No problem keep up the great work! If you are unsure of anything, just
>> ask first here on the list. I had a look through the grass toolbox and
>> the list of supported GRASS functions is looking very impressive so
>> well done for all that work.
>>
>> By the way I put together CODING document in (svn trunk top level of
>> qgis checkout) that newly granted committers should probably have a
>> read though.
>>
>> Grass Notes:
>> --------------------------
>>
>> Before we release 1.0 I would like to make some changes to that
>> toolbox to add a category and filter box something like this
>> screenshot.
>>
>> http://www.flickr.com/photos/timlinux/2054596971/
>>
>> The mockup list entries themselves would like more like the entries in
>> this screenshot from kde:
>>
>> http://www.kde.org/announcements/visual_guide_images-3.5/kicker-applets.png
>>
>> In other words it would be like my mockup but each tool entry would
>> have its icon on left, the tool title in bold and then the brief
>> description underneath. The toolbox would have an 'all' category where
>> all modules would be visible and then other categories in common with
>> the current nodes in the GRASS toolbox tree.
>>
>> The rest of the grass tools would remain unchanged for now (though I
>> do have some other ideas for further improvements to the toolbox ui
>> that I will bring up later).
>>
>> What do people think?
>>
>> Best regards
>>
>> Tim
>>
>>
>> 2007/11/22, lami@faunalia.it <lami@faunalia.it>:
>>> Hi all,
>>>
>>> I have seen that I created some troubles with the update of GRASS
>>> modules and I'd like to excuse me for this. I was my first time in
>>> update and I did'nt know how to update all the files in one time.
>>>
>>> I hope I will be more careful next time....
>>>
>>> Sorry again
>>> Leonardo
>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer@lists.qgis.org
>>> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>>>
>>
> 

-- 
Benjamin Ducke, M.A.
Arch?oinformatik
(Archaeoinformation Science)
Institut f?r Ur- und Fr?hgeschichte
(Inst. of Prehistoric and Historic Archaeology)
Christian-Albrechts-Universit?t zu Kiel
Johanna-Mestorf-Stra?e 2-6
D 24098 Kiel
Germany

Tel.: ++49 (0)431 880-3378 / -3379
Fax : ++49 (0)431 880-7300
www.uni-kiel.de/ufg


From tim at linfiniti.com  Thu Nov 22 13:06:34 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] GRASS GUI Ideas (was Re: excuse for update
	troubles)
In-Reply-To: <4745C375.6080009@ufg.uni-kiel.de>
References: <d368056f0711220905v3c18de86ib1435952b4150197@mail.gmail.com>
	<4745C375.6080009@ufg.uni-kiel.de>
Message-ID: <d368056f0711221006o27c5b79cjb29ce04e79e30930@mail.gmail.com>

Hi

Most of the changes you mention are things I had in mind with :

"The rest of the grass tools would remain unchanged for now (though I
do have some other ideas for further improvements to the toolbox ui
that I will bring up later)."

I dont have a lot of spare time so I prefer to do small incremental
changes instead of trying to make a big overhaul. Also if we do
incremental improvements it will be  easier to ensure no new bugs are
introduced.

The only change you suggest that I dont really agree with is the top
level heirachy as buttons, since I think my way is neater :-)
Especially when combined with a simple filter that lets you type inthe
first couple of chars of the module you are looking for.

Regards

Tim

2007/11/22, Benjamin Ducke <benjamin.ducke@ufg.uni-kiel.de>:
> Dear all,
>
> I agree that some fresh ideas are needed to improve GRASS usability.
>
> Some very tiny changes could improve usability a lot:
>
> 1. Make a GUI entry for starting the GRASS shell right in the main
> menubar of the plugin + add an icon for the same purpose in the
> plugin's icon bar. This way, it's easier to quickly hack in a few
> GRASS commands w/o having to first load that heavy toolbox.
>
> 2. Move the data browser window out of the toolbox and into its
> own window (perhaps also add a menu entry for it in the plugin's
> menubar). It's confusing to have the browser and the module interfaces
> in one over-loaded window, I think.
>
> As a bigger change, I suggest taking the top level of the module
> tree hierarchy out of the tree and instead have nice big buttons
> on the left side of the toolbox to switch between top-level categories
> (such as "Import", "Export" etc.) -- the way Mac OS uses them, e.g.
> in the Finder file windows.
>
> I think it would also be better to have each module start in its own
> window instead of inside the GRASS Tools window. This way, the user's
> window manager can take care of organizing all the open module windows
> much better and more flexibly than can be done in a single, tabbed
> window.
>
> Another benefit of this would be that we could get rid of the
> top level tabs in the GRASS Tools window. I find it very confusing
> to have two lines of tabs in one window - "Modules", "Browser" and
> all the open modules on one row and individual module tabs
> "Options", "Output" and "Manual" on another.
>
> Best,
>
> Benjamin
>
>
>
> Tim Sutton wrote:
> > Hi Leonardo
> >
> > No problem keep up the great work! If you are unsure of anything, just
> > ask first here on the list. I had a look through the grass toolbox and
> > the list of supported GRASS functions is looking very impressive so
> > well done for all that work.
> >
> > By the way I put together CODING document in (svn trunk top level of
> > qgis checkout) that newly granted committers should probably have a
> > read though.
> >
> > Grass Notes:
> > --------------------------
> >
> > Before we release 1.0 I would like to make some changes to that
> > toolbox to add a category and filter box something like this
> > screenshot.
> >
> > http://www.flickr.com/photos/timlinux/2054596971/
> >
> > The mockup list entries themselves would like more like the entries in
> > this screenshot from kde:
> >
> > http://www.kde.org/announcements/visual_guide_images-3.5/kicker-applets.png
> >
> > In other words it would be like my mockup but each tool entry would
> > have its icon on left, the tool title in bold and then the brief
> > description underneath. The toolbox would have an 'all' category where
> > all modules would be visible and then other categories in common with
> > the current nodes in the GRASS toolbox tree.
> >
> > The rest of the grass tools would remain unchanged for now (though I
> > do have some other ideas for further improvements to the toolbox ui
> > that I will bring up later).
> >
> > What do people think?
> >
> > Best regards
> >
> > Tim
> >
> >
> > 2007/11/22, lami@faunalia.it <lami@faunalia.it>:
> >> Hi all,
> >>
> >> I have seen that I created some troubles with the update of GRASS
> >> modules and I'd like to excuse me for this. I was my first time in
> >> update and I did'nt know how to update all the files in one time.
> >>
> >> I hope I will be more careful next time....
> >>
> >> Sorry again
> >> Leonardo
> >>
> >>
> >>
> >>
> >> _______________________________________________
> >> Qgis-developer mailing list
> >> Qgis-developer@lists.qgis.org
> >> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> >>
> >
> >
>
> --
> Benjamin Ducke, M.A.
> Arch?oinformatik
> (Archaeoinformation Science)
> Institut f?r Ur- und Fr?hgeschichte
> (Inst. of Prehistoric and Historic Archaeology)
> Christian-Albrechts-Universit?t zu Kiel
> Johanna-Mestorf-Stra?e 2-6
> D 24098 Kiel
> Germany
>
> Tel.: ++49 (0)431 880-3378 / -3379
> Fax : ++49 (0)431 880-7300
> www.uni-kiel.de/ufg
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Thu Nov 22 13:07:25 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] GRASS GUI Ideas (was Re: excuse for update
	troubles)
In-Reply-To: <4745C4A6.1000701@ufg.uni-kiel.de>
References: <d368056f0711220905v3c18de86ib1435952b4150197@mail.gmail.com>
	<4745C375.6080009@ufg.uni-kiel.de> <4745C4A6.1000701@ufg.uni-kiel.de>
Message-ID: <d368056f0711221007n1389c904scf96dfde67ea85bc@mail.gmail.com>

Hi


Yes thats exactly what I was proposing in my screenshot with the
'filter' input box.

Regards

Tim

2007/11/22, Benjamin Ducke <benjamin.ducke@ufg.uni-kiel.de>:
> One more though on the category list suggestion:
>
> I think a very powerful feature would be to turn this into
> a search tool that searches module names, synopyses and
> HTML manpages for keywords. That way, the user could type
> something like "buffer" and would get r.buffer, v.buffer, r.grow,
> v.bubble, etc ...
>
> Benjamin
>
> Benjamin Ducke wrote:
> > Dear all,
> >
> > I agree that some fresh ideas are needed to improve GRASS usability.
> >
> > Some very tiny changes could improve usability a lot:
> >
> > 1. Make a GUI entry for starting the GRASS shell right in the main
> > menubar of the plugin + add an icon for the same purpose in the
> > plugin's icon bar. This way, it's easier to quickly hack in a few
> > GRASS commands w/o having to first load that heavy toolbox.
> >
> > 2. Move the data browser window out of the toolbox and into its
> > own window (perhaps also add a menu entry for it in the plugin's
> > menubar). It's confusing to have the browser and the module interfaces
> > in one over-loaded window, I think.
> >
> > As a bigger change, I suggest taking the top level of the module
> > tree hierarchy out of the tree and instead have nice big buttons
> > on the left side of the toolbox to switch between top-level categories
> > (such as "Import", "Export" etc.) -- the way Mac OS uses them, e.g.
> > in the Finder file windows.
> >
> > I think it would also be better to have each module start in its own
> > window instead of inside the GRASS Tools window. This way, the user's
> > window manager can take care of organizing all the open module windows
> > much better and more flexibly than can be done in a single, tabbed
> > window.
> >
> > Another benefit of this would be that we could get rid of the
> > top level tabs in the GRASS Tools window. I find it very confusing
> > to have two lines of tabs in one window - "Modules", "Browser" and
> > all the open modules on one row and individual module tabs
> > "Options", "Output" and "Manual" on another.
> >
> > Best,
> >
> > Benjamin
> >
> >
> >
> > Tim Sutton wrote:
> >> Hi Leonardo
> >>
> >> No problem keep up the great work! If you are unsure of anything, just
> >> ask first here on the list. I had a look through the grass toolbox and
> >> the list of supported GRASS functions is looking very impressive so
> >> well done for all that work.
> >>
> >> By the way I put together CODING document in (svn trunk top level of
> >> qgis checkout) that newly granted committers should probably have a
> >> read though.
> >>
> >> Grass Notes:
> >> --------------------------
> >>
> >> Before we release 1.0 I would like to make some changes to that
> >> toolbox to add a category and filter box something like this
> >> screenshot.
> >>
> >> http://www.flickr.com/photos/timlinux/2054596971/
> >>
> >> The mockup list entries themselves would like more like the entries in
> >> this screenshot from kde:
> >>
> >> http://www.kde.org/announcements/visual_guide_images-3.5/kicker-applets.png
> >>
> >> In other words it would be like my mockup but each tool entry would
> >> have its icon on left, the tool title in bold and then the brief
> >> description underneath. The toolbox would have an 'all' category where
> >> all modules would be visible and then other categories in common with
> >> the current nodes in the GRASS toolbox tree.
> >>
> >> The rest of the grass tools would remain unchanged for now (though I
> >> do have some other ideas for further improvements to the toolbox ui
> >> that I will bring up later).
> >>
> >> What do people think?
> >>
> >> Best regards
> >>
> >> Tim
> >>
> >>
> >> 2007/11/22, lami@faunalia.it <lami@faunalia.it>:
> >>> Hi all,
> >>>
> >>> I have seen that I created some troubles with the update of GRASS
> >>> modules and I'd like to excuse me for this. I was my first time in
> >>> update and I did'nt know how to update all the files in one time.
> >>>
> >>> I hope I will be more careful next time....
> >>>
> >>> Sorry again
> >>> Leonardo
> >>>
> >>>
> >>>
> >>>
> >>> _______________________________________________
> >>> Qgis-developer mailing list
> >>> Qgis-developer@lists.qgis.org
> >>> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> >>>
> >>
> >
>
> --
> Benjamin Ducke, M.A.
> Arch?oinformatik
> (Archaeoinformation Science)
> Institut f?r Ur- und Fr?hgeschichte
> (Inst. of Prehistoric and Historic Archaeology)
> Christian-Albrechts-Universit?t zu Kiel
> Johanna-Mestorf-Stra?e 2-6
> D 24098 Kiel
> Germany
>
> Tel.: ++49 (0)431 880-3378 / -3379
> Fax : ++49 (0)431 880-7300
> www.uni-kiel.de/ufg
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From botsnlinux at gmail.com  Thu Nov 22 21:10:50 2007
From: botsnlinux at gmail.com (Steven Bell)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] SVG output
Message-ID: <255b57430711221810j4fe9a088x458e84e88eaed3cb@mail.gmail.com>

I have SVG output partially fixed by using the new QSvgGenerator class.
Although not perfect, it is a significant improvement over the previous
Q3Picture method.
Is Qt 4.3 a dependency for QGIS at this point?  If no, I assume that means
we have to wait a while before including this?
Steven
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071122/4d5d5be2/attachment.html
From tim at linfiniti.com  Fri Nov 23 03:38:53 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] SVG output
In-Reply-To: <255b57430711221810j4fe9a088x458e84e88eaed3cb@mail.gmail.com>
References: <255b57430711221810j4fe9a088x458e84e88eaed3cb@mail.gmail.com>
Message-ID: <d368056f0711230038x2450c614nb3067a87af631c46@mail.gmail.com>

Hi

Unfortunately I dont think Qt 4.3 is our there in every distro yet and
we are stuck between wanting to use the improvements of the latest Qt
and people being unhappy that the libs we use are too bleeding edge.
At the moment we are specifying a minimum of Qt 4.2.2 and to bump that
up to 4.3 I guess we need to hold a poll amongst developers and
users...

For windows and mac users the issue is probably inconsequential since
we bundle qt libs in whith the downloads we provide....so its just a
matter of getting linux users on board to the idea I guess.

Regards

Tim

2007/11/23, Steven Bell <botsnlinux@gmail.com>:
> I have SVG output partially fixed by using the new QSvgGenerator class.
> Although not perfect, it is a significant improvement over the previous
> Q3Picture method.
> Is Qt 4.3 a dependency for QGIS at this point?  If no, I assume that means
> we have to wait a while before including this?
> Steven
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From cavallini at faunalia.it  Fri Nov 23 03:57:21 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] SVG output
In-Reply-To: <d368056f0711230038x2450c614nb3067a87af631c46@mail.gmail.com>
References: <255b57430711221810j4fe9a088x458e84e88eaed3cb@mail.gmail.com>
	<d368056f0711230038x2450c614nb3067a87af631c46@mail.gmail.com>
Message-ID: <474695F1.9080702@faunalia.it>

Tim Sutton ha scritto:
> Hi
> 
> Unfortunately I dont think Qt 4.3 is our there in every distro yet and
> we are stuck between wanting to use the improvements of the latest Qt
> and people being unhappy that the libs we use are too bleeding edge.
> At the moment we are specifying a minimum of Qt 4.2.2 and to bump that
> up to 4.3 I guess we need to hold a poll amongst developers and
> users...

Which distro is lagging behind? Debian (and Ubuntu, I suppose) is at
4.3.2, so from my DebianGIS point of view a 4.3 requirement is just fine...
All the best.
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071123/37c43f2f/signature.bin
From tim at linfiniti.com  Fri Nov 23 04:45:59 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] MSVC Build Errors on advanced digitising branch
Message-ID: <d368056f0711230145l57cf0127ve13c873f69c630d3@mail.gmail.com>

Hi

I'm trying to make the win preview build for advanced editing branch
and I got this linking error below when compiling under msvc. Its
strange because the methods addPoint and movePoint in QgsRubberBand do
seem to be there and defined ok. Can anyone help? See below for
compiler log.

Thanks

------ Build started: Project: qgis, Configuration: Release Win32 ------
Linking...
   Creating library Release\qgis.lib and object Release\qgis.exp
qgsmeasuretool.obj : error LNK2019: unresolved external symbol
"__declspec(dllimport) public: void __thiscall
QgsRubberBand::movePoint(class QgsPoint const &)"
(__imp_?movePoint@QgsRubberBand@@QAEXABVQgsPoint@@@Z) referenced in
function "public: virtual void __thiscall
QgsMeasureTool::canvasMoveEvent(class QMouseEvent *)"
(?canvasMoveEvent@QgsMeasureTool@@UAEXPAVQMouseEvent@@@Z)
qgsmeasuretool.obj : error LNK2019: unresolved external symbol
"__declspec(dllimport) public: void __thiscall
QgsRubberBand::addPoint(class QgsPoint const &,bool)"
(__imp_?addPoint@QgsRubberBand@@QAEXABVQgsPoint@@_N@Z) referenced in
function "public: void __thiscall QgsMeasureTool::addPoint(class
QgsPoint &)" (?addPoint@QgsMeasureTool@@QAEXAAVQgsPoint@@@Z)
Release\qgis.exe : fatal error LNK1120: 2 unresolved externals
Build log was saved at
"file://c:\dev\cpp\qgis_advanced_editing\build\src\app\qgis.dir\Release\BuildLog.htm"
qgis - 3 error(s), 0 warning(s)
------ Build started: Project: ALL_BUILD, Configuration: Release Win32 ------
"Build all projects"
Build log was saved at
"file://c:\dev\cpp\qgis_advanced_editing\build\ALL_BUILD.dir\Release\BuildLog.htm"
ALL_BUILD - 0 error(s), 0 warning(s)
========== Build: 1 succeeded, 1 failed, 20 up-to-date, 0 skipped ==========


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Fri Nov 23 04:47:54 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] SVG output
In-Reply-To: <474695F1.9080702@faunalia.it>
References: <255b57430711221810j4fe9a088x458e84e88eaed3cb@mail.gmail.com>
	<d368056f0711230038x2450c614nb3067a87af631c46@mail.gmail.com>
	<474695F1.9080702@faunalia.it>
Message-ID: <d368056f0711230147h1d4acad5o1e3c4db1f38b538a@mail.gmail.com>

Hi

Etch is still n 4.2.1. The bigger problem I guess is that people dont
upgrade their distros when new versions come out...

Regards

Tim

2007/11/23, Paolo Cavallini <cavallini@faunalia.it>:
> Tim Sutton ha scritto:
> > Hi
> >
> > Unfortunately I dont think Qt 4.3 is our there in every distro yet and
> > we are stuck between wanting to use the improvements of the latest Qt
> > and people being unhappy that the libs we use are too bleeding edge.
> > At the moment we are specifying a minimum of Qt 4.2.2 and to bump that
> > up to 4.3 I guess we need to hold a poll amongst developers and
> > users...
>
> Which distro is lagging behind? Debian (and Ubuntu, I suppose) is at
> 4.3.2, so from my DebianGIS point of view a 4.3 requirement is just fine...
> All the best.
> pc
> --
> Paolo Cavallini, see: http://www.faunalia.it/pc
>
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From cavallini at faunalia.it  Fri Nov 23 04:57:11 2007
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] SVG output
In-Reply-To: <d368056f0711230147h1d4acad5o1e3c4db1f38b538a@mail.gmail.com>
References: <255b57430711221810j4fe9a088x458e84e88eaed3cb@mail.gmail.com>	
	<d368056f0711230038x2450c614nb3067a87af631c46@mail.gmail.com>	
	<474695F1.9080702@faunalia.it>
	<d368056f0711230147h1d4acad5o1e3c4db1f38b538a@mail.gmail.com>
Message-ID: <4746A3F7.9040700@faunalia.it>

Tim Sutton ha scritto:
> Hi
> 
> Etch is still n 4.2.1. The bigger problem I guess is that people dont
> upgrade their distros when new versions come out...

I do not think we should stick to etch: most people are on testing (all
those who want fresh packages anyway).
pc
-- 
Paolo Cavallini, see: http://www.faunalia.it/pc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071123/e7cad88b/signature.bin
From michael.douchin at laposte.net  Fri Nov 23 05:09:54 2007
From: michael.douchin at laposte.net (kimaidou)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer]  python bindings, shapefile creation : attributes
Message-ID: <13909676.post@talk.nabble.com>


Hi,

First I would like to thank Martin Dobias for the well documented page :
http://wiki.qgis.org/qgiswiki/PythonBindings

I am coding a plugin to import a specific csv file and creating the
corresponding shapefile.
I have 2 questions relative to the attribute specification :
Q1) Are the date, time, datetime format usable for the attributes ? Like

# define fields for feature attributes
fields = { 0 : QgsField("date", QVariant.Date),
          1 : QgsField("time", QVariant.Time) }

I am pretty sure no. But then, how do people handle this type of data ? A
conversion to string type will cause the loose of "sort by date fonction"
(and so)

Q2) How can I tell the length and the precision of each attribute, so that
the shapefile won't be to heavy. For example, each string column is coded
with a length of 80, wich is space consuming.

Thanks in advance
Kimaidou 
-- 
View this message in context: http://www.nabble.com/python-bindings%2C-shapefile-creation-%3A-attributes-tf4860668.html#a13909676
Sent from the qgis-developer mailing list archive at Nabble.com.


From jef at norbit.de  Fri Nov 23 05:19:36 2007
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] MSVC Build Errors on advanced digitising branch
In-Reply-To: <d368056f0711230145l57cf0127ve13c873f69c630d3@mail.gmail.com>
References: <d368056f0711230145l57cf0127ve13c873f69c630d3@mail.gmail.com>
Message-ID: <20071123101936.GA15747@norbit.de>

Hi Tim,

On Fri, 23. Nov 2007 at 07:45:59 -0200, Tim Sutton wrote:
> I'm trying to make the win preview build for advanced editing branch
> and I got this linking error below when compiling under msvc. Its
> strange because the methods addPoint and movePoint in QgsRubberBand do
> seem to be there and defined ok. Can anyone help? See below for
> compiler log.

The signatures look wrong.  Where's the int for geometryIndex?   Maybe
that's a problem with dllex/exporting methods with optional arguments?
Perhaps you need to add methods without geometryIndex that call the
others with 0 to solve that.  Just a thought, I didn't try.

J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502


From tim at linfiniti.com  Fri Nov 23 07:19:32 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] MSVC Build Errors on advanced digitising branch
In-Reply-To: <20071123101936.GA15747@norbit.de>
References: <d368056f0711230145l57cf0127ve13c873f69c630d3@mail.gmail.com>
	<20071123101936.GA15747@norbit.de>
Message-ID: <d368056f0711230419i65b0c58el2c56cb4b5a1b6919@mail.gmail.com>

Hi

Yeah its strange - we use default args in other places with no issues.
In this case when I look at the qgis_gui.dll in dependency walker I
see that it is indeed expecting that int second arg even though its
defined in the header as optional. Funnily enough it doesnt show the
third optional parameter in the method signature. I can try making a
third wrapper method as you suggest but it seems a big hacky :-( Would
be nicer to understand why the symbol is not exporting that parameter
as default properly...

Thanks for the hints!

Regards

Tim

2007/11/23, J?rgen E. Fischer <jef@norbit.de>:
> Hi Tim,
>
> On Fri, 23. Nov 2007 at 07:45:59 -0200, Tim Sutton wrote:
> > I'm trying to make the win preview build for advanced editing branch
> > and I got this linking error below when compiling under msvc. Its
> > strange because the methods addPoint and movePoint in QgsRubberBand do
> > seem to be there and defined ok. Can anyone help? See below for
> > compiler log.
>
> The signatures look wrong.  Where's the int for geometryIndex?   Maybe
> that's a problem with dllex/exporting methods with optional arguments?
> Perhaps you need to add methods without geometryIndex that call the
> others with 0 to solve that.  Just a thought, I didn't try.
>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From wonder.sk at gmail.com  Fri Nov 23 11:43:06 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] python bindings,
	shapefile creation : attributes
In-Reply-To: <13909676.post@talk.nabble.com>
References: <13909676.post@talk.nabble.com>
Message-ID: <e8e7199c0711230843h63c05243s44534f670c55d14d@mail.gmail.com>

Hi,

On Nov 23, 2007 11:09 AM, kimaidou <michael.douchin@laposte.net> wrote:
> Q1) Are the date, time, datetime format usable for the attributes ? Like
>
> # define fields for feature attributes
> fields = { 0 : QgsField("date", QVariant.Date),
>           1 : QgsField("time", QVariant.Time) }
>
> I am pretty sure no. But then, how do people handle this type of data ? A
> conversion to string type will cause the loose of "sort by date fonction"
> (and so)

Fields of type Date and Time are not yet supported (although it
shouldn't be a lot of work to add support for them).
But if you store date/time in some reasonable format (as a string or a
number) - e.g. 20061123 for today, you shouldn't have problems to do
some sorting.

> Q2) How can I tell the length and the precision of each attribute, so that
> the shapefile won't be to heavy. For example, each string column is coded
> with a length of 80, wich is space consuming.

You can either specify length in QgsField constructor (it's one of the
further optional parameters) or use setLength() function. See
documentation of QgsField class:
http://svn.qgis.org/api_doc/html/classQgsField.html

Martin

From wonder.sk at gmail.com  Fri Nov 23 12:26:46 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] A trip down memory lane - .avl style support
	in QGIS
In-Reply-To: <d368056f0711181739m1cb0d077h4902885079c682ae@mail.gmail.com>
References: <d368056f0711150546j8d7a9b6jf60ac9053d98d6c9@mail.gmail.com>
	<e8e7199c0711150758i2da7cd7cwa100e61e89f88e17@mail.gmail.com>
	<d368056f0711181739m1cb0d077h4902885079c682ae@mail.gmail.com>
Message-ID: <e8e7199c0711230926w396dfe5ctcbb8893880d24e27@mail.gmail.com>

Hi again,

I've found out that this is quite interesting topic as also for
purposes of labeling we should be able to store labeling settings
per-layer (and not only in project), so I have some more questions :)

Btw. do you have already an idea how the xml file will look like?
- will it have the same structure for layer properties as in .qgs project files?
- will it support multiple styles for one layer (e.g. style 1: red
color, style 2: blue color) or for every style you would need another
style file?
- will it support additional data stored for layer by plugins?

And how will users use it? When layer will use the default symbology
and he will change it, will be the change be saved in project file or
style file? Moreover will project use just link to the style file in
case of default style or will it copy the settings always? (that could
lead to some unpleasant behaviour like: 1. user saves project, 2. user
changes default style for one of that layers, 3. user opens the
project again - with old style)

On Nov 19, 2007 2:39 AM, Tim Sutton <tim@linfiniti.com> wrote:
> Way 1) Add an extra bool parameter to the vector ctor with default to
> true. When loading layers from qgsproject set this flag to false to
> prevent having to parse the xml once during layer initialisation
> (using qml mechanism) and once when project overrides it with its own
> deserialised xml for the layer.

I think this would be OK (other two solutions seem to be worse).
I guess vector layer should get also functions to load and save style
file, right?

> As you can see my preferred way is to simply ad a flag to the ctor
> that will determine whether we should look for the existance of a qml
> or not. Obviously for some vector types e.g. PostGIS this flag will
> currently be ignored though I am thinking that in these type of non
> file based situations we could also be doing a layer URI match in the
> users qgis.db and pull the qml out of a table there. This latter is
> not something I will try to address in my first version yet though.

For layers that are not represented as files (postgis or other
databases) we should support styling by default too - otherwise it
would be just a half-solution. I can imagine that every provider would
be able to pick a .qml file for every layer it can load - for
shapefiles provider would return the same file just with .qml
extension instead of .shp, for database layers we could use e.g.
~/.qgis/qml/ directory to store styles in format e.g.:
dbtype-hostname-port-dbname-table.

What do you think of it?

> Assumming I go with way 1 above, how will that affect python bindings?

Just a small change in .sip file for vector layers...

Martin

From tim at linfiniti.com  Fri Nov 23 12:29:47 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] python bindings,
	shapefile creation : attributes
In-Reply-To: <e8e7199c0711230843h63c05243s44534f670c55d14d@mail.gmail.com>
References: <13909676.post@talk.nabble.com>
	<e8e7199c0711230843h63c05243s44534f670c55d14d@mail.gmail.com>
Message-ID: <d368056f0711230929h2dd665bfied43f71125b42d4c@mail.gmail.com>

Hi

Sung to the tune of the Rocky Horror Picture Show 'Lets do the time warp again':

> But if you store date/time in some reasonable format (as a string or a
> number) - e.g. 20061123 for today, you shouldn't have problems to do
> some sorting.
>

Martin indeed these are very nice docs. How would you feel about me
moving them into the developers manual (CODING.t2t) I am compiling -
they would make a great addition and from their would work their way
into the pdf docs etc. Also people checking out the qguis sources will
be able to use them without having to go online to read the wiki.

Regards




-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From wonder.sk at gmail.com  Fri Nov 23 12:52:16 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] python bindings,
	shapefile creation : attributes
In-Reply-To: <d368056f0711230929h2dd665bfied43f71125b42d4c@mail.gmail.com>
References: <13909676.post@talk.nabble.com>
	<e8e7199c0711230843h63c05243s44534f670c55d14d@mail.gmail.com>
	<d368056f0711230929h2dd665bfied43f71125b42d4c@mail.gmail.com>
Message-ID: <e8e7199c0711230952s5bebd471m20baca1b8ee162a8@mail.gmail.com>

On Nov 23, 2007 6:29 PM, Tim Sutton <tim@linfiniti.com> wrote:
>
> Martin indeed these are very nice docs. How would you feel about me
> moving them into the developers manual (CODING.t2t) I am compiling -
> they would make a great addition and from their would work their way
> into the pdf docs etc. Also people checking out the qguis sources will
> be able to use them without having to go online to read the wiki.

Hi Tim.

I don't mind if you put it to the developers' manual, but I would
prefer to leave it on wiki and just include a link to wiki. in the
CODING.t2t file. The reason is that it I've started to put there some
useful code snippets which eventually may be something like QGIS API
introduction. However there are many (important) pieces still missing
like handling raster layers, using renderers, symbology etc and
everything that's related to gui library. Also from my point of view
it's easier to maintain it at one place rather than trying to keep
them both in synchronization. Well and moinmoin has nice python
highlighting :)

Martin

From tim at linfiniti.com  Fri Nov 23 12:55:36 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] A trip down memory lane - .avl style support
	in QGIS
In-Reply-To: <e8e7199c0711230926w396dfe5ctcbb8893880d24e27@mail.gmail.com>
References: <d368056f0711150546j8d7a9b6jf60ac9053d98d6c9@mail.gmail.com>
	<e8e7199c0711150758i2da7cd7cwa100e61e89f88e17@mail.gmail.com>
	<d368056f0711181739m1cb0d077h4902885079c682ae@mail.gmail.com>
	<e8e7199c0711230926w396dfe5ctcbb8893880d24e27@mail.gmail.com>
Message-ID: <d368056f0711230955m1b964c14jf23a0dbe3be7543f@mail.gmail.com>

Hi (apologies for brief answers I have little time left this afternoon).

2007/11/23, Martin Dobias <wonder.sk@gmail.com>:
> Hi again,
>
> I've found out that this is quite interesting topic as also for
> purposes of labeling we should be able to store labeling settings
> per-layer (and not only in project), so I have some more questions :)
>

Good - I will value your input.

> Btw. do you have already an idea how the xml file will look like?

It will be exactly the format form .qgs project files (as implemented
in readXML and writeXML function in qgsvectorlayer - qml generation &
parsing will just be calls to these methods).

> - will it have the same structure for layer properties as in .qgs project files?

Yes as above.

> - will it support multiple styles for one layer (e.g. style 1: red
> color, style 2: blue color) or for every style you would need another
> style file?

My plan was to support 1 style per file. Behaviour will be:

 - user loads file
 - vector layer ctor checks to see if qml file exists with same
basename (or using uri based check in a db for other datasource types)
 - if style exists and we are not loading from project, style is applied
 - user may open layer properties and use a 'select style file' button
to load an alternate style
 - in either case when saving as a project the style will be cloned
into the .qgs file and the qml files no longer used beyond that.


> - will it support additional data stored for layer by plugins?
>

I havent considered this.

> And how will users use it? When layer will use the default symbology
> and he will change it, will be the change be saved in project file or
> style file? Moreover will project use just link to the style file in
> case of default style or will it copy the settings always? (that could
> lead to some unpleasant behaviour like: 1. user saves project, 2. user
> changes default style for one of that layers, 3. user opens the
> project again - with old style)

Changing symbology will affect only the style persisted in the project
or inpersistently stored in the local session. To persist a style the
user will need to perform an explicit action - there will be two
additional options in vector props dialog:

 * save as default style
 * save style as...

A third button will let user backout changes

 * Revert to default style

And a fourth will let them select a style from disk:

 * load style ...

These four buttons are the only changes to the UI that I am expecting
to make that directly relate to qml support. I am at the same time
making some other ui changes to open up some space for these 4 new
buttons and to implement the fill and outline style options in combo
boxes as the current button approach uses way too much space and has
serios useability issues when the dialog gets full (e.g. using
classifiers). See attached screenie for example.

Theoretically we could add some behaviour to qgsproject to let it
choose default style over project style if found, but doing this
doesnt really make sense to me.

>
> On Nov 19, 2007 2:39 AM, Tim Sutton <tim@linfiniti.com> wrote:
> > Way 1) Add an extra bool parameter to the vector ctor with default to
> > true. When loading layers from qgsproject set this flag to false to
> > prevent having to parse the xml once during layer initialisation
> > (using qml mechanism) and once when project overrides it with its own
> > deserialised xml for the layer.
>
> I think this would be OK (other two solutions seem to be worse).
> I guess vector layer should get also functions to load and save style
> file, right?

Right - these will just be thin wrappers around readXML and writeXML
which will deserialise the qml, convert it into a dom document and
pass the top node over to read/writeXML.

>
> > As you can see my preferred way is to simply ad a flag to the ctor
> > that will determine whether we should look for the existance of a qml
> > or not. Obviously for some vector types e.g. PostGIS this flag will
> > currently be ignored though I am thinking that in these type of non
> > file based situations we could also be doing a layer URI match in the
> > users qgis.db and pull the qml out of a table there. This latter is
> > not something I will try to address in my first version yet though.
>
> For layers that are not represented as files (postgis or other
> databases) we should support styling by default too - otherwise it
> would be just a half-solution. I can imagine that every provider would
> be able to pick a .qml file for every layer it can load - for
> shapefiles provider would return the same file just with .qml
> extension instead of .shp, for database layers we could use e.g.
> ~/.qgis/qml/ directory to store styles in format e.g.:
> dbtype-hostname-port-dbname-table.
>
> What do you think of it?
>

Yes but this will require a change to every provider? And a change to
the provider API. I prefer to do this transparently to the providers
if I can - which should be simple enough since we can use the provider
key as a basis for this.

> > Assumming I go with way 1 above, how will that affect python bindings?
>
> Just a small change in .sip file for vector layers...
>
> Martin
>


Thanks for the feedback !

Regards


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgis_vetor_layout_issues.jpg
Type: image/jpeg
Size: 54099 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071123/d1de1acc/qgis_vetor_layout_issues.jpg
From tim at linfiniti.com  Fri Nov 23 13:00:13 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] python bindings,
	shapefile creation : attributes
In-Reply-To: <e8e7199c0711230952s5bebd471m20baca1b8ee162a8@mail.gmail.com>
References: <13909676.post@talk.nabble.com>
	<e8e7199c0711230843h63c05243s44534f670c55d14d@mail.gmail.com>
	<d368056f0711230929h2dd665bfied43f71125b42d4c@mail.gmail.com>
	<e8e7199c0711230952s5bebd471m20baca1b8ee162a8@mail.gmail.com>
Message-ID: <d368056f0711231000v642110d0l53cff0d3c1b7e4f6@mail.gmail.com>

Hi

2007/11/23, Martin Dobias <wonder.sk@gmail.com>:
> On Nov 23, 2007 6:29 PM, Tim Sutton <tim@linfiniti.com> wrote:
> >
> > Martin indeed these are very nice docs. How would you feel about me
> > moving them into the developers manual (CODING.t2t) I am compiling -
> > they would make a great addition and from their would work their way
> > into the pdf docs etc. Also people checking out the qguis sources will
> > be able to use them without having to go online to read the wiki.
>



> Hi Tim.
>
> I don't mind if you put it to the developers' manual, but I would
> prefer to leave it on wiki and just include a link to wiki. in the
> CODING.t2t file. The reason is that it I've started to put there some
> useful code snippets which eventually may be something like QGIS API
> introduction. However there are many (important) pieces still missing
> like handling raster layers, using renderers, symbology etc and
> everything that's related to gui library. Also from my point of view
> it's easier to maintain it at one place rather than trying to keep
> them both in synchronization. Well and moinmoin has nice python
> highlighting :)
>


Ok I didnt explain myself well - it will still be available in the
wiki under http://wiki.qgis.org/qgiswiki/DevelopersManual , generated
from the CODING.t2t canonical master. Also in my opininion its better
if you do it in CODING.t2t because the CODING (generated text) will be
produced for each release so we can always have coding guide relevant
to the release. By maintaining only on the wiki it supports only the
most current API and is difficult for users of e.g. 0.8 to find the
correct docs. For more explanation see the original mail I sent to the
dev list explaining CODING.t2t earlier this week.

Make sense?

Regards

Tim

> Martin
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tutey at o2.pl  Sat Nov 24 05:39:53 2007
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] SVG output
In-Reply-To: <d368056f0711230038x2450c614nb3067a87af631c46@mail.gmail.com>
References: <255b57430711221810j4fe9a088x458e84e88eaed3cb@mail.gmail.com>
	<d368056f0711230038x2450c614nb3067a87af631c46@mail.gmail.com>
Message-ID: <4747FF79.3030602@o2.pl>

Tim Sutton wrote:

> For windows and mac users the issue is probably inconsequential since
> we bundle qt libs in whith the downloads we provide....so its just a
> matter of getting linux users on board to the idea I guess.

As to Ubuntu - the latest 7.10 release provides QT 4.3.2.
Previous one, 7.04, has QT 4.3.0 in official backports repo.

Other "main" distros like Fedora, Centos, Mandriva provide
QT 4.3 for their latest releases too (checked at rpm.pbone.net).

IMO the requirement for QT 4.3 is worth the fixed SVG output.

Maciek

From icos.atropa at gmail.com  Sat Nov 24 23:08:33 2007
From: icos.atropa at gmail.com (icosa atropa)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] R.e. SVG output - new libraries
Message-ID: <681d07c20711242008u40c85d97j6a5e62f80e6b3d9d@mail.gmail.com>

My thoughts about library dependencies from a user/admin point of view:

Backports provide a great interface for debian and ubuntu to add new
libraries to old (stable) versions - I'm not sure if FC et al. provide
a similar interface.  As you mentioned, windows and mac are already
provided for.  So the majority of cases appear to be covered, with the
possible exception of "stable/non-testing" non-debian linux.

The only caveat is that any backporting requirements should be clearly
labeled from the human installer's point of view, since apt-get has a
hard time auto-handling them.

best,
christian

> > For windows and mac users the issue is probably inconsequential since
> > we bundle qt libs in whith the downloads we provide....so its just a
> > matter of getting linux users on board to the idea I guess.


> As to Ubuntu - the latest 7.10 release provides QT 4.3.2.
> Previous one, 7.04, has QT 4.3.0 in official backports repo.
>
> Other "main" distros like Fedora, Centos, Mandriva provide
> QT 4.3 for their latest releases too (checked at rpm.pbone.net).
>
> IMO the requirement for QT 4.3 is worth the fixed SVG output.
>
> Maciek
>
>
> ------------------------------
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
> End of Qgis-developer Digest, Vol 21, Issue 36
> **********************************************
>



-- 
Far better an approximate answer to the right question, which is often
vague, than the exact answer to the wrong question, which can always
be made precise -- j.w. tukey

From wonder.sk at gmail.com  Sun Nov 25 10:51:08 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] A trip down memory lane - .avl style support
	in QGIS
In-Reply-To: <d368056f0711230955m1b964c14jf23a0dbe3be7543f@mail.gmail.com>
References: <d368056f0711150546j8d7a9b6jf60ac9053d98d6c9@mail.gmail.com>
	<e8e7199c0711150758i2da7cd7cwa100e61e89f88e17@mail.gmail.com>
	<d368056f0711181739m1cb0d077h4902885079c682ae@mail.gmail.com>
	<e8e7199c0711230926w396dfe5ctcbb8893880d24e27@mail.gmail.com>
	<d368056f0711230955m1b964c14jf23a0dbe3be7543f@mail.gmail.com>
Message-ID: <e8e7199c0711250751m2c4c4f65wd75217af5c27c62f@mail.gmail.com>

On Nov 23, 2007 6:55 PM, Tim Sutton <tim@linfiniti.com> wrote:
> These four buttons are the only changes to the UI that I am expecting
> to make that directly relate to qml support. I am at the same time
> making some other ui changes to open up some space for these 4 new
> buttons and to implement the fill and outline style options in combo
> boxes as the current button approach uses way too much space and has
> serios useability issues when the dialog gets full (e.g. using
> classifiers). See attached screenie for example.

I thought this could be nicely implemented in a way of "properties"
widget consisting of a table with keys in first column and with
changeable values in second column - as e.g. in qt designer.


> > For layers that are not represented as files (postgis or other
> > databases) we should support styling by default too - otherwise it
> > would be just a half-solution. I can imagine that every provider would
> > be able to pick a .qml file for every layer it can load - for
> > shapefiles provider would return the same file just with .qml
> > extension instead of .shp, for database layers we could use e.g.
> > ~/.qgis/qml/ directory to store styles in format e.g.:
> > dbtype-hostname-port-dbname-table.
> >
> > What do you think of it?
> >
>
> Yes but this will require a change to every provider? And a change to
> the provider API. I prefer to do this transparently to the providers
> if I can - which should be simple enough since we can use the provider
> key as a basis for this.

Actually this could be done also without changes to providers, but
would be less roboust - e.g. we could encode URIs with some simple
generic encoding to create suitable filenames for the layers. But I
think it would be worth it to add a simple function to every provider
to determine filename for layer - I can imagine more uses for that,
e.g. plugins could use these names to store layer-specific data
there...

Martin

From wonder.sk at gmail.com  Sun Nov 25 12:54:54 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] python bindings,
	shapefile creation : attributes
In-Reply-To: <d368056f0711231000v642110d0l53cff0d3c1b7e4f6@mail.gmail.com>
References: <13909676.post@talk.nabble.com>
	<e8e7199c0711230843h63c05243s44534f670c55d14d@mail.gmail.com>
	<d368056f0711230929h2dd665bfied43f71125b42d4c@mail.gmail.com>
	<e8e7199c0711230952s5bebd471m20baca1b8ee162a8@mail.gmail.com>
	<d368056f0711231000v642110d0l53cff0d3c1b7e4f6@mail.gmail.com>
Message-ID: <e8e7199c0711250954s5e273e03i6085001a48c9378@mail.gmail.com>

On Nov 23, 2007 7:00 PM, Tim Sutton <tim@linfiniti.com> wrote:
> Ok I didnt explain myself well - it will still be available in the
> wiki under http://wiki.qgis.org/qgiswiki/DevelopersManual , generated
> from the CODING.t2t canonical master. Also in my opininion its better
> if you do it in CODING.t2t because the CODING (generated text) will be
> produced for each release so we can always have coding guide relevant
> to the release. By maintaining only on the wiki it supports only the
> most current API and is difficult for users of e.g. 0.8 to find the
> correct docs. For more explanation see the original mail I sent to the
> dev list explaining CODING.t2t earlier this week.
>
> Make sense?

It makes sense but I'm still not convinced about putting notes about
python API (which is intended mainly to 3rd party developers) together
with developers' manual (which is intended for those willing to
contribute to QGIS). Moreover, both python bindings and developers
manual are already quite long pages (and will be longer), merging them
would result in a huge document which degrades readability. The same
is happening with BuildingFromSource wiki page: IMO it's too huge and
should be divided in several pages, one for every platform.

That's why (at least for now) I prefer to leave page about python
bindings as is and later (when it will contain more information)
decide what to do. Now we don't have to worry about current/older docs
as pyqgis is out there only from qgis 0.9.

Another thing I dislike on t2t files is that when changing them you
have to do manually two more steps:
- regenerate txt files in sources
- regenerate wiki page
And that's quite inconvenient (at least for me).

Regards
Martin

From marco.hugentobler at karto.baug.ethz.ch  Mon Nov 26 03:44:34 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] A trip down memory lane - .avl style support
	in QGIS
In-Reply-To: <d368056f0711230955m1b964c14jf23a0dbe3be7543f@mail.gmail.com>
References: <d368056f0711150546j8d7a9b6jf60ac9053d98d6c9@mail.gmail.com>
	<e8e7199c0711230926w396dfe5ctcbb8893880d24e27@mail.gmail.com>
	<d368056f0711230955m1b964c14jf23a0dbe3be7543f@mail.gmail.com>
Message-ID: <200711260944.34965.marco.hugentobler@karto.baug.ethz.ch>

Hi Tim,

Nice to see there is good work underway for symbology support!

> Changing symbology will affect only the style persisted in the project
> or inpersistently stored in the local session. To persist a style the
> user will need to perform an explicit action - there will be two
> additional options in vector props dialog:
>
>  * save as default style
>  * save style as...
>
> A third button will let user backout changes
>
>  * Revert to default style
>
> And a fourth will let them select a style from disk:
>
>  * load style ...

I plan to also bring sld support into qgis core. Then the user may load/save 
symbology as qml or sld, possibly with a format combo in the file dialog.

Regards,
Marco 



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From piklas at gmail.com  Mon Nov 26 04:43:41 2007
From: piklas at gmail.com (Nicolas B.)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] VectorFileWriter
Message-ID: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>

Hi list !
I'm developping a QGIS plugin using Python Bindings
I recently managed to automatically create a shp layer from a csv file using
this code
**************************************************************************************************************************************************

uri =
"C:\G77\driftx_multi_level\txtfile.csv?delimiter=%s&xField=%s&yField=%s" %
(";", "x", "y")
vlayer = QgsVectorLayer(uri, "vectorial puff", "delimitedtext")
error = QgsVectorFileWriter.writeAsShapefile(vlayer,
"python/plugins/DriftxPlugin/data/vectorial_puff.shp", "CP1360")

if error == QgsVectorFileWriter.NoError:QgsMapLayerRegistry.instance
().addMapLayer(vlayer)QMessageBox.warning(self.iface.getMainWindow(),
self.MSG_BOX_TITLE, ("shapefile created !"), QMessageBox.Ok, QMessageBox.Ok)
else:
QMessageBox.warning(self.iface.getMainWindow(), self.MSG_BOX_TITLE, ("Error
creating your shapefile\n"), QMessageBox.Ok, QMessageBox.Ok)

******************************************************************************************************************************************************
The code works but i still have the following error message just before the
created shp loads " Note: the following lines were not loaded because Qgis
was unable to determine values for the x and y coordinates:"
I don't understand why. Any ideas ??

As you can see in the code, i create the shp in a data folder in my plugin
directory.
The main problem is if i use my plugin again, the shp doesn't want to be
created again because it already exists in the data folder.
I'd like to destroy the previous existing folder every time the
VectorFileWriter is launched. How can i do that ?

Finally, i'd like to apply symbology properties (graduated colors, field to
use, number of classes...) on the loaded shp.
Is there a Qgs class to do this ?

Thanks 4 answers.

Nick BOZON
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071126/4699811b/attachment.html
From b.rowlingson at lancaster.ac.uk  Mon Nov 26 05:20:03 2007
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] VectorFileWriter
In-Reply-To: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>
References: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>
Message-ID: <474A9DD3.4050909@lancaster.ac.uk>

Nicolas B. wrote:

> The code works but i still have the following error message just before the
> created shp loads " Note: the following lines were not loaded because Qgis
> was unable to determine values for the x and y coordinates:"
> I don't understand why. Any ideas ??

  Does it say which 'following lines' were not loaded? Does your csv 
file have any bad data in it? Is there a header line in the CSV that 
perhaps Qgis doesn't skip? Have you tried the standard Qgis CSV reader 
plugin to see how that reacts?

> The main problem is if i use my plugin again, the shp doesn't want to be
> created again because it already exists in the data folder.
> I'd like to destroy the previous existing folder every time the
> VectorFileWriter is launched. How can i do that ?

  Use some python functions for testing file existence?

  >>> os.path.exists("/etc/passwd")
  True
  >>> os.path.exists("/etc/qoowoowowo")
  False

Then use python functions for deleting files - os.unlink() is what you 
want here. Check out the python docs on file handling, and don't forget 
to delete .shp, .shx and .dbf when deleting shapefiles!

> Finally, i'd like to apply symbology properties (graduated colors, field to
> use, number of classes...) on the loaded shp.
> Is there a Qgs class to do this ?

  Its all in the API: http://svn.qgis.org/api_doc/html/classes.html

  You have to define a renderer, set its properties - this code should 
define a continuous colour renderer that goes from green to red:

         r=QgsContinuousColorRenderer(layer.vectorType())
         smin=QgsSymbol(layer.vectorType(), "0","","")
         smax=QgsSymbol(layer.vectorType(), "100", "","")
         smin.setPen(QPen(Qt.green, 1.0))
         smax.setPen(QPen(Qt.red, 1.0))
         r.setMinimumSymbol(smin)
         r.setMaximumSymbol(smax)
         r.setClassificationField(fieldNumber)

   Then set the renderer on the layer:

  layer.setRenderer(r)

[note this code was chopped out of a larger system and so somethings 
might not work...]

  Barry

From tim at linfiniti.com  Mon Nov 26 06:07:57 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] VectorFileWriter
In-Reply-To: <474A9DD3.4050909@lancaster.ac.uk>
References: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>
	<474A9DD3.4050909@lancaster.ac.uk>
Message-ID: <d368056f0711260307u45a0897s2a60e756cd9ae751@mail.gmail.com>

Hi

> I'd like to destroy the previous existing folder every time the
> VectorFileWriter is launched. How can i do that ?

I recently closed ticket #809 so attempting to write a shp our will
cause it to be overwritten properly now, so manually deleting them
should be needed anymore Thats in SVN head only and will be in the
upcoming 0.9.1 release next month.

Regards

Tim

2007/11/26, Barry Rowlingson <b.rowlingson@lancaster.ac.uk>:
> Nicolas B. wrote:
>
> > The code works but i still have the following error message just before the
> > created shp loads " Note: the following lines were not loaded because Qgis
> > was unable to determine values for the x and y coordinates:"
> > I don't understand why. Any ideas ??
>
>   Does it say which 'following lines' were not loaded? Does your csv
> file have any bad data in it? Is there a header line in the CSV that
> perhaps Qgis doesn't skip? Have you tried the standard Qgis CSV reader
> plugin to see how that reacts?
?
>
>   Use some python functions for testing file existence?
>
>   >>> os.path.exists("/etc/passwd")
>   True
>   >>> os.path.exists("/etc/qoowoowowo")
>   False
>
> Then use python functions for deleting files - os.unlink() is what you
> want here. Check out the python docs on file handling, and don't forget
> to delete .shp, .shx and .dbf when deleting shapefiles!
>
> > Finally, i'd like to apply symbology properties (graduated colors, field to
> > use, number of classes...) on the loaded shp.
> > Is there a Qgs class to do this ?
>
>   Its all in the API: http://svn.qgis.org/api_doc/html/classes.html
>
>   You have to define a renderer, set its properties - this code should
> define a continuous colour renderer that goes from green to red:
>
>          r=QgsContinuousColorRenderer(layer.vectorType())
>          smin=QgsSymbol(layer.vectorType(), "0","","")
>          smax=QgsSymbol(layer.vectorType(), "100", "","")
>          smin.setPen(QPen(Qt.green, 1.0))
>          smax.setPen(QPen(Qt.red, 1.0))
>          r.setMinimumSymbol(smin)
>          r.setMaximumSymbol(smax)
>          r.setClassificationField(fieldNumber)
>
>    Then set the renderer on the layer:
>
>   layer.setRenderer(r)
>
> [note this code was chopped out of a larger system and so somethings
> might not work...]
>
>   Barry
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
From michael.douchin at laposte.net  Mon Nov 26 09:17:11 2007
From: michael.douchin at laposte.net (kimaidou)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] python bindings,
 shapefile creation : attributes
In-Reply-To: <e8e7199c0711230843h63c05243s44534f670c55d14d@mail.gmail.com>
References: <13909676.post@talk.nabble.com>
	<e8e7199c0711230843h63c05243s44534f670c55d14d@mail.gmail.com>
Message-ID: <13949912.post@talk.nabble.com>



Fields of type Date and Time are not yet supported (although it
shouldn't be a lot of work to add support for them).
But if you store date/time in some reasonable format (as a string or a
number) - e.g. 20061123 for today, you shouldn't have problems to do
some sorting.

--> Ok for the date to string translation. It is a bit harder for the time
though, as the end-user won't understand time given in double format. So I
will wait for these format to be supported.

You can either specify length in QgsField constructor (it's one of the
further optional parameters) or use setLength() function. See
documentation of QgsField class:
http://svn.qgis.org/api_doc/html/classQgsField.html
--> Thanks for this link

Kimaidou
-- 
View this message in context: http://www.nabble.com/python-bindings%2C-shapefile-creation-%3A-attributes-tf4860668.html#a13949912
Sent from the qgis-developer mailing list archive at Nabble.com.


From lami at faunalia.it  Mon Nov 26 10:58:42 2007
From: lami at faunalia.it (Leonardo Lami)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Windows Installer
In-Reply-To: <7FE299E133F3104AA71E94D1850057891A4A7D@APOGEESRV.ApogeeImaging.local>
References: <7FE299E133F3104AA71E94D1850057891A4A7D@APOGEESRV.ApogeeImaging.local>
Message-ID: <474AED32.2020003@faunalia.it>

Hi Tisham,
I see the latest Window installer of 26_10_2007
I'm testing your work and it seems a very good work!

I developed some new modules of integration with commands of GRASS

https://svn.qgis.org/repos/qgis/trunk/qgis

but many of them are in the GRASS 6.3 cvd. Is it possible to compile
next installer with it?

Thank you very much
Leonardo



Tisham Dhar ha scritto:
> Hi All,
>
> Latest windows installer is here:
> http://whatnick.dyndns.org:8080/tisham/qgis_setup0.9.0.17_10_2007.exe
>
> It features bundled Python25.dll-Sip and PyQt4, so the users can install
> without downloading anything else. Since Python is the big new feature
> in 0.9.0 I hope this installer will become accepted with only minor
> changes. Making a Python free one will be a bit more copy pasting and
> rebuilding, I don't want to do make it unless it is really necessary.
>
> For anyone interested in GML, I finally have Xerces working in
> Mingw-linked statically to gdal. I will make a new installer featuring
> that once I have some time.
>
> Please give me some feedback.
>
> Regards,
>
> Tishampati Dhar
>
>
>   


From tim at linfiniti.com  Mon Nov 26 11:25:17 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Windows Installer
In-Reply-To: <474AED32.2020003@faunalia.it>
References: <7FE299E133F3104AA71E94D1850057891A4A7D@APOGEESRV.ApogeeImaging.local>
	<474AED32.2020003@faunalia.it>
Message-ID: <d368056f0711260825w5c8b1cd7nafa208f5f06e06f4@mail.gmail.com>

Hi Lami

Tisham is away for the month of Nov. Markus Neteler sent us a
notification of a new GRASS RC being available and so Tisham wil
hopefully be using that in the new build.

Regards

Tim

2007/11/26, Leonardo Lami <lami@faunalia.it>:
> Hi Tisham,
> I see the latest Window installer of 26_10_2007
> I'm testing your work and it seems a very good work!
>
> I developed some new modules of integration with commands of GRASS
>
> https://svn.qgis.org/repos/qgis/trunk/qgis
>
> but many of them are in the GRASS 6.3 cvd. Is it possible to compile
> next installer with it?
>
> Thank you very much
> Leonardo
>
>
>
> Tisham Dhar ha scritto:
> > Hi All,
> >
> > Latest windows installer is here:
> > http://whatnick.dyndns.org:8080/tisham/qgis_setup0.9.0.17_10_2007.exe
> >
> > It features bundled Python25.dll-Sip and PyQt4, so the users can install
> > without downloading anything else. Since Python is the big new feature
> > in 0.9.0 I hope this installer will become accepted with only minor
> > changes. Making a Python free one will be a bit more copy pasting and
> > rebuilding, I don't want to do make it unless it is really necessary.
> >
> > For anyone interested in GML, I finally have Xerces working in
> > Mingw-linked statically to gdal. I will make a new installer featuring
> > that once I have some time.
> >
> > Please give me some feedback.
> >
> > Regards,
> >
> > Tishampati Dhar
> >
> >
> >
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From lami at faunalia.it  Mon Nov 26 12:08:47 2007
From: lami at faunalia.it (lami@faunalia.it)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Windows Installer
Message-ID: <1154.192.168.0.112.1196096927.squirrel@www.faunalia.it>

> Hi All,
>
> Latest windows installer is here:
> http://whatnick.dyndns.org:8080/tisham/qgis_setup0.9.0.17_10_2007.exe
>
> It features bundled Python25.dll-Sip and PyQt4, so the users can install
> without downloading anything else. Since Python is the big new feature
> in 0.9.0 I hope this installer will become accepted with only minor
> changes. Making a Python free one will be a bit more copy pasting and
> rebuilding, I don't want to do make it unless it is really necessary.
>
> For anyone interested in GML, I finally have Xerces working in
> Mingw-linked statically to gdal. I will make a new installer featuring
> that once I have some time.
>
> Please give me some feedback.
>
> Regards,
>
> Tishampati Dhar


Hi Tisham,
I'm testing the 
http://whatnick.dyndns.org:8080/tisham/qgis_setup0.9.0.26_10_2007.exe

and I make for you a little feedback

Python support misses:
"Couldn't load PyQt bindings.
Python support will be disabled"

In the mapcomposer the scale bar length default value is quite strange
(ex. 49995)

If I try to make a svg output, in the mapcomposer, it say to me that the
function is not stable and then it crashes.

If I try to make a pdf from the print composer I cannot choose the
directory where save it. I can choose only the name, it will be saved in
the program QGIS directory.


Other feedback is coming soon.

Hi Leonardo





From tim at linfiniti.com  Mon Nov 26 12:50:58 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Windows Installer
In-Reply-To: <1154.192.168.0.112.1196096927.squirrel@www.faunalia.it>
References: <1154.192.168.0.112.1196096927.squirrel@www.faunalia.it>
Message-ID: <d368056f0711260950l13598c6eo8f5aa0d1c6622ee6@mail.gmail.com>

Hi Lami

I think its better to file these via the bug tracker and specify the
platform as windows and mark for Tisham.

Regards

Tim

2007/11/26, lami@faunalia.it <lami@faunalia.it>:
> > Hi All,
> >
> > Latest windows installer is here:
> > http://whatnick.dyndns.org:8080/tisham/qgis_setup0.9.0.17_10_2007.exe
> >
> > It features bundled Python25.dll-Sip and PyQt4, so the users can install
> > without downloading anything else. Since Python is the big new feature
> > in 0.9.0 I hope this installer will become accepted with only minor
> > changes. Making a Python free one will be a bit more copy pasting and
> > rebuilding, I don't want to do make it unless it is really necessary.
> >
> > For anyone interested in GML, I finally have Xerces working in
> > Mingw-linked statically to gdal. I will make a new installer featuring
> > that once I have some time.
> >
> > Please give me some feedback.
> >
> > Regards,
> >
> > Tishampati Dhar
>
>
> Hi Tisham,
> I'm testing the
> http://whatnick.dyndns.org:8080/tisham/qgis_setup0.9.0.26_10_2007.exe
>
> and I make for you a little feedback
>
> Python support misses:
> "Couldn't load PyQt bindings.
> Python support will be disabled"
>
> In the mapcomposer the scale bar length default value is quite strange
> (ex. 49995)
>
> If I try to make a svg output, in the mapcomposer, it say to me that the
> function is not stable and then it crashes.
>
> If I try to make a pdf from the print composer I cannot choose the
> directory where save it. I can choose only the name, it will be saved in
> the program QGIS directory.
>
>
> Other feedback is coming soon.
>
> Hi Leonardo
>
>
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Mon Nov 26 22:30:04 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] A trip down memory lane - .avl style support
	in QGIS
In-Reply-To: <200711260944.34965.marco.hugentobler@karto.baug.ethz.ch>
References: <d368056f0711150546j8d7a9b6jf60ac9053d98d6c9@mail.gmail.com>
	<e8e7199c0711230926w396dfe5ctcbb8893880d24e27@mail.gmail.com>
	<d368056f0711230955m1b964c14jf23a0dbe3be7543f@mail.gmail.com>
	<200711260944.34965.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <d368056f0711261930n7de05821id76e6cfe8ca4e5e@mail.gmail.com>

Hi

I have parts of it working (default load and save is implemented) and
already my maps look more beatiful with less effort since a decent
default style is being automatically loaded with each layer. The
updates to the ui are done:

Before:

http://flickr.com/photos/timlinux/2064396616/

After my changes (see pics for comments):

http://flickr.com/photos/timlinux/2063585919/
http://flickr.com/photos/timlinux/2064378504/
http://flickr.com/photos/timlinux/2063585411/

Personally I think the UI is much less busy looking now and less
confsing since point symbols are hidden when they are not relevant.

Marco sld out (and in?) will be a neat addition!


Regards

Tim


2007/11/26, Marco Hugentobler <marco.hugentobler@karto.baug.ethz.ch>:
> Hi Tim,
>
> Nice to see there is good work underway for symbology support!
>
> > Changing symbology will affect only the style persisted in the project
> > or inpersistently stored in the local session. To persist a style the
> > user will need to perform an explicit action - there will be two
> > additional options in vector props dialog:
> >
> >  * save as default style
> >  * save style as...
> >
> > A third button will let user backout changes
> >
> >  * Revert to default style
> >
> > And a fourth will let them select a style from disk:
> >
> >  * load style ...
>
> I plan to also bring sld support into qgis core. Then the user may load/save
> symbology as qml or sld, possibly with a format combo in the file dialog.
>
> Regards,
> Marco
>
>
>
> --
> Dr. Marco Hugentobler
> Institute of Cartography
> ETH Zurich
> Technical Advisor QGIS Project Steering Committee
> marco.hugentobler@karto.baug.ethz.ch
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Tue Nov 27 07:56:58 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] 0.9.1 Release plans
Message-ID: <d368056f0711270456n5a3ba03cqd95479a2b3fac117@mail.gmail.com>

Hi All

December is coming up fast and our bug triage has been quite a success
with over 52 bugs squashed, many small patches and enhancements
applied and a general focus on getting rid of bit-rot. Many thanks to
the people listed here for the great contribution they have made to
the bug fixing spree:

https://svn.qgis.org/trac/wiki/BugTriage0.9.1

We are aiming to release 0.9.1 on December 10. Things were a little
bit chaotic  in our last 0.9. release because we were still figuring
out how to get packages made using cmake after the code was tagged.
I'd like to make things a little smoother this time since we have all
the packaging stuff in place now. So I propose the following timeline
for the release:

----------------------------

Saturday 1 December:

* String freeze in trunk. No more patches or updates should be made to
any UI or tr() strings.

Saturday 1 December -> Wed December 5

 * Packagers make test packages for all platforms and commit any
packaging related
   changes to SVN. Please note the GRASS folks have requested we use:

  http://grass.itc.it/grass63/source/grass-6.3.0RC2.tar.gz

  For platforms where we are bundling grass together with QGIS (Win
and Mac really). Markus
  to advise if there is any change in the above advisory.

 * UI Translators update any small string changes that have arrived in
   SVN Trunk over the last month.

Wed December 6 - Tag Release

 * Tag release as 0.9.1 in SVN.
 * Create source tarball
 * Send out request for final packages

Wed 10 December - Press annoucements and publicity

Notes:
---------------------

Otto - do we need to do any coordination for the users manuals?

After 0.9.1 is tagged work can continue in trunk. Please note that
unlike how some other projects work, we are using trunk for
stabilisation. This means beyond bug fixing, any new features
committed to trunk should first be approved by the PSC. If you want to
work on some new features, you should do so in a branch - contact us
if you feel the need for a new branch.

We will aim to do folllow up 0.9.2 (or 0.10.0 release number to be
decided by PSC) release with possible merges of raster transparency
branch, advanced editing branch and diagramming branches early in the
new year. If you would like to see these features incorporated into
trunk, please test them and report bugs!

Test packages for the above branches have been making their way into:

http://qgis.org/uploadfiles/testbuilds/

Many thanks for all your help in reporting and squashing bugs. The bug
triage idea will be repeated after the next round of features get
released. I'm hoping with a few more bug triages we can get rid of all
the minor annoyances and land up with a core list of issues only in
the bug queue.

Best regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Tue Nov 27 07:59:55 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] SVG output
In-Reply-To: <4747FF79.3030602@o2.pl>
References: <255b57430711221810j4fe9a088x458e84e88eaed3cb@mail.gmail.com>
	<d368056f0711230038x2450c614nb3067a87af631c46@mail.gmail.com>
	<4747FF79.3030602@o2.pl>
Message-ID: <d368056f0711270459k51968521x1a211ffcd20cea6f@mail.gmail.com>

Hi

After 0.9.1 goes out we can put in a proposal to PSC to use 4.3.2 as
the new minimum version, though I suspect some people may prefer to
wait a while.

Regards

Tim

2007/11/24, Maciej Sieczka <tutey@o2.pl>:
> Tim Sutton wrote:
>
> > For windows and mac users the issue is probably inconsequential since
> > we bundle qt libs in whith the downloads we provide....so its just a
> > matter of getting linux users on board to the idea I guess.
>
> As to Ubuntu - the latest 7.10 release provides QT 4.3.2.
> Previous one, 7.04, has QT 4.3.0 in official backports repo.
>
> Other "main" distros like Fedora, Centos, Mandriva provide
> QT 4.3 for their latest releases too (checked at rpm.pbone.net).
>
> IMO the requirement for QT 4.3 is worth the fixed SVG output.
>
> Maciek
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From otto.dassau at gmx.de  Tue Nov 27 08:55:20 2007
From: otto.dassau at gmx.de (Otto Dassau)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] [Qgis-user] 0.9.1 Release plans
In-Reply-To: <d368056f0711270456n5a3ba03cqd95479a2b3fac117@mail.gmail.com>
References: <d368056f0711270456n5a3ba03cqd95479a2b3fac117@mail.gmail.com>
Message-ID: <20071127145520.5ee2364a@nature>

Hi, 

I will check and write what I think needs to be updated in the user guide and
write to the list the next days for coordination. 

I will also inform the GUI translators on the docs mailing list so they can
update the .ts files before next wednesday.

 Regards,
  Otto

On Tue, 27 Nov 2007 10:56:58 -0200
"Tim Sutton" <tim@linfiniti.com> wrote:

> Hi All
> 
> December is coming up fast and our bug triage has been quite a success
> with over 52 bugs squashed, many small patches and enhancements
> applied and a general focus on getting rid of bit-rot. Many thanks to
> the people listed here for the great contribution they have made to
> the bug fixing spree:
> 
> https://svn.qgis.org/trac/wiki/BugTriage0.9.1
> 
> We are aiming to release 0.9.1 on December 10. Things were a little
> bit chaotic  in our last 0.9. release because we were still figuring
> out how to get packages made using cmake after the code was tagged.
> I'd like to make things a little smoother this time since we have all
> the packaging stuff in place now. So I propose the following timeline
> for the release:
> 
> ----------------------------
> 
> Saturday 1 December:
> 
> * String freeze in trunk. No more patches or updates should be made to
> any UI or tr() strings.
> 
> Saturday 1 December -> Wed December 5
> 
>  * Packagers make test packages for all platforms and commit any
> packaging related
>    changes to SVN. Please note the GRASS folks have requested we use:
> 
>   http://grass.itc.it/grass63/source/grass-6.3.0RC2.tar.gz
> 
>   For platforms where we are bundling grass together with QGIS (Win
> and Mac really). Markus
>   to advise if there is any change in the above advisory.
> 
>  * UI Translators update any small string changes that have arrived in
>    SVN Trunk over the last month.
> 
> Wed December 6 - Tag Release
> 
>  * Tag release as 0.9.1 in SVN.
>  * Create source tarball
>  * Send out request for final packages
> 
> Wed 10 December - Press annoucements and publicity
> 
> Notes:
> ---------------------
> 
> Otto - do we need to do any coordination for the users manuals?
>
> After 0.9.1 is tagged work can continue in trunk. Please note that
> unlike how some other projects work, we are using trunk for
> stabilisation. This means beyond bug fixing, any new features
> committed to trunk should first be approved by the PSC. If you want to
> work on some new features, you should do so in a branch - contact us
> if you feel the need for a new branch.
> 
> We will aim to do folllow up 0.9.2 (or 0.10.0 release number to be
> decided by PSC) release with possible merges of raster transparency
> branch, advanced editing branch and diagramming branches early in the
> new year. If you would like to see these features incorporated into
> trunk, please test them and report bugs!
> 
> Test packages for the above branches have been making their way into:
> 
> http://qgis.org/uploadfiles/testbuilds/
> 
> Many thanks for all your help in reporting and squashing bugs. The bug
> triage idea will be repeated after the next round of features get
> released. I'm hoping with a few more bug triages we can get rid of all
> the minor annoyances and land up with a core list of issues only in
> the bug queue.
> 
> Best regards
> 

From tim at linfiniti.com  Tue Nov 27 09:19:05 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] QGIS Build fails with r7668
Message-ID: <d368056f0711270619q1cc72fa5g9e2d2616b0ee762b@mail.gmail.com>

Hi Gavin

I think your commit breaks python bindings compilation. On mac I get:

sipcoreQgsLabelAttributes.cpp:1176: warning: taking address of temporary
[ 63%] Generating gui/gui.so
/Users/timlinux/dev/cpp/qgis_qml/src/core/raster/qgsrasterlayer.h:768:
warning: unused parameter 'other'
sipguiQgsMessageViewer.cpp: In function 'PyObject*
meth_QgsMessageViewer_checkBoxState(PyObject*, PyObject*)':
sipguiQgsMessageViewer.cpp:2788: error: 'class QgsMessageViewer' has
no member named 'checkBoxState'
make[3]: *** [sipguiQgsMessageViewer.o] Error 1
make[2]: *** [python/gui/gui.so] Error 2
make[1]: *** [python/CMakeFiles/python.dir/all] Error 2
make: *** [all] Error 2

Regards

Tim


Author: g_j_m
Date: 2007-11-27 09:14:36 +0000 (Tue, 27 Nov 2007)
New Revision: 7668

Modified:
  trunk/qgis/src/app/composer/qgscomposer.cpp
  trunk/qgis/src/app/qgsmaptoolvertexedit.cpp
  trunk/qgis/src/app/qgsmaptoolvertexedit.h
  trunk/qgis/src/gui/CMakeLists.txt
  trunk/qgis/src/gui/qgsmessageviewer.cpp
  trunk/qgis/src/gui/qgsmessageviewer.h
Log:
Fix for ticket #611 (add a "don't show this again toggle" to the snap
vertex warning dialog box)
Also includes a small re-organisation of the QgsMessageViewer class


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From botsnlinux at gmail.com  Tue Nov 27 09:31:12 2007
From: botsnlinux at gmail.com (Steven Bell)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] SVG output
In-Reply-To: <d368056f0711270459k51968521x1a211ffcd20cea6f@mail.gmail.com>
References: <255b57430711221810j4fe9a088x458e84e88eaed3cb@mail.gmail.com>
	<d368056f0711230038x2450c614nb3067a87af631c46@mail.gmail.com>
	<4747FF79.3030602@o2.pl>
	<d368056f0711270459k51968521x1a211ffcd20cea6f@mail.gmail.com>
Message-ID: <255b57430711270631v7f331e15n915c231e94bee863@mail.gmail.com>

What if we created a branch and fixed the SVG stuff in there?  Then users
that really need the improved SVG output would be able to get it, while not
requiring Qt 4.3 for trunk.  Would this be helpful, or just likely to cause
confusion?
Steven

On Nov 27, 2007 6:59 AM, Tim Sutton <tim@linfiniti.com> wrote:

> Hi
>
> After 0.9.1 goes out we can put in a proposal to PSC to use 4.3.2 as
> the new minimum version, though I suspect some people may prefer to
> wait a while.
>
> Regards
>
> Tim
>
> 2007/11/24, Maciej Sieczka <tutey@o2.pl>:
> > Tim Sutton wrote:
> >
> > > For windows and mac users the issue is probably inconsequential since
> > > we bundle qt libs in whith the downloads we provide....so its just a
> > > matter of getting linux users on board to the idea I guess.
> >
> > As to Ubuntu - the latest 7.10 release provides QT 4.3.2.
> > Previous one, 7.04, has QT 4.3.0 in official backports repo.
> >
> > Other "main" distros like Fedora, Centos, Mandriva provide
> > QT 4.3 for their latest releases too (checked at rpm.pbone.net).
> >
> > IMO the requirement for QT 4.3 is worth the fixed SVG output.
> >
> > Maciek
> >
>
>
> --
> Tim Sutton
> QGIS Project Steering Committee Member - Release  Manager
> Visit http://qgis.org for a great open source GIS
> openModeller Desktop Developer
> Visit http://openModeller.sf.net for a great open source ecological
> niche modelling tool
> Home Page: http://tim.linfiniti.com
> Skype: timlinux
> Irc: timlinux on #qgis at freenode.net
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071127/fe51117d/attachment.html
From Horst.Duester at bd.so.ch  Tue Nov 27 11:41:09 2007
From: Horst.Duester at bd.so.ch (=?UTF-8?Q?D=C3=BCster_Horst?=)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] SVG output
Message-ID: <H00002eb01e663eb.1196181669.srsofaioi6145.ktso.ch@MHS>

>to use 4.3.2 as the new minimum version, though I suspect some people
may prefer to wait a while.

Yes I'm one of the people who would prefer to wait a while.

Regrads
Horst


------------------------------------------------

Dr. Horst D?ster
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn
Bau- und Justizdepartement
Amt f?r Geoinformation
SO!GIS Koordination
R?tistrasse 4
CH-4501 Solothurn

Telefon ++41(0)32 627 25 32
Telefax ++41(0)32 627 22 14

mailto:horst.duester@bd.so.ch
http://www.agi.so.ch



-----Urspr?ngliche Nachricht-----
Von: Tim Sutton [mailto:tim@linfiniti.com]
Gesendet am: Dienstag, 27. November 2007 14:00
An: Maciej Sieczka
Cc: Steven Bell; qgis-developer@lists.qgis.org
Betreff: Re: [Qgis-developer] SVG output

Hi

After 0.9.1 goes out we can put in a proposal to PSC to use 4.3.2 as
the new minimum version, though I suspect some people may prefer to
wait a while.

Regards

Tim

2007/11/24, Maciej Sieczka <tutey@o2.pl>:
> Tim Sutton wrote:
>
> > For windows and mac users the issue is probably inconsequential
since
> > we bundle qt libs in whith the downloads we provide....so its just a
> > matter of getting linux users on board to the idea I guess.
>
> As to Ubuntu - the latest 7.10 release provides QT 4.3.2.
> Previous one, 7.04, has QT 4.3.0 in official backports repo.
>
> Other "main" distros like Fedora, Centos, Mandriva provide
> QT 4.3 for their latest releases too (checked at rpm.pbone.net).
>
> IMO the requirement for QT 4.3 is worth the fixed SVG output.
>
> Maciek
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.qgis.org
http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071127/b3285158/attachment.html
From michael.douchin at laposte.net  Tue Nov 27 11:42:52 2007
From: michael.douchin at laposte.net (kimaidou)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] VectorFileWriter
In-Reply-To: <474A9DD3.4050909@lancaster.ac.uk>
References: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>
	<474A9DD3.4050909@lancaster.ac.uk>
Message-ID: <13974492.post@talk.nabble.com>


>   You have to define a renderer, set its properties - this code should 
> define a continuous colour renderer that goes from green to red:
> 
>          r=QgsContinuousColorRenderer(layer.vectorType())
>          smin=QgsSymbol(layer.vectorType(), "0","","")
>          smax=QgsSymbol(layer.vectorType(), "100", "","")
>          smin.setPen(QPen(Qt.green, 1.0))
>          smax.setPen(QPen(Qt.red, 1.0))
>          r.setMinimumSymbol(smin)
>          r.setMaximumSymbol(smax)
>          r.setClassificationField(fieldNumber)
>    Then set the renderer on the layer:
>   layer.setRenderer(r)

Hi bary !
I tried to use this code to set the renderer pro
[note this code was chopped out of a larger system and so somethings 
might not work...]

  Barry
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.qgis.org
http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer


perties, but with no success. Each time I try to load a vector layer with
that, Qgis crashes and quit with no prompt.
I tried to change some parameters, but I feel like a blind man trying to
catch a fly.

Could you please describes a bit more each line of this code. For example,
what is the purpose of the parameters in smin=QgsSymbol(layer.vectorType(),
"0","","") , or should I load the layer before or after setting the
renderer, etc.

Thanks for your help
Kimaidou
-- 
View this message in context: http://www.nabble.com/VectorFileWriter-tf4874186.html#a13974492
Sent from the qgis-developer mailing list archive at Nabble.com.


From tim at linfiniti.com  Tue Nov 27 13:53:52 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] QGIS Build fails with r7668
In-Reply-To: <52932566-6FDC-426C-8382-6A38DED4574B@wildnevada.org>
References: <d368056f0711270619q1cc72fa5g9e2d2616b0ee762b@mail.gmail.com>
	<52932566-6FDC-426C-8382-6A38DED4574B@wildnevada.org>
Message-ID: <d368056f0711271053j563eae4fmbcbc27e9e2d22509@mail.gmail.com>

Hi

Working again for me now - many thanks!

Regards

Tim

2007/11/27, John C. Tull <john.tull@wildnevada.org>:
> Works for me in revision 7671.
>
> John
>
> On Nov 27, 2007, at 6:19 AM, Tim Sutton wrote:
>
> > Hi Gavin
> >
> > I think your commit breaks python bindings compilation. On mac I get:
> >
> > sipcoreQgsLabelAttributes.cpp:1176: warning: taking address of
> > temporary
> > [ 63%] Generating gui/gui.so
> > /Users/timlinux/dev/cpp/qgis_qml/src/core/raster/qgsrasterlayer.h:768:
> > warning: unused parameter 'other'
> > sipguiQgsMessageViewer.cpp: In function 'PyObject*
> > meth_QgsMessageViewer_checkBoxState(PyObject*, PyObject*)':
> > sipguiQgsMessageViewer.cpp:2788: error: 'class QgsMessageViewer' has
> > no member named 'checkBoxState'
> > make[3]: *** [sipguiQgsMessageViewer.o] Error 1
> > make[2]: *** [python/gui/gui.so] Error 2
> > make[1]: *** [python/CMakeFiles/python.dir/all] Error 2
> > make: *** [all] Error 2
> >
> > Regards
> >
> > Tim
> >
> >
> > Author: g_j_m
> > Date: 2007-11-27 09:14:36 +0000 (Tue, 27 Nov 2007)
> > New Revision: 7668
> >
> > Modified:
> >  trunk/qgis/src/app/composer/qgscomposer.cpp
> >  trunk/qgis/src/app/qgsmaptoolvertexedit.cpp
> >  trunk/qgis/src/app/qgsmaptoolvertexedit.h
> >  trunk/qgis/src/gui/CMakeLists.txt
> >  trunk/qgis/src/gui/qgsmessageviewer.cpp
> >  trunk/qgis/src/gui/qgsmessageviewer.h
> > Log:
> > Fix for ticket #611 (add a "don't show this again toggle" to the snap
> > vertex warning dialog box)
> > Also includes a small re-organisation of the QgsMessageViewer class
> >
> >
> > --
> > Tim Sutton
> > QGIS Project Steering Committee Member - Release  Manager
> > Visit http://qgis.org for a great open source GIS
> > openModeller Desktop Developer
> > Visit http://openModeller.sf.net for a great open source ecological
> > niche modelling tool
> > Home Page: http://tim.linfiniti.com
> > Skype: timlinux
> > Irc: timlinux on #qgis at freenode.net
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From john.tull at wildnevada.org  Tue Nov 27 14:33:37 2007
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] GRASS shell test
Message-ID: <5F540F44-B7FF-4E82-A7FD-1D97056B052A@wildnevada.org>

Tim,

Can you do me a favor, since you have a Mac build on your machine, and  
see if the problems with the GRASS shell are not isolated to me  
somehow. You can view my bug report here:
https://svn.qgis.org/trac/ticket/739

I am sure it is not isolated to me, but the lack of outside  
communication on this issue has me wondering.

Thanks,
John

From wonder.sk at gmail.com  Tue Nov 27 17:11:10 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] VectorFileWriter
In-Reply-To: <13974492.post@talk.nabble.com>
References: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>
	<474A9DD3.4050909@lancaster.ac.uk> <13974492.post@talk.nabble.com>
Message-ID: <e8e7199c0711271411g2da8d245m3a0c738e9935ed1e@mail.gmail.com>

On Nov 27, 2007 5:42 PM, kimaidou <michael.douchin@laposte.net> wrote:
> Each time I try to load a vector layer with
> that, Qgis crashes and quit with no prompt.
> I tried to change some parameters, but I feel like a blind man trying to
> catch a fly.

Hi,

please could you paste the whole code here or point me to a link with the code?
Because in any case QGIS shouldn't crash so we should fix it.

Martin

From b.rowlingson at lancaster.ac.uk  Tue Nov 27 17:34:12 2007
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] VectorFileWriter
In-Reply-To: <e8e7199c0711271411g2da8d245m3a0c738e9935ed1e@mail.gmail.com>
References: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>	<474A9DD3.4050909@lancaster.ac.uk>
	<13974492.post@talk.nabble.com>
	<e8e7199c0711271411g2da8d245m3a0c738e9935ed1e@mail.gmail.com>
Message-ID: <474C9B64.3060707@lancaster.ac.uk>

Martin Dobias wrote:
> On Nov 27, 2007 5:42 PM, kimaidou <michael.douchin@laposte.net> wrote:
> 
>>Each time I try to load a vector layer with
>>that, Qgis crashes and quit with no prompt.
>>I tried to change some parameters, but I feel like a blind man trying to
>>catch a fly.
> 
> 
> Hi,
> 
> please could you paste the whole code here or point me to a link with the code?
> Because in any case QGIS shouldn't crash so we should fix it.
> 

  I think the problem is that the python variables I used for the 
QgsSymbols go out of scope, and so the underlying C++ objects get 
garbage-collected and deleted, hence when Qgis tries to render the 
layer, it crashes.

  The solution would be to tie the symbols to the renderer - I did:

  r = QgsContinuousColorRenderer(....)
  r.smin = QgsSymbol(...)
  r.smax = QgsSymbol(...)
  r.setMinimumSymbol(r.smin)

  and so on. Hence the symbols survive until the renderer is deleted.

Barry

From wonder.sk at gmail.com  Tue Nov 27 18:04:29 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] VectorFileWriter
In-Reply-To: <474C9B64.3060707@lancaster.ac.uk>
References: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>
	<474A9DD3.4050909@lancaster.ac.uk> <13974492.post@talk.nabble.com>
	<e8e7199c0711271411g2da8d245m3a0c738e9935ed1e@mail.gmail.com>
	<474C9B64.3060707@lancaster.ac.uk>
Message-ID: <e8e7199c0711271504g487d0b95kafbb3f1cc64de598@mail.gmail.com>

On Nov 27, 2007 11:34 PM, Barry Rowlingson <b.rowlingson@lancaster.ac.uk> wrote:
>
>   I think the problem is that the python variables I used for the
> QgsSymbols go out of scope, and so the underlying C++ objects get
> garbage-collected and deleted, hence when Qgis tries to render the
> layer, it crashes.

You're right, Barry!
Now it should be fixed in r7675 for all renderers.

Greetings
Martin

From mateusz at loskot.net  Wed Nov 28 02:47:16 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Python enabled in QGIS Buildbot
Message-ID: <474D1D04.1080908@loskot.net>

Hi,

Yesterday, I installed two additional packages on the Buildbot host:

PyQt-x11-gpl-4.3.1
sip-4.7.1

Now, the buildbot compiles QGIS with Python stuff enabled,
as cmake says:
...
-- Python libraries found
-- Python bindings enabled
...


Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From piklas at gmail.com  Wed Nov 28 05:29:46 2007
From: piklas at gmail.com (PikoBoZ)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer]  VectorFileWriter works properly
Message-ID: <13989617.post@talk.nabble.com>


Hi all !!
First many thanks to Tim and Garry for previous answers
I had the same bug with the vectorfilewriter (QGIS was crashing), as
kimaidou had
It works fine now, by linking renderer and symbols, as Garry suggested
code:
**************************************************************
uri =
"python\plugins\DriftxPlugin\data\file.csv?delimiter=%s&xField=%s&yField=%s"
% (";", "latitude", "longitude")
	vlayer = QgsVectorLayer(uri, "vectorial plume", "delimitedtext")
	error = QgsVectorFileWriter.writeAsShapefile(vlayer,
"python/plugins/DriftxPlugin/data/vectorial_puff.shp", "CP1360")
	
	if error == QgsVectorFileWriter.NoError:
		QgsMapLayerRegistry.instance().addMapLayer(vlayer)
		
		r=QgsContinuousColorRenderer(vlayer.vectorType())
		r.smin=QgsSymbol(vlayer.vectorType(), "0","","")
		r.smax=QgsSymbol(vlayer.vectorType(), "1","","")
		r.smin.setPen(QPen(Qt.green, 1.0))
		r.smax.setPen(QPen(Qt.red, 1.0))
		r.setMinimumSymbol(r.smin)
		r.setMaximumSymbol(r.smax)
		r.setClassificationField(3)
	
		vlayer.setRenderer(r)
**************************************************************
I'm now going to use os python for overwritting the created shp

Bye
PikObOz
-- 
View this message in context: http://www.nabble.com/VectorFileWriter-works-properly-tf4887608.html#a13989617
Sent from the qgis-developer mailing list archive at Nabble.com.


From tim at linfiniti.com  Wed Nov 28 06:21:55 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Python enabled in QGIS Buildbot
In-Reply-To: <474D1D04.1080908@loskot.net>
References: <474D1D04.1080908@loskot.net>
Message-ID: <d368056f0711280321k674851c7v353978cfa9905af5@mail.gmail.com>

Hi

Thanks Mateusz!

Regards

Tim

2007/11/28, Mateusz Loskot <mateusz@loskot.net>:
> Hi,
>
> Yesterday, I installed two additional packages on the Buildbot host:
>
> PyQt-x11-gpl-4.3.1
> sip-4.7.1
>
> Now, the buildbot compiles QGIS with Python stuff enabled,
> as cmake says:
> ...
> -- Python libraries found
> -- Python bindings enabled
> ...
>
>
> Cheers
> --
> Mateusz Loskot
> http://mateusz.loskot.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Wed Nov 28 06:40:25 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Initial patch for qml support and refactored
	qgsvector props ui
Message-ID: <d368056f0711280340g757e552aq1e4be50338233bf0@mail.gmail.com>

Hi

Anyone wanting to try out the qml and vector ui enhancements I have
made, I have added a patch to trac:

https://svn.qgis.org/trac/ticket/840

Please read the comments as there are still 3 known issues. Martin we
should discuss how your other needs (plugin properties) could be
addressed, though perhaps that is something we should leave for later,
I dont know how much of a priority this is for you or even if we
should lok at a completely different mechanism...

Regards

-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Wed Nov 28 07:44:06 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] SVG output
In-Reply-To: <255b57430711270631v7f331e15n915c231e94bee863@mail.gmail.com>
References: <255b57430711221810j4fe9a088x458e84e88eaed3cb@mail.gmail.com>
	<d368056f0711230038x2450c614nb3067a87af631c46@mail.gmail.com>
	<4747FF79.3030602@o2.pl>
	<d368056f0711270459k51968521x1a211ffcd20cea6f@mail.gmail.com>
	<255b57430711270631v7f331e15n915c231e94bee863@mail.gmail.com>
Message-ID: <d368056f0711280444q5b665856q41aead2f409c432b@mail.gmail.com>

Hi

Another option - if the changes are relatively small, you could
createa  patch and store it on trac, then we can merge it in when we
update teh minimum requirement for Qt. If you have many changes you
wish to make then creating a branch might not be a bad idea.

Regards

Tim

2007/11/27, Steven Bell <botsnlinux@gmail.com>:
> What if we created a branch and fixed the SVG stuff in there?  Then users
> that really need the improved SVG output would be able to get it, while not
> requiring Qt 4.3 for trunk.  Would this be helpful, or just likely to cause
> confusion?
> Steven
>
>
> On Nov 27, 2007 6:59 AM, Tim Sutton <tim@linfiniti.com> wrote:
> > Hi
> >
> > After 0.9.1 goes out we can put in a proposal to PSC to use 4.3.2 as
> > the new minimum version, though I suspect some people may prefer to
> > wait a while.
> >
> > Regards
> >
> > Tim
> >
> > 2007/11/24, Maciej Sieczka < tutey@o2.pl>:
> >
> >
> >
> > > Tim Sutton wrote:
> > >
> > > > For windows and mac users the issue is probably inconsequential since
> > > > we bundle qt libs in whith the downloads we provide....so its just a
> > > > matter of getting linux users on board to the idea I guess.
> > >
> > > As to Ubuntu - the latest 7.10 release provides QT 4.3.2.
> > > Previous one, 7.04, has QT 4.3.0 in official backports repo.
> > >
> > > Other "main" distros like Fedora, Centos, Mandriva provide
> > > QT 4.3 for their latest releases too (checked at rpm.pbone.net).
> > >
> > > IMO the requirement for QT 4.3 is worth the fixed SVG output.
> > >
> > > Maciek
> > >
> >
> >
> >
> >
> >
> > --
> > Tim Sutton
> > QGIS Project Steering Committee Member - Release  Manager
> > Visit http://qgis.org for a great open source GIS
> > openModeller Desktop Developer
> > Visit http://openModeller.sf.net for a great open source ecological
> > niche modelling tool
> > Home Page: http://tim.linfiniti.com
> > Skype: timlinux
> > Irc: timlinux on #qgis at freenode.net
> >
>
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From otto.dassau at gmx.de  Wed Nov 28 10:40:54 2007
From: otto.dassau at gmx.de (Otto Dassau)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Update user manual for 0.9.1
Message-ID: <20071128164054.4b46b983@nature>

Hi, 

I checked the svn commits and partly updated the user manual according
to these enhancements. 

This is already done:

1) possibility of changing locale settings within QGIS
2) added "received bytes" infos to ogc chapter for wfs and wms 
3) update of the georeferencer chapter (window arrangement) 
4) Changing current version to 0.9.1

probably some more infos need to be added to the manual, before tagging 0.9.1,
see below? If you think there is more to update, please add some notes to
the wiki [1] or write a short mail, so I can add the missing information to the
user guide before next tuesday.

- Update install.tex from sources
- Notes about map composer fixes (has anything changed for the user?)
- changes in the handling of the map file export?
- Adding information "whats new or enhanced in 0.9.1 compaired to 0.9.0
- ...?

[1] http://wiki.qgis.org/qgiswiki/DocumentationWritersCorner

regards,
  Otto

From otto.dassau at gmx.de  Wed Nov 28 13:49:47 2007
From: otto.dassau at gmx.de (Otto Dassau)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] [Qgis-doc] Update user manual for 0.9.1
In-Reply-To: <474DAF47.9040102@jemila.jazztel.es>
References: <20071128164054.4b46b983@nature>
	<474DAF47.9040102@jemila.jazztel.es>
Message-ID: <20071128194947.3d577dea@nature>

Hi Carlos, 

yes, that's why we plan to finish the updates of the user guide and commit them
before 0.9.1 is tagged. I guess it won't be a problem this time.

regards,
 Otto

On Wed, 28 Nov 2007 19:11:19 +0100
Carlos D?vila <cdavilam@jemila.jazztel.es> wrote:

> Regarding user manual, I want to note that user guide installed with 
> current 0.9~svn package is the one of 0.8 version. It should be updated 
> for next release.
> Regards
> Carlos

From tutey at o2.pl  Wed Nov 28 14:54:30 2007
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] [Qgis-user] help with digitization in grass
	plugin
In-Reply-To: <171144.50051.qm@web55815.mail.re3.yahoo.com>
References: <171144.50051.qm@web55815.mail.re3.yahoo.com>
Message-ID: <474DC776.90406@o2.pl>

nishith datta wrote:
> hi all, 
>   I am using qgis 0.9.0 on windows.
>   I have created the location  and mapset needed to work in grass.
>   I wish to create a vector layer.
>   I am using the create new grass vector button and I have created a table alright.
>   But when I create a feature I get a table with the message "WARNING: ATTRIBUTES MISSING" .
>   There is a update button at the bottom if I click it I get the following error :-
>   DBMI-DBF driver error:
>   SQL parser error: syntax error, unexpected $undefined, expecting EQUAL processing ':'
>   in statement:
>   update test set WARNING: ATTRIBUTES MISSING = 'WARNING: ATTRIBUTES MISSING' where cat = 5
>   Error in db_execute_immediate()
>    
>   What is the problem ? I can see the feature and it's attribute table but the colns are empty.
>   The start editing button is grayed out
>   plz help me out

Dear All,

I had a similar issue with QGIS 0.9 on Windows XP Home. I
can't remember details and I don't have a Windows box handy.
But I do remember for sure the "WARNING: ATTRIBUTES MISSING"
and a DBF error in GRASS Edit, as well as that v.to.db in
GRASS Toolbox refused to let me select a column I wanted to
populate.

These happened when I was showing QGIS-GRASS integration to
a Windows colleague. Anybody confirms?

I've been using GRASS Edit on GNU/Linux daily and no such
problems here. v.to.db from GRASS Toolbox works OK too.

I'm not sure whether these issues were due to QGIS itself or
GRASS-Windows interaction.

It would be great if a developer with access to Windows and
interested in GRASS-QGIS functionality could try to
reproduce the errors.

Maciek

From marco.hugentobler at karto.baug.ethz.ch  Thu Nov 29 04:07:19 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] installation of the qt_xx.qm files
Message-ID: <200711291007.19425.marco.hugentobler@karto.baug.ethz.ch>

A question to the cmake Gurus:

How can we install all the qt translation files (*.qm) from QTDIR/translations 
to the qgis i18 dir? They contain translations of the qt classes (e.g. 
QFileDialog)

I think it is a better way than having the qt_xx.ts files in qgis svn. It was 
a problem that people updated the .ts files with the update_ts_files.sh 
script and like this, also the qgis strings have been written into qt_xx.ts 
files.

Thanks,
Marco


-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From roger.tait at ntu.ac.uk  Thu Nov 29 04:30:22 2007
From: roger.tait at ntu.ac.uk (Tait, Roger)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Building with msys.zip Qt-4.3.0-mingw Bison-2.1
	and Flex-2.5.4a-1
Message-ID: <FBBC9E7EF265584EA4C5D52646333719051F4774@whitebeam.ads.ntu.ac.uk>

Dear all,

I hope to build QGIS on a Windows XP Professional box.
msys.zip, Qt-4.3.0-mingw, Bison-2.1 and Flex-2.5.4a-1 are all installed.
I have followed closely the instructions "Building under windows using
msys" in the user_guide_en.pdf document.
I have successfully got to the compilation and installation stage but
have encountered the below error.
How do I correct this and complete the build?


C:\dev\cpp\qgis\build>cmakesetup ..
C:\dev\cpp\qgis\build>make
[  0%] Built target svnversion
[  9%] Built target ui
[ 10%] Generating qgssearchstringparser.cpp
C:\Program Files\GnuWin32\bin\bison.exe: m4: No such file or directory
mingw32-make[2]: *** [src/core/qgssearchstringparser.cpp] Error 1
mingw32-make[1]: *** [src/core/CMakeFiles/qgis_core.dir/all] Error 2
mingw32-make: *** [all] Error 2
C:\dev\cpp\qgis\build>


Thanks, Roger



This email is intended solely for the addressee.  It may contain private and confidential information.  If you are not the intended addressee, please take no action based on it nor show a copy to anyone.  In this case, please reply to this email to highlight the error.  Opinions and information in this email that do not relate to the official business of Nottingham Trent University shall be understood as neither given nor endorsed by the University.
Nottingham Trent University has taken steps to ensure that this email and any attachments are virus-free, but we do advise that the recipient should check that the email and its attachments are actually virus free.  This is in keeping with good computing practice.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071129/857975e3/attachment.html
From jef at norbit.de  Thu Nov 29 04:38:55 2007
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Building with msys.zip Qt-4.3.0-mingw
	Bison-2.1 and Flex-2.5.4a-1
In-Reply-To: <FBBC9E7EF265584EA4C5D52646333719051F4774@whitebeam.ads.ntu.ac.uk>
References: <FBBC9E7EF265584EA4C5D52646333719051F4774@whitebeam.ads.ntu.ac.uk>
Message-ID: <20071129093855.GA4733@norbit.de>

Hi Tait,

On Thu, 29. Nov 2007 at 09:30:22 -0000, Tait, Roger wrote:
> [ 10%] Generating qgssearchstringparser.cpp
> C:\Program Files\GnuWin32\bin\bison.exe: m4: No such file or directory
> mingw32-make[2]: *** [src/core/qgssearchstringparser.cpp] Error 1
> mingw32-make[1]: *** [src/core/CMakeFiles/qgis_core.dir/all] Error 2
> mingw32-make: *** [all] Error 2
> C:\dev\cpp\qgis\build>

m4.exe should be also be in C:\Program Files\GnuWin32\bin, but bison
doesn't find it.  Do you have in C:\Program Files\GnuWin32\bin in your
PATH?  

However 3.3 from INSTALL suggests that you don't need GnuWin32's bison
as the msys image already has a bison.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502


From tim at linfiniti.com  Thu Nov 29 05:01:17 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Building with msys.zip Qt-4.3.0-mingw
	Bison-2.1 and Flex-2.5.4a-1
In-Reply-To: <20071129093855.GA4733@norbit.de>
References: <FBBC9E7EF265584EA4C5D52646333719051F4774@whitebeam.ads.ntu.ac.uk>
	<20071129093855.GA4733@norbit.de>
Message-ID: <d368056f0711290201t73f67c24l70e3b5f1ee316b49@mail.gmail.com>

Hi

I think the c:\msys\mingw\bin dir or similar may be missing from your
path? Can you search for the bison exe under your c:\msys dir? I would
be grateful to receive any updates to the documentation should you
find it lacking anywhere...

Regards

Tim

2007/11/29, J?rgen E. Fischer <jef@norbit.de>:
> Hi Tait,
>
> On Thu, 29. Nov 2007 at 09:30:22 -0000, Tait, Roger wrote:
> > [ 10%] Generating qgssearchstringparser.cpp
> > C:\Program Files\GnuWin32\bin\bison.exe: m4: No such file or directory
> > mingw32-make[2]: *** [src/core/qgssearchstringparser.cpp] Error 1
> > mingw32-make[1]: *** [src/core/CMakeFiles/qgis_core.dir/all] Error 2
> > mingw32-make: *** [all] Error 2
> > C:\dev\cpp\qgis\build>
>
> m4.exe should be also be in C:\Program Files\GnuWin32\bin, but bison
> doesn't find it.  Do you have in C:\Program Files\GnuWin32\bin in your
> PATH?
>
> However 3.3 from INSTALL suggests that you don't need GnuWin32's bison
> as the msys image already has a bison.
>
>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-0
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From telwertowski at comcast.net  Thu Nov 29 05:21:58 2007
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] installation of the qt_xx.qm files
In-Reply-To: <200711291007.19425.marco.hugentobler@karto.baug.ethz.ch>
References: <200711291007.19425.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <474E92C6.60701@comcast.net>

Marco Hugentobler wrote:
> A question to the cmake Gurus:
> 
> How can we install all the qt translation files (*.qm) from QTDIR/translations 
> to the qgis i18 dir? They contain translations of the qt classes (e.g. 
> QFileDialog)
> 
> I think it is a better way than having the qt_xx.ts files in qgis svn. It was 
> a problem that people updated the .ts files with the update_ts_files.sh 
> script and like this, also the qgis strings have been written into qt_xx.ts 
> files.

The qt_xx.ts files are in qgis svn because I needed to fix some Mac 
bugs. Qt does string comparisons between QMenuBar strings and equivalent 
strings in qgis_xx.ts. If the translated strings do not match, menus 
such as About, Preferences and Quit do not appear in the correct 
location on a Mac.

In some cases, the QMenuBar class is not translated in the Qt-provided 
files. In other cases, the strings are translated differently. Since 
QGIS translators use the same translation as Apple recommends, I have 
modified some qt_xx.ts files to match what Apple and our translators use 
rather than asking that our translators use odd translations just to 
make Mac-only code inside QMenuBar work.

As an alternative, does it make sense to merge the Qt classes into 
qgis_xx.ts? Is there some way to remerge the qt_xx.ts files for each Qt 
release such that we pick up new strings without losing our modifications?

Tom

From piklas at gmail.com  Thu Nov 29 06:15:13 2007
From: piklas at gmail.com (PikoBoZ)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer]  Raster Creation
Message-ID: <14023735.post@talk.nabble.com>


Hi list

Sorry Barry for the mistake on your name in my last post !
My vector stuff's working now and i wonder about raster creation using
bindings.

I followed the 'add raster to canvas' tutorial to load hardcoded raster
file, but i want to generate it dynamically now

Is it possible to create a raster from a ascii file? i can't find such a
function in the API ..

I also had a look to v.to.rast.attr in the grass tools ( in the aim to
convert my created shp into tiff )but don't know yet how to use it from
python
Does anyone have an exemple of calling grass tools in a Qgis python plugins
?

Thanks

PikO




-- 
View this message in context: http://www.nabble.com/Raster-Creation-tf4896505.html#a14023735
Sent from the qgis-developer mailing list archive at Nabble.com.


From wonder.sk at gmail.com  Thu Nov 29 06:32:08 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Raster Creation
In-Reply-To: <14023735.post@talk.nabble.com>
References: <14023735.post@talk.nabble.com>
Message-ID: <e8e7199c0711290332l4bbadc97wf6ace0771923e35@mail.gmail.com>

On Nov 29, 2007 12:15 PM, PikoBoZ <piklas@gmail.com> wrote:
>
> I also had a look to v.to.rast.attr in the grass tools ( in the aim to
> convert my created shp into tiff )but don't know yet how to use it from
> python
> Does anyone have an exemple of calling grass tools in a Qgis python plugins
> ?

Hi,

there's no support for grass in PyQGIS. But if you need to use some
GRASS tool why not to execute it directly from python e.g. by using
os.system call?

Martin

From marco.hugentobler at karto.baug.ethz.ch  Thu Nov 29 08:03:39 2007
From: marco.hugentobler at karto.baug.ethz.ch (Marco Hugentobler)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] installation of the qt_xx.qm files
In-Reply-To: <474E92C6.60701@comcast.net>
References: <200711291007.19425.marco.hugentobler@karto.baug.ethz.ch>
	<474E92C6.60701@comcast.net>
Message-ID: <200711291403.39416.marco.hugentobler@karto.baug.ethz.ch>

Hi Tom,

Thanks for clarification. In this case your suggestion of merging the content 
of the qt_xx.ts files into the qgis_xx.ts ones seems to be a good solution. 
Also, there are languages supported by qgis that have no corresponding 
qt_xx.ts file. Those would also suffer from the problem with the menu 
placement.

> Is there some way to remerge the qt_xx.ts files for each Qt
> release such that we pick up new strings without losing our modifications?

The only thing that comes to my mind is to do some scripting. Maybe someone 
has a better idea?
Also if someone creates the qgis_xx.ts file for a new language, it would be 
good to have a script that creates it (and automatically merges modified qt 
strings into it).

Regards,
Marco

On Thursday 29 November 2007 11:21:58 Tom Elwertowski wrote:
> Marco Hugentobler wrote:
> > A question to the cmake Gurus:
> >
> > How can we install all the qt translation files (*.qm) from
> > QTDIR/translations to the qgis i18 dir? They contain translations of the
> > qt classes (e.g. QFileDialog)
> >
> > I think it is a better way than having the qt_xx.ts files in qgis svn. It
> > was a problem that people updated the .ts files with the
> > update_ts_files.sh script and like this, also the qgis strings have been
> > written into qt_xx.ts files.
>
> The qt_xx.ts files are in qgis svn because I needed to fix some Mac
> bugs. Qt does string comparisons between QMenuBar strings and equivalent
> strings in qgis_xx.ts. If the translated strings do not match, menus
> such as About, Preferences and Quit do not appear in the correct
> location on a Mac.
>
> In some cases, the QMenuBar class is not translated in the Qt-provided
> files. In other cases, the strings are translated differently. Since
> QGIS translators use the same translation as Apple recommends, I have
> modified some qt_xx.ts files to match what Apple and our translators use
> rather than asking that our translators use odd translations just to
> make Mac-only code inside QMenuBar work.
>
> As an alternative, does it make sense to merge the Qt classes into
> qgis_xx.ts? Is there some way to remerge the qt_xx.ts files for each Qt
> release such that we pick up new strings without losing our modifications?
>
> Tom



-- 
Dr. Marco Hugentobler
Institute of Cartography
ETH Zurich
Technical Advisor QGIS Project Steering Committee
marco.hugentobler@karto.baug.ethz.ch

From tim at linfiniti.com  Thu Nov 29 10:16:31 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] GRASS 6.3.0RC3 tomorrow
In-Reply-To: <20071129144748.GD13710@fbk.eu>
References: <20071129144748.GD13710@fbk.eu>
Message-ID: <d368056f0711290716q41a19d2eg235fef212c744d77@mail.gmail.com>

Hi Markus

Many thanks - we will be sure to include 0.6.3rc3 in our release plans.

Regards

Tim

2007/11/29, Markus Neteler <neteler@fbk.eu>:
> Hi,
>
> I have backported a series of fixes from HEAD to
> the 6.3 release branch, locally it compiles fine.
>
> I would to put out GRASS 6.3.0RC3 tomorrow to
> get it out for the QGIS 0.9.1 preparation.
>
> Markus
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From michael.douchin at laposte.net  Thu Nov 29 11:22:41 2007
From: michael.douchin at laposte.net (=?ISO-8859-1?Q?Micha=EBl_Douchin?=)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] VectorFileWriter
In-Reply-To: <e8e7199c0711271504g487d0b95kafbb3f1cc64de598@mail.gmail.com>
References: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>	
	<474A9DD3.4050909@lancaster.ac.uk> <13974492.post@talk.nabble.com>	
	<e8e7199c0711271411g2da8d245m3a0c738e9935ed1e@mail.gmail.com>	
	<474C9B64.3060707@lancaster.ac.uk>
	<e8e7199c0711271504g487d0b95kafbb3f1cc64de598@mail.gmail.com>
Message-ID: <474EE751.7070904@laposte.net>

Hi,
Thans barry for the information about the r. addition.
Now the rendering is ok, but qgis crashes :
- when I try to change the property manually
- when I quit qgis (from the file menu or by clicking on the cross.
It seems the python bindings do not interact well with C code here ?

My code :
                              vlayer = 
QgsVectorLayer(os.path.join(chemin,nom_court+".shp"), nom_court, "ogr")
                              if vlayer.isValid():
                                 #print "Layer loaded."
                                 #Style de la couche
                                 
r=QgsContinuousColorRenderer(vlayer.vectorType())
                                 r.smin=QgsSymbol(vlayer.vectorType(), 
"0","","")
                                 r.smax=QgsSymbol(vlayer.vectorType(), 
max_debdroit, "","")
                                 r.smin.setPen(QPen(Qt.green, 1.0))
                                 r.smax.setPen(QPen(Qt.red, 1.0))
                                 r.setMinimumSymbol(r.smin)
                                 r.setMaximumSymbol(r.smax)
                                 #champ de classification
                                 r.setClassificationField(4)
                                 #on applique le style
                                 vlayer.setRenderer(r)
                                
                                 #on ajoute la couche dans qgis
                                 
QgsMapLayerRegistry.instance().addMapLayer(vlayer)


>
> You're right, Barry!
> Now it should be fixed in r7675 for all renderers.
>
> Greetings
> Martin
>
>
>   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071129/c8ab38ec/attachment.html
From wonder.sk at gmail.com  Thu Nov 29 11:41:35 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] VectorFileWriter
In-Reply-To: <474EE751.7070904@laposte.net>
References: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>
	<474A9DD3.4050909@lancaster.ac.uk> <13974492.post@talk.nabble.com>
	<e8e7199c0711271411g2da8d245m3a0c738e9935ed1e@mail.gmail.com>
	<474C9B64.3060707@lancaster.ac.uk>
	<e8e7199c0711271504g487d0b95kafbb3f1cc64de598@mail.gmail.com>
	<474EE751.7070904@laposte.net>
Message-ID: <e8e7199c0711290841s5cc9edd2ia10398120bf7cee0@mail.gmail.com>

On Nov 29, 2007 5:22 PM, Micha?l Douchin <michael.douchin@laposte.net> wrote:
>
>  Hi,
>  Thans barry for the information about the r. addition.
>  Now the rendering is ok, but qgis crashes :
>  - when I try to change the property manually
>  - when I quit qgis (from the file menu or by clicking on the cross.
>  It seems the python bindings do not interact well with C code here ?

Hi Michael,

what version of QGIS are you using? SVN trunk or 0.9?

Martin

From michael.douchin at laposte.net  Thu Nov 29 12:01:36 2007
From: michael.douchin at laposte.net (=?ISO-8859-1?Q?Micha=EBl_Douchin?=)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] VectorFileWriter
In-Reply-To: <e8e7199c0711290841s5cc9edd2ia10398120bf7cee0@mail.gmail.com>
References: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>	
	<474A9DD3.4050909@lancaster.ac.uk> <13974492.post@talk.nabble.com>	
	<e8e7199c0711271411g2da8d245m3a0c738e9935ed1e@mail.gmail.com>	
	<474C9B64.3060707@lancaster.ac.uk>	
	<e8e7199c0711271504g487d0b95kafbb3f1cc64de598@mail.gmail.com>	
	<474EE751.7070904@laposte.net>
	<e8e7199c0711290841s5cc9edd2ia10398120bf7cee0@mail.gmail.com>
Message-ID: <474EF070.4020302@laposte.net>

Version 0.9.0 compiled with Qt 4.3.1, Windows XP
downloaded here :
http://gisalaska.com/qgis/downloads.rhtml

Michael

>> t seems the python bindings do not interact well with C code here ?
>>     
>
> Hi Michael,
>
> what version of QGIS are you using? SVN trunk or 0.9?
>
> Martin
>
>
>   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071129/1d5b6e52/attachment.html
From wonder.sk at gmail.com  Thu Nov 29 12:13:49 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] VectorFileWriter
In-Reply-To: <474EF070.4020302@laposte.net>
References: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>
	<474A9DD3.4050909@lancaster.ac.uk> <13974492.post@talk.nabble.com>
	<e8e7199c0711271411g2da8d245m3a0c738e9935ed1e@mail.gmail.com>
	<474C9B64.3060707@lancaster.ac.uk>
	<e8e7199c0711271504g487d0b95kafbb3f1cc64de598@mail.gmail.com>
	<474EE751.7070904@laposte.net>
	<e8e7199c0711290841s5cc9edd2ia10398120bf7cee0@mail.gmail.com>
	<474EF070.4020302@laposte.net>
Message-ID: <e8e7199c0711290913w1f312a6rcda5dc782b15313c@mail.gmail.com>

On Nov 29, 2007 6:01 PM, Micha?l Douchin <michael.douchin@laposte.net> wrote:
>
>  Version 0.9.0 compiled with Qt 4.3.1, Windows XP
>  downloaded here :
>  http://gisalaska.com/qgis/downloads.rhtml
>
>  Michael

Ok, so this should be resolved by the recent fix which will be a part
of version 0.9.1 (to be released soon).

The former problem was caused by the fact that C++ object has been
deleted before rendering has been done, with Barry's workaround you in
fact just postpone the problem to a later time (when all objects are
being deleted).

Martin

From michael.douchin at laposte.net  Thu Nov 29 12:18:28 2007
From: michael.douchin at laposte.net (=?ISO-8859-1?Q?Micha=EBl_Douchin?=)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] VectorFileWriter
In-Reply-To: <e8e7199c0711290913w1f312a6rcda5dc782b15313c@mail.gmail.com>
References: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>	
	<474A9DD3.4050909@lancaster.ac.uk> <13974492.post@talk.nabble.com>	
	<e8e7199c0711271411g2da8d245m3a0c738e9935ed1e@mail.gmail.com>	
	<474C9B64.3060707@lancaster.ac.uk>	
	<e8e7199c0711271504g487d0b95kafbb3f1cc64de598@mail.gmail.com>	
	<474EE751.7070904@laposte.net>	
	<e8e7199c0711290841s5cc9edd2ia10398120bf7cee0@mail.gmail.com>	
	<474EF070.4020302@laposte.net>
	<e8e7199c0711290913w1f312a6rcda5dc782b15313c@mail.gmail.com>
Message-ID: <474EF464.2020903@laposte.net>

Ok great,
I will wait for this release and go on working on other stuff
Thanks for your help.
Michael
> Ok, so this should be resolved by the recent fix which will be a part
> of version 0.9.1 (to be released soon).
>
> The former problem was caused by the fact that C++ object has been
> deleted before rendering has been done, with Barry's workaround you in
> fact just postpone the problem to a later time (when all objects are
> being deleted).
>
> Martin
>
>
>   

From john.tull at wildnevada.org  Thu Nov 29 12:40:42 2007
From: john.tull at wildnevada.org (John C. Tull)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] [Quantum GIS] #739: GRASS Shell non-functional
	in OS X
In-Reply-To: <042.3ee53d301dac9d8c14eb0f4687bb39e4@qgis.org>
References: <033.e83ea1a19a3058dfa0cff986b466ff0d@qgis.org>
	<042.3ee53d301dac9d8c14eb0f4687bb39e4@qgis.org>
Message-ID: <EF40AB16-EEF3-46E9-8B74-E58D8E8C4A77@wildnevada.org>

Thanks for checking. I tried to look at the grasshell source files  
yesterday, but I got beyond my capacity to do much besides break  
things during the compile process. I noticed that a number of legacy  
qt3 functions are being used to get this running under qt4 (Q3CString,  
for example). I know qt3 support was always fairly flaky in OS X, so I  
wouldn't be surprised if this carryover legacy code might have  
something to do with it. Pure speculation though.

John

On Nov 29, 2007, at 2:12 AM, Quantum GIS wrote:

> #739: GRASS Shell non-functional in OS X
> ---------------------------- 
> +-----------------------------------------------
>        Reporter:  jctull   |         Owner:  nobody
>            Type:  defect   |        Status:  new
>        Priority:  major    |     Milestone:  Version 0.9.1
>       Component:  Plugins  |       Version:  HEAD
>      Resolution:           |      Keywords:  grass shell keyboard  
> plugin tools
> Platform_version:  10.4.10  |      Platform:  OS X
>        Must_fix:  No       |   Status_info:  0
> ---------------------------- 
> +-----------------------------------------------
> Comment (by timlinux):
>
> Hi
>
> For me on OSX building QGIS 0.9.1trunk clicking the grass shell in the
> tool box does not open any GRASS shell at all.
>
> (Sorry to take so lng to respond to your email John)
>
> Regards
>
> Tim
>
> -- 
> Ticket URL: <https://svn.qgis.org/trac/ticket/739#comment:3>
> Quantum GIS <http://qgis.org>
> Quantum GIS is an Open Source GIS viewer/editor supporting OGR,  
> PostGIS, and GRASS formats


From tim at linfiniti.com  Fri Nov 30 07:14:24 2007
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] [Qgis-user] 0.9.1 Release plans
In-Reply-To: <474FDF1B.6010601@mxmlab.com>
References: <d368056f0711270456n5a3ba03cqd95479a2b3fac117@mail.gmail.com>
	<474FDF1B.6010601@mxmlab.com>
Message-ID: <d368056f0711300414h2e537ce8g945a909e6232d410@mail.gmail.com>

Hi Jean-Claude

Thanks for bringing my attention to this - I will review your patch today.

If anyone else has patches they have sent in by the bug tracker or by
sending personal emails to me that have not received a response,
please let me know - sometimes I miss things in the torrent of email
going through my inbox.

Best regards

Tim

2007/11/30, Jean-Claude Repetto <jcrepetto@mxmlab.com>:
> Tim Sutton wrote :
> > Hi All
> >
> > December is coming up fast and our bug triage has been quite a success
> > with over 52 bugs squashed, many small patches and enhancements
> > applied and a general focus on getting rid of bit-rot. Many thanks to
> > the people listed here for the great contribution they have made to
> > the bug fixing spree:
> >
> > https://svn.qgis.org/trac/wiki/BugTriage0.9.1
>
> > So I propose the following timeline for the release:
> >
> > ----------------------------
> >
> > Saturday 1 December:
> >
> > * String freeze in trunk. No more patches or updates should be made to
> > any UI or tr() strings.
>
> Hi,
>
> FYI, I have sent a patch to fix ticket #719 (milestone set to 0.9.1)
> https://svn.qgis.org/trac/ticket/719
>
> Regards,
> Jean-Claude
>
> _______________________________________________
> Qgis-user mailing list
> Qgis-user@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-user
>


-- 
Tim Sutton
QGIS Project Steering Committee Member - Release  Manager
Visit http://qgis.org for a great open source GIS
openModeller Desktop Developer
Visit http://openModeller.sf.net for a great open source ecological
niche modelling tool
Home Page: http://tim.linfiniti.com
Skype: timlinux
Irc: timlinux on #qgis at freenode.net

From wonder.sk at gmail.com  Fri Nov 30 16:01:11 2007
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Ogr database access design and plans
In-Reply-To: <BAY110-W18B7BBC5630C7E33B5A776B2710@phx.gbl>
References: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>
	<13974492.post@talk.nabble.com>
	<e8e7199c0711271411g2da8d245m3a0c738e9935ed1e@mail.gmail.com>
	<474C9B64.3060707@lancaster.ac.uk>
	<e8e7199c0711271504g487d0b95kafbb3f1cc64de598@mail.gmail.com>
	<474EE751.7070904@laposte.net>
	<e8e7199c0711290841s5cc9edd2ia10398120bf7cee0@mail.gmail.com>
	<474EF070.4020302@laposte.net>
	<e8e7199c0711290913w1f312a6rcda5dc782b15313c@mail.gmail.com>
	<BAY110-W18B7BBC5630C7E33B5A776B2710@phx.gbl>
Message-ID: <e8e7199c0711301301t16f9f03dy9ca089b3824f7d16@mail.gmail.com>

Hi Godofredo,

I hope to take a look at it during the weekend. These days I'm about
to move to another flat in Valencia so I'll be a bit less responsive,
but surely I will look at it and give you some comments.

Bye
Martin

On Nov 30, 2007 9:16 PM, godofredo contreras <frdcn@hotmail.com> wrote:
>
> Hi Martin:
>
> I have being working with the ogr database access document and modelling
> the classes and interaction needed to enable ogr database access in qgis.
> Attached are a doc document describing the changes planned, the classes
> and dialogs that will be affected and a jpeg image of the model with your
> suggestions
> applied. Could you please give me your comments and suggestions.
>
> Regards
>
> Godofredo Contreras
>
> ________________________________
> Get the power of Windows + Web with the new Windows Live. Power up!

From frdcn at hotmail.com  Fri Nov 30 15:16:41 2007
From: frdcn at hotmail.com (godofredo contreras)
Date: Wed Feb  6 23:25:17 2008
Subject: [Qgis-developer] Ogr database access design and plans
In-Reply-To: <e8e7199c0711290913w1f312a6rcda5dc782b15313c@mail.gmail.com>
References: <180c4dbd0711260143y4dcffd2t2870bede0f3abb14@mail.gmail.com>
	<474A9DD3.4050909@lancaster.ac.uk> <13974492.post@talk.nabble.com>
	<e8e7199c0711271411g2da8d245m3a0c738e9935ed1e@mail.gmail.com>
	<474C9B64.3060707@lancaster.ac.uk>
	<e8e7199c0711271504g487d0b95kafbb3f1cc64de598@mail.gmail.com>
	<474EE751.7070904@laposte.net>
	<e8e7199c0711290841s5cc9edd2ia10398120bf7cee0@mail.gmail.com>
	<474EF070.4020302@laposte.net> 
	<e8e7199c0711290913w1f312a6rcda5dc782b15313c@mail.gmail.com>
Message-ID: <BAY110-W18B7BBC5630C7E33B5A776B2710@phx.gbl>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: qgisogr.zip
Type: application/zip
Size: 115314 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20071130/8abc9e6c/qgisogr.zip
