From radim.blazek at gmail.com  Tue May  2 04:07:53 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] GRASS plugin
In-Reply-To: <200604301155.04662.cavallini@faunalia.it>
References: <200604301155.04662.cavallini@faunalia.it>
Message-ID: <340505ef0605020107j563187ft692ea3a27cd3b3f0@mail.gmail.com>

On 4/30/06, Paolo Cavallini <cavallini@faunalia.it> wrote:
> Hi all.
> When I try to open a GRASS mapset, I get:
> Cannot open the mapset. Mapset is already in use.

Most probably it is realy in use. You can check if
.gislock exists in the mapset. You can only open a mapset once.
It can be opened via GRASS shell or another QGIS application.
This is not true on Windows hovewer because that locking
system does not work yet.

Radim

> Latest svn version.
> All the best.
> pc
> --
> Paolo Cavallini
> email+jabber: cavallini@faunalia.it
> www.faunalia.it
> Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From radim.blazek at gmail.com  Tue May  2 04:12:45 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] GRASS plugin
In-Reply-To: <e3e612a60604300300o44a9f526sbd08b3fdf734e388@mail.gmail.com>
References: <200604301155.04662.cavallini@faunalia.it>
	<e3e612a60604300300o44a9f526sbd08b3fdf734e388@mail.gmail.com>
Message-ID: <340505ef0605020112v6ce4509oec0fea19b7d342ae@mail.gmail.com>

On 4/30/06, Tim Sutton <tim@linfiniti.com> wrote:
> Hi
>
> Try
>
> plugins -> grass -> close mapset
>
> then
>
> plugins -> grass -> open mapset
>
> and see if it opens this then. I got a similar error the other day
> when qgis crashed midway through using a mapset.

GRASS is locking database when it is opened with '.gislock'
file where PID is written. After a crash it should only
fail to reopen the mapset if the process is running with the same
PID as the process which crashed.

The locking system is bad IMO as it does not work over the network.

Radim

> Regards
>
> Tim
>
> On 4/30/06, Paolo Cavallini <cavallini@faunalia.it> wrote:
> > Hi all.
> > When I try to open a GRASS mapset, I get:
> > Cannot open the mapset. Mapset is already in use.
> > Latest svn version.
> > All the best.
> > pc
> > --
> > Paolo Cavallini
> > email+jabber: cavallini@faunalia.it
> > www.faunalia.it
> > Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> >
>
>
> --
> Tim Sutton
>
> Visit http://qgis.org for a great Open Source GIS
> Skype: timlinux
> MSN: tim_bdworld@msn.com
> Yahoo: tim_bdworld@yahoo.com
> Jabber: timlinux
> Irc: timlinux on #qgis at freenode.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From werchowyna at epf.pl  Tue May  2 06:39:22 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Re: [Qgis-user] Orphan nodes with GRASS edit plugin
In-Reply-To: <20060502102240.GH28102@rigacci.org>
References: <20060501211733.GA789@rigacci.org>
	<20060502112504.9e2f6343.werchowyna@epf.pl>
	<20060502093424.GB28102@rigacci.org>
	<20060502114245.dc1c302d.werchowyna@epf.pl>
	<20060502102240.GH28102@rigacci.org>
Message-ID: <20060502123922.bbb04895.werchowyna@epf.pl>

On Tue, 2 May 2006 12:22:40 +0200
qgis@rigacci.org wrote:

> > How does this work? ("Delete line" will also delete
> > boundaries/points/centroids; that's propably why in 0.7.9 it was
> > renamed to "Delete element").
> 
> Tried both "Delete vertex" and "Delete line" (the only delete 
> buttons in 0.7.4): no way to remove the dangle vertex.
> 
> I can reproduce the problem as many times as I want: add a line, 
> then remove vertexes until only one remains. The survivor is 
> undeletable and unmoveable. I have a vector map full of orphan 
> nodes!
> 
> My be an orphan node is not a line, nor a boundary, point or 
> centroid.
> 
> Can someone test 0.7.9 on this?

I confirm, using 0.7.9 2006-04-20.

1. Draw a vector line.
2. "Delete vertex" until none left to delete.
3. A single red cross remains in Grass digit display. You can't "Delete
element", "Delete vertex" nor "Move element" etc.
4. In Qgis map canvas nothing is displayed. Becomes visible only after
entering Grass digit.

v.build in Grass says about it:

$ v.build nowa
Building topology ...
1 primitives registered
Building areas:  100%
0 areas built
0 isles built
Attaching islands:
Attaching centroids:  100%
Topology was built.
Number of nodes     :   2
Number of primitives:   1
Number of points    :   0
Number of lines     :   1
Number of boundaries:   0
Number of centroids :   0
Number of areas     :   0
Number of isles     :   0

If opened in v.digit in Grass, all the symptons 1-4 apply too. So it
seems like a general issue with Grass vector format. CCing grass devel
list and Radim.

> May be a bug report should be opened?

Seems a Grass issue rather than Qgis.

Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From jianyunli at gmail.com  Tue May  2 09:27:12 2006
From: jianyunli at gmail.com (Jianyun Li)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] windows VC build
Message-ID: <7ec199d40605020627k55da32c4n87867c852eb152b6@mail.gmail.com>

First

Thanks for the great product.

Do you have a VC build under windows?

thanks
john
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20060502/093e915c/attachment.html
From radim.blazek at gmail.com  Tue May  2 09:38:26 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] windows VC build
In-Reply-To: <7ec199d40605020627k55da32c4n87867c852eb152b6@mail.gmail.com>
References: <7ec199d40605020627k55da32c4n87867c852eb152b6@mail.gmail.com>
Message-ID: <340505ef0605020638o13be463wf26db49bac58b27@mail.gmail.com>

There are 2 independent ways to build QGIS for Windows:

1) MinGW, currently we are using crosscompilation on Linux:
    http://mpa.itc.it/radim/wingrass/

2) VC:
    http://wiki.qgis.org/qgiswiki/Building_QT_4_with_Visual_C%2B%2B_2005
    http://wiki.qgis.org/qgiswiki/Building_Quantum_GIS_with_Visual_C%2B%2B_2005

Radim

On 5/2/06, Jianyun Li <jianyunli@gmail.com> wrote:
> First
>
> Thanks for the great product.
>
> Do you have a VC build under windows?
>
> thanks
> john
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
>

From radim.blazek at gmail.com  Wed May  3 04:12:50 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] ZX
Message-ID: <340505ef0605030112p46f9b6fbka4e94eea796d4ed4@mail.gmail.com>

Hi all,

after successful PDA port:
http://mpa.itc.it/radim/qgis/qgis-0.0.9-grass/ipaq1.png
http://mpa.itc.it/radim/qgis/qgis-0.0.9-grass/ipaq2.png

I am working to port QGIS to ZX Spectrum:
http://mpa.itc.it/radim/qgis/zx/img_0775.jpg
http://mpa.itc.it/radim/qgis/zx/img_0776.jpg
http://mpa.itc.it/radim/qgis/zx/img_0773.jpg

I don't foresee many problems  especially because ZX Spectrum
is about 4 times bigger (without display) than a PDA. As you can see
on pictures I started with ZX Basic which I found too slow
for our purpose so I switched back to C++. It should also take less
time to use C++ than to port everything to Basic

The work goes well but there are some issues  we have to sort out:

1. Small memory. ZX Spectrum comes only with 48 kB of memory
    and my current SVN trunk installation takes about 250 MB on Linux.
    I think that we can resolve a lot if we strip binary and libraries.
    Also, just one (default) icon theme and limited set of SVG symbols
    sould be sufficient. The rest can be possibly resolved with some
    kind of compressed file system?

2. C++.  So far I have not found a good C++ compiler fo ZX Spectrum.
    It is not problem to get C compiler however. I suggest to use
    C++ preprocessor on some different machine and then compile
    pure C on ZX Spectrum. I have no idea however how exceptions
    can be supported in that case. I know  that it would be possible
    to use cross-compiler and produce binaries for ZX Spectrum on Linux
    but it does not seem to be fair enough to use such a practice known
    from proprietary software development.

3 Qt. It seems that at moment Qt is not available for ZX Spectrum.
   I hope that Trolls are going to release Qt for ZX Spectrum with 4.3,
   at least I have heard such rumors.  In case it does not happen
   I will start petition for ZX port of Qt which will be sent to Trolls.
   I don't think we have enough resources to port Qt ourselves.

If you are interested to support ZX Spectrum port, we are currently
looking for a sponsor to buy a new _green_ display as it is
realy tiring to watch black and white screen all the day and night .
If you want
to donate a green display, please contact directly Jan.Nonner@mt.com,
director of ZXLabs in Roudnice. I cannot assure you however that you
can reduce taxes in that case.

Radim

PS: If you are interested I have also movie from the last coding session
where are discussed especialy network (RS232) related problems.

From tim at linfiniti.com  Wed May  3 06:41:54 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] ZX
In-Reply-To: <340505ef0605030112p46f9b6fbka4e94eea796d4ed4@mail.gmail.com>
References: <340505ef0605030112p46f9b6fbka4e94eea796d4ed4@mail.gmail.com>
Message-ID: <e3e612a60605030341o162f274ct23f4db3052fb9a5d@mail.gmail.com>

Hi

Nice! That will also ease packaging and redistribution issues - we can
just create an mp3 podcast of the qgis z80 binary that people can
download and record onto their tape recorder and play back to the ZX.
Excellent stuff...

BTW you missed April Fools day by a month :-P

Regards

Tim

On 5/3/06, Radim Blazek <radim.blazek@gmail.com> wrote:
> Hi all,
>
> after successful PDA port:
> http://mpa.itc.it/radim/qgis/qgis-0.0.9-grass/ipaq1.png
> http://mpa.itc.it/radim/qgis/qgis-0.0.9-grass/ipaq2.png
>
> I am working to port QGIS to ZX Spectrum:
> http://mpa.itc.it/radim/qgis/zx/img_0775.jpg
> http://mpa.itc.it/radim/qgis/zx/img_0776.jpg
> http://mpa.itc.it/radim/qgis/zx/img_0773.jpg
>
> I don't foresee many problems  especially because ZX Spectrum
> is about 4 times bigger (without display) than a PDA. As you can see
> on pictures I started with ZX Basic which I found too slow
> for our purpose so I switched back to C++. It should also take less
> time to use C++ than to port everything to Basic
>
> The work goes well but there are some issues  we have to sort out:
>
> 1. Small memory. ZX Spectrum comes only with 48 kB of memory
>     and my current SVN trunk installation takes about 250 MB on Linux.
>     I think that we can resolve a lot if we strip binary and libraries.
>     Also, just one (default) icon theme and limited set of SVG symbols
>     sould be sufficient. The rest can be possibly resolved with some
>     kind of compressed file system?
>
> 2. C++.  So far I have not found a good C++ compiler fo ZX Spectrum.
>     It is not problem to get C compiler however. I suggest to use
>     C++ preprocessor on some different machine and then compile
>     pure C on ZX Spectrum. I have no idea however how exceptions
>     can be supported in that case. I know  that it would be possible
>     to use cross-compiler and produce binaries for ZX Spectrum on Linux
>     but it does not seem to be fair enough to use such a practice known
>     from proprietary software development.
>
> 3 Qt. It seems that at moment Qt is not available for ZX Spectrum.
>    I hope that Trolls are going to release Qt for ZX Spectrum with 4.3,
>    at least I have heard such rumors.  In case it does not happen
>    I will start petition for ZX port of Qt which will be sent to Trolls.
>    I don't think we have enough resources to port Qt ourselves.
>
> If you are interested to support ZX Spectrum port, we are currently
> looking for a sponsor to buy a new _green_ display as it is
> realy tiring to watch black and white screen all the day and night .
> If you want
> to donate a green display, please contact directly Jan.Nonner@mt.com,
> director of ZXLabs in Roudnice. I cannot assure you however that you
> can reduce taxes in that case.
>
> Radim
>
> PS: If you are interested I have also movie from the last coding session
> where are discussed especialy network (RS232) related problems.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


--
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From radim.blazek at gmail.com  Wed May  3 08:00:20 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] ZX
In-Reply-To: <e3e612a60605030341o162f274ct23f4db3052fb9a5d@mail.gmail.com>
References: <340505ef0605030112p46f9b6fbka4e94eea796d4ed4@mail.gmail.com>
	<e3e612a60605030341o162f274ct23f4db3052fb9a5d@mail.gmail.com>
Message-ID: <340505ef0605030500t7091167m8deb3e1fea4a9861@mail.gmail.com>

On 5/3/06, Tim Sutton <tim@linfiniti.com> wrote:
> Hi
>
> Nice! That will also ease packaging and redistribution issues - we can
> just create an mp3 podcast of the qgis z80 binary that people can
> download and record onto their tape recorder and play back to the ZX.

This is realy good idea, I was not thinking about such distribution channel.
Unfortunately I cannot test it because we are using ZX Microdrive tape-loop
connected via ZX Interface 1 not a regular tape recorder.

Radim

> Excellent stuff...
>
> BTW you missed April Fools day by a month :-P
>
> Regards
>
> Tim
>
> On 5/3/06, Radim Blazek <radim.blazek@gmail.com> wrote:
> > Hi all,
> >
> > after successful PDA port:
> > http://mpa.itc.it/radim/qgis/qgis-0.0.9-grass/ipaq1.png
> > http://mpa.itc.it/radim/qgis/qgis-0.0.9-grass/ipaq2.png
> >
> > I am working to port QGIS to ZX Spectrum:
> > http://mpa.itc.it/radim/qgis/zx/img_0775.jpg
> > http://mpa.itc.it/radim/qgis/zx/img_0776.jpg
> > http://mpa.itc.it/radim/qgis/zx/img_0773.jpg
> >
> > I don't foresee many problems  especially because ZX Spectrum
> > is about 4 times bigger (without display) than a PDA. As you can see
> > on pictures I started with ZX Basic which I found too slow
> > for our purpose so I switched back to C++. It should also take less
> > time to use C++ than to port everything to Basic
> >
> > The work goes well but there are some issues  we have to sort out:
> >
> > 1. Small memory. ZX Spectrum comes only with 48 kB of memory
> >     and my current SVN trunk installation takes about 250 MB on Linux.
> >     I think that we can resolve a lot if we strip binary and libraries.
> >     Also, just one (default) icon theme and limited set of SVG symbols
> >     sould be sufficient. The rest can be possibly resolved with some
> >     kind of compressed file system?
> >
> > 2. C++.  So far I have not found a good C++ compiler fo ZX Spectrum.
> >     It is not problem to get C compiler however. I suggest to use
> >     C++ preprocessor on some different machine and then compile
> >     pure C on ZX Spectrum. I have no idea however how exceptions
> >     can be supported in that case. I know  that it would be possible
> >     to use cross-compiler and produce binaries for ZX Spectrum on Linux
> >     but it does not seem to be fair enough to use such a practice known
> >     from proprietary software development.
> >
> > 3 Qt. It seems that at moment Qt is not available for ZX Spectrum.
> >    I hope that Trolls are going to release Qt for ZX Spectrum with 4.3,
> >    at least I have heard such rumors.  In case it does not happen
> >    I will start petition for ZX port of Qt which will be sent to Trolls.
> >    I don't think we have enough resources to port Qt ourselves.
> >
> > If you are interested to support ZX Spectrum port, we are currently
> > looking for a sponsor to buy a new _green_ display as it is
> > realy tiring to watch black and white screen all the day and night .
> > If you want
> > to donate a green display, please contact directly Jan.Nonner@mt.com,
> > director of ZXLabs in Roudnice. I cannot assure you however that you
> > can reduce taxes in that case.
> >
> > Radim
> >
> > PS: If you are interested I have also movie from the last coding session
> > where are discussed especialy network (RS232) related problems.
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> >
>
>
> --
> Tim Sutton
>
> Visit http://qgis.org for a great Open Source GIS
> Skype: timlinux
> MSN: tim_bdworld@msn.com
> Yahoo: tim_bdworld@yahoo.com
> Jabber: timlinux
> Irc: timlinux on #qgis at freenode.net
>

From radim.blazek at gmail.com  Wed May  3 10:20:41 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Re: [Qgis-user] Orphan nodes with GRASS edit plugin
In-Reply-To: <20060502123922.bbb04895.werchowyna@epf.pl>
References: <20060501211733.GA789@rigacci.org>
	<20060502112504.9e2f6343.werchowyna@epf.pl>
	<20060502093424.GB28102@rigacci.org>
	<20060502114245.dc1c302d.werchowyna@epf.pl>
	<20060502102240.GH28102@rigacci.org>
	<20060502123922.bbb04895.werchowyna@epf.pl>
Message-ID: <340505ef0605030720v13fa4c95oa85fde5bb2197851@mail.gmail.com>

I have changed it in 0.8 so that the line is deleted if
number of vertices is < 2.

Radim

On 5/2/06, Maciek Sieczka <werchowyna@epf.pl> wrote:
> On Tue, 2 May 2006 12:22:40 +0200
> qgis@rigacci.org wrote:
>
> > > How does this work? ("Delete line" will also delete
> > > boundaries/points/centroids; that's propably why in 0.7.9 it was
> > > renamed to "Delete element").
> >
> > Tried both "Delete vertex" and "Delete line" (the only delete
> > buttons in 0.7.4): no way to remove the dangle vertex.
> >
> > I can reproduce the problem as many times as I want: add a line,
> > then remove vertexes until only one remains. The survivor is
> > undeletable and unmoveable. I have a vector map full of orphan
> > nodes!
> >
> > My be an orphan node is not a line, nor a boundary, point or
> > centroid.
> >
> > Can someone test 0.7.9 on this?
>
> I confirm, using 0.7.9 2006-04-20.
>
> 1. Draw a vector line.
> 2. "Delete vertex" until none left to delete.
> 3. A single red cross remains in Grass digit display. You can't "Delete
> element", "Delete vertex" nor "Move element" etc.
> 4. In Qgis map canvas nothing is displayed. Becomes visible only after
> entering Grass digit.
>
> v.build in Grass says about it:
>
> $ v.build nowa
> Building topology ...
> 1 primitives registered
> Building areas:  100%
> 0 areas built
> 0 isles built
> Attaching islands:
> Attaching centroids:  100%
> Topology was built.
> Number of nodes     :   2
> Number of primitives:   1
> Number of points    :   0
> Number of lines     :   1
> Number of boundaries:   0
> Number of centroids :   0
> Number of areas     :   0
> Number of isles     :   0
>
> If opened in v.digit in Grass, all the symptons 1-4 apply too. So it
> seems like a general issue with Grass vector format. CCing grass devel
> list and Radim.
>
> > May be a bug report should be opened?
>
> Seems a Grass issue rather than Qgis.
>
> Maciek
>
> --------------------
> W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
> http://katalog.panoramainternetu.pl/
>
>

From mateusz at loskot.net  Wed May  3 12:50:01 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] ZX
In-Reply-To: <340505ef0605030112p46f9b6fbka4e94eea796d4ed4@mail.gmail.com>
References: <340505ef0605030112p46f9b6fbka4e94eea796d4ed4@mail.gmail.com>
Message-ID: <4458DF39.1050104@loskot.net>

Radim Blazek wrote:
> Hi all,
> 
> after successful PDA port: 
> http://mpa.itc.it/radim/qgis/qgis-0.0.9-grass/ipaq1.png 
> http://mpa.itc.it/radim/qgis/qgis-0.0.9-grass/ipaq2.png

Great!

Radim, is there any HOWTO related to QGIS on iPAQ?
I'd be interested :-)

> I am working to port QGIS to ZX Spectrum: 
> http://mpa.itc.it/radim/qgis/zx/img_0775.jpg 
> http://mpa.itc.it/radim/qgis/zx/img_0776.jpg 
> http://mpa.itc.it/radim/qgis/zx/img_0773.jpg

Heh, amazing!
Would you know if there could be a chance to use Commodore PLUS/4 for
such experiments?


> The work goes well but there are some issues  we have to sort out:
> 
> 1. Small memory. ZX Spectrum comes only with 48 kB of memory and my 
> current SVN trunk installation takes about 250 MB on Linux. I think 
> that we can resolve a lot if we strip binary and libraries. Also, 
> just one (default) icon theme and limited set of SVG symbols sould be
>  sufficient. The rest can be possibly resolved with some kind of 
> compressed file system?

There may be some problems with compressed FS. I remember I had problems
with uncompressing Linux kernel on 360KB. Finally, I stripped it from
unused stuff. It was doable because the kernel is much smaller than QGIS
binary. Stripping QGIS may be a challange.

> 2. C++.  So far I have not found a good C++ compiler fo ZX Spectrum.

Me too. I don't think you will find C++ compiler for ZX.
May be there is some cross compiler similar to z88
(http://z88dk.sourceforge.net)

> It is not problem to get C compiler however. I suggest to use C++ 
> preprocessor on some different machine and then compile pure C on ZX 
> Spectrum. I have no idea however how exceptions can be supported in 
> that case. I know  that it would be possible to use cross-compiler 
> and produce binaries for ZX Spectrum on Linux but it does not seem to
>  be fair enough to use such a practice known from proprietary
> software development.

Yup, you're right.


> 3 Qt. It seems that at moment Qt is not available for ZX Spectrum. I 
> hope that Trolls are going to release Qt for ZX Spectrum with 4.3, at
>  least I have heard such rumors.  In case it does not happen I will 
> start petition for ZX port of Qt which will be sent to Trolls. I 
> don't think we have enough resources to port Qt ourselves.

Hmm, I'd bet they have something like this but I'd not be surprised if
only for internal usage/experiments (similarly, to Windows CE support).

> If you are interested to support ZX Spectrum port, we are currently 
> looking for a sponsor to buy a new _green_ display as it is realy 
> tiring to watch black and white screen all the day and night . If you
>  want to donate a green display, please contact directly 
> Jan.Nonner@mt.com, director of ZXLabs in Roudnice. I cannot assure 
> you however that you can reduce taxes in that case.

I see it's a kind of wider initiative ;-)
Could you share your opinion about possible bussines/targets for QGIS on
ZX? May be it could be used as a mobile platform for navi systems in
cars or something like this.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From cavallini at faunalia.it  Thu May  4 10:53:33 2006
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] GRASS plugin
In-Reply-To: <340505ef0605020112v6ce4509oec0fea19b7d342ae@mail.gmail.com>
References: <200604301155.04662.cavallini@faunalia.it>
	<e3e612a60604300300o44a9f526sbd08b3fdf734e388@mail.gmail.com>
	<340505ef0605020112v6ce4509oec0fea19b7d342ae@mail.gmail.com>
Message-ID: <200605041653.35230.cavallini@faunalia.it>

Just for the record: if I reopen the mapset with grass, then I close it, qgis 
does not complain anymore.
pc

At 10:12, marted? 2 maggio 2006 you presumably wrote:
>
> GRASS is locking database when it is opened with '.gislock'
> file where PID is written. After a crash it should only
> fail to reopen the mapset if the process is running with the same
> PID as the process which crashed.
>
> The locking system is bad IMO as it does not work over the network.
>
> Radim
-- 
Paolo Cavallini
email+jabber: cavallini@faunalia.it
www.faunalia.it
Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953

From radim.blazek at gmail.com  Thu May  4 04:37:46 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] ZX
In-Reply-To: <4458DF39.1050104@loskot.net>
References: <340505ef0605030112p46f9b6fbka4e94eea796d4ed4@mail.gmail.com>
	<4458DF39.1050104@loskot.net>
Message-ID: <340505ef0605040137p49b0b111g4105846c7a1ad230@mail.gmail.com>

On 5/3/06, Mateusz ?oskot <mateusz@loskot.net> wrote:
> Radim Blazek wrote:
> > Hi all,
> >
> > after successful PDA port:
> > http://mpa.itc.it/radim/qgis/qgis-0.0.9-grass/ipaq1.png
> > http://mpa.itc.it/radim/qgis/qgis-0.0.9-grass/ipaq2.png
>
> Great!
>
> Radim, is there any HOWTO related to QGIS on iPAQ?
> I'd be interested :-)

No, there is no howto. I just resized that GUI and then we recompiled
on iPaq with debian. It was running with Qt for X because those
time the Qt embeded was only available in version 2.x.
Everything compiled on our iPaq because we had some problems
with the public cluster of iPaqs supported by HP
(http://handhelds.org/cam.html).

> > I am working to port QGIS to ZX Spectrum:
> > http://mpa.itc.it/radim/qgis/zx/img_0775.jpg
> > http://mpa.itc.it/radim/qgis/zx/img_0776.jpg
> > http://mpa.itc.it/radim/qgis/zx/img_0773.jpg
>
> Heh, amazing!
> Would you know if there could be a chance to use Commodore PLUS/4 for
> such experiments?

I believe that most of the work to be done is identical. I have no idea
however how graphics system differ, but that should only affect Qt
not QGIS code. Basicaly it should be enough to change TARGET
enviroment variable  from z80-zxs to mos7501-cmm in case of crosscompiler.

> > The work goes well but there are some issues  we have to sort out:
> >
> > 1. Small memory. ZX Spectrum comes only with 48 kB of memory and my
> > current SVN trunk installation takes about 250 MB on Linux. I think
> > that we can resolve a lot if we strip binary and libraries. Also,
> > just one (default) icon theme and limited set of SVG symbols sould be
> >  sufficient. The rest can be possibly resolved with some kind of
> > compressed file system?
>
> There may be some problems with compressed FS. I remember I had problems
> with uncompressing Linux kernel on 360KB. Finally, I stripped it from
> unused stuff. It was doable because the kernel is much smaller than QGIS
> binary. Stripping QGIS may be a challange.

You are right, this is probably the most difficult problem. Alternatively
we could use MP3 player/recorder as suggested by Tim.
But that is also some work as we have to modulate/demodulate
all the data to/from audio chanel an I am not aware of any existing
file system like this.

> > 2. C++.  So far I have not found a good C++ compiler fo ZX Spectrum.
>
> Me too. I don't think you will find C++ compiler for ZX.
> May be there is some cross compiler similar to z88
> (http://z88dk.sourceforge.net)

Yes, it seems that we have to use a cross compiler but
I don't like such

> > 3 Qt. It seems that at moment Qt is not available for ZX Spectrum. I
> > hope that Trolls are going to release Qt for ZX Spectrum with 4.3, at
> >  least I have heard such rumors.  In case it does not happen I will
> > start petition for ZX port of Qt which will be sent to Trolls. I
> > don't think we have enough resources to port Qt ourselves.
>
> Hmm, I'd bet they have something like this but I'd not be surprised if
> only for internal usage/experiments (similarly, to Windows CE support).

Exactly, this is good example why a mixture of proprietary and OS development
model is problematic. In fact they can never get into the market until
they open the development completely and disclose their secret projects.

> Could you share your opinion about possible bussines/targets for QGIS on ZX?

I must confess that we want to build a small bussines around this project.
Yes, their is no philosophy or hobby behind. We started with HomeGIS market
study and results are very clear: no proprietary modern GIS is available
for home computers. If you consider that home users usualy don't
want to compile packages like GRASS, there is obvious space for QGIS package.
There is no exact number of Spectrum units sold but certainly few milions
(including clones). Analysis say that 80% of data has spatial attribute.
If we sell a QGIS package for some reasonable price, say 9.99euro
we have potential market of 2500000*0.8*9.99=19980000euro

> May be it could be used as a mobile platform for navi systems in
> cars or something like this.

There are certainly many applications from car/bicycle navigation to
precise gardening. Rigarding transport navigation however we have
to solve the question of display, because normal TV, often used
with home computers, is too havy.

Radim
From radim.blazek at gmail.com  Thu May  4 12:44:04 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] wiki - preformated text
Message-ID: <340505ef0605040944m4a124fb5wbb7dfa510d73a313@mail.gmail.com>

Hi,

how can I add a block of preformated text to Wiki,
<pre> and <verbatim> does not help?

thanks
Radim

From sherman at mrcc.com  Thu May  4 12:57:34 2006
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] wiki - preformated text
In-Reply-To: <340505ef0605040944m4a124fb5wbb7dfa510d73a313@mail.gmail.com>
References: <340505ef0605040944m4a124fb5wbb7dfa510d73a313@mail.gmail.com>
Message-ID: <445A327E.8070000@mrcc.com>

Radim Blazek wrote:
> Hi,
> 
> how can I add a block of preformated text to Wiki,
> <pre> and <verbatim> does not help?

Enclose the text in {{{ }}}

Example:
{{{
  This is preformatted text
}}}
-- 
-gary

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
  "We work virtually everywhere"
Quantum GIS: http://qgis.org
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From radim.blazek at gmail.com  Thu May  4 13:33:02 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Failed to load NAD27-83 correction file
Message-ID: <340505ef0605041033r466f5823pbb20ab9c0f30f561@mail.gmail.com>

Hi,

I have got this error on windows. I have to inspect how/where
to install those files (if possible, because the files are binary
and I worry that it is difficult to recompile them with crosscompiler).

I write this because I believe that interactive application should not
exit whenever it fails to load a file. I have seen already similar
things, for example 'sqlite_open cannot fail' etc in the code
(which obviously failed on Windows).

I would like to as you to handle such cases more carefully
and user friendly, especially if you are opening a file.
I think that if QGIS fails to load a resource it should give
a message box with warning but it should continue to work,
not exit immediately.

thanks
Radim

From sherman at mrcc.com  Thu May  4 16:35:26 2006
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Failed to load NAD27-83 correction file
In-Reply-To: <340505ef0605041033r466f5823pbb20ab9c0f30f561@mail.gmail.com>
References: <340505ef0605041033r466f5823pbb20ab9c0f30f561@mail.gmail.com>
Message-ID: <445A658E.9050500@mrcc.com>

Radim Blazek wrote:
> Hi,
> 
> I have got this error on windows. I have to inspect how/where
> to install those files (if possible, because the files are binary
> and I worry that it is difficult to recompile them with crosscompiler).
>

In the last version, we installed the correction files in:
 "$INSTDIR\proj_lib"
  File "proj_lib\GL27"
  File "proj_lib\MD"
  File "proj_lib\TN"
  File "proj_lib\WI"
  File "proj_lib\WO"
  File "proj_lib\conus"
  File "proj_lib\epsg"
  File "proj_lib\epsg-deprecated"
  File "proj_lib\esri"
  File "proj_lib\esri.extra"
  File "proj_lib\hawaii"
  File "proj_lib\nad.lst"
  File "proj_lib\nad27"
  File "proj_lib\nad83"
  File "proj_lib\ntv1_can.dat"
  File "proj_lib\null"
  File "proj_lib\other.extra"
  File "proj_lib\proj_def.dat"
  File "proj_lib\prvi"
  File "proj_lib\stgeorge"
  File "proj_lib\stlrnc"
  File "proj_lib\stpaul"
  File "proj_lib\world"

The installer then set the required environment variable PROJ_LIB:
	PROJ_LIB=$INSTDIR\proj_lib

Further information on this can be found at http://proj.maptools.org/


-- 
-gary

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
  "We work virtually everywhere"
Quantum GIS: http://qgis.org
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From tim at linfiniti.com  Thu May  4 17:16:56 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] wiki - preformated text
In-Reply-To: <445A327E.8070000@mrcc.com>
References: <340505ef0605040944m4a124fb5wbb7dfa510d73a313@mail.gmail.com>
	<445A327E.8070000@mrcc.com>
Message-ID: <e3e612a60605041416s558295b8nb603a4baec64fdcf@mail.gmail.com>

I already did this for you!

Regards

Tim

On 5/4/06, Gary Sherman <sherman@mrcc.com> wrote:
> Radim Blazek wrote:
> > Hi,
> >
> > how can I add a block of preformated text to Wiki,
> > <pre> and <verbatim> does not help?
>
> Enclose the text in {{{ }}}
>
> Example:
> {{{
>   This is preformatted text
> }}}
> --
> -gary
>
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Micro Resources: http://mrcc.com
>   "We work virtually everywhere"
> Quantum GIS: http://qgis.org
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


--
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From marco.hugentobler at karto.baug.ethz.ch  Fri May  5 05:23:08 2006
From: marco.hugentobler at karto.baug.ethz.ch (humarco)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] geomType of the postgre
Message-ID: <200605051123.08504.marco.hugentobler@karto.baug.ethz.ch>


Dear qgis devs,

I'm trying to make qgis editing possible for multilines (and later also for 
multilines). For this, i need to know the wkbtype of a layer, which can be 
done with QgsVectorDataProvider::geometryType(). The postgres provider 
returns QgsPostgresProvider::geomType which is set in the following code 
sequence (qgspostgresprovider.cpp:2500): 

if (fType == "POINT" || fType == "MULTIPOINT")
      geomType = QGis::WKBPoint;
    else if (fType == "LINESTRING" || fType == "MULTILINESTRING")
      geomType = QGis::WKBLineString;
    else if (fType == "POLYGON" || fType == "MULTIPOLYGON")
      geomType = QGis::WKBPolygon;

The effect is that i receive QGis::WKBLineString also for multiline layers.
Was there a particular reason for this behaviour or is it ok if i change it to 
return the real WKB type?

cheers,
Marco

From gavin at macaulay.co.nz  Fri May  5 05:45:00 2006
From: gavin at macaulay.co.nz (Gavin Macaulay)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] geomType of the postgre
In-Reply-To: <200605051123.08504.marco.hugentobler@karto.baug.ethz.ch>
References: <200605051123.08504.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <4220.202.150.114.192.1146822300.squirrel@secure.niwa.co.nz>

Marco,

I think that changing it to return the multi types will be ok.

Gavin

>
> Dear qgis devs,
>
> I'm trying to make qgis editing possible for multilines (and later also
> for
> multilines). For this, i need to know the wkbtype of a layer, which can be
> done with QgsVectorDataProvider::geometryType(). The postgres provider
> returns QgsPostgresProvider::geomType which is set in the following code
> sequence (qgspostgresprovider.cpp:2500):
>
> if (fType == "POINT" || fType == "MULTIPOINT")
>       geomType = QGis::WKBPoint;
>     else if (fType == "LINESTRING" || fType == "MULTILINESTRING")
>       geomType = QGis::WKBLineString;
>     else if (fType == "POLYGON" || fType == "MULTIPOLYGON")
>       geomType = QGis::WKBPolygon;
>
> The effect is that i receive QGis::WKBLineString also for multiline
> layers.
> Was there a particular reason for this behaviour or is it ok if i change
> it to
> return the real WKB type?
>
> cheers,
> Marco
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>



From radim.blazek at gmail.com  Fri May  5 09:06:18 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Re: [Qgis-user] GRASS Tools Module *.*** not found
In-Reply-To: <200605051454.48623.cavallini@faunalia.it>
References: <5B025B1F39D6D4119F5700508BEEEC6603DE40E0@srsofaioi4546.ktso.ch>
	<200605051013.16487.cavallini@faunalia.it>
	<340505ef0605050514j35fbd143ld8d34d77b0ba161b@mail.gmail.com>
	<200605051454.48623.cavallini@faunalia.it>
Message-ID: <340505ef0605050606y57112de9sc7adafc0a3c9b90@mail.gmail.com>

On 5/5/06, Paolo Cavallini <cavallini@faunalia.it> wrote:
> Sorry, I forgot:
> echo $?
> 0

Then I dont see any reason why it should fail:

    if ( !process.waitForFinished()
         || (process.exitCode() != 0 && process.exitCode() != 255) )
    {
        std::cerr << "process.exitCode() = " <<  process.exitCode() <<
std::endl;
        QMessageBox::warning( 0, "Warning", "Cannot start module " +
mXName + "<br>"
                  + cmd + " " + arguments.join(" ") + "<br>"
                  + QString(process.readAllStandardOutput()) + "<br>"
                  + QString(process.readAllStandardError()) );
        return;
    }

Radim

> pc
> --
> Paolo Cavallini
> email+jabber: cavallini@faunalia.it
> www.faunalia.it
> Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953
>

From wonder.sk at gmail.com  Fri May  5 14:32:15 2006
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] General questions & multiple map canvases
Message-ID: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>

Hi all,

I'd like to discuss here the concept of multiple map canvas support.
The reason of starting the discussion is that I think often it's not
very clear (at least for me) what part of QGIS application should be
responsible of what task. Parts of QGIS I'm currently talking about
are map layer registry, project, map canvas and legend. Their
cooperation affects also how they should be handled in other
applications. The questions for which I don't have clear answers
include:
- should be every new layer added to map layer registry?
- should be every layer added to registry added also to the legend in
gui application?
- similarly, when a layer is removed from legend, should it be also
removed from registry and deleted?

It's easy to answer these questions when we consider only single
legend and map canvas. However with more map canvases, it depends of
what do we expect from multiple canvas support:
- allow different projection for every map canvas or the same for all
canvases in project?
- the same layer properties (e.g. symbology, labeling) in every canvas
or allow different ones?
- how should plugins work with canvas? E.g. enabling scale bar plugin
will show scale bar in all canvases or in active canvas only?
- should one legend control all map canvases or let's have one legend
for every canvas?
- how to present it to the users? By this I mean whether do you plan
to have just "Add canvas" and "Remove canvas" buttons or something
more complicated with more features?

Answers to these questions will help me to prepare API correctly for
3rd party applications.


Martin

From radim.blazek at gmail.com  Thu May  4 03:38:11 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] ZX
In-Reply-To: <340505ef0605030500t7091167m8deb3e1fea4a9861@mail.gmail.com>
References: <340505ef0605030112p46f9b6fbka4e94eea796d4ed4@mail.gmail.com>
	<e3e612a60605030341o162f274ct23f4db3052fb9a5d@mail.gmail.com>
	<340505ef0605030500t7091167m8deb3e1fea4a9861@mail.gmail.com>
Message-ID: <340505ef0605040038l42bb4643h4b9b3731ec2673fd@mail.gmail.com>

On 5/3/06, Radim Blazek <radim.blazek@gmail.com> wrote:
> On 5/3/06, Tim Sutton <tim@linfiniti.com> wrote:
> > Hi
> >
> > Nice! That will also ease packaging and redistribution issues - we can
> > just create an mp3 podcast of the qgis z80 binary that people can
> > download and record onto their tape recorder and play back to the ZX.
>
> This is realy good idea, I was not thinking about such distribution channel.
> Unfortunately I cannot test it because we are using ZX Microdrive tape-loop
> connected via ZX Interface 1 not a regular tape recorder.

I was thinking more about that and I came to conclusion that it should
be possible
to connect any MP3 player/recorder directly to ZX Spectrum audio input/output,
right? Anybody has tried already?
That should make archiving data much easier and faster.
Other possibility is to store data on normal PC via RS232 which in fact
we are currently using because we cannot find the microdrives.

Radim

From tim at linfiniti.com  Fri May  5 18:44:46 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] General questions & multiple map canvases
In-Reply-To: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
References: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
Message-ID: <e3e612a60605051544k73b1aa62r424de80be2487ce3@mail.gmail.com>

Hi Martin

On 5/5/06, Martin Dobias <wonder.sk@gmail.com> wrote:
> Hi all,
>
> I'd like to discuss here the concept of multiple map canvas support.
> The reason of starting the discussion is that I think often it's not
> very clear (at least for me) what part of QGIS application should be
> responsible of what task.

Right we need to iron these things out nicely still....

> Parts of QGIS I'm currently talking about
> are map layer registry, project, map canvas and legend. Their
> cooperation affects also how they should be handled in other
> applications. The questions for which I don't have clear answers
> include:

> - should be every new layer added to map layer registry?

Yes but we should change maplayer so that it only stores the 'from'
part of the SRS so that a layer can be used in multiple canvases which
have different canvas SRS.

I do wonder if we would not be better having a formalised
QgsMapLayerCollection with iterator capability (and doing away with
the map layer registry singleton). The QgsMapLayerCollection would
store all the handles to map layers for a given canvas. Layers could
be shared among canvases by virtue of being pointers. With reference
counting the layer can be destroyed when last ref to it is lost.
However from the UI point of view the user would need to understand
that layers shared between canvases are linked and that changes to
symbology in on canvas will affect all its representations in other
canvaes.

> - should be every layer added to registry added also to the legend in
> gui application?

I would like to see a situation where we can do:

QgsLegend->setLayersCollection(QgsMapCanvas->layersCollection())

Where the QgsMapCanvas->layersCollection() would return a pointer to
the QgsMapLayersCollection so that the legend would automatically sync
with canvas and verca vica. It certainly would be useful to be able to
hide individual layers form the legend in bespoke apps (e.g. where you
wish to have an immuteable backdrop layer). This could probably be
best achieved with a QgsMapLayer->hideFromLegend(true) type of call.

> - similarly, when a layer is removed from legend, should it be also
> removed from registry and deleted?

We should ref count it. But see comments above, I think moving to a
MapLayersCollection may be a better  bet.

>
> It's easy to answer these questions when we consider only single
> legend and map canvas. However with more map canvases, it depends of
> what do we expect from multiple canvas support:
> - allow different projection for every map canvas or the same for all
> canvases in project?

Each canvas should be able to specify its own canvas SRS

> - the same layer properties (e.g. symbology, labeling) in every canvas
> or allow different ones?

I think initially we should share symbology across shared instances of
a layer. We need to asess how much overhead having duplicates of the
same data source as separate QgsMapLayer objects with different
symbologies versus splitting symbology furter away from map layer so
that multiple symbologies can be assigend to the same qgsmaplayer
instance.

> - how should plugins work with canvas? E.g. enabling scale bar plugin
> will show scale bar in all canvases or in active canvas only?

Good point. They should be assigned on a per canvas basis I think. We
should adapt the plugin api to cater for this and in most cases the
plugin writer himself should dictate whether the plugins scope is
global or to a specific canvas instance.

> - should one legend control all map canvases or let's have one legend
> for every canvas?


Each canvas should have its own legend instance. We should swap out th
elegend control with which ever canvase is currently in focus.

> - how to present it to the users? By this I mean whether do you plan
> to have just "Add canvas" and "Remove canvas" buttons or something
> more complicated with more features?

Yes simple add and remove canvas buttons, and this must be exposed to
plugin api. Also plugin api should be able to addTab, removeTab where
the tab can be used by plugin writer for other non canvas stuff e.g.
displaying a form.

>
> Answers to these questions will help me to prepare API correctly for
> 3rd party applications.

Go Martin Go! :-) These are my thoughts anyway, other people may have
different ideas / better ideas.

Regards

Tim

>
>
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


--
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Fri May  5 18:49:52 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Digikam with GPS support
Message-ID: <e3e612a60605051549o5dd94e7o439ff3561351b719@mail.gmail.com>

Hi all

I just noticed this:

http://www.digikam.org/?q=node/104

Once martin is finished weaving his magic, we should get the kde folks
aware of the QGIS developer framework so that we can become the base
for kgeography, kamera etc :-)

Regards


--
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From fcordoba at numerica.com.co  Fri May  5 20:53:11 2006
From: fcordoba at numerica.com.co (=?ISO-8859-1?Q?F=E9lix_Manuel_C=F3rdoba_Tuta?=)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] QGis embedded in Other Qt Application???
Message-ID: <445BF377.1000206@numerica.com.co>

Hi,
how i can embedd the qgis functionality in a qt application, like to a 
ActiveX??



From wonder.sk at gmail.com  Sat May  6 05:22:05 2006
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] QGis embedded in Other Qt Application???
In-Reply-To: <445BF377.1000206@numerica.com.co>
References: <445BF377.1000206@numerica.com.co>
Message-ID: <e8e7199c0605060222x4711ebebqa92e763c9ef7484c@mail.gmail.com>

Hi Felix,

you should be able to embed map canvas of QGIS in your Qt application
when using qgis_gui library - but you should use development branch
Lib_Refactoring-branch from SVN, probably also SVN trunk will be OK to
use. Currently there's not much documentation on this topic, see
http://wiki.qgis.org/qgiswiki/MapCanvas_API for more information. I'm
going to write a simple howto on embedding map canvas in near future.

Regards,
Martin

On 5/6/06, F?lix Manuel C?rdoba Tuta <fcordoba@numerica.com.co> wrote:
> Hi,
> how i can embedd the qgis functionality in a qt application, like to a
> ActiveX??
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From marco.hugentobler at karto.baug.ethz.ch  Sun May  7 05:18:16 2006
From: marco.hugentobler at karto.baug.ethz.ch (humarco)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] General questions & multiple map canvases
In-Reply-To: <e3e612a60605051544k73b1aa62r424de80be2487ce3@mail.gmail.com>
References: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
	<e3e612a60605051544k73b1aa62r424de80be2487ce3@mail.gmail.com>
Message-ID: <200605071118.16930.marco.hugentobler@karto.baug.ethz.ch>

Hi Martin and Tim,

Just some general thoughts from my side:

I can see two different possible directions of how multiple canvas could work:

1. Different views to the same project. The canvases use exaclty the same 
layer set, symbology, legend (not necessarily the same CRS). Only the view 
extent is different.

2. Different views to different projects. Each canvas has a different layer 
set, symbology, CRS, legend.

I can imagine uses for both. Personally i would prefer the first one. The user 
could have 2. by opening multiple qgis windows. And the number of clicks 
would be the same (clicking on qgis icon on desktop instead on 'add canvas'). 
To have 1. would be more inconvenient with two qgis instances(save current 
project, open new qgis, open the same project). Additionally, if the project 
changes in one qgis instance, the project has to be saved again and reopened 
in the second qgis instance. 
 

In case the general consensus is 2., wouldn't it be simpler to have 
independent instances of legend, maplayers and even layer registries for each 
canvas? As the data providers read from disk, there wouldn't be much storage 
overhead compared to sharing maplayers. And i think it would make it 
conceptually much simpler because most of the existing classes wouldn't need 
to be changed.


Regards,
Marco


Am Samstag 06 Mai 2006 00:44 schrieb Tim Sutton:
> Hi Martin
>
> On 5/5/06, Martin Dobias <wonder.sk@gmail.com> wrote:
> > Hi all,
> >
> > I'd like to discuss here the concept of multiple map canvas support.
> > The reason of starting the discussion is that I think often it's not
> > very clear (at least for me) what part of QGIS application should be
> > responsible of what task.
>
> Right we need to iron these things out nicely still....
>
> > Parts of QGIS I'm currently talking about
> > are map layer registry, project, map canvas and legend. Their
> > cooperation affects also how they should be handled in other
> > applications. The questions for which I don't have clear answers
> > include:
> >
> > - should be every new layer added to map layer registry?
>
> Yes but we should change maplayer so that it only stores the 'from'
> part of the SRS so that a layer can be used in multiple canvases which
> have different canvas SRS.
>
> I do wonder if we would not be better having a formalised
> QgsMapLayerCollection with iterator capability (and doing away with
> the map layer registry singleton). The QgsMapLayerCollection would
> store all the handles to map layers for a given canvas. Layers could
> be shared among canvases by virtue of being pointers. With reference
> counting the layer can be destroyed when last ref to it is lost.
> However from the UI point of view the user would need to understand
> that layers shared between canvases are linked and that changes to
> symbology in on canvas will affect all its representations in other
> canvaes.
>
> > - should be every layer added to registry added also to the legend in
> > gui application?
>
> I would like to see a situation where we can do:
>
> QgsLegend->setLayersCollection(QgsMapCanvas->layersCollection())
>
> Where the QgsMapCanvas->layersCollection() would return a pointer to
> the QgsMapLayersCollection so that the legend would automatically sync
> with canvas and verca vica. It certainly would be useful to be able to
> hide individual layers form the legend in bespoke apps (e.g. where you
> wish to have an immuteable backdrop layer). This could probably be
> best achieved with a QgsMapLayer->hideFromLegend(true) type of call.
>
> > - similarly, when a layer is removed from legend, should it be also
> > removed from registry and deleted?
>
> We should ref count it. But see comments above, I think moving to a
> MapLayersCollection may be a better  bet.
>
> > It's easy to answer these questions when we consider only single
> > legend and map canvas. However with more map canvases, it depends of
> > what do we expect from multiple canvas support:
> > - allow different projection for every map canvas or the same for all
> > canvases in project?
>
> Each canvas should be able to specify its own canvas SRS
>
> > - the same layer properties (e.g. symbology, labeling) in every canvas
> > or allow different ones?
>
> I think initially we should share symbology across shared instances of
> a layer. We need to asess how much overhead having duplicates of the
> same data source as separate QgsMapLayer objects with different
> symbologies versus splitting symbology furter away from map layer so
> that multiple symbologies can be assigend to the same qgsmaplayer
> instance.
>
> > - how should plugins work with canvas? E.g. enabling scale bar plugin
> > will show scale bar in all canvases or in active canvas only?
>
> Good point. They should be assigned on a per canvas basis I think. We
> should adapt the plugin api to cater for this and in most cases the
> plugin writer himself should dictate whether the plugins scope is
> global or to a specific canvas instance.
>
> > - should one legend control all map canvases or let's have one legend
> > for every canvas?
>
> Each canvas should have its own legend instance. We should swap out th
> elegend control with which ever canvase is currently in focus.
>
> > - how to present it to the users? By this I mean whether do you plan
> > to have just "Add canvas" and "Remove canvas" buttons or something
> > more complicated with more features?
>
> Yes simple add and remove canvas buttons, and this must be exposed to
> plugin api. Also plugin api should be able to addTab, removeTab where
> the tab can be used by plugin writer for other non canvas stuff e.g.
> displaying a form.
>
> > Answers to these questions will help me to prepare API correctly for
> > 3rd party applications.
>
> Go Martin Go! :-) These are my thoughts anyway, other people may have
> different ideas / better ideas.
>
> Regards
>
> Tim
>
> > Martin
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
> --
> Tim Sutton
>
> Visit http://qgis.org for a great Open Source GIS
> Skype: timlinux
> MSN: tim_bdworld@msn.com
> Yahoo: tim_bdworld@yahoo.com
> Jabber: timlinux
> Irc: timlinux on #qgis at freenode.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

From wonder.sk at gmail.com  Mon May  8 09:17:44 2006
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] General questions & multiple map canvases
In-Reply-To: <e3e612a60605051544k73b1aa62r424de80be2487ce3@mail.gmail.com>
References: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
	<e3e612a60605051544k73b1aa62r424de80be2487ce3@mail.gmail.com>
Message-ID: <e8e7199c0605080617k926406ckc27259e4174e80b7@mail.gmail.com>

Hi,

yesterday I had a discussion with Tim on this topic, so here is a summary:

Let's remove QgsMapLayerRegistry: we should eliminate use of global
map layer registry in favour of collections of map layers shared
between legends and map canvases. The basic idea:

class QgsMapLayerSetItem
{
public:
  // accessors / mutators

private:
  QgsMapLayer* mLayer;
  bool mVisible;
  bool mShowInOverview;
};


class QgsMapLayerSet : public QList<QgsMapLayerSetItem>
{
public:
  addLayer(QgsMapLayer* layer);
  removeLayer(QgsMapLayer* layer);
  // some more
};

Such layer set will be owned by map canvas and legend will access it
and do changes in it.

Two possibilities how to deal with using the same layer in more canvases:
- enable sharing of layers between layer sets with reference counting
- disable sharing of layers, allow cloning of layers
Currently I'm in favour of cloning instead of sharing them, because
IMO it's more straightforward to use, moreover the shared layers would
need to have same properties in the map canvases (renderer, symbology,
transparency...)

Another thing we talked about is interaction between legend and map
canvas. The original idea was to use something like
QgsLegend::setMapCanvas(QgsMapCanvas* canvas) call which would load
and show layers of map canvas. With this we could stay with only one
instance of QgsLegend for all map canvases. But now I've realized that
it won't be that easy because legend has its own properties like layer
groups, states of nodes (collapsed / expanded) etc. which would be
lost. Therefore I would say that be still need to use one legend
widget for every map canvas - if we won't find out a suitable
mechanism to save legend's state...


Martin

From wonder.sk at gmail.com  Mon May  8 09:33:45 2006
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] General questions & multiple map canvases
In-Reply-To: <200605071118.16930.marco.hugentobler@karto.baug.ethz.ch>
References: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
	<e3e612a60605051544k73b1aa62r424de80be2487ce3@mail.gmail.com>
	<200605071118.16930.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <e8e7199c0605080633i6e75df9ra1a73b878f91ae4@mail.gmail.com>

On 5/7/06, humarco <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi Martin and Tim,
>
> Just some general thoughts from my side:
>
> I can see two different possible directions of how multiple canvas could work:
>
> 1. Different views to the same project. The canvases use exaclty the same
> layer set, symbology, legend (not necessarily the same CRS). Only the view
> extent is different.
>
> 2. Different views to different projects. Each canvas has a different layer
> set, symbology, CRS, legend.

Hi,

I see one more possible direction which is the mix of the two you mention:

3. different views to the same project, but canvas can have different
layer set, symbology, CRS and legend.


> I can imagine uses for both. Personally i would prefer the first one. The user
> could have 2. by opening multiple qgis windows. And the number of clicks
> would be the same (clicking on qgis icon on desktop instead on 'add canvas').
> To have 1. would be more inconvenient with two qgis instances(save current
> project, open new qgis, open the same project). Additionally, if the project
> changes in one qgis instance, the project has to be saved again and reopened
> in the second qgis instance.
>
>
> In case the general consensus is 2., wouldn't it be simpler to have
> independent instances of legend, maplayers and even layer registries for each
> canvas? As the data providers read from disk, there wouldn't be much storage
> overhead compared to sharing maplayers. And i think it would make it
> conceptually much simpler because most of the existing classes wouldn't need
> to be changed.

I've posted a concept of such solution with more layer registries for
each canvas as we dicussed it on IRC...

I think it would be wise to organize a poll in user community (on web
or on mailing list) what handling of multiple map canvas they like at
most and implement it based on their opinions.


Martin

>
>
> Regards,
> Marco
>
>
> Am Samstag 06 Mai 2006 00:44 schrieb Tim Sutton:
> > Hi Martin
> >
> > On 5/5/06, Martin Dobias <wonder.sk@gmail.com> wrote:
> > > Hi all,
> > >
> > > I'd like to discuss here the concept of multiple map canvas support.
> > > The reason of starting the discussion is that I think often it's not
> > > very clear (at least for me) what part of QGIS application should be
> > > responsible of what task.
> >
> > Right we need to iron these things out nicely still....
> >
> > > Parts of QGIS I'm currently talking about
> > > are map layer registry, project, map canvas and legend. Their
> > > cooperation affects also how they should be handled in other
> > > applications. The questions for which I don't have clear answers
> > > include:
> > >
> > > - should be every new layer added to map layer registry?
> >
> > Yes but we should change maplayer so that it only stores the 'from'
> > part of the SRS so that a layer can be used in multiple canvases which
> > have different canvas SRS.
> >
> > I do wonder if we would not be better having a formalised
> > QgsMapLayerCollection with iterator capability (and doing away with
> > the map layer registry singleton). The QgsMapLayerCollection would
> > store all the handles to map layers for a given canvas. Layers could
> > be shared among canvases by virtue of being pointers. With reference
> > counting the layer can be destroyed when last ref to it is lost.
> > However from the UI point of view the user would need to understand
> > that layers shared between canvases are linked and that changes to
> > symbology in on canvas will affect all its representations in other
> > canvaes.
> >
> > > - should be every layer added to registry added also to the legend in
> > > gui application?
> >
> > I would like to see a situation where we can do:
> >
> > QgsLegend->setLayersCollection(QgsMapCanvas->layersCollection())
> >
> > Where the QgsMapCanvas->layersCollection() would return a pointer to
> > the QgsMapLayersCollection so that the legend would automatically sync
> > with canvas and verca vica. It certainly would be useful to be able to
> > hide individual layers form the legend in bespoke apps (e.g. where you
> > wish to have an immuteable backdrop layer). This could probably be
> > best achieved with a QgsMapLayer->hideFromLegend(true) type of call.
> >
> > > - similarly, when a layer is removed from legend, should it be also
> > > removed from registry and deleted?
> >
> > We should ref count it. But see comments above, I think moving to a
> > MapLayersCollection may be a better  bet.
> >
> > > It's easy to answer these questions when we consider only single
> > > legend and map canvas. However with more map canvases, it depends of
> > > what do we expect from multiple canvas support:
> > > - allow different projection for every map canvas or the same for all
> > > canvases in project?
> >
> > Each canvas should be able to specify its own canvas SRS
> >
> > > - the same layer properties (e.g. symbology, labeling) in every canvas
> > > or allow different ones?
> >
> > I think initially we should share symbology across shared instances of
> > a layer. We need to asess how much overhead having duplicates of the
> > same data source as separate QgsMapLayer objects with different
> > symbologies versus splitting symbology furter away from map layer so
> > that multiple symbologies can be assigend to the same qgsmaplayer
> > instance.
> >
> > > - how should plugins work with canvas? E.g. enabling scale bar plugin
> > > will show scale bar in all canvases or in active canvas only?
> >
> > Good point. They should be assigned on a per canvas basis I think. We
> > should adapt the plugin api to cater for this and in most cases the
> > plugin writer himself should dictate whether the plugins scope is
> > global or to a specific canvas instance.
> >
> > > - should one legend control all map canvases or let's have one legend
> > > for every canvas?
> >
> > Each canvas should have its own legend instance. We should swap out th
> > elegend control with which ever canvase is currently in focus.
> >
> > > - how to present it to the users? By this I mean whether do you plan
> > > to have just "Add canvas" and "Remove canvas" buttons or something
> > > more complicated with more features?
> >
> > Yes simple add and remove canvas buttons, and this must be exposed to
> > plugin api. Also plugin api should be able to addTab, removeTab where
> > the tab can be used by plugin writer for other non canvas stuff e.g.
> > displaying a form.
> >
> > > Answers to these questions will help me to prepare API correctly for
> > > 3rd party applications.
> >
> > Go Martin Go! :-) These are my thoughts anyway, other people may have
> > different ideas / better ideas.
> >
> > Regards
> >
> > Tim
> >
> > > Martin
> > > _______________________________________________
> > > Qgis-developer mailing list
> > > Qgis-developer@lists.qgis.org
> > > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> >
> > --
> > Tim Sutton
> >
> > Visit http://qgis.org for a great Open Source GIS
> > Skype: timlinux
> > MSN: tim_bdworld@msn.com
> > Yahoo: tim_bdworld@yahoo.com
> > Jabber: timlinux
> > Irc: timlinux on #qgis at freenode.net
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From radim.blazek at gmail.com  Mon May  8 10:56:45 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Failed to load NAD27-83 correction file
In-Reply-To: <445A658E.9050500@mrcc.com>
References: <340505ef0605041033r466f5823pbb20ab9c0f30f561@mail.gmail.com>
	<445A658E.9050500@mrcc.com>
Message-ID: <340505ef0605080756g132203e9sa1cc6da2be630bd2@mail.gmail.com>

It was mix of various problems.
1) I tested a file outside area of valid available grid files
2) PROJ_LIB was set by previous qgis07 installer but qgis07 was
    deleted from file system
3) PROJ checks if pj_finder was set before PROJ_LIB enviroment variable.
    pj_finder is probably set in GRASS gproj library when plugin is loaded,
    consequently PROJ_LIB was ignored

I think that it is better to avoid any variables set by installer because
files cannot be moved later and variable remains set even if files are deleted.
I added setEnvironment() to QgsCoordinateTransform which sets
PROJ_LIB to QApplication::applicationDirPath() + "/share/proj/" if not set.
Not however that it has no efect if GRASS plugin was loaded because in that case
pj_finder was already set to search in $GISBASE/etc/nad

Radim

On 5/4/06, Gary Sherman <sherman@mrcc.com> wrote:
> Radim Blazek wrote:
> > Hi,
> >
> > I have got this error on windows. I have to inspect how/where
> > to install those files (if possible, because the files are binary
> > and I worry that it is difficult to recompile them with crosscompiler).
> >
>
> In the last version, we installed the correction files in:
>  "$INSTDIR\proj_lib"
>   File "proj_lib\GL27"
>   File "proj_lib\MD"
>   File "proj_lib\TN"
>   File "proj_lib\WI"
>   File "proj_lib\WO"
>   File "proj_lib\conus"
>   File "proj_lib\epsg"
>   File "proj_lib\epsg-deprecated"
>   File "proj_lib\esri"
>   File "proj_lib\esri.extra"
>   File "proj_lib\hawaii"
>   File "proj_lib\nad.lst"
>   File "proj_lib\nad27"
>   File "proj_lib\nad83"
>   File "proj_lib\ntv1_can.dat"
>   File "proj_lib\null"
>   File "proj_lib\other.extra"
>   File "proj_lib\proj_def.dat"
>   File "proj_lib\prvi"
>   File "proj_lib\stgeorge"
>   File "proj_lib\stlrnc"
>   File "proj_lib\stpaul"
>   File "proj_lib\world"
>
> The installer then set the required environment variable PROJ_LIB:
>         PROJ_LIB=$INSTDIR\proj_lib
>
> Further information on this can be found at http://proj.maptools.org/
>
>
> --
> -gary
>
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> Gary Sherman
> Micro Resources: http://mrcc.com
>   "We work virtually everywhere"
> Quantum GIS: http://qgis.org
> -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
>

From radim.blazek at gmail.com  Mon May  8 11:56:24 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Failed to load NAD27-83 correction file
In-Reply-To: <340505ef0605080756g132203e9sa1cc6da2be630bd2@mail.gmail.com>
References: <340505ef0605041033r466f5823pbb20ab9c0f30f561@mail.gmail.com>
	<445A658E.9050500@mrcc.com>
	<340505ef0605080756g132203e9sa1cc6da2be630bd2@mail.gmail.com>
Message-ID: <340505ef0605080856n35a28de7iead555e696dcdb2b@mail.gmail.com>

Changed to set_pj_finder, that works and it seems to be cleaner.

Radim

On 5/8/06, Radim Blazek <radim.blazek@gmail.com> wrote:
> It was mix of various problems.
> 1) I tested a file outside area of valid available grid files
> 2) PROJ_LIB was set by previous qgis07 installer but qgis07 was
>     deleted from file system
> 3) PROJ checks if pj_finder was set before PROJ_LIB enviroment variable.
>     pj_finder is probably set in GRASS gproj library when plugin is loaded,
>     consequently PROJ_LIB was ignored
>
> I think that it is better to avoid any variables set by installer because
> files cannot be moved later and variable remains set even if files are deleted.
> I added setEnvironment() to QgsCoordinateTransform which sets
> PROJ_LIB to QApplication::applicationDirPath() + "/share/proj/" if not set.
> Not however that it has no efect if GRASS plugin was loaded because in that case
> pj_finder was already set to search in $GISBASE/etc/nad
>
> Radim
>
> On 5/4/06, Gary Sherman <sherman@mrcc.com> wrote:
> > Radim Blazek wrote:
> > > Hi,
> > >
> > > I have got this error on windows. I have to inspect how/where
> > > to install those files (if possible, because the files are binary
> > > and I worry that it is difficult to recompile them with crosscompiler).
> > >
> >
> > In the last version, we installed the correction files in:
> >  "$INSTDIR\proj_lib"
> >   File "proj_lib\GL27"
> >   File "proj_lib\MD"
> >   File "proj_lib\TN"
> >   File "proj_lib\WI"
> >   File "proj_lib\WO"
> >   File "proj_lib\conus"
> >   File "proj_lib\epsg"
> >   File "proj_lib\epsg-deprecated"
> >   File "proj_lib\esri"
> >   File "proj_lib\esri.extra"
> >   File "proj_lib\hawaii"
> >   File "proj_lib\nad.lst"
> >   File "proj_lib\nad27"
> >   File "proj_lib\nad83"
> >   File "proj_lib\ntv1_can.dat"
> >   File "proj_lib\null"
> >   File "proj_lib\other.extra"
> >   File "proj_lib\proj_def.dat"
> >   File "proj_lib\prvi"
> >   File "proj_lib\stgeorge"
> >   File "proj_lib\stlrnc"
> >   File "proj_lib\stpaul"
> >   File "proj_lib\world"
> >
> > The installer then set the required environment variable PROJ_LIB:
> >         PROJ_LIB=$INSTDIR\proj_lib
> >
> > Further information on this can be found at http://proj.maptools.org/
> >
> >
> > --
> > -gary
> >
> > -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> > Gary Sherman
> > Micro Resources: http://mrcc.com
> >   "We work virtually everywhere"
> > Quantum GIS: http://qgis.org
> > -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
> >
>

From marco.hugentobler at karto.baug.ethz.ch  Tue May  9 02:18:20 2006
From: marco.hugentobler at karto.baug.ethz.ch (humarco)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] General questions & multiple map canvases
In-Reply-To: <e8e7199c0605080633i6e75df9ra1a73b878f91ae4@mail.gmail.com>
References: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
	<200605071118.16930.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0605080633i6e75df9ra1a73b878f91ae4@mail.gmail.com>
Message-ID: <200605090818.20668.marco.hugentobler@karto.baug.ethz.ch>

Hi Martin,

> Hi,
>
> I see one more possible direction which is the mix of the two you mention:
>
> 3. different views to the same project, but canvas can have different
> layer set, symbology, CRS and legend.

So in the project file, there would be something like a <view> tag?

> I think it would be wise to organize a poll in user community (on web
> or on mailing list) what handling of multiple map canvas they like at
> most and implement it based on their opinions.

+1

> > > Each canvas should have its own legend instance. We should swap out th
> > > elegend control with which ever canvase is currently in focus.

One legend per canvas is reasonable. Serialising and swapping legend settings 
would be to much overhead.
For third party apps, a legend interface would be good (as suggested by larsl 
on IRC).

Marco

From radim.blazek at gmail.com  Tue May  9 04:16:16 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] General questions & multiple map canvases
In-Reply-To: <200605071118.16930.marco.hugentobler@karto.baug.ethz.ch>
References: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
	<e3e612a60605051544k73b1aa62r424de80be2487ce3@mail.gmail.com>
	<200605071118.16930.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <340505ef0605090116n1c2e3e28lf09f0a6b7d7a6b3f@mail.gmail.com>

Hi.
I think that in any casee, it should allow effective rectification
(georeferencing)
of rasters. That means 4 views, all with different zoom and each pair
with different
layers displayed.

On 5/7/06, humarco <marco.hugentobler@karto.baug.ethz.ch> wrote:
> I can see two different possible directions of how multiple canvas could work:
>
> 1. Different views to the same project. The canvases use exaclty the same
> layer set, symbology, legend (not necessarily the same CRS). Only the view
> extent is different.
>
> 2. Different views to different projects. Each canvas has a different layer
> set, symbology, CRS, legend.
>
> I can imagine uses for both.

Yes, It think that both should be possible.

> Personally i would prefer the first one. The user
> could have 2. by opening multiple qgis windows.

Yes, but impossible to do georeferencing using standard views
and sources cannot be shared.

> In case the general consensus is 2., wouldn't it be simpler to have
> independent instances of legend, maplayers and even layer registries for each
> canvas? As the data providers read from disk, there wouldn't be much storage
> overhead compared to sharing maplayers.

There are certainly layers which dont read from disk. I believe that layer
should be shared over application. It is also important to have only one
shared source to get updates (editing) immediately visible in all views.

Radim

From radim.blazek at gmail.com  Tue May  9 04:27:05 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] General questions & multiple map canvases
In-Reply-To: <e8e7199c0605080617k926406ckc27259e4174e80b7@mail.gmail.com>
References: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
	<e3e612a60605051544k73b1aa62r424de80be2487ce3@mail.gmail.com>
	<e8e7199c0605080617k926406ckc27259e4174e80b7@mail.gmail.com>
Message-ID: <340505ef0605090127j63b6e1f7o522420eee1ec8628@mail.gmail.com>

Hi Martin,

what about stable release? Don you want to skip 0.8?
Could we leave this until 0.8 release? I know that debugging
is boring but there is no other way.

On 5/8/06, Martin Dobias <wonder.sk@gmail.com> wrote:
> Two possibilities how to deal with using the same layer in more canvases:
> - enable sharing of layers between layer sets with reference counting
> - disable sharing of layers, allow cloning of layers

I think that layers (as data sources) should be shared over application.

> Currently I'm in favour of cloning instead of sharing them, because
> IMO it's more straightforward to use, moreover the shared layers would
> need to have same properties in the map canvases (renderer, symbology,
> transparency...)

We should separate layer-data and its symbology maybe?
But what about selection set and query?


Well I don't have capacity to think about this very complex problem
as there are milions of things to do for 0.8, so if you want my
reasonable oppinion wait until 0.8 is out.

Radim

From tim at linfiniti.com  Tue May  9 06:05:21 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Building gdal in mingw xcompile environment
Message-ID: <e3e612a60605090305i623153b0me15b7d596d44657a@mail.gmail.com>

Hi Radim

I have been working my way through your instructions but creating
everything in a chroot jail so that we have a ready to use, easy to
distribute windows build environment for linux. Did you have to do any
other configuration things for gdal? :

make[1]: Entering directory `/home/user/win/source/gdal-1.3.1/ogr'
i586-mingw32msvc-g++  ogrinfo.o ../libgdal.a  ../libgdal.a
-L/home/user/win/i586-mingw32msvc/lib -lgeos -lz  -o ogrinfo
../libgdal.a(cpl_vsil.o):cpl_vsil.cpp:(.text+0x401): undefined
reference to `_VSIInstallLargeFileHandler'
collect2: ld returned 1 exit status
make[1]: *** [ogrinfo] Error 1
make[1]: Leaving directory `/home/user/win/source/gdal-1.3.1/ogr'
make: *** [ogr-apps] Error 2

Grepping for that I see :

user@ubuntu:~/win/source/gdal-1.3.1$ egrep -R
VSIInstallLargeFileHandler * Binary file libgdal.a matches
Binary file port/cpl_vsil.o matches
port/cpl_vsil_win32.cpp:/*                    
VSIInstallLargeFileHandler()                 */
port/cpl_vsil_win32.cpp:void VSIInstallLargeFileHandler()
port/cpl_vsi_mem.cpp:/*                    
VSIInstallLargeFileHandler()              */
port/cpl_vsi.h:void CPL_DLL VSIInstallLargeFileHandler(void);
port/cpl_vsil_unix_stdio_64.cpp:/*                    
VSIInstallLargeFileHandler()                     */
port/cpl_vsil_unix_stdio_64.cpp:void VSIInstallLargeFileHandler()
port/cpl_vsil.cpp:        VSIInstallLargeFileHandler();

Any thoughts?....

Also you have this section under todo use dll:

     # $WIN/i586-mingw32msvc/bin/g++ --shared -o xdr.dll \
     #              -Wl,--out-implib=libxdr.dll.a \
     #              -Wl,--export-all-symbols \
     #              -Wl,--enable-auto-import \
     #              -Wl,--whole-archive libxdr.a \
     #              -Wl,--no-whole-archive -lwsock32 -liberty -lmingw32
     # $WIN/i586-mingw32msvc/bin/strip xdr.dll
     # cp xdr.dll $WIN/i586-mingw32msvc/bin/
     # cp libxdr.dll.a $WIN/i586-mingw32msvc/lib
     # rm -f $WIN/i586-mingw32msvc/lib/libxdr.a

Is it correct that we should not follow the above steps?

Thanks!

Regards

--
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Tue May  9 06:15:36 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] General questions & multiple map canvases
In-Reply-To: <340505ef0605090127j63b6e1f7o522420eee1ec8628@mail.gmail.com>
References: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
	<e3e612a60605051544k73b1aa62r424de80be2487ce3@mail.gmail.com>
	<e8e7199c0605080617k926406ckc27259e4174e80b7@mail.gmail.com>
	<340505ef0605090127j63b6e1f7o522420eee1ec8628@mail.gmail.com>
Message-ID: <e3e612a60605090315n32e9f269j46f8a451233ef1f@mail.gmail.com>

Hi



On 5/9/06, Radim Blazek <radim.blazek@gmail.com> wrote:
> Hi Martin,
>
> what about stable release? Don you want to skip 0.8?
> Could we leave this until 0.8 release? I know that debugging
> is boring but there is no other way.
>

Martin has an assignment to hand in for his university course based on
the work he is doing, so if he waits for 0.8 to be released he will
not be able to hand in on time. He is doing all his work in  a branch
so no problem about it affecting 0.8 trunk at this stage. I think it
is good to  give him whatever feedback we can even if we cant
participate in the coding effort for the work he is doing. If we do
this, when  0.8 goes out and he is able to merge, we will least be
familiar with and happy with the design of the work he is carrying out
now.

Regards


--
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From radim.blazek at gmail.com  Tue May  9 06:18:17 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Re: Building gdal in mingw xcompile environment
In-Reply-To: <e3e612a60605090305i623153b0me15b7d596d44657a@mail.gmail.com>
References: <e3e612a60605090305i623153b0me15b7d596d44657a@mail.gmail.com>
Message-ID: <340505ef0605090318x1fb2f6fdve484dc4e03c5f15d@mail.gmail.com>

On 5/9/06, Tim Sutton <tim@linfiniti.com> wrote:
> Hi Radim
>
> I have been working my way through your instructions but creating
> everything in a chroot jail so that we have a ready to use, easy to
> distribute windows build environment for linux. Did you have to do any
> other configuration things for gdal? :
>
> make[1]: Entering directory `/home/user/win/source/gdal-1.3.1/ogr'
> i586-mingw32msvc-g++  ogrinfo.o ../libgdal.a  ../libgdal.a
> -L/home/user/win/i586-mingw32msvc/lib -lgeos -lz  -o ogrinfo
> ../libgdal.a(cpl_vsil.o):cpl_vsil.cpp:(.text+0x401): undefined
> reference to `_VSIInstallLargeFileHandler'
> collect2: ld returned 1 exit status
> make[1]: *** [ogrinfo] Error 1
> make[1]: Leaving directory `/home/user/win/source/gdal-1.3.1/ogr'
> make: *** [ogr-apps] Error 2
>
> Grepping for that I see :
>
> user@ubuntu:~/win/source/gdal-1.3.1$ egrep -R
> VSIInstallLargeFileHandler * Binary file libgdal.a matches
> Binary file port/cpl_vsil.o matches
> port/cpl_vsil_win32.cpp:/*
> VSIInstallLargeFileHandler()                 */
> port/cpl_vsil_win32.cpp:void VSIInstallLargeFileHandler()
> port/cpl_vsi_mem.cpp:/*
> VSIInstallLargeFileHandler()              */
> port/cpl_vsi.h:void CPL_DLL VSIInstallLargeFileHandler(void);
> port/cpl_vsil_unix_stdio_64.cpp:/*
> VSIInstallLargeFileHandler()                     */
> port/cpl_vsil_unix_stdio_64.cpp:void VSIInstallLargeFileHandler()
> port/cpl_vsil.cpp:        VSIInstallLargeFileHandler();

I presume you did ?:

"In $WIN/source/gdal-1.3.1/port/GNUmakefile add cpl_vsil_win32.o
 to list of objects (OBJ variable) (fixed in GDAL CVS)"

> Also you have this section under todo use dll:
>
>      # $WIN/i586-mingw32msvc/bin/g++ --shared -o xdr.dll \
>      #              -Wl,--out-implib=libxdr.dll.a \
>      #              -Wl,--export-all-symbols \
>      #              -Wl,--enable-auto-import \
>      #              -Wl,--whole-archive libxdr.a \
>      #              -Wl,--no-whole-archive -lwsock32 -liberty -lmingw32
>      # $WIN/i586-mingw32msvc/bin/strip xdr.dll
>      # cp xdr.dll $WIN/i586-mingw32msvc/bin/
>      # cp libxdr.dll.a $WIN/i586-mingw32msvc/lib
>      # rm -f $WIN/i586-mingw32msvc/lib/libxdr.a
>
> Is it correct that we should not follow the above steps?

Yes but maybe it was fixed already, I dont remember.
XDR DLL is important because it is used by all raster modules.

Radim

From tim at linfiniti.com  Tue May  9 06:37:18 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Re: Building gdal in mingw xcompile environment
In-Reply-To: <340505ef0605090318x1fb2f6fdve484dc4e03c5f15d@mail.gmail.com>
References: <e3e612a60605090305i623153b0me15b7d596d44657a@mail.gmail.com>
	<340505ef0605090318x1fb2f6fdve484dc4e03c5f15d@mail.gmail.com>
Message-ID: <e3e612a60605090337u6140ffc3w452d5057c0af6a73@mail.gmail.com>

Hi

8<---------snip-----------
> I presume you did ?:
>
> "In $WIN/source/gdal-1.3.1/port/GNUmakefile add cpl_vsil_win32.o
>  to list of objects (OBJ variable) (fixed in GDAL CVS)"
>

Aaargh....I'm such an idiot sometimes....:-P I put a big IMPORTANT
note above that line now :-)

Thanks


--
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From radim.blazek at gmail.com  Tue May  9 06:21:27 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] General questions & multiple map canvases
In-Reply-To: <e3e612a60605090315n32e9f269j46f8a451233ef1f@mail.gmail.com>
References: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
	<e3e612a60605051544k73b1aa62r424de80be2487ce3@mail.gmail.com>
	<e8e7199c0605080617k926406ckc27259e4174e80b7@mail.gmail.com>
	<340505ef0605090127j63b6e1f7o522420eee1ec8628@mail.gmail.com>
	<e3e612a60605090315n32e9f269j46f8a451233ef1f@mail.gmail.com>
Message-ID: <340505ef0605090321u28dc1eb2w78f0445a7d8af6e5@mail.gmail.com>

On 5/9/06, Tim Sutton <tim@linfiniti.com> wrote:
> On 5/9/06, Radim Blazek <radim.blazek@gmail.com> wrote:
> > Hi Martin,
> >
> > what about stable release? Don you want to skip 0.8?
> > Could we leave this until 0.8 release? I know that debugging
> > is boring but there is no other way.
>
> Martin has an assignment to hand in for his university course based on
> the work he is doing, so if he waits for 0.8 to be released he will
> not be able to hand in on time. He is doing all his work in  a branch
> so no problem about it affecting 0.8 trunk at this stage. I think it
> is good to  give him whatever feedback we can even if we cant
> participate in the coding effort for the work he is doing. If we do
> this, when  0.8 goes out and he is able to merge, we will least be
> familiar with and happy with the design of the work he is carrying out
> now.

OK, I did not know that.

Radim

From zjt at itsc.com.cn  Wed May 10 05:18:54 2006
From: zjt at itsc.com.cn (zjt@itsc.com.cn)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] question about the spatial analyse!
Message-ID: <004001c67412$c62eff80$3100a8c0@zjt>

Hi,
   I'm new to QGIS, and have some questions to post!
   I'm a traffic engineer, who can give me some idea about the spatial analyse function in QGIS,such as mapmatch/buffer/shortestpath! Is there any API or should I expend the API?
   Thanks!!


zjt@itsc.com.cn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20060510/809ca3d5/attachment.html
From cavallini at faunalia.it  Wed May 10 05:24:33 2006
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] question about the spatial analyse!
In-Reply-To: <004001c67412$c62eff80$3100a8c0@zjt>
References: <004001c67412$c62eff80$3100a8c0@zjt>
Message-ID: <200605101124.36343.cavallini@faunalia.it>

better using the grass plugin for this.
pc
At 11:18, mercoled? 10 maggio 2006, zjt@itsc.com.cn has probably written:
> Hi,
>    I'm new to QGIS, and have some questions to post!
>    I'm a traffic engineer, who can give me some idea about the spatial
> analyse function in QGIS,such as mapmatch/buffer/shortestpath! Is there any
> API or should I expend the API? Thanks!!
>
>
> zjt@itsc.com.cn

-- 
Paolo Cavallini
email+jabber: cavallini@faunalia.it
www.faunalia.it
Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953

From quick.nitin at gmail.com  Wed May 10 06:42:17 2006
From: quick.nitin at gmail.com (nitin quick)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] rendering objects on canvas
Message-ID: <39f4276e0605100342u5a21af83v72448d6f17d988bc@mail.gmail.com>

Hello developers,
I am currently trying to code a module which will put some primitives or
object on qgis canvas irrespective of map. Lets  assume i have a algo
generating some points  and now i want to plot these points on canvas with
background of my map.Basic Operations like zooming , panning etc. should
still work while algo may be generating hese points after some unknoown
interval.
Problem is these object directly relates to acetate layer so one way is to
use acetate object hierarchy. But i couldn't found anyoone of renderer class
supporting it in code.
Other class relating to my problem is QgsSymbol which let me associate a
picture to co-ordinate. But same thing here i couldn't find any renedere
class supporting it directly.
I am thinking of deriving one clss from one of rendere classes but i
couldn't decide which one to use. I am not completely clear about
QgsSiMaRendere, QgsGraduatedMarendere, QgsUValMaRenderer classes.
Also say if i donot want a map in backgrond , just want to plot these points
or objects and later i may add.. etc etc.

Any help in this regard will be appreciabe and will save me good amount of
time in prototyping.
cya
nitin quick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20060510/8c92aa85/attachment.html
From wonder.sk at gmail.com  Wed May 10 07:07:55 2006
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] rendering objects on canvas
In-Reply-To: <39f4276e0605100342u5a21af83v72448d6f17d988bc@mail.gmail.com>
References: <39f4276e0605100342u5a21af83v72448d6f17d988bc@mail.gmail.com>
Message-ID: <e8e7199c0605100407x51d1a627i2b490db60a97688a@mail.gmail.com>

On 5/10/06, nitin quick <quick.nitin@gmail.com> wrote:
> Hello developers,
> I am currently trying to code a module which will put some primitives or
> object on qgis canvas irrespective of map. Lets  assume i have a algo
> generating some points  and now i want to plot these points on canvas with
> background of my map.Basic Operations like zooming , panning etc. should
> still work while algo may be generating hese points after some unknoown
> interval.
> Problem is these object directly relates to acetate layer so one way is to
> use acetate object hierarchy. But i couldn't found anyoone of renderer class
> supporting it in code.

Hi,

from your mail I assume that you're using QGIS version 0.7. I suggest
you to switch to newer version which is in SVN trunk which will be
released as 0.8. This version has many improvements in map canvas. Map
canvas widget is now derived from Q3Canvas class and enables you to
create and use "map canvas items" - QgsMapCanvasItem. Acetate layer
and acetate object have been removed in favour of map canvas items,
which are much more flexible and allow you to change them or their
position without the need of re-rendering the map background. You can
refer to this page for more information:
http://wiki.qgis.org/qgiswiki/MapCanvas_API

> Other class relating to my problem is QgsSymbol which let me associate a
> picture to co-ordinate. But same thing here i couldn't find any renedere
> class supporting it directly.
> I am thinking of deriving one clss from one of rendere classes but i
> couldn't decide which one to use. I am not completely clear about
> QgsSiMaRendere, QgsGraduatedMarendere, QgsUValMaRenderer classes.
> Also say if i donot want a map in backgrond , just want to plot these points
> or objects and later i may add.. etc etc.

I'm not an expert in renderers area, but there's a
QgsSingeSymbolRenderer class which is used for rendering symbols. In
older version I think it was named QgsSiSyRenderer.


> Any help in this regard will be appreciabe and will save me good amount of
> time in prototyping.

Hope it helps a bit :-)

Bye,
Martin

> cya
> nitin quick
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
>

From marco.hugentobler at karto.baug.ethz.ch  Wed May 10 08:01:29 2006
From: marco.hugentobler at karto.baug.ethz.ch (humarco)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] rendering objects on canvas
In-Reply-To: <39f4276e0605100342u5a21af83v72448d6f17d988bc@mail.gmail.com>
References: <39f4276e0605100342u5a21af83v72448d6f17d988bc@mail.gmail.com>
Message-ID: <200605101401.29743.marco.hugentobler@karto.baug.ethz.ch>

Hi Nitin,

It is not clear to me what exactly you are programming. Are the objects you 
are creating vector features (in the gis sense with geometry/attributes)? If 
no, then i wouldn't create a renderer for it. Renderers symbolize features 
according to feature attributes. Using canvas items (as Martin described in 
his mail) would be the mechanism for your purpose. Martin, is there a way to 
group different items to something like a layer?

Marco 


Am Mittwoch 10 Mai 2006 12:42 schrieb nitin quick:
> Hello developers,
> I am currently trying to code a module which will put some primitives or
> object on qgis canvas irrespective of map. Lets  assume i have a algo
> generating some points  and now i want to plot these points on canvas with
> background of my map.Basic Operations like zooming , panning etc. should
> still work while algo may be generating hese points after some unknoown
> interval.
> Problem is these object directly relates to acetate layer so one way is to
> use acetate object hierarchy. But i couldn't found anyoone of renderer
> class supporting it in code.
> Other class relating to my problem is QgsSymbol which let me associate a
> picture to co-ordinate. But same thing here i couldn't find any renedere
> class supporting it directly.
> I am thinking of deriving one clss from one of rendere classes but i
> couldn't decide which one to use. I am not completely clear about
> QgsSiMaRendere, QgsGraduatedMarendere, QgsUValMaRenderer classes.
> Also say if i donot want a map in backgrond , just want to plot these
> points or objects and later i may add.. etc etc.
>
> Any help in this regard will be appreciabe and will save me good amount of
> time in prototyping.
> cya
> nitin quick

From pchintamaneni at gmail.com  Wed May 10 09:56:37 2006
From: pchintamaneni at gmail.com (Prashanth Chintamaneni)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Qt 4.X
Message-ID: <f432725e0605100656l1dddb1d7l80b62aee1a92df78@mail.gmail.com>

Hello,
I am trying to install QT4.1.2. I think I installed it right. The qgis
installation cannot find libqt.so? Is there any modification that I
need to make to the configure script?

Thank you,
Prasanth.

From tim at linfiniti.com  Wed May 10 10:01:41 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Qt 4.X
In-Reply-To: <f432725e0605100656l1dddb1d7l80b62aee1a92df78@mail.gmail.com>
References: <f432725e0605100656l1dddb1d7l80b62aee1a92df78@mail.gmail.com>
Message-ID: <e3e612a60605100701o23b5cad5l6112d8de61b755be@mail.gmail.com>

Hi

Can you give more information please?

Which version of QGIS?
Where did you install qt4.x to?
How did you install it (from package or source)?
What OS  and or distro are you using?

Not knowing any of these answers I can take a stab in the dark anywy
and suggest you set the QTDIR environment variable appropriately and
then add the qtdir to the configure options. e.g. (on my Ubuntu Dapper
system with Qt installed from package):

export QTDIR=/usr
./autogen.sh $AUTOGEN_FLAGS --prefix=/usr  --with-qtdir=$QTDIR

Hope that helps...

Tim


On 5/10/06, Prashanth Chintamaneni <pchintamaneni@gmail.com> wrote:
> Hello,
> I am trying to install QT4.1.2. I think I installed it right. The qgis
> installation cannot find libqt.so? Is there any modification that I
> need to make to the configure script?
>
> Thank you,
> Prasanth.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From sherman at mrcc.com  Thu May 11 01:05:51 2006
From: sherman at mrcc.com (Gary Sherman)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Re: [Qgis-user] logo of QGIS wanted
In-Reply-To: <445E696C.1090200@de-schorsch.de>
References: <20060505003546.9692.qmail@web33215.mail.mud.yahoo.com>
	<200605052242.29042.hernan.deangelis@glocalnet.net>
	<445E696C.1090200@de-schorsch.de>
Message-ID: <4462C62F.9080403@mrcc.com>

Georg L?sel wrote:
> Hi all, where can I get a logo of Qgis in good quality?
> 
> I want to use it for a poster at a conference concerning education and GIS.
> 
> quick answer would be nice.
There is a 833x939 pixel icon at
http://qgis.org/releases/qgis_icon_new_verylarge.png

If you are looking for something else, we may have other options --
please direct your request to the list.

-- 
-gary

-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
Gary Sherman
Micro Resources: http://mrcc.com
  *Mapserver Hosting
  *Web Site Hosting
"We work virtually everywhere"

Quantum GIS: http://qgis.org
-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-

From radim.blazek at gmail.com  Thu May 11 06:35:54 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] Canvas key press in plugins
Message-ID: <340505ef0605110335x7e8ef254md6c0e208a3abf4ec@mail.gmail.com>

Hi,
I wanted to recieve key press in QgsCanvas in QgsGrassEdit to enable
tools' shortcuts, but I found that calling
keyPressEvent(QKeyEvent *e) in QgsGrassEdit has no efect
do you have idea why?

For now I implemented QgsGrassEdit::keyPress(QKeyEvent *e)
with switch which is not optimal because shortcuts are
defined in 2 places (actions and keyPress() ).

Another problem is that QgsGrassEdit is using function keys
(which can be easily located IMO) but QGIS is using F1
already for help. What to do? I understand that F1 for help
is standard but it would be useful to have it assigned to
digit tool.

Radim

From tim at linfiniti.com  Thu May 11 07:07:17 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:50 2008
Subject: [Qgis-developer] xcompile grass error?
Message-ID: <e3e612a60605110407m7314e639h390198fe6a0add58@mail.gmail.com>

Hi Radim

When doing winmake install for GRASS I get:

sed 's#'/home/user/win/source/grass6/dist.i586-pc-mingw32msvc'#'/home/user/win/i586-mingw32msvc/grass-6.1.cvs'#g'
/home/user/win/source/grass6/dist.i586-pc-mingw32msvc/etc/monitorcap >
/home/user/win/i586-mingw32msvc/grass-6.1.cvs/etc/monitorcap
sed: can't read
/home/user/win/source/grass6/dist.i586-pc-mingw32msvc/etc/monitorcap:
No such file or directory
make[1]: [real-install] Error 2 (ignored)
chmod -R a+rX /home/user/win/i586-mingw32msvc/grass-6.1.cvs 2>/dev/null
make[1]: Leaving directory `/home/user/win/source/grass6'

Is that monitorcap error anything to worry about?

Regards

-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Thu May 11 07:09:59 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] xcompile one more grass Q
Message-ID: <e3e612a60605110409k1fdfc7a1w48a1d504c350bbe4@mail.gmail.com>

Hi

Also can you clarify what I should be doing here:

"Copy grass6/dist.$ARCH/docs/html from Linux version to Windows version"

Thanks

-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From radim.blazek at gmail.com  Thu May 11 07:12:14 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] xcompile grass error?
In-Reply-To: <e3e612a60605110407m7314e639h390198fe6a0add58@mail.gmail.com>
References: <e3e612a60605110407m7314e639h390198fe6a0add58@mail.gmail.com>
Message-ID: <340505ef0605110412y1efa9122v141f833025d03965@mail.gmail.com>

On 5/11/06, Tim Sutton <tim@linfiniti.com> wrote:
> Hi Radim
>
> When doing winmake install for GRASS I get:
>
> sed 's#'/home/user/win/source/grass6/dist.i586-pc-mingw32msvc'#'/home/user/win/i586-mingw32msvc/grass-6.1.cvs'#g'
> /home/user/win/source/grass6/dist.i586-pc-mingw32msvc/etc/monitorcap >
> /home/user/win/i586-mingw32msvc/grass-6.1.cvs/etc/monitorcap
> sed: can't read
> /home/user/win/source/grass6/dist.i586-pc-mingw32msvc/etc/monitorcap:
> No such file or directory
> make[1]: [real-install] Error 2 (ignored)
> chmod -R a+rX /home/user/win/i586-mingw32msvc/grass-6.1.cvs 2>/dev/null
> make[1]: Leaving directory `/home/user/win/source/grass6'
>
> Is that monitorcap error anything to worry about?

Not at all. It is list of monitors but display system does not
compile on Windows. You can forget about it.

Radim

> Regards
>
> --
> Tim Sutton
>
> Visit http://qgis.org for a great Open Source GIS
> Skype: timlinux
> MSN: tim_bdworld@msn.com
> Yahoo: tim_bdworld@yahoo.com
> Jabber: timlinux
> Irc: timlinux on #qgis at freenode.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From radim.blazek at gmail.com  Thu May 11 07:14:55 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] xcompile one more grass Q
In-Reply-To: <e3e612a60605110409k1fdfc7a1w48a1d504c350bbe4@mail.gmail.com>
References: <e3e612a60605110409k1fdfc7a1w48a1d504c350bbe4@mail.gmail.com>
Message-ID: <340505ef0605110414y3bae69fbu8553907dd50ae56e@mail.gmail.com>

On 5/11/06, Tim Sutton <tim@linfiniti.com> wrote:
> Hi
>
> Also can you clarify what I should be doing here:
>
> "Copy grass6/dist.$ARCH/docs/html from Linux version to Windows version"

GRASS manual pages are generated automaticaly running grass modules.
That obviously does not work with crosscompiler so it is necessary
to use manual pages generated on linux (GRASS compiled for linux).

Radim

> Thanks
>
> --
> Tim Sutton
>
> Visit http://qgis.org for a great Open Source GIS
> Skype: timlinux
> MSN: tim_bdworld@msn.com
> Yahoo: tim_bdworld@yahoo.com
> Jabber: timlinux
> Irc: timlinux on #qgis at freenode.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From quick.nitin at gmail.com  Thu May 11 09:03:27 2006
From: quick.nitin at gmail.com (nitin quick)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] plotting points on qgis canvas
Message-ID: <39f4276e0605110603t5021533eoe484e181c11140d7@mail.gmail.com>

thanks marco and martin,
Currently i am focussing on plotting some point( currently not vector data
but it may have some relation to map projection).Currently i am focussing on
statically binding these points in code but later it may come from some
other process or thread through some IPC. I want to keep gui interactive
while plotting these points.

I am trying to exploit acetate layer objects .I tried to install
qt4.1.2(downloaded from trolltech) on my FC4 but it ends up in error
saying
owership rights not resolved and unable to form symbolic link for many
files. Thats why i am currently trying on qt0.7.4 only.
Also i am facing difficulty in adding a menu to menu bar , it says slot
(name of slot correspondent to signal) not found. I did the same in
qgisappbase.uic.in and .cpp as was for other menu items. Do i ned to edit
qgisappbase.ui file with qt designer. I tried to change the defination of
one of the slots but it end up in nothing.

regards
nitin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20060511/7ce95a9c/attachment.html
From quick.nitin at gmail.com  Thu May 11 09:54:42 2006
From: quick.nitin at gmail.com (nitin quick)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] compiling in debugging mode
Message-ID: <39f4276e0605110654p157ef2e6o669e5fb5fefb456d@mail.gmail.com>

i also want to know how i can compile qgis in debugging mode. With normal
installtion step says debugging support is not on.
currently to make any change and compile it again takes good amount of time.

Is there one single storage for allmailing list where i can search for
question which someone might had already asked

nitin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20060511/cad7ceb6/attachment.html
From tim at linfiniti.com  Thu May 11 10:37:57 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] compiling in debugging mode
In-Reply-To: <39f4276e0605110654p157ef2e6o669e5fb5fefb456d@mail.gmail.com>
References: <39f4276e0605110654p157ef2e6o669e5fb5fefb456d@mail.gmail.com>
Message-ID: <e3e612a60605110737t36c139aay149ecbb3c82f262d@mail.gmail.com>

Hi

./configure --enable-debug

Note that debug option is only used to enable qgis std out style debug
messages - use your standard compiler options to enable debug symbols
for interactive debugging.

Regards

Tim

On 5/11/06, nitin quick <quick.nitin@gmail.com> wrote:
> i also want to know how i can compile qgis in debugging mode. With normal
> installtion step says debugging support is not on.
> currently to make any change and compile it again takes good amount of time.
> Is there one single storage for allmailing list where i can search for
> question which someone might had already asked
>
> nitin
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
>


-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From radim.blazek at gmail.com  Thu May 11 11:21:10 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Qt::Dialog instead of Qt::Tool
Message-ID: <340505ef0605110821s2de4f232ha584d2ac400d1862@mail.gmail.com>

Hi,
I have changed QgsIdentifyResults to Qt::Dialog from Qt::Tool because

1) Qt::Tool on X11 disappears when cursor is moved outside main window
(unpleasant; impossible to close the window once moved outside main;
impossible to view results scrolling in another application, ...)

2) Qt::Tool on Windows cannot be resized

Qt::Dialog works well on Linux and Windows but I cannot test Mac.
If there are no objections I'll change also  QgsMeasure.

Radim

From radim.blazek at gmail.com  Thu May 11 12:00:36 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Selection color
Message-ID: <340505ef0605110900v3a42cdf8n9527735e5fdd3a43@mail.gmail.com>

Hi.
It seems that QgsRenderer::initialiseSelectionColor() is never called
and selection color is always white.

Radim

From radim.blazek at gmail.com  Thu May 11 12:09:59 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Re: Selection color
In-Reply-To: <340505ef0605110900v3a42cdf8n9527735e5fdd3a43@mail.gmail.com>
References: <340505ef0605110900v3a42cdf8n9527735e5fdd3a43@mail.gmail.com>
Message-ID: <340505ef0605110909i7dbadad3j6ef65d2e91ee8155@mail.gmail.com>

No sorry, it works.
I was changing qgis selection color instead of project.

Radim

On 5/11/06, Radim Blazek <radim.blazek@gmail.com> wrote:
> Hi.
> It seems that QgsRenderer::initialiseSelectionColor() is never called
> and selection color is always white.
>
> Radim
>

From radim.blazek at gmail.com  Thu May 11 12:16:02 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Remove fetures from current selection
Message-ID: <340505ef0605110916s1be1424cv324a60d02b0eb761@mail.gmail.com>

Hi,
it is not possible to remove features from selection set with Ctrl pressed.
(selected is removed, not selected added).
It is only possible to add new elements. It was possible in 0.7.
Do you have an idea where to fix that?

Radim

From tim at linfiniti.com  Thu May 11 17:43:06 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Qt 4.X
In-Reply-To: <f432725e0605101202p44c4f602m5bf20e4a2d28252e@mail.gmail.com>
References: <f432725e0605100656l1dddb1d7l80b62aee1a92df78@mail.gmail.com>
	<e3e612a60605100701o23b5cad5l6112d8de61b755be@mail.gmail.com>
	<f432725e0605100739r8cee23p707c0b088d3cbdde@mail.gmail.com>
	<e3e612a60605100751u1f7342e6q72bea6fc6008922d@mail.gmail.com>
	<f432725e0605101202p44c4f602m5bf20e4a2d28252e@mail.gmail.com>
Message-ID: <e3e612a60605111443y5ee5d144h1a77272ac5c572f6@mail.gmail.com>

Hi

Your system seems to have an old version of Qt on it as well

Can you paste the result of:

rpm -qa |grep qt

How did you install Qt? From source or rpm?

Regards

Tim

On 5/10/06, Prashanth Chintamaneni <pchintamaneni@gmail.com> wrote:
> I have downloaded and installed QT3.3.6. Configuration was ok but when
> I build it this is error that I am getting
>
> uic: File generated with too recent version of Qt Designer (3.3 vs. 3.1.2)
> make[2]: *** [qgsmapserverexportbase.uic.h] Error 1
>
> Thanks,
> Prasanth.
>
> On 5/10/06, Tim Sutton <tim@linfiniti.com> wrote:
> > Hi
> >
> > QGIS 0.7.4 requires Qt 3.x not Qt4.x
> >
> > Regards
> >
> > Tim
> >
> > On 5/10/06, Prashanth Chintamaneni <pchintamaneni@gmail.com> wrote:
> > > hi,
> > > qgis-0.7.4, from source, I installed qt4.x to a directory name QT4.
> > > the operating system is SUSE Linux 9. i have added the qtdir to the
> > > configure options. It is not able to find the library files "error:
> > > *** Couldn't find any Qt libraries in /store/home/prasanth/QT4/lib".
> > > But I have all the files in there???
> > >
> > > Thank you,
> > > Prasanth.
> > >
> > >
> > > On 5/10/06, Tim Sutton <tim@linfiniti.com> wrote:
> > > > Hi
> > > >
> > > > Can you give more information please?
> > > >
> > > > Which version of QGIS?
> > > > Where did you install qt4.x to?
> > > > How did you install it (from package or source)?
> > > > What OS  and or distro are you using?
> > > >
> > > > Not knowing any of these answers I can take a stab in the dark anywy
> > > > and suggest you set the QTDIR environment variable appropriately and
> > > > then add the qtdir to the configure options. e.g. (on my Ubuntu Dapper
> > > > system with Qt installed from package):
> > > >
> > > > export QTDIR=/usr
> > > > ./autogen.sh $AUTOGEN_FLAGS --prefix=/usr  --with-qtdir=$QTDIR
> > > >
> > > > Hope that helps...
> > > >
> > > > Tim
> > > >
> > > >
> > > > On 5/10/06, Prashanth Chintamaneni <pchintamaneni@gmail.com> wrote:
> > > > > Hello,
> > > > > I am trying to install QT4.1.2. I think I installed it right. The qgis
> > > > > installation cannot find libqt.so? Is there any modification that I
> > > > > need to make to the configure script?
> > > > >
> > > > > Thank you,
> > > > > Prasanth.
> > > > > _______________________________________________
> > > > > Qgis-developer mailing list
> > > > > Qgis-developer@lists.qgis.org
> > > > > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> > > > >
> > > >
> > > >
> > > > --
> > > > Tim Sutton
> > > >
> > > > Visit http://qgis.org for a great Open Source GIS
> > > > Skype: timlinux
> > > > MSN: tim_bdworld@msn.com
> > > > Yahoo: tim_bdworld@yahoo.com
> > > > Jabber: timlinux
> > > > Irc: timlinux on #qgis at freenode.net
> > > >
> > >
> >
> >
> > --
> > Tim Sutton
> >
> > Visit http://qgis.org for a great Open Source GIS
> > Skype: timlinux
> > MSN: tim_bdworld@msn.com
> > Yahoo: tim_bdworld@yahoo.com
> > Jabber: timlinux
> > Irc: timlinux on #qgis at freenode.net
> >
>


-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From tim at linfiniti.com  Thu May 11 18:16:56 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Qt 4.X
In-Reply-To: <f432725e0605111456y53e7e3f7r855d027063123cdc@mail.gmail.com>
References: <f432725e0605100656l1dddb1d7l80b62aee1a92df78@mail.gmail.com>
	<e3e612a60605100701o23b5cad5l6112d8de61b755be@mail.gmail.com>
	<f432725e0605100739r8cee23p707c0b088d3cbdde@mail.gmail.com>
	<e3e612a60605100751u1f7342e6q72bea6fc6008922d@mail.gmail.com>
	<f432725e0605101202p44c4f602m5bf20e4a2d28252e@mail.gmail.com>
	<e3e612a60605111443y5ee5d144h1a77272ac5c572f6@mail.gmail.com>
	<f432725e0605111456y53e7e3f7r855d027063123cdc@mail.gmail.com>
Message-ID: <e3e612a60605111516x160f0f3eu106bc72b0d8e7e20@mail.gmail.com>

Hi

Ok good - please keep this on list so others can benifit if they run
into similar issues....



Regards

Tim

On 5/11/06, Prashanth Chintamaneni <pchintamaneni@gmail.com> wrote:
> Tim,
> I got over that issue but now I am getting some compilation errors. I
> will send you the result.
>
> Thanks,
> Prasanth.
>
> On 5/11/06, Tim Sutton <tim@linfiniti.com> wrote:
> > Hi
> >
> > Your system seems to have an old version of Qt on it as well
> >
> > Can you paste the result of:
> >
> > rpm -qa |grep qt
> >
> > How did you install Qt? From source or rpm?
> >
> > Regards
> >
> > Tim
> >
> > On 5/10/06, Prashanth Chintamaneni <pchintamaneni@gmail.com> wrote:
> > > I have downloaded and installed QT3.3.6. Configuration was ok but when
> > > I build it this is error that I am getting
> > >
> > > uic: File generated with too recent version of Qt Designer (3.3 vs. 3.1.2)
> > > make[2]: *** [qgsmapserverexportbase.uic.h] Error 1
> > >
> > > Thanks,
> > > Prasanth.
> > >
> > > On 5/10/06, Tim Sutton <tim@linfiniti.com> wrote:
> > > > Hi
> > > >
> > > > QGIS 0.7.4 requires Qt 3.x not Qt4.x
> > > >
> > > > Regards
> > > >
> > > > Tim
> > > >
> > > > On 5/10/06, Prashanth Chintamaneni <pchintamaneni@gmail.com> wrote:
> > > > > hi,
> > > > > qgis-0.7.4, from source, I installed qt4.x to a directory name QT4.
> > > > > the operating system is SUSE Linux 9. i have added the qtdir to the
> > > > > configure options. It is not able to find the library files "error:
> > > > > *** Couldn't find any Qt libraries in /store/home/prasanth/QT4/lib".
> > > > > But I have all the files in there???
> > > > >
> > > > > Thank you,
> > > > > Prasanth.
> > > > >
> > > > >
> > > > > On 5/10/06, Tim Sutton <tim@linfiniti.com> wrote:
> > > > > > Hi
> > > > > >
> > > > > > Can you give more information please?
> > > > > >
> > > > > > Which version of QGIS?
> > > > > > Where did you install qt4.x to?
> > > > > > How did you install it (from package or source)?
> > > > > > What OS  and or distro are you using?
> > > > > >
> > > > > > Not knowing any of these answers I can take a stab in the dark anywy
> > > > > > and suggest you set the QTDIR environment variable appropriately and
> > > > > > then add the qtdir to the configure options. e.g. (on my Ubuntu Dapper
> > > > > > system with Qt installed from package):
> > > > > >
> > > > > > export QTDIR=/usr
> > > > > > ./autogen.sh $AUTOGEN_FLAGS --prefix=/usr  --with-qtdir=$QTDIR
> > > > > >
> > > > > > Hope that helps...
> > > > > >
> > > > > > Tim
> > > > > >
> > > > > >
> > > > > > On 5/10/06, Prashanth Chintamaneni <pchintamaneni@gmail.com> wrote:
> > > > > > > Hello,
> > > > > > > I am trying to install QT4.1.2. I think I installed it right. The qgis
> > > > > > > installation cannot find libqt.so? Is there any modification that I
> > > > > > > need to make to the configure script?
> > > > > > >
> > > > > > > Thank you,
> > > > > > > Prasanth.
> > > > > > > _______________________________________________
> > > > > > > Qgis-developer mailing list
> > > > > > > Qgis-developer@lists.qgis.org
> > > > > > > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> > > > > > >
> > > > > >
> > > > > >
> > > > > > --
> > > > > > Tim Sutton
> > > > > >
> > > > > > Visit http://qgis.org for a great Open Source GIS
> > > > > > Skype: timlinux
> > > > > > MSN: tim_bdworld@msn.com
> > > > > > Yahoo: tim_bdworld@yahoo.com
> > > > > > Jabber: timlinux
> > > > > > Irc: timlinux on #qgis at freenode.net
> > > > > >
> > > > >
> > > >
> > > >
> > > > --
> > > > Tim Sutton
> > > >
> > > > Visit http://qgis.org for a great Open Source GIS
> > > > Skype: timlinux
> > > > MSN: tim_bdworld@msn.com
> > > > Yahoo: tim_bdworld@yahoo.com
> > > > Jabber: timlinux
> > > > Irc: timlinux on #qgis at freenode.net
> > > >
> > >
> >
> >
> > --
> > Tim Sutton
> >
> > Visit http://qgis.org for a great Open Source GIS
> > Skype: timlinux
> > MSN: tim_bdworld@msn.com
> > Yahoo: tim_bdworld@yahoo.com
> > Jabber: timlinux
> > Irc: timlinux on #qgis at freenode.net
> >
>


-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From telwertowski at comcast.net  Thu May 11 23:56:50 2006
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Qt::Dialog instead of Qt::Tool
In-Reply-To: <340505ef0605110821s2de4f232ha584d2ac400d1862@mail.gmail.com>
References: <340505ef0605110821s2de4f232ha584d2ac400d1862@mail.gmail.com>
Message-ID: <44640782.1020203@comcast.net>

I'm in favor of this change; the behavior is similar on a Mac. A tool 
window is supposed to hide itself when switching applications and is 
usually used for tool palettes.

However, I prefer that that the change from QWidget to QDialog be made 
in the .ui files rather than changing it at runtime. This prevents 
future readers of the code from wondering why it's created one way and 
used another way.

I can do this for both classes if you prefer.

Tom

Radim Blazek wrote:
> Hi,
> I have changed QgsIdentifyResults to Qt::Dialog from Qt::Tool because
> 
> 1) Qt::Tool on X11 disappears when cursor is moved outside main window
> (unpleasant; impossible to close the window once moved outside main;
> impossible to view results scrolling in another application, ...)
> 
> 2) Qt::Tool on Windows cannot be resized
> 
> Qt::Dialog works well on Linux and Windows but I cannot test Mac.
> If there are no objections I'll change also  QgsMeasure.
> 
> Radim

From quick.nitin at gmail.com  Fri May 12 02:48:42 2006
From: quick.nitin at gmail.com (nitin quick)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] drawing of points on canvas after a time period
Message-ID: <39f4276e0605112348w5fb3c90erd9a7468209a166a6@mail.gmail.com>

hello everybody,
here is a piece o code i am presenting for help. It is supposed to put
points on canvas after a interval. Co-ordinate point are store in a 2d
matrix a[][].canvas is object refrence to QCanvas class .
void addPoint()
{
 QPixmap bck=canvas.backGround();
 QPixmap *tpix=new QPixmap(canvas.width(),canvas.height());
 QPainter p;
 QRect r(0,0,canvas.width(),canvas.height());
 QPoint pt(0,0);
 p.begin(tpix);
for (int i=0; i<10;i++)
for(int j=0; j<10; j++)
{
 p.fillRect(0,0,canvas.width(),canvas.height(),Qt::white);
 p.setPen(Qt::red);
 p.drawEllipse(a[i][j],a[i][j],3,3);
 bitblt(&bck,pt,tpix,r,Qt::AndROP);
 canvas.setBackGround(bck);
 sleep(1);
}
p.end;
}


but this code is printing line in one go only after waiting for some time.
What iwant is i can view plotting of each point aftera interval( here i put
1 in sleep) ;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20060512/c4eb4297/attachment.html
From marco.hugentobler at karto.baug.ethz.ch  Sun May 14 02:12:25 2006
From: marco.hugentobler at karto.baug.ethz.ch (humarco)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] petition for cheaper or free geodata in Europe
Message-ID: <200605140812.25319.marco.hugentobler@karto.baug.ethz.ch>

Dear gis users and developers,

There is a petition for cheaper or free geodata in Europe. If you agree with
this, please sign this petition to increase pressure on politicians.

 http://www.okfn.org/geo/

follow the link 'Sign the manifesto'

Marco

-------------------------------------------------------

From wonder.sk at gmail.com  Mon May 15 09:07:44 2006
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] General questions & multiple map canvases
In-Reply-To: <200605090818.20668.marco.hugentobler@karto.baug.ethz.ch>
References: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
	<200605071118.16930.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0605080633i6e75df9ra1a73b878f91ae4@mail.gmail.com>
	<200605090818.20668.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <e8e7199c0605150607m5fc2e09do7bf23bad51f61f81@mail.gmail.com>

On 5/9/06, humarco <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi Martin,
>
> > Hi,
> >
> > I see one more possible direction which is the mix of the two you mention:
> >
> > 3. different views to the same project, but canvas can have different
> > layer set, symbology, CRS and legend.
>
> So in the project file, there would be something like a <view> tag?

First sorry for being inactive those N days without my reply to the mails....

Yes, something like this, e.g.:
<view>
  <layerset> ... list of layers ... </layerset>
  <canvas>  ... canvas properties ... </canvas>
  <legend> ... legend properties ... </legend>
</view>

> > > > Each canvas should have its own legend instance. We should swap out th
> > > > elegend control with which ever canvase is currently in focus.
>
> One legend per canvas is reasonable. Serialising and swapping legend settings
> would be to much overhead.
> For third party apps, a legend interface would be good (as suggested by larsl
> on IRC).

The question is if such legend interface will be used then how should
it look like - what functionality will be mandatory, which optional...

Essential question is how to interact between map canvas and legend -
i.e. whether every map canvas must have its legend (even if legend
isn't a widget, just a class derived from the legend iface) or map
canvas will work without interfacing the legend.

Martin

>
> Marco
>

From wonder.sk at gmail.com  Mon May 15 09:20:03 2006
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] General questions & multiple map canvases
In-Reply-To: <340505ef0605090127j63b6e1f7o522420eee1ec8628@mail.gmail.com>
References: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
	<e3e612a60605051544k73b1aa62r424de80be2487ce3@mail.gmail.com>
	<e8e7199c0605080617k926406ckc27259e4174e80b7@mail.gmail.com>
	<340505ef0605090127j63b6e1f7o522420eee1ec8628@mail.gmail.com>
Message-ID: <e8e7199c0605150620i6880df8ak162086ea21a36916@mail.gmail.com>

On 5/9/06, Radim Blazek <radim.blazek@gmail.com> wrote:
> Hi Martin,
>
> what about stable release? Don you want to skip 0.8?
> Could we leave this until 0.8 release? I know that debugging
> is boring but there is no other way.

As Tim has already explained, all this stuff is post 0.8 release.

>
> On 5/8/06, Martin Dobias <wonder.sk@gmail.com> wrote:
> > Two possibilities how to deal with using the same layer in more canvases:
> > - enable sharing of layers between layer sets with reference counting
> > - disable sharing of layers, allow cloning of layers
>
> I think that layers (as data sources) should be shared over application.
>

Right, layers should be considered as data sources and thus when
they're being edited it's better to share them to display them in the
same state for all map canvases. Also we will need a mechanism which
will try to detect if the same layer is being loaded another time and
not to create another copy of the data source but to use a copy
already being used.

> > Currently I'm in favour of cloning instead of sharing them, because
> > IMO it's more straightforward to use, moreover the shared layers would
> > need to have same properties in the map canvases (renderer, symbology,
> > transparency...)
>
> We should separate layer-data and its symbology maybe?

Separating layer data from its symbology seems to be the right
direction and think of QgsMapLayer as being a only data source,
providing symbology information to map renderer separately.

> But what about selection set and query?

Where do you see problems in these features? You mean that every map
canvas should allow select anouther set of features?


Martin

>
>
> Well I don't have capacity to think about this very complex problem
> as there are milions of things to do for 0.8, so if you want my
> reasonable oppinion wait until 0.8 is out.
>
> Radim
>

From wonder.sk at gmail.com  Mon May 15 09:26:03 2006
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] rendering objects on canvas
In-Reply-To: <200605101401.29743.marco.hugentobler@karto.baug.ethz.ch>
References: <39f4276e0605100342u5a21af83v72448d6f17d988bc@mail.gmail.com>
	<200605101401.29743.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <e8e7199c0605150626i333d4782seecb0ae99c72f4dd@mail.gmail.com>

On 5/10/06, humarco <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi Nitin,
>
> It is not clear to me what exactly you are programming. Are the objects you
> are creating vector features (in the gis sense with geometry/attributes)? If
> no, then i wouldn't create a renderer for it. Renderers symbolize features
> according to feature attributes. Using canvas items (as Martin described in
> his mail) would be the mechanism for your purpose. Martin, is there a way to
> group different items to something like a layer?

Grouping map canvas items is left to the developer... I don't know if
it makes sense to create such functionality as it's not really a big
great deal to store the items in any kind of container...

Martin

>
> Marco
>
>
> Am Mittwoch 10 Mai 2006 12:42 schrieb nitin quick:
> > Hello developers,
> > I am currently trying to code a module which will put some primitives or
> > object on qgis canvas irrespective of map. Lets  assume i have a algo
> > generating some points  and now i want to plot these points on canvas with
> > background of my map.Basic Operations like zooming , panning etc. should
> > still work while algo may be generating hese points after some unknoown
> > interval.
> > Problem is these object directly relates to acetate layer so one way is to
> > use acetate object hierarchy. But i couldn't found anyoone of renderer
> > class supporting it in code.
> > Other class relating to my problem is QgsSymbol which let me associate a
> > picture to co-ordinate. But same thing here i couldn't find any renedere
> > class supporting it directly.
> > I am thinking of deriving one clss from one of rendere classes but i
> > couldn't decide which one to use. I am not completely clear about
> > QgsSiMaRendere, QgsGraduatedMarendere, QgsUValMaRenderer classes.
> > Also say if i donot want a map in backgrond , just want to plot these
> > points or objects and later i may add.. etc etc.
> >
> > Any help in this regard will be appreciabe and will save me good amount of
> > time in prototyping.
> > cya
> > nitin quick
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From wonder.sk at gmail.com  Mon May 15 09:34:50 2006
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Canvas key press in plugins
In-Reply-To: <340505ef0605110335x7e8ef254md6c0e208a3abf4ec@mail.gmail.com>
References: <340505ef0605110335x7e8ef254md6c0e208a3abf4ec@mail.gmail.com>
Message-ID: <e8e7199c0605150634y1ee37a6wfedbf30b9729062a@mail.gmail.com>

On 5/11/06, Radim Blazek <radim.blazek@gmail.com> wrote:
> Hi,
> I wanted to recieve key press in QgsCanvas in QgsGrassEdit to enable
> tools' shortcuts, but I found that calling
> keyPressEvent(QKeyEvent *e) in QgsGrassEdit has no efect
> do you have idea why?

Hi Radim,

in interface for map canvas tools (QgsMapTool) there are currently
only events for mouse, not for keys, because keys weren't used
directly in any map tools. But feel free to add key events to the
interface... The question is whether tools should override default map
canvas keys handling or should be used only if default key bindings
were not catched. IIRC currently only arrow keys and space are being
used in map canvas.

>
> For now I implemented QgsGrassEdit::keyPress(QKeyEvent *e)
> with switch which is not optimal because shortcuts are
> defined in 2 places (actions and keyPress() ).
>
> Another problem is that QgsGrassEdit is using function keys
> (which can be easily located IMO) but QGIS is using F1
> already for help. What to do? I understand that F1 for help
> is standard but it would be useful to have it assigned to
> digit tool.

Don't know what to do with this, but IMHO I would prefer the way of
least surprise for new users - to leave F1 for help... why not to use
e.g. number keys under Fx keys?

Martin

>
> Radim
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From wonder.sk at gmail.com  Mon May 15 09:40:49 2006
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Re: plotting points on qgis canvas
In-Reply-To: <39f4276e0605110603t5021533eoe484e181c11140d7@mail.gmail.com>
References: <39f4276e0605110603t5021533eoe484e181c11140d7@mail.gmail.com>
Message-ID: <e8e7199c0605150640k4beef061u71649b748c19a75a@mail.gmail.com>

On 5/11/06, nitin quick <quick.nitin@gmail.com> wrote:
> thanks marco and martin,
> Currently i am focussing on plotting some point( currently not vector data
> but it may have some relation to map projection).Currently i am focussing on
> statically binding these points in code but later it may come from some
> other process or thread through some IPC. I want to keep gui interactive
> while plotting these points.
>
> I am trying to exploit acetate layer objects .I tried to install qt4.1.2
> (downloaded from trolltech) on my FC4 but it ends up in error saying
> owership rights not resolved and unable to form symbolic link for many
> files. Thats why i am currently trying on qt0.7.4 only.

Acetate layer and its object have the problem that the map must be
re-rendered every time they're changed, because they're drawn directly
to the map image and not only on top of it.

Please post your problems with Qt4 installation here, maybe someone
could help you.

> Also i am facing difficulty in adding a menu to menu bar , it says slot
> (name of slot correspondent to signal) not found. I did the same in
> qgisappbase.uic.in and .cpp as was for other menu items. Do i ned to edit
> qgisappbase.ui file with qt designer. I tried to change the defination of
> one of the slots but it end up in nothing.

You should be able to use QgisIface from plugins, there are functions
to add and remove menu items for usage by plugins.

Martin

>
> regards
> nitin
>
>

From wonder.sk at gmail.com  Mon May 15 09:48:00 2006
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] drawing of points on canvas after a time period
In-Reply-To: <39f4276e0605112348w5fb3c90erd9a7468209a166a6@mail.gmail.com>
References: <39f4276e0605112348w5fb3c90erd9a7468209a166a6@mail.gmail.com>
Message-ID: <e8e7199c0605150648u669efa03wb20a55694cc720f1@mail.gmail.com>

On 5/12/06, nitin quick <quick.nitin@gmail.com> wrote:
> hello everybody,
> here is a piece o code i am presenting for help. It is supposed to put
> points on canvas after a interval. Co-ordinate point are store in a 2d
> matrix a[][].canvas is object refrence to QCanvas class .
>  void addPoint()
> {
>  QPixmap bck=canvas.backGround();
>  QPixmap *tpix=new QPixmap(canvas.width(),canvas.height());
>  QPainter p;
>  QRect r(0,0,canvas.width(),canvas.height());
>  QPoint pt(0,0);
>  p.begin(tpix);
> for (int i=0; i<10;i++)
> for(int j=0; j<10; j++)
> {
>  p.fillRect(0,0,canvas.width(),canvas.height(),Qt::white);
>  p.setPen(Qt::red);
>  p.drawEllipse(a[i][j],a[i][j],3,3);
>  bitblt(&bck,pt,tpix,r,Qt::AndROP);
>  canvas.setBackGround(bck);
>  sleep(1);
> }
> p.end;
> }
>
>
> but this code is printing line in one go only after waiting for some time.
> What iwant is i can view plotting of each point aftera interval( here i put
> 1 in sleep) ;

Hi,
do you have still problem with this? Probably Qt-interest is a better
list to seek help on this topic...

Bye,
Martin

>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
>
>

From marco.hugentobler at karto.baug.ethz.ch  Mon May 15 10:24:56 2006
From: marco.hugentobler at karto.baug.ethz.ch (humarco)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] General questions & multiple map canvases
In-Reply-To: <e8e7199c0605150607m5fc2e09do7bf23bad51f61f81@mail.gmail.com>
References: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
	<200605090818.20668.marco.hugentobler@karto.baug.ethz.ch>
	<e8e7199c0605150607m5fc2e09do7bf23bad51f61f81@mail.gmail.com>
Message-ID: <200605151624.56849.marco.hugentobler@karto.baug.ethz.ch>


> > > > > Each canvas should have its own legend instance. We should swap out
> > > > > th elegend control with which ever canvase is currently in focus.
> >
> > One legend per canvas is reasonable. Serialising and swapping legend
> > settings would be to much overhead.
> > For third party apps, a legend interface would be good (as suggested by
> > larsl on IRC).
>
> The question is if such legend interface will be used then how should
> it look like - what functionality will be mandatory, which optional...

Yes, difficult design questions.

> Essential question is how to interact between map canvas and legend -
> i.e. whether every map canvas must have its legend (even if legend
> isn't a widget, just a class derived from the legend iface) or map
> canvas will work without interfacing the legend.

Ideally it would test if legend object is a 0 pointer and work without it. But 
i think currently the legend controls the canvas so i don't know how easy the 
separation is in practice.


> Martin
>
> > Marco
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

From radim.blazek at gmail.com  Tue May 16 03:17:46 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Canvas key press in plugins
In-Reply-To: <e8e7199c0605150634y1ee37a6wfedbf30b9729062a@mail.gmail.com>
References: <340505ef0605110335x7e8ef254md6c0e208a3abf4ec@mail.gmail.com>
	<e8e7199c0605150634y1ee37a6wfedbf30b9729062a@mail.gmail.com>
Message-ID: <340505ef0605160017u36c6be6dxb788ee961749c46d@mail.gmail.com>

On 5/15/06, Martin Dobias <wonder.sk@gmail.com> wrote:
> On 5/11/06, Radim Blazek <radim.blazek@gmail.com> wrote:
> > Hi,
> > I wanted to recieve key press in QgsCanvas in QgsGrassEdit to enable
> > tools' shortcuts, but I found that calling
> > keyPressEvent(QKeyEvent *e) in QgsGrassEdit has no efect
> > do you have idea why?
>
> Hi Radim,
>
> in interface for map canvas tools (QgsMapTool) there are currently
> only events for mouse, not for keys, because keys weren't used
> directly in any map tools. But feel free to add key events to the
> interface... The question is whether tools should override default map
> canvas keys handling or should be used only if default key bindings
> were not catched. IIRC currently only arrow keys and space are being
> used in map canvas.

But it may be that the plugin does not use QgsMapTool at all or
no QgsMapTool is active in at moment.

> > For now I implemented QgsGrassEdit::keyPress(QKeyEvent *e)
> > with switch which is not optimal because shortcuts are
> > defined in 2 places (actions and keyPress() ).
> >
> > Another problem is that QgsGrassEdit is using function keys
> > (which can be easily located IMO) but QGIS is using F1
> > already for help. What to do? I understand that F1 for help
> > is standard but it would be useful to have it assigned to
> > digit tool.
>
> Don't know what to do with this, but IMHO I would prefer the way of
> least surprise for new users - to leave F1 for help... why not to use
> e.g. number keys under Fx keys?

There are no spaces between number keys, function keys are divided
in 4 groups, so it is very easy to find the right key.
It would be probably possible to use first few number keys but
then it is necessary to move hand to press a function key.


Radim


> Martin
>
> >
> > Radim
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> >
>

From radim.blazek at gmail.com  Tue May 16 03:29:43 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] General questions & multiple map canvases
In-Reply-To: <e8e7199c0605150620i6880df8ak162086ea21a36916@mail.gmail.com>
References: <e8e7199c0605051132o74fadf19x86fb6b4f8b07aebf@mail.gmail.com>
	<e3e612a60605051544k73b1aa62r424de80be2487ce3@mail.gmail.com>
	<e8e7199c0605080617k926406ckc27259e4174e80b7@mail.gmail.com>
	<340505ef0605090127j63b6e1f7o522420eee1ec8628@mail.gmail.com>
	<e8e7199c0605150620i6880df8ak162086ea21a36916@mail.gmail.com>
Message-ID: <340505ef0605160029o7204a511wbbf4b0bb81aa7d5a@mail.gmail.com>

On 5/15/06, Martin Dobias <wonder.sk@gmail.com> wrote:
> > what about stable release? Don you want to skip 0.8?
> > Could we leave this until 0.8 release? I know that debugging
> > is boring but there is no other way.
>
> As Tim has already explained, all this stuff is post 0.8 release.

Yes, but working on new features reduces sources for stable release.

> Right, layers should be considered as data sources and thus when
> they're being edited it's better to share them to display them in the
> same state for all map canvases. Also we will need a mechanism which
> will try to detect if the same layer is being loaded another time and
> not to create another copy of the data source but to use a copy
> already being used.
>
> > We should separate layer-data and its symbology maybe?
>
> Separating layer data from its symbology seems to be the right
> direction and think of QgsMapLayer as being a only data source,
> providing symbology information to map renderer separately.
>
> > But what about selection set and query?
>
> Where do you see problems in these features? You mean that every map
> canvas should allow select anouther set of features?

No, but selection set must be separated from data source in the same
way as symbology.
The query (permanent SQL condition for one layer) should result in a
new data source?

Radim

From radim.blazek at gmail.com  Tue May 16 11:35:20 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Vector point symbols drawn as pixmap
Message-ID: <340505ef0605160835k29c78d37hbadc9c2f1a5235b9@mail.gmail.com>

I found that QgsVectorLayer::drawFeature is now
using drawPixmap() instead of drawPicture() so that the
vector icons are drawn as raster and the output printed to postscript
is useless.
That means it works worse then 0.7. IMO, developers should only
commit changes which don't break working features.
I also need to use QGIS for my work. I have developed something
in QGIS and now I cannot use it for my work because someone else
has 'improved' that.

Radim

From tim at linfiniti.com  Tue May 16 11:53:48 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Vector point symbols drawn as pixmap
In-Reply-To: <340505ef0605160835k29c78d37hbadc9c2f1a5235b9@mail.gmail.com>
References: <340505ef0605160835k29c78d37hbadc9c2f1a5235b9@mail.gmail.com>
Message-ID: <e3e612a60605160853r1cfae33dn7ad5f1757b7b2867@mail.gmail.com>

Hi

On 5/16/06, Radim Blazek <radim.blazek@gmail.com> wrote:
> I found that QgsVectorLayer::drawFeature is now
> using drawPixmap() instead of drawPicture() so that the
> vector icons are drawn as raster and the output printed to postscript
> is useless.

What is the actual issue with rendering as pixmap instead of picture?



-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From radim.blazek at gmail.com  Tue May 16 10:13:54 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Point shift in map composer
Message-ID: <340505ef0605160713j2f52db63w30386e607dbc5bec@mail.gmail.com>

Points in vectore layers in map composer are shifted.
Lines and polygons are correct and all vetor layers are printed by the
same draw() method. the shift depends on symbol scale.
It was working in 0.7.
Can you point me to changes in 0.8 which could cause this problem?

Radim

From radim.blazek at gmail.com  Tue May 16 12:19:20 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Vector point symbols drawn as pixmap
In-Reply-To: <e3e612a60605160853r1cfae33dn7ad5f1757b7b2867@mail.gmail.com>
References: <340505ef0605160835k29c78d37hbadc9c2f1a5235b9@mail.gmail.com>
	<e3e612a60605160853r1cfae33dn7ad5f1757b7b2867@mail.gmail.com>
Message-ID: <340505ef0605160919n6e9ec68as23f6fd54f08c4bf6@mail.gmail.com>

On 5/16/06, Tim Sutton <tim@linfiniti.com> wrote:
> Hi
>
> On 5/16/06, Radim Blazek <radim.blazek@gmail.com> wrote:
> > I found that QgsVectorLayer::drawFeature is now
> > using drawPixmap() instead of drawPicture() so that the
> > vector icons are drawn as raster and the output printed to postscript
> > is useless.
>
> What is the actual issue with rendering as pixmap instead of picture?

PS/PDF/SVG  are vector formats, they can be printed with any resolution
or displayed on screen on any zoom level. Obviously, each vector symbol
converted to raster will be displayed rasterized with insufficient resolution
which means in bad quality and the file can become very big.
I need to print maps on plotter in high quality tomorrow, do I need to use 0.7?
Create new project with all layers and symbology in 0.7?

Radim

>
>
> --
> Tim Sutton
>
> Visit http://qgis.org for a great Open Source GIS
> Skype: timlinux
> MSN: tim_bdworld@msn.com
> Yahoo: tim_bdworld@yahoo.com
> Jabber: timlinux
> Irc: timlinux on #qgis at freenode.net
>

From gavin at macaulay.co.nz  Tue May 16 16:32:34 2006
From: gavin at macaulay.co.nz (Gavin Macaulay)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Point shift in map composer
In-Reply-To: <340505ef0605160713j2f52db63w30386e607dbc5bec@mail.gmail.com>
References: <340505ef0605160713j2f52db63w30386e607dbc5bec@mail.gmail.com>
Message-ID: <446A36E2.2080802@macaulay.co.nz>

Radim,

The fix for ticket #86 (https://svn.qgis.org/trac/ticket/86), done in 
SVN revision 5448 (https://svn.qgis.org/trac/changeset/5448) is a recent 
commit that may have affected map composer, but as far as I was aware, 
that code that was changed only affected the legend, not the map itself.

You could try checking out revision 5447 to see if that resolves your 
problem.

Regards

Gavin

Radim Blazek wrote:
> Points in vectore layers in map composer are shifted.
> Lines and polygons are correct and all vetor layers are printed by the
> same draw() method. the shift depends on symbol scale.
> It was working in 0.7.
> Can you point me to changes in 0.8 which could cause this problem?
> 
> Radim
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

From tim at linfiniti.com  Wed May 17 07:46:28 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] CVS Issues
Message-ID: <e3e612a60605170446u5ab0c14ey3e6af4931e6d04ad@mail.gmail.com>

Hi

cvs update
ssh: connect to host cvs.sourceforge.net port 22: Connection timed out
cvs [update aborted]: end of file from server (consult above messages if any)

For the last couple of days now...does anyone else have these issues?

Regards

-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From mateusz at loskot.net  Wed May 17 07:58:54 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] CVS Issues
In-Reply-To: <e3e612a60605170446u5ab0c14ey3e6af4931e6d04ad@mail.gmail.com>
References: <e3e612a60605170446u5ab0c14ey3e6af4931e6d04ad@mail.gmail.com>
Message-ID: <446B0FFE.7020408@loskot.net>

Tim Sutton wrote:
> Hi
> 
> cvs update
> ssh: connect to host cvs.sourceforge.net port 22: Connection timed out
> cvs [update aborted]: end of file from server (consult above messages if
> any)
> 
> For the last couple of days now...does anyone else have these issues?

Tim,
SF.net has changed host names last week.
Here is the message I got from SF.net as a project admin:

=========================================================
Greetings,

You are receiving this mail because you are a project admin for
a SourceForge.net-hosted project. One of our primary services,
CVS, suffered a series of interrelated, critical hardware failures
in recent weeks. We understand how frustrating this CVS outage
must be to you and your users; however, our top priority remains
preservation of the integrity of your data.

The series of CVS hardware failures prompted us to expedite the
deployment of planed improvements to our CVS infrastructure,
drawing upon much of the knowledge that we gained from our
Subversion deployment. Our improved CVS service architecture,
which we plan to deploy tomorrow afternoon (2006-05-12), will
offer greater performance and stability and will eliminate several
single points of failure.

The Site Status page (https://www.sf.net/docs/A04) will be
updated as soon as the new infrastructure is rolled out. In the
interim, please read the important information provided below
to learn about how these changes will affect your project.


Summary of changes, effective 2006-05-12:


1. Hostname for CVS service

Old: cvs.sourceforge.net

New: PROJECT_UNIX_NAME.cvs.sourceforge.net

This change will require new working copies to be checked out of all
repositories (so control files in the working copy will point to the
right place). We will be updating the instructions we supply, but
instructions that your team has written within documentation, etc. will
need to be updated.

cvs -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/gaim co gaim

would be changed to

cvs -d:pserver:anonymous@gaim.cvs.sourceforge.net:/cvsroot/gaim co gaim



2. ViewCVS

We are moving from ViewCVS to its successor, ViewVC. ViewVC is
currently in use for our Subversion service.



3. Sync delay

Old: CVS pserver, tarballs and ViewCVS provided against a separate
server which is a minimum of three hours behind developer CVS.

New: ViewVC will be provided against developer CVS (it will be current).
CVS pserver will be provided against a secondary server (not developer
server) with a maximum expected delay of two hours.

Follow-up work is planned (this infrastructure takes us 80% of the way)
to essentially eliminate the sync delay.



4. Read-only rsync service

As a new service offering, we are now providing read-only rsync access
against developer CVS. This allows projects to efficiently make
on-demand backups of their entire CVS repository.

All projects should be making regular backups of their CVS repository
contents using this service.



5. Nightly tarball service

Nightly tarball service is being dropped in lieu of read-only rsync
service. Projects which currently depend on nightly tarballs for
repository backups will need to begin using rsync to make a backup copy
of their repository contents.

We see this as a major functional improvement. For a number of reasons,
tarballs have fallen out of sync with the data in the repository at
times in the past few years. Tarballs required a substantial amount of
additional disk, and I/O to generate. The move to read-only rsync
allows backups to be produced on-demand, with an update frequency chosen
by the project.



6. Points of failure

In the past, developer CVS service for all projects was provided from a
single host. CVS pserver service was provided from individual backend
heads based on a split of the data.

Under our new design, developer CVS and most of our CVS-related services
are provided from one of ten CVS hosts (count subject to increase with
growth). Each host is independent, and makes a backup copy of the
repository data of another host (which is used to provide the pserver
CVS service).

Failure of a single host will impact only the availability of data on
that host. Since the data is split among a larger number of hosts, the
size of data impacted by an individual host outage is substantially
smaller, and the time required for us to restore service will be
substantially shorter.

This rapid architecture change has been made possible specifically using
the research we performed for our recent launch of Subversion service.
We've applied our best practices, produced a substantial amount of
internal documentation, and kept an eye toward maintainability.
This effort has allowed us to deploy this new architecture quickly
once hardware was received, and will permit us to quickly scale
this service horizontally as growth and demand requires.



Many other minor improvements have also been made to improve the service
offering and make it less trouble-prone. The most important of which are
listed above. For a full description of the new service offering, and
for information on how to use the services described above, please refer
to the site documentation for the CVS service after the service has been
launched: https://www.sf.net/docs/E04


Thank you,

The SourceForge.net Team

.


-- 
Mateusz ?oskot
http://mateusz.loskot.net

From tim at linfiniti.com  Wed May 17 08:28:38 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] CVS Issues
In-Reply-To: <446B0FFE.7020408@loskot.net>
References: <e3e612a60605170446u5ab0c14ey3e6af4931e6d04ad@mail.gmail.com>
	<446B0FFE.7020408@loskot.net>
Message-ID: <e3e612a60605170528l47236b2fka7acb606e78f73e@mail.gmail.com>

Hi Mateusz

Thanks! I actually meant to post this to the openModeller list :-P But
its good to know the answer!

Regards

Tim

On 5/17/06, Mateusz ?oskot <mateusz@loskot.net> wrote:
> Tim Sutton wrote:
> > Hi
> >
> > cvs update
> > ssh: connect to host cvs.sourceforge.net port 22: Connection timed out
> > cvs [update aborted]: end of file from server (consult above messages if
> > any)
> >
> > For the last couple of days now...does anyone else have these issues?
>
> Tim,
> SF.net has changed host names last week.
> Here is the message I got from SF.net as a project admin:
>
> =========================================================
> Greetings,
>
> You are receiving this mail because you are a project admin for
> a SourceForge.net-hosted project. One of our primary services,
> CVS, suffered a series of interrelated, critical hardware failures
> in recent weeks. We understand how frustrating this CVS outage
> must be to you and your users; however, our top priority remains
> preservation of the integrity of your data.
>
> The series of CVS hardware failures prompted us to expedite the
> deployment of planed improvements to our CVS infrastructure,
> drawing upon much of the knowledge that we gained from our
> Subversion deployment. Our improved CVS service architecture,
> which we plan to deploy tomorrow afternoon (2006-05-12), will
> offer greater performance and stability and will eliminate several
> single points of failure.
>
> The Site Status page (https://www.sf.net/docs/A04) will be
> updated as soon as the new infrastructure is rolled out. In the
> interim, please read the important information provided below
> to learn about how these changes will affect your project.
>
>
> Summary of changes, effective 2006-05-12:
>
>
> 1. Hostname for CVS service
>
> Old: cvs.sourceforge.net
>
> New: PROJECT_UNIX_NAME.cvs.sourceforge.net
>
> This change will require new working copies to be checked out of all
> repositories (so control files in the working copy will point to the
> right place). We will be updating the instructions we supply, but
> instructions that your team has written within documentation, etc. will
> need to be updated.
>
> cvs -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/gaim co gaim
>
> would be changed to
>
> cvs -d:pserver:anonymous@gaim.cvs.sourceforge.net:/cvsroot/gaim co gaim
>
>
>
> 2. ViewCVS
>
> We are moving from ViewCVS to its successor, ViewVC. ViewVC is
> currently in use for our Subversion service.
>
>
>
> 3. Sync delay
>
> Old: CVS pserver, tarballs and ViewCVS provided against a separate
> server which is a minimum of three hours behind developer CVS.
>
> New: ViewVC will be provided against developer CVS (it will be current).
> CVS pserver will be provided against a secondary server (not developer
> server) with a maximum expected delay of two hours.
>
> Follow-up work is planned (this infrastructure takes us 80% of the way)
> to essentially eliminate the sync delay.
>
>
>
> 4. Read-only rsync service
>
> As a new service offering, we are now providing read-only rsync access
> against developer CVS. This allows projects to efficiently make
> on-demand backups of their entire CVS repository.
>
> All projects should be making regular backups of their CVS repository
> contents using this service.
>
>
>
> 5. Nightly tarball service
>
> Nightly tarball service is being dropped in lieu of read-only rsync
> service. Projects which currently depend on nightly tarballs for
> repository backups will need to begin using rsync to make a backup copy
> of their repository contents.
>
> We see this as a major functional improvement. For a number of reasons,
> tarballs have fallen out of sync with the data in the repository at
> times in the past few years. Tarballs required a substantial amount of
> additional disk, and I/O to generate. The move to read-only rsync
> allows backups to be produced on-demand, with an update frequency chosen
> by the project.
>
>
>
> 6. Points of failure
>
> In the past, developer CVS service for all projects was provided from a
> single host. CVS pserver service was provided from individual backend
> heads based on a split of the data.
>
> Under our new design, developer CVS and most of our CVS-related services
> are provided from one of ten CVS hosts (count subject to increase with
> growth). Each host is independent, and makes a backup copy of the
> repository data of another host (which is used to provide the pserver
> CVS service).
>
> Failure of a single host will impact only the availability of data on
> that host. Since the data is split among a larger number of hosts, the
> size of data impacted by an individual host outage is substantially
> smaller, and the time required for us to restore service will be
> substantially shorter.
>
> This rapid architecture change has been made possible specifically using
> the research we performed for our recent launch of Subversion service.
> We've applied our best practices, produced a substantial amount of
> internal documentation, and kept an eye toward maintainability.
> This effort has allowed us to deploy this new architecture quickly
> once hardware was received, and will permit us to quickly scale
> this service horizontally as growth and demand requires.
>
>
>
> Many other minor improvements have also been made to improve the service
> offering and make it less trouble-prone. The most important of which are
> listed above. For a full description of the new service offering, and
> for information on how to use the services described above, please refer
> to the site documentation for the CVS service after the service has been
> launched: https://www.sf.net/docs/E04
>
>
> Thank you,
>
> The SourceForge.net Team
>
> .
>
>
> --
> Mateusz ?oskot
> http://mateusz.loskot.net
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net
From radim.blazek at gmail.com  Thu May 18 08:43:00 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Fonts in composer
Message-ID: <340505ef0605180543s3124eee4lf0f0e04d59d3422a@mail.gmail.com>

Heureka (maybe)!

Because Qt4 QPainter supports floating point numbers I could
remove QgsComposition::mScale (set to 1 for now).
Consequently the font scaling factor QgsComposition::psFontScaleFactor
became wrong. I tried to fix the problem with scaling again
and hopefully I found solution, basicaly:

   QFont font;
   font.setPointSize ( size );
   QFontMetrics metrics ( font );
   if ( plotStyle() == QgsComposition::Postscript )
   {
       font.setPointSizeF ( metrics.ascent() * 72.0 /
mComposition->resolution() );
   }
   painter.setFont ( font );
   painter.drawText ( x, y, text );

That means the size of font in Postscript must be set to metrics.ascent()
of original font size.

I tested on Linux with many fonts and different sizes and the font height
seems to be almost always correct and text length is mostly correct.

Tom, could you test on Mac?

Radim

From radim.blazek at gmail.com  Thu May 18 10:50:10 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Re: Fonts in composer
In-Reply-To: <340505ef0605180543s3124eee4lf0f0e04d59d3422a@mail.gmail.com>
References: <340505ef0605180543s3124eee4lf0f0e04d59d3422a@mail.gmail.com>
Message-ID: <340505ef0605180750g66870612g8e853bacf4ed328b@mail.gmail.com>

On 5/18/06, Radim Blazek <radim.blazek@gmail.com> wrote:
> Heureka (maybe)!
>
> Because Qt4 QPainter supports floating point numbers I could
> remove QgsComposition::mScale (set to 1 for now).
> Consequently the font scaling factor QgsComposition::psFontScaleFactor
> became wrong. I tried to fix the problem with scaling again
> and hopefully I found solution, basicaly:
>
>    QFont font;
>    font.setPointSize ( size );
>    QFontMetrics metrics ( font );
>    if ( plotStyle() == QgsComposition::Postscript )
>    {
>        font.setPointSizeF ( metrics.ascent() * 72.0 /
> mComposition->resolution() );
>    }
>    painter.setFont ( font );
>    painter.drawText ( x, y, text );
>
> That means the size of font in Postscript must be set to metrics.ascent()
> of original font size.
>
> I tested on Linux with many fonts and different sizes and the font height
> seems to be almost always correct and text length is mostly correct.
>
> Tom, could you test on Mac?

I was too optimistic about floating point support, they are still using
d->cpen.width() to set with in PS. How can they release such a shit?!
PDF is the same. Is it possible that nobody wants to print a line < 1 mm?

Radim

From telwertowski at comcast.net  Fri May 19 03:57:31 2006
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Re: Fonts in composer
In-Reply-To: <340505ef0605180543s3124eee4lf0f0e04d59d3422a@mail.gmail.com>
References: <340505ef0605180543s3124eee4lf0f0e04d59d3422a@mail.gmail.com>
Message-ID: <446D7A6B.203@comcast.net>

Radim Blazek wrote:
> Because Qt4 QPainter supports floating point numbers I could
> remove QgsComposition::mScale (set to 1 for now).
> Consequently the font scaling factor QgsComposition::psFontScaleFactor
> became wrong. I tried to fix the problem with scaling again
> 
> I tested on Linux with many fonts and different sizes and the font height
> seems to be almost always correct and text length is mostly correct.
> 
> Tom, could you test on Mac?

On a Mac, printing isn't working at all. The map is drawn in the 
composer window but no printable Postscript is generated. On the 
console, I get about a hundred "CGAffineTransformInvert: singular 
matrix" messages.

I haven't tried printing since 0.7.4 so this might have something to do 
with the Qt3 to 4 switch. I'll look at the code in the next few days and 
try to find out what is going on.

The text in the composer window is slightly smaller than the main window 
but this is true for Linux as well. The Linux .eps text is very small 
however -- perhaps 20% of the main window size.

I used a polygon file and the outlines in composer were a series of dots 
-- perhaps only one in three of the outline pixels are being drawn. The 
.eps outlines are continuous however. In 0.7.4, the composer window 
outlines were continuous as well.

Also, the Legend and Label tools segfault on both Mac and Linux.

Tom


From radim.blazek at gmail.com  Fri May 19 04:29:42 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Re: Fonts in composer
In-Reply-To: <446D7A6B.203@comcast.net>
References: <340505ef0605180543s3124eee4lf0f0e04d59d3422a@mail.gmail.com>
	<446D7A6B.203@comcast.net>
Message-ID: <340505ef0605190129v5c382d05n30a807280025d015@mail.gmail.com>

On 5/19/06, Tom Elwertowski <telwertowski@comcast.net> wrote:
> Radim Blazek wrote:
> > Because Qt4 QPainter supports floating point numbers I could
> > remove QgsComposition::mScale (set to 1 for now).
> > Consequently the font scaling factor QgsComposition::psFontScaleFactor
> > became wrong. I tried to fix the problem with scaling again
> >
> > I tested on Linux with many fonts and different sizes and the font height
> > seems to be almost always correct and text length is mostly correct.
> >
> > Tom, could you test on Mac?
>
> On a Mac, printing isn't working at all. The map is drawn in the
> composer window but no printable Postscript is generated. On the
> console, I get about a hundred "CGAffineTransformInvert: singular
> matrix" messages.

I had also some problems with print dialog, on Linux it is necessary
to select printer and then print to file again.

> I haven't tried printing since 0.7.4 so this might have something to do
> with the Qt3 to 4 switch. I'll look at the code in the next few days and
> try to find out what is going on.
>
> The text in the composer window is slightly smaller than the main window
> but this is true for Linux as well. The Linux .eps text is very small
> however -- perhaps 20% of the main window size.

Feature labels? Feature labels are not fixed yet because
ascent() is not constant, I'll probably add a flag to drawLabels()
to indicate printing to PS.

I have also found that font size is always written as integer, that can
be reason why the size in PS sometimes is not exactly the same
as in preview. I try to use in preview only sizes which are equivalents
of integers in PS.

> I used a polygon file and the outlines in composer were a series of dots
> -- perhaps only one in three of the outline pixels are being drawn. The
> .eps outlines are continuous however. In 0.7.4, the composer window
> outlines were continuous as well.

That is OK, preview cannot be perfect. The difference between 0.7 and 0.8
is because Qt3 did not supported widthF. Il try to fix the preview
if possible to render better in Qt4.

> Also, the Legend and Label tools segfault on both Mac and Linux.

Bad. When? Unfortunately I cannot reproduce it.

Radim

> Tom
>
>

From Horst.Duester at bd.so.ch  Fri May 19 06:06:24 2006
From: Horst.Duester at bd.so.ch (=?ISO-8859-1?Q?D=FCster_Horst?=)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] unable to compile plugin with SVN Version
Message-ID: <5B025B1F39D6D4119F5700508BEEEC6603DE4107@srsofaioi4546.ktso.ch>

Last week I created a little plugin sogis with the plugin_builder.pl. The
plugin compiled and worked fine. Today I tried to compile the latest SVN
Version of QGIS and the compilation process crashes at my plugin code with
the following error message.

sogis.cpp: In member function `virtual void sogis::initGui()':
sogis.cpp:93: error: 'class QgisIface' has no member named 'getPluginMenu'

I'm doubt about whether there were made any modifications of the QgisIface.

With best regards
?
Dr. Horst D?ster 
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn?
Amt f?r Geoinformation
Abteilung SO!GIS? Koordination
R?tistrasse 4
CH-4501 Solothurn 

Tel.: ++41 (0)32 627 25 32 
Fax: ++41 (0)32 627 22 14

horst.duester@bd.so.ch 
www.sogis.so.ch


From gavin at macaulay.co.nz  Fri May 19 05:26:18 2006
From: gavin at macaulay.co.nz (Gavin Macaulay)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] unable to compile plugin with SVN Version
In-Reply-To: <5B025B1F39D6D4119F5700508BEEEC6603DE4107@srsofaioi4546.ktso.ch>
References: <5B025B1F39D6D4119F5700508BEEEC6603DE4107@srsofaioi4546.ktso.ch>
Message-ID: <4530.60.234.108.169.1148030778.squirrel@secure.niwa.co.nz>

Hi,

The plugin interface was altered slightly last week...

The way in which a plugin creates and deletes an entry in the plugins menu
is different now. The QAction that was created for the icon in a toolbar
is now also used for the menu entry. See the
src/plugins/north_arrow/plugin.cpp file for an example.

Regards

Gavin

>
 Last week I created a little plugin sogis with the plugin_builder.pl. The
> plugin compiled and worked fine. Today I tried to compile the latest SVN
> Version of QGIS and the compilation process crashes at my plugin code with
> the following error message.
>
> sogis.cpp: In member function `virtual void sogis::initGui()':
> sogis.cpp:93: error: 'class QgisIface' has no member named 'getPluginMenu'
>
> I'm doubt about whether there were made any modifications of the
> QgisIface.
>
> With best regards
>
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn
> Amt f?r Geoinformation
> Abteilung SO!GIS? Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Tel.: ++41 (0)32 627 25 32
> Fax: ++41 (0)32 627 22 14
>
> horst.duester@bd.so.ch
> www.sogis.so.ch
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>



From Horst.Duester at bd.so.ch  Fri May 19 10:44:09 2006
From: Horst.Duester at bd.so.ch (=?ISO-8859-1?Q?D=FCster_Horst?=)
Date: Wed Feb  6 23:24:51 2008
Subject: AW: [Qgis-developer] unable to compile plugin with SVN Version
Message-ID: <5B025B1F39D6D4119F5700508BEEEC6603DE4108@srsofaioi4546.ktso.ch>

Gavin 

Thank you very much for your hint. Now it works.


With best regards
?
Dr. Horst D?ster 
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn?
Amt f?r Geoinformation
Abteilung SO!GIS? Koordination
R?tistrasse 4
CH-4501 Solothurn 

Tel.: ++41 (0)32 627 25 32 
Fax: ++41 (0)32 627 22 14

horst.duester@bd.so.ch 
www.sogis.so.ch



> -----Urspr?ngliche Nachricht-----
> Von: Gavin Macaulay [mailto:gavin@macaulay.co.nz]
> Gesendet am: Freitag, 19. Mai 2006 10:26
> An: qgis-developer@lists.qgis.org
> Betreff: Re: [Qgis-developer] unable to compile plugin with 
> SVN Version
> 
> Hi,
> 
> The plugin interface was altered slightly last week...
> 
> The way in which a plugin creates and deletes an entry in the 
> plugins menu
> is different now. The QAction that was created for the icon 
> in a toolbar
> is now also used for the menu entry. See the
> src/plugins/north_arrow/plugin.cpp file for an example.
> 
> Regards
> 
> Gavin
> 
> >
>  Last week I created a little plugin sogis with the 
> plugin_builder.pl. The
> > plugin compiled and worked fine. Today I tried to compile 
> the latest SVN
> > Version of QGIS and the compilation process crashes at my 
> plugin code with
> > the following error message.
> >
> > sogis.cpp: In member function `virtual void sogis::initGui()':
> > sogis.cpp:93: error: 'class QgisIface' has no member named 
> 'getPluginMenu'
> >
> > I'm doubt about whether there were made any modifications of the
> > QgisIface.
> >
> > With best regards
> >
> > Dr. Horst D?ster
> > GIS-Koordinator, Stv. Amtschef
> >
> > Kanton Solothurn
> > Amt f?r Geoinformation
> > Abteilung SO!GIS? Koordination
> > R?tistrasse 4
> > CH-4501 Solothurn
> >
> > Tel.: ++41 (0)32 627 25 32
> > Fax: ++41 (0)32 627 22 14
> >
> > horst.duester@bd.so.ch
> > www.sogis.so.ch
> >
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> >
> 
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
> 

From Horst.Duester at bd.so.ch  Fri May 19 11:08:56 2006
From: Horst.Duester at bd.so.ch (=?ISO-8859-1?Q?D=FCster_Horst?=)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Add WMS Layer by Plugin
Message-ID: <5B025B1F39D6D4119F5700508BEEEC6603DE4109@srsofaioi4546.ktso.ch>

I'm looking out for a method to add WMS Layer by plugin menue. 

It is very easy to add vector or raster layers to the canva with:
addVectorLayer( thePathNameQString, theBaseNameQString, theProviderQString);
addRasterLayer(thePathQString);

In the same way I want to add a WMS layer defined by:

add WMSLayer(theURLQString, theProxyHostQString, theProxyPortQString,
theProxyUserQString, theProxyPasswdQString,theWMSLayernameQString,
theWMSSRS);

Does a function like the above mentioned exists?

With best regards
?
Dr. Horst D?ster 
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn?
Amt f?r Geoinformation
Abteilung SO!GIS? Koordination
R?tistrasse 4
CH-4501 Solothurn 

Tel.: ++41 (0)32 627 25 32 
Fax: ++41 (0)32 627 22 14

horst.duester@bd.so.ch 
www.sogis.so.ch


From radim.blazek at gmail.com  Mon May 22 05:11:33 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Winbuild on SF
Message-ID: <340505ef0605220211t7e20db8em719639418520580a@mail.gmail.com>

Hi,

is it OK with you if I put the next preview build of QGIS0.8
and QGIS0.8+GRASS (2 separate packages) on SF download
page of QGIS?
Some people complain about slow download and
I'll not be able to use my web page anymore soon.

Radim

From telwertowski at comcast.net  Wed May 24 03:51:15 2006
From: telwertowski at comcast.net (Tom Elwertowski)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Re: Fonts in composer
In-Reply-To: <446D7A6B.203@comcast.net>
References: <340505ef0605180543s3124eee4lf0f0e04d59d3422a@mail.gmail.com>
	<446D7A6B.203@comcast.net>
Message-ID: <44741073.20206@comcast.net>

Tom Elwertowski wrote:
> On a Mac, printing isn't working at all. The map is drawn in the 
> composer window but no printable Postscript is generated. On the 
> console, I get about a hundred "CGAffineTransformInvert: singular 
> matrix" messages.

Mac printing was not working because QPrinter::resolution returned 0 and 
setResolution was a no-op in Qt/Mac 4.1.2. This has been fixed in 4.1.3.

Now a "Paper does not match" alert occurs but the output seems ok.

Tom

From radim.blazek at gmail.com  Wed May 24 11:26:11 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Windows build
Message-ID: <340505ef0605240826v6bb58419w8b13db0baedc135f@mail.gmail.com>

Hi.
I won't be able to create Windows builds of QGIS 0.8 for longer period
after June 15. If somebody else wants to continue in Windows builds,
I can help now.

Radim

From cavallini at faunalia.it  Wed May 24 12:37:56 2006
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Windows build
In-Reply-To: <340505ef0605240826v6bb58419w8b13db0baedc135f@mail.gmail.com>
References: <340505ef0605240826v6bb58419w8b13db0baedc135f@mail.gmail.com>
Message-ID: <200605241837.58296.cavallini@faunalia.it>

Too bad! I cannot help (I do not own a win machine, no win experience, little 
compilation skills, etc), but if someone can, please do.
A good windows installer will be of paramount importance for the success of 
qgis (and grass too).
All the best, and many thanks to Radim for his work.
pc
At 17:26, mercoled? 24 maggio 2006, Radim Blazek has probably written:
> Hi.
> I won't be able to create Windows builds of QGIS 0.8 for longer period
> after June 15. If somebody else wants to continue in Windows builds,
> I can help now.
>
> Radim
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

-- 
Paolo Cavallini
email+jabber: cavallini@faunalia.it
www.faunalia.it
Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953

From radim.blazek at gmail.com  Thu May 25 03:58:14 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Windows build
In-Reply-To: <200605241837.58296.cavallini@faunalia.it>
References: <340505ef0605240826v6bb58419w8b13db0baedc135f@mail.gmail.com>
	<200605241837.58296.cavallini@faunalia.it>
Message-ID: <340505ef0605250058s2c388d53t11a6d56b1b6f8ca@mail.gmail.com>

Windows machine is not required for compilation, currently
I compile with cross compiler on Windows. It is necessary
however for testing.

Compilation on Windows with MinGW would be probably even easier,
recently I tried also IDE based on MinGW which works smoothly.
(http://www.bloodshed.net/devcpp.html)

For those who work on Linux it can be interesting to know that
rdesktop (Windows Terminal Server client) on Linux works
without problems and you can use also Windows XP Profesional
as terminal server (for 1 client). It means that if you have a computer
with XP Profesional which is not used in your local network,
you can compile on Linux and test in rdesktop - terminal server.

Wine does not work well, it can only be used for simple tests.


Radim


On 5/24/06, Paolo Cavallini <cavallini@faunalia.it> wrote:
> Too bad! I cannot help (I do not own a win machine, no win experience, little
> compilation skills, etc), but if someone can, please do.
> A good windows installer will be of paramount importance for the success of
> qgis (and grass too).
> All the best, and many thanks to Radim for his work.
> pc
> At 17:26, mercoled? 24 maggio 2006, Radim Blazek has probably written:
> > Hi.
> > I won't be able to create Windows builds of QGIS 0.8 for longer period
> > after June 15. If somebody else wants to continue in Windows builds,
> > I can help now.
> >
> > Radim
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.qgis.org
> > http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>
> --
> Paolo Cavallini
> email+jabber: cavallini@faunalia.it
> www.faunalia.it
> Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From marco.hugentobler at karto.baug.ethz.ch  Mon May 29 02:50:45 2006
From: marco.hugentobler at karto.baug.ethz.ch (humarco)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] qgsgrass.cpp: compile problem in svn
Message-ID: <200605290850.45743.marco.hugentobler@karto.baug.ethz.ch>

Dear qgis devs,

There is an error when compiling the current svn head:

qgsgrass.cpp: In static member function 'static bool 
QgsGrass::isMapset(QString)':
qgsgrass.cpp:933: error: 'G_is_mapset' was not declared in this scope
make[4]: *** [libqgisgrass_la-qgsgrass.lo] Fehler 1


Greetings,
Marco

From quick.nitin at gmail.com  Mon May 29 04:14:59 2006
From: quick.nitin at gmail.com (nitin quick)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Adding plugin to qgis
Message-ID: <39f4276e0605290114r124e82f1s23421e995a981b5b@mail.gmail.com>

Hello Everybody,
I am currently using qgis0.7.9 downloaded from svn installed on FC4.
I need to add plugin to qgis which will display direction of wind.
NorthArrow Plugin provides similar functionality. So i did make copy of that
code put my Cock.png file path in place of north_arrow in a new folder named
Cock in src/plugins/. I changed the code a bit ( north_arrow to Cock , just
change of name). and addition in configure script similar o existing code.
Now my questions are:
i). Am i doing correect for adding a new plugin? Is it good way or there is
scope of improvement which i think will be?
ii) Is it required to compile Qgis fully to make my plugin functionable . Is
there any way where i can only compile new plugin code and link it
dynamiclly.
iii)For adding plugin menu to GUI we are using code ..

    qGisInterface_>addPluginMenu(tr("&Decoration"),myQActionPointer);
  what does "&Decoration" signify here.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20060529/02f0a31f/attachment.html
From quick.nitin at gmail.com  Mon May 29 04:18:12 2006
From: quick.nitin at gmail.com (nitin quick)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] question on Adding plugin to qgis
Message-ID: <39f4276e0605290118s149a3432pd6e8a3d3147592c2@mail.gmail.com>

Hello Everybody,
I am currently using qgis0.7.9 downloaded from svn installed on FC4.
I need to add plugin to qgis which will display direction of wind.
NorthArrow Plugin provides similar functionality. So i did make copy of that
code put my Cock.png file path in place of north_arrow in a new folder named
Cock in src/plugins/. I changed the code a bit ( north_arrow to Cock , just
change of name). and addition in configure script similar o existing code.
Now my questions are:
i). Am i doing correect for adding a new plugin? Is it good way or there is
scope of improvement which i think will be?
ii) Is it required to compile Qgis fully to make my plugin functionable . Is
there any way where i can only compile new plugin code and link it
dynamiclly.
iii)For adding plugin menu to GUI we are using code ..

    qGisInterface->addPluginMenu(tr("&Decoration"),myQActionPointer);
  what does "&Decoration" signify here.

Any suggestions on any study material or tutorial which will help me in
designing plugin are welcome. I am currently reading  source code to do so.

cya
nitin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20060529/5cdc5cfc/attachment.html
From Horst.Duester at bd.so.ch  Mon May 29 05:39:23 2006
From: Horst.Duester at bd.so.ch (=?ISO-8859-1?Q?D=FCster_Horst?=)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Compilation Error SVN 5495 
Message-ID: <5B025B1F39D6D4119F5700508BEEEC6603DE4112@srsofaioi4546.ktso.ch>

The compilation of QGIS SVN 5495 crashes with the following error message:

qgsgrass.cpp: In static member function `static bool
QgsGrass::isMapset(QString)':
qgsgrass.cpp:933: error: `G_is_mapset' undeclared (first use this function)
qgsgrass.cpp:933: error: (Each undeclared identifier is reported only once
for each function it appears
in.)

My system:
RedHat AS4
GRASS 6.0.2

With best regards
?
Dr. Horst D?ster 
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn?
Amt f?r Geoinformation
Abteilung SO!GIS? Koordination
R?tistrasse 4
CH-4501 Solothurn 

Tel.: ++41 (0)32 627 25 32 
Fax: ++41 (0)32 627 22 14

horst.duester@bd.so.ch 
www.sogis.so.ch


-------------- next part --------------
A non-text attachment was scrubbed...
Name: WebSVN - Quantum GIS - Rev 5495 -.URL
Type: application/octet-stream
Size: 98 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20060529/89caac6e/WebSVN-QuantumGIS-Rev5495-.obj
From oleg at crista.uni-wuppertal.de  Mon May 29 04:52:41 2006
From: oleg at crista.uni-wuppertal.de (Oleg Gusev)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] qgsgrass.cpp: compile problem in svn
In-Reply-To: <200605290850.45743.marco.hugentobler@karto.baug.ethz.ch>
References: <200605290850.45743.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <200605291052.41338.oleg@crista.uni-wuppertal.de>

On Monday 29 May 2006 08:50, humarco wrote:
>
> qgsgrass.cpp:933: error: 'G_is_mapset' was not declared in this scope
> make[4]: *** [libqgisgrass_la-qgsgrass.lo] Fehler 1
>

 Marco,

  I have updated to the latest grass CVS and the error went away.

 Oleg.

From radim.blazek at gmail.com  Mon May 29 05:04:34 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] qgsgrass.cpp: compile problem in svn
In-Reply-To: <200605290850.45743.marco.hugentobler@karto.baug.ethz.ch>
References: <200605290850.45743.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <340505ef0605290204n63f4d233g64e1093dfc94f057@mail.gmail.com>

On 5/29/06, humarco <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Dear qgis devs,
>
> There is an error when compiling the current svn head:
>
> qgsgrass.cpp: In static member function 'static bool
> QgsGrass::isMapset(QString)':
> qgsgrass.cpp:933: error: 'G_is_mapset' was not declared in this scope
> make[4]: *** [libqgisgrass_la-qgsgrass.lo] Fehler 1

Sorry for this inconvenience. I have added some functions to GRASS
library so that QGIS depends on API instead on internal
GRASS database structure (specific files).
I have commented the changes everywhere with this comment:

    /* TODO: G_is_mapset() was added to GRASS 6.1 06-05-24,
             enable its use after some period (others do update) */

except the place in qgsgrass.cpp you found. I have submitted
the comment also here so that users with older GRASS CVS should
be able to compile (which was original intention).

Note also that GRASS 6.0.x will work even if we uncomment
the changes because the code tests GRASS version.

Radim

>
> Greetings,
> Marco
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

From Horst.Duester at bd.so.ch  Mon May 29 08:43:23 2006
From: Horst.Duester at bd.so.ch (=?ISO-8859-1?Q?D=FCster_Horst?=)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Donut polygon howto?
Message-ID: <5B025B1F39D6D4119F5700508BEEEC6603DE4115@srsofaioi4546.ktso.ch>

I'm playing with the editing functions of QGIS. Now I'm wondering how to
create a donut polygon with QGIS.

with best regards
?
Dr. Horst D?ster 
GIS-Koordinator, Stv. Amtschef

Kanton Solothurn?
Amt f?r Geoinformation
Abteilung SO!GIS? Koordination
R?tistrasse 4
CH-4501 Solothurn 

Tel.: ++41 (0)32 627 25 32 
Fax: ++41 (0)32 627 22 14

horst.duester@bd.so.ch 
www.sogis.so.ch


From marco.hugentobler at karto.baug.ethz.ch  Mon May 29 09:42:50 2006
From: marco.hugentobler at karto.baug.ethz.ch (humarco)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] Donut polygon howto?
In-Reply-To: <5B025B1F39D6D4119F5700508BEEEC6603DE4115@srsofaioi4546.ktso.ch>
References: <5B025B1F39D6D4119F5700508BEEEC6603DE4115@srsofaioi4546.ktso.ch>
Message-ID: <200605291542.50365.marco.hugentobler@karto.baug.ethz.ch>

Hi Horst,

Are you editing Grass layers or other types (postgis, shapes)?
For postgis and shape editing, this is not possible in QGIS at the moment. The 
problem is that even the existing editing code for those layers is not very 
stable.

Regards,
Marco

Am Montag 29 Mai 2006 14:43 schrieb D?ster Horst:
> I'm playing with the editing functions of QGIS. Now I'm wondering how to
> create a donut polygon with QGIS.
>
> with best regards
> ?
> Dr. Horst D?ster
> GIS-Koordinator, Stv. Amtschef
>
> Kanton Solothurn?
> Amt f?r Geoinformation
> Abteilung SO!GIS? Koordination
> R?tistrasse 4
> CH-4501 Solothurn
>
> Tel.: ++41 (0)32 627 25 32
> Fax: ++41 (0)32 627 22 14
>
> horst.duester@bd.so.ch
> www.sogis.so.ch
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer

From marco.hugentobler at karto.baug.ethz.ch  Tue May 30 03:21:36 2006
From: marco.hugentobler at karto.baug.ethz.ch (humarco)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] question on Adding plugin to qgis
In-Reply-To: <39f4276e0605290118s149a3432pd6e8a3d3147592c2@mail.gmail.com>
References: <39f4276e0605290118s149a3432pd6e8a3d3147592c2@mail.gmail.com>
Message-ID: <200605300921.36445.marco.hugentobler@karto.baug.ethz.ch>

Hi nitin,

Am Montag 29 Mai 2006 10:18 schrieb nitin quick:
> Hello Everybody,
> I am currently using qgis0.7.9 downloaded from svn installed on FC4.
> I need to add plugin to qgis which will display direction of wind.
> NorthArrow Plugin provides similar functionality. So i did make copy of
> that code put my Cock.png file path in place of north_arrow in a new folder
> named Cock in src/plugins/. I changed the code a bit ( north_arrow to Cock
> , just change of name). and addition in configure script similar o existing
> code. Now my questions are:
> i). Am i doing correect for adding a new plugin? Is it good way or there is
> scope of improvement which i think will be?
> ii) Is it required to compile Qgis fully to make my plugin functionable .
> Is there any way where i can only compile new plugin code and link it
> dynamiclly.

There is nothing wrong in creating new plugins by looking how existing ones 
work. If you also copied and adapted the auto* stuff of the NorthArrow 
plugin, then your plugin should be built together with qgis. But it is not 
required to compile the whole qgis for your plugin. You may just compile the 
sources of your plugin into a shared library without building qgis from 
source. All you need for it is the qt and qgis headers and of course you need 
to link the plugin to the qgis libraries (libgui, libraster, ...). 

> iii)For adding plugin menu to GUI we are using code ..
>
>     qGisInterface->addPluginMenu(tr("&Decoration"),myQActionPointer);
>   what does "&Decoration" signify here.

"Decoration" is the name of the menu entry (and Control-D the shortcut for it)

> Any suggestions on any study material or tutorial which will help me in
> designing plugin are welcome. I am currently reading  source code to do so.

On the qgis wiki, there are several articles about plugin programming:

http://wiki.qgis.org/qgiswiki/DevelopersCorner#head-3709e61959139ab8995e0542a9ad930c2d17090a

section 'Help on writing plugins'

Marco

From cavallini at faunalia.it  Tue May 30 04:01:11 2006
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] database defaults
Message-ID: <200605301001.13119.cavallini@faunalia.it>

Hi all.
An useful feature for qgis: when inserting data in postgis, it does not take 
the default values from the database (eg nextvalue in cat, etc.)
Furthermore, in case of even a single error in input (value not allowed) all 
the editing is lost. Too bad for serious work.
Ready for testing if someone could fix it.
All the best.
pc
-- 
Paolo Cavallini
email+jabber: cavallini@faunalia.it
www.faunalia.it
Piazza Garibaldi 5 - 56025 Pontedera (PI), Italy   Tel: (+39)348-3801953

From tim at linfiniti.com  Tue May 30 04:10:24 2006
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] question on Adding plugin to qgis
In-Reply-To: <200605300921.36445.marco.hugentobler@karto.baug.ethz.ch>
References: <39f4276e0605290118s149a3432pd6e8a3d3147592c2@mail.gmail.com>
	<200605300921.36445.marco.hugentobler@karto.baug.ethz.ch>
Message-ID: <e3e612a60605300110l38d3fb0dp67664ed5afedb120@mail.gmail.com>

Hi

Note there is a script in src/plugins/plugin_builder.pl that will
generate a plugin template for you that is all ready for your own
customisations.

If you do folow the approach you took of cloning an existing plugin,
be sure to modify configure.in too to make sure it gets built. The
plugin builder script does this all for you.

Regards

Tim

On 5/30/06, humarco <marco.hugentobler@karto.baug.ethz.ch> wrote:
> Hi nitin,
>
> Am Montag 29 Mai 2006 10:18 schrieb nitin quick:
> > Hello Everybody,
> > I am currently using qgis0.7.9 downloaded from svn installed on FC4.
> > I need to add plugin to qgis which will display direction of wind.
> > NorthArrow Plugin provides similar functionality. So i did make copy of
> > that code put my Cock.png file path in place of north_arrow in a new folder
> > named Cock in src/plugins/. I changed the code a bit ( north_arrow to Cock
> > , just change of name). and addition in configure script similar o existing
> > code. Now my questions are:
> > i). Am i doing correect for adding a new plugin? Is it good way or there is
> > scope of improvement which i think will be?
> > ii) Is it required to compile Qgis fully to make my plugin functionable .
> > Is there any way where i can only compile new plugin code and link it
> > dynamiclly.
>
> There is nothing wrong in creating new plugins by looking how existing ones
> work. If you also copied and adapted the auto* stuff of the NorthArrow
> plugin, then your plugin should be built together with qgis. But it is not
> required to compile the whole qgis for your plugin. You may just compile the
> sources of your plugin into a shared library without building qgis from
> source. All you need for it is the qt and qgis headers and of course you need
> to link the plugin to the qgis libraries (libgui, libraster, ...).
>
> > iii)For adding plugin menu to GUI we are using code ..
> >
> >     qGisInterface->addPluginMenu(tr("&Decoration"),myQActionPointer);
> >   what does "&Decoration" signify here.
>
> "Decoration" is the name of the menu entry (and Control-D the shortcut for it)
>
> > Any suggestions on any study material or tutorial which will help me in
> > designing plugin are welcome. I am currently reading  source code to do so.
>
> On the qgis wiki, there are several articles about plugin programming:
>
> http://wiki.qgis.org/qgiswiki/DevelopersCorner#head-3709e61959139ab8995e0542a9ad930c2d17090a
>
> section 'Help on writing plugins'
>
> Marco
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton

Visit http://qgis.org for a great Open Source GIS
Skype: timlinux
MSN: tim_bdworld@msn.com
Yahoo: tim_bdworld@yahoo.com
Jabber: timlinux
Irc: timlinux on #qgis at freenode.net

From dbgis at libero.it  Tue May 30 17:06:17 2006
From: dbgis at libero.it (dbgis)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] plugins - pgaccess
Message-ID: <J03JYH$08C3AC73B2720973F76031239B42C83E@libero.it>

Hi,
I'm a newby, i'm an italian programmer, I use qgis 0.7.4 for win32   and linux debian.
I would want to know if there is someone that uses qgis and postgresql and pgaccess toghether.
I would want to create a plugin , like the attribute window's button, with a button that open a pgaccess istance with the selected point data.
Is there somebody that has the same problem or is it interested?


Best Regards

dbgis


From radim.blazek at gmail.com  Wed May 31 05:26:29 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Feb  6 23:24:51 2008
Subject: [Qgis-developer] plugins - pgaccess
In-Reply-To: <J03JYH$08C3AC73B2720973F76031239B42C83E@libero.it>
References: <J03JYH$08C3AC73B2720973F76031239B42C83E@libero.it>
Message-ID: <340505ef0605310226s3b71f45vc36c3cadf22deea@mail.gmail.com>

On 5/30/06, dbgis <dbgis@libero.it> wrote:
> Hi,
> I'm a newby, i'm an italian programmer, I use qgis 0.7.4 for win32   and linux debian.
> I would want to know if there is someone that uses qgis and postgresql and pgaccess toghether.
> I would want to create a plugin , like the attribute window's button, with a button that open a pgaccess istance with the selected point data.
> Is there somebody that has the same problem or is it interested?

I think that you can do this  using 'actions' (see last tab in layer
properties) , you dont need a plugin IMO.

Radim

> Best Regards
>
> dbgis
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.qgis.org
> http://lists.qgis.org/cgi-bin/mailman/listinfo/qgis-developer
>

