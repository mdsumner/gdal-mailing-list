From anitagraser at gmx.at  Sun Aug  1 06:48:04 2010
From: anitagraser at gmx.at (Anita Graser)
Date: Sun Aug  1 06:48:13 2010
Subject: [Qgis-developer] working with temporal data
Message-ID: <op.vgq9mepena7rjy@anita-pc.mshome.net>

Hi,

Few days ago, I stumbled upon this new ESRI tool to work with temporal  
data:  
http://blogs.esri.com/Dev/blogs/arcgis/archive/2010/04/16/New-experience-and-tools-for-working-with-temporal-data.aspx

Such a tool would be really useful for my work any many others too I  
believe. So, I've been thinking about writing a python plugin that  
basically adjusts the layers subsetString to the chosen time frame. But  
before I start coding, I'd like to ask your opinion on what would be the  
best way to implement such a functionality and maybe somebody already  
implemented it or something similar.

On a related topic: I'd also be interested in a "Save as Animation"  
functionality similar to "Save as Image". Do you think it's reasonable to  
implement such a functionality in Python? Do you know any libraries worth  
considering for this job?

Best wishes,
Anita
From jef at norbit.de  Sun Aug  1 10:58:37 2010
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sun Aug  1 10:58:59 2010
Subject: [Qgis-developer] Re: Heads up to osgeo4w package maintainers
In-Reply-To: <4C45A601.2060107@gatewaygeomatics.com>
References: <4C45A601.2060107@gatewaygeomatics.com>
Message-ID: <20100801145837.GA29104@norbit.de>

Hi there,

On Tue, 20. Jul 2010 at 10:34:57 -0300, Jeff McKenna wrote:
> I didn't see a note here yet on this, so...last week several OSGeo  
> servers were compromised  
> (http://lists.osgeo.org/pipermail/sac/2010-July/002657.html), and  
> OSGeo4W downloads were moved to a temporary server.  This means that  
> package maintainers currently have no access to add or modify OSGeo4W  
> packages.

Access should be restored and the update CGIs are back in place.

I also updated the OSGeo4W repository from my temporary repository so we now
have the released QGIS 1.5, nighly builds of QGIS and GPSBabel 1.4.1 (including
the Qt Frontend) in the main repository.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From tech_dev at wildintellect.com  Sun Aug  1 23:49:02 2010
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Sun Aug  1 23:49:10 2010
Subject: [Qgis-developer] working with temporal data
In-Reply-To: <op.vgq9mepena7rjy@anita-pc.mshome.net>
References: <op.vgq9mepena7rjy@anita-pc.mshome.net>
Message-ID: <4C56402E.6050203@wildintellect.com>

On 08/01/2010 03:48 AM, Anita Graser wrote:
> Hi,
> 
> Few days ago, I stumbled upon this new ESRI tool to work with temporal
> data:
> http://blogs.esri.com/Dev/blogs/arcgis/archive/2010/04/16/New-experience-and-tools-for-working-with-temporal-data.aspx
> 
> 
> Such a tool would be really useful for my work any many others too I
> believe. So, I've been thinking about writing a python plugin that
> basically adjusts the layers subsetString to the chosen time frame. But
> before I start coding, I'd like to ask your opinion on what would be the
> best way to implement such a functionality and maybe somebody already
> implemented it or something similar.
> 
> On a related topic: I'd also be interested in a "Save as Animation"
> functionality similar to "Save as Image". Do you think it's reasonable
> to implement such a functionality in Python? Do you know any libraries
> worth considering for this job?
> 
> Best wishes,
> Anita


Sounds like a great idea. The only thing I can think is to somehow cache
the timeframes to make it faster, and some sort of cool timeline widget
to slide with handles to make time windows and bar graph amount of data
per time.

As for animation, and animated gif of 12 frames would be easy, other
methods start to get very complicated, especially when talking cross
platform. Check to see if qt has anything. I'll poke around to see what
might be plausible.

Thanks,
Alex

From golubev at nordcomp.ru  Mon Aug  2 03:58:12 2010
From: golubev at nordcomp.ru (A. Golubev)
Date: Mon Aug  2 04:08:04 2010
Subject: [Qgis-developer] Error while compiling QGIS 1.5.0
Message-ID: <4C567A94.3080202@nordcomp.ru>

Hi list! I`m trying compile QGIS 1.5.0 and got this error:
Scanning dependencies of target qgis_core
[  3%] Building CXX object 
src/core/CMakeFiles/qgis_core.dir/gps/qextserialport/qextserialport.cpp.obj
[  3%] Building CXX object 
src/core/CMakeFiles/qgis_core.dir/gps/qextserialport/qextserialenumerator.cpp.obj
c:/Qt/qgis-1.5.0/src/core/gps/qextserialport/qextserialenumerator.cpp: 
In member function `LRESULT 
QextSerialEnumerator::onDeviceChangeWin(WPARAM, LPARAM)':
c:/Qt/qgis-1.5.0/src/core/gps/qextserialport/qextserialenumerator.cpp:145: 
error: `DBT_DEVTYP_DEVICEINTERFACE' was not declared in this scope
c:/Qt/qgis-1.5.0/src/core/gps/qextserialport/qextserialenumerator.cpp:147: 
error: `PDEV_BROADCAST_DEVICEINTERFACE' was not declared in this scope
c:/Qt/qgis-1.5.0/src/core/gps/qextserialport/qextserialenumerator.cpp:147: 
error: expected `;' before "pDevInf"
c:/Qt/qgis-1.5.0/src/core/gps/qextserialport/qextserialenumerator.cpp:149: 
error: `pDevInf' was not declared in this scope
make[2]: *** 
[src/core/CMakeFiles/qgis_core.dir/gps/qextserialport/qextserialenumerator.cpp.obj] 
Error 1
make[1]: *** [src/core/CMakeFiles/qgis_core.dir/all] Error 2
make: *** [all] Error 2

QGIS 1.4 compiles fine. Is there any solution?
MinGW 3.4.5, WinXP SP2, Qt 4.5.1
From jef at norbit.de  Mon Aug  2 04:51:43 2010
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon Aug  2 04:52:12 2010
Subject: [Qgis-developer] Error while compiling QGIS 1.5.0
In-Reply-To: <4C567A94.3080202@nordcomp.ru>
References: <4C567A94.3080202@nordcomp.ru>
Message-ID: <20100802085143.GA6853@norbit.de>

Hi Golubev,


On Mon, 02. Aug 2010 at 11:58:12 +0400, A. Golubev wrote:
> QGIS 1.4 compiles fine. Is there any solution?
> MinGW 3.4.5, WinXP SP2, Qt 4.5.1

Hm, http://lists.osgeo.org/pipermail/qgis-user/2010-April/008449.html suggest
that this problem already existed in 1.4.   I don't know if anyone tried to
build QGIS with MinGW.   The "official" builds are done with MSVC, which
apparently doesn't have that problem.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From golubev at nordcomp.ru  Mon Aug  2 04:59:39 2010
From: golubev at nordcomp.ru (A. Golubev)
Date: Mon Aug  2 05:02:52 2010
Subject: [Qgis-developer] Error while compiling QGIS 1.5.0
In-Reply-To: <20100802085143.GA6853@norbit.de>
References: <4C567A94.3080202@nordcomp.ru> <20100802085143.GA6853@norbit.de>
Message-ID: <4C5688FB.2080704@nordcomp.ru>

02.mm.2010 12:51, J?rgen E. Fischer ?????:
> Hi Golubev,
>
>
> On Mon, 02. Aug 2010 at 11:58:12 +0400, A. Golubev wrote:
>    
>> QGIS 1.4 compiles fine. Is there any solution?
>> MinGW 3.4.5, WinXP SP2, Qt 4.5.1
>>      
> Hm, http://lists.osgeo.org/pipermail/qgis-user/2010-April/008449.html suggest
> that this problem already existed in 1.4.   I don't know if anyone tried to
> build QGIS with MinGW.   The "official" builds are done with MSVC, which
> apparently doesn't have that problem.
>
>
> J?rgen
>
>    
I dont have "qgis\src\core\gps" dir in my QGIS 1.4.0 src tree. Is there 
any way to disable compiling of gps stuff or this is core functionality 
now? If so, I will try MSVC. Thanks for help!
From marco.hugentobler at sourcepole.ch  Mon Aug  2 06:32:26 2010
From: marco.hugentobler at sourcepole.ch (Marco Hugentobler)
Date: Mon Aug  2 06:32:43 2010
Subject: [Qgis-developer] Table join branch
In-Reply-To: <AANLkTikAGrPm0uqHA9KTcQxAEkOC9MWec2U3fgUpNAG9@mail.gmail.com>
References: <201007190910.35080.marco.hugentobler@sourcepole.ch>
	<AANLkTikAGrPm0uqHA9KTcQxAEkOC9MWec2U3fgUpNAG9@mail.gmail.com>
Message-ID: <201008021232.26184.marco.hugentobler@sourcepole.ch>

Hi Martin

Thanks for your feedback. The idea of the joining branch was indeed to collect 
feedback on the list in an early  stage (certainly before implementing any 
cache).

>Just to be sure with the table joins, do we refer only to left outer
>joins on one table where the join predicate checks for equality of
>attributes? I.e. something like this:
>SELECT * FROM layer LEFT OUTER JOIN table1 ON layer.a = table1.x [
>LEFT OUTER JOIN table2 ON layer.b = table2.y ... ]
>Or could there be other scenarios like other join types (inner, right
>outer), more complex join predicates (possibly involving geometries)? 

Left outer join is the most important one. Spatial joins are commonly used 
too. 
Right outer and inner joins seem a bit exotic to me in a desktop GIS.

>If we can assume that the joined table won't be modified (much), we
>could build a hash table for each joined table: key = join attribute,
>value = vector of joined attributes. So, later when the layer is being
>iterated, for each feature we would only have to look up the attribute
>in hash table and copy the joined attributes. (Additionally, if we
>wanted to save memory, the hash table values could be only feature ID
>in the joined table - the joined attributes would be loaded at once
>when starting iteration over layer and deleted again when the
>iteration over layer has finished).
>
>This way I hope we could achieve good performance when fetching
>features and to keep the design simple (and with no need for external
>attribute indexes).

I agree a hashtable is the good solution for most cases. 
But what to do in the few cases where the joined attributes don't fit into 
memory at a time? 
Without a memory cache, there is a number of things that can be done efficiently 
even on very large datasets (at least with attribute index):
- Usage of identify tool
- Looking at the attribute table
- Symbology classification on joined attribute on small spatial subset
- Saving joins to disk is much faster compared to the current possibility in 
the vector tools

Storing only the ids in the hashtable would be my preferred solution. Still, 
if we load all the joined attributes 'at once' before iterating, memory might 
be an issue. Not loading at once and calling 'featureAtId' for each feature 
might decrease performance. And yes, there could be cases where the assumption 
about the joined table not changing much is not appropriate (e.g. GIS for real 
time sensor data).

A possible solution would be to provide both 'hashtable in memory' mode and 
'no memory cache' mode. In the join dialog, the user could select what to use 
(with hashtable in memory as default preselected). That way, user cannot 
complain about wrong values if he uses a datasource that changes frequently or 
if the datasource is very large.

What do you think?

Regards,
Marco


Am Donnerstag, 29. Juli 2010, um 15.20:06 schrieb Martin Dobias:
> Hi Marco
> 
> finally I've found time to look at the code...
> 
> On Mon, Jul 19, 2010 at 9:10 AM, Marco Hugentobler
> 
> <marco.hugentobler@sourcepole.ch> wrote:
> > Internally, QgsVectorLayer stores the join info (fields and join table
> > provider key) and remaps the field ids (first the provider ids, then the
> > joined field ids and last the added field ids). When querying the joined
> > field values, a subset string is set to the table provider to query a
> > feature with the value of the join field.
> > 
> > As you might expect, there are still a number of issues:
> > - Joined fields cannot be edited (should they?). So attribute table and
> > info- tool should disable those rows. QgsVectorLayer probably needs a
> > method to tell attribute table and info tool which rows are not
> > editable.
> > - Performance is an issue. The current implementation tries to improve
> > performance by automatically creating attribute indices in the ogr
> > provider (could be implemented in other providers too). Still there is a
> > siginificant performance penalty when doing classifications based on
> > joined attributes or attributes searches (info tool and opening
> > attribute table are usually fast, because not many features are queried
> > at once).
> > One possibility to enhance this could be to load tables into memory
> > providers and implementing attribute index capability there. Are there
> > other possibilities?
> 
> Just to be sure with the table joins, do we refer only to left outer
> joins on one table where the join predicate checks for equality of
> attributes? I.e. something like this:
> SELECT * FROM layer LEFT OUTER JOIN table1 ON layer.a = table1.x [
> LEFT OUTER JOIN table2 ON layer.b = table2.y ... ]
> Or could there be other scenarios like other join types (inner, right
> outer), more complex join predicates (possibly involving geometries)?
> 
> (I will assume only left outer join from now on)
> 
> In my opinion, the current implementation is not suitable for
> production use. In general case, the joining needs linear time for
> fetching attributes for each feature. Using the attribute indexes can
> get this typically to logarithmic time, but still there's need that
> user creates the indexes and provider supports that (probably not many
> ogr drivers have this functionality, postgres provider might not have
> sufficient privileges etc). I think we should aim to find joined
> table's row for each feature in constant time, otherwise the
> performance will be still an issue.
> 
> If we can assume that the joined table won't be modified (much), we
> could build a hash table for each joined table: key = join attribute,
> value = vector of joined attributes. So, later when the layer is being
> iterated, for each feature we would only have to look up the attribute
> in hash table and copy the joined attributes. (Additionally, if we
> wanted to save memory, the hash table values could be only feature ID
> in the joined table - the joined attributes would be loaded at once
> when starting iteration over layer and deleted again when the
> iteration over layer has finished).
> 
> This way I hope we could achieve good performance when fetching
> features and to keep the design simple (and with no need for external
> attribute indexes).
> 
> I will not post comments on any particular source code issues, as it
> is probably too early for that and the focus should stay on the design
> level.
> 
> Regards
> Martin


-- 
Dr. Marco Hugentobler
Sourcepole -  Linux & Open Source Solutions
Webereistrasse 66, 8134 Adliswil, Switzerland
marco.hugentobler@sourcepole.ch http://www.sourcepole.ch
Technical Advisor QGIS Project Steering Committee
From dario.magri at gmail.com  Mon Aug  2 08:17:53 2010
From: dario.magri at gmail.com (Dario Magri)
Date: Mon Aug  2 08:17:55 2010
Subject: [Qgis-developer] Installation problem
Message-ID: <AANLkTin5-7tXiNa3Pd1vd=AK6+JxTdsVHHQXtyKs-Y8f@mail.gmail.com>

Hi,
I follow this guide:
http://www.webalice.it/marco.pasetti/qgis+grass/BuildFromSource.html#Introduction

At pass 24 (Install GRASS) at configure time I have this error:

Unable to locate lex.



The previous step is all correct.

Any suggestion? Thx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100802/18f63c66/attachment.html
From dario.magri at gmail.com  Mon Aug  2 10:48:30 2010
From: dario.magri at gmail.com (Dario Magri)
Date: Mon Aug  2 10:48:33 2010
Subject: [Qgis-developer] C++ Tim Sutton applications , Compile Error
Message-ID: <AANLkTi=5BXUc-maqAONRWMFo8WResr33cyQw6svT11cx@mail.gmail.com>

Hi,
I have a problem on my Application. I want implement the simple application
that is showed in the developer guide (page 20, TIm Sutton application).

I follow this example but when I try to compile I have this errors:

1>C:\OSGeo4W\apps\qgis-dev\include\qgsapplication.h(25) : error C2470:
'QgsApplication' : looks like a function definition, but there is no
parameter list; skipping apparent body
1>C:\OSGeo4W\apps\qgis-dev\include\qgsproviderregistry.h(40) : error C2470:
'QgsProviderRegistry' : looks like a function definition, but there is no
parameter list; skipping apparent body
1>c:\osgeo4w\apps\qgis-dev\include\qgis.h(29) : error C2470: 'QGis' : looks
like a function definition, but there is no parameter list; skipping
apparent body
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(31) : error C2470: 'QgsVector'
: looks like a function definition, but there is no parameter list; skipping
apparent body
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(62) : error C2470: 'QgsPoint'
: looks like a function definition, but there is no parameter list; skipping
apparent body
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(187) : error C4430: missing
type specifier - int assumed. Note: C++ does not support default-int
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(187) : error C2143: syntax
error : missing ',' before '&'
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(188) : error C2803: 'operator
==' must have at least one formal parameter of class type
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(188) : error C2805: binary
'operator ==' has too few parameters
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(189) : error C2065: 'p1' :
undeclared identifier
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(189) : error C2228: left of
'.x' must have class/struct/union
1>        type is ''unknown-type''
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(189) : error C2065: 'p2' :
undeclared identifier
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(189) : error C2228: left of
'.x' must have class/struct/union
1>        type is ''unknown-type''
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(189) : error C2228: left of
'.y' must have class/struct/union
1>        type is ''unknown-type''
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(189) : error C2228: left of
'.y' must have class/struct/union
1>        type is ''unknown-type''
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(195) : error C4430: missing
type specifier - int assumed. Note: C++ does not support default-int
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(195) : error C2143: syntax
error : missing ',' before '&'
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(198) : error C2065: 'p' :
undeclared identifier
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(198) : error C2228: left of
'.toString' must have class/struct/union
1>        type is ''unknown-type''
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(198) : error C2228: left of
'.toLocal8Bit' must have class/struct/union
1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(198) : error C2228: left of
'.data' must have class/struct/union
1>c:\osgeo4w\apps\qgis-dev\include\qgsrectangle.h(36) : error C2470:
'QgsRectangle' : looks like a function definition, but there is no parameter
list; skipping apparent body
1>c:\osgeo4w\apps\qgis-dev\include\qgsrectangle.h(140) : error C2653:
'QgsRectangle' : is not a class or namespace name
1>c:\osgeo4w\apps\qgis-dev\include\qgsrectangle.h(140) : fatal error C1903:
unable to recover from previous error(s); stopping compilation
1>main.cpp
1>C:\OSGeo4W\apps\qgis-dev\include\qgsapplication.h(25) : error C2470:
'QgsApplication' : looks like a function definition, but there is no
parameter list; skipping apparent body
1>Generating Code...


Can anyone help me pls?

Thx, Bye
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100802/b17e793d/attachment-0001.html
From dario.magri at gmail.com  Tue Aug  3 05:23:20 2010
From: dario.magri at gmail.com (Dario Magri)
Date: Tue Aug  3 05:23:23 2010
Subject: [Qgis-developer] Plugin Memory Leak
Message-ID: <AANLkTikd-QyZXZuJGFM6fz8oktXtAie6NR=KjFvnRN5L@mail.gmail.com>

Hi,
I have a Qgis plugin C++. I have subclassing QgisVertexMarker because I wont
show on my application my custom icon.
This is my code:

/////////////////HEADER FILE

#ifndef HLVERTEXMARKER_H
#define HLVERTEXMARKER_H

#include <qgsvertexmarker.h>

class GUI_EXPORT hlVertexMarker : public QgsVertexMarker
{

public:

//! Icons
enum IconType
    {
      ICON_NONE,
      ICON_CROSS,
      ICON_X,
      ICON_BOX,
  ICON_CUSTOM
    };

hlVertexMarker(QgsMapCanvas* mapCanvas);
void paint(QPainter* p);
void setIconFileName(QString xFileName);
QRectF boundingRect() const;

private:
QString m_xFileName;
};

#endif

//////////////////////////////////CPP File


#include <QPainter>

hlVertexMarker::hlVertexMarker(QgsMapCanvas *mapCanvas) :
QgsVertexMarker(mapCanvas)
{
}

void hlVertexMarker::setIconFileName(QString xFileName)
{
m_xFileName = xFileName;
}


void hlVertexMarker::paint(QPainter *p)
{
 // setIconSize(48);
  qreal s = ( mIconSize - 1 ) / 2;

  QPen pen( mColor );
  pen.setWidth( mPenWidth );
  p->setPen( pen );

  switch ( mIconType )
  {
    case ICON_NONE:
      break;

    case ICON_CROSS:
      p->drawLine( QLineF( -s, 0, s, 0 ) );
      p->drawLine( QLineF( 0, -s, 0, s ) );
      break;

    case ICON_X:
      p->drawLine( QLineF( -s, -s, s, s ) );
      p->drawLine( QLineF( -s, s, s, -s ) );
      break;

    case ICON_BOX:
      p->drawLine( QLineF( -s, -s, s, -s ) );
      p->drawLine( QLineF( s, -s, s, s ) );
      p->drawLine( QLineF( s, s, -s, s ) );
      p->drawLine( QLineF( -s, s, -s, -s ) );
      break;

    case ICON_CUSTOM:
  QPixmap pixmap(QSize(48,48));
  pixmap.load(m_xFileName);
      p->drawPixmap(0, 0,pixmap);
  break;
  }
}

QRectF hlVertexMarker::boundingRect() const
{
//Bounding Box
  qreal s = qreal(mIconSize) / 2.0;
  return QRectF( -2.0*s, -2.0*s, 2.0*s, 2.0*s );
}


Whe on my plugin I use my custom VertexMarke Qgis after few second crash. If
I use standard QgisVertexMarker the program work correctly.

Can anyone help me please??

bye
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100803/f885843e/attachment.html
From wonder.sk at gmail.com  Tue Aug  3 07:06:12 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Aug  3 07:06:15 2010
Subject: [Qgis-developer] how to render selected feature on top of the 
	others?
In-Reply-To: <AANLkTimdMOXHnzB+_LRSNovR2aa-UqZ5Pk4pJXCO4Vx-@mail.gmail.com>
References: <AANLkTimdMOXHnzB+_LRSNovR2aa-UqZ5Pk4pJXCO4Vx-@mail.gmail.com>
Message-ID: <AANLkTimvb09LYMRnKMLwv+ODo0T1jiVYUx4_nMH2nPv6@mail.gmail.com>

Hi Giovanni

On Fri, Jul 30, 2010 at 6:34 PM, G. Allegri <giohappy@gmail.com> wrote:
> In my application I need to let the user to select (from a table) and
> zoom to a specified feature
> The layer is made of a dense cloud of points, so even if the point get
> selected it happens to be hidden by other (unselected) points.
> Is it possible to ask the renderer to put the selected points on top
> of the others?

I'm not aware of any straightforward way.

You could create a temporary layer (using memory provider) and put the
selected features into it. If the temporary layer will be placed on
top of the original layer, the user will always see the selected
features.

If using new symbology, you could implement a custom renderer which
would delay rendering of the selected features and render them at last
in stopRender() method.

Regards
Martin
From wonder.sk at gmail.com  Tue Aug  3 07:12:38 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Aug  3 07:12:41 2010
Subject: [Qgis-developer] Qgs Canvas API
In-Reply-To: <AANLkTik=gu5-pS8H6=67nNhJ22THLVg6Dy4ibRZo7XHg@mail.gmail.com>
References: <AANLkTik=gu5-pS8H6=67nNhJ22THLVg6Dy4ibRZo7XHg@mail.gmail.com>
Message-ID: <AANLkTik9_yWZPeamh4ERmbbGUd26WVedRNxS1zzG4Wtb@mail.gmail.com>

Hi Dario

On Fri, Jul 30, 2010 at 2:55 PM, Dario Magri <dario.magri@gmail.com> wrote:
> Hi all,
> my name is Dario and I'm a qgs developer novice.
> I want create a new qt application that show me a map.
> I have some questions:
> 1) Which type of installation I must doing if I want to be able to use Qgs
> API? Current version? Trunk Builds? Source code and than compile it?

If you're going to use Python, things are simple. You can use QGIS
from standalone installer or from OSGeo4W. When using C++ I think you
will have to compile QGIS from source to have the access to the
libraries and headers.

A preferred way is to use current version (1.5 as of now). Trunk
builds are for users who like to test new features.

> 2) Can I developing my application on Windows 7 64 bit architecture?

I think there shouldn't be a problem.

Regards
Martin
From jef at norbit.de  Tue Aug  3 07:24:12 2010
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue Aug  3 07:24:34 2010
Subject: [Qgis-developer] Qgs Canvas API
In-Reply-To: <AANLkTik9_yWZPeamh4ERmbbGUd26WVedRNxS1zzG4Wtb@mail.gmail.com>
References: <AANLkTik=gu5-pS8H6=67nNhJ22THLVg6Dy4ibRZo7XHg@mail.gmail.com>
	<AANLkTik9_yWZPeamh4ERmbbGUd26WVedRNxS1zzG4Wtb@mail.gmail.com>
Message-ID: <20100803112412.GA4225@norbit.de>

Hi Martin,

On Tue, 03. Aug 2010 at 13:12:38 +0200, Martin Dobias wrote:
> > 1) Which type of installation I must doing if I want to be able to use Qgs
> > API? Current version? Trunk Builds? Source code and than compile it?
> 
> If you're going to use Python, things are simple. You can use QGIS
> from standalone installer or from OSGeo4W. When using C++ I think you
> will have to compile QGIS from source to have the access to the
> libraries and headers.

No, the OSGeo4W and the debian packages contain the libraries and headers.

> > 2) Can I developing my application on Windows 7 64 bit architecture?

> I think there shouldn't be a problem.

OSGeo4W is 32bit - so if you're going to build C++ plugins on Windows 64bit you
probably really need to build QGIS and depencencies from source.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From wonder.sk at gmail.com  Tue Aug  3 07:31:16 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Aug  3 07:31:18 2010
Subject: [Qgis-developer] working with temporal data
In-Reply-To: <op.vgq9mepena7rjy@anita-pc.mshome.net>
References: <op.vgq9mepena7rjy@anita-pc.mshome.net>
Message-ID: <AANLkTim989XrQJbv-F9LmhSc727+4wV-VkppzTiprk_s@mail.gmail.com>

Hi Anita

On Sun, Aug 1, 2010 at 12:48 PM, Anita Graser <anitagraser@gmx.at> wrote:
> Hi,
>
> Few days ago, I stumbled upon this new ESRI tool to work with temporal data:
> http://blogs.esri.com/Dev/blogs/arcgis/archive/2010/04/16/New-experience-and-tools-for-working-with-temporal-data.aspx
>
> Such a tool would be really useful for my work any many others too I
> believe. So, I've been thinking about writing a python plugin that basically
> adjusts the layers subsetString to the chosen time frame. But before I start
> coding, I'd like to ask your opinion on what would be the best way to
> implement such a functionality and maybe somebody already implemented it or
> something similar.
>
> On a related topic: I'd also be interested in a "Save as Animation"
> functionality similar to "Save as Image". Do you think it's reasonable to
> implement such a functionality in Python? Do you know any libraries worth
> considering for this job?

An interesting idea for a plugin! The proposed approach with
subsetString should work. When it comes to handling of animations, you
could try to use mencoder (a companion of mplayer) for converting a
series of images to video [1]. I have also some experience with ffmpeg
library for encoding video - it has C api, but it looks there are some
python libraries that wrap it (pyffmpeg, pymedia).

[1] http://www.mplayerhq.hu/DOCS/HTML/en/menc-feat-enc-images.html

Bye
Martin
From wonder.sk at gmail.com  Tue Aug  3 07:51:02 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Aug  3 07:51:05 2010
Subject: [Qgis-developer] Plugin Memory Leak
In-Reply-To: <AANLkTikd-QyZXZuJGFM6fz8oktXtAie6NR=KjFvnRN5L@mail.gmail.com>
References: <AANLkTikd-QyZXZuJGFM6fz8oktXtAie6NR=KjFvnRN5L@mail.gmail.com>
Message-ID: <AANLkTi=L+vZEmoqvqgDN5DBXNtP9Wu+OSdz+eYwMS5HZ@mail.gmail.com>

On Tue, Aug 3, 2010 at 11:23 AM, Dario Magri <dario.magri@gmail.com> wrote:
> Hi,
> I have a Qgis plugin C++. I have subclassing QgisVertexMarker because I wont
> show on my application my custom icon.
> This is my code:
> [...]
> ?? ?case ICON_CUSTOM:
> ?QPixmap pixmap(QSize(48,48));
> ?pixmap.load(m_xFileName);
> ?? ? ?p->drawPixmap(0, 0,pixmap);
> [...]
>
> Whe on my plugin I use my custom VertexMarke Qgis after few second crash. If
> I use standard QgisVertexMarker the program work correctly.
> Can anyone help me please??

Dario,

it's hard to tell from your code snippet. The code looks fine at the
first sight (although it would be better to load the pixmap just once
when the file name is set and then just draw it). Try to run the
application in a debugger to find out where the crash takes place -
that might help you to understand the problem.

Regards
Martin
From giohappy at gmail.com  Tue Aug  3 09:04:30 2010
From: giohappy at gmail.com (G. Allegri)
Date: Tue Aug  3 09:04:38 2010
Subject: [Qgis-developer] how to render selected feature on top of the 
	others?
In-Reply-To: <AANLkTimvb09LYMRnKMLwv+ODo0T1jiVYUx4_nMH2nPv6@mail.gmail.com>
References: <AANLkTimdMOXHnzB+_LRSNovR2aa-UqZ5Pk4pJXCO4Vx-@mail.gmail.com>
	<AANLkTimvb09LYMRnKMLwv+ODo0T1jiVYUx4_nMH2nPv6@mail.gmail.com>
Message-ID: <AANLkTin-Pz6ue-=hVrxLO4VdUuTAiOhU1OggTs2NZCb5@mail.gmail.com>

thanks Martin,
I will consider both the solutions. Wouldn't it be usefull to have
this implemented, at least as an option?

giovanni

2010/8/3 Martin Dobias <wonder.sk@gmail.com>:
> Hi Giovanni
>
> On Fri, Jul 30, 2010 at 6:34 PM, G. Allegri <giohappy@gmail.com> wrote:
>> In my application I need to let the user to select (from a table) and
>> zoom to a specified feature
>> The layer is made of a dense cloud of points, so even if the point get
>> selected it happens to be hidden by other (unselected) points.
>> Is it possible to ask the renderer to put the selected points on top
>> of the others?
>
> I'm not aware of any straightforward way.
>
> You could create a temporary layer (using memory provider) and put the
> selected features into it. If the temporary layer will be placed on
> top of the original layer, the user will always see the selected
> features.
>
> If using new symbology, you could implement a custom renderer which
> would delay rendering of the selected features and render them at last
> in stopRender() method.
>
> Regards
> Martin
>
From wonder.sk at gmail.com  Tue Aug  3 11:34:30 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Aug  3 11:34:32 2010
Subject: [Qgis-developer] how to render selected feature on top of the 
	others?
In-Reply-To: <AANLkTin-Pz6ue-=hVrxLO4VdUuTAiOhU1OggTs2NZCb5@mail.gmail.com>
References: <AANLkTimdMOXHnzB+_LRSNovR2aa-UqZ5Pk4pJXCO4Vx-@mail.gmail.com>
	<AANLkTimvb09LYMRnKMLwv+ODo0T1jiVYUx4_nMH2nPv6@mail.gmail.com>
	<AANLkTin-Pz6ue-=hVrxLO4VdUuTAiOhU1OggTs2NZCb5@mail.gmail.com>
Message-ID: <AANLkTiksS8rCEURPCaeeHT7GLQrXmK3Bt+b=TdC5iGkX@mail.gmail.com>

On Tue, Aug 3, 2010 at 3:04 PM, G. Allegri <giohappy@gmail.com> wrote:
> thanks Martin,
> I will consider both the solutions. Wouldn't it be usefull to have
> this implemented, at least as an option?

Sure, feel free to file an enhancement ticket for that.

Martin
From Stefan.Ziegler at bd.so.ch  Wed Aug  4 01:35:35 2010
From: Stefan.Ziegler at bd.so.ch (Ziegler Stefan)
Date: Wed Aug  4 01:35:53 2010
Subject: [Qgis-developer] Qt Signal Error on Mac OS X
Message-ID: <450232869.5981280900135412.JavaMail.root@srsofaioi13477.ktso.ch>

Hi 

I could need some help from the Mac OS X fraction. While trying to open a new composer window I get this error:

Fehler bei der Ausf?hrung von Python-Code:

Traceback (most recent call last):
  File "/Users/stefan/.qgis/python/plugins/easyprint/easyprint.py",
line 351, in createMap
    composition = composerView.composition()
TypeError: type 'const QgsComposerItem*' is not supported as a native
Qt signal type

Python-Version:
2.6.1 (r261:67515, Jul  7 2009, 23:51:51)
[GCC 4.2.1 (Apple Inc. build 5646)]


QGIS-Version:
1.5.0-Tethys Tethys, 13925

Python-Pfad: ['/Applications/Qgis.app/Contents/MacOS/../Resources/python',
'/Users/stefan/.qgis/python', '/Users/stefan/.qgis/python/plugins',
'/Applications/Qgis.app/Contents/MacOS/../Resources/python/plugins',
'/Library/Frameworks/SQLite3.framework/Versions/3/Python',
'/Library/Frameworks/GDAL.framework/Versions/1.7/Python/site-packages',
'/Library/Frameworks/cairo.framework/Versions/1/Python',
'/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python26.zip',
'/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6',
'/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/plat-darwin',
'/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/plat-mac',
'/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/plat-mac/lib-scriptpackages',
'/System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python',
'/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/lib-tk',
'/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/lib-old',
'/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/lib-dynload',
'/Library/Python/2.6/site-packages',
'/System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python/PyObjC',
'/System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python/wx-2.8-mac-unicode',
u'/Users/stefan/.qgis//python/plugins',
'/Applications/Qgis.app/Contents/Resources/python/plugins/fTools/tools',
'/Users/stefan/.qgis/python/plugins/cadtools/tools',
'/Users/stefan/Documents']


The suspicous code looks like this:

        beforeList = self.iface.activeComposers()
        self.iface.actionPrintComposer().trigger()  
        afterList = self.iface.activeComposers()
        
        diffList = []
        for item in afterList:
            if not item in  beforeList:
                diffList.append(item)

        composerView = diffList[0]
        composition = composerView.composition()
        composition.setPaperSize(float(paperwidth),  float(paperheight))


I'm using the 1.5 build from KyngChaos on Snow Leopard. It works on Linux. Thanks for any hints.

regards
Stefan 

From karl.determe at gmail.com  Wed Aug  4 05:45:30 2010
From: karl.determe at gmail.com (Karl D)
Date: Wed Aug  4 05:45:32 2010
Subject: [Qgis-developer] Executing Action on click
Message-ID: <1280915130551-5371808.post@n2.nabble.com>


Hi all 

I would like to implement a python plugin consisting on the following
control: 
when the control is activated, the user could click on a feature to
immediatly execute an action defined in the current layer. 

I thought to use something like this: 

        def run(self): 
                mapCanvas=self.iface.mapCanvas() 
                # Create the appropriate map tool and connect the gotPoint()
signal. 
                self.emitPoint = QgsMapToolEmitPoint(mapCanvas) 
                mapCanvas.setMapTool(self.emitPoint) 
                QObject.connect(self.emitPoint, SIGNAL("canvasClicked(const
QgsPoint &, Qt::MouseButton)"), self.clickButton) 
                
        def clickButton(self, pnt, but): 
                currentLayer = self.iface.mapCanvas().currentLayer() 
                currentLayer.select(QgsRectangle(pnt.x()-0.5, pnt.y()-0.5,
pnt.x()+0.5, pnt.y()+0.5), False) 
                for feature in currentLayer.selectedFeatures(): 
                        system(currentLayer.actions().expandAction("open",
[("path", feature.attributeMap()[0])], 0)) 


Is it the right way ? 

A problem is that the method doAction doesn't exist in python. Another one
is that I don't know how to call the method expandAction (types of the
arguments ?). 

Any idea is welcome. 

It could also be interesting to call the action with a double click. 

Thank's 
Karl 
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Executing-Action-on-click-tp5371808p5371808.html
Sent from the qgis-developer mailing list archive at Nabble.com.
From giovanni.manghi at gmail.com  Wed Aug  4 09:52:27 2010
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Wed Aug  4 09:52:32 2010
Subject: [Qgis-developer] Executing Action on click
In-Reply-To: <1280915130551-5371808.post@n2.nabble.com>
References: <1280915130551-5371808.post@n2.nabble.com>
Message-ID: <1280929947.1385.7.camel@sibirica>


Hi!


> when the control is activated, the user could click on a feature to
> immediatly execute an action defined in the current layer. 


This would be a very cool plugin, do you plan do make it available in
the contributed repository?


cheers!

-- Giovanni --



From gavin at macaulay.co.nz  Wed Aug  4 10:04:18 2010
From: gavin at macaulay.co.nz (Gavin Macaulay)
Date: Wed Aug  4 10:05:25 2010
Subject: [Qgis-developer] Executing Action on
 click
Message-ID: <20100805020418.AYV82701@msgsrv2.mail.isx.net.nz>

Karl,

Are you aware that something similar (but not quite) already exists in Qgis? One can define actions for vector layers and and run actions for features. However, one can't do that by clicking on the feature in the map display, just in the table display.

If you are familiar with C++, perhaps you could build on the existing code rather than duplicate it with a python plugin?

Regards

Gavin

---- Original message ----
>Date: Wed, 4 Aug 2010 02:45:30 -0700 (PDT)
>From: Karl D <karl.determe@gmail.com>  
>Subject: [Qgis-developer] Executing Action on click  
>To: qgis-developer@lists.osgeo.org
>
>
>Hi all 
>
>I would like to implement a python plugin consisting on the following
>control: 
>when the control is activated, the user could click on a feature to
>immediatly execute an action defined in the current layer. 
>
>I thought to use something like this: 
>
>        def run(self): 
>                mapCanvas=self.iface.mapCanvas() 
>                # Create the appropriate map tool and connect the gotPoint()
>signal. 
>                self.emitPoint = QgsMapToolEmitPoint(mapCanvas) 
>                mapCanvas.setMapTool(self.emitPoint) 
>                QObject.connect(self.emitPoint, SIGNAL("canvasClicked(const
>QgsPoint &, Qt::MouseButton)"), self.clickButton) 
>                
>        def clickButton(self, pnt, but): 
>                currentLayer = self.iface.mapCanvas().currentLayer() 
>                currentLayer.select(QgsRectangle(pnt.x()-0.5, pnt.y()-0.5,
>pnt.x()+0.5, pnt.y()+0.5), False) 
>                for feature in currentLayer.selectedFeatures(): 
>                        system(currentLayer.actions().expandAction("open",
>[("path", feature.attributeMap()[0])], 0)) 
>
>
>Is it the right way ? 
>
>A problem is that the method doAction doesn't exist in python. Another one
>is that I don't know how to call the method expandAction (types of the
>arguments ?). 
>
>Any idea is welcome. 
>
>It could also be interesting to call the action with a double click. 
>
>Thank's 
>Karl 
>-- 
>View this message in context: http://osgeo-org.1803224.n2.nabble.com/Executing-Action-on-click-tp5371808p5371808.html
>Sent from the qgis-developer mailing list archive at Nabble.com.
>_______________________________________________
>Qgis-developer mailing list
>Qgis-developer@lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/qgis-developer
From rehakv01 at gmail.com  Wed Aug  4 10:07:43 2010
From: rehakv01 at gmail.com (=?ISO-8859-2?B?VuFjbGF2INhlaOFr?=)
Date: Wed Aug  4 10:07:46 2010
Subject: [Qgis-developer] working with temporal data
In-Reply-To: <AANLkTim989XrQJbv-F9LmhSc727+4wV-VkppzTiprk_s@mail.gmail.com>
References: <op.vgq9mepena7rjy@anita-pc.mshome.net>
	<AANLkTim989XrQJbv-F9LmhSc727+4wV-VkppzTiprk_s@mail.gmail.com>
Message-ID: <AANLkTikEK-CX6euB0qg0DKx96vGeDm6ZV9BmpyCP6fXW@mail.gmail.com>

2010/8/3 Martin Dobias <wonder.sk@gmail.com>:
> Hi Anita
>
> On Sun, Aug 1, 2010 at 12:48 PM, Anita Graser <anitagraser@gmx.at> wrote:
>> Hi,
>>
>> Few days ago, I stumbled upon this new ESRI tool to work with temporal data:
>> http://blogs.esri.com/Dev/blogs/arcgis/archive/2010/04/16/New-experience-and-tools-for-working-with-temporal-data.aspx
>>
>> Such a tool would be really useful for my work any many others too I
>> believe. So, I've been thinking about writing a python plugin that basically
>> adjusts the layers subsetString to the chosen time frame. But before I start
>> coding, I'd like to ask your opinion on what would be the best way to
>> implement such a functionality and maybe somebody already implemented it or
>> something similar.
>>
>> On a related topic: I'd also be interested in a "Save as Animation"
>> functionality similar to "Save as Image". Do you think it's reasonable to
>> implement such a functionality in Python? Do you know any libraries worth
>> considering for this job?
>
> An interesting idea for a plugin! The proposed approach with
> subsetString should work. When it comes to handling of animations, you
> could try to use mencoder (a companion of mplayer) for converting a
> series of images to video [1]. I have also some experience with ffmpeg
> library for encoding video - it has C api, but it looks there are some
> python libraries that wrap it (pyffmpeg, pymedia).
>
> [1] http://www.mplayerhq.hu/DOCS/HTML/en/menc-feat-enc-images.html

I also find this functionality very appealing for a plugin - it would
help a lot for a home range study we do using QGIS. Talking about
temporal data, is there any reason why there is no support for
datetime attributes in QGIS, only numbers and strings? In our study we
need to create point features for locations where an animal was
observed and the filter those features based on date and time.

Vaclav
From giovanni.manghi at gmail.com  Wed Aug  4 10:10:41 2010
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Wed Aug  4 10:10:46 2010
Subject: [Qgis-developer] working with temporal data
In-Reply-To: <AANLkTikEK-CX6euB0qg0DKx96vGeDm6ZV9BmpyCP6fXW@mail.gmail.com>
References: <op.vgq9mepena7rjy@anita-pc.mshome.net>
	<AANLkTim989XrQJbv-F9LmhSc727+4wV-VkppzTiprk_s@mail.gmail.com>
	<AANLkTikEK-CX6euB0qg0DKx96vGeDm6ZV9BmpyCP6fXW@mail.gmail.com>
Message-ID: <1280931041.1385.14.camel@sibirica>

Hi,

>  Talking about
> temporal data, is there any reason why there is no support for
> datetime attributes in QGIS, only numbers and strings? In our study we
> need to create point features for locations where an animal was
> observed and the filter those features based on date and time.


I believe it does not depend on the program but on the datasource. If
you are using shapefiles you are limited to numer and strings. Take a
far more advanced database like postgis and you'll have plenty of
datatypes, including date/time.


cheers

-- Giovanni --

From volker27 at gmx.at  Wed Aug  4 10:56:00 2010
From: volker27 at gmx.at (Volker =?utf-8?q?Fr=C3=B6hlich?=)
Date: Wed Aug  4 10:52:18 2010
Subject: [Qgis-developer] working with temporal data
In-Reply-To: <AANLkTikEK-CX6euB0qg0DKx96vGeDm6ZV9BmpyCP6fXW@mail.gmail.com>
References: <op.vgq9mepena7rjy@anita-pc.mshome.net>
	<AANLkTim989XrQJbv-F9LmhSc727+4wV-VkppzTiprk_s@mail.gmail.com>
	<AANLkTikEK-CX6euB0qg0DKx96vGeDm6ZV9BmpyCP6fXW@mail.gmail.com>
Message-ID: <201008041656.01048.volker27@gmx.at>

Home range analysis is one of the applications I personally have in mind, 
developing such a plugin with Anita.

Having dynamic overlays of kernels could be nice, for instance. I'll add my 
thoughts to the Wiki later.

Volker

Am Mittwoch 04 August 2010, 16:07:43 schrieb V?clav ?eh?k:
> 2010/8/3 Martin Dobias <wonder.sk@gmail.com>:
> > Hi Anita
> > 
> > On Sun, Aug 1, 2010 at 12:48 PM, Anita Graser <anitagraser@gmx.at> wrote:
> >> Hi,
> >> 
> >> Few days ago, I stumbled upon this new ESRI tool to work with temporal
> >> data:
> >> http://blogs.esri.com/Dev/blogs/arcgis/archive/2010/04/16/New-experienc
> >> e-and-tools-for-working-with-temporal-data.aspx
> >> 
> >> Such a tool would be really useful for my work any many others too I
> >> believe. So, I've been thinking about writing a python plugin that
> >> basically adjusts the layers subsetString to the chosen time frame. But
> >> before I start coding, I'd like to ask your opinion on what would be
> >> the best way to implement such a functionality and maybe somebody
> >> already implemented it or something similar.
> >> 
> >> On a related topic: I'd also be interested in a "Save as Animation"
> >> functionality similar to "Save as Image". Do you think it's reasonable
> >> to implement such a functionality in Python? Do you know any libraries
> >> worth considering for this job?
> > 
> > An interesting idea for a plugin! The proposed approach with
> > subsetString should work. When it comes to handling of animations, you
> > could try to use mencoder (a companion of mplayer) for converting a
> > series of images to video [1]. I have also some experience with ffmpeg
> > library for encoding video - it has C api, but it looks there are some
> > python libraries that wrap it (pyffmpeg, pymedia).
> > 
> > [1] http://www.mplayerhq.hu/DOCS/HTML/en/menc-feat-enc-images.html
> 
> I also find this functionality very appealing for a plugin - it would
> help a lot for a home range study we do using QGIS. Talking about
> temporal data, is there any reason why there is no support for
> datetime attributes in QGIS, only numbers and strings? In our study we
> need to create point features for locations where an animal was
> observed and the filter those features based on date and time.
> 
> Vaclav
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From jef at norbit.de  Wed Aug  4 15:17:33 2010
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Aug  4 15:17:59 2010
Subject: [Qgis-developer] Executing Action on click
In-Reply-To: <1280915130551-5371808.post@n2.nabble.com>
References: <1280915130551-5371808.post@n2.nabble.com>
Message-ID: <20100804191733.GA20646@norbit.de>

Hi Karl,

On Wed, 04. Aug 2010 at 02:45:30 -0700, Karl D wrote:
> A problem is that the method doAction doesn't exist in python.

Fixed in r14010.


J?rgen 

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From karl.determe at gmail.com  Thu Aug  5 03:15:47 2010
From: karl.determe at gmail.com (Karl D)
Date: Thu Aug  5 03:15:49 2010
Subject: [Qgis-developer] Re: Executing Action on click
In-Reply-To: <20100804191733.GA20646@norbit.de>
References: <1280915130551-5371808.post@n2.nabble.com>
	<20100804191733.GA20646@norbit.de>
Message-ID: <1280992547299-5375546.post@n2.nabble.com>


Good news !

At this stage, I call a unique method taking as parameters the attributes of
the feature.
With doAction it will be more generic.

As first use case, I've thought to a map desktop where I can place all sort
of shortcuts (files, folders or urls).
I call then an action to open the shortcut (gnome-open on ubuntu, explorer
on windows, start on Mac, ...).

Thank's
Karl
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Executing-Action-on-click-tp5371808p5375546.html
Sent from the qgis-developer mailing list archive at Nabble.com.
From benoit at exigesa.com  Thu Aug  5 05:25:53 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Thu Aug  5 05:26:01 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <201007211400.50843.marco.hugentobler@sourcepole.ch>
Message-ID: <NEBBKOODKMEEMJKCHBECOEBOJDAA.benoit@exigesa.com>

Hi Developers,

Could you please help me out?

For a python plugin, I'm trying to find out how to give a custom colour
table to a one-band raster. I've looked at the QGIS API but I cannot find
the correct function(s) to use (something within the QgsRasterShader or
QgsRasterShaderFunction??).
Could you please point me to the function(s) that are used to match a custom
colour table (QgsColorRampShader?) to a raster?

BTW: I've developed the "1-band raster colour table" plugin and I want now
to be able to colour the selected raster directly from the plugin instead of
saving the colour palette to a file and asking the user to import it into
the raster manually.

Please note that I've no experience at all in C++! I can't even decipher it
:-(

Cheers,
Benoit

From brush.tyler at gmail.com  Thu Aug  5 09:27:42 2010
From: brush.tyler at gmail.com (Giuseppe Sucameli)
Date: Thu Aug  5 09:28:09 2010
Subject: [Qgis-developer] Re: gdal tools plugin
In-Reply-To: <AANLkTi=1am3sVcdN5-TSdkz8VF2tiHcG_ydkPq3DXJ86@mail.gmail.com>
References: <AANLkTilLcCg8Pj1YwA-LrrneuNMpbI3DnjEx8gf7xLvJ@mail.gmail.com> 
	<1279742049.3310.13.camel@concio.trilan>
	<AANLkTi=1am3sVcdN5-TSdkz8VF2tiHcG_ydkPq3DXJ86@mail.gmail.com>
Message-ID: <AANLkTikcb0ePx_5HitdVo4ey_RC+VM=F3i6GCkRHNdbA@mail.gmail.com>

Hi Duarte,

On Thu, Aug 5, 2010 at 12:18 PM, Duarte Carreira <dncarreira@gmail.com>wrote:

> Hi all.
>
> I would like to contribute with an expanded Translate widget that has more
> options:
>
> - Outsize
> - No data
> - Expand
> - Srcwin
> - Prjwin
> - Sds
>
> How should I submit the new files?
>

you can create a ticket in the qgis trac [1] and assign it to me,
then attach your patches.

The next time you should write in qgis-dev ML so everybody can
take part to the discussion.

Thanks for your contribution!

Cheers

[1] https://trac.osgeo.org/qgis

-- 
Giuseppe Sucameli
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100805/051027f9/attachment.html
From ersts at amnh.org  Thu Aug  5 09:32:59 2010
From: ersts at amnh.org (Peter Ersts)
Date: Thu Aug  5 09:33:09 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <NEBBKOODKMEEMJKCHBECOEBOJDAA.benoit@exigesa.com>
References: <NEBBKOODKMEEMJKCHBECOEBOJDAA.benoit@exigesa.com>
Message-ID: <4C5ABD8B.3020701@amnh.org>

On 08/05/2010 05:25 AM, Benoit de Cabissole wrote:
> Could you please point me to the function(s) that are used to match a custom
> colour table (QgsColorRampShader?) to a raster?
>
>    

Howdy Benoit,

First you will need to set the color shading algorithm for the raster,
 >> YourRasterLayer.setColorShadingAlgorithm( "ColorRampShader" )
This creates a new shader for the raster.

Next you will need to build your color ramp (palette). This is just a 
list of items of type QgsColorRampShader.ColorRampItem, Each item has 
three variables, lable (QString), color (QColor) , and value (double)

Once you have your list you will need to give that list to the shader.
 >> YourRasterLayer.rasterShader().setColorRampItemList( YourColorRamp )

Then you need to set the color ramp type:
 >> YourRasterLayer.rasterShader().setColorRampType( TheType )

Where TheType is, INTERPOLATED, DISCRETE or EXACT. If your color ramp 
only had three entries:
Label1, Red, 0
Label2, Yellow, 127
Label3, Green, 255

exact - looks for an exact match at the time of shading, a value of 90 
would not be shaded.

discrete - is a bin type approach, images pixels with values of 50, 70, 
or 90 would all be assigned the same color

interpolated - is as the name says, 90 will be an interpolated color 
between Red and Yellow. In this case, more yellow than red as 90 is 
closer to 127 than 0.


Hope that helps.
-pete

-- 
====================================
Peter J. Ersts, Software Developer
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Open Source,
...evolving through community cooperation to change the world bit by bit

Quantum GIS Raster Development Team.

From DCarreira at edia.pt  Thu Aug  5 10:44:33 2010
From: DCarreira at edia.pt (Duarte Carreira)
Date: Thu Aug  5 10:51:30 2010
Subject: [Qgis-developer] RE: gdal tools plugin
In-Reply-To: <AANLkTimxeDrnSdVEHMj5LLuzAfuiSxKUg4KuqbKiNq7B@mail.gmail.com>
References: <AANLkTilLcCg8Pj1YwA-LrrneuNMpbI3DnjEx8gf7xLvJ@mail.gmail.com>
	<1279742049.3310.13.camel@concio.trilan>
	<AANLkTi=1am3sVcdN5-TSdkz8VF2tiHcG_ydkPq3DXJ86@mail.gmail.com>
	<AANLkTikcb0ePx_5HitdVo4ey_RC+VM=F3i6GCkRHNdbA@mail.gmail.com>
	<AANLkTimxeDrnSdVEHMj5LLuzAfuiSxKUg4KuqbKiNq7B@mail.gmail.com>
Message-ID: <58C383B0A191E747BE79503F3EEA22BF5E85F9C7C6@beja012.edia.pt>

Giuseppe,

I created the ticket (#2930) and attached a patch.

Duarte

De: Duarte Carreira [mailto:dncarreira@gmail.com]
Enviada: quinta-feira, 5 de Agosto de 2010 15:11
Para: Duarte Carreira
Assunto: Fwd: gdal tools plugin


---------- Forwarded message ----------
From: Giuseppe Sucameli <brush.tyler@gmail.com<mailto:brush.tyler@gmail.com>>
Date: Thu, Aug 5, 2010 at 2:27 PM
Subject: Re: gdal tools plugin
To: Duarte Carreira <dncarreira@gmail.com<mailto:dncarreira@gmail.com>>, qgis-developer ML <qgis-developer@lists.osgeo.org<mailto:qgis-developer@lists.osgeo.org>>
Cc: Lorenzo Masini <lorenxo86@gmail.com<mailto:lorenxo86@gmail.com>>, cavallini@faunalia.it<mailto:cavallini@faunalia.it>


Hi Duarte,
On Thu, Aug 5, 2010 at 12:18 PM, Duarte Carreira <dncarreira@gmail.com<mailto:dncarreira@gmail.com>> wrote:
Hi all.

I would like to contribute with an expanded Translate widget that has more options:

- Outsize
- No data
- Expand
- Srcwin
- Prjwin
- Sds

How should I submit the new files?

you can create a ticket in the qgis trac [1] and assign it to me,
then attach your patches.

The next time you should write in qgis-dev ML so everybody can
take part to the discussion.

Thanks for your contribution!

Cheers

[1] https://trac.osgeo.org/qgis

--
Giuseppe Sucameli

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100805/7920708d/attachment.html
From ricardo.garcia.silva at gmail.com  Thu Aug  5 11:25:32 2010
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Thu Aug  5 11:25:54 2010
Subject: [Qgis-developer] how to print to the shell?
Message-ID: <AANLkTin-FJ4GtHHp1rfnO2apMP76_XyOHPDspc0HeONH@mail.gmail.com>

Hi list
A quick (and hopefully not too embarassing ;) ) question:

-How can I print some variables to the shell when creating a python plugin?
For example, I have a piece of code that goes:

# python code
parameters = dlg.return_parameters()
print("parameters: %s" % parameters)
# end of code

I was expecting to see the output in the terminal, but I get
nothing... I remember doing this in previous versions of Qgis, so
something must have changed and I missed it.
I'm using Qgis 1.5 on kubuntu 10.4

Thank you.

-- 
___________________________ ___ __
Ricardo Garcia Silva
From benoit at exigesa.com  Thu Aug  5 11:37:35 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Thu Aug  5 11:37:46 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <4C5ABD8B.3020701@amnh.org>
Message-ID: <NEBBKOODKMEEMJKCHBECAECBJDAA.benoit@exigesa.com>

Hi Peter,

Many, many thanks for that.

Anyway, QGIS is throwing many exceptions at my code! Need to understand how
things work...

Thanks again!
Benoit

> -----Original Message-----
> From: qgis-developer-bounces@lists.osgeo.org
> [mailto:qgis-developer-bounces@lists.osgeo.org]On Behalf Of Peter Ersts
> Sent: Thursday, 05 August 2010 15:33
> To: qgis-developer@lists.osgeo.org
> Subject: Re: [Qgis-developer] How to load a colour table on a
> raster,programmatically (in python)?
>
>
> On 08/05/2010 05:25 AM, Benoit de Cabissole wrote:
> > Could you please point me to the function(s) that are used to
> match a custom
> > colour table (QgsColorRampShader?) to a raster?
> >
> >
>
> Howdy Benoit,
>
> First you will need to set the color shading algorithm for the raster,
>  >> YourRasterLayer.setColorShadingAlgorithm( "ColorRampShader" )
> This creates a new shader for the raster.
>
> Next you will need to build your color ramp (palette). This is just a
> list of items of type QgsColorRampShader.ColorRampItem, Each item has
> three variables, lable (QString), color (QColor) , and value (double)
>
> Once you have your list you will need to give that list to the shader.
>  >> YourRasterLayer.rasterShader().setColorRampItemList( YourColorRamp )
>
> Then you need to set the color ramp type:
>  >> YourRasterLayer.rasterShader().setColorRampType( TheType )
>
> Where TheType is, INTERPOLATED, DISCRETE or EXACT. If your color ramp
> only had three entries:
> Label1, Red, 0
> Label2, Yellow, 127
> Label3, Green, 255
>
> exact - looks for an exact match at the time of shading, a value of 90
> would not be shaded.
>
> discrete - is a bin type approach, images pixels with values of 50, 70,
> or 90 would all be assigned the same color
>
> interpolated - is as the name says, 90 will be an interpolated color
> between Red and Yellow. In this case, more yellow than red as 90 is
> closer to 127 than 0.
>
>
> Hope that helps.
> -pete
>
> --
> ====================================
> Peter J. Ersts, Software Developer
> American Museum of Natural History
> Center for Biodiversity and Conservation
> Central Park West at 79th Street
> New York, New York 10024
> Web: http://biodiversityinformatics.amnh.org
> Web: http://cbc.amnh.org
>
> Open Source,
> ...evolving through community cooperation to change the world bit by bit
>
> Quantum GIS Raster Development Team.
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From giovanni.manghi at gmail.com  Thu Aug  5 14:03:40 2010
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Thu Aug  5 14:03:45 2010
Subject: [Qgis-developer] displacement plugin not available
Message-ID: <1281031420.1691.17.camel@sibirica>

Hi,

I installed qgis 1.5 trough the ubuntugis repository and then also
compiled trunk myself, both on Ubuntu 10.04, but at the end I cannot see
the displacement plugin in the plugin manager. On windows/osgeo4w no
problems.

any hint?

thanks in advance


-- Giovanni --



From ricardo.garcia.silva at gmail.com  Thu Aug  5 14:47:59 2010
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Thu Aug  5 14:48:22 2010
Subject: [Qgis-developer] Re: how to print to the shell?
In-Reply-To: <AANLkTin-FJ4GtHHp1rfnO2apMP76_XyOHPDspc0HeONH@mail.gmail.com>
References: <AANLkTin-FJ4GtHHp1rfnO2apMP76_XyOHPDspc0HeONH@mail.gmail.com>
Message-ID: <AANLkTinVd1-qO5v_FXpp9=ZZrtt6dX3H=zTUcR27gLrc@mail.gmail.com>

Hi again
My problem has been solved, although I admit I don't know why. I just
had to restart Qgis, and now I can see the output of my print commands
in the shell again. Sorry for the noise

On Thu, Aug 5, 2010 at 4:25 PM, Ricardo Filipe Soares Garcia da
<ricardo.garcia.silva@gmail.com> wrote:
> Hi list
> A quick (and hopefully not too embarassing ;) ) question:
>
> -How can I print some variables to the shell when creating a python plugin?
> For example, I have a piece of code that goes:
>
> # python code
> parameters = dlg.return_parameters()
> print("parameters: %s" % parameters)
> # end of code
>
> I was expecting to see the output in the terminal, but I get
> nothing... I remember doing this in previous versions of Qgis, so
> something must have changed and I missed it.
> I'm using Qgis 1.5 on kubuntu 10.4
>
> Thank you.
>
> --
> ___________________________ ___ __
> Ricardo Garcia Silva
>



-- 
___________________________ ___ __
Ricardo Garcia Silva
From benoit at exigesa.com  Thu Aug  5 15:08:02 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Thu Aug  5 15:08:12 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <4C5ABD8B.3020701@amnh.org>
Message-ID: <NEBBKOODKMEEMJKCHBECKECCJDAA.benoit@exigesa.com>

Hi peter,

Me again, sorry!

I've implemented the code following your suggestions, but it throws the
following error:

==================================================================
Traceback (most recent call last):
  File "C:\Documents and
Settings\Benoit/.qgis/python/plugins\bcccoltbl\cdlgTBL.py", line 373, in
accept
    self.theLayer.rasterShader().setColorRampItemList(theTBL)
AttributeError: 'QgsRasterShader' object has no attribute
'setColorRampItemList'

Python version:
2.5.2 (r252:60911, Feb 21 2008, 13:11:45) [MSC v.1310 32 bit (Intel)]


QGIS version:
1.5.0-Tethys Tethys, 13923M
==================================================================

The code snippet is as follows:
367    # try to load the selected table directly on the selected raster
368    theTBL = self.ParseTBL(LTBL)
369    if not theTBL:
370        return
371    #
372    self.theLayer.setColorShadingAlgorithm( "ColorRampShader" )
373    self.theLayer.rasterShader().setColorRampItemList(theTBL)
374
self.theLayer.rasterShader().setColorRampType(QgsColorRampShader.ColorRamp_T
YPE.DISCRETE)

Problem is that I don't know the reason for the error!
Can it be that:
- theTBL is not valid? (see below how it is created)
- a typo?

- self.theLayer is truly a rasterLayer because the plugin will not load
otherwise.
- line 373 excecutes with no error
- A look at the C++ code for the raster properties 'Apply' colormap section
seems to indicate the code above is correct.

So I'm at a loss here. Do I miss an object?

Moreover, if I swap line 373 and 374 and run the code I do have the same
error:

==================================================================
Traceback (most recent call last):
  File "C:\Documents and
Settings\Benoit/.qgis/python/plugins\bcccoltbl\cdlgTBL.py", line 373, in
accept
    self.theLayer.rasterShader().setColorRampType(QgsColorRampShader.ColorRa
mp_TYPE.DISCRETE)
AttributeError: 'QgsRasterShader' object has no attribute 'setColorRampType'
==================================================================

Could you sort me out?


Code for reading the color ramp list:

    def ParseTBL(self, LTBL):
        """
        Parse the colour table (QML file) to create a
        QgsColorRampShader::ColorRampItem Struct
        """
        theTBLfile = os.path.join(self.FilePath,str(LTBL))              #
full name to the colour table to load
        if not os.path.exists(theTBLfile):
            QMessageBox.critical(self,MSG_BOX_TITLE,"ERROR: colour table not
found:\n"+str(theTBLfile))
            return False
        else:
            sc = open(theTBLfile,'r')
            ar = sc.readlines()
            sc.close()
            #
            nC = 0
            colorRampEntries = []
            #
            for a in ar:
                if a.find(",") >= 0:
                    #value,r,g,b,alpha
                    #-0.65480690,1,1,1,255,
                    br = a.split(",")
                    red = int(br[1])   #red
                    gre = int(br[2])   #green
                    blu = int(br[3])   #blue
                    alp = int(br[4])   #alpha
                    colorRampEntries.append(QgsColorRampShader.ColorRampItem
())
                    colorRampEntries[nC].label = QString(" ")
                    colorRampEntries[nC].value = float(br[0])
                    colorRampEntries[nC].color = QColor(red, gre, blu, alp)
                    nC += 1
            #
            return colorRampEntries

The above code seems to work because on printing str(colorRampEntries) I've
got:
[<qgis.core.ColorRampItem object at 0x124D8810>, ...,
<qgis.core.ColorRampItem object at 0x12575108>]

Add printing str(theTBL[0].value)+"   "+str(theTBL[0].color)
produces:  1.0   <PyQt4.QtGui.QColor object at 0x125785E0>


Sorry again for the length of this message, and take into consideration that
I'm very new to Python as well!

Thanks,
Benoit


> -----Original Message-----
> From: qgis-developer-bounces@lists.osgeo.org
> [mailto:qgis-developer-bounces@lists.osgeo.org]On Behalf Of Peter Ersts
> Sent: Thursday, 05 August 2010 15:33
> To: qgis-developer@lists.osgeo.org
> Subject: Re: [Qgis-developer] How to load a colour table on a
> raster,programmatically (in python)?
>
>
> On 08/05/2010 05:25 AM, Benoit de Cabissole wrote:
> > Could you please point me to the function(s) that are used to
> match a custom
> > colour table (QgsColorRampShader?) to a raster?
> >
> >
>
> Howdy Benoit,
>
> First you will need to set the color shading algorithm for the raster,
>  >> YourRasterLayer.setColorShadingAlgorithm( "ColorRampShader" )
> This creates a new shader for the raster.
>
> Next you will need to build your color ramp (palette). This is just a
> list of items of type QgsColorRampShader.ColorRampItem, Each item has
> three variables, lable (QString), color (QColor) , and value (double)
>
> Once you have your list you will need to give that list to the shader.
>  >> YourRasterLayer.rasterShader().setColorRampItemList( YourColorRamp )
>
> Then you need to set the color ramp type:
>  >> YourRasterLayer.rasterShader().setColorRampType( TheType )
>
> Where TheType is, INTERPOLATED, DISCRETE or EXACT. If your color ramp
> only had three entries:
> Label1, Red, 0
> Label2, Yellow, 127
> Label3, Green, 255
>
> exact - looks for an exact match at the time of shading, a value of 90
> would not be shaded.
>
> discrete - is a bin type approach, images pixels with values of 50, 70,
> or 90 would all be assigned the same color
>
> interpolated - is as the name says, 90 will be an interpolated color
> between Red and Yellow. In this case, more yellow than red as 90 is
> closer to 127 than 0.
>
>
> Hope that helps.
> -pete
>
> --
> ====================================
> Peter J. Ersts, Software Developer
> American Museum of Natural History
> Center for Biodiversity and Conservation
> Central Park West at 79th Street
> New York, New York 10024
> Web: http://biodiversityinformatics.amnh.org
> Web: http://cbc.amnh.org
>
> Open Source,
> ...evolving through community cooperation to change the world bit by bit
>
> Quantum GIS Raster Development Team.
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From ersts at amnh.org  Thu Aug  5 16:03:58 2010
From: ersts at amnh.org (Peter Ersts)
Date: Thu Aug  5 16:04:00 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <NEBBKOODKMEEMJKCHBECKECCJDAA.benoit@exigesa.com>
References: <NEBBKOODKMEEMJKCHBECKECCJDAA.benoit@exigesa.com>
Message-ID: <4C5B192E.2@amnh.org>

On 08/05/2010 03:08 PM, Benoit de Cabissole wrote:
> I've implemented the code following your suggestions, but it throws the
> following error:
>
> ==================================================================
> Traceback (most recent call last):
>    File "C:\Documents and
> Settings\Benoit/.qgis/python/plugins\bcccoltbl\cdlgTBL.py", line 373, in
> accept
>      self.theLayer.rasterShader().setColorRampItemList(theTBL)
> AttributeError: 'QgsRasterShader' object has no attribute
> 'setColorRampItemList'
>    

Sorry Benoit. I kind of gave you the short hand version. 
RasterLayer.rasterShader() returns the base class of QgsColorRampShader 
which is QgsRasterShader() you will have to cast the base class to type 
QgsColorRampShader, but don't even know if that is possible in python.

However, there is another way, You could create your own instance of a 
QgsColorRampShader and pass that to the raster layer using
 >>yourColorRampShader = QgsColorRampShader()
 >>yourColorRampShader.setColorRampItemList( YourList )
 >>RasterLayer.setRasterShaderFunction( yourColorRampShader )

If you take this approach, you no longer have to call 
RasterLayer.setColorShadingAlgorithm().

That should do it. I don't do much python coding, so i may not be able 
to highlight all of the differences between the python and c++ approach.

-pete

-- 
====================================
Peter J. Ersts, Software Developer
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Open Source,
...evolving through community cooperation to change the world bit by bit

Quantum GIS Raster Development Team.

From mandoluca at gmail.com  Thu Aug  5 17:21:33 2010
From: mandoluca at gmail.com (Luca Mandolesi)
Date: Thu Aug  5 17:21:35 2010
Subject: [Qgis-developer] Qgis 1.5 on Mac OS X: problem launching plugins
Message-ID: <AANLkTi=ReDf=N5PrHMQ9fR+A878AxaS225cUqBPFZ5Es@mail.gmail.com>

Hi to all, I've installed Qgis 1.5 for mc os x 10.5, but my plugin
pyarchinit cannot show his GUI. The only message that I see, if I launch
Qgis from Terminal, is the follow: Warning: QMainWindow::saveState():
'objectName' not set for QToolBar 0x144a0aa0 'pyArchInit - Archaeological
GIS Tools' Other plugin (for example Identify features plugin) cannot be
opened as my plugin, but with the Trunk version all is run properly.
Suggestions?? Thanks a lot and best regards Luca
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100805/6ccca398/attachment.html
From woklist at kyngchaos.com  Thu Aug  5 18:46:44 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Thu Aug  5 18:46:49 2010
Subject: [Qgis-developer] Qgis 1.5 on Mac OS X: problem launching plugins
In-Reply-To: <AANLkTi=ReDf=N5PrHMQ9fR+A878AxaS225cUqBPFZ5Es@mail.gmail.com>
References: <AANLkTi=ReDf=N5PrHMQ9fR+A878AxaS225cUqBPFZ5Es@mail.gmail.com>
Message-ID: <77DDBF47-A6AC-4784-ABE0-25C3F54F3593@kyngchaos.com>

Standalone or full version, or built from source?  I've seen issues with python in the standalone Qgis for leopard (10.5), while the full version is fine.  I haven't had a chance to look into it yet.


On Aug 5, 2010, at 4:21 PM, Luca Mandolesi wrote:

> Hi to all,
> I've installed Qgis 1.5 for mc os x 10.5, but my plugin pyarchinit cannot show his GUI. The only message that I see, if I launch Qgis from Terminal, is the follow:
> 
> Warning: QMainWindow::saveState(): 'objectName' not set for QToolBar 0x144a0aa0 'pyArchInit - Archaeological GIS Tools'
> 
> Other plugin (for example Identify features plugin) cannot be opened as my plugin, but with the Trunk version all is run properly.
> 
> Suggestions??
> 
> Thanks a lot and best regards
> 
> Luca
>  _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Those people who most want to rule people are, ipso-facto, those least suited to do it."

- A rule of the universe, from the HitchHiker's Guide to the Galaxy


From woklist at kyngchaos.com  Thu Aug  5 18:59:10 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Thu Aug  5 18:59:14 2010
Subject: [Qgis-developer] Qt Signal Error on Mac OS X
In-Reply-To: <450232869.5981280900135412.JavaMail.root@srsofaioi13477.ktso.ch>
References: <450232869.5981280900135412.JavaMail.root@srsofaioi13477.ktso.ch>
Message-ID: <56BC2557-50CD-4FF1-A554-1F80636A4773@kyngchaos.com>

From the python path, it looks like you have the full.  While I've seen some definite python problems with the standalone version on Leopard, the full version and both on Snow seem to be fine.

This easyprint plugin sounds familiar, but I don't see it on the standard repositories.  Where can I find it, or maybe it's very old and doesn't work in Qgis 1.5, or it's experimental?

On Aug 4, 2010, at 12:35 AM, Ziegler Stefan wrote:

> Hi 
> 
> I could need some help from the Mac OS X fraction. While trying to open a new composer window I get this error:
> 
> Fehler bei der Ausf?hrung von Python-Code:
> 
> Traceback (most recent call last):
>  File "/Users/stefan/.qgis/python/plugins/easyprint/easyprint.py",
> line 351, in createMap
>    composition = composerView.composition()
> TypeError: type 'const QgsComposerItem*' is not supported as a native
> Qt signal type
> 
> Python-Version:
> 2.6.1 (r261:67515, Jul  7 2009, 23:51:51)
> [GCC 4.2.1 (Apple Inc. build 5646)]
> 
> 
> QGIS-Version:
> 1.5.0-Tethys Tethys, 13925
> 
> Python-Pfad: ['/Applications/Qgis.app/Contents/MacOS/../Resources/python',
> '/Users/stefan/.qgis/python', '/Users/stefan/.qgis/python/plugins',
> '/Applications/Qgis.app/Contents/MacOS/../Resources/python/plugins',
> '/Library/Frameworks/SQLite3.framework/Versions/3/Python',
> '/Library/Frameworks/GDAL.framework/Versions/1.7/Python/site-packages',
> '/Library/Frameworks/cairo.framework/Versions/1/Python',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python26.zip',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/plat-darwin',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/plat-mac',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/plat-mac/lib-scriptpackages',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/lib-tk',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/lib-old',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/lib-dynload',
> '/Library/Python/2.6/site-packages',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python/PyObjC',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python/wx-2.8-mac-unicode',
> u'/Users/stefan/.qgis//python/plugins',
> '/Applications/Qgis.app/Contents/Resources/python/plugins/fTools/tools',
> '/Users/stefan/.qgis/python/plugins/cadtools/tools',
> '/Users/stefan/Documents']
> 
> 
> The suspicous code looks like this:
> 
>        beforeList = self.iface.activeComposers()
>        self.iface.actionPrintComposer().trigger()  
>        afterList = self.iface.activeComposers()
> 
>        diffList = []
>        for item in afterList:
>            if not item in  beforeList:
>                diffList.append(item)
> 
>        composerView = diffList[0]
>        composition = composerView.composition()
>        composition.setPaperSize(float(paperwidth),  float(paperheight))
> 
> 
> I'm using the 1.5 build from KyngChaos on Snow Leopard. It works on Linux. Thanks for any hints.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"We are at war with them. Neither in hatred nor revenge and with no particular pleasure I shall kill every ___ I can until the war is over. That is my duty."

"Don't you even hate 'em?"

"What good would it do if I did? If all the many millions of people of the allied nations devoted an entire year exclusively to hating the ____ it wouldn't kill one ___ nor shorten the war one day."

<Ha, ha> "And it might give 'em all stomach ulcers."

- Tarzan, on war

From Stefan.Ziegler at bd.so.ch  Fri Aug  6 01:38:51 2010
From: Stefan.Ziegler at bd.so.ch (Ziegler Stefan)
Date: Fri Aug  6 01:38:54 2010
Subject: AW: [Qgis-developer] Qt Signal Error on Mac OS X
Message-ID: <1131829939.5431281073131130.JavaMail.root@srsofaioi13477.ktso.ch>

Hi William

I can't remember which version I downloaded. I used some dev builds few months ago and now downloaded 1.5, so both are possible. Have to check this.

You can find the plugin here:

http://www.catais.org/qgis/plugins.xml

It runs on trunk and on revision 13851 (on Linux).

regards
Stefan



----- Originalnachricht -----
Von: "William Kyngesburye" <woklist@kyngchaos.com>
Gesendet: Fre, 6.8.2010 00:59
An: "Ziegler Stefan" <Stefan.Ziegler@bd.so.ch>
Cc: qgis-developer@lists.osgeo.org
Betreff: Re: [Qgis-developer] Qt Signal Error on Mac OS X


From the python path, it looks like you have the full.  While I've seen some definite python problems with the standalone version on Leopard, the full version and both on Snow seem to be fine.

This easyprint plugin sounds familiar, but I don't see it on the standard repositories.  Where can I find it, or maybe it's very old and doesn't work in Qgis 1.5, or it's experimental?

On Aug 4, 2010, at 12:35 AM, Ziegler Stefan wrote:

> Hi 
> 
> I could need some help from the Mac OS X fraction. While trying to open a new composer window I get this error:
> 
> Fehler bei der Ausf?hrung von Python-Code:
> 
> Traceback (most recent call last):
>  File "/Users/stefan/.qgis/python/plugins/easyprint/easyprint.py",
> line 351, in createMap
>    composition = composerView.composition()
> TypeError: type 'const QgsComposerItem*' is not supported as a native
> Qt signal type
> 
> Python-Version:
> 2.6.1 (r261:67515, Jul  7 2009, 23:51:51)
> [GCC 4.2.1 (Apple Inc. build 5646)]
> 
> 
> QGIS-Version:
> 1.5.0-Tethys Tethys, 13925
> 
> Python-Pfad: ['/Applications/Qgis.app/Contents/MacOS/../Resources/python',
> '/Users/stefan/.qgis/python', '/Users/stefan/.qgis/python/plugins',
> '/Applications/Qgis.app/Contents/MacOS/../Resources/python/plugins',
> '/Library/Frameworks/SQLite3.framework/Versions/3/Python',
> '/Library/Frameworks/GDAL.framework/Versions/1.7/Python/site-packages',
> '/Library/Frameworks/cairo.framework/Versions/1/Python',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python26.zip',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/plat-darwin',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/plat-mac',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/plat-mac/lib-scriptpackages',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/lib-tk',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/lib-old',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/lib-dynload',
> '/Library/Python/2.6/site-packages',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python/PyObjC',
> '/System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python/wx-2.8-mac-unicode',
> u'/Users/stefan/.qgis//python/plugins',
> '/Applications/Qgis.app/Contents/Resources/python/plugins/fTools/tools',
> '/Users/stefan/.qgis/python/plugins/cadtools/tools',
> '/Users/stefan/Documents']
> 
> 
> The suspicous code looks like this:
> 
>        beforeList = self.iface.activeComposers()
>        self.iface.actionPrintComposer().trigger()  
>        afterList = self.iface.activeComposers()
> 
>        diffList = []
>        for item in afterList:
>            if not item in  beforeList:
>                diffList.append(item)
> 
>        composerView = diffList[0]
>        composition = composerView.composition()
>        composition.setPaperSize(float(paperwidth),  float(paperheight))
> 
> 
> I'm using the 1.5 build from KyngChaos on Snow Leopard. It works on Linux. Thanks for any hints.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"We are at war with them. Neither in hatred nor revenge and with no particular pleasure I shall kill every ___ I can until the war is over. That is my duty."

"Don't you even hate 'em?"

"What good would it do if I did? If all the many millions of people of the allied nations devoted an entire year exclusively to hating the ____ it wouldn't kill one ___ nor shorten the war one day."

<Ha, ha> "And it might give 'em all stomach ulcers."

- Tarzan, on war

    
From mandoluca at gmail.com  Fri Aug  6 02:31:50 2010
From: mandoluca at gmail.com (Luca Mandolesi)
Date: Fri Aug  6 02:31:52 2010
Subject: [Qgis-developer] Qgis 1.5 on Mac OS X: problem launching plugins
In-Reply-To: <77DDBF47-A6AC-4784-ABE0-25C3F54F3593@kyngchaos.com>
References: <AANLkTi=ReDf=N5PrHMQ9fR+A878AxaS225cUqBPFZ5Es@mail.gmail.com>
	<77DDBF47-A6AC-4784-ABE0-25C3F54F3593@kyngchaos.com>
Message-ID: <AANLkTinyy_DOQLuM28cyxBj9iBLyPntD3ki_-ERmiojR@mail.gmail.com>

With the full version.


On Fri, Aug 6, 2010 at 12:46 AM, William Kyngesburye
<woklist@kyngchaos.com>wrote:

> Standalone or full version, or built from source?  I've seen issues with
> python in the standalone Qgis for leopard (10.5), while the full version is
> fine.  I haven't had a chance to look into it yet.
>
>
> On Aug 5, 2010, at 4:21 PM, Luca Mandolesi wrote:
>
> > Hi to all,
> > I've installed Qgis 1.5 for mc os x 10.5, but my plugin pyarchinit cannot
> show his GUI. The only message that I see, if I launch Qgis from Terminal,
> is the follow:
> >
> > Warning: QMainWindow::saveState(): 'objectName' not set for QToolBar
> 0x144a0aa0 'pyArchInit - Archaeological GIS Tools'
> >
> > Other plugin (for example Identify features plugin) cannot be opened as
> my plugin, but with the Trunk version all is run properly.
> >
> > Suggestions??
> >
> > Thanks a lot and best regards
> >
> > Luca
> >  _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> "Those people who most want to rule people are, ipso-facto, those least
> suited to do it."
>
> - A rule of the universe, from the HitchHiker's Guide to the Galaxy
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100806/c021e291/attachment.html
From cavallini at faunalia.it  Fri Aug  6 02:36:14 2010
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri Aug  6 02:36:31 2010
Subject: [Qgis-developer] working with temporal data
In-Reply-To: <201008041656.01048.volker27@gmx.at>
References: <op.vgq9mepena7rjy@anita-pc.mshome.net>	<AANLkTim989XrQJbv-F9LmhSc727+4wV-VkppzTiprk_s@mail.gmail.com>	<AANLkTikEK-CX6euB0qg0DKx96vGeDm6ZV9BmpyCP6fXW@mail.gmail.com>
	<201008041656.01048.volker27@gmx.at>
Message-ID: <4C5BAD5E.7030203@faunalia.it>

Il 04/08/2010 16:56, Volker Fr?hlich ha scritto:
> Home range analysis is one of the applications I personally have in mind, 
> developing such a plugin with Anita.
> 
> Having dynamic overlays of kernels could be nice, for instance. I'll add my 
> thoughts to the Wiki later.

Hi Volker.
Glad to know you're planning to work on home ranges in QGIS. Are you aware of AniMove
project[0]? Your input would be warmly welcomed. We're now planning to do some more
work on this, so please keep in touch.
All the best.
-- 
Paolo Cavallini: http://www.faunalia.it/pc

[0] http://www.faunalia.it/animove
From jef at norbit.de  Fri Aug  6 03:17:32 2010
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Fri Aug  6 03:17:56 2010
Subject: [Qgis-developer] displacement plugin not available
In-Reply-To: <1281031420.1691.17.camel@sibirica>
References: <1281031420.1691.17.camel@sibirica>
Message-ID: <20100806071732.GA15220@norbit.de>

Hi Giovanni,

On Thu, 05. Aug 2010 at 19:03:40 +0100, Giovanni Manghi wrote:
> I installed qgis 1.5 trough the ubuntugis repository and then also
> compiled trunk myself, both on Ubuntu 10.04, but at the end I cannot see
> the displacement plugin in the plugin manager. On windows/osgeo4w no
> problems.

I suppose you also built debian package, when you compiled trunk.  The
displacement plugin was missing from the debian package.

Fixed in trunk and 1.5 in the ubuntugis ppa were also just updated.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From giovanni.manghi at gmail.com  Fri Aug  6 04:57:45 2010
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Fri Aug  6 04:57:51 2010
Subject: [Qgis-developer] displacement plugin not available
In-Reply-To: <20100806071732.GA15220@norbit.de>
References: <1281031420.1691.17.camel@sibirica>
	<20100806071732.GA15220@norbit.de>
Message-ID: <1281085065.1673.18.camel@sibirica>

Hi J?rgen

> I suppose you also built debian package, when you compiled trunk.  The
> displacement plugin was missing from the debian package.


yes, I build my own packages. Thanks, now is fixed.


regards

-- Giovanni --

From lists at linfiniti.com  Fri Aug  6 05:09:36 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Fri Aug  6 05:09:39 2010
Subject: [Qgis-developer] Passing pointer arrays in python
Message-ID: <AANLkTin5gEvBVEaG4U2AVsYg4BqTtES4AViyn-pceFAa@mail.gmail.com>

Hi Martin & other pythonistas

I'm trying to use

void QgsRasterLayer::computeMinimumMaximumFromLastExtent  	(  	int   	
theBand, double *  	theMinMax )

Via python. However I can't seem to figure out how to pass the
arguments. I tried doing:

void QgsRasterLayer::computeMinimumMaximumFromLastExtent  	(  	int   	
theBand,	double *  	theMinMax )


Looking at the generated sip file:

qgis/build/python/core/sipcoreQgsRasterLayer.cpp

If doesnt seem to internally use a double* for the a1 var. (line 2167
below). Is this a bug with the sip file defs, or am I missing how to
use the method?


2160 extern "C" {static PyObject
*meth_QgsRasterLayer_computeMinimumMaximumEstimates(PyObject *,
PyObject *);}
2161 static PyObject
*meth_QgsRasterLayer_computeMinimumMaximumEstimates(PyObject *sipSelf,
PyObject *sipArgs)
2162 {
2163     int sipArgsParsed = 0;
2164
2165     {
2166         int a0;
2167         double a1;
2168         QgsRasterLayer *sipCpp;
2169
2170         if
(sipParseArgs(&sipArgsParsed,sipArgs,"Bi",&sipSelf,sipType_QgsRasterLayer,&sipCpp,&a0))
2171         {
2172             Py_BEGIN_ALLOW_THREADS
2173             sipCpp->computeMinimumMaximumEstimates(a0,&a1);
2174             Py_END_ALLOW_THREADS
2175
2176             return PyFloat_FromDouble(a1);
2177         }
2178     }


Regards

-- 
Tim Sutton - QGIS Project Steering Committee Member (Release? Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
?* QGIS programming and support services
?* Mapserver and PostGIS based hosting plans
?* FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From giovanni.manghi at gmail.com  Fri Aug  6 07:41:32 2010
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Fri Aug  6 07:41:38 2010
Subject: [Qgis-developer] easyprint instead of quick print?
Message-ID: <1281094892.1673.165.camel@sibirica>

Hi all,

I just had a look to the plugin repository of Stefan Ziegler 

http://www.catais.org/qgis/plugins.xml

and tested his "easyprint" plugin.

This plugin creates, with a click, a print layout just as the "quick
print" plugin does, but it does as a standard print composer one,
instead of creating a fixed, not editable, layout.

The "easyprint" plugin was obviously made for a specific situation but
I'll still see it a strong candidate to replace the "quick print" plugin
bacause this has really no flexibility, a few bugs and doesn't seems to
be developed anymore.

what do you think about?


cheers

-- Giovanni --



From giovanni.manghi at gmail.com  Fri Aug  6 08:12:07 2010
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Fri Aug  6 08:12:13 2010
Subject: [Qgis-developer] source of inspiration for tools/plugins?
Message-ID: <1281096727.1673.173.camel@sibirica>

Hi all,

I just stumbled in this site 

http://www.ian-ko.com/

(follow "et geotools -> main features")

and seems to me that a few of the tools available in this arc extension
can be source of inspiration for tools/plugins in qgis (many others are
already available).

There is also a user guide that explain briefly of the tools works.

http://www.ian-ko.com/ET_GeoTools/UserGuide/etgt_UserGuide.htm


cheers

-- Giovanni --

From Stefan.Ziegler at bd.so.ch  Fri Aug  6 08:34:10 2010
From: Stefan.Ziegler at bd.so.ch (Ziegler Stefan)
Date: Fri Aug  6 08:34:15 2010
Subject: AW: [Qgis-developer] easyprint instead of quick print?
Message-ID: <500410788.79571281098050625.JavaMail.root@srsofaioi13477.ktso.ch>

Hi

the main idea was to create a push button solution with some flexibility. The user or admin can define the available paper sizes and scales in an XML (preferences.xml) file. And there is some basic support for creating your own layouts (layouts.xml); eg. footer, header, text, icons, arrow etc. These layouts should work with all available papersizes.

regards
Stefan




----- Originalnachricht -----
Von: "Giovanni Manghi" <giovanni.manghi@gmail.com>
Gesendet: Fre, 6.8.2010 13:41
An: qgis-developer <qgis-developer@lists.osgeo.org>
Betreff: [Qgis-developer] easyprint instead of quick print?

Hi all,

I just had a look to the plugin repository of Stefan Ziegler 

http://www.catais.org/qgis/plugins.xml

and tested his "easyprint" plugin.

This plugin creates, with a click, a print layout just as the "quick
print" plugin does, but it does as a standard print composer one,
instead of creating a fixed, not editable, layout.

The "easyprint" plugin was obviously made for a specific situation but
I'll still see it a strong candidate to replace the "quick print" plugin
bacause this has really no flexibility, a few bugs and doesn't seems to
be developed anymore.

what do you think about?


cheers

-- Giovanni --



_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer
From wonder.sk at gmail.com  Fri Aug  6 08:43:25 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri Aug  6 08:43:26 2010
Subject: [Qgis-developer] Passing pointer arrays in python
In-Reply-To: <AANLkTin5gEvBVEaG4U2AVsYg4BqTtES4AViyn-pceFAa@mail.gmail.com>
References: <AANLkTin5gEvBVEaG4U2AVsYg4BqTtES4AViyn-pceFAa@mail.gmail.com>
Message-ID: <AANLkTinbArmNWLGMFuOB6nHJFRgqdQLmk1fWuNLJ_TyY@mail.gmail.com>

Hi Tim

On Fri, Aug 6, 2010 at 11:09 AM, Tim Sutton <lists@linfiniti.com> wrote:
> Hi Martin & other pythonistas
>
> I'm trying to use
>
> void QgsRasterLayer::computeMinimumMaximumFromLastExtent ? ? ? ?( ? ? ? int
> theBand, double * ? ? ? theMinMax )
>
> Via python. However I can't seem to figure out how to pass the
> arguments. I tried doing:
>
> void QgsRasterLayer::computeMinimumMaximumFromLastExtent ? ? ? ?( ? ? ? int
> theBand, ? ? ? ?double * ? ? ? ?theMinMax )
>
>
> Looking at the generated sip file:
>
> qgis/build/python/core/sipcoreQgsRasterLayer.cpp
>
> If doesnt seem to internally use a double* for the a1 var. (line 2167
> below). Is this a bug with the sip file defs, or am I missing how to
> use the method?

Indeed the wrapper has not been generated correctly because it has
quite specific semantics (sip expected that only one value is going to
be returned). As a workaround, I've added another override in r14017
which can be handled automatically by sip:

>>> layer.computeMinimumMaximumFromLastExtent(1)
(0.0, 255.0)

Cheers
Martin
From benoit at exigesa.com  Fri Aug  6 08:43:48 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Fri Aug  6 08:44:05 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <4C5B192E.2@amnh.org>
Message-ID: <NEBBKOODKMEEMJKCHBECGECKJDAA.benoit@exigesa.com>

Hi Pete,

Thanks for the clarifications, very helpful. But I still need your expertise
;-)

I've tried many combinations around the following code:

118    # Now we can show the main window: user creates a colour table in it.
119    dialog =
cdlgTBL(self.iface,theLayer,FilePath,FilenameIn,str(lDum),wGRD,hGRD,self.GRD
)
120    dialog.show()
121    dialog.exec_()
122    #
123    # Get back the selected colour table to display
124    theTBL = dialog.theTBL
125    nColo = dialog.nColo     # number of colours used in the colour table
126    if not theTBL:
127        return
128    # Display the selected colour table
129    theLayer.rasterShader().setRasterShaderFunction(
QgsColorRampShader() )
130    theLayer.setRasterShaderFunction( QgsColorRampShader() )
131    myColorRampShader = QgsColorRampShader()
132    myColorRampShader.setColorRampItemList( theTBL )
133    myColorRampShader.setMaximumColorCacheSize( nColo )
134    myColorRampShader.setColorRampType( myColorRampShader.DISCRETE )
135    theLayer.rasterShader().setRasterShaderFunction( myColorRampShader )
136    theLayer.setRasterShaderFunction( myColorRampShader )

It excecutes without any error, but:
- The raster does not change colours.
- If, before launching the plugin, I leave the raster properties to their
default, e.g. greyscale, nothing happens after the plugin closes and work
can carry on with no error in QGIS.
- If, before launching the plugin, I set the 'Color ramp' to 'colormap' in
the raster properties dialog, nothing happens either after closing the
plugin but as soon as I want to open the raster properties dialog QGIS bombs
out!

So, I suppose the code does something but it is ignored or harmful.
Any idea why?

I've also tried to disable lines 129, 130, 133 & 136 in all combinations.
The results are the same as described above.
I've also put lines 129-136 into the dialog class, same results.

As you've alluded in your replies, is it possible that we cannot set the
colormap with Python?
Has someone out there done it successfully?

Cheers,
Benoit

From lists at linfiniti.com  Fri Aug  6 08:50:36 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Fri Aug  6 08:50:38 2010
Subject: [Qgis-developer] C++ Tim Sutton applications , Compile Error
In-Reply-To: <AANLkTi=5BXUc-maqAONRWMFo8WResr33cyQw6svT11cx@mail.gmail.com>
References: <AANLkTi=5BXUc-maqAONRWMFo8WResr33cyQw6svT11cx@mail.gmail.com>
Message-ID: <AANLkTi=OkBOam=p3shuQhbFugG2xy6Qm61vA=xmFPHd4@mail.gmail.com>

Hi

Its hard to say without know what compiler you have used and how you
have set up your compilation environment. If you give some more
details we may be able to help.

Regards

Tim

On Mon, Aug 2, 2010 at 4:48 PM, Dario Magri <dario.magri@gmail.com> wrote:
> Hi,
> I have a problem on my Application. I want implement the simple application
> that is showed in the developer guide (page 20, TIm Sutton application).
> I follow this example but when I try to compile I have this errors:
> 1>C:\OSGeo4W\apps\qgis-dev\include\qgsapplication.h(25) : error C2470:
> 'QgsApplication' : looks like a function definition, but there is no
> parameter list; skipping apparent body
> 1>C:\OSGeo4W\apps\qgis-dev\include\qgsproviderregistry.h(40) : error C2470:
> 'QgsProviderRegistry' : looks like a function definition, but there is no
> parameter list; skipping apparent body
> 1>c:\osgeo4w\apps\qgis-dev\include\qgis.h(29) : error C2470: 'QGis' : looks
> like a function definition, but there is no parameter list; skipping
> apparent body
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(31) : error C2470: 'QgsVector'
> : looks like a function definition, but there is no parameter list; skipping
> apparent body
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(62) : error C2470: 'QgsPoint'
> : looks like a function definition, but there is no parameter list; skipping
> apparent body
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(187) : error C4430: missing
> type specifier - int assumed. Note: C++ does not support default-int
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(187) : error C2143: syntax
> error : missing ',' before '&'
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(188) : error C2803: 'operator
> ==' must have at least one formal parameter of class type
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(188) : error C2805: binary
> 'operator ==' has too few parameters
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(189) : error C2065: 'p1' :
> undeclared identifier
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(189) : error C2228: left of
> '.x' must have class/struct/union
> 1> ? ? ? ?type is ''unknown-type''
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(189) : error C2065: 'p2' :
> undeclared identifier
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(189) : error C2228: left of
> '.x' must have class/struct/union
> 1> ? ? ? ?type is ''unknown-type''
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(189) : error C2228: left of
> '.y' must have class/struct/union
> 1> ? ? ? ?type is ''unknown-type''
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(189) : error C2228: left of
> '.y' must have class/struct/union
> 1> ? ? ? ?type is ''unknown-type''
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(195) : error C4430: missing
> type specifier - int assumed. Note: C++ does not support default-int
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(195) : error C2143: syntax
> error : missing ',' before '&'
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(198) : error C2065: 'p' :
> undeclared identifier
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(198) : error C2228: left of
> '.toString' must have class/struct/union
> 1> ? ? ? ?type is ''unknown-type''
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(198) : error C2228: left of
> '.toLocal8Bit' must have class/struct/union
> 1>c:\osgeo4w\apps\qgis-dev\include\qgspoint.h(198) : error C2228: left of
> '.data' must have class/struct/union
> 1>c:\osgeo4w\apps\qgis-dev\include\qgsrectangle.h(36) : error C2470:
> 'QgsRectangle' : looks like a function definition, but there is no parameter
> list; skipping apparent body
> 1>c:\osgeo4w\apps\qgis-dev\include\qgsrectangle.h(140) : error C2653:
> 'QgsRectangle' : is not a class or namespace name
> 1>c:\osgeo4w\apps\qgis-dev\include\qgsrectangle.h(140) : fatal error C1903:
> unable to recover from previous error(s); stopping compilation
> 1>main.cpp
> 1>C:\OSGeo4W\apps\qgis-dev\include\qgsapplication.h(25) : error C2470:
> 'QgsApplication' : looks like a function definition, but there is no
> parameter list; skipping apparent body
> 1>Generating Code...
>
> Can anyone help me pls?
> Thx, Bye
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton - QGIS Project Steering Committee Member (Release? Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
?* QGIS programming and support services
?* Mapserver and PostGIS based hosting plans
?* FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From nsicad at gmail.com  Fri Aug  6 09:04:45 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Fri Aug  6 09:04:51 2010
Subject: [Qgis-developer] source of inspiration for tools/plugins?
In-Reply-To: <1281096727.1673.173.camel@sibirica>
References: <1281096727.1673.173.camel@sibirica>
Message-ID: <AANLkTi=5EGMQStpnW9Wdd-BNVpn6N00Bat53zJMqcZ7x@mail.gmail.com>

Here is another ArcGIS extension tool - XTools Pro.

http://www.xtoolspro.com/

XTools Pro is most advanced extension for ArcGIS. It is easy to use as
well. It is the first tool which implemented the SHP to KML in ArcGIS.

Noli



On 8/6/10, Giovanni Manghi <giovanni.manghi@gmail.com> wrote:
> Hi all,
>
> I just stumbled in this site
>
> http://www.ian-ko.com/
>
> (follow "et geotools -> main features")
>
> and seems to me that a few of the tools available in this arc extension
> can be source of inspiration for tools/plugins in qgis (many others are
> already available).
>
> There is also a user guide that explain briefly of the tools works.
>
> http://www.ian-ko.com/ET_GeoTools/UserGuide/etgt_UserGuide.htm
>
>
> cheers
>
> -- Giovanni --
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From nsicad at gmail.com  Fri Aug  6 09:07:29 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Fri Aug  6 09:07:30 2010
Subject: [Qgis-developer] source of inspiration for tools/plugins?
In-Reply-To: <AANLkTi=5EGMQStpnW9Wdd-BNVpn6N00Bat53zJMqcZ7x@mail.gmail.com>
References: <1281096727.1673.173.camel@sibirica>
	<AANLkTi=5EGMQStpnW9Wdd-BNVpn6N00Bat53zJMqcZ7x@mail.gmail.com>
Message-ID: <AANLkTimz4wogFkCa=kfDdzKaQg3gudek2-SxD+KEG5-6@mail.gmail.com>

Here are the tools

http://www.xtoolspro.com/tools.asp

Data Management tools:

    * - Create FeatureClass/Table
    * - Create File Geodatabse
    * - Create Personal Geodatabase
    * - Delete Dataset
    * - Change Datasources


Feature Conversions:

    * - Transfer/Convert Features
    * - Convert Multipart Shapes
         to Single Parts
    * - Convert Polygons to Polylines
    * - Convert Features to Points
    * - Make one Polygon from Polyline
    * - Make one Polygon from Points
    * - Make one Polyline from Points
    * - Convert Graphics to Shapes
    * - Shapes to Centroids
    * - Split Polylines
    * - Split Polygons
    * - Smooth Polylines
    * - Split Layer by Attributes


Layer Operations:

    * - Erase Features
    * - Identity
    * - Update Polygon Layer
    * - Create Intersection Points


Table Operations:

    * - Calculate Area, Perimeter,
        Length, Acres and Hectares
    * - Add XYZ Coordinates
    * - Aggregate Features/Records
    * - Table Restructure
    * - Export Data to MS Excel
    * - MultiDelete Fields
    * - Table Statistics
    * - Export Table to Text
    * - Export Table to HTML
    * - Find duplicates
    * - Sort Features/Records


Surface Tools:

    * - Convert Grid to Contour
    * - Extract Raster Values
    * - Create Grid from Contours
    * - Create Grid from Points
    * - Build Thiessen Polygons


Go To tools:

    * - Go to Google Maps
    * - Go to Google Earth
    * - Go to Microsoft Bing Maps
    * - Go to ArcGIS Exlporer


Miscellaneous general
usage tools:

    * - Open Attribute Table
    * - Smart Add Data
    * - Show Nodes
    * - Convex Hull
    * - Extract Map
    * - Create Fishnet
    * - Identify Pro
    * - Feature Report
    * - Start Editing Selected Layer
    * - Show Directions
    * - Export Data to KML
    * - Auto Save MXD
    * - Callout Identify
    * - Import Data from KML
    * - Catalog tab and Catalog
        dockable window in ArcMap
    * - Edit Metadata
    * - View Metadata
    * - Synchronize Metadata
    * - MXD Info



On 8/6/10, Noli Sicad <nsicad@gmail.com> wrote:
> Here is another ArcGIS extension tool - XTools Pro.
>
> http://www.xtoolspro.com/
>
> XTools Pro is most advanced extension for ArcGIS. It is easy to use as
> well. It is the first tool which implemented the SHP to KML in ArcGIS.
>
> Noli
>
>
>
> On 8/6/10, Giovanni Manghi <giovanni.manghi@gmail.com> wrote:
>> Hi all,
>>
>> I just stumbled in this site
>>
>> http://www.ian-ko.com/
>>
>> (follow "et geotools -> main features")
>>
>> and seems to me that a few of the tools available in this arc extension
>> can be source of inspiration for tools/plugins in qgis (many others are
>> already available).
>>
>> There is also a user guide that explain briefly of the tools works.
>>
>> http://www.ian-ko.com/ET_GeoTools/UserGuide/etgt_UserGuide.htm
>>
>>
>> cheers
>>
>> -- Giovanni --
>>
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
From cavallini at faunalia.it  Fri Aug  6 09:43:31 2010
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri Aug  6 09:43:37 2010
Subject: [Qgis-developer] source of inspiration for tools/plugins?
In-Reply-To: <AANLkTi=5EGMQStpnW9Wdd-BNVpn6N00Bat53zJMqcZ7x@mail.gmail.com>
References: <1281096727.1673.173.camel@sibirica>
	<AANLkTi=5EGMQStpnW9Wdd-BNVpn6N00Bat53zJMqcZ7x@mail.gmail.com>
Message-ID: <4C5C1183.7020209@faunalia.it>

Il 06/08/2010 15:04, Noli Sicad ha scritto:
> Here is another ArcGIS extension tool - XTools Pro.
> 
> http://www.xtoolspro.com/

It would be useful if you could extract specific functions that are missing from
fTools or QGIS in general and list them one by one in wish tickets, for future reference.
All the best.

-- 
Paolo Cavallini: http://www.faunalia.it/pc
From woklist at kyngchaos.com  Fri Aug  6 11:28:09 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Fri Aug  6 11:28:11 2010
Subject: AW: [Qgis-developer] Qt Signal Error on Mac OS X
In-Reply-To: <1131829939.5431281073131130.JavaMail.root@srsofaioi13477.ktso.ch>
References: <1131829939.5431281073131130.JavaMail.root@srsofaioi13477.ktso.ch>
Message-ID: <148C050A-71B6-4162-A5E2-2082B8AED3DF@kyngchaos.com>

I'm having the same error on Leopard.  That sortof rules out a Python version issue (2.5 on Leopard, and 2.6 on Snow).  Maybe it's something with the Mac build of Qt, nothing I can do about that.  I can't think of anything else on the build side.

I did notice that after the error, and cancelling the initial easyprint dialog, the composer window stays open, behind the main Qgis window.  I didn't try anything in there to see if it was actually working.

On Aug 6, 2010, at 12:38 AM, Ziegler Stefan wrote:

> Hi William
> 
> I can't remember which version I downloaded. I used some dev builds few months ago and now downloaded 1.5, so both are possible. Have to check this.
> 
> You can find the plugin here:
> 
> http://www.catais.org/qgis/plugins.xml
> 
> It runs on trunk and on revision 13851 (on Linux).
> 
> regards
> Stefan
> 
> 

> On Aug 4, 2010, at 12:35 AM, Ziegler Stefan wrote:
> 
>> Hi 
>> 
>> I could need some help from the Mac OS X fraction. While trying to open a new composer window I get this error:
>> 
>> Fehler bei der Ausf?hrung von Python-Code:
>> 
>> Traceback (most recent call last):
>> File "/Users/stefan/.qgis/python/plugins/easyprint/easyprint.py",
>> line 351, in createMap
>>   composition = composerView.composition()
>> TypeError: type 'const QgsComposerItem*' is not supported as a native
>> Qt signal type
>> 

>> 
>> The suspicous code looks like this:
>> 
>>       beforeList = self.iface.activeComposers()
>>       self.iface.actionPrintComposer().trigger()  
>>       afterList = self.iface.activeComposers()
>> 
>>       diffList = []
>>       for item in afterList:
>>           if not item in  beforeList:
>>               diffList.append(item)
>> 
>>       composerView = diffList[0]
>>       composition = composerView.composition()
>>       composition.setPaperSize(float(paperwidth),  float(paperheight))
>> 
>> 
>> I'm using the 1.5 build from KyngChaos on Snow Leopard. It works on Linux. Thanks for any hints.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

All generalizations are dangerous, even this one.


From Stefan.Ziegler at bd.so.ch  Fri Aug  6 14:51:04 2010
From: Stefan.Ziegler at bd.so.ch (Ziegler Stefan)
Date: Fri Aug  6 14:51:09 2010
Subject: AW: Re: AW: [Qgis-developer] Qt Signal Error on Mac OS X
Message-ID: <H00002ea078dd114.1281120664.srsofaioi6145.ktso.ch@MHS>

Thanks for checking this! Wouldn't it be possible to disable this signal
for Mac OS X on the QGIS side? QGIS seems to run smoothly with this
error/bug. So I guess the method which is emitting the signal is never
used (?). But I'm just guessing...

regards 
Stefan

> -----Urspr?ngliche Nachricht-----
> Von: William Kyngesburye [mailto:woklist@kyngchaos.com]
> Gesendet am: Freitag, 6. August 2010 17:28
> An: Ziegler Stefan
> Cc: qgis-developer@lists.osgeo.org
> Betreff: Re: AW: [Qgis-developer] Qt Signal Error on Mac OS X
> 
> I'm having the same error on Leopard.  That sortof rules out 
> a Python version issue (2.5 on Leopard, and 2.6 on Snow).  
> Maybe it's something with the Mac build of Qt, nothing I can 
> do about that.  I can't think of anything else on the build side.
> 
> I did notice that after the error, and cancelling the initial 
> easyprint dialog, the composer window stays open, behind the 
> main Qgis window.  I didn't try anything in there to see if 
> it was actually working.
> 
> On Aug 6, 2010, at 12:38 AM, Ziegler Stefan wrote:
> 
> > Hi William
> > 
> > I can't remember which version I downloaded. I used some 
> dev builds few months ago and now downloaded 1.5, so both are 
> possible. Have to check this.
> > 
> > You can find the plugin here:
> > 
> > http://www.catais.org/qgis/plugins.xml
> > 
> > It runs on trunk and on revision 13851 (on Linux).
> > 
> > regards
> > Stefan
> > 
> > 
> 
> > On Aug 4, 2010, at 12:35 AM, Ziegler Stefan wrote:
> > 
> >> Hi 
> >> 
> >> I could need some help from the Mac OS X fraction. While 
> trying to open a new composer window I get this error:
> >> 
> >> Fehler bei der Ausf?hrung von Python-Code:
> >> 
> >> Traceback (most recent call last):
> >> File "/Users/stefan/.qgis/python/plugins/easyprint/easyprint.py",
> >> line 351, in createMap
> >>   composition = composerView.composition()
> >> TypeError: type 'const QgsComposerItem*' is not supported 
> as a native
> >> Qt signal type
> >> 
> 
> >> 
> >> The suspicous code looks like this:
> >> 
> >>       beforeList = self.iface.activeComposers()
> >>       self.iface.actionPrintComposer().trigger()  
> >>       afterList = self.iface.activeComposers()
> >> 
> >>       diffList = []
> >>       for item in afterList:
> >>           if not item in  beforeList:
> >>               diffList.append(item)
> >> 
> >>       composerView = diffList[0]
> >>       composition = composerView.composition()
> >>       composition.setPaperSize(float(paperwidth),  
> float(paperheight))
> >> 
> >> 
> >> I'm using the 1.5 build from KyngChaos on Snow Leopard. It 
> works on Linux. Thanks for any hints.
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
> 
> All generalizations are dangerous, even this one.
> 
> 
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100806/a8f10139/attachment.html
From ricardo.garcia.silva at gmail.com  Fri Aug  6 18:00:03 2010
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Fri Aug  6 18:00:24 2010
Subject: [Qgis-developer] how to add crs to a new memory provider layer?
Message-ID: <AANLkTikeye3JF=RamVqMZtcWHA5a4RNy6kYX9a+DHU8j@mail.gmail.com>

Hi list
I'm trying to create a plugin that creates a new layer using the
memory provider. I'd like this new layer to have the same crs as
another layer ('linesLayer' in my code below). All is going well,
except that when I add the new layer to the mapLayerRegistry I always
get prompted for selecting the new layer's crs. So, how do I go about
defining it programatically? What I want is to not be bothered with
the dialog to select my layer's crs during the execution of the
plugin. Currently I am doing:

# python code
pointLayer = QgsVectorLayer("Point", "temporary_points", "memory")
pointLayer.setCrs(linesLayer.crs())
# rest of the code
self.layerRegistry.addMapLayer(pointLayer)


Thank you

p.s. - I have been following the examples at the pyqgis cookbook[1]
and I think it is a great learning tool!


[1] - http://mapserver.sk/~wonder/qgis/html/index.html

-- 
___________________________ ___ __
Ricardo Garcia Silva
From rehakv01 at gmail.com  Sat Aug  7 09:48:16 2010
From: rehakv01 at gmail.com (=?ISO-8859-2?B?VuFjbGF2INhlaOFr?=)
Date: Sat Aug  7 09:48:18 2010
Subject: [Qgis-developer] working with temporal data
In-Reply-To: <1280931041.1385.14.camel@sibirica>
References: <op.vgq9mepena7rjy@anita-pc.mshome.net>
	<AANLkTim989XrQJbv-F9LmhSc727+4wV-VkppzTiprk_s@mail.gmail.com>
	<AANLkTikEK-CX6euB0qg0DKx96vGeDm6ZV9BmpyCP6fXW@mail.gmail.com>
	<1280931041.1385.14.camel@sibirica>
Message-ID: <AANLkTikR-+pHpkwXS1S_1aidHdcV+jewPP2sRBZCSyvS@mail.gmail.com>

Dne 4. srpna 2010 22:10 Giovanni Manghi <giovanni.manghi@gmail.com> napsal(a):
> Hi,
>
>> ?Talking about
>> temporal data, is there any reason why there is no support for
>> datetime attributes in QGIS, only numbers and strings? In our study we
>> need to create point features for locations where an animal was
>> observed and the filter those features based on date and time.
> I believe it does not depend on the program but on the datasource. If
> you are using shapefiles you are limited to numer and strings. Take a
> far more advanced database like postgis and you'll have plenty of
> datatypes, including date/time.

There is a forum post (http://forum.qgis.org/viewtopic.php?f=2&t=6732)
claiming that shapefile attributes being just a DBF records might be
usable for datetime. So I wonder if this is a limitation of QGIS or
the shapefile format (or a specific version of the format).

Sure, I can use postgis and write SQL filters to filter by time but I
need a user-friendly way of creating new layers (either shapefile,
SQLite or PostGIS; just any format) with datetime attributes from
QGIS, either manually or from a plugin. The only workaround I found is
to tell my users to create the layers with attributes as text and then
convert it for them to Postgres datetime so they can filter using the
time. But this is barely acceptable for regular usage.

Vaclav
From wonder.sk at gmail.com  Sat Aug  7 11:10:24 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Aug  7 11:10:27 2010
Subject: [Qgis-developer] How to load a colour table on a raster, 
	programmatically (in python)?
In-Reply-To: <NEBBKOODKMEEMJKCHBECGECKJDAA.benoit@exigesa.com>
References: <4C5B192E.2@amnh.org>
	<NEBBKOODKMEEMJKCHBECGECKJDAA.benoit@exigesa.com>
Message-ID: <AANLkTi=kGMn+6tEfrK2NDTD5aXDemgu=93to79qTZBbg@mail.gmail.com>

On Fri, Aug 6, 2010 at 2:43 PM, Benoit de Cabissole <benoit@exigesa.com> wrote:
> I've tried many combinations around the following code:
>
> [...]
> 129 ? ?theLayer.rasterShader().setRasterShaderFunction(
> QgsColorRampShader() )
> 130 ? ?theLayer.setRasterShaderFunction( QgsColorRampShader() )
> 131 ? ?myColorRampShader = QgsColorRampShader()
> 132 ? ?myColorRampShader.setColorRampItemList( theTBL )
> 133 ? ?myColorRampShader.setMaximumColorCacheSize( nColo )
> 134 ? ?myColorRampShader.setColorRampType( myColorRampShader.DISCRETE )
> 135 ? ?theLayer.rasterShader().setRasterShaderFunction( myColorRampShader )
> 136 ? ?theLayer.setRasterShaderFunction( myColorRampShader )

Hi Benoit,

I've took a look at the problem at it turned out there were actually
two problems with python wrappers. I've fixed that in svn - r14022.
>From that revision, things should werk correctly. You should be able
to either:
- create an instance of shader function and assign it to raster layer
without a crash
- retrieve current raster shader function and modify it (previously
always the base class QgsRasterShaderFunction was returned)

Regards
Martin
From wonder.sk at gmail.com  Sat Aug  7 11:23:12 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Aug  7 11:23:14 2010
Subject: [Qgis-developer] how to add crs to a new memory provider layer?
In-Reply-To: <AANLkTikeye3JF=RamVqMZtcWHA5a4RNy6kYX9a+DHU8j@mail.gmail.com>
References: <AANLkTikeye3JF=RamVqMZtcWHA5a4RNy6kYX9a+DHU8j@mail.gmail.com>
Message-ID: <AANLkTinDkqLZhhjZeEmeVij1-yZ97fKc95VYuK3vGF1j@mail.gmail.com>

On Sat, Aug 7, 2010 at 12:00 AM, Ricardo Filipe Soares Garcia da
<ricardo.garcia.silva@gmail.com> wrote:
> Hi list
> I'm trying to create a plugin that creates a new layer using the
> memory provider. I'd like this new layer to have the same crs as
> another layer ('linesLayer' in my code below). All is going well,
> except that when I add the new layer to the mapLayerRegistry I always
> get prompted for selecting the new layer's crs. So, how do I go about
> defining it programatically? What I want is to not be bothered with
> the dialog to select my layer's crs during the execution of the
> plugin. Currently I am doing:
>
> # python code
> pointLayer = QgsVectorLayer("Point", "temporary_points", "memory")
> pointLayer.setCrs(linesLayer.crs())
> # rest of the code
> self.layerRegistry.addMapLayer(pointLayer)

Hi Ricardo

The dialog actually pops up when you construct the vector layer (not
when it is being added to layer registry). Currently I am not aware of
a nice solution. CRS dialog is shown if the key
"/Projections/defaultBehaviour" in QSettings is set to value "prompt".
So you could use a quick and dirty trick to change this setting to
e.g. "useGlobal" before loading the layer, so by default it will get
WGS84 crs, then change the setting back to original value and call
layer's setCrs() to force it to use the correct crs.

Regards
Martin
From benoit at exigesa.com  Sat Aug  7 11:38:43 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Sat Aug  7 11:38:59 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <AANLkTi=kGMn+6tEfrK2NDTD5aXDemgu=93to79qTZBbg@mail.gmail.com>
Message-ID: <NEBBKOODKMEEMJKCHBECOECOJDAA.benoit@exigesa.com>

Hi Martin,

Haha!
Many thanks to have looked at that and fixed it.

Now, the bad news for me, I'm developping in Windows XP and the OSGeo4W
nightly builds (V1.6.x) need GDAL 1.7 to run but there is no python bindings
for that, at last as of yesterday, so most of the plugins do no work, I my
plugin also depends on GDAL...

So, standby for now.

Thanks again,
Benoit



> -----Original Message-----
> From: Martin Dobias [mailto:wonder.sk@gmail.com]
> Sent: Saturday, 07 August 2010 17:10
> To: benoit@exigesa.com
> Cc: qgis-developer@lists.osgeo.org
> Subject: Re: [Qgis-developer] How to load a colour table on a raster,
> programmatically (in python)?
>
>
> On Fri, Aug 6, 2010 at 2:43 PM, Benoit de Cabissole
> <benoit@exigesa.com> wrote:
> > I've tried many combinations around the following code:
> >
> > [...]
> > 129 ? ?theLayer.rasterShader().setRasterShaderFunction(
> > QgsColorRampShader() )
> > 130 ? ?theLayer.setRasterShaderFunction( QgsColorRampShader() )
> > 131 ? ?myColorRampShader = QgsColorRampShader()
> > 132 ? ?myColorRampShader.setColorRampItemList( theTBL )
> > 133 ? ?myColorRampShader.setMaximumColorCacheSize( nColo )
> > 134 ? ?myColorRampShader.setColorRampType( myColorRampShader.DISCRETE )
> > 135 ? ?theLayer.rasterShader().setRasterShaderFunction(
> myColorRampShader )
> > 136 ? ?theLayer.setRasterShaderFunction( myColorRampShader )
>
> Hi Benoit,
>
> I've took a look at the problem at it turned out there were actually
> two problems with python wrappers. I've fixed that in svn - r14022.
> From that revision, things should werk correctly. You should be able
> to either:
> - create an instance of shader function and assign it to raster layer
> without a crash
> - retrieve current raster shader function and modify it (previously
> always the base class QgsRasterShaderFunction was returned)
>
> Regards
> Martin

From wonder.sk at gmail.com  Sat Aug  7 11:43:21 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Aug  7 11:43:26 2010
Subject: [Qgis-developer] working with temporal data
In-Reply-To: <AANLkTikR-+pHpkwXS1S_1aidHdcV+jewPP2sRBZCSyvS@mail.gmail.com>
References: <op.vgq9mepena7rjy@anita-pc.mshome.net>
	<AANLkTim989XrQJbv-F9LmhSc727+4wV-VkppzTiprk_s@mail.gmail.com>
	<AANLkTikEK-CX6euB0qg0DKx96vGeDm6ZV9BmpyCP6fXW@mail.gmail.com>
	<1280931041.1385.14.camel@sibirica>
	<AANLkTikR-+pHpkwXS1S_1aidHdcV+jewPP2sRBZCSyvS@mail.gmail.com>
Message-ID: <AANLkTin8kV3KH07_EHw8cN1VmAU89WRy2bfPXQOoUZ-q@mail.gmail.com>

2010/8/7 V?clav ?eh?k <rehakv01@gmail.com>:
> Dne 4. srpna 2010 22:10 Giovanni Manghi <giovanni.manghi@gmail.com> napsal(a):
>> Hi,
>>
>>> ?Talking about
>>> temporal data, is there any reason why there is no support for
>>> datetime attributes in QGIS, only numbers and strings? In our study we
>>> need to create point features for locations where an animal was
>>> observed and the filter those features based on date and time.
>> I believe it does not depend on the program but on the datasource. If
>> you are using shapefiles you are limited to numer and strings. Take a
>> far more advanced database like postgis and you'll have plenty of
>> datatypes, including date/time.
>
> There is a forum post (http://forum.qgis.org/viewtopic.php?f=2&t=6732)
> claiming that shapefile attributes being just a DBF records might be
> usable for datetime. So I wonder if this is a limitation of QGIS or
> the shapefile format (or a specific version of the format).

According to this page [1], shapefile supports date and datetime field
type. QGIS currently doesn't support date, time and datetime
attributes. From a brief look at OGR shapefile driver, it supports
'date' fields, but not 'datetime' fields.


> Sure, I can use postgis and write SQL filters to filter by time but I
> need a user-friendly way of creating new layers (either shapefile,
> SQLite or PostGIS; just any format) with datetime attributes from
> QGIS, either manually or from a plugin. The only workaround I found is
> to tell my users to create the layers with attributes as text and then
> convert it for them to Postgres datetime so they can filter using the
> time. But this is barely acceptable for regular usage.

You could also use timestamps instead of regular datetime format.
Together with custom edit forms in QGIS I think it's possible to use
date time widget and convert the values from/to timestamps.

[1] http://www.dbf2002.com/dbf-file-format.html

Regards
Martin
From cavallini at faunalia.it  Sat Aug  7 11:44:49 2010
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat Aug  7 11:45:07 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in =?UTF-8?Q?python=29=3F?=
In-Reply-To: <NEBBKOODKMEEMJKCHBECOECOJDAA.benoit@exigesa.com>
References: <NEBBKOODKMEEMJKCHBECOECOJDAA.benoit@exigesa.com>
Message-ID: <513e2aa80ecf793104876b026a3f31f8@localhost>


On Sat, 7 Aug 2010 17:38:43 +0200, "Benoit de Cabissole"
<benoit@exigesa.com> wrote:

> Now, the bad news for me, I'm developping in Windows XP and the OSGeo4W
> nightly builds (V1.6.x) need GDAL 1.7 to run but there is no python
> bindings
> for that, at last as of yesterday, so most of the plugins do no work, I
my
> plugin also depends on GDAL...
> 
> So, standby for now.

I think developing on Linux will be much easier and faster: why not
installing a debian or ubuntu along with your win?
It's not difficult, if you need help we're available.
All the best.
-- 
http://faunalia.it/pc
From wonder.sk at gmail.com  Sat Aug  7 12:50:46 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Aug  7 12:50:49 2010
Subject: [Qgis-developer] Developer cookbook in SVN
Message-ID: <AANLkTin-Kot2rQkR_qyJqv+wstJaohjq4qwYA=gE-JF+@mail.gmail.com>

Hi all,

I've imported the PyQGIS cookbook I've started some time ago to SVN
into documentation directory:

http://svn.osgeo.org/qgis/docs/trunk/english_us/developer_cookbook/

It is aimed towards anyone interested in PyQGIS: beginners who need an
introduction to QGIS API and also advanced users seeking for some
useful code snippets.

Everybody is welcome to participate in development of this material!
The documentation uses sphinx, which is capable of exporting documents
to html, latex and other formats.

@Gary: would it be possible to add nightly builds of the cookbook to
the doc.qgis.org site, just like it works with doxygen docs?
Temporarily I host it on my server [1], but it would be good to have a
permantent location for it...

[1] http://mapserver.sk/~wonder/qgis/html/

Regards
Martin
From lists at linfiniti.com  Sat Aug  7 14:34:37 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Sat Aug  7 14:34:39 2010
Subject: [Qgis-developer] Passing pointer arrays in python
In-Reply-To: <AANLkTinbArmNWLGMFuOB6nHJFRgqdQLmk1fWuNLJ_TyY@mail.gmail.com>
References: <AANLkTin5gEvBVEaG4U2AVsYg4BqTtES4AViyn-pceFAa@mail.gmail.com>
	<AANLkTinbArmNWLGMFuOB6nHJFRgqdQLmk1fWuNLJ_TyY@mail.gmail.com>
Message-ID: <AANLkTikENLF5PPC9x217ppdpWXSnq4Wis9xwa64hVJhp@mail.gmail.com>

Hi

Many thanks Martin!

Regards

Tim

On 8/6/10, Martin Dobias <wonder.sk@gmail.com> wrote:
> Hi Tim
>
> On Fri, Aug 6, 2010 at 11:09 AM, Tim Sutton <lists@linfiniti.com> wrote:
>> Hi Martin & other pythonistas
>>
>> I'm trying to use
>>
>> void QgsRasterLayer::computeMinimumMaximumFromLastExtent ? ? ? ?(
>> int
>> theBand, double * ? ? ? theMinMax )
>>
>> Via python. However I can't seem to figure out how to pass the
>> arguments. I tried doing:
>>
>> void QgsRasterLayer::computeMinimumMaximumFromLastExtent ? ? ? ?(
>> int
>> theBand, ? ? ? ?double * ? ? ? ?theMinMax )
>>
>>
>> Looking at the generated sip file:
>>
>> qgis/build/python/core/sipcoreQgsRasterLayer.cpp
>>
>> If doesnt seem to internally use a double* for the a1 var. (line 2167
>> below). Is this a bug with the sip file defs, or am I missing how to
>> use the method?
>
> Indeed the wrapper has not been generated correctly because it has
> quite specific semantics (sip expected that only one value is going to
> be returned). As a workaround, I've added another override in r14017
> which can be handled automatically by sip:
>
>>>> layer.computeMinimumMaximumFromLastExtent(1)
> (0.0, 255.0)
>
> Cheers
> Martin
>


-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
 * QGIS programming and support services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From lists at linfiniti.com  Sat Aug  7 16:24:21 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Sat Aug  7 16:24:23 2010
Subject: [Qgis-developer] Developer cookbook in SVN
In-Reply-To: <AANLkTin-Kot2rQkR_qyJqv+wstJaohjq4qwYA=gE-JF+@mail.gmail.com>
References: <AANLkTin-Kot2rQkR_qyJqv+wstJaohjq4qwYA=gE-JF+@mail.gmail.com>
Message-ID: <AANLkTinw=E=JEA69u3+NJZQ=EZceO7VAAJcHXhiw0Kn3@mail.gmail.com>

Hi Martin

This is a brilliant resource. We should be able to host it within the
qgis osgeo vm too if needed - do you need to do anything special to
build it other than apt-get install the sphinx binary. Could we theme
it to look like our other documentation resources & web site - Werner
/ Otto would you have time & inclination to look at that? And how do
we generate pdf's?

Thanks for this it is really useful!

Regards

Tim

On 8/7/10, Martin Dobias <wonder.sk@gmail.com> wrote:
> Hi all,
>
> I've imported the PyQGIS cookbook I've started some time ago to SVN
> into documentation directory:
>
> http://svn.osgeo.org/qgis/docs/trunk/english_us/developer_cookbook/
>
> It is aimed towards anyone interested in PyQGIS: beginners who need an
> introduction to QGIS API and also advanced users seeking for some
> useful code snippets.
>
> Everybody is welcome to participate in development of this material!
> The documentation uses sphinx, which is capable of exporting documents
> to html, latex and other formats.
>
> @Gary: would it be possible to add nightly builds of the cookbook to
> the doc.qgis.org site, just like it works with doxygen docs?
> Temporarily I host it on my server [1], but it would be good to have a
> permantent location for it...
>
> [1] http://mapserver.sk/~wonder/qgis/html/
>
> Regards
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
Tim Sutton - QGIS Project Steering Committee Member (Release  Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
 * QGIS programming and support services
 * Mapserver and PostGIS based hosting plans
 * FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From wonder.sk at gmail.com  Sat Aug  7 16:45:50 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Sat Aug  7 16:45:54 2010
Subject: [Qgis-developer] Developer cookbook in SVN
In-Reply-To: <AANLkTinw=E=JEA69u3+NJZQ=EZceO7VAAJcHXhiw0Kn3@mail.gmail.com>
References: <AANLkTin-Kot2rQkR_qyJqv+wstJaohjq4qwYA=gE-JF+@mail.gmail.com>
	<AANLkTinw=E=JEA69u3+NJZQ=EZceO7VAAJcHXhiw0Kn3@mail.gmail.com>
Message-ID: <AANLkTimLpY5jMf31Wqw8pLi0Rft3BiSjMxh6ZJkRmFR8@mail.gmail.com>

Hi Tim

On Sat, Aug 7, 2010 at 10:24 PM, Tim Sutton <lists@linfiniti.com> wrote:
> Hi Martin
>
> This is a brilliant resource. We should be able to host it within the
> qgis osgeo vm too if needed - do you need to do anything special to
> build it other than apt-get install the sphinx binary.

You're right, it could be put into qgis VM. It needs just the sphinx
binary and a cron entry which would run 'make html' regularly.

> Could we theme
> it to look like our other documentation resources & web site - Werner
> / Otto would you have time & inclination to look at that?

Theming should be easy:
http://sphinx.pocoo.org/theming.html

> And how do we generate pdf's?

Just tried it:
make latex
cd build/latex
make all-pdf

It results in a great looking PDF.

Bye
Martin
From woklist at kyngchaos.com  Sat Aug  7 22:41:32 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sat Aug  7 22:41:37 2010
Subject: [Qgis-developer] Qqis Mac standalone fix + plugin development
	addition
Message-ID: <F1E6D373-1FE4-41A8-B125-1C8E34FD0E45@kyngchaos.com>

I fixed a problem in the standalone version that caused various issues from not running to errors in python plugins.

I also added (to standalone and full version) the PyQt utilities for compiling UI and resource files (pylupdate4, pyrcc4, pyuic4), so anyone can create a plugin without having to mess with installing a separate Qt and compiling PyQt, both of which are already in the Qgis app.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

Earth: "Mostly harmless"

- revised entry in the HitchHiker's Guide to the Galaxy


From ricardo.garcia.silva at gmail.com  Sun Aug  8 15:51:07 2010
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Sun Aug  8 15:51:31 2010
Subject: [Qgis-developer] how to add crs to a new memory provider layer?
In-Reply-To: <AANLkTinDkqLZhhjZeEmeVij1-yZ97fKc95VYuK3vGF1j@mail.gmail.com>
References: <AANLkTikeye3JF=RamVqMZtcWHA5a4RNy6kYX9a+DHU8j@mail.gmail.com> 
	<AANLkTinDkqLZhhjZeEmeVij1-yZ97fKc95VYuK3vGF1j@mail.gmail.com>
Message-ID: <AANLkTi==VGKWzObb+kkxHaTfKhEY_P8iML101rAekQfD@mail.gmail.com>

Hi Martin

could you please elaborate a bit more on that? How can I get a pointer
to this "QSettings" instance that you mention? I couldn't find any
reference to it in the online API docs. Maybe you are talking about
QgsProject class? If so, how can I get a pointer to it? I am coding in
Python.

Thank you

On Sat, Aug 7, 2010 at 4:23 PM, Martin Dobias <wonder.sk@gmail.com> wrote:
> On Sat, Aug 7, 2010 at 12:00 AM, Ricardo Filipe Soares Garcia da
> <ricardo.garcia.silva@gmail.com> wrote:
>> Hi list
>> I'm trying to create a plugin that creates a new layer using the
>> memory provider. I'd like this new layer to have the same crs as
>> another layer ('linesLayer' in my code below). All is going well,
>> except that when I add the new layer to the mapLayerRegistry I always
>> get prompted for selecting the new layer's crs. So, how do I go about
>> defining it programatically? What I want is to not be bothered with
>> the dialog to select my layer's crs during the execution of the
>> plugin. Currently I am doing:
>>
>> # python code
>> pointLayer = QgsVectorLayer("Point", "temporary_points", "memory")
>> pointLayer.setCrs(linesLayer.crs())
>> # rest of the code
>> self.layerRegistry.addMapLayer(pointLayer)
>
> Hi Ricardo
>
> The dialog actually pops up when you construct the vector layer (not
> when it is being added to layer registry). Currently I am not aware of
> a nice solution. CRS dialog is shown if the key
> "/Projections/defaultBehaviour" in QSettings is set to value "prompt".
> So you could use a quick and dirty trick to change this setting to
> e.g. "useGlobal" before loading the layer, so by default it will get
> WGS84 crs, then change the setting back to original value and call
> layer's setCrs() to force it to use the correct crs.
>
> Regards
> Martin
>



-- 
___________________________ ___ __
Ricardo Garcia Silva
From rehakv01 at gmail.com  Sun Aug  8 19:48:16 2010
From: rehakv01 at gmail.com (=?ISO-8859-2?B?VuFjbGF2INhlaOFr?=)
Date: Sun Aug  8 19:48:23 2010
Subject: [Qgis-developer] how to add crs to a new memory provider layer?
In-Reply-To: <AANLkTi==VGKWzObb+kkxHaTfKhEY_P8iML101rAekQfD@mail.gmail.com>
References: <AANLkTikeye3JF=RamVqMZtcWHA5a4RNy6kYX9a+DHU8j@mail.gmail.com>
	<AANLkTinDkqLZhhjZeEmeVij1-yZ97fKc95VYuK3vGF1j@mail.gmail.com>
	<AANLkTi==VGKWzObb+kkxHaTfKhEY_P8iML101rAekQfD@mail.gmail.com>
Message-ID: <AANLkTimS+JMpAwNUVjJ15FZkSz24F5LnWfZkwyDDrnHS@mail.gmail.com>

2010/8/9 Ricardo Filipe Soares Garcia da <ricardo.garcia.silva@gmail.com>:
> Hi Martin
>
> could you please elaborate a bit more on that? How can I get a pointer
> to this "QSettings" instance that you mention? I couldn't find any
> reference to it in the online API docs. Maybe you are talking about
> QgsProject class? If so, how can I get a pointer to it? I am coding in
> Python.

QSettings is part of PyQT4, not QGIS, so you find the doc in PyQT4
documentation [1] not in the QGIS API doc.

In my plugin I use it like this:

settings = QSettings()
dirName = settings.value("/UI/lastShapefileDir").toString()

Vaclav

[1] http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qsettings.html

>
> Thank you
>
> On Sat, Aug 7, 2010 at 4:23 PM, Martin Dobias <wonder.sk@gmail.com> wrote:
>> On Sat, Aug 7, 2010 at 12:00 AM, Ricardo Filipe Soares Garcia da
>> <ricardo.garcia.silva@gmail.com> wrote:
>>> Hi list
>>> I'm trying to create a plugin that creates a new layer using the
>>> memory provider. I'd like this new layer to have the same crs as
>>> another layer ('linesLayer' in my code below). All is going well,
>>> except that when I add the new layer to the mapLayerRegistry I always
>>> get prompted for selecting the new layer's crs. So, how do I go about
>>> defining it programatically? What I want is to not be bothered with
>>> the dialog to select my layer's crs during the execution of the
>>> plugin. Currently I am doing:
>>>
>>> # python code
>>> pointLayer = QgsVectorLayer("Point", "temporary_points", "memory")
>>> pointLayer.setCrs(linesLayer.crs())
>>> # rest of the code
>>> self.layerRegistry.addMapLayer(pointLayer)
>>
>> Hi Ricardo
>>
>> The dialog actually pops up when you construct the vector layer (not
>> when it is being added to layer registry). Currently I am not aware of
>> a nice solution. CRS dialog is shown if the key
>> "/Projections/defaultBehaviour" in QSettings is set to value "prompt".
>> So you could use a quick and dirty trick to change this setting to
>> e.g. "useGlobal" before loading the layer, so by default it will get
>> WGS84 crs, then change the setting back to original value and call
>> layer's setCrs() to force it to use the correct crs.
>>
>> Regards
>> Martin
>>
>
>
>
> --
> ___________________________ ___ __
> Ricardo Garcia Silva
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From ricardo.garcia.silva at gmail.com  Sun Aug  8 21:02:30 2010
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Sun Aug  8 21:02:51 2010
Subject: [Qgis-developer] how to add crs to a new memory provider layer?
In-Reply-To: <AANLkTimS+JMpAwNUVjJ15FZkSz24F5LnWfZkwyDDrnHS@mail.gmail.com>
References: <AANLkTikeye3JF=RamVqMZtcWHA5a4RNy6kYX9a+DHU8j@mail.gmail.com> 
	<AANLkTinDkqLZhhjZeEmeVij1-yZ97fKc95VYuK3vGF1j@mail.gmail.com> 
	<AANLkTi==VGKWzObb+kkxHaTfKhEY_P8iML101rAekQfD@mail.gmail.com> 
	<AANLkTimS+JMpAwNUVjJ15FZkSz24F5LnWfZkwyDDrnHS@mail.gmail.com>
Message-ID: <AANLkTinOs16xE+RamLyihmwjmnyUXjfOe87cf-Wzs9u6@mail.gmail.com>

I have implemented the fix suggested by Martin and everything seems to
be working fine.

This plugin creates points along lines according to a user-specified
distance. It can also sample any number of raster layers at the
location of each new point and gather the raster's value.
I'll be releasing it sometime during the week (it'll be called
'Profile from line')

Thank you Martin and V?clav for your speedy and most helpful assistance.

2010/8/9 V?clav ?eh?k <rehakv01@gmail.com>:
> 2010/8/9 Ricardo Filipe Soares Garcia da <ricardo.garcia.silva@gmail.com>:
>> Hi Martin
>>
>> could you please elaborate a bit more on that? How can I get a pointer
>> to this "QSettings" instance that you mention? I couldn't find any
>> reference to it in the online API docs. Maybe you are talking about
>> QgsProject class? If so, how can I get a pointer to it? I am coding in
>> Python.
>
> QSettings is part of PyQT4, not QGIS, so you find the doc in PyQT4
> documentation [1] not in the QGIS API doc.
>
> In my plugin I use it like this:
>
> settings = QSettings()
> dirName = settings.value("/UI/lastShapefileDir").toString()
>
> Vaclav
>
> [1] http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qsettings.html
>
>>
>> Thank you
>>
>> On Sat, Aug 7, 2010 at 4:23 PM, Martin Dobias <wonder.sk@gmail.com> wrote:
>>> On Sat, Aug 7, 2010 at 12:00 AM, Ricardo Filipe Soares Garcia da
>>> <ricardo.garcia.silva@gmail.com> wrote:
>>>> Hi list
>>>> I'm trying to create a plugin that creates a new layer using the
>>>> memory provider. I'd like this new layer to have the same crs as
>>>> another layer ('linesLayer' in my code below). All is going well,
>>>> except that when I add the new layer to the mapLayerRegistry I always
>>>> get prompted for selecting the new layer's crs. So, how do I go about
>>>> defining it programatically? What I want is to not be bothered with
>>>> the dialog to select my layer's crs during the execution of the
>>>> plugin. Currently I am doing:
>>>>
>>>> # python code
>>>> pointLayer = QgsVectorLayer("Point", "temporary_points", "memory")
>>>> pointLayer.setCrs(linesLayer.crs())
>>>> # rest of the code
>>>> self.layerRegistry.addMapLayer(pointLayer)
>>>
>>> Hi Ricardo
>>>
>>> The dialog actually pops up when you construct the vector layer (not
>>> when it is being added to layer registry). Currently I am not aware of
>>> a nice solution. CRS dialog is shown if the key
>>> "/Projections/defaultBehaviour" in QSettings is set to value "prompt".
>>> So you could use a quick and dirty trick to change this setting to
>>> e.g. "useGlobal" before loading the layer, so by default it will get
>>> WGS84 crs, then change the setting back to original value and call
>>> layer's setCrs() to force it to use the correct crs.
>>>
>>> Regards
>>> Martin
>>>
>>
>>
>>
>> --
>> ___________________________ ___ __
>> Ricardo Garcia Silva
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>



-- 
___________________________ ___ __
Ricardo Garcia Silva
From otto.dassau at gmx.de  Mon Aug  9 04:21:23 2010
From: otto.dassau at gmx.de (Otto Dassau)
Date: Mon Aug  9 04:18:40 2010
Subject: [Qgis-developer] Developer cookbook in SVN
In-Reply-To: <AANLkTimLpY5jMf31Wqw8pLi0Rft3BiSjMxh6ZJkRmFR8@mail.gmail.com>
References: <AANLkTin-Kot2rQkR_qyJqv+wstJaohjq4qwYA=gE-JF+@mail.gmail.com>
	<AANLkTinw=E=JEA69u3+NJZQ=EZceO7VAAJcHXhiw0Kn3@mail.gmail.com>
	<AANLkTimLpY5jMf31Wqw8pLi0Rft3BiSjMxh6ZJkRmFR8@mail.gmail.com>
Message-ID: <20100809102123.0b568200@nature.site>

Am Sat, 7 Aug 2010 22:45:50 +0200
schrieb Martin Dobias <wonder.sk@gmail.com>:

> Hi Tim
> 
> On Sat, Aug 7, 2010 at 10:24 PM, Tim Sutton <lists@linfiniti.com> wrote:
> > Hi Martin
> >
> > This is a brilliant resource. We should be able to host it within the
> > qgis osgeo vm too if needed - do you need to do anything special to
> > build it other than apt-get install the sphinx binary.
> 
> You're right, it could be put into qgis VM. It needs just the sphinx
> binary and a cron entry which would run 'make html' regularly.
> 
> > Could we theme
> > it to look like our other documentation resources & web site - Werner
> > / Otto would you have time & inclination to look at that?

yes, I can have a look the next days.

 Otto
 
> Theming should be easy:
> http://sphinx.pocoo.org/theming.html
> 
> > And how do we generate pdf's?
> 
> Just tried it:
> make latex
> cd build/latex
> make all-pdf
> 
> It results in a great looking PDF.
> 
> Bye
> Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
From DCarreira at edia.pt  Mon Aug  9 04:56:03 2010
From: DCarreira at edia.pt (Duarte Carreira)
Date: Mon Aug  9 05:03:05 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <20100807160010.8B42BE0204C@lists.osgeo.org>
References: <20100807160010.8B42BE0204C@lists.osgeo.org>
Message-ID: <58C383B0A191E747BE79503F3EEA22BF5E85F9C860@beja012.edia.pt>

You can get GDAL 1.7 python bindings from the binaries here:
http://vbkto.dyndns.org/sdk/release-1310-gdal-1-7-mapserver-5-6.zip

Just copy bin\gdal\python folder to OSGeo4W\apps\gdal-17\pymod.

Duarte

-----Mensagem original-----
Date: Sat, 07 Aug 2010 17:44:49 +0200
From: Paolo Cavallini <cavallini@faunalia.it>
Subject: RE: [Qgis-developer] How to load a colour table on a raster,
        programmatically (in python)?
To: <benoit@exigesa.com>
Cc: qgis-developer@lists.osgeo.org
Message-ID: <513e2aa80ecf793104876b026a3f31f8@localhost>
Content-Type: text/plain; charset="UTF-8"


On Sat, 7 Aug 2010 17:38:43 +0200, "Benoit de Cabissole"
<benoit@exigesa.com> wrote:

> Now, the bad news for me, I'm developping in Windows XP and the OSGeo4W
> nightly builds (V1.6.x) need GDAL 1.7 to run but there is no python
> bindings
> for that, at last as of yesterday, so most of the plugins do no work, I
my
> plugin also depends on GDAL...
>
> So, standby for now.

I think developing on Linux will be much easier and faster: why not
installing a debian or ubuntu along with your win?
It's not difficult, if you need help we're available.
All the best.
--
http://faunalia.it/pc


------------------------------

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer


End of Qgis-developer Digest, Vol 54, Issue 11
**********************************************
From benoit at exigesa.com  Mon Aug  9 06:20:30 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Mon Aug  9 06:20:54 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <58C383B0A191E747BE79503F3EEA22BF5E85F9C860@beja012.edia.pt>
Message-ID: <NEBBKOODKMEEMJKCHBECAEDDJDAA.benoit@exigesa.com>

Duarte,

You are my saviour!
QGIS and the GDAL dependent plugins work fine...
Ball in my camp again ;->

An ancillary question is how come the OSGeo4W GDAL-1.7 files do not have
those python bindings? Or is it something very new?

Thanks again,
Benoit


> -----Original Message-----
> From: qgis-developer-bounces@lists.osgeo.org
> [mailto:qgis-developer-bounces@lists.osgeo.org]On Behalf Of Duarte
> Carreira
> Sent: Monday, 09 August 2010 10:56
> To: qgis-developer@lists.osgeo.org
> Subject: RE: [Qgis-developer] How to load a colour table on a
> raster,programmatically (in python)?
>
>
> You can get GDAL 1.7 python bindings from the binaries here:
> http://vbkto.dyndns.org/sdk/release-1310-gdal-1-7-mapserver-5-6.zip
>
> Just copy bin\gdal\python folder to OSGeo4W\apps\gdal-17\pymod.
>
> Duarte
>
> -----Mensagem original-----
> Date: Sat, 07 Aug 2010 17:44:49 +0200
> From: Paolo Cavallini <cavallini@faunalia.it>
> Subject: RE: [Qgis-developer] How to load a colour table on a raster,
>         programmatically (in python)?
> To: <benoit@exigesa.com>
> Cc: qgis-developer@lists.osgeo.org
> Message-ID: <513e2aa80ecf793104876b026a3f31f8@localhost>
> Content-Type: text/plain; charset="UTF-8"
>
>
> On Sat, 7 Aug 2010 17:38:43 +0200, "Benoit de Cabissole"
> <benoit@exigesa.com> wrote:
>
> > Now, the bad news for me, I'm developping in Windows XP and the OSGeo4W
> > nightly builds (V1.6.x) need GDAL 1.7 to run but there is no python
> > bindings
> > for that, at last as of yesterday, so most of the plugins do no work, I
> my
> > plugin also depends on GDAL...
> >
> > So, standby for now.
>
> I think developing on Linux will be much easier and faster: why not
> installing a debian or ubuntu along with your win?
> It's not difficult, if you need help we're available.
> All the best.
> --
> http://faunalia.it/pc
>
>
> ------------------------------
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>
> End of Qgis-developer Digest, Vol 54, Issue 11
> **********************************************
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From a.neumann at carto.net  Mon Aug  9 08:29:12 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon Aug  9 08:29:18 2010
Subject: [Qgis-developer] Postgis-Provider and compression
Message-ID: <21754.193.246.86.39.1281356952.squirrel@webmail.carto.net>

Hi all,

I wonder if the current Postgis-Provider somehow supports or would support
compression during data-transfer between the QGIS-client and the remote
Postgis-server. In my experience, data transfer across slower connection
(DSL, cable) is often rather slow.

Would there be, technically, a way to accelerate data transfer over slower
network connections?

I also remember that Sandro Santilli once suggested a keyword substitution
parameter for the psql provider so one could use simplify based on map
resolution/map scale. This should also help to speed up data transfer on
slower connections
(http://lists.osgeo.org/pipermail/qgis-developer/2010-May/009923.html) -
unfortunately noone answered to his mail. I think the proposal would be
interesting to follow.

Andreas

-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From ricardo.garcia.silva at gmail.com  Mon Aug  9 08:50:08 2010
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Mon Aug  9 08:50:35 2010
Subject: [Qgis-developer] how to add a new field to an existing layer?
Message-ID: <AANLkTi=O8XDUYZaTHK7QN6nk14X+2+bE8ayDb2c-+3fZ@mail.gmail.com>

Hello list

How can I add a new field to an existing layer and insert some new
values in it? In the following example, pointLayer refers to an
existing layer, previously created using the memory provider. This
code is creating the new field, but I cannot insert the values in it.
Although it runs without any error, when I look at the layer's
attribute table, the new field is there, but every feature has it as
NULL. By the way, I think this kind of operation would be a nice thing
to go into the pyqgis cookbook
Thanks for your help.
I am trying:

#python code:
provider = pointLayer.dataProvider()
newField = QgsField("channel", QVariant.Double)
provider.addAttributes([newField])
newFieldIndex = provider.fieldNameIndex(newField.name())
#more code
allAttrs = provider.attributeIndexes()
provider.select(allAttrs)
feat = QgsFeature()
while provider.nextFeature(feat):
    # more code, calculating the value of the 'channelValue' variable
    feat.addAttribute(newFieldIndex, channelValue)


-- 
___________________________ ___ __
Ricardo Garcia Silva
From giohappy at gmail.com  Mon Aug  9 09:17:09 2010
From: giohappy at gmail.com (G. Allegri)
Date: Mon Aug  9 09:17:13 2010
Subject: [Qgis-developer] Postgis-Provider and compression
In-Reply-To: <21754.193.246.86.39.1281356952.squirrel@webmail.carto.net>
References: <21754.193.246.86.39.1281356952.squirrel@webmail.carto.net>
Message-ID: <AANLkTimoA1E898xsQ_qXwnsLfKOtqzjg+nHkm4kRYaSH@mail.gmail.com>

I missed that email, but I support that and yours suggestion (anyway
it could be implemented). This is a critical feature for real world
distributed applications.
If Sandro is reading: how did you meant it?

giovanni

2010/8/9 Andreas Neumann <a.neumann@carto.net>:
> Hi all,
>
> I wonder if the current Postgis-Provider somehow supports or would support
> compression during data-transfer between the QGIS-client and the remote
> Postgis-server. In my experience, data transfer across slower connection
> (DSL, cable) is often rather slow.
>
> Would there be, technically, a way to accelerate data transfer over slower
> network connections?
>
> I also remember that Sandro Santilli once suggested a keyword substitution
> parameter for the psql provider so one could use simplify based on map
> resolution/map scale. This should also help to speed up data transfer on
> slower connections
> (http://lists.osgeo.org/pipermail/qgis-developer/2010-May/009923.html) -
> unfortunately noone answered to his mail. I think the proposal would be
> interesting to follow.
>
> Andreas
>
> --
> Andreas Neumann
> http://www.carto.net/neumann/
> http://www.svgopen.org/
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From benoit at exigesa.com  Mon Aug  9 12:22:45 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Mon Aug  9 12:23:09 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <AANLkTi=kGMn+6tEfrK2NDTD5aXDemgu=93to79qTZBbg@mail.gmail.com>
Message-ID: <NEBBKOODKMEEMJKCHBECAEDEJDAA.benoit@exigesa.com>

Martin,

Solved GDAL 1.7 access on OSGeo4W thanks to Duarte and started again to test
thanks to the latest release (r14026) but still unable to produce the
colormap!

Here is the code I'm using:

   # tell the layer to use a QgsColorRampShader function
   theLayer.setColorShadingAlgorithm( QgsRasterLayer.ColorRampShader )
   theLayer.rasterShader().setRasterShaderFunction( QgsColorRampShader() )

   # get the raster shader function: should be a QgsColorRampShader
   myColorRampShader = theLayer.rasterShader().rasterShaderFunction()

   # set parameter for the QgsColorRampShader function
   myColorRampShader.setColorRampItemList( theTBL )
   myColorRampShader.setMaximumColorCacheSize( nColo )
   myColorRampShader.setColorRampType( myColorRampShader.DISCRETE )

   # feed my custom QgsColorRampShader back to the raster
   theLayer.setRasterShaderFunction( myColorRampShader )

It does not produce an error but raster does not change to the given
colormap. Furthermore on quitting QGIS it bombs out (access violation, from
debug).
Do you have an idea of what I'm doing wrong? I've tried to base the code on
the 'Apply' C++ code on the qgsrasterlayerproperties.cpp file.

The original code below produced an "Access violation - no RTTI data" error
without doing anything. Do you know the meaning of that error? Is there a
wiki of the meaning of all errors in QGIS?

Thanks all for your help,
Benoit


> -----Original Message-----
> From: Martin Dobias [mailto:wonder.sk@gmail.com]
> Sent: Saturday, 07 August 2010 17:10
> To: benoit@exigesa.com
> Cc: qgis-developer@lists.osgeo.org
> Subject: Re: [Qgis-developer] How to load a colour table on a raster,
> programmatically (in python)?
>
>
> On Fri, Aug 6, 2010 at 2:43 PM, Benoit de Cabissole
> <benoit@exigesa.com> wrote:
> > I've tried many combinations around the following code:
> >.
> > [...]
> > 129 ? ?theLayer.rasterShader().setRasterShaderFunction(
> > QgsColorRampShader() )
> > 130 ? ?theLayer.setRasterShaderFunction( QgsColorRampShader() )
> > 131 ? ?myColorRampShader = QgsColorRampShader()
> > 132 ? ?myColorRampShader.setColorRampItemList( theTBL )
> > 133 ? ?myColorRampShader.setMaximumColorCacheSize( nColo )
> > 134 ? ?myColorRampShader.setColorRampType( myColorRampShader.DISCRETE )
> > 135 ? ?theLayer.rasterShader().setRasterShaderFunction(
> myColorRampShader )
> > 136 ? ?theLayer.setRasterShaderFunction( myColorRampShader )
>
> Hi Benoit,
>
> I've took a look at the problem at it turned out there were actually
> two problems with python wrappers. I've fixed that in svn - r14022.
> From that revision, things should werk correctly. You should be able
> to either:
> - create an instance of shader function and assign it to raster layer
> without a crash
> - retrieve current raster shader function and modify it (previously
> always the base class QgsRasterShaderFunction was returned)
>
> Regards
> Martin

From benoit at exigesa.com  Mon Aug  9 13:10:58 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Mon Aug  9 13:11:21 2010
Subject: [Qgis-developer] Developer cookbook in SVN
In-Reply-To: <20100809102123.0b568200@nature.site>
Message-ID: <NEBBKOODKMEEMJKCHBECGEDEJDAA.benoit@exigesa.com>

Hi all,

The cookbook is a very good idea. Thanks to set it up!

I've got a problem with the recipe in the raster, Single Band Rasters
section. The code shown to do colormap does not fully work: the layer is
told to use a ColorRampShader, then a custom raster shader function is
initialised and filled with relevant data (a list and flag) and then
nothing. How is this custom function fed back into the raster? Am I missing
something?

In my code I tried to use:
   theLayer.setRasterShaderFunction( myShaderFunction )
but it only causes an "access violation" error when QGIS exits.

After testing the code in the cookbook I can confirm that a colormap is
created: the colormap tab is filled with the correct colour ramp but the
type of colouring (symbology tab, color map combobox) is not changed to
'Colormap', it stays at whatever setting it was before calling the code and
needs to be manually witched to "Colormap" to have the raster taking the
colours of the colormap.

Could you please complete the code in the cookbook to show the final step?

Using QGIS 1.6.R14026 on WinXP under OSGeo4W.

Best regards,
Benoit


> -----Original Message-----
> From: qgis-developer-bounces@lists.osgeo.org
> [mailto:qgis-developer-bounces@lists.osgeo.org]On Behalf Of Otto Dassau
> Sent: Monday, 09 August 2010 10:21
> To: Martin Dobias
> Cc: qgis-dev
> Subject: Re: [Qgis-developer] Developer cookbook in SVN
>
>
> Am Sat, 7 Aug 2010 22:45:50 +0200
> schrieb Martin Dobias <wonder.sk@gmail.com>:
>
> > Hi Tim
> >
> > On Sat, Aug 7, 2010 at 10:24 PM, Tim Sutton <lists@linfiniti.com> wrote:
> > > Hi Martin
> > >
> > > This is a brilliant resource. We should be able to host it within the
> > > qgis osgeo vm too if needed - do you need to do anything special to
> > > build it other than apt-get install the sphinx binary.
> >
> > You're right, it could be put into qgis VM. It needs just the sphinx
> > binary and a cron entry which would run 'make html' regularly.
> >
> > > Could we theme
> > > it to look like our other documentation resources & web site - Werner
> > > / Otto would you have time & inclination to look at that?
>
> yes, I can have a look the next days.
>
>  Otto
>
> > Theming should be easy:
> > http://sphinx.pocoo.org/theming.html
> >
> > > And how do we generate pdf's?
> >
> > Just tried it:
> > make latex
> > cd build/latex
> > make all-pdf
> >
> > It results in a great looking PDF.
> >
> > Bye
> > Martin
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From alexander.bruy at gmail.com  Mon Aug  9 14:35:56 2010
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Mon Aug  9 14:38:44 2010
Subject: [Qgis-developer] Table join branch
In-Reply-To: <201007190910.35080.marco.hugentobler@sourcepole.ch>
References: <201007190910.35080.marco.hugentobler@sourcepole.ch>
Message-ID: <20100809213556.0c0b06b2.alexander.bruy@gmail.com>

Hi all

few weeks ago Marco Hugentobler announced his table_join_branch

On Mon, 19 Jul 2010 09:10:33 +0200
Marco Hugentobler <marco.hugentobler@sourcepole.ch> wrote:

> Hi QGIS devs
> 
> There is now the table_join_branch (svn co 
> https://svn.osgeo.org/qgis/branches/table_join_branch) which contains an 
> initial table join prototype. Here is a short description how to use it:
> - Load a vector layer
> - Load a table layer. This can be done e.g. using 'Layer->Add Vector Layer...' 
> on a .dbf or .csv file
> - Go to vector layer properties->join and click '+' to add a new join
> - Select join field of table and join-to field of vector layer
> - Now you should see the new fields in the attribute tab of the vector layer 
> properties, in the attribute table and in the info-tool window

Our community prepare QGIS binaries from this branch (r14026) for OSGeo4W
users who want to test this great improvement. You can find this files and
installation instruction at GIS-Lab blog (in Russian, but there is a Google
translator in right panel).

Here is a short installation instruction:
 install qgis-dev with all dependencies from OSGeo4W
 download archieve with binaries (~9 Mb in 7-zip archieve)
   http://gis-lab.info/programs/qgis/qgis-tablejoin-r14026.7z
 unpack it in OSGeo4W root folder (C:\OSGeo4W by default)
 in OSGeo shell run qgis-join.bat

-- 
Alexander Bruy
From mauricio.dev at gmail.com  Mon Aug  9 14:39:07 2010
From: mauricio.dev at gmail.com (=?ISO-8859-1?Q?Maur=EDcio_de_Paulo?=)
Date: Mon Aug  9 14:39:09 2010
Subject: [Qgis-developer] GPS Plugin Bug on windows
Message-ID: <AANLkTin_-thEK2N4kK5pJD=_yUj_5Ca5WTopnyivd=th@mail.gmail.com>

Hi folks,
I've stumbled upon something that looks like this bug.
http://trac.osgeo.org/qgis/ticket/1170
The problem seems simples. I'm using QGIS 1.5 and Windows XP with a garmin
gps.
When calling gpsbabel from command line everything runs smoothly.
When loading the data directly from the gps using qgis' plugin the "Invalid
layer" message apear.
The file is not even created and no signal comes from the gps.

As a workaround I've edited the gps "Devices". I've changed from

"%in" "%out"
to
usb: c:\test.gpx

And everything worked fine.
As far as I can see I'm stumbling upon some string replacing problem when
changing from the "%out" to the actual path used in the plugin.

When I changed just the "%in" to usb: I've found a %out file in my c:\
folder. So the plugin is not working properly when replacing %out to the
actual filename  I've found on the gui.
Is someone able to reproduce it? I've tested on 3 machines. One linux
(worked well) and 2 windows xp. None of the windows xp worked.




-- 
1? Ten Mauricio - Engenheiro Cart?grafo
Chefe da Se??o de Processamento de Imagens
1? Divis?o de Levantamento
Ex?rcito Brasileiro - Bra?o Forte, M?o Amiga.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100809/72687d4e/attachment.html
From ersts at amnh.org  Mon Aug  9 15:22:21 2010
From: ersts at amnh.org (Peter Ersts)
Date: Mon Aug  9 15:22:25 2010
Subject: [Qgis-developer] Typo in QgsRasterLayer enum
Message-ID: <4C60556D.8050004@amnh.org>

Howdy devs,

Last night  I was looking through the QgsRasterLayer code and noticed a 
typo in the DrawingStyle enum that made it in during the major renaming 
efforts  (r9564 & r9566) just before version 1.0 was released.

MultiBandSingleGandGray should be MultiBandsingleBandGray

Question is how do we go about fixing it and preserving compatibility?

I was thinking we would need to:
1) add the correctly spelled enum
2) use both enums where ever the incorrect one appears, example
if( QgsRasterLayer::MultiBandSingleGandGray )
becomes
if( QgsRasterLayer::MultiBandSingleGandGray || 
QgsRasterLayer::MultiBandsingleBandGray )
3) Wait until v2.0 to drop MultiBandSingleGandGray enum

-pete

-- 
====================================
Peter J. Ersts, Software Developer
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Open Source,
...evolving through community cooperation to change the world bit by bit

Quantum GIS Raster Development Team.

From ersts at amnh.org  Mon Aug  9 15:57:02 2010
From: ersts at amnh.org (Peter Ersts)
Date: Mon Aug  9 15:57:07 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <NEBBKOODKMEEMJKCHBECAEDEJDAA.benoit@exigesa.com>
References: <NEBBKOODKMEEMJKCHBECAEDEJDAA.benoit@exigesa.com>
Message-ID: <4C605D8E.7050704@amnh.org>

On 08/09/2010 12:22 PM, Benoit de Cabissole wrote:
> Here is the code I'm using:
>
>     # tell the layer to use a QgsColorRampShader function
>     theLayer.setColorShadingAlgorithm( QgsRasterLayer.ColorRampShader )
>     theLayer.rasterShader().setRasterShaderFunction( QgsColorRampShader() )
>
>     # get the raster shader function: should be a QgsColorRampShader
>     myColorRampShader = theLayer.rasterShader().rasterShaderFunction()
>
>     # set parameter for the QgsColorRampShader function
>     myColorRampShader.setColorRampItemList( theTBL )
>     myColorRampShader.setMaximumColorCacheSize( nColo )
>     myColorRampShader.setColorRampType( myColorRampShader.DISCRETE )
>
>     # feed my custom QgsColorRampShader back to the raster
>     theLayer.setRasterShaderFunction( myColorRampShader )
>
> It does not produce an error but raster does not change to the given
> colormap.

Benoit,

With Martin's recent updates you can remove a couple of lines,

---theLayer.rasterShader().setRasterShaderFunction( QgsColorRampShader() 
) can be removed, setColorShadingAlgorithm() already creates a new 
shader instance and theLayer.rasterShader().rasterShaderFunction() new 
returns the actual class not the base class, thanks Martin!


---theLayer.setRasterShaderFunction( myColorRampShader ) is also not 
necessary, because you are already working with the actual shader (i.e., 
myColorRampShader ). This will also cause a crash/segfault because the 
setRasterShaderFunction() now is deleting the existing function and 
replacing it with the new, however, in this case it is deleting itself.
MARTIN: This was why QgsRasterLayer managed deleting the functions and 
checked to see if the QgsRasterShaderFunction was user defined. I saw 
too many possibilities for crashes if the shader itself managed the 
deleting of functions. This case illustrates on instance of that problem.


I suspect you are not seeing your changes because the draying style is 
not set correctly. For example, if you load a gray scale image and then 
apply a color map using the above code, you will still have to set the 
drawing style to a type that will use the shader as apposed to a 
contrast enhancement.
 >>theLayer.setDrawingStyle( QgsRasterLayer.SingleBandPseudoColor )
 >>theLayer.triggerRepaint()

The same would apply for multi band images:
 >>theLayer.setDrawingStyle( QgsRasterLayer.MultiBandSingleBandPseudoColor )


If it would help I could give you a complete example with sample data, 
but it would have to wait until the end of the week.

-pete

-- 
====================================
Peter J. Ersts, Software Developer
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Open Source,
...evolving through community cooperation to change the world bit by bit

Quantum GIS Raster Development Team.

From pi_ml at sourcepole.com  Mon Aug  9 16:47:01 2010
From: pi_ml at sourcepole.com (Pirmin Kalberer)
Date: Mon Aug  9 16:47:16 2010
Subject: [Qgis-developer] Postgis-Provider and compression
In-Reply-To: <21754.193.246.86.39.1281356952.squirrel@webmail.carto.net>
References: <21754.193.246.86.39.1281356952.squirrel@webmail.carto.net>
Message-ID: <201008092247.01416.pi_ml@sourcepole.com>

Hi Andreas,

Am Montag, 9. August 2010, um 14.29:12 schrieb Andreas Neumann:
> Hi all,
> 
> I wonder if the current Postgis-Provider somehow supports or would support
> compression during data-transfer between the QGIS-client and the remote
> Postgis-server. In my experience, data transfer across slower connection
> (DSL, cable) is often rather slow.
> 
> Would there be, technically, a way to accelerate data transfer over slower
> network connections?

I don't know a built-in method for compressing data transfer on Postgres 
connections (http://www.postgresql.org/docs/current/static/libpq-
connect.html).
But you could tunnel the connection e.g. with netcat or ssh (without 
encryption) and compress it with gzip. Other solutions would be a compressed 
geometry format (like http://www.gaia-gis.it/spatialite-2.4.0/) or a partial 
update method. Both would need changes or custom stored procedures within 
Postgis.
A different approach would be using an "offline" database and synchronizing with 
the master database. (We're currently working on this approach in a customer 
project).

> 
> I also remember that Sandro Santilli once suggested a keyword substitution
> parameter for the psql provider so one could use simplify based on map
> resolution/map scale. This should also help to speed up data transfer on
> slower connections
> (http://lists.osgeo.org/pipermail/qgis-developer/2010-May/009923.html) -
> unfortunately noone answered to his mail. I think the proposal would be
> interesting to follow.

You're asking for something like http://tinyurl.com/pgvar I think. QGIS could 
provide useful variables (like :scale) and offer a possibility to configure the 
select statements.
Another way to achieve this could be using custom variables like in
http://www.pgsql.cz/index.php/PostgreSQL_SQL_Tricks#Any_other_session_variables 

Regards
Pirmin


-- 
Pirmin Kalberer
Sourcepole  -  Linux & Open Source Solutions
http://www.sourcepole.com
From benoit at exigesa.com  Mon Aug  9 17:01:27 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Mon Aug  9 17:01:50 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <4C605D8E.7050704@amnh.org>
Message-ID: <NEBBKOODKMEEMJKCHBECKEDFJDAA.benoit@exigesa.com>

Hi Pete,

You're a star!!

Here is the code I'm now using:

>> theLayer.setColorShadingAlgorithm( QgsRasterLayer.ColorRampShader )
>> myColorRampShader = theLayer.rasterShader().rasterShaderFunction()
>> myColorRampShader.setColorRampType( QgsColorRampShader.DISCRETE )
>> myColorRampShader.setColorRampItemList( theTBL )
>> theLayer.setDrawingStyle( QgsRasterLayer.SingleBandPseudoColor )
>> theLayer.triggerRepaint()

It works (well, sort of)...

Colormap is given to the raster (and into the coloramp tab in the raster
properties). The colour ramp attribute is also reflected in the symbology
tab: color map combobox set to colormap. So the raster is given the correct
info. So far so good. But, the legend does not refresh to show the change to
colormap: the raster icon and raster colour bar stay grey.
The main raster (the only layer in my test) does not refresh either in the
QGIS map canvas window. Only if I move it will it refresh and display the
colour map.
The only way to refresh the legend to the correct info seems to open the
raster properties box and click ok. (I've tried the QgsLegendInterface, but
I have problems to make it work!)

>From my test it thus seems the "theLayer.triggerRepaint()" does not do the
expected job. Can you confirm? Or is there another function to refresh the
legend and main window?
Do I have to implement a signal/slot relation to refresh the map canvas, or
will triggerRepaint() do the job alone?

BTW, I took the four first lines of the code above from the new cookbook.

Many thanks again for your help, I appreciate it very much.
Benoit

> -----Original Message-----
> From: qgis-developer-bounces@lists.osgeo.org
> [mailto:qgis-developer-bounces@lists.osgeo.org]On Behalf Of Peter Ersts
> Sent: Monday, 09 August 2010 21:57
> To: qgis-developer@lists.osgeo.org
> Subject: Re: [Qgis-developer] How to load a colour table on a
> raster,programmatically (in python)?
>
>
> On 08/09/2010 12:22 PM, Benoit de Cabissole wrote:
> > Here is the code I'm using:
> >
> >     # tell the layer to use a QgsColorRampShader function
> >     theLayer.setColorShadingAlgorithm( QgsRasterLayer.ColorRampShader )
> >     theLayer.rasterShader().setRasterShaderFunction(
> QgsColorRampShader() )
> >
> >     # get the raster shader function: should be a QgsColorRampShader
> >     myColorRampShader = theLayer.rasterShader().rasterShaderFunction()
> >
> >     # set parameter for the QgsColorRampShader function
> >     myColorRampShader.setColorRampItemList( theTBL )
> >     myColorRampShader.setMaximumColorCacheSize( nColo )
> >     myColorRampShader.setColorRampType( myColorRampShader.DISCRETE )
> >
> >     # feed my custom QgsColorRampShader back to the raster
> >     theLayer.setRasterShaderFunction( myColorRampShader )
> >
> > It does not produce an error but raster does not change to the given
> > colormap.
>
> Benoit,
>
> With Martin's recent updates you can remove a couple of lines,
>
> ---theLayer.rasterShader().setRasterShaderFunction( QgsColorRampShader()
> ) can be removed, setColorShadingAlgorithm() already creates a new
> shader instance and theLayer.rasterShader().rasterShaderFunction() new
> returns the actual class not the base class, thanks Martin!
>
>
> ---theLayer.setRasterShaderFunction( myColorRampShader ) is also not
> necessary, because you are already working with the actual shader (i.e.,
> myColorRampShader ). This will also cause a crash/segfault because the
> setRasterShaderFunction() now is deleting the existing function and
> replacing it with the new, however, in this case it is deleting itself.
> MARTIN: This was why QgsRasterLayer managed deleting the functions and
> checked to see if the QgsRasterShaderFunction was user defined. I saw
> too many possibilities for crashes if the shader itself managed the
> deleting of functions. This case illustrates on instance of that problem.
>
>
> I suspect you are not seeing your changes because the draying style is
> not set correctly. For example, if you load a gray scale image and then
> apply a color map using the above code, you will still have to set the
> drawing style to a type that will use the shader as apposed to a
> contrast enhancement.
>  >>theLayer.setDrawingStyle( QgsRasterLayer.SingleBandPseudoColor )
>  >>theLayer.triggerRepaint()
>
> The same would apply for multi band images:
>  >>theLayer.setDrawingStyle(
> QgsRasterLayer.MultiBandSingleBandPseudoColor )
>
>
> If it would help I could give you a complete example with sample data,
> but it would have to wait until the end of the week.
>
> -pete
>
> --
> ====================================
> Peter J. Ersts, Software Developer
> American Museum of Natural History
> Center for Biodiversity and Conservation
> Central Park West at 79th Street
> New York, New York 10024
> Web: http://biodiversityinformatics.amnh.org
> Web: http://cbc.amnh.org
>
> Open Source,
> ...evolving through community cooperation to change the world bit by bit
>
> Quantum GIS Raster Development Team.
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From marco.hugentobler at sourcepole.ch  Tue Aug 10 04:42:31 2010
From: marco.hugentobler at sourcepole.ch (Marco Hugentobler)
Date: Tue Aug 10 04:42:46 2010
Subject: [Qgis-developer] Typo in QgsRasterLayer enum
In-Reply-To: <4C60556D.8050004@amnh.org>
References: <4C60556D.8050004@amnh.org>
Message-ID: <201008101042.31788.marco.hugentobler@sourcepole.ch>

Hi Peter

The probability that we are going to forget about it once v2.0 is out seems 
quite high to me. Wouldn't it be better to just rename it (even if we break 
strict interface compatibility?).
How do others feel about it?

Regards,
Marco

Am Montag, 9. August 2010, um 21.22:21 schrieb Peter Ersts:
> Howdy devs,
> 
> Last night  I was looking through the QgsRasterLayer code and noticed a
> typo in the DrawingStyle enum that made it in during the major renaming
> efforts  (r9564 & r9566) just before version 1.0 was released.
> 
> MultiBandSingleGandGray should be MultiBandsingleBandGray
> 
> Question is how do we go about fixing it and preserving compatibility?
> 
> I was thinking we would need to:
> 1) add the correctly spelled enum
> 2) use both enums where ever the incorrect one appears, example
> if( QgsRasterLayer::MultiBandSingleGandGray )
> becomes
> if( QgsRasterLayer::MultiBandSingleGandGray ||
> QgsRasterLayer::MultiBandsingleBandGray )
> 3) Wait until v2.0 to drop MultiBandSingleGandGray enum
> 
> -pete


-- 
Dr. Marco Hugentobler
Sourcepole -  Linux & Open Source Solutions
Webereistrasse 66, 8134 Adliswil, Switzerland
marco.hugentobler@sourcepole.ch http://www.sourcepole.ch
Technical Advisor QGIS Project Steering Committee
From m.massing at warped-space.de  Tue Aug 10 05:37:10 2010
From: m.massing at warped-space.de (Manuel Massing)
Date: Tue Aug 10 05:37:13 2010
Subject: [Qgis-developer] Typo in QgsRasterLayer enum
In-Reply-To: <4C60556D.8050004@amnh.org>
References: <4C60556D.8050004@amnh.org>
Message-ID: <201008101137.10695.m.massing@warped-space.de>

Hi Pete,

> Last night  I was looking through the QgsRasterLayer code and noticed a
> typo in the DrawingStyle enum that made it in during the major renaming
> efforts  (r9564 & r9566) just before version 1.0 was released.
> 
> MultiBandSingleGandGray should be MultiBandsingleBandGray
> 
> Question is how do we go about fixing it and preserving compatibility?
> 
> I was thinking we would need to:
> 1) add the correctly spelled enum
> 2) use both enums where ever the incorrect one appears, example
> if( QgsRasterLayer::MultiBandSingleGandGray )
> becomes
> if( QgsRasterLayer::MultiBandSingleGandGray ||
> QgsRasterLayer::MultiBandsingleBandGray )
> 3) Wait until v2.0 to drop MultiBandSingleGandGray enum

It is possible to let multiple enumeration constants share the same value,
e.g.

  enum Test {
    Value1,
    Value1alias = Value1,
    Value2
  };


This retains binary and source compatibility, so one could introduce the
correctly written enum as an alias, rename all enums in the qgis codebase to 
the orthographically correct one (which has identical numerical value, so
won't affect binary API) and mark the old enum constant name as deprecated,
(keep it around for source compatibility until 2.0).

cheers,

	Manuel
From a.neumann at carto.net  Tue Aug 10 07:45:21 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue Aug 10 07:45:30 2010
Subject: [Qgis-developer] Postgis-Provider and compression
In-Reply-To: <201008092247.01416.pi_ml@sourcepole.com>
References: <21754.193.246.86.39.1281356952.squirrel@webmail.carto.net>
	<201008092247.01416.pi_ml@sourcepole.com>
Message-ID: <4C613BD1.2080503@carto.net>

Hi Pirmin,

Thank you for your thoughts on the issue. My comments inline.

On 08/09/2010 10:47 PM, Pirmin Kalberer wrote:
> Hi Andreas,
>
> Am Montag, 9. August 2010, um 14.29:12 schrieb Andreas Neumann:
>    
>> Hi all,
>>
>> I wonder if the current Postgis-Provider somehow supports or would support
>> compression during data-transfer between the QGIS-client and the remote
>> Postgis-server. In my experience, data transfer across slower connection
>> (DSL, cable) is often rather slow.
>>
>> Would there be, technically, a way to accelerate data transfer over slower
>> network connections?
>>      
> I don't know a built-in method for compressing data transfer on Postgres
> connections (http://www.postgresql.org/docs/current/static/libpq-
> connect.html).
>    

ok - that's what I thought. So the best solution would be probably to 
get the PostgreSQL developers to implement compression in libpq ? That 
way not only geometry would profit, but also attribute data, which can 
also get quite large (in case of text). That way also slower mobile 
connections (phones, tablets, notebooks) could benefit from data 
compression in the future.

> But you could tunnel the connection e.g. with netcat or ssh (without
> encryption) and compress it with gzip. Other solutions would be a compressed
> geometry format (like http://www.gaia-gis.it/spatialite-2.4.0/) or a partial
> update method. Both would need changes or custom stored procedures within
> Postgis.
>    

ok - thanks for the idea.

> A different approach would be using an "offline" database and synchronizing with
> the master database. (We're currently working on this approach in a customer
> project).
>    

do you mean synchronizing Postgis with Postgis or Postgis with SpatiaLite?

>> I also remember that Sandro Santilli once suggested a keyword substitution
>> parameter for the psql provider so one could use simplify based on map
>> resolution/map scale. This should also help to speed up data transfer on
>> slower connections
>> (http://lists.osgeo.org/pipermail/qgis-developer/2010-May/009923.html) -
>> unfortunately noone answered to his mail. I think the proposal would be
>> interesting to follow.
>>      
> You're asking for something like http://tinyurl.com/pgvar I think. QGIS could
> provide useful variables (like :scale) and offer a possibility to configure the
> select statements.
>    

yes - that's what I was looking for. Scale, and in the future maybe also 
time or potentially other variables specific to a certain map 
extent/view could be defined. The select statement would have to 
"digest" those variables and use them for something meaningful.

> Another way to achieve this could be using custom variables like in
> http://www.pgsql.cz/index.php/PostgreSQL_SQL_Tricks#Any_other_session_variables
>    

thanks for this other link!

Andreas
From massimodisasha at yahoo.it  Tue Aug 10 10:35:09 2010
From: massimodisasha at yahoo.it (Massimo Di Stefano)
Date: Tue Aug 10 11:25:05 2010
Subject: [Qgis-developer] Re: [Live-demo] GRASS plugin failures on
	osgeo-live DVD
In-Reply-To: <4C611767.9040707@gmail.com>
References: <4C611767.9040707@gmail.com>
Message-ID: <69E9AC50-E6F9-40B6-B17D-3155683DD102@yahoo.it>

it gives error tring to load a grass file, the error i had is : 

http://img412.imageshack.us/f/schermata20100810a16260.png/

 have you any clue on what's going wrong ?


Il giorno 10/ago/2010, alle ore 11.09, Cameron Shorter ha scritto:

> Testers have found an error in the 1.5 version of QGIS installed on OSGeo Live.http://wiki.osgeo.org/wiki/Live_GIS_Disc_Testing#qgis
> "The GRASS plugin could not load the data from the /hom/user/grassdata folder"
> Described here:
> http://wiki.osgeo.org/wiki/Live_GIS_Disc_Testing#qgis
> 
> Could we please get some help debugging this.
> Packagers are hanging out at irc://freenode.net#osgeolive
> 
> -- ut at irc:
> Cameron Shorter
> Geospatial Director
> Tel: +61 (0)2 8570 5050
> Mob: +61 (0)419 142 254
> 
> Think Globally, Fix Locally
> Geospatial Solutions enhanced with Open Standards and Open Source
> http://www.lisasoft.com
> 
> _______________________________________________
> Live-demo mailing list
> Live-demo@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/live-demo
> http://wiki.osgeo.org/wiki/Live_GIS_Disc

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100810/bcb3b298/attachment.html
From b.rowlingson at lancaster.ac.uk  Tue Aug 10 11:42:21 2010
From: b.rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Tue Aug 10 11:42:23 2010
Subject: [Qgis-developer] autosave bugs
Message-ID: <AANLkTikPR4rPsyB1P19iNnFdGAOD7E5QNAaG8uKzJ8-P@mail.gmail.com>

Hi All,

 I've just had a couple of problems with my Autosave plugin: first I
had a report that it was throwing an exception, something I think was
down to my poor character handling (ie I too much str() when there's
unicode flying around).

 The other problem is Autosave seems to crash Qgis with a segfault. No
warnings, just *bang* and the Qgis is gone. This started happening to
me after upgrading to Qgis 1.5 today (on Ubuntu Karmic).

 So if anyone reports seemingly random crashes (because it happens
whenever Autosave happens to kick in and tries to save) check they
aint running Autosave.

 And if anyone wants to fix either of these problems, code is on
bsrplugins on google code! I might have a go at it when a) I get some
time and b) I get a new machine at home (it didn't like me being away
for three weeks and is now sulking, refusing to stay up for more than
5 mins).

Barry


-- 
blog: http://geospaced.blogspot.com/
web: http://www.maths.lancs.ac.uk/~rowlings
web: http://www.rowlingson.com/
twitter: http://twitter.com/geospacedman
pics: http://www.flickr.com/photos/spacedman
From lists at linfiniti.com  Tue Aug 10 12:04:08 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Tue Aug 10 12:04:11 2010
Subject: [Qgis-developer] Typo in QgsRasterLayer enum
In-Reply-To: <201008101137.10695.m.massing@warped-space.de>
References: <4C60556D.8050004@amnh.org>
	<201008101137.10695.m.massing@warped-space.de>
Message-ID: <AANLkTimpjis+xfGzEnvW1QBpEHM6+4aS5Z4RRcHpxukj@mail.gmail.com>

Hi

Fixed in r14042.

Regards

Tim

On Tue, Aug 10, 2010 at 11:37 AM, Manuel Massing
<m.massing@warped-space.de> wrote:
> Hi Pete,
>
>> Last night ?I was looking through the QgsRasterLayer code and noticed a
>> typo in the DrawingStyle enum that made it in during the major renaming
>> efforts ?(r9564 & r9566) just before version 1.0 was released.
>>
>> MultiBandSingleGandGray should be MultiBandsingleBandGray
>>
>> Question is how do we go about fixing it and preserving compatibility?
>>
>> I was thinking we would need to:
>> 1) add the correctly spelled enum
>> 2) use both enums where ever the incorrect one appears, example
>> if( QgsRasterLayer::MultiBandSingleGandGray )
>> becomes
>> if( QgsRasterLayer::MultiBandSingleGandGray ||
>> QgsRasterLayer::MultiBandsingleBandGray )
>> 3) Wait until v2.0 to drop MultiBandSingleGandGray enum
>
> It is possible to let multiple enumeration constants share the same value,
> e.g.
>
> ?enum Test {
> ? ?Value1,
> ? ?Value1alias = Value1,
> ? ?Value2
> ?};
>
>
> This retains binary and source compatibility, so one could introduce the
> correctly written enum as an alias, rename all enums in the qgis codebase to
> the orthographically correct one (which has identical numerical value, so
> won't affect binary API) and mark the old enum constant name as deprecated,
> (keep it around for source compatibility until 2.0).
>
> cheers,
>
> ? ? ? ?Manuel
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton - QGIS Project Steering Committee Member (Release? Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
?* QGIS programming and support services
?* Mapserver and PostGIS based hosting plans
?* FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From lists at linfiniti.com  Tue Aug 10 12:15:17 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Tue Aug 10 12:15:19 2010
Subject: [Qgis-developer] GPS Plugin Bug on windows
In-Reply-To: <AANLkTin_-thEK2N4kK5pJD=_yUj_5Ca5WTopnyivd=th@mail.gmail.com>
References: <AANLkTin_-thEK2N4kK5pJD=_yUj_5Ca5WTopnyivd=th@mail.gmail.com>
Message-ID: <AANLkTikYZ4V5HXBueMUVEE_W4HQDGsgcM0KTP4KGiQru@mail.gmail.com>

Hi

2010/8/9 Maur?cio de Paulo <mauricio.dev@gmail.com>:
> Hi folks,
> I've stumbled upon something that looks like this bug.
> http://trac.osgeo.org/qgis/ticket/1170
> The problem seems simples. I'm using QGIS 1.5 and Windows XP with a garmin
> gps.
> When calling gpsbabel from command line everything runs smoothly.
> When loading the data directly from the gps using qgis' plugin the "Invalid
> layer" message apear.
> The file is not even created and no signal comes from the gps.
>
> As a workaround I've edited the gps "Devices". I've changed from
>
> "%in" "%out"
> to
> usb: c:\test.gpx
>
> And everything worked fine.
> As far as I can see I'm stumbling upon some string replacing problem when
> changing from the "%out" to the actual path used in the plugin.
>
> When I changed just the "%in" to usb: I've found a %out file in my c:\
> folder. So the plugin is not working properly when replacing %out to the
> actual filename? I've found on the gui.
> Is someone able to reproduce it? I've tested on 3 machines. One linux
> (worked well) and 2 windows xp. None of the windows xp worked.
>


I tested here on Ubuntu 10.04 and wasnt able to successfully download
either without your fix or with it (I used /dev/ttyUSB0 for %in).

What string did you use for linux?

Regards

Tim

>
>
>
> --
> 1? Ten Mauricio - Engenheiro Cart?grafo
> Chefe da Se??o de Processamento de Imagens
> 1? Divis?o de Levantamento
> Ex?rcito Brasileiro - Bra?o Forte, M?o Amiga.
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton - QGIS Project Steering Committee Member (Release? Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
?* QGIS programming and support services
?* Mapserver and PostGIS based hosting plans
?* FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From massimodisasha at yahoo.it  Tue Aug 10 13:27:22 2010
From: massimodisasha at yahoo.it (Massimo Di Stefano)
Date: Tue Aug 10 14:08:54 2010
Subject: [Qgis-developer] new plug-inpackages for qgis
Message-ID: <F520A877-B015-4220-8634-4917798EF274@yahoo.it>

Testing Qgis

i see the plug-in SDA4P fails as also fails ManageR and all related to R
beacouse the step :

easy_install rpy2 don't works as aspected

i replaced it with :


apt-get install python-rpy2

it should works, i tried it locally.

continue the test on qgis side, i see alot of plug-in are out-of-date
hence i downloaded them from scratch and make a new plugin.tar.gz package
it will be downloaded directly from the script

Qgis has the grass problem unresolved, please anyone can dive into it ?
qgis-grass plug-in is a "big resource" for osgeo.

thanks,

Massimo.
From wonder.sk at gmail.com  Tue Aug 10 15:46:56 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Aug 10 15:46:59 2010
Subject: [Qgis-developer] How to load a colour table on a raster, 
	programmatically (in python)?
In-Reply-To: <4C605D8E.7050704@amnh.org>
References: <NEBBKOODKMEEMJKCHBECAEDEJDAA.benoit@exigesa.com>
	<4C605D8E.7050704@amnh.org>
Message-ID: <AANLkTimSQGKhLkdeD4bRzFRZWujXzUUYWxC3QYOcF1o2@mail.gmail.com>

On Mon, Aug 9, 2010 at 9:57 PM, Peter Ersts <ersts@amnh.org> wrote:
> ---theLayer.setRasterShaderFunction( myColorRampShader ) is also not
> necessary, because you are already working with the actual shader (i.e.,
> myColorRampShader ). This will also cause a crash/segfault because the
> setRasterShaderFunction() now is deleting the existing function and
> replacing it with the new, however, in this case it is deleting itself.
> MARTIN: This was why QgsRasterLayer managed deleting the functions and
> checked to see if the QgsRasterShaderFunction was user defined. I saw too
> many possibilities for crashes if the shader itself managed the deleting of
> functions. This case illustrates on instance of that problem.

Hi Pete,

I believe this can be fixed easily by testing whether the new shader
function isn't the same as the previous one in
setRasterShaderFunction(). Do you see any further scenarios that might
lead to a crash? Because deleting the shader function in the class
where it belongs is typically less prone to memory leaks or double
deletion.

Bye
Martin
From wonder.sk at gmail.com  Tue Aug 10 15:52:26 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Aug 10 15:52:28 2010
Subject: [Qgis-developer] How to load a colour table on a raster, 
	programmatically (in python)?
In-Reply-To: <NEBBKOODKMEEMJKCHBECKEDFJDAA.benoit@exigesa.com>
References: <4C605D8E.7050704@amnh.org>
	<NEBBKOODKMEEMJKCHBECKEDFJDAA.benoit@exigesa.com>
Message-ID: <AANLkTikEUoGGnaX2H1JSz1vj2OpHmi_Lcz492XY6R4XP@mail.gmail.com>

On Mon, Aug 9, 2010 at 11:01 PM, Benoit de Cabissole <benoit@exigesa.com> wrote:
> Colormap is given to the raster (and into the coloramp tab in the raster
> properties). The colour ramp attribute is also reflected in the symbology
> tab: color map combobox set to colormap. So the raster is given the correct
> info. So far so good. But, the legend does not refresh to show the change to
> colormap: the raster icon and raster colour bar stay grey.

Use QgsLegendInterface class to refresh the symbology:

iface.legendInterface().refreshLayerSymbology(layer)


> The main raster (the only layer in my test) does not refresh either in the
> QGIS map canvas window. Only if I move it will it refresh and display the
> colour map.

Possibly you're using caching. Make sure to clear the cached image
before calling triggerRepaint():

layer.setCacheImage(None)

> The only way to refresh the legend to the correct info seems to open the
> raster properties box and click ok. (I've tried the QgsLegendInterface, but
> I have problems to make it work!)

What probles with QgsLegendInterface did you have?


Regards
Martin
From benoit at exigesa.com  Tue Aug 10 16:02:42 2010
From: benoit at exigesa.com (Benoit EXIGE)
Date: Tue Aug 10 16:03:19 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <AANLkTikEUoGGnaX2H1JSz1vj2OpHmi_Lcz492XY6R4XP@mail.gmail.com>
References: <4C605D8E.7050704@amnh.org>
	<NEBBKOODKMEEMJKCHBECKEDFJDAA.benoit@exigesa.com>
	<AANLkTikEUoGGnaX2H1JSz1vj2OpHmi_Lcz492XY6R4XP@mail.gmail.com>
Message-ID: <D1D8A583-8FCB-404B-A228-C195CF64A077@exigesa.com>

Martin,

Thanks for the answers. I will test them tomorrow.

As for QgsLegendInterface the problem was that I did not know how to  
use it correctly!

Cheers,
Benoit


On 10 Aug 2010, at 21:52, Martin Dobias <wonder.sk@gmail.com> wrote:

> On Mon, Aug 9, 2010 at 11:01 PM, Benoit de Cabissole <benoit@exigesa.com 
> > wrote:
>> Colormap is given to the raster (and into the coloramp tab in the  
>> raster
>> properties). The colour ramp attribute is also reflected in the  
>> symbology
>> tab: color map combobox set to colormap. So the raster is given the  
>> correct
>> info. So far so good. But, the legend does not refresh to show the  
>> change to
>> colormap: the raster icon and raster colour bar stay grey.
>
> Use QgsLegendInterface class to refresh the symbology:
>
> iface.legendInterface().refreshLayerSymbology(layer)
>
>
>> The main raster (the only layer in my test) does not refresh either  
>> in the
>> QGIS map canvas window. Only if I move it will it refresh and  
>> display the
>> colour map.
>
> Possibly you're using caching. Make sure to clear the cached image
> before calling triggerRepaint():
>
> layer.setCacheImage(None)
>
>> The only way to refresh the legend to the correct info seems to  
>> open the
>> raster properties box and click ok. (I've tried the  
>> QgsLegendInterface, but
>> I have problems to make it work!)
>
> What probles with QgsLegendInterface did you have?
>
>
> Regards
> Martin
From wonder.sk at gmail.com  Tue Aug 10 16:55:19 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Aug 10 16:55:21 2010
Subject: [Qgis-developer] how to add a new field to an existing layer?
In-Reply-To: <AANLkTi=O8XDUYZaTHK7QN6nk14X+2+bE8ayDb2c-+3fZ@mail.gmail.com>
References: <AANLkTi=O8XDUYZaTHK7QN6nk14X+2+bE8ayDb2c-+3fZ@mail.gmail.com>
Message-ID: <AANLkTin2uVyYKZ6VCOh84PDd1JLXRExNfi0uUphiocHw@mail.gmail.com>

Hi Ricardo

On Mon, Aug 9, 2010 at 2:50 PM, Ricardo Filipe Soares Garcia da
<ricardo.garcia.silva@gmail.com> wrote:
> Hello list
>
> How can I add a new field to an existing layer and insert some new
> values in it? In the following example, pointLayer refers to an
> existing layer, previously created using the memory provider. This
> code is creating the new field, but I cannot insert the values in it.
> Although it runs without any error, when I look at the layer's
> attribute table, the new field is there, but every feature has it as
> NULL.

The problem is that in your code you only modify a local copy of the
data - your change is not propagated to the provider. To actually
modify the data, use something like this:

values = { fid : { attr_1 : QVariant(value_1), attr_2 :
QVariant(value_2) }, ... }
provider.changeAttributeValues( values )

You pass the provider a dictionary where keys are feature IDs, values
are dictionaries of changed attributes (key = attribute index, value =
new attribute value).

> By the way, I think this kind of operation would be a nice thing
> to go into the pyqgis cookbook

Sure, it just needs some time :-)

Regards
Martin
From wonder.sk at gmail.com  Tue Aug 10 18:08:47 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Aug 10 18:08:49 2010
Subject: [Qgis-developer] Developer cookbook in SVN
In-Reply-To: <NEBBKOODKMEEMJKCHBECGEDEJDAA.benoit@exigesa.com>
References: <20100809102123.0b568200@nature.site>
	<NEBBKOODKMEEMJKCHBECGEDEJDAA.benoit@exigesa.com>
Message-ID: <AANLkTi=6X+ku5h3JrvTCVzSovS0Lg40A31hZgn9Fzmo2@mail.gmail.com>

On Mon, Aug 9, 2010 at 7:10 PM, Benoit de Cabissole <benoit@exigesa.com> wrote:
> Hi all,
>
> The cookbook is a very good idea. Thanks to set it up!
>
> I've got a problem with the recipe in the raster, Single Band Rasters
> section. The code shown to do colormap does not fully work: the layer is
> told to use a ColorRampShader, then a custom raster shader function is
> initialised and filled with relevant data (a list and flag) and then
> nothing. How is this custom function fed back into the raster? Am I missing
> something?

When you tell the layer to use color ramp shader, an appropriate
shader function is created. So in fact it's not a custom shader
function which is being initialized - it's the shader function which
has been created in previous setColorShadingAlgorithm() call.


> In my code I tried to use:
> ? theLayer.setRasterShaderFunction( myShaderFunction )
> but it only causes an "access violation" error when QGIS exits.

I've fixed that issue in r14046.


> After testing the code in the cookbook I can confirm that a colormap is
> created: the colormap tab is filled with the correct colour ramp but the
> type of colouring (symbology tab, color map combobox) is not changed to
> 'Colormap', it stays at whatever setting it was before calling the code and
> needs to be manually witched to "Colormap" to have the raster taking the
> colours of the colormap.
>
> Could you please complete the code in the cookbook to show the final step?

I've explained that in previous mail, but for the record, it has been
added also to the cookbook (r14050).

Regards
Martin
From ricardo.garcia.silva at gmail.com  Tue Aug 10 19:49:05 2010
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Tue Aug 10 19:49:27 2010
Subject: [Qgis-developer] how to add a new field to an existing layer?
In-Reply-To: <AANLkTin2uVyYKZ6VCOh84PDd1JLXRExNfi0uUphiocHw@mail.gmail.com>
References: <AANLkTi=O8XDUYZaTHK7QN6nk14X+2+bE8ayDb2c-+3fZ@mail.gmail.com> 
	<AANLkTin2uVyYKZ6VCOh84PDd1JLXRExNfi0uUphiocHw@mail.gmail.com>
Message-ID: <AANLkTin0R_yGBooGOgCgo=FdKu2+hRHkw24rZSmgBdwk@mail.gmail.com>

Hi Martin, list

I did as you recommended, but now I'm getting the following error:

Traceback (most recent call last):
  File "/home/ricardo/.qgis/python/plugins/ChannelFromPoints/ChannelFromPointsDialog.py",
line 41, in accept
    self.callbackFunction(pLayer, params)
  File "/home/ricardo/.qgis/python/plugins/ChannelFromPoints/ChannelFromPoints.py",
line 119, in calculate_channel
    provider.ChangeAttributeValues(values)
TypeError: 'Capability' object is not callable

My revised code:


provider = pointLayer.dataProvider()
newField = QgsField("channel", QVariant.Double)
provider.addAttributes([newField])
newFieldIndex = provider.fieldNameIndex(newField.name())
#more code
allAttrs = provider.attributeIndexes()
provider.select(allAttrs)
feat = QgsFeature()
while provider.nextFeature(feat):
    # more code, calculating the value of the 'channelValue' variable
    values = {feat.id() : {newFieldIndex: QVariant(channel)}}
    provider.ChangeAttributeValues(values)


Do you have some insight on this error? Thanks for you help

On Tue, Aug 10, 2010 at 9:55 PM, Martin Dobias <wonder.sk@gmail.com> wrote:
> Hi Ricardo
>
> On Mon, Aug 9, 2010 at 2:50 PM, Ricardo Filipe Soares Garcia da
> <ricardo.garcia.silva@gmail.com> wrote:
>> Hello list
>>
>> How can I add a new field to an existing layer and insert some new
>> values in it? In the following example, pointLayer refers to an
>> existing layer, previously created using the memory provider. This
>> code is creating the new field, but I cannot insert the values in it.
>> Although it runs without any error, when I look at the layer's
>> attribute table, the new field is there, but every feature has it as
>> NULL.
>
> The problem is that in your code you only modify a local copy of the
> data - your change is not propagated to the provider. To actually
> modify the data, use something like this:
>
> values = { fid : { attr_1 : QVariant(value_1), attr_2 :
> QVariant(value_2) }, ... }
> provider.changeAttributeValues( values )
>
> You pass the provider a dictionary where keys are feature IDs, values
> are dictionaries of changed attributes (key = attribute index, value =
> new attribute value).
>
>> By the way, I think this kind of operation would be a nice thing
>> to go into the pyqgis cookbook
>
> Sure, it just needs some time :-)
>
> Regards
> Martin
>



-- 
___________________________ ___ __
Ricardo Garcia Silva
From ricardo.garcia.silva at gmail.com  Tue Aug 10 19:53:10 2010
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Tue Aug 10 19:53:31 2010
Subject: [Qgis-developer] how to add a new field to an existing layer?
In-Reply-To: <AANLkTin0R_yGBooGOgCgo=FdKu2+hRHkw24rZSmgBdwk@mail.gmail.com>
References: <AANLkTi=O8XDUYZaTHK7QN6nk14X+2+bE8ayDb2c-+3fZ@mail.gmail.com> 
	<AANLkTin2uVyYKZ6VCOh84PDd1JLXRExNfi0uUphiocHw@mail.gmail.com> 
	<AANLkTin0R_yGBooGOgCgo=FdKu2+hRHkw24rZSmgBdwk@mail.gmail.com>
Message-ID: <AANLkTi=+FY5LD3n96=37J7wiOqY7bu3eiAs2YQF0kJr7@mail.gmail.com>

Oh... nevermind. I just realized after sending the previous e-mail
that I had a typo in my code (was calling the ChangeAttributeValues
method with a capital C in the beginning).
Please excuse the noise, and thanks Martin for your help :)

On Wed, Aug 11, 2010 at 12:49 AM, Ricardo Filipe Soares Garcia da
<ricardo.garcia.silva@gmail.com> wrote:
> Hi Martin, list
>
> I did as you recommended, but now I'm getting the following error:
>
> Traceback (most recent call last):
> ?File "/home/ricardo/.qgis/python/plugins/ChannelFromPoints/ChannelFromPointsDialog.py",
> line 41, in accept
> ? ?self.callbackFunction(pLayer, params)
> ?File "/home/ricardo/.qgis/python/plugins/ChannelFromPoints/ChannelFromPoints.py",
> line 119, in calculate_channel
> ? ?provider.ChangeAttributeValues(values)
> TypeError: 'Capability' object is not callable
>
> My revised code:
>
>
> provider = pointLayer.dataProvider()
> newField = QgsField("channel", QVariant.Double)
> provider.addAttributes([newField])
> newFieldIndex = provider.fieldNameIndex(newField.name())
> #more code
> allAttrs = provider.attributeIndexes()
> provider.select(allAttrs)
> feat = QgsFeature()
> while provider.nextFeature(feat):
> ? ?# more code, calculating the value of the 'channelValue' variable
> ? ?values = {feat.id() : {newFieldIndex: QVariant(channel)}}
> ? ?provider.ChangeAttributeValues(values)
>
>
> Do you have some insight on this error? Thanks for you help
>
> On Tue, Aug 10, 2010 at 9:55 PM, Martin Dobias <wonder.sk@gmail.com> wrote:
>> Hi Ricardo
>>
>> On Mon, Aug 9, 2010 at 2:50 PM, Ricardo Filipe Soares Garcia da
>> <ricardo.garcia.silva@gmail.com> wrote:
>>> Hello list
>>>
>>> How can I add a new field to an existing layer and insert some new
>>> values in it? In the following example, pointLayer refers to an
>>> existing layer, previously created using the memory provider. This
>>> code is creating the new field, but I cannot insert the values in it.
>>> Although it runs without any error, when I look at the layer's
>>> attribute table, the new field is there, but every feature has it as
>>> NULL.
>>
>> The problem is that in your code you only modify a local copy of the
>> data - your change is not propagated to the provider. To actually
>> modify the data, use something like this:
>>
>> values = { fid : { attr_1 : QVariant(value_1), attr_2 :
>> QVariant(value_2) }, ... }
>> provider.changeAttributeValues( values )
>>
>> You pass the provider a dictionary where keys are feature IDs, values
>> are dictionaries of changed attributes (key = attribute index, value =
>> new attribute value).
>>
>>> By the way, I think this kind of operation would be a nice thing
>>> to go into the pyqgis cookbook
>>
>> Sure, it just needs some time :-)
>>
>> Regards
>> Martin
>>
>
>
>
> --
> ___________________________ ___ __
> Ricardo Garcia Silva
>



-- 
___________________________ ___ __
Ricardo Garcia Silva
From benoit at exigesa.com  Wed Aug 11 01:17:56 2010
From: benoit at exigesa.com (Benoit EXIGE)
Date: Wed Aug 11 01:18:33 2010
Subject: [Qgis-developer] Developer cookbook in SVN
In-Reply-To: <AANLkTi=6X+ku5h3JrvTCVzSovS0Lg40A31hZgn9Fzmo2@mail.gmail.com>
References: <20100809102123.0b568200@nature.site>
	<NEBBKOODKMEEMJKCHBECGEDEJDAA.benoit@exigesa.com>
	<AANLkTi=6X+ku5h3JrvTCVzSovS0Lg40A31hZgn9Fzmo2@mail.gmail.com>
Message-ID: <58E38CC9-120F-4563-A54A-30426E1327F0@exigesa.com>

Hi Martin,

Many thanks for the clarification.

I'm learning how to use the QGIS API and find it quite difficult  
coming from a VB6 background!! So, every bit of help is really  
appreciated.

Would it be possible to over-comment the code put in the cookbook?
For example your comments below on how the colour ramp shader works  
could be put above the code. Extra work on your side but very helpful  
for people like me :-)

Another document that will greatly help QGIS API novices would be a  
complete diagram of the objects hierarchy. You developers have it in  
your heads but us common mortals strive for it ;->

Anyway, many thanks for your patience and help.
Benoit



On 11 Aug 2010, at 0:08, Martin Dobias <wonder.sk@gmail.com> wrote:

> On Mon, Aug 9, 2010 at 7:10 PM, Benoit de Cabissole <benoit@exigesa.com 
> > wrote:
>> Hi all,
>>
>> The cookbook is a very good idea. Thanks to set it up!
>>
>> I've got a problem with the recipe in the raster, Single Band Rasters
>> section. The code shown to do colormap does not fully work: the  
>> layer is
>> told to use a ColorRampShader, then a custom raster shader function  
>> is
>> initialised and filled with relevant data (a list and flag) and then
>> nothing. How is this custom function fed back into the raster? Am I  
>> missing
>> something?
>
> When you tell the layer to use color ramp shader, an appropriate
> shader function is created. So in fact it's not a custom shader
> function which is being initialized - it's the shader function which
> has been created in previous setColorShadingAlgorithm() call.
>
>
>> In my code I tried to use:
>>   theLayer.setRasterShaderFunction( myShaderFunction )
>> but it only causes an "access violation" error when QGIS exits.
>
> I've fixed that issue in r14046.
>
>
>> After testing the code in the cookbook I can confirm that a  
>> colormap is
>> created: the colormap tab is filled with the correct colour ramp  
>> but the
>> type of colouring (symbology tab, color map combobox) is not  
>> changed to
>> 'Colormap', it stays at whatever setting it was before calling the  
>> code and
>> needs to be manually witched to "Colormap" to have the raster  
>> taking the
>> colours of the colormap.
>>
>> Could you please complete the code in the cookbook to show the  
>> final step?
>
> I've explained that in previous mail, but for the record, it has been
> added also to the cookbook (r14050).
>
> Regards
> Martin
From wonder.sk at gmail.com  Wed Aug 11 03:10:00 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Aug 11 03:10:02 2010
Subject: [Qgis-developer] how to add a new field to an existing layer?
In-Reply-To: <AANLkTin0R_yGBooGOgCgo=FdKu2+hRHkw24rZSmgBdwk@mail.gmail.com>
References: <AANLkTi=O8XDUYZaTHK7QN6nk14X+2+bE8ayDb2c-+3fZ@mail.gmail.com>
	<AANLkTin2uVyYKZ6VCOh84PDd1JLXRExNfi0uUphiocHw@mail.gmail.com>
	<AANLkTin0R_yGBooGOgCgo=FdKu2+hRHkw24rZSmgBdwk@mail.gmail.com>
Message-ID: <AANLkTinm5=x3QDOrF0RrXGf_2U2Kg7tEPBM8iQSk7T=0@mail.gmail.com>

On Wed, Aug 11, 2010 at 1:49 AM, Ricardo Filipe Soares Garcia da
<ricardo.garcia.silva@gmail.com> wrote:
>
> provider = pointLayer.dataProvider()
> newField = QgsField("channel", QVariant.Double)
> provider.addAttributes([newField])
> newFieldIndex = provider.fieldNameIndex(newField.name())
> #more code
> allAttrs = provider.attributeIndexes()
> provider.select(allAttrs)
> feat = QgsFeature()
> while provider.nextFeature(feat):
> ? ?# more code, calculating the value of the 'channelValue' variable
> ? ?values = {feat.id() : {newFieldIndex: QVariant(channel)}}
> ? ?provider.ChangeAttributeValues(values)

Btw. for a better performance, it is good to only fill the new values
into the 'values' dictionary within the 'while' cycle. Afterwards you
can run changeAttributeValues() once to modify all features. Anyway if
you do not work with lots of features, it is not so imporant.

Martin
From benoit at exigesa.com  Wed Aug 11 03:26:12 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Wed Aug 11 03:26:17 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <D1D8A583-8FCB-404B-A228-C195CF64A077@exigesa.com>
Message-ID: <NEBBKOODKMEEMJKCHBECOEDMJDAA.benoit@exigesa.com>

Martin, Peter, Duarte, Borys,

Success!

Below the working code:

=======================================================================
  #
  # Display the selected colour table:
  #
  # - tell the layer to use a QgsColorRampShader function
  theLayer.setColorShadingAlgorithm( QgsRasterLayer.ColorRampShader )
  #
  # - get a pointer to the raster shader function (QgsColorRampShader)
  myColorRampShader = theLayer.rasterShader().rasterShaderFunction()
  #
  # - set parameters for the QgsColorRampShader function
  myColorRampShader.setColorRampType( QgsColorRampShader.DISCRETE )
  myColorRampShader.setColorRampItemList( theTBL )
  theLayer.setDrawingStyle( QgsRasterLayer.SingleBandPseudoColor )
  #
  # - refresh map & legend
  theLayer.setCacheImage( None )
  theLayer.triggerRepaint()
  self.iface.legendInterface().refreshLayerSymbology( theLayer )
  #
  # - tell QGIS that it needs to ask user to save changes
  self.iface.mapCanvas().setDirty( True )
=======================================================================

Something is still bothering me: what does happen if the raster is cached
before I set the cache to None?
I've tried the following code:

  # - backup current cache state
  bQI = theLayer.cacheImage()
  if bQI != None: theLayer.setCacheImage( None )

  ... refresh raster ...

  # - restore the state of image cache
  theLayer.setCacheImage( bQI )

It runs with no error, but on exit of QGIS it bombs out!

Any idea? It is correct to try to backup/restore the cache state?

Thanks a lot for helping me on this matter for the last few weeks...
Benoit


> -----Original Message-----
> From: qgis-developer-bounces@lists.osgeo.org
> [mailto:qgis-developer-bounces@lists.osgeo.org]On Behalf Of Benoit EXIGE
> Sent: Tuesday, 10 August 2010 22:03
> To: Martin Dobias
> Cc: qgis-developer@lists.osgeo.org
> Subject: Re: [Qgis-developer] How to load a colour table on a
> raster,programmatically (in python)?
>
>
> Martin,
>
> Thanks for the answers. I will test them tomorrow.
>
> As for QgsLegendInterface the problem was that I did not know how to
> use it correctly!
>
> Cheers,
> Benoit
>
>
> On 10 Aug 2010, at 21:52, Martin Dobias <wonder.sk@gmail.com> wrote:
>
> > On Mon, Aug 9, 2010 at 11:01 PM, Benoit de Cabissole
> <benoit@exigesa.com
> > > wrote:
> >> Colormap is given to the raster (and into the coloramp tab in the
> >> raster
> >> properties). The colour ramp attribute is also reflected in the
> >> symbology
> >> tab: color map combobox set to colormap. So the raster is given the
> >> correct
> >> info. So far so good. But, the legend does not refresh to show the
> >> change to
> >> colormap: the raster icon and raster colour bar stay grey.
> >
> > Use QgsLegendInterface class to refresh the symbology:
> >
> > iface.legendInterface().refreshLayerSymbology(layer)
> >
> >
> >> The main raster (the only layer in my test) does not refresh either
> >> in the
> >> QGIS map canvas window. Only if I move it will it refresh and
> >> display the
> >> colour map.
> >
> > Possibly you're using caching. Make sure to clear the cached image
> > before calling triggerRepaint():
> >
> > layer.setCacheImage(None)
> >
> >> The only way to refresh the legend to the correct info seems to
> >> open the
> >> raster properties box and click ok. (I've tried the
> >> QgsLegendInterface, but
> >> I have problems to make it work!)
> >
> > What probles with QgsLegendInterface did you have?
> >
> >
> > Regards
> > Martin
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From wonder.sk at gmail.com  Wed Aug 11 04:07:55 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Aug 11 04:07:56 2010
Subject: [Qgis-developer] How to load a colour table on a raster, 
	programmatically (in python)?
In-Reply-To: <NEBBKOODKMEEMJKCHBECOEDMJDAA.benoit@exigesa.com>
References: <D1D8A583-8FCB-404B-A228-C195CF64A077@exigesa.com>
	<NEBBKOODKMEEMJKCHBECOEDMJDAA.benoit@exigesa.com>
Message-ID: <AANLkTinf+ACmTO+9m+PbwDAM1uSYer+0O7KQUph_PDPo@mail.gmail.com>

On Wed, Aug 11, 2010 at 9:26 AM, Benoit de Cabissole <benoit@exigesa.com> wrote:
>
> Something is still bothering me: what does happen if the raster is cached
> before I set the cache to None?
> I've tried the following code:
>
> ?# - backup current cache state
> ?bQI = theLayer.cacheImage()
> ?if bQI != None: theLayer.setCacheImage( None )
>
> ?... refresh raster ...
>
> ?# - restore the state of image cache
> ?theLayer.setCacheImage( bQI )

The render cache works as follows: if there's a cached image and the
current extent has not changed, the cached image will be used. If the
cached image is not available (i.e. set to None), the layer will be
rendered again (and new cache image will be set). So with this code,
you would set the old cache image again - not something you want. All
you want is to remove the old cache image.

> It runs with no error, but on exit of QGIS it bombs out!

There was a small problem with python bindings (now fixed in r14053),
but again, there's no reason why you would want to do that.


Cheers
Martin
From benoit at exigesa.com  Wed Aug 11 04:17:50 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Wed Aug 11 04:17:55 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <AANLkTinf+ACmTO+9m+PbwDAM1uSYer+0O7KQUph_PDPo@mail.gmail.com>
Message-ID: <NEBBKOODKMEEMJKCHBECMEDNJDAA.benoit@exigesa.com>

Martin,

Thanks for the clarification and prompt answer.
As the French say: "je comprend vite, mais il faut m'expliquer longtemps !"

Cheers,
Benoit

> -----Original Message-----
> From: Martin Dobias [mailto:wonder.sk@gmail.com]
> Sent: Wednesday, 11 August 2010 10:08
> To: benoit@exigesa.com
> Cc: qgis-developer@lists.osgeo.org
> Subject: Re: [Qgis-developer] How to load a colour table on a raster,
> programmatically (in python)?
>
>
> On Wed, Aug 11, 2010 at 9:26 AM, Benoit de Cabissole
> <benoit@exigesa.com> wrote:
> >
> > Something is still bothering me: what does happen if the raster
> is cached
> > before I set the cache to None?
> > I've tried the following code:
> >
> > ?# - backup current cache state
> > ?bQI = theLayer.cacheImage()
> > ?if bQI != None: theLayer.setCacheImage( None )
> >
> > ?... refresh raster ...
> >
> > ?# - restore the state of image cache
> > ?theLayer.setCacheImage( bQI )
>
> The render cache works as follows: if there's a cached image and the
> current extent has not changed, the cached image will be used. If the
> cached image is not available (i.e. set to None), the layer will be
> rendered again (and new cache image will be set). So with this code,
> you would set the old cache image again - not something you want. All
> you want is to remove the old cache image.
>
> > It runs with no error, but on exit of QGIS it bombs out!
>
> There was a small problem with python bindings (now fixed in r14053),
> but again, there's no reason why you would want to do that.
>
>
> Cheers
> Martin

From benoit at exigesa.com  Wed Aug 11 06:02:33 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Wed Aug 11 06:02:37 2010
Subject: [Qgis-developer] Raster scale bar in Legend
In-Reply-To: <AANLkTimSQGKhLkdeD4bRzFRZWujXzUUYWxC3QYOcF1o2@mail.gmail.com>
Message-ID: <NEBBKOODKMEEMJKCHBECEEDOJDAA.benoit@exigesa.com>

Hi all,

Is it possible to change the "scale bar" (horizontal multicolour or grey
bar) displayed below the raster icon in the Legend pane using python? Can
that scale bar have arbitrary dimensions, e.g. grows or retracts like the
legend of a vector layer?

I'm trying to find a reference to it in the API doc but I do not really know
what to look for: legend, icon, symbology, ...?

Has someone do it before?

Cheers,
Benoit

From pi_ml at sourcepole.com  Wed Aug 11 15:28:21 2010
From: pi_ml at sourcepole.com (Pirmin Kalberer)
Date: Wed Aug 11 15:28:37 2010
Subject: [Qgis-developer] Postgis-Provider and compression
In-Reply-To: <4C613BD1.2080503@carto.net>
References: <21754.193.246.86.39.1281356952.squirrel@webmail.carto.net>
	<201008092247.01416.pi_ml@sourcepole.com>
	<4C613BD1.2080503@carto.net>
Message-ID: <201008112128.22143.pi_ml@sourcepole.com>

Hi Andreas,

Am Dienstag, 10. August 2010, um 13.45:21 schrieb Andreas Neumann:
> Hi Pirmin,
> 
> Thank you for your thoughts on the issue. My comments inline.
> 
> On 08/09/2010 10:47 PM, Pirmin Kalberer wrote:
> > Hi Andreas,
> > 
> > Am Montag, 9. August 2010, um 14.29:12 schrieb Andreas Neumann:
> >> Hi all,
> >> 
> >> I wonder if the current Postgis-Provider somehow supports or would
> >> support compression during data-transfer between the QGIS-client and
> >> the remote Postgis-server. In my experience, data transfer across
> >> slower connection (DSL, cable) is often rather slow.
> >> 
> >> Would there be, technically, a way to accelerate data transfer over
> >> slower network connections?
> > 
> > I don't know a built-in method for compressing data transfer on Postgres
> > connections (http://www.postgresql.org/docs/current/static/libpq-
> > connect.html).
> 
> ok - that's what I thought. So the best solution would be probably to
> get the PostgreSQL developers to implement compression in libpq ? That
> way not only geometry would profit, but also attribute data, which can
> also get quite large (in case of text). That way also slower mobile
> connections (phones, tablets, notebooks) could benefit from data
> compression in the future.

Finally it should be implemented on Postgres side, yes. But you could 
investigate with the mentioned tunnel method, how much you win. The 
compression results could be very data type dependent.

> 
> > But you could tunnel the connection e.g. with netcat or ssh (without
> > encryption) and compress it with gzip. Other solutions would be a
> > compressed geometry format (like
> > http://www.gaia-gis.it/spatialite-2.4.0/) or a partial update method.
> > Both would need changes or custom stored procedures within Postgis.
> 
> ok - thanks for the idea.
> 
> > A different approach would be using an "offline" database and
> > synchronizing with the master database. (We're currently working on this
> > approach in a customer project).
> 
> do you mean synchronizing Postgis with Postgis or Postgis with SpatiaLite?

I have SpatiaLite as offline storage in my mind. But since the next Postgres 
version has replication built-in, it will be an interesting option as well.

> 
> >> I also remember that Sandro Santilli once suggested a keyword
> >> substitution parameter for the psql provider so one could use simplify
> >> based on map resolution/map scale. This should also help to speed up
> >> data transfer on slower connections
> >> (http://lists.osgeo.org/pipermail/qgis-developer/2010-May/009923.html) -
> >> unfortunately noone answered to his mail. I think the proposal would be
> >> interesting to follow.
> > 
> > You're asking for something like http://tinyurl.com/pgvar I think. QGIS
> > could provide useful variables (like :scale) and offer a possibility to
> > configure the select statements.
> 
> yes - that's what I was looking for. Scale, and in the future maybe also
> time or potentially other variables specific to a certain map
> extent/view could be defined. The select statement would have to
> "digest" those variables and use them for something meaningful.
> 
> > Another way to achieve this could be using custom variables like in
> > http://www.pgsql.cz/index.php/PostgreSQL_SQL_Tricks#Any_other_session_var
> > iables
> 
> thanks for this other link!

When QGIS defines a set of custom variables, PostGIS could eventually integrate 
new query functions, which other client would also benefit from. A good 
discussion topic for Barcelona...

Pirmin

-- 
Pirmin Kalberer
Sourcepole  -  Linux & Open Source Solutions
http://www.sourcepole.com
From nsicad at gmail.com  Wed Aug 11 20:53:26 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Wed Aug 11 20:53:29 2010
Subject: [Qgis-developer] Incompatibilities between QGIS Spatialite and
	Spatialite (CLI and GIS) created files
Message-ID: <AANLkTi=AwkvtzfxVTbLRVRb45=-t+m9di6eGRqTCyLgc@mail.gmail.com>

Hi,

File created using CLI (command line interface)  in Spatialite could
not be opened in QGIS 1.5 and (QGIS 1.4) in Windows 7 and XP. And vice
versa i.e. spatialite created in QGIS 1.5 could not be opened as well
in Spatialite-GIS.

Please note that Spatialite test database could not open property in
QGIS 1.4 and QGIS 1.5. You can open the file but it will not render
the geometry polygon.

I am trying to create a Spatialite file from a Shapefile.

Steps In QGIS 1.5
1. Load Shapefile
2. Save Shapefile to Spatialite - Spatialite file successful created.
3. Remove Shapefile from Qgis.
4. Open Spatialte file that was created in QGIS - It is rendered
5. OK, no problem

Steps in Spatialite CLI using Spatialite 2.4
1. Create a Spatialite database
3. Initalise the database (.read init_spatialite-2.4.sql ASCII)
2. Load Shapeflle (.loadshp)
3. Inspect tables (.tables)
4. Close command line

Now, the problems.

In QGIS - Problem in opening Spatialite file created by Spatialite CLI in QGIS.

It ask you for layers to open. You can select any tables, yet it will
not render the polygons. You can see the attributes though.

In Spatialite-GIS - Problem in opening QGIS created spatialite file.

Error Screen
"Missing or invalid Spatial Metadata tables
- spatial_ref_sys
- geometry_columns"

I examined theSpatialite file created in QGIS 1.5 using Spatialite
CLI, the 2 metadata tables are present.

What causes these incompatibilities and any solution to the problem?

Problem in Geoserver with Spatialite.
http://groups.google.com/group/spatialite-users/browse_thread/thread/4099a32ef20e6a19

Thanks.

Noli
From nsicad at gmail.com  Wed Aug 11 23:23:06 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Wed Aug 11 23:23:09 2010
Subject: [Qgis-developer] Re: Incompatibilities between QGIS Spatialite and
	Spatialite (CLI and GIS) created files
In-Reply-To: <AANLkTi=AwkvtzfxVTbLRVRb45=-t+m9di6eGRqTCyLgc@mail.gmail.com>
References: <AANLkTi=AwkvtzfxVTbLRVRb45=-t+m9di6eGRqTCyLgc@mail.gmail.com>
Message-ID: <AANLkTikxXuq2wB1o+HfxSME2mCO0SiHEdOD9kC1VsPLZ@mail.gmail.com>

Hi,

I just like to elaborate that the QGIS 1.4 and QGIS 1.5 have problem
opening Spatialite database.

What causes this compatibility?

Please download the spatialite database  - subway_test.zip and try if
you can open it properly.

List of not opening spatialite database.

1. The spatialite file found in this posting -subway_test.zip

http://forum.qgis.org/viewtopic.php?f=2&t=6103

It could not be opened properly in QGIS 1.5

2. Spatialite test data not opening in Mac OS X QGIS 1.5

http://forum.qgis.org/viewtopic.php?f=2&t=6595&p=12421&hilit=spatialite#p12421

3. Mac OS X QGIS 1.4 and 1.5 (build 13385) from KyngChaos with no success
http://groups.google.com/group/spatialite-users/browse_thread/thread/a4801e0e563ac757

If you are using linux QGIS 1.5, please download
http://gothos.info/lib3010/subway_test.zip

and tell us if you can open this file properly - render the polygons.


Thanks.

Noli
From golubev at nordcomp.ru  Thu Aug 12 02:06:56 2010
From: golubev at nordcomp.ru (A. Golubev)
Date: Thu Aug 12 02:10:23 2010
Subject: [Qgis-developer] QGIS 1.5 freezes at some extent
Message-ID: <4C638F80.3090505@nordcomp.ru>

Hi devs! I`m compile QGIS 1.5.0 with VS2008 with these settings:
WITH_GRASS:BOOL=0

WITH_QWT:BOOL=0

WITH_BINDINGS:BOOL=0

WITH_POSTGRESQL:BOOL=0

WITH_INTERNAL_SPATIALITE:BOOL=0

WITH_SPATIALITE:BOOL=0

Compile ended successfully, but in some projects ( 
http://gis-lab.info/data/osm/arkhan/arkhan.7z ) qgis freezes when 
zooming in. QGIS 1.5.0 from OSGeo4W package open this project fine and 
not freezing in any extent. What can be a reason of this behavior?
QGIS 1.4 compiled with mingw and similar settings works fine. I`m trying 
GDAL 1.5 and 1.7
WinXP SP2, Qt 4.6.3
From marco.hugentobler at sourcepole.ch  Thu Aug 12 02:44:10 2010
From: marco.hugentobler at sourcepole.ch (Marco Hugentobler)
Date: Thu Aug 12 02:44:27 2010
Subject: [Qgis-developer] QGIS 1.5 freezes at some extent
In-Reply-To: <4C638F80.3090505@nordcomp.ru>
References: <4C638F80.3090505@nordcomp.ru>
Message-ID: <201008120844.10164.marco.hugentobler@sourcepole.ch>

Hi

The reason is most likely that osgeo4w uses a modified qt, patched with the 
code from QgsClipper (see http://www.archivum.info/qt-
interest@trolltech.com/2009-09/00028/%5BQt-interest%5D-Modification-for-faster-
coordinate-clipping-in-QOutlineMapper.html).

If you want to have this on Linux too, you might compile qt and replace 
src/gui/painting/qoutlinemapper.cpp and .._p.h with the attached files.

Regards,
Marco

Am Donnerstag, 12. August 2010, um 08.06:56 schrieb A. Golubev:
> Hi devs! I`m compile QGIS 1.5.0 with VS2008 with these settings:
> WITH_GRASS:BOOL=0
> 
> WITH_QWT:BOOL=0
> 
> WITH_BINDINGS:BOOL=0
> 
> WITH_POSTGRESQL:BOOL=0
> 
> WITH_INTERNAL_SPATIALITE:BOOL=0
> 
> WITH_SPATIALITE:BOOL=0
> 
> Compile ended successfully, but in some projects (
> http://gis-lab.info/data/osm/arkhan/arkhan.7z ) qgis freezes when
> zooming in. QGIS 1.5.0 from OSGeo4W package open this project fine and
> not freezing in any extent. What can be a reason of this behavior?
> QGIS 1.4 compiled with mingw and similar settings works fine. I`m trying
> GDAL 1.5 and 1.7
> WinXP SP2, Qt 4.6.3
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 
Dr. Marco Hugentobler
Sourcepole -  Linux & Open Source Solutions
Webereistrasse 66, 8134 Adliswil, Switzerland
marco.hugentobler@sourcepole.ch http://www.sourcepole.ch
Technical Advisor QGIS Project Steering Committee
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qoutlinemapper.cpp
Type: text/x-c++src
Size: 13843 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100812/d755ae8a/qoutlinemapper-0001.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qoutlinemapper_p.h
Type: text/x-chdr
Size: 14951 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100812/d755ae8a/qoutlinemapper_p-0001.bin
From cavallini at faunalia.it  Thu Aug 12 02:51:05 2010
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Thu Aug 12 02:51:11 2010
Subject: [Qgis-developer] Postgis-Provider and compression
In-Reply-To: <201008112128.22143.pi_ml@sourcepole.com>
References: <21754.193.246.86.39.1281356952.squirrel@webmail.carto.net>	<201008092247.01416.pi_ml@sourcepole.com>	<4C613BD1.2080503@carto.net>
	<201008112128.22143.pi_ml@sourcepole.com>
Message-ID: <4C6399D9.1080503@faunalia.it>

Il 11/08/2010 21:28, Pirmin Kalberer ha scritto:
>> do you mean synchronizing Postgis with Postgis or Postgis with SpatiaLite?
>
> I have SpatiaLite as offline storage in my mind. But since the next Postgres
> version has replication built-in, it will be an interesting option as well.

I agree: a smooth syncing tool between PostGIS and SpatiaLite would be 
very useful for many uses, especially for mobile users. If there is 
interest, we are willing to collaborate. BTW: is anybody working on the 
porting on mobile platforms?

All the best.
-- 
http://www.faunalia.it/pc
From benoit at exigesa.com  Thu Aug 12 02:59:53 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Thu Aug 12 03:00:02 2010
Subject: [Qgis-developer] A bug in raster stats?
In-Reply-To: <NEBBKOODKMEEMJKCHBECEEDOJDAA.benoit@exigesa.com>
Message-ID: <NEBBKOODKMEEMJKCHBECIEEDJDAA.benoit@exigesa.com>

Hello developers,

Is the computation of raster stats in QGIS (GDAL?) buggy?

Consider the following simple raster (GDAL: AAIGrid Arc/Info ASCII Grid).

============================================================================
ncols        28
nrows        22
xllcorner    37.457000000000
yllcorner    -47.064666666667
cellsize     0.0833333333
NODATA_value  -9999
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
============================================================================
WGS84 lat/lon projection

Its true stats are:

Min Val
1
Max Val
28

Sum of squares
169708.0
Sum of all cells
8932.0

Cell Count
616



But QGIS stats are:
- 1. compute histogram, in raster properties dialog
- 2. close dialog
- 3. open dialog again and get the stats in metadata

Min Val
1.0000000000
Max Val
28.0000000000

Sum of squares
40194.0016233767
Sum of all cells
8931.0000000000

Cell Count
616


Conclusion: the 'sum of all cells' and the 'sum of squares' give wrong
values.
Furthermore, on any other raster those two values are also wrong, as far as
I can see.

Is it a bug?
Does the projection the raster is in have anything to do with the computed
stats?

I've searched the bug trac but cannot find a reference to that problem.

Cheers,
Benoit

From golubev at nordcomp.ru  Thu Aug 12 03:19:37 2010
From: golubev at nordcomp.ru (A. Golubev)
Date: Thu Aug 12 03:23:00 2010
Subject: [Qgis-developer] QGIS 1.5 freezes at some extent
In-Reply-To: <201008120844.10164.marco.hugentobler@sourcepole.ch>
References: <4C638F80.3090505@nordcomp.ru>
	<201008120844.10164.marco.hugentobler@sourcepole.ch>
Message-ID: <4C63A089.9060704@nordcomp.ru>

Thanks, Marco!
I`m try to recompile Qt with this patched files.

12.08.2010 10:44, Marco Hugentobler ?????:
>
> Hi
>
> The reason is most likely that osgeo4w uses a modified qt, patched with the
> code from QgsClipper (see http://www.archivum.info/qt-
> interest@trolltech.com/2009-09/00028/%5BQt-interest%5D-Modification-for-faster-
> coordinate-clipping-in-QOutlineMapper.html).
>
> If you want to have this on Linux too, you might compile qt and replace
> src/gui/painting/qoutlinemapper.cpp and .._p.h with the attached files.
>
> Regards,
> Marco
>
>    

From micha at arava.co.il  Thu Aug 12 04:06:26 2010
From: micha at arava.co.il (Micha Silver)
Date: Thu Aug 12 04:06:31 2010
Subject: [Qgis-developer] Re: [Qgis-user] terrain profile
In-Reply-To: <4E7B5FE52E3BEA48AD9AB3AD11BA17A31A96337DA1@KIELDERCMS1.open.ac.uk>
References: <4E7B5FE52E3BEA48AD9AB3AD11BA17A31A96337DA1@KIELDERCMS1.open.ac.uk>
Message-ID: <4C63AB82.30708@arava.co.il>


On 08/11/2010 04:50 PM, M.E.Dodd wrote:
>
> Anyone got this potentially very useful plugin tool to work without it 
> crashing qgis? Have tried under various versions of qgis 1.3-1.5 on 
> various different windows xp pc's and always causes qgis to crash just 
> after seeing the profile.
>
I can confirm this bug on Windows (and not on Linux)
I entered it into trac:
http://trac.osgeo.org/qgis/ticket/2939

It's also been brought up on the forum:
http://forum.qgis.org/viewtopic.php?f=2&t=6497#p11910 
<http://forum.qgis.org/viewtopic.php?f=2&t=6497#p11910>
with some possible alternatives to get the job done.

Regards,
Micha

>
> -- 
> The Open University is incorporated by Royal Charter (RC 000391), an 
> exempt charity in England & Wales and a charity registered in Scotland 
> (SC 038302).
>
> This mail was received via Mail-SeCure System.
>
>
> _______________________________________________
> Qgis-user mailing list
> Qgis-user@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-user
>
> This mail was received via Mail-SeCure System.
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100812/0b5d05a2/attachment.html
From m.massing at warped-space.de  Thu Aug 12 04:47:11 2010
From: m.massing at warped-space.de (Manuel Massing)
Date: Thu Aug 12 04:47:14 2010
Subject: [Qgis-developer] A bug in raster stats?
In-Reply-To: <NEBBKOODKMEEMJKCHBECIEEDJDAA.benoit@exigesa.com>
References: <NEBBKOODKMEEMJKCHBECIEEDJDAA.benoit@exigesa.com>
Message-ID: <201008121047.11261.m.massing@warped-space.de>

Hi Benoit,

> Sum of squares
> 40194.0016233767
> Sum of all cells
> 8931.0000000000

The stats show the empirical variance of the data (i.e. sum (value-mean)^2 ),
whereas 169078 is the sum of uncentered squares.

Maybe the property could be renamed to "sum of squared deviations" to clarify 
this distinction?

As for the sum, that was  an off by one error (fixed in r14069). 
Good catch :-)

bye,

	Manuel
From benoit at exigesa.com  Thu Aug 12 05:17:31 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Thu Aug 12 05:17:38 2010
Subject: [Qgis-developer] A bug in raster stats?
In-Reply-To: <201008121047.11261.m.massing@warped-space.de>
Message-ID: <NEBBKOODKMEEMJKCHBECCEEFJDAA.benoit@exigesa.com>

Hi Manuel,

Thanks for the clarification, makes sense!

Cheers,
Benoit


> -----Original Message-----
> From: Manuel Massing [mailto:m.massing@warped-space.de]
> Sent: Thursday, 12 August 2010 10:47
> To: qgis-developer@lists.osgeo.org; benoit@exigesa.com
> Subject: Re: [Qgis-developer] A bug in raster stats?
> 
> 
> Hi Benoit,
> 
> > Sum of squares
> > 40194.0016233767
> > Sum of all cells
> > 8931.0000000000
> 
> The stats show the empirical variance of the data (i.e. sum 
> (value-mean)^2 ),
> whereas 169078 is the sum of uncentered squares.
> 
> Maybe the property could be renamed to "sum of squared 
> deviations" to clarify 
> this distinction?
> 
> As for the sum, that was  an off by one error (fixed in r14069). 
> Good catch :-)
> 
> bye,
> 
> 	Manuel
From brush.tyler at gmail.com  Thu Aug 12 07:05:52 2010
From: brush.tyler at gmail.com (Giuseppe Sucameli)
Date: Thu Aug 12 07:06:14 2010
Subject: [Qgis-developer] Re: Incompatibilities between QGIS Spatialite 
	and Spatialite (CLI and GIS) created files
In-Reply-To: <AANLkTikxXuq2wB1o+HfxSME2mCO0SiHEdOD9kC1VsPLZ@mail.gmail.com>
References: <AANLkTi=AwkvtzfxVTbLRVRb45=-t+m9di6eGRqTCyLgc@mail.gmail.com> 
	<AANLkTikxXuq2wB1o+HfxSME2mCO0SiHEdOD9kC1VsPLZ@mail.gmail.com>
Message-ID: <AANLkTikx0PsyJWDp9gWOQmXwNQT=aW84TbEZ9ohH9=_N@mail.gmail.com>

Hi Noli,

On Thu, Aug 12, 2010 at 5:23 AM, Noli Sicad <nsicad@gmail.com> wrote:

> I just like to elaborate that the QGIS 1.4 and QGIS 1.5 have problem
> opening Spatialite database.
>
> What causes this compatibility?
>
> Please download the spatialite database  - subway_test.zip and try if
> you can open it properly.
> ...
> If you are using linux QGIS 1.5, please download
> http://gothos.info/lib3010/subway_test.zip
>
> and tell us if you can open this file properly - render the polygons.
>
On Ubuntu 9.10 and QGis Trunk r14020 I open it without any problems.

Cheers

-- 
Giuseppe Sucameli
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100812/0c7f835e/attachment.html
From craig.leat at gmail.com  Thu Aug 12 07:43:28 2010
From: craig.leat at gmail.com (Craig Leat)
Date: Thu Aug 12 07:43:30 2010
Subject: [Qgis-developer] Re: Incompatibilities between QGIS Spatialite
	and Spatialite (CLI and GIS) created files
Message-ID: <AANLkTimXwW6znxft59bQkN0hgynWoLB=pehvX9797E1S@mail.gmail.com>

Hi Noli,

> List of not opening spatialite database.
> 1. The spatialite file found in this posting -subway_test.zip
> http://forum.qgis.org/viewtopic.php?f=2&t=6103
>
> It could not be opened properly in QGIS 1.5

No rendering problems here - the polygons display just fine. However,
the layer selection window reports "Unknown WKB" for the geometry
type.

$ cat /etc/issue
Ubuntu 9.04

$ ./qgis --help
Quantum GIS - 1.5.0-Trunk 'Trunk' (12821)

$ ogr2ogr --version
GDAL 1.7.0, released 2010/01/19

$ spatialite -version
SpatiaLite version ..: 2.3.0	Supported Extensions:
	- 'VirtualShape'	[direct Shapefile access]
	- 'VirtualText		[direct CSV/TXT access]
	- 'VirtualNetwork	[Dijkstra shortest path]
	- 'RTree'		[Spatial Index - R*Tree]
	- 'MbrCache'		[Spatial Index - MBR cache]
	- 'VirtualFDO'		[FDO-OGR interoperability]
	- 'SpatiaLite'		[Spatial SQL - OGC]
PROJ.4 version ......: Rel. 4.6.1, 21 August 2008
GEOS version ........: 3.0.0-CAPI-1.4.1
3.6.12

Regards,

Craig
From benoit at exigesa.com  Thu Aug 12 08:40:19 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Thu Aug 12 08:40:28 2010
Subject: [Qgis-developer] Raster tools (GDAL plugin) some annoyances
In-Reply-To: <NEBBKOODKMEEMJKCHBECEEDOJDAA.benoit@exigesa.com>
Message-ID: <NEBBKOODKMEEMJKCHBECMEEGJDAA.benoit@exigesa.com>

Hi GDAL plugin developers,

The 'new' translate dialog box refers.

1) I want to setup the No data value to 99999 but the textbox only allows me
to enter 2 digits, after that I have to click on the up arrow for a looooong
time to get to 99999! Is that restriction on purpose, is it a Qt limitation?

2) Also, in the same dialog, I want to convert a TIFF (GTiff) to an ASCII
grid (AAIGrid) so, in the Output file Select dialog I choose a type of
"[GDAL] Arc *.Info ASCII Grid (*.asc *.ASC)" and give a name "test.asc" but
the script info box (bottom textbox) shows "-of GTiff" and although the
extension of the output file is .asc it creates a tiff file when run! Is it
on purpose?
What I'm doing in copying the script to a DOS window, change GTiff to
AAIGrid and run the script, it works flawlessly but it is a pain. Could you
consider allowing editing the text in the script info box and run this
edited script?

I'm running OSGeo4W QGIS 1.6.R14026 on windows XP SP3.

Cheers,
Benoit

From ersts at amnh.org  Thu Aug 12 10:25:19 2010
From: ersts at amnh.org (Peter Ersts)
Date: Thu Aug 12 10:25:40 2010
Subject: [Qgis-developer] How to load a colour table on a raster,
	programmatically (in python)?
In-Reply-To: <AANLkTimSQGKhLkdeD4bRzFRZWujXzUUYWxC3QYOcF1o2@mail.gmail.com>
References: <NEBBKOODKMEEMJKCHBECAEDEJDAA.benoit@exigesa.com>	<4C605D8E.7050704@amnh.org>
	<AANLkTimSQGKhLkdeD4bRzFRZWujXzUUYWxC3QYOcF1o2@mail.gmail.com>
Message-ID: <4C64044F.6060303@amnh.org>

On 08/10/2010 03:46 PM, Martin Dobias wrote:
> I believe this can be fixed easily by testing whether the new shader
> function isn't the same as the previous one in
> setRasterShaderFunction(). Do you see any further scenarios that might
> lead to a crash? Because deleting the shader function in the class
> where it belongs is typically less prone to memory leaks or double
> deletion.
>
> Bye
> Martin
>
>    

Howdy Martin.

I think this is a good solution. I was thinking of the same approach.

Another potential situation that could lead to a crash would be sharing 
a custom shader between raster layers.

Without going into too much detail, say you wrote a custom app/plugin to 
display several adjacent rasters (maybe aerial images along a transect), 
and they all needed to be shaded the same way, with your custom shader. 
Right now, you can set the shader for all layers to the same shader and 
things would work ok until you changed the shader for any one layer. 
Granted there are external work arounds ( mosaics etc.) and you could 
just duplicate the shader for each layer as they are quite small, 
however reusing the shader seems like it should be an option for smaller 
memory devices -- and the color cache can actually get quite large 
depending on the type of image.

Safe pointers come to mind, but I think we may just be able to add an 
extra flag to the setRasterShaderFunction() that would allow you to 
override the delete on change functionality:

void QgsRasterShader::setRasterShaderFunction( QgsRasterShaderFunction*, 
bool deleteOnChange=true)

So calling setRasterShaderFunction( myFunc, false ) would mean that the 
next call to setRasterShaderFunction( ) would NOT attempt to free the 
point to the current shader function.

-pete

-- 
====================================
Peter J. Ersts, Software Developer
American Museum of Natural History
Center for Biodiversity and Conservation
Central Park West at 79th Street
New York, New York 10024
Web: http://biodiversityinformatics.amnh.org
Web: http://cbc.amnh.org

Open Source,
...evolving through community cooperation to change the world bit by bit

Quantum GIS Raster Development Team.

From Stefan.Ziegler at bd.so.ch  Thu Aug 12 14:19:48 2010
From: Stefan.Ziegler at bd.so.ch (Ziegler Stefan)
Date: Thu Aug 12 14:19:50 2010
Subject: [Qgis-developer] Compilation error rev 14071
Message-ID: <113197837.139891281637188096.JavaMail.root@srsofaioi13477.ktso.ch>

Hi 

I get the following error while compiling rev 14071:

Linking CXX shared library libqgis_core.so                                                                                        
[ 24%] Built target qgis_core                                                                                                     
[ 24%] Building CXX object src/gui/CMakeFiles/qgis_gui.dir/qgsrubberband.cpp.o
/home/stefan/Develop/src/qgis_trunk/src/gui/qgsrubberband.cpp: In member function ?QgsGeometry* QgsRubberBand::asGeometry()?:     
/home/stefan/Develop/src/qgis_trunk/src/gui/qgsrubberband.cpp:441: error: ?::const_iterator? has not been declared
/home/stefan/Develop/src/qgis_trunk/src/gui/qgsrubberband.cpp:441: error: ?>>? should be ?> >? within a nested template argument list
/home/stefan/Develop/src/qgis_trunk/src/gui/qgsrubberband.cpp:455: error: ?::const_iterator? has not been declared
/home/stefan/Develop/src/qgis_trunk/src/gui/qgsrubberband.cpp:455: error: ?>>? should be ?> >? within a nested template argument list
make[2]: *** [src/gui/CMakeFiles/qgis_gui.dir/qgsrubberband.cpp.o] Error 1
make[1]: *** [src/gui/CMakeFiles/qgis_gui.dir/all] Error 2
make: *** [all] Error 2


regards
Stefan


mit freundlichem Gruss
Stefan Ziegler
From Stefan.Ziegler at bd.so.ch  Thu Aug 12 15:15:54 2010
From: Stefan.Ziegler at bd.so.ch (Ziegler Stefan)
Date: Thu Aug 12 15:15:57 2010
Subject: AW: [Qgis-developer] Compilation error rev 14071
In-Reply-To: <113197837.139891281637188096.JavaMail.root@srsofaioi13477.ktso.ch>
Message-ID: <2077202304.140121281640554876.JavaMail.root@srsofaioi13477.ktso.ch>

Thanks J?rgen!

mit freundlichem Gruss
Stefan Ziegler


----- Originalnachricht -----
Von: "Ziegler Stefan" <Stefan.Ziegler@bd.so.ch>
Gesendet: Don, 12.8.2010 20:19
An: qgis-developer <qgis-developer@lists.osgeo.org>
Betreff: [Qgis-developer] Compilation error rev 14071

Hi 

I get the following error while compiling rev 14071:

Linking CXX shared library libqgis_core.so                                                                                        
[ 24%] Built target qgis_core                                                                                                     
[ 24%] Building CXX object src/gui/CMakeFiles/qgis_gui.dir/qgsrubberband.cpp.o
/home/stefan/Develop/src/qgis_trunk/src/gui/qgsrubberband.cpp: In member function ?QgsGeometry* QgsRubberBand::asGeometry()?:     
/home/stefan/Develop/src/qgis_trunk/src/gui/qgsrubberband.cpp:441: error: ?::const_iterator? has not been declared
/home/stefan/Develop/src/qgis_trunk/src/gui/qgsrubberband.cpp:441: error: ?>>? should be ?> >? within a nested template argument list
/home/stefan/Develop/src/qgis_trunk/src/gui/qgsrubberband.cpp:455: error: ?::const_iterator? has not been declared
/home/stefan/Develop/src/qgis_trunk/src/gui/qgsrubberband.cpp:455: error: ?>>? should be ?> >? within a nested template argument list
make[2]: *** [src/gui/CMakeFiles/qgis_gui.dir/qgsrubberband.cpp.o] Error 1
make[1]: *** [src/gui/CMakeFiles/qgis_gui.dir/all] Error 2
make: *** [all] Error 2


regards
Stefan


mit freundlichem Gruss
Stefan Ziegler
_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer
From nsicad at gmail.com  Thu Aug 12 19:17:52 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Thu Aug 12 19:17:54 2010
Subject: [Qgis-developer] Re: Incompatibilities between QGIS Spatialite
	and Spatialite (CLI and GIS) created files
In-Reply-To: <AANLkTimXwW6znxft59bQkN0hgynWoLB=pehvX9797E1S@mail.gmail.com>
References: <AANLkTimXwW6znxft59bQkN0hgynWoLB=pehvX9797E1S@mail.gmail.com>
Message-ID: <AANLkTimCQGL55XMuVTVAGG6TbOrQb8MoqDANJqxcG3Ss@mail.gmail.com>

Hi Giuseppe and Craig,

Thanks for your reply.

The QGIS 1.5 that I am using is installed using the standalone OSGeo4W
with Grass installer.

It is built using Spatialite 2.4.0 and code revision 13923M.

Regards,

Noli


On 8/12/10, Craig Leat <craig.leat@gmail.com> wrote:
> Hi Noli,
>
>> List of not opening spatialite database.
>> 1. The spatialite file found in this posting -subway_test.zip
>> http://forum.qgis.org/viewtopic.php?f=2&t=6103
>>
>> It could not be opened properly in QGIS 1.5
>
> No rendering problems here - the polygons display just fine. However,
> the layer selection window reports "Unknown WKB" for the geometry
> type.
>
> $ cat /etc/issue
> Ubuntu 9.04
>
> $ ./qgis --help
> Quantum GIS - 1.5.0-Trunk 'Trunk' (12821)
>
> $ ogr2ogr --version
> GDAL 1.7.0, released 2010/01/19
>
> $ spatialite -version
> SpatiaLite version ..: 2.3.0	Supported Extensions:
> 	- 'VirtualShape'	[direct Shapefile access]
> 	- 'VirtualText		[direct CSV/TXT access]
> 	- 'VirtualNetwork	[Dijkstra shortest path]
> 	- 'RTree'		[Spatial Index - R*Tree]
> 	- 'MbrCache'		[Spatial Index - MBR cache]
> 	- 'VirtualFDO'		[FDO-OGR interoperability]
> 	- 'SpatiaLite'		[Spatial SQL - OGC]
> PROJ.4 version ......: Rel. 4.6.1, 21 August 2008
> GEOS version ........: 3.0.0-CAPI-1.4.1
> 3.6.12
>
> Regards,
>
> Craig
>
From woklist at kyngchaos.com  Thu Aug 12 19:46:30 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Thu Aug 12 19:46:36 2010
Subject: [Qgis-developer] Re: Incompatibilities between QGIS Spatialite
	and Spatialite (CLI and GIS) created files
In-Reply-To: <AANLkTikxXuq2wB1o+HfxSME2mCO0SiHEdOD9kC1VsPLZ@mail.gmail.com>
References: <AANLkTi=AwkvtzfxVTbLRVRb45=-t+m9di6eGRqTCyLgc@mail.gmail.com>
	<AANLkTikxXuq2wB1o+HfxSME2mCO0SiHEdOD9kC1VsPLZ@mail.gmail.com>
Message-ID: <B02194A2-63C8-4F7E-9FA6-7CC1B93E32F2@kyngchaos.com>

On Aug 11, 2010, at 10:23 PM, Noli Sicad wrote:

> Hi,
> 
> I just like to elaborate that the QGIS 1.4 and QGIS 1.5 have problem
> opening Spatialite database.
> 
> What causes this compatibility?
> 
> Please download the spatialite database  - subway_test.zip and try if
> you can open it properly.
> 
Or test it with the spatialite test db.

> 2. Spatialite test data not opening in Mac OS X QGIS 1.5
> 
> http://forum.qgis.org/viewtopic.php?f=2&t=6595&p=12421&hilit=spatialite#p12421
> 
> 3. Mac OS X QGIS 1.4 and 1.5 (build 13385) from KyngChaos with no success
> http://groups.google.com/group/spatialite-users/browse_thread/thread/a4801e0e563ac757
> 
More precisely, the problem on the Mac is display only.  see bug http://trac.osgeo.org/qgis/ticket/2760 (forgot about that).

The DB opens, and you can add layers.  The coordinate info is there, and you can even select features (no hilites, IIRC).  It's just that nothing displays.  Only on PPC Leopard (10.5).  Intel Leopard, and Snow (PPC not possible), are fine.

At one point I thought it might be something with Qt - I was building the Leopard version with Qt 4.6 Carbon (the older GUI API) and Snow version with Qt 4.6 Cocoa (for 64bit build).  For some reason, Nokia decided to not include PPC in the Cocoa build, which leaves out a lot of still-supported G5 Macs.  I switched to compiling my own Qt Cocoa for Leopard with PPC, but forgot to test the Spatialite problem until today, but it's still there.

Spatialite on PPC works fine via the sqlite3 utility.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"The beast is actively interested only in now, and, as it is always now and always shall be, there is an eternity of time for the accomplishment of objects."

- the wisdom of Tarzan





From brush.tyler at gmail.com  Thu Aug 12 21:01:58 2010
From: brush.tyler at gmail.com (Giuseppe Sucameli)
Date: Thu Aug 12 21:02:20 2010
Subject: [Qgis-developer] Raster tools (GDAL plugin) some annoyances
In-Reply-To: <NEBBKOODKMEEMJKCHBECMEEGJDAA.benoit@exigesa.com>
References: <NEBBKOODKMEEMJKCHBECEEDOJDAA.benoit@exigesa.com>
	<NEBBKOODKMEEMJKCHBECMEEGJDAA.benoit@exigesa.com>
Message-ID: <AANLkTimf8POHyjhfJ2H0BprgJee3Ot-Zgy=YZE+7=LLk@mail.gmail.com>

Hi Benoit,

On Thu, Aug 12, 2010 at 2:40 PM, Benoit de Cabissole <benoit@exigesa.com>wrote:

> Hi GDAL plugin developers,
>
> The 'new' translate dialog box refers.
>
> 1) I want to setup the No data value to 99999 but the textbox only allows
> me
> to enter 2 digits, after that I have to click on the up arrow for a
> looooong
> time to get to 99999! Is that restriction on purpose, is it a Qt
> limitation?
>
No Qt limit, in this moment the NoData maximum value is wrong (255).

2) Also, in the same dialog, I want to convert a TIFF (GTiff) to an ASCII
> grid (AAIGrid) so, in the Output file Select dialog I choose a type of
> "[GDAL] Arc *.Info ASCII Grid (*.asc *.ASC)" and give a name "test.asc" but
> the script info box (bottom textbox) shows "-of GTiff" and although the
> extension of the output file is .asc it creates a tiff file when run! Is it
> on purpose?
>
It's an issue due to a workaround added before applying the patch
at #2376. Now I can remove it (better if I add a test to keep GdalTools
compatible with old QGis versions).

What I'm doing in copying the script to a DOS window, change GTiff to
> AAIGrid and run the script, it works flawlessly but it is a pain. Could you
> consider allowing editing the text in the script info box and run this
> edited script?
>
We want to add this feature ASAP, but it could require some time.

Fixed both issues from r14074.

Cheers

-- 
Giuseppe Sucameli
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100813/47c1f394/attachment.html
From benoit at exigesa.com  Fri Aug 13 01:37:51 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Fri Aug 13 01:38:05 2010
Subject: [Qgis-developer] Raster tools (GDAL plugin) some annoyances
In-Reply-To: <AANLkTimf8POHyjhfJ2H0BprgJee3Ot-Zgy=YZE+7=LLk@mail.gmail.com>
Message-ID: <NEBBKOODKMEEMJKCHBECKEEIJDAA.benoit@exigesa.com>

Hi Giuseppe,

Many thanks for the prompt reply and fixes. Very well appreciated.

I've had a look at the ui code for the Translate dialog and effectively I've
noticed that the spinbox was limited from 0 to 255.
That seemed odd because I'm generally using rasters having "real life"
values: e.g. the SRTM data can varies from 0 to 8 000 metres for example.
More generally, in my case anyway, we have values in the range -70 000 to
+70 000 or even wider. We do not scale the real values to colour range [0,
255] because we always want to act on those values.

My two cents.

Thanks again,
Benoit
  -----Original Message-----
  From: Giuseppe Sucameli [mailto:brush.tyler@gmail.com]
  Sent: Friday, 13 August 2010 03:02
  To: benoit@exigesa.com
  Cc: qgis-developer@lists.osgeo.org
  Subject: Re: [Qgis-developer] Raster tools (GDAL plugin) some annoyances


  Hi Benoit,


  On Thu, Aug 12, 2010 at 2:40 PM, Benoit de Cabissole <benoit@exigesa.com>
wrote:

    Hi GDAL plugin developers,

    The 'new' translate dialog box refers.

    1) I want to setup the No data value to 99999 but the textbox only
allows me
    to enter 2 digits, after that I have to click on the up arrow for a
looooong
    time to get to 99999! Is that restriction on purpose, is it a Qt
limitation?

  No Qt limit, in this moment the NoData maximum value is wrong (255).


    2) Also, in the same dialog, I want to convert a TIFF (GTiff) to an
ASCII
    grid (AAIGrid) so, in the Output file Select dialog I choose a type of
    "[GDAL] Arc *.Info ASCII Grid (*.asc *.ASC)" and give a name "test.asc"
but
    the script info box (bottom textbox) shows "-of GTiff" and although the
    extension of the output file is .asc it creates a tiff file when run! Is
it
    on purpose?

  It's an issue due to a workaround added before applying the patch
  at #2376. Now I can remove it (better if I add a test to keep GdalTools
  compatible with old QGis versions).


    What I'm doing in copying the script to a DOS window, change GTiff to
    AAIGrid and run the script, it works flawlessly but it is a pain. Could
you
    consider allowing editing the text in the script info box and run this
    edited script?

  We want to add this feature ASAP, but it could require some time.


  Fixed both issues from r14074.

  Cheers

  --
  Giuseppe Sucameli
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100813/d035eeb4/attachment-0001.html
From msiljegovic at gmail.com  Fri Aug 13 06:00:22 2010
From: msiljegovic at gmail.com (Minja)
Date: Fri Aug 13 06:00:23 2010
Subject: [Qgis-developer] Get table names from postgis database Quantum GIS
	API
Message-ID: <AANLkTimFL1V=DNxN3UGuDNAqxrcrngkVvyPTpoiqiLER@mail.gmail.com>

Hi all,

I strated to develop some small framework using Quantum GIS API(stable
version)...I have created class for connection to postgis  database using
QGISDataSourceUri class and its methods.

There is method "void
setDataSource<http://doc.qgis.org/stable/classQgsDataSourceURI.html#c4916de51bcb4ea512a52bb23527a5a7>(const
QString &aSchema, const QString &aTable, const QString
&aGeometryColumn, const QString &aSql=QString())" in which I specified
schema name, table name, and geometry column name from which I want
potentialy to create layer for my canvas.

My Question is is it possible somehow to read from connection string all
schema names in database or to read all tables which belongs to specific
schema. I already used some Autodesk APIs and it is implemented....For
example to loop through all tables that belongs to some schema!

What I want in my application is for example when user start application to
load all tables (as layers) from postgis database that are related to some
schema. As I can see, maybe I missed it, I need to be aware of every table
name in schema and geometry column, probably I can do it by making some
configuration file from which I will read what tables initaly I want to load
from schema

Is there something similar in Quantum GIS API, I couldnt find it...

Thanks for any help

Minja
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100813/19595c69/attachment.html
From borysiasty at gmail.com  Fri Aug 13 06:15:12 2010
From: borysiasty at gmail.com (Borys Jurgiel)
Date: Fri Aug 13 06:15:21 2010
Subject: [Qgis-developer] Re: [Qgis-user] terrain profile
In-Reply-To: <4C63AB82.30708@arava.co.il>
References: <4E7B5FE52E3BEA48AD9AB3AD11BA17A31A96337DA1@KIELDERCMS1.open.ac.uk>
	<4C63AB82.30708@arava.co.il>
Message-ID: <201008131215.13407.borysiasty@gmail.com>

The crash was caused by coordinate (length, height) picker in the graph. I've 
fixed it in v 0.2.2 disabling the picker on Windows systems. Hopefully it 
isn't very painful regression.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100813/cf232272/attachment.html
From marco.hugentobler at sourcepole.ch  Fri Aug 13 09:26:58 2010
From: marco.hugentobler at sourcepole.ch (Marco Hugentobler)
Date: Fri Aug 13 09:27:14 2010
Subject: [Qgis-developer] advanced selection tools (r14071)
Message-ID: <201008131526.58528.marco.hugentobler@sourcepole.ch>

Hi

The advanced selection tools are really great!

Just two suggestions: wouldn't it be more intuitive to select all the 
intersecting features if no key is pressed and select only the contained 
features if key modifier pressed? Currently, it is the other way round, so it 
might confuse users who are already familiar with QGIS.

Also, the alt-key is quite hard to use (at least on kde), because it moves the 
whole window if it is pressed before the mouse drag. 

Regards,
Marco


-- 
Dr. Marco Hugentobler
Sourcepole - Linux & Open Source Solutions
Webereistr. 66, CH-8134 Adliswil, Switzerland
marco.hugentobler@sourcepole.ch http://www.sourcepole.ch
Technical Advisor QGIS Project Steering Committee
From a.neumann at carto.net  Fri Aug 13 10:39:49 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Fri Aug 13 10:39:53 2010
Subject: [Qgis-developer] advanced selection tools (r14071)
In-Reply-To: <201008131526.58528.marco.hugentobler@sourcepole.ch>
References: <201008131526.58528.marco.hugentobler@sourcepole.ch>
Message-ID: <49466.193.246.86.39.1281710389.squirrel@webmail.carto.net>

> The advanced selection tools are really great!

yes - they are cool

>
> Just two suggestions: wouldn't it be more intuitive to select all the
> intersecting features if no key is pressed and select only the contained
> features if key modifier pressed? Currently, it is the other way round, so
> it
> might confuse users who are already familiar with QGIS.

I agree - I am personally used the other way round as default - means that
all objects that intersect are selected.

> Also, the alt-key is quite hard to use (at least on kde), because it moves
> the
> whole window if it is pressed before the mouse drag.

same in Gnome. The alt-key moves a window.

Maybe there could be a toggle button  - one state for intersection, the
other state for fully included selection mode.

All in all I am a little concerned that the selection tools take up too
much screen space - which brings us back to the discussion - why don't we
introduce drop-down buttons for selection mode?

Just my two cents - thanks for the great addition!

Andreas

-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From john.tull at wildnevada.org  Fri Aug 13 11:06:45 2010
From: john.tull at wildnevada.org (John C. Tull)
Date: Fri Aug 13 11:06:53 2010
Subject: [Qgis-developer] advanced selection tools (r14071)
In-Reply-To: <49466.193.246.86.39.1281710389.squirrel@webmail.carto.net>
References: <201008131526.58528.marco.hugentobler@sourcepole.ch>
	<49466.193.246.86.39.1281710389.squirrel@webmail.carto.net>
Message-ID: <81904A20-98BA-4F8E-A869-4500C50874B0@wildnevada.org>

On Aug 13, 2010, at 7:39 AM, Andreas Neumann wrote:

> All in all I am a little concerned that the selection tools take up too
> much screen space - which brings us back to the discussion - why don't we
> introduce drop-down buttons for selection mode?

+1

John
From jctull at gmail.com  Fri Aug 13 11:07:08 2010
From: jctull at gmail.com (John C. Tull)
Date: Fri Aug 13 11:07:12 2010
Subject: [Qgis-developer] advanced selection tools (r14071)
In-Reply-To: <49466.193.246.86.39.1281710389.squirrel@webmail.carto.net>
References: <201008131526.58528.marco.hugentobler@sourcepole.ch>
	<49466.193.246.86.39.1281710389.squirrel@webmail.carto.net>
Message-ID: <1B439D78-0DC1-4F51-8D48-7FF8DBED7EE3@gmail.com>

On Aug 13, 2010, at 7:39 AM, Andreas Neumann wrote:

> All in all I am a little concerned that the selection tools take up too
> much screen space - which brings us back to the discussion - why don't we
> introduce drop-down buttons for selection mode?

+1
From ricardo.garcia.silva at gmail.com  Fri Aug 13 12:19:07 2010
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Fri Aug 13 12:19:30 2010
Subject: [Qgis-developer] custom map canvas item?
Message-ID: <AANLkTimFkFNxcAt=8sHMApQtELQO7P+WS=Nf3Kvu4YYL@mail.gmail.com>

Hi list
How could I go about defining a custom Map Canvas Item in Python?

In addition to the current QgsRubberBand and QgsVertexMarker I'd like
to have a new Map Canvas Item that could write text on the map canvas.

I am thinking about creating a plugin to display a raster's value
directly on the canvas, as if it were a matrix of numbers, and thought
that a new Map Canvas Item, kind of like QgsVertexMarker, but that
would allow for drawing text instead of a symbol, would do the trick.

I tried to subclass QgsVertexMarker and create a new method for
drawing text, using a QPen object, but it didn't work... I guess I
have to tell the QPen where to draw, but I don't know how to do it. If
someone could just give me a small push I think I could manage the
rest.

Thanks


#my (broken) code
class MyMarker(qgis.gui.QgsVertexMarker):
    def __init__(self, canvas):
        qgis.gui.QgsVertexMarker.__init__(self, canvas)

    def write_text(self, painter, text, x, y):

        pen = QPen(QColor(0,0,0))
        pen.setWidth(1)
        painter.setPen(pen)
        painter.drawText(x, y, text)

mc = iface.mapCanvas()
p = QPainter()
mark = MyMarker(mc)
mark.write_text(p, "testing...", 0, 0) #nothing happens

-- 
___________________________ ___ __
Ricardo Garcia Silva
From JPalmer at linz.govt.nz  Fri Aug 13 23:41:36 2010
From: JPalmer at linz.govt.nz (Jeremy Palmer)
Date: Fri Aug 13 23:46:31 2010
Subject: [Qgis-developer] advanced selection tools (r14071)
In-Reply-To: <201008131526.58528.marco.hugentobler@sourcepole.ch>
References: <201008131526.58528.marco.hugentobler@sourcepole.ch>
Message-ID: <666FB8D75E95AE42965A0E76A5E5337E065BF5CD55@prdlsmmsg01.ad.linz.govt.nz>

Hi Marco and Andreas et al,
 
I agree there could be some confusion for existing QGIS users. However many applications that I have come from such as MapInfo and mapobjects which have these selection tools use the contains method. While it all depends on your point of view, I believe these applications got it correct. The main reason for this is humans are not very accurate (well at least in terms of the precision of the geometries) when defining selection areas with the mouse. Generally when selecting groups of complex geometries by intersects, one inaccurate click can mean a bad end selection set. I know always find myself selecting the wrong set of polygons when using the intersects rectangle select tool. I do agree that when selecting simple geometries like points and boxes its ok. Maybe more users can comment on this?
 
Also note that I did create the single selection tool which always selects features by intersection. For single selects this of course is the natural way of doing things.
 
Sorry I was developing on windows and didn't know about the Alt key problem. I thought it was a good key to use for the ?alt?ernative selection method. Applications from ESRI and AutoCAD use this key all the time - but again those are windows centric applications! Not sure what to do here because the toggle button idea seems clunky. Maybe we could make the modifiers configurable?
 
Andreas - The toolbar can be hidden and you can use hot keys or menus if screen real estate is at a premium.  I've not looked at drop down buttons before, but maybe it could work...
 
Cheers
Jeremy


________________________________________
From: Marco Hugentobler [marco.hugentobler@sourcepole.ch]
Sent: Saturday, 14 August 2010 1:26 a.m.
To: qgis-developer@lists.osgeo.org
Subject: [Qgis-developer] advanced selection tools (r14071)

Hi

The advanced selection tools are really great!

Just two suggestions: wouldn't it be more intuitive to select all the
intersecting features if no key is pressed and select only the contained
features if key modifier pressed? Currently, it is the other way round, so it
might confuse users who are already familiar with QGIS.

Also, the alt-key is quite hard to use (at least on kde), because it moves the
whole window if it is pressed before the mouse drag.

Regards,
Marco


--
Dr. Marco Hugentobler
Sourcepole - Linux & Open Source Solutions
Webereistr. 66, CH-8134 Adliswil, Switzerland
marco.hugentobler@sourcepole.ch http://www.sourcepole.ch
Technical Advisor QGIS Project Steering Committee
______________________________________________________________________________________________________

This message contains information, which is confidential and may be subject to legal privilege. 
If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message.
If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info@linz.govt.nz) and destroy the original message.
LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ.

Thank you.
______________________________________________________________________________________________________
From nsicad at gmail.com  Sat Aug 14 03:13:51 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sat Aug 14 03:13:54 2010
Subject: [Qgis-developer] Re: Incompatibilities between QGIS Spatialite
	and Spatialite (CLI and GIS) created files
In-Reply-To: <B02194A2-63C8-4F7E-9FA6-7CC1B93E32F2@kyngchaos.com>
References: <AANLkTi=AwkvtzfxVTbLRVRb45=-t+m9di6eGRqTCyLgc@mail.gmail.com>
	<AANLkTikxXuq2wB1o+HfxSME2mCO0SiHEdOD9kC1VsPLZ@mail.gmail.com>
	<B02194A2-63C8-4F7E-9FA6-7CC1B93E32F2@kyngchaos.com>
Message-ID: <AANLkTinmgg0rvKhXJgX7Kjbi1sDNJrDCH5nH1PjP8oqm@mail.gmail.com>

Hi,

I found out the problem. It is GDAL/OGR 1.6.3 library that comes with
with QGIS 1.5 OSGeo4W with Grass installer.

Any QGIS 1.5 Windows installer that comes with GDAL 1.7.x?


Noli
From a.neumann at carto.net  Sat Aug 14 04:10:02 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Sat Aug 14 04:10:12 2010
Subject: [Qgis-developer] advanced selection tools (r14071)
In-Reply-To: <666FB8D75E95AE42965A0E76A5E5337E065BF5CD55@prdlsmmsg01.ad.linz.govt.nz>
References: <201008131526.58528.marco.hugentobler@sourcepole.ch>
	<666FB8D75E95AE42965A0E76A5E5337E065BF5CD55@prdlsmmsg01.ad.linz.govt.nz>
Message-ID: <4C664F5A.3090000@carto.net>

Hi Jeremy!

Thanks for the discussion - and thanks for developing the improved 
selection tools. I understand that this is a matter of personal 
preference. May I suggest that there could be a global setting to set 
the preferred behavior? In the Options dialogue there are settings for 
the "Identify", "Measure Tool", "Panning and Zooming". The "Panning and 
Zooming" behavior is the perfect example where people's preferences 
diverge as well ... we could have an additional section for the 
"Selection Tools". Users could select "Contains vs. Intersects" and set 
the modifier key for the 'alt'ernative selection method.

Drop Down Buttons: I believe that users often have their preferred 
selection mode, so it would be a good use of a drop-down button. One 
example for the use of the drop-down buttons is the print composer. See 
the "alignment" and "put to front/back" tools on the upper right.

I also have a question on the tools - are they now part of the QGIS core 
and are they supposed to replace the existing "selection tools"? If yes, 
wouldn't it be better to call the toolbar just "Selection Tools" instead 
of "Advanced Selection Tools". Yes, they are "advanced" now, but in a 
year or so, they will be regarded just as the "standard selection tools" 
that everybody is expecting to find. One could also integrate the 
selection tools into another standard toolbar that is always visible? I 
was thinking that it would be great to integrate the selection tools 
into the same toolbar where the old selection tools had been (the 
toolbar that is called the "Attributes Toolbar"), but maybe reduce them 
to three buttons, one of them being a drop-down button. There could be 
one regular button for single select, one drop-down button for 
multiselect (incl. all the various multiselection tool variations, the 
rectangular tools should probably be the default selection) and one 
button for deselecting all elements.

Thanks also for the hint on the keyboard shortcuts!

Andreas

On 8/14/10 5:41 AM, Jeremy Palmer wrote:
> Hi Marco and Andreas et al,
>
> I agree there could be some confusion for existing QGIS users. However many applications that I have come from such as MapInfo and mapobjects which have these selection tools use the contains method. While it all depends on your point of view, I believe these applications got it correct. The main reason for this is humans are not very accurate (well at least in terms of the precision of the geometries) when defining selection areas with the mouse. Generally when selecting groups of complex geometries by intersects, one inaccurate click can mean a bad end selection set. I know always find myself selecting the wrong set of polygons when using the intersects rectangle select tool. I do agree that when selecting simple geometries like points and boxes its ok. Maybe more users can comment on this?
>
> Also note that I did create the single selection tool which always selects features by intersection. For single selects this of course is the natural way of doing things.
>
> Sorry I was developing on windows and didn't know about the Alt key problem. I thought it was a good key to use for the ?alt?ernative selection method. Applications from ESRI and AutoCAD use this key all the time - but again those are windows centric applications! Not sure what to do here because the toggle button idea seems clunky. Maybe we could make the modifiers configurable?
>
> Andreas - The toolbar can be hidden and you can use hot keys or menus if screen real estate is at a premium.  I've not looked at drop down buttons before, but maybe it could work...
>
> Cheers
> Jeremy
>
>
> ________________________________________
> From: Marco Hugentobler [marco.hugentobler@sourcepole.ch]
> Sent: Saturday, 14 August 2010 1:26 a.m.
> To: qgis-developer@lists.osgeo.org
> Subject: [Qgis-developer] advanced selection tools (r14071)
>
> Hi
>
> The advanced selection tools are really great!
>
> Just two suggestions: wouldn't it be more intuitive to select all the
> intersecting features if no key is pressed and select only the contained
> features if key modifier pressed? Currently, it is the other way round, so it
> might confuse users who are already familiar with QGIS.
>
> Also, the alt-key is quite hard to use (at least on kde), because it moves the
> whole window if it is pressed before the mouse drag.
>
> Regards,
> Marco
>
>
> --
> Dr. Marco Hugentobler
> Sourcepole - Linux&  Open Source Solutions
> Webereistr. 66, CH-8134 Adliswil, Switzerland
> marco.hugentobler@sourcepole.ch http://www.sourcepole.ch
> Technical Advisor QGIS Project Steering Committee
> ______________________________________________________________________________________________________
>
> This message contains information, which is confidential and may be subject to legal privilege.
> If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message.
> If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info@linz.govt.nz) and destroy the original message.
> LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ.
>
> Thank you.
> ______________________________________________________________________________________________________
>    

From woklist at kyngchaos.com  Sat Aug 14 09:47:12 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sat Aug 14 09:47:16 2010
Subject: [Qgis-developer] Re: Incompatibilities between QGIS Spatialite
	and Spatialite (CLI and GIS) created files
In-Reply-To: <AANLkTinmgg0rvKhXJgX7Kjbi1sDNJrDCH5nH1PjP8oqm@mail.gmail.com>
References: <AANLkTi=AwkvtzfxVTbLRVRb45=-t+m9di6eGRqTCyLgc@mail.gmail.com>
	<AANLkTikxXuq2wB1o+HfxSME2mCO0SiHEdOD9kC1VsPLZ@mail.gmail.com>
	<B02194A2-63C8-4F7E-9FA6-7CC1B93E32F2@kyngchaos.com>
	<AANLkTinmgg0rvKhXJgX7Kjbi1sDNJrDCH5nH1PjP8oqm@mail.gmail.com>
Message-ID: <807D572D-4FFB-425B-8C96-DF6B25C8D2A9@kyngchaos.com>

Are you getting your systems confused?

I only manage the Mac builds, and the bug I'm talking about seems to be Mac PPC only, though the symptoms are similar to your Windows problem (no display of spatialite data).

Mac builds use GDAL 1.7.

On Aug 14, 2010, at 2:13 AM, Noli Sicad wrote:

> Hi,
> 
> I found out the problem. It is GDAL/OGR 1.6.3 library that comes with
> with QGIS 1.5 OSGeo4W with Grass installer.
> 
> Any QGIS 1.5 Windows installer that comes with GDAL 1.7.x?
> 
> 
> Noli
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"We are at war with them. Neither in hatred nor revenge and with no particular pleasure I shall kill every ___ I can until the war is over. That is my duty."

"Don't you even hate 'em?"

"What good would it do if I did? If all the many millions of people of the allied nations devoted an entire year exclusively to hating the ____ it wouldn't kill one ___ nor shorten the war one day."

<Ha, ha> "And it might give 'em all stomach ulcers."

- Tarzan, on war

From cavallini at faunalia.it  Sun Aug 15 03:08:41 2010
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun Aug 15 03:08:59 2010
Subject: [Qgis-developer] PostGIS plugins menu
Message-ID: <4C679279.3020305@faunalia.it>

Hi all.
Can we move all the PostGIS plugins to a submenu, as we have done with fTools and
GDAL Tools? This is easy, and will make life easier for our users. I found:
- PostGIS Manager
- PGQuery for PostGIS
- PostGIS SQL Query Editor
- RT Sql Layer
- RT Postgres Extractor
and eventually also Linear referencing plugin.
IMHO, the current situation of all plugins is rather messy, and should be corrected
before next QGIS version.
All the best.
-- 
Paolo Cavallini: http://www.faunalia.it/pc
From cavallini at faunalia.it  Sun Aug 15 04:01:26 2010
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun Aug 15 04:01:45 2010
Subject: [Qgis-developer] The new QGIS plugin repo
In-Reply-To: <4C318096.6040706@faunalia.it>
References: <201006281151.47681.borysiasty@aster.pl>	<AANLkTil77wEzz3foEzGoCdJxs-LunIWoNu2wrpFh4fLL@mail.gmail.com>	<201007011908.32460.borysiasty@aster.pl>	<AANLkTimPo0VAQdIDgmdi2KfoYhv0u5xtdVxPmVtW3OCM@mail.gmail.com>
	<4C318096.6040706@faunalia.it>
Message-ID: <4C679ED6.2060308@faunalia.it>

Il 05/07/2010 08:49, Paolo Cavallini ha scritto:
> Il 02/07/2010 13:50, Carson Farmer ha scritto:
> 
>> Maybe this is simply too much work at this stage, but I'd like us to
>> also consider other options...
> 
> I think that we need:
> - a trac for plugin bugs - currently there is no reliable way to point out bugs and
> issues, to know which one was fixed, etc.
> - a way to cooperate on plugins: there are easy fix and improvements that cannot be
> applied because in the current structure only the owner of the plugin can; as a
> result, several forking has already occurred (which is bad both for devs and for users).

Any further thoughts about this? I still think this is an important issue for the
future of QGIS, and the sooner we deal effectively with it the better.
I agree we should encourage, not discourage, individual contributions. On the other
hand, we should make it easier to collaborate on the development and bugfixing of
individual plugins.
I see two choices here:
- keeping the existing system, and create a script to sync the uploaded plugin to an
ad hoc svn+trac: no impact on contributors, but we keep the possibility of fixing the
plugins when needed, arranging them in menus and submenus, open tickets, etc.
- replacing the current system with a different one, possibly with the seme or
similar interface, that loads the plugin directly on the above mentioned svn+trac.
Of course contributors can always add their repo at will: Our system should be in
place just to help collaborating, not to force anyone.
I'm sure there are other (better) options, and I'm looking forward for other suggestions.

At the same time, a system for:
- counting the number of downloads
- giving a rank
- sharing comments
- sorting by popularity, number of downloads, date
- tagging and searching
is something useful, and everybody is expect such a system (see eg the FireFox
addons: https://addons.mozilla.org/it/firefox/).

All the best.
-- 
Paolo Cavallini: http://www.faunalia.it/pc
From jr.morreale at enoreth.net  Sun Aug 15 05:13:53 2010
From: jr.morreale at enoreth.net (MORREALE Jean Roc)
Date: Sun Aug 15 05:14:00 2010
Subject: [Qgis-developer] PostGIS plugins menu
In-Reply-To: <4C679279.3020305@faunalia.it>
References: <4C679279.3020305@faunalia.it>
Message-ID: <4C67AFD1.2030405@enoreth.net>

Le 15/08/2010 09:08, Paolo Cavallini a ?crit :
> Hi all.
> Can we move all the PostGIS plugins to a submenu, as we have done with fTools and
> GDAL Tools? This is easy, and will make life easier for our users. I found:
> - PostGIS Manager
> - PGQuery for PostGIS
> - PostGIS SQL Query Editor
> - RT Sql Layer
> - RT Postgres Extractor
> and eventually also Linear referencing plugin.
> IMHO, the current situation of all plugins is rather messy, and should be corrected
> before next QGIS version.
> All the best.

Hi Paolo,

Adding an item to the top menu bar should be avoided, if it is done for 
each extension (like cadtools or manageR already do) or group of 
extensions (the same reasonning could be applied for R, etc.) this bar 
will soon become too long to be seen on a 17" or a netbook. In the end 
it'll just move the mess from a menu list to the main menu toolbar.
From jr.morreale at enoreth.net  Sun Aug 15 05:19:21 2010
From: jr.morreale at enoreth.net (MORREALE Jean Roc)
Date: Sun Aug 15 05:19:29 2010
Subject: [Qgis-developer] The new QGIS plugin repo
In-Reply-To: <4C679ED6.2060308@faunalia.it>
References: <201006281151.47681.borysiasty@aster.pl>	<AANLkTil77wEzz3foEzGoCdJxs-LunIWoNu2wrpFh4fLL@mail.gmail.com>	<201007011908.32460.borysiasty@aster.pl>	<AANLkTimPo0VAQdIDgmdi2KfoYhv0u5xtdVxPmVtW3OCM@mail.gmail.com>	<4C318096.6040706@faunalia.it>
	<4C679ED6.2060308@faunalia.it>
Message-ID: <4C67B119.5030308@enoreth.net>

Le 15/08/2010 10:01, Paolo Cavallini a ?crit :
> Il 05/07/2010 08:49, Paolo Cavallini ha scritto:
> At the same time, a system for:
> - counting the number of downloads
> - giving a rank
> - sharing comments
> - sorting by popularity, number of downloads, date
> - tagging and searching
> is something useful, and everybody is expect such a system (see eg the FireFox
> addons: https://addons.mozilla.org/it/firefox/).

http://ghns.freedesktop.org/
http://www.kstuff.org/projects/hotstuff

it used in kde to collect applets, scripts, themes, etc. and does all 
that you list
From cavallini at faunalia.it  Sun Aug 15 05:38:48 2010
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun Aug 15 05:39:04 2010
Subject: [Qgis-developer] PostGIS plugins menu
In-Reply-To: <4C67AFD1.2030405@enoreth.net>
References: <4C679279.3020305@faunalia.it> <4C67AFD1.2030405@enoreth.net>
Message-ID: <4C67B5A8.5000805@faunalia.it>

Il 15/08/2010 11:13, MORREALE Jean Roc ha scritto:

> Adding an item to the top menu bar should be avoided, if it is done for
> each extension (like cadtools or manageR already do) or group of
> extensions (the same reasonning could be applied for R, etc.) this bar
> will soon become too long to be seen on a 17" or a netbook. In the end
> it'll just move the mess from a menu list to the main menu toolbar.

Hi Jaean Roc.
In principle I agree, but I see PostGIS (or perhaps even better: Database) as a
general menu, just like Vector and Raster. In the Vienna hackmeeting we agreed in
lumping plugins in categories, and I think Database should be one of these.
In any case, we have to group plugins somehow, currently even for a moderate
installation it is impossible to see all the icons.
All the best.
-- 
Paolo Cavallini: http://www.faunalia.it/pc
From cavallini at faunalia.it  Sun Aug 15 05:42:57 2010
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun Aug 15 05:43:02 2010
Subject: [Qgis-developer] The new QGIS plugin repo
In-Reply-To: <4C67B119.5030308@enoreth.net>
References: <201006281151.47681.borysiasty@aster.pl>	<AANLkTil77wEzz3foEzGoCdJxs-LunIWoNu2wrpFh4fLL@mail.gmail.com>	<201007011908.32460.borysiasty@aster.pl>	<AANLkTimPo0VAQdIDgmdi2KfoYhv0u5xtdVxPmVtW3OCM@mail.gmail.com>	<4C318096.6040706@faunalia.it>	<4C679ED6.2060308@faunalia.it>
	<4C67B119.5030308@enoreth.net>
Message-ID: <4C67B6A1.3070300@faunalia.it>

Il 15/08/2010 11:19, MORREALE Jean Roc ha scritto:
> http://ghns.freedesktop.org/
> http://www.kstuff.org/projects/hotstuff
> 
> it used in kde to collect applets, scripts, themes, etc. and does all
> that you list

Looks good: what steps are necessary to integrate it in the current infrastructure?
I think modifications to QGIS core should also be necessary, right?
Jan Roc: would you be willing to further explore, and possibly implement, this?
All the best, and thanks.
-- 
Paolo Cavallini: http://www.faunalia.it/pc
From borysiasty at aster.pl  Sun Aug 15 05:59:14 2010
From: borysiasty at aster.pl (Borys Jurgiel)
Date: Sun Aug 15 06:12:54 2010
Subject: [Qgis-developer] PostGIS plugins menu
In-Reply-To: <4C67AFD1.2030405@enoreth.net>
References: <4C679279.3020305@faunalia.it> <4C67AFD1.2030405@enoreth.net>
Message-ID: <201008151159.14994.borysiasty@aster.pl>

My suggestion for now is to put everything to a PostGIS submenu within the 
Plugins menu:

self.iface.addPluginToMenu('PostGIS', actionBlahBlah)

Then we can modify the QgsInterface.addPluginToMenu method to put each submenu 
either to the Plugins branch or to the main menu, so each user can configure 
which plugin sumbenus are at hand. It's a five-minuts-fix to read it from 
QSettings (still without any GUI for configuring it, but it's a step forward).

The third step is the GUI. I started refactoring the Installer (just three 
hours per month, so it's why no changes are commited) and with Martin and Anne 
we plan to put it as a second tab of the manager. What about a third tab 
"menus and toolbars", when an user can be able to:

1. Select whether given submenu (e.g. PostGIS) goes to the main menu or the 
Plugins menu
2. Select whether given submenu creates its own toolbar or goes to the main 
Plugin toolbar.
3. Compose own toolbar(s) with a set of individual plugin buttons. It allows 
to hide the native plugin toolbar and enable personalized ones, like "Monday's 
tasks", "Tools useful for X-files processing etc" 
4. Save/load profiles (at least sets of plugins to be loaded - now I often 
have to use --noplugins option to make qgis faster)

What do you think? The first two steps can be done in a moment.




> Hi Paolo,
> 
> Adding an item to the top menu bar should be avoided, if it is done for
> each extension (like cadtools or manageR already do) or group of
> extensions (the same reasonning could be applied for R, etc.) this bar
> will soon become too long to be seen on a 17" or a netbook. In the end
> it'll just move the mess from a menu list to the main menu toolbar.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100815/cd6cf957/attachment.html
From borysiasty at aster.pl  Sun Aug 15 06:36:27 2010
From: borysiasty at aster.pl (Borys Jurgiel)
Date: Sun Aug 15 06:36:32 2010
Subject: [Qgis-developer] The new QGIS plugin repo
In-Reply-To: <4C679ED6.2060308@faunalia.it>
References: <201006281151.47681.borysiasty@aster.pl>
	<4C318096.6040706@faunalia.it> <4C679ED6.2060308@faunalia.it>
Message-ID: <201008151236.28598.borysiasty@aster.pl>

> Any further thoughts about this? I still think this is an important issue
> for the future of QGIS, and the sooner we deal effectively with it the
> better. I agree we should encourage, not discourage, individual
> contributions.

I keep those emails on the top of my TODO list and will answer longer as soon 
as I get a free day.

> On the other hand, we should make it easier to collaborate
> on the development and bugfixing of individual plugins.
> I see two choices here:
> - keeping the existing system, and create a script to sync the uploaded
> plugin to an ad hoc svn+trac: no impact on contributors, but we keep the
> possibility of fixing the plugins when needed, arranging them in menus and
> submenus, open tickets, etc. 
> - replacing the current system with a
> different one, possibly with the seme or similar interface, that loads the
> plugin directly on the above mentioned svn+trac. Of course contributors
> can always add their repo at will: Our system should be in place just to
> help collaborating, not to force anyone.
> I'm sure there are other (better) options, and I'm looking forward for
> other suggestions.

I like the second solutuion, so all plugins are packed from the svn + there's 
a zip import for those who don't want to use svn.

And of course it's for the central repo only. We don't force authors to close 
their own repositories, we just gently attract them with the comfortable 
interface and some chocolates ;)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100815/abed9106/attachment-0001.html
From borysiasty at gmail.com  Sun Aug 15 06:47:47 2010
From: borysiasty at gmail.com (Borys Jurgiel)
Date: Sun Aug 15 06:47:56 2010
Subject: [Qgis-developer] The new QGIS plugin repo
In-Reply-To: <4C67B6A1.3070300@faunalia.it>
References: <201006281151.47681.borysiasty@aster.pl>
	<4C67B119.5030308@enoreth.net> <4C67B6A1.3070300@faunalia.it>
Message-ID: <201008151247.48050.borysiasty@gmail.com>

Dnia niedziela 15 sierpnia 2010 o 11:42:57 Paolo Cavallini napisa?(a):
> Il 15/08/2010 11:19, MORREALE Jean Roc ha scritto:
> > http://ghns.freedesktop.org/
> > http://www.kstuff.org/projects/hotstuff
> > 
> > it used in kde to collect applets, scripts, themes, etc. and does all
> > that you list
> 
> Looks good: what steps are necessary to integrate it in the current
> infrastructure? I think modifications to QGIS core should also be
> necessary, right? Jan Roc: would you be willing to further explore, and
> possibly implement, this? All the best, and thanks.

With Martin we were talking about the GHNS some time ago and it looks 
promising. The problem is AFAIK there's no admin interface, so probably we can 
use only the output of it and populate it from the svn. 

Anyway, Martin is now busy with GSoC, my most time-consuming projects end in 
October, so unless there's somebody willing to contribute now, the incoming 
Hackfest is a good oportuinity to get it done.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100815/93531e8e/attachment.html
From cavallini at faunalia.it  Mon Aug 16 03:08:07 2010
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Mon Aug 16 03:08:12 2010
Subject: [Qgis-developer] The new QGIS plugin repo
In-Reply-To: <201008151247.48050.borysiasty@gmail.com>
References: <201006281151.47681.borysiasty@aster.pl>
	<4C67B119.5030308@enoreth.net> <4C67B6A1.3070300@faunalia.it>
	<201008151247.48050.borysiasty@gmail.com>
Message-ID: <4C68E3D7.2080200@faunalia.it>

Il 15/08/2010 12:47, Borys Jurgiel ha scritto:

> With Martin we were talking about the GHNS some time ago and it looks
> promising. The problem is AFAIK there's no admin interface, so probably
> we can use only the output of it and populate it from the svn.
> 
> Anyway, Martin is now busy with GSoC, my most time-consuming projects
> end in October, so unless there's somebody willing to contribute now,
> the incoming Hackfest is a good oportuinity to get it done.

I hope someone could start earlier (Jean Roc?), but in any case can you mark this as
a topic for the hackfest?
All the best.
-- 
Paolo Cavallini: http://www.faunalia.it/pc
From borysiasty at gmail.com  Mon Aug 16 05:04:10 2010
From: borysiasty at gmail.com (Borys Jurgiel)
Date: Mon Aug 16 05:04:18 2010
Subject: [Qgis-developer] The new QGIS plugin repo
In-Reply-To: <4C68E3D7.2080200@faunalia.it>
References: <201006281151.47681.borysiasty@aster.pl>
	<201008151247.48050.borysiasty@gmail.com>
	<4C68E3D7.2080200@faunalia.it>
Message-ID: <201008161104.10833.borysiasty@gmail.com>

Dnia poniedzia?ek 16 sierpnia 2010 o 09:08:07 Paolo Cavallini napisa?(a):
> Il 15/08/2010 12:47, Borys Jurgiel ha scritto:
> > With Martin we were talking about the GHNS some time ago and it looks
> > promising. The problem is AFAIK there's no admin interface, so probably
> > we can use only the output of it and populate it from the svn.
> > 
> > Anyway, Martin is now busy with GSoC, my most time-consuming projects
> > end in October, so unless there's somebody willing to contribute now,
> > the incoming Hackfest is a good oportuinity to get it done.
> 
> I hope someone could start earlier (Jean Roc?), but in any case can you
> mark this as a topic for the hackfest?

Surely, cleaning up the plugin system / gui is my goal for every HF... 
Hopefuly this time will be successful.

First step is to investigate what parts of GHNS we can use and how to connect 
it to the subversion. Jean Roc, did you take any deeper look into this system?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100816/7712c5bd/attachment.html
From borysiasty at aster.pl  Mon Aug 16 06:42:51 2010
From: borysiasty at aster.pl (Borys Jurgiel)
Date: Mon Aug 16 06:42:57 2010
Subject: [Qgis-developer] Re: [Qgis-user] Re: Available CRS's not shown with
	some WMS servers
In-Reply-To: <AANLkTikZFXKE7cm8T+8QJrCvSYy=kUBCRwrxEb8H82Wu@mail.gmail.com>
References: <AANLkTimdSWbCb2sPXfUOdOrju2EtqemdmCGQAkpeo4t8@mail.gmail.com>
	<AANLkTin_06Ai51sw=rxy2ZJyfw=DoaCsos8XCrxJ0B9i@mail.gmail.com>
	<AANLkTikZFXKE7cm8T+8QJrCvSYy=kUBCRwrxEb8H82Wu@mail.gmail.com>
Message-ID: <201008161242.52252.borysiasty@aster.pl>

Dnia poniedzia?ek 16 sierpnia 2010 o 12:19:43 Goyo napisa?(a):
> 2010/8/11 Goyo <goyodiaz@gmail.com>:
> >> I'm trying this server:
> >> http://www.idee.es/wms/PNOA/PNOA
> >> 
> >> When I choose a layer the dialog says there is one CRS available but
> >> none is selected by default (see attached screenshot). If I press the
> >> Change button no CRS is available. This used to work in 1.4.0 and in
> >> 1.5.0 after my report and the fix.
> 
> I found a workarount to show the layers in this server setting the CRS
> in the properties dialog, then saving and reloading the project. Still
> QGis don't get the available CRS's from the getcapabilities document
> but I can't find anything wrong in it.

In the getcapabilities response there is a strange line:

<SRS>EPSG:4230 EPSG:4258 EPSG:4326 EPSG:25828 EPSG:25829 EPSG:25830 EPSG:25831 
EPSG:23029 EPSG:23030 EPSG:23031 EPSG:32628 EPSG:32629 EPSG:32630 
EPSG:32631</SRS>

Personally, I've never seen a series of SRSes put together in one line. 
Usually it looks like that:

<SRS>EPSG:4230</SRS>
<SRS>EPSG:4258</SRS>
<SRS>EPSG:4326</SRS>
...

Could somebody state if it breaks the OGC WMS specification or not? If not, we 
should adapt this format too.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100816/40e2c30d/attachment.html
From borysiasty at gmail.com  Mon Aug 16 07:34:10 2010
From: borysiasty at gmail.com (Borys Jurgiel)
Date: Mon Aug 16 07:34:20 2010
Subject: [Qgis-developer] Re: [Qgis-user] Re: Available CRS's not shown with
	some WMS servers
In-Reply-To: <AANLkTi=XiCSBUy7dLEiSW9fJMgYfNXGhR7-La235nEDi@mail.gmail.com>
References: <AANLkTimdSWbCb2sPXfUOdOrju2EtqemdmCGQAkpeo4t8@mail.gmail.com>
	<201008161242.52252.borysiasty@aster.pl>
	<AANLkTi=XiCSBUy7dLEiSW9fJMgYfNXGhR7-La235nEDi@mail.gmail.com>
Message-ID: <201008161334.11285.borysiasty@gmail.com>

> WMS 1.1.1 Clients shall be prepared to handle either encoding.

So could you please fill a ticket on trac?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100816/821ef68f/attachment.html
From jef at norbit.de  Mon Aug 16 07:45:34 2010
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon Aug 16 07:45:56 2010
Subject: [Qgis-developer] Re: [Qgis-user] Re: Available CRS's not shown with
	some WMS servers
In-Reply-To: <AANLkTi=XiCSBUy7dLEiSW9fJMgYfNXGhR7-La235nEDi@mail.gmail.com>
References: <AANLkTimdSWbCb2sPXfUOdOrju2EtqemdmCGQAkpeo4t8@mail.gmail.com>
	<AANLkTin_06Ai51sw=rxy2ZJyfw=DoaCsos8XCrxJ0B9i@mail.gmail.com>
	<AANLkTikZFXKE7cm8T+8QJrCvSYy=kUBCRwrxEb8H82Wu@mail.gmail.com>
	<201008161242.52252.borysiasty@aster.pl>
	<AANLkTi=XiCSBUy7dLEiSW9fJMgYfNXGhR7-La235nEDi@mail.gmail.com>
Message-ID: <20100816114534.GB26648@norbit.de>

Hi,

On Mon, 16. Aug 2010 at 13:26:40 +0200, Goyo wrote:
> > <SRS>EPSG:4230 EPSG:4258 EPSG:4326 EPSG:25828 EPSG:25829 EPSG:25830
> > EPSG:25831 EPSG:23029 EPSG:23030 EPSG:23031 EPSG:32628 EPSG:32629 EPSG:32630
> > EPSG:32631</SRS>

Hm, looks like I've seen that with CRS instead.  r13666 might be responsible
for the regression and in that case r14090 should fix it.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From jctull at gmail.com  Mon Aug 16 11:02:37 2010
From: jctull at gmail.com (John C. Tull)
Date: Mon Aug 16 11:02:45 2010
Subject: [Qgis-developer] PostGIS plugins menu
In-Reply-To: <201008151159.14994.borysiasty@aster.pl>
References: <4C679279.3020305@faunalia.it> <4C67AFD1.2030405@enoreth.net>
	<201008151159.14994.borysiasty@aster.pl>
Message-ID: <79CBA44D-B620-41E9-8391-C27C4DBC9CAB@gmail.com>

On Aug 15, 2010, at 2:59 AM, Borys Jurgiel wrote:

> My suggestion for now is to put everything to a PostGIS submenu within the Plugins menu:
> self.iface.addPluginToMenu('PostGIS', actionBlahBlah)
> Then we can modify the QgsInterface.addPluginToMenu method to put each submenu either to the Plugins branch or to the main menu, so each user can configure which plugin sumbenus are at hand. It's a five-minuts-fix to read it from QSettings (still without any GUI for configuring it, but it's a step forward).

+1

> The third step is the GUI. I started refactoring the Installer (just three hours per month, so it's why no changes are commited) and with Martin and Anne we plan to put it as a second tab of the manager. What about a third tab "menus and toolbars", when an user can be able to:
> 1. Select whether given submenu (e.g. PostGIS) goes to the main menu or the Plugins menu
> 2. Select whether given submenu creates its own toolbar or goes to the main Plugin toolbar.
> 3. Compose own toolbar(s) with a set of individual plugin buttons. It allows to hide the native plugin toolbar and enable personalized ones, like "Monday's tasks", "Tools useful for X-files processing etc" 
> 4. Save/load profiles (at least sets of plugins to be loaded - now I often have to use --noplugins option to make qgis faster)
> What do you think? The first two steps can be done in a moment.

+1 for each of these ideas also


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100816/82fb4301/attachment-0001.html
From jr.morreale at enoreth.net  Mon Aug 16 12:19:36 2010
From: jr.morreale at enoreth.net (MORREALE Jean Roc)
Date: Mon Aug 16 12:19:42 2010
Subject: [Qgis-developer] The new QGIS plugin repo
In-Reply-To: <201008161104.10833.borysiasty@gmail.com>
References: <201006281151.47681.borysiasty@aster.pl>	<201008151247.48050.borysiasty@gmail.com>	<4C68E3D7.2080200@faunalia.it>
	<201008161104.10833.borysiasty@gmail.com>
Message-ID: <4C696518.6050507@enoreth.net>

Le 16/08/2010 11:04, Borys Jurgiel a ?crit :
> Dnia poniedzia?ek 16 sierpnia 2010 o 09:08:07 Paolo Cavallini napisa?(a):
>> Il 15/08/2010 12:47, Borys Jurgiel ha scritto:
>>> With Martin we were talking about the GHNS some time ago and it looks
>>> promising. The problem is AFAIK there's no admin interface, so probably
>>> we can use only the output of it and populate it from the svn.
>>>
>>> Anyway, Martin is now busy with GSoC, my most time-consuming projects
>>> end in October, so unless there's somebody willing to contribute now,
>>> the incoming Hackfest is a good oportuinity to get it done.
>>
>> I hope someone could start earlier (Jean Roc?), but in any case can you
>> mark this as a topic for the hackfest?
>
> Surely, cleaning up the plugin system / gui is my goal for every HF...
> Hopefuly this time will be successful.
>
> First step is to investigate what parts of GHNS we can use and how to connect
> it to the subversion. Jean Roc, did you take any deeper look into this system?

Only as an user, I would like to help on this point but unfortunately I 
can't as I'm not a dev (which is my aim for the HF2012 ;) ).
From borysiasty at aster.pl  Mon Aug 16 12:33:30 2010
From: borysiasty at aster.pl (Borys Jurgiel)
Date: Mon Aug 16 12:33:35 2010
Subject: [Qgis-developer] The new QGIS plugin repo
In-Reply-To: <4C696518.6050507@enoreth.net>
References: <201006281151.47681.borysiasty@aster.pl>
	<201008161104.10833.borysiasty@gmail.com>
	<4C696518.6050507@enoreth.net>
Message-ID: <201008161833.31188.borysiasty@aster.pl>

> Only as an user, I would like to help on this point but unfortunately I
> can't as I'm not a dev (which is my aim for the HF2012 ;) ).

Move it for the HF2010! It's only Python, it doesn't bite!
It swallows in whole...

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100816/53299055/attachment.html
From Dave.DeHaan at sybase.com  Mon Aug 16 17:02:02 2010
From: Dave.DeHaan at sybase.com (Dave.DeHaan@sybase.com)
Date: Mon Aug 16 17:27:42 2010
Subject: [Qgis-developer] Compiling plugins for use with standalone QGIS
	1.5.0 package
Message-ID: <OFAFB408F9.88C610C4-ON85257781.0072040B-85257781.00738AFD@sybase.com>


Hello,

I have written a plugin+dataprovider to interface QGIS with the new spatial
functionality of Sybase SQL Anywhere v12.  I have a msys/mingw environment
for developing the plugin, and if I compile the entire Tethys branch then
my plugin works fine with the installed app.  However, if I drop my .dll
files into the plugin directory of a stock Tethys install (standalone
Windows installer from project website), they won't load.

Can anyone tell me what I need to do to compile plugins that will work with
the stock Tethys install?  Do I need to switch from mingw to Visual Studio?

Thanks,
Dave

--
David DeHaan
SQL Anywhere Research and Development
ddehaan at sybase dot com

From giovanni.manghi at gmail.com  Mon Aug 16 17:31:56 2010
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Mon Aug 16 17:31:58 2010
Subject: [Qgis-developer] Compiling plugins for use with standalone QGIS
	1.5.0 package
In-Reply-To: <OFAFB408F9.88C610C4-ON85257781.0072040B-85257781.00738AFD@sybase.com>
References: <OFAFB408F9.88C610C4-ON85257781.0072040B-85257781.00738AFD@sybase.com>
Message-ID: <AANLkTimt+O+M=6LBCjp9KW2-c0kRSmO93_22zmC5R-ZP@mail.gmail.com>

Do you plan to contribute your plugin?

On Aug 16, 2010 10:27 PM, <Dave.DeHaan@sybase.com> wrote:


Hello,

I have written a plugin+dataprovider to interface QGIS with the new spatial
functionality of Sybase SQL Anywhere v12.  I have a msys/mingw environment
for developing the plugin, and if I compile the entire Tethys branch then
my plugin works fine with the installed app.  However, if I drop my .dll
files into the plugin directory of a stock Tethys install (standalone
Windows installer from project website), they won't load.

Can anyone tell me what I need to do to compile plugins that will work with
the stock Tethys install?  Do I need to switch from mingw to Visual Studio?

Thanks,
Dave

--
David DeHaan
SQL Anywhere Research and Development
ddehaan at sybase dot com

_______________________________________________
Qgis-developer mailing list
Qgis-developer@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100816/75da5e5e/attachment.html
From jef at norbit.de  Mon Aug 16 17:36:17 2010
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Mon Aug 16 17:36:37 2010
Subject: [Qgis-developer] Compiling plugins for use with standalone
	QGIS 1.5.0 package
In-Reply-To: <OFAFB408F9.88C610C4-ON85257781.0072040B-85257781.00738AFD@sybase.com>
References: <OFAFB408F9.88C610C4-ON85257781.0072040B-85257781.00738AFD@sybase.com>
Message-ID: <20100816213617.GA8950@norbit.de>

Hi Dave,

On Mon, 16. Aug 2010 at 17:02:02 -0400, Dave.DeHaan@sybase.com wrote:
> Do I need to switch from mingw to Visual Studio?

Short answer: Yes.


J?rgen 

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From Dave.DeHaan at sybase.com  Mon Aug 16 23:12:42 2010
From: Dave.DeHaan at sybase.com (Dave.DeHaan@sybase.com)
Date: Mon Aug 16 23:12:47 2010
Subject: [Qgis-developer] Compiling plugins for use with standalone QGIS
	1.5.0 package
In-Reply-To: <AANLkTimt+O+M=6LBCjp9KW2-c0kRSmO93_22zmC5R-ZP@mail.gmail.com>
References: <OFAFB408F9.88C610C4-ON85257781.0072040B-85257781.00738AFD@sybase.com>
	<AANLkTimt+O+M=6LBCjp9KW2-c0kRSmO93_22zmC5R-ZP@mail.gmail.com>
Message-ID: <OF85FB4FBE.1D16ACBE-ON85257782.000EC48B-85257782.0011A4DC@sybase.com>

Giovanni Manghi <giovanni.manghi@gmail.com> wrote on 08/16/2010 05:31:56
PM:

> Do you plan to contribute your plugin?

Yes.

In the short term we could distribute a Windows binary + source ourselves,
but in the long term we'd definitely prefer to contribute it and have it
bundled with the main application.  I expect I should be cleared to release
the code within a few weeks, so hopefully it can make it into the 1.6.0
release (if not earlier---will there be a 1.5.1 or a refresh release of
1.5.0?).

I can contribute all sources required to compile and load the plugin and
data provider.  In order to establish a database connection, however, the
SQL Anywhere client library needs to be installed; otherwise the plugin
simply displays an appropriate error message and exits.  Because the client
libraries are proprietary (available for download with the database engine
on a limited-term evaluation license), I clearly can't contribute that
part.

Although I can't commit to contributing much to the project beyond the SA
plugin/provider, I can take responsibility for maintaining the contributed
code if I am granted the appropriate permissions.

Dave

--
David DeHaan
SQL Anywhere Research and Development
ddehaan at sybase dot com

From ricardo.garcia.silva at gmail.com  Tue Aug 17 07:29:37 2010
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Tue Aug 17 07:29:58 2010
Subject: [Qgis-developer] how to call qgis signal?
Message-ID: <AANLkTi=WR2t-_=moeYvvuH5+X+aPzDwJt9L-2DDJ6GcN@mail.gmail.com>

Hello list
I am trying to call the layerWasAdded and layerWillBeRemoved signals
that are emmited by the mapLayerRegistry.instance() object, but I'm
getting no luck.
I am hoping to toggle my plugin on and off based on the user having
any vector layer of type 'line' loaded on the map canvas.
I've read [1], that says that the signal definition must match exactly
with the signature of the function... I think that is what I am doing,
but I'm not sure.

I am trying:

def __init__(self, iface):
    self.

def initGui(self):
    #...some other code
    QObject.connect(self.layerRegistry,
SIGNAL("layerWasAdded(QgsMapLayer *theMapLayer)"),
self.toggle_plugin_availability)
    QObject.connect(self.layerRegistry,
SIGNAL("layerWillBeRemoved(QString theLayerId)"),
self.toggle_plugin_availability)

def toggle_plugin_availability(self, arg):
    if len(self._get_loaded_layers()["vectorLine"]) == 0:
            self.action.setEnabled(False)
        else:
            self.action.setEnabled(True)




[1] - http://blog.qgis.org/node/102


-- 
___________________________ ___ __
Ricardo Garcia Silva
From ricardo.garcia.silva at gmail.com  Tue Aug 17 07:32:06 2010
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Tue Aug 17 07:32:27 2010
Subject: [Qgis-developer] Re: how to call qgis signal?
In-Reply-To: <AANLkTi=WR2t-_=moeYvvuH5+X+aPzDwJt9L-2DDJ6GcN@mail.gmail.com>
References: <AANLkTi=WR2t-_=moeYvvuH5+X+aPzDwJt9L-2DDJ6GcN@mail.gmail.com>
Message-ID: <AANLkTinmee5jFwu1wjw9KeLzLz-J9SP7u8TCAjxdgtAS@mail.gmail.com>

I am sorry, I accidentally pressed some key combination that caused
gmail to send the previous message before it was finished...
Please follow the rest of the code in the attached version of the
previous e-mail.

On Tue, Aug 17, 2010 at 12:29 PM, Ricardo Filipe Soares Garcia da
<ricardo.garcia.silva@gmail.com> wrote:
> Hello list
> I am trying to call the layerWasAdded and layerWillBeRemoved signals
> that are emmited by the mapLayerRegistry.instance() object, but I'm
> getting no luck.
> I am hoping to toggle my plugin on and off based on the user having
> any vector layer of type 'line' loaded on the map canvas.
> I've read [1], that says that the signal definition must match exactly
> with the signature of the function... I think that is what I am doing,
> but I'm not sure.
>
> I am trying:
>
> def __init__(self, iface):
> ? ?self.layerRegistry = iface.QgsMapLayerRegistry.instance()
      #more code
>
> def initGui(self):
> ? ?#...some other code
> ? ?QObject.connect(self.layerRegistry,
> SIGNAL("layerWasAdded(QgsMapLayer *theMapLayer)"),
> self.toggle_plugin_availability)
> ? ?QObject.connect(self.layerRegistry,
> SIGNAL("layerWillBeRemoved(QString theLayerId)"),
> self.toggle_plugin_availability)
>
> def toggle_plugin_availability(self, arg):
> ? ?if len(self._get_loaded_layers()["vectorLine"]) == 0:
> ? ? ? ? ? ?self.action.setEnabled(False)
> ? ? ? ?else:
> ? ? ? ? ? ?self.action.setEnabled(True)
>
>
>
>
> [1] - http://blog.qgis.org/node/102
>
>
> --
> ___________________________ ___ __
> Ricardo Garcia Silva
>



-- 
___________________________ ___ __
Ricardo Garcia Silva
From jef at norbit.de  Tue Aug 17 07:37:17 2010
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue Aug 17 07:37:41 2010
Subject: [Qgis-developer] Re: how to call qgis signal?
In-Reply-To: <AANLkTinmee5jFwu1wjw9KeLzLz-J9SP7u8TCAjxdgtAS@mail.gmail.com>
References: <AANLkTi=WR2t-_=moeYvvuH5+X+aPzDwJt9L-2DDJ6GcN@mail.gmail.com>
	<AANLkTinmee5jFwu1wjw9KeLzLz-J9SP7u8TCAjxdgtAS@mail.gmail.com>
Message-ID: <20100817113717.GB26274@norbit.de>

Hi Ricardo,

On Tue, 17. Aug 2010 at 12:32:06 +0100, Ricardo Filipe Soares Garcia da wrote:
> > def initGui(self):
> >   some other code
> >   QObject.connect(self.layerRegistry, SIGNAL("layerWasAdded(QgsMapLayer *theMapLayer)"), self.toggle_plugin_availability)
> >   QObject.connect(self.layerRegistry, SIGNAL("layerWillBeRemoved(QString theLayerId)"), self.toggle_plugin_availability)

Try: 
      QObject.connect(self.layerRegistry, SIGNAL("layerWasAdded(QgsMapLayer *)"), self.toggle_plugin_availability)
      QObject.connect(self.layerRegistry, SIGNAL("layerWillBeRemoved(QString)"), self.toggle_plugin_availability)


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From ricardo.garcia.silva at gmail.com  Tue Aug 17 08:20:51 2010
From: ricardo.garcia.silva at gmail.com (Ricardo Filipe Soares Garcia da)
Date: Tue Aug 17 08:21:12 2010
Subject: [Qgis-developer] Re: how to call qgis signal?
In-Reply-To: <20100817113717.GB26274@norbit.de>
References: <AANLkTi=WR2t-_=moeYvvuH5+X+aPzDwJt9L-2DDJ6GcN@mail.gmail.com>
	<AANLkTinmee5jFwu1wjw9KeLzLz-J9SP7u8TCAjxdgtAS@mail.gmail.com>
	<20100817113717.GB26274@norbit.de>
Message-ID: <AANLkTi=GdPCOdZyoh_uguABtDrqFiyn_e6FWh0qoroiM@mail.gmail.com>

Thanks Jurgen, it is working now!

On Tue, Aug 17, 2010 at 12:37 PM, J?rgen E. <jef@norbit.de> wrote:
> Hi Ricardo,
>
> On Tue, 17. Aug 2010 at 12:32:06 +0100, Ricardo Filipe Soares Garcia da wrote:
>> > def initGui(self):
>> > ? some other code
>> > ? QObject.connect(self.layerRegistry, SIGNAL("layerWasAdded(QgsMapLayer *theMapLayer)"), self.toggle_plugin_availability)
>> > ? QObject.connect(self.layerRegistry, SIGNAL("layerWillBeRemoved(QString theLayerId)"), self.toggle_plugin_availability)
>
> Try:
> ? ? ?QObject.connect(self.layerRegistry, SIGNAL("layerWasAdded(QgsMapLayer *)"), self.toggle_plugin_availability)
> ? ? ?QObject.connect(self.layerRegistry, SIGNAL("layerWillBeRemoved(QString)"), self.toggle_plugin_availability)
>
>
> J?rgen
>
> --
> J?rgen E. Fischer ? ? ? ? norBIT GmbH ? ? ? ? ? ? ? Tel. +49-4931-918175-20
> Dipl.-Inf. (FH) ? ? ? ? ? Rheinstra?e 13 ? ? ? ? ? ?Fax. +49-4931-918175-50
> Software Engineer ? ? ? ? D-26506 Norden ? ? ? ? ? ? ? http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
___________________________ ___ __
Ricardo Garcia Silva
From wonder.sk at gmail.com  Tue Aug 17 14:00:05 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Aug 17 14:00:08 2010
Subject: [Qgis-developer] Get table names from postgis database Quantum
	GIS API
In-Reply-To: <AANLkTimFL1V=DNxN3UGuDNAqxrcrngkVvyPTpoiqiLER@mail.gmail.com>
References: <AANLkTimFL1V=DNxN3UGuDNAqxrcrngkVvyPTpoiqiLER@mail.gmail.com>
Message-ID: <AANLkTi=Ye-ZBGn=Wzz4a8RtdXArMFpAYLUouNNj+sGS-@mail.gmail.com>

On Fri, Aug 13, 2010 at 12:00 PM, Minja <msiljegovic@gmail.com> wrote:
>
> My Question is is it possible somehow to read from connection string all
> schema names in database or to read all tables which belongs to specific
> schema. I already used some Autodesk APIs and it is implemented....For
> example to loop through all tables that belongs to some schema!

Unfortunately this is currently not possible with QGIS API. You could
check out the source code of PostGIS Manager plugin for an example on
how to get table names and schemas.

Regads
Martin
From benoit at exigesa.com  Tue Aug 17 14:55:54 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Tue Aug 17 14:56:23 2010
Subject: [Qgis-developer] fTools: clip() FEAT_EXCEPT and FEATURE_EXCEPT
In-Reply-To: <NEBBKOODKMEEMJKCHBECEEDOJDAA.benoit@exigesa.com>
Message-ID: <NEBBKOODKMEEMJKCHBECEEFKJDAA.benoit@exigesa.com>

Hello Carson,

Just a silly question...

I was browsing the code of "def clip()" in doGeoprocessing.py to learn how
to do things!

FEATURE_EXCEPT is given the value of 'True' at the top of the function and
it is returned at the end of the function.
The body of the function uses FEAT_EXCEPT.

It thus seems that the clip() function will always return True in
FEATURE_EXCEPT. Is it on purpose?

Best regards,
Benoit

From carson.farmer at gmail.com  Tue Aug 17 15:30:18 2010
From: carson.farmer at gmail.com (Carson Farmer)
Date: Tue Aug 17 15:30:22 2010
Subject: [Qgis-developer] fTools: clip() FEAT_EXCEPT and FEATURE_EXCEPT
In-Reply-To: <NEBBKOODKMEEMJKCHBECEEFKJDAA.benoit@exigesa.com>
References: <NEBBKOODKMEEMJKCHBECEEDOJDAA.benoit@exigesa.com>
	<NEBBKOODKMEEMJKCHBECEEFKJDAA.benoit@exigesa.com>
Message-ID: <AANLkTimo=sihKZqgTLxdJVa7YvgbQHq3sPEBfLGM6eK3@mail.gmail.com>

Oops! Nope, will fix that!

Carson

On 17 August 2010 19:55, Benoit de Cabissole <benoit@exigesa.com> wrote:
> Hello Carson,
>
> Just a silly question...
>
> I was browsing the code of "def clip()" in doGeoprocessing.py to learn how
> to do things!
>
> FEATURE_EXCEPT is given the value of 'True' at the top of the function and
> it is returned at the end of the function.
> The body of the function uses FEAT_EXCEPT.
>
> It thus seems that the clip() function will always return True in
> FEATURE_EXCEPT. Is it on purpose?
>
> Best regards,
> Benoit
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Carson J. Q. Farmer
ISSP Doctoral Fellow
National Centre for Geocomputation
National University of Ireland, Maynooth,
http://www.carsonfarmer.com/
From JPalmer at linz.govt.nz  Wed Aug 18 00:36:12 2010
From: JPalmer at linz.govt.nz (Jeremy Palmer)
Date: Wed Aug 18 00:36:48 2010
Subject: [Qgis-developer] advanced selection tools (r14071)
In-Reply-To: <4C664F5A.3090000@carto.net>
References: <201008131526.58528.marco.hugentobler@sourcepole.ch>
	<666FB8D75E95AE42965A0E76A5E5337E065BF5CD55@prdlsmmsg01.ad.linz.govt.nz>
	<4C664F5A.3090000@carto.net>
Message-ID: <666FB8D75E95AE42965A0E76A5E5337E065C3BA055@prdlsmmsg01.ad.linz.govt.nz>

Hi Andreas,

Sorry about the late reply. Sounds like a good plan all round. 

Looks like http://trac.osgeo.org/qgis/changeset/14101 has dealt with the toolbar menu issues - Thanks Jurgen!

I have submitted a patch to the http://trac.osgeo.org/qgis/ticket/2938 which allows the user to define the default way for selecting features. As a minimum users with the KDE and Gnome windowing systems can switch the behaviour in the global options.

In terms of the option for the user definable alternative select key, I think having an option for this is a hard to implement cleanly. Mainly because there are no more modifier keys left as the Shift and Ctrl keys are already in use. We could start allowing any keyboard shortcut, but that could get messy with the user definable short-cut actions already in place. Any ideas?

Cheers,
Jeremy

-----Original Message-----
From: Andreas Neumann [mailto:a.neumann@carto.net] 
Sent: Saturday, August 14, 2010 8:10 PM
To: Jeremy Palmer
Cc: Marco Hugentobler; qgis-developer@lists.osgeo.org
Subject: Re: [Qgis-developer] advanced selection tools (r14071)

Hi Jeremy!

Thanks for the discussion - and thanks for developing the improved 
selection tools. I understand that this is a matter of personal 
preference. May I suggest that there could be a global setting to set 
the preferred behavior? In the Options dialogue there are settings for 
the "Identify", "Measure Tool", "Panning and Zooming". The "Panning and 
Zooming" behavior is the perfect example where people's preferences 
diverge as well ... we could have an additional section for the 
"Selection Tools". Users could select "Contains vs. Intersects" and set 
the modifier key for the 'alt'ernative selection method.

Drop Down Buttons: I believe that users often have their preferred 
selection mode, so it would be a good use of a drop-down button. One 
example for the use of the drop-down buttons is the print composer. See 
the "alignment" and "put to front/back" tools on the upper right.

I also have a question on the tools - are they now part of the QGIS core 
and are they supposed to replace the existing "selection tools"? If yes, 
wouldn't it be better to call the toolbar just "Selection Tools" instead 
of "Advanced Selection Tools". Yes, they are "advanced" now, but in a 
year or so, they will be regarded just as the "standard selection tools" 
that everybody is expecting to find. One could also integrate the 
selection tools into another standard toolbar that is always visible? I 
was thinking that it would be great to integrate the selection tools 
into the same toolbar where the old selection tools had been (the 
toolbar that is called the "Attributes Toolbar"), but maybe reduce them 
to three buttons, one of them being a drop-down button. There could be 
one regular button for single select, one drop-down button for 
multiselect (incl. all the various multiselection tool variations, the 
rectangular tools should probably be the default selection) and one 
button for deselecting all elements.

Thanks also for the hint on the keyboard shortcuts!

Andreas

On 8/14/10 5:41 AM, Jeremy Palmer wrote:
> Hi Marco and Andreas et al,
>
> I agree there could be some confusion for existing QGIS users. However many applications that I have come from such as MapInfo and mapobjects which have these selection tools use the contains method. While it all depends on your point of view, I believe these applications got it correct. The main reason for this is humans are not very accurate (well at least in terms of the precision of the geometries) when defining selection areas with the mouse. Generally when selecting groups of complex geometries by intersects, one inaccurate click can mean a bad end selection set. I know always find myself selecting the wrong set of polygons when using the intersects rectangle select tool. I do agree that when selecting simple geometries like points and boxes its ok. Maybe more users can comment on this?
>
> Also note that I did create the single selection tool which always selects features by intersection. For single selects this of course is the natural way of doing things.
>
> Sorry I was developing on windows and didn't know about the Alt key problem. I thought it was a good key to use for the 'alt'ernative selection method. Applications from ESRI and AutoCAD use this key all the time - but again those are windows centric applications! Not sure what to do here because the toggle button idea seems clunky. Maybe we could make the modifiers configurable?
>
> Andreas - The toolbar can be hidden and you can use hot keys or menus if screen real estate is at a premium.  I've not looked at drop down buttons before, but maybe it could work...
>
> Cheers
> Jeremy
>
>
> ________________________________________
> From: Marco Hugentobler [marco.hugentobler@sourcepole.ch]
> Sent: Saturday, 14 August 2010 1:26 a.m.
> To: qgis-developer@lists.osgeo.org
> Subject: [Qgis-developer] advanced selection tools (r14071)
>
> Hi
>
> The advanced selection tools are really great!
>
> Just two suggestions: wouldn't it be more intuitive to select all the
> intersecting features if no key is pressed and select only the contained
> features if key modifier pressed? Currently, it is the other way round, so it
> might confuse users who are already familiar with QGIS.
>
> Also, the alt-key is quite hard to use (at least on kde), because it moves the
> whole window if it is pressed before the mouse drag.
>
> Regards,
> Marco
>
>
> --
> Dr. Marco Hugentobler
> Sourcepole - Linux&  Open Source Solutions
> Webereistr. 66, CH-8134 Adliswil, Switzerland
> marco.hugentobler@sourcepole.ch http://www.sourcepole.ch
> Technical Advisor QGIS Project Steering Committee
> ______________________________________________________________________________________________________
>
> This message contains information, which is confidential and may be subject to legal privilege.
> If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message.
> If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info@linz.govt.nz) and destroy the original message.
> LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ.
>
> Thank you.
> ______________________________________________________________________________________________________
>    

______________________________________________________________________________________________________

This message contains information, which is confidential and may be subject to legal privilege. 
If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message.
If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info@linz.govt.nz) and destroy the original message.
LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ.

Thank you.
______________________________________________________________________________________________________
From wonder.sk at gmail.com  Wed Aug 18 15:16:27 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Aug 18 15:16:30 2010
Subject: [Qgis-developer] custom map canvas item?
In-Reply-To: <AANLkTimFkFNxcAt=8sHMApQtELQO7P+WS=Nf3Kvu4YYL@mail.gmail.com>
References: <AANLkTimFkFNxcAt=8sHMApQtELQO7P+WS=Nf3Kvu4YYL@mail.gmail.com>
Message-ID: <AANLkTikK3MQEvuT1PfHqO9dnj4oij=5gg7jWZnAAg1EA@mail.gmail.com>

Hi Ricardo

On Fri, Aug 13, 2010 at 6:19 PM, Ricardo Filipe Soares Garcia da
<ricardo.garcia.silva@gmail.com> wrote:
> Hi list
> How could I go about defining a custom Map Canvas Item in Python?
>
> In addition to the current QgsRubberBand and QgsVertexMarker I'd like
> to have a new Map Canvas Item that could write text on the map canvas.
>
> I am thinking about creating a plugin to display a raster's value
> directly on the canvas, as if it were a matrix of numbers, and thought
> that a new Map Canvas Item, kind of like QgsVertexMarker, but that
> would allow for drawing text instead of a symbol, would do the trick.
>
> I tried to subclass QgsVertexMarker and create a new method for
> drawing text, using a QPen object, but it didn't work... I guess I
> have to tell the QPen where to draw, but I don't know how to do it. If
> someone could just give me a small push I think I could manage the
> rest.

It is a better idea to subclass QgsMapCanvasItem as this is the class
intended for subclassing by 3rd parties.

I will add some thoughts on custom map canvas items to the developer
cookbook, in meanwhile here is an example I've just put together -
canvas item for displaying text:

class TextMarker(QgsMapCanvasItem):
  def __init__(self, canvas):
    QgsMapCanvasItem.__init__(self, canvas)
    self.metrics = QFontMetricsF(QFont())
    self.text = "Hello World!"
    self.setMapPosition(QgsPoint(0,0))

  def paint(self, painter, option, widget):
    painter.drawText(0,0, self.text)

  def boundingRect(self):
    return self.metrics.boundingRect(self.text)

  def updatePosition(self):
    self.setMapPosition(self.map_pos)

  def setMapPosition(self, map_pos):
    self.map_pos = map_pos
    self.setPos(self.toCanvasCoordinates(map_pos))

How to use the class:

tm = TextMarker(canvas)
tm.setMapPosition(QgsPoint(x,y))
canvas.update()

Canvas items are basically normal QGraphicsItem objects - they have to
implement paint() and boundingRect() methods. Additionally, the text
marker from the example is going to be "spatially aware" - if you
change canvas extent (zoom/pan), it will change its position
accordingly - this is thanks to the updatePosition() function which is
called by map canvas when the extent has changed.

Hope that helps

Martin
From wonder.sk at gmail.com  Wed Aug 18 16:05:15 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Aug 18 16:05:18 2010
Subject: [Qgis-developer] PostGIS plugins menu
In-Reply-To: <201008151159.14994.borysiasty@aster.pl>
References: <4C679279.3020305@faunalia.it> <4C67AFD1.2030405@enoreth.net>
	<201008151159.14994.borysiasty@aster.pl>
Message-ID: <AANLkTi=OTGD+q59bOoYOw7aBZAL6K9OAzWnyLLLrVu6v@mail.gmail.com>

Hi Borys

On Sun, Aug 15, 2010 at 11:59 AM, Borys Jurgiel <borysiasty@aster.pl> wrote:
> My suggestion for now is to put everything to a PostGIS submenu within the
> Plugins menu:
>
> self.iface.addPluginToMenu('PostGIS', actionBlahBlah)

Right. I will do that for postgis manager in the next release.


> Then we can modify the QgsInterface.addPluginToMenu method to put each
> submenu either to the Plugins branch or to the main menu, so each user can
> configure which plugin sumbenus are at hand. It's a five-minuts-fix to read
> it from QSettings (still without any GUI for configuring it, but it's a step
> forward).
>
> The third step is the GUI. I started refactoring the Installer (just three
> hours per month, so it's why no changes are commited) and with Martin and
> Anne we plan to put it as a second tab of the manager. What about a third
> tab "menus and toolbars", when an user can be able to:
>
> 1. Select whether given submenu (e.g. PostGIS) goes to the main menu or the
> Plugins menu
>
> 2. Select whether given submenu creates its own toolbar or goes to the main
> Plugin toolbar.
>
> 3. Compose own toolbar(s) with a set of individual plugin buttons. It allows
> to hide the native plugin toolbar and enable personalized ones, like
> "Monday's tasks", "Tools useful for X-files processing etc"
>
> 4. Save/load profiles (at least sets of plugins to be loaded - now I often
> have to use --noplugins option to make qgis faster)
>
> What do you think? The first two steps can be done in a moment.

I like this idea of giving the users a chance to override the default
placement. I would like to go even further - to allow user to
manipulate individual actions created by the plugins - but that would
probably need an addition to interface API (otherwise the
identification of actions would depend on their name in current
translation). I think of showing a tree widget to the user where nodes
would be menus and submenus, the leafs would be individual actions.
The user would be able to modify the tree in any way he likes: add new
top level menus with some actions or just reorganize the 'Plugins'
menu.

If we end up updating the plugin interface, we could also proceed with
defining the categories as we have discussed at the hackfests. Each
plugin would be _strongly_ advised to suggest a category where it
belongs, so ideally the users will not have to organize the plugins
manually.

Bye
Martin
From brush.tyler at gmail.com  Wed Aug 18 20:10:49 2010
From: brush.tyler at gmail.com (Giuseppe Sucameli)
Date: Wed Aug 18 20:11:11 2010
Subject: [Qgis-developer] PostGIS plugins menu
In-Reply-To: <AANLkTi=OTGD+q59bOoYOw7aBZAL6K9OAzWnyLLLrVu6v@mail.gmail.com>
References: <4C679279.3020305@faunalia.it> <4C67AFD1.2030405@enoreth.net>
	<201008151159.14994.borysiasty@aster.pl>
	<AANLkTi=OTGD+q59bOoYOw7aBZAL6K9OAzWnyLLLrVu6v@mail.gmail.com>
Message-ID: <AANLkTi=XKE6X4xPM4pp393mKBAOOO8qs_79ZYkBX14vv@mail.gmail.com>

Hi all,

On Wed, Aug 18, 2010 at 10:05 PM, Martin Dobias <wonder.sk@gmail.com> wrote:

> Hi Borys
>
> On Sun, Aug 15, 2010 at 11:59 AM, Borys Jurgiel <borysiasty@aster.pl>
> wrote:
> > My suggestion for now is to put everything to a PostGIS submenu within
> the
> > Plugins menu:
> >
> > self.iface.addPluginToMenu('PostGIS', actionBlahBlah)
>
> Right. I will do that for postgis manager in the next release.


I moved all my 2 PostGis plugins (rt_sql-layer e rt_postgres-extractor)
to the PostGIS menu:

self.iface.addPluginToMenu('&PostGIS', self.action)

> Then we can modify the QgsInterface.addPluginToMenu method to put each
> > submenu either to the Plugins branch or to the main menu, so each user
> can
> > configure which plugin sumbenus are at hand. It's a five-minuts-fix to
> read
> > it from QSettings (still without any GUI for configuring it, but it's a
> step
> > forward).
> >
> > The third step is the GUI. I started refactoring the Installer (just
> three
> > hours per month, so it's why no changes are commited) and with Martin and
> > Anne we plan to put it as a second tab of the manager. What about a third
> > tab "menus and toolbars", when an user can be able to:
> >
> > 1. Select whether given submenu (e.g. PostGIS) goes to the main menu or
> the
> > Plugins menu
> >
> > 2. Select whether given submenu creates its own toolbar or goes to the
> main
> > Plugin toolbar.
> >
> > 3. Compose own toolbar(s) with a set of individual plugin buttons. It
> allows
> > to hide the native plugin toolbar and enable personalized ones, like
> > "Monday's tasks", "Tools useful for X-files processing etc"
> >
> > 4. Save/load profiles (at least sets of plugins to be loaded - now I
> often
> > have to use --noplugins option to make qgis faster)
> >
> > What do you think? The first two steps can be done in a moment.
>
> I like this idea of giving the users a chance to override the default
> placement. I would like to go even further - to allow user to
> manipulate individual actions created by the plugins - but that would
> probably need an addition to interface API (otherwise the
> identification of actions would depend on their name in current
> translation). I think of showing a tree widget to the user where nodes
> would be menus and submenus, the leafs would be individual actions.
> The user would be able to modify the tree in any way he likes: add new
> top level menus with some actions or just reorganize the 'Plugins'
> menu.
>
> If we end up updating the plugin interface, we could also proceed with
> defining the categories as we have discussed at the hackfests. Each
> plugin would be _strongly_ advised to suggest a category where it
> belongs, so ideally the users will not have to organize the plugins
> manually.
>
+1, would be great!

Cheers

-- 
Giuseppe Sucameli
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100819/827656b0/attachment.html
From a.ghisla at gmail.com  Thu Aug 19 09:24:49 2010
From: a.ghisla at gmail.com (Anne Ghisla)
Date: Thu Aug 19 09:25:13 2010
Subject: [Qgis-developer] The new QGIS plugin repo
In-Reply-To: <1524676523.20100701211823@gis-lab.info>
References: <201006281151.47681.borysiasty@aster.pl>
	<201007011925.00456.borysiasty@gmail.com>
	<1958053956.20100701124919@gis-lab.info>
	<201007020127.16530.borysiasty@aster.pl>
	<1524676523.20100701211823@gis-lab.info>
Message-ID: <1282224289.3056.4.camel@galadriel.uagra.net>

On Thu, 2010-07-01 at 21:18 -0500, Maxim Dubinin wrote:
> sounds good, Borys!
> 
> I understand your concerns and support your idea.
> 
> As there are quite many details and QAs already about new proposed
> plugin distribution system, it'd be nice to see it laid out as a
> single text and updated based on discussions, not to sift through
> dozen of emails. May be in wiki (sorry if it exists already and I
> missed it).

Hi all,

I started collecting ideas on 
http://www.qgis.org/wiki/Python_Plugin_Repositories

edits welcome!

cheers
Anne

> 
> Maxim
> 
> ?? ?????? 1 ???? 2010 ?., 18:27:12:
> 
> 
> 
> 
> Dnia czwartek, 1 lipca 2010 o
> 19:49:19 napisa?e?:
> > We're currently hosting 11
> plugins at our repo. The process is
> fully
> > automated and once set up the
> author only commits to svn, all the
> > other steps are done
> automatically using post-commit
> hooks.
> > 
> > As for moving, unsure yet. I'm a
> big fan of diversity and ability of
> > any person not only create a
> plugin, but distribute it the way
> (s)he
> > likes or even irrationally wants.
> Erik Raymond has a good essay about
> this
> > on Lockean rights. It is
> additional stimulation for a
> opensource developer
> > to realize that this is _his_
> territory. Centralized plugin repo
> will
> > technically be the same, but
> psycologically somewhat different.
> > 
> > That said, I can see a lot of
> value for a new author in this
> system.
> > I'd say keep all options and let
> natural opensource selection do its
> > job. This will introduce some
> hassle for Borys, but I believe it
> worth
> > it for QGIS growth as not only
> software, but community.
> It's not a problem for me, but I
> believe hanging connections and
> error messages are not the best way
> to growth of the community ;-) I
> agree we (authors) fell better
> maintaining our own repositories,
> but we can't satisfy such needs at
> the users' expense! :)
> I see a sense in keeping your
> repository, what is always online,
> responsibly managed and quite rich.
> But we have 11 external
> repositories added by the 'add 3rd
> party repos' button. Most of them
> contains 2-3 plugins and cause most
> problems. Moreover, there are next
> 5 repos not included yet. It isn't
> fair that they are treated worse,
> but the more repos I add, the more
> often problems happen.
> So the compromise would be to offer
> to authors of small repositories a
> more convenient, robust and
> reliable solution and try to
> encourage them to join it. This way
> we can limit the number of external
> repositories added by the button to
> really necessary 3-5.
> Other Authors will have a choice: 
> - to join the community repo
> - to maintain their own, but not
> included by the button
> - to maintain their own and justify
> it's reasonable to add it
> I understand the need of diversity,
> but users should trust that
> clicking this unfortunate button
> they won't be flooded by dozens
> unreliable repositories :)
> > PS: I wrote a detailed
> description with scripts of our
> commit system
> > sometime ago. If someone is
> interested (please use Google
> Translate
> > panel on the left).
> >
> http://gis-lab.info/qa/qgis-repo-update.html
> >
> http://gis-lab.info/qa/qgis-repo.html
> ????? ?????? ?????. ? ????? ??
> ????? ??????? ?????, ?? ? ???????
> ???-?? ?????? ;)
> C???????? ????, goodnight!
> B.
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-- 
http://wiki.osgeo.org/wiki/Anne_Ghisla
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100819/5bff24f4/attachment.bin
From craig.leat at gmail.com  Thu Aug 19 11:40:44 2010
From: craig.leat at gmail.com (Craig Leat)
Date: Thu Aug 19 11:40:47 2010
Subject: [Qgis-developer] Profile from contours
Message-ID: <AANLkTinnW80Hr8=S_Y8ouby_xCFzrDRaJHVo7XUHwhW5@mail.gmail.com>

Hi,

I wish to generate a terrain profile from vector contours directly
without having to interpolate a raster DEM first. Does anyone have
such a plugin on the cards for development?

ArcView 3.x has a tool called "Easy Profiler2.1" with source code in
the public domain [1].

I initially thought interpolation could be avoided by only extracting
heights from intersection points between the path and contours, but
soon realised the path distance is under estimated if one assumes a
straight path between intersection points.

Regards,

Craig

[1] http://arcscripts.esri.com/details.asp?dbid=11606
From marco.hugentobler at sourcepole.ch  Fri Aug 20 04:08:15 2010
From: marco.hugentobler at sourcepole.ch (Marco Hugentobler)
Date: Fri Aug 20 04:08:31 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
Message-ID: <201008201008.15655.marco.hugentobler@sourcepole.ch>

Hi all

The QGIS mapserver project implements a WMS server on top of the QGIS 
libraries (funded by the EU projects Orchestra, Sany and the city of Uster).

With the recent additions in the QGIS mapserver project, the server is now 
very convenient to use and to configure. J?rgen therefore suggested to include 
the server code directly into the QGIS subversion repository, and I too think 
this is a good idea.

The patch that includes the integration is attached to ticket 2959, 
http://trac.osgeo.org/qgis/ticket/2959 (thanks to J?rgen Fischer and Pirmin 
Kalberer!).
The mapserver introduces one new dependency (libfcgi), but it is optional and 
the mapserver will just not be built without it.

What is your opinion about an integration?


Regards,
Marco 


-- 
Dr. Marco Hugentobler
Sourcepole -  Linux & Open Source Solutions
Webereistrasse 66, 8134 Adliswil, Switzerland
marco.hugentobler@sourcepole.ch http://www.sourcepole.ch
Technical Advisor QGIS Project Steering Committee
From cavallini at faunalia.it  Fri Aug 20 04:15:48 2010
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri Aug 20 04:15:52 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <201008201008.15655.marco.hugentobler@sourcepole.ch>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
Message-ID: <4C6E39B4.9040606@faunalia.it>

Il 20/08/2010 10:08, Marco Hugentobler ha scritto:
> What is your opinion about an integration?

That would be great. +1 for me.
Thanks!
-- 
Paolo Cavallini: http://www.faunalia.it/pc
From alexander.bruy at gmail.com  Fri Aug 20 04:31:48 2010
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Fri Aug 20 04:31:50 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <201008201008.15655.marco.hugentobler@sourcepole.ch>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
Message-ID: <AANLkTi=GvO3C-LO1TZ_Y54JxeRYSPxT5EqptGEht4i7E@mail.gmail.com>

2010/8/20 Marco Hugentobler <marco.hugentobler@sourcepole.ch>:
> What is your opinion about an integration?

This is another great addition from you
+1 from me too


-- 
Alexander Bruy
From wonder.sk at gmail.com  Fri Aug 20 04:34:28 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri Aug 20 04:34:30 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <201008201008.15655.marco.hugentobler@sourcepole.ch>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
Message-ID: <AANLkTikObck6Fw7J+RferRr_ocuZ_ZXD1c-3WRQfkoEY@mail.gmail.com>

On Fri, Aug 20, 2010 at 10:08 AM, Marco Hugentobler
<marco.hugentobler@sourcepole.ch> wrote:
> Hi all
>
> The QGIS mapserver project implements a WMS server on top of the QGIS
> libraries (funded by the EU projects Orchestra, Sany and the city of Uster).
>
> With the recent additions in the QGIS mapserver project, the server is now
> very convenient to use and to configure. J?rgen therefore suggested to include
> the server code directly into the QGIS subversion repository, and I too think
> this is a good idea.
>
> [...]
>
> What is your opinion about an integration?

Hi Marco

yes I think this would be a nice addition!

Martin
From borysiasty at aster.pl  Fri Aug 20 05:54:53 2010
From: borysiasty at aster.pl (Borys Jurgiel)
Date: Fri Aug 20 05:54:56 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <201008201008.15655.marco.hugentobler@sourcepole.ch>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
Message-ID: <201008201154.53734.borysiasty@aster.pl>

> What is your opinion about an integration?

Time for the server market! :) In the present state it was totally invisible 
and underestimated.

+1 of course! 
From brush.tyler at gmail.com  Fri Aug 20 10:05:10 2010
From: brush.tyler at gmail.com (Giuseppe Sucameli)
Date: Fri Aug 20 10:05:32 2010
Subject: [Qgis-developer] SVN layout for multiple projects
Message-ID: <AANLkTinLUBiwcEviaFNxAKijTTLRbSLsUG4Twq6r9+uF@mail.gmail.com>

Hi devs,
I'm setting up an svn repository for multiple projects, but
I don't know what's the best layout to use in this case:

-- by branch --
trunk/plugin1                trunk/plugin2
tags/plugin1                  tags/plugin2
branches/plugin1          branches/plugin2

-- by project --
plugin1/trunk                plugin1/tags                plugin1/branches
plugin2/trunk                plugin2/tags                plugin2/branches

Any suggestions are welcome!
Cheers.

-- 
Giuseppe Sucameli
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100820/f8410840/attachment.html
From lists at linfiniti.com  Sat Aug 21 04:06:51 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Sat Aug 21 04:06:53 2010
Subject: [Qgis-developer] The new QGIS plugin repo
In-Reply-To: <1282224289.3056.4.camel@galadriel.uagra.net>
References: <201006281151.47681.borysiasty@aster.pl>
	<201007011925.00456.borysiasty@gmail.com>
	<1958053956.20100701124919@gis-lab.info>
	<201007020127.16530.borysiasty@aster.pl>
	<1524676523.20100701211823@gis-lab.info>
	<1282224289.3056.4.camel@galadriel.uagra.net>
Message-ID: <AANLkTin3j4giuXOmkRe_3hrxFPO7OYHx8GqZaoNajc8z@mail.gmail.com>

Hi All


Just a PSC perspecitive note on this, I think it will be useful when
discussions are complete to simply summarise discussions and submit
that summary as a proposal to the PSC for approval. In general the
requirements (SVN, plugin specific access controls etc) are all doable
but probably not easily on osgeo infrastructure due to the high admin
load it will incurr. So an option would be to host the svn repo
withing the QGIS.org VM.

I was wondering as well if this isnt a good place to start our first
steps in using GIT?

Regards

Tim

On Thu, Aug 19, 2010 at 3:24 PM, Anne Ghisla <a.ghisla@gmail.com> wrote:
> On Thu, 2010-07-01 at 21:18 -0500, Maxim Dubinin wrote:
>> sounds good, Borys!
>>
>> I understand your concerns and support your idea.
>>
>> As there are quite many details and QAs already about new proposed
>> plugin distribution system, it'd be nice to see it laid out as a
>> single text and updated based on discussions, not to sift through
>> dozen of emails. May be in wiki (sorry if it exists already and I
>> missed it).
>
> Hi all,
>
> I started collecting ideas on
> http://www.qgis.org/wiki/Python_Plugin_Repositories
>
> edits welcome!
>
> cheers
> Anne
>
>>
>> Maxim
>>
>> ?? ?????? 1 ???? 2010 ?., 18:27:12:
>>
>>
>>
>>
>> Dnia czwartek, 1 lipca 2010 o
>> 19:49:19 napisa?e?:
>> > We're currently hosting 11
>> plugins at our repo. The process is
>> fully
>> > automated and once set up the
>> author only commits to svn, all the
>> > other steps are done
>> automatically using post-commit
>> hooks.
>> >
>> > As for moving, unsure yet. I'm a
>> big fan of diversity and ability of
>> > any person not only create a
>> plugin, but distribute it the way
>> (s)he
>> > likes or even irrationally wants.
>> Erik Raymond has a good essay about
>> this
>> > on Lockean rights. It is
>> additional stimulation for a
>> opensource developer
>> > to realize that this is _his_
>> territory. Centralized plugin repo
>> will
>> > technically be the same, but
>> psycologically somewhat different.
>> >
>> > That said, I can see a lot of
>> value for a new author in this
>> system.
>> > I'd say keep all options and let
>> natural opensource selection do its
>> > job. This will introduce some
>> hassle for Borys, but I believe it
>> worth
>> > it for QGIS growth as not only
>> software, but community.
>> It's not a problem for me, but I
>> believe hanging connections and
>> error messages are not the best way
>> to growth of the community ;-) I
>> agree we (authors) fell better
>> maintaining our own repositories,
>> but we can't satisfy such needs at
>> the users' expense! :)
>> I see a sense in keeping your
>> repository, what is always online,
>> responsibly managed and quite rich.
>> But we have 11 external
>> repositories added by the 'add 3rd
>> party repos' button. Most of them
>> contains 2-3 plugins and cause most
>> problems. Moreover, there are next
>> 5 repos not included yet. It isn't
>> fair that they are treated worse,
>> but the more repos I add, the more
>> often problems happen.
>> So the compromise would be to offer
>> to authors of small repositories a
>> more convenient, robust and
>> reliable solution and try to
>> encourage them to join it. This way
>> we can limit the number of external
>> repositories added by the button to
>> really necessary 3-5.
>> Other Authors will have a choice:
>> - to join the community repo
>> - to maintain their own, but not
>> included by the button
>> - to maintain their own and justify
>> it's reasonable to add it
>> I understand the need of diversity,
>> but users should trust that
>> clicking this unfortunate button
>> they won't be flooded by dozens
>> unreliable repositories :)
>> > PS: I wrote a detailed
>> description with scripts of our
>> commit system
>> > sometime ago. If someone is
>> interested (please use Google
>> Translate
>> > panel on the left).
>> >
>> http://gis-lab.info/qa/qgis-repo-update.html
>> >
>> http://gis-lab.info/qa/qgis-repo.html
>> ????? ?????? ?????. ? ????? ??
>> ????? ??????? ?????, ?? ? ???????
>> ???-?? ?????? ;)
>> C???????? ????, goodnight!
>> B.
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> --
> http://wiki.osgeo.org/wiki/Anne_Ghisla
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton - QGIS Project Steering Committee Member (Release? Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
?* QGIS programming and support services
?* Mapserver and PostGIS based hosting plans
?* FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From lists at linfiniti.com  Sat Aug 21 04:08:13 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Sat Aug 21 04:08:15 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <201008201154.53734.borysiasty@aster.pl>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<201008201154.53734.borysiasty@aster.pl>
Message-ID: <AANLkTin8OJx3YVzM5NE6xLnbb6n+bX869VtPgmowHuni@mail.gmail.com>

+1 from me too!

Regards

Tim

On Fri, Aug 20, 2010 at 11:54 AM, Borys Jurgiel <borysiasty@aster.pl> wrote:
>> What is your opinion about an integration?
>
> Time for the server market! :) In the present state it was totally invisible
> and underestimated.
>
> +1 of course!
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton - QGIS Project Steering Committee Member (Release? Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
?* QGIS programming and support services
?* Mapserver and PostGIS based hosting plans
?* FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From lists at linfiniti.com  Sat Aug 21 04:45:38 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Sat Aug 21 04:45:40 2010
Subject: [Qgis-developer] PostGIS plugins menu
In-Reply-To: <AANLkTi=XKE6X4xPM4pp393mKBAOOO8qs_79ZYkBX14vv@mail.gmail.com>
References: <4C679279.3020305@faunalia.it> <4C67AFD1.2030405@enoreth.net>
	<201008151159.14994.borysiasty@aster.pl>
	<AANLkTi=OTGD+q59bOoYOw7aBZAL6K9OAzWnyLLLrVu6v@mail.gmail.com>
	<AANLkTi=XKE6X4xPM4pp393mKBAOOO8qs_79ZYkBX14vv@mail.gmail.com>
Message-ID: <AANLkTi=AprEpe4K0mHR3byO6utvXRbQJLYYAbA0CtQT6@mail.gmail.com>

Hi

+1 to put them under a plugins->database menu

Perhaps merging some of the plugins to provide a 'super postgis'
manager plugin would also be worth thinking about?

Regards

Tim

On Thu, Aug 19, 2010 at 2:10 AM, Giuseppe Sucameli
<brush.tyler@gmail.com> wrote:
> Hi all,
>
> On Wed, Aug 18, 2010 at 10:05 PM, Martin Dobias <wonder.sk@gmail.com> wrote:
>>
>> Hi Borys
>>
>> On Sun, Aug 15, 2010 at 11:59 AM, Borys Jurgiel <borysiasty@aster.pl>
>> wrote:
>> > My suggestion for now is to put everything to a PostGIS submenu within
>> > the
>
> > Plugins menu:
>> >
>> > self.iface.addPluginToMenu('PostGIS', actionBlahBlah)
>>
>> Right. I will do that for postgis manager in the next release.
>
>
> I moved all my 2 PostGis plugins (rt_sql-layer e rt_postgres-extractor)
> to the PostGIS menu:
>
> self.iface.addPluginToMenu('&PostGIS', self.action)
>
>> > Then we can modify the QgsInterface.addPluginToMenu method to put each
>> > submenu either to the Plugins branch or to the main menu, so each user
>> > can
>> > configure which plugin sumbenus are at hand. It's a five-minuts-fix to
>> > read
>> > it from QSettings (still without any GUI for configuring it, but it's a
>> > step
>> > forward).
>> >
>> > The third step is the GUI. I started refactoring the Installer (just
>> > three
>> > hours per month, so it's why no changes are commited) and with Martin
>> > and
>> > Anne we plan to put it as a second tab of the manager. What about a
>> > third
>> > tab "menus and toolbars", when an user can be able to:
>> >
>> > 1. Select whether given submenu (e.g. PostGIS) goes to the main menu or
>> > the
>> > Plugins menu
>> >
>> > 2. Select whether given submenu creates its own toolbar or goes to the
>> > main
>> > Plugin toolbar.
>> >
>> > 3. Compose own toolbar(s) with a set of individual plugin buttons. It
>> > allows
>> > to hide the native plugin toolbar and enable personalized ones, like
>> > "Monday's tasks", "Tools useful for X-files processing etc"
>> >
>> > 4. Save/load profiles (at least sets of plugins to be loaded - now I
>> > often
>> > have to use --noplugins option to make qgis faster)
>> >
>> > What do you think? The first two steps can be done in a moment.
>>
>> I like this idea of giving the users a chance to override the default
>> placement. I would like to go even further - to allow user to
>> manipulate individual actions created by the plugins - but that would
>> probably need an addition to interface API (otherwise the
>> identification of actions would depend on their name in current
>> translation). I think of showing a tree widget to the user where nodes
>> would be menus and submenus, the leafs would be individual actions.
>> The user would be able to modify the tree in any way he likes: add new
>> top level menus with some actions or just reorganize the 'Plugins'
>> menu.
>>
>> If we end up updating the plugin interface, we could also proceed with
>> defining the categories as we have discussed at the hackfests. Each
>> plugin would be _strongly_ advised to suggest a category where it
>> belongs, so ideally the users will not have to organize the plugins
>> manually.
>
> +1, would be great!
>
> Cheers
>
> --
> Giuseppe Sucameli
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton - QGIS Project Steering Committee Member (Release? Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
?* QGIS programming and support services
?* Mapserver and PostGIS based hosting plans
?* FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From a.neumann at carto.net  Sat Aug 21 07:25:59 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Sat Aug 21 07:26:08 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <201008201154.53734.borysiasty@aster.pl>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<201008201154.53734.borysiasty@aster.pl>
Message-ID: <4C6FB7C7.3010800@carto.net>

  +1

We think that QGIS mapserver has a great potential because it can now be 
fully graphically configured, without having to manually write map files 
or SLDs.

It certainly will improve our own productivity since we can now leverage 
existing Desktop-GIS projects also for the web.

I also hope that it can be continuously improved in the future (e.g. 
towards SVG and PDF output, using existing map layouts for printing also 
on the web), etc.

Being part of the official SVN source will certainly help.

Thanks,
Andreas

On 8/20/10 11:54 AM, Borys Jurgiel wrote:
>> What is your opinion about an integration?
> Time for the server market! :) In the present state it was totally invisible
> and underestimated.
>
> +1 of course!
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From rdmailings at duif.net  Sat Aug 21 10:45:42 2010
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Sat Aug 21 10:55:02 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <201008201008.15655.marco.hugentobler@sourcepole.ch>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
Message-ID: <4C6FE696.4080704@duif.net>

Marco Hugentobler wrote:
> Hi all
> 
> The QGIS mapserver project implements a WMS server on top of the QGIS 
> libraries (funded by the EU projects Orchestra, Sany and the city of Uster).
> 
> With the recent additions in the QGIS mapserver project, the server is now 
> very convenient to use and to configure. J?rgen therefore suggested to include 
> the server code directly into the QGIS subversion repository, and I too think 
> this is a good idea.
> 
> The patch that includes the integration is attached to ticket 2959, 
> http://trac.osgeo.org/qgis/ticket/2959 (thanks to J?rgen Fischer and Pirmin 
> Kalberer!).
> The mapserver introduces one new dependency (libfcgi), but it is optional and 
> the mapserver will just not be built without it.
> 
> What is your opinion about an integration?

Hi Marco,

+5 ;-)

I already tried the git version a few months ago, and I think it's 
really really promising!

A good/easy configurable mapserver was really missing in the foss4g 
landscape.

The 'QGIS mapserver' should make it easy for people/governments to use 
qgis to easily deploy maps on inter/intranet sites! What I see now that 
governents often decide to use arcgisserver just because the few people 
around knowing how to style a map can do that only in arcgis... The step 
from a mxd to a map- or sld-file is often too big...

You are showing it off in barcelona don't you?

By the way should you not give it an more 'snappier' name, so there is 
no confusion with (minnesota) mapserver or the 'QGIS mapserver plugin'?
Paolo (as our 'marketing'-hotshot) any comments on this?
... Qserver.... Qgisserver .... (mmq, qmapper already used ...).. 
Quantumserver, Quantumserver ... whatever

Regards,

Richard Duivenvoorde

From horst.duester at kappasys.ch  Sat Aug 21 11:07:59 2010
From: horst.duester at kappasys.ch (=?ISO-8859-1?Q?Horst_D=FCster?=)
Date: Sat Aug 21 11:14:47 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <4C6FE696.4080704@duif.net>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<4C6FE696.4080704@duif.net>
Message-ID: <4C6FEBCF.6010907@kappasys.ch>

Am 21.08.2010 16:45, schrieb Richard Duivenvoorde:
> Marco Hugentobler wrote:
>> Hi all
>>
>> The QGIS mapserver project implements a WMS server on top of the QGIS 
>> libraries (funded by the EU projects Orchestra, Sany and the city of 
>> Uster).
>>
>> With the recent additions in the QGIS mapserver project, the server 
>> is now very convenient to use and to configure. J?rgen therefore 
>> suggested to include the server code directly into the QGIS 
>> subversion repository, and I too think this is a good idea.
>>
>> The patch that includes the integration is attached to ticket 2959, 
>> http://trac.osgeo.org/qgis/ticket/2959 (thanks to J?rgen Fischer and 
>> Pirmin Kalberer!).
>> The mapserver introduces one new dependency (libfcgi), but it is 
>> optional and the mapserver will just not be built without it.
>>
>> What is your opinion about an integration?
>
> Hi Marco,
>
> +5 ;-)
>
> I already tried the git version a few months ago, and I think it's 
> really really promising!
>
> A good/easy configurable mapserver was really missing in the foss4g 
> landscape.
>
> The 'QGIS mapserver' should make it easy for people/governments to use 
> qgis to easily deploy maps on inter/intranet sites! What I see now 
> that governents often decide to use arcgisserver just because the few 
> people around knowing how to style a map can do that only in arcgis... 
> The step from a mxd to a map- or sld-file is often too big...
>
> You are showing it off in barcelona don't you?
>
> By the way should you not give it an more 'snappier' name, so there is 
> no confusion with (minnesota) mapserver or the 'QGIS mapserver plugin'?
> Paolo (as our 'marketing'-hotshot) any comments on this?
> ... Qserver.... Qgisserver .... (mmq, qmapper already used ...).. 
> Quantumserver, Quantumserver ... whatever
>
> Regards,
>
> Richard Duivenvoorde
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

Hi Marco, Richard

+1 for the QGIS mapserver

and

+1 for Richards remarks related to the name. Maybe we can set up a name 
polling on qgis.org?

Regards
Horst
From aperi2007 at gmail.com  Sat Aug 21 11:20:49 2010
From: aperi2007 at gmail.com (Andrea Peri)
Date: Sat Aug 21 11:20:50 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
Message-ID: <AANLkTik+iDb5S7c99QCz_7AavEuhuh3sdCG5=pPmO_8p@mail.gmail.com>

I don't know this plugin,

but remenber a very old product from ESRI called.
"ArcView for IMS" .
That was an extension for arcview3 to be able to produce map for the web.

The main problem was that the server must be logged in to produce a map,
because the software need an environment and a GUI.
Because this need of to be logged with an user to produce some maps that
product was few usable and disappered early from market.

I don't know if qgis is able to work without an environment and a GUI.

-- 
-----------------
Andrea Peri
. . . . . . . . .
qwerty ?????
-----------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100821/4a2bc81e/attachment-0001.html
From a.neumann at carto.net  Sat Aug 21 11:47:39 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Sat Aug 21 11:47:48 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <AANLkTik+iDb5S7c99QCz_7AavEuhuh3sdCG5=pPmO_8p@mail.gmail.com>
References: <AANLkTik+iDb5S7c99QCz_7AavEuhuh3sdCG5=pPmO_8p@mail.gmail.com>
Message-ID: <4C6FF51B.1020800@carto.net>

  Hi Andrea,

QGIS mapserver works as an Apache fcgi. So to enable QGIS-mapserver you 
copy the executable to a directory configured for FCGI, enable fcgi in 
Apache (easy to do in most Linux distributions) and start Apache. You 
don't need to be logged in - also no GUI is needed. I am not sure if it 
requires an XServer on the server at compile time, probably not. There 
will be more information on installation soon.

Andreas

On 8/21/10 5:20 PM, Andrea Peri wrote:
> I don't know this plugin,
>
> but remenber a very old product from ESRI called.
> "ArcView for IMS" .
> That was an extension for arcview3 to be able to produce map for the web.
>
> The main problem was that the server must be logged in to produce a map,
> because the software need an environment and a GUI.
> Because this need of to be logged with an user to produce some maps 
> that product was few usable and disappered early from market.
>
> I don't know if qgis is able to work without an environment and a GUI.
>
> -- 
> -----------------
> Andrea Peri
> . . . . . . . . .
> qwerty ?????
> -----------------
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100821/c8ff5f8d/attachment.html
From pi_ml at sourcepole.com  Sat Aug 21 15:47:38 2010
From: pi_ml at sourcepole.com (Pirmin Kalberer)
Date: Sat Aug 21 15:47:55 2010
Subject: [Qgis-developer] The new QGIS plugin repo
In-Reply-To: <AANLkTin3j4giuXOmkRe_3hrxFPO7OYHx8GqZaoNajc8z@mail.gmail.com>
References: <201006281151.47681.borysiasty@aster.pl>
	<1282224289.3056.4.camel@galadriel.uagra.net>
	<AANLkTin3j4giuXOmkRe_3hrxFPO7OYHx8GqZaoNajc8z@mail.gmail.com>
Message-ID: <201008212147.39247.pi_ml@sourcepole.com>

Am Samstag, 21. August 2010, um 10.06:51 schrieb Tim Sutton:
> Hi All
> 
> 
> Just a PSC perspecitive note on this, I think it will be useful when
> discussions are complete to simply summarise discussions and submit
> that summary as a proposal to the PSC for approval. In general the
> requirements (SVN, plugin specific access controls etc) are all doable
> but probably not easily on osgeo infrastructure due to the high admin
> load it will incurr. So an option would be to host the svn repo
> withing the QGIS.org VM.
> 
> I was wondering as well if this isnt a good place to start our first
> steps in using GIT?

+1!
If help is needed for creating a git infrastructure or choosing one of the git 
hosting sites, I could provide assistance.
If somebody wants to start working with Git right now, he can find an Git 
mirror of QGIS and some plugins on our github page:
http://github.com/sourcepole

Regards
Pirmin

> 
> Regards
> 
> Tim
> 
> On Thu, Aug 19, 2010 at 3:24 PM, Anne Ghisla <a.ghisla@gmail.com> wrote
> > On Thu, 2010-07-01 at 21:18 -0500, Maxim Dubinin wrote:
> >> sounds good, Borys!
> >> 
> >> I understand your concerns and support your idea.
> >> 
> >> As there are quite many details and QAs already about new proposed
> >> plugin distribution system, it'd be nice to see it laid out as a
> >> single text and updated based on discussions, not to sift through
> >> dozen of emails. May be in wiki (sorry if it exists already and I
> >> missed it).
> > 
> > Hi all,
> > 
> > I started collecting ideas on
> > http://www.qgis.org/wiki/Python_Plugin_Repositories
> > 
> > edits welcome!
> > 
> > cheers
> > Anne
> > 
> >> Maxim
> >> 
> >> ?? ?????? 1 ???? 2010 ?., 18:27:12:
> >> 
> >> 
> >> 
> >> 
> >> Dnia czwartek, 1 lipca 2010 o
> >> 
> >> 19:49:19 napisa?e?:
> >> > We're currently hosting 11
> >> 
> >> plugins at our repo. The process is
> >> fully
> >> 
> >> > automated and once set up the
> >> 
> >> author only commits to svn, all the
> >> 
> >> > other steps are done
> >> 
> >> automatically using post-commit
> >> hooks.
> >> 
> >> > As for moving, unsure yet. I'm a
> >> 
> >> big fan of diversity and ability of
> >> 
> >> > any person not only create a
> >> 
> >> plugin, but distribute it the way
> >> (s)he
> >> 
> >> > likes or even irrationally wants.
> >> 
> >> Erik Raymond has a good essay about
> >> this
> >> 
> >> > on Lockean rights. It is
> >> 
> >> additional stimulation for a
> >> opensource developer
> >> 
> >> > to realize that this is _his_
> >> 
> >> territory. Centralized plugin repo
> >> will
> >> 
> >> > technically be the same, but
> >> 
> >> psycologically somewhat different.
> >> 
> >> > That said, I can see a lot of
> >> 
> >> value for a new author in this
> >> system.
> >> 
> >> > I'd say keep all options and let
> >> 
> >> natural opensource selection do its
> >> 
> >> > job. This will introduce some
> >> 
> >> hassle for Borys, but I believe it
> >> worth
> >> 
> >> > it for QGIS growth as not only
> >> 
> >> software, but community.
> >> It's not a problem for me, but I
> >> believe hanging connections and
> >> error messages are not the best way
> >> to growth of the community ;-) I
> >> agree we (authors) fell better
> >> maintaining our own repositories,
> >> but we can't satisfy such needs at
> >> the users' expense! :)
> >> I see a sense in keeping your
> >> repository, what is always online,
> >> responsibly managed and quite rich.
> >> But we have 11 external
> >> repositories added by the 'add 3rd
> >> party repos' button. Most of them
> >> contains 2-3 plugins and cause most
> >> problems. Moreover, there are next
> >> 5 repos not included yet. It isn't
> >> fair that they are treated worse,
> >> but the more repos I add, the more
> >> often problems happen.
> >> So the compromise would be to offer
> >> to authors of small repositories a
> >> more convenient, robust and
> >> reliable solution and try to
> >> encourage them to join it. This way
> >> we can limit the number of external
> >> repositories added by the button to
> >> really necessary 3-5.
> >> Other Authors will have a choice:
> >> - to join the community repo
> >> - to maintain their own, but not
> >> included by the button
> >> - to maintain their own and justify
> >> it's reasonable to add it
> >> I understand the need of diversity,
> >> but users should trust that
> >> clicking this unfortunate button
> >> they won't be flooded by dozens
> >> unreliable repositories :)
> >> 
> >> > PS: I wrote a detailed
> >> 
> >> description with scripts of our
> >> commit system
> >> 
> >> > sometime ago. If someone is
> >> 
> >> interested (please use Google
> >> Translate
> >> 
> >> > panel on the left).
> >> 
> >> http://gis-lab.info/qa/qgis-repo-update.html
> >> 
> >> http://gis-lab.info/qa/qgis-repo.html
> >> ????? ?????? ?????. ? ????? ??
> >> ????? ??????? ?????, ?? ? ???????
> >> ???-?? ?????? ;)
> >> C???????? ????, goodnight!
> >> B.
> >> _______________________________________________
> >> Qgis-developer mailing list
> >> Qgis-developer@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> > 
> > --
> > http://wiki.osgeo.org/wiki/Anne_Ghisla
> > 
> > _______________________________________________
> > Qgis-developer mailing list
> > Qgis-developer@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 
Pirmin Kalberer
Sourcepole  -  Linux & Open Source Solutions
http://www.sourcepole.com
From nsicad at gmail.com  Sat Aug 21 21:24:12 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sat Aug 21 21:24:15 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
Message-ID: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>

Hi,

It seems that QGIS has only 3 color ramps, probably we can improve it
by adding more options and increase the class size as well.

http://www.qgis.org/wiki/Symbology_RFC#Python_plugin
Where is the "Color ramp dialogs"? Is this implemented?

I find color ramps in R package quite flexible especially using ssplot
for thematic mapping. Color Brewer is quite limited.

ColorRamps
http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPcolorRamp.html

http://cran.r-project.org/web/packages/colorRamps/colorRamps.pdf

Now, how can we hack QGIS 1.5 to add more color ramps pallete

http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPcolorRamp.html

Arcgis is also using color ramps.

ArcMap Edit color ramp
http://www.tectonics.caltech.edu/gis/reference/color_ramp.html

Noli
From nsicad at gmail.com  Sat Aug 21 21:44:49 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sat Aug 21 21:44:51 2010
Subject: [Qgis-developer] Re: Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
References: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
Message-ID: <AANLkTimCq6xWPL91aGsyJan==N1BNj0WUOQ9TvJnC4S+@mail.gmail.com>

I hope that there is plugin that we can import arcgis color ramps
style (*.style) in QGIS.

http://blogs.esri.com/Support/blogs/mappingcenter/archive/2009/07/07/ESRI-Color-Ramps-Version-2.0.aspx

http://mappingcenter.esri.com/index.cfm?fa=arcgisResources.gateway

Noli
From benoit at exigesa.com  Sun Aug 22 03:09:18 2010
From: benoit at exigesa.com (Benoit EXIGE)
Date: Sun Aug 22 03:10:01 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
References: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
Message-ID: <F841F024-722C-40E1-84B1-26AB74288019@exigesa.com>

Hi Noli,

Did you have a look at the 1-band raster colour plugin?
I've posted it in the QGIS repository. It is flagged as experimental  
so you will have to enable experimental plugin in the plugin manager.
I think it will respond to what you are looking for.

Cheers,
Benoit


On 22 Aug 2010, at 3:24, Noli Sicad <nsicad@gmail.com> wrote:

> Hi,
>
> It seems that QGIS has only 3 color ramps, probably we can improve it
> by adding more options and increase the class size as well.
>
> http://www.qgis.org/wiki/Symbology_RFC#Python_plugin
> Where is the "Color ramp dialogs"? Is this implemented?
>
> I find color ramps in R package quite flexible especially using ssplot
> for thematic mapping. Color Brewer is quite limited.
>
> ColorRamps
> http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPcolorRamp.html
>
> http://cran.r-project.org/web/packages/colorRamps/colorRamps.pdf
>
> Now, how can we hack QGIS 1.5 to add more color ramps pallete
>
> http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPcolorRamp.html
>
> Arcgis is also using color ramps.
>
> ArcMap Edit color ramp
> http://www.tectonics.caltech.edu/gis/reference/color_ramp.html
>
> Noli
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
From giovanni.manghi at gmail.com  Sun Aug 22 03:28:29 2010
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Sun Aug 22 03:28:33 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <F841F024-722C-40E1-84B1-26AB74288019@exigesa.com>
References: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
	<F841F024-722C-40E1-84B1-26AB74288019@exigesa.com>
Message-ID: <AANLkTinfNWCG9XDUjfxMrke+FAFs-9EXhnH0Tzsk=aMF@mail.gmail.com>

I agree that our best chance is actually supporting/helping Benoit
developing his plugin. Ideally at some stage it could be added to core
as it was done for the Martin labelling plugin.

Benoit, any enhancement on sight regarding the speed needed to read
the rasters (with your plugin)?

See also

https://trac.osgeo.org/qgis/ticket/782

a very neat feature would be the possibility to import color ramps, for example

http://soliton.vm.bytemark.co.uk/pub/cpt-city/grass/index.html

cheers

-- Giovanni --


On Sun, Aug 22, 2010 at 8:09 AM, Benoit EXIGE <benoit@exigesa.com> wrote:
> Hi Noli,
>
> Did you have a look at the 1-band raster colour plugin?
> I've posted it in the QGIS repository. It is flagged as experimental so you
> will have to enable experimental plugin in the plugin manager.
> I think it will respond to what you are looking for.
>
> Cheers,
> Benoit
>
>
> On 22 Aug 2010, at 3:24, Noli Sicad <nsicad@gmail.com> wrote:
>
>> Hi,
>>
>> It seems that QGIS has only 3 color ramps, probably we can improve it
>> by adding more options and increase the class size as well.
>>
>> http://www.qgis.org/wiki/Symbology_RFC#Python_plugin
>> Where is the "Color ramp dialogs"? Is this implemented?
>>
>> I find color ramps in R package quite flexible especially using ssplot
>> for thematic mapping. Color Brewer is quite limited.
>>
>> ColorRamps
>>
>> http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPcolorRamp.html
>>
>> http://cran.r-project.org/web/packages/colorRamps/colorRamps.pdf
>>
>> Now, how can we hack QGIS 1.5 to add more color ramps pallete
>>
>>
>> http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPcolorRamp.html
>>
>> Arcgis is also using color ramps.
>>
>> ArcMap Edit color ramp
>> http://www.tectonics.caltech.edu/gis/reference/color_ramp.html
>>
>> Noli
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From nsicad at gmail.com  Sun Aug 22 04:01:07 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sun Aug 22 04:01:09 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <F841F024-722C-40E1-84B1-26AB74288019@exigesa.com>
References: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
	<F841F024-722C-40E1-84B1-26AB74288019@exigesa.com>
Message-ID: <AANLkTikF425ib4ri9=fkFmbS86KzJCsmBUfHf9rH2EXK@mail.gmail.com>

Hi Benoit,

NO. I have not since I am working mostly on vector and databases.

I am installing it now.

 Any sample data and tutorial how to use it?

Could this plugin be replicate into a new plugin for vector files and
spatial databases.

Thanks.

Noli





On 8/22/10, Benoit EXIGE <benoit@exigesa.com> wrote:
> Hi Noli,
>
> Did you have a look at the 1-band raster colour plugin?
> I've posted it in the QGIS repository. It is flagged as experimental
> so you will have to enable experimental plugin in the plugin manager.
> I think it will respond to what you are looking for.
>
> Cheers,
> Benoit
>
>
> On 22 Aug 2010, at 3:24, Noli Sicad <nsicad@gmail.com> wrote:
>
>> Hi,
>>
>> It seems that QGIS has only 3 color ramps, probably we can improve it
>> by adding more options and increase the class size as well.
>>
>> http://www.qgis.org/wiki/Symbology_RFC#Python_plugin
>> Where is the "Color ramp dialogs"? Is this implemented?
>>
>> I find color ramps in R package quite flexible especially using ssplot
>> for thematic mapping. Color Brewer is quite limited.
>>
>> ColorRamps
>> http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPcolorRamp.html
>>
>> http://cran.r-project.org/web/packages/colorRamps/colorRamps.pdf
>>
>> Now, how can we hack QGIS 1.5 to add more color ramps pallete
>>
>> http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPcolorRamp.html
>>
>> Arcgis is also using color ramps.
>>
>> ArcMap Edit color ramp
>> http://www.tectonics.caltech.edu/gis/reference/color_ramp.html
>>
>> Noli
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From borysiasty at gmail.com  Sun Aug 22 04:49:36 2010
From: borysiasty at gmail.com (Borys Jurgiel)
Date: Sun Aug 22 04:49:43 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
References: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
Message-ID: <201008221049.36618.borysiasty@gmail.com>

Dnia niedziela 22 sierpnia 2010 o 03:24:12 Noli Sicad napisa?(a):
> Hi,
> 
> It seems that QGIS has only 3 color ramps, probably we can improve it
> by adding more options and increase the class size as well.
> 
> http://www.qgis.org/wiki/Symbology_RFC#Python_plugin
> Where is the "Color ramp dialogs"? Is this implemented?

It's in Settings -> Style Manager menu. I agree it's quite hard to find it and 
it should be exposed in the layer properties window. It would be great if 
someone could send a bunch of his symbols and ramps to put them as predefinied 
styles. When only we implement the new plugin repositories, we can use that 
stuff for a style repository too.

From nsicad at gmail.com  Sun Aug 22 06:01:47 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sun Aug 22 06:01:50 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <201008221049.36618.borysiasty@gmail.com>
References: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
	<201008221049.36618.borysiasty@gmail.com>
Message-ID: <AANLkTinDNGXe6FV4JhXmojkcjcJCpct50uDyFPu1j5F-@mail.gmail.com>

Hi Borys

Thanks for pointing out where we could find the Color ramp dialogs. I
thought I saw it 3 months ago but I don't know where.

Yes, Just a "Add Style Item" button in layer properties window would
really help user to use this feature.

Here's the MapIcons that Maning pointed out before.
http://www.sjjb.co.uk/mapicons/contactsheet

Here's Maki Icon Set
http://mapbox.com/documentation/maki-icon-set

Now, how can we prepare the predefined styles?  What is the file where
these newly created color ramp and symbols are saved?

Regards, Noli



On 8/22/10, Borys Jurgiel <borysiasty@gmail.com> wrote:
> Dnia niedziela 22 sierpnia 2010 o 03:24:12 Noli Sicad napisa?(a):
>> Hi,
>>
>> It seems that QGIS has only 3 color ramps, probably we can improve it
>> by adding more options and increase the class size as well.
>>
>> http://www.qgis.org/wiki/Symbology_RFC#Python_plugin
>> Where is the "Color ramp dialogs"? Is this implemented?
>
> It's in Settings -> Style Manager menu. I agree it's quite hard to find it
> and
> it should be exposed in the layer properties window. It would be great if
> someone could send a bunch of his symbols and ramps to put them as
> predefinied
> styles. When only we implement the new plugin repositories, we can use that
> stuff for a style repository too.
>
>
From giovanni.manghi at gmail.com  Sun Aug 22 06:06:30 2010
From: giovanni.manghi at gmail.com (Giovanni Manghi)
Date: Sun Aug 22 06:06:34 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <AANLkTikF425ib4ri9=fkFmbS86KzJCsmBUfHf9rH2EXK@mail.gmail.com>
References: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
	<F841F024-722C-40E1-84B1-26AB74288019@exigesa.com>
	<AANLkTikF425ib4ri9=fkFmbS86KzJCsmBUfHf9rH2EXK@mail.gmail.com>
Message-ID: <AANLkTi=M9omCuv-BcdEDfb8ZWENa6f3uwh3_0WrMnPRi@mail.gmail.com>

What do you miss in the new symbology engine? There are plenty of options,
for ramps too. Cheers.

On Aug 22, 2010 10:01 AM, "Noli Sicad" <nsicad@gmail.com> wrote:

Hi Benoit,

NO. I have not since I am working mostly on vector and databases.

I am installing it now.

 Any sample data and tutorial how to use it?

Could this plugin be replicate into a new plugin for vector files and
spatial databases.

Thanks.

Noli






On 8/22/10, Benoit EXIGE <benoit@exigesa.com> wrote:
> Hi Noli,
>
> Did you have a look at the ...
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100822/114e3fd8/attachment.html
From nsicad at gmail.com  Sun Aug 22 06:10:36 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sun Aug 22 06:10:38 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <AANLkTinfNWCG9XDUjfxMrke+FAFs-9EXhnH0Tzsk=aMF@mail.gmail.com>
References: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
	<F841F024-722C-40E1-84B1-26AB74288019@exigesa.com>
	<AANLkTinfNWCG9XDUjfxMrke+FAFs-9EXhnH0Tzsk=aMF@mail.gmail.com>
Message-ID: <AANLkTimSW=wvoX7yAd=th9OKyZ+mchFw89o--SCG9i8Z@mail.gmail.com>

Hi Giovanni,

> http://soliton.vm.bytemark.co.uk/pub/cpt-city/grass/index.html

As pointed by Borys, we can easily reproduce those colour ramps now in
the Styler using gradient colour ramp with multiple stops.

Noli


On 8/22/10, Giovanni Manghi <giovanni.manghi@gmail.com> wrote:
> I agree that our best chance is actually supporting/helping Benoit
> developing his plugin. Ideally at some stage it could be added to core
> as it was done for the Martin labelling plugin.
>
> Benoit, any enhancement on sight regarding the speed needed to read
> the rasters (with your plugin)?
>
> See also
>
> https://trac.osgeo.org/qgis/ticket/782
>
> a very neat feature would be the possibility to import color ramps, for
> example
>
> http://soliton.vm.bytemark.co.uk/pub/cpt-city/grass/index.html
>
> cheers
>
From borysiasty at aster.pl  Sun Aug 22 06:13:12 2010
From: borysiasty at aster.pl (Borys Jurgiel)
Date: Sun Aug 22 06:13:16 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <AANLkTinDNGXe6FV4JhXmojkcjcJCpct50uDyFPu1j5F-@mail.gmail.com>
References: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
	<201008221049.36618.borysiasty@gmail.com>
	<AANLkTinDNGXe6FV4JhXmojkcjcJCpct50uDyFPu1j5F-@mail.gmail.com>
Message-ID: <201008221213.13045.borysiasty@aster.pl>

Dnia niedziela 22 sierpnia 2010 o 12:01:47 Noli Sicad napisa?(a):
> Hi Borys
> 
> Thanks for pointing out where we could find the Color ramp dialogs. I
> thought I saw it 3 months ago but I don't know where.
> 
> Yes, Just a "Add Style Item" button in layer properties window would
> really help user to use this feature.
> 
> Here's the MapIcons that Maning pointed out before.
> http://www.sjjb.co.uk/mapicons/contactsheet
> 
> Here's Maki Icon Set
> http://mapbox.com/documentation/maki-icon-set
> 
> Now, how can we prepare the predefined styles?  What is the file where
> these newly created color ramp and symbols are saved?

$HOME_DIR/.qgis/symbology-ng-style.xml

This is one big xml file for the whole style library. Martin, I think it would 
be much easier if qgis 1.6 should grab all files in a directiory designed for 
styles, e.g. /usr/share/qgis/styles + $HOME_DIR/.qgis/styles/
From benoit at exigesa.com  Sun Aug 22 06:27:59 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Sun Aug 22 06:28:14 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <AANLkTikF425ib4ri9=fkFmbS86KzJCsmBUfHf9rH2EXK@mail.gmail.com>
Message-ID: <NEBBKOODKMEEMJKCHBECIEHBJDAA.benoit@exigesa.com>

Hi Noli,

Just created a sample raster [1].

Tutorial can be found at [2] and through the help button on the plugin.

I come from the raster world so I did not think of doing it for vector, but
from this morning discussions it seems that there is already a facility for
colouring vector with colour ramps.

[1] http://www.bc-consult.com/free/bcccoltbl-data.html
[2] http://www.bc-consult.com/free/bcccoltbl.html

Hope this helps,
Benoit


> -----Original Message-----
> From: Noli Sicad [mailto:nsicad@gmail.com]
> Sent: Sunday, 22 August 2010 10:01
> To: Benoit EXIGE
> Cc: qgis-dev
> Subject: Re: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
>
>
> Hi Benoit,
>
> NO. I have not since I am working mostly on vector and databases.
>
> I am installing it now.
>
>  Any sample data and tutorial how to use it?
>
> Could this plugin be replicate into a new plugin for vector files and
> spatial databases.
>
> Thanks.
>
> Noli
>
>
>
>
>
> On 8/22/10, Benoit EXIGE <benoit@exigesa.com> wrote:
> > Hi Noli,
> >
> > Did you have a look at the 1-band raster colour plugin?
> > I've posted it in the QGIS repository. It is flagged as experimental
> > so you will have to enable experimental plugin in the plugin manager.
> > I think it will respond to what you are looking for.
> >
> > Cheers,
> > Benoit
> >
> >
> > On 22 Aug 2010, at 3:24, Noli Sicad <nsicad@gmail.com> wrote:
> >
> >> Hi,
> >>
> >> It seems that QGIS has only 3 color ramps, probably we can improve it
> >> by adding more options and increase the class size as well.
> >>
> >> http://www.qgis.org/wiki/Symbology_RFC#Python_plugin
> >> Where is the "Color ramp dialogs"? Is this implemented?
> >>
> >> I find color ramps in R package quite flexible especially using ssplot
> >> for thematic mapping. Color Brewer is quite limited.
> >>
> >> ColorRamps
> >>
> http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPc
olorRamp.html
>>
>> http://cran.r-project.org/web/packages/colorRamps/colorRamps.pdf
>>
>> Now, how can we hack QGIS 1.5 to add more color ramps pallete
>>
>>
http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPcolorRamp.h
tml
>>
>> Arcgis is also using color ramps.
>>
>> ArcMap Edit color ramp
>> http://www.tectonics.caltech.edu/gis/reference/color_ramp.html
>>
>> Noli
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

From nsicad at gmail.com  Sun Aug 22 06:37:28 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sun Aug 22 06:37:31 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <NEBBKOODKMEEMJKCHBECIEHBJDAA.benoit@exigesa.com>
References: <AANLkTikF425ib4ri9=fkFmbS86KzJCsmBUfHf9rH2EXK@mail.gmail.com>
	<NEBBKOODKMEEMJKCHBECIEHBJDAA.benoit@exigesa.com>
Message-ID: <AANLkTimUAjE5Qzg80R-RL1o+jxpqM6AYOHm_5Q4dbGd7@mail.gmail.com>

Hi Benoit.

Thanks for creating this plugin and having one page plugin tutorial
with sample data.

This tutorial is really good since we can see what you have been
talking in the last few days.

I hope Marco would put a link of your plugin tutorials in the Qgis user corner.

Regards, Noli





On 8/22/10, Benoit de Cabissole <benoit@exigesa.com> wrote:
> Hi Noli,
>
> Just created a sample raster [1].
>
> Tutorial can be found at [2] and through the help button on the plugin.
>
> I come from the raster world so I did not think of doing it for vector, but
> from this morning discussions it seems that there is already a facility for
> colouring vector with colour ramps.
>
> [1] http://www.bc-consult.com/free/bcccoltbl-data.html
> [2] http://www.bc-consult.com/free/bcccoltbl.html
>
> Hope this helps,
> Benoit
>
>
>> -----Original Message-----
>> From: Noli Sicad [mailto:nsicad@gmail.com]
>> Sent: Sunday, 22 August 2010 10:01
>> To: Benoit EXIGE
>> Cc: qgis-dev
>> Subject: Re: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
>>
>>
>> Hi Benoit,
>>
>> NO. I have not since I am working mostly on vector and databases.
>>
>> I am installing it now.
>>
>>  Any sample data and tutorial how to use it?
>>
>> Could this plugin be replicate into a new plugin for vector files and
>> spatial databases.
>>
>> Thanks.
>>
>> Noli
>>
>>
>>
>>
>>
>> On 8/22/10, Benoit EXIGE <benoit@exigesa.com> wrote:
>> > Hi Noli,
>> >
>> > Did you have a look at the 1-band raster colour plugin?
>> > I've posted it in the QGIS repository. It is flagged as experimental
>> > so you will have to enable experimental plugin in the plugin manager.
>> > I think it will respond to what you are looking for.
>> >
>> > Cheers,
>> > Benoit
>> >
>> >
>> > On 22 Aug 2010, at 3:24, Noli Sicad <nsicad@gmail.com> wrote:
>> >
>> >> Hi,
>> >>
>> >> It seems that QGIS has only 3 color ramps, probably we can improve it
>> >> by adding more options and increase the class size as well.
>> >>
>> >> http://www.qgis.org/wiki/Symbology_RFC#Python_plugin
>> >> Where is the "Color ramp dialogs"? Is this implemented?
>> >>
>> >> I find color ramps in R package quite flexible especially using ssplot
>> >> for thematic mapping. Color Brewer is quite limited.
>> >>
>> >> ColorRamps
>> >>
>> http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPc
> olorRamp.html
>>>
>>> http://cran.r-project.org/web/packages/colorRamps/colorRamps.pdf
>>>
>>> Now, how can we hack QGIS 1.5 to add more color ramps pallete
>>>
>>>
> http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPcolorRamp.h
> tml
>>>
>>> Arcgis is also using color ramps.
>>>
>>> ArcMap Edit color ramp
>>> http://www.tectonics.caltech.edu/gis/reference/color_ramp.html
>>>
>>> Noli
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From nsicad at gmail.com  Sun Aug 22 07:37:54 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sun Aug 22 07:37:56 2010
Subject: [Qgis-developer] OpenGeo QGIS - Installing QGIS, Vector, Raster,
	Printing Map Tutorial
Message-ID: <AANLkTinN1tjCBSC7RNH62mH0p=ZzQDCcM1=Cjd1preso@mail.gmail.com>

Hi,

I found a nice tutorial / workshop material with screenshots.

Good introduction to new users and advance users as well. It covers
from installation, PostGIS data retrieval, vector and raster, adding
feature  to map printing.

http://workshops.opengeo.org/stack-intro/install-desktop.html

Marco, I would be nice if you can add this site to QGIS.org

I refer reading in html. It  is far better experience than reading in PDF

Add it your bookmark.

Noli
From benoit at exigesa.com  Sun Aug 22 08:17:01 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Sun Aug 22 08:17:15 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <AANLkTinfNWCG9XDUjfxMrke+FAFs-9EXhnH0Tzsk=aMF@mail.gmail.com>
Message-ID: <NEBBKOODKMEEMJKCHBECGEHCJDAA.benoit@exigesa.com>

Hi Giovanni,

> I agree that our best chance is actually supporting/helping Benoit
> developing his plugin. Ideally at some stage it could be added to core
> as it was done for the Martin labelling plugin.
>
> Benoit, any enhancement on sight regarding the speed needed to read
> the rasters (with your plugin)?
>
> See also
>
> https://trac.osgeo.org/qgis/ticket/782


Regarding the loading speed problem, well, no answer as yet...
Another solution would be to only compute the stats of the raster and not
display a thumbnail of the raster in the plugin but to work directly in the
main window. Problem with that is that the raster must be on top of the
stack in order to be visible: not really a good solution!
Another way would be to create a batch file to generate the ".bccpal" files
from the user rasters that will run when user is not busy. The .bccpal files
are thumbnail files generated when user creates the first colour table and
are re-used the next time the user launch the plugin on the same raster file
(on condition that the user doesn't delete those file the loading speed is
dramatically increased!).
A third way would be to write a C++ routine to speed up that part of the
algorithm. It is not the reading of the data from disk but rather the
algorithm I'm using to generate the thumbnail raster and generate the stats
(histogram) that slows down processing. Note that in VB6 it is much much
faster than in python, so yes the language it is written in will make a
difference (unfortunately C++/C are Martian-speak to me!).



> a very neat feature would be the possibility to import color
> ramps, for example
>
> http://soliton.vm.bytemark.co.uk/pub/cpt-city/grass/index.html
>

Regarding importing colour ramps: you could have noticed that some of the
ramps presented at the above reference have already been converted to colour
palettes for use in the plugin!
The colouring algorithm I'm using needs to deal with discrete colour values
and not with abstract ones as used by GRASS, GMT, and others. The way around
it that I've used was to import an image of a colour ramp into an imagebox
and sample each pixel for its colour to create a "discrete" colour palette
used by the plugin. In fact most of the colour palettes provided with the
plugin have been generated in this way! (Again this little app is VB6 based,
and could be converted to python if there is an interest).
So, yes, there is a way to import a colour ramp, provided there is an image
of it.

Also note that in its present stage the python plugin cannot be used to set
a real-life value to a given colour. Real-life values are given to a colour
in function of the colouring method used and the histogram of the data. So
ramps like 'corine' or 'srtm' from the above reference will be difficult to
use with the plugin.

Cheers,
Benoit



> cheers
>
> -- Giovanni --
>
>
> On Sun, Aug 22, 2010 at 8:09 AM, Benoit EXIGE <benoit@exigesa.com> wrote:
> > Hi Noli,
> >
> > Did you have a look at the 1-band raster colour plugin?
> > I've posted it in the QGIS repository. It is flagged as
> experimental so you
> > will have to enable experimental plugin in the plugin manager.
> > I think it will respond to what you are looking for.
> >
> > Cheers,
> > Benoit
> >
> >
> > On 22 Aug 2010, at 3:24, Noli Sicad <nsicad@gmail.com> wrote:
> >
> >> Hi,
> >>
> >> It seems that QGIS has only 3 color ramps, probably we can improve it
> >> by adding more options and increase the class size as well.
> >>
> >> http://www.qgis.org/wiki/Symbology_RFC#Python_plugin
> >> Where is the "Color ramp dialogs"? Is this implemented?
> >>
> >> I find color ramps in R package quite flexible especially using ssplot
> >> for thematic mapping. Color Brewer is quite limited.
> >>
> >> ColorRamps
> >>
> >>
> http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPc
olorRamp.html
>>
>> http://cran.r-project.org/web/packages/colorRamps/colorRamps.pdf
>>
>> Now, how can we hack QGIS 1.5 to add more color ramps pallete
>>
>>
>>
http://bm2.genes.nig.ac.jp/RGM2/R_current/library/IDPmisc/man/IDPcolorRamp.h
tml
>>
>> Arcgis is also using color ramps.
>>
>> ArcMap Edit color ramp
>> http://www.tectonics.caltech.edu/gis/reference/color_ramp.html
>>
>> Noli
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>

From benoit at exigesa.com  Sun Aug 22 09:45:53 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Sun Aug 22 09:46:07 2010
Subject: [Qgis-developer] qgis-1.5.0_coding-compilation_guide_en.pdf
In-Reply-To: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
Message-ID: <NEBBKOODKMEEMJKCHBECMEHCJDAA.benoit@exigesa.com>

Hello Manual Team,

With reference to the subject and to recent discussions in this forum
regarding plugins coding standard:
- on page 29, the __init__.py example (at the bottom of the page) could be
rewritten as:

# -*- coding: utf-8 -*-
def name():
    return "FOSS4G example"
def description():
    return "A simple example plugin to load shapefiles"
def version():
    return "0.1"
def qgisMinimumVersion():
    return "1.0"
def authorName():
    return "John Developer"
def classFactory(iface):
    from foss4gplugin import FOSS4GPlugin
    return FOSS4GPlugin(iface)

Where the import line is put inside the classFactory() function and not in
the first line of the file.

Just trying my two bits for consistency...

Cheers and keep the good work,
Benoit

From benoit at exigesa.com  Sun Aug 22 10:02:52 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Sun Aug 22 10:03:06 2010
Subject: [Qgis-developer] qgis-1.5.0_coding-compilation_guide_en.pdf
In-Reply-To: <NEBBKOODKMEEMJKCHBECMEHCJDAA.benoit@exigesa.com>
Message-ID: <NEBBKOODKMEEMJKCHBECCEHDJDAA.benoit@exigesa.com>


And while I'm at it, on page 31, the 'else:' statement in the top code block
is wrongly indented!

Sorry to be a pain,
Benoit

> -----Original Message-----
> From: qgis-developer-bounces@lists.osgeo.org
> [mailto:qgis-developer-bounces@lists.osgeo.org]On Behalf Of Benoit de
> Cabissole
> Sent: Sunday, 22 August 2010 15:46
> To: qgis-developer@lists.osgeo.org
> Subject: [Qgis-developer] qgis-1.5.0_coding-compilation_guide_en.pdf
>
>
> Hello Manual Team,
>
> With reference to the subject and to recent discussions in this forum
> regarding plugins coding standard:
> - on page 29, the __init__.py example (at the bottom of the page) could be
> rewritten as:
>
> # -*- coding: utf-8 -*-
> def name():
>     return "FOSS4G example"
> def description():
>     return "A simple example plugin to load shapefiles"
> def version():
>     return "0.1"
> def qgisMinimumVersion():
>     return "1.0"
> def authorName():
>     return "John Developer"
> def classFactory(iface):
>     from foss4gplugin import FOSS4GPlugin
>     return FOSS4GPlugin(iface)
>
> Where the import line is put inside the classFactory() function and not in
> the first line of the file.
>
> Just trying my two bits for consistency...
>
> Cheers and keep the good work,
> Benoit
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From otto.dassau at gmx.de  Mon Aug 23 04:00:07 2010
From: otto.dassau at gmx.de (Otto Dassau)
Date: Mon Aug 23 03:56:55 2010
Subject: [Qgis-developer] qgis-1.5.0_coding-compilation_guide_en.pdf
In-Reply-To: <NEBBKOODKMEEMJKCHBECMEHCJDAA.benoit@exigesa.com>
References: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
	<NEBBKOODKMEEMJKCHBECMEHCJDAA.benoit@exigesa.com>
Message-ID: <20100823100007.6c9ea0db@nature.site>

Hi Benoit,

thanks for your note. I committed your change. If you have more fixes or
ideas to improve the manual, please write to the qgis-community team list
at qgis-community-team@lists.osgeo.org. That is the place we usually discuss
and improve the documentation and where most documenters are subscribed.

Regards,
 otto 

Am Sun, 22 Aug 2010 15:45:53 +0200
schrieb "Benoit de Cabissole" <benoit@exigesa.com>:

> Hello Manual Team,
> 
> With reference to the subject and to recent discussions in this forum
> regarding plugins coding standard:
> - on page 29, the __init__.py example (at the bottom of the page) could be
> rewritten as:
> 
> # -*- coding: utf-8 -*-
> def name():
>     return "FOSS4G example"
> def description():
>     return "A simple example plugin to load shapefiles"
> def version():
>     return "0.1"
> def qgisMinimumVersion():
>     return "1.0"
> def authorName():
>     return "John Developer"
> def classFactory(iface):
>     from foss4gplugin import FOSS4GPlugin
>     return FOSS4GPlugin(iface)
> 
> Where the import line is put inside the classFactory() function and not in
> the first line of the file.
> 
> Just trying my two bits for consistency...
> 
> Cheers and keep the good work,
> Benoit
> 
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
From emmanuel.christophe at gmail.com  Mon Aug 23 05:33:31 2010
From: emmanuel.christophe at gmail.com (Emmanuel Christophe)
Date: Mon Aug 23 05:33:56 2010
Subject: [Qgis-developer] Qgis plugin and typeid issues
Message-ID: <AANLkTikZ+QN-R8tz=JUJ7s=jabVOoJdpVFtKn4fYzVX5@mail.gmail.com>

Hi all,

(sorry for double posting, the developer list seems more appropriate)

I'm working on the OTB (www.orfeo-toolbox.org) Qgis plugins: the
objective is to provide more raster processing capabilities to Qgis.
I run into a tricky C++ issue. In one particular case, one typeid
resolution does not seems to work. I believe that it is linked with
the issue mentioned here:

http://gcc.gnu.org/faq.html#dso
dynamic_cast, throw, typeid don't work with shared libraries

(I'm currently working with gcc and trying to make it work with shared
libraries).

What make me think that this is linked to this issue is that:
- the plugin is loaded using dlopen by qgis
- the typeid is created by some code compiled in the plugin (OTB uses
templates extensively, so this particular piece of OTB code is
compiled during the plugin compilation) and the resulting type_info is
passed to another dynamic library that was compiled before (during OTB
compilation).

So it seems that we are in the third case mentioned by the FAQ. In
this situation, the FAQ recommend to
"First, export global symbols from the executable by linking it with
the "-E" flag. You must also make the external symbols in the loaded
library available for subsequent libraries by providing the
RTLD_GLOBAL flag to dlopen. The symbol resolution can be immediate or
lazy."

The RTLD_GLOBAL flag seems to be provided
(src/app/qgspluginmanager.cpp:256), but I'm not sure about the -E flag
while linking. Can anybody with more experience in Qgis compilation
confirm?

Is there any other plugin I should look at for inspiration?

Emmanuel
From marco.hugentobler at sourcepole.ch  Mon Aug 23 09:43:05 2010
From: marco.hugentobler at sourcepole.ch (Marco Hugentobler)
Date: Mon Aug 23 09:43:21 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <AANLkTik+iDb5S7c99QCz_7AavEuhuh3sdCG5=pPmO_8p@mail.gmail.com>
References: <AANLkTik+iDb5S7c99QCz_7AavEuhuh3sdCG5=pPmO_8p@mail.gmail.com>
Message-ID: <201008231543.05182.marco.hugentobler@sourcepole.ch>

Hi Andrea

No GUI and no x-server is required for QGIS mapserver. 
The map picture is directly rendered into an offscreen buffer (QImage).

Regards,
Marco

Am Samstag, 21. August 2010, um 17.20:49 schrieb Andrea Peri:
> I don't know this plugin,
> 
> but remenber a very old product from ESRI called.
> "ArcView for IMS" .
> That was an extension for arcview3 to be able to produce map for the web.
> 
> The main problem was that the server must be logged in to produce a map,
> because the software need an environment and a GUI.
> Because this need of to be logged with an user to produce some maps that
> product was few usable and disappered early from market.
> 
> I don't know if qgis is able to work without an environment and a GUI.


-- 
Dr. Marco Hugentobler
Sourcepole -  Linux & Open Source Solutions
Webereistrasse 66, 8134 Adliswil, Switzerland
marco.hugentobler@sourcepole.ch http://www.sourcepole.ch
Technical Advisor QGIS Project Steering Committee
From marco.hugentobler at sourcepole.ch  Mon Aug 23 09:50:20 2010
From: marco.hugentobler at sourcepole.ch (Marco Hugentobler)
Date: Mon Aug 23 09:50:37 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <4C6FEBCF.6010907@kappasys.ch>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<4C6FE696.4080704@duif.net> <4C6FEBCF.6010907@kappasys.ch>
Message-ID: <201008231550.20248.marco.hugentobler@sourcepole.ch>

Hi all

Thank you for the feedback, the mapserver sources are now in svn.

> > By the way should you not give it an more 'snappier' name, so there is
> > no confusion with (minnesota) mapserver or the 'QGIS mapserver plugin'?
> > Paolo (as our 'marketing'-hotshot) any comments on this?
> > ... Qserver.... Qgisserver .... (mmq, qmapper already used ...)..
> > Quantumserver, Quantumserver ... whatever

> +1 for Richards remarks related to the name. Maybe we can set up a name
> polling on qgis.org?

+1 from me too. So until now we have 'Qserver', 'Qgisserver', 'Quantumserver'. 
Any other suggestions for a snappy name?

Regards,
Marco



-- 
Dr. Marco Hugentobler
Sourcepole -  Linux & Open Source Solutions
Webereistrasse 66, 8134 Adliswil, Switzerland
marco.hugentobler@sourcepole.ch http://www.sourcepole.ch
Technical Advisor QGIS Project Steering Committee
From wonder.sk at gmail.com  Mon Aug 23 09:54:31 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon Aug 23 09:54:34 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <201008221213.13045.borysiasty@aster.pl>
References: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
	<201008221049.36618.borysiasty@gmail.com>
	<AANLkTinDNGXe6FV4JhXmojkcjcJCpct50uDyFPu1j5F-@mail.gmail.com>
	<201008221213.13045.borysiasty@aster.pl>
Message-ID: <AANLkTi=XhXS=Gy5ksft0229ZaiqxRTM=mTEJCozm_1BO@mail.gmail.com>

On Sun, Aug 22, 2010 at 3:43 PM, Borys Jurgiel <borysiasty@aster.pl> wrote:
> This is one big xml file for the whole style library. Martin, I think it would
> be much easier if qgis 1.6 should grab all files in a directiory designed for
> styles, e.g. /usr/share/qgis/styles + $HOME_DIR/.qgis/styles/

Yes, I had that in my mind when creating the style library, so it
should not be a problem to extend the concept to include further style
library xml files.

Btw. regarding the hard access to creation of color ramps: a solution
that comes to my mind would be to add a new entry to the color ramp
combo box stating "Add new color ramp" - selecting it would open a
dialog for creating a new color ramp.

Cheers
Martin
From borysiasty at aster.pl  Mon Aug 23 10:07:42 2010
From: borysiasty at aster.pl (Borys Jurgiel)
Date: Mon Aug 23 10:07:46 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <AANLkTi=XhXS=Gy5ksft0229ZaiqxRTM=mTEJCozm_1BO@mail.gmail.com>
References: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
	<201008221213.13045.borysiasty@aster.pl>
	<AANLkTi=XhXS=Gy5ksft0229ZaiqxRTM=mTEJCozm_1BO@mail.gmail.com>
Message-ID: <201008231607.42580.borysiasty@aster.pl>

> Btw. regarding the hard access to creation of color ramps: a solution
> that comes to my mind would be to add a new entry to the color ramp
> combo box stating "Add new color ramp" - selecting it would open a
> dialog for creating a new color ramp.

Very nice idea. Or even a button calling the ramp manager. 

Btw. the style manager is also hardly accesible. What about adding a 'Manage 
Styles' button next to the 'Add to style' and also merging the current symbol 
preview + the Properties button into one big square button?
From nsicad at gmail.com  Mon Aug 23 10:25:47 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Mon Aug 23 10:25:49 2010
Subject: [Qgis-developer] Enchancing New Symbology - ColorRamp Edit
In-Reply-To: <AANLkTi=XhXS=Gy5ksft0229ZaiqxRTM=mTEJCozm_1BO@mail.gmail.com>
References: <AANLkTik5e1XqyfvLsKWLqgkfYQjnUmceJ0z4LZqh1N+Q@mail.gmail.com>
	<201008221049.36618.borysiasty@gmail.com>
	<AANLkTinDNGXe6FV4JhXmojkcjcJCpct50uDyFPu1j5F-@mail.gmail.com>
	<201008221213.13045.borysiasty@aster.pl>
	<AANLkTi=XhXS=Gy5ksft0229ZaiqxRTM=mTEJCozm_1BO@mail.gmail.com>
Message-ID: <AANLkTim04BCW3MwYggoobQ68tTHZkxa-QCRyhhmKeBYx@mail.gmail.com>

> Btw. regarding the hard access to creation of color ramps: a solution
> that comes to my mind would be to add a new entry to the color ramp
> combo box stating "Add new color ramp" - selecting it would open a
> dialog for creating a new color ramp.

QGIS in Windows and QGIS in Mac OS X have a different layout. In Mac
OS X, the Styte Manager is in Edit (i.e. Edit -> Style Manager).
From jr.morreale at enoreth.net  Mon Aug 23 12:02:35 2010
From: jr.morreale at enoreth.net (MORREALE Jean Roc)
Date: Mon Aug 23 12:02:42 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <201008231550.20248.marco.hugentobler@sourcepole.ch>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>	<4C6FE696.4080704@duif.net>
	<4C6FEBCF.6010907@kappasys.ch>
	<201008231550.20248.marco.hugentobler@sourcepole.ch>
Message-ID: <4C729B9B.1020200@enoreth.net>

Le 23/08/2010 15:50, Marco Hugentobler a ?crit :
> Hi all
>
> Thank you for the feedback, the mapserver sources are now in svn.
>
>>> By the way should you not give it an more 'snappier' name, so there is
>>> no confusion with (minnesota) mapserver or the 'QGIS mapserver plugin'?
>>> Paolo (as our 'marketing'-hotshot) any comments on this?
>>> ... Qserver.... Qgisserver .... (mmq, qmapper already used ...)..
>>> Quantumserver, Quantumserver ... whatever
>
>> +1 for Richards remarks related to the name. Maybe we can set up a name
>> polling on qgis.org?
>
> +1 from me too. So until now we have 'Qserver', 'Qgisserver', 'Quantumserver'.
> Any other suggestions for a snappy name?
>
> Regards,
> Marco

I have to admit that I didn't gave a try previously because I thought it 
was MapServer embedded into QGIS

I would go with QGIS Server so the filiation and the purpose are 
explicit. Let's build on the QGIS's brand !
From lists at linfiniti.com  Mon Aug 23 12:07:55 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Mon Aug 23 12:07:57 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <4C729B9B.1020200@enoreth.net>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<4C6FE696.4080704@duif.net> <4C6FEBCF.6010907@kappasys.ch>
	<201008231550.20248.marco.hugentobler@sourcepole.ch>
	<4C729B9B.1020200@enoreth.net>
Message-ID: <AANLkTikd-SU19KRb6qrjrzfZ43pyLDofRCLcRq6tEFRV@mail.gmail.com>

Hi

QGIS Server gets a +1 from me too.....maybe we should call 'QGIS'
'QGIS Desktop' now too.

Regards

Tim


On Mon, Aug 23, 2010 at 6:02 PM, MORREALE Jean Roc
<jr.morreale@enoreth.net> wrote:
> Le 23/08/2010 15:50, Marco Hugentobler a ?crit :
>>
>> Hi all
>>
>> Thank you for the feedback, the mapserver sources are now in svn.
>>
>>>> By the way should you not give it an more 'snappier' name, so there is
>>>> no confusion with (minnesota) mapserver or the 'QGIS mapserver plugin'?
>>>> Paolo (as our 'marketing'-hotshot) any comments on this?
>>>> ... Qserver.... Qgisserver .... (mmq, qmapper already used ...)..
>>>> Quantumserver, Quantumserver ... whatever
>>
>>> +1 for Richards remarks related to the name. Maybe we can set up a name
>>> polling on qgis.org?
>>
>> +1 from me too. So until now we have 'Qserver', 'Qgisserver',
>> 'Quantumserver'.
>> Any other suggestions for a snappy name?
>>
>> Regards,
>> Marco
>
> I have to admit that I didn't gave a try previously because I thought it was
> MapServer embedded into QGIS
>
> I would go with QGIS Server so the filiation and the purpose are explicit.
> Let's build on the QGIS's brand !
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton - QGIS Project Steering Committee Member (Release? Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
?* QGIS programming and support services
?* Mapserver and PostGIS based hosting plans
?* FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From borysiasty at aster.pl  Mon Aug 23 12:33:55 2010
From: borysiasty at aster.pl (Borys Jurgiel)
Date: Mon Aug 23 12:34:00 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <AANLkTikd-SU19KRb6qrjrzfZ43pyLDofRCLcRq6tEFRV@mail.gmail.com>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<4C729B9B.1020200@enoreth.net>
	<AANLkTikd-SU19KRb6qrjrzfZ43pyLDofRCLcRq6tEFRV@mail.gmail.com>
Message-ID: <201008231833.55680.borysiasty@aster.pl>

Dnia poniedzia?ek 23 sierpnia 2010 o 18:07:55 Tim Sutton napisa?(a):
> Hi
> 
> QGIS Server gets a +1 from me too.....maybe we should call 'QGIS'
> 'QGIS Desktop' now too.

+1 from me too. 
qgisserver as a dir/class/key/etc name and QGIS Sever (==QuantumGIS Server) as 
a trademark ;)
From motta.luiz at gmail.com  Mon Aug 23 13:04:28 2010
From: motta.luiz at gmail.com (motta.luiz@gmail.com)
Date: Mon Aug 23 14:09:16 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <201008231833.55680.borysiasty@aster.pl>
Message-ID: <90e6ba4fc3823059ed048e80a4f6@google.com>

Hi,

QGIS Server.

+1

The trademark is QGIS, we have Desktop, is coming soon Server, the next can  
be QGIS mobile!



Em 23/08/2010 13:33, Borys Jurgiel <borysiasty@aster.pl> escreveu:
> Dnia poniedzia?ek 23 sierpnia 2010 o 18:07:55 Tim Sutton napisa?(a):

> > Hi

> >

> > QGIS Server gets a +1 from me too.....maybe we should call 'QGIS'

> > 'QGIS Desktop' now too.



> +1 from me too.

> qgisserver as a dir/class/key/etc name and QGIS Sever (==QuantumGIS  
> Server) as

> a trademark ;)

> _______________________________________________

> Qgis-developer mailing list

> Qgis-developer@lists.osgeo.org

> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100823/96258968/attachment.html
From a.neumann at carto.net  Mon Aug 23 15:08:22 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon Aug 23 15:08:32 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <AANLkTikd-SU19KRb6qrjrzfZ43pyLDofRCLcRq6tEFRV@mail.gmail.com>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>	<4C6FE696.4080704@duif.net>
	<4C6FEBCF.6010907@kappasys.ch>	<201008231550.20248.marco.hugentobler@sourcepole.ch>	<4C729B9B.1020200@enoreth.net>
	<AANLkTikd-SU19KRb6qrjrzfZ43pyLDofRCLcRq6tEFRV@mail.gmail.com>
Message-ID: <4C72C726.2070604@carto.net>

  +0 for QGIS Server and +1 for QGIS Mobile.

While I like "QGIS Server" as a name, there may be different "QGIS 
Servers" in the future? Maybe a QGIS WFS server? Or a QGIS WPS or 
geoprocessing server? Or a QGIS printserver?

I would see "QGIS Server" as a family of upcoming potential servers and 
"QGIS WMS server" for the great work that Marco just did. I also still 
like "QGIS Mapserver" or "QGIS Webmap Server" which actually describes 
what it is - serving styled maps for web-connected devices and applications.

Any other opinions?
Andreas

On 8/23/10 6:07 PM, Tim Sutton wrote:
> Hi
>
> QGIS Server gets a +1 from me too.....maybe we should call 'QGIS'
> 'QGIS Desktop' now too.
>
> Regards
>
> Tim
>
>
> On Mon, Aug 23, 2010 at 6:02 PM, MORREALE Jean Roc
> <jr.morreale@enoreth.net>  wrote:
>> Le 23/08/2010 15:50, Marco Hugentobler a ?crit :
>>> Hi all
>>>
>>> Thank you for the feedback, the mapserver sources are now in svn.
>>>
>>>>> By the way should you not give it an more 'snappier' name, so there is
>>>>> no confusion with (minnesota) mapserver or the 'QGIS mapserver plugin'?
>>>>> Paolo (as our 'marketing'-hotshot) any comments on this?
>>>>> ... Qserver.... Qgisserver .... (mmq, qmapper already used ...)..
>>>>> Quantumserver, Quantumserver ... whatever
>>>> +1 for Richards remarks related to the name. Maybe we can set up a name
>>>> polling on qgis.org?
>>> +1 from me too. So until now we have 'Qserver', 'Qgisserver',
>>> 'Quantumserver'.
>>> Any other suggestions for a snappy name?
>>>
>>> Regards,
>>> Marco
>> I have to admit that I didn't gave a try previously because I thought it was
>> MapServer embedded into QGIS
>>
>> I would go with QGIS Server so the filiation and the purpose are explicit.
>> Let's build on the QGIS's brand !
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
>

From jr.morreale at enoreth.net  Mon Aug 23 15:58:31 2010
From: jr.morreale at enoreth.net (MORREALE Jean Roc)
Date: Mon Aug 23 15:58:39 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <4C72C726.2070604@carto.net>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>	<4C6FE696.4080704@duif.net>	<4C6FEBCF.6010907@kappasys.ch>	<201008231550.20248.marco.hugentobler@sourcepole.ch>	<4C729B9B.1020200@enoreth.net>	<AANLkTikd-SU19KRb6qrjrzfZ43pyLDofRCLcRq6tEFRV@mail.gmail.com>
	<4C72C726.2070604@carto.net>
Message-ID: <4C72D2E7.9060508@enoreth.net>

Le 23/08/2010 21:08, Andreas Neumann a ?crit :
> +0 for QGIS Server and +1 for QGIS Mobile.
>
> While I like "QGIS Server" as a name, there may be different "QGIS
> Servers" in the future? Maybe a QGIS WFS server? Or a QGIS WPS or
> geoprocessing server? Or a QGIS printserver?
>
> I would see "QGIS Server" as a family of upcoming potential servers
> and "QGIS WMS server" for the great work that Marco just did. I also
> still like "QGIS Mapserver" or "QGIS Webmap Server" which actually
> describes what it is - serving styled maps for web-connected devices
> and applications.
>
> Any other opinions? Andreas
>

mapserver is a word to avoid as it will be very difficult to search for 
it in google withouth getting all the results concerning th UMN 
MapServer, the MapServer extension in QGIS, etc.

ps : sorry for the doublon andreas, wrong button
From lists at linfiniti.com  Mon Aug 23 16:25:27 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Mon Aug 23 16:25:30 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <4C72C726.2070604@carto.net>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<4C6FE696.4080704@duif.net> <4C6FEBCF.6010907@kappasys.ch>
	<201008231550.20248.marco.hugentobler@sourcepole.ch>
	<4C729B9B.1020200@enoreth.net>
	<AANLkTikd-SU19KRb6qrjrzfZ43pyLDofRCLcRq6tEFRV@mail.gmail.com>
	<4C72C726.2070604@carto.net>
Message-ID: <AANLkTimhqtgWGuBzygBJ1kBhT6bovRUpyP5QPsRAH49i@mail.gmail.com>

Hi

On Mon, Aug 23, 2010 at 9:08 PM, Andreas Neumann <a.neumann@carto.net> wrote:
> ?+0 for QGIS Server and +1 for QGIS Mobile.
>
> While I like "QGIS Server" as a name, there may be different "QGIS Servers"
> in the future? Maybe a QGIS WFS server? Or a QGIS WPS or geoprocessing
> server? Or a QGIS printserver?

Wouldnt they all be the same server just with different service type
requests? Would be nicer than needing to deploy 4 server binaries....


>
> I would see "QGIS Server" as a family of upcoming potential servers and
> "QGIS WMS server" for the great work that Marco just did. I also still like
> "QGIS Mapserver" or "QGIS Webmap Server" which actually describes what it is
> - serving styled maps for web-connected devices and applications.
>

I love how we discuss names more than the actual thing Marco made :-)
For those who are interested, here is a quick guide to getting
started:

http://linfiniti.com/2010/08/qgis-mapserver-a-wms-server-for-the-masses/
(docs team you are welcome to reappropriate that for the next manual
if it is useful to you...)

Regards

Tim


> Any other opinions?
> Andreas
>
> On 8/23/10 6:07 PM, Tim Sutton wrote:
>>
>> Hi
>>
>> QGIS Server gets a +1 from me too.....maybe we should call 'QGIS'
>> 'QGIS Desktop' now too.
>>
>> Regards
>>
>> Tim
>>
>>
>> On Mon, Aug 23, 2010 at 6:02 PM, MORREALE Jean Roc
>> <jr.morreale@enoreth.net> ?wrote:
>>>
>>> Le 23/08/2010 15:50, Marco Hugentobler a ?crit :
>>>>
>>>> Hi all
>>>>
>>>> Thank you for the feedback, the mapserver sources are now in svn.
>>>>
>>>>>> By the way should you not give it an more 'snappier' name, so there is
>>>>>> no confusion with (minnesota) mapserver or the 'QGIS mapserver
>>>>>> plugin'?
>>>>>> Paolo (as our 'marketing'-hotshot) any comments on this?
>>>>>> ... Qserver.... Qgisserver .... (mmq, qmapper already used ...)..
>>>>>> Quantumserver, Quantumserver ... whatever
>>>>>
>>>>> +1 for Richards remarks related to the name. Maybe we can set up a name
>>>>> polling on qgis.org?
>>>>
>>>> +1 from me too. So until now we have 'Qserver', 'Qgisserver',
>>>> 'Quantumserver'.
>>>> Any other suggestions for a snappy name?
>>>>
>>>> Regards,
>>>> Marco
>>>
>>> I have to admit that I didn't gave a try previously because I thought it
>>> was
>>> MapServer embedded into QGIS
>>>
>>> I would go with QGIS Server so the filiation and the purpose are
>>> explicit.
>>> Let's build on the QGIS's brand !
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>>
>>
>>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Tim Sutton - QGIS Project Steering Committee Member (Release? Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
?* QGIS programming and support services
?* Mapserver and PostGIS based hosting plans
?* FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From benoit at exigesa.com  Mon Aug 23 16:52:23 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Mon Aug 23 16:52:42 2010
Subject: [Qgis-developer] Ending edit shapefile in Python plugin
In-Reply-To: <4C72C726.2070604@carto.net>
Message-ID: <NEBBKOODKMEEMJKCHBECKEHJJDAA.benoit@exigesa.com>

Hi Developers,

I'm playing with a plugin that allows editing of a shapefile.
When editing is finished, I want to save (commit) the changes to disk, so I
use:

  if self.theLayer.startEditing():

     #do edits here

     if self.theLayer.commitChanges():
         #all ok
         showOKMessage()
     else:
         #error
         showErrorMessage()
     self.iface.mapCanvas().refresh()

Now, the OK message is displayed and the icon of the vector, in the legend,
is changed from "in edit mode" (little black pen)  to "normal mode" (points
icon in my case). So far so good. BUT, the edit toolbar stays in "edit mode"
and I have to press twice the "toggle edit" button to sync the toolbar and
the legend.

Question is: is there a way to sync the edit toolbar on successful
commitChanges()?

I've also tried not to use commitChanges() but instead use
beginEditCommand/endEditCommand/mapCanvas().refresh() but those leave the
legend and edit toolbar in "edit mode" and I have to commit the changes
manually by clicking on the "toggle edit" button.


Any hints?

Chers,
Benoit


From a.neumann at carto.net  Mon Aug 23 17:04:06 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon Aug 23 17:04:15 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <AANLkTimhqtgWGuBzygBJ1kBhT6bovRUpyP5QPsRAH49i@mail.gmail.com>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>	<4C6FE696.4080704@duif.net>	<4C6FEBCF.6010907@kappasys.ch>	<201008231550.20248.marco.hugentobler@sourcepole.ch>	<4C729B9B.1020200@enoreth.net>	<AANLkTikd-SU19KRb6qrjrzfZ43pyLDofRCLcRq6tEFRV@mail.gmail.com>	<4C72C726.2070604@carto.net>
	<AANLkTimhqtgWGuBzygBJ1kBhT6bovRUpyP5QPsRAH49i@mail.gmail.com>
Message-ID: <4C72E246.6030402@carto.net>

  Hi,

On Mon, Aug 23, 2010 at 9:08 PM, Andreas Neumann <a.neumann@carto.net> 
wrote:
>>   +0 for QGIS Server and +1 for QGIS Mobile.
>>
>> While I like "QGIS Server" as a name, there may be different "QGIS Servers"
>> in the future? Maybe a QGIS WFS server? Or a QGIS WPS or geoprocessing
>> server? Or a QGIS printserver?
> Wouldnt they all be the same server just with different service type
> requests? Would be nicer than needing to deploy 4 server binaries....

indeed it would be nicer to have just one binary handling different 
services. If this doesn't make the thing bloated and if it is 
technically feasible.

>> I would see "QGIS Server" as a family of upcoming potential servers and
>> "QGIS WMS server" for the great work that Marco just did. I also still like
>> "QGIS Mapserver" or "QGIS Webmap Server" which actually describes what it is
>> - serving styled maps for web-connected devices and applications.
>>
> I love how we discuss names more than the actual thing Marco made :-)
> For those who are interested, here is a quick guide to getting
> started:
>
> http://linfiniti.com/2010/08/qgis-mapserver-a-wms-server-for-the-masses/
> (docs team you are welcome to reappropriate that for the next manual
> if it is useful to you...)
thanks for this first documentation.

Here are a few notes you  could  add to your blog:

* QGIS Mapserver (or however it will be called) implements WMS 1.3 only 
(not WMS 1.1.1)

* GetFeatureInfo should support: text, html, xml

* GetFeatureInfo honors some of the attribute settings of a QGIS layer: 
hidden attributes are suppressed, column aliases are used if present.

* When doing the GetCapabilities, the answer can be very slow and big, 
because for every layer, QGIS will return all available CRS. You can 
limit this list by using adding the following XML elements to the 
properties section:
<properties>
<WMSEpsgList type="QStringList">
<value>21781</value>
<value>4326</value>
</WMSEpsgList>
</properties>
QGIS will not remove these settings from the .qgs file after saving it 
from the desktop version, but currently there is no GUI to do the WMS 
settings.

* By default, QGIS Mapserver will advertise the maximum extent of all 
involved layers. This can be overridden by the following setting, again 
in the <properties> section of a .qgs file; replace with your own 
min/max settings:
<properties>
<WMSExtent type="QStringList">
<value>692000</value>
<value>241500</value>
<value>700100</value>
<value>249000</value>
</WMSExtent>
</properties>

* GetLegendGraphics should work, e.g. 
http://yourserver/cgi/qgis_mapserv.fcgi?map=/home/qgisprojects/myproject.qgs&SERVICE=WMS&REQUEST=GetLegendGraphics&FORMAT=image/png&LAYERS=hydrology&WIDTH=400

* QGIS Mapserver can handle multiple project files with one fcgi binary. 
On a first request of a newly started Apache server, the request will be 
slower, because the .qgs file has to be parsed, later requests are fast, 
because there is a cache for more .qgs files. You can use the 
"map=/home/path/to/your/project.qgs" parameter to specify which project 
you want to access

It would be nice if we could expose some of the "hidden" WMS properties 
in a GUI, somewhere in the QGIS project properties. Maybe a 
Server-Settings tab.

Andreas
From pi_ml at sourcepole.com  Mon Aug 23 17:17:58 2010
From: pi_ml at sourcepole.com (Pirmin Kalberer)
Date: Mon Aug 23 17:18:44 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <AANLkTimhqtgWGuBzygBJ1kBhT6bovRUpyP5QPsRAH49i@mail.gmail.com>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<4C72C726.2070604@carto.net>
	<AANLkTimhqtgWGuBzygBJ1kBhT6bovRUpyP5QPsRAH49i@mail.gmail.com>
Message-ID: <201008232317.58188.pi_ml@sourcepole.com>

Am Montag, 23. August 2010, um 22.25:27 schrieb Tim Sutton:
> Hi
> 
> On Mon, Aug 23, 2010 at 9:08 PM, Andreas Neumann <a.neumann@carto.net> 
wrote:
> >  +0 for QGIS Server and +1 for QGIS Mobile.
> > 
> > While I like "QGIS Server" as a name, there may be different "QGIS
> > Servers" in the future? Maybe a QGIS WFS server? Or a QGIS WPS or
> > geoprocessing server? Or a QGIS printserver?
> 
> Wouldnt they all be the same server just with different service type
> requests? Would be nicer than needing to deploy 4 server binaries....

+1 for QGIS Server
It's possible that a future server type won't fit into Marco's and Ionut's FCGI 
server. But then I propose to write a dispatcher which delegates to the 
corresponding QGIS XY server (similar to ArcGIS server, btw).

> 
> > I would see "QGIS Server" as a family of upcoming potential servers and
> > "QGIS WMS server" for the great work that Marco just did. I also still
> > like "QGIS Mapserver" or "QGIS Webmap Server" which actually describes
> > what it is - serving styled maps for web-connected devices and
> > applications.
> 
> I love how we discuss names more than the actual thing Marco made :-)
> For those who are interested, here is a quick guide to getting
> started:
> 
> http://linfiniti.com/2010/08/qgis-mapserver-a-wms-server-for-the-masses/
> (docs team you are welcome to reappropriate that for the next manual
> if it is useful to you...)

I've added one missing thing as a comment, and Andreas listed all others...
Thanks for the article.

Regards
Pirmin

-- 
Pirmin Kalberer
Sourcepole  -  Linux & Open Source Solutions
http://www.sourcepole.com
From lists at linfiniti.com  Mon Aug 23 17:24:51 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Mon Aug 23 17:24:52 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <4C72E246.6030402@carto.net>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<4C6FE696.4080704@duif.net> <4C6FEBCF.6010907@kappasys.ch>
	<201008231550.20248.marco.hugentobler@sourcepole.ch>
	<4C729B9B.1020200@enoreth.net>
	<AANLkTikd-SU19KRb6qrjrzfZ43pyLDofRCLcRq6tEFRV@mail.gmail.com>
	<4C72C726.2070604@carto.net>
	<AANLkTimhqtgWGuBzygBJ1kBhT6bovRUpyP5QPsRAH49i@mail.gmail.com>
	<4C72E246.6030402@carto.net>
Message-ID: <AANLkTikzNQUHqWpwMBTWtKMYbfyLEsDvnH7HRxpimGtQ@mail.gmail.com>

Thanks Andreas! I added your comments to the bottom of the post.

Regards

Tim

On Mon, Aug 23, 2010 at 11:04 PM, Andreas Neumann <a.neumann@carto.net> wrote:
> ?Hi,
>
> On Mon, Aug 23, 2010 at 9:08 PM, Andreas Neumann <a.neumann@carto.net>
> wrote:
>>>
>>> ?+0 for QGIS Server and +1 for QGIS Mobile.
>>>
>>> While I like "QGIS Server" as a name, there may be different "QGIS
>>> Servers"
>>> in the future? Maybe a QGIS WFS server? Or a QGIS WPS or geoprocessing
>>> server? Or a QGIS printserver?
>>
>> Wouldnt they all be the same server just with different service type
>> requests? Would be nicer than needing to deploy 4 server binaries....
>
> indeed it would be nicer to have just one binary handling different
> services. If this doesn't make the thing bloated and if it is technically
> feasible.
>
>>> I would see "QGIS Server" as a family of upcoming potential servers and
>>> "QGIS WMS server" for the great work that Marco just did. I also still
>>> like
>>> "QGIS Mapserver" or "QGIS Webmap Server" which actually describes what it
>>> is
>>> - serving styled maps for web-connected devices and applications.
>>>
>> I love how we discuss names more than the actual thing Marco made :-)
>> For those who are interested, here is a quick guide to getting
>> started:
>>
>> http://linfiniti.com/2010/08/qgis-mapserver-a-wms-server-for-the-masses/
>> (docs team you are welcome to reappropriate that for the next manual
>> if it is useful to you...)
>
> thanks for this first documentation.
>
> Here are a few notes you ?could ?add to your blog:
>
> * QGIS Mapserver (or however it will be called) implements WMS 1.3 only (not
> WMS 1.1.1)
>
> * GetFeatureInfo should support: text, html, xml
>
> * GetFeatureInfo honors some of the attribute settings of a QGIS layer:
> hidden attributes are suppressed, column aliases are used if present.
>
> * When doing the GetCapabilities, the answer can be very slow and big,
> because for every layer, QGIS will return all available CRS. You can limit
> this list by using adding the following XML elements to the properties
> section:
> <properties>
> <WMSEpsgList type="QStringList">
> <value>21781</value>
> <value>4326</value>
> </WMSEpsgList>
> </properties>
> QGIS will not remove these settings from the .qgs file after saving it from
> the desktop version, but currently there is no GUI to do the WMS settings.
>
> * By default, QGIS Mapserver will advertise the maximum extent of all
> involved layers. This can be overridden by the following setting, again in
> the <properties> section of a .qgs file; replace with your own min/max
> settings:
> <properties>
> <WMSExtent type="QStringList">
> <value>692000</value>
> <value>241500</value>
> <value>700100</value>
> <value>249000</value>
> </WMSExtent>
> </properties>
>
> * GetLegendGraphics should work, e.g.
> http://yourserver/cgi/qgis_mapserv.fcgi?map=/home/qgisprojects/myproject.qgs&SERVICE=WMS&REQUEST=GetLegendGraphics&FORMAT=image/png&LAYERS=hydrology&WIDTH=400
>
> * QGIS Mapserver can handle multiple project files with one fcgi binary. On
> a first request of a newly started Apache server, the request will be
> slower, because the .qgs file has to be parsed, later requests are fast,
> because there is a cache for more .qgs files. You can use the
> "map=/home/path/to/your/project.qgs" parameter to specify which project you
> want to access
>
> It would be nice if we could expose some of the "hidden" WMS properties in a
> GUI, somewhere in the QGIS project properties. Maybe a Server-Settings tab.
>
> Andreas
>



-- 
Tim Sutton - QGIS Project Steering Committee Member (Release? Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
?* QGIS programming and support services
?* Mapserver and PostGIS based hosting plans
?* FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From lists at linfiniti.com  Mon Aug 23 17:32:18 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Mon Aug 23 17:32:20 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <201008232317.58188.pi_ml@sourcepole.com>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<4C72C726.2070604@carto.net>
	<AANLkTimhqtgWGuBzygBJ1kBhT6bovRUpyP5QPsRAH49i@mail.gmail.com>
	<201008232317.58188.pi_ml@sourcepole.com>
Message-ID: <AANLkTin6c-x-XLEqHV2T2T+QxEbCptfDbnDfNCcz5+s9@mail.gmail.com>

Hi


>
> I've added one missing thing as a comment, and Andreas listed all others...
> Thanks for the article.
>
> Regards
> Pirmin

One other thing - did you do any load testing with it? I did a little
test using the apache benchmarking tool (sudo apt-get install
apache2-utils):

This one does 100 requests with at most 10 concurrent requests.

timlinux@timvaio:/usr/lib/cgi-bin/world$ ab -n 100 -c 10
"http://localhost/cgi-bin/world/qgis_mapserv.fcgi?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetMap&BBOX=-36.215710,6.817432,-9.700450,58.551008&CRS=EPSG:4326&WIDTH=1077&HEIGHT=552&LAYERS=Continent,Country,Cities&STYLES=,,&FORMAT=image/jpeg&DPI=96"
This is ApacheBench, Version 2.3 <$Revision: 655654 $>
Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/
Licensed to The Apache Software Foundation, http://www.apache.org/

Benchmarking localhost (be patient).....done


Server Software:        Apache/2.2.14
Server Hostname:        localhost
Server Port:            80

Document Path:
/cgi-bin/world/qgis_mapserv.fcgi?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetMap&BBOX=-36.215710,6.817432,-9.700450,58.551008&CRS=EPSG:4326&WIDTH=1077&HEIGHT=552&LAYERS=Continent,Country,Cities&STYLES=,,&FORMAT=image/jpeg&DPI=96
Document Length:        49558 bytes

Concurrency Level:      10
Time taken for tests:   39.587 seconds
Complete requests:      100
Failed requests:        0
Write errors:           0
Total transferred:      4971400 bytes
HTML transferred:       4955800 bytes
Requests per second:    2.53 [#/sec] (mean)
Time per request:       3958.659 [ms] (mean)
Time per request:       395.866 [ms] (mean, across all concurrent requests)
Transfer rate:          122.64 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    1   2.3      0      13
Processing:  3411 3930 155.7   3946    4221
Waiting:     3382 3824 140.6   3836    4110
Total:       3411 3931 155.7   3946    4221

Percentage of the requests served within a certain time (ms)
  50%   3946
  66%   3991
  75%   4016
  80%   4050
  90%   4106
  95%   4150
  98%   4212
  99%   4221
 100%   4221 (longest request)


It seems to cope ok with a number of concurrent users. A bit of
tilecache in front of it may speed things up for timing sensitive
folks (also not running it on my laptop might make it faster :-) )

Regards

Tim


-- 
Tim Sutton - QGIS Project Steering Committee Member (Release? Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
?* QGIS programming and support services
?* Mapserver and PostGIS based hosting plans
?* FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From jctull at gmail.com  Mon Aug 23 18:49:45 2010
From: jctull at gmail.com (John C. Tull)
Date: Mon Aug 23 18:50:20 2010
Subject: [Qgis-developer] Re: [Qgis-user] Qgis plugin and typeid issues
In-Reply-To: <AANLkTin_E8Ji1j0kuN5ObjFxCo75DdnT88ZeuAYdDDXS@mail.gmail.com>
References: <AANLkTin_E8Ji1j0kuN5ObjFxCo75DdnT88ZeuAYdDDXS@mail.gmail.com>
Message-ID: <D6554185-A4B2-4F50-9AAD-3A26D63986F3@gmail.com>

Hi Emmanuel,

You probably want to send this to the dev list (cc'd in this email). Good luck with your work,
John

On Aug 23, 2010, at 2:08 AM, Emmanuel Christophe wrote:

> Hi all,
> 
> I'm working on the OTB (www.orfeo-toolbox.org) Qgis plugins: the
> objective is to provide more raster processing capabilities to Qgis.
> I run into a tricky C++ issue. In one particular case, one typeid
> resolution does not seems to work. I believe that it is linked with
> the issue mentioned here:
> 
> http://gcc.gnu.org/faq.html#dso
> dynamic_cast, throw, typeid don't work with shared libraries
> 
> (I'm currently working with gcc and trying to make it work with shared
> libraries).
> 
> What make me think that this is linked to this issue is that:
> - the plugin is loaded using dlopen by qgis
> - the typeid is created by some code compiled in the plugin (OTB uses
> templates extensively, so this particular piece of OTB code is
> compiled during the plugin compilation) and the resulting type_info is
> passed to another dynamic library that was compiled before (during OTB
> compilation).
> 
> So it seems that we are in the third case mentioned by the FAQ. In
> this situation, the FAQ recommend to
> "First, export global symbols from the executable by linking it with
> the "-E" flag. You must also make the external symbols in the loaded
> library available for subsequent libraries by providing the
> RTLD_GLOBAL flag to dlopen. The symbol resolution can be immediate or
> lazy."
> 
> The RTLD_GLOBAL flag seems to be provided
> (src/app/qgspluginmanager.cpp:256), but I'm not sure about the -E flag
> while linking. Can anybody with more experience in Qgis compilation
> confirm?
> 
> Is there any other plugin I should look at for inspiration?
> 
> Emmanuel
> _______________________________________________
> Qgis-user mailing list
> Qgis-user@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-user

From jctull at gmail.com  Mon Aug 23 18:51:13 2010
From: jctull at gmail.com (John C. Tull)
Date: Mon Aug 23 18:51:17 2010
Subject: [Qgis-developer] Qgis plugin and typeid issues
In-Reply-To: <AANLkTikZ+QN-R8tz=JUJ7s=jabVOoJdpVFtKn4fYzVX5@mail.gmail.com>
References: <AANLkTikZ+QN-R8tz=JUJ7s=jabVOoJdpVFtKn4fYzVX5@mail.gmail.com>
Message-ID: <2647A5BD-1A7C-422B-B46D-4212A81199C9@gmail.com>

Hi Emmanuel,

Looks like my chronological review of email caused me to miss this.

Good luck,
John

On Aug 23, 2010, at 2:33 AM, Emmanuel Christophe wrote:

> Hi all,
> 
> (sorry for double posting, the developer list seems more appropriate)
> 
> I'm working on the OTB (www.orfeo-toolbox.org) Qgis plugins: the
> objective is to provide more raster processing capabilities to Qgis.
> I run into a tricky C++ issue. In one particular case, one typeid
> resolution does not seems to work. I believe that it is linked with
> the issue mentioned here:
> 
> http://gcc.gnu.org/faq.html#dso
> dynamic_cast, throw, typeid don't work with shared libraries
> 
> (I'm currently working with gcc and trying to make it work with shared
> libraries).
> 
> What make me think that this is linked to this issue is that:
> - the plugin is loaded using dlopen by qgis
> - the typeid is created by some code compiled in the plugin (OTB uses
> templates extensively, so this particular piece of OTB code is
> compiled during the plugin compilation) and the resulting type_info is
> passed to another dynamic library that was compiled before (during OTB
> compilation).
> 
> So it seems that we are in the third case mentioned by the FAQ. In
> this situation, the FAQ recommend to
> "First, export global symbols from the executable by linking it with
> the "-E" flag. You must also make the external symbols in the loaded
> library available for subsequent libraries by providing the
> RTLD_GLOBAL flag to dlopen. The symbol resolution can be immediate or
> lazy."
> 
> The RTLD_GLOBAL flag seems to be provided
> (src/app/qgspluginmanager.cpp:256), but I'm not sure about the -E flag
> while linking. Can anybody with more experience in Qgis compilation
> confirm?
> 
> Is there any other plugin I should look at for inspiration?
> 
> Emmanuel
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From pi_ml at sourcepole.com  Mon Aug 23 19:08:38 2010
From: pi_ml at sourcepole.com (Pirmin Kalberer)
Date: Mon Aug 23 19:08:55 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <AANLkTin6c-x-XLEqHV2T2T+QxEbCptfDbnDfNCcz5+s9@mail.gmail.com>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<201008232317.58188.pi_ml@sourcepole.com>
	<AANLkTin6c-x-XLEqHV2T2T+QxEbCptfDbnDfNCcz5+s9@mail.gmail.com>
Message-ID: <201008240108.38321.pi_ml@sourcepole.com>

Hi Tim,
Today we did the first run of the FOSS4G benchmark: 
http://wiki.osgeo.org/wiki/Benchmarking_2010
But it's too early for results...
Regards
Pirmin

Am Montag, 23. August 2010, um 23.32:18 schrieb Tim Sutton:
> Hi
> 
> > I've added one missing thing as a comment, and Andreas listed all
> > others... Thanks for the article.
> > 
> > Regards
> > Pirmin
> 
> One other thing - did you do any load testing with it? I did a little
> test using the apache benchmarking tool (sudo apt-get install
> apache2-utils):
> 
> This one does 100 requests with at most 10 concurrent requests.
> 
> timlinux@timvaio:/usr/lib/cgi-bin/world$ ab -n 100 -c 10
> "http://localhost/cgi-bin/world/qgis_mapserv.fcgi?SERVICE=WMS&VERSION=1.3.0
> &REQUEST=GetMap&BBOX=-36.215710,6.817432,-9.700450,58.551008&CRS=EPSG:4326&
> WIDTH=1077&HEIGHT=552&LAYERS=Continent,Country,Cities&STYLES=,,&FORMAT=imag
> e/jpeg&DPI=96" This is ApacheBench, Version 2.3 <$Revision: 655654 $>
> Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/
> Licensed to The Apache Software Foundation, http://www.apache.org/
> 
> Benchmarking localhost (be patient).....done
> 
> 
> Server Software:        Apache/2.2.14
> Server Hostname:        localhost
> Server Port:            80
> 
> Document Path:
> /cgi-bin/world/qgis_mapserv.fcgi?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetMap&B
> BOX=-36.215710,6.817432,-9.700450,58.551008&CRS=EPSG:4326&WIDTH=1077&HEIGHT
> =552&LAYERS=Continent,Country,Cities&STYLES=,,&FORMAT=image/jpeg&DPI=96
> Document Length:        49558 bytes
> 
> Concurrency Level:      10
> Time taken for tests:   39.587 seconds
> Complete requests:      100
> Failed requests:        0
> Write errors:           0
> Total transferred:      4971400 bytes
> HTML transferred:       4955800 bytes
> Requests per second:    2.53 [#/sec] (mean)
> Time per request:       3958.659 [ms] (mean)
> Time per request:       395.866 [ms] (mean, across all concurrent requests)
> Transfer rate:          122.64 [Kbytes/sec] received
> 
> Connection Times (ms)
>               min  mean[+/-sd] median   max
> Connect:        0    1   2.3      0      13
> Processing:  3411 3930 155.7   3946    4221
> Waiting:     3382 3824 140.6   3836    4110
> Total:       3411 3931 155.7   3946    4221
> 
> Percentage of the requests served within a certain time (ms)
>   50%   3946
>   66%   3991
>   75%   4016
>   80%   4050
>   90%   4106
>   95%   4150
>   98%   4212
>   99%   4221
>  100%   4221 (longest request)
> 
> 
> It seems to cope ok with a number of concurrent users. A bit of
> tilecache in front of it may speed things up for timing sensitive
> folks (also not running it on my laptop might make it faster :-) )
> 
> Regards
> 
> Tim


-- 
Pirmin Kalberer
Sourcepole  -  Linux & Open Source Solutions
http://www.sourcepole.com
From nsicad at gmail.com  Mon Aug 23 19:51:41 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Mon Aug 23 19:51:43 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <201008240108.38321.pi_ml@sourcepole.com>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<201008232317.58188.pi_ml@sourcepole.com>
	<AANLkTin6c-x-XLEqHV2T2T+QxEbCptfDbnDfNCcz5+s9@mail.gmail.com>
	<201008240108.38321.pi_ml@sourcepole.com>
Message-ID: <AANLkTinPFXz_G6bV4yagZgeVfHsiwBTfBkXGdU-SbwF1@mail.gmail.com>

Any Mac OS X binary (*.dmg) for QGIS Mapserver?

Noli
From woklist at kyngchaos.com  Mon Aug 23 19:55:30 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Mon Aug 23 19:55:34 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <AANLkTinPFXz_G6bV4yagZgeVfHsiwBTfBkXGdU-SbwF1@mail.gmail.com>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<201008232317.58188.pi_ml@sourcepole.com>
	<AANLkTin6c-x-XLEqHV2T2T+QxEbCptfDbnDfNCcz5+s9@mail.gmail.com>
	<201008240108.38321.pi_ml@sourcepole.com>
	<AANLkTinPFXz_G6bV4yagZgeVfHsiwBTfBkXGdU-SbwF1@mail.gmail.com>
Message-ID: <03D5E433-D83B-417A-94AD-84E17877ADA8@kyngchaos.com>

I made a Qgis dev build this weekend after updating the xcode project with the new mapserver stuff.  See my site.  I figured it was used within Qgis somehow, so it's part of the Qgis distribution.

On Aug 23, 2010, at 6:51 PM, Noli Sicad wrote:

> Any Mac OS X binary (*.dmg) for QGIS Mapserver?
> 
> Noli
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Those people who most want to rule people are, ipso-facto, those least suited to do it."

- A rule of the universe, from the HitchHiker's Guide to the Galaxy


From nsicad at gmail.com  Mon Aug 23 20:33:25 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Mon Aug 23 20:33:27 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <03D5E433-D83B-417A-94AD-84E17877ADA8@kyngchaos.com>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<201008232317.58188.pi_ml@sourcepole.com>
	<AANLkTin6c-x-XLEqHV2T2T+QxEbCptfDbnDfNCcz5+s9@mail.gmail.com>
	<201008240108.38321.pi_ml@sourcepole.com>
	<AANLkTinPFXz_G6bV4yagZgeVfHsiwBTfBkXGdU-SbwF1@mail.gmail.com>
	<03D5E433-D83B-417A-94AD-84E17877ADA8@kyngchaos.com>
Message-ID: <AANLkTi=pcMgtdF88pYMs5kjOeFS_aGBkvR629ieWYUax@mail.gmail.com>

Hi,

I could not figure out what exactly you are saying about the new QGIS
Mapserver, not original Mapserver.

http://www.kyngchaos.com/software/qgis

I downloaded and installed stuff from your site, 12 hours ago. Which
one should I download that includes the "QGIS Mapserver"?

Thanks.

Noli


On 8/24/10, William Kyngesburye <woklist@kyngchaos.com> wrote:
> I made a Qgis dev build this weekend after updating the xcode project with
> the new mapserver stuff.  See my site.  I figured it was used within Qgis
> somehow, so it's part of the Qgis distribution.
>
> On Aug 23, 2010, at 6:51 PM, Noli Sicad wrote:
>
>> Any Mac OS X binary (*.dmg) for QGIS Mapserver?
>>
>> Noli
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> "Those people who most want to rule people are, ipso-facto, those least
> suited to do it."
>
> - A rule of the universe, from the HitchHiker's Guide to the Galaxy
>
>
>
From woklist at kyngchaos.com  Mon Aug 23 20:41:37 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Mon Aug 23 20:41:40 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <AANLkTi=pcMgtdF88pYMs5kjOeFS_aGBkvR629ieWYUax@mail.gmail.com>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<201008232317.58188.pi_ml@sourcepole.com>
	<AANLkTin6c-x-XLEqHV2T2T+QxEbCptfDbnDfNCcz5+s9@mail.gmail.com>
	<201008240108.38321.pi_ml@sourcepole.com>
	<AANLkTinPFXz_G6bV4yagZgeVfHsiwBTfBkXGdU-SbwF1@mail.gmail.com>
	<03D5E433-D83B-417A-94AD-84E17877ADA8@kyngchaos.com>
	<AANLkTi=pcMgtdF88pYMs5kjOeFS_aGBkvR629ieWYUax@mail.gmail.com>
Message-ID: <5F2016DD-9361-4160-AC74-7606FB92B971@kyngchaos.com>


On Aug 23, 2010, at 7:33 PM, Noli Sicad wrote:

> Hi,
> 
> I could not figure out what exactly you are saying about the new QGIS
> Mapserver, not original Mapserver.
> 
> http://www.kyngchaos.com/software/qgis
> 
> I downloaded and installed stuff from your site, 12 hours ago. Which
> one should I download that includes the "QGIS Mapserver"?
> 
> Thanks.
> 
> Noli
> 
> 
> On 8/24/10, William Kyngesburye <woklist@kyngchaos.com> wrote:
>> I made a Qgis dev build this weekend after updating the xcode project with
>> the new mapserver stuff.  See my site.  I figured it was used within Qgis
>> somehow, so it's part of the Qgis distribution.
>> 

The dev build of Qgis.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Time is an illusion - lunchtime doubly so."

- Ford Prefect


From nsicad at gmail.com  Mon Aug 23 20:43:52 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Mon Aug 23 20:43:54 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <AANLkTi=pcMgtdF88pYMs5kjOeFS_aGBkvR629ieWYUax@mail.gmail.com>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<201008232317.58188.pi_ml@sourcepole.com>
	<AANLkTin6c-x-XLEqHV2T2T+QxEbCptfDbnDfNCcz5+s9@mail.gmail.com>
	<201008240108.38321.pi_ml@sourcepole.com>
	<AANLkTinPFXz_G6bV4yagZgeVfHsiwBTfBkXGdU-SbwF1@mail.gmail.com>
	<03D5E433-D83B-417A-94AD-84E17877ADA8@kyngchaos.com>
	<AANLkTi=pcMgtdF88pYMs5kjOeFS_aGBkvR629ieWYUax@mail.gmail.com>
Message-ID: <AANLkTimoPZzJEDbNgtCEt3KZuUtKHP+CHb3hMO_B7YyG@mail.gmail.com>

Hi William,

If I download and install this Dev Builds

Qgis r14124 for Snow Leopard (64bit Qt 4.6 Cocoa) [70.7 MiB]. {GDAL
1.7 Complete, GSL}

Would I get the new QGIS Mapserver as well?

Thanks.

Noli

(P.S. I am in mobile 3G broadband plan, quite limit download, hence I
just to make it sure that this is the right stuff, so go over my
monthly limit)


On 8/24/10, Noli Sicad <nsicad@gmail.com> wrote:
> Hi,
>
> I could not figure out what exactly you are saying about the new QGIS
> Mapserver, not original Mapserver.
>
> http://www.kyngchaos.com/software/qgis
>
> I downloaded and installed stuff from your site, 12 hours ago. Which
> one should I download that includes the "QGIS Mapserver"?
>
> Thanks.
>
> Noli
>
>
> On 8/24/10, William Kyngesburye <woklist@kyngchaos.com> wrote:
>> I made a Qgis dev build this weekend after updating the xcode project
>> with
>> the new mapserver stuff.  See my site.  I figured it was used within Qgis
>> somehow, so it's part of the Qgis distribution.
>>
>> On Aug 23, 2010, at 6:51 PM, Noli Sicad wrote:
>>
>>> Any Mac OS X binary (*.dmg) for QGIS Mapserver?
>>>
>>> Noli
>>> _______________________________________________
>>> Qgis-developer mailing list
>>> Qgis-developer@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>> -----
>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>> http://www.kyngchaos.com/
>>
>> "Those people who most want to rule people are, ipso-facto, those least
>> suited to do it."
>>
>> - A rule of the universe, from the HitchHiker's Guide to the Galaxy
>>
>>
>>
>
From woklist at kyngchaos.com  Mon Aug 23 20:54:30 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Mon Aug 23 20:54:33 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <AANLkTimoPZzJEDbNgtCEt3KZuUtKHP+CHb3hMO_B7YyG@mail.gmail.com>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<201008232317.58188.pi_ml@sourcepole.com>
	<AANLkTin6c-x-XLEqHV2T2T+QxEbCptfDbnDfNCcz5+s9@mail.gmail.com>
	<201008240108.38321.pi_ml@sourcepole.com>
	<AANLkTinPFXz_G6bV4yagZgeVfHsiwBTfBkXGdU-SbwF1@mail.gmail.com>
	<03D5E433-D83B-417A-94AD-84E17877ADA8@kyngchaos.com>
	<AANLkTi=pcMgtdF88pYMs5kjOeFS_aGBkvR629ieWYUax@mail.gmail.com>
	<AANLkTimoPZzJEDbNgtCEt3KZuUtKHP+CHb3hMO_B7YyG@mail.gmail.com>
Message-ID: <8EAA6186-00AB-4AA7-8C9A-EFF272F9A682@kyngchaos.com>

Yes, the new Qgis mapserver is in the dev build.

On Aug 23, 2010, at 7:43 PM, Noli Sicad wrote:

> Hi William,
> 
> If I download and install this Dev Builds
> 
> Qgis r14124 for Snow Leopard (64bit Qt 4.6 Cocoa) [70.7 MiB]. {GDAL
> 1.7 Complete, GSL}
> 
> Would I get the new QGIS Mapserver as well?
> 
> Thanks.
> 
> Noli
> 
> (P.S. I am in mobile 3G broadband plan, quite limit download, hence I
> just to make it sure that this is the right stuff, so go over my
> monthly limit)
> 
> 
> On 8/24/10, Noli Sicad <nsicad@gmail.com> wrote:
>> Hi,
>> 
>> I could not figure out what exactly you are saying about the new QGIS
>> Mapserver, not original Mapserver.
>> 
>> http://www.kyngchaos.com/software/qgis
>> 
>> I downloaded and installed stuff from your site, 12 hours ago. Which
>> one should I download that includes the "QGIS Mapserver"?
>> 
>> Thanks.
>> 
>> Noli
>> 
>> 
>> On 8/24/10, William Kyngesburye <woklist@kyngchaos.com> wrote:
>>> I made a Qgis dev build this weekend after updating the xcode project
>>> with
>>> the new mapserver stuff.  See my site.  I figured it was used within Qgis
>>> somehow, so it's part of the Qgis distribution.
>>> 

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

Theory of the Universe

There is a theory which states that if ever anyone discovers exactly what the universe is for and why it is here, it will instantly disappear and be replaced by something even more bizarrely inexplicable.  There is another theory which states that this has already happened.

-Hitchhiker's Guide to the Galaxy 2nd season intro


From nsicad at gmail.com  Mon Aug 23 21:02:04 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Mon Aug 23 21:02:06 2010
Subject: [Qgis-developer] Integration of QGIS mapserver to svn?
In-Reply-To: <8EAA6186-00AB-4AA7-8C9A-EFF272F9A682@kyngchaos.com>
References: <201008201008.15655.marco.hugentobler@sourcepole.ch>
	<201008232317.58188.pi_ml@sourcepole.com>
	<AANLkTin6c-x-XLEqHV2T2T+QxEbCptfDbnDfNCcz5+s9@mail.gmail.com>
	<201008240108.38321.pi_ml@sourcepole.com>
	<AANLkTinPFXz_G6bV4yagZgeVfHsiwBTfBkXGdU-SbwF1@mail.gmail.com>
	<03D5E433-D83B-417A-94AD-84E17877ADA8@kyngchaos.com>
	<AANLkTi=pcMgtdF88pYMs5kjOeFS_aGBkvR629ieWYUax@mail.gmail.com>
	<AANLkTimoPZzJEDbNgtCEt3KZuUtKHP+CHb3hMO_B7YyG@mail.gmail.com>
	<8EAA6186-00AB-4AA7-8C9A-EFF272F9A682@kyngchaos.com>
Message-ID: <AANLkTim1zJXitSd_X3bL3wNpFRY67opBAc3-nqpbLrkh@mail.gmail.com>

William, Thanks a lot.

Noli

On 8/24/10, William Kyngesburye <woklist@kyngchaos.com> wrote:
> Yes, the new Qgis mapserver is in the dev build.
>
> On Aug 23, 2010, at 7:43 PM, Noli Sicad wrote:
>
>> Hi William,
>>
>> If I download and install this Dev Builds
>>
>> Qgis r14124 for Snow Leopard (64bit Qt 4.6 Cocoa) [70.7 MiB]. {GDAL
>> 1.7 Complete, GSL}
>>
>> Would I get the new QGIS Mapserver as well?
>>
>> Thanks.
>>
>> Noli
>>
>> (P.S. I am in mobile 3G broadband plan, quite limit download, hence I
>> just to make it sure that this is the right stuff, so go over my
>> monthly limit)
>>
>>
>> On 8/24/10, Noli Sicad <nsicad@gmail.com> wrote:
>>> Hi,
>>>
>>> I could not figure out what exactly you are saying about the new QGIS
>>> Mapserver, not original Mapserver.
>>>
>>> http://www.kyngchaos.com/software/qgis
>>>
>>> I downloaded and installed stuff from your site, 12 hours ago. Which
>>> one should I download that includes the "QGIS Mapserver"?
>>>
>>> Thanks.
>>>
>>> Noli
>>>
>>>
>>> On 8/24/10, William Kyngesburye <woklist@kyngchaos.com> wrote:
>>>> I made a Qgis dev build this weekend after updating the xcode project
>>>> with
>>>> the new mapserver stuff.  See my site.  I figured it was used within
>>>> Qgis
>>>> somehow, so it's part of the Qgis distribution.
>>>>
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> Theory of the Universe
>
> There is a theory which states that if ever anyone discovers exactly what
> the universe is for and why it is here, it will instantly disappear and be
> replaced by something even more bizarrely inexplicable.  There is another
> theory which states that this has already happened.
>
> -Hitchhiker's Guide to the Galaxy 2nd season intro
>
>
>
From mnazari2020 at gmail.com  Mon Aug 23 23:36:28 2010
From: mnazari2020 at gmail.com (M Nazari (gmail))
Date: Mon Aug 23 23:36:31 2010
Subject: [Qgis-developer] Help: C++ Plugin Devt Procedure
Message-ID: <AANLkTi=65fDqJ3EUbOTFhWMkXcPpyYkWEhy0QboBp5Hv@mail.gmail.com>

Hi everyone,

I am new at QGIS Plugin development.  I have been wrestling with C++ plugin
development - have tried Visual C++ but have all sorts of difficulties.  It
compiled OK but it failed to carry qgis_core dependencies. Compiled it
different way, qt_wrap_ui or something is the error.

Straight to the point - do we have a "step-by step" plugin development
document? I have tested the one in the guidelines - but I guess it is
outdated or it could be me(?).

This novice QGIS plugin writer desperately needs some pointers.

Thanking you in advance,

Nazari Jaafar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100824/69a7a6b9/attachment.html
From nsicad at gmail.com  Tue Aug 24 01:19:37 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Tue Aug 24 01:19:39 2010
Subject: [Qgis-developer] QGIS - WMS and WFS - Pakistan Flood
Message-ID: <AANLkTim2f7VyTp=AW3kVf9=Ot6hwt8kFuDoOuWrRX3hi@mail.gmail.com>

Hi,

I am trying out the capabilities of QGIS in opening / rendering WMS
and WFS servers.

No QGIS on this page yet, it all Arc.

http://ags.pdc.org/rest/services/Pakistan/PAKISTAN_FLOOD/MapServer

Howerver at the bottom, there is WMS and WFS

"Supported Interfaces:   REST    SOAP    WMS    WFS    WCS"

Please try opening WMS with QGIS and see the error.

WFS seems to work but still QGIS complaints :-)

How can we make QGIS comply with this "Arcgis server"?

Noli
From lists at linfiniti.com  Tue Aug 24 06:14:47 2010
From: lists at linfiniti.com (Tim Sutton)
Date: Tue Aug 24 06:14:49 2010
Subject: [Qgis-developer] Help: C++ Plugin Devt Procedure
In-Reply-To: <AANLkTi=65fDqJ3EUbOTFhWMkXcPpyYkWEhy0QboBp5Hv@mail.gmail.com>
References: <AANLkTi=65fDqJ3EUbOTFhWMkXcPpyYkWEhy0QboBp5Hv@mail.gmail.com>
Message-ID: <AANLkTi=L8gj1NEzXTh0fczJXCfYM7vAjfA+DuNXRLbo+@mail.gmail.com>

Hi

The simplest way to do it is probably just to create your plugin
within the QGIS code tree (under /src/plugins). Assuming you have a
working QGIS build environment, building your own plugin then shouldnt
present any hassles.


Regards

Tim

On Tue, Aug 24, 2010 at 5:36 AM, M Nazari (gmail) <mnazari2020@gmail.com> wrote:
> Hi everyone,
>
> I am new at QGIS Plugin development. ?I have been wrestling with C++ plugin
> development - have tried Visual C++ but have all sorts of difficulties. ?It
> compiled OK but it failed to carry qgis_core dependencies. Compiled it
> different way, qt_wrap_ui or something is the error.
>
> Straight to the point - do we have a "step-by step" plugin development
> document? I have tested the one in the guidelines - but I guess it is
> outdated or it could be me(?).
>
> This novice QGIS plugin writer desperately needs some pointers.
>
> Thanking you in advance,
>
> Nazari Jaafar
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
>



-- 
Tim Sutton - QGIS Project Steering Committee Member (Release? Manager)
==============================================
Please do not email me off-list with technical
support questions. Using the lists will gain
more exposure for your issues and the knowledge
surrounding your issue will be shared with all.

Visit http://linfiniti.com to find out about:
?* QGIS programming and support services
?* Mapserver and PostGIS based hosting plans
?* FOSS Consulting Services
Skype: timlinux
Irc: timlinux on #qgis at freenode.net
==============================================
From benoit at exigesa.com  Tue Aug 24 13:24:03 2010
From: benoit at exigesa.com (Benoit de Cabissole)
Date: Tue Aug 24 13:24:29 2010
Subject: [Qgis-developer] Ending edit shapefile in Python plugin
In-Reply-To: <NEBBKOODKMEEMJKCHBECKEHJJDAA.benoit@exigesa.com>
Message-ID: <NEBBKOODKMEEMJKCHBECMEHPJDAA.benoit@exigesa.com>

To whom may be interested,

A workaround to the problem described below is to call:
   self.theLayer.setSelectedFeatures([])
after
   self.iface.mapCanvas().refresh()

This will reset the edit toolbar to the correct state (no edit).

I do not think it is the correct way of doing things but it works!

Cheers,
Benoit

> Sent: Monday, 23 August 2010 22:52
> To: qgis-developer@lists.osgeo.org
> Subject: [Qgis-developer] Ending edit shapefile in Python plugin
>
>
> Hi Developers,
>
> I'm playing with a plugin that allows editing of a shapefile.
> When editing is finished, I want to save (commit) the changes to
> disk, so I
> use:
>
>   if self.theLayer.startEditing():
>
>      #do edits here
>
>      if self.theLayer.commitChanges():
>          #all ok
>          showOKMessage()
>      else:
>          #error
>          showErrorMessage()
>      self.iface.mapCanvas().refresh()
>
> Now, the OK message is displayed and the icon of the vector, in
> the legend,
> is changed from "in edit mode" (little black pen)  to "normal
> mode" (points
> icon in my case). So far so good. BUT, the edit toolbar stays in
> "edit mode"
> and I have to press twice the "toggle edit" button to sync the toolbar and
> the legend.
>
> Question is: is there a way to sync the edit toolbar on successful
> commitChanges()?
>
> I've also tried not to use commitChanges() but instead use
> beginEditCommand/endEditCommand/mapCanvas().refresh() but those leave the
> legend and edit toolbar in "edit mode" and I have to commit the changes
> manually by clicking on the "toggle edit" button.
>
>
> Any hints?
>
> Chers,
> Benoit
>
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer

From tkeitt at gmail.com  Tue Aug 24 13:41:46 2010
From: tkeitt at gmail.com (Tim Keitt)
Date: Tue Aug 24 13:41:49 2010
Subject: [Qgis-developer] Question on valid shapefiles
Message-ID: <AANLkTimgFVrY5Lpd8k+upxzewAX2USXp7Jt93-rVpdwv@mail.gmail.com>

I am using OGR to write output from an application. The first few
lines from 'ogrinfo -al' is shown below. QGIS will not load it,
however I can display the line strings in R using rgdal. Is the
problem that the FID is type REAL? Can QGIS handle the "Line String"
type? I am not yet assigning an SRS either.

THK

INFO: Open of `test_mesh.shp'
      using driver `ESRI Shapefile' successful.

Layer name: test_mesh
Geometry: Line String
Feature Count: 32
Extent: (-2.606171, -0.077198) - (-1.017908, 1.051899)
Layer SRS WKT:
(unknown)
FID: Real (11.0)
OGRFeature(test_mesh):0
  FID (Real) =           0
  LINESTRING (-2.187155438493099 0.038231550177175,-1.944544004528339
0.53448727172605)



-- 
Timothy H. Keitt
http://www.keittlab.org/
From rdmailings at duif.net  Tue Aug 24 16:06:48 2010
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Tue Aug 24 16:11:05 2010
Subject: [Qgis-developer] QGIS - WMS and WFS - Pakistan Flood
In-Reply-To: <AANLkTim2f7VyTp=AW3kVf9=Ot6hwt8kFuDoOuWrRX3hi@mail.gmail.com>
References: <AANLkTim2f7VyTp=AW3kVf9=Ot6hwt8kFuDoOuWrRX3hi@mail.gmail.com>
Message-ID: <4C742658.6030409@duif.net>

Noli Sicad wrote:
> Hi,
> 
> I am trying out the capabilities of QGIS in opening / rendering WMS
> and WFS servers.
> 
> No QGIS on this page yet, it all Arc.
> 
> http://ags.pdc.org/rest/services/Pakistan/PAKISTAN_FLOOD/MapServer
> 
> Howerver at the bottom, there is WMS and WFS
> 
> "Supported Interfaces:   REST    SOAP    WMS    WFS    WCS"
> 
> Please try opening WMS with QGIS and see the error.
> 
> WFS seems to work but still QGIS complaints :-)
> 
> How can we make QGIS comply with this "Arcgis server"?

Hi Noli,

the WMS is working, though the working URL is a little 'hidden'.
use:
http://agsprod.pdc.org/arcgis/Pakistan/PAKISTAN_FLOOD/MapServer/WMSServer?

Some explanation:

If you click on the WMS-word/link in the Supported Interfaces on the 
page, you get the following url:
http://agsprod.pdc.org/arcgis/Pakistan/PAKISTAN_FLOOD/MapServer/WMSServer?request=GetCapabilities&service=WMS

Qgis actually adds 'SERVICE=WMS&REQUEST=GetCapabilities' to the url for 
retrieving the capabilities, which makes it:
http://agsprod.pdc.org/arcgis/Pakistan/PAKISTAN_FLOOD/MapServer/WMSServer?request=GetCapabilities&service=WMS&SERVICE=WMS&REQUEST=GetCapabilities
apparently the (arcgis?) mapserver behind it chokes on this, giving 
"Can't parse XML request." (try in browser if you want to see the error)

If you use:
http://agsprod.pdc.org/arcgis/Pakistan/PAKISTAN_FLOOD/MapServer/WMSServer?
as wms base url in qgis you get a full list of layers.
BUT it will ask you if the url you gave should be used or the url's from 
the capabilities for the GetMap and GetFeatureInfo request (qgis asks 
this because the 'advertised urls are not the same as the base url). If 
you say 'No' there on both question the checkboxes "Ignore GetMap URL" 
and "Ignore GetFeature URL" will be checked, which makes QGIS use your 
own base url above for all it's url's. In this way it works. You can 
also anwer 'yes' to the questions, and check the checkboxes by hand off 
course.

So I would say: the administrator of the service has some work to do, 
but Qgis can handle this 'Arcgis server' :-)

Good Luck

Richard Duivenvoorde

ps1 I had some troubles first to get some visible layers, but keep trying
ps2 this looks more like a user list question to be honest


From lucadeluge at gmail.com  Wed Aug 25 06:16:26 2010
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Wed Aug 25 06:16:29 2010
Subject: [Qgis-developer] qgis mapserver error
Message-ID: <AANLkTinCi07_r=XU5HwrJpqdRdMMJ_sMRXF9v0m6pJE-@mail.gmail.com>

Hi everybody, i tested qgis mapserver, but when i try the
getcapabilities request i have this error [0]; i follow the example of
tim in his blog [1]
Someone can help me?

thanks
Luca

[0] http://pastebin.com/08fNh3ZA
[1] http://linfiniti.com/2010/08/qgis-mapserver-a-wms-server-for-the-masses/
From pi_ml at sourcepole.com  Wed Aug 25 07:41:50 2010
From: pi_ml at sourcepole.com (Pirmin Kalberer)
Date: Wed Aug 25 07:42:06 2010
Subject: [Qgis-developer] qgis mapserver error
In-Reply-To: <AANLkTinCi07_r=XU5HwrJpqdRdMMJ_sMRXF9v0m6pJE-@mail.gmail.com>
References: <AANLkTinCi07_r=XU5HwrJpqdRdMMJ_sMRXF9v0m6pJE-@mail.gmail.com>
Message-ID: <201008251341.50691.pi_ml@sourcepole.com>

Hi Luca,

Could you send me the full output - get it e.g. with wget -O cap.xml 
'http://localhost/cgi-
bin/test_qgis_mapserver/qgis_mapserv.fcgi?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities'

Marco is offline this week, so no help from him...

Regards
Pirmin

Am Mittwoch, 25. August 2010, um 12.16:26 schrieb Luca Delucchi:
> Hi everybody, i tested qgis mapserver, but when i try the
> getcapabilities request i have this error [0]; i follow the example of
> tim in his blog [1]
> Someone can help me?
> 
> thanks
> Luca
> 
> [0] http://pastebin.com/08fNh3ZA
> [1]
> http://linfiniti.com/2010/08/qgis-mapserver-a-wms-server-for-the-masses/
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer


-- 
Pirmin Kalberer
Sourcepole  -  Linux & Open Source Solutions
http://www.sourcepole.com
From lucadeluge at gmail.com  Wed Aug 25 07:45:45 2010
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Wed Aug 25 07:45:47 2010
Subject: [Qgis-developer] qgis mapserver error
In-Reply-To: <201008251341.50691.pi_ml@sourcepole.com>
References: <AANLkTinCi07_r=XU5HwrJpqdRdMMJ_sMRXF9v0m6pJE-@mail.gmail.com>
	<201008251341.50691.pi_ml@sourcepole.com>
Message-ID: <AANLkTik1E9-TyJYUdz+OgHE0Z5FfNF99sFew8O-Y=HQY@mail.gmail.com>

2010/8/25 Pirmin Kalberer <pi_ml@sourcepole.com>:
> Hi Luca,
>
> Could you send me the full output - get it e.g. with wget -O cap.xml
> 'http://localhost/cgi-
> bin/test_qgis_mapserver/qgis_mapserv.fcgi?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities'
>

in attachment you find the file....

>
> Regards
> Pirmin
>

thank's
Luca
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cap.xml
Type: text/xml
Size: 177 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100825/337b9846/cap.xml
From pi_ml at sourcepole.com  Wed Aug 25 08:03:17 2010
From: pi_ml at sourcepole.com (Pirmin Kalberer)
Date: Wed Aug 25 08:03:34 2010
Subject: [Qgis-developer] qgis mapserver error
In-Reply-To: <AANLkTik1E9-TyJYUdz+OgHE0Z5FfNF99sFew8O-Y=HQY@mail.gmail.com>
References: <AANLkTinCi07_r=XU5HwrJpqdRdMMJ_sMRXF9v0m6pJE-@mail.gmail.com>
	<201008251341.50691.pi_ml@sourcepole.com>
	<AANLkTik1E9-TyJYUdz+OgHE0Z5FfNF99sFew8O-Y=HQY@mail.gmail.com>
Message-ID: <201008251403.18570.pi_ml@sourcepole.com>

Hi Luca,
The error message says "Configuration file problem", which means, that no valid 
configuration (SLD or QGS file) was found.
I guess that the world.qgis file in the test_qgis_mapserver directory is either 
missing or not readeable for the Apache process.
That the error XML message isn't valid is a bug...
Regards
Pirmin

Am Mittwoch, 25. August 2010, um 13.45:45 schrieb Luca Delucchi:
> 2010/8/25 Pirmin Kalberer <pi_ml@sourcepole.com>:
> > Hi Luca,
> > 
> > Could you send me the full output - get it e.g. with wget -O cap.xml
> > 'http://localhost/cgi-
> > bin/test_qgis_mapserver/qgis_mapserv.fcgi?SERVICE=WMS&VERSION=1.3.0&REQUE
> > ST=GetCapabilities'
> 
> in attachment you find the file....
> 
> > Regards
> > Pirmin
> 
> thank's
> Luca


-- 
Pirmin Kalberer
Sourcepole  -  Linux & Open Source Solutions
http://www.sourcepole.com
From hammack at GotSlack.org  Wed Aug 25 09:44:44 2010
From: hammack at GotSlack.org (Jim Hammack)
Date: Wed Aug 25 09:44:48 2010
Subject: [Qgis-developer] qgis mapserver error
In-Reply-To: <AANLkTinCi07_r=XU5HwrJpqdRdMMJ_sMRXF9v0m6pJE-@mail.gmail.com>
References: <AANLkTinCi07_r=XU5HwrJpqdRdMMJ_sMRXF9v0m6pJE-@mail.gmail.com>
Message-ID: <4C751E4C.5060507@GotSlack.org>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100825/65a7c6db/attachment.html
From woklist at kyngchaos.com  Wed Aug 25 20:55:28 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Aug 25 20:55:30 2010
Subject: [Qgis-developer] old cvsignore files in svn
Message-ID: <519C44B0-B81D-48ED-A332-56AFD1A454B8@kyngchaos.com>

As I was updating the xcode project with all the new svg images, I noticed a bunch of old .cvsignore files in existing folders.  I don't think they have any affect on svn usage, so they can be deleted?

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"We are at war with them. Neither in hatred nor revenge and with no particular pleasure I shall kill every ___ I can until the war is over. That is my duty."

"Don't you even hate 'em?"

"What good would it do if I did? If all the many millions of people of the allied nations devoted an entire year exclusively to hating the ____ it wouldn't kill one ___ nor shorten the war one day."

<Ha, ha> "And it might give 'em all stomach ulcers."

- Tarzan, on war

From lucadeluge at gmail.com  Thu Aug 26 07:59:08 2010
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Thu Aug 26 07:59:13 2010
Subject: [Qgis-developer] qgis mapserver error
In-Reply-To: <201008251403.18570.pi_ml@sourcepole.com>
References: <AANLkTinCi07_r=XU5HwrJpqdRdMMJ_sMRXF9v0m6pJE-@mail.gmail.com>
	<201008251341.50691.pi_ml@sourcepole.com>
	<AANLkTik1E9-TyJYUdz+OgHE0Z5FfNF99sFew8O-Y=HQY@mail.gmail.com>
	<201008251403.18570.pi_ml@sourcepole.com>
Message-ID: <AANLkTinudxgnW9kU5CEPvOFeeY5Wc_YMMq0Ef0jcgb63@mail.gmail.com>

2010/8/25 Pirmin Kalberer <pi_ml@sourcepole.com>:
> Hi Luca,
> The error message says "Configuration file problem", which means, that no valid
> configuration (SLD or QGS file) was found.
> I guess that the world.qgis file in the test_qgis_mapserver directory is either
> missing or not readeable for the Apache process.

i have the file, this is my files inside test_qgis_mapserver

ls -lh /usr/lib/cgi-bin/test_qgis_mapserver/
total 20K
lrwxrwxrwx 1 root root   67 2010-08-24 09:45 qgis_mapserv.fcgi ->
/home/luca/compilati/qgis_svn/build/src/mapserver/qgis_mapserv.fcgi
-rwxr-xr-x 1 root root 1.5K 2010-08-24 10:06 wms_metadata.xml
-rwxr-xr-x 1 root root 9.3K 2010-08-25 17:50 world.qgs

> That the error XML message isn't valid is a bug...

ok

> Regards
> Pirmin
>

regards
Luca
From andreasplesch at netscape.net  Thu Aug 26 17:19:04 2010
From: andreasplesch at netscape.net (Andreas Plesch)
Date: Thu Aug 26 17:19:29 2010
Subject: [Qgis-developer] small update to shaded relief plugin
Message-ID: <AANLkTin1MKjYxQney7mXR8_B1PMWdkWE=dcN1AWOuP3o@mail.gmail.com>

Hello,

following up on a suggestion by a user (Goyo) who also provided the
two lines of necessary changes, I updated the shaded relief plugin to
output 8bit instead of 32bit raster. This saves some space and 256
shades of grey are presumably sufficient in most, if not all
situations. There are no other changes, including in the UI. If that
change breaks some usage pattern, one could make it optional at the
expense of a toggle button in the UI. The updated plugin is available
from the pyqgis.org repository.

http://spatialserver.net/pyqgis_1.0/contributed/shadedrelief.zip

Thanks, Andreas

-- 
Andreas Plesch
20 Oxford St.
Cambridge, MA 02138
Tel: 617-495-2356
Fax:617-495-7660
From craig.leat at gmail.com  Fri Aug 27 02:12:25 2010
From: craig.leat at gmail.com (Craig Leat)
Date: Fri Aug 27 02:12:34 2010
Subject: [Qgis-developer] qgis mapserver error
Message-ID: <AANLkTimYF=KM4UPyCv+z_WJaNnd=k_Ssu=-cgJhkvxYa@mail.gmail.com>

> ls -lh /usr/lib/cgi-bin/test_qgis_mapserver/
> total 20K
> lrwxrwxrwx 1 root root ? 67 2010-08-24 09:45 qgis_mapserv.fcgi ->
> /home/luca/compilati/qgis_svn/build/src/mapserver/qgis_mapserv.fcgi
> -rwxr-xr-x 1 root root 1.5K 2010-08-24 10:06 wms_metadata.xml
> -rwxr-xr-x 1 root root 9.3K 2010-08-25 17:50 world.qgs

Why is world.qgs owned by root? I guess this file should be readable
by a normal user AND the apache process.

Regards,

Craig
From golubev at nordcomp.ru  Fri Aug 27 06:16:31 2010
From: golubev at nordcomp.ru (Golubev A.)
Date: Fri Aug 27 06:20:03 2010
Subject: [Qgis-developer] C++ plugins delete
Message-ID: <4C77907F.4020409@nordcomp.ru>

  Hi, devs!
I`m write simple C++ plugin from plugin_template for test purposes. QGIS 
not delete plugin when unload it from plugin manager. Neither 
destructor, nor QGISEXTERN void unload( QgisPlugin * thePluginPointer ) 
was called. I`m checked "copyright_label" plugin and it is not deleted 
too. Is this a bug with plugins deleting?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100827/e0d76138/attachment.html
From nsicad at gmail.com  Fri Aug 27 08:16:50 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Fri Aug 27 08:16:54 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
Message-ID: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>

Hi,

Where could I get QGIS build with GDAL 1.7.x  - Ubuntu?

It seems that QGIS 1.5 and QGIS 1.6 trunk are built using GDAL1.6.3
and python-qgis and other are using GDAL 1.7.3.

I could not open spatialite database created using the latest 2.4.0 in
QGIS built with GDAL 1.6.3.

Mac OS X QGIS 1.6 trunk works perfectly. However, I need  SciTE - no
SciTE in Mac OS X.

Noli
From aboudreault at mapgears.com  Fri Aug 27 13:35:17 2010
From: aboudreault at mapgears.com (Alan Boudreault)
Date: Fri Aug 27 13:42:02 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>
References: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>
Message-ID: <201008271335.17380.aboudreault@mapgears.com>

The qgis package of UbuntuGIS seems to be built against gdal 1.7.x.

http://trac.osgeo.org/ubuntugis/

Alan

On August 27, 2010 08:16:50 am Noli Sicad wrote:
> Hi,
> 
> Where could I get QGIS build with GDAL 1.7.x  - Ubuntu?
> 
> It seems that QGIS 1.5 and QGIS 1.6 trunk are built using GDAL1.6.3
> and python-qgis and other are using GDAL 1.7.3.
> 
> I could not open spatialite database created using the latest 2.4.0 in
> QGIS built with GDAL 1.6.3.
> 
> Mac OS X QGIS 1.6 trunk works perfectly. However, I need  SciTE - no
> SciTE in Mac OS X.
> 
> Noli
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
> 

-- 
Alan Boudreault
Mapgears
http://www.mapgears.com
From nsicad at gmail.com  Fri Aug 27 18:27:10 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Fri Aug 27 18:27:12 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <201008271335.17380.aboudreault@mapgears.com>
References: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>
	<201008271335.17380.aboudreault@mapgears.com>
Message-ID: <AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>

Hi Alan,

Qgis	1.5.0-2~lucid1 is not in repository anymore.

 I think it has been replaced by QGIS 1.6.0 + svn14153 -lucid1 which I
installed.

 Quantum GIS r14153M

In the Help Menu
Help-> About -> This copy of QGIS has been buiilt with GDAL/OCR 1.6.3.

I thought that the QGIS trunk is compiling using GDAL 1.7.3 now.

Mac OS X Qgis-dev is compiled using GDAL 1.7.3.

https://launchpad.net/~ubuntugis/+archive/ubuntugis-unstable
I am very sure that I am using this repository since all your packages
are showing in Synaptic Package Manager.

Thanks.

Noli

On 8/28/10, Alan Boudreault <aboudreault@mapgears.com> wrote:
> The qgis package of UbuntuGIS seems to be built against gdal 1.7.x.
>
> http://trac.osgeo.org/ubuntugis/
>
> Alan
>
> On August 27, 2010 08:16:50 am Noli Sicad wrote:
>> Hi,
>>
>> Where could I get QGIS build with GDAL 1.7.x  - Ubuntu?
>>
>> It seems that QGIS 1.5 and QGIS 1.6 trunk are built using GDAL1.6.3
>> and python-qgis and other are using GDAL 1.7.3.
>>
>> I could not open spatialite database created using the latest 2.4.0 in
>> QGIS built with GDAL 1.6.3.
>>
>> Mac OS X QGIS 1.6 trunk works perfectly. However, I need  SciTE - no
>> SciTE in Mac OS X.
>>
>> Noli
>> _______________________________________________
>> Qgis-developer mailing list
>> Qgis-developer@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>>
>
> --
> Alan Boudreault
> Mapgears
> http://www.mapgears.com
>
From nsicad at gmail.com  Fri Aug 27 19:33:31 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Fri Aug 27 19:33:33 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>
References: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>
	<201008271335.17380.aboudreault@mapgears.com>
	<AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>
Message-ID: <AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>

The funny thing about this built QGIS 1.6.0 is, if can't open the
spatialite it created.

Here's the steps.

1. Open shapefile
2. Save it as spatialite i.e. Sqlite
3. Remove shapefile
4. Open the newly created Sqlite

I can't open the sqlite file that QGIS created.

I don't know what is wrong.

Where could I find QGIS 1.5.0 ubuntu that can open spatialite that it
created it?

The windows QGIS, not mentioned Mac OS X  can do the above steps.

Noli
From brush.tyler at gmail.com  Fri Aug 27 21:52:50 2010
From: brush.tyler at gmail.com (Giuseppe Sucameli)
Date: Fri Aug 27 21:53:12 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>
References: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>
	<201008271335.17380.aboudreault@mapgears.com>
	<AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>
	<AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>
Message-ID: <AANLkTi=MvP1twk=71mKa1rWDUbmQ4oDGdSVYA2Ni-+Mn@mail.gmail.com>

Hi Noli,

On Sat, Aug 28, 2010 at 1:33 AM, Noli Sicad <nsicad@gmail.com> wrote:

> The funny thing about this built QGIS 1.6.0 is, if can't open the
> spatialite it created.
>
> Here's the steps.
>
> 1. Open shapefile
> 2. Save it as spatialite i.e. Sqlite
>
Maybe did you use "Save as..."?
If you did, the .sqlite you created is not a valid spatialite database
(non-spatial table inside it) but only a sqlite vector file.

To open it use "Add vector layer".

Cheers.

3. Remove shapefile
> 4. Open the newly created Sqlite
>
> I can't open the sqlite file that QGIS created.
>
> I don't know what is wrong.
>
> Where could I find QGIS 1.5.0 ubuntu that can open spatialite that it
> created it?
>
> The windows QGIS, not mentioned Mac OS X  can do the above steps.
>
> Noli
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>



-- 
Giuseppe Sucameli
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/qgis-developer/attachments/20100828/4425808e/attachment.html
From nsicad at gmail.com  Sat Aug 28 00:51:29 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sat Aug 28 00:51:31 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <AANLkTi=MvP1twk=71mKa1rWDUbmQ4oDGdSVYA2Ni-+Mn@mail.gmail.com>
References: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>
	<201008271335.17380.aboudreault@mapgears.com>
	<AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>
	<AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>
	<AANLkTi=MvP1twk=71mKa1rWDUbmQ4oDGdSVYA2Ni-+Mn@mail.gmail.com>
Message-ID: <AANLkTi=VivN2mgMnV7CWWuEyHdT2Foa=AjyM_f0e-s5k@mail.gmail.com>

>> Here's the steps.
>>
>> 1. Open shapefile
>> 2. Save it as spatialite i.e. Sqlite
>>
> Maybe did you use "Save as..."?

No. I clicked the vector layer and save sqlite.

I have been this testing for 2 weeks now, trying to find the right
version of QGIS in Windows, Mac OS X and Linux with Spatialite.

My laptop now is triple boot (Window 7, Mac OS X and Ubuntu) to find a solution.

> If you did, the .sqlite you created is not a valid spatialite database
> (non-spatial table inside it) but only a sqlite vector file.

> To open it use "Add vector layer".

I tried to do this "Add vector layer" with spatialite a week ago in
Windows 7 and Windows XP. The funny thing is QGIS tries to open it as
well and display tables to open. It should say not a valid file.

Anyway, I have been doing the same steps / processes in QGIS in
Windows and Mac OS X.  Both built can open spatialite it created. QGIS
windows has still problem with the latest spatialite 2.4.0.  But at
least it open spatialite database it created i.e. saving the vector
file into sqlite.

One of the main features of QGIS 1.5 release is how easy to save
vector files to spatialite and open it.

Building QGIS with GDAL1.7.3 would fix this problem as William did in
QGIS Mac OS X.

It seems that QGIS trunk builds is still building using GDAL 1.6 as of
27 August 2010.

Noli
From jef at norbit.de  Sat Aug 28 03:53:33 2010
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sat Aug 28 03:53:58 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <AANLkTi=VivN2mgMnV7CWWuEyHdT2Foa=AjyM_f0e-s5k@mail.gmail.com>
References: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>
	<201008271335.17380.aboudreault@mapgears.com>
	<AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>
	<AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>
	<AANLkTi=MvP1twk=71mKa1rWDUbmQ4oDGdSVYA2Ni-+Mn@mail.gmail.com>
	<AANLkTi=VivN2mgMnV7CWWuEyHdT2Foa=AjyM_f0e-s5k@mail.gmail.com>
Message-ID: <20100828075333.GA11131@norbit.de>

Hi Noli,

On Sat, 28. Aug 2010 at 14:51:29 +1000, Noli Sicad wrote:
> It seems that QGIS trunk builds is still building using GDAL 1.6 as of
> 27 August 2010.

The builds are simply using the GDAL the distribution has.  As far as I can
see only ubuntugis currently has GDAL 1.7.   That will eventually change and
once it does the nightly builds will pick it up.

You can always build you own packages - with is particulary easy on debian (and
ubuntu).   Install GDAL 1.7 from ubuntugis (or experimental - in the debian
case) and [1]


J?rgen

[1] http://www.qgis.org/wiki/Installation_Guide#Building_Debian_packages

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From cavallini at faunalia.it  Sat Aug 28 05:13:40 2010
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sat Aug 28 05:13:46 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <20100828075333.GA11131@norbit.de>
References: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>	<201008271335.17380.aboudreault@mapgears.com>	<AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>	<AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>	<AANLkTi=MvP1twk=71mKa1rWDUbmQ4oDGdSVYA2Ni-+Mn@mail.gmail.com>	<AANLkTi=VivN2mgMnV7CWWuEyHdT2Foa=AjyM_f0e-s5k@mail.gmail.com>
	<20100828075333.GA11131@norbit.de>
Message-ID: <4C78D344.8060108@faunalia.it>

Il 28/08/2010 09:53, J?rgen E. Fischer ha scritto:

> You can always build you own packages - with is particulary easy on debian (and

In case someone does it, please make the packages available to everybody.
All the best.
-- 
Paolo Cavallini: http://www.faunalia.it/pc
From nsicad at gmail.com  Sat Aug 28 05:40:16 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sat Aug 28 05:40:18 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <20100828075333.GA11131@norbit.de>
References: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>
	<201008271335.17380.aboudreault@mapgears.com>
	<AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>
	<AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>
	<AANLkTi=MvP1twk=71mKa1rWDUbmQ4oDGdSVYA2Ni-+Mn@mail.gmail.com>
	<AANLkTi=VivN2mgMnV7CWWuEyHdT2Foa=AjyM_f0e-s5k@mail.gmail.com>
	<20100828075333.GA11131@norbit.de>
Message-ID: <AANLkTimRHcuXu74uihHQM2DAH+g_91fPbJ6mKkqmJrrC@mail.gmail.com>

Hi Juergen,

Thanks for your suggestion in compiling from the source.

However, I investigated your QGIS 1.5.0.2 built and this one is
actually build with libgdal1.7.0.

I installed it and it is actually using GDAL 1.7.2 and Spatialite 2.4.0

But I could not open any spatialite that I created and also the
spatialite file (subway_test.sqlite) found in this website below.

http://gothos.info/2010/02/calculated-fields-in-spatialite-sqlite/

This is very strange bug. "nyc_pumas" (Geometry is an invalid layer
and cannot be loaded).

William's Mac OS X QGIS - QGIS-dev does not have this bug.

I will try to see what is inside that that built before compiling one.
He just did the compiling last weekend.

Thanks.

Regards, Noli




On 8/28/10, J?rgen E. <jef@norbit.de> wrote:
> Hi Noli,
>
> On Sat, 28. Aug 2010 at 14:51:29 +1000, Noli Sicad wrote:
>> It seems that QGIS trunk builds is still building using GDAL 1.6 as of
>> 27 August 2010.
>
> The builds are simply using the GDAL the distribution has.  As far as I can
> see only ubuntugis currently has GDAL 1.7.   That will eventually change and
> once it does the nightly builds will pick it up.
>
> You can always build you own packages - with is particulary easy on debian
> (and
> ubuntu).   Install GDAL 1.7 from ubuntugis (or experimental - in the debian
> case) and [1]
>
>
> J?rgen
>
> [1] http://www.qgis.org/wiki/Installation_Guide#Building_Debian_packages
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From jef at norbit.de  Sat Aug 28 07:52:22 2010
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sat Aug 28 07:52:43 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <AANLkTimRHcuXu74uihHQM2DAH+g_91fPbJ6mKkqmJrrC@mail.gmail.com>
References: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>
	<201008271335.17380.aboudreault@mapgears.com>
	<AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>
	<AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>
	<AANLkTi=MvP1twk=71mKa1rWDUbmQ4oDGdSVYA2Ni-+Mn@mail.gmail.com>
	<AANLkTi=VivN2mgMnV7CWWuEyHdT2Foa=AjyM_f0e-s5k@mail.gmail.com>
	<20100828075333.GA11131@norbit.de>
	<AANLkTimRHcuXu74uihHQM2DAH+g_91fPbJ6mKkqmJrrC@mail.gmail.com>
Message-ID: <20100828115222.GA26643@norbit.de>

Hi Noli,

On Sat, 28. Aug 2010 at 19:40:16 +1000, Noli Sicad wrote:
> Thanks for your suggestion in compiling from the source.
 
> However, I investigated your QGIS 1.5.0.2 built and this one is
> actually build with libgdal1.7.0.

Sure.  As said earlier ubuntugis has GDAL 1.7 and the QGIS version in ubuntugis
uses it.

And for the other builds spatialite support through the spatialite provider
will also work just fine (ie. Layer/Add Spatialite Layer or Layer/New
Spatialite Layer).

But "Save As" doesn't use the spatialite provider but OGR.  So for that
SpatiaLite support is up to GDAL/OGR.  AFAIK earlier versions of GDAL didn't
have a clear distinction between SQLite and SpatiaLite - so you don't know if
sqlite means SQLite and SpatiaLite unless you check how GDAL was built.  I'm
not even sure GDAL 1.7 changes that - but it probably usually always built with
spatialite.


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From nsicad at gmail.com  Sat Aug 28 09:02:42 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sat Aug 28 09:02:44 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <20100828115222.GA26643@norbit.de>
References: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>
	<201008271335.17380.aboudreault@mapgears.com>
	<AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>
	<AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>
	<AANLkTi=MvP1twk=71mKa1rWDUbmQ4oDGdSVYA2Ni-+Mn@mail.gmail.com>
	<AANLkTi=VivN2mgMnV7CWWuEyHdT2Foa=AjyM_f0e-s5k@mail.gmail.com>
	<20100828075333.GA11131@norbit.de>
	<AANLkTimRHcuXu74uihHQM2DAH+g_91fPbJ6mKkqmJrrC@mail.gmail.com>
	<20100828115222.GA26643@norbit.de>
Message-ID: <AANLkTi=iYM-rKEejCU0yvgY9iXpurkvKOYKBeA+zb-mA@mail.gmail.com>

Hi Juergen

> And for the other builds spatialite support through the spatialite provider
> will also work just fine (ie. Layer/Add Spatialite Layer or Layer/New
> Spatialite Layer).

QGIS 1.5.0.2 has problem with these processes. Mac OS version can do
these operations.

> But "Save As" doesn't use the spatialite provider but OGR.  So for that
> SpatiaLite support is up to GDAL/OGR.  AFAIK earlier versions of GDAL didn't
> have a clear distinction between SQLite and SpatiaLite - so you don't know
> if
> sqlite means SQLite and SpatiaLite unless you check how GDAL was built.  I'm
> not even sure GDAL 1.7 changes that - but it probably usually always built
> with spatialite.

Mac OS version has the same problem. It saves as sqlite, not spatialite.

Right now, "Saves As" should be avoid if we can dealing with Spatialite.

I hope this will be fixed or remove from the listbox as option.

Noli
From nsicad at gmail.com  Sat Aug 28 22:00:15 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sat Aug 28 22:00:17 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <AANLkTi=iYM-rKEejCU0yvgY9iXpurkvKOYKBeA+zb-mA@mail.gmail.com>
References: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>
	<201008271335.17380.aboudreault@mapgears.com>
	<AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>
	<AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>
	<AANLkTi=MvP1twk=71mKa1rWDUbmQ4oDGdSVYA2Ni-+Mn@mail.gmail.com>
	<AANLkTi=VivN2mgMnV7CWWuEyHdT2Foa=AjyM_f0e-s5k@mail.gmail.com>
	<20100828075333.GA11131@norbit.de>
	<AANLkTimRHcuXu74uihHQM2DAH+g_91fPbJ6mKkqmJrrC@mail.gmail.com>
	<20100828115222.GA26643@norbit.de>
	<AANLkTi=iYM-rKEejCU0yvgY9iXpurkvKOYKBeA+zb-mA@mail.gmail.com>
Message-ID: <AANLkTimOEOGgF2p-H0UHpHo=-WKD=bYjw1td=NWaGj+H@mail.gmail.com>

Hi Juergen,

I still have problem opening spatialite database / files  in trunk
version - Quantum GIS - 1.6.0-Trunk 'Trunk' (14162M).

I am using Ubuntu 10.04. I think there is no problem with ubuntu 9.10,
as some of the users are indicated before.

Anybody using Ubuntu 10.04 and can open spatialite database and what
versions of QGIS, spatialite, ogr2org, etc.

The mac os x QGIS-dev has almost same libraries used in QGIS 1.5.0.2
lucid except the Qt 4.6.3 instead of Qt4.6.2.

Here's log files of various versions of the libraries used in
1.6.0-Trunk 'Trunk' (14162M).

noli@noli-laptop:~$ cat /etc/issue
Ubuntu 10.04 LTS \n \l

noli@noli-laptop:~$ ogr2org -version
No command 'ogr2org' found, did you mean:
 Command 'ogr2ogr' from package 'gdal-bin' (universe)
ogr2org: command not found
noli@noli-laptop:~$ ogr2org --version
No command 'ogr2org' found, did you mean:
 Command 'ogr2ogr' from package 'gdal-bin' (universe)
ogr2org: command not found
noli@noli-laptop:~$ org2org --version
org2org: command not found
noli@noli-laptop:~$ ogr2ogr --version
GDAL 1.7.2, released 2010/04/23
noli@noli-laptop:~$ spatialite --version
SpatiaLite version ..: 2.4.0	Supported Extensions:
	- 'VirtualShape'	[direct Shapefile access]
	- 'VirtualDbf'		[direct DBF access]
	- 'VirtualText'		[direct CSV/TXT access]
	- 'VirtualNetwork'	[Dijkstra shortest path]
	- 'RTree'		[Spatial Index - R*Tree]
	- 'MbrCache'		[Spatial Index - MBR cache]
	- 'VirtualFDO'		[FDO-OGR interoperability]
	- 'SpatiaLite'		[Spatial SQL - OGC]
PROJ.4 version ......: Rel. 4.7.1, 23 September 2009
GEOS version ........: 3.2.2-CAPI-1.6.2
3.6.22
noli@noli-laptop:~$ qgis --version
qgis: unrecognized option '--version'
Quantum GIS - 1.6.0-Trunk 'Trunk' (14162M)
Quantum GIS (QGIS) is a viewer for spatial data sets, including
raster and vector data.
Usage: qgis [options] [FILES]
  options:
	[--snapshot filename]	emit snapshot of loaded datasets to given file
	[--width width]	width of snapshot to emit
	[--height height]	height of snapshot to emit
	[--lang language]	use language for interface text
	[--project projectfile]	load the given QGIS project
	[--extent xmin,ymin,xmax,ymax]	set initial map extent
	[--nologo]	hide splash screen
	[--noplugins]	don't restore plugins on startup
	[--optionspath path]	use the given QSettings path
	[--configpath path]	use the given path for all user configuration
	[--help]		this text

  FILES:
    Files specified on the command line can include rasters,
    vectors, and QGIS project files (.qgs):
     1. Rasters - Supported formats include GeoTiff, DEM
        and others supported by GDAL
     2. Vectors - Supported formats include ESRI Shapefiles
        and others supported by OGR and PostgreSQL layers using
        the PostGIS extension
noli@noli-laptop:~$ qgis --version
qgis: unrecognized option '--version'
Quantum GIS - 1.6.0-Trunk 'Trunk' (14162M)
Quantum GIS (QGIS) is a viewer for spatial data sets, including
raster and vector data.
Usage: qgis [options] [FILES]
  options:
	[--snapshot filename]	emit snapshot of loaded datasets to given file
	[--width width]	width of snapshot to emit
	[--height height]	height of snapshot to emit
	[--lang language]	use language for interface text
	[--project projectfile]	load the given QGIS project
	[--extent xmin,ymin,xmax,ymax]	set initial map extent
	[--nologo]	hide splash screen
	[--noplugins]	don't restore plugins on startup
	[--optionspath path]	use the given QSettings path
	[--configpath path]	use the given path for all user configuration
	[--help]		this text

  FILES:
    Files specified on the command line can include rasters,
    vectors, and QGIS project files (.qgs):
     1. Rasters - Supported formats include GeoTiff, DEM
        and others supported by GDAL
     2. Vectors - Supported formats include ESRI Shapefiles
        and others supported by OGR and PostgreSQL layers using
        the PostGIS extension
noli@noli-laptop:~$ clear

noli@noli-laptop:~$ cat /etc/issue
Ubuntu 10.04 LTS \n \l

noli@noli-laptop:~$ ogr2ogr --version
GDAL 1.7.2, released 2010/04/23
noli@noli-laptop:~$ spatialite --version
SpatiaLite version ..: 2.4.0	Supported Extensions:
	- 'VirtualShape'	[direct Shapefile access]
	- 'VirtualDbf'		[direct DBF access]
	- 'VirtualText'		[direct CSV/TXT access]
	- 'VirtualNetwork'	[Dijkstra shortest path]
	- 'RTree'		[Spatial Index - R*Tree]
	- 'MbrCache'		[Spatial Index - MBR cache]
	- 'VirtualFDO'		[FDO-OGR interoperability]
	- 'SpatiaLite'		[Spatial SQL - OGC]
PROJ.4 version ......: Rel. 4.7.1, 23 September 2009
GEOS version ........: 3.2.2-CAPI-1.6.2
3.6.22
noli@noli-laptop:~$ qgis --version
qgis: unrecognized option '--version'
Quantum GIS - 1.6.0-Trunk 'Trunk' (14162M)
Quantum GIS (QGIS) is a viewer for spatial data sets, including
raster and vector data.

Thanks.

Noli
From tech_dev at wildintellect.com  Sat Aug 28 23:49:51 2010
From: tech_dev at wildintellect.com (Alex Mandel)
Date: Sat Aug 28 23:49:37 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <AANLkTimOEOGgF2p-H0UHpHo=-WKD=bYjw1td=NWaGj+H@mail.gmail.com>
References: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>	<201008271335.17380.aboudreault@mapgears.com>	<AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>	<AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>	<AANLkTi=MvP1twk=71mKa1rWDUbmQ4oDGdSVYA2Ni-+Mn@mail.gmail.com>	<AANLkTi=VivN2mgMnV7CWWuEyHdT2Foa=AjyM_f0e-s5k@mail.gmail.com>	<20100828075333.GA11131@norbit.de>	<AANLkTimRHcuXu74uihHQM2DAH+g_91fPbJ6mKkqmJrrC@mail.gmail.com>	<20100828115222.GA26643@norbit.de>	<AANLkTi=iYM-rKEejCU0yvgY9iXpurkvKOYKBeA+zb-mA@mail.gmail.com>
	<AANLkTimOEOGgF2p-H0UHpHo=-WKD=bYjw1td=NWaGj+H@mail.gmail.com>
Message-ID: <4C79D8DF.20302@wildintellect.com>

On 08/28/2010 07:00 PM, Noli Sicad wrote:
> Hi Juergen,
> 
> I still have problem opening spatialite database / files  in trunk
> version - Quantum GIS - 1.6.0-Trunk 'Trunk' (14162M).
> 
> I am using Ubuntu 10.04. I think there is no problem with ubuntu 9.10,
> as some of the users are indicated before.
> 
> Anybody using Ubuntu 10.04 and can open spatialite database and what
> versions of QGIS, spatialite, ogr2org, etc.
> 
> The mac os x QGIS-dev has almost same libraries used in QGIS 1.5.0.2
> lucid except the Qt 4.6.3 instead of Qt4.6.2.
> 
> Here's log files of various versions of the libraries used in
> 1.6.0-Trunk 'Trunk' (14162M).
> 

So I'm on Ubuntu 10.04, using QGIS, GDAL/OGR from the Ubuntgis unstable
repo.

I can make a new Spatialite layer using Layer->New->New Spatialite
Layer. I believe this is the only correct way to make a Spatialite layer
in the current version, Not 'Save As' that is OGR sqlite only. It is
editable, saveable and loadable. Note QGIS uses a built in Spatialite in
this case, I do not have spatialite installed on the system.

I can also verify that I can open Spatialite layers created with older
versions of Spatialite directly in QGIS.

You might want to start fresh with just what you get from the Ubuntugis
repos. Mixing and matching with custom compiled can easily lead to
multiple conflicting versions of libraries on your system path.

Thanks,
Alex
From nsicad at gmail.com  Sun Aug 29 00:32:49 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sun Aug 29 00:32:50 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <4C79D8DF.20302@wildintellect.com>
References: <AANLkTim7fvVcRh7NfHGeZA1k+200+ko3gSFRGTOrg+TJ@mail.gmail.com>
	<201008271335.17380.aboudreault@mapgears.com>
	<AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>
	<AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>
	<AANLkTi=MvP1twk=71mKa1rWDUbmQ4oDGdSVYA2Ni-+Mn@mail.gmail.com>
	<AANLkTi=VivN2mgMnV7CWWuEyHdT2Foa=AjyM_f0e-s5k@mail.gmail.com>
	<20100828075333.GA11131@norbit.de>
	<AANLkTimRHcuXu74uihHQM2DAH+g_91fPbJ6mKkqmJrrC@mail.gmail.com>
	<20100828115222.GA26643@norbit.de>
	<AANLkTi=iYM-rKEejCU0yvgY9iXpurkvKOYKBeA+zb-mA@mail.gmail.com>
	<AANLkTimOEOGgF2p-H0UHpHo=-WKD=bYjw1td=NWaGj+H@mail.gmail.com>
	<4C79D8DF.20302@wildintellect.com>
Message-ID: <AANLkTi=_XsYJ60fXUR+GB6bBQAWGpqTH1eO+CC7F6MYe@mail.gmail.com>

Hi Alex,

Thanks for your reply.

> I can make a new Spatialite layer using Layer->New->New Spatialite
> Layer. I believe this is the only correct way to make a Spatialite layer
> in the current version, Not 'Save As' that is OGR sqlite only. It is
> editable, saveable and loadable. Note QGIS uses a built in Spatialite in
> this case, I do not have spatialite installed on the system.

Yes, I understand, the New Spatialite layer and QGIS has its own
spatialite provider compiled wtih QGIS.

My problem is, I am not creating any spatialite layer in QGIS, I like
to view and edit spatialite created outside QGIS. The one that I am
testing in opening in QGIS ubuntu has been open in Mac OS X QGIS-dev.
I could not open the old and new spatialite, or any spatialite files
in QGIS ubuntu.

> I can also verify that I can open Spatialite layers created with older
> versions of Spatialite directly in QGIS.

> You might want to start fresh with just what you get from the Ubuntugis
> repos. Mixing and matching with custom compiled can easily lead to
> multiple conflicting versions of libraries on your system path.

Which version of QGIS are you using that is working spatialite? This
version QGIS 1.5.0.2, right. Did you get it from this repository.

sudo apt-get install add-apt-repository
sudo add-apt-repository ppa:ubuntugis/ubuntugis-unstable
sudo aptitude install qgis

As mentioned in my previous posting, I am using QGIS 1.5.0.2 and
QGIS1.6 trunk created by Juergen with no success. When I installed
these two versions, one at the time, it actually picked the right
library it was compiled as features of linux system. It does not mix
and match until you compile your own version of QGIS. I have not done
any compiling yet.

I really like to get your version that is working. My ubuntu 10.04 is
really clean since I just installed it 2 days ago and beside beside I
am using the stock sqlite3 and spatialite that comes with ubuntu
10.04, not the new versions of sqlite and spatialite 2.4.0 r3a.

Do you know any other repository e.g. Xubuntu 10.04 that has QGIS that
is working with Spatialite?

Thanks.

Noli
From jef at norbit.de  Sun Aug 29 03:01:18 2010
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Sun Aug 29 03:01:41 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <AANLkTimOEOGgF2p-H0UHpHo=-WKD=bYjw1td=NWaGj+H@mail.gmail.com>
References: <201008271335.17380.aboudreault@mapgears.com>
	<AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>
	<AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>
	<AANLkTi=MvP1twk=71mKa1rWDUbmQ4oDGdSVYA2Ni-+Mn@mail.gmail.com>
	<AANLkTi=VivN2mgMnV7CWWuEyHdT2Foa=AjyM_f0e-s5k@mail.gmail.com>
	<20100828075333.GA11131@norbit.de>
	<AANLkTimRHcuXu74uihHQM2DAH+g_91fPbJ6mKkqmJrrC@mail.gmail.com>
	<20100828115222.GA26643@norbit.de>
	<AANLkTi=iYM-rKEejCU0yvgY9iXpurkvKOYKBeA+zb-mA@mail.gmail.com>
	<AANLkTimOEOGgF2p-H0UHpHo=-WKD=bYjw1td=NWaGj+H@mail.gmail.com>
Message-ID: <20100829070118.GA11614@norbit.de>

Hi Noli,

On Sun, 29. Aug 2010 at 12:00:15 +1000, Noli Sicad wrote:
> I still have problem opening spatialite database / files  in trunk
> version - Quantum GIS - 1.6.0-Trunk 'Trunk' (14162M).

Ok, let me repeat our earlier findings (with some additional info).

Creating and using SpatiaLite databases via the SpatiaLite provider (New
SpatiaLite Layer/Add SpatiaLite Layer) should work with any QGIS.

But to create SpatiaLite databases using the QgsVectorFileWriter class (Save As)
or use them via the OGR provider (Add Vector Layer) requires a QGIS linked to
GDAL 1.7 that in turn is linked with SpatiaLite 2.4.

The only public available Linux build I know that has that is the ubuntugis
build of QGIS 1.5 - because ubuntugis' GDAL 1.7 has SpatiaLite support.

The nightly debian builds are built against the GDAL the respective
distribution has.  Which is commonly earlier than GDAL 1.7 and therefore
doesn't include SpatiaLite support.

So unless you install a GDAL 1.7 from ubuntugis (or Debian experimental) and
use a QGIS build against it (QGIS 1.5 from ubuntugis or your own build), you
won't have SpatiaLite support in "Save As" and the OGR provider.  SQLite
support is probably there, but that's different from SpatiaLite.

Which version of SpatiaLite is in use in the SpatiaLite provider is determined
by whether or not the build is using the system's SpatiaLite or the qgis'
internal SpatiaLite.

The nightly trunk builds for Debian Squeeze and unstable and Ubuntu Lucid and
Maverick use the system's SpatiaLite, all others (read Debian Lenny) use
internal SpatiaLite, which currently is 2.4.0.  

When unstable and Maverick contain GDAL 1.7 the nightly builds with pick it up
automatically.  So eventually the "problem" with the nightly builds will solve
itself.

> Anybody using Ubuntu 10.04 and can open spatialite database and what
> versions of QGIS, spatialite, ogr2org, etc.

The tool is called ogr2ogr.   But you could even have multiple libaries and
therefore have a GDAL 1.7 ogr2ogr (from gdal-bin), but a QGIS that still uses
an earlier GDAL.

The version of GDAL your OGR provider is using is shown by

  ldd /usr/lib/qgis/plugins/libogrprovider.so | grep gdal

And the version of system SpatiaLite, if any, the SpatiaLite provider uses is
shown by

  ldd /usr/lib/qgis/plugins/libspatialiteprovider.so | grep spatialite

You can also check the about box to see the versions QGIS was built with (which
still might not necessarily be the currently installed and running versions).


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From nsicad at gmail.com  Sun Aug 29 06:06:31 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sun Aug 29 06:06:35 2010
Subject: [Qgis-developer] QGIS build with GDAL 1.7.x - Ubuntu
In-Reply-To: <20100829070118.GA11614@norbit.de>
References: <201008271335.17380.aboudreault@mapgears.com>
	<AANLkTi=CyJsERL4Bo53r0EuMun1eZ+qyhgw6j8NNn3dH@mail.gmail.com>
	<AANLkTimkeqS=HGjm1ZuNcsXjCCnww=yGRf4fAG50xohy@mail.gmail.com>
	<AANLkTi=MvP1twk=71mKa1rWDUbmQ4oDGdSVYA2Ni-+Mn@mail.gmail.com>
	<AANLkTi=VivN2mgMnV7CWWuEyHdT2Foa=AjyM_f0e-s5k@mail.gmail.com>
	<20100828075333.GA11131@norbit.de>
	<AANLkTimRHcuXu74uihHQM2DAH+g_91fPbJ6mKkqmJrrC@mail.gmail.com>
	<20100828115222.GA26643@norbit.de>
	<AANLkTi=iYM-rKEejCU0yvgY9iXpurkvKOYKBeA+zb-mA@mail.gmail.com>
	<AANLkTimOEOGgF2p-H0UHpHo=-WKD=bYjw1td=NWaGj+H@mail.gmail.com>
	<20100829070118.GA11614@norbit.de>
Message-ID: <AANLkTikhs-REK0ZiQfGmw8uujukPco74UXq5-4OXHOoJ@mail.gmail.com>

Hi Juergen and Alex

I solve the problem in New/Add Spatialite Layer.

The spatialite CLI 2.4.0r3a is actually intervening the QGIS
SpatiaLite provider (New
SpatiaLite Layer/Add SpatiaLite Layer.

I thought QGIS uses libspatialite and Spatialite binary does not
interact with QGIS.

I make unistalled Spatialite 2.4.0r3a and QGIS 1.5.0.2 works. This is
what happening to me in Windows as well. In Mac OS X, I don't install
the CLI spatialite, hence it is working properly.

Thanks for your patient on dealing this problem.

Now, we know why QGIS is not working when someone has been working
with spatialite CLI before installing QGIS.

Thanks.

Noli






On 8/29/10, J?rgen E. <jef@norbit.de> wrote:
> Hi Noli,
>
> On Sun, 29. Aug 2010 at 12:00:15 +1000, Noli Sicad wrote:
>> I still have problem opening spatialite database / files  in trunk
>> version - Quantum GIS - 1.6.0-Trunk 'Trunk' (14162M).
>
> Ok, let me repeat our earlier findings (with some additional info).
>
> Creating and using SpatiaLite databases via the SpatiaLite provider (New
> SpatiaLite Layer/Add SpatiaLite Layer) should work with any QGIS.
>
> But to create SpatiaLite databases using the QgsVectorFileWriter class (Save
> As)
> or use them via the OGR provider (Add Vector Layer) requires a QGIS linked
> to
> GDAL 1.7 that in turn is linked with SpatiaLite 2.4.
>
> The only public available Linux build I know that has that is the ubuntugis
> build of QGIS 1.5 - because ubuntugis' GDAL 1.7 has SpatiaLite support.
>
> The nightly debian builds are built against the GDAL the respective
> distribution has.  Which is commonly earlier than GDAL 1.7 and therefore
> doesn't include SpatiaLite support.
>
> So unless you install a GDAL 1.7 from ubuntugis (or Debian experimental) and
> use a QGIS build against it (QGIS 1.5 from ubuntugis or your own build), you
> won't have SpatiaLite support in "Save As" and the OGR provider.  SQLite
> support is probably there, but that's different from SpatiaLite.
>
> Which version of SpatiaLite is in use in the SpatiaLite provider is
> determined
> by whether or not the build is using the system's SpatiaLite or the qgis'
> internal SpatiaLite.
>
> The nightly trunk builds for Debian Squeeze and unstable and Ubuntu Lucid
> and
> Maverick use the system's SpatiaLite, all others (read Debian Lenny) use
> internal SpatiaLite, which currently is 2.4.0.
>
> When unstable and Maverick contain GDAL 1.7 the nightly builds with pick it
> up
> automatically.  So eventually the "problem" with the nightly builds will
> solve
> itself.
>
>> Anybody using Ubuntu 10.04 and can open spatialite database and what
>> versions of QGIS, spatialite, ogr2org, etc.
>
> The tool is called ogr2ogr.   But you could even have multiple libaries and
> therefore have a GDAL 1.7 ogr2ogr (from gdal-bin), but a QGIS that still
> uses
> an earlier GDAL.
>
> The version of GDAL your OGR provider is using is shown by
>
>   ldd /usr/lib/qgis/plugins/libogrprovider.so | grep gdal
>
> And the version of system SpatiaLite, if any, the SpatiaLite provider uses
> is
> shown by
>
>   ldd /usr/lib/qgis/plugins/libspatialiteprovider.so | grep spatialite
>
> You can also check the about box to see the versions QGIS was built with
> (which
> still might not necessarily be the currently installed and running
> versions).
>
>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From cavallini at faunalia.it  Sun Aug 29 10:02:29 2010
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun Aug 29 10:02:35 2010
Subject: [Qgis-developer] qgis-mapserver docs
Message-ID: <4C7A6875.8010809@faunalia.it>

Hi all.
First tests with the server, nice and easy! Very slow at startup, even when I added
only a couple of EPSG to the project.
Just a couple of things:
- manual in http://karlinapp.ethz.ch/qgis_wms/documentation/index.html seems
outdated; could please someone update it to the latest version, and integrate it to
the main QGIS manual?
- in my installation (debs compiled from trunk), I cannot find the Publish to Web
plugin: should this be fixed?
All the best.
-- 
Paolo Cavallini: http://www.faunalia.it/pc
From cavallini at faunalia.it  Sun Aug 29 10:25:01 2010
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Sun Aug 29 10:25:17 2010
Subject: [Qgis-developer] qgis-mapserver docs
In-Reply-To: <4C7A6875.8010809@faunalia.it>
References: <4C7A6875.8010809@faunalia.it>
Message-ID: <4C7A6DBD.9020709@faunalia.it>

Il 29/08/2010 16:02, Paolo Cavallini ha scritto:

> - in my installation (debs compiled from trunk), I cannot find the Publish to Web
> plugin: should this be fixed?

Apparently the plugin is no longer used: so is the admin.sld file still useful? If
so, how should it be edited?
All the best.
-- 
Paolo Cavallini: http://www.faunalia.it/pc
From nsicad at gmail.com  Sun Aug 29 10:56:06 2010
From: nsicad at gmail.com (Noli Sicad)
Date: Sun Aug 29 10:56:08 2010
Subject: [Qgis-developer] qgis-mapserver docs
In-Reply-To: <4C7A6DBD.9020709@faunalia.it>
References: <4C7A6875.8010809@faunalia.it>
	<4C7A6DBD.9020709@faunalia.it>
Message-ID: <AANLkTinHxV_hDHk1pQgFrWoVk78neRrGTGwi+kkwjt0v@mail.gmail.com>

I hope QGIS has html user manual aside from pdf manual.

It offers quick and easy access to what you need rather than
downloading the whole pdf which is quite big (e.g. 2 Mb) because of
the screenshots and figures. If you are user in the developing
countries or with a slow internet connection you don't want to
download this pdf manuals if it is bigger than 1 Mb.

Html / website user manual promotes / offers visibility of the project
as well for example uDig has friendly manuals. Aside from it, it is
harder to read pdf manual when the manual has more than 10 pages.

http://www.refractions.net:8080/confluence/display/DEV/Home

Probably we should consider Wiki Book /Wiki for QGIS, so users can
contribute as well. The QGIS plugins need documentation.

Noli



On 8/30/10, Paolo Cavallini <cavallini@faunalia.it> wrote:
> Il 29/08/2010 16:02, Paolo Cavallini ha scritto:
>
>> - in my installation (debs compiled from trunk), I cannot find the Publish
>> to Web
>> plugin: should this be fixed?
>
> Apparently the plugin is no longer used: so is the admin.sld file still
> useful? If
> so, how should it be edited?
> All the best.
> --
> Paolo Cavallini: http://www.faunalia.it/pc
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
>
From jr.morreale at enoreth.net  Sun Aug 29 13:37:23 2010
From: jr.morreale at enoreth.net (MORREALE Jean Roc)
Date: Sun Aug 29 13:37:29 2010
Subject: [Qgis-developer] HTML manual
In-Reply-To: <AANLkTinHxV_hDHk1pQgFrWoVk78neRrGTGwi+kkwjt0v@mail.gmail.com>
References: <4C7A6875.8010809@faunalia.it>	<4C7A6DBD.9020709@faunalia.it>
	<AANLkTinHxV_hDHk1pQgFrWoVk78neRrGTGwi+kkwjt0v@mail.gmail.com>
Message-ID: <4C7A9AD3.3000008@enoreth.net>

Please don't hijack thread as it make harder to follow the discussion.

Le 29/08/2010 16:56, Noli Sicad a ?crit :
> I hope QGIS has html user manual aside from pdf manual.
>
> It offers quick and easy access to what you need rather than
> downloading the whole pdf which is quite big (e.g. 2 Mb) because of
> the screenshots and figures. If you are user in the developing
> countries or with a slow internet connection you don't want to
> download this pdf manuals if it is bigger than 1 Mb.

An html version of the latex manual is on my ToDo-list but it isn't as 
simple as I expected. A latex version without any figures can be 
compiled easily if needed.

> Html / website user manual promotes / offers visibility of the
> project as well for example uDig has friendly manuals. Aside from it,
> it is harder to read pdf manual when the manual has more than 10
> pages.

The embedded pdf bookmarks are a killer feature, that and being able to 
drop a pdf on a usb key with the certitude that my technicians will be 
able to open it.

> Probably we should consider Wiki Book /Wiki for QGIS, so users can
> contribute as well. The QGIS plugins need documentation.

I'm all for it, the easiness of the contribution would be a definite 
and mediawiki (at least the one used by osgeo.org) allows to print a pdf.

But I'll not be the one doing the port :p
From otto.dassau at gmx.de  Mon Aug 30 03:42:22 2010
From: otto.dassau at gmx.de (Otto Dassau)
Date: Mon Aug 30 03:39:07 2010
Subject: [Qgis-developer] HTML manual
In-Reply-To: <4C7A9AD3.3000008@enoreth.net>
References: <4C7A6875.8010809@faunalia.it> <4C7A6DBD.9020709@faunalia.it>
	<AANLkTinHxV_hDHk1pQgFrWoVk78neRrGTGwi+kkwjt0v@mail.gmail.com>
	<4C7A9AD3.3000008@enoreth.net>
Message-ID: <20100830094222.1387a3ac@nature.site>

Hi,

i think we should put the html user manual on the task list for the hackfest
in November in Wrozlaw. I could help with that there and then. I added a
note to the Wrozlaw page. 

http://www.qgis.org/wiki/4._QGIS_Hackfest_in_Wroclaw_2010

We can discuss the ideas and improvements now and add them to the
ManualTasks (I started a new section): 
http://www.qgis.org/wiki/ManualTasks

Regards,
 Otto

Am Sun, 29 Aug 2010 19:37:23 +0200
schrieb MORREALE Jean Roc <jr.morreale@enoreth.net>:

> Please don't hijack thread as it make harder to follow the discussion.
> 
> Le 29/08/2010 16:56, Noli Sicad a ?crit :
> > I hope QGIS has html user manual aside from pdf manual.
> >
> > It offers quick and easy access to what you need rather than
> > downloading the whole pdf which is quite big (e.g. 2 Mb) because of
> > the screenshots and figures. If you are user in the developing
> > countries or with a slow internet connection you don't want to
> > download this pdf manuals if it is bigger than 1 Mb.
> 
> An html version of the latex manual is on my ToDo-list but it isn't as 
> simple as I expected. A latex version without any figures can be 
> compiled easily if needed.
> 
> > Html / website user manual promotes / offers visibility of the
> > project as well for example uDig has friendly manuals. Aside from it,
> > it is harder to read pdf manual when the manual has more than 10
> > pages.
> 
> The embedded pdf bookmarks are a killer feature, that and being able to 
> drop a pdf on a usb key with the certitude that my technicians will be 
> able to open it.
> 
> > Probably we should consider Wiki Book /Wiki for QGIS, so users can
> > contribute as well. The QGIS plugins need documentation.
> 
> I'm all for it, the easiness of the contribution would be a definite 
> and mediawiki (at least the one used by osgeo.org) allows to print a pdf.
> 
> But I'll not be the one doing the port :p
> _______________________________________________
> Qgis-developer mailing list
> Qgis-developer@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-developer
